commit 9c85a04580bcadc3b5da91f380334a860c1fdc7e
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Nov 20 20:06:30 2019 -0600

    Add schema hash to tablet proc info (#2257)

 fe/src/main/java/org/apache/doris/common/proc/TabletsProcDir.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 88236de63ec053697e42c466adcd116245cd07f9
Author: caiconghui <55968745+caiconghui@users.noreply.github.com>
Date:   Wed Nov 20 19:02:34 2019 +0800

    Fix bug for showing columns from non exist table doesn't prompt error (#2254)

 fe/src/main/java/org/apache/doris/qe/ShowExecutor.java | 4 ++++
 1 file changed, 4 insertions(+)

commit d72fbdf4254558140160a289d7b0ebed4f04aae9
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Wed Nov 20 13:51:21 2019 +0800

    Support bitmap index build (#2050)
    
    This PR implements the build part of bitmap index support. It follows most of the design described in #1684 , but with the following differences and enhancements
    
    1. Bitmap indexes are now written in the segment file for simplicity. Separate index file would be helpful when we're going to support `alter table add bitmap index` in the future though.
    2. We switch to a generalized index page format for all data types rather than specialize for each one. Code simplicity and reusability is preferred here than optimal compression rate.
    3. We introduce a new abstraction called `IndexedColumn` to unify the processing of the dictionary section and bitmap section of bitmap index. IndexedColumn is a column with an optional ordinal index and an optional value index. Ordinal index enables us to seek to a particular rowid within the column. Value index requires IndexedColumn to store ordered values and enables us to seek to a particular value. Therefore, the dictionary section can be represented by an IndexedColumn with value index and the bitmap section can be represented by an IndexedColumn with ordinal index.

 be/src/olap/CMakeLists.txt                         |   4 +
 be/src/olap/key_coder.cpp                          |   7 +-
 be/src/olap/key_coder.h                            |  53 ++++--
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |   4 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |   1 +
 .../olap/rowset/segment_v2/bitmap_index_reader.cpp |  26 +++
 .../olap/rowset/segment_v2/bitmap_index_reader.h   |  28 +++
 .../olap/rowset/segment_v2/bitmap_index_writer.cpp | 206 +++++++++++++++++++++
 .../olap/rowset/segment_v2/bitmap_index_writer.h   |  51 +++++
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |   2 +-
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  23 +++
 be/src/olap/rowset/segment_v2/column_writer.h      |   5 +
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |  85 ++++++---
 be/src/olap/rowset/segment_v2/encoding_info.h      |   8 +-
 be/src/olap/rowset/segment_v2/index_page.cpp       | 124 +++++++++++++
 be/src/olap/rowset/segment_v2/index_page.h         | 142 ++++++++++++++
 .../rowset/segment_v2/indexed_column_reader.cpp    |  72 +++++++
 .../olap/rowset/segment_v2/indexed_column_reader.h |  93 ++++++++++
 .../rowset/segment_v2/indexed_column_writer.cpp    | 188 +++++++++++++++++++
 .../olap/rowset/segment_v2/indexed_column_writer.h | 125 +++++++++++++
 be/src/olap/rowset/segment_v2/page_builder.h       |   4 +-
 be/src/olap/rowset/segment_v2/page_decoder.h       |  18 ++
 be/src/olap/rowset/segment_v2/page_pointer.h       |   7 +
 be/src/olap/rowset/segment_v2/rle_page.h           |  11 +-
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |  11 +-
 be/src/olap/rowset/segment_v2/segment_writer.h     |   1 +
 be/src/util/coding.h                               |  26 +++
 gensrc/proto/segment_v2.proto                      |  62 ++++++-
 28 files changed, 1327 insertions(+), 60 deletions(-)

commit aedccc4ec4071aa41afb34f67a0dcd4688656923
Author: kangpinghuang <kphuang@163.com>
Date:   Wed Nov 20 13:03:58 2019 +0800

    fix npe for null stats (#2253)

 be/src/olap/rowset/beta_rowset_reader.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46005bf6bab432c37ec37879f75d8a7347a58ee3
Author: caiconghui <55968745+caiconghui@users.noreply.github.com>
Date:   Wed Nov 20 10:02:04 2019 +0800

    Fix bug for show create table statement with unique key types (#2231)

 fe/src/main/java/org/apache/doris/analysis/CreateTableStmt.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9be86a3db895a450ffa89eb32650a128327a4602
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Nov 19 19:58:52 2019 -0600

    Add gutil split and strip tool (#2238)
    
    With these two tools, we can very easily perform splitting
    and trimming operations on strings.
    
    The subsequent PR will use them to replace the existing
    `boost::split()` and `boost::trim()`

 be/src/gutil/CMakeLists.txt           |    2 +
 be/src/gutil/logging-inl.h            |   50 ++
 be/src/gutil/strings/split.cc         | 1091 +++++++++++++++++++++++++++++
 be/src/gutil/strings/split.h          | 1205 +++++++++++++++++++++++++++++++++
 be/src/gutil/strings/split_internal.h |  413 +++++++++++
 be/src/gutil/strings/strip.cc         |  384 +++++++++++
 be/src/gutil/strings/strip.h          |  272 ++++++++
 7 files changed, 3417 insertions(+)

commit 9b5eeaec19d0c4dbf8fbb83e31f58a9f187f73e5
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Nov 20 09:49:09 2019 +0800

    Fix bug that DeployManager should start working after catalog is ready. (#2244)
    
    Otherwise, it can not get master ip/port from not-ready catalog.

 fe/src/main/java/org/apache/doris/deploy/DeployManager.java   | 6 ++++++
 fe/src/main/java/org/apache/doris/qe/Coordinator.java         | 6 +++---
 fe/src/main/java/org/apache/doris/qe/ResultReceiver.java      | 4 ++--
 fe/src/main/java/org/apache/doris/qe/SimpleScheduler.java     | 2 +-
 fe/src/test/java/org/apache/doris/qe/SimpleSchedulerTest.java | 6 +++---
 5 files changed, 15 insertions(+), 9 deletions(-)

commit c9db1a5b2d37920dbb6f78a153f6cc3338dc96ea
Author: kangpinghuang <kphuang@163.com>
Date:   Tue Nov 19 23:17:06 2019 +0800

    Fix schema change validate failure #2230 (#2233)

 be/src/olap/rowset/beta_rowset_reader.cpp | 12 ++++++------
 be/src/olap/rowset/beta_rowset_reader.h   |  1 +
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 03a5359e4aa56685fa0557535342653bc2e1f3f2
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Nov 19 18:51:05 2019 +0800

    Fix the line breaks to '\n' (#2234)
    
    [gutil]

commit 14769b0beb7671626da011611d2c73ffe841b831
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Nov 19 18:00:19 2019 +0800

    Improve to_bitmap parse int performance (#2223)

 be/src/exprs/bitmap_function.cpp       | 24 ++++-------
 be/src/util/string_parser.hpp          | 68 +++++++++++++++++++++++++++++++
 be/test/exprs/bitmap_function_test.cpp |  4 +-
 be/test/util/CMakeLists.txt            |  1 +
 be/test/util/string_parser_test.cpp    | 73 +++++++++++++++++++++++++++++++---
 run-ut.sh                              |  1 +
 6 files changed, 146 insertions(+), 25 deletions(-)

commit 42a4fff562090fc40bcab48684b4a61614f8d8f8
Author: Seaven <seaven_7@qq.com>
Date:   Tue Nov 19 17:57:37 2019 +0800

    Replace boost canonicalize (#2209)

 be/src/http/download_action.cpp  | 31 ++++++++++++++++---------------
 be/src/olap/snapshot_manager.cpp | 32 +++++++++-----------------------
 be/src/tools/meta_tool.cpp       | 17 ++++++++---------
 be/src/util/file_utils.cpp       |  4 ++++
 be/src/util/file_utils.h         |  8 ++++++++
 5 files changed, 45 insertions(+), 47 deletions(-)

commit db8819d365a4bcb64d273a59dadc2ff47b6c6242
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Tue Nov 19 17:32:37 2019 +0800

    Change sqlmode 'required' to 'optional' in forward master request,  (#2236)

 fe/src/main/java/org/apache/doris/qe/ConnectProcessor.java | 4 +++-
 gensrc/thrift/FrontendService.thrift                       | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 4984be9d76b5ef32d8af5469d70e96c7ec0f2092
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Tue Nov 19 16:58:10 2019 +0800

    Persist sqlmode in load metadata and add sqlmode to forward master request (#2216)

 .../main/java/org/apache/doris/catalog/View.java   |  4 ++-
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../apache/doris/load/loadv2/BrokerLoadJob.java    | 36 +++++++++++++++++++++-
 .../doris/load/routineload/RoutineLoadJob.java     | 35 ++++++++++++++++++++-
 .../java/org/apache/doris/qe/ConnectProcessor.java |  1 +
 .../java/org/apache/doris/qe/MasterOpExecutor.java |  1 +
 .../java/org/apache/doris/qe/SqlModeHelper.java    |  3 ++
 .../java/org/apache/doris/qe/StmtExecutor.java     |  2 +-
 fe/src/main/jflex/sql_scanner.flex                 | 31 +++++++++++++++++++
 gensrc/thrift/FrontendService.thrift               |  1 +
 11 files changed, 113 insertions(+), 5 deletions(-)

commit 23078a5cee4f0e30cff3ff6100724b921c8ea46c
Author: Youngwb <yangwenbo_mailbox@163.com>
Date:   Mon Nov 18 21:14:35 2019 +0800

    Avoid Chinese garbled for streamLoad java sample (#2229)

 samples/stream_load/java/DorisStreamLoad.java | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit d8cfbbedf740720d4755eb4489902cc240dcdd5f
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Nov 18 20:37:00 2019 +0800

    Support bitmap_empty function (#2227)

 be/src/exprs/bitmap_function.cpp                   |  8 ++++++++
 be/src/exprs/bitmap_function.h                     |  1 +
 be/test/exprs/bitmap_function_test.cpp             |  9 ++++++++
 .../sql-functions/aggregate-functions/bitmap.md    |  4 +++-
 .../Data Manipulation/STREAM LOAD.md               |  8 ++++----
 .../sql-functions/aggregate-functions/bitmap_EN.md |  2 ++
 .../Data Manipulation/STREAM LOAD_EN.md            |  8 ++++----
 .../java/org/apache/doris/analysis/InsertStmt.java | 12 +++++++----
 .../java/org/apache/doris/catalog/FunctionSet.java |  2 ++
 .../org/apache/doris/planner/LoadScanNode.java     | 24 ++++++++++++++++++++++
 .../java/org/apache/doris/planner/ScanNode.java    | 22 --------------------
 gensrc/script/doris_builtins_functions.py          |  2 ++
 12 files changed, 67 insertions(+), 35 deletions(-)

commit 626001fae49215a3e405331950f33c26ce51b64e
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun Nov 17 22:54:29 2019 +0800

    Fix bug upon is not null with batch without null data (#2219)
    
    DefaultValueReader will be created for this column after adding a column.
    Upon IS NOT NULL predicate, be will be core dump because of null pointer.

 be/src/olap/null_predicate.cpp | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 59e9027f7634d73ce81f99d9081181798fcd0b26
Author: 令狐少侠 <blackfox1983@163.com>
Date:   Sat Nov 16 22:29:55 2019 +0800

    Fix bug that timeout is not taken effect in streamload (#2217)

 be/src/http/action/stream_load.cpp | 4 ++++
 1 file changed, 4 insertions(+)

commit c5ce72215de92bd78e8376bd9f7072c0705c93cf
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Nov 15 23:03:21 2019 +0800

    Optimize tablet report with expired transaction. (#2215)
    
    When there are lots of expired transactions on BE, and with large
    number of tablet, the report thread may become to slow. Because it
    has to iterate the whole transaction map for each tablet.
    
    But this is unnecessary. We should first build a expired transaction
    map with 'tablet id' as key. And for each tablet, we only need to seek
    the expired transaction map once with tablet id, instead of traversing
    the whole transaction map.

 be/src/agent/task_worker_pool.cpp                  |  9 +++---
 be/src/common/config.h                             |  2 +-
 be/src/olap/rowset/rowset_meta_manager.cpp         |  2 +-
 be/src/olap/tablet_manager.cpp                     | 17 +++++++---
 be/src/olap/txn_manager.cpp                        | 37 +++++++++-------------
 be/src/olap/txn_manager.h                          |  4 ++-
 .../java/org/apache/doris/master/MasterImpl.java   | 14 ++------
 .../org/apache/doris/master/ReportHandler.java     |  1 -
 .../java/org/apache/doris/qe/SimpleScheduler.java  |  8 ++---
 9 files changed, 44 insertions(+), 50 deletions(-)

commit 22d0987e97c4bb3b7af8e748c808be7b63a3fd43
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Nov 14 22:16:42 2019 +0800

    Set cumulative point upon no suitable rowsets (#2204)

 be/src/olap/cumulative_compaction.cpp | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 8b7735f7e9359e1af52edf66f9fa3ab2de83327f
Author: kangpinghuang <kphuang@163.com>
Date:   Thu Nov 14 21:40:18 2019 +0800

    Fix npe when segment writer init failed (#2202)

 be/src/olap/rowset/beta_rowset_writer.cpp |  1 +
 be/src/olap/schema_change.cpp             | 10 ++++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 4f56698db4132e35a1f8382d7d34177dd3d7f370
Author: Seaven <seaven_7@qq.com>
Date:   Thu Nov 14 21:33:12 2019 +0800

    Change ifnull syntax support date type (#2123) (#2206)

 gensrc/script/doris_builtins_functions.py | 1 +
 1 file changed, 1 insertion(+)

commit 6688fef1587c9f0a853f1f259834ba332f77e755
Author: caiconghui <55968745+caiconghui@users.noreply.github.com>
Date:   Thu Nov 14 21:27:56 2019 +0800

    Add more note for streamLoad java sample (#2198)

 samples/stream_load/java/DorisStreamLoad.java | 37 +++++++++++++++++++++++++--
 1 file changed, 35 insertions(+), 2 deletions(-)

commit 20e0344033d900b02856cdfda4303cedadd2d247
Author: kangpinghuang <kphuang@163.com>
Date:   Thu Nov 14 14:13:49 2019 +0800

    Fix condition npe bug (#2200)

 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit b187c0881c55ff0187dfca669c5f5ba4fc100ac8
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Nov 14 08:52:48 2019 +0800

    Fix bug of null safe equal join (#2193)

 be/src/exec/hash_join_node.cpp | 8 +++++---
 be/src/exec/hash_table.cpp     | 9 +++------
 be/src/exec/hash_table.h       | 6 ++----
 3 files changed, 10 insertions(+), 13 deletions(-)

commit 3dcb8c991ce24e4b64979ddfc3c6404d03f7b633
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Nov 13 23:26:26 2019 +0800

    Make RowBatch compatible with old version (#2190)
    
    Field len of StringValue is changed from int to int64. This will cause
    invalid length of StringValue when deserializing RowBatch sent from 0.10
    Doris. And then this will lead fail to allocate memory and make BE
    crash.

 be/src/runtime/row_batch.cpp | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 84c1fa88b8fec103a7c0412d59f3712b68489efa
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Nov 13 23:25:51 2019 +0800

    Add node dead num metrics for all types of node (#2191)
    
    Following metrics will show the number of nodes which are down.
    
    frontend_down_num
    backend_down_num
    broker_down_num

 .../http-actions/fe-get-log-file.md                |  2 +-
 .../http-actions/fe-get-log-file_EN.md             |  2 +-
 .../java/org/apache/doris/alter/AlterHandler.java  |  4 ++++
 .../java/org/apache/doris/catalog/BrokerMgr.java   | 13 +++++++++++
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  4 ++++
 .../org/apache/doris/load/loadv2/LoadManager.java  |  9 ++++++++
 .../java/org/apache/doris/metric/MetricRepo.java   | 27 +++++++++++-----------
 .../doris/metric/SimpleCoreMetricVisitor.java      | 10 ++++++--
 8 files changed, 53 insertions(+), 18 deletions(-)

commit 35b28005421d007304587462755e2606d62ac3fa
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Nov 13 22:04:15 2019 +0800

    Keep num_of_columns_from_file incompatibile with 0.10 protocol (#2187)
    
    After checking, I found that broker load in 0.11 added num_of_columns_from_file parameter in thrift. This parameter does not consider compatibility in BE.
    So broker load could cause BE crashed during the upgrade

 be/src/exec/broker_scanner.cpp  |  4 +++-
 be/src/exec/parquet_scanner.cpp | 20 +++++++++++++-------
 gensrc/thrift/PlanNodes.thrift  |  2 +-
 3 files changed, 17 insertions(+), 9 deletions(-)

commit 8063353429e36915020de6ef13bf6ecc4096d874
Author: Seaven <seaven_7@qq.com>
Date:   Wed Nov 13 20:59:25 2019 +0800

    Fix concurrent create same directory failed (#2176) (#2185)

 be/src/olap/snapshot_manager.cpp | 26 +++++++++++++++++++++++---
 be/src/util/file_utils.cpp       |  2 +-
 2 files changed, 24 insertions(+), 4 deletions(-)

commit 11872d5cf60afa9a165cfd0f19a55f8863e3aaae
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Nov 13 11:22:45 2019 +0800

    Sending clear txn task explicitly after transaction being aborted (#2182)

 be/src/agent/task_worker_pool.cpp                  |  9 ++++-
 be/src/common/config.h                             |  5 +++
 be/src/olap/delta_writer.cpp                       |  2 +-
 be/src/olap/olap_define.h                          |  1 +
 be/src/olap/push_handler.cpp                       |  9 +++--
 be/src/olap/storage_engine.cpp                     |  9 ++++-
 be/src/olap/storage_engine.h                       |  3 +-
 be/src/olap/txn_manager.cpp                        | 44 +++++++++++++++++++++-
 be/src/olap/txn_manager.h                          | 15 ++++++++
 be/test/olap/txn_manager_test.cpp                  |  1 +
 .../java/org/apache/doris/master/MasterImpl.java   | 12 ++----
 .../org/apache/doris/master/ReportHandler.java     |  4 +-
 .../java/org/apache/doris/task/ClearAlterTask.java |  9 -----
 .../apache/doris/task/ClearTransactionTask.java    | 25 +++---------
 .../doris/transaction/GlobalTransactionMgr.java    | 43 +++++++++++++++++++++
 15 files changed, 141 insertions(+), 50 deletions(-)

commit b9c7f6e5ac19ad48b511d3aa68fff731984267b3
Author: Seaven <seaven_7@qq.com>
Date:   Tue Nov 12 12:46:54 2019 +0800

    Fix create path bug (#2177)

 be/src/util/file_utils.cpp       | 4 ++--
 be/test/olap/file_utils_test.cpp | 7 +++++++
 2 files changed, 9 insertions(+), 2 deletions(-)

commit b4d630137ab130cac6c94f8be3de6c2e26470e41
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Nov 12 09:35:27 2019 +0800

    Fix DB meta lost bug 2 (#2174)

 .../java/org/apache/doris/catalog/Catalog.java     | 35 ++++++++++++++--------
 1 file changed, 22 insertions(+), 13 deletions(-)

commit 1695d8ffc7277b8b9955a228571c209157a8bf9a
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Nov 11 22:04:17 2019 +0800

    Clean the fe/target directory before building (#2173)
    
    Clean the fe/target directory before building
    Otherwise, the fe output dir will contains some deprecated libraries.

 fe/pom.xml                                              | 17 +++++++++++++++++
 .../main/java/org/apache/doris/common/Log4jConfig.java  |  2 +-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit d0316d158dfa4cbfe3521bfdeb7d64b30176aaf9
Author: Seaven <seaven_7@qq.com>
Date:   Mon Nov 11 20:25:41 2019 +0800

    Refactor and reorganize the file utils  (#2089)

 be/src/common/status.h                             |   8 +
 be/src/env/env.h                                   |  16 +-
 be/src/env/env_posix.cpp                           |  32 ++-
 be/src/gutil/gscoped_ptr.h                         |  26 +--
 be/src/olap/data_dir.cpp                           |  72 +++---
 be/src/olap/rowset/beta_rowset.cpp                 |   5 +-
 be/src/olap/rowset/segment_group.cpp               |  58 +++--
 be/src/olap/snapshot_manager.cpp                   |  29 ++-
 be/src/olap/storage_engine.cpp                     |   8 +-
 be/src/olap/tablet_manager.cpp                     |  23 +-
 be/src/olap/task/engine_clone_task.cpp             |  40 ++--
 be/src/olap/task/engine_storage_migration_task.cpp |  18 +-
 be/src/olap/utils.cpp                              | 247 +--------------------
 be/src/olap/utils.h                                |  20 --
 be/src/util/file_utils.cpp                         | 138 +++++++++---
 be/src/util/file_utils.h                           |  34 ++-
 be/test/olap/delete_handler_test.cpp               |  29 +--
 be/test/olap/delta_writer_test.cpp                 |   7 +-
 be/test/olap/file_utils_test.cpp                   | 149 +++++++++++++
 be/test/olap/memtable_flush_executor_test.cpp      |   7 +-
 be/test/olap/olap_reader_test.cpp                  |  23 +-
 be/test/olap/olap_snapshot_converter_test.cpp      |   3 +-
 be/test/olap/rowset/alpha_rowset_test.cpp          |  20 +-
 be/test/olap/rowset/beta_rowset_test.cpp           |  15 +-
 be/test/olap/tablet_mgr_test.cpp                   |  13 +-
 be/test/olap/vectorized_olap_reader_test.cpp       |  15 +-
 be/test/runtime/data_spliter_test.cpp              |   3 +-
 27 files changed, 582 insertions(+), 476 deletions(-)

commit 068eed8eb038039254d259637e99e99ad906991a
Author: kangpinghuang <kphuang@163.com>
Date:   Mon Nov 11 20:07:37 2019 +0800

    Add delete state of row block v2 for performance (#2055)

 be/src/olap/column_block.h                         | 13 ++++++--
 be/src/olap/generic_iterators.cpp                  |  7 ++++
 be/src/olap/row_block2.h                           | 15 +++++++++
 be/src/olap/rowset/rowset.h                        |  2 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    | 36 +++++++++++++++++---
 be/src/olap/rowset/segment_v2/column_reader.h      | 17 ++++++++++
 be/src/olap/rowset/segment_v2/row_ranges.h         |  5 +++
 be/src/olap/rowset/segment_v2/segment.h            | 25 ++++++--------
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 39 ++++++++++------------
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  4 +--
 be/test/olap/rowset/segment_v2/segment_test.cpp    |  7 ++++
 11 files changed, 125 insertions(+), 45 deletions(-)

commit 06befc45ede260c4d3217079363cb9521176d6bf
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Nov 11 14:20:32 2019 +0800

    Support decrease edit_log_roll_num config (#2171)

 fe/src/main/java/org/apache/doris/persist/EditLog.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 288cf1ec80d3463b5b70c94b4e12b7e91a772862
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Nov 11 11:02:21 2019 +0800

    Fix DB meta lost bug (#2167)

 .../java/org/apache/doris/catalog/Catalog.java     | 28 +++++++++++++++-------
 1 file changed, 19 insertions(+), 9 deletions(-)

commit 9eaba6760614e9776af0028f537cf0f0287cbb68
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Nov 11 09:12:57 2019 +0800

    Limit the FE log file number (#2163)
    
    1. upgrade log4j to 2.12.1
    2. Add 2 new FE config:
            'sys_log_delete_age' and default is '7d', for sys log.
            'audit_log_delete_age' and default is '30d', for audit log.
    
       it means if a log's last modification time is 7/30 days ago, it will be deleted.

 .../cn/getting-started/data-partition.md           |  2 +-
 .../en/getting-started/data-partition_EN.md        |  4 +--
 fe/pom.xml                                         |  8 ++---
 .../main/java/org/apache/doris/common/Config.java  | 25 ++++++++++++--
 .../java/org/apache/doris/common/Log4jConfig.java  | 27 ++++++++++++---
 .../org/apache/doris/common/ThreadIdConverter.java | 40 ----------------------
 6 files changed, 52 insertions(+), 54 deletions(-)

commit c92de36becdbd13aca5ccdcc43eafd802ac0e177
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Fri Nov 8 21:19:26 2019 +0800

    Add ext_unix_timestamp for date < 1970-01-01 and > 2038-01-19 (#2161)

 be/src/util/arrow/row_batch.cpp | 37 ++++++++++---------------------------
 1 file changed, 10 insertions(+), 27 deletions(-)

commit 48d9318d07488895261305bdb512985134d7db75
Author: HangyuanLiu <460660596@qq.com>
Date:   Fri Nov 8 18:57:21 2019 +0800

    Support date_add function to support partition prune (#2154)
    
    Currently in the date_add/date_sub functions (DATE_ADD(DATETIME date,INTERVAL expr type)), the expr parameter is the interval you want to add.
    Doris will convert these functions to xxx_sub/xxx_add. However, there is only the days_add function in fe, which causes other date_add formats, such as select date_add('2010-11-30 23:59:59', INTERVAL 2 DAY), cannot be pruned.
    
    So I've added other functions to support fe partition prune

 .../org/apache/doris/analysis/DateLiteral.java     | 49 +++++++++++++---
 .../apache/doris/analysis/ExpressionFunctions.java |  3 +-
 .../java/org/apache/doris/rewrite/FEFunctions.java | 68 ++++++++++++++++++++--
 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 41 +++++++++++++
 4 files changed, 147 insertions(+), 14 deletions(-)

commit 3886503c024ae76a2daed028f482bea1b760942a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Nov 8 18:55:38 2019 +0800

    Fix bug of core in multi join (#2164)
    
    The result of function named getHashLookupJoinConjuncts() are the predicates which already adjust the order of left and right child.

 .../org/apache/doris/planner/HashJoinNode.java     |  2 +-
 .../apache/doris/planner/SingleNodePlanner.java    | 32 ++++++++++++++++------
 2 files changed, 25 insertions(+), 9 deletions(-)

commit 9ea14b83bb90f6924003374d50348b1bab63569f
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Nov 8 16:48:32 2019 +0800

    Remove failed UT (#2165)

 be/test/olap/CMakeLists.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42395d24557631e6d39207c84419112415a27d51
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Nov 8 12:43:48 2019 +0800

    Change Null-safe equal operator from cross join to hash join (#2156)
    
    * Change Null-safe equal operator from cross join to hash join
    ISSUE-2136
    
    This commit change the join method from cross join to hash join when the equal operator is Null-safe '<=>'.
    It will improve the speed of query which has the Null-safe equal operator.
    The finds_nulls field is used to save if there is Null-safe operator.
    The finds_nulls[i] is true means that the i-th equal operator is Null-safe.
    The equal function in hash table will return true, if both val and loc are NULL when finds_nulls[i] is true.

 be/src/exec/aggregation_node.cpp                   |  3 +-
 be/src/exec/hash_join_node.cpp                     | 19 ++++++-
 be/src/exec/hash_join_node.h                       |  3 ++
 be/src/exec/hash_table.cpp                         | 12 +++--
 be/src/exec/hash_table.h                           | 10 +++-
 be/src/exec/olap_scan_node.cpp                     |  3 +-
 .../java/org/apache/doris/analysis/Analyzer.java   |  2 +-
 .../apache/doris/planner/DistributedPlanner.java   | 22 ++++----
 .../org/apache/doris/planner/HashJoinNode.java     | 59 +++++++++++-----------
 .../apache/doris/planner/SingleNodePlanner.java    | 22 +++-----
 gensrc/thrift/PlanNodes.thrift                     |  3 ++
 11 files changed, 96 insertions(+), 62 deletions(-)

commit af79485eb2f9201fc76d715b15d4941cecfb4591
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Nov 8 08:48:11 2019 +0800

    Ignore --helper start argument if not first time to start FE (#2159)

 fe/src/main/java/org/apache/doris/catalog/Catalog.java      | 13 +++++++++----
 fe/src/main/java/org/apache/doris/master/Checkpoint.java    |  7 +++++++
 .../test/java/org/apache/doris/alter/RollupJobV2Test.java   |  1 +
 3 files changed, 17 insertions(+), 4 deletions(-)

commit 89dc461f918d9254b717e80b04bd6ed6045fc071
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Nov 8 08:47:48 2019 +0800

    Fix UT and remove unused code (#2160)

 be/src/runtime/CMakeLists.txt                      |   1 -
 be/src/runtime/decimalv2_value.h                   |   2 +-
 be/src/runtime/exec_env.h                          |   3 -
 be/src/runtime/exec_env_init.cpp                   |   8 -
 be/src/runtime/pull_load_task_mgr.cpp              | 377 ---------------------
 be/src/runtime/pull_load_task_mgr.h                |  82 -----
 be/src/service/backend_service.cpp                 |  30 --
 be/src/service/backend_service.h                   |  18 -
 be/test/exec/CMakeLists.txt                        |   4 +-
 be/test/runtime/CMakeLists.txt                     |  11 +-
 be/test/runtime/decimalv2_value_test.cpp           |   9 +-
 be/test/runtime/pull_load_task_mgr_test.cpp        | 217 ------------
 .../org/apache/doris/common/GenericPoolTest.java   |  33 --
 gensrc/thrift/BackendService.thrift                |  40 ---
 run-ut.sh                                          |   1 +
 15 files changed, 13 insertions(+), 823 deletions(-)

commit d461a451d79b48f8861909149202bb23381589a2
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Thu Nov 7 22:48:20 2019 +0800

    Add log info for QueryPlanAction (#2152)

 .../main/java/org/apache/doris/http/rest/TableQueryPlanAction.java  | 6 ++++++
 1 file changed, 6 insertions(+)

commit 2581d6d5746481d79074ca8a658c5a41dbfb380e
Author: caiconghui <55968745+caiconghui@users.noreply.github.com>
Date:   Thu Nov 7 22:23:31 2019 +0800

    Support hdfs broker reading config from hdfs-site.xml (#2148)
    
    In the production environment, hdfs broker should read config from hdfs-site.xml instead of manual input due to the complexity of hdfs config
    add dfs.namenode.kerberos.principal.pattern config for kerberos auth
    fix some getting config code for brief

 fs_brokers/apache_hdfs_broker/bin/start_broker.sh  |  2 +-
 fs_brokers/apache_hdfs_broker/build.sh             |  1 +
 fs_brokers/apache_hdfs_broker/conf/hdfs-site.xml   | 20 +++++++++++++
 .../doris/broker/hdfs/FileSystemManager.java       | 35 +++++++++++-----------
 4 files changed, 40 insertions(+), 18 deletions(-)

commit 2efd9e54ea1bb94dfefbc3c29b725ee787f56156
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Nov 7 19:41:06 2019 +0800

    Optimize the query plan so that UnionNode can be executed distributedly (#2150)

 .../main/java/org/apache/doris/qe/Coordinator.java  | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit c25e826dce1ad12e3c77cfe1da4684021a245ba4
Author: kangpinghuang <kphuang@163.com>
Date:   Thu Nov 7 19:06:24 2019 +0800

    Fix default value column bug (#2134)

 be/src/olap/rowset/segment_v2/column_reader.cpp | 27 +++++++++++++++++--------
 be/src/olap/rowset/segment_v2/column_reader.h   | 14 +++++++------
 be/src/olap/rowset/segment_v2/segment.cpp       |  5 +++--
 3 files changed, 30 insertions(+), 16 deletions(-)

commit cfc98e35717c7f47a4f7dd5623e48f7c9accf70d
Author: kangpinghuang <kphuang@163.com>
Date:   Thu Nov 7 15:57:38 2019 +0800

    Fix string type column zone map bug (#2144)
    
    string type column's zone map of segment is wrong and segments are filtered incorrectly.

 be/src/olap/field.h                                      | 1 +
 be/src/olap/rowset/segment_v2/column_reader.cpp          | 4 ++--
 be/src/olap/rowset/segment_v2/empty_segment_iterator.cpp | 1 +
 be/src/olap/rowset/segment_v2/segment.cpp                | 6 ++++--
 be/src/olap/rowset/segment_v2/segment_writer.cpp         | 1 +
 be/src/olap/wrapper_field.cpp                            | 4 ++--
 be/src/olap/wrapper_field.h                              | 5 ++++-
 gensrc/proto/segment_v2.proto                            | 2 ++
 8 files changed, 17 insertions(+), 7 deletions(-)

commit 188d97c21580c2538aa88e71205c7f7ea7f83616
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Thu Nov 7 14:05:23 2019 +0800

    Add null bit verification for row_batch transformation (#2139)

 be/src/runtime/primitive_type.cpp            |  19 +++
 be/src/runtime/primitive_type.h              |   1 +
 be/src/util/arrow/row_batch.cpp              |  77 +++++----
 be/test/runtime/memory_scratch_sink_test.cpp | 239 ++++++++++++++++++++-------
 be/test/runtime/test_data/csv_data           |   6 +
 5 files changed, 243 insertions(+), 99 deletions(-)

commit 5a4908e99af949a4741af3f155ba49ffe90dc967
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Nov 7 10:28:15 2019 +0800

    Forward stmt with stmt id generated on origin FE. (#2129)
    
    Some stmt, such as DDL and DML stmt will be forwarded from non-master FE
    to Master FE. But these stmt will be logged in non-master FE's audit log
    with its origin stmt id generated on non-master FE.
    
    So we should also pass this origin stmt id to Master, so that we can track
    this stmt's execution process more easily.

 fe/src/main/java/org/apache/doris/qe/ConnectContext.java         | 9 +++++++++
 fe/src/main/java/org/apache/doris/qe/ConnectProcessor.java       | 3 +++
 fe/src/main/java/org/apache/doris/qe/MasterOpExecutor.java       | 1 +
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java           | 4 ++--
 .../main/java/org/apache/doris/service/FrontendServiceImpl.java  | 2 ++
 fe/src/main/java/org/apache/doris/system/HeartbeatMgr.java       | 4 +++-
 fe/src/test/java/org/apache/doris/qe/StmtExecutorTest.java       | 1 +
 gensrc/thrift/FrontendService.thrift                             | 1 +
 8 files changed, 22 insertions(+), 3 deletions(-)

commit f14cdacfd18088dc5d107399a6fb8c24bb20398b
Author: kangpinghuang <kphuang@163.com>
Date:   Thu Nov 7 10:24:03 2019 +0800

    Fix single column read bug (#2122)

 be/src/olap/reader.cpp                             | 6 +++---
 be/src/olap/rowset/column_data.cpp                 | 2 +-
 be/src/olap/rowset/segment_v2/encoding_info.cpp    | 5 +++--
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 1 +
 4 files changed, 8 insertions(+), 6 deletions(-)

commit 6759e83a07705d628957fb96cc1c2e3dab6ecb6c
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Wed Nov 6 21:35:07 2019 +0800

    Add license header for md files and fix some translation's error (#2137)

 README.md                                          |  19 +++
 docker/README.md                                   |  19 +++
 .../alter-table/alter-table-rollup.md              |  19 +++
 .../alter-table/alter-table-schema-change.md       |  19 +++
 .../cn/administrator-guide/backup-restore.md       |  19 +++
 .../documentation/cn/administrator-guide/broker.md |  19 +++
 .../cn/administrator-guide/colocation-join.md      |  19 +++
 .../cn/administrator-guide/config/fe_config.md     |  19 +++
 .../cn/administrator-guide/export-manual.md        |  19 +++
 .../http-actions/cancel-label.md                   |  19 +++
 .../http-actions/fe-get-log-file.md                |  19 +++
 .../http-actions/get-label-state.md                |  19 +++
 .../http-actions/restore-tablet.md                 |  19 +++
 .../load-data/broker-load-manual.md                |  19 +++
 .../load-data/insert-into-manual.md                |  19 +++
 .../administrator-guide/load-data/load-manual.md   |  19 +++
 .../load-data/routine-load-manual.md               |  19 +++
 .../load-data/stream-load-manual.md                |  19 +++
 .../administrator-guide/operation/disk-capacity.md |  19 +++
 .../operation/metadata-operation.md                |  19 +++
 .../administrator-guide/operation/monitor-alert.md |  19 +++
 .../administrator-guide/operation/multi-tenant.md  |  19 +++
 .../operation/tablet-meta-tool.md                  |  19 +++
 .../operation/tablet-repair-and-balance.md         |  19 +++
 .../operation/tablet-restore-tool.md               |  19 +++
 .../cn/administrator-guide/privilege.md            |  19 +++
 .../cn/administrator-guide/small-file-mgr.md       |  19 +++
 .../cn/administrator-guide/sql-mode.md             |  35 ++++-
 .../cn/administrator-guide/time-zone.md            |  19 +++
 docs/documentation/cn/community/gitter.md          |  19 +++
 .../cn/community/how-to-contribute.md              |  19 +++
 docs/documentation/cn/community/members.md         |  19 +++
 docs/documentation/cn/community/pull-request.md    |  19 +++
 docs/documentation/cn/community/release-process.md |  19 +++
 .../cn/community/subscribe-mail-list.md            |  19 +++
 .../cn/community/verify-apache-release.md          |  19 +++
 .../documentation/cn/developer-guide/debug-tool.md |  19 +++
 .../cn/extending-doris/doris-on-es.md              |  19 +++
 .../cn/extending-doris/user-defined-function.md    |  19 +++
 .../cn/getting-started/advance-usage.md            |  19 +++
 .../cn/getting-started/basic-usage.md              |  18 +++
 .../cn/getting-started/best-practice.md            |  19 +++
 .../cn/getting-started/data-model-rollup.md        |  19 +++
 .../cn/getting-started/data-partition.md           |  19 +++
 .../cn/getting-started/hit-the-rollup.md           |  19 +++
 docs/documentation/cn/installing/compilation.md    |  19 +++
 docs/documentation/cn/installing/install-deploy.md |  19 +++
 docs/documentation/cn/installing/upgrade.md        |  19 +++
 .../cn/internal/doris_storage_optimization.md      |  19 +++
 docs/documentation/cn/internal/metadata-design.md  |  19 +++
 .../sql-functions/aggregate-functions/avg.md       |  19 +++
 .../sql-functions/aggregate-functions/bitmap.md    |  19 +++
 .../sql-functions/aggregate-functions/count.md     |  19 +++
 .../aggregate-functions/count_distinct.md          |  19 +++
 .../aggregate-functions/hll_union_agg.md           |  19 +++
 .../sql-functions/aggregate-functions/max.md       |  19 +++
 .../sql-functions/aggregate-functions/min.md       |  19 +++
 .../sql-functions/aggregate-functions/ndv.md       |  19 +++
 .../aggregate-functions/percentile_approx.md       |  19 +++
 .../sql-functions/aggregate-functions/stddev.md    |  19 +++
 .../aggregate-functions/stddev_samp.md             |  19 +++
 .../sql-functions/aggregate-functions/sum.md       |  19 +++
 .../sql-functions/aggregate-functions/var_samp.md  |  19 +++
 .../sql-functions/aggregate-functions/variance.md  |  19 +++
 .../cn/sql-reference/sql-functions/cast.md         |  19 +++
 .../date-time-functions/convert_tz.md              |  19 +++
 .../date-time-functions/current_timestamp.md       |  19 +++
 .../sql-functions/date-time-functions/curtime.md   |  19 +++
 .../sql-functions/date-time-functions/date_add.md  |  19 +++
 .../date-time-functions/date_format.md             |  19 +++
 .../sql-functions/date-time-functions/date_sub.md  |  19 +++
 .../sql-functions/date-time-functions/datediff.md  |  19 +++
 .../sql-functions/date-time-functions/day.md       |  19 +++
 .../sql-functions/date-time-functions/dayname.md   |  19 +++
 .../date-time-functions/dayofmonth.md              |  19 +++
 .../sql-functions/date-time-functions/dayofweek.md |  19 +++
 .../sql-functions/date-time-functions/dayofyear.md |  19 +++
 .../sql-functions/date-time-functions/from_days.md |  19 +++
 .../date-time-functions/from_unixtime.md           |  19 +++
 .../sql-functions/date-time-functions/month.md     |  19 +++
 .../sql-functions/date-time-functions/monthname.md |  19 +++
 .../sql-functions/date-time-functions/now.md       |  19 +++
 .../date-time-functions/str_to_date.md             |  19 +++
 .../sql-functions/date-time-functions/timediff.md  |  19 +++
 .../sql-functions/date-time-functions/to_days.md   |  19 +++
 .../date-time-functions/unix_timestamp.md          |  19 +++
 .../date-time-functions/utc_timestamp.md           |  19 +++
 .../date-time-functions/workofyear.md              |  19 +++
 .../sql-functions/date-time-functions/year.md      |  19 +++
 .../sql-functions/spatial-functions/st_astext.md   |  19 +++
 .../sql-functions/spatial-functions/st_circle.md   |  19 +++
 .../sql-functions/spatial-functions/st_contains.md |  19 +++
 .../spatial-functions/st_distance_sphere.md        |  19 +++
 .../spatial-functions/st_geometryfromtext.md       |  19 +++
 .../spatial-functions/st_linefromtext.md           |  19 +++
 .../sql-functions/spatial-functions/st_point.md    |  19 +++
 .../sql-functions/spatial-functions/st_polygon.md  |  19 +++
 .../sql-functions/spatial-functions/st_x.md        |  19 +++
 .../sql-functions/spatial-functions/st_y.md        |  19 +++
 .../sql-functions/string-functions/ascii.md        |  19 +++
 .../sql-functions/string-functions/concat.md       |  19 +++
 .../sql-functions/string-functions/concat_ws.md    |  19 +++
 .../sql-functions/string-functions/find_in_set.md  |  19 +++
 .../string-functions/get_json_double.md            |  19 +++
 .../sql-functions/string-functions/get_json_int.md |  19 +++
 .../string-functions/get_json_string.md            |  19 +++
 .../sql-functions/string-functions/group_concat.md |  19 +++
 .../sql-functions/string-functions/instr.md        |  19 +++
 .../sql-functions/string-functions/lcase.md        |  19 +++
 .../sql-functions/string-functions/left.md         |  19 +++
 .../sql-functions/string-functions/length.md       |  19 +++
 .../sql-functions/string-functions/locate.md       |  19 +++
 .../sql-functions/string-functions/lower.md        |  19 +++
 .../sql-functions/string-functions/lpad.md         |  19 +++
 .../sql-functions/string-functions/ltrim.md        |  19 +++
 .../sql-functions/string-functions/money_format.md |  19 +++
 .../string-functions/regexp_extract.md             |  19 +++
 .../string-functions/regexp_replace.md             |  19 +++
 .../sql-functions/string-functions/repeat.md       |  19 +++
 .../sql-functions/string-functions/right.md        |  19 +++
 .../sql-functions/string-functions/split_part.md   |  19 +++
 .../sql-functions/string-functions/strleft.md      |  19 +++
 .../sql-functions/string-functions/strright.md     |  19 +++
 .../Account Management/CREATE ROLE.md              |  19 +++
 .../Account Management/CREATE USER.md              |  19 +++
 .../sql-statements/Account Management/DROP ROLE.md |  19 +++
 .../sql-statements/Account Management/DROP USER.md |  19 +++
 .../sql-statements/Account Management/GRANT.md     |  19 +++
 .../sql-statements/Account Management/REVOKE.md    |  19 +++
 .../Account Management/SET PASSWORD.md             |  19 +++
 .../Account Management/SET PROPERTY.md             |  19 +++
 .../Account Management/SHOW GRANTS.md              |  19 +++
 .../Account Management/SHOW ROLES.md               |  19 +++
 .../Administration/ADMIN CANCEL REPAIR.md          |  19 +++
 .../sql-statements/Administration/ADMIN REPAIR.md  |  19 +++
 .../Administration/ADMIN SET CONFIG.md             |  19 +++
 .../Administration/ADMIN SHOW CONFIG.md            |  19 +++
 .../ADMIN SHOW REPLICA DISTRIBUTION.md             |  19 +++
 .../Administration/ADMIN SHOW REPLICA STATUS.md    |  19 +++
 .../sql-statements/Administration/ALTER CLUSTER.md |  19 +++
 .../sql-statements/Administration/ALTER SYSTEM.md  |  19 +++
 .../Administration/CANCEL DECOMMISSION.md          |  19 +++
 .../Administration/CREATE CLUSTER.md               |  19 +++
 .../sql-statements/Administration/CREATE FILE.md   |  19 +++
 .../sql-statements/Administration/DROP CLUSTER.md  |  19 +++
 .../sql-statements/Administration/DROP FILE.md     |  19 +++
 .../sql-statements/Administration/ENTER.md         |  19 +++
 .../sql-statements/Administration/LINK DATABASE.md |  19 +++
 .../Administration/MIGRATE DATABASE.md             |  19 +++
 .../sql-statements/Administration/SHOW BACKENDS.md |  19 +++
 .../sql-statements/Administration/SHOW BROKER.md   |  19 +++
 .../sql-statements/Administration/SHOW FILE.md     |  19 +++
 .../Administration/SHOW FRONTENDS.md               |  19 +++
 .../Administration/SHOW FULL COLUMNS.md            |  19 +++
 .../Administration/SHOW MIGRATIONS.md              |  19 +++
 .../Administration/SHOW TABLE STATUS.md            |  19 +++
 .../Data Definition/ALTER DATABASE.md              |  19 +++
 .../sql-statements/Data Definition/ALTER TABLE.md  |  19 +++
 .../sql-statements/Data Definition/BACKUP.md       |  19 +++
 .../sql-statements/Data Definition/CANCEL ALTER.md |  19 +++
 .../Data Definition/CANCEL BACKUP.md               |  19 +++
 .../Data Definition/CANCEL RESTORE.md              |  19 +++
 .../Data Definition/CREATE DATABASE.md             |  19 +++
 .../Data Definition/CREATE REPOSITORY.md           |  19 +++
 .../sql-statements/Data Definition/CREATE TABLE.md |  19 +++
 .../sql-statements/Data Definition/CREATE VIEW.md  |  19 +++
 .../Data Definition/DROP DATABASE.md               |  19 +++
 .../Data Definition/DROP REPOSITORY.md             |  19 +++
 .../sql-statements/Data Definition/DROP TABLE.md   |  19 +++
 .../sql-statements/Data Definition/DROP VIEW.md    |  19 +++
 .../sql-statements/Data Definition/HLL.md          |  19 +++
 .../sql-statements/Data Definition/RECOVER.md      |  19 +++
 .../sql-statements/Data Definition/RESTORE.md      |  19 +++
 .../Data Definition/TRUNCATE TABLE.md              |  19 +++
 .../Data Definition/create-function.md             |  19 +++
 .../Data Definition/drop-function.md               |  19 +++
 .../Data Definition/show-function.md               |  19 +++
 .../Data Manipulation/BROKER LOAD.md               |  19 +++
 .../Data Manipulation/CANCEL LOAD.md               |  19 +++
 .../sql-statements/Data Manipulation/DELETE.md     |  19 +++
 .../sql-statements/Data Manipulation/EXPORT.md     |  19 +++
 .../sql-statements/Data Manipulation/LOAD.md       |  19 +++
 .../sql-statements/Data Manipulation/MINI LOAD.md  |  19 +++
 .../sql-statements/Data Manipulation/MULTI LOAD.md |  19 +++
 .../Data Manipulation/PAUSE ROUTINE LOAD.md        |  19 +++
 .../Data Manipulation/RESUME ROUTINE LOAD.md       |  19 +++
 .../Data Manipulation/ROUTINE LOAD.md              |  19 +++
 .../sql-statements/Data Manipulation/SHOW ALTER.md |  19 +++
 .../Data Manipulation/SHOW BACKUP.md               |  19 +++
 .../sql-statements/Data Manipulation/SHOW DATA.md  |  19 +++
 .../Data Manipulation/SHOW DATABASES.md            |  19 +++
 .../Data Manipulation/SHOW DELETE.md               |  19 +++
 .../Data Manipulation/SHOW EXPORT.md               |  19 +++
 .../sql-statements/Data Manipulation/SHOW LOAD.md  |  19 +++
 .../Data Manipulation/SHOW PARTITIONS.md           |  19 +++
 .../Data Manipulation/SHOW PROPERTY.md             |  19 +++
 .../Data Manipulation/SHOW REPOSITORIES.md         |  19 +++
 .../Data Manipulation/SHOW RESTORE.md              |  19 +++
 .../Data Manipulation/SHOW ROUTINE LOAD TASK.md    |  19 +++
 .../Data Manipulation/SHOW ROUTINE LOAD.md         |  19 +++
 .../Data Manipulation/SHOW SNAPSHOT.md             |  19 +++
 .../Data Manipulation/SHOW TABLES.md               |  19 +++
 .../Data Manipulation/SHOW TABLET.md               |  19 +++
 .../Data Manipulation/STOP ROUTINE LOAD.md         |  19 +++
 .../Data Manipulation/STREAM LOAD.md               |  19 +++
 .../sql-statements/Data Manipulation/insert.md     |  19 +++
 .../sql-statements/Data Types/BIGINT.md            |  19 +++
 .../sql-statements/Data Types/BOOLEAN.md           |  19 +++
 .../sql-statements/Data Types/CHAR.md              |  19 +++
 .../sql-statements/Data Types/DATE.md              |  19 +++
 .../sql-statements/Data Types/DATETIME.md          |  19 +++
 .../sql-statements/Data Types/DECIMAL.md           |  19 +++
 .../sql-statements/Data Types/DOUBLE.md            |  19 +++
 .../sql-statements/Data Types/FLOAT.md             |  19 +++
 .../sql-reference/sql-statements/Data Types/HLL.md |  19 +++
 .../sql-reference/sql-statements/Data Types/INT.md |  19 +++
 .../sql-statements/Data Types/LARGEINT.md          |  19 +++
 .../sql-statements/Data Types/SMALLINT.md          |  19 +++
 .../sql-statements/Data Types/TINYINT.md           |  19 +++
 .../sql-statements/Data Types/VARCHAR.md           |  19 +++
 .../sql-statements/Utility/DESCRIBE.md             |  19 +++
 .../en/administrator-guide/backup-restore_EN.md    |  19 +++
 .../en/administrator-guide/colocation-join_EN.md   |  19 +++
 .../en/administrator-guide/config/fe_config_en.md  |  19 +++
 .../en/administrator-guide/export_manual_EN.md     |  19 +++
 .../http-actions/cancel-label_EN.md                |  19 +++
 .../http-actions/fe-get-log-file_EN.md             |  19 +++
 .../http-actions/get-label-state_EN.md             |  19 +++
 .../http-actions/restore-tablet_EN.md              |  19 +++
 .../load-data/broker-load-manual_EN.md             |  19 +++
 .../load-data/insert-into-manual_EN.md             |  19 +++
 .../load-data/load-manual_EN.md                    |  19 +++
 .../load-data/routine-load-manual_EN.md            |  19 +++
 .../load-data/stream-load-manual_EN.md             |  19 +++
 .../operation/metadata-operation_EN.md             |  19 +++
 .../operation/monitor-alert_EN.md                  |  19 +++
 .../operation/multi-tenant_EN.md                   |  19 +++
 .../operation/tablet-meta-tool_EN.md               |  19 +++
 .../operation/tablet-repair-and-balance_EN.md      |  19 +++
 .../en/administrator-guide/privilege_EN.md         |  19 +++
 .../en/administrator-guide/small-file-mgr_EN.md    |  19 +++
 .../en/administrator-guide/sql-mode_EN.md          |  37 ++++-
 .../en/administrator-guide/time-zone_EN.md         |  19 +++
 docs/documentation/en/community/gitter_EN.md       |  19 +++
 .../en/community/how-to-contribute_EN.md           |  19 +++
 docs/documentation/en/community/members_EN.md      |  19 +++
 docs/documentation/en/community/pull-request_EN.md |  19 +++
 .../en/community/release-process_EN.md             |  19 +++
 .../en/community/subscribe-mail-list_EN.md         |  19 +++
 .../en/community/verify-apache-release_EN.md       |  19 +++
 .../documentation/en/developer-guide/debug-tool.md |  19 +++
 .../en/extending-doris/doris-on-es_EN.md           |  27 +++-
 .../en/extending-doris/user-defined-function_EN.md |  19 +++
 .../en/getting-started/advance-usage_EN.md         |  85 +++++++-----
 .../en/getting-started/basic-usage_EN.md           | 101 ++++++++------
 .../en/getting-started/best-practice_EN.md         |  20 +++
 .../en/getting-started/data-model-rollup_EN.md     |  20 +++
 .../en/getting-started/data-partition_EN.md        |  20 +++
 .../en/getting-started/hit-the-rollup_EN.md        | 151 ++++++++++++---------
 docs/documentation/en/installing/compilation_EN.md |  20 +++
 .../en/installing/install-deploy_EN.md             |  20 +++
 docs/documentation/en/installing/upgrade_EN.md     |  20 +++
 .../en/internal/doris_storage_optimization_EN.md   |  20 +++
 .../en/internal/metadata-design_EN.md              |  20 +++
 .../sql-functions/aggregate-functions/avg_EN.md    |  22 ++-
 .../sql-functions/aggregate-functions/bitmap_EN.md |  20 +++
 .../sql-functions/aggregate-functions/count_EN.md  |  21 ++-
 .../aggregate-functions/count_distinct_EN.md       |  21 ++-
 .../aggregate-functions/hll_union_agg_EN.md        |  19 +++
 .../sql-functions/aggregate-functions/max_EN.md    |  19 +++
 .../sql-functions/aggregate-functions/min_EN.md    |  19 +++
 .../sql-functions/aggregate-functions/ndv_EN.md    |  19 +++
 .../aggregate-functions/percentile_approx_EN.md    |  21 +++
 .../sql-functions/aggregate-functions/stddev_EN.md |  19 +++
 .../aggregate-functions/stddev_samp_EN.md          |  21 ++-
 .../sql-functions/aggregate-functions/sum_EN.md    |  21 ++-
 .../aggregate-functions/var_samp_EN.md             |  22 ++-
 .../aggregate-functions/variance_EN.md             |  20 +++
 .../en/sql-reference/sql-functions/cast_EN.md      |  20 +++
 .../date-time-functions/current_timestamp_EN.md    |  26 +++-
 .../date-time-functions/date_add_EN.md             |  24 +++-
 .../date-time-functions/date_format_EN.md          |  53 +++++---
 .../date-time-functions/date_sub_EN.md             |  24 +++-
 .../date-time-functions/datediff_EN.md             |  28 +++-
 .../sql-functions/date-time-functions/day_EN.md    |  22 ++-
 .../date-time-functions/dayname_EN.md              |  24 +++-
 .../date-time-functions/dayofmonth_EN.md           |  23 +++-
 .../date-time-functions/dayofweek_EN.md            |  30 +++-
 .../date-time-functions/dayofyear_EN.md            |  25 +++-
 .../date-time-functions/from_days_EN.md            |  19 +++
 .../date-time-functions/from_unixtime_EN.md        |  19 +++
 .../sql-functions/date-time-functions/month_EN.md  |  22 ++-
 .../date-time-functions/monthname_EN.md            |  26 +++-
 .../sql-functions/date-time-functions/now_EN.md    |  22 ++-
 .../date-time-functions/str_to_date_EN.md          |  26 +++-
 .../date-time-functions/timediff_EN.md             |  36 +++--
 .../date-time-functions/to_days_EN.md              |  23 +++-
 .../date-time-functions/unix_timestamp_EN.md       |  19 +++
 .../date-time-functions/utc_timestamp_EN.md        |  19 +++
 .../date-time-functions/workofyear_EN.md           |  24 +++-
 .../sql-functions/date-time-functions/year_EN.md   |  23 +++-
 .../spatial-functions/st_astext_EN.md              |  21 ++-
 .../spatial-functions/st_circle_EN.md              |  21 ++-
 .../spatial-functions/st_contains_EN.md            |  29 +++-
 .../spatial-functions/st_distance_sphere_EN.md     |  19 +++
 .../spatial-functions/st_geometryfromtext_EN.md    |  21 ++-
 .../spatial-functions/st_linefromtext_EN.md        |  21 ++-
 .../sql-functions/spatial-functions/st_point_EN.md |  21 ++-
 .../spatial-functions/st_polygon_EN.md             |  21 ++-
 .../sql-functions/spatial-functions/st_x_EN.md     |  21 ++-
 .../sql-functions/spatial-functions/st_y_EN.md     |  21 ++-
 .../sql-functions/string-functions/ascii_EN.md     |  29 +++-
 .../sql-functions/string-functions/concat_EN.md    |  35 +++--
 .../sql-functions/string-functions/concat_ws_EN.md |  33 ++++-
 .../string-functions/find_in_set_EN.md             |  25 +++-
 .../string-functions/get_json_double_EN.md         |  31 ++++-
 .../string-functions/get_json_int_EN.md            |  33 ++++-
 .../string-functions/get_json_string_EN.md         |  45 ++++--
 .../string-functions/group_concat_EN.md            |  27 +++-
 .../sql-functions/string-functions/instr_EN.md     |  23 +++-
 .../sql-functions/string-functions/lcase_EN.md     |  23 +++-
 .../sql-functions/string-functions/left_EN.md      |  21 ++-
 .../sql-functions/string-functions/length_EN.md    |  21 ++-
 .../sql-functions/string-functions/locate_EN.md    |  23 +++-
 .../sql-functions/string-functions/lower_EN.md     |  23 +++-
 .../sql-functions/string-functions/lpad_EN.md      |  29 +++-
 .../sql-functions/string-functions/ltrim_EN.md     |  25 +++-
 .../string-functions/money_format_EN.md            |  19 +++
 .../string-functions/regexp_extract_EN.md          |  27 +++-
 .../string-functions/regexp_replace_EN.md          |  25 +++-
 .../sql-functions/string-functions/repeat_EN.md    |  23 +++-
 .../sql-functions/string-functions/right_EN.md     |  23 +++-
 .../string-functions/split_part_EN.md              |  29 +++-
 .../sql-functions/string-functions/strleft_EN.md   |  21 ++-
 .../sql-functions/string-functions/strright_EN.md  |  24 +++-
 .../Account Management/CREATE ROLE_EN.md           |  19 +++
 .../Account Management/CREATE USER_EN.md           |  19 +++
 .../Account Management/DROP ROLE_EN.md             |  19 +++
 .../Account Management/DROP USER_EN.md             |  19 +++
 .../sql-statements/Account Management/GRANT_EN.md  |  19 +++
 .../sql-statements/Account Management/REVOKE_EN.md |  19 +++
 .../Account Management/SET PASSWORD_EN.md          |  19 +++
 .../Account Management/SET PROPERTY_EN.md          |  19 +++
 .../Account Management/SHOW GRANTS_EN.md           |  19 +++
 .../Account Management/SHOW ROLES_EN.md            |  19 +++
 .../Administration/ADMIN CANCEL REPAIR_EN.md       |  19 +++
 .../Administration/ADMIN REPAIR_EN.md              |  19 +++
 .../Administration/ADMIN SET CONFIG_EN.md          |  19 +++
 .../Administration/ADMIN SHOW CONFIG_EN.md         |  19 +++
 .../ADMIN SHOW REPLICA DISTRIBUTION_EN.md          |  19 +++
 .../Administration/ADMIN SHOW REPLICA STATUS_EN.md |  19 +++
 .../Administration/ALTER CLUSTER_EN.md             |  19 +++
 .../Administration/ALTER SYSTEM_EN.md              |  19 +++
 .../Administration/CANCEL DECOMMISSION_EN.md       |  19 +++
 .../Administration/CREATE CLUSTER_EN.md            |  19 +++
 .../Administration/CREATE FILE_EN.md               |  19 +++
 .../Administration/DROP CLUSTER_EN.md              |  19 +++
 .../sql-statements/Administration/DROP FILE_EN.md  |  19 +++
 .../sql-statements/Administration/ENTER_EN.md      |  19 +++
 .../Administration/LINK DATABASE_EN.md             |  19 +++
 .../Administration/MIGRATE DATABASE_EN.md          |  19 +++
 .../Administration/SHOW BACKENDS_EN.md             |  19 +++
 .../Administration/SHOW BROKER_EN.md               |  19 +++
 .../sql-statements/Administration/SHOW FILE_EN.md  |  19 +++
 .../Administration/SHOW FRONTENDS_EN.md            |  21 ++-
 .../Administration/SHOW FULL COLUMNS_EN.md         |  19 +++
 .../Administration/SHOW MIGRATIONS_EN.md           |  19 +++
 .../Administration/SHOW TABLE STATUS_EN.md         |  19 +++
 .../Data Definition/ALTER DATABASE_EN.md           |  19 +++
 .../Data Definition/ALTER TABLE_EN.md              |  19 +++
 .../sql-statements/Data Definition/BACKUP_EN.md    |  19 +++
 .../Data Definition/CANCEL ALTER_EN.md             |  19 +++
 .../Data Definition/CANCEL BACKUP_EN.md            |  19 +++
 .../Data Definition/CANCEL RESTORE_EN.md           |  19 +++
 .../Data Definition/CREATE DATABASE_EN.md          |  19 +++
 .../Data Definition/CREATE REPOSITORY_EN.md        |  19 +++
 .../Data Definition/CREATE TABLE_EN.md             |  19 +++
 .../Data Definition/CREATE VIEW_EN.md              |  19 +++
 .../Data Definition/Colocate Join_EN.md            |  19 +++
 .../Data Definition/DROP DATABASE_EN.md            |  19 +++
 .../Data Definition/DROP REPOSITORY_EN.md          |  19 +++
 .../Data Definition/DROP TABLE_EN.md               |  19 +++
 .../sql-statements/Data Definition/DROP VIEW_EN.md |  19 +++
 .../sql-statements/Data Definition/HLL_EN.md       |  19 +++
 .../sql-statements/Data Definition/RECOVER_EN.md   |  19 +++
 .../sql-statements/Data Definition/RESTORE_EN.md   |  19 +++
 .../Data Definition/TRUNCATE TABLE_EN.md           |  19 +++
 .../Data Definition/create-function_EN.md          |  19 +++
 .../Data Definition/drop-function_EN.md            |  19 +++
 .../Data Definition/show-function_EN.md            |  19 +++
 .../Data Manipulation/BROKER LOAD_EN.md            |  19 +++
 .../Data Manipulation/CANCEL DELETE_EN.md          |  19 +++
 .../Data Manipulation/CANCEL LABEL_EN.md           |  21 ++-
 .../Data Manipulation/CANCEL LOAD_EN.md            |  19 +++
 .../sql-statements/Data Manipulation/DELETE_EN.md  |  19 +++
 .../sql-statements/Data Manipulation/EXPORT_EN.md  |  19 +++
 .../Data Manipulation/GET LABEL STATE_EN.md        |  21 ++-
 .../sql-statements/Data Manipulation/LOAD_EN.md    |  21 ++-
 .../Data Manipulation/MINI LOAD_EN.md              |  21 ++-
 .../Data Manipulation/MULTI LOAD_EN.md             |  21 ++-
 .../Data Manipulation/PAUSE ROUTINE LOAD_EN.md     |  21 ++-
 .../Data Manipulation/RESTORE TABLET_EN.md         |  19 +++
 .../Data Manipulation/RESUME ROUTINE LOAD_EN.md    |  19 +++
 .../Data Manipulation/ROUTINE LOAD_EN.md           |  19 +++
 .../Data Manipulation/SHOW ALTER_EN.md             |  19 +++
 .../Data Manipulation/SHOW BACKUP_EN.md            |  19 +++
 .../Data Manipulation/SHOW DATABASES_EN.md         |  19 +++
 .../Data Manipulation/SHOW DATA_EN.md              |  19 +++
 .../Data Manipulation/SHOW DELETE_EN.md            |  19 +++
 .../Data Manipulation/SHOW EXPORT_EN.md            |  19 +++
 .../Data Manipulation/SHOW LOAD_EN.md              |  19 +++
 .../Data Manipulation/SHOW PARTITIONS_EN.md        |  19 +++
 .../Data Manipulation/SHOW PROPERTY_EN.md          |  19 +++
 .../Data Manipulation/SHOW REPOSITORIES_EN.md      |  19 +++
 .../Data Manipulation/SHOW RESTORE_EN.md           |  19 +++
 .../Data Manipulation/SHOW ROUTINE LOAD TASK_EN.md |  19 +++
 .../Data Manipulation/SHOW ROUTINE LOAD_EN.md      |  19 +++
 .../Data Manipulation/SHOW SNAPSHOT_EN.md          |  19 +++
 .../Data Manipulation/SHOW TABLES_EN.md            |  19 +++
 .../Data Manipulation/SHOW TABLET_EN.md            |  19 +++
 .../Data Manipulation/STOP ROUTINE LOAD_EN.md      |  19 +++
 .../Data Manipulation/STREAM LOAD_EN.md            |  19 +++
 .../sql-statements/Data Manipulation/insert_EN.md  |  19 +++
 .../sql-statements/Data Types/BIGINT_EN.md         |  19 +++
 .../sql-statements/Data Types/BOOLEAN_EN.md        |  19 +++
 .../sql-statements/Data Types/CHAR_EN.md           |  19 +++
 .../sql-statements/Data Types/DATETIME_EN.md       |  19 +++
 .../sql-statements/Data Types/DATE_EN.md           |  19 +++
 .../sql-statements/Data Types/DECIMAL_EN.md        |  19 +++
 .../sql-statements/Data Types/DOUBLE_EN.md         |  21 ++-
 .../sql-statements/Data Types/FLOAT_EN.md          |  19 +++
 .../Data Types/HLL(HyperLogLog)_EN.md              |  19 +++
 .../sql-statements/Data Types/INT_EN.md            |  19 +++
 .../sql-statements/Data Types/SMALLINT_EN.md       |  19 +++
 .../sql-statements/Data Types/TINYINT_EN.md        |  19 +++
 .../sql-statements/Data Types/VARCHAR_EN.md        |  19 +++
 .../sql-statements/Utility/util_stmt_EN.md         |  19 +++
 docs/readme.md                                     |  19 +++
 docs/website/README.md                             |  20 +++
 439 files changed, 8723 insertions(+), 329 deletions(-)

commit 7b4ae7df062a86c6edcfe0ef8ead21a10ab06db0
Merge: 7ad72bbc 96f60ea6
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Nov 6 16:09:56 2019 +0800

    Merge pull request #2141 from morningman/modify_routine_load_log
    
    Add some log to detect deadlock of routine load job

commit 96f60ea6caa00808c35cc7cd1f6436db70c17a6e
Author: morningman <morningman@163.com>
Date:   Wed Nov 6 15:57:51 2019 +0800

    Add some log to detect deadlock of routine load job

 fe/src/main/java/org/apache/doris/alter/AlterHandler.java            | 2 +-
 .../main/java/org/apache/doris/load/routineload/RoutineLoadJob.java  | 5 ++++-
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java               | 4 ++--
 .../main/java/org/apache/doris/transaction/GlobalTransactionMgr.java | 2 ++
 4 files changed, 9 insertions(+), 4 deletions(-)

commit 7ad72bbcb8f9e9533cfe7c6d84e7f4f5d9fc98bc
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Nov 5 20:31:23 2019 +0800

    Enable decimalV2 cast to different precision (#2131)
    
    The precision of cast function is useless. For example,
    Query: select cast(10 as decimal(1,0));
    Result: 10
    Although numeric field is overflow, the numeric could be return.
    
    So, the cast function from decimal(a,b) to decimal(c,d) could not be executed.

 fe/src/main/java/org/apache/doris/analysis/CastExpr.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78a4270457a87493860bcef74a7ab33c242c78ff
Author: kangpinghuang <kphuang@163.com>
Date:   Tue Nov 5 20:27:22 2019 +0800

    Fix in predicate bug (#2132)

 be/src/olap/in_list_predicate.cpp       |  4 +-
 be/test/olap/in_list_predicate_test.cpp | 65 +++++++++++++++++++++++++++++++++
 2 files changed, 67 insertions(+), 2 deletions(-)

commit 0046eecb0a258a91a7b66b9f08ea9a65fc9f2ec1
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Nov 5 20:09:17 2019 +0800

    Refactor OwnedSlice (#2126)

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |  8 +--
 be/src/olap/rowset/segment_v2/binary_dict_page.h   |  3 -
 be/src/olap/rowset/segment_v2/binary_plain_page.h  | 16 ++---
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    | 16 ++---
 be/src/olap/rowset/segment_v2/column_writer.cpp    | 36 +++++-----
 be/src/olap/rowset/segment_v2/column_writer.h      | 15 ++--
 .../rowset/segment_v2/frame_of_reference_page.h    |  8 +--
 be/src/olap/rowset/segment_v2/page_builder.h       |  9 ++-
 be/src/olap/rowset/segment_v2/plain_page.h         |  5 +-
 be/src/olap/rowset/segment_v2/rle_page.h           | 15 ++--
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  7 +-
 be/src/util/faststring.h                           | 13 ++--
 be/src/util/owned_slice.h                          | 80 ----------------------
 be/src/util/slice.h                                | 49 +++++++++++++
 14 files changed, 110 insertions(+), 170 deletions(-)

commit 65c3b0907adf92c85961836f1f12d3884205ae65
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Nov 5 18:08:34 2019 +0800

    Support aggregation type of REPLACE_IF_NOT_NULL (#2127)
    
    Some use has the requirment that only some of columns will be update in
    one load operation, and others will retain as original. However, Doris
    can't handle this situation, because user must specify value for all
    columns. Then if a column aggregation method is REPLACE, use must query
    original value to overwrite it. This often needs some work for user to
    do.
    
    If this CL is applied, user can use REPLACE_IF_NOT_NULL instead of
    REPLACE. Then when load data to table, if user don't intent to change
    value of this column, user can specify NULL for this column. Doris will
    retain original value for this column.

 be/src/olap/aggregate_func.cpp                     | 14 +++++++
 be/src/olap/aggregate_func.h                       | 48 ++++++++++++++++++++++
 be/src/olap/field.h                                |  1 +
 be/src/olap/olap_common.h                          |  4 +-
 be/src/olap/rowset/segment_reader.cpp              | 10 +++--
 be/src/olap/tablet_schema.cpp                      |  5 +++
 .../sql-statements/Data Definition/CREATE TABLE.md |  9 ++--
 .../Data Definition/CREATE TABLE_EN.md             |  6 ++-
 fe/src/main/cup/sql_parser.cup                     |  8 +++-
 .../java/org/apache/doris/alter/RollupHandler.java |  3 +-
 .../apache/doris/alter/SchemaChangeHandler.java    |  6 ++-
 .../java/org/apache/doris/analysis/ColumnDef.java  | 12 ++++++
 .../org/apache/doris/catalog/AggregateType.java    |  6 +++
 .../apache/doris/common/util/PropertyAnalyzer.java |  3 +-
 fe/src/main/jflex/sql_scanner.flex                 |  1 +
 .../org/apache/doris/analysis/ColumnDefTest.java   | 18 ++++++++
 gensrc/thrift/Types.thrift                         |  3 +-
 17 files changed, 142 insertions(+), 15 deletions(-)

commit ccc1b9d98c70a529f87a5fa09a2df44192dd0a4d
Author: shengyunyao <shunyuyao@126.com>
Date:   Tue Nov 5 09:25:47 2019 +0800

    Optimize percentile_approx through radix sort (#2102) (#2107)

 be/src/util/radix_sort.h                 | 320 +++++++++++++++++++++++++++++++
 be/src/util/tdigest.h                    |  35 +++-
 be/test/exprs/percentile_approx_test.cpp |   3 +-
 be/test/util/CMakeLists.txt              |   1 +
 be/test/util/radix_sort_test.cpp         | 238 +++++++++++++++++++++++
 be/test/util/tdigest_test.cpp            |   2 +-
 run-ut.sh                                |   1 +
 7 files changed, 590 insertions(+), 10 deletions(-)

commit d2e34310efcfc75fdf3161d807cdabade23871db
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Nov 5 09:23:41 2019 +0800

    Fix bug that UpdateTabletMetaInfoTask not returned (#2119)

 fe/src/main/java/org/apache/doris/master/ReportHandler.java | 1 -
 fe/src/main/java/org/apache/doris/task/AgentBatchTask.java  | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit d83eec7a14ef5c9d96f78e20f4c74971c33f98be
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Nov 4 18:44:04 2019 +0800

    Fix META read (#2125)
    
    PR #2083 introduce a meta read bug, which will ignore already written data.

 fe/src/main/java/org/apache/doris/qe/SessionVariable.java | 2 ++
 1 file changed, 2 insertions(+)

commit ac5dd0c9f2f638c2807ffa2ef2cdfec0541b259a
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Fri Nov 1 23:21:00 2019 +0800

    Support sql mode (#2083)
    
    At present, we do not support SQL MODE which is similar to MySQL. In MySQL, SQL MODE is stored in global session and session with a 64 bit address，and every bit 0 or 1 on this address represents a mode state. Besides, MySQL supports combine mode which is composed of several modes.
    
    We should support SQL MODE to deal with sql dialect problems. We can heuristically use the MySQL way to store SQL MODE in session and parse it into string when we need to return it back to client.
    
    This commit suggests a solution to support SQL MODE. But it's just a sample, and the mode types in SqlModeHelper.java are not really meaningful from now on.

 .../cn/administrator-guide/sql-mode.md             |  42 +++++
 .../en/administrator-guide/sql-mode_EN.md          |  42 +++++
 .../java/org/apache/doris/analysis/SetVar.java     |  18 +-
 .../org/apache/doris/analysis/SysVariableDesc.java |   8 +
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../java/org/apache/doris/qe/SessionVariable.java  |  15 +-
 .../java/org/apache/doris/qe/SqlModeHelper.java    | 185 +++++++++++++++++++++
 .../main/java/org/apache/doris/qe/VariableMgr.java |   9 +
 .../java/org/apache/doris/analysis/SetVarTest.java |  15 ++
 .../apache/doris/analysis/SysVariableDescTest.java |   1 +
 .../org/apache/doris/qe/SqlModeHelperTest.java     |  61 +++++++
 .../java/org/apache/doris/qe/VariableMgrTest.java  |   8 +-
 13 files changed, 400 insertions(+), 8 deletions(-)

commit e1a8f9d30fce423e5d338e6dd17581b25911a994
Author: wangbo <506340561@qq.com>
Date:   Fri Nov 1 22:52:58 2019 +0800

    Segment v2 stream load core dump(#2037) (#2075)
    
    [STORAGE]
    1 fix mem fix mem leak when calling string builder.get_dictionary_page;
    2 fix delete invalid mem addr in bitshuffleBuilder when no array grow happends
    when bitshuffleBuilder didn't grow array, the data page which not use new to allocate will be
    returned to ColumnWriter.
    When ColumnWriter destructs, the data page will be deleted,this causes core dump

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp | 13 ++--
 be/src/olap/rowset/segment_v2/binary_dict_page.h   | 16 ++---
 be/src/olap/rowset/segment_v2/binary_plain_page.h  | 19 ++---
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    | 22 +++---
 be/src/olap/rowset/segment_v2/column_writer.cpp    | 13 ++--
 be/src/olap/rowset/segment_v2/column_writer.h      |  7 +-
 be/src/olap/rowset/segment_v2/column_zone_map.h    |  2 +-
 .../rowset/segment_v2/frame_of_reference_page.h    | 18 ++---
 be/src/olap/rowset/segment_v2/page_builder.h       | 20 ++----
 be/src/olap/rowset/segment_v2/plain_page.h         | 18 ++---
 be/src/olap/rowset/segment_v2/rle_page.h           | 18 ++---
 be/src/util/owned_slice.h                          | 80 ++++++++++++++++++++++
 .../rowset/segment_v2/binary_dict_page_test.cpp    | 34 +++++----
 .../rowset/segment_v2/binary_plain_page_test.cpp   |  6 +-
 .../rowset/segment_v2/bitshuffle_page_test.cpp     |  6 +-
 .../rowset/segment_v2/column_zone_map_test.cpp     |  8 +--
 .../segment_v2/frame_of_reference_page_test.cpp    | 14 ++--
 be/test/olap/rowset/segment_v2/plain_page_test.cpp |  4 +-
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   | 14 ++--
 19 files changed, 187 insertions(+), 145 deletions(-)

commit 713e04624fa9cd6ce255d3ee60f496d2240078b1
Author: shengyunyao <shunyuyao@126.com>
Date:   Fri Nov 1 13:07:39 2019 +0800

    Modify the lower bound of percentile_approx compression param to 2048 (#2111)

 be/src/exprs/aggregate_functions.cpp                              | 2 +-
 .../sql-functions/aggregate-functions/percentile_approx.md        | 8 ++++----
 .../sql-functions/aggregate-functions/percentile_approx_EN.md     | 6 +++---
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 45df6aae08bb8be00e1921f3821c17e01e8a9f57
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 31 21:53:03 2019 +0800

    Fix some routine load bugs (#2093)
    
    Mainly fix the following issues:
    
    1. A null pointer exception is raised when a database or table is dropped. The expected behavior is that the routine load job is stopped.
    
    2. Memory leaks. Batch routine load task submissions are no longer performed, and modifications are submitted separately for each task.
    
    3. Unreasonable task timeout.
        Routine load tasks should not be queued in the BE thread pool for execution. The task sent to the BE should be executed immediately, otherwise the task in the FE will be timeout first. Eventually leads to constant timeout for all subsequent tasks.
    
    4. All routine load job should be scheduled once it being submitted. Not waiting the available BE slot. Otherwise, all later submitted jobs may not be scheduled forever.

 be/src/common/config.h                             |   4 +
 be/src/common/status.h                             |   4 +
 .../routine_load/routine_load_task_executor.cpp    |   8 +-
 .../routine_load/routine_load_task_executor.h      |   2 +-
 be/src/service/backend_service.cpp                 |   3 +-
 .../load-data/routine-load-manual.md               |  19 +-
 .../load-data/routine-load-manual_EN.md            | 199 +++++++++++++--------
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    |   6 +-
 .../java/org/apache/doris/catalog/Catalog.java     |   2 +-
 .../main/java/org/apache/doris/common/Config.java  |  17 +-
 .../org/apache/doris/common/util/LogBuilder.java   |  20 +--
 .../load/routineload/KafkaRoutineLoadJob.java      |   8 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |  14 +-
 .../doris/load/routineload/RoutineLoadJob.java     |  12 +-
 .../doris/load/routineload/RoutineLoadManager.java |  58 +++---
 .../load/routineload/RoutineLoadScheduler.java     |  17 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  62 +++++--
 .../load/routineload/RoutineLoadTaskScheduler.java | 183 +++++++++++--------
 .../apache/doris/service/FrontendServiceImpl.java  |   2 +-
 .../doris/transaction/GlobalTransactionMgr.java    | 185 +++++++------------
 .../apache/doris/transaction/TransactionState.java |  10 ++
 .../load/routineload/KafkaRoutineLoadJobTest.java  |   3 +-
 .../doris/load/routineload/RoutineLoadJobTest.java |   2 +-
 .../load/routineload/RoutineLoadManagerTest.java   |  42 +++--
 .../load/routineload/RoutineLoadSchedulerTest.java |   3 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   9 +-
 .../transaction/GlobalTransactionMgrTest.java      |   6 +-
 gensrc/thrift/Status.thrift                        |   1 +
 28 files changed, 499 insertions(+), 402 deletions(-)

commit 95a3b4ccfedb03b095258d6c616b9c8793ace34a
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Oct 31 21:42:58 2019 +0800

    Add object type (#1948)
    
    Add a new type: Object. Currently, it's mainly for complex aggregate metrics(HLL , Bitmap).
    
    The Object type has the following constraints：
    1 Object type could not as key column type
    2 Object type doesn't support all indices (BloomFilter, short key, zone map, invert index)
    3 Object type doesn't support filter and group by
    
    In the implementation：
    
    The Object type reuse the StringValue and StringVal, because in storage engine, the Object type is binary, it has a pointer and length.

 be/src/exec/olap_scanner.cpp                       |   1 +
 be/src/exec/tablet_sink.cpp                        |   6 -
 be/src/exprs/agg_fn_evaluator.cpp                  |  10 +-
 be/src/exprs/anyval_util.cpp                       |   5 +-
 be/src/exprs/anyval_util.h                         |  41 +------
 be/src/exprs/case_expr.cpp                         |   2 +
 be/src/exprs/expr.cpp                              |  12 +-
 be/src/exprs/expr_context.cpp                      |   5 +-
 be/src/exprs/new_agg_fn_evaluator.cc               |   7 +-
 be/src/olap/aggregate_func.cpp                     |   3 +-
 be/src/olap/aggregate_func.h                       |  10 +-
 be/src/olap/olap_common.h                          |   3 +-
 be/src/olap/row_block.cpp                          |   2 +-
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |  19 ++-
 be/src/olap/tablet_schema.cpp                      |   8 ++
 be/src/olap/types.cpp                              |   1 +
 be/src/olap/types.h                                |  12 ++
 be/src/runtime/primitive_type.cpp                  |  14 +++
 be/src/runtime/primitive_type.h                    |  16 ++-
 be/src/runtime/raw_value.cpp                       |   2 +
 be/src/runtime/types.h                             |   6 +-
 be/src/runtime/vectorized_row_batch.cpp            |   6 +-
 be/src/udf/udf.h                                   |   3 +-
 be/src/util/symbols_util.cpp                       |   1 +
 .../sql-functions/aggregate-functions/bitmap.md    |   2 +-
 .../sql-statements/Data Definition/CREATE TABLE.md |  10 +-
 .../sql-functions/aggregate-functions/bitmap_EN.md |   2 +-
 .../Data Definition/CREATE TABLE_EN.md             |  11 +-
 fe/src/main/cup/sql_parser.cup                     |   6 +-
 .../org/apache/doris/analysis/CreateTableStmt.java |   5 +
 .../apache/doris/analysis/FunctionCallExpr.java    |  30 +++++
 .../java/org/apache/doris/analysis/InsertStmt.java |   3 +
 .../java/org/apache/doris/analysis/SelectStmt.java |  13 +-
 .../java/org/apache/doris/analysis/SlotRef.java    |   4 -
 .../java/org/apache/doris/analysis/TypeDef.java    |   4 +-
 .../org/apache/doris/catalog/AggregateType.java    |   2 +-
 .../java/org/apache/doris/catalog/Function.java    |   2 +
 .../org/apache/doris/catalog/PrimitiveType.java    | 134 ++-------------------
 .../org/apache/doris/catalog/ScalarFunction.java   |   1 +
 .../java/org/apache/doris/catalog/ScalarType.java  |   7 ++
 .../main/java/org/apache/doris/catalog/Type.java   |  62 +++++-----
 .../java/org/apache/doris/common/util/Util.java    |   1 +
 .../apache/doris/task/HadoopLoadPendingTask.java   |   3 +
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 gensrc/proto/segment_v2.proto                      |   3 +-
 gensrc/thrift/Types.thrift                         |   3 +-
 46 files changed, 256 insertions(+), 248 deletions(-)

commit 78d7a8f3154550e1da319a903618f4266f6a9219
Author: shengyunyao <shunyuyao@126.com>
Date:   Thu Oct 31 17:21:32 2019 +0800

    Add Apache license header in config files (#2081) (#2110)

 conf/be.conf                                          | 17 +++++++++++++++++
 conf/fe.conf                                          | 17 +++++++++++++++++
 .../apache_hdfs_broker/conf/apache_hdfs_broker.conf   | 19 ++++++++++++++++++-
 3 files changed, 52 insertions(+), 1 deletion(-)

commit e7d6bbd33600a27b8db36933ff08cb2763c2c90c
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Oct 31 14:10:43 2019 +0800

    Fix explain InsertStmt NPE in FOLLOWER node (#2097)

 .../main/java/org/apache/doris/analysis/InsertStmt.java | 17 +++++++++++++----
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java  | 11 ++++++-----
 2 files changed, 19 insertions(+), 9 deletions(-)

commit 5618baebbcd93115817be7aad03d369fd891d0db
Author: shengyunyao <shunyuyao@126.com>
Date:   Thu Oct 31 14:05:40 2019 +0800

    Modify Copyright in NOTICE file to 2018-2019 (#2080) (#2109)

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e8c96f28bb0d9b8393301bee9d4f4d392d1f772
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 31 11:11:50 2019 +0800

    Optimize FE start logic (#2052)

 be/src/olap/compaction.cpp                         |   3 +
 be/src/olap/utils.h                                |   2 +-
 fe/src/main/java/org/apache/doris/PaloFe.java      |  26 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 446 +++++++++++----------
 .../org/apache/doris/catalog/TabletStatMgr.java    |  13 +-
 .../main/java/org/apache/doris/common/Config.java  |   2 +-
 .../doris/common/proc/FrontendsProcNode.java       |  13 +-
 .../java/org/apache/doris/common/util/Daemon.java  |   8 +
 .../java/org/apache/doris/common/util/Util.java    |   6 +-
 .../org/apache/doris/deploy/DeployManager.java     |   8 +-
 .../org/apache/doris/external/EsStateStore.java    |  32 +-
 fe/src/main/java/org/apache/doris/ha/BDBHA.java    |   5 +-
 .../apache/doris/ha/BDBStateChangeListener.java    |  73 +---
 .../java/org/apache/doris/http/BaseAction.java     |  10 -
 .../java/org/apache/doris/http/HttpServer.java     |  16 +-
 .../org/apache/doris/http/HttpServerHandler.java   |   6 +-
 .../org/apache/doris/http/action/HaAction.java     |   2 +-
 .../apache/doris/http/action/SessionAction.java    |   4 +-
 .../doris/http/rest/BootstrapFinishAction.java     |   6 +-
 .../apache/doris/http/rest/ShowMetaInfoAction.java |  17 +-
 .../apache/doris/journal/bdbje/BDBJEJournal.java   |  50 ++-
 .../java/org/apache/doris/master/Checkpoint.java   |   4 +-
 .../java/org/apache/doris/persist/EditLog.java     |   9 +-
 .../apache/doris/planner/DistributedPlanner.java   |  26 +-
 .../apache/doris/planner/SingleNodePlanner.java    |  10 +-
 .../main/java/org/apache/doris/qe/QeService.java   |  13 -
 .../java/org/apache/doris/service/FeServer.java    |  36 +-
 .../java/org/apache/doris/system/HeartbeatMgr.java |  13 +-
 .../org/apache/doris/http/DorisHttpTestCase.java   |   2 +-
 .../java/org/apache/doris/qe/StmtExecutorTest.java |   3 +-
 .../org/apache/doris/system/HeartbeatMgrTest.java  |  19 +-
 31 files changed, 428 insertions(+), 455 deletions(-)

commit 03d384ac518e9a1fc1b8f67c6fab03eca5c8e604
Author: yangzhg <780531911@qq.com>
Date:   Thu Oct 31 10:34:22 2019 +0800

    Add .rat_excludes file, and modify related documents (#2031) (#2105)

 .rat-excludes                                      |  15 +++
 .../cn/community/verify-apache-release.md          |  16 +--
 .../en/community/verify-apache-release_EN.md       |  16 +--
 .../java/org/apache/doris/http/Http API Reference  | 113 ---------------------
 4 files changed, 31 insertions(+), 129 deletions(-)

commit f53f188c5dbb0171a4f36414272b8470c7c05ff4
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Thu Oct 31 10:32:06 2019 +0800

    Add arrow IPC serialization for Doris-Spark-Connector (#2013)

 be/src/gen_cpp/CMakeLists.txt                |   2 +
 be/src/runtime/fragment_mgr.cpp              |   1 +
 be/src/runtime/memory_scratch_sink.cpp       | 150 +----------
 be/src/runtime/memory_scratch_sink.h         |  15 +-
 be/src/runtime/result_queue_mgr.cpp          |   5 +-
 be/src/runtime/result_queue_mgr.h            |  10 +-
 be/src/service/backend_service.cpp           |  32 ++-
 be/src/util/arrow/row_batch.cpp              | 191 +++++++++++++-
 be/src/util/arrow/row_batch.h                |   3 +
 be/test/runtime/memory_scratch_sink_test.cpp |  57 +++--
 be/test/runtime/result_queue_mgr_test.cpp    |  44 ++--
 be/test/util/CMakeLists.txt                  |   1 +
 be/test/util/arrow/arrow_work_flow_test.cpp  | 367 +++++++++++++++++++++++++++
 be/test/util/test_data/csv_data              |   6 +
 gensrc/thrift/DorisExternalService.thrift    |  65 +----
 gensrc/thrift/QueryPlanExtra.thrift          |  41 +++
 run-ut.sh                                    |   1 +
 17 files changed, 724 insertions(+), 267 deletions(-)

commit 6b4ef34162649cd411062060906eed35454e6710
Author: kangpinghuang <kphuang@163.com>
Date:   Wed Oct 30 19:39:41 2019 +0800

    fix AlphaRowsetTest by remove StorageEngine #2078 (#2091)

 be/src/olap/compaction.cpp                         |  1 -
 be/src/olap/data_dir.cpp                           |  5 ++-
 be/src/olap/delta_writer.cpp                       |  5 ++-
 be/src/olap/olap_snapshot_converter.cpp            | 14 ++++----
 be/src/olap/olap_snapshot_converter.h              |  4 +--
 be/src/olap/push_handler.cpp                       |  1 -
 be/src/olap/rowset/alpha_rowset.cpp                |  3 +-
 be/src/olap/rowset/alpha_rowset.h                  |  1 -
 be/src/olap/rowset/alpha_rowset_writer.cpp         |  1 -
 be/src/olap/rowset/alpha_rowset_writer.h           |  2 --
 be/src/olap/rowset/beta_rowset.cpp                 |  3 +-
 be/src/olap/rowset/beta_rowset.h                   |  1 -
 be/src/olap/rowset/beta_rowset_writer.cpp          |  1 -
 be/src/olap/rowset/beta_rowset_writer.h            |  2 --
 be/src/olap/rowset/column_data.cpp                 |  8 ++++-
 be/src/olap/rowset/rowset.cpp                      |  2 --
 be/src/olap/rowset/rowset.h                        |  2 --
 be/src/olap/rowset/rowset_factory.cpp              | 12 +++----
 be/src/olap/rowset/rowset_factory.h                |  1 -
 be/src/olap/rowset/rowset_writer.h                 |  2 --
 be/src/olap/rowset/rowset_writer_context.h         |  2 --
 be/src/olap/rowset/segment_group.cpp               | 13 +++++---
 be/src/olap/rowset/segment_writer.cpp              | 17 ++++++----
 be/src/olap/schema_change.cpp                      |  1 -
 be/src/olap/snapshot_manager.cpp                   | 11 +++---
 be/src/olap/snapshot_manager.h                     |  8 ++---
 be/src/olap/tablet.cpp                             |  6 ++--
 be/src/olap/tablet_manager.cpp                     |  1 -
 be/src/olap/task/engine_clone_task.cpp             | 11 +++---
 be/src/olap/task/engine_clone_task.h               |  2 +-
 be/src/olap/task/engine_storage_migration_task.cpp |  2 +-
 be/src/runtime/snapshot_loader.cpp                 |  2 +-
 be/test/olap/olap_snapshot_converter_test.cpp      | 10 +++---
 be/test/olap/rowset/alpha_rowset_test.cpp          | 39 +++++++++-------------
 be/test/olap/txn_manager_test.cpp                  |  6 ++--
 35 files changed, 89 insertions(+), 113 deletions(-)

commit 5287bc223143f6225a4e5e8bf598d79bf6ff0318
Author: Seaven <631766344@qq.com>
Date:   Wed Oct 30 19:06:21 2019 +0800

    Replace DISCLAIMER with DISCLAIMER-WIP (#2100)

 DISCLAIMER                                         |  6 --
 DISCLAIMER-WIP                                     | 18 +++++
 docker/README.md                                   |  2 +-
 docs/documentation/cn/community/release-process.md | 81 ++++++++++++++-------
 .../cn/community/verify-apache-release.md          |  2 +-
 .../en/community/release-process_EN.md             | 82 +++++++++++++++-------
 .../en/community/verify-apache-release_EN.md       |  2 +-
 7 files changed, 136 insertions(+), 57 deletions(-)

commit 0a0da8292fba8749a7f0ed61385b45432a12e8f7
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Oct 30 18:53:39 2019 +0800

    Fix BE could not strat (#2104)

 be/src/service/brpc_service.cpp | 1 -
 1 file changed, 1 deletion(-)

commit 8d2cc71934e2c2a902b0dbe25873d0d3e4a827c3
Author: zhouhaibing089 <zhouhaibing089@gmail.com>
Date:   Wed Oct 30 01:52:45 2019 -0700

    Format markdown of docker section (#2098)
    
    [DOC]
    This change makes the format correct so that's easier to view.

 docker/Dockerfile                                  |  2 +-
 docker/README.md                                   | 44 ++++++++++++----------
 .../cn/administrator-guide/config/fe_config.md     |  6 +--
 3 files changed, 29 insertions(+), 23 deletions(-)

commit b006d58f5c0a9da6e3eee9e08d20e2ad3ec3c31d
Author: wubiao <biao.wu@aliyun.com>
Date:   Wed Oct 30 12:27:50 2019 +0800

    Fix SegmentIterator lost data when there are multiple RowRanges (#2092)

 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6fd63a8f3cef195ffe3e38cb21020b44d9cc6da1
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Oct 29 11:07:17 2019 +0800

    Add the cast function for if function in outer join (#2087)
    
    [QUERY]
    The type of function which is different from the type of expr will return the incorrect result in query.
    
    Example:
      the type of expr is date
      the type of function is int
      So, the upper fragment will receive a int value instead of date while the result expr is date.
      If there is no cast function, the result of query will be incorrect.

 .../org/apache/doris/analysis/TupleIsNullPredicate.java | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 2ae54250e70c1b645878f2cac31e80a85cdf06e9
Author: kangpinghuang <kphuang@163.com>
Date:   Mon Oct 28 22:15:34 2019 +0800

    Fix null stats when beta rowset schema change (#2085)
    
    BetaRowsetReader's _context->stats is null when schema change calls next_block

 be/src/olap/rowset/beta_rowset_reader.cpp | 16 +++++++---------
 be/src/olap/rowset/beta_rowset_reader.h   |  2 +-
 be/src/olap/schema_change.cpp             |  2 ++
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 5e3ba03b5215cfddabfed531d3988e79a6c17f40
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Oct 28 20:18:45 2019 +0800

    Awareness of Backend down when loading data (#2076)

 .../java/org/apache/doris/analysis/InsertStmt.java |   7 +-
 .../org/apache/doris/load/loadv2/LoadTask.java     |   6 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |   4 +-
 .../java/org/apache/doris/planner/Planner.java     |  23 +-
 .../main/java/org/apache/doris/qe/Coordinator.java | 329 ++++++++++++---------
 .../org/apache/doris/rpc/BackendServiceProxy.java  |  16 +-
 .../java/org/apache/doris/rpc/RpcException.java    |  18 +-
 .../main/java/org/apache/doris/system/Backend.java |   9 +-
 8 files changed, 223 insertions(+), 189 deletions(-)

commit ebdcfc21df0c182410c5444d4e249c9b7bc6591a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Oct 28 18:51:05 2019 +0800

    Multi distinct + no group by + big data is stuck (#2079)
    
    ISSUE-2069: This kind of query could be stuck.
    The sender failed to send the last packet to receiver.
    Also, the failure does not be reportted to FE , so the query is not cancelled.
    The error log sames as "body_size=xxxx from xxx:xxx is too large".
    The reason of the socket is that the packet of the query is too big which is more then the max_body_size of brpc.
    
    This commit add a config named brpc_max_body_size whcih is used to change the max_body_size of brpc.
    Also, user can change the max_body_size directly on-the-fly by "http://host:brpc_port/flags".

 be/src/common/config.h                                         |  3 +++
 be/src/service/brpc.h                                          |  2 ++
 be/src/service/brpc_service.cpp                                | 10 ++++++++++
 be/src/service/brpc_service.h                                  |  1 -
 docs/documentation/cn/administrator-guide/config/fe_config.md  |  7 +++++++
 .../en/administrator-guide/config/fe_config_en.md              |  7 +++++++
 6 files changed, 29 insertions(+), 1 deletion(-)

commit 9408ad67e9cfc8af43d17920a10310a1c0d61bbf
Author: kangpinghuang <kphuang@163.com>
Date:   Sun Oct 27 12:12:41 2019 +0800

    Fix predicate error when reading BetaRowset (#2067)

 be/src/olap/row_block2.cpp                 |   4 +-
 be/src/olap/rowset/segment_v2/row_ranges.h |   3 +
 be/test/olap/CMakeLists.txt                |   1 +
 be/test/olap/row_block_test.cpp            |   2 -
 be/test/olap/row_block_v2_test.cpp         | 177 +++++++++++++++++++++++++++++
 run-ut.sh                                  |   1 +
 6 files changed, 184 insertions(+), 4 deletions(-)

commit 13fde9fce3f76cd51289b6683afa6dd201f7f6ea
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun Oct 27 12:06:39 2019 +0800

    Add stats to BetaRowsetReader (#2074)

 be/src/olap/rowset/beta_rowset_reader.cpp | 9 ++++++++-
 be/src/olap/rowset/beta_rowset_reader.h   | 2 ++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 1859819aa7b03af74d16d9ca56d12009441138ea
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Oct 25 22:27:41 2019 +0800

    Update doc for FE metadata recover (#2073)

 .../operation/metadata-operation.md                 | 21 ++++++++++++++++++++-
 .../operation/metadata-operation_EN.md              | 19 +++++++++++++++++++
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 52a176b2292e2841fc146d74589d4a9faceeb61f
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri Oct 25 19:25:18 2019 +0800

    Remove stats in SchemaChange (#2071)

 be/src/olap/schema_change.cpp | 2 --
 be/src/olap/schema_change.h   | 2 --
 2 files changed, 4 deletions(-)

commit b6e3725c5db59648ce67dbf621ffdcf75191b62f
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Oct 25 16:36:35 2019 +0800

    Fix bug that tablet failed to be committed when no data is loaded (#2064)

 be/src/olap/delta_writer.cpp                           | 12 +++++++-----
 fe/src/main/java/org/apache/doris/catalog/Catalog.java |  7 ++++++-
 2 files changed, 13 insertions(+), 6 deletions(-)

commit 189e08faa59963d40f99a4aeb140ee6f326131ac
Author: Seaven <631766344@qq.com>
Date:   Thu Oct 24 22:48:59 2019 +0800

    Replace NewStatus with Status (#2046)

 LICENSE.txt                                      |  16 --
 be/src/common/status.h                           |   2 +
 be/src/olap/CMakeLists.txt                       |   1 -
 be/src/olap/new_status.cpp                       | 134 ----------------
 be/src/olap/new_status.h                         | 188 -----------------------
 be/src/olap/rowset/rowset.h                      |   1 -
 be/src/olap/rowset/rowset_meta.h                 |   1 -
 be/src/olap/rowset/rowset_meta_manager.h         |   1 -
 be/src/olap/utils.cpp                            |  28 +++-
 be/test/olap/olap_snapshot_converter_test.cpp    |   1 -
 be/test/olap/rowset/rowset_meta_manager_test.cpp |   1 -
 be/test/olap/tablet_mgr_test.cpp                 |   1 -
 be/test/olap/txn_manager_test.cpp                |   1 -
 13 files changed, 26 insertions(+), 350 deletions(-)

commit 78bf825e734664ac258e944b2f353c6f92caa044
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Oct 24 22:36:30 2019 +0800

    Optimize the convert of row block v2 to v1 #2011 (#2058)
    
    Use MemPool exchange to avoid string copy
    Use batch convert to replace row by row

 be/src/olap/row_block2.cpp                | 54 +++++++++++++++----------------
 be/src/olap/row_block2.h                  | 12 ++-----
 be/src/olap/rowset/beta_rowset_reader.cpp | 20 +-----------
 3 files changed, 31 insertions(+), 55 deletions(-)

commit 78a5a84e0646d7beef2b4c4becab64e3af9c6917
Author: Youngwb <yangwenbo_mailbox@163.com>
Date:   Thu Oct 24 20:06:13 2019 +0800

    Remove drop repository name toLowerCase (#2060)
    
    Repository's name is case sensitive

 fe/src/main/java/org/apache/doris/backup/RepositoryMgr.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0bcfddab923587c91a9e8df277447b70e37c19a0
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Oct 24 18:57:14 2019 +0800

    Remove clear_alter_task (#2056)
    
    Alter task has been refactored and clear_alter_task is not necessary.

 be/src/agent/agent_server.cpp                | 15 ------
 be/src/agent/agent_server.h                  |  1 -
 be/src/agent/task_worker_pool.cpp            | 56 --------------------
 be/src/agent/task_worker_pool.h              |  1 -
 be/src/common/config.h                       |  2 -
 be/src/olap/CMakeLists.txt                   |  1 -
 be/src/olap/storage_engine.cpp               |  2 -
 be/src/olap/tablet_manager.cpp               | 40 ---------------
 be/src/olap/tablet_manager.h                 |  2 -
 be/src/olap/task/engine_clear_alter_task.cpp | 76 ----------------------------
 be/src/olap/task/engine_clear_alter_task.h   | 48 ------------------
 11 files changed, 244 deletions(-)

commit 4848c94262b4393ca0f434014c7ab2689644a985
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 24 14:08:53 2019 +0800

    Fix bug that unable to add bloom filter columns (#2054)

 .../java/org/apache/doris/analysis/ModifyTablePropertiesClause.java    | 3 +++
 1 file changed, 3 insertions(+)

commit e3c39a192c7eae14f5761632d114cd46d914027e
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Wed Oct 23 23:06:29 2019 +0800

    Fix schema change core dump because of null stats (#2049)

 be/src/olap/schema_change.cpp | 2 ++
 be/src/olap/schema_change.h   | 2 ++
 2 files changed, 4 insertions(+)

commit d33e1693b003b8eaf7c5ba9af522d212199cf106
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Oct 23 18:51:38 2019 +0800

    Initialize DeltaWriter lazily (#2044)
    
    Only when there is loading data passing to the delta writer, the delta writer is
    then initailized. Otherwise, there will be lots of unnecessary transaction adding
    and removing on BE.

 be/src/olap/delta_writer.cpp | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 9bc2325c6a401377a00809e8fa0cdfce19ac3999
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Oct 23 18:13:40 2019 +0800

    Fix incorrect scan bytes in metrics (#2034)

 be/src/exec/olap_scanner.cpp | 14 ++++++++------
 be/src/exec/olap_scanner.h   |  1 +
 2 files changed, 9 insertions(+), 6 deletions(-)

commit 06fe8579d293419514912c0f8c597f4eb556468e
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Oct 23 16:20:46 2019 +0800

    Update release process documents (#2008)

 docs/documentation/cn/community/release-process.md | 261 ++++++++++++---------
 .../en/community/release-process_EN.md             | 227 +++++++++++-------
 docs/website/source/_templates/footer.html         |   2 +-
 3 files changed, 283 insertions(+), 207 deletions(-)

commit e6bd1855e21646a60870ad711e530e7260a87e3b
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Wed Oct 23 11:08:14 2019 +0800

    fix default compaction rowset type bug (#2042)

 be/src/olap/storage_engine.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d25f0ba69a167efe95612bb9af403446ddb89a78
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Wed Oct 23 10:25:28 2019 +0800

    Make ColumnReader load lazily (#2026)
    
    [Storage][SegmentV2]
    Currently `segment_v2::Segment::open` will eagerly initialize all column readers, regardless of whether the column is queried or not. Initializing `segment_v2::ColumnReader` incurs additional I/O cost to read ordinal index and zonemap index and should be delayed to the time it's needed.

 be/src/olap/rowset/segment_v2/column_reader.cpp    | 73 +++++++++++-----------
 be/src/olap/rowset/segment_v2/column_reader.h      | 67 +++++++++++++-------
 be/src/olap/rowset/segment_v2/segment.cpp          | 35 ++++-------
 be/src/olap/rowset/segment_v2/segment.h            | 14 ++---
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  8 ++-
 .../segment_v2/column_reader_writer_test.cpp       | 11 ++--
 .../rowset/segment_v2/column_zone_map_test.cpp     | 10 +--
 be/test/olap/tablet_schema_helper.h                | 12 ++--
 8 files changed, 122 insertions(+), 108 deletions(-)

commit 0f94b685abe772e9a6037cdec176774334b763f0
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Tue Oct 22 17:23:33 2019 +0800

    Add ES7.x compatibility for doris on es (#2033)

 be/src/exec/es/es_scroll_parser.cpp | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 9c2d149c3654686ab45abad1c72ffcc8d3ba5d1b
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Oct 22 09:43:16 2019 +0800

    add profile for segment v2 (#2015)

 be/src/exec/olap_scan_node.cpp                     |  3 ++
 be/src/exec/olap_scan_node.h                       |  7 +++
 be/src/exec/olap_scanner.cpp                       |  3 ++
 be/src/olap/olap_common.h                          |  4 ++
 be/src/olap/rowset/beta_rowset_reader.cpp          | 45 ++++++++++-------
 be/src/olap/rowset/segment_v2/column_reader.cpp    | 58 +++++++++++++++-------
 be/src/olap/rowset/segment_v2/column_reader.h      | 27 ++++++----
 be/src/olap/rowset/segment_v2/segment.cpp          |  3 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 36 +++++++++-----
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  2 +
 .../segment_v2/column_reader_writer_test.cpp       |  6 ++-
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 20 +++++++-
 12 files changed, 151 insertions(+), 63 deletions(-)

commit 6634051359d13ff349dd1cc33fcb1319c273d168
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Mon Oct 21 21:44:00 2019 +0800

    Make default rowset type to config (#2020)

 be/src/common/config.h                             |  5 +++++
 be/src/olap/compaction.cpp                         |  2 +-
 be/src/olap/delta_writer.cpp                       |  2 +-
 be/src/olap/push_handler.cpp                       |  2 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  2 +-
 be/src/olap/storage_engine.cpp                     | 25 +++++++++++++++++++++-
 be/src/olap/storage_engine.h                       | 14 ++++++++++++
 be/src/olap/tablet_manager.cpp                     |  2 +-
 8 files changed, 48 insertions(+), 6 deletions(-)

commit 8aa2cbe12d22e56da650bcc9c00ca216eb5bc16e
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Mon Oct 21 16:05:12 2019 +0800

    Load Rowset only once in a thread-safe manner (#2022)
    
    [Storage]
    This PR implements thread-safe `Rowset::load()` for both AlphaRowset and BetaRowset. The main changes are
    
    1. Introduce `DorisCallOnce<ReturnType>` to be the replacement for `DorisInitOnce` . It works for both Status and OLAPStatus.
    2. `segment_v2::ColumnReader::init()` is now implemented by DorisCallOnce.
    3. `segment_v2::Segment` is now created by a factory open() method. This guarantees all Segment instances are in opened state.
    4. `segment_v2::Segment::_load_index()` is now implemented by DorisCallOnce.
    5. Implement thread-safe load() for AlphaRowset and BetaRowset

 be/src/olap/rowset/alpha_rowset.cpp             | 29 ++------------
 be/src/olap/rowset/alpha_rowset.h               |  9 ++---
 be/src/olap/rowset/beta_rowset.cpp              | 34 +++++-----------
 be/src/olap/rowset/beta_rowset.h                |  4 +-
 be/src/olap/rowset/rowset.cpp                   |  4 ++
 be/src/olap/rowset/rowset.h                     | 17 ++++----
 be/src/olap/rowset/segment_v2/column_reader.cpp |  4 ++
 be/src/olap/rowset/segment_v2/column_reader.h   |  5 +++
 be/src/olap/rowset/segment_v2/segment.cpp       | 49 +++++++++++++----------
 be/src/olap/rowset/segment_v2/segment.h         | 37 ++++++++++++-----
 be/src/olap/tablet.cpp                          |  2 +-
 be/src/olap/tablet.h                            |  4 +-
 be/src/util/once.h                              | 53 ++++++++++++++++++-------
 be/test/olap/rowset/segment_v2/segment_test.cpp | 20 +++++-----
 14 files changed, 146 insertions(+), 125 deletions(-)

commit 58c882fa2ad53b5be5e5210d3202f27287aa15b8
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Oct 21 15:07:28 2019 +0800

    Remove SchemaChangeV1 (#2014)

 be/src/agent/agent_server.cpp                  |   2 -
 be/src/agent/task_worker_pool.cpp              |  25 +--
 be/src/olap/CMakeLists.txt                     |   1 -
 be/src/olap/schema_change.cpp                  | 272 -------------------------
 be/src/olap/task/engine_schema_change_task.cpp | 118 -----------
 be/src/olap/task/engine_schema_change_task.h   |  71 -------
 gensrc/thrift/Types.thrift                     |   6 +-
 7 files changed, 7 insertions(+), 488 deletions(-)

commit 751a219f0a3fe6d7971faed311c60ef4921e358d
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Oct 21 13:57:50 2019 +0800

    Add the unchecked cast from date literal to others (#2021)
    
    Fix the ISSUE:2017
    This commit enable the cast function in date.
    The date literal can be cast to target type which is implicitly castable such as int, bigint, largeint.

 fe/src/main/java/org/apache/doris/analysis/DateLiteral.java | 2 ++
 1 file changed, 2 insertions(+)

commit 109eb79f19c424ca6762b855867a1bf00de8b2ef
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sun Oct 20 22:58:03 2019 +0800

    Add help doc for debug tool (#2019)

 .../documentation/cn/developer-guide/debug-tool.md |  247 ++
 .../documentation/en/developer-guide/debug-tool.md |  247 ++
 docs/resources/images/cpu-flame-demo.svg           | 3587 ++++++++++++++++++++
 docs/resources/images/cpu-pprof-demo.png           |  Bin 0 -> 306228 bytes
 docs/resources/images/cpu-pprof-demo.svg           | 1879 ++++++++++
 docs/resources/images/perf-report-demo.png         |  Bin 0 -> 133161 bytes
 6 files changed, 5960 insertions(+)

commit 05643dc40340f5028ee0f86757dcf51ebd9a4147
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Oct 19 15:53:24 2019 +0800

    Replace Arena with MemPool (#2012)
    
    After replacing Arena with MemPool, we can achieve one copy for string
    value read from segment v2. We can exchange MemPool's chunk between
    RowBlockV2 and RowBlock. This change only replace Arena, this work will
    be done in other change list.

 LICENSE.txt                                        | 16 -----
 be/src/olap/aggregate_func.h                       |  4 +-
 be/src/olap/column_block.h                         | 13 ++--
 be/src/olap/field.h                                | 40 ++++-------
 be/src/olap/generic_iterators.cpp                  |  3 +-
 be/src/olap/key_coder.h                            | 26 +++----
 be/src/olap/row.h                                  | 10 ---
 be/src/olap/row_block2.cpp                         |  1 +
 be/src/olap/row_block2.h                           | 17 +++--
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp | 11 +--
 be/src/olap/rowset/segment_v2/binary_dict_page.h   |  7 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  4 +-
 be/src/olap/rowset/segment_v2/column_reader.h      |  7 +-
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  | 10 +--
 be/src/olap/rowset/segment_v2/column_zone_map.h    |  9 ++-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  4 +-
 be/src/olap/skiplist.h                             |  2 +-
 be/src/olap/types.cpp                              |  1 -
 be/src/olap/types.h                                | 20 ------
 be/src/util/CMakeLists.txt                         |  1 -
 be/src/util/arena.cpp                              | 68 ------------------
 be/src/util/arena.h                                | 74 --------------------
 be/test/olap/delta_writer_test.cpp                 | 15 ++--
 be/test/olap/key_coder_test.cpp                    | 29 ++++----
 .../rowset/segment_v2/binary_dict_page_test.cpp    | 16 +++--
 .../rowset/segment_v2/binary_plain_page_test.cpp   | 18 ++---
 .../rowset/segment_v2/bitshuffle_page_test.cpp     | 17 +++--
 .../segment_v2/column_reader_writer_test.cpp       | 24 ++++---
 .../segment_v2/frame_of_reference_page_test.cpp    | 17 +++--
 be/test/olap/rowset/segment_v2/plain_page_test.cpp | 17 +++--
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   | 18 ++---
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 17 +++--
 be/test/olap/tablet_schema_helper.h                |  8 ++-
 be/test/util/CMakeLists.txt                        |  1 -
 be/test/util/arena_test.cpp                        | 81 ----------------------
 run-ut.sh                                          |  1 -
 36 files changed, 190 insertions(+), 437 deletions(-)

commit 292273be2e192e1e052a4962badd5cf921daeb9a
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Fri Oct 18 15:53:01 2019 +0800

    Fix string bug in segment v2 (#2005)

 be/src/olap/iterators.h                            |  4 ++++
 be/src/olap/row_block2.cpp                         | 17 +++++++++++++++++
 be/src/olap/row_block2.h                           |  5 +++++
 be/src/olap/rowset/beta_rowset_reader.cpp          | 11 ++++++-----
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  6 +++++-
 5 files changed, 37 insertions(+), 6 deletions(-)

commit 05c05cfc836ad30fd3f7f466571768ebb44c2822
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Fri Oct 18 14:27:19 2019 +0800

    Add apache arrow IPC module for Spark-Doris-Connector usage (#1958)
    
    Add FLATBUFFERS to TP archive

 thirdparty/build-thirdparty.sh | 6 ++++--
 thirdparty/vars.sh             | 8 +++++++-
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 3f325e001a607b1ef81d78851b478a66eb48000b
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Oct 18 09:35:49 2019 +0800

    Change the priority of different type in function (#2003)
    
    This commit fix the issue [ISSUE-2002].
    It changes the priority of coalesce, ifnull, nullif function etc.
    The priority of decimal is higher then varchar in the IS_SUPERTYPE_OF compare mode.
    
    Example:
    select coalesce(decimal_column, 1) from table;
        the return type of coalesce should be decimal instead of varchar.
    
    Add supertype about datetime and date
    The supertype of datetime is bigint, largeint etc.
    In IS_SUPERTYPE_OF compare mode, the function(bigint, bigint, bigint) is a supertype of function(datetime, bigint, int).
    
    Example:
    select coalesce(now(), 1)) from web_returns;
        the return type of coalesce should be bigint instead of varchar.

 fe/src/main/java/org/apache/doris/catalog/Type.java | 20 ++++++++++----------
 gensrc/script/doris_builtins_functions.py           | 20 ++++++++++++--------
 2 files changed, 22 insertions(+), 18 deletions(-)

commit c3b5046940f95cd1e91f1fb27982af68ddeb0621
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 17 21:08:29 2019 +0800

    Fix bug of invalid stream load task rollback (#1999)
    
    If stream load be committed with result PUBLISH_TIMEOUT, it should not rollback
    this transaction, but only return this message to user.

 be/src/http/action/stream_load.cpp                                 | 4 ++--
 be/src/runtime/stream_load/stream_load_executor.cpp                | 4 ++--
 fe/src/main/java/org/apache/doris/service/FrontendServiceImpl.java | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d9bb494d7f16c4a4313eb7890ab11d8af1aeaabd
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 17 20:00:12 2019 +0800

    Fix bug that insert stmt with label return label already exist. (#2006)

 .../java/org/apache/doris/analysis/InsertStmt.java | 33 +++++++++++++++-------
 1 file changed, 23 insertions(+), 10 deletions(-)

commit 4f7cc7e03393d2737f9c8986c320c4c8b3689220
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Oct 17 19:20:00 2019 +0800

    add predicate filter(#1652) (#1775)

 be/src/olap/column_block.h                         |   8 +-
 be/src/olap/column_predicate.h                     |  13 ++
 be/src/olap/comparison_predicate.cpp               |  80 ++++++++--
 be/src/olap/comparison_predicate.h                 |   4 +-
 be/src/olap/generic_iterators.cpp                  |  18 ++-
 be/src/olap/in_list_predicate.cpp                  |  68 ++++++--
 be/src/olap/in_list_predicate.h                    |   4 +-
 be/src/olap/iterators.h                            |   6 +
 be/src/olap/null_predicate.cpp                     |  18 ++-
 be/src/olap/null_predicate.h                       |   7 +-
 be/src/olap/row_block2.cpp                         |   5 +-
 be/src/olap/row_block2.h                           |  24 ++-
 be/src/olap/rowset/beta_rowset_reader.cpp          |  11 +-
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |   2 +-
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |   5 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  43 ++++--
 be/src/olap/selection_vector.h                     | 172 +++++++++++++++++++++
 be/src/util/bitmap.cpp                             |  19 +++
 be/src/util/bitmap.h                               |   7 +
 be/test/olap/CMakeLists.txt                        |   1 +
 be/test/olap/rowset/beta_rowset_test.cpp           | 171 ++++++++++++++------
 .../rowset/segment_v2/binary_dict_page_test.cpp    |   4 +-
 .../rowset/segment_v2/binary_plain_page_test.cpp   |   4 +-
 .../rowset/segment_v2/bitshuffle_page_test.cpp     |   4 +-
 .../segment_v2/column_reader_writer_test.cpp       |   8 +-
 .../segment_v2/frame_of_reference_page_test.cpp    |   4 +-
 be/test/olap/rowset/segment_v2/plain_page_test.cpp |   4 +-
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   |   4 +-
 be/test/olap/selection_vector_test.cpp             |  49 ++++++
 run-ut.sh                                          |   1 +
 30 files changed, 637 insertions(+), 131 deletions(-)

commit 3bca253fb39d12fcaea8390186ba799209cb2232
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Oct 17 19:19:46 2019 +0800

    Fix beta rowset read slow (#1994)
    
    [Bug][BetaRowset] fix beta rowset read slowly with limit
    
    beta rowset do not update raw_rows_read in statistics and will read all
    data in tablet when query with limit, which lead to long query time.

 be/src/olap/data_dir.cpp                  | 22 ----------------------
 be/src/olap/rowset/beta_rowset_reader.cpp |  2 ++
 be/src/olap/storage_engine.cpp            | 24 ------------------------
 be/test/olap/rowset/beta_rowset_test.cpp  | 13 ++++---------
 4 files changed, 6 insertions(+), 55 deletions(-)

commit 3c12af4dcc57798c34dbd8bb142144b988009b15
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Oct 17 14:40:16 2019 +0800

    Limit the memory consumption of broker scan node (#1996)
    
    If memory exceed limit, no more row batch will be pushed to batch queue

 be/src/exec/broker_scan_node.cpp                   |  8 +++++--
 be/src/exec/olap_scan_node.cpp                     |  2 +-
 be/src/olap/task/engine_storage_migration_task.cpp |  2 +-
 .../main/java/org/apache/doris/alter/AlterJob.java |  4 ++--
 .../org/apache/doris/analysis/DateLiteral.java     |  3 +--
 .../java/org/apache/doris/analysis/InsertStmt.java | 28 +++++++++++++++-------
 .../org/apache/doris/clone/TabletScheduler.java    |  3 ++-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  9 ++++---
 .../java/org/apache/doris/qe/StmtExecutor.java     | 14 ++++-------
 .../java/org/apache/doris/rewrite/FEFunctions.java | 14 +++++++++--
 .../doris/transaction/GlobalTransactionMgr.java    |  2 +-
 .../org/apache/doris/rewrite/FEFunctionsTest.java  |  1 +
 12 files changed, 58 insertions(+), 32 deletions(-)

commit ac16318c9b7753d263cbe4f9fa64ec58705e2177
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Oct 16 16:35:18 2019 +0800

    [Bug-fix][Broker-load] Fix the bug of the label already exists when the txn has been finished (#1992)
    
    If FE is restarted between txn committed and visible, the load job will be rescheduled and failed with label already exists.
    The reason is that there are inconsistency between transaction of load job and meta of load job.
    So, the replay of the txn attachment need to be done in function replayOnCommitted.
    The load job state and progress is correct after that.

 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  7 +-----
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 25 +++++++++-------------
 .../org/apache/doris/load/loadv2/LoadManager.java  |  6 ++++++
 .../org/apache/doris/load/loadv2/MiniLoadJob.java  | 17 +--------------
 .../doris/load/loadv2/BrokerLoadJobTest.java       |  4 ++--
 5 files changed, 20 insertions(+), 39 deletions(-)

commit d2bc47d2cc78e0a443135fa1ad3792f7b0fe46ad
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Oct 16 16:05:13 2019 +0800

    Add introduction of label_keep_max_second (#1993)
    
    [Docs]

 .../documentation/cn/administrator-guide/load-data/load-manual.md | 3 +++
 .../en/administrator-guide/load-data/load-manual_EN.md            | 8 ++++++--
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 41e55cfca9f58e7c2bada1864438fefca1b13251
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Oct 16 16:03:46 2019 +0800

    Modify fixed partition feature (#1989)
    
    1. Not support MAVALUE in multi partition column.
    2. Fix the incorrect show create table stmt.

 be/test/runtime/load_channel_mgr_test.cpp          |   1 +
 .../cn/getting-started/data-partition.md           |  34 +-
 .../sql-statements/Data Definition/ALTER TABLE.md  |  13 +-
 .../sql-statements/Data Definition/CREATE TABLE.md |   5 +-
 .../en/getting-started/data-partition_EN.md        | 361 +++++++--------
 .../Data Definition/ALTER TABLE_EN.md              | 500 +++++++++++----------
 fe/src/main/cup/sql_parser.cup                     |   4 +-
 .../apache/doris/analysis/AddPartitionClause.java  |  56 ---
 .../org/apache/doris/analysis/AddRollupClause.java |  58 ---
 .../org/apache/doris/analysis/AlterClause.java     |  42 +-
 .../apache/doris/analysis/AlterClusterClause.java  |  28 +-
 .../org/apache/doris/analysis/AlterTableStmt.java  |  47 +-
 .../org/apache/doris/analysis/PartitionDesc.java   |  31 +-
 .../apache/doris/analysis/PartitionKeyDesc.java    | 123 +++--
 .../org/apache/doris/analysis/PartitionValue.java  |  19 +-
 .../apache/doris/analysis/RangePartitionDesc.java  |  44 +-
 .../doris/analysis/SingleRangePartitionDesc.java   |  76 +---
 .../org/apache/doris/backup/MetaDownloadTask.java  | 366 ---------------
 .../org/apache/doris/backup/MetaUploadTask.java    |  43 --
 .../java/org/apache/doris/backup/ObjectWriter.java |  12 -
 .../java/org/apache/doris/catalog/Catalog.java     |  22 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  26 --
 .../org/apache/doris/catalog/PartitionKey.java     |  12 +-
 .../apache/doris/catalog/RangePartitionInfo.java   | 191 +++-----
 .../java/org/apache/doris/load/loadv2/LoadJob.java |   4 +-
 .../java/org/apache/doris/system/Frontend.java     |  18 +-
 .../org/apache/doris/backup/AlterClauseRWTest.java | 103 -----
 .../doris/catalog/RangePartitionInfoTest.java      |   4 +-
 28 files changed, 663 insertions(+), 1580 deletions(-)

commit 2fcb79e3ef98dba8cbfaaeb05a82b7f592177cb8
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Wed Oct 16 07:19:53 2019 +0800

    Fix wrong group by result bug (#1987)

 be/src/olap/rowset/beta_rowset_reader.cpp | 7 +++++--
 be/src/olap/schema_change.cpp             | 4 ++++
 be/test/olap/rowset/beta_rowset_test.cpp  | 2 ++
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 63fa260d3f0265df2d7f59fe320aab2b07b00186
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Wed Oct 16 07:19:20 2019 +0800

    Support prepare/close in UDF (#1985)
    
    The prepare/close step of scalar function is already supported in execution framework, We only need to do is that support it in syntax and meta in frontend.
    
    In addition, 'Hive' binary type of scalar function NOT supports prepare/close step, we need to make it supports.

 be/src/exprs/scalar_fn_call.cpp                    |  3 +-
 be/src/udf_samples/udf_sample.cpp                  |  5 ++
 be/src/udf_samples/udf_sample.h                    | 11 ++++
 .../Data Definition/create-function.md             | 45 +++++++++-----
 .../Data Definition/create-function_EN.md          | 70 +++++++++++++---------
 .../apache/doris/analysis/CreateFunctionStmt.java  |  6 +-
 .../org/apache/doris/catalog/ScalarFunction.java   |  4 +-
 7 files changed, 98 insertions(+), 46 deletions(-)

commit ee5b79ac2b538272374be60313fc6adeab7cfcaf
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Oct 15 22:46:19 2019 +0800

    Fix bug that memtable should be destroyed before finishing the load process (#1983)
    
    The parent mem tracker may be release before visiting it in child mem tracker,
    which cause segfault.

 be/src/olap/memtable_flush_executor.cpp |  4 ++++
 be/src/runtime/load_channel.cpp         |  6 +++---
 be/src/runtime/load_channel.h           |  4 ++--
 be/src/runtime/load_channel_mgr.cpp     | 22 ++++++++++++++++++----
 4 files changed, 27 insertions(+), 9 deletions(-)

commit ec7c8a2c6f5b481d75bcacff719e26c051cf9273
Author: worker24h <xxbzj249@163.com>
Date:   Mon Oct 14 20:50:30 2019 -0500

    Support adding fixed range partition
    
    eg: ALTER TABLE test_table ADD PARTITION p0125 VALUES [("20190125"), ("20190126"));

 .../load-data/routine-load-manual.md               |   2 +-
 .../sql-statements/Data Definition/CREATE TABLE.md |  41 +++-
 .../load-data/routine-load-manual_EN.md            |   2 +-
 .../Data Definition/CREATE TABLE_EN.md             |  49 ++++-
 fe/src/main/cup/sql_parser.cup                     |  43 +++-
 .../apache/doris/analysis/PartitionKeyDesc.java    |  94 +++++---
 .../org/apache/doris/analysis/PartitionValue.java  |  62 ++++++
 .../apache/doris/analysis/RangePartitionDesc.java  |   8 +
 .../org/apache/doris/catalog/PartitionKey.java     |  50 +++--
 .../apache/doris/catalog/RangePartitionInfo.java   |  30 ++-
 .../org/apache/doris/common/util/KuduUtil.java     |  20 +-
 .../org/apache/doris/external/EsIndexState.java    |  24 +--
 .../doris/planner/PartitionColumnFilter.java       |   7 +-
 .../doris/analysis/PartitionKeyDescTest.java       |   8 +-
 .../org/apache/doris/backup/AlterClauseRWTest.java |   3 +-
 .../org/apache/doris/backup/CatalogMocker.java     |   7 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   5 +-
 .../org/apache/doris/catalog/PartitionKeyTest.java |  64 +++---
 .../doris/catalog/RangePartitionInfoTest.java      | 237 +++++++++++++++++++--
 .../java/org/apache/doris/es/EsStateStoreTest.java |  10 +-
 .../apache/doris/planner/OlapTableSinkTest.java    |   3 +-
 .../java/org/apache/doris/task/AgentTaskTest.java  |   3 +-
 22 files changed, 612 insertions(+), 160 deletions(-)

commit 62acf5d098813dc5239c565baca04ecd8143a54e
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Oct 15 09:26:20 2019 +0800

    Limit the memory usage of Loading process (#1954)

 be/src/common/config.h                             |  12 +-
 be/src/common/logconfig.cpp                        |   5 +-
 be/src/common/logging.h                            |   4 +-
 be/src/exec/tablet_sink.cpp                        |   3 +
 be/src/exec/tablet_sink.h                          |   3 +
 be/src/http/action/stream_load.cpp                 |   7 +
 be/src/http/http_common.h                          |   1 +
 be/src/olap/delta_writer.cpp                       |  49 ++++-
 be/src/olap/delta_writer.h                         |  15 +-
 be/src/olap/file_stream.cpp                        |   4 +-
 be/src/olap/memtable.cpp                           |   7 +-
 be/src/olap/memtable.h                             |   4 +-
 be/src/olap/memtable_flush_executor.cpp            |   5 +-
 be/src/olap/memtable_flush_executor.h              |  18 +-
 be/src/olap/out_stream.cpp                         |   6 +-
 be/src/olap/rowset/column_reader.cpp               |   2 +-
 be/src/olap/rowset/segment_reader.cpp              |  20 +-
 be/src/olap/rowset/segment_writer.cpp              |   4 +-
 be/src/olap/rowset_graph.cpp                       |   2 +-
 be/src/olap/stream_index_writer.cpp                |   2 +-
 be/src/olap/utils.cpp                              |   2 +-
 be/src/runtime/CMakeLists.txt                      |   3 +-
 be/src/runtime/exec_env.h                          |   6 +-
 be/src/runtime/exec_env_init.cpp                   |   9 +-
 be/src/runtime/load_channel.cpp                    | 157 ++++++++++++++
 be/src/runtime/load_channel.h                      |  90 ++++++++
 be/src/runtime/load_channel_mgr.cpp                | 229 +++++++++++++++++++++
 .../{tablet_writer_mgr.h => load_channel_mgr.h}    |  55 ++---
 be/src/runtime/runtime_state.cpp                   |   2 +-
 be/src/runtime/tablet_writer_mgr.cpp               | 169 ---------------
 be/src/runtime/tablets_channel.cpp                 |  52 ++++-
 be/src/runtime/tablets_channel.h                   |  22 +-
 be/src/service/internal_service.cpp                |  10 +-
 be/test/exec/tablet_sink_test.cpp                  |  16 +-
 be/test/olap/delta_writer_test.cpp                 |   8 +-
 be/test/runtime/CMakeLists.txt                     |   2 +-
 ...iter_mgr_test.cpp => load_channel_mgr_test.cpp} |  58 ++++--
 .../alter-table/alter-table-schema-change.md       |   2 +-
 .../load-data/broker-load-manual.md                |   4 +-
 .../administrator-guide/load-data/load-manual.md   |  19 ++
 .../load-data/stream-load-manual.md                |   4 +
 .../Data Manipulation/BROKER LOAD.md               |   4 +-
 .../Data Manipulation/STREAM LOAD.md               |   2 +
 .../load-data/broker-load-manual_EN.md             |   4 +-
 .../load-data/load-manual_EN.md                    |  17 ++
 .../load-data/stream-load-manual_EN.md             |   4 +
 .../Data Manipulation/BROKER LOAD_EN.md            |   6 +-
 .../Data Manipulation/STREAM LOAD_EN.md            |   6 +-
 .../apache/doris/planner/StreamLoadPlanner.java    |   1 +
 .../java/org/apache/doris/task/StreamLoadTask.java |   8 +
 gensrc/proto/internal_service.proto                |   1 +
 gensrc/thrift/FrontendService.thrift               |   1 +
 run-ut.sh                                          |   2 +-
 53 files changed, 828 insertions(+), 320 deletions(-)

commit f130bd3e7b29729eabe32964b92922f68a9eb680
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Oct 15 09:25:12 2019 +0800

    Use Env function to operate directory (#1980)
    
    Now Env has unify all environment operation, such as file operation.
    However some of our old functions don't leverage it. This change unify
    FileUtils::scan_dir to use Env's function.

 be/src/agent/task_worker_pool.cpp            |  8 +--
 be/src/common/status.h                       |  2 +
 be/src/env/env.h                             | 16 ++++++
 be/src/env/env_posix.cpp                     | 17 +++++++
 be/src/http/action/restore_tablet_action.cpp |  3 +-
 be/src/http/download_action.cpp              |  3 +-
 be/src/olap/data_dir.cpp                     |  3 +-
 be/src/runtime/load_path_mgr.cpp             | 18 ++++---
 be/src/runtime/small_file_mgr.cpp            | 20 +++++---
 be/src/runtime/snapshot_loader.cpp           |  3 +-
 be/src/runtime/user_function_cache.cpp       | 21 +++++---
 be/src/util/doris_metrics.cpp                |  6 ++-
 be/src/util/file_utils.cpp                   | 76 ++++++----------------------
 be/src/util/file_utils.h                     | 30 +++++++----
 be/test/env/env_posix_test.cpp               | 39 ++++++++++++++
 15 files changed, 164 insertions(+), 101 deletions(-)

commit 43911521682010d0dfa1a4989e42606ef7a777c7
Author: WingC <1018957763@qq.com>
Date:   Tue Oct 15 09:24:53 2019 +0800

    Make variable argument UDAF work (#1982)

 be/src/exprs/new_agg_fn_evaluator.cc | 6 ++++++
 1 file changed, 6 insertions(+)

commit c3a3212ae5a7962562ad1bf0e439e2f84d799046
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Oct 14 23:05:00 2019 +0800

    Bump netty-all from 4.1.25.Final to 4.1.42.Final in /fe (#1959)
    
    Bumps [netty-all](https://github.com/netty/netty) from 4.1.25.Final to 4.1.42.Final.
    - [Release notes](https://github.com/netty/netty/releases)
    - [Commits](https://github.com/netty/netty/compare/netty-4.1.25.Final...netty-4.1.42.Final)
    
    Signed-off-by: dependabot[bot] <support@github.com>

 fe/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9fb9dbefcabeabf254b6f87b947ff752a0971370
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Oct 14 22:07:31 2019 +0800

    Get rid of compaction on rowset when making snapshot (#1977)
    
    When making snapshot for incremental clone, missed singleton versions may have been compacted.
    So get_rowset_by_version() will not acquire any rowset.
    This rowset should be acquired from _inc_rs_version_map.

 be/src/olap/snapshot_manager.cpp |  2 +-
 be/src/olap/tablet.cpp           | 14 ++++++++++++++
 be/src/olap/tablet.h             |  5 +++++
 3 files changed, 20 insertions(+), 1 deletion(-)

commit b84ef013eb9ca2773da2df9af2d782416bc3b1f7
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Oct 14 19:46:23 2019 +0800

    Fix the mistake for HLL in mini load (#1981)
    
    [Docs] Fix mistakes for HLL column in mini load

 .../cn/sql-reference/sql-statements/Data Definition/HLL.md  |  8 ++++----
 .../sql-statements/Data Manipulation/MINI LOAD.md           |  3 +++
 .../sql-reference/sql-statements/Data Definition/HLL_EN.md  | 13 ++++++++-----
 .../sql-statements/Data Manipulation/MINI LOAD_EN.md        |  7 +++++--
 4 files changed, 20 insertions(+), 11 deletions(-)

commit ccc236484b96b9698547112272a28085056864c3
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Oct 14 16:40:34 2019 +0800

    Fix bug that failed to add KEY column to DUPLICATE KEY table (#1973)

 .../cn/sql-reference/sql-statements/Data Definition/ALTER TABLE.md      | 2 +-
 fe/src/main/java/org/apache/doris/alter/RollupHandler.java              | 2 +-
 fe/src/main/java/org/apache/doris/alter/SchemaChangeHandler.java        | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 01e71def63e7e7bd3e6d76f370c2c49f8646e03d
Author: zhongyun2019 <52855164+zhongyun2019@users.noreply.github.com>
Date:   Mon Oct 14 16:23:04 2019 +0800

    Update engine_clone_task.cpp (#1979)

 be/src/olap/task/engine_clone_task.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6a9b0021f7bd0671a79c575ce39453b7bb01c7c
Author: yiguolei <yiguolei@baidu.com>
Date:   Mon Oct 14 16:04:47 2019 +0800

    Check tablet state before update it (#1974)
    
    After alter BE try to set tablet state to running but the tablet maybe dropped

 be/src/olap/schema_change.cpp |  2 +-
 be/src/olap/tablet.cpp        | 10 ++++++++++
 be/src/olap/tablet.h          |  8 +-------
 3 files changed, 12 insertions(+), 8 deletions(-)

commit a323a190a2c99bdedf88bd2e7e1ea015ec6d155e
Author: zhongyun2019 <52855164+zhongyun2019@users.noreply.github.com>
Date:   Mon Oct 14 12:22:51 2019 +0800

    Update monitor-alert.md (#1975)

 docs/documentation/cn/administrator-guide/operation/monitor-alert.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb7e63038b9c2ca7baf2e3da3b47bae633e2a275
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Oct 14 10:24:13 2019 +0800

    Fix compile fail (#1971)

 be/src/olap/rowset/segment_v2/column_zone_map.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e3cc0ee93e243495f798a5ace3836753930cb88b
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Mon Oct 14 10:05:00 2019 +0800

    Fix empty string bug in dict encoding (#1970)

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp | 23 +++++++++++++---------
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  6 ++++--
 2 files changed, 18 insertions(+), 11 deletions(-)

commit d68b1b287cd2cdbb9d8c7a12e3efa9bb3a29f4ea
Author: Lijia Liu <liutang123@yeah.net>
Date:   Sun Oct 13 22:06:09 2019 +0800

    Support segment-level zone map (#1931)

 be/src/olap/CMakeLists.txt                         |  1 +
 be/src/olap/rowset/beta_rowset_reader.cpp          | 10 ++-
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  1 +
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  | 49 +++++++++---
 be/src/olap/rowset/segment_v2/column_zone_map.h    |  8 +-
 .../rowset/segment_v2/empty_segment_iterator.cpp   | 31 ++++++++
 .../rowset/segment_v2/empty_segment_iterator.h     | 41 ++++++++++
 be/src/olap/rowset/segment_v2/segment.cpp          | 90 +++++++++++++++++-----
 be/src/olap/rowset/segment_v2/segment.h            | 15 +++-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  1 +
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  1 -
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 63 +++++++++++----
 gensrc/proto/segment_v2.proto                      |  7 +-
 13 files changed, 264 insertions(+), 54 deletions(-)

commit 7eece1e9e2768b5801e0cf6182a4f6c38d8f79ef
Author: WingC <1018957763@qq.com>
Date:   Sun Oct 13 22:04:23 2019 +0800

    Support variable arguments for UDAF  (#1968)

 be/src/exprs/agg_fn.cc               |   3 +-
 be/src/exprs/agg_fn.h                |   6 ++
 be/src/exprs/new_agg_fn_evaluator.cc | 200 ++++++++++++++++++++++++++---------
 3 files changed, 156 insertions(+), 53 deletions(-)

commit 80e9b21fb01df80a015f314cc8eb8d12ec3a3140
Author: wangbo <506340561@qq.com>
Date:   Sun Oct 13 13:23:43 2019 +0800

    Make Segment v2 use string's real length(#1943) (#1944)

 be/src/olap/field.h                                | 37 ++++++++++++++++----
 be/src/olap/olap_define.h                          |  3 --
 be/src/olap/rowset/segment_v2/column_writer.cpp    | 16 ++++-----
 be/src/olap/rowset/segment_v2/column_writer.h      |  4 +--
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  |  9 +++--
 be/src/olap/rowset/segment_v2/column_zone_map.h    |  5 ++-
 be/src/olap/rowset/segment_v2/segment_writer.cpp   | 10 +++---
 be/src/olap/types.cpp                              |  3 +-
 be/src/olap/types.h                                | 39 +++-------------------
 .../segment_v2/column_reader_writer_test.cpp       | 39 ++++++++++++++++++++--
 .../rowset/segment_v2/column_zone_map_test.cpp     | 20 +++++++----
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 23 -------------
 be/test/olap/storage_types_test.cpp                | 18 ++++++----
 be/test/olap/tablet_schema_helper.h                | 25 +++++++++++++-
 14 files changed, 143 insertions(+), 108 deletions(-)

commit 8232261df1c0ddaf64388397e6209f4ad3f30a81
Author: yiguolei <yiguolei@baidu.com>
Date:   Sat Oct 12 23:30:11 2019 +0800

    Lost rowset during tablet revise tablet meta (#1967)

 be/src/olap/snapshot_manager.cpp                   | 64 +---------------------
 be/src/olap/snapshot_manager.h                     |  4 --
 be/src/olap/tablet.cpp                             | 19 ++++++-
 be/src/olap/tablet.h                               |  2 +
 be/src/olap/tablet_meta_manager.cpp                | 13 +----
 be/src/olap/tablet_meta_manager.h                  |  3 -
 be/src/olap/task/engine_storage_migration_task.cpp | 12 ++--
 7 files changed, 31 insertions(+), 86 deletions(-)

commit 463b462b8d41f5af9c726dc404dd9c477aae80b0
Author: yangzhg <780531911@qq.com>
Date:   Sat Oct 12 21:45:14 2019 +0800

    Add create_time to information_schema.tables

 .../exec/schema_scanner/schema_tables_scanner.cpp  | 35 ++++++++++++++++------
 .../main/java/org/apache/doris/catalog/Table.java  | 17 +++++++++++
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../apache/doris/service/FrontendServiceImpl.java  |  2 ++
 .../java/org/apache/doris/catalog/TableTest.java   |  1 +
 gensrc/thrift/FrontendService.thrift               |  2 ++
 7 files changed, 51 insertions(+), 10 deletions(-)

commit de4e45cd08113531c30d1f27cd8d2210c4db7704
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Sat Oct 12 21:32:53 2019 +0800

    Make Schema Change work on segment V2 (#1965)

 be/src/olap/schema_change.cpp | 23 ++++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit ce236bfcd4a93cdd75fb0cd131356f01886f7c2c
Author: xionglei0 <55084968+xionglei0@users.noreply.github.com>
Date:   Sat Oct 12 19:11:17 2019 +0800

    add alter table modify limit: Cannot change DATETIME to DATE (#1963)

 fe/src/main/java/org/apache/doris/catalog/Column.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 7370b44ab2990134c3fe78d176233b00330139b2
Author: yiguolei <yiguolei@baidu.com>
Date:   Sat Oct 12 14:36:49 2019 +0800

    Tablet report does not set version miss (#1961)

 be/src/olap/olap_common.h      | 19 ++++++++++++++++++-
 be/src/olap/rowset_graph.cpp   |  4 ++--
 be/src/olap/storage_engine.cpp |  3 ---
 be/src/olap/tablet.cpp         | 33 +++++++++++++++++++++++++++++++++
 be/src/olap/tablet.h           |  4 ++++
 be/src/olap/tablet_manager.cpp | 26 ++------------------------
 be/src/olap/tablet_manager.h   |  4 ----
 7 files changed, 59 insertions(+), 34 deletions(-)

commit 4678ec8dd939aca10301ff4879edd5399cd11213
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Fri Oct 11 23:12:38 2019 +0800

    Delete unused log (#1957)

 be/src/olap/rowset/segment_group.cpp | 22 ++++++++++++++--------
 1 file changed, 14 insertions(+), 8 deletions(-)

commit bbb3fdef8ca2b52622a90526354384bb0fa8381e
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Oct 11 20:07:25 2019 +0800

    Fix bug that OlapTableSink use invalid column as distribution column for RANDOM distribution table. (#1956)
    
    RANDOM distribution is deprecated long time ago, this is just for compatibility and bug fix.

 fe/src/main/java/org/apache/doris/planner/OlapTableSink.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 71731b25f4f97d87b7dc3e128b87c38cf440d170
Author: yiguolei <yiguolei@baidu.com>
Date:   Fri Oct 11 19:58:38 2019 +0800

    Ignore some compaction errors to reduce logs (#1955)

 be/src/olap/base_compaction.cpp       |  3 ---
 be/src/olap/cumulative_compaction.cpp |  6 ------
 be/src/olap/storage_engine.cpp        | 18 +++++++++++-------
 3 files changed, 11 insertions(+), 16 deletions(-)

commit 4a17152f40797299e31f50cd1d616865ac181e21
Author: shengyunyao <shunyuyao@126.com>
Date:   Fri Oct 11 18:56:59 2019 +0800

    Add tdigest compression param for pencentile_approx function (#1939)

 be/src/exprs/aggregate_functions.cpp               | 192 ++++++++++++---------
 be/src/exprs/aggregate_functions.h                 |  12 +-
 .../aggregate-functions/percentile_approx.md       |  12 +-
 .../aggregate-functions/percentile_approx_EN.md    |  11 +-
 .../org/apache/doris/analysis/AnalyticWindow.java  |   6 +-
 .../main/java/org/apache/doris/analysis/Expr.java  |   4 +-
 .../apache/doris/analysis/FunctionCallExpr.java    |  20 ++-
 .../java/org/apache/doris/catalog/FunctionSet.java |  81 +++++----
 8 files changed, 199 insertions(+), 139 deletions(-)

commit 948f497dd408b891aa0baa7964ab834d6fa4747d
Author: yangzhg <780531911@qq.com>
Date:   Fri Oct 11 17:21:41 2019 +0800

    Fix some warning when compile type is debug using -Werror flag(because of use deprecated funcrtions) (#1953)

 be/src/agent/cgroups_mgr.cpp | 173 ++++++++++++++++++++++---------------------
 be/src/olap/data_dir.cpp     |  63 ++++++----------
 be/src/olap/data_dir.h       |   5 +-
 be/src/util/disk_info.cpp    |   1 +
 4 files changed, 112 insertions(+), 130 deletions(-)

commit 0e4b3755a266a9b74ce3ef215ba021b1a795ddba
Author: yiguolei <yiguolei@baidu.com>
Date:   Fri Oct 11 17:16:13 2019 +0800

    Refactor txn manager methods (#1950)

 be/src/olap/delta_writer.cpp                     | 23 ++++++------------
 be/src/olap/push_handler.cpp                     | 26 +++++++-------------
 be/src/olap/storage_engine.cpp                   |  9 +++----
 be/src/olap/task/engine_publish_version_task.cpp |  6 ++---
 be/src/olap/txn_manager.cpp                      | 31 ++++++++++++++++++++++--
 be/src/olap/txn_manager.h                        | 21 ++++++++++++++--
 6 files changed, 69 insertions(+), 47 deletions(-)

commit d5493fb20a1fd77765e899e95d1514c3ef30c1c8
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Oct 11 15:57:53 2019 +0800

    Replace std::regex with RE2 (#1930)
    
    In Storage Engine GC, TabletManger use std::regex to extract tablet id
    and schema hash from path. But it will construct regex pattern for
    every path to check, this is a huge waste. This change list make this
    pattern a global static pattern, and replace it with RE2, which has
    better performance.

 be/src/olap/tablet_manager.cpp   | 53 ++++++++++++-----------------
 be/src/olap/tablet_manager.h     |  9 +++++
 be/test/olap/tablet_mgr_test.cpp | 73 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 103 insertions(+), 32 deletions(-)

commit e267d031bb1402cf7fa32b8196553fd9b1266cb3
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Oct 10 22:43:46 2019 +0800

    Enhance the speed of avg function (#1889)
    
    This commit enable the avg operator in fe instead of converting the avg function into sum/count.
    Also, this commit fix the bug of deciamlv2 avg which cause the core in be.
    The int128 could not be assinged directly.
    
    The speed of avg function is similar to sum function after enhancement.

 be/src/exprs/aggregate_functions.cpp               | 129 +++++++++++----------
 be/src/exprs/aggregate_functions.h                 |   2 +
 .../apache/doris/analysis/FunctionCallExpr.java    |   5 +-
 .../java/org/apache/doris/analysis/SelectStmt.java |  43 +------
 .../java/org/apache/doris/catalog/FunctionSet.java |   2 +-
 5 files changed, 75 insertions(+), 106 deletions(-)

commit e4f3e8fda7dd98a07f52689e94dd6c5058b538da
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu Oct 10 19:29:59 2019 +0800

    Remove redundant method in rowset meta manager (#1949)

 be/src/olap/data_dir.cpp                         |  4 +---
 be/src/olap/rowset/rowset_meta_manager.cpp       | 14 +++++---------
 be/src/olap/rowset/rowset_meta_manager.h         |  4 +---
 be/src/olap/tablet.cpp                           |  4 +++-
 be/src/olap/txn_manager.cpp                      | 11 ++++++-----
 be/test/olap/rowset/rowset_meta_manager_test.cpp |  4 +++-
 6 files changed, 19 insertions(+), 22 deletions(-)

commit b72a4a4bc65b7851db358fff2bee0d878d8ba546
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu Oct 10 09:39:02 2019 +0800

    Add tablet meta checkpoint mechanism (#1936)

 be/src/common/config.h                           |   4 +
 be/src/olap/data_dir.cpp                         |  23 ++---
 be/src/olap/olap_server.cpp                      |  10 ++
 be/src/olap/rowset/rowset.h                      |   4 +
 be/src/olap/rowset/rowset_meta.h                 |   4 +
 be/src/olap/schema_change.cpp                    |   7 +-
 be/src/olap/storage_engine.cpp                   |  63 ++++++++++++
 be/src/olap/storage_engine.h                     |   7 ++
 be/src/olap/tablet.cpp                           | 116 ++++++++++++++++++++++-
 be/src/olap/tablet.h                             |  13 ++-
 be/src/olap/tablet_manager.cpp                   |  27 +++++-
 be/src/olap/tablet_manager.h                     |   2 +
 be/src/olap/task/engine_publish_version_task.cpp |   2 -
 13 files changed, 256 insertions(+), 26 deletions(-)

commit d46fc59cc3d3c57b6ccb716eea61328395d5af4e
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Oct 9 22:32:48 2019 +0800

    Add send_clear_alter_tasks operation
    
    ALTER TABLE tbl SET ("send_clear_alter_tasks" = "true");

 .../apache/doris/alter/SchemaChangeHandler.java    | 34 ++++++++++++++++++++++
 .../analysis/ModifyTablePropertiesClause.java      |  5 ++++
 .../apache/doris/common/util/PropertyAnalyzer.java |  1 +
 3 files changed, 40 insertions(+)

commit 024348d74b2f6d3bdbd2f2866b9de8668767e5de
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Oct 9 22:31:27 2019 +0800

    Enable auto convert when check in (#1926)
    
    Leverage gitattributes to enable auto convert end-of-line to LF when
    checking in. Convert already exist CRLF to LF by removing all files and
    checking out with new .gitattributes file. Except .gitattributes, all
    files are only modified at the end of line.

 .gitattributes                                     |   16 +
 be/src/exec/es_scan_node.cpp                       | 1754 ++++++++++----------
 be/src/exec/es_scan_node.h                         |  184 +-
 be/src/gutil/cpu.cc                                |  572 +++----
 be/src/gutil/cpu.h                                 |  180 +-
 be/src/olap/rowset/rowset_writer_context.h         |  148 +-
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  684 ++++----
 .../olap/rowset/segment_v2/bitshuffle_wrapper.cpp  |  162 +-
 be/src/olap/rowset/segment_v2/bitshuffle_wrapper.h |   68 +-
 be/src/olap/rowset/segment_v2/page_builder.h       |  174 +-
 be/src/olap/rowset/segment_v2/page_decoder.h       |  158 +-
 be/src/olap/rowset/segment_v2/rle_page.h           |  512 +++---
 be/src/udf/CMakeLists.txt                          |   64 +-
 be/src/util/alignment.h                            |   52 +-
 be/src/util/bit_stream_utils.h                     |  298 ++--
 be/src/util/bit_stream_utils.inline.h              |  426 ++---
 be/src/util/faststring.cc                          |  144 +-
 be/src/util/faststring.h                           |  514 +++---
 be/src/util/rle_encoding.h                         | 1042 ++++++------
 be/test/exec/es_scan_node_test.cpp                 |  308 ++--
 .../rowset/segment_v2/bitshuffle_page_test.cpp     |  458 ++---
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   |  386 ++---
 be/test/util/faststring_test.cpp                   |  166 +-
 be/test/util/rle_encoding_test.cpp                 |  852 +++++-----
 .../cn/community/subscribe-mail-list.md            |   74 +-
 .../cn/internal/doris_storage_optimization.md      |  412 ++---
 .../en/internal/doris_storage_optimization_EN.md   |  168 +-
 27 files changed, 4996 insertions(+), 4980 deletions(-)

commit a6b843c04d4a194b1ef44639f64f4640ec5a22a9
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Oct 9 22:07:27 2019 +0800

    Fix OrdinalPageIndex header size (#1938)

 be/src/olap/rowset/segment_v2/ordinal_page_index.h | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 1c99e88fc0639758fac7913019202309159d0322
Author: yuanli <44718283+yuanlihan@users.noreply.github.com>
Date:   Tue Oct 8 11:07:02 2019 +0800

    Invalid hash value of DateLiteral (#1933)

 fe/src/main/java/org/apache/doris/analysis/DateLiteral.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0d729b1191657221cfc22f1c317d97277872c499
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Mon Oct 7 23:21:05 2019 +0800

    Filter empty strings of properties in file fe.conf (#1932)

 fe/src/main/java/org/apache/doris/common/ConfigBase.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0072712c807d8d47553b4a7b1195dc5808a78699
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Mon Sep 30 20:34:10 2019 +0800

    Add address reuesd option for http server (#1915)
    
    Avoid test failure accidentally because of the BindException (Address already in use)

 fe/src/main/java/org/apache/doris/http/HttpServer.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit c8abdf8989d8231a83cdd1c3b95eb0586ec1044e
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon Sep 30 20:32:32 2019 +0800

    Fix length equal restrict in schema change (#1921)

 fe/src/main/java/org/apache/doris/catalog/Column.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbf6214762fa13144aa60f6c1b7061f32c650f4e
Author: yuanli <44718283+yuanlihan@users.noreply.github.com>
Date:   Mon Sep 30 20:32:05 2019 +0800

    Add a miss break (#1923)

 be/src/exec/tablet_sink.cpp | 1 +
 1 file changed, 1 insertion(+)

commit 4e8d728e75a5fa2e8e6154d02da3f2e90d071ea9
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Sep 30 18:35:30 2019 +0800

    Remove unused code and unnecessary check (#1918)

 be/src/olap/delete_handler.cpp        |  3 +--
 be/src/olap/memtable.cpp              |  1 -
 be/src/olap/reader.cpp                |  3 +--
 be/src/olap/row_block.h               |  3 ---
 be/src/olap/rowset/segment_reader.cpp | 25 -------------------------
 be/src/olap/rowset/segment_reader.h   | 14 --------------
 be/src/olap/stream_index_common.cpp   |  1 -
 be/src/olap/tablet_meta.cpp           |  2 +-
 8 files changed, 3 insertions(+), 49 deletions(-)

commit 8aa8e08f278fabf125f9883c6eb22137ca2159b2
Author: wangbo <506340561@qq.com>
Date:   Mon Sep 30 16:25:31 2019 +0800

    v2 segment support string encode(#1766) (#1816)
    
    major change
    
    change data format of binary dict page, appending (dict page data) and (dict page offset) to binary dict page;
    add new decoding method for new binary dict page format
    add ut for segment test
    set the elements of initial array to 0 ,when calling arena.AllocateNewBlock
    hard code way to choose dict coding for string
    0919 commit major change
    
    change dict file format:when saving binary dict page, separate dict page from dict page,one dict page may have multi data pages;when reading a binary dict page,one ColumnReader keeps one dict page
    loading dict when calling column_reader._read_page
    3.rollback BinaryDictPage
    no longer using memset(0) to inital column_zonemap.max_value
    0926 17 commit major change
    
    init column_zone_map min value column_zone_map slice's data array;
    set char/varchar column_zone_map'max value size to 0
    add ut for char column zone map query hit/miss
    0929 10 commit major change
    
    allocate mem for column_zone_map 's max and min value
    direct copy content to column_zone_map's max and min value

 be/src/olap/field.h                                |   5 +
 be/src/olap/olap_define.h                          |   5 +-
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |  13 +-
 be/src/olap/rowset/segment_v2/binary_dict_page.h   |   6 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    |  23 ++
 be/src/olap/rowset/segment_v2/column_reader.h      |   9 +
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  11 +
 be/src/olap/rowset/segment_v2/column_writer.h      |   1 +
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  |  14 +-
 be/src/olap/rowset/segment_v2/column_zone_map.h    |   1 -
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |  17 ++
 be/src/olap/rowset/segment_v2/options.h            |   1 -
 be/src/olap/types.cpp                              |   1 +
 be/src/olap/types.h                                |  23 ++
 .../rowset/segment_v2/binary_dict_page_test.cpp    |   5 +-
 .../rowset/segment_v2/binary_plain_page_test.cpp   |   2 +-
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 241 +++++++++++++++++++++
 be/test/olap/tablet_schema_helper.h                |  24 ++
 gensrc/proto/segment_v2.proto                      |   2 +-
 19 files changed, 384 insertions(+), 20 deletions(-)

commit 69d0a34bfde4089e8c37aef71f26c9a952ea84a3
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Sep 30 15:25:10 2019 +0800

    Remove unused _request_columns_size from olap_scanner (#1916)

 be/src/exec/olap_scanner.cpp | 8 --------
 be/src/exec/olap_scanner.h   | 2 --
 2 files changed, 10 deletions(-)

commit 2cecf5901f4842ede29bdb491cd6d16580614100
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Mon Sep 30 13:50:39 2019 +0800

    Fix segment v2 bug (#1904)

 be/src/olap/column_block.h                         |  6 +-
 be/src/olap/field.h                                |  2 +-
 be/src/olap/generic_iterators.cpp                  | 21 +++---
 be/src/olap/rowset/column_data_writer.cpp          |  1 -
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |  7 +-
 be/src/olap/rowset/segment_v2/binary_dict_page.h   |  6 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  2 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    |  4 +-
 be/src/olap/rowset/segment_v2/options.h            | 78 +++++++++++-----------
 be/test/olap/rowset/alpha_rowset_test.cpp          | 24 +++----
 .../rowset/segment_v2/binary_dict_page_test.cpp    |  8 +--
 11 files changed, 78 insertions(+), 81 deletions(-)

commit 262c7f4834168dec4b15b483b95c0a061c811077
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sun Sep 29 19:37:51 2019 +0800

    Make All BE UT pass in debug mode (#1913)
    
    Fix OrdinalPageIndexTest
    Fix ColumnReaderWriterTest
    Fix binary_dict_page_test
    Fix routine_load_task_executor_test

 be/src/olap/rowset/segment_v2/ordinal_page_index.cpp     | 4 +++-
 be/src/olap/rowset/segment_v2/ordinal_page_index.h       | 2 +-
 be/test/olap/rowset/segment_v2/binary_dict_page_test.cpp | 2 +-
 be/test/runtime/routine_load_task_executor_test.cpp      | 3 ++-
 4 files changed, 7 insertions(+), 4 deletions(-)

commit eca3b4bb8e575098797362d6d828027e3c5829b8
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sun Sep 29 18:20:20 2019 +0800

    Fix BetaRowsetTest in debug mode (#1912)

 be/src/olap/generic_iterators.cpp          | 2 +-
 be/src/olap/rowset/alpha_rowset_reader.cpp | 8 ++++----
 be/src/olap/rowset/alpha_rowset_reader.h   | 8 ++++----
 3 files changed, 9 insertions(+), 9 deletions(-)

commit f852f50acb56deff19d1699bed2b89313ed3fe8d
Author: yiguolei <yiguolei@baidu.com>
Date:   Sun Sep 29 18:20:02 2019 +0800

    Improve unique id performance (#1911)
    
    Remove the default constructor for UniqueID
    Add a gen_uid method in UniqueId. If need to generate a new uid, users should call this api explicitly.
    Reuse boost random generator not generate a new one every time.

 be/src/olap/olap_snapshot_converter.cpp            |  2 +-
 be/src/olap/options.h                              |  2 +-
 be/src/olap/rowset/rowset_writer_context.h         |  5 +--
 be/src/olap/tablet_manager.cpp                     |  2 +-
 be/src/olap/tablet_meta.cpp                        |  2 +-
 be/src/runtime/routine_load/data_consumer.cpp      |  2 +-
 be/src/runtime/routine_load/data_consumer.h        |  2 +
 be/src/runtime/routine_load/data_consumer_group.h  |  4 +-
 be/src/runtime/stream_load/stream_load_context.h   |  1 +
 be/src/service/doris_main.cpp                      |  2 +-
 be/src/util/uid_util.h                             | 21 +++++-----
 be/src/util/uuid_generator.h                       | 49 ++++++++++++++++++++++
 be/test/olap/olap_snapshot_converter_test.cpp      |  2 +-
 be/test/olap/rowset/rowset_meta_manager_test.cpp   |  4 +-
 .../rowset/unique_rowset_id_generator_test.cpp     |  4 +-
 be/test/olap/tablet_mgr_test.cpp                   |  2 +-
 be/test/olap/txn_manager_test.cpp                  |  4 +-
 be/test/util/uid_util_test.cpp                     |  2 +-
 18 files changed, 83 insertions(+), 29 deletions(-)

commit 8f016d3ab2ef4189bb3b1f6ed91786228c57d703
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sun Sep 29 10:55:23 2019 +0800

    Make HLL be able to handle invalid data (#1908)
    
    In this change list
    1. validate HLL column when loading data, if data is invalid, this row
    will be filtered.
    2. seems as empty HLL when serializing invalid type of HLL data, with
    this change, all ingested data will be valid.
    3. seems as empty HLL when deserializing nullptr or invalid type of HLL data.
    With this change, dirty data can be handled normally.
    4. rename function empty_hll to hll_empty.
    5. disable memtable_flush_execute_test because this will fails
    sometimes. When tearing down, some thread is not joined, and they will
    visit destroyed resource, which is invalid.

 be/src/exec/tablet_sink.cpp                        | 22 +++++-
 be/src/exprs/hll_function.cpp                      | 22 +++---
 be/src/exprs/hll_function.h                        |  2 +-
 be/src/exprs/hll_hash_function.cpp                 | 13 ++-
 be/src/olap/aggregate_func.h                       |  6 +-
 be/src/olap/hll.cpp                                | 92 +++++++++++++++++++---
 be/src/olap/hll.h                                  | 25 +++++-
 be/test/exprs/hll_function_test.cpp                |  6 +-
 be/test/olap/hll_test.cpp                          | 74 ++++++++++++++++-
 .../java/org/apache/doris/analysis/InsertStmt.java |  6 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |  4 +-
 .../apache/doris/planner/StreamLoadScanNode.java   |  4 +-
 gensrc/script/doris_builtins_functions.py          |  4 +-
 run-ut.sh                                          |  2 +-
 14 files changed, 226 insertions(+), 56 deletions(-)

commit 58f1d7959770acb1150f67c461486d7eb5b1f9a7
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sat Sep 28 23:12:59 2019 +0800

    Make batchEndId default value to zero instead (#1907)

 .../main/java/org/apache/doris/transaction/TransactionIdGenerator.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bdd9c31766b1b9736faa0e49affc291d00c79dc3
Author: HangyuanLiu <460660596@qq.com>
Date:   Sat Sep 28 11:19:25 2019 +0800

    Remove default value for HLL column (#1901)
    
    1.fixed hll default column to no default value (#1901)
    2. Don't allow insert stmt insert default values into Doris except hll_empty

 fe/src/main/java/org/apache/doris/analysis/ColumnDef.java  | 2 +-
 fe/src/main/java/org/apache/doris/analysis/InsertStmt.java | 9 ++++++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit de8f2732173dbe312d6927ea1b5ce5b7e6e7b0c3
Author: yangzhg <780531911@qq.com>
Date:   Sat Sep 28 11:17:08 2019 +0800

    Add hardware info in fe httpserver home page #1894 (#1896)

 fe/pom.xml                                         |   6 +
 .../org/apache/doris/http/action/IndexAction.java  | 216 ++++++++++++++++++++-
 2 files changed, 221 insertions(+), 1 deletion(-)

commit d3a445ee09df30f0263cf0c497e44d6ee48477fa
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat Sep 28 10:33:24 2019 +0800

    Fix memory_scratch_sink_test in debug mode (#1906)

 be/src/runtime/runtime_state.cpp             |  5 +++++
 be/src/runtime/runtime_state.h               |  3 +++
 be/test/runtime/memory_scratch_sink_test.cpp | 22 +++++++++++++---------
 3 files changed, 21 insertions(+), 9 deletions(-)

commit 1131f53420dd0aa0f7627c1a61f510ffde6803d4
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat Sep 28 01:15:33 2019 +0800

    Fix parquet_scanner_test in debug mode (#1900)

 be/src/exec/base_scanner.cpp          |  7 ++++---
 be/test/exec/parquet_scanner_test.cpp | 13 +++----------
 2 files changed, 7 insertions(+), 13 deletions(-)

commit cafb9f1e62873123f6b09cbe8056f5c25e2a6a85
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat Sep 28 01:12:22 2019 +0800

    Replace Arena with MemPool first step (#1899)

 be/src/exec/olap_scanner.cpp              | 10 ++--
 be/src/olap/aggregate_func.h              | 97 ++++++++++++++++---------------
 be/src/olap/field.h                       | 26 ++++-----
 be/src/olap/memtable.cpp                  | 16 ++---
 be/src/olap/memtable.h                    |  5 +-
 be/src/olap/merger.cpp                    | 10 +++-
 be/src/olap/reader.cpp                    | 16 ++---
 be/src/olap/reader.h                      | 12 ++--
 be/src/olap/row.h                         | 16 ++---
 be/src/olap/schema_change.cpp             | 13 +++--
 be/src/olap/skiplist.h                    | 18 +++---
 be/src/olap/task/engine_checksum_task.cpp | 11 ++--
 be/src/runtime/mem_tracker.cpp            |  5 --
 be/test/olap/aggregate_func_test.cpp      | 75 +++++++++++++-----------
 be/test/olap/row_cursor_test.cpp          | 12 ++--
 be/test/olap/skiplist_test.cpp            | 23 +++++---
 16 files changed, 195 insertions(+), 170 deletions(-)

commit 0c22d8fa08e97066816739b1327b2d8dd8fe0760
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat Sep 28 01:10:29 2019 +0800

    Add frame_of_reference page (#1818)

 .../rowset/segment_v2/frame_of_reference_page.h    | 162 +++++++++
 be/src/util/CMakeLists.txt                         |   1 +
 be/src/util/bit_stream_utils.h                     |   3 +-
 be/src/util/frame_of_reference_coding.cpp          | 366 +++++++++++++++++++++
 be/src/util/frame_of_reference_coding.h            | 149 +++++++++
 be/test/olap/CMakeLists.txt                        |   1 +
 .../segment_v2/frame_of_reference_page_test.cpp    | 180 ++++++++++
 be/test/util/CMakeLists.txt                        |   2 +
 be/test/util/bit_stream_utils_test.cpp             | 231 +++++++++++++
 be/test/util/frame_of_reference_coding_test.cpp    | 166 ++++++++++
 be/test/util/rle_encoding_test.cpp                 | 138 +-------
 run-ut.sh                                          |   3 +
 12 files changed, 1263 insertions(+), 139 deletions(-)

commit e67b398916126c07fe08bc59a02acc0f699bdcbc
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Sep 28 00:11:43 2019 +0800

    Fix bug that backup may create an empty file on remote storage. (#1869)
    
    Sometime the broker writer failed to close, but we do not handle this failure.
    This may create an empty file on remote storage but be treated as normal.
    
    Also enhance some usabilities:
    1. getting latest 2000 transactions instead of getting the earliest.
    2. Show backend which download and upload tasks are being executed.

 be/src/exec/broker_writer.cpp                      | 29 ++++++++++++++--------
 be/src/exec/broker_writer.h                        |  2 +-
 be/src/exec/file_writer.h                          |  2 +-
 be/src/exec/local_file_writer.cpp                  |  3 ++-
 be/src/exec/local_file_writer.h                    |  2 +-
 be/src/olap/cumulative_compaction.cpp              |  6 ++---
 be/src/runtime/snapshot_loader.cpp                 |  4 +++
 .../java/org/apache/doris/backup/BackupJob.java    | 28 ++++++++++-----------
 .../java/org/apache/doris/backup/RestoreJob.java   |  2 +-
 .../org/apache/doris/common/proc/TransProcDir.java | 16 ++----------
 .../doris/common/proc/TransTablesProcDir.java      | 10 ++++----
 .../doris/transaction/GlobalTransactionMgr.java    | 27 ++++++++++----------
 .../apache/doris/transaction/TransactionState.java | 17 +++++++++++++
 .../doris/broker/hdfs/FileSystemManager.java       |  1 +
 14 files changed, 84 insertions(+), 65 deletions(-)

commit 1c229fbd924d3464464ee2e1f1dc8d9c60e40abf
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat Sep 28 00:02:30 2019 +0800

    Fix es_scan_reader_test in debug mode (#1905)

 be/src/exec/es/es_scan_reader.cpp    | 9 +--------
 be/test/exec/es_scan_reader_test.cpp | 7 ++++---
 2 files changed, 5 insertions(+), 11 deletions(-)

commit ec3aa03c453c78f069100a0323b4bf22cca89f7a
Author: HangyuanLiu <460660596@qq.com>
Date:   Fri Sep 27 20:42:52 2019 +0800

    Add more routine load example (#1902)

 .../Data Manipulation/ROUTINE LOAD.md              | 23 ++++++++++++++++++--
 .../Data Manipulation/ROUTINE LOAD_EN.md           | 25 ++++++++++++++++++++--
 2 files changed, 44 insertions(+), 4 deletions(-)

commit 2f0808137abd9f9971d6b8f3039db1a37a3669a3
Author: yiguolei <yiguolei@baidu.com>
Date:   Fri Sep 27 13:21:14 2019 +0800

    Refactor FrontendHelper (#1888)

 be/src/exec/schema_scanner/schema_helper.cpp       | 12 ++---
 be/src/http/action/mini_load.cpp                   |  8 ++--
 be/src/http/action/stream_load.cpp                 |  4 +-
 be/src/runtime/exec_env.h                          | 15 +++++++
 be/src/runtime/snapshot_loader.cpp                 |  4 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  8 ++--
 be/src/service/doris_main.cpp                      |  4 +-
 be/src/util/CMakeLists.txt                         |  2 +-
 .../{frontend_helper.cpp => thrift_rpc_helper.cpp} | 52 +++++++++++++++++-----
 .../{frontend_helper.h => thrift_rpc_helper.h}     | 11 +++--
 10 files changed, 84 insertions(+), 36 deletions(-)

commit ee59b18daab1b468ae1c93f93e86e16380a61b48
Author: yangzhg <780531911@qq.com>
Date:   Thu Sep 26 20:57:13 2019 +0800

    Change atomic_int64_t to atomic<int64_t> (#1890)
    
    atomic_int64_t is not available in gcc5

 be/src/olap/memtable_flush_executor.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b970290ae494557f631ae238d13e27ab48654a41
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Sep 26 14:57:46 2019 +0800

    Reduce memory usage of View object  (#1878)

 .../java/org/apache/doris/catalog/Catalog.java     |   6 +-
 .../java/org/apache/doris/catalog/Database.java    |   2 +-
 .../main/java/org/apache/doris/catalog/Table.java  |  10 --
 .../main/java/org/apache/doris/catalog/View.java   |  49 ++++++---
 .../main/java/org/apache/doris/common/Config.java  |  14 +++
 .../doris/load/routineload/RoutineLoadManager.java |   2 +-
 .../java/org/apache/doris/master/Checkpoint.java   | 115 ++++++++-------------
 7 files changed, 99 insertions(+), 99 deletions(-)

commit 2ea7de8b5e8243c08de43b5a50e978d474f3c4f0
Author: yangzhg <780531911@qq.com>
Date:   Thu Sep 26 14:43:55 2019 +0800

    Update some docs (#1882)

 docs/documentation/cn/installing/compilation.md       | 6 +++++-
 docs/documentation/cn/installing/install-deploy.md    | 2 +-
 docs/documentation/en/installing/compilation_EN.md    | 8 ++++++--
 docs/documentation/en/installing/install-deploy_EN.md | 2 +-
 4 files changed, 13 insertions(+), 5 deletions(-)

commit b246d931282a1236e10fb29e755a021774aa913b
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Sep 26 13:51:13 2019 +0800

    Avoid SerDe for aggregation query with object pool (#1854)

 be/src/common/object_pool.h               |  7 ++++
 be/src/exec/exec_node.cpp                 | 19 +++++++++++
 be/src/exec/exec_node.h                   |  6 ++++
 be/src/exec/olap_scan_node.cpp            |  3 +-
 be/src/exec/olap_scan_node.h              |  6 +++-
 be/src/exec/olap_scanner.cpp              |  9 +++++-
 be/src/exec/olap_scanner.h                |  2 ++
 be/src/exprs/aggregate_functions.cpp      |  2 +-
 be/src/exprs/bitmap_function.cpp          | 19 ++++++++---
 be/src/exprs/hll_function.cpp             |  9 ++++--
 be/src/olap/aggregate_func.h              | 53 +++++++++++++++++--------------
 be/src/olap/field.h                       | 16 +++++-----
 be/src/olap/memtable.cpp                  |  2 +-
 be/src/olap/memtable.h                    |  2 ++
 be/src/olap/merger.cpp                    |  4 +--
 be/src/olap/reader.cpp                    | 17 ++++++----
 be/src/olap/reader.h                      | 15 +++++----
 be/src/olap/row.h                         |  4 +--
 be/src/olap/schema_change.cpp             |  4 ++-
 be/src/olap/task/engine_checksum_task.cpp |  4 ++-
 be/src/runtime/plan_fragment_executor.cpp |  2 ++
 be/src/runtime/row_batch.cpp              | 44 +++++++------------------
 be/src/runtime/row_batch.h                | 15 ++++-----
 be/src/udf/udf.cpp                        | 14 ++++++--
 be/src/udf/udf.h                          |  2 +-
 be/src/util/arena.h                       |  5 +++
 be/test/olap/aggregate_func_test.cpp      | 16 +++++++---
 be/test/olap/row_cursor_test.cpp          |  7 ++--
 28 files changed, 194 insertions(+), 114 deletions(-)

commit 7df1418ff4c1d8637973dde45b94303c87d6e6fe
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Sep 26 10:15:43 2019 +0800

    Check transaction_id in TClearTransactionTaskRequest (#1872)

 be/src/agent/task_worker_pool.cpp | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 5d1165fad2b2c6174d6e0c70b000a873003c7bfc
Author: yangzhg <780531911@qq.com>
Date:   Thu Sep 26 09:34:41 2019 +0800

    Fix direct compilation failed #1862 (#1875)
    
    Fix direct compilation failed：
    
    fix compile thirdparty in ubuntu will install libs to lib dir instead of lib64
    fix compile error in gcc5 due to the defect of c++11 (https://gcc.gnu.org/bugzilla/show_bug.cgi?id=60970)
    fix gcc version check will not work on some OS

 be/src/olap/key_coder.cpp      | 9 ++++++++-
 env.sh                         | 2 +-
 thirdparty/build-thirdparty.sh | 2 ++
 3 files changed, 11 insertions(+), 2 deletions(-)

commit f3bbdfe7d33766c9dc66cf0bbe6ad64e1cabb845
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Sep 25 22:56:59 2019 +0800

    Fix bug that load statistic in show load result is incorrect (#1871)
    
    Each load job has several load tasks, and each task is a query plan
    with serveral plan fragments. Each plan fragment report query profile
    independently.
    So we need to collect each plan fragment's report, separately.

 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  9 ++--
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 55 ++++++++++++++++------
 .../org/apache/doris/load/loadv2/LoadManager.java  | 11 ++++-
 .../main/java/org/apache/doris/qe/Coordinator.java |  6 ++-
 4 files changed, 57 insertions(+), 24 deletions(-)

commit ce6fb1cfba88658469f4487cf9dd043caa451e86
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Sep 25 22:00:02 2019 +0800

    Fix bug: broker load not support inline function in hll_hash (#1873)
    
    hll_hash should support the inline function in broker load and should not support the inline function in hadoop load.

 fe/src/main/java/org/apache/doris/analysis/DataDescription.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 09482c9f52d726ad804aaa55de91b95f0041f954
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Sep 25 15:27:44 2019 +0800

    Take segments in singleton rowset into consideration upon cumulative compaction (#1866)
    
    In previous compaction, only rowsets will be taken into consideration.
    Doing streaming load, the singleton rowset may is made up of many overlapping segments.
    Scanning these overlapping segments will result in read amplification.
    To address this problem, overlapping segments should be taken into consideration
    when doing cumulative compaction to reduce read amplification.

 be/src/olap/cumulative_compaction.cpp |  16 +++-
 be/src/olap/olap_header.h             | 156 ----------------------------------
 be/src/olap/tablet.cpp                |   3 +
 3 files changed, 15 insertions(+), 160 deletions(-)

commit e43f1a276660bacb58a26a27665f05e8d280bd54
Author: wubiao <biao.wu@aliyun.com>
Date:   Wed Sep 25 14:40:13 2019 +0800

    Fix NPE error when creating table with bool column (#1864)

 be/src/olap/aggregate_func.cpp                          | 1 +
 be/src/olap/key_coder.cpp                               | 1 +
 be/src/olap/tablet_schema.cpp                           | 5 +++++
 fe/src/main/java/org/apache/doris/common/util/Util.java | 1 +
 4 files changed, 8 insertions(+)

commit eb840ecca8fc2db8155d13acf62dd8507e2d32e9
Author: wubiao <biao.wu@aliyun.com>
Date:   Wed Sep 25 13:53:00 2019 +0800

    Support boolean/date/datetime/decimal types in segment V2 (#1863)

 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  2 ++
 be/src/olap/rowset/segment_v2/encoding_info.cpp    | 22 +++++++++++++
 .../segment_v2/column_reader_writer_test.cpp       | 36 ++++++++++++++++++++++
 3 files changed, 60 insertions(+)

commit c643cbd30c9d28e1f3ac7c2fb68e8bd67d9d70f8
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Sep 25 13:49:32 2019 +0800

    Optimize the load performance for large file (#1798)
    
    The current load process is:
    
    Tablet Sink -> Tablet Channel Mgr -> Tablets Channel -> Delta Writer -> MemTable -> Flush to disk
    
    In the path of Tablets Channel -> DeltaWriter -> MemTable -> Flush to disk, the following operations are performed:
    
    Insert tuple into different memtables according to tablet ID
    When the memtable size reaches the threshold, it is written to disk.
    The above operations are equivalent to single thread execution for a single load task.
    In fact, the insertion of memtable and the flush of memtable can be executed synchronously.
    Perform these operation in single thread prevents the insertion of memtable from being delayed due to slow disk writing.
    
    In the new implementation, I added a MemTableFlushExecutor class with a set of flush queues and corresponding worker threads.
    By default, each data directory uses two worker threads for flush, which can be modified by the parameter flush_thread_num_per_store of BE.
    DeltaWriter will push the full memtable to MemTableFlushExecutor for flush operation and generate a new memtable for receiving new data.
    
    This design can improve the performance of load large files.
    In single host testing, the time to load a 1GB text file is reduced from 48 seconds to 29 seconds.

 be/src/common/config.h                             |   2 +
 be/src/olap/CMakeLists.txt                         |   1 +
 be/src/olap/delta_writer.cpp                       |  95 +++++----
 be/src/olap/delta_writer.h                         |  25 ++-
 be/src/olap/memtable.cpp                           |  21 +-
 be/src/olap/memtable.h                             |  17 +-
 be/src/olap/memtable_flush_executor.cpp            | 154 ++++++++++++++
 be/src/olap/memtable_flush_executor.h              | 156 ++++++++++++++
 be/src/olap/storage_engine.cpp                     |   7 +
 be/src/olap/storage_engine.h                       |   7 +-
 be/src/runtime/CMakeLists.txt                      | 163 +++++++--------
 be/src/runtime/tablet_writer_mgr.cpp               | 228 +--------------------
 be/src/runtime/tablet_writer_mgr.h                 |  26 +--
 be/src/runtime/tablets_channel.cpp                 | 216 +++++++++++++++++++
 be/src/runtime/tablets_channel.h                   | 120 +++++++++++
 be/src/util/counter_cond_variable.hpp              |  92 +++++++++
 be/src/util/semaphore.hpp                          |   6 +-
 be/test/olap/CMakeLists.txt                        |   1 +
 be/test/olap/delta_writer_test.cpp                 |  12 +-
 be/test/olap/memtable_flush_executor_test.cpp      | 138 +++++++++++++
 be/test/runtime/external_scan_context_mgr_test.cpp |   4 +-
 be/test/runtime/tablet_writer_mgr_test.cpp         |  15 +-
 be/test/runtime/user_function_cache_test.cpp       |  16 +-
 be/test/util/CMakeLists.txt                        |   1 +
 be/test/util/counter_cond_variable_test.cpp        |  86 ++++++++
 .../doris/transaction/GlobalTransactionMgr.java    |   2 +-
 run-ut.sh                                          |   2 +
 27 files changed, 1202 insertions(+), 411 deletions(-)

commit dd02382abd6b78d51c6d796714f78a9f1bf068f1
Author: xionglei0 <55084968+xionglei0@users.noreply.github.com>
Date:   Wed Sep 25 13:02:09 2019 +0800

    Check buckets limit: buckets > 0 when adding partition (#1855)

 fe/src/main/java/org/apache/doris/catalog/Catalog.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c2de62d6a1ad321f2a3f813f4cfe2e984719b115
Author: shgxwxl <tnfyaa@126.com>
Date:   Wed Sep 25 12:20:13 2019 +0800

    Collect scanner's status when es_http_scan_node close (#1861)

 be/src/exec/es_http_scan_node.cpp       | 28 +++++++++++++++++++++-------
 be/src/exec/es_http_scan_node.h         |  4 ++++
 be/test/exec/es_http_scan_node_test.cpp |  4 ++--
 3 files changed, 27 insertions(+), 9 deletions(-)

commit 40b9c3571bd73492fb0698b693442d06b7d49145
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Sep 25 09:28:02 2019 +0800

    Support hll_empty function (#1825)

 be/src/exprs/hll_function.cpp                                     | 3 +++
 be/src/exprs/hll_function.h                                       | 1 +
 be/src/olap/hll.h                                                 | 8 ++++++++
 .../cn/sql-reference/sql-statements/Data Definition/HLL.md        | 3 +++
 .../sql-reference/sql-statements/Data Manipulation/BROKER LOAD.md | 7 ++++---
 .../sql-reference/sql-statements/Data Manipulation/STREAM LOAD.md | 4 ++--
 .../en/sql-reference/sql-statements/Data Definition/HLL_EN.md     | 3 +++
 .../sql-statements/Data Manipulation/BROKER LOAD_EN.md            | 7 ++++---
 .../sql-statements/Data Manipulation/STREAM LOAD_EN.md            | 4 ++--
 fe/src/main/java/org/apache/doris/planner/BrokerScanNode.java     | 4 ++--
 fe/src/main/java/org/apache/doris/planner/StreamLoadScanNode.java | 5 +++--
 gensrc/script/doris_builtins_functions.py                         | 2 ++
 12 files changed, 37 insertions(+), 14 deletions(-)

commit 533a2e0f94b23acf7fdb3fcd18a69f0560c6cce9
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Sep 24 20:25:54 2019 -0500

    Optimize memory usage in wrapper field #1852 (#1853)

 be/src/olap/types.h           |  3 +++
 be/src/olap/wrapper_field.cpp |  4 ++--
 be/src/olap/wrapper_field.h   | 14 +++++---------
 3 files changed, 10 insertions(+), 11 deletions(-)

commit 0b15d26b6c7df83f980e400ecc14e0335c9cbac8
Author: wubiao <biao.wu@aliyun.com>
Date:   Tue Sep 24 20:13:15 2019 +0800

    Fix segment V2 estimate size inaccuracy (#1858)

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d0fee7e6427aad17d574a7b3b56bb3ec5f26427
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Sep 24 14:39:10 2019 +0800

    Add default value column iterator #1834 (#1835)

 be/src/olap/rowset/segment_v2/column_reader.cpp |  30 +++++
 be/src/olap/rowset/segment_v2/column_reader.h   |  41 +++++++
 be/src/olap/rowset/segment_v2/segment.cpp       |  12 +-
 be/test/olap/rowset/segment_v2/segment_test.cpp | 156 ++++++++++++++++++++++++
 be/test/olap/tablet_schema_helper.h             |   6 +-
 5 files changed, 242 insertions(+), 3 deletions(-)

commit fe279699787b8283511b4ac097465f6bf0755678
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Sep 24 14:38:19 2019 +0800

    add delete predicate filter(#1636) (#1745)
    
    Delete predicate can be used to prune data by zone map.

 be/src/olap/delete_handler.cpp                     |  9 +++
 be/src/olap/delete_handler.h                       |  3 +
 be/src/olap/generic_iterators.cpp                  |  2 +-
 be/src/olap/iterators.h                            |  3 +
 be/src/olap/olap_cond.cpp                          |  8 +++
 be/src/olap/olap_cond.h                            |  2 +
 be/src/olap/rowset/beta_rowset_reader.cpp          |  4 ++
 be/src/olap/rowset/segment_v2/column_reader.cpp    | 23 ++++++--
 be/src/olap/rowset/segment_v2/column_reader.h      | 10 +++-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 18 +++++-
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 66 +++++++++++++++++++++-
 11 files changed, 137 insertions(+), 11 deletions(-)

commit b756dfd90bc72e0ab4cd56493a9a2dcaf4df35b7
Author: xionglei0 <55084968+xionglei0@users.noreply.github.com>
Date:   Tue Sep 24 09:40:11 2019 +0800

    Fix bug: compare column with equals rather than == (#1850)

 fe/src/main/java/org/apache/doris/analysis/Analyzer.java    | 13 -------------
 .../java/org/apache/doris/analysis/TupleDescriptor.java     | 13 +++++++++++++
 .../java/org/apache/doris/planner/SingleNodePlanner.java    |  2 +-
 3 files changed, 14 insertions(+), 14 deletions(-)

commit c3fccb7a495a24f7e58f8756424abaa0e7de47af
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 23 19:56:20 2019 +0800

    Support cast datetime to decimal (#1849)

 be/src/exprs/decimal_operators.cpp                       | 14 ++++++++++++++
 be/src/exprs/decimal_operators.h                         |  1 +
 be/src/exprs/decimalv2_operators.cpp                     | 13 +++++++++++++
 be/src/exprs/decimalv2_operators.h                       |  1 +
 fe/src/main/java/org/apache/doris/analysis/CastExpr.java |  4 ++--
 5 files changed, 31 insertions(+), 2 deletions(-)

commit fded13e3cdfcab40e2009bbaee176fbb89419657
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Sep 23 18:42:25 2019 +0800

    Fix bug: Enable StringLiteral cast to Varchar (#1846)
    
    StringLiteral could be cast to VARCHAR or CHAR.
    The default value of lead and lag function could be 'String' when the column type is CHAR or VARCHAR.

 .../main/java/org/apache/doris/analysis/AnalyticExpr.java  | 14 ++++++++++----
 .../main/java/org/apache/doris/analysis/StringLiteral.java |  6 ++++++
 2 files changed, 16 insertions(+), 4 deletions(-)

commit 4c7b52d077e29327b8593ba3e9516c4df212e57d
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Sep 23 15:09:04 2019 +0800

    Fix bug: Remove conjuncts for empty set node (#1840)
    
    The function named assign conjuncts has been invoked before creating aggregation plan node.
    If the empty set node is the child of aggregation node, the conjuncts will be assign to empty set node which could not be executed correctly in Backend.
    It will thrown the exception "couldn't resolve slot descriptor" for query which has both empty set node and aggregation node.
    For example: select sum(pv) from test where type != 1 and 1=0 group by type;
    
    This commit fix this bug. It remove conjuncts for empty set node.

 fe/src/main/java/org/apache/doris/planner/PlanNode.java          | 6 ++++--
 fe/src/main/java/org/apache/doris/planner/SingleNodePlanner.java | 2 --
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 93fe10a268ba64ec26377503313d85be2412712a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Sep 21 14:38:58 2019 +0800

    Reduce size of HyperLogLog struct (#1845)
    
    Now size of HyperLogLog struct is so large that it lead the rowset is
    too small when ingesting data. In this CL, registers in HyperLogLog are
    only created when it is needed. When ingesting data, it's normal case
    that there are only few values in one HyperLogLog.

 be/src/exec/exec_node.h             |   1 +
 be/src/exprs/hll_function.cpp       |  14 +-
 be/src/exprs/hll_hash_function.cpp  |   9 +-
 be/src/olap/aggregate_func.h        |   6 +-
 be/src/olap/hll.cpp                 | 306 ++++++++++++++++++++++--------------
 be/src/olap/hll.h                   | 145 ++++++++---------
 be/src/olap/olap_common.h           |   9 --
 be/test/exprs/hll_function_test.cpp |   8 +-
 be/test/olap/CMakeLists.txt         |   1 +
 be/test/olap/hll_test.cpp           | 146 +++++++++++++++++
 run-ut.sh                           |   1 +
 11 files changed, 420 insertions(+), 226 deletions(-)

commit 74d6d04e016aac8fd148c901748da865b4541fc5
Author: HangyuanLiu <460660596@qq.com>
Date:   Fri Sep 20 22:59:05 2019 +0800

    Fix two digit year bug in to_days function (#1839)

 .../org/apache/doris/analysis/DateLiteral.java     | 24 ++++++++-
 .../org/apache/doris/analysis/DateLiteralTest.java | 58 ++++++++++++++++++++++
 2 files changed, 80 insertions(+), 2 deletions(-)

commit 90360149547c2cc54eea4ad6d39e2b4e9ec3e4e2
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Sep 20 22:33:08 2019 +0800

    Add schema change check for DUPLICATE KEY table (#1844)

 .../apache/doris/alter/SchemaChangeHandler.java    | 23 ++++++++++------------
 1 file changed, 10 insertions(+), 13 deletions(-)

commit cc36905aea5e258236881d2848966ff10bb1a4b0
Author: wubiao <biao.wu@aliyun.com>
Date:   Fri Sep 20 20:37:29 2019 +0800

    Fix write file crash when using segment V2 in debug mode (#1841)

 be/src/env/env_posix.cpp | 1 +
 1 file changed, 1 insertion(+)

commit abd27dfcca2a9063317126634df2c1a407af621b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Sep 20 09:31:56 2019 +0800

    Remove unused debug (#1836)

 be/src/runtime/bufferpool/reservation_tracker.cc | 4 ----
 1 file changed, 4 deletions(-)

commit e8da855cd2e680a4e2e4f84f7f7dfd035b7aab05
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Sep 20 07:55:05 2019 +0800

    Support setting timezone for stream load and routine load (#1831)

 be/src/http/action/stream_load.cpp                 |   3 +
 be/src/http/http_common.h                          |   1 +
 .../Data Manipulation/ROUTINE LOAD.md              |  10 +-
 .../Data Manipulation/STREAM LOAD.md               |   6 +-
 .../Data Manipulation/ROUTINE LOAD_EN.md           | 402 ++++++++++++---------
 .../Data Manipulation/STREAM LOAD_EN.md            | 194 ++++++----
 .../doris/analysis/CreateRoutineLoadStmt.java      |  18 +-
 .../doris/load/routineload/RoutineLoadJob.java     |   9 +
 .../apache/doris/planner/StreamLoadPlanner.java    |   2 +
 .../java/org/apache/doris/task/StreamLoadTask.java |  11 +
 gensrc/thrift/FrontendService.thrift               |   1 +
 11 files changed, 426 insertions(+), 231 deletions(-)

commit 7bf02d0ae7ce8931511ae3aef758b0ae0d682de4
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Sep 20 07:54:11 2019 +0800

    Fix bug that routine load may mistakenly skipped some data (#1832)
    
    Reproduce:
    1. start a routine load, send a routine load task to BE
    2. BE executes task successfully and commit to FE.
    3. Commit request failed on FE because database is renamed(throw db not found exception)
    4. After commit failed, BE will send rollback request to FE.
    5. FE receive this rollback request and mistakenly update the routine load progress,
       because the number of loaded rows in this rollback request's attachment is larger than 0

 .../load/routineload/KafkaRoutineLoadJob.java      | 30 ++++++++++++++--------
 .../doris/load/routineload/RoutineLoadJob.java     |  5 ++--
 2 files changed, 23 insertions(+), 12 deletions(-)

commit 720808fda5990f4805e10f86fbfb22ee44c30781
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri Sep 20 07:50:57 2019 +0800

    Remove config::max_file_descriptor_number (#1833)

 be/src/common/config.h               | 5 ++---
 be/src/olap/storage_engine.cpp       | 9 ++++-----
 be/test/olap/delete_handler_test.cpp | 4 +---
 3 files changed, 7 insertions(+), 11 deletions(-)

commit 315f7625234a2c31c0c13ebd1af0e7e26afd8a28
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Sep 19 20:08:03 2019 +0800

    Seek block when starts a ScanKey (#1828)
    
    In Doris, one block has 1024 rows.
    1. If the previous ScanKey scan rows multiple blocks,
       and also the final block has 1024 rows just right.
    2. The current ScanKey scan rows with number less than one block.
    Under the two conditions, if not seek block, the position of prefix shortkey columns is wrong.

 be/src/common/config.h                |  4 ----
 be/src/olap/rowset/segment_reader.cpp | 15 ++++++++++++---
 be/src/olap/rowset/segment_reader.h   |  4 ++--
 be/test/olap/delete_handler_test.cpp  |  3 +++
 4 files changed, 17 insertions(+), 9 deletions(-)

commit aaabf97471527a81be4329c3bc6fb7c037352ec6
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Sep 19 18:14:30 2019 +0800

    Split channel close operation into two phase (#1830)
    
    In this change, channel close is finished into two phases. So we can
    close channels parallel, which can make query faster.

 be/src/runtime/data_stream_sender.cpp | 24 ++++++++++++++++++++----
 1 file changed, 20 insertions(+), 4 deletions(-)

commit 17e52a4bacec63179525143a8e862e8bf68c9d7b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Sep 19 17:37:02 2019 +0800

    Improve LRUCache to get better performance (#1826)
    
    In this CL, I move the entry's deleter out of LRUCache's mutex block,
    which can let others access this cache without waiting free cache entry.

 be/src/olap/lru_cache.cpp                 | 215 ++++++++++++++++++------------
 be/src/olap/lru_cache.h                   |  22 ++-
 be/src/runtime/memory/chunk_allocator.cpp |   4 +-
 be/src/runtime/memory/chunk_allocator.h   |   2 +-
 be/test/olap/lru_cache_test.cpp           |   6 -
 be/test/olap/page_cache_test.cpp          |   4 +-
 6 files changed, 144 insertions(+), 109 deletions(-)

commit e516eba940133c2f80b85363c0039104f8e35849
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Thu Sep 19 16:59:08 2019 +0800

    Remove the "author" tag (#1829)

 fe/src/main/java/org/apache/doris/PaloFe.java                      | 3 ---
 fe/src/main/java/org/apache/doris/alter/RollupJobV2.java           | 5 -----
 fe/src/main/java/org/apache/doris/alter/SchemaChangeJobV2.java     | 5 -----
 fe/src/main/java/org/apache/doris/analysis/AdminSetConfigStmt.java | 5 -----
 .../main/java/org/apache/doris/analysis/AdminShowConfigStmt.java   | 5 -----
 fe/src/main/java/org/apache/doris/analysis/CancelLoadStmt.java     | 3 ---
 fe/src/main/java/org/apache/doris/analysis/DropFileStmt.java       | 5 -----
 fe/src/main/java/org/apache/doris/analysis/ImportColumnDesc.java   | 3 ---
 fe/src/main/java/org/apache/doris/analysis/ImportColumnsStmt.java  | 3 ---
 fe/src/main/java/org/apache/doris/analysis/ImportWhereStmt.java    | 3 ---
 fe/src/main/java/org/apache/doris/catalog/AggregateType.java       | 3 ---
 fe/src/main/java/org/apache/doris/catalog/ColocateGroupSchema.java | 5 -----
 fe/src/main/java/org/apache/doris/catalog/FunctionSet.java         | 3 ---
 fe/src/main/java/org/apache/doris/catalog/PartitionType.java       | 3 ---
 fe/src/main/java/org/apache/doris/cluster/Cluster.java             | 2 --
 fe/src/main/java/org/apache/doris/cluster/ClusterNamespace.java    | 1 -
 .../java/org/apache/doris/common/LabelAlreadyUsedException.java    | 5 -----
 fe/src/main/java/org/apache/doris/common/proc/BaseProcNode.java    | 3 ---
 fe/src/main/java/org/apache/doris/common/proc/BaseProcResult.java  | 3 ---
 .../java/org/apache/doris/common/proc/ClusterLoadStatByMedium.java | 5 -----
 .../doris/common/proc/ColocationGroupBackendSeqsProcNode.java      | 5 -----
 .../java/org/apache/doris/common/proc/LoadErrorHubProcNode.java    | 3 ---
 .../main/java/org/apache/doris/common/proc/ProcDirInterface.java   | 3 ---
 .../main/java/org/apache/doris/common/proc/ProcNodeInterface.java  | 3 ---
 fe/src/main/java/org/apache/doris/common/proc/TransDbProcDir.java  | 5 -----
 .../java/org/apache/doris/common/proc/TransPartitionProcNode.java  | 5 -----
 fe/src/main/java/org/apache/doris/common/proc/TransProcDir.java    | 5 -----
 .../main/java/org/apache/doris/common/proc/TransStateProcDir.java  | 5 -----
 .../main/java/org/apache/doris/common/proc/TransTablesProcDir.java | 5 -----
 fe/src/main/java/org/apache/doris/common/util/MysqlUtil.java       | 3 ---
 fe/src/main/java/org/apache/doris/common/util/SmallFileMgr.java    | 5 -----
 fe/src/main/java/org/apache/doris/external/EsStateStore.java       | 1 -
 fe/src/main/java/org/apache/doris/metric/GaugeMetricImpl.java      | 7 +------
 fe/src/main/java/org/apache/doris/metric/MetricCalculator.java     | 7 +------
 .../main/java/org/apache/doris/metric/SimpleCoreMetricVisitor.java | 5 -----
 fe/src/main/java/org/apache/doris/persist/BackendTabletsInfo.java  | 5 -----
 .../main/java/org/apache/doris/persist/RoutineLoadOperation.java   | 5 -----
 fe/src/main/java/org/apache/doris/qe/DdlExecutor.java              | 3 ---
 .../java/org/apache/doris/transaction/TxnStateCallbackFactory.java | 5 -----
 fe/src/test/java/org/apache/doris/alter/RollupJobV2Test.java       | 5 -----
 fe/src/test/java/org/apache/doris/alter/SchemaChangeJobV2Test.java | 5 -----
 .../test/java/org/apache/doris/catalog/ColocateTableIndexTest.java | 5 -----
 fe/src/test/java/org/apache/doris/http/MimeTypeTest.java           | 5 -----
 fe/src/test/java/org/apache/doris/mysql/WrappedAuth.java           | 5 -----
 .../java/org/apache/doris/mysql/privilege/SetPasswordTest.java     | 5 -----
 .../java/org/apache/doris/planner/HashDistributionPrunerTest.java  | 5 -----
 fe/src/test/java/org/apache/doris/rewrite/FEFunctionsTest.java     | 5 -----
 47 files changed, 2 insertions(+), 196 deletions(-)

commit d1676c3c3dedadd8fedf5d9702309d55d569fb45
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Sep 19 12:48:36 2019 +0800

    Check file descriptor number is larger than 65536 upon start (#1819)

 be/src/common/config.h                             |  8 +++++--
 be/src/olap/olap_define.h                          |  1 +
 be/src/olap/storage_engine.cpp                     | 27 ++++++++++++++++++++--
 be/src/olap/storage_engine.h                       |  5 +++-
 docs/documentation/cn/installing/install-deploy.md | 14 +++++++++++
 .../en/installing/install-deploy_EN.md             | 16 +++++++++++++
 6 files changed, 66 insertions(+), 5 deletions(-)

commit e70e48c01e28733171bf5dea2a0024994a253d1f
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Sep 18 14:16:26 2019 +0800

    Add a ALTER operation to change distribution type from RANDOM to HASH (#1823)
    
    Random distribution is no longer supported since version 0.9.
    And we need a way to convert the random distribution to hash distribution.
    
        ALTER TABLE db.tbl SET ("distribution_type" = "hash");

 .../sql-statements/Data Definition/ALTER TABLE.md  |   7 +-
 .../Data Manipulation/BROKER LOAD.md               |  29 +-
 .../sql-statements/Data Manipulation/LOAD.md       |  40 ---
 .../Data Definition/ALTER TABLE_EN.md              |   4 +
 .../Data Manipulation/BROKER LOAD_EN.md            | 380 +++++++++++++++++++++
 .../sql-statements/Data Manipulation/LOAD_EN.md    |  24 --
 .../Data Manipulation/broker_load_EN.md            | 344 -------------------
 fe/src/main/java/org/apache/doris/alter/Alter.java |   3 +-
 .../apache/doris/alter/SchemaChangeHandler.java    |   9 +-
 .../apache/doris/analysis/AbstractBackupStmt.java  |   3 +-
 .../apache/doris/analysis/CancelBackupStmt.java    |   4 +-
 .../analysis/ModifyTablePropertiesClause.java      |  42 +--
 .../java/org/apache/doris/catalog/Catalog.java     |  28 ++
 .../java/org/apache/doris/catalog/OlapTable.java   |  16 +
 .../java/org/apache/doris/catalog/Partition.java   |   9 +
 .../doris/catalog/RandomDistributionInfo.java      |  13 +
 .../apache/doris/common/util/PropertyAnalyzer.java |   2 +
 .../org/apache/doris/journal/JournalEntity.java    |   5 +
 .../java/org/apache/doris/persist/EditLog.java     |   9 +
 .../org/apache/doris/persist/OperationType.java    |   1 +
 .../java/org/apache/doris/persist/TableInfo.java   |   4 +
 21 files changed, 526 insertions(+), 450 deletions(-)

commit 714dca86990217d4faed75ec33c05055f67a7669
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Sep 18 09:45:28 2019 +0800

    Support table comment and column comment for view (#1799)

 .../Administration/SHOW FULL COLUMNS.md            | 14 ++++++
 .../Administration/SHOW TABLE STATUS.md            | 22 +++++++++
 .../sql-statements/Data Definition/CREATE TABLE.md |  6 ++-
 .../sql-statements/Data Definition/CREATE VIEW.md  | 18 ++++++-
 .../Administration/SHOW FULL COLUMNS_EN.md         | 16 +++++++
 .../Administration/SHOW TABLE STATUS_EN.md         | 29 ++++++++++++
 .../Data Definition/CREATE TABLE_EN.md             | 18 +++----
 .../Data Definition/CREATE VIEW_EN.md              | 48 +++++++++++++------
 fe/src/main/cup/sql_parser.cup                     | 40 ++++++++++++++--
 .../org/apache/doris/analysis/ColWithComment.java  | 55 ++++++++++++++++++++++
 .../org/apache/doris/analysis/CreateTableStmt.java | 17 +++++--
 .../org/apache/doris/analysis/CreateViewStmt.java  | 36 +++++++++-----
 .../java/org/apache/doris/backup/RestoreJob.java   | 14 +++---
 .../java/org/apache/doris/catalog/BrokerTable.java |  9 ++--
 .../java/org/apache/doris/catalog/Catalog.java     | 54 ++++++---------------
 .../main/java/org/apache/doris/catalog/Column.java |  4 ++
 .../java/org/apache/doris/catalog/EsTable.java     | 26 +++++-----
 .../java/org/apache/doris/catalog/InlineView.java  |  4 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  2 +-
 .../main/java/org/apache/doris/catalog/Table.java  | 24 ++++++++--
 .../main/java/org/apache/doris/catalog/View.java   |  1 +
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 +
 .../java/org/apache/doris/qe/SessionVariable.java  |  1 -
 .../apache/doris/analysis/CreateTableStmtTest.java | 13 +++--
 .../apache/doris/catalog/ColocateTableTest.java    | 12 ++---
 .../org/apache/doris/catalog/CreateTableTest.java  | 27 ++++++-----
 27 files changed, 374 insertions(+), 140 deletions(-)

commit 3f63bde5cbe71e6d76967c359241e93f80ebed54
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Sep 17 21:17:55 2019 +0800

    Fix 'Invalid Column Name' error when loading parquet file (#1820)

 fe/src/main/java/org/apache/doris/load/Load.java | 1 +
 1 file changed, 1 insertion(+)

commit c4e28f0d1355a290578ba3f9a1e5f9997adafe94
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Sep 17 17:30:22 2019 +0800

    Update FeConstants meta version to VERSION_62 (#1822)
    
    This should be modified along with commit a232a56c0

 fe/src/main/java/org/apache/doris/common/FeConstants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc813e6c618e97a5a3d6fdf16a3c6fab08565644
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Sep 17 14:10:05 2019 +0800

    Limit the max version to cumulative compaction (#1813)

 be/src/common/config.h                | 3 ++-
 be/src/olap/cumulative_compaction.cpp | 8 ++++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 054a3f48bcbe280dd39c2154cd50017d8a90ff88
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Sep 17 11:32:40 2019 +0800

    Add where expr in broker load (#1812)
    
    The where predicate in broker load is responsible for filtering transformed data.
    The docs of help and operator has been changed.

 be/src/runtime/fragment_mgr.cpp                    |   3 +
 .../load-data/broker-load-manual.md                |  20 +-
 .../Data Manipulation/BROKER LOAD.md               |  14 +-
 .../load-data/broker-load-manual_EN.md             |   9 +-
 .../Data Manipulation/broker_load_EN.md            | 688 ++++++++++-----------
 fe/src/main/cup/sql_parser.cup                     |  10 +-
 .../org/apache/doris/analysis/DataDescription.java |  11 +-
 .../org/apache/doris/load/BrokerFileGroup.java     |   7 +
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |   8 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  17 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  |   4 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |  11 +-
 .../org/apache/doris/planner/LoadScanNode.java     |  75 +++
 .../apache/doris/planner/StreamLoadScanNode.java   |  35 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |  13 +-
 15 files changed, 503 insertions(+), 422 deletions(-)

commit ede51da7772c21c6c06d4e4fb213d2e78722e854
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 16 20:25:05 2019 +0800

    Resolve reduce/reduce conflict in our syntax (#1811)

 fe/src/main/cup/sql_parser.cup                         | 4 ----
 fe/src/main/java/org/apache/doris/analysis/SetVar.java | 5 +++++
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 973eff26cdd34257dd9b94d81494568d791bfbc2
Author: WingC <1018957763@qq.com>
Date:   Mon Sep 16 17:40:23 2019 +0800

    Fix tablet meta tool command argument bug (#1810)

 .../cn/administrator-guide/operation/tablet-meta-tool.md          | 8 ++++----
 .../en/administrator-guide/operation/tablet-meta-tool_EN.md       | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit a232a56c0692317bcca5455979df0265a958496f
Author: xionglei0 <55084968+xionglei0@users.noreply.github.com>
Date:   Mon Sep 16 16:41:14 2019 +0800

    Add parallel_exchange_instance_num to set parallel after exchange (#1788)

 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../main/java/org/apache/doris/qe/Coordinator.java | 38 ++++++++++++++++------
 .../java/org/apache/doris/qe/SessionVariable.java  | 24 +++++++++++---
 3 files changed, 49 insertions(+), 15 deletions(-)

commit 86feddb5d710dc56226509c7c2e6f50e834811e0
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Sep 16 00:12:00 2019 +0800

    Fix bug that dead lock may happen when drop table during alter table process (#1800)
    
    the cancel() function will try get database's write lock, while its caller may already
    hold the database's read lock.

 .../apache/doris/alter/AlterCancelException.java   | 33 ++++++++++++++
 .../java/org/apache/doris/alter/AlterJobV2.java    | 12 ++++--
 .../java/org/apache/doris/alter/RollupJobV2.java   | 37 ++++++----------
 .../org/apache/doris/alter/SchemaChangeJobV2.java  | 50 +++++++++-------------
 fe/src/main/java/org/apache/doris/load/Load.java   |  2 +-
 5 files changed, 76 insertions(+), 58 deletions(-)

commit dcea6daf4f737494f715dffa105b362e09011305
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Sep 13 22:06:55 2019 +0800

    Fix Cluster meta write error (#1802)

 fe/src/main/java/org/apache/doris/cluster/Cluster.java | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 11eafe524fea9fa0fc2aa8c8c761fe099c75ed0a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Sep 13 08:27:24 2019 +0800

    Add ChunkAllocator to accelerate chunk allocation (#1792)
    
    I add ChunkAllocator in this CL to put unused memory chunk to a chunk
    pool other than return it to system allocator. Now we only change
    MemPool's chunk allocation and free to this.
    
    And two configuration are introduduced too. 'chunk_reserved_bytes_limit'
    is the limit of how many bytes this chunk pool can reserve in total and
    its default value is 2147483648(2GB). 'use_mmap_allocate_chunk': if
    chunk is allocated via mmap and default value is false.
    
    And in my test case with default configuration a simple like
    "select * from table limit 10", this can improve throughput from 280 QPS
    to to 650 QPS. And when I config 'chunk_reserved_bytes_limit' to 0,
    which means this is disabled, the throughput is the same with origin's.

 be/src/common/config.h                           |  13 ++
 be/src/common/daemon.cpp                         |   3 +
 be/src/runtime/CMakeLists.txt                    |   2 +
 be/src/runtime/mem_pool.cpp                      |  43 +++--
 be/src/runtime/mem_pool.h                        |  24 ++-
 be/src/runtime/memory/chunk.h                    |  35 +++++
 be/src/runtime/memory/chunk_allocator.cpp        | 190 +++++++++++++++++++++++
 be/src/runtime/memory/chunk_allocator.h          |  80 ++++++++++
 be/src/runtime/memory/system_allocator.cpp       |  78 ++++++++++
 be/src/runtime/memory/system_allocator.h         |  38 +++++
 be/src/util/cpu_info.cpp                         |   3 +-
 be/test/olap/rowset/segment_v2/segment_test.cpp  |   2 +-
 be/test/runtime/CMakeLists.txt                   |   2 +
 be/test/runtime/mem_pool_test.cpp                |  14 +-
 be/test/runtime/memory/chunk_allocator_test.cpp  |  47 ++++++
 be/test/runtime/memory/system_allocator_test.cpp |  53 +++++++
 run-ut.sh                                        |   2 +
 17 files changed, 583 insertions(+), 46 deletions(-)

commit 9aa204598737155ce29fb83ac2d22ed9a19f717a
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Sep 12 16:31:29 2019 +0800

    Refactor alter job (#1695)

 be/src/agent/agent_server.cpp                      |   4 +-
 be/src/agent/task_worker_pool.cpp                  |  10 +-
 be/src/exec/tablet_sink.h                          |   2 +-
 be/src/exprs/timestamp_functions.cpp               |   4 +
 be/src/olap/data_dir.cpp                           |   4 +-
 be/src/olap/delta_writer.cpp                       |  14 +-
 be/src/olap/delta_writer.h                         |   3 +-
 be/src/olap/memtable.cpp                           |   9 +-
 be/src/olap/memtable.h                             |   5 +-
 be/src/olap/schema_change.cpp                      |  13 +-
 be/src/olap/tablet.cpp                             |   6 +-
 be/src/olap/task/engine_alter_tablet_task.cpp      |   7 +-
 be/src/olap/txn_manager.cpp                        |   3 +-
 be/src/runtime/tablet_writer_mgr.cpp               |   7 +-
 be/test/olap/delta_writer_test.cpp                 |   5 +-
 .../operation/tablet-meta-tool.md                  |   2 +-
 .../cn/administrator-guide/time-zone.md            |  14 +-
 .../Data Manipulation/BROKER LOAD.md               |   3 +-
 .../Data Manipulation/ROUTINE LOAD.md              |   1 +
 .../en/administrator-guide/time-zone_EN.md         |  72 ++
 fe/src/main/java/org/apache/doris/alter/Alter.java |  70 +-
 .../java/org/apache/doris/alter/AlterHandler.java  | 145 +++-
 .../java/org/apache/doris/alter/AlterJobV2.java    | 212 +++++
 .../java/org/apache/doris/alter/RollupHandler.java | 379 ++++-----
 .../java/org/apache/doris/alter/RollupJob.java     |   3 +-
 .../java/org/apache/doris/alter/RollupJobV2.java   | 759 +++++++++++++++++
 .../apache/doris/alter/SchemaChangeHandler.java    | 531 ++++++------
 .../org/apache/doris/alter/SchemaChangeJob.java    |  21 +-
 .../org/apache/doris/alter/SchemaChangeJobV2.java  | 903 ++++++++++++++++++++
 .../java/org/apache/doris/alter/SystemHandler.java |   2 +-
 .../org/apache/doris/analysis/AddRollupClause.java |  10 +
 .../java/org/apache/doris/analysis/Analyzer.java   |   5 +
 .../org/apache/doris/analysis/DataDescription.java | 198 +++--
 .../java/org/apache/doris/analysis/InsertStmt.java | 139 +++-
 .../java/org/apache/doris/analysis/LoadStmt.java   |  12 +-
 .../org/apache/doris/analysis/ShowAlterStmt.java   |   1 -
 .../org/apache/doris/analysis/ShowTabletStmt.java  |   4 +-
 .../org/apache/doris/analysis/SlotDescriptor.java  |   6 +
 .../org/apache/doris/backup/BackupHandler.java     |   3 +-
 .../java/org/apache/doris/backup/BackupJob.java    |   6 +-
 .../org/apache/doris/backup/BackupJobInfo.java     |   3 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |  23 +-
 .../java/org/apache/doris/catalog/BrokerTable.java |   2 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  80 +-
 .../apache/doris/catalog/CatalogRecycleBin.java    |  17 +-
 .../main/java/org/apache/doris/catalog/Column.java |  46 +-
 .../java/org/apache/doris/catalog/Database.java    |   5 +-
 .../java/org/apache/doris/catalog/EsTable.java     |   2 +-
 .../apache/doris/catalog/MaterializedIndex.java    |  15 +-
 .../org/apache/doris/catalog/MetadataViewer.java   |   5 +-
 .../java/org/apache/doris/catalog/MysqlTable.java  |   2 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  77 +-
 .../java/org/apache/doris/catalog/Partition.java   | 133 ++-
 .../java/org/apache/doris/catalog/Replica.java     |  26 +-
 .../main/java/org/apache/doris/catalog/Table.java  |  59 +-
 .../main/java/org/apache/doris/catalog/Tablet.java |   9 +-
 .../apache/doris/catalog/TabletInvertedIndex.java  |   6 +
 .../org/apache/doris/catalog/TabletStatMgr.java    |   5 +-
 .../apache/doris/clone/ColocateTableBalancer.java  |   7 +-
 .../java/org/apache/doris/clone/LoadBalancer.java  |   3 +
 .../java/org/apache/doris/clone/TabletChecker.java |   6 +-
 .../org/apache/doris/clone/TabletSchedCtx.java     |   2 +-
 .../org/apache/doris/clone/TabletScheduler.java    |   9 +-
 .../org/apache/doris/common/CaseSensibility.java   |   2 +-
 .../main/java/org/apache/doris/common/Config.java  |   5 +
 .../java/org/apache/doris/common/FeConstants.java  |   7 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../java/org/apache/doris/common/FeNameFormat.java |   4 +
 .../apache/doris/common/MarkedCountDownLatch.java  |  10 +-
 .../apache/doris/common/proc/IndicesProcDir.java   |   3 +-
 .../org/apache/doris/common/proc/JobsProcDir.java  |  58 +-
 .../apache/doris/common/proc/RollupJobProcDir.java |  40 +-
 .../apache/doris/common/proc/RollupProcDir.java    |  24 +-
 .../doris/common/proc/RollupTabletsProcNode.java   |  62 --
 .../doris/common/proc/SchemaChangeProcNode.java    |   4 +-
 .../apache/doris/common/proc/StatisticProcDir.java |   3 +-
 .../apache/doris/common/util/PropertyAnalyzer.java |  16 +
 .../org/apache/doris/common/util/TimeUtils.java    |  14 +-
 .../doris/consistency/ConsistencyChecker.java      |   3 +-
 .../org/apache/doris/http/rest/RowCountAction.java |   5 +-
 .../apache/doris/http/rest/ShowMetaInfoAction.java |   8 +-
 .../org/apache/doris/journal/JournalEntity.java    |   6 +
 .../org/apache/doris/load/BrokerFileGroup.java     |  86 +-
 .../main/java/org/apache/doris/load/ExportJob.java |   3 +-
 .../main/java/org/apache/doris/load/ExportMgr.java |   2 +-
 fe/src/main/java/org/apache/doris/load/Load.java   | 923 ++++++++++-----------
 .../java/org/apache/doris/load/LoadChecker.java    |  22 +-
 .../main/java/org/apache/doris/load/LoadJob.java   |  17 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  61 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  25 +-
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |   8 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  |   3 +-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  10 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |   4 +-
 .../doris/load/routineload/RoutineLoadJob.java     |  14 +-
 .../java/org/apache/doris/master/Checkpoint.java   |   3 +-
 .../java/org/apache/doris/master/MasterImpl.java   |  59 +-
 .../org/apache/doris/master/ReportHandler.java     |  19 +-
 .../java/org/apache/doris/persist/EditLog.java     |  31 +-
 .../org/apache/doris/persist/OperationType.java    |   1 +
 .../org/apache/doris/planner/BrokerScanNode.java   | 207 +----
 .../org/apache/doris/planner/DataSplitSink.java    |   2 +-
 .../org/apache/doris/planner/OlapTableSink.java    |  19 +-
 .../java/org/apache/doris/planner/Planner.java     |   1 -
 .../org/apache/doris/planner/RollupSelector.java   |  15 +-
 .../apache/doris/planner/StreamLoadPlanner.java    |   7 +-
 .../apache/doris/planner/StreamLoadScanNode.java   |  71 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |   6 +-
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   2 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  21 +-
 .../apache/doris/service/FrontendServiceImpl.java  |  13 +-
 .../java/org/apache/doris/task/AgentBatchTask.java |  52 ++
 .../main/java/org/apache/doris/task/AgentTask.java |  12 +
 .../java/org/apache/doris/task/AgentTaskQueue.java |  23 +
 .../org/apache/doris/task/AlterReplicaTask.java    |  98 +++
 .../org/apache/doris/task/CreateReplicaTask.java   |  36 +-
 .../apache/doris/task/HadoopLoadPendingTask.java   |  18 +-
 .../java/org/apache/doris/task/LoadEtlTask.java    |   3 +-
 .../java/org/apache/doris/task/PullLoadTask.java   |   3 +-
 .../org/apache/doris/task/PullLoadTaskPlanner.java |   2 +-
 .../java/org/apache/doris/task/StreamLoadTask.java |  16 +-
 .../doris/transaction/GlobalTransactionMgr.java    | 150 ++--
 .../doris/transaction/PublishVersionDaemon.java    |  12 +-
 .../apache/doris/transaction/TransactionState.java |  28 +
 .../java/org/apache/doris/alter/RollupJobTest.java | 351 --------
 .../org/apache/doris/alter/RollupJobV2Test.java    | 221 +++++
 .../apache/doris/alter/SchemaChangeJobTest.java    | 280 -------
 .../apache/doris/alter/SchemaChangeJobV2Test.java  | 200 +++++
 .../apache/doris/analysis/DataDescriptionTest.java |   2 +-
 .../org/apache/doris/backup/BackupHandlerTest.java |   3 +-
 .../org/apache/doris/backup/RestoreJobTest.java    |   3 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   3 +-
 .../java/org/apache/doris/catalog/FakeEditLog.java |   6 +
 .../java/org/apache/doris/catalog/ReplicaTest.java |   6 +-
 .../apache/doris/common/util/BrokerUtilTest.java   |  17 +-
 .../org/apache/doris/http/DorisHttpTestCase.java   |   8 +-
 .../org/apache/doris/load/LoadCheckerTest.java     |   7 +-
 .../doris/load/loadv2/BrokerLoadJobTest.java       |   7 +-
 .../org/apache/doris/load/loadv2/LoadJobTest.java  |  10 +-
 .../apache/doris/planner/OlapTableSinkTest.java    |   2 +-
 .../doris/planner/StreamLoadScanNodeTest.java      |   5 +
 .../java/org/apache/doris/qe/ShowExecutorTest.java |   1 -
 .../org/apache/doris/task/LoadEtlTaskTest.java     |   3 +-
 gensrc/thrift/AgentService.thrift                  |   2 +-
 gensrc/thrift/Types.thrift                         |   3 +-
 145 files changed, 4979 insertions(+), 2684 deletions(-)

commit dad4def70866049dc3c85c392fa0170d824035fe
Author: wubiao <biao.wu@aliyun.com>
Date:   Thu Sep 12 15:15:39 2019 +0800

    Support estimate size for v2 segment writer (#1787)

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |  4 ++
 be/src/olap/rowset/segment_v2/binary_dict_page.h   |  2 +
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  4 ++
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  4 ++
 be/src/olap/rowset/segment_v2/column_writer.cpp    | 25 ++++++++
 be/src/olap/rowset/segment_v2/column_writer.h      |  2 +
 be/src/olap/rowset/segment_v2/column_zone_map.h    |  4 ++
 be/src/olap/rowset/segment_v2/ordinal_page_index.h |  4 ++
 be/src/olap/rowset/segment_v2/page_builder.h       |  3 +
 be/src/olap/rowset/segment_v2/plain_page.h         |  4 ++
 be/src/olap/rowset/segment_v2/rle_page.h           |  4 ++
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |  7 ++-
 be/src/olap/short_key_index.h                      |  6 +-
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 67 ++++++++++++++++++++++
 14 files changed, 138 insertions(+), 2 deletions(-)

commit f58a222da70a0f6e4c13bb2942558cb272f2ed62
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Sep 12 14:37:20 2019 +0800

    Fix bug that the calculation of disk usage percent is wrong (#1791)
    
    This bug may cause unable to load data

 be/src/olap/data_dir.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c354f30767d56705a227a693adf9e70b7fd889de
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Sep 12 14:15:06 2019 +0800

    Fix mistake in docs (#1796)

 .../cn/sql-reference/sql-statements/Account Management/GRANT.md         | 2 +-
 .../en/sql-reference/sql-statements/Account Management/GRANT_EN.md      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 348e2129b7f404a3c9fd789ad73c9f2a6f22686d
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu Sep 12 12:59:16 2019 +0800

    Initialize tablet uid not using default constructor for performance reason (#1795)

 be/src/olap/tablet_meta.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit afa9b6ecabf3e0bc2284cf8a0e8af3381e148668
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu Sep 12 10:30:49 2019 +0800

    Add meta store service thrift definition (#1783)

 gensrc/thrift/MetaStoreService.thrift | 157 ++++++++++++++++++++++++++++++++++
 1 file changed, 157 insertions(+)

commit a85ffa1c2acca464c93fbd4c4baaf36b6fada70d
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Sep 11 16:13:34 2019 +0800

    Fix FE log error (#1785)

 fe/src/main/java/org/apache/doris/transaction/GlobalTransactionMgr.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b327643132900607cb327a4bc909dd37e86e0d44
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Sep 11 10:20:46 2019 +0800

    Fix bug that failed to limit the mem usage of HLL column when loading (#1778)
    
    Should use arena to allocate mem for HyperLogLog column.

 be/src/olap/aggregate_func.h                                 | 12 +++++++-----
 .../sql-statements/Data Definition/CREATE TABLE.md           |  2 +-
 .../sql-statements/Data Definition/CREATE TABLE_EN.md        |  2 +-
 3 files changed, 9 insertions(+), 7 deletions(-)

commit 5a12a1d7dfd8a1fdaefa1200bcf2771782c1678f
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Sep 10 23:48:42 2019 +0800

    Fix compile error (#1780)

 be/src/runtime/routine_load/routine_load_task_executor.cpp | 3 +++
 1 file changed, 3 insertions(+)

commit dcdfc5faf29da480e7be8137ea7656011c49821f
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Sep 10 21:40:11 2019 +0800

    Update .gitignore: ignore cmake dir (#1779)

 .gitignore | 3 +++
 1 file changed, 3 insertions(+)

commit bf373758b2752a3b5e17a1878ad41fb0c6d90bbf
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Sep 10 19:35:55 2019 +0800

    Make CpuInfo::get_current_core work (#1773)

 be/CMakeLists.txt             |  9 ++++++++-
 be/src/common/CMakeLists.txt  |  3 ++-
 be/src/common/config.h        |  5 +++--
 be/src/common/env_config.h.in | 24 ++++++++++++++++++++++++
 be/src/util/cpu_info.cpp      | 25 ++++++++++++++++---------
 5 files changed, 53 insertions(+), 13 deletions(-)

commit 235cdb0ecd67471506d6214635c95974c2a0b702
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Sep 10 14:27:06 2019 +0800

    Commit kafka offset (#1734)
    
    Commit kafka offset in routine load
    
    Kafka will decide whether to delete data based on whether all consumer group is commit offset or not. If there is no commit offset, the kafka server disk may be full

 be/src/runtime/routine_load/data_consumer.cpp      | 10 ++++++
 be/src/runtime/routine_load/data_consumer.h        |  2 ++
 .../routine_load/routine_load_task_executor.cpp    | 36 ++++++++++++++++++++++
 .../runtime/stream_load/stream_load_executor.cpp   |  2 +-
 4 files changed, 49 insertions(+), 1 deletion(-)

commit 40a11c41a9bac05c7f40fa054d3083ceb44ff4ef
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Sep 10 13:59:38 2019 +0800

    Fix BE crash when schema changing with HLL column (#1772)

 be/src/olap/schema_change.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 5653822298d49a592dc11556c00c4edf46da2ca0
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Sep 10 09:54:13 2019 +0800

    Writer magic number in footer instead of header (#1771)

 be/src/olap/rowset/beta_rowset_writer.cpp        |  2 +-
 be/src/olap/rowset/segment_v2/segment.cpp        | 69 +++++++++---------------
 be/src/olap/rowset/segment_v2/segment.h          |  2 -
 be/src/olap/rowset/segment_v2/segment_writer.cpp | 26 +++++----
 be/src/olap/rowset/segment_v2/segment_writer.h   |  2 +-
 be/test/olap/rowset/segment_v2/segment_test.cpp  |  4 +-
 6 files changed, 41 insertions(+), 64 deletions(-)

commit 044489b92f5fbe90a763a4515e4bb338f150e67e
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Sep 9 22:11:12 2019 +0800

    Optimize some kinds of load jobs (#1762)
    
    1. Support specifying label to Insert Into stmt.
    
        INSERT INTO tbl1 WITH LABEL label1 ...;
    
    2. Return job' state corresponding to the existing label in result of stream load.
    
        ...
        "Status": "Label Already Exists",
        "ExistingJobStatus": "FINISHED"
        ...
    
    3. Return the recent 2000 transactions in SHOW PROC '/transactions'

 be/src/runtime/stream_load/stream_load_context.cpp |  2 +
 be/src/runtime/stream_load/stream_load_context.h   |  3 ++
 .../runtime/stream_load/stream_load_executor.cpp   |  3 ++
 .../load-data/insert-into-manual.md                | 27 +++++++++--
 .../load-data/stream-load-manual.md                |  5 +++
 .../sql-statements/Data Manipulation/insert.md     | 25 ++++++-----
 .../load-data/insert-into-manual_EN.md             | 52 ++++++++++++++++++++--
 .../load-data/stream-load-manual_EN.md             |  5 +++
 .../sql-statements/Data Manipulation/insert_EN.md  | 40 +++++++++--------
 fe/src/main/cup/sql_parser.cup                     | 16 ++++++-
 .../java/org/apache/doris/analysis/InsertStmt.java | 16 +++++--
 .../doris/common/LabelAlreadyUsedException.java    | 29 ++++++++++++
 .../org/apache/doris/common/proc/TransProcDir.java |  4 +-
 .../apache/doris/http/rest/GetLoadInfoAction.java  |  7 ++-
 .../java/org/apache/doris/qe/StmtExecutor.java     | 20 ++++++---
 .../apache/doris/service/FrontendServiceImpl.java  |  1 +
 .../doris/transaction/GlobalTransactionMgr.java    |  6 +--
 gensrc/thrift/FrontendService.thrift               |  1 +
 18 files changed, 204 insertions(+), 58 deletions(-)

commit 8b663bf416316391de6c74239d2d8bb3657d1731
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Sep 9 20:57:42 2019 +0800

    Fix bug: unknown column from the inline view (#1770)
    
    Revert code from PR-1617. The column who belongs to inline view need to be initialized by alias.

 .../java/org/apache/doris/analysis/InlineViewRef.java     | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 0f44ce99ced0a82899c545abbb2420af2822e6d4
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Sep 9 18:26:48 2019 +0800

    Fix segment v2 comment (#1769)

 be/src/olap/rowset/segment_v2/binary_dict_page.cpp |  1 -
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  1 -
 be/src/olap/rowset/segment_v2/column_reader.cpp    | 10 ++++------
 be/src/olap/rowset/segment_v2/column_reader.h      | 21 +++++++--------------
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  6 +++---
 be/src/olap/rowset/segment_v2/page_compression.cpp |  6 +++---
 be/src/olap/rowset/segment_v2/page_compression.h   | 20 ++++++++++----------
 be/src/olap/rowset/segment_v2/page_decoder.h       |  2 +-
 be/src/olap/rowset/segment_v2/page_handle.h        |  2 +-
 be/src/olap/rowset/segment_v2/row_ranges.h         |  2 +-
 be/src/olap/rowset/segment_v2/segment.h            |  4 ++--
 11 files changed, 32 insertions(+), 43 deletions(-)

commit cd5cfea5cc07d56060a6c7d2895dd05c7b3db88f
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Sep 9 15:52:10 2019 +0800

    Encapsulate HLL logic (#1756)

 be/src/common/daemon.cpp                           |   2 +
 be/src/exec/csv_scan_node.cpp                      |   4 +-
 be/src/exprs/CMakeLists.txt                        |   8 +-
 be/src/exprs/aggregate_functions.cpp               |  28 +-
 be/src/exprs/aggregate_functions.h                 |  47 +--
 be/src/exprs/hll_function.cpp                      | 110 +++++++
 be/src/exprs/hll_function.h                        |  44 +++
 be/src/exprs/hll_hash_function.cpp                 |  59 +---
 be/src/exprs/hll_hash_function.h                   |  19 +-
 be/src/olap/aggregate_func.h                       |  73 ++---
 be/src/olap/hll.cpp                                | 328 +++++++++++++--------
 be/src/olap/hll.h                                  | 173 ++++++++---
 be/src/olap/memtable.cpp                           |  17 +-
 be/src/udf/udf.h                                   |   2 +
 be/test/exprs/CMakeLists.txt                       |   1 +
 be/test/exprs/hll_function_test.cpp                | 116 ++++++++
 .../java/org/apache/doris/catalog/FunctionSet.java |  38 +--
 gensrc/script/doris_builtins_functions.py          |   6 +-
 run-ut.sh                                          |   1 +
 19 files changed, 705 insertions(+), 371 deletions(-)

commit a34940983877d98a3f061f5c9b33f02c9cca0b31
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 9 14:51:13 2019 +0800

    Move compare from RowCursor to row (#1764)

 be/src/olap/olap_index.h                   |   9 +-
 be/src/olap/reader.cpp                     |   4 +-
 be/src/olap/row.h                          |  35 ++++++++
 be/src/olap/row_block.cpp                  |  37 ---------
 be/src/olap/row_block.h                    |  41 ---------
 be/src/olap/row_cursor.cpp                 |  36 +-------
 be/src/olap/row_cursor.h                   |   6 --
 be/src/olap/rowset/alpha_rowset.cpp        |   7 +-
 be/src/olap/rowset/alpha_rowset_reader.cpp |   2 +-
 be/src/olap/rowset/column_data.cpp         |   4 +-
 be/src/olap/rowset/column_data.h           |   5 +-
 be/test/olap/row_block_test.cpp            | 129 -----------------------------
 be/test/olap/row_cursor_test.cpp           |  38 ++++-----
 13 files changed, 75 insertions(+), 278 deletions(-)

commit ca23b7a511ebfb57110db9a145fcf05f8c110b56
Author: yiguolei <yiguolei@baidu.com>
Date:   Mon Sep 9 13:59:19 2019 +0800

    Should create init rowset for alter task v2 (#1767)

 be/src/olap/schema_change.cpp  | 14 ++++++++------
 be/src/olap/tablet.cpp         |  3 +--
 be/src/olap/tablet_manager.cpp | 34 ++++++++++++++++------------------
 3 files changed, 25 insertions(+), 26 deletions(-)

commit 5acdeee4d255a67069f296f23a1eea5cb366387f
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 9 13:50:14 2019 +0800

    Assign schema_size from other Schema (#1768)

 be/src/olap/schema.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit fd2937360c6fff08e182e03af6101ddd7e6be7ed
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun Sep 8 21:31:12 2019 +0800

    Get rid of external_sorting when rowsets have already been filtered (#1760)

 be/src/olap/schema_change.cpp | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit b85cb0071bab7e37cc55f1629d3e2bc3ad0b9dcb
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sun Sep 8 21:26:31 2019 +0800

    Bug-fix: error result of union stmt (#1758)
    
    ISSUES-1725: The result of union stmt whose child is outer join stmt is incorrect.
    
    Example:
    sql: (select k1 from empty) union all (select b.k1 k1 from left_table a left join empty  b on a.k2 = b.k2);
    context: the empty table has no data.
    error result: 0
    expect result: null
    
    Reason:
    The judgment (columns k1 who belongs to union tuple is nullable ) is incorrect.
    It could not be determined by slot attribute of children when the slot is produced by the outer join.
    The slot A is not nullable while the result of outer join is nullable which is same as slot A.
    So, the judgment needs to consider if the slot is come from the outer join.

 fe/src/main/java/org/apache/doris/analysis/UnionStmt.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f23ac0eadd8ca49b297049cfc7ec5e41e289d62b
Author: chenhao <510341142@qq.com>
Date:   Sun Sep 8 09:30:46 2019 +0800

    Planner support push down predicates past agg, win and sort (#1471)

 .../java/org/apache/doris/analysis/Analyzer.java   |  20 +-
 .../main/java/org/apache/doris/analysis/Expr.java  |   7 +
 .../apache/doris/planner/SingleNodePlanner.java    | 312 +++++++++++++++++++--
 3 files changed, 311 insertions(+), 28 deletions(-)

commit 2f52ae79889eaee0f05e625c7c113c18ad45efca
Author: worker24h <xxbzj249@163.com>
Date:   Fri Sep 6 06:47:18 2019 -0500

    Add PreAgg Hint (#1617)
    
    eg:
    SELECT xxx FROM tbl /*+ PREAGGOPEN */
    This will open pre-aggregation forcibly for the specified table

 fe/src/main/cup/sql_parser.cup                     | 25 ++++++++-
 .../org/apache/doris/analysis/BaseTableRef.java    |  1 +
 .../org/apache/doris/analysis/InlineViewRef.java   | 16 +++---
 .../java/org/apache/doris/analysis/TableRef.java   | 40 +++++++++++---
 .../org/apache/doris/planner/OlapScanNode.java     | 26 +++++----
 .../apache/doris/planner/SingleNodePlanner.java    | 35 ++++++------
 fe/src/main/jflex/sql_scanner.flex                 | 62 ++++++++++++++--------
 7 files changed, 143 insertions(+), 62 deletions(-)

commit 981e0feb99738c15445bafc39bca54e26642f629
Author: yiguolei <yiguolei@baidu.com>
Date:   Fri Sep 6 17:21:42 2019 +0800

    Check rowset is useful atomicly (#1750)
    
    * Check rowset is useful atomicly
    
    * Only release rowset id when it is added to unused rowset
    
    * remove release rowset id when save rowset meta

 be/src/olap/data_dir.cpp                   | 15 +++------------
 be/src/olap/rowset/rowset_meta_manager.cpp |  6 ------
 be/src/olap/storage_engine.cpp             |  1 +
 be/src/olap/tablet.cpp                     | 14 +++++++++++++-
 4 files changed, 17 insertions(+), 19 deletions(-)

commit 65dcabf1df0630f33110da344443d8c2e64a5d73
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Fri Sep 6 15:23:57 2019 +0800

    Use crc32c checksum for segment v2 (#1753)

 be/src/olap/rowset/segment_v2/column_reader.cpp  |   4 +-
 be/src/olap/rowset/segment_v2/column_writer.cpp  |   4 +-
 be/src/olap/rowset/segment_v2/segment.cpp        |   4 +-
 be/src/olap/rowset/segment_v2/segment_writer.cpp |   4 +-
 be/src/util/CMakeLists.txt                       |   1 +
 be/src/util/crc32c.cpp                           | 389 +++++++++++++++++++++++
 be/src/util/crc32c.h                             |  55 ++++
 be/src/util/hash_util.hpp                        |  11 +-
 be/test/util/CMakeLists.txt                      |   1 +
 be/test/util/crc32c_test.cpp                     |  90 ++++++
 run-ut.sh                                        |   1 +
 11 files changed, 547 insertions(+), 17 deletions(-)

commit 54fd3652e69c86a2d94a3f2e63dfd1d43936f432
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Fri Sep 6 15:07:23 2019 +0800

    Fix bug in BetaRowsetReader which results in empty result (#1754)

 be/src/olap/rowset/beta_rowset_reader.cpp | 2 ++
 be/test/olap/rowset/beta_rowset_test.cpp  | 4 ++++
 2 files changed, 6 insertions(+)

commit da69812f6582085f0b66e0a750be121b38156d6e
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Sep 5 22:30:41 2019 +0800

    Fix compile error (#1749)

 be/CMakeLists.txt | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 3f22238012c4b3258dffb167b74c5e8c6c557aa6
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Sep 5 18:11:38 2019 +0800

    Add check for to_bitmap function argument (#1747)

 be/src/exec/base_scanner.cpp           |  9 +++++++++
 be/src/exprs/bitmap_function.cpp       | 22 ++++++++++++++++++++--
 be/src/exprs/expr_context.cpp          | 16 ++++++++++++++++
 be/src/exprs/expr_context.h            |  4 ++++
 be/src/udf/udf.cpp                     |  8 ++++++--
 be/src/udf/udf.h                       |  5 +++++
 be/src/util/bitmap.h                   |  8 ++++----
 be/test/exprs/bitmap_function_test.cpp | 26 ++++++++++++++++++++++++++
 8 files changed, 90 insertions(+), 8 deletions(-)

commit 85940a292b9ff0e69e3c6e862f44a4a023ad629a
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Thu Sep 5 18:10:18 2019 +0800

    RowsetFactory as a single entry for Rowset creation (#1748)

 be/src/olap/data_dir.cpp                   | 13 ++++---
 be/src/olap/rowset/alpha_rowset.cpp        | 11 +-----
 be/src/olap/rowset/alpha_rowset.h          | 32 ++++++++--------
 be/src/olap/rowset/alpha_rowset_writer.cpp | 15 ++++----
 be/src/olap/rowset/beta_rowset.cpp         | 20 +++++-----
 be/src/olap/rowset/beta_rowset.h           | 23 ++++++++----
 be/src/olap/rowset/beta_rowset_writer.cpp  | 18 +++++----
 be/src/olap/rowset/rowset.h                | 42 +++++++++++++++------
 be/src/olap/rowset/rowset_writer.h         |  3 +-
 be/src/olap/snapshot_manager.cpp           |  1 -
 be/src/olap/tablet.cpp                     | 27 ++++++--------
 be/src/olap/tablet.h                       |  2 +-
 be/src/olap/task/engine_clone_task.cpp     | 22 +++++++----
 be/test/olap/txn_manager_test.cpp          | 59 ++++++++++++++++++++++++++++--
 14 files changed, 183 insertions(+), 105 deletions(-)

commit 0dc0dadad14a25bb51bd8d0372eac861a4c3b8d6
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Sep 4 21:05:12 2019 +0800

    Reduce unnecessary memory allocat and copy in OlapScanNode (#1742)

 be/src/exec/CMakeLists.txt       |   1 -
 be/src/exec/olap_common.cpp      | 135 ++------------------
 be/src/exec/olap_common.h        |  60 ++-------
 be/src/exec/olap_meta_reader.cpp | 116 -----------------
 be/src/exec/olap_meta_reader.h   |  55 ---------
 be/src/exec/olap_scan_node.cpp   | 260 +++++++++++++++++++--------------------
 be/src/exec/olap_scan_node.h     |  14 +--
 be/src/exec/olap_scanner.cpp     |  30 ++---
 be/src/exec/olap_scanner.h       |  10 +-
 9 files changed, 163 insertions(+), 518 deletions(-)

commit a84c64785f1660268e23774484e88b7acb94fcea
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Sep 4 18:31:18 2019 +0800

    Shuffle partitioned instance to avoid skew (#1744)

 fe/src/main/java/org/apache/doris/qe/Coordinator.java | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 726509e9b9419dfe38ca8e58076f6127ec60d81c
Author: lxqfy <yingguangtianhuo@gmail.com>
Date:   Wed Sep 4 17:28:27 2019 +0800

    Add MIN/MAX aggregate function compatible with char/varchar (#1739)

 be/src/olap/aggregate_func.cpp                     |  4 ++
 be/src/olap/aggregate_func.h                       | 60 ++++++++++++++++++++++
 .../org/apache/doris/catalog/AggregateType.java    |  4 ++
 3 files changed, 68 insertions(+)

commit a63989cc61e9909d99914417ca7dbcbe2ffbd6fe
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Wed Sep 4 17:02:43 2019 +0800

    Use RowsetFactory to create and init RowsetWriter (#1740)

 be/src/olap/CMakeLists.txt                         |   1 -
 be/src/olap/compaction.cpp                         |  29 +++---
 be/src/olap/compaction.h                           |   5 +-
 be/src/olap/data_dir.cpp                           |  10 +-
 be/src/olap/delta_writer.cpp                       |  21 ++--
 be/src/olap/delta_writer.h                         |   2 +-
 be/src/olap/memtable.cpp                           |   4 +-
 be/src/olap/memtable.h                             |   4 +-
 be/src/olap/merger.cpp                             | 114 ++++++---------------
 be/src/olap/merger.h                               |  47 +++------
 be/src/olap/olap_define.h                          |  31 ++++--
 be/src/olap/olap_snapshot_converter.cpp            |   9 +-
 be/src/olap/push_handler.cpp                       |  24 ++---
 be/src/olap/reader.h                               |   3 +
 be/src/olap/rowset/CMakeLists.txt                  |   1 +
 be/src/olap/rowset/rowset.h                        |   3 +
 be/src/olap/{ => rowset}/rowset_factory.cpp        |  33 ++++--
 be/src/olap/{ => rowset}/rowset_factory.h          |  14 ++-
 be/src/olap/rowset/rowset_id_generator.h           |   9 +-
 be/src/olap/rowset/rowset_writer.h                 |  10 +-
 be/src/olap/rowset/unique_rowset_id_generator.cpp  |   9 +-
 be/src/olap/rowset/unique_rowset_id_generator.h    |   5 +-
 be/src/olap/schema_change.cpp                      |  96 ++++++++---------
 be/src/olap/schema_change.h                        |  17 +--
 be/src/olap/snapshot_manager.cpp                   |  26 ++---
 be/src/olap/storage_engine.cpp                     |   1 -
 be/src/olap/storage_engine.h                       |   2 +-
 be/src/olap/tablet_manager.cpp                     |  31 +++---
 be/test/olap/rowset/alpha_rowset_test.cpp          |  12 +--
 be/test/olap/rowset/beta_rowset_test.cpp           |   7 +-
 .../rowset/unique_rowset_id_generator_test.cpp     |  11 +-
 31 files changed, 270 insertions(+), 321 deletions(-)

commit fddfffe4c0f1ed1158d5c0006a7bc19ce0f92ca3
Author: worker24h <xxbzj249@163.com>
Date:   Wed Sep 4 00:36:17 2019 -0500

    Fix bug that failed to create a new partition when no partition in a table (#1688)

 fe/src/main/java/org/apache/doris/alter/Alter.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 03b399150e399ad07279d0720598a9894468a497
Author: yiguolei <yiguolei@baidu.com>
Date:   Tue Sep 3 21:34:52 2019 +0800

    Not add alter task to tablet in alter tablet request v2 (#1741)

 be/src/olap/tablet_manager.cpp | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit f76dad289e2823e8a4c92932ffed5d59e02a1b6a
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Sep 3 13:52:16 2019 +0800

    Basic implementation for BetaRowsetReader (#1718)

 be/src/olap/compaction.cpp                         |   9 +-
 be/src/olap/generic_iterators.cpp                  |  37 ++-
 be/src/olap/olap_define.h                          |   5 +-
 be/src/olap/olap_snapshot_converter.cpp            |   1 +
 be/src/olap/row.h                                  |   2 +-
 be/src/olap/row_block2.cpp                         |  48 ++--
 be/src/olap/row_block2.h                           |  43 +++-
 be/src/olap/row_cursor.cpp                         |   1 -
 be/src/olap/rowset/CMakeLists.txt                  |   1 +
 be/src/olap/rowset/alpha_rowset.cpp                |  13 +-
 be/src/olap/rowset/alpha_rowset.h                  |   6 +-
 be/src/olap/rowset/alpha_rowset_reader.cpp         |  16 +-
 be/src/olap/rowset/alpha_rowset_reader.h           |   8 +-
 be/src/olap/rowset/beta_rowset.cpp                 |  42 +++-
 be/src/olap/rowset/beta_rowset.h                   |   7 +-
 be/src/olap/rowset/beta_rowset_reader.cpp          | 122 ++++++++++
 be/src/olap/rowset/beta_rowset_reader.h            |  65 ++++++
 be/src/olap/rowset/rowset.h                        |  40 ++--
 be/src/olap/rowset/rowset_reader.h                 |  11 +-
 be/src/olap/rowset/rowset_reader_context.h         |   4 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  20 +-
 be/src/olap/rowset/segment_v2/segment_iterator.h   |   3 -
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |  17 +-
 be/src/olap/rowset/segment_v2/segment_writer.h     |   6 +-
 be/src/olap/schema_change.cpp                      |  20 +-
 be/src/olap/snapshot_manager.cpp                   |   1 +
 be/src/olap/tablet.cpp                             |   7 +-
 be/src/util/arrow/row_block.cpp                    |  14 +-
 be/src/util/arrow/row_block.h                      |   5 +-
 be/test/olap/CMakeLists.txt                        |   1 +
 be/test/olap/generic_iterators_test.cpp            |  13 +-
 be/test/olap/rowset/alpha_rowset_test.cpp          |   5 +-
 be/test/olap/rowset/beta_rowset_test.cpp           | 260 +++++++++++++++++++++
 be/test/olap/rowset/segment_v2/segment_test.cpp    |  17 +-
 be/test/util/arrow/arrow_row_block_test.cpp        |   4 +-
 run-ut.sh                                          |   1 +
 36 files changed, 660 insertions(+), 215 deletions(-)

commit 9f5e5717d4aaf184518d8da93b11c2137489fe6d
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Sep 3 10:42:16 2019 +0800

    Unify the msg of 'Memory exceed limit' (#1737)
    
    The new msg of limit exceed: "Memory exceed limit. %msg, Backend:%ip, fragment:%id Used:% , Limit:%. xxx".
    This commit unifies the msg of 'Memory exceed limit' such as check_query_state, RETURN_IF_LIMIT_EXCEEDED and LIMIT_EXCEEDED.

 be/src/exec/aggregation_node.cpp                | 10 +++++-----
 be/src/exec/cross_join_node.cpp                 |  3 +--
 be/src/exec/exchange_node.cpp                   |  5 +----
 be/src/exec/exec_node.cpp                       |  4 ++--
 be/src/exec/exec_node.h                         | 20 ++++++++++++++------
 be/src/exec/hash_join_node.cpp                  |  3 +--
 be/src/exec/new_partitioned_aggregation_node.cc | 19 +++++++++++++------
 be/src/exec/new_partitioned_hash_table.cc       |  3 ++-
 be/src/exec/partitioned_aggregation_node.cc     |  9 +++------
 be/src/exec/sort_node.cpp                       |  3 +--
 be/src/exec/spill_sort_node.cc                  |  9 +++------
 be/src/exec/topn_node.cpp                       |  9 +++------
 be/src/runtime/buffered_block_mgr.cpp           |  5 ++---
 be/src/runtime/mem_tracker.cpp                  |  5 ++---
 be/src/runtime/plan_fragment_executor.cpp       |  2 +-
 be/src/runtime/runtime_state.cpp                |  7 +++----
 be/src/runtime/runtime_state.h                  |  2 +-
 17 files changed, 58 insertions(+), 60 deletions(-)

commit a80e9996a6c8e8c2775e7ed638ff92595495f463
Author: yiguolei <yiguolei@baidu.com>
Date:   Mon Sep 2 19:43:04 2019 +0800

    Move version to high 8 bit (#1736)

 be/src/olap/olap_common.h                          | 24 ++++++++++----------
 be/src/olap/rowset/unique_rowset_id_generator.cpp  |  2 +-
 .../rowset/unique_rowset_id_generator_test.cpp     | 26 +++++++++++-----------
 3 files changed, 26 insertions(+), 26 deletions(-)

commit b4f6f755f1ebbcf2510a78a527e3f68c8cb9e98d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 2 19:29:30 2019 +0800

    Add exchange in MemPool to reduce alloc/free operation (#1732)
    
    Reuse allocated chunks when storage read operation.

 be/src/runtime/mem_pool.cpp             | 415 ++++++++++++++++----------------
 be/src/runtime/mem_pool.h               | 385 +++++++++++++++--------------
 be/src/runtime/row_batch.cpp            |   2 +-
 be/src/runtime/vectorized_row_batch.cpp |   7 +-
 be/test/runtime/mem_pool_test.cpp       | 218 +++++------------
 run-ut.sh                               |   1 +
 6 files changed, 459 insertions(+), 569 deletions(-)

commit 8034d83e20ba0c04179aa825d755713c9fe16da0
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Mon Sep 2 19:04:30 2019 +0800

    Add scroll keepalive and http timeout configuration (#1731)

 be/src/common/config.h            |  6 ++++++
 be/src/exec/es/es_scan_reader.cpp | 10 +++++-----
 be/src/exec/es/es_scan_reader.h   |  4 ++++
 3 files changed, 15 insertions(+), 5 deletions(-)

commit 6f4feca3dcd5d62f9de87a0871e9177c5def7a7b
Author: yiguolei <yiguolei@baidu.com>
Date:   Mon Sep 2 18:51:31 2019 +0800

    Add rowset id generator to FE and BE (#1678)

 be/src/agent/agent_server.cpp                      |  10 +-
 be/src/olap/compaction.cpp                         |   6 +-
 be/src/olap/data_dir.cpp                           |  22 ++--
 be/src/olap/data_dir.h                             |  10 +-
 be/src/olap/delta_writer.cpp                       |   6 +-
 be/src/olap/olap_common.h                          |  84 +++++++++++++++-
 be/src/olap/olap_define.h                          |   2 +-
 be/src/olap/olap_snapshot_converter.cpp            |  24 +++--
 be/src/olap/olap_snapshot_converter.h              |   4 +-
 be/src/olap/options.h                              |   2 +
 be/src/olap/push_handler.cpp                       |   8 +-
 be/src/olap/rowset/CMakeLists.txt                  |   5 +-
 be/src/olap/rowset/alpha_rowset_writer.cpp         |   5 +
 be/src/olap/rowset/beta_rowset.cpp                 |   4 +-
 be/src/olap/rowset/beta_rowset.h                   |   2 +-
 be/src/olap/rowset/rowset.h                        |   2 +-
 be/src/olap/rowset/rowset_id_generator.cpp         |  76 --------------
 be/src/olap/rowset/rowset_id_generator.h           |  25 ++---
 be/src/olap/rowset/rowset_meta.h                   |  23 ++++-
 be/src/olap/rowset/rowset_meta_manager.cpp         |  39 +++++---
 be/src/olap/rowset/rowset_meta_manager.h           |  14 +--
 be/src/olap/rowset/rowset_writer_context.h         |   3 +-
 be/src/olap/rowset/segment_group.cpp               |  14 +--
 be/src/olap/rowset/segment_group.h                 |  12 +--
 be/src/olap/rowset/segment_writer.cpp              |   8 +-
 be/src/olap/rowset/unique_rowset_id_generator.cpp  |  51 ++++++++++
 be/src/olap/rowset/unique_rowset_id_generator.h    |  48 +++++++++
 be/src/olap/schema_change.cpp                      |  24 ++---
 be/src/olap/snapshot_manager.cpp                   |  50 +---------
 be/src/olap/snapshot_manager.h                     |   2 +-
 be/src/olap/storage_engine.cpp                     |   7 +-
 be/src/olap/storage_engine.h                       |  11 +-
 be/src/olap/tablet.cpp                             |  21 +---
 be/src/olap/tablet.h                               |  11 +-
 be/src/olap/tablet_manager.cpp                     |   7 +-
 be/src/olap/tablet_meta.cpp                        |  59 -----------
 be/src/olap/tablet_meta.h                          |  17 ----
 be/src/olap/task/engine_clone_task.cpp             |   2 +-
 be/src/olap/txn_manager.cpp                        |   4 +-
 be/src/service/doris_main.cpp                      |   2 +
 be/src/util/uid_util.h                             |   2 +
 be/test/olap/CMakeLists.txt                        |   1 +
 be/test/olap/olap_snapshot_converter_test.cpp      |  12 +++
 be/test/olap/rowset/alpha_rowset_test.cpp          |   8 +-
 be/test/olap/rowset/rowset_meta_manager_test.cpp   |  19 +++-
 be/test/olap/rowset/rowset_meta_test.cpp           |   8 +-
 .../rowset/unique_rowset_id_generator_test.cpp     | 111 +++++++++++++++++++++
 be/test/olap/tablet_mgr_test.cpp                   |  29 +++---
 be/test/olap/test_data/header.txt                  |   3 +-
 be/test/olap/txn_manager_test.cpp                  |  20 +++-
 .../java/org/apache/doris/task/SnapshotTask.java   |   4 +-
 gensrc/proto/olap_file.proto                       |   2 +
 52 files changed, 555 insertions(+), 390 deletions(-)

commit 81ca3e3abf2d6c277a1f1931219f7273009f30ee
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Sep 2 16:49:28 2019 +0800

    Free olap scanner out of lock (#1733)
    
    Close scanner out of OlapScanner's batch lock,
    which will lead all scanners wait for one scanner to finish.

 be/src/exec/olap_scan_node.cpp | 70 +++++++++++++++++++++++-------------------
 be/src/exec/olap_scan_node.h   |  4 +--
 2 files changed, 40 insertions(+), 34 deletions(-)

commit ba170aa9e6153d91ea59ec07eda17f8903925c7c
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Sep 2 16:03:26 2019 +0800

    Fix NPE of DataDescription (#1735)
    
    When user does not specify column mapping in BrokerLoadStmt, NPE may be thrown.

 fe/src/main/java/org/apache/doris/analysis/DataDescription.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit f87abd93c84c99d3ba6aaefa45a9b40e5abb8e8e
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Aug 31 19:49:44 2019 +0800

    Modify the website (#1730)
    
    1. Add Apache incubator disclaimer.
    2. Add "Edit on Github" button on every page.
    3. Add Committer Ling Miao.
    4. Modify some English documents.

 docs/documentation/cn/community/members.md         |   8 +-
 .../cn/community/verify-apache-release.md          |   2 +-
 docs/documentation/cn/index.rst                    |   9 +-
 .../en/administrator-guide/colocation-join_EN.md   |  25 +-
 .../http-actions/cancel-label_EN.md                |  38 ++
 .../http-actions/fe-get-log-file_EN.md             |  48 +-
 .../http-actions/get-label-state_EN.md             |  34 +
 .../http-actions/restore-tablet_EN.md              |  15 +
 docs/documentation/en/community/gitter_EN.md       |   2 +-
 docs/documentation/en/community/members_EN.md      |  31 +-
 docs/documentation/en/community/pull-request_EN.md |   2 +-
 .../en/community/release-process_EN.md             |   2 +-
 .../en/community/verify-apache-release_EN.md       |   2 +-
 .../en/extending-doris/user-defined-function_EN.md |   2 +-
 .../en/getting-started/basic-usage_EN.md           |   2 +-
 .../en/getting-started/best-practice_EN.md         |   4 +-
 .../en/getting-started/data-model-rollup_EN.md     |   8 +-
 docs/documentation/en/index.rst                    |  13 +-
 docs/documentation/en/installing/compilation_EN.md |  10 +-
 .../en/installing/install-deploy_EN.md             |   8 +-
 .../sql-functions/aggregate-functions/bitmap_EN.md |  64 ++
 .../Data Definition/CREATE TABLE_EN.md             | 713 +++++++++++----------
 docs/website/build_site.sh                         |  11 +-
 docs/website/source/_templates/footer.html         |  11 +
 docs/website/source/conf.py                        |  12 +-
 docs/website/source/index.rst                      |   4 +-
 26 files changed, 667 insertions(+), 413 deletions(-)

commit 1164264e9db2d83adf87f8691b9b2e15664a7738
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Fri Aug 30 22:07:24 2019 +0800

    Add English version Doris website (#1729)

 docs/documentation/cn/index.rst                    |  14 +
 .../documentation/en/administrator-guide/index.rst |   6 +-
 .../en/administrator-guide/load-data/index.rst     |  12 +-
 .../en/administrator-guide/operation/index.rst     |   6 +-
 .../operation/metadata-operation_EN.md             |   6 +-
 docs/documentation/en/community/index.rst          |   6 +-
 docs/documentation/en/extending-doris/index.rst    |   6 +-
 docs/documentation/en/getting-started/index.rst    |  18 +-
 docs/documentation/en/index.rst                    |  15 +
 docs/documentation/en/installing/compilation.md    |  77 -----
 docs/documentation/en/installing/index.rst         |  12 +-
 docs/documentation/en/installing/install-deploy.md | 380 ---------------------
 docs/documentation/en/installing/upgrade.md        |  37 --
 docs/documentation/en/internal/index.rst           |   6 +-
 docs/documentation/en/sql-reference/index.rst      |   6 +-
 .../sql-functions/aggregate-functions/avg_EN.md    |   8 +-
 .../sql-functions/aggregate-functions/count_EN.md  |   6 +-
 .../aggregate-functions/count_distinct_EN.md       |   6 +-
 .../aggregate-functions/hll_union_agg_EN.md        |  10 +-
 .../sql-functions/aggregate-functions/index.rst    |   6 +-
 .../sql-functions/aggregate-functions/max_EN.md    |   8 +-
 .../sql-functions/aggregate-functions/min_EN.md    |   6 +-
 .../sql-functions/aggregate-functions/ndv_EN.md    |  10 +-
 .../aggregate-functions/percentile_approx_EN.md    |   6 +-
 .../sql-functions/aggregate-functions/stddev_EN.md |   8 +-
 .../aggregate-functions/stddev_samp_EN.md          |   8 +-
 .../sql-functions/aggregate-functions/sum_EN.md    |   6 +-
 .../aggregate-functions/var_samp_EN.md             |   8 +-
 .../aggregate-functions/variance_EN.md             |   6 +-
 .../en/sql-reference/sql-functions/cast_EN.md      |  10 +-
 .../date-time-functions/date_add_EN.md             |   8 +-
 .../date-time-functions/date_sub_EN.md             |   8 +-
 .../date-time-functions/datediff_EN.md             |   6 +-
 .../sql-functions/date-time-functions/day_EN.md    |   6 +-
 .../date-time-functions/dayname_EN.md              |   6 +-
 .../date-time-functions/dayofmonth_EN.md           |   8 +-
 .../date-time-functions/dayofweek_EN.md            |   6 +-
 .../date-time-functions/dayofyear_EN.md            |   8 +-
 .../date-time-functions/from_days_EN.md            |   6 +-
 .../sql-functions/date-time-functions/index.rst    |   6 +-
 .../sql-functions/date-time-functions/month_EN.md  |   8 +-
 .../date-time-functions/monthname_EN.md            |   8 +-
 .../sql-functions/date-time-functions/now_EN.md    |   6 +-
 .../date-time-functions/str_to_date_EN.md          |   8 +-
 .../date-time-functions/timediff_EN.md             |   8 +-
 .../date-time-functions/to_days_EN.md              |   8 +-
 .../date-time-functions/utc_timestamp_EN.md        |   6 +-
 .../date-time-functions/workofyear_EN.md           |   8 +-
 .../sql-functions/date-time-functions/year_EN.md   |   6 +-
 .../en/sql-reference/sql-functions/index.rst       |   6 +-
 .../sql-functions/spatial-functions/index.rst      |   6 +-
 .../spatial-functions/st_astext_EN.md              |  10 +-
 .../spatial-functions/st_circle_EN.md              |   6 +-
 .../spatial-functions/st_contains_EN.md            |  10 +-
 .../spatial-functions/st_distance_sphere_EN.md     |   8 +-
 .../spatial-functions/st_geometryfromtext_EN.md    |  10 +-
 .../spatial-functions/st_linefromtext_EN.md        |  10 +-
 .../sql-functions/spatial-functions/st_point_EN.md |  10 +-
 .../spatial-functions/st_polygon_EN.md             |   7 +-
 .../sql-functions/spatial-functions/st_x_EN.md     |   8 +-
 .../sql-functions/spatial-functions/st_y_EN.md     |   8 +-
 .../sql-functions/string-functions/ascii_EN.md     |   8 +-
 .../sql-functions/string-functions/concat_EN.md    |   8 +-
 .../sql-functions/string-functions/concat_ws_EN.md |  10 +-
 .../string-functions/find_in_set_EN.md             |  10 +-
 .../string-functions/get_json_double_EN.md         |  10 +-
 .../string-functions/get_json_int_EN.md            |   6 +-
 .../string-functions/get_json_string_EN.md         |   8 +-
 .../string-functions/group_concat_EN.md            |  10 +-
 .../sql-functions/string-functions/index.rst       |   6 +-
 .../sql-functions/string-functions/instr_EN.md     |   8 +-
 .../sql-functions/string-functions/lcase_EN.md     |   6 +-
 .../sql-functions/string-functions/left_EN.md      |   6 +-
 .../sql-functions/string-functions/length_EN.md    |   6 +-
 .../sql-functions/string-functions/locate_EN.md    |   8 +-
 .../sql-functions/string-functions/lower_EN.md     |   6 +-
 .../sql-functions/string-functions/lpad_EN.md      |   8 +-
 .../sql-functions/string-functions/ltrim_EN.md     |   8 +-
 .../string-functions/money_format_EN.md            |   6 +-
 .../string-functions/regexp_extract_EN.md          |   6 +-
 .../string-functions/regexp_replace_EN.md          |  10 +-
 .../sql-functions/string-functions/repeat_EN.md    |   6 +-
 .../sql-functions/string-functions/right_EN.md     |   8 +-
 .../string-functions/split_part_EN.md              |   6 +-
 .../sql-functions/string-functions/strleft_EN.md   |   8 +-
 .../sql-functions/string-functions/strright_EN.md  |   8 +-
 .../Account Management/CREATE ROLE_EN.md           |   4 +-
 .../Account Management/CREATE USER_EN.md           |   4 +-
 .../Account Management/DROP ROLE_EN.md             |   4 +-
 .../Account Management/DROP USER_EN.md             |   4 +-
 .../sql-statements/Account Management/GRANT_EN.md  |   6 +-
 .../sql-statements/Account Management/REVOKE_EN.md |   4 +-
 .../Account Management/SET PASSWORD_EN.md          |   4 +-
 .../Account Management/SET PROPERTY_EN.md          |   4 +-
 .../Account Management/SHOW GRANTS_EN.md           |   4 +-
 .../Account Management/SHOW ROLES_EN.md            |   4 +-
 .../sql-statements/Account Management/index.rst    |   8 +
 .../Administration/ADMIN CANCEL REPAIR_EN.md       |   4 +-
 .../Administration/ADMIN REPAIR_EN.md              |   4 +-
 .../Administration/ADMIN SET CONFIG_EN.md          |   4 +-
 .../Administration/ADMIN SHOW CONFIG_EN.md         |   4 +-
 .../ADMIN SHOW REPLICA DISTRIBUTION_EN.md          |   4 +-
 .../Administration/ADMIN SHOW REPLICA STATUS_EN.md |   4 +-
 .../Administration/ALTER CLUSTER_EN.md             |   6 +-
 .../Administration/ALTER SYSTEM_EN.md              |   4 +-
 .../Administration/CANCEL DECOMMISSION_EN.md       |   4 +-
 .../Administration/CREATE CLUSTER_EN.md            |   4 +-
 .../Administration/CREATE FILE_EN.md               |   4 +-
 .../Administration/DROP CLUSTER_EN.md              |   4 +-
 .../sql-statements/Administration/DROP FILE_EN.md  |   4 +-
 .../sql-statements/Administration/ENTER_EN.md      |   6 +-
 .../Administration/LINK DATABASE_EN.md             |   6 +-
 .../Administration/MIGRATE DATABASE_EN.md          |   4 +-
 .../Administration/SHOW BACKENDS_EN.md             |   2 +-
 .../Administration/SHOW BROKER_EN.md               |   2 +-
 .../sql-statements/Administration/SHOW FILE_EN.md  |   4 +-
 .../Administration/SHOW FRONTENDS_EN.md            |   2 +-
 .../Administration/SHOW MIGRATIONS_EN.md           |   2 +-
 .../sql-statements/Administration/index.rst        |   8 +
 .../Data Definition/ALTER DATABASE_EN.md           |   6 +-
 .../Data Definition/ALTER TABLE_EN.md              |   4 +-
 .../sql-statements/Data Definition/BACKUP_EN.md    |   4 +-
 .../Data Definition/CANCEL ALTER_EN.md             |   4 +-
 .../Data Definition/CANCEL BACKUP_EN.md            |   4 +-
 .../Data Definition/CANCEL RESTORE_EN.md           |   4 +-
 .../Data Definition/CREATE DATABASE_EN.md          |   4 +-
 .../Data Definition/CREATE REPOSITORY_EN.md        |   4 +-
 .../Data Definition/CREATE TABLE_EN.md             |   4 +-
 .../Data Definition/CREATE VIEW_EN.md              |   4 +-
 .../Data Definition/Colocate Join_EN.md            |   2 +-
 .../Data Definition/DROP DATABASE_EN.md            |   4 +-
 .../Data Definition/DROP REPOSITORY_EN.md          |   4 +-
 .../Data Definition/DROP TABLE_EN.md               |   4 +-
 .../sql-statements/Data Definition/DROP VIEW_EN.md |   4 +-
 .../sql-statements/Data Definition/HLL_EN.md       |   4 +-
 .../sql-statements/Data Definition/RECOVER_EN.md   |   4 +-
 .../sql-statements/Data Definition/RESTORE_EN.md   |   6 +-
 .../Data Definition/TRUNCATE TABLE_EN.md           |   6 +-
 .../Data Definition/create-function_EN.md          |   6 +-
 .../Data Definition/drop-function_EN.md            |   6 +-
 .../sql-statements/Data Definition/index.rst       |   8 +
 .../Data Definition/show-function_EN.md            |   6 +-
 .../Data Manipulation/RESUME ROUTINE LOAD_EN.md    |   2 +-
 .../Data Manipulation/ROUTINE LOAD_EN.md           |   4 +-
 .../Data Manipulation/SHOW ALTER_EN.md             |   4 +-
 .../Data Manipulation/SHOW BACKUP_EN.md            |   4 +-
 .../Data Manipulation/SHOW DATABASES_EN.md         |   2 +-
 .../Data Manipulation/SHOW DATA_EN.md              |   4 +-
 .../Data Manipulation/SHOW DELETE_EN.md            |   4 +-
 .../Data Manipulation/SHOW EXPORT_EN.md            |   4 +-
 .../Data Manipulation/SHOW LOAD_EN.md              |   4 +-
 .../Data Manipulation/SHOW PARTITIONS_EN.md        |   4 +-
 .../Data Manipulation/SHOW PROPERTY_EN.md          |   4 +-
 .../Data Manipulation/SHOW REPOSITORIES_EN.md      |   4 +-
 .../Data Manipulation/SHOW RESTORE_EN.md           |   4 +-
 .../Data Manipulation/SHOW ROUTINE LOAD TASK_EN.md |   2 +-
 .../Data Manipulation/SHOW ROUTINE LOAD_EN.md      |   2 +-
 .../Data Manipulation/SHOW SNAPSHOT_EN.md          |   2 +-
 .../Data Manipulation/SHOW TABLES_EN.md            |   2 +-
 .../Data Manipulation/SHOW TABLET_EN.md            |   4 +-
 .../Data Manipulation/STOP ROUTINE LOAD_EN.md      |   2 +-
 .../Data Manipulation/STREAM LOAD_EN.md            |   4 +-
 .../sql-statements/Data Manipulation/index.rst     |   8 +
 .../sql-statements/Data Types/BIGINT_EN.md         |   4 +-
 .../sql-statements/Data Types/BOOLEAN_EN.md        |   2 +-
 .../sql-statements/Data Types/CHAR_EN.md           |   2 +-
 .../sql-statements/Data Types/DATETIME_EN.md       |   4 +-
 .../sql-statements/Data Types/DATE_EN.md           |   6 +-
 .../sql-statements/Data Types/DECIMAL_EN.md        |   4 +-
 .../sql-statements/Data Types/DOUBLE_EN.md         |   4 +-
 .../sql-statements/Data Types/FLOAT_EN.md          |   2 +-
 .../Data Types/HLL(HyperLogLog)_EN.md              |   4 +-
 .../sql-statements/Data Types/INT_EN.md            |   2 +-
 .../sql-statements/Data Types/SMALLINT_EN.md       |   4 +-
 .../sql-statements/Data Types/TINYINT_EN.md        |   2 +-
 .../sql-statements/Data Types/VARCHAR_EN.md        |   4 +-
 .../sql-statements/Data Types/index.rst            |   8 +
 .../sql-reference/sql-statements/Utility/index.rst |   8 +
 .../sql-statements/Utility/util_stmt_EN.md         |   6 +-
 .../en/sql-reference/sql-statements/index.rst      |  15 +-
 docs/website/build_site.sh                         |  19 +-
 docs/website/source/index.rst                      |  11 +-
 182 files changed, 578 insertions(+), 995 deletions(-)

commit 76987275b911863d25d5ef6135d81b730ab405d3
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Aug 30 21:39:17 2019 +0800

    Fix result of unix_timestamp() (#1727)

 be/src/runtime/datetime_value.cpp                  |  6 ++++-
 be/test/runtime/datetime_value_test.cpp            |  6 ++---
 .../date-time-functions/unix_timestamp.md          | 16 +++++++++---
 .../date-time-functions/unix_timestamp_EN.md       | 29 ++++++++++++++++------
 .../org/apache/doris/analysis/DateLiteral.java     |  7 +++---
 .../java/org/apache/doris/rewrite/FEFunctions.java | 12 ++++++---
 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 12 ++++++++-
 7 files changed, 65 insertions(+), 23 deletions(-)

commit 06b87d998a2b429dbb4ef6ab9b12113b8393c1dd
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Aug 30 20:23:32 2019 +0800

    Error check about column which has no default value (#1728)
    
    This commit check the all of parsed column include hadoop function and other function.
    Otherwise, the load will thrown the "Column has no default value" exception while the column also has been defined by a non-hadoop function.

 fe/src/main/java/org/apache/doris/load/Load.java | 27 ++++++++++++------------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 206f5394ee8f687a65b4c089c1f108e0e8920a17
Author: Lijia Liu <liutang123@yeah.net>
Date:   Fri Aug 30 18:54:37 2019 +0800

    Limit V2 segment file row count (#1647) (#1705)

 be/src/olap/rowset/beta_rowset_writer.cpp      | 3 ++-
 be/src/olap/rowset/rowset_writer_context.h     | 4 ++++
 be/src/olap/rowset/segment_v2/segment_writer.h | 4 +++-
 gensrc/proto/segment_v2.proto                  | 2 +-
 4 files changed, 10 insertions(+), 3 deletions(-)

commit 3a33f3d350bf5bc28cdbb57e20adbb9b99573524
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Aug 30 14:44:51 2019 +0800

    Make bitmap_union agg column support insert into and broker load (#1721)

 be/src/exec/tablet_sink.cpp                        |  6 ++++
 .../sql-functions/aggregate-functions/bitmap.md    |  4 +--
 .../sql-statements/Data Definition/CREATE TABLE.md |  4 +--
 .../java/org/apache/doris/analysis/InsertStmt.java | 41 ++++++++++++++++++++++
 .../java/org/apache/doris/analysis/SelectStmt.java |  5 +++
 .../java/org/apache/doris/analysis/TypeDef.java    |  5 ++-
 .../org/apache/doris/planner/BrokerScanNode.java   |  2 ++
 .../java/org/apache/doris/planner/ScanNode.java    | 22 ++++++++++++
 .../apache/doris/planner/StreamLoadScanNode.java   |  3 ++
 .../org/apache/doris/catalog/ColumnTypeTest.java   |  2 +-
 10 files changed, 88 insertions(+), 6 deletions(-)

commit 378ce8ca04384771db630d1643ce12527568c585
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Aug 29 21:19:19 2019 +0800

    Use double when converting TIME type value  (#1722)
    
    TIME type value is saved in DOUBLE, so using int64 can extend the time range.

 be/src/exprs/time_operators.cpp                    |  2 +-
 be/src/runtime/memory_scratch_sink.cpp             |  2 +-
 be/src/runtime/result_writer.cpp                   |  2 +-
 be/src/util/date_func.cpp                          |  8 ++---
 be/src/util/date_func.h                            |  2 +-
 .../date-time-functions/from_unixtime.md           | 23 ++++++++-----
 .../date-time-functions/from_unixtime_EN.md        | 38 +++++++++++++---------
 .../org/apache/doris/analysis/DateLiteral.java     |  5 ++-
 .../java/org/apache/doris/qe/JournalObserver.java  |  1 +
 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 16 +++++++--
 10 files changed, 63 insertions(+), 36 deletions(-)

commit ecbdfc2cee07fc9d995be811e8f44ad14bb0d1f3
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Thu Aug 29 18:57:49 2019 +0800

    Avoid consistency problem when has no more data (#1716)

 be/src/runtime/memory_scratch_sink.cpp | 4 ++--
 be/src/runtime/result_queue_mgr.cpp    | 4 ++++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 7a0c7f45b289fab6e1309940667efc43df7daa83
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Thu Aug 29 13:47:15 2019 +0800

    Add English documents for Doris (#1719)
    
    The english documents is translated by machine. So It may has some mistake.
    We will fix them later

 .../en/administrator-guide/backup-restore_EN.md    | 160 +++++
 .../en/administrator-guide/colocation-join_EN.md   | 421 ++++++++++++++
 .../en/administrator-guide/export_manual_EN.md     | 165 ++++++
 .../http-actions/fe-get-log-file_EN.md             |  52 ++
 .../en/administrator-guide/http-actions/index.rst  |   9 +
 .../documentation/en/administrator-guide/index.rst |  17 +
 .../load-data/broker-load-manual_EN.md             | 449 +++++++++++++++
 .../en/administrator-guide/load-data/index.rst     |  12 +
 .../load-data/insert-into-manual_EN.md             | 137 +++++
 .../load-data/load-manual_EN.md                    | 172 ++++++
 .../load-data/routine-load-manual_EN.md            | 220 +++++++
 .../load-data/stream-load-manual_EN.md             | 259 +++++++++
 .../en/administrator-guide/operation/index.rst     |   9 +
 .../operation/metadata-operation_EN.md             | 297 ++++++++++
 .../operation/monitor-alert_EN.md                  | 283 +++++++++
 .../operation/multi-tenant_EN.md                   | 212 +++++++
 .../operation/tablet-meta-tool_EN.md               |  86 +++
 .../operation/tablet-repair-and-balance_EN.md      | 641 +++++++++++++++++++++
 .../en/administrator-guide/privilege_EN.md         | 188 ++++++
 .../en/administrator-guide/small-file-mgr_EN.md    |  78 +++
 docs/documentation/en/community/gitter_EN.md       |  37 ++
 .../en/community/how-to-contribute_EN.md           |  55 ++
 docs/documentation/en/community/index.rst          |   8 +
 docs/documentation/en/community/members_EN.md      |  31 +
 docs/documentation/en/community/pull-request_EN.md | 233 ++++++++
 .../en/community/release-process_EN.md             | 566 ++++++++++++++++++
 .../en/community/subscribe-mail-list_EN.md         |  43 ++
 .../en/community/verify-apache-release_EN.md       | 100 ++++
 .../en/extending-doris/doris-on-es_EN.md           | 205 +++++++
 docs/documentation/en/extending-doris/index.rst    |   8 +
 .../en/extending-doris/user-defined-function_EN.md |  92 +++
 .../en/getting-started/advance-usage_EN.md         | 246 ++++++++
 .../en/getting-started/basic-usage_EN.md           | 355 ++++++++++++
 .../en/getting-started/best-practice_EN.md         | 163 ++++++
 .../en/getting-started/data-model-rollup_EN.md     | 612 ++++++++++++++++++++
 .../en/getting-started/data-partition_EN.md        | 269 +++++++++
 .../en/getting-started/hit-the-rollup_EN.md        | 268 +++++++++
 docs/documentation/en/getting-started/index.rst    |  12 +
 docs/documentation/en/installing/compilation.md    |  77 +++
 docs/documentation/en/installing/compilation_EN.md |  76 +++
 docs/documentation/en/installing/index.rst         |   9 +
 docs/documentation/en/installing/install-deploy.md | 380 ++++++++++++
 .../en/installing/install-deploy_EN.md             | 391 +++++++++++++
 docs/documentation/en/installing/upgrade.md        |  37 ++
 docs/documentation/en/installing/upgrade_EN.md     |  37 ++
 .../en/internal/doris_storage_optimization_EN.md   | 206 +++++++
 docs/documentation/en/internal/index.rst           |   8 +
 .../en/internal/metadata-design_EN.md              | 100 ++++
 docs/documentation/en/sql-reference/index.rst      |   9 +
 .../sql-functions/aggregate-functions/avg_EN.md    |  31 +
 .../sql-functions/aggregate-functions/count_EN.md  |  35 ++
 .../aggregate-functions/count_distinct_EN.md       |  21 +
 .../aggregate-functions/hll_union_agg_EN.md        |  26 +
 .../sql-functions/aggregate-functions/index.rst    |   8 +
 .../sql-functions/aggregate-functions/max_EN.md    |  20 +
 .../sql-functions/aggregate-functions/min_EN.md    |  20 +
 .../sql-functions/aggregate-functions/ndv_EN.md    |  22 +
 .../aggregate-functions/percentile_approx_EN.md    |  21 +
 .../sql-functions/aggregate-functions/stddev_EN.md |  27 +
 .../aggregate-functions/stddev_samp_EN.md          |  20 +
 .../sql-functions/aggregate-functions/sum_EN.md    |  20 +
 .../aggregate-functions/var_samp_EN.md             |  19 +
 .../aggregate-functions/variance_EN.md             |  26 +
 .../en/sql-reference/sql-functions/cast_EN.md      |  56 ++
 .../date-time-functions/current_timestamp_EN.md    |  20 +
 .../date-time-functions/date_add_EN.md             |  26 +
 .../date-time-functions/date_format_EN.md          | 123 ++++
 .../date-time-functions/date_sub_EN.md             |  26 +
 .../date-time-functions/datediff_EN.md             |  32 +
 .../sql-functions/date-time-functions/day_EN.md    |  22 +
 .../date-time-functions/dayname_EN.md              |  22 +
 .../date-time-functions/dayofmonth_EN.md           |  22 +
 .../date-time-functions/dayofweek_EN.md            |  22 +
 .../date-time-functions/dayofyear_EN.md            |  22 +
 .../date-time-functions/from_days_EN.md            |  20 +
 .../date-time-functions/from_unixtime_EN.md        |  42 ++
 .../sql-functions/date-time-functions/index.rst    |   8 +
 .../sql-functions/date-time-functions/month_EN.md  |  22 +
 .../date-time-functions/monthname_EN.md            |  22 +
 .../sql-functions/date-time-functions/now_EN.md    |  20 +
 .../date-time-functions/str_to_date_EN.md          |  29 +
 .../date-time-functions/timediff_EN.md             |  46 ++
 .../date-time-functions/to_days_EN.md              |  22 +
 .../date-time-functions/unix_timestamp_EN.md       |  31 +
 .../date-time-functions/utc_timestamp_EN.md        |  24 +
 .../date-time-functions/workofyear_EN.md           |  23 +
 .../sql-functions/date-time-functions/year_EN.md   |  22 +
 .../en/sql-reference/sql-functions/index.rst       |  16 +
 .../sql-functions/spatial-functions/index.rst      |   8 +
 .../spatial-functions/st_astext_EN.md              |  21 +
 .../spatial-functions/st_circle_EN.md              |  22 +
 .../spatial-functions/st_contains_EN.md            |  28 +
 .../spatial-functions/st_distance_sphere_EN.md     |  21 +
 .../spatial-functions/st_geometryfromtext_EN.md    |  21 +
 .../spatial-functions/st_linefromtext_EN.md        |  21 +
 .../sql-functions/spatial-functions/st_point_EN.md |  22 +
 .../spatial-functions/st_polygon_EN.md             |  21 +
 .../sql-functions/spatial-functions/st_x_EN.md     |  21 +
 .../sql-functions/spatial-functions/st_y_EN.md     |  21 +
 .../sql-functions/string-functions/ascii_EN.md     |  28 +
 .../sql-functions/string-functions/concat_EN.md    |  35 ++
 .../sql-functions/string-functions/concat_ws_EN.md |  37 ++
 .../string-functions/find_in_set_EN.md             |  21 +
 .../string-functions/get_json_double_EN.md         |  48 ++
 .../string-functions/get_json_int_EN.md            |  48 ++
 .../string-functions/get_json_string_EN.md         |  58 ++
 .../string-functions/group_concat_EN.md            |  37 ++
 .../sql-functions/string-functions/index.rst       |   8 +
 .../sql-functions/string-functions/instr_EN.md     |  28 +
 .../sql-functions/string-functions/lcase_EN.md     |  11 +
 .../sql-functions/string-functions/left_EN.md      |  21 +
 .../sql-functions/string-functions/length_EN.md    |  28 +
 .../sql-functions/string-functions/locate_EN.md    |  35 ++
 .../sql-functions/string-functions/lower_EN.md     |  21 +
 .../sql-functions/string-functions/lpad_EN.md      |  28 +
 .../sql-functions/string-functions/ltrim_EN.md     |  21 +
 .../string-functions/money_format_EN.md            |  35 ++
 .../string-functions/regexp_extract_EN.md          |  28 +
 .../string-functions/regexp_replace_EN.md          |  28 +
 .../sql-functions/string-functions/repeat_EN.md    |  28 +
 .../sql-functions/string-functions/right_EN.md     |  21 +
 .../string-functions/split_part_EN.md              |  43 ++
 .../sql-functions/string-functions/strleft_EN.md   |  21 +
 .../sql-functions/string-functions/strright_EN.md  |  21 +
 .../Account Management/CREATE ROLE_EN.md           |  19 +
 .../Account Management/CREATE USER_EN.md           |  48 ++
 .../Account Management/DROP ROLE_EN.md             |  17 +
 .../Account Management/DROP USER_EN.md             |  17 +
 .../sql-statements/Account Management/GRANT_EN.md  |  55 ++
 .../sql-statements/Account Management/REVOKE_EN.md |  22 +
 .../Account Management/SET PASSWORD_EN.md          |  29 +
 .../Account Management/SET PROPERTY_EN.md          |  56 ++
 .../Account Management/SHOW GRANTS_EN.md           |  30 +
 .../Account Management/SHOW ROLES_EN.md            |  15 +
 .../Administration/ADMIN CANCEL REPAIR_EN.md       |  21 +
 .../Administration/ADMIN REPAIR_EN.md              |  26 +
 .../Administration/ADMIN SET CONFIG_EN.md          |  18 +
 .../Administration/ADMIN SHOW CONFIG_EN.md         |  27 +
 .../ADMIN SHOW REPLICA DISTRIBUTION_EN.md          |  25 +
 .../Administration/ADMIN SHOW REPLICA STATUS_EN.md |  38 ++
 .../Administration/ALTER CLUSTER_EN.md             |  27 +
 .../Administration/ALTER SYSTEM_EN.md              |  93 +++
 .../Administration/CANCEL DECOMMISSION_EN.md       |  14 +
 .../Administration/CREATE CLUSTER_EN.md            |  35 ++
 .../Administration/CREATE FILE_EN.md               |  50 ++
 .../Administration/DROP CLUSTER_EN.md              |  17 +
 .../sql-statements/Administration/DROP FILE_EN.md  |  25 +
 .../sql-statements/Administration/ENTER_EN.md      |  18 +
 .../Administration/LINK DATABASE_EN.md             |  23 +
 .../Administration/MIGRATE DATABASE_EN.md          |  19 +
 .../Administration/SHOW BACKENDS_EN.md             |  21 +
 .../Administration/SHOW BROKER_EN.md               |  14 +
 .../sql-statements/Administration/SHOW FILE_EN.md  |  26 +
 .../Administration/SHOW FRONTENDS_EN.md            |  17 +
 .../Administration/SHOW MIGRATIONS_EN.md           |  11 +
 .../Data Definition/ALTER DATABASE_EN.md           |  29 +
 .../Data Definition/ALTER TABLE_EN.md              | 240 ++++++++
 .../sql-statements/Data Definition/BACKUP_EN.md    |  39 ++
 .../Data Definition/CANCEL ALTER_EN.md             |  32 +
 .../Data Definition/CANCEL BACKUP_EN.md            |  13 +
 .../Data Definition/CANCEL RESTORE_EN.md           |  16 +
 .../Data Definition/CREATE DATABASE_EN.md          |  13 +
 .../Data Definition/CREATE REPOSITORY_EN.md        |  49 ++
 .../Data Definition/CREATE TABLE_EN.md             | 334 +++++++++++
 .../Data Definition/CREATE VIEW_EN.md              |  22 +
 .../Data Definition/Colocate Join_EN.md            |  72 +++
 .../Data Definition/DROP DATABASE_EN.md            |  16 +
 .../Data Definition/DROP REPOSITORY_EN.md          |  15 +
 .../Data Definition/DROP TABLE_EN.md               |  19 +
 .../sql-statements/Data Definition/DROP VIEW_EN.md |  14 +
 .../sql-statements/Data Definition/HLL_EN.md       |  79 +++
 .../sql-statements/Data Definition/RECOVER_EN.md   |  28 +
 .../sql-statements/Data Definition/RESTORE_EN.md   |  52 ++
 .../Data Definition/TRUNCATE TABLE_EN.md           |  26 +
 .../Data Definition/create-function_EN.md          |  71 +++
 .../Data Definition/drop-function_EN.md            |  28 +
 .../Data Definition/show-function_EN.md            |  37 ++
 .../Data Manipulation/CANCEL DELETE_EN.md          |  10 +
 .../Data Manipulation/CANCEL LABEL_EN.md           |  27 +
 .../Data Manipulation/CANCEL LOAD_EN.md            |  19 +
 .../sql-statements/Data Manipulation/DELETE_EN.md  |  36 ++
 .../sql-statements/Data Manipulation/EXPORT_EN.md  |  57 ++
 .../Data Manipulation/GET LABEL STATE_EN.md        |  32 +
 .../sql-statements/Data Manipulation/LOAD_EN.md    | 284 +++++++++
 .../Data Manipulation/MINI LOAD_EN.md              | 103 ++++
 .../Data Manipulation/MULTI LOAD_EN.md             |  81 +++
 .../Data Manipulation/PAUSE ROUTINE LOAD_EN.md     |   9 +
 .../Data Manipulation/RESTORE TABLET_EN.md         |  15 +
 .../Data Manipulation/RESUME ROUTINE LOAD_EN.md    |   9 +
 .../Data Manipulation/ROUTINE LOAD_EN.md           | 248 ++++++++
 .../Data Manipulation/SHOW ALTER_EN.md             |  25 +
 .../Data Manipulation/SHOW BACKUP_EN.md            |  36 ++
 .../Data Manipulation/SHOW DATABASES_EN.md         |   9 +
 .../Data Manipulation/SHOW DATA_EN.md              |  20 +
 .../Data Manipulation/SHOW DELETE_EN.md            |  13 +
 .../Data Manipulation/SHOW EXPORT_EN.md            |  36 ++
 .../Data Manipulation/SHOW LOAD_EN.md              |  48 ++
 .../Data Manipulation/SHOW PARTITIONS_EN.md        |  16 +
 .../Data Manipulation/SHOW PROPERTY_EN.md          |  16 +
 .../Data Manipulation/SHOW REPOSITORIES_EN.md      |  23 +
 .../Data Manipulation/SHOW RESTORE_EN.md           |  41 ++
 .../Data Manipulation/SHOW ROUTINE LOAD TASK_EN.md |   9 +
 .../Data Manipulation/SHOW ROUTINE LOAD_EN.md      |  31 +
 .../Data Manipulation/SHOW SNAPSHOT_EN.md          |  30 +
 .../Data Manipulation/SHOW TABLES_EN.md            |   8 +
 .../Data Manipulation/SHOW TABLET_EN.md            |  16 +
 .../Data Manipulation/STOP ROUTINE LOAD_EN.md      |   9 +
 .../Data Manipulation/STREAM LOAD_EN.md            |  91 +++
 .../Data Manipulation/broker_load_EN.md            | 366 ++++++++++++
 .../sql-statements/Data Manipulation/insert_EN.md  |  80 +++
 .../sql-statements/Data Types/BIGINT_EN.md         |   7 +
 .../sql-statements/Data Types/BOOLEAN_EN.md        |   7 +
 .../sql-statements/Data Types/CHAR_EN.md           |   7 +
 .../sql-statements/Data Types/DATETIME_EN.md       |   8 +
 .../sql-statements/Data Types/DATE_EN.md           |  15 +
 .../sql-statements/Data Types/DECIMAL_EN.md        |   8 +
 .../sql-statements/Data Types/DOUBLE_EN.md         |   7 +
 .../sql-statements/Data Types/FLOAT_EN.md          |   7 +
 .../Data Types/HLL(HyperLogLog)_EN.md              |   9 +
 .../sql-statements/Data Types/INT_EN.md            |   7 +
 .../sql-statements/Data Types/SMALLINT_EN.md       |   7 +
 .../sql-statements/Data Types/TINYINT_EN.md        |   7 +
 .../sql-statements/Data Types/VARCHAR_EN.md        |   7 +
 .../sql-statements/Utility/util_stmt_EN.md         |  13 +
 .../en/sql-reference/sql-statements/index.rst      |   8 +
 225 files changed, 14615 insertions(+)

commit 056a9fada391221a26d79ce3ea38f1f5a8fd3ecc
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Aug 29 10:42:04 2019 +0800

    fix delete bug (#1720)

 be/src/olap/wrapper_field.cpp | 1 +
 be/src/olap/wrapper_field.h   | 1 +
 2 files changed, 2 insertions(+)

commit c541c3fd59ffa4fbde193ded0aa285ca7943d69a
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Aug 28 19:37:38 2019 +0800

    Fix bug that failed to get enough normal replica because path hash is not set. (#1714)
    
    Path Hash of a replica in metadata should be set immediately after replica is created.
    And we should not depend on path hash to find replicas. Because path hash may be set
    delayed.

 be/src/olap/tablet_manager.cpp                        | 14 ++++++--------
 .../main/java/org/apache/doris/alter/RollupJob.java   |  4 ++++
 .../java/org/apache/doris/alter/SchemaChangeJob.java  |  3 +++
 .../main/java/org/apache/doris/backup/RestoreJob.java |  8 +++++---
 fe/src/main/java/org/apache/doris/catalog/Tablet.java | 12 ++++++------
 .../java/org/apache/doris/clone/TabletSchedCtx.java   |  3 +++
 .../java/org/apache/doris/planner/OlapTableSink.java  | 18 ++++++++++--------
 .../org/apache/doris/system/SystemInfoService.java    | 19 +++++++++++--------
 8 files changed, 48 insertions(+), 33 deletions(-)

commit 2159293d237d8f4caa38b90a8655c5acdab9b734
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Aug 28 18:08:26 2019 +0800

    Fix code's license (#1715)

 LICENSE.txt              | 76 +++++++++++++++++++++++++++++-------------------
 be/src/common/status.cpp | 17 -----------
 be/src/common/status.h   | 17 -----------
 be/src/util/coding.cpp   | 17 -----------
 be/src/util/coding.h     | 17 -----------
 5 files changed, 46 insertions(+), 98 deletions(-)

commit 6865f4238bc9c014a9c9a8496dffa25e05a9c2b7
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Wed Aug 28 16:25:12 2019 +0800

    Add limit to show tablet stmt (#1547)
    
    Also add some where predicates for filtering results
    ISSUE #1687

 be/test/util/system_metrics_test.cpp               |   2 +-
 .../Data Manipulation/SHOW TABLET.md               |  28 +++-
 fe/src/main/cup/sql_parser.cup                     |   4 +-
 .../org/apache/doris/analysis/ShowTabletStmt.java  | 177 ++++++++++++++++++++-
 .../apache/doris/common/proc/TabletsProcDir.java   |  30 +++-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  70 +++++++-
 6 files changed, 293 insertions(+), 18 deletions(-)

commit 0c2e344f45d9e41b0a3650e6a0890638011afa17
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Aug 27 22:20:06 2019 +0800

    Refactor DateLiteral class in FE (#1644)
    
    1. Add FE time zone function support
    2. Refactor DateLiteral class in FE
    ISSUE #1583

 .../org/apache/doris/analysis/DateLiteral.java     | 450 +++++++++++++++++++--
 .../apache/doris/analysis/FunctionCallExpr.java    |  18 +-
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../org/apache/doris/common/util/TimeUtils.java    |  17 +-
 .../java/org/apache/doris/qe/ConnectProcessor.java |   3 +
 .../java/org/apache/doris/qe/MasterOpExecutor.java |   1 +
 .../java/org/apache/doris/rewrite/FEFunctions.java | 426 ++-----------------
 .../org/apache/doris/catalog/PartitionKeyTest.java |  20 +-
 .../apache/doris/common/util/TimeUtilsTest.java    |   3 -
 .../org/apache/doris/rewrite/FEFunctionsTest.java  |  69 ++--
 gensrc/thrift/FrontendService.thrift               |   1 +
 12 files changed, 507 insertions(+), 505 deletions(-)

commit 7e981b2b14d08cacc6726c962249395c69f6d2e9
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 27 22:18:17 2019 +0800

    Limit the disk usage to avoid running out of disk capacity (#1702)
    
    Set high watermark and flood stage of disk used capacity.
    And forbid some operations if disk usage is too high.

 be/src/agent/status.h                              |   1 +
 be/src/agent/task_worker_pool.cpp                  |  20 +++-
 be/src/common/config.h                             |  10 +-
 be/src/olap/compaction.h                           |   1 +
 be/src/olap/data_dir.cpp                           |  40 ++++++-
 be/src/olap/data_dir.h                             |  36 ++++--
 be/src/olap/delta_writer.cpp                       |   5 +-
 be/src/olap/olap_define.h                          |   1 +
 be/src/olap/olap_server.cpp                        |   8 +-
 be/src/olap/rowset/column_data_writer.cpp          |   8 +-
 be/src/olap/rowset/segment_writer.cpp              |  18 ++-
 be/src/olap/schema_change.cpp                      |   1 -
 be/src/olap/storage_engine.cpp                     |  48 ++------
 be/src/olap/storage_engine.h                       |   6 +-
 be/src/olap/task/engine_batch_load_task.cpp        |   9 +-
 be/src/olap/task/engine_clone_task.cpp             |   6 +
 be/src/olap/task/engine_storage_migration_task.cpp |   8 ++
 be/src/runtime/fragment_mgr.cpp                    |   2 +-
 be/src/runtime/snapshot_loader.cpp                 |  15 +++
 be/src/runtime/tablet_writer_mgr.cpp               |  20 ++--
 .../administrator-guide/operation/disk-capacity.md | 122 +++++++++++++++++++++
 .../java/org/apache/doris/alter/SystemHandler.java |   2 +-
 .../apache/doris/analysis/ShowBackendsStmt.java    |   9 ++
 .../java/org/apache/doris/backup/RestoreJob.java   |   9 ++
 .../java/org/apache/doris/catalog/DiskInfo.java    |  23 ++++
 .../main/java/org/apache/doris/catalog/Tablet.java |  20 ++++
 .../apache/doris/clone/RootPathLoadStatistic.java  |   9 +-
 .../main/java/org/apache/doris/common/Config.java  |  19 +++-
 .../main/java/org/apache/doris/common/Status.java  |   7 +-
 .../java/org/apache/doris/master/MasterImpl.java   |  15 ++-
 .../org/apache/doris/planner/OlapTableSink.java    |  20 +++-
 .../main/java/org/apache/doris/system/Backend.java |  37 ++++++-
 .../org/apache/doris/system/SystemInfoService.java |  41 +++++++
 .../java/org/apache/doris/catalog/BackendTest.java |   6 +
 .../doris/load/loadv2/BrokerLoadJobTest.java       |   1 -
 .../apache/doris/planner/OlapTableSinkTest.java    |  11 +-
 36 files changed, 493 insertions(+), 121 deletions(-)

commit b6b860c8084c173d5642941044989b3ffef4876d
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 27 22:17:07 2019 +0800

    Make the max recursion depth of distribution pruner configurable (#1709)
    
    Add a new FE config 'max_distribution_pruner_recursion_depth'.

 .../org/apache/doris/analysis/InPredicate.java     |   9 +-
 .../main/java/org/apache/doris/common/Config.java  |  11 ++
 .../doris/planner/HashDistributionPruner.java      |  52 +++++---
 .../doris/planner/HashDistributionPrunerTest.java  | 147 +++++++++++++++++++++
 4 files changed, 198 insertions(+), 21 deletions(-)

commit c6dfe83b6d5f7163dc26bafd74423fff4b0c1832
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Tue Aug 27 16:16:28 2019 +0200

    Add particular log info for doris on es (#1711)

 be/src/exec/es/es_scroll_parser.cpp | 2 +-
 be/src/exec/es/es_scroll_query.cpp  | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit dc2d49fe07bd796ef848827647220b850ce32365
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 27 22:15:46 2019 +0800

    Make StringValue's memory layout same with Slice (#1712)
    
    In our storage engine's code, we cast StringValue to Slice. Because
    their memory layout is different, it may cause BE process crash.
    
    We make their memory layout same in this patch to resolve this problem
    temporary. We should improve it some day.

 be/src/exec/text_converter.cpp                    | 2 +-
 be/src/exec/text_converter.h                      | 2 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h | 1 +
 be/src/runtime/string_value.h                     | 5 ++++-
 4 files changed, 7 insertions(+), 3 deletions(-)

commit 34a6e06cb1d8842bc8087165719c6391f2120f59
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Aug 27 18:43:49 2019 +0800

    fix from string bug(#1710) (#1713)

 be/src/olap/wrapper_field.cpp              |  2 +-
 be/test/olap/comparison_predicate_test.cpp | 15 +++++++++++++++
 2 files changed, 16 insertions(+), 1 deletion(-)

commit ae22d5e682121fb9fd5fb08df5f9ecaad9d724d8
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Aug 27 17:57:42 2019 +0800

    Support multiple key ranges in RowwiseIterator and StorageReadOptions (#1704)
    
    support multiple key ranges in RowwiseIterator and StorageReadOptions
    remove unused fields and member functions in RowBlock and ColumnData
    read num_rows_per_block from short key index footer

 be/src/olap/iterators.h                            |  51 ++++++----
 be/src/olap/row_block.cpp                          |   1 -
 be/src/olap/row_block.h                            |   3 -
 be/src/olap/rowset/column_data.cpp                 |  21 +----
 be/src/olap/rowset/column_data.h                   |   1 -
 be/src/olap/rowset/segment_v2/segment.cpp          |  13 ++-
 be/src/olap/rowset/segment_v2/segment.h            |  14 +--
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 105 ++++++++++-----------
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  55 ++++++-----
 be/src/olap/schema.h                               |   7 +-
 be/src/olap/short_key_index.h                      |   2 +
 be/src/util/doris_metrics.h                        |   6 ++
 be/test/olap/rowset/segment_v2/segment_test.cpp    |  79 +++++-----------
 13 files changed, 167 insertions(+), 191 deletions(-)

commit c403343c0a0492e50e95ccd7169b92c700ba349d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 27 15:22:46 2019 +0800

    Add donating to ASF in README (#1708)

 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a1b92768dd46c79713b66e6caeb0ea63deb74379
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 27 14:13:47 2019 +0800

    Add a loaded rows in SHOW LOAD result  (#1686)
    
    Loaded rows will be updated periodically by query report. So that
    user can see that a load job is still running or being blocked.

 be/src/exec/decompressor.cpp                       |  6 +-
 be/src/exec/tablet_sink.cpp                        |  5 +-
 be/src/runtime/fragment_mgr.cpp                    | 83 ++++++++++++----------
 be/src/runtime/plan_fragment_executor.cpp          |  8 ---
 be/src/runtime/runtime_state.h                     |  4 ++
 .../load-data/broker-load-manual.md                | 10 +++
 .../org/apache/doris/common/proc/LoadProcDir.java  |  2 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  8 +++
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  1 +
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 42 +++++++++++
 .../org/apache/doris/load/loadv2/LoadManager.java  | 27 ++++---
 .../main/java/org/apache/doris/qe/Coordinator.java | 12 +++-
 .../java/org/apache/doris/qe/QeProcessorImpl.java  | 12 ++--
 gensrc/thrift/FrontendService.thrift               |  2 +
 14 files changed, 154 insertions(+), 68 deletions(-)

commit 58801c6ab089b4dfdca967b01d6f7bfb8567b2d2
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 27 11:30:00 2019 +0800

    Support converting RowBatch and RowBlockV2 to/from Arrow (#1699)

 be/src/exprs/slot_ref.cpp                         |  18 ++
 be/src/exprs/slot_ref.h                           |   3 +
 be/src/olap/rowset/segment_v2/page_builder.h      |   1 +
 be/{test/util => src/runtime}/descriptor_helper.h |   0
 be/src/runtime/descriptors.h                      |   1 +
 be/src/runtime/row_batch.h                        |   2 +-
 be/src/util/CMakeLists.txt                        |   3 +
 be/src/util/arrow/row_batch.cpp                   | 351 ++++++++++++++++++++++
 be/src/util/arrow/row_batch.h                     |  74 +++++
 be/src/util/arrow/row_block.cpp                   | 323 ++++++++++++++++++++
 be/src/util/arrow/row_block.h                     |  68 +++++
 be/src/util/arrow/utils.cpp                       |  49 +++
 be/src/util/arrow/utils.h                         |  49 +++
 be/src/util/slice.h                               |   2 -
 be/test/exec/tablet_info_test.cpp                 |   2 +-
 be/test/exec/tablet_sink_test.cpp                 |   2 +-
 be/test/olap/delta_writer_test.cpp                |   2 +-
 be/test/runtime/tablet_writer_mgr_test.cpp        |   2 +-
 be/test/util/CMakeLists.txt                       |   2 +
 be/test/util/arrow/arrow_row_batch_test.cpp       |  97 ++++++
 be/test/util/arrow/arrow_row_block_test.cpp       |  98 ++++++
 run-ut.sh                                         |   2 +
 22 files changed, 1144 insertions(+), 7 deletions(-)

commit 24afed7da8d0d4596c5d70a651fac9e957daa3de
Author: wangbo <506340561@qq.com>
Date:   Mon Aug 26 21:43:28 2019 +0800

    Optimize V2 BinaryPlainPage format (#1648) (#1694)

 be/src/olap/rowset/segment_v2/binary_plain_page.h | 96 +++++++----------------
 1 file changed, 30 insertions(+), 66 deletions(-)

commit 1e4dd77d2a747f195af60f8bc02208be666163eb
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Aug 26 14:24:42 2019 +0800

    Add bitmap agg type and udaf (#1610)

 be/src/codegen/doris_ir.cpp                        |   1 -
 be/src/common/daemon.cpp                           |  20 +-
 be/src/exec/olap_scanner.cpp                       |   8 +-
 be/src/exprs/CMakeLists.txt                        |   1 +
 be/src/exprs/bitmap_function.cpp                   |  90 +++++++
 be/src/exprs/bitmap_function.h                     |  42 ++++
 be/src/gutil/port.h                                |   8 -
 be/src/olap/aggregate_func.cpp                     |   7 +-
 be/src/olap/aggregate_func.h                       | 208 ++++++++++++-----
 be/src/olap/field.h                                | 259 +++++++++++++++------
 be/src/olap/memtable.cpp                           |  92 ++------
 be/src/olap/merger.cpp                             |   7 +-
 be/src/olap/olap_common.h                          |   3 +-
 be/src/olap/reader.cpp                             |  16 +-
 be/src/olap/reader.h                               |  12 +-
 be/src/olap/row.h                                  |   8 +-
 be/src/olap/row_cursor.cpp                         |  41 +---
 be/src/olap/row_cursor.h                           |   3 +-
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  |   2 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |   6 +-
 be/src/olap/schema.cpp                             |  42 ++--
 be/src/olap/schema.h                               |  75 ++++--
 be/src/olap/schema_change.cpp                      |   7 +-
 be/src/olap/tablet_schema.cpp                      |  12 +
 be/src/olap/tablet_schema.h                        |   1 +
 be/src/olap/task/engine_checksum_task.cpp          |   6 +-
 be/src/olap/wrapper_field.cpp                      |  12 +-
 be/src/util/bitmap.h                               | 137 ++++++++++-
 be/test/exprs/CMakeLists.txt                       |   1 +
 be/test/exprs/bitmap_function_test.cpp             | 123 ++++++++++
 be/test/olap/aggregate_func_test.cpp               |  26 +--
 be/test/olap/generic_iterators_test.cpp            |   4 +-
 be/test/olap/row_cursor_test.cpp                   |   8 +-
 .../sql-functions/aggregate-functions/bitmap.md    |  69 ++++++
 .../sql-statements/Data Definition/CREATE TABLE.md |  22 +-
 .../Data Manipulation/STREAM LOAD.md               |   3 +
 fe/src/main/cup/sql_parser.cup                     |  10 +-
 .../apache/doris/alter/SchemaChangeHandler.java    |   6 +
 .../apache/doris/analysis/AggregateInfoBase.java   |   2 +
 .../doris/analysis/BuiltinAggregateFunction.java   |   1 +
 .../org/apache/doris/analysis/CreateTableStmt.java |  15 ++
 .../apache/doris/analysis/FunctionCallExpr.java    |  30 ++-
 .../org/apache/doris/catalog/AggregateType.java    |   9 +-
 .../java/org/apache/doris/catalog/FunctionSet.java |  35 +++
 .../main/java/org/apache/doris/catalog/Type.java   |   5 +
 .../apache/doris/planner/SingleNodePlanner.java    |  13 ++
 fe/src/main/jflex/sql_scanner.flex                 |   3 +-
 gensrc/script/doris_builtins_functions.py          |   8 +
 gensrc/thrift/PlanNodes.thrift                     |   1 +
 gensrc/thrift/Types.thrift                         |   3 +-
 run-ut.sh                                          |   1 +
 51 files changed, 1158 insertions(+), 366 deletions(-)

commit da8b9aad9a9a51bf877aaf361966a63a2a1f1fb9
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Mon Aug 26 14:19:03 2019 +0800

    Remove preaggregation and index stream cache stuff out of RowsetReaderContext (#1698)

 be/src/olap/reader.cpp                     | 70 +++++++++++++++++-------------
 be/src/olap/reader.h                       |  3 +-
 be/src/olap/rowset/alpha_rowset_reader.cpp | 47 ++++++--------------
 be/src/olap/rowset/alpha_rowset_reader.h   | 23 +++++-----
 be/src/olap/rowset/column_data.cpp         |  4 +-
 be/src/olap/rowset/column_data.h           |  4 --
 be/src/olap/rowset/rowset_reader_context.h | 53 ++++++++--------------
 be/src/olap/schema_change.cpp              | 12 ++---
 be/test/olap/rowset/alpha_rowset_test.cpp  |  4 +-
 9 files changed, 90 insertions(+), 130 deletions(-)

commit 6d040a33afa292e2c2e75239d77f82b77fcc3cfa
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Sat Aug 24 00:57:30 2019 +0800

    Add zone map page(#1390) (#1633)

 be/src/olap/CMakeLists.txt                         |   1 +
 be/src/olap/field.h                                |  15 +-
 be/src/olap/iterators.h                            |   9 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  15 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    |  68 ++++-
 be/src/olap/rowset/segment_v2/column_reader.h      |  19 +-
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  41 ++-
 be/src/olap/rowset/segment_v2/column_writer.h      |   8 +-
 be/src/olap/rowset/segment_v2/column_zone_map.cpp  | 107 +++++++
 be/src/olap/rowset/segment_v2/column_zone_map.h    | 100 +++++++
 .../olap/rowset/segment_v2/ordinal_page_index.cpp  |   5 +-
 be/src/olap/rowset/segment_v2/ordinal_page_index.h |  33 ++-
 be/src/olap/rowset/segment_v2/row_ranges.h         | 284 ++++++++++++++++++
 be/src/olap/rowset/segment_v2/segment.cpp          |   2 +-
 be/src/olap/rowset/segment_v2/segment_iterator.cpp |  96 ++++++-
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  10 +
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |  12 +
 be/src/olap/rowset/segment_v2/segment_writer.h     |   1 +
 be/src/olap/stream_index_common.cpp                |   9 +-
 be/src/olap/types.cpp                              |   2 +-
 be/src/olap/types.h                                |  12 +-
 be/src/olap/wrapper_field.cpp                      |  14 +-
 be/src/olap/wrapper_field.h                        |  16 ++
 be/src/util/doris_metrics.cpp                      |  18 ++
 be/src/util/doris_metrics.h                        |   5 +
 be/test/olap/CMakeLists.txt                        |   2 +
 .../segment_v2/column_reader_writer_test.cpp       |  11 +-
 .../rowset/segment_v2/column_zone_map_test.cpp     | 125 ++++++++
 .../rowset/segment_v2/ordinal_page_index_test.cpp  |   8 +-
 be/test/olap/rowset/segment_v2/row_ranges_test.cpp | 113 ++++++++
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 111 +++++++-
 gensrc/proto/segment_v2.proto                      | 317 +++++++++++----------
 run-ut.sh                                          |   2 +
 33 files changed, 1365 insertions(+), 226 deletions(-)

commit b28f4242c3a7fe13e9c4d4212c210dde2b41af15
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sat Aug 24 00:56:40 2019 +0800

    Add config max_concurrent_task_num_per_be (#1693)
    
    This config is used to control the max concurrent task num per be.
    The cluster max concurrent task num = max_concurrent_task_num_per_be * number of be.

 .../cn/administrator-guide/load-data/routine-load-manual.md        | 6 ++++++
 fe/src/main/java/org/apache/doris/common/Config.java               | 7 +++++++
 .../java/org/apache/doris/load/routineload/RoutineLoadManager.java | 7 +++----
 .../org/apache/doris/load/routineload/RoutineLoadManagerTest.java  | 4 +++-
 4 files changed, 19 insertions(+), 5 deletions(-)

commit 4449316d856092fa1df41b55a8f687d35ccf90a7
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Aug 23 11:13:01 2019 +0800

    Add error msg when memory limit exceeded (#1685)

 be/src/exec/cross_join_node.cpp |  3 ++-
 be/src/exec/exec_node.h         | 11 ++++++++---
 be/src/exec/hash_join_node.cpp  |  3 ++-
 be/src/exec/sort_node.cpp       |  3 ++-
 be/src/runtime/mem_tracker.h    | 11 +++++++++++
 5 files changed, 25 insertions(+), 6 deletions(-)

commit c73b3f15a4ddc0c7cb3f2a95e5513e9680d7383b
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Aug 22 21:31:56 2019 +0800

    Update tablet-repair-and-balance doc (#1692)

 .../administrator-guide/operation/tablet-repair-and-balance.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 00f8040bf37ef42cf362cd17737497fdfea08dc7
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Aug 22 19:38:16 2019 +0800

    Fix bug that 2 same stream load jobs may both be able to executed successfully (#1690)
    
    This will cause 2 jobs trying to write same file, and cause file damaged.

 be/src/http/action/mini_load.cpp                      |  1 +
 be/src/runtime/stream_load/stream_load_executor.cpp   |  1 +
 .../org/apache/doris/load/loadv2/BrokerLoadJob.java   |  2 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java    |  7 +++++++
 .../org/apache/doris/load/loadv2/LoadManager.java     | 19 ++++++++++---------
 .../org/apache/doris/load/loadv2/MiniLoadJob.java     |  3 ++-
 .../doris/load/routineload/RoutineLoadTaskInfo.java   |  2 +-
 .../org/apache/doris/service/FrontendServiceImpl.java |  3 +--
 .../doris/transaction/GlobalTransactionMgr.java       | 18 ++++++++++--------
 .../apache/doris/transaction/TransactionState.java    | 18 +++++++++---------
 .../org/apache/doris/load/loadv2/LoadJobTest.java     |  5 +++--
 .../doris/transaction/GlobalTransactionMgrTest.java   |  9 ++++++---
 gensrc/thrift/FrontendService.thrift                  |  6 ++++--
 13 files changed, 56 insertions(+), 38 deletions(-)

commit 2b2bc82ae244db68d4d5a52e318ab759c51de07d
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Aug 21 21:18:53 2019 +0800

    Add timeout on snapshot of data (#1672)
    
    Release snapshot when finishing or cancelling backup/restore job.
    Snapshot may takes a lot disk space if not releasing them in time.

 be/src/agent/task_worker_pool.cpp                  |  2 +-
 be/src/common/config.h                             |  4 ++--
 be/src/olap/snapshot_manager.cpp                   | 14 ++++++++---
 be/src/olap/snapshot_manager.h                     |  1 +
 be/src/olap/storage_engine.cpp                     | 18 +++++++++++----
 be/src/olap/storage_engine.h                       |  2 +-
 be/src/olap/task/engine_clone_task.cpp             |  4 ++++
 .../java/org/apache/doris/backup/BackupJob.java    | 27 ++++++++++++++++++++--
 .../java/org/apache/doris/backup/RestoreJob.java   | 24 +++++++++++++++++++
 .../java/org/apache/doris/backup/SnapshotInfo.java |  2 +-
 .../org/apache/doris/clone/TabletSchedCtx.java     |  6 ++---
 .../main/java/org/apache/doris/task/CloneTask.java |  6 ++++-
 .../org/apache/doris/task/ExportPendingTask.java   |  1 +
 .../java/org/apache/doris/task/SnapshotTask.java   | 11 +++++----
 .../java/org/apache/doris/task/AgentTaskTest.java  |  2 +-
 gensrc/thrift/AgentService.thrift                  |  1 +
 16 files changed, 101 insertions(+), 24 deletions(-)

commit 0792e06eed9e258af4c1ff53c9c3cd562d86d18d
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Aug 21 20:30:55 2019 +0800

    Fix NPE of insert load job persist operation (#1683)
    
    tracking url may be null

 fe/src/main/java/org/apache/doris/load/EtlStatus.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9f50f84b68ea189d10a1275dee8638e0dfe1e8c7
Author: worker24h <xxbzj249@163.com>
Date:   Wed Aug 21 02:33:26 2019 -0500

    Fix bug: "SHOW DATA" or "SHOW PARTITIONS", the DATA-SIZE less than 0 (#1680)

 fe/src/main/java/org/apache/doris/catalog/Replica.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 978b1ee1af3ee030c22f7cd71b7a4502dfc29c64
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Aug 20 21:56:45 2019 +0800

    Add strict mode in Routine load, Stream load and Mini load (#1677)

 be/src/http/action/mini_load.cpp                   | 12 +++++++
 be/src/http/action/stream_load.cpp                 |  9 +++++
 be/src/http/http_common.h                          |  1 +
 .../load-data/routine-load-manual.md               | 38 +++++++++++++++++++++
 .../load-data/stream-load-manual.md                | 39 ++++++++++++++++++++++
 .../sql-statements/Data Manipulation/MINI LOAD.md  |  6 ++++
 .../Data Manipulation/ROUTINE LOAD.md              | 14 +++++---
 .../Data Manipulation/STREAM LOAD.md               |  6 ++++
 .../doris/analysis/CreateRoutineLoadStmt.java      | 10 ++++++
 .../org/apache/doris/analysis/DataDescription.java |  7 ++--
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../java/org/apache/doris/common/util/Util.java    | 14 ++++++++
 .../doris/load/routineload/RoutineLoadJob.java     | 31 +++++++++++++++++
 .../org/apache/doris/planner/BrokerScanNode.java   |  2 +-
 .../apache/doris/planner/StreamLoadScanNode.java   |  3 +-
 .../java/org/apache/doris/task/StreamLoadTask.java |  9 +++++
 gensrc/thrift/FrontendService.thrift               |  1 +
 18 files changed, 197 insertions(+), 9 deletions(-)

commit 0a27ef030bca71897baaee11c3cea9905e44233d
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 20 19:30:57 2019 +0800

    Reduce the number of partition info in BrokerScanNode param (#1675)
    
    And we should reduce the number of partition info in BrokerScanNode param if user already
    set target partitions to load, instead of adding all partitions' info.
    It will cause the size of RPC packet too large.

 be/src/exec/broker_scan_node.cpp                   | 20 --------------
 .../org/apache/doris/planner/BrokerScanNode.java   | 31 ----------------------
 .../org/apache/doris/planner/DataSplitSink.java    |  4 +--
 3 files changed, 2 insertions(+), 53 deletions(-)

commit 176e185e18b024f8c01376558a8556a13539d52e
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 20 17:18:54 2019 +0800

    Add broker doc (#1662)
    
    This broker document introduces the properties for different broker types.

 .../cn/administrator-guide/alter-table/index.rst   |   9 +
 .../cn/administrator-guide/backup-restore.md       |   2 +-
 .../documentation/cn/administrator-guide/broker.md | 244 +++++++++++++++++++++
 .../{export_manual.md => export-manual.md}         |   4 +
 .../documentation/cn/administrator-guide/index.rst |   1 +
 .../load-data/broker-load-manual.md                |   4 +
 docs/documentation/cn/community/members.md         |  31 ++-
 .../date-time-functions/convert_tz.md              |   6 +-
 .../date-time-functions/current_timestamp.md       |   7 +-
 .../sql-functions/date-time-functions/curtime.md   |   4 +
 .../sql-functions/date-time-functions/date_add.md  |   7 +-
 .../date-time-functions/date_format.md             |   6 +-
 .../sql-functions/date-time-functions/date_sub.md  |   5 +-
 .../sql-functions/date-time-functions/dayname.md   |   4 +-
 .../date-time-functions/dayofmonth.md              |   5 +-
 .../sql-functions/date-time-functions/dayofweek.md |   5 +-
 .../sql-functions/date-time-functions/dayofyear.md |   5 +-
 .../sql-functions/date-time-functions/from_days.md |   5 +-
 .../date-time-functions/from_unixtime.md           |   1 +
 .../sql-functions/date-time-functions/month.md     |   5 +-
 .../sql-functions/date-time-functions/monthname.md |   5 +-
 .../sql-functions/date-time-functions/now.md       |   5 +-
 .../date-time-functions/str_to_date.md             |   5 +-
 .../sql-functions/date-time-functions/timediff.md  |   4 +-
 .../sql-functions/date-time-functions/to_days.md   |   5 +-
 .../date-time-functions/unix_timestamp.md          |   5 +-
 .../date-time-functions/utc_timestamp.md           |   5 +-
 .../date-time-functions/workofyear.md              |   5 +-
 .../sql-functions/date-time-functions/year.md      |   5 +-
 29 files changed, 368 insertions(+), 36 deletions(-)

commit 8e6814cfcd5fc6bca9bbe52d42c349a5df5b5715
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 20 15:43:03 2019 +0800

    Support setting timeout for stream load (#1670)

 be/src/http/action/mini_load.cpp                                  | 6 +++++-
 be/src/http/action/stream_load.cpp                                | 8 ++++++++
 .../cn/administrator-guide/load-data/stream-load-manual.md        | 4 +++-
 .../sql-reference/sql-statements/Data Manipulation/MINI LOAD.md   | 2 +-
 .../sql-reference/sql-statements/Data Manipulation/STREAM LOAD.md | 6 ++++--
 fe/src/main/java/org/apache/doris/common/Config.java              | 2 +-
 6 files changed, 22 insertions(+), 6 deletions(-)

commit 3b80ea3438509d8f4055c378b3d0548be70108cf
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Aug 20 12:34:33 2019 +0800

    Change WriteLock to ReadLock when report tablet status (#1673)

 be/src/olap/tablet_manager.cpp | 15 ++++++++++-----
 be/src/olap/tablet_manager.h   |  2 ++
 2 files changed, 12 insertions(+), 5 deletions(-)

commit ccaf39c48fd326c8e7480b17ed384bcfa1732b5c
Author: Ethan <cquptethan@gmail.com>
Date:   Tue Aug 20 12:16:55 2019 +0800

    Fix spelling mistake (#1676)

 docs/documentation/cn/getting-started/best-practice.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 851b2ca3bd0b3f89ef5caaa634e455aa2e3d145a
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Aug 20 10:50:07 2019 +0800

    Remove unused code in StorageEngine (#1671)

 be/src/olap/storage_engine.cpp | 11 -----------
 be/src/olap/storage_engine.h   |  2 --
 2 files changed, 13 deletions(-)

commit 731f78acccba671a74dd1fc6d6dd7ad56240428c
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Aug 19 15:45:21 2019 +0800

    Don't persisted the data source info in broker load (#1665)

 .../java/org/apache/doris/load/PullLoadSourceInfo.java     | 14 +++++---------
 .../java/org/apache/doris/load/loadv2/BrokerLoadJob.java   |  2 ++
 2 files changed, 7 insertions(+), 9 deletions(-)

commit cd2b8373c28fe342a62cb2a7fa15a5637ade61e5
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Aug 19 12:23:43 2019 +0800

    Fix Stream load double NumberTotalRows (#1664)

 be/src/exec/base_scanner.h       |  4 ---
 be/src/exec/broker_scan_node.cpp |  1 -
 be/src/exec/broker_scanner.cpp   | 59 ----------------------------------------
 be/src/exec/broker_scanner.h     |  6 ----
 be/src/exec/parquet_scanner.cpp  |  1 -
 be/src/exec/tablet_sink.cpp      |  4 ++-
 6 files changed, 3 insertions(+), 72 deletions(-)

commit acf868c9d0dcb5d629798306d731b76071a5a954
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Aug 19 09:40:47 2019 +0800

    Support page compression and checksum in BetaRowset (#1646)

 be/src/olap/CMakeLists.txt                         |   1 +
 be/src/olap/rowset/segment_v2/column_reader.cpp    |  57 +++++---
 be/src/olap/rowset/segment_v2/column_reader.h      |   6 +-
 be/src/olap/rowset/segment_v2/column_writer.cpp    |  33 +++--
 be/src/olap/rowset/segment_v2/column_writer.h      |  11 +-
 be/src/olap/rowset/segment_v2/page_compression.cpp |  92 +++++++++++++
 be/src/olap/rowset/segment_v2/page_compression.h   |  97 ++++++++++++++
 be/src/olap/rowset/segment_v2/segment.cpp          |  14 +-
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |   6 +-
 be/src/util/block_compression.cpp                  |  20 +--
 be/src/util/block_compression.h                    |   2 +-
 be/src/util/hash_util.hpp                          |   8 ++
 be/src/util/slice.h                                |   8 ++
 be/test/olap/CMakeLists.txt                        |   1 +
 .../segment_v2/column_reader_writer_test.cpp       |   1 +
 .../rowset/segment_v2/page_compression_test.cpp    | 143 +++++++++++++++++++++
 be/test/util/block_compression_test.cpp            |   6 +-
 gensrc/proto/segment_v2.proto                      |   4 +-
 run-ut.sh                                          |   1 +
 19 files changed, 444 insertions(+), 67 deletions(-)

commit ba6d728f26a3afc36d38c73d7be31e3cfeb0db43
Author: yuanli <44718283+yuanlihan@users.noreply.github.com>
Date:   Mon Aug 19 09:39:21 2019 +0800

    Enable parsing columns from file path for Broker Load (#1582) (#1635)
    
    Currently, we do not support parsing encoded/compressed columns in file path, eg: extract column k1 from file path /path/to/dir/k1=1/xxx.csv
    
    This patch is able to parse columns from file path like in Spark(Partition Discovery).
    
    This patch parse partition columns at BrokerScanNode.java and save parsing result of each file path as a property of TBrokerRangeDesc, then the broker reader of BE can read the value of specified partition column.

 be/src/exec/base_scanner.cpp                       |  14 +++
 be/src/exec/base_scanner.h                         |   2 +
 be/src/exec/broker_scanner.cpp                     |  19 ++--
 be/src/exec/broker_scanner.h                       |   4 +-
 be/src/exec/parquet_reader.cpp                     |  43 ++++++--
 be/src/exec/parquet_reader.h                       |   3 +-
 be/src/exec/parquet_scanner.cpp                    |   5 +-
 be/test/exec/broker_scan_node_test.cpp             |  77 ++++++++++++--
 be/test/exec/parquet_scanner_test.cpp              |  12 ++-
 .../sql-statements/Data Manipulation/LOAD.md       |  23 +++++
 fe/src/main/cup/sql_parser.cup                     |  20 +++-
 .../org/apache/doris/analysis/DataDescription.java |  62 ++++++++---
 .../org/apache/doris/common/util/BrokerUtil.java   |  40 ++++++++
 .../org/apache/doris/load/BrokerFileGroup.java     |  18 ++++
 fe/src/main/java/org/apache/doris/load/Load.java   |  12 ++-
 .../org/apache/doris/planner/BrokerScanNode.java   |  41 +++++---
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 .../apache/doris/common/util/BrokerUtilTest.java   | 114 +++++++++++++++++++++
 gensrc/thrift/PlanNodes.thrift                     |   4 +
 19 files changed, 446 insertions(+), 68 deletions(-)

commit 6d7365820709b631e6d3a009313c14615eddab4a
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Aug 16 21:40:29 2019 +0800

    Support checking error data row when doing INSERT (#1597)
    
    If strict mode is true, and at least one row is filtered, the insert operation will fail and a url will be given to get the error rows.
    
    ```
    ERROR 1064 (HY000): all partitions have no load data. url: http://host:ip/api/_load_error_log?file=__shard_2/error_log_insert_stmt_e0a620e93dc54461-b89ec64768367d25_e0a620e93dc54461_b89ec64768367d25
    ```
    
     If all rows are good, insert will return OK with affected rows:
    
    ```
    Query OK, 1 row affected (0.26 sec)
    ```
    
    If strict mode is false, and at least one row is good, the insert operation will return OK with affected rows and warnings. If has error row num, a label will be returned:
    
    ```
    Query OK, 1 row affected, 1 warning (0.32 sec)
    {'label':'7d66c457-658b-4a3e-bdcf-8beee872ef2c'}
    ```

 be/src/exec/tablet_sink.cpp                        |  1 +
 .../load-data/insert-into-manual.md                | 43 +++++++++++++--
 .../apache/doris/load/loadv2/InsertLoadJob.java    |  5 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  |  4 +-
 .../org/apache/doris/mysql/MysqlErrPacket.java     |  7 ++-
 .../java/org/apache/doris/mysql/MysqlOkPacket.java | 10 ++--
 .../main/java/org/apache/doris/qe/QueryState.java  | 18 +++++--
 .../java/org/apache/doris/qe/StmtExecutor.java     | 63 ++++++++++++++--------
 .../doris/transaction/GlobalTransactionMgr.java    |  3 +-
 .../doris/load/loadv2/InsertLoadJobTest.java       |  2 +-
 .../apache/doris/load/loadv2/LoadManagerTest.java  |  4 +-
 .../org/apache/doris/mysql/MysqlErrPacketTest.java |  2 +-
 12 files changed, 118 insertions(+), 44 deletions(-)

commit 82d0afc1ba1a98bfc721d9971f608fba991f2ec1
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Aug 16 18:29:57 2019 +0800

    FROM_UNIXTIME should only convert timestamp from 0 to 253402271999 (#1658)
    
    which is between 1970-01-01 00:00:00 ~ 9999-12-31 23:59:59, otherwise, return null

 be/src/runtime/datetime_value.cpp                             |  4 ++++
 be/src/util/tdigest.h                                         |  2 +-
 be/test/exprs/percentile_approx_test.cpp                      |  2 +-
 .../sql-functions/date-time-functions/from_unixtime.md        |  8 +++++++-
 fe/src/main/java/org/apache/doris/rewrite/FEFunctions.java    | 11 +++++++----
 5 files changed, 20 insertions(+), 7 deletions(-)

commit 57a1a718c7ff5487221f005507fb020a172a2ef3
Author: yiguolei <yiguolei@baidu.com>
Date:   Fri Aug 16 17:48:23 2019 +0800

    print logs when parse scroll result failed (#1661)

 be/src/exec/es/es_scroll_parser.cpp | 2 ++
 1 file changed, 2 insertions(+)

commit 0e6560ceca46e330a257f77230875e953efc4598
Author: manannan2017 <33174388+manannan2017@users.noreply.github.com>
Date:   Fri Aug 16 14:52:32 2019 +0800

    Fix document typo (#1657)

 docs/documentation/cn/getting-started/basic-usage.md          |  2 +-
 docs/documentation/cn/getting-started/data-model-rollup.md    |  8 ++++----
 docs/documentation/cn/getting-started/data-partition.md       |  2 +-
 .../sql-functions/date-time-functions/dayofweek.md            | 11 ++++++++++-
 .../sql-functions/spatial-functions/st_circle.md              |  2 +-
 .../sql-reference/sql-functions/spatial-functions/st_point.md |  2 +-
 .../sql-statements/Administration/CREATE FILE.md              |  2 +-
 .../sql-statements/Data Definition/CREATE TABLE.md            |  6 +++---
 .../sql-statements/Data Manipulation/MINI LOAD.md             |  2 +-
 .../cn/sql-reference/sql-statements/Data Types/LARGEINT.md    |  2 +-
 10 files changed, 24 insertions(+), 15 deletions(-)

commit 1ed25ad83da70ebb25401411f535d7539c0f36b3
Author: wkhappy1 <54095696+wkhappy1@users.noreply.github.com>
Date:   Fri Aug 16 13:30:26 2019 +0800

    Add kafka_default_offsets  when no partiotion specify
    
    Support read kafka partition from start (#1642)

 .../Data Manipulation/ROUTINE LOAD.md              | 13 ++++++++++---
 .../doris/analysis/CreateRoutineLoadStmt.java      |  5 ++++-
 .../load/routineload/KafkaRoutineLoadJob.java      | 22 +++++++++++++++++++---
 3 files changed, 33 insertions(+), 7 deletions(-)

commit b85bd334de5fc321d981859185a615ebf3932144
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Aug 16 11:26:41 2019 +0800

    Remove tempory fail UT (#1659)

 .../org/apache/doris/qe/ConnectSchedulerTest.java     | 19 -------------------
 1 file changed, 19 deletions(-)

commit 4f27129368afd7122d467b66d4afc7fccec9a857
Author: DDDDDDouble <1475145313@qq.com>
Date:   Fri Aug 16 09:56:20 2019 +0800

    Fix get label when use StreamLoad (#1655)

 fe/src/main/java/org/apache/doris/http/rest/LoadAction.java | 2 ++
 1 file changed, 2 insertions(+)

commit b94892082be88246e1b6706a9df8c12ba1e05ca5
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu Aug 15 18:20:09 2019 +0800

    Use same dir during schema change (#1653)

 be/src/olap/tablet_manager.cpp | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit a551abba582d3c3ecc25d08741d631b6feaeee50
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Aug 15 12:45:53 2019 +0800

    Modify timediff documents (#1600)

 .../sql-reference/sql-functions/date-time-functions/timediff.md  | 9 ---------
 1 file changed, 9 deletions(-)

commit 38c82c039f19b014cd89292e51278255c9e9c605
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Aug 14 22:54:27 2019 +0800

    Prepare _input_row_num and _input_rowsets_size before compaction (#1643)

 be/src/olap/base_compaction.cpp       | 2 +-
 be/src/olap/compaction.cpp            | 6 +++++-
 be/src/olap/cumulative_compaction.cpp | 8 ++------
 be/src/olap/tablet.h                  | 2 +-
 4 files changed, 9 insertions(+), 9 deletions(-)

commit 4cc2285094a61e3d37830a3edf99fb08e6c01a29
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Aug 14 19:58:48 2019 +0800

    Make http server and thrift server backlog num configurable (#1638)

 fe/src/main/java/org/apache/doris/common/Config.java      | 15 +++++++++++++++
 .../main/java/org/apache/doris/common/ThriftServer.java   | 12 +++++++++---
 fe/src/main/java/org/apache/doris/http/HttpServer.java    |  4 ++--
 3 files changed, 26 insertions(+), 5 deletions(-)

commit 85e89b79d5ca57feda051432fc697a183be37465
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Aug 14 19:58:09 2019 +0800

    Print src tuple in error_sample file (#1641)
    
    The src tuple could not be print in error_sample file when the value is filtered by strict mode.
    This commit fix this issue.

 be/src/exec/base_scanner.cpp | 9 +++++----
 be/src/runtime/raw_value.cpp | 4 +++-
 2 files changed, 8 insertions(+), 5 deletions(-)

commit cc7a2a3eb873c2fb0092afd3f393cc1f546d6619
Author: yiguolei <yiguolei@baidu.com>
Date:   Wed Aug 14 18:24:52 2019 +0800

    Check all tablet using partition tablet map during publish version (#1619)

 be/src/olap/CMakeLists.txt                       |   1 +
 be/src/olap/storage_engine.h                     |   4 +
 be/src/olap/tablet.cpp                           |  42 ++----
 be/src/olap/tablet.h                             |  10 +-
 be/src/olap/tablet_manager.cpp                   |  12 +-
 be/src/olap/tablet_manager.h                     |   2 +
 be/src/olap/tablet_meta_manager.cpp              |   6 +
 be/src/olap/tablet_sync_service.cpp              | 155 +++++++++++++++++++
 be/src/olap/tablet_sync_service.h                | 156 +++++++++++++++++++
 be/src/olap/task/engine_publish_version_task.cpp |  42 ++++++
 be/src/util/batch_process_thread_pool.hpp        | 183 +++++++++++++++++++++++
 be/src/util/blocking_priority_queue.hpp          |  34 +++++
 gensrc/thrift/AgentService.thrift                |   7 +
 13 files changed, 618 insertions(+), 36 deletions(-)

commit 03b99ddd37297d459570f53c6066800f0da24824
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Aug 14 09:49:44 2019 +0800

    Fix bug that bad replica can not be synchronized when report (#1634)
    
    When the replica is recovered from bad on BE, the report process
    should change the bad status of replica on FE to false, or the replica
    can not be recovered.

 fe/src/main/java/org/apache/doris/catalog/Catalog.java         |  1 +
 .../java/org/apache/doris/catalog/TabletInvertedIndex.java     | 10 ++++++++--
 fe/src/main/java/org/apache/doris/master/ReportHandler.java    |  6 ++++--
 3 files changed, 13 insertions(+), 4 deletions(-)

commit 199ff968dc11a3dba5e77fb3c1159cc7b7612878
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Aug 13 18:44:35 2019 +0800

    Fix time zone compatibility (#1631)

 be/src/exprs/timestamp_functions.cpp               |  8 ++++----
 be/src/runtime/runtime_state.cpp                   | 22 ++++++++++++++++++++--
 be/src/runtime/runtime_state.h                     |  8 ++++----
 be/test/exprs/timestamp_functions_test.cpp         |  3 ++-
 .../load-data/broker-load-manual.md                |  2 +-
 .../sql-functions/date-time-functions/curtime.md   |  2 +-
 .../main/java/org/apache/doris/qe/Coordinator.java | 10 ++++++++--
 gensrc/thrift/PaloInternalService.thrift           | 10 +++++++++-
 8 files changed, 49 insertions(+), 16 deletions(-)

commit dcb75729db8ab14a054c2a4a827ca4edfce2b156
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Aug 13 18:25:56 2019 +0800

    Change cumulative compaction for decoupling storage from compution (#1576)
    
    1. Calculate cumulative point when loading tablet first time.
    2. Simplify pick rowsets logic upon delete predicate.
    3. Saving meta and modify rowsets only once after cumulative compaction.

 be/src/olap/CMakeLists.txt              |   1 +
 be/src/olap/base_compaction.cpp         | 547 ++++--------------------------
 be/src/olap/base_compaction.h           | 166 +--------
 be/src/olap/compaction.cpp              | 185 +++++++++++
 be/src/olap/compaction.h                |  91 +++++
 be/src/olap/cumulative_compaction.cpp   | 573 ++++----------------------------
 be/src/olap/cumulative_compaction.h     | 144 +-------
 be/src/olap/merger.cpp                  |  36 +-
 be/src/olap/merger.h                    |  21 +-
 be/src/olap/olap_define.h               |   1 +
 be/src/olap/olap_snapshot_converter.cpp |   4 +-
 be/src/olap/rowset/rowset.h             |   4 +
 be/src/olap/schema_change.cpp           |   8 +-
 be/src/olap/storage_engine.cpp          |  40 +--
 be/src/olap/tablet.cpp                  |  64 ++++
 be/src/olap/tablet.h                    |  16 +-
 be/src/olap/tablet_manager.cpp          |  11 +-
 be/src/olap/task/engine_clone_task.cpp  |   2 +-
 be/src/olap/utils.h                     |  43 ++-
 19 files changed, 609 insertions(+), 1348 deletions(-)

commit 582c313190d9cbbd403c1c6a3b51c68158569ea5
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 13 14:38:21 2019 +0800

    Fix HLLContext cast error (#1632)

 be/src/olap/aggregate_func.h | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 780a2551120cce2db58e269182a0c50b729f692f
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Aug 13 11:30:32 2019 +0800

    Change the prefix of table info apis (#1625)
    
    The pathtrie could not distinguish the different param key with the same prefix path.
    So the prefix of table info apis has been change to /api/external which is used by spark-doris-connector.

 .../apache/doris/http/rest/CancelStreamLoad.java   |  3 --
 .../apache/doris/http/rest/GetLoadInfoAction.java  |  5 +--
 .../apache/doris/http/rest/GetStreamLoadState.java |  3 --
 .../org/apache/doris/http/rest/LoadAction.java     | 16 +++-----
 .../org/apache/doris/http/rest/MultiAbort.java     |  5 +--
 .../org/apache/doris/http/rest/MultiCommit.java    |  5 +--
 .../java/org/apache/doris/http/rest/MultiDesc.java |  5 +--
 .../java/org/apache/doris/http/rest/MultiList.java |  3 +-
 .../org/apache/doris/http/rest/MultiStart.java     |  5 +--
 .../org/apache/doris/http/rest/MultiUnload.java    |  6 +--
 .../org/apache/doris/http/rest/RestBaseAction.java |  3 ++
 .../org/apache/doris/http/rest/RowCountAction.java |  6 +--
 .../doris/http/rest/StorageTypeCheckAction.java    |  2 +-
 .../doris/http/rest/TableQueryPlanAction.java      | 48 +++++++++++++---------
 .../doris/http/rest/TableRowCountAction.java       | 27 ++++++------
 .../apache/doris/http/rest/TableSchemaAction.java  | 23 ++++++-----
 .../org/apache/doris/common/path/PathTrieTest.java | 26 ++++++++++++
 .../org/apache/doris/http/DorisHttpTestCase.java   | 17 ++++----
 .../doris/http/TableQueryPlanActionTest.java       | 10 +++--
 19 files changed, 117 insertions(+), 101 deletions(-)

commit 032d0b41bb6f69334a7c60242ed5c29de3308327
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 13 10:00:18 2019 +0800

    Fix compile error (#1630)

 be/src/runtime/memory_scratch_sink.cpp       | 13 +++++++++----
 be/src/runtime/memory_scratch_sink.h         |  2 +-
 be/test/runtime/memory_scratch_sink_test.cpp |  4 ++--
 3 files changed, 12 insertions(+), 7 deletions(-)

commit c8352a9e4d25e111caed81a9c921c9bb437439fb
Author: wangbo <506340561@qq.com>
Date:   Tue Aug 13 09:56:26 2019 +0800

    Insert select Stmt keep the same semantics with mysql (#1626) (#1628)

 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 1e2a4c3b9bc8919203efd1e01f8b8088dd243d20
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Tue Aug 13 09:34:24 2019 +0800

    Fix tablet restore api in BE(#1623) (#1624)

 be/src/http/action/restore_tablet_action.cpp       |  64 ++++++-------
 be/src/http/action/restore_tablet_action.h         |   2 +
 .../operation/tablet-restore-tool.md               |  64 +++++++++++++
 tools/restore_tablet_tool.sh                       | 101 +++++++++++++++++++++
 4 files changed, 197 insertions(+), 34 deletions(-)

commit 69af50aa8c35e443ea79f6500109dd6a6c48ea8a
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon Aug 12 20:57:59 2019 +0800

    Time zone related BE function (#1598)
    
    Details can be found in time-zone.md document

 be/src/common/daemon.cpp                           |   2 +
 be/src/exec/es/es_scroll_parser.cpp                |   2 +-
 be/src/exec/es_scan_node.cpp                       |   4 +-
 be/src/exprs/timestamp_functions.cpp               | 318 +++++++--------------
 be/src/exprs/timestamp_functions.h                 |  67 ++---
 be/src/exprs/timezone_db.cpp                       |  59 +++-
 be/src/exprs/timezone_db.h                         |  45 +++
 be/src/runtime/datetime_value.cpp                  |  66 ++---
 be/src/runtime/datetime_value.h                    |  18 +-
 be/src/runtime/plan_fragment_executor.cpp          |   2 +-
 be/src/runtime/runtime_state.cpp                   |  29 +-
 be/src/runtime/runtime_state.h                     |  22 +-
 be/src/runtime/test_env.cc                         |   2 +-
 be/src/testutil/function_utils.cpp                 |   9 +
 be/src/testutil/function_utils.h                   |   1 +
 be/test/exec/broker_scan_node_test.cpp             |   2 +-
 be/test/exec/broker_scanner_test.cpp               |   2 +-
 be/test/exec/es_http_scan_node_test.cpp            |   2 +-
 be/test/exec/es_predicate_test.cpp                 |   2 +-
 be/test/exec/es_scan_node_test.cpp                 |   2 +-
 be/test/exec/parquet_scanner_test.cpp              |   2 +-
 be/test/exec/tablet_sink_test.cpp                  |  14 +-
 be/test/exprs/timestamp_functions_test.cpp         |  73 ++++-
 be/test/runtime/buffered_block_mgr2_test.cpp       |   2 +-
 be/test/runtime/datetime_value_test.cpp            |  23 +-
 .../cn/administrator-guide/time-zone.md            |  53 ++++
 .../date-time-functions/convert_tz.md              |  27 ++
 .../sql-functions/date-time-functions/curtime.md   |  20 ++
 .../org/apache/doris/common/util/TimeUtils.java    |   2 +
 .../main/java/org/apache/doris/qe/Coordinator.java |  15 +-
 gensrc/script/doris_builtins_functions.py          |   7 +-
 gensrc/thrift/PaloInternalService.thrift           |   1 +
 32 files changed, 542 insertions(+), 353 deletions(-)

commit c0253a17fcb53382d285df2a5bca0a31e119c33d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Aug 12 20:47:16 2019 +0800

    Add block compression codec and remove not used codec (#1622)

 be/src/util/CMakeLists.txt              |   4 +-
 be/src/util/block_compression.cpp       | 387 +++++++++++++++++++++++++++++++
 be/src/util/block_compression.h         |  66 ++++++
 be/src/util/codec.cpp                   | 200 ----------------
 be/src/util/codec.h                     | 163 -------------
 be/src/util/compress.cpp                | 271 ----------------------
 be/src/util/compress.h                  | 133 -----------
 be/src/util/decompress.cpp              | 392 --------------------------------
 be/src/util/decompress.h                | 102 ---------
 be/src/util/runtime_profile.cpp         |   1 -
 be/src/util/slice.h                     |   9 +
 be/test/util/CMakeLists.txt             |   1 +
 be/test/util/block_compression_test.cpp | 168 ++++++++++++++
 gensrc/proto/segment_v2.proto           |   9 +-
 run-ut.sh                               |   1 +
 15 files changed, 638 insertions(+), 1269 deletions(-)

commit af8256be2a0f31e430337baefdcadda83875837d
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Mon Aug 12 16:41:47 2019 +0800

    Implement BetaRowsetWriter (#1590)
    
    BetaRowsetWriter is used to write rowset in V2 segment format.
    
    This PR contains several interface changes
    1. Rowset.make_snapshot() is renamed to `link_files_to` because hard links are also useful in copy task, linked schema change, etc
    2. Rowset.copy_files_to_path() is renamed to `copy_files_to` to be consistent with other names
    3. RowsetWriter.mem_pool() is removed because not all rowset writers use MemPool
    4. RowsetWriter.garbage_collection() is removed because it's not used by clients
    5. SegmentGroup's make_snapshot() is removed because link_segments_to_path() provides similar functionality

 be/src/olap/aggregate_func.h                       |  10 +-
 be/src/olap/field.h                                |  12 +-
 be/src/olap/hll.h                                  |   2 +-
 be/src/olap/merger.cpp                             |   2 +-
 be/src/olap/olap_define.h                          |   5 +-
 be/src/olap/push_handler.cpp                       |  14 +-
 be/src/olap/push_handler.h                         |   6 +-
 be/src/olap/row_cursor.cpp                         |  48 ++----
 be/src/olap/row_cursor.h                           |  14 +-
 be/src/olap/rowset/CMakeLists.txt                  |   4 +-
 be/src/olap/rowset/alpha_rowset.cpp                |  12 +-
 be/src/olap/rowset/alpha_rowset.h                  |   7 +-
 be/src/olap/rowset/alpha_rowset_writer.cpp         |  24 +--
 be/src/olap/rowset/alpha_rowset_writer.h           |  16 +-
 be/src/olap/rowset/beta_rowset.cpp                 |  30 ++--
 be/src/olap/rowset/beta_rowset.h                   |  11 +-
 be/src/olap/rowset/beta_rowset_writer.cpp          | 184 +++++++++++++++++++++
 be/src/olap/rowset/beta_rowset_writer.h            |  89 ++++++++++
 be/src/olap/rowset/column_data_writer.cpp          |   5 +-
 be/src/olap/rowset/rowset.h                        |  10 +-
 be/src/olap/rowset/rowset_writer.h                 |  13 +-
 be/src/olap/rowset/segment_group.cpp               |  45 +----
 be/src/olap/rowset/segment_group.h                 |   5 +-
 be/src/olap/rowset/segment_v2/segment_writer.cpp   |   4 +-
 be/src/olap/rowset/segment_v2/segment_writer.h     |   4 +-
 be/src/olap/schema_change.cpp                      |  65 +++-----
 be/src/olap/schema_change.h                        |   5 +-
 be/src/olap/snapshot_manager.cpp                   |   6 +-
 be/src/olap/task/engine_storage_migration_task.cpp |   3 +-
 be/src/olap/types.cpp                              |   1 +
 be/src/olap/types.h                                |  49 ++++--
 be/test/olap/aggregate_func_test.cpp               |  87 +++++-----
 be/test/olap/rowset/segment_v2/segment_test.cpp    |   2 +-
 33 files changed, 483 insertions(+), 311 deletions(-)

commit 3080139e7880071c3bc1e48c5b7ee39b228dc8b9
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Aug 12 16:27:34 2019 +0800

    Avoid load or query failed when doing alter job
    
    2 cases:
    
    Sometimes a missing version replica can not be repaired. Which may cause query failed
    with error: failed to initialize storage reader. tablet=xxx, res=-214
    
    Cancel the rollup job when there are load jobs on that table may cause load job fail.
    We should ignore "table not found" exception when committing the txn.

 .../org/apache/doris/catalog/TabletInvertedIndex.java  |  4 +---
 .../apache/doris/transaction/GlobalTransactionMgr.java | 18 ++++++++++++++----
 2 files changed, 15 insertions(+), 7 deletions(-)

commit b4ba77a59488ab47a9dffdacef59a2614e70a23a
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Aug 12 14:06:47 2019 +0800

    Fix bug that encounter "No more data to read" when accessing broker (#1621)
    
    The errorMsg in TBrokerOperationStatus is set to null because of
    invalid string joint operation.

 .../src/main/java/org/apache/doris/broker/hdfs/BrokerException.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bd01b23c73d33c38e4ecadda6d2adc7cfa2fb55
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Aug 12 10:42:00 2019 +0800

    Add page cache for column page in BetaRowset (#1607)

 be/src/common/config.h                          |   3 +
 be/src/olap/CMakeLists.txt                      |   1 +
 be/src/olap/lru_cache.cpp                       |   5 +
 be/src/olap/lru_cache.h                         |   6 ++
 be/src/olap/page_cache.cpp                      |  53 +++++++++++
 be/src/olap/page_cache.h                        | 121 ++++++++++++++++++++++++
 be/src/olap/rowset/segment_v2/column_reader.cpp |  13 ++-
 be/src/olap/rowset/segment_v2/page_handle.h     |  54 ++++++++---
 be/src/runtime/exec_env_init.cpp                |  14 +++
 be/test/olap/CMakeLists.txt                     |   1 +
 be/test/olap/page_cache_test.cpp                |  78 +++++++++++++++
 run-ut.sh                                       |   1 +
 12 files changed, 334 insertions(+), 16 deletions(-)

commit cf2155cf45cf0d6efb1553c9899ced679bd12362
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Sun Aug 11 13:00:16 2019 +0800

    Add spark-doric-connector overview (#1526)

 docs/resources/images/spark_doris_connector.jpg | Bin 0 -> 166197 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit e3348c46a96865d3115e4642528a2ab39479f489
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Sun Aug 11 12:59:24 2019 +0800

    Expose data pruned-filter-scan ability (#1527)

 be/src/common/config.h                             |   8 +
 be/src/exec/data_sink.cpp                          |   9 +
 be/src/gen_cpp/CMakeLists.txt                      |   3 +
 be/src/runtime/CMakeLists.txt                      |   3 +
 be/src/runtime/exec_env.h                          |   6 +
 be/src/runtime/exec_env_init.cpp                   |   8 +-
 be/src/runtime/external_scan_context_mgr.cpp       | 124 ++++++++
 be/src/runtime/external_scan_context_mgr.h         |  76 +++++
 be/src/runtime/fragment_mgr.cpp                    | 109 +++++++
 be/src/runtime/fragment_mgr.h                      |   8 +
 be/src/runtime/memory_scratch_sink.cpp             | 229 +++++++++++++++
 be/src/runtime/memory_scratch_sink.h               |  86 ++++++
 be/src/runtime/result_queue_mgr.cpp                |  82 ++++++
 be/src/runtime/result_queue_mgr.h                  |  55 ++++
 be/src/service/backend_service.cpp                 | 116 +++++++-
 be/src/service/backend_service.h                   |  22 +-
 be/test/runtime/CMakeLists.txt                     |   4 +
 be/test/runtime/external_scan_context_mgr_test.cpp | 113 ++++++++
 be/test/runtime/memory_scratch_sink_test.cpp       | 123 ++++++++
 be/test/runtime/result_queue_mgr_test.cpp          | 156 +++++++++++
 .../java/org/apache/doris/catalog/OlapTable.java   |  25 ++
 .../apache/doris/common/DorisHttpException.java    |  39 +++
 .../java/org/apache/doris/http/HttpServer.java     |  28 +-
 .../doris/http/rest/TableQueryPlanAction.java      | 312 +++++++++++++++++++++
 .../doris/http/rest/TableRowCountAction.java       | 116 ++++++++
 .../apache/doris/http/rest/TableSchemaAction.java  | 139 +++++++++
 .../java/org/apache/doris/catalog/FakeCatalog.java |   2 +-
 .../org/apache/doris/common/GenericPoolTest.java   |  21 ++
 .../org/apache/doris/http/DorisHttpTestCase.java   | 308 ++++++++++++++++++++
 .../doris/http/TableQueryPlanActionTest.java       | 130 +++++++++
 .../apache/doris/http/TableRowCountActionTest.java |  45 +++
 .../apache/doris/http/TableSchemaActionTest.java   |  52 ++++
 .../org/apache/doris/mysql/privilege/AuthTest.java |   1 +
 gensrc/thrift/BackendService.thrift                |  11 +
 gensrc/thrift/DorisExternalService.thrift          |  12 +-
 run-ut.sh                                          |   3 +
 36 files changed, 2562 insertions(+), 22 deletions(-)

commit add6266c717decfaf8c99e9a948cefff410bef77
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Aug 9 13:27:31 2019 +0800

    Broker load supports function (#1592)
    
    * Broker load supports function
    The commit support the column function in broker load.
    The grammar of LoadStmt has not been changed.
    Example:
    columns terminated by ',' (tmp_c1, tmp_c2) set (c1=tmp_c1+tmp_c2)
    
    Also, the old function is compatible such as default_value, strftime etc.
    After this commit, there are no difference in column function between stream load and broker load except old function.

 .../load-data/broker-load-manual.md                |   4 +
 .../Data Manipulation/BROKER LOAD.md               |  65 +---
 .../doris/analysis/CreateRoutineLoadStmt.java      |   4 +-
 .../org/apache/doris/analysis/DataDescription.java | 251 +++++++-------
 .../main/java/org/apache/doris/analysis/Expr.java  |   6 +
 .../java/org/apache/doris/analysis/LoadStmt.java   |  13 +-
 .../java/org/apache/doris/catalog/Catalog.java     |   2 +-
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../org/apache/doris/load/BrokerFileGroup.java     |  47 ++-
 fe/src/main/java/org/apache/doris/load/Load.java   |  59 +---
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  58 +++-
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |   1 +
 .../java/org/apache/doris/load/loadv2/LoadJob.java |   7 +
 .../org/apache/doris/load/loadv2/LoadManager.java  |  25 +-
 .../doris/load/routineload/RoutineLoadJob.java     |   2 +-
 .../org/apache/doris/planner/BrokerScanNode.java   | 360 ++++++++++++---------
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   2 +-
 .../java/org/apache/doris/qe/MultiLoadMgr.java     |   2 +-
 .../apache/doris/analysis/CreateUserStmtTest.java  |   9 +-
 .../apache/doris/analysis/DataDescriptionTest.java | 112 ++++++-
 .../org/apache/doris/analysis/LoadStmtTest.java    |  20 +-
 .../doris/load/loadv2/BrokerLoadJobTest.java       |  12 +-
 .../apache/doris/load/loadv2/LoadManagerTest.java  |   8 +-
 24 files changed, 611 insertions(+), 462 deletions(-)

commit a6d3099a68d4fe816cb7e48adf94ee61422198da
Author: worker24h <xxbzj249@163.com>
Date:   Thu Aug 8 09:00:43 2019 -0500

    Fix bug: localtime is not thread-safe,then changed to localtime_r. (#1614)

 be/src/exec/base_scanner.cpp   | 17 ++++++++++++-----
 be/src/exec/parquet_reader.cpp |  6 +++---
 2 files changed, 15 insertions(+), 8 deletions(-)

commit 69de5df16745a3c793816e3d01edd0fa51b40225
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Aug 8 18:38:30 2019 +0800

    Fix bug that cluster balance may cause load job failed (#1581)
    
    The bug is described in issue #1580 . And this patch will fix 2 cases of cluster balance
    
    After finish adding the new replica, the new replica's version may not catch up with
    the visible version, so the new replica may be treated as a stale and redundant replica, which
    will be deleting at next tablet checking round.
    
    I add a mark named needFurtherRepair to the newly added replica, only mark it when that replica's version does not catch up with visible version. This replica will receive a further repair at next tablet checking round, instead of being deleted.
    
    When deleting the redundant replicas, there may be some load jobs on it. Delete these replicas may cause the load job fail.
    
    Before deleting a redundant replica, I first mark the next txn id on that replica, and set replica's
    state to CLONE. The CLONE state will ensure that no more load jobs will be on that replica, and we
    will wait all load jobs before the marked txn id to be finished. After that, the replica can be deleted safely.

 .../java/org/apache/doris/alter/RollupHandler.java |   1 +
 .../apache/doris/alter/SchemaChangeHandler.java    |   5 +-
 .../org/apache/doris/alter/SchemaChangeJob.java    |  11 ++-
 .../java/org/apache/doris/catalog/Replica.java     |  47 ++++++++-
 .../main/java/org/apache/doris/catalog/Tablet.java |  28 ++++--
 .../org/apache/doris/clone/TabletSchedCtx.java     |  29 +++++-
 .../org/apache/doris/clone/TabletScheduler.java    | 108 +++++++++++++--------
 .../apache/doris/common/proc/StatisticProcDir.java |   3 +-
 .../doris/consistency/CheckConsistencyJob.java     |   5 +-
 .../doris/transaction/GlobalTransactionMgr.java    |   2 +-
 10 files changed, 178 insertions(+), 61 deletions(-)

commit 326d765c640a4fa2da64ef04bc5171377688b4ee
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Aug 8 16:47:32 2019 +0800

    Add doc of modify replication num upon partition (#1611)

 .../sql-statements/Data Definition/ALTER TABLE.md             | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit f4ad2381e60d5c8ccb8f671a88159e8729a44935
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Aug 8 16:29:08 2019 +0800

    Fix error DCHECK for partition_columns (#1606)

 be/src/exec/tablet_info.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit fd2accbcf9df57a9b6d7f1d43779af51d8ade874
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Aug 8 14:47:38 2019 +0800

    Modify some docs' format to make it work with document website (#1604)

 .../alter-table/alter-table-rollup.md              | 168 ++++++++++++++++
 .../alter-table/alter-table-schema-change.md       | 222 +++++++++++++++++++++
 .../cn/administrator-guide/export_manual.md        |  16 +-
 .../http-actions/cancel-label.md}                  |   0
 .../http-actions/get-label-state.md}               |   0
 .../http-actions/restore-tablet.md}                |   6 +-
 .../Account Management/CREATE ROLE.md              |   4 +-
 .../Account Management/CREATE USER.md              |   1 +
 .../sql-statements/Account Management/DROP USER.md |   3 +-
 .../sql-statements/Account Management/GRANT.md     |   3 +-
 .../Account Management/SHOW GRANTS.md              |   3 +-
 .../sql-statements/Account Management/index.rst    |   8 +
 .../sql-statements/Administration/LINK DATABASE.md |   1 +
 .../Administration/MIGRATE DATABASE.md             |   1 +
 .../sql-statements/Administration/index.rst        |   8 +
 .../Data Definition/Colocate Join.md               |  72 -------
 .../Data Definition/create-function.md             |   6 +-
 .../Data Definition/drop-function.md               |   6 +-
 .../sql-statements/Data Definition/index.rst       |   8 +
 .../Data Definition/show-function.md               |   6 +-
 .../{broker_load.md => BROKER LOAD.md}             |   0
 .../Data Manipulation/CANCEL DELETE.md             |  10 -
 .../sql-statements/Data Manipulation/index.rst     |   8 +
 .../sql-statements/Data Manipulation/insert.md     |  18 +-
 .../sql-statements/Data Types/BIGINT.md            |   5 +-
 .../sql-statements/Data Types/BOOLEAN.md           |   5 +-
 .../sql-statements/Data Types/CHAR.md              |   5 +-
 .../sql-statements/Data Types/DATE.md              |   5 +-
 .../sql-statements/Data Types/DATETIME.md          |   5 +-
 .../sql-statements/Data Types/DECIMAL.md           |   5 +-
 .../sql-statements/Data Types/DOUBLE.md            |   5 +-
 .../sql-statements/Data Types/FLOAT.md             |   5 +-
 .../Data Types/{HLL(HyperLogLog).md => HLL.md}     |   5 +-
 .../sql-reference/sql-statements/Data Types/INT.md |   5 +-
 .../sql-statements/Data Types/LARGEINT.md          |   7 +
 .../sql-statements/Data Types/SMALLINT.md          |   5 +-
 .../sql-statements/Data Types/TINYINT.md           |   5 +-
 .../sql-statements/Data Types/VARCHAR.md           |   5 +-
 .../sql-statements/Data Types/index.rst            |   8 +
 .../Utility/{util_stmt.md => DESCRIBE.md}          |  11 +-
 .../sql-reference/sql-statements/Utility/index.rst |   8 +
 .../cn/sql-reference/sql-statements/index.rst      |  11 +-
 docs/readme.md                                     |  22 ++
 43 files changed, 562 insertions(+), 148 deletions(-)

commit b9378871331518b9729e5b93b17fbe6f1db5b2ed
Author: lenmom <lenmom@126.com>
Date:   Thu Aug 8 09:30:21 2019 +0800

    Include header file for ‘preadv'  which caused break build on ubuntu 18.04 (#1602)

 be/src/env/env_posix.cpp       | 1 +
 thirdparty/build-thirdparty.sh | 1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 60d997fe67dc3a550335c5ea398c85e9b2e4034c
Author: Yunfeng,Wu <wuyunfeng01@baidu.com>
Date:   Thu Aug 8 09:29:23 2019 +0800

    Fix errors when ES username and passwd is empty (#1601)

 fe/src/main/java/org/apache/doris/external/EsRestClient.java | 12 ++++++++----
 fe/src/main/java/org/apache/doris/external/EsStateStore.java |  2 +-
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 4c2a3d6da4aaed2060bf34453c6864fc90f8f8d8
Author: xy720 <22125576+xy720@users.noreply.github.com>
Date:   Wed Aug 7 21:31:53 2019 +0800

    Merge Help document to documentation (#1586)
    
    Help document collation (integration of help and documentation documents)

 docs/Makefile                                      |    8 +-
 .../sql-functions/aggregate-functions/avg.md       |    9 +-
 .../sql-functions/aggregate-functions/count.md     |    9 +-
 .../aggregate-functions/count_distinct.md          |    9 +-
 .../aggregate-functions/group_concat.md            |   21 -
 .../aggregate-functions/hll_union_agg.md           |    9 +-
 .../sql-functions/aggregate-functions/max.md       |    9 +-
 .../sql-functions/aggregate-functions/min.md       |    9 +-
 .../sql-functions/aggregate-functions/ndv.md       |    9 +-
 .../aggregate-functions/percentile_approx.md       |   10 +-
 .../sql-functions/aggregate-functions/stddev.md    |    9 +-
 .../aggregate-functions/stddev_samp.md             |    9 +-
 .../sql-functions/aggregate-functions/sum.md       |    9 +-
 .../sql-functions/aggregate-functions/var_samp.md  |   10 +-
 .../sql-functions/aggregate-functions/variance.md  |   10 +-
 .../cn/sql-reference/sql-functions/cast.md         |   18 +-
 .../date-time-functions/current_timestamp.md       |   10 +-
 .../sql-functions/date-time-functions/date_add.md  |   10 +-
 .../date-time-functions/date_format.md             |    9 +-
 .../sql-functions/date-time-functions/date_sub.md  |   10 +-
 .../sql-functions/date-time-functions/datediff.md  |    9 +-
 .../sql-functions/date-time-functions/day.md       |   10 +-
 .../sql-functions/date-time-functions/dayname.md   |   10 +-
 .../date-time-functions/dayofmonth.md              |   10 +-
 .../sql-functions/date-time-functions/dayofweek.md |   10 +-
 .../sql-functions/date-time-functions/dayofyear.md |   10 +-
 .../sql-functions/date-time-functions/from_days.md |   10 +-
 .../date-time-functions/from_unixtime.md           |   10 +-
 .../sql-functions/date-time-functions/month.md     |   10 +-
 .../sql-functions/date-time-functions/monthname.md |   10 +-
 .../sql-functions/date-time-functions/now.md       |   10 +-
 .../date-time-functions/str_to_date.md             |   10 +-
 .../sql-functions/date-time-functions/timediff.md  |    9 +-
 .../sql-functions/date-time-functions/to_days.md   |   10 +-
 .../date-time-functions/unix_timestamp.md          |   10 +-
 .../date-time-functions/utc_timestamp.md           |   10 +-
 .../date-time-functions/workofyear.md              |   10 +-
 .../sql-functions/date-time-functions/year.md      |   10 +-
 .../sql-functions/spatial-functions/st_astext.md   |    9 +-
 .../sql-functions/spatial-functions/st_circle.md   |    9 +-
 .../sql-functions/spatial-functions/st_contains.md |    9 +-
 .../spatial-functions/st_distance_sphere.md        |    9 +-
 .../spatial-functions/st_geometryfromtext.md       |    9 +-
 .../spatial-functions/st_linefromtext.md           |    9 +-
 .../sql-functions/spatial-functions/st_point.md    |    9 +-
 .../sql-functions/spatial-functions/st_polygon.md  |    9 +-
 .../sql-functions/spatial-functions/st_x.md        |    9 +-
 .../sql-functions/spatial-functions/st_y.md        |    9 +-
 .../sql-functions/string-functions/ascii.md        |    9 +-
 .../sql-functions/string-functions/concat.md       |    9 +-
 .../sql-functions/string-functions/concat_ws.md    |    9 +-
 .../sql-functions/string-functions/find_in_set.md  |    9 +-
 .../string-functions/get_json_double.md            |    9 +-
 .../sql-functions/string-functions/get_json_int.md |    9 +-
 .../string-functions/get_json_string.md            |    9 +-
 .../sql-functions/string-functions/group_concat.md |    9 +-
 .../sql-functions/string-functions/instr.md        |    9 +-
 .../sql-functions/string-functions/lcase.md        |    7 +-
 .../sql-functions/string-functions/left.md         |    9 +-
 .../sql-functions/string-functions/length.md       |    9 +-
 .../sql-functions/string-functions/locate.md       |    9 +-
 .../sql-functions/string-functions/lower.md        |    9 +-
 .../sql-functions/string-functions/lpad.md         |    9 +-
 .../sql-functions/string-functions/ltrim.md        |    9 +-
 .../sql-functions/string-functions/money_format.md |    9 +-
 .../string-functions/regexp_extract.md             |    9 +-
 .../string-functions/regexp_replace.md             |    9 +-
 .../sql-functions/string-functions/repeat.md       |    9 +-
 .../sql-functions/string-functions/right.md        |    9 +-
 .../sql-functions/string-functions/split_part.md   |    9 +-
 .../sql-functions/string-functions/strleft.md      |    9 +-
 .../sql-functions/string-functions/strright.md     |    9 +-
 .../Account Management/CREATE ROLE.md              |   19 +
 .../Account Management/CREATE USER.md              |   49 +
 .../sql-statements/Account Management/DROP ROLE.md |   18 +
 .../sql-statements/Account Management/DROP USER.md |   18 +
 .../sql-statements/Account Management/GRANT.md     |   55 +
 .../sql-statements/Account Management/REVOKE.md    |   23 +
 .../Account Management/SET PASSWORD.md             |   30 +
 .../Account Management/SET PROPERTY.md             |   56 +
 .../Account Management/SHOW GRANTS.md              |   30 +
 .../Account Management/SHOW ROLES.md               |   16 +
 .../Administration/ADMIN CANCEL REPAIR.md          |   22 +
 .../sql-statements/Administration/ADMIN REPAIR.md} |   22 -
 .../Administration/ADMIN SET CONFIG.md             |   18 +
 .../Administration/ADMIN SHOW CONFIG.md            |   27 +
 .../ADMIN SHOW REPLICA DISTRIBUTION.md             |   26 +
 .../Administration/ADMIN SHOW REPLICA STATUS.md    |   39 +
 .../sql-statements/Administration/ALTER CLUSTER.md |   28 +
 .../sql-statements/Administration/ALTER SYSTEM.md  |   94 ++
 .../Administration/CANCEL DECOMMISSION.md          |   15 +
 .../Administration/CREATE CLUSTER.md               |   36 +
 .../sql-statements/Administration/CREATE FILE.md}  |   52 -
 .../sql-statements/Administration/DROP CLUSTER.md  |   18 +
 .../sql-statements/Administration/DROP FILE.md     |   25 +
 .../sql-statements/Administration/ENTER.md         |   18 +
 .../sql-statements/Administration/LINK DATABASE.md |   24 +
 .../Administration/MIGRATE DATABASE.md             |   20 +
 .../sql-statements/Administration/SHOW BACKENDS.md |   22 +
 .../sql-statements/Administration/SHOW BROKER.md   |   15 +
 .../sql-statements/Administration/SHOW FILE.md     |   27 +
 .../Administration/SHOW FRONTENDS.md               |   18 +
 .../Administration/SHOW MIGRATIONS.md              |   12 +
 .../Data Definition/ALTER DATABASE.md              |   29 +
 .../sql-statements/Data Definition/ALTER TABLE.md  |  240 ++++
 .../sql-statements/Data Definition/BACKUP.md       |   39 +
 .../sql-statements/Data Definition/CANCEL ALTER.md |   32 +
 .../Data Definition/CANCEL BACKUP.md               |   13 +
 .../Data Definition/CANCEL RESTORE.md              |   16 +
 .../Data Definition/CREATE DATABASE.md             |   13 +
 .../Data Definition/CREATE REPOSITORY.md           |   50 +
 .../sql-statements/Data Definition/CREATE TABLE.md |  334 ++++++
 .../sql-statements/Data Definition/CREATE VIEW.md  |   22 +
 .../Data Definition/Colocate Join.md               |   72 ++
 .../Data Definition/DROP DATABASE.md               |   16 +
 .../Data Definition/DROP REPOSITORY.md             |   16 +
 .../sql-statements/Data Definition/DROP TABLE.md   |   19 +
 .../sql-statements/Data Definition/DROP VIEW.md    |   14 +
 .../sql-statements/Data Definition/HLL.md          |   80 ++
 .../sql-statements/Data Definition/RECOVER.md      |   28 +
 .../sql-statements/Data Definition/RESTORE.md      |   52 +
 .../Data Definition/TRUNCATE TABLE.md              |   27 +
 .../{ => Data Definition}/create-function.md       |   21 +-
 .../{ => Data Definition}/drop-function.md         |   17 +-
 .../{ => Data Definition}/show-function.md         |   17 +-
 .../Data Manipulation/CANCEL DELETE.md             |   10 +
 .../Data Manipulation/CANCEL LABEL.md              |   33 +
 .../Data Manipulation/CANCEL LOAD.md               |   20 +
 .../sql-statements/Data Manipulation/DELETE.md     |   36 +
 .../sql-statements/Data Manipulation/EXPORT.md     |   58 +
 .../Data Manipulation/GET LABEL STATE.md           |   33 +
 .../sql-statements/Data Manipulation/LOAD.md       |  284 +++++
 .../sql-statements/Data Manipulation/MINI LOAD.md  |  104 ++
 .../sql-statements/Data Manipulation/MULTI LOAD.md |   82 ++
 .../Data Manipulation/PAUSE ROUTINE LOAD.md        |   10 +
 .../Data Manipulation/RESTORE TABLET.md            |   15 +
 .../Data Manipulation/RESUME ROUTINE LOAD.md       |   10 +
 .../Data Manipulation/ROUTINE LOAD.md}             |  194 ----
 .../sql-statements/Data Manipulation/SHOW ALTER.md |   25 +
 .../Data Manipulation/SHOW BACKUP.md               |   37 +
 .../sql-statements/Data Manipulation/SHOW DATA.md  |   21 +
 .../Data Manipulation/SHOW DATABASES.md            |    9 +
 .../Data Manipulation/SHOW DELETE.md               |   13 +
 .../Data Manipulation/SHOW EXPORT.md               |   36 +
 .../sql-statements/Data Manipulation/SHOW LOAD.md  |   49 +
 .../Data Manipulation/SHOW PARTITIONS.md           |   16 +
 .../Data Manipulation/SHOW PROPERTY.md             |   16 +
 .../Data Manipulation/SHOW REPOSITORIES.md         |   23 +
 .../Data Manipulation/SHOW RESTORE.md              |   41 +
 .../Data Manipulation/SHOW ROUTINE LOAD TASK.md    |    9 +
 .../Data Manipulation/SHOW ROUTINE LOAD.md         |   32 +
 .../Data Manipulation/SHOW SNAPSHOT.md             |   31 +
 .../Data Manipulation/SHOW TABLES.md               |    9 +
 .../Data Manipulation/SHOW TABLET.md               |   17 +
 .../Data Manipulation/STOP ROUTINE LOAD.md         |   10 +
 .../Data Manipulation/STREAM LOAD.md}              |   66 --
 .../Data Manipulation/broker_load.md               |    2 +-
 .../{ => Data Manipulation}/insert.md              |   12 +-
 .../sql-statements/Data Types/BIGINT.md            |    7 +
 .../sql-statements/Data Types/BOOLEAN.md           |    7 +
 .../sql-statements/Data Types/CHAR.md              |    7 +
 .../sql-statements/Data Types/DATE.md              |   15 +
 .../sql-statements/Data Types/DATETIME.md          |    8 +
 .../sql-statements/Data Types/DECIMAL.md           |    8 +
 .../sql-statements/Data Types/DOUBLE.md            |    7 +
 .../sql-statements/Data Types/FLOAT.md             |    7 +
 .../sql-statements/Data Types/HLL(HyperLogLog).md  |    9 +
 .../sql-reference/sql-statements/Data Types/INT.md |    7 +
 .../sql-statements/Data Types/SMALLINT.md          |    7 +
 .../sql-statements/Data Types/TINYINT.md           |    7 +
 .../sql-statements/Data Types/VARCHAR.md           |    7 +
 .../sql-statements}/Utility/util_stmt.md           |   26 +-
 docs/help/Contents/Account Management/help.md      |  335 ------
 .../Contents/Administration/admin_show_stmt.md     |   92 --
 docs/help/Contents/Administration/admin_stmt.md    |  338 ------
 docs/help/Contents/Data Definition/ddl_stmt.md     | 1153 --------------------
 .../Data Manipulation/manipulation_stmt.md         |  950 ----------------
 docs/help/Contents/Data Types/help.md              |   77 --
 .../Functions/Date and Time Functions/help.md      |  310 ------
 .../org/apache/doris/common/MarkDownParser.java    |   13 +-
 .../apache/doris/common/MarkDownParserTest.java    |   39 +-
 181 files changed, 3576 insertions(+), 3970 deletions(-)

commit 41cbedf57d08a35f5bf53cd4add4ad36fc098dbb
Author: yiguolei <yiguolei@baidu.com>
Date:   Wed Aug 7 20:54:50 2019 +0800

    Manage tablet by partition id (#1591)

 be/src/olap/tablet.cpp         |  4 ++++
 be/src/olap/tablet.h           |  2 ++
 be/src/olap/tablet_manager.cpp | 12 ++++++++++++
 be/src/olap/tablet_manager.h   |  4 ++--
 4 files changed, 20 insertions(+), 2 deletions(-)

commit dc4a5e6c10e040a46975f6512004540d9bd5c9f4
Author: worker24h <xxbzj249@163.com>
Date:   Wed Aug 7 06:52:23 2019 -0500

    Support  Decimal Type when load Parquet File (#1595)

 be/src/exec/parquet_reader.cpp | 72 ++++++++++++++++++++++++------------------
 1 file changed, 41 insertions(+), 31 deletions(-)

commit 9402456f5b86cd9067ea40afe1d7ac19beef0432
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Aug 7 15:08:22 2019 +0800

    Fix parquet directory have empty file (#1593)

 be/src/exec/parquet_reader.cpp  | 3 +++
 be/src/exec/parquet_scanner.cpp | 7 ++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit f7a05d85802a3bd79677b4194b539eeb499d7c98
Author: Youngwb <yangwenbo_mailbox@163.com>
Date:   Wed Aug 7 09:25:26 2019 +0800

    Support setting timezone variable in FE (#1587)

 .../java/org/apache/doris/common/ErrorCode.java    |  1 +
 .../org/apache/doris/common/util/TimeUtils.java    | 36 ++++++++++++++++++++
 .../java/org/apache/doris/qe/GlobalVariable.java   |  4 ++-
 .../main/java/org/apache/doris/qe/VariableMgr.java |  6 ++++
 .../java/org/apache/doris/qe/VariableMgrTest.java  | 39 ++++++++++++++++++++++
 5 files changed, 85 insertions(+), 1 deletion(-)

commit 343b913f0d1aeca66a86db1e01979dd4e52578b7
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Aug 6 19:23:53 2019 +0800

    Fix a serious bug that will cause all replicas being deleted. (#1589)
    
    Revert commit: eda55a7394fcec2f7b6c0aefd1628f9d63911815

 .../org/apache/doris/master/ReportHandler.java     | 29 ++++++++++++----------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit b2e678dfc13ddc080903a0369aaaa32da89605f6
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Aug 6 17:15:11 2019 +0800

    Support Segment for BetaRowset (#1577)
    
    We create a new segment format for BetaRowset. New format merge
    data file and index file into one file. And we create a new format
    for short key index. In origin code index is stored in format like
    RowCusor which is not efficient to compare. Now we encode multiple
    column into binary, and we assure that this binary is sorted same
    with the key columns.

 be/src/gutil/endian.h                              | 153 +++++++++++
 be/src/olap/CMakeLists.txt                         |   5 +
 be/src/olap/column_mapping.h                       |   4 +-
 be/src/olap/delete_handler.cpp                     |   1 +
 be/src/olap/delete_handler.h                       |   6 +-
 be/src/olap/delta_writer.cpp                       |   1 +
 be/src/olap/delta_writer.h                         |   3 +-
 be/src/olap/field.h                                |  14 +
 be/src/olap/iterators.h                            |  19 ++
 be/src/olap/key_coder.cpp                          |  80 ++++++
 be/src/olap/key_coder.h                            | 224 ++++++++++++++++
 be/src/olap/rowset/rowset_reader.h                 |   1 +
 be/src/olap/rowset/rowset_reader_context.h         |  10 +-
 be/src/olap/rowset/rowset_writer.h                 |   4 +-
 be/src/olap/rowset/segment_v2/column_writer.h      |  12 +
 be/src/olap/rowset/segment_v2/segment.cpp          | 183 +++++++++++++
 be/src/olap/rowset/segment_v2/segment.h            | 120 +++++++++
 be/src/olap/rowset/segment_v2/segment_iterator.cpp | 258 ++++++++++++++++++
 be/src/olap/rowset/segment_v2/segment_iterator.h   |  88 +++++++
 be/src/olap/rowset/segment_v2/segment_writer.cpp   | 172 ++++++++++++
 be/src/olap/rowset/segment_v2/segment_writer.h     |  88 +++++++
 be/src/olap/schema_change.cpp                      |  45 ++++
 be/src/olap/schema_change.h                        |  46 ----
 be/src/olap/short_key_index.cpp                    | 117 +++++++++
 be/src/olap/short_key_index.h                      | 274 ++++++++++++++++++++
 be/src/olap/storage_engine.h                       |   2 -
 be/src/olap/tablet.h                               |   1 -
 be/src/olap/types.h                                |  10 +
 be/src/olap/uint24.h                               |  13 +-
 be/src/util/CMakeLists.txt                         |   1 +
 be/src/util/slice.cpp                              |  28 ++
 be/src/util/slice.h                                |   4 +
 be/test/olap/CMakeLists.txt                        |   3 +
 be/test/olap/key_coder_test.cpp                    | 287 +++++++++++++++++++++
 be/test/olap/rowset/segment_v2/segment_test.cpp    | 259 +++++++++++++++++++
 be/test/olap/short_key_index_test.cpp              | 161 ++++++++++++
 be/test/olap/tablet_schema_helper.h                |  54 ++++
 gensrc/proto/segment_v2.proto                      |  49 +++-
 run-ut.sh                                          |   3 +
 39 files changed, 2732 insertions(+), 71 deletions(-)

commit ec7b9e421f0a2b57d945b956c655c4050d34cbfc
Author: yiguolei <yiguolei@baidu.com>
Date:   Tue Aug 6 17:14:39 2019 +0800

    Acquire tablet map write lock during tablet gc (#1588)

 be/src/olap/tablet_manager.cpp | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d938f9a6ead36d966275a067c292fc77dd27e053
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Aug 6 10:40:16 2019 +0800

    Implement the initial version of BetaRowset (#1568)

 be/src/olap/olap_define.h                  |   2 +-
 be/src/olap/rowset/CMakeLists.txt          |   2 +
 be/src/olap/rowset/alpha_rowset.cpp        |  59 +++-----------
 be/src/olap/rowset/alpha_rowset.h          |  28 +++----
 be/src/olap/rowset/alpha_rowset_writer.cpp |   5 +-
 be/src/olap/rowset/beta_rowset.cpp         | 125 +++++++++++++++++++++++++++++
 be/src/olap/rowset/beta_rowset.h           |  69 ++++++++++++++++
 be/src/olap/rowset/rowset.cpp              |  54 +++++++++++++
 be/src/olap/rowset/rowset.h                |  69 ++++++++++------
 be/src/olap/rowset/rowset_meta.h           |  50 +++++++-----
 be/src/olap/storage_engine.cpp             |   2 +-
 be/src/olap/txn_manager.cpp                |   2 +-
 gensrc/proto/olap_file.proto               |  43 ++++++----
 13 files changed, 378 insertions(+), 132 deletions(-)

commit eda55a7394fcec2f7b6c0aefd1628f9d63911815
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Aug 5 16:19:05 2019 +0800

    Fix bug that unable to delete replica if version is missing (#1585)
    
    If there is a redundant replica on BE which version is missing,
    the tablet report logic can not drop it correctly.

 fe/src/main/java/org/apache/doris/master/ReportHandler.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93a3577baa27c8ce08d4eb9c4a2d2ee0bb930a8e
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Aug 5 16:16:43 2019 +0800

     Support multi partition column when creating table (#1574)
    
    When creating table with OLAP engine, use can specify multi parition columns.
    eg:
    
    PARTITION BY RANGE(`date`, `id`)
    (
        PARTITION `p201701_1000` VALUES LESS THAN ("2017-02-01", "1000"),
        PARTITION `p201702_2000` VALUES LESS THAN ("2017-03-01", "2000"),
        PARTITION `p201703_all`  VALUES LESS THAN ("2017-04-01")
    )
    
    Notice that load by hadoop cluster does not support multi parition column table.

 be/src/exec/tablet_info.cpp                        | 47 +++++++++++++++++-----
 be/src/exec/tablet_info.h                          | 34 ++++++++++------
 .../cn/getting-started/data-partition.md           | 40 +++++++++++++++++-
 docs/help/Contents/Data Definition/ddl_stmt.md     |  7 ++--
 .../org/apache/doris/analysis/CreateTableStmt.java |  4 --
 .../apache/doris/analysis/RangePartitionDesc.java  |  6 +--
 .../org/apache/doris/catalog/PartitionInfo.java    |  6 +++
 .../org/apache/doris/catalog/PartitionKey.java     | 18 ++++-----
 .../apache/doris/catalog/RangePartitionInfo.java   | 11 +++--
 fe/src/main/java/org/apache/doris/load/Load.java   | 27 ++++++++-----
 .../org/apache/doris/load/PullLoadSourceInfo.java  |  1 +
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  2 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  5 ++-
 .../org/apache/doris/planner/DataSplitSink.java    |  4 +-
 .../org/apache/doris/planner/OlapTableSink.java    | 20 +++++----
 .../apache/doris/planner/RangePartitionPruner.java |  3 ++
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  2 +-
 .../org/apache/doris/task/PullLoadEtlTask.java     |  4 +-
 .../java/org/apache/doris/task/PullLoadJob.java    |  2 +
 .../java/org/apache/doris/task/PullLoadJobMgr.java |  1 +
 .../org/apache/doris/task/PullLoadPendingTask.java |  1 +
 .../java/org/apache/doris/task/PullLoadTask.java   |  1 +
 .../org/apache/doris/task/PullLoadTaskPlanner.java |  3 +-
 .../doris/load/loadv2/BrokerLoadJobTest.java       |  2 +-
 gensrc/thrift/Descriptors.thrift                   |  7 ++++
 25 files changed, 186 insertions(+), 72 deletions(-)

commit 938c6d4cdff2d84592430f98918f9a460c392bb4
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sun Aug 4 15:54:03 2019 +0800

    Thrown TabletQuorumFailedException in commitTxn (#1575)
    
    The TabletQuorumFailedException will be thrown in commitTxn while the success replica num of tablet is less then quorom replica num.
    The Hadoop load does not handle this exception because the push task will retry it later.
    The streaming broker, insert, stream and mini load will catch this exception and abort the txn after that.

 .../java/org/apache/doris/load/LoadChecker.java    |  3 ++
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  6 ++-
 .../doris/transaction/GlobalTransactionMgr.java    | 10 +++--
 .../transaction/TabletQuorumFailedException.java   | 44 ++++++++++++++++++++++
 .../transaction/GlobalTransactionMgrTest.java      | 29 ++++++++------
 5 files changed, 75 insertions(+), 17 deletions(-)

commit 6c21a5a484bf897bba92ae906f8bbd6800c5b037
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Aug 3 22:49:35 2019 +0800

    Switch MAKE_TEST off in build.sh (#1579)

 build.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cefe1794d4b9feb9e5e8377750994b53c411cab9
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Aug 1 10:26:06 2019 +0800

    Fix bug that replicas of a tablet may be located on same host (#1517)
    
    Doris support deploy multi BE on one host. So when allocating BE for replicas of
    a tablet, we should select different host. But there is a bug in tablet scheduler
    that same host may be selected for one tablet. This patch will fix this problem.
    
    There are some places related to this problem:
    
    1. Create Table
        There is no bug in Create Table process.
    
    2. Tablet Scheduler
        Fixed when selecting BE for REPLICA_MISSING and REPLICA_RELOCATING.
        Fixed when balance the tablet.
    
    3. Colocate Table Balancer
        Fixed when selecting BE for repairing colocate backend sequence.
        Not fix in colocate group balance. Leave it to colocate repairing.
    
    4. Tablet report
        Tablet report may add replica to catalog. But I did not check the host here,
        Tablet Scheduler will fix it.

 .../operation/tablet-repair-and-balance.md         |  9 ++++
 .../apache/doris/catalog/ColocateTableIndex.java   | 11 -----
 .../main/java/org/apache/doris/catalog/Tablet.java | 13 +++--
 .../apache/doris/clone/ColocateTableBalancer.java  | 55 ++++++++++++++++++++--
 .../java/org/apache/doris/clone/LoadBalancer.java  | 21 ++++++++-
 .../org/apache/doris/clone/TabletSchedCtx.java     | 16 ++++++-
 .../org/apache/doris/clone/TabletScheduler.java    | 49 +++++++++++++++++--
 .../org/apache/doris/system/SystemInfoService.java |  1 +
 8 files changed, 149 insertions(+), 26 deletions(-)

commit 9128af649957371354fec6da34b43c78db1c3017
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Jul 31 19:03:38 2019 +0800

    Broker load hang when rpc failed (#1567)
    
    Broker load hang on broker reader when the thrift request between broker and be is failed.

 be/src/exec/broker_reader.cpp | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c5edf9dae0a3fe67ab165e7084001569638b176a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jul 30 14:01:57 2019 +0800

    Unify Field and ColumnSchema in Storage (#1561)
    
    Currently, we have Field and ColumnSchema to access column data in a
    row. These two classes are mostly the same. So we should unify these to
    one class. Now, Field has offset information, which is an row attribute,
    so we remove offset in Field.
    
    RowCursor now has some logic which belong to Schema, so in this patch I
    add Schema attribute to RowCursor to make RowCursor simple. After this
    change, only Schema will handle Field/ColumnSchema.
    
    I extract some logic from RowCursor to be/src/olap/row.h, then we can
    use same logic to handle different types of row. Each type of row has
    same function that to get Cell of this row. A cell represent a column
    content with a null indicator.

 be/src/exec/olap_scanner.cpp               |  12 +-
 be/src/exec/olap_scanner.h                 |   1 -
 be/src/olap/CMakeLists.txt                 |   1 -
 be/src/olap/aggregate_func.h               | 149 ++++++------
 be/src/olap/column_block.h                 |  22 +-
 be/src/olap/field.cpp                      |  72 ------
 be/src/olap/field.h                        | 359 +++++++++++++++++------------
 be/src/olap/generic_iterators.cpp          |   6 +-
 be/src/olap/memtable.cpp                   |  40 ++--
 be/src/olap/merger.cpp                     |   2 +-
 be/src/olap/olap_cond.cpp                  |  29 +--
 be/src/olap/olap_cond.h                    |   3 +-
 be/src/olap/push_handler.cpp               |   2 +-
 be/src/olap/reader.cpp                     |  23 +-
 be/src/olap/row.h                          | 172 ++++++++++++++
 be/src/olap/row_block.h                    |   9 +-
 be/src/olap/row_block2.cpp                 |  23 +-
 be/src/olap/row_block2.h                   |  13 +-
 be/src/olap/row_cursor.cpp                 | 241 ++++---------------
 be/src/olap/row_cursor.h                   | 159 ++++---------
 be/src/olap/row_cursor_cell.h              |  35 +++
 be/src/olap/rowset/alpha_rowset.cpp        |   5 +-
 be/src/olap/rowset/alpha_rowset_reader.cpp |   3 +-
 be/src/olap/rowset/alpha_rowset_writer.cpp |  21 +-
 be/src/olap/rowset/alpha_rowset_writer.h   |  13 +-
 be/src/olap/rowset/column_data_writer.cpp  |  57 ++---
 be/src/olap/rowset/column_data_writer.h    |  11 +-
 be/src/olap/rowset/column_writer.cpp       |   5 +-
 be/src/olap/rowset/column_writer.h         |  63 ++---
 be/src/olap/rowset/rowset_writer.h         |   7 +-
 be/src/olap/schema.cpp                     |  79 ++++---
 be/src/olap/schema.h                       | 140 +++++------
 be/src/olap/schema_change.cpp              |  38 ++-
 be/src/olap/schema_change.h                |   5 +-
 be/src/olap/skiplist.h                     |   7 +-
 be/src/olap/stream_index_common.cpp        |   4 +-
 be/src/olap/stream_index_common.h          |  14 +-
 be/src/olap/stream_index_reader.cpp        |   4 +-
 be/src/olap/task/engine_checksum_task.cpp  |   3 +-
 be/src/olap/types.cpp                      |   4 +-
 be/src/olap/types.h                        |  30 +--
 be/src/olap/wrapper_field.cpp              |   7 +-
 be/src/olap/wrapper_field.h                |  93 ++------
 be/test/olap/aggregate_func_test.cpp       |  53 +++--
 be/test/olap/generic_iterators_test.cpp    |   2 +-
 be/test/olap/row_cursor_test.cpp           |  32 ++-
 be/test/olap/rowset/alpha_rowset_test.cpp  |   7 +-
 be/test/olap/storage_types_test.cpp        |   8 +-
 be/test/olap/stream_index_test.cpp         |  16 +-
 49 files changed, 992 insertions(+), 1112 deletions(-)

commit 8bc8fcffae29b8dd2ff07dd780c3c9826883b10c
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Jul 30 12:52:14 2019 +0800

    Fix NullPointerException when creating mini load in LoadManager (#1565)
    
    The catch statement cancel the load job in the function named createMiniLoad.
    But sometimes, the load job hasn't been created in catch statement. It will throw the NullPointerException when the load job is cancelled.
    This commit fix this bug.

 fe/src/main/java/org/apache/doris/load/loadv2/LoadManager.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e0d991f4dcd83caad82ab21d1ed0e3991fb09920
Author: Dayue Gao <gaodayue@meituan.com>
Date:   Tue Jul 30 12:35:21 2019 +0800

    Remove unreachable code in EnginePublishVersionTask  (#1562)

 be/src/olap/task/engine_publish_version_task.cpp | 20 +++++---------------
 1 file changed, 5 insertions(+), 15 deletions(-)

commit 2cb82c57bbda440ead0d701675953145b1e4e2cf
Author: chenhao <510341142@qq.com>
Date:   Tue Jul 30 11:17:53 2019 +0800

    Fix bug that <=> operator and in operator get wrong result (#1516)
    
    * Fix bug that <=> operator and in operator get wrong result
    
    * Add some comment to get_result_for_null
    
    * Add an new Binary Operator to replace is_safe_for_null for handleing '<=>' operator
    
    * Add EQ_FOR_NULL to TExprOpcode
    
    * Remove macro definition last backslash

 be/src/exprs/binary_predicate.cpp                  | 146 ++++++++++++++++++++-
 be/src/exprs/binary_predicate.h                    |  38 +++++-
 be/src/exprs/in_predicate.cpp                      |   6 +-
 fe/src/main/cup/sql_parser.cup                     |   2 +-
 .../org/apache/doris/analysis/BinaryPredicate.java |  29 +++-
 .../org/apache/doris/analysis/InPredicate.java     |   8 ++
 gensrc/thrift/Opcodes.thrift                       |   1 +
 7 files changed, 215 insertions(+), 15 deletions(-)

commit 97718a35a201825af3c588420caad6cef7cf25cc
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Jul 29 23:05:01 2019 +0800

     Do not get file size in Broker openReader() method (#1560)
    
    The file is already got when listing files.
    Get file size in openReader() again is unnecessary and inefficient.

 be/src/exec/broker_reader.cpp                      | 13 +++---
 be/src/exec/broker_reader.h                        |  7 ++-
 be/src/exec/parquet_scanner.cpp                    |  5 ++-
 .../org/apache/doris/planner/BrokerScanNode.java   | 51 ++++++++++------------
 .../apache/doris/broker/hdfs/BrokerException.java  |  2 +-
 .../doris/broker/hdfs/HDFSBrokerServiceImpl.java   |  5 ---
 gensrc/thrift/PaloBrokerService.thrift             |  2 +-
 gensrc/thrift/PlanNodes.thrift                     |  2 +
 8 files changed, 43 insertions(+), 44 deletions(-)

commit 99836f0d7c44a07a93233947c729439762be3ef2
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Jul 29 15:48:59 2019 +0800

    Modify load docs (#1558)
    
    Make it work with documentation website

 .../load-data/broker-load-manual.md                | 583 ++++++++++++---------
 .../cn/administrator-guide/load-data/index.rst     |   7 +-
 .../load-data/insert-into-manual.md                | 151 +++---
 .../administrator-guide/load-data/load-manual.md   | 203 ++++---
 .../load-data/routine-load-manual.md               |   2 +-
 .../load-data/stream-load-manual.md                | 324 +++++++-----
 .../sql-functions/date-time-functions/timediff.md  |   7 +-
 .../sql-functions/string-functions/split_part.md   |  10 +-
 8 files changed, 698 insertions(+), 589 deletions(-)

commit 011bdcd641f1a603b2b4b9a226605272a4e7191d
Author: Yingchun Lai <405403881@qq.com>
Date:   Mon Jul 29 00:10:44 2019 +0800

    Bump thirdparty's BZIP2 version to 1.0.8 (#1559)

 thirdparty/vars.sh | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 0694b6a6fa6e36cd780c52e36651249436e864b8
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Jul 27 20:17:05 2019 +0800

    Fix bugs of Broker load (#1546)
    
    Use same UUID as query ID and load ID of a load execution plan.
    Each load execution plan has a load ID, and as a plan, there is also a query ID.
    We can use same UUID as query ID and load ID, for tracing the load process more easily.
    
    Change the load ID when retrying a load execution plan.
    When a load execution plan retry, the load ID should be changed, otherwise BE can not
    distinguish the old and new load requests.
    
    Cancel the running loading task when cancelling the broker load.
    When user cancel a broker load, the running loading task should also be cancelled, or
    it may occupies the worker thread for a long time.
    
    Remove the unnecessary query report when doing load execution plan.
    Only the last query report is needed.
    
    Add a new BE config tablet_writer_rpc_timeout_sec.
    It is used for RPC of tablet sink. The default is 600 seconds. which is long enough for flushing
    about 6GB data. The long timeout config will reduce the possibility of encountering fail to send batch error when loading.
    
    Use streaming_load_max_mb instead of mini_load_max_mb in BE config.
    
    Add more logs for tracing a broker load process easily.

 be/src/common/config.h                             | 10 +++-
 be/src/exec/tablet_sink.cpp                        | 13 ++++--
 be/src/exec/tablet_sink.h                          | 30 ++++++++++--
 be/src/http/action/mini_load.cpp                   |  4 +-
 be/src/runtime/plan_fragment_executor.cpp          | 14 ++++++
 be/src/runtime/tablet_writer_mgr.cpp               | 11 ++++-
 be/src/runtime/tablet_writer_mgr.h                 |  3 +-
 be/src/service/internal_service.cpp                |  4 +-
 be/test/exec/tablet_sink_test.cpp                  |  3 ++
 be/test/runtime/tablet_writer_mgr_test.cpp         | 15 +++---
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  8 +++-
 .../doris/load/loadv2/BrokerLoadPendingTask.java   | 21 ++++++---
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 30 +++++++++---
 .../apache/doris/load/loadv2/LoadLoadingTask.java  | 36 +++++++++++----
 .../org/apache/doris/load/loadv2/LoadTask.java     |  1 +
 .../doris/load/loadv2/LoadingTaskPlanner.java      | 20 ++++++--
 .../doris/load/routineload/KafkaTaskInfo.java      | 13 ++----
 .../doris/load/routineload/RoutineLoadJob.java     |  5 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |  1 +
 .../org/apache/doris/planner/OlapTableSink.java    |  4 ++
 .../apache/doris/planner/StreamLoadPlanner.java    | 16 +++----
 .../apache/doris/planner/StreamLoadScanNode.java   |  9 ++--
 .../main/java/org/apache/doris/qe/Coordinator.java |  2 +-
 .../main/java/org/apache/doris/qe/QeProcessor.java |  2 +
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |  9 ++++
 .../apache/doris/service/FrontendServiceImpl.java  |  5 +-
 .../doris/planner/StreamLoadPlannerTest.java       |  6 +--
 .../doris/planner/StreamLoadScanNodeTest.java      | 54 +++++++++++-----------
 gensrc/proto/internal_service.proto                |  1 +
 29 files changed, 242 insertions(+), 108 deletions(-)

commit 8a7fe521d6b6b63864bf9f82129291a35286e44d
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Jul 26 21:32:00 2019 +0800

    Allow the null default in insert into stmt (#1556)
    
    The default value of null is forbidden in insert into stmt while null column has not been mentioned in stmt.
    This is a bug because the unmentioned column has default value. The values should be inserted successfully although the default value is null.
    
    So the column may simply be not assigned default value when the column is not allowed null and the default value of column is null.

 .../main/java/org/apache/doris/analysis/InsertStmt.java   | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit abda544d3c1e9a21f4a466d65d4adcf2f34fbb76
Author: chenhao <510341142@qq.com>
Date:   Fri Jul 26 19:10:04 2019 +0800

    Fix bug that getting compatible type for TIME with other types fails (#1544)

 .../java/org/apache/doris/catalog/ScalarType.java  |   9 +-
 .../main/java/org/apache/doris/catalog/Type.java   | 103 +++++++++++++++------
 2 files changed, 80 insertions(+), 32 deletions(-)

commit 6c8d34fa7063c9fdcac7a646c9f1e6e8b62882fa
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jul 26 11:22:08 2019 +0800

    Fix bug which make BE crash when load HLL type (#1552)

 be/src/olap/schema.h | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e8561d71a6f308631ae1d3105ec60ac7313b2017
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Fri Jul 26 09:47:11 2019 +0800

    Add dict page (#1409)
    
    Add dict encoding page for binary/string type data.
    Construct a dict for original data, and save encoded id instead of
    origin data to save space. If the dict is too big, then will automatically fall
    back to plain encoding.

 be/src/olap/CMakeLists.txt                         |   2 +
 be/src/olap/rowset/segment_v2/binary_dict_page.cpp | 217 ++++++++++++++++++++
 be/src/olap/rowset/segment_v2/binary_dict_page.h   | 128 ++++++++++++
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  13 +-
 be/src/olap/rowset/segment_v2/bitshuffle_page.cpp  |  52 +++++
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  53 ++---
 be/src/olap/rowset/segment_v2/options.h            |  13 +-
 be/src/olap/rowset/segment_v2/rle_page.h           |  14 +-
 be/test/olap/CMakeLists.txt                        |   1 +
 .../rowset/segment_v2/binary_dict_page_test.cpp    | 224 +++++++++++++++++++++
 be/test/olap/test_data/dict_encoding_data.dat      | 100 +++++++++
 run-ut.sh                                          |   1 +
 12 files changed, 767 insertions(+), 51 deletions(-)

commit 000e9cf53c765eee22d751337844da87bc43b147
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jul 25 21:02:32 2019 +0800

     Add administrator guide of load (#1488)
    
    The catalogue of load docs:
    ---- load-manual.md
    ---- broker-load-manual.md
    ---- insert-into-manual.md
    ---- stream-load-manual.md
    
    This commit also changes max/min_stream_load_timeout to max/min_load_timeout.
    The old config named stream_load_timeout means the max timeout suited for all types of load.
    So the config name has been changed.

 .../load-data/broker-load-manual.md                | 377 ++++++++++++++++++++-
 .../load-data/insert-into-manual.md                | 128 +++++++
 .../administrator-guide/load-data/load-manual.md   | 176 ++++++++++
 .../load-data/stream-load-manual.md                | 224 ++++++++++++
 .../cn/sql-reference/sql-statements/insert.md      |  12 -
 .../help/Contents/Data Manipulation/broker_load.md |   5 +-
 .../main/java/org/apache/doris/common/Config.java  |  12 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   2 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |   2 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java |   3 +-
 .../java/org/apache/doris/task/PullLoadTask.java   |   2 +-
 .../doris/transaction/GlobalTransactionMgr.java    |   6 +-
 12 files changed, 905 insertions(+), 44 deletions(-)

commit 473d69e8f8d30403b20ec88acd0540d44338bd17
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jul 25 20:53:41 2019 +0800

    Fix the mistake in docs of rollup (#1551)

 docs/documentation/cn/getting-started/hit-the-rollup.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dbc912d2dfb309ee0e4e2e9b52847a5a8b8c85c3
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Jul 25 10:48:16 2019 +0800

    Unify ColumnSchemaV2 and ColumnSchema to one (#1545)
    
    Currently, we have two versions of ColumnSchema, in this patch, we unify
    these two classes to one class.

 be/src/olap/CMakeLists.txt              |   2 +-
 be/src/olap/aggregate_func.cpp          |   3 +-
 be/src/olap/aggregate_func.h            |   4 +
 be/src/olap/generic_iterators.cpp       |  26 +++---
 be/src/olap/generic_iterators.h         |   2 +-
 be/src/olap/iterators.h                 |   4 +-
 be/src/olap/memtable.cpp                |   2 +-
 be/src/olap/row_block2.cpp              |   4 +-
 be/src/olap/row_block2.h                |  10 +--
 be/src/olap/{schema2.cpp => schema.cpp} |  40 ++++++---
 be/src/olap/schema.h                    | 144 ++++++++++++++++----------------
 be/src/olap/schema2.h                   |  59 -------------
 be/test/olap/generic_iterators_test.cpp |  35 ++------
 13 files changed, 136 insertions(+), 199 deletions(-)

commit 8160232097354e79ea34ff2aa40c21e40d7a0262
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Jul 25 09:16:44 2019 +0800

    Fix miss delete predicate when clone (#1541)
    
    related issue #1539

 be/src/olap/rowset/alpha_rowset_writer.cpp | 8 +++++---
 be/src/olap/rowset/rowset_meta.h           | 2 +-
 2 files changed, 6 insertions(+), 4 deletions(-)

commit e29eceae0a4a638680de0a15d05ca6e07e49f377
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Jul 24 22:17:55 2019 +0800

    Fix the null pointer exception when ReplayOnAborted of txn in broker load (#1543)
    
    The txn attachment maybe null when broker load has been cancelled without attachment.
    The end log of broker load has been record but the callback id of txnState hasn't been removed
    So the callback of txn is executed when log of txn aborted is replayed.

 fe/src/main/java/org/apache/doris/load/loadv2/BrokerLoadJob.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 0805b05d815e23cc9fc74dce7445ba8f647423d2
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jul 24 19:33:30 2019 +0800

    Remove unused FieldInfo (#1540)

 be/src/olap/CMakeLists.txt                         |   1 -
 be/src/olap/decimal12.h                            | 177 ++++++++++
 be/src/olap/field_info.cpp                         | 235 --------------
 be/src/olap/field_info.h                           | 355 ---------------------
 be/src/olap/rowset/column_writer.cpp               |   4 +-
 be/src/olap/schema2.h                              |  13 +-
 be/src/olap/tablet_meta.cpp                        |   2 +-
 be/src/olap/tablet_schema.cpp                      | 218 ++++++++++++-
 be/src/olap/tablet_schema.h                        |   7 +
 be/src/olap/types.h                                |  11 +-
 be/src/olap/uint24.h                               | 125 ++++++++
 be/test/olap/CMakeLists.txt                        |   2 +-
 be/test/olap/aggregate_func_test.cpp               |   3 +-
 .../{field_info_test.cpp => decimal12_test.cpp}    |   2 +-
 be/test/olap/generic_iterators_test.cpp            |  30 +-
 run-ut.sh                                          |   2 +-
 16 files changed, 557 insertions(+), 630 deletions(-)

commit 4f4c8d1824a98e120612ad6f2d4d4494fea09c31
Author: worker24h <xxbzj249@163.com>
Date:   Wed Jul 24 02:53:00 2019 -0500

    Fix Bug: Load fail when we don't specify format type. (#1538)

 .../main/java/org/apache/doris/load/BrokerFileGroup.java  |  6 +++++-
 .../java/org/apache/doris/planner/BrokerScanNode.java     | 15 ++++++++-------
 2 files changed, 13 insertions(+), 8 deletions(-)

commit fde3941185d428d9295eea3134659045a35bbf2b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jul 24 14:48:01 2019 +0800

    Remove unused code (#1537)

 be/src/olap/rowset/alpha_rowset.cpp | 81 -------------------------------------
 be/src/olap/rowset/alpha_rowset.h   | 42 -------------------
 be/src/olap/rowset/rowset.h         | 60 +++++++++------------------
 3 files changed, 19 insertions(+), 164 deletions(-)

commit 7c24bf38bc6e7acf1933fc98230ce6b9e76cf68e
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Jul 24 13:27:21 2019 +0800

    Show load statement support offset (#1531)
    
    Such as `show load order by createtime desc limit 1,2`

 docs/help/Contents/Data Manipulation/manipulation_stmt.md    | 11 ++++++++---
 fe/src/main/java/org/apache/doris/analysis/ShowLoadStmt.java | 11 +++++++++++
 fe/src/main/java/org/apache/doris/qe/ShowExecutor.java       | 11 +++++++++--
 3 files changed, 28 insertions(+), 5 deletions(-)

commit a6f0b5c789244b19ce0d160379dfec2c9394cb0b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jul 24 10:44:38 2019 +0800

    Change RowsetWriter num_rows() return int64_t (#1535)

 be/src/agent/task_worker_pool.cpp          |  2 +-
 be/src/olap/rowset/alpha_rowset_writer.cpp |  2 +-
 be/src/olap/rowset/alpha_rowset_writer.h   |  4 +-
 be/src/olap/rowset/rowset_writer.h         |  2 +-
 be/src/util/CMakeLists.txt                 |  1 +
 be/src/util/date_func.cpp                  | 78 ++++++++++++++++++++++++++++++
 be/src/util/date_func.h                    | 59 ++--------------------
 7 files changed, 88 insertions(+), 60 deletions(-)

commit 9e2b93a8e2243ca4298fe01ba1ed0cb140865fd0
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Wed Jul 24 10:08:39 2019 +0800

    Fix rowset build validate failure (#1532)
    
    The reason for validate failure is the cloned file's names
    may conflict and load segment read file througth cache and
    cache key is file name, so index may read wrong file. The
    solution is load index without use file handle cache.

 be/src/olap/olap_index.cpp                 | 16 ++++++++++++----
 be/src/olap/olap_index.h                   |  2 +-
 be/src/olap/rowset/alpha_rowset.cpp        |  4 ++--
 be/src/olap/rowset/alpha_rowset.h          |  2 +-
 be/src/olap/rowset/alpha_rowset_writer.cpp | 16 +---------------
 be/src/olap/rowset/rowset.h                |  2 +-
 be/src/olap/rowset/segment_group.cpp       |  4 ++--
 be/src/olap/rowset/segment_group.h         |  2 +-
 be/src/olap/snapshot_manager.cpp           |  9 ++++-----
 9 files changed, 25 insertions(+), 32 deletions(-)

commit 68782be7a6f015355d4d2539cda98f5b81ab4a0a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jul 24 10:02:35 2019 +0800

    Refactor storage aggregate framework (#1529)
    
    Add AggregateInfo to enclose all functions that used to aggregate value
    column.

 be/src/olap/aggregate_func.cpp       |  62 +++---
 be/src/olap/aggregate_func.h         | 363 +++++++++++++++++++--------------
 be/src/olap/field.cpp                |   3 +-
 be/src/olap/field.h                  |   9 +-
 be/src/olap/schema.h                 |  10 +-
 be/src/olap/types.h                  |   2 +-
 be/test/olap/CMakeLists.txt          |   1 +
 be/test/olap/aggregate_func_test.cpp | 384 +++++++++++++++++++++++++++++++++++
 be/test/olap/row_cursor_test.cpp     |  10 +-
 run-ut.sh                            |   1 +
 10 files changed, 640 insertions(+), 205 deletions(-)

commit a88b55e649c22b6ad8811385f007dff344ca3b83
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 23 21:42:44 2019 +0800

    Add more logs and metrics to trace the broker load process (#1530)
    
    The Operator wants to known when the job being scheduled as PENDING
    and LOADING. And how long it takes to finish these sub states.
    
    Also add 2 metrics on BE to monitor the memtable's flush time.
    `memtable_flush_total` and `memtable_flush_duration_us`

 be/src/exec/tablet_sink.cpp                        | 17 +++++++++++++--
 be/src/exec/tablet_sink.h                          |  6 ++++++
 be/src/olap/memtable.cpp                           | 19 ++++++++++------
 be/src/olap/txn_manager.cpp                        |  2 +-
 be/src/runtime/tablet_writer_mgr.cpp               |  9 +++++---
 be/src/service/internal_service.cpp                | 19 ++++++++++------
 be/src/util/doris_metrics.cpp                      |  6 ++++++
 be/src/util/doris_metrics.h                        |  3 +++
 .../java/org/apache/doris/catalog/Catalog.java     |  2 +-
 .../main/java/org/apache/doris/common/Config.java  | 21 ++++++++++++------
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  4 ++++
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |  5 ++---
 .../org/apache/doris/load/loadv2/LoadTask.java     |  2 +-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  6 ++++--
 .../org/apache/doris/planner/BrokerScanNode.java   | 25 ++++++++++++++++------
 .../main/java/org/apache/doris/qe/QeProcessor.java |  3 ++-
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |  8 ++++---
 .../apache/doris/service/FrontendServiceImpl.java  |  2 +-
 gensrc/proto/internal_service.proto                |  1 +
 19 files changed, 115 insertions(+), 45 deletions(-)

commit 69040572fb0644b6cc397aeb191347e78c2c4ee6
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 23 15:48:45 2019 +0800

    Use different ID instead of table ID for base index of an OLAP table (#1524)

 be/src/exec/tablet_sink.cpp                        |  5 ++--
 .../apache/doris/alter/SchemaChangeHandler.java    | 16 +++++------
 .../org/apache/doris/alter/SchemaChangeJob.java    |  6 ++--
 .../org/apache/doris/analysis/DescribeStmt.java    | 11 ++++++--
 .../java/org/apache/doris/backup/RestoreJob.java   |  2 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 24 ++++++++--------
 .../java/org/apache/doris/catalog/OlapTable.java   | 33 ++++++++++++++++++----
 .../apache/doris/catalog/TabletInvertedIndex.java  |  4 +++
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../apache/doris/common/proc/IndexInfoProcDir.java |  4 +--
 .../org/apache/doris/analysis/AccessTestUtil.java  |  3 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |  1 +
 13 files changed, 75 insertions(+), 38 deletions(-)

commit c34b35e6c4043a1f3e248cc8f90aea5d99843f30
Author: yiguolei <yiguolei@baidu.com>
Date:   Tue Jul 23 15:16:22 2019 +0800

    Add ALTER_TABLET task in be (#1497)
    
    This a for the new implementation of alter table process.

 be/src/agent/agent_server.cpp                 |   1 +
 be/src/agent/task_worker_pool.cpp             |  35 ++--
 be/src/agent/task_worker_pool.h               |   2 +-
 be/src/olap/CMakeLists.txt                    |   1 +
 be/src/olap/schema_change.cpp                 | 231 +++++++++++++++++++++++++-
 be/src/olap/schema_change.h                   |  10 +-
 be/src/olap/tablet_manager.cpp                |  15 +-
 be/src/olap/task/engine_alter_tablet_task.cpp |  64 +++++++
 be/src/olap/task/engine_alter_tablet_task.h   |  49 ++++++
 gensrc/thrift/Types.thrift                    |   3 +-
 10 files changed, 392 insertions(+), 19 deletions(-)

commit 4aedaea84e35a51bb987fa62e217888a68158efd
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Jul 23 13:42:40 2019 +0800

    Support TIME type and timediff function (#1505)

 be/src/common/daemon.cpp                           |  2 +
 be/src/exprs/CMakeLists.txt                        |  1 +
 be/src/exprs/anyval_util.cpp                       |  2 +
 be/src/exprs/anyval_util.h                         |  1 +
 be/src/exprs/expr.cpp                              |  5 +-
 be/src/exprs/expr_context.cpp                      |  1 +
 be/src/exprs/literal.cpp                           |  1 +
 be/src/exprs/scalar_fn_call.cpp                    |  3 +-
 be/src/exprs/time_operators.cpp                    | 75 ++++++++++++++++++++++
 be/src/exprs/time_operators.h                      | 48 ++++++++++++++
 be/src/exprs/timestamp_functions.cpp               | 12 ++--
 be/src/exprs/timestamp_functions.h                 |  2 +-
 be/src/runtime/primitive_type.cpp                  |  9 +++
 be/src/runtime/primitive_type.h                    |  6 +-
 be/src/runtime/raw_value.cpp                       |  1 +
 be/src/runtime/result_writer.cpp                   |  8 +++
 be/src/runtime/types.h                             |  1 +
 be/src/util/date_func.h                            | 16 +++++
 be/src/util/symbols_util.cpp                       |  1 +
 be/test/exprs/timestamp_functions_test.cpp         | 16 +++++
 .../sql-functions/date-time-functions/datediff.md  |  4 +-
 .../sql-functions/date-time-functions/timediff.md  | 46 +++++++++++++
 fe/src/main/cup/sql_parser.cup                     |  4 +-
 .../org/apache/doris/analysis/ArithmeticExpr.java  |  2 +-
 .../java/org/apache/doris/analysis/CastExpr.java   |  6 +-
 .../java/org/apache/doris/analysis/IntLiteral.java |  1 -
 .../java/org/apache/doris/catalog/Function.java    |  2 +
 .../org/apache/doris/catalog/PrimitiveType.java    | 27 ++++++++
 .../org/apache/doris/catalog/ScalarFunction.java   |  1 +
 .../java/org/apache/doris/catalog/ScalarType.java  |  5 ++
 .../main/java/org/apache/doris/catalog/Type.java   | 11 ++++
 .../org/apache/doris/common/util/TimeUtils.java    |  4 ++
 .../java/org/apache/doris/rewrite/FEFunctions.java |  5 ++
 gensrc/script/doris_builtins_functions.py          |  2 +-
 gensrc/script/gen_functions.py                     |  3 +
 gensrc/script/gen_opcodes.py                       |  1 +
 gensrc/thrift/Types.thrift                         |  3 +-
 37 files changed, 318 insertions(+), 20 deletions(-)

commit 221cd2e103b610e775b1f9f1c15ea4bfaf0e1f2f
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 23 08:48:23 2019 +0800

    Fix bug that user with LOAD_PRIV can see load job by SHOW LOAD stmt (#1528)
    
    User should has LOAD_PRIV to use SHOW LOAD stmt, not SHOW_PRIV.

 fe/src/main/java/org/apache/doris/load/Load.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0c8e91adf4c7020f0a32363ebe3ba1f0a3fcaced
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Jul 22 14:35:11 2019 +0800

    Add storage rowwise iterator (#1515)
    
    Use RowwiseIterator to uniform all data fetch in storage engine.
    All objects in storage engine can be read in iterator format.
    For example: Segment, Rowset.
    
    This patch implement two generic iterators: UnionRowwiseIterator,
    MergeRowwiseIterator. These two class will add iterator as its inputs.
    
    To implement iterators, we define a new class RowBlockV2, all data read
    from iterator is in this format. We define a new class other than use
    old version's RowBlock is because we want to keep old code work
    normally.

 be/src/common/status.h                  |   1 +
 be/src/olap/CMakeLists.txt              |   3 +
 be/src/olap/column_block.h              |  11 +-
 be/src/olap/field_info.h                |   2 +-
 be/src/olap/generic_iterators.cpp       | 346 ++++++++++++++++++++++++++++++++
 be/src/olap/generic_iterators.h         |  43 ++++
 be/src/olap/iterators.h                 |  53 +++++
 be/src/olap/row_block2.cpp              | 113 +++++++++++
 be/src/olap/row_block2.h                | 113 +++++++++++
 be/src/olap/schema2.cpp                 |  47 +++++
 be/src/olap/schema2.h                   |  60 ++++++
 be/src/olap/types.cpp                   |   1 +
 be/src/olap/types.h                     | 156 +++++++-------
 be/test/olap/CMakeLists.txt             |   1 +
 be/test/olap/generic_iterators_test.cpp | 187 +++++++++++++++++
 run-ut.sh                               |   1 +
 16 files changed, 1067 insertions(+), 71 deletions(-)

commit cd7ab5af0b7f6482fa9cdc0f9293c47f8b628651
Author: WingC <1018957763@qq.com>
Date:   Sun Jul 21 23:11:56 2019 +0800

    Fix variable arguments bug in UDAF (#1523)

 .../java/org/apache/doris/analysis/CreateFunctionStmt.java |  4 ++--
 .../java/org/apache/doris/catalog/AggregateFunction.java   | 14 ++++++++++----
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 7b019ab37f3f63b8a81a20171bd2141208c167b4
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jul 19 18:19:23 2019 +0800

    Fix bug that WrapperField does not consider HLL column type when creating (#1514)
    
    This bug may cause BE crash when handling HLL column in some process.
    This bug is introduced by code merge. Version 0.10 does not has this bug.

 be/src/olap/wrapper_field.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6e1ccbc542581b6d72c7b7e3c7a807ac5ee6aecf
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jul 19 18:16:50 2019 +0800

    Fix index.rst file for aggregation-function SQL reference docs (#1518)

 .../cn/sql-reference/sql-functions/aggregate-functions/index.rst  | 8 ++++++++
 docs/documentation/cn/sql-reference/sql-functions/index.rst       | 1 +
 2 files changed, 9 insertions(+)

commit 74eb43206d984f78ece35d9f4e24c23adf8fc145
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Fri Jul 19 17:03:19 2019 +0800

    Fix segment group add zone check bug and remove unused meta log (#1513)

 be/src/olap/olap_meta.cpp            | 1 -
 be/src/olap/rowset/segment_group.cpp | 4 ++--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 227af49331f9c54573543e6ff4aea4c23377ae03
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri Jul 19 14:32:58 2019 +0800

    Fix rollup bug when init RowCursor in MergeContext (#1510)
    
    When doing rollup, seek_columns equals to the complete set of tablet's columns.
    There is no necessity to set it.
    Related to commit 36df6ebe4e5f0abd3f07c1e454710590f1de23c7

 be/src/olap/rowset/alpha_rowset_reader.cpp | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 6c1f95c3a0555757714f7100b03292a15650c8ce
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jul 19 10:30:44 2019 +0800

    Fix bug that BE may crash when closing OlapTableSink (#1507)
    
    The `_profile` in OlapTableSink may not be initialized if `prepare()`
    method is not called. So when close the OlapTableSink, we should
    check if `_profile` is initialized.

 be/src/exec/tablet_sink.cpp | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 556299aae9da1d17611e532710da5f760143d993
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jul 19 09:36:01 2019 +0800

    Remove query status report from BE when query is cancelled normally (#1489)
    
    When query result reach limit, the Coordinator in FE will send a cancel
    request to BE to cancel the query. And when being cancelled, BE will report
    query status to FE for debug purpose. But actually it is not necessary
    and will generate too many logs.
    
    So I add a CancelReason to distinguish the difference between 'normally'
    cancellation and 'internal error' cancellation. if 'normally' cancelled,
    no status will be reported from BE.
    
    When query reach limit, or user cancel it actively, it is being cancelled 'normally'.
    Otherwise, the query is cancelled due to internal error, which will need
    a report from BE.

 be/src/runtime/fragment_mgr.cpp                    | 11 ++--
 be/src/runtime/fragment_mgr.h                      |  6 +-
 be/src/runtime/plan_fragment_executor.cpp          |  5 ++
 be/src/runtime/plan_fragment_executor.h            |  8 +++
 be/src/service/internal_service.cpp                | 11 +++-
 .../main/java/org/apache/doris/qe/Coordinator.java | 72 ++++++++++++----------
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |  3 +-
 .../org/apache/doris/rpc/BackendServiceProxy.java  |  4 +-
 gensrc/proto/internal_service.proto                |  8 +++
 9 files changed, 85 insertions(+), 43 deletions(-)

commit 1f3f3f76a28e32bf3b59c0f064a582c6f857b7a2
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jul 18 23:52:12 2019 +0800

    Fix the duplicated request bug of mini load (#1504)
    
    The function of miniLoadBegin will return the txn_id.
    If the backend sends the duplicated request to frontend, frontend will return the txn_id which was created by the same mini load.
    
    The issue is that frontend returns the txn_id when the last same request hasn't been begun the txn.
    The frontend returns the zero which is initialized txn_id and the be could not execute the load plan with a error txn_id.
    
    The commit conbines the `createLoadJob` and `execute` together in the write lock. It protects the atomicity of `create` and `beginTxn`.
    So the duplicated request cannot get the txn id before the last same request is finished.

 .../doris/common/DuplicatedRequestException.java   |  9 ++++++++-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  4 ++--
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 22 +++++++++++++---------
 .../org/apache/doris/load/loadv2/LoadManager.java  | 18 +++++++++++-------
 .../org/apache/doris/load/loadv2/MiniLoadJob.java  |  1 -
 .../apache/doris/service/FrontendServiceImpl.java  |  6 ++++--
 .../doris/load/loadv2/BrokerLoadJobTest.java       |  2 +-
 7 files changed, 39 insertions(+), 23 deletions(-)

commit ca480914dece9f31c7d3a079b2343b528e2e4a93
Author: chenhao <510341142@qq.com>
Date:   Thu Jul 18 19:17:38 2019 +0800

    Fix bug that single partition table get wrong partition type (#1503)

 fe/src/main/java/org/apache/doris/catalog/OlapTable.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36df6ebe4e5f0abd3f07c1e454710590f1de23c7
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Jul 18 18:06:18 2019 +0800

    Fix rollup bug when init RowCursor (#1502)
    
    When doing rollup, seek_columns equals to the complete set of tablet's columns.
    There is no necessity to set it.

 be/src/olap/rowset/alpha_rowset_reader.cpp | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 41499061aca27b91cfc612633f5ce7397602481a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Jul 18 12:24:41 2019 +0800

    Refactor types.h to reduce code and add UT (#1498)

 be/src/olap/field.h                 |   1 -
 be/src/olap/row_cursor.h            |   6 -
 be/src/olap/types.cpp               |   1 -
 be/src/olap/types.h                 | 636 +++++++-----------------------------
 be/src/olap/wrapper_field.h         |   4 -
 be/test/olap/CMakeLists.txt         |   1 +
 be/test/olap/row_cursor_test.cpp    |  21 --
 be/test/olap/storage_types_test.cpp | 151 +++++++++
 run-ut.sh                           |   1 +
 9 files changed, 277 insertions(+), 545 deletions(-)

commit 24592e11248a217197085421e53c7775ae19fcf0
Author: kangpinghuang <kangpinghuang@126.com>
Date:   Thu Jul 18 11:24:41 2019 +0800

    Add log to trace writer validate failure (#1496)
    
    AlphaRowsetWriter validate rowset failed when build rowset
    because rowset's num_rows is not equal to segment groups'
    num_rows when add_rowset api is called. So add some log to
    trace the process to debug the problems. The logs will be
    deleted in the future.

 be/src/olap/rowset/alpha_rowset.h          |  4 ++++
 be/src/olap/rowset/alpha_rowset_writer.cpp | 18 ++++++++++++++++--
 be/src/olap/snapshot_manager.cpp           |  4 ++++
 3 files changed, 24 insertions(+), 2 deletions(-)

commit 755b12cd7573d14aaba7a1aee0d9a145a35548a4
Author: yiguolei <yiguolei@baidu.com>
Date:   Wed Jul 17 14:07:56 2019 +0800

    Add partition id to tablet meta in be (#1490)
    
    FE uses partition_id to publish version. BE should check whether all tablets related with this partition have the version. But Tablet in BE does not have partition id in its metadata. So that BE could not check it.
    
    This patch will add partition id to tablet meta during report task.
    Sync at most 10k tablets during set tablet meta.

 be/src/agent/agent_server.cpp                      | 16 +++++
 be/src/agent/agent_server.h                        |  1 +
 be/src/agent/task_worker_pool.cpp                  | 57 ++++++++++++++++++
 be/src/agent/task_worker_pool.h                    |  4 +-
 be/src/olap/tablet_manager.cpp                     |  1 +
 be/src/olap/tablet_manager.h                       |  3 +
 .../apache/doris/catalog/TabletInvertedIndex.java  | 15 ++++-
 .../org/apache/doris/master/ReportHandler.java     | 25 +++++++-
 .../java/org/apache/doris/task/AgentBatchTask.java | 10 ++++
 .../doris/task/UpdateTabletMetaInfoTask.java       | 69 ++++++++++++++++++++++
 gensrc/thrift/AgentService.thrift                  | 13 +++-
 gensrc/thrift/MasterService.thrift                 |  1 +
 gensrc/thrift/Types.thrift                         |  3 +-
 13 files changed, 211 insertions(+), 7 deletions(-)

commit 2551248a529e65029152bc58631a51972f15c691
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 16 19:25:18 2019 +0800

     Support grant GRANT_PRIV on database or table level (#1472)
    
    Currently, GRANT_PRIV can only be granted on global level, which means
    it can only be granted on *.*. Grant it on db.* or db.tbl are not allowed.
    
    This will not be able to meet the requirement to create a user who has privilege
    to grant privileges to other users on specified database or table, such as:
    
    GRANT SELECT_PRIV ON db1.* TO cmy@'%';
    
    So I extend the range of GRANT_PRIV. User can now grant GRANT_PRIV on
    database or even table level, such as:
    
    GRANT GRANT_PRIV ON db1.* TO cmy@'%';
    
    And after being granted, the user cmy@'%' can now grant GRANT_PRIV on db1.* to
    other users.

 .../cn/administrator-guide/privilege.md            |  72 ++++-
 docs/help/Contents/Account Management/help.md      |   1 +
 .../org/apache/doris/analysis/CreateRoleStmt.java  |  10 +
 .../org/apache/doris/analysis/CreateUserStmt.java  |   9 +-
 .../org/apache/doris/analysis/DropRoleStmt.java    |  10 +
 .../org/apache/doris/analysis/DropUserStmt.java    |   5 +-
 .../java/org/apache/doris/analysis/GrantStmt.java  |  66 ++--
 .../java/org/apache/doris/analysis/RevokeStmt.java |  29 +-
 .../apache/doris/mysql/privilege/DbPrivEntry.java  |   2 +-
 .../apache/doris/mysql/privilege/DbPrivTable.java  |  26 ++
 .../org/apache/doris/mysql/privilege/PaloAuth.java |  46 ++-
 .../doris/mysql/privilege/PaloPrivilege.java       |   3 +-
 .../apache/doris/mysql/privilege/PrivBitSet.java   |   7 +-
 .../doris/mysql/privilege/TablePrivEntry.java      |   2 +-
 .../doris/mysql/privilege/TablePrivTable.java      |  26 ++
 .../doris/mysql/privilege/UserPrivTable.java       |  21 ++
 .../apache/doris/analysis/CreateUserStmtTest.java  |  52 ++--
 .../org/apache/doris/mysql/privilege/AuthTest.java |  57 ++--
 .../apache/doris/mysql/privilege/MockedAuth.java   |   2 +
 .../org/apache/doris/mysql/privilege/PrivTest.java | 345 +++++++++++++++++++++
 20 files changed, 663 insertions(+), 128 deletions(-)

commit 4e043e66e223ffd2a9d84fa805f8ccf4a193b5ff
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 16 19:15:41 2019 +0800

    Modify the result json format of mini load (#1487)
    
    Mini load is now using stream load framework. But we should keep the
    mini load return behavior and result json format be same as old.
    So PUBLISH_TIMEOUT error should be treated as OK in mini load.
    
    Also add 2 counters for OlapTableSink profile:
    SerializeBatchTime: time of serializing all row batch.
    WaitInFlightPacketTime: time of waiting last send packet

 be/src/exec/tablet_sink.cpp                        |  8 ++++
 be/src/exec/tablet_sink.h                          |  9 +++++
 be/src/http/action/mini_load.cpp                   | 10 ++---
 be/src/runtime/stream_load/stream_load_context.cpp | 43 ++++++++++++++++++++++
 be/src/runtime/stream_load/stream_load_context.h   |  3 ++
 be/src/runtime/tablet_writer_mgr.cpp               |  3 +-
 6 files changed, 70 insertions(+), 6 deletions(-)

commit a9e8113b824865eb33944c2d987cb912767f9930
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Jul 15 23:00:37 2019 +0800

    Fix heap-buffer-overflow in split_part() function in StringFunctions (#1482)

 be/src/exprs/string_functions.cpp       |  1 -
 be/test/exprs/string_functions_test.cpp |  1 -
 be/test/util/tdigest_test.cpp           | 10 ----------
 3 files changed, 12 deletions(-)

commit 6c246418fb8f819bb8d1a2b70b3fe136c73c44e4
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jul 15 22:14:59 2019 +0800

    Add timeout in stream load planner (#1480)
    
    Mini load timeout needs to be added in plan options.
    The timeout property has been added in request of process put.
    Otherwise, the timeout of mini load is useless.
    
    Add log of label, txn and query id in mini load

 be/src/http/action/mini_load.cpp                               |  4 ++++
 be/src/runtime/stream_load/stream_load_context.h               |  2 +-
 be/src/runtime/stream_load/stream_load_executor.cpp            |  3 +++
 be/src/runtime/tablet_writer_mgr.cpp                           |  1 +
 fe/src/main/java/org/apache/doris/common/Config.java           |  7 ++++---
 fe/src/main/java/org/apache/doris/load/loadv2/MiniLoadJob.java |  4 ++--
 .../main/java/org/apache/doris/planner/StreamLoadPlanner.java  |  7 +++----
 fe/src/main/java/org/apache/doris/task/StreamLoadTask.java     |  9 +++++++++
 .../org/apache/doris/transaction/GlobalTransactionMgr.java     | 10 ++++++++--
 gensrc/thrift/FrontendService.thrift                           |  2 ++
 10 files changed, 37 insertions(+), 12 deletions(-)

commit d61a2daeea2d9e9a5581a5fc84683d8449be6023
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Jul 15 21:59:06 2019 +0800

    Remove unused code (#1483)

 be/src/olap/rowset/alpha_rowset_writer.cpp | 17 -----------------
 be/src/olap/rowset/alpha_rowset_writer.h   |  2 --
 be/src/olap/rowset/rowset_writer.h         |  2 --
 3 files changed, 21 deletions(-)

commit 0d48a3961c5a3e02012485b69fedd8e8992077a0
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Jul 15 21:18:22 2019 +0800

    Refactor Storage Engine (#1478)
    
    NOTE: This patch would modify all Backend's data.
    And this will cause a very long time to restart be.
    So if you want to interferer your product environment,
    you should upgrade backend one by one.
    
    1. Refactoring be is to clarify the structure the codes.
    2. Use unique id to indicate a rowset.
       Nameing rowset with tablet_id and version will lead to
       many conflicts among compaction, clone, restore.
    3. Extract an rowset interface to encapsulate rowsets
       with different format.

 be/CMakeLists.txt                                  |    6 +-
 be/src/agent/CMakeLists.txt                        |    5 +-
 be/src/agent/agent_server.cpp                      |   60 +-
 be/src/agent/agent_server.h                        |    9 +-
 be/src/agent/cgroups_mgr.cpp                       |    6 +-
 be/src/agent/heartbeat_server.cpp                  |    4 +-
 be/src/agent/heartbeat_server.h                    |    4 +-
 be/src/agent/task_worker_pool.cpp                  |  879 +-----
 be/src/agent/task_worker_pool.h                    |   35 +-
 be/src/common/config.h                             |   26 +-
 be/src/exec/CMakeLists.txt                         |    4 +-
 be/src/exec/data_sink.cpp                          |    2 +-
 be/src/exec/olap_meta_reader.cpp                   |    4 +-
 be/src/exec/olap_scan_node.cpp                     |   23 +-
 be/src/exec/olap_scanner.cpp                       |   76 +-
 be/src/exec/olap_scanner.h                         |    6 +-
 be/src/exec/parquet_reader.h                       |    1 -
 .../exec/schema_scanner/schema_tables_scanner.cpp  |    2 +-
 .../exec/{olap_table_info.cpp => tablet_info.cpp}  |    2 +-
 be/src/exec/{olap_table_info.h => tablet_info.h}   |    0
 .../exec/{olap_table_sink.cpp => tablet_sink.cpp}  |    2 +-
 be/src/exec/{olap_table_sink.h => tablet_sink.h}   |    4 +-
 be/src/http/action/checksum_action.cpp             |   11 +-
 be/src/http/action/meta_action.cpp                 |   22 +-
 be/src/http/action/reload_tablet_action.cpp        |    4 +-
 be/src/http/action/restore_tablet_action.cpp       |   28 +-
 be/src/http/action/snapshot_action.cpp             |    5 +-
 be/src/olap/CMakeLists.txt                         |   40 +-
 be/src/olap/aggregate_func.cpp                     |    4 +-
 be/src/olap/aggregate_func.h                       |    1 -
 be/src/olap/base_compaction.cpp                    |  311 +-
 be/src/olap/base_compaction.h                      |   47 +-
 be/src/olap/column_mapping.h                       |    6 +-
 be/src/olap/cumulative_compaction.cpp              |  351 +--
 be/src/olap/cumulative_compaction.h                |   60 +-
 be/src/olap/data_dir.cpp                           | 1060 +++++++
 be/src/olap/{store.h => data_dir.h}                |  118 +-
 be/src/olap/delete_handler.cpp                     |  171 +-
 be/src/olap/delete_handler.h                       |   89 +-
 be/src/olap/delta_writer.cpp                       |  262 +-
 be/src/olap/delta_writer.h                         |   28 +-
 be/src/olap/field.cpp                              |   28 +-
 be/src/olap/field.h                                |    6 +-
 be/src/olap/file_helper.h                          |   38 +-
 be/src/olap/hll.h                                  |    2 -
 be/src/olap/lru_cache.cpp                          |   12 +-
 be/src/olap/lru_cache.h                            |    8 +-
 be/src/olap/memtable.cpp                           |   21 +-
 be/src/olap/memtable.h                             |   10 +-
 be/src/olap/merger.cpp                             |   70 +-
 be/src/olap/merger.h                               |   12 +-
 be/src/olap/olap_common.h                          |  101 +-
 be/src/olap/olap_cond.cpp                          |   69 +-
 be/src/olap/olap_cond.h                            |   47 +-
 be/src/olap/olap_define.h                          |   47 +-
 be/src/olap/olap_engine.cpp                        | 3174 --------------------
 be/src/olap/olap_engine.h                          |  636 ----
 be/src/olap/olap_header.cpp                        | 1128 -------
 be/src/olap/olap_header_manager.cpp                |  177 --
 be/src/olap/olap_header_manager.h                  |   56 -
 be/src/olap/olap_index.cpp                         |   46 +-
 be/src/olap/olap_index.h                           |   11 +-
 be/src/olap/olap_meta.cpp                          |   31 +-
 be/src/olap/olap_meta.h                            |    7 +-
 be/src/olap/olap_server.cpp                        |  132 +-
 be/src/olap/olap_snapshot.cpp                      |  827 -----
 be/src/olap/olap_snapshot_converter.cpp            |  532 ++++
 be/src/olap/olap_snapshot_converter.h              |   86 +
 be/src/olap/olap_table.cpp                         | 2333 --------------
 be/src/olap/olap_table.h                           |  770 -----
 be/src/olap/push_handler.cpp                       | 1611 ++++------
 be/src/olap/push_handler.h                         |  126 +-
 be/src/olap/reader.cpp                             |  429 ++-
 be/src/olap/reader.h                               |   53 +-
 be/src/olap/row_block.cpp                          |   23 +-
 be/src/olap/row_block.h                            |   13 +-
 be/src/olap/row_cursor.cpp                         |  135 +-
 be/src/olap/row_cursor.h                           |   19 +-
 be/src/olap/rowset/CMakeLists.txt                  |   45 +
 be/src/olap/rowset/alpha_rowset.cpp                |  523 ++++
 be/src/olap/rowset/alpha_rowset.h                  |  149 +
 be/src/olap/rowset/alpha_rowset_meta.cpp           |   48 +
 be/src/olap/rowset/alpha_rowset_meta.h             |   44 +
 be/src/olap/rowset/alpha_rowset_reader.cpp         |  346 +++
 be/src/olap/rowset/alpha_rowset_reader.h           |  117 +
 be/src/olap/rowset/alpha_rowset_writer.cpp         |  346 +++
 be/src/olap/rowset/alpha_rowset_writer.h           |   96 +
 be/src/olap/{ => rowset}/bit_field_reader.cpp      |    9 +-
 be/src/olap/{ => rowset}/bit_field_reader.h        |    6 +-
 be/src/olap/{ => rowset}/bit_field_writer.cpp      |    6 +-
 be/src/olap/{ => rowset}/bit_field_writer.h        |    6 +-
 be/src/olap/{ => rowset}/column_data.cpp           |   96 +-
 be/src/olap/{ => rowset}/column_data.h             |   49 +-
 .../column_data_writer.cpp}                        |  157 +-
 .../{data_writer.h => rowset/column_data_writer.h} |   29 +-
 be/src/olap/{ => rowset}/column_reader.cpp         |  199 +-
 be/src/olap/{ => rowset}/column_reader.h           |   18 +-
 be/src/olap/{ => rowset}/column_writer.cpp         |  142 +-
 be/src/olap/{ => rowset}/column_writer.h           |   43 +-
 be/src/olap/rowset/rowset.h                        |  146 +
 be/src/olap/rowset/rowset_id_generator.cpp         |   76 +
 be/src/olap/rowset/rowset_id_generator.h           |   54 +
 be/src/olap/rowset/rowset_meta.h                   |  313 ++
 be/src/olap/rowset/rowset_meta_manager.cpp         |  151 +
 be/src/olap/rowset/rowset_meta_manager.h           |   54 +
 be/src/olap/rowset/rowset_reader.h                 |   60 +
 be/src/olap/rowset/rowset_reader_context.h         |   78 +
 be/src/olap/rowset/rowset_writer.h                 |   71 +
 be/src/olap/rowset/rowset_writer_context.h         |   72 +
 .../olap/{ => rowset}/run_length_byte_reader.cpp   |    6 +-
 be/src/olap/{ => rowset}/run_length_byte_reader.h  |    8 +-
 .../olap/{ => rowset}/run_length_byte_writer.cpp   |    5 +-
 be/src/olap/{ => rowset}/run_length_byte_writer.h  |    6 +-
 .../{ => rowset}/run_length_integer_reader.cpp     |    7 +-
 .../olap/{ => rowset}/run_length_integer_reader.h  |    8 +-
 .../{ => rowset}/run_length_integer_writer.cpp     |    5 +-
 .../olap/{ => rowset}/run_length_integer_writer.h  |    6 +-
 be/src/olap/rowset/segment_group.cpp               | 1014 +++++++
 be/src/olap/{ => rowset}/segment_group.h           |  151 +-
 be/src/olap/{ => rowset}/segment_reader.cpp        |   91 +-
 be/src/olap/{ => rowset}/segment_reader.h          |   83 +-
 be/src/olap/{ => rowset}/segment_writer.cpp        |   69 +-
 be/src/olap/{ => rowset}/segment_writer.h          |   19 +-
 be/src/olap/rowset_factory.cpp                     |   38 +
 .../olap/rowset_factory.h}                         |   24 +-
 be/src/olap/rowset_graph.cpp                       |  267 ++
 be/src/olap/rowset_graph.h                         |   52 +
 be/src/olap/schema.h                               |   13 +-
 be/src/olap/schema_change.cpp                      | 2066 +++++--------
 be/src/olap/schema_change.h                        |  209 +-
 be/src/olap/segment_group.cpp                      |  674 -----
 be/src/olap/snapshot_manager.cpp                   |  618 ++++
 be/src/olap/snapshot_manager.h                     |  115 +
 be/src/olap/storage_engine.cpp                     | 1005 +++++++
 be/src/olap/storage_engine.h                       |  345 +++
 be/src/olap/store.cpp                              |  635 ----
 be/src/olap/tablet.cpp                             |  936 ++++++
 be/src/olap/tablet.h                               |  396 +++
 be/src/olap/tablet_manager.cpp                     | 1370 +++++++++
 be/src/olap/tablet_manager.h                       |  204 ++
 be/src/olap/tablet_meta.cpp                        |  772 +++++
 be/src/olap/tablet_meta.h                          |  319 ++
 be/src/olap/tablet_meta_manager.cpp                |  177 ++
 be/src/olap/tablet_meta_manager.h                  |   61 +
 be/src/olap/tablet_schema.cpp                      |  179 ++
 be/src/olap/tablet_schema.h                        |  112 +
 be/src/olap/task/engine_batch_load_task.cpp        |  382 +++
 .../task/engine_batch_load_task.h}                 |   52 +-
 be/src/olap/task/engine_checksum_task.cpp          |  133 +
 be/src/olap/task/engine_checksum_task.h            |   54 +
 be/src/olap/task/engine_clear_alter_task.cpp       |   76 +
 be/src/olap/task/engine_clear_alter_task.h         |   48 +
 be/src/olap/task/engine_clone_task.cpp             |  849 ++++++
 be/src/olap/task/engine_clone_task.h               |   83 +
 be/src/olap/task/engine_publish_version_task.cpp   |  131 +
 be/src/olap/task/engine_publish_version_task.h     |   43 +
 be/src/olap/task/engine_schema_change_task.cpp     |  118 +
 be/src/olap/task/engine_schema_change_task.h       |   71 +
 be/src/olap/task/engine_storage_migration_task.cpp |  268 ++
 be/src/olap/task/engine_storage_migration_task.h   |   60 +
 be/src/olap/task/engine_task.h                     |   44 +
 be/src/olap/txn_manager.cpp                        |  474 +++
 be/src/olap/txn_manager.h                          |  136 +
 be/src/olap/types.cpp                              |    2 +-
 be/src/olap/utils.cpp                              |   90 +-
 be/src/olap/utils.h                                |   87 +-
 be/src/olap/wrapper_field.cpp                      |   18 +-
 be/src/olap/wrapper_field.h                        |    3 +-
 be/src/runtime/exec_env.h                          |    8 +-
 be/src/runtime/exec_env_init.cpp                   |    2 +-
 be/src/runtime/load_path_mgr.cpp                   |    2 +-
 be/src/runtime/result_buffer_mgr.cpp               |   10 +-
 be/src/runtime/result_buffer_mgr.h                 |    3 +-
 be/src/runtime/snapshot_loader.cpp                 |  198 +-
 be/src/runtime/snapshot_loader.h                   |    4 +-
 be/src/runtime/tablet_writer_mgr.cpp               |    6 +-
 be/src/runtime/tmp_file_mgr.cc                     |    3 +-
 be/src/runtime/vectorized_row_batch.cpp            |   24 +-
 be/src/runtime/vectorized_row_batch.h              |    4 +-
 be/src/service/backend_service.cpp                 |    4 +-
 be/src/service/doris_main.cpp                      |    8 +-
 be/src/tools/meta_tool.cpp                         |  234 +-
 be/src/util/doris_metrics.cpp                      |    2 -
 be/src/util/doris_metrics.h                        |    1 -
 be/src/util/once.h                                 |   61 +
 be/src/util/uid_util.h                             |   36 +
 be/test/agent/CMakeLists.txt                       |    2 -
 be/test/agent/agent_server_test.cpp                |   24 +-
 be/test/agent/heartbeat_server_test.cpp            |   22 -
 be/test/agent/mock_pusher.h                        |    1 -
 be/test/agent/pusher_test.cpp                      |  278 --
 be/test/agent/task_worker_pool_test.cpp            | 1913 ------------
 be/test/exec/CMakeLists.txt                        |    4 +-
 be/test/exec/new_olap_scan_node_test.cpp           |   24 +-
 ...ap_table_info_test.cpp => tablet_info_test.cpp} |    2 +-
 ...ap_table_sink_test.cpp => tablet_sink_test.cpp} |    2 +-
 be/test/olap/CMakeLists.txt                        |    8 +-
 be/test/olap/bit_field_test.cpp                    |    4 +-
 be/test/olap/column_reader_test.cpp                | 1016 +++----
 be/test/olap/comparison_predicate_test.cpp         |  223 +-
 be/test/olap/delete_handler_test.cpp               |  523 ++--
 be/test/olap/delta_writer_test.cpp                 |  328 +-
 be/test/olap/in_list_predicate_test.cpp            |  141 +-
 be/test/olap/mock_command_executor.h               |   24 +-
 be/test/olap/null_predicate_test.cpp               |  128 +-
 be/test/olap/olap_header_manager_test.cpp          |  120 -
 be/test/olap/olap_meta_test.cpp                    |    6 +-
 be/test/olap/olap_reader_test.cpp                  |  325 +-
 be/test/olap/olap_snapshot_converter_test.cpp      |  242 ++
 be/test/olap/row_block_test.cpp                    |  348 +--
 be/test/olap/row_cursor_test.cpp                   |  444 +--
 be/test/olap/rowset/alpha_rowset_test.cpp          |  266 ++
 be/test/olap/rowset/rowset_meta_manager_test.cpp   |  112 +
 be/test/olap/rowset/rowset_meta_test.cpp           |  197 ++
 be/test/olap/run_length_byte_test.cpp              |    6 +-
 be/test/olap/run_length_integer_test.cpp           |    4 +-
 be/test/olap/stream_index_test.cpp                 |    6 +-
 be/test/olap/tablet_meta_manager_test.cpp          |  113 +
 be/test/olap/tablet_mgr_test.cpp                   |  220 ++
 .../15007_2_2_6029593056193292005_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_2_2_6029593056193292005_0_0.idx          |  Bin 0 -> 229 bytes
 .../15007_3_3_7368336314652758588_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_3_3_7368336314652758588_0_0.idx          |  Bin 0 -> 229 bytes
 .../15007_4_4_9172793704282665912_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_4_4_9172793704282665912_0_0.idx          |  Bin 0 -> 229 bytes
 .../15007_2_2_6029593056193292005_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_2_2_6029593056193292005_0_0.idx          |  Bin 0 -> 229 bytes
 .../15007_3_3_7368336314652758588_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_3_3_7368336314652758588_0_0.idx          |  Bin 0 -> 229 bytes
 .../15007_4_4_9172793704282665912_0_0.dat          |  Bin 0 -> 4186 bytes
 .../15007_4_4_9172793704282665912_0_0.idx          |  Bin 0 -> 229 bytes
 .../data/0/15007/368169781/olap_header.json        |  676 +++++
 .../0/15007/368169781/pending_delta/10007_0_0.dat  |  Bin 0 -> 4186 bytes
 .../0/15007/368169781/pending_delta/10007_0_0.idx  |  Bin 0 -> 229 bytes
 .../0/15007/368169781/pending_delta/10008_0_0.dat  |  Bin 0 -> 4186 bytes
 .../0/15007/368169781/pending_delta/10008_0_0.idx  |  Bin 0 -> 229 bytes
 be/test/olap/test_data/header.txt                  |  292 +-
 be/test/olap/test_data/rowset.json                 |   75 +
 be/test/olap/test_data/rowset_meta.json            |   49 +
 be/test/olap/test_data/rowset_meta2.json           |   12 +
 be/test/olap/txn_manager_test.cpp                  |  259 ++
 be/test/olap/vectorized_olap_reader_test.cpp       |   82 +-
 be/test/runtime/snapshot_loader_test.cpp           |    4 +-
 be/test/util/doris_metrics_test.cpp                |    8 -
 be/test/util/uid_util_test.cpp                     |   27 +-
 .../java/org/apache/doris/alter/RollupHandler.java |    6 +-
 .../org/apache/doris/analysis/StringLiteral.java   |    2 +-
 .../main/java/org/apache/doris/catalog/Table.java  |    5 +-
 .../java/org/apache/doris/clone/TabletChecker.java |    6 +
 .../org/apache/doris/clone/TabletScheduler.java    |    7 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   21 -
 .../java/org/apache/doris/master/MasterImpl.java   |    8 +-
 .../org/apache/doris/master/ReportHandler.java     |    3 +-
 .../apache/doris/planner/SingleNodePlanner.java    |    6 +-
 .../java/org/apache/doris/task/AgentBatchTask.java |   10 -
 .../org/apache/doris/task/CancelDeleteTask.java    |   53 -
 .../org/apache/doris/task/CreateReplicaTask.java   |    2 +
 .../org/apache/doris/task/CreateRollupTask.java    |    2 +
 .../org/apache/doris/task/PublishVersionTask.java  |    5 +-
 .../org/apache/doris/task/SchemaChangeTask.java    |    2 +
 .../java/org/apache/doris/task/SnapshotTask.java   |    1 +
 .../doris/transaction/GlobalTransactionMgr.java    |    4 +-
 .../doris/transaction/PublishVersionDaemon.java    |   21 +-
 .../java/org/apache/doris/task/AgentTaskTest.java  |   11 -
 gensrc/proto/olap_common.proto                     |   30 +-
 gensrc/proto/olap_file.proto                       |  217 +-
 gensrc/thrift/AgentService.thrift                  |    8 +
 gensrc/thrift/MetricDefs.thrift                    |   22 +-
 gensrc/thrift/Types.thrift                         |    2 +-
 run-ut.sh                                          |   23 +-
 270 files changed, 23643 insertions(+), 21444 deletions(-)

commit ae6f2d99c51c8eb5dae2f46830096e1e08799df3
Author: WingC <1018957763@qq.com>
Date:   Sat Jul 13 23:57:14 2019 +0800

    Fix bug when use SELECT * FROM TABLE LIMIT 1 (#1469)

 be/src/exec/olap_scanner.cpp | 5 ++++-
 be/src/exec/olap_scanner.h   | 3 ++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 5be3e7332527a9967cef3f507595d694d7a6b891
Author: zhongyun2019 <52855164+zhongyun2019@users.noreply.github.com>
Date:   Sat Jul 13 21:27:17 2019 +0800

    Build snappy with optimize-options enabled (#1467)

 thirdparty/build-thirdparty.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aff1559c4dc875a7e7ece68d2f7ac9026749560a
Author: worker24h <xxbzj249@163.com>
Date:   Fri Jul 12 02:23:13 2019 -0500

    FixBug: if columns of doris table less than parquet file columns , BE will be crash (#1464)

 be/src/exec/parquet_reader.cpp | 31 +++++++++++++++++++++++--------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit 863eb83cb176ec9f9ed0c43cc19d61d3d3af2fa8
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jul 12 13:34:05 2019 +0800

    Delete deprecated code in Frontend (#1463)
    
    1. Delete Clone/CloneJob/CloneChecker
        The old clone framework is deprecated, using TabletChecker/TabletScheduler instead
    2. Delete old BackupJob/RestoreJob
    3. Delete OP_DROP_USER edit log
    4. Delete CLONE_DONE edit log

 .../java/org/apache/doris/alter/RollupHandler.java |    8 -
 .../apache/doris/backup/AbstractBackupJob_D.java   |  245 ----
 .../java/org/apache/doris/backup/BackupJob_D.java  |  945 -------------
 .../java/org/apache/doris/backup/RestoreJob_D.java |  887 ------------
 .../java/org/apache/doris/catalog/Catalog.java     |   88 +-
 fe/src/main/java/org/apache/doris/clone/Clone.java |  636 ---------
 .../java/org/apache/doris/clone/CloneChecker.java  | 1493 --------------------
 .../main/java/org/apache/doris/clone/CloneJob.java |  174 ---
 .../main/java/org/apache/doris/common/Config.java  |   11 +-
 .../apache/doris/common/proc/CloneProcNode.java    |   67 -
 .../org/apache/doris/common/proc/JobsProcDir.java  |   25 +-
 .../org/apache/doris/journal/JournalEntity.java    |   31 -
 .../doris/journal/local/LocalJournalCursor.java    |   19 -
 .../java/org/apache/doris/master/MasterImpl.java   |   16 +-
 .../org/apache/doris/master/ReportHandler.java     |    7 -
 .../java/org/apache/doris/persist/EditLog.java     |   53 -
 .../org/apache/doris/persist/OperationType.java    |   20 -
 .../java/org/apache/doris/clone/CloneTest.java     |  296 ----
 18 files changed, 15 insertions(+), 5006 deletions(-)

commit 734032d91755ece7228e4bd47a9be547e8464b54
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jul 11 19:29:18 2019 +0800

    Fix the error unit of create timestamp in mini load (#1460)
    
    The unit of old create timestamp is micros while the unit of create timestamp in fe is millisecond.

 be/src/http/action/mini_load.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2fd2b714c1fe64db68ecad4efd2661ddf122f51a
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Jul 11 16:45:45 2019 +0800

    Add aggregate function doc (#1434)

 .../sql-functions/aggregate-functions/avg.md       | 30 +++++++++++++++++++
 .../sql-functions/aggregate-functions/count.md     | 34 ++++++++++++++++++++++
 .../aggregate-functions/count_distinct.md          | 20 +++++++++++++
 .../aggregate-functions/group_concat.md            | 21 +++++++++++++
 .../aggregate-functions/hll_union_agg.md           | 25 ++++++++++++++++
 .../sql-functions/aggregate-functions/max.md       | 19 ++++++++++++
 .../sql-functions/aggregate-functions/min.md       | 19 ++++++++++++
 .../sql-functions/aggregate-functions/ndv.md       | 21 +++++++++++++
 .../aggregate-functions/percentile_approx.md       | 21 +++++++++++++
 .../sql-functions/aggregate-functions/stddev.md    | 26 +++++++++++++++++
 .../aggregate-functions/stddev_samp.md             | 19 ++++++++++++
 .../sql-functions/aggregate-functions/sum.md       | 19 ++++++++++++
 .../sql-functions/aggregate-functions/var_samp.md  | 19 ++++++++++++
 .../sql-functions/aggregate-functions/variance.md  | 26 +++++++++++++++++
 14 files changed, 319 insertions(+)

commit a7390c03f487359fe42e61a5cd6025272eabeb10
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Jul 11 16:44:43 2019 +0800

    Add percentile_approx aggregate function (#1432)

 be/src/exprs/aggregate_functions.cpp               |  77 +++
 be/src/exprs/aggregate_functions.h                 |  13 +
 be/src/util/tdigest.h                              | 750 +++++++++++++++++++++
 be/test/exprs/CMakeLists.txt                       |   1 +
 be/test/exprs/percentile_approx_test.cpp           | 121 ++++
 be/test/util/CMakeLists.txt                        |   1 +
 be/test/util/tdigest_test.cpp                      | 260 +++++++
 .../apache/doris/analysis/FunctionCallExpr.java    |  10 +
 .../java/org/apache/doris/catalog/FunctionSet.java |  10 +
 run-ut.sh                                          |   2 +
 10 files changed, 1245 insertions(+)

commit 01a3bea4564aebf4dd82499f1643508f90463813
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jul 11 16:38:39 2019 +0800

    Add new CreateTabletReq and AlterTabletReqV2 thrift struct (#1459)
    
    This is for developing new alter table process.

 gensrc/thrift/AgentService.thrift | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit b9c79d4b1b4fac4dd5d95a1df558799080400d76
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Jul 11 16:04:36 2019 +0800

    Fix importing non-parquet format file causing be crash (#1454)

 be/src/exec/parquet_reader.cpp  | 61 +++++++++++++++++++++------------------
 be/src/exec/parquet_scanner.cpp | 63 +++++++++++++++++++++--------------------
 be/src/exec/parquet_scanner.h   |  3 +-
 3 files changed, 67 insertions(+), 60 deletions(-)

commit 81f062dd4cc34bd91f8e0874117051439a4bb890
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Thu Jul 11 12:29:19 2019 +0800

    Bug-fix: query es table would fail when thrift_port configuration not set (#1455)

 .../org/apache/doris/external/EsShardRouting.java  |  9 ++++--
 .../java/org/apache/doris/es/EsStateStoreTest.java | 35 +---------------------
 2 files changed, 8 insertions(+), 36 deletions(-)

commit 941dec215ba33d2fbbdc4d9c306c69dce91c5a55
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Jul 11 11:09:08 2019 +0800

    Add utc_timestamp function (#1456)

 be/src/exprs/timestamp_functions.cpp               | 12 +++++++++++
 be/src/exprs/timestamp_functions.h                 |  1 +
 .../date-time-functions/utc_timestamp.md           | 24 ++++++++++++++++++++++
 gensrc/script/doris_builtins_functions.py          |  2 ++
 4 files changed, 39 insertions(+)

commit e27d2fcfb1da185c52626566af203308ab896602
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jul 11 10:13:07 2019 +0800

    Fix bug of wrong judgement for Hll type column's default value (#1458)
    
    Fix the bug that user may receive '"Hll can not set default value' error
    when creating table with Hll type columns.

 fe/src/main/java/org/apache/doris/analysis/ColumnDef.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 51c92a0bece72fdb535a238448518ca2a69c8973
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jul 11 09:46:38 2019 +0800

    Validate the UTF-8 encode of loading data (#1457)
    
    Currently, Doris only support UTF-8 encoded data. All data will be
    shown to user in UTF-8 format. So if data loaded in Doris does not
    UTF-8 encoded, user will see garbled data when querying.
    
    I introduce a fast UTF-8 validator from
    
        https://github.com/lemire/fastvalidate-utf-8
    
    This validator is highly optimized that it only takes 0.7 CPU cycles
    to validata a 64k string. And by testing 1GB data load to Doris, the
    validator has no impact on performance.

 be/src/exec/broker_scanner.cpp |  11 +
 be/src/util/simdutf8check.h    | 481 +++++++++++++++++++++++++++++++++++++++++
 2 files changed, 492 insertions(+)

commit 9c96a688c3c366ee96fe8d8d0d8ecf33439fa34f
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jul 10 23:48:29 2019 +0800

    Fix bug that user can set null default value to non-nullable column in create table stmt (#1453)
    
    In create table stmt, column definition `k1 INT NOT NULL DEFAULT NULL`
    should not be allowed

 fe/src/main/cup/sql_parser.cup                     |  9 ++--
 .../java/org/apache/doris/analysis/ColumnDef.java  | 61 +++++++++++++++++-----
 .../apache/doris/alter/SchemaChangeJobTest.java    |  3 +-
 .../doris/analysis/AddColumnsClauseTest.java       |  9 ++--
 .../org/apache/doris/analysis/ColumnDefTest.java   | 17 +++---
 5 files changed, 69 insertions(+), 30 deletions(-)

commit 98bd4b4565d3079365993d35d462f4824d5ef5cf
Author: Candy <1915998056@qq.com>
Date:   Wed Jul 10 09:47:33 2019 +0800

    Add string function split_part (#1451)

 be/src/exprs/string_functions.cpp                  | 59 ++++++++++++++++++++++
 be/src/exprs/string_functions.h                    |  3 ++
 be/test/exprs/string_functions_test.cpp            | 34 +++++++++++++
 .../sql-functions/string-functions/split_part.md   | 42 +++++++++++++++
 gensrc/script/doris_builtins_functions.py          |  2 +
 5 files changed, 140 insertions(+)

commit 615c979727d8481981d06bdcd9743340cead9b32
Author: chenhao <510341142@qq.com>
Date:   Wed Jul 10 09:20:09 2019 +0800

    Fix bug that BE crashes when inserting null value to non-nullable columns (#1447)

 be/src/exec/olap_table_info.cpp |  5 ++++-
 be/src/exec/olap_table_sink.cpp | 15 +++++++++++----
 2 files changed, 15 insertions(+), 5 deletions(-)

commit 67b370a1ed5917c2889f4a8ce137a070dfcb5140
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jul 9 21:52:27 2019 +0800

    Add ColumnBlock (#1450)
    
    Use ColumnBlock to read data from Page.

 be/src/olap/column_block.h                         | 71 ++++++++++++++++++++++
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  7 ++-
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  2 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    |  6 +-
 be/src/olap/rowset/segment_v2/column_reader.h      | 14 ++---
 be/src/olap/rowset/segment_v2/page_decoder.h       |  4 +-
 be/src/olap/rowset/segment_v2/plain_page.h         |  4 +-
 be/src/olap/rowset/segment_v2/rle_page.h           |  4 +-
 be/src/runtime/vectorized_row_batch.h              | 45 --------------
 .../rowset/segment_v2/binary_plain_page_test.cpp   | 30 ++++-----
 .../rowset/segment_v2/bitshuffle_page_test.cpp     | 30 ++++-----
 .../segment_v2/column_reader_writer_test.cpp       | 38 ++++++------
 be/test/olap/rowset/segment_v2/plain_page_test.cpp | 35 +++++------
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   | 27 ++++----
 14 files changed, 174 insertions(+), 143 deletions(-)

commit 645f0a52791d4ecd1e91b4095162a70961cafc53
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Jul 9 20:50:55 2019 +0800

    Persist auth info in LoadJob (#1443)
    
    The new class named 'AuthorizationInfo' is used to save the auth info in jobs.
    The job doesn't need to retrieve the auth info by meta id which maybe throw the exception when db or table has been dropped or renamed.
    The persistence of 'AuthorizationInfo' take effect in META_VERSION 56

 .../apache/doris/catalog/AuthorizationInfo.java    | 100 +++++++++++++++++++
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../java/org/apache/doris/http/BaseAction.java     |  16 +--
 .../apache/doris/http/action/WebBaseAction.java    |   2 +-
 .../doris/http/meta/ColocateMetaService.java       |  10 +-
 .../apache/doris/http/rest/CancelStreamLoad.java   |   2 +-
 .../doris/http/rest/CheckDecommissionAction.java   |   2 +-
 .../apache/doris/http/rest/GetDdlStmtAction.java   |   2 +-
 .../apache/doris/http/rest/GetLoadInfoAction.java  |  25 ++---
 .../apache/doris/http/rest/GetLogFileAction.java   |   2 +-
 .../apache/doris/http/rest/GetStreamLoadState.java |   2 +-
 .../org/apache/doris/http/rest/LoadAction.java     |   2 +-
 .../doris/http/rest/MetaReplayerCheckAction.java   |   2 +-
 .../apache/doris/http/rest/MigrationAction.java    |   2 +-
 .../org/apache/doris/http/rest/MultiAbort.java     |   2 +-
 .../org/apache/doris/http/rest/MultiCommit.java    |   2 +-
 .../java/org/apache/doris/http/rest/MultiDesc.java |   2 +-
 .../java/org/apache/doris/http/rest/MultiList.java |   2 +-
 .../org/apache/doris/http/rest/MultiStart.java     |   2 +-
 .../org/apache/doris/http/rest/MultiUnload.java    |   2 +-
 .../org/apache/doris/http/rest/RestBaseAction.java |  10 +-
 .../org/apache/doris/http/rest/RowCountAction.java |   2 +-
 .../apache/doris/http/rest/SetConfigAction.java    |   2 +-
 .../org/apache/doris/http/rest/ShowProcAction.java |   2 +-
 .../doris/http/rest/StorageTypeCheckAction.java    |   2 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  55 +++++++++--
 .../apache/doris/load/loadv2/InsertLoadJob.java    |  35 +++++--
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 107 ++++++++++++++++-----
 .../org/apache/doris/load/loadv2/LoadManager.java  |   6 +-
 .../org/apache/doris/load/loadv2/MiniLoadJob.java  |  24 ++++-
 .../org/apache/doris/mysql/privilege/PaloAuth.java |  20 ++++
 .../doris/load/loadv2/BrokerLoadJobTest.java       |   4 +-
 .../doris/load/loadv2/InsertLoadJobTest.java       |   2 +-
 .../apache/doris/load/loadv2/LoadManagerTest.java  |  43 +++++++--
 35 files changed, 392 insertions(+), 107 deletions(-)

commit 1336093395be0608b7a82c9eec6bb3b273992e21
Author: chenhao <510341142@qq.com>
Date:   Tue Jul 9 13:12:03 2019 +0800

    Set stmt support Expr (#1418)

 fe/src/main/cup/sql_parser.cup                     | 12 ++--
 .../org/apache/doris/analysis/BinaryPredicate.java |  5 +-
 .../java/org/apache/doris/analysis/CastExpr.java   |  5 +-
 .../apache/doris/analysis/CompoundPredicate.java   |  7 ++-
 .../main/java/org/apache/doris/analysis/Expr.java  | 13 +++-
 .../apache/doris/analysis/ExpressionFunctions.java | 69 ++++++++++++++++++++--
 .../org/apache/doris/analysis/InPredicate.java     |  3 +-
 .../java/org/apache/doris/analysis/SetVar.java     | 65 +++++++++++++-------
 .../java/org/apache/doris/qe/SessionVariable.java  |  1 -
 .../java/org/apache/doris/rewrite/FEFunctions.java | 22 +++++++
 10 files changed, 162 insertions(+), 40 deletions(-)

commit 3202dc28e899c5c525f228f708c75404b2bbfe0b
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 9 10:38:35 2019 +0800

    Fix bug that unable to delete redundant replicas (#1442)
    
    This can happen if the Doris cluster is deployed with all, for example, SSD medium,
    but create all tables with HDD storage medium property. Then getLoadScore(SSD) will
    always return 0.0, so that no replica will be chosen when try to delete redundant
    replicas.

 .../java/org/apache/doris/clone/TabletScheduler.java  | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit ded60e59f98e3713033170ffb34841b8726f7a64
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 9 10:36:13 2019 +0800

    Add a configuration to modify the reverse time of load error log (#1433)
    
    Currently, the load error log on BE will be cleaned along with the
    intermediate data of load, configured by 'load_data_reserve_hours'.
    Sometimes user want to reserve the error log for longer time.

 be/src/common/config.h           |  4 +++-
 be/src/runtime/load_path_mgr.cpp | 19 +++++++++----------
 be/src/runtime/load_path_mgr.h   |  4 ++--
 3 files changed, 14 insertions(+), 13 deletions(-)

commit bde362c3cd040e841d37b33f6830605f364cb72f
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jul 9 10:17:09 2019 +0800

    Modify insert operation's behavior (#1444)
    
    Before changing default insert operation to streaming load, if the select result
    of a insert stmt is empty, a label will still be returned to the user, and user
    can use this label to check the insert load job's status.
    
    After changing the insert operation, if the select result is empty, a exception
    will be thrown to user client directly without any label.
    
    This new usage pattern is not friendly to already existed users, which is forcing
    them to change their way of using insert operation.
    
    So I add a new FE config 'using_old_load_usage_pattern', default is false.
    If set to true, a label will be returned to user even if the select result is empty.

 .../main/java/org/apache/doris/common/Config.java  |   8 ++
 .../apache/doris/load/loadv2/InsertLoadJob.java    |  16 ++-
 .../org/apache/doris/load/loadv2/LoadManager.java  |   4 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     | 125 +++++++++++++--------
 .../doris/transaction/GlobalTransactionMgr.java    |  11 +-
 .../TransactionCommitFailedException.java          |   2 +
 .../doris/load/loadv2/InsertLoadJobTest.java       |   2 +-
 .../apache/doris/load/loadv2/LoadManagerTest.java  |  12 +-
 8 files changed, 119 insertions(+), 61 deletions(-)

commit dc6452160785c72aa6c7268d960ed8615e929a48
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon Jul 8 14:12:36 2019 +0800

    Modify bugs in sample variance and variance confusion (#1439)
    
    1. variance same as var_pop/variance_pop
    2. stddev same as stddev_pop

 fe/src/main/java/org/apache/doris/catalog/FunctionSet.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 44d89ddcba53644b0a54de9dcb9c4332e98c6781
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jul 8 11:01:42 2019 +0800

    Resolve the problem of accidental pause in RoutineLoadJob (#1437)
    
    The issue is following:
    Request1:
      BE aborts the txn.
      Attachment of txn is set.
      Attachment of txn is set to null without lock of txn because the task has been aborted by FE.
    Request2:
      BE aborts the txn again.
      Attachment of txn is set again.
    Request1:
      The attachment is not null so the job wants to find the task and commit it.
      The job could not find the task so it is paused. (NullPointer Exception)
    
    In this commit, The commit request will check if task exists instead of checking txn attachment
    is not null.

 .../apache/doris/load/routineload/RoutineLoadJob.java  | 18 +++++++-----------
 1 file changed, 7 insertions(+), 11 deletions(-)

commit 4989f7bfe33c70c1c7df770c83ecce2280764030
Author: Youngwb <yangwenbo_mailbox@163.com>
Date:   Sun Jul 7 11:55:51 2019 +0800

    Fix spelling mistake in docs (#1435)

 docs/documentation/cn/internal/metadata-design.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25e092f92a8b1ccf5141bda77194ff6e5144662d
Author: Ye <wang-ye@users.noreply.github.com>
Date:   Sat Jul 6 19:51:31 2019 -0700

    Fix broken image link in docs (#1436)

 docs/website/source/index.rst | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2246e7181fb7f404ee275127cc28d1ba52b3a79
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jul 4 15:42:39 2019 +0800

    Fix bug that publish task missing dbId parameter (#1426)
    
    Without dbId parameter, the backend report version can not be
    updated when publish task report to FE, which may cause incorrect
    order of report.
    
    Related commit: 5c1b4f6

 fe/src/main/java/org/apache/doris/master/ReportHandler.java    | 4 ++--
 fe/src/main/java/org/apache/doris/task/PublishVersionTask.java | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit eeb6fa082b9e3c298c5d7c2e1900fd1c42a655b1
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jul 4 13:48:19 2019 +0800

    Revert "Cast the type of constant value in binary predicate to column type. (#1422)" (#1425)
    
    This reverts commit 687f5a10868ce62d2d25d028152f84f3385b73f4.

 .../org/apache/doris/analysis/BinaryPredicate.java | 30 ++--------------------
 .../apache/doris/rewrite/FoldConstantsRule.java    |  1 -
 2 files changed, 2 insertions(+), 29 deletions(-)

commit 687f5a10868ce62d2d25d028152f84f3385b73f4
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jul 3 21:49:30 2019 +0800

    Cast the type of constant value in binary predicate to column type. (#1422)
    
    If one child of a binary predicate is column, and the other is a constant expr,
    set the compatible type to column's type.
    eg:
    k1(int):
    ... WHERE k1 = "123"  -->  k1 = cast("123" as int);
    
    k2(varchar):
    ... WHERE 123 = k2 --> cast(123 as varchar) = k2
    
    This optimization is for the case that some users may use a int column to save date, eg: 20190703,
    but query with predicate: col = "20190703".
    
    If not casting "20190703" to int, query optimizer can not do partition prune correctly.

 .../org/apache/doris/analysis/BinaryPredicate.java | 30 ++++++++++++++++++++--
 .../apache/doris/rewrite/FoldConstantsRule.java    |  1 +
 2 files changed, 29 insertions(+), 2 deletions(-)

commit 4ff17c1fc3fa566d5116b6064767de5d901ad3ba
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jul 3 09:17:39 2019 +0800

    Forbid adding rollup with REPLACE value but without all key columns. (#1421)
    
    When a rollup table contains value columns of REPLACE aggregation type,
    all key columns of base table should be included in this rollup.
    Without all key columns, the order of rows is undefined.
    
    For example, table schema k1,k2,k3,v1(REPLACE)
    
    1,2,3,A
    1,2,4,B
    1,2,5,C
    
    A rollup with column(k1,k2,v1):
    
    1,2,A
    1,2,B
    1,2,C
    
    No matter A or B or C be the last winner, it is meanless to user.
    
    Also fix a bug that set password for current user on non-master FE
    will throw NullPointerException.

 .../java/org/apache/doris/alter/RollupHandler.java     | 18 ++++++++++++++----
 .../java/org/apache/doris/analysis/SetPassVar.java     |  7 ++++++-
 .../java/org/apache/doris/load/loadv2/LoadJob.java     |  1 -
 3 files changed, 20 insertions(+), 6 deletions(-)

commit d9f6829f4fe74bae9a8f62156c6104042d053676
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Jul 2 16:31:01 2019 +0800

    Fix the deadlock of database and loadjob (#1419)
    
    This commit change the idToTable to concurrent hashmap in database. It don't need to lock the database before getTable.
    The database will be locked in GlobalTxnManager. The load job will be locked after that.
    So the lock sequence is: database, load manager, load job.

 fe/src/main/java/org/apache/doris/catalog/Database.java |  8 +++++++-
 .../org/apache/doris/load/loadv2/BrokerLoadJob.java     | 17 +++++++----------
 .../org/apache/doris/load/loadv2/InsertLoadJob.java     | 15 ++++++---------
 .../java/org/apache/doris/load/loadv2/LoadManager.java  | 13 ++++++++++++-
 4 files changed, 32 insertions(+), 21 deletions(-)

commit 7eab12a40e5a20959c13eba99697c171d1461e0b
Author: worker24h <xxbzj249@163.com>
Date:   Mon Jul 1 05:39:27 2019 -0500

    Support  reading Parquet file when loading data (#1173)

 .gitignore                                         |   7 +
 be/CMakeLists.txt                                  |  32 ++
 be/src/exec/CMakeLists.txt                         |   3 +
 be/src/exec/base_scanner.cpp                       | 174 +++++++
 be/src/exec/base_scanner.h                         | 101 +++++
 be/src/exec/broker_reader.cpp                      |  51 ++-
 be/src/exec/broker_reader.h                        |  11 +-
 be/src/exec/broker_scan_node.cpp                   |  40 +-
 be/src/exec/broker_scan_node.h                     |  10 +-
 be/src/exec/broker_scanner.cpp                     | 152 +------
 be/src/exec/broker_scanner.h                       |  64 +--
 be/src/exec/file_reader.h                          |   8 +-
 be/src/exec/local_file_reader.cpp                  | 100 ++--
 be/src/exec/local_file_reader.h                    |  12 +-
 be/src/exec/olap_rewrite_node.cpp                  |   1 +
 be/src/exec/parquet_reader.cpp                     | 471 +++++++++++++++++++
 be/src/exec/parquet_reader.h                       | 108 +++++
 be/src/exec/parquet_scanner.cpp                    | 157 +++++++
 be/src/exec/parquet_scanner.h                      |  90 ++++
 be/src/runtime/stream_load/stream_load_pipe.h      |  24 +
 be/test/exec/CMakeLists.txt                        |   1 +
 be/test/exec/broker_scanner_test.cpp               |   2 +-
 be/test/exec/parquet_scanner_test.cpp              | 501 +++++++++++++++++++++
 .../test_data/parquet_scanner/localfile.parquet    | Bin 0 -> 1363580 bytes
 .../parquet_scanner/parquet_cpp_example.parquet    | Bin 0 -> 298 bytes
 be/test/util/filesystem_util_test.cpp              |   9 +-
 .../help/Contents/Data Manipulation/broker_load.md |  15 +
 .../Data Manipulation/manipulation_stmt.md         |  17 +-
 fe/src/main/cup/sql_parser.cup                     |  82 ++--
 .../org/apache/doris/analysis/DataDescription.java |  46 +-
 .../java/org/apache/doris/analysis/LoadStmt.java   |  11 +-
 .../java/org/apache/doris/catalog/BrokerTable.java |  34 +-
 .../org/apache/doris/load/BrokerFileGroup.java     |  13 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |  50 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |  22 +-
 .../apache/doris/analysis/DataDescriptionTest.java |   2 +-
 fs_brokers/apache_hdfs_broker/.gitignore           |   1 +
 .../doris/broker/hdfs/HDFSBrokerServiceImpl.java   |  11 +-
 .../doris/broker/hdfs/TestFileSystemManager.java   |   4 +-
 gensrc/thrift/PaloBrokerService.thrift             |   1 +
 gensrc/thrift/PlanNodes.thrift                     |   3 +-
 run-ut.sh                                          |   1 +
 42 files changed, 2037 insertions(+), 405 deletions(-)

commit b0af97d8aaef69b0311a27ebfd0ccecba771db01
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jul 1 16:05:49 2019 +0800

    Change error msg of mini load when PUBLISH_TIMEOUT (#1415)

 be/src/http/action/mini_load.cpp | 3 +++
 1 file changed, 3 insertions(+)

commit 8db97998ba0d5d51fd64f2e9e39a413a5a916074
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Jul 1 09:23:13 2019 +0800

    Collect all documents to Doris code base (#1414)

 .../cn/administrator-guide/backup-restore.md       | 160 ++++++
 .../cn/administrator-guide/export_manual.md        |   4 +-
 .../{fe_get_log_file.md => fe-get-log-file.md}     |   4 +-
 .../documentation/cn/administrator-guide/index.rst |  13 +-
 .../load-data/broker-load-manual.md                |   2 +-
 .../load-data/routine-load-manual.md               |  10 +-
 .../operation/metadata-operation.md                | 297 ++++++++++
 .../administrator-guide/operation/monitor-alert.md | 283 ++++++++++
 .../administrator-guide/operation/multi-tenant.md  | 213 +++++++
 .../operation/tablet-meta-tool.md                  |  88 +++
 ...and_balance.md => tablet-repair-and-balance.md} |   2 +-
 .../cn/administrator-guide/privilege.md            | 134 +++++
 docs/documentation/cn/community/gitter.md          |  37 ++
 .../cn/community/how-to-contribute.md              |  55 ++
 docs/documentation/cn/community/index.rst          |   8 +
 docs/documentation/cn/community/members.md         |  31 ++
 docs/documentation/cn/community/pull-request.md    | 233 ++++++++
 docs/documentation/cn/community/release-process.md | 567 +++++++++++++++++++
 .../cn/community/subscribe-mail-list.md            |  43 ++
 .../cn/community/verify-apache-release.md          | 100 ++++
 .../cn/extending-doris/doris-on-es.md              |   4 +-
 .../cn/extending-doris/user-defined-function.md    |   2 +-
 .../cn/getting-started/advance-usage.md            | 246 +++++++++
 .../cn/getting-started/basic-usage.md              | 355 ++++++++++++
 .../cn/getting-started/best-practice.md            | 163 ++++++
 .../cn/getting-started/data-model-rollup.md        | 612 +++++++++++++++++++++
 .../cn/getting-started/data-partition.md           | 233 ++++++++
 .../cn/getting-started/hit-the-rollup.md           | 268 +++++++++
 docs/documentation/cn/getting-started/index.rst    |  12 +
 docs/documentation/cn/installing/compilation.md    |  77 +++
 docs/documentation/cn/installing/index.rst         |   9 +
 docs/documentation/cn/installing/install-deploy.md | 380 +++++++++++++
 docs/documentation/cn/installing/upgrade.md        |  37 ++
 .../cn/internal/doris_storage_optimization.md      |   2 +-
 docs/documentation/cn/internal/metadata-design.md  | 100 ++++
 .../cn/sql-reference/sql-functions/cast.md         |   4 +-
 docs/readme.md                                     |   1 +
 docs/resources/images/apache-asf-compressed.png    | Bin 0 -> 14466 bytes
 docs/resources/images/apache-incubator-logo.png    | Bin 0 -> 4234 bytes
 docs/resources/images/apache-incubator.png         | Bin 0 -> 13115 bytes
 docs/resources/images/apache_incubator_logo.png    | Bin 0 -> 6482 bytes
 docs/resources/images/architecture.png             | Bin 0 -> 176951 bytes
 docs/resources/images/asf_logo_wide_small.png      | Bin 0 -> 32278 bytes
 docs/resources/{ => images}/backend_state.png      | Bin
 .../{ => images}/cluster_link_and_migrate_db.png   | Bin
 docs/resources/{ => images}/cluster_namaspace.png  | Bin
 docs/resources/images/create-pr.png                | Bin 0 -> 159594 bytes
 docs/resources/images/create-pr2.png               | Bin 0 -> 175333 bytes
 docs/resources/images/create-pr3.png               | Bin 0 -> 176477 bytes
 docs/resources/{ => images}/dashboard_navibar.png  | Bin
 docs/resources/{ => images}/dashboard_overview.png | Bin
 docs/resources/{ => images}/dashboard_panel.png    | Bin
 docs/resources/{ => images}/dashboard_row.png      | Bin
 docs/resources/images/doris-logo-1.png             | Bin 0 -> 11187 bytes
 docs/resources/images/doris-logo-2.png             | Bin 0 -> 49268 bytes
 docs/resources/images/egg-logo.png                 | Bin 0 -> 8626 bytes
 docs/resources/images/egg-logo2.png                | Bin 0 -> 7241 bytes
 docs/resources/{ => images}/export_plan_tree_1.png | Bin
 docs/resources/{ => images}/export_plan_tree_2.png | Bin
 .../{ => images}/export_status_change.png          | Bin
 docs/resources/{ => images}/fe_page_index.png      | Bin
 docs/resources/{ => images}/fe_page_logs.png       | Bin
 docs/resources/{ => images}/fe_page_queries.png    | Bin
 docs/resources/{ => images}/fe_page_sessions.png   | Bin
 docs/resources/{ => images}/fe_page_system.png     | Bin
 .../{ => images}/fe_page_system_access.png         | Bin
 .../{ => images}/fe_page_system_backends.png       | Bin
 .../{ => images}/fe_page_system_brokers.png        | Bin
 docs/resources/{ => images}/fe_page_system_dbs.png | Bin
 .../{ => images}/fe_page_system_error_hub.png      | Bin
 .../{ => images}/fe_page_system_frontends.png      | Bin
 .../resources/{ => images}/fe_page_system_jobs.png | Bin
 .../{ => images}/fe_page_system_statistic.png      | Bin
 .../{ => images}/fe_page_system_tasks.png          | Bin
 docs/resources/images/fork-repo.png                | Bin 0 -> 185675 bytes
 docs/resources/images/graduation-timeline.png      | Bin 0 -> 54670 bytes
 .../images/howtoincubateaproject-thumb.png         | Bin 0 -> 373793 bytes
 docs/resources/images/howtoincubateaproject.png    | Bin 0 -> 905160 bytes
 .../images/incbuator_feather_egg_logo_crop.png     | Bin 0 -> 51002 bytes
 docs/resources/images/incubation-process.png       | Bin 0 -> 10319 bytes
 docs/resources/images/incubator_ring_logo.png      | Bin 0 -> 507621 bytes
 docs/resources/{ => images}/log_replication.jpg    | Bin
 docs/resources/images/login-gitter1.png            | Bin 0 -> 20977 bytes
 docs/resources/images/login-gitter2.PNG            | Bin 0 -> 199416 bytes
 docs/resources/{ => images}/metadata_contents.png  | Bin
 docs/resources/{ => images}/metadata_stream.png    | Bin
 docs/resources/{ => images}/monitor_arch.png       | Bin
 docs/resources/{ => images}/multi_tenant_arch.png  | Bin
 docs/resources/images/new-pr.png                   | Bin 0 -> 180263 bytes
 docs/resources/{ => images}/palo_architecture.jpg  | Bin
 docs/resources/{ => images}/palo_meta.png          | Bin
 docs/resources/{ => images}/replica_recover.png    | Bin
 docs/resources/{ => images}/segment_v2.png         | Bin
 .../resources/images/subscribe-mail-list-step1.png | Bin 0 -> 72287 bytes
 .../resources/images/subscribe-mail-list-step2.png | Bin 0 -> 118536 bytes
 .../resources/images/subscribe-mail-list-step3.png | Bin 0 -> 95590 bytes
 .../resources/images/subscribe-mail-list-step4.png | Bin 0 -> 94776 bytes
 docs/resources/{ => images}/user_authority.png     | Bin
 docs/website/README.md                             |   3 +-
 docs/website/source/conf.py                        |  10 +-
 docs/website/source/index.rst                      | 588 +++++++++++++++++++-
 gensrc/script/gen_build_version.sh                 |   2 +-
 102 files changed, 5364 insertions(+), 28 deletions(-)

commit 9f743e33439e2a521b54c3fc6f1bd2678228e9b6
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sat Jun 29 11:20:57 2019 +0800

    Use load job v2 in default (#1404)

 fe/src/main/java/org/apache/doris/analysis/LoadStmt.java   | 14 ++++++--------
 fe/src/main/java/org/apache/doris/load/Load.java           |  1 +
 .../java/org/apache/doris/load/loadv2/LoadManager.java     |  1 -
 fe/src/main/java/org/apache/doris/qe/DdlExecutor.java      |  9 ++++-----
 4 files changed, 11 insertions(+), 14 deletions(-)

commit 6b83440b596df09b2258f3187d1a1d6c40afcd1f
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sat Jun 29 11:20:12 2019 +0800

    Get table name from DataSourceInfo instead of DataDesc (#1405)

 .../apache/doris/load/loadv2/BrokerLoadJob.java    | 20 ++++++++++++++---
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  4 ++--
 .../doris/load/loadv2/BrokerLoadJobTest.java       | 26 ++++++++++++++++------
 .../org/apache/doris/load/loadv2/LoadJobTest.java  |  5 ++++-
 4 files changed, 42 insertions(+), 13 deletions(-)

commit 8a10bf0f89472199d91a9a20bfeb8fdb21670cee
Author: HangyuanLiu <460660596@qq.com>
Date:   Sat Jun 29 11:19:43 2019 +0800

    Fix binary plain page relocate bug (#1410)

 be/src/olap/rowset/segment_v2/binary_plain_page.h | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 1ff1722d9394422ee67baaff3046a11d12b744b0
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Jun 28 23:30:33 2019 +0800

    Fix the core in dpp sink by sum of int128 (#1412)

 be/src/runtime/dpp_sink.cpp | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 5c1b4f641e09c9b1483fc6d860c2af0f40ec0197
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jun 28 20:15:08 2019 +0800

    Add report version for publish task (#1401)

 be/src/agent/task_worker_pool.cpp                   |  2 ++
 .../java/org/apache/doris/catalog/OlapTable.java    |  2 ++
 .../apache/doris/catalog/TabletInvertedIndex.java   | 10 ++++++++--
 .../java/org/apache/doris/master/MasterImpl.java    |  8 ++++++++
 .../java/org/apache/doris/master/ReportHandler.java | 21 ++++++++++++---------
 .../org/apache/doris/task/PublishVersionTask.java   |  2 +-
 .../doris/transaction/PublishVersionDaemon.java     |  7 ++++---
 .../org/apache/doris/load/DppSchedulerTest.java     |  3 +--
 8 files changed, 38 insertions(+), 17 deletions(-)

commit 4747bed306d2a39b632d2dbe49a399a62d7bf3a6
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Jun 27 22:25:19 2019 +0800

    Add rle page (#1379)

 be/src/olap/olap_common.h                          |   3 +-
 be/src/olap/rowset/segment_v2/binary_plain_page.h  |  26 +--
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |  67 +++---
 be/src/olap/rowset/segment_v2/column_reader.cpp    |   4 +-
 be/src/olap/rowset/segment_v2/column_writer.cpp    |   2 +-
 be/src/olap/rowset/segment_v2/common.h             |   6 +-
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |   6 +-
 be/src/olap/rowset/segment_v2/encoding_info.h      |   7 +-
 be/src/olap/rowset/segment_v2/options.h            |   5 +
 be/src/olap/rowset/segment_v2/page_builder.h       |   6 +-
 be/src/olap/rowset/segment_v2/page_decoder.h       |   8 +-
 be/src/olap/rowset/segment_v2/plain_page.h         |  26 +--
 be/src/olap/rowset/segment_v2/rle_page.h           | 252 +++++++++++++++++++++
 be/src/olap/types.cpp                              |   2 +
 be/src/olap/types.h                                |  80 +++++++
 be/test/olap/CMakeLists.txt                        |   1 +
 .../rowset/segment_v2/binary_plain_page_test.cpp   |   5 +-
 .../rowset/segment_v2/bitshuffle_page_test.cpp     |  37 ++-
 be/test/olap/rowset/segment_v2/plain_page_test.cpp |   8 +-
 be/test/olap/rowset/segment_v2/rle_page_test.cpp   | 192 ++++++++++++++++
 run-ut.sh                                          |   3 +-
 21 files changed, 641 insertions(+), 105 deletions(-)

commit f8ec3d90d008187f63c9d9b3df8dca81802adf37
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Thu Jun 27 22:10:33 2019 +0800

    Add some field for extrernal service (#1403)

 gensrc/thrift/DataSinks.thrift            |  1 +
 gensrc/thrift/DorisExternalService.thrift | 17 +++++++++++------
 2 files changed, 12 insertions(+), 6 deletions(-)

commit b17d1c53482bd1589506ab32caa64c089bc66522
Author: Dayue Gao <dygao66@gmail.com>
Date:   Wed Jun 26 22:58:30 2019 +0800

    Fix a bug of v2 ColumnReader when reading not-null column (#1398)

 be/src/olap/rowset/segment_v2/column_reader.cpp | 1 -
 1 file changed, 1 deletion(-)

commit 7cb3c95330f0023ae645c99026106527e5575549
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Wed Jun 26 19:11:43 2019 +0800

    Modify some method for external invoking and add extra sink (#1383)

 .../main/java/org/apache/doris/http/rest/RestBaseAction.java   |  4 ++++
 fe/src/main/java/org/apache/doris/qe/SessionVariable.java      |  3 ++-
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java         | 10 +++++++---
 gensrc/thrift/DataSinks.thrift                                 |  7 ++++++-
 4 files changed, 19 insertions(+), 5 deletions(-)

commit 756a680143c40585d5d30761cc2e4699f13929fb
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 26 19:10:39 2019 +0800

    Add a website builder of Doris documentations (#1396)
    
    The build script locates in docs/website.
    Built with Sphinx using a theme provided by Read the Docs.

 .../cn/administrator-guide/http-actions/index.rst  |   9 +
 .../documentation/cn/administrator-guide/index.rst |  16 ++
 .../cn/administrator-guide/load-data/index.rst     |   9 +
 .../load-data/routine-load-manual.md               |   2 +-
 .../cn/administrator-guide/operation/index.rst     |   9 +
 docs/documentation/cn/extending-doris/index.rst    |   8 +
 docs/documentation/cn/internal/index.rst           |   8 +
 docs/documentation/cn/sql-reference/index.rst      |   9 +
 .../sql-functions/date-time-functions/index.rst    |   8 +
 .../cn/sql-reference/sql-functions/index.rst       |  15 ++
 .../sql-functions/spatial-functions/index.rst      |   8 +
 .../sql-functions/string-functions/index.rst       |   8 +
 .../cn/sql-reference/sql-statements/index.rst      |   8 +
 docs/readme.md                                     |  26 ++-
 docs/website/Makefile                              |  19 +++
 docs/website/README.md                             |  40 +++++
 docs/website/build_site.sh                         |  89 ++++++++++
 docs/website/source/conf.py                        | 187 +++++++++++++++++++++
 docs/website/source/index.rst                      |  11 ++
 19 files changed, 486 insertions(+), 3 deletions(-)

commit 24a46a4552ddd4c7dace0ef8a096fa1ccd380012
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 26 18:55:27 2019 +0800

    Fix column nullable property in show create table stmt result (#1381)
    
    Since the default nullable of a column changed to NOT NULL,
    result of show table stmt should show the correct nullable property
    of a column.

 fe/src/main/java/org/apache/doris/catalog/Column.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit edeac1a3392f40aac0fe5591c7dc31545a59fe91
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 26 12:27:25 2019 +0800

    Fix publish version task timeout (#1380)
    
    Publish version task using wrong timeout config.

 fe/src/main/java/org/apache/doris/load/LoadJob.java                 | 5 +++--
 fe/src/main/java/org/apache/doris/transaction/TransactionState.java | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit e046f7b05aa7a5ad13a7040b7cb1aea6269f8ce8
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed Jun 26 00:50:50 2019 +0800

    Add plain page (#1341)

 be/src/olap/rowset/segment_v2/binary_plain_page.h  | 254 +++++++++++++++++++++
 be/src/olap/rowset/segment_v2/plain_page.h         | 189 +++++++++++++++
 be/test/olap/CMakeLists.txt                        |   2 +
 .../rowset/segment_v2/binary_plain_page_test.cpp   | 101 ++++++++
 be/test/olap/rowset/segment_v2/plain_page_test.cpp | 207 +++++++++++++++++
 run-ut.sh                                          |   2 +
 6 files changed, 755 insertions(+)

commit 566e122c0d171eba37594806182c0ae17ee245a4
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 26 00:20:53 2019 +0800

    Optimize Export feature (#1378)
    
    1. Add 'timeout' properties in Export stmt.
    2. Add more infos in 'show export' stmt.
    3. Add more logs for debug.

 be/src/runtime/export_sink.cpp                     |   7 +-
 .../cn/administrator-guide/export_manual.md        | 179 +++++++++++++++++++
 .../Data Manipulation/manipulation_stmt.md         |  13 +-
 .../java/org/apache/doris/analysis/ExportStmt.java |  54 ++++--
 .../org/apache/doris/analysis/ShowExportStmt.java  |  56 ++----
 .../main/java/org/apache/doris/common/Config.java  |  25 +--
 .../apache/doris/common/proc/ExportProcNode.java   |  25 +--
 .../java/org/apache/doris/load/ExportChecker.java  |   9 +-
 .../main/java/org/apache/doris/load/ExportJob.java | 189 +++++++++++----------
 .../main/java/org/apache/doris/load/ExportMgr.java |  70 ++++----
 .../java/org/apache/doris/qe/ShowExecutor.java     |  22 +--
 .../org/apache/doris/task/ExportExportingTask.java |  95 ++++++-----
 .../org/apache/doris/task/ExportPendingTask.java   |  21 ++-
 13 files changed, 462 insertions(+), 303 deletions(-)

commit adba5249c423f5a6bd9a9792a5128b414a7d3a17
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Jun 25 21:37:42 2019 +0800

    Add dayofweek function (#1376)

 be/src/exprs/timestamp_functions.cpp       |  8 ++++++
 be/src/exprs/timestamp_functions.h         |  2 ++
 be/test/exprs/CMakeLists.txt               |  1 +
 be/test/exprs/timestamp_functions_test.cpp | 45 ++++++++++++++++++++++++++++++
 gensrc/script/doris_builtins_functions.py  | 12 +++-----
 run-ut.sh                                  |  1 +
 6 files changed, 61 insertions(+), 8 deletions(-)

commit e807064a885461dcfcc2b5dc8cceb081327987a0
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jun 25 21:20:18 2019 +0800

    Modify colocation creation logic (#1289)

 .../cn/administrator-guide/colocation-join.md      | 422 +++++++++
 .../operation/tablet_repair_and_balance.md         |  22 +-
 .../{small_file_mgr.md => small-file-mgr.md}       |   0
 .../apache/doris/alter/SchemaChangeHandler.java    |   4 +-
 .../java/org/apache/doris/backup/Repository.java   |   3 +
 .../org/apache/doris/backup/RepositoryMgr.java     |   2 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 274 +++---
 .../apache/doris/catalog/CatalogRecycleBin.java    |  14 +-
 .../apache/doris/catalog/ColocateGroupSchema.java  | 144 +++
 .../apache/doris/catalog/ColocateTableIndex.java   | 618 +++++++++----
 .../apache/doris/catalog/ColocateTableUtils.java   |  70 +-
 .../apache/doris/catalog/MaterializedIndex.java    |  15 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  42 +-
 .../main/java/org/apache/doris/catalog/Table.java  |   2 +-
 .../main/java/org/apache/doris/catalog/Tablet.java |  52 ++
 .../apache/doris/catalog/TabletInvertedIndex.java  |   2 +-
 .../apache/doris/clone/BackendLoadStatistic.java   |   7 +
 .../apache/doris/clone/ColocateTableBalancer.java  | 987 ++++++++++-----------
 .../java/org/apache/doris/clone/LoadBalancer.java  |   6 +
 .../org/apache/doris/clone/TabletSchedCtx.java     |  23 +-
 .../org/apache/doris/clone/TabletScheduler.java    | 105 ++-
 .../apache/doris/clone/TabletSchedulerStat.java    |   4 +
 .../main/java/org/apache/doris/common/Config.java  |   8 +
 .../java/org/apache/doris/common/ErrorCode.java    |  31 +-
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 fe/src/main/java/org/apache/doris/common/Pair.java |  11 +
 .../proc/ColocationGroupBackendSeqsProcNode.java   |  61 ++
 .../doris/common/proc/ColocationGroupProcDir.java  |  74 ++
 .../org/apache/doris/common/proc/ProcService.java  |   1 +
 .../apache/doris/common/util/PropertyAnalyzer.java |   6 +-
 .../java/org/apache/doris/http/HttpServer.java     |   4 +-
 .../doris/http/meta/ColocateMetaService.java       | 173 ++--
 .../org/apache/doris/http/rest/RestBaseAction.java |   3 +-
 .../org/apache/doris/journal/JournalEntity.java    |   2 +-
 .../apache/doris/persist/ColocatePersistInfo.java  |  76 +-
 .../java/org/apache/doris/persist/EditLog.java     |   8 +-
 .../org/apache/doris/persist/OperationType.java    |   2 +-
 .../apache/doris/persist/TablePropertyInfo.java    |  51 +-
 .../apache/doris/planner/DistributedPlanner.java   |  32 +-
 .../org/apache/doris/planner/HashJoinNode.java     |  14 +-
 .../doris/planner/PartitionColumnFilter.java       |   7 +-
 .../java/org/apache/doris/rewrite/FEFunctions.java |   6 +-
 .../doris/catalog/ColocateTableIndexTest.java      |  54 ++
 .../apache/doris/catalog/ColocateTableTest.java    | 382 +++-----
 .../doris/clone/ColocateTableBalancerTest.java     | 193 ++--
 .../java/org/apache/doris/http/MimeTypeTest.java   |  43 +
 47 files changed, 2587 insertions(+), 1477 deletions(-)

commit 51b2c1d5b220bf86eb2ca3844223f6041b1c4878
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Jun 25 21:02:42 2019 +0800

    Add some function doc (#1377)

 .../sql-functions/date-time-functions/dayofweek.md | 22 ++++++++++++++++++++++
 .../sql-functions/string-functions/left.md         | 20 ++++++++++++++++++++
 .../sql-functions/string-functions/right.md        | 20 ++++++++++++++++++++
 .../sql-functions/string-functions/strleft.md      | 20 ++++++++++++++++++++
 .../sql-functions/string-functions/strright.md     | 20 ++++++++++++++++++++
 5 files changed, 102 insertions(+)

commit 22873d4f41e666a5c04cfd0d1dd74070e9fa6308
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Tue Jun 25 20:57:15 2019 +0800

    Add tablet version and descriptor table for query paln (#1373)

 gensrc/thrift/DorisExternalService.thrift | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 4f416b7e21bb214cb8d29903656a517b48b434c6
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Jun 25 20:54:58 2019 +0800

    Fix the core of mini load (#1375)
    
    A new struct named MiniLoadCtx is used to save is_streaming and ctx.

 be/src/http/action/mini_load.cpp | 116 +++++++++++++++++++++------------------
 be/src/http/action/mini_load.h   |   4 +-
 2 files changed, 65 insertions(+), 55 deletions(-)

commit e30844a321aac9e8ddda1be5ec37ece5bdcb3e3a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jun 25 16:59:26 2019 +0800

    Add column reader writer for segment V2 (#1346)

 be/src/common/status.h                             |   3 +
 be/src/olap/CMakeLists.txt                         |   6 +-
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    |   2 +-
 be/src/olap/rowset/segment_v2/column_reader.cpp    | 331 +++++++++++++++++++++
 be/src/olap/rowset/segment_v2/column_reader.h      | 180 +++++++++++
 be/src/olap/rowset/segment_v2/column_writer.cpp    | 294 ++++++++++++++++++
 be/src/olap/rowset/segment_v2/column_writer.h      | 144 +++++++++
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |  45 ++-
 be/src/olap/rowset/segment_v2/encoding_info.h      |  21 +-
 be/src/olap/rowset/segment_v2/ordinal_page_index.h |   3 +-
 be/src/olap/rowset/segment_v2/page_handle.h        |  66 ++++
 be/src/olap/rowset/segment_v2/page_pointer.h       |   5 +
 be/src/olap/types.cpp                              |   4 +-
 be/src/olap/types.h                                |   2 +
 be/src/runtime/vectorized_row_batch.h              |  18 ++
 be/src/util/coding.h                               |  40 ++-
 be/src/util/faststring.h                           |   2 +-
 be/test/olap/CMakeLists.txt                        |   5 +-
 .../rowset/segment_v2/bitshuffle_page_test.cpp     |   4 +-
 .../segment_v2/column_reader_writer_test.cpp       | 205 +++++++++++++
 gensrc/proto/segment_v2.proto                      |   7 +-
 run-ut.sh                                          |   1 +
 22 files changed, 1355 insertions(+), 33 deletions(-)

commit 322de9cd8eafd45bc9cb2e651b2fd10715963f77
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jun 24 19:40:57 2019 +0800

    Add sql-function doc of cast_to_bigint (#1370)

 .../cn/sql-reference/sql-functions/cast.md         |  56 +++++++
 .../doris/load/loadv2/BrokerLoadJobTest.java       |  53 +++++++
 .../org/apache/doris/load/loadv2/LoadJobTest.java  | 176 +++++++++++++++++++++
 3 files changed, 285 insertions(+)

commit 12db342d8bb2af2ae28c4fe37db8c0eef80cd7b2
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Jun 24 18:58:18 2019 +0800

    Fix olap_header destruction error (#1368)

 be/src/olap/olap_snapshot.cpp | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 1422414e4377ac1191150ceea4753477fb39274c
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Jun 24 14:52:59 2019 +0800

    Add varchar column name to stream load error msg (#1366)

 be/src/exec/olap_table_sink.cpp | 1 +
 1 file changed, 1 insertion(+)

commit 9cd0e09457994cecb885f4e6a4e6193fb29dc3be
Author: chenhao <510341142@qq.com>
Date:   Mon Jun 24 10:57:25 2019 +0800

    Fix bug that cast DateLiteral to other types (#1364)

 fe/src/main/java/org/apache/doris/analysis/DateLiteral.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1717e44c8be601aa489af0bcfc49a43c10e8861
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun Jun 23 16:59:08 2019 +0800

    Check get_header status returned (#1361)
    
    When performing storage_medium_migration, the header may be already droped.
    In this scenario, header returned will be null pointer.
    Saving data to a null pointer will cause core dump.

 be/src/olap/olap_define.h     |  1 +
 be/src/olap/olap_snapshot.cpp | 29 +++++++++++++++++++----------
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 9f7a335d02e2d42ee5e4a0b58eaabf0253387c48
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Jun 22 14:29:16 2019 +0800

    Increase the timeout of publish version task when doing alter job (#1359)
    
    The previous setting of timeout of a publish version task is mess.
    I change it to a configurable time, default it 30 seconds.
    
    And when the table is under rollup or schema change, I double this timeout.
    This a kind of best-effort-optimization. Because with a short timeout,
    a replica's publish version task is more likely to fail. And if quorum replicas
    of a tablet fail to publish, the alter job will fail.
    
    If the table is not under rollup or schema change, the failure of a replica's
    publish version task has a minor effect because the replica can be repaired
    by tablet repair process very soon. But the tablet repair process will not
    repair rollup replicas.

 .../main/java/org/apache/doris/common/Config.java  |  4 ++--
 .../main/java/org/apache/doris/load/LoadJob.java   |  7 ++-----
 .../doris/transaction/GlobalTransactionMgr.java    | 24 +++++++++++++++++++---
 .../doris/transaction/PublishVersionDaemon.java    |  1 +
 .../apache/doris/transaction/TransactionState.java | 21 +++++++++++++++----
 5 files changed, 43 insertions(+), 14 deletions(-)

commit f4df8ed137952c0855b521197830cae3afead6db
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Sat Jun 22 14:15:13 2019 +0800

    Add Thrift definition for scanning data ability for computing system (#1343)

 gensrc/thrift/DorisExternalService.thrift | 142 ++++++++++++++++++++++++++++++
 gensrc/thrift/Types.thrift                |   1 +
 2 files changed, 143 insertions(+)

commit bc14855f254f0d0dceac93866756be6f9623a989
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jun 21 22:23:36 2019 +0800

    Fix FE unit test's failure (#1360)

 fe/src/main/java/org/apache/doris/load/loadv2/InsertLoadJob.java | 1 -
 fe/src/main/java/org/apache/doris/load/loadv2/LoadJob.java       | 3 +--
 2 files changed, 1 insertion(+), 3 deletions(-)

commit 120e7e91195998408fe471a3e6e11e74302a56e4
Author: DDDDDDouble <1475145313@qq.com>
Date:   Fri Jun 21 21:54:14 2019 +0800

    Add more UT for FEFunctions (#1344)

 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 311 +++++++++++++++++++++
 1 file changed, 311 insertions(+)

commit 6a17f07f9710df63bc7735710137326f334f70b2
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Jun 21 21:48:00 2019 +0800

    Fix wrong query result with constant InPredicate (#1357)

 .../main/java/org/apache/doris/analysis/InPredicate.java  | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 3b95867603bb58a2bb28c431a284bc3583b4c37b
Author: DDDDDDouble <1475145313@qq.com>
Date:   Fri Jun 21 21:45:54 2019 +0800

    Add Checkstyle for doris-fe  (#1353)

 fe/checkstyle-apache-header.txt                    | 16 ++++++++++
 fe/checkstyle.xml                                  | 36 ++++++++++++++++++++++
 fe/pom.xml                                         | 34 ++++++++++++++++++++
 .../org/apache/doris/analysis/AggregateInfo.java   |  1 -
 .../doris/analysis/AlterDatabaseQuotaStmt.java     |  1 -
 .../org/apache/doris/analysis/BoolLiteral.java     |  1 -
 .../java/org/apache/doris/analysis/BrokerDesc.java |  1 -
 .../apache/doris/analysis/CompoundPredicate.java   |  1 -
 .../doris/analysis/CreateTableAsSelectStmt.java    |  2 --
 .../org/apache/doris/analysis/ExistsPredicate.java |  1 -
 .../apache/doris/analysis/ExpressionFunctions.java |  7 +++--
 .../org/apache/doris/analysis/FunctionArgs.java    |  1 -
 .../org/apache/doris/analysis/FunctionArgsDef.java |  2 --
 .../java/org/apache/doris/analysis/InsertStmt.java |  1 -
 .../org/apache/doris/analysis/IsNullPredicate.java |  2 --
 .../org/apache/doris/analysis/LikePredicate.java   |  2 --
 .../org/apache/doris/analysis/LiteralExpr.java     |  1 -
 .../org/apache/doris/analysis/OpcodeRegistry.java  | 21 -------------
 .../doris/analysis/PauseRoutineLoadStmt.java       |  1 -
 .../apache/doris/analysis/RangePartitionDesc.java  |  1 -
 .../doris/analysis/ResumeRoutineLoadStmt.java      |  1 -
 .../org/apache/doris/analysis/ShowDataStmt.java    |  2 --
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    | 35 ++++++++++-----------
 .../doris/analysis/SingleRangePartitionDesc.java   |  1 -
 .../apache/doris/analysis/StopRoutineLoadStmt.java |  1 -
 .../apache/doris/catalog/AggregateFunction.java    |  1 -
 .../java/org/apache/doris/catalog/EsTable.java     |  6 ----
 .../java/org/apache/doris/catalog/FunctionSet.java |  8 +++--
 .../java/org/apache/doris/catalog/MysqlTable.java  |  3 --
 .../java/org/apache/doris/catalog/StructField.java |  1 -
 .../main/java/org/apache/doris/catalog/Table.java  |  1 -
 .../main/java/org/apache/doris/catalog/Type.java   |  1 -
 .../common/proc/CurrentQueryFragmentProcNode.java  |  1 -
 .../doris/common/proc/FrontendsProcNode.java       |  1 -
 .../apache/doris/common/proc/LoadJobProcNode.java  |  1 -
 .../org/apache/doris/common/proc/LoadProcDir.java  |  2 --
 .../doris/common/proc/RoutineLoadProcNode.java     | 35 ++++++++++-----------
 .../doris/common/proc/RoutineLoadsNameProcDir.java | 35 ++++++++++-----------
 .../doris/common/proc/RoutineLoadsProcDir.java     | 35 ++++++++++-----------
 .../org/apache/doris/common/util/LogBuilder.java   | 35 ++++++++++-----------
 .../java/org/apache/doris/common/util/LogKey.java  | 35 ++++++++++-----------
 .../org/apache/doris/external/EsIndexState.java    |  1 -
 .../org/apache/doris/http/ActionController.java    |  1 -
 .../main/java/org/apache/doris/kudu/KuduAgent.java | 10 +++++-
 .../java/org/apache/doris/load/EtlJobType.java     | 35 ++++++++++-----------
 .../main/java/org/apache/doris/load/EtlStatus.java |  2 --
 .../main/java/org/apache/doris/load/LoadJob.java   |  1 -
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  1 -
 .../doris/load/routineload/LoadDataSourceType.java | 28 ++++++++---------
 .../java/org/apache/doris/meta/MetaContext.java    | 32 +++++++++----------
 .../java/org/apache/doris/persist/HbPackage.java   | 28 ++++++++---------
 .../org/apache/doris/planner/BrokerScanNode.java   |  2 --
 .../java/org/apache/doris/planner/CsvScanNode.java |  1 -
 .../org/apache/doris/planner/EmptySetNode.java     |  2 --
 .../java/org/apache/doris/planner/EsScanNode.java  | 19 ------------
 .../org/apache/doris/planner/OlapScanNode.java     |  6 ----
 .../org/apache/doris/planner/RollupSelector.java   |  9 ++++--
 .../apache/doris/planner/StreamLoadScanNode.java   |  2 --
 .../java/org/apache/doris/planner/UnionNode.java   |  3 --
 .../apache/doris/rewrite/FoldConstantsRule.java    |  5 ++-
 .../rewrite/NormalizeBinaryPredicatesRule.java     |  3 --
 .../org/apache/doris/task/ExportPendingTask.java   |  1 -
 .../org/apache/doris/task/HadoopLoadEtlTask.java   |  1 -
 .../java/org/apache/doris/task/StreamLoadTask.java | 35 ++++++++++-----------
 .../AbstractTxnStateChangeCallback.java            | 35 ++++++++++-----------
 .../TransactionCommitFailedException.java          |  1 -
 66 files changed, 304 insertions(+), 334 deletions(-)

commit 7550b2f09b9a0737e3ab88fc3d66ac36cf52ad1a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Jun 21 19:34:50 2019 +0800

    Convert mini load to streaming mini load (#1323)
    
    * This commit has brought contribution to streaming mini load
    The operation of streaming mini load is sames as previous. Also, user can check the load by frontend.
    The difference is that streaming mini load finish the task before reply of REST API while the non-streaming only register a load.
    
    * When updating doris
    Updating fe or be firstly are also supported. After fe and be are updated, the streaming mini load will take effect.
    
    * For multi mini load
    The non-streaming mini load still has been used by multi mini load. The behavior of multi mini load has not been changed.
    
    * Add a interface named isSupportedFunction
    This function is used to protect the correctness of new feature which consists of be and fe during updaing.

 be/src/http/action/mini_load.cpp                   | 352 ++++++++++++++++++--
 be/src/http/action/mini_load.h                     |  27 ++
 be/src/runtime/stream_load/stream_load_context.h   |   7 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  52 ++-
 be/src/util/string_parser.hpp                      |  29 ++
 .../help/Contents/Data Manipulation/broker_load.md |   1 +
 .../Data Manipulation/manipulation_stmt.md         |  41 +--
 .../java/org/apache/doris/catalog/Catalog.java     |   5 +
 .../doris/common/DuplicatedRequestException.java   |  25 ++
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../apache/doris/http/rest/GetLoadInfoAction.java  |  11 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   7 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  70 ++--
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  35 +-
 .../load/loadv2/BrokerLoadingTaskAttachment.java   |  35 +-
 .../load/loadv2/BrokerPendingTaskAttachment.java   |  35 +-
 .../apache/doris/load/loadv2/InsertLoadJob.java    |  47 +--
 .../org/apache/doris/load/loadv2/JobState.java     |  35 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 125 ++++---
 .../doris/load/loadv2/LoadJobFinalOperation.java   |  35 +-
 .../apache/doris/load/loadv2/LoadJobScheduler.java |  37 +--
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |  35 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  | 183 ++++++++--
 .../org/apache/doris/load/loadv2/LoadTask.java     |  35 +-
 .../apache/doris/load/loadv2/LoadTaskCallback.java |  35 +-
 .../doris/load/loadv2/LoadTimeoutChecker.java      |  35 +-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  35 +-
 .../org/apache/doris/load/loadv2/MiniLoadJob.java  | 121 +++++++
 .../load/loadv2/MiniLoadTxnCommitAttachment.java   |  83 +++++
 .../apache/doris/load/loadv2/TaskAttachment.java   |  35 +-
 .../java/org/apache/doris/qe/MultiLoadMgr.java     |   2 +-
 .../apache/doris/service/FrontendServiceImpl.java  |  57 +++-
 .../org/apache/doris/task/MiniLoadPendingTask.java |   2 +-
 .../doris/transaction/GlobalTransactionMgr.java    |   8 +-
 .../doris/transaction/TxnCommitAttachment.java     |  18 +-
 .../doris/load/loadv2/BrokerLoadJobTest.java       | 369 +++++++++++++++++++++
 .../load/loadv2/BrokerLoadPendingTaskTest.java     |  76 +++++
 .../doris/load/loadv2/InsertLoadJobTest.java       |  60 ++++
 .../apache/doris/load/loadv2/LoadManagerTest.java  |  11 +-
 .../doris/load/routineload/KafkaProducerTest.java  |  35 +-
 .../doris/load/routineload/RoutineLoadJobTest.java |  35 +-
 .../java/org/apache/doris/qe/MultiLoadMgrTest.java |  24 +-
 gensrc/thrift/FrontendService.thrift               |  36 ++
 gensrc/thrift/Types.thrift                         |   1 +
 45 files changed, 1855 insertions(+), 491 deletions(-)

commit 687d57be66f7f99b0e7f09fab7d1ba6502668059
Author: chenhao <510341142@qq.com>
Date:   Fri Jun 21 19:16:05 2019 +0800

    Fix bug that query statistics in audit log are wrong (#1354)

 be/src/exec/olap_scan_node.cpp      | 2 +-
 be/src/exec/olap_scanner.cpp        | 6 ++++--
 be/src/runtime/query_statistics.cpp | 2 +-
 be/src/runtime/query_statistics.h   | 6 +++---
 4 files changed, 9 insertions(+), 7 deletions(-)

commit ea71277094c1862438b0224482dc63282f48d7ea
Author: worker24h <xxbzj249@163.com>
Date:   Fri Jun 21 19:15:34 2019 +0800

    Support mysql client 8.0 connection fe (#1349)
    
    for example:
    mysql --default-auth=mysql_native_password -P9030 -utest -ptest123456 -hA.B.C.D

 fe/src/main/java/org/apache/doris/mysql/MysqlCapability.java          | 3 ++-
 fe/src/main/java/org/apache/doris/mysql/MysqlHandshakePacket.java     | 4 ++--
 fe/src/test/java/org/apache/doris/mysql/MysqlHandshakePacketTest.java | 4 ++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit 4aaeb8789cb69b460220af41fe1bb5f6624a89c9
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jun 21 10:40:36 2019 +0800

    Fix run-ut.sh failed (#1348)

 run-ut.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3024a6675ab45684d016d2f5644e7f7d20346673
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jun 20 19:44:17 2019 +0800

    Fix the broker hang when fe restart (#1338)

 .../org/apache/doris/analysis/StringLiteral.java   |  2 +
 .../org/apache/doris/load/BrokerFileGroup.java     |  4 --
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  2 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  |  7 ++--
 .../org/apache/doris/load/loadv2/LoadTask.java     |  7 ++--
 .../doris/load/loadv2/LoadingTaskPlanner.java      | 43 ++++++++++++++++++++--
 6 files changed, 50 insertions(+), 15 deletions(-)

commit 0d3c80dd8a0b52dab4af2d7c61f7c6b03ce42944
Author: chenhao <510341142@qq.com>
Date:   Thu Jun 20 19:02:10 2019 +0800

    Fix bug that function greast and least return wrong type (#1342)

 fe/src/main/java/org/apache/doris/catalog/FunctionSet.java | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 8617e8ef4e00cc118d557baf4aec799c497a6b51
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Jun 20 15:49:12 2019 +0800

    open unit tests (#1340)

 run-ut.sh | 210 +++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 105 insertions(+), 105 deletions(-)

commit 7f1c3640ed1ecc3ce80db74bec9a049820de13e4
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jun 20 13:12:12 2019 +0800

    Fix show proc '/jobs/load' stmt for loadv2 (#1335)
    
    * Add streaming job in LoadProc
    * Add a config named desired_max_waiting_jobs
    1. If the number of pending load jobs is more then desired_max_waiting_jobs, the create load stmt will be rejected.
    2. If the number of need_scheduler load jobs is more then desired_max_waiting_jobs, the new routine load job will be rejected.
    3. Desired max size is only a expect number, so the size of queue may be more then this number sometimes.
    
    * Merge load manager and load jobs in jobs proc dir

 fe/src/main/java/org/apache/doris/common/Config.java  |  8 ++++++++
 .../org/apache/doris/common/proc/JobsProcDir.java     | 16 +++++++++++-----
 .../org/apache/doris/common/proc/LoadJobProcNode.java |  4 ++++
 .../org/apache/doris/common/proc/LoadProcDir.java     |  7 +++++++
 .../apache/doris/load/loadv2/LoadJobScheduler.java    |  5 +++++
 .../org/apache/doris/load/loadv2/LoadManager.java     | 19 +++++++++++++++++++
 .../doris/load/routineload/RoutineLoadManager.java    |  6 +++++-
 7 files changed, 59 insertions(+), 6 deletions(-)

commit 6afedb88a83b8398d9cffa43941e58bf8dd4766c
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Wed Jun 19 21:57:06 2019 +0800

    Add bitshuffle page (#1304)

 be/CMakeLists.txt                                  |  10 +-
 be/src/olap/CMakeLists.txt                         |   3 +-
 be/src/olap/rowset/segment_v2/bitshuffle_page.h    | 371 +++++++++++++++++++++
 .../olap/rowset/segment_v2/bitshuffle_wrapper.cpp  |  81 +++++
 be/src/olap/rowset/segment_v2/bitshuffle_wrapper.h |  34 ++
 be/src/olap/rowset/segment_v2/common.h             |  10 +-
 be/src/olap/rowset/segment_v2/options.h            |  18 +-
 be/src/olap/rowset/segment_v2/page_builder.h       |  15 +-
 be/src/olap/rowset/segment_v2/page_decoder.h       |  10 +-
 be/src/util/slice.h                                |   8 +-
 be/test/olap/CMakeLists.txt                        |   1 +
 .../rowset/segment_v2/bitshuffle_page_test.cpp     | 200 +++++++++++
 run-ut.sh                                          | 213 ++++++------
 thirdparty/build-thirdparty.sh                     |   2 +-
 14 files changed, 829 insertions(+), 147 deletions(-)

commit e143dd2c1a2952de935e33aa86b62efbec4152e2
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 19 19:41:48 2019 +0800

    Modify the max keep time of historical alter jobs (#1334)
    
    Currently, historical alter jobs will keep for a while before being removed.
    And this time is configured by label_keep_max_second. Which is also used for
    Load jobs.
    
    But to avoid too many historical load jobs being kept in memory,
    'label_keep_max_second' always set to a short time, causing alter jobs to be
    removed vary soon.
    
    Add a new FE config 'history_job_keep_max_second' to configure the keep time of
    alter jobs. Default is 7 days.

 fe/src/main/java/org/apache/doris/alter/AlterHandler.java | 2 +-
 fe/src/main/java/org/apache/doris/alter/RollupJob.java    | 4 ++--
 fe/src/main/java/org/apache/doris/catalog/Catalog.java    | 2 +-
 fe/src/main/java/org/apache/doris/common/Config.java      | 8 +++++++-
 4 files changed, 11 insertions(+), 5 deletions(-)

commit 5cd4777bb462de6d35670c25d75700d9e9c469eb
Author: chenhao <510341142@qq.com>
Date:   Wed Jun 19 09:17:13 2019 +0800

    Fix bug that if match wrong symbol (#1324)

 .../java/org/apache/doris/catalog/FunctionSet.java | 29 ++++++++++++++++++++--
 .../java/org/apache/doris/catalog/ScalarType.java  | 21 +++-------------
 gensrc/script/doris_builtins_functions.py          |  2 +-
 3 files changed, 32 insertions(+), 20 deletions(-)

commit bad6478d4f9ab9d4605d3b6c11d44b1f7e035d7b
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Jun 18 19:48:19 2019 +0800

    Allow chars i,h,s in time_format (#1328)

 docs/help/Contents/Data Manipulation/broker_load.md            | 10 +++++-----
 .../main/java/org/apache/doris/analysis/DataDescription.java   |  4 ++--
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 7f1720b6323a1a033683d6aa1972fa509ebb405a
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jun 18 14:48:33 2019 +0800

    Add rle encoding (#1326)

 be/src/util/alignment.h               |  26 ++
 be/src/util/bit_stream_utils.h        | 150 +++++++++
 be/src/util/bit_stream_utils.inline.h | 213 +++++++++++++
 be/src/util/bit_util.h                |  24 ++
 be/src/util/faststring.cc             |   4 +-
 be/src/util/faststring.h              |   4 +-
 be/src/util/rle_encoding.h            | 521 +++++++++++++++++++++++++++++++
 be/test/util/CMakeLists.txt           |   3 +-
 be/test/util/faststring_test.cpp      |   6 +-
 be/test/util/rle_encoding_test.cpp    | 562 ++++++++++++++++++++++++++++++++++
 run-ut.sh                             |   1 +
 11 files changed, 1506 insertions(+), 8 deletions(-)

commit a0294b8f4094a268bc798d5e2cef56708786ebd6
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Jun 17 10:18:16 2019 +0800

    Add Env for file operation (#1321)

 LICENSE.txt                    |   9 +
 be/CMakeLists.txt              |  29 +-
 be/src/common/status.cpp       |   2 +-
 be/src/common/status.h         |  84 ++++--
 be/src/env/CMakeLists.txt      |  26 ++
 be/src/env/env.h               | 297 +++++++++++++++++++
 be/src/env/env_posix.cpp       | 654 +++++++++++++++++++++++++++++++++++++++++
 be/src/gen_cpp/CMakeLists.txt  |   1 +
 be/src/gutil/macros.h          |  22 ++
 be/src/util/CMakeLists.txt     |   1 +
 be/src/util/bitmap.h           |  14 +-
 be/src/util/errno.cpp          |  50 ++++
 be/src/util/errno.h            |  32 ++
 be/test/env/CMakeLists.txt     |  21 ++
 be/test/env/env_posix_test.cpp | 209 +++++++++++++
 15 files changed, 1406 insertions(+), 45 deletions(-)

commit ba44249f808e4b0cd7cd231734edf676fc57e93c
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Jun 15 20:41:48 2019 +0800

    Remove unused code (#1320)

 be/src/exec/broker_scan_node.cpp |   2 +-
 be/src/olap/env/env.h            |  62 ---------------------
 be/src/olap/env/io_posix.cpp     | 117 ---------------------------------------
 be/src/olap/env/io_posix.h       |  46 ---------------
 4 files changed, 1 insertion(+), 226 deletions(-)

commit 30028bc35be31ceea330cebd8ef894315ccd8764
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Jun 15 18:19:56 2019 +0800

    Deny specify partition for unpartitioned table (#1319)

 be/src/exec/broker_scan_node.cpp                 | 6 +++++-
 fe/src/main/java/org/apache/doris/load/Load.java | 7 +++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 9d03ba236b8d00e6558f177d768f8ce7ea77511f
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jun 14 23:38:31 2019 +0800

    Uniform Status (#1317)

 LICENSE.txt                                        |   2 +-
 be/src/agent/heartbeat_server.cpp                  |  12 +-
 be/src/agent/pusher.cpp                            |   6 +-
 be/src/agent/task_worker_pool.cpp                  |   8 +-
 be/src/codegen/llvm_codegen.cpp                    |  30 +--
 be/src/common/status.cpp                           | 276 ++++++++++++---------
 be/src/common/status.h                             | 256 ++++++++++---------
 be/src/exec/aggregation_node.cpp                   |  12 +-
 be/src/exec/analytic_eval_node.cpp                 |  22 +-
 be/src/exec/blocking_join_node.cpp                 |   8 +-
 be/src/exec/broker_reader.cpp                      |  16 +-
 be/src/exec/broker_scan_node.cpp                   |  38 +--
 be/src/exec/broker_scanner.cpp                     |  40 +--
 be/src/exec/broker_writer.cpp                      |  16 +-
 be/src/exec/cross_join_node.cpp                    |  12 +-
 be/src/exec/csv_scan_node.cpp                      |  44 ++--
 be/src/exec/csv_scanner.cpp                        |  14 +-
 be/src/exec/data_sink.cpp                          |  20 +-
 be/src/exec/data_sink.h                            |   2 +-
 be/src/exec/decompressor.cpp                       |  44 ++--
 be/src/exec/empty_set_node.cpp                     |   2 +-
 be/src/exec/es/es_predicate.cpp                    |  42 ++--
 be/src/exec/es/es_query_builder.cpp                |  10 +-
 be/src/exec/es/es_scan_reader.cpp                  |  22 +-
 be/src/exec/es/es_scroll_parser.cpp                |  36 +--
 be/src/exec/es_http_scan_node.cpp                  |  42 ++--
 be/src/exec/es_http_scanner.cpp                    |  12 +-
 be/src/exec/es_scan_node.cpp                       |  60 ++---
 be/src/exec/exchange_node.cpp                      |  22 +-
 be/src/exec/exec_node.cpp                          |  87 +++----
 be/src/exec/exec_node.h                            |   2 +-
 be/src/exec/hash_join_node.cpp                     |  34 +--
 be/src/exec/kudu_scan_node.cpp                     |  14 +-
 be/src/exec/kudu_scanner.cpp                       |  10 +-
 be/src/exec/kudu_util.cpp                          |   8 +-
 be/src/exec/kudu_util.h                            |   4 +-
 be/src/exec/local_file_reader.cpp                  |  14 +-
 be/src/exec/local_file_writer.cpp                  |  10 +-
 be/src/exec/lzo_decompressor.cpp                   |  58 ++---
 be/src/exec/merge_join_node.cpp                    |  34 +--
 be/src/exec/merge_node.cpp                         |  14 +-
 be/src/exec/mysql_scan_node.cpp                    |  48 ++--
 be/src/exec/mysql_scanner.cpp                      |  26 +-
 be/src/exec/new_partitioned_aggregation_node.cc    |  80 +++---
 be/src/exec/new_partitioned_aggregation_node_ir.cc |  12 +-
 be/src/exec/new_partitioned_hash_table.cc          |  48 ++--
 be/src/exec/new_partitioned_hash_table.h           |   2 +-
 be/src/exec/olap_common.cpp                        |   6 +-
 be/src/exec/olap_common.h                          |  20 +-
 be/src/exec/olap_meta_reader.cpp                   |   8 +-
 be/src/exec/olap_rewrite_node.cpp                  |  16 +-
 be/src/exec/olap_scan_node.cpp                     |  58 ++---
 be/src/exec/olap_scanner.cpp                       |  30 +--
 be/src/exec/olap_table_info.cpp                    |  24 +-
 be/src/exec/olap_table_sink.cpp                    |  38 +--
 be/src/exec/partitioned_aggregation_node.cc        |  46 ++--
 be/src/exec/partitioned_aggregation_node_ir.cc     |  12 +-
 be/src/exec/pl_task_root.cpp                       |  16 +-
 be/src/exec/plain_text_line_reader.cpp             |   8 +-
 be/src/exec/pre_aggregation_node.cpp               |  50 ++--
 be/src/exec/read_write_util.h                      |   6 +-
 be/src/exec/scan_node.cpp                          |   2 +-
 be/src/exec/schema_scan_node.cpp                   |  46 ++--
 be/src/exec/schema_scanner.cpp                     |  22 +-
 .../schema_scanner/schema_charsets_scanner.cpp     |  14 +-
 .../schema_scanner/schema_collations_scanner.cpp   |  16 +-
 .../exec/schema_scanner/schema_columns_scanner.cpp |  22 +-
 .../exec/schema_scanner/schema_dummy_scanner.cpp   |   4 +-
 .../schema_scanner/schema_schemata_scanner.cpp     |  18 +-
 .../exec/schema_scanner/schema_tables_scanner.cpp  |  26 +-
 .../schema_scanner/schema_variables_scanner.cpp    |  16 +-
 be/src/exec/select_node.cpp                        |  16 +-
 be/src/exec/sort_exec_exprs.cpp                    |   8 +-
 be/src/exec/sort_node.cpp                          |  14 +-
 be/src/exec/sort_node.h                            |   2 +-
 be/src/exec/spill_sort_node.cc                     |  18 +-
 be/src/exec/topn_node.cpp                          |  12 +-
 be/src/exec/union_node.cpp                         |  16 +-
 be/src/exprs/agg_fn.cc                             |  12 +-
 be/src/exprs/agg_fn.h                              |   2 +-
 be/src/exprs/agg_fn_evaluator.cpp                  |   8 +-
 be/src/exprs/anyval_util.cpp                       |   2 +-
 be/src/exprs/arithmetic_expr.cpp                   |  56 ++---
 be/src/exprs/binary_predicate.cpp                  |  12 +-
 be/src/exprs/case_expr.cpp                         |   8 +-
 be/src/exprs/cast_expr.cpp                         |   8 +-
 be/src/exprs/compound_predicate.cpp                |   4 +-
 be/src/exprs/expr.cpp                              |  84 +++----
 be/src/exprs/expr_context.cpp                      |  13 +-
 be/src/exprs/in_predicate.cpp                      |  20 +-
 be/src/exprs/literal.cpp                           |   6 +-
 be/src/exprs/new_agg_fn_evaluator.cc               |  10 +-
 be/src/exprs/null_literal.cpp                      |   4 +-
 be/src/exprs/scalar_fn_call.cpp                    |  34 +--
 be/src/exprs/slot_ref.cpp                          |  16 +-
 be/src/exprs/tuple_is_null_predicate.cpp           |   2 +-
 be/src/http/action/meta_action.cpp                 |  10 +-
 be/src/http/action/mini_load.cpp                   |  28 +--
 be/src/http/action/pprof_actions.cpp               |   2 +-
 be/src/http/action/restore_tablet_action.cpp       |  18 +-
 be/src/http/action/stream_load.cpp                 |  14 +-
 be/src/http/download_action.cpp                    |  18 +-
 be/src/http/ev_http_server.cpp                     |  10 +-
 be/src/http/http_client.cpp                        |  28 +--
 be/src/olap/env/env.h                              |  62 +++++
 be/src/olap/env/io_posix.cpp                       | 117 +++++++++
 be/src/olap/env/io_posix.h                         |  46 ++++
 be/src/olap/olap_engine.cpp                        |  12 +-
 be/src/olap/rowset/segment_v2/encoding_info.cpp    |   8 +-
 .../olap/rowset/segment_v2/ordinal_page_index.cpp  |   6 +-
 be/src/olap/store.cpp                              |  56 ++---
 be/src/runtime/buffer_control_block.cpp            |  24 +-
 be/src/runtime/buffered_block_mgr.cpp              |  12 +-
 be/src/runtime/buffered_block_mgr.h                |   2 +-
 be/src/runtime/buffered_block_mgr2.cc              |  90 ++++---
 be/src/runtime/buffered_block_mgr2.h               |   6 +-
 be/src/runtime/buffered_tuple_stream.cpp           |  18 +-
 be/src/runtime/buffered_tuple_stream2.cc           |  40 +--
 be/src/runtime/buffered_tuple_stream3.cc           |  53 ++--
 be/src/runtime/buffered_tuple_stream3.h            |   2 +-
 be/src/runtime/bufferpool/buffer_allocator.cc      |  16 +-
 be/src/runtime/bufferpool/buffer_pool.cc           |  28 +--
 be/src/runtime/bufferpool/suballocator.cc          |  18 +-
 be/src/runtime/bufferpool/system_allocator.cc      |  10 +-
 be/src/runtime/client_cache.cpp                    |   6 +-
 be/src/runtime/client_cache.h                      |   2 +-
 be/src/runtime/data_spliter.cpp                    |  28 +--
 be/src/runtime/data_stream_mgr.cpp                 |   8 +-
 be/src/runtime/data_stream_recvr.cc                |   8 +-
 be/src/runtime/data_stream_sender.cpp              |  46 ++--
 be/src/runtime/descriptors.cpp                     |   4 +-
 be/src/runtime/disk_io_mgr.cc                      |  38 +--
 be/src/runtime/disk_io_mgr.h                       |   4 +-
 be/src/runtime/disk_io_mgr_reader_context.cc       |   2 +-
 be/src/runtime/disk_io_mgr_scan_range.cc           |  36 +--
 be/src/runtime/dpp_sink.cpp                        |  50 ++--
 be/src/runtime/dpp_sink_internal.cpp               |  34 +--
 be/src/runtime/dpp_writer.cpp                      |  18 +-
 be/src/runtime/etl_job_mgr.cpp                     |  32 +--
 be/src/runtime/exec_env_init.cpp                   |  12 +-
 be/src/runtime/export_sink.cpp                     |  20 +-
 be/src/runtime/export_task_mgr.cpp                 |  32 +--
 be/src/runtime/fragment_mgr.cpp                    |  24 +-
 be/src/runtime/initial_reservations.cc             |   6 +-
 be/src/runtime/load_path_mgr.cpp                   |  10 +-
 be/src/runtime/mem_tracker.cpp                     |   3 +-
 be/src/runtime/merge_sorter.cpp                    |  28 +--
 be/src/runtime/message_body_sink.cpp               |  12 +-
 be/src/runtime/message_body_sink.h                 |   2 +-
 be/src/runtime/mysql_table_sink.cpp                |   8 +-
 be/src/runtime/mysql_table_writer.cpp              |  18 +-
 be/src/runtime/mysql_table_writer.h                |   6 +-
 be/src/runtime/plan_fragment_executor.cpp          |  12 +-
 be/src/runtime/pull_load_task_mgr.cpp              |  52 ++--
 be/src/runtime/qsorter.cpp                         |  14 +-
 be/src/runtime/result_buffer_mgr.cpp               |  14 +-
 be/src/runtime/result_sink.cpp                     |   8 +-
 be/src/runtime/result_writer.cpp                   |  12 +-
 be/src/runtime/routine_load/data_consumer.cpp      |  44 ++--
 be/src/runtime/routine_load/data_consumer.h        |   2 +-
 .../runtime/routine_load/data_consumer_group.cpp   |  12 +-
 be/src/runtime/routine_load/data_consumer_group.h  |   2 +-
 be/src/runtime/routine_load/data_consumer_pool.cpp |  12 +-
 .../routine_load/routine_load_task_executor.cpp    |  16 +-
 be/src/runtime/row_batch.cpp                       |   2 +-
 be/src/runtime/row_batch.h                         |   2 +-
 be/src/runtime/runtime_state.cpp                   |  30 +--
 be/src/runtime/runtime_state.h                     |   6 +-
 be/src/runtime/small_file_mgr.cpp                  |  34 +--
 be/src/runtime/snapshot_loader.cpp                 |  94 +++----
 be/src/runtime/sorted_run_merger.cc                |  12 +-
 be/src/runtime/sorter.h                            |   6 +-
 be/src/runtime/spill_sorter.cc                     |  75 ++----
 be/src/runtime/stream_load/load_stream_mgr.h       |   4 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  10 +-
 be/src/runtime/stream_load/stream_load_pipe.h      |  16 +-
 be/src/runtime/tablet_writer_mgr.cpp               |  36 +--
 be/src/runtime/test_env.cc                         |   6 +-
 be/src/runtime/tmp_file_mgr.cc                     |  12 +-
 be/src/runtime/tmp_file_mgr.h                      |   2 +-
 be/src/runtime/user_function_cache.cpp             |  32 +--
 be/src/service/backend_service.cpp                 |   6 +-
 be/src/service/brpc_service.cpp                    |   4 +-
 be/src/service/http_service.cpp                    |   2 +-
 be/src/service/internal_service.cpp                |   2 +-
 be/src/util/broker_load_error_hub.cpp              |  12 +-
 be/src/util/codec.cpp                              |  16 +-
 be/src/util/compress.cpp                           |  24 +-
 be/src/util/compress.h                             |   6 +-
 be/src/util/decompress.cpp                         |  52 ++--
 be/src/util/decompress.h                           |   6 +-
 be/src/util/disk_info.cpp                          |   4 +-
 be/src/util/dynamic_util.cpp                       |   8 +-
 be/src/util/file_utils.cpp                         |  46 ++--
 be/src/util/file_utils.h                           |   2 +-
 be/src/util/filesystem_util.cc                     |  36 +--
 be/src/util/filesystem_util.h                      |   4 +-
 be/src/util/frontend_helper.cpp                    |   5 +-
 be/src/util/load_error_hub.cpp                     |   8 +-
 be/src/util/mysql_load_error_hub.cpp               |  20 +-
 be/src/util/network_util.cpp                       |  18 +-
 be/src/util/null_load_error_hub.cpp                |   6 +-
 be/src/util/thrift_client.cpp                      |   6 +-
 be/src/util/thrift_server.cpp                      |  10 +-
 be/src/util/thrift_util.cpp                        |   4 +-
 be/src/util/thrift_util.h                          |  20 +-
 be/test/common/CMakeLists.txt                      |   1 +
 be/test/common/status_test.cpp                     |  83 +++++++
 be/test/exec/olap_table_sink_test.cpp              |  12 +-
 .../schema_scanner/schema_columns_scanner_test.cpp |  12 +-
 .../schema_create_table_scanner_test.cpp           |  12 +-
 .../schema_open_tables_scanner_test.cpp            |  12 +-
 .../schema_schemata_scanner_test.cpp               |   8 +-
 .../schema_table_names_scanner_test.cpp            |  10 +-
 .../schema_scanner/schema_tables_scanner_test.cpp  |  12 +-
 be/test/http/stream_load_test.cpp                  |  10 +-
 be/test/runtime/buffer_control_block_test.cpp      |   4 +-
 be/test/runtime/data_spliter_test.cpp              |   2 +-
 be/test/runtime/data_stream_test.cpp               |   2 +-
 be/test/runtime/disk_io_mgr_test.cpp               |  32 +--
 be/test/runtime/etl_job_mgr_test.cpp               |  10 +-
 be/test/runtime/export_task_mgr_test.cpp           |  10 +-
 be/test/runtime/fragment_mgr_test.cpp              |   6 +-
 be/test/runtime/result_sink_test.cpp               |   2 +-
 be/test/util/json_util_test.cpp                    |   4 +-
 gensrc/thrift/Status.thrift                        |  19 +-
 run-ut.sh                                          |   3 +
 227 files changed, 2658 insertions(+), 2307 deletions(-)

commit 5c2cf9f2ce0eefa53fa32ccd0f95f6907226e252
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jun 14 20:28:29 2019 +0800

    Handle the situation when there is no enough backends for tablet repair (#1299)
    
    If there are only 3 backends and replication num is 3. If one replica of a
    tablet is bad, there is no 4th backend for tablet repair. So we need to delete
    a bad replica first to make room for new replica.

 .../operation/tablet_repair_and_balance.md         | 12 +++-
 .../java/org/apache/doris/catalog/OlapTable.java   |  4 +-
 .../main/java/org/apache/doris/catalog/Tablet.java | 20 +++++-
 .../apache/doris/catalog/TabletInvertedIndex.java  | 17 ++++-
 .../java/org/apache/doris/clone/TabletChecker.java | 12 ++--
 .../org/apache/doris/clone/TabletSchedCtx.java     |  4 +-
 .../org/apache/doris/clone/TabletScheduler.java    | 81 ++++++++++++++--------
 .../apache/doris/common/proc/StatisticProcDir.java |  3 +-
 .../org/apache/doris/master/ReportHandler.java     | 17 ++++-
 .../org/apache/doris/system/SystemInfoService.java | 10 +--
 10 files changed, 130 insertions(+), 50 deletions(-)

commit c8d7b8e1c43be717e48ab71b18872f49e199e34e
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jun 14 20:12:57 2019 +0800

    Fix bug that FE web frontend can not get static resource files (#1312)

 fe/src/main/java/org/apache/doris/http/BaseAction.java  | 11 +++++++----
 .../java/org/apache/doris/http/HttpServerHandler.java   | 10 +++++-----
 .../org/apache/doris/http/action/NotFoundAction.java    |  2 +-
 .../apache/doris/http/action/StaticResourceAction.java  | 17 ++++++++---------
 .../java/org/apache/doris/http/meta/MetaBaseAction.java |  2 +-
 .../org/apache/doris/http/rest/GetLogFileAction.java    |  3 +--
 .../org/apache/doris/http/rest/GetSmallFileAction.java  |  5 ++---
 7 files changed, 25 insertions(+), 25 deletions(-)

commit b002ba04d925555b7682e89cebf9fe0cc1d398f6
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Jun 14 14:13:38 2019 +0800

    Fix the error of duplicated label (#1303)

 .../org/apache/doris/load/loadv2/LoadManager.java  | 29 ++++++++++-
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  2 +-
 .../apache/doris/load/loadv2/LoadManagerTest.java  | 56 ++++++++++++++++++++++
 3 files changed, 84 insertions(+), 3 deletions(-)

commit 8d87e36ff8042037f076fb87851b5efa8d88c516
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Jun 13 20:54:45 2019 +0800

    Place _init_seek_columns() in right place (#1302)

 be/src/olap/reader.cpp | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 212c8f8c9bdd12689b847e28b6c5906442a2956d
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Jun 13 17:24:01 2019 +0800

    Add thirdparty lib (#1286)
    
    * Add bitshuffle and croaring lib

 be/CMakeLists.txt              |  6 +++++
 thirdparty/build-thirdparty.sh | 57 ++++++++++++++++++++++++++++++++++++++++++
 thirdparty/vars.sh             | 14 ++++++++++-
 3 files changed, 76 insertions(+), 1 deletion(-)

commit a04cf3a69585e9442ab0719314ce6b555c008a85
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jun 13 12:58:47 2019 +0800

    Fix bug that get_json_function may not be able to get result (#1295)
    
    std::string object is unexpectly deconstructed, cause invalid result.
    and Change log level

 be/src/exprs/json_functions.cpp                | 6 +++---
 docs/help/Contents/Data Definition/ddl_stmt.md | 3 ++-
 2 files changed, 5 insertions(+), 4 deletions(-)

commit a8900d102d3b22deaa32df108c100f24a9c754a7
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Jun 12 18:28:11 2019 +0800

    Change defalut value to NOT NULL when creating table (#1293)

 fe/src/main/cup/sql_parser.cup | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6be806aa395e58bc3092ec341e2d36bbd3bd8d75
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Jun 12 16:21:14 2019 +0800

    Fix creating rollup bug from multi SegmentGroups generated streaming … (#1287)
    
    In streaming load, one version will generate multi SegmentGroups.
    Upon creating rollup, the previous code only check version exists or not.
    Instead, every SegmentGroup should be checked independently.

 be/src/olap/olap_table.cpp    | 15 +++++++++++++--
 be/src/olap/olap_table.h      |  2 +-
 be/src/olap/schema_change.cpp |  2 +-
 3 files changed, 15 insertions(+), 4 deletions(-)

commit 5dea4fb41450206db5157dbaed685837d36d9bc2
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Jun 12 16:03:57 2019 +0800

    Add description of strict mode in decimal type (#1288)

 .../load-data/broker-load-manual.md                | 25 ++++++++++++++++++----
 docs/help/Contents/Data Types/help.md              |  2 +-
 2 files changed, 22 insertions(+), 5 deletions(-)

commit e9b2d30c6a346ec221343037edc8a02e8bb1509c
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Wed Jun 12 14:00:50 2019 +0800

    Add faststring and cpu util (#1281)

 be/src/gutil/CMakeLists.txt      |   3 +-
 be/src/gutil/cpu.cc              | 286 +++++++++++++++++++++++++++++++++++++++
 be/src/gutil/cpu.h               |  90 ++++++++++++
 be/src/util/CMakeLists.txt       |   1 +
 be/src/util/faststring.cc        |  72 ++++++++++
 be/src/util/faststring.h         | 257 +++++++++++++++++++++++++++++++++++
 be/test/util/CMakeLists.txt      |   1 +
 be/test/util/faststring_test.cpp |  83 ++++++++++++
 run-ut.sh                        |   1 +
 9 files changed, 793 insertions(+), 1 deletion(-)

commit c17c5ca5c4cbe1ecf358b7443e6cccfb69038f88
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jun 12 10:26:45 2019 +0800

    Add OrdinalPageIndex and EncodingInfo (#1282)

 be/CMakeLists.txt                                  |   2 +-
 be/src/olap/CMakeLists.txt                         |   2 +
 be/src/olap/rowset/segment_v2/common.h             |  57 ++++-----
 be/src/olap/rowset/segment_v2/encoding_info.cpp    | 131 ++++++++++++++++++++
 be/src/olap/rowset/segment_v2/encoding_info.h      |  63 ++++++++++
 .../olap/rowset/segment_v2/ordinal_page_index.cpp  |  73 +++++++++++
 be/src/olap/rowset/segment_v2/ordinal_page_index.h | 133 +++++++++++++++++++++
 be/src/olap/rowset/segment_v2/page_pointer.h       |  58 +++++++++
 be/test/olap/CMakeLists.txt                        |   2 +
 .../olap/rowset/segment_v2/encoding_info_test.cpp  |  59 +++++++++
 .../rowset/segment_v2/ordinal_page_index_test.cpp  | 105 ++++++++++++++++
 gensrc/proto/segment_v2.proto                      |  61 ++++++----
 run-ut.sh                                          |   2 +
 13 files changed, 695 insertions(+), 53 deletions(-)

commit 029c3dc9204ae4d020a4dd98f0a2f40f58d4e684
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jun 12 09:24:37 2019 +0800

    Update README.md (#1284)
    
    Update the docker dev env images version

 README.md | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 8b79abcaba2aa453c8564a7b18669aa49f482423
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Jun 11 21:05:45 2019 +0800

    Support setting exec_mem_limit in ExportJob (#1280)

 fe/pom.xml                                         |  2 +-
 .../java/org/apache/doris/analysis/ExportStmt.java | 20 +++++++++++++++++---
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../main/java/org/apache/doris/load/ExportJob.java | 22 ++++++++++++++++++++++
 5 files changed, 43 insertions(+), 5 deletions(-)

commit ccf2e5bb9ea686b104ec270890bbad68b7945534
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jun 11 10:37:16 2019 +0800

    Add page api for new format segment (#1270)

 be/src/olap/rowset/segment_v2/page_builder.h | 78 +++++++++++++++++++++++++++
 be/src/olap/rowset/segment_v2/page_decoder.h | 81 ++++++++++++++++++++++++++++
 be/src/runtime/vectorized_row_batch.h        | 27 ++++++++++
 3 files changed, 186 insertions(+)

commit 922fa28097caf2453526738c86676ea5c914af75
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jun 11 09:34:58 2019 +0800

    Add common and options for new format segment (#1269)

 be/src/olap/rowset/segment_v2/common.h  | 28 +++++++++++++++++++++
 be/src/olap/rowset/segment_v2/options.h | 44 +++++++++++++++++++++++++++++++++
 2 files changed, 72 insertions(+)

commit 0900ab853f5e79f1a7811ae47d37ac7a33c95bda
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jun 11 09:34:32 2019 +0800

    Add pb define for new format segment (#1268)

 gensrc/proto/segment_v2.proto | 103 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 103 insertions(+)

commit 9d7f99a6696ee484717641fd34e07cd43a0ec086
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jun 11 09:34:06 2019 +0800

    Add new file format design markdown (#1267)

 .../cn/internal/doris_storage_optimization.md      | 206 +++++++++++++++++++++
 docs/resources/segment_v2.png                      | Bin 0 -> 40991 bytes
 2 files changed, 206 insertions(+)

commit 84632cd062705d110424a39ec5230fe5959f28e0
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jun 11 09:23:02 2019 +0800

    Add BitMapIterator (#1277)

 be/src/util/bitmap.cpp       | 129 ++++++++++++++++++++++++++++++++------
 be/src/util/bitmap.h         | 145 +++++++++++++++++++++++++++++++++++++++++++
 be/test/util/CMakeLists.txt  |   1 +
 be/test/util/bitmap_test.cpp | 140 +++++++++++++++++++++++++++++++++++++++++
 run-ut.sh                    |   1 +
 5 files changed, 397 insertions(+), 19 deletions(-)

commit 53062122eaa59fc247e8833c5bd822d88f0da4d1
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jun 10 20:39:45 2019 +0800

    Change strategy of incorrect data (#1255)
    
    This change adds a load property named strict_mode which is used to prohibit the incorrect data.
    When it is set to false, the incorrect data will be loaded by NULL just like before.
    When it is set to true, the incorrect data which belongs to a column without expr will be filtered.
    The strict_mode is supported in broker load v2 now. It will be supported in stream load later.

 be/src/exec/broker_scanner.cpp                     | 46 +++++++++++++++++++---
 be/src/exec/broker_scanner.h                       |  4 ++
 .../load-data/broker-load-manual.md                | 26 ++++++++++++
 .../java/org/apache/doris/analysis/LoadStmt.java   | 12 ++++++
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  2 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 12 ++++++
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |  7 +++-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  7 +++-
 .../org/apache/doris/planner/BrokerScanNode.java   | 21 +++++++++-
 .../apache/doris/planner/StreamLoadScanNode.java   |  5 +++
 gensrc/thrift/PlanNodes.thrift                     |  7 ++++
 11 files changed, 137 insertions(+), 12 deletions(-)

commit 6a54464ee836b45ca8dca112e99c0e21e768f348
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Jun 10 20:11:42 2019 +0800

    Fix bug that NullPredicate is not correctly handled by partition pruning (#1276)

 .../java/org/apache/doris/catalog/ScalarType.java  |  5 ++-
 .../doris/planner/PartitionColumnFilter.java       |  6 +--
 .../apache/doris/planner/SingleNodePlanner.java    | 52 +++++++++++++++++-----
 3 files changed, 48 insertions(+), 15 deletions(-)

commit 2efd5a4d869ebd39d86a6d5cd0561a3b93f02980
Author: liuchengshishabi <237231003@qq.com>
Date:   Mon Jun 10 17:29:04 2019 +0800

    Fix bug: FE pid file has wrong content(#1273)
    
    For example, we start the process for the first time. The pid is 12345. Due to the accident, the process is killed and the fe.pid exists. Then we start the process for the second time. The pid is 6789. The fe.pid shows 67895 , Because file.write only cover the first four digits. This case can happen easily when we use supervise. Then I add the file.setLength(0) and delete the old data.

 fe/src/main/java/org/apache/doris/PaloFe.java | 1 +
 1 file changed, 1 insertion(+)

commit 8cd29d194ee4e4b6d1d4fda22eae36890f348d41
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Jun 10 16:30:57 2019 +0800

    Fix += decimal error (#1272)
    
    This change fix the +=decimal error when integer is zero or fraction is zero.
    In this situation, the += operator will make a mistake.

 be/src/olap/field_info.h         |  2 +-
 be/test/olap/field_info_test.cpp | 34 +++++++++++++++++++++++++++++++++-
 2 files changed, 34 insertions(+), 2 deletions(-)

commit 038ddcfa0b5bbc5edab269ba6219c3fd8c8c6213
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Jun 10 15:51:58 2019 +0800

    Set timeout configuration for stream load (#1271)

 fe/src/main/java/org/apache/doris/planner/StreamLoadPlanner.java | 2 ++
 1 file changed, 2 insertions(+)

commit d1b1fce92fe762a7385817c737affa534a095f3b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sun Jun 9 15:55:46 2019 +0800

    Change LICENSE file (#1265)

 LICENSE.txt            | 32 ++++++++++++++++++++++++++++++++
 be/src/util/coding.cpp |  9 +++++++++
 be/src/util/coding.h   |  9 +++++++++
 run-ut.sh              |  1 +
 4 files changed, 51 insertions(+)

commit 3e1c70d1b74379c0e52e75eb634686932a39499f
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Jun 8 21:02:31 2019 +0800

    Add coding function (#1264)

 be/src/util/CMakeLists.txt   |   1 +
 be/src/util/coding.cpp       |  84 ++++++++++++++++++++++
 be/src/util/coding.h         | 156 ++++++++++++++++++++++++++++++++++++++++
 be/test/util/CMakeLists.txt  |   1 +
 be/test/util/coding_test.cpp | 166 +++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 408 insertions(+)

commit e4e04e8203480a1157f607ef263ce7744e13d0df
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jun 7 22:26:54 2019 +0800

    Make LZO support optional (#1263)

 README.md                                          |   9 +-
 be/CMakeLists.txt                                  |  17 +-
 be/src/exec/CMakeLists.txt                         |   6 +
 be/src/exec/decompressor.cpp                       | 381 +------------------
 be/src/exec/decompressor.h                         |   5 +
 be/src/exec/lzo_decompressor.cpp                   | 403 +++++++++++++++++++++
 be/src/exec/olap_meta_reader.cpp                   |   1 -
 be/src/olap/compress.cpp                           |   2 +
 be/src/olap/compress.h                             |   2 +
 be/src/olap/in_stream.cpp                          |   4 +-
 be/src/olap/olap_define.h                          |   1 +
 be/src/olap/olap_header.h                          |   3 -
 be/src/olap/out_stream.cpp                         |   2 +
 be/src/olap/push_handler.cpp                       |  11 +
 be/src/olap/segment_reader.cpp                     |   2 +
 be/src/olap/utils.cpp                              |  13 +
 be/test/exec/CMakeLists.txt                        |   2 +
 be/test/olap/column_reader_test.cpp                |   4 +-
 be/test/olap/run_length_byte_test.cpp              |  37 +-
 build.sh                                           |  34 +-
 .../apache/doris/http/rest/SetConfigAction.java    |   3 +-
 run-ut.sh                                          |   4 +-
 thirdparty/LICENSE.txt                             |  66 ++++
 23 files changed, 588 insertions(+), 424 deletions(-)

commit ff0dd0d2daa588f18b6db56f947e813a56d8ec81
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jun 7 16:29:01 2019 +0800

    Support SSL authentication with Kafka in routine load job (#1235)

 be/src/agent/agent_server.cpp                      |   7 -
 be/src/agent/heartbeat_server.cpp                  |   4 +
 be/src/common/config.h                             |  17 +-
 be/src/runtime/CMakeLists.txt                      |   1 +
 be/src/runtime/exec_env.h                          |   3 +
 be/src/runtime/exec_env_init.cpp                   |   3 +
 be/src/runtime/pull_load_task_mgr.cpp              |   5 +-
 be/src/runtime/routine_load/data_consumer.cpp      | 111 ++++-
 be/src/runtime/routine_load/data_consumer.h        |   5 +
 be/src/runtime/routine_load/data_consumer_pool.cpp |   4 +-
 .../routine_load/routine_load_task_executor.cpp    |  37 +-
 .../routine_load/routine_load_task_executor.h      |   4 +
 be/src/runtime/small_file_mgr.cpp                  | 231 +++++++++
 be/src/runtime/small_file_mgr.h                    |  88 ++++
 be/src/runtime/stream_load/stream_load_context.h   |   4 +
 be/src/service/backend_service.h                   |   1 -
 be/src/service/internal_service.cpp                |  25 +
 be/src/service/internal_service.h                  |   6 +
 be/test/runtime/CMakeLists.txt                     |   1 +
 be/test/runtime/small_file_mgr_test.cpp            | 134 ++++++
 .../67890.a06e26ae5511b0acea8273cf180ca7bf         |   1 +
 .../test_data/small_file/source/small_file.txt     |   1 +
 .../http-actions/fe_get_log_file.md                |  52 ++
 .../load-data/routine-load-manual.md               |  37 +-
 .../cn/administrator-guide/small_file_mgr.md       |  78 +++
 docs/help/Contents/Administration/small_files.md   | 103 ++++
 docs/help/Contents/Data Definition/ddl_stmt.md     |   8 +-
 .../Contents/Data Manipulation/routine_load.md     |  56 ++-
 fe/pom.xml                                         |  27 +-
 fe/src/main/cup/sql_parser.cup                     |  18 +-
 .../org/apache/doris/analysis/CreateFileStmt.java  | 170 +++++++
 .../doris/analysis/CreateRoutineLoadStmt.java      |   6 +-
 .../org/apache/doris/analysis/DropFileStmt.java    | 123 +++++
 .../java/org/apache/doris/analysis/LabelName.java  |   4 +-
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |   5 +-
 .../apache/doris/analysis/ShowSmallFilesStmt.java  |  75 +++
 .../java/org/apache/doris/backup/Repository.java   |   1 +
 .../java/org/apache/doris/catalog/Catalog.java     |  26 +-
 .../apache/doris/clone/ColocateTableBalancer.java  |   8 +-
 .../main/java/org/apache/doris/common/Config.java  |  17 +
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../main/java/org/apache/doris/common/Status.java  |   8 +-
 .../common/proc/CurrentQueryInfoProvider.java      |  25 +-
 .../org/apache/doris/common/util/DebugUtil.java    |   2 +-
 .../org/apache/doris/common/util/KafkaUtil.java    | 103 ++++
 .../org/apache/doris/common/util/SmallFileMgr.java | 529 +++++++++++++++++++++
 .../java/org/apache/doris/http/BaseAction.java     |  58 ++-
 .../java/org/apache/doris/http/HttpServer.java     |   2 +
 .../doris/http/action/StaticResourceAction.java    |   2 +-
 .../org/apache/doris/http/meta/MetaBaseAction.java |   2 +-
 .../apache/doris/http/rest/GetLogFileAction.java   |  84 ++--
 .../apache/doris/http/rest/GetSmallFileAction.java |  93 ++++
 .../org/apache/doris/http/rest/RestBaseAction.java |   6 +-
 .../org/apache/doris/journal/JournalEntity.java    |   7 +
 fe/src/main/java/org/apache/doris/load/Load.java   |  31 +-
 .../load/routineload/KafkaRoutineLoadJob.java      | 124 +++--
 .../doris/load/routineload/KafkaTaskInfo.java      |   2 +-
 .../doris/load/routineload/RoutineLoadJob.java     |  11 +-
 .../load/routineload/RoutineLoadScheduler.java     |   3 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  11 +
 .../load/routineload/RoutineLoadTaskScheduler.java |  11 +-
 .../java/org/apache/doris/persist/EditLog.java     |  19 +
 .../org/apache/doris/persist/OperationType.java    |   4 +
 .../java/org/apache/doris/qe/ConnectProcessor.java |   9 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |   8 +-
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   7 +
 .../java/org/apache/doris/qe/ResultReceiver.java   |  18 +-
 fe/src/main/java/org/apache/doris/qe/RowBatch.java |   2 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  16 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     |   8 +-
 .../org/apache/doris/rpc/BackendServiceProxy.java  |  31 +-
 .../java/org/apache/doris/rpc/PBackendService.java |  12 +
 .../doris/rpc/PCancelPlanFragmentRequest.java      |  32 --
 .../doris/rpc/PCancelPlanFragmentResult.java       |  27 --
 .../apache/doris/rpc/PExecPlanFragmentResult.java  |  27 --
 .../org/apache/doris/rpc/PFetchDataRequest.java    |   2 +
 .../org/apache/doris/rpc/PFetchDataResult.java     |  33 --
 .../org/apache/doris/rpc/PQueryStatistics.java     |  35 --
 fe/src/main/java/org/apache/doris/rpc/PStatus.java |  31 --
 .../doris/rpc/PTriggerProfileReportRequest.java    |   2 +
 .../doris/rpc/PTriggerProfileReportResult.java     |  30 --
 .../main/java/org/apache/doris/rpc/PUniqueId.java  |  68 ---
 .../java/org/apache/doris/system/HeartbeatMgr.java |   8 +-
 .../apache/doris/transaction/TransactionState.java |   3 +-
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 .../org/apache/doris/common/GenericPoolTest.java   |   1 -
 .../apache/doris/common/util/SmallFileMgrTest.java | 131 +++++
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  32 +-
 .../doris/load/routineload/RoutineLoadJobTest.java |  20 +-
 .../load/routineload/RoutineLoadSchedulerTest.java |   5 +-
 .../org/apache/doris/qe/ConnectProcessorTest.java  |  13 +-
 gensrc/proto/Makefile                              |   9 +
 gensrc/proto/column_data_file.proto                |   3 +
 gensrc/proto/data.proto                            |   1 +
 gensrc/proto/descriptors.proto                     |   1 +
 gensrc/proto/internal_service.proto                |  38 +-
 gensrc/proto/olap_common.proto                     |   3 +
 gensrc/proto/olap_file.proto                       |   3 +
 gensrc/proto/palo_internal_service.proto           |   2 +
 gensrc/proto/status.proto                          |   1 +
 gensrc/proto/types.proto                           |   1 +
 gensrc/thrift/BackendService.thrift                |  17 +
 gensrc/thrift/HeartbeatService.thrift              |   1 +
 run-ut.sh                                          |   3 +-
 105 files changed, 2803 insertions(+), 540 deletions(-)

commit cb91e15f1e96ade86c909b90456b02977e6cbf56
Author: kevin <kevinlin.job@gmail.com>
Date:   Thu Jun 6 15:47:10 2019 +0800

    Modify UDF docs (#1260)

 .../cn/extending-doris/user-defined-function.md              | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 934ca2481a4ae5cc4254ecee9dcc71163e25c7b5
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jun 5 12:28:16 2019 +0800

    Make MySQL support optional (#1248)

 be/CMakeLists.txt                     | 19 +++++++++++++++---
 be/src/exec/CMakeLists.txt            | 37 ++++++++---------------------------
 be/src/exec/data_sink.cpp             |  4 ++++
 be/src/exec/exec_node.cpp             |  4 ++++
 be/src/exec/mysql_scanner.cpp         | 11 +++++++++++
 be/src/exec/mysql_scanner.h           | 21 +++++++++++---------
 be/src/runtime/CMakeLists.txt         | 35 ++++++++++-----------------------
 be/src/runtime/decimal_value.cpp      |  1 -
 be/src/runtime/mysql_table_sink.cpp   |  2 +-
 be/src/runtime/mysql_table_writer.cpp |  4 ++++
 be/src/runtime/mysql_table_writer.h   |  7 +++++--
 be/src/runtime/runtime_state.cpp      |  2 +-
 be/src/util/CMakeLists.txt            | 25 +++++++++++------------
 be/src/util/load_error_hub.cpp        |  4 ++++
 be/src/util/mysql_load_error_hub.cpp  |  3 +++
 be/src/util/mysql_load_error_hub.h    | 12 +++++++-----
 be/src/util/null_load_error_hub.h     |  2 --
 build.sh                              | 34 ++++++++++++++++++++++++--------
 run-ut.sh                             |  2 +-
 19 files changed, 128 insertions(+), 101 deletions(-)

commit ece34fb838e27808e9439add75a02fd180fb8383
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Jun 5 11:12:36 2019 +0800

    Make hll function backward compatibility (#1251)

 be/src/exprs/aggregate_functions.cpp | 20 +++++++++++++++++++-
 be/src/exprs/aggregate_functions.h   |  9 +++++++++
 be/src/exprs/hll_hash_function.cpp   |  6 ++++++
 be/src/exprs/hll_hash_function.h     |  3 +++
 4 files changed, 37 insertions(+), 1 deletion(-)

commit f42432162547e563bca15a06951437d31396f08a
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Jun 4 22:23:14 2019 +0800

    Fix IllegalArgumentException in LoadManager (#1240)

 .../java/org/apache/doris/load/loadv2/LoadJob.java | 19 +++++
 .../org/apache/doris/load/loadv2/LoadManager.java  | 31 +++++---
 .../apache/doris/load/loadv2/LoadManagerTest.java  | 85 ++++++++++++++++++++++
 3 files changed, 126 insertions(+), 9 deletions(-)

commit 6ce808791697bfd4cc68c5805d3dc5cdd62da022
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jun 4 22:20:10 2019 +0800

    Fix bug that RowCusor do NOT match with RowBlock's layout (#1249)

 be/src/olap/column_data.cpp | 32 +++-----------------------------
 be/src/olap/column_data.h   |  4 ++--
 be/src/olap/reader.cpp      | 35 ++++++++++++++++++++++++++++++++---
 be/src/olap/reader.h        |  2 ++
 be/src/olap/row_cursor.cpp  | 13 +++++++++----
 5 files changed, 48 insertions(+), 38 deletions(-)

commit 9f5f44ec48a5928df6248f6ee95edb3c12d472e0
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jun 4 12:58:41 2019 +0800

    Reduce memory RowBlock needed (#1238)
    
    Before RowBlock will reserve memory for all columns in schema, even if
    it is not queried. Which will cause bad performance when quering wide
    table.
    
    In this patch, RowBlock will reserve memory for needed columns. In a
    case, this reduce ConvertBatchTime from 10s to 60ms when quering a wide
    table who has 178 columns.
    
     #1236

 be/src/exec/olap_scanner.cpp            |   1 +
 be/src/olap/column_data.cpp             |   1 +
 be/src/olap/data_writer.cpp             |   2 +-
 be/src/olap/reader.h                    |   1 +
 be/src/olap/row_block.cpp               | 247 ++------------------------------
 be/src/olap/row_block.h                 |  41 +-----
 be/src/olap/schema_change.cpp           |   2 +-
 be/src/runtime/vectorized_row_batch.cpp |  21 +--
 be/src/runtime/vectorized_row_batch.h   |   8 +-
 be/test/olap/row_block_test.cpp         | 136 +++---------------
 10 files changed, 55 insertions(+), 405 deletions(-)

commit bedd94dca283ef3db6cce96ecccebb5c484e867b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Jun 4 11:13:23 2019 +0800

    Upgrade brpc to 0.9.5 (#1243)
    
    Change some ut

 be/test/olap/bit_field_test.cpp           |  9 ++++++---
 be/test/olap/column_reader_test.cpp       |  7 ++++---
 be/test/olap/olap_header_manager_test.cpp | 24 ++++++++++++------------
 be/test/olap/olap_meta_test.cpp           | 24 +++++++++++++-----------
 be/test/olap/run_length_byte_test.cpp     |  9 ++++++---
 be/test/olap/run_length_integer_test.cpp  | 17 +++++++++++------
 thirdparty/build-thirdparty.sh            |  2 +-
 thirdparty/vars.sh                        |  8 ++++----
 8 files changed, 57 insertions(+), 43 deletions(-)

commit ae75e44e05adb7a4c7e6492d079e3baa84ab4963
Author: worker24h <xxbzj249@163.com>
Date:   Tue Jun 4 11:07:37 2019 +0800

    fixup leak memory (#1244)
    
    When I declared that the compilation mode was BUILD_TYPE=LSAN, there was a memory leak after running doris.
    
    be.out:
    Direct leak of 32816 byte(s) in 1 object(s) allocated from:
        #0 0x1089666 in __interceptor_malloc ../../../../libsanitizer/lsan/lsan_interceptors.cc:53
        #1 0x7ff459547280 in __alloc_dir (/lib64/libc.so.6+0xc0280)
    
    SUMMARY: LeakSanitizer: 32816 byte(s) leaked in 1 allocation(s).

 be/src/olap/store.cpp | 1 +
 1 file changed, 1 insertion(+)

commit 6231fe0abc12467f522c2d52808d6fc7d3d2846a
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Jun 1 18:10:24 2019 +0800

    Fix FragmentMgrTest crash sometimes (#1232)

 be/test/runtime/fragment_mgr_test.cpp | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 741539de9181302e17a64f6d35e37e8ee78e91d6
Author: kevin <kevinlin.job@gmail.com>
Date:   Fri May 31 17:47:41 2019 +0800

    Release udf headers & lib (#1231)
    
    remove internal headers from udf.h
    release udf headers & lib

 be/src/udf/CMakeLists.txt |  8 ++++++++
 be/src/udf/udf.cpp        | 22 ++++++++++++++++++++++
 be/src/udf/udf.h          |  5 ++---
 build.sh                  | 13 ++++++++-----
 4 files changed, 40 insertions(+), 8 deletions(-)

commit 7cdaba66dc0f1436d74193060038522fe8fb4d25
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri May 31 14:23:09 2019 +0800

    Add spatial func (#1213)
    
    Support some spatial functions, such as ST_Contains.

 README.md                                          |   2 +
 be/CMakeLists.txt                                  |   8 +
 be/src/common/daemon.cpp                           |   2 +
 be/src/geo/CMakeLists.txt                          |  47 ++
 be/src/geo/geo_common.cpp                          |  54 +++
 be/src/geo/geo_common.h                            |  52 +++
 be/src/geo/geo_functions.cpp                       | 307 ++++++++++++
 be/src/geo/geo_functions.h                         | 113 +++++
 be/src/geo/geo_types.cpp                           | 520 +++++++++++++++++++++
 be/src/geo/geo_types.h                             | 199 ++++++++
 be/src/geo/wkt_lex.l                               |  72 +++
 be/src/geo/wkt_parse.cpp                           |  49 ++
 be/src/geo/wkt_parse.h                             |  35 ++
 be/src/geo/wkt_parse_ctx.h                         |  32 ++
 be/src/geo/wkt_parse_type.h                        |  50 ++
 be/src/geo/wkt_yacc.y                              | 165 +++++++
 be/src/testutil/CMakeLists.txt                     |   1 +
 be/src/testutil/function_utils.cpp                 |  45 ++
 be/src/testutil/function_utils.h                   |  43 ++
 be/test/geo/CMakeLists.txt                         |  23 +
 be/test/geo/geo_functions_test.cpp                 | 329 +++++++++++++
 be/test/geo/geo_types_test.cpp                     | 209 +++++++++
 be/test/geo/wkt_parse_test.cpp                     |  58 +++
 build.sh                                           |   2 +-
 .../sql-functions/spatial-functions/st_astext.md   |  20 +
 .../sql-functions/spatial-functions/st_circle.md   |  21 +
 .../sql-functions/spatial-functions/st_contains.md |  27 ++
 .../spatial-functions/st_distance_sphere.md        |  20 +
 .../spatial-functions/st_geometryfromtext.md       |  20 +
 .../spatial-functions/st_linefromtext.md           |  20 +
 .../sql-functions/spatial-functions/st_point.md    |  21 +
 .../sql-functions/spatial-functions/st_polygon.md  |  20 +
 .../sql-functions/spatial-functions/st_x.md        |  20 +
 .../sql-functions/spatial-functions/st_y.md        |  20 +
 gensrc/script/doris_builtins_functions.py          |  40 +-
 run-ut.sh                                          |   5 +
 thirdparty/build-thirdparty.sh                     |  20 +
 thirdparty/download-thirdparty.sh                  |   8 +
 thirdparty/patches/s2geometry-0.9.0.patch          |  13 +
 thirdparty/vars.sh                                 |   8 +-
 40 files changed, 2717 insertions(+), 3 deletions(-)

commit c20d62679e7794e490e8cd7144091c5e21b09611
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri May 31 07:14:06 2019 +0800

    Add negative load from StreamLoad (#1227)

 be/src/http/action/stream_load.cpp                                | 6 ++++++
 be/src/http/http_common.h                                         | 1 +
 fe/src/main/java/org/apache/doris/planner/StreamLoadPlanner.java  | 6 ++++++
 fe/src/main/java/org/apache/doris/planner/StreamLoadScanNode.java | 8 ++++++++
 fe/src/main/java/org/apache/doris/task/StreamLoadTask.java        | 8 ++++++++
 gensrc/thrift/FrontendService.thrift                              | 1 +
 6 files changed, 30 insertions(+)

commit dc0cd5fd67f22b92f63c039004232883e4d42e54
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri May 31 07:12:22 2019 +0800

    Fix the bug of += decimal in olap engine (#1226)
    
    * Fix the bug of += decimal in olap engine
    [ISSUE-1225] This change fix the olap engine bug of decimal agg. Using ^ instead of * to judge result is less then zero.
    The result of * will be less then zero when the result is overflow. So the answer of += is incorrect.

 be/src/olap/field_info.h         |  4 +++-
 be/test/olap/CMakeLists.txt      |  1 +
 be/test/olap/field_info_test.cpp | 46 ++++++++++++++++++++++++++++++++++++++++
 run-ut.sh                        |  1 +
 4 files changed, 51 insertions(+), 1 deletion(-)

commit 309b779a7d142dac35ce43bf3319573ae6f3ed53
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu May 30 22:47:22 2019 +0800

    Check colocate table name should be case-sensitive (#1224)

 fe/src/main/java/org/apache/doris/catalog/Catalog.java         |  2 +-
 .../test/java/org/apache/doris/catalog/ColocateTableTest.java  | 10 +++++++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 180d8e5cbdaabcf00d1301c5d85605232b66057c
Author: Mingyu Chen <morningman@163.com>
Date:   Thu May 30 21:23:37 2019 +0800

    Modify some thirdparties (#1228)
    
    1. Change Kafka java client from 2.0.0 to 0.10.1.1. Because high version client may not support low server server.
    2. Enable SSL in librdkafka

 be/CMakeLists.txt                                                     | 2 +-
 be/src/runtime/routine_load/routine_load_task_executor.h              | 3 ++-
 fe/pom.xml                                                            | 2 +-
 .../java/org/apache/doris/load/routineload/KafkaRoutineLoadJob.java   | 4 +---
 .../org/apache/doris/load/routineload/KafkaRoutineLoadJobTest.java    | 3 +--
 .../java/org/apache/doris/load/routineload/RoutineLoadJobTest.java    | 3 +--
 thirdparty/build-thirdparty.sh                                        | 4 ++--
 7 files changed, 9 insertions(+), 12 deletions(-)

commit fa4ac9f751402002947c96760d324fea2013d61a
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed May 29 19:21:42 2019 +0800

    Replay GlobalVariable by Annotation (#1219)

 .../main/java/org/apache/doris/qe/VariableMgr.java | 98 ++++------------------
 .../java/org/apache/doris/qe/VariableMgrTest.java  |  6 ++
 2 files changed, 20 insertions(+), 84 deletions(-)

commit 319c71f69ff78e2d32d5f786ed5d72740b98fe4e
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed May 29 12:35:20 2019 +0800

    Remove unnecessary import sun.security.ssl.Debug (#1215)

 fe/src/main/java/org/apache/doris/task/LoadPendingTask.java | 2 --
 1 file changed, 2 deletions(-)

commit f648bdd968d5fd921880958e1c12eeb7b1bd731b
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue May 28 15:55:31 2019 +0800

    Fix datediff function  (#1208)

 fe/src/main/java/org/apache/doris/rewrite/FEFunctions.java  | 13 ++++++++++---
 .../test/java/org/apache/doris/rewrite/FEFunctionsTest.java | 11 +++++++++++
 2 files changed, 21 insertions(+), 3 deletions(-)

commit 9d19c6c31587c7777f8dd4eaba49763253e7b90a
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue May 28 10:03:50 2019 +0800

    Support arbitrary kafka properties (#1204)

 be/src/runtime/routine_load/data_consumer.cpp      |  4 +++
 be/src/runtime/stream_load/stream_load_context.h   |  5 ++-
 .../Contents/Data Manipulation/routine_load.md     |  9 ++++++
 .../doris/analysis/CreateRoutineLoadStmt.java      | 21 +++++++++++-
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |  1 +
 .../java/org/apache/doris/common/FeConstants.java  |  2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |  2 ++
 .../load/routineload/KafkaRoutineLoadJob.java      | 37 ++++++++++++++++++++++
 .../doris/load/routineload/KafkaTaskInfo.java      |  1 +
 .../doris/load/routineload/RoutineLoadJob.java     |  3 ++
 gensrc/thrift/BackendService.thrift                |  1 +
 11 files changed, 83 insertions(+), 3 deletions(-)

commit 5ca28057016e3c50550177695007594620aff534
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon May 27 17:36:09 2019 +0800

    Add some date time function doc (#1206)

 .../date-time-functions/current_timestamp.md       | 20 ++++++++++++++
 .../sql-functions/date-time-functions/date_add.md  | 26 ++++++++++++++++++
 .../sql-functions/date-time-functions/date_sub.md  | 26 ++++++++++++++++++
 .../sql-functions/date-time-functions/datediff.md  | 31 ++++++++++++++++++++++
 .../sql-functions/date-time-functions/day.md       | 22 +++++++++++++++
 .../sql-functions/date-time-functions/dayname.md   | 22 +++++++++++++++
 .../date-time-functions/dayofmonth.md              | 22 +++++++++++++++
 .../sql-functions/date-time-functions/dayofyear.md | 22 +++++++++++++++
 .../sql-functions/date-time-functions/from_days.md | 20 ++++++++++++++
 .../sql-functions/date-time-functions/month.md     | 22 +++++++++++++++
 .../sql-functions/date-time-functions/monthname.md | 22 +++++++++++++++
 .../sql-functions/date-time-functions/now.md       | 20 ++++++++++++++
 .../date-time-functions/str_to_date.md             | 29 ++++++++++++++++++++
 .../sql-functions/date-time-functions/to_days.md   | 22 +++++++++++++++
 .../date-time-functions/workofyear.md              | 23 ++++++++++++++++
 .../sql-functions/date-time-functions/year.md      | 22 +++++++++++++++
 16 files changed, 371 insertions(+)

commit 08c8caeacf7efa02d2a365c872c25311c2bbfc43
Author: Mingyu Chen <morningman@163.com>
Date:   Fri May 24 22:02:09 2019 +0800

    Add max cache size to ClientCache in BE (#1202)
    
    Currently, unlimited client cache pool may cause too many connections in FE

 be/src/common/config.h                             |  6 +++++
 be/src/runtime/client_cache.cpp                    | 30 +++++++++++++++-------
 be/src/runtime/client_cache.h                      | 15 ++++++++++-
 be/src/runtime/exec_env.h                          |  4 +--
 be/src/runtime/exec_env_init.cpp                   | 12 ++++-----
 .../main/java/org/apache/doris/qe/Coordinator.java | 19 +++++++-------
 6 files changed, 58 insertions(+), 28 deletions(-)

commit 41152f5c84a1f0ae4515afc1b84026a52fa8d59c
Author: Mingyu Chen <morningman@163.com>
Date:   Fri May 24 11:24:38 2019 +0800

    Modify FE sys log and audit log configuration (#1198)
    
    All FE logs are now with suffix yyyyMMdd or yyyyMMddHH, specified by 2 new
    configurations: 'sys_log_roll_interval' and 'audit_log_roll_interval'
    
    All FE logs roll at max size of 1024MB(default), specified by new
    configuration: 'log_roll_size_mb'
    
    By default, the new FE logs will look like this:
    
    log/
        fe.audit.log
        fe.audit.log.20190524-1
        fe.audit.log.20190523-2
        fe.log
        fe.log.20190524-1
        fe.log.20190524-2
        fe.log.20190523-3
        fe.warn.log
        fe.warn.log.20190524-1
        fe.warn.log.20190523-2
        fe.gc.log.20190524
    
    Configurations 'sys_log_roll_mode' and 'audit_log_roll_mode' are deprecated.

 conf/fe.conf                                       |   7 +-
 .../main/java/org/apache/doris/common/Config.java  |  85 ++++++----
 .../java/org/apache/doris/common/Log4jConfig.java  | 186 ++++++++++-----------
 3 files changed, 144 insertions(+), 134 deletions(-)

commit 85b4619d54ca109a6c6d49dd10541d660ad8058c
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu May 23 20:53:30 2019 +0800

    Change insert into to streaming (#1191)
    
    The non-streaming hint of insert into will use the streamin plan which is same as the plan of stream insert.
    It will also record the load info and return the label of insert stmt.
    The partition is supportted in insert into stmt. The result which meet the target partitions will be loaded.
    The introduction of example has been changed especially non-streaming insert.
    Also, the param of partition_names is added in sql syntax which is used to declare the target partition_names in target table.
    
    Change META_VERSION to 50

 be/src/exec/broker_reader.cpp                      |   3 +
 .../cn/sql-reference/sql-statements/insert.md      |  14 ++-
 .../java/org/apache/doris/analysis/InsertStmt.java |  41 ++++----
 .../java/org/apache/doris/catalog/Catalog.java     |   8 +-
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +-
 .../org/apache/doris/load/BrokerFileGroup.java     |  17 +++-
 .../apache/doris/load/loadv2/InsertLoadJob.java    | 106 +++++++++++++++++++++
 .../java/org/apache/doris/load/loadv2/LoadJob.java |  10 +-
 .../org/apache/doris/load/loadv2/LoadManager.java  |  72 ++++++++++----
 .../java/org/apache/doris/persist/EditLog.java     |   4 +-
 .../java/org/apache/doris/planner/Planner.java     |   5 -
 .../java/org/apache/doris/qe/StmtExecutor.java     |  38 ++++----
 13 files changed, 249 insertions(+), 73 deletions(-)

commit 42601f2d882554e251b7f5d559885f3bf2e784cf
Author: yiguolei <yiguolei@baidu.com>
Date:   Thu May 23 19:22:54 2019 +0800

    Print unfinished tablet when cancel load job (#1186)

 fe/src/main/java/org/apache/doris/load/Load.java        |  1 +
 fe/src/main/java/org/apache/doris/load/LoadChecker.java |  5 +++++
 fe/src/main/java/org/apache/doris/load/LoadJob.java     | 14 +++++++++++++-
 3 files changed, 19 insertions(+), 1 deletion(-)

commit 488e3825f7ac9b30f8942a611a9e418a7e4af473
Author: Mingyu Chen <morningman@163.com>
Date:   Thu May 23 19:22:29 2019 +0800

    Fix bug that restore process in BE causes BE crash  (#1193)
    
    When calling SnapshotLoader.move(), all files should be revoked if they
    are in GC queue, or the file may be deleted after move() success.

 be/src/agent/task_worker_pool.cpp                  | 26 +++++++++--
 be/src/olap/olap_table.cpp                         |  4 --
 be/src/olap/olap_table.h                           |  4 +-
 be/src/runtime/snapshot_loader.cpp                 | 52 +++++++++++++---------
 .../doris/transaction/GlobalTransactionMgr.java    |  6 +++
 5 files changed, 60 insertions(+), 32 deletions(-)

commit cde315c9e9502421decf867da9f005e8ada42ce1
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu May 23 15:29:08 2019 +0800

    Add date-function doc (#1190)

 .../date-time-functions/date_format.md             | 122 +++++++++++++++++++++
 .../date-time-functions/from_unixtime.md           |  42 +++++++
 .../date-time-functions/unix_timestamp.md          |  31 ++++++
 3 files changed, 195 insertions(+)

commit 5d1457c0b6ce46af4dda25e37d4fab06ba6c46de
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu May 23 14:17:22 2019 +0800

    Add check to create tablet upon alter tablet task (#1187)
    
    When creating new tablet by alter tablet task,
    next_unique_id will increase on the base old tablet.
    If next_unique_id is eqaul to zero, it will cause that
    ColumnDataMessage not match with tablet meta.

 be/src/olap/olap_engine.cpp | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit 2fe1950d843128fbd73e2c0db3275d26a4edf0c9
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu May 23 14:14:51 2019 +0800

    Fix minor string format bug (#1189)

 fe/src/main/java/org/apache/doris/clone/Clone.java | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d42409cc35d4c6cb61de54c53cb48026c889504e
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed May 22 11:32:46 2019 +0800

    Fix short key not fill up all space (#1183)

 be/src/olap/field.h | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 5e245e031be06e4e2076d7b1e293b35a9eab1596
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed May 22 11:07:38 2019 +0800

    Change source type to BATCH_LOAD_JOB (#1182)

 fe/src/main/java/org/apache/doris/load/loadv2/LoadJob.java            | 2 +-
 .../main/java/org/apache/doris/load/loadv2/LoadJobFinalOperation.java | 4 ++--
 fe/src/main/java/org/apache/doris/transaction/TransactionState.java   | 4 ++--
 .../main/java/org/apache/doris/transaction/TxnCommitAttachment.java   | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 592c2c24d924d30461bfc542a1fde15117ded6c9
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Wed May 22 11:06:31 2019 +0800

    Fix revoke files bug (#1181)

 be/src/olap/olap_engine.cpp | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit c5bf1a8da12654eb00b382893c64348a0fb7a5e2
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue May 21 20:17:24 2019 +0800

    Fix prefix index comparison (#1180)
    
    1. Upon prefix index comparison, it should only compare the fixed length of prefix index

 be/src/olap/field.h | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit b98b07efe28d31b7f6fdeedce0b1ba59ab73e1e6
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue May 21 19:30:26 2019 +0800

    Add persistence of load job v2 (#1176)

 .../java/org/apache/doris/analysis/LoadStmt.java   |   2 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  15 ++
 .../org/apache/doris/common/FeMetaVersion.java     |   3 +-
 .../org/apache/doris/journal/JournalEntity.java    |  11 +
 .../org/apache/doris/load/BrokerFileGroup.java     |   1 +
 .../java/org/apache/doris/load/EtlJobType.java     |  29 +++
 .../main/java/org/apache/doris/load/FailMsg.java   |   7 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   1 -
 .../java/org/apache/doris/load/LoadChecker.java    |   1 -
 .../main/java/org/apache/doris/load/LoadJob.java   |   8 -
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  92 +++++++--
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |   4 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 226 ++++++++++++++++++---
 .../doris/load/loadv2/LoadJobFinalOperation.java   | 136 +++++++++++++
 .../apache/doris/load/loadv2/LoadJobScheduler.java |   5 +
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |  24 +--
 .../org/apache/doris/load/loadv2/LoadManager.java  |  86 +++++++-
 .../org/apache/doris/load/loadv2/LoadTask.java     |  17 +-
 .../apache/doris/load/loadv2/LoadTaskCallback.java |   2 +-
 .../doris/load/routineload/RoutineLoadManager.java |   2 +-
 .../java/org/apache/doris/metric/MetricRepo.java   |   2 +-
 .../java/org/apache/doris/persist/EditLog.java     |  32 +--
 .../org/apache/doris/persist/OperationType.java    |   6 +
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   2 +-
 .../java/org/apache/doris/qe/MultiLoadMgr.java     |   2 +-
 .../org/apache/doris/task/LoadPendingTask.java     |  11 +-
 .../AbstractTxnStateChangeCallback.java            |   5 +
 .../doris/transaction/GlobalTransactionMgr.java    |   2 +-
 .../apache/doris/transaction/TransactionState.java |   7 +-
 .../doris/transaction/TxnCommitAttachment.java     |   3 +
 .../doris/transaction/TxnStateChangeCallback.java  |   2 +
 31 files changed, 627 insertions(+), 119 deletions(-)

commit b132f4ac0c0ee54ad9b5e9d86b7a9fb00548978b
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue May 21 14:53:37 2019 +0800

    Add a configuration to force seek for block (#1179)

 be/src/common/config.h         | 4 ++++
 be/src/olap/segment_reader.cpp | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 722a9e71c72d89bdfcf1a2a7bb0eb3bdc849c50c
Author: Mingyu Chen <morningman@163.com>
Date:   Tue May 21 09:13:12 2019 +0800

    Optimize json functions (#1177)
    
    1. get_json_xxx() now support using quoto to escape dot
    2. Implement json_path_prepare() function to preprocess json_path
    
    Performance of get_json_string() on 1000000 rows reduces from 2.27s to 0.27s

 be/src/exprs/json_functions.cpp                    | 125 ++++++++++++++++++---
 be/src/exprs/json_functions.h                      |  31 +++++
 be/src/runtime/routine_load/data_consumer.cpp      |   2 +
 be/test/exprs/json_function_test.cpp               |  57 +++++++---
 be/test/http/http_client_test.cpp                  |  14 +--
 be/test/runtime/user_function_cache_test.cpp       |  16 +--
 .../string-functions/get_json_double.md            |  47 ++++++++
 .../sql-functions/string-functions/get_json_int.md |  47 ++++++++
 .../string-functions/get_json_string.md            |  57 ++++++++++
 gensrc/script/doris_builtins_functions.py          |  14 ++-
 run-ut.sh                                          |   1 +
 11 files changed, 359 insertions(+), 52 deletions(-)

commit ff2746157e2a56d619cdc074f46f8b59bc8ceee2
Author: lide <mailtolide@sina.com>
Date:   Mon May 20 14:26:14 2019 +0800

    Remove log info from decimalv2_value to avoid performance degradation (#1175)

 be/src/runtime/decimalv2_value.cpp | 5 -----
 1 file changed, 5 deletions(-)

commit 6528689205e57e964e10b47dbb1f5627ce07b1d5
Author: Clover <37958280+XiaoqianQin@users.noreply.github.com>
Date:   Mon May 20 12:26:49 2019 +0800

    Add samples about mini_load  & insert (#997)

 samples/insert/python/insert_utils.py       | 112 ++++++++++++++++++++
 samples/insert/shell/insert_utils.sh        |  71 +++++++++++++
 samples/mini_load/python/mini_load_utils.py | 157 ++++++++++++++++++++++++++++
 3 files changed, 340 insertions(+)

commit 32c4a67f0514a242f5e75275ac55929d209fd2f9
Author: lenmom <lenmom@126.com>
Date:   Mon May 20 12:24:35 2019 +0800

    Fix thirdpary build error on Ubuntu 18.04 OS (#1174)

 thirdparty/build-thirdparty.sh | 40 +++++++++++++++++++++++-----------------
 1 file changed, 23 insertions(+), 17 deletions(-)

commit 7f8a1bcdb62b9cc27e04e6c6731586f0d27b5a0d
Author: Mingyu Chen <morningman@163.com>
Date:   Fri May 17 19:10:22 2019 +0800

    Threadpool should be shutdown before join() (#1171)

 be/src/runtime/routine_load/data_consumer_group.cpp | 1 +
 1 file changed, 1 insertion(+)

commit 9bf19f13bbcc14e1770ddee407505b485e3fd7c4
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri May 17 19:09:44 2019 +0800

    Fix borker load submit job fail with null (#1172)

 fe/src/main/java/org/apache/doris/planner/BrokerScanNode.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 18e06d2e6722622969a596dbb3be9c20180aafa4
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu May 16 17:29:43 2019 +0800

    Fix position seek bug for varchar short key (#1167)

 be/src/olap/field.h | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit b2e63910a619493bbc33de92b90947c48f62a38d
Author: Mingyu Chen <morningman@163.com>
Date:   Thu May 16 16:15:00 2019 +0800

    Fix bug that routine load task may be blocked due to premature deconstruction (#1166)
    
    Data consumer group should wait all data consumers finished before return.

 be/src/runtime/routine_load/data_consumer_group.cpp          |  8 ++++++--
 be/src/runtime/routine_load/routine_load_task_executor.cpp   |  7 ++++++-
 be/src/runtime/routine_load/routine_load_task_executor.h     |  2 +-
 fe/src/main/java/org/apache/doris/catalog/Tablet.java        | 12 ++++++++++--
 fe/src/main/java/org/apache/doris/planner/OlapTableSink.java |  4 ++--
 5 files changed, 25 insertions(+), 8 deletions(-)

commit f985ea99fcff66bfd64c3a190644525360cd65d3
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed May 15 20:26:10 2019 +0800

    Add support column reference in LOAD statement (#1162)

 fe/src/main/cup/sql_parser.cup                     | 16 +++++--
 .../org/apache/doris/analysis/DataDescription.java | 56 +++++++++++++++++-----
 .../org/apache/doris/load/BrokerFileGroup.java     | 31 +++++++-----
 fe/src/main/java/org/apache/doris/load/Load.java   |  3 +-
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  2 +-
 .../org/apache/doris/planner/BrokerScanNode.java   | 10 ++--
 .../org/apache/doris/task/PullLoadPendingTask.java |  2 +-
 fe/src/main/jflex/sql_scanner.flex                 |  1 +
 .../apache/doris/analysis/DataDescriptionTest.java |  2 +-
 9 files changed, 88 insertions(+), 35 deletions(-)

commit b24fab48cd810080fa64bc1dd9c1da6771fb6d5f
Author: Mingyu Chen <morningman@163.com>
Date:   Wed May 15 18:47:08 2019 +0800

    Add some logs for compaction process (#1163)

 be/src/olap/olap_engine.cpp | 22 +++++++++++++++-------
 1 file changed, 15 insertions(+), 7 deletions(-)

commit afff3b369214a374aefb7d791cdf4dfd0e797ab2
Author: Mingyu Chen <morningman@163.com>
Date:   Wed May 15 18:35:47 2019 +0800

    Modify dockerfile (#1164)
    
    New docker image include new thirdparties

 docker/Docker_build.md | 66 --------------------------------------------------
 docker/Dockerfile      | 26 ++++++++------------
 docker/README.md       | 64 ++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 74 insertions(+), 82 deletions(-)

commit 758adce76100fccbc694c9f9ffd0ede5d86198be
Author: yiguolei <yiguolei@baidu.com>
Date:   Wed May 15 14:17:11 2019 +0800

    Change the compaction  thread number based on disks number (#1161)
    
    Add 2 BE configs: base_compaction_num_threads_per_disk and cumulative_compaction_num_threads_per_disk to control the number of threads per disks.

 be/src/common/config.h                |  2 ++
 be/src/olap/base_compaction.cpp       |  5 ++++-
 be/src/olap/cumulative_compaction.cpp |  5 ++++-
 be/src/olap/olap_engine.cpp           | 13 +++++++------
 be/src/olap/olap_engine.h             | 10 +++++-----
 be/src/olap/olap_server.cpp           | 27 ++++++++++++++++-----------
 6 files changed, 38 insertions(+), 24 deletions(-)

commit 47fb206cdf1af1ca7a353d666d281986f7de9912
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed May 15 13:05:32 2019 +0800

    Skip tablet under compaction when choose candidate (#1160)

 be/src/olap/olap_engine.cpp   | 16 ++++++++++++++++
 be/src/olap/segment_group.cpp |  1 +
 2 files changed, 17 insertions(+)

commit ad88741b69d80a787932b73a988401f2c07812a8
Author: Mingyu Chen <morningman@163.com>
Date:   Wed May 15 12:44:38 2019 +0800

    Fix bug that bad tablet blocking compaction of other tablets (#1158)
    
    A bad tablet is always be chosen to do compaction, and failed again
    and again, which may block compaction of other tablets.
    Add a BE config 'min_compaction_failure_interval_ms' to avoid choosing
    bad tablet again at a certain interval, so that other tablets have
    chance to do the compaction.
    
    Also fix a bug that using avg() function on varchar column return
    unexpected exception.

 be/src/common/config.h                                   |  4 ++++
 be/src/olap/olap_engine.cpp                              | 13 +++++++++++++
 be/src/olap/olap_header.cpp                              |  2 +-
 be/src/olap/olap_table.cpp                               |  3 ++-
 be/src/olap/olap_table.h                                 |  7 +++++++
 fe/src/main/java/org/apache/doris/analysis/Expr.java     |  7 ++++++-
 .../java/org/apache/doris/analysis/OrderByElement.java   |  9 +++++----
 thirdparty/build-thirdparty.sh                           | 16 ++++++++--------
 8 files changed, 46 insertions(+), 15 deletions(-)

commit 398055ef3ed0c6700733dcc306a1ec58de0f5888
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue May 14 17:26:45 2019 +0800

    Add logic of cancel job (#1154)

 .../help/Contents/Data Manipulation/broker_load.md |  3 +
 .../java/org/apache/doris/analysis/LoadStmt.java   |  1 -
 fe/src/main/java/org/apache/doris/load/Load.java   | 25 ++++++++
 .../apache/doris/load/loadv2/BrokerLoadJob.java    | 23 +++++++-
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 48 ++++++++++++++-
 .../org/apache/doris/load/loadv2/LoadManager.java  | 68 +++++++++++++++++-----
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  7 ++-
 .../java/org/apache/doris/qe/StmtExecutor.java     |  1 -
 .../doris/transaction/GlobalTransactionMgr.java    |  6 +-
 9 files changed, 157 insertions(+), 25 deletions(-)

commit 910f16af81825a012939d39676f68b18088eac4d
Author: Mingyu Chen <morningman@163.com>
Date:   Tue May 14 11:30:17 2019 +0800

    Fix bug that using wrong capacity in trash sweep policy (#1156)
    
    We should use total disk usage capacity instread of data used capacity,
    otherwise, the config 'disk_capacity_insufficient_percentage' will not work.

 be/src/olap/olap_engine.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 76a8093c70bb89c39edba622baf834e9d798fead
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Mon May 13 21:58:05 2019 +0800

    Add documentation for doris on es (#1151)

 .../cn/extending-doris/doris-on-es.md              | 205 +++++++++++++++++++++
 1 file changed, 205 insertions(+)

commit 31f55532f7e5a1df0baf00e3fad0be7c2b6746eb
Author: chenhao <510341142@qq.com>
Date:   Mon May 13 17:41:10 2019 +0800

    Fix bug that cast decimal or bool to other type (#1152)

 fe/src/main/java/org/apache/doris/analysis/BoolLiteral.java    |  4 ++--
 fe/src/main/java/org/apache/doris/analysis/DecimalLiteral.java | 10 ++++++++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 559db490e011bb0adea8aeea065c32c302a8fbfc
Author: Mingyu Chen <morningman@163.com>
Date:   Mon May 13 17:10:51 2019 +0800

    Fix bug that rename table to an existing rollup index name should not be allowed (#1150)
    
    Also fix another bug that backup/restore job should add to task map after writing edit log.
    ISSUE: #522

 fe/src/main/java/org/apache/doris/backup/BackupHandler.java | 11 +++++++----
 fe/src/main/java/org/apache/doris/catalog/Catalog.java      | 10 ++++++++++
 2 files changed, 17 insertions(+), 4 deletions(-)

commit ffe3eaa1a77f56f2bfb3cb44977fd9cd3d9eccb8
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon May 13 16:59:52 2019 +0800

    Implement adddate, days_add and from_unixtime function in FE (#1149)

 .../java/org/apache/doris/rewrite/FEFunctions.java | 31 ++++++++++++++++++
 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 38 ++++++++++++++++++++++
 2 files changed, 69 insertions(+)

commit e7e92f0a89634ce3dcb8f727b834cc87c4b1a555
Author: worker24h <xxbzj249@163.com>
Date:   Mon May 13 13:40:24 2019 +0800

    Add build script for arrow (#1144)

 thirdparty/build-thirdparty.sh    | 39 ++++++++++++++++++++++++++++++++++++++-
 thirdparty/download-thirdparty.sh | 21 ++++++++++++++++++---
 thirdparty/vars.sh                | 37 ++++++++++++++++++++++++++++++++++---
 3 files changed, 90 insertions(+), 7 deletions(-)

commit 02f36c23ede193bc18fbba6f2228ff6ed462161f
Author: Mingyu Chen <morningman@163.com>
Date:   Mon May 13 10:22:04 2019 +0800

    Set tablet as bad when loading index failed (#1146)
    
    Bad tablet will be reported to FE and be handled
    
    And add a config auto_recover_index_loading_failure to control the index loading failure processing

 be/src/common/config.h           |  4 ++++
 be/src/exec/olap_meta_reader.cpp |  9 +++++----
 be/src/exec/olap_scanner.cpp     | 10 +++++-----
 be/src/olap/olap_engine.cpp      | 15 ++++++++++++---
 be/src/olap/olap_engine.h        |  6 +++++-
 be/src/olap/olap_table.cpp       | 23 ++++++++++++++++-------
 be/src/olap/olap_table.h         |  3 +++
 7 files changed, 50 insertions(+), 20 deletions(-)

commit 61172277541a417f647162293a9858940b1e5c18
Author: chenhao <510341142@qq.com>
Date:   Sat May 11 23:10:58 2019 +0800

    FE support assigning constant conjunct and calculating expression (#1126)

 .../java/org/apache/doris/analysis/Analyzer.java   |  29 +--
 .../org/apache/doris/analysis/BinaryPredicate.java |  36 ++++
 .../java/org/apache/doris/analysis/CastExpr.java   |  35 ++++
 .../apache/doris/analysis/CompoundPredicate.java   |  33 ++++
 .../main/java/org/apache/doris/analysis/Expr.java  |  11 ++
 .../apache/doris/analysis/ExpressionFunctions.java | 219 +++++++++++++++++++++
 .../java/org/apache/doris/analysis/SelectStmt.java |   4 +
 .../apache/doris/planner/SingleNodePlanner.java    |  97 ++++++++-
 .../apache/doris/rewrite/FoldConstantsRule.java    | 211 +-------------------
 9 files changed, 451 insertions(+), 224 deletions(-)

commit 15c9be4dfea6156f9108a29dae713e6490641d14
Author: Mingyu Chen <morningman@163.com>
Date:   Sat May 11 22:07:17 2019 +0800

    Fix bug that balance task always choose high usage path (#1143)

 .../apache/doris/clone/BackendLoadStatistic.java   |  2 +-
 .../apache/doris/clone/RootPathLoadStatistic.java  |  5 ++-
 .../org/apache/doris/clone/TabletSchedCtx.java     |  4 ++
 .../org/apache/doris/clone/TabletScheduler.java    |  3 +-
 .../doris/clone/RootPathLoadStatisticTest.java     | 49 ++++++++++++++++++++++
 5 files changed, 59 insertions(+), 4 deletions(-)

commit ae18cebe0bd04bffacf95cad6cb31be2b17ea3cf
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sat May 11 21:49:51 2019 +0800

    Improve colocate table balance logic for backend added (#1139)
    
    1. Improve colocate table balance logic for backend added
    2. Add more comment
    3. Break loop early

 .../apache/doris/clone/ColocateTableBalancer.java  | 310 ++++++++++++---------
 .../doris/clone/ColocateTableBalancerTest.java     | 105 +++++++
 2 files changed, 281 insertions(+), 134 deletions(-)

commit debb58c2781150995153d359e241c9f1a8bdf93f
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat May 11 21:46:37 2019 +0800

    Add SHOW FUNCTION and update docs for UDF (#1140)

 .../cn/extending-doris/user-defined-function.md    | 87 ++++++++++++++++++++++
 .../sql-statements/create-function.md              | 70 +++++++++++++++++
 .../sql-reference/sql-statements/drop-function.md  | 27 +++++++
 .../cn/sql-reference/sql-statements/insert.md      |  6 +-
 .../sql-reference/sql-statements/show-function.md  | 36 +++++++++
 fe/src/main/cup/sql_parser.cup                     |  4 +
 .../apache/doris/analysis/CreateFunctionStmt.java  | 21 +++---
 .../apache/doris/analysis/ShowFunctionStmt.java    | 72 ++++++++++++++++++
 .../apache/doris/catalog/AggregateFunction.java    | 17 +++++
 .../java/org/apache/doris/catalog/Database.java    |  9 +++
 .../java/org/apache/doris/catalog/Function.java    | 22 +++++-
 .../org/apache/doris/catalog/ScalarFunction.java   | 13 ++++
 .../java/org/apache/doris/qe/ShowExecutor.java     | 47 ++++++++++++
 13 files changed, 418 insertions(+), 13 deletions(-)

commit f499759f15749c05e44dc07d561bcbf47601111d
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri May 10 19:52:11 2019 +0800

    Revise the exception message (#1141)

 fe/src/main/java/org/apache/doris/transaction/GlobalTransactionMgr.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4039985729ad59d5bc21e9496a6dbe03b8f323c2
Author: Mingyu Chen <morningman@163.com>
Date:   Fri May 10 17:41:48 2019 +0800

    Fix some bugs about decommission (#1138)
    
    1. Print the last few tablets of decommission backend in fe.log for debug.
    2. OlapTableSink should get replica on alive Backends, not only available Backends.
    3. When decommission multi Backends, we should drop the redundant replicas before creating a new one.
    4. Replicas on decommissioning Backends should be not added to catalog again.
    5. Decommissioning Backends should not be chosen as destination of tablet repairing.

 .../operation/tablet_repair_and_balance.md         | 608 +++++++++++++++++++++
 .../apache/doris/alter/DecommissionBackendJob.java |   3 +-
 .../main/java/org/apache/doris/catalog/Tablet.java |  77 +--
 .../java/org/apache/doris/clone/TabletChecker.java |   2 +
 .../org/apache/doris/clone/TabletSchedCtx.java     |   4 +-
 .../org/apache/doris/clone/TabletScheduler.java    |  20 +-
 .../apache/doris/clone/TabletSchedulerStat.java    |   2 +
 .../org/apache/doris/master/ReportHandler.java     |  29 +-
 .../org/apache/doris/planner/OlapTableSink.java    |   7 +-
 .../org/apache/doris/system/SystemInfoService.java |  10 +-
 10 files changed, 702 insertions(+), 60 deletions(-)

commit 79ab7f4413d0bda3885688fc3c03daffa337eef7
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri May 10 16:53:46 2019 +0800

    Change label of broker load txn (#1134)
    
    * Change label of broker load txn
    
    1. put broker load label into txn label
    2. fix the bug of `label is already used`
    3. fix partition error of new broker load
    
    * Fix count error in mini load and broker load
    
    There are three params (num_rows_load_total, num_rows_load_filtered, num_rows_load_unselected) which are used to count dpp.norm.ALL and dpp.abnorm.ALL.
    num_rows_load_total is the number rows of source file.
    num_rows_load_unselected is the not satisfied (where conjuncts) rows of num_rows_load_total
    num_rows_load_filtered is the rows (quality not good enough) of (num_rows_load_total-num_rows_load_unselected)

 be/src/exec/broker_scan_node.cpp                   |  1 -
 be/src/exec/csv_scan_node.cpp                      | 23 +++++++-------
 be/src/exec/csv_scan_node.h                        |  4 +--
 be/src/exec/es_http_scan_node.cpp                  |  3 --
 be/src/exec/olap_rewrite_node.cpp                  |  1 -
 be/src/exec/olap_table_sink.cpp                    |  1 -
 be/src/runtime/data_spliter.cpp                    |  1 -
 be/src/runtime/etl_job_mgr.cpp                     |  8 ++---
 be/src/runtime/fragment_mgr.cpp                    |  2 +-
 be/src/runtime/runtime_state.cpp                   |  2 --
 be/src/runtime/runtime_state.h                     | 13 +++-----
 .../help/Contents/Data Manipulation/broker_load.md | 37 ----------------------
 .../java/org/apache/doris/analysis/LoadStmt.java   | 14 ++++++--
 .../apache/doris/load/loadv2/BrokerLoadJob.java    |  1 -
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 34 +++++++++++++-------
 .../apache/doris/load/loadv2/LoadLoadingTask.java  |  9 +++++-
 .../org/apache/doris/load/loadv2/LoadManager.java  |  2 +-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  2 +-
 18 files changed, 66 insertions(+), 92 deletions(-)

commit fdc0c40549cbade934c149d5d49674fc5cd53cd3
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri May 10 16:23:14 2019 +0800

    Fix malformed at AM bug (#1136)

 fe/src/main/java/org/apache/doris/rewrite/FEFunctions.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e5a52016264ac9953052c711ca653984e8d71cdf
Author: mengqinghuan <30916634+mengqinghuan@users.noreply.github.com>
Date:   Fri May 10 14:38:28 2019 +0800

    Update routine-load-manual.md (#1133)
    
    edit  some descriptions about “max_error_number”

 .../cn/administrator-guide/load-data/routine-load-manual.md             | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4aa41a4e3b1303af15fe4d70efa762e5bbf6658b
Author: mengqinghuan <30916634+mengqinghuan@users.noreply.github.com>
Date:   Fri May 10 11:49:29 2019 +0800

    Update admin_stmt.md (#1131)

 docs/help/Contents/Administration/admin_stmt.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6635c36cc5ab45ddb36230b6f844846d4ce35666
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu May 9 18:53:10 2019 +0800

    Fix decommission BE bug (#1122)
    
    The pre-check of replica num should be check database of current cluster

 fe/src/main/java/org/apache/doris/alter/SystemHandler.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 1eeb5ea891ac6862d2c62820b9dd06c7a6b435df
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu May 9 17:20:44 2019 +0800

    Add str_to_date function in fe (#1118)

 .../java/org/apache/doris/rewrite/FEFunctions.java | 129 +++++++++++++++++++++
 .../org/apache/doris/rewrite/FEFunctionsTest.java  |  64 ++++++++++
 run-fe-ut.sh                                       |   2 +-
 3 files changed, 194 insertions(+), 1 deletion(-)

commit a8bf922542c25b18ae0d3445fda57d12a531f99d
Author: mengqinghuan <30916634+mengqinghuan@users.noreply.github.com>
Date:   Thu May 9 14:51:34 2019 +0800

    Update README.md (#1119)
    
    fix some words

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 93d2dd5f82835a89f3fe65903f5dee3045ab9753
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu May 9 12:56:53 2019 +0800

    Fix bug of routine load job (#1116)
    
    Fix null pointer exception when sending routine load task

 fe/src/main/java/org/apache/doris/load/loadv2/LoadJob.java        | 3 ++-
 .../apache/doris/load/routineload/RoutineLoadTaskScheduler.java   | 8 ++++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 77a1b31baa8ba699740ac68fe06f7724f974ebcd
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu May 9 10:27:30 2019 +0800

    Add show load of loadv2 (#1113)
    
    This change include the show load of loadv2 and some bug fix of loadv2.
    Firstly, the show load will perform both load and loadv2 info. According to loadv2, the ETL progress of loadv2 is N/A during the period of loading.
    Secondly, the loadv2 will be created when version of property is v2.
    This is a temporary property which will not influence the old broker load.
    After the loadv2 is finished, the default load will be changed to loadv2.
    Finally, there are some bug in LoadingTaskPlanner fixed by this change.

 be/src/util/uid_util.cpp                           |  6 +-
 .../java/org/apache/doris/analysis/LoadStmt.java   | 21 +++++
 .../java/org/apache/doris/catalog/Catalog.java     |  3 +
 .../org/apache/doris/common/proc/LoadProcDir.java  |  2 +-
 fe/src/main/java/org/apache/doris/load/Load.java   | 11 +--
 .../apache/doris/load/loadv2/BrokerLoadJob.java    | 66 +++++++++++----
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  4 +-
 .../load/loadv2/BrokerLoadingTaskAttachment.java   |  5 +-
 .../load/loadv2/BrokerPendingTaskAttachment.java   |  6 +-
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 99 ++++++++++++++++++----
 .../apache/doris/load/loadv2/LoadJobScheduler.java |  2 +-
 .../apache/doris/load/loadv2/LoadLoadingTask.java  | 40 ++++-----
 .../org/apache/doris/load/loadv2/LoadManager.java  | 70 +++++++++++++++
 .../org/apache/doris/load/loadv2/LoadTask.java     | 23 +++--
 .../apache/doris/load/loadv2/LoadTaskCallback.java |  4 +-
 .../doris/load/loadv2/LoadingTaskPlanner.java      |  9 ++
 .../apache/doris/load/loadv2/TaskAttachment.java   | 11 ++-
 .../doris/load/routineload/RoutineLoadJob.java     |  1 -
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  8 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     | 27 +++++-
 .../apache/doris/transaction/TabletCommitInfo.java |  7 ++
 21 files changed, 330 insertions(+), 95 deletions(-)

commit 7699c76df291cd1af43e32095f67722c49588d42
Author: Mingyu Chen <morningman@163.com>
Date:   Wed May 8 20:30:34 2019 +0800

    Fix Nullpointer exception encountered in transaction process (#1112)
    
    * Fix Nullpointer exception encountered in transaction process
    * Do not choose unavailable BE when repair tablet

 be/CMakeLists.txt                                              |  2 +-
 be/src/olap/store.cpp                                          |  1 -
 fe/src/main/java/org/apache/doris/clone/TabletScheduler.java   |  3 +++
 .../java/org/apache/doris/load/routineload/KafkaTaskInfo.java  |  4 ++++
 .../org/apache/doris/transaction/GlobalTransactionMgr.java     | 10 +++++++---
 5 files changed, 15 insertions(+), 5 deletions(-)

commit 965ecedd5dd2754e7901370bc2074d56e99626f2
Author: Mingyu Chen <morningman@163.com>
Date:   Tue May 7 17:36:34 2019 +0800

    Fix compile bug (#1106)

 fe/src/main/java/org/apache/doris/load/loadv2/LoadLoadingTask.java | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit a08170fd501c9a41aa0ce5a7811bbf2f64483308
Author: Mingyu Chen <morningman@163.com>
Date:   Tue May 7 15:55:04 2019 +0800

    Enhance the usabilities (#1100)
    
    * Enhence the usabilities
    
    1. Add metrics to monitor transactions and steaming load process in BE.
    2. Modify BE config 'result_buffer_cancelled_interval_time' to 300s.
    3. Modify FE config 'enable_metric_calculator' to true.
    4. Add more log for tracing broker load process.
    5. Modify the query report process, to cancel query immediately if some instance failed.
    
    * Fix bugs
    1. Avoid NullPointer when enabling colocation join with broker load
    2. Return immediately when pull load task coordinator execution failed

 be/src/agent/task_worker_pool.cpp                  |  3 +
 be/src/common/config.h                             |  4 +-
 be/src/olap/olap_engine.cpp                        | 28 +++++---
 .../runtime/stream_load/stream_load_executor.cpp   | 20 ++++--
 be/src/util/doris_metrics.cpp                      | 33 +++++++++
 be/src/util/doris_metrics.h                        | 11 ++-
 be/src/util/system_metrics.cpp                     |  2 +-
 be/test/util/system_metrics_test.cpp               |  1 +
 .../java/org/apache/doris/backup/RestoreJob.java   |  2 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  2 +-
 .../java/org/apache/doris/catalog/Partition.java   |  2 +-
 .../main/java/org/apache/doris/common/Config.java  |  2 +-
 .../apache/doris/common/MarkedCountDownLatch.java  | 16 +++--
 .../main/java/org/apache/doris/load/ExportJob.java |  4 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |  2 +-
 .../org/apache/doris/planner/OlapRewriteNode.java  |  7 +-
 .../main/java/org/apache/doris/qe/Coordinator.java | 80 ++++++++++++++--------
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |  2 +-
 .../java/org/apache/doris/task/PullLoadJobMgr.java | 12 +++-
 .../java/org/apache/doris/task/PullLoadTask.java   | 45 ++++++------
 .../java/org/apache/doris/qe/StmtExecutorTest.java |  1 +
 .../java/org/apache/doris/task/AgentTaskTest.java  |  7 +-
 run-ut.sh                                          |  4 +-
 23 files changed, 194 insertions(+), 96 deletions(-)

commit 0c62cb888faffbfb9ddf8d448de70f3c80fbcc1e
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon May 6 22:15:27 2019 +0800

    Support negative keyword in Broker Load (#1101)

 fe/src/main/java/org/apache/doris/load/Load.java              | 10 ++++++++++
 fe/src/main/java/org/apache/doris/planner/BrokerScanNode.java |  8 ++++++++
 2 files changed, 18 insertions(+)

commit 11be24df40b75736c86fbc3be983933f4b043feb
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon May 6 13:49:06 2019 +0800

    Add new scheduler of load in fe (#1076)
    
    * Add new scheduler of load in fe
    
    1. New scheduler only support the broker load now.
    2. The stage of load consist of PENDING -> LOADING -> FINISHED
    3. The LoadScheduler will divide job into a pending task. There are preparations that need to be done on pending task.
    4. OnPendingTaskFinished will be invoked after pending task. It is used to submit the loading task which is created based on attachment of pending task.
    5. OnLoadingTaskFinished will be invoked after loding task. It is used to record the commit info and commit txn when all of task has been finished.
    .
    
    * Combine pendingTask and loadingTask into loadTask
    
    1. The load task callback include two methods: onTaskFinished, onTaskFailed
    
    * Add txn callback of load job
    
    1. isCommittting is true when beforeCommitted in txn
    2. job could not be cancelled when isCommitting is true
    3. job will be finished after txn is visible
    4. old job will be cleaned when (CurrentTS - FinishedTs) / 1000 > Config.label_keep_seconds
    5. LoadTimeoutChecker is performed to cancel timeout job

 .../java/org/apache/doris/catalog/Catalog.java     |  20 +
 .../org/apache/doris/load/BrokerFileGroup.java     |  11 +-
 .../main/java/org/apache/doris/load/EtlStatus.java |  14 +
 fe/src/main/java/org/apache/doris/load/Load.java   |  25 +-
 .../apache/doris/load/loadv2/BrokerLoadJob.java    | 265 +++++++++++++
 .../doris/load/loadv2/BrokerLoadPendingTask.java   |  85 ++++
 .../load/loadv2/BrokerLoadingTaskAttachment.java   |  52 +++
 .../load/loadv2/BrokerPendingTaskAttachment.java   |  49 +++
 .../org/apache/doris/load/loadv2/JobState.java     |  28 ++
 .../java/org/apache/doris/load/loadv2/LoadJob.java | 436 +++++++++++++++++++++
 .../apache/doris/load/loadv2/LoadJobScheduler.java |  93 +++++
 .../apache/doris/load/loadv2/LoadLoadingTask.java  | 155 ++++++++
 .../org/apache/doris/load/loadv2/LoadManager.java  | 169 ++++++++
 .../org/apache/doris/load/loadv2/LoadTask.java     |  74 ++++
 .../apache/doris/load/loadv2/LoadTaskCallback.java |  29 ++
 .../doris/load/loadv2/LoadTimeoutChecker.java      |  52 +++
 .../doris/load/loadv2/LoadingTaskPlanner.java      | 156 ++++++++
 .../apache/doris/load/loadv2/TaskAttachment.java   |  24 ++
 .../doris/load/routineload/RoutineLoadJob.java     |   3 +-
 .../load/routineload/RoutineLoadScheduler.java     |   2 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |   4 +-
 .../AbstractTxnStateChangeCallback.java            |  60 +++
 .../doris/transaction/GlobalTransactionMgr.java    |   5 +-
 .../apache/doris/transaction/TransactionState.java |   3 +
 .../doris/transaction/TxnStateChangeCallback.java  |  16 +-
 25 files changed, 1805 insertions(+), 25 deletions(-)

commit ba78adae947f3cefcb7f74478e2cf86c72b331f1
Author: Mingyu Chen <morningman@163.com>
Date:   Sun May 5 20:51:30 2019 +0800

    Fix bugs when using function in both stream load request and routine load job (#1091)

 .../load-data/routine-load-manual.md               | 10 ++++++++
 .../Contents/Data Manipulation/routine_load.md     | 12 ++++-----
 fe/src/main/cup/sql_parser.cup                     |  6 ++---
 .../java/org/apache/doris/analysis/Analyzer.java   |  5 ++++
 .../doris/analysis/BuiltinAggregateFunction.java   |  5 ++--
 .../java/org/apache/doris/analysis/CastExpr.java   |  6 ++---
 .../apache/doris/analysis/FunctionCallExpr.java    | 30 +++++++++++++++-------
 .../org/apache/doris/analysis/FunctionName.java    |  6 ++---
 .../apache/doris/analysis/ImportColumnDesc.java    |  7 +++++
 .../apache/doris/planner/StreamLoadPlanner.java    |  4 ++-
 .../apache/doris/planner/StreamLoadScanNode.java   |  2 ++
 11 files changed, 66 insertions(+), 27 deletions(-)

commit 53ae591183e69aa71388e5f4250567adec3224dc
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun May 5 19:53:45 2019 +0800

    Fix pending_delta has no pending_segment_group (#1089)

 be/src/olap/olap_table.cpp | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 588aa7bed315e2a12296bc4cf6c0ff1b5195a44b
Author: HangyuanLiu <460660596@qq.com>
Date:   Wed May 1 22:20:49 2019 +0800

    Fix date_format function in fe (#1082)

 fe/pom.xml                                         |   7 +
 .../java/org/apache/doris/rewrite/FEFunctions.java | 210 ++++++++++++++++++++-
 .../org/apache/doris/rewrite/FEFunctionsTest.java  |  46 +++++
 3 files changed, 262 insertions(+), 1 deletion(-)

commit e373aa51e69f50ce5679b6f0ed6ff6a10448414c
Author: Mingyu Chen <morningman@163.com>
Date:   Wed May 1 20:51:10 2019 +0800

    Fix bug that premature updating schema hash of replica when reporting (#1084)
    
    The new schema hash should only be updated when schema changing finished.

 fe/src/main/java/org/apache/doris/catalog/TabletInvertedIndex.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6cc0457eaf1ce7dea28502b942f8bda8f721802e
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Apr 30 18:40:41 2019 +0800

    Eliminate add transaction many times when pending_delta has many segmentgroups (#1081)

 be/src/olap/olap_table.cpp | 21 ++++++++++-----------
 1 file changed, 10 insertions(+), 11 deletions(-)

commit afa3aa90696c1f87054679ac97bc13309a7b8c2c
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Apr 30 11:12:23 2019 +0800

    Add some pre-calculated metrics (#1079)
    
    1. max io util of disks
    2. max network send/receive bytes rate of all network devices
    3. base/cumulative compaction request counter and failure counter

 be/src/common/daemon.cpp                           | 28 ++++++++++
 be/src/exec/olap_table_info.h                      |  8 +--
 be/src/http/action/metrics_action.cpp              | 13 ++++-
 be/src/olap/olap_engine.cpp                        |  6 +++
 be/src/util/doris_metrics.cpp                      |  6 +++
 be/src/util/doris_metrics.h                        |  4 ++
 be/src/util/metrics.h                              | 20 ++++++--
 be/src/util/system_metrics.cpp                     | 60 ++++++++++++++++++++++
 be/src/util/system_metrics.h                       | 14 +++++
 .../java/org/apache/doris/metric/MetricRepo.java   |  4 +-
 .../doris/transaction/GlobalTransactionMgr.java    |  9 ++--
 11 files changed, 156 insertions(+), 16 deletions(-)

commit b2a022b348c949db69dd31c19bedfd3bc4f8fb93
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Apr 29 18:31:24 2019 +0800

    Add money_format function (#1064)

 be/src/exprs/math_functions.cpp                    |   2 +-
 be/src/exprs/math_functions.h                      |   3 +
 be/src/exprs/string_functions.cpp                  |  54 ++++++
 be/src/exprs/string_functions.h                    |  38 +++-
 be/test/exprs/CMakeLists.txt                       |   1 +
 be/test/exprs/string_functions_test.cpp            | 132 +++++++++++++
 .../sql-functions/string-functions/money_format.md |  34 ++++
 gensrc/script/doris_builtins_functions.py          | 204 +++++++++++----------
 run-ut.sh                                          |   3 +
 9 files changed, 372 insertions(+), 99 deletions(-)

commit 9a570af9a3e945bfe120eb2aa9be4a4e5865fe15
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Apr 29 14:22:20 2019 +0800

    Add insert statement document (#1069)

 .../cn/sql-reference/sql-statements/insert.md      | 80 ++++++++++++++++++++++
 1 file changed, 80 insertions(+)

commit 310a375aec7db4e57e6af651c6fe236a050dbb49
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 29 13:55:28 2019 +0800

    Fix bug that null value is not correctly handled when loading data (#1070)
    
        When partition column's value is NULL, it should be loaded into
        the partition which include MIN VALUE

 be/src/exec/olap_table_info.h                        | 14 ++++++++++++++
 docs/help/Contents/Data Definition/ddl_stmt.md       |  1 +
 .../java/org/apache/doris/catalog/PartitionKey.java  |  4 ++--
 .../java/org/apache/doris/planner/OlapTableSink.java |  3 ++-
 .../apache/doris/planner/PartitionColumnFilter.java  |  2 +-
 .../apache/doris/planner/RangePartitionPruner.java   | 20 ++++++++++----------
 .../main/java/org/apache/doris/planner/ScanNode.java | 11 ++++-------
 7 files changed, 34 insertions(+), 21 deletions(-)

commit 77ceef639183a95a268844ff2a5502b8eb0ab2bf
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Apr 29 10:39:01 2019 +0800

    Support insert values (#1067)
    
    * Support insert into values
    
    * Fix hll import bug
    
    * Fix insert subquery fail

 fe/src/main/cup/sql_parser.cup                     |  90 +++++++++++++--
 .../apache/doris/analysis/DefaultValueExpr.java    |  43 ++++++++
 .../java/org/apache/doris/analysis/InsertStmt.java | 121 +++++++++++++++------
 .../java/org/apache/doris/analysis/SelectStmt.java |  30 ++++-
 .../java/org/apache/doris/analysis/ValueList.java  |  72 ++++++++++++
 .../java/org/apache/doris/planner/Planner.java     |   2 +
 .../apache/doris/planner/SingleNodePlanner.java    |  14 ++-
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 8 files changed, 323 insertions(+), 50 deletions(-)

commit 1662d9187768e9d2e3c41bbc256bb4b958371636
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sun Apr 28 20:05:48 2019 +0800

    Change the logic of RoutineLoadTaskScheduler (#1061)
    
    1. TaskScheduler will process one task per round
    2. TaskScheduler will be blocked till queue tasks a new task
    3. TaskScheduler will submit tasks when queue is empty
    4. Add a example of creating a broker table by BOS
    5. Change syntax of show routine load job

 docs/help/Contents/Data Definition/ddl_stmt.md     |  14 ++
 .../Contents/Data Manipulation/routine_load.md     |  10 +-
 fe/src/main/cup/sql_parser.cup                     |  24 ++--
 .../java/org/apache/doris/common/util/LogKey.java  |   4 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |   2 +-
 .../doris/load/routineload/RoutineLoadJob.java     |   8 +-
 .../load/routineload/RoutineLoadTaskScheduler.java | 146 +++++++++++----------
 .../doris/transaction/GlobalTransactionMgr.java    |  16 ++-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   5 +-
 9 files changed, 125 insertions(+), 104 deletions(-)

commit 9c82d419818ccca5d1ab543ee0cc68536e2a61a5
Author: lide <mailtolide@sina.com>
Date:   Sun Apr 28 17:14:44 2019 +0800

    Support Doris query ES by HTTP way (#925)

 be/src/exec/CMakeLists.txt                         |   9 +
 be/src/exec/es/es_predicate.cpp                    | 414 +++++++++++++++++++
 be/src/exec/es/es_predicate.h                      | 200 +++++++++
 be/src/exec/es/es_query_builder.cpp                | 375 +++++++++++++++++
 be/src/exec/es/es_query_builder.h                  | 130 ++++++
 be/src/exec/es/es_scan_reader.cpp                  | 157 +++++++
 be/src/exec/es/es_scan_reader.h                    |  74 ++++
 be/src/exec/es/es_scroll_parser.cpp                | 353 ++++++++++++++++
 be/src/exec/es/es_scroll_parser.h                  |  54 +++
 be/src/exec/es/es_scroll_query.cpp                 | 102 +++++
 be/src/exec/es/es_scroll_query.h                   |  40 ++
 be/src/exec/es_http_scan_node.cpp                  | 448 ++++++++++++++++++++
 be/src/exec/es_http_scan_node.h                    | 112 +++++
 be/src/exec/es_http_scanner.cpp                    | 127 ++++++
 be/src/exec/es_http_scanner.h                      | 104 +++++
 be/src/exec/exec_node.cpp                          |   6 +
 be/src/exprs/expr.cpp                              |   7 +
 be/src/exprs/expr.h                                |   2 +
 be/src/exprs/expr_context.h                        |   1 +
 be/src/exprs/in_predicate.h                        |   2 +-
 be/src/http/http_client.cpp                        |  12 +-
 be/src/http/http_client.h                          |   7 +-
 be/src/runtime/descriptors.h                       |   2 +-
 be/src/runtime/large_int_value.h                   |   7 +
 be/src/runtime/string_value.cpp                    |   4 +
 be/src/runtime/string_value.h                      |   2 +
 be/src/util/CMakeLists.txt                         |   1 +
 be/test/exec/CMakeLists.txt                        |   4 +
 be/test/exec/es_http_scan_node_test.cpp            | 151 +++++++
 be/test/exec/es_predicate_test.cpp                 | 174 ++++++++
 be/test/exec/es_query_builder_test.cpp             | 459 +++++++++++++++++++++
 be/test/exec/es_scan_reader_test.cpp               | 245 +++++++++++
 be/test/http/http_client_test.cpp                  |  15 +
 .../java/org/apache/doris/catalog/Catalog.java     |   3 +-
 .../java/org/apache/doris/catalog/EsTable.java     |  33 +-
 .../org/apache/doris/external/EsIndexState.java    |  22 +
 .../org/apache/doris/external/EsMajorVersion.java  | 103 +++++
 .../java/org/apache/doris/external/EsNodeInfo.java | 205 +++++++++
 .../org/apache/doris/external/EsRestClient.java    | 141 +++++++
 .../org/apache/doris/external/EsShardRouting.java  |  34 +-
 .../org/apache/doris/external/EsStateStore.java    |  18 +-
 .../org/apache/doris/external/EsTableState.java    |  18 +
 .../java/org/apache/doris/planner/EsScanNode.java  |  13 +-
 gensrc/thrift/PlanNodes.thrift                     |   3 +-
 run-ut.sh                                          |   4 +
 45 files changed, 4373 insertions(+), 24 deletions(-)

commit 4559bc3558a46551ce62a8ae095a8c65361bfe1c
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sun Apr 28 16:42:19 2019 +0800

    Change transaction timeout default configuration (#1060)

 fe/src/main/java/org/apache/doris/common/Config.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 60df7cdb8d15f106b26ea8d92fc9f4f1f39789b9
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Apr 27 15:10:45 2019 +0800

    fix ut bug (#1051)

 .../org/apache/doris/load/routineload/KafkaRoutineLoadJobTest.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 5e36a769a0d4cb4d55f4f4c8e70b14427d957304
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Apr 27 11:29:52 2019 +0800

    Change the way to calculate task num (#1049)

 .../cn/administrator-guide/load-data/routine-load-manual.md    |  4 ++--
 .../org/apache/doris/load/routineload/KafkaRoutineLoadJob.java | 10 ++++------
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 0adb150da72e111a28f9cc9e3c17b104f4597d1c
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Apr 26 18:05:33 2019 +0800

    Fix ut bugs (#1046)
    
    Also fix a metrics collection bug

 fe/src/main/java/org/apache/doris/load/routineload/RoutineLoadJob.java | 3 +--
 .../java/org/apache/doris/load/routineload/RoutineLoadJobTest.java     | 2 +-
 .../org/apache/doris/load/routineload/RoutineLoadSchedulerTest.java    | 3 +++
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 4e5197ba5271c41c89f798f11707b19fe0618a7c
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Apr 25 20:24:43 2019 +0800

     Modify transaction proc info (#1029)
    
    
    
    1. Add running/finished state proc to show specified state txns.
    2. Add max disk used percent info in backends proc dir.
    
    * add missing file
    
    * fix bug
    
    * Update fe/src/main/java/org/apache/doris/transaction/GlobalTransactionMgr.java
    
    Co-Authored-By: morningman <morningman@163.com>
    
    * Update fe/src/main/java/org/apache/doris/transaction/GlobalTransactionMgr.java
    
    Co-Authored-By: morningman <morningman@163.com>

 .../java/org/apache/doris/catalog/DiskInfo.java    |  4 ++
 .../apache/doris/common/proc/BackendsProcDir.java  |  4 +-
 .../org/apache/doris/common/proc/ProcService.java  |  2 +-
 .../apache/doris/common/proc/TransDbProcDir.java   | 16 +----
 .../org/apache/doris/common/proc/TransProcDir.java |  7 ++-
 .../doris/common/proc/TransStateProcDir.java       | 69 ++++++++++++++++++++++
 .../main/java/org/apache/doris/system/Backend.java | 14 +++++
 .../doris/transaction/GlobalTransactionMgr.java    | 20 ++++++-
 .../doris/transaction/TransactionStatus.java       |  4 ++
 9 files changed, 120 insertions(+), 20 deletions(-)

commit 4a95c53f0755454ea5b854bdb3c297b2ff635129
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Apr 25 10:25:48 2019 +0800

    Fix bug of listener (#1017)
    
    * Fix bug of listener
    
    * Change txnStateChangeListener to txnStateChangeCallback
    
    * Fix the logic of beforeAborted
    1. It task is not belong to job, the txn attachment will be set to null.
    * Txn will be abort normally without attachment.
    * Job will not be updated by this task which attachment is null.

 .../doris/load/routineload/RoutineLoadJob.java     | 74 ++++++++++++----------
 .../doris/load/routineload/RoutineLoadManager.java |  6 +-
 .../load/routineload/RoutineLoadScheduler.java     | 10 ++-
 .../load/routineload/RoutineLoadTaskScheduler.java |  6 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  8 +--
 .../doris/transaction/GlobalTransactionMgr.java    |  8 +--
 .../apache/doris/transaction/TransactionState.java | 52 ++++++++-------
 ...rRegistry.java => TxnStateCallbackFactory.java} | 24 +++----
 ...geListener.java => TxnStateChangeCallback.java} |  6 +-
 .../transaction/GlobalTransactionMgrTest.java      |  4 +-
 10 files changed, 109 insertions(+), 89 deletions(-)

commit 9cd090c96a5844e41604e1404f4105787e2b3400
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 24 17:16:41 2019 +0800

    Modify routine load doc (#1016)
    
    Add config specification

 .../load-data/routine-load-manual.md                   | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit cf1e7aa84486b738a96d98d9c78433211a60eb14
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 24 17:11:17 2019 +0800

    Add close tablet writer log (#1014)

 be/src/runtime/routine_load/data_consumer.cpp      |  5 +++--
 .../runtime/routine_load/data_consumer_group.cpp   | 26 +++++++++++++---------
 be/src/runtime/routine_load/data_consumer_group.h  |  2 +-
 be/src/runtime/tablet_writer_mgr.cpp               |  3 ++-
 4 files changed, 21 insertions(+), 15 deletions(-)

commit 7f39738b08513e147e9af1cd866a5ca8f7eec988
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Apr 23 15:34:08 2019 +0800

    Change log tips (#1002)

 .../main/java/org/apache/doris/load/routineload/RoutineLoadJob.java | 2 +-
 .../org/apache/doris/load/routineload/RoutineLoadTaskScheduler.java | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 3409ed41ac6f99c1382f06992d695c2cc8d51571
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 22 21:08:51 2019 +0800

    Reset commit offset if task aborted due to runtime error (#994)

 be/src/runtime/stream_load/stream_load_context.h         |  7 +++++++
 be/src/runtime/stream_load/stream_load_executor.cpp      |  9 +++++++++
 .../java/org/apache/doris/analysis/TupleDescriptor.java  | 15 ++++++++-------
 .../doris/load/routineload/KafkaRoutineLoadJob.java      | 14 +++++++++-----
 .../org/apache/doris/load/routineload/KafkaTaskInfo.java |  3 +--
 .../doris/load/routineload/RoutineLoadManager.java       |  6 +++---
 .../doris/load/routineload/RoutineLoadTaskScheduler.java | 16 +++++++++++++---
 .../java/org/apache/doris/planner/StreamLoadPlanner.java |  2 +-
 .../org/apache/doris/planner/StreamLoadScanNode.java     |  2 +-
 .../doris/load/routineload/RoutineLoadManagerTest.java   |  5 ++---
 .../doris/load/routineload/RoutineLoadSchedulerTest.java |  5 ++---
 .../doris/transaction/GlobalTransactionMgrTest.java      |  4 ++--
 12 files changed, 58 insertions(+), 30 deletions(-)

commit a79bd0c7712691a69ac1f329aeb14ac57fa891a5
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Apr 22 15:43:53 2019 +0800

    Add doc of auto creator of kafka topic (#985)
    
    * Add annotation of show routine load

 .../cn/administrator-guide/load-data/routine-load-manual.md | 13 +++++++++----
 docs/help/Contents/Data Manipulation/routine_load.md        |  4 ++--
 .../org/apache/doris/load/routineload/RoutineLoadJob.java   | 10 +++++-----
 .../apache/doris/load/routineload/RoutineLoadScheduler.java |  2 +-
 .../doris/load/routineload/RoutineLoadTaskScheduler.java    |  4 ++--
 5 files changed, 19 insertions(+), 14 deletions(-)

commit 1b5643c6fb24fa3de341bfad72ca97f4bc6deb4a
Author: Mingyu Chen <morningman@163.com>
Date:   Sun Apr 21 08:53:49 2019 +0800

     Fix some bugs (#979)
    
    1. Add Config.max_routine_load_concurrent_task_num instead of the old one
    2. Fix a bug that SHOW ALTER TABLE COLUMN may throw Nullpointer exception
    3. Fix some misspelling of docs

 build.sh                                           |  5 +-
 .../load-data/routine-load-manual.md               | 51 ++++++++++++--------
 .../Contents/Data Manipulation/routine_load.md     |  2 +-
 .../org/apache/doris/alter/SchemaChangeJob.java    | 54 ++++++++++++----------
 .../doris/analysis/CreateRoutineLoadStmt.java      |  3 +-
 .../java/org/apache/doris/analysis/InsertStmt.java |  4 +-
 .../org/apache/doris/analysis/ShowAlterStmt.java   |  2 +-
 .../org/apache/doris/analysis/ShowTabletStmt.java  |  9 ++++
 .../apache/doris/catalog/CatalogRecycleBin.java    | 12 ++---
 .../main/java/org/apache/doris/common/Config.java  |  6 +++
 fe/src/main/java/org/apache/doris/load/Load.java   |  2 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  7 +--
 .../doris/load/routineload/RoutineLoadJob.java     |  1 -
 .../doris/planner/PartitionColumnFilter.java       |  5 +-
 .../org/apache/doris/task/LoadPendingTask.java     |  2 +-
 .../transaction/GlobalTransactionMgrTest.java      | 24 +++++-----
 16 files changed, 109 insertions(+), 80 deletions(-)

commit 56bec6f22a15e33f7b3a2810d8853da94548871e
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Apr 19 15:25:18 2019 +0800

    Add routine load manual (#967)

 .../load-data/routine-load-manual.md               | 139 +++++++++++++++++++++
 .../Contents/Data Manipulation/routine_load.md     |  30 +++--
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    |   4 +-
 3 files changed, 160 insertions(+), 13 deletions(-)

commit b7b66527cecc0bea674f01c12c0388ae90e1afc0
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Apr 19 09:59:29 2019 +0800

    Fix some load bugs  (#961)
    
    1. Use load job's timeout as its txn timeout
    2. Add a new session variable 'forward_to_master' for SHOW PROC and ADMIN stmt

 be/src/exec/broker_scan_node.cpp                   |  5 +-
 be/src/exec/broker_scanner.cpp                     |  1 +
 be/src/exec/broker_scanner.h                       |  8 +--
 be/src/exec/olap_table_sink.cpp                    |  1 +
 be/src/runtime/runtime_state.cpp                   |  2 +
 be/src/runtime/runtime_state.h                     | 15 ++++--
 be/src/runtime/stream_load/stream_load_context.cpp |  2 +
 be/src/runtime/stream_load/stream_load_context.h   |  1 +
 .../runtime/stream_load/stream_load_executor.cpp   |  9 ++--
 docs/help/Contents/Data Manipulation/streaming.md  |  6 ++-
 .../analysis/AdminShowReplicaDistributionStmt.java |  6 ++-
 .../doris/analysis/AdminShowReplicaStatusStmt.java |  6 ++-
 .../java/org/apache/doris/analysis/InsertStmt.java |  3 +-
 .../org/apache/doris/analysis/ShowProcStmt.java    |  6 ++-
 .../main/java/org/apache/doris/common/Config.java  | 12 +++++
 .../org/apache/doris/common/proc/TransProcDir.java |  2 +
 .../org/apache/doris/http/rest/ShowProcAction.java |  7 ++-
 fe/src/main/java/org/apache/doris/load/Load.java   |  3 +-
 .../doris/load/routineload/RoutineLoadJob.java     |  2 -
 .../doris/load/routineload/RoutineLoadManager.java |  1 -
 .../load/routineload/RoutineLoadTaskInfo.java      |  3 +-
 .../java/org/apache/doris/qe/SessionVariable.java  | 14 +++++
 .../apache/doris/service/FrontendServiceImpl.java  |  8 ++-
 .../org/apache/doris/task/LoadPendingTask.java     |  3 +-
 .../doris/transaction/GlobalTransactionMgr.java    | 62 +++++++++++-----------
 .../apache/doris/transaction/TransactionState.java | 12 +++--
 .../java/org/apache/doris/alter/RollupJobTest.java |  5 +-
 .../apache/doris/alter/SchemaChangeJobTest.java    |  3 +-
 .../transaction/GlobalTransactionMgrTest.java      | 29 +++++-----
 gensrc/thrift/FrontendService.thrift               |  1 +
 30 files changed, 164 insertions(+), 74 deletions(-)

commit e352a0833951ba58b1d33aca472e765b644ef67d
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Apr 19 09:18:06 2019 +0800

    Change tips of show routine load task (#959)
    
    1. Add pauseTimestamp
    2. It will be set when job is paused and it will be removed when job is resumed

 .../java/org/apache/doris/analysis/ShowRoutineLoadStmt.java  |  1 +
 .../org/apache/doris/analysis/ShowRoutineLoadTaskStmt.java   |  2 +-
 .../org/apache/doris/load/routineload/RoutineLoadJob.java    | 12 +++++++++---
 .../apache/doris/load/routineload/RoutineLoadJobTest.java    |  2 +-
 4 files changed, 12 insertions(+), 5 deletions(-)

commit 178757d46c13c35253a94a78bec76ac88855ecf0
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Apr 18 09:36:20 2019 +0800

    Revert "Use http redirect method instead of old way (#948)" (#949)
    
    This reverts commit 84c720e9e7f4123864a1068cf17d3736468ea528.

 .../java/org/apache/doris/http/BaseAction.java     |  29 ------
 .../org/apache/doris/http/action/SystemAction.java | 102 ++++++++++++---------
 .../org/apache/doris/http/rest/RestBaseAction.java |  35 ++++++-
 .../org/apache/doris/http/rest/ShowProcAction.java |  96 ++++++++++++-------
 4 files changed, 152 insertions(+), 110 deletions(-)

commit 1787e7bb05670e3993e29a7ba48cc0aa7e8fa71a
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 17 20:22:22 2019 +0800

    Use http redirect method instead of old way (#948)

 .../java/org/apache/doris/http/BaseAction.java     |  29 ++++++
 .../org/apache/doris/http/action/SystemAction.java | 102 +++++++++------------
 .../org/apache/doris/http/rest/RestBaseAction.java |  35 +------
 .../org/apache/doris/http/rest/ShowProcAction.java |  96 +++++++------------
 4 files changed, 110 insertions(+), 152 deletions(-)

commit 24d22c6f6b0b30d9176df73fc81bf39b58799b06
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 17 19:34:25 2019 +0800

    Forawrd some stmt to master (#944)
    
    1. SHOW PROC
    2. SHOW PROC web action
    3. ADMIN SHOW stmt
    4. SHOW ROUTINE LOAD stmt

 .../analysis/AdminShowReplicaDistributionStmt.java |  5 ++
 .../doris/analysis/AdminShowReplicaStatusStmt.java |  4 ++
 .../org/apache/doris/analysis/ShowProcStmt.java    |  5 ++
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |  8 ++-
 .../apache/doris/catalog/TabletInvertedIndex.java  |  5 ++
 .../java/org/apache/doris/http/BaseAction.java     | 30 ++++----
 .../java/org/apache/doris/http/BaseResponse.java   |  2 +-
 .../org/apache/doris/http/action/SystemAction.java | 82 +++++++++++++++-------
 .../apache/doris/http/rest/GetLogFileAction.java   | 17 ++---
 .../org/apache/doris/http/rest/ShowProcAction.java | 82 ++++++++++++++++------
 10 files changed, 170 insertions(+), 70 deletions(-)

commit 19b34129bb0614908979b9f15e3ad5d28d996c32
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Apr 17 16:00:51 2019 +0800

    Fix bug when resume a runnning job (#942)

 .../main/java/org/apache/doris/load/routineload/RoutineLoadJob.java  | 5 +++++
 1 file changed, 5 insertions(+)

commit 0579540ba28f388e7d5dff1476d8f3a31a7fe80f
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 17 15:30:32 2019 +0800

    Fix routine load bugs (#940)
    
    1. Plan for each task in case table schema may changed
    2. Add more detail info for txn

 .../main/java/org/apache/doris/alter/AlterJob.java | 12 ++--
 .../java/org/apache/doris/alter/RollupHandler.java |  9 ++-
 .../java/org/apache/doris/alter/RollupJob.java     |  4 +-
 .../apache/doris/alter/SchemaChangeHandler.java    |  7 ++-
 .../org/apache/doris/alter/SchemaChangeJob.java    |  4 +-
 .../java/org/apache/doris/analysis/InsertStmt.java |  6 +-
 .../apache/doris/common/proc/TransDbProcDir.java   |  5 +-
 .../doris/common/proc/TransPartitionProcNode.java  | 25 +++-----
 .../org/apache/doris/common/proc/TransProcDir.java | 16 +++--
 .../doris/common/proc/TransTablesProcDir.java      | 64 +++++++-------------
 fe/src/main/java/org/apache/doris/load/Load.java   |  3 +-
 .../doris/load/routineload/KafkaTaskInfo.java      | 18 +++---
 .../doris/load/routineload/RoutineLoadJob.java     | 34 ++++++-----
 .../load/routineload/RoutineLoadScheduler.java     |  4 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  3 +-
 .../org/apache/doris/planner/OlapTableSink.java    |  3 +-
 .../apache/doris/planner/StreamLoadPlanner.java    |  7 +--
 .../apache/doris/planner/StreamLoadScanNode.java   |  2 +-
 .../apache/doris/service/FrontendServiceImpl.java  | 32 +++++-----
 .../org/apache/doris/task/LoadPendingTask.java     |  5 +-
 .../java/org/apache/doris/task/StreamLoadTask.java | 12 ++--
 .../doris/transaction/GlobalTransactionMgr.java    | 68 ++++++++--------------
 .../apache/doris/transaction/TransactionState.java | 28 ++-------
 23 files changed, 149 insertions(+), 222 deletions(-)

commit f49c53ee5bd172891e2086fa6448bd3729040d51
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Apr 17 10:44:50 2019 +0800

    Change some throwable to userException (#939)

 .../apache/doris/load/routineload/RoutineLoadJob.java    |  2 +-
 .../doris/load/routineload/RoutineLoadScheduler.java     | 16 ++++++++--------
 .../apache/doris/transaction/GlobalTransactionMgr.java   | 14 ++++----------
 3 files changed, 13 insertions(+), 19 deletions(-)

commit 2b4d02b2fa0bfd5d9fb32fd4d53ad5b5adc768c6
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Apr 16 21:12:21 2019 +0800

    Add error load log url for routine load job (#938)

 be/src/exec/broker_scanner.cpp                     |   1 +
 be/src/runtime/fragment_mgr.cpp                    |   3 +
 be/src/runtime/routine_load/data_consumer.cpp      |   6 +-
 be/src/runtime/runtime_state.cpp                   |   2 +
 be/src/runtime/stream_load/stream_load_context.h   |   2 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  10 +-
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |   1 +
 .../routineload/RLTaskTxnCommitAttachment.java     |   9 ++
 .../doris/load/routineload/RoutineLoadJob.java     | 117 +++++++++++++--------
 .../apache/doris/service/FrontendServiceImpl.java  |  14 +--
 .../doris/transaction/GlobalTransactionMgr.java    |   9 +-
 .../apache/doris/transaction/TransactionState.java |  11 +-
 .../doris/load/routineload/RoutineLoadJobTest.java |  12 +--
 gensrc/thrift/FrontendService.thrift               |   1 +
 14 files changed, 126 insertions(+), 72 deletions(-)

commit 8e0512e88d2538fb38ace4a17b57860b421b3224
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Apr 16 19:20:13 2019 +0800

    Move lock of routine load job (#934)
    
    1. Moving lock of routine load job from inside of lock of txn to outside.
    2. The process of routine load task commit or abort is following:
    * lock job
          check task
      lock txn
          commit txn
      unlock txn
          commit task
    * unlock job
    3. The process of checking timeout txn will be ignored when there are related task of txn.
    4. The relationship between task and txn will be removed when task timeout.

 .../doris/analysis/CreateRoutineLoadStmt.java      |   4 +-
 .../doris/load/routineload/KafkaProgress.java      |   2 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  10 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |   3 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 155 +++++++++----------
 .../load/routineload/RoutineLoadTaskScheduler.java |   6 +-
 .../doris/transaction/GlobalTransactionMgr.java    | 164 ++++++++++++---------
 .../apache/doris/transaction/TransactionState.java |  85 ++++++-----
 .../doris/transaction/TxnStateChangeListener.java  |  26 ++--
 .../doris/load/routineload/RoutineLoadJobTest.java |  58 +++-----
 10 files changed, 261 insertions(+), 252 deletions(-)

commit 0cccb5cc9c892be86dbe23649fde18c5c79ae09e
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 15 08:38:21 2019 +0800

    Fix bugs of routine load job (#917)
    
    1. Uninitialized counter cause endless data consuming.
    2. Incorrect handle null value in column mapping.
    
    * fix bug

 be/src/runtime/routine_load/data_consumer_group.cpp              | 4 ++--
 be/src/runtime/routine_load/data_consumer_group.h                | 3 ++-
 be/src/runtime/runtime_state.cpp                                 | 2 +-
 .../main/java/org/apache/doris/planner/StreamLoadScanNode.java   | 9 +++++++--
 4 files changed, 12 insertions(+), 6 deletions(-)

commit 75674753c2cbf7d04706a271f5535174cc63d5e7
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sat Apr 6 19:22:28 2019 +0800

    Add unit test for RoutineLoadManager and RoutineLoadJob (#881)
    
    1. Add ut
    2. Show history job when table has been deleted. Checking auth whatever tablename is null or not.

 .../doris/analysis/ResumeRoutineLoadStmt.java      |   2 +-
 .../apache/doris/analysis/StopRoutineLoadStmt.java |   2 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  34 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 116 +++----
 .../doris/load/routineload/RoutineLoadManager.java |  30 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |  25 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |   6 +-
 .../doris/load/routineload/RoutineLoadJobTest.java | 304 ++++++++++++++++++
 .../load/routineload/RoutineLoadManagerTest.java   | 352 +++++++++++++++++++++
 9 files changed, 772 insertions(+), 99 deletions(-)

commit 400d8a906f0961c84b91beef0d9d972614274cf8
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Apr 4 13:12:21 2019 +0800

    Optimize the consumer assignment of Kafka routine load job (#870)
    
    1. Use a data consumer group to share a single stream load pipe with multi data consumers. This will increase the consuming speed of Kafka messages, as well as reducing the task number of routine
    load job.
    
    Test results：
    
    * 1 consumer, 1 partitions:
        consume time: 4.469s, rows: 990140, bytes: 128737139.  221557 rows/s, 28M/s
    * 1 consumer, 3 partitions:
        consume time: 12.765s, rows: 2000143, bytes: 258631271. 156689 rows/s, 20M/s
        blocking get time(us): 12268241, blocking put time(us): 1886431
    * 3 consumers, 3 partitions:
        consume time(all 3): 6.095s, rows: 2000503, bytes: 258631576. 328220 rows/s, 42M/s
        blocking get time(us): 1041639, blocking put time(us): 10356581
    
    The next 2 cases show that we can achieve higher speed by adding more consumers. But the bottle neck transfers from Kafka consumer to Doris ingestion, so 3 consumers in a group is enough.
    
    I also add a Backend config `max_consumer_num_per_group` to change the number of consumers in a data consumer group, and default value is 3.
    
    In my test(1 Backend, 2 tablets, 1 replicas), 1 routine load task can achieve 10M/s, which is same as raw stream load.
    
    2. Add OFFSET_BEGINNING and OFFSET_END support for Kafka routine load

 be/src/common/config.h                             |   3 +
 be/src/runtime/CMakeLists.txt                      |   1 +
 be/src/runtime/routine_load/data_consumer.cpp      | 137 +++++-----------
 be/src/runtime/routine_load/data_consumer.h        |  23 ++-
 .../runtime/routine_load/data_consumer_group.cpp   | 181 +++++++++++++++++++++
 be/src/runtime/routine_load/data_consumer_group.h  |  94 +++++++++++
 be/src/runtime/routine_load/data_consumer_pool.cpp |  33 ++++
 be/src/runtime/routine_load/data_consumer_pool.h   |  10 +-
 .../routine_load/routine_load_task_executor.cpp    |  28 ++--
 .../routine_load/routine_load_task_executor.h      |   1 -
 be/src/runtime/stream_load/stream_load_context.cpp |   2 +-
 be/src/util/semaphore.hpp                          |  50 ++++++
 .../Contents/Data Manipulation/routine_load.md     |  12 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      |  21 ++-
 .../java/org/apache/doris/load/LoadChecker.java    |   5 +-
 .../doris/load/routineload/KafkaProgress.java      |  72 +++++---
 .../load/routineload/KafkaRoutineLoadJob.java      |  41 ++---
 .../doris/load/routineload/KafkaTaskInfo.java      |   4 +-
 .../doris/load/routineload/RoutineLoadJob.java     |  37 +++--
 .../doris/load/routineload/RoutineLoadManager.java |  17 +-
 .../load/routineload/RoutineLoadScheduler.java     |   3 +-
 .../doris/transaction/GlobalTransactionMgr.java    |  18 +-
 .../doris/transaction/PublishVersionDaemon.java    |   3 +-
 .../apache/doris/transaction/TransactionState.java |   5 +-
 .../doris/transaction/TxnStateChangeListener.java  |   6 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  54 ++++--
 .../load/routineload/RoutineLoadManagerTest.java   |   5 +-
 .../transaction/GlobalTransactionMgrTest.java      |  31 +---
 28 files changed, 650 insertions(+), 247 deletions(-)

commit 22500b672c1c56821666ae7ddd498812df52d5e4
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Apr 2 15:23:36 2019 +0800

    Add new keyword in ident (#860)
    
    1. new keyword is added in ident in order to avoid syntax error when keyword is a string

 fe/src/main/cup/sql_parser.cup | 46 +++++++++++++++++++++++++-----------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit cef2078cb802fd4da6ade7795fd42d5a23343cc1
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 1 19:42:40 2019 +0800

    Fix FE UT (#850)

 .../doris/load/routineload/RoutineLoadJob.java     |   7 +-
 .../java/org/apache/doris/persist/EditLog.java     |   2 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   6 +-
 .../java/org/apache/doris/catalog/FakeEditLog.java |   6 +
 .../doris/planner/StreamLoadPlannerTest.java       |   4 +
 .../doris/planner/StreamLoadScanNodeTest.java      |  23 +++-
 .../java/org/apache/doris/qe/StmtExecutorTest.java |   4 -
 .../transaction/GlobalTransactionMgrTest.java      | 128 +++++++++------------
 8 files changed, 88 insertions(+), 92 deletions(-)

commit 01e2a8d48d0988da4f08b3b766ad7e77e4a02f24
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 1 10:14:40 2019 +0800

    Fix bug that stream load use invalid file type (#835)

 fe/src/main/java/org/apache/doris/task/StreamLoadTask.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5a757ff5b27824a2c7e2eebc2875faa037d4651e
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Apr 1 09:19:29 2019 +0800

    Change column order in show routine load (#824)
    
    1. show "/routine_loads/jobname" and show routine load jobname
    2. change jobname | id to  id | jobname

 fe/src/main/java/org/apache/doris/analysis/ShowRoutineLoadStmt.java    | 2 +-
 fe/src/main/java/org/apache/doris/load/routineload/RoutineLoadJob.java | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit e1c6ba839775df98c7ed3353ef012635f6a3df40
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Mar 27 10:02:40 2019 +0800

    Add show proc of routine load and task (#818)
    
    1. add show proc "/routine_loads" to show statistic of all of jobs and tasks
    2. add show proc "/routine_loads/jobname" to show info of all of jobs named jobname
    3. add show proc "/routine_loads/jobname/jobid" to show tasks belong to jobid
    4. fix bug of allocateBeToTask

 .../apache/doris/analysis/ShowRoutineLoadStmt.java | 12 +++-
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    | 12 ++--
 .../org/apache/doris/common/proc/ProcService.java  |  1 +
 .../doris/common/proc/RoutineLoadProcNode.java     | 58 ++++++++++++++++
 .../doris/common/proc/RoutineLoadsNameProcDir.java | 80 ++++++++++++++++++++++
 .../doris/common/proc/RoutineLoadsProcDir.java     | 79 +++++++++++++++++++++
 .../routineload/RLTaskTxnCommitAttachment.java     |  1 +
 .../doris/load/routineload/RoutineLoadJob.java     | 51 ++++++++++----
 .../doris/load/routineload/RoutineLoadManager.java | 65 +++++++++++++++---
 .../java/org/apache/doris/qe/ShowExecutor.java     | 10 +--
 .../load/routineload/RoutineLoadManagerTest.java   | 72 +++++++++++++++++++
 11 files changed, 408 insertions(+), 33 deletions(-)

commit c577b9397edd9bec2d0d4b07c29e6fdf780797ff
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 25 20:59:54 2019 +0800

    Add help doc of routine load (#811)

 .../Contents/Data Manipulation/routine_load.md     | 372 +++++++++++++++++++++
 .../doris/analysis/CreateRoutineLoadStmt.java      |   2 +-
 .../java/org/apache/doris/common/util/Daemon.java  |   4 +-
 3 files changed, 375 insertions(+), 3 deletions(-)

commit 2e250482fd88cb7daf175a161eca99e5499998e0
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Mar 25 20:35:20 2019 +0800

    Modify routine load fe unit test (#803)

 .../doris/analysis/CreateRoutineLoadStmt.java      |   1 +
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |   4 +-
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    |   2 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  19 +--
 .../routineload/RLTaskTxnCommitAttachment.java     |   1 +
 .../doris/load/routineload/RoutineLoadJob.java     |  68 +++-----
 .../doris/load/routineload/RoutineLoadManager.java |   8 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  14 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |  26 +--
 .../doris/load/routineload/KafkaProducerTest.java  |   5 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  | 177 ++++++---------------
 .../load/routineload/RoutineLoadManagerTest.java   |  44 +++--
 .../load/routineload/RoutineLoadSchedulerTest.java |  64 ++++----
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  24 +--
 14 files changed, 194 insertions(+), 263 deletions(-)

commit e8b360d193bf2cfc17d0739eab66ae8284e4a4de
Author: morningman <morningman@163.com>
Date:   Mon Mar 25 11:25:36 2019 +0800

    Merge master and fix BE ut

 be/src/runtime/stream_load/stream_load_context.h    |  1 +
 be/test/runtime/routine_load_task_executor_test.cpp | 14 +++++++-------
 be/test/util/uid_util_test.cpp                      | 10 +++++-----
 3 files changed, 13 insertions(+), 12 deletions(-)

commit 9d08be3c5fb4a5074c5d842969a32ed3421a94bc
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 25 10:15:27 2019 +0800

    Add metrics for routine load (#795)
    
    * Add metrics for routine load
    * limit the max number of routine load task in backend to 10
    * Fix bug that some partitions will no be assigned

 be/src/exec/broker_scan_node.cpp                   |   3 +-
 be/src/exec/broker_scanner.h                       |  10 +-
 be/src/runtime/routine_load/data_consumer.cpp      |  15 +-
 be/src/runtime/runtime_state.cpp                   |   2 +
 be/src/runtime/runtime_state.h                     |  10 ++
 be/src/runtime/stream_load/stream_load_context.cpp |   2 +
 be/src/runtime/stream_load/stream_load_context.h   |   1 +
 .../runtime/stream_load/stream_load_executor.cpp   |   3 +
 .../doris/analysis/CreateRoutineLoadStmt.java      |  76 +++++----
 .../apache/doris/analysis/ImportColumnDesc.java    |   2 +-
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |  12 +-
 .../java/org/apache/doris/common/util/Util.java    |  27 ++++
 .../load/routineload/KafkaRoutineLoadJob.java      |  33 +++-
 .../routineload/RLTaskTxnCommitAttachment.java     |  32 +++-
 .../doris/load/routineload/RoutineLoadJob.java     | 179 ++++++++++++++-------
 .../doris/load/routineload/RoutineLoadManager.java |   2 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |   7 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |   8 +-
 .../java/org/apache/doris/metric/MetricRepo.java   |  24 ++-
 .../apache/doris/service/FrontendServiceImpl.java  |  21 ++-
 .../doris/transaction/GlobalTransactionMgr.java    |   6 +
 gensrc/thrift/FrontendService.thrift               |   9 +-
 22 files changed, 349 insertions(+), 135 deletions(-)

commit 8d2de42b3639313dbb46fa467be55520d6fe19b3
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Mar 22 10:25:34 2019 +0800

    Fix some routine load bugs (#787)
    
    1. Reserve the column order in load stmt.
    2. Fix some replay bugs of routine load task.

 be/src/runtime/routine_load/data_consumer.cpp      | 11 +++++--
 fe/src/main/cup/sql_parser.cup                     |  2 +-
 .../doris/analysis/AlterLoadErrorUrlClause.java    |  3 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      |  9 ++---
 .../apache/doris/analysis/ImportColumnDesc.java    | 20 +++++++++---
 .../java/org/apache/doris/catalog/Partition.java   |  4 +++
 .../load/routineload/KafkaRoutineLoadJob.java      |  4 +--
 .../doris/load/routineload/RoutineLoadJob.java     | 38 +++++++++++++---------
 .../org/apache/doris/planner/OlapScanNode.java     |  7 ++++
 .../apache/doris/planner/StreamLoadScanNode.java   | 21 ++++--------
 .../java/org/apache/doris/task/StreamLoadTask.java | 20 +++++-------
 11 files changed, 82 insertions(+), 57 deletions(-)

commit d213f922be23c7853c8c6d2622410ac43f9274b4
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Mar 21 19:16:27 2019 +0800

    Implement ShowRoutineLoadStmt and ShowRoutineLoadTaskStmt (#786)
    
    1. ShowRoutineLoadStmt is sames like class description. It does not support show all of routine load job in all of db
    2. ShowRoutineLoadTaskStmt is sames like class description. It does not support show all of routine laod task in all of job
    3. Init partitionIdsToOffset in constructor of KafkaProgress
    4. Change Create/Pause/Resume/Stop routine load job to LabelName such as [db.]name
    5. Exclude final job when updating job
    6. Catch all of exception when scheduling one job. The exception will not block the another jobs.

 fe/src/main/cup/sql_parser.cup                     |  50 +++-
 .../doris/analysis/CreateRoutineLoadStmt.java      |  35 ++-
 .../doris/analysis/PauseRoutineLoadStmt.java       |  19 +-
 .../doris/analysis/ResumeRoutineLoadStmt.java      |  18 +-
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |  86 +++++--
 .../doris/analysis/ShowRoutineLoadTaskStmt.java    | 144 +++++++++++
 .../apache/doris/analysis/StopRoutineLoadStmt.java |  18 +-
 .../doris/load/routineload/KafkaProgress.java      |  30 ++-
 .../load/routineload/KafkaRoutineLoadJob.java      |  48 ++--
 .../doris/load/routineload/KafkaTaskInfo.java      |  33 ++-
 .../doris/load/routineload/RoutineLoadJob.java     | 277 +++++++++++++--------
 .../doris/load/routineload/RoutineLoadManager.java | 130 ++++++----
 .../load/routineload/RoutineLoadProgress.java      |   2 +
 .../load/routineload/RoutineLoadScheduler.java     |  27 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  21 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     | 100 ++++++--
 .../java/org/apache/doris/task/StreamLoadTask.java |  25 +-
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 .../doris/analysis/CreateRoutineLoadStmtTest.java  |   7 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  11 +-
 .../load/routineload/RoutineLoadManagerTest.java   |   7 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  17 +-
 .../transaction/GlobalTransactionMgrTest.java      |   4 +-
 23 files changed, 791 insertions(+), 319 deletions(-)

commit 9fa5e1b7684efe669401649a740aa68194be0f39
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Mar 20 17:06:11 2019 +0800

    Add a cleaner bg thread to clean idle data consumer (#776)

 be/src/runtime/routine_load/data_consumer.cpp      |  4 ++-
 be/src/runtime/routine_load/data_consumer.h        |  6 +++-
 be/src/runtime/routine_load/data_consumer_pool.cpp | 38 +++++++++++++++++++++-
 be/src/runtime/routine_load/data_consumer_pool.h   | 11 ++++++-
 .../routine_load/routine_load_task_executor.cpp    |  7 ++--
 .../routine_load/routine_load_task_executor.h      |  2 ++
 6 files changed, 61 insertions(+), 7 deletions(-)

commit ff6844b7d68910cdf6726d232147b36338a44545
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Mar 19 18:32:43 2019 +0800

    Fix routine load replay bugs (#770)

 .../java/org/apache/doris/catalog/Catalog.java     | 10 +++---
 .../org/apache/doris/journal/JournalEntity.java    |  3 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  2 ++
 .../doris/load/routineload/RoutineLoadJob.java     | 23 +++++++++++--
 .../doris/load/routineload/RoutineLoadManager.java | 39 ++++++++++++++++------
 .../load/routineload/RoutineLoadTaskScheduler.java |  4 +++
 .../java/org/apache/doris/persist/EditLog.java     |  9 +++++
 .../org/apache/doris/persist/OperationType.java    |  2 +-
 .../apache/doris/persist/RoutineLoadOperation.java |  2 +-
 .../apache/doris/transaction/TransactionState.java |  5 ++-
 .../transaction/TxnStateListenerRegistry.java      |  7 ++++
 11 files changed, 84 insertions(+), 22 deletions(-)

commit 95d0186e18a7dc8623336ec010ae86043d6c5f74
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 18 18:10:38 2019 +0800

    Modify some task scheduler logic (#767)
    
    1. add job id and cluster name to Task info
    2. Simplify the logic of getting beIdToMaxConcurrentTaskNum

 .../load/routineload/KafkaRoutineLoadJob.java      | 13 +++---
 .../doris/load/routineload/KafkaTaskInfo.java      |  6 +--
 .../doris/load/routineload/RoutineLoadJob.java     | 23 ++++------
 .../doris/load/routineload/RoutineLoadManager.java | 29 +------------
 .../load/routineload/RoutineLoadTaskInfo.java      | 19 ++++++---
 .../load/routineload/RoutineLoadTaskScheduler.java | 49 ++++++++++++----------
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  2 +-
 .../load/routineload/RoutineLoadManagerTest.java   | 22 +++++-----
 .../load/routineload/RoutineLoadSchedulerTest.java |  8 ++--
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  2 +-
 .../transaction/GlobalTransactionMgrTest.java      |  4 +-
 11 files changed, 78 insertions(+), 99 deletions(-)

commit aa7f4c82da290d21879204a85c5af88fc2698738
Author: Mingyu Chen <morningman@163.com>
Date:   Sun Mar 17 10:43:56 2019 +0800

    modify the replay logic of routine load job (#762)

 .../doris/analysis/CreateRoutineLoadStmt.java      |   8 +-
 .../doris/load/routineload/KafkaProgress.java      |  30 +--
 .../load/routineload/KafkaRoutineLoadJob.java      |  28 +--
 .../routineload/RLTaskTxnCommitAttachment.java     |  15 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 219 +++++++++++----------
 .../doris/load/routineload/RoutineLoadManager.java |  31 ++-
 .../load/routineload/RoutineLoadProgress.java      |  44 +++++
 .../doris/transaction/GlobalTransactionMgr.java    |  18 +-
 .../apache/doris/transaction/TransactionState.java | 111 ++++++-----
 .../doris/transaction/TxnCommitAttachment.java     |  42 ++++
 .../doris/transaction/TxnStateChangeListener.java  |  28 +--
 .../transaction/GlobalTransactionMgrTest.java      |   4 +-
 12 files changed, 355 insertions(+), 223 deletions(-)

commit 8f781f95c777fb9d9b0eac638d43cb5550a3e90a
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Mar 14 21:04:38 2019 +0800

    Add persist operations for routine load job (#754)

 be/src/runtime/routine_load/data_consumer.cpp      |  16 +-
 .../routine_load/routine_load_task_executor.cpp    |   4 +
 be/src/runtime/stream_load/stream_load_context.h   |   9 +-
 fe/src/main/cup/sql_parser.cup                     |  13 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      | 247 +++++++------
 .../org/apache/doris/analysis/LoadColumnsInfo.java |  26 +-
 .../apache/doris/analysis/ShowVariablesStmt.java   |  10 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  68 ++--
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   4 +-
 .../org/apache/doris/common/LoadException.java     |   5 +-
 .../org/apache/doris/journal/JournalEntity.java    |  12 +
 .../org/apache/doris/load/RoutineLoadDesc.java     |  17 +-
 .../doris/load/routineload/KafkaProgress.java      |   8 +-
 .../load/routineload/KafkaRoutineLoadJob.java      | 137 +++----
 .../doris/load/routineload/KafkaTaskInfo.java      |   7 +-
 .../routineload/RLTaskTxnCommitAttachment.java     |   4 -
 .../doris/load/routineload/RoutineLoadJob.java     | 406 +++++++++++++--------
 .../doris/load/routineload/RoutineLoadManager.java | 144 +++++---
 .../load/routineload/RoutineLoadScheduler.java     |  16 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |   2 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |  14 +-
 .../java/org/apache/doris/persist/EditLog.java     |  18 +
 .../org/apache/doris/persist/OperationType.java    |   4 +
 .../apache/doris/persist/RoutineLoadOperation.java |  70 ++++
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   4 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |   2 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     |  15 +-
 .../apache/doris/service/FrontendServiceImpl.java  |   3 +-
 .../org/apache/doris/task/RoutineLoadTask.java     |  53 ---
 .../java/org/apache/doris/task/StreamLoadTask.java |  21 +-
 .../doris/transaction/GlobalTransactionMgr.java    |  41 ++-
 .../apache/doris/transaction/TransactionState.java | 191 +++++-----
 .../TxnStateChangeListener.java                    |  24 +-
 .../TxnStateListenerRegistry.java}                 |  36 +-
 .../doris/analysis/CreateRoutineLoadStmtTest.java  |  15 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  41 ++-
 .../load/routineload/RoutineLoadManagerTest.java   |  49 ++-
 .../load/routineload/RoutineLoadSchedulerTest.java |  26 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  33 --
 .../java/org/apache/doris/qe/StmtExecutorTest.java |   8 +-
 .../transaction/GlobalTransactionMgrTest.java      |   8 +-
 gensrc/thrift/BackendService.thrift                |  12 +-
 43 files changed, 1062 insertions(+), 783 deletions(-)

commit e1fb02d4c0d1149d83f44f015e6401f5c4ed46dd
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Mar 14 20:28:02 2019 +0800

    Add routine load job cleaner (#742)
    
    1. the stopped and cancelled job will be cleaned after the interval of clean second
    2. the interval of clean second * 1000 = current timestamp - end timestamp
    3. if job could not fetch topic metadata when need_schedule, job will be cancelled
    4. fix the deadlock of job and txn. the lock of txn must be in front of the lock of job
    5. the job will be paused or cancelled depend on the abort reason of txn
    6. the job will be cancelled immediately if the abort reason named offsets out of range

 .../load/routineload/KafkaRoutineLoadJob.java      |  15 ++-
 .../doris/load/routineload/RoutineLoadJob.java     | 141 +++++++++++++--------
 .../doris/load/routineload/RoutineLoadManager.java |  31 ++++-
 .../load/routineload/RoutineLoadScheduler.java     |  38 ++++--
 .../load/routineload/RoutineLoadTaskScheduler.java |  11 +-
 .../apache/doris/transaction/TransactionState.java |  22 +++-
 .../doris/load/routineload/KafkaProducerTest.java  |  12 +-
 7 files changed, 187 insertions(+), 83 deletions(-)

commit 8b52787114e8b9ec4a16451996cad0b60084bb10
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Mar 12 20:11:08 2019 +0800

    Stream load with no data will abort txn (#735)
    
    1. stream load executor will abort txn when no correct data in task
    2. change txn label to DebugUtil.print(UUID) which is same as task id printed by be
    3. change print uuid to hi-lo

 be/src/runtime/routine_load/data_consumer.cpp      |  3 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  3 +
 be/src/util/uid_util.h                             |  2 +-
 .../org/apache/doris/common/util/DebugUtil.java    | 12 +++-
 .../org/apache/doris/common/util/LogBuilder.java   |  2 +-
 .../load/routineload/KafkaRoutineLoadJob.java      | 74 ++++++++++++++++------
 .../doris/load/routineload/RoutineLoadJob.java     | 52 +++++++++------
 .../load/routineload/RoutineLoadTaskInfo.java      |  3 +-
 .../doris/load/routineload/KafkaProducerTest.java  | 73 +++++++++++++++++++++
 9 files changed, 177 insertions(+), 47 deletions(-)

commit 062f827b6069121aa3963b3cab6e11e77da2c336
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Mar 11 19:27:59 2019 +0800

    Add attachment in rollback txn (#725)
    
    1. init cmt offset in stream load context
    2. init default max error num = 5000 rows / per 10000 rows
    3. add log builder for routine load job and task
    4. clone plan fragment param for every task
    5. be does not throw too many filter rows while the init max error ratio is 1

 .../routine_load/routine_load_task_executor.cpp    |   1 +
 be/src/runtime/stream_load/stream_load_context.h   |   6 +-
 .../runtime/stream_load/stream_load_executor.cpp   |  10 +-
 .../java/org/apache/doris/catalog/Catalog.java     |   4 +
 .../org/apache/doris/common/util/LogBuilder.java   | 117 +++++++++++++++++
 .../java/org/apache/doris/common/util/LogKey.java  |  26 ++++
 .../load/routineload/KafkaRoutineLoadJob.java      |  13 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |   5 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 143 +++++++++++++--------
 .../doris/load/routineload/RoutineLoadManager.java |  15 +--
 .../load/routineload/RoutineLoadTaskScheduler.java |  60 ++++++---
 .../doris/transaction/GlobalTransactionMgr.java    |  11 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  27 ++--
 .../load/routineload/RoutineLoadSchedulerTest.java |  21 +--
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   4 +-
 .../transaction/GlobalTransactionMgrTest.java      |  11 +-
 16 files changed, 343 insertions(+), 131 deletions(-)

commit 192c8c58203f83a75fecd62c5b8272d4578aa12e
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 11 17:20:51 2019 +0800

    Fix bug that data consumer should be removed from pool when being got (#723)

 be/src/runtime/routine_load/data_consumer_pool.cpp  | 16 ++++++++++------
 be/test/runtime/routine_load_task_executor_test.cpp |  2 +-
 2 files changed, 11 insertions(+), 7 deletions(-)

commit 8474061d635a24f6f659010a0c909eed1e095751
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Mar 8 17:35:29 2019 +0800

    Add some logs (#711)

 be/src/exec/broker_scanner.cpp                             | 1 +
 be/src/runtime/routine_load/data_consumer.cpp              | 6 +++++-
 be/src/runtime/routine_load/routine_load_task_executor.cpp | 4 +++-
 be/src/runtime/stream_load/load_stream_mgr.h               | 2 ++
 4 files changed, 11 insertions(+), 2 deletions(-)

commit fbbe0d19ba19f54903fd1d91740f0822c42c2c9b
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Mar 7 19:29:03 2019 +0800

    Change the relationship between txn and task (#703)
    
    1. Check if properties is null before check routine load properties
    2. Change transactionStateChange reason to string
    3. calculate current num by beId
    4. Add kafka offset properties
    5. Prefer to use previous be id
    6. Add before commit listener of txn: if txn is committed after task is aborted, commit will be aborted
    7. queryId of stream load plan = taskId

 be/src/runtime/stream_load/stream_load_context.h   |   3 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      |  59 +++++---
 .../apache/doris/load/TxnStateChangeListener.java  |   9 +-
 .../doris/load/routineload/KafkaProgress.java      |  11 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  13 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |   6 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 158 ++++++++++++++-------
 .../doris/load/routineload/RoutineLoadManager.java |  83 ++++++++---
 .../load/routineload/RoutineLoadScheduler.java     |   3 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  28 +++-
 .../load/routineload/RoutineLoadTaskScheduler.java |  42 ++++--
 .../apache/doris/planner/StreamLoadScanNode.java   |   2 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |   3 +-
 .../apache/doris/service/FrontendServiceImpl.java  |   3 +-
 .../doris/transaction/GlobalTransactionMgr.java    |  10 +-
 .../apache/doris/transaction/TransactionState.java |   4 +-
 .../load/routineload/RoutineLoadManagerTest.java   |   5 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   6 +-
 18 files changed, 310 insertions(+), 138 deletions(-)

commit a2c3fb1507a907ad1036f83684fd0ee9175c2190
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Mar 7 09:26:59 2019 +0800

    Missing to set auth code (#699)

 be/src/common/utils.h | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 10cee6ecff845a263b5297b1d84222987368453a
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Mar 6 19:49:17 2019 +0800

    Add missing files (#696)

 be/src/runtime/routine_load/data_consumer_pool.cpp | 76 ++++++++++++++++++++++
 be/src/runtime/routine_load/data_consumer_pool.h   | 57 ++++++++++++++++
 2 files changed, 133 insertions(+)

commit 567d5de2de19cc6c8f7d53217756b9b62e82abe9
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Mar 6 17:41:53 2019 +0800

    Add a data consumer pool to reuse the data consumer (#691)

 be/src/runtime/CMakeLists.txt                      |   1 +
 be/src/runtime/routine_load/data_consumer.cpp      | 120 ++++++++++++++-------
 be/src/runtime/routine_load/data_consumer.h        |  87 ++++++++-------
 .../routine_load/routine_load_task_executor.cpp    |  50 +++++----
 .../routine_load/routine_load_task_executor.h      |  16 +--
 be/src/runtime/stream_load/stream_load_context.cpp |   4 +-
 be/src/runtime/stream_load/stream_load_context.h   |  15 +--
 .../runtime/routine_load_task_executor_test.cpp    |  35 ++++--
 conf/be.conf                                       |   2 +-
 .../apache/doris/service/FrontendServiceImpl.java  |  17 ++-
 10 files changed, 216 insertions(+), 131 deletions(-)

commit 2314a3ecd41462a3ccd66e9ce6cf5e95fbd39a07
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Mar 5 16:37:19 2019 +0800

     Put begin txn into task scheduler (#687)
    
    1. fix the nesting lock of db and txn
    2. the txn of task will be init in task scheduler before take task from queue

 .../doris/analysis/CreateRoutineLoadStmt.java      |  28 ++-
 .../java/org/apache/doris/catalog/Catalog.java     |  14 ++
 .../org/apache/doris/load/RoutineLoadDesc.java     |   2 +
 .../load/routineload/KafkaRoutineLoadJob.java      | 125 +++++-----
 .../doris/load/routineload/KafkaTaskInfo.java      |  32 +--
 .../doris/load/routineload/RoutineLoadJob.java     | 270 ++++++++++++---------
 .../doris/load/routineload/RoutineLoadManager.java |  97 +++++---
 .../load/routineload/RoutineLoadScheduler.java     |  36 ++-
 .../load/routineload/RoutineLoadTaskInfo.java      |  22 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |  60 +++--
 .../java/org/apache/doris/qe/ShowExecutor.java     |  15 +-
 .../java/org/apache/doris/task/StreamLoadTask.java |  18 +-
 .../apache/doris/transaction/TransactionState.java |   6 +-
 .../doris/analysis/CreateRoutineLoadStmtTest.java  |   6 +-
 .../load/routineload/KafkaRoutineLoadJobTest.java  |   2 +-
 .../load/routineload/RoutineLoadManagerTest.java   |   8 +-
 .../load/routineload/RoutineLoadSchedulerTest.java |   2 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   2 +-
 .../transaction/GlobalTransactionMgrTest.java      |   8 +-
 19 files changed, 440 insertions(+), 313 deletions(-)

commit 20b2b2c37f44f3c2c1fa73ae3fabca333ea20553
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 4 20:06:19 2019 +0800

    Modify interface (#684)
    
    1. Add batch submit interface
    2. Add Kafka Event callback to catch Kafka events

 be/src/runtime/routine_load/data_consumer.cpp      | 10 ++++++-
 be/src/runtime/routine_load/data_consumer.h        | 31 ++++++++++++++++++++++
 be/src/runtime/stream_load/stream_load_context.h   | 23 +++++++++-------
 be/src/service/backend_service.cpp                 | 16 ++++++++---
 be/src/service/backend_service.h                   |  2 +-
 .../load/routineload/RoutineLoadTaskScheduler.java | 11 ++++----
 .../org/apache/doris/common/GenericPoolTest.java   |  2 +-
 gensrc/thrift/BackendService.thrift                | 14 +++++-----
 8 files changed, 81 insertions(+), 28 deletions(-)

commit 152606fbd60feac5b7f73ae5e8a68050ae8ab4ce
Author: EmmyMiao87 <522274284@qq.com>
Date:   Mon Mar 4 11:25:58 2019 +0800

    Submit routine load task immediately (#682)
    
    1. Use submit_routine_load_task instead of agentTaskQueue
    2. Remove thrift dependency in StreamLoadPlanner and StreamLoadScanNode

 .../org/apache/doris/analysis/LoadColumnsInfo.java |   4 +
 .../load/routineload/KafkaRoutineLoadJob.java      |  12 +-
 .../doris/load/routineload/KafkaTaskInfo.java      |  67 ++++--
 .../routineload/RLTaskTxnCommitAttachment.java     |  27 +--
 .../doris/load/routineload/RoutineLoadJob.java     |  28 ++-
 .../doris/load/routineload/RoutineLoadManager.java |   5 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  22 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |  61 ++++--
 .../apache/doris/planner/StreamLoadPlanner.java    |  15 +-
 .../apache/doris/planner/StreamLoadScanNode.java   |  84 ++------
 .../java/org/apache/doris/qe/ShowExecutor.java     |   2 +-
 .../apache/doris/service/FrontendServiceImpl.java  |   3 +-
 .../java/org/apache/doris/task/StreamLoadTask.java | 224 +++++++++++++++++++++
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  11 +-
 .../load/routineload/RoutineLoadSchedulerTest.java |   2 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   7 +-
 .../doris/planner/StreamLoadPlannerTest.java       |   4 +-
 .../doris/planner/StreamLoadScanNodeTest.java      |  40 ++--
 18 files changed, 456 insertions(+), 162 deletions(-)

commit 9618d20a72d8fd0b66947c2183ce27475761f8ac
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Feb 28 15:30:08 2019 +0800

    Add unit test (#675)

 be/src/runtime/routine_load/data_consumer.cpp      |  57 +++++-----
 be/src/runtime/routine_load/kafka_consumer_pipe.h  |   2 +
 .../routine_load/routine_load_task_executor.cpp    |  56 +++++++++-
 .../routine_load/routine_load_task_executor.h      |   2 +
 be/test/runtime/CMakeLists.txt                     |   2 +
 be/test/runtime/kafka_consumer_pipe_test.cpp       |  78 ++++++++++++++
 .../runtime/routine_load_task_executor_test.cpp    | 115 +++++++++++++++++++++
 conf/be.conf                                       |   2 +-
 gensrc/thrift/BackendService.thrift                |   1 +
 run-ut.sh                                          |   4 +
 10 files changed, 292 insertions(+), 27 deletions(-)

commit 0820a29b8d26dc937cf42ca94591ffdf02380b37
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Feb 28 15:15:31 2019 +0800

    Implement the routine load process of Kafka on Backend (#671)

 be/CMakeLists.txt                                  |  12 +-
 be/src/common/status.cpp                           |   3 +
 be/src/common/status.h                             |   1 +
 .../kafka_consumer_pipe.cpp => common/utils.h}     |  29 +-
 be/src/exec/CMakeLists.txt                         |   2 +-
 be/src/exec/broker_scanner.cpp                     |   4 +-
 be/src/exec/plain_text_line_reader.cpp             |   2 +-
 be/src/exec/schema_scan_node.cpp                   |   2 +-
 .../exec/schema_scanner/schema_columns_scanner.cpp |  10 +-
 .../{frontend_helper.cpp => schema_helper.cpp}     |  76 +-----
 .../{frontend_helper.h => schema_helper.h}         |  36 +--
 .../schema_scanner/schema_schemata_scanner.cpp     |   6 +-
 .../exec/schema_scanner/schema_tables_scanner.cpp  |   8 +-
 .../schema_scanner/schema_variables_scanner.cpp    |   4 +-
 be/src/http/CMakeLists.txt                         |   1 -
 be/src/http/action/stream_load.cpp                 | 292 ++-------------------
 be/src/http/action/stream_load.h                   |  11 +-
 be/src/http/http_common.h                          |   7 -
 be/src/http/utils.cpp                              |   3 +-
 be/src/http/utils.h                                |  14 +-
 be/src/runtime/CMakeLists.txt                      |   6 +-
 be/src/runtime/exec_env.h                          |   9 +
 be/src/runtime/exec_env_init.cpp                   |   9 +-
 be/src/{http => runtime}/message_body_sink.cpp     |   5 +-
 be/src/{http => runtime}/message_body_sink.h       |   5 +-
 be/src/runtime/routine_load/data_consumer.cpp      | 195 ++++++++++++++
 be/src/runtime/routine_load/data_consumer.h        |  98 +++++++
 .../{ => routine_load}/kafka_consumer_pipe.h       |  31 ++-
 .../routine_load/routine_load_task_executor.cpp    | 174 ++++++++++++
 .../routine_load/routine_load_task_executor.h      |  75 ++++++
 be/src/runtime/snapshot_loader.cpp                 |   2 +-
 be/src/runtime/{ => stream_load}/load_stream_mgr.h |  11 +-
 be/src/runtime/stream_load/stream_load_context.cpp | 100 +++++++
 be/src/runtime/stream_load/stream_load_context.h   | 163 ++++++++++++
 .../runtime/stream_load/stream_load_executor.cpp   | 243 +++++++++++++++++
 be/src/runtime/stream_load/stream_load_executor.h  |  51 ++++
 .../runtime/{ => stream_load}/stream_load_pipe.h   |   2 +-
 be/src/service/backend_service.cpp                 |   7 +
 be/src/service/backend_service.h                   |   2 +
 be/src/service/doris_main.cpp                      |   2 +-
 be/src/util/CMakeLists.txt                         |   5 +-
 be/src/util/frontend_helper.cpp                    |  91 +++++++
 be/src/util/frontend_helper.h                      |  54 ++++
 be/test/exec/olap_table_sink_test.cpp              |   2 +-
 be/test/http/message_body_sink_test.cpp            |   2 +-
 be/test/http/stream_load_test.cpp                  |   8 +-
 be/test/runtime/stream_load_pipe_test.cpp          |   2 +-
 .../doris/load/routineload/KafkaProgress.java      |   6 +-
 .../routineload/RLTaskTxnCommitAttachment.java     | 117 +++------
 .../doris/load/routineload/RoutineLoadJob.java     |  11 +-
 .../doris/transaction/TxnCommitAttachment.java     |   4 +-
 .../org/apache/doris/common/GenericPoolTest.java   |   7 +
 .../transaction/GlobalTransactionMgrTest.java      |  42 ++-
 gensrc/thrift/AgentService.thrift                  |   2 +-
 gensrc/thrift/BackendService.thrift                |  25 ++
 gensrc/thrift/FrontendService.thrift               |  36 ++-
 gensrc/thrift/Types.thrift                         |   9 +
 57 files changed, 1535 insertions(+), 601 deletions(-)

commit da308da17c3517d8579123f1be597770e5ef77e0
Author: Mingyu Chen <morningman@163.com>
Date:   Sun Apr 28 09:36:19 2019 +0800

    Fix bug that empty stream load return unexpected error msg (#1052)

 be/src/exec/plain_text_line_reader.cpp              |  2 +-
 .../plain_text_line_reader_uncompressed_test.cpp    | 21 +++++++++++++++++++++
 .../exec/test_data/plain_text_line_reader/empty.txt |  0
 3 files changed, 22 insertions(+), 1 deletion(-)

commit 88bd289caa442fbd26b7263a77ecf6650c5372c2
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Apr 26 17:03:55 2019 +0800

    Modify thirdparties (#1044)
    
    1. Update snappy from 1.1.4 to 1.1.7
    2. disable ssl of librdkafka

 thirdparty/build-thirdparty.sh | 22 ++++++++++++++--------
 thirdparty/vars.sh             |  8 ++++----
 2 files changed, 18 insertions(+), 12 deletions(-)

commit 642b2a36045e9b28ccf6bbdd3b0fb32db835d59c
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Apr 26 13:30:50 2019 +0800

    Add a java sample for stream load (#1039)

 samples/stream_load/java/DorisStreamLoad.java | 141 ++++++++++++++++++++++++++
 1 file changed, 141 insertions(+)

commit e8397d17f36458d4efacc7676e21e1b298f7b9af
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Apr 25 21:28:32 2019 +0800

    Change length of CHAR type when upon schema change (#1035)
    
    CHAR type is of the fixed length string. Upon modify length
    of CHAR type, the size of slice should be equal to new length.

 be/src/olap/schema_change.cpp | 18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit 101106d83e393a62e265b0b502f7bc2c1b7a6a7c
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Apr 25 17:29:34 2019 +0800

    Add left/right string function (#1032)

 fe/src/main/cup/sql_parser.cup            | 4 ++++
 gensrc/script/doris_builtins_functions.py | 6 ++++++
 2 files changed, 10 insertions(+)

commit 8031ab773bf90026ee47204dbab554e566958424
Author: chenhao <510341142@qq.com>
Date:   Thu Apr 25 16:09:19 2019 +0800

    Support add hll column in Schemachange (#1033)

 be/src/olap/column_reader.h   |  3 ++-
 be/src/olap/wrapper_field.cpp | 10 +++++++---
 2 files changed, 9 insertions(+), 4 deletions(-)

commit 3cc78fd95229a9b374e4b706457a3e964cd41181
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Apr 25 13:48:20 2019 +0800

    Add trim in hdfs broker name node string (#1028)

 .../src/main/java/org/apache/doris/broker/hdfs/FileSystemManager.java    | 1 +
 1 file changed, 1 insertion(+)

commit 566243c4e3a97d4a8b2c491d544fd599264fd860
Author: kangkaisen <kangkaisen@apache.org>
Date:   Wed Apr 24 20:58:13 2019 +0800

    Fix unknown node id bug when stream load after decommission BE (#993)

 fe/src/main/java/org/apache/doris/catalog/Tablet.java    | 16 ++++++++++++++--
 .../java/org/apache/doris/planner/OlapTableSink.java     |  6 ++++--
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 95a06dcd2adc25fb58ecb4ba65e1ff6b8f4d7572
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 24 20:11:06 2019 +0800

    Change the buffer length for FloatToBuffer() method (#1019)

 be/src/util/mysql_global.h | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f852aa1cff3f7c926ba6ba29f8fc01b90adb83b0
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Apr 24 17:06:53 2019 +0800

    Support enable_insert_strict (#1013)
    
    Add a variable enable_insert_strict, this default value is false. When
    this value is set to true, insert will fail if there is any filtered
    data. If this value is false, insert will ignore filtered data and
    success

 be/src/runtime/data_spliter.cpp                           |  2 ++
 fe/src/main/java/org/apache/doris/qe/SessionVariable.java |  9 +++++++++
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java    | 12 ++++++++++++
 3 files changed, 23 insertions(+)

commit 7933cc2209f8bacfdeae9588b57a5a3f18c902f1
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Apr 23 17:33:45 2019 +0800

    Make add_pending_segment_group() idempotent (#1001)

 be/src/olap/olap_header.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a5494372b8ef701d119e07cea9f8f740d52f6808
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Apr 23 13:45:04 2019 +0800

    Fix some error in doc (#998)

 docs/help/Contents/Account Management/help.md  | 4 ++--
 docs/help/Contents/Data Definition/ddl_stmt.md | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e1a7773a03ec2070429085782f763d1c21e687f8
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Apr 23 09:18:50 2019 +0800

    Fix bug that failed to choose dest replica for version incomplete repair (#996)
    
    We should skip the replica which version is larger than visible version.

 fe/src/main/java/org/apache/doris/clone/TabletSchedCtx.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 84e3edebecfcca581499260f8d58a44e3727a431
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Apr 22 20:53:21 2019 +0800

    Fix bug that failed to get alive broker (#989)

 fe/src/main/java/org/apache/doris/catalog/BrokerMgr.java | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 22f93b5d7a2ad86d4bd4c0ce7e84200e2dd52b1d
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon Apr 22 14:07:12 2019 +0800

    Fix doc in alter bloom filter (#984)

 docs/help/Contents/Data Definition/ddl_stmt.md | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 1cc2926a404f4fceeca4df7dd9cb15a9a1953cfb
Author: LingBin <lingbinlb@gmail.com>
Date:   Sun Apr 21 17:12:58 2019 +0800

    Fix wrong result in decimal type multiplication when carry is required (#980)

 be/src/runtime/decimal_value.cpp       | 10 +++++++---
 be/test/runtime/decimal_value_test.cpp |  8 ++++++++
 2 files changed, 15 insertions(+), 3 deletions(-)

commit 487c881092fa6332330274c8afd065d79679ecf4
Author: chenhao <510341142@qq.com>
Date:   Fri Apr 19 17:08:49 2019 +0800

    Fix but that query cause be core when collecting query statistics (#970)

 be/src/runtime/data_stream_mgr.cpp | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit f273f598441bfe634fc67d939c8e4ac4f47129df
Author: chenhao <510341142@qq.com>
Date:   Fri Apr 19 14:49:12 2019 +0800

    Refactor the code selecting rollup (#947)

 .../org/apache/doris/analysis/BinaryPredicate.java |   2 +
 .../org/apache/doris/planner/OlapScanNode.java     | 261 +-----------------
 .../org/apache/doris/planner/RollupSelector.java   | 300 +++++++++++++++++++++
 3 files changed, 316 insertions(+), 247 deletions(-)

commit 22dc6119b9b7a5abbec3765f1afdf6f4a10506e4
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Apr 19 09:50:06 2019 +0800

    Add some string functions doc (#965)

 .../string-functions/regexp_extract.md             | 27 ++++++++++++++++++++++
 .../string-functions/regexp_replace.md             | 27 ++++++++++++++++++++++
 .../sql-functions/string-functions/repeat.md       | 27 ++++++++++++++++++++++
 3 files changed, 81 insertions(+)

commit b9054f537bf7d26b6116ba23aefe452756a8e04c
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Apr 17 19:08:37 2019 +0800

    Support UDAF (#943)

 be/src/udf_samples/CMakeLists.txt                  |   1 +
 be/src/udf_samples/uda_sample.cpp                  |  43 ++++++++
 be/src/udf_samples/uda_sample.h                    |  30 ++++++
 fe/src/main/cup/sql_parser.cup                     |  18 +++-
 .../apache/doris/analysis/CreateFunctionStmt.java  |  41 +++++++-
 .../apache/doris/catalog/AggregateFunction.java    | 117 ++++++++++++++++++++-
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 7 files changed, 244 insertions(+), 7 deletions(-)

commit b99ddee4e601814e0ac1015f6199e6d6e4a0ffb8
Author: chenhao <510341142@qq.com>
Date:   Tue Apr 16 20:14:20 2019 +0800

    Fix bug that HLL can be use as keys (#937)

 fe/src/main/java/org/apache/doris/analysis/CreateTableStmt.java | 4 ++++
 1 file changed, 4 insertions(+)

commit b48a4ab6a06356f0d48d885b203c6c8e25e5ff37
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Apr 16 18:27:31 2019 +0800

    Eliminate LOG(FATAL) when error occurs in ColumnData (#935)

 be/src/olap/column_data.cpp | 2 +-
 be/src/olap/column_data.h   | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit ee62a0dd3e5f18e78073f0255b08532a58d5e04a
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Apr 16 15:38:29 2019 +0800

    Support adding columns to multiple rollup indexes in one ALTER TABLE stmt (#931)

 .../java/org/apache/doris/alter/AlterHandler.java  |  2 +-
 .../apache/doris/alter/SchemaChangeHandler.java    | 55 ++++++++++++++--------
 .../org/apache/doris/analysis/AddColumnClause.java |  4 +-
 .../apache/doris/analysis/AddColumnsClause.java    |  5 +-
 .../main/java/org/apache/doris/catalog/Column.java |  5 ++
 5 files changed, 46 insertions(+), 25 deletions(-)

commit cdd613c5a45cbabe3b70f5bc502e7bf48d0bb18b
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Apr 16 10:14:49 2019 +0800

    Add some string functions document (#928)

 .../sql-functions/string-functions/ascii.md        |  8 ++---
 .../sql-functions/string-functions/concat.md       |  8 ++---
 .../sql-functions/string-functions/concat_ws.md    | 12 ++++----
 .../sql-functions/string-functions/find_in_set.md  | 20 ++++++++++++
 .../sql-functions/string-functions/group_concat.md | 36 ++++++++++++++++++++++
 .../sql-functions/string-functions/instr.md        | 27 ++++++++++++++++
 .../sql-functions/string-functions/lcase.md        | 10 ++++++
 .../sql-functions/string-functions/length.md       | 27 ++++++++++++++++
 .../sql-functions/string-functions/locate.md       | 34 ++++++++++++++++++++
 .../sql-functions/string-functions/lower.md        | 20 ++++++++++++
 .../sql-functions/string-functions/lpad.md         | 27 ++++++++++++++++
 .../sql-functions/string-functions/ltrim.md        | 20 ++++++++++++
 12 files changed, 235 insertions(+), 14 deletions(-)

commit e5a5b6da16ee659c5f61fbaa5fdf939de1d0a1b6
Author: HangyuanLiu <460660596@qq.com>
Date:   Mon Apr 15 19:54:02 2019 +0800

    Fix concat_ws return null when argument is null (#923)
    
    #918

 be/src/exprs/string_functions.cpp                  | 66 ++++++++++++++--------
 .../apache/doris/rewrite/FoldConstantsRule.java    |  1 +
 2 files changed, 45 insertions(+), 22 deletions(-)

commit de1d1f715a151d2d94e89851d42fcf461970adc2
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Apr 15 11:01:26 2019 +0800

    Add readme for new documentation framework (#919)

 .../sql-functions/string-functions/ascii.md        | 27 +++++++++++
 .../sql-functions/string-functions/concat.md       | 34 ++++++++++++++
 .../sql-functions/string-functions/concat_ws.md    | 36 +++++++++++++++
 docs/readme.md                                     | 52 ++++++++++++++++++++++
 4 files changed, 149 insertions(+)

commit f2071d45a74d5e79f644632cef1ff0f020fb9539
Author: Weiqing Xu <xuweiqingchn@gmail.com>
Date:   Sat Apr 13 22:20:09 2019 +0800

    Change the download url for libevent (#916)

 thirdparty/vars.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 916c472e248a107eec051797dbbf375ef1340d11
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Apr 11 16:32:33 2019 +0800

    Fix bug in create table with BF (#907)
    
    Fixed a bug in the Bloom filter where column names could not be found due to spaces

 fe/src/main/java/org/apache/doris/common/util/PropertyAnalyzer.java | 1 +
 1 file changed, 1 insertion(+)

commit d3251a19f70d1f7c7c3b422e74234aff19ce0e79
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Apr 10 19:37:48 2019 +0800

    Modify the method to obtain some metrics (#904)

 be/src/agent/task_worker_pool.cpp                  |   5 +
 be/src/common/config.h                             |   3 +
 be/src/common/daemon.cpp                           |  59 ++++++++-
 be/src/http/action/metrics_action.cpp              |  63 +++++++++-
 be/src/util/doris_metrics.cpp                      |  32 ++++-
 be/src/util/doris_metrics.h                        |  29 +++++
 .../java/org/apache/doris/common/ClientPool.java   |   2 +-
 .../main/java/org/apache/doris/common/Config.java  |   5 +
 .../apache/doris/common/proc/BackendProcNode.java  |  18 +--
 .../org/apache/doris/http/rest/MetricsAction.java  |  18 ++-
 .../org/apache/doris/metric/GaugeMetricImpl.java   |  41 +++++++
 .../org/apache/doris/metric/MetricCalculator.java  |  74 ++++++++++++
 .../java/org/apache/doris/metric/MetricRepo.java   | 101 ++++++----------
 .../org/apache/doris/metric/MetricVisitor.java     |   8 +-
 .../doris/metric/PrometheusMetricVisitor.java      |  40 +++----
 .../doris/metric/SimpleCoreMetricVisitor.java      | 133 +++++++++++++++++++++
 .../main/java/org/apache/doris/system/Backend.java |   3 -
 .../org/apache/doris/system/SystemInfoService.java |   7 +-
 .../java/org/apache/doris/catalog/BackendTest.java |   2 +-
 .../doris/common/proc/BackendProcNodeTest.java     |   4 +-
 20 files changed, 525 insertions(+), 122 deletions(-)

commit c1b8c11dbb8c77156b6c9ac66ec1e379b8a0f56a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Apr 10 16:00:12 2019 +0800

    Fix null pointer error when async load (#902)
    
    1. Add parallel number property in fragment
    2. Parallel number will be init in contrustor of fragment
    3. Async plan will use the default value while sync plan will use the parallelExecInstanceNum of SessionVariable

 .../java/org/apache/doris/planner/PlanFragment.java  | 20 ++++++++++++++++++++
 .../main/java/org/apache/doris/qe/Coordinator.java   |  2 +-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit 9c1de6ce3876c3909484b5255cc25b7bc62f0ed9
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Apr 10 10:37:23 2019 +0800

    Fix HLL compaction bug. (#901)
    
    1. Cumulative Compaction in HLL will core dump because of null pointer

 be/src/olap/column_reader.cpp | 12 ++++++++++--
 be/src/olap/hll.cpp           |  3 +++
 be/src/runtime/raw_value.cpp  |  2 +-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 2a3bf5842f470400eaafe37b5e01eedbc0a5f55c
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Apr 9 10:05:39 2019 +0800

    Parallel fragment exec instance (#851)

 .../org/apache/doris/common/util/ListUtil.java     |  58 ++++
 .../org/apache/doris/planner/HashJoinNode.java     |   4 +
 .../java/org/apache/doris/planner/Planner.java     |   7 -
 .../apache/doris/planner/SingleNodePlanner.java    |  25 --
 .../main/java/org/apache/doris/qe/Coordinator.java | 324 ++-------------------
 .../java/org/apache/doris/qe/SessionVariable.java  |  46 +--
 .../org/apache/doris/common/util/ListUtilTest.java | 101 +++++++
 7 files changed, 210 insertions(+), 355 deletions(-)

commit 29f666582625b94a827eff5a560524953e5cfa28
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Apr 8 10:44:23 2019 +0800

    Change value pass to value reference (#884)

 be/src/agent/utils.cpp | 4 ++--
 be/src/agent/utils.h   | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 92f17afb699435667160333913bd1d5ca39c4ca2
Author: LingBin <lingbinlb@gmail.com>
Date:   Sat Apr 6 14:18:34 2019 +0800

    Fix a problem which may cause nullptr in ResultBufferMgr (#882)
    
    Because there is no lock in the middle call to findBlock(),
    even if the first call returns non-null, the second call
    may still get a null block

 be/src/runtime/result_buffer_mgr.cpp | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 61e356b8a507f2c0b597fc32e62e9be37ef52204
Author: HangyuanLiu <460660596@qq.com>
Date:   Thu Apr 4 17:38:29 2019 +0800

    Fix docs 'CANCEL DECOMMISSION' (#879)

 docs/help/Contents/Administration/admin_stmt.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d9f93e345e5c42751363b6bfef56f69ab636f29e
Author: yiguolei <676222867@qq.com>
Date:   Thu Apr 4 17:33:55 2019 +0800

    Revert "Fix issue #866: insert stmt not merge commit info correctly (#868)" (#880)
    
    This reverts commit d5a6d1cc6f1eb4d297a8cbc7cbbe02544a2c402c.

 .../main/java/org/apache/doris/qe/Coordinator.java | 35 ++--------------------
 1 file changed, 3 insertions(+), 32 deletions(-)

commit c0fbc84381bc072e9539c81e2fca725fefb3d828
Author: chenhao <510341142@qq.com>
Date:   Wed Apr 3 18:27:50 2019 +0800

    Fix bug that ScanBytes is when collect executing query's infos (#869)

 be/src/exec/olap_scanner.cpp | 6 ++++++
 be/src/exec/olap_scanner.h   | 3 +++
 2 files changed, 9 insertions(+)

commit d5a6d1cc6f1eb4d297a8cbc7cbbe02544a2c402c
Author: yiguolei <676222867@qq.com>
Date:   Wed Apr 3 13:02:46 2019 +0800

    Fix issue #866: insert stmt not merge commit info correctly (#868)

 .../main/java/org/apache/doris/qe/Coordinator.java | 35 ++++++++++++++++++++--
 1 file changed, 32 insertions(+), 3 deletions(-)

commit cf00e67cd1e6dd344fec1124334d6084587efa94
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Apr 2 16:01:34 2019 +0800

    Add report queue size limit to avoid too many report requests (#846)

 .../main/java/org/apache/doris/common/Config.java  | 14 +++++++++++
 .../org/apache/doris/master/ReportHandler.java     | 28 +++++++++++++++++++---
 .../java/org/apache/doris/metric/MetricRepo.java   |  5 ++++
 3 files changed, 44 insertions(+), 3 deletions(-)

commit 71380d436f9ae2e73c7b5a54c606874a90233ffa
Author: kangkaisen <kangkaisen@apache.org>
Date:   Tue Apr 2 15:54:48 2019 +0800

    Remove unnecessary check (#862)

 be/src/olap/segment_reader.cpp | 7 -------
 1 file changed, 7 deletions(-)

commit 94a2582b4c4e3d37bd0e8463cbe5fcdd631fe73c
Author: zhaidongbo <zhai_dongbo@126.com>
Date:   Tue Apr 2 11:01:46 2019 +0800

    Fix bug that PreAggregation should be turn on when processing hll_raw_agg (#856)

 .../apache/doris/planner/SingleNodePlanner.java    | 51 +++++-----------------
 1 file changed, 10 insertions(+), 41 deletions(-)

commit 5a438fd0d30d05f540ef90a38f4bbacaa0b80557
Author: chenhao <510341142@qq.com>
Date:   Mon Apr 1 23:52:06 2019 +0800

    Fix bug that function get wrong symbol when it's params contain date (#855)

 fe/src/main/java/org/apache/doris/catalog/ScalarType.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit a1bfc90320a5b454619661b182f5a6b4e046f4d3
Author: zhaidongbo <zhai_dongbo@126.com>
Date:   Mon Apr 1 16:17:56 2019 +0800

    Support hll_raw_agg in Aggregate Function (#832)
    
    hll_raw_agg Function aggregates the HLL type value, and return the HLL type value

 be/src/exprs/aggregate_functions.cpp               | 129 +++++++++------------
 be/src/exprs/aggregate_functions.h                 |  40 +++++--
 be/src/exprs/hll_hash_function.cpp                 |   8 +-
 be/src/exprs/hll_hash_function.h                   |   4 +-
 be/src/udf/udf.cpp                                 |  56 ++++++++-
 be/src/udf/udf.h                                   |  16 +++
 docs/help/Contents/Data Definition/ddl_stmt.md     |  25 ++--
 docs/help/Contents/Data Types/help.md              |   2 +-
 .../apache/doris/analysis/FunctionCallExpr.java    |  26 ++---
 .../java/org/apache/doris/catalog/FunctionSet.java |  24 ++--
 gensrc/script/doris_builtins_functions.py          |   5 +-
 11 files changed, 211 insertions(+), 124 deletions(-)

commit e409c2edc3be501d1608d34f22a9eb67177f45af
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Mon Apr 1 14:42:59 2019 +0800

    Optimize error handling of rocksdb (#841)

 be/src/olap/olap_meta.cpp | 4 ++++
 1 file changed, 4 insertions(+)

commit 5d29fc6bd9ab6fd217933a85096128be40936e5f
Author: chenhao <510341142@qq.com>
Date:   Mon Apr 1 10:01:13 2019 +0800

    Revert fix bug that if match wrong symbol (#834)

 fe/src/main/java/org/apache/doris/catalog/ScalarType.java | 5 -----
 1 file changed, 5 deletions(-)

commit 24945296ea7fa0d6552115e272a9ec09ca2b8597
Author: maruyue <ruyue.ma@gmail.com>
Date:   Thu Mar 28 22:22:18 2019 +0800

    Update README.md (#833)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 348c61c69f2ac610a0414d68971d40cf14e2a2ed
Author: yiguolei <676222867@qq.com>
Date:   Thu Mar 28 12:54:17 2019 +0800

    Fix doris on es bug (#826)
    
    * Get in pred from hybridset
    
    * ignore new_filter_in when push down
    
    * Ignore cast case in to_ext_literal

 be/src/exec/es_scan_node.cpp | 210 +++++++++++++++++++++++++------------------
 be/src/exec/es_scan_node.h   |   3 +-
 2 files changed, 127 insertions(+), 86 deletions(-)

commit 8f935c9486bb3049e59e4f16cc53dcc4a3c8e98e
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Mar 28 10:58:32 2019 +0800

    Fix bug that root user cannot login without password from 127.0.0.1 (#825)

 fe/src/main/java/org/apache/doris/analysis/UserIdentity.java   | 10 ++++++++++
 .../main/java/org/apache/doris/mysql/privilege/PaloAuth.java   |  5 +++++
 2 files changed, 15 insertions(+)

commit 4f3158a74d8336cb5b8e48ebc83ff257b2557a47
Author: zhaidongbo <zhai_dongbo@126.com>
Date:   Wed Mar 27 18:50:08 2019 +0800

    Support hll_union_agg in Analytic Function (#819)

 .../org/apache/doris/analysis/AnalyticExpr.java     | 21 +++++++++++++++------
 .../java/org/apache/doris/catalog/FunctionSet.java  | 14 +++++---------
 2 files changed, 20 insertions(+), 15 deletions(-)

commit 67314f07f372566b3ccaef0ac64b069aa734f45a
Author: HangyuanLiu <460660596@qq.com>
Date:   Tue Mar 26 19:29:11 2019 +0800

    Fix syntax error lable -> label (#817)

 docs/help/Contents/Data Manipulation/streaming.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 664c23c39b4da36deab5efdcb0c90041e3ff67f9
Author: chenhao <510341142@qq.com>
Date:   Tue Mar 26 14:46:59 2019 +0800

    Fix bug that Build-in function if match wrong symbol (#814)

 fe/src/main/java/org/apache/doris/catalog/ScalarType.java | 5 +++++
 1 file changed, 5 insertions(+)

commit d47600ed84b6b460f817c600d7937935e4cd6ccb
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 25 09:27:40 2019 +0800

    Modify the logic of setting password (#798)
    
    * Modify the logic of setting password
    1. User can set password for current_user() or if it has GRANT priv
    2. And USER() function support

 docs/help/Contents/Account Management/help.md      |   8 +-
 fe/src/main/cup/sql_parser.cup                     |   2 +
 .../java/org/apache/doris/analysis/Analyzer.java   |   8 ++
 .../apache/doris/analysis/InformationFunction.java |   8 +-
 .../java/org/apache/doris/analysis/SetPassVar.java |  13 +-
 .../org/apache/doris/analysis/UserIdentity.java    |   4 +
 .../java/org/apache/doris/mysql/MysqlProto.java    |   7 +-
 .../apache/doris/mysql/privilege/DbPrivTable.java  |   3 +
 .../org/apache/doris/mysql/privilege/PaloAuth.java |   5 +-
 .../doris/mysql/privilege/TablePrivTable.java      |   3 +
 .../doris/mysql/privilege/UserPrivTable.java       |  11 +-
 .../java/org/apache/doris/qe/ConnectContext.java   |  17 ++-
 .../org/apache/doris/analysis/SetPassVarTest.java  |   5 +-
 .../org/apache/doris/mysql/MysqlChannelTest.java   |   3 +-
 .../org/apache/doris/mysql/MysqlProtoTest.java     |  18 ++-
 .../java/org/apache/doris/mysql/WrappedAuth.java   |  36 +++++
 .../apache/doris/mysql/privilege/MockedAuth.java   |   6 +
 .../doris/mysql/privilege/SetPasswordTest.java     | 158 +++++++++++++++++++++
 .../java/org/apache/doris/qe/SetExecutorTest.java  |   4 +
 19 files changed, 295 insertions(+), 24 deletions(-)

commit 504fbc3627f7da5f92d98e840c0cbfa2c43208f6
Author: chenhao <510341142@qq.com>
Date:   Sat Mar 23 23:28:37 2019 +0800

    Fix bug that Greatest get wrong function's symbol (#796)

 gensrc/script/doris_builtins_functions.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f4a63b29d83d9aa46d058f1177b44386b7343a98
Author: yiguolei <676222867@qq.com>
Date:   Fri Mar 22 19:03:27 2019 +0800

    Fix doris on es bug (#791)

 be/src/exec/es_scan_node.cpp                       | 44 +++++++++++++++++++---
 be/src/exec/es_scan_node.h                         |  1 +
 be/src/runtime/datetime_value.cpp                  |  2 +-
 be/src/runtime/datetime_value.h                    |  2 +-
 .../java/org/apache/doris/catalog/EsTable.java     | 35 ++++++++---------
 5 files changed, 60 insertions(+), 24 deletions(-)

commit 722a4dbea25014acc05719d78db7db37dac58b73
Author: chenhao <510341142@qq.com>
Date:   Fri Mar 22 17:22:53 2019 +0800

    Fix bug that throws exception when pruning partition type is date (#792)

 fe/src/main/java/org/apache/doris/analysis/DateLiteral.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit c34b306b4f46af483c28fb765a3fee917f36d015
Author: lide <mailtolide@sina.com>
Date:   Fri Mar 22 17:22:16 2019 +0800

    Decimal optimize branch #695 (#727)

 be/src/common/daemon.cpp                           |   2 +
 be/src/exec/hash_table.cpp                         |   6 +-
 be/src/exec/olap_common.cpp                        |   6 +
 be/src/exec/olap_common.h                          |   6 +-
 be/src/exec/olap_rewrite_node.cpp                  |  22 +
 be/src/exec/olap_rewrite_node.h                    |   1 +
 be/src/exec/olap_scan_node.cpp                     |  14 +
 be/src/exec/olap_scanner.cpp                       |  10 +
 be/src/exec/olap_table_sink.cpp                    |  46 ++
 be/src/exec/olap_table_sink.h                      |   3 +
 be/src/exec/olap_utils.h                           |   4 +
 be/src/exec/partitioned_aggregation_node.cc        |   9 +-
 be/src/exec/pre_aggregation_node.cpp               |  12 +
 .../exec/schema_scanner/schema_columns_scanner.cpp |   1 +
 be/src/exec/text_converter.hpp                     |  15 +
 be/src/exprs/CMakeLists.txt                        |   1 +
 be/src/exprs/agg_fn_evaluator.cpp                  |  33 ++
 be/src/exprs/agg_fn_evaluator.h                    |   1 +
 be/src/exprs/aggregate_functions.cpp               | 331 ++++++++++++-
 be/src/exprs/aggregate_functions.h                 |  20 +-
 be/src/exprs/anyval_util.cpp                       |   9 +
 be/src/exprs/anyval_util.h                         |  30 ++
 be/src/exprs/binary_predicate.cpp                  |  14 +
 be/src/exprs/binary_predicate.h                    |   1 +
 be/src/exprs/case_expr.cpp                         |   7 +
 be/src/exprs/case_expr.h                           |   2 +
 be/src/exprs/conditional_functions.h               |   3 +
 be/src/exprs/conditional_functions_ir.cpp          |   3 +
 be/src/exprs/decimalv2_operators.cpp               | 188 +++++++
 be/src/exprs/decimalv2_operators.h                 |  85 ++++
 be/src/exprs/expr.cpp                              |  11 +
 be/src/exprs/expr.h                                |   3 +
 be/src/exprs/expr_context.cpp                      |  12 +
 be/src/exprs/expr_context.h                        |   1 +
 be/src/exprs/expr_ir.cpp                           |   3 +
 be/src/exprs/expr_value.h                          |  19 +-
 be/src/exprs/hybird_set.cpp                        |   3 +
 be/src/exprs/hybird_set.h                          |   1 +
 be/src/exprs/is_null_predicate.cpp                 |   2 +
 be/src/exprs/literal.cpp                           |  13 +
 be/src/exprs/literal.h                             |   1 +
 be/src/exprs/math_functions.cpp                    |  37 ++
 be/src/exprs/math_functions.h                      |   9 +-
 be/src/exprs/new_agg_fn_evaluator.cc               |  16 +
 be/src/exprs/new_agg_fn_evaluator.h                |   1 +
 be/src/exprs/new_in_predicate.cpp                  |   7 +
 be/src/exprs/new_in_predicate.h                    |  22 +
 be/src/exprs/null_literal.cpp                      |   3 +
 be/src/exprs/null_literal.h                        |   1 +
 be/src/exprs/scalar_fn_call.cpp                    |  14 +-
 be/src/exprs/scalar_fn_call.h                      |   1 +
 be/src/exprs/slot_ref.cpp                          |  10 +
 be/src/exprs/slot_ref.h                            |   1 +
 be/src/exprs/udf_builtins.cpp                      |  11 +
 be/src/exprs/udf_builtins.h                        |   2 +
 be/src/olap/field_info.cpp                         |   1 +
 be/src/olap/memtable.cpp                           |   7 +
 be/src/olap/olap_engine.cpp                        |   2 +-
 be/src/runtime/CMakeLists.txt                      |   2 +
 be/src/runtime/decimalv2_value.cpp                 | 439 ++++++++++++++++
 be/src/runtime/decimalv2_value.h                   | 354 +++++++++++++
 be/src/runtime/dpp_sink.cpp                        |  17 +
 be/src/runtime/dpp_writer.cpp                      |   9 +
 be/src/runtime/export_sink.cpp                     |  13 +
 be/src/runtime/mysql_table_writer.cpp              |  15 +
 be/src/runtime/primitive_type.cpp                  |  12 +
 be/src/runtime/primitive_type.h                    |  10 +-
 be/src/runtime/raw_value.cpp                       |  17 +
 be/src/runtime/raw_value.h                         |  22 +
 be/src/runtime/raw_value_ir.cpp                    |   7 +
 be/src/runtime/result_writer.cpp                   |  15 +
 be/src/runtime/tuple.h                             |   5 +
 be/src/runtime/types.cpp                           |  11 +-
 be/src/runtime/types.h                             |  20 +-
 be/src/udf/udf.cpp                                 |   1 +
 be/src/udf/udf.h                                   |  47 ++
 be/src/util/string_parser.hpp                      | 197 ++++++++
 be/src/util/symbols_util.cpp                       |   3 +
 be/test/runtime/CMakeLists.txt                     |   1 +
 be/test/runtime/decimalv2_value_test.cpp           | 551 +++++++++++++++++++++
 fe/src/main/cup/sql_parser.cup                     |   6 +-
 .../apache/doris/analysis/AggregateInfoBase.java   |   2 +-
 .../org/apache/doris/analysis/ArithmeticExpr.java  |   8 +-
 .../org/apache/doris/analysis/BinaryPredicate.java |   4 +
 .../java/org/apache/doris/analysis/CastExpr.java   |   6 +-
 .../java/org/apache/doris/analysis/ColumnDef.java  |   1 +
 .../doris/analysis/CreateTableAsSelectStmt.java    |   2 +-
 .../org/apache/doris/analysis/DecimalLiteral.java  |   3 +-
 .../org/apache/doris/analysis/FloatLiteral.java    |   4 +-
 .../java/org/apache/doris/analysis/IntLiteral.java |   2 +-
 .../org/apache/doris/analysis/LargeIntLiteral.java |   2 +-
 .../org/apache/doris/analysis/LiteralExpr.java     |   1 +
 .../org/apache/doris/analysis/StringLiteral.java   |   1 +
 .../java/org/apache/doris/analysis/TypeDef.java    |   3 +-
 .../org/apache/doris/catalog/AggregateType.java    |   3 +
 .../main/java/org/apache/doris/catalog/Column.java |   3 +-
 .../java/org/apache/doris/catalog/ColumnType.java  |   9 +-
 .../java/org/apache/doris/catalog/Function.java    |   4 +
 .../java/org/apache/doris/catalog/FunctionSet.java |  61 +++
 .../org/apache/doris/catalog/PrimitiveType.java    |  67 ++-
 .../org/apache/doris/catalog/ScalarFunction.java   |   9 +
 .../java/org/apache/doris/catalog/ScalarType.java  |  80 ++-
 .../main/java/org/apache/doris/catalog/Type.java   |  35 +-
 .../java/org/apache/doris/common/util/Util.java    |   2 +
 .../java/org/apache/doris/planner/Planner.java     |  15 +-
 .../java/org/apache/doris/rewrite/FEFunctions.java |  36 ++
 .../apache/doris/task/HadoopLoadPendingTask.java   |   5 +-
 .../org/apache/doris/catalog/ColumnTypeTest.java   |   7 +-
 gensrc/script/doris_builtins_functions.py          |  17 +
 gensrc/script/doris_functions.py                   |   5 +
 gensrc/script/gen_functions.py                     |  23 +-
 gensrc/script/gen_opcodes.py                       |   1 +
 gensrc/script/gen_vector_functions.py              |   7 +-
 gensrc/thrift/Types.thrift                         |   1 +
 114 files changed, 3236 insertions(+), 66 deletions(-)

commit e60b71da8ccddb58f98b95a5c063d182c161e32a
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Fri Mar 22 14:17:05 2019 +0800

    Release SegmentGroup reference count (#790)
    
    In streaming ingestion, segment group is set to be one in creation.
    Upon closing, reference count should to be released. Otherwise,
    file descriptor and segment group object in memory can not be freed.

 be/src/olap/delta_writer.cpp | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 4d8f0dc20367508c995f6adee260c3464a3374ac
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Mar 21 20:58:01 2019 +0800

    Fix add_version () core dump on acquiring delta (#788)
    
    SchemaChange convert segment groups in reverse.
    So SegmentGroup with segment_group_id = 1 may be handled
    before SegmentGroup with segment_group_id = 0.
    This will leads to acquiring delta not be allocated.
    It will be core dump in SIGSEGV.

 be/src/olap/olap_header.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 11307b23c81dc987aa5e1c3979a5bf54df8c2360
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Mar 21 19:18:22 2019 +0800

    Fix bug: stream load ignore last line with no-newline (#785)
    
    #783

 be/src/exec/plain_text_line_reader.cpp             |   5 ++-
 be/test/exec/plain_text_line_reader_gzip_test.cpp  |  34 ++++++++++++++++++++
 .../plain_text_line_reader_uncompressed_test.cpp   |  35 +++++++++++++++++++++
 .../plain_text_line_reader/no_newline.csv          |   2 ++
 .../plain_text_line_reader/no_newline.csv.gz       | Bin 0 -> 44 bytes
 5 files changed, 73 insertions(+), 3 deletions(-)

commit fb4e77d6d68dc906396c260458d22aa167596b21
Author: Yunfeng,Wu <wyfsky888@126.com>
Date:   Tue Mar 19 22:05:33 2019 +0800

    Add http post feature for HttpClient (#773)

 .gitignore                        |  2 ++
 be/src/http/http_client.cpp       | 20 ++++++++++++++++++++
 be/src/http/http_client.h         | 24 +++++++++++++++++++++++-
 be/test/http/http_client_test.cpp | 39 ++++++++++++++++++++++++++++++++++++++-
 4 files changed, 83 insertions(+), 2 deletions(-)

commit 1f092bb9fb1727f3630e84eff9b7775403535168
Author: yiguolei <676222867@qq.com>
Date:   Tue Mar 19 19:33:54 2019 +0800

    Add EsTableDescriptor in be (#775)

 be/src/runtime/descriptors.cpp                           | 16 ++++++++++++++++
 be/src/runtime/descriptors.h                             |  8 ++++++++
 .../main/java/org/apache/doris/planner/EsScanNode.java   |  3 +++
 3 files changed, 27 insertions(+)

commit 5e80dcab17c5d29393541773795fa76fc31c389c
Author: litao91 <litao912002@gmail.com>
Date:   Mon Mar 18 20:12:57 2019 +0800

    Update curl version (#766)

 thirdparty/vars.sh | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 2a152e09437f3755a440f1e711c97dbfa6d62e7c
Author: kangkaisen <kangkaisen@apache.org>
Date:   Sun Mar 17 15:23:38 2019 +0800

    Remove colocate table meta when drop db (#761)

 .../java/org/apache/doris/catalog/Catalog.java     |  9 +--
 .../apache/doris/catalog/ColocateTableTest.java    | 74 +++++++++++++++++++---
 2 files changed, 69 insertions(+), 14 deletions(-)

commit 28ea424074f333097d77d2ca1564282f1664979d
Author: Mingyu Chen <morningman@163.com>
Date:   Sun Mar 17 13:45:21 2019 +0800

    Update compile instruction in README.md (#763)

 README.md | 26 ++++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

commit 4a3d9dd1ac1d5cc56344abe7fadbed94920e12de
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Mar 14 21:06:19 2019 +0800

    Fix bug that balance slot may not be released when balance task is done (#757)

 fe/src/main/java/org/apache/doris/clone/TabletSchedCtx.java  |  3 +--
 fe/src/main/java/org/apache/doris/clone/TabletScheduler.java | 10 ++++++++--
 2 files changed, 9 insertions(+), 4 deletions(-)

commit c11e78c6e65c0a8881d2c5794adbe6bf97f8c910
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Mar 14 12:35:29 2019 +0800

    Fix bug of invalid replica last failed version (#746)
    
    1. Some previous doris version may cause some invalid replica last failed version.
    2. Also modify the CREATE TABLE help doc, remove row storage type and random distribution.

 docs/help/Contents/Data Definition/ddl_stmt.md     | 30 +++++++++-------------
 docs/help/Contents/Data Manipulation/streaming.md  |  2 +-
 .../java/org/apache/doris/catalog/Replica.java     | 13 ++++++++++
 .../org/apache/doris/clone/TabletSchedCtx.java     | 16 +++++++++---
 4 files changed, 39 insertions(+), 22 deletions(-)

commit 297a5f27a5325140ac3bb4556ebe24018963392d
Author: lide <mailtolide@sina.com>
Date:   Thu Mar 14 12:28:43 2019 +0800

    Add comment to avoid modification for variable_length (#750)

 be/src/exprs/expr.cpp | 5 +++++
 1 file changed, 5 insertions(+)

commit e970f28dad0564c19e9fe0d3b3a2399b9b190d9b
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Mar 14 10:41:51 2019 +0800

    Fix transaction non-idempotency error (#749)
    
    add_pending_version() is not idempotent upon rpc retry.
    Transaction will be garbaged collection falsely.

 be/src/olap/delta_writer.cpp | 11 ++++++++---
 be/src/olap/olap_header.cpp  |  2 +-
 2 files changed, 9 insertions(+), 4 deletions(-)

commit cc2fd43c324795efbcfd65636d650bc14e6b7c96
Author: lide <mailtolide@sina.com>
Date:   Thu Mar 14 09:58:35 2019 +0800

    Rollback the fix of variable_length for Decimal (#744)

 be/src/exprs/expr.cpp | 3 +++
 1 file changed, 3 insertions(+)

commit 7feb27e047c612b7d693660fb2d9342b85b57d0d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Mar 13 11:09:39 2019 +0800

    Fix not matched error code (#740)

 fe/src/main/java/org/apache/doris/qe/QueryState.java | 1 +
 1 file changed, 1 insertion(+)

commit 5f9e82b0fab04df7b75d6b63cd13062266063374
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Mar 13 09:58:29 2019 +0800

    Support calculate unix_timestamp() on Frontend (#732)
    
    #731

 .../java/org/apache/doris/rewrite/FEFunctions.java | 23 +++++------
 .../apache/doris/rewrite/FoldConstantsRule.java    | 32 ++++++++++------
 .../org/apache/doris/rewrite/FEFunctionsTest.java  | 44 ++++++++++++++++++++++
 3 files changed, 77 insertions(+), 22 deletions(-)

commit e2717e14ac519b8cd7fd78bec822e09290195c52
Author: lide <mailtolide@sina.com>
Date:   Mon Mar 11 19:15:56 2019 +0800

    Fix the error of variable_length for Decimal (#724)

 be/src/exprs/expr.cpp | 3 ---
 1 file changed, 3 deletions(-)

commit d67aeb87053a61f9ea3732a0e2ac8e48bafa12dd
Author: kangkaisen <kangkaisen@apache.org>
Date:   Mon Mar 11 19:02:25 2019 +0800

    Clean timeout tablets channel in TabletWriterMgr (#718)

 be/src/common/config.h               |  1 +
 be/src/runtime/exec_env_init.cpp     |  4 ++-
 be/src/runtime/tablet_writer_mgr.cpp | 48 ++++++++++++++++++++++++++++++++++++
 be/src/runtime/tablet_writer_mgr.h   |  9 +++++++
 4 files changed, 61 insertions(+), 1 deletion(-)

commit b3fd53aa92c25480203849b7f93ff1f8530f4254
Author: chenhao <510341142@qq.com>
Date:   Mon Mar 11 17:53:32 2019 +0800

    Fix bug that compareTo in PartitionKey throws cast error (#720)

 .../org/apache/doris/analysis/LiteralExpr.java     |  2 ++
 .../org/apache/doris/catalog/PartitionKey.java     | 22 +++++++++++++++++++++-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 584b4371e3a158247e7eae7f44a3acc261635544
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Mar 11 09:22:30 2019 +0800

    Fix balance with diff storage medium (#705)

 .../java/org/apache/doris/alter/RollupHandler.java |   4 +-
 .../java/org/apache/doris/alter/RollupJob.java     |   5 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |  14 +-
 .../java/org/apache/doris/backup/RestoreJob_D.java |   5 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  17 +-
 .../apache/doris/catalog/CatalogRecycleBin.java    |  10 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |   2 +
 .../apache/doris/catalog/TabletInvertedIndex.java  |  45 ++++-
 .../java/org/apache/doris/catalog/TabletMeta.java  |  17 +-
 .../apache/doris/clone/BackendLoadStatistic.java   | 219 +++++++++++++++------
 .../apache/doris/clone/ClusterLoadStatistic.java   | 185 ++++++++++-------
 .../java/org/apache/doris/clone/LoadBalancer.java  |  45 +++--
 .../org/apache/doris/clone/TabletSchedCtx.java     |   5 +
 .../org/apache/doris/clone/TabletScheduler.java    |  39 ++--
 .../apache/doris/common/proc/BackendProcNode.java  |   1 -
 .../doris/common/proc/ClusterBalanceProcDir.java   |   2 +-
 .../doris/common/proc/ClusterLoadStatByMedium.java |  60 ++++++
 .../common/proc/ClusterLoadStatisticProcDir.java   |   8 +-
 .../common/proc/TabletSchedulerDetailProcDir.java  |   2 +-
 .../org/apache/doris/system/SystemInfoService.java |   4 +-
 .../org/apache/doris/backup/CatalogMocker.java     |  12 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   3 +-
 .../java/org/apache/doris/catalog/TabletTest.java  |   3 +-
 .../java/org/apache/doris/clone/CloneTest.java     |   7 +-
 .../doris/clone/ClusterLoadStatisticsTest.java     |  11 +-
 .../org/apache/doris/common/util/UnitTestUtil.java |   3 +-
 26 files changed, 523 insertions(+), 205 deletions(-)

commit 7965a7129a15c4b8c797c6e3615310bfc812f8e9
Author: Salieri1969 <lumiaa@163.com>
Date:   Fri Mar 8 09:27:41 2019 +0800

    Add esquery function (#652)

 be/src/exec/es_scan_node.cpp                              | 15 +++++++++++++--
 be/src/exec/es_scan_node.h                                |  1 +
 fe/src/main/java/org/apache/doris/planner/EsScanNode.java | 12 ++++++------
 3 files changed, 20 insertions(+), 8 deletions(-)

commit 4dbbd32a72a7a78d78ff222d587ed23cc2fe28f9
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Mar 6 17:29:11 2019 +0800

    Remove sensitive info (#692)

 docs/help/Contents/Data Manipulation/broker_load.md               | 4 ++--
 fe/src/main/java/org/apache/doris/http/rest/ShowProcAction.java   | 2 +-
 .../java/org/apache/doris/deploy/AmbariDeployManagerTest.java     | 8 ++++----
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 49dddb458de28aa626eed4f921d795fc0628d325
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Mar 5 09:26:36 2019 +0800

    Fix some tablet scheduler bug (#686)
    
    1. The balance task does not taking storage medium into account.
    2. When repairing tablet with version incomplete, tablet with replica (2-xx), (2-xx), (2-0) can't be handled.
    3. Show proc stmt may throw null pointer exception when all replicas are missing.

 .../java/org/apache/doris/catalog/TabletInvertedIndex.java     |  2 +-
 .../main/java/org/apache/doris/clone/BackendLoadStatistic.java | 10 +++++-----
 fe/src/main/java/org/apache/doris/clone/LoadBalancer.java      |  4 ++--
 fe/src/main/java/org/apache/doris/clone/TabletSchedCtx.java    |  4 +++-
 4 files changed, 11 insertions(+), 9 deletions(-)

commit f2bd98f76af29d29b60dac687e513d3ba6044145
Author: yiguolei <676222867@qq.com>
Date:   Fri Mar 1 17:01:13 2019 +0800

    Clear etl job files when job finished (#680)

 fe/src/main/java/org/apache/doris/load/Load.java        | 3 +++
 fe/src/main/java/org/apache/doris/load/LoadChecker.java | 5 +++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit acf839ca9cd4fdbbb92785a17f0fbbd1b557876b
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Mar 1 12:52:38 2019 +0800

    Remove the running partition mark when delete operation encounter errors (#678)

 .../org/apache/doris/common/proc/StatisticProcDir.java |  3 ++-
 fe/src/main/java/org/apache/doris/load/Load.java       | 18 ++++++++++++++----
 2 files changed, 16 insertions(+), 5 deletions(-)

commit b2d8fcdbd76f61fe9267999b660a345fcb8301a4
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Feb 28 10:11:44 2019 +0800

    Limit the number of balance task (#674)
    
    1. Limit the number of balance tablet selection. The number of
       tablet selection should be less than the low load path number.
    2. Limit the max number of balance task to 500.

 .../apache/doris/clone/BackendLoadStatistic.java   |  4 +++
 .../java/org/apache/doris/clone/LoadBalancer.java  | 31 ++++++++++++++--------
 .../org/apache/doris/clone/TabletScheduler.java    | 19 +++++++++++--
 3 files changed, 41 insertions(+), 13 deletions(-)

commit ac818c2b7b073566f84f732e7e84d0becce221c2
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Feb 27 15:38:51 2019 +0800

    Optimize the some schedule policy of routine load in FE (#665)
    
    * Change routine load task sheduler interval to 0
    1. change routine load task scheduler interval to 0
    2. init progress when routine load scheduler
    3. add unit test and function test of routine load scheduler and task commit
    
    * Add checker of custom kafka partition
    1. need scheduler to need schedule
    2. add checker of custom kafka partition when create routine load job
    3. fix unit test error

 .../doris/load/routineload/KafkaProgress.java      |   2 +
 .../load/routineload/KafkaRoutineLoadJob.java      | 135 +++++++++++-----
 .../doris/load/routineload/KafkaTaskInfo.java      |  10 +-
 .../doris/load/routineload/RoutineLoadJob.java     | 103 +++++++-----
 .../doris/load/routineload/RoutineLoadManager.java |  36 ++---
 .../load/routineload/RoutineLoadScheduler.java     |  27 ++--
 .../load/routineload/RoutineLoadTaskScheduler.java |  85 +++++-----
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  35 +++--
 .../load/routineload/RoutineLoadManagerTest.java   |   2 +-
 .../load/routineload/RoutineLoadSchedulerTest.java |  73 +++++++--
 .../routineload/RoutineLoadTaskSchedulerTest.java  |   5 +-
 .../transaction/GlobalTransactionMgrTest.java      | 173 +++++++++++++++++++++
 12 files changed, 506 insertions(+), 180 deletions(-)

commit 1b96af5e3ec18fb112653dd8b9af95da39e9fab3
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Feb 27 15:06:15 2019 +0800

    Add some images for wiki pages (#670)

 docs/resources/fe_page_index.png            | Bin 0 -> 41780 bytes
 docs/resources/fe_page_logs.png             | Bin 0 -> 273740 bytes
 docs/resources/fe_page_queries.png          | Bin 0 -> 49904 bytes
 docs/resources/fe_page_sessions.png         | Bin 0 -> 94979 bytes
 docs/resources/fe_page_system.png           | Bin 0 -> 58734 bytes
 docs/resources/fe_page_system_access.png    | Bin 0 -> 137122 bytes
 docs/resources/fe_page_system_backends.png  | Bin 0 -> 128584 bytes
 docs/resources/fe_page_system_brokers.png   | Bin 0 -> 59492 bytes
 docs/resources/fe_page_system_dbs.png       | Bin 0 -> 117152 bytes
 docs/resources/fe_page_system_error_hub.png | Bin 0 -> 60408 bytes
 docs/resources/fe_page_system_frontends.png | Bin 0 -> 75153 bytes
 docs/resources/fe_page_system_jobs.png      | Bin 0 -> 80104 bytes
 docs/resources/fe_page_system_statistic.png | Bin 0 -> 103355 bytes
 docs/resources/fe_page_system_tasks.png     | Bin 0 -> 104380 bytes
 14 files changed, 0 insertions(+), 0 deletions(-)

commit e7013ce6a2b3443015462164315009b38010bfea
Author: EmmyMiao87 <522274284@qq.com>
Date:   Wed Feb 27 14:12:39 2019 +0800

    Remove restrict of "Analytic function must have partition by" (#659)

 fe/src/main/java/org/apache/doris/analysis/AnalyticExpr.java | 5 -----
 1 file changed, 5 deletions(-)

commit 9252beca99259d0a63b121087221d263e2cf0bc3
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Feb 27 12:46:36 2019 +0800

    Simplify the delete stmt (#668)
    
    Remove the restrict that delete stmt must specify partition even for unpartitioned table

 .../Data Manipulation/manipulation_stmt.md         |  8 +++----
 fe/src/main/cup/sql_parser.cup                     |  5 ++---
 .../java/org/apache/doris/analysis/DeleteStmt.java | 26 +++++-----------------
 fe/src/main/java/org/apache/doris/load/Load.java   | 12 ++++++++++
 .../org/apache/doris/analysis/DeleteStmtTest.java  | 20 ++++++++---------
 5 files changed, 33 insertions(+), 38 deletions(-)

commit f8865dce79332ee5f8920cde8333bed41646ba45
Author: chenhao <510341142@qq.com>
Date:   Wed Feb 27 11:30:35 2019 +0800

    Fix bug that expanding star fails in create view (#667)

 fe/src/main/java/org/apache/doris/analysis/SelectStmt.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 48450ac98f780cceacb16012bb607556cf2ab423
Author: chenhao <510341142@qq.com>
Date:   Wed Feb 27 09:41:21 2019 +0800

    Add function's param checks in aggregation function (#666)

 fe/src/main/java/org/apache/doris/analysis/FunctionCallExpr.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e51be0ae228e29aef9d6d43fde60d57d4223abaf
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Feb 26 10:55:49 2019 +0800

    DORIS-645: Fix allocating error of constant predicate (#657)
    
    1. The method assignConjuncts in SingleNodePlanner could not allocate constant predicate correctly.
    2. It use e.isBoundByTupleIds() which always return ture whatever tupleIds when e is a constant predicate.
    3. I use PlanNode assignConjuncts instead of SingleNodePlanner's.

 .../apache/doris/planner/SingleNodePlanner.java    | 54 +---------------------
 1 file changed, 2 insertions(+), 52 deletions(-)

commit 397747af2ce4cfc06f3adbe66fc52bc8f60f8aff
Author: chenhao <510341142@qq.com>
Date:   Tue Feb 26 10:55:14 2019 +0800

    Fix bug that push down the predicates past AggregateNode (#658)

 be/src/exec/exec_node.cpp                                    | 10 ++++++----
 .../java/org/apache/doris/planner/DistributedPlanner.java    | 12 ++++++------
 2 files changed, 12 insertions(+), 10 deletions(-)

commit 4907577e994f5773984443c84362e8a107164e2a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Feb 22 14:02:50 2019 +0800

    Copy the latest source code from local in dockerfile (#651)
    
    1. Run git clone may not been executed when docker use cached layer, so I change it to copy latest code from local.
    2. Before building docker image, please clone the latest source code firstly.

 docker/Docker_build.md | 9 ++++++++-
 docker/Dockerfile      | 6 +++---
 2 files changed, 11 insertions(+), 4 deletions(-)

commit ea0e07f042b83bda28de45be8046dece7b88902e
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Feb 22 11:01:08 2019 +0800

    Add PORTABLE=1 for building Rocksdb (#650)

 thirdparty/build-thirdparty.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 820894ca702671fcb32144e7a246f37ba2eeed09
Author: chenhao <510341142@qq.com>
Date:   Thu Feb 21 09:41:45 2019 +0800

    Fix wrong type length when show full columns (#648)

 fe/src/main/java/org/apache/doris/qe/ShowExecutor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19d37afe74d22959ebc5f0c99fded15fe29110f2
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Feb 20 16:54:24 2019 +0800

     Fix some tablet scheduler bug (#644)
    
    1. Replica in CLONE state should be deleted when schedule finished
    2. Set replica as bad if the only remained replica is missing

 .../apache/doris/alter/SchemaChangeHandler.java    |  6 +--
 .../org/apache/doris/catalog/MetadataViewer.java   |  2 +-
 .../org/apache/doris/clone/TabletSchedCtx.java     | 48 ++++++++++++++---
 .../org/apache/doris/clone/TabletScheduler.java    | 48 ++++++++++++-----
 .../common/proc/IncompleteTabletsProcNode.java     | 10 ++--
 .../org/apache/doris/master/ReportHandler.java     | 63 ++++++++++++++--------
 6 files changed, 127 insertions(+), 50 deletions(-)

commit 7d58aa530fa823cc349b7d4ee87e361a4a05bb18
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Feb 20 16:38:28 2019 +0800

    Add --daemon option to start script (#642)
    
    Add --daemon option to start_fe.sh/start_be.sh/start_broker.sh
    If run scripte without --daemon, it will run as a foreground process.

 bin/start_be.sh                                   | 23 +++++++++++++++-
 bin/start_fe.sh                                   | 32 ++++++++++++++++++++++-
 fs_brokers/apache_hdfs_broker/bin/start_broker.sh | 24 ++++++++++++++++-
 3 files changed, 76 insertions(+), 3 deletions(-)

commit 400c9c8b62fa49f541bb56dc3578aeaf926ecb9d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Feb 19 12:26:23 2019 +0800

    Support grayscale release (#641)

 be/src/runtime/user_function_cache.cpp | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit d872f794961177ca61024e37d0945f5da8cc3da9
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Feb 18 10:20:56 2019 +0800

    Handle unused disks and tablets report  (#633)
    
    When Backend report unused replica, which means this replica
    is bad, Frontend should set this replica as bad and repair it.
    Also, when a disk is reported unused, Frontend should mark this
    disk as OFFLINE. And no more replica will be assigned to this
    disk.
    
    We also add 3 new metrics: disk_state, tablet_num and scheduled_tablet_num
    on Frontend to monitor the disk state and number of tablet on each Backend.

 .../doris/analysis/AdminShowReplicaStatusStmt.java |   2 +-
 .../org/apache/doris/analysis/ShowBackupStmt.java  |   5 +-
 .../org/apache/doris/analysis/ShowRestoreStmt.java |   5 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  20 +++
 .../org/apache/doris/catalog/MetadataViewer.java   |   2 +
 .../java/org/apache/doris/catalog/Replica.java     |  14 +++
 .../main/java/org/apache/doris/catalog/Tablet.java |   9 +-
 .../apache/doris/catalog/TabletInvertedIndex.java  |  27 ++--
 .../apache/doris/clone/BackendLoadStatistic.java   |  27 +++-
 .../java/org/apache/doris/clone/LoadBalancer.java  |  12 +-
 .../apache/doris/clone/RootPathLoadStatistic.java  |  15 ++-
 .../org/apache/doris/clone/TabletSchedCtx.java     |   9 ++
 .../org/apache/doris/clone/TabletScheduler.java    |  33 +++--
 .../common/proc/BackendLoadStatisticProcNode.java  |  51 --------
 .../common/proc/ClusterLoadStatisticProcDir.java   |  21 +---
 .../apache/doris/common/proc/ReplicasProcNode.java |   3 +-
 .../apache/doris/common/proc/StatisticProcDir.java | 140 +++------------------
 .../org/apache/doris/journal/JournalEntity.java    |   6 +
 .../org/apache/doris/master/ReportHandler.java     |  27 +++-
 .../java/org/apache/doris/metric/MetricRepo.java   |  56 ++++++++-
 .../apache/doris/persist/BackendTabletsInfo.java   | 114 +++++++++++++++++
 .../java/org/apache/doris/persist/EditLog.java     |   9 ++
 .../org/apache/doris/persist/OperationType.java    |   1 +
 .../java/org/apache/doris/qe/ConnectProcessor.java |   3 +-
 .../java/org/apache/doris/system/HeartbeatMgr.java |   1 +
 .../doris/cluster/SystemInfoServiceTest.java       |   4 +
 .../org/apache/doris/qe/ConnectProcessorTest.java  |   3 +-
 27 files changed, 390 insertions(+), 229 deletions(-)

commit d3cd31fb81734c51b3ae01a918d766781f58c428
Author: kangkaisen <kangkaisen@apache.org>
Date:   Fri Feb 15 09:13:29 2019 +0800

    Fix colocate table not delete tablet in backend bug (#626)

 fe/src/main/java/org/apache/doris/master/ReportHandler.java | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 9b3453f751d8cfda270eff350bf1789086b53f44
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Feb 14 11:04:17 2019 +0800

    Fix unused tablet bug (#630)

 be/src/olap/olap_engine.cpp        | 1 +
 gensrc/thrift/MasterService.thrift | 1 +
 2 files changed, 2 insertions(+)

commit 7c085974ffbfa2ab414b53e690334f8c373e746d
Author: lide <mailtolide@sina.com>
Date:   Tue Feb 12 18:49:38 2019 +0800

    Add a Gitter chat badge to README.md (#624)

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 89339f54ef294f6b81596433d1fbfa2f1e77ca58
Author: EmmyMiao87 <522274284@qq.com>
Date:   Sun Feb 3 19:29:14 2019 +0800

    Set thirdparty env in Docker image (#623)
    
    1. use url env of thirdparty instead of download thirdparty tar in docker file.

 docker/Dockerfile | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit af7f0eaea8da7b063035875d2f263a6abc5aa771
Author: Mingyu Chen <morningman@163.com>
Date:   Sun Feb 3 13:45:36 2019 +0800

    Add an environmental variable to decide whether to patch compiler-rt (#621)

 thirdparty/download-thirdparty.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 43133d08bf8224a5550c592a764725e60c5d5546
Author: lide <mailtolide@sina.com>
Date:   Sat Feb 2 12:57:08 2019 +0800

    Add thirdparty list to Docker_build.md (#620)

 docker/Docker_build.md | 37 +++++++++++++++++++++++++++++++++++--
 1 file changed, 35 insertions(+), 2 deletions(-)

commit 192c1237de346379338035684784900a772d20c0
Author: lide <mailtolide@sina.com>
Date:   Fri Feb 1 16:01:07 2019 +0800

    Update year in Notice file (#618)
    
    * Update year in Notice file
    * Change use_new_tablet_scheduler default value

 NOTICE.txt                                           | 2 +-
 fe/src/main/java/org/apache/doris/common/Config.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0c864c47f87719559cdf2ffd90f9761e800a5a13
Author: lide <mailtolide@sina.com>
Date:   Fri Feb 1 15:36:22 2019 +0800

    Unify version information (#617)

 fe/src/main/java/org/apache/doris/qe/GlobalVariable.java        | 2 +-
 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java          | 3 ++-
 fe/src/main/java/org/apache/doris/task/ExportExportingTask.java | 3 ++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 381bef88ca4f4bb6e7bcaf98dd04a712a743808a
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Feb 1 13:38:23 2019 +0800

    Fix bug that CreateReplicaTask use wrong parameter (#616)
    
    The dbId in CreateReplicaTask does not set correctly,
    which may cause incorrect report result.

 fe/src/main/java/org/apache/doris/backup/RestoreJob.java        | 4 ++--
 fe/src/main/java/org/apache/doris/system/SystemInfoService.java | 7 ++++++-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit d5b9947d3eaa5176907fb39a171d9762fdbceb18
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Feb 1 11:17:29 2019 +0800

    Optimize edit log write operation (#615)
    
    1. No need to write edit log for init replica version sync.
    2. Add a metric to monitor edit log size in bytes

 .../main/java/org/apache/doris/alter/RollupJob.java   |  1 -
 .../java/org/apache/doris/alter/SchemaChangeJob.java  |  3 +--
 .../org/apache/doris/journal/bdbje/BDBJEJournal.java  |  4 ++++
 .../main/java/org/apache/doris/master/MasterImpl.java |  3 ++-
 .../java/org/apache/doris/master/ReportHandler.java   | 19 +++++++++++++++++--
 .../main/java/org/apache/doris/metric/MetricRepo.java |  3 +++
 .../org/apache/doris/system/SystemInfoService.java    |  1 +
 7 files changed, 28 insertions(+), 6 deletions(-)

commit 30ee41aaa5c2d666e09d55937e682b76649e5881
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Jan 31 21:25:46 2019 +0800

    Make status returned be right (#613)

commit 171eaa642f7532631334ab5b0d12d45420f88e50
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 31 20:09:15 2019 +0800

    Fix BackendsProcDirTest ut (#612)

 .../doris/common/proc/BackendsProcDirTest.java     | 42 ++++++++++++----------
 1 file changed, 23 insertions(+), 19 deletions(-)

commit 100eeb18cdfcaefc677e18cb72c02ababbb85f99
Author: kangkaisen <kangkaisen@apache.org>
Date:   Thu Jan 31 19:23:12 2019 +0800

    Add test for colocate table (#587)

 .../java/org/apache/doris/catalog/Catalog.java     |  35 +-
 .../apache/doris/catalog/ColocateTableIndex.java   |  86 +++-
 .../apache/doris/catalog/ColocateTableUtils.java   |   3 +-
 .../main/java/org/apache/doris/catalog/Table.java  |   2 +-
 .../java/org/apache/doris/clone/CloneChecker.java  |   6 +-
 .../doris/http/meta/ColocateMetaService.java       |  10 +-
 .../org/apache/doris/master/ReportHandler.java     |   2 +-
 .../apache/doris/planner/DistributedPlanner.java   |   8 +-
 .../apache/doris/catalog/ColocateTableTest.java    | 476 +++++++++++++++++++++
 9 files changed, 585 insertions(+), 43 deletions(-)

commit aba1b9e5d65aa747ab2d13c06e0a3f43c715879e
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 31 16:54:49 2019 +0800

    Reopen the thrift client when got exception (#610)
    
    To avoid broken connection being reused.

 be/src/agent/user_resource_listener.cpp        |  9 +++++----
 be/src/agent/utils.cpp                         |  2 ++
 be/src/exec/schema_scanner/frontend_helper.cpp | 18 ++++++++++--------
 be/src/http/action/mini_load.cpp               |  4 ++++
 be/src/runtime/etl_job_mgr.cpp                 |  6 ++++--
 be/src/runtime/export_task_mgr.cpp             |  6 ++++--
 6 files changed, 29 insertions(+), 16 deletions(-)

commit af445b6cc252872ecf3fdfe048a004f21e51c26b
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 31 13:30:45 2019 +0800

    Optimize something (#607)
    
    1. Unify the thrift rpc timeout from BE to FE.
        Add a BE config 'thrift_rpc_timeout_ms', default is 5000
    2. Add hostname in "show proc '/frontends';" stmt result.
    3. Fix a lock order bug in Load.java

 be/src/agent/utils.cpp                             |  8 ++--
 be/src/agent/utils.h                               |  2 -
 be/src/common/config.h                             |  6 +++
 be/src/exec/schema_scanner/frontend_helper.h       | 12 +++++-
 be/src/http/action/mini_load.cpp                   | 13 +++---
 be/src/http/action/stream_load.cpp                 |  2 +-
 .../apache/doris/analysis/ShowFrontendsStmt.java   |  4 ++
 .../java/org/apache/doris/catalog/Catalog.java     |  7 +--
 .../apache/doris/catalog/ColocateTableIndex.java   |  5 ++-
 .../apache/doris/common/proc/BackendsProcDir.java  | 13 +-----
 .../doris/common/proc/FrontendsProcNode.java       | 12 +++++-
 .../org/apache/doris/http/rest/MetricsAction.java  |  2 +-
 fe/src/main/java/org/apache/doris/load/Load.java   | 50 ++++++++--------------
 .../java/org/apache/doris/qe/ShowExecutor.java     |  5 +++
 .../org/apache/doris/service/FrontendOptions.java  | 13 ++++++
 15 files changed, 89 insertions(+), 65 deletions(-)

commit ca2ab5da59c60d09f204bfeb102e8d0a5b60085e
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 30 21:28:42 2019 +0800

    Add more thrift log (#605)

 be/src/service/doris_main.cpp                                  |  8 ++++++++
 fe/src/main/java/org/apache/doris/common/Log4jConfig.java      | 10 ++++++++--
 .../java/org/apache/doris/service/FrontendServiceImpl.java     |  2 +-
 3 files changed, 17 insertions(+), 3 deletions(-)

commit 08376b05573806c672190a25377a1d6d8354d7f5
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 30 15:09:58 2019 +0800

    Catch throwable in mysql listener thread (#603)
    
    Also add thrift log to fe.log

 fe/src/main/java/org/apache/doris/common/Log4jConfig.java          | 3 +++
 fe/src/main/java/org/apache/doris/mysql/MysqlServer.java           | 6 +++---
 fe/src/main/java/org/apache/doris/service/FrontendServiceImpl.java | 1 +
 3 files changed, 7 insertions(+), 3 deletions(-)

commit ff12281a728efa5ebc6ed6856631b407237095b2
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jan 30 10:27:19 2019 +0800

    Call curl_global_init at the begining (#602)
    
    To avoid concurrent initilization of libcurl, we call curl_global_init
    in our main function.

 be/src/service/doris_main.cpp | 10 ++++++++++
 build.sh                      |  0
 2 files changed, 10 insertions(+)

commit 3b23b01d122e04d9cfd91cf3e094c69f7d3a1e9f
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jan 29 21:17:41 2019 +0800

    Recovery tablet only when tablet version is missing (#601)

 be/src/olap/olap_engine.cpp                            |  5 +++++
 .../org/apache/doris/catalog/TabletInvertedIndex.java  | 18 ++++++++++--------
 gensrc/thrift/MasterService.thrift                     |  1 +
 3 files changed, 16 insertions(+), 8 deletions(-)

commit daa9d975ca2909327dcd3763ea6e512d78d2e4ac
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jan 29 15:35:07 2019 +0800

    Fix bugs of Tablet Scheduler (#600)

 be/src/agent/task_worker_pool.cpp                  | 10 ++++----
 be/src/olap/delta_writer.cpp                       |  2 +-
 be/src/olap/olap_engine.cpp                        |  4 ++--
 be/src/olap/olap_table.h                           |  1 +
 .../main/java/org/apache/doris/alter/AlterJob.java |  3 ++-
 .../apache/doris/alter/SchemaChangeHandler.java    |  9 ++++----
 .../org/apache/doris/alter/SchemaChangeJob.java    |  9 +++++---
 .../apache/doris/analysis/AbstractBackupStmt.java  |  9 +++++---
 .../org/apache/doris/analysis/ShowTabletStmt.java  |  3 +--
 .../java/org/apache/doris/catalog/Catalog.java     | 26 +++++++++++++++++++--
 .../java/org/apache/doris/catalog/Replica.java     |  7 +++---
 .../apache/doris/catalog/TabletInvertedIndex.java  | 27 ++++++++++++++--------
 .../java/org/apache/doris/clone/LoadBalancer.java  |  2 +-
 .../java/org/apache/doris/clone/TabletChecker.java |  8 +++++--
 .../org/apache/doris/clone/TabletSchedCtx.java     | 27 +++++++++++++++++-----
 .../org/apache/doris/clone/TabletScheduler.java    | 21 +++++++++++++++--
 .../main/java/org/apache/doris/common/Config.java  |  2 +-
 .../common/proc/CurrentQueryStatisticsProcDir.java | 17 +++++++-------
 .../apache/doris/common/proc/TabletsProcDir.java   | 18 +--------------
 .../org/apache/doris/journal/JournalEntity.java    | 11 ++++-----
 .../java/org/apache/doris/master/MasterImpl.java   | 10 ++++----
 .../org/apache/doris/master/ReportHandler.java     | 20 +++++++++++++---
 .../java/org/apache/doris/persist/EditLog.java     |  9 ++++++++
 .../org/apache/doris/persist/OperationType.java    |  1 +
 .../apache/doris/persist/ReplicaPersistInfo.java   |  8 +++----
 .../doris/transaction/GlobalTransactionMgr.java    |  4 ++--
 .../doris/persist/ReplicaPersistInfoTest.java      |  3 +--
 gensrc/script/gen_build_version.sh                 |  2 +-
 28 files changed, 176 insertions(+), 97 deletions(-)

commit 722eec16bbbfefba49e6030f2947c77f0a888921
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Tue Jan 29 12:23:30 2019 +0800

    Optimize header load failure process (#598)

 be/src/olap/store.cpp | 64 ++++++++++++++++++++++++++++++++++++++++-----------
 be/src/olap/store.h   |  2 ++
 2 files changed, 52 insertions(+), 14 deletions(-)

commit c5fa1423cf31e0add1299b5b4c9d32d2d2ba07da
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Mon Jan 28 16:17:22 2019 +0800

    fix bug of file deleted by compaction (#597)

 be/src/olap/olap_engine.cpp | 43 +++++++++++++++++++++++++++++++++++++++++--
 be/src/olap/olap_engine.h   |  4 ++++
 2 files changed, 45 insertions(+), 2 deletions(-)

commit 26acf83cb061f7133b9214e47bb12a95a2b5f400
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Sun Jan 27 18:40:45 2019 +0800

    Make status returned be right (#594)
    
    RunLengthByteReader should return right error code instead of EOF

 be/src/olap/file_stream.cpp            | 4 +++-
 be/src/olap/olap_engine.cpp            | 4 ++--
 be/src/olap/run_length_byte_reader.cpp | 2 +-
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 67cdc723acd36ecd3d20e2d085d2a052c407f79b
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jan 25 17:56:42 2019 +0800

    Fix bug that only REPLICA_MISSING repair need to create a new replica (#590)

 .../org/apache/doris/alter/SchemaChangeJob.java    |  6 ++--
 .../org/apache/doris/clone/TabletSchedCtx.java     | 34 +++++++++++++++-------
 2 files changed, 27 insertions(+), 13 deletions(-)

commit 9d71a930a2a94daaa83dfdc1713a8ef6adc48c7c
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jan 25 16:49:15 2019 +0800

    Fix bug that repair slot may not be released when clone finished (#589)

 be/src/olap/olap_snapshot.cpp                      |   2 +-
 .../java/org/apache/doris/clone/LoadBalancer.java  |  18 +-
 .../org/apache/doris/clone/TabletSchedCtx.java     |  14 +-
 .../org/apache/doris/clone/TabletScheduler.java    | 338 +++++++++++----------
 4 files changed, 188 insertions(+), 184 deletions(-)

commit 9a272f0592024773efefed5fb0ce08e6557f36e9
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Jan 25 14:27:33 2019 +0800

    Optimize something (#585)
    
    1. Optimize the error msg of Tablet scheduler.
    2. Missing helper nodes info when modify Frontends.
    3. Fix bug that olap tablet's header lock is not released.

 be/src/agent/task_worker_pool.cpp                         |  2 +-
 be/src/common/config.h                                    |  4 ++--
 be/src/olap/olap_define.h                                 |  1 +
 be/src/olap/olap_snapshot.cpp                             |  2 ++
 fe/src/main/java/org/apache/doris/catalog/Catalog.java    | 15 ++++++++++++---
 fe/src/main/java/org/apache/doris/catalog/Tablet.java     |  2 +-
 .../main/java/org/apache/doris/clone/TabletScheduler.java | 10 +++++-----
 fe/src/main/java/org/apache/doris/persist/EditLog.java    |  2 +-
 8 files changed, 25 insertions(+), 13 deletions(-)

commit e135e3d41ebf5b037b9ccde616a33a3925644c5e
Author: lide <mailtolide@sina.com>
Date:   Fri Jan 25 11:18:10 2019 +0800

    Add an example of help load (#584)

 .../help/Contents/Data Manipulation/broker_load.md | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit bc7e7409caa34c2fca241c6031e67ae07a28a568
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 24 15:39:05 2019 +0800

    Allow repair VERSION_IMCOMPLETE tablet when ALTERing table (#583)
    
    Previously we do not allow repair tablet if the table it belongs
    to is under ALTER process. But it will possibly let the alter job
    failed due to some replica's failure of load.

 .../main/java/org/apache/doris/catalog/Table.java  | 10 ++------
 .../org/apache/doris/clone/TabletScheduler.java    | 22 ++++++++++-------
 .../apache/doris/common/proc/BackendProcNode.java  |  3 +++
 .../apache/doris/service/FrontendServiceImpl.java  | 28 +++++++++++++++-------
 .../apache/doris/transaction/TransactionState.java |  3 +++
 5 files changed, 40 insertions(+), 26 deletions(-)

commit cd7a2c3fd5f581f3826dd103a67bd78ad6d85bb5
Author: kangkaisen <kangkaisen@163.com>
Date:   Thu Jan 24 13:56:41 2019 +0800

    Refactor CreateTableTest (#579)

 fe/pom.xml                                         |   7 -
 .../org/apache/doris/catalog/CreateTableTest.java  | 574 ++++++++++-----------
 2 files changed, 272 insertions(+), 309 deletions(-)

commit aeb89ab4d37f656be91843a8aba3feecf464c85c
Author: kangkaisen <kangkaisen@163.com>
Date:   Thu Jan 24 11:20:12 2019 +0800

    Add ColocateMetaService (#562)

 .../apache/doris/catalog/ColocateTableIndex.java   |  17 +-
 .../java/org/apache/doris/http/BaseRequest.java    |  12 +
 .../java/org/apache/doris/http/Http API Reference  | 113 +++++++++
 .../java/org/apache/doris/http/HttpServer.java     |  11 +-
 .../org/apache/doris/http/HttpServerHandler.java   |   5 +-
 .../http/common/DorisHttpPostObjectAggregator.java |  61 +++++
 .../doris/http/meta/ColocateMetaService.java       | 272 +++++++++++++++++++++
 7 files changed, 481 insertions(+), 10 deletions(-)

commit 2912a16b160a21f0c74817529a224581f23ec5b7
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Jan 23 20:01:16 2019 +0800

    Fix data race of header (#576)

 be/src/olap/olap_table.cpp | 1 +
 1 file changed, 1 insertion(+)

commit c82879cb2e21f614dad8f83b63d4c9828d50fd4e
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 23 17:24:29 2019 +0800

    Fix bug that heartbeat error msg may be null (#574)

 fe/src/main/java/org/apache/doris/alter/SchemaChangeJob.java   |  4 +++-
 fe/src/main/java/org/apache/doris/catalog/BrokerMgr.java       |  2 +-
 fe/src/main/java/org/apache/doris/catalog/FsBroker.java        |  6 +++---
 fe/src/main/java/org/apache/doris/catalog/Replica.java         |  3 ++-
 fe/src/main/java/org/apache/doris/common/Config.java           |  2 +-
 .../java/org/apache/doris/common/proc/FrontendsProcNode.java   |  2 +-
 fe/src/main/java/org/apache/doris/system/Backend.java          |  2 +-
 fe/src/main/java/org/apache/doris/system/Frontend.java         | 10 +++++-----
 8 files changed, 17 insertions(+), 14 deletions(-)

commit 4f3954fd7792eec2244f6b4f691217a1ac5d089b
Author: chenhao <510341142@qq.com>
Date:   Wed Jan 23 17:00:40 2019 +0800

    Fix bug that recvr thread update sub plan's QueryStatistics when it is destructed (#573)

 be/src/exec/exchange_node.cpp       | 2 +-
 be/src/exec/exchange_node.h         | 6 +++---
 be/src/runtime/data_stream_mgr.cpp  | 2 +-
 be/src/runtime/data_stream_mgr.h    | 2 +-
 be/src/runtime/data_stream_recvr.cc | 5 +++--
 be/src/runtime/data_stream_recvr.h  | 7 ++++---
 6 files changed, 13 insertions(+), 11 deletions(-)

commit 079141e14a9e5f1feff598cd878b503ac6194cce
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 23 14:08:33 2019 +0800

    Add disk usage percent in SHOW BACKEND stmt (#571)

 docs/help/Contents/Administration/admin_stmt.md    | 50 +++++++++++++-
 .../java/org/apache/doris/catalog/BrokerMgr.java   |  7 +-
 .../java/org/apache/doris/catalog/FsBroker.java    |  4 +-
 .../apache/doris/common/proc/BackendProcNode.java  | 79 +++++++++++-----------
 .../apache/doris/common/proc/BackendsProcDir.java  | 22 ++++--
 .../doris/common/proc/FrontendsProcNode.java       |  9 ++-
 .../main/java/org/apache/doris/system/Backend.java | 13 ----
 .../java/org/apache/doris/system/Frontend.java     |  2 +-
 .../doris/common/proc/BackendProcNodeTest.java     | 14 +++-
 9 files changed, 126 insertions(+), 74 deletions(-)

commit a9e9aef3ca6d43f77b7a280c209a90d36f0f3ed1
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Jan 22 20:13:09 2019 +0800

    Fix sync and trash bug (#570)
    
    1. no need to save header when header has no incremental delta
    2. make fsync tablet_meta configurable
    3. add metric for meta operation

 be/src/common/config.h        |  3 +++
 be/src/olap/olap_engine.cpp   | 11 +++++++--
 be/src/olap/olap_meta.cpp     | 37 ++++++++++++++++++++++++------
 be/src/olap/olap_table.cpp    | 52 +++++++++++++++++++++++++++----------------
 be/src/olap/olap_table.h      |  6 +++--
 be/src/util/doris_metrics.cpp | 18 +++++++++++++++
 be/src/util/doris_metrics.h   |  5 +++++
 7 files changed, 102 insertions(+), 30 deletions(-)

commit 9e240d432a4e094a567eb7b97dea23d85fff80eb
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jan 22 16:48:24 2019 +0800

    Fix replica version report bug (#569)
    
    Replica with version hash equals to 0 should be handled correctly.

 .../apache/doris/catalog/TabletInvertedIndex.java    | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit e11bdf2db595d59b9141d73d110f05865edf46e0
Author: chenhao <510341142@qq.com>
Date:   Tue Jan 22 14:38:39 2019 +0800

    Remove unit of measurement about query statistics in audit log (#568)

 .../common/proc/CurrentQueryFragmentProcNode.java  |  2 +-
 .../common/proc/CurrentQueryStatisticsProcDir.java |  2 +-
 .../java/org/apache/doris/qe/ConnectProcessor.java | 29 ++++++++++------------
 3 files changed, 15 insertions(+), 18 deletions(-)

commit 09df294898482aad8751453c23cddb4b60a4fc61
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Jan 22 12:21:55 2019 +0800

    Fix some bugs (#566)
    
    1. Backup obj should set state to NORMAL.
    2. Replica with version 1-0 should be handled correctly.

 .../java/org/apache/doris/alter/SchemaChangeJob.java |  2 +-
 .../java/org/apache/doris/backup/BackupHandler.java  |  2 +-
 .../main/java/org/apache/doris/backup/BackupJob.java |  2 +-
 .../main/java/org/apache/doris/catalog/Catalog.java  |  2 +-
 .../java/org/apache/doris/catalog/OlapTable.java     | 19 ++++++++++++++++++-
 .../main/java/org/apache/doris/catalog/Replica.java  | 16 +++++++++-------
 .../main/java/org/apache/doris/catalog/Tablet.java   |  4 ++--
 .../apache/doris/catalog/TabletInvertedIndex.java    | 20 +++++++++++++++++---
 .../java/org/apache/doris/clone/TabletScheduler.java | 10 ++++++----
 .../java/org/apache/doris/planner/OlapScanNode.java  | 10 +++++++---
 .../java/org/apache/doris/catalog/ReplicaTest.java   |  1 -
 11 files changed, 63 insertions(+), 25 deletions(-)

commit e80f6ed86a1b45aa0a89f841f390d8e000079200
Author: chenhao <510341142@qq.com>
Date:   Tue Jan 22 11:22:49 2019 +0800

    Fix uncorrect hll type length when creating table (#565)

 fe/src/main/cup/sql_parser.cup | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f7155217bf4adf83eb7f3f7a3f99c10d71a09d1b
Author: chenhao <510341142@qq.com>
Date:   Mon Jan 21 14:08:59 2019 +0800

    Remove build rows counter in PartitionHashJoinNode (#557)
    
    * Remove build rows counter in PartitionHashJoinNode
    * Fix unit test fail in RuntimeProfileTest
    * Add check for result type length in cast_to_string_val

 be/src/exec/new_partitioned_aggregation_node.cc                   | 2 --
 be/src/exec/new_partitioned_aggregation_node.h                    | 2 --
 be/src/exec/new_partitioned_aggregation_node_ir.cc                | 1 -
 be/src/exprs/cast_functions.cpp                                   | 5 ++++-
 .../java/org/apache/doris/common/util/RuntimeProfileTest.java     | 8 ++++----
 5 files changed, 8 insertions(+), 10 deletions(-)

commit 0dd4c6e0a0a2c0a16e1be5e8f6d90990aa686820
Author: lide <mailtolide@sina.com>
Date:   Mon Jan 21 13:09:45 2019 +0800

    Fix ASAN compilation issue (#561)

 be/src/runtime/bufferpool/buffer_pool.h |  2 +-
 be/src/runtime/mem_pool.h               |  2 +-
 be/src/util/asan.h                      | 56 ---------------------------------
 3 files changed, 2 insertions(+), 58 deletions(-)

commit 54e98f6964018e567707b41f93f86c5a972a0ea8
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Jan 21 08:56:43 2019 +0800

    Auto fix missing version replica (#560)

 .../help/Contents/Data Manipulation/broker_load.md |   1 -
 .../java/org/apache/doris/alter/RollupJob.java     |   4 +-
 .../org/apache/doris/alter/SchemaChangeJob.java    |  18 +--
 .../org/apache/doris/analysis/CreateTableStmt.java |   2 +-
 .../java/org/apache/doris/catalog/Replica.java     |  25 +++-
 .../apache/doris/catalog/TabletInvertedIndex.java  |  16 +--
 .../org/apache/doris/clone/TabletSchedCtx.java     |  48 ++++----
 .../org/apache/doris/master/ReportHandler.java     | 130 ++++++++++++++++++---
 8 files changed, 180 insertions(+), 64 deletions(-)

commit 4013d0834ef4d1679047cbcbbbefcef317c8ec40
Author: lide <mailtolide@sina.com>
Date:   Fri Jan 18 14:21:33 2019 +0800

     Add Docker building guide in README.md (#553)
    
    Add building guide of Docker image in README.md

 README.md | 42 +++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit 51c128c8d1e64fce2ceff26d2b031d925dc23c4a
Author: kangkaisen <kangkaisen@163.com>
Date:   Fri Jan 18 14:13:42 2019 +0800

    Skip balance when colocate group is balancing (#548)

 fe/src/main/java/org/apache/doris/catalog/Catalog.java           | 3 ++-
 .../main/java/org/apache/doris/clone/ColocateTableBalancer.java  | 9 ++++++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 717285db1ee488e8731a168e58ca4c3f93bc5c00
Author: chenhao <510341142@qq.com>
Date:   Fri Jan 18 09:53:40 2019 +0800

    Remove unused code about showing current queries (#552)

 be/src/exec/analytic_eval_node.cpp                 |   3 -
 be/src/exec/analytic_eval_node.h                   |   2 -
 be/src/exec/exchange_node.cpp                      |  11 +-
 be/src/exec/exchange_node.h                        |   2 -
 be/src/exec/olap_scan_node.cpp                     |   2 -
 be/src/exec/sort_node.cpp                          |   2 -
 be/src/exec/sort_node.h                            |   2 -
 be/src/exec/union_node.cpp                         |   3 -
 be/src/exec/union_node.h                           |   2 -
 be/src/runtime/runtime_state.cpp                   |   1 -
 be/src/runtime/runtime_state.h                     |  15 --
 .../common/proc/CurrentQueryFragmentProcNode.java  |  21 +-
 .../common/proc/CurrentQueryInfoProvider.java      | 268 ++++-----------------
 .../common/proc/CurrentQueryStatisticsProcDir.java |  17 +-
 .../common/util/QueryStatisticsFormatter.java      |  39 +++
 .../apache/doris/common/util/RuntimeProfile.java   |   4 +-
 .../java/org/apache/doris/qe/ConnectProcessor.java |  21 +-
 17 files changed, 115 insertions(+), 300 deletions(-)

commit 4d5f92cce7a8e7affd4e91af6d256111fbfcc93e
Author: Salieri1969 <lumiaa@163.com>
Date:   Thu Jan 17 17:59:33 2019 +0800

    Add EsScanNode (#450)

 be/src/exec/CMakeLists.txt                         |   1 +
 be/src/exec/es_scan_node.cpp                       | 792 +++++++++++++++++++++
 be/src/exec/es_scan_node.h                         |  89 +++
 be/src/exec/exec_node.cpp                          |   6 +
 be/src/exprs/expr.h                                |   4 +
 be/src/exprs/expr_context.h                        |   1 +
 be/src/gen_cpp/CMakeLists.txt                      |   3 +
 be/src/runtime/client_cache.h                      |   3 +
 be/src/runtime/exec_env.h                          |   3 +
 be/src/runtime/exec_env_init.cpp                   |   4 +
 be/test/exec/CMakeLists.txt                        |   1 +
 be/test/exec/es_scan_node_test.cpp                 | 154 ++++
 gensrc/script/doris_builtins_functions.py          |   2 +-
 gensrc/thrift/PaloExternalDataSourceService.thrift |  36 +-
 gensrc/thrift/Status.thrift                        |   7 +-
 run-ut.sh                                          |   1 +
 16 files changed, 1103 insertions(+), 4 deletions(-)

commit 723ef04f51c1e56748dce87e08dad4936c4aee5b
Author: chenhao <510341142@qq.com>
Date:   Thu Jan 17 17:38:34 2019 +0800

    Fix string truncation error in CastExpr. (#551)

 fe/src/main/cup/sql_parser.cup                           | 16 +++++++++++-----
 fe/src/main/java/org/apache/doris/analysis/CastExpr.java | 13 ++++++++++++-
 .../main/java/org/apache/doris/analysis/ColumnDef.java   | 10 ++++++++++
 .../main/java/org/apache/doris/catalog/ScalarType.java   |  6 +++++-
 4 files changed, 38 insertions(+), 7 deletions(-)

commit d15bc83de030daed73796bdd3b0ce1ea765f10fa
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 17 15:17:51 2019 +0800

    Fix some bugs of alter table operation (#550)
    
    1. Fix bug that failed to query restored table after schema change.
    2. Fix bug that failed to add rollup to restored table.
    3. Optimize the info of SHOW ALTER TABLE stmt.
    4. Optimize the info of some PROCs.
    5. Optimize the tablet checker to avoid adding too much task to scheduler.

 .../Contents/Administration/admin_show_stmt.md     |   1 +
 .../Data Manipulation/manipulation_stmt.md         |   7 +-
 .../java/org/apache/doris/alter/AlterHandler.java  |   2 +-
 .../java/org/apache/doris/alter/RollupHandler.java |   7 +-
 .../java/org/apache/doris/alter/RollupJob.java     |  24 ++-
 .../org/apache/doris/alter/SchemaChangeJob.java    | 183 +++++++++++++--------
 .../doris/analysis/AdminShowReplicaStatusStmt.java |   6 +-
 .../org/apache/doris/analysis/CreateTableStmt.java |   2 +-
 .../org/apache/doris/analysis/DescribeStmt.java    |   4 +-
 .../java/org/apache/doris/backup/BackupJob.java    |   2 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |  12 +-
 .../java/org/apache/doris/catalog/Catalog.java     |   5 +-
 .../org/apache/doris/catalog/MetadataViewer.java   |   9 +-
 .../java/org/apache/doris/catalog/Partition.java   |  19 +++
 .../java/org/apache/doris/catalog/Replica.java     |  12 +-
 .../java/org/apache/doris/clone/TabletChecker.java |  28 ++--
 .../org/apache/doris/clone/TabletScheduler.java    |  28 +++-
 .../apache/doris/common/proc/IndexInfoProcDir.java |  37 +++--
 .../doris/common/proc/IndexSchemaProcNode.java     |   2 +-
 .../apache/doris/common/proc/ReplicasProcNode.java |   3 +-
 .../apache/doris/common/proc/RollupProcDir.java    |   6 +-
 .../doris/common/proc/SchemaChangeProcNode.java    |   6 +-
 22 files changed, 260 insertions(+), 145 deletions(-)

commit 5cb1c161a4e84b4c7de96dd4a01d8463b4a76dd2
Author: kangkaisen <kangkaisen@163.com>
Date:   Thu Jan 17 14:58:08 2019 +0800

    Fix colocate join balance bug (#547)

 fe/src/main/java/org/apache/doris/clone/ColocateTableBalancer.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6bef41633c5b2c7553adf538aeca2b0eb99763ba
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Jan 17 14:19:13 2019 +0800

    Add DORIS_THIRDPARTY env in docker image (#539)
    
    * Add param of specified thirdparty path
    1. The thirdparth path can be specify on build.sh: ./build.sh --thirdparty /specified/path/to/thirdparty
    2. If there are only thirdparty param of build.sh, it will build both fe and be
    3. Add unit test of routine load stmt
    4. Remove source code in docker image
    
    * Add DORIS_THIRDPARTY env in docker image
    1. Set DORIS_THIRDPARTY env in docker image. The build.sh will use /var/local/thirdparty instead of /source/code/thirdparty
    2. remove --thirdparty param of build.sh
    
    * Change image workdir to /root

 build.sh                                           |   0
 docker/Dockerfile                                  |  13 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      |   2 +-
 .../doris/load/routineload/RoutineLoadManager.java |   2 +-
 .../doris/analysis/CreateRoutineLoadStmtTest.java  | 137 +++++++++++++++
 .../load/routineload/KafkaRoutineLoadJobTest.java  | 180 +++++++++++++++++--
 .../load/routineload/RoutineLoadManagerTest.java   | 191 ++++++++++++++++++++-
 7 files changed, 497 insertions(+), 28 deletions(-)

commit 0e5b1932433c8ddaa8cf03c855b4e2a9a57720e2
Author: chenhao <510341142@qq.com>
Date:   Thu Jan 17 12:43:15 2019 +0800

    Add cpu and io indicates to audit log (#531)

 be/src/exec/data_sink.cpp                          |   6 +-
 be/src/exec/data_sink.h                            |   7 ++
 be/src/exec/exchange_node.cpp                      |  15 ++-
 be/src/exec/exchange_node.h                        |   9 +-
 be/src/exec/exec_node.cpp                          |   8 ++
 be/src/exec/exec_node.h                            |   6 ++
 be/src/exec/hash_join_node.cpp                     |  12 +--
 be/src/exec/hash_join_node.h                       |   4 +-
 be/src/exec/olap_scan_node.cpp                     |   7 ++
 be/src/exec/olap_scan_node.h                       |   1 +
 be/src/runtime/CMakeLists.txt                      |   1 +
 be/src/runtime/buffer_control_block.cpp            |  10 +-
 be/src/runtime/buffer_control_block.h              |  13 ++-
 be/src/runtime/data_stream_mgr.cpp                 |  50 ++++------
 be/src/runtime/data_stream_mgr.h                   |  26 +-----
 be/src/runtime/data_stream_recvr.cc                |   6 +-
 be/src/runtime/data_stream_recvr.h                 |  10 +-
 be/src/runtime/data_stream_sender.cpp              |  24 ++++-
 be/src/runtime/data_stream_sender.h                |   2 +-
 be/src/runtime/plan_fragment_executor.cpp          |  21 ++++-
 be/src/runtime/plan_fragment_executor.h            |  10 ++
 be/src/runtime/query_statistics.cpp                |  48 ++++++++++
 be/src/runtime/query_statistics.h                  | 101 +++++++++++++++++++++
 be/src/runtime/result_sink.cpp                     |   4 +
 be/src/runtime/result_sink.h                       |   2 +
 be/src/service/backend_service.cpp                 |  16 ++--
 be/src/service/internal_service.cpp                |  19 +---
 .../common/proc/CurrentQueryFragmentProcNode.java  |   6 +-
 .../common/proc/CurrentQueryInfoProvider.java      |  49 ++++++----
 .../common/proc/CurrentQueryStatisticsProcDir.java |   6 +-
 .../org/apache/doris/planner/PlanFragment.java     |  14 ++-
 .../java/org/apache/doris/planner/Planner.java     |  53 +++++++++++
 .../java/org/apache/doris/qe/ConnectProcessor.java |  28 +++++-
 .../main/java/org/apache/doris/qe/Coordinator.java |  18 ++--
 .../java/org/apache/doris/qe/ResultReceiver.java   |  14 ++-
 fe/src/main/java/org/apache/doris/qe/RowBatch.java |  55 +++++++++++
 .../java/org/apache/doris/qe/StmtExecutor.java     |  35 ++++---
 .../org/apache/doris/rpc/PFetchDataResult.java     |   2 +
 .../org/apache/doris/rpc/PQueryStatistics.java     |  35 +++++++
 .../org/apache/doris/qe/ConnectProcessorTest.java  |   5 +-
 .../java/org/apache/doris/qe/StmtExecutorTest.java |   2 +-
 gensrc/proto/data.proto                            |   5 +
 gensrc/proto/internal_service.proto                |   2 +
 gensrc/thrift/PaloInternalService.thrift           |   1 +
 44 files changed, 607 insertions(+), 161 deletions(-)

commit 33b133c6ff6d7d35e8ed114bab0754bea36c6f6f
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 16 18:59:19 2019 +0800

    Fix bug that internal retry of stream load return wrong result (#541)
    
    Add an internal-generated timestamp as a unique identifier to identify a request and a retry request

 be/src/http/action/mini_load.cpp                   | 18 ++-----
 be/src/http/action/stream_load.cpp                 |  2 +
 .../LabelAlreadyUsedException.java}                | 24 +++++-----
 fe/src/main/java/org/apache/doris/load/Load.java   | 54 +++++++++++----------
 .../load/routineload/KafkaRoutineLoadJob.java      | 15 +++---
 .../doris/load/routineload/KafkaTaskInfo.java      |  9 ++--
 .../doris/load/routineload/RoutineLoadJob.java     | 14 +++---
 .../load/routineload/RoutineLoadTaskInfo.java      |  6 +--
 .../java/org/apache/doris/qe/MultiLoadMgr.java     | 49 ++++++++++---------
 .../apache/doris/service/FrontendServiceImpl.java  | 55 +++++-----------------
 .../doris/transaction/GlobalTransactionMgr.java    | 30 +++++++++---
 .../apache/doris/transaction/TransactionState.java | 19 ++++++--
 .../load/routineload/KafkaRoutineLoadJobTest.java  | 31 ++++++------
 .../routineload/RoutineLoadTaskSchedulerTest.java  | 23 +++++----
 .../transaction/GlobalTransactionMgrTest.java      | 17 +++----
 gensrc/thrift/FrontendService.thrift               |  1 +
 16 files changed, 185 insertions(+), 182 deletions(-)

commit e8360f5eee11164ea3386ea8088c69f48d5b9362
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Jan 16 18:57:04 2019 +0800

    Add counters to OlapScanNode (#538)
    
    There is unnegligible cost to covnert VectorRowBatch to RowBatch,
    When we seek block, we only read one row from engine to minimize
    this convert cost.
    
    This patch can optimize some query's time from 5s to 2s

 be/src/exec/olap_scan_node.cpp |  3 +++
 be/src/exec/olap_scan_node.h   |  3 +++
 be/src/exec/olap_scanner.cpp   |  3 +++
 be/src/olap/column_data.cpp    | 12 ++++++++----
 be/src/olap/column_data.h      |  4 ++--
 be/src/olap/olap_common.h      |  2 ++
 be/src/olap/segment_reader.cpp |  1 +
 7 files changed, 22 insertions(+), 6 deletions(-)

commit 79dc521893b0fe926f3be4ae0080102301ee9ef5
Author: lide <mailtolide@sina.com>
Date:   Wed Jan 16 17:26:43 2019 +0800

    Fix UnixMicros function (#544)

 be/src/util/time.h | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 798a66e6a0dfab5f8029e83ba03c2a1afc554106
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 16 13:29:17 2019 +0800

    Implement new tablet repair and balance framework (#336)
    
    More detail, see issue #540

 be/src/agent/task_worker_pool.cpp                  |   73 +-
 be/src/agent/task_worker_pool.h                    |    4 +-
 be/src/olap/olap_engine.cpp                        |   43 +
 be/src/olap/olap_engine.h                          |    8 +
 .../Contents/Administration/admin_repair_stmt.md   |   49 +
 .../Contents/Administration/admin_show_stmt.md     |   31 +-
 docs/help/Contents/Administration/admin_stmt.md    |   19 +
 .../help/Contents/Data Manipulation/broker_load.md |    4 +
 fe/src/main/cup/sql_parser.cup                     |   24 +-
 fe/src/main/java/org/apache/doris/alter/Alter.java |   24 +-
 .../java/org/apache/doris/alter/AlterHandler.java  |    2 +-
 .../main/java/org/apache/doris/alter/AlterJob.java |   16 +-
 .../apache/doris/alter/DecommissionBackendJob.java |  301 +----
 .../java/org/apache/doris/alter/RollupHandler.java |   10 +-
 .../java/org/apache/doris/alter/RollupJob.java     |  118 +-
 .../apache/doris/alter/SchemaChangeHandler.java    |   20 +-
 .../org/apache/doris/alter/SchemaChangeJob.java    |  218 ++--
 .../java/org/apache/doris/alter/SystemHandler.java |   22 +-
 .../doris/analysis/AdminCancelRepairTableStmt.java |   78 ++
 .../doris/analysis/AdminRepairTableStmt.java       |   87 ++
 .../apache/doris/analysis/AdminSetConfigStmt.java  |   92 ++
 .../apache/doris/analysis/AdminShowConfigStmt.java |   76 ++
 .../java/org/apache/doris/analysis/Analyzer.java   |    2 +-
 .../java/org/apache/doris/analysis/ColumnDef.java  |   12 +-
 .../org/apache/doris/analysis/CreateTableStmt.java |   11 +-
 .../java/org/apache/doris/analysis/ExportStmt.java |    2 +-
 .../java/org/apache/doris/analysis/KeysDesc.java   |    1 -
 .../doris/analysis/ModifyPartitionClause.java      |    3 -
 .../apache/doris/analysis/SetUserPropertyStmt.java |    4 -
 .../org/apache/doris/analysis/ShowDataStmt.java    |   33 +-
 .../java/org/apache/doris/backup/BackupJob.java    |    2 +-
 .../java/org/apache/doris/backup/BackupJob_D.java  |    4 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |    3 +-
 .../java/org/apache/doris/catalog/Catalog.java     |   96 +-
 .../apache/doris/catalog/ColocateTableIndex.java   |   58 +-
 .../main/java/org/apache/doris/catalog/Column.java |    7 +-
 .../java/org/apache/doris/catalog/Database.java    |   13 +-
 .../java/org/apache/doris/catalog/DiskInfo.java    |   33 +-
 .../org/apache/doris/catalog/DistributionInfo.java |    1 +
 .../apache/doris/catalog/MaterializedIndex.java    |   15 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |   38 +-
 .../java/org/apache/doris/catalog/Partition.java   |   11 +
 .../java/org/apache/doris/catalog/Replica.java     |   36 +-
 .../main/java/org/apache/doris/catalog/Table.java  |   32 +
 .../main/java/org/apache/doris/catalog/Tablet.java |  161 ++-
 .../apache/doris/catalog/TabletInvertedIndex.java  |   17 +-
 .../org/apache/doris/catalog/TabletStatMgr.java    |    5 +-
 .../apache/doris/clone/BackendLoadStatistic.java   |  176 ++-
 .../java/org/apache/doris/clone/BalanceStatus.java |    2 +
 fe/src/main/java/org/apache/doris/clone/Clone.java |   15 +-
 .../java/org/apache/doris/clone/CloneChecker.java  |   29 +-
 .../apache/doris/clone/ClusterLoadStatistic.java   |  244 ++--
 .../apache/doris/clone/ColocateTableBalancer.java  |   10 +-
 .../java/org/apache/doris/clone/LoadBalancer.java  |  282 +++++
 .../apache/doris/clone/RootPathLoadStatistic.java  |   43 +-
 .../org/apache/doris/clone/SchedException.java}    |   41 +-
 .../java/org/apache/doris/clone/TabletChecker.java |  443 ++++++++
 .../org/apache/doris/clone/TabletSchedCtx.java     |  921 +++++++++++++++
 .../org/apache/doris/clone/TabletScheduler.java    | 1197 ++++++++++++++++++++
 .../apache/doris/clone/TabletSchedulerStat.java    |  197 ++++
 .../apache/doris/common/CommandLineOptions.java    |    2 +-
 .../main/java/org/apache/doris/common/Config.java  |  235 ++--
 .../java/org/apache/doris/common/ConfigBase.java   |   91 +-
 .../java/org/apache/doris/common/FeConstants.java  |    2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |    3 +
 .../common/proc/BackendLoadStatisticProcNode.java  |    2 +-
 .../doris/common/proc/ClusterBalanceProcDir.java   |   83 ++
 .../common/proc/ClusterLoadStatisticProcDir.java   |   46 +-
 .../org/apache/doris/common/proc/LoadProcDir.java  |    2 +-
 .../doris/common/proc/PartitionsProcDir.java       |   16 +-
 .../doris/common/proc/PriorityRepairProcNode.java  |   45 +
 .../org/apache/doris/common/proc/ProcService.java  |    5 +-
 .../apache/doris/common/proc/ReplicasProcNode.java |   58 +-
 .../doris/common/proc/SchedulerStatProcNode.java   |   47 +
 .../common/proc/SchedulerWorkingSlotsProcDir.java  |   69 ++
 .../doris/common/proc/SchemaChangeProcNode.java    |    8 -
 .../common/proc/TabletSchedulerDetailProcDir.java  |   91 ++
 .../apache/doris/common/proc/TabletsProcDir.java   |   63 +-
 .../org/apache/doris/common/util/LoadBalancer.java |   66 --
 .../org/apache/doris/common/util/TimeUtils.java    |    2 +-
 .../org/apache/doris/external/EsStateStore.java    |    2 +-
 .../apache/doris/http/rest/SetConfigAction.java    |    7 +-
 .../apache/doris/journal/bdbje/BDBJEJournal.java   |    9 +-
 .../java/org/apache/doris/load/AsyncDeleteJob.java |    4 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   28 +-
 .../main/java/org/apache/doris/load/LoadJob.java   |    2 -
 .../load/routineload/RoutineLoadScheduler.java     |    1 +
 .../java/org/apache/doris/master/Checkpoint.java   |    2 +-
 .../java/org/apache/doris/master/MasterImpl.java   |   33 +-
 .../org/apache/doris/master/ReportHandler.java     |   31 +-
 .../doris/mysql/privilege/UserPropertyMgr.java     |   25 -
 .../apache/doris/persist/ReplicaPersistInfo.java   |  146 ++-
 .../org/apache/doris/planner/OlapScanNode.java     |   11 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |    2 +-
 .../main/java/org/apache/doris/qe/DdlExecutor.java |    9 +
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |    5 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |   24 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     |    2 +
 .../apache/doris/service/FrontendServiceImpl.java  |    2 +-
 .../main/java/org/apache/doris/system/Backend.java |   49 +-
 .../java/org/apache/doris/system/HeartbeatMgr.java |    1 +
 .../org/apache/doris/system/SystemInfoService.java |   11 +
 .../java/org/apache/doris/task/AgentBatchTask.java |    1 -
 .../main/java/org/apache/doris/task/AgentTask.java |    4 +-
 .../main/java/org/apache/doris/task/CloneTask.java |   57 +-
 .../doris/transaction/GlobalTransactionMgr.java    |    2 +
 .../doris/transaction/PublishVersionDaemon.java    |    4 +-
 fe/src/main/jflex/sql_scanner.flex                 |    3 +
 .../apache/doris/alter/SchemaChangeJobTest.java    |   20 +-
 .../org/apache/doris/backup/CatalogMocker.java     |   31 +-
 .../java/org/apache/doris/bdb/BDBToolTest.java     |    4 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |    7 +-
 .../java/org/apache/doris/catalog/ReplicaTest.java |   13 +-
 .../java/org/apache/doris/catalog/TabletTest.java  |   14 +-
 .../java/org/apache/doris/clone/CloneTest.java     |    1 -
 .../doris/clone/ClusterLoadStatisticsTest.java     |   21 +-
 .../org/apache/doris/clone/TabletSchedCtxTest.java |   76 ++
 .../org/apache/doris/common/util/UnitTestUtil.java |    6 +-
 .../java/org/apache/doris/load/LoadJobTest.java    |    8 +-
 .../doris/persist/ReplicaPersistInfoTest.java      |    6 +-
 .../java/org/apache/doris/task/AgentTaskTest.java  |    5 +-
 gensrc/thrift/AgentService.thrift                  |    4 +
 gensrc/thrift/MasterService.thrift                 |    3 +
 123 files changed, 5881 insertions(+), 1270 deletions(-)

commit f20c99fd093a7aaa178bdb40b261c70df6dffb69
Author: yiguolei <676222867@qq.com>
Date:   Tue Jan 15 12:53:24 2019 +0800

    Support storage migration (#534)
    
    Add a migration lock to lock the data when doing storage migration.

 be/src/olap/delta_writer.cpp                       | 10 +++++
 be/src/olap/delta_writer.h                         |  3 +-
 be/src/olap/olap_engine.cpp                        | 43 ++++++++++++++++------
 be/src/olap/olap_snapshot.cpp                      | 17 +++++++--
 be/src/olap/olap_table.cpp                         | 17 +++++++++
 be/src/olap/olap_table.h                           | 19 +++++++++-
 be/src/olap/schema_change.cpp                      |  8 +++-
 .../org/apache/doris/master/ReportHandler.java     |  3 +-
 8 files changed, 101 insertions(+), 19 deletions(-)

commit b3b86731cb362c9303373da4ff90f83623426999
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jan 11 14:59:20 2019 +0800

    Remove useless check, not need lsb_release any more (#526)

 .gitignore                                         |   1 +
 be/CMakeLists.txt                                  |  25 ---------------------
 .../user_function_cache/download/1/1.1234.so.tmp   | Bin 6343 -> 0 bytes
 3 files changed, 1 insertion(+), 25 deletions(-)

commit 0fcbe15280a221a7d152644e21023278dcc7b1cf
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 10 19:06:29 2019 +0800

    Change the default bdbje sync policy to SYNC (#519)

 fe/src/main/java/org/apache/doris/common/Config.java          | 11 +++++++++--
 .../java/org/apache/doris/journal/bdbje/BDBEnvironment.java   |  2 ++
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 65eed5fdc14402146f9f122f14ecbd33d81591a3
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Jan 10 18:57:50 2019 +0800

    Fix inconsistency of three replicas belongs to one tablet (#523) (#525)
    
    There are A, B, C replicas of one tablet.
    A has 0 - 10 version.
    B has 0 - 5, 6, 7, 9, 10 version.
    1. B has missed versions, so it clones 0 - 10 from A, and remove overlapped versions in its header.
    2. Coincidentally, 6 is a version for delete predicate (delete where day = 20181221).
       When removing overlapped versions, version 6 is removed but delete predicate is not be removed.
    3. Unfortunately, 0-10 cloned from A has data indicated at 20181221.
    4. B performs compaction, and data generated by 20181221 is be removed falsely.

commit 742dc796b28bd3c649298a9dbdbdad445cddc8ae
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Jan 10 18:51:12 2019 +0800

    Fix inconsistency of three replicas belongs to one tablet (#523)
    
    There are A, B, C replicas of one tablet.
    A has 0 - 10 version.
    B has 0 - 5, 6, 7, 9, 10 version.
    1. B has missed versions, so it clones 0 - 10 from A, and remove overlapped versions in its header.
    2. Coincidentally, 6 is a version for delete predicate (delete where day = 20181221).
       When removing overlapped versions, version 6 is removed but delete predicate is not be removed.
    3. Unfortunately, 0-10 cloned from A has data indicated at 20181221.
    4. B performs compaction, and data generated by 20181221 is be removed falsely.

 be/src/olap/olap_header.cpp                        |  42 +++++++++++++++++++++
 be/src/olap/olap_header.h                          |   2 +
 be/src/olap/olap_table.cpp                         |   3 ++
 be/src/olap/olap_table.h                           |  14 +------
 .../user_function_cache/download/1/1.1234.so.tmp   | Bin 0 -> 6343 bytes
 5 files changed, 48 insertions(+), 13 deletions(-)

commit eae755f8335d76af05d9546a7e7ab53cc1fe4fd0
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 10 18:35:03 2019 +0800

    Fix bug that schema change does not set null value correctly (#524)

 be/src/olap/column_reader.cpp | 1 -
 be/src/olap/schema_change.cpp | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 0b50617542c77b56ebef94de5e8de6df23061e3f
Author: LingBin <lingbinlb@gmail.com>
Date:   Thu Jan 10 13:40:28 2019 +0800

    Fix BE core if WHEN expr is null in CASE-WHEN clause (#521)
    
    #518

 fe/src/main/java/org/apache/doris/analysis/CaseExpr.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d372b04e427fb18af5080364f9b02319bb20482b
Author: chenhao <510341142@qq.com>
Date:   Thu Jan 10 12:44:09 2019 +0800

    Revert "Add cpu and io indicates to audit log (#513)" (#520)
    
    This reverts commit 5192e2f010308eefffa5271b0bdc947dfd9168ae.

 be/src/exec/data_sink.h                            |   7 -
 be/src/exec/exchange_node.cpp                      |   4 -
 be/src/exec/exchange_node.h                        |   9 +-
 be/src/runtime/buffer_control_block.cpp            |  10 +-
 be/src/runtime/buffer_control_block.h              |  10 +-
 be/src/runtime/data_stream_mgr.cpp                 |   4 +-
 be/src/runtime/data_stream_mgr.h                   |   3 +-
 be/src/runtime/data_stream_recvr.cc                |   6 -
 be/src/runtime/data_stream_recvr.h                 |   7 -
 be/src/runtime/data_stream_sender.cpp              |  18 +--
 be/src/runtime/exec_node_consumption_provider.h    | 167 ---------------------
 be/src/runtime/plan_fragment_executor.cpp          |   2 -
 be/src/runtime/result_sink.cpp                     |   2 -
 be/src/runtime/runtime_state.h                     |  16 --
 be/src/service/backend_service.cpp                 |  16 +-
 be/src/service/internal_service.cpp                |   2 +-
 .../common/proc/CurrentQueryFragmentProcNode.java  |   4 +-
 .../common/proc/CurrentQueryInfoProvider.java      |  19 +--
 .../common/proc/CurrentQueryStatisticsProcDir.java |   4 +-
 .../java/org/apache/doris/qe/ConnectProcessor.java |  10 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |  21 +--
 .../java/org/apache/doris/qe/ResultReceiver.java   |  14 +-
 fe/src/main/java/org/apache/doris/qe/RowBatch.java |  55 -------
 .../java/org/apache/doris/qe/StmtExecutor.java     |  59 +-------
 .../org/apache/doris/rpc/PFetchDataResult.java     |   2 -
 .../org/apache/doris/rpc/PQueryConsumption.java    |  29 ----
 .../org/apache/doris/qe/ConnectProcessorTest.java  |   4 +-
 gensrc/proto/data.proto                            |   5 -
 gensrc/proto/internal_service.proto                |   3 -
 gensrc/thrift/PaloInternalService.thrift           |   1 -
 30 files changed, 46 insertions(+), 467 deletions(-)

commit 5192e2f010308eefffa5271b0bdc947dfd9168ae
Author: chenhao <510341142@qq.com>
Date:   Wed Jan 9 22:28:20 2019 +0800

    Add cpu and io indicates to audit log (#513)
    
    Record query consumption into fe audit log. Its basic mode of work is as follows, one of instance of parent plan is responsible for accumulating sub plan's consumption and send to it's parent, BE coordinator will get total consumption because it's a single instance.

 be/src/exec/data_sink.h                            |   7 +
 be/src/exec/exchange_node.cpp                      |   4 +
 be/src/exec/exchange_node.h                        |   9 +-
 be/src/runtime/buffer_control_block.cpp            |  10 +-
 be/src/runtime/buffer_control_block.h              |  10 +-
 be/src/runtime/data_stream_mgr.cpp                 |   4 +-
 be/src/runtime/data_stream_mgr.h                   |   3 +-
 be/src/runtime/data_stream_recvr.cc                |   6 +
 be/src/runtime/data_stream_recvr.h                 |   7 +
 be/src/runtime/data_stream_sender.cpp              |  18 ++-
 be/src/runtime/exec_node_consumption_provider.h    | 167 +++++++++++++++++++++
 be/src/runtime/plan_fragment_executor.cpp          |   2 +
 be/src/runtime/result_sink.cpp                     |   2 +
 be/src/runtime/runtime_state.h                     |  16 ++
 be/src/service/backend_service.cpp                 |  16 +-
 be/src/service/internal_service.cpp                |   2 +-
 .../common/proc/CurrentQueryFragmentProcNode.java  |   4 +-
 .../common/proc/CurrentQueryInfoProvider.java      |  19 ++-
 .../common/proc/CurrentQueryStatisticsProcDir.java |   4 +-
 .../java/org/apache/doris/qe/ConnectProcessor.java |  10 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |  21 ++-
 .../java/org/apache/doris/qe/ResultReceiver.java   |  14 +-
 fe/src/main/java/org/apache/doris/qe/RowBatch.java |  55 +++++++
 .../java/org/apache/doris/qe/StmtExecutor.java     |  59 +++++++-
 .../org/apache/doris/rpc/PFetchDataResult.java     |   2 +
 .../org/apache/doris/rpc/PQueryConsumption.java    |  29 ++++
 .../org/apache/doris/qe/ConnectProcessorTest.java  |   4 +-
 gensrc/proto/data.proto                            |   5 +
 gensrc/proto/internal_service.proto                |   3 +
 gensrc/thrift/PaloInternalService.thrift           |   1 +
 30 files changed, 467 insertions(+), 46 deletions(-)

commit 69f9987abd65fd3aec4443bada155166b04627f1
Author: yiguolei <676222867@qq.com>
Date:   Wed Jan 9 11:14:19 2019 +0800

    EsTable without partition info (#511)

 .../java/org/apache/doris/catalog/EsTable.java     |   1 +
 .../org/apache/doris/external/EsIndexState.java    |  10 +-
 .../org/apache/doris/external/EsStateStore.java    |  10 +-
 .../java/org/apache/doris/planner/EsScanNode.java  |   3 +
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   2 +-
 .../java/org/apache/doris/es/EsStateStoreTest.java |  75 +-
 fe/src/test/resources/data/es/clusterstate4.json   | 747 ++++++++++++++++++++
 fe/src/test/resources/data/es/clusterstate5.json   | 751 +++++++++++++++++++++
 8 files changed, 1590 insertions(+), 9 deletions(-)

commit 92b138121b0f471146c2207fd12300138e7f5b25
Author: chenhao <510341142@qq.com>
Date:   Tue Jan 8 10:59:42 2019 +0800

    Support io and cpu indicates for current query (#497)
    
    Help to locate big query when system overload, by checking consumptions of running parts of current all queries or specified one query. Its basic mode of work is as follows: firstly trigger BE to report RuntimeProfiles, and wait a moment. secondly caculate consumptions with RuntimeProfiles reported by BE. The consumptions supported by it are the cost of running ExecNode in query when call it.

 be/src/exec/analytic_eval_node.cpp                 |   5 +-
 be/src/exec/analytic_eval_node.h                   |   2 +
 be/src/exec/exchange_node.cpp                      |   5 +-
 be/src/exec/exchange_node.h                        |   3 +
 be/src/exec/exec_node.cpp                          |   1 -
 be/src/exec/new_partitioned_aggregation_node.cc    |   5 +-
 be/src/exec/new_partitioned_aggregation_node.h     |   2 +
 be/src/exec/new_partitioned_aggregation_node_ir.cc |   3 +-
 be/src/exec/sort_node.cpp                          |   4 +-
 be/src/exec/sort_node.h                            |   1 +
 be/src/exec/union_node.cpp                         |   4 +-
 be/src/exec/union_node.h                           |   2 +
 be/src/runtime/fragment_mgr.cpp                    |  50 +-
 be/src/runtime/fragment_mgr.h                      |   6 +-
 be/src/runtime/plan_fragment_executor.cpp          |  26 +-
 be/src/runtime/plan_fragment_executor.h            |   5 +
 be/src/service/internal_service.cpp                |  13 +-
 be/src/service/internal_service.h                  |   6 +-
 .../common/proc/CurrentQueryFragmentProcNode.java  | 168 +------
 .../common/proc/CurrentQueryInfoProvider.java      | 525 +++++++++++++++++++++
 .../common/proc/CurrentQueryStatisticsProcDir.java |  22 +-
 .../java/org/apache/doris/common/util/Counter.java |  21 +-
 .../apache/doris/common/util/RuntimeProfile.java   |  27 +-
 .../main/java/org/apache/doris/qe/Coordinator.java |  35 +-
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |   7 +-
 .../org/apache/doris/qe/QueryStatisticsItem.java   |  22 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     |   9 +-
 .../org/apache/doris/rpc/BackendServiceProxy.java  |   7 +-
 .../java/org/apache/doris/rpc/PBackendService.java |   4 +-
 .../org/apache/doris/rpc/PFragmentExecInfo.java    |  33 --
 ...uest.java => PTriggerProfileReportRequest.java} |  17 +-
 ...esult.java => PTriggerProfileReportResult.java} |  10 +-
 .../main/java/org/apache/doris/rpc/PUniqueId.java  |  32 ++
 gensrc/proto/internal_service.proto                |  22 +-
 gensrc/proto/palo_internal_service.proto           |   2 +-
 35 files changed, 769 insertions(+), 337 deletions(-)

commit cbf1f99a4662f8f731f2bd120624ddba744b2e5c
Author: yiguolei <676222867@qq.com>
Date:   Mon Jan 7 14:13:26 2019 +0800

    Fix parse es state failed in unit test (#502)

 fe/src/test/resources/data/es/clusterstate1.json | 6 ++++--
 fe/src/test/resources/data/es/clusterstate2.json | 6 ++++--
 fe/src/test/resources/data/es/clusterstate3.json | 6 ++++--
 3 files changed, 12 insertions(+), 6 deletions(-)

commit 9bfd8d818aa7b9871537ceddf417c208e51eb56e
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sun Jan 6 19:45:04 2019 +0800

    Add md5 property for UDF create statement (#500)

 docs/help/Contents/Data Definition/ddl_stmt.md           |  1 +
 .../org/apache/doris/analysis/CreateFunctionStmt.java    |  6 ++++++
 .../java/org/apache/doris/analysis/DropFunctionStmt.java | 12 ++++++++++++
 .../java/org/apache/doris/analysis/FunctionCallExpr.java | 16 ++++++++++++++--
 4 files changed, 33 insertions(+), 2 deletions(-)

commit 483c5a971e570a2444218f9d9becd5f741f9eb66
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Jan 4 13:49:49 2019 +0800

    Add routine load statement (#456)
    
    1. Add sql parser and sql scanner for routine load stmt such as KW_ROUTINE(routine), KW_PAUSE.
    2. Create routine load statment like
          CREATE ROUTINE LOAD name ON database.table
          (properties of routine load)
          [PROPERTIES (key1=value1, )]
          FROM [KAFKA](type of routine load)
          (properties of this type)
    
          properties of routine load:
              The load property of CreateRoutineLoadStmt is disordered: Both 'LoadColumnsInfo, PartitionNames xxx' and 'PartitionNames, ColumnsInfo xxx' is right.
              [COLUMNS TERMINATED BY separator ]
              [(col1, ...)]
              [SET (k1=f1(xx), k2=f2(xx))]
              WHERE
              [PARTITION (p1, p2)]
    
          type of routine load:
              KAFKA
    
          different type has different properties
          properties of this type:
              k1 = v1
              k2 = v2
    3. Pause/Resume/Stop routine load statment like
          PAUSE/RESUME/STOP ROUTINE LOAD jobName
    4. Ddlexecutor support CreateRoutineLoadStmt, Pause/Resume/StopRoutineLoadStmt
    5. Pause/Stop routine load will clear all of task which belong to job immediately
          The task which has been not committed will be abort.
    6. Resume routine load will change job state to need scheduler
          The RoutineLoadJobScheduler will scheduler it later.
    7. Show routine load statment like
          SHOW ROUTINE LOAD jobName
    8. All of load property can implement LoadProperty such as LoadColumnsInfo, PartitionsNames etc
    9. The sql of LoadColumnsInfo is Columns (c1, c2, c3) set (c1, c2, c3=c1+c2)
    10. Add check of routineLoadName, db.routineLoadName is unique in database when job state is not final state.

 fe/src/main/cup/sql_parser.cup                     | 139 ++++++-
 .../java/org/apache/doris/analysis/CastExpr.java   |   2 +-
 .../org/apache/doris/analysis/ColumnSeparator.java |   7 +-
 .../doris/analysis/CreateRoutineLoadStmt.java      | 337 +++++++++++++++++
 .../org/apache/doris/analysis/LoadColumnsInfo.java | 141 +++++++
 .../org/apache/doris/analysis/PartitionNames.java  |  54 +++
 .../doris/analysis/PauseRoutineLoadStmt.java       |  50 +++
 .../doris/analysis/ResumeRoutineLoadStmt.java      |  49 +++
 .../apache/doris/analysis/ShowRoutineLoadStmt.java |  76 ++++
 .../apache/doris/analysis/StopRoutineLoadStmt.java |  50 +++
 .../java/org/apache/doris/catalog/Catalog.java     |   2 +-
 .../org/apache/doris/load/RoutineLoadDesc.java     |  56 +++
 .../load/routineload/KafkaRoutineLoadJob.java      |  97 ++++-
 .../doris/load/routineload/KafkaTaskInfo.java      |  24 +-
 .../doris/load/routineload/LoadDataSourceType.java |  23 ++
 .../doris/load/routineload/RoutineLoadJob.java     | 407 +++++++++++++++------
 .../doris/load/routineload/RoutineLoadManager.java | 182 ++++++++-
 .../load/routineload/RoutineLoadScheduler.java     |   2 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |   5 +-
 .../load/routineload/RoutineLoadTaskScheduler.java |   2 +-
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  14 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  79 +++-
 .../apache/doris/task/KafkaRoutineLoadTask.java    |  18 +-
 .../org/apache/doris/task/RoutineLoadTask.java     |  36 +-
 fe/src/main/jflex/sql_scanner.flex                 |   4 +
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  66 ++--
 .../load/routineload/RoutineLoadSchedulerTest.java |  37 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  19 +-
 28 files changed, 1738 insertions(+), 240 deletions(-)

commit 968364d4a622abe7282e87fd7869f01a01d63bf2
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Jan 4 12:20:06 2019 +0800

    Build boost with custom GCC (#499)

 thirdparty/build-thirdparty.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 18c9527dc0ec2212a1d520bcb5a416767fab4cfe
Author: lide <mailtolide@sina.com>
Date:   Fri Jan 4 11:43:33 2019 +0800

    Change lzo-master to lzo-2.10 (#498)

 thirdparty/vars.sh | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a51ce0359563e33621fa0fa9be63f1e2f6d3616d
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Jan 3 19:07:27 2019 +0800

    Enhance the usability of Load operation (#490)
    
    1. Add broker load error hub
    A broker load error hub will collect error messages in load process and saves them as a file to the specified remote storage via broker. In case that in broker/min/streaming load process, user may not be able to access the error log file in Backend directly.
    We also add a new header option: 'enable_hub' in streaming load request, and default is false. Because if we enable the broker load error hub, it will significantly slow down the processing speed of streaming load, due to the visit of remote storage via broker. So use can disable the error load hub using this header option, to avoid slowing down the load speed.
    
    2. Show load error logs by using SHOW LOAD WARNINGS stmt
    We also provide a more easy way to get load error logs. We implement 'SHOW LOAD WARNINGS ON 'url'' stmt to show load error logs directly. The 'url' in stmt is provided in 'SHOW  LOAD' stmt.
    eg:
    show load warnings on "http://192.168.1.1:8040/api/_load_error_log?file=__shard_2/error_log_xxx";
    
    3. Support now() function in broker load
    User can mapping a column to now() in broker load stmt, which means this column will be filled with time when the ETL started.
    
    4. Support more types of wildcard in broker load
    Currently, we only support wildcard '*' to match the file names. wildcard like '/path/to/20190[1-4]*' is not support.

 be/src/common/config.h                             |   2 +-
 be/src/exec/csv_scan_node.cpp                      |  11 +-
 be/src/http/download_action.cpp                    |  20 +-
 be/src/runtime/runtime_state.cpp                   |  12 +-
 be/src/util/CMakeLists.txt                         |   1 +
 be/src/util/broker_load_error_hub.cpp              | 104 ++++++++++
 be/src/util/broker_load_error_hub.h                |  88 ++++++++
 be/src/util/load_error_hub.cpp                     |  19 +-
 be/src/util/load_error_hub.h                       |   8 +-
 be/src/util/mysql_load_error_hub.h                 |   2 +-
 docs/help/Contents/Administration/admin_stmt.md    |  47 ++++-
 .../Data Manipulation/manipulation_stmt.md         |   3 +
 docs/help/Contents/Data Manipulation/streaming.md  |  46 +++--
 fe/src/main/cup/sql_parser.cup                     |  17 +-
 .../java/org/apache/doris/alter/SystemHandler.java |   2 +-
 .../doris/analysis/AlterLoadErrorUrlClause.java    |  40 ++--
 .../org/apache/doris/analysis/DataDescription.java |  11 +-
 .../java/org/apache/doris/analysis/LoadStmt.java   |  15 +-
 .../doris/analysis/ShowLoadWarningsStmt.java       |  78 +++++--
 ...rrorProcNode.java => LoadErrorHubProcNode.java} |  23 +--
 .../org/apache/doris/common/proc/ProcService.java  |   2 +-
 .../org/apache/doris/journal/JournalEntity.java    |   2 +-
 .../doris/journal/local/LocalJournalCursor.java    |   2 +-
 .../org/apache/doris/load/BrokerLoadErrorHub.java  | 128 ++++++++++++
 fe/src/main/java/org/apache/doris/load/Load.java   |  85 ++++++--
 .../java/org/apache/doris/load/LoadErrorHub.java   | 225 +++++++--------------
 .../main/java/org/apache/doris/load/LoadJob.java   |   3 +-
 .../org/apache/doris/load/MysqlLoadErrorHub.java   |  29 +--
 .../java/org/apache/doris/persist/EditLog.java     |   4 +-
 .../org/apache/doris/persist/OperationType.java    |   2 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |   4 +
 .../apache/doris/planner/StreamLoadPlanner.java    |  11 +
 .../main/java/org/apache/doris/qe/Coordinator.java |  12 ++
 .../java/org/apache/doris/qe/SessionVariable.java  |   4 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |  57 +++++-
 .../org/apache/doris/system/SystemInfoService.java |  10 +
 .../apache/doris/task/HadoopLoadPendingTask.java   |   5 +-
 .../org/apache/doris/task/LoadPendingTask.java     |   2 +-
 .../org/apache/doris/task/MiniLoadPendingTask.java |  13 +-
 .../doris/transaction/GlobalTransactionMgr.java    |   2 +-
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 .../java/org/apache/doris/es/EsStateStoreTest.java |   3 +
 .../doris/persist/ReplicaPersistInfoTest.java      |   7 +
 .../apache/doris/planner/OlapTableSinkTest.java    |  19 +-
 .../doris/broker/hdfs/FileSystemManager.java       |  42 ++--
 .../doris/broker/hdfs/HDFSBrokerServiceImpl.java   |  51 +++--
 .../java/org/apache/doris/common/WildcardURI.java  |  80 ++++++++
 gensrc/thrift/PaloInternalService.thrift           |  23 ++-
 48 files changed, 1005 insertions(+), 372 deletions(-)

commit 7057db8442df0ffc62523f196570659d3ab267ec
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Thu Jan 3 18:22:08 2019 +0800

    Build libcurl with openssl (#496)

 thirdparty/build-thirdparty.sh | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit d1bdb55302f77ded252c92d2d691f0e63302aedd
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Jan 2 09:51:06 2019 +0800

    Fix bug that schema change on restored table will lose data (#489)
    
    In TabletInvertedIndex calss, The instance of TabletMeta in
    'tabletMetaMap' and 'tabletMetaTable' should be same.
    Otherwise when we change the schema hash info of TabletMeta
    in 'tabletMetaMap', TabletMeta in 'tabletMetaTable' left
    unchanged, which will cause inconsistency of meta.

 fe/src/main/java/org/apache/doris/backup/RestoreJob.java | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit ff7d3e587835cd8c16d6eae9eea552decf8d65d1
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Dec 29 16:22:38 2018 +0800

     Unify the print method of TUniqueId (#487)

 be/src/runtime/data_spliter.cpp                    |  3 +-
 be/src/runtime/data_stream_mgr.cpp                 |  4 +--
 be/src/runtime/etl_job_mgr.cpp                     |  2 +-
 be/src/runtime/export_task_mgr.cpp                 |  1 +
 be/src/runtime/initial_reservations.cc             |  2 +-
 be/src/runtime/plan_fragment_executor.cpp          |  8 ++---
 be/src/runtime/result_sink.cpp                     |  4 +--
 be/src/runtime/runtime_state.cpp                   |  2 +-
 be/src/runtime/tmp_file_mgr.cc                     |  2 +-
 be/src/service/internal_service.cpp                |  5 ++--
 be/src/util/debug_util.cpp                         | 35 ----------------------
 be/src/util/debug_util.h                           |  7 -----
 be/src/util/uid_util.cpp                           | 35 ++++++++++++++++++++++
 be/src/util/uid_util.h                             | 13 ++++++--
 be/test/util/uid_util_test.cpp                     |  8 ++---
 .../main/java/org/apache/doris/qe/Coordinator.java |  6 ++--
 .../java/org/apache/doris/qe/QeProcessorImpl.java  | 16 ++++++----
 17 files changed, 83 insertions(+), 70 deletions(-)

commit 7380483394bc96976164650d5dcf0ccc063eae06
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Sat Dec 29 09:13:04 2018 +0800

    Support UDF (#468)
    
    Now, user can create UDF with CREATE FUNCTION statement. Doris only
    support UDF in this version, it will support UDAF/UDTF later.

 be/CMakeLists.txt                                  |   2 +-
 be/src/exprs/agg_fn.cc                             |  17 +-
 be/src/exprs/agg_fn_evaluator.cpp                  |  22 +-
 be/src/exprs/scalar_fn_call.cpp                    |   8 +-
 be/src/udf_samples/CMakeLists.txt                  |  24 +++
 be/src/udf_samples/udf_sample.cpp                  |  29 +++
 be/src/udf_samples/udf_sample.h                    |  26 +++
 docs/help/Contents/Data Definition/ddl_stmt.md     |  39 ++++
 fe/src/main/cup/sql_parser.cup                     |  66 ++++--
 .../apache/doris/analysis/CreateFunctionStmt.java  | 153 ++++++++++----
 .../apache/doris/analysis/DropFunctionStmt.java    |  24 ++-
 .../org/apache/doris/analysis/FunctionArgsDef.java |  74 +++++++
 .../apache/doris/analysis/FunctionCallExpr.java    |  17 +-
 .../org/apache/doris/analysis/FunctionName.java    |  29 +++
 .../apache/doris/catalog/AggregateFunction.java    |  70 ++++++-
 .../java/org/apache/doris/catalog/Catalog.java     |  39 ++++
 .../java/org/apache/doris/catalog/Database.java    | 123 ++++++++++-
 .../java/org/apache/doris/catalog/Function.java    | 226 +++++++++++++++++++--
 .../apache/doris/catalog/FunctionSearchDesc.java   | 114 +++++++++++
 .../org/apache/doris/catalog/ScalarFunction.java   |  64 +++++-
 fe/src/main/java/org/apache/doris/catalog/Uda.java | 122 -----------
 fe/src/main/java/org/apache/doris/catalog/Udf.java |  65 ------
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   2 +
 .../java/org/apache/doris/common/io/IOUtils.java   |  17 ++
 .../org/apache/doris/journal/JournalEntity.java    |  12 ++
 .../java/org/apache/doris/persist/EditLog.java     |  20 ++
 .../org/apache/doris/persist/OperationType.java    |   4 +
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   6 +
 .../java/org/apache/doris/qe/StmtExecutor.java     |   2 +-
 fe/src/main/jflex/sql_scanner.flex                 |   4 +
 31 files changed, 1122 insertions(+), 300 deletions(-)

commit 3faf443f5271f626f7787bf3d2eb23eb139c5f5c
Author: yuanfeng0905 <yuanfeng0905@gmail.com>
Date:   Sat Dec 29 09:08:57 2018 +0800

    Fixed: prometheus2.6 metrics (#478)

 .../main/java/org/apache/doris/metric/PrometheusMetricVisitor.java   | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 46c70a16b1e8c07f842751ac86354ac8b043b957
Author: Mingyu Chen <morningman@163.com>
Date:   Fri Dec 28 19:42:09 2018 +0800

    Add more detail logs to debug streaming load (#484)
    
    * Add more detail logs to debug streaming load
    
    * fix bugs
    
    * fix bugs

 be/src/http/action/stream_load.cpp                 | 51 ++++++++++++++--------
 .../main/java/org/apache/doris/catalog/Tablet.java |  9 ++++
 .../apache/doris/catalog/TabletInvertedIndex.java  | 15 ++++---
 .../org/apache/doris/http/rest/LoadAction.java     |  3 +-
 .../org/apache/doris/master/ReportHandler.java     | 25 ++++++-----
 .../org/apache/doris/planner/OlapTableSink.java    |  9 +++-
 .../apache/doris/planner/StreamLoadPlanner.java    |  3 +-
 .../apache/doris/service/FrontendServiceImpl.java  |  4 +-
 .../doris/transaction/GlobalTransactionMgr.java    |  2 +-
 9 files changed, 80 insertions(+), 41 deletions(-)

commit d471ee5f379634d3a6299bde903cabd2c10b3603
Author: lide <mailtolide@sina.com>
Date:   Fri Dec 28 17:33:45 2018 +0800

    Add md5sum check for third party packages (#480)

 thirdparty/download-thirdparty.sh | 52 ++++++++++++++++++++++++++++++++-------
 thirdparty/vars.sh                | 26 ++++++++++++++++++++
 2 files changed, 69 insertions(+), 9 deletions(-)

commit f88970a45465369ff4633cc92336697edf40f153
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Thu Dec 27 19:50:08 2018 +0800

    Fix get_tablet_stat data race and base_compaction deletion check bug. (#477)
    
    1. It is wrong to use _tablet_map_lock to protect critical region in get_tablet_stat function.
       Add a _tablet_stat_mutex to protect critical region.
    2. When base_compaction finished, it checks where there is version missed in tablet.
       If answer is yes, BE will be cored dump. Now check tablet's integrity in advance.

 be/src/olap/base_compaction.cpp | 25 +++++++------------------
 be/src/olap/olap_engine.cpp     | 19 +++++++++++--------
 be/src/olap/olap_engine.h       |  1 +
 3 files changed, 19 insertions(+), 26 deletions(-)

commit 4655b9658010bf722fddf33e9847fd6fc7338578
Author: chenhao <510341142@qq.com>
Date:   Thu Dec 27 19:43:15 2018 +0800

    Fix bug that generating incorrect wSymbol in InPredicate (#472)

 fe/src/main/java/org/apache/doris/analysis/InPredicate.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 7b22f82957c53b57b1eb99f949988e6b6af286d8
Author: lide <mailtolide@sina.com>
Date:   Thu Dec 27 17:39:15 2018 +0800

    Adjust format of README.md (#476)

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit 99c912d884d69c0ae79c7553b372af42235c460b
Author: lide <mailtolide@sina.com>
Date:   Thu Dec 27 16:49:53 2018 +0800

    Complete license and build script (#473)
    
    1. Complete license and build script
    2. Complete build script
    3. Complete the READEME.md

 LICENSE.txt | 12 ++++++++++--
 README.md   | 22 +++++-----------------
 env.sh      |  8 ++++++++
 3 files changed, 23 insertions(+), 19 deletions(-)

commit c74c915441d6863780f774810c7738b659198dd1
Author: lide <mailtolide@sina.com>
Date:   Thu Dec 27 13:53:27 2018 +0800

    Fix license issue of gutil (#471)

 LICENSE.txt                                        |   69 +-
 be/src/gutil/CMakeLists.txt                        |   15 +-
 be/src/gutil/arm_instruction_set_select.h          |   52 -
 be/src/gutil/atomic_refcount.h                     |  195 --
 be/src/gutil/atomicops-internals-macosx.h          |  406 ---
 be/src/gutil/atomicops-internals-powerpc.h         |  304 ---
 be/src/gutil/atomicops-internals-x86.cc            |    1 -
 be/src/gutil/atomicops.h                           |   12 -
 .../auxiliary/atomicops-internals-arm-generic.h    |  230 --
 .../auxiliary/atomicops-internals-arm-v6plus.h     |  378 ---
 .../gutil/auxiliary/atomicops-internals-windows.h  |  508 ----
 be/src/gutil/bind.h                                |  539 ----
 be/src/gutil/bind.h.pump                           |  153 --
 be/src/gutil/bind_helpers.h                        |  551 ----
 be/src/gutil/bind_internal.h                       | 2695 --------------------
 be/src/gutil/bind_internal.h.pump                  |  464 ----
 be/src/gutil/bits.h                                |    1 -
 be/src/gutil/callback.h                            |  765 ------
 be/src/gutil/callback.h.pump                       |  436 ----
 be/src/gutil/callback_forward.h                    |   17 -
 be/src/gutil/callback_internal.cc                  |   36 -
 be/src/gutil/callback_internal.h                   |  177 --
 be/src/gutil/cpu.cc                                |  289 ---
 be/src/gutil/cpu.h                                 |   90 -
 be/src/gutil/cycleclock-inl.h                      |  203 --
 be/src/gutil/endian.h                              |  213 +-
 be/src/gutil/fixedarray.h                          |  181 --
 be/src/gutil/hash/city.cc                          |    1 -
 be/src/gutil/hash/hash.cc                          |    1 -
 be/src/gutil/hash/jenkins.cc                       |    1 -
 be/src/gutil/logging-inl.h                         |   53 -
 be/src/gutil/manual_constructor.h                  |  250 --
 be/src/gutil/map-util.h                            |  858 -------
 be/src/gutil/mathlimits.cc                         |  123 -
 be/src/gutil/mathlimits.h                          |  256 --
 be/src/gutil/once.cc                               |   23 +-
 be/src/gutil/paranoid.h                            |   92 -
 be/src/gutil/raw_scoped_refptr_mismatch_checker.h  |   63 -
 be/src/gutil/ref_counted.cc                        |   95 -
 be/src/gutil/ref_counted.h                         |  354 ---
 be/src/gutil/ref_counted_memory.cc                 |   99 -
 be/src/gutil/ref_counted_memory.h                  |  150 --
 be/src/gutil/singleton.h                           |  153 --
 be/src/gutil/spinlock.cc                           |  187 --
 be/src/gutil/spinlock.h                            |  151 --
 be/src/gutil/stringprintf.cc                       |    1 -
 be/src/gutil/strings/escaping.h                    |    1 -
 be/src/gutil/strings/human_readable.cc             |  428 ----
 be/src/gutil/strings/human_readable.h              |  162 --
 be/src/gutil/strings/join.cc                       |    1 -
 be/src/gutil/strings/numbers.cc                    |    1 -
 be/src/gutil/strings/serialize.cc                  |  328 ---
 be/src/gutil/strings/serialize.h                   |  343 ---
 be/src/gutil/strings/split.cc                      | 1088 --------
 be/src/gutil/strings/split.h                       | 1209 ---------
 be/src/gutil/strings/split_internal.h              |  413 ---
 be/src/gutil/strings/strcat.cc                     |    1 -
 be/src/gutil/strings/string_util-test.cc           |   58 -
 be/src/gutil/strings/stringpiece.cc                |    1 -
 be/src/gutil/strings/strip.cc                      |  384 ---
 be/src/gutil/strings/strip.h                       |  272 --
 be/src/gutil/strings/substitute.cc                 |    1 -
 be/src/gutil/strings/util.cc                       |    1 -
 be/src/gutil/synchronization_profiling.h           |   51 -
 be/src/gutil/sysinfo.cc                            |  412 ---
 be/src/gutil/sysinfo.h                             |   55 -
 be/src/gutil/thread_annotations.h                  |  236 --
 be/src/gutil/threading/thread_collision_warner.cc  |   82 -
 be/src/gutil/threading/thread_collision_warner.h   |  248 --
 be/src/gutil/walltime.cc                           |  209 --
 be/src/gutil/walltime.h                            |  186 --
 be/src/runtime/bufferpool/buffer_pool.h            |    2 +-
 be/src/runtime/mem_pool.h                          |    2 +-
 be/src/runtime/string_search.hpp                   |   47 +-
 be/src/service/brpc.h                              |    2 -
 be/src/util/asan.h                                 |   56 +
 be/src/util/time.cpp                               |    1 +
 be/src/util/time.h                                 |   16 +-
 78 files changed, 166 insertions(+), 18022 deletions(-)

commit 7d7934112f91147496840c733b02ced13cf74c32
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Dec 25 20:07:03 2018 +0800

    Fix fe ut (#469)
    
    1. Fix StreamLoadScanNodeTest
    2. Revert the fix of decimal value with scientific notation, this still need to fix it later

 be/src/runtime/decimal_value.cpp                   | 38 +++++------
 .../doris/planner/StreamLoadScanNodeTest.java      | 74 ++++++++++++++++++++++
 2 files changed, 93 insertions(+), 19 deletions(-)

commit d2cd8cf1805579d2b72a51dd24819ff5e86cf854
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Dec 25 16:57:41 2018 +0800

    Make column's name be case insensitive in load stmt (#464)
    
    1. Make column's name be case insensitive in broker load
    2. Make column name in stream load be case insensitive too

 .../org/apache/doris/load/BrokerFileGroup.java     | 37 +++++++++++-----------
 .../org/apache/doris/planner/BrokerScanNode.java   | 18 +++++++----
 .../apache/doris/planner/StreamLoadScanNode.java   | 10 +++---
 3 files changed, 37 insertions(+), 28 deletions(-)

commit 053bf624602eb7a5acfe167e22c917cba93aff40
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Tue Dec 25 16:10:01 2018 +0800

    Change WriteLock to ReadLock when get_tablet_stat (#466)

 be/src/olap/olap_engine.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b037466d56f9ad222b0d4572d634e859058dde87
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Dec 24 16:55:39 2018 +0800

    Get rid of choosing one tablet by compaction (#433)
    
    1. Get rid of choosing one tablet by compaction.
    2. Change PREFER_READER to PREFER_WRITING from _tablet_map_lock.
    3. Change license of murmur_hash

 be/src/olap/merger.cpp       |  2 +-
 be/src/olap/olap_engine.cpp  |  4 ++++
 be/src/olap/utils.cpp        |  6 +++---
 be/src/util/murmur_hash3.cpp | 24 ++++++++----------------
 be/src/util/murmur_hash3.h   | 19 +++----------------
 5 files changed, 19 insertions(+), 36 deletions(-)

commit 5b1e3d3f409d840224af2589c9b2b91b056c0631
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 24 16:49:16 2018 +0800

    Optimize backup & restore process (#460)
    
    1. Print broker address for debug.
    2. Do not letting backup job cancelled if it already in state UPLOAD_INFO.
    3. Cancel task on Backends when job is cancelled.
    4. Show detail progress of backup and restore job.
    5. Make 'show snapshot' result more readable.
    6. Change upload and download thread num of backup and restore in Backend to 1.

 be/src/agent/task_worker_pool.cpp                  |  16 +--
 be/src/common/config.h                             |   4 +-
 be/src/runtime/exec_env.h                          |   3 -
 be/src/runtime/exec_env_init.cpp                   |   3 -
 be/src/runtime/runtime_state.cpp                   |   1 +
 be/src/runtime/runtime_state.h                     |   9 +-
 be/src/runtime/snapshot_loader.cpp                 | 112 ++++++++++++++--
 be/src/runtime/snapshot_loader.h                   |  12 +-
 be/test/runtime/snapshot_loader_test.cpp           |   2 +-
 docs/help/Contents/Data Definition/ddl_stmt.md     |  12 +-
 .../org/apache/doris/analysis/ShowBackupStmt.java  |   7 +-
 .../org/apache/doris/analysis/ShowRestoreStmt.java |   9 +-
 .../java/org/apache/doris/backup/AbstractJob.java  |   4 +
 .../org/apache/doris/backup/BackupHandler.java     |  20 +++
 .../java/org/apache/doris/backup/BackupJob.java    |  17 ++-
 .../org/apache/doris/backup/BackupJobInfo.java     |  65 ++++++----
 .../java/org/apache/doris/backup/BlobStorage.java  | 142 +++++++++++++++------
 .../java/org/apache/doris/backup/Repository.java   |  10 +-
 .../java/org/apache/doris/backup/RestoreJob.java   | 103 +++++++++++----
 .../java/org/apache/doris/catalog/Catalog.java     |   4 +
 .../main/java/org/apache/doris/catalog/Column.java |   6 +-
 .../main/java/org/apache/doris/common/Config.java  |   1 -
 .../java/org/apache/doris/common/io/DeepCopy.java  |   9 ++
 .../doris/common/proc/FrontendsProcNode.java       |   9 +-
 .../org/apache/doris/common/util/BrokerUtil.java   |   4 +
 .../main/java/org/apache/doris/qe/QeService.java   |  16 ---
 .../apache/doris/service/FrontendServiceImpl.java  |  12 +-
 .../org/apache/doris/system/BrokerHbResponse.java  |   2 +-
 .../org/apache/doris/backup/RepositoryTest.java    |   3 +
 .../org/apache/doris/common/GenericPoolTest.java   |  47 +++----
 .../org/apache/doris/system/HeartbeatMgrTest.java  |   2 +
 .../doris/broker/hdfs/FileSystemManager.java       |  23 +++-
 gensrc/thrift/FrontendService.thrift               |   8 ++
 33 files changed, 507 insertions(+), 190 deletions(-)

commit 945aaf892370bd2b45736729f23ffa1a9600e2e7
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Dec 24 14:34:31 2018 +0800

    Fix core when release UDF cache entry (#462)

 be/src/exprs/expr.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1db2899343afcc45f5eba79bb7da5daa50f6fbe
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Mon Dec 24 10:26:03 2018 +0800

    Fix compile error (#461)

 be/src/util/file_utils.cpp | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 90d71508ff7c2eeba1af8718ecea76bf66371bfa
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Dec 21 22:07:21 2018 +0800

    Add UserFunctionCache to cache UDF's library (#453)
    
    * Add UserFunctionCache to cache UDF's library
    
    This patch replace LibCache with UserFunctionCache. LibCache use HDFS
    URL to identify a UDF's Library, and when BE process restart all of
    downloaded library should be loaded another time. We use function id
    corresponding to a library, and when process restart, all downloaded
    libraries can be loaded without another downloading.
    
    * update

 be/src/common/config.h                             |   1 +
 be/src/common/daemon.cpp                           |   4 +-
 be/src/exprs/agg_fn.cc                             |  37 +-
 be/src/exprs/agg_fn_evaluator.cpp                  |  35 +-
 be/src/exprs/arithmetic_expr.h                     |   1 +
 be/src/exprs/binary_predicate.h                    |   3 +
 be/src/exprs/case_expr.h                           |   1 +
 be/src/exprs/cast_expr.h                           |   1 +
 be/src/exprs/compound_predicate.h                  |   2 +
 be/src/exprs/conditional_functions.h               |   1 +
 be/src/exprs/expr.cpp                              |  15 +-
 be/src/exprs/expr.h                                |   4 +-
 be/src/exprs/info_func.h                           |   1 +
 be/src/exprs/literal.h                             |   1 +
 be/src/exprs/new_agg_fn_evaluator.cc               |   1 -
 be/src/exprs/new_agg_fn_evaluator.h                |   1 -
 be/src/exprs/null_literal.h                        |   1 +
 be/src/exprs/scalar_fn_call.cpp                    |  24 +-
 be/src/exprs/scalar_fn_call.h                      |   1 +
 be/src/exprs/slot_ref.h                            |   1 +
 be/src/exprs/tuple_is_null_predicate.h             |   1 +
 be/src/http/http_client.cpp                        |   7 +-
 be/src/runtime/CMakeLists.txt                      |   2 +-
 be/src/runtime/lib_cache.cpp                       | 437 ---------------------
 be/src/runtime/lib_cache.h                         | 189 ---------
 be/src/runtime/runtime_state.cpp                   |  24 ++
 be/src/runtime/runtime_state.h                     |   5 +
 be/src/runtime/user_function_cache.cpp             | 370 +++++++++++++++++
 be/src/runtime/user_function_cache.h               |  93 +++++
 be/src/util/file_utils.cpp                         |  41 +-
 be/src/util/file_utils.h                           |   4 +
 be/test/exec/broker_scan_node_test.cpp             |   4 +-
 be/test/exec/broker_scanner_test.cpp               |   4 +-
 be/test/runtime/CMakeLists.txt                     |   1 +
 .../test_data/user_function_cache/lib/my_add.cc    |   4 +
 be/test/runtime/user_function_cache_test.cpp       | 231 +++++++++++
 gensrc/thrift/Types.thrift                         |   1 +
 run-ut.sh                                          |   3 +-
 38 files changed, 858 insertions(+), 699 deletions(-)

commit 0341ffde672a298d3341f513606199aa57c68b6a
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Dec 19 12:29:12 2018 +0800

    Revert commit 'Add log to detect empty load file' (#447)
    
    Looks like we still need to send push task without file
    to Backend, or load job will fail.
    Fix it later.

 be/src/agent/pusher.cpp                            |  1 -
 be/src/agent/task_worker_pool.cpp                  | 51 +++++++++-------------
 .../java/org/apache/doris/load/LoadChecker.java    |  5 ---
 3 files changed, 21 insertions(+), 36 deletions(-)

commit 5a6e5cfd074cc9fda8848ea0249423a6e3098bbc
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Dec 18 12:44:36 2018 +0800

    Add log to detect empty load file (#445)
    
    We find that a load file may not be generated for rollup tablet,
    add a log to observe.

 be/src/agent/pusher.cpp                            |  1 +
 be/src/agent/task_worker_pool.cpp                  | 51 +++++++++++++---------
 .../java/org/apache/doris/load/LoadChecker.java    |  5 +++
 .../java/org/apache/doris/task/LoadEtlTask.java    | 27 +++++-------
 4 files changed, 48 insertions(+), 36 deletions(-)

commit b9201ece0b99f216cb0e61ff37893865223d9fb4
Author: yiguolei <676222867@qq.com>
Date:   Tue Dec 18 11:28:42 2018 +0800

    Parse thrift port from cluster state (#443)

 fe/src/main/java/org/apache/doris/catalog/Catalog.java         | 4 ++--
 fe/src/main/java/org/apache/doris/catalog/EsTable.java         | 2 +-
 fe/src/main/java/org/apache/doris/external/EsShardRouting.java | 5 +++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit e99468c387c925a7bc0541c838dabc2c9c545979
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Tue Dec 18 09:55:11 2018 +0800

    Add HttpClient class (#441)
    
    Replace FileDownloader with HttpClient, this patch change clone_copy and
    pusher's download.

 be/CMakeLists.txt                      |   1 +
 be/src/agent/CMakeLists.txt            |   1 -
 be/src/agent/file_downloader.cpp       | 439 ---------------------------------
 be/src/agent/file_downloader.h         |  83 -------
 be/src/agent/pusher.cpp                | 192 +++++---------
 be/src/agent/pusher.h                  |   8 +-
 be/src/agent/task_worker_pool.cpp      | 224 +++++------------
 be/src/agent/task_worker_pool.h        |   1 -
 be/src/http/CMakeLists.txt             |   1 +
 be/src/http/http_client.cpp            | 204 +++++++++++++++
 be/src/http/http_client.h              | 116 +++++++++
 be/src/http/http_request.cpp           |   4 +-
 be/src/http/http_request.h             |   2 -
 be/src/http/utils.cpp                  |   8 +
 be/src/http/utils.h                    |   1 +
 be/src/olap/olap_engine.cpp            |   1 -
 be/test/agent/CMakeLists.txt           |   3 +-
 be/test/agent/file_downloader_test.cpp | 130 ----------
 be/test/agent/mock_file_downloader.h   |  34 ---
 be/test/http/CMakeLists.txt            |   1 +
 be/test/http/http_client_test.cpp      | 122 +++++++++
 be/test/http/http_utils_test.cpp       |  23 +-
 be/test/http/metrics_action_test.cpp   |  16 +-
 be/test/http/stream_load_test.cpp      |  25 +-
 run-ut.sh                              |   3 +-
 25 files changed, 641 insertions(+), 1002 deletions(-)

commit e177c2378785a442a4847fe32a1e4f8437e562ab
Author: chenhao <510341142@qq.com>
Date:   Mon Dec 17 21:05:57 2018 +0800

    Update the increased frequency of priority for remaining tasks in BlockingPriorityQueue (#434)

 be/src/common/config.h                  | 3 +++
 be/src/util/blocking_priority_queue.hpp | 3 ++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit dc4cbab11ef73ef1dccc649b4df1ac404f76b01a
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 17 21:04:18 2018 +0800

    Report error when loading decimal value with scientific notation (#428)
    
    Currently we do not support scientific notation of decimal value.

 be/src/runtime/decimal_value.cpp                   | 39 +++++++++++-----------
 docs/help/Contents/Data Definition/ddl_stmt.md     |  3 ++
 .../Data Manipulation/manipulation_stmt.md         |  1 +
 3 files changed, 24 insertions(+), 19 deletions(-)

commit d291068b37e5e01a81ef022f94b43ad07e66e3ce
Author: kangkaisen <kangkaisen@163.com>
Date:   Mon Dec 17 19:02:49 2018 +0800

    Fix memory_copy core dump in aggregate (#440)

 be/src/olap/aggregate_func.h | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7f014bdb11601dee63647ef85124c311437bc961
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 17 18:46:27 2018 +0800

    Check meta context when update partition version (#438)
    
    Partition.updateVisibleVersionAndVersionHash() is the only method that
    may call Catalog.getCurrentCatalogJournalVersion() in a non-replay thread.
    
    So we have to check whether MetaContext is null. If MetaContext is null, which
    means this is a non-replay thread, and we do not need call Catalog.getCurrentCatalogJournalVersion().
    
    Also modify the load logic to make delete job done more quickly.

 .../java/org/apache/doris/catalog/Partition.java   | 26 +++++++++--------
 fe/src/main/java/org/apache/doris/load/Load.java   | 21 ++++++++------
 .../java/org/apache/doris/load/LoadChecker.java    | 33 +++++++++++-----------
 .../apache/doris/transaction/TransactionState.java | 25 +++++++++-------
 4 files changed, 58 insertions(+), 47 deletions(-)

commit 45e42bd003be34658ddb908e566d751a1acdc524
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 17 10:05:16 2018 +0800

    Redesign the access to meta version (#436)
    
    Because the meta version is only be used in catalog saving and loading.
    So currently this version is a field of Catalog class. And we can get this
    version only by calling Catalog.getCurrentCatalogJournalVersion().
    
    But in restore process, we need to read the meta data which is saved with
    a specified meta version. So we need a flexible way to read a meta data
    using a specified meta version, not only the version from Catalog.
    
    So we create a new class called MetaContext. Currently it only has one field,
    'journalVersion', to save the current journal version. And it is a
    thread local variable, so that we can create a MetaContext anywhere we want,
    and setting the 'journalVersion' which we want to use for reading meta.
    
    Currently, there are 4 threads which is related to meta data saving and loading.
    
    The Frontend starting thread, which will call Catalog.initialize() to load the image.
    the Frontend state listener thread, which will listen the state changing, and call
    transferToMaster() or transferToNonMaster().
    Edit log replayed thread, which is created when calling transferToNonMaster().
    It will replay edit log
    Checkpoint thread, which is created when calling transferToMaster(). It will do
    the checkpoint periodically.
    Notice that we get the 'current meta version' only when 'READING' the meta (not WRITING).
    So we only need to take care of all 'READING' threads.
    We create MetaContext thread local variable for these 4 threads, and thread 2,3,4's
    meta context inherit from thread 1's meta context. Because thread 1 will load the origin
    image file and get the very first meta version.
    
    And we leave the Catalog.getCurrentCatalogJournalVersion()'s name unchanged, just
    change its content, because we don't want change a lot codes this time.
    
    On the other hand, we add the current meta version in backup job info file when doing
    backup job. So that when restoring from a backup snapshot, we can know which meta
    version we should use for read the meta.
    And also , we add a new property "meta_version" for Restore stmt, so that we can specify
    the meta version used for reading backup meta. It is for those old backup snapshots
    which do not has meta version saving in backup job info file.

 docs/help/Contents/Data Definition/ddl_stmt.md     |  1 +
 .../org/apache/doris/analysis/RestoreStmt.java     | 18 ++++++++
 .../org/apache/doris/backup/BackupHandler.java     |  4 +-
 .../java/org/apache/doris/backup/BackupJob.java    |  8 ++--
 .../org/apache/doris/backup/BackupJobInfo.java     | 15 ++++++
 .../java/org/apache/doris/backup/BackupMeta.java   |  8 +++-
 .../java/org/apache/doris/backup/Repository.java   |  4 +-
 .../java/org/apache/doris/backup/RestoreJob.java   | 19 +++++++-
 .../java/org/apache/doris/catalog/Catalog.java     | 49 +++++++++-----------
 .../java/org/apache/doris/common/util/Daemon.java  | 18 +++++++-
 .../org/apache/doris/journal/bdbje/BDBTool.java    |  5 +-
 .../java/org/apache/doris/master/Checkpoint.java   |  4 --
 .../java/org/apache/doris/meta/MetaContext.java    | 53 ++++++++++++++++++++++
 .../java/org/apache/doris/persist/EditLog.java     |  7 +--
 .../java/org/apache/doris/alter/RollupJobTest.java |  8 +++-
 .../apache/doris/alter/SchemaChangeJobTest.java    | 45 ++++++++++--------
 .../org/apache/doris/backup/BackupJobTest.java     |  2 +-
 .../org/apache/doris/backup/RestoreJobTest.java    |  4 +-
 .../java/org/apache/doris/catalog/CatalogTest.java |  7 +--
 .../java/org/apache/doris/catalog/FakeCatalog.java | 10 ++--
 .../java/org/apache/doris/catalog/TabletTest.java  |  2 -
 .../java/org/apache/doris/es/EsStateStoreTest.java | 35 ++++++++------
 .../transaction/GlobalTransactionMgrTest.java      |  9 +++-
 23 files changed, 235 insertions(+), 100 deletions(-)

commit 0bedd336b5dd3af1a275475de18e76886bc8ce2b
Author: kangkaisen <kangkaisen@163.com>
Date:   Fri Dec 14 20:25:25 2018 +0800

    Support add new key column for LinkedSchemaChange (#432)
    
    * Support add key column for LinkedSchemaChange
    
    * Move ColumnMapping to single file

 be/src/olap/column_mapping.h  | 37 +++++++++++++++++++++++++++++++++++++
 be/src/olap/schema_change.cpp | 15 ++++++++++-----
 be/src/olap/schema_change.h   | 19 +++++++------------
 be/src/olap/segment_group.cpp | 32 +++++++++++++++++++++++---------
 be/src/olap/segment_group.h   |  6 +++++-
 5 files changed, 82 insertions(+), 27 deletions(-)

commit 74cc5c5404cb5a572fd0f1a4c852ad411d4f0df1
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Dec 13 12:35:19 2018 +0800

    Write summary line in load error file anyway (#425)
    
    Summary line should be wrote in spite of the limit error number

 be/src/exec/csv_scan_node.cpp    | 4 ++--
 be/src/runtime/runtime_state.cpp | 7 ++++---
 be/src/runtime/runtime_state.h   | 5 +++--
 3 files changed, 9 insertions(+), 7 deletions(-)

commit 850150896a78fa8bc3b8a2fe5d70114233df14ea
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Dec 13 11:23:32 2018 +0800

    Fix bug that load error log is empty sometimes (#424)
    
    _num_print_error_rows is not initialized

 be/src/runtime/runtime_state.cpp | 30 +++++-------------------------
 be/src/runtime/runtime_state.h   |  3 ---
 2 files changed, 5 insertions(+), 28 deletions(-)

commit 371e3d18ca1df0f9b587a5566300488d2256d7d7
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Dec 12 20:44:32 2018 +0800

    Fix base compaction bug. (#421)
    
    Base compaction may choose tablet which has missed versions now.
    After compaction, it will failed to check tablet integrity by versions and cored dump.
    Ignore this tablet when find tablet to base_compaction.

 be/src/olap/olap_engine.cpp | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit e2bb86cf78758b6e036816adf597f0e89c86c15d
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Wed Dec 12 20:06:35 2018 +0800

    Add Md5Digest to util (#420)

 be/src/exprs/encryption_functions.cpp | 41 +++++++-----------------------
 be/src/util/CMakeLists.txt            |  1 +
 be/src/util/md5.cpp                   | 45 ++++++++++++++++++++++++++++++++
 be/src/util/md5.h                     | 41 ++++++++++++++++++++++++++++++
 be/test/util/CMakeLists.txt           |  1 +
 be/test/util/md5_test.cpp             | 48 +++++++++++++++++++++++++++++++++++
 6 files changed, 145 insertions(+), 32 deletions(-)

commit 842e943f56cc93092dc5f9a9bb2732e022c9f3f2
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Wed Dec 12 11:30:06 2018 +0800

    Fix compaction and ingestion core (#417)
    
    Error occurs when reading data by compaction and ingestion.
    Under the circumstance, the two operation should stop and return error.

 be/src/olap/merger.cpp       | 5 +++++
 be/src/olap/push_handler.cpp | 5 +++++
 2 files changed, 10 insertions(+)

commit 548da0546ac719834c48cdfb92d1b9966cde2421
Author: lide <mailtolide@sina.com>
Date:   Tue Dec 11 17:46:13 2018 +0800

    Fix compile error in run-fe-ut.sh (#415)

 README.md                                                           | 6 +++---
 fe/src/test/java/org/apache/doris/analysis/CancelAlterStmtTest.java | 2 +-
 fe/src/test/java/org/apache/doris/analysis/DescribeStmtTest.java    | 4 ++--
 fe/src/test/java/org/apache/doris/analysis/ShowAlterStmtTest.java   | 4 ++--
 fe/src/test/java/org/apache/doris/analysis/ShowLoadStmtTest.java    | 4 ++--
 fe/src/test/java/org/apache/doris/catalog/BackendTest.java          | 2 +-
 fe/src/test/java/org/apache/doris/catalog/CatalogTest.java          | 2 +-
 fe/src/test/java/org/apache/doris/catalog/ColumnTest.java           | 2 +-
 fe/src/test/java/org/apache/doris/catalog/ColumnTypeTest.java       | 2 +-
 fe/src/test/java/org/apache/doris/catalog/CreateTableTest.java      | 2 +-
 fe/src/test/java/org/apache/doris/catalog/DatabaseTest.java         | 2 +-
 .../test/java/org/apache/doris/catalog/MaterializedIndexTest.java   | 2 +-
 fe/src/test/java/org/apache/doris/catalog/MysqlTableTest.java       | 2 +-
 fe/src/test/java/org/apache/doris/catalog/TableTest.java            | 2 +-
 fe/src/test/java/org/apache/doris/catalog/TabletTest.java           | 2 +-
 fe/src/test/java/org/apache/doris/catalog/UserPropertyTest.java     | 2 ++
 fe/src/test/java/org/apache/doris/clone/CloneTest.java              | 2 +-
 .../test/java/org/apache/doris/cluster/SystemInfoServiceTest.java   | 2 +-
 .../test/java/org/apache/doris/common/proc/BackendProcNodeTest.java | 2 +-
 .../test/java/org/apache/doris/common/proc/BackendsProcDirTest.java | 2 +-
 fe/src/test/java/org/apache/doris/load/DppConfigTest.java           | 2 ++
 fe/src/test/java/org/apache/doris/load/DppSchedulerTest.java        | 2 ++
 fe/src/test/java/org/apache/doris/load/LoadCheckerTest.java         | 2 ++
 fe/src/test/java/org/apache/doris/load/LoadJobTest.java             | 2 ++
 fe/src/test/java/org/apache/doris/load/TabletLoadInfoTest.java      | 2 ++
 .../test/java/org/apache/doris/mysql/MysqlHandshakePacketTest.java  | 2 ++
 fe/src/test/java/org/apache/doris/mysql/MysqlProtoTest.java         | 4 ++--
 fe/src/test/java/org/apache/doris/persist/CreateTableInfoTest.java  | 2 +-
 fe/src/test/java/org/apache/doris/qe/ConnectSchedulerTest.java      | 4 ++--
 fe/src/test/java/org/apache/doris/qe/MultiLoadMgrTest.java          | 4 ++--
 fe/src/test/java/org/apache/doris/qe/VariableMgrTest.java           | 4 +++-
 run-ut.sh                                                           | 4 ++--
 32 files changed, 50 insertions(+), 34 deletions(-)

commit 81ee15ed2563526f0b4c46687e1e8b3bad43d5c5
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Dec 11 16:00:07 2018 +0800

    Fix compile failure in RLTaskTxnCommitAttachment (#414)

 .../org/apache/doris/load/routineload/RLTaskTxnCommitAttachment.java     | 1 -
 1 file changed, 1 deletion(-)

commit c403c4e999278177a1d395d35b29d6da1852cc87
Author: tangxiaoqing <txqyou@gmail.com>
Date:   Tue Dec 11 15:42:07 2018 +0800

    Add JDK8 in the docker image (#413)

 docker/Dockerfile | 35 ++++++++++++++++++++++++++++++-----
 1 file changed, 30 insertions(+), 5 deletions(-)

commit 8913c2313481d931656012d0163d7b24defcddaa
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Dec 11 13:53:38 2018 +0800

    Fix compile failure in GlobalTransactionMgrTest (#412)

 fe/src/main/java/org/apache/doris/common/FeMetaVersion.java       | 3 +++
 fe/src/main/java/org/apache/doris/load/LoadChecker.java           | 3 ++-
 .../org/apache/doris/transaction/GlobalTransactionMgrTest.java    | 8 ++++----
 3 files changed, 9 insertions(+), 5 deletions(-)

commit fc41842c18cac1aa67e05908480434792e76453a
Author: EmmyMiao87 <522274284@qq.com>
Date:   Tue Dec 11 11:06:25 2018 +0800

    Add a frontend interface for committing RoutineLoadTask (#368)
    
    1. add a needSchedulerTasksQueue in LoadManager: the RoutineLoadTaskScheduler will poll task from this queue and schedule task.
    2. add a frontend interface named rlTaskCommit: commit txn, update offset and renew a task for the same partitions
    3. add extra property in transaction state: in rlTaskCommit, extra property which looks like {"job_id": xxx, "progress": xxx}
    When fe initialize routine load job meta from logs, all of txn state which related to routine load job will be used for initializing progress of job.
    
    Add a TxnStateChangeListener interface for transaction
    1. onCommitted , onAborted, beforeAborted will be called by different type of txn
    2. RoutineLoadJob will update job progress and renew a task when onCommitted callback
    3. Add TxnStateChangeListener into TransactionState
    4. set transactionState to committed will call onCommitted callback if callback is not null
    5. set transactionState to aborted will call beforeAborted and onAborted
    6. beforeAborted in RoutineLoadJob will check if there is related task when TxnStatusChangeReason is TIMEOUT. It will prevent abort when there is a related task by throw TransactionException
    7. Other reason of abort will not prevent abort. The onAborted will be call and job state will be change to paused
    
    Change extra to TxnCommitAttachment in TLoadTxnCommitRequest
    1. The KAFKA source of TTxnSourceType means that this is a routine load task commit. And the TRLTaskTxnCommitAttachment is the commitInfo of this task.
    2. TRLTaskTxnCommitAttachment will be convert to RLTaskTxnCommitAttachment which include progress of this task, task id, numOfErrorData etc.
    
    Add param TxnCommitAttachment into commitTransaction
    1. The TxnCommitAttachment will be updated in commitTransaction

 .../java/org/apache/doris/analysis/InsertStmt.java |  20 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   7 +-
 fe/src/main/java/org/apache/doris/load/Load.java   | 479 +++++++++++----------
 .../apache/doris/load/TxnStateChangeListener.java  |  50 +++
 .../doris/load/routineload/KafkaProgress.java      |  49 ++-
 .../load/routineload/KafkaRoutineLoadJob.java      |  71 ++-
 .../doris/load/routineload/KafkaTaskInfo.java      |  25 +-
 .../routineload/RLTaskTxnCommitAttachment.java     | 176 ++++++++
 .../doris/load/routineload/RoutineLoadJob.java     | 276 +++++++++---
 .../doris/load/routineload/RoutineLoadManager.java |  38 +-
 .../load/routineload/RoutineLoadProgress.java      |  25 ++
 .../load/routineload/RoutineLoadScheduler.java     |  10 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  53 ++-
 .../load/routineload/RoutineLoadTaskScheduler.java |  27 +-
 .../apache/doris/service/FrontendServiceImpl.java  |  21 +-
 .../routineload => task}/KafkaRoutineLoadTask.java |   9 +-
 .../routineload => task}/RoutineLoadTask.java      |   7 +-
 .../transaction/AbortTransactionException.java     |  34 ++
 .../doris/transaction/GlobalTransactionMgr.java    | 262 ++++++-----
 .../TransactionCommitFailedException.java          |   2 +-
 .../doris/transaction/TransactionException.java    |  42 ++
 .../apache/doris/transaction/TransactionState.java | 145 +++++--
 .../doris/transaction/TxnCommitAttachment.java     |  54 +++
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  56 ++-
 .../load/routineload/RoutineLoadSchedulerTest.java |  10 +-
 .../routineload/RoutineLoadTaskSchedulerTest.java  |  38 +-
 .../transaction/GlobalTransactionMgrTest.java      |  36 +-
 gensrc/thrift/FrontendService.thrift               |  30 ++
 28 files changed, 1481 insertions(+), 571 deletions(-)

commit ac01da49847a5ad7e584fe583f467d2e91ef7bf9
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 10 18:52:51 2018 +0800

    Clear client pool when heartbeat failed (#408)
    
    When heartbeat failed, we should clear the connections cached
    in client pool, or we will get broken connections from the pool.
    Since we don't have the REOPEN logic(which may cause ugly code style),
    a broken connection may cause a rpc blocked and failed.
    So clear them all and recreate them when needed is a simple way to
    resolve this problem.
    
    We only clear connections in backend and broker pool.
    No need to clear heartbeat pool because heartbeat is very frequent,
    such the connections can be invalid automatically.

 fe/src/main/java/org/apache/doris/common/GenericPool.java  | 12 ++++++++----
 fe/src/main/java/org/apache/doris/system/HeartbeatMgr.java | 14 +++++++++-----
 .../java/org/apache/doris/system/SystemInfoService.java    | 14 --------------
 3 files changed, 17 insertions(+), 23 deletions(-)

commit 5634d13dd276096bb896b6afa8072b4cd248aa34
Author: lichaoyong <lichaoyong@baidu.com>
Date:   Mon Dec 10 18:39:19 2018 +0800

    Release push_lock when schema change failed (#407)
    
    Release push_lock when schema change failed

 be/src/olap/schema_change.cpp | 2 ++
 1 file changed, 2 insertions(+)

commit b5737ee59a4fbced6ca61b748216fb15140cbe99
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Dec 10 14:41:12 2018 +0800

    Refactor heartbeat logic (#403)
    
    * Refactor heartbeat logic
    
    Currently we only have Backend heartbeat. And without Frontend
    or Broker heartbeat, we don't know the status of these nodes,
    thus can't do failover logic in some cases.
    
    1. Add Frontend and Broker heartbeat.
        Frontend heartbeat using BootstrapFinish http rest api
        Broker heartbeat using ping() rpc.
    2. All heartbeats are managed in HeartbeatMgr.
    3. Rename BrokerAddress to FsBroker.

 .../java/org/apache/doris/analysis/ExportStmt.java |  11 +-
 .../org/apache/doris/analysis/ShowBrokerStmt.java  |  14 +-
 .../java/org/apache/doris/backup/BackupJob.java    |  31 +-
 .../java/org/apache/doris/backup/BlobStorage.java  |   8 +-
 .../java/org/apache/doris/backup/Repository.java   |  19 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |   4 +-
 .../java/org/apache/doris/catalog/BrokerMgr.java   | 224 ++++++--------
 .../java/org/apache/doris/catalog/Catalog.java     |  45 ++-
 .../java/org/apache/doris/catalog/FsBroker.java    | 129 ++++++++
 .../java/org/apache/doris/clone/LoadBalancer.java  |  57 ----
 .../doris/common/proc/FrontendsProcNode.java       |  32 +-
 .../org/apache/doris/common/util/BrokerUtil.java   |   8 +-
 .../java/org/apache/doris/common/util/Util.java    |  45 ++-
 .../org/apache/doris/deploy/DeployManager.java     |  16 +-
 .../doris/deploy/impl/AmbariDeployManager.java     |  45 +--
 .../doris/http/rest/BootstrapFinishAction.java     |  97 +++++-
 .../org/apache/doris/journal/JournalEntity.java    |   8 +-
 .../java/org/apache/doris/persist/EditLog.java     |  13 +-
 .../java/org/apache/doris/persist/HbPackage.java   |  69 +++++
 .../org/apache/doris/persist/OperationType.java    |   2 +-
 .../org/apache/doris/planner/BrokerScanNode.java   |   9 +-
 .../java/org/apache/doris/planner/ExportSink.java  |   8 +-
 .../apache/doris/service/FrontendServiceImpl.java  |   1 -
 .../main/java/org/apache/doris/system/Backend.java |  78 +++--
 .../org/apache/doris/system/BackendHbResponse.java |  96 ++++++
 .../org/apache/doris/system/BrokerHbResponse.java  | 102 +++++++
 .../java/org/apache/doris/system/Frontend.java     |  64 +++-
 .../apache/doris/system/FrontendHbResponse.java    | 110 +++++++
 .../java/org/apache/doris/system/HeartbeatMgr.java | 330 +++++++++++++++++++++
 .../org/apache/doris/system/HeartbeatResponse.java | 117 ++++++++
 .../apache/doris/system/SystemInfoObserver.java    |  49 ---
 .../org/apache/doris/system/SystemInfoService.java | 137 +--------
 .../java/org/apache/doris/task/DownloadTask.java   |   8 +-
 .../org/apache/doris/task/ExportExportingTask.java |  10 +-
 .../java/org/apache/doris/task/UploadTask.java     |  14 +-
 .../org/apache/doris/backup/RepositoryTest.java    |   6 +-
 .../doris/deploy/AmbariDeployManagerTest.java      |  14 +-
 .../org/apache/doris/system/HeartbeatMgrTest.java  | 124 ++++++++
 .../doris/broker/hdfs/TestFileSystemManager.java   |   5 +-
 39 files changed, 1582 insertions(+), 577 deletions(-)

commit 37636d38e4bff2d381bd8cc8f6106991d837f88a
Author: lide <mailtolide@sina.com>
Date:   Mon Dec 10 13:56:09 2018 +0800

    Improve build scripts (#404)

 build.sh                       | 23 -----------------------
 env.sh                         | 20 ++++++++++++++++++++
 thirdparty/build-thirdparty.sh | 14 --------------
 thirdparty/vars.sh             |  7 +------
 4 files changed, 21 insertions(+), 43 deletions(-)

commit 530bdec020af1d992708de40cec2b3e68e8b19d1
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Dec 6 19:55:55 2018 +0800

    Fix bug that null value will be loaded to non-nullable column (#401)
    
    * Fix bug that null value will be loaded to non-nullable column
    
    * Optimize performance

 be/src/exec/csv_scan_node.cpp | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit b4d89b19e815328119276c3a05d814cd736b6e82
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Dec 6 19:19:29 2018 +0800

    Fix bug that ColumnType is no longer used (#400)

 fe/src/main/java/org/apache/doris/catalog/ColocateTableUtils.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 088a914e11d9c48bbd4fed9d93ba7bccce5b43c0
Author: kangkaisen <kangkaisen@163.com>
Date:   Thu Dec 6 18:59:17 2018 +0800

    Support Colocate Join (#245) (#246)
    
    * Support colocate join
    
    Colocate join means two table are distributed by the columns being joined,
    then we can join them locally on each backend.
    
    Colocate join no data movement and has more concurrency.

 docs/help/Contents/Data Definition/ddl_stmt.md     | 105 +++-
 .../apache/doris/alter/DecommissionBackendJob.java |  11 +
 .../apache/doris/alter/SchemaChangeHandler.java    |   6 +
 .../analysis/ModifyTablePropertiesClause.java      |  16 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 200 ++++++-
 .../apache/doris/catalog/ColocateTableIndex.java   | 366 ++++++++++++
 .../apache/doris/catalog/ColocateTableUtils.java   | 104 ++++
 .../java/org/apache/doris/catalog/OlapTable.java   |  28 +
 .../java/org/apache/doris/clone/BackendInfo.java   |  96 ++++
 fe/src/main/java/org/apache/doris/clone/Clone.java |   4 +-
 .../java/org/apache/doris/clone/CloneChecker.java  | 220 ++------
 .../org/apache/doris/clone/CloneTabletInfo.java    | 100 ++++
 .../apache/doris/clone/ColocateTableBalancer.java  | 616 +++++++++++++++++++++
 .../main/java/org/apache/doris/common/Config.java  |  10 +
 .../java/org/apache/doris/common/ErrorCode.java    |  16 +-
 .../java/org/apache/doris/common/FeConstants.java  |   2 +-
 .../org/apache/doris/common/FeMetaVersion.java     |   3 +
 .../apache/doris/common/util/PropertyAnalyzer.java |  11 +
 .../org/apache/doris/journal/JournalEntity.java    |  16 +
 .../org/apache/doris/master/ReportHandler.java     |   5 +
 .../apache/doris/persist/ColocatePersistInfo.java  | 160 ++++++
 .../java/org/apache/doris/persist/EditLog.java     |  56 ++
 .../org/apache/doris/persist/OperationType.java    |   8 +
 .../apache/doris/persist/TablePropertyInfo.java    | 120 ++++
 .../apache/doris/planner/DistributedPlanner.java   | 104 +++-
 .../org/apache/doris/planner/HashJoinNode.java     |   9 +
 .../org/apache/doris/planner/OlapScanNode.java     |  18 +
 .../main/java/org/apache/doris/qe/Coordinator.java | 149 ++++-
 .../java/org/apache/doris/qe/SessionVariable.java  |  14 +-
 29 files changed, 2356 insertions(+), 217 deletions(-)

commit e913e45343320b38fe08887d2d5c0244f1d21e70
Author: Mingyu Chen <morningman@163.com>
Date:   Thu Dec 6 10:09:34 2018 +0800

    Fix bug that null value will be loaded to non-nullable column (#397)

 be/src/exec/csv_scan_node.cpp | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 2622da1c5e658f16eda7e6d924d3de3027ec003d
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Dec 5 20:49:31 2018 +0800

    Add 'fileNameOnly' param to broker's listPath method (#394)

 .../java/org/apache/doris/broker/hdfs/FileSystemManager.java   | 10 ++++++++--
 .../org/apache/doris/broker/hdfs/HDFSBrokerServiceImpl.java    |  7 ++++++-
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 7b2007f852c6272d7292e2d55deba6d12d1dad40
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Dec 5 20:23:34 2018 +0800

    Revert 'Support 'NO_BACKSLASH_ESCAPES' sql_mode (#392)

 fe/src/main/jflex/sql_scanner.flex | 4 ----
 1 file changed, 4 deletions(-)

commit 5f9f01669bdb81c60019a9fa80c11eae1924c14c
Author: tangxiaoqing <txqyou@gmail.com>
Date:   Wed Dec 5 18:27:50 2018 +0800

    Fix building Docker image error (#390)

 build.sh          | 17 +++++++++++++++++
 docker/Dockerfile | 35 ++++++++++++++++++++++-------------
 env.sh            | 17 -----------------
 3 files changed, 39 insertions(+), 30 deletions(-)

commit cb7e8ff2bbfe200215cf30c08c9af0eba3beaae2
Author: chenhao <510341142@qq.com>
Date:   Tue Dec 4 16:51:48 2018 +0800

    Fix compile failure in ScanNode (#384)

 fe/src/main/java/org/apache/doris/planner/ScanNode.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 31d163014944c6577b7930ce563bac6b4e3ed1a9
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Dec 4 11:33:04 2018 +0800

    Support 'NO_BACKSLASH_ESCAPES' sql_mode (#382)

 fe/src/main/jflex/sql_scanner.flex | 4 ++++
 1 file changed, 4 insertions(+)

commit d9eb8a2ca1c87c94d6e828c5a0f829c5e7f8615d
Author: chenhao <510341142@qq.com>
Date:   Tue Dec 4 11:30:03 2018 +0800

    Fix cast error in BrokerScanNode (#383)

 .../java/org/apache/doris/planner/BrokerScanNode.java | 19 -------------------
 .../main/java/org/apache/doris/planner/ScanNode.java  | 13 +++++++++++++
 .../org/apache/doris/planner/StreamLoadScanNode.java  | 10 ----------
 3 files changed, 13 insertions(+), 29 deletions(-)

commit 6b4049e21c7f33ccf114b4d3e8b788e05159244e
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Mon Dec 3 18:11:47 2018 +0800

    Unify Slice code path (#380)

 be/src/exec/broker_scanner.cpp               | 90 +++++++++-------------------
 be/src/exec/broker_scanner.h                 |  5 +-
 be/src/exec/olap_scanner.cpp                 |  4 +-
 be/src/olap/aggregate_func.h                 |  8 +--
 be/src/olap/column_reader.cpp                |  4 +-
 be/src/olap/column_reader.h                  | 16 ++---
 be/src/olap/column_writer.cpp                |  2 +-
 be/src/olap/column_writer.h                  |  4 +-
 be/src/olap/field.cpp                        |  2 +-
 be/src/olap/field.h                          | 12 ++--
 be/src/olap/hll.cpp                          |  4 +-
 be/src/olap/memtable.cpp                     |  6 +-
 be/src/olap/new_status.cpp                   |  2 +-
 be/src/olap/new_status.h                     | 28 ++++-----
 be/src/olap/olap_cond.cpp                    |  4 +-
 be/src/olap/olap_index.cpp                   |  8 +--
 be/src/olap/push_handler.cpp                 |  4 +-
 be/src/olap/row_block.cpp                    | 12 ++--
 be/src/olap/row_cursor.cpp                   | 12 ++--
 be/src/olap/schema_change.cpp                |  2 +-
 be/src/olap/segment_group.cpp                |  4 +-
 be/src/olap/types.h                          | 62 +++++++++----------
 be/src/olap/wrapper_field.cpp                |  2 +-
 be/src/runtime/vectorized_row_batch.cpp      |  4 +-
 be/src/{olap/string_slice.h => util/slice.h} | 59 ++++++++++--------
 be/test/olap/column_reader_test.cpp          | 22 +++----
 be/test/olap/row_block_test.cpp              | 40 ++++++-------
 be/test/olap/row_cursor_test.cpp             | 34 +++++------
 28 files changed, 217 insertions(+), 239 deletions(-)

commit 603f4e0ca988c50655223087f44df83ca928345f
Author: Liu Xudong <45041955+chalsliu@users.noreply.github.com>
Date:   Mon Dec 3 15:38:33 2018 +0800

    Fix a sending signal error when starting Doris BE (#367)
    
    Redirect output message of kill to /dev/null.
    
    Co-Authored-By: chalsliu <45041955+chalsliu@users.noreply.github.com>
    
    ISSUE #365

 bin/start_be.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff95f2361507c136d6472dc5aa16360b72e3fa58
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Mon Dec 3 10:08:21 2018 +0800

    Remove OLAP_LOG_DEBUG AND OLAP_LOG_TRACE log format (#378)
    
    Use VLOG(3) and VLOG(10) instead

 be/src/agent/pusher.cpp                   |  24 ++---
 be/src/agent/task_worker_pool.cpp         |   2 +-
 be/src/olap/base_compaction.cpp           |   9 +-
 be/src/olap/bit_field_writer.cpp          |   4 -
 be/src/olap/column_data.cpp               |   6 +-
 be/src/olap/column_reader.cpp             |   2 +-
 be/src/olap/column_reader.h               |   1 -
 be/src/olap/cumulative_compaction.cpp     |   8 +-
 be/src/olap/file_helper.cpp               |  25 ++---
 be/src/olap/file_helper.h                 |  15 ++-
 be/src/olap/file_stream.cpp               |   6 +-
 be/src/olap/file_stream.h                 |   7 --
 be/src/olap/merger.cpp                    |   2 +-
 be/src/olap/olap_cond.cpp                 |   7 +-
 be/src/olap/olap_engine.cpp               |  93 +++++++++---------
 be/src/olap/olap_header.cpp               |  24 +++--
 be/src/olap/olap_index.cpp                |   4 +-
 be/src/olap/olap_server.cpp               |   2 +-
 be/src/olap/olap_snapshot.cpp             |  23 ++---
 be/src/olap/olap_table.cpp                |   6 +-
 be/src/olap/olap_table.h                  |   8 +-
 be/src/olap/out_stream.cpp                |  16 +--
 be/src/olap/out_stream.h                  |   6 +-
 be/src/olap/push_handler.cpp              |  38 +++-----
 be/src/olap/push_handler.h                |   9 +-
 be/src/olap/reader.cpp                    |  36 ++++---
 be/src/olap/run_length_byte_writer.cpp    |   4 -
 be/src/olap/run_length_integer_reader.cpp |   1 -
 be/src/olap/run_length_integer_writer.cpp |   2 +-
 be/src/olap/run_length_integer_writer.h   |   2 +-
 be/src/olap/schema_change.cpp             | 156 ++++++++++++++----------------
 be/src/olap/segment_group.cpp             |   7 +-
 be/src/olap/segment_reader.cpp            |  30 +++---
 be/src/olap/segment_writer.cpp            |  12 +--
 be/src/olap/stream_index_writer.cpp       |   7 +-
 be/src/olap/utils.cpp                     |  36 +++----
 be/src/olap/utils.h                       |   6 --
 37 files changed, 286 insertions(+), 360 deletions(-)

commit fb8304123d3b6e600a9390c8c6910d1ea4974531
Author: zhaidongbo <zhai_dongbo@126.com>
Date:   Mon Dec 3 10:03:57 2018 +0800

    Support _IP/_HOST in principal of kerberos (#373)

 .../doris/broker/hdfs/FileSystemManager.java       | 44 +++++++++++++---------
 1 file changed, 27 insertions(+), 17 deletions(-)

commit c556ed13f68d86fd3c47d01c1685a3debd8bd66d
Author: Mingyu Chen <morningman@163.com>
Date:   Sat Dec 1 21:18:27 2018 +0800

    Support TRUNCATE TABLE stmt (#377)
    
    * Support TRUNCATE TABLE stmt
    
    User can use TRUNCATE TABLE stmt to empties a table
    or partitions completely.
    Unlike DELETE, it will drop the tablets directly, and
    without any performance impact.
    
    * Fix bugs that new partition should use new ID
    
    * Use equals() to compare Integer
    
    * Fix compile bug
    
    * Fix bug on single range parititon
    
    * Check table's state again after creating partition

 docs/help/Contents/Data Definition/ddl_stmt.md     |  27 +++
 fe/src/main/cup/sql_parser.cup                     |  15 +-
 .../org/apache/doris/analysis/DropTableStmt.java   |   2 +-
 .../apache/doris/analysis/TruncateTableStmt.java   |  74 ++++++
 .../java/org/apache/doris/backup/RestoreJob.java   |   6 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 250 +++++++++++++++++++--
 .../apache/doris/catalog/CatalogRecycleBin.java    |   6 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  34 ++-
 .../org/apache/doris/catalog/PartitionInfo.java    |  10 +
 .../apache/doris/catalog/RangePartitionInfo.java   |   9 +-
 .../apache/doris/catalog/TabletInvertedIndex.java  |   2 +-
 .../org/apache/doris/catalog/TabletStatMgr.java    |   6 +-
 .../org/apache/doris/journal/JournalEntity.java    |   6 +
 .../java/org/apache/doris/persist/EditLog.java     |  14 +-
 .../org/apache/doris/persist/OperationType.java    |   1 +
 .../apache/doris/persist/TruncateTableInfo.java    |  85 +++++++
 .../main/java/org/apache/doris/qe/DdlExecutor.java |   3 +
 fe/src/main/jflex/sql_scanner.flex                 |   1 +
 18 files changed, 512 insertions(+), 39 deletions(-)

commit 5dea8bd3e60f3c73f0ac73643ed4b31892221a0b
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Sat Dec 1 19:26:08 2018 +0800

    Remove OLAP_LOG_FATAL log format. Use LOG(FATAL) instead (#376)

 be/src/olap/base_compaction.cpp           | 28 ++++++++++------------
 be/src/olap/byte_buffer.cpp               |  6 +++--
 be/src/olap/column_data.cpp               |  2 +-
 be/src/olap/column_data.h                 |  2 +-
 be/src/olap/cumulative_compaction.cpp     | 27 +++++++++++----------
 be/src/olap/delete_handler.cpp            |  2 +-
 be/src/olap/lru_cache.cpp                 |  9 +++----
 be/src/olap/olap_engine.cpp               | 14 +++++------
 be/src/olap/out_stream.cpp                |  2 +-
 be/src/olap/push_handler.cpp              | 12 +++++-----
 be/src/olap/row_block.cpp                 |  2 +-
 be/src/olap/run_length_integer_writer.cpp |  2 +-
 be/src/olap/schema_change.cpp             | 39 ++++++++++++++----------------
 be/src/olap/segment_reader.cpp            |  2 +-
 be/src/olap/utils.cpp                     | 40 +++++++++++++++----------------
 be/src/olap/utils.h                       |  2 --
 16 files changed, 93 insertions(+), 98 deletions(-)

commit 3d324e38ea84f7c5f5f388e28ba9d02f9986fd2e
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Fri Nov 30 20:59:40 2018 +0800

    Remove OLAP_LOG_INFO log format. Use LOG(INFO) instead (#372)

 be/src/agent/heartbeat_server.cpp     |  10 +-
 be/src/agent/pusher.cpp               |  18 +--
 be/src/agent/task_worker_pool.cpp     | 202 +++++++++++++++++-----------------
 be/src/olap/base_compaction.cpp       |  83 +++++++-------
 be/src/olap/cumulative_compaction.cpp |  27 +++--
 be/src/olap/delete_handler.cpp        |  15 ++-
 be/src/olap/lru_cache.cpp             |   2 +-
 be/src/olap/olap_engine.cpp           | 195 ++++++++++++++++----------------
 be/src/olap/olap_header.cpp           |  12 +-
 be/src/olap/olap_server.cpp           |   7 +-
 be/src/olap/olap_snapshot.cpp         |  31 +++---
 be/src/olap/push_handler.cpp          |  78 +++++++------
 be/src/olap/schema_change.cpp         |  55 +++++----
 be/src/olap/utils.h                   |   1 -
 14 files changed, 362 insertions(+), 374 deletions(-)

commit 49302955c8cc9c3c64766738df8f131f5616ac66
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Nov 30 20:56:51 2018 +0800

    Revert "Remove OLAP_LOG_INFO log format. Use LOG(INFO) instead (#370)" (#371)
    
    This reverts commit a816925776de06dc7503ea7429802cad9042d0e4.

 be/src/agent/heartbeat_server.cpp     |  10 +-
 be/src/agent/pusher.cpp               |  18 +--
 be/src/agent/task_worker_pool.cpp     | 202 +++++++++++++++++-----------------
 be/src/olap/base_compaction.cpp       |  83 +++++++-------
 be/src/olap/cumulative_compaction.cpp |  27 ++---
 be/src/olap/delete_handler.cpp        |  15 +--
 be/src/olap/lru_cache.cpp             |   2 +-
 be/src/olap/olap_engine.cpp           | 195 ++++++++++++++++----------------
 be/src/olap/olap_header.cpp           |  12 +-
 be/src/olap/olap_server.cpp           |   7 +-
 be/src/olap/olap_snapshot.cpp         |  31 +++---
 be/src/olap/push_handler.cpp          |  78 ++++++-------
 be/src/olap/schema_change.cpp         |  55 ++++-----
 be/src/olap/utils.h                   |   1 +
 14 files changed, 374 insertions(+), 362 deletions(-)

commit a816925776de06dc7503ea7429802cad9042d0e4
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Fri Nov 30 20:36:58 2018 +0800

    Remove OLAP_LOG_INFO log format. Use LOG(INFO) instead (#370)
    
    * Remove unused row-oriented format flags
    
    * Remove unused row-oriented format flags
    
    * Remove OLAP_LOG_INFO log format. Use LOG(INFO) instead

 be/src/agent/heartbeat_server.cpp     |  10 +-
 be/src/agent/pusher.cpp               |  18 +--
 be/src/agent/task_worker_pool.cpp     | 202 +++++++++++++++++-----------------
 be/src/olap/base_compaction.cpp       |  83 +++++++-------
 be/src/olap/cumulative_compaction.cpp |  27 +++--
 be/src/olap/delete_handler.cpp        |  15 ++-
 be/src/olap/lru_cache.cpp             |   2 +-
 be/src/olap/olap_engine.cpp           | 195 ++++++++++++++++----------------
 be/src/olap/olap_header.cpp           |  12 +-
 be/src/olap/olap_server.cpp           |   7 +-
 be/src/olap/olap_snapshot.cpp         |  31 +++---
 be/src/olap/push_handler.cpp          |  78 +++++++------
 be/src/olap/schema_change.cpp         |  55 +++++----
 be/src/olap/utils.h                   |   1 -
 14 files changed, 362 insertions(+), 374 deletions(-)

commit 9447a349ecc2b2e8c2d6e61439d154b3575f0b0e
Author: ZHAO Chun <buaa.zhaoc@gmail.com>
Date:   Fri Nov 30 16:30:30 2018 +0800

    Subsititue ColumnType to Type (#366)
    
    * Subsititue ColumnType to Type

 fe/src/main/cup/sql_parser.cup                     | 165 +-----
 .../apache/doris/alter/SchemaChangeHandler.java    |   7 +-
 .../org/apache/doris/analysis/AddColumnClause.java |  30 +-
 .../apache/doris/analysis/AddColumnsClause.java    |  24 +-
 .../analysis/AdminShowReplicaDistributionStmt.java |   4 +-
 .../doris/analysis/AdminShowReplicaStatusStmt.java |   4 +-
 .../java/org/apache/doris/analysis/ColumnDef.java  | 187 ++++++
 .../doris/analysis/CreateTableAsSelectStmt.java    |  16 +-
 .../org/apache/doris/analysis/CreateTableStmt.java | 177 ++----
 .../org/apache/doris/analysis/CreateViewStmt.java  |   6 +-
 .../org/apache/doris/analysis/DataDescription.java |   4 +-
 .../org/apache/doris/analysis/DescribeStmt.java    |  32 +-
 .../java/org/apache/doris/analysis/HelpStmt.java   |  18 +-
 .../java/org/apache/doris/analysis/KeysDesc.java   |   8 +-
 .../apache/doris/analysis/ModifyColumnClause.java  |  21 +-
 .../org/apache/doris/analysis/PartitionDesc.java   |   2 +-
 .../apache/doris/analysis/RangePartitionDesc.java  |  10 +-
 .../java/org/apache/doris/analysis/SelectStmt.java |   2 +-
 .../org/apache/doris/analysis/ShowAlterStmt.java   |   4 +-
 .../org/apache/doris/analysis/ShowAuthorStmt.java  |   8 +-
 .../apache/doris/analysis/ShowBackendsStmt.java    |   4 +-
 .../org/apache/doris/analysis/ShowBackupStmt.java  |   4 +-
 .../org/apache/doris/analysis/ShowBrokerStmt.java  |   6 +-
 .../org/apache/doris/analysis/ShowCharsetStmt.java |  10 +-
 .../org/apache/doris/analysis/ShowClusterStmt.java |   4 +-
 .../apache/doris/analysis/ShowCollationStmt.java   |  14 +-
 .../org/apache/doris/analysis/ShowColumnStmt.java  |  32 +-
 .../apache/doris/analysis/ShowCreateDbStmt.java    |   6 +-
 .../apache/doris/analysis/ShowCreateTableStmt.java |  14 +-
 .../org/apache/doris/analysis/ShowDataStmt.java    |  12 +-
 .../java/org/apache/doris/analysis/ShowDbStmt.java |   4 +-
 .../org/apache/doris/analysis/ShowDeleteStmt.java  |   4 +-
 .../org/apache/doris/analysis/ShowEnginesStmt.java |  14 +-
 .../org/apache/doris/analysis/ShowEventsStmt.java  |  32 +-
 .../org/apache/doris/analysis/ShowExportStmt.java  |   4 +-
 .../apache/doris/analysis/ShowFrontendsStmt.java   |   4 +-
 .../org/apache/doris/analysis/ShowGrantsStmt.java  |   4 +-
 .../org/apache/doris/analysis/ShowKeysStmt.java    |  26 +-
 .../org/apache/doris/analysis/ShowLoadStmt.java    |   4 +-
 .../doris/analysis/ShowLoadWarningsStmt.java       |   8 +-
 .../apache/doris/analysis/ShowMigrationsStmt.java  |   4 +-
 .../apache/doris/analysis/ShowOpenTableStmt.java   |  10 +-
 .../apache/doris/analysis/ShowPartitionsStmt.java  |   4 +-
 .../org/apache/doris/analysis/ShowPluginsStmt.java |  12 +-
 .../org/apache/doris/analysis/ShowProcStmt.java    |   4 +-
 .../apache/doris/analysis/ShowProcedureStmt.java   |  24 +-
 .../apache/doris/analysis/ShowProcesslistStmt.java |  20 +-
 .../doris/analysis/ShowRepositoriesStmt.java       |   4 +-
 .../org/apache/doris/analysis/ShowRestoreStmt.java |   4 +-
 .../org/apache/doris/analysis/ShowRolesStmt.java   |  12 +-
 .../org/apache/doris/analysis/ShowRollupStmt.java  |   8 +-
 .../apache/doris/analysis/ShowSnapshotStmt.java    |   6 +-
 .../org/apache/doris/analysis/ShowStatusStmt.java  |   6 +-
 .../apache/doris/analysis/ShowTableStatusStmt.java |  38 +-
 .../org/apache/doris/analysis/ShowTableStmt.java   |   6 +-
 .../org/apache/doris/analysis/ShowTabletStmt.java  |  24 +-
 .../apache/doris/analysis/ShowTriggersStmt.java    |  24 +-
 .../doris/analysis/ShowUserPropertyStmt.java       |   4 +-
 .../org/apache/doris/analysis/ShowUserStmt.java    |   4 +-
 .../apache/doris/analysis/ShowVariablesStmt.java   |   6 +-
 .../org/apache/doris/analysis/ShowWarningStmt.java |   8 +-
 .../apache/doris/analysis/ShowWhiteListStmt.java   |   6 +-
 .../java/org/apache/doris/analysis/TypeDef.java    |  37 +-
 .../java/org/apache/doris/backup/BackupJob_D.java  |   3 +-
 .../java/org/apache/doris/backup/ObjectWriter.java |  10 +-
 .../java/org/apache/doris/backup/RestoreJob_D.java |   3 +-
 .../main/java/org/apache/doris/catalog/Column.java | 173 +-----
 .../java/org/apache/doris/catalog/ColumnType.java  | 363 +-----------
 .../java/org/apache/doris/catalog/EsTable.java     |  14 -
 .../java/org/apache/doris/catalog/MysqlTable.java  |  16 -
 .../java/org/apache/doris/catalog/OlapTable.java   |  53 +-
 .../java/org/apache/doris/catalog/ScalarType.java  | 122 +++-
 .../java/org/apache/doris/catalog/SchemaTable.java | 660 ++++++++++-----------
 .../main/java/org/apache/doris/catalog/Type.java   |  10 +
 .../doris/common/proc/IndexSchemaProcNode.java     |   2 +-
 .../org/apache/doris/common/util/KuduUtil.java     |   3 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |   2 +-
 .../java/org/apache/doris/planner/CsvScanNode.java |   3 +-
 .../org/apache/doris/planner/OlapRewriteNode.java  |   2 +-
 .../java/org/apache/doris/qe/ShowExecutor.java     |   2 +-
 .../java/org/apache/doris/qe/ShowResultSet.java    |  12 +-
 .../java/org/apache/doris/qe/StmtExecutor.java     |   6 +-
 .../apache/doris/service/FrontendServiceImpl.java  |   6 +-
 .../apache/doris/alter/SchemaChangeJobTest.java    |   6 +-
 .../apache/doris/analysis/AddColumnClauseTest.java |  25 +-
 .../doris/analysis/AddColumnsClauseTest.java       |  17 +-
 .../{ColumnTest.java => ColumnDefTest.java}        |  35 +-
 .../apache/doris/analysis/CreateTableStmtTest.java |  18 +-
 .../doris/analysis/ModifyColumnClauseTest.java     |   7 +-
 .../org/apache/doris/backup/CatalogMocker.java     |  33 +-
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   6 +-
 .../java/org/apache/doris/catalog/ColumnTest.java  |  19 +-
 .../org/apache/doris/catalog/ColumnTypeTest.java   | 117 ++--
 .../org/apache/doris/catalog/CreateTableTest.java  |  56 +-
 .../org/apache/doris/catalog/DatabaseTest.java     |  20 +-
 .../doris/catalog/MaterializedIndexTest.java       |   6 +-
 .../org/apache/doris/catalog/PartitionKeyTest.java |  12 +-
 .../doris/catalog/RangePartitionInfoTest.java      |  10 +-
 .../java/org/apache/doris/catalog/TableTest.java   |  20 +-
 .../apache/doris/common/PropertyAnalyzerTest.java  |  10 +-
 .../org/apache/doris/common/util/UnitTestUtil.java |   4 +-
 .../apache/doris/persist/CreateTableInfoTest.java  |  27 +-
 .../apache/doris/planner/OlapTableSinkTest.java    |   6 +-
 .../doris/planner/StreamLoadScanNodeTest.java      |   6 +-
 .../apache/doris/qe/ShowResultSetMetaDataTest.java |   6 +-
 .../java/org/apache/doris/task/AgentTaskTest.java  |   6 +-
 106 files changed, 1367 insertions(+), 1784 deletions(-)

commit 85d0996b3518897eb1f37c745994f167615abb82
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Nov 29 17:30:41 2018 +0800

    Rename Rowset to SegmentGroup (#364)
    
    * Rename Rowset to SegmentGroup
    
    * Modify protobuf related rowset to SegmentGroup

 be/src/olap/CMakeLists.txt                    |   2 +-
 be/src/olap/base_compaction.cpp               |  20 +-
 be/src/olap/base_compaction.h                 |  16 +-
 be/src/olap/column_data.cpp                   |  62 +--
 be/src/olap/column_data.h                     |  34 +-
 be/src/olap/cumulative_compaction.cpp         |  40 +-
 be/src/olap/cumulative_compaction.h           |  12 +-
 be/src/olap/data_writer.cpp                   |  24 +-
 be/src/olap/data_writer.h                     |   6 +-
 be/src/olap/delta_writer.cpp                  |  64 +--
 be/src/olap/delta_writer.h                    |  10 +-
 be/src/olap/merger.cpp                        |  10 +-
 be/src/olap/merger.h                          |   8 +-
 be/src/olap/olap_common.h                     |  14 +-
 be/src/olap/olap_define.h                     |   2 +-
 be/src/olap/olap_engine.cpp                   |  38 +-
 be/src/olap/olap_engine.h                     |   8 +-
 be/src/olap/olap_header.cpp                   | 124 +++---
 be/src/olap/olap_header.h                     |  12 +-
 be/src/olap/olap_index.h                      |   4 +-
 be/src/olap/olap_snapshot.cpp                 |  58 +--
 be/src/olap/olap_table.cpp                    | 612 +++++++++++++-------------
 be/src/olap/olap_table.h                      |  48 +-
 be/src/olap/push_handler.cpp                  |  48 +-
 be/src/olap/push_handler.h                    |   6 +-
 be/src/olap/reader.cpp                        |   2 +-
 be/src/olap/rowset_builder.h                  |  65 ---
 be/src/olap/schema_change.cpp                 | 238 +++++-----
 be/src/olap/schema_change.h                   |  20 +-
 be/src/olap/{rowset.cpp => segment_group.cpp} | 104 ++---
 be/src/olap/{rowset.h => segment_group.h}     |  34 +-
 be/src/olap/segment_reader.cpp                |  22 +-
 be/src/olap/segment_reader.h                  |   8 +-
 gensrc/proto/olap_file.proto                  |  12 +-
 34 files changed, 861 insertions(+), 926 deletions(-)

commit 5694bcbd7862b6dc74bbea7f108e5cd26ef40215
Author: chenhao <510341142@qq.com>
Date:   Thu Nov 29 15:40:04 2018 +0800

    Fix stream load failure when target table contains HLL and insert failure when it contains subquery (#359)

 .../java/org/apache/doris/analysis/StmtRewriter.java  |  5 +++++
 .../org/apache/doris/planner/StreamLoadScanNode.java  | 19 ++++---------------
 2 files changed, 9 insertions(+), 15 deletions(-)

commit aa27d0e056162b054581e5d26bbada967bef152f
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Wed Nov 28 18:58:21 2018 +0800

    Fix snapshot's making header bug (#362)

 be/src/olap/olap_snapshot.cpp | 11 -----------
 1 file changed, 11 deletions(-)

commit 1ffc2948332b7e571f6f8bc9efdf13c2724ef4cf
Author: lide <mailtolide@sina.com>
Date:   Wed Nov 28 15:22:00 2018 +0800

    Ubuntu llvm compile (#361)

 README.md                      | 4 ++--
 thirdparty/build-thirdparty.sh | 2 +-
 thirdparty/vars.sh             | 6 +++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit f1718578f39f7be830dcc2456604fef55dff16aa
Author: chenhao <510341142@qq.com>
Date:   Tue Nov 27 17:10:41 2018 +0800

    Fix insert error when it contains HLL (#358)

 fe/src/main/java/org/apache/doris/rewrite/FoldConstantsRule.java | 1 +
 1 file changed, 1 insertion(+)

commit 477b6b3d2ad24e9d0718d4f5d57fc32adf116d16
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Tue Nov 27 16:34:22 2018 +0800

    Remove unused row-oriented format flags (#357)

 be/src/olap/base_compaction.cpp |  3 +--
 be/src/olap/data_writer.cpp     |  2 +-
 be/src/olap/olap_define.h       |  2 --
 be/src/olap/olap_engine.cpp     | 14 +++++---------
 be/src/olap/schema_change.cpp   |  5 ++---
 be/test/olap/row_block_test.cpp | 20 ++++++++++----------
 gensrc/proto/olap_file.proto    |  2 +-
 7 files changed, 20 insertions(+), 28 deletions(-)

commit cfefa71daa5df9458cf49d166d14a1d2d8a82b82
Author: chenhao <510341142@qq.com>
Date:   Tue Nov 27 16:03:33 2018 +0800

    Fix cast error in StreamLoadScanNodeush (#356)

 fe/src/main/java/org/apache/doris/planner/StreamLoadScanNode.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b2d89dfee90445fa8cd5f2a3e771a12be2729ec1
Author: chenhao <510341142@qq.com>
Date:   Tue Nov 27 14:28:39 2018 +0800

    Add connection id to CurrentQueryStatisticsProcDir (#355)

 .../doris/common/proc/CurrentQueryStatisticsProcDir.java |  3 ++-
 .../main/java/org/apache/doris/qe/QeProcessorImpl.java   |  1 +
 .../java/org/apache/doris/qe/QueryStatisticsItem.java    | 16 ++++++++++++++++
 3 files changed, 19 insertions(+), 1 deletion(-)

commit cddd864d8307ced7099ab00a66039256143fc9e0
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Nov 27 14:18:41 2018 +0800

    Avoid 'No more data to read' error when handling stream load RPC (#354)
    
    * Avoid 'No more data to read' error when handling stream load rpc
    
    1. Catch throwable of all stream load rpc.
    2. Avoid setting null string as error msg of rpc result status.
    
    * Change setError_msgs to addToError_msgs

 .../org/apache/doris/common/UserException.java     | 10 +++---
 .../apache/doris/service/FrontendServiceImpl.java  | 40 ++++++++++++++++------
 2 files changed, 36 insertions(+), 14 deletions(-)

commit dedfccfaf505013b2d6a666ba6649075f77f4bf1
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Nov 26 19:01:50 2018 +0800

    Optimize the publish logic of streaming load (#350)
    
    1. Only collect all error replicas if publish task is timeout.
    2. Add 2 metrics to monitor the success of failure of txn.
    3. Change publish timeout to Config.load_straggler_wait_second

 be/src/http/action/stream_load.cpp                 |  1 +
 be/test/olap/file_helper_test.cpp                  |  4 +-
 .../java/org/apache/doris/catalog/Replica.java     | 33 ++++++--
 .../main/java/org/apache/doris/common/Config.java  |  3 +
 .../java/org/apache/doris/master/MasterImpl.java   |  4 +-
 .../java/org/apache/doris/metric/MetricRepo.java   | 15 +++-
 .../apache/doris/service/FrontendServiceImpl.java  |  3 +-
 .../org/apache/doris/task/PublishVersionTask.java  | 10 +--
 .../doris/transaction/GlobalTransactionMgr.java    | 52 ++++++------
 .../doris/transaction/PublishVersionDaemon.java    | 92 ++++++++++++----------
 .../apache/doris/transaction/TransactionState.java | 17 ++++
 .../load/routineload/RoutineLoadSchedulerTest.java | 34 ++------
 12 files changed, 160 insertions(+), 108 deletions(-)

commit 7ac011571fde135b622660ecb723814f4f4a78ea
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Nov 26 13:42:58 2018 +0800

    Improve the Backend's disk info report performance (#349)
    
    1. Use the data size save in tablet's header to calculate the disk used capacity.
    2. Decrease the default interval of disk and tablet report, from 10 min to 1 min.

 be/src/common/config.h      | 10 +++----
 be/src/olap/olap_engine.cpp | 68 ++++++++++++++++++++++++++++++++-------------
 be/src/olap/olap_engine.h   |  3 +-
 3 files changed, 55 insertions(+), 26 deletions(-)

commit 33873f24461270a9e24be21bf23fc8edd5979174
Author: kangkaisen <kangkaisen@163.com>
Date:   Mon Nov 26 13:36:23 2018 +0800

    Fix wrong query result when column value is Null (#344)

 be/src/exec/olap_common.h | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 6413518b1e330aa6644896ccf45550438367e670
Author: lide <mailtolide@sina.com>
Date:   Fri Nov 23 15:40:07 2018 +0800

    Update README.md (#347)
    
    Move old content of READEME.md to the Overview of Wiki.
    Add build guide and user cases to README.md.

 README.md | 242 ++++++++++++++++++++------------------------------------------
 1 file changed, 77 insertions(+), 165 deletions(-)

commit bbdf4fba4a2bd0c379c72618c6bda86f5c588327
Author: EmmyMiao87 <522274284@qq.com>
Date:   Fri Nov 23 10:35:10 2018 +0800

    Add distributor which schedule task to be fairly, for routine load job (#333)
    
    Step1: updateBeIdTaskMaps, remove unavailable BE and add new alive BE
    Step2: process timeout tasks, if a task has already been allocated to BE but not finished before DEFAULT_TASK_TIMEOUT, it will be discarded.
           At the same time, the partitions belong to old tasks will be allocated to a new task. The new task with a signature will be added in the queue of needSchedulerRoutineLoadTask.
    Step3: process all needSchedulerRoutineLoadTasks, allocate task to BE. The task will be executed by BE.

 .../java/org/apache/doris/catalog/Catalog.java     |  10 +-
 ...RoutineLoadProgress.java => KafkaProgress.java} |  19 +-
 .../load/routineload/KafkaRoutineLoadJob.java      |  55 +++--
 .../load/routineload/KafkaRoutineLoadTask.java     |  30 +--
 .../doris/load/routineload/KafkaTaskInfo.java      |  49 ++++
 .../apache/doris/load/routineload/RoutineLoad.java | 264 ---------------------
 .../doris/load/routineload/RoutineLoadJob.java     | 110 ++++++++-
 .../doris/load/routineload/RoutineLoadManager.java | 213 +++++++++++++++++
 .../load/routineload/RoutineLoadScheduler.java     |  60 ++---
 .../doris/load/routineload/RoutineLoadTask.java    |  24 +-
 .../load/routineload/RoutineLoadTaskInfo.java      |  56 +++++
 .../load/routineload/RoutineLoadTaskScheduler.java |  98 ++++++++
 .../load/routineload/KafkaRoutineLoadJobTest.java  |  69 +++++-
 .../load/routineload/RoutineLoadManagerTest.java   | 109 +++++++++
 .../load/routineload/RoutineLoadSchedulerTest.java | 105 +++++---
 .../routineload/RoutineLoadTaskSchedulerTest.java  | 145 +++++++++++
 gensrc/thrift/Types.thrift                         |   3 +-
 17 files changed, 1025 insertions(+), 394 deletions(-)

commit be6e9c393d6257cd6890c0d979636ec846631179
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Fri Nov 23 10:12:26 2018 +0800

    Fix bug of using symbolic link dir as storage path (#340)
    
    * Fix bug of #307
    
    There is a bug to use symbolic link directory as storage root path.
    It is a problem that whether the path is canonical
    
    In DownloadAction, checking fails by comparing canonical path with non-canonical path.
    So fix the bug by convert all path to canonical path before comparison

 be/src/http/download_action.cpp | 21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 8fbc043f9327c7238fd65f5a5206ce6a72021386
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Thu Nov 22 23:18:33 2018 +0800

    Change ByteBuffer to StorageByteBuffer in olap/byte_buffer.h (#341)
    
    Class definition of ByteBuffer duplicates between olap/byte_buffer.h and util/byte_buffer.h.
    All of the two classes has a function names as remaining().
    Some place which want to call remaining() of util/byte_buffer.h is linked to the other remaining() function of olap/byte_buffer.h

 be/src/olap/byte_buffer.cpp              | 34 +++++++-------
 be/src/olap/byte_buffer.h                | 22 ++++-----
 be/src/olap/column_reader.cpp            |  6 +--
 be/src/olap/column_reader.h              |  2 +-
 be/src/olap/compress.cpp                 |  8 ++--
 be/src/olap/compress.h                   | 14 +++---
 be/src/olap/file_stream.cpp              |  6 +--
 be/src/olap/file_stream.h                | 14 +++---
 be/src/olap/in_stream.cpp                | 20 ++++----
 be/src/olap/in_stream.h                  | 12 ++---
 be/src/olap/out_stream.cpp               | 22 ++++-----
 be/src/olap/out_stream.h                 | 14 +++---
 be/src/olap/segment_reader.cpp           |  6 +--
 be/src/olap/segment_reader.h             |  4 +-
 be/test/olap/bit_field_test.cpp          |  4 +-
 be/test/olap/byte_buffer_test.cpp        | 18 +++----
 be/test/olap/column_reader_test.cpp      | 16 +++----
 be/test/olap/run_length_byte_test.cpp    | 80 ++++++++++++++++----------------
 be/test/olap/run_length_integer_test.cpp |  8 ++--
 19 files changed, 155 insertions(+), 155 deletions(-)

commit cec1b971f6ecd5d97d2c5622122e80a46976caaa
Author: kangkaisen <kangkaisen@163.com>
Date:   Thu Nov 22 15:39:00 2018 +0800

    Add special add_column_statistics method for linked_schema_change (#337)

 be/src/olap/rowset.cpp        | 25 ++++++++++++++++++++++++-
 be/src/olap/rowset.h          |  3 +++
 be/src/olap/schema_change.cpp |  2 +-
 3 files changed, 28 insertions(+), 2 deletions(-)

commit f9494cbdf260a735a496839e27af2423ba955683
Author: lide <mailtolide@sina.com>
Date:   Thu Nov 22 12:32:14 2018 +0800

    Fix a compile issue of DORIS_GCC_HOME (#339)

 thirdparty/build-thirdparty.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2df5d523dd75910a47ca9bc08b5cef267f57dca
Author: lide <mailtolide@sina.com>
Date:   Thu Nov 22 11:15:42 2018 +0800

    Fix compile issue of thirdparty library (#338)

 build.sh                          | 12 ++++++++++++
 env.sh                            | 24 +++++++-----------------
 thirdparty/build-thirdparty.sh    | 23 ++++++++++++-----------
 thirdparty/download-thirdparty.sh |  1 -
 4 files changed, 31 insertions(+), 29 deletions(-)

commit 485db34f1e800262824ccb039cc434155b337548
Author: Mingyu Chen <morningman@163.com>
Date:   Wed Nov 21 19:21:16 2018 +0800

    Modify partition's version name to what it means (#334)
    
    * Modify partition's version name to what it means.
    
    1. committedVersion(Hash) -> visibleVersion(Hash)
    2. currentVersion(Hash) -> committedVersion(Hash)
    3. add some comment to make the code more readable
    
    * Check if editlog is null in CatalogIdGenerator
        To avoid unit test failure

 .../java/org/apache/doris/alter/RollupHandler.java |   2 +-
 .../java/org/apache/doris/alter/RollupJob.java     |   8 +-
 .../org/apache/doris/alter/SchemaChangeJob.java    |   2 +-
 .../java/org/apache/doris/backup/BackupJob.java    |  35 +++--
 .../org/apache/doris/backup/BackupJobInfo.java     |   4 +-
 .../java/org/apache/doris/backup/BackupJob_D.java  |   8 +-
 .../java/org/apache/doris/backup/RestoreJob.java   |  16 +-
 .../java/org/apache/doris/catalog/Catalog.java     |  10 +-
 .../apache/doris/catalog/CatalogIdGenerator.java   |   5 +-
 .../org/apache/doris/catalog/MetadataViewer.java   |   6 +-
 .../java/org/apache/doris/catalog/OlapTable.java   |  10 +-
 .../java/org/apache/doris/catalog/Partition.java   |  85 ++++++-----
 .../java/org/apache/doris/catalog/Replica.java     |   2 +-
 .../org/apache/doris/catalog/TabletStatMgr.java    |   4 +-
 fe/src/main/java/org/apache/doris/clone/Clone.java |   2 +-
 .../java/org/apache/doris/clone/CloneChecker.java  |  59 ++++----
 .../doris/common/proc/PartitionsProcDir.java       |  24 +--
 .../doris/consistency/CheckConsistencyJob.java     |   4 +-
 .../doris/consistency/ConsistencyChecker.java      |   6 +-
 .../org/apache/doris/http/rest/RowCountAction.java |   4 +-
 fe/src/main/java/org/apache/doris/load/Load.java   |  32 ++--
 .../java/org/apache/doris/master/MasterImpl.java   |   2 +-
 .../org/apache/doris/master/ReportHandler.java     |  30 ++--
 .../org/apache/doris/planner/OlapScanNode.java     |  16 +-
 .../doris/transaction/GlobalTransactionMgr.java    | 161 +++++++++++----------
 .../doris/transaction/PublishVersionDaemon.java    |  29 ++--
 .../org/apache/doris/catalog/CatalogTestUtil.java  |   8 +-
 .../java/org/apache/doris/catalog/ReplicaTest.java |  12 +-
 .../org/apache/doris/load/LoadCheckerTest.java     |   8 +-
 .../org/apache/doris/task/LoadEtlTaskTest.java     |   2 +-
 .../transaction/GlobalTransactionMgrTest.java      |  14 +-
 31 files changed, 318 insertions(+), 292 deletions(-)

commit fbde6a8636e6e0b486e356ea680b1475d400dbe8
Author: Liu Xudong <45041955+chalsliu@users.noreply.github.com>
Date:   Wed Nov 21 15:58:12 2018 +0800

    Support for custom build toolchains (#330)
    
    * Support for custom build toolchains
    
    ISSUE #297
    
    Locate the header file path of DORIS_GCC_HOME, add them to the CPLUS_INCLUDE_PATH environment variable.
    So clang can find it.
    
    * Compatible with custom toolchain for clang
    
    ISSUE #297
    
    1. Find default header file paths of DORIS_GCC_HOME and set as enviroment variable CLANG_COMPATIBLE_FLAGS.
    2. Explicitly add these paths to CLANG_INCLUDE_FLAGS.

 be/CMakeLists.txt | 6 ++++++
 env.sh            | 5 +++++
 2 files changed, 11 insertions(+)

commit b57dfd4dd3a3695979392726faeccf2fbc7c3e71
Author: lide <mailtolide@sina.com>
Date:   Tue Nov 20 20:06:36 2018 +0800

    Fix a compile issue (#331)
    
    * Fix a compile issue
    
    * Fix a compile issue

 build.sh                       | 2 +-
 thirdparty/build-thirdparty.sh | 1 -
 thirdparty/vars.sh             | 2 +-
 3 files changed, 2 insertions(+), 3 deletions(-)

commit 791e89568e60033e0cfc315fb403185566e176d3
Author: Mingyu Chen <morningman@163.com>
Date:   Tue Nov 20 18:59:18 2018 +0800

    Change PaloMetrics' name and Catalog's Id generator (#329)
    
    * Change PaloMetrics' name and Catalog's Id generator
    1. Remove 'Palo' prefix of class Metric.
    2. Add a new CatalogIdGenerator to replace the old AtomicLong, to avoid too many edit logs.
    3. Add a new histogram to monitor write letency of edit log write.
    
    * modify next id logic
    
    * fix a bug that Metric is not init before using HISTO_EDIT_LOG_WRITE_LATENCY
    
    * fix a problem

 .../java/org/apache/doris/catalog/Catalog.java     | 16 +++---
 .../apache/doris/catalog/CatalogIdGenerator.java   | 64 +++++++++++++++++++++
 .../{PaloCounterMetric.java => CounterMetric.java} |  4 +-
 ...etricRegistry.java => DorisMetricRegistry.java} | 10 ++--
 ...CounterMetric.java => DoubleCounterMetric.java} |  4 +-
 .../{PaloGaugeMetric.java => GaugeMetric.java}     |  4 +-
 ...ngCounterMetric.java => LongCounterMetric.java} |  4 +-
 .../doris/metric/{PaloMetric.java => Metric.java}  |  6 +-
 .../java/org/apache/doris/metric/MetricRepo.java   | 65 +++++++++++-----------
 .../{PaloMetricVisitor.java => MetricVisitor.java} |  6 +-
 .../doris/metric/PrometheusMetricVisitor.java      |  4 +-
 .../java/org/apache/doris/persist/EditLog.java     |  8 ++-
 .../doris/transaction/GlobalTransactionMgr.java    |  6 +-
 ...DGenerator.java => TransactionIdGenerator.java} |  4 +-
 .../transaction/FakeTransactionIDGenerator.java    |  2 +-
 15 files changed, 136 insertions(+), 71 deletions(-)

commit 9a2ad18428190f1a24ee720d107c152c09f0ce9a
Author: Mingyu Chen <morningman@163.com>
Date:   Mon Nov 19 17:42:46 2018 +0800

    Add path info of replica in catalog (#327)
    
    Add path info of replica in catalog
    
    Also fix a bug that when calling check_none_row_oriented_table,
    store is null, it cannot be used to create table.
    Instead, OLAPHeader can be used to get storage type information.

 be/src/agent/heartbeat_server.cpp                  | 18 ++++++++-
 be/src/agent/heartbeat_server.h                    | 10 ++++-
 be/src/agent/task_worker_pool.cpp                  | 45 ++++++----------------
 be/src/agent/task_worker_pool.h                    |  3 --
 be/src/olap/olap_engine.cpp                        | 18 +++++----
 be/src/olap/olap_engine.h                          | 26 +++++++++++--
 be/src/olap/store.cpp                              | 21 +++++-----
 be/src/olap/store.h                                |  3 ++
 be/src/util/CMakeLists.txt                         |  1 +
 be/src/util/blocking_queue.hpp                     | 32 +++++++--------
 be/src/util/string_util.cpp                        | 36 +++++++++++++++++
 be/src/util/string_util.h                          |  5 +++
 be/test/util/string_util_test.cpp                  | 17 ++++++++
 .../java/org/apache/doris/backup/Repository.java   | 13 +++----
 .../java/org/apache/doris/catalog/DiskInfo.java    | 17 +++++++-
 .../java/org/apache/doris/catalog/Replica.java     | 12 +++++-
 .../apache/doris/catalog/TabletInvertedIndex.java  | 22 +++++++----
 .../apache/doris/common/proc/BackendProcNode.java  | 16 ++++----
 .../apache/doris/common/proc/TabletsProcDir.java   | 14 ++++---
 fe/src/main/java/org/apache/doris/load/Load.java   | 21 +++++-----
 .../org/apache/doris/master/ReportHandler.java     | 44 +++++++++++++++++----
 .../main/java/org/apache/doris/system/Backend.java | 24 +++++++++---
 .../doris/common/proc/BackendProcNodeTest.java     |  2 +-
 gensrc/thrift/MasterService.thrift                 |  3 ++
 run-ut.sh                                          |  1 +
 25 files changed, 289 insertions(+), 135 deletions(-)

commit dddaacc2d79f8a69765a675f55a0f5d484f03053
Author: lichao <lichaojacobs@tju.edu.cn>
Date:   Sat Nov 17 22:18:19 2018 +0800

    Fix fe.conf audit_log_moudles,sys_log_roll_mode,audit_log_roll_mode settings (#326)

 conf/fe.conf | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fec3c586558e26f00a9ed6b02102b490c6fdbdcb
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Fri Nov 16 17:17:39 2018 +0800

    Change log verbose level to vlog(3) (#325)
    
    * Transform row-oriented table to columnar-oriented table
    
    * Transform row-oriented table to columnar-oriented table
    
    * change log verbose level

 be/src/exec/olap_scan_node.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b946f20e375b57823e290e7faf354cc2e7064e27
Author: tangxiaoqing <txqyou@gmail.com>
Date:   Fri Nov 16 16:35:08 2018 +0800

    Add docker dev environment (#301)
    
    Add a docker based dev environment.
    User can build Doris from source in docker container.

 docker/Docker_build.md | 26 ++++++++++++++++
 docker/Dockerfile      | 82 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 108 insertions(+)

commit 1ba8a4ee4edf88656269b0fcb0d1cc1d4a6b8f41
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Fri Nov 16 16:03:56 2018 +0800

    Transform row-oriented table to columnar-oriented table (#311)

 be/src/exec/olap_scanner.h                         |    2 +-
 be/src/olap/CMakeLists.txt                         |   64 +-
 be/src/olap/base_compaction.cpp                    |   14 +-
 be/src/olap/base_compaction.h                      |    6 +-
 be/src/olap/{column_file => }/bit_field_reader.cpp |   10 +-
 be/src/olap/{column_file => }/bit_field_reader.h   |    4 +-
 be/src/olap/{column_file => }/bit_field_writer.cpp |    4 +-
 be/src/olap/{column_file => }/bit_field_writer.h   |    4 +-
 be/src/olap/{column_file => }/bloom_filter.hpp     |    2 -
 .../olap/{column_file => }/bloom_filter_reader.cpp |    4 +-
 .../olap/{column_file => }/bloom_filter_reader.h   |    6 +-
 .../olap/{column_file => }/bloom_filter_writer.cpp |    4 +-
 .../olap/{column_file => }/bloom_filter_writer.h   |    6 +-
 be/src/olap/{column_file => }/byte_buffer.cpp      |    2 -
 be/src/olap/{column_file => }/byte_buffer.h        |    2 -
 be/src/olap/{column_file => }/column_data.cpp      |  105 +-
 be/src/olap/{column_file => }/column_data.h        |   92 +-
 be/src/olap/{column_file => }/column_reader.cpp    |   12 +-
 be/src/olap/{column_file => }/column_reader.h      |   12 +-
 be/src/olap/{column_file => }/column_writer.cpp    |    6 +-
 be/src/olap/{column_file => }/column_writer.h      |   14 +-
 be/src/olap/{column_file => }/compress.cpp         |    4 +-
 be/src/olap/{column_file => }/compress.h           |    2 -
 be/src/olap/cumulative_compaction.cpp              |    6 +-
 be/src/olap/cumulative_compaction.h                |    4 +-
 be/src/olap/{column_file => }/data_writer.cpp      |   74 +-
 be/src/olap/{column_file => }/data_writer.h        |   36 +-
 be/src/olap/delta_writer.cpp                       |    4 +-
 be/src/olap/delta_writer.h                         |    4 +-
 be/src/olap/{column_file => }/file_stream.cpp      |    8 +-
 be/src/olap/{column_file => }/file_stream.h        |    8 +-
 be/src/olap/i_data.cpp                             |  110 --
 be/src/olap/i_data.h                               |  203 ----
 be/src/olap/{column_file => }/in_stream.cpp        |    8 +-
 be/src/olap/{column_file => }/in_stream.h          |    8 +-
 be/src/olap/memtable.cpp                           |    6 +-
 be/src/olap/memtable.h                             |    6 +-
 be/src/olap/merger.cpp                             |    9 +-
 be/src/olap/merger.h                               |    4 +-
 be/src/olap/olap_common.h                          |    2 +-
 be/src/olap/olap_cond.cpp                          |    6 +-
 be/src/olap/olap_cond.h                            |    8 +-
 be/src/olap/olap_data.cpp                          | 1108 --------------------
 be/src/olap/olap_data.h                            |  371 -------
 be/src/olap/olap_engine.cpp                        |  120 ++-
 be/src/olap/olap_engine.h                          |    6 +
 be/src/olap/olap_header.cpp                        |   25 +
 be/src/olap/olap_header.h                          |    1 +
 be/src/olap/olap_index.cpp                         |    4 +-
 be/src/olap/olap_snapshot.cpp                      |    6 +-
 be/src/olap/olap_table.cpp                         |   57 +-
 be/src/olap/olap_table.h                           |   15 +-
 be/src/olap/{column_file => }/out_stream.cpp       |    6 +-
 be/src/olap/{column_file => }/out_stream.h         |   10 +-
 be/src/olap/push_handler.cpp                       |    4 +-
 be/src/olap/push_handler.h                         |    4 +-
 be/src/olap/reader.cpp                             |   12 +-
 be/src/olap/reader.h                               |    8 +-
 be/src/olap/rowset.cpp                             |    4 +-
 be/src/olap/rowset.h                               |    4 +-
 be/src/olap/rowset_builder.h                       |   12 +-
 .../{column_file => }/run_length_byte_reader.cpp   |    8 +-
 .../{column_file => }/run_length_byte_reader.h     |    6 +-
 .../{column_file => }/run_length_byte_writer.cpp   |    6 +-
 .../{column_file => }/run_length_byte_writer.h     |    4 +-
 .../run_length_integer_reader.cpp                  |   10 +-
 .../{column_file => }/run_length_integer_reader.h  |    8 +-
 .../run_length_integer_writer.cpp                  |    8 +-
 .../{column_file => }/run_length_integer_writer.h  |    4 +-
 be/src/olap/schema_change.cpp                      |   52 +-
 be/src/olap/schema_change.h                        |   20 +-
 be/src/olap/{column_file => }/segment_reader.cpp   |   14 +-
 be/src/olap/{column_file => }/segment_reader.h     |   14 +-
 be/src/olap/{column_file => }/segment_writer.cpp   |    8 +-
 be/src/olap/{column_file => }/segment_writer.h     |    5 +-
 be/src/olap/{column_file => }/serialize.cpp        |    8 +-
 be/src/olap/{column_file => }/serialize.h          |    4 +-
 be/src/olap/store.cpp                              |   49 +-
 be/src/olap/store.h                                |    4 +
 .../olap/{column_file => }/stream_index_common.cpp |    6 +-
 .../olap/{column_file => }/stream_index_common.h   |    2 -
 .../olap/{column_file => }/stream_index_reader.cpp |    4 +-
 .../olap/{column_file => }/stream_index_reader.h   |    4 +-
 .../olap/{column_file => }/stream_index_writer.cpp |    4 +-
 .../olap/{column_file => }/stream_index_writer.h   |    6 +-
 be/src/olap/{column_file => }/stream_name.cpp      |    4 +-
 be/src/olap/{column_file => }/stream_name.h        |    2 -
 be/src/olap/writer.cpp                             |  265 -----
 be/src/olap/writer.h                               |  180 ----
 be/test/olap/bit_field_test.cpp                    |   12 +-
 be/test/olap/bloom_filter_index_test.cpp           |    6 +-
 be/test/olap/bloom_filter_test.cpp                 |    4 +-
 be/test/olap/byte_buffer_test.cpp                  |    4 +-
 be/test/olap/column_reader_test.cpp                |   10 +-
 be/test/olap/run_length_byte_test.cpp              |   20 +-
 be/test/olap/run_length_integer_test.cpp           |   16 +-
 be/test/olap/serialize_test.cpp                    |    4 +-
 be/test/olap/stream_index_test.cpp                 |   10 +-
 gensrc/proto/column_data_file.proto                |    2 +-
 gensrc/script/gen_build_version.sh                 |    2 +-
 tools/row_to_column/README                         |   11 +
 tools/row_to_column/conf                           |    6 +
 tools/row_to_column/convert_row_to_column.py       |   95 ++
 tools/row_to_column/get_ddl_stmt.py                |   68 ++
 104 files changed, 963 insertions(+), 2688 deletions(-)

commit 0aea149c0baf97719b154e5dd7cba5065de40f5d
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Fri Nov 16 15:27:16 2018 +0800

    Fix core local value UT failed (#324)
    
    Issue: #323

 be/test/util/core_local_test.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e9bf33299452b45064d6891b917b3232f23527ef
Author: lichao <lichaojacobs@tju.edu.cn>
Date:   Fri Nov 16 08:54:57 2018 +0800

    Fix fe.conf audit_log_moudles default value error (#321)

 conf/fe.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44029937e4b1bd7f0441049aba69e44efb05ee6b
Author: EmmyMiao87 <522274284@qq.com>
Date:   Thu Nov 15 21:04:22 2018 +0800

    Add scheduler routine load job for stream load (#313)
    
    1. fetch need_scheduler routine load job
    2. caculate current concurrent task number of job
    3. divide kafka partition into tasks

 fe/pom.xml                                         |   6 +
 fe/src/main/cup/sql_parser.cup                     |   2 +-
 .../java/org/apache/doris/catalog/Catalog.java     | 305 +++++++++++----------
 .../load/routineload/KafkaRoutineLoadJob.java      | 119 ++++++++
 .../load/routineload/KafkaRoutineLoadProgress.java |  24 ++
 .../load/routineload/KafkaRoutineLoadTask.java     |  43 +++
 .../apache/doris/load/routineload/RoutineLoad.java | 264 ++++++++++++++++++
 .../doris/load/routineload/RoutineLoadJob.java     | 148 ++++++++++
 .../load/routineload/RoutineLoadScheduler.java     |  92 +++++++
 .../doris/load/routineload/RoutineLoadTask.java    |  30 ++
 .../java/org/apache/doris/persist/EditLog.java     |  19 +-
 .../org/apache/doris/persist/OperationType.java    |   3 +
 .../load/routineload/KafkaRoutineLoadJobTest.java  | 106 +++++++
 .../load/routineload/RoutineLoadSchedulerTest.java |  86 ++++++
 14 files changed, 1090 insertions(+), 157 deletions(-)

commit 8ac9492b11034746292ae4af7c4e9c8f8755cde2
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Thu Nov 15 20:14:39 2018 +0800

    Fix SHOW BACKENDS return ERROR (#320)
    
    In some case, errMsg in Backend maybe null. we change it when check it
    nut null
    
    Issue: #317

 fe/src/main/java/org/apache/doris/system/Backend.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit f1b673503e4f9843616950feedb7d0f1ed2cf084
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Nov 15 19:23:42 2018 +0800

    Fix lose of be's meta data bug (#318)
    
    Modify rocksdb's WriteOptions.sync to true
    to force sync WAL to disk every write operation

 be/src/olap/olap_meta.cpp | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit a2b299e3b9e33a4a8f0b16fb62758726cd819cf7
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Thu Nov 15 16:17:23 2018 +0800

    Reduce UT binary size (#314)
    
    * Reduce UT binary size
    
    Almost every module depend on ExecEnv, and ExecEnv contains all
    singleton, which make UT binary contains all object files.
    
    This patch seperate ExecEnv's initial and destory to anthor file to
    avoid other file's dependence. And status.cc include debug_util.h which
    depend tuple.h tuple_row.h, and I move get_stack_trace() to
    stack_util.cpp to reduce status.cc's dependence.
    
    I add USE_RTTI=1 to build rocksdb to avoid linking librocksdb.a
    
    Issue: #292
    
    * Update

 .gitignore                                      |   1 +
 be/src/agent/heartbeat_server.cpp               |  10 +-
 be/src/agent/heartbeat_server.h                 |   1 +
 be/src/agent/user_resource_listener.cpp         |   5 +-
 be/src/agent/user_resource_listener.h           |   4 +-
 be/src/common/config.h                          |  26 +--
 be/src/common/daemon.cpp                        |   2 +-
 be/src/common/status.cpp                        |   1 -
 be/src/common/status.h                          |   1 +
 be/src/exec/aggregation_node.cpp                |   5 +-
 be/src/exec/blocking_join_node.cpp              |   5 +-
 be/src/exec/broker_scan_node.cpp                |   5 +-
 be/src/exec/exchange_node.cpp                   |   3 +-
 be/src/exec/hash_join_node.cpp                  |  13 +-
 be/src/exec/hash_table.cpp                      |   3 +-
 be/src/exec/new_partitioned_aggregation_node.cc |   3 +-
 be/src/exec/new_partitioned_hash_table.cc       |   3 +-
 be/src/exec/olap_rewrite_node.cpp               |   3 +-
 be/src/exec/olap_scan_node.cpp                  |   3 +-
 be/src/exec/olap_scan_node.h                    |   3 +-
 be/src/exec/olap_scanner.cpp                    |   4 +-
 be/src/exec/olap_table_info.cpp                 |   5 +-
 be/src/exec/olap_table_sink.cpp                 |   4 +-
 be/src/exec/partitioned_aggregation_node.cc     |   5 +-
 be/src/exec/partitioned_hash_table.cc           |   3 +-
 be/src/exec/row_batch_list.h                    |   4 +-
 be/src/exec/schema_scanner/frontend_helper.cpp  |   2 +
 be/src/exec/schema_scanner/frontend_helper.h    |   7 +-
 be/src/exec/select_node.cpp                     |   3 +-
 be/src/exec/topn_node.cpp                       |   3 +-
 be/src/http/action/mini_load.cpp                |   1 +
 be/src/olap/file_helper.cpp                     |   8 +-
 be/src/olap/file_helper.h                       |   9 +
 be/src/olap/olap_engine.cpp                     |  11 +-
 be/src/olap/olap_engine.h                       |   4 -
 be/src/runtime/CMakeLists.txt                   |   1 +
 be/src/runtime/bufferpool/buffer_allocator.cc   |   4 +-
 be/src/runtime/bufferpool/system_allocator.cc   |  10 +-
 be/src/runtime/data_spliter.cpp                 |   3 +-
 be/src/runtime/dpp_sink.cpp                     |   1 +
 be/src/runtime/etl_job_mgr.cpp                  |   1 +
 be/src/runtime/exec_env.cpp                     | 277 +---------------------
 be/src/runtime/exec_env.h                       | 298 +++++++++---------------
 be/src/runtime/exec_env_init.cpp                | 215 +++++++++++++++++
 be/src/runtime/export_sink.cpp                  |   3 +-
 be/src/runtime/fragment_mgr.cpp                 |   1 +
 be/src/runtime/mem_pool.cpp                     |   4 +-
 be/src/runtime/mem_pool.h                       |   3 +-
 be/src/runtime/plan_fragment_executor.cpp       |   2 +-
 be/src/runtime/row_batch.cpp                    |   9 +
 be/src/runtime/row_batch.h                      |   1 +
 be/src/runtime/test_env.cc                      |   2 +-
 be/src/runtime/tuple.cpp                        |  41 +++-
 be/src/runtime/tuple.h                          |   3 +
 be/src/runtime/tuple_row.cpp                    |  17 ++
 be/src/runtime/tuple_row.h                      |   1 +
 be/src/service/CMakeLists.txt                   |   1 +
 be/src/service/doris_main.cpp                   |  22 +-
 be/src/service/http_service.cpp                 | 119 ++++++++++
 be/src/service/http_service.h                   |  44 ++++
 be/src/util/CMakeLists.txt                      |   1 +
 be/src/util/debug_util.cpp                      |  80 -------
 be/src/util/debug_util.h                        |  13 --
 be/src/util/disk_info.cpp                       |   2 -
 be/src/util/mem_info.cpp                        |   1 -
 be/src/util/stack_util.cpp                      |  34 +++
 be/src/util/stack_util.h                        |  29 +++
 be/test/exec/olap_table_sink_test.cpp           |  52 +++--
 be/test/http/stream_load_test.cpp               |  48 ++--
 env.sh                                          |   2 +-
 thirdparty/build-thirdparty.sh                  |  40 ++--
 thirdparty/download-thirdparty.sh               |  27 ++-
 72 files changed, 843 insertions(+), 742 deletions(-)

commit d7ee57e8817faa2e7b80c0b6f83f24c23d26dca1
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Thu Nov 15 14:03:52 2018 +0800

    Optimize quota unit (#309)
    
    Originally, we can only set quota in bytes unit. This commit add quota unit:K/KB/M/MB/G/GB/T/TB/P/PB
    for convenience.

 docs/help/Contents/Data Definition/ddl_stmt.md     |  12 +-
 fe/src/main/cup/sql_parser.cup                     |  16 ++-
 .../doris/analysis/AlterDatabaseQuotaStmt.java     |  59 +++++++--
 .../doris/analysis/AlterDatabaseQuotaStmtTest.java | 137 +++++++++++++++++++++
 4 files changed, 212 insertions(+), 12 deletions(-)

commit 3a878fcf09e92b8de6a39f9c0a785b7b2f2dd55b
Author: lide <mailtolide@sina.com>
Date:   Wed Nov 14 14:10:46 2018 +0800

    Improve build script (#305)

 be/CMakeLists.txt |  2 +-
 env.sh            | 32 +++++++++++++++++++++++++-------
 2 files changed, 26 insertions(+), 8 deletions(-)

commit c6df9b1e2d34c73c2eb340dfd6e198855a8c8b71
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Tue Nov 13 19:17:51 2018 +0800

    Make BE UT success (#304)

 be/test/exec/olap_table_sink_test.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 063f7d7a9aa896d61c35bb2bbb0c9ff6e8fee62b
Author: 李超勇 <lichaoyong@baidu.com>
Date:   Mon Nov 12 16:09:40 2018 +0800

    Fix code LICENSE for file modified from LevelDB. (#300)

 LICENSE.txt                                        | 47 ++++++++++++++++++++++
 be/src/olap/lru_cache.cpp                          | 19 ++-------
 be/src/olap/lru_cache.h                            | 19 ++-------
 be/src/olap/new_status.cpp                         | 19 ++-------
 be/src/olap/new_status.h                           | 19 ++-------
 be/src/olap/skiplist.h                             | 19 ++-------
 be/src/util/CMakeLists.txt                         |  2 +-
 be/src/util/{arena.cc => arena.cpp}                | 19 ++-------
 be/src/util/arena.h                                | 19 ++-------
 .../java/org/apache/doris/qe/StmtExecutor.java     |  1 -
 10 files changed, 69 insertions(+), 114 deletions(-)

commit ae8d16c81e47930ae0f1fb0c31d35dcfe9f337dc
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Nov 12 11:15:39 2018 +0800

    Fix failed cases in regression test (#299)

 be/src/exprs/cast_functions.cpp                    |  7 ++-
 be/src/exprs/cast_functions.h                      |  2 +-
 .../org/apache/doris/analysis/ArithmeticExpr.java  |  2 +-
 .../org/apache/doris/analysis/OrderByElement.java  |  6 +--
 .../apache/doris/rewrite/FoldConstantsRule.java    | 53 ++++++++++++++++++----
 5 files changed, 51 insertions(+), 19 deletions(-)

commit e8b4ebd4c57511d14cb392700f63dfb6a53df123
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Sat Nov 10 15:49:10 2018 +0800

    Correct TxnKey comment (#295)

 be/src/olap/olap_engine.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2081b7fea5920553298b57f1569987d8575085a9
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Sat Nov 10 15:46:45 2018 +0800

    Be compatible with old RPC (#296)
    
    Add palo.PInternalService which can server old version palo's client.
    
    Issue: #293

 be/src/exec/olap_table_sink.h                      |  3 +-
 be/src/gen_cpp/CMakeLists.txt                      |  1 +
 be/src/runtime/data_stream_sender.cpp              |  3 +-
 be/src/service/brpc_service.cpp                    |  5 ++-
 be/src/service/internal_service.cpp                | 36 ++++++++++++++-------
 be/src/service/internal_service.h                  |  4 ++-
 be/src/util/brpc_stub_cache.h                      | 11 ++++---
 .../org/apache/doris/rpc/BackendServiceProxy.java  | 20 ++++++------
 ...{PInternalService.java => PBackendService.java} | 10 +++---
 gensrc/proto/internal_service.proto                |  4 ++-
 gensrc/proto/palo_internal_service.proto           | 37 ++++++++++++++++++++++
 11 files changed, 98 insertions(+), 36 deletions(-)

commit 6f206ae9c60184ee1b53dc1412f86f7207fc102b
Author: lide <mailtolide@sina.com>
Date:   Fri Nov 9 14:30:09 2018 +0800

    Fix some license (#290)

 LICENSE.txt                                        |   101 +
 be/test/olap/CMakeLists.txt                        |    17 +
 docs/Makefile                                      |    18 +
 .../apache/doris/http/action/WebBaseAction.java    |    28 +-
 webroot/static/bootstrap.css                       | 10213 ++++++----
 webroot/static/datatables_bootstrap.css            |   320 +-
 webroot/static/datatables_bootstrap.js             |   319 +-
 webroot/static/jquery.dataTables.js                | 20357 +++++++++++--------
 8 files changed, 18257 insertions(+), 13116 deletions(-)

commit a1a795442a8eb8f0716a8929d134e6ccb5f28c56
Author: tangxiaoqing <txqyou@gmail.com>
Date:   Fri Nov 9 10:39:03 2018 +0800

    Fix be build error (#289)
    
    #288

 be/CMakeLists.txt | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 1d8fc4bb69091f0ac9e8bd670d621eba38f8d092
Author: kangkaisen <kangkaisen@163.com>
Date:   Wed Nov 7 13:59:05 2018 +0800

    Improve cardinality, avgRowSize, numNodes stat info in OlapScanNode (#256)
    
    Currently, the cardinality, avgRowSize, numNodes stat info in OlapScanNode is none, So the broadcastCost and partitionCost are both wrong and Doris couldn't auto choose a best join strategy.
    
    So we should make the statistical information in OlapScanNode more precise.

 .../org/apache/doris/planner/OlapScanNode.java     | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit fc8f78d81c9f207e71e6bd267e799dd05f8dd665
Author: chenhao7253886 <510341142@qq.com>
Date:   Wed Nov 7 12:53:11 2018 +0800

    Fix unit test failure (#286)

 fe/src/main/cup/sql_parser.cup                                        | 4 ++++
 fe/src/test/java/org/apache/doris/planner/StreamLoadScanNodeTest.java | 3 +--
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 0c4edc2b3c9bbf3731103105261fcd9cabb6148f
Author: chenhao7253886 <510341142@qq.com>
Date:   Wed Nov 7 09:34:39 2018 +0800

    Fix BE can't be grayscale upgraded (#285)

 be/src/runtime/lib_cache.cpp                                  |  6 ++++--
 be/src/runtime/lib_cache.h                                    | 10 ++++++++++
 fe/src/main/java/org/apache/doris/catalog/ScalarFunction.java |  2 +-
 3 files changed, 15 insertions(+), 3 deletions(-)

commit 370e73ce5d1ab956da156d369edbc0daae69e9b6
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Nov 6 18:57:13 2018 +0800

    Fix truncation error in CastExpr (#283)

 be/src/exprs/anyval_util.cpp                       |   2 +-
 be/src/exprs/anyval_util.h                         |   3 +-
 be/src/exprs/cast_functions.cpp                    |  18 ++-
 fe/src/main/cup/sql_parser.cup                     |  57 ++++++++--
 .../java/org/apache/doris/analysis/CastExpr.java   |  78 +++++--------
 .../main/java/org/apache/doris/analysis/Expr.java  |   2 +-
 .../java/org/apache/doris/analysis/TypeDef.java    | 124 +++++++++++++++++++++
 .../org/apache/doris/planner/BrokerScanNode.java   |   6 +-
 .../apache/doris/planner/StreamLoadScanNode.java   |   6 +-
 9 files changed, 221 insertions(+), 75 deletions(-)

commit 8d7bd01a71db6a921534c501816fd9ce2f46676b
Author: kangkaisen <kangkaisen@163.com>
Date:   Tue Nov 6 17:24:54 2018 +0800

    Simplify constant Expr (#255)
    
    Simplify constant Expr could improve Partition Pruning. The examples for constant Expr Simplifing:
    
    1 + 1 + 1 --> 3
    date_add('2018-08-08', 1) --> 2018-08-09
    year('2018-07-24')*12 + month('2018-07-24') -> 24223

 .../java/org/apache/doris/analysis/Analyzer.java   |   2 +
 .../main/java/org/apache/doris/analysis/Expr.java  |  13 ++
 .../java/org/apache/doris/catalog/ScalarType.java  |  41 ++++
 .../java/org/apache/doris/rewrite/FEFunction.java  |  33 +++
 .../java/org/apache/doris/rewrite/FEFunctions.java | 259 +++++++++++++++++++++
 .../apache/doris/rewrite/FoldConstantsRule.java    | 239 +++++++++++++++++++
 6 files changed, 587 insertions(+)

commit acb332833a5bbd11232746af3a4576d801adbbf3
Author: kangkaisen <kangkaisen@163.com>
Date:   Tue Nov 6 15:25:40 2018 +0800

    Fix view missed parenthesis bug (#253)

 fe/src/main/cup/sql_parser.cup                     | 10 ++++++--
 .../org/apache/doris/analysis/AnalyticExpr.java    |  2 +-
 .../org/apache/doris/analysis/ArithmeticExpr.java  |  2 +-
 .../apache/doris/analysis/BetweenPredicate.java    |  2 +-
 .../org/apache/doris/analysis/BinaryPredicate.java |  2 +-
 .../org/apache/doris/analysis/BoolLiteral.java     |  2 +-
 .../java/org/apache/doris/analysis/CaseExpr.java   |  2 +-
 .../java/org/apache/doris/analysis/CastExpr.java   |  2 +-
 .../apache/doris/analysis/CompoundPredicate.java   |  2 +-
 .../org/apache/doris/analysis/DateLiteral.java     |  2 +-
 .../org/apache/doris/analysis/DecimalLiteral.java  |  2 +-
 .../org/apache/doris/analysis/ExistsPredicate.java |  2 +-
 .../main/java/org/apache/doris/analysis/Expr.java  | 28 ++++++++++++++++++++--
 .../org/apache/doris/analysis/FloatLiteral.java    |  2 +-
 .../apache/doris/analysis/FunctionCallExpr.java    |  2 +-
 .../org/apache/doris/analysis/InPredicate.java     |  2 +-
 .../apache/doris/analysis/InformationFunction.java |  2 +-
 .../java/org/apache/doris/analysis/IntLiteral.java |  2 +-
 .../org/apache/doris/analysis/IsNullPredicate.java |  2 +-
 .../org/apache/doris/analysis/LargeIntLiteral.java |  2 +-
 .../org/apache/doris/analysis/LikePredicate.java   |  2 +-
 .../java/org/apache/doris/analysis/MaxLiteral.java |  2 +-
 .../org/apache/doris/analysis/NullLiteral.java     |  2 +-
 .../java/org/apache/doris/analysis/SlotRef.java    |  2 +-
 .../org/apache/doris/analysis/StringLiteral.java   |  2 +-
 .../java/org/apache/doris/analysis/Subquery.java   |  2 +-
 .../org/apache/doris/analysis/SysVariableDesc.java |  2 +-
 .../java/org/apache/doris/analysis/TableRef.java   |  2 +-
 .../doris/analysis/TimestampArithmeticExpr.java    |  2 +-
 .../doris/analysis/TupleIsNullPredicate.java       |  2 +-
 30 files changed, 62 insertions(+), 32 deletions(-)

commit cb36e411e966c1dc48fd6ae8503de2e7b0e39d62
Author: kangkaisen <kangkaisen@163.com>
Date:   Mon Nov 5 20:39:21 2018 +0800

    Support AnalyticExpr in View (#248)

 .../org/apache/doris/analysis/AnalyticExpr.java    | 68 +++++++++++++---------
 1 file changed, 40 insertions(+), 28 deletions(-)

commit 8b665a41c8f52203d00e3e68b4303967164f442f
Author: kangkaisen <kangkaisen@163.com>
Date:   Mon Nov 5 20:35:10 2018 +0800

    Support NULLS LAST and NULLS FIRST syntax (#252)
    
    Allow User specify the null ordering
    
    NULLS FIRST: specifies that NULL values should be returned before
    non-NULL values.
    NULLS LAST: specifies that NULL values should be returned after
    non-NULL values.

 fe/src/main/cup/sql_parser.cup                     | 36 +++++++++++++++++-----
 .../org/apache/doris/analysis/OrderByElement.java  | 15 ++++-----
 fe/src/main/jflex/sql_scanner.flex                 |  2 ++
 3 files changed, 38 insertions(+), 15 deletions(-)

commit 9ae631adb67ad145bd2fb7def2316f357a893186
Author: kangkaisen <kangkaisen@163.com>
Date:   Mon Nov 5 15:36:40 2018 +0800

    Fix InsertStmt reAnalyze bug (#251)

 .../java/org/apache/doris/analysis/InsertStmt.java | 14 ++++++++
 .../java/org/apache/doris/qe/StmtExecutor.java     | 39 +++++++---------------
 2 files changed, 26 insertions(+), 27 deletions(-)

commit 38e493df0bf655f921a4977da3785ea3695eddaf
Author: lide <mailtolide@sina.com>
Date:   Mon Nov 5 14:12:11 2018 +0800

    Fix typo in READEME.md (#278)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c3620047ad5b1042830cfaadd02aa7ec05f2338
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Nov 5 11:21:51 2018 +0800

    Fix BE can't be started by start_be.sh (#281)

 be/src/service/CMakeLists.txt | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit c877b4301331811c8fea4ef21f77bbf5a284f954
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Fri Nov 2 17:05:48 2018 +0800

    Remove my aes and fix palo ns to doris (#277)

 be/src/aes/my_aes.cpp          |  58 -----------
 be/src/aes/my_aes.h            | 139 --------------------------
 be/src/aes/my_aes_impl.h       |  37 -------
 be/src/aes/my_aes_openssl.cpp  | 216 -----------------------------------------
 be/src/util/aes_util.cpp       |   2 +-
 be/src/util/aes_util.h         |   2 +-
 be/test/util/aes_util_test.cpp |   2 +-
 7 files changed, 3 insertions(+), 453 deletions(-)

commit 69f3b024852dbfff27422e9de350929d92a07100
Author: morningman <morningman@163.com>
Date:   Fri Nov 2 16:36:59 2018 +0800

    Fix a bug that user can not kill it own connection (#276)

 fe/src/main/java/org/apache/doris/qe/StmtExecutor.java | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 312dfd10bb021a1223949ca7068969a7cd74126b
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Nov 2 16:24:21 2018 +0800

    Change SQL built-in function's symbol (#274)

 .../java/org/apache/doris/analysis/CastExpr.java   |   2 +-
 .../org/apache/doris/analysis/IsNullPredicate.java |   4 +-
 .../org/apache/doris/analysis/LikePredicate.java   |  12 +-
 .../java/org/apache/doris/catalog/FunctionSet.java | 580 ++++++++++-----------
 gensrc/script/doris_builtins_functions.py          | 366 ++++++-------
 gensrc/script/gen_build_version.sh                 |   2 +-
 gensrc/script/gen_functions.py                     |   8 +-
 gensrc/script/gen_opcodes.py                       |   2 +-
 gensrc/script/gen_vector_functions.py              |   8 +-
 9 files changed, 492 insertions(+), 492 deletions(-)

commit 847d29e394ca541331b77fb3a5583fa150ad6098
Author: kangkaisen <kangkaisen@163.com>
Date:   Fri Nov 2 16:06:01 2018 +0800

    Delete useless debug log (#250)

 fe/src/main/java/org/apache/doris/analysis/InsertStmt.java | 1 -
 1 file changed, 1 deletion(-)

commit d57e91db6e4797b7d88655190f05c821d5ea7ff1
Author: kangpinghuang <40422952+kangpinghuang@users.noreply.github.com>
Date:   Fri Nov 2 15:26:31 2018 +0800

    Rewrite aes encryption (#264)
    
    Resolve #257

 be/CMakeLists.txt                     |   2 -
 be/src/aes/CMakeLists.txt             |  27 -----
 be/src/exprs/encryption_functions.cpp |  10 +-
 be/src/util/CMakeLists.txt            |   1 +
 be/src/util/aes_util.cpp              | 180 ++++++++++++++++++++++++++++++++++
 be/src/util/aes_util.h                |  47 +++++++++
 be/test/util/CMakeLists.txt           |   1 +
 be/test/util/aes_util_test.cpp        |  90 +++++++++++++++++
 run-ut.sh                             |   1 +
 9 files changed, 325 insertions(+), 34 deletions(-)

commit b87de7e78ed41a06b5a7f849788a57d04584a6c6
Author: lide <mailtolide@sina.com>
Date:   Fri Nov 2 15:23:44 2018 +0800

    Update README.md and build.sh (#273)
    
    change some 'palo' to 'doris'

 README.md | 54 +++++++++++++++++++++++++++---------------------------
 build.sh  |  2 +-
 2 files changed, 28 insertions(+), 28 deletions(-)

commit c92892bbb99a1d9dfeeb02f615ef0a25badb5f0f
Author: kangkaisen <kangkaisen@163.com>
Date:   Fri Nov 2 14:50:09 2018 +0800

    Fix UnionStmt toSql bug (#249)

 fe/src/main/java/org/apache/doris/analysis/UnionStmt.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 305762e96a804adcf27f7dfcc580d8359d48232a
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Nov 2 13:03:15 2018 +0800

    Fix unit test failed in BE (#269)

 be/test/olap/bloom_filter_test.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 37b4cafe878b338522b6cb2e131eef4face017fe
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Nov 2 10:22:32 2018 +0800

    Change variable and namespace name in BE (#268)
    
    Change 'palo' to 'doris'

 be/CMakeLists.txt                                  |   2 +-
 be/src/aes/my_aes.cpp                              |   2 +-
 be/src/aes/my_aes.h                                |   2 +-
 be/src/aes/my_aes_impl.h                           |   6 +-
 be/src/aes/my_aes_openssl.cpp                      |   2 +-
 be/src/agent/agent_server.cpp                      |   6 +-
 be/src/agent/agent_server.h                        |  10 +-
 be/src/agent/cgroups_mgr.cpp                       |  68 ++--
 be/src/agent/cgroups_mgr.h                         |   8 +-
 be/src/agent/file_downloader.cpp                   | 108 +++----
 be/src/agent/file_downloader.h                     |  10 +-
 be/src/agent/heartbeat_server.cpp                  |   8 +-
 be/src/agent/heartbeat_server.h                    |  10 +-
 be/src/agent/pusher.cpp                            |  44 +--
 be/src/agent/pusher.h                              |  10 +-
 be/src/agent/status.h                              |  50 +--
 be/src/agent/task_worker_pool.cpp                  | 168 +++++-----
 be/src/agent/task_worker_pool.h                    |  10 +-
 be/src/agent/topic_listener.h                      |   6 +-
 be/src/agent/topic_subscriber.cpp                  |   4 +-
 be/src/agent/topic_subscriber.h                    |   8 +-
 be/src/agent/user_resource_listener.cpp            |   2 +-
 be/src/agent/user_resource_listener.h              |   8 +-
 be/src/agent/utils.cpp                             | 116 +++----
 be/src/agent/utils.h                               |  10 +-
 be/src/codegen/CMakeLists.txt                      |  22 +-
 be/src/codegen/codegen_anyval.cpp                  |  32 +-
 be/src/codegen/codegen_anyval.h                    |   2 +-
 be/src/codegen/codegen_anyval_ir.cpp               |   2 +-
 be/src/codegen/{palo_ir.cpp => doris_ir.cpp}       |   0
 be/src/codegen/{palo_ir.h => doris_ir.h}           |   4 +-
 be/src/codegen/{palo_ir_data.h => doris_ir_data.h} |  12 +-
 be/src/codegen/gen_ir_descriptions.py              |  46 +--
 be/src/codegen/llvm_codegen.cpp                    |  22 +-
 be/src/codegen/llvm_codegen.h                      |  26 +-
 be/src/codegen/llvm_codegen_test.cpp               |  16 +-
 be/src/codegen/subexpr_elimination.cpp             |   4 +-
 be/src/codegen/subexpr_elimination.h               |   6 +-
 be/src/common/atomic.h                             |  10 +-
 be/src/common/compiler_util.h                      |   4 +-
 be/src/common/config.h                             |  34 +-
 be/src/common/configbase.cpp                       |   4 +-
 be/src/common/configbase.h                         |  10 +-
 be/src/common/daemon.cpp                           |  16 +-
 be/src/common/daemon.h                             |   6 +-
 be/src/common/global_types.h                       |   6 +-
 be/src/common/hdfs.h                               |   4 +-
 be/src/common/logconfig.cpp                        |   4 +-
 be/src/common/object_pool.h                        |   6 +-
 be/src/common/resource_tls.cpp                     |   2 +-
 be/src/common/resource_tls.h                       |   6 +-
 be/src/common/status.cpp                           |   2 +-
 be/src/common/status.h                             |   6 +-
 be/src/exec/aggregation_node.cpp                   |  76 ++---
 be/src/exec/aggregation_node.h                     |   8 +-
 be/src/exec/aggregation_node_ir.cpp                |   2 +-
 be/src/exec/analytic_eval_node.cpp                 |   8 +-
 be/src/exec/analytic_eval_node.h                   |   8 +-
 be/src/exec/blocking_join_node.cpp                 |   4 +-
 be/src/exec/blocking_join_node.h                   |   6 +-
 be/src/exec/broker_reader.cpp                      |   4 +-
 be/src/exec/broker_reader.h                        |   2 +-
 be/src/exec/broker_scan_node.cpp                   |   2 +-
 be/src/exec/broker_scan_node.h                     |   2 +-
 be/src/exec/broker_scanner.cpp                     |   2 +-
 be/src/exec/broker_scanner.h                       |   4 +-
 be/src/exec/broker_writer.cpp                      |   6 +-
 be/src/exec/broker_writer.h                        |  10 +-
 be/src/exec/cross_join_node.cpp                    |   2 +-
 be/src/exec/cross_join_node.h                      |   6 +-
 be/src/exec/csv_scan_node.cpp                      |   4 +-
 be/src/exec/csv_scan_node.h                        |  10 +-
 be/src/exec/csv_scanner.cpp                        |   4 +-
 be/src/exec/csv_scanner.h                          |  10 +-
 be/src/exec/data_sink.cpp                          |   4 +-
 be/src/exec/data_sink.h                            |   8 +-
 be/src/exec/decompressor.cpp                       |   8 +-
 be/src/exec/decompressor.h                         |   4 +-
 be/src/exec/empty_set_node.cpp                     |   2 +-
 be/src/exec/empty_set_node.h                       |   2 +-
 be/src/exec/exchange_node.cpp                      |   2 +-
 be/src/exec/exchange_node.h                        |   6 +-
 be/src/exec/exec_node.cpp                          |   2 +-
 be/src/exec/exec_node.h                            |   6 +-
 be/src/exec/file_reader.h                          |   2 +-
 be/src/exec/file_writer.h                          |  10 +-
 be/src/exec/hash_join_node.cpp                     |   4 +-
 be/src/exec/hash_join_node.h                       |   6 +-
 be/src/exec/hash_join_node_ir.cpp                  |   2 +-
 be/src/exec/hash_table.cpp                         |  20 +-
 be/src/exec/hash_table.h                           |   8 +-
 be/src/exec/hash_table.hpp                         |   6 +-
 be/src/exec/kudu_scan_node.cpp                     |   2 +-
 be/src/exec/kudu_scan_node.h                       |   2 +-
 be/src/exec/kudu_scanner.cpp                       |   2 +-
 be/src/exec/kudu_scanner.h                         |   6 +-
 be/src/exec/kudu_util.cpp                          |   2 +-
 be/src/exec/kudu_util.h                            |   2 +-
 be/src/exec/line_reader.h                          |   2 +-
 be/src/exec/local_file_reader.cpp                  |   2 +-
 be/src/exec/local_file_reader.h                    |   2 +-
 be/src/exec/local_file_writer.cpp                  |   4 +-
 be/src/exec/local_file_writer.h                    |  10 +-
 be/src/exec/merge_join_node.cpp                    |   2 +-
 be/src/exec/merge_join_node.h                      |   6 +-
 be/src/exec/merge_node.cpp                         |   2 +-
 be/src/exec/merge_node.h                           |   6 +-
 be/src/exec/mysql_scan_node.cpp                    |   2 +-
 be/src/exec/mysql_scan_node.h                      |   6 +-
 be/src/exec/mysql_scanner.cpp                      |   2 +-
 be/src/exec/mysql_scanner.h                        |   8 +-
 be/src/exec/new_partitioned_aggregation_node.cc    |   4 +-
 be/src/exec/new_partitioned_aggregation_node.h     |   6 +-
 be/src/exec/new_partitioned_aggregation_node_ir.cc |   2 +-
 be/src/exec/new_partitioned_hash_table.cc          |  12 +-
 be/src/exec/new_partitioned_hash_table.h           |   8 +-
 be/src/exec/new_partitioned_hash_table.inline.h    |   6 +-
 be/src/exec/new_partitioned_hash_table_ir.cc       |   2 +-
 be/src/exec/olap_common.cpp                        |   8 +-
 be/src/exec/olap_common.h                          |  22 +-
 be/src/exec/olap_meta_reader.cpp                   |   6 +-
 be/src/exec/olap_meta_reader.h                     |  10 +-
 be/src/exec/olap_rewrite_node.cpp                  |   2 +-
 be/src/exec/olap_rewrite_node.h                    |   6 +-
 be/src/exec/olap_scan_node.cpp                     |  46 +--
 be/src/exec/olap_scan_node.h                       |  18 +-
 be/src/exec/olap_scanner.cpp                       |  20 +-
 be/src/exec/olap_scanner.h                         |  12 +-
 be/src/exec/olap_table_info.cpp                    |   2 +-
 be/src/exec/olap_table_info.h                      |   6 +-
 be/src/exec/olap_table_sink.cpp                    |   4 +-
 be/src/exec/olap_table_sink.h                      |   4 +-
 be/src/exec/olap_utils.h                           |   8 +-
 be/src/exec/partitioned_aggregation_node.cc        |  74 ++---
 be/src/exec/partitioned_aggregation_node.h         |  22 +-
 be/src/exec/partitioned_aggregation_node_ir.cc     |   4 +-
 be/src/exec/partitioned_hash_table.cc              |  16 +-
 be/src/exec/partitioned_hash_table.h               |  12 +-
 be/src/exec/partitioned_hash_table.inline.h        |  10 +-
 be/src/exec/partitioned_hash_table_ir.cc           |   4 +-
 be/src/exec/pl_task_root.cpp                       |   2 +-
 be/src/exec/pl_task_root.h                         |   2 +-
 be/src/exec/plain_text_line_reader.cpp             |   2 +-
 be/src/exec/plain_text_line_reader.h               |   2 +-
 be/src/exec/pre_aggregation_node.cpp               |   2 +-
 be/src/exec/pre_aggregation_node.h                 |   6 +-
 be/src/exec/read_write_util.cpp                    |   2 +-
 be/src/exec/read_write_util.h                      |   6 +-
 be/src/exec/row_batch_list.h                       |   6 +-
 be/src/exec/scan_node.cpp                          |   2 +-
 be/src/exec/scan_node.h                            |   6 +-
 be/src/exec/schema_scan_node.cpp                   |   2 +-
 be/src/exec/schema_scan_node.h                     |   6 +-
 be/src/exec/schema_scanner.cpp                     |   4 +-
 be/src/exec/schema_scanner.h                       |  16 +-
 be/src/exec/schema_scanner/frontend_helper.cpp     |   2 +-
 be/src/exec/schema_scanner/frontend_helper.h       |   6 +-
 .../schema_scanner/schema_charsets_scanner.cpp     |   2 +-
 .../exec/schema_scanner/schema_charsets_scanner.h  |   6 +-
 .../schema_scanner/schema_collations_scanner.cpp   |   2 +-
 .../schema_scanner/schema_collations_scanner.h     |   6 +-
 .../exec/schema_scanner/schema_columns_scanner.cpp |   2 +-
 .../exec/schema_scanner/schema_columns_scanner.h   |   6 +-
 .../exec/schema_scanner/schema_dummy_scanner.cpp   |   2 +-
 be/src/exec/schema_scanner/schema_dummy_scanner.h  |   6 +-
 .../schema_scanner/schema_schemata_scanner.cpp     |   2 +-
 .../exec/schema_scanner/schema_schemata_scanner.h  |   6 +-
 .../exec/schema_scanner/schema_tables_scanner.cpp  |   2 +-
 be/src/exec/schema_scanner/schema_tables_scanner.h |   6 +-
 .../schema_scanner/schema_variables_scanner.cpp    |   2 +-
 .../exec/schema_scanner/schema_variables_scanner.h |   6 +-
 be/src/exec/select_node.cpp                        |   2 +-
 be/src/exec/select_node.h                          |   6 +-
 be/src/exec/sort_exec_exprs.cpp                    |   4 +-
 be/src/exec/sort_exec_exprs.h                      |   6 +-
 be/src/exec/sort_node.cpp                          |   2 +-
 be/src/exec/sort_node.h                            |   6 +-
 be/src/exec/spill_sort_node.cc                     |   4 +-
 be/src/exec/spill_sort_node.h                      |  10 +-
 be/src/exec/text_converter.cpp                     |   2 +-
 be/src/exec/text_converter.h                       |   6 +-
 be/src/exec/text_converter.hpp                     |   6 +-
 be/src/exec/topn_node.cpp                          |   2 +-
 be/src/exec/topn_node.h                            |   6 +-
 be/src/exec/union_node.cpp                         |   2 +-
 be/src/exec/union_node.h                           |   4 +-
 be/src/exec/union_node_ir.cpp                      |   2 +-
 be/src/exprs/agg_fn.cc                             |   4 +-
 be/src/exprs/agg_fn.h                              |   8 +-
 be/src/exprs/agg_fn_evaluator.cpp                  |  28 +-
 be/src/exprs/agg_fn_evaluator.h                    |  58 ++--
 be/src/exprs/aggregate_functions.cpp               | 104 +++---
 be/src/exprs/aggregate_functions.h                 | 238 +++++++-------
 be/src/exprs/anyval_util.cpp                       |  26 +-
 be/src/exprs/anyval_util.h                         | 152 ++++-----
 be/src/exprs/arithmetic_expr.cpp                   |  22 +-
 be/src/exprs/arithmetic_expr.h                     |   6 +-
 be/src/exprs/base64.cpp                            |   2 +-
 be/src/exprs/base64.h                              |   6 +-
 be/src/exprs/binary_predicate.cpp                  |  34 +-
 be/src/exprs/binary_predicate.h                    |   6 +-
 be/src/exprs/case_expr.cpp                         |  52 +--
 be/src/exprs/case_expr.h                           |   6 +-
 be/src/exprs/cast_expr.cpp                         |  10 +-
 be/src/exprs/cast_expr.h                           |   6 +-
 be/src/exprs/cast_functions.cpp                    |   2 +-
 be/src/exprs/cast_functions.h                      |   6 +-
 be/src/exprs/compound_predicate.cpp                |   2 +-
 be/src/exprs/compound_predicate.h                  |  12 +-
 be/src/exprs/conditional_functions.cpp             |   2 +-
 be/src/exprs/conditional_functions.h               |   6 +-
 be/src/exprs/conditional_functions_ir.cpp          |   2 +-
 be/src/exprs/decimal_operators.cpp                 |   2 +-
 be/src/exprs/decimal_operators.h                   |   6 +-
 be/src/exprs/encryption_functions.cpp              |   2 +-
 be/src/exprs/encryption_functions.h                |  30 +-
 be/src/exprs/es_functions.cpp                      |   4 +-
 be/src/exprs/es_functions.h                        |  12 +-
 be/src/exprs/expr.cpp                              |   8 +-
 be/src/exprs/expr.h                                |  12 +-
 be/src/exprs/expr_context.cpp                      |  32 +-
 be/src/exprs/expr_context.h                        |  12 +-
 be/src/exprs/expr_ir.cpp                           |  10 +-
 be/src/exprs/expr_value.h                          |   6 +-
 be/src/exprs/hll_hash_function.cpp                 |  12 +-
 be/src/exprs/hll_hash_function.h                   |  16 +-
 be/src/exprs/hybird_map.h                          |   8 +-
 be/src/exprs/hybird_set.cpp                        |   2 +-
 be/src/exprs/hybird_set.h                          |   8 +-
 be/src/exprs/in_predicate.cpp                      |   2 +-
 be/src/exprs/in_predicate.h                        |   6 +-
 be/src/exprs/info_func.cpp                         |   2 +-
 be/src/exprs/info_func.h                           |   6 +-
 be/src/exprs/is_null_predicate.cpp                 |   2 +-
 be/src/exprs/is_null_predicate.h                   |   6 +-
 be/src/exprs/json_functions.cpp                    |   2 +-
 be/src/exprs/json_functions.h                      |  24 +-
 be/src/exprs/like_predicate.cpp                    |   2 +-
 be/src/exprs/like_predicate.h                      | 128 ++++----
 be/src/exprs/literal.cpp                           |   4 +-
 be/src/exprs/literal.h                             |   6 +-
 be/src/exprs/math_functions.cpp                    |  14 +-
 be/src/exprs/math_functions.h                      | 270 ++++++++--------
 be/src/exprs/new_agg_fn_evaluator.cc               |   4 +-
 be/src/exprs/new_agg_fn_evaluator.h                |  14 +-
 be/src/exprs/new_agg_fn_evaluator_ir.cc            |   2 +-
 be/src/exprs/new_in_predicate.cpp                  |   2 +-
 be/src/exprs/new_in_predicate.h                    | 358 ++++++++++-----------
 be/src/exprs/null_literal.cpp                      |   2 +-
 be/src/exprs/null_literal.h                        |  26 +-
 be/src/exprs/operators.cpp                         |  10 +-
 be/src/exprs/operators.h                           |   8 +-
 be/src/exprs/predicate.h                           |   6 +-
 be/src/exprs/scalar_fn_call.cpp                    |   8 +-
 be/src/exprs/scalar_fn_call.h                      |  32 +-
 be/src/exprs/slot_ref.cpp                          |   6 +-
 be/src/exprs/slot_ref.h                            |  30 +-
 be/src/exprs/string_functions.cpp                  |   2 +-
 be/src/exprs/string_functions.h                    | 156 ++++-----
 be/src/exprs/timestamp_functions.cpp               |   4 +-
 be/src/exprs/timestamp_functions.h                 | 224 ++++++-------
 be/src/exprs/timezone_db.cpp                       |   2 +-
 be/src/exprs/tuple_is_null_predicate.cpp           |   2 +-
 be/src/exprs/tuple_is_null_predicate.h             |   6 +-
 be/src/exprs/udf_builtins.cpp                      |  26 +-
 be/src/exprs/udf_builtins.h                        |  38 +--
 be/src/exprs/utility_functions.cpp                 |   2 +-
 be/src/exprs/utility_functions.h                   |  14 +-
 be/src/gen_cpp/CMakeLists.txt                      |   4 +-
 be/src/http/action/checksum_action.cpp             |   4 +-
 be/src/http/action/checksum_action.h               |  10 +-
 be/src/http/action/health_action.cpp               |   4 +-
 be/src/http/action/health_action.h                 |  10 +-
 be/src/http/action/meta_action.cpp                 |   4 +-
 be/src/http/action/meta_action.h                   |  10 +-
 be/src/http/action/metrics_action.cpp              |   2 +-
 be/src/http/action/metrics_action.h                |   2 +-
 be/src/http/action/mini_load.cpp                   |   2 +-
 be/src/http/action/mini_load.h                     |   6 +-
 be/src/http/action/pprof_actions.cpp               |   4 +-
 be/src/http/action/pprof_actions.h                 |   6 +-
 be/src/http/action/reload_tablet_action.cpp        |   4 +-
 be/src/http/action/reload_tablet_action.h          |  10 +-
 be/src/http/action/restore_tablet_action.cpp       |   6 +-
 be/src/http/action/restore_tablet_action.h         |  10 +-
 be/src/http/action/snapshot_action.cpp             |   4 +-
 be/src/http/action/snapshot_action.h               |  10 +-
 be/src/http/action/stream_load.cpp                 |  12 +-
 be/src/http/action/stream_load.h                   |   2 +-
 be/src/http/default_path_handlers.cpp              |   2 +-
 be/src/http/default_path_handlers.h                |   6 +-
 be/src/http/download_action.cpp                    |   4 +-
 be/src/http/download_action.h                      |  10 +-
 be/src/http/ev_http_server.cpp                     |   2 +-
 be/src/http/ev_http_server.h                       |   2 +-
 be/src/http/http_channel.cpp                       |   2 +-
 be/src/http/http_channel.h                         |   6 +-
 be/src/http/http_common.h                          |   2 +-
 be/src/http/http_handler.h                         |   6 +-
 be/src/http/http_headers.cpp                       |   2 +-
 be/src/http/http_headers.h                         |   6 +-
 be/src/http/http_method.cpp                        |   2 +-
 be/src/http/http_method.h                          |   6 +-
 be/src/http/http_parser.cpp                        |   2 +-
 be/src/http/http_parser.h                          |   6 +-
 be/src/http/http_request.cpp                       |   2 +-
 be/src/http/http_request.h                         |   6 +-
 be/src/http/http_response.cpp                      |   2 +-
 be/src/http/http_response.h                        |   6 +-
 be/src/http/http_status.cpp                        |   2 +-
 be/src/http/http_status.h                          |   6 +-
 be/src/http/message_body_sink.cpp                  |   2 +-
 be/src/http/message_body_sink.h                    |   2 +-
 be/src/http/monitor_action.cpp                     |   2 +-
 be/src/http/monitor_action.h                       |   6 +-
 be/src/http/rest_monitor_iface.h                   |   6 +-
 be/src/http/utils.cpp                              |   2 +-
 be/src/http/utils.h                                |   2 +-
 be/src/http/web_page_handler.cpp                   |   4 +-
 be/src/http/web_page_handler.h                     |   6 +-
 be/src/olap/aggregate_func.cpp                     |   4 +-
 be/src/olap/aggregate_func.h                       |  10 +-
 be/src/olap/atomic.h                               |  10 +-
 be/src/olap/base_compaction.cpp                    |  10 +-
 be/src/olap/base_compaction.h                      |  10 +-
 be/src/olap/bhp_lib.h                              |  10 +-
 be/src/olap/column_file/bit_field_reader.cpp       |   4 +-
 be/src/olap/column_file/bit_field_reader.h         |  10 +-
 be/src/olap/column_file/bit_field_writer.cpp       |   4 +-
 be/src/olap/column_file/bit_field_writer.h         |  10 +-
 be/src/olap/column_file/bloom_filter.hpp           |  10 +-
 be/src/olap/column_file/bloom_filter_reader.cpp    |   4 +-
 be/src/olap/column_file/bloom_filter_reader.h      |  10 +-
 be/src/olap/column_file/bloom_filter_writer.cpp    |   4 +-
 be/src/olap/column_file/bloom_filter_writer.h      |  10 +-
 be/src/olap/column_file/byte_buffer.cpp            |   4 +-
 be/src/olap/column_file/byte_buffer.h              |  10 +-
 be/src/olap/column_file/column_data.cpp            |   4 +-
 be/src/olap/column_file/column_data.h              |  10 +-
 be/src/olap/column_file/column_reader.cpp          |   4 +-
 be/src/olap/column_file/column_reader.h            |  10 +-
 be/src/olap/column_file/column_writer.cpp          |   4 +-
 be/src/olap/column_file/column_writer.h            |  10 +-
 be/src/olap/column_file/compress.cpp               |   4 +-
 be/src/olap/column_file/compress.h                 |  10 +-
 be/src/olap/column_file/data_writer.cpp            |   4 +-
 be/src/olap/column_file/data_writer.h              |  10 +-
 be/src/olap/column_file/file_stream.cpp            |   4 +-
 be/src/olap/column_file/file_stream.h              |  10 +-
 be/src/olap/column_file/in_stream.cpp              |   4 +-
 be/src/olap/column_file/in_stream.h                |  10 +-
 be/src/olap/column_file/out_stream.cpp             |   4 +-
 be/src/olap/column_file/out_stream.h               |  10 +-
 be/src/olap/column_file/run_length_byte_reader.cpp |   4 +-
 be/src/olap/column_file/run_length_byte_reader.h   |  10 +-
 be/src/olap/column_file/run_length_byte_writer.cpp |   4 +-
 be/src/olap/column_file/run_length_byte_writer.h   |  10 +-
 .../olap/column_file/run_length_integer_reader.cpp |   4 +-
 .../olap/column_file/run_length_integer_reader.h   |  10 +-
 .../olap/column_file/run_length_integer_writer.cpp |   4 +-
 .../olap/column_file/run_length_integer_writer.h   |  12 +-
 be/src/olap/column_file/segment_reader.cpp         |   4 +-
 be/src/olap/column_file/segment_reader.h           |  12 +-
 be/src/olap/column_file/segment_writer.cpp         |   4 +-
 be/src/olap/column_file/segment_writer.h           |  10 +-
 be/src/olap/column_file/serialize.cpp              |   4 +-
 be/src/olap/column_file/serialize.h                |   8 +-
 be/src/olap/column_file/stream_index_common.cpp    |   4 +-
 be/src/olap/column_file/stream_index_common.h      |  10 +-
 be/src/olap/column_file/stream_index_reader.cpp    |   4 +-
 be/src/olap/column_file/stream_index_reader.h      |  10 +-
 be/src/olap/column_file/stream_index_writer.cpp    |   4 +-
 be/src/olap/column_file/stream_index_writer.h      |  10 +-
 be/src/olap/column_file/stream_name.cpp            |   4 +-
 be/src/olap/column_file/stream_name.h              |  10 +-
 be/src/olap/column_predicate.h                     |  10 +-
 be/src/olap/comparison_predicate.cpp               |   4 +-
 be/src/olap/comparison_predicate.h                 |  10 +-
 be/src/olap/cumulative_compaction.cpp              |  10 +-
 be/src/olap/cumulative_compaction.h                |  10 +-
 be/src/olap/delete_handler.cpp                     |   4 +-
 be/src/olap/delete_handler.h                       |  10 +-
 be/src/olap/delta_writer.cpp                       |   4 +-
 be/src/olap/delta_writer.h                         |  10 +-
 be/src/olap/field.cpp                              |   4 +-
 be/src/olap/field.h                                |  10 +-
 be/src/olap/field_info.cpp                         |   4 +-
 be/src/olap/field_info.h                           |  10 +-
 be/src/olap/file_helper.cpp                        |   4 +-
 be/src/olap/file_helper.h                          |  10 +-
 be/src/olap/hll.cpp                                |   4 +-
 be/src/olap/hll.h                                  |  10 +-
 be/src/olap/i_data.cpp                             |   4 +-
 be/src/olap/i_data.h                               |  10 +-
 be/src/olap/in_list_predicate.cpp                  |   4 +-
 be/src/olap/in_list_predicate.h                    |  10 +-
 be/src/olap/lru_cache.cpp                          |   4 +-
 be/src/olap/lru_cache.h                            |  10 +-
 be/src/olap/memtable.cpp                           |   4 +-
 be/src/olap/memtable.h                             |  10 +-
 be/src/olap/merger.cpp                             |   4 +-
 be/src/olap/merger.h                               |  10 +-
 be/src/olap/new_status.cpp                         |   4 +-
 be/src/olap/new_status.h                           |  10 +-
 be/src/olap/null_predicate.cpp                     |   4 +-
 be/src/olap/null_predicate.h                       |  10 +-
 be/src/olap/olap_common.h                          |  10 +-
 be/src/olap/olap_cond.cpp                          |   6 +-
 be/src/olap/olap_cond.h                            |  10 +-
 be/src/olap/olap_data.cpp                          |   4 +-
 be/src/olap/olap_data.h                            |  10 +-
 be/src/olap/olap_define.h                          |  14 +-
 be/src/olap/olap_engine.cpp                        |  48 +--
 be/src/olap/olap_engine.h                          |  10 +-
 be/src/olap/olap_header.cpp                        |   4 +-
 be/src/olap/olap_header.h                          |  10 +-
 be/src/olap/olap_header_manager.cpp                |   2 +-
 be/src/olap/olap_header_manager.h                  |   8 +-
 be/src/olap/olap_index.cpp                         |   4 +-
 be/src/olap/olap_index.h                           |  10 +-
 be/src/olap/olap_meta.cpp                          |   2 +-
 be/src/olap/olap_meta.h                            |   8 +-
 be/src/olap/olap_server.cpp                        |   4 +-
 be/src/olap/olap_snapshot.cpp                      |   8 +-
 be/src/olap/olap_table.cpp                         |   4 +-
 be/src/olap/olap_table.h                           |  10 +-
 be/src/olap/options.cpp                            |   2 +-
 be/src/olap/options.h                              |   2 +-
 be/src/olap/push_handler.cpp                       |   4 +-
 be/src/olap/push_handler.h                         |  10 +-
 be/src/olap/reader.cpp                             |   8 +-
 be/src/olap/reader.h                               |  10 +-
 be/src/olap/row_block.cpp                          |   4 +-
 be/src/olap/row_block.h                            |  10 +-
 be/src/olap/row_cursor.cpp                         |   4 +-
 be/src/olap/row_cursor.h                           |  10 +-
 be/src/olap/rowset.cpp                             |   2 +-
 be/src/olap/rowset.h                               |   2 +-
 be/src/olap/rowset_builder.h                       |   2 +-
 be/src/olap/schema.h                               |  10 +-
 be/src/olap/schema_change.cpp                      |   4 +-
 be/src/olap/schema_change.h                        |  10 +-
 be/src/olap/skiplist.h                             |  10 +-
 be/src/olap/store.cpp                              |   2 +-
 be/src/olap/store.h                                |   2 +-
 be/src/olap/string_slice.h                         |  10 +-
 be/src/olap/tuple.h                                |   2 +-
 be/src/olap/types.cpp                              |   4 +-
 be/src/olap/types.h                                |  10 +-
 be/src/olap/utils.cpp                              |   4 +-
 be/src/olap/utils.h                                |  10 +-
 be/src/olap/wrapper_field.cpp                      |   2 +-
 be/src/olap/wrapper_field.h                        |   6 +-
 be/src/olap/writer.cpp                             |   4 +-
 be/src/olap/writer.h                               |  10 +-
 be/src/runtime/broker_mgr.cpp                      |   2 +-
 be/src/runtime/broker_mgr.h                        |   2 +-
 be/src/runtime/buffer_control_block.cpp            |   2 +-
 be/src/runtime/buffer_control_block.h              |   6 +-
 be/src/runtime/buffered_block_mgr.cpp              |   4 +-
 be/src/runtime/buffered_block_mgr.h                |   8 +-
 be/src/runtime/buffered_block_mgr2.cc              |  10 +-
 be/src/runtime/buffered_block_mgr2.h               |  10 +-
 be/src/runtime/buffered_tuple_stream.cpp           |   2 +-
 be/src/runtime/buffered_tuple_stream.h             |   6 +-
 be/src/runtime/buffered_tuple_stream2.cc           |   4 +-
 be/src/runtime/buffered_tuple_stream2.h            |  10 +-
 be/src/runtime/buffered_tuple_stream2.inline.h     |   8 +-
 be/src/runtime/buffered_tuple_stream2_ir.cc        |   4 +-
 be/src/runtime/buffered_tuple_stream3.cc           |   2 +-
 be/src/runtime/buffered_tuple_stream3.h            |   6 +-
 be/src/runtime/buffered_tuple_stream3.inline.h     |   6 +-
 be/src/runtime/buffered_tuple_stream_ir.cpp        |   2 +-
 be/src/runtime/bufferpool/buffer_allocator.cc      |   2 +-
 be/src/runtime/bufferpool/buffer_allocator.h       |   6 +-
 be/src/runtime/bufferpool/buffer_pool.cc           |   2 +-
 be/src/runtime/bufferpool/buffer_pool.h            |   6 +-
 be/src/runtime/bufferpool/buffer_pool_counters.h   |   6 +-
 be/src/runtime/bufferpool/buffer_pool_internal.h   |   6 +-
 be/src/runtime/bufferpool/free_list.h              |   6 +-
 be/src/runtime/bufferpool/reservation_tracker.cc   |   2 +-
 be/src/runtime/bufferpool/reservation_tracker.h    |   6 +-
 .../bufferpool/reservation_tracker_counters.h      |   6 +-
 be/src/runtime/bufferpool/reservation_util.cc      |   2 +-
 be/src/runtime/bufferpool/reservation_util.h       |   6 +-
 be/src/runtime/bufferpool/suballocator.cc          |   2 +-
 be/src/runtime/bufferpool/suballocator.h           |   2 +-
 be/src/runtime/bufferpool/system_allocator.cc      |   2 +-
 be/src/runtime/bufferpool/system_allocator.h       |   2 +-
 be/src/runtime/client_cache.cpp                    |   2 +-
 be/src/runtime/client_cache.h                      |  10 +-
 be/src/runtime/data_spliter.cpp                    |   2 +-
 be/src/runtime/data_spliter.h                      |   6 +-
 be/src/runtime/data_stream_mgr.cpp                 |   2 +-
 be/src/runtime/data_stream_mgr.h                   |  12 +-
 be/src/runtime/data_stream_recvr.cc                |   2 +-
 be/src/runtime/data_stream_recvr.h                 |  10 +-
 be/src/runtime/data_stream_recvr.hpp               |   6 +-
 be/src/runtime/data_stream_sender.cpp              |   2 +-
 be/src/runtime/data_stream_sender.h                |   6 +-
 be/src/runtime/datetime_value.cpp                  |   4 +-
 be/src/runtime/datetime_value.h                    |  16 +-
 be/src/runtime/decimal_value.cpp                   |   6 +-
 be/src/runtime/decimal_value.h                     |  20 +-
 be/src/runtime/descriptors.cpp                     |   2 +-
 be/src/runtime/descriptors.h                       |   6 +-
 be/src/runtime/disk_io_mgr.cc                      |  64 ++--
 be/src/runtime/disk_io_mgr.h                       |  10 +-
 be/src/runtime/disk_io_mgr_internal.h              |  10 +-
 be/src/runtime/disk_io_mgr_reader_context.cc       |   4 +-
 be/src/runtime/disk_io_mgr_scan_range.cc           |  12 +-
 be/src/runtime/dpp_sink.cpp                        |   2 +-
 be/src/runtime/dpp_sink.h                          |   6 +-
 be/src/runtime/dpp_sink_internal.cpp               |   2 +-
 be/src/runtime/dpp_sink_internal.h                 |  14 +-
 be/src/runtime/dpp_writer.cpp                      |   2 +-
 be/src/runtime/dpp_writer.h                        |   6 +-
 be/src/runtime/etl_job_mgr.cpp                     |   2 +-
 be/src/runtime/etl_job_mgr.h                       |   6 +-
 be/src/runtime/exec_env.cpp                        |  22 +-
 be/src/runtime/exec_env.h                          |   6 +-
 be/src/runtime/export_sink.cpp                     |   2 +-
 be/src/runtime/export_sink.h                       |  10 +-
 be/src/runtime/export_task_mgr.cpp                 |   4 +-
 be/src/runtime/export_task_mgr.h                   |  10 +-
 be/src/runtime/fragment_mgr.cpp                    |   8 +-
 be/src/runtime/fragment_mgr.h                      |   6 +-
 be/src/runtime/free_list.hpp                       |   6 +-
 be/src/runtime/free_pool.hpp                       |   6 +-
 be/src/runtime/initial_reservations.cc             |   2 +-
 be/src/runtime/initial_reservations.h              |   6 +-
 be/src/runtime/kafka_consumer_pipe.cpp             |   4 +-
 be/src/runtime/kafka_consumer_pipe.h               |  10 +-
 be/src/runtime/large_int_value.cpp                 |   2 +-
 be/src/runtime/large_int_value.h                   |   6 +-
 be/src/runtime/lib_cache.cpp                       |   2 +-
 be/src/runtime/lib_cache.h                         |   6 +-
 be/src/runtime/load_path_mgr.cpp                   |   2 +-
 be/src/runtime/load_path_mgr.h                     |   6 +-
 be/src/runtime/load_stream_mgr.h                   |   2 +-
 be/src/runtime/mem_pool.cpp                        |  10 +-
 be/src/runtime/mem_pool.h                          |   6 +-
 be/src/runtime/mem_tracker.cpp                     |   6 +-
 be/src/runtime/mem_tracker.h                       |   6 +-
 be/src/runtime/merge_sorter.cpp                    |   4 +-
 be/src/runtime/merge_sorter.h                      |   8 +-
 be/src/runtime/multi_precision.h                   |   6 +-
 be/src/runtime/mysql_table_sink.cpp                |   2 +-
 be/src/runtime/mysql_table_sink.h                  |   6 +-
 be/src/runtime/mysql_table_writer.cpp              |   2 +-
 be/src/runtime/mysql_table_writer.h                |   6 +-
 be/src/runtime/plan_fragment_executor.cpp          |   2 +-
 be/src/runtime/plan_fragment_executor.h            |   6 +-
 be/src/runtime/primitive_type.cpp                  |   2 +-
 be/src/runtime/primitive_type.h                    |   6 +-
 be/src/runtime/pull_load_task_mgr.cpp              |   2 +-
 be/src/runtime/pull_load_task_mgr.h                |   2 +-
 be/src/runtime/qsorter.cpp                         |   2 +-
 be/src/runtime/qsorter.h                           |   6 +-
 be/src/runtime/raw_value.cpp                       |   2 +-
 be/src/runtime/raw_value.h                         |   8 +-
 be/src/runtime/raw_value_ir.cpp                    |   2 +-
 be/src/runtime/result_buffer_mgr.cpp               |   2 +-
 be/src/runtime/result_buffer_mgr.h                 |   6 +-
 be/src/runtime/result_sink.cpp                     |   2 +-
 be/src/runtime/result_sink.h                       |   6 +-
 be/src/runtime/result_writer.cpp                   |   2 +-
 be/src/runtime/result_writer.h                     |   6 +-
 be/src/runtime/row_batch.cpp                       |   4 +-
 be/src/runtime/row_batch.h                         |   8 +-
 be/src/runtime/row_batch_interface.hpp             |   6 +-
 be/src/runtime/runtime_state.cpp                   |   6 +-
 be/src/runtime/runtime_state.h                     |   8 +-
 be/src/runtime/snapshot_loader.cpp                 |   6 +-
 be/src/runtime/snapshot_loader.h                   |  10 +-
 be/src/runtime/sorted_run_merger.cc                |   4 +-
 be/src/runtime/sorted_run_merger.h                 |  10 +-
 be/src/runtime/sorter.h                            |   6 +-
 be/src/runtime/spill_sorter.cc                     |   2 +-
 be/src/runtime/spill_sorter.h                      |  10 +-
 be/src/runtime/stream_load_pipe.h                  |   2 +-
 be/src/runtime/string_buffer.hpp                   |   6 +-
 be/src/runtime/string_search.hpp                   |   6 +-
 be/src/runtime/string_value.cpp                    |   4 +-
 be/src/runtime/string_value.h                      |  12 +-
 be/src/runtime/string_value.hpp                    |   6 +-
 be/src/runtime/string_value_ir.cpp                 |   4 +-
 be/src/runtime/tablet_writer_mgr.cpp               |   2 +-
 be/src/runtime/tablet_writer_mgr.h                 |   4 +-
 be/src/runtime/test_env.cc                         |   8 +-
 be/src/runtime/test_env.h                          |  10 +-
 be/src/runtime/thread_resource_mgr.cpp             |   2 +-
 be/src/runtime/thread_resource_mgr.h               |   6 +-
 be/src/runtime/tmp_file_mgr.cc                     |   6 +-
 be/src/runtime/tmp_file_mgr.h                      |  10 +-
 be/src/runtime/tuple.cpp                           |   4 +-
 be/src/runtime/tuple.h                             |   6 +-
 be/src/runtime/tuple_row.cpp                       |   4 +-
 be/src/runtime/tuple_row.h                         |   6 +-
 be/src/runtime/types.cpp                           |   8 +-
 be/src/runtime/types.h                             |   6 +-
 be/src/runtime/vectorized_row_batch.cpp            |   4 +-
 be/src/runtime/vectorized_row_batch.h              |   8 +-
 be/src/service/CMakeLists.txt                      |  10 +-
 be/src/service/backend_options.cpp                 |   2 +-
 be/src/service/backend_options.h                   |   8 +-
 be/src/service/backend_service.cpp                 |   8 +-
 be/src/service/backend_service.h                   |  12 +-
 be/src/service/brpc_service.cpp                    |   2 +-
 be/src/service/brpc_service.h                      |   2 +-
 be/src/service/{palo_main.cpp => doris_main.cpp}   |  80 ++---
 be/src/service/internal_service.cpp                |   2 +-
 be/src/service/internal_service.h                  |   6 +-
 be/src/testutil/desc_tbl_builder.cc                |   4 +-
 be/src/testutil/desc_tbl_builder.h                 |  10 +-
 be/src/tools/CMakeLists.txt                        |   2 +-
 be/src/tools/meta_tool.cpp                         |  16 +-
 be/src/udf/CMakeLists.txt                          |  12 +-
 be/src/udf/uda_test_harness.h                      |   6 +-
 be/src/udf/udf.cpp                                 |  50 +--
 be/src/udf/udf.h                                   |  56 ++--
 be/src/udf/udf_debug.h                             |   6 +-
 be/src/udf/udf_internal.h                          |  44 +--
 be/src/udf/udf_ir.cpp                              |   2 +-
 be/src/util/CMakeLists.txt                         |   2 +-
 be/src/util/aligned_new.h                          |   6 +-
 be/src/util/arena.cc                               |   4 +-
 be/src/util/arena.h                                |  10 +-
 be/src/util/bfd_parser.cpp                         |   2 +-
 be/src/util/bfd_parser.h                           |   6 +-
 be/src/util/bit_util.h                             |   6 +-
 be/src/util/bitmap.cpp                             |   2 +-
 be/src/util/bitmap.h                               |   6 +-
 be/src/util/blocking_priority_queue.hpp            |   6 +-
 be/src/util/blocking_queue.hpp                     |   6 +-
 be/src/util/brpc_stub_cache.h                      |   2 +-
 be/src/util/buffer_builder.hpp                     |   6 +-
 be/src/util/byte_buffer.h                          |   2 +-
 be/src/util/cidr.cpp                               |   4 +-
 be/src/util/cidr.h                                 |  10 +-
 be/src/util/codec.cpp                              |   2 +-
 be/src/util/codec.h                                |   6 +-
 be/src/util/compress.cpp                           |   2 +-
 be/src/util/compress.h                             |   6 +-
 be/src/util/condition_variable.h                   |   6 +-
 be/src/util/container_util.hpp                     |   6 +-
 be/src/util/core_local.cpp                         |   2 +-
 be/src/util/core_local.h                           |   2 +-
 be/src/util/count_down_latch.hpp                   |   6 +-
 be/src/util/cpu_info.cpp                           |   4 +-
 be/src/util/cpu_info.h                             |   6 +-
 be/src/util/date_func.h                            |  10 +-
 be/src/util/debug_counters.h                       |   8 +-
 be/src/util/debug_util.cpp                         |   2 +-
 be/src/util/debug_util.h                           |   6 +-
 be/src/util/decompress.cpp                         |   2 +-
 be/src/util/decompress.h                           |   6 +-
 be/src/util/defer_op.h                             |   6 +-
 be/src/util/disk_info.cpp                          |   2 +-
 be/src/util/disk_info.h                            |   6 +-
 .../util/{palo_metrics.cpp => doris_metrics.cpp}   | 170 +++++-----
 be/src/util/{palo_metrics.h => doris_metrics.h}    |  18 +-
 be/src/util/dummy_runtime_profile.h                |   6 +-
 be/src/util/dynamic_util.cpp                       |   2 +-
 be/src/util/dynamic_util.h                         |   6 +-
 be/src/util/error_util.cc                          |   2 +-
 be/src/util/error_util.h                           |  10 +-
 be/src/util/fake_lock.h                            |  10 +-
 be/src/util/file_utils.cpp                         |   2 +-
 be/src/util/file_utils.h                           |   6 +-
 be/src/util/filesystem_util.cc                     |   4 +-
 be/src/util/filesystem_util.h                      |   6 +-
 be/src/util/hash_util.hpp                          |  34 +-
 be/src/util/hash_util_ir.cpp                       |   2 +-
 be/src/util/internal_queue.h                       |   6 +-
 be/src/util/json_util.cpp                          |   2 +-
 be/src/util/json_util.h                            |   6 +-
 be/src/util/load_error_hub.cpp                     |   4 +-
 be/src/util/load_error_hub.h                       |  10 +-
 be/src/util/logging.h                              |   8 +-
 be/src/util/lru_cache.hpp                          |   6 +-
 be/src/util/mem_info.cpp                           |   2 +-
 be/src/util/mem_info.h                             |   6 +-
 be/src/util/mem_range.h                            |   6 +-
 be/src/util/mem_util.hpp                           |   8 +-
 be/src/util/metrics.cpp                            |   2 +-
 be/src/util/metrics.h                              |   2 +-
 be/src/util/murmur_hash3.h                         |   6 +-
 be/src/util/mysql_global.h                         |   8 +-
 be/src/util/mysql_load_error_hub.cpp               |   4 +-
 be/src/util/mysql_load_error_hub.h                 |  10 +-
 be/src/util/mysql_row_buffer.cpp                   |   2 +-
 be/src/util/mysql_row_buffer.h                     |   8 +-
 be/src/util/network_util.cpp                       |   2 +-
 be/src/util/network_util.h                         |   6 +-
 be/src/util/null_load_error_hub.cpp                |   4 +-
 be/src/util/null_load_error_hub.h                  |  10 +-
 be/src/util/os_info.cpp                            |   2 +-
 be/src/util/os_info.h                              |   6 +-
 be/src/util/parse_util.cpp                         |   2 +-
 be/src/util/parse_util.h                           |   6 +-
 be/src/util/path_builder.cpp                       |  20 +-
 be/src/util/path_builder.h                         |  14 +-
 be/src/util/path_trie.hpp                          |   2 +-
 be/src/util/perf_counters.cpp                      |   2 +-
 be/src/util/perf_counters.h                        |   6 +-
 be/src/util/pretty_printer.h                       |   2 +-
 be/src/util/priority_thread_pool.hpp               |   6 +-
 be/src/util/progress_updater.cpp                   |   2 +-
 be/src/util/progress_updater.h                     |   6 +-
 be/src/util/random.h                               |  10 +-
 be/src/util/ref_count_closure.h                    |   2 +-
 be/src/util/runtime_profile.cpp                    |   2 +-
 be/src/util/runtime_profile.h                      |   6 +-
 be/src/util/spinlock.cc                            |   4 +-
 be/src/util/spinlock.h                             |  10 +-
 be/src/util/sse_util.hpp                           |   6 +-
 be/src/util/stat_util.hpp                          |   6 +-
 be/src/util/static_asserts.cpp                     |   2 +-
 be/src/util/stopwatch.hpp                          |   6 +-
 be/src/util/streaming_sampler.h                    |   6 +-
 be/src/util/string_parser.cpp                      |   2 +-
 be/src/util/string_parser.hpp                      |  10 +-
 be/src/util/string_util.h                          |   2 +-
 be/src/util/symbols_util.cpp                       |  28 +-
 be/src/util/symbols_util.h                         |  12 +-
 be/src/util/system_metrics.cpp                     |   2 +-
 be/src/util/system_metrics.h                       |   2 +-
 be/src/util/thread_pool.hpp                        |   6 +-
 be/src/util/thrift_client.cpp                      |   2 +-
 be/src/util/thrift_client.h                        |   6 +-
 be/src/util/thrift_server.cpp                      |   2 +-
 be/src/util/thrift_server.h                        |   6 +-
 be/src/util/thrift_util.cpp                        |   2 +-
 be/src/util/thrift_util.h                          |   6 +-
 be/src/util/time.cpp                               |  16 +-
 be/src/util/time.h                                 |   6 +-
 be/src/util/tuple_row_compare.cpp                  |  54 ++--
 be/src/util/tuple_row_compare.h                    |   6 +-
 be/src/util/types.h                                |   2 +-
 be/src/util/uid_util.cpp                           |   2 +-
 be/src/util/uid_util.h                             |  18 +-
 be/src/util/url_coding.cpp                         |   2 +-
 be/src/util/url_coding.h                           |   6 +-
 be/src/util/url_parser.cpp                         |   2 +-
 be/src/util/url_parser.h                           |   6 +-
 be/test/agent/agent_server_test.cpp                |   8 +-
 be/test/agent/cgroups_mgr_test.cpp                 |  24 +-
 be/test/agent/file_downloader_test.cpp             |  16 +-
 be/test/agent/heartbeat_server_test.cpp            |   8 +-
 be/test/agent/mock_file_downloader.h               |  10 +-
 be/test/agent/mock_pusher.h                        |  10 +-
 be/test/agent/mock_task_worker_pool.h              |  10 +-
 be/test/agent/mock_utils.h                         |  10 +-
 be/test/agent/pusher_test.cpp                      |  54 ++--
 be/test/agent/task_worker_pool_test.cpp            | 230 ++++++-------
 be/test/agent/utils_test.cpp                       |  10 +-
 be/test/common/resource_tls_test.cpp               |   6 +-
 be/test/exec/broker_reader_test.cpp                |  10 +-
 be/test/exec/broker_scan_node_test.cpp             |   6 +-
 be/test/exec/broker_scanner_test.cpp               |  10 +-
 be/test/exec/csv_scan_bench_test.cpp               |   8 +-
 be/test/exec/csv_scan_node_test.cpp                |  16 +-
 be/test/exec/csv_scanner_test.cpp                  |   8 +-
 be/test/exec/hash_table_test.cpp                   |   6 +-
 be/test/exec/mysql_scan_node_test.cpp              |   4 +-
 be/test/exec/mysql_scanner_test.cpp                |   4 +-
 be/test/exec/new_olap_scan_node_test.cpp           |  32 +-
 be/test/exec/olap_common_test.cpp                  |  46 +--
 be/test/exec/olap_scan_node_test.cpp               |  24 +-
 be/test/exec/olap_scanner_test.cpp                 |  28 +-
 be/test/exec/olap_table_info_test.cpp              |   4 +-
 be/test/exec/olap_table_sink_test.cpp              |   8 +-
 be/test/exec/partitioned_hash_table_test.cpp       |  22 +-
 be/test/exec/plain_text_line_reader_bzip_test.cpp  |   8 +-
 be/test/exec/plain_text_line_reader_gzip_test.cpp  |   8 +-
 .../exec/plain_text_line_reader_lz4frame_test.cpp  |   8 +-
 be/test/exec/plain_text_line_reader_lzop_test.cpp  |   8 +-
 .../plain_text_line_reader_uncompressed_test.cpp   |   8 +-
 be/test/exec/schema_scan_node_test.cpp             |   4 +-
 .../schema_scanner/schema_authors_scanner_test.cpp |   4 +-
 .../schema_charsets_scanner_test.cpp               |   4 +-
 .../schema_collations_scanner_test.cpp             |   4 +-
 .../schema_scanner/schema_columns_scanner_test.cpp |   4 +-
 .../schema_create_table_scanner_test.cpp           |   4 +-
 .../schema_scanner/schema_engines_scanner_test.cpp |   4 +-
 .../schema_open_tables_scanner_test.cpp            |   4 +-
 .../schema_schemata_scanner_test.cpp               |   4 +-
 .../schema_table_names_scanner_test.cpp            |   4 +-
 .../schema_scanner/schema_tables_scanner_test.cpp  |   4 +-
 .../schema_variables_scanner_test.cpp              |   6 +-
 be/test/exec/schema_scanner_test.cpp               |   4 +-
 be/test/exec/set_executor_test.cpp                 |  16 +-
 be/test/exprs/binary_predicate_test.cpp            |   2 +-
 be/test/exprs/hybird_set_test.cpp                  |   6 +-
 be/test/exprs/in_op_test.cpp                       |   2 +-
 be/test/exprs/in_predicate_test.cpp                |   6 +-
 be/test/exprs/json_function_test.cpp               |   6 +-
 be/test/http/http_utils_test.cpp                   |  12 +-
 be/test/http/message_body_sink_test.cpp            |   2 +-
 be/test/http/metrics_action_test.cpp               |   2 +-
 be/test/http/stream_load_test.cpp                  |  24 +-
 be/test/olap/bit_field_test.cpp                    |   8 +-
 be/test/olap/bloom_filter_index_test.cpp           |  12 +-
 be/test/olap/bloom_filter_test.cpp                 |  12 +-
 be/test/olap/byte_buffer_test.cpp                  |   6 +-
 be/test/olap/column_reader_test.cpp                |   8 +-
 be/test/olap/comparison_predicate_test.cpp         |  12 +-
 be/test/olap/delete_handler_test.cpp               |  20 +-
 be/test/olap/delta_writer_test.cpp                 |  20 +-
 be/test/olap/file_helper_test.cpp                  |   8 +-
 be/test/olap/file_utils_test.cpp                   |   8 +-
 be/test/olap/in_list_predicate_test.cpp            |  12 +-
 be/test/olap/lru_cache_test.cpp                    |  10 +-
 be/test/olap/mock_command_executor.h               |  10 +-
 be/test/olap/mock_olap_rootpath.h                  |  10 +-
 be/test/olap/null_predicate_test.cpp               |  12 +-
 be/test/olap/olap_header_manager_test.cpp          |   4 +-
 be/test/olap/olap_meta_test.cpp                    |   4 +-
 be/test/olap/olap_reader_test.cpp                  |  16 +-
 be/test/olap/row_block_test.cpp                    |   8 +-
 be/test/olap/row_cursor_test.cpp                   |  10 +-
 be/test/olap/run_length_byte_test.cpp              |   8 +-
 be/test/olap/run_length_integer_test.cpp           |   4 +-
 be/test/olap/serialize_test.cpp                    |   2 +-
 be/test/olap/skiplist_test.cpp                     |   6 +-
 be/test/olap/stream_index_test.cpp                 |   8 +-
 be/test/olap/vectorized_olap_reader_test.cpp       |  16 +-
 be/test/runtime/buffer_control_block_test.cpp      |   4 +-
 be/test/runtime/buffered_block_mgr2_test.cpp       |  28 +-
 be/test/runtime/buffered_tuple_stream2_test.cpp    |  20 +-
 be/test/runtime/buffered_tuple_stream_test.cpp     |   2 +-
 be/test/runtime/data_spliter_test.cpp              |  12 +-
 be/test/runtime/data_stream_test.cpp               |  38 +--
 be/test/runtime/datetime_value_test.cpp            |  10 +-
 be/test/runtime/decimal_value_test.cpp             |   8 +-
 be/test/runtime/disk_io_mgr_test.cpp               |  18 +-
 be/test/runtime/dpp_sink_internal_test.cpp         |   2 +-
 be/test/runtime/dpp_sink_test.cpp                  |   6 +-
 be/test/runtime/dpp_writer_test.cpp                |   4 +-
 be/test/runtime/etl_job_mgr_test.cpp               |   6 +-
 be/test/runtime/export_task_mgr_test.cpp           |  14 +-
 be/test/runtime/fragment_mgr_test.cpp              |   4 +-
 be/test/runtime/free_list_test.cpp                 |   4 +-
 be/test/runtime/large_int_value_test.cpp           |   6 +-
 be/test/runtime/mem_limit_test.cpp                 |   8 +-
 be/test/runtime/mem_pool_test.cpp                  |   6 +-
 be/test/runtime/mysql_table_writer_test.cpp        |   6 +-
 be/test/runtime/pull_load_task_mgr_test.cpp        |   4 +-
 be/test/runtime/qsorter_test.cpp                   |   4 +-
 be/test/runtime/raw_value_test.cpp                 |   4 +-
 be/test/runtime/result_buffer_mgr_test.cpp         |   8 +-
 be/test/runtime/result_sink_test.cpp               |   8 +-
 be/test/runtime/result_writer_test.cpp             |   6 +-
 be/test/runtime/snapshot_loader_test.cpp           |   6 +-
 be/test/runtime/sorter_test.cpp                    |   2 +-
 be/test/runtime/stream_load_pipe_test.cpp          |   2 +-
 be/test/runtime/string_buffer_test.cpp             |   4 +-
 be/test/runtime/string_value_test.cpp              |   8 +-
 be/test/runtime/tablet_writer_mgr_test.cpp         |   4 +-
 be/test/runtime/thread_resource_mgr_test.cpp       |   6 +-
 be/test/runtime/tmp_file_mgr_test.cpp              |  14 +-
 be/test/udf/uda_test.cpp                           |   4 +-
 be/test/udf/udf_test.cpp                           |   4 +-
 be/test/util/CMakeLists.txt                        |   2 +-
 be/test/util/arena_test.cpp                        |   4 +-
 be/test/util/bit_util_test.cpp                     |   8 +-
 be/test/util/blocking_queue_test.cpp               |   2 +-
 be/test/util/brpc_stub_cache_test.cpp              |   2 +-
 be/test/util/byte_buffer_test2.cpp                 |   2 +-
 be/test/util/cidr_test.cpp                         |  10 +-
 be/test/util/core_local_test.cpp                   |   2 +-
 be/test/util/count_down_latch_test.cpp             |   6 +-
 be/test/util/decompress_test.cpp                   |   4 +-
 be/test/util/descriptor_helper.h                   |   2 +-
 ...alo_metrics_test.cpp => doris_metrics_test.cpp} |  74 ++---
 be/test/util/filesystem_util_test.cpp              |   8 +-
 be/test/util/internal_queue_test.cpp               |   8 +-
 be/test/util/json_util_test.cpp                    |   2 +-
 be/test/util/lru_cache_util_test.cpp               |   6 +-
 be/test/util/new_metrics_test.cpp                  |   2 +-
 be/test/util/path_trie_test.cpp                    |   6 +-
 be/test/util/perf_counters_test.cpp                |   2 +-
 be/test/util/runtime_profile_test.cpp              |   2 +-
 be/test/util/string_parser_test.cpp                |   8 +-
 be/test/util/string_util_test.cpp                  |   4 +-
 be/test/util/system_metrics_test.cpp               |   6 +-
 be/test/util/thread_pool_test.cpp                  |   4 +-
 be/test/util/types_test.cpp                        |   2 +-
 be/test/util/uid_util_test.cpp                     |   4 +-
 be/test/util/url_coding_test.cpp                   |   8 +-
 gensrc/proto/column_data_file.proto                |   2 +-
 gensrc/proto/data.proto                            |   2 +-
 gensrc/proto/descriptors.proto                     |   2 +-
 gensrc/proto/internal_service.proto                |   2 +-
 gensrc/proto/olap_common.proto                     |   2 +-
 gensrc/proto/olap_file.proto                       |   2 +-
 gensrc/proto/status.proto                          |   2 +-
 gensrc/proto/types.proto                           |   2 +-
 gensrc/thrift/AgentService.thrift                  |   2 +-
 gensrc/thrift/BackendService.thrift                |   2 +-
 gensrc/thrift/Data.thrift                          |   2 +-
 gensrc/thrift/DataSinks.thrift                     |   2 +-
 gensrc/thrift/Ddl.thrift                           |   2 +-
 gensrc/thrift/Descriptors.thrift                   |   2 +-
 gensrc/thrift/Exprs.thrift                         |   2 +-
 gensrc/thrift/FrontendService.thrift               |   2 +-
 gensrc/thrift/HeartbeatService.thrift              |   2 +-
 gensrc/thrift/MasterService.thrift                 |   2 +-
 gensrc/thrift/MetricDefs.thrift                    |   2 +-
 gensrc/thrift/Metrics.thrift                       |   2 +-
 gensrc/thrift/NetworkTest.thrift                   |   2 +-
 gensrc/thrift/PaloBrokerService.thrift             |   2 +-
 gensrc/thrift/PaloExternalDataSourceService.thrift |   2 +-
 gensrc/thrift/PaloInternalService.thrift           |   2 +-
 gensrc/thrift/PaloService.thrift                   |   2 +-
 gensrc/thrift/Partitions.thrift                    |   2 +-
 gensrc/thrift/PlanNodes.thrift                     |   2 +-
 gensrc/thrift/Planner.thrift                       |   2 +-
 gensrc/thrift/RuntimeProfile.thrift                |   2 +-
 gensrc/thrift/Status.thrift                        |   2 +-
 gensrc/thrift/Types.thrift                         |   2 +-
 run-ut.sh                                          |   2 +-
 923 files changed, 4662 insertions(+), 4662 deletions(-)

commit ad12d907dac7686174ae7fea14fc2ae6890dd443
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Nov 1 20:34:48 2018 +0800

    Failed to register equal conjuncts which refer more than three tuples (#266)
    
    Change-Id: I7eaf28ee6db35671971108f3edefe908d46ae87f

 .../java/org/apache/doris/analysis/Analyzer.java   | 81 +++++++++++++++++-----
 .../java/org/apache/doris/analysis/SelectStmt.java |  2 +-
 .../org/apache/doris/planner/OlapScanNode.java     | 16 ++---
 .../apache/doris/planner/SingleNodePlanner.java    | 25 +++----
 4 files changed, 80 insertions(+), 44 deletions(-)

commit cccd1292fe036dc0c661b9b61145d5c390c5bfaa
Author: morningman <morningman@163.com>
Date:   Thu Nov 1 19:23:10 2018 +0800

    Make class name compatible with the old name (#267)
    
    We wrote the old name 'com.baidu.palo.xxx' in bdbje as meta journal.
    So we need to make it compatible with 'org.apache.doris.xxx'.

 fe/src/main/java/org/apache/doris/analysis/AlterClause.java      | 4 ++++
 fe/src/main/java/org/apache/doris/mysql/privilege/PrivEntry.java | 4 ++++
 fe/src/main/java/org/apache/doris/mysql/privilege/PrivTable.java | 4 ++++
 3 files changed, 12 insertions(+)

commit 2a290048c777c45fe4e0783d4e87982bd3a08a71
Author: morningman <morningman@163.com>
Date:   Thu Nov 1 16:33:09 2018 +0800

    Change the lock type of Catalog lock (#265)
    
    * Change the lock type of Catalog lock
    
    Implement a QueryableReentrantLock to see which thread held the lock.
    
    * Key in empty version has no min/max value
    
    It should be ignored to reconstruct min/max statistics upon restart.

 be/src/olap/olap_table.cpp                         | 88 +++++++++++-----------
 .../java/org/apache/doris/catalog/Catalog.java     | 44 ++++++-----
 .../doris/common/util/QueryableReentrantLock.java  | 41 ++++++++++
 .../java/org/apache/doris/common/util/Util.java    | 21 +++++-
 .../common/util/QueryableReentrantLockTest.java    | 79 +++++++++++++++++++
 5 files changed, 209 insertions(+), 64 deletions(-)

commit faeb4729096b617c3cee054d75272a7d6e44431a
Author: morningman <morningman@163.com>
Date:   Thu Nov 1 10:37:30 2018 +0800

    Tidy up the docs and gensrc directory (#263)
    
    1. Remove all design docs. They will be pushed again after modification.
    2. Add streaming load and privilege help docs.
    3. Rename palo*.py to doris*.py in gensrc/script/.

 docs/design/Palo_privilege.md                      | 279 ------------
 docs/design/data_export.md                         | 469 ---------------------
 docs/design/metadata_design.md                     | 102 -----
 docs/design/multi_tenant.md                        | 212 ----------
 docs/design/real_time_loading.md                   | 206 ---------
 docs/design/show_current_sql.md                    |  65 ---
 docs/design/show_load_warnings.md                  | 182 --------
 .../Contents/Administration/admin_show_stmt.md     |  64 +++
 .../Data Manipulation/manipulation_stmt.md         |  14 +
 docs/help/Contents/Data Manipulation/streaming.md  | 150 +++++++
 docs/help/Contents/Utility/util_stmt.md            |  24 +-
 gensrc/script/Makefile                             |   4 +-
 ...ns_functions.py => doris_builtins_functions.py} |   0
 .../{palo_functions.py => doris_functions.py}      |   0
 gensrc/script/gen_builtins_functions.py            |  14 +-
 gensrc/script/gen_opcodes.py                       |  12 +-
 16 files changed, 255 insertions(+), 1542 deletions(-)

commit 2868793b6b5458749b25692e14e146792d6f4f69
Author: morningman <morningman@163.com>
Date:   Thu Nov 1 09:06:01 2018 +0800

    Change license to Apache License 2.0 (#262)

 NOTICE.txt                                         | 11 ++--
 README.md                                          | 74 +++++++++++-----------
 be/CMakeLists.txt                                  | 12 ++--
 be/src/aes/CMakeLists.txt                          | 13 ++--
 be/src/aes/my_aes.cpp                              | 23 +++----
 be/src/aes/my_aes.h                                | 28 ++++----
 be/src/aes/my_aes_impl.h                           | 28 ++++----
 be/src/aes/my_aes_openssl.cpp                      | 28 ++++----
 be/src/agent/CMakeLists.txt                        | 12 ++--
 be/src/agent/agent_server.cpp                      | 12 ++--
 be/src/agent/agent_server.h                        | 12 ++--
 be/src/agent/cgroups_mgr.cpp                       | 12 ++--
 be/src/agent/cgroups_mgr.h                         | 12 ++--
 be/src/agent/file_downloader.cpp                   | 12 ++--
 be/src/agent/file_downloader.h                     | 12 ++--
 be/src/agent/heartbeat_server.cpp                  | 12 ++--
 be/src/agent/heartbeat_server.h                    | 12 ++--
 be/src/agent/pusher.cpp                            | 12 ++--
 be/src/agent/pusher.h                              | 12 ++--
 be/src/agent/status.h                              | 12 ++--
 be/src/agent/task_worker_pool.cpp                  | 12 ++--
 be/src/agent/task_worker_pool.h                    | 12 ++--
 be/src/agent/topic_listener.h                      | 12 ++--
 be/src/agent/topic_subscriber.cpp                  | 12 ++--
 be/src/agent/topic_subscriber.h                    | 12 ++--
 be/src/agent/user_resource_listener.cpp            | 12 ++--
 be/src/agent/user_resource_listener.h              | 12 ++--
 be/src/agent/utils.cpp                             | 12 ++--
 be/src/agent/utils.h                               | 12 ++--
 be/src/codegen/CMakeLists.txt                      |  3 -
 be/src/codegen/codegen_anyval.cpp                  |  3 -
 be/src/codegen/codegen_anyval.h                    |  3 -
 be/src/codegen/codegen_anyval_ir.cpp               |  4 +-
 be/src/codegen/gen_ir_descriptions.py              | 63 +++++++++---------
 be/src/codegen/llvm_codegen.cpp                    |  3 -
 be/src/codegen/llvm_codegen.h                      |  3 -
 be/src/codegen/llvm_codegen_test.cpp               |  3 -
 be/src/codegen/palo_ir.cpp                         |  3 -
 be/src/codegen/palo_ir.h                           |  3 -
 be/src/codegen/palo_ir_data.h                      |  3 -
 be/src/codegen/subexpr_elimination.cpp             |  3 -
 be/src/codegen/subexpr_elimination.h               |  3 -
 be/src/common/CMakeLists.txt                       |  3 -
 be/src/common/atomic.h                             |  3 -
 be/src/common/compiler_util.h                      |  3 -
 be/src/common/config.h                             |  3 -
 be/src/common/configbase.cpp                       |  3 -
 be/src/common/configbase.h                         |  3 -
 be/src/common/daemon.cpp                           |  3 -
 be/src/common/daemon.h                             |  3 -
 be/src/common/global_types.h                       |  3 -
 be/src/common/hdfs.h                               |  3 -
 be/src/common/logconfig.cpp                        |  3 -
 be/src/common/logging.h                            |  3 -
 be/src/common/names.h                              | 18 ------
 be/src/common/object_pool.h                        |  3 -
 be/src/common/resource_tls.cpp                     |  3 -
 be/src/common/resource_tls.h                       |  3 -
 be/src/common/status.cpp                           |  3 -
 be/src/common/status.h                             |  3 -
 be/src/exec/CMakeLists.txt                         |  3 -
 be/src/exec/aggregation_node.cpp                   |  3 -
 be/src/exec/aggregation_node.h                     |  3 -
 be/src/exec/aggregation_node_ir.cpp                |  3 -
 be/src/exec/analytic_eval_node.cpp                 |  3 -
 be/src/exec/analytic_eval_node.h                   |  3 -
 be/src/exec/blocking_join_node.cpp                 |  3 -
 be/src/exec/blocking_join_node.h                   |  3 -
 be/src/exec/broker_reader.cpp                      | 12 ++--
 be/src/exec/broker_reader.h                        | 12 ++--
 be/src/exec/broker_scan_node.cpp                   | 12 ++--
 be/src/exec/broker_scan_node.h                     | 12 ++--
 be/src/exec/broker_scanner.cpp                     | 12 ++--
 be/src/exec/broker_scanner.h                       | 12 ++--
 be/src/exec/broker_writer.cpp                      | 12 ++--
 be/src/exec/broker_writer.h                        | 12 ++--
 be/src/exec/cross_join_node.cpp                    |  3 -
 be/src/exec/cross_join_node.h                      |  3 -
 be/src/exec/csv_scan_node.cpp                      | 12 ++--
 be/src/exec/csv_scan_node.h                        | 12 ++--
 be/src/exec/csv_scanner.cpp                        | 12 ++--
 be/src/exec/csv_scanner.h                          | 12 ++--
 be/src/exec/data_sink.cpp                          |  3 -
 be/src/exec/data_sink.h                            |  3 -
 be/src/exec/decompressor.cpp                       |  3 -
 be/src/exec/decompressor.h                         |  3 -
 be/src/exec/empty_set_node.cpp                     | 12 ++--
 be/src/exec/empty_set_node.h                       | 12 ++--
 be/src/exec/exchange_node.cpp                      |  3 -
 be/src/exec/exchange_node.h                        |  3 -
 be/src/exec/exec_node.cpp                          |  3 -
 be/src/exec/exec_node.h                            |  3 -
 be/src/exec/file_reader.h                          |  3 -
 be/src/exec/file_writer.h                          | 12 ++--
 be/src/exec/hash_join_node.cpp                     |  3 -
 be/src/exec/hash_join_node.h                       |  3 -
 be/src/exec/hash_join_node_ir.cpp                  |  3 -
 be/src/exec/hash_table.cpp                         |  3 -
 be/src/exec/hash_table.h                           |  3 -
 be/src/exec/hash_table.hpp                         |  3 -
 be/src/exec/kudu_scan_node.cpp                     |  3 -
 be/src/exec/kudu_scan_node.h                       |  3 -
 be/src/exec/kudu_scanner.cpp                       |  3 -
 be/src/exec/kudu_scanner.h                         |  3 -
 be/src/exec/kudu_util.cpp                          |  3 -
 be/src/exec/kudu_util.h                            |  3 -
 be/src/exec/line_reader.h                          |  3 -
 be/src/exec/local_file_reader.cpp                  | 12 ++--
 be/src/exec/local_file_reader.h                    |  2 -
 be/src/exec/local_file_writer.cpp                  | 12 ++--
 be/src/exec/local_file_writer.h                    | 12 ++--
 be/src/exec/merge_join_node.cpp                    |  3 -
 be/src/exec/merge_join_node.h                      |  3 -
 be/src/exec/merge_node.cpp                         |  3 -
 be/src/exec/merge_node.h                           |  3 -
 be/src/exec/mysql_scan_node.cpp                    | 12 ++--
 be/src/exec/mysql_scan_node.h                      | 12 ++--
 be/src/exec/mysql_scanner.cpp                      | 12 ++--
 be/src/exec/mysql_scanner.h                        | 12 ++--
 be/src/exec/new_partitioned_aggregation_node.cc    |  3 -
 be/src/exec/new_partitioned_aggregation_node.h     |  3 -
 be/src/exec/new_partitioned_aggregation_node_ir.cc |  3 -
 be/src/exec/new_partitioned_hash_table.cc          |  3 -
 be/src/exec/new_partitioned_hash_table.h           |  3 -
 be/src/exec/new_partitioned_hash_table.inline.h    |  3 -
 be/src/exec/new_partitioned_hash_table_ir.cc       |  4 --
 be/src/exec/olap_common.cpp                        | 12 ++--
 be/src/exec/olap_common.h                          | 12 ++--
 be/src/exec/olap_meta_reader.cpp                   | 12 ++--
 be/src/exec/olap_meta_reader.h                     | 12 ++--
 be/src/exec/olap_rewrite_node.cpp                  | 12 ++--
 be/src/exec/olap_rewrite_node.h                    | 12 ++--
 be/src/exec/olap_scan_node.cpp                     | 12 ++--
 be/src/exec/olap_scan_node.h                       | 12 ++--
 be/src/exec/olap_scanner.cpp                       | 12 ++--
 be/src/exec/olap_scanner.h                         | 12 ++--
 be/src/exec/olap_table_info.cpp                    | 12 ++--
 be/src/exec/olap_table_info.h                      | 12 ++--
 be/src/exec/olap_table_sink.cpp                    | 12 ++--
 be/src/exec/olap_table_sink.h                      | 12 ++--
 be/src/exec/olap_utils.h                           | 12 ++--
 be/src/exec/partitioned_aggregation_node.cc        |  3 -
 be/src/exec/partitioned_aggregation_node.h         |  3 -
 be/src/exec/partitioned_aggregation_node_ir.cc     |  3 -
 be/src/exec/partitioned_hash_table.cc              |  3 -
 be/src/exec/partitioned_hash_table.h               |  3 -
 be/src/exec/partitioned_hash_table.inline.h        |  3 -
 be/src/exec/partitioned_hash_table_ir.cc           |  4 --
 be/src/exec/pl_task_root.cpp                       |  3 -
 be/src/exec/pl_task_root.h                         |  3 -
 be/src/exec/plain_text_line_reader.cpp             |  3 -
 be/src/exec/plain_text_line_reader.h               |  3 -
 be/src/exec/pre_aggregation_node.cpp               |  3 -
 be/src/exec/pre_aggregation_node.h                 |  3 -
 be/src/exec/read_write_util.cpp                    |  3 -
 be/src/exec/read_write_util.h                      |  3 -
 be/src/exec/row_batch_list.h                       |  3 -
 be/src/exec/scan_node.cpp                          |  3 -
 be/src/exec/scan_node.h                            |  3 -
 be/src/exec/scanner_ir.cpp                         | 12 ++--
 be/src/exec/schema_scan_node.cpp                   |  3 -
 be/src/exec/schema_scan_node.h                     |  3 -
 be/src/exec/schema_scanner.cpp                     |  3 -
 be/src/exec/schema_scanner.h                       |  3 -
 be/src/exec/schema_scanner/frontend_helper.cpp     |  3 -
 be/src/exec/schema_scanner/frontend_helper.h       |  3 -
 .../schema_scanner/schema_charsets_scanner.cpp     |  3 -
 .../exec/schema_scanner/schema_charsets_scanner.h  |  3 -
 .../schema_scanner/schema_collations_scanner.cpp   |  3 -
 .../schema_scanner/schema_collations_scanner.h     |  3 -
 .../exec/schema_scanner/schema_columns_scanner.cpp |  3 -
 .../exec/schema_scanner/schema_columns_scanner.h   |  3 -
 .../exec/schema_scanner/schema_dummy_scanner.cpp   |  3 -
 be/src/exec/schema_scanner/schema_dummy_scanner.h  |  3 -
 .../schema_scanner/schema_schemata_scanner.cpp     |  3 -
 .../exec/schema_scanner/schema_schemata_scanner.h  |  3 -
 .../exec/schema_scanner/schema_tables_scanner.cpp  |  3 -
 be/src/exec/schema_scanner/schema_tables_scanner.h |  3 -
 .../schema_scanner/schema_variables_scanner.cpp    |  3 -
 .../exec/schema_scanner/schema_variables_scanner.h |  3 -
 be/src/exec/select_node.cpp                        |  3 -
 be/src/exec/select_node.h                          |  3 -
 be/src/exec/sort_exec_exprs.cpp                    |  3 -
 be/src/exec/sort_exec_exprs.h                      |  3 -
 be/src/exec/sort_node.cpp                          |  3 -
 be/src/exec/sort_node.h                            |  3 -
 be/src/exec/spill_sort_node.cc                     |  3 -
 be/src/exec/spill_sort_node.h                      |  3 -
 be/src/exec/text_converter.cpp                     |  3 -
 be/src/exec/text_converter.h                       |  3 -
 be/src/exec/text_converter.hpp                     |  3 -
 be/src/exec/topn_node.cpp                          |  3 -
 be/src/exec/topn_node.h                            |  3 -
 be/src/exec/union_node.cpp                         |  3 -
 be/src/exec/union_node.h                           |  3 -
 be/src/exec/union_node_ir.cpp                      |  3 -
 be/src/exprs/CMakeLists.txt                        |  3 -
 be/src/exprs/agg_fn.cc                             |  3 -
 be/src/exprs/agg_fn.h                              |  3 -
 be/src/exprs/agg_fn_evaluator.cpp                  |  3 -
 be/src/exprs/agg_fn_evaluator.h                    |  3 -
 be/src/exprs/aggregate_functions.cpp               |  9 +--
 be/src/exprs/aggregate_functions.h                 |  3 -
 be/src/exprs/anyval_util.cpp                       |  3 -
 be/src/exprs/anyval_util.h                         |  3 -
 be/src/exprs/arithmetic_expr.cpp                   |  3 -
 be/src/exprs/arithmetic_expr.h                     |  3 -
 be/src/exprs/base64.cpp                            |  3 -
 be/src/exprs/base64.h                              |  3 -
 be/src/exprs/binary_predicate.cpp                  |  3 -
 be/src/exprs/binary_predicate.h                    |  3 -
 be/src/exprs/case_expr.cpp                         |  3 -
 be/src/exprs/case_expr.h                           |  3 -
 be/src/exprs/cast_expr.cpp                         |  3 -
 be/src/exprs/cast_expr.h                           |  3 -
 be/src/exprs/cast_functions.cpp                    |  3 -
 be/src/exprs/cast_functions.h                      |  3 -
 be/src/exprs/compound_predicate.cpp                |  3 -
 be/src/exprs/compound_predicate.h                  |  3 -
 be/src/exprs/conditional_functions.cpp             |  3 -
 be/src/exprs/conditional_functions.h               |  3 -
 be/src/exprs/conditional_functions_ir.cpp          |  3 -
 be/src/exprs/decimal_operators.cpp                 |  3 -
 be/src/exprs/decimal_operators.h                   |  3 -
 be/src/exprs/encryption_functions.cpp              |  3 -
 be/src/exprs/encryption_functions.h                |  3 -
 be/src/exprs/es_functions.cpp                      | 12 ++--
 be/src/exprs/es_functions.h                        | 12 ++--
 be/src/exprs/expr.cpp                              |  3 -
 be/src/exprs/expr.h                                |  3 -
 be/src/exprs/expr_context.cpp                      |  3 -
 be/src/exprs/expr_context.h                        |  3 -
 be/src/exprs/expr_ir.cpp                           |  3 -
 be/src/exprs/expr_value.h                          |  3 -
 be/src/exprs/hll_hash_function.cpp                 |  3 -
 be/src/exprs/hll_hash_function.h                   |  3 -
 be/src/exprs/hybird_map.h                          |  3 -
 be/src/exprs/hybird_set.cpp                        |  3 -
 be/src/exprs/hybird_set.h                          |  3 -
 be/src/exprs/in_predicate.cpp                      |  3 -
 be/src/exprs/in_predicate.h                        |  3 -
 be/src/exprs/info_func.cpp                         |  3 -
 be/src/exprs/info_func.h                           |  3 -
 be/src/exprs/is_null_predicate.cpp                 |  3 -
 be/src/exprs/is_null_predicate.h                   |  3 -
 be/src/exprs/json_functions.cpp                    | 12 ++--
 be/src/exprs/json_functions.h                      | 12 ++--
 be/src/exprs/like_predicate.cpp                    |  3 -
 be/src/exprs/like_predicate.h                      |  3 -
 be/src/exprs/literal.cpp                           |  3 -
 be/src/exprs/literal.h                             |  3 -
 be/src/exprs/math_functions.cpp                    |  3 -
 be/src/exprs/math_functions.h                      |  3 -
 be/src/exprs/new_agg_fn_evaluator.cc               |  3 -
 be/src/exprs/new_agg_fn_evaluator.h                |  3 -
 be/src/exprs/new_agg_fn_evaluator_ir.cc            |  3 -
 be/src/exprs/new_in_predicate.cpp                  |  3 -
 be/src/exprs/new_in_predicate.h                    |  3 -
 be/src/exprs/null_literal.cpp                      |  3 -
 be/src/exprs/null_literal.h                        |  3 -
 be/src/exprs/operators.cpp                         |  3 -
 be/src/exprs/operators.h                           |  3 -
 be/src/exprs/predicate.h                           |  3 -
 be/src/exprs/scalar_fn_call.cpp                    |  3 -
 be/src/exprs/scalar_fn_call.h                      |  3 -
 be/src/exprs/slot_ref.cpp                          |  3 -
 be/src/exprs/slot_ref.h                            |  3 -
 be/src/exprs/string_functions.cpp                  |  3 -
 be/src/exprs/string_functions.h                    |  3 -
 be/src/exprs/timestamp_functions.cpp               |  7 +-
 be/src/exprs/timestamp_functions.h                 |  3 -
 be/src/exprs/timezone_db.cpp                       |  3 -
 be/src/exprs/tuple_is_null_predicate.cpp           |  3 -
 be/src/exprs/tuple_is_null_predicate.h             |  3 -
 be/src/exprs/udf_builtins.cpp                      |  3 -
 be/src/exprs/udf_builtins.h                        |  3 -
 be/src/exprs/utility_functions.cpp                 |  3 -
 be/src/exprs/utility_functions.h                   |  3 -
 be/src/gen_cpp/CMakeLists.txt                      | 12 ++--
 be/src/http/CMakeLists.txt                         |  2 -
 be/src/http/action/checksum_action.cpp             | 12 ++--
 be/src/http/action/checksum_action.h               | 12 ++--
 be/src/http/action/health_action.cpp               | 12 ++--
 be/src/http/action/health_action.h                 | 12 ++--
 be/src/http/action/meta_action.cpp                 | 12 ++--
 be/src/http/action/meta_action.h                   | 12 ++--
 be/src/http/action/metrics_action.cpp              | 12 ++--
 be/src/http/action/metrics_action.h                | 12 ++--
 be/src/http/action/mini_load.cpp                   | 12 ++--
 be/src/http/action/mini_load.h                     | 12 ++--
 be/src/http/action/pprof_actions.cpp               | 12 ++--
 be/src/http/action/pprof_actions.h                 | 12 ++--
 be/src/http/action/reload_tablet_action.cpp        | 12 ++--
 be/src/http/action/reload_tablet_action.h          | 12 ++--
 be/src/http/action/restore_tablet_action.cpp       | 12 ++--
 be/src/http/action/restore_tablet_action.h         | 12 ++--
 be/src/http/action/snapshot_action.cpp             | 12 ++--
 be/src/http/action/snapshot_action.h               | 12 ++--
 be/src/http/action/stream_load.cpp                 | 12 ++--
 be/src/http/action/stream_load.h                   | 12 ++--
 be/src/http/default_path_handlers.cpp              | 12 ++--
 be/src/http/default_path_handlers.h                | 12 ++--
 be/src/http/download_action.cpp                    | 12 ++--
 be/src/http/download_action.h                      | 12 ++--
 be/src/http/ev_http_server.cpp                     | 12 ++--
 be/src/http/ev_http_server.h                       | 12 ++--
 be/src/http/http_channel.cpp                       | 12 ++--
 be/src/http/http_channel.h                         | 12 ++--
 be/src/http/http_common.h                          | 12 ++--
 be/src/http/http_handler.h                         | 12 ++--
 be/src/http/http_headers.cpp                       | 12 ++--
 be/src/http/http_headers.h                         | 12 ++--
 be/src/http/http_method.cpp                        | 12 ++--
 be/src/http/http_method.h                          | 12 ++--
 be/src/http/http_parser.cpp                        | 12 ++--
 be/src/http/http_parser.h                          | 12 ++--
 be/src/http/http_request.cpp                       | 12 ++--
 be/src/http/http_request.h                         | 12 ++--
 be/src/http/http_response.cpp                      | 12 ++--
 be/src/http/http_response.h                        | 12 ++--
 be/src/http/http_status.cpp                        | 12 ++--
 be/src/http/http_status.h                          | 12 ++--
 be/src/http/message_body_sink.cpp                  | 12 ++--
 be/src/http/message_body_sink.h                    | 12 ++--
 be/src/http/monitor_action.cpp                     | 12 ++--
 be/src/http/monitor_action.h                       | 12 ++--
 be/src/http/rest_monitor_iface.h                   | 12 ++--
 be/src/http/utils.cpp                              | 12 ++--
 be/src/http/utils.h                                | 12 ++--
 be/src/http/web_page_handler.cpp                   | 12 ++--
 be/src/http/web_page_handler.h                     | 12 ++--
 be/src/olap/CMakeLists.txt                         | 12 ++--
 be/src/olap/aggregate_func.cpp                     | 12 ++--
 be/src/olap/aggregate_func.h                       | 12 ++--
 be/src/olap/atomic.h                               | 12 ++--
 be/src/olap/base_compaction.cpp                    | 12 ++--
 be/src/olap/base_compaction.h                      | 12 ++--
 be/src/olap/bhp_lib.h                              | 12 ++--
 be/src/olap/column_file/bit_field_reader.cpp       | 12 ++--
 be/src/olap/column_file/bit_field_reader.h         | 12 ++--
 be/src/olap/column_file/bit_field_writer.cpp       | 12 ++--
 be/src/olap/column_file/bit_field_writer.h         | 12 ++--
 be/src/olap/column_file/bloom_filter.hpp           | 12 ++--
 be/src/olap/column_file/bloom_filter_reader.cpp    | 12 ++--
 be/src/olap/column_file/bloom_filter_reader.h      | 12 ++--
 be/src/olap/column_file/bloom_filter_writer.cpp    | 12 ++--
 be/src/olap/column_file/bloom_filter_writer.h      | 12 ++--
 be/src/olap/column_file/byte_buffer.cpp            | 12 ++--
 be/src/olap/column_file/byte_buffer.h              | 12 ++--
 be/src/olap/column_file/column_data.cpp            | 12 ++--
 be/src/olap/column_file/column_data.h              | 12 ++--
 be/src/olap/column_file/column_reader.cpp          | 12 ++--
 be/src/olap/column_file/column_reader.h            | 12 ++--
 be/src/olap/column_file/column_writer.cpp          | 12 ++--
 be/src/olap/column_file/column_writer.h            | 12 ++--
 be/src/olap/column_file/compress.cpp               | 12 ++--
 be/src/olap/column_file/compress.h                 | 12 ++--
 be/src/olap/column_file/data_writer.cpp            | 12 ++--
 be/src/olap/column_file/data_writer.h              | 12 ++--
 be/src/olap/column_file/file_stream.cpp            | 12 ++--
 be/src/olap/column_file/file_stream.h              | 12 ++--
 be/src/olap/column_file/in_stream.cpp              | 12 ++--
 be/src/olap/column_file/in_stream.h                | 12 ++--
 be/src/olap/column_file/out_stream.cpp             | 12 ++--
 be/src/olap/column_file/out_stream.h               | 12 ++--
 be/src/olap/column_file/run_length_byte_reader.cpp | 12 ++--
 be/src/olap/column_file/run_length_byte_reader.h   | 12 ++--
 be/src/olap/column_file/run_length_byte_writer.cpp | 12 ++--
 be/src/olap/column_file/run_length_byte_writer.h   | 12 ++--
 .../olap/column_file/run_length_integer_reader.cpp | 12 ++--
 .../olap/column_file/run_length_integer_reader.h   | 12 ++--
 .../olap/column_file/run_length_integer_writer.cpp | 12 ++--
 .../olap/column_file/run_length_integer_writer.h   | 12 ++--
 be/src/olap/column_file/segment_reader.cpp         | 12 ++--
 be/src/olap/column_file/segment_reader.h           | 12 ++--
 be/src/olap/column_file/segment_writer.cpp         | 12 ++--
 be/src/olap/column_file/segment_writer.h           | 12 ++--
 be/src/olap/column_file/serialize.cpp              | 12 ++--
 be/src/olap/column_file/serialize.h                | 12 ++--
 be/src/olap/column_file/stream_index_common.cpp    | 12 ++--
 be/src/olap/column_file/stream_index_common.h      | 12 ++--
 be/src/olap/column_file/stream_index_reader.cpp    | 12 ++--
 be/src/olap/column_file/stream_index_reader.h      | 12 ++--
 be/src/olap/column_file/stream_index_writer.cpp    | 12 ++--
 be/src/olap/column_file/stream_index_writer.h      | 12 ++--
 be/src/olap/column_file/stream_name.cpp            | 12 ++--
 be/src/olap/column_file/stream_name.h              | 12 ++--
 be/src/olap/column_predicate.h                     | 12 ++--
 be/src/olap/comparison_predicate.cpp               | 12 ++--
 be/src/olap/comparison_predicate.h                 | 12 ++--
 be/src/olap/cumulative_compaction.cpp              | 12 ++--
 be/src/olap/cumulative_compaction.h                | 12 ++--
 be/src/olap/delete_handler.cpp                     | 12 ++--
 be/src/olap/delete_handler.h                       | 12 ++--
 be/src/olap/delta_writer.cpp                       | 12 ++--
 be/src/olap/delta_writer.h                         | 12 ++--
 be/src/olap/field.cpp                              | 12 ++--
 be/src/olap/field.h                                | 12 ++--
 be/src/olap/field_info.cpp                         | 12 ++--
 be/src/olap/field_info.h                           | 12 ++--
 be/src/olap/file_helper.cpp                        | 12 ++--
 be/src/olap/file_helper.h                          | 12 ++--
 be/src/olap/hll.cpp                                | 12 ++--
 be/src/olap/hll.h                                  | 12 ++--
 be/src/olap/i_data.cpp                             | 12 ++--
 be/src/olap/i_data.h                               | 12 ++--
 be/src/olap/in_list_predicate.cpp                  | 12 ++--
 be/src/olap/in_list_predicate.h                    | 12 ++--
 be/src/olap/lru_cache.cpp                          | 19 +++++-
 be/src/olap/lru_cache.h                            | 19 +++++-
 be/src/olap/memtable.cpp                           | 12 ++--
 be/src/olap/memtable.h                             | 12 ++--
 be/src/olap/merger.cpp                             | 12 ++--
 be/src/olap/merger.h                               | 12 ++--
 be/src/olap/new_status.cpp                         | 19 +++++-
 be/src/olap/new_status.h                           | 23 ++++---
 be/src/olap/null_predicate.cpp                     | 12 ++--
 be/src/olap/null_predicate.h                       | 12 ++--
 be/src/olap/olap_common.h                          | 12 ++--
 be/src/olap/olap_cond.cpp                          | 12 ++--
 be/src/olap/olap_cond.h                            | 12 ++--
 be/src/olap/olap_data.cpp                          | 12 ++--
 be/src/olap/olap_data.h                            | 12 ++--
 be/src/olap/olap_define.h                          | 12 ++--
 be/src/olap/olap_engine.cpp                        | 12 ++--
 be/src/olap/olap_engine.h                          | 12 ++--
 be/src/olap/olap_header.cpp                        | 12 ++--
 be/src/olap/olap_header.h                          | 12 ++--
 be/src/olap/olap_header_manager.cpp                | 12 ++--
 be/src/olap/olap_header_manager.h                  | 12 ++--
 be/src/olap/olap_index.cpp                         | 12 ++--
 be/src/olap/olap_index.h                           | 12 ++--
 be/src/olap/olap_meta.cpp                          | 12 ++--
 be/src/olap/olap_meta.h                            | 12 ++--
 be/src/olap/olap_server.cpp                        | 15 +++--
 be/src/olap/olap_snapshot.cpp                      | 12 ++--
 be/src/olap/olap_table.cpp                         | 12 ++--
 be/src/olap/olap_table.h                           | 12 ++--
 be/src/olap/options.cpp                            | 12 ++--
 be/src/olap/options.h                              | 12 ++--
 be/src/olap/push_handler.cpp                       | 12 ++--
 be/src/olap/push_handler.h                         | 12 ++--
 be/src/olap/reader.cpp                             | 12 ++--
 be/src/olap/reader.h                               | 12 ++--
 be/src/olap/row_block.cpp                          | 12 ++--
 be/src/olap/row_block.h                            | 12 ++--
 be/src/olap/row_cursor.cpp                         | 12 ++--
 be/src/olap/row_cursor.h                           | 12 ++--
 be/src/olap/rowset.cpp                             | 12 ++--
 be/src/olap/rowset.h                               | 12 ++--
 be/src/olap/rowset_builder.h                       | 12 ++--
 be/src/olap/schema.h                               | 12 ++--
 be/src/olap/schema_change.cpp                      | 12 ++--
 be/src/olap/schema_change.h                        | 12 ++--
 be/src/olap/skiplist.h                             | 19 +++++-
 be/src/olap/store.cpp                              | 12 ++--
 be/src/olap/store.h                                | 12 ++--
 be/src/olap/string_slice.h                         | 12 ++--
 be/src/olap/tuple.h                                | 12 ++--
 be/src/olap/types.cpp                              | 12 ++--
 be/src/olap/types.h                                | 12 ++--
 be/src/olap/utils.cpp                              | 12 ++--
 be/src/olap/utils.h                                | 12 ++--
 be/src/olap/wrapper_field.cpp                      | 12 ++--
 be/src/olap/wrapper_field.h                        | 12 ++--
 be/src/olap/writer.cpp                             | 12 ++--
 be/src/olap/writer.h                               | 12 ++--
 be/src/runtime/CMakeLists.txt                      |  3 -
 be/src/runtime/broker_mgr.cpp                      | 12 ++--
 be/src/runtime/broker_mgr.h                        | 12 ++--
 be/src/runtime/buffer_control_block.cpp            |  3 -
 be/src/runtime/buffer_control_block.h              |  3 -
 be/src/runtime/buffered_block_mgr.cpp              |  3 -
 be/src/runtime/buffered_block_mgr.h                |  3 -
 be/src/runtime/buffered_block_mgr2.cc              |  3 -
 be/src/runtime/buffered_block_mgr2.h               |  3 -
 be/src/runtime/buffered_tuple_stream.cpp           |  3 -
 be/src/runtime/buffered_tuple_stream.h             |  3 -
 be/src/runtime/buffered_tuple_stream2.cc           |  3 -
 be/src/runtime/buffered_tuple_stream2.h            |  3 -
 be/src/runtime/buffered_tuple_stream2.inline.h     |  3 -
 be/src/runtime/buffered_tuple_stream2_ir.cc        |  3 -
 be/src/runtime/buffered_tuple_stream3.cc           |  3 -
 be/src/runtime/buffered_tuple_stream3.h            |  3 -
 be/src/runtime/buffered_tuple_stream3.inline.h     |  3 -
 be/src/runtime/buffered_tuple_stream_ir.cpp        |  3 -
 be/src/runtime/bufferpool/buffer_allocator.cc      |  3 -
 be/src/runtime/bufferpool/buffer_allocator.h       |  3 -
 be/src/runtime/bufferpool/buffer_pool.cc           |  3 -
 be/src/runtime/bufferpool/buffer_pool.h            |  3 -
 be/src/runtime/bufferpool/buffer_pool_counters.h   |  3 -
 be/src/runtime/bufferpool/buffer_pool_internal.h   | 60 ------------------
 be/src/runtime/bufferpool/free_list.h              |  3 -
 be/src/runtime/bufferpool/reservation_tracker.cc   |  3 -
 be/src/runtime/bufferpool/reservation_tracker.h    |  3 -
 .../bufferpool/reservation_tracker_counters.h      |  3 -
 be/src/runtime/bufferpool/reservation_util.cc      |  3 -
 be/src/runtime/bufferpool/reservation_util.h       |  3 -
 be/src/runtime/bufferpool/suballocator.cc          |  3 -
 be/src/runtime/bufferpool/suballocator.h           |  3 -
 be/src/runtime/bufferpool/system_allocator.cc      |  3 -
 be/src/runtime/bufferpool/system_allocator.h       |  3 -
 be/src/runtime/client_cache.cpp                    |  3 -
 be/src/runtime/client_cache.h                      |  3 -
 be/src/runtime/data_spliter.cpp                    | 12 ++--
 be/src/runtime/data_spliter.h                      | 12 ++--
 be/src/runtime/data_stream_mgr.cpp                 |  3 -
 be/src/runtime/data_stream_mgr.h                   |  3 -
 be/src/runtime/data_stream_recvr.cc                |  3 -
 be/src/runtime/data_stream_recvr.h                 |  3 -
 be/src/runtime/data_stream_recvr.hpp               |  3 -
 be/src/runtime/data_stream_sender.cpp              |  3 -
 be/src/runtime/data_stream_sender.h                |  3 -
 be/src/runtime/datetime_value.cpp                  | 12 ++--
 be/src/runtime/datetime_value.h                    | 12 ++--
 be/src/runtime/decimal_value.cpp                   | 12 ++--
 be/src/runtime/decimal_value.h                     | 12 ++--
 be/src/runtime/descriptors.cpp                     |  3 -
 be/src/runtime/descriptors.h                       |  3 -
 be/src/runtime/disk_io_mgr.cc                      |  7 +-
 be/src/runtime/disk_io_mgr.h                       |  3 -
 be/src/runtime/disk_io_mgr_internal.h              |  3 -
 be/src/runtime/disk_io_mgr_reader_context.cc       |  3 -
 be/src/runtime/disk_io_mgr_scan_range.cc           |  3 -
 be/src/runtime/dpp_sink.cpp                        | 12 ++--
 be/src/runtime/dpp_sink.h                          | 12 ++--
 be/src/runtime/dpp_sink_internal.cpp               | 12 ++--
 be/src/runtime/dpp_sink_internal.h                 | 12 ++--
 be/src/runtime/dpp_writer.cpp                      | 12 ++--
 be/src/runtime/dpp_writer.h                        | 12 ++--
 be/src/runtime/etl_job_mgr.cpp                     | 12 ++--
 be/src/runtime/etl_job_mgr.h                       | 12 ++--
 be/src/runtime/exec_env.cpp                        |  3 -
 be/src/runtime/exec_env.h                          |  3 -
 be/src/runtime/export_sink.cpp                     | 12 ++--
 be/src/runtime/export_sink.h                       | 12 ++--
 be/src/runtime/export_task_mgr.cpp                 | 12 ++--
 be/src/runtime/export_task_mgr.h                   | 12 ++--
 be/src/runtime/fragment_mgr.cpp                    |  3 -
 be/src/runtime/fragment_mgr.h                      |  3 -
 be/src/runtime/free_list.hpp                       |  3 -
 be/src/runtime/free_pool.hpp                       |  3 -
 be/src/runtime/initial_reservations.cc             |  3 -
 be/src/runtime/initial_reservations.h              |  3 -
 be/src/runtime/kafka_consumer_pipe.cpp             | 12 ++--
 be/src/runtime/kafka_consumer_pipe.h               | 12 ++--
 be/src/runtime/large_int_value.cpp                 |  3 -
 be/src/runtime/large_int_value.h                   |  3 -
 be/src/runtime/lib_cache.cpp                       |  3 -
 be/src/runtime/lib_cache.h                         |  3 -
 be/src/runtime/load_path_mgr.cpp                   | 12 ++--
 be/src/runtime/load_path_mgr.h                     | 12 ++--
 be/src/runtime/load_stream_mgr.h                   | 12 ++--
 be/src/runtime/mem_pool.cpp                        |  3 -
 be/src/runtime/mem_pool.h                          |  4 --
 be/src/runtime/mem_tracker.cpp                     |  3 -
 be/src/runtime/mem_tracker.h                       |  3 -
 be/src/runtime/merge_sorter.cpp                    |  3 -
 be/src/runtime/merge_sorter.h                      |  3 -
 be/src/runtime/multi_precision.h                   |  3 -
 be/src/runtime/mysql_table_sink.cpp                | 12 ++--
 be/src/runtime/mysql_table_sink.h                  | 12 ++--
 be/src/runtime/mysql_table_writer.cpp              | 12 ++--
 be/src/runtime/mysql_table_writer.h                | 12 ++--
 be/src/runtime/plan_fragment_executor.cpp          |  3 -
 be/src/runtime/plan_fragment_executor.h            |  3 -
 be/src/runtime/primitive_type.cpp                  |  3 -
 be/src/runtime/primitive_type.h                    |  3 -
 be/src/runtime/pull_load_task_mgr.cpp              | 12 ++--
 be/src/runtime/pull_load_task_mgr.h                | 12 ++--
 be/src/runtime/qsorter.cpp                         |  3 -
 be/src/runtime/qsorter.h                           |  3 -
 be/src/runtime/raw_value.cpp                       |  3 -
 be/src/runtime/raw_value.h                         |  3 -
 be/src/runtime/raw_value_ir.cpp                    |  3 -
 be/src/runtime/result_buffer_mgr.cpp               |  3 -
 be/src/runtime/result_buffer_mgr.h                 |  3 -
 be/src/runtime/result_sink.cpp                     |  3 -
 be/src/runtime/result_sink.h                       |  3 -
 be/src/runtime/result_writer.cpp                   |  3 -
 be/src/runtime/result_writer.h                     |  3 -
 be/src/runtime/row_batch.cpp                       |  3 -
 be/src/runtime/row_batch.h                         |  3 -
 be/src/runtime/row_batch_interface.hpp             |  3 -
 be/src/runtime/runtime_state.cpp                   |  3 -
 be/src/runtime/runtime_state.h                     |  3 -
 be/src/runtime/snapshot_loader.cpp                 | 12 ++--
 be/src/runtime/snapshot_loader.h                   | 12 ++--
 be/src/runtime/sorted_run_merger.cc                |  3 -
 be/src/runtime/sorted_run_merger.h                 |  3 -
 be/src/runtime/sorter.h                            |  3 -
 be/src/runtime/spill_sorter.cc                     |  3 -
 be/src/runtime/spill_sorter.h                      |  3 -
 be/src/runtime/stream_load_pipe.h                  | 12 ++--
 be/src/runtime/string_buffer.hpp                   |  3 -
 be/src/runtime/string_search.hpp                   |  3 -
 be/src/runtime/string_value.cpp                    |  3 -
 be/src/runtime/string_value.h                      |  3 -
 be/src/runtime/string_value.hpp                    |  3 -
 be/src/runtime/string_value_ir.cpp                 |  3 -
 be/src/runtime/tablet_writer_mgr.cpp               | 12 ++--
 be/src/runtime/tablet_writer_mgr.h                 | 12 ++--
 be/src/runtime/test_env.cc                         |  3 -
 be/src/runtime/test_env.h                          |  3 -
 be/src/runtime/thread_resource_mgr.cpp             |  3 -
 be/src/runtime/thread_resource_mgr.h               |  3 -
 be/src/runtime/tmp_file_mgr.cc                     |  3 -
 be/src/runtime/tmp_file_mgr.h                      |  3 -
 be/src/runtime/tuple.cpp                           |  3 -
 be/src/runtime/tuple.h                             |  3 -
 be/src/runtime/tuple_row.cpp                       |  3 -
 be/src/runtime/tuple_row.h                         |  3 -
 be/src/runtime/types.cpp                           |  3 -
 be/src/runtime/types.h                             |  3 -
 be/src/runtime/vectorized_row_batch.cpp            | 12 ++--
 be/src/runtime/vectorized_row_batch.h              | 12 ++--
 be/src/service/CMakeLists.txt                      | 12 ++--
 be/src/service/backend_options.cpp                 | 12 ++--
 be/src/service/backend_options.h                   | 12 ++--
 be/src/service/backend_service.cpp                 |  3 -
 be/src/service/backend_service.h                   |  3 -
 be/src/service/brpc.h                              | 12 ++--
 be/src/service/brpc_service.cpp                    | 12 ++--
 be/src/service/brpc_service.h                      | 12 ++--
 be/src/service/internal_service.cpp                | 12 ++--
 be/src/service/internal_service.h                  | 12 ++--
 be/src/service/palo_main.cpp                       | 12 ++--
 be/src/testutil/CMakeLists.txt                     |  3 -
 be/src/testutil/desc_tbl_builder.cc                |  3 -
 be/src/testutil/desc_tbl_builder.h                 |  3 -
 be/src/tools/CMakeLists.txt                        | 12 ++--
 be/src/tools/meta_tool.cpp                         | 12 ++--
 be/src/udf/CMakeLists.txt                          |  3 -
 be/src/udf/uda_test_harness.h                      |  3 -
 be/src/udf/udf.cpp                                 |  3 -
 be/src/udf/udf.h                                   |  3 -
 be/src/udf/udf_debug.h                             |  3 -
 be/src/udf/udf_internal.h                          |  3 -
 be/src/udf/udf_ir.cpp                              |  3 -
 be/src/util/CMakeLists.txt                         |  3 -
 be/src/util/aligned_new.h                          |  3 -
 be/src/util/arena.cc                               | 19 +++++-
 be/src/util/arena.h                                | 19 +++++-
 be/src/util/bfd_parser.cpp                         |  3 -
 be/src/util/bfd_parser.h                           |  3 -
 be/src/util/bit_util.h                             |  3 -
 be/src/util/bitmap.cpp                             |  3 -
 be/src/util/bitmap.h                               |  3 -
 be/src/util/blocking_priority_queue.hpp            |  3 -
 be/src/util/blocking_queue.hpp                     |  3 -
 be/src/util/brpc_stub_cache.h                      | 12 ++--
 be/src/util/buffer_builder.hpp                     |  3 -
 be/src/util/byte_buffer.h                          | 12 ++--
 be/src/util/cidr.cpp                               | 12 ++--
 be/src/util/cidr.h                                 | 12 ++--
 be/src/util/codec.cpp                              |  3 -
 be/src/util/codec.h                                |  3 -
 be/src/util/compress.cpp                           |  3 -
 be/src/util/compress.h                             |  3 -
 be/src/util/condition_variable.h                   |  3 -
 be/src/util/container_util.hpp                     |  3 -
 be/src/util/core_local.cpp                         | 12 ++--
 be/src/util/core_local.h                           | 12 ++--
 be/src/util/count_down_latch.hpp                   |  3 -
 be/src/util/cpu_info.cpp                           |  3 -
 be/src/util/cpu_info.h                             |  4 --
 be/src/util/date_func.h                            | 12 ++--
 be/src/util/debug_counters.h                       |  3 -
 be/src/util/debug_util.cpp                         |  3 -
 be/src/util/debug_util.h                           |  3 -
 be/src/util/decompress.cpp                         |  3 -
 be/src/util/decompress.h                           |  3 -
 be/src/util/defer_op.h                             |  3 -
 be/src/util/disk_info.cpp                          |  3 -
 be/src/util/disk_info.h                            |  3 -
 be/src/util/dummy_runtime_profile.h                |  3 -
 be/src/util/dynamic_util.cpp                       |  3 -
 be/src/util/dynamic_util.h                         |  3 -
 be/src/util/error_util.cc                          |  3 -
 be/src/util/error_util.h                           |  3 -
 be/src/util/fake_lock.h                            |  3 -
 be/src/util/file_utils.cpp                         |  3 -
 be/src/util/file_utils.h                           |  3 -
 be/src/util/filesystem_util.cc                     |  3 -
 be/src/util/filesystem_util.h                      |  3 -
 be/src/util/hash_util.hpp                          |  3 -
 be/src/util/hash_util_ir.cpp                       |  3 -
 be/src/util/internal_queue.h                       |  4 --
 be/src/util/json_util.cpp                          | 12 ++--
 be/src/util/json_util.h                            |  3 -
 be/src/util/load_error_hub.cpp                     |  3 -
 be/src/util/load_error_hub.h                       |  3 -
 be/src/util/logging.h                              |  3 -
 be/src/util/lru_cache.hpp                          |  3 -
 be/src/util/mem_info.cpp                           |  3 -
 be/src/util/mem_info.h                             |  3 -
 be/src/util/mem_range.h                            |  3 -
 be/src/util/mem_util.hpp                           |  3 -
 be/src/util/metrics.cpp                            | 12 ++--
 be/src/util/metrics.h                              | 12 ++--
 be/src/util/murmur_hash3.cpp                       | 24 ++++---
 be/src/util/murmur_hash3.h                         | 19 +++++-
 be/src/util/mysql_global.h                         |  3 -
 be/src/util/mysql_load_error_hub.cpp               |  3 -
 be/src/util/mysql_load_error_hub.h                 |  3 -
 be/src/util/mysql_row_buffer.cpp                   |  3 -
 be/src/util/mysql_row_buffer.h                     |  3 -
 be/src/util/network_util.cpp                       |  3 -
 be/src/util/network_util.h                         |  3 -
 be/src/util/null_load_error_hub.cpp                |  3 -
 be/src/util/null_load_error_hub.h                  |  3 -
 be/src/util/os_info.cpp                            |  3 -
 be/src/util/os_info.h                              |  3 -
 be/src/util/palo_metrics.cpp                       | 12 ++--
 be/src/util/palo_metrics.h                         | 12 ++--
 be/src/util/parse_util.cpp                         |  3 -
 be/src/util/parse_util.h                           |  3 -
 be/src/util/path_builder.cpp                       |  3 -
 be/src/util/path_builder.h                         |  3 -
 be/src/util/path_trie.hpp                          |  3 -
 be/src/util/perf_counters.cpp                      |  3 -
 be/src/util/perf_counters.h                        |  3 -
 be/src/util/pretty_printer.h                       |  3 -
 be/src/util/priority_thread_pool.hpp               |  3 -
 be/src/util/progress_updater.cpp                   |  3 -
 be/src/util/progress_updater.h                     |  3 -
 be/src/util/random.h                               | 19 +++++-
 be/src/util/ref_count_closure.h                    | 12 ++--
 be/src/util/runtime_profile.cpp                    |  3 -
 be/src/util/runtime_profile.h                      |  3 -
 be/src/util/spinlock.cc                            |  3 -
 be/src/util/spinlock.h                             |  3 -
 be/src/util/sse_util.hpp                           |  3 -
 be/src/util/stat_util.hpp                          |  3 -
 be/src/util/static_asserts.cpp                     |  3 -
 be/src/util/stopwatch.hpp                          |  3 -
 be/src/util/streaming_sampler.h                    |  3 -
 be/src/util/string_parser.cpp                      |  3 -
 be/src/util/string_parser.hpp                      |  3 -
 be/src/util/string_util.h                          | 12 ++--
 be/src/util/symbols_util.cpp                       |  3 -
 be/src/util/symbols_util.h                         |  3 -
 be/src/util/system_metrics.cpp                     | 12 ++--
 be/src/util/system_metrics.h                       | 12 ++--
 be/src/util/template_util.h                        |  3 -
 be/src/util/thread_pool.hpp                        |  3 -
 be/src/util/thrift_client.cpp                      |  3 -
 be/src/util/thrift_client.h                        |  3 -
 be/src/util/thrift_server.cpp                      |  3 -
 be/src/util/thrift_server.h                        |  3 -
 be/src/util/thrift_util.cpp                        |  3 -
 be/src/util/thrift_util.h                          |  3 -
 be/src/util/time.cpp                               |  3 -
 be/src/util/time.h                                 |  3 -
 be/src/util/tuple_row_compare.cpp                  |  3 -
 be/src/util/tuple_row_compare.h                    |  3 -
 be/src/util/types.h                                | 12 ++--
 be/src/util/uid_util.cpp                           | 12 ++--
 be/src/util/uid_util.h                             |  3 -
 be/src/util/url_coding.cpp                         |  3 -
 be/src/util/url_coding.h                           |  3 -
 be/src/util/url_parser.cpp                         |  3 -
 be/src/util/url_parser.h                           |  3 -
 be/test/agent/CMakeLists.txt                       | 17 +++++
 be/test/agent/agent_server_test.cpp                | 12 ++--
 be/test/agent/cgroups_mgr_test.cpp                 | 12 ++--
 be/test/agent/file_downloader_test.cpp             | 12 ++--
 be/test/agent/heartbeat_server_test.cpp            | 12 ++--
 be/test/agent/mock_file_downloader.h               | 12 ++--
 be/test/agent/mock_pusher.h                        | 12 ++--
 be/test/agent/mock_task_worker_pool.h              | 12 ++--
 be/test/agent/mock_utils.h                         | 12 ++--
 be/test/agent/pusher_test.cpp                      | 12 ++--
 be/test/agent/task_worker_pool_test.cpp            | 12 ++--
 be/test/agent/utils_test.cpp                       | 12 ++--
 be/test/common/CMakeLists.txt                      |  3 -
 be/test/common/resource_tls_test.cpp               | 12 ++--
 be/test/exec/CMakeLists.txt                        |  3 -
 be/test/exec/broker_reader_test.cpp                | 12 ++--
 be/test/exec/broker_scan_node_test.cpp             | 12 ++--
 be/test/exec/broker_scanner_test.cpp               | 12 ++--
 be/test/exec/csv_scan_bench_test.cpp               | 12 ++--
 be/test/exec/csv_scan_node_test.cpp                | 12 ++--
 be/test/exec/csv_scanner_test.cpp                  | 12 ++--
 be/test/exec/hash_table_test.cpp                   | 12 ++--
 be/test/exec/mysql_scan_node_test.cpp              | 12 ++--
 be/test/exec/mysql_scanner_test.cpp                | 12 ++--
 be/test/exec/new_olap_scan_node_test.cpp           | 12 ++--
 be/test/exec/olap_common_test.cpp                  | 12 ++--
 be/test/exec/olap_scan_node_test.cpp               | 12 ++--
 be/test/exec/olap_scanner_test.cpp                 | 12 ++--
 be/test/exec/olap_table_info_test.cpp              | 12 ++--
 be/test/exec/olap_table_sink_test.cpp              | 12 ++--
 be/test/exec/partitioned_hash_table_test.cpp       | 12 ++--
 be/test/exec/plain_text_line_reader_bzip_test.cpp  | 12 ++--
 be/test/exec/plain_text_line_reader_gzip_test.cpp  | 12 ++--
 .../exec/plain_text_line_reader_lz4frame_test.cpp  | 12 ++--
 be/test/exec/plain_text_line_reader_lzop_test.cpp  | 12 ++--
 .../plain_text_line_reader_uncompressed_test.cpp   | 12 ++--
 be/test/exec/schema_scan_node_test.cpp             | 12 ++--
 .../schema_scanner/schema_authors_scanner_test.cpp | 12 ++--
 .../schema_charsets_scanner_test.cpp               | 12 ++--
 .../schema_collations_scanner_test.cpp             | 12 ++--
 .../schema_scanner/schema_columns_scanner_test.cpp | 12 ++--
 .../schema_create_table_scanner_test.cpp           | 12 ++--
 .../schema_scanner/schema_engines_scanner_test.cpp | 12 ++--
 .../schema_open_tables_scanner_test.cpp            | 12 ++--
 .../schema_schemata_scanner_test.cpp               | 12 ++--
 .../schema_table_names_scanner_test.cpp            | 12 ++--
 .../schema_scanner/schema_tables_scanner_test.cpp  | 12 ++--
 .../schema_variables_scanner_test.cpp              | 12 ++--
 be/test/exec/schema_scanner_test.cpp               | 12 ++--
 be/test/exec/set_executor_test.cpp                 | 12 ++--
 be/test/exprs/CMakeLists.txt                       |  3 -
 be/test/exprs/binary_predicate_test.cpp            | 12 ++--
 be/test/exprs/hybird_set_test.cpp                  | 12 ++--
 be/test/exprs/in_op_test.cpp                       | 12 ++--
 be/test/exprs/in_predicate_test.cpp                | 12 ++--
 be/test/exprs/json_function_test.cpp               | 12 ++--
 be/test/http/CMakeLists.txt                        | 12 ++--
 be/test/http/http_utils_test.cpp                   | 12 ++--
 be/test/http/message_body_sink_test.cpp            | 12 ++--
 be/test/http/metrics_action_test.cpp               | 12 ++--
 be/test/http/stream_load_test.cpp                  | 12 ++--
 be/test/olap/bit_field_test.cpp                    | 12 ++--
 be/test/olap/bloom_filter_index_test.cpp           | 12 ++--
 be/test/olap/bloom_filter_test.cpp                 | 12 ++--
 be/test/olap/byte_buffer_test.cpp                  | 12 ++--
 be/test/olap/column_reader_test.cpp                | 12 ++--
 be/test/olap/comparison_predicate_test.cpp         | 12 ++--
 be/test/olap/delete_handler_test.cpp               | 12 ++--
 be/test/olap/delta_writer_test.cpp                 | 12 ++--
 be/test/olap/file_helper_test.cpp                  | 12 ++--
 be/test/olap/file_utils_test.cpp                   | 12 ++--
 be/test/olap/in_list_predicate_test.cpp            | 12 ++--
 be/test/olap/lru_cache_test.cpp                    | 12 ++--
 be/test/olap/mock_command_executor.h               | 12 ++--
 be/test/olap/mock_olap_rootpath.h                  | 12 ++--
 be/test/olap/null_predicate_test.cpp               | 12 ++--
 be/test/olap/olap_header_manager_test.cpp          | 12 ++--
 be/test/olap/olap_meta_test.cpp                    | 12 ++--
 be/test/olap/olap_reader_test.cpp                  | 12 ++--
 be/test/olap/row_block_test.cpp                    | 12 ++--
 be/test/olap/row_cursor_test.cpp                   | 12 ++--
 be/test/olap/run_length_byte_test.cpp              | 12 ++--
 be/test/olap/run_length_integer_test.cpp           | 12 ++--
 be/test/olap/serialize_test.cpp                    | 12 ++--
 be/test/olap/skiplist_test.cpp                     | 19 +++++-
 be/test/olap/stream_index_test.cpp                 | 12 ++--
 be/test/olap/vectorized_olap_reader_test.cpp       | 12 ++--
 be/test/runtime/CMakeLists.txt                     |  3 -
 be/test/runtime/buffer_control_block_test.cpp      | 12 ++--
 be/test/runtime/buffered_block_mgr2_test.cpp       | 12 ++--
 be/test/runtime/buffered_tuple_stream2_test.cpp    | 12 ++--
 be/test/runtime/buffered_tuple_stream_test.cpp     | 12 ++--
 be/test/runtime/data_spliter_test.cpp              | 12 ++--
 be/test/runtime/data_stream_test.cpp               | 12 ++--
 be/test/runtime/datetime_value_test.cpp            | 12 ++--
 be/test/runtime/decimal_value_test.cpp             | 12 ++--
 be/test/runtime/disk_io_mgr_test.cpp               | 12 ++--
 be/test/runtime/dpp_sink_internal_test.cpp         | 12 ++--
 be/test/runtime/dpp_sink_test.cpp                  | 12 ++--
 be/test/runtime/dpp_writer_test.cpp                | 12 ++--
 be/test/runtime/etl_job_mgr_test.cpp               | 12 ++--
 be/test/runtime/export_task_mgr_test.cpp           | 12 ++--
 be/test/runtime/fragment_mgr_test.cpp              | 12 ++--
 be/test/runtime/free_list_test.cpp                 | 12 ++--
 be/test/runtime/large_int_value_test.cpp           | 12 ++--
 be/test/runtime/mem_limit_test.cpp                 | 12 ++--
 be/test/runtime/mem_pool_test.cpp                  | 12 ++--
 be/test/runtime/mysql_table_writer_test.cpp        | 12 ++--
 be/test/runtime/pull_load_task_mgr_test.cpp        | 12 ++--
 be/test/runtime/qsorter_test.cpp                   | 12 ++--
 be/test/runtime/raw_value_test.cpp                 | 12 ++--
 be/test/runtime/result_buffer_mgr_test.cpp         | 12 ++--
 be/test/runtime/result_sink_test.cpp               | 12 ++--
 be/test/runtime/result_writer_test.cpp             | 12 ++--
 be/test/runtime/snapshot_loader_test.cpp           | 12 ++--
 be/test/runtime/sorter_test.cpp                    | 12 ++--
 be/test/runtime/stream_load_pipe_test.cpp          | 12 ++--
 be/test/runtime/string_buffer_test.cpp             | 12 ++--
 be/test/runtime/string_value_test.cpp              | 12 ++--
 be/test/runtime/tablet_writer_mgr_test.cpp         | 12 ++--
 be/test/runtime/thread_resource_mgr_test.cpp       | 12 ++--
 be/test/runtime/tmp_file_mgr_test.cpp              | 12 ++--
 be/test/udf/CMakeLists.txt                         |  3 -
 be/test/udf/uda_test.cpp                           | 12 ++--
 be/test/udf/udf_test.cpp                           | 12 ++--
 be/test/util/CMakeLists.txt                        |  5 +-
 be/test/util/arena_test.cpp                        | 19 +++++-
 be/test/util/bit_util_test.cpp                     | 12 ++--
 be/test/util/blocking_queue_test.cpp               | 12 ++--
 be/test/util/brpc_stub_cache_test.cpp              | 12 ++--
 be/test/util/byte_buffer_test2.cpp                 | 12 ++--
 be/test/util/cidr_test.cpp                         | 12 ++--
 be/test/util/core_local_test.cpp                   | 12 ++--
 be/test/util/count_down_latch_test.cpp             | 12 ++--
 be/test/util/decompress_test.cpp                   | 12 ++--
 be/test/util/descriptor_helper.h                   | 12 ++--
 be/test/util/filesystem_util_test.cpp              | 12 ++--
 be/test/util/internal_queue_test.cpp               | 12 ++--
 be/test/util/json_util_test.cpp                    | 12 ++--
 be/test/util/lru_cache_util_test.cpp               | 12 ++--
 be/test/util/new_metrics_test.cpp                  | 12 ++--
 be/test/util/palo_metrics_test.cpp                 | 12 ++--
 be/test/util/path_trie_test.cpp                    | 12 ++--
 be/test/util/perf_counters_test.cpp                | 12 ++--
 be/test/util/runtime_profile_test.cpp              | 12 ++--
 be/test/util/string_parser_test.cpp                | 12 ++--
 be/test/util/string_util_test.cpp                  | 12 ++--
 be/test/util/system_metrics_test.cpp               | 12 ++--
 be/test/util/thread_pool_test.cpp                  | 12 ++--
 be/test/util/types_test.cpp                        | 12 ++--
 be/test/util/uid_util_test.cpp                     |  3 -
 be/test/util/url_coding_test.cpp                   | 12 ++--
 bin/start_be.sh                                    | 12 ++--
 bin/start_fe.sh                                    | 12 ++--
 bin/stop_be.sh                                     | 12 ++--
 bin/stop_fe.sh                                     | 12 ++--
 build.sh                                           | 12 ++--
 env.sh                                             | 12 ++--
 fe/src/main/cup/sql_parser.cup                     |  3 -
 fe/src/main/java/org/apache/doris/PaloFe.java      | 12 ++--
 fe/src/main/java/org/apache/doris/alter/Alter.java | 12 ++--
 .../java/org/apache/doris/alter/AlterHandler.java  | 12 ++--
 .../main/java/org/apache/doris/alter/AlterJob.java | 12 ++--
 .../apache/doris/alter/DecommissionBackendJob.java | 12 ++--
 .../java/org/apache/doris/alter/RollupHandler.java | 12 ++--
 .../java/org/apache/doris/alter/RollupJob.java     | 12 ++--
 .../apache/doris/alter/SchemaChangeHandler.java    | 12 ++--
 .../org/apache/doris/alter/SchemaChangeJob.java    | 12 ++--
 .../java/org/apache/doris/alter/SystemHandler.java | 12 ++--
 .../apache/doris/analysis/AbstractBackupStmt.java  |  3 -
 .../apache/doris/analysis/AddBackendClause.java    | 12 ++--
 .../org/apache/doris/analysis/AddColumnClause.java |  3 -
 .../apache/doris/analysis/AddColumnsClause.java    |  3 -
 .../apache/doris/analysis/AddFollowerClause.java   |  3 -
 .../apache/doris/analysis/AddObserverClause.java   |  3 -
 .../apache/doris/analysis/AddPartitionClause.java  |  3 -
 .../org/apache/doris/analysis/AddRollupClause.java |  3 -
 .../analysis/AdminShowReplicaDistributionStmt.java | 12 ++--
 .../doris/analysis/AdminShowReplicaStatusStmt.java | 12 ++--
 .../org/apache/doris/analysis/AggregateInfo.java   |  3 -
 .../apache/doris/analysis/AggregateInfoBase.java   |  3 -
 .../apache/doris/analysis/AggregateParamsList.java |  3 -
 .../org/apache/doris/analysis/AlterClause.java     |  3 -
 .../apache/doris/analysis/AlterClusterClause.java  |  3 -
 .../apache/doris/analysis/AlterClusterStmt.java    |  3 -
 .../apache/doris/analysis/AlterClusterType.java    |  3 -
 .../doris/analysis/AlterDatabaseQuotaStmt.java     |  3 -
 .../apache/doris/analysis/AlterDatabaseRename.java |  3 -
 .../doris/analysis/AlterLoadErrorUrlClause.java    |  3 -
 .../org/apache/doris/analysis/AlterSystemStmt.java | 12 ++--
 .../org/apache/doris/analysis/AlterTableStmt.java  |  3 -
 .../org/apache/doris/analysis/AlterUserClause.java |  3 -
 .../org/apache/doris/analysis/AlterUserType.java   |  3 -
 .../org/apache/doris/analysis/AnalyticExpr.java    |  3 -
 .../org/apache/doris/analysis/AnalyticInfo.java    |  3 -
 .../org/apache/doris/analysis/AnalyticWindow.java  |  3 -
 .../java/org/apache/doris/analysis/Analyzer.java   |  3 -
 .../org/apache/doris/analysis/ArithmeticExpr.java  |  3 -
 .../org/apache/doris/analysis/BackendClause.java   |  3 -
 .../java/org/apache/doris/analysis/BackupStmt.java |  3 -
 .../org/apache/doris/analysis/BaseTableRef.java    |  3 -
 .../apache/doris/analysis/BetweenPredicate.java    |  3 -
 .../org/apache/doris/analysis/BinaryPredicate.java |  3 -
 .../org/apache/doris/analysis/BoolLiteral.java     |  3 -
 .../java/org/apache/doris/analysis/BrokerDesc.java | 12 ++--
 .../doris/analysis/BuiltinAggregateFunction.java   |  3 -
 .../doris/analysis/CancelAlterSystemStmt.java      | 12 ++--
 .../doris/analysis/CancelAlterTableStmt.java       | 12 ++--
 .../apache/doris/analysis/CancelBackupStmt.java    | 12 ++--
 .../org/apache/doris/analysis/CancelLoadStmt.java  | 12 ++--
 .../java/org/apache/doris/analysis/CancelStmt.java | 12 ++--
 .../java/org/apache/doris/analysis/CaseExpr.java   |  3 -
 .../org/apache/doris/analysis/CaseWhenClause.java  |  3 -
 .../java/org/apache/doris/analysis/CastExpr.java   |  3 -
 .../org/apache/doris/analysis/ClusterName.java     |  3 -
 .../org/apache/doris/analysis/ColumnPosition.java  |  3 -
 .../apache/doris/analysis/ColumnRenameClause.java  |  3 -
 .../org/apache/doris/analysis/ColumnSeparator.java |  3 -
 .../apache/doris/analysis/CompoundPredicate.java   |  3 -
 .../apache/doris/analysis/CreateClusterStmt.java   | 12 ++--
 .../org/apache/doris/analysis/CreateDbStmt.java    |  3 -
 .../apache/doris/analysis/CreateFunctionStmt.java  |  3 -
 .../doris/analysis/CreateRepositoryStmt.java       |  4 +-
 .../org/apache/doris/analysis/CreateRoleStmt.java  | 12 ++--
 .../doris/analysis/CreateTableAsSelectStmt.java    |  3 -
 .../org/apache/doris/analysis/CreateTableStmt.java |  3 -
 .../org/apache/doris/analysis/CreateUserStmt.java  |  3 -
 .../org/apache/doris/analysis/CreateViewStmt.java  |  3 -
 .../org/apache/doris/analysis/DataDescription.java |  3 -
 .../org/apache/doris/analysis/DateLiteral.java     |  3 -
 .../java/org/apache/doris/analysis/DdlStmt.java    |  3 -
 .../org/apache/doris/analysis/DecimalLiteral.java  |  3 -
 .../doris/analysis/DecommissionBackendClause.java  |  3 -
 .../java/org/apache/doris/analysis/DeleteStmt.java |  3 -
 .../org/apache/doris/analysis/DescribeStmt.java    |  3 -
 .../org/apache/doris/analysis/DescriptorTable.java |  3 -
 .../apache/doris/analysis/DistributionDesc.java    |  3 -
 .../apache/doris/analysis/DropBackendClause.java   | 12 ++--
 .../org/apache/doris/analysis/DropClusterStmt.java | 12 ++--
 .../apache/doris/analysis/DropColumnClause.java    | 12 ++--
 .../java/org/apache/doris/analysis/DropDbStmt.java | 12 ++--
 .../apache/doris/analysis/DropFollowerClause.java  | 12 ++--
 .../apache/doris/analysis/DropFunctionStmt.java    | 12 ++--
 .../apache/doris/analysis/DropObserverClause.java  | 12 ++--
 .../apache/doris/analysis/DropPartitionClause.java | 12 ++--
 .../apache/doris/analysis/DropRepositoryStmt.java  |  3 -
 .../org/apache/doris/analysis/DropRoleStmt.java    | 12 ++--
 .../apache/doris/analysis/DropRollupClause.java    | 12 ++--
 .../org/apache/doris/analysis/DropTableStmt.java   | 12 ++--
 .../org/apache/doris/analysis/DropUserStmt.java    | 12 ++--
 .../java/org/apache/doris/analysis/EmptyStmt.java  |  3 -
 .../java/org/apache/doris/analysis/EnterStmt.java  |  3 -
 .../org/apache/doris/analysis/ExistsPredicate.java |  3 -
 .../java/org/apache/doris/analysis/ExportStmt.java | 12 ++--
 .../main/java/org/apache/doris/analysis/Expr.java  |  3 -
 .../java/org/apache/doris/analysis/ExprId.java     |  3 -
 .../apache/doris/analysis/ExprSubstitutionMap.java |  3 -
 .../org/apache/doris/analysis/FloatLiteral.java    |  3 -
 .../java/org/apache/doris/analysis/FromClause.java |  3 -
 .../org/apache/doris/analysis/FrontendClause.java  |  3 -
 .../org/apache/doris/analysis/FunctionArgs.java    |  3 -
 .../apache/doris/analysis/FunctionCallExpr.java    |  3 -
 .../org/apache/doris/analysis/FunctionName.java    |  3 -
 .../org/apache/doris/analysis/FunctionParams.java  |  3 -
 .../java/org/apache/doris/analysis/GrantStmt.java  |  3 -
 .../doris/analysis/HashDistributionDesc.java       |  3 -
 .../java/org/apache/doris/analysis/HdfsURI.java    |  3 -
 .../java/org/apache/doris/analysis/HelpStmt.java   |  3 -
 .../apache/doris/analysis/ImportColumnDesc.java    | 17 +++++
 .../apache/doris/analysis/ImportColumnsStmt.java   | 17 +++++
 .../org/apache/doris/analysis/ImportWhereStmt.java | 17 +++++
 .../org/apache/doris/analysis/InPredicate.java     |  3 -
 .../apache/doris/analysis/InformationFunction.java |  3 -
 .../org/apache/doris/analysis/InlineViewRef.java   |  3 -
 .../org/apache/doris/analysis/InsertSource.java    |  3 -
 .../java/org/apache/doris/analysis/InsertStmt.java |  3 -
 .../org/apache/doris/analysis/InsertTarget.java    |  3 -
 .../java/org/apache/doris/analysis/IntLiteral.java |  3 -
 .../org/apache/doris/analysis/IsNullPredicate.java |  3 -
 .../org/apache/doris/analysis/JoinOperator.java    |  3 -
 .../java/org/apache/doris/analysis/KeysDesc.java   |  3 -
 .../java/org/apache/doris/analysis/KillStmt.java   |  3 -
 .../java/org/apache/doris/analysis/LabelName.java  |  3 -
 .../org/apache/doris/analysis/LargeIntLiteral.java |  3 -
 .../org/apache/doris/analysis/LikePredicate.java   |  3 -
 .../org/apache/doris/analysis/LimitElement.java    |  3 -
 .../java/org/apache/doris/analysis/LinkDbStmt.java |  3 -
 .../org/apache/doris/analysis/LiteralExpr.java     |  3 -
 .../java/org/apache/doris/analysis/LoadStmt.java   |  3 -
 .../java/org/apache/doris/analysis/MaxLiteral.java |  3 -
 .../org/apache/doris/analysis/MigrateDbStmt.java   |  3 -
 .../apache/doris/analysis/ModifyBrokerClause.java  |  3 -
 .../apache/doris/analysis/ModifyColumnClause.java  |  3 -
 .../doris/analysis/ModifyPartitionClause.java      |  3 -
 .../analysis/ModifyTablePropertiesClause.java      |  3 -
 .../org/apache/doris/analysis/NullLiteral.java     |  3 -
 .../org/apache/doris/analysis/OpcodeRegistry.java  |  3 -
 .../org/apache/doris/analysis/OrderByElement.java  |  3 -
 .../java/org/apache/doris/analysis/ParseNode.java  |  3 -
 .../org/apache/doris/analysis/PartitionDesc.java   |  3 -
 .../apache/doris/analysis/PartitionKeyDesc.java    |  3 -
 .../org/apache/doris/analysis/PartitionName.java   |  3 -
 .../doris/analysis/PartitionRenameClause.java      |  3 -
 .../java/org/apache/doris/analysis/Predicate.java  |  3 -
 .../java/org/apache/doris/analysis/QueryStmt.java  |  3 -
 .../doris/analysis/RandomDistributionDesc.java     |  3 -
 .../apache/doris/analysis/RangePartitionDesc.java  |  3 -
 .../org/apache/doris/analysis/RecoverDbStmt.java   |  3 -
 .../doris/analysis/RecoverPartitionStmt.java       |  3 -
 .../apache/doris/analysis/RecoverTableStmt.java    |  3 -
 .../org/apache/doris/analysis/RedirectStatus.java  |  3 -
 .../doris/analysis/ReorderColumnsClause.java       |  3 -
 .../org/apache/doris/analysis/RestoreStmt.java     |  3 -
 .../java/org/apache/doris/analysis/RevokeStmt.java |  3 -
 .../apache/doris/analysis/RollupRenameClause.java  |  3 -
 .../org/apache/doris/analysis/SchemaTableType.java |  3 -
 .../java/org/apache/doris/analysis/SelectList.java |  3 -
 .../org/apache/doris/analysis/SelectListItem.java  |  3 -
 .../java/org/apache/doris/analysis/SelectStmt.java |  3 -
 .../org/apache/doris/analysis/SetNamesVar.java     |  3 -
 .../java/org/apache/doris/analysis/SetPassVar.java |  3 -
 .../java/org/apache/doris/analysis/SetStmt.java    |  3 -
 .../org/apache/doris/analysis/SetTransaction.java  | 12 ++--
 .../java/org/apache/doris/analysis/SetType.java    |  3 -
 .../apache/doris/analysis/SetUserPropertyStmt.java |  3 -
 .../apache/doris/analysis/SetUserPropertyVar.java  |  3 -
 .../java/org/apache/doris/analysis/SetVar.java     |  3 -
 .../org/apache/doris/analysis/ShowAlterStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowAuthorStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowBackendsStmt.java    | 12 ++--
 .../org/apache/doris/analysis/ShowBackupStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowBrokerStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowCharsetStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowClusterStmt.java | 12 ++--
 .../apache/doris/analysis/ShowCollationStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowColumnStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowCreateDbStmt.java    | 12 ++--
 .../apache/doris/analysis/ShowCreateTableStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowDataStmt.java    | 12 ++--
 .../java/org/apache/doris/analysis/ShowDbStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowDeleteStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowEnginesStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowEventsStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowExportStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowFrontendsStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowGrantsStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowKeysStmt.java    | 12 ++--
 .../org/apache/doris/analysis/ShowLoadStmt.java    | 12 ++--
 .../doris/analysis/ShowLoadWarningsStmt.java       | 12 ++--
 .../apache/doris/analysis/ShowMigrationsStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowOpenTableStmt.java   | 12 ++--
 .../apache/doris/analysis/ShowPartitionsStmt.java  | 12 ++--
 .../org/apache/doris/analysis/ShowPluginsStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowProcStmt.java    | 12 ++--
 .../apache/doris/analysis/ShowProcedureStmt.java   | 12 ++--
 .../apache/doris/analysis/ShowProcesslistStmt.java | 12 ++--
 .../doris/analysis/ShowRepositoriesStmt.java       |  3 -
 .../org/apache/doris/analysis/ShowRestoreStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowRolesStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowRollupStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowSnapshotStmt.java    |  3 -
 .../org/apache/doris/analysis/ShowStatusStmt.java  | 12 ++--
 .../java/org/apache/doris/analysis/ShowStmt.java   | 12 ++--
 .../apache/doris/analysis/ShowTableStatusStmt.java | 12 ++--
 .../org/apache/doris/analysis/ShowTableStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowTabletStmt.java  | 12 ++--
 .../apache/doris/analysis/ShowTriggersStmt.java    | 12 ++--
 .../doris/analysis/ShowUserPropertyStmt.java       | 12 ++--
 .../org/apache/doris/analysis/ShowUserStmt.java    | 17 +++++
 .../apache/doris/analysis/ShowVariablesStmt.java   | 12 ++--
 .../org/apache/doris/analysis/ShowWarningStmt.java | 12 ++--
 .../apache/doris/analysis/ShowWhiteListStmt.java   | 12 ++--
 .../doris/analysis/SingleRangePartitionDesc.java   |  3 -
 .../org/apache/doris/analysis/SlotDescriptor.java  |  3 -
 .../java/org/apache/doris/analysis/SlotId.java     |  3 -
 .../java/org/apache/doris/analysis/SlotRef.java    |  3 -
 .../java/org/apache/doris/analysis/SortInfo.java   |  3 -
 .../org/apache/doris/analysis/StatementBase.java   |  3 -
 .../org/apache/doris/analysis/StmtRewriter.java    |  3 -
 .../org/apache/doris/analysis/StringLiteral.java   |  3 -
 .../java/org/apache/doris/analysis/Subquery.java   |  3 -
 .../java/org/apache/doris/analysis/SyncStmt.java   |  3 -
 .../org/apache/doris/analysis/SysVariableDesc.java |  3 -
 .../java/org/apache/doris/analysis/TableName.java  |  3 -
 .../org/apache/doris/analysis/TablePattern.java    | 12 ++--
 .../java/org/apache/doris/analysis/TableRef.java   |  3 -
 .../apache/doris/analysis/TableRenameClause.java   |  3 -
 .../doris/analysis/TimestampArithmeticExpr.java    |  3 -
 .../java/org/apache/doris/analysis/ToSqlUtils.java |  3 -
 .../org/apache/doris/analysis/TupleDescriptor.java |  3 -
 .../java/org/apache/doris/analysis/TupleId.java    |  3 -
 .../doris/analysis/TupleIsNullPredicate.java       |  3 -
 .../java/org/apache/doris/analysis/UnionStmt.java  |  3 -
 .../org/apache/doris/analysis/UnsupportedStmt.java |  3 -
 .../java/org/apache/doris/analysis/UseStmt.java    |  3 -
 .../java/org/apache/doris/analysis/UserDesc.java   |  3 -
 .../org/apache/doris/analysis/UserIdentity.java    | 12 ++--
 .../java/org/apache/doris/analysis/WithClause.java |  3 -
 .../apache/doris/backup/AbstractBackupJob_D.java   | 12 ++--
 .../java/org/apache/doris/backup/AbstractJob.java  |  3 -
 .../doris/backup/AsynchronousCmdExecutor.java      | 12 ++--
 .../org/apache/doris/backup/BackupHandler.java     | 12 ++--
 .../java/org/apache/doris/backup/BackupJob.java    | 17 +++++
 .../org/apache/doris/backup/BackupJobInfo.java     |  3 -
 .../java/org/apache/doris/backup/BackupJob_D.java  | 12 ++--
 .../java/org/apache/doris/backup/BackupMeta.java   |  3 -
 .../org/apache/doris/backup/BackupVersion.java     | 12 ++--
 .../java/org/apache/doris/backup/BlobStorage.java  |  3 -
 .../org/apache/doris/backup/CommandBuilder.java    | 12 ++--
 .../java/org/apache/doris/backup/DirSaver.java     | 12 ++--
 .../java/org/apache/doris/backup/FileSaver.java    | 12 ++--
 .../java/org/apache/doris/backup/FileSaverI.java   | 12 ++--
 .../org/apache/doris/backup/MetaDownloadTask.java  | 12 ++--
 .../org/apache/doris/backup/MetaUploadTask.java    | 12 ++--
 .../java/org/apache/doris/backup/ObjectWriter.java | 12 ++--
 .../java/org/apache/doris/backup/PathBuilder.java  | 12 ++--
 .../java/org/apache/doris/backup/RemoteFile.java   |  3 -
 .../java/org/apache/doris/backup/Repository.java   |  3 -
 .../org/apache/doris/backup/RepositoryMgr.java     |  3 -
 .../apache/doris/backup/RestoreFileMapping.java    |  3 -
 .../java/org/apache/doris/backup/RestoreJob.java   |  3 -
 .../java/org/apache/doris/backup/RestoreJob_D.java | 12 ++--
 .../org/apache/doris/backup/ResultfulTask.java     | 12 ++--
 .../org/apache/doris/backup/SaveManifestTask.java  | 12 ++--
 .../java/org/apache/doris/backup/SnapshotInfo.java |  3 -
 .../main/java/org/apache/doris/backup/Status.java  |  3 -
 .../org/apache/doris/catalog/AccessPrivilege.java  |  3 -
 .../apache/doris/catalog/AggregateFunction.java    |  3 -
 .../org/apache/doris/catalog/AggregateType.java    | 12 ++--
 .../java/org/apache/doris/catalog/ArrayType.java   |  3 -
 .../java/org/apache/doris/catalog/BrokerMgr.java   | 12 ++--
 .../java/org/apache/doris/catalog/BrokerTable.java | 12 ++--
 .../java/org/apache/doris/catalog/Catalog.java     |  3 -
 .../apache/doris/catalog/CatalogRecycleBin.java    | 12 ++--
 .../main/java/org/apache/doris/catalog/Column.java |  3 -
 .../java/org/apache/doris/catalog/ColumnStats.java |  3 -
 .../java/org/apache/doris/catalog/ColumnType.java  |  3 -
 .../org/apache/doris/catalog/DataProperty.java     |  3 -
 .../java/org/apache/doris/catalog/Database.java    |  3 -
 .../java/org/apache/doris/catalog/DiskInfo.java    | 12 ++--
 .../org/apache/doris/catalog/DistributionInfo.java |  3 -
 .../org/apache/doris/catalog/DomainResolver.java   | 12 ++--
 .../java/org/apache/doris/catalog/EsTable.java     | 12 ++--
 .../java/org/apache/doris/catalog/Function.java    |  3 -
 .../java/org/apache/doris/catalog/FunctionSet.java |  3 -
 .../apache/doris/catalog/HashDistributionInfo.java | 12 ++--
 .../org/apache/doris/catalog/InfoSchemaDb.java     |  3 -
 .../java/org/apache/doris/catalog/InlineView.java  |  3 -
 .../java/org/apache/doris/catalog/KeysType.java    |  3 -
 .../org/apache/doris/catalog/KuduPartition.java    |  3 -
 .../java/org/apache/doris/catalog/KuduTable.java   |  3 -
 .../java/org/apache/doris/catalog/MapType.java     |  3 -
 .../apache/doris/catalog/MaterializedIndex.java    |  3 -
 .../java/org/apache/doris/catalog/MetaObject.java  |  3 -
 .../org/apache/doris/catalog/MetaReplayState.java  |  3 -
 .../apache/doris/catalog/MetaSignatureVersion.java |  3 -
 .../org/apache/doris/catalog/MetadataViewer.java   | 12 ++--
 .../java/org/apache/doris/catalog/MysqlTable.java  | 12 ++--
 .../java/org/apache/doris/catalog/OlapTable.java   | 12 ++--
 .../java/org/apache/doris/catalog/Partition.java   | 13 ++--
 .../org/apache/doris/catalog/PartitionInfo.java    | 12 ++--
 .../org/apache/doris/catalog/PartitionKey.java     | 12 ++--
 .../org/apache/doris/catalog/PartitionType.java    | 12 ++--
 .../org/apache/doris/catalog/PrimitiveType.java    |  3 -
 .../doris/catalog/RandomDistributionInfo.java      | 12 ++--
 .../apache/doris/catalog/RangePartitionInfo.java   | 12 ++--
 .../java/org/apache/doris/catalog/Replica.java     | 12 ++--
 .../org/apache/doris/catalog/ResourceGroup.java    |  3 -
 .../org/apache/doris/catalog/ResourceType.java     |  3 -
 .../org/apache/doris/catalog/ScalarFunction.java   |  3 -
 .../java/org/apache/doris/catalog/ScalarType.java  | 17 -----
 .../java/org/apache/doris/catalog/SchemaTable.java |  3 -
 .../apache/doris/catalog/SinglePartitionInfo.java  |  3 -
 .../java/org/apache/doris/catalog/StructField.java | 17 -----
 .../java/org/apache/doris/catalog/StructType.java  |  3 -
 .../main/java/org/apache/doris/catalog/Table.java  |  3 -
 .../main/java/org/apache/doris/catalog/Tablet.java | 12 ++--
 .../apache/doris/catalog/TabletInvertedIndex.java  |  3 -
 .../java/org/apache/doris/catalog/TabletMeta.java  | 12 ++--
 .../org/apache/doris/catalog/TabletStatMgr.java    | 17 +++++
 .../main/java/org/apache/doris/catalog/Type.java   |  3 -
 fe/src/main/java/org/apache/doris/catalog/Uda.java |  3 -
 fe/src/main/java/org/apache/doris/catalog/Udf.java |  3 -
 .../main/java/org/apache/doris/catalog/View.java   |  3 -
 .../apache/doris/clone/BackendLoadStatistic.java   | 12 ++--
 .../java/org/apache/doris/clone/BalanceStatus.java | 12 ++--
 fe/src/main/java/org/apache/doris/clone/Clone.java | 12 ++--
 .../java/org/apache/doris/clone/CloneChecker.java  | 12 ++--
 .../main/java/org/apache/doris/clone/CloneJob.java | 12 ++--
 .../apache/doris/clone/ClusterLoadStatistic.java   | 12 ++--
 .../apache/doris/clone/LoadBalanceException.java   | 12 ++--
 .../java/org/apache/doris/clone/LoadBalancer.java  | 12 ++--
 .../apache/doris/clone/RootPathLoadStatistic.java  | 12 ++--
 .../java/org/apache/doris/cluster/BaseParam.java   | 12 ++--
 .../java/org/apache/doris/cluster/Cluster.java     | 12 ++--
 .../org/apache/doris/cluster/ClusterNamespace.java | 12 ++--
 .../org/apache/doris/common/AliasGenerator.java    |  3 -
 .../org/apache/doris/common/AnalysisException.java |  3 -
 .../java/org/apache/doris/common/AuditLog.java     |  3 -
 .../doris/common/AuthenticationException.java      |  3 -
 fe/src/main/java/org/apache/doris/common/CIDR.java | 12 ++--
 .../org/apache/doris/common/CaseSensibility.java   | 12 ++--
 .../java/org/apache/doris/common/ClientPool.java   |  3 -
 .../apache/doris/common/ColumnAliasGenerator.java  |  3 -
 .../apache/doris/common/CommandLineOptions.java    | 17 +++++
 .../main/java/org/apache/doris/common/Config.java  | 12 ++--
 .../java/org/apache/doris/common/ConfigBase.java   |  3 -
 .../org/apache/doris/common/ConfigWatcher.java     |  3 -
 .../java/org/apache/doris/common/DdlException.java |  3 -
 .../java/org/apache/doris/common/ErrorCode.java    |  3 -
 .../java/org/apache/doris/common/ErrorReport.java  |  3 -
 .../java/org/apache/doris/common/FeConstants.java  |  3 -
 .../org/apache/doris/common/FeMetaVersion.java     |  3 -
 .../java/org/apache/doris/common/FeNameFormat.java |  3 -
 .../java/org/apache/doris/common/GenericPool.java  |  3 -
 fe/src/main/java/org/apache/doris/common/Id.java   |  3 -
 .../java/org/apache/doris/common/IdGenerator.java  |  3 -
 .../org/apache/doris/common/LoadException.java     |  3 -
 .../java/org/apache/doris/common/Log4jConfig.java  |  3 -
 .../org/apache/doris/common/MarkDownParser.java    |  3 -
 .../apache/doris/common/MarkedCountDownLatch.java  |  3 -
 .../apache/doris/common/MetaNotFoundException.java |  3 -
 .../doris/common/NotImplementedException.java      |  3 -
 fe/src/main/java/org/apache/doris/common/Pair.java |  3 -
 .../org/apache/doris/common/PatternMatcher.java    |  3 -
 .../java/org/apache/doris/common/Reference.java    |  3 -
 .../main/java/org/apache/doris/common/Status.java  |  3 -
 .../org/apache/doris/common/SystemIdGenerator.java |  3 -
 .../apache/doris/common/TableAliasGenerator.java   |  3 -
 .../org/apache/doris/common/ThreadIdConverter.java |  3 -
 .../java/org/apache/doris/common/ThriftServer.java | 12 ++--
 .../apache/doris/common/ThriftServerContext.java   | 12 ++--
 .../doris/common/ThriftServerEventProcessor.java   | 12 ++--
 .../java/org/apache/doris/common/TreeNode.java     |  3 -
 .../org/apache/doris/common/UserException.java     |  3 -
 .../apache/doris/common/io/DataInputBuffer.java    |  3 -
 .../apache/doris/common/io/DataOutputBuffer.java   |  3 -
 .../java/org/apache/doris/common/io/DeepCopy.java  |  3 -
 .../doris/common/io/FastByteArrayInputStream.java  |  3 -
 .../doris/common/io/FastByteArrayOutputStream.java |  3 -
 .../java/org/apache/doris/common/io/IOUtils.java   |  3 -
 .../org/apache/doris/common/io/InputBuffer.java    |  3 -
 .../apache/doris/common/io/LimitInputStream.java   |  3 -
 .../apache/doris/common/io/LimitOutputStream.java  |  3 -
 .../org/apache/doris/common/io/OutputBuffer.java   |  3 -
 .../main/java/org/apache/doris/common/io/Text.java |  3 -
 .../java/org/apache/doris/common/io/Writable.java  |  3 -
 .../org/apache/doris/common/path/PathTrie.java     |  3 -
 .../org/apache/doris/common/proc/AuthProcDir.java  |  3 -
 .../common/proc/BackendLoadStatisticProcNode.java  | 12 ++--
 .../apache/doris/common/proc/BackendProcNode.java  |  3 -
 .../apache/doris/common/proc/BackendsProcDir.java  |  3 -
 .../org/apache/doris/common/proc/BaseProcDir.java  |  3 -
 .../org/apache/doris/common/proc/BaseProcNode.java |  3 -
 .../apache/doris/common/proc/BaseProcResult.java   |  3 -
 .../apache/doris/common/proc/CloneProcNode.java    |  3 -
 .../common/proc/ClusterLoadStatisticProcDir.java   | 12 ++--
 .../proc/CurrentQueryBackendInstanceProcDir.java   | 12 ++--
 .../common/proc/CurrentQueryFragmentProcNode.java  | 12 ++--
 .../doris/common/proc/CurrentQuerySqlProcDir.java  | 12 ++--
 .../common/proc/CurrentQueryStatisticsProcDir.java | 12 ++--
 .../org/apache/doris/common/proc/DbsProcDir.java   |  3 -
 .../doris/common/proc/DeleteInfoProcDir.java       |  3 -
 .../doris/common/proc/DeleteJobProcNode.java       |  3 -
 .../doris/common/proc/EsPartitionsProcDir.java     | 12 ++--
 .../apache/doris/common/proc/EsShardProcDir.java   | 12 ++--
 .../apache/doris/common/proc/ExportProcNode.java   | 12 ++--
 .../doris/common/proc/FrontendsProcNode.java       |  3 -
 .../common/proc/IncompleteTabletsProcNode.java     |  3 -
 .../apache/doris/common/proc/IndexInfoProcDir.java |  3 -
 .../doris/common/proc/IndexSchemaProcNode.java     |  3 -
 .../apache/doris/common/proc/IndicesProcDir.java   |  3 -
 .../apache/doris/common/proc/JobsDbProcDir.java    |  3 -
 .../org/apache/doris/common/proc/JobsProcDir.java  |  3 -
 .../org/apache/doris/common/proc/JvmProcDir.java   | 17 +++++
 .../doris/common/proc/LoadErrorProcNode.java       |  3 -
 .../apache/doris/common/proc/LoadJobProcNode.java  |  3 -
 .../org/apache/doris/common/proc/LoadProcDir.java  |  3 -
 .../apache/doris/common/proc/MonitorProcDir.java   | 17 +++++
 .../doris/common/proc/PartitionsProcDir.java       |  3 -
 .../apache/doris/common/proc/ProcDirInterface.java |  3 -
 .../doris/common/proc/ProcNodeInterface.java       |  3 -
 .../org/apache/doris/common/proc/ProcResult.java   |  3 -
 .../org/apache/doris/common/proc/ProcService.java  |  3 -
 .../apache/doris/common/proc/ReplicasProcNode.java |  3 -
 .../apache/doris/common/proc/RollupJobProcDir.java |  3 -
 .../apache/doris/common/proc/RollupProcDir.java    |  3 -
 .../doris/common/proc/RollupTabletsProcNode.java   |  3 -
 .../doris/common/proc/SchemaChangeProcNode.java    |  3 -
 .../apache/doris/common/proc/StatisticProcDir.java |  3 -
 .../org/apache/doris/common/proc/TableProcDir.java |  3 -
 .../apache/doris/common/proc/TablesProcDir.java    |  3 -
 .../apache/doris/common/proc/TabletsProcDir.java   |  3 +-
 .../doris/common/proc/TaskFailedProcNode.java      |  3 -
 .../apache/doris/common/proc/TaskTypeProcNode.java |  3 -
 .../org/apache/doris/common/proc/TasksProcDir.java |  3 -
 .../apache/doris/common/proc/TransDbProcDir.java   | 12 ++--
 .../doris/common/proc/TransPartitionProcNode.java  | 12 ++--
 .../org/apache/doris/common/proc/TransProcDir.java | 12 ++--
 .../doris/common/proc/TransTablesProcDir.java      | 12 ++--
 .../doris/common/proc/UserPropertyProcNode.java    |  3 -
 .../doris/common/publish/AckResponseHandler.java   |  3 -
 .../common/publish/ClusterStatePublisher.java      |  3 -
 .../doris/common/publish/ClusterStateUpdate.java   |  3 -
 .../doris/common/publish/FixedTimePublisher.java   |  3 -
 .../org/apache/doris/common/publish/Listener.java  |  3 -
 .../org/apache/doris/common/publish/Listeners.java |  3 -
 .../doris/common/publish/ResponseHandler.java      |  3 -
 .../apache/doris/common/publish/TopicUpdate.java   |  3 -
 .../org/apache/doris/common/util/BrokerUtil.java   | 17 +++++
 .../apache/doris/common/util/CommandResult.java    |  3 -
 .../java/org/apache/doris/common/util/Counter.java |  3 -
 .../java/org/apache/doris/common/util/Daemon.java  |  3 -
 .../org/apache/doris/common/util/DebugUtil.java    |  3 -
 .../org/apache/doris/common/util/KuduUtil.java     |  3 -
 .../apache/doris/common/util/ListComparator.java   |  3 -
 .../org/apache/doris/common/util/LoadBalancer.java |  3 -
 .../org/apache/doris/common/util/MysqlUtil.java    |  3 -
 .../org/apache/doris/common/util/NetUtils.java     | 12 ++--
 .../org/apache/doris/common/util/OrderByPair.java  |  3 -
 .../org/apache/doris/common/util/PlatformName.java |  3 -
 .../org/apache/doris/common/util/PrintableMap.java |  3 -
 .../apache/doris/common/util/ProfileManager.java   |  3 -
 .../apache/doris/common/util/PropertyAnalyzer.java |  3 -
 .../apache/doris/common/util/ReflectionUtils.java  |  3 -
 .../apache/doris/common/util/RuntimeProfile.java   |  3 -
 .../org/apache/doris/common/util/SqlUtils.java     |  3 -
 .../org/apache/doris/common/util/TimeUtils.java    |  3 -
 .../java/org/apache/doris/common/util/Util.java    |  3 -
 .../doris/consistency/CheckConsistencyJob.java     | 12 ++--
 .../doris/consistency/ConsistencyChecker.java      | 12 ++--
 .../org/apache/doris/deploy/DeployManager.java     | 17 +++++
 .../doris/deploy/impl/AmbariDeployManager.java     | 17 +++++
 .../apache/doris/deploy/impl/K8sDeployManager.java | 17 +++++
 .../doris/deploy/impl/LocalFileDeployManager.java  | 17 +++++
 .../org/apache/doris/external/EsIndexState.java    | 12 ++--
 .../org/apache/doris/external/EsShardRouting.java  | 12 ++--
 .../org/apache/doris/external/EsStateStore.java    | 12 ++--
 .../org/apache/doris/external/EsTableState.java    | 12 ++--
 .../java/org/apache/doris/external/EsUtil.java     | 12 ++--
 .../external/ExternalDataSourceException.java      | 12 ++--
 fe/src/main/java/org/apache/doris/ha/BDBHA.java    | 12 ++--
 .../apache/doris/ha/BDBStateChangeListener.java    | 12 ++--
 .../java/org/apache/doris/ha/FrontendNodeType.java | 12 ++--
 .../main/java/org/apache/doris/ha/HAProtocol.java  | 12 ++--
 .../main/java/org/apache/doris/ha/MasterInfo.java  | 12 ++--
 .../org/apache/doris/http/ActionController.java    | 12 ++--
 .../java/org/apache/doris/http/BaseAction.java     | 12 ++--
 .../java/org/apache/doris/http/BaseRequest.java    | 12 ++--
 .../java/org/apache/doris/http/BaseResponse.java   | 12 ++--
 .../org/apache/doris/http/HttpAuthManager.java     | 12 ++--
 .../java/org/apache/doris/http/HttpServer.java     | 12 ++--
 .../org/apache/doris/http/HttpServerHandler.java   | 12 ++--
 .../main/java/org/apache/doris/http/IAction.java   | 12 ++--
 .../org/apache/doris/http/IllegalArgException.java | 12 ++--
 .../apache/doris/http/UnauthorizedException.java   | 12 ++--
 .../main/java/org/apache/doris/http/WebUtils.java  | 12 ++--
 .../apache/doris/http/action/BackendAction.java    | 12 ++--
 .../org/apache/doris/http/action/HaAction.java     | 12 ++--
 .../org/apache/doris/http/action/HelpAction.java   | 12 ++--
 .../org/apache/doris/http/action/IndexAction.java  | 12 ++--
 .../org/apache/doris/http/action/LogAction.java    | 12 ++--
 .../apache/doris/http/action/NotFoundAction.java   | 12 ++--
 .../org/apache/doris/http/action/QueryAction.java  | 12 ++--
 .../doris/http/action/QueryProfileAction.java      | 12 ++--
 .../apache/doris/http/action/SessionAction.java    | 12 ++--
 .../doris/http/action/StaticResourceAction.java    | 12 ++--
 .../org/apache/doris/http/action/SystemAction.java | 12 ++--
 .../apache/doris/http/action/VariableAction.java   | 12 ++--
 .../apache/doris/http/action/WebBaseAction.java    | 12 ++--
 .../doris/http/meta/InvalidClientException.java    | 12 ++--
 .../org/apache/doris/http/meta/MetaBaseAction.java | 12 ++--
 .../org/apache/doris/http/meta/MetaService.java    | 12 ++--
 .../org/apache/doris/http/rest/ActionStatus.java   | 12 ++--
 .../doris/http/rest/BootstrapFinishAction.java     | 12 ++--
 .../apache/doris/http/rest/CancelStreamLoad.java   | 12 ++--
 .../doris/http/rest/CheckDecommissionAction.java   | 12 ++--
 .../apache/doris/http/rest/GetDdlStmtAction.java   | 12 ++--
 .../apache/doris/http/rest/GetLoadInfoAction.java  | 12 ++--
 .../apache/doris/http/rest/GetLogFileAction.java   | 12 ++--
 .../apache/doris/http/rest/GetStreamLoadState.java | 12 ++--
 .../org/apache/doris/http/rest/HealthAction.java   | 12 ++--
 .../org/apache/doris/http/rest/LoadAction.java     | 12 ++--
 .../doris/http/rest/MetaReplayerCheckAction.java   | 12 ++--
 .../org/apache/doris/http/rest/MetricsAction.java  | 12 ++--
 .../apache/doris/http/rest/MigrationAction.java    | 12 ++--
 .../org/apache/doris/http/rest/MultiAbort.java     | 12 ++--
 .../org/apache/doris/http/rest/MultiCommit.java    | 12 ++--
 .../java/org/apache/doris/http/rest/MultiDesc.java | 12 ++--
 .../java/org/apache/doris/http/rest/MultiList.java | 12 ++--
 .../org/apache/doris/http/rest/MultiStart.java     | 12 ++--
 .../org/apache/doris/http/rest/MultiUnload.java    | 12 ++--
 .../org/apache/doris/http/rest/RestBaseAction.java | 12 ++--
 .../org/apache/doris/http/rest/RestBaseResult.java | 12 ++--
 .../org/apache/doris/http/rest/RestResult.java     | 12 ++--
 .../org/apache/doris/http/rest/RowCountAction.java | 12 ++--
 .../apache/doris/http/rest/SetConfigAction.java    | 12 ++--
 .../apache/doris/http/rest/ShowMetaInfoAction.java | 12 ++--
 .../org/apache/doris/http/rest/ShowProcAction.java | 12 ++--
 .../doris/http/rest/ShowRuntimeInfoAction.java     | 12 ++--
 .../doris/http/rest/StorageTypeCheckAction.java    | 17 +++++
 .../java/org/apache/doris/journal/Journal.java     | 12 ++--
 .../org/apache/doris/journal/JournalCursor.java    | 12 ++--
 .../org/apache/doris/journal/JournalEntity.java    | 12 ++--
 .../apache/doris/journal/bdbje/BDBEnvironment.java | 12 ++--
 .../apache/doris/journal/bdbje/BDBJEJournal.java   | 12 ++--
 .../doris/journal/bdbje/BDBJournalCursor.java      | 12 ++--
 .../org/apache/doris/journal/bdbje/BDBTool.java    | 17 +++++
 .../apache/doris/journal/bdbje/BDBToolOptions.java | 17 +++++
 .../org/apache/doris/journal/bdbje/Timestamp.java  | 12 ++--
 .../apache/doris/journal/local/LocalJournal.java   | 12 ++--
 .../doris/journal/local/LocalJournalCursor.java    | 12 ++--
 .../main/java/org/apache/doris/kudu/KuduAgent.java |  3 -
 .../java/org/apache/doris/load/AsyncDeleteJob.java | 12 ++--
 .../org/apache/doris/load/BrokerFileGroup.java     | 12 ++--
 .../java/org/apache/doris/load/DeleteInfo.java     | 12 ++--
 .../main/java/org/apache/doris/load/DppConfig.java | 12 ++--
 .../java/org/apache/doris/load/DppScheduler.java   | 12 ++--
 .../java/org/apache/doris/load/EtlJobInfo.java     | 12 ++--
 .../main/java/org/apache/doris/load/EtlStatus.java | 12 ++--
 .../org/apache/doris/load/EtlSubmitResult.java     | 12 ++--
 .../java/org/apache/doris/load/ExportChecker.java  | 12 ++--
 .../java/org/apache/doris/load/ExportFailMsg.java  | 12 ++--
 .../main/java/org/apache/doris/load/ExportJob.java | 12 ++--
 .../main/java/org/apache/doris/load/ExportMgr.java | 12 ++--
 .../main/java/org/apache/doris/load/FailMsg.java   | 12 ++--
 .../org/apache/doris/load/HadoopEtlJobInfo.java    | 12 ++--
 fe/src/main/java/org/apache/doris/load/Load.java   | 12 ++--
 .../java/org/apache/doris/load/LoadChecker.java    | 12 ++--
 .../java/org/apache/doris/load/LoadErrorHub.java   | 12 ++--
 .../main/java/org/apache/doris/load/LoadJob.java   | 12 ++--
 .../java/org/apache/doris/load/MiniEtlJobInfo.java | 12 ++--
 .../org/apache/doris/load/MiniEtlTaskInfo.java     | 12 ++--
 .../org/apache/doris/load/MysqlLoadErrorHub.java   | 12 ++--
 .../org/apache/doris/load/PartitionLoadInfo.java   | 12 ++--
 .../org/apache/doris/load/PullLoadSourceInfo.java  | 12 ++--
 fe/src/main/java/org/apache/doris/load/Source.java | 12 ++--
 .../java/org/apache/doris/load/TableLoadInfo.java  | 12 ++--
 .../java/org/apache/doris/load/TabletLoadInfo.java | 12 ++--
 .../java/org/apache/doris/master/Checkpoint.java   | 12 ++--
 .../java/org/apache/doris/master/MasterImpl.java   | 12 ++--
 .../java/org/apache/doris/master/MetaHelper.java   | 12 ++--
 .../org/apache/doris/master/ReportHandler.java     | 12 ++--
 .../java/org/apache/doris/metric/MetricLabel.java  |  3 -
 .../java/org/apache/doris/metric/MetricRepo.java   |  3 -
 .../org/apache/doris/metric/PaloCounterMetric.java |  3 -
 .../doris/metric/PaloDoubleCounterMetric.java      |  3 -
 .../org/apache/doris/metric/PaloGaugeMetric.java   |  3 -
 .../apache/doris/metric/PaloLongCounterMetric.java |  3 -
 .../java/org/apache/doris/metric/PaloMetric.java   |  3 -
 .../apache/doris/metric/PaloMetricRegistry.java    |  3 -
 .../org/apache/doris/metric/PaloMetricVisitor.java |  3 -
 .../doris/metric/PrometheusMetricVisitor.java      | 35 +++++-----
 .../java/org/apache/doris/monitor/jvm/GcNames.java | 12 ++--
 .../java/org/apache/doris/monitor/jvm/JvmInfo.java | 12 ++--
 .../org/apache/doris/monitor/jvm/JvmService.java   | 12 ++--
 .../org/apache/doris/monitor/jvm/JvmStats.java     | 12 ++--
 .../apache/doris/monitor/unit/ByteSizeUnit.java    | 12 ++--
 .../apache/doris/monitor/unit/ByteSizeValue.java   | 12 ++--
 .../org/apache/doris/monitor/unit/TimeValue.java   | 12 ++--
 .../org/apache/doris/monitor/utils/Strings.java    | 12 ++--
 .../org/apache/doris/mysql/MysqlAuthPacket.java    | 12 ++--
 .../org/apache/doris/mysql/MysqlCapability.java    | 12 ++--
 .../java/org/apache/doris/mysql/MysqlChannel.java  | 12 ++--
 .../java/org/apache/doris/mysql/MysqlColDef.java   | 12 ++--
 .../java/org/apache/doris/mysql/MysqlColType.java  | 12 ++--
 .../java/org/apache/doris/mysql/MysqlCommand.java  | 12 ++--
 .../org/apache/doris/mysql/MysqlEofPacket.java     | 12 ++--
 .../org/apache/doris/mysql/MysqlErrPacket.java     | 12 ++--
 .../apache/doris/mysql/MysqlHandshakePacket.java   | 12 ++--
 .../java/org/apache/doris/mysql/MysqlOkPacket.java | 12 ++--
 .../java/org/apache/doris/mysql/MysqlPacket.java   | 12 ++--
 .../java/org/apache/doris/mysql/MysqlPassword.java | 12 ++--
 .../java/org/apache/doris/mysql/MysqlProto.java    | 12 ++--
 .../org/apache/doris/mysql/MysqlSerializer.java    | 12 ++--
 .../java/org/apache/doris/mysql/MysqlServer.java   | 12 ++--
 .../apache/doris/mysql/MysqlServerStatusFlag.java  | 12 ++--
 .../apache/doris/mysql/privilege/DbPrivEntry.java  | 12 ++--
 .../apache/doris/mysql/privilege/DbPrivTable.java  | 12 ++--
 .../doris/mysql/privilege/GlobalPrivEntry.java     | 12 ++--
 .../org/apache/doris/mysql/privilege/PaloAuth.java | 12 ++--
 .../doris/mysql/privilege/PaloPrivilege.java       | 12 ++--
 .../org/apache/doris/mysql/privilege/PaloRole.java | 12 ++--
 .../apache/doris/mysql/privilege/PrivBitSet.java   | 12 ++--
 .../apache/doris/mysql/privilege/PrivEntry.java    | 12 ++--
 .../doris/mysql/privilege/PrivPredicate.java       | 12 ++--
 .../apache/doris/mysql/privilege/PrivTable.java    | 12 ++--
 .../apache/doris/mysql/privilege/RoleManager.java  | 12 ++--
 .../doris/mysql/privilege/TablePrivEntry.java      | 12 ++--
 .../doris/mysql/privilege/TablePrivTable.java      | 12 ++--
 .../doris/mysql/privilege/UserPrivTable.java       | 12 ++--
 .../apache/doris/mysql/privilege/UserProperty.java | 12 ++--
 .../doris/mysql/privilege/UserPropertyInfo.java    | 12 ++--
 .../doris/mysql/privilege/UserPropertyMgr.java     | 12 ++--
 .../apache/doris/mysql/privilege/UserResource.java | 12 ++--
 .../apache/doris/mysql/privilege/WhiteList.java    | 12 ++--
 .../apache/doris/persist/BackendIdsUpdateInfo.java | 12 ++--
 .../java/org/apache/doris/persist/CloneInfo.java   | 12 ++--
 .../java/org/apache/doris/persist/ClusterInfo.java | 12 ++--
 .../apache/doris/persist/ConsistencyCheckInfo.java | 12 ++--
 .../org/apache/doris/persist/CreateTableInfo.java  | 12 ++--
 .../org/apache/doris/persist/DatabaseInfo.java     | 12 ++--
 .../java/org/apache/doris/persist/DropInfo.java    | 12 ++--
 .../doris/persist/DropLinkDbAndUpdateDbInfo.java   | 12 ++--
 .../apache/doris/persist/DropPartitionInfo.java    | 12 ++--
 .../java/org/apache/doris/persist/EditLog.java     | 12 ++--
 .../doris/persist/EditLogFileInputStream.java      | 12 ++--
 .../doris/persist/EditLogFileOutputStream.java     | 12 ++--
 .../apache/doris/persist/EditLogInputStream.java   | 12 ++--
 .../apache/doris/persist/EditLogOutputStream.java  | 12 ++--
 .../java/org/apache/doris/persist/LinkDbInfo.java  | 12 ++--
 .../java/org/apache/doris/persist/MetaCleaner.java | 12 ++--
 .../apache/doris/persist/ModifyPartitionInfo.java  | 12 ++--
 .../org/apache/doris/persist/OperationType.java    | 12 ++--
 .../apache/doris/persist/PartitionPersistInfo.java | 12 ++--
 .../java/org/apache/doris/persist/PrivInfo.java    | 12 ++--
 .../java/org/apache/doris/persist/RecoverInfo.java | 12 ++--
 .../apache/doris/persist/ReplicaPersistInfo.java   | 12 ++--
 .../java/org/apache/doris/persist/Storage.java     | 12 ++--
 .../java/org/apache/doris/persist/StorageInfo.java | 12 ++--
 .../java/org/apache/doris/persist/TableInfo.java   | 12 ++--
 .../org/apache/doris/planner/AggregationNode.java  |  3 -
 .../org/apache/doris/planner/AnalyticEvalNode.java |  3 -
 .../org/apache/doris/planner/AnalyticPlanner.java  |  3 -
 .../org/apache/doris/planner/BrokerScanNode.java   | 12 ++--
 .../org/apache/doris/planner/CrossJoinNode.java    |  3 -
 .../java/org/apache/doris/planner/CsvScanNode.java | 12 ++--
 .../org/apache/doris/planner/DataPartition.java    | 12 ++--
 .../java/org/apache/doris/planner/DataSink.java    | 12 ++--
 .../org/apache/doris/planner/DataSplitSink.java    | 12 ++--
 .../org/apache/doris/planner/DataStreamSink.java   |  3 -
 .../apache/doris/planner/DistributedPlanner.java   |  3 -
 .../apache/doris/planner/DistributionPruner.java   | 12 ++--
 .../org/apache/doris/planner/EmptySetNode.java     |  3 -
 .../java/org/apache/doris/planner/EsScanNode.java  | 12 ++--
 .../org/apache/doris/planner/ExchangeNode.java     |  3 -
 .../java/org/apache/doris/planner/ExportSink.java  | 12 ++--
 .../doris/planner/HashDistributionPruner.java      | 12 ++--
 .../org/apache/doris/planner/HashJoinNode.java     |  3 -
 .../apache/doris/planner/ListPartitionPruner.java  |  3 -
 .../org/apache/doris/planner/MergeJoinNode.java    |  3 -
 .../java/org/apache/doris/planner/MergeNode.java   |  3 -
 .../org/apache/doris/planner/MysqlScanNode.java    | 12 ++--
 .../org/apache/doris/planner/MysqlTableSink.java   | 12 ++--
 .../org/apache/doris/planner/OlapRewriteNode.java  | 12 ++--
 .../org/apache/doris/planner/OlapScanNode.java     | 12 ++--
 .../org/apache/doris/planner/OlapTableSink.java    | 12 ++--
 .../doris/planner/PartitionColumnFilter.java       | 12 ++--
 .../org/apache/doris/planner/PartitionPruner.java  | 12 ++--
 .../org/apache/doris/planner/PlanFragment.java     |  3 -
 .../org/apache/doris/planner/PlanFragmentId.java   |  3 -
 .../java/org/apache/doris/planner/PlanNode.java    |  3 -
 .../java/org/apache/doris/planner/PlanNodeId.java  |  3 -
 .../java/org/apache/doris/planner/Planner.java     |  3 -
 .../org/apache/doris/planner/PlannerContext.java   |  3 -
 .../apache/doris/planner/RangePartitionPruner.java |  3 -
 .../java/org/apache/doris/planner/ResultSink.java  |  3 -
 .../java/org/apache/doris/planner/ScanNode.java    |  3 -
 .../org/apache/doris/planner/SchemaScanNode.java   |  3 -
 .../java/org/apache/doris/planner/SelectNode.java  |  3 -
 .../apache/doris/planner/SingleNodePlanner.java    |  3 -
 .../java/org/apache/doris/planner/SortNode.java    |  3 -
 .../apache/doris/planner/StreamLoadPlanner.java    | 12 ++--
 .../apache/doris/planner/StreamLoadScanNode.java   | 12 ++--
 .../java/org/apache/doris/planner/UnionNode.java   |  3 -
 .../java/org/apache/doris/qe/AuditBuilder.java     | 12 ++--
 .../java/org/apache/doris/qe/ConnectContext.java   | 12 ++--
 .../java/org/apache/doris/qe/ConnectProcessor.java | 12 ++--
 .../java/org/apache/doris/qe/ConnectScheduler.java | 12 ++--
 .../main/java/org/apache/doris/qe/Coordinator.java | 12 ++--
 .../main/java/org/apache/doris/qe/DdlExecutor.java | 12 ++--
 .../java/org/apache/doris/qe/GlobalVariable.java   | 12 ++--
 .../java/org/apache/doris/qe/HelpCategory.java     | 12 ++--
 .../main/java/org/apache/doris/qe/HelpModule.java  | 12 ++--
 .../java/org/apache/doris/qe/HelpObjectIface.java  | 12 ++--
 .../java/org/apache/doris/qe/HelpObjectLoader.java | 12 ++--
 .../main/java/org/apache/doris/qe/HelpTopic.java   | 12 ++--
 .../org/apache/doris/qe/JournalObservable.java     | 12 ++--
 .../java/org/apache/doris/qe/JournalObserver.java  | 12 ++--
 .../java/org/apache/doris/qe/MasterOpExecutor.java | 12 ++--
 .../java/org/apache/doris/qe/MultiLoadMgr.java     | 12 ++--
 .../main/java/org/apache/doris/qe/QeProcessor.java | 12 ++--
 .../java/org/apache/doris/qe/QeProcessorImpl.java  | 12 ++--
 .../main/java/org/apache/doris/qe/QeService.java   | 12 ++--
 .../main/java/org/apache/doris/qe/QueryState.java  | 12 ++--
 .../org/apache/doris/qe/QueryStatisticsItem.java   | 12 ++--
 .../java/org/apache/doris/qe/ResultReceiver.java   | 12 ++--
 .../java/org/apache/doris/qe/SessionVariable.java  | 12 ++--
 .../main/java/org/apache/doris/qe/SetExecutor.java | 12 ++--
 .../java/org/apache/doris/qe/ShowExecutor.java     | 12 ++--
 .../java/org/apache/doris/qe/ShowResultSet.java    | 12 ++--
 .../org/apache/doris/qe/ShowResultSetMetaData.java | 12 ++--
 .../java/org/apache/doris/qe/SimpleScheduler.java  | 12 ++--
 .../java/org/apache/doris/qe/StmtExecutor.java     | 12 ++--
 .../main/java/org/apache/doris/qe/VariableMgr.java | 12 ++--
 .../doris/rewrite/BetweenToCompoundRule.java       |  3 -
 .../org/apache/doris/rewrite/ExprRewriteRule.java  |  3 -
 .../org/apache/doris/rewrite/ExprRewriter.java     |  3 -
 .../rewrite/NormalizeBinaryPredicatesRule.java     |  3 -
 .../org/apache/doris/rpc/AttachmentRequest.java    | 12 ++--
 .../org/apache/doris/rpc/BackendServiceProxy.java  | 12 ++--
 .../doris/rpc/PCancelPlanFragmentRequest.java      | 12 ++--
 .../doris/rpc/PCancelPlanFragmentResult.java       | 12 ++--
 .../apache/doris/rpc/PExecPlanFragmentRequest.java | 12 ++--
 .../apache/doris/rpc/PExecPlanFragmentResult.java  | 12 ++--
 .../org/apache/doris/rpc/PFetchDataRequest.java    | 12 ++--
 .../org/apache/doris/rpc/PFetchDataResult.java     | 12 ++--
 .../doris/rpc/PFetchFragmentExecInfoRequest.java   | 12 ++--
 .../doris/rpc/PFetchFragmentExecInfosResult.java   | 12 ++--
 .../org/apache/doris/rpc/PFragmentExecInfo.java    | 12 ++--
 .../org/apache/doris/rpc/PInternalService.java     | 12 ++--
 fe/src/main/java/org/apache/doris/rpc/PStatus.java | 12 ++--
 .../main/java/org/apache/doris/rpc/PUniqueId.java  | 12 ++--
 .../java/org/apache/doris/rpc/RpcException.java    | 12 ++--
 .../doris/rpc/ThriftClientAttachmentHandler.java   | 12 ++--
 .../java/org/apache/doris/service/ExecuteEnv.java  |  3 -
 .../java/org/apache/doris/service/FeServer.java    | 12 ++--
 .../org/apache/doris/service/FrontendOptions.java  | 12 ++--
 .../apache/doris/service/FrontendServiceImpl.java  | 12 ++--
 .../main/java/org/apache/doris/system/Backend.java | 12 ++--
 .../java/org/apache/doris/system/BackendEvent.java | 12 ++--
 .../java/org/apache/doris/system/Frontend.java     | 12 ++--
 .../apache/doris/system/SystemInfoObserver.java    | 12 ++--
 .../org/apache/doris/system/SystemInfoService.java | 12 ++--
 .../java/org/apache/doris/task/AgentBatchTask.java | 12 ++--
 .../java/org/apache/doris/task/AgentClient.java    | 12 ++--
 .../main/java/org/apache/doris/task/AgentTask.java | 12 ++--
 .../org/apache/doris/task/AgentTaskExecutor.java   | 12 ++--
 .../java/org/apache/doris/task/AgentTaskQueue.java | 12 ++--
 .../org/apache/doris/task/CancelDeleteTask.java    | 12 ++--
 .../apache/doris/task/CheckConsistencyTask.java    | 12 ++--
 .../java/org/apache/doris/task/ClearAlterTask.java | 17 +++++
 .../apache/doris/task/ClearTransactionTask.java    | 17 +++++
 .../main/java/org/apache/doris/task/CloneTask.java | 12 ++--
 .../org/apache/doris/task/CreateReplicaTask.java   | 12 ++--
 .../org/apache/doris/task/CreateRollupTask.java    | 12 ++--
 .../java/org/apache/doris/task/DirMoveTask.java    |  3 -
 .../java/org/apache/doris/task/DownloadTask.java   |  3 -
 .../org/apache/doris/task/DropReplicaTask.java     | 12 ++--
 .../org/apache/doris/task/ExportExportingTask.java | 12 ++--
 .../org/apache/doris/task/ExportPendingTask.java   | 13 ++--
 .../org/apache/doris/task/HadoopLoadEtlTask.java   | 12 ++--
 .../apache/doris/task/HadoopLoadPendingTask.java   | 12 ++--
 .../org/apache/doris/task/InsertLoadEtlTask.java   | 12 ++--
 .../java/org/apache/doris/task/LoadEtlTask.java    | 12 ++--
 .../org/apache/doris/task/LoadPendingTask.java     | 12 ++--
 .../java/org/apache/doris/task/MasterTask.java     | 12 ++--
 .../org/apache/doris/task/MasterTaskExecutor.java  | 12 ++--
 .../org/apache/doris/task/MiniLoadEtlTask.java     | 12 ++--
 .../org/apache/doris/task/MiniLoadPendingTask.java | 12 ++--
 .../org/apache/doris/task/PublishVersionTask.java  | 17 +++++
 .../org/apache/doris/task/PullLoadEtlTask.java     | 12 ++--
 .../java/org/apache/doris/task/PullLoadJob.java    | 12 ++--
 .../java/org/apache/doris/task/PullLoadJobMgr.java | 12 ++--
 .../org/apache/doris/task/PullLoadPendingTask.java | 12 ++--
 .../java/org/apache/doris/task/PullLoadTask.java   | 12 ++--
 .../org/apache/doris/task/PullLoadTaskPlanner.java | 12 ++--
 .../main/java/org/apache/doris/task/PushTask.java  | 12 ++--
 .../org/apache/doris/task/RecoverTabletTask.java   | 12 ++--
 .../org/apache/doris/task/ReleaseSnapshotTask.java | 12 ++--
 .../org/apache/doris/task/SchemaChangeTask.java    | 12 ++--
 .../java/org/apache/doris/task/SnapshotTask.java   | 12 ++--
 .../doris/task/StorageMediaMigrationTask.java      | 12 ++--
 .../java/org/apache/doris/task/UploadTask.java     | 12 ++--
 .../transaction/BeginTransactionException.java     | 17 +++++
 .../doris/transaction/GlobalTransactionMgr.java    | 12 ++--
 .../IllegalTransactionParameterException.java      | 17 +++++
 .../transaction/LabelAlreadyExistsException.java   | 12 ++--
 .../doris/transaction/PartitionCommitInfo.java     | 12 ++--
 .../doris/transaction/PublishVersionDaemon.java    | 12 ++--
 .../apache/doris/transaction/TableCommitInfo.java  | 12 ++--
 .../apache/doris/transaction/TabletCommitInfo.java | 12 ++--
 .../TransactionCommitFailedException.java          | 12 ++--
 .../doris/transaction/TransactionIDGenerator.java  | 12 ++--
 .../apache/doris/transaction/TransactionState.java | 12 ++--
 .../doris/transaction/TransactionStatus.java       | 12 ++--
 fe/src/main/jflex/sql_scanner.flex                 |  3 -
 .../java/org/apache/doris/alter/RollupJobTest.java | 17 +++++
 .../apache/doris/alter/SchemaChangeJobTest.java    | 17 +++++
 .../org/apache/doris/analysis/AccessTestUtil.java  |  3 -
 .../apache/doris/analysis/AddColumnClauseTest.java |  3 -
 .../doris/analysis/AddColumnsClauseTest.java       |  3 -
 .../apache/doris/analysis/AddRollupClauseTest.java |  3 -
 .../doris/analysis/AdminShowReplicaTest.java       | 17 +++++
 .../doris/analysis/AlterClusterStmtTest.java       |  3 -
 .../apache/doris/analysis/AlterTableStmtTest.java  |  3 -
 .../org/apache/doris/analysis/BackendStmtTest.java |  3 -
 .../apache/doris/analysis/CancelAlterStmtTest.java |  3 -
 .../apache/doris/analysis/ColumnPositionTest.java  |  3 -
 .../apache/doris/analysis/ColumnSeparatorTest.java |  3 -
 .../java/org/apache/doris/analysis/ColumnTest.java |  3 -
 .../doris/analysis/CreateClusterStmtTest.java      |  3 -
 .../apache/doris/analysis/CreateDbStmtTest.java    |  3 -
 .../apache/doris/analysis/CreateTableStmtTest.java |  4 --
 .../apache/doris/analysis/CreateUserStmtTest.java  |  3 -
 .../apache/doris/analysis/DataDescriptionTest.java |  3 -
 .../apache/doris/analysis/DecimalLiteralTest.java  |  3 -
 .../org/apache/doris/analysis/DeleteStmtTest.java  |  3 -
 .../apache/doris/analysis/DescribeStmtTest.java    |  3 -
 .../apache/doris/analysis/DropClusterStmtTest.java |  3 -
 .../doris/analysis/DropColumnClauseTest.java       |  3 -
 .../org/apache/doris/analysis/DropDbStmtTest.java  |  3 -
 .../doris/analysis/DropRollupClauseTest.java       |  3 -
 .../apache/doris/analysis/DropTableStmtTest.java   |  3 -
 .../apache/doris/analysis/DropUserStmtTest.java    |  3 -
 .../org/apache/doris/analysis/GrantStmtTest.java   |  3 -
 .../org/apache/doris/analysis/HelpStmtTest.java    |  3 -
 .../org/apache/doris/analysis/KillStmtTest.java    |  3 -
 .../org/apache/doris/analysis/LabelNameTest.java   |  3 -
 .../org/apache/doris/analysis/LinkDbStmtTest.java  |  3 -
 .../doris/analysis/LiteralExprCompareTest.java     |  3 -
 .../org/apache/doris/analysis/LoadStmtTest.java    |  3 -
 .../apache/doris/analysis/MigrateDbStmtTest.java   |  3 -
 .../doris/analysis/ModifyColumnClauseTest.java     |  3 -
 .../doris/analysis/PartitionKeyDescTest.java       |  3 -
 .../doris/analysis/ReorderColumnsClauseTest.java   |  3 -
 .../org/apache/doris/analysis/SetNamesVarTest.java |  3 -
 .../org/apache/doris/analysis/SetPassVarTest.java  |  3 -
 .../org/apache/doris/analysis/SetStmtTest.java     |  3 -
 .../org/apache/doris/analysis/SetTypeTest.java     |  3 -
 .../doris/analysis/SetUserPropertyStmtTest.java    |  3 -
 .../doris/analysis/SetUserPropertyVarTest.java     |  3 -
 .../java/org/apache/doris/analysis/SetVarTest.java |  3 -
 .../apache/doris/analysis/ShowAlterStmtTest.java   |  3 -
 .../doris/analysis/ShowCreateDbStmtTest.java       |  3 -
 .../doris/analysis/ShowCreateTableStmtTest.java    |  3 -
 .../apache/doris/analysis/ShowDataStmtTest.java    |  3 -
 .../org/apache/doris/analysis/ShowDbStmtTest.java  |  3 -
 .../apache/doris/analysis/ShowEnginesStmtTest.java |  3 -
 .../apache/doris/analysis/ShowLoadStmtTest.java    |  3 -
 .../apache/doris/analysis/ShowRollupStmtTest.java  |  3 -
 .../apache/doris/analysis/ShowTableStmtTest.java   |  3 -
 .../doris/analysis/ShowUserPropertyStmtTest.java   |  3 -
 .../doris/analysis/ShowVariablesStmtTest.java      |  3 -
 .../apache/doris/analysis/SysVariableDescTest.java |  3 -
 .../org/apache/doris/analysis/UseStmtTest.java     |  3 -
 .../org/apache/doris/backup/AlterClauseRWTest.java |  2 -
 .../org/apache/doris/backup/BackupHandlerTest.java | 17 +++++
 .../org/apache/doris/backup/BackupJobInfoTest.java | 17 +++++
 .../org/apache/doris/backup/BackupJobTest.java     |  2 -
 .../org/apache/doris/backup/CatalogMocker.java     |  2 -
 .../org/apache/doris/backup/FileSaverITest.java    |  2 -
 .../org/apache/doris/backup/PartitionNameTest.java |  2 -
 .../org/apache/doris/backup/PathMakerTest.java     |  2 -
 .../org/apache/doris/backup/RepositoryTest.java    | 17 +++++
 .../doris/backup/RestoreFileMappingTest.java       | 17 +++++
 .../org/apache/doris/backup/RestoreJobTest.java    | 17 +++++
 .../org/apache/doris/bdb/BDBToolOptionsTest.java   | 17 +++++
 .../java/org/apache/doris/bdb/BDBToolTest.java     | 17 +++++
 .../java/org/apache/doris/catalog/BackendTest.java |  3 -
 .../java/org/apache/doris/catalog/CatalogTest.java |  3 -
 .../org/apache/doris/catalog/CatalogTestUtil.java  | 17 +++++
 .../org/apache/doris/catalog/ColumnStatsTest.java  |  3 -
 .../java/org/apache/doris/catalog/ColumnTest.java  |  3 -
 .../org/apache/doris/catalog/ColumnTypeTest.java   |  3 -
 .../org/apache/doris/catalog/CreateTableTest.java  |  3 -
 .../org/apache/doris/catalog/DatabaseTest.java     |  3 -
 .../java/org/apache/doris/catalog/FakeCatalog.java | 17 +++++
 .../java/org/apache/doris/catalog/FakeEditLog.java | 17 +++++
 .../org/apache/doris/catalog/InfoSchemaDbTest.java |  3 -
 .../doris/catalog/MaterializedIndexTest.java       |  3 -
 .../apache/doris/catalog/MetadataViewerTest.java   | 17 +++++
 .../org/apache/doris/catalog/MysqlTableTest.java   |  3 -
 .../org/apache/doris/catalog/OlapTableTest.java    | 17 +++++
 .../org/apache/doris/catalog/PartitionKeyTest.java |  3 -
 .../doris/catalog/RangePartitionInfoTest.java      |  3 -
 .../java/org/apache/doris/catalog/ReplicaTest.java |  3 -
 .../apache/doris/catalog/ResourceGroupTest.java    |  3 -
 .../java/org/apache/doris/catalog/TableTest.java   |  3 -
 .../java/org/apache/doris/catalog/TabletTest.java  |  3 -
 .../org/apache/doris/catalog/UserPropertyTest.java |  3 -
 .../org/apache/doris/catalog/UserResourceTest.java |  3 -
 .../java/org/apache/doris/clone/CloneTest.java     |  2 -
 .../doris/clone/ClusterLoadStatisticsTest.java     | 17 +++++
 .../doris/cluster/SystemInfoServiceTest.java       |  2 -
 .../java/org/apache/doris/common/CIDRTest.java     | 15 +++--
 .../doris/common/CommandLineOptionsTest.java       | 17 +++++
 .../org/apache/doris/common/GenericPoolTest.java   |  3 -
 .../test/java/org/apache/doris/common/MD5Test.java | 17 +++++
 .../apache/doris/common/MarkDownParserTest.java    |  3 -
 .../apache/doris/common/PatternMatcherTest.java    |  3 -
 .../apache/doris/common/PropertyAnalyzerTest.java  |  3 -
 .../org/apache/doris/common/path/PathTrieTest.java |  3 -
 .../doris/common/proc/BackendProcNodeTest.java     |  3 -
 .../doris/common/proc/BackendsProcDirTest.java     |  3 -
 .../apache/doris/common/proc/DbsProcDirTest.java   |  3 -
 .../apache/doris/common/proc/ProcServiceTest.java  |  3 -
 .../apache/doris/common/util/DebugUtilTest.java    |  3 -
 .../doris/common/util/ListComparatorTest.java      |  3 -
 .../apache/doris/common/util/LoadBalancerTest.java |  3 -
 .../doris/common/util/RuntimeProfileTest.java      |  3 -
 .../apache/doris/common/util/TimeUtilsTest.java    |  3 -
 .../org/apache/doris/common/util/UnitTestUtil.java |  3 -
 .../doris/deploy/AmbariDeployManagerTest.java      | 17 +++++
 .../java/org/apache/doris/es/EsStateStoreTest.java | 12 ++--
 .../test/java/org/apache/doris/es/EsUtilTest.java  | 12 ++--
 .../org/apache/doris/http/HttpAuthManagerTest.java |  2 -
 .../java/org/apache/doris/load/DppConfigTest.java  |  2 -
 .../org/apache/doris/load/DppSchedulerTest.java    |  2 -
 .../org/apache/doris/load/EtlJobStatusTest.java    |  2 -
 .../java/org/apache/doris/load/FailMsgTest.java    |  2 -
 .../org/apache/doris/load/LoadCheckerTest.java     |  2 -
 .../java/org/apache/doris/load/LoadJobTest.java    |  2 -
 .../apache/doris/load/PartitionLoadInfoTest.java   |  2 -
 .../java/org/apache/doris/load/SourceTest.java     |  2 -
 .../org/apache/doris/load/TabletLoadInfoTest.java  |  2 -
 .../apache/doris/mysql/MysqlAuthPacketTest.java    |  2 -
 .../apache/doris/mysql/MysqlCapabilityTest.java    |  2 -
 .../org/apache/doris/mysql/MysqlChannelTest.java   |  2 -
 .../org/apache/doris/mysql/MysqlColDefTest.java    |  2 -
 .../org/apache/doris/mysql/MysqlColTypeTest.java   |  2 -
 .../org/apache/doris/mysql/MysqlCommandTest.java   |  2 -
 .../org/apache/doris/mysql/MysqlEofPacketTest.java |  2 -
 .../org/apache/doris/mysql/MysqlErrPacketTest.java |  2 -
 .../doris/mysql/MysqlHandshakePacketTest.java      |  2 -
 .../org/apache/doris/mysql/MysqlOkPacketTest.java  |  2 -
 .../org/apache/doris/mysql/MysqlPasswordTest.java  |  2 -
 .../org/apache/doris/mysql/MysqlProtoTest.java     |  2 -
 .../org/apache/doris/mysql/MysqlServerTest.java    |  2 -
 .../apache/doris/mysql/WrapperSocketChannel.java   |  2 -
 .../org/apache/doris/mysql/privilege/AuthTest.java | 12 ++--
 .../apache/doris/mysql/privilege/MockedAuth.java   | 12 ++--
 .../org/apache/doris/mysql/privilege/PrivTest.java | 12 ++--
 .../doris/mysql/privilege/PrivilegeTest.java       | 12 ++--
 .../doris/mysql/privilege/UserIdentityTest.java    | 12 ++--
 .../apache/doris/persist/CreateTableInfoTest.java  |  2 -
 .../org/apache/doris/persist/DropInfoTest.java     |  2 -
 .../java/org/apache/doris/persist/EditLogTest.java |  2 -
 .../doris/persist/ReplicaPersistInfoTest.java      |  2 -
 .../org/apache/doris/persist/StorageInfoTest.java  |  2 -
 .../java/org/apache/doris/persist/StorageTest.java |  2 -
 .../org/apache/doris/planner/OlapScanNodeTest.java |  3 -
 .../apache/doris/planner/OlapTableSinkTest.java    | 12 ++--
 .../doris/planner/StreamLoadPlannerTest.java       | 12 ++--
 .../doris/planner/StreamLoadScanNodeTest.java      | 12 ++--
 .../org/apache/doris/qe/ConnectContextTest.java    |  3 -
 .../org/apache/doris/qe/ConnectProcessorTest.java  |  3 -
 .../org/apache/doris/qe/ConnectSchedulerTest.java  |  3 -
 .../java/org/apache/doris/qe/CoordinatorTest.java  |  3 -
 .../java/org/apache/doris/qe/HelpModuleTest.java   |  3 -
 .../org/apache/doris/qe/HelpObjectLoaderTest.java  |  3 -
 .../org/apache/doris/qe/JournalObservableTest.java |  3 -
 .../java/org/apache/doris/qe/MultiLoadMgrTest.java |  3 -
 .../java/org/apache/doris/qe/QueryStateTest.java   |  3 -
 .../java/org/apache/doris/qe/SetExecutorTest.java  |  3 -
 .../java/org/apache/doris/qe/ShowExecutorTest.java |  3 -
 .../apache/doris/qe/ShowResultSetMetaDataTest.java |  3 -
 .../org/apache/doris/qe/ShowResultSetTest.java     |  3 -
 .../org/apache/doris/qe/SimpleSchedulerTest.java   |  3 -
 .../java/org/apache/doris/qe/StmtExecutorTest.java |  3 -
 .../java/org/apache/doris/qe/VariableMgrTest.java  |  3 -
 .../java/org/apache/doris/task/AgentTaskTest.java  |  2 -
 .../org/apache/doris/task/LoadEtlTaskTest.java     |  2 -
 .../org/apache/doris/task/LoadPendingTaskTest.java |  2 -
 .../apache/doris/task/MasterTaskExecutorTest.java  |  2 -
 .../transaction/FakeTransactionIDGenerator.java    | 17 +++++
 .../transaction/GlobalTransactionMgrTest.java      | 17 +++++
 fs_brokers/apache_hdfs_broker/bin/start_broker.sh  | 13 ++--
 fs_brokers/apache_hdfs_broker/bin/stop_broker.sh   | 13 ++--
 fs_brokers/apache_hdfs_broker/build.sh             | 13 ++--
 .../apache/doris/broker/hdfs/BrokerBootstrap.java  | 12 ++--
 .../org/apache/doris/broker/hdfs/BrokerConfig.java | 12 ++--
 .../apache/doris/broker/hdfs/BrokerException.java  | 12 ++--
 .../apache/doris/broker/hdfs/BrokerFileSystem.java | 12 ++--
 .../doris/broker/hdfs/ClientContextManager.java    | 12 ++--
 .../doris/broker/hdfs/FileSystemIdentity.java      | 12 ++--
 .../doris/broker/hdfs/FileSystemManager.java       | 12 ++--
 .../doris/broker/hdfs/HDFSBrokerServiceImpl.java   | 12 ++--
 .../org/apache/doris/common/BrokerPerfMonitor.java | 12 ++--
 .../java/org/apache/doris/common/ConfigBase.java   | 12 ++--
 .../apache/doris/common/LoggerMessageFormat.java   | 12 ++--
 .../java/org/apache/doris/common/ThriftServer.java | 12 ++--
 .../doris/broker/hdfs/TestFileSystemManager.java   | 12 ++--
 .../doris/broker/hdfs/TestHDFSBrokerService.java   | 12 ++--
 gensrc/Makefile                                    | 12 ++--
 gensrc/proto/Makefile                              | 12 ++--
 gensrc/proto/column_data_file.proto                | 12 ++--
 gensrc/proto/data.proto                            | 12 ++--
 gensrc/proto/descriptors.proto                     | 12 ++--
 gensrc/proto/internal_service.proto                | 12 ++--
 gensrc/proto/olap_common.proto                     | 13 ++--
 gensrc/proto/olap_file.proto                       | 13 ++--
 gensrc/proto/status.proto                          | 12 ++--
 gensrc/proto/types.proto                           | 12 ++--
 gensrc/script/Makefile                             |  3 -
 gensrc/script/file2array.sh                        |  7 +-
 gensrc/script/gen_build_version.sh                 | 13 +---
 gensrc/script/gen_builtins_functions.py            |  3 -
 gensrc/script/gen_functions.py                     |  3 -
 gensrc/script/gen_opcodes.py                       | 11 ----
 gensrc/script/gen_vector_functions.py              | 18 ------
 gensrc/script/palo_builtins_functions.py           |  3 -
 gensrc/script/palo_functions.py                    |  3 -
 gensrc/thrift/AgentService.thrift                  |  3 -
 gensrc/thrift/BackendService.thrift                |  3 -
 gensrc/thrift/Data.thrift                          |  3 -
 gensrc/thrift/DataSinks.thrift                     |  3 -
 gensrc/thrift/Ddl.thrift                           |  3 -
 gensrc/thrift/Descriptors.thrift                   |  3 -
 gensrc/thrift/Exprs.thrift                         |  3 -
 gensrc/thrift/FrontendService.thrift               |  3 -
 gensrc/thrift/HeartbeatService.thrift              |  6 --
 gensrc/thrift/Makefile                             | 12 ++--
 gensrc/thrift/MasterService.thrift                 |  3 -
 gensrc/thrift/MetricDefs.thrift                    |  3 -
 gensrc/thrift/Metrics.thrift                       |  3 -
 gensrc/thrift/NetworkTest.thrift                   |  3 -
 gensrc/thrift/Opcodes.thrift                       |  3 -
 gensrc/thrift/PaloBrokerService.thrift             |  9 ++-
 gensrc/thrift/PaloExternalDataSourceService.thrift |  3 -
 gensrc/thrift/PaloInternalService.thrift           |  3 -
 gensrc/thrift/PaloService.thrift                   |  3 -
 gensrc/thrift/Partitions.thrift                    |  3 -
 gensrc/thrift/PlanNodes.thrift                     |  3 -
 gensrc/thrift/Planner.thrift                       |  3 -
 gensrc/thrift/RuntimeProfile.thrift                |  3 -
 gensrc/thrift/Status.thrift                        |  3 -
 gensrc/thrift/Types.thrift                         |  3 -
 run-fe-ut.sh                                       | 12 ++--
 run-ut.sh                                          | 12 ++--
 thirdparty/build-thirdparty.sh                     | 13 ++--
 thirdparty/download-thirdparty.sh                  | 15 +++--
 thirdparty/vars.sh                                 | 13 ++--
 1986 files changed, 7732 insertions(+), 7968 deletions(-)

commit 0c3687ed54c894a9267ecbbc69ce2347b3bb4be4
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Wed Oct 31 20:41:35 2018 +0800

    Add more BE unit run in run-ut.sh (#260)

 .gitignore                        |  8 ++++++++
 be/test/http/stream_load_test.cpp | 22 ++++++++++++++++++++
 run-ut.sh                         | 43 +++++++++++++++++++--------------------
 3 files changed, 51 insertions(+), 22 deletions(-)

commit 06413999e59fdc4607205310a5ff3c3931c006ba
Author: morningman <morningman@163.com>
Date:   Wed Oct 31 19:45:21 2018 +0800

    Fix some compile and script errors (#259)
    
    1. Fix error class in start_fe.sh and start_broker.sh.
    2. Add log4j2.xml in fe/src/test/resources/ to run fe ut without log4j warnings.
    3. Reduce the test file size in be ut.

 be/test/olap/file_utils_test.cpp                   |  4 ++--
 bin/start_fe.sh                                    |  8 +-------
 .../org/apache/doris/task/LoadEtlTaskTest.java     |  4 +++-
 .../org/apache/doris/task/LoadPendingTaskTest.java |  2 ++
 fe/src/test/resources/log4j2.xml                   | 24 ++++++++++++++++++++++
 fs_brokers/apache_hdfs_broker/bin/start_broker.sh  |  2 +-
 6 files changed, 33 insertions(+), 11 deletions(-)

commit f27d4e017aed27980fdca2f3848a47897698d387
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Wed Oct 31 19:12:08 2018 +0800

    Make build-thirdparty.sh work (#258)
    
    Remove unused java-libarary.tar.gz in download-thirdparty.sh

 thirdparty/download-thirdparty.sh | 25 -------------------------
 1 file changed, 25 deletions(-)

commit 2be79915612a9387ccb9686076a5f0c8f042c10d
Author: morningman <morningman@163.com>
Date:   Wed Oct 31 17:07:16 2018 +0800

    Change com.baidu.palo to org.apache.doris
    
        Change some package names in fe/fs_brokers/gensrc dir.

 build.sh                                           |    2 +-
 fe/src/main/cup/sql_parser.cup                     |   32 +-
 fe/src/main/java/com/baidu/palo/PaloFe.java        |  268 -
 fe/src/main/java/com/baidu/palo/alter/Alter.java   |  260 -
 .../java/com/baidu/palo/alter/AlterHandler.java    |  299 --
 .../main/java/com/baidu/palo/alter/AlterJob.java   |  344 --
 .../baidu/palo/alter/DecommissionBackendJob.java   |  626 ---
 .../java/com/baidu/palo/alter/RollupHandler.java   |  763 ---
 .../main/java/com/baidu/palo/alter/RollupJob.java  | 1087 ----
 .../com/baidu/palo/alter/SchemaChangeHandler.java  | 1328 -----
 .../java/com/baidu/palo/alter/SchemaChangeJob.java | 1243 -----
 .../java/com/baidu/palo/alter/SystemHandler.java   |  366 --
 .../baidu/palo/analysis/AbstractBackupStmt.java    |  164 -
 .../com/baidu/palo/analysis/AddBackendClause.java  |   77 -
 .../com/baidu/palo/analysis/AddColumnClause.java   |  111 -
 .../com/baidu/palo/analysis/AddColumnsClause.java  |   99 -
 .../com/baidu/palo/analysis/AddFollowerClause.java |   37 -
 .../com/baidu/palo/analysis/AddObserverClause.java |   37 -
 .../baidu/palo/analysis/AddPartitionClause.java    |  131 -
 .../com/baidu/palo/analysis/AddRollupClause.java   |  184 -
 .../analysis/AdminShowReplicaDistributionStmt.java |   93 -
 .../palo/analysis/AdminShowReplicaStatusStmt.java  |  161 -
 .../com/baidu/palo/analysis/AggregateInfo.java     |  794 ---
 .../com/baidu/palo/analysis/AggregateInfoBase.java |  229 -
 .../baidu/palo/analysis/AggregateParamsList.java   |   64 -
 .../java/com/baidu/palo/analysis/AlterClause.java  |   78 -
 .../baidu/palo/analysis/AlterClusterClause.java    |   94 -
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |   89 -
 .../com/baidu/palo/analysis/AlterClusterType.java  |   32 -
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |   73 -
 .../baidu/palo/analysis/AlterDatabaseRename.java   |   84 -
 .../palo/analysis/AlterLoadErrorUrlClause.java     |   63 -
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |   72 -
 .../com/baidu/palo/analysis/AlterTableStmt.java    |  129 -
 .../com/baidu/palo/analysis/AlterUserClause.java   |  124 -
 .../com/baidu/palo/analysis/AlterUserType.java     |   32 -
 .../java/com/baidu/palo/analysis/AnalyticExpr.java |  820 ---
 .../java/com/baidu/palo/analysis/AnalyticInfo.java |  191 -
 .../com/baidu/palo/analysis/AnalyticWindow.java    |  502 --
 .../java/com/baidu/palo/analysis/Analyzer.java     | 1661 ------
 .../com/baidu/palo/analysis/ArithmeticExpr.java    |  273 -
 .../com/baidu/palo/analysis/BackendClause.java     |   67 -
 .../java/com/baidu/palo/analysis/BackupStmt.java   |  109 -
 .../java/com/baidu/palo/analysis/BaseTableRef.java |   78 -
 .../com/baidu/palo/analysis/BetweenPredicate.java  |   99 -
 .../com/baidu/palo/analysis/BinaryPredicate.java   |  494 --
 .../java/com/baidu/palo/analysis/BoolLiteral.java  |  126 -
 .../java/com/baidu/palo/analysis/BrokerDesc.java   |   81 -
 .../palo/analysis/BuiltinAggregateFunction.java    |  152 -
 .../baidu/palo/analysis/CancelAlterSystemStmt.java |   63 -
 .../baidu/palo/analysis/CancelAlterTableStmt.java  |   80 -
 .../com/baidu/palo/analysis/CancelBackupStmt.java  |   84 -
 .../com/baidu/palo/analysis/CancelLoadStmt.java    |  123 -
 .../java/com/baidu/palo/analysis/CancelStmt.java   |   20 -
 .../java/com/baidu/palo/analysis/CaseExpr.java     |  254 -
 .../com/baidu/palo/analysis/CaseWhenClause.java    |   44 -
 .../java/com/baidu/palo/analysis/CastExpr.java     |  263 -
 .../java/com/baidu/palo/analysis/ClusterName.java  |   73 -
 .../com/baidu/palo/analysis/ColumnPosition.java    |   72 -
 .../baidu/palo/analysis/ColumnRenameClause.java    |   75 -
 .../com/baidu/palo/analysis/ColumnSeparator.java   |  105 -
 .../com/baidu/palo/analysis/CompoundPredicate.java |  192 -
 .../com/baidu/palo/analysis/CreateClusterStmt.java |  119 -
 .../java/com/baidu/palo/analysis/CreateDbStmt.java |   78 -
 .../baidu/palo/analysis/CreateFunctionStmt.java    |  101 -
 .../baidu/palo/analysis/CreateRepositoryStmt.java  |  103 -
 .../com/baidu/palo/analysis/CreateRoleStmt.java    |   45 -
 .../palo/analysis/CreateTableAsSelectStmt.java     |  120 -
 .../com/baidu/palo/analysis/CreateTableStmt.java   |  520 --
 .../com/baidu/palo/analysis/CreateUserStmt.java    |  164 -
 .../com/baidu/palo/analysis/CreateViewStmt.java    |  169 -
 .../com/baidu/palo/analysis/DataDescription.java   |  465 --
 .../java/com/baidu/palo/analysis/DateLiteral.java  |  203 -
 .../main/java/com/baidu/palo/analysis/DdlStmt.java |   28 -
 .../com/baidu/palo/analysis/DecimalLiteral.java    |  229 -
 .../palo/analysis/DecommissionBackendClause.java   |   56 -
 .../java/com/baidu/palo/analysis/DeleteStmt.java   |  152 -
 .../java/com/baidu/palo/analysis/DescribeStmt.java |  253 -
 .../com/baidu/palo/analysis/DescriptorTable.java   |  183 -
 .../com/baidu/palo/analysis/DistributionDesc.java  |   82 -
 .../com/baidu/palo/analysis/DropBackendClause.java |   49 -
 .../com/baidu/palo/analysis/DropClusterStmt.java   |   82 -
 .../com/baidu/palo/analysis/DropColumnClause.java  |   76 -
 .../java/com/baidu/palo/analysis/DropDbStmt.java   |   78 -
 .../baidu/palo/analysis/DropFollowerClause.java    |   32 -
 .../com/baidu/palo/analysis/DropFunctionStmt.java  |   47 -
 .../baidu/palo/analysis/DropObserverClause.java    |   32 -
 .../baidu/palo/analysis/DropPartitionClause.java   |   67 -
 .../baidu/palo/analysis/DropRepositoryStmt.java    |   62 -
 .../java/com/baidu/palo/analysis/DropRoleStmt.java |   45 -
 .../com/baidu/palo/analysis/DropRollupClause.java  |   62 -
 .../com/baidu/palo/analysis/DropTableStmt.java     |   87 -
 .../java/com/baidu/palo/analysis/DropUserStmt.java |   65 -
 .../java/com/baidu/palo/analysis/EmptyStmt.java    |   29 -
 .../java/com/baidu/palo/analysis/EnterStmt.java    |   73 -
 .../com/baidu/palo/analysis/ExistsPredicate.java   |   76 -
 .../java/com/baidu/palo/analysis/ExportStmt.java   |  267 -
 fe/src/main/java/com/baidu/palo/analysis/Expr.java | 1516 ------
 .../main/java/com/baidu/palo/analysis/ExprId.java  |   45 -
 .../baidu/palo/analysis/ExprSubstitutionMap.java   |  190 -
 .../java/com/baidu/palo/analysis/FloatLiteral.java |  194 -
 .../java/com/baidu/palo/analysis/FromClause.java   |  156 -
 .../com/baidu/palo/analysis/FrontendClause.java    |   82 -
 .../java/com/baidu/palo/analysis/FunctionArgs.java |   51 -
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |  633 ---
 .../java/com/baidu/palo/analysis/FunctionName.java |  181 -
 .../com/baidu/palo/analysis/FunctionParams.java    |  113 -
 .../java/com/baidu/palo/analysis/GrantStmt.java    |  144 -
 .../baidu/palo/analysis/HashDistributionDesc.java  |  146 -
 .../main/java/com/baidu/palo/analysis/HdfsURI.java |   86 -
 .../java/com/baidu/palo/analysis/HelpStmt.java     |   87 -
 .../com/baidu/palo/analysis/ImportColumnDesc.java  |   30 -
 .../com/baidu/palo/analysis/ImportColumnsStmt.java |   23 -
 .../com/baidu/palo/analysis/ImportWhereStmt.java   |   21 -
 .../java/com/baidu/palo/analysis/InPredicate.java  |  256 -
 .../baidu/palo/analysis/InformationFunction.java   |   82 -
 .../com/baidu/palo/analysis/InlineViewRef.java     |  438 --
 .../java/com/baidu/palo/analysis/InsertSource.java |   37 -
 .../java/com/baidu/palo/analysis/InsertStmt.java   |  491 --
 .../java/com/baidu/palo/analysis/InsertTarget.java |   41 -
 .../java/com/baidu/palo/analysis/IntLiteral.java   |  343 --
 .../com/baidu/palo/analysis/IsNullPredicate.java   |  136 -
 .../java/com/baidu/palo/analysis/JoinOperator.java |  104 -
 .../java/com/baidu/palo/analysis/KeysDesc.java     |  144 -
 .../java/com/baidu/palo/analysis/KillStmt.java     |   71 -
 .../java/com/baidu/palo/analysis/LabelName.java    |  116 -
 .../com/baidu/palo/analysis/LargeIntLiteral.java   |  228 -
 .../com/baidu/palo/analysis/LikePredicate.java     |  142 -
 .../java/com/baidu/palo/analysis/LimitElement.java |  105 -
 .../java/com/baidu/palo/analysis/LinkDbStmt.java   |   93 -
 .../java/com/baidu/palo/analysis/LiteralExpr.java  |  196 -
 .../java/com/baidu/palo/analysis/LoadStmt.java     |  247 -
 .../java/com/baidu/palo/analysis/MaxLiteral.java   |   79 -
 .../com/baidu/palo/analysis/MigrateDbStmt.java     |   87 -
 .../baidu/palo/analysis/ModifyBrokerClause.java    |  108 -
 .../baidu/palo/analysis/ModifyColumnClause.java    |   95 -
 .../baidu/palo/analysis/ModifyPartitionClause.java |   80 -
 .../palo/analysis/ModifyTablePropertiesClause.java |   87 -
 .../java/com/baidu/palo/analysis/NullLiteral.java  |  150 -
 .../com/baidu/palo/analysis/OpcodeRegistry.java    |  338 --
 .../com/baidu/palo/analysis/OrderByElement.java    |  158 -
 .../java/com/baidu/palo/analysis/ParseNode.java    |   42 -
 .../com/baidu/palo/analysis/PartitionDesc.java     |   83 -
 .../com/baidu/palo/analysis/PartitionKeyDesc.java  |  120 -
 .../com/baidu/palo/analysis/PartitionName.java     |  204 -
 .../baidu/palo/analysis/PartitionRenameClause.java |   75 -
 .../java/com/baidu/palo/analysis/Predicate.java    |  109 -
 .../java/com/baidu/palo/analysis/QueryStmt.java    |  535 --
 .../palo/analysis/RandomDistributionDesc.java      |   77 -
 .../baidu/palo/analysis/RangePartitionDesc.java    |  223 -
 .../com/baidu/palo/analysis/RecoverDbStmt.java     |   69 -
 .../baidu/palo/analysis/RecoverPartitionStmt.java  |   83 -
 .../com/baidu/palo/analysis/RecoverTableStmt.java  |   78 -
 .../com/baidu/palo/analysis/RedirectStatus.java    |   56 -
 .../baidu/palo/analysis/ReorderColumnsClause.java  |   93 -
 .../java/com/baidu/palo/analysis/RestoreStmt.java  |  144 -
 .../java/com/baidu/palo/analysis/RevokeStmt.java   |  133 -
 .../baidu/palo/analysis/RollupRenameClause.java    |   75 -
 .../com/baidu/palo/analysis/SchemaTableType.java   |  105 -
 .../java/com/baidu/palo/analysis/SelectList.java   |   98 -
 .../com/baidu/palo/analysis/SelectListItem.java    |  116 -
 .../java/com/baidu/palo/analysis/SelectStmt.java   | 1348 -----
 .../java/com/baidu/palo/analysis/SetNamesVar.java  |   71 -
 .../java/com/baidu/palo/analysis/SetPassVar.java   |  100 -
 .../main/java/com/baidu/palo/analysis/SetStmt.java |   96 -
 .../com/baidu/palo/analysis/SetTransaction.java    |   25 -
 .../main/java/com/baidu/palo/analysis/SetType.java |   63 -
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |  109 -
 .../baidu/palo/analysis/SetUserPropertyVar.java    |  114 -
 .../main/java/com/baidu/palo/analysis/SetVar.java  |  110 -
 .../com/baidu/palo/analysis/ShowAlterStmt.java     |  158 -
 .../com/baidu/palo/analysis/ShowAuthorStmt.java    |   49 -
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |   56 -
 .../com/baidu/palo/analysis/ShowBackupStmt.java    |   91 -
 .../com/baidu/palo/analysis/ShowBrokerStmt.java    |   52 -
 .../com/baidu/palo/analysis/ShowCharsetStmt.java   |   45 -
 .../com/baidu/palo/analysis/ShowClusterStmt.java   |   73 -
 .../com/baidu/palo/analysis/ShowCollationStmt.java |   48 -
 .../com/baidu/palo/analysis/ShowColumnStmt.java    |  171 -
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |   88 -
 .../baidu/palo/analysis/ShowCreateTableStmt.java   |  102 -
 .../java/com/baidu/palo/analysis/ShowDataStmt.java |  282 -
 .../java/com/baidu/palo/analysis/ShowDbStmt.java   |   97 -
 .../com/baidu/palo/analysis/ShowDeleteStmt.java    |   81 -
 .../com/baidu/palo/analysis/ShowEnginesStmt.java   |   52 -
 .../com/baidu/palo/analysis/ShowEventsStmt.java    |   51 -
 .../com/baidu/palo/analysis/ShowExportStmt.java    |  276 -
 .../com/baidu/palo/analysis/ShowFrontendsStmt.java |   52 -
 .../com/baidu/palo/analysis/ShowGrantsStmt.java    |  100 -
 .../java/com/baidu/palo/analysis/ShowKeysStmt.java |   48 -
 .../java/com/baidu/palo/analysis/ShowLoadStmt.java |  281 -
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |  194 -
 .../baidu/palo/analysis/ShowMigrationsStmt.java    |   65 -
 .../com/baidu/palo/analysis/ShowOpenTableStmt.java |   40 -
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |  140 -
 .../com/baidu/palo/analysis/ShowPluginsStmt.java   |   52 -
 .../java/com/baidu/palo/analysis/ShowProcStmt.java |   80 -
 .../com/baidu/palo/analysis/ShowProcedureStmt.java |   47 -
 .../baidu/palo/analysis/ShowProcesslistStmt.java   |   57 -
 .../baidu/palo/analysis/ShowRepositoriesStmt.java  |   48 -
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |  102 -
 .../com/baidu/palo/analysis/ShowRolesStmt.java     |   58 -
 .../com/baidu/palo/analysis/ShowRollupStmt.java    |   91 -
 .../com/baidu/palo/analysis/ShowSnapshotStmt.java  |  156 -
 .../com/baidu/palo/analysis/ShowStatusStmt.java    |   39 -
 .../java/com/baidu/palo/analysis/ShowStmt.java     |   32 -
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |  192 -
 .../com/baidu/palo/analysis/ShowTableStmt.java     |  150 -
 .../com/baidu/palo/analysis/ShowTabletStmt.java    |  121 -
 .../com/baidu/palo/analysis/ShowTriggersStmt.java  |   46 -
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |  121 -
 .../java/com/baidu/palo/analysis/ShowUserStmt.java |   41 -
 .../com/baidu/palo/analysis/ShowVariablesStmt.java |  128 -
 .../com/baidu/palo/analysis/ShowWarningStmt.java   |   39 -
 .../com/baidu/palo/analysis/ShowWhiteListStmt.java |   37 -
 .../palo/analysis/SingleRangePartitionDesc.java    |  221 -
 .../com/baidu/palo/analysis/SlotDescriptor.java    |  269 -
 .../main/java/com/baidu/palo/analysis/SlotId.java  |   39 -
 .../main/java/com/baidu/palo/analysis/SlotRef.java |  308 --
 .../java/com/baidu/palo/analysis/SortInfo.java     |  260 -
 .../com/baidu/palo/analysis/StatementBase.java     |  185 -
 .../java/com/baidu/palo/analysis/StmtRewriter.java |  914 ----
 .../com/baidu/palo/analysis/StringLiteral.java     |  226 -
 .../java/com/baidu/palo/analysis/Subquery.java     |  187 -
 .../java/com/baidu/palo/analysis/SyncStmt.java     |   38 -
 .../com/baidu/palo/analysis/SysVariableDesc.java   |  134 -
 .../java/com/baidu/palo/analysis/TableName.java    |  144 -
 .../java/com/baidu/palo/analysis/TablePattern.java |  141 -
 .../java/com/baidu/palo/analysis/TableRef.java     |  707 ---
 .../com/baidu/palo/analysis/TableRenameClause.java |   65 -
 .../palo/analysis/TimestampArithmeticExpr.java     |  331 --
 .../java/com/baidu/palo/analysis/ToSqlUtils.java   |   56 -
 .../com/baidu/palo/analysis/TupleDescriptor.java   |  277 -
 .../main/java/com/baidu/palo/analysis/TupleId.java |   42 -
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |  154 -
 .../java/com/baidu/palo/analysis/UnionStmt.java    |  679 ---
 .../com/baidu/palo/analysis/UnsupportedStmt.java   |   42 -
 .../main/java/com/baidu/palo/analysis/UseStmt.java |   78 -
 .../java/com/baidu/palo/analysis/UserDesc.java     |   50 -
 .../java/com/baidu/palo/analysis/UserIdentity.java |  205 -
 .../java/com/baidu/palo/analysis/WithClause.java   |  138 -
 .../com/baidu/palo/backup/AbstractBackupJob_D.java |  243 -
 .../java/com/baidu/palo/backup/AbstractJob.java    |  244 -
 .../baidu/palo/backup/AsynchronousCmdExecutor.java |   45 -
 .../java/com/baidu/palo/backup/BackupHandler.java  |  554 --
 .../main/java/com/baidu/palo/backup/BackupJob.java |  803 ---
 .../java/com/baidu/palo/backup/BackupJobInfo.java  |  507 --
 .../java/com/baidu/palo/backup/BackupJob_D.java    |  944 ----
 .../java/com/baidu/palo/backup/BackupMeta.java     |  119 -
 .../java/com/baidu/palo/backup/BackupVersion.java  |   20 -
 .../java/com/baidu/palo/backup/BlobStorage.java    |  700 ---
 .../java/com/baidu/palo/backup/CommandBuilder.java |  117 -
 .../main/java/com/baidu/palo/backup/DirSaver.java  |  217 -
 .../main/java/com/baidu/palo/backup/FileSaver.java |   42 -
 .../java/com/baidu/palo/backup/FileSaverI.java     |  138 -
 .../com/baidu/palo/backup/MetaDownloadTask.java    |  364 --
 .../java/com/baidu/palo/backup/MetaUploadTask.java |   41 -
 .../java/com/baidu/palo/backup/ObjectWriter.java   |  182 -
 .../java/com/baidu/palo/backup/PathBuilder.java    |  190 -
 .../java/com/baidu/palo/backup/RemoteFile.java     |   56 -
 .../java/com/baidu/palo/backup/Repository.java     |  651 ---
 .../java/com/baidu/palo/backup/RepositoryMgr.java  |  154 -
 .../com/baidu/palo/backup/RestoreFileMapping.java  |  203 -
 .../java/com/baidu/palo/backup/RestoreJob.java     | 1476 ------
 .../java/com/baidu/palo/backup/RestoreJob_D.java   |  885 ----
 .../java/com/baidu/palo/backup/ResultfulTask.java  |   31 -
 .../com/baidu/palo/backup/SaveManifestTask.java    |  225 -
 .../java/com/baidu/palo/backup/SnapshotInfo.java   |  161 -
 fe/src/main/java/com/baidu/palo/backup/Status.java |   68 -
 .../com/baidu/palo/catalog/AccessPrivilege.java    |  115 -
 .../com/baidu/palo/catalog/AggregateFunction.java  |  246 -
 .../java/com/baidu/palo/catalog/AggregateType.java |  130 -
 .../java/com/baidu/palo/catalog/ArrayType.java     |   83 -
 .../java/com/baidu/palo/catalog/BrokerMgr.java     |  427 --
 .../java/com/baidu/palo/catalog/BrokerTable.java   |  232 -
 .../main/java/com/baidu/palo/catalog/Catalog.java  | 5495 --------------------
 .../com/baidu/palo/catalog/CatalogRecycleBin.java  |  859 ---
 .../main/java/com/baidu/palo/catalog/Column.java   |  513 --
 .../java/com/baidu/palo/catalog/ColumnStats.java   |  188 -
 .../java/com/baidu/palo/catalog/ColumnType.java    |  418 --
 .../java/com/baidu/palo/catalog/DataProperty.java  |  101 -
 .../main/java/com/baidu/palo/catalog/Database.java |  485 --
 .../main/java/com/baidu/palo/catalog/DiskInfo.java |  124 -
 .../com/baidu/palo/catalog/DistributionInfo.java   |  114 -
 .../com/baidu/palo/catalog/DomainResolver.java     |  176 -
 .../main/java/com/baidu/palo/catalog/EsTable.java  |  225 -
 .../main/java/com/baidu/palo/catalog/Function.java |  445 --
 .../java/com/baidu/palo/catalog/FunctionSet.java   | 1029 ----
 .../baidu/palo/catalog/HashDistributionInfo.java   |  140 -
 .../java/com/baidu/palo/catalog/InfoSchemaDb.java  |  101 -
 .../java/com/baidu/palo/catalog/InlineView.java    |   63 -
 .../main/java/com/baidu/palo/catalog/KeysType.java |   61 -
 .../java/com/baidu/palo/catalog/KuduPartition.java |  134 -
 .../java/com/baidu/palo/catalog/KuduTable.java     |  146 -
 .../main/java/com/baidu/palo/catalog/MapType.java  |   94 -
 .../com/baidu/palo/catalog/MaterializedIndex.java  |  252 -
 .../java/com/baidu/palo/catalog/MetaObject.java    |   73 -
 .../com/baidu/palo/catalog/MetaReplayState.java    |   74 -
 .../baidu/palo/catalog/MetaSignatureVersion.java   |   27 -
 .../com/baidu/palo/catalog/MetadataViewer.java     |  245 -
 .../java/com/baidu/palo/catalog/MysqlTable.java    |  225 -
 .../java/com/baidu/palo/catalog/OlapTable.java     |  935 ----
 .../java/com/baidu/palo/catalog/Partition.java     |  336 --
 .../java/com/baidu/palo/catalog/PartitionInfo.java |  139 -
 .../java/com/baidu/palo/catalog/PartitionKey.java  |  316 --
 .../java/com/baidu/palo/catalog/PartitionType.java |   55 -
 .../java/com/baidu/palo/catalog/PrimitiveType.java |  755 ---
 .../baidu/palo/catalog/RandomDistributionInfo.java |   90 -
 .../com/baidu/palo/catalog/RangePartitionInfo.java |  438 --
 .../main/java/com/baidu/palo/catalog/Replica.java  |  368 --
 .../java/com/baidu/palo/catalog/ResourceGroup.java |  148 -
 .../java/com/baidu/palo/catalog/ResourceType.java  |  114 -
 .../com/baidu/palo/catalog/ScalarFunction.java     |  242 -
 .../java/com/baidu/palo/catalog/ScalarType.java    |  582 ---
 .../java/com/baidu/palo/catalog/SchemaTable.java   |  659 ---
 .../baidu/palo/catalog/SinglePartitionInfo.java    |   47 -
 .../java/com/baidu/palo/catalog/StructField.java   |  136 -
 .../java/com/baidu/palo/catalog/StructType.java    |  120 -
 fe/src/main/java/com/baidu/palo/catalog/Table.java |  265 -
 .../main/java/com/baidu/palo/catalog/Tablet.java   |  295 --
 .../baidu/palo/catalog/TabletInvertedIndex.java    |  522 --
 .../java/com/baidu/palo/catalog/TabletMeta.java    |  135 -
 .../java/com/baidu/palo/catalog/TabletStatMgr.java |  141 -
 fe/src/main/java/com/baidu/palo/catalog/Type.java  |  924 ----
 fe/src/main/java/com/baidu/palo/catalog/Uda.java   |  125 -
 fe/src/main/java/com/baidu/palo/catalog/Udf.java   |   68 -
 fe/src/main/java/com/baidu/palo/catalog/View.java  |  186 -
 .../com/baidu/palo/clone/BackendLoadStatistic.java |  155 -
 .../java/com/baidu/palo/clone/BalanceStatus.java   |   72 -
 fe/src/main/java/com/baidu/palo/clone/Clone.java   |  629 ---
 .../java/com/baidu/palo/clone/CloneChecker.java    | 1629 ------
 .../main/java/com/baidu/palo/clone/CloneJob.java   |  172 -
 .../com/baidu/palo/clone/ClusterLoadStatistic.java |  228 -
 .../com/baidu/palo/clone/LoadBalanceException.java |   23 -
 .../java/com/baidu/palo/clone/LoadBalancer.java    |   55 -
 .../baidu/palo/clone/RootPathLoadStatistic.java    |  104 -
 .../java/com/baidu/palo/cluster/BaseParam.java     |  110 -
 .../main/java/com/baidu/palo/cluster/Cluster.java  |  267 -
 .../com/baidu/palo/cluster/ClusterNamespace.java   |   78 -
 .../java/com/baidu/palo/common/AliasGenerator.java |   55 -
 .../com/baidu/palo/common/AnalysisException.java   |   34 -
 .../main/java/com/baidu/palo/common/AuditLog.java  |   62 -
 .../baidu/palo/common/AuthenticationException.java |   34 -
 fe/src/main/java/com/baidu/palo/common/CIDR.java   |  186 -
 .../com/baidu/palo/common/CaseSensibility.java     |   41 -
 .../java/com/baidu/palo/common/ClientPool.java     |   76 -
 .../baidu/palo/common/ColumnAliasGenerator.java    |   36 -
 .../com/baidu/palo/common/CommandLineOptions.java  |   48 -
 fe/src/main/java/com/baidu/palo/common/Config.java |  650 ---
 .../java/com/baidu/palo/common/ConfigBase.java     |  198 -
 .../java/com/baidu/palo/common/ConfigWatcher.java  |  118 -
 .../java/com/baidu/palo/common/DdlException.java   |   31 -
 .../main/java/com/baidu/palo/common/ErrorCode.java |  233 -
 .../java/com/baidu/palo/common/ErrorReport.java    |   84 -
 .../java/com/baidu/palo/common/FeConstants.java    |   42 -
 .../java/com/baidu/palo/common/FeMetaVersion.java  |  103 -
 .../java/com/baidu/palo/common/FeNameFormat.java   |  106 -
 .../java/com/baidu/palo/common/GenericPool.java    |  153 -
 fe/src/main/java/com/baidu/palo/common/Id.java     |   75 -
 .../java/com/baidu/palo/common/IdGenerator.java    |   31 -
 .../java/com/baidu/palo/common/LoadException.java  |   34 -
 .../java/com/baidu/palo/common/Log4jConfig.java    |  224 -
 .../java/com/baidu/palo/common/MarkDownParser.java |  149 -
 .../baidu/palo/common/MarkedCountDownLatch.java    |   55 -
 .../baidu/palo/common/MetaNotFoundException.java   |   34 -
 .../baidu/palo/common/NotImplementedException.java |   30 -
 fe/src/main/java/com/baidu/palo/common/Pair.java   |   63 -
 .../java/com/baidu/palo/common/PatternMatcher.java |  172 -
 .../main/java/com/baidu/palo/common/Reference.java |   50 -
 fe/src/main/java/com/baidu/palo/common/Status.java |  135 -
 .../com/baidu/palo/common/SystemIdGenerator.java   |   32 -
 .../com/baidu/palo/common/TableAliasGenerator.java |   42 -
 .../com/baidu/palo/common/ThreadIdConverter.java   |   43 -
 .../java/com/baidu/palo/common/ThriftServer.java   |  133 -
 .../com/baidu/palo/common/ThriftServerContext.java |   35 -
 .../palo/common/ThriftServerEventProcessor.java    |  123 -
 .../main/java/com/baidu/palo/common/TreeNode.java  |  195 -
 .../java/com/baidu/palo/common/UserException.java  |   43 -
 .../com/baidu/palo/common/io/DataInputBuffer.java  |  111 -
 .../com/baidu/palo/common/io/DataOutputBuffer.java |  130 -
 .../java/com/baidu/palo/common/io/DeepCopy.java    |   50 -
 .../palo/common/io/FastByteArrayInputStream.java   |   82 -
 .../palo/common/io/FastByteArrayOutputStream.java  |  106 -
 .../java/com/baidu/palo/common/io/IOUtils.java     |  256 -
 .../java/com/baidu/palo/common/io/InputBuffer.java |  106 -
 .../com/baidu/palo/common/io/LimitInputStream.java |  117 -
 .../baidu/palo/common/io/LimitOutputStream.java    |  120 -
 .../com/baidu/palo/common/io/OutputBuffer.java     |  116 -
 .../main/java/com/baidu/palo/common/io/Text.java   |  644 ---
 .../java/com/baidu/palo/common/io/Writable.java    |   82 -
 .../java/com/baidu/palo/common/path/PathTrie.java  |  257 -
 .../com/baidu/palo/common/proc/AuthProcDir.java    |   73 -
 .../common/proc/BackendLoadStatisticProcNode.java  |   49 -
 .../baidu/palo/common/proc/BackendProcNode.java    |   88 -
 .../baidu/palo/common/proc/BackendsProcDir.java    |  225 -
 .../com/baidu/palo/common/proc/BaseProcDir.java    |   60 -
 .../com/baidu/palo/common/proc/BaseProcNode.java   |   55 -
 .../com/baidu/palo/common/proc/BaseProcResult.java |   65 -
 .../com/baidu/palo/common/proc/CloneProcNode.java  |   70 -
 .../common/proc/ClusterLoadStatisticProcDir.java   |   73 -
 .../proc/CurrentQueryBackendInstanceProcDir.java   |  142 -
 .../common/proc/CurrentQueryFragmentProcNode.java  |  230 -
 .../palo/common/proc/CurrentQuerySqlProcDir.java   |   68 -
 .../common/proc/CurrentQueryStatisticsProcDir.java |   83 -
 .../com/baidu/palo/common/proc/DbsProcDir.java     |  136 -
 .../baidu/palo/common/proc/DeleteInfoProcDir.java  |   86 -
 .../baidu/palo/common/proc/DeleteJobProcNode.java  |   59 -
 .../palo/common/proc/EsPartitionsProcDir.java      |  131 -
 .../com/baidu/palo/common/proc/EsShardProcDir.java |  108 -
 .../com/baidu/palo/common/proc/ExportProcNode.java |   87 -
 .../baidu/palo/common/proc/FrontendsProcNode.java  |  115 -
 .../common/proc/IncompleteTabletsProcNode.java     |   66 -
 .../baidu/palo/common/proc/IndexInfoProcDir.java   |  147 -
 .../palo/common/proc/IndexSchemaProcNode.java      |   84 -
 .../com/baidu/palo/common/proc/IndicesProcDir.java |  130 -
 .../com/baidu/palo/common/proc/JobsDbProcDir.java  |   95 -
 .../com/baidu/palo/common/proc/JobsProcDir.java    |  190 -
 .../com/baidu/palo/common/proc/JvmProcDir.java     |   90 -
 .../baidu/palo/common/proc/LoadErrorProcNode.java  |   67 -
 .../baidu/palo/common/proc/LoadJobProcNode.java    |   62 -
 .../com/baidu/palo/common/proc/LoadProcDir.java    |  109 -
 .../com/baidu/palo/common/proc/MonitorProcDir.java |   51 -
 .../baidu/palo/common/proc/PartitionsProcDir.java  |  226 -
 .../baidu/palo/common/proc/ProcDirInterface.java   |   32 -
 .../baidu/palo/common/proc/ProcNodeInterface.java  |   30 -
 .../com/baidu/palo/common/proc/ProcResult.java     |   30 -
 .../com/baidu/palo/common/proc/ProcService.java    |  168 -
 .../baidu/palo/common/proc/ReplicasProcNode.java   |   76 -
 .../baidu/palo/common/proc/RollupJobProcDir.java   |   78 -
 .../com/baidu/palo/common/proc/RollupProcDir.java  |   97 -
 .../palo/common/proc/RollupTabletsProcNode.java    |   65 -
 .../palo/common/proc/SchemaChangeProcNode.java     |   75 -
 .../baidu/palo/common/proc/StatisticProcDir.java   |  315 --
 .../com/baidu/palo/common/proc/TableProcDir.java   |  100 -
 .../com/baidu/palo/common/proc/TablesProcDir.java  |  163 -
 .../com/baidu/palo/common/proc/TabletsProcDir.java |  185 -
 .../baidu/palo/common/proc/TaskFailedProcNode.java |   64 -
 .../baidu/palo/common/proc/TaskTypeProcNode.java   |   93 -
 .../com/baidu/palo/common/proc/TasksProcDir.java   |   89 -
 .../com/baidu/palo/common/proc/TransDbProcDir.java |   92 -
 .../palo/common/proc/TransPartitionProcNode.java   |   75 -
 .../com/baidu/palo/common/proc/TransProcDir.java   |   98 -
 .../baidu/palo/common/proc/TransTablesProcDir.java |  113 -
 .../palo/common/proc/UserPropertyProcNode.java     |   52 -
 .../palo/common/publish/AckResponseHandler.java    |   47 -
 .../palo/common/publish/ClusterStatePublisher.java |  137 -
 .../palo/common/publish/ClusterStateUpdate.java    |   68 -
 .../palo/common/publish/FixedTimePublisher.java    |   74 -
 .../com/baidu/palo/common/publish/Listener.java    |   31 -
 .../com/baidu/palo/common/publish/Listeners.java   |   48 -
 .../baidu/palo/common/publish/ResponseHandler.java |   60 -
 .../com/baidu/palo/common/publish/TopicUpdate.java |   73 -
 .../com/baidu/palo/common/util/BrokerUtil.java     |   81 -
 .../com/baidu/palo/common/util/CommandResult.java  |   79 -
 .../java/com/baidu/palo/common/util/Counter.java   |   50 -
 .../java/com/baidu/palo/common/util/Daemon.java    |  112 -
 .../java/com/baidu/palo/common/util/DebugUtil.java |  141 -
 .../java/com/baidu/palo/common/util/KuduUtil.java  |  379 --
 .../com/baidu/palo/common/util/ListComparator.java |   81 -
 .../com/baidu/palo/common/util/LoadBalancer.java   |   69 -
 .../java/com/baidu/palo/common/util/MysqlUtil.java |   87 -
 .../java/com/baidu/palo/common/util/NetUtils.java  |   58 -
 .../com/baidu/palo/common/util/OrderByPair.java    |   45 -
 .../com/baidu/palo/common/util/PlatformName.java   |   36 -
 .../com/baidu/palo/common/util/PrintableMap.java   |   94 -
 .../com/baidu/palo/common/util/ProfileManager.java |  169 -
 .../baidu/palo/common/util/PropertyAnalyzer.java   |  347 --
 .../baidu/palo/common/util/ReflectionUtils.java    |  168 -
 .../com/baidu/palo/common/util/RuntimeProfile.java |  372 --
 .../java/com/baidu/palo/common/util/SqlUtils.java  |   41 -
 .../java/com/baidu/palo/common/util/TimeUtils.java |  207 -
 .../main/java/com/baidu/palo/common/util/Util.java |  315 --
 .../palo/consistency/CheckConsistencyJob.java      |  396 --
 .../baidu/palo/consistency/ConsistencyChecker.java |  392 --
 .../java/com/baidu/palo/deploy/DeployManager.java  |  632 ---
 .../palo/deploy/impl/AmbariDeployManager.java      |  356 --
 .../baidu/palo/deploy/impl/K8sDeployManager.java   |  196 -
 .../palo/deploy/impl/LocalFileDeployManager.java   |  157 -
 .../java/com/baidu/palo/external/EsIndexState.java |  145 -
 .../com/baidu/palo/external/EsShardRouting.java    |   64 -
 .../java/com/baidu/palo/external/EsStateStore.java |  221 -
 .../java/com/baidu/palo/external/EsTableState.java |   85 -
 .../main/java/com/baidu/palo/external/EsUtil.java  |   91 -
 .../palo/external/ExternalDataSourceException.java |   27 -
 fe/src/main/java/com/baidu/palo/ha/BDBHA.java      |  226 -
 .../com/baidu/palo/ha/BDBStateChangeListener.java  |  111 -
 .../java/com/baidu/palo/ha/FrontendNodeType.java   |   25 -
 fe/src/main/java/com/baidu/palo/ha/HAProtocol.java |   51 -
 fe/src/main/java/com/baidu/palo/ha/MasterInfo.java |   81 -
 .../java/com/baidu/palo/http/ActionController.java |   92 -
 .../main/java/com/baidu/palo/http/BaseAction.java  |  351 --
 .../main/java/com/baidu/palo/http/BaseRequest.java |  148 -
 .../java/com/baidu/palo/http/BaseResponse.java     |   97 -
 .../java/com/baidu/palo/http/HttpAuthManager.java  |   56 -
 .../main/java/com/baidu/palo/http/HttpServer.java  |  207 -
 .../com/baidu/palo/http/HttpServerHandler.java     |  122 -
 fe/src/main/java/com/baidu/palo/http/IAction.java  |   23 -
 .../com/baidu/palo/http/IllegalArgException.java   |   32 -
 .../com/baidu/palo/http/UnauthorizedException.java |   24 -
 fe/src/main/java/com/baidu/palo/http/WebUtils.java |  228 -
 .../com/baidu/palo/http/action/BackendAction.java  |   99 -
 .../java/com/baidu/palo/http/action/HaAction.java  |  172 -
 .../com/baidu/palo/http/action/HelpAction.java     |  216 -
 .../com/baidu/palo/http/action/IndexAction.java    |   59 -
 .../java/com/baidu/palo/http/action/LogAction.java |  160 -
 .../com/baidu/palo/http/action/NotFoundAction.java |   50 -
 .../com/baidu/palo/http/action/QueryAction.java    |  124 -
 .../baidu/palo/http/action/QueryProfileAction.java |   61 -
 .../com/baidu/palo/http/action/SessionAction.java  |   83 -
 .../palo/http/action/StaticResourceAction.java     |  238 -
 .../com/baidu/palo/http/action/SystemAction.java   |  149 -
 .../com/baidu/palo/http/action/VariableAction.java |   77 -
 .../com/baidu/palo/http/action/WebBaseAction.java  |  357 --
 .../palo/http/meta/InvalidClientException.java     |   24 -
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |  106 -
 .../java/com/baidu/palo/http/meta/MetaService.java |  334 --
 .../com/baidu/palo/http/rest/ActionStatus.java     |   22 -
 .../palo/http/rest/BootstrapFinishAction.java      |   61 -
 .../com/baidu/palo/http/rest/CancelStreamLoad.java |   87 -
 .../palo/http/rest/CheckDecommissionAction.java    |   90 -
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java |  114 -
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |   84 -
 .../com/baidu/palo/http/rest/GetLogFileAction.java |  103 -
 .../baidu/palo/http/rest/GetStreamLoadState.java   |   89 -
 .../com/baidu/palo/http/rest/HealthAction.java     |   45 -
 .../java/com/baidu/palo/http/rest/LoadAction.java  |  141 -
 .../palo/http/rest/MetaReplayerCheckAction.java    |   68 -
 .../com/baidu/palo/http/rest/MetricsAction.java    |   43 -
 .../com/baidu/palo/http/rest/MigrationAction.java  |  168 -
 .../java/com/baidu/palo/http/rest/MultiAbort.java  |   72 -
 .../java/com/baidu/palo/http/rest/MultiCommit.java |   71 -
 .../java/com/baidu/palo/http/rest/MultiDesc.java   |   85 -
 .../java/com/baidu/palo/http/rest/MultiList.java   |   80 -
 .../java/com/baidu/palo/http/rest/MultiStart.java  |   86 -
 .../java/com/baidu/palo/http/rest/MultiUnload.java |   75 -
 .../com/baidu/palo/http/rest/RestBaseAction.java   |  106 -
 .../com/baidu/palo/http/rest/RestBaseResult.java   |   44 -
 .../java/com/baidu/palo/http/rest/RestResult.java  |   43 -
 .../com/baidu/palo/http/rest/RowCountAction.java   |  129 -
 .../com/baidu/palo/http/rest/SetConfigAction.java  |  123 -
 .../baidu/palo/http/rest/ShowMetaInfoAction.java   |  189 -
 .../com/baidu/palo/http/rest/ShowProcAction.java   |   94 -
 .../palo/http/rest/ShowRuntimeInfoAction.java      |   67 -
 .../palo/http/rest/StorageTypeCheckAction.java     |   82 -
 .../main/java/com/baidu/palo/journal/Journal.java  |   58 -
 .../java/com/baidu/palo/journal/JournalCursor.java |   26 -
 .../java/com/baidu/palo/journal/JournalEntity.java |  378 --
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |  406 --
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java |  427 --
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |  158 -
 .../java/com/baidu/palo/journal/bdbje/BDBTool.java |  150 -
 .../baidu/palo/journal/bdbje/BDBToolOptions.java   |   72 -
 .../com/baidu/palo/journal/bdbje/Timestamp.java    |   49 -
 .../com/baidu/palo/journal/local/LocalJournal.java |  188 -
 .../palo/journal/local/LocalJournalCursor.java     |  399 --
 .../main/java/com/baidu/palo/kudu/KuduAgent.java   |   96 -
 .../java/com/baidu/palo/load/AsyncDeleteJob.java   |  275 -
 .../java/com/baidu/palo/load/BrokerFileGroup.java  |  314 --
 .../main/java/com/baidu/palo/load/DeleteInfo.java  |  203 -
 .../main/java/com/baidu/palo/load/DppConfig.java   |  425 --
 .../java/com/baidu/palo/load/DppScheduler.java     |  560 --
 .../main/java/com/baidu/palo/load/EtlJobInfo.java  |   58 -
 .../main/java/com/baidu/palo/load/EtlStatus.java   |  185 -
 .../java/com/baidu/palo/load/EtlSubmitResult.java  |   36 -
 .../java/com/baidu/palo/load/ExportChecker.java    |  134 -
 .../java/com/baidu/palo/load/ExportFailMsg.java    |   94 -
 .../main/java/com/baidu/palo/load/ExportJob.java   |  685 ---
 .../main/java/com/baidu/palo/load/ExportMgr.java   |  282 -
 fe/src/main/java/com/baidu/palo/load/FailMsg.java  |   95 -
 .../java/com/baidu/palo/load/HadoopEtlJobInfo.java |  133 -
 fe/src/main/java/com/baidu/palo/load/Load.java     | 3609 -------------
 .../main/java/com/baidu/palo/load/LoadChecker.java |  586 ---
 .../java/com/baidu/palo/load/LoadErrorHub.java     |  325 --
 fe/src/main/java/com/baidu/palo/load/LoadJob.java  | 1012 ----
 .../java/com/baidu/palo/load/MiniEtlJobInfo.java   |   86 -
 .../java/com/baidu/palo/load/MiniEtlTaskInfo.java  |   91 -
 .../com/baidu/palo/load/MysqlLoadErrorHub.java     |  207 -
 .../com/baidu/palo/load/PartitionLoadInfo.java     |  148 -
 .../com/baidu/palo/load/PullLoadSourceInfo.java    |  121 -
 fe/src/main/java/com/baidu/palo/load/Source.java   |  290 --
 .../java/com/baidu/palo/load/TableLoadInfo.java    |  157 -
 .../java/com/baidu/palo/load/TabletLoadInfo.java   |  121 -
 .../java/com/baidu/palo/master/Checkpoint.java     |  289 -
 .../java/com/baidu/palo/master/MasterImpl.java     |  742 ---
 .../java/com/baidu/palo/master/MetaHelper.java     |   97 -
 .../java/com/baidu/palo/master/ReportHandler.java  |  760 ---
 .../java/com/baidu/palo/metric/MetricLabel.java    |   53 -
 .../java/com/baidu/palo/metric/MetricRepo.java     |  256 -
 .../com/baidu/palo/metric/PaloCounterMetric.java   |   33 -
 .../baidu/palo/metric/PaloDoubleCounterMetric.java |   42 -
 .../com/baidu/palo/metric/PaloGaugeMetric.java     |   31 -
 .../baidu/palo/metric/PaloLongCounterMetric.java   |   42 -
 .../java/com/baidu/palo/metric/PaloMetric.java     |   68 -
 .../com/baidu/palo/metric/PaloMetricRegistry.java  |   47 -
 .../com/baidu/palo/metric/PaloMetricVisitor.java   |   42 -
 .../baidu/palo/metric/PrometheusMetricVisitor.java |  196 -
 .../java/com/baidu/palo/monitor/jvm/GcNames.java   |   59 -
 .../java/com/baidu/palo/monitor/jvm/JvmInfo.java   |  466 --
 .../com/baidu/palo/monitor/jvm/JvmService.java     |  117 -
 .../java/com/baidu/palo/monitor/jvm/JvmStats.java  |  478 --
 .../com/baidu/palo/monitor/unit/ByteSizeUnit.java  |  252 -
 .../com/baidu/palo/monitor/unit/ByteSizeValue.java |  251 -
 .../com/baidu/palo/monitor/unit/TimeValue.java     |  363 --
 .../java/com/baidu/palo/monitor/utils/Strings.java |   59 -
 .../java/com/baidu/palo/mysql/MysqlAuthPacket.java |  116 -
 .../java/com/baidu/palo/mysql/MysqlCapability.java |  151 -
 .../java/com/baidu/palo/mysql/MysqlChannel.java    |  273 -
 .../java/com/baidu/palo/mysql/MysqlColDef.java     |   80 -
 .../java/com/baidu/palo/mysql/MysqlColType.java    |   71 -
 .../java/com/baidu/palo/mysql/MysqlCommand.java    |   75 -
 .../java/com/baidu/palo/mysql/MysqlEofPacket.java  |   39 -
 .../java/com/baidu/palo/mysql/MysqlErrPacket.java  |   58 -
 .../com/baidu/palo/mysql/MysqlHandshakePacket.java |   81 -
 .../java/com/baidu/palo/mysql/MysqlOkPacket.java   |   63 -
 .../java/com/baidu/palo/mysql/MysqlPacket.java     |   28 -
 .../java/com/baidu/palo/mysql/MysqlPassword.java   |  281 -
 .../main/java/com/baidu/palo/mysql/MysqlProto.java |  269 -
 .../java/com/baidu/palo/mysql/MysqlSerializer.java |  225 -
 .../java/com/baidu/palo/mysql/MysqlServer.java     |  142 -
 .../baidu/palo/mysql/MysqlServerStatusFlag.java    |   34 -
 .../baidu/palo/mysql/privilege/DbPrivEntry.java    |  155 -
 .../baidu/palo/mysql/privilege/DbPrivTable.java    |   80 -
 .../palo/mysql/privilege/GlobalPrivEntry.java      |  145 -
 .../com/baidu/palo/mysql/privilege/PaloAuth.java   | 1292 -----
 .../baidu/palo/mysql/privilege/PaloPrivilege.java  |   77 -
 .../com/baidu/palo/mysql/privilege/PaloRole.java   |  152 -
 .../com/baidu/palo/mysql/privilege/PrivBitSet.java |  158 -
 .../com/baidu/palo/mysql/privilege/PrivEntry.java  |  236 -
 .../baidu/palo/mysql/privilege/PrivPredicate.java  |  105 -
 .../com/baidu/palo/mysql/privilege/PrivTable.java  |  228 -
 .../baidu/palo/mysql/privilege/RoleManager.java    |  187 -
 .../baidu/palo/mysql/privilege/TablePrivEntry.java |  151 -
 .../baidu/palo/mysql/privilege/TablePrivTable.java |  110 -
 .../baidu/palo/mysql/privilege/UserPrivTable.java  |  159 -
 .../baidu/palo/mysql/privilege/UserProperty.java   |  535 --
 .../palo/mysql/privilege/UserPropertyInfo.java     |   77 -
 .../palo/mysql/privilege/UserPropertyMgr.java      |  301 --
 .../baidu/palo/mysql/privilege/UserResource.java   |  152 -
 .../com/baidu/palo/mysql/privilege/WhiteList.java  |  329 --
 .../baidu/palo/persist/BackendIdsUpdateInfo.java   |   61 -
 .../java/com/baidu/palo/persist/CloneInfo.java     |  160 -
 .../java/com/baidu/palo/persist/ClusterInfo.java   |  112 -
 .../baidu/palo/persist/ConsistencyCheckInfo.java   |  130 -
 .../com/baidu/palo/persist/CreateTableInfo.java    |   90 -
 .../java/com/baidu/palo/persist/DatabaseInfo.java  |  109 -
 .../main/java/com/baidu/palo/persist/DropInfo.java |   95 -
 .../palo/persist/DropLinkDbAndUpdateDbInfo.java    |   80 -
 .../com/baidu/palo/persist/DropPartitionInfo.java  |   77 -
 .../main/java/com/baidu/palo/persist/EditLog.java  | 1048 ----
 .../baidu/palo/persist/EditLogFileInputStream.java |   54 -
 .../palo/persist/EditLogFileOutputStream.java      |  139 -
 .../com/baidu/palo/persist/EditLogInputStream.java |   41 -
 .../baidu/palo/persist/EditLogOutputStream.java    |  101 -
 .../java/com/baidu/palo/persist/LinkDbInfo.java    |   80 -
 .../java/com/baidu/palo/persist/MetaCleaner.java   |   94 -
 .../baidu/palo/persist/ModifyPartitionInfo.java    |  104 -
 .../java/com/baidu/palo/persist/OperationType.java |  139 -
 .../baidu/palo/persist/PartitionPersistInfo.java   |  112 -
 .../main/java/com/baidu/palo/persist/PrivInfo.java |  141 -
 .../java/com/baidu/palo/persist/RecoverInfo.java   |   65 -
 .../com/baidu/palo/persist/ReplicaPersistInfo.java |  408 --
 .../main/java/com/baidu/palo/persist/Storage.java  |  323 --
 .../java/com/baidu/palo/persist/StorageInfo.java   |   60 -
 .../java/com/baidu/palo/persist/TableInfo.java     |  122 -
 .../com/baidu/palo/planner/AggregationNode.java    |  308 --
 .../com/baidu/palo/planner/AnalyticEvalNode.java   |  263 -
 .../com/baidu/palo/planner/AnalyticPlanner.java    |  940 ----
 .../com/baidu/palo/planner/BrokerScanNode.java     |  689 ---
 .../java/com/baidu/palo/planner/CrossJoinNode.java |  103 -
 .../java/com/baidu/palo/planner/CsvScanNode.java   |  207 -
 .../java/com/baidu/palo/planner/DataPartition.java |  135 -
 .../main/java/com/baidu/palo/planner/DataSink.java |   59 -
 .../java/com/baidu/palo/planner/DataSplitSink.java |  399 --
 .../com/baidu/palo/planner/DataStreamSink.java     |   73 -
 .../com/baidu/palo/planner/DistributedPlanner.java |  941 ----
 .../com/baidu/palo/planner/DistributionPruner.java |   26 -
 .../java/com/baidu/palo/planner/EmptySetNode.java  |   70 -
 .../java/com/baidu/palo/planner/EsScanNode.java    |  258 -
 .../java/com/baidu/palo/planner/ExchangeNode.java  |  139 -
 .../java/com/baidu/palo/planner/ExportSink.java    |   86 -
 .../baidu/palo/planner/HashDistributionPruner.java |  113 -
 .../java/com/baidu/palo/planner/HashJoinNode.java  |  307 --
 .../baidu/palo/planner/ListPartitionPruner.java    |  190 -
 .../java/com/baidu/palo/planner/MergeJoinNode.java |  171 -
 .../java/com/baidu/palo/planner/MergeNode.java     |  213 -
 .../java/com/baidu/palo/planner/MysqlScanNode.java |  127 -
 .../com/baidu/palo/planner/MysqlTableSink.java     |   63 -
 .../com/baidu/palo/planner/OlapRewriteNode.java    |  125 -
 .../java/com/baidu/palo/planner/OlapScanNode.java  |  656 ---
 .../java/com/baidu/palo/planner/OlapTableSink.java |  303 --
 .../baidu/palo/planner/PartitionColumnFilter.java  |  133 -
 .../com/baidu/palo/planner/PartitionPruner.java    |   25 -
 .../java/com/baidu/palo/planner/PlanFragment.java  |  276 -
 .../com/baidu/palo/planner/PlanFragmentId.java     |   44 -
 .../main/java/com/baidu/palo/planner/PlanNode.java |  604 ---
 .../java/com/baidu/palo/planner/PlanNodeId.java    |   44 -
 .../main/java/com/baidu/palo/planner/Planner.java  |  236 -
 .../com/baidu/palo/planner/PlannerContext.java     |   70 -
 .../baidu/palo/planner/RangePartitionPruner.java   |  194 -
 .../java/com/baidu/palo/planner/ResultSink.java    |   64 -
 .../main/java/com/baidu/palo/planner/ScanNode.java |   84 -
 .../com/baidu/palo/planner/SchemaScanNode.java     |  129 -
 .../java/com/baidu/palo/planner/SelectNode.java    |   91 -
 .../com/baidu/palo/planner/SingleNodePlanner.java  | 1536 ------
 .../main/java/com/baidu/palo/planner/SortNode.java |  242 -
 .../com/baidu/palo/planner/StreamLoadPlanner.java  |  142 -
 .../com/baidu/palo/planner/StreamLoadScanNode.java |  374 --
 .../java/com/baidu/palo/planner/UnionNode.java     |  334 --
 .../main/java/com/baidu/palo/qe/AuditBuilder.java  |   39 -
 .../java/com/baidu/palo/qe/ConnectContext.java     |  348 --
 .../java/com/baidu/palo/qe/ConnectProcessor.java   |  399 --
 .../java/com/baidu/palo/qe/ConnectScheduler.java   |  179 -
 .../main/java/com/baidu/palo/qe/Coordinator.java   | 1598 ------
 .../main/java/com/baidu/palo/qe/DdlExecutor.java   |  156 -
 .../java/com/baidu/palo/qe/GlobalVariable.java     |   59 -
 .../main/java/com/baidu/palo/qe/HelpCategory.java  |   61 -
 fe/src/main/java/com/baidu/palo/qe/HelpModule.java |  327 --
 .../java/com/baidu/palo/qe/HelpObjectIface.java    |   24 -
 .../java/com/baidu/palo/qe/HelpObjectLoader.java   |   86 -
 fe/src/main/java/com/baidu/palo/qe/HelpTopic.java  |   97 -
 .../java/com/baidu/palo/qe/JournalObservable.java  |   96 -
 .../java/com/baidu/palo/qe/JournalObserver.java    |  134 -
 .../java/com/baidu/palo/qe/MasterOpExecutor.java   |  130 -
 .../main/java/com/baidu/palo/qe/MultiLoadMgr.java  |  387 --
 .../main/java/com/baidu/palo/qe/QeProcessor.java   |   36 -
 .../java/com/baidu/palo/qe/QeProcessorImpl.java    |  143 -
 fe/src/main/java/com/baidu/palo/qe/QeService.java  |   95 -
 fe/src/main/java/com/baidu/palo/qe/QueryState.java |  131 -
 .../com/baidu/palo/qe/QueryStatisticsItem.java     |  196 -
 .../java/com/baidu/palo/qe/ResultReceiver.java     |  150 -
 .../java/com/baidu/palo/qe/SessionVariable.java    |  499 --
 .../main/java/com/baidu/palo/qe/SetExecutor.java   |   61 -
 .../main/java/com/baidu/palo/qe/ShowExecutor.java  | 1082 ----
 .../main/java/com/baidu/palo/qe/ShowResultSet.java |  122 -
 .../com/baidu/palo/qe/ShowResultSetMetaData.java   |   72 -
 .../java/com/baidu/palo/qe/SimpleScheduler.java    |  204 -
 .../main/java/com/baidu/palo/qe/StmtExecutor.java  |  794 ---
 .../main/java/com/baidu/palo/qe/VariableMgr.java   |  541 --
 .../baidu/palo/rewrite/BetweenToCompoundRule.java  |   67 -
 .../com/baidu/palo/rewrite/ExprRewriteRule.java    |   47 -
 .../java/com/baidu/palo/rewrite/ExprRewriter.java  |  100 -
 .../rewrite/NormalizeBinaryPredicatesRule.java     |   52 -
 .../java/com/baidu/palo/rpc/AttachmentRequest.java |   48 -
 .../com/baidu/palo/rpc/BackendServiceProxy.java    |  155 -
 .../baidu/palo/rpc/PCancelPlanFragmentRequest.java |   30 -
 .../baidu/palo/rpc/PCancelPlanFragmentResult.java  |   25 -
 .../baidu/palo/rpc/PExecPlanFragmentRequest.java   |   22 -
 .../baidu/palo/rpc/PExecPlanFragmentResult.java    |   25 -
 .../java/com/baidu/palo/rpc/PFetchDataRequest.java |   29 -
 .../java/com/baidu/palo/rpc/PFetchDataResult.java  |   29 -
 .../palo/rpc/PFetchFragmentExecInfoRequest.java    |   35 -
 .../palo/rpc/PFetchFragmentExecInfosResult.java    |   30 -
 .../java/com/baidu/palo/rpc/PFragmentExecInfo.java |   31 -
 .../java/com/baidu/palo/rpc/PInternalService.java  |   39 -
 fe/src/main/java/com/baidu/palo/rpc/PStatus.java   |   29 -
 fe/src/main/java/com/baidu/palo/rpc/PUniqueId.java |   34 -
 .../main/java/com/baidu/palo/rpc/RpcException.java |   37 -
 .../palo/rpc/ThriftClientAttachmentHandler.java    |   31 -
 .../java/com/baidu/palo/service/ExecuteEnv.java    |   56 -
 .../main/java/com/baidu/palo/service/FeServer.java |   68 -
 .../com/baidu/palo/service/FrontendOptions.java    |  124 -
 .../baidu/palo/service/FrontendServiceImpl.java    |  741 ---
 .../main/java/com/baidu/palo/system/Backend.java   |  535 --
 .../java/com/baidu/palo/system/BackendEvent.java   |   58 -
 .../main/java/com/baidu/palo/system/Frontend.java  |  117 -
 .../com/baidu/palo/system/SystemInfoObserver.java  |   47 -
 .../com/baidu/palo/system/SystemInfoService.java   | 1219 -----
 .../java/com/baidu/palo/task/AgentBatchTask.java   |  324 --
 .../main/java/com/baidu/palo/task/AgentClient.java |  198 -
 .../main/java/com/baidu/palo/task/AgentTask.java   |  106 -
 .../com/baidu/palo/task/AgentTaskExecutor.java     |   34 -
 .../java/com/baidu/palo/task/AgentTaskQueue.java   |  244 -
 .../java/com/baidu/palo/task/CancelDeleteTask.java |   51 -
 .../com/baidu/palo/task/CheckConsistencyTask.java  |   54 -
 .../java/com/baidu/palo/task/ClearAlterTask.java   |   34 -
 .../com/baidu/palo/task/ClearTransactionTask.java  |   40 -
 .../main/java/com/baidu/palo/task/CloneTask.java   |   68 -
 .../com/baidu/palo/task/CreateReplicaTask.java     |  137 -
 .../java/com/baidu/palo/task/CreateRollupTask.java |  145 -
 .../main/java/com/baidu/palo/task/DirMoveTask.java |   65 -
 .../java/com/baidu/palo/task/DownloadTask.java     |   69 -
 .../java/com/baidu/palo/task/DropReplicaTask.java  |   40 -
 .../com/baidu/palo/task/ExportExportingTask.java   |  332 --
 .../com/baidu/palo/task/ExportPendingTask.java     |  132 -
 .../com/baidu/palo/task/HadoopLoadEtlTask.java     |  112 -
 .../com/baidu/palo/task/HadoopLoadPendingTask.java |  671 ---
 .../com/baidu/palo/task/InsertLoadEtlTask.java     |   36 -
 .../main/java/com/baidu/palo/task/LoadEtlTask.java |  325 --
 .../java/com/baidu/palo/task/LoadPendingTask.java  |  117 -
 .../main/java/com/baidu/palo/task/MasterTask.java  |   44 -
 .../com/baidu/palo/task/MasterTaskExecutor.java    |   94 -
 .../java/com/baidu/palo/task/MiniLoadEtlTask.java  |  196 -
 .../com/baidu/palo/task/MiniLoadPendingTask.java   |  209 -
 .../com/baidu/palo/task/PublishVersionTask.java    |   62 -
 .../java/com/baidu/palo/task/PullLoadEtlTask.java  |  135 -
 .../main/java/com/baidu/palo/task/PullLoadJob.java |  106 -
 .../java/com/baidu/palo/task/PullLoadJobMgr.java   |  190 -
 .../com/baidu/palo/task/PullLoadPendingTask.java   |  129 -
 .../java/com/baidu/palo/task/PullLoadTask.java     |  232 -
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   |  157 -
 fe/src/main/java/com/baidu/palo/task/PushTask.java |  214 -
 .../com/baidu/palo/task/RecoverTabletTask.java     |   42 -
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   |   36 -
 .../java/com/baidu/palo/task/SchemaChangeTask.java |  130 -
 .../java/com/baidu/palo/task/SnapshotTask.java     |   82 -
 .../baidu/palo/task/StorageMediaMigrationTask.java |   47 -
 .../main/java/com/baidu/palo/task/UploadTask.java  |   65 -
 .../transaction/BeginTransactionException.java     |   16 -
 .../palo/transaction/GlobalTransactionMgr.java     | 1173 -----
 .../IllegalTransactionParameterException.java      |   16 -
 .../transaction/LabelAlreadyExistsException.java   |   36 -
 .../palo/transaction/PartitionCommitInfo.java      |   77 -
 .../palo/transaction/PublishVersionDaemon.java     |  195 -
 .../baidu/palo/transaction/TableCommitInfo.java    |   88 -
 .../baidu/palo/transaction/TabletCommitInfo.java   |   66 -
 .../TransactionCommitFailedException.java          |   31 -
 .../palo/transaction/TransactionIDGenerator.java   |   73 -
 .../baidu/palo/transaction/TransactionState.java   |  322 --
 .../baidu/palo/transaction/TransactionStatus.java  |   69 -
 fe/src/main/java/org/apache/doris/PaloFe.java      |  268 +
 fe/src/main/java/org/apache/doris/alter/Alter.java |  260 +
 .../java/org/apache/doris/alter/AlterHandler.java  |  299 ++
 .../main/java/org/apache/doris/alter/AlterJob.java |  344 ++
 .../apache/doris/alter/DecommissionBackendJob.java |  626 +++
 .../java/org/apache/doris/alter/RollupHandler.java |  763 +++
 .../java/org/apache/doris/alter/RollupJob.java     | 1087 ++++
 .../apache/doris/alter/SchemaChangeHandler.java    | 1328 +++++
 .../org/apache/doris/alter/SchemaChangeJob.java    | 1243 +++++
 .../java/org/apache/doris/alter/SystemHandler.java |  366 ++
 .../apache/doris/analysis/AbstractBackupStmt.java  |  164 +
 .../apache/doris/analysis/AddBackendClause.java    |   77 +
 .../org/apache/doris/analysis/AddColumnClause.java |  111 +
 .../apache/doris/analysis/AddColumnsClause.java    |   99 +
 .../apache/doris/analysis/AddFollowerClause.java   |   37 +
 .../apache/doris/analysis/AddObserverClause.java   |   37 +
 .../apache/doris/analysis/AddPartitionClause.java  |  131 +
 .../org/apache/doris/analysis/AddRollupClause.java |  184 +
 .../analysis/AdminShowReplicaDistributionStmt.java |   93 +
 .../doris/analysis/AdminShowReplicaStatusStmt.java |  161 +
 .../org/apache/doris/analysis/AggregateInfo.java   |  794 +++
 .../apache/doris/analysis/AggregateInfoBase.java   |  229 +
 .../apache/doris/analysis/AggregateParamsList.java |   64 +
 .../org/apache/doris/analysis/AlterClause.java     |   78 +
 .../apache/doris/analysis/AlterClusterClause.java  |   94 +
 .../apache/doris/analysis/AlterClusterStmt.java    |   89 +
 .../apache/doris/analysis/AlterClusterType.java    |   32 +
 .../doris/analysis/AlterDatabaseQuotaStmt.java     |   73 +
 .../apache/doris/analysis/AlterDatabaseRename.java |   84 +
 .../doris/analysis/AlterLoadErrorUrlClause.java    |   63 +
 .../org/apache/doris/analysis/AlterSystemStmt.java |   72 +
 .../org/apache/doris/analysis/AlterTableStmt.java  |  129 +
 .../org/apache/doris/analysis/AlterUserClause.java |  124 +
 .../org/apache/doris/analysis/AlterUserType.java   |   32 +
 .../org/apache/doris/analysis/AnalyticExpr.java    |  820 +++
 .../org/apache/doris/analysis/AnalyticInfo.java    |  191 +
 .../org/apache/doris/analysis/AnalyticWindow.java  |  502 ++
 .../java/org/apache/doris/analysis/Analyzer.java   | 1661 ++++++
 .../org/apache/doris/analysis/ArithmeticExpr.java  |  273 +
 .../org/apache/doris/analysis/BackendClause.java   |   67 +
 .../java/org/apache/doris/analysis/BackupStmt.java |  109 +
 .../org/apache/doris/analysis/BaseTableRef.java    |   78 +
 .../apache/doris/analysis/BetweenPredicate.java    |   99 +
 .../org/apache/doris/analysis/BinaryPredicate.java |  494 ++
 .../org/apache/doris/analysis/BoolLiteral.java     |  126 +
 .../java/org/apache/doris/analysis/BrokerDesc.java |   81 +
 .../doris/analysis/BuiltinAggregateFunction.java   |  152 +
 .../doris/analysis/CancelAlterSystemStmt.java      |   63 +
 .../doris/analysis/CancelAlterTableStmt.java       |   80 +
 .../apache/doris/analysis/CancelBackupStmt.java    |   84 +
 .../org/apache/doris/analysis/CancelLoadStmt.java  |  123 +
 .../java/org/apache/doris/analysis/CancelStmt.java |   20 +
 .../java/org/apache/doris/analysis/CaseExpr.java   |  254 +
 .../org/apache/doris/analysis/CaseWhenClause.java  |   44 +
 .../java/org/apache/doris/analysis/CastExpr.java   |  263 +
 .../org/apache/doris/analysis/ClusterName.java     |   73 +
 .../org/apache/doris/analysis/ColumnPosition.java  |   72 +
 .../apache/doris/analysis/ColumnRenameClause.java  |   75 +
 .../org/apache/doris/analysis/ColumnSeparator.java |  105 +
 .../apache/doris/analysis/CompoundPredicate.java   |  192 +
 .../apache/doris/analysis/CreateClusterStmt.java   |  119 +
 .../org/apache/doris/analysis/CreateDbStmt.java    |   78 +
 .../apache/doris/analysis/CreateFunctionStmt.java  |  101 +
 .../doris/analysis/CreateRepositoryStmt.java       |  103 +
 .../org/apache/doris/analysis/CreateRoleStmt.java  |   45 +
 .../doris/analysis/CreateTableAsSelectStmt.java    |  120 +
 .../org/apache/doris/analysis/CreateTableStmt.java |  520 ++
 .../org/apache/doris/analysis/CreateUserStmt.java  |  164 +
 .../org/apache/doris/analysis/CreateViewStmt.java  |  169 +
 .../org/apache/doris/analysis/DataDescription.java |  465 ++
 .../org/apache/doris/analysis/DateLiteral.java     |  203 +
 .../java/org/apache/doris/analysis/DdlStmt.java    |   28 +
 .../org/apache/doris/analysis/DecimalLiteral.java  |  229 +
 .../doris/analysis/DecommissionBackendClause.java  |   56 +
 .../java/org/apache/doris/analysis/DeleteStmt.java |  152 +
 .../org/apache/doris/analysis/DescribeStmt.java    |  253 +
 .../org/apache/doris/analysis/DescriptorTable.java |  183 +
 .../apache/doris/analysis/DistributionDesc.java    |   82 +
 .../apache/doris/analysis/DropBackendClause.java   |   49 +
 .../org/apache/doris/analysis/DropClusterStmt.java |   82 +
 .../apache/doris/analysis/DropColumnClause.java    |   76 +
 .../java/org/apache/doris/analysis/DropDbStmt.java |   78 +
 .../apache/doris/analysis/DropFollowerClause.java  |   32 +
 .../apache/doris/analysis/DropFunctionStmt.java    |   47 +
 .../apache/doris/analysis/DropObserverClause.java  |   32 +
 .../apache/doris/analysis/DropPartitionClause.java |   67 +
 .../apache/doris/analysis/DropRepositoryStmt.java  |   62 +
 .../org/apache/doris/analysis/DropRoleStmt.java    |   45 +
 .../apache/doris/analysis/DropRollupClause.java    |   62 +
 .../org/apache/doris/analysis/DropTableStmt.java   |   87 +
 .../org/apache/doris/analysis/DropUserStmt.java    |   65 +
 .../java/org/apache/doris/analysis/EmptyStmt.java  |   29 +
 .../java/org/apache/doris/analysis/EnterStmt.java  |   73 +
 .../org/apache/doris/analysis/ExistsPredicate.java |   76 +
 .../java/org/apache/doris/analysis/ExportStmt.java |  267 +
 .../main/java/org/apache/doris/analysis/Expr.java  | 1516 ++++++
 .../java/org/apache/doris/analysis/ExprId.java     |   45 +
 .../apache/doris/analysis/ExprSubstitutionMap.java |  190 +
 .../org/apache/doris/analysis/FloatLiteral.java    |  194 +
 .../java/org/apache/doris/analysis/FromClause.java |  156 +
 .../org/apache/doris/analysis/FrontendClause.java  |   82 +
 .../org/apache/doris/analysis/FunctionArgs.java    |   51 +
 .../apache/doris/analysis/FunctionCallExpr.java    |  633 +++
 .../org/apache/doris/analysis/FunctionName.java    |  181 +
 .../org/apache/doris/analysis/FunctionParams.java  |  113 +
 .../java/org/apache/doris/analysis/GrantStmt.java  |  144 +
 .../doris/analysis/HashDistributionDesc.java       |  146 +
 .../java/org/apache/doris/analysis/HdfsURI.java    |   86 +
 .../java/org/apache/doris/analysis/HelpStmt.java   |   87 +
 .../apache/doris/analysis/ImportColumnDesc.java    |   30 +
 .../apache/doris/analysis/ImportColumnsStmt.java   |   23 +
 .../org/apache/doris/analysis/ImportWhereStmt.java |   21 +
 .../org/apache/doris/analysis/InPredicate.java     |  256 +
 .../apache/doris/analysis/InformationFunction.java |   82 +
 .../org/apache/doris/analysis/InlineViewRef.java   |  438 ++
 .../org/apache/doris/analysis/InsertSource.java    |   37 +
 .../java/org/apache/doris/analysis/InsertStmt.java |  491 ++
 .../org/apache/doris/analysis/InsertTarget.java    |   41 +
 .../java/org/apache/doris/analysis/IntLiteral.java |  343 ++
 .../org/apache/doris/analysis/IsNullPredicate.java |  136 +
 .../org/apache/doris/analysis/JoinOperator.java    |  104 +
 .../java/org/apache/doris/analysis/KeysDesc.java   |  144 +
 .../java/org/apache/doris/analysis/KillStmt.java   |   71 +
 .../java/org/apache/doris/analysis/LabelName.java  |  116 +
 .../org/apache/doris/analysis/LargeIntLiteral.java |  228 +
 .../org/apache/doris/analysis/LikePredicate.java   |  142 +
 .../org/apache/doris/analysis/LimitElement.java    |  105 +
 .../java/org/apache/doris/analysis/LinkDbStmt.java |   93 +
 .../org/apache/doris/analysis/LiteralExpr.java     |  196 +
 .../java/org/apache/doris/analysis/LoadStmt.java   |  247 +
 .../java/org/apache/doris/analysis/MaxLiteral.java |   79 +
 .../org/apache/doris/analysis/MigrateDbStmt.java   |   87 +
 .../apache/doris/analysis/ModifyBrokerClause.java  |  108 +
 .../apache/doris/analysis/ModifyColumnClause.java  |   95 +
 .../doris/analysis/ModifyPartitionClause.java      |   80 +
 .../analysis/ModifyTablePropertiesClause.java      |   87 +
 .../org/apache/doris/analysis/NullLiteral.java     |  150 +
 .../org/apache/doris/analysis/OpcodeRegistry.java  |  338 ++
 .../org/apache/doris/analysis/OrderByElement.java  |  158 +
 .../java/org/apache/doris/analysis/ParseNode.java  |   42 +
 .../org/apache/doris/analysis/PartitionDesc.java   |   83 +
 .../apache/doris/analysis/PartitionKeyDesc.java    |  120 +
 .../org/apache/doris/analysis/PartitionName.java   |  204 +
 .../doris/analysis/PartitionRenameClause.java      |   75 +
 .../java/org/apache/doris/analysis/Predicate.java  |  109 +
 .../java/org/apache/doris/analysis/QueryStmt.java  |  535 ++
 .../doris/analysis/RandomDistributionDesc.java     |   77 +
 .../apache/doris/analysis/RangePartitionDesc.java  |  223 +
 .../org/apache/doris/analysis/RecoverDbStmt.java   |   69 +
 .../doris/analysis/RecoverPartitionStmt.java       |   83 +
 .../apache/doris/analysis/RecoverTableStmt.java    |   78 +
 .../org/apache/doris/analysis/RedirectStatus.java  |   56 +
 .../doris/analysis/ReorderColumnsClause.java       |   93 +
 .../org/apache/doris/analysis/RestoreStmt.java     |  144 +
 .../java/org/apache/doris/analysis/RevokeStmt.java |  133 +
 .../apache/doris/analysis/RollupRenameClause.java  |   75 +
 .../org/apache/doris/analysis/SchemaTableType.java |  105 +
 .../java/org/apache/doris/analysis/SelectList.java |   98 +
 .../org/apache/doris/analysis/SelectListItem.java  |  116 +
 .../java/org/apache/doris/analysis/SelectStmt.java | 1348 +++++
 .../org/apache/doris/analysis/SetNamesVar.java     |   71 +
 .../java/org/apache/doris/analysis/SetPassVar.java |  100 +
 .../java/org/apache/doris/analysis/SetStmt.java    |   96 +
 .../org/apache/doris/analysis/SetTransaction.java  |   25 +
 .../java/org/apache/doris/analysis/SetType.java    |   63 +
 .../apache/doris/analysis/SetUserPropertyStmt.java |  109 +
 .../apache/doris/analysis/SetUserPropertyVar.java  |  114 +
 .../java/org/apache/doris/analysis/SetVar.java     |  110 +
 .../org/apache/doris/analysis/ShowAlterStmt.java   |  158 +
 .../org/apache/doris/analysis/ShowAuthorStmt.java  |   49 +
 .../apache/doris/analysis/ShowBackendsStmt.java    |   56 +
 .../org/apache/doris/analysis/ShowBackupStmt.java  |   91 +
 .../org/apache/doris/analysis/ShowBrokerStmt.java  |   52 +
 .../org/apache/doris/analysis/ShowCharsetStmt.java |   45 +
 .../org/apache/doris/analysis/ShowClusterStmt.java |   73 +
 .../apache/doris/analysis/ShowCollationStmt.java   |   48 +
 .../org/apache/doris/analysis/ShowColumnStmt.java  |  171 +
 .../apache/doris/analysis/ShowCreateDbStmt.java    |   88 +
 .../apache/doris/analysis/ShowCreateTableStmt.java |  102 +
 .../org/apache/doris/analysis/ShowDataStmt.java    |  282 +
 .../java/org/apache/doris/analysis/ShowDbStmt.java |   97 +
 .../org/apache/doris/analysis/ShowDeleteStmt.java  |   81 +
 .../org/apache/doris/analysis/ShowEnginesStmt.java |   52 +
 .../org/apache/doris/analysis/ShowEventsStmt.java  |   51 +
 .../org/apache/doris/analysis/ShowExportStmt.java  |  276 +
 .../apache/doris/analysis/ShowFrontendsStmt.java   |   52 +
 .../org/apache/doris/analysis/ShowGrantsStmt.java  |  100 +
 .../org/apache/doris/analysis/ShowKeysStmt.java    |   48 +
 .../org/apache/doris/analysis/ShowLoadStmt.java    |  281 +
 .../doris/analysis/ShowLoadWarningsStmt.java       |  194 +
 .../apache/doris/analysis/ShowMigrationsStmt.java  |   65 +
 .../apache/doris/analysis/ShowOpenTableStmt.java   |   40 +
 .../apache/doris/analysis/ShowPartitionsStmt.java  |  140 +
 .../org/apache/doris/analysis/ShowPluginsStmt.java |   52 +
 .../org/apache/doris/analysis/ShowProcStmt.java    |   80 +
 .../apache/doris/analysis/ShowProcedureStmt.java   |   47 +
 .../apache/doris/analysis/ShowProcesslistStmt.java |   57 +
 .../doris/analysis/ShowRepositoriesStmt.java       |   48 +
 .../org/apache/doris/analysis/ShowRestoreStmt.java |  102 +
 .../org/apache/doris/analysis/ShowRolesStmt.java   |   58 +
 .../org/apache/doris/analysis/ShowRollupStmt.java  |   91 +
 .../apache/doris/analysis/ShowSnapshotStmt.java    |  156 +
 .../org/apache/doris/analysis/ShowStatusStmt.java  |   39 +
 .../java/org/apache/doris/analysis/ShowStmt.java   |   32 +
 .../apache/doris/analysis/ShowTableStatusStmt.java |  192 +
 .../org/apache/doris/analysis/ShowTableStmt.java   |  150 +
 .../org/apache/doris/analysis/ShowTabletStmt.java  |  121 +
 .../apache/doris/analysis/ShowTriggersStmt.java    |   46 +
 .../doris/analysis/ShowUserPropertyStmt.java       |  121 +
 .../org/apache/doris/analysis/ShowUserStmt.java    |   41 +
 .../apache/doris/analysis/ShowVariablesStmt.java   |  128 +
 .../org/apache/doris/analysis/ShowWarningStmt.java |   39 +
 .../apache/doris/analysis/ShowWhiteListStmt.java   |   37 +
 .../doris/analysis/SingleRangePartitionDesc.java   |  221 +
 .../org/apache/doris/analysis/SlotDescriptor.java  |  269 +
 .../java/org/apache/doris/analysis/SlotId.java     |   39 +
 .../java/org/apache/doris/analysis/SlotRef.java    |  308 ++
 .../java/org/apache/doris/analysis/SortInfo.java   |  260 +
 .../org/apache/doris/analysis/StatementBase.java   |  185 +
 .../org/apache/doris/analysis/StmtRewriter.java    |  914 ++++
 .../org/apache/doris/analysis/StringLiteral.java   |  226 +
 .../java/org/apache/doris/analysis/Subquery.java   |  187 +
 .../java/org/apache/doris/analysis/SyncStmt.java   |   38 +
 .../org/apache/doris/analysis/SysVariableDesc.java |  134 +
 .../java/org/apache/doris/analysis/TableName.java  |  144 +
 .../org/apache/doris/analysis/TablePattern.java    |  141 +
 .../java/org/apache/doris/analysis/TableRef.java   |  707 +++
 .../apache/doris/analysis/TableRenameClause.java   |   65 +
 .../doris/analysis/TimestampArithmeticExpr.java    |  331 ++
 .../java/org/apache/doris/analysis/ToSqlUtils.java |   56 +
 .../org/apache/doris/analysis/TupleDescriptor.java |  277 +
 .../java/org/apache/doris/analysis/TupleId.java    |   42 +
 .../doris/analysis/TupleIsNullPredicate.java       |  154 +
 .../java/org/apache/doris/analysis/UnionStmt.java  |  679 +++
 .../org/apache/doris/analysis/UnsupportedStmt.java |   42 +
 .../java/org/apache/doris/analysis/UseStmt.java    |   78 +
 .../java/org/apache/doris/analysis/UserDesc.java   |   50 +
 .../org/apache/doris/analysis/UserIdentity.java    |  205 +
 .../java/org/apache/doris/analysis/WithClause.java |  138 +
 .../apache/doris/backup/AbstractBackupJob_D.java   |  243 +
 .../java/org/apache/doris/backup/AbstractJob.java  |  244 +
 .../doris/backup/AsynchronousCmdExecutor.java      |   45 +
 .../org/apache/doris/backup/BackupHandler.java     |  554 ++
 .../java/org/apache/doris/backup/BackupJob.java    |  803 +++
 .../org/apache/doris/backup/BackupJobInfo.java     |  507 ++
 .../java/org/apache/doris/backup/BackupJob_D.java  |  944 ++++
 .../java/org/apache/doris/backup/BackupMeta.java   |  119 +
 .../org/apache/doris/backup/BackupVersion.java     |   20 +
 .../java/org/apache/doris/backup/BlobStorage.java  |  700 +++
 .../org/apache/doris/backup/CommandBuilder.java    |  117 +
 .../java/org/apache/doris/backup/DirSaver.java     |  217 +
 .../java/org/apache/doris/backup/FileSaver.java    |   42 +
 .../java/org/apache/doris/backup/FileSaverI.java   |  138 +
 .../org/apache/doris/backup/MetaDownloadTask.java  |  364 ++
 .../org/apache/doris/backup/MetaUploadTask.java    |   41 +
 .../java/org/apache/doris/backup/ObjectWriter.java |  182 +
 .../java/org/apache/doris/backup/PathBuilder.java  |  190 +
 .../java/org/apache/doris/backup/RemoteFile.java   |   56 +
 .../java/org/apache/doris/backup/Repository.java   |  651 +++
 .../org/apache/doris/backup/RepositoryMgr.java     |  154 +
 .../apache/doris/backup/RestoreFileMapping.java    |  203 +
 .../java/org/apache/doris/backup/RestoreJob.java   | 1476 ++++++
 .../java/org/apache/doris/backup/RestoreJob_D.java |  885 ++++
 .../org/apache/doris/backup/ResultfulTask.java     |   31 +
 .../org/apache/doris/backup/SaveManifestTask.java  |  225 +
 .../java/org/apache/doris/backup/SnapshotInfo.java |  161 +
 .../main/java/org/apache/doris/backup/Status.java  |   68 +
 .../org/apache/doris/catalog/AccessPrivilege.java  |  115 +
 .../apache/doris/catalog/AggregateFunction.java    |  246 +
 .../org/apache/doris/catalog/AggregateType.java    |  130 +
 .../java/org/apache/doris/catalog/ArrayType.java   |   83 +
 .../java/org/apache/doris/catalog/BrokerMgr.java   |  427 ++
 .../java/org/apache/doris/catalog/BrokerTable.java |  232 +
 .../java/org/apache/doris/catalog/Catalog.java     | 5495 ++++++++++++++++++++
 .../apache/doris/catalog/CatalogRecycleBin.java    |  859 +++
 .../main/java/org/apache/doris/catalog/Column.java |  513 ++
 .../java/org/apache/doris/catalog/ColumnStats.java |  188 +
 .../java/org/apache/doris/catalog/ColumnType.java  |  418 ++
 .../org/apache/doris/catalog/DataProperty.java     |  101 +
 .../java/org/apache/doris/catalog/Database.java    |  485 ++
 .../java/org/apache/doris/catalog/DiskInfo.java    |  124 +
 .../org/apache/doris/catalog/DistributionInfo.java |  114 +
 .../org/apache/doris/catalog/DomainResolver.java   |  176 +
 .../java/org/apache/doris/catalog/EsTable.java     |  225 +
 .../java/org/apache/doris/catalog/Function.java    |  445 ++
 .../java/org/apache/doris/catalog/FunctionSet.java | 1029 ++++
 .../apache/doris/catalog/HashDistributionInfo.java |  140 +
 .../org/apache/doris/catalog/InfoSchemaDb.java     |  101 +
 .../java/org/apache/doris/catalog/InlineView.java  |   63 +
 .../java/org/apache/doris/catalog/KeysType.java    |   61 +
 .../org/apache/doris/catalog/KuduPartition.java    |  134 +
 .../java/org/apache/doris/catalog/KuduTable.java   |  146 +
 .../java/org/apache/doris/catalog/MapType.java     |   94 +
 .../apache/doris/catalog/MaterializedIndex.java    |  252 +
 .../java/org/apache/doris/catalog/MetaObject.java  |   73 +
 .../org/apache/doris/catalog/MetaReplayState.java  |   74 +
 .../apache/doris/catalog/MetaSignatureVersion.java |   27 +
 .../org/apache/doris/catalog/MetadataViewer.java   |  245 +
 .../java/org/apache/doris/catalog/MysqlTable.java  |  225 +
 .../java/org/apache/doris/catalog/OlapTable.java   |  935 ++++
 .../java/org/apache/doris/catalog/Partition.java   |  336 ++
 .../org/apache/doris/catalog/PartitionInfo.java    |  139 +
 .../org/apache/doris/catalog/PartitionKey.java     |  316 ++
 .../org/apache/doris/catalog/PartitionType.java    |   55 +
 .../org/apache/doris/catalog/PrimitiveType.java    |  755 +++
 .../doris/catalog/RandomDistributionInfo.java      |   90 +
 .../apache/doris/catalog/RangePartitionInfo.java   |  438 ++
 .../java/org/apache/doris/catalog/Replica.java     |  368 ++
 .../org/apache/doris/catalog/ResourceGroup.java    |  148 +
 .../org/apache/doris/catalog/ResourceType.java     |  114 +
 .../org/apache/doris/catalog/ScalarFunction.java   |  242 +
 .../java/org/apache/doris/catalog/ScalarType.java  |  582 +++
 .../java/org/apache/doris/catalog/SchemaTable.java |  659 +++
 .../apache/doris/catalog/SinglePartitionInfo.java  |   47 +
 .../java/org/apache/doris/catalog/StructField.java |  136 +
 .../java/org/apache/doris/catalog/StructType.java  |  120 +
 .../main/java/org/apache/doris/catalog/Table.java  |  265 +
 .../main/java/org/apache/doris/catalog/Tablet.java |  295 ++
 .../apache/doris/catalog/TabletInvertedIndex.java  |  522 ++
 .../java/org/apache/doris/catalog/TabletMeta.java  |  135 +
 .../org/apache/doris/catalog/TabletStatMgr.java    |  141 +
 .../main/java/org/apache/doris/catalog/Type.java   |  924 ++++
 fe/src/main/java/org/apache/doris/catalog/Uda.java |  125 +
 fe/src/main/java/org/apache/doris/catalog/Udf.java |   68 +
 .../main/java/org/apache/doris/catalog/View.java   |  186 +
 .../apache/doris/clone/BackendLoadStatistic.java   |  155 +
 .../java/org/apache/doris/clone/BalanceStatus.java |   72 +
 fe/src/main/java/org/apache/doris/clone/Clone.java |  629 +++
 .../java/org/apache/doris/clone/CloneChecker.java  | 1629 ++++++
 .../main/java/org/apache/doris/clone/CloneJob.java |  172 +
 .../apache/doris/clone/ClusterLoadStatistic.java   |  228 +
 .../apache/doris/clone/LoadBalanceException.java   |   23 +
 .../java/org/apache/doris/clone/LoadBalancer.java  |   55 +
 .../apache/doris/clone/RootPathLoadStatistic.java  |  104 +
 .../java/org/apache/doris/cluster/BaseParam.java   |  110 +
 .../java/org/apache/doris/cluster/Cluster.java     |  267 +
 .../org/apache/doris/cluster/ClusterNamespace.java |   78 +
 .../org/apache/doris/common/AliasGenerator.java    |   55 +
 .../org/apache/doris/common/AnalysisException.java |   34 +
 .../java/org/apache/doris/common/AuditLog.java     |   62 +
 .../doris/common/AuthenticationException.java      |   34 +
 fe/src/main/java/org/apache/doris/common/CIDR.java |  186 +
 .../org/apache/doris/common/CaseSensibility.java   |   41 +
 .../java/org/apache/doris/common/ClientPool.java   |   76 +
 .../apache/doris/common/ColumnAliasGenerator.java  |   36 +
 .../apache/doris/common/CommandLineOptions.java    |   48 +
 .../main/java/org/apache/doris/common/Config.java  |  650 +++
 .../java/org/apache/doris/common/ConfigBase.java   |  198 +
 .../org/apache/doris/common/ConfigWatcher.java     |  118 +
 .../java/org/apache/doris/common/DdlException.java |   31 +
 .../java/org/apache/doris/common/ErrorCode.java    |  233 +
 .../java/org/apache/doris/common/ErrorReport.java  |   84 +
 .../java/org/apache/doris/common/FeConstants.java  |   42 +
 .../org/apache/doris/common/FeMetaVersion.java     |  103 +
 .../java/org/apache/doris/common/FeNameFormat.java |  106 +
 .../java/org/apache/doris/common/GenericPool.java  |  153 +
 fe/src/main/java/org/apache/doris/common/Id.java   |   75 +
 .../java/org/apache/doris/common/IdGenerator.java  |   31 +
 .../org/apache/doris/common/LoadException.java     |   34 +
 .../java/org/apache/doris/common/Log4jConfig.java  |  224 +
 .../org/apache/doris/common/MarkDownParser.java    |  149 +
 .../apache/doris/common/MarkedCountDownLatch.java  |   55 +
 .../apache/doris/common/MetaNotFoundException.java |   34 +
 .../doris/common/NotImplementedException.java      |   30 +
 fe/src/main/java/org/apache/doris/common/Pair.java |   63 +
 .../org/apache/doris/common/PatternMatcher.java    |  172 +
 .../java/org/apache/doris/common/Reference.java    |   50 +
 .../main/java/org/apache/doris/common/Status.java  |  135 +
 .../org/apache/doris/common/SystemIdGenerator.java |   32 +
 .../apache/doris/common/TableAliasGenerator.java   |   42 +
 .../org/apache/doris/common/ThreadIdConverter.java |   43 +
 .../java/org/apache/doris/common/ThriftServer.java |  133 +
 .../apache/doris/common/ThriftServerContext.java   |   35 +
 .../doris/common/ThriftServerEventProcessor.java   |  123 +
 .../java/org/apache/doris/common/TreeNode.java     |  195 +
 .../org/apache/doris/common/UserException.java     |   43 +
 .../apache/doris/common/io/DataInputBuffer.java    |  111 +
 .../apache/doris/common/io/DataOutputBuffer.java   |  130 +
 .../java/org/apache/doris/common/io/DeepCopy.java  |   50 +
 .../doris/common/io/FastByteArrayInputStream.java  |   82 +
 .../doris/common/io/FastByteArrayOutputStream.java |  106 +
 .../java/org/apache/doris/common/io/IOUtils.java   |  256 +
 .../org/apache/doris/common/io/InputBuffer.java    |  106 +
 .../apache/doris/common/io/LimitInputStream.java   |  117 +
 .../apache/doris/common/io/LimitOutputStream.java  |  120 +
 .../org/apache/doris/common/io/OutputBuffer.java   |  116 +
 .../main/java/org/apache/doris/common/io/Text.java |  644 +++
 .../java/org/apache/doris/common/io/Writable.java  |   82 +
 .../palo => org/apache/doris}/common/log4j2.xml    |    0
 .../org/apache/doris/common/path/PathTrie.java     |  257 +
 .../org/apache/doris/common/proc/AuthProcDir.java  |   73 +
 .../common/proc/BackendLoadStatisticProcNode.java  |   49 +
 .../apache/doris/common/proc/BackendProcNode.java  |   88 +
 .../apache/doris/common/proc/BackendsProcDir.java  |  225 +
 .../org/apache/doris/common/proc/BaseProcDir.java  |   60 +
 .../org/apache/doris/common/proc/BaseProcNode.java |   55 +
 .../apache/doris/common/proc/BaseProcResult.java   |   65 +
 .../apache/doris/common/proc/CloneProcNode.java    |   70 +
 .../common/proc/ClusterLoadStatisticProcDir.java   |   73 +
 .../proc/CurrentQueryBackendInstanceProcDir.java   |  142 +
 .../common/proc/CurrentQueryFragmentProcNode.java  |  230 +
 .../doris/common/proc/CurrentQuerySqlProcDir.java  |   68 +
 .../common/proc/CurrentQueryStatisticsProcDir.java |   83 +
 .../org/apache/doris/common/proc/DbsProcDir.java   |  136 +
 .../doris/common/proc/DeleteInfoProcDir.java       |   86 +
 .../doris/common/proc/DeleteJobProcNode.java       |   59 +
 .../doris/common/proc/EsPartitionsProcDir.java     |  131 +
 .../apache/doris/common/proc/EsShardProcDir.java   |  108 +
 .../apache/doris/common/proc/ExportProcNode.java   |   87 +
 .../doris/common/proc/FrontendsProcNode.java       |  115 +
 .../common/proc/IncompleteTabletsProcNode.java     |   66 +
 .../apache/doris/common/proc/IndexInfoProcDir.java |  147 +
 .../doris/common/proc/IndexSchemaProcNode.java     |   84 +
 .../apache/doris/common/proc/IndicesProcDir.java   |  130 +
 .../apache/doris/common/proc/JobsDbProcDir.java    |   95 +
 .../org/apache/doris/common/proc/JobsProcDir.java  |  190 +
 .../org/apache/doris/common/proc/JvmProcDir.java   |   90 +
 .../doris/common/proc/LoadErrorProcNode.java       |   67 +
 .../apache/doris/common/proc/LoadJobProcNode.java  |   62 +
 .../org/apache/doris/common/proc/LoadProcDir.java  |  109 +
 .../apache/doris/common/proc/MonitorProcDir.java   |   51 +
 .../doris/common/proc/PartitionsProcDir.java       |  226 +
 .../apache/doris/common/proc/ProcDirInterface.java |   32 +
 .../doris/common/proc/ProcNodeInterface.java       |   30 +
 .../org/apache/doris/common/proc/ProcResult.java   |   30 +
 .../org/apache/doris/common/proc/ProcService.java  |  168 +
 .../apache/doris/common/proc/ReplicasProcNode.java |   76 +
 .../apache/doris/common/proc/RollupJobProcDir.java |   78 +
 .../apache/doris/common/proc/RollupProcDir.java    |   97 +
 .../doris/common/proc/RollupTabletsProcNode.java   |   65 +
 .../doris/common/proc/SchemaChangeProcNode.java    |   75 +
 .../apache/doris/common/proc/StatisticProcDir.java |  315 ++
 .../org/apache/doris/common/proc/TableProcDir.java |  100 +
 .../apache/doris/common/proc/TablesProcDir.java    |  163 +
 .../apache/doris/common/proc/TabletsProcDir.java   |  185 +
 .../doris/common/proc/TaskFailedProcNode.java      |   64 +
 .../apache/doris/common/proc/TaskTypeProcNode.java |   93 +
 .../org/apache/doris/common/proc/TasksProcDir.java |   89 +
 .../apache/doris/common/proc/TransDbProcDir.java   |   92 +
 .../doris/common/proc/TransPartitionProcNode.java  |   75 +
 .../org/apache/doris/common/proc/TransProcDir.java |   98 +
 .../doris/common/proc/TransTablesProcDir.java      |  113 +
 .../doris/common/proc/UserPropertyProcNode.java    |   52 +
 .../doris/common/publish/AckResponseHandler.java   |   47 +
 .../common/publish/ClusterStatePublisher.java      |  137 +
 .../doris/common/publish/ClusterStateUpdate.java   |   68 +
 .../doris/common/publish/FixedTimePublisher.java   |   74 +
 .../org/apache/doris/common/publish/Listener.java  |   31 +
 .../org/apache/doris/common/publish/Listeners.java |   48 +
 .../doris/common/publish/ResponseHandler.java      |   60 +
 .../apache/doris/common/publish/TopicUpdate.java   |   73 +
 .../org/apache/doris/common/util/BrokerUtil.java   |   81 +
 .../apache/doris/common/util/CommandResult.java    |   79 +
 .../java/org/apache/doris/common/util/Counter.java |   50 +
 .../java/org/apache/doris/common/util/Daemon.java  |  112 +
 .../org/apache/doris/common/util/DebugUtil.java    |  141 +
 .../org/apache/doris/common/util/KuduUtil.java     |  379 ++
 .../apache/doris/common/util/ListComparator.java   |   81 +
 .../org/apache/doris/common/util/LoadBalancer.java |   69 +
 .../org/apache/doris/common/util/MysqlUtil.java    |   87 +
 .../org/apache/doris/common/util/NetUtils.java     |   58 +
 .../org/apache/doris/common/util/OrderByPair.java  |   45 +
 .../org/apache/doris/common/util/PlatformName.java |   36 +
 .../org/apache/doris/common/util/PrintableMap.java |   94 +
 .../apache/doris/common/util/ProfileManager.java   |  169 +
 .../apache/doris/common/util/PropertyAnalyzer.java |  347 ++
 .../apache/doris/common/util/ReflectionUtils.java  |  168 +
 .../apache/doris/common/util/RuntimeProfile.java   |  372 ++
 .../org/apache/doris/common/util/SqlUtils.java     |   41 +
 .../org/apache/doris/common/util/TimeUtils.java    |  207 +
 .../java/org/apache/doris/common/util/Util.java    |  315 ++
 .../doris/consistency/CheckConsistencyJob.java     |  396 ++
 .../doris/consistency/ConsistencyChecker.java      |  392 ++
 .../org/apache/doris/deploy/DeployManager.java     |  632 +++
 .../doris/deploy/impl/AmbariDeployManager.java     |  356 ++
 .../apache/doris/deploy/impl/K8sDeployManager.java |  196 +
 .../doris/deploy/impl/LocalFileDeployManager.java  |  157 +
 .../org/apache/doris/external/EsIndexState.java    |  145 +
 .../org/apache/doris/external/EsShardRouting.java  |   64 +
 .../org/apache/doris/external/EsStateStore.java    |  221 +
 .../org/apache/doris/external/EsTableState.java    |   85 +
 .../java/org/apache/doris/external/EsUtil.java     |   91 +
 .../external/ExternalDataSourceException.java      |   27 +
 fe/src/main/java/org/apache/doris/ha/BDBHA.java    |  226 +
 .../apache/doris/ha/BDBStateChangeListener.java    |  111 +
 .../java/org/apache/doris/ha/FrontendNodeType.java |   25 +
 .../main/java/org/apache/doris/ha/HAProtocol.java  |   51 +
 .../main/java/org/apache/doris/ha/MasterInfo.java  |   81 +
 .../org/apache/doris/http/ActionController.java    |   92 +
 .../java/org/apache/doris/http/BaseAction.java     |  351 ++
 .../java/org/apache/doris/http/BaseRequest.java    |  148 +
 .../java/org/apache/doris/http/BaseResponse.java   |   97 +
 .../org/apache/doris/http/HttpAuthManager.java     |   56 +
 .../java/org/apache/doris/http/HttpServer.java     |  207 +
 .../org/apache/doris/http/HttpServerHandler.java   |  122 +
 .../main/java/org/apache/doris/http/IAction.java   |   23 +
 .../org/apache/doris/http/IllegalArgException.java |   32 +
 .../apache/doris/http/UnauthorizedException.java   |   24 +
 .../main/java/org/apache/doris/http/WebUtils.java  |  228 +
 .../apache/doris/http/action/BackendAction.java    |   99 +
 .../org/apache/doris/http/action/HaAction.java     |  172 +
 .../org/apache/doris/http/action/HelpAction.java   |  216 +
 .../org/apache/doris/http/action/IndexAction.java  |   59 +
 .../org/apache/doris/http/action/LogAction.java    |  160 +
 .../apache/doris/http/action/NotFoundAction.java   |   50 +
 .../org/apache/doris/http/action/QueryAction.java  |  124 +
 .../doris/http/action/QueryProfileAction.java      |   61 +
 .../apache/doris/http/action/SessionAction.java    |   83 +
 .../doris/http/action/StaticResourceAction.java    |  238 +
 .../org/apache/doris/http/action/SystemAction.java |  149 +
 .../apache/doris/http/action/VariableAction.java   |   77 +
 .../apache/doris/http/action/WebBaseAction.java    |  357 ++
 .../doris/http/meta/InvalidClientException.java    |   24 +
 .../org/apache/doris/http/meta/MetaBaseAction.java |  106 +
 .../org/apache/doris/http/meta/MetaService.java    |  334 ++
 .../org/apache/doris/http/rest/ActionStatus.java   |   22 +
 .../doris/http/rest/BootstrapFinishAction.java     |   61 +
 .../apache/doris/http/rest/CancelStreamLoad.java   |   87 +
 .../doris/http/rest/CheckDecommissionAction.java   |   90 +
 .../apache/doris/http/rest/GetDdlStmtAction.java   |  114 +
 .../apache/doris/http/rest/GetLoadInfoAction.java  |   84 +
 .../apache/doris/http/rest/GetLogFileAction.java   |  103 +
 .../apache/doris/http/rest/GetStreamLoadState.java |   89 +
 .../org/apache/doris/http/rest/HealthAction.java   |   45 +
 .../org/apache/doris/http/rest/LoadAction.java     |  141 +
 .../doris/http/rest/MetaReplayerCheckAction.java   |   68 +
 .../org/apache/doris/http/rest/MetricsAction.java  |   43 +
 .../apache/doris/http/rest/MigrationAction.java    |  168 +
 .../org/apache/doris/http/rest/MultiAbort.java     |   72 +
 .../org/apache/doris/http/rest/MultiCommit.java    |   71 +
 .../java/org/apache/doris/http/rest/MultiDesc.java |   85 +
 .../java/org/apache/doris/http/rest/MultiList.java |   80 +
 .../org/apache/doris/http/rest/MultiStart.java     |   86 +
 .../org/apache/doris/http/rest/MultiUnload.java    |   75 +
 .../org/apache/doris/http/rest/RestBaseAction.java |  106 +
 .../org/apache/doris/http/rest/RestBaseResult.java |   44 +
 .../org/apache/doris/http/rest/RestResult.java     |   43 +
 .../org/apache/doris/http/rest/RowCountAction.java |  129 +
 .../apache/doris/http/rest/SetConfigAction.java    |  123 +
 .../apache/doris/http/rest/ShowMetaInfoAction.java |  189 +
 .../org/apache/doris/http/rest/ShowProcAction.java |   94 +
 .../doris/http/rest/ShowRuntimeInfoAction.java     |   67 +
 .../doris/http/rest/StorageTypeCheckAction.java    |   82 +
 .../java/org/apache/doris/journal/Journal.java     |   58 +
 .../org/apache/doris/journal/JournalCursor.java    |   26 +
 .../org/apache/doris/journal/JournalEntity.java    |  378 ++
 .../apache/doris/journal/bdbje/BDBEnvironment.java |  406 ++
 .../apache/doris/journal/bdbje/BDBJEJournal.java   |  427 ++
 .../doris/journal/bdbje/BDBJournalCursor.java      |  158 +
 .../org/apache/doris/journal/bdbje/BDBTool.java    |  150 +
 .../apache/doris/journal/bdbje/BDBToolOptions.java |   72 +
 .../org/apache/doris/journal/bdbje/Timestamp.java  |   49 +
 .../apache/doris/journal/local/LocalJournal.java   |  188 +
 .../doris/journal/local/LocalJournalCursor.java    |  399 ++
 .../main/java/org/apache/doris/kudu/KuduAgent.java |   96 +
 .../java/org/apache/doris/load/AsyncDeleteJob.java |  275 +
 .../org/apache/doris/load/BrokerFileGroup.java     |  314 ++
 .../java/org/apache/doris/load/DeleteInfo.java     |  203 +
 .../main/java/org/apache/doris/load/DppConfig.java |  425 ++
 .../java/org/apache/doris/load/DppScheduler.java   |  560 ++
 .../java/org/apache/doris/load/EtlJobInfo.java     |   58 +
 .../main/java/org/apache/doris/load/EtlStatus.java |  185 +
 .../org/apache/doris/load/EtlSubmitResult.java     |   36 +
 .../java/org/apache/doris/load/ExportChecker.java  |  134 +
 .../java/org/apache/doris/load/ExportFailMsg.java  |   94 +
 .../main/java/org/apache/doris/load/ExportJob.java |  685 +++
 .../main/java/org/apache/doris/load/ExportMgr.java |  282 +
 .../main/java/org/apache/doris/load/FailMsg.java   |   95 +
 .../org/apache/doris/load/HadoopEtlJobInfo.java    |  133 +
 fe/src/main/java/org/apache/doris/load/Load.java   | 3609 +++++++++++++
 .../java/org/apache/doris/load/LoadChecker.java    |  586 +++
 .../java/org/apache/doris/load/LoadErrorHub.java   |  325 ++
 .../main/java/org/apache/doris/load/LoadJob.java   | 1012 ++++
 .../java/org/apache/doris/load/MiniEtlJobInfo.java |   86 +
 .../org/apache/doris/load/MiniEtlTaskInfo.java     |   91 +
 .../org/apache/doris/load/MysqlLoadErrorHub.java   |  207 +
 .../org/apache/doris/load/PartitionLoadInfo.java   |  148 +
 .../org/apache/doris/load/PullLoadSourceInfo.java  |  121 +
 fe/src/main/java/org/apache/doris/load/Source.java |  290 ++
 .../java/org/apache/doris/load/TableLoadInfo.java  |  157 +
 .../java/org/apache/doris/load/TabletLoadInfo.java |  121 +
 .../java/org/apache/doris/master/Checkpoint.java   |  289 +
 .../java/org/apache/doris/master/MasterImpl.java   |  742 +++
 .../java/org/apache/doris/master/MetaHelper.java   |   97 +
 .../org/apache/doris/master/ReportHandler.java     |  760 +++
 .../java/org/apache/doris/metric/MetricLabel.java  |   53 +
 .../java/org/apache/doris/metric/MetricRepo.java   |  256 +
 .../org/apache/doris/metric/PaloCounterMetric.java |   33 +
 .../doris/metric/PaloDoubleCounterMetric.java      |   42 +
 .../org/apache/doris/metric/PaloGaugeMetric.java   |   31 +
 .../apache/doris/metric/PaloLongCounterMetric.java |   42 +
 .../java/org/apache/doris/metric/PaloMetric.java   |   68 +
 .../apache/doris/metric/PaloMetricRegistry.java    |   47 +
 .../org/apache/doris/metric/PaloMetricVisitor.java |   42 +
 .../doris/metric/PrometheusMetricVisitor.java      |  196 +
 .../java/org/apache/doris/monitor/jvm/GcNames.java |   59 +
 .../java/org/apache/doris/monitor/jvm/JvmInfo.java |  466 ++
 .../org/apache/doris/monitor/jvm/JvmService.java   |  117 +
 .../org/apache/doris/monitor/jvm/JvmStats.java     |  478 ++
 .../apache/doris/monitor/unit/ByteSizeUnit.java    |  252 +
 .../apache/doris/monitor/unit/ByteSizeValue.java   |  251 +
 .../org/apache/doris/monitor/unit/TimeValue.java   |  363 ++
 .../org/apache/doris/monitor/utils/Strings.java    |   59 +
 .../org/apache/doris/mysql/MysqlAuthPacket.java    |  116 +
 .../org/apache/doris/mysql/MysqlCapability.java    |  151 +
 .../java/org/apache/doris/mysql/MysqlChannel.java  |  273 +
 .../java/org/apache/doris/mysql/MysqlColDef.java   |   80 +
 .../java/org/apache/doris/mysql/MysqlColType.java  |   71 +
 .../java/org/apache/doris/mysql/MysqlCommand.java  |   75 +
 .../org/apache/doris/mysql/MysqlEofPacket.java     |   39 +
 .../org/apache/doris/mysql/MysqlErrPacket.java     |   58 +
 .../apache/doris/mysql/MysqlHandshakePacket.java   |   81 +
 .../java/org/apache/doris/mysql/MysqlOkPacket.java |   63 +
 .../java/org/apache/doris/mysql/MysqlPacket.java   |   28 +
 .../java/org/apache/doris/mysql/MysqlPassword.java |  281 +
 .../java/org/apache/doris/mysql/MysqlProto.java    |  269 +
 .../org/apache/doris/mysql/MysqlSerializer.java    |  225 +
 .../java/org/apache/doris/mysql/MysqlServer.java   |  142 +
 .../apache/doris/mysql/MysqlServerStatusFlag.java  |   34 +
 .../apache/doris/mysql/privilege/DbPrivEntry.java  |  155 +
 .../apache/doris/mysql/privilege/DbPrivTable.java  |   80 +
 .../doris/mysql/privilege/GlobalPrivEntry.java     |  145 +
 .../org/apache/doris/mysql/privilege/PaloAuth.java | 1292 +++++
 .../doris/mysql/privilege/PaloPrivilege.java       |   77 +
 .../org/apache/doris/mysql/privilege/PaloRole.java |  152 +
 .../apache/doris/mysql/privilege/PrivBitSet.java   |  158 +
 .../apache/doris/mysql/privilege/PrivEntry.java    |  236 +
 .../doris/mysql/privilege/PrivPredicate.java       |  105 +
 .../apache/doris/mysql/privilege/PrivTable.java    |  228 +
 .../apache/doris/mysql/privilege/RoleManager.java  |  187 +
 .../doris/mysql/privilege/TablePrivEntry.java      |  151 +
 .../doris/mysql/privilege/TablePrivTable.java      |  110 +
 .../doris/mysql/privilege/UserPrivTable.java       |  159 +
 .../apache/doris/mysql/privilege/UserProperty.java |  535 ++
 .../doris/mysql/privilege/UserPropertyInfo.java    |   77 +
 .../doris/mysql/privilege/UserPropertyMgr.java     |  301 ++
 .../apache/doris/mysql/privilege/UserResource.java |  152 +
 .../apache/doris/mysql/privilege/WhiteList.java    |  329 ++
 .../apache/doris/persist/BackendIdsUpdateInfo.java |   61 +
 .../java/org/apache/doris/persist/CloneInfo.java   |  160 +
 .../java/org/apache/doris/persist/ClusterInfo.java |  112 +
 .../apache/doris/persist/ConsistencyCheckInfo.java |  130 +
 .../org/apache/doris/persist/CreateTableInfo.java  |   90 +
 .../org/apache/doris/persist/DatabaseInfo.java     |  109 +
 .../java/org/apache/doris/persist/DropInfo.java    |   95 +
 .../doris/persist/DropLinkDbAndUpdateDbInfo.java   |   80 +
 .../apache/doris/persist/DropPartitionInfo.java    |   77 +
 .../java/org/apache/doris/persist/EditLog.java     | 1048 ++++
 .../doris/persist/EditLogFileInputStream.java      |   54 +
 .../doris/persist/EditLogFileOutputStream.java     |  139 +
 .../apache/doris/persist/EditLogInputStream.java   |   41 +
 .../apache/doris/persist/EditLogOutputStream.java  |  101 +
 .../java/org/apache/doris/persist/LinkDbInfo.java  |   80 +
 .../java/org/apache/doris/persist/MetaCleaner.java |   94 +
 .../apache/doris/persist/ModifyPartitionInfo.java  |  104 +
 .../org/apache/doris/persist/OperationType.java    |  139 +
 .../apache/doris/persist/PartitionPersistInfo.java |  112 +
 .../java/org/apache/doris/persist/PrivInfo.java    |  141 +
 .../java/org/apache/doris/persist/RecoverInfo.java |   65 +
 .../apache/doris/persist/ReplicaPersistInfo.java   |  408 ++
 .../java/org/apache/doris/persist/Storage.java     |  323 ++
 .../java/org/apache/doris/persist/StorageInfo.java |   60 +
 .../java/org/apache/doris/persist/TableInfo.java   |  122 +
 .../org/apache/doris/planner/AggregationNode.java  |  308 ++
 .../org/apache/doris/planner/AnalyticEvalNode.java |  263 +
 .../org/apache/doris/planner/AnalyticPlanner.java  |  940 ++++
 .../org/apache/doris/planner/BrokerScanNode.java   |  689 +++
 .../org/apache/doris/planner/CrossJoinNode.java    |  103 +
 .../java/org/apache/doris/planner/CsvScanNode.java |  207 +
 .../org/apache/doris/planner/DataPartition.java    |  135 +
 .../java/org/apache/doris/planner/DataSink.java    |   59 +
 .../org/apache/doris/planner/DataSplitSink.java    |  399 ++
 .../org/apache/doris/planner/DataStreamSink.java   |   73 +
 .../apache/doris/planner/DistributedPlanner.java   |  941 ++++
 .../apache/doris/planner/DistributionPruner.java   |   26 +
 .../org/apache/doris/planner/EmptySetNode.java     |   70 +
 .../java/org/apache/doris/planner/EsScanNode.java  |  258 +
 .../org/apache/doris/planner/ExchangeNode.java     |  139 +
 .../java/org/apache/doris/planner/ExportSink.java  |   86 +
 .../doris/planner/HashDistributionPruner.java      |  113 +
 .../org/apache/doris/planner/HashJoinNode.java     |  307 ++
 .../apache/doris/planner/ListPartitionPruner.java  |  190 +
 .../org/apache/doris/planner/MergeJoinNode.java    |  171 +
 .../java/org/apache/doris/planner/MergeNode.java   |  213 +
 .../org/apache/doris/planner/MysqlScanNode.java    |  127 +
 .../org/apache/doris/planner/MysqlTableSink.java   |   63 +
 .../org/apache/doris/planner/OlapRewriteNode.java  |  125 +
 .../org/apache/doris/planner/OlapScanNode.java     |  656 +++
 .../org/apache/doris/planner/OlapTableSink.java    |  303 ++
 .../doris/planner/PartitionColumnFilter.java       |  133 +
 .../org/apache/doris/planner/PartitionPruner.java  |   25 +
 .../org/apache/doris/planner/PlanFragment.java     |  276 +
 .../org/apache/doris/planner/PlanFragmentId.java   |   44 +
 .../java/org/apache/doris/planner/PlanNode.java    |  604 +++
 .../java/org/apache/doris/planner/PlanNodeId.java  |   44 +
 .../java/org/apache/doris/planner/Planner.java     |  236 +
 .../org/apache/doris/planner/PlannerContext.java   |   70 +
 .../apache/doris/planner/RangePartitionPruner.java |  194 +
 .../java/org/apache/doris/planner/ResultSink.java  |   64 +
 .../java/org/apache/doris/planner/ScanNode.java    |   84 +
 .../org/apache/doris/planner/SchemaScanNode.java   |  129 +
 .../java/org/apache/doris/planner/SelectNode.java  |   91 +
 .../apache/doris/planner/SingleNodePlanner.java    | 1536 ++++++
 .../java/org/apache/doris/planner/SortNode.java    |  242 +
 .../apache/doris/planner/StreamLoadPlanner.java    |  142 +
 .../apache/doris/planner/StreamLoadScanNode.java   |  374 ++
 .../java/org/apache/doris/planner/UnionNode.java   |  334 ++
 .../java/org/apache/doris/qe/AuditBuilder.java     |   39 +
 .../java/org/apache/doris/qe/ConnectContext.java   |  348 ++
 .../java/org/apache/doris/qe/ConnectProcessor.java |  399 ++
 .../java/org/apache/doris/qe/ConnectScheduler.java |  179 +
 .../main/java/org/apache/doris/qe/Coordinator.java | 1598 ++++++
 .../main/java/org/apache/doris/qe/DdlExecutor.java |  156 +
 .../java/org/apache/doris/qe/GlobalVariable.java   |   59 +
 .../java/org/apache/doris/qe/HelpCategory.java     |   61 +
 .../main/java/org/apache/doris/qe/HelpModule.java  |  327 ++
 .../java/org/apache/doris/qe/HelpObjectIface.java  |   24 +
 .../java/org/apache/doris/qe/HelpObjectLoader.java |   86 +
 .../main/java/org/apache/doris/qe/HelpTopic.java   |   97 +
 .../org/apache/doris/qe/JournalObservable.java     |   96 +
 .../java/org/apache/doris/qe/JournalObserver.java  |  134 +
 .../java/org/apache/doris/qe/MasterOpExecutor.java |  130 +
 .../java/org/apache/doris/qe/MultiLoadMgr.java     |  387 ++
 .../main/java/org/apache/doris/qe/QeProcessor.java |   36 +
 .../java/org/apache/doris/qe/QeProcessorImpl.java  |  143 +
 .../main/java/org/apache/doris/qe/QeService.java   |   95 +
 .../main/java/org/apache/doris/qe/QueryState.java  |  131 +
 .../org/apache/doris/qe/QueryStatisticsItem.java   |  196 +
 .../java/org/apache/doris/qe/ResultReceiver.java   |  150 +
 .../java/org/apache/doris/qe/SessionVariable.java  |  499 ++
 .../main/java/org/apache/doris/qe/SetExecutor.java |   61 +
 .../java/org/apache/doris/qe/ShowExecutor.java     | 1082 ++++
 .../java/org/apache/doris/qe/ShowResultSet.java    |  122 +
 .../org/apache/doris/qe/ShowResultSetMetaData.java |   72 +
 .../java/org/apache/doris/qe/SimpleScheduler.java  |  204 +
 .../java/org/apache/doris/qe/StmtExecutor.java     |  794 +++
 .../main/java/org/apache/doris/qe/VariableMgr.java |  541 ++
 .../doris/rewrite/BetweenToCompoundRule.java       |   67 +
 .../org/apache/doris/rewrite/ExprRewriteRule.java  |   47 +
 .../org/apache/doris/rewrite/ExprRewriter.java     |  100 +
 .../rewrite/NormalizeBinaryPredicatesRule.java     |   52 +
 .../org/apache/doris/rpc/AttachmentRequest.java    |   48 +
 .../org/apache/doris/rpc/BackendServiceProxy.java  |  155 +
 .../doris/rpc/PCancelPlanFragmentRequest.java      |   30 +
 .../doris/rpc/PCancelPlanFragmentResult.java       |   25 +
 .../apache/doris/rpc/PExecPlanFragmentRequest.java |   22 +
 .../apache/doris/rpc/PExecPlanFragmentResult.java  |   25 +
 .../org/apache/doris/rpc/PFetchDataRequest.java    |   29 +
 .../org/apache/doris/rpc/PFetchDataResult.java     |   29 +
 .../doris/rpc/PFetchFragmentExecInfoRequest.java   |   35 +
 .../doris/rpc/PFetchFragmentExecInfosResult.java   |   30 +
 .../org/apache/doris/rpc/PFragmentExecInfo.java    |   31 +
 .../org/apache/doris/rpc/PInternalService.java     |   39 +
 fe/src/main/java/org/apache/doris/rpc/PStatus.java |   29 +
 .../main/java/org/apache/doris/rpc/PUniqueId.java  |   34 +
 .../java/org/apache/doris/rpc/RpcException.java    |   37 +
 .../doris/rpc/ThriftClientAttachmentHandler.java   |   31 +
 .../java/org/apache/doris/service/ExecuteEnv.java  |   56 +
 .../java/org/apache/doris/service/FeServer.java    |   68 +
 .../org/apache/doris/service/FrontendOptions.java  |  124 +
 .../apache/doris/service/FrontendServiceImpl.java  |  741 +++
 .../main/java/org/apache/doris/system/Backend.java |  535 ++
 .../java/org/apache/doris/system/BackendEvent.java |   58 +
 .../java/org/apache/doris/system/Frontend.java     |  117 +
 .../apache/doris/system/SystemInfoObserver.java    |   47 +
 .../org/apache/doris/system/SystemInfoService.java | 1219 +++++
 .../java/org/apache/doris/task/AgentBatchTask.java |  324 ++
 .../java/org/apache/doris/task/AgentClient.java    |  198 +
 .../main/java/org/apache/doris/task/AgentTask.java |  106 +
 .../org/apache/doris/task/AgentTaskExecutor.java   |   34 +
 .../java/org/apache/doris/task/AgentTaskQueue.java |  244 +
 .../org/apache/doris/task/CancelDeleteTask.java    |   51 +
 .../apache/doris/task/CheckConsistencyTask.java    |   54 +
 .../java/org/apache/doris/task/ClearAlterTask.java |   34 +
 .../apache/doris/task/ClearTransactionTask.java    |   40 +
 .../main/java/org/apache/doris/task/CloneTask.java |   68 +
 .../org/apache/doris/task/CreateReplicaTask.java   |  137 +
 .../org/apache/doris/task/CreateRollupTask.java    |  145 +
 .../java/org/apache/doris/task/DirMoveTask.java    |   65 +
 .../java/org/apache/doris/task/DownloadTask.java   |   69 +
 .../org/apache/doris/task/DropReplicaTask.java     |   40 +
 .../org/apache/doris/task/ExportExportingTask.java |  332 ++
 .../org/apache/doris/task/ExportPendingTask.java   |  132 +
 .../org/apache/doris/task/HadoopLoadEtlTask.java   |  112 +
 .../apache/doris/task/HadoopLoadPendingTask.java   |  671 +++
 .../org/apache/doris/task/InsertLoadEtlTask.java   |   36 +
 .../java/org/apache/doris/task/LoadEtlTask.java    |  325 ++
 .../org/apache/doris/task/LoadPendingTask.java     |  117 +
 .../java/org/apache/doris/task/MasterTask.java     |   44 +
 .../org/apache/doris/task/MasterTaskExecutor.java  |   94 +
 .../org/apache/doris/task/MiniLoadEtlTask.java     |  196 +
 .../org/apache/doris/task/MiniLoadPendingTask.java |  209 +
 .../org/apache/doris/task/PublishVersionTask.java  |   62 +
 .../org/apache/doris/task/PullLoadEtlTask.java     |  135 +
 .../java/org/apache/doris/task/PullLoadJob.java    |  106 +
 .../java/org/apache/doris/task/PullLoadJobMgr.java |  190 +
 .../org/apache/doris/task/PullLoadPendingTask.java |  129 +
 .../java/org/apache/doris/task/PullLoadTask.java   |  232 +
 .../org/apache/doris/task/PullLoadTaskPlanner.java |  157 +
 .../main/java/org/apache/doris/task/PushTask.java  |  214 +
 .../org/apache/doris/task/RecoverTabletTask.java   |   42 +
 .../org/apache/doris/task/ReleaseSnapshotTask.java |   36 +
 .../org/apache/doris/task/SchemaChangeTask.java    |  130 +
 .../java/org/apache/doris/task/SnapshotTask.java   |   82 +
 .../doris/task/StorageMediaMigrationTask.java      |   47 +
 .../java/org/apache/doris/task/UploadTask.java     |   65 +
 .../transaction/BeginTransactionException.java     |   16 +
 .../doris/transaction/GlobalTransactionMgr.java    | 1173 +++++
 .../IllegalTransactionParameterException.java      |   16 +
 .../transaction/LabelAlreadyExistsException.java   |   36 +
 .../doris/transaction/PartitionCommitInfo.java     |   77 +
 .../doris/transaction/PublishVersionDaemon.java    |  195 +
 .../apache/doris/transaction/TableCommitInfo.java  |   88 +
 .../apache/doris/transaction/TabletCommitInfo.java |   66 +
 .../TransactionCommitFailedException.java          |   31 +
 .../doris/transaction/TransactionIDGenerator.java  |   73 +
 .../apache/doris/transaction/TransactionState.java |  322 ++
 .../doris/transaction/TransactionStatus.java       |   69 +
 fe/src/main/jflex/sql_scanner.flex                 |    6 +-
 .../java/com/baidu/palo/alter/RollupJobTest.java   |  329 --
 .../com/baidu/palo/alter/SchemaChangeJobTest.java  |  256 -
 .../com/baidu/palo/analysis/AccessTestUtil.java    |  232 -
 .../baidu/palo/analysis/AddColumnClauseTest.java   |  126 -
 .../baidu/palo/analysis/AddColumnsClauseTest.java  |   95 -
 .../baidu/palo/analysis/AddRollupClauseTest.java   |   88 -
 .../baidu/palo/analysis/AdminShowReplicaTest.java  |   77 -
 .../baidu/palo/analysis/AlterClusterStmtTest.java  |   86 -
 .../baidu/palo/analysis/AlterTableStmtTest.java    |  100 -
 .../com/baidu/palo/analysis/BackendStmtTest.java   |   94 -
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |   95 -
 .../baidu/palo/analysis/ColumnPositionTest.java    |   50 -
 .../baidu/palo/analysis/ColumnSeparatorTest.java   |   61 -
 .../java/com/baidu/palo/analysis/ColumnTest.java   |   84 -
 .../baidu/palo/analysis/CreateClusterStmtTest.java |   76 -
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |   69 -
 .../baidu/palo/analysis/CreateTableStmtTest.java   |  154 -
 .../baidu/palo/analysis/CreateUserStmtTest.java    |   92 -
 .../baidu/palo/analysis/DataDescriptionTest.java   |  162 -
 .../baidu/palo/analysis/DecimalLiteralTest.java    |   48 -
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |  171 -
 .../com/baidu/palo/analysis/DescribeStmtTest.java  |   85 -
 .../baidu/palo/analysis/DropClusterStmtTest.java   |   82 -
 .../baidu/palo/analysis/DropColumnClauseTest.java  |   57 -
 .../com/baidu/palo/analysis/DropDbStmtTest.java    |   79 -
 .../baidu/palo/analysis/DropRollupClauseTest.java  |   51 -
 .../com/baidu/palo/analysis/DropTableStmtTest.java |   99 -
 .../com/baidu/palo/analysis/DropUserStmtTest.java  |   69 -
 .../com/baidu/palo/analysis/GrantStmtTest.java     |  105 -
 .../java/com/baidu/palo/analysis/HelpStmtTest.java |   47 -
 .../java/com/baidu/palo/analysis/KillStmtTest.java |   41 -
 .../com/baidu/palo/analysis/LabelNameTest.java     |   75 -
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |   75 -
 .../palo/analysis/LiteralExprCompareTest.java      |  320 --
 .../java/com/baidu/palo/analysis/LoadStmtTest.java |  102 -
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |   75 -
 .../palo/analysis/ModifyColumnClauseTest.java      |   75 -
 .../baidu/palo/analysis/PartitionKeyDescTest.java  |   54 -
 .../palo/analysis/ReorderColumnsClauseTest.java    |   70 -
 .../com/baidu/palo/analysis/SetNamesVarTest.java   |   62 -
 .../com/baidu/palo/analysis/SetPassVarTest.java    |   88 -
 .../java/com/baidu/palo/analysis/SetStmtTest.java  |   86 -
 .../java/com/baidu/palo/analysis/SetTypeTest.java  |   34 -
 .../palo/analysis/SetUserPropertyStmtTest.java     |   76 -
 .../palo/analysis/SetUserPropertyVarTest.java      |   57 -
 .../java/com/baidu/palo/analysis/SetVarTest.java   |   79 -
 .../com/baidu/palo/analysis/ShowAlterStmtTest.java |   92 -
 .../baidu/palo/analysis/ShowCreateDbStmtTest.java  |   68 -
 .../palo/analysis/ShowCreateTableStmtTest.java     |   72 -
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |  141 -
 .../com/baidu/palo/analysis/ShowDbStmtTest.java    |   47 -
 .../baidu/palo/analysis/ShowEnginesStmtTest.java   |   45 -
 .../com/baidu/palo/analysis/ShowLoadStmtTest.java  |   92 -
 .../baidu/palo/analysis/ShowRollupStmtTest.java    |   68 -
 .../com/baidu/palo/analysis/ShowTableStmtTest.java |   86 -
 .../palo/analysis/ShowUserPropertyStmtTest.java    |   61 -
 .../baidu/palo/analysis/ShowVariablesStmtTest.java |   49 -
 .../baidu/palo/analysis/SysVariableDescTest.java   |   55 -
 .../java/com/baidu/palo/analysis/UseStmtTest.java  |   71 -
 .../com/baidu/palo/backup/AlterClauseRWTest.java   |  104 -
 .../com/baidu/palo/backup/BackupHandlerTest.java   |  364 --
 .../com/baidu/palo/backup/BackupJobInfoTest.java   |  167 -
 .../java/com/baidu/palo/backup/BackupJobTest.java  |  326 --
 .../java/com/baidu/palo/backup/CatalogMocker.java  |  419 --
 .../java/com/baidu/palo/backup/FileSaverITest.java |  122 -
 .../com/baidu/palo/backup/PartitionNameTest.java   |  254 -
 .../java/com/baidu/palo/backup/PathMakerTest.java  |   30 -
 .../java/com/baidu/palo/backup/RepositoryTest.java |  318 --
 .../baidu/palo/backup/RestoreFileMappingTest.java  |   43 -
 .../java/com/baidu/palo/backup/RestoreJobTest.java |  358 --
 .../com/baidu/palo/bdb/BDBToolOptionsTest.java     |   24 -
 .../test/java/com/baidu/palo/bdb/BDBToolTest.java  |  150 -
 .../java/com/baidu/palo/catalog/BackendTest.java   |  197 -
 .../java/com/baidu/palo/catalog/CatalogTest.java   |  240 -
 .../com/baidu/palo/catalog/CatalogTestUtil.java    |  294 --
 .../com/baidu/palo/catalog/ColumnStatsTest.java    |   90 -
 .../java/com/baidu/palo/catalog/ColumnTest.java    |  131 -
 .../com/baidu/palo/catalog/ColumnTypeTest.java     |  190 -
 .../com/baidu/palo/catalog/CreateTableTest.java    |  370 --
 .../java/com/baidu/palo/catalog/DatabaseTest.java  |  196 -
 .../java/com/baidu/palo/catalog/FakeCatalog.java   |   31 -
 .../java/com/baidu/palo/catalog/FakeEditLog.java   |   74 -
 .../com/baidu/palo/catalog/InfoSchemaDbTest.java   |   40 -
 .../baidu/palo/catalog/MaterializedIndexTest.java  |   99 -
 .../com/baidu/palo/catalog/MetadataViewerTest.java |  107 -
 .../com/baidu/palo/catalog/MysqlTableTest.java     |  241 -
 .../java/com/baidu/palo/catalog/OlapTableTest.java |   59 -
 .../com/baidu/palo/catalog/PartitionKeyTest.java   |  193 -
 .../baidu/palo/catalog/RangePartitionInfoTest.java |  143 -
 .../java/com/baidu/palo/catalog/ReplicaTest.java   |  257 -
 .../com/baidu/palo/catalog/ResourceGroupTest.java  |   60 -
 .../java/com/baidu/palo/catalog/TableTest.java     |  101 -
 .../java/com/baidu/palo/catalog/TabletTest.java    |  156 -
 .../com/baidu/palo/catalog/UserPropertyTest.java   |  123 -
 .../com/baidu/palo/catalog/UserResourceTest.java   |   82 -
 .../test/java/com/baidu/palo/clone/CloneTest.java  |  298 --
 .../palo/clone/ClusterLoadStatisticsTest.java      |  135 -
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |  266 -
 .../test/java/com/baidu/palo/common/CIDRTest.java  |   67 -
 .../baidu/palo/common/CommandLineOptionsTest.java  |   21 -
 .../com/baidu/palo/common/GenericPoolTest.java     |  293 --
 .../test/java/com/baidu/palo/common/MD5Test.java   |   59 -
 .../com/baidu/palo/common/MarkDownParserTest.java  |  167 -
 .../com/baidu/palo/common/PatternMatcherTest.java  |  132 -
 .../baidu/palo/common/PropertyAnalyzerTest.java    |  121 -
 .../com/baidu/palo/common/path/PathTrieTest.java   |  159 -
 .../palo/common/proc/BackendProcNodeTest.java      |   95 -
 .../palo/common/proc/BackendsProcDirTest.java      |  169 -
 .../com/baidu/palo/common/proc/DbsProcDirTest.java |  179 -
 .../baidu/palo/common/proc/ProcServiceTest.java    |  179 -
 .../com/baidu/palo/common/util/DebugUtilTest.java  |   88 -
 .../baidu/palo/common/util/ListComparatorTest.java |  189 -
 .../baidu/palo/common/util/LoadBalancerTest.java   |   52 -
 .../baidu/palo/common/util/RuntimeProfileTest.java |  180 -
 .../com/baidu/palo/common/util/TimeUtilsTest.java  |  143 -
 .../com/baidu/palo/common/util/UnitTestUtil.java   |  180 -
 .../baidu/palo/deploy/AmbariDeployManagerTest.java |   87 -
 .../java/com/baidu/palo/es/EsStateStoreTest.java   |  206 -
 fe/src/test/java/com/baidu/palo/es/EsUtilTest.java |   69 -
 .../com/baidu/palo/http/HttpAuthManagerTest.java   |   44 -
 .../java/com/baidu/palo/load/DppConfigTest.java    |  155 -
 .../java/com/baidu/palo/load/DppSchedulerTest.java |  233 -
 .../java/com/baidu/palo/load/EtlJobStatusTest.java |   92 -
 .../test/java/com/baidu/palo/load/FailMsgTest.java |   57 -
 .../java/com/baidu/palo/load/LoadCheckerTest.java  |  388 --
 .../test/java/com/baidu/palo/load/LoadJobTest.java |  257 -
 .../com/baidu/palo/load/PartitionLoadInfoTest.java |   95 -
 .../test/java/com/baidu/palo/load/SourceTest.java  |   92 -
 .../com/baidu/palo/load/TabletLoadInfoTest.java    |   81 -
 .../com/baidu/palo/mysql/MysqlAuthPacketTest.java  |   66 -
 .../com/baidu/palo/mysql/MysqlCapabilityTest.java  |   44 -
 .../com/baidu/palo/mysql/MysqlChannelTest.java     |  265 -
 .../java/com/baidu/palo/mysql/MysqlColDefTest.java |   78 -
 .../com/baidu/palo/mysql/MysqlColTypeTest.java     |   66 -
 .../com/baidu/palo/mysql/MysqlCommandTest.java     |   44 -
 .../com/baidu/palo/mysql/MysqlEofPacketTest.java   |   56 -
 .../com/baidu/palo/mysql/MysqlErrPacketTest.java   |   87 -
 .../baidu/palo/mysql/MysqlHandshakePacketTest.java |   98 -
 .../com/baidu/palo/mysql/MysqlOkPacketTest.java    |   68 -
 .../com/baidu/palo/mysql/MysqlPasswordTest.java    |   84 -
 .../java/com/baidu/palo/mysql/MysqlProtoTest.java  |  208 -
 .../java/com/baidu/palo/mysql/MysqlServerTest.java |  161 -
 .../com/baidu/palo/mysql/WrapperSocketChannel.java |  136 -
 .../com/baidu/palo/mysql/privilege/AuthTest.java   |  938 ----
 .../com/baidu/palo/mysql/privilege/MockedAuth.java |   57 -
 .../com/baidu/palo/mysql/privilege/PrivTest.java   |  347 --
 .../baidu/palo/mysql/privilege/PrivilegeTest.java  |  161 -
 .../palo/mysql/privilege/UserIdentityTest.java     |   46 -
 .../baidu/palo/persist/CreateTableInfoTest.java    |  119 -
 .../java/com/baidu/palo/persist/DropInfoTest.java  |   70 -
 .../java/com/baidu/palo/persist/EditLogTest.java   |  107 -
 .../baidu/palo/persist/ReplicaPersistInfoTest.java |   69 -
 .../com/baidu/palo/persist/StorageInfoTest.java    |   46 -
 .../java/com/baidu/palo/persist/StorageTest.java   |  155 -
 .../com/baidu/palo/planner/OlapScanNodeTest.java   |  165 -
 .../com/baidu/palo/planner/OlapTableSinkTest.java  |  174 -
 .../baidu/palo/planner/StreamLoadPlannerTest.java  |   74 -
 .../baidu/palo/planner/StreamLoadScanNodeTest.java |  522 --
 .../java/com/baidu/palo/qe/ConnectContextTest.java |  205 -
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |  389 --
 .../com/baidu/palo/qe/ConnectSchedulerTest.java    |  178 -
 .../java/com/baidu/palo/qe/CoordinatorTest.java    |  454 --
 .../java/com/baidu/palo/qe/HelpModuleTest.java     |  190 -
 .../com/baidu/palo/qe/HelpObjectLoaderTest.java    |   87 -
 .../com/baidu/palo/qe/JournalObservableTest.java   |  152 -
 .../java/com/baidu/palo/qe/MultiLoadMgrTest.java   |   80 -
 .../java/com/baidu/palo/qe/QueryStateTest.java     |   46 -
 .../java/com/baidu/palo/qe/SetExecutorTest.java    |   97 -
 .../java/com/baidu/palo/qe/ShowExecutorTest.java   |  506 --
 .../baidu/palo/qe/ShowResultSetMetaDataTest.java   |   52 -
 .../java/com/baidu/palo/qe/ShowResultSetTest.java  |   72 -
 .../com/baidu/palo/qe/SimpleSchedulerTest.java     |  205 -
 .../java/com/baidu/palo/qe/StmtExecutorTest.java   |  574 --
 .../java/com/baidu/palo/qe/VariableMgrTest.java    |  132 -
 .../java/com/baidu/palo/task/AgentTaskTest.java    |  283 -
 .../java/com/baidu/palo/task/LoadEtlTaskTest.java  |  187 -
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |  136 -
 .../baidu/palo/task/MasterTaskExecutorTest.java    |   91 -
 .../transaction/FakeTransactionIDGenerator.java    |   45 -
 .../palo/transaction/GlobalTransactionMgrTest.java |  448 --
 .../java/org/apache/doris/alter/RollupJobTest.java |  329 ++
 .../apache/doris/alter/SchemaChangeJobTest.java    |  256 +
 .../org/apache/doris/analysis/AccessTestUtil.java  |  232 +
 .../apache/doris/analysis/AddColumnClauseTest.java |  126 +
 .../doris/analysis/AddColumnsClauseTest.java       |   95 +
 .../apache/doris/analysis/AddRollupClauseTest.java |   88 +
 .../doris/analysis/AdminShowReplicaTest.java       |   77 +
 .../doris/analysis/AlterClusterStmtTest.java       |   86 +
 .../apache/doris/analysis/AlterTableStmtTest.java  |  100 +
 .../org/apache/doris/analysis/BackendStmtTest.java |   94 +
 .../apache/doris/analysis/CancelAlterStmtTest.java |   95 +
 .../apache/doris/analysis/ColumnPositionTest.java  |   50 +
 .../apache/doris/analysis/ColumnSeparatorTest.java |   61 +
 .../java/org/apache/doris/analysis/ColumnTest.java |   84 +
 .../doris/analysis/CreateClusterStmtTest.java      |   76 +
 .../apache/doris/analysis/CreateDbStmtTest.java    |   69 +
 .../apache/doris/analysis/CreateTableStmtTest.java |  154 +
 .../apache/doris/analysis/CreateUserStmtTest.java  |   92 +
 .../apache/doris/analysis/DataDescriptionTest.java |  162 +
 .../apache/doris/analysis/DecimalLiteralTest.java  |   48 +
 .../org/apache/doris/analysis/DeleteStmtTest.java  |  171 +
 .../apache/doris/analysis/DescribeStmtTest.java    |   85 +
 .../apache/doris/analysis/DropClusterStmtTest.java |   82 +
 .../doris/analysis/DropColumnClauseTest.java       |   57 +
 .../org/apache/doris/analysis/DropDbStmtTest.java  |   79 +
 .../doris/analysis/DropRollupClauseTest.java       |   51 +
 .../apache/doris/analysis/DropTableStmtTest.java   |   99 +
 .../apache/doris/analysis/DropUserStmtTest.java    |   69 +
 .../org/apache/doris/analysis/GrantStmtTest.java   |  105 +
 .../org/apache/doris/analysis/HelpStmtTest.java    |   47 +
 .../org/apache/doris/analysis/KillStmtTest.java    |   41 +
 .../org/apache/doris/analysis/LabelNameTest.java   |   75 +
 .../org/apache/doris/analysis/LinkDbStmtTest.java  |   75 +
 .../doris/analysis/LiteralExprCompareTest.java     |  320 ++
 .../org/apache/doris/analysis/LoadStmtTest.java    |  102 +
 .../apache/doris/analysis/MigrateDbStmtTest.java   |   75 +
 .../doris/analysis/ModifyColumnClauseTest.java     |   75 +
 .../doris/analysis/PartitionKeyDescTest.java       |   54 +
 .../doris/analysis/ReorderColumnsClauseTest.java   |   70 +
 .../org/apache/doris/analysis/SetNamesVarTest.java |   62 +
 .../org/apache/doris/analysis/SetPassVarTest.java  |   88 +
 .../org/apache/doris/analysis/SetStmtTest.java     |   86 +
 .../org/apache/doris/analysis/SetTypeTest.java     |   34 +
 .../doris/analysis/SetUserPropertyStmtTest.java    |   76 +
 .../doris/analysis/SetUserPropertyVarTest.java     |   57 +
 .../java/org/apache/doris/analysis/SetVarTest.java |   79 +
 .../apache/doris/analysis/ShowAlterStmtTest.java   |   92 +
 .../doris/analysis/ShowCreateDbStmtTest.java       |   68 +
 .../doris/analysis/ShowCreateTableStmtTest.java    |   72 +
 .../apache/doris/analysis/ShowDataStmtTest.java    |  141 +
 .../org/apache/doris/analysis/ShowDbStmtTest.java  |   47 +
 .../apache/doris/analysis/ShowEnginesStmtTest.java |   45 +
 .../apache/doris/analysis/ShowLoadStmtTest.java    |   92 +
 .../apache/doris/analysis/ShowRollupStmtTest.java  |   68 +
 .../apache/doris/analysis/ShowTableStmtTest.java   |   86 +
 .../doris/analysis/ShowUserPropertyStmtTest.java   |   61 +
 .../doris/analysis/ShowVariablesStmtTest.java      |   49 +
 .../apache/doris/analysis/SysVariableDescTest.java |   55 +
 .../org/apache/doris/analysis/UseStmtTest.java     |   71 +
 .../org/apache/doris/backup/AlterClauseRWTest.java |  104 +
 .../org/apache/doris/backup/BackupHandlerTest.java |  364 ++
 .../org/apache/doris/backup/BackupJobInfoTest.java |  167 +
 .../org/apache/doris/backup/BackupJobTest.java     |  326 ++
 .../org/apache/doris/backup/CatalogMocker.java     |  419 ++
 .../org/apache/doris/backup/FileSaverITest.java    |  122 +
 .../org/apache/doris/backup/PartitionNameTest.java |  254 +
 .../org/apache/doris/backup/PathMakerTest.java     |   30 +
 .../org/apache/doris/backup/RepositoryTest.java    |  318 ++
 .../doris/backup/RestoreFileMappingTest.java       |   43 +
 .../org/apache/doris/backup/RestoreJobTest.java    |  358 ++
 .../org/apache/doris/bdb/BDBToolOptionsTest.java   |   24 +
 .../java/org/apache/doris/bdb/BDBToolTest.java     |  150 +
 .../java/org/apache/doris/catalog/BackendTest.java |  197 +
 .../java/org/apache/doris/catalog/CatalogTest.java |  240 +
 .../org/apache/doris/catalog/CatalogTestUtil.java  |  294 ++
 .../org/apache/doris/catalog/ColumnStatsTest.java  |   90 +
 .../java/org/apache/doris/catalog/ColumnTest.java  |  131 +
 .../org/apache/doris/catalog/ColumnTypeTest.java   |  190 +
 .../org/apache/doris/catalog/CreateTableTest.java  |  370 ++
 .../org/apache/doris/catalog/DatabaseTest.java     |  196 +
 .../java/org/apache/doris/catalog/FakeCatalog.java |   31 +
 .../java/org/apache/doris/catalog/FakeEditLog.java |   74 +
 .../org/apache/doris/catalog/InfoSchemaDbTest.java |   40 +
 .../doris/catalog/MaterializedIndexTest.java       |   99 +
 .../apache/doris/catalog/MetadataViewerTest.java   |  107 +
 .../org/apache/doris/catalog/MysqlTableTest.java   |  241 +
 .../org/apache/doris/catalog/OlapTableTest.java    |   59 +
 .../org/apache/doris/catalog/PartitionKeyTest.java |  193 +
 .../doris/catalog/RangePartitionInfoTest.java      |  143 +
 .../java/org/apache/doris/catalog/ReplicaTest.java |  257 +
 .../apache/doris/catalog/ResourceGroupTest.java    |   60 +
 .../java/org/apache/doris/catalog/TableTest.java   |  101 +
 .../java/org/apache/doris/catalog/TabletTest.java  |  156 +
 .../org/apache/doris/catalog/UserPropertyTest.java |  123 +
 .../org/apache/doris/catalog/UserResourceTest.java |   82 +
 .../java/org/apache/doris/clone/CloneTest.java     |  298 ++
 .../doris/clone/ClusterLoadStatisticsTest.java     |  135 +
 .../doris/cluster/SystemInfoServiceTest.java       |  266 +
 .../java/org/apache/doris/common/CIDRTest.java     |   67 +
 .../doris/common/CommandLineOptionsTest.java       |   21 +
 .../org/apache/doris/common/GenericPoolTest.java   |  293 ++
 .../test/java/org/apache/doris/common/MD5Test.java |   59 +
 .../apache/doris/common/MarkDownParserTest.java    |  167 +
 .../apache/doris/common/PatternMatcherTest.java    |  132 +
 .../apache/doris/common/PropertyAnalyzerTest.java  |  121 +
 .../org/apache/doris/common/path/PathTrieTest.java |  159 +
 .../doris/common/proc/BackendProcNodeTest.java     |   95 +
 .../doris/common/proc/BackendsProcDirTest.java     |  169 +
 .../apache/doris/common/proc/DbsProcDirTest.java   |  179 +
 .../apache/doris/common/proc/ProcServiceTest.java  |  179 +
 .../apache/doris/common/util/DebugUtilTest.java    |   88 +
 .../doris/common/util/ListComparatorTest.java      |  189 +
 .../apache/doris/common/util/LoadBalancerTest.java |   52 +
 .../doris/common/util/RuntimeProfileTest.java      |  180 +
 .../apache/doris/common/util/TimeUtilsTest.java    |  143 +
 .../org/apache/doris/common/util/UnitTestUtil.java |  180 +
 .../doris/deploy/AmbariDeployManagerTest.java      |   87 +
 .../java/org/apache/doris/es/EsStateStoreTest.java |  206 +
 .../test/java/org/apache/doris/es/EsUtilTest.java  |   69 +
 .../org/apache/doris/http/HttpAuthManagerTest.java |   44 +
 .../java/org/apache/doris/load/DppConfigTest.java  |  155 +
 .../org/apache/doris/load/DppSchedulerTest.java    |  233 +
 .../org/apache/doris/load/EtlJobStatusTest.java    |   92 +
 .../java/org/apache/doris/load/FailMsgTest.java    |   57 +
 .../org/apache/doris/load/LoadCheckerTest.java     |  388 ++
 .../java/org/apache/doris/load/LoadJobTest.java    |  257 +
 .../apache/doris/load/PartitionLoadInfoTest.java   |   95 +
 .../java/org/apache/doris/load/SourceTest.java     |   92 +
 .../org/apache/doris/load/TabletLoadInfoTest.java  |   81 +
 .../apache/doris/mysql/MysqlAuthPacketTest.java    |   66 +
 .../apache/doris/mysql/MysqlCapabilityTest.java    |   44 +
 .../org/apache/doris/mysql/MysqlChannelTest.java   |  265 +
 .../org/apache/doris/mysql/MysqlColDefTest.java    |   78 +
 .../org/apache/doris/mysql/MysqlColTypeTest.java   |   66 +
 .../org/apache/doris/mysql/MysqlCommandTest.java   |   44 +
 .../org/apache/doris/mysql/MysqlEofPacketTest.java |   56 +
 .../org/apache/doris/mysql/MysqlErrPacketTest.java |   87 +
 .../doris/mysql/MysqlHandshakePacketTest.java      |   98 +
 .../org/apache/doris/mysql/MysqlOkPacketTest.java  |   68 +
 .../org/apache/doris/mysql/MysqlPasswordTest.java  |   84 +
 .../org/apache/doris/mysql/MysqlProtoTest.java     |  208 +
 .../org/apache/doris/mysql/MysqlServerTest.java    |  161 +
 .../apache/doris/mysql/WrapperSocketChannel.java   |  136 +
 .../org/apache/doris/mysql/privilege/AuthTest.java |  938 ++++
 .../apache/doris/mysql/privilege/MockedAuth.java   |   57 +
 .../org/apache/doris/mysql/privilege/PrivTest.java |  347 ++
 .../doris/mysql/privilege/PrivilegeTest.java       |  161 +
 .../doris/mysql/privilege/UserIdentityTest.java    |   46 +
 .../apache/doris/persist/CreateTableInfoTest.java  |  119 +
 .../org/apache/doris/persist/DropInfoTest.java     |   70 +
 .../java/org/apache/doris/persist/EditLogTest.java |  107 +
 .../doris/persist/ReplicaPersistInfoTest.java      |   69 +
 .../org/apache/doris/persist/StorageInfoTest.java  |   46 +
 .../java/org/apache/doris/persist/StorageTest.java |  155 +
 .../org/apache/doris/planner/OlapScanNodeTest.java |  165 +
 .../apache/doris/planner/OlapTableSinkTest.java    |  174 +
 .../doris/planner/StreamLoadPlannerTest.java       |   74 +
 .../doris/planner/StreamLoadScanNodeTest.java      |  522 ++
 .../org/apache/doris/qe/ConnectContextTest.java    |  205 +
 .../org/apache/doris/qe/ConnectProcessorTest.java  |  389 ++
 .../org/apache/doris/qe/ConnectSchedulerTest.java  |  178 +
 .../java/org/apache/doris/qe/CoordinatorTest.java  |  454 ++
 .../java/org/apache/doris/qe/HelpModuleTest.java   |  190 +
 .../org/apache/doris/qe/HelpObjectLoaderTest.java  |   87 +
 .../org/apache/doris/qe/JournalObservableTest.java |  152 +
 .../java/org/apache/doris/qe/MultiLoadMgrTest.java |   80 +
 .../java/org/apache/doris/qe/QueryStateTest.java   |   46 +
 .../java/org/apache/doris/qe/SetExecutorTest.java  |   97 +
 .../java/org/apache/doris/qe/ShowExecutorTest.java |  506 ++
 .../apache/doris/qe/ShowResultSetMetaDataTest.java |   52 +
 .../org/apache/doris/qe/ShowResultSetTest.java     |   72 +
 .../org/apache/doris/qe/SimpleSchedulerTest.java   |  205 +
 .../java/org/apache/doris/qe/StmtExecutorTest.java |  574 ++
 .../java/org/apache/doris/qe/VariableMgrTest.java  |  132 +
 .../java/org/apache/doris/task/AgentTaskTest.java  |  283 +
 .../org/apache/doris/task/LoadEtlTaskTest.java     |  187 +
 .../org/apache/doris/task/LoadPendingTaskTest.java |  136 +
 .../apache/doris/task/MasterTaskExecutorTest.java  |   91 +
 .../transaction/FakeTransactionIDGenerator.java    |   45 +
 .../transaction/GlobalTransactionMgrTest.java      |  448 ++
 .../baidu/palo/broker/hdfs/BrokerBootstrap.java    |   87 -
 .../com/baidu/palo/broker/hdfs/BrokerConfig.java   |   59 -
 .../baidu/palo/broker/hdfs/BrokerException.java    |   67 -
 .../baidu/palo/broker/hdfs/BrokerFileSystem.java   |   94 -
 .../palo/broker/hdfs/ClientContextManager.java     |  245 -
 .../baidu/palo/broker/hdfs/FileSystemIdentity.java |   66 -
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |  560 --
 .../palo/broker/hdfs/HDFSBrokerServiceImpl.java    |  244 -
 .../com/baidu/palo/common/BrokerPerfMonitor.java   |   27 -
 .../java/com/baidu/palo/common/ConfigBase.java     |  193 -
 .../com/baidu/palo/common/LoggerMessageFormat.java |  269 -
 .../java/com/baidu/palo/common/ThriftServer.java   |  114 -
 .../apache/doris/broker/hdfs/BrokerBootstrap.java  |   87 +
 .../org/apache/doris/broker/hdfs/BrokerConfig.java |   59 +
 .../apache/doris/broker/hdfs/BrokerException.java  |   67 +
 .../apache/doris/broker/hdfs/BrokerFileSystem.java |   94 +
 .../doris/broker/hdfs/ClientContextManager.java    |  245 +
 .../doris/broker/hdfs/FileSystemIdentity.java      |   66 +
 .../doris/broker/hdfs/FileSystemManager.java       |  560 ++
 .../doris/broker/hdfs/HDFSBrokerServiceImpl.java   |  244 +
 .../org/apache/doris/common/BrokerPerfMonitor.java |   27 +
 .../java/org/apache/doris/common/ConfigBase.java   |  193 +
 .../apache/doris/common/LoggerMessageFormat.java   |  269 +
 .../java/org/apache/doris/common/ThriftServer.java |  114 +
 .../palo/broker/hdfs/TestFileSystemManager.java    |  202 -
 .../palo/broker/hdfs/TestHDFSBrokerService.java    |   64 -
 .../doris/broker/hdfs/TestFileSystemManager.java   |  202 +
 .../doris/broker/hdfs/TestHDFSBrokerService.java   |   64 +
 gensrc/script/Makefile                             |    8 +-
 gensrc/script/gen_build_version.sh                 |   10 +-
 gensrc/script/gen_builtins_functions.py            |    8 +-
 gensrc/script/gen_opcodes.py                       |   14 +-
 gensrc/thrift/AgentService.thrift                  |    2 +-
 gensrc/thrift/BackendService.thrift                |    2 +-
 gensrc/thrift/Data.thrift                          |    2 +-
 gensrc/thrift/DataSinks.thrift                     |    2 +-
 gensrc/thrift/Ddl.thrift                           |    2 +-
 gensrc/thrift/Descriptors.thrift                   |    2 +-
 gensrc/thrift/Exprs.thrift                         |    2 +-
 gensrc/thrift/FrontendService.thrift               |    2 +-
 gensrc/thrift/HeartbeatService.thrift              |    2 +-
 gensrc/thrift/MasterService.thrift                 |    2 +-
 gensrc/thrift/MetricDefs.thrift                    |    2 +-
 gensrc/thrift/Metrics.thrift                       |    2 +-
 gensrc/thrift/Opcodes.thrift                       |    2 +-
 gensrc/thrift/PaloBrokerService.thrift             |    2 +-
 gensrc/thrift/PaloExternalDataSourceService.thrift |    2 +-
 gensrc/thrift/PaloInternalService.thrift           |    2 +-
 gensrc/thrift/PaloService.thrift                   |    2 +-
 gensrc/thrift/Partitions.thrift                    |    2 +-
 gensrc/thrift/PlanNodes.thrift                     |    2 +-
 gensrc/thrift/Planner.thrift                       |    2 +-
 gensrc/thrift/RuntimeProfile.thrift                |    2 +-
 gensrc/thrift/Status.thrift                        |    2 +-
 gensrc/thrift/Types.thrift                         |    2 +-
 2053 files changed, 188981 insertions(+), 188981 deletions(-)

commit 051aced48d0f3aa2d066e2ca9beff8111a818ba5
Author: morningman <morningman@163.com>
Date:   Wed Oct 31 16:19:21 2018 +0800

    Missing many files in last commit
    
    In last commit, a lot of files has been missed

 be/CMakeLists.txt                                  |   19 +-
 be/src/agent/agent_server.cpp                      |   97 +-
 be/src/agent/agent_server.h                        |    6 +-
 be/src/agent/cgroups_mgr.cpp                       |   14 +-
 be/src/agent/heartbeat_server.cpp                  |   35 +-
 be/src/agent/heartbeat_server.h                    |    4 +-
 be/src/agent/pusher.cpp                            |   36 +-
 be/src/agent/pusher.h                              |    7 +-
 be/src/agent/task_worker_pool.cpp                  |  654 +++-
 be/src/agent/task_worker_pool.h                    |   32 +-
 be/src/agent/utils.cpp                             |   17 +-
 be/src/codegen/CMakeLists.txt                      |    4 +-
 be/src/codegen/llvm_codegen.cpp                    |    1 +
 be/src/common/config.h                             |   23 +-
 be/src/common/daemon.cpp                           |   52 +-
 be/src/common/daemon.h                             |    6 +-
 be/src/exec/CMakeLists.txt                         |  120 +-
 be/src/exec/broker_scanner.cpp                     |   36 +-
 be/src/exec/broker_scanner.h                       |    5 +-
 be/src/exec/data_sink.cpp                          |    8 +
 be/src/exec/new_partitioned_aggregation_node.cc    |    6 +-
 be/src/exec/new_partitioned_hash_table.cc          |    5 +-
 be/src/exec/olap_meta_reader.cpp                   |    4 +-
 be/src/exec/olap_scan_node.cpp                     |    6 +-
 be/src/exec/olap_scanner.cpp                       |   32 +-
 be/src/exec/olap_scanner.h                         |    2 +-
 be/src/exec/partitioned_aggregation_node.cc        |    2 +-
 be/src/exec/schema_scan_node.cpp                   |    3 +-
 be/src/exec/schema_scanner/frontend_helper.cpp     |  178 +-
 be/src/exec/schema_scanner/frontend_helper.h       |    6 +
 be/src/exprs/CMakeLists.txt                        |    1 +
 be/src/exprs/aggregate_functions.cpp               |    4 +-
 be/src/exprs/anyval_util.cpp                       |    3 +-
 be/src/exprs/encryption_functions.cpp              |   38 +
 be/src/exprs/encryption_functions.h                |    4 +
 be/src/exprs/in_predicate.cpp                      |   10 +-
 be/src/exprs/timestamp_functions.cpp               |    2 +-
 be/src/gen_cpp/CMakeLists.txt                      |    1 +
 be/src/http/CMakeLists.txt                         |    6 +-
 be/src/http/action/checksum_action.cpp             |   13 +-
 be/src/http/action/checksum_action.h               |    4 +-
 be/src/http/action/compaction_action.cpp           |   98 -
 be/src/http/action/compaction_action.h             |   32 -
 be/src/http/action/mini_load.cpp                   |   57 +-
 be/src/http/action/reload_tablet_action.cpp        |    7 +-
 be/src/http/action/reload_tablet_action.h          |    8 +-
 be/src/http/action/snapshot_action.cpp             |   19 +-
 be/src/http/action/snapshot_action.h               |    4 +-
 be/src/http/ev_http_server.cpp                     |    3 +-
 be/src/http/http_channel.h                         |    1 -
 be/src/http/http_headers.cpp                       |    2 +
 be/src/http/http_headers.h                         |    4 +
 be/src/http/http_parser.h                          |    4 +-
 be/src/http/http_request.h                         |   13 +-
 be/src/http/web_page_handler.cpp                   |    2 +-
 be/src/olap/CMakeLists.txt                         |   23 +-
 be/src/olap/aggregate_func.h                       |   69 +-
 be/src/olap/base_compaction.cpp                    |  267 +-
 be/src/olap/base_compaction.h                      |   57 +-
 be/src/olap/column_file/column_data.cpp            |   16 +-
 be/src/olap/column_file/column_data.h              |    6 +-
 be/src/olap/column_file/column_reader.cpp          |    6 +-
 be/src/olap/column_file/column_writer.cpp          |  141 -
 be/src/olap/column_file/column_writer.h            |  245 +-
 be/src/olap/column_file/data_writer.cpp            |  214 +-
 be/src/olap/column_file/data_writer.h              |   13 +-
 be/src/olap/column_file/in_stream.h                |    4 +-
 be/src/olap/column_file/out_stream.cpp             |   28 -
 be/src/olap/column_file/out_stream.h               |   24 +-
 .../olap/column_file/run_length_integer_writer.cpp |   12 +-
 .../olap/column_file/run_length_integer_writer.h   |   10 +-
 be/src/olap/column_file/segment_reader.cpp         |   20 +-
 be/src/olap/column_file/segment_reader.h           |    8 +-
 be/src/olap/column_file/segment_writer.cpp         |   68 +-
 be/src/olap/column_file/segment_writer.h           |   13 +-
 be/src/olap/column_file/serialize.cpp              |  129 +-
 be/src/olap/column_file/serialize.h                |   46 +-
 be/src/olap/column_file/stream_index_common.cpp    |   14 -
 be/src/olap/column_file/stream_index_common.h      |   12 +-
 be/src/olap/command_executor.cpp                   |  762 -----
 be/src/olap/command_executor.h                     |  227 --
 be/src/olap/cumulative_compaction.cpp              |   96 +-
 be/src/olap/cumulative_compaction.h                |   20 +-
 be/src/olap/delete_handler.cpp                     |   64 +-
 be/src/olap/delete_handler.h                       |   26 +-
 be/src/olap/field.h                                |   21 +-
 be/src/olap/field_info.cpp                         |    4 +-
 be/src/olap/file_helper.cpp                        |  138 +-
 be/src/olap/file_helper.h                          |  113 +-
 be/src/olap/hll.cpp                                |   18 +-
 be/src/olap/hll.h                                  |   36 +-
 be/src/olap/i_data.cpp                             |    8 +-
 be/src/olap/i_data.h                               |   23 +-
 be/src/olap/lru_cache.cpp                          |   12 +-
 be/src/olap/lru_cache.h                            |    4 +-
 be/src/olap/merger.cpp                             |  175 +-
 be/src/olap/merger.h                               |   34 +-
 be/src/olap/olap_common.h                          |   89 +-
 be/src/olap/olap_cond.cpp                          |    2 +-
 be/src/olap/olap_cond.h                            |    8 +-
 be/src/olap/olap_data.cpp                          |   30 +-
 be/src/olap/olap_data.h                            |   17 +-
 be/src/olap/olap_define.h                          |   49 +-
 be/src/olap/olap_engine.cpp                        | 2521 ++++++++++++----
 be/src/olap/olap_engine.h                          |  456 ++-
 be/src/olap/olap_header.cpp                        |  570 +++-
 be/src/olap/olap_header.h                          |   64 +-
 be/src/olap/olap_header_manager.cpp                |    0
 be/src/olap/olap_index.cpp                         |  637 +---
 be/src/olap/olap_index.h                           |  286 +-
 be/src/olap/olap_main.cpp                          |   99 -
 be/src/olap/olap_main.h                            |   29 -
 be/src/olap/olap_meta.cpp                          |    0
 be/src/olap/olap_meta.h                            |    0
 be/src/olap/olap_rootpath.cpp                      | 1387 ---------
 be/src/olap/olap_rootpath.h                        |  231 --
 be/src/olap/olap_server.cpp                        |  137 +-
 be/src/olap/olap_server.h                          |   94 -
 be/src/olap/olap_snapshot.cpp                      |  544 ++--
 be/src/olap/olap_snapshot.h                        |  119 -
 be/src/olap/olap_table.cpp                         | 1837 +++++++++---
 be/src/olap/olap_table.h                           |  327 +-
 be/src/olap/push_handler.cpp                       |  342 ++-
 be/src/olap/push_handler.h                         |   49 +-
 be/src/olap/reader.cpp                             |   16 +-
 be/src/olap/reader.h                               |    6 +-
 be/src/olap/row_block.h                            |    8 +
 be/src/olap/row_cursor.cpp                         |    1 +
 be/src/olap/row_cursor.h                           |    3 +
 be/src/olap/schema_change.cpp                      |  593 ++--
 be/src/olap/schema_change.h                        |   74 +-
 be/src/olap/store.cpp                              |    0
 be/src/olap/types.h                                |   14 +-
 be/src/olap/utils.cpp                              |  134 +-
 be/src/olap/utils.h                                |  159 +-
 be/src/olap/wrapper_field.h                        |   11 +-
 be/src/olap/writer.cpp                             |  132 +-
 be/src/olap/writer.h                               |   66 +-
 be/src/runtime/CMakeLists.txt                      |    2 +
 be/src/runtime/data_stream_sender.cpp              |   29 +-
 be/src/runtime/decimal_value.h                     |    4 +
 be/src/runtime/descriptors.cpp                     |   59 +-
 be/src/runtime/descriptors.h                       |   17 +-
 be/src/runtime/disk_io_mgr.h                       |    2 +-
 be/src/runtime/dpp_sink.cpp                        |   16 +-
 be/src/runtime/dpp_writer.h                        |    1 -
 be/src/runtime/exec_env.cpp                        |   49 +-
 be/src/runtime/exec_env.h                          |   32 +
 be/src/runtime/fragment_mgr.cpp                    |   33 +-
 be/src/runtime/fragment_mgr.h                      |    2 +
 be/src/runtime/load_path_mgr.cpp                   |   82 +-
 be/src/runtime/load_path_mgr.h                     |    9 +-
 be/src/runtime/mem_tracker.cpp                     |   23 +-
 be/src/runtime/plan_fragment_executor.cpp          |   10 +-
 be/src/runtime/primitive_type.h                    |    7 +
 be/src/runtime/row_batch.cpp                       |   16 +-
 be/src/runtime/runtime_state.cpp                   |   11 +-
 be/src/runtime/runtime_state.h                     |   19 +
 be/src/runtime/snapshot_loader.cpp                 |   22 +-
 be/src/runtime/snapshot_loader.h                   |    1 +
 be/src/runtime/test_env.cc                         |    6 +-
 be/src/runtime/tmp_file_mgr.cc                     |   13 +-
 be/src/runtime/tmp_file_mgr.h                      |    5 +-
 be/src/runtime/tuple.cpp                           |   14 +-
 be/src/runtime/tuple.h                             |    1 +
 be/src/runtime/types.cpp                           |   45 +
 be/src/runtime/types.h                             |   14 +-
 be/src/service/backend_service.cpp                 |    5 +
 be/src/service/backend_service.h                   |    2 +
 be/src/service/brpc.h                              |    1 +
 be/src/service/internal_service.cpp                |   63 +-
 be/src/service/internal_service.h                  |   18 +
 be/src/service/palo_main.cpp                       |   47 +-
 be/src/util/CMakeLists.txt                         |    3 +
 be/src/util/brpc_stub_cache.h                      |    9 +
 be/src/util/file_utils.cpp                         |   10 +
 be/src/util/file_utils.h                           |    2 +
 be/src/util/hash_util.hpp                          |   11 +
 be/src/util/json_util.h                            |    4 +
 be/src/util/thrift_server.cpp                      |    4 +
 be/src/util/thrift_server.h                        |    1 +
 be/src/util/uid_util.h                             |   89 +
 be/src/util/url_coding.cpp                         |   46 +
 be/src/util/url_coding.h                           |    3 +
 be/test/agent/CMakeLists.txt                       |    6 +-
 be/test/agent/agent_server_test.cpp                |    9 +-
 be/test/agent/pusher_test.cpp                      |   46 +-
 be/test/agent/task_worker_pool_test.cpp            |  315 +-
 be/test/exec/CMakeLists.txt                        |    2 +
 be/test/exec/broker_scan_node_test.cpp             |    4 +-
 be/test/exec/broker_scanner_test.cpp               |   29 +-
 be/test/http/CMakeLists.txt                        |    3 +
 be/test/olap/CMakeLists.txt                        |   16 +-
 be/test/olap/bloom_filter_test.cpp                 |   16 +-
 be/test/olap/column_reader_test.cpp                |  825 +++--
 be/test/olap/command_executor_test.cpp             | 1849 ------------
 be/test/olap/delete_handler_test.cpp               |   95 +-
 be/test/olap/mock_command_executor.h               |   23 +-
 be/test/olap/olap_header_manager_test.cpp          |    0
 be/test/olap/olap_reader_test.cpp                  |   26 +-
 be/test/olap/row_cursor_test.cpp                   |    9 +-
 be/test/olap/run_length_integer_test.cpp           |    6 -
 be/test/olap/vectorized_olap_reader_test.cpp       |   14 +-
 be/test/runtime/CMakeLists.txt                     |    2 +
 be/test/util/CMakeLists.txt                        |    5 +
 be/test/util/system_metrics_test.cpp               |    6 +
 build.sh                                           |    2 +-
 fe/pom.xml                                         |    2 +-
 fe/src/main/cup/sql_parser.cup                     |   85 +-
 .../java/com/baidu/palo/alter/AlterHandler.java    |  346 +--
 .../main/java/com/baidu/palo/alter/AlterJob.java   |   86 +-
 .../baidu/palo/alter/DecommissionBackendJob.java   |   51 +-
 .../java/com/baidu/palo/alter/RollupHandler.java   |  301 +-
 .../main/java/com/baidu/palo/alter/RollupJob.java  |  457 ++-
 .../com/baidu/palo/alter/SchemaChangeHandler.java  |  372 +--
 .../java/com/baidu/palo/alter/SchemaChangeJob.java |  582 ++--
 .../java/com/baidu/palo/alter/SystemHandler.java   |   92 +-
 .../baidu/palo/analysis/AbstractBackupStmt.java    |    4 +-
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |    3 +-
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |    4 +-
 .../baidu/palo/analysis/AlterDatabaseRename.java   |    4 +-
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |    3 +-
 .../com/baidu/palo/analysis/AlterTableStmt.java    |    4 +-
 .../com/baidu/palo/analysis/AlterUserStmt.java     |   90 -
 .../java/com/baidu/palo/analysis/BackupStmt.java   |    4 +-
 .../com/baidu/palo/analysis/BinaryPredicate.java   |    6 +-
 .../com/baidu/palo/analysis/CancelBackupStmt.java  |    4 +-
 .../com/baidu/palo/analysis/CancelLoadStmt.java    |    4 +-
 .../com/baidu/palo/analysis/ColumnSeparator.java   |    6 +-
 .../com/baidu/palo/analysis/CreateClusterStmt.java |    4 +-
 .../java/com/baidu/palo/analysis/CreateDbStmt.java |    4 +-
 .../baidu/palo/analysis/CreateFunctionStmt.java    |    4 +-
 .../baidu/palo/analysis/CreateRepositoryStmt.java  |    4 +-
 .../com/baidu/palo/analysis/CreateRoleStmt.java    |    5 +-
 .../palo/analysis/CreateTableAsSelectStmt.java     |    4 +-
 .../com/baidu/palo/analysis/CreateTableStmt.java   |   11 +-
 .../com/baidu/palo/analysis/CreateUserStmt.java    |    5 +-
 .../com/baidu/palo/analysis/CreateViewStmt.java    |   49 +-
 .../java/com/baidu/palo/analysis/DeleteStmt.java   |    4 +-
 .../java/com/baidu/palo/analysis/DescribeStmt.java |    4 +-
 .../com/baidu/palo/analysis/DropClusterStmt.java   |    4 +-
 .../java/com/baidu/palo/analysis/DropDbStmt.java   |    4 +-
 .../com/baidu/palo/analysis/DropFunctionStmt.java  |    4 +-
 .../baidu/palo/analysis/DropRepositoryStmt.java    |    5 +-
 .../java/com/baidu/palo/analysis/DropRoleStmt.java |    5 +-
 .../com/baidu/palo/analysis/DropTableStmt.java     |    4 +-
 .../java/com/baidu/palo/analysis/DropUserStmt.java |    4 +-
 .../java/com/baidu/palo/analysis/EnterStmt.java    |    4 +-
 .../java/com/baidu/palo/analysis/ExportStmt.java   |    5 +-
 fe/src/main/java/com/baidu/palo/analysis/Expr.java |    7 +-
 .../java/com/baidu/palo/analysis/FromClause.java   |    4 +-
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |   36 +-
 .../java/com/baidu/palo/analysis/GrantStmt.java    |    4 +-
 .../com/baidu/palo/analysis/InlineViewRef.java     |    8 +-
 .../java/com/baidu/palo/analysis/InsertStmt.java   |   90 +-
 .../com/baidu/palo/analysis/LargeIntLiteral.java   |   11 +-
 .../java/com/baidu/palo/analysis/LinkDbStmt.java   |    4 +-
 .../java/com/baidu/palo/analysis/LoadStmt.java     |    6 +-
 .../com/baidu/palo/analysis/MigrateDbStmt.java     |    4 +-
 .../java/com/baidu/palo/analysis/ParseNode.java    |    4 +-
 .../com/baidu/palo/analysis/PartitionDesc.java     |    1 -
 .../java/com/baidu/palo/analysis/QueryStmt.java    |    7 +-
 .../com/baidu/palo/analysis/RecoverDbStmt.java     |    4 +-
 .../baidu/palo/analysis/RecoverPartitionStmt.java  |    4 +-
 .../com/baidu/palo/analysis/RecoverTableStmt.java  |    4 +-
 .../java/com/baidu/palo/analysis/RestoreStmt.java  |    4 +-
 .../java/com/baidu/palo/analysis/SelectStmt.java   |    6 +-
 .../main/java/com/baidu/palo/analysis/SetStmt.java |    4 +-
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |    4 +-
 .../main/java/com/baidu/palo/analysis/SetVar.java  |    4 +-
 .../com/baidu/palo/analysis/ShowAlterStmt.java     |    8 +-
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |    3 +-
 .../com/baidu/palo/analysis/ShowBackupStmt.java    |    5 +-
 .../com/baidu/palo/analysis/ShowBrokerStmt.java    |    3 +-
 .../com/baidu/palo/analysis/ShowClusterStmt.java   |    3 +-
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |    4 +-
 .../java/com/baidu/palo/analysis/ShowDataStmt.java |    4 +-
 .../java/com/baidu/palo/analysis/ShowDbStmt.java   |    4 +-
 .../com/baidu/palo/analysis/ShowDeleteStmt.java    |    4 +-
 .../com/baidu/palo/analysis/ShowExportStmt.java    |    4 +-
 .../com/baidu/palo/analysis/ShowFrontendsStmt.java |    3 +-
 .../com/baidu/palo/analysis/ShowGrantsStmt.java    |    3 +-
 .../java/com/baidu/palo/analysis/ShowLoadStmt.java |    4 +-
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |    4 +-
 .../baidu/palo/analysis/ShowMigrationsStmt.java    |    3 +-
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |    4 +-
 .../java/com/baidu/palo/analysis/ShowProcStmt.java |    3 +-
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |    5 +-
 .../com/baidu/palo/analysis/ShowRolesStmt.java     |    3 +-
 .../com/baidu/palo/analysis/ShowSnapshotStmt.java  |    4 +-
 .../com/baidu/palo/analysis/ShowTabletStmt.java    |    4 +-
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |    4 +-
 .../java/com/baidu/palo/analysis/ShowUserStmt.java |    3 +-
 .../com/baidu/palo/analysis/SlotDescriptor.java    |   15 +-
 .../com/baidu/palo/analysis/StatementBase.java     |    4 +-
 .../java/com/baidu/palo/analysis/StmtRewriter.java |    4 +-
 .../java/com/baidu/palo/analysis/Subquery.java     |    4 +-
 .../java/com/baidu/palo/analysis/SyncStmt.java     |    4 +-
 .../java/com/baidu/palo/analysis/TableRef.java     |    4 +-
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |    9 +-
 .../java/com/baidu/palo/analysis/UnionStmt.java    |   16 +-
 .../com/baidu/palo/analysis/UnsupportedStmt.java   |    4 +-
 .../main/java/com/baidu/palo/analysis/UseStmt.java |    4 +-
 .../java/com/baidu/palo/analysis/WithClause.java   |    4 +-
 .../java/com/baidu/palo/backup/BackupHandler.java  |    2 +-
 .../com/baidu/palo/backup/MetaDownloadTask.java    |   18 +-
 .../java/com/baidu/palo/backup/Repository.java     |    2 +-
 .../java/com/baidu/palo/backup/RestoreJob.java     |    3 +-
 .../com/baidu/palo/backup/SaveManifestTask.java    |   16 +-
 .../main/java/com/baidu/palo/catalog/Catalog.java  |  826 ++---
 .../main/java/com/baidu/palo/catalog/Column.java   |    9 +-
 .../main/java/com/baidu/palo/catalog/Database.java |   85 +-
 .../java/com/baidu/palo/catalog/OlapTable.java     |   17 +-
 .../java/com/baidu/palo/catalog/Partition.java     |   91 +-
 .../com/baidu/palo/catalog/RangePartitionInfo.java |    7 +-
 .../main/java/com/baidu/palo/catalog/Replica.java  |  185 +-
 .../java/com/baidu/palo/catalog/ScalarType.java    |    4 +-
 fe/src/main/java/com/baidu/palo/catalog/Table.java |   14 +-
 .../main/java/com/baidu/palo/catalog/Tablet.java   |    1 -
 .../baidu/palo/catalog/TabletInvertedIndex.java    |  124 +-
 .../java/com/baidu/palo/catalog/TabletMeta.java    |   11 -
 fe/src/main/java/com/baidu/palo/catalog/View.java  |    8 +-
 fe/src/main/java/com/baidu/palo/clone/Clone.java   |   60 +-
 .../java/com/baidu/palo/clone/CloneChecker.java    |  321 +-
 .../main/java/com/baidu/palo/clone/CloneJob.java   |   14 +-
 .../com/baidu/palo/clone/ClusterLoadStatistic.java |    4 +
 .../java/com/baidu/palo/clone/LoadBalancer.java    |    4 +
 .../baidu/palo/clone/RootPathLoadStatistic.java    |    2 +-
 .../main/java/com/baidu/palo/cluster/Cluster.java  |  240 +-
 .../com/baidu/palo/common/AnalysisException.java   |    2 +-
 .../baidu/palo/common/AuthenticationException.java |    0
 .../baidu/palo/common/AuthorizationException.java  |   34 -
 .../java/com/baidu/palo/common/ClientPool.java     |    2 +-
 fe/src/main/java/com/baidu/palo/common/Config.java |   56 +-
 .../java/com/baidu/palo/common/DdlException.java   |    5 +-
 .../java/com/baidu/palo/common/FeConstants.java    |    2 +-
 .../java/com/baidu/palo/common/FeMetaVersion.java  |    7 +-
 .../com/baidu/palo/common/InternalException.java   |   34 -
 .../java/com/baidu/palo/common/MarkDownParser.java |   10 +-
 .../baidu/palo/common/MetaNotFoundException.java   |    2 +-
 .../baidu/palo/common/NotImplementedException.java |    2 +-
 .../com/baidu/palo/common/proc/CloneProcNode.java  |    4 +-
 .../com/baidu/palo/common/proc/JobsProcDir.java    |   12 +-
 .../com/baidu/palo/common/proc/ProcService.java    |    1 +
 .../com/baidu/palo/common/proc/RollupProcDir.java  |    3 +-
 .../palo/common/proc/SchemaChangeProcNode.java     |   10 +-
 .../com/baidu/palo/common/proc/TableProcDir.java   |   10 +-
 .../com/baidu/palo/common/proc/TabletsProcDir.java |   27 +-
 .../com/baidu/palo/common/util/BrokerUtil.java     |   12 +-
 .../main/java/com/baidu/palo/common/util/Util.java |    9 +
 .../main/java/com/baidu/palo/http/HttpServer.java  |    4 +
 .../java/com/baidu/palo/http/meta/MetaService.java |   62 +-
 .../java/com/baidu/palo/http/rest/LoadAction.java  |   42 +-
 .../java/com/baidu/palo/http/rest/MultiAbort.java  |    8 +-
 .../java/com/baidu/palo/http/rest/MultiCommit.java |    8 +-
 .../java/com/baidu/palo/http/rest/MultiDesc.java   |    8 +-
 .../java/com/baidu/palo/http/rest/MultiList.java   |    9 +-
 .../java/com/baidu/palo/http/rest/MultiStart.java  |    9 +-
 .../java/com/baidu/palo/http/rest/MultiUnload.java |    4 +-
 .../java/com/baidu/palo/journal/JournalEntity.java |   15 +-
 .../palo/journal/local/LocalJournalCursor.java     |    6 +
 .../java/com/baidu/palo/load/AsyncDeleteJob.java   |    8 +-
 .../main/java/com/baidu/palo/load/DeleteInfo.java  |    5 +
 .../main/java/com/baidu/palo/load/ExportJob.java   |    8 +-
 fe/src/main/java/com/baidu/palo/load/Load.java     | 1112 +++++--
 fe/src/main/java/com/baidu/palo/load/Load.java.rej | 3155 --------------------
 .../main/java/com/baidu/palo/load/LoadChecker.java |  622 ++--
 fe/src/main/java/com/baidu/palo/load/LoadJob.java  |  214 +-
 .../java/com/baidu/palo/load/TableLoadInfo.java    |    7 +
 .../java/com/baidu/palo/master/MasterImpl.java     |  221 +-
 .../java/com/baidu/palo/master/ReportHandler.java  |  276 +-
 .../main/java/com/baidu/palo/persist/EditLog.java  |   53 +
 .../java/com/baidu/palo/persist/OperationType.java |   11 +-
 .../com/baidu/palo/persist/ReplicaPersistInfo.java |  200 +-
 .../com/baidu/palo/planner/AggregationNode.java    |    4 +-
 .../com/baidu/palo/planner/AnalyticEvalNode.java   |    4 +-
 .../com/baidu/palo/planner/AnalyticPlanner.java    |   10 +-
 .../com/baidu/palo/planner/BrokerScanNode.java     |   44 +-
 .../java/com/baidu/palo/planner/CsvScanNode.java   |    6 +-
 .../com/baidu/palo/planner/DistributedPlanner.java |   39 +-
 .../java/com/baidu/palo/planner/ExchangeNode.java  |    4 +-
 .../java/com/baidu/palo/planner/HashJoinNode.java  |    4 +-
 .../java/com/baidu/palo/planner/MergeNode.java     |    4 +-
 .../java/com/baidu/palo/planner/MysqlScanNode.java |    4 +-
 .../com/baidu/palo/planner/OlapRewriteNode.java    |    4 +-
 .../java/com/baidu/palo/planner/OlapScanNode.java  |   21 +-
 .../java/com/baidu/palo/planner/PlanFragment.java  |    6 +-
 .../main/java/com/baidu/palo/planner/PlanNode.java |    8 +-
 .../main/java/com/baidu/palo/planner/Planner.java  |   21 +-
 .../baidu/palo/planner/RangePartitionPruner.java   |    1 +
 .../com/baidu/palo/planner/SchemaScanNode.java     |    4 +-
 .../java/com/baidu/palo/planner/SelectNode.java    |    4 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   37 +-
 .../main/java/com/baidu/palo/planner/SortNode.java |    4 +-
 .../main/java/com/baidu/palo/qe/Coordinator.java   |   55 +-
 fe/src/main/java/com/baidu/palo/qe/HelpModule.java |   20 +-
 .../java/com/baidu/palo/qe/HelpObjectLoader.java   |    6 +-
 .../main/java/com/baidu/palo/qe/MultiLoadMgr.java  |   87 +-
 .../main/java/com/baidu/palo/qe/QeProcessor.java   |    6 +-
 .../java/com/baidu/palo/qe/QeProcessorImpl.java    |    8 +-
 fe/src/main/java/com/baidu/palo/qe/QeService.java  |    4 +-
 .../java/com/baidu/palo/qe/ResultReceiver.java     |    8 +-
 .../main/java/com/baidu/palo/qe/ShowExecutor.java  |   39 +-
 .../main/java/com/baidu/palo/qe/StmtExecutor.java  |   61 +-
 .../com/baidu/palo/service/FrontendOptions.java    |    3 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |  312 +-
 .../java/com/baidu/palo/task/AgentBatchTask.java   |  100 +-
 .../main/java/com/baidu/palo/task/AgentTask.java   |   11 +-
 .../com/baidu/palo/task/AgentTaskExecutor.java     |    3 +
 .../java/com/baidu/palo/task/AgentTaskQueue.java   |   29 +-
 .../java/com/baidu/palo/task/CancelDeleteTask.java |    2 +-
 .../com/baidu/palo/task/CheckConsistencyTask.java  |    3 +-
 .../main/java/com/baidu/palo/task/CloneTask.java   |    2 +-
 .../com/baidu/palo/task/CreateReplicaTask.java     |    2 +-
 .../java/com/baidu/palo/task/CreateRollupTask.java |    3 +-
 .../main/java/com/baidu/palo/task/DirMoveTask.java |    2 +-
 .../java/com/baidu/palo/task/DownloadTask.java     |    2 +-
 .../java/com/baidu/palo/task/DropReplicaTask.java  |    2 +-
 .../com/baidu/palo/task/ExportExportingTask.java   |    4 +-
 .../com/baidu/palo/task/HadoopLoadPendingTask.java |   40 +-
 .../main/java/com/baidu/palo/task/LoadEtlTask.java |   33 +-
 .../java/com/baidu/palo/task/LoadPendingTask.java  |   15 +-
 .../com/baidu/palo/task/MiniLoadPendingTask.java   |    4 +-
 .../java/com/baidu/palo/task/PullLoadEtlTask.java  |    7 +
 .../java/com/baidu/palo/task/PullLoadJobMgr.java   |    6 +-
 .../com/baidu/palo/task/PullLoadPendingTask.java   |    4 +-
 .../java/com/baidu/palo/task/PullLoadTask.java     |   10 +-
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   |    8 +-
 fe/src/main/java/com/baidu/palo/task/PushTask.java |   30 +-
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   |    2 +-
 .../java/com/baidu/palo/task/SchemaChangeTask.java |    3 +-
 .../java/com/baidu/palo/task/SnapshotTask.java     |    6 +-
 .../baidu/palo/task/StorageMediaMigrationTask.java |    2 +-
 .../main/java/com/baidu/palo/task/UploadTask.java  |    2 +-
 fe/src/main/jflex/sql_scanner.flex                 |    3 +
 .../baidu/palo/analysis/AlterClusterStmtTest.java  |    8 +-
 .../baidu/palo/analysis/AlterTableStmtTest.java    |   16 +-
 .../com/baidu/palo/analysis/BackendStmtTest.java   |    6 -
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |    5 +-
 .../baidu/palo/analysis/CreateClusterStmtTest.java |    9 +-
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |    6 +-
 .../baidu/palo/analysis/CreateTableStmtTest.java   |   13 +-
 .../baidu/palo/analysis/CreateUserStmtTest.java    |   13 +-
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |   18 +-
 .../com/baidu/palo/analysis/DescribeStmtTest.java  |    6 +-
 .../baidu/palo/analysis/DropClusterStmtTest.java   |    6 +-
 .../com/baidu/palo/analysis/DropDbStmtTest.java    |    8 +-
 .../com/baidu/palo/analysis/DropTableStmtTest.java |   10 +-
 .../com/baidu/palo/analysis/DropUserStmtTest.java  |    6 +-
 .../com/baidu/palo/analysis/GrantStmtTest.java     |    6 +-
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |    6 +-
 .../java/com/baidu/palo/analysis/LoadStmtTest.java |    6 +-
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |    6 +-
 .../com/baidu/palo/analysis/SetPassVarTest.java    |   12 +-
 .../java/com/baidu/palo/analysis/SetStmtTest.java  |    8 +-
 .../palo/analysis/SetUserPropertyStmtTest.java     |    8 +-
 .../palo/analysis/SetUserPropertyVarTest.java      |   10 +-
 .../java/com/baidu/palo/analysis/SetVarTest.java   |    6 +-
 .../com/baidu/palo/analysis/ShowAlterStmtTest.java |    6 +-
 .../baidu/palo/analysis/ShowCreateDbStmtTest.java  |    6 +-
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |    4 +-
 .../com/baidu/palo/analysis/ShowDbStmtTest.java    |    4 +-
 .../com/baidu/palo/analysis/ShowLoadStmtTest.java  |    6 +-
 .../palo/analysis/ShowUserPropertyStmtTest.java    |    4 +-
 .../java/com/baidu/palo/analysis/UseStmtTest.java  |    6 +-
 .../java/com/baidu/palo/backup/BackupJobTest.java  |   74 +-
 .../java/com/baidu/palo/backup/RestoreJobTest.java |   61 +-
 .../test/java/com/baidu/palo/bdb/BDBToolTest.java  |    3 +-
 .../java/com/baidu/palo/catalog/CatalogTest.java   |    2 +-
 .../com/baidu/palo/catalog/CreateTableTest.java    |    2 +
 .../java/com/baidu/palo/catalog/DatabaseTest.java  |    4 -
 .../java/com/baidu/palo/catalog/ReplicaTest.java   |  142 +-
 .../java/com/baidu/palo/catalog/TabletTest.java    |   14 +-
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |    6 -
 .../test/java/com/baidu/palo/common/CIDRTest.java  |    2 +-
 .../com/baidu/palo/common/GenericPoolTest.java     |   33 +-
 .../com/baidu/palo/common/MarkDownParserTest.java  |   18 +-
 .../com/baidu/palo/common/util/UnitTestUtil.java   |    9 +-
 .../java/com/baidu/palo/load/LoadCheckerTest.java  |    9 +-
 fe/src/test/java/com/baidu/palo/load/LoadTest.java |  332 --
 .../com/baidu/palo/mysql/privilege/AuthTest.java   |   48 +-
 .../baidu/palo/persist/ReplicaPersistInfoTest.java |   13 +-
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |    6 +-
 .../java/com/baidu/palo/qe/CoordinatorTest.java    |   11 +-
 .../java/com/baidu/palo/qe/HelpModuleTest.java     |    6 +-
 .../com/baidu/palo/qe/HelpObjectLoaderTest.java    |    6 +-
 .../java/com/baidu/palo/qe/SetExecutorTest.java    |    8 +-
 .../java/com/baidu/palo/qe/ShowExecutorTest.java   |    4 +-
 .../java/com/baidu/palo/qe/StmtExecutorTest.java   |    3 +
 .../java/com/baidu/palo/task/LoadEtlTaskTest.java  |    8 +-
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |   12 -
 fs_brokers/apache_hdfs_broker/pom.xml              |    4 +-
 .../palo/broker/hdfs/TestFileSystemManager.java    |   15 +-
 .../palo/broker/hdfs/TestHDFSBrokerService.java    |   16 +-
 gensrc/proto/internal_service.proto                |   63 +
 gensrc/proto/olap_file.proto                       |   64 +-
 gensrc/proto/types.proto                           |   38 +
 gensrc/script/gen_build_version.sh                 |    2 +-
 gensrc/script/gen_builtins_functions.py            |    0
 gensrc/script/gen_opcodes.py                       |    1 +
 gensrc/script/palo_builtins_functions.py           |   10 +
 gensrc/script/palo_functions.py                    |    0
 gensrc/thrift/AgentService.thrift                  |   48 +-
 gensrc/thrift/BackendService.thrift                |   12 +
 gensrc/thrift/Data.thrift                          |    1 +
 gensrc/thrift/DataSinks.thrift                     |   18 +
 gensrc/thrift/Descriptors.thrift                   |   96 +-
 gensrc/thrift/FrontendService.thrift               |   92 +
 gensrc/thrift/MasterService.thrift                 |   11 +-
 gensrc/thrift/PaloInternalService.thrift           |   60 +-
 gensrc/thrift/Partitions.thrift                    |    1 +
 gensrc/thrift/PlanNodes.thrift                     |   33 +-
 gensrc/thrift/Status.thrift                        |   31 +-
 gensrc/thrift/Types.thrift                         |   17 +-
 thirdparty/build-thirdparty.sh                     |   46 +-
 thirdparty/download-thirdparty.sh                  |   21 +-
 thirdparty/java-libraries/cglib-nodep-2.2.2.jar    |  Bin 326917 -> 0 bytes
 thirdparty/java-libraries/cobertura/asm-5.0.1.jar  |  Bin 53217 -> 0 bytes
 .../cobertura/asm-analysis-5.0.1.jar               |  Bin 20445 -> 0 bytes
 .../java-libraries/cobertura/asm-commons-5.0.1.jar |  Bin 41718 -> 0 bytes
 .../java-libraries/cobertura/asm-tree-5.0.1.jar    |  Bin 29038 -> 0 bytes
 .../java-libraries/cobertura/asm-util-5.0.1.jar    |  Bin 43307 -> 0 bytes
 .../cobertura/cobertura-2.1.1-javadoc.jar          |  Bin 1062062 -> 0 bytes
 .../cobertura/cobertura-2.1.1-sources.jar          |  Bin 409789 -> 0 bytes
 .../java-libraries/cobertura/cobertura-2.1.1.jar   |  Bin 564556 -> 0 bytes
 .../cobertura/commons-lang3-3.3.2.jar              |  Bin 412739 -> 0 bytes
 .../java-libraries/cobertura/hamcrest-core-1.3.jar |  Bin 45024 -> 0 bytes
 .../java-libraries/cobertura/jaxen-1.1.4.jar       |  Bin 226161 -> 0 bytes
 .../java-libraries/cobertura/jetty-6.1.14.jar      |  Bin 516429 -> 0 bytes
 .../java-libraries/cobertura/jetty-util-6.1.14.jar |  Bin 163121 -> 0 bytes
 .../cobertura/logback-classic-1.0.13.jar           |  Bin 264600 -> 0 bytes
 .../cobertura/logback-core-1.0.13.jar              |  Bin 418870 -> 0 bytes
 thirdparty/java-libraries/cobertura/oro-2.0.8.jar  |  Bin 65261 -> 0 bytes
 .../cobertura/servlet-api-2.5-6.1.14.jar           |  Bin 132368 -> 0 bytes
 .../java-libraries/cobertura/slf4j-api-1.7.5.jar   |  Bin 26084 -> 0 bytes
 .../java-libraries/commons-cli-2.0-SNAPSHOT.jar    |  Bin 258337 -> 0 bytes
 thirdparty/java-libraries/commons-codec-1.9.jar    |  Bin 263965 -> 0 bytes
 thirdparty/java-libraries/commons-lang-2.4.jar     |  Bin 261809 -> 0 bytes
 thirdparty/java-libraries/commons-pool2-2.2.jar    |  Bin 108036 -> 0 bytes
 .../java-libraries/commons-validator-1.4.1.jar     |  Bin 190098 -> 0 bytes
 thirdparty/java-libraries/easymock-3.2.jar         |  Bin 119780 -> 0 bytes
 thirdparty/java-libraries/gson-2.2.4.jar           |  Bin 190432 -> 0 bytes
 thirdparty/java-libraries/guava-15.0.jar           |  Bin 2172168 -> 0 bytes
 thirdparty/java-libraries/hamcrest-core-1.1.jar    |  Bin 76643 -> 0 bytes
 .../java-libraries/jackson-core-asl-1.8.1.jar      |  Bin 227120 -> 0 bytes
 .../java-libraries/jackson-mapper-asl-1.8.1.jar    |  Bin 666474 -> 0 bytes
 thirdparty/java-libraries/java-cup-0.11a.jar       |  Bin 104612 -> 0 bytes
 thirdparty/java-libraries/javassist-3.18.2-GA.jar  |  Bin 714524 -> 0 bytes
 .../java-libraries/javax.servlet-api-3.0.1.jar     |  Bin 85353 -> 0 bytes
 thirdparty/java-libraries/je-7.3.7.jar             |  Bin 3191987 -> 0 bytes
 thirdparty/java-libraries/jetty-6.1.14.jar         |  Bin 516429 -> 0 bytes
 thirdparty/java-libraries/jetty-util-6.1.14.jar    |  Bin 163121 -> 0 bytes
 thirdparty/java-libraries/jflex-1.4.3.jar          |  Bin 179102 -> 0 bytes
 thirdparty/java-libraries/jmockit-1.38.jar         |  Bin 809922 -> 0 bytes
 thirdparty/java-libraries/jprotobuf-1.11.0.jar     |  Bin 181307 -> 0 bytes
 .../java-libraries/jprotobuf-rpc-common-1.8.jar    |  Bin 11530 -> 0 bytes
 .../java-libraries/jprotobuf-rpc-core-3.5.17.jar   |  Bin 176428 -> 0 bytes
 thirdparty/java-libraries/json-20171018.jar        |  Bin 61749 -> 0 bytes
 thirdparty/java-libraries/junit-4.12.jar           |  Bin 314932 -> 0 bytes
 .../java-libraries/k8s-client/automaton-1.11-8.jar |  Bin 176285 -> 0 bytes
 .../java-libraries/k8s-client/generex-1.0.1.jar    |  Bin 13911 -> 0 bytes
 .../k8s-client/jackson-annotations-2.7.0.jar       |  Bin 50894 -> 0 bytes
 .../k8s-client/jackson-core-2.7.5.jar              |  Bin 252894 -> 0 bytes
 .../k8s-client/jackson-databind-2.7.5.jar          |  Bin 1205152 -> 0 bytes
 .../k8s-client/jackson-dataformat-yaml-2.7.5.jar   |  Bin 321216 -> 0 bytes
 .../jackson-module-jaxb-annotations-2.7.5.jar      |  Bin 34577 -> 0 bytes
 .../k8s-client/kubernetes-client-1.4.27.jar        |  Bin 299325 -> 0 bytes
 .../k8s-client/kubernetes-model-1.0.64.jar         |  Bin 5244360 -> 0 bytes
 .../k8s-client/logging-interceptor-3.4.1.jar       |  Bin 8081 -> 0 bytes
 .../java-libraries/k8s-client/okhttp-3.4.1.jar     |  Bin 344481 -> 0 bytes
 .../java-libraries/k8s-client/okhttp-ws-3.4.1.jar  |  Bin 26091 -> 0 bytes
 .../java-libraries/k8s-client/okio-1.9.0.jar       |  Bin 76036 -> 0 bytes
 .../java-libraries/k8s-client/snakeyaml-1.15.jar   |  Bin 269295 -> 0 bytes
 .../k8s-client/validation-api-1.1.0.Final.jar      |  Bin 63777 -> 0 bytes
 .../java-libraries/k8s-client/zjsonpatch-0.2.3.jar |  Bin 35521 -> 0 bytes
 .../java-libraries/kudu-client/async-1.1.0.jar     |  Bin 16919 -> 0 bytes
 .../interface-annotations-1.2.0-cdh5.10.0.jar      |  Bin 21304 -> 0 bytes
 .../kudu-client/kudu-client-1.2.0-cdh5.10.0.jar    |  Bin 7287634 -> 0 bytes
 .../java-libraries/kudu-client/log4j-1.2.17.jar    |  Bin 489884 -> 0 bytes
 .../java-libraries/kudu-client/slf4j-api-1.7.5.jar |  Bin 26084 -> 0 bytes
 thirdparty/java-libraries/libfb303-0.9.3.jar       |  Bin 313702 -> 0 bytes
 thirdparty/java-libraries/libthrift-0.9.3.jar      |  Bin 234201 -> 0 bytes
 thirdparty/java-libraries/log4j-api-2.2.jar        |  Bin 133518 -> 0 bytes
 thirdparty/java-libraries/log4j-core-2.2.jar       |  Bin 826732 -> 0 bytes
 thirdparty/java-libraries/log4j-slf4j-impl-2.2.jar |  Bin 22541 -> 0 bytes
 thirdparty/java-libraries/metrics-core-4.0.2.jar   |  Bin 97677 -> 0 bytes
 .../java-libraries/mysql-connector-java-5.1.41.jar |  Bin 992805 -> 0 bytes
 .../java-libraries/netty-all-4.1.25.Final.jar      |  Bin 3823147 -> 0 bytes
 thirdparty/java-libraries/objenesis-2.1.jar        |  Bin 41755 -> 0 bytes
 .../powermock-easymock-1.6.1-full.jar              |  Bin 532769 -> 0 bytes
 thirdparty/java-libraries/protobuf-java-2.5.0.jar  |  Bin 533455 -> 0 bytes
 thirdparty/java-libraries/protoparser-3.1.5.jar    |  Bin 37431 -> 0 bytes
 thirdparty/java-libraries/servlet-api.jar          |  Bin 97689 -> 0 bytes
 thirdparty/java-libraries/slf4j-api-1.6.1.jar      |  Bin 25496 -> 0 bytes
 thirdparty/java-libraries/snappy-java-1.1.7.2.jar  |  Bin 2018686 -> 0 bytes
 thirdparty/vars.sh                                 |   20 +-
 596 files changed, 16638 insertions(+), 18038 deletions(-)

commit 5d3fc80067d607ae898d7465e3e82faed3871467
Author: morningman <morningman@163.com>
Date:   Wed Oct 31 14:46:22 2018 +0800

    Added:
    * Add streaming load feature. You can execute 'help stream load;' to see more information.
    
    Changed:
    * Loading phase of a certain table can be parallelized, to reduce the load job execution time when multi load jobs to a single table.
    * Using RocksDB to save the header info of tablets in Backends, to reduce the IO operations and increate speeding of restarting.
    
    Fixed:
    * A lot of bugs fixed.

 be/src/aes/CMakeLists.txt                          |   26 +
 be/src/aes/my_aes.cpp                              |   57 +
 be/src/aes/my_aes.h                                |  139 +++
 be/src/aes/my_aes_impl.h                           |   37 +
 be/src/aes/my_aes_openssl.cpp                      |  216 ++++
 be/src/exec/olap_table_info.cpp                    |  329 ++++++
 be/src/exec/olap_table_info.h                      |  235 ++++
 be/src/exec/olap_table_sink.cpp                    |  754 +++++++++++++
 be/src/exec/olap_table_sink.h                      |  248 +++++
 be/src/exprs/es_functions.cpp                      |   33 +
 be/src/exprs/es_functions.h                        |   40 +
 be/src/http/action/meta_action.cpp                 |   78 ++
 be/src/http/action/meta_action.h                   |   48 +
 be/src/http/action/restore_tablet_action.cpp       |  294 +++++
 be/src/http/action/restore_tablet_action.h         |   62 ++
 be/src/http/action/stream_load.cpp                 |  606 ++++++++++
 be/src/http/action/stream_load.h                   |   63 ++
 be/src/http/http_common.h                          |   42 +
 be/src/http/message_body_sink.cpp                  |   75 ++
 be/src/http/message_body_sink.h                    |   58 +
 be/src/http/utils.cpp                              |   70 ++
 be/src/http/utils.h                                |   44 +
 be/src/olap/delta_writer.cpp                       |  226 ++++
 be/src/olap/delta_writer.h                         |   83 ++
 be/src/olap/memtable.cpp                           |  161 +++
 be/src/olap/memtable.h                             |   64 ++
 be/src/olap/new_status.cpp                         |  134 +++
 be/src/olap/new_status.h                           |  196 ++++
 be/src/olap/olap_header_manager.cpp                |  175 +++
 be/src/olap/olap_header_manager.h                  |   54 +
 be/src/olap/olap_meta.cpp                          |  152 +++
 be/src/olap/olap_meta.h                            |   56 +
 be/src/olap/options.cpp                            |   69 ++
 be/src/olap/options.h                              |   40 +
 be/src/olap/rowset.cpp                             |  635 +++++++++++
 be/src/olap/rowset.h                               |  285 +++++
 be/src/olap/rowset_builder.h                       |   63 ++
 be/src/olap/schema.h                               |  165 +++
 be/src/olap/skiplist.h                             |  397 +++++++
 be/src/olap/store.cpp                              |  557 ++++++++++
 be/src/olap/store.h                                |  126 +++
 be/src/runtime/kafka_consumer_pipe.cpp             |   21 +
 be/src/runtime/kafka_consumer_pipe.h               |   48 +
 be/src/runtime/load_stream_mgr.h                   |   60 +
 be/src/runtime/stream_load_pipe.h                  |  173 +++
 be/src/runtime/tablet_writer_mgr.cpp               |  327 ++++++
 be/src/runtime/tablet_writer_mgr.h                 |   97 ++
 be/src/tools/CMakeLists.txt                        |   36 +
 be/src/tools/meta_tool.cpp                         |  167 +++
 be/src/util/arena.cc                               |   68 ++
 be/src/util/arena.h                                |   69 ++
 be/src/util/byte_buffer.h                          |   68 ++
 be/src/util/json_util.cpp                          |   46 +
 be/src/util/random.h                               |   64 ++
 be/src/util/ref_count_closure.h                    |   53 +
 be/src/util/string_util.h                          |   65 ++
 be/src/util/uid_util.cpp                           |   25 +
 be/test/exec/olap_table_info_test.cpp              |  439 ++++++++
 be/test/exec/olap_table_sink_test.cpp              |  927 ++++++++++++++++
 be/test/http/http_utils_test.cpp                   |   91 ++
 be/test/http/message_body_sink_test.cpp            |   61 +
 be/test/http/stream_load_test.cpp                  |  231 ++++
 be/test/olap/delta_writer_test.cpp                 |  666 +++++++++++
 be/test/olap/olap_header_manager_test.cpp          |  118 ++
 be/test/olap/olap_meta_test.cpp                    |  121 ++
 be/test/olap/serialize_test.cpp                    |  242 ++++
 be/test/olap/skiplist_test.cpp                     |  387 +++++++
 be/test/olap/test_data/header.txt                  |  152 +++
 be/test/runtime/stream_load_pipe_test.cpp          |  260 +++++
 be/test/runtime/tablet_writer_mgr_test.cpp         |  678 +++++++++++
 be/test/util/arena_test.cpp                        |   68 ++
 be/test/util/byte_buffer_test2.cpp                 |   56 +
 be/test/util/descriptor_helper.h                   |  155 +++
 be/test/util/json_util_test.cpp                    |   70 ++
 be/test/util/string_util_test.cpp                  |   78 ++
 be/test/util/uid_util_test.cpp                     |   98 ++
 fe/build.xml.deprecated                            |  247 -----
 .../analysis/AdminShowReplicaDistributionStmt.java |   93 ++
 .../palo/analysis/AdminShowReplicaStatusStmt.java  |  161 +++
 .../com/baidu/palo/analysis/ImportColumnDesc.java  |   30 +
 .../com/baidu/palo/analysis/ImportColumnsStmt.java |   23 +
 .../com/baidu/palo/analysis/ImportWhereStmt.java   |   21 +
 .../main/java/com/baidu/palo/catalog/EsTable.java  |  225 ++++
 .../com/baidu/palo/catalog/MetadataViewer.java     |  245 ++++
 .../java/com/baidu/palo/catalog/TabletStatMgr.java |  141 +++
 .../baidu/palo/common/AuthenticationException.java |   34 +
 .../java/com/baidu/palo/common/UserException.java  |   43 +
 .../palo/common/proc/EsPartitionsProcDir.java      |  131 +++
 .../com/baidu/palo/common/proc/EsShardProcDir.java |  108 ++
 .../com/baidu/palo/common/proc/TransDbProcDir.java |   92 ++
 .../palo/common/proc/TransPartitionProcNode.java   |   75 ++
 .../com/baidu/palo/common/proc/TransProcDir.java   |   98 ++
 .../baidu/palo/common/proc/TransTablesProcDir.java |  113 ++
 .../java/com/baidu/palo/external/EsIndexState.java |  145 +++
 .../com/baidu/palo/external/EsShardRouting.java    |   64 ++
 .../java/com/baidu/palo/external/EsStateStore.java |  221 ++++
 .../java/com/baidu/palo/external/EsTableState.java |   85 ++
 .../main/java/com/baidu/palo/external/EsUtil.java  |   91 ++
 .../palo/external/ExternalDataSourceException.java |   27 +
 .../com/baidu/palo/http/rest/CancelStreamLoad.java |   87 ++
 .../baidu/palo/http/rest/GetStreamLoadState.java   |   89 ++
 .../java/com/baidu/palo/planner/EsScanNode.java    |  258 +++++
 .../java/com/baidu/palo/planner/OlapTableSink.java |  303 +++++
 .../com/baidu/palo/planner/StreamLoadPlanner.java  |  142 +++
 .../com/baidu/palo/planner/StreamLoadScanNode.java |  374 +++++++
 .../java/com/baidu/palo/task/ClearAlterTask.java   |   34 +
 .../com/baidu/palo/task/ClearTransactionTask.java  |   40 +
 .../com/baidu/palo/task/PublishVersionTask.java    |   62 ++
 .../com/baidu/palo/task/RecoverTabletTask.java     |   42 +
 .../transaction/BeginTransactionException.java     |   16 +
 .../palo/transaction/GlobalTransactionMgr.java     | 1173 ++++++++++++++++++++
 .../IllegalTransactionParameterException.java      |   16 +
 .../transaction/LabelAlreadyExistsException.java   |   36 +
 .../palo/transaction/PartitionCommitInfo.java      |   77 ++
 .../palo/transaction/PublishVersionDaemon.java     |  195 ++++
 .../baidu/palo/transaction/TableCommitInfo.java    |   88 ++
 .../baidu/palo/transaction/TabletCommitInfo.java   |   66 ++
 .../TransactionCommitFailedException.java          |   31 +
 .../palo/transaction/TransactionIDGenerator.java   |   73 ++
 .../baidu/palo/transaction/TransactionState.java   |  322 ++++++
 .../baidu/palo/transaction/TransactionStatus.java  |   69 ++
 .../java/com/baidu/palo/alter/RollupJobTest.java   |  329 ++++++
 .../com/baidu/palo/alter/SchemaChangeJobTest.java  |  256 +++++
 .../baidu/palo/analysis/AdminShowReplicaTest.java  |   77 ++
 .../com/baidu/palo/catalog/CatalogTestUtil.java    |  294 +++++
 .../java/com/baidu/palo/catalog/FakeCatalog.java   |   31 +
 .../java/com/baidu/palo/catalog/FakeEditLog.java   |   74 ++
 .../com/baidu/palo/catalog/MetadataViewerTest.java |  107 ++
 .../java/com/baidu/palo/es/EsStateStoreTest.java   |  206 ++++
 fe/src/test/java/com/baidu/palo/es/EsUtilTest.java |   69 ++
 .../com/baidu/palo/planner/OlapTableSinkTest.java  |  174 +++
 .../baidu/palo/planner/StreamLoadPlannerTest.java  |   74 ++
 .../baidu/palo/planner/StreamLoadScanNodeTest.java |  522 +++++++++
 .../transaction/FakeTransactionIDGenerator.java    |   45 +
 .../palo/transaction/GlobalTransactionMgrTest.java |  448 ++++++++
 fe/src/test/resources/data/es/clusterstate1.json   |  750 +++++++++++++
 fe/src/test/resources/data/es/clusterstate2.json   |  720 ++++++++++++
 fe/src/test/resources/data/es/clusterstate3.json   |  745 +++++++++++++
 fs_brokers/apache_hdfs_broker/build.xml.deprecated |   95 --
 fs_brokers/apache_hdfs_broker/pom.xml              |  458 ++++++++
 gensrc/proto/descriptors.proto                     |   59 +
 gensrc/thrift/PaloExternalDataSourceService.thrift |  221 ++++
 142 files changed, 24995 insertions(+), 342 deletions(-)

commit 6d6d5e65f0c24be9914196edfaa8d9ad9d293e3d
Merge: 765c91bb 9391ffc6
Author: lide <mailtolide@sina.com>
Date:   Wed Oct 31 10:36:56 2018 +0800

    Merge pull request #254 from lide-reed/master
    
    Add DISCLAIMER

commit 765c91bbc2ddfe4001dbd9650e3e6c9e09389ab4
Author: zhaochun <zhaochun@baidu.com>
Date:   Tue Oct 30 22:21:33 2018 +0800

    Added: change Doris build.sh to get environment variables from
    custom_env.sh, and add run-ut.sh and run-fe-ut.sh

 be/src/util/metrics.cpp                |   2 +-
 be/src/util/system_metrics.cpp         |   4 +-
 be/test/http/metrics_action_test.cpp   |   6 +-
 be/test/olap/CMakeLists.txt            |   6 +-
 be/test/util/system_metrics_test.cpp   |   6 -
 build.sh                               |  41 ++----
 env.sh                                 |  62 ++++++++++
 fs_brokers/apache_hdfs_broker/build.sh |  22 +---
 run-fe-ut.sh                           |  86 +++++++++++++
 run-ut.sh                              | 219 +++++++++++++++++++++++++++++++++
 10 files changed, 387 insertions(+), 67 deletions(-)

commit 9391ffc69c4587d7f9e498286b56db8b37db3df1
Author: lide-reed <lide@apache.org>
Date:   Tue Oct 30 19:59:14 2018 +0800

    update LICENSE.txt

 LICENSE.txt | 89 +------------------------------------------------------------
 1 file changed, 1 insertion(+), 88 deletions(-)

commit a0419240dd3ddb38c916ac2846e5d5069403a526
Author: lide-reed <lide@apache.org>
Date:   Tue Oct 30 17:44:21 2018 +0800

    Add DISCLAIMER

 DISCLAIMER | 6 ++++++
 1 file changed, 6 insertions(+)

commit ae9ce81453f05df96dab919b92149b5007be9066
Author: imay <buaa.zhaoc@gmail.com>
Date:   Tue Oct 30 16:29:06 2018 +0800

    Changed: change build.sh to use environment variable to get thirdparty's
    path, and change PALO_HOME to DORIS_HOME

 be/CMakeLists.txt                                  | 48 +++++++--------
 be/src/codegen/CMakeLists.txt                      |  8 +--
 be/src/codegen/gen_ir_descriptions.py              |  2 +-
 be/src/common/config.h                             | 16 ++---
 be/src/service/CMakeLists.txt                      |  2 +-
 be/src/service/palo_main.cpp                       |  6 +-
 be/src/util/path_builder.cpp                       |  2 +-
 be/src/util/path_builder.h                         |  6 +-
 be/test/agent/agent_server_test.cpp                |  2 +-
 be/test/agent/file_downloader_test.cpp             |  2 +-
 be/test/agent/heartbeat_server_test.cpp            |  4 +-
 be/test/agent/pusher_test.cpp                      |  2 +-
 be/test/agent/task_worker_pool_test.cpp            |  2 +-
 be/test/agent/utils_test.cpp                       |  2 +-
 be/test/common/resource_tls_test.cpp               |  2 +-
 be/test/exec/broker_reader_test.cpp                |  2 +-
 be/test/exec/broker_scan_node_test.cpp             |  2 +-
 be/test/exec/broker_scanner_test.cpp               |  2 +-
 be/test/exec/csv_scan_bench_test.cpp               |  2 +-
 be/test/exec/csv_scan_node_test.cpp                |  2 +-
 be/test/exec/csv_scanner_test.cpp                  |  2 +-
 be/test/exec/hash_table_test.cpp                   |  2 +-
 be/test/exec/mysql_scan_node_test.cpp              |  2 +-
 be/test/exec/mysql_scanner_test.cpp                |  2 +-
 be/test/exec/new_olap_scan_node_test.cpp           |  2 +-
 be/test/exec/olap_common_test.cpp                  |  2 +-
 be/test/exec/olap_scan_node_test.cpp               |  2 +-
 be/test/exec/olap_scanner_test.cpp                 |  2 +-
 be/test/exec/partitioned_hash_table_test.cpp       |  2 +-
 be/test/exec/plain_text_line_reader_bzip_test.cpp  |  2 +-
 be/test/exec/plain_text_line_reader_gzip_test.cpp  |  2 +-
 .../exec/plain_text_line_reader_lz4frame_test.cpp  |  2 +-
 be/test/exec/plain_text_line_reader_lzop_test.cpp  |  2 +-
 .../plain_text_line_reader_uncompressed_test.cpp   |  2 +-
 be/test/exec/schema_scan_node_test.cpp             |  2 +-
 .../schema_scanner/schema_authors_scanner_test.cpp |  2 +-
 .../schema_charsets_scanner_test.cpp               |  2 +-
 .../schema_collations_scanner_test.cpp             |  2 +-
 .../schema_scanner/schema_columns_scanner_test.cpp |  2 +-
 .../schema_create_table_scanner_test.cpp           |  2 +-
 .../schema_scanner/schema_engines_scanner_test.cpp |  2 +-
 .../schema_open_tables_scanner_test.cpp            |  2 +-
 .../schema_schemata_scanner_test.cpp               |  2 +-
 .../schema_table_names_scanner_test.cpp            |  2 +-
 .../schema_scanner/schema_tables_scanner_test.cpp  |  2 +-
 .../schema_variables_scanner_test.cpp              |  2 +-
 be/test/exec/schema_scanner_test.cpp               |  2 +-
 be/test/exec/set_executor_test.cpp                 |  2 +-
 be/test/exprs/hybird_set_test.cpp                  |  2 +-
 be/test/exprs/in_predicate_test.cpp                |  2 +-
 be/test/exprs/json_function_test.cpp               |  2 +-
 be/test/olap/bit_field_test.cpp                    |  2 +-
 be/test/olap/bloom_filter_index_test.cpp           |  2 +-
 be/test/olap/bloom_filter_test.cpp                 |  2 +-
 be/test/olap/byte_buffer_test.cpp                  |  2 +-
 be/test/olap/column_reader_test.cpp                |  2 +-
 be/test/olap/command_executor_test.cpp             |  4 +-
 be/test/olap/comparison_predicate_test.cpp         |  2 +-
 be/test/olap/delete_handler_test.cpp               |  6 +-
 be/test/olap/file_helper_test.cpp                  |  2 +-
 be/test/olap/file_utils_test.cpp                   |  2 +-
 be/test/olap/in_list_predicate_test.cpp            |  2 +-
 be/test/olap/lru_cache_test.cpp                    |  2 +-
 be/test/olap/null_predicate_test.cpp               |  2 +-
 be/test/olap/olap_reader_test.cpp                  |  4 +-
 be/test/olap/row_block_test.cpp                    |  2 +-
 be/test/olap/row_cursor_test.cpp                   |  2 +-
 be/test/olap/run_length_byte_test.cpp              |  2 +-
 be/test/olap/run_length_integer_test.cpp           |  2 +-
 be/test/olap/stream_index_test.cpp                 |  2 +-
 be/test/olap/vectorized_olap_reader_test.cpp       |  4 +-
 be/test/runtime/buffer_control_block_test.cpp      |  2 +-
 be/test/runtime/buffered_block_mgr2_test.cpp       |  2 +-
 be/test/runtime/buffered_tuple_stream2_test.cpp    |  2 +-
 be/test/runtime/data_spliter_test.cpp              |  2 +-
 be/test/runtime/data_stream_test.cpp               |  2 +-
 be/test/runtime/datetime_value_test.cpp            |  2 +-
 be/test/runtime/decimal_value_test.cpp             |  2 +-
 be/test/runtime/disk_io_mgr_test.cpp               |  2 +-
 be/test/runtime/dpp_sink_test.cpp                  |  2 +-
 be/test/runtime/dpp_writer_test.cpp                |  2 +-
 be/test/runtime/etl_job_mgr_test.cpp               |  2 +-
 be/test/runtime/export_task_mgr_test.cpp           |  2 +-
 be/test/runtime/free_list_test.cpp                 |  2 +-
 be/test/runtime/large_int_value_test.cpp           |  2 +-
 be/test/runtime/mem_limit_test.cpp                 |  2 +-
 be/test/runtime/mem_pool_test.cpp                  |  2 +-
 be/test/runtime/mysql_table_writer_test.cpp        |  2 +-
 be/test/runtime/qsorter_test.cpp                   |  2 +-
 be/test/runtime/raw_value_test.cpp                 |  2 +-
 be/test/runtime/result_buffer_mgr_test.cpp         |  2 +-
 be/test/runtime/result_sink_test.cpp               |  2 +-
 be/test/runtime/result_writer_test.cpp             |  2 +-
 be/test/runtime/snapshot_loader_test.cpp           |  2 +-
 be/test/runtime/string_buffer_test.cpp             |  2 +-
 be/test/runtime/string_value_test.cpp              |  2 +-
 be/test/runtime/thread_resource_mgr_test.cpp       |  2 +-
 be/test/runtime/tmp_file_mgr_test.cpp              |  2 +-
 be/test/udf/uda_test.cpp                           |  2 +-
 be/test/udf/udf_test.cpp                           |  2 +-
 be/test/util/bit_util_test.cpp                     |  2 +-
 be/test/util/cidr_test.cpp                         |  2 +-
 be/test/util/count_down_latch_test.cpp             |  2 +-
 be/test/util/decompress_test.cpp                   |  2 +-
 be/test/util/filesystem_util_test.cpp              |  2 +-
 be/test/util/internal_queue_test.cpp               |  2 +-
 be/test/util/lru_cache_util_test.cpp               |  2 +-
 be/test/util/palo_metrics_test.cpp                 |  2 +-
 be/test/util/path_trie_test.cpp                    |  2 +-
 be/test/util/perf_counters_test.cpp                |  2 +-
 be/test/util/runtime_profile_test.cpp              |  2 +-
 be/test/util/string_parser_test.cpp                |  2 +-
 be/test/util/system_metrics_test.cpp               |  2 +-
 be/test/util/thread_pool_test.cpp                  |  2 +-
 be/test/util/url_coding_test.cpp                   |  2 +-
 bin/start_be.sh                                    | 16 ++---
 bin/start_fe.sh                                    | 18 +++---
 bin/stop_be.sh                                     |  4 +-
 bin/stop_fe.sh                                     |  4 +-
 build.sh                                           | 69 ++++++++++++----------
 conf/be.conf                                       |  2 +-
 conf/fe.conf                                       |  8 +--
 fe/pom.xml                                         | 14 ++---
 fe/src/main/java/com/baidu/palo/PaloFe.java        |  4 +-
 .../java/com/baidu/palo/backup/CommandBuilder.java |  4 +-
 fe/src/main/java/com/baidu/palo/common/Config.java |  8 +--
 .../palo/http/action/StaticResourceAction.java     |  2 +-
 .../java/com/baidu/palo/load/DppScheduler.java     |  8 +--
 .../java/com/baidu/palo/load/DppSchedulerTest.java |  2 +-
 gensrc/proto/Makefile                              |  2 +-
 gensrc/script/gen_build_version.sh                 | 20 +++----
 gensrc/thrift/Makefile                             |  2 +-
 thirdparty/build-thirdparty.sh                     |  4 +-
 thirdparty/download-thirdparty.sh                  |  2 +-
 134 files changed, 257 insertions(+), 252 deletions(-)

commit e453fca39a9bbfe3ec37bd3fac06d34ac3baa768
Author: morningman <morningman@163.com>
Date:   Sat Oct 27 16:27:12 2018 +0800

    Removed generated thrift files in apache hdfs broker.
    Internal commit id: Ief3bb767165dbd9c2a4640ad8407967d92b1c8ba

 .../main/resources/thrift/PaloBrokerService.thrift |   227 -
 .../palo/thrift/TBrokerCheckPathExistRequest.java  |   661 --
 .../palo/thrift/TBrokerCheckPathExistResponse.java |   496 -
 .../palo/thrift/TBrokerCloseReaderRequest.java     |   513 -
 .../palo/thrift/TBrokerCloseWriterRequest.java     |   513 -
 .../palo/thrift/TBrokerDeletePathRequest.java      |   661 --
 .../thrift/com/baidu/palo/thrift/TBrokerFD.java    |   486 -
 .../com/baidu/palo/thrift/TBrokerFileStatus.java   |   683 --
 .../baidu/palo/thrift/TBrokerListPathRequest.java  |   865 --
 .../com/baidu/palo/thrift/TBrokerListResponse.java |   561 -
 .../com/baidu/palo/thrift/TBrokerOpenMode.java     |    42 -
 .../palo/thrift/TBrokerOpenReaderRequest.java      |   862 --
 .../palo/thrift/TBrokerOpenReaderResponse.java     |   512 -
 .../palo/thrift/TBrokerOpenWriterRequest.java      |   879 --
 .../palo/thrift/TBrokerOpenWriterResponse.java     |   512 -
 .../baidu/palo/thrift/TBrokerOperationStatus.java  |   518 -
 .../palo/thrift/TBrokerOperationStatusCode.java    |    69 -
 .../com/baidu/palo/thrift/TBrokerPReadRequest.java |   709 --
 .../baidu/palo/thrift/TBrokerPWriteRequest.java    |   724 --
 .../palo/thrift/TBrokerPingBrokerRequest.java      |   508 -
 .../com/baidu/palo/thrift/TBrokerReadResponse.java |   517 -
 .../palo/thrift/TBrokerRenamePathRequest.java      |   762 --
 .../com/baidu/palo/thrift/TBrokerSeekRequest.java  |   613 --
 .../com/baidu/palo/thrift/TBrokerVersion.java      |    42 -
 .../com/baidu/palo/thrift/TPaloBrokerService.java  | 10488 -------------------
 25 files changed, 23423 deletions(-)

commit 68d663fe7adbaefc13e0f88bcfb0a49ac0878e1c
Author: morningman <morningman@163.com>
Date:   Sat Oct 27 11:35:20 2018 +0800

    Changed: change the compilation method of Frontend and Apache hdfs broker from ANT to MAVEN

 build.sh                                           |    24 +-
 fe/{build.xml => build.xml.deprecated}             |     0
 fe/pom.xml                                         |   766 ++
 .../sql_parser.y => fe/src/main/cup/sql_parser.cup |     0
 fe/src/{ => main/java}/com/baidu/palo/PaloFe.java  |     0
 .../java}/com/baidu/palo/alter/Alter.java          |     0
 .../java}/com/baidu/palo/alter/AlterHandler.java   |     0
 .../java}/com/baidu/palo/alter/AlterJob.java       |     0
 .../baidu/palo/alter/DecommissionBackendJob.java   |     0
 .../java}/com/baidu/palo/alter/RollupHandler.java  |     0
 .../java}/com/baidu/palo/alter/RollupJob.java      |     0
 .../com/baidu/palo/alter/SchemaChangeHandler.java  |     0
 .../com/baidu/palo/alter/SchemaChangeJob.java      |     0
 .../java}/com/baidu/palo/alter/SystemHandler.java  |     0
 .../baidu/palo/analysis/AbstractBackupStmt.java    |     0
 .../com/baidu/palo/analysis/AddBackendClause.java  |     0
 .../com/baidu/palo/analysis/AddColumnClause.java   |     0
 .../com/baidu/palo/analysis/AddColumnsClause.java  |     0
 .../com/baidu/palo/analysis/AddFollowerClause.java |     0
 .../com/baidu/palo/analysis/AddObserverClause.java |     0
 .../baidu/palo/analysis/AddPartitionClause.java    |     0
 .../com/baidu/palo/analysis/AddRollupClause.java   |     0
 .../com/baidu/palo/analysis/AggregateInfo.java     |     0
 .../com/baidu/palo/analysis/AggregateInfoBase.java |     0
 .../baidu/palo/analysis/AggregateParamsList.java   |     0
 .../java}/com/baidu/palo/analysis/AlterClause.java |     0
 .../baidu/palo/analysis/AlterClusterClause.java    |     0
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |     0
 .../com/baidu/palo/analysis/AlterClusterType.java  |     0
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |     0
 .../baidu/palo/analysis/AlterDatabaseRename.java   |     0
 .../palo/analysis/AlterLoadErrorUrlClause.java     |     0
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |     0
 .../com/baidu/palo/analysis/AlterTableStmt.java    |     0
 .../com/baidu/palo/analysis/AlterUserClause.java   |     0
 .../com/baidu/palo/analysis/AlterUserStmt.java     |     0
 .../com/baidu/palo/analysis/AlterUserType.java     |     0
 .../com/baidu/palo/analysis/AnalyticExpr.java      |     0
 .../com/baidu/palo/analysis/AnalyticInfo.java      |     0
 .../com/baidu/palo/analysis/AnalyticWindow.java    |     0
 .../java}/com/baidu/palo/analysis/Analyzer.java    |     0
 .../com/baidu/palo/analysis/ArithmeticExpr.java    |     0
 .../com/baidu/palo/analysis/BackendClause.java     |     0
 .../java}/com/baidu/palo/analysis/BackupStmt.java  |     0
 .../com/baidu/palo/analysis/BaseTableRef.java      |     0
 .../com/baidu/palo/analysis/BetweenPredicate.java  |     0
 .../com/baidu/palo/analysis/BinaryPredicate.java   |     0
 .../java}/com/baidu/palo/analysis/BoolLiteral.java |     0
 .../java}/com/baidu/palo/analysis/BrokerDesc.java  |     0
 .../palo/analysis/BuiltinAggregateFunction.java    |     0
 .../baidu/palo/analysis/CancelAlterSystemStmt.java |     0
 .../baidu/palo/analysis/CancelAlterTableStmt.java  |     0
 .../com/baidu/palo/analysis/CancelBackupStmt.java  |     0
 .../com/baidu/palo/analysis/CancelLoadStmt.java    |     0
 .../java}/com/baidu/palo/analysis/CancelStmt.java  |     0
 .../java}/com/baidu/palo/analysis/CaseExpr.java    |     0
 .../com/baidu/palo/analysis/CaseWhenClause.java    |     0
 .../java}/com/baidu/palo/analysis/CastExpr.java    |     0
 .../java}/com/baidu/palo/analysis/ClusterName.java |     0
 .../com/baidu/palo/analysis/ColumnPosition.java    |     0
 .../baidu/palo/analysis/ColumnRenameClause.java    |     0
 .../com/baidu/palo/analysis/ColumnSeparator.java   |     0
 .../com/baidu/palo/analysis/CompoundPredicate.java |     0
 .../com/baidu/palo/analysis/CreateClusterStmt.java |     0
 .../com/baidu/palo/analysis/CreateDbStmt.java      |     0
 .../baidu/palo/analysis/CreateFunctionStmt.java    |     0
 .../baidu/palo/analysis/CreateRepositoryStmt.java  |     0
 .../com/baidu/palo/analysis/CreateRoleStmt.java    |     0
 .../palo/analysis/CreateTableAsSelectStmt.java     |     0
 .../com/baidu/palo/analysis/CreateTableStmt.java   |     0
 .../com/baidu/palo/analysis/CreateUserStmt.java    |     0
 .../com/baidu/palo/analysis/CreateViewStmt.java    |     0
 .../com/baidu/palo/analysis/DataDescription.java   |     0
 .../java}/com/baidu/palo/analysis/DateLiteral.java |     0
 .../java}/com/baidu/palo/analysis/DdlStmt.java     |     0
 .../com/baidu/palo/analysis/DecimalLiteral.java    |     0
 .../palo/analysis/DecommissionBackendClause.java   |     0
 .../java}/com/baidu/palo/analysis/DeleteStmt.java  |     0
 .../com/baidu/palo/analysis/DescribeStmt.java      |     0
 .../com/baidu/palo/analysis/DescriptorTable.java   |     0
 .../com/baidu/palo/analysis/DistributionDesc.java  |     0
 .../com/baidu/palo/analysis/DropBackendClause.java |     0
 .../com/baidu/palo/analysis/DropClusterStmt.java   |     0
 .../com/baidu/palo/analysis/DropColumnClause.java  |     0
 .../java}/com/baidu/palo/analysis/DropDbStmt.java  |     0
 .../baidu/palo/analysis/DropFollowerClause.java    |     0
 .../com/baidu/palo/analysis/DropFunctionStmt.java  |     0
 .../baidu/palo/analysis/DropObserverClause.java    |     0
 .../baidu/palo/analysis/DropPartitionClause.java   |     0
 .../baidu/palo/analysis/DropRepositoryStmt.java    |     0
 .../com/baidu/palo/analysis/DropRoleStmt.java      |     0
 .../com/baidu/palo/analysis/DropRollupClause.java  |     0
 .../com/baidu/palo/analysis/DropTableStmt.java     |     0
 .../com/baidu/palo/analysis/DropUserStmt.java      |     0
 .../java}/com/baidu/palo/analysis/EmptyStmt.java   |     0
 .../java}/com/baidu/palo/analysis/EnterStmt.java   |     0
 .../com/baidu/palo/analysis/ExistsPredicate.java   |     0
 .../java}/com/baidu/palo/analysis/ExportStmt.java  |     0
 .../java}/com/baidu/palo/analysis/Expr.java        |     0
 .../java}/com/baidu/palo/analysis/ExprId.java      |     0
 .../baidu/palo/analysis/ExprSubstitutionMap.java   |     0
 .../com/baidu/palo/analysis/FloatLiteral.java      |     0
 .../java}/com/baidu/palo/analysis/FromClause.java  |     0
 .../com/baidu/palo/analysis/FrontendClause.java    |     0
 .../com/baidu/palo/analysis/FunctionArgs.java      |     0
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |     0
 .../com/baidu/palo/analysis/FunctionName.java      |     0
 .../com/baidu/palo/analysis/FunctionParams.java    |     0
 .../java}/com/baidu/palo/analysis/GrantStmt.java   |     0
 .../baidu/palo/analysis/HashDistributionDesc.java  |     0
 .../java}/com/baidu/palo/analysis/HdfsURI.java     |     0
 .../java}/com/baidu/palo/analysis/HelpStmt.java    |     0
 .../java}/com/baidu/palo/analysis/InPredicate.java |     0
 .../baidu/palo/analysis/InformationFunction.java   |     0
 .../com/baidu/palo/analysis/InlineViewRef.java     |     0
 .../com/baidu/palo/analysis/InsertSource.java      |     0
 .../java}/com/baidu/palo/analysis/InsertStmt.java  |     0
 .../com/baidu/palo/analysis/InsertTarget.java      |     0
 .../java}/com/baidu/palo/analysis/IntLiteral.java  |     0
 .../com/baidu/palo/analysis/IsNullPredicate.java   |     0
 .../com/baidu/palo/analysis/JoinOperator.java      |     0
 .../java}/com/baidu/palo/analysis/KeysDesc.java    |     0
 .../java}/com/baidu/palo/analysis/KillStmt.java    |     0
 .../java}/com/baidu/palo/analysis/LabelName.java   |     0
 .../com/baidu/palo/analysis/LargeIntLiteral.java   |     0
 .../com/baidu/palo/analysis/LikePredicate.java     |     0
 .../com/baidu/palo/analysis/LimitElement.java      |     0
 .../java}/com/baidu/palo/analysis/LinkDbStmt.java  |     0
 .../java}/com/baidu/palo/analysis/LiteralExpr.java |     0
 .../java}/com/baidu/palo/analysis/LoadStmt.java    |     0
 .../java}/com/baidu/palo/analysis/MaxLiteral.java  |     0
 .../com/baidu/palo/analysis/MigrateDbStmt.java     |     0
 .../baidu/palo/analysis/ModifyBrokerClause.java    |     0
 .../baidu/palo/analysis/ModifyColumnClause.java    |     0
 .../baidu/palo/analysis/ModifyPartitionClause.java |     0
 .../palo/analysis/ModifyTablePropertiesClause.java |     0
 .../java}/com/baidu/palo/analysis/NullLiteral.java |     0
 .../com/baidu/palo/analysis/OpcodeRegistry.java    |     0
 .../com/baidu/palo/analysis/OrderByElement.java    |     0
 .../java}/com/baidu/palo/analysis/ParseNode.java   |     0
 .../com/baidu/palo/analysis/PartitionDesc.java     |     0
 .../com/baidu/palo/analysis/PartitionKeyDesc.java  |     0
 .../com/baidu/palo/analysis/PartitionName.java     |     0
 .../baidu/palo/analysis/PartitionRenameClause.java |     0
 .../java}/com/baidu/palo/analysis/Predicate.java   |     0
 .../java}/com/baidu/palo/analysis/QueryStmt.java   |     0
 .../palo/analysis/RandomDistributionDesc.java      |     0
 .../baidu/palo/analysis/RangePartitionDesc.java    |     0
 .../com/baidu/palo/analysis/RecoverDbStmt.java     |     0
 .../baidu/palo/analysis/RecoverPartitionStmt.java  |     0
 .../com/baidu/palo/analysis/RecoverTableStmt.java  |     0
 .../com/baidu/palo/analysis/RedirectStatus.java    |     0
 .../baidu/palo/analysis/ReorderColumnsClause.java  |     0
 .../java}/com/baidu/palo/analysis/RestoreStmt.java |     0
 .../java}/com/baidu/palo/analysis/RevokeStmt.java  |     0
 .../baidu/palo/analysis/RollupRenameClause.java    |     0
 .../com/baidu/palo/analysis/SchemaTableType.java   |     0
 .../java}/com/baidu/palo/analysis/SelectList.java  |     0
 .../com/baidu/palo/analysis/SelectListItem.java    |     0
 .../java}/com/baidu/palo/analysis/SelectStmt.java  |     0
 .../java}/com/baidu/palo/analysis/SetNamesVar.java |     0
 .../java}/com/baidu/palo/analysis/SetPassVar.java  |     0
 .../java}/com/baidu/palo/analysis/SetStmt.java     |     0
 .../com/baidu/palo/analysis/SetTransaction.java    |     0
 .../java}/com/baidu/palo/analysis/SetType.java     |     0
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |     0
 .../baidu/palo/analysis/SetUserPropertyVar.java    |     0
 .../java}/com/baidu/palo/analysis/SetVar.java      |     0
 .../com/baidu/palo/analysis/ShowAlterStmt.java     |     0
 .../com/baidu/palo/analysis/ShowAuthorStmt.java    |     0
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |     0
 .../com/baidu/palo/analysis/ShowBackupStmt.java    |     0
 .../com/baidu/palo/analysis/ShowBrokerStmt.java    |     0
 .../com/baidu/palo/analysis/ShowCharsetStmt.java   |     0
 .../com/baidu/palo/analysis/ShowClusterStmt.java   |     0
 .../com/baidu/palo/analysis/ShowCollationStmt.java |     0
 .../com/baidu/palo/analysis/ShowColumnStmt.java    |     0
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |     0
 .../baidu/palo/analysis/ShowCreateTableStmt.java   |     0
 .../com/baidu/palo/analysis/ShowDataStmt.java      |     0
 .../java}/com/baidu/palo/analysis/ShowDbStmt.java  |     0
 .../com/baidu/palo/analysis/ShowDeleteStmt.java    |     0
 .../com/baidu/palo/analysis/ShowEnginesStmt.java   |     0
 .../com/baidu/palo/analysis/ShowEventsStmt.java    |     0
 .../com/baidu/palo/analysis/ShowExportStmt.java    |     0
 .../com/baidu/palo/analysis/ShowFrontendsStmt.java |     0
 .../com/baidu/palo/analysis/ShowGrantsStmt.java    |     0
 .../com/baidu/palo/analysis/ShowKeysStmt.java      |     0
 .../com/baidu/palo/analysis/ShowLoadStmt.java      |     0
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |     0
 .../baidu/palo/analysis/ShowMigrationsStmt.java    |     0
 .../com/baidu/palo/analysis/ShowOpenTableStmt.java |     0
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |     0
 .../com/baidu/palo/analysis/ShowPluginsStmt.java   |     0
 .../com/baidu/palo/analysis/ShowProcStmt.java      |     0
 .../com/baidu/palo/analysis/ShowProcedureStmt.java |     0
 .../baidu/palo/analysis/ShowProcesslistStmt.java   |     0
 .../baidu/palo/analysis/ShowRepositoriesStmt.java  |     0
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |     0
 .../com/baidu/palo/analysis/ShowRolesStmt.java     |     0
 .../com/baidu/palo/analysis/ShowRollupStmt.java    |     0
 .../com/baidu/palo/analysis/ShowSnapshotStmt.java  |     0
 .../com/baidu/palo/analysis/ShowStatusStmt.java    |     0
 .../java}/com/baidu/palo/analysis/ShowStmt.java    |     0
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |     0
 .../com/baidu/palo/analysis/ShowTableStmt.java     |     0
 .../com/baidu/palo/analysis/ShowTabletStmt.java    |     0
 .../com/baidu/palo/analysis/ShowTriggersStmt.java  |     0
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |     0
 .../com/baidu/palo/analysis/ShowUserStmt.java      |     0
 .../com/baidu/palo/analysis/ShowVariablesStmt.java |     0
 .../com/baidu/palo/analysis/ShowWarningStmt.java   |     0
 .../com/baidu/palo/analysis/ShowWhiteListStmt.java |     0
 .../palo/analysis/SingleRangePartitionDesc.java    |     0
 .../com/baidu/palo/analysis/SlotDescriptor.java    |     0
 .../java}/com/baidu/palo/analysis/SlotId.java      |     0
 .../java}/com/baidu/palo/analysis/SlotRef.java     |     0
 .../java}/com/baidu/palo/analysis/SortInfo.java    |     0
 .../com/baidu/palo/analysis/StatementBase.java     |     0
 .../com/baidu/palo/analysis/StmtRewriter.java      |     0
 .../com/baidu/palo/analysis/StringLiteral.java     |     0
 .../java}/com/baidu/palo/analysis/Subquery.java    |     0
 .../java}/com/baidu/palo/analysis/SyncStmt.java    |     0
 .../com/baidu/palo/analysis/SysVariableDesc.java   |     0
 .../java}/com/baidu/palo/analysis/TableName.java   |     0
 .../com/baidu/palo/analysis/TablePattern.java      |     0
 .../java}/com/baidu/palo/analysis/TableRef.java    |     0
 .../com/baidu/palo/analysis/TableRenameClause.java |     0
 .../palo/analysis/TimestampArithmeticExpr.java     |     0
 .../java}/com/baidu/palo/analysis/ToSqlUtils.java  |     0
 .../com/baidu/palo/analysis/TupleDescriptor.java   |     0
 .../java}/com/baidu/palo/analysis/TupleId.java     |     0
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |     0
 .../java}/com/baidu/palo/analysis/UnionStmt.java   |     0
 .../com/baidu/palo/analysis/UnsupportedStmt.java   |     0
 .../java}/com/baidu/palo/analysis/UseStmt.java     |     0
 .../java}/com/baidu/palo/analysis/UserDesc.java    |     0
 .../com/baidu/palo/analysis/UserIdentity.java      |     0
 .../java}/com/baidu/palo/analysis/WithClause.java  |     0
 .../com/baidu/palo/backup/AbstractBackupJob_D.java |     0
 .../java}/com/baidu/palo/backup/AbstractJob.java   |     0
 .../baidu/palo/backup/AsynchronousCmdExecutor.java |     0
 .../java}/com/baidu/palo/backup/BackupHandler.java |     0
 .../java}/com/baidu/palo/backup/BackupJob.java     |     0
 .../java}/com/baidu/palo/backup/BackupJobInfo.java |     0
 .../java}/com/baidu/palo/backup/BackupJob_D.java   |     0
 .../java}/com/baidu/palo/backup/BackupMeta.java    |     0
 .../java}/com/baidu/palo/backup/BackupVersion.java |     0
 .../java}/com/baidu/palo/backup/BlobStorage.java   |     0
 .../com/baidu/palo/backup/CommandBuilder.java      |     0
 .../java}/com/baidu/palo/backup/DirSaver.java      |     0
 .../java}/com/baidu/palo/backup/FileSaver.java     |     0
 .../java}/com/baidu/palo/backup/FileSaverI.java    |     0
 .../com/baidu/palo/backup/MetaDownloadTask.java    |     0
 .../com/baidu/palo/backup/MetaUploadTask.java      |     0
 .../java}/com/baidu/palo/backup/ObjectWriter.java  |     0
 .../java}/com/baidu/palo/backup/PathBuilder.java   |     0
 .../java}/com/baidu/palo/backup/RemoteFile.java    |     0
 .../java}/com/baidu/palo/backup/Repository.java    |     0
 .../java}/com/baidu/palo/backup/RepositoryMgr.java |     0
 .../com/baidu/palo/backup/RestoreFileMapping.java  |     0
 .../java}/com/baidu/palo/backup/RestoreJob.java    |     0
 .../java}/com/baidu/palo/backup/RestoreJob_D.java  |     0
 .../java}/com/baidu/palo/backup/ResultfulTask.java |     0
 .../com/baidu/palo/backup/SaveManifestTask.java    |     0
 .../java}/com/baidu/palo/backup/SnapshotInfo.java  |     0
 .../java}/com/baidu/palo/backup/Status.java        |     0
 .../com/baidu/palo/catalog/AccessPrivilege.java    |     0
 .../com/baidu/palo/catalog/AggregateFunction.java  |     0
 .../com/baidu/palo/catalog/AggregateType.java      |     0
 .../java}/com/baidu/palo/catalog/ArrayType.java    |     0
 .../java}/com/baidu/palo/catalog/BrokerMgr.java    |     0
 .../java}/com/baidu/palo/catalog/BrokerTable.java  |     0
 .../java}/com/baidu/palo/catalog/Catalog.java      |     0
 .../com/baidu/palo/catalog/CatalogRecycleBin.java  |     0
 .../java}/com/baidu/palo/catalog/Column.java       |     0
 .../java}/com/baidu/palo/catalog/ColumnStats.java  |     0
 .../java}/com/baidu/palo/catalog/ColumnType.java   |     0
 .../java}/com/baidu/palo/catalog/DataProperty.java |     0
 .../java}/com/baidu/palo/catalog/Database.java     |     0
 .../java}/com/baidu/palo/catalog/DiskInfo.java     |     0
 .../com/baidu/palo/catalog/DistributionInfo.java   |     0
 .../com/baidu/palo/catalog/DomainResolver.java     |     0
 .../java}/com/baidu/palo/catalog/Function.java     |     0
 .../java}/com/baidu/palo/catalog/FunctionSet.java  |     0
 .../baidu/palo/catalog/HashDistributionInfo.java   |     0
 .../java}/com/baidu/palo/catalog/InfoSchemaDb.java |     0
 .../java}/com/baidu/palo/catalog/InlineView.java   |     0
 .../java}/com/baidu/palo/catalog/KeysType.java     |     0
 .../com/baidu/palo/catalog/KuduPartition.java      |     0
 .../java}/com/baidu/palo/catalog/KuduTable.java    |     0
 .../java}/com/baidu/palo/catalog/MapType.java      |     0
 .../com/baidu/palo/catalog/MaterializedIndex.java  |     0
 .../java}/com/baidu/palo/catalog/MetaObject.java   |     0
 .../com/baidu/palo/catalog/MetaReplayState.java    |     0
 .../baidu/palo/catalog/MetaSignatureVersion.java   |     0
 .../java}/com/baidu/palo/catalog/MysqlTable.java   |     0
 .../java}/com/baidu/palo/catalog/OlapTable.java    |     0
 .../java}/com/baidu/palo/catalog/Partition.java    |     0
 .../com/baidu/palo/catalog/PartitionInfo.java      |     0
 .../java}/com/baidu/palo/catalog/PartitionKey.java |     0
 .../com/baidu/palo/catalog/PartitionType.java      |     0
 .../com/baidu/palo/catalog/PrimitiveType.java      |     0
 .../baidu/palo/catalog/RandomDistributionInfo.java |     0
 .../com/baidu/palo/catalog/RangePartitionInfo.java |     0
 .../java}/com/baidu/palo/catalog/Replica.java      |     0
 .../com/baidu/palo/catalog/ResourceGroup.java      |     0
 .../java}/com/baidu/palo/catalog/ResourceType.java |     0
 .../com/baidu/palo/catalog/ScalarFunction.java     |     0
 .../java}/com/baidu/palo/catalog/ScalarType.java   |     0
 .../java}/com/baidu/palo/catalog/SchemaTable.java  |     0
 .../baidu/palo/catalog/SinglePartitionInfo.java    |     0
 .../java}/com/baidu/palo/catalog/StructField.java  |     0
 .../java}/com/baidu/palo/catalog/StructType.java   |     0
 .../java}/com/baidu/palo/catalog/Table.java        |     0
 .../java}/com/baidu/palo/catalog/Tablet.java       |     0
 .../baidu/palo/catalog/TabletInvertedIndex.java    |     0
 .../java}/com/baidu/palo/catalog/TabletMeta.java   |     0
 .../java}/com/baidu/palo/catalog/Type.java         |     0
 .../java}/com/baidu/palo/catalog/Uda.java          |     0
 .../java}/com/baidu/palo/catalog/Udf.java          |     0
 .../java}/com/baidu/palo/catalog/View.java         |     0
 .../com/baidu/palo/clone/BackendLoadStatistic.java |     0
 .../java}/com/baidu/palo/clone/BalanceStatus.java  |     0
 .../java}/com/baidu/palo/clone/Clone.java          |     0
 .../java}/com/baidu/palo/clone/CloneChecker.java   |     0
 .../java}/com/baidu/palo/clone/CloneJob.java       |     0
 .../com/baidu/palo/clone/ClusterLoadStatistic.java |     0
 .../com/baidu/palo/clone/LoadBalanceException.java |     0
 .../java}/com/baidu/palo/clone/LoadBalancer.java   |     0
 .../baidu/palo/clone/RootPathLoadStatistic.java    |     0
 .../java}/com/baidu/palo/cluster/BaseParam.java    |     0
 .../java}/com/baidu/palo/cluster/Cluster.java      |     0
 .../com/baidu/palo/cluster/ClusterNamespace.java   |     0
 .../com/baidu/palo/common/AliasGenerator.java      |     0
 .../com/baidu/palo/common/AnalysisException.java   |     0
 .../java}/com/baidu/palo/common/AuditLog.java      |     0
 .../baidu/palo/common/AuthorizationException.java  |     0
 .../java}/com/baidu/palo/common/CIDR.java          |     0
 .../com/baidu/palo/common/CaseSensibility.java     |     0
 .../java}/com/baidu/palo/common/ClientPool.java    |     0
 .../baidu/palo/common/ColumnAliasGenerator.java    |     0
 .../com/baidu/palo/common/CommandLineOptions.java  |     0
 .../java}/com/baidu/palo/common/Config.java        |     0
 .../java}/com/baidu/palo/common/ConfigBase.java    |     0
 .../java}/com/baidu/palo/common/ConfigWatcher.java |     0
 .../java}/com/baidu/palo/common/DdlException.java  |     0
 .../java}/com/baidu/palo/common/ErrorCode.java     |     0
 .../java}/com/baidu/palo/common/ErrorReport.java   |     0
 .../java}/com/baidu/palo/common/FeConstants.java   |     0
 .../java}/com/baidu/palo/common/FeMetaVersion.java |     0
 .../java}/com/baidu/palo/common/FeNameFormat.java  |     0
 .../java}/com/baidu/palo/common/GenericPool.java   |     0
 .../{ => main/java}/com/baidu/palo/common/Id.java  |     0
 .../java}/com/baidu/palo/common/IdGenerator.java   |     0
 .../com/baidu/palo/common/InternalException.java   |     0
 .../java}/com/baidu/palo/common/LoadException.java |     0
 .../java}/com/baidu/palo/common/Log4jConfig.java   |     0
 .../com/baidu/palo/common/MarkDownParser.java      |     0
 .../baidu/palo/common/MarkedCountDownLatch.java    |     0
 .../baidu/palo/common/MetaNotFoundException.java   |     0
 .../baidu/palo/common/NotImplementedException.java |     0
 .../java}/com/baidu/palo/common/Pair.java          |     0
 .../com/baidu/palo/common/PatternMatcher.java      |     0
 .../java}/com/baidu/palo/common/Reference.java     |     0
 .../java}/com/baidu/palo/common/Status.java        |     0
 .../com/baidu/palo/common/SystemIdGenerator.java   |     0
 .../com/baidu/palo/common/TableAliasGenerator.java |     0
 .../com/baidu/palo/common/ThreadIdConverter.java   |     0
 .../java}/com/baidu/palo/common/ThriftServer.java  |     0
 .../com/baidu/palo/common/ThriftServerContext.java |     0
 .../palo/common/ThriftServerEventProcessor.java    |     0
 .../java}/com/baidu/palo/common/TreeNode.java      |     0
 .../com/baidu/palo/common/io/DataInputBuffer.java  |     0
 .../com/baidu/palo/common/io/DataOutputBuffer.java |     0
 .../java}/com/baidu/palo/common/io/DeepCopy.java   |     0
 .../palo/common/io/FastByteArrayInputStream.java   |     0
 .../palo/common/io/FastByteArrayOutputStream.java  |     0
 .../java}/com/baidu/palo/common/io/IOUtils.java    |     0
 .../com/baidu/palo/common/io/InputBuffer.java      |     0
 .../com/baidu/palo/common/io/LimitInputStream.java |     0
 .../baidu/palo/common/io/LimitOutputStream.java    |     0
 .../com/baidu/palo/common/io/OutputBuffer.java     |     0
 .../java}/com/baidu/palo/common/io/Text.java       |     0
 .../java}/com/baidu/palo/common/io/Writable.java   |     0
 .../java}/com/baidu/palo/common/log4j2.xml         |     0
 .../java}/com/baidu/palo/common/path/PathTrie.java |     0
 .../com/baidu/palo/common/proc/AuthProcDir.java    |     0
 .../common/proc/BackendLoadStatisticProcNode.java  |     0
 .../baidu/palo/common/proc/BackendProcNode.java    |     0
 .../baidu/palo/common/proc/BackendsProcDir.java    |     0
 .../com/baidu/palo/common/proc/BaseProcDir.java    |     0
 .../com/baidu/palo/common/proc/BaseProcNode.java   |     0
 .../com/baidu/palo/common/proc/BaseProcResult.java |     0
 .../com/baidu/palo/common/proc/CloneProcNode.java  |     0
 .../common/proc/ClusterLoadStatisticProcDir.java   |     0
 .../proc/CurrentQueryBackendInstanceProcDir.java   |     0
 .../common/proc/CurrentQueryFragmentProcNode.java  |     0
 .../palo/common/proc/CurrentQuerySqlProcDir.java   |     0
 .../common/proc/CurrentQueryStatisticsProcDir.java |     0
 .../com/baidu/palo/common/proc/DbsProcDir.java     |     0
 .../baidu/palo/common/proc/DeleteInfoProcDir.java  |     0
 .../baidu/palo/common/proc/DeleteJobProcNode.java  |     0
 .../com/baidu/palo/common/proc/ExportProcNode.java |     0
 .../baidu/palo/common/proc/FrontendsProcNode.java  |     0
 .../common/proc/IncompleteTabletsProcNode.java     |     0
 .../baidu/palo/common/proc/IndexInfoProcDir.java   |     0
 .../palo/common/proc/IndexSchemaProcNode.java      |     0
 .../com/baidu/palo/common/proc/IndicesProcDir.java |     0
 .../com/baidu/palo/common/proc/JobsDbProcDir.java  |     0
 .../com/baidu/palo/common/proc/JobsProcDir.java    |     0
 .../com/baidu/palo/common/proc/JvmProcDir.java     |     0
 .../baidu/palo/common/proc/LoadErrorProcNode.java  |     0
 .../baidu/palo/common/proc/LoadJobProcNode.java    |     0
 .../com/baidu/palo/common/proc/LoadProcDir.java    |     0
 .../com/baidu/palo/common/proc/MonitorProcDir.java |     0
 .../baidu/palo/common/proc/PartitionsProcDir.java  |     0
 .../baidu/palo/common/proc/ProcDirInterface.java   |     0
 .../baidu/palo/common/proc/ProcNodeInterface.java  |     0
 .../com/baidu/palo/common/proc/ProcResult.java     |     0
 .../com/baidu/palo/common/proc/ProcService.java    |     0
 .../baidu/palo/common/proc/ReplicasProcNode.java   |     0
 .../baidu/palo/common/proc/RollupJobProcDir.java   |     0
 .../com/baidu/palo/common/proc/RollupProcDir.java  |     0
 .../palo/common/proc/RollupTabletsProcNode.java    |     0
 .../palo/common/proc/SchemaChangeProcNode.java     |     0
 .../baidu/palo/common/proc/StatisticProcDir.java   |     0
 .../com/baidu/palo/common/proc/TableProcDir.java   |     0
 .../com/baidu/palo/common/proc/TablesProcDir.java  |     0
 .../com/baidu/palo/common/proc/TabletsProcDir.java |     0
 .../baidu/palo/common/proc/TaskFailedProcNode.java |     0
 .../baidu/palo/common/proc/TaskTypeProcNode.java   |     0
 .../com/baidu/palo/common/proc/TasksProcDir.java   |     0
 .../palo/common/proc/UserPropertyProcNode.java     |     0
 .../palo/common/publish/AckResponseHandler.java    |     0
 .../palo/common/publish/ClusterStatePublisher.java |     0
 .../palo/common/publish/ClusterStateUpdate.java    |     0
 .../palo/common/publish/FixedTimePublisher.java    |     0
 .../com/baidu/palo/common/publish/Listener.java    |     0
 .../com/baidu/palo/common/publish/Listeners.java   |     0
 .../baidu/palo/common/publish/ResponseHandler.java |     0
 .../com/baidu/palo/common/publish/TopicUpdate.java |     0
 .../com/baidu/palo/common/util/BrokerUtil.java     |     0
 .../com/baidu/palo/common/util/CommandResult.java  |     0
 .../java}/com/baidu/palo/common/util/Counter.java  |     0
 .../java}/com/baidu/palo/common/util/Daemon.java   |     0
 .../com/baidu/palo/common/util/DebugUtil.java      |     0
 .../java}/com/baidu/palo/common/util/KuduUtil.java |     0
 .../com/baidu/palo/common/util/ListComparator.java |     0
 .../com/baidu/palo/common/util/LoadBalancer.java   |     0
 .../com/baidu/palo/common/util/MysqlUtil.java      |     0
 .../java}/com/baidu/palo/common/util/NetUtils.java |     0
 .../com/baidu/palo/common/util/OrderByPair.java    |     0
 .../com/baidu/palo/common/util/PlatformName.java   |     0
 .../com/baidu/palo/common/util/PrintableMap.java   |     0
 .../com/baidu/palo/common/util/ProfileManager.java |     0
 .../baidu/palo/common/util/PropertyAnalyzer.java   |     0
 .../baidu/palo/common/util/ReflectionUtils.java    |     0
 .../com/baidu/palo/common/util/RuntimeProfile.java |     0
 .../java}/com/baidu/palo/common/util/SqlUtils.java |     0
 .../com/baidu/palo/common/util/TimeUtils.java      |     0
 .../java}/com/baidu/palo/common/util/Util.java     |     0
 .../palo/consistency/CheckConsistencyJob.java      |     0
 .../baidu/palo/consistency/ConsistencyChecker.java |     0
 .../java}/com/baidu/palo/deploy/DeployManager.java |     0
 .../palo/deploy/impl/AmbariDeployManager.java      |     0
 .../baidu/palo/deploy/impl/K8sDeployManager.java   |     0
 .../palo/deploy/impl/LocalFileDeployManager.java   |     0
 .../{ => main/java}/com/baidu/palo/ha/BDBHA.java   |     0
 .../com/baidu/palo/ha/BDBStateChangeListener.java  |     0
 .../java}/com/baidu/palo/ha/FrontendNodeType.java  |     0
 .../java}/com/baidu/palo/ha/HAProtocol.java        |     0
 .../java}/com/baidu/palo/ha/MasterInfo.java        |     0
 .../com/baidu/palo/http/ActionController.java      |     0
 .../java}/com/baidu/palo/http/BaseAction.java      |     0
 .../java}/com/baidu/palo/http/BaseRequest.java     |     0
 .../java}/com/baidu/palo/http/BaseResponse.java    |     0
 .../java}/com/baidu/palo/http/HttpAuthManager.java |     0
 .../java}/com/baidu/palo/http/HttpServer.java      |     0
 .../com/baidu/palo/http/HttpServerHandler.java     |     0
 .../java}/com/baidu/palo/http/IAction.java         |     0
 .../com/baidu/palo/http/IllegalArgException.java   |     0
 .../com/baidu/palo/http/UnauthorizedException.java |     0
 .../java}/com/baidu/palo/http/WebUtils.java        |     0
 .../com/baidu/palo/http/action/BackendAction.java  |     0
 .../java}/com/baidu/palo/http/action/HaAction.java |     0
 .../com/baidu/palo/http/action/HelpAction.java     |     0
 .../com/baidu/palo/http/action/IndexAction.java    |     0
 .../com/baidu/palo/http/action/LogAction.java      |     0
 .../com/baidu/palo/http/action/NotFoundAction.java |     0
 .../com/baidu/palo/http/action/QueryAction.java    |     0
 .../baidu/palo/http/action/QueryProfileAction.java |     0
 .../com/baidu/palo/http/action/SessionAction.java  |     0
 .../palo/http/action/StaticResourceAction.java     |     0
 .../com/baidu/palo/http/action/SystemAction.java   |     0
 .../com/baidu/palo/http/action/VariableAction.java |     0
 .../com/baidu/palo/http/action/WebBaseAction.java  |     0
 .../palo/http/meta/InvalidClientException.java     |     0
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |     0
 .../com/baidu/palo/http/meta/MetaService.java      |     0
 .../com/baidu/palo/http/rest/ActionStatus.java     |     0
 .../palo/http/rest/BootstrapFinishAction.java      |     0
 .../palo/http/rest/CheckDecommissionAction.java    |     0
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java |     0
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |     0
 .../com/baidu/palo/http/rest/GetLogFileAction.java |     0
 .../com/baidu/palo/http/rest/HealthAction.java     |     0
 .../java}/com/baidu/palo/http/rest/LoadAction.java |     0
 .../palo/http/rest/MetaReplayerCheckAction.java    |     0
 .../com/baidu/palo/http/rest/MetricsAction.java    |     0
 .../com/baidu/palo/http/rest/MigrationAction.java  |     0
 .../java}/com/baidu/palo/http/rest/MultiAbort.java |     0
 .../com/baidu/palo/http/rest/MultiCommit.java      |     0
 .../java}/com/baidu/palo/http/rest/MultiDesc.java  |     0
 .../java}/com/baidu/palo/http/rest/MultiList.java  |     0
 .../java}/com/baidu/palo/http/rest/MultiStart.java |     0
 .../com/baidu/palo/http/rest/MultiUnload.java      |     0
 .../com/baidu/palo/http/rest/RestBaseAction.java   |     0
 .../com/baidu/palo/http/rest/RestBaseResult.java   |     0
 .../java}/com/baidu/palo/http/rest/RestResult.java |     0
 .../com/baidu/palo/http/rest/RowCountAction.java   |     0
 .../com/baidu/palo/http/rest/SetConfigAction.java  |     0
 .../baidu/palo/http/rest/ShowMetaInfoAction.java   |     0
 .../com/baidu/palo/http/rest/ShowProcAction.java   |     0
 .../palo/http/rest/ShowRuntimeInfoAction.java      |     0
 .../palo/http/rest/StorageTypeCheckAction.java     |     0
 .../java}/com/baidu/palo/journal/Journal.java      |     0
 .../com/baidu/palo/journal/JournalCursor.java      |     0
 .../com/baidu/palo/journal/JournalEntity.java      |     0
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |     0
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java |     0
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |     0
 .../com/baidu/palo/journal/bdbje/BDBTool.java      |     0
 .../baidu/palo/journal/bdbje/BDBToolOptions.java   |     0
 .../com/baidu/palo/journal/bdbje/Timestamp.java    |     0
 .../com/baidu/palo/journal/local/LocalJournal.java |     0
 .../palo/journal/local/LocalJournalCursor.java     |     0
 .../java}/com/baidu/palo/kudu/KuduAgent.java       |     0
 .../java}/com/baidu/palo/load/AsyncDeleteJob.java  |     0
 .../java}/com/baidu/palo/load/BrokerFileGroup.java |     0
 .../java}/com/baidu/palo/load/DeleteInfo.java      |     0
 .../java}/com/baidu/palo/load/DppConfig.java       |     0
 .../java}/com/baidu/palo/load/DppScheduler.java    |     0
 .../java}/com/baidu/palo/load/EtlJobInfo.java      |     0
 .../java}/com/baidu/palo/load/EtlStatus.java       |     0
 .../java}/com/baidu/palo/load/EtlSubmitResult.java |     0
 .../java}/com/baidu/palo/load/ExportChecker.java   |     0
 .../java}/com/baidu/palo/load/ExportFailMsg.java   |     0
 .../java}/com/baidu/palo/load/ExportJob.java       |     0
 .../java}/com/baidu/palo/load/ExportMgr.java       |     0
 .../java}/com/baidu/palo/load/FailMsg.java         |     0
 .../com/baidu/palo/load/HadoopEtlJobInfo.java      |     0
 .../{ => main/java}/com/baidu/palo/load/Load.java  |     0
 fe/src/main/java/com/baidu/palo/load/Load.java.rej |  3155 ++++++
 .../java}/com/baidu/palo/load/LoadChecker.java     |     0
 .../java}/com/baidu/palo/load/LoadErrorHub.java    |     0
 .../java}/com/baidu/palo/load/LoadJob.java         |     0
 .../java}/com/baidu/palo/load/MiniEtlJobInfo.java  |     0
 .../java}/com/baidu/palo/load/MiniEtlTaskInfo.java |     0
 .../com/baidu/palo/load/MysqlLoadErrorHub.java     |     0
 .../com/baidu/palo/load/PartitionLoadInfo.java     |     0
 .../com/baidu/palo/load/PullLoadSourceInfo.java    |     0
 .../java}/com/baidu/palo/load/Source.java          |     0
 .../java}/com/baidu/palo/load/TableLoadInfo.java   |     0
 .../java}/com/baidu/palo/load/TabletLoadInfo.java  |     0
 .../java}/com/baidu/palo/master/Checkpoint.java    |     0
 .../java}/com/baidu/palo/master/MasterImpl.java    |     0
 .../java}/com/baidu/palo/master/MetaHelper.java    |     0
 .../java}/com/baidu/palo/master/ReportHandler.java |     0
 .../java}/com/baidu/palo/metric/MetricLabel.java   |     0
 .../java}/com/baidu/palo/metric/MetricRepo.java    |     0
 .../com/baidu/palo/metric/PaloCounterMetric.java   |     0
 .../baidu/palo/metric/PaloDoubleCounterMetric.java |     0
 .../com/baidu/palo/metric/PaloGaugeMetric.java     |     0
 .../baidu/palo/metric/PaloLongCounterMetric.java   |     0
 .../java}/com/baidu/palo/metric/PaloMetric.java    |     0
 .../com/baidu/palo/metric/PaloMetricRegistry.java  |     0
 .../com/baidu/palo/metric/PaloMetricVisitor.java   |     0
 .../baidu/palo/metric/PrometheusMetricVisitor.java |     0
 .../java}/com/baidu/palo/monitor/jvm/GcNames.java  |     0
 .../java}/com/baidu/palo/monitor/jvm/JvmInfo.java  |     0
 .../com/baidu/palo/monitor/jvm/JvmService.java     |     0
 .../java}/com/baidu/palo/monitor/jvm/JvmStats.java |     0
 .../com/baidu/palo/monitor/unit/ByteSizeUnit.java  |     0
 .../com/baidu/palo/monitor/unit/ByteSizeValue.java |     0
 .../com/baidu/palo/monitor/unit/TimeValue.java     |     0
 .../com/baidu/palo/monitor/utils/Strings.java      |     0
 .../com/baidu/palo/mysql/MysqlAuthPacket.java      |     0
 .../com/baidu/palo/mysql/MysqlCapability.java      |     0
 .../java}/com/baidu/palo/mysql/MysqlChannel.java   |     0
 .../java}/com/baidu/palo/mysql/MysqlColDef.java    |     0
 .../java}/com/baidu/palo/mysql/MysqlColType.java   |     0
 .../java}/com/baidu/palo/mysql/MysqlCommand.java   |     0
 .../java}/com/baidu/palo/mysql/MysqlEofPacket.java |     0
 .../java}/com/baidu/palo/mysql/MysqlErrPacket.java |     0
 .../com/baidu/palo/mysql/MysqlHandshakePacket.java |     0
 .../java}/com/baidu/palo/mysql/MysqlOkPacket.java  |     0
 .../java}/com/baidu/palo/mysql/MysqlPacket.java    |     0
 .../java}/com/baidu/palo/mysql/MysqlPassword.java  |     0
 .../java}/com/baidu/palo/mysql/MysqlProto.java     |     0
 .../com/baidu/palo/mysql/MysqlSerializer.java      |     0
 .../java}/com/baidu/palo/mysql/MysqlServer.java    |     0
 .../baidu/palo/mysql/MysqlServerStatusFlag.java    |     0
 .../baidu/palo/mysql/privilege/DbPrivEntry.java    |     0
 .../baidu/palo/mysql/privilege/DbPrivTable.java    |     0
 .../palo/mysql/privilege/GlobalPrivEntry.java      |     0
 .../com/baidu/palo/mysql/privilege/PaloAuth.java   |     0
 .../baidu/palo/mysql/privilege/PaloPrivilege.java  |     0
 .../com/baidu/palo/mysql/privilege/PaloRole.java   |     0
 .../com/baidu/palo/mysql/privilege/PrivBitSet.java |     0
 .../com/baidu/palo/mysql/privilege/PrivEntry.java  |     0
 .../baidu/palo/mysql/privilege/PrivPredicate.java  |     0
 .../com/baidu/palo/mysql/privilege/PrivTable.java  |     0
 .../baidu/palo/mysql/privilege/RoleManager.java    |     0
 .../baidu/palo/mysql/privilege/TablePrivEntry.java |     0
 .../baidu/palo/mysql/privilege/TablePrivTable.java |     0
 .../baidu/palo/mysql/privilege/UserPrivTable.java  |     0
 .../baidu/palo/mysql/privilege/UserProperty.java   |     0
 .../palo/mysql/privilege/UserPropertyInfo.java     |     0
 .../palo/mysql/privilege/UserPropertyMgr.java      |     0
 .../baidu/palo/mysql/privilege/UserResource.java   |     0
 .../com/baidu/palo/mysql/privilege/WhiteList.java  |     0
 .../baidu/palo/persist/BackendIdsUpdateInfo.java   |     0
 .../java}/com/baidu/palo/persist/CloneInfo.java    |     0
 .../java}/com/baidu/palo/persist/ClusterInfo.java  |     0
 .../baidu/palo/persist/ConsistencyCheckInfo.java   |     0
 .../com/baidu/palo/persist/CreateTableInfo.java    |     0
 .../java}/com/baidu/palo/persist/DatabaseInfo.java |     0
 .../java}/com/baidu/palo/persist/DropInfo.java     |     0
 .../palo/persist/DropLinkDbAndUpdateDbInfo.java    |     0
 .../com/baidu/palo/persist/DropPartitionInfo.java  |     0
 .../java}/com/baidu/palo/persist/EditLog.java      |     0
 .../baidu/palo/persist/EditLogFileInputStream.java |     0
 .../palo/persist/EditLogFileOutputStream.java      |     0
 .../com/baidu/palo/persist/EditLogInputStream.java |     0
 .../baidu/palo/persist/EditLogOutputStream.java    |     0
 .../java}/com/baidu/palo/persist/LinkDbInfo.java   |     0
 .../java}/com/baidu/palo/persist/MetaCleaner.java  |     0
 .../baidu/palo/persist/ModifyPartitionInfo.java    |     0
 .../com/baidu/palo/persist/OperationType.java      |     0
 .../baidu/palo/persist/PartitionPersistInfo.java   |     0
 .../java}/com/baidu/palo/persist/PrivInfo.java     |     0
 .../java}/com/baidu/palo/persist/RecoverInfo.java  |     0
 .../com/baidu/palo/persist/ReplicaPersistInfo.java |     0
 .../java}/com/baidu/palo/persist/Storage.java      |     0
 .../java}/com/baidu/palo/persist/StorageInfo.java  |     0
 .../java}/com/baidu/palo/persist/TableInfo.java    |     0
 .../com/baidu/palo/planner/AggregationNode.java    |     0
 .../com/baidu/palo/planner/AnalyticEvalNode.java   |     0
 .../com/baidu/palo/planner/AnalyticPlanner.java    |     0
 .../com/baidu/palo/planner/BrokerScanNode.java     |     0
 .../com/baidu/palo/planner/CrossJoinNode.java      |     0
 .../java}/com/baidu/palo/planner/CsvScanNode.java  |     0
 .../com/baidu/palo/planner/DataPartition.java      |     0
 .../java}/com/baidu/palo/planner/DataSink.java     |     0
 .../com/baidu/palo/planner/DataSplitSink.java      |     0
 .../com/baidu/palo/planner/DataStreamSink.java     |     0
 .../com/baidu/palo/planner/DistributedPlanner.java |     0
 .../com/baidu/palo/planner/DistributionPruner.java |     0
 .../java}/com/baidu/palo/planner/EmptySetNode.java |     0
 .../java}/com/baidu/palo/planner/ExchangeNode.java |     0
 .../java}/com/baidu/palo/planner/ExportSink.java   |     0
 .../baidu/palo/planner/HashDistributionPruner.java |     0
 .../java}/com/baidu/palo/planner/HashJoinNode.java |     0
 .../baidu/palo/planner/ListPartitionPruner.java    |     0
 .../com/baidu/palo/planner/MergeJoinNode.java      |     0
 .../java}/com/baidu/palo/planner/MergeNode.java    |     0
 .../com/baidu/palo/planner/MysqlScanNode.java      |     0
 .../com/baidu/palo/planner/MysqlTableSink.java     |     0
 .../com/baidu/palo/planner/OlapRewriteNode.java    |     0
 .../java}/com/baidu/palo/planner/OlapScanNode.java |     0
 .../baidu/palo/planner/PartitionColumnFilter.java  |     0
 .../com/baidu/palo/planner/PartitionPruner.java    |     0
 .../java}/com/baidu/palo/planner/PlanFragment.java |     0
 .../com/baidu/palo/planner/PlanFragmentId.java     |     0
 .../java}/com/baidu/palo/planner/PlanNode.java     |     0
 .../java}/com/baidu/palo/planner/PlanNodeId.java   |     0
 .../java}/com/baidu/palo/planner/Planner.java      |     0
 .../com/baidu/palo/planner/PlannerContext.java     |     0
 .../baidu/palo/planner/RangePartitionPruner.java   |     0
 .../java}/com/baidu/palo/planner/ResultSink.java   |     0
 .../java}/com/baidu/palo/planner/ScanNode.java     |     0
 .../com/baidu/palo/planner/SchemaScanNode.java     |     0
 .../java}/com/baidu/palo/planner/SelectNode.java   |     0
 .../com/baidu/palo/planner/SingleNodePlanner.java  |     0
 .../java}/com/baidu/palo/planner/SortNode.java     |     0
 .../java}/com/baidu/palo/planner/UnionNode.java    |     0
 .../java}/com/baidu/palo/qe/AuditBuilder.java      |     0
 .../java}/com/baidu/palo/qe/ConnectContext.java    |     0
 .../java}/com/baidu/palo/qe/ConnectProcessor.java  |     0
 .../java}/com/baidu/palo/qe/ConnectScheduler.java  |     0
 .../java}/com/baidu/palo/qe/Coordinator.java       |     0
 .../java}/com/baidu/palo/qe/DdlExecutor.java       |     0
 .../java}/com/baidu/palo/qe/GlobalVariable.java    |     0
 .../java}/com/baidu/palo/qe/HelpCategory.java      |     0
 .../java}/com/baidu/palo/qe/HelpModule.java        |     0
 .../java}/com/baidu/palo/qe/HelpObjectIface.java   |     0
 .../java}/com/baidu/palo/qe/HelpObjectLoader.java  |     0
 .../java}/com/baidu/palo/qe/HelpTopic.java         |     0
 .../java}/com/baidu/palo/qe/JournalObservable.java |     0
 .../java}/com/baidu/palo/qe/JournalObserver.java   |     0
 .../java}/com/baidu/palo/qe/MasterOpExecutor.java  |     0
 .../java}/com/baidu/palo/qe/MultiLoadMgr.java      |     0
 .../java}/com/baidu/palo/qe/QeProcessor.java       |     0
 .../java}/com/baidu/palo/qe/QeProcessorImpl.java   |     0
 .../java}/com/baidu/palo/qe/QeService.java         |     0
 .../java}/com/baidu/palo/qe/QueryState.java        |     0
 .../com/baidu/palo/qe/QueryStatisticsItem.java     |     0
 .../java}/com/baidu/palo/qe/ResultReceiver.java    |     0
 .../java}/com/baidu/palo/qe/SessionVariable.java   |     0
 .../java}/com/baidu/palo/qe/SetExecutor.java       |     0
 .../java}/com/baidu/palo/qe/ShowExecutor.java      |     0
 .../java}/com/baidu/palo/qe/ShowResultSet.java     |     0
 .../com/baidu/palo/qe/ShowResultSetMetaData.java   |     0
 .../java}/com/baidu/palo/qe/SimpleScheduler.java   |     0
 .../java}/com/baidu/palo/qe/StmtExecutor.java      |     0
 .../java}/com/baidu/palo/qe/VariableMgr.java       |     0
 .../baidu/palo/rewrite/BetweenToCompoundRule.java  |     0
 .../com/baidu/palo/rewrite/ExprRewriteRule.java    |     0
 .../java}/com/baidu/palo/rewrite/ExprRewriter.java |     0
 .../rewrite/NormalizeBinaryPredicatesRule.java     |     0
 .../com/baidu/palo/rpc/AttachmentRequest.java      |     0
 .../com/baidu/palo/rpc/BackendServiceProxy.java    |     0
 .../baidu/palo/rpc/PCancelPlanFragmentRequest.java |     0
 .../baidu/palo/rpc/PCancelPlanFragmentResult.java  |     0
 .../baidu/palo/rpc/PExecPlanFragmentRequest.java   |     0
 .../baidu/palo/rpc/PExecPlanFragmentResult.java    |     0
 .../com/baidu/palo/rpc/PFetchDataRequest.java      |     0
 .../java}/com/baidu/palo/rpc/PFetchDataResult.java |     0
 .../palo/rpc/PFetchFragmentExecInfoRequest.java    |     0
 .../palo/rpc/PFetchFragmentExecInfosResult.java    |     0
 .../com/baidu/palo/rpc/PFragmentExecInfo.java      |     0
 .../java}/com/baidu/palo/rpc/PInternalService.java |     0
 .../java}/com/baidu/palo/rpc/PStatus.java          |     0
 .../java}/com/baidu/palo/rpc/PUniqueId.java        |     0
 .../java}/com/baidu/palo/rpc/RpcException.java     |     0
 .../palo/rpc/ThriftClientAttachmentHandler.java    |     0
 .../java}/com/baidu/palo/service/ExecuteEnv.java   |     0
 .../java}/com/baidu/palo/service/FeServer.java     |     0
 .../com/baidu/palo/service/FrontendOptions.java    |     0
 .../baidu/palo/service/FrontendServiceImpl.java    |     0
 .../java}/com/baidu/palo/system/Backend.java       |     0
 .../java}/com/baidu/palo/system/BackendEvent.java  |     0
 .../java}/com/baidu/palo/system/Frontend.java      |     0
 .../com/baidu/palo/system/SystemInfoObserver.java  |     0
 .../com/baidu/palo/system/SystemInfoService.java   |     0
 .../java}/com/baidu/palo/task/AgentBatchTask.java  |     0
 .../java}/com/baidu/palo/task/AgentClient.java     |     0
 .../java}/com/baidu/palo/task/AgentTask.java       |     0
 .../com/baidu/palo/task/AgentTaskExecutor.java     |     0
 .../java}/com/baidu/palo/task/AgentTaskQueue.java  |     0
 .../com/baidu/palo/task/CancelDeleteTask.java      |     0
 .../com/baidu/palo/task/CheckConsistencyTask.java  |     0
 .../java}/com/baidu/palo/task/CloneTask.java       |     0
 .../com/baidu/palo/task/CreateReplicaTask.java     |     0
 .../com/baidu/palo/task/CreateRollupTask.java      |     0
 .../java}/com/baidu/palo/task/DirMoveTask.java     |     0
 .../java}/com/baidu/palo/task/DownloadTask.java    |     0
 .../java}/com/baidu/palo/task/DropReplicaTask.java |     0
 .../com/baidu/palo/task/ExportExportingTask.java   |     0
 .../com/baidu/palo/task/ExportPendingTask.java     |     0
 .../com/baidu/palo/task/HadoopLoadEtlTask.java     |     0
 .../com/baidu/palo/task/HadoopLoadPendingTask.java |     0
 .../com/baidu/palo/task/InsertLoadEtlTask.java     |     0
 .../java}/com/baidu/palo/task/LoadEtlTask.java     |     0
 .../java}/com/baidu/palo/task/LoadPendingTask.java |     0
 .../java}/com/baidu/palo/task/MasterTask.java      |     0
 .../com/baidu/palo/task/MasterTaskExecutor.java    |     0
 .../java}/com/baidu/palo/task/MiniLoadEtlTask.java |     0
 .../com/baidu/palo/task/MiniLoadPendingTask.java   |     0
 .../java}/com/baidu/palo/task/PullLoadEtlTask.java |     0
 .../java}/com/baidu/palo/task/PullLoadJob.java     |     0
 .../java}/com/baidu/palo/task/PullLoadJobMgr.java  |     0
 .../com/baidu/palo/task/PullLoadPendingTask.java   |     0
 .../java}/com/baidu/palo/task/PullLoadTask.java    |     0
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   |     0
 .../java}/com/baidu/palo/task/PushTask.java        |     0
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   |     0
 .../com/baidu/palo/task/SchemaChangeTask.java      |     0
 .../java}/com/baidu/palo/task/SnapshotTask.java    |     0
 .../baidu/palo/task/StorageMediaMigrationTask.java |     0
 .../java}/com/baidu/palo/task/UploadTask.java      |     0
 .../parser => fe/src/main/jflex}/sql_scanner.flex  |     0
 .../com/baidu/palo/analysis/AccessTestUtil.java    |     0
 .../baidu/palo/analysis/AddColumnClauseTest.java   |     0
 .../baidu/palo/analysis/AddColumnsClauseTest.java  |     0
 .../baidu/palo/analysis/AddRollupClauseTest.java   |     0
 .../baidu/palo/analysis/AlterClusterStmtTest.java  |     0
 .../baidu/palo/analysis/AlterTableStmtTest.java    |     0
 .../com/baidu/palo/analysis/BackendStmtTest.java   |     0
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |     0
 .../baidu/palo/analysis/ColumnPositionTest.java    |     0
 .../baidu/palo/analysis/ColumnSeparatorTest.java   |     0
 .../java}/com/baidu/palo/analysis/ColumnTest.java  |     0
 .../baidu/palo/analysis/CreateClusterStmtTest.java |     0
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |     0
 .../baidu/palo/analysis/CreateTableStmtTest.java   |     0
 .../baidu/palo/analysis/CreateUserStmtTest.java    |     0
 .../baidu/palo/analysis/DataDescriptionTest.java   |     0
 .../baidu/palo/analysis/DecimalLiteralTest.java    |     0
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |     0
 .../com/baidu/palo/analysis/DescribeStmtTest.java  |     0
 .../baidu/palo/analysis/DropClusterStmtTest.java   |     0
 .../baidu/palo/analysis/DropColumnClauseTest.java  |     0
 .../com/baidu/palo/analysis/DropDbStmtTest.java    |     0
 .../baidu/palo/analysis/DropRollupClauseTest.java  |     0
 .../com/baidu/palo/analysis/DropTableStmtTest.java |     0
 .../com/baidu/palo/analysis/DropUserStmtTest.java  |     0
 .../com/baidu/palo/analysis/GrantStmtTest.java     |     0
 .../com/baidu/palo/analysis/HelpStmtTest.java      |     0
 .../com/baidu/palo/analysis/KillStmtTest.java      |     0
 .../com/baidu/palo/analysis/LabelNameTest.java     |     0
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |     0
 .../palo/analysis/LiteralExprCompareTest.java      |     0
 .../com/baidu/palo/analysis/LoadStmtTest.java      |     0
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |     0
 .../palo/analysis/ModifyColumnClauseTest.java      |     0
 .../baidu/palo/analysis/PartitionKeyDescTest.java  |     0
 .../palo/analysis/ReorderColumnsClauseTest.java    |     0
 .../com/baidu/palo/analysis/SetNamesVarTest.java   |     0
 .../com/baidu/palo/analysis/SetPassVarTest.java    |     0
 .../java}/com/baidu/palo/analysis/SetStmtTest.java |     0
 .../java}/com/baidu/palo/analysis/SetTypeTest.java |     0
 .../palo/analysis/SetUserPropertyStmtTest.java     |     0
 .../palo/analysis/SetUserPropertyVarTest.java      |     0
 .../java}/com/baidu/palo/analysis/SetVarTest.java  |     0
 .../com/baidu/palo/analysis/ShowAlterStmtTest.java |     0
 .../baidu/palo/analysis/ShowCreateDbStmtTest.java  |     0
 .../palo/analysis/ShowCreateTableStmtTest.java     |     0
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |     0
 .../com/baidu/palo/analysis/ShowDbStmtTest.java    |     0
 .../baidu/palo/analysis/ShowEnginesStmtTest.java   |     0
 .../com/baidu/palo/analysis/ShowLoadStmtTest.java  |     0
 .../baidu/palo/analysis/ShowRollupStmtTest.java    |     0
 .../com/baidu/palo/analysis/ShowTableStmtTest.java |     0
 .../palo/analysis/ShowUserPropertyStmtTest.java    |     0
 .../baidu/palo/analysis/ShowVariablesStmtTest.java |     0
 .../baidu/palo/analysis/SysVariableDescTest.java   |     0
 .../java}/com/baidu/palo/analysis/UseStmtTest.java |     0
 .../com/baidu/palo/backup/AlterClauseRWTest.java   |     0
 .../com/baidu/palo/backup/BackupHandlerTest.java   |     0
 .../com/baidu/palo/backup/BackupJobInfoTest.java   |     0
 .../java}/com/baidu/palo/backup/BackupJobTest.java |     0
 .../java}/com/baidu/palo/backup/CatalogMocker.java |     0
 .../com/baidu/palo/backup/FileSaverITest.java      |     0
 .../com/baidu/palo/backup/PartitionNameTest.java   |     0
 .../java}/com/baidu/palo/backup/PathMakerTest.java |     0
 .../com/baidu/palo/backup/RepositoryTest.java      |     0
 .../baidu/palo/backup/RestoreFileMappingTest.java  |     0
 .../com/baidu/palo/backup/RestoreJobTest.java      |     0
 .../com/baidu/palo/bdb/BDBToolOptionsTest.java     |     0
 .../test/java}/com/baidu/palo/bdb/BDBToolTest.java |     0
 .../java}/com/baidu/palo/catalog/BackendTest.java  |     0
 .../java}/com/baidu/palo/catalog/CatalogTest.java  |     0
 .../com/baidu/palo/catalog/ColumnStatsTest.java    |     0
 .../java}/com/baidu/palo/catalog/ColumnTest.java   |     0
 .../com/baidu/palo/catalog/ColumnTypeTest.java     |     0
 .../com/baidu/palo/catalog/CreateTableTest.java    |     0
 .../java}/com/baidu/palo/catalog/DatabaseTest.java |     0
 .../com/baidu/palo/catalog/InfoSchemaDbTest.java   |     0
 .../baidu/palo/catalog/MaterializedIndexTest.java  |     0
 .../com/baidu/palo/catalog/MysqlTableTest.java     |     0
 .../com/baidu/palo/catalog/OlapTableTest.java      |     0
 .../com/baidu/palo/catalog/PartitionKeyTest.java   |     0
 .../baidu/palo/catalog/RangePartitionInfoTest.java |     0
 .../java}/com/baidu/palo/catalog/ReplicaTest.java  |     0
 .../com/baidu/palo/catalog/ResourceGroupTest.java  |     0
 .../java}/com/baidu/palo/catalog/TableTest.java    |     0
 .../java}/com/baidu/palo/catalog/TabletTest.java   |     0
 .../com/baidu/palo/catalog/UserPropertyTest.java   |     0
 .../com/baidu/palo/catalog/UserResourceTest.java   |     0
 .../test/java}/com/baidu/palo/clone/CloneTest.java |     0
 .../palo/clone/ClusterLoadStatisticsTest.java      |     0
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |     0
 .../test/java}/com/baidu/palo/common/CIDRTest.java |     0
 .../baidu/palo/common/CommandLineOptionsTest.java  |     0
 .../com/baidu/palo/common/GenericPoolTest.java     |     0
 .../test/java}/com/baidu/palo/common/MD5Test.java  |     0
 .../com/baidu/palo/common/MarkDownParserTest.java  |     0
 .../com/baidu/palo/common/PatternMatcherTest.java  |     0
 .../baidu/palo/common/PropertyAnalyzerTest.java    |     0
 .../com/baidu/palo/common/path/PathTrieTest.java   |     0
 .../palo/common/proc/BackendProcNodeTest.java      |     0
 .../palo/common/proc/BackendsProcDirTest.java      |     0
 .../com/baidu/palo/common/proc/DbsProcDirTest.java |     0
 .../baidu/palo/common/proc/ProcServiceTest.java    |     0
 .../com/baidu/palo/common/util/DebugUtilTest.java  |     0
 .../baidu/palo/common/util/ListComparatorTest.java |     0
 .../baidu/palo/common/util/LoadBalancerTest.java   |     0
 .../baidu/palo/common/util/RuntimeProfileTest.java |     0
 .../com/baidu/palo/common/util/TimeUtilsTest.java  |     0
 .../com/baidu/palo/common/util/UnitTestUtil.java   |     0
 .../baidu/palo/deploy/AmbariDeployManagerTest.java |     0
 .../com/baidu/palo/http/HttpAuthManagerTest.java   |     0
 .../java}/com/baidu/palo/load/DppConfigTest.java   |     0
 .../com/baidu/palo/load/DppSchedulerTest.java      |     0
 .../com/baidu/palo/load/EtlJobStatusTest.java      |     0
 .../java}/com/baidu/palo/load/FailMsgTest.java     |     0
 .../java}/com/baidu/palo/load/LoadCheckerTest.java |     0
 .../java}/com/baidu/palo/load/LoadJobTest.java     |     0
 .../test/java}/com/baidu/palo/load/LoadTest.java   |     0
 .../com/baidu/palo/load/PartitionLoadInfoTest.java |     0
 .../test/java}/com/baidu/palo/load/SourceTest.java |     0
 .../com/baidu/palo/load/TabletLoadInfoTest.java    |     0
 .../com/baidu/palo/mysql/MysqlAuthPacketTest.java  |     0
 .../com/baidu/palo/mysql/MysqlCapabilityTest.java  |     0
 .../com/baidu/palo/mysql/MysqlChannelTest.java     |     0
 .../com/baidu/palo/mysql/MysqlColDefTest.java      |     0
 .../com/baidu/palo/mysql/MysqlColTypeTest.java     |     0
 .../com/baidu/palo/mysql/MysqlCommandTest.java     |     0
 .../com/baidu/palo/mysql/MysqlEofPacketTest.java   |     0
 .../com/baidu/palo/mysql/MysqlErrPacketTest.java   |     0
 .../baidu/palo/mysql/MysqlHandshakePacketTest.java |     0
 .../com/baidu/palo/mysql/MysqlOkPacketTest.java    |     0
 .../com/baidu/palo/mysql/MysqlPasswordTest.java    |     0
 .../java}/com/baidu/palo/mysql/MysqlProtoTest.java |     0
 .../com/baidu/palo/mysql/MysqlServerTest.java      |     0
 .../com/baidu/palo/mysql/WrapperSocketChannel.java |     0
 .../com/baidu/palo/mysql/privilege/AuthTest.java   |     0
 .../com/baidu/palo/mysql/privilege/MockedAuth.java |     0
 .../com/baidu/palo/mysql/privilege/PrivTest.java   |     0
 .../baidu/palo/mysql/privilege/PrivilegeTest.java  |     0
 .../palo/mysql/privilege/UserIdentityTest.java     |     0
 .../baidu/palo/persist/CreateTableInfoTest.java    |     0
 .../java}/com/baidu/palo/persist/DropInfoTest.java |     0
 .../java}/com/baidu/palo/persist/EditLogTest.java  |     0
 .../baidu/palo/persist/ReplicaPersistInfoTest.java |     0
 .../com/baidu/palo/persist/StorageInfoTest.java    |     0
 .../java}/com/baidu/palo/persist/StorageTest.java  |     0
 .../com/baidu/palo/planner/OlapScanNodeTest.java   |     0
 .../com/baidu/palo/qe/ConnectContextTest.java      |     0
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |     0
 .../com/baidu/palo/qe/ConnectSchedulerTest.java    |     0
 .../java}/com/baidu/palo/qe/CoordinatorTest.java   |     0
 .../java}/com/baidu/palo/qe/HelpModuleTest.java    |     0
 .../com/baidu/palo/qe/HelpObjectLoaderTest.java    |     0
 .../com/baidu/palo/qe/JournalObservableTest.java   |     0
 .../java}/com/baidu/palo/qe/MultiLoadMgrTest.java  |     0
 .../java}/com/baidu/palo/qe/QueryStateTest.java    |     0
 .../java}/com/baidu/palo/qe/SetExecutorTest.java   |     0
 .../java}/com/baidu/palo/qe/ShowExecutorTest.java  |     0
 .../baidu/palo/qe/ShowResultSetMetaDataTest.java   |     0
 .../java}/com/baidu/palo/qe/ShowResultSetTest.java |     0
 .../com/baidu/palo/qe/SimpleSchedulerTest.java     |     0
 .../java}/com/baidu/palo/qe/StmtExecutorTest.java  |     0
 .../java}/com/baidu/palo/qe/VariableMgrTest.java   |     0
 .../java}/com/baidu/palo/task/AgentTaskTest.java   |     0
 .../java}/com/baidu/palo/task/LoadEtlTaskTest.java |     0
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |     0
 .../baidu/palo/task/MasterTaskExecutorTest.java    |     0
 .../test/resources}/data/help/Admin/Select/help.md |     0
 .../test/resources}/data/help/Admin/Show/help.md   |     0
 .../test/resources}/data/helpCategoryNormal.md     |     0
 .../test/resources}/data/helpTopicNormal.md        |     0
 .../test/resources}/data/qe/profile.dat            |     0
 .../show_help/functions/binary function/help.md    |     0
 .../data/show_help/functions/bit function/help.md  |     0
 .../resources}/data/show_help/functions/help.md    |     0
 .../resources/test-help-resource-show-help.zip     |   Bin 0 -> 1427 bytes
 fe/src/test/resources/test-help-resource.zip       |   Bin 0 -> 1048 bytes
 fs_brokers/apache_hdfs_broker/build.sh             |    40 +-
 .../{build.xml => build.xml.deprecated}            |     0
 .../deps/apache_hdfs_broker_java_libraries.tar.gz  |   Bin 17603006 -> 0 bytes
 fs_brokers/apache_hdfs_broker/deps/build.sh        |    42 -
 .../baidu/palo/broker/hdfs/BrokerBootstrap.java    |     0
 .../com/baidu/palo/broker/hdfs/BrokerConfig.java   |     0
 .../baidu/palo/broker/hdfs/BrokerException.java    |     0
 .../baidu/palo/broker/hdfs/BrokerFileSystem.java   |     0
 .../palo/broker/hdfs/ClientContextManager.java     |     0
 .../baidu/palo/broker/hdfs/FileSystemIdentity.java |     0
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |     0
 .../palo/broker/hdfs/HDFSBrokerServiceImpl.java    |     0
 .../com/baidu/palo/common/BrokerPerfMonitor.java   |     0
 .../java}/com/baidu/palo/common/ConfigBase.java    |     0
 .../com/baidu/palo/common/LoggerMessageFormat.java |     0
 .../java}/com/baidu/palo/common/ThriftServer.java  |     0
 .../main/resources/thrift/PaloBrokerService.thrift |   227 +
 .../palo/thrift/TBrokerCheckPathExistRequest.java  |   661 ++
 .../palo/thrift/TBrokerCheckPathExistResponse.java |   496 +
 .../palo/thrift/TBrokerCloseReaderRequest.java     |   513 +
 .../palo/thrift/TBrokerCloseWriterRequest.java     |   513 +
 .../palo/thrift/TBrokerDeletePathRequest.java      |   661 ++
 .../thrift/com/baidu/palo/thrift/TBrokerFD.java    |   486 +
 .../com/baidu/palo/thrift/TBrokerFileStatus.java   |   683 ++
 .../baidu/palo/thrift/TBrokerListPathRequest.java  |   865 ++
 .../com/baidu/palo/thrift/TBrokerListResponse.java |   561 +
 .../com/baidu/palo/thrift/TBrokerOpenMode.java     |    42 +
 .../palo/thrift/TBrokerOpenReaderRequest.java      |   862 ++
 .../palo/thrift/TBrokerOpenReaderResponse.java     |   512 +
 .../palo/thrift/TBrokerOpenWriterRequest.java      |   879 ++
 .../palo/thrift/TBrokerOpenWriterResponse.java     |   512 +
 .../baidu/palo/thrift/TBrokerOperationStatus.java  |   518 +
 .../palo/thrift/TBrokerOperationStatusCode.java    |    69 +
 .../com/baidu/palo/thrift/TBrokerPReadRequest.java |   709 ++
 .../baidu/palo/thrift/TBrokerPWriteRequest.java    |   724 ++
 .../palo/thrift/TBrokerPingBrokerRequest.java      |   508 +
 .../com/baidu/palo/thrift/TBrokerReadResponse.java |   517 +
 .../palo/thrift/TBrokerRenamePathRequest.java      |   762 ++
 .../com/baidu/palo/thrift/TBrokerSeekRequest.java  |   613 ++
 .../com/baidu/palo/thrift/TBrokerVersion.java      |    42 +
 .../com/baidu/palo/thrift/TPaloBrokerService.java  | 10488 +++++++++++++++++++
 .../palo/broker/hdfs/TestFileSystemManager.java    |     2 +
 .../palo/broker/hdfs/TestHDFSBrokerService.java    |     0
 gensrc/Makefile                                    |     2 +-
 gensrc/parser/Makefile                             |    58 -
 1005 files changed, 27389 insertions(+), 123 deletions(-)

commit 4f6f8572de86d52ae58ae9a0d86d47a62abcd156
Author: morningman <morningman@163.com>
Date:   Fri Oct 26 14:48:21 2018 +0800

    Added: Add 3 new metrics of Backends: host_fd_metrics, process_fd_metrics and process_thread_metrics, to monitor open file number and thread number.
    Added: Support getting column size and precision info of table or view using JDBC.
    
    Updated: Change the promethues type name GAUGE to lowercase, to fit the latest promethues version.
    Updated: Backend ip saved in FE will be compared with BE's local ip when doing heartbeat, to avoid false positive heartbeat response.
    Updated: Using version_num of tablet instead of calculating nice value to select cumulative compaction candicates.
    
    Fixed: Predicates should not be pushed down to subquery which contains limit clause.
    Fixed: Fix the formula of calculating BE load score.
    Fixed: Fix a bug that in some edge cases, non-master Fontend may wait for a unnecessary long timeout after forwarding cmd to Master FE.
    Fixed: A bug that granting privs on more than one table does not work.
    Fixed: Support 'Insert into' table which contains HLL columns.
    Fixed: ExportStmt' toSql() method may throw NullPointer Exception if table does not exist.
    Fixed: Remove unnecessary 'get capacity' operation to avoid IO impact.
    
    Internal commit id: merge to c16bd603a53dfe2089ff95704c698a738c317792

 be/src/agent/agent_server.cpp                      |   2 +-
 be/src/agent/heartbeat_server.cpp                  | 101 +++++++++++----------
 be/src/agent/heartbeat_server.h                    |   8 ++
 be/src/agent/task_worker_pool.cpp                  |   1 -
 .../exec/schema_scanner/schema_columns_scanner.cpp |  57 +++++++++++-
 be/src/olap/command_executor.cpp                   |   5 +-
 be/src/olap/command_executor.h                     |   4 +-
 be/src/olap/olap_engine.cpp                        |   9 +-
 be/src/olap/olap_rootpath.cpp                      |  26 ++++--
 be/src/olap/olap_rootpath.h                        |   4 +-
 be/src/util/file_utils.cpp                         |  17 +++-
 be/src/util/file_utils.h                           |   6 +-
 be/src/util/metrics.cpp                            |  12 +--
 be/src/util/metrics.h                              |  10 +-
 be/src/util/palo_metrics.cpp                       |  94 +++++++++++++++++++
 be/src/util/palo_metrics.h                         |  11 +++
 be/src/util/system_metrics.cpp                     |  55 ++++++++++-
 be/src/util/system_metrics.h                       |   6 ++
 be/test/util/system_metrics_test.cpp               |  14 +++
 be/test/util/test_data/fd_file_nr                  |   1 +
 fe/src/com/baidu/palo/analysis/CreateViewStmt.java |  43 +++++----
 fe/src/com/baidu/palo/analysis/ExportStmt.java     |   7 +-
 fe/src/com/baidu/palo/analysis/InsertStmt.java     |  24 +++--
 fe/src/com/baidu/palo/analysis/QueryStmt.java      |   7 ++
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   2 +-
 fe/src/com/baidu/palo/catalog/ColumnType.java      |  23 +++++
 fe/src/com/baidu/palo/catalog/SchemaTable.java     |   2 +
 .../com/baidu/palo/clone/BackendLoadStatistic.java |  16 ++--
 fe/src/com/baidu/palo/common/Config.java           |   7 +-
 .../baidu/palo/common/proc/BackendsProcDir.java    |   6 +-
 fe/src/com/baidu/palo/load/LoadChecker.java        |  25 +++--
 .../baidu/palo/metric/PrometheusMetricVisitor.java |   3 +-
 .../baidu/palo/mysql/privilege/TablePrivEntry.java |   2 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   6 +-
 fe/src/com/baidu/palo/qe/JournalObservable.java    |  50 ++++------
 fe/src/com/baidu/palo/qe/JournalObserver.java      |  75 ++++++++++++---
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |  24 ++++-
 .../baidu/palo/service/FrontendServiceImpl.java    |  16 +++-
 fe/src/com/baidu/palo/system/Backend.java          |  12 ++-
 .../com/baidu/palo/system/SystemInfoService.java   |  11 ++-
 gensrc/thrift/HeartbeatService.thrift              |   1 +
 41 files changed, 616 insertions(+), 189 deletions(-)

commit 65fe7f65c191edaef9be601d0ac356e121a3bcfd
Author: morningman <morningman@163.com>
Date:   Mon Oct 1 19:58:41 2018 +0800

    Fixed: privilege logic error:
        1. No one can set root password expect for root user itself
        2. NODE_PRIV cannot be granted.
        3. ADMIN_PRIV and GRANT_PRIV can only be granted or revoked on *.*
        4. No one can modifly privs of default role 'operator' and 'admin'.
        5. No user can be granted to role 'operator'.
    Fixed: the running load limit should not be applied to replay logic. It will cause replay or loading image fail.
    Changed: optimize the problem of too many directories under mini load directory.
    Fixed: missing password and auth check when handling mini load request in Frontend.
    Fixed: DomainResolver should start after Frontends transfer to a certain ROLE, not in Catalog construction methods.
    Fixed: a stupid bug that no one can set password for root user... fix it: only root user can set password for root.
    Fixed: read null data twice
        When reading data with a null value, in some cases, the same data will be read twice by the storage engine,
        resulting in a wrong result.The reason for this problem is that when splitting,
        and the start key is the minimum value, the data with null is read.
    Fixed: add a flag to prevent DomainResovler thread start twice.
    Fixed: fixed a mem leak of using ByteBuf when parsing auth info of http request.
    Fixed: add a new config 'disable_hadoop_load', default is false, set to true to disable hadoop load.
    Changed: add detail error msg of submitting hadoop load job in show load result.
    Fixed: Backend process should be crashed if failed to saving header.
    Added: exposure backend info to user when encounter error on Backend. for debugging it more convenient.
    Fixed: Should remove fd from map when inputstream or outputstream is closed in Broker process.
    Fixed: Change all files' LF to unix format.
    
    Internal commit id: merge from dfcd0aca18eed9ff99d188eb3d01c60d419be1b8

 be/CMakeLists.txt                                  |    2 +-
 be/src/exec/hash_table.cpp                         | 1566 ++++++++++----------
 be/src/exec/hash_table.h                           |  836 +++++------
 be/src/exec/hash_table.hpp                         |  312 ++--
 be/src/exec/olap_common.h                          |   58 +-
 be/src/exec/olap_meta_reader.cpp                   |   94 +-
 be/src/exec/olap_meta_reader.h                     |   32 +-
 be/src/exec/olap_scan_node.cpp                     |   17 +-
 be/src/exec/olap_scanner.cpp                       |   21 +-
 be/src/exec/olap_utils.h                           |    9 +-
 be/src/http/action/mini_load.cpp                   |    6 +
 be/src/http/http_request.cpp                       |    5 +
 be/src/http/http_request.h                         |    2 +
 be/src/olap/CMakeLists.txt                         |    1 -
 be/src/olap/olap_reader.cpp                        |  103 --
 be/src/olap/olap_reader.h                          |   42 -
 be/src/olap/olap_table.cpp                         |   78 +-
 be/src/olap/olap_table.h                           |   15 +-
 be/src/olap/push_handler.cpp                       |   16 +-
 be/src/olap/reader.cpp                             |   24 +-
 be/src/olap/reader.h                               |   12 +-
 be/src/olap/row_cursor.cpp                         |   40 +-
 be/src/olap/row_cursor.h                           |    5 +-
 be/src/olap/tuple.h                                |   79 +
 be/src/runtime/data_spliter.cpp                    |    4 +-
 be/src/runtime/export_sink.cpp                     |  127 +-
 be/src/runtime/load_path_mgr.cpp                   |   56 +-
 be/src/runtime/load_path_mgr.h                     |    2 +
 be/test/exec/hash_table_test.cpp                   |  678 ++++-----
 be/test/exec/mysql_scan_node_test.cpp              |  554 +++----
 be/test/exec/mysql_scanner_test.cpp                |  220 +--
 be/test/exec/schema_scan_node_test.cpp             |  450 +++---
 .../schema_scanner/schema_authors_scanner_test.cpp |  182 +--
 .../schema_charsets_scanner_test.cpp               |  182 +--
 .../schema_collations_scanner_test.cpp             |  182 +--
 .../schema_scanner/schema_columns_scanner_test.cpp |  396 ++---
 .../schema_create_table_scanner_test.cpp           |  396 ++---
 .../schema_scanner/schema_engines_scanner_test.cpp |  182 +--
 .../schema_open_tables_scanner_test.cpp            |  396 ++---
 .../schema_schemata_scanner_test.cpp               |  328 ++--
 .../schema_table_names_scanner_test.cpp            |  362 ++---
 .../schema_scanner/schema_tables_scanner_test.cpp  |  396 ++---
 .../schema_variables_scanner_test.cpp              |  184 +--
 be/test/exec/schema_scanner_test.cpp               |  204 +--
 be/test/exec/set_executor_test.cpp                 |  220 +--
 build.sh                                           |    2 +-
 docs/help/Contents/Account Management/help.md      |    8 +-
 .../Data Manipulation/manipulation_stmt.md         |   10 +
 docs/help/Contents/Utility/util_stmt.md            |   24 +-
 .../com/baidu/palo/analysis/AddFollowerClause.java |   34 +-
 .../com/baidu/palo/analysis/AddObserverClause.java |   34 +-
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |   78 +-
 .../baidu/palo/analysis/AlterDatabaseRename.java   |   88 +-
 .../com/baidu/palo/analysis/AlterUserClause.java   |  208 +--
 fe/src/com/baidu/palo/analysis/AlterUserType.java  |   22 +-
 fe/src/com/baidu/palo/analysis/BackendClause.java  |   94 +-
 .../palo/analysis/BuiltinAggregateFunction.java    |  264 ++--
 .../baidu/palo/analysis/CancelAlterTableStmt.java  |  104 +-
 fe/src/com/baidu/palo/analysis/CreateRoleStmt.java |    2 +-
 fe/src/com/baidu/palo/analysis/CreateUserStmt.java |    2 +-
 fe/src/com/baidu/palo/analysis/DdlStmt.java        |   16 +-
 .../com/baidu/palo/analysis/DropBackendClause.java |   46 +-
 .../baidu/palo/analysis/DropFollowerClause.java    |   34 +-
 .../baidu/palo/analysis/DropObserverClause.java    |   34 +-
 fe/src/com/baidu/palo/analysis/DropRoleStmt.java   |    2 +-
 .../com/baidu/palo/analysis/ExistsPredicate.java   |  112 +-
 fe/src/com/baidu/palo/analysis/FrontendClause.java |   88 +-
 fe/src/com/baidu/palo/analysis/FunctionArgs.java   |   62 +-
 fe/src/com/baidu/palo/analysis/GrantStmt.java      |   21 +-
 fe/src/com/baidu/palo/analysis/HdfsURI.java        |  132 +-
 fe/src/com/baidu/palo/analysis/RedirectStatus.java |   72 +-
 fe/src/com/baidu/palo/analysis/RevokeStmt.java     |   20 +-
 fe/src/com/baidu/palo/analysis/SetPassVar.java     |    9 +-
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |  192 +--
 .../com/baidu/palo/analysis/ShowWhiteListStmt.java |   44 +-
 .../palo/analysis/SingleRangePartitionDesc.java    |  402 ++---
 fe/src/com/baidu/palo/analysis/Subquery.java       |  334 ++---
 fe/src/com/baidu/palo/analysis/SyncStmt.java       |   34 +-
 fe/src/com/baidu/palo/catalog/AccessPrivilege.java |   15 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |    5 +-
 fe/src/com/baidu/palo/catalog/ColumnType.java      |  666 ++++-----
 .../com/baidu/palo/catalog/DistributionInfo.java   |  188 +--
 fe/src/com/baidu/palo/catalog/DomainResolver.java  |   12 +-
 fe/src/com/baidu/palo/catalog/Function.java        |  828 +++++------
 .../baidu/palo/catalog/HashDistributionInfo.java   |  250 ++--
 fe/src/com/baidu/palo/catalog/KeysType.java        |   82 +-
 .../com/baidu/palo/catalog/MaterializedIndex.java  |  404 ++---
 fe/src/com/baidu/palo/catalog/MysqlTable.java      |  420 +++---
 fe/src/com/baidu/palo/catalog/Partition.java       |  474 +++---
 fe/src/com/baidu/palo/catalog/PartitionInfo.java   |  248 ++--
 fe/src/com/baidu/palo/catalog/PartitionKey.java    |  602 ++++----
 .../baidu/palo/catalog/RandomDistributionInfo.java |  150 +-
 fe/src/com/baidu/palo/catalog/Tablet.java          |  496 +++----
 fe/src/com/baidu/palo/catalog/Uda.java             |  210 +--
 fe/src/com/baidu/palo/catalog/Udf.java             |   96 +-
 fe/src/com/baidu/palo/common/AliasGenerator.java   |   70 +-
 .../baidu/palo/common/AuthorizationException.java  |   28 +-
 .../baidu/palo/common/ColumnAliasGenerator.java    |   32 +-
 fe/src/com/baidu/palo/common/Config.java           |   20 +
 fe/src/com/baidu/palo/common/ConfigWatcher.java    |  196 +--
 fe/src/com/baidu/palo/common/FeNameFormat.java     |    8 +-
 fe/src/com/baidu/palo/common/GenericPool.java      |  266 ++--
 fe/src/com/baidu/palo/common/Status.java           |    2 +-
 .../com/baidu/palo/common/TableAliasGenerator.java |   44 +-
 .../baidu/palo/common/proc/BackendProcNode.java    |  130 +-
 .../com/baidu/palo/common/proc/CloneProcNode.java  |   96 +-
 .../common/proc/CurrentQueryFragmentProcNode.java  |    6 +-
 .../baidu/palo/common/proc/IndexInfoProcDir.java   |  254 ++--
 .../palo/common/proc/IndexSchemaProcNode.java      |  128 +-
 .../com/baidu/palo/common/proc/IndicesProcDir.java |  220 +--
 .../com/baidu/palo/common/proc/JobsDbProcDir.java  |  150 +-
 fe/src/com/baidu/palo/common/proc/LoadProcDir.java |  156 +-
 .../baidu/palo/common/proc/PartitionsProcDir.java  |  412 ++---
 .../com/baidu/palo/common/proc/RollupProcDir.java  |  156 +-
 .../palo/common/proc/SchemaChangeProcNode.java     |   78 +-
 .../baidu/palo/common/proc/StatisticProcDir.java   |  360 ++---
 .../com/baidu/palo/common/proc/TableProcDir.java   |  152 +-
 .../palo/common/proc/UserPropertyProcNode.java     |   48 +-
 .../com/baidu/palo/common/util/CommandResult.java  |  118 +-
 fe/src/com/baidu/palo/common/util/Counter.java     |   60 +-
 .../com/baidu/palo/common/util/ListComparator.java |  122 +-
 .../com/baidu/palo/common/util/ProfileManager.java |  298 ++--
 .../com/baidu/palo/common/util/RuntimeProfile.java |  654 ++++----
 fe/src/com/baidu/palo/common/util/TimeUtils.java   |  302 ++--
 fe/src/com/baidu/palo/common/util/Util.java        |  526 +++----
 fe/src/com/baidu/palo/ha/BDBHA.java                |  340 ++---
 .../com/baidu/palo/ha/BDBStateChangeListener.java  |  176 +--
 fe/src/com/baidu/palo/ha/FrontendNodeType.java     |   18 +-
 fe/src/com/baidu/palo/ha/HAProtocol.java           |   72 +-
 fe/src/com/baidu/palo/ha/MasterInfo.java           |  106 +-
 fe/src/com/baidu/palo/http/BaseAction.java         |   10 +-
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |    9 +-
 fe/src/com/baidu/palo/journal/Journal.java         |   86 +-
 fe/src/com/baidu/palo/journal/JournalCursor.java   |   22 +-
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |  616 ++++----
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |  226 +--
 fe/src/com/baidu/palo/journal/bdbje/Timestamp.java |   68 +-
 .../com/baidu/palo/journal/local/LocalJournal.java |  346 ++---
 .../palo/journal/local/LocalJournalCursor.java     |  672 ++++-----
 fe/src/com/baidu/palo/load/DppScheduler.java       |   43 +-
 fe/src/com/baidu/palo/load/EtlStatus.java          |  340 ++---
 fe/src/com/baidu/palo/load/FailMsg.java            |  160 +-
 fe/src/com/baidu/palo/load/Load.java               |   10 +-
 fe/src/com/baidu/palo/load/LoadChecker.java        |    2 +-
 fe/src/com/baidu/palo/load/PartitionLoadInfo.java  |  266 ++--
 fe/src/com/baidu/palo/load/Source.java             |  550 +++----
 fe/src/com/baidu/palo/load/TabletLoadInfo.java     |  212 +--
 fe/src/com/baidu/palo/master/Checkpoint.java       |    1 +
 fe/src/com/baidu/palo/master/MetaHelper.java       |  164 +-
 .../com/baidu/palo/mysql/privilege/PrivBitSet.java |    8 +-
 fe/src/com/baidu/palo/persist/CloneInfo.java       |  290 ++--
 fe/src/com/baidu/palo/persist/CreateTableInfo.java |  150 +-
 fe/src/com/baidu/palo/persist/DatabaseInfo.java    |  188 +--
 fe/src/com/baidu/palo/persist/DropInfo.java        |  160 +-
 .../com/baidu/palo/persist/EditLogInputStream.java |   52 +-
 .../baidu/palo/persist/EditLogOutputStream.java    |  172 +--
 .../com/baidu/palo/persist/ReplicaPersistInfo.java |  494 +++---
 fe/src/com/baidu/palo/persist/StorageInfo.java     |   90 +-
 fe/src/com/baidu/palo/qe/DdlExecutor.java          |    5 +
 fe/src/com/baidu/palo/qe/JournalObservable.java    |  190 +--
 fe/src/com/baidu/palo/qe/JournalObserver.java      |  140 +-
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     |  202 +--
 fe/src/com/baidu/palo/qe/SimpleScheduler.java      |  408 ++---
 .../baidu/palo/service/FrontendServiceImpl.java    |   33 +-
 fe/src/com/baidu/palo/system/BackendEvent.java     |   86 +-
 .../com/baidu/palo/system/SystemInfoObserver.java  |   64 +-
 fe/src/com/baidu/palo/task/AgentBatchTask.java     |  406 ++---
 fe/src/com/baidu/palo/task/AgentTask.java          |  170 +--
 fe/src/com/baidu/palo/task/AgentTaskExecutor.java  |   32 +-
 fe/src/com/baidu/palo/task/AgentTaskQueue.java     |  390 ++---
 fe/src/com/baidu/palo/task/CancelDeleteTask.java   |   70 +-
 fe/src/com/baidu/palo/task/CloneTask.java          |   52 +-
 fe/src/com/baidu/palo/task/CreateReplicaTask.java  |  190 +--
 fe/src/com/baidu/palo/task/CreateRollupTask.java   |  236 +--
 fe/src/com/baidu/palo/task/DropReplicaTask.java    |   48 +-
 fe/src/com/baidu/palo/task/HadoopLoadEtlTask.java  |  194 +--
 fe/src/com/baidu/palo/task/LoadEtlTask.java        |  672 ++++-----
 fe/src/com/baidu/palo/task/LoadPendingTask.java    |  184 +--
 fe/src/com/baidu/palo/task/MasterTask.java         |   58 +-
 fe/src/com/baidu/palo/task/MasterTaskExecutor.java |  158 +-
 fe/src/com/baidu/palo/task/PushTask.java           |  314 ++--
 fe/src/com/baidu/palo/task/SchemaChangeTask.java   |  206 +--
 .../com/baidu/palo/analysis/BackendStmtTest.java   |  148 +-
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |   82 +-
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |  254 ++--
 .../palo/analysis/LiteralExprCompareTest.java      |  600 ++++----
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |   48 +-
 fe/test/com/baidu/palo/catalog/BackendTest.java    |  290 ++--
 fe/test/com/baidu/palo/catalog/CatalogTest.java    |   24 +-
 .../com/baidu/palo/catalog/ColumnStatsTest.java    |  140 +-
 fe/test/com/baidu/palo/catalog/ColumnTest.java     |  222 +--
 fe/test/com/baidu/palo/catalog/DatabaseTest.java   |  314 ++--
 .../baidu/palo/catalog/MaterializedIndexTest.java  |  158 +-
 .../com/baidu/palo/catalog/PartitionKeyTest.java   |  346 ++---
 .../baidu/palo/catalog/RangePartitionInfoTest.java |  246 +--
 fe/test/com/baidu/palo/catalog/ReplicaTest.java    |  270 ++--
 fe/test/com/baidu/palo/catalog/TableTest.java      |  162 +-
 fe/test/com/baidu/palo/catalog/TabletTest.java     |  272 ++--
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |  440 +++---
 .../palo/common/proc/BackendProcNodeTest.java      |  116 +-
 .../palo/common/proc/BackendsProcDirTest.java      |  262 ++--
 .../com/baidu/palo/common/util/DebugUtilTest.java  |  136 +-
 .../baidu/palo/common/util/ListComparatorTest.java |  338 ++---
 .../baidu/palo/common/util/RuntimeProfileTest.java |  278 ++--
 .../com/baidu/palo/common/util/TimeUtilsTest.java  |  246 +--
 .../baidu/palo/persist/CreateTableInfoTest.java    |  200 +--
 fe/test/com/baidu/palo/persist/DropInfoTest.java   |  102 +-
 fe/test/com/baidu/palo/persist/EditLogTest.java    |  176 +--
 .../baidu/palo/persist/ReplicaPersistInfoTest.java |  122 +-
 .../com/baidu/palo/persist/StorageInfoTest.java    |   54 +-
 .../com/baidu/palo/planner/OlapScanNodeTest.java   |  290 ++--
 .../com/baidu/palo/qe/JournalObservableTest.java   |  264 ++--
 fe/test/com/baidu/palo/qe/ShowExecutorTest.java    |    4 +-
 fe/test/com/baidu/palo/qe/SimpleSchedulerTest.java |  326 ++--
 fe/test/com/baidu/palo/task/AgentTaskTest.java     |  468 +++---
 fs_brokers/apache_hdfs_broker/build.sh             |    4 +-
 fs_brokers/apache_hdfs_broker/deps/build.sh        |    2 +-
 .../palo/broker/hdfs/ClientContextManager.java     |    4 +-
 gensrc/script/gen_build_version.sh                 |    2 +-
 gensrc/thrift/PaloInternalService.thrift           |   35 -
 220 files changed, 19998 insertions(+), 20016 deletions(-)

commit ae19fbfc8b741a9cd70c780e6f70b9e9a08bb493
Author: imay <buaa.zhaoc@gmail.com>
Date:   Fri Sep 21 19:39:36 2018 +0800

    make doris compile successfully on ubuntu 1604 and centos 7.2

 be/CMakeLists.txt                 |  2 +-
 be/src/codegen/CMakeLists.txt     |  2 +-
 build.sh                          | 26 +++++++++-----
 gensrc/parser/Makefile            |  2 +-
 gensrc/script/Makefile            |  2 --
 thirdparty/build-thirdparty.sh    | 75 +++++++++++++++++----------------------
 thirdparty/download-thirdparty.sh | 14 ++++----
 thirdparty/vars.sh                |  3 +-
 8 files changed, 62 insertions(+), 64 deletions(-)

commit 9ac1669670eaaee6bfde80de3e77c38654840f6b
Merge: e0d721f2 d0768cbc
Author: lide <mailtolide@sina.com>
Date:   Thu Sep 20 14:29:45 2018 +0800

    Merge pull request #214 from HappenLee/master
    
    Fixed bug which palo can't compiled by JDK 10, added the compile parameter CPPFLAGS of ncurses-6.0, prevent compilation error

commit e0d721f210b217fa49d8e8acfff913b8947131fa
Merge: bea10e4f d4c2e564
Author: lide <mailtolide@sina.com>
Date:   Thu Sep 20 14:25:49 2018 +0800

    Merge pull request #216 from jimmycasey/master
    
    Fixed Spelling.

commit bea10e4f06cfe21a354a5fdf5d21279993c11d69
Author: lide <lide@baidu.com>
Date:   Wed Sep 19 20:04:01 2018 +0800

    1. hide password and other sensitive information in log and audit log
    2. add 2 new proc '/current_queries' and '/current_backend_instances' to monitor the current running queries.
    3. add a manual compaction api on Backend to trigger cumulative or base compaction manually.
    4. add Frontend config 'max_bytes_per_broker_scanner' to limit to bytes per one broker scanner. This is to limit the memory cost of a single broker load job
    5. add Frontend config 'max_unfinished_load_job' to limit load job number: if number of running load jobs exceed the limit, no more load job is allowed to be submmitted.
    6. a log of bug fixed

 be/CMakeLists.txt                                  |  10 +-
 be/src/exec/cross_join_node.cpp                    |   1 +
 be/src/exec/exchange_node.cpp                      |   5 +
 be/src/exec/hash_join_node.cpp                     |   1 +
 be/src/exec/olap_scan_node.cpp                     |   3 +-
 be/src/exprs/aggregate_functions.cpp               |   1 -
 be/src/http/CMakeLists.txt                         |   1 +
 be/src/http/action/compaction_action.cpp           |  98 ++++++
 be/src/http/action/compaction_action.h             |  32 ++
 be/src/olap/base_compaction.cpp                    |   2 +
 be/src/olap/olap_engine.cpp                        |  91 ++++--
 be/src/olap/olap_engine.h                          |  16 +-
 be/src/olap/olap_table.cpp                         |   2 -
 be/src/olap/olap_table.h                           |  25 ++
 be/src/olap/reader.cpp                             |  33 +-
 be/src/runtime/exec_env.cpp                        |  11 +-
 be/src/runtime/fragment_mgr.cpp                    |  35 +++
 be/src/runtime/fragment_mgr.h                      |   4 +
 be/src/runtime/runtime_state.cpp                   |   1 +
 be/src/runtime/runtime_state.h                     |  16 +
 be/src/service/internal_service.cpp                |  13 +
 be/src/service/internal_service.h                  |   8 +-
 bin/start_be.sh                                    |   2 +-
 bin/start_fe.sh                                    |   3 +-
 docs/design/show_current_sql.md                    |  65 ++++
 docs/help/Contents/Account Management/help.md      |  13 +-
 docs/help/Contents/Administration/admin_stmt.md    |   9 +
 .../help/Contents/Data Manipulation/broker_load.md | 343 +++++++++++++++++++++
 .../Data Manipulation/manipulation_stmt.md         | 240 +++++++-------
 .../com/baidu/palo/analysis/CreateTableStmt.java   |  16 +-
 fe/src/com/baidu/palo/analysis/CreateUserStmt.java |   6 +-
 fe/src/com/baidu/palo/analysis/ExportStmt.java     |   9 +-
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |  37 +++
 fe/src/com/baidu/palo/analysis/LoadStmt.java       |  15 +
 fe/src/com/baidu/palo/analysis/SetPassVar.java     |   2 +-
 fe/src/com/baidu/palo/analysis/SetStmt.java        |  10 +
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |  12 +
 .../baidu/palo/analysis/SetUserPropertyVar.java    |   4 +
 fe/src/com/baidu/palo/analysis/StatementBase.java  |   6 +
 fe/src/com/baidu/palo/backup/BackupJobInfo.java    |  36 ++-
 fe/src/com/baidu/palo/backup/RestoreJob.java       |   8 +-
 fe/src/com/baidu/palo/catalog/BrokerTable.java     |  21 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |  14 +-
 fe/src/com/baidu/palo/catalog/Tablet.java          |  10 +-
 fe/src/com/baidu/palo/clone/Clone.java             |   2 +-
 fe/src/com/baidu/palo/clone/CloneChecker.java      |   2 +-
 fe/src/com/baidu/palo/common/Config.java           |  36 +++
 .../baidu/palo/common/MarkedCountDownLatch.java    |   7 +-
 .../proc/CurrentQueryBackendInstanceProcDir.java   | 142 +++++++++
 .../common/proc/CurrentQueryFragmentProcNode.java  | 230 ++++++++++++++
 .../palo/common/proc/CurrentQuerySqlProcDir.java   |  68 ++++
 .../common/proc/CurrentQueryStatisticsProcDir.java |  83 +++++
 fe/src/com/baidu/palo/common/proc/ProcService.java |   3 +
 fe/src/com/baidu/palo/common/util/DebugUtil.java   |   7 +
 .../com/baidu/palo/common/util/PrintableMap.java   |  25 +-
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java |   3 +-
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |   1 -
 fe/src/com/baidu/palo/journal/JournalEntity.java   |   6 +
 fe/src/com/baidu/palo/load/Load.java               |  10 +
 .../com/baidu/palo/mysql/privilege/PaloAuth.java   |  34 +-
 .../baidu/palo/mysql/privilege/UserProperty.java   |  23 +-
 .../palo/mysql/privilege/UserPropertyInfo.java     |  77 +++++
 .../palo/mysql/privilege/UserPropertyMgr.java      |   9 +-
 fe/src/com/baidu/palo/persist/EditLog.java         |  10 +
 fe/src/com/baidu/palo/persist/OperationType.java   |   1 +
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  |   5 +
 fe/src/com/baidu/palo/planner/OlapScanNode.java    |  31 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   7 +-
 fe/src/com/baidu/palo/qe/ConnectContext.java       |  15 +-
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |  17 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |  34 +-
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     |   2 +-
 fe/src/com/baidu/palo/qe/QeProcessor.java          |  58 +---
 fe/src/com/baidu/palo/qe/QeProcessorImpl.java      | 143 +++++++++
 fe/src/com/baidu/palo/qe/QueryStatisticsItem.java  | 196 ++++++++++++
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |   2 +-
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |  58 ++--
 fe/src/com/baidu/palo/rpc/AttachmentRequest.java   |   2 +-
 fe/src/com/baidu/palo/rpc/BackendServiceProxy.java |  19 +-
 .../baidu/palo/rpc/PCancelPlanFragmentRequest.java |   2 +-
 .../baidu/palo/rpc/PCancelPlanFragmentResult.java  |   2 +-
 .../baidu/palo/rpc/PExecPlanFragmentRequest.java   |   2 +-
 .../baidu/palo/rpc/PExecPlanFragmentResult.java    |   2 +-
 fe/src/com/baidu/palo/rpc/PFetchDataRequest.java   |   2 +-
 fe/src/com/baidu/palo/rpc/PFetchDataResult.java    |   2 +-
 .../palo/rpc/PFetchFragmentExecInfoRequest.java    |  35 +++
 .../palo/rpc/PFetchFragmentExecInfosResult.java    |  30 ++
 fe/src/com/baidu/palo/rpc/PFragmentExecInfo.java   |  31 ++
 fe/src/com/baidu/palo/rpc/PInternalService.java    |  10 +-
 fe/src/com/baidu/palo/rpc/PStatus.java             |   2 +-
 fe/src/com/baidu/palo/rpc/PUniqueId.java           |   2 +-
 fe/src/com/baidu/palo/rpc/RpcException.java        |   2 +-
 .../palo/rpc/ThriftClientAttachmentHandler.java    |   2 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |   6 +-
 .../com/baidu/palo/system/SystemInfoService.java   |  21 ++
 .../com/baidu/palo/task/ExportExportingTask.java   |   7 +-
 fe/src/com/baidu/palo/task/PullLoadTask.java       |   7 +-
 .../com/baidu/palo/catalog/UserPropertyTest.java   |  29 +-
 fs_brokers/apache_hdfs_broker/bin/start_broker.sh  |   3 +-
 gensrc/proto/internal_service.proto                |  23 ++
 thirdparty/build-thirdparty.sh                     |   3 +-
 101 files changed, 2479 insertions(+), 404 deletions(-)

commit 050cbf2438619021321737c3dbf74703c92cc888
Author: lide <mailtolide@sina.com>
Date:   Tue Sep 18 12:42:30 2018 +0800

    Update issue templates

 .github/ISSUE_TEMPLATE/bug_report.md      | 35 +++++++++++++++++++++++++++++++
 .github/ISSUE_TEMPLATE/custom.md          |  7 +++++++
 .github/ISSUE_TEMPLATE/feature_request.md | 17 +++++++++++++++
 3 files changed, 59 insertions(+)

commit 15a3862d91a829c01e44ef2e4421e4ea82a8693c
Author: morningman <morningman@163.com>
Date:   Fri Aug 24 18:05:36 2018 +0800

    merge to fbc08a22bafa643aa9e0d7eb5cb90248ea47bbf8 (#226)
    
    removed unused logs when datetime format is error

 be/src/exprs/timestamp_functions.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f3a6f23da8ff8da42f4ac599c28fe7550e9780c5
Author: morningman <morningman@163.com>
Date:   Fri Aug 24 17:53:48 2018 +0800

    merge to 055ce846df2efc25ac32b1fa486f83af91341a04 (#225)
    
    change backends proc column title name FreeSpace to UsedSpace

 fe/src/com/baidu/palo/common/proc/BackendsProcDir.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit cc74efb3c500d01f910408b44a0bab9099308603
Author: morningman <morningman@163.com>
Date:   Fri Aug 24 17:12:26 2018 +0800

    merge to ddb65b69f9c788e359e191889cb31f15279c41ec (#224)
    
    1. Apache HDFS broker support HDFS HA and Hadoop kerberos authentication.
    2. New Backup and Restore function. Use Fs Broker to backup your data to HDFS or restore them from HDFS.
    3. Table-Level Privileges. Grant fine-grained privileges on table-level to specified user.
    4. A lot of bugs fixed.
    5. Performance improvement.

 be/CMakeLists.txt                                  |    4 +-
 be/src/agent/agent_server.cpp                      |   48 +-
 be/src/agent/agent_server.h                        |    3 +-
 be/src/agent/cgroups_mgr.cpp                       |    3 -
 be/src/agent/heartbeat_server.cpp                  |   10 +-
 be/src/agent/task_worker_pool.cpp                  |  405 ++---
 be/src/agent/task_worker_pool.h                    |   20 +-
 be/src/agent/topic_subscriber.cpp                  |    2 -
 be/src/agent/user_resource_listener.cpp            |    6 -
 be/src/common/config.h                             |    7 +-
 be/src/exec/CMakeLists.txt                         |    2 +-
 be/src/exec/broker_reader.cpp                      |   26 +-
 be/src/exec/broker_reader.h                        |    6 +-
 be/src/exec/broker_scanner.cpp                     |    2 +-
 be/src/exec/broker_writer.cpp                      |   26 +-
 be/src/exec/broker_writer.h                        |    7 +-
 be/src/exec/mysql_scan_node.cpp                    |    5 +-
 be/src/exec/mysql_scan_node.h                      |    2 +-
 be/src/exec/schema_scan_node.cpp                   |    4 +
 be/src/exec/schema_scanner.h                       |    3 +-
 .../exec/schema_scanner/schema_columns_scanner.cpp |    6 +
 .../schema_scanner/schema_schemata_scanner.cpp     |    3 +
 .../exec/schema_scanner/schema_tables_scanner.cpp  |    6 +
 be/src/exprs/aggregate_functions.cpp               |    7 +-
 be/src/exprs/encryption_functions.h                |   37 +-
 be/src/exprs/hybird_set.h                          |    3 +-
 be/src/http/action/mini_load.cpp                   |    1 +
 be/src/olap/aggregate_func.h                       |   10 +-
 be/src/olap/column_file/segment_reader.cpp         |    7 +-
 be/src/olap/column_file/segment_reader.h           |    1 -
 be/src/olap/command_executor.cpp                   |   13 +-
 be/src/olap/command_executor.h                     |    1 +
 be/src/olap/field.h                                |    2 +
 be/src/olap/file_helper.cpp                        |    2 +
 be/src/olap/hll.cpp                                |    6 +-
 be/src/olap/hll.h                                  |    2 +-
 be/src/olap/olap_engine.cpp                        |   65 +-
 be/src/olap/olap_engine.h                          |   15 +-
 be/src/olap/olap_header.cpp                        |   15 +
 be/src/olap/olap_header.h                          |    1 +
 be/src/olap/olap_snapshot.cpp                      |    2 +-
 be/src/olap/olap_table.cpp                         |   66 +-
 be/src/olap/olap_table.h                           |   11 +
 be/src/olap/reader.cpp                             |    3 +
 be/src/runtime/CMakeLists.txt                      |    1 +
 be/src/runtime/exec_env.cpp                        |    2 +
 be/src/runtime/exec_env.h                          |    7 +
 be/src/runtime/export_sink.cpp                     |    2 +-
 be/src/runtime/result_sink.cpp                     |    4 +-
 be/src/runtime/snapshot_loader.cpp                 |  934 ++++++++++
 be/src/runtime/snapshot_loader.h                   |  139 ++
 be/src/util/file_utils.cpp                         |   32 +
 be/src/util/file_utils.h                           |    3 +
 be/test/agent/agent_server_test.cpp                |    5 -
 be/test/agent/task_worker_pool_test.cpp            |  296 +---
 be/test/exec/broker_reader_test.cpp                |    4 +-
 be/test/olap/command_executor_test.cpp             |    4 +-
 be/test/runtime/CMakeLists.txt                     |    1 +
 be/test/runtime/snapshot_loader_test.cpp           |  119 ++
 bin/start_be.sh                                    |    8 +-
 bin/start_fe.sh                                    |    2 -
 bin/stop_be.sh                                     |    1 +
 bin/stop_fe.sh                                     |    1 -
 docs/design/Palo_privilege.md                      |  279 +++
 docs/design/real_time_loading.md                   |  206 +++
 docs/help/Contents/Account Management/help.md      |  272 ++-
 docs/help/Contents/Data Definition/ddl_stmt.md     |  265 +--
 .../Data Manipulation/manipulation_stmt.md         |  203 ++-
 fe/build.xml                                       |  108 ++
 fe/src/com/baidu/palo/alter/RollupHandler.java     |   55 +-
 .../com/baidu/palo/alter/SchemaChangeHandler.java  |   11 +
 .../baidu/palo/analysis/AbstractBackupStmt.java    |  137 +-
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |   12 +-
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |   25 +-
 .../baidu/palo/analysis/AlterDatabaseRename.java   |   30 +-
 .../palo/analysis/AlterLoadErrorUrlClause.java     |    9 +-
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |    9 +-
 fe/src/com/baidu/palo/analysis/AlterTableStmt.java |   13 +-
 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  |   80 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |   32 +-
 fe/src/com/baidu/palo/analysis/BackupStmt.java     |   77 +-
 .../baidu/palo/analysis/CancelAlterTableStmt.java  |   20 +-
 .../com/baidu/palo/analysis/CancelBackupStmt.java  |   16 +-
 fe/src/com/baidu/palo/analysis/CancelLoadStmt.java |    8 +-
 .../com/baidu/palo/analysis/CreateClusterStmt.java |   12 +-
 fe/src/com/baidu/palo/analysis/CreateDbStmt.java   |    9 +-
 .../baidu/palo/analysis/CreateRepositoryStmt.java  |  103 ++
 fe/src/com/baidu/palo/analysis/CreateRoleStmt.java |   46 +
 .../com/baidu/palo/analysis/CreateTableStmt.java   |   12 +-
 fe/src/com/baidu/palo/analysis/CreateUserStmt.java |  112 +-
 fe/src/com/baidu/palo/analysis/CreateViewStmt.java |   12 +-
 .../com/baidu/palo/analysis/DataDescription.java   |   24 +-
 fe/src/com/baidu/palo/analysis/DeleteStmt.java     |   12 +-
 fe/src/com/baidu/palo/analysis/DescribeStmt.java   |   15 +-
 .../com/baidu/palo/analysis/DropClusterStmt.java   |    5 +-
 fe/src/com/baidu/palo/analysis/DropDbStmt.java     |   11 +-
 .../baidu/palo/analysis/DropRepositoryStmt.java    |   63 +
 fe/src/com/baidu/palo/analysis/DropRoleStmt.java   |   46 +
 fe/src/com/baidu/palo/analysis/DropTableStmt.java  |   12 +-
 fe/src/com/baidu/palo/analysis/DropUserStmt.java   |   40 +-
 fe/src/com/baidu/palo/analysis/ExportStmt.java     |   21 +-
 fe/src/com/baidu/palo/analysis/Expr.java           |   16 +-
 fe/src/com/baidu/palo/analysis/FrontendClause.java |   32 +-
 fe/src/com/baidu/palo/analysis/GrantStmt.java      |   93 +-
 .../baidu/palo/analysis/InformationFunction.java   |    4 +-
 fe/src/com/baidu/palo/analysis/InsertStmt.java     |   41 +-
 fe/src/com/baidu/palo/analysis/LabelName.java      |    1 +
 fe/src/com/baidu/palo/analysis/LinkDbStmt.java     |    9 +-
 fe/src/com/baidu/palo/analysis/LoadStmt.java       |   15 +-
 fe/src/com/baidu/palo/analysis/MigrateDbStmt.java  |    8 +-
 .../palo/analysis/ModifyTablePropertiesClause.java |   19 +-
 fe/src/com/baidu/palo/analysis/RecoverDbStmt.java  |   17 +-
 .../baidu/palo/analysis/RecoverPartitionStmt.java  |   21 +-
 .../com/baidu/palo/analysis/RecoverTableStmt.java  |   20 +-
 fe/src/com/baidu/palo/analysis/RestoreStmt.java    |  112 +-
 fe/src/com/baidu/palo/analysis/RevokeStmt.java     |   79 +-
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   23 +-
 fe/src/com/baidu/palo/analysis/SetPassVar.java     |   42 +-
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |   10 +-
 .../baidu/palo/analysis/SetUserPropertyVar.java    |   22 +-
 fe/src/com/baidu/palo/analysis/SetVar.java         |   10 +-
 fe/src/com/baidu/palo/analysis/ShowAlterStmt.java  |   26 +-
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |   20 +-
 fe/src/com/baidu/palo/analysis/ShowBackupStmt.java |  121 +-
 fe/src/com/baidu/palo/analysis/ShowBrokerStmt.java |   14 +-
 .../com/baidu/palo/analysis/ShowClusterStmt.java   |   14 +-
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |   19 +-
 .../baidu/palo/analysis/ShowCreateTableStmt.java   |   14 +-
 fe/src/com/baidu/palo/analysis/ShowDataStmt.java   |   23 +-
 fe/src/com/baidu/palo/analysis/ShowDeleteStmt.java |   10 +-
 fe/src/com/baidu/palo/analysis/ShowExportStmt.java |    8 -
 .../com/baidu/palo/analysis/ShowFrontendsStmt.java |   53 +
 fe/src/com/baidu/palo/analysis/ShowGrantsStmt.java |  101 ++
 fe/src/com/baidu/palo/analysis/ShowLoadStmt.java   |    8 -
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |    9 +-
 .../baidu/palo/analysis/ShowMigrationsStmt.java    |   11 +-
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |   48 +-
 fe/src/com/baidu/palo/analysis/ShowProcStmt.java   |    9 +-
 .../baidu/palo/analysis/ShowRepositoriesStmt.java  |   48 +
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |  114 +-
 fe/src/com/baidu/palo/analysis/ShowRolesStmt.java  |   59 +
 .../com/baidu/palo/analysis/ShowSnapshotStmt.java  |  156 ++
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |    9 +-
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java  |    7 +-
 fe/src/com/baidu/palo/analysis/ShowTabletStmt.java |    5 +-
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |   36 +-
 fe/src/com/baidu/palo/analysis/ShowUserStmt.java   |    6 +-
 fe/src/com/baidu/palo/analysis/TablePattern.java   |  141 ++
 fe/src/com/baidu/palo/analysis/TableRef.java       |   65 +-
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |    3 +
 fe/src/com/baidu/palo/analysis/UseStmt.java        |   15 +-
 fe/src/com/baidu/palo/analysis/UserDesc.java       |   22 +-
 fe/src/com/baidu/palo/analysis/UserIdentity.java   |  205 +++
 ...ractBackupJob.java => AbstractBackupJob_D.java} |    9 +-
 fe/src/com/baidu/palo/backup/AbstractJob.java      |  244 +++
 fe/src/com/baidu/palo/backup/BackupHandler.java    |  987 ++++-------
 fe/src/com/baidu/palo/backup/BackupJob.java        | 1298 ++++++--------
 fe/src/com/baidu/palo/backup/BackupJobInfo.java    |  481 +++++
 fe/src/com/baidu/palo/backup/BackupJob_D.java      |  944 ++++++++++
 fe/src/com/baidu/palo/backup/BackupMeta.java       |  119 ++
 fe/src/com/baidu/palo/backup/BlobStorage.java      |  700 ++++++++
 fe/src/com/baidu/palo/backup/RemoteFile.java       |   56 +
 fe/src/com/baidu/palo/backup/Repository.java       |  651 +++++++
 fe/src/com/baidu/palo/backup/RepositoryMgr.java    |  154 ++
 .../com/baidu/palo/backup/RestoreFileMapping.java  |  203 +++
 fe/src/com/baidu/palo/backup/RestoreJob.java       | 1870 +++++++++++++-------
 fe/src/com/baidu/palo/backup/RestoreJob_D.java     |  885 +++++++++
 fe/src/com/baidu/palo/backup/SnapshotInfo.java     |  161 ++
 fe/src/com/baidu/palo/backup/Status.java           |   68 +
 fe/src/com/baidu/palo/catalog/AccessPrivilege.java |   56 +-
 fe/src/com/baidu/palo/catalog/BrokerMgr.java       |   20 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |  268 ++-
 fe/src/com/baidu/palo/catalog/DomainResolver.java  |  166 ++
 .../baidu/palo/catalog/DomainResolverServer.java   |  446 -----
 .../com/baidu/palo/catalog/MaterializedIndex.java  |   46 +-
 fe/src/com/baidu/palo/catalog/OlapTable.java       | 1538 +++++++++-------
 fe/src/com/baidu/palo/catalog/Partition.java       |   26 +-
 .../com/baidu/palo/catalog/RangePartitionInfo.java |  820 ++++-----
 fe/src/com/baidu/palo/catalog/Replica.java         |  393 ++--
 fe/src/com/baidu/palo/catalog/ResourceGroup.java   |    2 +-
 fe/src/com/baidu/palo/catalog/Table.java           |   40 +-
 fe/src/com/baidu/palo/catalog/Tablet.java          |   56 +-
 .../baidu/palo/catalog/TabletInvertedIndex.java    |   43 +-
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java |  655 -------
 fe/src/com/baidu/palo/catalog/WhiteList.java       |  205 ---
 .../com/baidu/palo/cluster/ClusterNamespace.java   |    7 +-
 fe/src/com/baidu/palo/common/CaseSensibility.java  |   41 +
 fe/src/com/baidu/palo/common/Config.java           |   24 +-
 fe/src/com/baidu/palo/common/ErrorCode.java        |   12 +-
 fe/src/com/baidu/palo/common/FeConstants.java      |    2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |    6 +
 fe/src/com/baidu/palo/common/FeNameFormat.java     |   44 +-
 fe/src/com/baidu/palo/common/PatternMatcher.java   |   89 +-
 fe/src/com/baidu/palo/common/io/DeepCopy.java      |   50 +
 .../palo/common/io/FastByteArrayInputStream.java   |   82 +
 .../palo/common/io/FastByteArrayOutputStream.java  |  106 ++
 ...AccessResourceProcDir.java => AuthProcDir.java} |   34 +-
 .../baidu/palo/common/proc/BackendsProcDir.java    |   13 +-
 .../baidu/palo/common/proc/BackupJobProcNode.java  |   62 -
 .../com/baidu/palo/common/proc/BackupProcNode.java |   84 -
 .../baidu/palo/common/proc/FrontendsProcNode.java  |   21 +-
 fe/src/com/baidu/palo/common/proc/JobsProcDir.java |   13 +-
 fe/src/com/baidu/palo/common/proc/LoadProcDir.java |   23 +-
 fe/src/com/baidu/palo/common/proc/ProcService.java |    2 +-
 .../baidu/palo/common/proc/ReplicasProcNode.java   |  110 +-
 .../baidu/palo/common/proc/RestoreProcNode.java    |   84 -
 .../palo/common/proc/SchemaChangeProcNode.java     |   17 +-
 .../com/baidu/palo/common/proc/TabletsProcDir.java |  304 ++--
 .../palo/common/proc/UserPropertyProcNode.java     |   27 +-
 fe/src/com/baidu/palo/common/util/TimeUtils.java   |   58 +-
 .../baidu/palo/consistency/ConsistencyChecker.java |    3 +
 fe/src/com/baidu/palo/deploy/DeployManager.java    |    1 -
 .../palo/deploy/impl/LocalFileDeployManager.java   |    2 +-
 fe/src/com/baidu/palo/ha/BDBHA.java                |    4 +-
 .../com/baidu/palo/ha/BDBStateChangeListener.java  |   15 +-
 fe/src/com/baidu/palo/ha/MasterInfo.java           |  107 +-
 fe/src/com/baidu/palo/http/BaseAction.java         |  116 +-
 fe/src/com/baidu/palo/http/BaseRequest.java        |   12 +-
 fe/src/com/baidu/palo/http/HttpAuthManager.java    |    4 +-
 fe/src/com/baidu/palo/http/HttpServer.java         |    2 +
 fe/src/com/baidu/palo/http/action/HaAction.java    |    2 +-
 fe/src/com/baidu/palo/http/action/HelpAction.java  |    4 +-
 .../com/baidu/palo/http/action/SystemAction.java   |    7 +-
 .../com/baidu/palo/http/action/WebBaseAction.java  |  100 +-
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |    5 +
 fe/src/com/baidu/palo/http/meta/MetaService.java   |    2 +-
 .../palo/http/rest/BootstrapFinishAction.java      |    8 -
 .../palo/http/rest/CheckDecommissionAction.java    |    7 +-
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java |   10 +-
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |   18 +-
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |   11 +-
 .../palo/http/rest/MetaReplayerCheckAction.java    |    8 +-
 .../com/baidu/palo/http/rest/MigrationAction.java  |    8 +-
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |    3 +-
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |    3 +-
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |    3 +-
 fe/src/com/baidu/palo/http/rest/MultiList.java     |    3 +-
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |    3 +-
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |    3 +-
 .../com/baidu/palo/http/rest/RestBaseAction.java   |   11 +-
 .../com/baidu/palo/http/rest/RowCountAction.java   |    8 +-
 .../com/baidu/palo/http/rest/SetConfigAction.java  |   10 +-
 .../com/baidu/palo/http/rest/ShowProcAction.java   |    9 +-
 .../palo/http/rest/StorageTypeCheckAction.java     |   82 +
 fe/src/com/baidu/palo/journal/JournalEntity.java   |   45 +-
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |  617 ++++---
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java |    2 +-
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |  227 ++-
 .../palo/journal/local/LocalJournalCursor.java     |    8 +-
 fe/src/com/baidu/palo/load/ExportJob.java          |   64 +-
 fe/src/com/baidu/palo/load/ExportMgr.java          |   26 +
 fe/src/com/baidu/palo/load/Load.java               |  104 +-
 fe/src/com/baidu/palo/load/LoadJob.java            |   36 +-
 fe/src/com/baidu/palo/master/MasterImpl.java       |   54 +-
 fe/src/com/baidu/palo/master/ReportHandler.java    |    4 +-
 fe/src/com/baidu/palo/mysql/MysqlChannel.java      |   13 +-
 fe/src/com/baidu/palo/mysql/MysqlProto.java        |   78 +-
 fe/src/com/baidu/palo/mysql/MysqlServer.java       |   15 +-
 .../baidu/palo/mysql/privilege/DbPrivEntry.java    |  155 ++
 .../baidu/palo/mysql/privilege/DbPrivTable.java    |   80 +
 .../palo/mysql/privilege/GlobalPrivEntry.java      |  145 ++
 .../com/baidu/palo/mysql/privilege/PaloAuth.java   | 1276 +++++++++++++
 .../baidu/palo/mysql/privilege/PaloPrivilege.java  |   77 +
 .../com/baidu/palo/mysql/privilege/PaloRole.java   |  152 ++
 .../com/baidu/palo/mysql/privilege/PrivBitSet.java |  158 ++
 .../com/baidu/palo/mysql/privilege/PrivEntry.java  |  236 +++
 .../baidu/palo/mysql/privilege/PrivPredicate.java  |  105 ++
 .../com/baidu/palo/mysql/privilege/PrivTable.java  |  228 +++
 .../baidu/palo/mysql/privilege/RoleManager.java    |  187 ++
 .../baidu/palo/mysql/privilege/TablePrivEntry.java |  151 ++
 .../baidu/palo/mysql/privilege/TablePrivTable.java |  110 ++
 .../baidu/palo/mysql/privilege/UserPrivTable.java  |  159 ++
 .../{catalog => mysql/privilege}/UserProperty.java |  375 ++--
 .../palo/mysql/privilege/UserPropertyMgr.java      |  302 ++++
 .../{catalog => mysql/privilege}/UserResource.java |    3 +-
 .../com/baidu/palo/mysql/privilege/WhiteList.java  |  329 ++++
 fe/src/com/baidu/palo/persist/EditLog.java         |  139 +-
 fe/src/com/baidu/palo/persist/OperationType.java   |   18 +
 fe/src/com/baidu/palo/persist/PrivInfo.java        |  141 ++
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  |    5 +-
 fe/src/com/baidu/palo/planner/OlapScanNode.java    |    6 +-
 fe/src/com/baidu/palo/planner/SchemaScanNode.java  |   25 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  132 +-
 fe/src/com/baidu/palo/qe/ConnectContext.java       |   41 +-
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |   12 +-
 fe/src/com/baidu/palo/qe/ConnectScheduler.java     |   19 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |   19 +-
 fe/src/com/baidu/palo/qe/DdlExecutor.java          |   31 +-
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     |   25 +-
 fe/src/com/baidu/palo/qe/QeProcessor.java          |    5 +-
 fe/src/com/baidu/palo/qe/ResultReceiver.java       |   16 +-
 fe/src/com/baidu/palo/qe/SetExecutor.java          |    4 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |  239 ++-
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |   11 +-
 fe/src/com/baidu/palo/rpc/BackendServiceProxy.java |   53 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |  124 +-
 fe/src/com/baidu/palo/system/Frontend.java         |    1 -
 fe/src/com/baidu/palo/task/AgentBatchTask.java     |   72 +-
 fe/src/com/baidu/palo/task/AgentTask.java          |    8 +-
 fe/src/com/baidu/palo/task/AgentTaskQueue.java     |   38 +-
 fe/src/com/baidu/palo/task/CancelDeleteTask.java   |    4 +-
 .../com/baidu/palo/task/CheckConsistencyTask.java  |    3 +-
 fe/src/com/baidu/palo/task/CloneTask.java          |   12 +-
 fe/src/com/baidu/palo/task/CreateReplicaTask.java  |   48 +-
 fe/src/com/baidu/palo/task/CreateRollupTask.java   |   27 +-
 fe/src/com/baidu/palo/task/DirMoveTask.java        |   65 +
 fe/src/com/baidu/palo/task/DownloadTask.java       |   69 +
 fe/src/com/baidu/palo/task/DropReplicaTask.java    |    4 +-
 .../com/baidu/palo/task/ExportExportingTask.java   |    2 +-
 fe/src/com/baidu/palo/task/PushTask.java           |   38 +-
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   |    2 +-
 fe/src/com/baidu/palo/task/RestoreTask.java        |   62 -
 fe/src/com/baidu/palo/task/SchemaChangeTask.java   |   27 +-
 fe/src/com/baidu/palo/task/SnapshotTask.java       |   18 +-
 .../baidu/palo/task/StorageMediaMigrationTask.java |    2 +-
 fe/src/com/baidu/palo/task/UploadTask.java         |   38 +-
 .../com/baidu/palo/analysis/AccessTestUtil.java    |  108 +-
 .../baidu/palo/analysis/AlterClusterStmtTest.java  |   35 +-
 .../baidu/palo/analysis/AlterTableStmtTest.java    |   30 +-
 .../com/baidu/palo/analysis/BackendStmtTest.java   |   14 +-
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |   42 +-
 .../baidu/palo/analysis/CreateClusterStmtTest.java |   33 +-
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |   25 +-
 .../baidu/palo/analysis/CreateTableStmtTest.java   |   61 +-
 .../baidu/palo/analysis/CreateUserStmtTest.java    |   43 +-
 .../baidu/palo/analysis/DataDescriptionTest.java   |   50 +-
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |   35 +-
 .../com/baidu/palo/analysis/DescribeStmtTest.java  |   21 +-
 .../baidu/palo/analysis/DropClusterStmtTest.java   |   31 +-
 .../com/baidu/palo/analysis/DropDbStmtTest.java    |   17 +
 .../com/baidu/palo/analysis/DropTableStmtTest.java |   27 +-
 .../com/baidu/palo/analysis/DropUserStmtTest.java  |   33 +-
 fe/test/com/baidu/palo/analysis/GrantStmtTest.java |   82 +-
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |   26 +-
 fe/test/com/baidu/palo/analysis/LoadStmtTest.java  |   50 +-
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |   26 +-
 .../com/baidu/palo/analysis/SetPassVarTest.java    |   41 +-
 fe/test/com/baidu/palo/analysis/SetStmtTest.java   |   18 +
 .../palo/analysis/SetUserPropertyStmtTest.java     |   22 +-
 .../palo/analysis/SetUserPropertyVarTest.java      |    6 +-
 fe/test/com/baidu/palo/analysis/SetVarTest.java    |   24 +-
 .../com/baidu/palo/analysis/ShowAlterStmtTest.java |   18 +-
 .../baidu/palo/analysis/ShowCreateDbStmtTest.java  |   30 +-
 .../palo/analysis/ShowCreateTableStmtTest.java     |   24 +-
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |  127 +-
 .../com/baidu/palo/analysis/ShowLoadStmtTest.java  |   22 +-
 .../com/baidu/palo/analysis/ShowTableStmtTest.java |   25 +-
 .../palo/analysis/ShowUserPropertyStmtTest.java    |   17 +
 fe/test/com/baidu/palo/analysis/UseStmtTest.java   |   25 +-
 .../com/baidu/palo/backup/BackupHandlerTest.java   |  364 ++++
 .../com/baidu/palo/backup/BackupJobInfoTest.java   |  167 ++
 fe/test/com/baidu/palo/backup/BackupJobTest.java   |  309 +++-
 fe/test/com/baidu/palo/backup/CatalogMocker.java   |   81 +-
 .../com/baidu/palo/backup/ObjectWriterTest.java    |  111 --
 fe/test/com/baidu/palo/backup/RepositoryTest.java  |  318 ++++
 .../baidu/palo/backup/RestoreFileMappingTest.java  |   43 +
 fe/test/com/baidu/palo/backup/RestoreJobTest.java  |  363 ++++
 fe/test/com/baidu/palo/bdb/BDBToolOptionsTest.java |    2 +-
 fe/test/com/baidu/palo/catalog/BackendTest.java    |   15 +-
 .../palo/catalog/DomainResolverServerTest.java     |  155 --
 fe/test/com/baidu/palo/catalog/OlapTableTest.java  |   59 +
 .../com/baidu/palo/catalog/UserPropertyTest.java   |   19 +-
 .../com/baidu/palo/catalog/UserResourceTest.java   |    1 +
 fe/test/com/baidu/palo/clone/CloneCheckerTest.java |  766 --------
 fe/test/com/baidu/palo/clone/CloneTest.java        |    5 +-
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |    4 +-
 fe/test/com/baidu/palo/common/MD5Test.java         |   59 +
 .../com/baidu/palo/common/PatternMatcherTest.java  |  144 +-
 .../palo/common/proc/BackendProcNodeTest.java      |   18 +-
 .../palo/common/proc/BackendsProcDirTest.java      |   21 +-
 .../palo/common/proc/UserPropertyProcTest.java     |  125 --
 .../baidu/palo/common/util/RuntimeProfileTest.java |   27 +-
 .../com/baidu/palo/common/util/UnitTestUtil.java   |   19 +-
 .../baidu/palo/deploy/AmbariDeployManagerTest.java |    2 -
 fe/test/com/baidu/palo/load/DppSchedulerTest.java  |   55 -
 fe/test/com/baidu/palo/load/LoadJobTest.java       |   17 +-
 fe/test/com/baidu/palo/load/LoadTest.java          |   36 +-
 fe/test/com/baidu/palo/mysql/MysqlProtoTest.java   |   31 +-
 .../com/baidu/palo/mysql/privilege/AuthTest.java   |  938 ++++++++++
 .../com/baidu/palo/mysql/privilege/MockedAuth.java |   57 +
 .../com/baidu/palo/mysql/privilege/PrivTest.java   |  347 ++++
 .../baidu/palo/mysql/privilege/PrivilegeTest.java  |  161 ++
 .../palo/mysql/privilege/UserIdentityTest.java     |   46 +
 fe/test/com/baidu/palo/persist/AccessTest.java     |  286 ---
 fe/test/com/baidu/palo/qe/ConnectContextTest.java  |   11 +-
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |   14 +-
 .../com/baidu/palo/qe/ConnectSchedulerTest.java    |   16 +-
 fe/test/com/baidu/palo/qe/CoordinatorTest.java     |   10 -
 fe/test/com/baidu/palo/qe/SetExecutorTest.java     |   51 +-
 fe/test/com/baidu/palo/qe/ShowExecutorTest.java    |   92 +-
 fe/test/com/baidu/palo/qe/StmtExecutorTest.java    |   32 +-
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |    1 +
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |  103 +-
 gensrc/parser/sql_parser.y                         |  212 ++-
 gensrc/parser/sql_scanner.flex                     |    8 +
 gensrc/proto/olap_file.proto                       |    3 +
 gensrc/script/gen_build_version.sh                 |    2 +-
 gensrc/thrift/AgentService.thrift                  |   31 +-
 gensrc/thrift/FrontendService.thrift               |    7 +
 gensrc/thrift/MasterService.thrift                 |    4 +
 gensrc/thrift/PaloBrokerService.thrift             |    1 +
 gensrc/thrift/PlanNodes.thrift                     |    1 +
 gensrc/thrift/Types.thrift                         |    7 +-
 thirdparty/build-thirdparty.sh                     |    1 -
 thirdparty/java-libraries/cobertura/asm-5.0.1.jar  |  Bin 0 -> 53217 bytes
 .../cobertura/asm-analysis-5.0.1.jar               |  Bin 0 -> 20445 bytes
 .../java-libraries/cobertura/asm-commons-5.0.1.jar |  Bin 0 -> 41718 bytes
 .../java-libraries/cobertura/asm-tree-5.0.1.jar    |  Bin 0 -> 29038 bytes
 .../java-libraries/cobertura/asm-util-5.0.1.jar    |  Bin 0 -> 43307 bytes
 .../cobertura/cobertura-2.1.1-javadoc.jar          |  Bin 0 -> 1062062 bytes
 .../cobertura/cobertura-2.1.1-sources.jar          |  Bin 0 -> 409789 bytes
 .../java-libraries/cobertura/cobertura-2.1.1.jar   |  Bin 0 -> 564556 bytes
 .../cobertura/commons-lang3-3.3.2.jar              |  Bin 0 -> 412739 bytes
 .../java-libraries/cobertura/hamcrest-core-1.3.jar |  Bin 0 -> 45024 bytes
 .../java-libraries/cobertura/jaxen-1.1.4.jar       |  Bin 0 -> 226161 bytes
 .../java-libraries/cobertura/jetty-6.1.14.jar      |  Bin 0 -> 516429 bytes
 .../java-libraries/cobertura/jetty-util-6.1.14.jar |  Bin 0 -> 163121 bytes
 .../cobertura/logback-classic-1.0.13.jar           |  Bin 0 -> 264600 bytes
 .../cobertura/logback-core-1.0.13.jar              |  Bin 0 -> 418870 bytes
 thirdparty/java-libraries/cobertura/oro-2.0.8.jar  |  Bin 0 -> 65261 bytes
 .../cobertura/servlet-api-2.5-6.1.14.jar           |  Bin 0 -> 132368 bytes
 .../java-libraries/cobertura/slf4j-api-1.7.5.jar   |  Bin 0 -> 26084 bytes
 ...re-3.5.15.jar => jprotobuf-rpc-core-3.5.17.jar} |  Bin 175755 -> 176428 bytes
 423 files changed, 25664 insertions(+), 10803 deletions(-)

commit d4c2e564771e549285fdfe6caf2ce90f722a4c88
Author: Jimmy Casey <casey.jimmy@gmail.com>
Date:   Sun Jul 29 21:50:56 2018 +0000

    Fixed Spelling.

 be/src/runtime/disk_io_mgr.h | 2 +-
 conf/be.conf                 | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit aad32ec8fc60aed6f3c39bdeb0ba5e495fc30d0c
Author: morningman <morningman@163.com>
Date:   Thu Jul 26 19:22:37 2018 +0800

    merge to 3eb59087fb98ed61655997de525331736c56256a (#215)
    
    1. fixed a bug when cast float to string
    2. delay result's cancelled time
    3. update type check in CastTo
    4. remove unused mysql channel log
    5. update stop_be.sh, use kill -0 instead of flock -nx
    6. update jprotobuf-rpc to 3.5.15 in Frontend, the previous version will cause too many threads in JVM

 be/src/exprs/cast_functions.cpp                    |   1 -
 be/src/runtime/result_sink.cpp                     |   2 +-
 bin/stop_be.sh                                     |  10 ++++------
 fe/src/com/baidu/palo/analysis/Expr.java           |  15 +++++++++++----
 fe/src/com/baidu/palo/mysql/MysqlChannel.java      |   2 --
 ...re-3.5.14.jar => jprotobuf-rpc-core-3.5.15.jar} | Bin 175290 -> 175755 bytes
 6 files changed, 16 insertions(+), 14 deletions(-)

commit d0768cbc0fdc8f7b99aab8a74908125e3499eca7
Author: HappenLee <happenlee@hotmail.com>
Date:   Tue Jul 24 16:51:54 2018 +0800

    Fixed bug which palo can't compiled by JDK 10, add the compile parameter CPPFLAGS of ncurses-6.0, prevent compilation error

 build.sh                               | 4 ++--
 fs_brokers/apache_hdfs_broker/build.sh | 6 +++---
 thirdparty/build-thirdparty.sh         | 2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit a69ac65760db228df487f148a643090f2036698f
Author: morningman <morningman@163.com>
Date:   Thu Jul 19 17:19:08 2018 +0800

    merge to 9625ef157dd44c58802d63cb7547f037b75fd710
    
    update netty to 4.1.25 to compatible with brpc

 thirdparty/java-libraries/netty-all-4.1.0.Beta3.jar  | Bin 2175247 -> 0 bytes
 thirdparty/java-libraries/netty-all-4.1.25.Final.jar | Bin 0 -> 3823147 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit a7ffd0bf814471b8bbf2d48475737d6ca00b3b7a
Author: morningman <morningman@163.com>
Date:   Tue Jul 17 09:36:30 2018 +0800

    merge to 9625ef157dd44c58802d63cb7547f037b75fd710
    
    add monitor_arch.png

 docs/resources/monitor_arch.png | Bin 0 -> 21986 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit b07b3dc34d2f5d3ba115664a7d6ae6f82a13ddfa
Author: morningman <morningman@163.com>
Date:   Tue Jul 17 09:28:24 2018 +0800

    merge to 9625ef157dd44c58802d63cb7547f037b75fd710
    
    add png files in monitor and alert document

 docs/resources/dashboard_navibar.png  | Bin 0 -> 34907 bytes
 docs/resources/dashboard_overview.png | Bin 0 -> 281391 bytes
 docs/resources/dashboard_panel.png    | Bin 0 -> 53982 bytes
 docs/resources/dashboard_row.png      | Bin 0 -> 11987 bytes
 4 files changed, 0 insertions(+), 0 deletions(-)

commit 19997510a69c24c22bd2e59e213ed8531e3058c7
Author: morningman <morningman@163.com>
Date:   Tue Jul 17 09:20:30 2018 +0800

     merge to 9625ef157dd44c58802d63cb7547f037b75fd710  (#208)
    
    1. Implement Backend http server using libevent instead of mongoose.
    2. Remove Old Hypertable rpc framework, use brpc instead.
    3. Change rpc from FE to BE to brpc.
    4. Fs broker support HDFS HA.
    5. add more metrics to monitor.
    6. Lots of bug fixed.

 be/CMakeLists.txt                                  |    8 +-
 be/src/agent/heartbeat_server.cpp                  |    2 +-
 be/src/agent/task_worker_pool.cpp                  |   14 +-
 be/src/common/config.h                             |   13 +-
 be/src/common/status.cpp                           |   36 +
 be/src/common/status.h                             |   14 +
 be/src/exec/broker_reader.cpp                      |    8 +-
 be/src/exec/broker_writer.cpp                      |    4 +-
 be/src/exec/new_partitioned_aggregation_node.cc    |   13 +-
 be/src/exec/new_partitioned_aggregation_node.h     |    3 +
 be/src/exec/new_partitioned_hash_table.cc          |   18 +-
 be/src/exec/new_partitioned_hash_table.h           |    7 +-
 be/src/http/CMakeLists.txt                         |    4 +-
 be/src/http/action/checksum_action.cpp             |   28 +-
 be/src/http/action/checksum_action.h               |    4 +-
 be/src/http/action/health_action.cpp               |    7 +-
 be/src/http/action/health_action.h                 |    2 +-
 be/src/http/action/metrics_action.cpp              |    8 +-
 be/src/http/action/metrics_action.h                |    3 +-
 be/src/http/action/mini_load.cpp                   |  458 +-
 be/src/http/action/mini_load.h                     |   31 +-
 be/src/http/action/pprof_actions.cpp               |  127 +-
 be/src/http/action/pprof_actions.h                 |    4 +-
 be/src/http/action/reload_tablet_action.cpp        |   26 +-
 be/src/http/action/reload_tablet_action.h          |    4 +-
 be/src/http/action/snapshot_action.cpp             |  208 +-
 be/src/http/action/snapshot_action.h               |   62 +-
 be/src/http/download_action.cpp                    |  117 +-
 be/src/http/download_action.h                      |    9 +-
 be/src/http/ev_http_server.cpp                     |  262 ++
 be/src/http/ev_http_server.h                       |   70 +
 be/src/http/http_channel.cpp                       |  108 +-
 be/src/http/http_channel.h                         |   35 +-
 be/src/http/http_handler.h                         |   15 +-
 be/src/http/http_method.h                          |   22 +
 be/src/http/http_request.cpp                       |  116 +-
 be/src/http/http_request.h                         |   33 +-
 be/src/http/mongoose.cpp                           | 4873 --------------------
 be/src/http/mongoose.h                             |  307 --
 be/src/http/monitor_action.cpp                     |   11 +-
 be/src/http/monitor_action.h                       |    2 +-
 be/src/http/web_page_handler.cpp                   |   16 +-
 be/src/http/web_page_handler.h                     |    8 +-
 be/src/http/webserver.cpp                          |  248 -
 be/src/http/webserver.h                            |   87 -
 be/src/olap/command_executor.cpp                   |   10 +-
 be/src/olap/olap_engine.cpp                        |    5 +
 be/src/olap/row_cursor.cpp                         |    3 +-
 be/src/olap/schema_change.cpp                      |    4 +-
 be/src/rpc/CMakeLists.txt                          |   50 -
 be/src/rpc/application_handler.h                   |  132 -
 be/src/rpc/application_queue.h                     |  459 --
 be/src/rpc/application_queue_interface.h           |   53 -
 be/src/rpc/byte_string.h                           |  145 -
 be/src/rpc/checksum.cpp                            |   81 -
 be/src/rpc/checksum.h                              |   36 -
 be/src/rpc/clock.h                                 |   32 -
 be/src/rpc/comm.cpp                                |  548 ---
 be/src/rpc/comm.h                                  |  511 --
 be/src/rpc/comm_address.cpp                        |   35 -
 be/src/rpc/comm_address.h                          |  229 -
 be/src/rpc/comm_buf.h                              |  307 --
 be/src/rpc/comm_header.cpp                         |   73 -
 be/src/rpc/comm_header.h                           |  133 -
 be/src/rpc/command.h                               |   30 -
 be/src/rpc/compat.h                                |   48 -
 be/src/rpc/compat_c.h                              |   76 -
 be/src/rpc/connection_handler_factory.h            |   44 -
 be/src/rpc/connection_initializer.h                |   59 -
 be/src/rpc/connection_manager.cpp                  |  504 --
 be/src/rpc/connection_manager.h                    |  405 --
 be/src/rpc/dispatch_handler.h                      |   53 -
 be/src/rpc/dispatch_handler_synchronizer.cpp       |   67 -
 be/src/rpc/dispatch_handler_synchronizer.h         |  114 -
 be/src/rpc/dynamic_buffer.h                        |  202 -
 be/src/rpc/endian_c.h                              |   57 -
 be/src/rpc/error.cpp                               |  450 --
 be/src/rpc/error.h                                 |  532 ---
 be/src/rpc/event.cpp                               |   77 -
 be/src/rpc/event.h                                 |  220 -
 be/src/rpc/expire_timer.h                          |   50 -
 be/src/rpc/fast_clock.cpp                          |   39 -
 be/src/rpc/fast_clock.h                            |   43 -
 be/src/rpc/file_utils.cpp                          |  463 --
 be/src/rpc/file_utils.h                            |  263 --
 be/src/rpc/handler_map.cpp                         |  430 --
 be/src/rpc/handler_map.h                           |  422 --
 be/src/rpc/inet_addr.cpp                           |  302 --
 be/src/rpc/inet_addr.h                             |  280 --
 be/src/rpc/io_handler.cpp                          |  131 -
 be/src/rpc/io_handler.h                            |  416 --
 be/src/rpc/io_handler_accept.cpp                   |  115 -
 be/src/rpc/io_handler_accept.h                     |   94 -
 be/src/rpc/io_handler_data.cpp                     |  474 --
 be/src/rpc/io_handler_data.h                       |  249 -
 be/src/rpc/io_handler_datagram.cpp                 |  173 -
 be/src/rpc/io_handler_datagram.h                   |  118 -
 be/src/rpc/io_handler_raw.cpp                      |  109 -
 be/src/rpc/io_handler_raw.h                        |   86 -
 be/src/rpc/poll_event.cpp                          |   65 -
 be/src/rpc/poll_event.h                            |   51 -
 be/src/rpc/poll_timeout.h                          |   82 -
 be/src/rpc/protocol.cpp                            |   78 -
 be/src/rpc/protocol.h                              |  130 -
 be/src/rpc/proxy_map.cpp                           |  188 -
 be/src/rpc/proxy_map.h                             |  209 -
 be/src/rpc/random.cpp                              |   68 -
 be/src/rpc/random.h                                |   54 -
 be/src/rpc/raw_socket_handler.h                    |   61 -
 be/src/rpc/reactor.cpp                             |  251 -
 be/src/rpc/reactor.h                               |  229 -
 be/src/rpc/reactor_factory.cpp                     |   73 -
 be/src/rpc/reactor_factory.h                       |  108 -
 be/src/rpc/reactor_runner.cpp                      |  121 -
 be/src/rpc/reactor_runner.h                        |   75 -
 be/src/rpc/request_cache.cpp                       |  124 -
 be/src/rpc/request_cache.h                         |  124 -
 be/src/rpc/response_callback.cpp                   |   52 -
 be/src/rpc/response_callback.h                     |   97 -
 be/src/rpc/scope_guard.h                           |  283 --
 be/src/rpc/serialization.h                         |  599 ---
 be/src/rpc/serialization_c.h                       |  453 --
 be/src/rpc/sock_addr_map.h                         |   50 -
 be/src/rpc/static_buffer.h                         |  226 -
 be/src/rpc/string_ext.h                            |   81 -
 be/src/rpc/timer.h                                 |  141 -
 be/src/rpc/util.cpp                                |  111 -
 be/src/rpc/util.h                                  |  243 -
 be/src/runtime/buffer_control_block.cpp            |  100 +-
 be/src/runtime/buffer_control_block.h              |   36 +-
 be/src/runtime/data_stream_mgr.cpp                 |   25 -
 be/src/runtime/data_stream_mgr.h                   |   10 -
 be/src/runtime/data_stream_recvr.cc                |  111 -
 be/src/runtime/data_stream_recvr.h                 |   11 -
 be/src/runtime/data_stream_sender.cpp              |  180 +-
 be/src/runtime/data_stream_sender.h                |   12 -
 be/src/runtime/etl_job_mgr.cpp                     |    2 +-
 be/src/runtime/exec_env.cpp                        |   40 +-
 be/src/runtime/exec_env.h                          |   19 +-
 be/src/runtime/fragment_mgr.cpp                    |    2 +-
 be/src/runtime/plan_fragment_executor.h            |    2 -
 be/src/runtime/result_buffer_mgr.cpp               |   15 +-
 be/src/runtime/result_buffer_mgr.h                 |    6 +
 be/src/service/backend_service.cpp                 |   20 -
 be/src/service/backend_service.h                   |    2 -
 be/src/service/brpc.h                              |    1 +
 be/src/service/brpc_service.cpp                    |    4 +
 be/src/service/brpc_service.h                      |    1 +
 be/src/service/internal_service.cpp                |   59 +
 be/src/service/internal_service.h                  |   25 +
 be/src/service/palo_main.cpp                       |   22 +-
 be/src/service/receiver_dispatcher.h               |  176 -
 be/src/util/CMakeLists.txt                         |    1 -
 be/src/util/palo_metrics.cpp                       |   68 +-
 be/src/util/palo_metrics.h                         |   25 +
 be/src/util/path_trie.hpp                          |    6 +-
 be/src/util/rpc_channel.cpp                        |  175 -
 be/src/util/rpc_channel.h                          |   91 -
 be/test/http/metrics_action_test.cpp               |   22 +-
 be/test/util/CMakeLists.txt                        |    1 -
 be/test/util/palo_metrics_test.cpp                 |   27 +-
 be/test/util/rpc_channel_test.cpp                  |  185 -
 .../Data Manipulation/manipulation_stmt.md         |   29 +-
 .../com/baidu/palo/analysis/CreateTableStmt.java   |    4 -
 fe/src/com/baidu/palo/analysis/InsertStmt.java     |   10 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |    4 +
 fe/src/com/baidu/palo/common/Status.java           |  222 +-
 .../com/baidu/palo/common/proc/TabletsProcDir.java |    4 +
 fe/src/com/baidu/palo/master/Checkpoint.java       |  530 +--
 fe/src/com/baidu/palo/metric/MetricRepo.java       |   39 +-
 fe/src/com/baidu/palo/persist/EditLog.java         |    5 +
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  140 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |  341 +-
 fe/src/com/baidu/palo/qe/ResultReceiver.java       |  249 +-
 fe/src/com/baidu/palo/qe/SimpleScheduler.java      |   33 +-
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |   16 +-
 fe/src/com/baidu/palo/rpc/AttachmentRequest.java   |   48 +
 fe/src/com/baidu/palo/rpc/BackendServiceProxy.java |  107 +
 .../baidu/palo/rpc/PCancelPlanFragmentRequest.java |   30 +
 .../baidu/palo/rpc/PCancelPlanFragmentResult.java  |   25 +
 .../baidu/palo/rpc/PExecPlanFragmentRequest.java   |   22 +
 .../baidu/palo/rpc/PExecPlanFragmentResult.java    |   25 +
 fe/src/com/baidu/palo/rpc/PFetchDataRequest.java   |   29 +
 fe/src/com/baidu/palo/rpc/PFetchDataResult.java    |   29 +
 fe/src/com/baidu/palo/rpc/PInternalService.java    |   35 +
 fe/src/com/baidu/palo/rpc/PStatus.java             |   29 +
 fe/src/com/baidu/palo/rpc/PUniqueId.java           |   34 +
 fe/src/com/baidu/palo/rpc/RpcException.java        |   37 +
 .../palo/rpc/ThriftClientAttachmentHandler.java    |   31 +
 fe/test/com/baidu/palo/qe/CoordinatorTest.java     |  736 +--
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |   65 +
 .../palo/broker/hdfs/TestFileSystemManager.java    |   70 +
 gensrc/proto/internal_service.proto                |   37 +-
 thirdparty/build-thirdparty.sh                     |  140 +-
 thirdparty/download-thirdparty.sh                  |  118 +-
 thirdparty/java-libraries.tar.gz                   |  Bin 28266579 -> 0 bytes
 thirdparty/java-libraries/cglib-nodep-2.2.2.jar    |  Bin 0 -> 326917 bytes
 .../java-libraries/commons-cli-2.0-SNAPSHOT.jar    |  Bin 0 -> 258337 bytes
 thirdparty/java-libraries/commons-codec-1.9.jar    |  Bin 0 -> 263965 bytes
 thirdparty/java-libraries/commons-lang-2.4.jar     |  Bin 0 -> 261809 bytes
 thirdparty/java-libraries/commons-pool2-2.2.jar    |  Bin 0 -> 108036 bytes
 .../java-libraries/commons-validator-1.4.1.jar     |  Bin 0 -> 190098 bytes
 thirdparty/java-libraries/easymock-3.2.jar         |  Bin 0 -> 119780 bytes
 thirdparty/java-libraries/gson-2.2.4.jar           |  Bin 0 -> 190432 bytes
 thirdparty/java-libraries/guava-15.0.jar           |  Bin 0 -> 2172168 bytes
 thirdparty/java-libraries/hamcrest-core-1.1.jar    |  Bin 0 -> 76643 bytes
 .../java-libraries/jackson-core-asl-1.8.1.jar      |  Bin 0 -> 227120 bytes
 .../java-libraries/jackson-mapper-asl-1.8.1.jar    |  Bin 0 -> 666474 bytes
 thirdparty/java-libraries/java-cup-0.11a.jar       |  Bin 0 -> 104612 bytes
 thirdparty/java-libraries/javassist-3.18.2-GA.jar  |  Bin 0 -> 714524 bytes
 .../java-libraries/javax.servlet-api-3.0.1.jar     |  Bin 0 -> 85353 bytes
 thirdparty/java-libraries/je-7.3.7.jar             |  Bin 0 -> 3191987 bytes
 thirdparty/java-libraries/jetty-6.1.14.jar         |  Bin 0 -> 516429 bytes
 thirdparty/java-libraries/jetty-util-6.1.14.jar    |  Bin 0 -> 163121 bytes
 thirdparty/java-libraries/jflex-1.4.3.jar          |  Bin 0 -> 179102 bytes
 thirdparty/java-libraries/jmockit-1.38.jar         |  Bin 0 -> 809922 bytes
 thirdparty/java-libraries/jprotobuf-1.11.0.jar     |  Bin 0 -> 181307 bytes
 .../java-libraries/jprotobuf-rpc-common-1.8.jar    |  Bin 0 -> 11530 bytes
 .../java-libraries/jprotobuf-rpc-core-3.5.14.jar   |  Bin 0 -> 175290 bytes
 thirdparty/java-libraries/json-20171018.jar        |  Bin 0 -> 61749 bytes
 thirdparty/java-libraries/junit-4.12.jar           |  Bin 0 -> 314932 bytes
 .../java-libraries/k8s-client/automaton-1.11-8.jar |  Bin 0 -> 176285 bytes
 .../java-libraries/k8s-client/generex-1.0.1.jar    |  Bin 0 -> 13911 bytes
 .../k8s-client/jackson-annotations-2.7.0.jar       |  Bin 0 -> 50894 bytes
 .../k8s-client/jackson-core-2.7.5.jar              |  Bin 0 -> 252894 bytes
 .../k8s-client/jackson-databind-2.7.5.jar          |  Bin 0 -> 1205152 bytes
 .../k8s-client/jackson-dataformat-yaml-2.7.5.jar   |  Bin 0 -> 321216 bytes
 .../jackson-module-jaxb-annotations-2.7.5.jar      |  Bin 0 -> 34577 bytes
 .../k8s-client/kubernetes-client-1.4.27.jar        |  Bin 0 -> 299325 bytes
 .../k8s-client/kubernetes-model-1.0.64.jar         |  Bin 0 -> 5244360 bytes
 .../k8s-client/logging-interceptor-3.4.1.jar       |  Bin 0 -> 8081 bytes
 .../java-libraries/k8s-client/okhttp-3.4.1.jar     |  Bin 0 -> 344481 bytes
 .../java-libraries/k8s-client/okhttp-ws-3.4.1.jar  |  Bin 0 -> 26091 bytes
 .../java-libraries/k8s-client/okio-1.9.0.jar       |  Bin 0 -> 76036 bytes
 .../java-libraries/k8s-client/snakeyaml-1.15.jar   |  Bin 0 -> 269295 bytes
 .../k8s-client/validation-api-1.1.0.Final.jar      |  Bin 0 -> 63777 bytes
 .../java-libraries/k8s-client/zjsonpatch-0.2.3.jar |  Bin 0 -> 35521 bytes
 .../java-libraries/kudu-client/async-1.1.0.jar     |  Bin 0 -> 16919 bytes
 .../interface-annotations-1.2.0-cdh5.10.0.jar      |  Bin 0 -> 21304 bytes
 .../kudu-client/kudu-client-1.2.0-cdh5.10.0.jar    |  Bin 0 -> 7287634 bytes
 .../java-libraries/kudu-client/log4j-1.2.17.jar    |  Bin 0 -> 489884 bytes
 .../java-libraries/kudu-client/slf4j-api-1.7.5.jar |  Bin 0 -> 26084 bytes
 thirdparty/java-libraries/libfb303-0.9.3.jar       |  Bin 0 -> 313702 bytes
 thirdparty/java-libraries/libthrift-0.9.3.jar      |  Bin 0 -> 234201 bytes
 thirdparty/java-libraries/log4j-api-2.2.jar        |  Bin 0 -> 133518 bytes
 thirdparty/java-libraries/log4j-core-2.2.jar       |  Bin 0 -> 826732 bytes
 thirdparty/java-libraries/log4j-slf4j-impl-2.2.jar |  Bin 0 -> 22541 bytes
 thirdparty/java-libraries/metrics-core-4.0.2.jar   |  Bin 0 -> 97677 bytes
 .../java-libraries/mysql-connector-java-5.1.41.jar |  Bin 0 -> 992805 bytes
 .../java-libraries/netty-all-4.1.0.Beta3.jar       |  Bin 0 -> 2175247 bytes
 thirdparty/java-libraries/objenesis-2.1.jar        |  Bin 0 -> 41755 bytes
 .../powermock-easymock-1.6.1-full.jar              |  Bin 0 -> 532769 bytes
 thirdparty/java-libraries/protobuf-java-2.5.0.jar  |  Bin 0 -> 533455 bytes
 thirdparty/java-libraries/protoparser-3.1.5.jar    |  Bin 0 -> 37431 bytes
 thirdparty/java-libraries/servlet-api.jar          |  Bin 0 -> 97689 bytes
 thirdparty/java-libraries/slf4j-api-1.6.1.jar      |  Bin 0 -> 25496 bytes
 thirdparty/java-libraries/snappy-java-1.1.7.2.jar  |  Bin 0 -> 2018686 bytes
 thirdparty/patches/brpc-0.9.0.patch                |   16 +
 thirdparty/patches/compiler-rt.patch               |   11 +
 thirdparty/patches/libevent_on_free_cb.patch       |   71 +
 thirdparty/patches/lz4-1.7.5.patch                 |   15 +
 thirdparty/patches/ncurses-6.0.patch               |   12 -
 thirdparty/patches/thrift-0.9.3-aclocal.patch      |   11 +
 thirdparty/vars.sh                                 |   35 +-
 264 files changed, 3664 insertions(+), 23185 deletions(-)

commit 6beea22d7b37616c9715f6e5331ada16b23ed403
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Tue Jun 19 21:32:54 2018 +0800

    remove unused files (#205)
    
    * modify the license
    
    * remove unused files

 be/src/exprs/encryption_functions.h        | 37 +++++++++++++++---------------
 be/src/http/mongoose.cpp                   | 35 +++++++++++++---------------
 be/src/olap/column_file/segment_reader.cpp | 11 ++++++---
 be/src/olap/column_file/segment_reader.h   |  4 ++--
 be/src/olap/olap_index.h                   |  4 ++--
 be/src/runtime/vectorized_row_batch.cpp    | 17 +++++++-------
 be/src/runtime/vectorized_row_batch.h      |  9 ++++----
 7 files changed, 60 insertions(+), 57 deletions(-)

commit f681ff0c987a9e2e91a44b14f3458c94702d71e4
Author: morningman <morningman@163.com>
Date:   Thu Jun 14 12:21:46 2018 +0800

    Update InsertStmt.java

 fe/src/com/baidu/palo/analysis/InsertStmt.java | 5 -----
 1 file changed, 5 deletions(-)

commit bfe1bc7cf39e165a7c52b2c941550975b1f841a1
Author: lide-reed <mailtolide@sina.com>
Date:   Wed Jun 13 08:33:48 2018 +0800

    remove mysql_dtoa

 be/src/exprs/anyval_util.h       |    7 +
 be/src/exprs/cast_functions.cpp  |   29 +-
 be/src/gutil/strings/numbers.cc  |   51 +
 be/src/gutil/strings/numbers.h   |    3 +
 be/src/runtime/decimal_value.h   |    6 +-
 be/src/util/CMakeLists.txt       |    1 -
 be/src/util/mysql_dtoa.cpp       | 1900 --------------------------------------
 be/src/util/mysql_dtoa.h         |   33 -
 be/src/util/mysql_row_buffer.cpp |    6 +-
 9 files changed, 84 insertions(+), 1952 deletions(-)

commit 3c9f2ae6695ffebe41e39b6bf6544077698f1ced
Author: lide-reed <mailtolide@sina.com>
Date:   Tue Jun 12 17:26:21 2018 +0800

    remove aes encrypt and decrypt which used GPL

 be/src/common/daemon.cpp                 |   2 +
 be/src/exprs/CMakeLists.txt              |   1 +
 be/src/exprs/encryption_functions.cpp    | 115 +++++++++++++++++++++++++++++++
 be/src/exprs/encryption_functions.h      |  49 +++++++++++++
 gensrc/script/palo_builtins_functions.py |   6 --
 5 files changed, 167 insertions(+), 6 deletions(-)

commit 81baef34f48a2dbe7401712c5e0a50f59f04a831
Author: lide-reed <mailtolide@sina.com>
Date:   Tue Jun 12 16:02:59 2018 +0800

    resotre mongoose's license

 be/src/http/mongoose.cpp | 35 +++++++++++++++++++----------------
 be/src/http/mongoose.h   | 34 ++++++++++++++++++----------------
 2 files changed, 37 insertions(+), 32 deletions(-)

commit 7e2a3aa1b384e3f4ef3d219a3b5a2bb351c55ad8
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Sat Jun 9 19:12:16 2018 +0800

    modify the license (#203)
    
    some license is replaced not correctly.

 LICENSE.txt                                  | 78 ++++++++++++++++++++++++++++
 be/src/http/mongoose.cpp                     | 35 ++++++-------
 be/src/http/mongoose.h                       | 35 ++++++-------
 be/src/olap/lru_cache.cpp                    | 17 ++----
 be/src/olap/lru_cache.h                      | 17 ++----
 be/src/rpc/application_handler.h             | 28 +++++-----
 be/src/rpc/application_queue.h               | 28 +++++-----
 be/src/rpc/application_queue_interface.h     | 28 +++++-----
 be/src/rpc/byte_string.h                     | 28 +++++-----
 be/src/rpc/checksum.cpp                      | 28 +++++-----
 be/src/rpc/checksum.h                        | 28 +++++-----
 be/src/rpc/clock.h                           | 28 +++++-----
 be/src/rpc/comm.cpp                          | 28 +++++-----
 be/src/rpc/comm.h                            | 28 +++++-----
 be/src/rpc/comm_address.cpp                  | 28 +++++-----
 be/src/rpc/comm_address.h                    | 28 +++++-----
 be/src/rpc/comm_buf.h                        | 28 +++++-----
 be/src/rpc/comm_header.cpp                   | 28 +++++-----
 be/src/rpc/comm_header.h                     | 28 +++++-----
 be/src/rpc/command.h                         | 28 +++++-----
 be/src/rpc/compat.h                          | 28 +++++-----
 be/src/rpc/compat_c.h                        | 28 +++++-----
 be/src/rpc/connection_handler_factory.h      | 28 +++++-----
 be/src/rpc/connection_initializer.h          | 28 +++++-----
 be/src/rpc/connection_manager.cpp            | 28 +++++-----
 be/src/rpc/connection_manager.h              | 28 +++++-----
 be/src/rpc/dispatch_handler.h                | 28 +++++-----
 be/src/rpc/dispatch_handler_synchronizer.cpp | 28 +++++-----
 be/src/rpc/dispatch_handler_synchronizer.h   | 28 +++++-----
 be/src/rpc/dynamic_buffer.h                  | 28 +++++-----
 be/src/rpc/endian_c.h                        | 28 +++++-----
 be/src/rpc/error.cpp                         | 28 +++++-----
 be/src/rpc/error.h                           | 28 +++++-----
 be/src/rpc/event.cpp                         | 28 +++++-----
 be/src/rpc/event.h                           | 28 +++++-----
 be/src/rpc/expire_timer.h                    | 28 +++++-----
 be/src/rpc/fast_clock.cpp                    | 28 +++++-----
 be/src/rpc/fast_clock.h                      | 28 +++++-----
 be/src/rpc/file_utils.cpp                    | 28 +++++-----
 be/src/rpc/file_utils.h                      | 28 +++++-----
 be/src/rpc/handler_map.cpp                   | 28 +++++-----
 be/src/rpc/handler_map.h                     | 28 +++++-----
 be/src/rpc/inet_addr.cpp                     | 28 +++++-----
 be/src/rpc/inet_addr.h                       | 28 +++++-----
 be/src/rpc/io_handler.cpp                    | 28 +++++-----
 be/src/rpc/io_handler.h                      | 28 +++++-----
 be/src/rpc/io_handler_accept.cpp             | 28 +++++-----
 be/src/rpc/io_handler_accept.h               | 28 +++++-----
 be/src/rpc/io_handler_data.cpp               | 28 +++++-----
 be/src/rpc/io_handler_data.h                 | 28 +++++-----
 be/src/rpc/io_handler_datagram.cpp           | 28 +++++-----
 be/src/rpc/io_handler_datagram.h             | 28 +++++-----
 be/src/rpc/io_handler_raw.cpp                | 28 +++++-----
 be/src/rpc/io_handler_raw.h                  | 28 +++++-----
 be/src/rpc/poll_event.cpp                    | 28 +++++-----
 be/src/rpc/poll_event.h                      | 28 +++++-----
 be/src/rpc/poll_timeout.h                    | 28 +++++-----
 be/src/rpc/protocol.cpp                      | 28 +++++-----
 be/src/rpc/protocol.h                        | 28 +++++-----
 be/src/rpc/proxy_map.cpp                     | 28 +++++-----
 be/src/rpc/proxy_map.h                       | 28 +++++-----
 be/src/rpc/random.cpp                        | 28 +++++-----
 be/src/rpc/random.h                          | 28 +++++-----
 be/src/rpc/raw_socket_handler.h              | 28 +++++-----
 be/src/rpc/reactor.cpp                       | 28 +++++-----
 be/src/rpc/reactor.h                         | 28 +++++-----
 be/src/rpc/reactor_factory.cpp               | 28 +++++-----
 be/src/rpc/reactor_factory.h                 | 28 +++++-----
 be/src/rpc/reactor_runner.cpp                | 28 +++++-----
 be/src/rpc/reactor_runner.h                  | 28 +++++-----
 be/src/rpc/request_cache.cpp                 | 28 +++++-----
 be/src/rpc/request_cache.h                   | 28 +++++-----
 be/src/rpc/response_callback.cpp             | 28 +++++-----
 be/src/rpc/response_callback.h               | 28 +++++-----
 be/src/rpc/scope_guard.h                     | 28 +++++-----
 be/src/rpc/serialization.h                   | 28 +++++-----
 be/src/rpc/serialization_c.h                 | 28 +++++-----
 be/src/rpc/sock_addr_map.h                   | 28 +++++-----
 be/src/rpc/static_buffer.h                   | 28 +++++-----
 be/src/rpc/string_ext.h                      | 28 +++++-----
 be/src/rpc/timer.h                           | 28 +++++-----
 be/src/rpc/util.cpp                          | 28 +++++-----
 be/src/rpc/util.h                            | 28 +++++-----
 be/src/util/murmur_hash3.cpp                 | 27 +++-------
 be/src/util/murmur_hash3.h                   | 22 ++------
 be/src/util/mysql_dtoa.cpp                   | 37 +++++++------
 be/src/util/mysql_dtoa.h                     | 37 +++++++------
 87 files changed, 1411 insertions(+), 1078 deletions(-)

commit 611afcd125dc136c58d7feb5552c26e9b215878a
Author: lide-reed <mailtolide@sina.com>
Date:   Sat Jun 9 16:35:35 2018 +0800

    restore license which is replaced incorrectly

 be/src/http/mongoose.h | 29 +++++++++++++++++------------
 1 file changed, 17 insertions(+), 12 deletions(-)

commit ac770c33d445a4c18a0b74f56b28a4180b30bfb7
Author: lide-reed <mailtolide@sina.com>
Date:   Sat Jun 9 15:03:51 2018 +0800

    remove useless aes

 be/CMakeLists.txt                     |   2 -
 be/src/aes/CMakeLists.txt             |  26 ----
 be/src/aes/my_aes.cpp                 |  57 ---------
 be/src/aes/my_aes.h                   | 139 ----------------------
 be/src/aes/my_aes_impl.h              |  37 ------
 be/src/aes/my_aes_openssl.cpp         | 216 ----------------------------------
 be/src/common/daemon.cpp              |   2 -
 be/src/exprs/CMakeLists.txt           |   1 -
 be/src/exprs/encryption_functions.cpp | 153 ------------------------
 be/src/exprs/encryption_functions.h   |  53 ---------
 10 files changed, 686 deletions(-)

commit 9f7b1ea6d49302174db6e459fd4db60ea0076b0a
Author: morningman <morningman@163.com>
Date:   Fri Jun 8 08:42:23 2018 +0800

     merge to 87fd4ebd9977afb1e1193429dd75c7c82caab204  (#202)
    
    1. ix bugs in query layer.
    2. remove some redundant code in BE
    3. support specify multi helper node when starting FE
    4. add proc 'cluster_load_statistic' to show load balance situation of Palo

 be/src/agent/agent_server.cpp                      |  10 +-
 be/src/agent/task_worker_pool.cpp                  |  18 +-
 be/src/exec/csv_scan_node.cpp                      |  11 +-
 be/src/exprs/hll_hash_function.cpp                 |  19 +-
 be/src/exprs/hll_hash_function.h                   |   3 +
 be/src/olap/command_executor.cpp                   |  12 +-
 be/src/olap/command_executor.h                     |   2 +-
 be/src/olap/olap_engine.cpp                        |  40 +-
 be/src/olap/olap_rootpath.cpp                      |  92 ++---
 be/src/olap/olap_rootpath.h                        |  61 ++-
 be/src/runtime/tmp_file_mgr.cc                     |  10 +-
 be/test/agent/task_worker_pool_test.cpp            |   6 +-
 be/test/olap/command_executor_test.cpp             |  16 +-
 be/test/olap/mock_command_executor.h               |   4 +-
 conf/be.conf                                       |  38 +-
 conf/fe.conf                                       |  38 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |  41 +-
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   4 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         | 148 ++++---
 fe/src/com/baidu/palo/catalog/Table.java           | 443 ++++++++++-----------
 .../com/baidu/palo/clone/ClusterLoadStatistic.java |   9 +
 fe/src/com/baidu/palo/clone/LoadBalancer.java      |  17 +-
 fe/src/com/baidu/palo/common/Config.java           |   2 +-
 .../baidu/palo/common/proc/BackendsProcDir.java    |  18 +-
 .../common/proc/ClusterLoadStatisticProcDir.java   |   4 +-
 .../baidu/palo/common/proc/StatisticProcDir.java   | 137 ++++++-
 fe/src/com/baidu/palo/deploy/DeployManager.java    |  51 ++-
 .../baidu/palo/deploy/impl/K8sDeployManager.java   |  66 +--
 .../palo/deploy/impl/LocalFileDeployManager.java   | 148 +++++--
 fe/src/com/baidu/palo/metric/MetricRepo.java       |   2 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  12 +-
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |   1 -
 32 files changed, 849 insertions(+), 634 deletions(-)

commit c4be57150b1bb114928265955d5912ab29eff34f
Author: morningman <morningman@163.com>
Date:   Mon Jun 4 14:51:11 2018 +0800

    merge to 6da2dd322d34810ef6f12ebc0f870d89f55df140 (#200)
    
    1. rewrite metric module, add disk capacity metric
    2. add Cluster load statistic proc to observer cluster load balance status
    3. fix bug: show table status from db throw Nullpointer exception
    4. performance: change push_down table size to 1024 in HashJoinNode

 be/src/exec/hash_join_node.cpp                     |   2 +-
 be/src/exec/olap_scan_node.cpp                     |   2 +-
 fe/src/com/baidu/palo/analysis/MigrateDbStmt.java  |   1 -
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |   3 +-
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |   9 +-
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java  |   7 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |   1 +
 .../baidu/palo/catalog/TabletInvertedIndex.java    |  12 +
 .../com/baidu/palo/clone/BackendLoadStatistic.java | 153 ++++++
 fe/src/com/baidu/palo/clone/BalanceStatus.java     |  72 +++
 .../com/baidu/palo/clone/ClusterLoadStatistic.java | 215 +++++++++
 .../com/baidu/palo/clone/LoadBalanceException.java |  23 +
 fe/src/com/baidu/palo/clone/LoadBalancer.java      |  36 ++
 .../baidu/palo/clone/RootPathLoadStatistic.java    | 104 +++++
 fe/src/com/baidu/palo/common/Config.java           |  15 +-
 .../common/proc/BackendLoadStatisticProcNode.java  |  49 ++
 .../baidu/palo/common/proc/BackendsProcDir.java    |  12 +-
 .../common/proc/ClusterLoadStatisticProcDir.java   |  73 +++
 fe/src/com/baidu/palo/common/proc/ProcService.java |   1 +
 fe/src/com/baidu/palo/common/util/DebugUtil.java   | 198 ++++----
 .../com/baidu/palo/http/rest/AddBackendAction.java |  89 ----
 .../baidu/palo/http/rest/AddFrontendAction.java    | 112 -----
 fe/src/com/baidu/palo/http/rest/MetricsAction.java |   3 +-
 fe/src/com/baidu/palo/load/Load.java               |   6 +-
 fe/src/com/baidu/palo/load/LoadJob.java            |  10 -
 fe/src/com/baidu/palo/metric/MetricLabel.java      |  53 +++
 fe/src/com/baidu/palo/metric/MetricRepo.java       | 514 ++++++---------------
 .../com/baidu/palo/metric/PaloCounterMetric.java   |  33 ++
 .../baidu/palo/metric/PaloDoubleCounterMetric.java |  42 ++
 fe/src/com/baidu/palo/metric/PaloGaugeMetric.java  |  31 ++
 .../baidu/palo/metric/PaloLongCounterMetric.java   |  42 ++
 fe/src/com/baidu/palo/metric/PaloMetric.java       |  68 +++
 .../com/baidu/palo/metric/PaloMetricRegistry.java  |  47 ++
 .../com/baidu/palo/metric/PaloMetricVisitor.java   |  42 ++
 .../baidu/palo/metric/PrometheusMetricVisitor.java | 195 ++++++++
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |   9 +-
 fe/src/com/baidu/palo/qe/ConnectScheduler.java     |   7 +-
 fe/src/com/baidu/palo/system/Backend.java          |  33 +-
 .../com/baidu/palo/system/SystemInfoService.java   |  19 +-
 .../palo/clone/ClusterLoadStatisticsTest.java      | 135 ++++++
 40 files changed, 1755 insertions(+), 723 deletions(-)

commit 2dd9df32ef2a5d9dfc011328d633ca6392b1a9b3
Author: morningman <morningman@163.com>
Date:   Thu May 31 19:51:53 2018 +0800

    Update README.md

 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8e6eee3d2897e7d25db9c739a29c9149427adde3
Author: morningman <morningman@163.com>
Date:   Tue May 22 19:01:13 2018 +0800

    merge to d228001a62c9c4f8e87f82eef9a88804dfed2831 (#195)
    
    1. modify FE audit log format, for parsing it more convenient
    2. fix bug: evaluate conjuncts assigned to SortNode in InlineViewRef
    3. fix bug: invalid apache hdfs broker jar in apache_hdfs_broker_java_libraries.tar.gz

 fe/src/com/baidu/palo/mysql/MysqlChannel.java      |   1 -
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   3 +++
 fe/src/com/baidu/palo/planner/SortNode.java        |   6 +-----
 fe/src/com/baidu/palo/qe/AuditBuilder.java         |   3 ++-
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |  23 ++++++++++++---------
 fe/src/com/baidu/palo/qe/QueryState.java           |   9 ++++++++
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |   8 ++++++-
 .../baidu/palo/service/FrontendServiceImpl.java    |   4 ++--
 .../deps/apache_hdfs_broker_java_libraries.tar.gz  | Bin 27347434 -> 17603006 bytes
 fs_brokers/apache_hdfs_broker/deps/build.sh        |   2 +-
 10 files changed, 38 insertions(+), 21 deletions(-)

commit 5065d634eba096345cb92ac613d7fd94ce556305
Author: morningman <morningman@163.com>
Date:   Fri May 18 13:57:04 2018 +0800

    merge to 7ab21a103ba63af3bd27f45f7056b1ddbcc93a13 (#194)
    
    1. call done->Run when stream receiver is closed
    2. change the name of frontend in bdbje, use arbitrary name instead of ip_port
    3. change sync backend report to async, to avoid timeout when backend report
    4. fix: buf in WrapperField is not equal to field_buf minus one

 be/src/olap/column_file/stream_index_common.cpp    |   12 +-
 be/src/olap/wrapper_field.h                        |    6 +-
 be/src/runtime/data_stream_recvr.cc                |   14 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |  221 ++--
 fe/src/com/baidu/palo/clone/CloneChecker.java      |    6 +-
 fe/src/com/baidu/palo/common/FeConstants.java      |    2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |    3 +
 .../baidu/palo/common/proc/FrontendsProcNode.java  |   86 +-
 fe/src/com/baidu/palo/deploy/DeployManager.java    |    2 +-
 fe/src/com/baidu/palo/http/action/HaAction.java    |  288 +++--
 fe/src/com/baidu/palo/http/meta/MetaService.java   |    1 +
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java |  823 +++++++-------
 fe/src/com/baidu/palo/master/MasterImpl.java       |   18 +-
 fe/src/com/baidu/palo/master/ReportHandler.java    | 1158 +++++++++++---------
 fe/src/com/baidu/palo/persist/EditLog.java         |    9 +-
 fe/src/com/baidu/palo/persist/Storage.java         |   18 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |    2 +-
 fe/src/com/baidu/palo/system/Frontend.java         |  174 +--
 18 files changed, 1511 insertions(+), 1332 deletions(-)

commit 2419384e8a211f10e7636afc6d3423700ba22b5a
Author: morningman <morningman@163.com>
Date:   Tue May 15 20:38:22 2018 +0800

    push 3.3.19 to github (#193)
    
    * push 3.3.19 to github
    
    * merge to 20ed420122a8283200aa37b0a6179b6a571d2837

 be/CMakeLists.txt                                  |  296 ++-
 be/src/agent/heartbeat_server.cpp                  |    1 +
 be/src/agent/task_worker_pool.cpp                  |   16 +-
 be/src/codegen/CMakeLists.txt                      |    4 +-
 be/src/codegen/llvm_codegen.h                      |    4 +-
 be/src/common/compiler_util.h                      |    4 +
 be/src/common/config.h                             |   85 +-
 be/src/common/daemon.cpp                           |   77 +-
 be/src/common/hdfs.h                               |    4 +-
 be/src/common/names.h                              |  194 ++
 be/src/common/status.cpp                           |   10 +
 be/src/common/status.h                             |    5 +
 be/src/exec/CMakeLists.txt                         |    4 +
 be/src/exec/aggregation_node.cpp                   | 2010 ++++++++++---------
 be/src/exec/aggregation_node.h                     |    2 +-
 be/src/exec/analytic_eval_node.cpp                 |    6 +-
 be/src/exec/analytic_eval_node.h                   |    2 +-
 be/src/exec/blocking_join_node.cpp                 |    4 +-
 be/src/exec/blocking_join_node.h                   |    2 +-
 be/src/exec/broker_scan_node.cpp                   |    2 +-
 be/src/exec/broker_scan_node.h                     |    2 +-
 be/src/exec/data_sink.h                            |    6 +-
 be/src/exec/exchange_node.cpp                      |    5 +-
 be/src/exec/exchange_node.h                        |    2 +-
 be/src/exec/exec_node.cpp                          |  115 +-
 be/src/exec/exec_node.h                            |   77 +-
 be/src/exec/hash_join_node.cpp                     |    4 +-
 be/src/exec/hash_join_node.h                       |    2 +-
 be/src/exec/hash_table.cpp                         |   11 +-
 be/src/exec/merge_join_node.cpp                    |    4 +-
 be/src/exec/merge_join_node.h                      |    2 +-
 be/src/exec/merge_node.cpp                         |    4 +-
 be/src/exec/merge_node.h                           |    2 +-
 be/src/exec/mysql_scan_node.cpp                    |    5 +-
 be/src/exec/mysql_scan_node.h                      |    2 +-
 be/src/exec/new_partitioned_aggregation_node.cc    | 2073 ++++++++++++++++++++
 be/src/exec/new_partitioned_aggregation_node.h     |  743 +++++++
 be/src/exec/new_partitioned_aggregation_node_ir.cc |  254 +++
 be/src/exec/new_partitioned_hash_table.cc          | 1260 ++++++++++++
 be/src/exec/new_partitioned_hash_table.h           | 1001 ++++++++++
 be/src/exec/new_partitioned_hash_table.inline.h    |  411 ++++
 be/src/exec/new_partitioned_hash_table_ir.cc       |   38 +
 be/src/exec/olap_common.h                          |    2 +-
 be/src/exec/olap_rewrite_node.cpp                  |    4 +-
 be/src/exec/olap_rewrite_node.h                    |    2 +-
 be/src/exec/olap_scan_node.cpp                     |  929 ++-------
 be/src/exec/olap_scan_node.h                       |   82 +-
 be/src/exec/olap_scanner.cpp                       |  450 ++++-
 be/src/exec/olap_scanner.h                         |  123 +-
 be/src/exec/partitioned_aggregation_node.cc        |    4 +-
 be/src/exec/partitioned_aggregation_node.h         |    8 +-
 be/src/exec/partitioned_aggregation_node_ir.cc     |   13 +-
 be/src/exec/partitioned_hash_table.cc              |    4 +
 be/src/exec/pl_task_root.cpp                       |  152 ++
 be/src/exec/pl_task_root.h                         |   53 +
 be/src/exec/schema_scan_node.cpp                   |    2 +-
 be/src/exec/schema_scan_node.h                     |   14 +-
 be/src/exec/select_node.cpp                        |   14 +-
 be/src/exec/sort_node.cpp                          |    4 +-
 be/src/exec/sort_node.h                            |    2 +-
 be/src/exec/spill_sort_node.cc                     |    4 +-
 be/src/exec/spill_sort_node.h                      |    2 +-
 be/src/exec/text_converter.hpp                     |    7 +-
 be/src/exec/topn_node.cpp                          |    6 +-
 be/src/exec/topn_node.h                            |    2 +-
 be/src/exec/union_node.cpp                         |    4 +-
 be/src/exec/union_node.h                           |    2 +-
 be/src/exprs/CMakeLists.txt                        |    2 +
 be/src/exprs/agg_fn.cc                             |  216 ++
 be/src/exprs/agg_fn.h                              |  195 ++
 be/src/exprs/agg_fn_evaluator.cpp                  |    5 +-
 be/src/exprs/agg_fn_evaluator.h                    |    9 +
 be/src/exprs/aggregate_functions.cpp               |  747 ++++++-
 be/src/exprs/aggregate_functions.h                 |   44 +-
 be/src/exprs/anyval_util.cpp                       |   18 +
 be/src/exprs/anyval_util.h                         |   42 +-
 be/src/exprs/expr.cpp                              |  120 +-
 be/src/exprs/expr.h                                |   76 +
 be/src/exprs/expr_context.cpp                      |   59 +
 be/src/exprs/expr_context.h                        |   21 +
 be/src/exprs/hybird_set.h                          |   26 +-
 be/src/exprs/in_predicate.h                        |    1 -
 be/src/exprs/new_agg_fn_evaluator.cc               |  597 ++++++
 be/src/exprs/new_agg_fn_evaluator.h                |  345 ++++
 be/src/exprs/new_agg_fn_evaluator_ir.cc            |   31 +
 be/src/exprs/scalar_fn_call.cpp                    |    2 +-
 be/src/exprs/slot_ref.cpp                          |    3 +-
 be/src/exprs/string_functions.cpp                  |   35 +-
 be/src/gen_cpp/CMakeLists.txt                      |    4 +
 be/src/gutil/CMakeLists.txt                        |    2 +-
 be/src/gutil/atomicops-internals-x86.cc            |   12 +-
 be/src/gutil/atomicops-internals-x86.h             |    9 +-
 be/src/gutil/dynamic_annotations.h                 |    4 +-
 be/src/gutil/logging-inl.h                         |    7 +-
 be/src/http/CMakeLists.txt                         |    3 +-
 be/src/http/action/metrics_action.cpp              |   95 +
 be/src/http/action/metrics_action.h                |   38 +
 be/src/http/action/pprof_actions.cpp               |    6 +-
 be/src/http/default_path_handlers.cpp              |    3 +-
 be/src/http/download_action.h                      |    1 +
 be/src/http/http_channel.cpp                       |    3 +
 be/src/http/http_channel.h                         |    2 +
 be/src/http/mongoose.cpp                           |   16 +-
 be/src/http/mongoose.h                             |   24 +-
 be/src/http/webserver.cpp                          |   13 +-
 be/src/olap/CMakeLists.txt                         |   12 +-
 be/src/olap/aggregate_func.cpp                     |  151 ++
 be/src/olap/aggregate_func.h                       |  269 +++
 ...e_expansion_handler.cpp => base_compaction.cpp} |  135 +-
 ...{base_expansion_handler.h => base_compaction.h} |   52 +-
 be/src/olap/column_file/bloom_filter.hpp           |   10 +-
 be/src/olap/column_file/byte_buffer.cpp            |   28 -
 be/src/olap/column_file/byte_buffer.h              |   30 +-
 be/src/olap/column_file/column_data.cpp            |  816 ++++----
 be/src/olap/column_file/column_data.h              |  113 +-
 be/src/olap/column_file/column_reader.cpp          |  458 +++--
 be/src/olap/column_file/column_reader.h            |  708 ++++---
 be/src/olap/column_file/column_writer.cpp          |  109 +-
 be/src/olap/column_file/column_writer.h            |   50 +-
 be/src/olap/column_file/data_writer.cpp            |   28 +-
 be/src/olap/column_file/data_writer.h              |    1 +
 be/src/olap/column_file/file_stream.cpp            |   77 +-
 be/src/olap/column_file/file_stream.h              |   39 +-
 .../olap/column_file/run_length_integer_reader.cpp |    7 +-
 .../olap/column_file/run_length_integer_reader.h   |    1 +
 be/src/olap/column_file/segment_reader.cpp         |  588 ++----
 be/src/olap/column_file/segment_reader.h           |  158 +-
 be/src/olap/column_file/serialize.cpp              |   73 +-
 be/src/olap/column_file/serialize.h                |    1 +
 be/src/olap/column_file/stream_index_common.cpp    |   30 +-
 be/src/olap/column_file/stream_index_common.h      |   25 +-
 be/src/olap/column_predicate.h                     |   33 +
 be/src/olap/command_executor.cpp                   |  115 +-
 be/src/olap/command_executor.h                     |    6 +-
 be/src/olap/comparison_predicate.cpp               |  151 ++
 be/src/olap/comparison_predicate.h                 |   47 +
 ...ative_handler.cpp => cumulative_compaction.cpp} |   78 +-
 ...umulative_handler.h => cumulative_compaction.h} |   36 +-
 be/src/olap/field.cpp                              | 1065 +---------
 be/src/olap/field.h                                | 1612 ++-------------
 be/src/olap/field_info.cpp                         |  232 +++
 be/src/olap/field_info.h                           |  351 ++++
 be/src/olap/hll.cpp                                |  230 +++
 be/src/olap/hll.h                                  |  153 ++
 be/src/olap/i_data.h                               |   59 +-
 be/src/olap/in_list_predicate.cpp                  |  116 ++
 be/src/olap/in_list_predicate.h                    |   44 +
 be/src/olap/lru_cache.cpp                          |   10 -
 be/src/olap/merger.cpp                             |   14 +-
 be/src/olap/null_predicate.cpp                     |   61 +
 be/src/olap/null_predicate.h                       |   39 +
 be/src/olap/olap_common.h                          |   35 +-
 be/src/olap/olap_cond.cpp                          |  616 ++----
 be/src/olap/olap_cond.h                            |   96 +-
 be/src/olap/olap_data.cpp                          |  270 +--
 be/src/olap/olap_data.h                            |   57 +-
 be/src/olap/olap_define.h                          |   19 +-
 be/src/olap/olap_engine.cpp                        |  152 +-
 be/src/olap/olap_engine.h                          |   28 +-
 be/src/olap/olap_header.cpp                        |   21 +-
 be/src/olap/olap_header.h                          |   12 +-
 be/src/olap/olap_index.cpp                         |  269 ++-
 be/src/olap/olap_index.h                           |   60 +-
 be/src/olap/olap_reader.cpp                        |  277 ---
 be/src/olap/olap_reader.h                          |   80 +-
 be/src/olap/olap_rootpath.cpp                      |    6 +-
 be/src/olap/olap_rootpath.h                        |   10 +-
 be/src/olap/olap_server.cpp                        |   46 +-
 be/src/olap/olap_server.h                          |   12 +-
 be/src/olap/olap_snapshot.cpp                      |    3 +-
 be/src/olap/olap_table.cpp                         |   24 +-
 be/src/olap/olap_table.h                           |   48 +-
 be/src/olap/push_handler.cpp                       |   62 +-
 be/src/olap/push_handler.h                         |   11 +-
 be/src/olap/reader.cpp                             |  920 ++++++---
 be/src/olap/reader.h                               |  137 +-
 be/src/olap/row_block.cpp                          |  683 +++----
 be/src/olap/row_block.h                            |  363 +---
 be/src/olap/row_cursor.cpp                         |  741 +++----
 be/src/olap/row_cursor.h                           |  401 ++--
 be/src/olap/schema_change.cpp                      |  218 +-
 be/src/olap/schema_change.h                        |    2 +-
 be/src/olap/string_slice.h                         |  213 ++
 be/src/olap/types.cpp                              |   79 +
 be/src/olap/types.h                                |  886 +++++++++
 be/src/olap/wrapper_field.cpp                      |   75 +
 be/src/olap/wrapper_field.h                        |  142 ++
 be/src/olap/writer.cpp                             |   15 +-
 be/src/olap/writer.h                               |   36 +-
 be/src/rpc/comm.cpp                                |   14 +-
 be/src/rpc/comm.h                                  |    2 +
 be/src/rpc/comm_buf.h                              |    6 +
 be/src/rpc/command.h                               |   26 +
 be/src/rpc/connection_manager.cpp                  |   16 +-
 be/src/rpc/connection_manager.h                    |    2 +-
 be/src/rpc/dispatch_handler.h                      |   22 +-
 be/src/rpc/inet_addr.cpp                           |    5 +-
 be/src/rpc/io_handler.h                            |    3 +-
 be/src/rpc/io_handler_data.cpp                     |    6 +-
 be/src/rpc/reactor.cpp                             |    6 +-
 be/src/rpc/reactor.h                               |    2 +-
 be/src/rpc/request_cache.cpp                       |   13 +-
 be/src/rpc/request_cache.h                         |   12 +-
 be/src/rpc/static_buffer.h                         |    5 +-
 be/src/runtime/CMakeLists.txt                      |   10 +-
 be/src/runtime/buffered_block_mgr2.cc              |    8 +-
 be/src/runtime/buffered_tuple_stream.cpp           |    5 +-
 be/src/runtime/buffered_tuple_stream2.cc           |    1 +
 be/src/runtime/buffered_tuple_stream3.cc           | 1113 +++++++++++
 be/src/runtime/buffered_tuple_stream3.h            |  708 +++++++
 be/src/runtime/buffered_tuple_stream3.inline.h     |   59 +
 be/src/runtime/bufferpool/buffer_allocator.cc      |  738 +++++++
 be/src/runtime/bufferpool/buffer_allocator.h       |  248 +++
 be/src/runtime/bufferpool/buffer_pool.cc           |  779 ++++++++
 be/src/runtime/bufferpool/buffer_pool.h            |  554 ++++++
 be/src/runtime/bufferpool/buffer_pool_counters.h   |   64 +
 be/src/runtime/bufferpool/buffer_pool_internal.h   |  390 ++++
 be/src/runtime/bufferpool/free_list.h              |  123 ++
 be/src/runtime/bufferpool/reservation_tracker.cc   |  419 ++++
 be/src/runtime/bufferpool/reservation_tracker.h    |  297 +++
 .../bufferpool/reservation_tracker_counters.h      |    4 +-
 be/src/runtime/bufferpool/reservation_util.cc      |   44 +
 be/src/runtime/bufferpool/reservation_util.h       |   77 +
 be/src/runtime/bufferpool/suballocator.cc          |  249 +++
 be/src/runtime/bufferpool/suballocator.h           |  224 +++
 be/src/runtime/bufferpool/system_allocator.cc      |  175 ++
 be/src/runtime/bufferpool/system_allocator.h       |   56 +
 be/src/runtime/client_cache.cpp                    |   28 +-
 be/src/runtime/client_cache.h                      |   12 +-
 be/src/runtime/data_spliter.cpp                    |    3 +-
 be/src/runtime/data_stream_mgr.cpp                 |   26 +
 be/src/runtime/data_stream_mgr.h                   |   16 +-
 be/src/runtime/data_stream_recvr.cc                |  117 +-
 be/src/runtime/data_stream_recvr.h                 |   12 +
 be/src/runtime/data_stream_sender.cpp              |  388 ++--
 be/src/runtime/data_stream_sender.h                |   11 +-
 be/src/runtime/decimal_value.cpp                   |    3 +
 be/src/runtime/decimal_value.h                     |    6 +
 be/src/runtime/descriptors.cpp                     |    8 +
 be/src/runtime/descriptors.h                       |    5 +
 be/src/runtime/disk_io_mgr.cc                      |   13 +-
 be/src/runtime/disk_io_mgr.h                       |    2 +-
 be/src/runtime/disk_io_mgr_scan_range.cc           |    4 +
 be/src/runtime/dpp_sink.cpp                        |    3 +-
 be/src/runtime/exec_env.cpp                        |   57 +-
 be/src/runtime/exec_env.h                          |   39 +-
 be/src/runtime/export_sink.cpp                     |    4 +-
 be/src/runtime/fragment_mgr.cpp                    |   25 +-
 be/src/runtime/initial_reservations.cc             |   95 +
 be/src/runtime/initial_reservations.h              |   84 +
 be/src/runtime/mem_pool.cpp                        |  519 +++--
 be/src/runtime/mem_pool.h                          |  524 +++--
 be/src/runtime/mem_tracker.cpp                     |   16 +-
 be/src/runtime/mem_tracker.h                       |   34 +-
 be/src/runtime/merge_sorter.cpp                    |    4 +-
 be/src/runtime/plan_fragment_executor.cpp          |   34 +-
 be/src/runtime/pull_load_task_mgr.cpp              |    4 -
 be/src/runtime/raw_value.cpp                       |    7 +-
 be/src/runtime/raw_value.h                         |   13 +-
 be/src/runtime/raw_value_ir.cpp                    |   14 +-
 be/src/runtime/result_writer.cpp                   |    5 +-
 be/src/runtime/row_batch.cpp                       |  230 ++-
 be/src/runtime/row_batch.h                         |   25 +
 be/src/runtime/runtime_state.cpp                   |   82 +-
 be/src/runtime/runtime_state.h                     |   92 +-
 be/src/runtime/test_env.cc                         |    8 +-
 be/src/runtime/test_env.h                          |    6 +-
 be/src/runtime/tmp_file_mgr.cc                     |   27 +-
 be/src/runtime/tmp_file_mgr.h                      |   16 +-
 be/src/runtime/tuple.h                             |    5 -
 be/src/runtime/tuple_row.h                         |    1 -
 be/src/runtime/types.h                             |    2 +-
 be/src/runtime/vectorized_row_batch.cpp            |  285 +--
 be/src/runtime/vectorized_row_batch.h              |  188 +-
 be/src/service/CMakeLists.txt                      |    4 +-
 be/src/service/backend_service.cpp                 |   11 +-
 be/src/service/backend_service.h                   |    2 +-
 be/src/service/brpc.h                              |   54 +
 be/src/service/brpc_service.cpp                    |   48 +
 be/src/service/brpc_service.h                      |   43 +
 be/src/service/internal_service.cpp                |   55 +
 be/src/service/internal_service.h                  |   37 +
 be/src/service/palo_main.cpp                       |   39 +-
 be/src/testutil/desc_tbl_builder.h                 |    2 +
 be/src/util/CMakeLists.txt                         |    7 +
 be/src/util/aligned_new.h                          |   60 +
 be/src/util/bit_util.h                             |  133 ++
 be/src/util/bitmap.cpp                             |   47 +
 be/src/util/bitmap.h                               |  100 +
 be/src/util/brpc_stub_cache.h                      |   72 +
 be/src/util/cidr.cpp                               |   21 +-
 be/src/util/collection_metrics.h                   |  294 ---
 be/src/util/condition_variable.h                   |   68 +
 be/src/util/core_local.cpp                         |  115 ++
 be/src/util/core_local.h                           |  142 ++
 be/src/util/cpu_info.cpp                           |  417 ++--
 be/src/util/cpu_info.h                             |  263 ++-
 be/src/util/date_func.h                            |   66 +
 be/src/util/debug_util.cpp                         |   16 +
 be/src/util/debug_util.h                           |    4 +
 be/src/util/disk_info.cpp                          |   59 +
 be/src/util/disk_info.h                            |    6 +
 be/src/util/dummy_runtime_profile.h                |   41 +
 be/src/util/fake_lock.h                            |   43 +
 be/src/util/hash_util.hpp                          |    3 +
 be/src/util/internal_queue.h                       |  451 ++---
 be/src/util/mem_range.h                            |   50 +
 be/src/util/metrics.cpp                            |  353 +---
 be/src/util/metrics.h                              |  640 +++---
 be/src/util/network_util.cpp                       |   25 +
 be/src/util/network_util.h                         |    2 +
 be/src/util/os_info.cpp                            |   87 +
 be/src/util/os_info.h                              |   60 +
 be/src/util/palo_metrics.cpp                       |  248 +--
 be/src/util/palo_metrics.h                         |  196 +-
 be/src/util/rpc_channel.cpp                        |  175 ++
 be/src/util/rpc_channel.h                          |   91 +
 be/src/util/runtime_profile.cpp                    |   29 +-
 be/src/util/runtime_profile.h                      |   75 +-
 be/src/util/system_metrics.cpp                     |  387 ++++
 be/src/util/system_metrics.h                       |   71 +
 be/src/util/thrift_server.cpp                      |   24 +-
 be/src/util/thrift_server.h                        |    6 +-
 be/src/util/time.cpp                               |  139 ++
 be/src/util/time.h                                 |  110 ++
 be/src/util/types.h                                |   34 +
 be/test/agent/mock_task_worker_pool.h              |    2 +-
 be/test/agent/task_worker_pool_test.cpp            |    2 +
 be/test/agent/utils_test.cpp                       |    2 +-
 be/test/http/CMakeLists.txt                        |   19 +
 be/test/http/metrics_action_test.cpp               |  101 +
 be/test/olap/CMakeLists.txt                        |   20 +-
 be/test/olap/bit_field_test.cpp                    |    6 +-
 be/test/olap/bloom_filter_test.cpp                 |    4 +-
 be/test/olap/column_reader_test.cpp                | 1505 ++++++--------
 be/test/olap/command_executor_test.cpp             |   21 +-
 be/test/olap/comparison_predicate_test.cpp         |  963 +++++++++
 be/test/olap/delete_handler_test.cpp               |    1 +
 be/test/olap/file_helper_test.cpp                  |   11 +-
 be/test/olap/file_utils_test.cpp                   |    9 +-
 be/test/olap/in_list_predicate_test.cpp            |  683 +++++++
 be/test/olap/mock_command_executor.h               |    2 +-
 be/test/olap/null_predicate_test.cpp               |  464 +++++
 be/test/olap/row_block_test.cpp                    | 1366 +++++++------
 be/test/olap/row_cursor_test.cpp                   |  583 ++++++
 be/test/olap/run_length_byte_test.cpp              |   16 +-
 be/test/olap/run_length_integer_test.cpp           |   12 +-
 be/test/olap/stream_index_test.cpp                 |   66 +-
 be/test/runtime/CMakeLists.txt                     |   20 +-
 be/test/runtime/datetime_value_test.cpp            |   10 +-
 be/test/runtime/fragment_mgr_test.cpp              |    3 +-
 be/test/runtime/free_list_test.cpp                 |   16 +-
 be/test/runtime/mem_pool_test.cpp                  |   17 +-
 be/test/runtime/sorter_test.cpp                    |    2 +-
 be/test/runtime/string_buffer_test.cpp             |   10 +-
 be/test/runtime/string_value_test.cpp              |   10 +-
 be/test/runtime/tmp_file_mgr_test.cpp              |   20 +-
 be/test/util/CMakeLists.txt                        |   21 +-
 be/test/util/bit_util_test.cpp                     |    4 +-
 be/test/util/brpc_stub_cache_test.cpp              |   59 +
 be/test/util/core_local_test.cpp                   |  122 ++
 be/test/util/count_down_latch_test.cpp             |    8 +
 be/test/util/debug_util_test.cpp                   |   77 -
 be/test/util/decompress_test.cpp                   |    2 +-
 be/test/util/internal_queue_test.cpp               |   10 +-
 be/test/util/lru_cache_util_test.cpp               |   12 +-
 be/test/util/metrics_test.cpp                      |  151 --
 be/test/util/mysql_row_buffer_test.cpp             |  154 --
 be/test/util/new_metrics_test.cpp                  |  295 +++
 be/test/util/palo_metrics_test.cpp                 |  278 +++
 be/test/util/path_trie_test.cpp                    |   12 +-
 be/test/util/perf_counters_test.cpp                |    8 +-
 be/test/util/rpc_channel_test.cpp                  |  185 ++
 be/test/util/runtime_profile_test.cpp              |    6 +-
 be/test/util/system_metrics_test.cpp               |  281 +++
 be/test/util/test_data/diskstats_normal            |   34 +
 be/test/util/test_data/net_dev_normal              |    6 +
 be/test/util/test_data/stat_normal                 |   40 +
 be/test/util/types_test.cpp                        |   59 +
 be/test/util/url_coding_test.cpp                   |    2 +-
 docs/help/Contents/Account Management/help.md      |   21 +-
 .../Data Manipulation/manipulation_stmt.md         |    6 +-
 docs/resources/fe_page_index.png                   |  Bin 41780 -> 0 bytes
 docs/resources/fe_page_logs.png                    |  Bin 273740 -> 0 bytes
 docs/resources/fe_page_queries.png                 |  Bin 49904 -> 0 bytes
 docs/resources/fe_page_sessions.png                |  Bin 94979 -> 0 bytes
 docs/resources/fe_page_system.png                  |  Bin 58734 -> 0 bytes
 docs/resources/fe_page_system_access.png           |  Bin 137122 -> 0 bytes
 docs/resources/fe_page_system_backends.png         |  Bin 128584 -> 0 bytes
 docs/resources/fe_page_system_brokers.png          |  Bin 59492 -> 0 bytes
 docs/resources/fe_page_system_dbs.png              |  Bin 117152 -> 0 bytes
 docs/resources/fe_page_system_error_hub.png        |  Bin 60408 -> 0 bytes
 docs/resources/fe_page_system_frontends.png        |  Bin 75153 -> 0 bytes
 docs/resources/fe_page_system_jobs.png             |  Bin 80104 -> 0 bytes
 docs/resources/fe_page_system_statistic.png        |  Bin 103355 -> 0 bytes
 docs/resources/fe_page_system_tasks.png            |  Bin 104380 -> 0 bytes
 fe/src/com/baidu/palo/PaloFe.java                  |  154 +-
 fe/src/com/baidu/palo/alter/Alter.java             |   20 +-
 fe/src/com/baidu/palo/alter/RollupHandler.java     |    4 -
 .../com/baidu/palo/alter/SchemaChangeHandler.java  |   17 +-
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   |   39 +-
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |  128 +-
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |   13 +-
 fe/src/com/baidu/palo/analysis/JoinOperator.java   |   12 +
 .../palo/analysis/ModifyTablePropertiesClause.java |   20 +-
 .../palo/analysis/RandomDistributionDesc.java      |    8 +-
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   51 +
 fe/src/com/baidu/palo/analysis/ShowTabletStmt.java |    1 +
 fe/src/com/baidu/palo/analysis/TableRef.java       |   18 +-
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |    8 +-
 .../com/baidu/palo/catalog/AggregateFunction.java  |    1 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |   46 +-
 .../baidu/palo/catalog/DomainResolverServer.java   |   10 +-
 fe/src/com/baidu/palo/catalog/FunctionSet.java     |  197 +-
 fe/src/com/baidu/palo/catalog/OlapTable.java       |   15 +-
 fe/src/com/baidu/palo/clone/Clone.java             |    4 +
 .../com/baidu/palo/common/CommandLineOptions.java  |   48 +
 fe/src/com/baidu/palo/common/Config.java           |    5 +-
 fe/src/com/baidu/palo/common/FeConstants.java      |    2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |    9 +
 .../baidu/palo/common/proc/BackendsProcDir.java    |   77 +-
 .../baidu/palo/common/util/PropertyAnalyzer.java   |    2 +-
 fe/src/com/baidu/palo/common/util/Util.java        |    3 +-
 fe/src/com/baidu/palo/deploy/DeployManager.java    |   48 +-
 .../baidu/palo/deploy/impl/K8sDeployManager.java   |   45 +-
 fe/src/com/baidu/palo/ha/MasterInfo.java           |  127 +-
 fe/src/com/baidu/palo/http/BaseRequest.java        |   12 +-
 fe/src/com/baidu/palo/http/meta/MetaService.java   |    4 +-
 .../com/baidu/palo/http/rest/AddBackendAction.java |   89 +
 .../baidu/palo/http/rest/AddFrontendAction.java    |  112 ++
 fe/src/com/baidu/palo/journal/JournalEntity.java   |    3 +-
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |  624 +++---
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |  245 +--
 fe/src/com/baidu/palo/journal/bdbje/BDBTool.java   |  150 ++
 .../baidu/palo/journal/bdbje/BDBToolOptions.java   |   72 +
 fe/src/com/baidu/palo/load/Load.java               |    2 +-
 fe/src/com/baidu/palo/planner/AggregationNode.java |   26 +
 .../com/baidu/palo/planner/DistributedPlanner.java |   30 +-
 fe/src/com/baidu/palo/planner/PlanFragment.java    |    5 +
 fe/src/com/baidu/palo/planner/Planner.java         |    7 +
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   36 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |  510 ++++-
 fe/src/com/baidu/palo/qe/SessionVariable.java      |   65 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |   23 +-
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |   20 +-
 fe/src/com/baidu/palo/qe/VariableMgr.java          |   19 +-
 fe/src/com/baidu/palo/service/FrontendOptions.java |    4 +
 fe/src/com/baidu/palo/system/Backend.java          |  930 ++++-----
 .../com/baidu/palo/system/SystemInfoService.java   |    7 +-
 fe/test/com/baidu/palo/bdb/BDBToolOptionsTest.java |   24 +
 fe/test/com/baidu/palo/bdb/BDBToolTest.java        |  149 ++
 .../palo/catalog/DomainResolverServerTest.java     |   12 +
 .../baidu/palo/common/CommandLineOptionsTest.java  |   21 +
 gensrc/parser/sql_parser.y                         |    2 +-
 gensrc/proto/data.proto                            |   27 +
 gensrc/proto/internal_service.proto                |   49 +
 gensrc/proto/status.proto                          |   24 +
 gensrc/proto/types.proto                           |   24 +
 gensrc/script/gen_build_version.sh                 |    4 +-
 gensrc/thrift/HeartbeatService.thrift              |    1 +
 gensrc/thrift/PaloInternalService.thrift           |   34 +
 gensrc/thrift/PlanNodes.thrift                     | 1033 +++++-----
 gensrc/thrift/Planner.thrift                       |   10 +
 gensrc/thrift/Status.thrift                        |    5 +-
 gensrc/thrift/Types.thrift                         |    1 +
 thirdparty/build-thirdparty.sh                     |   28 +-
 thirdparty/vars.sh                                 |   30 +-
 467 files changed, 40384 insertions(+), 17178 deletions(-)

commit e684ae9b493052ef357bc435748f1d7ac120a2d6
Author: morningman <morningman@163.com>
Date:   Wed Apr 25 20:56:07 2018 +0800

    Update README.md

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c89dc96524346ce450519f1bace8fd88d38d39fb
Author: morningman <morningman@163.com>
Date:   Wed Apr 25 20:55:25 2018 +0800

    Update README.md

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit 9b420d258b362697d04fb6cf94964b0e4a5f7a38
Author: morningman <morningman@163.com>
Date:   Fri Apr 13 22:30:22 2018 +0800

    fix left join bug, be compatible with sqlalchemy (#189)
    
    merge to 4bd53476a7c3e6451aa1cf640a010d3b7bb0ec42

 fe/src/com/baidu/palo/analysis/Analyzer.java    |  2 +-
 fe/src/com/baidu/palo/analysis/LiteralExpr.java |  8 +++++++-
 fe/src/com/baidu/palo/catalog/Catalog.java      |  8 ++++++--
 fe/src/com/baidu/palo/catalog/Column.java       |  4 +---
 fe/src/com/baidu/palo/qe/StmtExecutor.java      |  1 +
 gensrc/parser/sql_parser.y                      | 21 ++++++++++++++++-----
 gensrc/parser/sql_scanner.flex                  |  1 +
 7 files changed, 33 insertions(+), 12 deletions(-)

commit 6cf2fb4d474b37f90eb66af7a865d085c3ef7359
Author: morningman <morningman@163.com>
Date:   Wed Apr 11 16:05:33 2018 +0800

    Bug fixs
    
    merge to 2d4cc9e1358c980b4f726e17d036639bc31127aa (#188)
    contains:
        first_value with PRECEDING LEFT and NON-PRECEDING RIGHT rewrite error and count* materialize SlotDescriptor
        error when referring to the slot of the current query and subquery Simultaneously.
    
        fix join and count(*) materialize SlotDescriptor error.
    
        fix materialize scannode's conjuncts bug.
    
        remove no used materialization work.
    
        it have to evaluate orderby in subquery because we limit the number of rows returned by subquery.
    
        the method of judging limit is wrong.
    
        user info is missing when retrying to call load check.
    
        It's wrong to pass aggregate function when it's param is not materialized.
    
        InsertStmt does not pass the session param to observer.

 be/src/http/action/mini_load.cpp                   |  2 +
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |  8 +--
 fe/src/com/baidu/palo/analysis/AnalyticExpr.java   |  2 +-
 fe/src/com/baidu/palo/analysis/LimitElement.java   |  4 ++
 fe/src/com/baidu/palo/analysis/QueryStmt.java      | 68 +++++++++++-----------
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |  2 +-
 fe/src/com/baidu/palo/planner/AggregationNode.java |  5 +-
 fe/src/com/baidu/palo/planner/Planner.java         |  3 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  3 +
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |  7 +++
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     |  2 +
 gensrc/thrift/FrontendService.thrift               |  2 +
 12 files changed, 65 insertions(+), 43 deletions(-)

commit 5de798fdd660df4c925335ff90bd1d96acdeb320
Author: morningman <morningman@163.com>
Date:   Fri Mar 23 14:04:55 2018 +0800

    Merge code to github (#187)
    
    * merge to 95787f8be1fd0ff215708fb0f49997b632876586
    * Bugs fixed

 be/CMakeLists.txt                                  |   4 +-
 be/src/agent/agent_server.cpp                      |   6 +-
 be/src/agent/task_worker_pool.cpp                  |  24 +-
 be/src/exec/CMakeLists.txt                         |  14 +-
 be/src/exec/aggregation_node.cpp                   |  48 +-
 be/src/exec/broker_scan_node.cpp                   |   2 +-
 be/src/exec/csv_scan_node.cpp                      |   2 +-
 be/src/exec/mysql_scan_node.cpp                    |  33 +-
 be/src/exec/mysql_scan_node.h                      |  10 +-
 be/src/exec/select_node.cpp                        |   1 +
 be/src/exprs/agg_fn_evaluator.cpp                  |   6 +-
 be/src/exprs/scalar_fn_call.cpp                    |   2 +-
 be/src/exprs/timestamp_functions.cpp               |   2 -
 be/src/http/CMakeLists.txt                         |  11 +
 be/src/http/action/checksum_action.cpp             |   2 +-
 be/src/http/action/mini_load.cpp                   |  11 +-
 be/src/http/action/snapshot_action.cpp             |   2 +-
 be/src/olap/column_file/column_reader.cpp          | 145 ----
 .../olap/column_file/run_length_integer_reader.cpp |   1 -
 be/src/olap/column_file/segment_reader.cpp         |   2 +-
 be/src/olap/olap_rootpath.cpp                      |  18 +-
 be/src/olap/olap_server.cpp                        |  25 +-
 be/src/olap/olap_server.h                          |   6 +-
 be/src/olap/row_block.cpp                          |   2 +-
 be/src/olap/utils.h                                |   8 -
 be/src/rpc/io_handler.h                            |   7 +-
 be/src/runtime/client_cache.cpp                    |   9 +-
 be/src/runtime/client_cache.h                      |   2 +-
 be/src/runtime/data_stream_sender.cpp              | 305 ++++----
 be/src/runtime/data_stream_sender.h                |   2 +-
 be/src/runtime/etl_job_mgr.cpp                     |   2 +-
 be/src/runtime/fragment_mgr.cpp                    |   2 +-
 be/src/runtime/row_batch.cpp                       |   6 +
 be/src/runtime/sender_dispatcher.h                 |  71 --
 be/src/runtime/vectorized_row_batch.cpp            |  10 +-
 be/src/runtime/vectorized_row_batch.h              |  15 +-
 be/src/service/receiver_dispatcher.h               |  48 +-
 be/src/util/thrift_client.h                        |   6 +-
 .../Data Manipulation/manipulation_stmt.md         |   4 +-
 fe/src/com/baidu/palo/alter/RollupHandler.java     |   8 +-
 fe/src/com/baidu/palo/alter/RollupJob.java         |   5 +
 .../com/baidu/palo/alter/SchemaChangeHandler.java  | 137 ++--
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   |   6 +-
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |  10 +-
 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  |   2 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |  16 +
 fe/src/com/baidu/palo/analysis/LimitElement.java   |   2 -
 fe/src/com/baidu/palo/analysis/LoadStmt.java       |  68 +-
 fe/src/com/baidu/palo/analysis/QueryStmt.java      |   8 +-
 .../palo/analysis/RandomDistributionDesc.java      |   4 +-
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |  38 +-
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |   2 +
 fe/src/com/baidu/palo/analysis/SortInfo.java       |  13 +-
 fe/src/com/baidu/palo/backup/BackupHandler.java    |   3 +-
 fe/src/com/baidu/palo/backup/BackupJob.java        |   6 +-
 fe/src/com/baidu/palo/backup/MetaDownloadTask.java |   4 +-
 fe/src/com/baidu/palo/backup/MetaUploadTask.java   |   4 +-
 fe/src/com/baidu/palo/backup/SaveManifestTask.java |   4 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |  33 +-
 .../com/baidu/palo/catalog/DomainParserServer.java | 331 ---------
 .../baidu/palo/catalog/DomainResolverServer.java   | 444 +++++++++++
 fe/src/com/baidu/palo/catalog/UserProperty.java    |   9 +-
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java |   2 +-
 fe/src/com/baidu/palo/catalog/WhiteList.java       |  12 +-
 fe/src/com/baidu/palo/clone/Clone.java             |  31 +-
 fe/src/com/baidu/palo/common/ClientPool.java       |   4 +-
 fe/src/com/baidu/palo/common/Config.java           |  15 +-
 fe/src/com/baidu/palo/common/ErrorCode.java        |   2 +
 fe/src/com/baidu/palo/common/Log4jConfig.java      |  20 +-
 fe/src/com/baidu/palo/common/util/BrokerUtil.java  |  81 ++
 .../baidu/palo/common/util/PropertyAnalyzer.java   |   4 +-
 fe/src/com/baidu/palo/common/util/Util.java        |  48 +-
 .../palo/deploy/impl/AmbariDeployManager.java      |   2 +-
 fe/src/com/baidu/palo/ha/BDBHA.java                |  59 +-
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |  13 +-
 fe/src/com/baidu/palo/http/rest/MetricsAction.java |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |   3 +-
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |   8 +-
 fe/src/com/baidu/palo/http/rest/MultiList.java     |   7 +-
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |   7 +-
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |   5 +-
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |  17 +-
 fe/src/com/baidu/palo/load/AsyncDeleteJob.java     |   2 +-
 fe/src/com/baidu/palo/load/DppScheduler.java       |  36 +-
 fe/src/com/baidu/palo/load/Load.java               |  26 +-
 fe/src/com/baidu/palo/mysql/MysqlProto.java        |   5 +-
 fe/src/com/baidu/palo/persist/EditLog.java         |   4 +-
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  | 114 +--
 .../com/baidu/palo/planner/DistributedPlanner.java |  36 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   5 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |   8 +-
 fe/src/com/baidu/palo/qe/MultiLoadMgr.java         |  43 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |   1 -
 .../com/baidu/palo/task/ExportExportingTask.java   |  14 +-
 .../com/baidu/palo/task/PullLoadPendingTask.java   |  45 +-
 fe/src/com/baidu/palo/task/PullLoadTask.java       |   5 +-
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   |   8 +-
 .../palo/catalog/DomainResolverServerTest.java     | 143 ++++
 fe/test/com/baidu/palo/load/DppSchedulerTest.java  |  30 +-
 fe/test/com/baidu/palo/qe/CoordinatorTest.java     |  99 +--
 .../apache_hdfs_broker/conf/log4j.properties       |   2 +-
 .../deps/apache_hdfs_broker_java_libraries.tar.gz  | Bin 18160555 -> 27347434 bytes
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |   1 +
 fs_brokers/baidu_bos_broker/bin/start_broker.sh    |  64 --
 fs_brokers/baidu_bos_broker/bin/stop_broker.sh     |  47 --
 fs_brokers/baidu_bos_broker/build.sh               |  46 --
 fs_brokers/baidu_bos_broker/build.xml              |  95 ---
 .../baidu_bos_broker/conf/baidu_bos_broker.conf    |   5 -
 .../deps/baidu_bos_broker_java_libraries.tar.gz    | Bin 31825197 -> 0 bytes
 fs_brokers/baidu_bos_broker/deps/build.sh          |  46 --
 .../palo/broker/bos/BOSBrokerServiceImpl.java      | 245 ------
 .../baidu/palo/broker/bos/BaiduBosFileSystem.java  | 603 ---------------
 .../com/baidu/palo/broker/bos/BosBlockBuffer.java  |  55 --
 .../com/baidu/palo/broker/bos/BosException.java    |  36 -
 .../palo/broker/bos/BosNativeFileSystemStore.java  | 825 ---------------------
 .../com/baidu/palo/broker/bos/BrokerBootstrap.java |  84 ---
 .../com/baidu/palo/broker/bos/BrokerConfig.java    |  59 --
 .../com/baidu/palo/broker/bos/BrokerException.java |  67 --
 .../baidu/palo/broker/bos/BrokerFileSystem.java    |  95 ---
 .../palo/broker/bos/ClientContextManager.java      | 246 ------
 .../com/baidu/palo/broker/bos/FileMetadata.java    |  52 --
 .../baidu/palo/broker/bos/FileSystemIdentity.java  |  66 --
 .../baidu/palo/broker/bos/FileSystemManager.java   | 400 ----------
 .../palo/broker/bos/NativeFileSystemStore.java     |  62 --
 .../com/baidu/palo/broker/bos/PartialListing.java  |  54 --
 .../com/baidu/palo/common/BrokerPerfMonitor.java   |  27 -
 .../src/com/baidu/palo/common/ConfigBase.java      | 193 -----
 .../src/com/baidu/palo/common/Log4jConfig.java     | 225 ------
 .../com/baidu/palo/common/LoggerMessageFormat.java | 269 -------
 .../src/com/baidu/palo/common/ThriftServer.java    | 115 ---
 .../palo/broker/bos/TestBOSBrokerService.java      |  69 --
 .../palo/broker/bos/TestFileSystemManager.java     | 145 ----
 133 files changed, 1712 insertions(+), 5587 deletions(-)

commit b8fa22ddd32426cf5268f09f2c761d5c3ac2c1ae
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Mar 12 18:11:54 2018 +0800

    distinguish limit 0 in analyze (#186)

 fe/src/com/baidu/palo/analysis/LimitElement.java |  6 ++++++
 fe/src/com/baidu/palo/analysis/QueryStmt.java    | 11 ++++++++++-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 12d54c71a3a463506c732e60e19fe1d9f43e1429
Author: morningman <morningman@163.com>
Date:   Fri Mar 2 14:21:28 2018 +0800

    Update fe.conf

 conf/fe.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab2d6063618f361e3d976b93800f1a98256341e9
Author: morningman <morningman@163.com>
Date:   Mon Feb 26 13:44:16 2018 +0800

    Update AsyncDeleteJob
    
    fix persist AsyncDeleteJob bug

 fe/src/com/baidu/palo/load/AsyncDeleteJob.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ca3470119c7466f3f32cfbc4afd408122cf80b61
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Thu Feb 1 15:19:17 2018 +0800

    find disk damage, report immediately (#183)

 be/src/agent/task_worker_pool.cpp | 39 +++++++++++++++++++++++++++------------
 be/src/agent/task_worker_pool.h   |  7 +++++++
 be/src/olap/olap_rootpath.cpp     | 26 +++++++++++++++++++++++++-
 be/src/olap/olap_rootpath.h       |  7 +++++++
 4 files changed, 66 insertions(+), 13 deletions(-)

commit ef15bf424e208c050394ba56f6673ab7901dcd9d
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Tue Jan 23 19:11:06 2018 +0800

    fix decimal bug (#181)

 be/src/runtime/decimal_value.h | 4 +++-
 be/src/udf/udf.h               | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 0008399987f619d2852e0966fb61b31821946e6b
Author: morningman <morningman@163.com>
Date:   Wed Jan 17 11:11:37 2018 +0800

    add FE metrics (#178)
    
    Add more metrics of FE.
    You need to update fe/lib when update FE

 fe/src/com/baidu/palo/alter/AlterHandler.java      |  17 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |   4 +
 fe/src/com/baidu/palo/common/util/Metrics.java     |  84 ----
 fe/src/com/baidu/palo/http/BaseAction.java         |  30 +-
 fe/src/com/baidu/palo/http/BaseResponse.java       |  71 +---
 fe/src/com/baidu/palo/http/HttpServer.java         |   2 -
 .../palo/http/action/StaticResourceAction.java     |  10 +-
 .../com/baidu/palo/http/action/WebBaseAction.java  |  10 +-
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |   8 +-
 fe/src/com/baidu/palo/http/meta/MetaService.java   |  21 +-
 .../palo/http/rest/LoadErrorMessageAction.java     | 113 ------
 fe/src/com/baidu/palo/http/rest/MetricsAction.java |   6 +-
 .../com/baidu/palo/http/rest/RestBaseAction.java   |   4 +-
 fe/src/com/baidu/palo/load/Load.java               |  53 ++-
 fe/src/com/baidu/palo/load/LoadJob.java            |  37 ++
 fe/src/com/baidu/palo/metric/MetricRepo.java       | 441 +++++++++++++++++++++
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |  43 +-
 fe/src/com/baidu/palo/qe/ConnectScheduler.java     |  18 +-
 .../com/baidu/palo/system/SystemInfoService.java   |  14 +
 fe/src/com/baidu/palo/task/LoadEtlTask.java        |   3 +-
 thirdparty/java-libraries.tar.gz                   | Bin 28293126 -> 28266579 bytes
 21 files changed, 649 insertions(+), 340 deletions(-)

commit 5e9041fc1c1c5900f1892ee40af917bfea32c326
Author: lide-reed <mailtolide@sina.com>
Date:   Tue Jan 16 09:46:51 2018 +0800

    added largeint for buildin functions: if, ifnull, nullif and coalesce

 be/src/exprs/conditional_functions.h      | 4 ++++
 be/src/exprs/conditional_functions_ir.cpp | 4 ++++
 gensrc/script/palo_builtins_functions.py  | 4 ++++
 3 files changed, 12 insertions(+)

commit 5a1388c676e8b9e1ab08501c2e7d73919d0aa67d
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Mon Jan 15 14:05:49 2018 +0800

    fix union with order by bug (#177)

 fe/src/com/baidu/palo/analysis/UnionStmt.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 497292387c96246e280a2ed5e9e731cb3d16a0d7
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Thu Jan 11 14:20:41 2018 +0800

    add export retry (#176)

 be/src/runtime/export_sink.cpp                     |  7 ++-
 fe/src/com/baidu/palo/load/ExportJob.java          | 36 ++++++++++++-
 fe/src/com/baidu/palo/qe/Coordinator.java          | 15 ++++++
 .../com/baidu/palo/task/ExportExportingTask.java   | 59 ++++++++--------------
 fe/src/com/baidu/palo/task/ExportPendingTask.java  |  5 +-
 5 files changed, 77 insertions(+), 45 deletions(-)

commit 42cb31e11cebd0cdb52b9b5f09772cc8b25f0ac8
Author: lide-reed <mailtolide@sina.com>
Date:   Tue Jan 9 10:56:45 2018 +0800

    replace getHostName with getHostString to avoid triggering a name service reverse lookup

 fe/src/com/baidu/palo/mysql/MysqlChannel.java      | 30 ++++++++++++----------
 fe/src/com/baidu/palo/qe/ConnectContext.java       |  8 +++---
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |  4 +--
 fe/test/com/baidu/palo/qe/ConnectContextTest.java  |  2 +-
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |  4 +--
 5 files changed, 26 insertions(+), 22 deletions(-)

commit 1e951e5c1ceef384d13213688f81c6ce104b2501
Author: morningman <morningman@163.com>
Date:   Tue Jan 9 10:42:57 2018 +0800

    fix ut compile. set timeout to pull load task. fix export sink bug (#175)

 be/CMakeLists.txt                              | 44 +++++++++++++++-----------
 be/src/runtime/export_sink.cpp                 |  2 +-
 be/test/agent/mock_task_worker_pool.h          |  2 ++
 be/test/agent/task_worker_pool_test.cpp        |  1 +
 be/test/common/CMakeLists.txt                  |  2 +-
 be/test/runtime/CMakeLists.txt                 |  4 +--
 be/test/util/CMakeLists.txt                    |  2 +-
 fe/src/com/baidu/palo/qe/Coordinator.java      |  2 +-
 fe/src/com/baidu/palo/task/PullLoadJobMgr.java |  1 +
 fe/src/com/baidu/palo/task/PullLoadTask.java   |  5 +--
 10 files changed, 38 insertions(+), 27 deletions(-)

commit 0f65b770ad25aa3912445a85a4f48992957358f0
Author: lide-reed <mailtolide@sina.com>
Date:   Mon Jan 8 11:18:18 2018 +0800

    [PALO-3124] added in predicate functions for largeInt

 be/src/exprs/new_in_predicate.cpp |  1 +
 be/src/exprs/new_in_predicate.h   | 27 +++++++++++++++++++++++++++
 2 files changed, 28 insertions(+)

commit 838290db88164c7e852f90f5fa927cc06e084378
Author: morningman <morningman@163.com>
Date:   Thu Jan 4 19:30:48 2018 +0800

    use sychronized to protect fs stream in broker (#171)

 be/src/exec/broker_reader.cpp                      |   1 +
 .../baidu/palo/broker/hdfs/FileSystemManager.java  | 161 +++++++++++----------
 .../baidu/palo/broker/bos/FileSystemManager.java   | 136 +++++++++--------
 3 files changed, 158 insertions(+), 140 deletions(-)

commit 78c45dfddd42bee9542bc0f5084247afcdf26395
Author: lide-reed <mailtolide@sina.com>
Date:   Wed Jan 3 19:52:40 2018 +0800

    [PALO-3059] added the variable of collation_server

 fe/src/com/baidu/palo/common/FeConstants.java   | 2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java | 7 +++++--
 fe/src/com/baidu/palo/qe/SessionVariable.java   | 8 ++++++--
 3 files changed, 12 insertions(+), 5 deletions(-)

commit 724a1d0f87d65e06af74e996e0b997e1a152d383
Author: lide-reed <mailtolide@sina.com>
Date:   Wed Jan 3 18:18:31 2018 +0800

    [PALO-3059] added the variable of collation_server

 fe/src/com/baidu/palo/qe/SessionVariable.java | 14 ++++++++++++++
 fe/src/com/baidu/palo/qe/VariableMgr.java     |  3 +++
 2 files changed, 17 insertions(+)

commit 3975360a7cc01571be72a41fceb304a64929ff5f
Author: morningman <morningman@163.com>
Date:   Wed Jan 3 16:13:41 2018 +0800

    add jvm monitor (#170)
    
    SHOW PROC '/monitor/jvm'; to get info

 fe/src/com/baidu/palo/common/Config.java           |   2 +-
 fe/src/com/baidu/palo/common/proc/JvmProcDir.java  |  90 ++++
 .../com/baidu/palo/common/proc/MonitorProcDir.java |  51 +++
 fe/src/com/baidu/palo/common/proc/ProcService.java |   1 +
 fe/src/com/baidu/palo/monitor/jvm/GcNames.java     |  59 +++
 fe/src/com/baidu/palo/monitor/jvm/JvmInfo.java     | 466 ++++++++++++++++++++
 fe/src/com/baidu/palo/monitor/jvm/JvmService.java  | 117 +++++
 fe/src/com/baidu/palo/monitor/jvm/JvmStats.java    | 478 +++++++++++++++++++++
 .../com/baidu/palo/monitor/unit/ByteSizeUnit.java  | 252 +++++++++++
 .../com/baidu/palo/monitor/unit/ByteSizeValue.java | 251 +++++++++++
 fe/src/com/baidu/palo/monitor/unit/TimeValue.java  | 363 ++++++++++++++++
 fe/src/com/baidu/palo/monitor/utils/Strings.java   |  59 +++
 12 files changed, 2188 insertions(+), 1 deletion(-)

commit 32c5570771781465fbf0946003fd3761c9009db1
Author: morningman <morningman@163.com>
Date:   Tue Jan 2 19:50:15 2018 +0800

    fix some bugs (#169)
    
    * change broker's default log level to INFO. fix some log error
    
    * change exporting data via broker in batch

 be/src/exec/broker_writer.cpp  |  6 ++----
 be/src/runtime/export_sink.cpp | 13 +++++++++----
 2 files changed, 11 insertions(+), 8 deletions(-)

commit 0d3f401889ab9ce7ee005eb56a25595dd858107b
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Dec 27 21:42:03 2017 +0800

    remove confusing & symbol (#168)

 be/src/runtime/etl_job_mgr.cpp  | 2 +-
 be/src/runtime/fragment_mgr.cpp | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b981d70fe735fac53abbee9d4c87fca20d333be5
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Dec 27 21:31:09 2017 +0800

    fix error file log path when load with broker (#167)

 be/src/runtime/fragment_mgr.cpp | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 4b4a52369e1c91b3352a453b9cb61d300595a2a3
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Dec 27 21:05:15 2017 +0800

    improve logic to sending to broker (#166)
    
    1. Increase default timeout to 5s to avoid error in network jitter scenarios;
    2. do not re-send request if meet TTransportException

 be/src/exec/broker_writer.cpp | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 67004402a17d618291c1a58679063271be51c1c2
Author: morningman <morningman@163.com>
Date:   Mon Dec 25 17:38:37 2017 +0800

    change broker's default log level to INFO. fix some log error (#164)

 .../src/com/baidu/palo/broker/hdfs/BrokerConfig.java                   | 2 +-
 .../src/com/baidu/palo/broker/hdfs/FileSystemManager.java              | 3 ++-
 .../baidu_bos_broker/src/com/baidu/palo/broker/bos/BrokerConfig.java   | 2 +-
 .../src/com/baidu/palo/broker/bos/FileSystemManager.java               | 3 ++-
 4 files changed, 6 insertions(+), 4 deletions(-)

commit da784a3d09b5ac02d432cd96453518bc50269d3c
Author: morningman <morningman@163.com>
Date:   Fri Dec 22 17:56:10 2017 +0800

    fix bugs when start multi FE at same time (#163)
    
    In the case when 3 FE (1 master and 2 followers) start at same time,
    We may catch com.sleepycat.je.rep.DatabasePreemptedException which said that
    "Database xx has been forcibly closed in order to apply a replicated remove operation."

 .../baidu/palo/journal/bdbje/BDBEnvironment.java   | 51 +++++++++++++++++-----
 fe/src/com/baidu/palo/qe/StmtExecutor.java         | 10 ++---
 2 files changed, 44 insertions(+), 17 deletions(-)

commit 5840377f59332dab81b5e3f6eb0bad3a095e116d
Author: lide-reed <mailtolide@sina.com>
Date:   Thu Dec 21 15:18:20 2017 +0800

    Fixed a bug reporting internal error when largeint type in union statement

 fe/src/com/baidu/palo/analysis/IntLiteral.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 6f1f5d0e3dfa2fa3d12dc298b10cef0595086c11
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Wed Dec 20 19:56:25 2017 +0800

    fix multiple count_distinct bug (#162)

 fe/src/com/baidu/palo/analysis/FunctionCallExpr.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 56fa78501e0f0fc6be580152cec5a928cf9dcaf3
Author: morningman <morningman@163.com>
Date:   Tue Dec 19 21:25:41 2017 +0800

    fix bugs when add rollup in duplicate key table (#161)

 fe/src/com/baidu/palo/alter/RollupHandler.java  | 110 ++++++++++++++++--------
 fe/src/com/baidu/palo/common/Config.java        |   9 +-
 fe/src/com/baidu/palo/planner/OlapScanNode.java |   2 +-
 fe/test/com/baidu/palo/catalog/BackendTest.java |  34 ++++----
 4 files changed, 97 insertions(+), 58 deletions(-)

commit 56ac7812af791bf4e2f76cb248124e17287d9b25
Author: morningman <morningman@163.com>
Date:   Tue Dec 19 19:16:07 2017 +0800

    Update K8sDeployManager.java

 fe/src/com/baidu/palo/deploy/impl/K8sDeployManager.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 877ac29f87ca4a42dd5fc1fcaa2a0356c741d9c1
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Mon Dec 18 19:47:39 2017 +0800

    fix NULL cast to CHAR bug (#160)

 fe/src/com/baidu/palo/catalog/PrimitiveType.java | 1 +
 1 file changed, 1 insertion(+)

commit 051cf8f14059e3711c32331c3a7d1de70733b440
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Dec 18 11:29:40 2017 +0800

    can't materialize join's EqJoinPredicates when refereces Subquery's column (#159)

 fe/src/com/baidu/palo/analysis/SelectStmt.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 756f9bdb6c94298da3b1860943584bb226f21bfb
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Dec 18 11:20:39 2017 +0800

    exchange check error when parent child is union (#158)

 be/src/exec/exchange_node.cpp  |   2 +-
 be/src/exec/pl_task_root.cpp   | 152 -----------------------------------------
 be/src/exec/pl_task_root.h     |  53 --------------
 be/src/runtime/descriptors.cpp |  43 ++++++++++++
 be/src/runtime/descriptors.h   |  32 +++++++++
 5 files changed, 76 insertions(+), 206 deletions(-)

commit 765f7f53d4355d6d1507d7d76bedf1a6fcd54192
Author: morningman <morningman@163.com>
Date:   Fri Dec 15 17:56:17 2017 +0800

    Update manipulation_stmt.md
    
    add mini load timeout help

 docs/help/Contents/Data Manipulation/manipulation_stmt.md | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 446e76862ef78a871255d4d6b29c0ad0bd43cfa4
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Fri Dec 15 14:18:16 2017 +0800

     fix microseconds_add and microseconds_sub bug  (#157)

 gensrc/script/palo_builtins_functions.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1eddd0d7ad681031fff54c803ec46f2080a7112e
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Thu Dec 14 10:49:19 2017 +0800

    report the real disk available capacity to fe (#156)

 be/src/agent/task_worker_pool.cpp                  |  5 +--
 be/src/olap/olap_engine.cpp                        |  4 +--
 be/src/olap/olap_rootpath.cpp                      | 22 +++++++------
 be/src/olap/olap_rootpath.h                        | 14 ++++++---
 fe/src/com/baidu/palo/catalog/DiskInfo.java        | 36 +++++++++++++++++-----
 fe/src/com/baidu/palo/common/FeConstants.java      |  2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |  3 ++
 .../baidu/palo/common/proc/BackendProcNode.java    | 30 ++++++++++++------
 fe/src/com/baidu/palo/system/Backend.java          | 22 ++++++++++---
 gensrc/thrift/MasterService.thrift                 |  5 +--
 10 files changed, 99 insertions(+), 44 deletions(-)

commit f8407a623ce3678f84bfa99583a8ab0e17f83c72
Author: morningman <morningman@163.com>
Date:   Tue Dec 12 14:59:12 2017 +0800

    fix session action title bug (#154)

 fe/src/com/baidu/palo/http/action/SessionAction.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a7fe56322d3447c01daba06c43761d2561ba1e40
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Dec 7 15:02:10 2017 +0800

    aggregation with limit bug (#152)

 be/src/exec/aggregation_node.cpp | 1 +
 1 file changed, 1 insertion(+)

commit ddf6c38b0ac84ab76770e4699241287761746d3f
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Dec 7 14:58:18 2017 +0800

    aggregation with limit bug (#151)

 be/src/exec/aggregation_node.cpp | 43 +++++++++++++++++++++-------------------
 1 file changed, 23 insertions(+), 20 deletions(-)

commit 56138b9d35e2acd6be1a09548038b5db01e8408c
Author: morningman <morningman@163.com>
Date:   Wed Dec 6 13:58:22 2017 +0800

    move docs to wiki (#150)
    
    move these 4 docs to wiki
    docs/admin_guide/install.md
    docs/user_guide/FAQ.md
    docs/user_guide/sql_reference.md
    docs/user_guide/tutorial.md

 README.md                        |    4 +-
 docs/admin_guide/install.md      |  277 ---
 docs/user_guide/FAQ.md           |  311 ---
 docs/user_guide/sql_reference.md | 4428 --------------------------------------
 docs/user_guide/tutorial.md      |  706 ------
 5 files changed, 2 insertions(+), 5724 deletions(-)

commit dac207804d368dadcbebb2eaf907651c144d5932
Author: morningman <morningman@163.com>
Date:   Tue Dec 5 11:48:37 2017 +0800

    fix ambari deploy bug. add bdbje clock delta config (#149)

 fe/src/com/baidu/palo/common/Config.java           |  7 ++
 fe/src/com/baidu/palo/deploy/DeployManager.java    |  2 +-
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   | 79 +++++++++++-----------
 3 files changed, 49 insertions(+), 39 deletions(-)

commit 51beba6796cf8186221fdffc19a161ca82dae287
Author: morningman <morningman@163.com>
Date:   Sun Dec 3 16:19:29 2017 +0800

    Add images for deploy doc

 docs/resources/fe_page_index.png            | Bin 0 -> 41780 bytes
 docs/resources/fe_page_logs.png             | Bin 0 -> 273740 bytes
 docs/resources/fe_page_queries.png          | Bin 0 -> 49904 bytes
 docs/resources/fe_page_sessions.png         | Bin 0 -> 94979 bytes
 docs/resources/fe_page_system.png           | Bin 0 -> 58734 bytes
 docs/resources/fe_page_system_access.png    | Bin 0 -> 137122 bytes
 docs/resources/fe_page_system_backends.png  | Bin 0 -> 128584 bytes
 docs/resources/fe_page_system_brokers.png   | Bin 0 -> 59492 bytes
 docs/resources/fe_page_system_dbs.png       | Bin 0 -> 117152 bytes
 docs/resources/fe_page_system_error_hub.png | Bin 0 -> 60408 bytes
 docs/resources/fe_page_system_frontends.png | Bin 0 -> 75153 bytes
 docs/resources/fe_page_system_jobs.png      | Bin 0 -> 80104 bytes
 docs/resources/fe_page_system_statistic.png | Bin 0 -> 103355 bytes
 docs/resources/fe_page_system_tasks.png     | Bin 0 -> 104380 bytes
 14 files changed, 0 insertions(+), 0 deletions(-)

commit 45571becddd9cb1ec7af209ac5a574c37642b9db
Author: morningman <morningman@163.com>
Date:   Sun Dec 3 16:03:56 2017 +0800

    Update install.md
    
    add how to install lsb_release cmd if missing.

 docs/admin_guide/install.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6d438cb257989fafdda4fb0356f4e9da3eabd0b1
Author: morningman <morningman@163.com>
Date:   Thu Nov 30 17:36:53 2017 +0800

    Update install.md
    
    update pre-compilation binaries (11-30)

 docs/admin_guide/install.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 585c21fab42fc1a5f0df291c6fdc5d24716b9f81
Author: morningman <morningman@163.com>
Date:   Thu Nov 30 16:31:12 2017 +0800

    add feature and fix bugs (#148)
    
    Add new features:
    1. plugins of Ambari and k8s deploy
    2. specified config 'priority_network' to solve some ip problems
    
    Fix bugs:
    fix bugs that rebalance does not work in some case.
    fix count(*) from union stmt bug
    fix some union stmt bugs
    fix bugs when try to schema change a clone replica

 be/src/common/config.h                             |   7 +-
 be/src/runtime/export_sink.cpp                     |   8 +-
 be/src/service/backend_options.cpp                 |  65 ++-
 be/src/service/backend_options.h                   |  12 +-
 be/src/service/palo_main.cpp                       |  10 +-
 be/src/util/CMakeLists.txt                         |   1 +
 be/src/util/cidr.cpp                               | 102 ++++
 be/src/util/cidr.h                                 |  41 ++
 be/src/util/thrift_server.cpp                      |   1 -
 be/test/util/CMakeLists.txt                        |   1 +
 be/test/util/cidr_test.cpp                         |  68 +++
 bin/start_be.sh                                    |   6 +-
 bin/start_fe.sh                                    |   7 +
 build.sh                                           |  17 +-
 conf/be.conf                                       |   7 +
 conf/fe.conf                                       |   7 +
 fe/build.xml                                       |   8 +
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   |  28 +-
 .../com/baidu/palo/analysis/AddBackendClause.java  |  13 +-
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |  32 +-
 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  |  11 +-
 .../com/baidu/palo/analysis/DropBackendClause.java |   5 +
 fe/src/com/baidu/palo/analysis/ExportStmt.java     |   8 +-
 fe/src/com/baidu/palo/analysis/ShowDataStmt.java   | 499 ++++++++---------
 fe/src/com/baidu/palo/catalog/Catalog.java         | 111 +++-
 fe/src/com/baidu/palo/catalog/OlapTable.java       |  82 +--
 fe/src/com/baidu/palo/clone/CloneChecker.java      |  96 ++--
 fe/src/com/baidu/palo/common/CIDR.java             | 186 +++++++
 fe/src/com/baidu/palo/common/Config.java           |  37 +-
 fe/src/com/baidu/palo/common/FeNameFormat.java     |   2 -
 ...rontendProcNode.java => FrontendsProcNode.java} |  71 ++-
 fe/src/com/baidu/palo/common/proc/ProcService.java |   2 +-
 fe/src/com/baidu/palo/deploy/DeployManager.java    | 602 +++++++++++++++++++++
 .../palo/deploy/impl/AmbariDeployManager.java      | 356 ++++++++++++
 .../baidu/palo/deploy/impl/K8sDeployManager.java   | 181 +++++++
 .../palo/deploy/impl/LocalFileDeployManager.java   |  83 +++
 fe/src/com/baidu/palo/http/HttpServer.java         |   8 -
 fe/src/com/baidu/palo/http/action/HaAction.java    |  32 +-
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |   6 +-
 .../palo/http/rest/AddApacheHdfsBrokerAction.java  |  91 ----
 .../com/baidu/palo/http/rest/AddBackendAction.java |  89 ---
 .../baidu/palo/http/rest/AddFrontendAction.java    | 112 ----
 fe/src/com/baidu/palo/load/Load.java               |  18 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  18 -
 fe/src/com/baidu/palo/service/FrontendOptions.java |  69 ++-
 .../com/baidu/palo/system/SystemInfoService.java   |   3 +-
 fe/src/com/baidu/palo/task/ExportPendingTask.java  |   9 +-
 .../com/baidu/palo/analysis/AccessTestUtil.java    |   2 +-
 .../baidu/palo/analysis/AlterTableStmtTest.java    |  10 +-
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |   2 +-
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |   9 +-
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |   8 +-
 .../com/baidu/palo/backup/ObjectWriterTest.java    |   4 +-
 .../com/baidu/palo/catalog/CreateTableTest.java    |  35 +-
 fe/test/com/baidu/palo/catalog/DatabaseTest.java   |  48 +-
 fe/test/com/baidu/palo/clone/CloneCheckerTest.java |  67 +--
 fe/test/com/baidu/palo/clone/CloneTest.java        |   5 +-
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |  45 +-
 fe/test/com/baidu/palo/common/CIDRTest.java        |  67 +++
 .../com/baidu/palo/common/proc/DbsProcDirTest.java |   6 +-
 .../baidu/palo/deploy/AmbariDeployManagerTest.java |  89 +++
 fe/test/com/baidu/palo/load/LoadCheckerTest.java   |   3 +-
 fe/test/com/baidu/palo/load/LoadTest.java          |  43 +-
 fe/test/com/baidu/palo/qe/SimpleSchedulerTest.java |  27 +-
 fe/test/com/baidu/palo/task/AgentTaskTest.java     |  61 ++-
 fe/test/com/baidu/palo/task/LoadEtlTaskTest.java   |  10 +-
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |   8 +-
 thirdparty/java-libraries.tar.gz                   | Bin 25363747 -> 28293126 bytes
 68 files changed, 2798 insertions(+), 979 deletions(-)

commit 8909f536597a69431d2d89ab5153ca9a8e22bf6c
Author: chenhao7253886 <510341142@qq.com>
Date:   Wed Nov 29 15:14:06 2017 +0800

    modify check white list log ， produce exec param error when plan has multi UnionNode and revert changes about literal (#146)
    
    * CreateTableStmt and AlterTableStmt cluster name is null
    
    Change-Id: Id5869961694fa11808db66ecf121d7cef0898f95
    
    Signed-off-by: chenhao16 <chenhao16@baidu.com>
    
    * add des cluster when perform 'allter system add backend'
    
    * find left most node error
    
    * change white list limit
    
    * import ExchangeNode in Coordinator
    
    * import ExchangeNode in Coordinator
    
    * produce exec param error when plan has multi UnionNode and revert changes about literal by yanlei

 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  | 243 +++++++++++----------
 fe/src/com/baidu/palo/analysis/DateLiteral.java    |   2 +
 fe/src/com/baidu/palo/analysis/DecimalLiteral.java |   2 +
 fe/src/com/baidu/palo/analysis/FloatLiteral.java   |   1 +
 fe/src/com/baidu/palo/analysis/IntLiteral.java     |   3 +
 fe/src/com/baidu/palo/analysis/LiteralExpr.java    |   1 -
 fe/src/com/baidu/palo/analysis/StringLiteral.java  |   1 +
 fe/src/com/baidu/palo/common/Config.java           |   3 +
 fe/src/com/baidu/palo/qe/Coordinator.java          |  27 ++-
 9 files changed, 161 insertions(+), 122 deletions(-)

commit 5c6fc49360530f7fac10410100d719c2bd6cf518
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Nov 28 12:10:52 2017 +0800

    import ExchangeNode in Coordinator (#145)

 fe/src/com/baidu/palo/qe/Coordinator.java | 1 +
 1 file changed, 1 insertion(+)

commit 34379105f86b3c4f652f05275e7639e37c5f1ad2
Author: morningman <morningman@163.com>
Date:   Tue Nov 28 09:05:45 2017 +0800

    Update tutorial.md
    
    fix mismatch example

 docs/user_guide/tutorial.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f54658926590768339179a33441b99da1675197a
Author: chenhao7253886 <510341142@qq.com>
Date:   Wed Nov 22 11:28:42 2017 +0800

    find left most node error (#142)
    
    * CreateTableStmt and AlterTableStmt cluster name is null
    
    Change-Id: Id5869961694fa11808db66ecf121d7cef0898f95
    
    Signed-off-by: chenhao16 <chenhao16@baidu.com>
    
    * add des cluster when perform 'allter system add backend'
    
    * find left most node error

 fe/src/com/baidu/palo/qe/Coordinator.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44ed16cd23797137ba08f62a7e66fad7a87b3abf
Author: morningman <morningman@163.com>
Date:   Tue Nov 14 02:04:50 2017 -0600

    add missing file (#138)
    
    ShowUserStmt

 fe/src/com/baidu/palo/analysis/ShowUserStmt.java | 42 ++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit a0334513673a9a48e6ce62372aa3187d12862328
Author: morningman <morningman@163.com>
Date:   Mon Nov 13 19:49:40 2017 -0600

    modify: (#137)
    
    1. remove libunwind deps
    2. modify install in build.sh
    3. add SHOW USER stmt to show user privilege

 build.sh                                           |  30 +++---
 docs/help/Contents/Account Management/help.md      |  15 +++
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java | 110 +++++++++++++--------
 .../palo/common/proc/AccessResourceProcDir.java    |   3 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |  30 ++++--
 gensrc/parser/sql_parser.y                         |   4 +
 thirdparty/build-thirdparty.sh                     |  14 +--
 thirdparty/vars.sh                                 |   7 +-
 8 files changed, 129 insertions(+), 84 deletions(-)

commit 05b86e82b21301fd98e2fed01a7c22f0774abf73
Author: morningman <morningman@163.com>
Date:   Sat Nov 11 20:26:29 2017 -0600

    fix bugs: (#136)
    
    1. rename database does not modify the coresponding names in cluster.
    2. Result of SHOW BROKERS does not match that of in SHOW PROC '/brokers'.
    3. Bugs when set property for other user using admin user.

 .../Data Manipulation/manipulation_stmt.md         |  2 +
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |  6 +-
 fe/src/com/baidu/palo/analysis/ShowBrokerStmt.java |  2 +-
 fe/src/com/baidu/palo/catalog/BrokerMgr.java       | 20 +++++-
 fe/src/com/baidu/palo/catalog/Catalog.java         |  9 ++-
 .../baidu/palo/common/proc/BackendsProcDir.java    | 72 +++++++++++++---------
 fe/src/com/baidu/palo/qe/ShowExecutor.java         | 10 +--
 7 files changed, 75 insertions(+), 46 deletions(-)

commit 0400fd1562299d5aef03bd69623a04317ce85660
Author: yiguolei <676222867@qq.com>
Date:   Thu Nov 9 18:21:19 2017 +0800

    Update log4j.properties (#135)
    
    the default debug level message is too large, change it to info

 fs_brokers/apache_hdfs_broker/conf/log4j.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e61963120162f3b755132fc25875de52d5e8fb33
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Nov 3 04:37:16 2017 -0500

    add des cluster when perform 'allter system add backend' (#134)
    
    add des cluster when perform 'allter system add backend'

 docs/help/Contents/Administration/admin_stmt.md    | 16 +++++----
 fe/src/com/baidu/palo/alter/SystemHandler.java     | 10 +++++-
 .../com/baidu/palo/analysis/AddBackendClause.java  | 37 +++++++++++++++----
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |  2 +-
 .../com/baidu/palo/analysis/CreateClusterStmt.java |  5 +--
 fe/src/com/baidu/palo/catalog/Catalog.java         | 32 +++++++++--------
 fe/src/com/baidu/palo/cluster/Cluster.java         |  3 ++
 .../com/baidu/palo/system/SystemInfoService.java   | 41 ++++++++++++++++------
 gensrc/parser/sql_parser.y                         |  4 +++
 9 files changed, 108 insertions(+), 42 deletions(-)

commit b1430b3570a553f450ff42cdd6ce1f72f798a98d
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Nov 3 04:30:36 2017 -0500

    CreateTableStmt and AlterTableStmt cluster name is null (#133)
    
    Change-Id: Id5869961694fa11808db66ecf121d7cef0898f95
    
    Signed-off-by: chenhao16 <chenhao16@baidu.com>

 fe/src/com/baidu/palo/analysis/AlterTableStmt.java  | 4 +++-
 fe/src/com/baidu/palo/analysis/CreateTableStmt.java | 1 +
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 2f743b4234dc1b5bbed753b7b97dd5cce2581758
Author: morningman <morningman@163.com>
Date:   Fri Nov 3 03:31:43 2017 -0500

    Check row length when creating table and when adding column (#132)

 .../com/baidu/palo/alter/SchemaChangeHandler.java  | 17 +++++++-
 .../com/baidu/palo/analysis/CreateTableStmt.java   | 11 ++++-
 fe/src/com/baidu/palo/catalog/ColumnType.java      | 50 ++++++++++++++++++----
 fe/src/com/baidu/palo/common/Config.java           | 17 ++++++++
 4 files changed, 84 insertions(+), 11 deletions(-)

commit a177a575d8048a48a68c3b21e732e844ee328aec
Author: stg825 <winnie_825@163.com>
Date:   Thu Oct 26 06:19:46 2017 -0500

    set Literal `isAnalyzed` true as default value, so Literal`s subclass do not need call method  `analysisDone` (#131)

 fe/src/com/baidu/palo/analysis/DateLiteral.java    | 2 --
 fe/src/com/baidu/palo/analysis/DecimalLiteral.java | 2 --
 fe/src/com/baidu/palo/analysis/FloatLiteral.java   | 1 -
 fe/src/com/baidu/palo/analysis/IntLiteral.java     | 3 ---
 fe/src/com/baidu/palo/analysis/LiteralExpr.java    | 1 +
 fe/src/com/baidu/palo/analysis/StringLiteral.java  | 1 -
 6 files changed, 1 insertion(+), 9 deletions(-)

commit cc64875e6b6fcf50dbf24801ca15eda420eac9c3
Author: morningman <morningman@163.com>
Date:   Wed Oct 25 20:40:11 2017 -0500

    Fix database quota check bug. Modify load help doc (#130)

 docs/help/Contents/Data Definition/ddl_stmt.md     |   5 +-
 .../Data Manipulation/manipulation_stmt.md         |  17 +-
 fe/src/com/baidu/palo/alter/Alter.java             | 480 ++++++++++-----------
 fe/src/com/baidu/palo/catalog/Catalog.java         |   3 +-
 fe/src/com/baidu/palo/load/Load.java               |   2 +-
 .../com/baidu/palo/system/SystemInfoService.java   |  26 +-
 .../com/baidu/palo/task/ExportExportingTask.java   |   2 -
 7 files changed, 265 insertions(+), 270 deletions(-)

commit fe38773c3ef202e16601f8b74b22c186a51b7f57
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Fri Oct 20 14:47:53 2017 +0800

    update sql_reference.md (#129)
    
    * fix escape character in like predicate
    
    * multi tenant doc
    
    * modify error prompt when insert
    
    * update sql_reference.md

 docs/user_guide/sql_reference.md | 458 ++++++++++++++++++++++++++++++++++++++-
 1 file changed, 451 insertions(+), 7 deletions(-)

commit a2380690f8e82048c95507b0fe8cec5cb133be0d
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Tue Oct 17 19:03:13 2017 +0800

    modify error prompt when insert (#128)

 fe/src/com/baidu/palo/qe/StmtExecutor.java | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 1be35d478952c35f86ee7247741a969ed7851813
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Wed Oct 11 05:42:59 2017 -0500

    comm get localhost from backend options (#127)

 be/src/rpc/comm.cpp | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2f9c0cd9f3ab0ce44f00fc303b53fd7026100741
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Oct 11 03:23:05 2017 -0500

    fix core when query information_schema (#125)

 fe/src/com/baidu/palo/catalog/Column.java      | 23 ++++++++++++++---------
 fe/src/com/baidu/palo/catalog/SchemaTable.java |  4 ++--
 2 files changed, 16 insertions(+), 11 deletions(-)

commit 41fedd03ea19ea0a43965cd49637fe480a941364
Author: morningman <morningman@163.com>
Date:   Sun Oct 1 18:13:12 2017 +0800

    fix add frontend problem, to make it more safe (#124)
    
    reorganize the debug log of selecting rollup

 fe/src/com/baidu/palo/analysis/Analyzer.java    |   4 +-
 fe/src/com/baidu/palo/catalog/Catalog.java      |  53 ++++++----
 fe/src/com/baidu/palo/persist/EditLog.java      |   2 +-
 fe/src/com/baidu/palo/planner/OlapScanNode.java | 123 +++++++++++++-----------
 4 files changed, 102 insertions(+), 80 deletions(-)

commit 6196ecdacaa091cd846a20f70fe594db2f00ddad
Author: morningman <morningman@163.com>
Date:   Sat Sep 30 13:55:15 2017 +0800

    fix case sensitive bug when querying information schema db (#122)

 fe/src/com/baidu/palo/catalog/Catalog.java | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 57c9da619b3e4b9a0f650bb7fddb5fe5aeabd894
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Fri Sep 29 02:51:34 2017 -0500

    fix error in tutorial.md (#121)

 docs/user_guide/tutorial.md | 106 ++++++++++++++++++++++----------------------
 1 file changed, 53 insertions(+), 53 deletions(-)

commit d77d8a4748ba60d04450921f9292362c203c4630
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Sep 28 12:11:09 2017 +0800

    update doc about cluster (#119)

 docs/admin_guide/install.md |  8 ++++++-
 docs/user_guide/tutorial.md | 53 +++++++++++++++++++++++++++++++++++++++------
 2 files changed, 53 insertions(+), 8 deletions(-)

commit 1c0462568c63e8c1e390a6b8972bdeb93354e6ca
Author: morningman <morningman@163.com>
Date:   Wed Sep 27 11:28:48 2017 +0800

    Update install.md
    
    update pre-compile binaries of centos and ubuntu to 20170926

 docs/admin_guide/install.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d25c23e7870b99b66d6ea8f83b4ab146a85ccc77
Author: morningman <morningman@163.com>
Date:   Tue Sep 26 20:24:20 2017 +0800

    only master can receive and accept add frontend and backend request via http (#118)

 fe/src/com/baidu/palo/http/rest/AddBackendAction.java  | 5 +++++
 fe/src/com/baidu/palo/http/rest/AddFrontendAction.java | 5 +++++
 2 files changed, 10 insertions(+)

commit 22572aefbfbb3b0924bc10394d3f0be679301f15
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Sep 26 14:59:00 2017 +0800

    fix MetaBaseAction bug when check ip of FE (#117)

 fe/src/com/baidu/palo/catalog/Catalog.java          | 2 +-
 fe/src/com/baidu/palo/http/meta/MetaBaseAction.java | 5 ++---
 2 files changed, 3 insertions(+), 4 deletions(-)

commit b2188a9c3370e6d740cb0a24b4204b8bdedcfc76
Author: morningman <morningman@163.com>
Date:   Fri Sep 22 09:45:35 2017 +0800

    Update install.md
    
    update pre-compile binary of centos and ubuntu to 0922.

 docs/admin_guide/install.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 41226344ce83325fec9da19d65783c787dfa6f66
Author: LingBin <lingbinlb@gmail.com>
Date:   Thu Sep 21 20:48:58 2017 +0800

    fix csv_scan_node bug (#115)

 be/src/exec/csv_scan_node.cpp | 35 ++++++++++++++++-------------------
 1 file changed, 16 insertions(+), 19 deletions(-)

commit adb321331469f34b8434131823e097bf985ee09b
Author: LingBin <lingbinlb@gmail.com>
Date:   Thu Sep 21 20:27:49 2017 +0800

    Do not show token and file path in load error url (#114)

 be/src/http/download_action.cpp  | 86 ++++++++++++++++++++++++++++++++--------
 be/src/http/download_action.h    | 21 +++++++++-
 be/src/olap/olap_define.h        |  1 +
 be/src/runtime/etl_job_mgr.cpp   | 10 ++++-
 be/src/runtime/etl_job_mgr.h     |  1 +
 be/src/runtime/exec_env.cpp      |  7 ++++
 be/src/runtime/load_path_mgr.cpp | 67 ++++++++++++++++++++++++++-----
 be/src/runtime/load_path_mgr.h   | 16 +++++++-
 be/src/runtime/runtime_state.cpp | 20 ++++++----
 9 files changed, 192 insertions(+), 37 deletions(-)

commit 14f7388f72d1b90b707983b488e45afa414f2c8c
Author: morningman <morningman@163.com>
Date:   Thu Sep 21 10:16:34 2017 +0800

    fix PMD code style problem (#108)

 .../com/baidu/palo/alter/SchemaChangeHandler.java  |  15 ++-
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |   4 +-
 fe/src/com/baidu/palo/analysis/AnalyticExpr.java   |  19 ++--
 fe/src/com/baidu/palo/analysis/AnalyticInfo.java   |   3 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |  31 +++---
 .../com/baidu/palo/analysis/ColumnSeparator.java   |  10 +-
 fe/src/com/baidu/palo/analysis/Expr.java           |   8 +-
 fe/src/com/baidu/palo/analysis/MaxLiteral.java     |   2 +-
 fe/src/com/baidu/palo/analysis/Predicate.java      |   6 +-
 fe/src/com/baidu/palo/analysis/ShowBackupStmt.java |  22 +++--
 fe/src/com/baidu/palo/analysis/ShowExportStmt.java |  40 ++++----
 fe/src/com/baidu/palo/analysis/ShowLoadStmt.java   |  29 +++---
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |  22 +++--
 fe/src/com/baidu/palo/analysis/StatementBase.java  |   1 -
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |   6 ++
 fe/src/com/baidu/palo/backup/PathBuilder.java      |  16 ++--
 fe/src/com/baidu/palo/catalog/Catalog.java         | 106 +++++++++++----------
 fe/src/com/baidu/palo/catalog/Function.java        |  25 +++--
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java    |   5 +-
 fe/src/com/baidu/palo/catalog/Type.java            |  54 ++++-------
 fe/src/com/baidu/palo/catalog/UserProperty.java    |  20 ++--
 fe/src/com/baidu/palo/catalog/WhiteList.java       |  57 +++++------
 fe/src/com/baidu/palo/common/PatternMatcher.java   |  21 ++--
 fe/src/com/baidu/palo/common/io/IOUtils.java       |  14 +--
 fe/src/com/baidu/palo/common/proc/ProcService.java |   3 +-
 fe/src/com/baidu/palo/common/util/DebugUtil.java   |  35 +++----
 fe/src/com/baidu/palo/common/util/Metrics.java     |   5 +-
 fe/src/com/baidu/palo/common/util/MysqlUtil.java   |   2 +-
 .../com/baidu/palo/common/util/RuntimeProfile.java |  78 +++++++--------
 .../baidu/palo/consistency/ConsistencyChecker.java |  16 ++--
 fe/src/com/baidu/palo/http/HttpAuthManager.java    |   2 +-
 fe/src/com/baidu/palo/http/HttpServer.java         |   4 +-
 .../palo/http/action/StaticResourceAction.java     |  14 +--
 .../palo/journal/local/LocalJournalCursor.java     |  85 +++++++++--------
 fe/src/com/baidu/palo/load/ExportChecker.java      |   2 +-
 fe/src/com/baidu/palo/load/Load.java               |  22 +++--
 fe/src/com/baidu/palo/load/MysqlLoadErrorHub.java  |   2 +
 fe/src/com/baidu/palo/mysql/MysqlAuthPacket.java   |   9 +-
 fe/src/com/baidu/palo/mysql/MysqlChannel.java      |   8 +-
 fe/src/com/baidu/palo/mysql/MysqlPacket.java       |   3 +-
 fe/src/com/baidu/palo/mysql/MysqlProto.java        |  48 +++++-----
 fe/src/com/baidu/palo/persist/Storage.java         |   4 +-
 fe/src/com/baidu/palo/planner/AnalyticPlanner.java |  39 ++++----
 .../com/baidu/palo/planner/DistributedPlanner.java |   8 +-
 fe/src/com/baidu/palo/planner/ExchangeNode.java    |   3 +-
 .../baidu/palo/planner/HashDistributionPruner.java |   8 +-
 .../baidu/palo/planner/RangePartitionPruner.java   |   7 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  33 +++----
 fe/src/com/baidu/palo/qe/Coordinator.java          |  12 ++-
 fe/src/com/baidu/palo/qe/GlobalVariable.java       |   2 +-
 .../baidu/palo/rewrite/BetweenToCompoundRule.java  |   2 +-
 51 files changed, 510 insertions(+), 482 deletions(-)

commit 51d5c727a75285c839bc1aa25e606fefe5187552
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Sep 20 21:25:10 2017 +0800

    make UUID to be authentication token (#107)

 be/src/agent/heartbeat_server.cpp                  |   17 +-
 be/src/agent/task_worker_pool.cpp                  |    8 +-
 be/src/http/download_action.cpp                    |   11 +-
 be/src/runtime/etl_job_mgr.cpp                     |    2 +-
 be/src/runtime/exec_env.cpp                        |   12 +-
 be/src/runtime/exec_env.h                          |    2 +
 be/src/runtime/fragment_mgr.cpp                    |    2 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |   91 +-
 fe/src/com/baidu/palo/common/Config.java           |    4 +
 fe/src/com/baidu/palo/http/HttpServer.java         |   26 +-
 .../palo/http/meta/InvalidClientException.java     |   24 +
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |   57 +-
 fe/src/com/baidu/palo/http/meta/MetaService.java   |   59 +-
 fe/src/com/baidu/palo/persist/Storage.java         |  101 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |    4 +-
 .../com/baidu/palo/system/SystemInfoService.java   | 1637 ++++++++++----------
 fe/test/com/baidu/palo/persist/StorageTest.java    |  272 ++--
 gensrc/thrift/HeartbeatService.thrift              |    1 +
 18 files changed, 1212 insertions(+), 1118 deletions(-)

commit 6ed63ca9491fd2a471ad30c9de71bc0b8d4f5242
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Wed Sep 20 17:36:08 2017 +0800

    fix iterator wrong compare in CsvScanNode (#106)

 be/src/exec/csv_scan_node.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba97f434f9b61ee81e790e7496a1fc735384bf05
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Sep 19 16:58:55 2017 +0800

    make web session key more versatile (#105)

 fe/src/com/baidu/palo/http/HttpAuthManager.java    |  5 +----
 .../com/baidu/palo/http/action/WebBaseAction.java  | 23 ++++++++++------------
 2 files changed, 11 insertions(+), 17 deletions(-)

commit 89d12ed5fb977f62419823c837a0c57c7ed47371
Author: lingbin <lingbinlb@gmail.com>
Date:   Tue Sep 19 16:08:32 2017 +0800

    add log when invalid forward was rejected.

 fe/src/com/baidu/palo/service/FrontendServiceImpl.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0665debe1ef8f64002fdbaf1ead7d307c1810b71
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Sep 19 15:44:18 2017 +0800

    add server check to master when receive forward requests from followers or observers (#104)

 be/src/util/thrift_server.cpp                      |  19 ++--
 fe/src/com/baidu/palo/common/ThriftServer.java     |  54 +++++----
 .../com/baidu/palo/common/ThriftServerContext.java |  35 ++++++
 .../palo/common/ThriftServerEventProcessor.java    | 123 +++++++++++++++++++++
 .../baidu/palo/service/FrontendServiceImpl.java    |  27 ++++-
 5 files changed, 226 insertions(+), 32 deletions(-)

commit 3227d371e2d7b22327dc264f0c3962c572f29c8e
Author: morningman <morningman@163.com>
Date:   Mon Sep 18 18:29:41 2017 +0800

    add metadata design doc (#103)
    
    * add metadata design doc
    
    * change required cmake version to 2.8.10

 be/CMakeLists.txt                    |   2 +-
 docs/design/metadata_design.md       | 102 +++++++++++++++++++++++++++++++++++
 docs/resources/metadata_contents.png | Bin 0 -> 14356 bytes
 docs/resources/metadata_stream.png   | Bin 0 -> 75852 bytes
 4 files changed, 103 insertions(+), 1 deletion(-)

commit cfb8fc991a498625cd2173074f2fd63a8e291263
Author: Zuyu ZHANG <zuyu@users.noreply.github.com>
Date:   Sun Sep 17 20:55:08 2017 -0500

    Added the fix to mysql build error. (#101)

 docs/admin_guide/install.md | 46 +++++++++++++++++++++++++++------------------
 1 file changed, 28 insertions(+), 18 deletions(-)

commit cba91bac3fde08f295bfadecf6b16946e47fc971
Author: morningman <morningman@163.com>
Date:   Fri Sep 15 11:22:02 2017 +0800

    sort out the fs_brokers dir (#98)
    
    * sort out the fs_broker dir
    * modify install.md

 docs/admin_guide/install.md                          |   4 ++--
 .../bin/{start_hdfs_broker.sh => start_broker.sh}    |   9 ---------
 .../bin/{stop_hdfs_broker.sh => stop_broker.sh}      |   0
 .../{build_hdfs_broker.sh => build.sh}               |   2 +-
 .../deps/{build_deps.sh => build.sh}                 |   0
 .../com/baidu/palo/broker/hdfs/BrokerBootstrap.java  |   3 ++-
 .../bin/{start_bos_broker.sh => start_broker.sh}     |  19 +++++--------------
 .../bin/{stop_bos_broker.sh => stop_broker.sh}       |   2 +-
 .../{build_bos_broker.sh => build.sh}                |   4 ++--
 .../deps/baidu_bos_broker_java_libraries.tar.gz      | Bin 0 -> 31825197 bytes
 .../deps/{build_deps.sh => build.sh}                 |  11 +++++++++--
 11 files changed, 22 insertions(+), 32 deletions(-)

commit b48dbecd2e81e91767cc7c746e2b79394b32a891
Author: morningman <morningman@163.com>
Date:   Thu Sep 14 17:20:11 2017 +0800

    Update install.md
    
    update pre-compile binaries of ubuntu and centos

 docs/admin_guide/install.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 46a7d5207364c6d62d3eb51df1f710e89b976286
Author: LingBin <lingbinlb@gmail.com>
Date:   Thu Sep 14 12:56:36 2017 +0800

    add token check to ImageAction to improve safety (#96)

 fe/src/com/baidu/palo/catalog/Catalog.java       |   5 +-
 fe/src/com/baidu/palo/common/Config.java         |  16 +--
 fe/src/com/baidu/palo/http/BaseAction.java       |  10 +-
 fe/src/com/baidu/palo/http/meta/MetaService.java | 127 ++++++++++++++---------
 4 files changed, 99 insertions(+), 59 deletions(-)

commit fea0d22f4e3811a93b5879c5a5c92736134937b5
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Sep 13 19:37:24 2017 +0800

    fix compile error caused by missing import (#94)

 fe/src/com/baidu/palo/http/rest/RestBaseAction.java | 1 +
 1 file changed, 1 insertion(+)

commit a591d92e4840935b0c52033982c72b6dd812b4fe
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Sep 13 19:19:40 2017 +0800

    check port in PutAction to avoid SSRF(Server-Side Request Forgery) (#93)

 fe/src/com/baidu/palo/http/BaseAction.java       |  8 +++-
 fe/src/com/baidu/palo/http/meta/MetaService.java | 56 +++++++++++++++---------
 2 files changed, 42 insertions(+), 22 deletions(-)

commit db8c40e5f0fbe508ca4c9ac2547472a2bdfaa84e
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Sep 13 16:54:00 2017 +0800

    add authentication to DownloadAction (#91)
    
    * add authentication to DownloadAction
    
    1. use cluster_id as token;
    2. add dir limit, only files in data dir can be accessed.
    
    * enable authentication in DownloadAction by default

 be/src/agent/task_worker_pool.cpp     |  95 +++++++++++++++++++------------
 be/src/agent/task_worker_pool.h       |   9 ---
 be/src/common/config.h                |   3 +
 be/src/http/download_action.cpp       |  88 +++++++++++++++++++++--------
 be/src/http/download_action.h         |  19 ++++---
 be/src/runtime/etl_job_mgr.cpp        |   4 +-
 be/src/runtime/etl_job_mgr.h          |   1 +
 be/src/runtime/exec_env.cpp           | 103 +++++++++++++++++++---------------
 be/src/runtime/exec_env.h             |   7 ++-
 be/src/runtime/fragment_mgr.cpp       |   4 +-
 be/src/runtime/runtime_state.h        |   8 ---
 be/src/util/filesystem_util.cc        |  31 ++++++++++
 be/src/util/filesystem_util.h         |   2 +
 be/test/util/filesystem_util_test.cpp |  71 ++++++++++++++++++++---
 14 files changed, 303 insertions(+), 142 deletions(-)

commit ac9e1a0fe1f7ea4cf62de6ec6ab1f09d14797a94
Author: LingBin <lingbinlb@gmail.com>
Date:   Wed Sep 13 15:15:53 2017 +0800

    add authentication to show_action rest api (#89)
    
    * add authentication to show_action rest api
    
    * fix log

 fe/src/com/baidu/palo/http/BaseAction.java         | 54 +++++++++++++---------
 fe/src/com/baidu/palo/http/HttpAuthManager.java    | 14 +++---
 .../http/{rest => }/UnauthorizedException.java     |  2 +-
 .../com/baidu/palo/http/rest/ShowProcAction.java   | 22 +++++++--
 4 files changed, 57 insertions(+), 35 deletions(-)

commit bcd378078f82fd608da44985dc45063241ad9a9f
Author: morningman <morningman@163.com>
Date:   Wed Sep 13 14:07:13 2017 +0800

    Update build-thirdparty.sh
    
    modify curl compile params

 thirdparty/build-thirdparty.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b175a083638394e9ac83ec54fdee095da205a72f
Author: LingBin <lingbinlb@gmail.com>
Date:   Tue Sep 12 20:45:30 2017 +0800

    make replayedJournalId to be AtomicLong (#87)
    
    Avoid errors during concurrent access to Catalog::replayedJournalId.

 fe/src/com/baidu/palo/catalog/Catalog.java | 65 +++++++++++++++---------------
 1 file changed, 33 insertions(+), 32 deletions(-)

commit bbed1b3b152640fb2bf83d2cb6271486c6f85e1f
Author: morningman <morningman@163.com>
Date:   Tue Sep 12 10:04:24 2017 +0800

    add FE config frontend_address (#86)
    
    * in case the automatic ip selection may choose a unexpected ip

 fe/src/com/baidu/palo/catalog/Catalog.java         | 12 +--
 fe/src/com/baidu/palo/common/Config.java           |  7 +-
 .../com/baidu/palo/http/rest/RestBaseAction.java   |  6 +-
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java | 34 +++++----
 fe/src/com/baidu/palo/service/FrontendOptions.java | 29 +++++--
 .../com/baidu/palo/system/SystemInfoService.java   | 89 +++++++++++-----------
 6 files changed, 95 insertions(+), 82 deletions(-)

commit e82a06ba2b192985ff861931c9bd1251095cb2d3
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Fri Sep 8 18:21:41 2017 +0800

    multi tenant doc (#83)
    
    multi tenant doc

 docs/design/multi_tenant.md                    | 212 +++++++++++++++++++++++++
 docs/resources/backend_state.png               | Bin 0 -> 38501 bytes
 docs/resources/cluster_link_and_migrate_db.png | Bin 0 -> 26668 bytes
 docs/resources/cluster_namaspace.png           | Bin 0 -> 17381 bytes
 docs/resources/multi_tenant_arch.png           | Bin 0 -> 148816 bytes
 docs/resources/palo_meta.png                   | Bin 0 -> 27247 bytes
 docs/resources/replica_recover.png             | Bin 0 -> 30514 bytes
 docs/resources/user_authority.png              | Bin 0 -> 12063 bytes
 8 files changed, 212 insertions(+)

commit 4aef832f16866e9a3e770505402df3a69edac727
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Sep 8 12:25:50 2017 +0800

            compile failed (#82)
    
    compile failed
    
    * select wrong rollup
    
    * update backend in cluster because of forgeting to remove backend' id when drop backend or decommission in latest version
    
    * aggragation function containing funcion with wrong param crash
    
    * compile failed

 be/src/exprs/scalar_fn_call.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 84f852d8b6edc4b94eef14d0d88ab56fffa1707a
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Sep 7 19:07:33 2017 +0800

    aggragation function containing funcion with wrong param crash (#81)
    
    * aggragation function containing funcion with wrong param crash
    
    * select wrong rollup
    
    * update backend in cluster because of forgeting to remove backend' id when drop backend or decommission in latest version
    
    * aggragation function containing funcion with wrong param crash

 be/src/exprs/scalar_fn_call.cpp | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6fe7ace94a23dc65572c3d804c915110102a8f2c
Author: morningman <morningman@163.com>
Date:   Thu Sep 7 16:28:28 2017 +0800

    fix bugs (#79)
    
    * NullpointerException when cancel PENDING broker load job.
    * missing BROKER case when clear load job.

 fe/src/com/baidu/palo/load/Load.java         | 4 +++-
 fe/src/com/baidu/palo/task/PullLoadTask.java | 4 +++-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 48299ed0f60280decfbaeaf1110d912c1eac4901
Author: morningman <morningman@163.com>
Date:   Thu Sep 7 16:12:46 2017 +0800

    change build script to retain the permissions of all start and stop scripts (#78)

 be/CMakeLists.txt | 3 +++
 build.sh          | 4 ++--
 fe/build.xml      | 9 ++++++---
 3 files changed, 11 insertions(+), 5 deletions(-)

commit 07f450e1a82ca14cbb60da05bc3c927bd5ca195b
Author: morningman <morningman@163.com>
Date:   Wed Sep 6 17:18:25 2017 +0800

    modify build.sh (#77)
    
    * now user can specify --fe, --be and --clean

 build.sh | 134 ++++++++++++++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 107 insertions(+), 27 deletions(-)

commit 58f0bf64a1e7ba5d6215bb06716bfbb2ed98de47
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Sep 5 21:28:51 2017 +0800

    update backend in cluster because of forgeting to remove backend' id when drop backend or decommission in latest version (#76)
    
    * update backend in cluster because of forgeting to remove backend' id when drop backend or decommission in latest version
    
    * select wrong rollup
    
    * update backend in cluster because of forgeting to remove backend' id when drop backend or decommission in latest version

 fe/src/com/baidu/palo/catalog/Catalog.java      | 9 ++++++---
 fe/src/com/baidu/palo/common/FeConstants.java   | 2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java | 5 +++++
 3 files changed, 12 insertions(+), 4 deletions(-)

commit 064f253177ce95906bffd377b4debd2aa326185c
Author: yubingpeng <yubingpenguestc@163.com>
Date:   Tue Sep 5 19:54:10 2017 +0800

    fix escape character in like predicate (#75)
    
    now select "abcd%1" like "abcd\%%" is true

 be/src/exprs/like_predicate.cpp | 46 ++++++++++++++++++++++++++++++-----------
 be/src/exprs/like_predicate.h   |  2 ++
 2 files changed, 36 insertions(+), 12 deletions(-)

commit a97bf616555055ee84f3ed60010f11b8ba1ca048
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Sep 5 17:07:40 2017 +0800

    select wrong rollup (#74)
    
    * select wrong rollup
    
    * select wrong rollup

 fe/src/com/baidu/palo/alter/RollupJob.java | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit fde6b395390e70cf03b40bcf21cbc23ae0b8cbf7
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 20:56:50 2017 +0800

    modify start and stop script. User can now specified PID file dir and log dir (#71)

 be/src/agent/agent_server.cpp                          | 10 +++++-----
 be/src/olap/olap_rootpath.cpp                          |  2 +-
 be/src/runtime/tmp_file_mgr.cc                         |  2 +-
 be/src/service/palo_main.cpp                           |  2 +-
 bin/start_be.sh                                        | 14 +++++++++++---
 bin/start_fe.sh                                        |  9 ++++++---
 bin/stop_be.sh                                         | 13 ++++++++++++-
 bin/stop_fe.sh                                         | 13 ++++++++++++-
 fs_brokers/apache_hdfs_broker/bin/start_hdfs_broker.sh | 11 ++++++++++-
 fs_brokers/apache_hdfs_broker/bin/stop_hdfs_broker.sh  | 13 ++++++++++++-
 fs_brokers/baidu_bos_broker/bin/start_bos_broker.sh    | 11 ++++++++++-
 fs_brokers/baidu_bos_broker/bin/stop_bos_broker.sh     | 13 ++++++++++++-
 12 files changed, 93 insertions(+), 20 deletions(-)

commit 81c860dcdc73be5b7cca0f6a451b800be0e338e0
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 19:48:52 2017 +0800

    fix some bugs (#69)
    
    * modify modify the way of PartitionDesc analysis. fix set global variables bug
    
    * add export job statitic proc
    
    * merge from baidu/master
    
    * change MASTER_CLIENT_TIMEOUT
    
    * fix right outer join with null column

 be/src/agent/utils.h                               |    2 +-
 be/src/exec/hash_join_node.cpp                     |    6 +-
 fe/src/com/baidu/palo/PaloFe.java                  |    2 +-
 .../baidu/palo/alter/DecommissionBackendJob.java   |   25 +-
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   |    3 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |   25 +-
 .../com/baidu/palo/analysis/CreateTableStmt.java   |   12 +-
 fe/src/com/baidu/palo/analysis/DateLiteral.java    |    4 +
 .../baidu/palo/analysis/ExprSubstitutionMap.java   |    4 +-
 fe/src/com/baidu/palo/analysis/PartitionDesc.java  |    6 +-
 .../baidu/palo/analysis/RangePartitionDesc.java    |   32 +-
 fe/src/com/baidu/palo/analysis/SetStmt.java        |    2 +
 .../com/baidu/palo/analysis/ShowVariablesStmt.java |    2 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         |   73 +-
 fe/src/com/baidu/palo/catalog/Column.java          |    2 +-
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java    |   11 +
 fe/src/com/baidu/palo/catalog/ScalarType.java      |   14 +
 fe/src/com/baidu/palo/catalog/StructField.java     |   14 +
 fe/src/com/baidu/palo/catalog/Type.java            |   18 +
 fe/src/com/baidu/palo/clone/CloneChecker.java      |    5 +-
 fe/src/com/baidu/palo/cluster/Cluster.java         |    1 +
 fe/src/com/baidu/palo/common/Config.java           |    9 +
 fe/src/com/baidu/palo/common/ErrorCode.java        |    2 +-
 fe/src/com/baidu/palo/common/FeNameFormat.java     |    2 +
 fe/src/com/baidu/palo/common/proc/JobsProcDir.java |   14 +-
 fe/src/com/baidu/palo/http/BaseAction.java         |    3 +-
 fe/src/com/baidu/palo/http/HttpServer.java         |   11 +
 fe/src/com/baidu/palo/http/action/IndexAction.java |    5 +-
 .../com/baidu/palo/http/action/SessionAction.java  |    2 +-
 .../palo/http/rest/AddApacheHdfsBrokerAction.java  |   91 ++
 .../com/baidu/palo/http/rest/AddBackendAction.java |   84 ++
 .../baidu/palo/http/rest/AddFrontendAction.java    |  107 ++
 .../palo/http/rest/BootstrapFinishAction.java      |   69 ++
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |    7 +-
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |    2 +
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |    4 +-
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |    8 +-
 fe/src/com/baidu/palo/http/rest/MultiList.java     |    8 +-
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |    8 +-
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |    1 +
 fe/src/com/baidu/palo/load/DppScheduler.java       | 1044 ++++++++++----------
 fe/src/com/baidu/palo/load/ExportMgr.java          |   19 +-
 fe/src/com/baidu/palo/load/Load.java               |   41 +-
 .../com/baidu/palo/planner/SingleNodePlanner.java  |    2 +-
 fe/src/com/baidu/palo/qe/VariableMgr.java          |    3 +
 fe/src/com/baidu/palo/service/FrontendOptions.java |    2 -
 .../com/baidu/palo/system/SystemInfoService.java   |    6 +-
 47 files changed, 1171 insertions(+), 646 deletions(-)

commit 53d9c63b8bc7022cb78e750b6eb973b15c8ef064
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Sep 4 19:11:11 2017 +0800

    remove distinct check with one param in second aggregate pharse (#70)

 fe/src/com/baidu/palo/analysis/AggregateInfo.java | 2 --
 1 file changed, 2 deletions(-)

commit ab4b648599fcd350802265710884a9ac14b58efe
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 16:39:25 2017 +0800

    Update IsNullPredicate.java

 fe/src/com/baidu/palo/analysis/IsNullPredicate.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bb6a6fa10bf5ef5f2251a69ead722539eff49928
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 16:38:53 2017 +0800

    Update DropClusterStmt.java

 fe/src/com/baidu/palo/analysis/DropClusterStmt.java | 1 -
 1 file changed, 1 deletion(-)

commit ed638f5f00bc3b11069c9445b07b691ae4dcaffa
Merge: 2dae3286 92c44bb0
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Sep 4 15:47:33 2017 +0800

    Merge pull request #67 from morningman/master
    
    add new stmt ALTER SYSTEM ADD FREE BACKEND to add a backend not belon…

commit 92c44bb0c71650a9e544a7d5d7b1228daf8c181b
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 15:44:48 2017 +0800

    Update build.sh

 build.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0475394879a5079397b60959f9201389f87c5386
Author: morningman <morningman@163.com>
Date:   Mon Sep 4 15:43:19 2017 +0800

    add new stmt ALTER SYSTEM ADD FREE BACKEND to add a backend not belongs to any cluster

 build.sh                                           |  6 +--
 docs/help/Contents/Administration/admin_stmt.md    | 15 ++++--
 .../Data Manipulation/manipulation_stmt.md         |  9 ++++
 fe/src/com/baidu/palo/alter/SystemHandler.java     |  2 +-
 .../com/baidu/palo/analysis/AddBackendClause.java  | 15 +++++-
 fe/src/com/baidu/palo/catalog/Catalog.java         | 63 +++++++++++-----------
 fe/src/com/baidu/palo/cluster/Cluster.java         | 33 ++++++------
 .../com/baidu/palo/system/SystemInfoService.java   | 41 +++++++++++---
 gensrc/parser/sql_parser.y                         | 20 ++++---
 gensrc/parser/sql_scanner.flex                     |  1 +
 10 files changed, 134 insertions(+), 71 deletions(-)

commit 2dae32862ec39dc46a4a44d06f75eb20276babbb
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Sun Sep 3 18:04:22 2017 +0800

    auxiliary predicate can't be assigned (#66)

 fe/src/com/baidu/palo/analysis/Analyzer.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 8098561d7910c378b20fddd4f52ba811c6c9431a
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Sun Sep 3 10:27:35 2017 +0800

    Use epoll instead of select in mongoose. (#65)
    
    * Use epoll instead of select in mongoose.
    
    When number of fds exceed 1024, FD_SET will crush, so switch to epoll
    
    * add default case to epoll event in mongoose read

 be/src/http/mongoose.cpp | 59 ++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit e4f9ad659fb0efc3dc0b14a4dcdb7f27806ebc37
Author: morningman <morningman@163.com>
Date:   Sat Sep 2 10:10:35 2017 +0800

    Update build.sh

 build.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0d05ff90dc6f94cf513b75df5ed84bb15d526cf1
Author: morningman <morningman@163.com>
Date:   Fri Sep 1 18:00:34 2017 +0800

    rename mongoose.c to mongoose.cpp to force it be compiled as a c++ file (#64)

 be/src/http/CMakeLists.txt               | 2 +-
 be/src/http/{mongoose.c => mongoose.cpp} | 0
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 6ec8e6e1a31a4c17a99f55a5b89170a5ab9e2126
Merge: 326a9382 954f05b7
Author: chenhao7253886 <510341142@qq.com>
Date:   Fri Sep 1 11:29:51 2017 +0800

    Merge pull request #62 from morningman/master
    
    Fix some mutil tenacy problems. Fix clone version checking bug

commit 954f05b779f434008c727cea7e6f982b8ee8ec3b
Author: morningman <morningman@163.com>
Date:   Fri Sep 1 11:25:40 2017 +0800

    fix decommission misspellings

 build.sh                                             |  6 +++---
 .../com/baidu/palo/alter/DecommissionBackendJob.java | 20 ++++++++++----------
 fe/src/com/baidu/palo/alter/SystemHandler.java       |  6 +++---
 .../palo/analysis/DecommissionBackendClause.java     | 10 +++++-----
 fe/src/com/baidu/palo/catalog/Catalog.java           |  4 ++--
 .../com/baidu/palo/common/proc/BackendsProcDir.java  |  6 +++---
 fe/src/com/baidu/palo/system/Backend.java            | 18 +++++++++---------
 fe/src/com/baidu/palo/system/SystemInfoService.java  |  4 ++--
 8 files changed, 37 insertions(+), 37 deletions(-)

commit 2ab0c26b1d95e50da78049fb9a6c2b8dd4b5b16c
Author: morningman <morningman@163.com>
Date:   Thu Aug 31 18:53:33 2017 +0800

    fix clone bug.
    In case that we want to clone a replica with version X, but a replica with stale version(less than X) is already in the dest backend.
    This will leads the clone task to success directly, which is not what we expected.
    Adding version check when doing the clone task and try to drop the replica with stale version

 be/src/agent/task_worker_pool.cpp                  |  38 ++-
 fe/src/com/baidu/palo/catalog/Catalog.java         |   2 +
 fe/src/com/baidu/palo/clone/Clone.java             |  32 +--
 fe/src/com/baidu/palo/clone/CloneChecker.java      | 275 ++++++++++++---------
 fe/src/com/baidu/palo/load/LoadChecker.java        |   4 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |   2 -
 .../com/baidu/palo/system/SystemInfoService.java   |   2 +-
 fe/src/com/baidu/palo/task/CloneTask.java          |  34 ++-
 gensrc/thrift/AgentService.thrift                  |   2 +
 9 files changed, 238 insertions(+), 153 deletions(-)

commit 168e09d2ea0b694df299d82c89d2e66043131eb4
Author: morningman <morningman@163.com>
Date:   Thu Aug 31 17:27:59 2017 +0800

    modify some name problems of multi cluster feature

 .../baidu/palo/alter/DecommissionBackendJob.java   |  79 ++--
 fe/src/com/baidu/palo/alter/SystemHandler.java     |  64 +--
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |   2 +-
 .../baidu/palo/analysis/AlterDatabaseRename.java   |   4 +-
 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  |   2 +-
 fe/src/com/baidu/palo/analysis/Analyzer.java       |   4 +-
 fe/src/com/baidu/palo/analysis/CancelLoadStmt.java |   2 +-
 fe/src/com/baidu/palo/analysis/ClusterName.java    |  10 -
 .../com/baidu/palo/analysis/CreateClusterStmt.java |   3 +-
 fe/src/com/baidu/palo/analysis/CreateDbStmt.java   |   4 +-
 fe/src/com/baidu/palo/analysis/CreateUserStmt.java |   2 +-
 .../palo/analysis/DecommissionBackendClause.java   |   2 +-
 .../com/baidu/palo/analysis/DropBackendClause.java |  12 +-
 fe/src/com/baidu/palo/analysis/DropDbStmt.java     |   4 +-
 fe/src/com/baidu/palo/analysis/DropUserStmt.java   |   2 +-
 fe/src/com/baidu/palo/analysis/GrantStmt.java      |   4 +-
 fe/src/com/baidu/palo/analysis/LabelName.java      |   4 +-
 fe/src/com/baidu/palo/analysis/LinkDbStmt.java     |  74 ++--
 fe/src/com/baidu/palo/analysis/MigrateDbStmt.java  |  68 ++--
 fe/src/com/baidu/palo/analysis/RecoverDbStmt.java  |   2 +-
 fe/src/com/baidu/palo/analysis/RevokeStmt.java     |   4 +-
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   2 +-
 fe/src/com/baidu/palo/analysis/SetPassVar.java     |   2 +-
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |   2 +-
 fe/src/com/baidu/palo/analysis/ShowAlterStmt.java  |   4 +-
 fe/src/com/baidu/palo/analysis/ShowColumnStmt.java |   2 +-
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |   2 +-
 fe/src/com/baidu/palo/analysis/ShowDataStmt.java   |   2 +-
 fe/src/com/baidu/palo/analysis/ShowDbStmt.java     |   2 +-
 fe/src/com/baidu/palo/analysis/ShowDeleteStmt.java |   4 +-
 fe/src/com/baidu/palo/analysis/ShowExportStmt.java |   6 +-
 fe/src/com/baidu/palo/analysis/ShowLoadStmt.java   |   6 +-
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |   6 +-
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |   2 +-
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |   4 +-
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java  |  12 +-
 fe/src/com/baidu/palo/analysis/ShowTabletStmt.java |   2 +-
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |   2 +-
 .../com/baidu/palo/analysis/ShowVariablesStmt.java |   4 +-
 fe/src/com/baidu/palo/analysis/TableName.java      |   4 +-
 fe/src/com/baidu/palo/analysis/UseStmt.java        |   2 +-
 fe/src/com/baidu/palo/backup/BackupHandler.java    |   4 +-
 fe/src/com/baidu/palo/backup/BackupJob.java        |   8 +-
 fe/src/com/baidu/palo/catalog/Catalog.java         | 432 ++++++++++-----------
 .../com/baidu/palo/catalog/CatalogRecycleBin.java  |   6 +-
 fe/src/com/baidu/palo/catalog/Database.java        |  47 +--
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java    |  10 +-
 fe/src/com/baidu/palo/catalog/UserProperty.java    |  23 +-
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java |   5 +-
 fe/src/com/baidu/palo/clone/CloneChecker.java      |   2 +-
 fe/src/com/baidu/palo/cluster/Cluster.java         |   4 +-
 .../com/baidu/palo/cluster/ClusterNamespace.java   |  96 ++---
 fe/src/com/baidu/palo/common/ErrorCode.java        |  26 +-
 .../baidu/palo/common/proc/BackendsProcDir.java    |   4 +-
 .../baidu/palo/common/proc/StatisticProcDir.java   |   2 +-
 fe/src/com/baidu/palo/http/BaseAction.java         |   4 +-
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |   2 +-
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiList.java     |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |   2 +-
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |   2 +-
 fe/src/com/baidu/palo/journal/JournalEntity.java   |   8 +-
 fe/src/com/baidu/palo/load/BrokerFileGroup.java    |   2 +-
 fe/src/com/baidu/palo/load/Load.java               |   4 +-
 fe/src/com/baidu/palo/mysql/MysqlProto.java        |   4 +-
 fe/src/com/baidu/palo/persist/ClusterInfo.java     |  62 +--
 fe/src/com/baidu/palo/persist/CreateTableInfo.java |   2 +-
 fe/src/com/baidu/palo/persist/EditLog.java         |  21 +-
 fe/src/com/baidu/palo/persist/OperationType.java   |   3 +-
 fe/src/com/baidu/palo/qe/ConnectContext.java       |   4 +-
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |   4 +-
 fe/src/com/baidu/palo/qe/Coordinator.java          |   2 +-
 fe/src/com/baidu/palo/qe/DdlExecutor.java          |   6 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |   8 +-
 .../baidu/palo/service/FrontendServiceImpl.java    |  14 +-
 fe/src/com/baidu/palo/system/Backend.java          |  16 +-
 .../com/baidu/palo/system/SystemInfoService.java   | 338 ++++++++--------
 .../com/baidu/palo/task/HadoopLoadPendingTask.java |   2 +-
 .../com/baidu/palo/task/MiniLoadPendingTask.java   |   2 +-
 .../com/baidu/palo/task/PullLoadPendingTask.java   |   2 +-
 gensrc/parser/sql_parser.y                         |   8 +-
 gensrc/parser/sql_scanner.flex                     |   1 +
 85 files changed, 742 insertions(+), 884 deletions(-)

commit 326a9382bd8d1aa86f85be7bb708a1f9c6a6052e
Author: morningman <morningman@163.com>
Date:   Thu Aug 31 16:42:26 2017 +0800

    add patch to remove libunwind for glog (#60)

 thirdparty/build-thirdparty.sh                     |  4 +--
 thirdparty/download-thirdparty.sh                  |  1 +
 .../glog-0.3.3-remove-unwind-dependency.patch      | 31 ++++++++++++++++++++++
 3 files changed, 34 insertions(+), 2 deletions(-)

commit 6b6dacb5eea418938d5c70904bd93d507d852378
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Thu Aug 31 09:51:24 2017 +0800

    change Cloudera Impala to Apache Impala (#59)

 README.md                               |  4 ++--
 gensrc/script/gen_builtins_functions.py | 10 +++++++---
 gensrc/script/gen_opcodes.py            | 30 ++++++++++++++++++------------
 gensrc/script/gen_vector_functions.py   | 31 ++++++++++++++++++-------------
 4 files changed, 45 insertions(+), 30 deletions(-)

commit c39bf13e8ddca315a7c78c91b88857c4675f6810
Merge: 2a31e01f c1f50546
Author: chenhao7253886 <510341142@qq.com>
Date:   Wed Aug 30 13:43:32 2017 +0800

    Merge pull request #57 from chenhao7253886/master
    
    case_expr lost largeint

commit c1f50546ad3dbb4a3b8692c94b0b8a24da5328c3
Author: chenhao16 <chenhao16@baidu.com>
Date:   Wed Aug 30 13:42:19 2017 +0800

    case_expr lost largeint

 be/src/exprs/case_expr.cpp | 6 ++++++
 1 file changed, 6 insertions(+)

commit 2a31e01ff160f5ce6796c95c78cd176bbc391234
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Wed Aug 30 09:10:39 2017 +0800

    add thirdparty.tar.gz suffix (#56)

 docs/admin_guide/install.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74f08f1fca0c93bd127d11496797d0989aad78bc
Author: morningman <morningman@163.com>
Date:   Tue Aug 29 19:22:07 2017 +0800

    remove libunwind (#55)

 be/CMakeLists.txt              | 6 +-----
 thirdparty/build-thirdparty.sh | 5 ++---
 2 files changed, 3 insertions(+), 8 deletions(-)

commit 029c0bf20d6f845203ff5343a0a259b71c5f7e4b
Merge: 7c278c9f eab34571
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Aug 29 11:27:58 2017 +0800

    Merge pull request #54 from chenhao7253886/master
    
    query and pull load select an backend that does't belong to the clust…

commit eab3457171ddabd798b69e5d6ff08afc563ac9e9
Author: chenhao16 <chenhao16@baidu.com>
Date:   Tue Aug 29 11:26:37 2017 +0800

    query and pull load select an backend that does't belong to the cluster which it is located

 fe/src/com/baidu/palo/load/ExportJob.java           |  7 ++++++-
 fe/src/com/baidu/palo/qe/Coordinator.java           |  7 +++++--
 fe/src/com/baidu/palo/system/SystemInfoService.java | 17 ++++++++++++++++-
 fe/src/com/baidu/palo/task/PullLoadTask.java        |  2 +-
 4 files changed, 28 insertions(+), 5 deletions(-)

commit 7c278c9f921c6c6efb0aeb0f8c79c440492f1685
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Tue Aug 29 11:25:13 2017 +0800

    fix #49 add .tar.gz suffix (#53)

 docs/admin_guide/install.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aded523b2ad8448a89edb396da882e2c13952c39
Merge: 01f3d385 5cfef487
Author: chenhao7253886 <510341142@qq.com>
Date:   Tue Aug 29 10:14:14 2017 +0800

    Merge pull request #52 from chenhao7253886/master
    
    compile failed

commit 5cfef4872cd77c35aceb8fbb86266497ba1f0279
Author: chenhao16 <chenhao16@baidu.com>
Date:   Tue Aug 29 10:13:03 2017 +0800

    compile failed

 fe/src/com/baidu/palo/persist/EditLog.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 01f3d385620d8a2b0cc718e36f9a3ea7ee855570
Merge: fb45b606 a5c53c4d
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Aug 28 15:37:27 2017 +0800

    Merge pull request #51 from chenhao7253886/master
    
    modify sql_scanner and remove multi host restrict when check tablets …

commit a5c53c4de2cd8a8f7f62e1c816b76e80da0332be
Author: chenhao16 <chenhao16@baidu.com>
Date:   Mon Aug 28 15:34:34 2017 +0800

    modify sql_scanner and remove multi host restrict when check tablets in clonechecker

 fe/src/com/baidu/palo/clone/CloneChecker.java | 10 ++--------
 gensrc/parser/sql_scanner.flex                |  1 +
 2 files changed, 3 insertions(+), 8 deletions(-)

commit fb45b606e33edc6e584305ef09693fa4ca75d50d
Author: morningman <morningman@163.com>
Date:   Mon Aug 28 09:48:50 2017 +0800

    Update install.md
    
    fix some misspellings

 docs/admin_guide/install.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ab681f9398b986fbb1dc6866edb9c59c35e6450e
Author: chenhao7253886 <510341142@qq.com>
Date:   Sat Aug 26 21:29:28 2017 +0800

    support for cluster can acquire multi be in same host and fixed some issues (#47)
    
    * cluster can acquire more backends in same host
    
    * compile failed
    
    * count* 's subquery with orderby exec error
    
    * modify show processlist result and check name format error
    
    * merge log and add cancel cluster for root, show backends for users in cluster
    
    * returns null when the param does not match
    
    * update UpdateClusterAndBackends to BackendIdsUpdateInfo
    
    * correct Licenses

 .../baidu/palo/alter/DecommissionBackendJob.java   |  33 +-
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |   2 +-
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |   2 +-
 .../baidu/palo/analysis/CancelAlterSystemStmt.java |   4 +-
 .../com/baidu/palo/analysis/ShowBackendsStmt.java  |  40 +++
 .../baidu/palo/analysis/ShowProcesslistStmt.java   |   1 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |  42 ++-
 fe/src/com/baidu/palo/clone/CloneChecker.java      | 234 +++++++++----
 fe/src/com/baidu/palo/cluster/Cluster.java         |  11 +-
 .../com/baidu/palo/cluster/ClusterNamespace.java   |  12 +-
 fe/src/com/baidu/palo/common/ErrorCode.java        |   2 +-
 .../baidu/palo/common/proc/BackendsProcDir.java    | 194 ++++++-----
 fe/src/com/baidu/palo/journal/JournalEntity.java   |   5 +
 .../baidu/palo/persist/BackendIdsUpdateInfo.java   |  61 ++++
 fe/src/com/baidu/palo/persist/EditLog.java         |  10 +
 fe/src/com/baidu/palo/persist/OperationType.java   |   2 +
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   2 +-
 fe/src/com/baidu/palo/qe/ConnectContext.java       |   5 +-
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |  11 +
 fe/src/com/baidu/palo/system/Backend.java          |  48 +--
 .../com/baidu/palo/system/SystemInfoService.java   | 372 +++++++++++++--------
 gensrc/parser/sql_parser.y                         |  12 +-
 22 files changed, 765 insertions(+), 340 deletions(-)

commit 5342c6dbc8eb0f30c055399084c59da4f9b943c8
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Fri Aug 25 16:51:03 2017 +0800

    add start_broker to install.md (#46)

 docs/admin_guide/install.md | 4 ++++
 1 file changed, 4 insertions(+)

commit c014bc88cd4b755225a338d371e8c31bff773145
Author: morningman <morningman@163.com>
Date:   Wed Aug 23 15:36:27 2017 +0800

    update be/CMakeLists.txt, change the way to set some variables (#44)

 be/CMakeLists.txt | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 6a87b0e464708f5d419799bce1a1244e7c49bf8b
Author: morningman <morningman@163.com>
Date:   Wed Aug 23 11:06:13 2017 +0800

    Update install.md
    
    Fix link of pre-compilation binaries

 docs/admin_guide/install.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b5d05f5d190a36c8608b96d36e79e459cd58af0
Author: morningman <morningman@163.com>
Date:   Tue Aug 22 19:57:34 2017 +0800

    Update install.md
    
    fix format problem

 docs/admin_guide/install.md | 27 ++++++++++++++-------------
 1 file changed, 14 insertions(+), 13 deletions(-)

commit eeaf4b2ad6004f6a9627c5ed60c06978166bc76e
Author: morningman <morningman@163.com>
Date:   Tue Aug 22 19:54:07 2017 +0800

    update install.md
    
    update pre-compilation binaries.
    add docker image and it's usage.

 docs/admin_guide/install.md | 44 ++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 40 insertions(+), 4 deletions(-)

commit 928c09d11ba47061adb0d44c8932aa09349181a0
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Tue Aug 22 10:23:17 2017 +0800

    change version (#43)
    
    change Palo version to 0.8.0

 gensrc/script/gen_build_version.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9629a7e7425b29325f4bde839286965a0687caac
Author: morningman <morningman@163.com>
Date:   Tue Aug 22 10:05:38 2017 +0800

    add detail explanation of FE configurations. (#42)

 conf/fe.conf                             |   8 +-
 fe/src/com/baidu/palo/common/Config.java | 316 ++++++++++++++++++++++++++++---
 2 files changed, 299 insertions(+), 25 deletions(-)

commit f80aa735709bd96231c400502c262654bd4e861c
Merge: be3d7efd 3b5818d9
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Aug 21 13:26:52 2017 +0800

    Merge pull request #39 from chenhao7253886/master
    
    materialize scannode slot for case 'select count* from select xxxx fr…

commit 3b5818d927f2ff925adea199b429cb43faf7e53f
Author: chenhao16 <chenhao16@baidu.com>
Date:   Mon Aug 21 13:26:35 2017 +0800

    materialize scannode slot for case 'select count* from select xxxx from xxxx'

 fe/src/com/baidu/palo/analysis/Analyzer.java       | 50 +++++++++++++++++++++
 fe/src/com/baidu/palo/planner/Planner.java         | 51 +---------------------
 .../com/baidu/palo/planner/SingleNodePlanner.java  |  9 ++--
 3 files changed, 54 insertions(+), 56 deletions(-)

commit be3d7efd0bbd76ab0d3836a884b1db3ef2900167
Merge: 9dc4d9b6 8e90fa14
Author: chenhao7253886 <510341142@qq.com>
Date:   Mon Aug 21 11:24:28 2017 +0800

    Merge pull request #38 from cyongli/master
    
    revert dpp schedular

commit 8e90fa1419e97b5d8e4f4b046c88c9b6dde5c360
Author: cyongli <lichaoyong121@qq.com>
Date:   Mon Aug 21 11:21:57 2017 +0800

    revert dpp schedular

 fe/src/com/baidu/palo/load/DppScheduler.java | 144 +++++++++++++--------------
 1 file changed, 72 insertions(+), 72 deletions(-)

commit 9dc4d9b6e6a04fabb174b90558e94d4d2193a4cc
Author: morningman <morningman@163.com>
Date:   Mon Aug 21 10:57:40 2017 +0800

    Update CMakeLists.txt
    
    set gcc compiler variable CMAKE_C_COMPILER and CMAKE_CXX_COMPILER before checking gcc's version

 be/CMakeLists.txt | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 57a11efd3d3d85d4bd131410fbcc0dd1a6c01707
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Sun Aug 20 15:20:20 2017 +0800

    make exec_mem_limit valid for broker load (#37)

 be/src/runtime/runtime_state.h                     |  2 +-
 docs/user_guide/sql_reference.md                   |  6 ++--
 fe/src/com/baidu/palo/analysis/LoadStmt.java       |  2 ++
 fe/src/com/baidu/palo/common/FeConstants.java      |  2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |  3 ++
 fe/src/com/baidu/palo/load/Load.java               | 10 ++++++
 fe/src/com/baidu/palo/load/LoadJob.java            | 16 +++++++++-
 fe/src/com/baidu/palo/qe/Coordinator.java          |  8 +++++
 fe/src/com/baidu/palo/task/LoadEtlTask.java        | 36 ++++++++++++----------
 fe/src/com/baidu/palo/task/PullLoadEtlTask.java    | 15 +++++++++
 fe/src/com/baidu/palo/task/PullLoadJob.java        |  4 +++
 .../com/baidu/palo/task/PullLoadPendingTask.java   |  2 +-
 fe/src/com/baidu/palo/task/PullLoadTask.java       |  8 +++--
 13 files changed, 89 insertions(+), 25 deletions(-)

commit 9f0853b4042aee8d343681ada623f691eda4da24
Merge: e561dd74 11f467f3
Author: chenhao7253886 <510341142@qq.com>
Date:   Sun Aug 20 12:19:19 2017 +0800

    Merge pull request #36 from chenhao7253886/master
    
    persist decommission type and load check lost cluster property

commit 11f467f3444aa85017072ff60931b8c31bfd6ebe
Author: chenhao16 <chenhao16@baidu.com>
Date:   Sun Aug 20 12:15:05 2017 +0800

    persist decommission type and load check lost cluster property

 fe/src/com/baidu/palo/alter/DecommissionBackendJob.java | 12 +++++++++++-
 fe/src/com/baidu/palo/analysis/LoadStmt.java            |  1 +
 fe/src/com/baidu/palo/common/FeConstants.java           |  2 +-
 fe/src/com/baidu/palo/common/FeMetaVersion.java         |  3 +++
 4 files changed, 16 insertions(+), 2 deletions(-)

commit e561dd7414d6f9b92a30298a304ed4a95a62e1b1
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Sat Aug 19 22:05:09 2017 +0800

    include math.h in olap_utils.h (#35)

 be/src/exec/olap_utils.h | 2 ++
 1 file changed, 2 insertions(+)

commit cf99230f9ea49c8b39ba699a58cd51021737f003
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Sat Aug 19 21:35:10 2017 +0800

    Close #19 fix machine hostname is resolved to loopback address (#34)

 be/src/agent/task_worker_pool.cpp                  |   3 +-
 be/src/agent/utils.cpp                             |  19 ----
 be/src/agent/utils.h                               |   3 -
 be/src/exec/analytic_eval_node.cpp                 |   2 +-
 be/src/exec/olap_scanner.cpp                       |   4 +-
 be/src/http/action/mini_load.cpp                   |   3 +-
 be/src/runtime/CMakeLists.txt                      |   2 +-
 be/src/runtime/broker_mgr.cpp                      |   3 +-
 be/src/runtime/buffered_tuple_stream.cpp           |  52 +++++++++++
 be/src/runtime/buffered_tuple_stream.h             |  17 ++++
 be/src/runtime/buffered_tuple_stream.hpp           | 101 ---------------------
 be/src/runtime/buffered_tuple_stream_ir.cpp        |   2 +-
 be/src/runtime/etl_job_mgr.cpp                     |   3 +-
 be/src/runtime/exec_env.cpp                        |   2 -
 be/src/runtime/exec_env.h                          |   5 -
 be/src/runtime/fragment_mgr.cpp                    |   3 +-
 be/src/runtime/runtime_state.cpp                   |   3 +-
 be/src/runtime/runtime_state.h                     |   2 -
 be/src/service/CMakeLists.txt                      |   1 +
 be/src/service/backend_options.cpp                 |  60 ++++++++++++
 be/src/service/backend_options.h                   |  36 ++++++++
 be/src/service/backend_service.cpp                 |   6 +-
 be/src/service/palo_main.cpp                       |   3 +
 be/src/util/network_util.cpp                       |  37 ++++++--
 be/src/util/network_util.h                         |  13 ++-
 be/test/agent/utils_test.cpp                       |   7 +-
 fe/src/com/baidu/palo/PaloFe.java                  |   2 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |  20 +---
 fe/src/com/baidu/palo/common/util/NetUtils.java    |  39 ++++++--
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  |   9 +-
 fe/src/com/baidu/palo/planner/SchemaScanNode.java  |  11 +--
 fe/src/com/baidu/palo/qe/Coordinator.java          |  12 +--
 fe/src/com/baidu/palo/service/FeServer.java        |  13 +--
 fe/src/com/baidu/palo/service/FrontendOptions.java |  69 ++++++++++++++
 .../baidu/palo/service/FrontendServiceImpl.java    |  18 ++--
 .../com/baidu/palo/system/SystemInfoService.java   |   5 -
 .../com/baidu/palo/task/ExportExportingTask.java   |  10 +-
 37 files changed, 359 insertions(+), 241 deletions(-)

commit 71f06aef08e8c40c99971433bd14986f9df364d5
Author: morningman <morningman@163.com>
Date:   Sat Aug 19 14:42:15 2017 +0800

    fix missing cluster name when get info via http (#33)
    
    * modify thirdparty/build-thirdparty.sh to fix compilation bug of thrift. (#10)
    update pre-compile binaries.
    
    * fix export LD_LIBRARY_PATH in build-thirdparty.sh
    
    * fix export LD_LIBRARY_PATH in build-thirdparty.sh
    
    * fix missing cluster name bug when get load job info via http.
    fix compilation bugs in fe unit test

 fe/src/com/baidu/palo/clone/CloneChecker.java      |  20 +++--
 fe/src/com/baidu/palo/http/BaseAction.java         |  27 +++---
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |  18 ++--
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |   4 +-
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |   8 +-
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |   9 +-
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |  13 ++-
 fe/src/com/baidu/palo/http/rest/MultiList.java     |  13 ++-
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |  12 ++-
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |   9 +-
 fe/src/com/baidu/palo/load/Load.java               |  48 +++++-----
 .../com/baidu/palo/analysis/AccessTestUtil.java    |  29 +++---
 .../baidu/palo/analysis/AddColumnClauseTest.java   |  18 ++--
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |  26 +++---
 fe/test/com/baidu/palo/analysis/ColumnTest.java    |  18 ++--
 .../baidu/palo/analysis/CreateTableStmtTest.java   |  76 ++++++++--------
 fe/test/com/baidu/palo/analysis/LoadStmtTest.java  |  16 ++--
 .../palo/analysis/ModifyColumnClauseTest.java      |  10 +--
 fe/test/com/baidu/palo/catalog/BackendTest.java    |  69 +++++++-------
 .../com/baidu/palo/catalog/CreateTableTest.java    |  62 +++++++------
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |  63 +++++++------
 fe/test/com/baidu/palo/common/GenericPoolTest.java |  86 ++++++++++++++----
 .../palo/common/proc/BackendProcNodeTest.java      |  33 ++++---
 .../palo/common/proc/BackendsProcDirTest.java      |  39 ++++----
 .../baidu/palo/common/util/RuntimeProfileTest.java |  50 +++++------
 .../com/baidu/palo/common/util/UnitTestUtil.java   |  26 +++---
 fe/test/com/baidu/palo/load/LoadTest.java          |  40 ++++-----
 fe/test/com/baidu/palo/qe/CoordinatorTest.java     |  99 ++++++++++-----------
 fe/test/com/baidu/palo/qe/SimpleSchedulerTest.java |  64 +++++++------
 thirdparty/java-libraries.tar.gz                   | Bin 24899530 -> 25363747 bytes
 30 files changed, 546 insertions(+), 459 deletions(-)

commit fff8e6a935e71c698f00fbeaba6312026d68962c
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Fri Aug 18 21:50:42 2017 +0800

    Fix memory leak sometimes when query failed

 be/src/runtime/data_stream_recvr.cc | 7 +++++++
 1 file changed, 7 insertions(+)

commit 6486be64c319fe0beb8c6b4430c1662de54f182e
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Fri Aug 18 19:16:23 2017 +0800

    fix license statement (#29)
    
    * change picture to word
    
    * change picture to word
    
    * SHOW FULL TABLES WHERE Table_type != VIEW sql can not execute
    
    * change license description

 be/CMakeLists.txt                                  | 10 ++--
 be/src/aes/CMakeLists.txt                          | 14 ++---
 be/src/aes/my_aes.cpp                              | 31 +++++------
 be/src/aes/my_aes.h                                | 31 ++++++-----
 be/src/aes/my_aes_impl.h                           | 28 +++++-----
 be/src/aes/my_aes_openssl.cpp                      | 30 +++++------
 be/src/agent/CMakeLists.txt                        | 10 ++--
 be/src/agent/agent_server.cpp                      | 10 ++--
 be/src/agent/agent_server.h                        | 10 ++--
 be/src/agent/cgroups_mgr.cpp                       | 10 ++--
 be/src/agent/cgroups_mgr.h                         | 10 ++--
 be/src/agent/file_downloader.cpp                   | 10 ++--
 be/src/agent/file_downloader.h                     | 10 ++--
 be/src/agent/heartbeat_server.cpp                  | 10 ++--
 be/src/agent/heartbeat_server.h                    | 10 ++--
 be/src/agent/pusher.cpp                            | 10 ++--
 be/src/agent/pusher.h                              | 10 ++--
 be/src/agent/status.h                              | 10 ++--
 be/src/agent/task_worker_pool.cpp                  | 10 ++--
 be/src/agent/task_worker_pool.h                    | 10 ++--
 be/src/agent/topic_listener.h                      | 10 ++--
 be/src/agent/topic_subscriber.cpp                  | 10 ++--
 be/src/agent/topic_subscriber.h                    | 10 ++--
 be/src/agent/user_resource_listener.cpp            | 10 ++--
 be/src/agent/user_resource_listener.h              | 10 ++--
 be/src/agent/utils.cpp                             | 10 ++--
 be/src/agent/utils.h                               | 10 ++--
 be/src/exec/broker_reader.cpp                      | 10 ++--
 be/src/exec/broker_reader.h                        | 10 ++--
 be/src/exec/broker_scan_node.cpp                   | 10 ++--
 be/src/exec/broker_scan_node.h                     | 10 ++--
 be/src/exec/broker_scanner.cpp                     | 10 ++--
 be/src/exec/broker_scanner.h                       | 10 ++--
 be/src/exec/broker_writer.cpp                      | 10 ++--
 be/src/exec/broker_writer.h                        | 10 ++--
 be/src/exec/csv_scan_node.cpp                      | 10 ++--
 be/src/exec/csv_scan_node.h                        | 10 ++--
 be/src/exec/csv_scanner.cpp                        | 10 ++--
 be/src/exec/csv_scanner.h                          | 10 ++--
 be/src/exec/empty_set_node.cpp                     | 10 ++--
 be/src/exec/empty_set_node.h                       | 10 ++--
 be/src/exec/file_writer.h                          | 10 ++--
 be/src/exec/local_file_reader.cpp                  | 10 ++--
 be/src/exec/local_file_writer.cpp                  | 10 ++--
 be/src/exec/local_file_writer.h                    | 10 ++--
 be/src/exec/mysql_scan_node.cpp                    | 10 ++--
 be/src/exec/mysql_scan_node.h                      | 10 ++--
 be/src/exec/mysql_scanner.cpp                      | 10 ++--
 be/src/exec/mysql_scanner.h                        | 10 ++--
 be/src/exec/olap_common.cpp                        | 10 ++--
 be/src/exec/olap_common.h                          | 10 ++--
 be/src/exec/olap_meta_reader.cpp                   | 10 ++--
 be/src/exec/olap_meta_reader.h                     | 10 ++--
 be/src/exec/olap_rewrite_node.cpp                  | 10 ++--
 be/src/exec/olap_rewrite_node.h                    | 10 ++--
 be/src/exec/olap_scan_node.cpp                     | 10 ++--
 be/src/exec/olap_scan_node.h                       | 10 ++--
 be/src/exec/olap_scanner.cpp                       | 10 ++--
 be/src/exec/olap_scanner.h                         | 10 ++--
 be/src/exec/olap_utils.h                           | 10 ++--
 be/src/exec/pl_task_root.h                         | 53 ++++++++++++++++++
 be/src/exec/scanner_ir.cpp                         | 62 ++++++++++++++++++++++
 be/src/exprs/json_functions.cpp                    | 10 ++--
 be/src/exprs/json_functions.h                      | 10 ++--
 be/src/gen_cpp/CMakeLists.txt                      | 10 ++--
 be/src/http/action/checksum_action.cpp             | 10 ++--
 be/src/http/action/checksum_action.h               | 10 ++--
 be/src/http/action/health_action.cpp               | 10 ++--
 be/src/http/action/health_action.h                 | 10 ++--
 be/src/http/action/mini_load.cpp                   | 10 ++--
 be/src/http/action/mini_load.h                     | 10 ++--
 be/src/http/action/pprof_actions.cpp               | 10 ++--
 be/src/http/action/pprof_actions.h                 | 10 ++--
 be/src/http/action/reload_tablet_action.cpp        | 10 ++--
 be/src/http/action/reload_tablet_action.h          | 10 ++--
 be/src/http/action/snapshot_action.cpp             | 10 ++--
 be/src/http/action/snapshot_action.h               | 10 ++--
 be/src/http/default_path_handlers.cpp              | 10 ++--
 be/src/http/default_path_handlers.h                | 10 ++--
 be/src/http/download_action.cpp                    | 10 ++--
 be/src/http/download_action.h                      | 10 ++--
 be/src/http/http_channel.cpp                       | 10 ++--
 be/src/http/http_channel.h                         | 10 ++--
 be/src/http/http_handler.h                         | 10 ++--
 be/src/http/http_headers.cpp                       | 10 ++--
 be/src/http/http_headers.h                         | 10 ++--
 be/src/http/http_method.cpp                        | 10 ++--
 be/src/http/http_method.h                          | 10 ++--
 be/src/http/http_parser.cpp                        | 10 ++--
 be/src/http/http_parser.h                          | 10 ++--
 be/src/http/http_request.cpp                       | 10 ++--
 be/src/http/http_request.h                         | 10 ++--
 be/src/http/http_response.cpp                      | 10 ++--
 be/src/http/http_response.h                        | 10 ++--
 be/src/http/http_status.cpp                        | 10 ++--
 be/src/http/http_status.h                          | 10 ++--
 be/src/http/mongoose.h                             | 29 +++++-----
 be/src/http/monitor_action.cpp                     | 10 ++--
 be/src/http/monitor_action.h                       | 10 ++--
 be/src/http/rest_monitor_iface.h                   | 10 ++--
 be/src/http/web_page_handler.cpp                   | 10 ++--
 be/src/http/web_page_handler.h                     | 10 ++--
 be/src/http/webserver.cpp                          | 10 ++--
 be/src/http/webserver.h                            | 10 ++--
 be/src/olap/CMakeLists.txt                         | 10 ++--
 be/src/olap/atomic.h                               | 10 ++--
 be/src/olap/base_expansion_handler.cpp             | 10 ++--
 be/src/olap/base_expansion_handler.h               | 10 ++--
 be/src/olap/bhp_lib.h                              | 10 ++--
 be/src/olap/column_file/bit_field_reader.cpp       | 10 ++--
 be/src/olap/column_file/bit_field_reader.h         | 10 ++--
 be/src/olap/column_file/bit_field_writer.cpp       | 10 ++--
 be/src/olap/column_file/bit_field_writer.h         | 10 ++--
 be/src/olap/column_file/bloom_filter.hpp           | 10 ++--
 be/src/olap/column_file/bloom_filter_reader.cpp    | 10 ++--
 be/src/olap/column_file/bloom_filter_reader.h      | 10 ++--
 be/src/olap/column_file/bloom_filter_writer.cpp    | 10 ++--
 be/src/olap/column_file/bloom_filter_writer.h      | 10 ++--
 be/src/olap/column_file/byte_buffer.cpp            | 10 ++--
 be/src/olap/column_file/byte_buffer.h              | 10 ++--
 be/src/olap/column_file/column_data.cpp            | 10 ++--
 be/src/olap/column_file/column_data.h              | 10 ++--
 be/src/olap/column_file/column_reader.cpp          | 10 ++--
 be/src/olap/column_file/column_reader.h            | 10 ++--
 be/src/olap/column_file/column_writer.cpp          | 10 ++--
 be/src/olap/column_file/column_writer.h            | 10 ++--
 be/src/olap/column_file/compress.cpp               | 10 ++--
 be/src/olap/column_file/compress.h                 | 10 ++--
 be/src/olap/column_file/data_writer.cpp            | 10 ++--
 be/src/olap/column_file/data_writer.h              | 10 ++--
 be/src/olap/column_file/file_stream.cpp            | 10 ++--
 be/src/olap/column_file/file_stream.h              | 10 ++--
 be/src/olap/column_file/in_stream.cpp              | 10 ++--
 be/src/olap/column_file/in_stream.h                | 10 ++--
 be/src/olap/column_file/out_stream.cpp             | 10 ++--
 be/src/olap/column_file/out_stream.h               | 10 ++--
 be/src/olap/column_file/run_length_byte_reader.cpp | 10 ++--
 be/src/olap/column_file/run_length_byte_reader.h   | 10 ++--
 be/src/olap/column_file/run_length_byte_writer.cpp | 10 ++--
 be/src/olap/column_file/run_length_byte_writer.h   | 10 ++--
 .../olap/column_file/run_length_integer_reader.cpp | 10 ++--
 .../olap/column_file/run_length_integer_reader.h   | 10 ++--
 .../olap/column_file/run_length_integer_writer.cpp | 10 ++--
 .../olap/column_file/run_length_integer_writer.h   | 10 ++--
 be/src/olap/column_file/segment_reader.cpp         | 10 ++--
 be/src/olap/column_file/segment_reader.h           | 10 ++--
 be/src/olap/column_file/segment_writer.cpp         | 10 ++--
 be/src/olap/column_file/segment_writer.h           | 10 ++--
 be/src/olap/column_file/serialize.cpp              | 10 ++--
 be/src/olap/column_file/serialize.h                | 10 ++--
 be/src/olap/column_file/stream_index_common.cpp    | 10 ++--
 be/src/olap/column_file/stream_index_common.h      | 10 ++--
 be/src/olap/column_file/stream_index_reader.cpp    | 10 ++--
 be/src/olap/column_file/stream_index_reader.h      | 10 ++--
 be/src/olap/column_file/stream_index_writer.cpp    | 10 ++--
 be/src/olap/column_file/stream_index_writer.h      | 10 ++--
 be/src/olap/column_file/stream_name.cpp            | 10 ++--
 be/src/olap/column_file/stream_name.h              | 10 ++--
 be/src/olap/command_executor.cpp                   | 10 ++--
 be/src/olap/command_executor.h                     | 10 ++--
 be/src/olap/cumulative_handler.cpp                 | 10 ++--
 be/src/olap/cumulative_handler.h                   | 10 ++--
 be/src/olap/delete_handler.cpp                     | 10 ++--
 be/src/olap/delete_handler.h                       | 10 ++--
 be/src/olap/field.cpp                              | 10 ++--
 be/src/olap/field.h                                | 10 ++--
 be/src/olap/file_helper.cpp                        | 10 ++--
 be/src/olap/file_helper.h                          | 10 ++--
 be/src/olap/i_data.cpp                             | 10 ++--
 be/src/olap/i_data.h                               | 10 ++--
 be/src/olap/lru_cache.cpp                          | 10 ++--
 be/src/olap/lru_cache.h                            | 10 ++--
 be/src/olap/merger.cpp                             | 10 ++--
 be/src/olap/merger.h                               | 10 ++--
 be/src/olap/olap_common.h                          | 10 ++--
 be/src/olap/olap_cond.cpp                          | 10 ++--
 be/src/olap/olap_cond.h                            | 10 ++--
 be/src/olap/olap_data.cpp                          | 10 ++--
 be/src/olap/olap_data.h                            | 10 ++--
 be/src/olap/olap_define.h                          | 10 ++--
 be/src/olap/olap_engine.cpp                        | 10 ++--
 be/src/olap/olap_engine.h                          | 10 ++--
 be/src/olap/olap_header.cpp                        | 10 ++--
 be/src/olap/olap_header.h                          | 10 ++--
 be/src/olap/olap_index.cpp                         | 10 ++--
 be/src/olap/olap_index.h                           | 10 ++--
 be/src/olap/olap_main.cpp                          | 10 ++--
 be/src/olap/olap_main.h                            | 10 ++--
 be/src/olap/olap_reader.cpp                        | 10 ++--
 be/src/olap/olap_reader.h                          | 10 ++--
 be/src/olap/olap_rootpath.cpp                      | 10 ++--
 be/src/olap/olap_rootpath.h                        | 10 ++--
 be/src/olap/olap_server.cpp                        | 10 ++--
 be/src/olap/olap_server.h                          | 10 ++--
 be/src/olap/olap_snapshot.cpp                      | 10 ++--
 be/src/olap/olap_snapshot.h                        | 10 ++--
 be/src/olap/olap_table.cpp                         | 10 ++--
 be/src/olap/olap_table.h                           | 10 ++--
 be/src/olap/push_handler.cpp                       | 10 ++--
 be/src/olap/push_handler.h                         | 10 ++--
 be/src/olap/reader.cpp                             | 10 ++--
 be/src/olap/reader.h                               | 10 ++--
 be/src/olap/row_block.cpp                          | 10 ++--
 be/src/olap/row_block.h                            | 10 ++--
 be/src/olap/row_cursor.cpp                         | 10 ++--
 be/src/olap/row_cursor.h                           | 10 ++--
 be/src/olap/schema_change.cpp                      | 10 ++--
 be/src/olap/schema_change.h                        | 10 ++--
 be/src/olap/utils.cpp                              | 10 ++--
 be/src/olap/utils.h                                | 10 ++--
 be/src/olap/writer.cpp                             | 10 ++--
 be/src/olap/writer.h                               | 10 ++--
 be/src/rpc/CMakeLists.txt                          | 10 ++--
 be/src/rpc/application_handler.h                   | 10 ++--
 be/src/rpc/application_queue.h                     | 10 ++--
 be/src/rpc/application_queue_interface.h           | 10 ++--
 be/src/rpc/byte_string.h                           | 10 ++--
 be/src/rpc/checksum.cpp                            | 10 ++--
 be/src/rpc/checksum.h                              | 10 ++--
 be/src/rpc/clock.h                                 | 10 ++--
 be/src/rpc/comm.cpp                                | 10 ++--
 be/src/rpc/comm.h                                  | 10 ++--
 be/src/rpc/comm_address.cpp                        | 10 ++--
 be/src/rpc/comm_address.h                          | 10 ++--
 be/src/rpc/comm_buf.h                              | 10 ++--
 be/src/rpc/comm_header.cpp                         | 10 ++--
 be/src/rpc/comm_header.h                           | 10 ++--
 be/src/rpc/compat.h                                | 10 ++--
 be/src/rpc/compat_c.h                              | 10 ++--
 be/src/rpc/connection_handler_factory.h            | 10 ++--
 be/src/rpc/connection_initializer.h                | 10 ++--
 be/src/rpc/connection_manager.cpp                  | 10 ++--
 be/src/rpc/connection_manager.h                    | 10 ++--
 be/src/rpc/dispatch_handler.h                      | 10 ++--
 be/src/rpc/dispatch_handler_synchronizer.cpp       | 10 ++--
 be/src/rpc/dispatch_handler_synchronizer.h         | 10 ++--
 be/src/rpc/dynamic_buffer.h                        | 10 ++--
 be/src/rpc/endian_c.h                              | 10 ++--
 be/src/rpc/error.cpp                               | 10 ++--
 be/src/rpc/error.h                                 | 10 ++--
 be/src/rpc/event.cpp                               | 10 ++--
 be/src/rpc/event.h                                 | 10 ++--
 be/src/rpc/expire_timer.h                          | 10 ++--
 be/src/rpc/fast_clock.cpp                          | 10 ++--
 be/src/rpc/fast_clock.h                            | 10 ++--
 be/src/rpc/file_utils.cpp                          | 10 ++--
 be/src/rpc/file_utils.h                            | 10 ++--
 be/src/rpc/handler_map.cpp                         | 10 ++--
 be/src/rpc/handler_map.h                           | 10 ++--
 be/src/rpc/inet_addr.cpp                           | 10 ++--
 be/src/rpc/inet_addr.h                             | 10 ++--
 be/src/rpc/io_handler.cpp                          | 10 ++--
 be/src/rpc/io_handler.h                            | 10 ++--
 be/src/rpc/io_handler_accept.cpp                   | 10 ++--
 be/src/rpc/io_handler_accept.h                     | 10 ++--
 be/src/rpc/io_handler_data.cpp                     | 10 ++--
 be/src/rpc/io_handler_data.h                       | 10 ++--
 be/src/rpc/io_handler_datagram.cpp                 | 10 ++--
 be/src/rpc/io_handler_datagram.h                   | 10 ++--
 be/src/rpc/io_handler_raw.cpp                      | 10 ++--
 be/src/rpc/io_handler_raw.h                        | 10 ++--
 be/src/rpc/poll_event.cpp                          | 10 ++--
 be/src/rpc/poll_event.h                            | 10 ++--
 be/src/rpc/poll_timeout.h                          | 10 ++--
 be/src/rpc/protocol.cpp                            | 10 ++--
 be/src/rpc/protocol.h                              | 10 ++--
 be/src/rpc/proxy_map.cpp                           | 10 ++--
 be/src/rpc/proxy_map.h                             | 10 ++--
 be/src/rpc/random.cpp                              | 10 ++--
 be/src/rpc/random.h                                | 10 ++--
 be/src/rpc/raw_socket_handler.h                    | 10 ++--
 be/src/rpc/reactor.cpp                             | 10 ++--
 be/src/rpc/reactor.h                               | 10 ++--
 be/src/rpc/reactor_factory.cpp                     | 10 ++--
 be/src/rpc/reactor_factory.h                       | 10 ++--
 be/src/rpc/reactor_runner.cpp                      | 10 ++--
 be/src/rpc/reactor_runner.h                        | 10 ++--
 be/src/rpc/request_cache.cpp                       | 10 ++--
 be/src/rpc/request_cache.h                         | 10 ++--
 be/src/rpc/response_callback.cpp                   | 10 ++--
 be/src/rpc/response_callback.h                     | 10 ++--
 be/src/rpc/scope_guard.h                           | 10 ++--
 be/src/rpc/serialization.h                         | 10 ++--
 be/src/rpc/serialization_c.h                       | 10 ++--
 be/src/rpc/sock_addr_map.h                         | 10 ++--
 be/src/rpc/static_buffer.h                         | 10 ++--
 be/src/rpc/string_ext.h                            | 10 ++--
 be/src/rpc/timer.h                                 | 10 ++--
 be/src/rpc/util.cpp                                | 10 ++--
 be/src/rpc/util.h                                  | 10 ++--
 be/src/runtime/broker_mgr.cpp                      | 10 ++--
 be/src/runtime/broker_mgr.h                        | 10 ++--
 be/src/runtime/data_spliter.cpp                    | 10 ++--
 be/src/runtime/data_spliter.h                      | 10 ++--
 be/src/runtime/datetime_value.cpp                  | 10 ++--
 be/src/runtime/datetime_value.h                    | 10 ++--
 be/src/runtime/decimal_value.cpp                   | 10 ++--
 be/src/runtime/decimal_value.h                     | 10 ++--
 be/src/runtime/dpp_sink.cpp                        | 10 ++--
 be/src/runtime/dpp_sink.h                          | 10 ++--
 be/src/runtime/dpp_sink_internal.cpp               | 10 ++--
 be/src/runtime/dpp_sink_internal.h                 | 10 ++--
 be/src/runtime/dpp_writer.cpp                      | 10 ++--
 be/src/runtime/dpp_writer.h                        | 10 ++--
 be/src/runtime/etl_job_mgr.cpp                     | 10 ++--
 be/src/runtime/etl_job_mgr.h                       | 10 ++--
 be/src/runtime/export_sink.cpp                     | 10 ++--
 be/src/runtime/export_sink.h                       | 10 ++--
 be/src/runtime/export_task_mgr.cpp                 | 10 ++--
 be/src/runtime/export_task_mgr.h                   | 10 ++--
 be/src/runtime/load_path_mgr.cpp                   | 10 ++--
 be/src/runtime/load_path_mgr.h                     | 10 ++--
 be/src/runtime/mysql_table_sink.cpp                | 10 ++--
 be/src/runtime/mysql_table_sink.h                  | 10 ++--
 be/src/runtime/mysql_table_writer.cpp              | 10 ++--
 be/src/runtime/mysql_table_writer.h                | 10 ++--
 be/src/runtime/pull_load_task_mgr.cpp              | 10 ++--
 be/src/runtime/pull_load_task_mgr.h                | 10 ++--
 be/src/runtime/vectorized_row_batch.cpp            | 10 ++--
 be/src/runtime/vectorized_row_batch.h              | 10 ++--
 be/src/service/CMakeLists.txt                      | 15 ++----
 be/src/service/palo_main.cpp                       | 10 ++--
 be/src/service/receiver_dispatcher.h               | 10 ++--
 be/src/util/CMakeLists.txt                         |  1 -
 be/src/util/logging.cpp                            |  0
 be/test/agent/agent_server_test.cpp                | 10 ++--
 be/test/agent/cgroups_mgr_test.cpp                 | 10 ++--
 be/test/agent/file_downloader_test.cpp             | 10 ++--
 be/test/agent/heartbeat_server_test.cpp            | 10 ++--
 be/test/agent/mock_file_downloader.h               | 10 ++--
 be/test/agent/mock_pusher.h                        | 10 ++--
 be/test/agent/mock_task_worker_pool.h              | 10 ++--
 be/test/agent/mock_utils.h                         | 10 ++--
 be/test/agent/pusher_test.cpp                      | 10 ++--
 be/test/agent/task_worker_pool_test.cpp            | 10 ++--
 be/test/agent/utils_test.cpp                       | 10 ++--
 be/test/common/resource_tls_test.cpp               | 15 ++----
 be/test/exec/broker_reader_test.cpp                | 13 ++---
 be/test/exec/broker_scan_node_test.cpp             | 10 ++--
 be/test/exec/broker_scanner_test.cpp               | 10 ++--
 be/test/exec/csv_scan_bench_test.cpp               | 15 ++----
 be/test/exec/csv_scan_node_test.cpp                | 10 ++--
 be/test/exec/csv_scanner_test.cpp                  | 15 ++----
 be/test/exec/hash_table_test.cpp                   | 13 ++---
 be/test/exec/mysql_scan_node_test.cpp              | 13 ++---
 be/test/exec/mysql_scanner_test.cpp                | 13 ++---
 be/test/exec/new_olap_scan_node_test.cpp           | 15 ++----
 be/test/exec/olap_common_test.cpp                  | 15 ++----
 be/test/exec/olap_scan_node_test.cpp               | 15 ++----
 be/test/exec/olap_scanner_test.cpp                 | 13 ++---
 be/test/exec/partitioned_hash_table_test.cpp       | 15 ++----
 be/test/exec/plain_text_line_reader_bzip_test.cpp  | 15 ++----
 be/test/exec/plain_text_line_reader_gzip_test.cpp  | 15 ++----
 .../exec/plain_text_line_reader_lz4frame_test.cpp  | 15 ++----
 be/test/exec/plain_text_line_reader_lzop_test.cpp  | 15 ++----
 .../plain_text_line_reader_uncompressed_test.cpp   | 15 ++----
 be/test/exec/schema_scan_node_test.cpp             | 13 ++---
 .../schema_scanner/schema_authors_scanner_test.cpp | 13 ++---
 .../schema_charsets_scanner_test.cpp               | 13 ++---
 .../schema_collations_scanner_test.cpp             | 13 ++---
 .../schema_scanner/schema_columns_scanner_test.cpp | 13 ++---
 .../schema_create_table_scanner_test.cpp           | 13 ++---
 .../schema_scanner/schema_engines_scanner_test.cpp | 13 ++---
 .../schema_open_tables_scanner_test.cpp            | 13 ++---
 .../schema_schemata_scanner_test.cpp               | 13 ++---
 .../schema_table_names_scanner_test.cpp            | 13 ++---
 .../schema_scanner/schema_tables_scanner_test.cpp  | 13 ++---
 .../schema_variables_scanner_test.cpp              | 13 ++---
 be/test/exec/schema_scanner_test.cpp               | 13 ++---
 be/test/exec/set_executor_test.cpp                 | 13 ++---
 be/test/exprs/binary_predicate_test.cpp            | 15 ++----
 be/test/exprs/hybird_set_test.cpp                  | 15 ++----
 be/test/exprs/in_op_test.cpp                       | 15 ++----
 be/test/exprs/in_predicate_test.cpp                | 15 ++----
 be/test/exprs/json_function_test.cpp               | 10 ++--
 be/test/olap/bit_field_test.cpp                    | 10 ++--
 be/test/olap/bloom_filter_index_test.cpp           | 10 ++--
 be/test/olap/bloom_filter_test.cpp                 | 10 ++--
 be/test/olap/byte_buffer_test.cpp                  | 10 ++--
 be/test/olap/column_reader_test.cpp                | 10 ++--
 be/test/olap/command_executor_test.cpp             | 10 ++--
 be/test/olap/delete_handler_test.cpp               | 10 ++--
 be/test/olap/file_helper_test.cpp                  | 10 ++--
 be/test/olap/file_utils_test.cpp                   | 10 ++--
 be/test/olap/lru_cache_test.cpp                    | 10 ++--
 be/test/olap/mock_command_executor.h               | 10 ++--
 be/test/olap/mock_olap_rootpath.h                  | 10 ++--
 be/test/olap/olap_reader_test.cpp                  | 10 ++--
 be/test/olap/row_block_test.cpp                    | 10 ++--
 be/test/olap/run_length_byte_test.cpp              | 10 ++--
 be/test/olap/run_length_integer_test.cpp           | 10 ++--
 be/test/olap/stream_index_test.cpp                 | 10 ++--
 be/test/olap/vectorized_olap_reader_test.cpp       | 10 ++--
 be/test/runtime/buffer_control_block_test.cpp      | 15 ++----
 be/test/runtime/buffered_block_mgr2_test.cpp       | 15 ++----
 be/test/runtime/buffered_tuple_stream2_test.cpp    | 15 ++----
 be/test/runtime/buffered_tuple_stream_test.cpp     | 13 ++---
 be/test/runtime/data_spliter_test.cpp              | 15 ++----
 be/test/runtime/data_stream_test.cpp               | 15 ++----
 be/test/runtime/datetime_value_test.cpp            | 15 ++----
 be/test/runtime/decimal_value_test.cpp             | 15 ++----
 be/test/runtime/disk_io_mgr_test.cpp               | 15 ++----
 be/test/runtime/dpp_sink_internal_test.cpp         | 15 ++----
 be/test/runtime/dpp_sink_test.cpp                  | 15 ++----
 be/test/runtime/dpp_writer_test.cpp                | 15 ++----
 be/test/runtime/etl_job_mgr_test.cpp               | 15 ++----
 be/test/runtime/export_task_mgr_test.cpp           | 10 ++--
 be/test/runtime/fragment_mgr_test.cpp              | 15 ++----
 be/test/runtime/free_list_test.cpp                 | 15 ++----
 be/test/runtime/large_int_value_test.cpp           | 13 ++---
 be/test/runtime/mem_limit_test.cpp                 | 15 ++----
 be/test/runtime/mem_pool_test.cpp                  | 15 ++----
 be/test/runtime/mysql_table_writer_test.cpp        | 13 ++---
 be/test/runtime/pull_load_task_mgr_test.cpp        | 15 ++----
 be/test/runtime/qsorter_test.cpp                   | 15 ++----
 be/test/runtime/raw_value_test.cpp                 | 15 ++----
 be/test/runtime/result_buffer_mgr_test.cpp         | 15 ++----
 be/test/runtime/result_sink_test.cpp               | 13 ++---
 be/test/runtime/result_writer_test.cpp             | 15 ++----
 be/test/runtime/sorter_test.cpp                    | 15 ++----
 be/test/runtime/string_buffer_test.cpp             | 15 ++----
 be/test/runtime/string_value_test.cpp              | 13 ++---
 be/test/runtime/thread_resource_mgr_test.cpp       | 13 ++---
 be/test/runtime/tmp_file_mgr_test.cpp              | 15 ++----
 be/test/udf/uda_test.cpp                           | 15 ++----
 be/test/udf/udf_test.cpp                           | 15 ++----
 be/test/util/bit_util_test.cpp                     | 13 ++---
 be/test/util/blocking_queue_test.cpp               | 15 ++----
 be/test/util/count_down_latch_test.cpp             | 15 ++----
 be/test/util/debug_util_test.cpp                   | 15 ++----
 be/test/util/decompress_test.cpp                   | 15 ++----
 be/test/util/filesystem_util_test.cpp              | 13 ++---
 be/test/util/internal_queue_test.cpp               | 15 ++----
 be/test/util/lru_cache_util_test.cpp               | 15 ++----
 be/test/util/metrics_test.cpp                      | 15 ++----
 be/test/util/mysql_row_buffer_test.cpp             | 15 ++----
 be/test/util/path_trie_test.cpp                    | 15 ++----
 be/test/util/perf_counters_test.cpp                | 15 ++----
 be/test/util/runtime_profile_test.cpp              | 15 ++----
 be/test/util/string_parser_test.cpp                | 15 ++----
 be/test/util/thread_pool_test.cpp                  | 15 ++----
 be/test/util/url_coding_test.cpp                   | 15 ++----
 bin/start_be.sh                                    | 10 ++--
 bin/start_fe.sh                                    | 10 ++--
 bin/stop_be.sh                                     | 10 ++--
 bin/stop_fe.sh                                     | 10 ++--
 build.sh                                           | 10 ++--
 fe/build.xml                                       | 28 +++++-----
 fe/src/com/baidu/palo/PaloFe.java                  | 10 ++--
 fe/src/com/baidu/palo/alter/Alter.java             | 10 ++--
 fe/src/com/baidu/palo/alter/AlterHandler.java      | 10 ++--
 fe/src/com/baidu/palo/alter/AlterJob.java          | 10 ++--
 .../baidu/palo/alter/DecommissionBackendJob.java   | 10 ++--
 fe/src/com/baidu/palo/alter/RollupHandler.java     | 10 ++--
 fe/src/com/baidu/palo/alter/RollupJob.java         | 10 ++--
 .../com/baidu/palo/alter/SchemaChangeHandler.java  | 10 ++--
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   | 10 ++--
 fe/src/com/baidu/palo/alter/SystemHandler.java     | 10 ++--
 .../com/baidu/palo/analysis/AddBackendClause.java  | 10 ++--
 .../com/baidu/palo/analysis/AlterSystemStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/Analyzer.java       |  5 --
 fe/src/com/baidu/palo/analysis/BrokerDesc.java     | 10 ++--
 .../baidu/palo/analysis/CancelAlterSystemStmt.java | 10 ++--
 .../baidu/palo/analysis/CancelAlterTableStmt.java  | 10 ++--
 .../com/baidu/palo/analysis/CancelBackupStmt.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/CancelLoadStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/CancelStmt.java     | 10 ++--
 .../com/baidu/palo/analysis/CreateClusterStmt.java | 10 ++--
 .../com/baidu/palo/analysis/DropBackendClause.java | 10 ++--
 .../com/baidu/palo/analysis/DropClusterStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/DropColumnClause.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/DropDbStmt.java     | 10 ++--
 .../baidu/palo/analysis/DropFollowerClause.java    | 10 ++--
 .../com/baidu/palo/analysis/DropFunctionStmt.java  | 10 ++--
 .../baidu/palo/analysis/DropObserverClause.java    | 10 ++--
 .../baidu/palo/analysis/DropPartitionClause.java   | 10 ++--
 .../com/baidu/palo/analysis/DropRollupClause.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/DropTableStmt.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/DropUserStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ExportStmt.java     | 10 ++--
 .../baidu/palo/analysis/ExprSubstitutionMap.java   |  4 +-
 fe/src/com/baidu/palo/analysis/SetTransaction.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowAlterStmt.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowAuthorStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowBackupStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowBrokerStmt.java | 10 ++--
 .../com/baidu/palo/analysis/ShowCharsetStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/ShowClusterStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/ShowCollationStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowColumnStmt.java | 10 ++--
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  | 10 ++--
 .../baidu/palo/analysis/ShowCreateTableStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowDataStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowDbStmt.java     | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowDeleteStmt.java | 10 ++--
 .../com/baidu/palo/analysis/ShowEnginesStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowEventsStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowExportStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowKeysStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowLoadStmt.java   | 10 ++--
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  | 10 ++--
 .../baidu/palo/analysis/ShowMigrationsStmt.java    | 10 ++--
 .../com/baidu/palo/analysis/ShowOpenTableStmt.java | 10 ++--
 .../baidu/palo/analysis/ShowPartitionsStmt.java    | 10 ++--
 .../com/baidu/palo/analysis/ShowPluginsStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowProcStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/ShowProcedureStmt.java | 10 ++--
 .../baidu/palo/analysis/ShowProcesslistStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowRollupStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowStatusStmt.java | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowStmt.java       | 10 ++--
 .../baidu/palo/analysis/ShowTableStatusStmt.java   | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java  | 10 ++--
 fe/src/com/baidu/palo/analysis/ShowTabletStmt.java | 10 ++--
 .../com/baidu/palo/analysis/ShowTriggersStmt.java  | 10 ++--
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  | 10 ++--
 .../com/baidu/palo/analysis/ShowVariablesStmt.java | 12 ++---
 .../com/baidu/palo/analysis/ShowWarningStmt.java   | 10 ++--
 .../com/baidu/palo/analysis/ShowWhiteListStmt.java | 10 ++--
 .../com/baidu/palo/backup/AbstractBackupJob.java   | 10 ++--
 .../baidu/palo/backup/AsynchronousCmdExecutor.java | 10 ++--
 fe/src/com/baidu/palo/backup/BackupHandler.java    | 10 ++--
 fe/src/com/baidu/palo/backup/BackupJob.java        | 10 ++--
 fe/src/com/baidu/palo/backup/BackupVersion.java    | 10 ++--
 fe/src/com/baidu/palo/backup/CommandBuilder.java   | 10 ++--
 fe/src/com/baidu/palo/backup/DirSaver.java         | 10 ++--
 fe/src/com/baidu/palo/backup/FileSaver.java        | 10 ++--
 fe/src/com/baidu/palo/backup/FileSaverI.java       | 10 ++--
 fe/src/com/baidu/palo/backup/MetaDownloadTask.java | 10 ++--
 fe/src/com/baidu/palo/backup/MetaUploadTask.java   | 10 ++--
 fe/src/com/baidu/palo/backup/ObjectWriter.java     | 10 ++--
 fe/src/com/baidu/palo/backup/PathBuilder.java      | 10 ++--
 fe/src/com/baidu/palo/backup/RestoreJob.java       | 10 ++--
 fe/src/com/baidu/palo/backup/ResultfulTask.java    | 10 ++--
 fe/src/com/baidu/palo/backup/SaveManifestTask.java | 10 ++--
 fe/src/com/baidu/palo/catalog/AggregateType.java   | 10 ++--
 fe/src/com/baidu/palo/catalog/BrokerMgr.java       | 10 ++--
 fe/src/com/baidu/palo/catalog/BrokerTable.java     | 10 ++--
 .../com/baidu/palo/catalog/CatalogRecycleBin.java  | 10 ++--
 fe/src/com/baidu/palo/catalog/DiskInfo.java        | 10 ++--
 .../com/baidu/palo/catalog/DomainParserServer.java | 10 ++--
 .../baidu/palo/catalog/HashDistributionInfo.java   | 10 ++--
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java    | 11 ----
 fe/src/com/baidu/palo/catalog/MysqlTable.java      | 10 ++--
 fe/src/com/baidu/palo/catalog/OlapTable.java       | 10 ++--
 fe/src/com/baidu/palo/catalog/Partition.java       | 10 ++--
 fe/src/com/baidu/palo/catalog/PartitionInfo.java   | 10 ++--
 fe/src/com/baidu/palo/catalog/PartitionKey.java    | 10 ++--
 fe/src/com/baidu/palo/catalog/PartitionType.java   | 10 ++--
 .../baidu/palo/catalog/RandomDistributionInfo.java | 10 ++--
 .../com/baidu/palo/catalog/RangePartitionInfo.java | 10 ++--
 fe/src/com/baidu/palo/catalog/Replica.java         | 10 ++--
 fe/src/com/baidu/palo/catalog/Tablet.java          | 10 ++--
 fe/src/com/baidu/palo/catalog/TabletMeta.java      | 10 ++--
 fe/src/com/baidu/palo/catalog/UserProperty.java    | 10 ++--
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java | 10 ++--
 fe/src/com/baidu/palo/catalog/UserResource.java    | 10 ++--
 fe/src/com/baidu/palo/catalog/WhiteList.java       | 10 ++--
 fe/src/com/baidu/palo/clone/Clone.java             | 10 ++--
 fe/src/com/baidu/palo/clone/CloneChecker.java      | 10 ++--
 fe/src/com/baidu/palo/clone/CloneJob.java          | 10 ++--
 fe/src/com/baidu/palo/cluster/BaseParam.java       | 10 ++--
 fe/src/com/baidu/palo/cluster/Cluster.java         | 11 ++--
 .../com/baidu/palo/cluster/ClusterNamespace.java   | 10 ++--
 fe/src/com/baidu/palo/common/Config.java           | 10 ++--
 .../com/baidu/palo/common/proc/ExportProcNode.java | 10 ++--
 .../palo/consistency/CheckConsistencyJob.java      | 10 ++--
 .../baidu/palo/consistency/ConsistencyChecker.java | 10 ++--
 fe/src/com/baidu/palo/ha/BDBHA.java                | 10 ++--
 .../com/baidu/palo/ha/BDBStateChangeListener.java  | 10 ++--
 fe/src/com/baidu/palo/ha/FrontendNodeType.java     | 10 ++--
 fe/src/com/baidu/palo/ha/HAProtocol.java           | 10 ++--
 fe/src/com/baidu/palo/ha/MasterInfo.java           | 10 ++--
 fe/src/com/baidu/palo/http/ActionController.java   | 10 ++--
 fe/src/com/baidu/palo/http/BaseAction.java         | 10 ++--
 fe/src/com/baidu/palo/http/BaseRequest.java        | 10 ++--
 fe/src/com/baidu/palo/http/BaseResponse.java       | 10 ++--
 fe/src/com/baidu/palo/http/HttpAuthManager.java    | 10 ++--
 fe/src/com/baidu/palo/http/HttpServer.java         | 10 ++--
 fe/src/com/baidu/palo/http/HttpServerHandler.java  | 10 ++--
 fe/src/com/baidu/palo/http/IAction.java            | 10 ++--
 .../com/baidu/palo/http/IllegalArgException.java   | 10 ++--
 fe/src/com/baidu/palo/http/WebUtils.java           | 10 ++--
 .../com/baidu/palo/http/action/BackendAction.java  | 10 ++--
 fe/src/com/baidu/palo/http/action/HaAction.java    | 10 ++--
 fe/src/com/baidu/palo/http/action/HelpAction.java  | 10 ++--
 fe/src/com/baidu/palo/http/action/IndexAction.java | 10 ++--
 fe/src/com/baidu/palo/http/action/LogAction.java   | 10 ++--
 .../com/baidu/palo/http/action/NotFoundAction.java | 10 ++--
 fe/src/com/baidu/palo/http/action/QueryAction.java | 10 ++--
 .../baidu/palo/http/action/QueryProfileAction.java | 10 ++--
 .../com/baidu/palo/http/action/SessionAction.java  | 10 ++--
 .../palo/http/action/StaticResourceAction.java     | 10 ++--
 .../com/baidu/palo/http/action/SystemAction.java   | 10 ++--
 .../com/baidu/palo/http/action/VariableAction.java | 10 ++--
 .../com/baidu/palo/http/action/WebBaseAction.java  | 10 ++--
 .../com/baidu/palo/http/meta/MetaBaseAction.java   | 10 ++--
 fe/src/com/baidu/palo/http/meta/MetaService.java   | 10 ++--
 fe/src/com/baidu/palo/http/rest/ActionStatus.java  | 10 ++--
 .../palo/http/rest/CheckDecommissionAction.java    | 10 ++--
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java | 10 ++--
 .../baidu/palo/http/rest/GetLoadInfoAction.java    | 10 ++--
 .../com/baidu/palo/http/rest/GetLogFileAction.java | 10 ++--
 fe/src/com/baidu/palo/http/rest/HealthAction.java  | 10 ++--
 fe/src/com/baidu/palo/http/rest/LoadAction.java    | 10 ++--
 .../palo/http/rest/LoadErrorMessageAction.java     | 10 ++--
 .../palo/http/rest/MetaReplayerCheckAction.java    | 10 ++--
 fe/src/com/baidu/palo/http/rest/MetricsAction.java | 10 ++--
 .../com/baidu/palo/http/rest/MigrationAction.java  | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiList.java     | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiStart.java    | 10 ++--
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   | 10 ++--
 .../com/baidu/palo/http/rest/RestBaseAction.java   | 10 ++--
 .../com/baidu/palo/http/rest/RestBaseResult.java   | 10 ++--
 fe/src/com/baidu/palo/http/rest/RestResult.java    | 10 ++--
 .../com/baidu/palo/http/rest/RowCountAction.java   | 10 ++--
 .../com/baidu/palo/http/rest/SetConfigAction.java  | 10 ++--
 .../baidu/palo/http/rest/ShowMetaInfoAction.java   | 10 ++--
 .../com/baidu/palo/http/rest/ShowProcAction.java   | 10 ++--
 .../palo/http/rest/ShowRuntimeInfoAction.java      | 10 ++--
 .../palo/http/rest/UnauthorizedException.java      | 10 ++--
 fe/src/com/baidu/palo/journal/Journal.java         | 10 ++--
 fe/src/com/baidu/palo/journal/JournalCursor.java   | 10 ++--
 fe/src/com/baidu/palo/journal/JournalEntity.java   | 10 ++--
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   | 10 ++--
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java | 10 ++--
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java | 10 ++--
 fe/src/com/baidu/palo/journal/bdbje/Timestamp.java | 10 ++--
 .../com/baidu/palo/journal/local/LocalJournal.java | 10 ++--
 .../palo/journal/local/LocalJournalCursor.java     | 10 ++--
 fe/src/com/baidu/palo/load/AsyncDeleteJob.java     | 10 ++--
 fe/src/com/baidu/palo/load/BrokerFileGroup.java    | 10 ++--
 fe/src/com/baidu/palo/load/DeleteInfo.java         | 10 ++--
 fe/src/com/baidu/palo/load/DppConfig.java          | 10 ++--
 fe/src/com/baidu/palo/load/DppScheduler.java       | 10 ++--
 fe/src/com/baidu/palo/load/EtlJobInfo.java         | 10 ++--
 fe/src/com/baidu/palo/load/EtlStatus.java          | 10 ++--
 fe/src/com/baidu/palo/load/EtlSubmitResult.java    | 10 ++--
 fe/src/com/baidu/palo/load/ExportChecker.java      | 10 ++--
 fe/src/com/baidu/palo/load/ExportFailMsg.java      | 10 ++--
 fe/src/com/baidu/palo/load/ExportJob.java          | 10 ++--
 fe/src/com/baidu/palo/load/ExportMgr.java          | 10 ++--
 fe/src/com/baidu/palo/load/FailMsg.java            | 10 ++--
 fe/src/com/baidu/palo/load/HadoopEtlJobInfo.java   | 10 ++--
 fe/src/com/baidu/palo/load/Load.java               | 10 ++--
 fe/src/com/baidu/palo/load/LoadChecker.java        | 10 ++--
 fe/src/com/baidu/palo/load/LoadErrorHub.java       | 10 ++--
 fe/src/com/baidu/palo/load/LoadJob.java            | 10 ++--
 fe/src/com/baidu/palo/load/MiniEtlJobInfo.java     | 10 ++--
 fe/src/com/baidu/palo/load/MiniEtlTaskInfo.java    | 10 ++--
 fe/src/com/baidu/palo/load/MysqlLoadErrorHub.java  | 10 ++--
 fe/src/com/baidu/palo/load/PartitionLoadInfo.java  | 10 ++--
 fe/src/com/baidu/palo/load/PullLoadSourceInfo.java | 10 ++--
 fe/src/com/baidu/palo/load/Source.java             | 10 ++--
 fe/src/com/baidu/palo/load/TableLoadInfo.java      | 10 ++--
 fe/src/com/baidu/palo/load/TabletLoadInfo.java     | 10 ++--
 fe/src/com/baidu/palo/master/Checkpoint.java       | 10 ++--
 fe/src/com/baidu/palo/master/MasterImpl.java       | 10 ++--
 fe/src/com/baidu/palo/master/MetaHelper.java       | 10 ++--
 fe/src/com/baidu/palo/master/ReportHandler.java    | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlAuthPacket.java   | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlCapability.java   | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlChannel.java      | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlColDef.java       | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlColType.java      | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlCommand.java      | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlEofPacket.java    | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlErrPacket.java    | 10 ++--
 .../com/baidu/palo/mysql/MysqlHandshakePacket.java | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlOkPacket.java     | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlPacket.java       | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlPassword.java     | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlProto.java        | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlSerializer.java   | 10 ++--
 fe/src/com/baidu/palo/mysql/MysqlServer.java       | 10 ++--
 .../baidu/palo/mysql/MysqlServerStatusFlag.java    | 10 ++--
 fe/src/com/baidu/palo/persist/CloneInfo.java       | 10 ++--
 fe/src/com/baidu/palo/persist/ClusterInfo.java     | 10 ++--
 .../baidu/palo/persist/ConsistencyCheckInfo.java   | 10 ++--
 fe/src/com/baidu/palo/persist/CreateTableInfo.java | 10 ++--
 fe/src/com/baidu/palo/persist/DatabaseInfo.java    | 10 ++--
 fe/src/com/baidu/palo/persist/DropInfo.java        | 10 ++--
 .../palo/persist/DropLinkDbAndUpdateDbInfo.java    | 15 ++++++
 .../com/baidu/palo/persist/DropPartitionInfo.java  | 10 ++--
 fe/src/com/baidu/palo/persist/EditLog.java         | 10 ++--
 .../baidu/palo/persist/EditLogFileInputStream.java | 10 ++--
 .../palo/persist/EditLogFileOutputStream.java      | 10 ++--
 .../com/baidu/palo/persist/EditLogInputStream.java | 10 ++--
 .../baidu/palo/persist/EditLogOutputStream.java    | 10 ++--
 fe/src/com/baidu/palo/persist/LinkDbInfo.java      | 10 ++--
 fe/src/com/baidu/palo/persist/MetaCleaner.java     | 10 ++--
 .../baidu/palo/persist/ModifyPartitionInfo.java    | 10 ++--
 fe/src/com/baidu/palo/persist/OperationType.java   | 10 ++--
 .../baidu/palo/persist/PartitionPersistInfo.java   | 10 ++--
 fe/src/com/baidu/palo/persist/RecoverInfo.java     | 10 ++--
 .../com/baidu/palo/persist/ReplicaPersistInfo.java | 10 ++--
 fe/src/com/baidu/palo/persist/Storage.java         | 10 ++--
 fe/src/com/baidu/palo/persist/StorageInfo.java     | 10 ++--
 fe/src/com/baidu/palo/persist/TableInfo.java       | 10 ++--
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  | 10 ++--
 fe/src/com/baidu/palo/planner/CsvScanNode.java     | 10 ++--
 fe/src/com/baidu/palo/planner/DataPartition.java   | 10 ++--
 fe/src/com/baidu/palo/planner/DataSink.java        | 10 ++--
 fe/src/com/baidu/palo/planner/DataSplitSink.java   | 10 ++--
 .../com/baidu/palo/planner/DistributionPruner.java | 10 ++--
 fe/src/com/baidu/palo/planner/ExportSink.java      | 10 ++--
 .../baidu/palo/planner/HashDistributionPruner.java | 10 ++--
 fe/src/com/baidu/palo/planner/MysqlScanNode.java   | 10 ++--
 fe/src/com/baidu/palo/planner/MysqlTableSink.java  | 10 ++--
 fe/src/com/baidu/palo/planner/OlapRewriteNode.java | 10 ++--
 fe/src/com/baidu/palo/planner/OlapScanNode.java    | 10 ++--
 .../baidu/palo/planner/PartitionColumnFilter.java  | 10 ++--
 fe/src/com/baidu/palo/planner/PartitionPruner.java | 10 ++--
 fe/src/com/baidu/palo/qe/AuditBuilder.java         | 10 ++--
 fe/src/com/baidu/palo/qe/ConnectContext.java       | 10 ++--
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     | 10 ++--
 fe/src/com/baidu/palo/qe/ConnectScheduler.java     | 10 ++--
 fe/src/com/baidu/palo/qe/Coordinator.java          | 10 ++--
 fe/src/com/baidu/palo/qe/DdlExecutor.java          | 10 ++--
 fe/src/com/baidu/palo/qe/GlobalVariable.java       | 10 ++--
 fe/src/com/baidu/palo/qe/HelpCategory.java         | 10 ++--
 fe/src/com/baidu/palo/qe/HelpModule.java           | 10 ++--
 fe/src/com/baidu/palo/qe/HelpObjectIface.java      | 10 ++--
 fe/src/com/baidu/palo/qe/HelpObjectLoader.java     | 10 ++--
 fe/src/com/baidu/palo/qe/HelpTopic.java            | 10 ++--
 fe/src/com/baidu/palo/qe/JournalObservable.java    | 10 ++--
 fe/src/com/baidu/palo/qe/JournalObserver.java      | 10 ++--
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     | 10 ++--
 fe/src/com/baidu/palo/qe/MultiLoadMgr.java         | 10 ++--
 fe/src/com/baidu/palo/qe/QeProcessor.java          | 10 ++--
 fe/src/com/baidu/palo/qe/QeService.java            | 10 ++--
 fe/src/com/baidu/palo/qe/QueryState.java           | 10 ++--
 fe/src/com/baidu/palo/qe/ResultReceiver.java       | 10 ++--
 fe/src/com/baidu/palo/qe/SessionVariable.java      | 10 ++--
 fe/src/com/baidu/palo/qe/SetExecutor.java          | 10 ++--
 fe/src/com/baidu/palo/qe/ShowExecutor.java         | 10 ++--
 fe/src/com/baidu/palo/qe/ShowResultSet.java        | 10 ++--
 .../com/baidu/palo/qe/ShowResultSetMetaData.java   | 10 ++--
 fe/src/com/baidu/palo/qe/SimpleScheduler.java      | 10 ++--
 fe/src/com/baidu/palo/qe/StmtExecutor.java         | 10 ++--
 fe/src/com/baidu/palo/qe/VariableMgr.java          | 10 ++--
 fe/src/com/baidu/palo/system/Backend.java          | 10 ++--
 fe/src/com/baidu/palo/system/BackendEvent.java     | 10 ++--
 fe/src/com/baidu/palo/system/Frontend.java         | 10 ++--
 .../com/baidu/palo/system/SystemInfoObserver.java  | 10 ++--
 .../com/baidu/palo/system/SystemInfoService.java   | 10 ++--
 fe/src/com/baidu/palo/task/AgentBatchTask.java     | 10 ++--
 fe/src/com/baidu/palo/task/AgentClient.java        | 10 ++--
 fe/src/com/baidu/palo/task/AgentTask.java          | 10 ++--
 fe/src/com/baidu/palo/task/AgentTaskExecutor.java  | 10 ++--
 fe/src/com/baidu/palo/task/AgentTaskQueue.java     | 10 ++--
 fe/src/com/baidu/palo/task/CancelDeleteTask.java   | 10 ++--
 .../com/baidu/palo/task/CheckConsistencyTask.java  | 10 ++--
 fe/src/com/baidu/palo/task/CloneTask.java          | 10 ++--
 fe/src/com/baidu/palo/task/CreateReplicaTask.java  | 10 ++--
 fe/src/com/baidu/palo/task/CreateRollupTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/DropReplicaTask.java    | 10 ++--
 .../com/baidu/palo/task/ExportExportingTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/ExportPendingTask.java  | 10 ++--
 fe/src/com/baidu/palo/task/HadoopLoadEtlTask.java  | 10 ++--
 .../com/baidu/palo/task/HadoopLoadPendingTask.java | 10 ++--
 fe/src/com/baidu/palo/task/InsertLoadEtlTask.java  | 10 ++--
 fe/src/com/baidu/palo/task/LoadEtlTask.java        | 10 ++--
 fe/src/com/baidu/palo/task/LoadPendingTask.java    | 10 ++--
 fe/src/com/baidu/palo/task/MasterTask.java         | 10 ++--
 fe/src/com/baidu/palo/task/MasterTaskExecutor.java | 10 ++--
 fe/src/com/baidu/palo/task/MiniLoadEtlTask.java    | 10 ++--
 .../com/baidu/palo/task/MiniLoadPendingTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/PullLoadEtlTask.java    | 10 ++--
 fe/src/com/baidu/palo/task/PullLoadJob.java        | 10 ++--
 fe/src/com/baidu/palo/task/PullLoadJobMgr.java     | 10 ++--
 .../com/baidu/palo/task/PullLoadPendingTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/PullLoadTask.java       | 10 ++--
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   | 10 ++--
 fe/src/com/baidu/palo/task/PushTask.java           | 10 ++--
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/RestoreTask.java        | 10 ++--
 fe/src/com/baidu/palo/task/SchemaChangeTask.java   | 10 ++--
 fe/src/com/baidu/palo/task/SnapshotTask.java       | 10 ++--
 .../baidu/palo/task/StorageMediaMigrationTask.java | 10 ++--
 fe/src/com/baidu/palo/task/UploadTask.java         | 10 ++--
 .../apache_hdfs_broker/bin/start_hdfs_broker.sh    | 10 ++--
 .../apache_hdfs_broker/bin/stop_hdfs_broker.sh     | 10 ++--
 fs_brokers/apache_hdfs_broker/build.xml            | 28 +++++-----
 fs_brokers/apache_hdfs_broker/build_hdfs_broker.sh | 10 ++--
 fs_brokers/apache_hdfs_broker/deps/build_deps.sh   | 10 ++--
 .../baidu/palo/broker/hdfs/BrokerBootstrap.java    | 10 ++--
 .../com/baidu/palo/broker/hdfs/BrokerConfig.java   | 10 ++--
 .../baidu/palo/broker/hdfs/BrokerException.java    | 10 ++--
 .../baidu/palo/broker/hdfs/BrokerFileSystem.java   | 10 ++--
 .../palo/broker/hdfs/ClientContextManager.java     | 10 ++--
 .../baidu/palo/broker/hdfs/FileSystemIdentity.java | 10 ++--
 .../baidu/palo/broker/hdfs/FileSystemManager.java  | 10 ++--
 .../palo/broker/hdfs/HDFSBrokerServiceImpl.java    | 10 ++--
 .../com/baidu/palo/common/BrokerPerfMonitor.java   | 10 ++--
 .../src/com/baidu/palo/common/ConfigBase.java      | 10 ++--
 .../com/baidu/palo/common/LoggerMessageFormat.java | 10 ++--
 .../src/com/baidu/palo/common/ThriftServer.java    | 10 ++--
 .../palo/broker/hdfs/TestFileSystemManager.java    | 14 ++---
 .../palo/broker/hdfs/TestHDFSBrokerService.java    | 14 ++---
 .../baidu_bos_broker/bin/start_bos_broker.sh       | 10 ++--
 fs_brokers/baidu_bos_broker/bin/stop_bos_broker.sh | 10 ++--
 fs_brokers/baidu_bos_broker/build.xml              | 28 +++++-----
 fs_brokers/baidu_bos_broker/build_bos_broker.sh    | 10 ++--
 fs_brokers/baidu_bos_broker/deps/build_deps.sh     | 10 ++--
 .../palo/broker/bos/BOSBrokerServiceImpl.java      | 10 ++--
 .../baidu/palo/broker/bos/BaiduBosFileSystem.java  | 10 ++--
 .../com/baidu/palo/broker/bos/BosBlockBuffer.java  | 10 ++--
 .../com/baidu/palo/broker/bos/BosException.java    | 10 ++--
 .../palo/broker/bos/BosNativeFileSystemStore.java  | 10 ++--
 .../com/baidu/palo/broker/bos/BrokerBootstrap.java | 10 ++--
 .../com/baidu/palo/broker/bos/BrokerConfig.java    | 10 ++--
 .../com/baidu/palo/broker/bos/BrokerException.java | 10 ++--
 .../baidu/palo/broker/bos/BrokerFileSystem.java    | 10 ++--
 .../palo/broker/bos/ClientContextManager.java      | 10 ++--
 .../com/baidu/palo/broker/bos/FileMetadata.java    | 10 ++--
 .../baidu/palo/broker/bos/FileSystemIdentity.java  | 10 ++--
 .../baidu/palo/broker/bos/FileSystemManager.java   | 10 ++--
 .../palo/broker/bos/NativeFileSystemStore.java     | 10 ++--
 .../com/baidu/palo/broker/bos/PartialListing.java  | 10 ++--
 .../com/baidu/palo/common/BrokerPerfMonitor.java   | 10 ++--
 .../src/com/baidu/palo/common/ConfigBase.java      | 10 ++--
 .../src/com/baidu/palo/common/Log4jConfig.java     | 10 ++--
 .../com/baidu/palo/common/LoggerMessageFormat.java | 10 ++--
 .../src/com/baidu/palo/common/ThriftServer.java    | 10 ++--
 .../palo/broker/bos/TestBOSBrokerService.java      | 10 ++--
 .../palo/broker/bos/TestFileSystemManager.java     | 10 ++--
 gensrc/Makefile                                    | 10 ++--
 gensrc/proto/Makefile                              | 10 ++--
 gensrc/proto/column_data_file.proto                | 10 ++--
 gensrc/proto/olap_common.proto                     | 10 ++--
 gensrc/proto/olap_file.proto                       | 10 ++--
 gensrc/thrift/Makefile                             | 10 ++--
 gensrc/thrift/PaloBrokerService.thrift             | 10 ++--
 thirdparty/build-thirdparty.sh                     | 10 ++--
 thirdparty/download-thirdparty.sh                  | 10 ++--
 thirdparty/vars.sh                                 | 10 ++--
 841 files changed, 2860 insertions(+), 6155 deletions(-)

commit 3edd06f275ee4f9d60fe2bd8699264b9b9b980ed
Author: Zhao Chun <buaa.zhaoc@gmail.com>
Date:   Fri Aug 18 13:49:23 2017 +0800

    Fix show variables where failed (#30)

 fe/src/com/baidu/palo/analysis/Analyzer.java            |  5 +++++
 fe/src/com/baidu/palo/analysis/ExprSubstitutionMap.java |  4 ++--
 fe/src/com/baidu/palo/analysis/ShowVariablesStmt.java   |  2 +-
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java         | 11 +++++++++++
 4 files changed, 19 insertions(+), 3 deletions(-)

commit f5882c587cac79cd5b8794cad03012e316efcc03
Author: Aegeaner <Aegeaner@users.noreply.github.com>
Date:   Thu Aug 17 20:22:28 2017 -0500

    support fedora for compiling Be module in CMakeLists.txt

 be/CMakeLists.txt | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit bbef0d9a65af718ce1c35d2096cee310ab1c2b0c
Merge: 1a6cad4a adac2b4b
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Thu Aug 17 23:06:37 2017 +0800

    Merge pull request #26 from imay/master
    
    fix memory release leak when load job's broker_scan_node fail

commit adac2b4b3cb40baee316ad9b435d757bd647c4e3
Author: zhaochun <zhaochun@baidu.com>
Date:   Thu Aug 17 21:17:45 2017 +0800

    Fix 3002, bug fix assert fail if broker scan failed
    
    Change-Id: Ifb9eb057f104b99679efc04b930ea8263e1f4055

 be/src/runtime/data_spliter.cpp |  6 +++++-
 be/src/runtime/row_batch.cpp    | 11 ++++++++++-
 be/src/runtime/row_batch.h      |  4 ++++
 3 files changed, 19 insertions(+), 2 deletions(-)

commit d9ee367b278223625fb65c79642cf88727b8519c
Author: chenhao16 <chenhao16@baidu.com>
Date:   Thu Aug 17 21:35:30 2017 +0800

    be crashes by mini load when no hll_hash specified for hll column

 be/src/exec/csv_scan_node.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a6cad4a1e3a3e770e102cb234260ec71bedda51
Merge: 0dccb5d1 cc93335d
Author: chenhao7253886 <510341142@qq.com>
Date:   Thu Aug 17 21:39:18 2017 +0800

    Merge pull request #25 from chenhao7253886/master
    
    be crashes by mini load when no hll_hash specified for hll column

commit cc93335d299867ca120d58dc8e18d556edd4f1ca
Author: chenhao16 <chenhao16@baidu.com>
Date:   Thu Aug 17 21:35:30 2017 +0800

    be crashes by mini load when no hll_hash specified for hll column

 be/src/exec/csv_scan_node.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0dccb5d1deccb62131bc1af58ba8289b23f9f46d
Author: Greg Lee <lihaowhu@gmail.com>
Date:   Wed Aug 16 22:09:14 2017 +0800

    add volatile modifier for running (#20)

 fe/src/com/baidu/palo/mysql/MysqlServer.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aeebbcc9b4f30b1da82d687da4ccdd250ab89b4c
Author: morningman <morningman@163.com>
Date:   Wed Aug 16 10:21:21 2017 +0800

    Fix #10 export LD_LIBRARY_PATH in build-thirdparty.sh (#13)
    
    * modify thirdparty/build-thirdparty.sh to fix compilation bug of thrift. (#10)
    update pre-compile binaries.
    
    * fix export LD_LIBRARY_PATH in build-thirdparty.sh
    
    * fix export LD_LIBRARY_PATH in build-thirdparty.sh

 thirdparty/build-thirdparty.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d1c2b87ca170d908ae17a66f81043f13dbbc093
Author: morningman <morningman@163.com>
Date:   Wed Aug 16 09:33:24 2017 +0800

    modify thirdparty/build-thirdparty.sh to fix compilation bug of thrift. (#10) (#12)
    
    update pre-compile binaries.

 docs/admin_guide/install.md    | 4 ++--
 thirdparty/build-thirdparty.sh | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 5296746b4adcd0073ee2641e54e736f7b26e9c9e
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Tue Aug 15 19:01:08 2017 +0800

    Fix #6 SHOW FULL TABLES WHERE Table_type != VIEW sql can not execute (#11)
    
    * change picture to word
    
    * change picture to word
    
    * SHOW FULL TABLES WHERE Table_type != VIEW sql can not execute

 be/src/exec/olap_rewrite_node.cpp                       |  1 +
 be/src/exec/schema_scan_node.cpp                        |  3 +++
 be/src/exec/schema_scanner/frontend_helper.cpp          | 10 +++++++++-
 be/src/exec/schema_scanner/frontend_helper.h            |  3 ++-
 be/src/exec/schema_scanner/schema_columns_scanner.cpp   |  7 ++++---
 be/src/exec/schema_scanner/schema_schemata_scanner.cpp  | 10 ++++------
 be/src/exec/schema_scanner/schema_tables_scanner.cpp    | 10 ++++------
 be/src/exec/schema_scanner/schema_tables_scanner.h      |  2 +-
 be/src/exec/schema_scanner/schema_variables_scanner.h   |  1 -
 fe/src/com/baidu/palo/analysis/BaseTableRef.java        |  2 +-
 fe/src/com/baidu/palo/analysis/ExprSubstitutionMap.java | 12 ++++++++++--
 fe/src/com/baidu/palo/analysis/ShowDbStmt.java          |  2 +-
 fe/src/com/baidu/palo/analysis/ShowTableStatusStmt.java |  2 +-
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java       |  2 +-
 fe/src/com/baidu/palo/analysis/TableName.java           | 13 +++++++++++++
 fe/src/com/baidu/palo/service/FrontendServiceImpl.java  |  7 ++++---
 16 files changed, 59 insertions(+), 28 deletions(-)

commit b71dceaacf211564a8ee2c380da32a2b69bc75f9
Author: Hongxu Ma <interma@outlook.com>
Date:   Tue Aug 15 16:24:06 2017 +0800

    fix typo for README.md (#8)

 README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 65c0d9503644cebdaf860dcf8caf82ee7ec7fc0b
Author: 李超勇 <lichaoyong121@qq.com>
Date:   Tue Aug 15 09:44:27 2017 +0800

    change sql image to markdown (#7)
    
    change picture to markdown.
    add create partition sql.
    
    * change picture to word

 README.md                               |  97 +++++++++++++++++++++-----------
 docs/resources/aggregate_key.jpg        | Bin 101734 -> 0 bytes
 docs/resources/duplicate_key.jpg        | Bin 105263 -> 0 bytes
 docs/resources/multi_medium_storage.jpg | Bin 42189 -> 0 bytes
 docs/resources/palo_usage.jpg           | Bin 258334 -> 0 bytes
 docs/resources/two_level_partition.jpg  | Bin 175487 -> 0 bytes
 6 files changed, 65 insertions(+), 32 deletions(-)

commit fb64a1a8e8ed612cd95d1ea0c67bf70804a1d2da
Author: cyongli <lichaoyong121@qq.com>
Date:   Fri Aug 11 22:09:07 2017 +0800

    add download link

 docs/admin_guide/install.md | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit e2311f656ea541e1c39ec0371f0ed5ecc8386e60
Author: cyongli <lichaoyong121@qq.com>
Date:   Fri Aug 11 17:51:21 2017 +0800

    baidu palo

 LICENSE.txt                                        |    364 +
 NOTICE.txt                                         |     11 +
 README.md                                          |    177 +
 be/CMakeLists.txt                                  |    453 +
 be/src/aes/CMakeLists.txt                          |     30 +
 be/src/aes/my_aes.cpp                              |     60 +
 be/src/aes/my_aes.h                                |    140 +
 be/src/aes/my_aes_impl.h                           |     37 +
 be/src/aes/my_aes_openssl.cpp                      |    218 +
 be/src/agent/CMakeLists.txt                        |     38 +
 be/src/agent/agent_server.cpp                      |    444 +
 be/src/agent/agent_server.h                        |    122 +
 be/src/agent/cgroups_mgr.cpp                       |    511 +
 be/src/agent/cgroups_mgr.h                         |    185 +
 be/src/agent/file_downloader.cpp                   |    441 +
 be/src/agent/file_downloader.h                     |     85 +
 be/src/agent/heartbeat_server.cpp                  |    146 +
 be/src/agent/heartbeat_server.h                    |     64 +
 be/src/agent/pusher.cpp                            |    288 +
 be/src/agent/pusher.h                              |     66 +
 be/src/agent/status.h                              |     48 +
 be/src/agent/task_worker_pool.cpp                  |   1996 +
 be/src/agent/task_worker_pool.h                    |    166 +
 be/src/agent/topic_listener.h                      |     41 +
 be/src/agent/topic_subscriber.cpp                  |     65 +
 be/src/agent/topic_subscriber.h                    |     46 +
 be/src/agent/user_resource_listener.cpp            |    112 +
 be/src/agent/user_resource_listener.h              |     52 +
 be/src/agent/utils.cpp                             |    399 +
 be/src/agent/utils.h                               |    152 +
 be/src/codegen/CMakeLists.txt                      |    105 +
 be/src/codegen/codegen_anyval.cpp                  |    711 +
 be/src/codegen/codegen_anyval.h                    |    282 +
 be/src/codegen/codegen_anyval_ir.cpp               |     63 +
 be/src/codegen/gen_ir_descriptions.py              |    199 +
 be/src/codegen/llvm_codegen.cpp                    |   1357 +
 be/src/codegen/llvm_codegen.h                      |    644 +
 be/src/codegen/llvm_codegen_test.cpp               |    458 +
 be/src/codegen/palo_ir.cpp                         |     45 +
 be/src/codegen/palo_ir.h                           |     37 +
 be/src/codegen/palo_ir_data.h                      |     33 +
 be/src/codegen/subexpr_elimination.cpp             |    231 +
 be/src/codegen/subexpr_elimination.h               |     47 +
 be/src/common/CMakeLists.txt                       |     32 +
 be/src/common/atomic.h                             |    209 +
 be/src/common/compiler_util.h                      |     49 +
 be/src/common/config.h                             |    319 +
 be/src/common/configbase.cpp                       |    278 +
 be/src/common/configbase.h                         |    128 +
 be/src/common/daemon.cpp                           |    110 +
 be/src/common/daemon.h                             |     33 +
 be/src/common/global_types.h                       |     36 +
 be/src/common/hdfs.h                               |     35 +
 be/src/common/logconfig.cpp                        |    153 +
 be/src/common/logging.h                            |     68 +
 be/src/common/object_pool.h                        |     84 +
 be/src/common/resource_tls.cpp                     |     70 +
 be/src/common/resource_tls.h                       |     36 +
 be/src/common/status.cpp                           |    139 +
 be/src/common/status.h                             |    206 +
 be/src/exec/CMakeLists.txt                         |    110 +
 be/src/exec/aggregation_node.cpp                   |   1023 +
 be/src/exec/aggregation_node.h                     |    161 +
 be/src/exec/aggregation_node_ir.cpp                |     55 +
 be/src/exec/analytic_eval_node.cpp                 |    924 +
 be/src/exec/analytic_eval_node.h                   |    337 +
 be/src/exec/blocking_join_node.cpp                 |    223 +
 be/src/exec/blocking_join_node.h                   |    138 +
 be/src/exec/broker_reader.cpp                      |    227 +
 be/src/exec/broker_reader.h                        |     71 +
 be/src/exec/broker_scan_node.cpp                   |    472 +
 be/src/exec/broker_scan_node.h                     |    135 +
 be/src/exec/broker_scanner.cpp                     |    615 +
 be/src/exec/broker_scanner.h                       |    166 +
 be/src/exec/broker_writer.cpp                      |    238 +
 be/src/exec/broker_writer.h                        |     72 +
 be/src/exec/cross_join_node.cpp                    |    205 +
 be/src/exec/cross_join_node.h                      |     81 +
 be/src/exec/csv_scan_node.cpp                      |    679 +
 be/src/exec/csv_scan_node.h                        |    144 +
 be/src/exec/csv_scanner.cpp                        |     94 +
 be/src/exec/csv_scanner.h                          |     48 +
 be/src/exec/data_sink.cpp                          |    139 +
 be/src/exec/data_sink.h                            |     88 +
 be/src/exec/decompressor.cpp                       |    726 +
 be/src/exec/decompressor.h                         |    262 +
 be/src/exec/empty_set_node.cpp                     |     35 +
 be/src/exec/empty_set_node.h                       |     35 +
 be/src/exec/exchange_node.cpp                      |    254 +
 be/src/exec/exchange_node.h                        |    117 +
 be/src/exec/exec_node.cpp                          |    611 +
 be/src/exec/exec_node.h                            |    336 +
 be/src/exec/file_reader.h                          |     43 +
 be/src/exec/file_writer.h                          |     45 +
 be/src/exec/hash_join_node.cpp                     |    962 +
 be/src/exec/hash_join_node.h                       |    200 +
 be/src/exec/hash_join_node_ir.cpp                  |    150 +
 be/src/exec/hash_table.cpp                         |    816 +
 be/src/exec/hash_table.h                           |    444 +
 be/src/exec/hash_table.hpp                         |    176 +
 be/src/exec/kudu_scan_node.cpp                     |    347 +
 be/src/exec/kudu_scan_node.h                       |    157 +
 be/src/exec/kudu_scanner.cpp                       |    231 +
 be/src/exec/kudu_scanner.h                         |    109 +
 be/src/exec/kudu_util.cpp                          |    110 +
 be/src/exec/kudu_util.h                            |     74 +
 be/src/exec/line_reader.h                          |     37 +
 be/src/exec/local_file_reader.cpp                  |     90 +
 be/src/exec/local_file_reader.h                    |     50 +
 be/src/exec/local_file_writer.cpp                  |     80 +
 be/src/exec/local_file_writer.h                    |     48 +
 be/src/exec/merge_join_node.cpp                    |    347 +
 be/src/exec/merge_join_node.h                      |    105 +
 be/src/exec/merge_node.cpp                         |    264 +
 be/src/exec/merge_node.h                           |     99 +
 be/src/exec/mysql_scan_node.cpp                    |    273 +
 be/src/exec/mysql_scan_node.h                      |     98 +
 be/src/exec/mysql_scanner.cpp                      |    177 +
 be/src/exec/mysql_scanner.h                        |     77 +
 be/src/exec/olap_common.cpp                        |    191 +
 be/src/exec/olap_common.h                          |    775 +
 be/src/exec/olap_meta_reader.cpp                   |    122 +
 be/src/exec/olap_meta_reader.h                     |     85 +
 be/src/exec/olap_rewrite_node.cpp                  |    252 +
 be/src/exec/olap_rewrite_node.h                    |     72 +
 be/src/exec/olap_scan_node.cpp                     |   1967 +
 be/src/exec/olap_scan_node.h                       |    310 +
 be/src/exec/olap_scanner.cpp                       |    175 +
 be/src/exec/olap_scanner.h                         |    122 +
 be/src/exec/olap_utils.h                           |    227 +
 be/src/exec/partitioned_aggregation_node.cc        |   1575 +
 be/src/exec/partitioned_aggregation_node.h         |    491 +
 be/src/exec/partitioned_aggregation_node_ir.cc     |    151 +
 be/src/exec/partitioned_hash_table.cc              |    945 +
 be/src/exec/partitioned_hash_table.h               |    699 +
 be/src/exec/partitioned_hash_table.inline.h        |    382 +
 be/src/exec/partitioned_hash_table_ir.cc           |     33 +
 be/src/exec/pl_task_root.cpp                       |    152 +
 be/src/exec/pl_task_root.h                         |      0
 be/src/exec/plain_text_line_reader.cpp             |    354 +
 be/src/exec/plain_text_line_reader.h               |    101 +
 be/src/exec/pre_aggregation_node.cpp               |    647 +
 be/src/exec/pre_aggregation_node.h                 |    115 +
 be/src/exec/read_write_util.cpp                    |     75 +
 be/src/exec/read_write_util.h                      |    241 +
 be/src/exec/row_batch_list.h                       |    144 +
 be/src/exec/scan_node.cpp                          |     72 +
 be/src/exec/scan_node.h                            |    159 +
 be/src/exec/scanner_ir.cpp                         |      0
 be/src/exec/schema_scan_node.cpp                   |    329 +
 be/src/exec/schema_scan_node.h                     |    100 +
 be/src/exec/schema_scanner.cpp                     |    168 +
 be/src/exec/schema_scanner.h                       |     98 +
 be/src/exec/schema_scanner/frontend_helper.cpp     |    220 +
 be/src/exec/schema_scanner/frontend_helper.h       |     67 +
 .../schema_scanner/schema_charsets_scanner.cpp     |    110 +
 .../exec/schema_scanner/schema_charsets_scanner.h  |     54 +
 .../schema_scanner/schema_collations_scanner.cpp   |    129 +
 .../schema_scanner/schema_collations_scanner.h     |     56 +
 .../exec/schema_scanner/schema_columns_scanner.cpp |    332 +
 .../exec/schema_scanner/schema_columns_scanner.h   |     55 +
 .../exec/schema_scanner/schema_dummy_scanner.cpp   |     49 +
 be/src/exec/schema_scanner/schema_dummy_scanner.h  |     42 +
 .../schema_scanner/schema_schemata_scanner.cpp     |    130 +
 .../exec/schema_scanner/schema_schemata_scanner.h  |     47 +
 .../exec/schema_scanner/schema_tables_scanner.cpp  |    262 +
 be/src/exec/schema_scanner/schema_tables_scanner.h |     50 +
 .../schema_scanner/schema_variables_scanner.cpp    |    112 +
 .../exec/schema_scanner/schema_variables_scanner.h |     57 +
 be/src/exec/select_node.cpp                        |    137 +
 be/src/exec/select_node.h                          |     63 +
 be/src/exec/sort_exec_exprs.cpp                    |     84 +
 be/src/exec/sort_exec_exprs.h                      |     94 +
 be/src/exec/sort_node.cpp                          |    159 +
 be/src/exec/sort_node.h                            |     80 +
 be/src/exec/spill_sort_node.cc                     |    180 +
 be/src/exec/spill_sort_node.h                      |     82 +
 be/src/exec/text_converter.cpp                     |     66 +
 be/src/exec/text_converter.h                       |     69 +
 be/src/exec/text_converter.hpp                     |    183 +
 be/src/exec/topn_node.cpp                          |    278 +
 be/src/exec/topn_node.h                            |    123 +
 be/src/exec/union_node.cpp                         |    354 +
 be/src/exec/union_node.h                           |    160 +
 be/src/exec/union_node_ir.cpp                      |     58 +
 be/src/exprs/CMakeLists.txt                        |     71 +
 be/src/exprs/agg_fn_evaluator.cpp                  |    972 +
 be/src/exprs/agg_fn_evaluator.h                    |    370 +
 be/src/exprs/aggregate_functions.cpp               |   1675 +
 be/src/exprs/aggregate_functions.h                 |    291 +
 be/src/exprs/anyval_util.cpp                       |    143 +
 be/src/exprs/anyval_util.h                         |    410 +
 be/src/exprs/arithmetic_expr.cpp                   |    600 +
 be/src/exprs/arithmetic_expr.h                     |    198 +
 be/src/exprs/base64.cpp                            |    172 +
 be/src/exprs/base64.h                              |     39 +
 be/src/exprs/binary_predicate.cpp                  |    597 +
 be/src/exprs/binary_predicate.h                    |     80 +
 be/src/exprs/case_expr.cpp                         |    440 +
 be/src/exprs/case_expr.h                           |     91 +
 be/src/exprs/cast_expr.cpp                         |    272 +
 be/src/exprs/cast_expr.h                           |     67 +
 be/src/exprs/cast_functions.cpp                    |    345 +
 be/src/exprs/cast_functions.h                      |    147 +
 be/src/exprs/compound_predicate.cpp                |    282 +
 be/src/exprs/compound_predicate.h                  |    135 +
 be/src/exprs/conditional_functions.cpp             |     54 +
 be/src/exprs/conditional_functions.h               |    153 +
 be/src/exprs/conditional_functions_ir.cpp          |    117 +
 be/src/exprs/decimal_operators.cpp                 |    181 +
 be/src/exprs/decimal_operators.h                   |     87 +
 be/src/exprs/encryption_functions.cpp              |    153 +
 be/src/exprs/encryption_functions.h                |     53 +
 be/src/exprs/expr.cpp                              |    978 +
 be/src/exprs/expr.h                                |    488 +
 be/src/exprs/expr_context.cpp                      |    447 +
 be/src/exprs/expr_context.h                        |    194 +
 be/src/exprs/expr_ir.cpp                           |     80 +
 be/src/exprs/expr_value.h                          |    248 +
 be/src/exprs/hll_hash_function.cpp                 |     74 +
 be/src/exprs/hll_hash_function.h                   |     48 +
 be/src/exprs/hybird_map.h                          |     66 +
 be/src/exprs/hybird_set.cpp                        |     71 +
 be/src/exprs/hybird_set.h                          |    189 +
 be/src/exprs/in_predicate.cpp                      |    139 +
 be/src/exprs/in_predicate.h                        |     89 +
 be/src/exprs/info_func.cpp                         |     68 +
 be/src/exprs/info_func.h                           |     60 +
 be/src/exprs/is_null_predicate.cpp                 |     65 +
 be/src/exprs/is_null_predicate.h                   |     41 +
 be/src/exprs/json_functions.cpp                    |    215 +
 be/src/exprs/json_functions.h                      |     54 +
 be/src/exprs/like_predicate.cpp                    |    439 +
 be/src/exprs/like_predicate.h                      |    179 +
 be/src/exprs/literal.cpp                           |    251 +
 be/src/exprs/literal.h                             |     62 +
 be/src/exprs/math_functions.cpp                    |    834 +
 be/src/exprs/math_functions.h                      |    203 +
 be/src/exprs/new_in_predicate.cpp                  |    199 +
 be/src/exprs/new_in_predicate.h                    |    325 +
 be/src/exprs/null_literal.cpp                      |    108 +
 be/src/exprs/null_literal.h                        |     64 +
 be/src/exprs/operators.cpp                         |    188 +
 be/src/exprs/operators.h                           |    283 +
 be/src/exprs/predicate.h                           |     39 +
 be/src/exprs/scalar_fn_call.cpp                    |    873 +
 be/src/exprs/scalar_fn_call.h                      |    136 +
 be/src/exprs/slot_ref.cpp                          |    526 +
 be/src/exprs/slot_ref.h                            |    132 +
 be/src/exprs/string_functions.cpp                  |    672 +
 be/src/exprs/string_functions.h                    |    147 +
 be/src/exprs/timestamp_functions.cpp               |    613 +
 be/src/exprs/timestamp_functions.h                 |    193 +
 be/src/exprs/timezone_db.cpp                       |    411 +
 be/src/exprs/tuple_is_null_predicate.cpp           |     78 +
 be/src/exprs/tuple_is_null_predicate.h             |     55 +
 be/src/exprs/udf_builtins.cpp                      |    105 +
 be/src/exprs/udf_builtins.h                        |     55 +
 be/src/exprs/utility_functions.cpp                 |     46 +
 be/src/exprs/utility_functions.h                   |     47 +
 be/src/gen_cpp/CMakeLists.txt                      |     93 +
 be/src/gutil/CMakeLists.txt                        |     82 +
 be/src/gutil/arm_instruction_set_select.h          |     52 +
 be/src/gutil/atomic_refcount.h                     |    195 +
 be/src/gutil/atomicops-internals-macosx.h          |    406 +
 be/src/gutil/atomicops-internals-powerpc.h         |    304 +
 be/src/gutil/atomicops-internals-tsan.h            |    217 +
 be/src/gutil/atomicops-internals-x86.cc            |    112 +
 be/src/gutil/atomicops-internals-x86.h             |    499 +
 be/src/gutil/atomicops.h                           |    373 +
 .../auxiliary/atomicops-internals-arm-generic.h    |    230 +
 .../auxiliary/atomicops-internals-arm-v6plus.h     |    378 +
 .../gutil/auxiliary/atomicops-internals-windows.h  |    508 +
 be/src/gutil/basictypes.h                          |     32 +
 be/src/gutil/bind.h                                |    539 +
 be/src/gutil/bind.h.pump                           |    153 +
 be/src/gutil/bind_helpers.h                        |    551 +
 be/src/gutil/bind_internal.h                       |   2695 +
 be/src/gutil/bind_internal.h.pump                  |    464 +
 be/src/gutil/bits.cc                               |    101 +
 be/src/gutil/bits.h                                |    267 +
 be/src/gutil/callback.h                            |    765 +
 be/src/gutil/callback.h.pump                       |    436 +
 be/src/gutil/callback_forward.h                    |     17 +
 be/src/gutil/callback_internal.cc                  |     36 +
 be/src/gutil/callback_internal.h                   |    177 +
 be/src/gutil/casts.h                               |    392 +
 be/src/gutil/charmap.h                             |     87 +
 be/src/gutil/cpu.cc                                |    289 +
 be/src/gutil/cpu.h                                 |     90 +
 be/src/gutil/cycleclock-inl.h                      |    203 +
 be/src/gutil/dynamic_annotations.c                 |    173 +
 be/src/gutil/dynamic_annotations.h                 |    771 +
 be/src/gutil/endian.h                              |    358 +
 be/src/gutil/fixedarray.h                          |    181 +
 be/src/gutil/gscoped_ptr.h                         |    830 +
 be/src/gutil/hash/builtin_type_hash.h              |     95 +
 be/src/gutil/hash/city.cc                          |    317 +
 be/src/gutil/hash/city.h                           |     53 +
 be/src/gutil/hash/hash.cc                          |    197 +
 be/src/gutil/hash/hash.h                           |    419 +
 be/src/gutil/hash/hash128to64.h                    |     24 +
 be/src/gutil/hash/jenkins.cc                       |    188 +
 be/src/gutil/hash/jenkins.h                        |     40 +
 be/src/gutil/hash/jenkins_lookup2.h                |    156 +
 be/src/gutil/hash/legacy_hash.h                    |     84 +
 be/src/gutil/hash/string_hash.h                    |     85 +
 be/src/gutil/int128.cc                             |     19 +
 be/src/gutil/int128.h                              |    332 +
 be/src/gutil/integral_types.h                      |    104 +
 be/src/gutil/linux_syscall_support.h               |   3680 +
 be/src/gutil/logging-inl.h                         |     50 +
 be/src/gutil/macros.h                              |    265 +
 be/src/gutil/manual_constructor.h                  |    250 +
 be/src/gutil/map-util.h                            |    858 +
 be/src/gutil/mathlimits.cc                         |    123 +
 be/src/gutil/mathlimits.h                          |    256 +
 be/src/gutil/move.h                                |    218 +
 be/src/gutil/once.cc                               |     49 +
 be/src/gutil/once.h                                |    119 +
 be/src/gutil/paranoid.h                            |     92 +
 be/src/gutil/port.h                                |   1229 +
 be/src/gutil/raw_scoped_refptr_mismatch_checker.h  |     63 +
 be/src/gutil/ref_counted.cc                        |     95 +
 be/src/gutil/ref_counted.h                         |    354 +
 be/src/gutil/ref_counted_memory.cc                 |     99 +
 be/src/gutil/ref_counted_memory.h                  |    150 +
 be/src/gutil/singleton.h                           |    153 +
 be/src/gutil/spinlock.cc                           |    187 +
 be/src/gutil/spinlock.h                            |    151 +
 be/src/gutil/spinlock_internal.cc                  |    122 +
 be/src/gutil/spinlock_internal.h                   |     64 +
 be/src/gutil/spinlock_linux-inl.h                  |    104 +
 be/src/gutil/spinlock_posix-inl.h                  |     62 +
 be/src/gutil/spinlock_win32-inl.h                  |     54 +
 be/src/gutil/stl_util.h                            |    976 +
 be/src/gutil/stringprintf.cc                       |    137 +
 be/src/gutil/stringprintf.h                        |     48 +
 be/src/gutil/strings/ascii_ctype.cc                |    110 +
 be/src/gutil/strings/ascii_ctype.h                 |     75 +
 be/src/gutil/strings/charset.cc                    |     24 +
 be/src/gutil/strings/charset.h                     |     71 +
 be/src/gutil/strings/escaping.cc                   |   2023 +
 be/src/gutil/strings/escaping.h                    |    677 +
 be/src/gutil/strings/fastmem.h                     |    130 +
 be/src/gutil/strings/human_readable.cc             |    428 +
 be/src/gutil/strings/human_readable.h              |    162 +
 be/src/gutil/strings/join.cc                       |    211 +
 be/src/gutil/strings/join.h                        |    389 +
 be/src/gutil/strings/memutil.cc                    |    138 +
 be/src/gutil/strings/memutil.h                     |    153 +
 be/src/gutil/strings/numbers.cc                    |   1461 +
 be/src/gutil/strings/numbers.h                     |    575 +
 be/src/gutil/strings/serialize.cc                  |    328 +
 be/src/gutil/strings/serialize.h                   |    343 +
 be/src/gutil/strings/split.cc                      |   1088 +
 be/src/gutil/strings/split.h                       |   1209 +
 be/src/gutil/strings/split_internal.h              |    413 +
 be/src/gutil/strings/strcat.cc                     |    252 +
 be/src/gutil/strings/strcat.h                      |    380 +
 be/src/gutil/strings/string_util-test.cc           |     58 +
 be/src/gutil/strings/stringpiece.cc                |    224 +
 be/src/gutil/strings/stringpiece.h                 |    377 +
 be/src/gutil/strings/strip.cc                      |    384 +
 be/src/gutil/strings/strip.h                       |    272 +
 be/src/gutil/strings/substitute.cc                 |    133 +
 be/src/gutil/strings/substitute.h                  |    192 +
 be/src/gutil/strings/util.cc                       |   1218 +
 be/src/gutil/strings/util.h                        |    514 +
 be/src/gutil/strtoint.cc                           |     47 +
 be/src/gutil/strtoint.h                            |     93 +
 be/src/gutil/synchronization_profiling.h           |     51 +
 be/src/gutil/sysinfo.cc                            |    412 +
 be/src/gutil/sysinfo.h                             |     55 +
 be/src/gutil/template_util.h                       |    164 +
 be/src/gutil/thread_annotations.h                  |    236 +
 be/src/gutil/threading/thread_collision_warner.cc  |     82 +
 be/src/gutil/threading/thread_collision_warner.h   |    248 +
 be/src/gutil/type_traits.h                         |    363 +
 be/src/gutil/utf/LICENSE                           |     13 +
 be/src/gutil/utf/rune.c                            |    350 +
 be/src/gutil/utf/utf.h                             |    233 +
 be/src/gutil/utf/utfdef.h                          |     14 +
 be/src/gutil/valgrind.h                            |   3924 +
 be/src/gutil/walltime.cc                           |    209 +
 be/src/gutil/walltime.h                            |    186 +
 be/src/http/CMakeLists.txt                         |     52 +
 be/src/http/action/checksum_action.cpp             |    155 +
 be/src/http/action/checksum_action.h               |     50 +
 be/src/http/action/health_action.cpp               |     51 +
 be/src/http/action/health_action.h                 |     45 +
 be/src/http/action/mini_load.cpp                   |    551 +
 be/src/http/action/mini_load.h                     |     87 +
 be/src/http/action/pprof_actions.cpp               |    324 +
 be/src/http/action/pprof_actions.h                 |     37 +
 be/src/http/action/reload_tablet_action.cpp        |    128 +
 be/src/http/action/reload_tablet_action.h          |     55 +
 be/src/http/action/snapshot_action.cpp             |    125 +
 be/src/http/action/snapshot_action.h               |     50 +
 be/src/http/default_path_handlers.cpp              |    113 +
 be/src/http/default_path_handlers.h                |     35 +
 be/src/http/download_action.cpp                    |    223 +
 be/src/http/download_action.h                      |     67 +
 be/src/http/http_channel.cpp                       |    128 +
 be/src/http/http_channel.h                         |     67 +
 be/src/http/http_handler.h                         |     37 +
 be/src/http/http_headers.cpp                       |     98 +
 be/src/http/http_headers.h                         |    104 +
 be/src/http/http_method.cpp                        |     56 +
 be/src/http/http_method.h                          |     44 +
 be/src/http/http_parser.cpp                        |    279 +
 be/src/http/http_parser.h                          |     69 +
 be/src/http/http_request.cpp                       |    133 +
 be/src/http/http_request.h                         |     93 +
 be/src/http/http_response.cpp                      |     51 +
 be/src/http/http_response.h                        |     72 +
 be/src/http/http_status.cpp                        |     82 +
 be/src/http/http_status.h                          |     76 +
 be/src/http/mongoose.c                             |   4821 +
 be/src/http/mongoose.h                             |    308 +
 be/src/http/monitor_action.cpp                     |     65 +
 be/src/http/monitor_action.h                       |     48 +
 be/src/http/rest_monitor_iface.h                   |     38 +
 be/src/http/web_page_handler.cpp                   |    168 +
 be/src/http/web_page_handler.h                     |     84 +
 be/src/http/webserver.cpp                          |    243 +
 be/src/http/webserver.h                            |     91 +
 be/src/olap/CMakeLists.txt                         |     80 +
 be/src/olap/atomic.h                               |    233 +
 be/src/olap/base_expansion_handler.cpp             |    636 +
 be/src/olap/base_expansion_handler.h               |    219 +
 be/src/olap/bhp_lib.h                              |    797 +
 be/src/olap/column_file/bit_field_reader.cpp       |    135 +
 be/src/olap/column_file/bit_field_reader.h         |     57 +
 be/src/olap/column_file/bit_field_writer.cpp       |    110 +
 be/src/olap/column_file/bit_field_writer.h         |     55 +
 be/src/olap/column_file/bloom_filter.hpp           |    305 +
 be/src/olap/column_file/bloom_filter_reader.cpp    |     71 +
 be/src/olap/column_file/bloom_filter_reader.h      |     77 +
 be/src/olap/column_file/bloom_filter_writer.cpp    |    113 +
 be/src/olap/column_file/bloom_filter_writer.h      |     48 +
 be/src/olap/column_file/byte_buffer.cpp            |    228 +
 be/src/olap/column_file/byte_buffer.h              |    212 +
 be/src/olap/column_file/column_data.cpp            |    699 +
 be/src/olap/column_file/column_data.h              |    170 +
 be/src/olap/column_file/column_reader.cpp          |   1298 +
 be/src/olap/column_file/column_reader.h            |    972 +
 be/src/olap/column_file/column_writer.cpp          |   1133 +
 be/src/olap/column_file/column_writer.h            |    512 +
 be/src/olap/column_file/compress.cpp               |    105 +
 be/src/olap/column_file/compress.h                 |     57 +
 be/src/olap/column_file/data_writer.cpp            |    305 +
 be/src/olap/column_file/data_writer.h              |     62 +
 be/src/olap/column_file/file_stream.cpp            |    196 +
 be/src/olap/column_file/file_stream.h              |    287 +
 be/src/olap/column_file/in_stream.cpp              |    319 +
 be/src/olap/column_file/in_stream.h                |    208 +
 be/src/olap/column_file/out_stream.cpp             |    449 +
 be/src/olap/column_file/out_stream.h               |    168 +
 be/src/olap/column_file/run_length_byte_reader.cpp |    152 +
 be/src/olap/column_file/run_length_byte_reader.h   |     61 +
 be/src/olap/column_file/run_length_byte_writer.cpp |    154 +
 be/src/olap/column_file/run_length_byte_writer.h   |     60 +
 .../olap/column_file/run_length_integer_reader.cpp |    441 +
 .../olap/column_file/run_length_integer_reader.h   |     80 +
 .../olap/column_file/run_length_integer_writer.cpp |    734 +
 .../olap/column_file/run_length_integer_writer.h   |    303 +
 be/src/olap/column_file/segment_reader.cpp         |   1160 +
 be/src/olap/column_file/segment_reader.h           |    406 +
 be/src/olap/column_file/segment_writer.cpp         |    316 +
 be/src/olap/column_file/segment_writer.h           |     75 +
 be/src/olap/column_file/serialize.cpp              |    294 +
 be/src/olap/column_file/serialize.h                |    119 +
 be/src/olap/column_file/stream_index_common.cpp    |    139 +
 be/src/olap/column_file/stream_index_common.h      |     88 +
 be/src/olap/column_file/stream_index_reader.cpp    |    155 +
 be/src/olap/column_file/stream_index_reader.h      |    105 +
 be/src/olap/column_file/stream_index_writer.cpp    |    187 +
 be/src/olap/column_file/stream_index_writer.h      |     83 +
 be/src/olap/column_file/stream_name.cpp            |     53 +
 be/src/olap/column_file/stream_name.h              |     53 +
 be/src/olap/command_executor.cpp                   |    787 +
 be/src/olap/command_executor.h                     |    228 +
 be/src/olap/cumulative_handler.cpp                 |    578 +
 be/src/olap/cumulative_handler.h                   |    190 +
 be/src/olap/delete_handler.cpp                     |    444 +
 be/src/olap/delete_handler.h                       |    196 +
 be/src/olap/field.cpp                              |   1092 +
 be/src/olap/field.h                                |   1567 +
 be/src/olap/file_helper.cpp                        |    400 +
 be/src/olap/file_helper.h                          |    451 +
 be/src/olap/i_data.cpp                             |    112 +
 be/src/olap/i_data.h                               |    197 +
 be/src/olap/lru_cache.cpp                          |    440 +
 be/src/olap/lru_cache.h                            |    400 +
 be/src/olap/merger.cpp                             |    289 +
 be/src/olap/merger.h                               |     80 +
 be/src/olap/olap_common.h                          |    235 +
 be/src/olap/olap_cond.cpp                          |    966 +
 be/src/olap/olap_cond.h                            |    209 +
 be/src/olap/olap_data.cpp                          |   1216 +
 be/src/olap/olap_data.h                            |    383 +
 be/src/olap/olap_define.h                          |    358 +
 be/src/olap/olap_engine.cpp                        |   1473 +
 be/src/olap/olap_engine.h                          |    229 +
 be/src/olap/olap_header.cpp                        |    705 +
 be/src/olap/olap_header.h                          |    135 +
 be/src/olap/olap_index.cpp                         |   1042 +
 be/src/olap/olap_index.h                           |    703 +
 be/src/olap/olap_main.cpp                          |    103 +
 be/src/olap/olap_main.h                            |     33 +
 be/src/olap/olap_reader.cpp                        |    384 +
 be/src/olap/olap_reader.h                          |    124 +
 be/src/olap/olap_rootpath.cpp                      |   1389 +
 be/src/olap/olap_rootpath.h                        |    237 +
 be/src/olap/olap_server.cpp                        |    289 +
 be/src/olap/olap_server.h                          |     98 +
 be/src/olap/olap_snapshot.cpp                      |    666 +
 be/src/olap/olap_snapshot.h                        |    123 +
 be/src/olap/olap_table.cpp                         |   1333 +
 be/src/olap/olap_table.h                           |    689 +
 be/src/olap/push_handler.cpp                       |   1055 +
 be/src/olap/push_handler.h                         |    285 +
 be/src/olap/reader.cpp                             |    710 +
 be/src/olap/reader.h                               |    285 +
 be/src/olap/row_block.cpp                          |    609 +
 be/src/olap/row_block.h                            |    429 +
 be/src/olap/row_cursor.cpp                         |    730 +
 be/src/olap/row_cursor.h                           |    428 +
 be/src/olap/schema_change.cpp                      |   2432 +
 be/src/olap/schema_change.h                        |    364 +
 be/src/olap/utils.cpp                              |   1661 +
 be/src/olap/utils.h                                |    553 +
 be/src/olap/writer.cpp                             |    280 +
 be/src/olap/writer.h                               |    186 +
 be/src/rpc/CMakeLists.txt                          |     54 +
 be/src/rpc/application_handler.h                   |    132 +
 be/src/rpc/application_queue.h                     |    459 +
 be/src/rpc/application_queue_interface.h           |     53 +
 be/src/rpc/byte_string.h                           |    145 +
 be/src/rpc/checksum.cpp                            |     81 +
 be/src/rpc/checksum.h                              |     36 +
 be/src/rpc/clock.h                                 |     32 +
 be/src/rpc/comm.cpp                                |    539 +
 be/src/rpc/comm.h                                  |    509 +
 be/src/rpc/comm_address.cpp                        |     35 +
 be/src/rpc/comm_address.h                          |    229 +
 be/src/rpc/comm_buf.h                              |    301 +
 be/src/rpc/comm_header.cpp                         |     73 +
 be/src/rpc/comm_header.h                           |    133 +
 be/src/rpc/compat.h                                |     48 +
 be/src/rpc/compat_c.h                              |     76 +
 be/src/rpc/connection_handler_factory.h            |     44 +
 be/src/rpc/connection_initializer.h                |     59 +
 be/src/rpc/connection_manager.cpp                  |    506 +
 be/src/rpc/connection_manager.h                    |    405 +
 be/src/rpc/dispatch_handler.h                      |     53 +
 be/src/rpc/dispatch_handler_synchronizer.cpp       |     67 +
 be/src/rpc/dispatch_handler_synchronizer.h         |    114 +
 be/src/rpc/dynamic_buffer.h                        |    202 +
 be/src/rpc/endian_c.h                              |     57 +
 be/src/rpc/error.cpp                               |    450 +
 be/src/rpc/error.h                                 |    532 +
 be/src/rpc/event.cpp                               |     77 +
 be/src/rpc/event.h                                 |    220 +
 be/src/rpc/expire_timer.h                          |     50 +
 be/src/rpc/fast_clock.cpp                          |     39 +
 be/src/rpc/fast_clock.h                            |     43 +
 be/src/rpc/file_utils.cpp                          |    463 +
 be/src/rpc/file_utils.h                            |    263 +
 be/src/rpc/handler_map.cpp                         |    430 +
 be/src/rpc/handler_map.h                           |    422 +
 be/src/rpc/inet_addr.cpp                           |    303 +
 be/src/rpc/inet_addr.h                             |    280 +
 be/src/rpc/io_handler.cpp                          |    131 +
 be/src/rpc/io_handler.h                            |    410 +
 be/src/rpc/io_handler_accept.cpp                   |    115 +
 be/src/rpc/io_handler_accept.h                     |     94 +
 be/src/rpc/io_handler_data.cpp                     |    474 +
 be/src/rpc/io_handler_data.h                       |    249 +
 be/src/rpc/io_handler_datagram.cpp                 |    173 +
 be/src/rpc/io_handler_datagram.h                   |    118 +
 be/src/rpc/io_handler_raw.cpp                      |    109 +
 be/src/rpc/io_handler_raw.h                        |     86 +
 be/src/rpc/poll_event.cpp                          |     65 +
 be/src/rpc/poll_event.h                            |     51 +
 be/src/rpc/poll_timeout.h                          |     82 +
 be/src/rpc/protocol.cpp                            |     78 +
 be/src/rpc/protocol.h                              |    130 +
 be/src/rpc/proxy_map.cpp                           |    188 +
 be/src/rpc/proxy_map.h                             |    209 +
 be/src/rpc/random.cpp                              |     68 +
 be/src/rpc/random.h                                |     54 +
 be/src/rpc/raw_socket_handler.h                    |     61 +
 be/src/rpc/reactor.cpp                             |    251 +
 be/src/rpc/reactor.h                               |    229 +
 be/src/rpc/reactor_factory.cpp                     |     73 +
 be/src/rpc/reactor_factory.h                       |    108 +
 be/src/rpc/reactor_runner.cpp                      |    121 +
 be/src/rpc/reactor_runner.h                        |     75 +
 be/src/rpc/request_cache.cpp                       |    125 +
 be/src/rpc/request_cache.h                         |    120 +
 be/src/rpc/response_callback.cpp                   |     52 +
 be/src/rpc/response_callback.h                     |     97 +
 be/src/rpc/scope_guard.h                           |    283 +
 be/src/rpc/serialization.h                         |    599 +
 be/src/rpc/serialization_c.h                       |    453 +
 be/src/rpc/sock_addr_map.h                         |     50 +
 be/src/rpc/static_buffer.h                         |    225 +
 be/src/rpc/string_ext.h                            |     81 +
 be/src/rpc/timer.h                                 |    141 +
 be/src/rpc/util.cpp                                |    111 +
 be/src/rpc/util.h                                  |    243 +
 be/src/runtime/CMakeLists.txt                      |    110 +
 be/src/runtime/broker_mgr.cpp                      |    104 +
 be/src/runtime/broker_mgr.h                        |     52 +
 be/src/runtime/buffer_control_block.cpp            |    138 +
 be/src/runtime/buffer_control_block.h              |     78 +
 be/src/runtime/buffered_block_mgr.cpp              |     98 +
 be/src/runtime/buffered_block_mgr.h                |    173 +
 be/src/runtime/buffered_block_mgr2.cc              |   1321 +
 be/src/runtime/buffered_block_mgr2.h               |    649 +
 be/src/runtime/buffered_tuple_stream.cpp           |    442 +
 be/src/runtime/buffered_tuple_stream.h             |    417 +
 be/src/runtime/buffered_tuple_stream.hpp           |    101 +
 be/src/runtime/buffered_tuple_stream2.cc           |    715 +
 be/src/runtime/buffered_tuple_stream2.h            |    424 +
 be/src/runtime/buffered_tuple_stream2.inline.h     |     94 +
 be/src/runtime/buffered_tuple_stream2_ir.cc        |    188 +
 be/src/runtime/buffered_tuple_stream_ir.cpp        |    144 +
 .../bufferpool/reservation_tracker_counters.h      |     44 +
 be/src/runtime/client_cache.cpp                    |    218 +
 be/src/runtime/client_cache.h                      |    283 +
 be/src/runtime/data_spliter.cpp                    |    333 +
 be/src/runtime/data_spliter.h                      |    116 +
 be/src/runtime/data_stream_mgr.cpp                 |    193 +
 be/src/runtime/data_stream_mgr.h                   |    158 +
 be/src/runtime/data_stream_recvr.cc                |    436 +
 be/src/runtime/data_stream_recvr.h                 |    205 +
 be/src/runtime/data_stream_recvr.hpp               |     67 +
 be/src/runtime/data_stream_sender.cpp              |    719 +
 be/src/runtime/data_stream_sender.h                |    175 +
 be/src/runtime/datetime_value.cpp                  |   1606 +
 be/src/runtime/datetime_value.h                    |    561 +
 be/src/runtime/decimal_value.cpp                   |   1251 +
 be/src/runtime/decimal_value.h                     |    600 +
 be/src/runtime/descriptors.cpp                     |    644 +
 be/src/runtime/descriptors.h                       |    477 +
 be/src/runtime/disk_io_mgr.cc                      |   1286 +
 be/src/runtime/disk_io_mgr.h                       |    866 +
 be/src/runtime/disk_io_mgr_internal.h              |    475 +
 be/src/runtime/disk_io_mgr_reader_context.cc       |    330 +
 be/src/runtime/disk_io_mgr_scan_range.cc           |    499 +
 be/src/runtime/dpp_sink.cpp                        |    932 +
 be/src/runtime/dpp_sink.h                          |     92 +
 be/src/runtime/dpp_sink_internal.cpp               |    252 +
 be/src/runtime/dpp_sink_internal.h                 |    322 +
 be/src/runtime/dpp_writer.cpp                      |    274 +
 be/src/runtime/dpp_writer.h                        |     81 +
 be/src/runtime/etl_job_mgr.cpp                     |    303 +
 be/src/runtime/etl_job_mgr.h                       |    108 +
 be/src/runtime/exec_env.cpp                        |    217 +
 be/src/runtime/exec_env.h                          |    211 +
 be/src/runtime/export_sink.cpp                     |    250 +
 be/src/runtime/export_sink.h                       |     93 +
 be/src/runtime/export_task_mgr.cpp                 |    242 +
 be/src/runtime/export_task_mgr.h                   |     86 +
 be/src/runtime/fragment_mgr.cpp                    |    493 +
 be/src/runtime/fragment_mgr.h                      |     85 +
 be/src/runtime/free_list.hpp                       |    111 +
 be/src/runtime/free_pool.hpp                       |    166 +
 be/src/runtime/large_int_value.cpp                 |     69 +
 be/src/runtime/large_int_value.h                   |     68 +
 be/src/runtime/lib_cache.cpp                       |    438 +
 be/src/runtime/lib_cache.h                         |    182 +
 be/src/runtime/load_path_mgr.cpp                   |    157 +
 be/src/runtime/load_path_mgr.h                     |     62 +
 be/src/runtime/mem_pool.cpp                        |    353 +
 be/src/runtime/mem_pool.h                          |    317 +
 be/src/runtime/mem_tracker.cpp                     |    351 +
 be/src/runtime/mem_tracker.h                       |    507 +
 be/src/runtime/merge_sorter.cpp                    |    672 +
 be/src/runtime/merge_sorter.h                      |    169 +
 be/src/runtime/multi_precision.h                   |     37 +
 be/src/runtime/mysql_table_sink.cpp                |     88 +
 be/src/runtime/mysql_table_sink.h                  |     83 +
 be/src/runtime/mysql_table_writer.cpp              |    191 +
 be/src/runtime/mysql_table_writer.h                |     77 +
 be/src/runtime/plan_fragment_executor.cpp          |    545 +
 be/src/runtime/plan_fragment_executor.h            |    263 +
 be/src/runtime/primitive_type.cpp                  |    282 +
 be/src/runtime/primitive_type.h                    |    228 +
 be/src/runtime/pull_load_task_mgr.cpp              |    382 +
 be/src/runtime/pull_load_task_mgr.h                |     84 +
 be/src/runtime/qsorter.cpp                         |    148 +
 be/src/runtime/qsorter.h                           |     88 +
 be/src/runtime/raw_value.cpp                       |    359 +
 be/src/runtime/raw_value.h                         |    419 +
 be/src/runtime/raw_value_ir.cpp                    |    118 +
 be/src/runtime/result_buffer_mgr.cpp               |    153 +
 be/src/runtime/result_buffer_mgr.h                 |     88 +
 be/src/runtime/result_sink.cpp                     |     97 +
 be/src/runtime/result_sink.h                       |     80 +
 be/src/runtime/result_writer.cpp                   |    211 +
 be/src/runtime/result_writer.h                     |     60 +
 be/src/runtime/row_batch.cpp                       |    464 +
 be/src/runtime/row_batch.h                         |    506 +
 be/src/runtime/row_batch_interface.hpp             |     33 +
 be/src/runtime/runtime_state.cpp                   |    411 +
 be/src/runtime/runtime_state.h                     |    594 +
 be/src/runtime/sender_dispatcher.h                 |     71 +
 be/src/runtime/sorted_run_merger.cc                |    204 +
 be/src/runtime/sorted_run_merger.h                 |    109 +
 be/src/runtime/sorter.h                            |     63 +
 be/src/runtime/spill_sorter.cc                     |   1322 +
 be/src/runtime/spill_sorter.h                      |    222 +
 be/src/runtime/string_buffer.hpp                   |    131 +
 be/src/runtime/string_search.hpp                   |    196 +
 be/src/runtime/string_value.cpp                    |     41 +
 be/src/runtime/string_value.h                      |    144 +
 be/src/runtime/string_value.hpp                    |    125 +
 be/src/runtime/string_value_ir.cpp                 |     33 +
 be/src/runtime/test_env.cc                         |    118 +
 be/src/runtime/test_env.h                          |     97 +
 be/src/runtime/thread_resource_mgr.cpp             |    125 +
 be/src/runtime/thread_resource_mgr.h               |    303 +
 be/src/runtime/tmp_file_mgr.cc                     |    284 +
 be/src/runtime/tmp_file_mgr.h                      |    203 +
 be/src/runtime/tuple.cpp                           |    207 +
 be/src/runtime/tuple.h                             |    189 +
 be/src/runtime/tuple_row.cpp                       |     26 +
 be/src/runtime/tuple_row.h                         |    128 +
 be/src/runtime/types.cpp                           |    169 +
 be/src/runtime/types.h                             |    302 +
 be/src/runtime/vectorized_row_batch.cpp            |    229 +
 be/src/runtime/vectorized_row_batch.h              |    239 +
 be/src/service/CMakeLists.txt                      |     45 +
 be/src/service/backend_service.cpp                 |    252 +
 be/src/service/backend_service.h                   |    162 +
 be/src/service/palo_main.cpp                       |    183 +
 be/src/service/receiver_dispatcher.h               |    140 +
 be/src/testutil/CMakeLists.txt                     |     30 +
 be/src/testutil/desc_tbl_builder.cc                |    124 +
 be/src/testutil/desc_tbl_builder.h                 |     77 +
 be/src/udf/CMakeLists.txt                          |     52 +
 be/src/udf/uda_test_harness.h                      |    311 +
 be/src/udf/udf.cpp                                 |    436 +
 be/src/udf/udf.h                                   |    738 +
 be/src/udf/udf_debug.h                             |     53 +
 be/src/udf/udf_internal.h                          |    214 +
 be/src/udf/udf_ir.cpp                              |     61 +
 be/src/util/CMakeLists.txt                         |     79 +
 be/src/util/bfd_parser.cpp                         |    269 +
 be/src/util/bfd_parser.h                           |     83 +
 be/src/util/bit_util.h                             |    215 +
 be/src/util/blocking_priority_queue.hpp            |    152 +
 be/src/util/blocking_queue.hpp                     |    178 +
 be/src/util/buffer_builder.hpp                     |     74 +
 be/src/util/codec.cpp                              |    203 +
 be/src/util/codec.h                                |    166 +
 be/src/util/collection_metrics.h                   |    294 +
 be/src/util/compress.cpp                           |    274 +
 be/src/util/compress.h                             |    136 +
 be/src/util/container_util.hpp                     |    106 +
 be/src/util/count_down_latch.hpp                   |     98 +
 be/src/util/cpu_info.cpp                           |    173 +
 be/src/util/cpu_info.h                             |    105 +
 be/src/util/debug_counters.h                       |     74 +
 be/src/util/debug_util.cpp                         |    227 +
 be/src/util/debug_util.h                           |     74 +
 be/src/util/decompress.cpp                         |    395 +
 be/src/util/decompress.h                           |    105 +
 be/src/util/defer_op.h                             |     44 +
 be/src/util/disk_info.cpp                          |    162 +
 be/src/util/disk_info.h                            |    118 +
 be/src/util/dynamic_util.cpp                       |     59 +
 be/src/util/dynamic_util.h                         |     46 +
 be/src/util/error_util.cc                          |    207 +
 be/src/util/error_util.h                           |    176 +
 be/src/util/file_utils.cpp                         |    219 +
 be/src/util/file_utils.h                           |     69 +
 be/src/util/filesystem_util.cc                     |    174 +
 be/src/util/filesystem_util.h                      |     64 +
 be/src/util/hash_util.hpp                          |    311 +
 be/src/util/hash_util_ir.cpp                       |     44 +
 be/src/util/internal_queue.h                       |    286 +
 be/src/util/json_util.h                            |     66 +
 be/src/util/load_error_hub.cpp                     |     64 +
 be/src/util/load_error_hub.h                       |     71 +
 be/src/util/logging.cpp                            |      0
 be/src/util/logging.h                              |     39 +
 be/src/util/lru_cache.hpp                          |    128 +
 be/src/util/mem_info.cpp                           |     95 +
 be/src/util/mem_info.h                             |     55 +
 be/src/util/mem_util.hpp                           |    630 +
 be/src/util/metrics.cpp                            |    299 +
 be/src/util/metrics.h                              |    465 +
 be/src/util/murmur_hash3.cpp                       |    389 +
 be/src/util/murmur_hash3.h                         |     55 +
 be/src/util/mysql_dtoa.cpp                         |   1901 +
 be/src/util/mysql_dtoa.h                           |     34 +
 be/src/util/mysql_global.h                         |     61 +
 be/src/util/mysql_load_error_hub.cpp               |    153 +
 be/src/util/mysql_load_error_hub.h                 |    106 +
 be/src/util/mysql_row_buffer.cpp                   |    302 +
 be/src/util/mysql_row_buffer.h                     |     76 +
 be/src/util/network_util.cpp                       |    146 +
 be/src/util/network_util.h                         |     50 +
 be/src/util/null_load_error_hub.cpp                |     54 +
 be/src/util/null_load_error_hub.h                  |     62 +
 be/src/util/palo_metrics.cpp                       |    158 +
 be/src/util/palo_metrics.h                         |    165 +
 be/src/util/parse_util.cpp                         |    104 +
 be/src/util/parse_util.h                           |     47 +
 be/src/util/path_builder.cpp                       |     56 +
 be/src/util/path_builder.h                         |     48 +
 be/src/util/path_trie.hpp                          |    294 +
 be/src/util/perf_counters.cpp                      |    522 +
 be/src/util/perf_counters.h                        |    147 +
 be/src/util/pretty_printer.h                       |    288 +
 be/src/util/priority_thread_pool.hpp               |    172 +
 be/src/util/progress_updater.cpp                   |     71 +
 be/src/util/progress_updater.h                     |     79 +
 be/src/util/runtime_profile.cpp                    |    904 +
 be/src/util/runtime_profile.h                      |    728 +
 be/src/util/spinlock.cc                            |     41 +
 be/src/util/spinlock.h                             |     86 +
 be/src/util/sse_util.hpp                           |     78 +
 be/src/util/stat_util.hpp                          |     54 +
 be/src/util/static_asserts.cpp                     |     41 +
 be/src/util/stopwatch.hpp                          |    131 +
 be/src/util/streaming_sampler.h                    |    157 +
 be/src/util/string_parser.cpp                      |     30 +
 be/src/util/string_parser.hpp                      |    503 +
 be/src/util/symbols_util.cpp                       |    293 +
 be/src/util/symbols_util.h                         |     76 +
 be/src/util/template_util.h                        |     55 +
 be/src/util/thread_pool.hpp                        |    157 +
 be/src/util/thrift_client.cpp                      |     79 +
 be/src/util/thrift_client.h                        |    171 +
 be/src/util/thrift_server.cpp                      |    385 +
 be/src/util/thrift_server.h                        |    163 +
 be/src/util/thrift_util.cpp                        |    151 +
 be/src/util/thrift_util.h                          |    187 +
 be/src/util/tuple_row_compare.cpp                  |    277 +
 be/src/util/tuple_row_compare.h                    |    172 +
 be/src/util/uid_util.h                             |     42 +
 be/src/util/url_coding.cpp                         |    258 +
 be/src/util/url_coding.h                           |     59 +
 be/src/util/url_parser.cpp                         |    316 +
 be/src/util/url_parser.h                           |    107 +
 be/test/agent/CMakeLists.txt                       |     13 +
 be/test/agent/agent_server_test.cpp                |    193 +
 be/test/agent/cgroups_mgr_test.cpp                 |    209 +
 be/test/agent/file_downloader_test.cpp             |    132 +
 be/test/agent/heartbeat_server_test.cpp            |    114 +
 be/test/agent/mock_file_downloader.h               |     36 +
 be/test/agent/mock_pusher.h                        |     35 +
 be/test/agent/mock_task_worker_pool.h              |     40 +
 be/test/agent/mock_utils.h                         |     76 +
 be/test/agent/pusher_test.cpp                      |    280 +
 be/test/agent/task_worker_pool_test.cpp            |   1831 +
 be/test/agent/test_data/5/6/1.dat                  |      1 +
 be/test/agent/test_data/5/6/1.hdr                  |      1 +
 be/test/agent/test_data/5/6/1.idx                  |      1 +
 be/test/agent/test_data/compressed.lzo             |    Bin 0 -> 26282 bytes
 be/test/agent/test_data/compressed.lzo.decompress  |    Bin 0 -> 47493 bytes
 be/test/agent/test_data/restore_file/12345/123.hdr |      0
 .../test_data/restore_file/12345/123_0_1_0_0.dat   |      0
 .../test_data/restore_file/12345/123_0_1_0_0.idx   |      0
 be/test/agent/utils_test.cpp                       |     52 +
 be/test/common/CMakeLists.txt                      |     24 +
 be/test/common/resource_tls_test.cpp               |     61 +
 be/test/exec/CMakeLists.txt                        |     62 +
 be/test/exec/broker_reader_test.cpp                |     98 +
 be/test/exec/broker_scan_node_test.cpp             |    440 +
 be/test/exec/broker_scanner_test.cpp               |    669 +
 be/test/exec/csv_scan_bench_test.cpp               |    352 +
 be/test/exec/csv_scan_node_test.cpp                |    448 +
 be/test/exec/csv_scanner_test.cpp                  |    108 +
 be/test/exec/hash_table_test.cpp                   |    359 +
 be/test/exec/mysql_scan_node_test.cpp              |    297 +
 be/test/exec/mysql_scanner_test.cpp                |    130 +
 be/test/exec/new_olap_scan_node_test.cpp           |    403 +
 be/test/exec/olap_common_test.cpp                  |    759 +
 be/test/exec/olap_scan_node_test.cpp               |    451 +
 be/test/exec/olap_scanner_test.cpp                 |     95 +
 be/test/exec/partitioned_hash_table_test.cpp       |    609 +
 be/test/exec/plain_text_line_reader_bzip_test.cpp  |    244 +
 be/test/exec/plain_text_line_reader_gzip_test.cpp  |    244 +
 .../exec/plain_text_line_reader_lz4frame_test.cpp  |    244 +
 be/test/exec/plain_text_line_reader_lzop_test.cpp  |    307 +
 .../plain_text_line_reader_uncompressed_test.cpp   |    254 +
 be/test/exec/schema_scan_node_test.cpp             |    245 +
 .../schema_scanner/schema_authors_scanner_test.cpp |    111 +
 .../schema_charsets_scanner_test.cpp               |    111 +
 .../schema_collations_scanner_test.cpp             |    111 +
 .../schema_scanner/schema_columns_scanner_test.cpp |    218 +
 .../schema_create_table_scanner_test.cpp           |    218 +
 .../schema_scanner/schema_engines_scanner_test.cpp |    111 +
 .../schema_open_tables_scanner_test.cpp            |    218 +
 .../schema_schemata_scanner_test.cpp               |    184 +
 .../schema_table_names_scanner_test.cpp            |    201 +
 .../schema_scanner/schema_tables_scanner_test.cpp  |    218 +
 .../schema_variables_scanner_test.cpp              |    112 +
 be/test/exec/schema_scanner_test.cpp               |    122 +
 be/test/exec/set_executor_test.cpp                 |    130 +
 be/test/exec/test_data/broker_scanner/normal.csv   |      5 +
 .../exec/test_data/broker_scanner/normal2_1.csv    |      4 +
 .../exec/test_data/broker_scanner/normal2_2.csv    |      3 +
 .../exec/test_data/csv_scan_node/continuous_delim  |      1 +
 .../exec/test_data/csv_scan_node/fill_string_len   |      1 +
 be/test/exec/test_data/csv_scan_node/normal_use    |      6 +
 .../test_data/csv_scan_node/wrong_decimal_format   |      5 +
 .../test_data/csv_scan_node/wrong_fix_len_string   |      1 +
 be/test/exec/test_data/csv_scanner/csv_file1       |     11 +
 be/test/exec/test_data/csv_scanner/csv_file2       |      1 +
 .../test_data/plain_text_line_reader/larger.txt    |      6 +
 .../plain_text_line_reader/larger.txt.lzo          |    Bin 0 -> 116 bytes
 .../test_data/plain_text_line_reader/limit.csv     |      5 +
 .../test_data/plain_text_line_reader/limit.csv.bz2 |    Bin 0 -> 51 bytes
 .../test_data/plain_text_line_reader/limit.csv.gz  |    Bin 0 -> 47 bytes
 .../test_data/plain_text_line_reader/limit.csv.lz4 |    Bin 0 -> 40 bytes
 .../test_data/plain_text_line_reader/limit.csv.lzo |    Bin 0 -> 84 bytes
 .../test_data/plain_text_line_reader/test_file.csv |      5 +
 .../plain_text_line_reader/test_file.csv.bz2       |    Bin 0 -> 48 bytes
 .../plain_text_line_reader/test_file.csv.gz        |    Bin 0 -> 49 bytes
 .../plain_text_line_reader/test_file.csv.lz4       |    Bin 0 -> 34 bytes
 .../plain_text_line_reader/test_file.csv.lzo       |    Bin 0 -> 82 bytes
 be/test/exprs/CMakeLists.txt                       |     32 +
 be/test/exprs/binary_predicate_test.cpp            |    260 +
 be/test/exprs/hybird_set_test.cpp                  |    389 +
 be/test/exprs/in_op_test.cpp                       |    243 +
 be/test/exprs/in_predicate_test.cpp                |    146 +
 be/test/exprs/json_function_test.cpp               |    176 +
 be/test/olap/CMakeLists.txt                        |     22 +
 be/test/olap/bit_field_test.cpp                    |    201 +
 be/test/olap/bloom_filter_index_test.cpp           |    120 +
 be/test/olap/bloom_filter_test.cpp                 |    170 +
 be/test/olap/byte_buffer_test.cpp                  |    200 +
 be/test/olap/column_reader_test.cpp                |   3053 +
 be/test/olap/command_executor_test.cpp             |   1852 +
 be/test/olap/delete_handler_test.cpp               |   1142 +
 be/test/olap/file_helper_test.cpp                  |    111 +
 be/test/olap/file_utils_test.cpp                   |     97 +
 be/test/olap/lru_cache_test.cpp                    |    250 +
 be/test/olap/mock_command_executor.h               |     97 +
 be/test/olap/mock_olap_rootpath.h                  |     30 +
 be/test/olap/olap_reader_test.cpp                  |   1589 +
 be/test/olap/row_block_test.cpp                    |    745 +
 be/test/olap/run_length_byte_test.cpp              |    864 +
 be/test/olap/run_length_integer_test.cpp           |    856 +
 be/test/olap/stream_index_test.cpp                 |    407 +
 be/test/olap/test_data/all_types_100               |    Bin 0 -> 9368 bytes
 be/test/olap/test_data/all_types_100.txt           |    100 +
 be/test/olap/test_data/all_types_1000              |    Bin 0 -> 92068 bytes
 be/test/olap/test_data/all_types_1000.txt          |   1000 +
 be/test/olap/test_data/all_types_100000            |    Bin 0 -> 9300068 bytes
 be/test/olap/test_data/all_types_100000.txt        | 100000 ++++++++++++++++++
 be/test/olap/test_data/all_types_100_rollup        |    Bin 0 -> 7367 bytes
 be/test/olap/test_data/row_table/10009.hdr         |    Bin 0 -> 930 bytes
 be/test/olap/test_data/row_table/10009_0_1_0_0.dat |    Bin 0 -> 42 bytes
 be/test/olap/test_data/row_table/10009_0_1_0_0.idx |    Bin 0 -> 72 bytes
 .../row_table/10009_2_2_7366856083625085639_0.dat  |    Bin 0 -> 56275 bytes
 .../row_table/10009_2_2_7366856083625085639_0.idx  |    Bin 0 -> 196 bytes
 be/test/olap/vectorized_olap_reader_test.cpp       |    901 +
 be/test/runtime/CMakeLists.txt                     |     56 +
 be/test/runtime/buffer_control_block_test.cpp      |    200 +
 be/test/runtime/buffered_block_mgr2_test.cpp       |   1298 +
 be/test/runtime/buffered_tuple_stream2_test.cpp    |    856 +
 be/test/runtime/buffered_tuple_stream_test.cpp     |    274 +
 be/test/runtime/data_spliter_test.cpp              |    288 +
 be/test/runtime/data_stream_test.cpp               |    722 +
 be/test/runtime/datetime_value_test.cpp            |   1406 +
 be/test/runtime/decimal_value_test.cpp             |    556 +
 be/test/runtime/disk_io_mgr_test.cpp               |   1120 +
 be/test/runtime/dpp_sink_internal_test.cpp         |    213 +
 be/test/runtime/dpp_sink_test.cpp                  |    271 +
 be/test/runtime/dpp_writer_test.cpp                |    223 +
 be/test/runtime/etl_job_mgr_test.cpp               |    239 +
 be/test/runtime/export_task_mgr_test.cpp           |    239 +
 be/test/runtime/fragment_mgr_test.cpp              |    129 +
 be/test/runtime/free_list_test.cpp                 |    164 +
 be/test/runtime/large_int_value_test.cpp           |    107 +
 be/test/runtime/mem_limit_test.cpp                 |    269 +
 be/test/runtime/mem_pool_test.cpp                  |    311 +
 be/test/runtime/mysql_table_writer_test.cpp        |    203 +
 be/test/runtime/pull_load_task_mgr_test.cpp        |    220 +
 be/test/runtime/qsorter_test.cpp                   |    297 +
 be/test/runtime/raw_value_test.cpp                 |     60 +
 be/test/runtime/result_buffer_mgr_test.cpp         |    134 +
 be/test/runtime/result_sink_test.cpp               |    109 +
 be/test/runtime/result_writer_test.cpp             |    167 +
 be/test/runtime/sorter_test.cpp                    |    379 +
 be/test/runtime/string_buffer_test.cpp             |     88 +
 be/test/runtime/string_value_test.cpp              |     97 +
 be/test/runtime/thread_resource_mgr_test.cpp       |    110 +
 be/test/runtime/tmp_file_mgr_test.cpp              |    255 +
 be/test/udf/CMakeLists.txt                         |     28 +
 be/test/udf/uda_test.cpp                           |    331 +
 be/test/udf/udf_test.cpp                           |    227 +
 be/test/util/CMakeLists.txt                        |     39 +
 be/test/util/bit_util_test.cpp                     |     66 +
 be/test/util/blocking_queue_test.cpp               |    148 +
 be/test/util/count_down_latch_test.cpp             |     97 +
 be/test/util/debug_util_test.cpp                   |     82 +
 be/test/util/decompress_test.cpp                   |    121 +
 be/test/util/filesystem_util_test.cpp              |     81 +
 be/test/util/internal_queue_test.cpp               |    330 +
 be/test/util/lru_cache_util_test.cpp               |     99 +
 be/test/util/metrics_test.cpp                      |    156 +
 be/test/util/mysql_row_buffer_test.cpp             |    159 +
 be/test/util/path_trie_test.cpp                    |    176 +
 be/test/util/perf_counters_test.cpp                |     87 +
 be/test/util/runtime_profile_test.cpp              |    370 +
 be/test/util/string_parser_test.cpp                |    504 +
 be/test/util/thread_pool_test.cpp                  |     85 +
 be/test/util/url_coding_test.cpp                   |    123 +
 bin/start_be.sh                                    |     67 +
 bin/start_fe.sh                                    |     79 +
 bin/stop_be.sh                                     |     51 +
 bin/stop_fe.sh                                     |     40 +
 build.sh                                           |    121 +
 conf/be.conf                                       |     27 +
 conf/fe.conf                                       |     51 +
 docs/Makefile                                      |     21 +
 docs/admin_guide/install.md                        |    212 +
 docs/design/data_export.md                         |    469 +
 docs/design/show_load_warnings.md                  |    182 +
 docs/help/Contents/Account Management/help.md      |    141 +
 docs/help/Contents/Administration/admin_stmt.md    |    212 +
 docs/help/Contents/Data Definition/ddl_stmt.md     |    894 +
 .../Data Manipulation/manipulation_stmt.md         |    764 +
 docs/help/Contents/Data Types/help.md              |     77 +
 .../Functions/Date and Time Functions/help.md      |    310 +
 docs/help/Contents/Utility/util_stmt.md            |     13 +
 docs/resources/aggregate_key.jpg                   |    Bin 0 -> 101734 bytes
 docs/resources/duplicate_key.jpg                   |    Bin 0 -> 105263 bytes
 docs/resources/export_plan_tree_1.png              |    Bin 0 -> 25962 bytes
 docs/resources/export_plan_tree_2.png              |    Bin 0 -> 43009 bytes
 docs/resources/export_status_change.png            |    Bin 0 -> 56899 bytes
 docs/resources/log_replication.jpg                 |    Bin 0 -> 174704 bytes
 docs/resources/multi_medium_storage.jpg            |    Bin 0 -> 42189 bytes
 docs/resources/palo_architecture.jpg               |    Bin 0 -> 162011 bytes
 docs/resources/palo_export_mind_map.svg            |      1 +
 docs/resources/palo_usage.jpg                      |    Bin 0 -> 258334 bytes
 docs/resources/two_level_partition.jpg             |    Bin 0 -> 175487 bytes
 docs/user_guide/FAQ.md                             |    311 +
 docs/user_guide/sql_reference.md                   |   3984 +
 docs/user_guide/tutorial.md                        |    667 +
 fe/build.xml                                       |    132 +
 fe/src/com/baidu/palo/PaloFe.java                  |    124 +
 fe/src/com/baidu/palo/alter/Alter.java             |    260 +
 fe/src/com/baidu/palo/alter/AlterHandler.java      |    398 +
 fe/src/com/baidu/palo/alter/AlterJob.java          |    340 +
 .../baidu/palo/alter/DecommissionBackendJob.java   |    600 +
 fe/src/com/baidu/palo/alter/RollupHandler.java     |    731 +
 fe/src/com/baidu/palo/alter/RollupJob.java         |    894 +
 .../com/baidu/palo/alter/SchemaChangeHandler.java  |   1389 +
 fe/src/com/baidu/palo/alter/SchemaChangeJob.java   |    989 +
 fe/src/com/baidu/palo/alter/SystemHandler.java     |    350 +
 .../baidu/palo/analysis/AbstractBackupStmt.java    |    133 +
 .../com/baidu/palo/analysis/AddBackendClause.java  |     42 +
 .../com/baidu/palo/analysis/AddColumnClause.java   |    111 +
 .../com/baidu/palo/analysis/AddColumnsClause.java  |     99 +
 .../com/baidu/palo/analysis/AddFollowerClause.java |     37 +
 .../com/baidu/palo/analysis/AddObserverClause.java |     37 +
 .../baidu/palo/analysis/AddPartitionClause.java    |    131 +
 .../com/baidu/palo/analysis/AddRollupClause.java   |    184 +
 fe/src/com/baidu/palo/analysis/AggregateInfo.java  |    754 +
 .../com/baidu/palo/analysis/AggregateInfoBase.java |    229 +
 .../baidu/palo/analysis/AggregateParamsList.java   |     64 +
 fe/src/com/baidu/palo/analysis/AlterClause.java    |     78 +
 .../baidu/palo/analysis/AlterClusterClause.java    |     94 +
 .../com/baidu/palo/analysis/AlterClusterStmt.java  |     88 +
 .../com/baidu/palo/analysis/AlterClusterType.java  |     32 +
 .../palo/analysis/AlterDatabaseQuotaStmt.java      |     68 +
 .../baidu/palo/analysis/AlterDatabaseRename.java   |     74 +
 .../palo/analysis/AlterLoadErrorUrlClause.java     |     70 +
 .../com/baidu/palo/analysis/AlterSystemStmt.java   |     72 +
 fe/src/com/baidu/palo/analysis/AlterTableStmt.java |    120 +
 .../com/baidu/palo/analysis/AlterUserClause.java   |    124 +
 fe/src/com/baidu/palo/analysis/AlterUserStmt.java  |    140 +
 fe/src/com/baidu/palo/analysis/AlterUserType.java  |     32 +
 fe/src/com/baidu/palo/analysis/AnalyticExpr.java   |    815 +
 fe/src/com/baidu/palo/analysis/AnalyticInfo.java   |    190 +
 fe/src/com/baidu/palo/analysis/AnalyticWindow.java |    502 +
 fe/src/com/baidu/palo/analysis/Analyzer.java       |   1546 +
 fe/src/com/baidu/palo/analysis/ArithmeticExpr.java |    273 +
 fe/src/com/baidu/palo/analysis/BackendClause.java  |     67 +
 fe/src/com/baidu/palo/analysis/BackupStmt.java     |     56 +
 fe/src/com/baidu/palo/analysis/BaseTableRef.java   |     78 +
 .../com/baidu/palo/analysis/BetweenPredicate.java  |     99 +
 .../com/baidu/palo/analysis/BinaryPredicate.java   |    494 +
 fe/src/com/baidu/palo/analysis/BoolLiteral.java    |    126 +
 fe/src/com/baidu/palo/analysis/BrokerDesc.java     |     85 +
 .../palo/analysis/BuiltinAggregateFunction.java    |    152 +
 .../baidu/palo/analysis/CancelAlterSystemStmt.java |     67 +
 .../baidu/palo/analysis/CancelAlterTableStmt.java  |     76 +
 .../com/baidu/palo/analysis/CancelBackupStmt.java  |     82 +
 fe/src/com/baidu/palo/analysis/CancelLoadStmt.java |    133 +
 fe/src/com/baidu/palo/analysis/CancelStmt.java     |     24 +
 fe/src/com/baidu/palo/analysis/CaseExpr.java       |    254 +
 fe/src/com/baidu/palo/analysis/CaseWhenClause.java |     44 +
 fe/src/com/baidu/palo/analysis/CastExpr.java       |    263 +
 fe/src/com/baidu/palo/analysis/ClusterName.java    |     83 +
 fe/src/com/baidu/palo/analysis/ColumnPosition.java |     72 +
 .../baidu/palo/analysis/ColumnRenameClause.java    |     75 +
 .../com/baidu/palo/analysis/ColumnSeparator.java   |    103 +
 .../com/baidu/palo/analysis/CompoundPredicate.java |    192 +
 .../com/baidu/palo/analysis/CreateClusterStmt.java |    119 +
 fe/src/com/baidu/palo/analysis/CreateDbStmt.java   |     73 +
 .../baidu/palo/analysis/CreateFunctionStmt.java    |    101 +
 .../palo/analysis/CreateTableAsSelectStmt.java     |    120 +
 .../com/baidu/palo/analysis/CreateTableStmt.java   |    487 +
 fe/src/com/baidu/palo/analysis/CreateUserStmt.java |    143 +
 fe/src/com/baidu/palo/analysis/CreateViewStmt.java |    163 +
 .../com/baidu/palo/analysis/DataDescription.java   |    453 +
 fe/src/com/baidu/palo/analysis/DateLiteral.java    |    199 +
 fe/src/com/baidu/palo/analysis/DdlStmt.java        |     28 +
 fe/src/com/baidu/palo/analysis/DecimalLiteral.java |    229 +
 .../palo/analysis/DecommissionBackendClause.java   |     56 +
 fe/src/com/baidu/palo/analysis/DeleteStmt.java     |    148 +
 fe/src/com/baidu/palo/analysis/DescribeStmt.java   |    248 +
 .../com/baidu/palo/analysis/DescriptorTable.java   |    183 +
 .../com/baidu/palo/analysis/DistributionDesc.java  |     82 +
 .../com/baidu/palo/analysis/DropBackendClause.java |     42 +
 .../com/baidu/palo/analysis/DropClusterStmt.java   |     84 +
 .../com/baidu/palo/analysis/DropColumnClause.java  |     80 +
 fe/src/com/baidu/palo/analysis/DropDbStmt.java     |     77 +
 .../baidu/palo/analysis/DropFollowerClause.java    |     36 +
 .../com/baidu/palo/analysis/DropFunctionStmt.java  |     51 +
 .../baidu/palo/analysis/DropObserverClause.java    |     36 +
 .../baidu/palo/analysis/DropPartitionClause.java   |     71 +
 .../com/baidu/palo/analysis/DropRollupClause.java  |     66 +
 fe/src/com/baidu/palo/analysis/DropTableStmt.java  |     89 +
 fe/src/com/baidu/palo/analysis/DropUserStmt.java   |     71 +
 fe/src/com/baidu/palo/analysis/EmptyStmt.java      |     29 +
 fe/src/com/baidu/palo/analysis/EnterStmt.java      |     73 +
 .../com/baidu/palo/analysis/ExistsPredicate.java   |     76 +
 fe/src/com/baidu/palo/analysis/ExportStmt.java     |    263 +
 fe/src/com/baidu/palo/analysis/Expr.java           |   1514 +
 fe/src/com/baidu/palo/analysis/ExprId.java         |     45 +
 .../baidu/palo/analysis/ExprSubstitutionMap.java   |    182 +
 fe/src/com/baidu/palo/analysis/FloatLiteral.java   |    194 +
 fe/src/com/baidu/palo/analysis/FromClause.java     |    156 +
 fe/src/com/baidu/palo/analysis/FrontendClause.java |     78 +
 fe/src/com/baidu/palo/analysis/FunctionArgs.java   |     51 +
 .../com/baidu/palo/analysis/FunctionCallExpr.java  |    545 +
 fe/src/com/baidu/palo/analysis/FunctionName.java   |    181 +
 fe/src/com/baidu/palo/analysis/FunctionParams.java |    113 +
 fe/src/com/baidu/palo/analysis/GrantStmt.java      |    102 +
 .../baidu/palo/analysis/HashDistributionDesc.java  |    146 +
 fe/src/com/baidu/palo/analysis/HdfsURI.java        |     86 +
 fe/src/com/baidu/palo/analysis/HelpStmt.java       |     87 +
 fe/src/com/baidu/palo/analysis/InPredicate.java    |    256 +
 .../baidu/palo/analysis/InformationFunction.java   |     82 +
 fe/src/com/baidu/palo/analysis/InlineViewRef.java  |    438 +
 fe/src/com/baidu/palo/analysis/InsertSource.java   |     37 +
 fe/src/com/baidu/palo/analysis/InsertStmt.java     |    379 +
 fe/src/com/baidu/palo/analysis/InsertTarget.java   |     41 +
 fe/src/com/baidu/palo/analysis/IntLiteral.java     |    339 +
 .../com/baidu/palo/analysis/IsNullPredicate.java   |    136 +
 fe/src/com/baidu/palo/analysis/JoinOperator.java   |     92 +
 fe/src/com/baidu/palo/analysis/KeysDesc.java       |    144 +
 fe/src/com/baidu/palo/analysis/KillStmt.java       |     71 +
 fe/src/com/baidu/palo/analysis/LabelName.java      |    115 +
 .../com/baidu/palo/analysis/LargeIntLiteral.java   |    225 +
 fe/src/com/baidu/palo/analysis/LikePredicate.java  |    142 +
 fe/src/com/baidu/palo/analysis/LimitElement.java   |     97 +
 fe/src/com/baidu/palo/analysis/LinkDbStmt.java     |    106 +
 fe/src/com/baidu/palo/analysis/LiteralExpr.java    |    190 +
 fe/src/com/baidu/palo/analysis/LoadStmt.java       |    206 +
 fe/src/com/baidu/palo/analysis/MaxLiteral.java     |     79 +
 fe/src/com/baidu/palo/analysis/MigrateDbStmt.java  |    102 +
 .../baidu/palo/analysis/ModifyBrokerClause.java    |    108 +
 .../baidu/palo/analysis/ModifyColumnClause.java    |     95 +
 .../baidu/palo/analysis/ModifyPartitionClause.java |     80 +
 .../palo/analysis/ModifyTablePropertiesClause.java |     66 +
 fe/src/com/baidu/palo/analysis/NullLiteral.java    |    150 +
 fe/src/com/baidu/palo/analysis/OpcodeRegistry.java |    338 +
 fe/src/com/baidu/palo/analysis/OrderByElement.java |    158 +
 fe/src/com/baidu/palo/analysis/ParseNode.java      |     42 +
 fe/src/com/baidu/palo/analysis/PartitionDesc.java  |     80 +
 .../com/baidu/palo/analysis/PartitionKeyDesc.java  |    120 +
 fe/src/com/baidu/palo/analysis/PartitionName.java  |    204 +
 .../baidu/palo/analysis/PartitionRenameClause.java |     75 +
 fe/src/com/baidu/palo/analysis/Predicate.java      |    109 +
 fe/src/com/baidu/palo/analysis/QueryStmt.java      |    522 +
 .../palo/analysis/RandomDistributionDesc.java      |     79 +
 .../baidu/palo/analysis/RangePartitionDesc.java    |    217 +
 fe/src/com/baidu/palo/analysis/RecoverDbStmt.java  |     60 +
 .../baidu/palo/analysis/RecoverPartitionStmt.java  |     72 +
 .../com/baidu/palo/analysis/RecoverTableStmt.java  |     66 +
 fe/src/com/baidu/palo/analysis/RedirectStatus.java |     56 +
 .../baidu/palo/analysis/ReorderColumnsClause.java  |     93 +
 fe/src/com/baidu/palo/analysis/RestoreStmt.java    |     56 +
 fe/src/com/baidu/palo/analysis/RevokeStmt.java     |     76 +
 .../baidu/palo/analysis/RollupRenameClause.java    |     75 +
 .../com/baidu/palo/analysis/SchemaTableType.java   |    105 +
 fe/src/com/baidu/palo/analysis/SelectList.java     |     98 +
 fe/src/com/baidu/palo/analysis/SelectListItem.java |    116 +
 fe/src/com/baidu/palo/analysis/SelectStmt.java     |   1268 +
 fe/src/com/baidu/palo/analysis/SetNamesVar.java    |     71 +
 fe/src/com/baidu/palo/analysis/SetPassVar.java     |     77 +
 fe/src/com/baidu/palo/analysis/SetStmt.java        |     84 +
 fe/src/com/baidu/palo/analysis/SetTransaction.java |     29 +
 fe/src/com/baidu/palo/analysis/SetType.java        |     63 +
 .../baidu/palo/analysis/SetUserPropertyStmt.java   |     89 +
 .../baidu/palo/analysis/SetUserPropertyVar.java    |    108 +
 fe/src/com/baidu/palo/analysis/SetVar.java         |    106 +
 fe/src/com/baidu/palo/analysis/ShowAlterStmt.java  |    166 +
 fe/src/com/baidu/palo/analysis/ShowAuthorStmt.java |     53 +
 fe/src/com/baidu/palo/analysis/ShowBackupStmt.java |    181 +
 fe/src/com/baidu/palo/analysis/ShowBrokerStmt.java |     45 +
 .../com/baidu/palo/analysis/ShowCharsetStmt.java   |     49 +
 .../com/baidu/palo/analysis/ShowClusterStmt.java   |     68 +
 .../com/baidu/palo/analysis/ShowCollationStmt.java |     52 +
 fe/src/com/baidu/palo/analysis/ShowColumnStmt.java |    175 +
 .../com/baidu/palo/analysis/ShowCreateDbStmt.java  |     81 +
 .../baidu/palo/analysis/ShowCreateTableStmt.java   |    100 +
 fe/src/com/baidu/palo/analysis/ShowDataStmt.java   |    260 +
 fe/src/com/baidu/palo/analysis/ShowDbStmt.java     |    101 +
 fe/src/com/baidu/palo/analysis/ShowDeleteStmt.java |     93 +
 .../com/baidu/palo/analysis/ShowEnginesStmt.java   |     56 +
 fe/src/com/baidu/palo/analysis/ShowEventsStmt.java |     55 +
 fe/src/com/baidu/palo/analysis/ShowExportStmt.java |    284 +
 fe/src/com/baidu/palo/analysis/ShowKeysStmt.java   |     52 +
 fe/src/com/baidu/palo/analysis/ShowLoadStmt.java   |    290 +
 .../baidu/palo/analysis/ShowLoadWarningsStmt.java  |    205 +
 .../baidu/palo/analysis/ShowMigrationsStmt.java    |     63 +
 .../com/baidu/palo/analysis/ShowOpenTableStmt.java |     44 +
 .../baidu/palo/analysis/ShowPartitionsStmt.java    |    136 +
 .../com/baidu/palo/analysis/ShowPluginsStmt.java   |     56 +
 fe/src/com/baidu/palo/analysis/ShowProcStmt.java   |     80 +
 .../com/baidu/palo/analysis/ShowProcedureStmt.java |     51 +
 .../baidu/palo/analysis/ShowProcesslistStmt.java   |     60 +
 .../com/baidu/palo/analysis/ShowRestoreStmt.java   |    181 +
 fe/src/com/baidu/palo/analysis/ShowRollupStmt.java |     95 +
 fe/src/com/baidu/palo/analysis/ShowStatusStmt.java |     43 +
 fe/src/com/baidu/palo/analysis/ShowStmt.java       |     36 +
 .../baidu/palo/analysis/ShowTableStatusStmt.java   |    198 +
 fe/src/com/baidu/palo/analysis/ShowTableStmt.java  |    154 +
 fe/src/com/baidu/palo/analysis/ShowTabletStmt.java |    121 +
 .../com/baidu/palo/analysis/ShowTriggersStmt.java  |     50 +
 .../baidu/palo/analysis/ShowUserPropertyStmt.java  |    135 +
 .../com/baidu/palo/analysis/ShowVariablesStmt.java |    132 +
 .../com/baidu/palo/analysis/ShowWarningStmt.java   |     43 +
 .../com/baidu/palo/analysis/ShowWhiteListStmt.java |     41 +
 .../palo/analysis/SingleRangePartitionDesc.java    |    221 +
 fe/src/com/baidu/palo/analysis/SlotDescriptor.java |    260 +
 fe/src/com/baidu/palo/analysis/SlotId.java         |     39 +
 fe/src/com/baidu/palo/analysis/SlotRef.java        |    308 +
 fe/src/com/baidu/palo/analysis/SortInfo.java       |    261 +
 fe/src/com/baidu/palo/analysis/StatementBase.java  |    180 +
 fe/src/com/baidu/palo/analysis/StmtRewriter.java   |    914 +
 fe/src/com/baidu/palo/analysis/StringLiteral.java  |    226 +
 fe/src/com/baidu/palo/analysis/Subquery.java       |    187 +
 fe/src/com/baidu/palo/analysis/SyncStmt.java       |     38 +
 .../com/baidu/palo/analysis/SysVariableDesc.java   |    134 +
 fe/src/com/baidu/palo/analysis/TableName.java      |    131 +
 fe/src/com/baidu/palo/analysis/TableRef.java       |    642 +
 .../com/baidu/palo/analysis/TableRenameClause.java |     65 +
 .../palo/analysis/TimestampArithmeticExpr.java     |    331 +
 fe/src/com/baidu/palo/analysis/ToSqlUtils.java     |     56 +
 .../com/baidu/palo/analysis/TupleDescriptor.java   |    277 +
 fe/src/com/baidu/palo/analysis/TupleId.java        |     42 +
 .../baidu/palo/analysis/TupleIsNullPredicate.java  |    146 +
 fe/src/com/baidu/palo/analysis/UnionStmt.java      |    685 +
 .../com/baidu/palo/analysis/UnsupportedStmt.java   |     42 +
 fe/src/com/baidu/palo/analysis/UseStmt.java        |     75 +
 fe/src/com/baidu/palo/analysis/UserDesc.java       |     58 +
 fe/src/com/baidu/palo/analysis/WithClause.java     |    138 +
 .../com/baidu/palo/backup/AbstractBackupJob.java   |    246 +
 .../baidu/palo/backup/AsynchronousCmdExecutor.java |     49 +
 fe/src/com/baidu/palo/backup/BackupHandler.java    |    788 +
 fe/src/com/baidu/palo/backup/BackupJob.java        |    953 +
 fe/src/com/baidu/palo/backup/BackupVersion.java    |     24 +
 fe/src/com/baidu/palo/backup/CommandBuilder.java   |    121 +
 fe/src/com/baidu/palo/backup/DirSaver.java         |    221 +
 fe/src/com/baidu/palo/backup/FileSaver.java        |     46 +
 fe/src/com/baidu/palo/backup/FileSaverI.java       |    142 +
 fe/src/com/baidu/palo/backup/MetaDownloadTask.java |    366 +
 fe/src/com/baidu/palo/backup/MetaUploadTask.java   |     43 +
 fe/src/com/baidu/palo/backup/ObjectWriter.java     |    186 +
 fe/src/com/baidu/palo/backup/PathBuilder.java      |    194 +
 fe/src/com/baidu/palo/backup/RestoreJob.java       |    895 +
 fe/src/com/baidu/palo/backup/ResultfulTask.java    |     35 +
 fe/src/com/baidu/palo/backup/SaveManifestTask.java |    227 +
 fe/src/com/baidu/palo/catalog/AccessPrivilege.java |     84 +
 .../com/baidu/palo/catalog/AggregateFunction.java  |    245 +
 fe/src/com/baidu/palo/catalog/AggregateType.java   |    134 +
 fe/src/com/baidu/palo/catalog/ArrayType.java       |     83 +
 fe/src/com/baidu/palo/catalog/BrokerMgr.java       |    405 +
 fe/src/com/baidu/palo/catalog/BrokerTable.java     |    235 +
 fe/src/com/baidu/palo/catalog/Catalog.java         |   5085 +
 .../com/baidu/palo/catalog/CatalogRecycleBin.java  |    863 +
 fe/src/com/baidu/palo/catalog/Column.java          |    503 +
 fe/src/com/baidu/palo/catalog/ColumnStats.java     |    188 +
 fe/src/com/baidu/palo/catalog/ColumnType.java      |    361 +
 fe/src/com/baidu/palo/catalog/DataProperty.java    |    101 +
 fe/src/com/baidu/palo/catalog/Database.java        |    457 +
 fe/src/com/baidu/palo/catalog/DiskInfo.java        |    108 +
 .../com/baidu/palo/catalog/DistributionInfo.java   |    114 +
 .../com/baidu/palo/catalog/DomainParserServer.java |    335 +
 fe/src/com/baidu/palo/catalog/Function.java        |    448 +
 fe/src/com/baidu/palo/catalog/FunctionSet.java     |    834 +
 .../baidu/palo/catalog/HashDistributionInfo.java   |    144 +
 fe/src/com/baidu/palo/catalog/InfoSchemaDb.java    |     93 +
 fe/src/com/baidu/palo/catalog/InlineView.java      |     63 +
 fe/src/com/baidu/palo/catalog/KeysType.java        |     61 +
 fe/src/com/baidu/palo/catalog/KuduPartition.java   |    134 +
 fe/src/com/baidu/palo/catalog/KuduTable.java       |    146 +
 fe/src/com/baidu/palo/catalog/MapType.java         |     94 +
 .../com/baidu/palo/catalog/MaterializedIndex.java  |    238 +
 fe/src/com/baidu/palo/catalog/MetaObject.java      |     73 +
 fe/src/com/baidu/palo/catalog/MetaReplayState.java |     74 +
 .../baidu/palo/catalog/MetaSignatureVersion.java   |     27 +
 fe/src/com/baidu/palo/catalog/MysqlTable.java      |    229 +
 fe/src/com/baidu/palo/catalog/OlapTable.java       |    743 +
 fe/src/com/baidu/palo/catalog/Partition.java       |    267 +
 fe/src/com/baidu/palo/catalog/PartitionInfo.java   |    143 +
 fe/src/com/baidu/palo/catalog/PartitionKey.java    |    320 +
 fe/src/com/baidu/palo/catalog/PartitionType.java   |     59 +
 fe/src/com/baidu/palo/catalog/PrimitiveType.java   |    754 +
 .../baidu/palo/catalog/RandomDistributionInfo.java |     94 +
 .../com/baidu/palo/catalog/RangePartitionInfo.java |    419 +
 fe/src/com/baidu/palo/catalog/Replica.java         |    210 +
 fe/src/com/baidu/palo/catalog/ResourceGroup.java   |    148 +
 fe/src/com/baidu/palo/catalog/ResourceType.java    |    114 +
 fe/src/com/baidu/palo/catalog/ScalarFunction.java  |    242 +
 fe/src/com/baidu/palo/catalog/ScalarType.java      |    568 +
 fe/src/com/baidu/palo/catalog/SchemaTable.java     |    657 +
 .../baidu/palo/catalog/SinglePartitionInfo.java    |     47 +
 fe/src/com/baidu/palo/catalog/StructField.java     |    122 +
 fe/src/com/baidu/palo/catalog/StructType.java      |    120 +
 fe/src/com/baidu/palo/catalog/Table.java           |    242 +
 fe/src/com/baidu/palo/catalog/Tablet.java          |    288 +
 .../baidu/palo/catalog/TabletInvertedIndex.java    |    389 +
 fe/src/com/baidu/palo/catalog/TabletMeta.java      |    150 +
 fe/src/com/baidu/palo/catalog/Type.java            |    922 +
 fe/src/com/baidu/palo/catalog/Uda.java             |    125 +
 fe/src/com/baidu/palo/catalog/Udf.java             |     68 +
 fe/src/com/baidu/palo/catalog/UserProperty.java    |    547 +
 fe/src/com/baidu/palo/catalog/UserPropertyMgr.java |    628 +
 fe/src/com/baidu/palo/catalog/UserResource.java    |    155 +
 fe/src/com/baidu/palo/catalog/View.java            |    186 +
 fe/src/com/baidu/palo/catalog/WhiteList.java       |    206 +
 fe/src/com/baidu/palo/clone/Clone.java             |    588 +
 fe/src/com/baidu/palo/clone/CloneChecker.java      |   1256 +
 fe/src/com/baidu/palo/clone/CloneJob.java          |    164 +
 fe/src/com/baidu/palo/cluster/BaseParam.java       |    114 +
 fe/src/com/baidu/palo/cluster/Cluster.java         |    384 +
 .../com/baidu/palo/cluster/ClusterNamespace.java   |    115 +
 fe/src/com/baidu/palo/common/AliasGenerator.java   |     55 +
 .../com/baidu/palo/common/AnalysisException.java   |     34 +
 fe/src/com/baidu/palo/common/AuditLog.java         |     62 +
 .../baidu/palo/common/AuthorizationException.java  |     34 +
 fe/src/com/baidu/palo/common/ClientPool.java       |     76 +
 .../baidu/palo/common/ColumnAliasGenerator.java    |     36 +
 fe/src/com/baidu/palo/common/Config.java           |    163 +
 fe/src/com/baidu/palo/common/ConfigBase.java       |    198 +
 fe/src/com/baidu/palo/common/ConfigWatcher.java    |    118 +
 fe/src/com/baidu/palo/common/DdlException.java     |     34 +
 fe/src/com/baidu/palo/common/ErrorCode.java        |    225 +
 fe/src/com/baidu/palo/common/ErrorReport.java      |     84 +
 fe/src/com/baidu/palo/common/FeConstants.java      |     42 +
 fe/src/com/baidu/palo/common/FeMetaVersion.java    |     65 +
 fe/src/com/baidu/palo/common/FeNameFormat.java     |     86 +
 fe/src/com/baidu/palo/common/GenericPool.java      |    153 +
 fe/src/com/baidu/palo/common/Id.java               |     75 +
 fe/src/com/baidu/palo/common/IdGenerator.java      |     31 +
 .../com/baidu/palo/common/InternalException.java   |     34 +
 fe/src/com/baidu/palo/common/LoadException.java    |     34 +
 fe/src/com/baidu/palo/common/Log4jConfig.java      |    224 +
 fe/src/com/baidu/palo/common/MarkDownParser.java   |    149 +
 .../baidu/palo/common/MarkedCountDownLatch.java    |     54 +
 .../baidu/palo/common/MetaNotFoundException.java   |     34 +
 .../baidu/palo/common/NotImplementedException.java |     30 +
 fe/src/com/baidu/palo/common/Pair.java             |     63 +
 fe/src/com/baidu/palo/common/PatternMatcher.java   |    100 +
 fe/src/com/baidu/palo/common/Reference.java        |     50 +
 fe/src/com/baidu/palo/common/Status.java           |    127 +
 .../com/baidu/palo/common/SystemIdGenerator.java   |     32 +
 .../com/baidu/palo/common/TableAliasGenerator.java |     42 +
 .../com/baidu/palo/common/ThreadIdConverter.java   |     43 +
 fe/src/com/baidu/palo/common/ThriftServer.java     |    117 +
 fe/src/com/baidu/palo/common/TreeNode.java         |    195 +
 .../com/baidu/palo/common/io/DataInputBuffer.java  |    111 +
 .../com/baidu/palo/common/io/DataOutputBuffer.java |    130 +
 fe/src/com/baidu/palo/common/io/IOUtils.java       |    254 +
 fe/src/com/baidu/palo/common/io/InputBuffer.java   |    106 +
 .../com/baidu/palo/common/io/LimitInputStream.java |    117 +
 .../baidu/palo/common/io/LimitOutputStream.java    |    120 +
 fe/src/com/baidu/palo/common/io/OutputBuffer.java  |    116 +
 fe/src/com/baidu/palo/common/io/Text.java          |    644 +
 fe/src/com/baidu/palo/common/io/Writable.java      |     82 +
 fe/src/com/baidu/palo/common/log4j2.xml            |     13 +
 fe/src/com/baidu/palo/common/path/PathTrie.java    |    257 +
 .../palo/common/proc/AccessResourceProcDir.java    |     64 +
 .../baidu/palo/common/proc/BackendProcNode.java    |     78 +
 .../baidu/palo/common/proc/BackendsProcDir.java    |    155 +
 .../baidu/palo/common/proc/BackupJobProcNode.java  |     62 +
 .../com/baidu/palo/common/proc/BackupProcNode.java |     84 +
 fe/src/com/baidu/palo/common/proc/BaseProcDir.java |     60 +
 .../com/baidu/palo/common/proc/BaseProcNode.java   |     55 +
 .../com/baidu/palo/common/proc/BaseProcResult.java |     65 +
 .../com/baidu/palo/common/proc/CloneProcNode.java  |     68 +
 fe/src/com/baidu/palo/common/proc/DbsProcDir.java  |    136 +
 .../baidu/palo/common/proc/DeleteInfoProcDir.java  |     86 +
 .../baidu/palo/common/proc/DeleteJobProcNode.java  |     59 +
 .../com/baidu/palo/common/proc/ExportProcNode.java |     91 +
 .../baidu/palo/common/proc/FrontendProcNode.java   |     67 +
 .../common/proc/IncompleteTabletsProcNode.java     |     66 +
 .../baidu/palo/common/proc/IndexInfoProcDir.java   |    147 +
 .../palo/common/proc/IndexSchemaProcNode.java      |     84 +
 .../com/baidu/palo/common/proc/IndicesProcDir.java |    130 +
 .../com/baidu/palo/common/proc/JobsDbProcDir.java  |     95 +
 fe/src/com/baidu/palo/common/proc/JobsProcDir.java |    189 +
 .../baidu/palo/common/proc/LoadErrorProcNode.java  |     67 +
 .../baidu/palo/common/proc/LoadJobProcNode.java    |     62 +
 fe/src/com/baidu/palo/common/proc/LoadProcDir.java |    108 +
 .../baidu/palo/common/proc/PartitionsProcDir.java  |    226 +
 .../baidu/palo/common/proc/ProcDirInterface.java   |     32 +
 .../baidu/palo/common/proc/ProcNodeInterface.java  |     30 +
 fe/src/com/baidu/palo/common/proc/ProcResult.java  |     30 +
 fe/src/com/baidu/palo/common/proc/ProcService.java |    161 +
 .../baidu/palo/common/proc/ReplicasProcNode.java   |     74 +
 .../baidu/palo/common/proc/RestoreProcNode.java    |     84 +
 .../baidu/palo/common/proc/RollupJobProcDir.java   |     78 +
 .../com/baidu/palo/common/proc/RollupProcDir.java  |     98 +
 .../palo/common/proc/RollupTabletsProcNode.java    |     65 +
 .../palo/common/proc/SchemaChangeProcNode.java     |     68 +
 .../baidu/palo/common/proc/StatisticProcDir.java   |    222 +
 .../com/baidu/palo/common/proc/TableProcDir.java   |     96 +
 .../com/baidu/palo/common/proc/TablesProcDir.java  |    163 +
 .../com/baidu/palo/common/proc/TabletsProcDir.java |    170 +
 .../baidu/palo/common/proc/TaskFailedProcNode.java |     64 +
 .../baidu/palo/common/proc/TaskTypeProcNode.java   |     93 +
 .../com/baidu/palo/common/proc/TasksProcDir.java   |     89 +
 .../palo/common/proc/UserPropertyProcNode.java     |     51 +
 .../palo/common/publish/AckResponseHandler.java    |     47 +
 .../palo/common/publish/ClusterStatePublisher.java |    137 +
 .../palo/common/publish/ClusterStateUpdate.java    |     68 +
 .../palo/common/publish/FixedTimePublisher.java    |     74 +
 fe/src/com/baidu/palo/common/publish/Listener.java |     31 +
 .../com/baidu/palo/common/publish/Listeners.java   |     48 +
 .../baidu/palo/common/publish/ResponseHandler.java |     60 +
 .../com/baidu/palo/common/publish/TopicUpdate.java |     73 +
 .../com/baidu/palo/common/util/CommandResult.java  |     79 +
 fe/src/com/baidu/palo/common/util/Counter.java     |     50 +
 fe/src/com/baidu/palo/common/util/Daemon.java      |    112 +
 fe/src/com/baidu/palo/common/util/DebugUtil.java   |    129 +
 fe/src/com/baidu/palo/common/util/KuduUtil.java    |    379 +
 .../com/baidu/palo/common/util/ListComparator.java |     81 +
 .../com/baidu/palo/common/util/LoadBalancer.java   |     69 +
 fe/src/com/baidu/palo/common/util/Metrics.java     |     83 +
 fe/src/com/baidu/palo/common/util/MysqlUtil.java   |     87 +
 fe/src/com/baidu/palo/common/util/NetUtils.java    |     39 +
 fe/src/com/baidu/palo/common/util/OrderByPair.java |     45 +
 .../com/baidu/palo/common/util/PlatformName.java   |     36 +
 .../com/baidu/palo/common/util/PrintableMap.java   |     71 +
 .../com/baidu/palo/common/util/ProfileManager.java |    169 +
 .../baidu/palo/common/util/PropertyAnalyzer.java   |    349 +
 .../baidu/palo/common/util/ReflectionUtils.java    |    168 +
 .../com/baidu/palo/common/util/RuntimeProfile.java |    372 +
 fe/src/com/baidu/palo/common/util/SqlUtils.java    |     41 +
 fe/src/com/baidu/palo/common/util/TimeUtils.java   |    193 +
 fe/src/com/baidu/palo/common/util/Util.java        |    305 +
 .../palo/consistency/CheckConsistencyJob.java      |    400 +
 .../baidu/palo/consistency/ConsistencyChecker.java |    395 +
 fe/src/com/baidu/palo/ha/BDBHA.java                |    209 +
 .../com/baidu/palo/ha/BDBStateChangeListener.java  |    114 +
 fe/src/com/baidu/palo/ha/FrontendNodeType.java     |     29 +
 fe/src/com/baidu/palo/ha/HAProtocol.java           |     55 +
 fe/src/com/baidu/palo/ha/MasterInfo.java           |     79 +
 fe/src/com/baidu/palo/http/ActionController.java   |     96 +
 fe/src/com/baidu/palo/http/BaseAction.java         |    315 +
 fe/src/com/baidu/palo/http/BaseRequest.java        |    152 +
 fe/src/com/baidu/palo/http/BaseResponse.java       |    136 +
 fe/src/com/baidu/palo/http/HttpAuthManager.java    |     65 +
 fe/src/com/baidu/palo/http/HttpServer.java         |    206 +
 fe/src/com/baidu/palo/http/HttpServerHandler.java  |    126 +
 fe/src/com/baidu/palo/http/IAction.java            |     27 +
 .../com/baidu/palo/http/IllegalArgException.java   |     36 +
 fe/src/com/baidu/palo/http/WebUtils.java           |    232 +
 .../com/baidu/palo/http/action/BackendAction.java  |    103 +
 fe/src/com/baidu/palo/http/action/HaAction.java    |    180 +
 fe/src/com/baidu/palo/http/action/HelpAction.java  |    220 +
 fe/src/com/baidu/palo/http/action/IndexAction.java |     64 +
 fe/src/com/baidu/palo/http/action/LogAction.java   |    164 +
 .../com/baidu/palo/http/action/NotFoundAction.java |     54 +
 fe/src/com/baidu/palo/http/action/QueryAction.java |    128 +
 .../baidu/palo/http/action/QueryProfileAction.java |     65 +
 .../com/baidu/palo/http/action/SessionAction.java  |     86 +
 .../palo/http/action/StaticResourceAction.java     |    242 +
 .../com/baidu/palo/http/action/SystemAction.java   |    152 +
 .../com/baidu/palo/http/action/VariableAction.java |     81 +
 .../com/baidu/palo/http/action/WebBaseAction.java  |    340 +
 .../com/baidu/palo/http/meta/MetaBaseAction.java   |     61 +
 fe/src/com/baidu/palo/http/meta/MetaService.java   |    392 +
 fe/src/com/baidu/palo/http/rest/ActionStatus.java  |     26 +
 .../palo/http/rest/CheckDecommissionAction.java    |     91 +
 .../com/baidu/palo/http/rest/GetDdlStmtAction.java |    115 +
 .../baidu/palo/http/rest/GetLoadInfoAction.java    |     74 +
 .../com/baidu/palo/http/rest/GetLogFileAction.java |    107 +
 fe/src/com/baidu/palo/http/rest/HealthAction.java  |     49 +
 fe/src/com/baidu/palo/http/rest/LoadAction.java    |    126 +
 .../palo/http/rest/LoadErrorMessageAction.java     |    117 +
 .../palo/http/rest/MetaReplayerCheckAction.java    |     70 +
 fe/src/com/baidu/palo/http/rest/MetricsAction.java |     46 +
 .../com/baidu/palo/http/rest/MigrationAction.java  |    170 +
 fe/src/com/baidu/palo/http/rest/MultiAbort.java    |     67 +
 fe/src/com/baidu/palo/http/rest/MultiCommit.java   |     66 +
 fe/src/com/baidu/palo/http/rest/MultiDesc.java     |     79 +
 fe/src/com/baidu/palo/http/rest/MultiList.java     |     74 +
 fe/src/com/baidu/palo/http/rest/MultiStart.java    |     81 +
 fe/src/com/baidu/palo/http/rest/MultiUnload.java   |     71 +
 .../com/baidu/palo/http/rest/RestBaseAction.java   |    100 +
 .../com/baidu/palo/http/rest/RestBaseResult.java   |     48 +
 fe/src/com/baidu/palo/http/rest/RestResult.java    |     47 +
 .../com/baidu/palo/http/rest/RowCountAction.java   |    131 +
 .../com/baidu/palo/http/rest/SetConfigAction.java  |    125 +
 .../baidu/palo/http/rest/ShowMetaInfoAction.java   |    193 +
 .../com/baidu/palo/http/rest/ShowProcAction.java   |     83 +
 .../palo/http/rest/ShowRuntimeInfoAction.java      |     71 +
 .../palo/http/rest/UnauthorizedException.java      |     28 +
 fe/src/com/baidu/palo/journal/Journal.java         |     62 +
 fe/src/com/baidu/palo/journal/JournalCursor.java   |     30 +
 fe/src/com/baidu/palo/journal/JournalEntity.java   |    320 +
 .../baidu/palo/journal/bdbje/BDBEnvironment.java   |    378 +
 .../com/baidu/palo/journal/bdbje/BDBJEJournal.java |    430 +
 .../baidu/palo/journal/bdbje/BDBJournalCursor.java |    148 +
 fe/src/com/baidu/palo/journal/bdbje/Timestamp.java |     53 +
 .../com/baidu/palo/journal/local/LocalJournal.java |    192 +
 .../palo/journal/local/LocalJournalCursor.java     |    394 +
 fe/src/com/baidu/palo/kudu/KuduAgent.java          |     96 +
 fe/src/com/baidu/palo/load/AsyncDeleteJob.java     |    275 +
 fe/src/com/baidu/palo/load/BrokerFileGroup.java    |    318 +
 fe/src/com/baidu/palo/load/DeleteInfo.java         |    202 +
 fe/src/com/baidu/palo/load/DppConfig.java          |    429 +
 fe/src/com/baidu/palo/load/DppScheduler.java       |    541 +
 fe/src/com/baidu/palo/load/EtlJobInfo.java         |     62 +
 fe/src/com/baidu/palo/load/EtlStatus.java          |    189 +
 fe/src/com/baidu/palo/load/EtlSubmitResult.java    |     40 +
 fe/src/com/baidu/palo/load/ExportChecker.java      |    138 +
 fe/src/com/baidu/palo/load/ExportFailMsg.java      |     98 +
 fe/src/com/baidu/palo/load/ExportJob.java          |    682 +
 fe/src/com/baidu/palo/load/ExportMgr.java          |    249 +
 fe/src/com/baidu/palo/load/FailMsg.java            |     99 +
 fe/src/com/baidu/palo/load/HadoopEtlJobInfo.java   |    137 +
 fe/src/com/baidu/palo/load/Load.java               |   2983 +
 fe/src/com/baidu/palo/load/LoadChecker.java        |    845 +
 fe/src/com/baidu/palo/load/LoadErrorHub.java       |    329 +
 fe/src/com/baidu/palo/load/LoadJob.java            |    741 +
 fe/src/com/baidu/palo/load/MiniEtlJobInfo.java     |     90 +
 fe/src/com/baidu/palo/load/MiniEtlTaskInfo.java    |     95 +
 fe/src/com/baidu/palo/load/MysqlLoadErrorHub.java  |    209 +
 fe/src/com/baidu/palo/load/PartitionLoadInfo.java  |    152 +
 fe/src/com/baidu/palo/load/PullLoadSourceInfo.java |    125 +
 fe/src/com/baidu/palo/load/Source.java             |    294 +
 fe/src/com/baidu/palo/load/TableLoadInfo.java      |    154 +
 fe/src/com/baidu/palo/load/TabletLoadInfo.java     |    125 +
 fe/src/com/baidu/palo/master/Checkpoint.java       |    276 +
 fe/src/com/baidu/palo/master/MasterImpl.java       |    513 +
 fe/src/com/baidu/palo/master/MetaHelper.java       |    101 +
 fe/src/com/baidu/palo/master/ReportHandler.java    |    562 +
 fe/src/com/baidu/palo/mysql/MysqlAuthPacket.java   |    115 +
 fe/src/com/baidu/palo/mysql/MysqlCapability.java   |    155 +
 fe/src/com/baidu/palo/mysql/MysqlChannel.java      |    273 +
 fe/src/com/baidu/palo/mysql/MysqlColDef.java       |     84 +
 fe/src/com/baidu/palo/mysql/MysqlColType.java      |     75 +
 fe/src/com/baidu/palo/mysql/MysqlCommand.java      |     79 +
 fe/src/com/baidu/palo/mysql/MysqlEofPacket.java    |     43 +
 fe/src/com/baidu/palo/mysql/MysqlErrPacket.java    |     62 +
 .../com/baidu/palo/mysql/MysqlHandshakePacket.java |     85 +
 fe/src/com/baidu/palo/mysql/MysqlOkPacket.java     |     67 +
 fe/src/com/baidu/palo/mysql/MysqlPacket.java       |     33 +
 fe/src/com/baidu/palo/mysql/MysqlPassword.java     |    285 +
 fe/src/com/baidu/palo/mysql/MysqlProto.java        |    300 +
 fe/src/com/baidu/palo/mysql/MysqlSerializer.java   |    229 +
 fe/src/com/baidu/palo/mysql/MysqlServer.java       |    133 +
 .../baidu/palo/mysql/MysqlServerStatusFlag.java    |     38 +
 fe/src/com/baidu/palo/persist/CloneInfo.java       |    164 +
 fe/src/com/baidu/palo/persist/ClusterInfo.java     |    142 +
 .../baidu/palo/persist/ConsistencyCheckInfo.java   |    134 +
 fe/src/com/baidu/palo/persist/CreateTableInfo.java |     94 +
 fe/src/com/baidu/palo/persist/DatabaseInfo.java    |    113 +
 fe/src/com/baidu/palo/persist/DropInfo.java        |     99 +
 .../palo/persist/DropLinkDbAndUpdateDbInfo.java    |     65 +
 .../com/baidu/palo/persist/DropPartitionInfo.java  |     81 +
 fe/src/com/baidu/palo/persist/EditLog.java         |    895 +
 .../baidu/palo/persist/EditLogFileInputStream.java |     58 +
 .../palo/persist/EditLogFileOutputStream.java      |    143 +
 .../com/baidu/palo/persist/EditLogInputStream.java |     45 +
 .../baidu/palo/persist/EditLogOutputStream.java    |    105 +
 fe/src/com/baidu/palo/persist/LinkDbInfo.java      |     84 +
 fe/src/com/baidu/palo/persist/MetaCleaner.java     |     98 +
 .../baidu/palo/persist/ModifyPartitionInfo.java    |    108 +
 fe/src/com/baidu/palo/persist/OperationType.java   |    116 +
 .../baidu/palo/persist/PartitionPersistInfo.java   |    116 +
 fe/src/com/baidu/palo/persist/RecoverInfo.java     |     69 +
 .../com/baidu/palo/persist/ReplicaPersistInfo.java |    266 +
 fe/src/com/baidu/palo/persist/Storage.java         |    310 +
 fe/src/com/baidu/palo/persist/StorageInfo.java     |     64 +
 fe/src/com/baidu/palo/persist/TableInfo.java       |    126 +
 fe/src/com/baidu/palo/planner/AggregationNode.java |    283 +
 .../com/baidu/palo/planner/AnalyticEvalNode.java   |    263 +
 fe/src/com/baidu/palo/planner/AnalyticPlanner.java |    939 +
 fe/src/com/baidu/palo/planner/BrokerScanNode.java  |    738 +
 fe/src/com/baidu/palo/planner/CrossJoinNode.java   |    103 +
 fe/src/com/baidu/palo/planner/CsvScanNode.java     |    211 +
 fe/src/com/baidu/palo/planner/DataPartition.java   |    139 +
 fe/src/com/baidu/palo/planner/DataSink.java        |     63 +
 fe/src/com/baidu/palo/planner/DataSplitSink.java   |    403 +
 fe/src/com/baidu/palo/planner/DataStreamSink.java  |     73 +
 .../com/baidu/palo/planner/DistributedPlanner.java |    926 +
 .../com/baidu/palo/planner/DistributionPruner.java |     30 +
 fe/src/com/baidu/palo/planner/EmptySetNode.java    |     70 +
 fe/src/com/baidu/palo/planner/ExchangeNode.java    |    140 +
 fe/src/com/baidu/palo/planner/ExportSink.java      |     90 +
 .../baidu/palo/planner/HashDistributionPruner.java |    115 +
 fe/src/com/baidu/palo/planner/HashJoinNode.java    |    307 +
 .../baidu/palo/planner/ListPartitionPruner.java    |    190 +
 fe/src/com/baidu/palo/planner/MergeJoinNode.java   |    171 +
 fe/src/com/baidu/palo/planner/MergeNode.java       |    213 +
 fe/src/com/baidu/palo/planner/MysqlScanNode.java   |    131 +
 fe/src/com/baidu/palo/planner/MysqlTableSink.java  |     67 +
 fe/src/com/baidu/palo/planner/OlapRewriteNode.java |    129 +
 fe/src/com/baidu/palo/planner/OlapScanNode.java    |    631 +
 .../baidu/palo/planner/PartitionColumnFilter.java  |    137 +
 fe/src/com/baidu/palo/planner/PartitionPruner.java |     29 +
 fe/src/com/baidu/palo/planner/PlanFragment.java    |    273 +
 fe/src/com/baidu/palo/planner/PlanFragmentId.java  |     44 +
 fe/src/com/baidu/palo/planner/PlanNode.java        |    604 +
 fe/src/com/baidu/palo/planner/PlanNodeId.java      |     44 +
 fe/src/com/baidu/palo/planner/Planner.java         |    276 +
 fe/src/com/baidu/palo/planner/PlannerContext.java  |     70 +
 .../baidu/palo/planner/RangePartitionPruner.java   |    192 +
 fe/src/com/baidu/palo/planner/ResultSink.java      |     64 +
 fe/src/com/baidu/palo/planner/ScanNode.java        |     84 +
 fe/src/com/baidu/palo/planner/SchemaScanNode.java  |    129 +
 fe/src/com/baidu/palo/planner/SelectNode.java      |     91 +
 .../com/baidu/palo/planner/SingleNodePlanner.java  |   1439 +
 fe/src/com/baidu/palo/planner/SortNode.java        |    246 +
 fe/src/com/baidu/palo/planner/UnionNode.java       |    334 +
 fe/src/com/baidu/palo/qe/AuditBuilder.java         |     42 +
 fe/src/com/baidu/palo/qe/ConnectContext.java       |    331 +
 fe/src/com/baidu/palo/qe/ConnectProcessor.java     |    398 +
 fe/src/com/baidu/palo/qe/ConnectScheduler.java     |    173 +
 fe/src/com/baidu/palo/qe/Coordinator.java          |   1271 +
 fe/src/com/baidu/palo/qe/DdlExecutor.java          |    152 +
 fe/src/com/baidu/palo/qe/GlobalVariable.java       |     63 +
 fe/src/com/baidu/palo/qe/HelpCategory.java         |     65 +
 fe/src/com/baidu/palo/qe/HelpModule.java           |    331 +
 fe/src/com/baidu/palo/qe/HelpObjectIface.java      |     28 +
 fe/src/com/baidu/palo/qe/HelpObjectLoader.java     |     90 +
 fe/src/com/baidu/palo/qe/HelpTopic.java            |    101 +
 fe/src/com/baidu/palo/qe/JournalObservable.java    |    114 +
 fe/src/com/baidu/palo/qe/JournalObserver.java      |     89 +
 fe/src/com/baidu/palo/qe/MasterOpExecutor.java     |    131 +
 fe/src/com/baidu/palo/qe/MultiLoadMgr.java         |    333 +
 fe/src/com/baidu/palo/qe/QeProcessor.java          |     79 +
 fe/src/com/baidu/palo/qe/QeService.java            |     99 +
 fe/src/com/baidu/palo/qe/QueryState.java           |    126 +
 fe/src/com/baidu/palo/qe/ResultReceiver.java       |    143 +
 fe/src/com/baidu/palo/qe/SessionVariable.java      |    438 +
 fe/src/com/baidu/palo/qe/SetExecutor.java          |     65 +
 fe/src/com/baidu/palo/qe/ShowExecutor.java         |    900 +
 fe/src/com/baidu/palo/qe/ShowResultSet.java        |    126 +
 .../com/baidu/palo/qe/ShowResultSetMetaData.java   |     76 +
 fe/src/com/baidu/palo/qe/SimpleScheduler.java      |    205 +
 fe/src/com/baidu/palo/qe/StmtExecutor.java         |    723 +
 fe/src/com/baidu/palo/qe/VariableMgr.java          |    536 +
 .../baidu/palo/rewrite/BetweenToCompoundRule.java  |     67 +
 fe/src/com/baidu/palo/rewrite/ExprRewriteRule.java |     47 +
 fe/src/com/baidu/palo/rewrite/ExprRewriter.java    |    100 +
 .../rewrite/NormalizeBinaryPredicatesRule.java     |     52 +
 fe/src/com/baidu/palo/service/ExecuteEnv.java      |     56 +
 fe/src/com/baidu/palo/service/FeServer.java        |     73 +
 .../baidu/palo/service/FrontendServiceImpl.java    |    467 +
 fe/src/com/baidu/palo/system/Backend.java          |    480 +
 fe/src/com/baidu/palo/system/BackendEvent.java     |     62 +
 fe/src/com/baidu/palo/system/Frontend.java         |    100 +
 .../com/baidu/palo/system/SystemInfoObserver.java  |     51 +
 .../com/baidu/palo/system/SystemInfoService.java   |   1024 +
 fe/src/com/baidu/palo/task/AgentBatchTask.java     |    252 +
 fe/src/com/baidu/palo/task/AgentClient.java        |    202 +
 fe/src/com/baidu/palo/task/AgentTask.java          |    105 +
 fe/src/com/baidu/palo/task/AgentTaskExecutor.java  |     35 +
 fe/src/com/baidu/palo/task/AgentTaskQueue.java     |    229 +
 fe/src/com/baidu/palo/task/CancelDeleteTask.java   |     55 +
 .../com/baidu/palo/task/CheckConsistencyTask.java  |     58 +
 fe/src/com/baidu/palo/task/CloneTask.java          |     56 +
 fe/src/com/baidu/palo/task/CreateReplicaTask.java  |    129 +
 fe/src/com/baidu/palo/task/CreateRollupTask.java   |    149 +
 fe/src/com/baidu/palo/task/DropReplicaTask.java    |     44 +
 .../com/baidu/palo/task/ExportExportingTask.java   |    352 +
 fe/src/com/baidu/palo/task/ExportPendingTask.java  |    138 +
 fe/src/com/baidu/palo/task/HadoopLoadEtlTask.java  |    116 +
 .../com/baidu/palo/task/HadoopLoadPendingTask.java |    669 +
 fe/src/com/baidu/palo/task/InsertLoadEtlTask.java  |     40 +
 fe/src/com/baidu/palo/task/LoadEtlTask.java        |    335 +
 fe/src/com/baidu/palo/task/LoadPendingTask.java    |    110 +
 fe/src/com/baidu/palo/task/MasterTask.java         |     48 +
 fe/src/com/baidu/palo/task/MasterTaskExecutor.java |     98 +
 fe/src/com/baidu/palo/task/MiniLoadEtlTask.java    |    200 +
 .../com/baidu/palo/task/MiniLoadPendingTask.java   |    213 +
 fe/src/com/baidu/palo/task/PullLoadEtlTask.java    |    117 +
 fe/src/com/baidu/palo/task/PullLoadJob.java        |    106 +
 fe/src/com/baidu/palo/task/PullLoadJobMgr.java     |    193 +
 .../com/baidu/palo/task/PullLoadPendingTask.java   |     90 +
 fe/src/com/baidu/palo/task/PullLoadTask.java       |    227 +
 .../com/baidu/palo/task/PullLoadTaskPlanner.java   |    159 +
 fe/src/com/baidu/palo/task/PushTask.java           |    194 +
 .../com/baidu/palo/task/ReleaseSnapshotTask.java   |     40 +
 fe/src/com/baidu/palo/task/RestoreTask.java        |     66 +
 fe/src/com/baidu/palo/task/SchemaChangeTask.java   |    134 +
 fe/src/com/baidu/palo/task/SnapshotTask.java       |     76 +
 .../baidu/palo/task/StorageMediaMigrationTask.java |     51 +
 fe/src/com/baidu/palo/task/UploadTask.java         |     67 +
 .../com/baidu/palo/analysis/AccessTestUtil.java    |    235 +
 .../baidu/palo/analysis/AddColumnClauseTest.java   |    126 +
 .../baidu/palo/analysis/AddColumnsClauseTest.java  |     95 +
 .../baidu/palo/analysis/AddRollupClauseTest.java   |     88 +
 .../baidu/palo/analysis/AlterClusterStmtTest.java  |     79 +
 .../baidu/palo/analysis/AlterTableStmtTest.java    |     80 +
 .../com/baidu/palo/analysis/BackendStmtTest.java   |    100 +
 .../baidu/palo/analysis/CancelAlterStmtTest.java   |     78 +
 .../baidu/palo/analysis/ColumnPositionTest.java    |     50 +
 .../baidu/palo/analysis/ColumnSeparatorTest.java   |     61 +
 fe/test/com/baidu/palo/analysis/ColumnTest.java    |     84 +
 .../baidu/palo/analysis/CreateClusterStmtTest.java |     72 +
 .../com/baidu/palo/analysis/CreateDbStmtTest.java  |     60 +
 .../baidu/palo/analysis/CreateTableStmtTest.java   |    154 +
 .../baidu/palo/analysis/CreateUserStmtTest.java    |     82 +
 .../baidu/palo/analysis/DataDescriptionTest.java   |    138 +
 .../baidu/palo/analysis/DecimalLiteralTest.java    |     48 +
 .../com/baidu/palo/analysis/DeleteStmtTest.java    |    154 +
 .../com/baidu/palo/analysis/DescribeStmtTest.java  |     80 +
 .../baidu/palo/analysis/DropClusterStmtTest.java   |     55 +
 .../baidu/palo/analysis/DropColumnClauseTest.java  |     57 +
 .../com/baidu/palo/analysis/DropDbStmtTest.java    |     62 +
 .../baidu/palo/analysis/DropRollupClauseTest.java  |     51 +
 .../com/baidu/palo/analysis/DropTableStmtTest.java |     88 +
 .../com/baidu/palo/analysis/DropUserStmtTest.java  |     60 +
 fe/test/com/baidu/palo/analysis/GrantStmtTest.java |     97 +
 fe/test/com/baidu/palo/analysis/HelpStmtTest.java  |     47 +
 fe/test/com/baidu/palo/analysis/KillStmtTest.java  |     41 +
 fe/test/com/baidu/palo/analysis/LabelNameTest.java |     75 +
 .../com/baidu/palo/analysis/LinkDbStmtTest.java    |     68 +
 .../palo/analysis/LiteralExprCompareTest.java      |    320 +
 fe/test/com/baidu/palo/analysis/LoadStmtTest.java  |     88 +
 .../com/baidu/palo/analysis/MigrateDbStmtTest.java |     67 +
 .../palo/analysis/ModifyColumnClauseTest.java      |     75 +
 .../baidu/palo/analysis/PartitionKeyDescTest.java  |     54 +
 .../palo/analysis/ReorderColumnsClauseTest.java    |     70 +
 .../com/baidu/palo/analysis/SetNamesVarTest.java   |     62 +
 .../com/baidu/palo/analysis/SetPassVarTest.java    |     81 +
 fe/test/com/baidu/palo/analysis/SetStmtTest.java   |     68 +
 fe/test/com/baidu/palo/analysis/SetTypeTest.java   |     34 +
 .../palo/analysis/SetUserPropertyStmtTest.java     |     60 +
 .../palo/analysis/SetUserPropertyVarTest.java      |     57 +
 fe/test/com/baidu/palo/analysis/SetVarTest.java    |     69 +
 .../com/baidu/palo/analysis/ShowAlterStmtTest.java |    106 +
 .../baidu/palo/analysis/ShowCreateDbStmtTest.java  |     52 +
 .../palo/analysis/ShowCreateTableStmtTest.java     |     62 +
 .../com/baidu/palo/analysis/ShowDataStmtTest.java  |     68 +
 .../com/baidu/palo/analysis/ShowDbStmtTest.java    |     47 +
 .../baidu/palo/analysis/ShowEnginesStmtTest.java   |     45 +
 .../com/baidu/palo/analysis/ShowLoadStmtTest.java  |    104 +
 .../baidu/palo/analysis/ShowRollupStmtTest.java    |     68 +
 .../com/baidu/palo/analysis/ShowTableStmtTest.java |     77 +
 .../palo/analysis/ShowUserPropertyStmtTest.java    |     44 +
 .../baidu/palo/analysis/ShowVariablesStmtTest.java |     49 +
 .../baidu/palo/analysis/SysVariableDescTest.java   |     55 +
 fe/test/com/baidu/palo/analysis/UseStmtTest.java   |     62 +
 .../com/baidu/palo/backup/AlterClauseRWTest.java   |    104 +
 fe/test/com/baidu/palo/backup/BackupJobTest.java   |     71 +
 fe/test/com/baidu/palo/backup/CatalogMocker.java   |    432 +
 fe/test/com/baidu/palo/backup/FileSaverITest.java  |    122 +
 .../com/baidu/palo/backup/ObjectWriterTest.java    |    111 +
 .../com/baidu/palo/backup/PartitionNameTest.java   |    254 +
 fe/test/com/baidu/palo/backup/PathMakerTest.java   |     30 +
 fe/test/com/baidu/palo/catalog/BackendTest.java    |    191 +
 fe/test/com/baidu/palo/catalog/CatalogTest.java    |    240 +
 .../com/baidu/palo/catalog/ColumnStatsTest.java    |     90 +
 fe/test/com/baidu/palo/catalog/ColumnTest.java     |    131 +
 fe/test/com/baidu/palo/catalog/ColumnTypeTest.java |    190 +
 .../com/baidu/palo/catalog/CreateTableTest.java    |    369 +
 fe/test/com/baidu/palo/catalog/DatabaseTest.java   |    200 +
 .../com/baidu/palo/catalog/InfoSchemaDbTest.java   |     40 +
 .../baidu/palo/catalog/MaterializedIndexTest.java  |     99 +
 fe/test/com/baidu/palo/catalog/MysqlTableTest.java |    241 +
 .../com/baidu/palo/catalog/PartitionKeyTest.java   |    193 +
 .../baidu/palo/catalog/RangePartitionInfoTest.java |    143 +
 fe/test/com/baidu/palo/catalog/ReplicaTest.java    |    155 +
 .../com/baidu/palo/catalog/ResourceGroupTest.java  |     60 +
 fe/test/com/baidu/palo/catalog/TableTest.java      |    101 +
 fe/test/com/baidu/palo/catalog/TabletTest.java     |    156 +
 .../com/baidu/palo/catalog/UserPropertyTest.java   |    123 +
 .../com/baidu/palo/catalog/UserResourceTest.java   |     81 +
 fe/test/com/baidu/palo/clone/CloneCheckerTest.java |    765 +
 fe/test/com/baidu/palo/clone/CloneTest.java        |    298 +
 .../baidu/palo/cluster/SystemInfoServiceTest.java  |    270 +
 fe/test/com/baidu/palo/common/GenericPoolTest.java |    232 +
 .../com/baidu/palo/common/MarkDownParserTest.java  |    167 +
 .../com/baidu/palo/common/PatternMatcherTest.java  |     70 +
 .../baidu/palo/common/PropertyAnalyzerTest.java    |    121 +
 .../com/baidu/palo/common/path/PathTrieTest.java   |    159 +
 .../palo/common/proc/BackendProcNodeTest.java      |     94 +
 .../palo/common/proc/BackendsProcDirTest.java      |    173 +
 .../com/baidu/palo/common/proc/DbsProcDirTest.java |    179 +
 .../baidu/palo/common/proc/ProcServiceTest.java    |    179 +
 .../palo/common/proc/UserPropertyProcTest.java     |    125 +
 .../com/baidu/palo/common/util/DebugUtilTest.java  |     88 +
 .../baidu/palo/common/util/ListComparatorTest.java |    189 +
 .../baidu/palo/common/util/LoadBalancerTest.java   |     52 +
 .../baidu/palo/common/util/RuntimeProfileTest.java |    187 +
 .../com/baidu/palo/common/util/TimeUtilsTest.java  |    143 +
 .../com/baidu/palo/common/util/UnitTestUtil.java   |    178 +
 .../com/baidu/palo/http/HttpAuthManagerTest.java   |     44 +
 fe/test/com/baidu/palo/load/DppConfigTest.java     |    155 +
 fe/test/com/baidu/palo/load/DppSchedulerTest.java  |    278 +
 fe/test/com/baidu/palo/load/EtlJobStatusTest.java  |     92 +
 fe/test/com/baidu/palo/load/FailMsgTest.java       |     57 +
 fe/test/com/baidu/palo/load/LoadCheckerTest.java   |    384 +
 fe/test/com/baidu/palo/load/LoadJobTest.java       |    254 +
 fe/test/com/baidu/palo/load/LoadTest.java          |    313 +
 .../com/baidu/palo/load/PartitionLoadInfoTest.java |     95 +
 fe/test/com/baidu/palo/load/SourceTest.java        |     92 +
 .../com/baidu/palo/load/TabletLoadInfoTest.java    |     81 +
 .../com/baidu/palo/mysql/MysqlAuthPacketTest.java  |     66 +
 .../com/baidu/palo/mysql/MysqlCapabilityTest.java  |     44 +
 fe/test/com/baidu/palo/mysql/MysqlChannelTest.java |    265 +
 fe/test/com/baidu/palo/mysql/MysqlColDefTest.java  |     78 +
 fe/test/com/baidu/palo/mysql/MysqlColTypeTest.java |     66 +
 fe/test/com/baidu/palo/mysql/MysqlCommandTest.java |     44 +
 .../com/baidu/palo/mysql/MysqlEofPacketTest.java   |     56 +
 .../com/baidu/palo/mysql/MysqlErrPacketTest.java   |     87 +
 .../baidu/palo/mysql/MysqlHandshakePacketTest.java |     98 +
 .../com/baidu/palo/mysql/MysqlOkPacketTest.java    |     68 +
 .../com/baidu/palo/mysql/MysqlPasswordTest.java    |     84 +
 fe/test/com/baidu/palo/mysql/MysqlProtoTest.java   |    209 +
 fe/test/com/baidu/palo/mysql/MysqlServerTest.java  |    161 +
 .../com/baidu/palo/mysql/WrapperSocketChannel.java |    136 +
 fe/test/com/baidu/palo/persist/AccessTest.java     |    286 +
 .../baidu/palo/persist/CreateTableInfoTest.java    |    119 +
 fe/test/com/baidu/palo/persist/DropInfoTest.java   |     70 +
 fe/test/com/baidu/palo/persist/EditLogTest.java    |    107 +
 .../baidu/palo/persist/ReplicaPersistInfoTest.java |     80 +
 .../com/baidu/palo/persist/StorageInfoTest.java    |     46 +
 fe/test/com/baidu/palo/persist/StorageTest.java    |    155 +
 .../com/baidu/palo/planner/OlapScanNodeTest.java   |    165 +
 fe/test/com/baidu/palo/qe/ConnectContextTest.java  |    204 +
 .../com/baidu/palo/qe/ConnectProcessorTest.java    |    385 +
 .../com/baidu/palo/qe/ConnectSchedulerTest.java    |    184 +
 fe/test/com/baidu/palo/qe/CoordinatorTest.java     |    453 +
 fe/test/com/baidu/palo/qe/HelpModuleTest.java      |    190 +
 .../com/baidu/palo/qe/HelpObjectLoaderTest.java    |     87 +
 .../com/baidu/palo/qe/JournalObservableTest.java   |    152 +
 fe/test/com/baidu/palo/qe/MultiLoadMgrTest.java    |     80 +
 fe/test/com/baidu/palo/qe/QueryStateTest.java      |     46 +
 fe/test/com/baidu/palo/qe/SetExecutorTest.java     |     82 +
 fe/test/com/baidu/palo/qe/ShowExecutorTest.java    |    516 +
 .../baidu/palo/qe/ShowResultSetMetaDataTest.java   |     52 +
 fe/test/com/baidu/palo/qe/ShowResultSetTest.java   |     72 +
 fe/test/com/baidu/palo/qe/SimpleSchedulerTest.java |    208 +
 fe/test/com/baidu/palo/qe/StmtExecutorTest.java    |    551 +
 fe/test/com/baidu/palo/qe/VariableMgrTest.java     |    132 +
 fe/test/com/baidu/palo/task/AgentTaskTest.java     |    282 +
 fe/test/com/baidu/palo/task/LoadEtlTaskTest.java   |    191 +
 .../com/baidu/palo/task/LoadPendingTaskTest.java   |    147 +
 .../baidu/palo/task/MasterTaskExecutorTest.java    |     91 +
 fe/test/resource/data/help/Admin/Select/help.md    |      3 +
 fe/test/resource/data/help/Admin/Show/help.md      |      5 +
 fe/test/resource/data/helpCategoryNormal.md        |      5 +
 fe/test/resource/data/helpTopicNormal.md           |     22 +
 fe/test/resource/data/qe/profile.dat               |     10 +
 .../show_help/functions/binary function/help.md    |     11 +
 .../data/show_help/functions/bit function/help.md  |      3 +
 fe/test/resource/data/show_help/functions/help.md  |      1 +
 .../apache_hdfs_broker/bin/start_hdfs_broker.sh    |     68 +
 .../apache_hdfs_broker/bin/stop_hdfs_broker.sh     |     40 +
 fs_brokers/apache_hdfs_broker/build.xml            |     99 +
 fs_brokers/apache_hdfs_broker/build_hdfs_broker.sh |     50 +
 .../conf/apache_hdfs_broker.conf                   |      5 +
 .../apache_hdfs_broker/conf/log4j.properties       |     13 +
 .../deps/apache_hdfs_broker_java_libraries.tar.gz  |    Bin 0 -> 18160555 bytes
 fs_brokers/apache_hdfs_broker/deps/build_deps.sh   |     46 +
 .../baidu/palo/broker/hdfs/BrokerBootstrap.java    |     90 +
 .../com/baidu/palo/broker/hdfs/BrokerConfig.java   |     63 +
 .../baidu/palo/broker/hdfs/BrokerException.java    |     71 +
 .../baidu/palo/broker/hdfs/BrokerFileSystem.java   |     98 +
 .../palo/broker/hdfs/ClientContextManager.java     |    249 +
 .../baidu/palo/broker/hdfs/FileSystemIdentity.java |     70 +
 .../baidu/palo/broker/hdfs/FileSystemManager.java  |    390 +
 .../palo/broker/hdfs/HDFSBrokerServiceImpl.java    |    248 +
 .../com/baidu/palo/common/BrokerPerfMonitor.java   |     31 +
 .../src/com/baidu/palo/common/ConfigBase.java      |    197 +
 .../com/baidu/palo/common/LoggerMessageFormat.java |    273 +
 .../src/com/baidu/palo/common/ThriftServer.java    |    118 +
 .../palo/broker/hdfs/TestFileSystemManager.java    |    137 +
 .../palo/broker/hdfs/TestHDFSBrokerService.java    |     68 +
 .../baidu_bos_broker/bin/start_bos_broker.sh       |     68 +
 fs_brokers/baidu_bos_broker/bin/stop_bos_broker.sh |     40 +
 fs_brokers/baidu_bos_broker/build.xml              |     99 +
 fs_brokers/baidu_bos_broker/build_bos_broker.sh    |     50 +
 .../baidu_bos_broker/conf/baidu_bos_broker.conf    |      5 +
 fs_brokers/baidu_bos_broker/deps/build_deps.sh     |     43 +
 .../palo/broker/bos/BOSBrokerServiceImpl.java      |    249 +
 .../baidu/palo/broker/bos/BaiduBosFileSystem.java  |    607 +
 .../com/baidu/palo/broker/bos/BosBlockBuffer.java  |     59 +
 .../com/baidu/palo/broker/bos/BosException.java    |     40 +
 .../palo/broker/bos/BosNativeFileSystemStore.java  |    829 +
 .../com/baidu/palo/broker/bos/BrokerBootstrap.java |     88 +
 .../com/baidu/palo/broker/bos/BrokerConfig.java    |     63 +
 .../com/baidu/palo/broker/bos/BrokerException.java |     71 +
 .../baidu/palo/broker/bos/BrokerFileSystem.java    |     99 +
 .../palo/broker/bos/ClientContextManager.java      |    250 +
 .../com/baidu/palo/broker/bos/FileMetadata.java    |     56 +
 .../baidu/palo/broker/bos/FileSystemIdentity.java  |     70 +
 .../baidu/palo/broker/bos/FileSystemManager.java   |    395 +
 .../palo/broker/bos/NativeFileSystemStore.java     |     66 +
 .../com/baidu/palo/broker/bos/PartialListing.java  |     58 +
 .../com/baidu/palo/common/BrokerPerfMonitor.java   |     31 +
 .../src/com/baidu/palo/common/ConfigBase.java      |    197 +
 .../src/com/baidu/palo/common/Log4jConfig.java     |    229 +
 .../com/baidu/palo/common/LoggerMessageFormat.java |    273 +
 .../src/com/baidu/palo/common/ThriftServer.java    |    119 +
 .../palo/broker/bos/TestBOSBrokerService.java      |     73 +
 .../palo/broker/bos/TestFileSystemManager.java     |    149 +
 gensrc/Makefile                                    |     38 +
 gensrc/parser/Makefile                             |     58 +
 gensrc/parser/sql_parser.y                         |   3687 +
 gensrc/parser/sql_scanner.flex                     |    528 +
 gensrc/proto/Makefile                              |     37 +
 gensrc/proto/column_data_file.proto                |     67 +
 gensrc/proto/olap_common.proto                     |     48 +
 gensrc/proto/olap_file.proto                       |    113 +
 gensrc/script/Makefile                             |     77 +
 gensrc/script/file2array.sh                        |    109 +
 gensrc/script/gen_build_version.sh                 |    163 +
 gensrc/script/gen_builtins_functions.py            |    127 +
 gensrc/script/gen_functions.py                     |    732 +
 gensrc/script/gen_opcodes.py                       |    395 +
 gensrc/script/gen_vector_functions.py              |    570 +
 gensrc/script/palo_builtins_functions.py           |    568 +
 gensrc/script/palo_functions.py                    |    321 +
 gensrc/thrift/AgentService.thrift                  |    219 +
 gensrc/thrift/BackendService.thrift                |    113 +
 gensrc/thrift/Data.thrift                          |     77 +
 gensrc/thrift/DataSinks.thrift                     |     98 +
 gensrc/thrift/Ddl.thrift                           |    368 +
 gensrc/thrift/Descriptors.thrift                   |    200 +
 gensrc/thrift/Exprs.thrift                         |    192 +
 gensrc/thrift/FrontendService.thrift               |    462 +
 gensrc/thrift/HeartbeatService.thrift              |     46 +
 gensrc/thrift/Makefile                             |     58 +
 gensrc/thrift/MasterService.thrift                 |    107 +
 gensrc/thrift/MetricDefs.thrift                    |   1534 +
 gensrc/thrift/Metrics.thrift                       |     52 +
 gensrc/thrift/NetworkTest.thrift                   |     33 +
 gensrc/thrift/Opcodes.thrift                       |     88 +
 gensrc/thrift/PaloBrokerService.thrift             |    230 +
 gensrc/thrift/PaloInternalService.thrift           |    318 +
 gensrc/thrift/PaloService.thrift                   |    103 +
 gensrc/thrift/Partitions.thrift                    |     87 +
 gensrc/thrift/PlanNodes.thrift                     |    537 +
 gensrc/thrift/Planner.thrift                       |     75 +
 gensrc/thrift/RuntimeProfile.thrift                |     61 +
 gensrc/thrift/Status.thrift                        |     41 +
 gensrc/thrift/Types.thrift                         |    339 +
 thirdparty/build-thirdparty.sh                     |    477 +
 thirdparty/download-thirdparty.sh                  |    218 +
 thirdparty/java-libraries.tar.gz                   |    Bin 0 -> 24899530 bytes
 thirdparty/patches/boost-1.64.0-gcc4.8.patch       |    101 +
 thirdparty/patches/glog-0.3.3-for-palo2.patch      |    387 +
 .../patches/glog-0.3.3-vlog-double-lock-bug.patch  |     21 +
 thirdparty/patches/mysql-5.7.18.patch              |     21 +
 thirdparty/patches/ncurses-6.0.patch               |     12 +
 thirdparty/patches/re2-2017-05-01.patch            |     11 +
 thirdparty/vars.sh                                 |    182 +
 webroot/static/bootstrap.css                       |   4955 +
 webroot/static/datatables_bootstrap.css            |    179 +
 webroot/static/datatables_bootstrap.js             |    159 +
 webroot/static/jquery.dataTables.js                |  12099 +++
 webroot/static/jquery.js                           |  10337 ++
 1988 files changed, 586941 insertions(+)

