commit 03846c85905d6d0b17bb6086c192ece1ea6b0889
Author: chenglei <chenglei@apache.org>
Date:   Sun Dec 1 17:32:13 2019 +0800

    PHOENIX-5494 Batched, mutable Index updates are unnecessarily run one-by-one

 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +
 .../hbase/index/builder/IndexBuildManager.java     |  19 +-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   3 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   8 +-
 .../hbase/index/covered/data/CachedLocalTable.java | 201 +++++++++++++++++++++
 .../hbase/index/covered/data/LocalHBaseState.java  |   3 +-
 .../hbase/index/covered/data/LocalTable.java       |  98 ----------
 .../hbase/index/covered/LocalTableStateTest.java   | 127 +++----------
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  32 +++-
 .../index/covered/TestCoveredColumnIndexCodec.java |   4 +-
 .../hbase/index/covered/data/TestLocalTable.java   |  63 -------
 12 files changed, 285 insertions(+), 279 deletions(-)

commit c8c31365fa67b7deb293b526ef0c96a7e878adbd
Author: Toshihiro Suzuki <brfrn169@gmail.com>
Date:   Fri Nov 29 22:05:04 2019 +0900

    PHOENIX-5594 Different permission of phoenix-*-queryserver.log from umask (Toshihiro Suzuki)

 bin/queryserver.py | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 29844e4745b15d7aee20f622245aba6cc4cf70ec
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Nov 27 17:16:24 2019 -0800

    PHOENIX-5597 No read repair happens when scans filter rows based on a covered column

 .../end2end/index/GlobalIndexCheckerIT.java        |  55 +---------
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  33 ------
 .../org/apache/phoenix/execute/MutationState.java  |  22 ++--
 .../phoenix/hbase/index/IndexRegionObserver.java   | 118 ++++++++++-----------
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +-
 5 files changed, 70 insertions(+), 160 deletions(-)

commit 7e298b3b4b51e5ebfcd46cf0c9724fcf36cbd9fd
Author: Kadir <kozdemir@salesforce.com>
Date:   Tue Nov 26 12:07:30 2019 -0800

    PHOENIX-5589 GlobalIndexChecker does not populate global index related attributes for certain queries

 .../end2end/index/GlobalIndexCheckerIT.java        | 64 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/IndexUtil.java    |  7 +++
 2 files changed, 71 insertions(+)

commit cdabf29aa7440c4a8b8c85b81542121ffcb7baac
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Nov 25 16:20:58 2019 -0800

    PHOENIX-5584 Older clients don't get correct view metadata when a 4.15 client creates a view.

 .../apache/phoenix/coprocessor/MetaDataEndpointImpl.java    | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit c7d05d274af6bd2075c422452db4d7a38e5def95
Author: chenglei <chenglei@apache.org>
Date:   Sun Nov 24 12:24:32 2019 +0800

    Revert "PHOENIX-5494 Batched, mutable Index updates are unnecessarily run one-by-one"
    
    This reverts commit f736d0ae008c45b055d29fff9f54c2edfa164573.

 .../hbase/index/builder/BaseIndexBuilder.java      |   4 -
 .../hbase/index/builder/IndexBuildManager.java     |  20 +--
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   3 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   8 +-
 .../hbase/index/covered/data/CachedLocalTable.java |  72 ---------
 .../hbase/index/covered/data/LocalHBaseState.java  |   3 +-
 .../hbase/index/covered/data/LocalTable.java       |  98 ++++++++++++
 .../hbase/index/util/IndexManagementUtil.java      | 165 ++++-----------------
 .../hbase/index/covered/LocalTableStateTest.java   | 118 +++++++++++----
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  32 +---
 .../index/covered/TestCoveredColumnIndexCodec.java |   4 +-
 .../hbase/index/covered/data/TestLocalTable.java   |  63 ++++++++
 13 files changed, 302 insertions(+), 290 deletions(-)

commit f736d0ae008c45b055d29fff9f54c2edfa164573
Author: chenglei <chenglei@apache.org>
Date:   Sat Nov 23 14:15:48 2019 +0800

    PHOENIX-5494 Batched, mutable Index updates are unnecessarily run one-by-one
    
    Co-authored-by: kadirozde kadir@apache.org

 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +
 .../hbase/index/builder/IndexBuildManager.java     |  20 ++-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   3 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   8 +-
 .../hbase/index/covered/data/CachedLocalTable.java |  72 +++++++++
 .../hbase/index/covered/data/LocalHBaseState.java  |   3 +-
 .../hbase/index/covered/data/LocalTable.java       |  98 ------------
 .../hbase/index/util/IndexManagementUtil.java      | 165 +++++++++++++++++----
 .../hbase/index/covered/LocalTableStateTest.java   | 118 ++++-----------
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  32 +++-
 .../index/covered/TestCoveredColumnIndexCodec.java |   4 +-
 .../hbase/index/covered/data/TestLocalTable.java   |  63 --------
 13 files changed, 290 insertions(+), 302 deletions(-)

commit 1ef37d98ac0fab7ae004e8d39dd438a2fc639fe3
Author: chenglei <chenglei@apache.org>
Date:   Sat Nov 23 14:08:37 2019 +0800

    Revert "PHOENIX-5494 Batched, mutable Index updates are unnecessarily run one-by-one"
    
    This reverts commit a48aa8766f8a448b6eb6bd8e7d3708ea95799130.

 .../hbase/index/builder/BaseIndexBuilder.java      |   4 -
 .../hbase/index/builder/IndexBuildManager.java     |  20 +--
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   3 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   8 +-
 .../hbase/index/covered/data/CachedLocalTable.java |  72 ---------
 .../hbase/index/covered/data/LocalHBaseState.java  |   3 +-
 .../hbase/index/covered/data/LocalTable.java       |  98 ++++++++++++
 .../hbase/index/util/IndexManagementUtil.java      | 165 ++++-----------------
 .../hbase/index/covered/LocalTableStateTest.java   | 122 +++++++++++----
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  32 +---
 .../index/covered/TestCoveredColumnIndexCodec.java |   4 +-
 .../hbase/index/covered/data/TestLocalTable.java   |  63 ++++++++
 13 files changed, 304 insertions(+), 292 deletions(-)

commit a48aa8766f8a448b6eb6bd8e7d3708ea95799130
Author: chenglei <chenglei@apache.org>
Date:   Sat Nov 23 13:39:45 2019 +0800

    PHOENIX-5494 Batched, mutable Index updates are unnecessarily run one-by-one
    
    Co-authored-by: kadirozde kadir@apache.org

 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +
 .../hbase/index/builder/IndexBuildManager.java     |  20 ++-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   3 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   8 +-
 .../hbase/index/covered/data/CachedLocalTable.java |  72 +++++++++
 .../hbase/index/covered/data/LocalHBaseState.java  |   3 +-
 .../hbase/index/covered/data/LocalTable.java       |  98 ------------
 .../hbase/index/util/IndexManagementUtil.java      | 165 +++++++++++++++++----
 .../hbase/index/covered/LocalTableStateTest.java   | 122 ++++-----------
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  32 +++-
 .../index/covered/TestCoveredColumnIndexCodec.java |   4 +-
 .../hbase/index/covered/data/TestLocalTable.java   |  63 --------
 13 files changed, 292 insertions(+), 304 deletions(-)

commit 8f4cbf028585d3e017143e579d07369be384ff7d
Author: Istvan Toth <stoty@stoty.hu>
Date:   Fri Nov 15 12:35:07 2019 -0800

    PHOENIX-5572 httpclient NoClassDefFoundError due to old httpcore version
    
    exclude httpcore from the tephra dependency, so that we get httpcore via hadoop3->httpclient
    
    Closes #634

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 0f6fafeb011251f9db9cac990298879271cd3f81
Author: Istvan Toth <stoty@stoty.hu>
Date:   Tue Oct 29 15:56:19 2019 +0100

    PHOENIX-5551 Update maven apache parent to version 21
    
    also remove explicit version settings for the managed plugins
    
    Closes #613

 phoenix-core/pom.xml |  1 -
 pom.xml              | 20 +-------------------
 2 files changed, 1 insertion(+), 20 deletions(-)

commit 1ce821c8739028c5ceacb1f44d391700778c7ccd
Author: Istvan Toth <stoty@stoty.hu>
Date:   Fri Nov 15 14:56:22 2019 -0800

    PHOENIX-5575 Remove redundant dependency versions
    
    remove the explicit version elements that have no effect
    
    Closes #636

 phoenix-core/pom.xml | 10 ----------
 1 file changed, 10 deletions(-)

commit 234660ea0082815c59704a61dc9c33bb11d64381
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Nov 7 15:50:40 2019 -0800

    PHOENIX-5565 Unify index update structures in IndexRegionObserver and IndexCommitter

 .../phoenix/hbase/index/IndexRegionObserver.java   | 155 +++++++++++----------
 .../hbase/index/builder/IndexBuildManager.java     |  15 +-
 2 files changed, 84 insertions(+), 86 deletions(-)

commit 98e2b1686e134bef3cfc96d03caeb888f2734c6f
Author: Kadir <kozdemir@salesforce.com>
Date:   Sat Nov 9 17:05:18 2019 -0800

    PHOENIX-5564 Restructure read repair to improve readability and correctness

 .../UngroupedAggregateRegionObserver.java          |  26 ++--
 .../apache/phoenix/index/GlobalIndexChecker.java   | 141 ++++++++++++++-------
 2 files changed, 113 insertions(+), 54 deletions(-)

commit dcdb576a8de0ac1c0133b602aa04092d08ae256e
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Nov 13 01:12:29 2019 -0800

    PHOENIX-5545: DropChildViews Task fails for a base table when its child view has an index

 .../org/apache/phoenix/end2end/ViewMetadataIT.java | 52 +++++++++++++++++-----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 12 ++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  3 +-
 3 files changed, 55 insertions(+), 12 deletions(-)

commit a078ed2f677720591a59a540b48e04a20bc080d1
Author: s.kadam <s.kadam@salesforce.com>
Date:   Wed Nov 13 16:01:12 2019 -0800

    PHOENIX-5531: IndexUpgradeTool crashes for tables without any indexes + sleep problems (Priyank Porwal + Swaroopa Kadam)

 .../end2end/ParameterizedIndexUpgradeToolIT.java   |  23 ++-
 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 164 ++++++++++++---------
 2 files changed, 110 insertions(+), 77 deletions(-)

commit 59311b176fb1d258620cda1d58c656043496b015
Author: Istvan Toth <stoty@stoty.hu>
Date:   Mon Oct 28 11:15:02 2019 +0100

    PHOENIX-5548 Upgrade Jetty to 9.3.27.v20190418
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 910b72bf5d3b51a0c30ce43d9b19c0ce089cda62
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Nov 13 10:21:03 2019 -0800

    PHOENIX-5559 Fix remaining issues with Long viewIndexIds.

 .../end2end/BaseTenantSpecificViewIndexIT.java     |  10 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   8 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   4 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |   2 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  10 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |   4 +-
 .../end2end/index/GlobalIndexOptimizationIT.java   |   2 +-
 .../apache/phoenix/end2end/index/IndexUsageIT.java |   4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   2 +-
 .../end2end/index/MutableIndexFailureIT.java       |   2 +-
 .../phoenix/end2end/index/ShortViewIndexIdIT.java  | 104 +++++++++++++++++++++
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   4 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  13 ++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   2 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  18 ++++
 16 files changed, 163 insertions(+), 32 deletions(-)

commit f8cfa6b8b9f63ab080cdafa486bb4aabf043b1f8
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Mon Nov 11 16:15:12 2019 -0800

    PHOENIX-5561: Replace Java8 code

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 05e26a31c46d7a77b719647847835683a1f8f491
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Mon Nov 11 16:39:35 2019 -0800

    PHOENIX-5546: TASK_TS being set as HConstants.LATEST_TIMESTAMP in SYSTEM.TASK table

 .../org/apache/phoenix/end2end/ViewMetadataIT.java | 67 +++++++++++++++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  5 +-
 .../phoenix/coprocessor/TaskRegionObserver.java    |  3 +-
 .../org/apache/phoenix/execute/MutationState.java  | 14 +++--
 .../org/apache/phoenix/query/QueryConstants.java   |  3 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 34 ++++++-----
 .../java/org/apache/phoenix/schema/task/Task.java  | 31 +---------
 7 files changed, 106 insertions(+), 51 deletions(-)

commit dd5551b4e8cc17e5bd587e6c4f5f256a8212345a
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Fri Nov 8 14:13:27 2019 -0800

    PHOENIX-5508 - ALTER INDEX REBUILD removes all rows from a simple global index

 .../apache/phoenix/end2end/index/AlterIndexIT.java | 73 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 31 +++++++--
 2 files changed, 99 insertions(+), 5 deletions(-)

commit 62f0490acb91fd1778a61b590e8288f2eb892184
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Fri Nov 8 13:49:59 2019 -0800

    PHOENIX-5560 - View Index Tables created incorrectly with IndexRegionObserver

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 68 +++++++++++++++++++---
 1 file changed, 59 insertions(+), 9 deletions(-)

commit 70baf4c6805eb46420dd1fbaf71a093ab7d84a8b
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Nov 6 22:04:20 2019 -0800

    PHOENIX-5562 Simplify detection of concurrent updates on data tables with indexes

 .../phoenix/hbase/index/IndexRegionObserver.java   | 51 ++++++++--------------
 1 file changed, 17 insertions(+), 34 deletions(-)

commit ff00f67ffb2cf97adbd17cb67ff675f77a13930b
Author: Viraj Jasani <virajjasani007@gmail.com>
Date:   Thu Nov 7 12:00:37 2019 +0530

    PHOENIX-5557 Prevent String comparison using ==

 .../src/main/java/org/apache/phoenix/schema/SequenceKey.java   | 10 ++++++++--
 .../src/main/java/org/apache/phoenix/util/UpgradeUtil.java     |  4 ++--
 2 files changed, 10 insertions(+), 4 deletions(-)

commit ec78cd142a21a2ccf6f1f53ee16b501bf81352c5
Author: chenglei <chenglei@apache.org>
Date:   Thu Nov 7 10:33:46 2019 +0800

    PHOENIX-5556 Avoid repeatedly loading IndexMetaData For IndexRegionObserver

 .../phoenix/hbase/index/IndexRegionObserver.java   | 39 ++++++++++++++--------
 .../hbase/index/builder/IndexBuildManager.java     |  4 +--
 2 files changed, 28 insertions(+), 15 deletions(-)

commit 3fd0c7260af98647a832c73fae15ac9290e4389d
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Nov 6 00:59:19 2019 -0800

    PHOENIX-5544: Dropping a base table with cascade with an older client does not clear all child view metadata

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 84 +++++++++++++++-------
 .../phoenix/coprocessor/MetaDataProtocol.java      |  1 +
 .../query/DelegateConnectionQueryServices.java     |  2 +-
 .../java/org/apache/phoenix/util/ViewUtil.java     | 40 +++++++++++
 4 files changed, 100 insertions(+), 27 deletions(-)

commit d340ff8d2461f16e87dd3541899f2364eebba9d9
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Nov 3 09:41:27 2019 -0800

    PHOENIX-5558 Eliminate the second single data row scan during read repairs

 .../coprocessor/BaseScannerRegionObserver.java     |  1 +
 .../UngroupedAggregateRegionObserver.java          | 46 ++++++++++++++--
 .../apache/phoenix/index/GlobalIndexChecker.java   | 64 ++++++----------------
 3 files changed, 60 insertions(+), 51 deletions(-)

commit 0aa7d5722d92126d2e50fd2b1346c57305c4d745
Author: Istvan Toth <stoty@stoty.hu>
Date:   Mon Oct 28 15:04:18 2019 +0100

    PHOENIX-5549 BouncyCastle dependency definition has no effect
    
    remove bouncycastle references from pom

 pom.xml | 7 -------
 1 file changed, 7 deletions(-)

commit 67d72a222e204f195a206bb6c5973f7e175ef951
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Tue Oct 29 18:02:47 2019 -0700

    PHOENIX-5553: Transactional views should not get GlobalIndexChecker coproc
    
    Signed-off-by: Kadir <kozdemir@salesforce.com>

 .../end2end/ParameterizedIndexUpgradeToolIT.java   | 27 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 11 ++++++++-
 2 files changed, 37 insertions(+), 1 deletion(-)

commit c90facfecec6a4c4ca4f0b659fc16e1b7a96a663
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Oct 30 21:32:22 2019 -0700

    PHOENIX-5478 IndexTool mapper task should not timeout (addendum for start/close region operation)

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java       | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 97953d1c1b5a736a147f8f91630b61a7505fef5c
Author: Istvan Toth <stoty@stoty.hu>
Date:   Wed Oct 30 09:06:31 2019 +0100

    PHOENIX-5554 Synchronize @Parameters, @BeforeClass and @AfterClass methods
    
    adds the synchronized keyword to the mentioned methods
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../hadoop/hbase/regionserver/wal/WALRecoveryRegionPostOpenIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/AggregateQueryIT.java      | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/AlterTableIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/AlterTableWithViewsIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/AutoPartitionViewsIT.java  | 2 +-
 .../it/java/org/apache/phoenix/end2end/BaseHBaseManagedTimeIT.java    | 4 ++--
 phoenix-core/src/it/java/org/apache/phoenix/end2end/BaseViewIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CaseStatementIT.java       | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CastAndCoerceIT.java       | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/ConfigurableCacheIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/ConnectionUtilIT.java      | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/ContextClassloaderIT.java  | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CostBasedDecisionIT.java   | 2 +-
 .../java/org/apache/phoenix/end2end/CountDistinctCompressionIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CsvBulkLoadToolIT.java     | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/DeleteIT.java     | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/DerivedTableIT.java        | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/DropSchemaIT.java | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/DropTableWithViewsIT.java  | 4 ++--
 .../it/java/org/apache/phoenix/end2end/DynamicColumnWildcardIT.java   | 2 +-
 .../org/apache/phoenix/end2end/ExplainPlanWithStatsEnabledIT.java     | 2 +-
 .../org/apache/phoenix/end2end/GlobalConnectionTenantTableIT.java     | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/GroupByIT.java    | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/InQueryIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/IndexBuildTimestampIT.java | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/IndexExtendedIT.java       | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/IndexRebuildTaskIT.java    | 2 +-
 .../it/java/org/apache/phoenix/end2end/IndexScrutinyToolBaseIT.java   | 2 +-
 .../org/apache/phoenix/end2end/IndexToolForDeleteBeforeRebuildIT.java | 2 +-
 .../java/org/apache/phoenix/end2end/IndexToolForPartialBuildIT.java   | 2 +-
 .../end2end/IndexToolForPartialBuildWithNamespaceEnabledIT.java       | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/IndexToolIT.java  | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/IntArithmeticIT.java       | 2 +-
 .../it/java/org/apache/phoenix/end2end/LocalIndexSplitMergeIT.java    | 2 +-
 .../apache/phoenix/end2end/NotQueryWithGlobalImmutableIndexesIT.java  | 2 +-
 .../apache/phoenix/end2end/NotQueryWithLocalImmutableIndexesIT.java   | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/NullIT.java       | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/OnDuplicateKeyIT.java      | 2 +-
 .../phoenix/end2end/OrderByWithServerClientSpoolingDisabledIT.java    | 2 +-
 .../org/apache/phoenix/end2end/OrderByWithServerMemoryLimitIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/OrderByWithSpillingIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/OrphanViewToolIT.java      | 4 ++--
 .../it/java/org/apache/phoenix/end2end/ParallelStatsDisabledIT.java   | 4 ++--
 .../it/java/org/apache/phoenix/end2end/ParallelStatsEnabledIT.java    | 2 +-
 .../org/apache/phoenix/end2end/ParameterizedIndexUpgradeToolIT.java   | 2 +-
 .../apache/phoenix/end2end/PartialResultServerConfigurationIT.java    | 4 ++--
 .../it/java/org/apache/phoenix/end2end/PermissionNSDisabledIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/PermissionNSEnabledIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/PermissionsCacheIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/PhoenixDriverIT.java       | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/PointInTimeQueryIT.java    | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryIT.java      | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/QueryLoggerIT.java         | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/QueryTimeoutIT.java        | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/QueryWithLimitIT.java      | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/QueryWithOffsetIT.java     | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/RangeScanIT.java  | 2 +-
 .../org/apache/phoenix/end2end/RebuildIndexConnectionPropsIT.java     | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/RegexBulkLoadToolIT.java   | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/RenewLeaseIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/RowTimestampIT.java        | 2 +-
 .../it/java/org/apache/phoenix/end2end/SequenceBulkAllocationIT.java  | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/SequencePointInTimeIT.java | 2 +-
 .../java/org/apache/phoenix/end2end/SetPropertyOnEncodedTableIT.java  | 2 +-
 .../org/apache/phoenix/end2end/SetPropertyOnNonEncodedTableIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/SpillableGroupByIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/SplitSystemCatalogIT.java  | 2 +-
 .../org/apache/phoenix/end2end/StatsEnabledSplitSystemCatalogIT.java  | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/StoreNullsIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/SystemCatalogIT.java       | 2 +-
 .../it/java/org/apache/phoenix/end2end/SystemCatalogUpgradeIT.java    | 2 +-
 .../org/apache/phoenix/end2end/TableSnapshotReadsMapReduceIT.java     | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/TenantIdTypeIT.java        | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/ToNumberFunctionIT.java    | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/TransactionalViewIT.java   | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/UngroupedIT.java  | 2 +-
 .../apache/phoenix/end2end/UpdateCacheAcrossDifferentClientsIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/UpperLowerFunctionIT.java  | 2 +-
 .../it/java/org/apache/phoenix/end2end/UpsertSelectAutoCommitIT.java  | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/UpsertSelectIT.java        | 2 +-
 .../it/java/org/apache/phoenix/end2end/UserDefinedFunctionsIT.java    | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/ViewIT.java       | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/ViewMetadataIT.java        | 2 +-
 .../it/java/org/apache/phoenix/end2end/index/BaseLocalIndexIT.java    | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/index/DropColumnIT.java    | 2 +-
 .../org/apache/phoenix/end2end/index/GlobalImmutableNonTxIndexIT.java | 2 +-
 .../org/apache/phoenix/end2end/index/GlobalImmutableTxIndexIT.java    | 2 +-
 .../java/org/apache/phoenix/end2end/index/GlobalIndexCheckerIT.java   | 4 ++--
 .../org/apache/phoenix/end2end/index/GlobalMutableNonTxIndexIT.java   | 2 +-
 .../index/GlobalMutableNonTxIndexWithLazyPostBatchWriteIT.java        | 2 +-
 .../java/org/apache/phoenix/end2end/index/GlobalMutableTxIndexIT.java | 2 +-
 .../it/java/org/apache/phoenix/end2end/index/ImmutableIndexIT.java    | 4 ++--
 .../phoenix/end2end/index/IndexRebuildIncrementDisableCountIT.java    | 2 +-
 .../org/apache/phoenix/end2end/index/LocalImmutableNonTxIndexIT.java  | 2 +-
 .../org/apache/phoenix/end2end/index/LocalImmutableTxIndexIT.java     | 2 +-
 .../org/apache/phoenix/end2end/index/LocalMutableNonTxIndexIT.java    | 2 +-
 .../java/org/apache/phoenix/end2end/index/LocalMutableTxIndexIT.java  | 2 +-
 .../java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 4 ++--
 .../phoenix/end2end/index/MutableIndexFailureWithNamespaceIT.java     | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java  | 2 +-
 .../org/apache/phoenix/end2end/index/MutableIndexReplicationIT.java   | 2 +-
 .../it/java/org/apache/phoenix/end2end/index/MutableIndexSplitIT.java | 2 +-
 .../org/apache/phoenix/end2end/index/PartialIndexRebuilderIT.java     | 2 +-
 .../org/apache/phoenix/end2end/index/PhoenixMRJobSubmitterIT.java     | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/index/ViewIndexIT.java     | 2 +-
 .../java/org/apache/phoenix/end2end/index/txn/MutableRollbackIT.java  | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/index/txn/RollbackIT.java  | 2 +-
 .../java/org/apache/phoenix/end2end/index/txn/TxWriteFailureIT.java   | 4 ++--
 .../java/org/apache/phoenix/end2end/join/HashJoinGlobalIndexIT.java   | 2 +-
 .../it/java/org/apache/phoenix/end2end/join/HashJoinLocalIndexIT.java | 2 +-
 .../it/java/org/apache/phoenix/end2end/join/HashJoinNoIndexIT.java    | 2 +-
 .../org/apache/phoenix/end2end/join/SortMergeJoinGlobalIndexIT.java   | 2 +-
 .../org/apache/phoenix/end2end/join/SortMergeJoinLocalIndexIT.java    | 2 +-
 .../java/org/apache/phoenix/end2end/join/SortMergeJoinNoIndexIT.java  | 2 +-
 .../org/apache/phoenix/end2end/join/SortMergeJoinNoSpoolingIT.java    | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/join/SubqueryIT.java       | 2 +-
 .../org/apache/phoenix/end2end/join/SubqueryUsingSortMergeJoinIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/execute/PartialCommitIT.java       | 4 ++--
 .../org/apache/phoenix/execute/UpsertSelectOverlappingBatchesIT.java  | 4 ++--
 .../apache/phoenix/iterate/RoundRobinResultIteratorWithStatsIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/iterate/ScannerLeaseRenewalIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/jdbc/SecureUserConnectionsIT.java  | 4 ++--
 .../it/java/org/apache/phoenix/monitoring/BasePhoenixMetricsIT.java   | 2 +-
 .../java/org/apache/phoenix/monitoring/PhoenixMetricsDisabledIT.java  | 2 +-
 .../src/it/java/org/apache/phoenix/query/ConnectionCachingIT.java     | 2 +-
 .../org/apache/phoenix/replication/SystemCatalogWALEntryFilterIT.java | 4 ++--
 .../src/it/java/org/apache/phoenix/rpc/PhoenixClientRpcIT.java        | 4 ++--
 .../src/it/java/org/apache/phoenix/rpc/PhoenixServerRpcIT.java        | 2 +-
 .../it/java/org/apache/phoenix/schema/stats/BaseStatsCollectorIT.java | 2 +-
 .../apache/phoenix/schema/stats/NamespaceEnabledStatsCollectorIT.java | 2 +-
 .../it/java/org/apache/phoenix/schema/stats/NoOpStatsCollectorIT.java | 2 +-
 .../java/org/apache/phoenix/schema/stats/NonTxStatsCollectorIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/tx/FlappingTransactionIT.java      | 2 +-
 .../src/it/java/org/apache/phoenix/tx/ParameterizedTransactionIT.java | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/tx/TransactionIT.java     | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/tx/TxCheckpointIT.java    | 2 +-
 .../hbase/regionserver/wal/ReadWriteKeyValuesWithCodecTest.java       | 2 +-
 .../test/java/org/apache/phoenix/compile/JoinQueryCompilerTest.java   | 2 +-
 .../test/java/org/apache/phoenix/compile/SaltedScanRangesTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/compile/ScanRangesTest.java      | 2 +-
 .../test/java/org/apache/phoenix/expression/MathTrigFunctionTest.java | 2 +-
 .../java/org/apache/phoenix/filter/SkipScanFilterIntersectTest.java   | 2 +-
 .../src/test/java/org/apache/phoenix/filter/SkipScanFilterTest.java   | 2 +-
 .../hbase/index/write/recovery/TestPerRegionIndexWriteCache.java      | 4 ++--
 .../src/test/java/org/apache/phoenix/index/IndexUpgradeToolTest.java  | 2 +-
 .../test/java/org/apache/phoenix/mapreduce/index/BaseIndexTest.java   | 2 +-
 .../java/org/apache/phoenix/query/BaseConnectionlessQueryTest.java    | 4 ++--
 .../src/test/java/org/apache/phoenix/query/ConnectionlessTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/query/KeyRangeClipTest.java      | 2 +-
 .../src/test/java/org/apache/phoenix/query/KeyRangeCoalesceTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/query/KeyRangeIntersectTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/query/KeyRangeUnionTest.java     | 2 +-
 .../java/org/apache/phoenix/query/ParallelIteratorsSplitTest.java     | 2 +-
 .../java/org/apache/phoenix/schema/ImmutableStorageSchemeTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/trace/TraceSpanReceiverTest.java | 2 +-
 phoenix-core/src/test/java/org/apache/phoenix/util/ScanUtilTest.java  | 2 +-
 .../test/java/org/apache/phoenix/util/TenantIdByteConversionTest.java | 2 +-
 .../src/it/java/org/apache/phoenix/pherf/ResultBaseTestIT.java        | 4 ++--
 .../src/test/java/org/apache/phoenix/pherf/ResultBaseTest.java        | 4 ++--
 159 files changed, 186 insertions(+), 186 deletions(-)

commit 2e60f771379327648af722427c8f29f6b77945f9
Author: chenglei <chenglei@apache.org>
Date:   Wed Oct 30 18:24:48 2019 +0800

    PHOENIX-5555 Remove duplicate semicolons for import in IndexCommitter

 .../main/java/org/apache/phoenix/hbase/index/write/IndexCommitter.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1299dbc46687d5867a3dacaa8680ad69876f9088
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 28 13:25:37 2019 -0700

    PHOENIX-5535 Replay delete markers during server side global index rebuild

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 69 ++++++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          | 61 +++++++++++++++++--
 .../apache/phoenix/index/GlobalIndexChecker.java   |  3 -
 3 files changed, 125 insertions(+), 8 deletions(-)

commit d73df380570f56c2fa083e224ef6f996333a88d6
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Thu Oct 24 21:59:40 2019 -0700

    PHOENIX-5103: Can't create/drop table using 4.14 client against 4.15 server (Addendum)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 37 +++++++++++++++-------
 .../coprocessor/tasks/DropChildViewsTask.java      |  8 ++++-
 .../phoenix/query/ConnectionQueryServices.java     |  1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  7 +++-
 .../query/ConnectionlessQueryServicesImpl.java     |  3 ++
 .../query/DelegateConnectionQueryServices.java     |  5 +++
 .../java/org/apache/phoenix/util/QueryUtil.java    | 10 ++++--
 .../java/org/apache/phoenix/util/ViewUtil.java     | 26 +++++++++------
 8 files changed, 70 insertions(+), 27 deletions(-)

commit 54c311b3886add3abbdeef999e7f6b63c4832ade
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 28 21:21:54 2019 -0700

    PHOENIX-5527 Unverified index rows should not be deleted due to replication lag

 .../org/apache/phoenix/execute/MutationState.java  |  4 ++--
 .../phoenix/hbase/index/IndexRegionObserver.java   | 22 +++++++++++++++++++++-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 3 files changed, 24 insertions(+), 4 deletions(-)

commit 6ce24abf310ff1d0fb8976a02be5758a6d311ab2
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Wed Oct 23 12:12:35 2019 -0500

    PHOENIX-5541 - Redundant Global Mutable Index Writes on Legacy Indexer

 .../org/apache/phoenix/hbase/index/Indexer.java    |  6 +++---
 .../phoenix/hbase/index/write/IndexWriter.java     | 22 ++--------------------
 2 files changed, 5 insertions(+), 23 deletions(-)

commit fe4a1a1f908453d6b79b90a277155c9de7a2e5c4
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Wed Oct 23 11:12:39 2019 -0700

    PHOENIX-5540 Full row index write at the last write phase for immutable global indexes
    
    Signed-off-by: Kadir <kozdemir@salesforce.com>

 .../phoenix/end2end/index/ImmutableIndexIT.java    | 46 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  | 16 +++++---
 .../phoenix/hbase/index/IndexRegionObserver.java   |  2 +-
 3 files changed, 57 insertions(+), 7 deletions(-)

commit e5373e5d6e109cce577381e3672218a2eb978641
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Oct 24 01:10:32 2019 -0700

    PHOENIX-5539 Full row index write at the last write phase for mutable global indexes

 .../end2end/index/GlobalIndexCheckerIT.java        | 50 ++++++++++++++++
 .../phoenix/hbase/index/IndexRegionObserver.java   | 68 ++++++++++++----------
 2 files changed, 87 insertions(+), 31 deletions(-)

commit 6063dcbb52d371d008b44169eae4fe9d43dfb95c
Author: Kadir <kozdemir@salesforce.com>
Date:   Fri Oct 25 08:49:50 2019 -0700

    PHOENIX-5478 IndexTool mapper task should not timeout (addendum for setting config params)

 .../apache/phoenix/mapreduce/index/IndexTool.java  | 22 ++++++++++++++++++++++
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit f3f722e4f29293885f1854cca9dd4cd37e6ff085
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Oct 24 08:47:44 2019 -0700

    PHOENIX-5533 Creating a view or index with a 4.14 client and 4.15.0 server fails with a NullPointerException.

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 46 ++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit ff9eccfce675d5fcc82024ad14535432f7ac4b57
Author: Kadir <kozdemir@salesforce.com>
Date:   Tue Oct 22 10:13:13 2019 -0700

    PHOENIX-5478 IndexTool mapper task should not timeout

 .../org/apache/phoenix/end2end/IndexToolIT.java    |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   2 +
 .../UngroupedAggregateRegionObserver.java          | 222 +++++++++++----------
 .../apache/phoenix/index/GlobalIndexChecker.java   |   4 -
 .../PhoenixServerBuildIndexInputFormat.java        |   2 +
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  12 --
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +-
 8 files changed, 130 insertions(+), 119 deletions(-)

commit a9ec9806536697f4683ed3321745e0b06f232bdf
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Oct 23 08:51:48 2019 -0700

    Revert "PHOENIX-5535 Index rebuilds via UngroupedAggregateRegionObserver should replay delete markers"
    
    This reverts commit 27ef3024cd3cd3bcf521cd932deb66166969f321.

 .../org/apache/phoenix/end2end/IndexToolIT.java    |  72 +-----
 .../apache/phoenix/compile/PostDDLCompiler.java    | 253 +++++++++------------
 .../phoenix/compile/ServerBuildIndexCompiler.java  | 109 ++++-----
 .../apache/phoenix/index/GlobalIndexChecker.java   |   8 +-
 .../PhoenixServerBuildIndexInputFormat.java        |  10 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   9 +-
 6 files changed, 183 insertions(+), 278 deletions(-)

commit 27ef3024cd3cd3bcf521cd932deb66166969f321
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Oct 20 01:02:22 2019 -0700

    PHOENIX-5535 Index rebuilds via UngroupedAggregateRegionObserver should replay delete markers

 .../org/apache/phoenix/end2end/IndexToolIT.java    |  72 +++++-
 .../apache/phoenix/compile/PostDDLCompiler.java    | 253 ++++++++++++---------
 .../phoenix/compile/ServerBuildIndexCompiler.java  | 109 +++++----
 .../apache/phoenix/index/GlobalIndexChecker.java   |   8 +-
 .../PhoenixServerBuildIndexInputFormat.java        |  10 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   9 +-
 6 files changed, 278 insertions(+), 183 deletions(-)

commit 14fd888a3487350b081b31f63d3e1c37b3d6f968
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 21 21:31:06 2019 -0700

    Revert "PHOENIX-5535 Index rebuilds via UngroupedAggregateRegionObserver should replay delete markers"
    
    This reverts commit 835de2bb57bcb47ee6d0132cb69a58419d3ee552.

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 67 ----------------------
 .../phoenix/compile/ServerBuildIndexCompiler.java  | 29 ++++------
 .../UngroupedAggregateRegionObserver.java          | 19 +-----
 .../apache/phoenix/index/GlobalIndexChecker.java   | 10 ++--
 4 files changed, 16 insertions(+), 109 deletions(-)

commit 835de2bb57bcb47ee6d0132cb69a58419d3ee552
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Oct 20 17:40:35 2019 -0700

    PHOENIX-5535 Index rebuilds via UngroupedAggregateRegionObserver should replay delete markers

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 67 ++++++++++++++++++++++
 .../phoenix/compile/ServerBuildIndexCompiler.java  | 29 ++++++----
 .../UngroupedAggregateRegionObserver.java          | 19 +++++-
 .../apache/phoenix/index/GlobalIndexChecker.java   | 10 ++--
 4 files changed, 109 insertions(+), 16 deletions(-)

commit b4471384bcdfbf421e1625960860361ecfaeaf6b
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Oct 11 15:00:46 2019 -0700

    PHOENIX-5522 If index is disabled, IndexUpgradeTool should not fail during indexTool run
    
    Signed-off-by: Kadir <kozdemir@salesforce.com>

 .../end2end/ParameterizedIndexUpgradeToolIT.java   | 63 ++++++++++++++--------
 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 53 +++++++++++++++---
 2 files changed, 89 insertions(+), 27 deletions(-)

commit efbed5a33861bc87f541bddfd8808fe0a6e9b125
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Tue Oct 15 00:08:41 2019 -0700

    PHOENIX-5524: Connections with SCN should fail mutations on tables with any index

 .../apache/phoenix/end2end/UpsertWithSCNIT.java    | 55 +++++++++++++++-------
 .../org/apache/phoenix/compile/UpsertCompiler.java | 11 ++---
 .../apache/phoenix/exception/SQLExceptionCode.java |  7 ++-
 3 files changed, 46 insertions(+), 27 deletions(-)

commit 5b2050c49dddef934325208b41d68cdb1e9d8c4b
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Oct 16 12:03:12 2019 -0700

    PHOENIX-5532 Index write failure does not cleanup pendingRows entries

 .../main/java/org/apache/phoenix/hbase/index/IndexRegionObserver.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eebccf59a2a19ff2d3b328b113117c7e6685e75e
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 14 18:06:20 2019 -0700

    PHOENIX-5515 Able to write indexed value to data table without writing to index table (addendum)

 .../java/org/apache/phoenix/hbase/index/IndexRegionObserver.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c6a6854047120eec54c25c8713a25b50a15bd236
Author: Jacob Isaac <jisaac@salesforce.com>
Date:   Thu Sep 5 09:49:58 2019 -0700

    PHOENIX-5464 Verify that the EMPTY_COLUMN column is updated under various scenarios in hbase.
    
    Signed-off-by: Kadir <kozdemir@salesforce.com>

 .../org/apache/phoenix/end2end/EmptyColumnIT.java  | 1121 ++++++++++++++
 .../apache/phoenix/query/PhoenixTestBuilder.java   | 1607 ++++++++++++++++++++
 2 files changed, 2728 insertions(+)

commit e01c51e500c59b93134480bd0a637636599cc785
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 14 09:50:27 2019 -0700

    PHOENIX-5527 Unverified index rows should not be deleted due to replication lag

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f431f1be1f3c17dba75adfce0873848c983af82c
Author: Kadir <kozdemir@salesforce.com>
Date:   Fri Oct 11 15:39:19 2019 -0700

    PHOENIX-5515 Able to write indexed value to data table without writing to index table

 .../end2end/index/GlobalIndexCheckerIT.java        | 315 +++++++++++++--------
 .../phoenix/hbase/index/IndexRegionObserver.java   |  43 +--
 .../phoenix/hbase/index/write/IndexCommitter.java  |   7 +-
 .../phoenix/hbase/index/write/IndexWriter.java     |  23 +-
 .../TrackingParallelWriterIndexCommitter.java      |  13 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java |   3 +
 6 files changed, 251 insertions(+), 153 deletions(-)

commit 13046b1a22c414d6e4e0b347d09593393de6f7df
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Thu Oct 10 12:58:59 2019 -0700

    PHOENIX-5514 Index read repair should use index rpc handlers
    
    Signed-off-by: Kadir <kozdemir@salesforce.com>

 .../src/main/java/org/apache/phoenix/index/GlobalIndexChecker.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf30a40006e15b60eb140c974dc4317e4e83de75
Author: Aman Poonia <apoonia@salesforce.com>
Date:   Thu Oct 10 14:50:33 2019 +0530

    PHOENIX-5493 Remove unnecesary iteration in BaseResultIterator

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java    | 1 +
 1 file changed, 1 insertion(+)

commit 6bb1a0eaae674f95ca0f6c332328958df28ab297
Author: Viraj Jasani <virajjasani007@gmail.com>
Date:   Thu Oct 10 14:31:25 2019 +0530

    PHOENIX-4306 Add more tests for DESC sort order

 .../apache/phoenix/end2end/DescOrderKeysIT.java    | 441 +++++++++++++++++++++
 1 file changed, 441 insertions(+)

commit 7d0e2f88b6e830a200d074eb167aeb2d2368e6c5
Author: Ankit Singhal <ankit@apache.org>
Date:   Mon Oct 7 11:17:29 2019 -0700

    PHOENIX-5506 Psql load fails with lower table name

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java | 35 ++++++++++++++++++++++
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |  3 +-
 2 files changed, 37 insertions(+), 1 deletion(-)

commit 1a8ae8adcf1d129ef69c7e21b750bd43fa102537
Author: Kadir <kozdemir@salesforce.com>
Date:   Sat Oct 5 16:30:07 2019 -0700

    PHOENIX-5505 Index read repair does not repair unverified rows with higher timestamp (addendum)

 .../java/org/apache/phoenix/end2end/index/GlobalMutableNonTxIndexIT.java | 1 -
 1 file changed, 1 deletion(-)

commit d8295133ae67ef877177c47cb42033d9bba87b1b
Author: Kadir <kozdemir@salesforce.com>
Date:   Sat Oct 5 16:30:07 2019 -0700

    PHOENIX-5505 Index read repair does not repair unverified rows with higher timestamp (addendum)

 .../org/apache/phoenix/util/IndexScrutinyIT.java   | 12 +---
 .../phoenix/hbase/index/IndexRegionObserver.java   | 17 +++++-
 .../apache/phoenix/index/GlobalIndexChecker.java   | 70 ++++++++++++++++++++--
 3 files changed, 82 insertions(+), 17 deletions(-)

commit 74f8464108a98b476c1c39b12150ae37861b7452
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Oct 5 13:39:14 2019 -0700

    PHOENIX-5499 Upgrading from 4.14.3 client to 4.15.0 client should remove parent->child links from SYSTEM.CATALOG.

 .../src/main/java/org/apache/phoenix/execute/MutationState.java     | 6 +++++-
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java    | 2 +-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 4da1d3b7fa3ab94c384df01f6f15b948fca3af40
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Oct 2 12:21:24 2019 -0700

    PHOENIX-5505 Index read repair does not repair unverified rows with higher timestamp

 .../end2end/index/GlobalIndexCheckerIT.java        | 121 ++++++++++++++++++++-
 .../coprocessor/BaseScannerRegionObserver.java     |   1 -
 .../UngroupedAggregateRegionObserver.java          |   4 -
 .../apache/phoenix/index/GlobalIndexChecker.java   |  80 ++++++++++----
 .../org/apache/phoenix/query/QueryServices.java    |   2 -
 .../apache/phoenix/query/QueryServicesOptions.java |   1 -
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 -
 7 files changed, 175 insertions(+), 36 deletions(-)

commit 61e3994166b07e6756a79be1c7c561b6f528960a
Author: Kadir <kozdemir@salesforce.com>
Date:   Tue Oct 1 19:36:49 2019 -0700

    PHOENIX-5503 IndexTool does not rebuild all the rows (addendum)

 .../apache/phoenix/mapreduce/index/IndexTool.java  | 23 +++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit db2ae56ac02addb203172226bb4964eeeb1239ed
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Sep 30 17:20:32 2019 -0700

    PHOENIX-5503 IndexTool does not rebuild all the rows

 .../java/org/apache/phoenix/end2end/IndexToolIT.java   | 10 ++++++++++
 .../org/apache/phoenix/mapreduce/index/IndexTool.java  | 18 +++++++++---------
 2 files changed, 19 insertions(+), 9 deletions(-)

commit 8d4161553435975bc0308e6208358552ba897b59
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Thu Sep 26 15:01:16 2019 -0700

    PHOENIX-4810: Send parent->child link mutations to SYSTEM.CHILD_LINK table in MetdataClient.createTableInternal

 .../apache/phoenix/end2end/BasePermissionsIT.java  | 100 +--
 .../phoenix/end2end/PermissionNSEnabledIT.java     |  72 ++
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  67 +-
 .../coprocessor/BaseMetaDataEndpointObserver.java  |   5 +
 .../coprocessor/ChildLinkMetaDataEndpoint.java     | 114 +++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  74 +-
 .../coprocessor/MetaDataEndpointObserver.java      |   3 +
 .../phoenix/coprocessor/MetaDataProtocol.java      |   3 +
 .../PhoenixMetaDataCoprocessorHost.java            |  40 +-
 .../generated/ChildLinkMetaDataProtos.java         | 786 +++++++++++++++++++++
 .../coprocessor/generated/MetaDataProtos.java      |  60 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   7 +
 .../org/apache/phoenix/protobuf/ProtobufUtil.java  |   6 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  87 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  13 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  18 +-
 .../src/main/ChildLinkMetaDataService.proto        |  36 +
 phoenix-protocol/src/main/MetaDataService.proto    |   1 +
 18 files changed, 1343 insertions(+), 149 deletions(-)

commit 3bea4131945943189edfe09fd6019c04552f8a19
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Sep 27 11:49:06 2019 -0700

    Revert "PHOENIX-5463 Remove AndExpressionTest and OrExpressionTest since the author did not add a license header."
    
    This reverts commit d3e16ae7ab3e4a328d523dd7aa4b0b740109ae7f.

 .../phoenix/expression/AndExpressionTest.java      | 314 +++++++++++++++++++++
 .../phoenix/expression/OrExpressionTest.java       | 310 ++++++++++++++++++++
 2 files changed, 624 insertions(+)

commit 207ab526ee511a19ac287f61fbd2cef268c5038d
Author: chfeng <chfeng@tencent.com>
Date:   Tue Sep 24 20:35:41 2019 +0800

    PHOENIX-5491 Improve the performance of InListExpression.hashCode()
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../phoenix/expression/InListExpression.java       | 37 ++++++++----
 .../phoenix/expression/InListExpressionTest.java   | 65 ++++++++++++++++++++++
 2 files changed, 91 insertions(+), 11 deletions(-)

commit d3e16ae7ab3e4a328d523dd7aa4b0b740109ae7f
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Sep 25 10:32:29 2019 -0700

    PHOENIX-5463 Remove AndExpressionTest and OrExpressionTest since the author did not add a license header.

 .../phoenix/expression/AndExpressionTest.java      | 314 ---------------------
 .../phoenix/expression/OrExpressionTest.java       | 310 --------------------
 2 files changed, 624 deletions(-)

commit 11997d48d1957cf613526f01c5ccbe2812cf095d
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Tue Sep 24 14:32:41 2019 -0700

    PHOENIX-5439: phoenix build fails with hadoop.profile=2
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@gmail.com>

 .../hbase/index/master/IndexMasterObserver.java    | 28 ----------------------
 1 file changed, 28 deletions(-)

commit 52c658e77f52997d86e2cdb90210cf159dcc1591
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Fri Sep 20 11:57:19 2019 -0700

    PHOENIX-5463: AndExpressionTest and OrExpressionTest lack Apache licenses
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../apache/phoenix/expression/AndExpressionTest.java    | 17 +++++++++++++++++
 .../org/apache/phoenix/expression/OrExpressionTest.java | 17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit 4e4113e2be4f6a57600678173ea649e97a342a79
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Sep 20 12:54:52 2019 -0700

    PHOENIX-5486 Projections from local indexes return garbage.

 .../src/main/java/org/apache/phoenix/iterate/ExplainTable.java        | 2 +-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c43a3e30246127bfd5139b9e556906d6be7a8c0f
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Sep 18 09:51:15 2019 -0700

    PHOENIX-5406 addendum: Add missing license header.

 .../org/apache/phoenix/index/IndexUpgradeToolTest.java  | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 3d2f661158519ae048bbe44a6b366d432f5a0402
Author: Viraj Jasani <virajjasani007@gmail.com>
Date:   Wed Sep 4 15:40:59 2019 +0530

    PHOENIX-5458 : Refactor dup calls in ExpressionCompiler
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../apache/phoenix/compile/ExpressionCompiler.java | 215 ++++++++++-----------
 1 file changed, 107 insertions(+), 108 deletions(-)

commit 7d29ab53d63e7dcc76f02f5ce5bbc2ae0a84991c
Author: Xinyi <xyan@salesforce.com>
Date:   Tue Jun 11 19:24:47 2019 -0700

    PHOENIX-4285 Add PHERF.LOG_PER_NROWS constraint to PHERF.properties file

 phoenix-pherf/config/pherf.properties              |  3 ++
 .../main/java/org/apache/phoenix/pherf/Pherf.java  | 27 +++++++++++++-
 .../org/apache/phoenix/pherf/PherfConstants.java   |  1 +
 .../phoenix/pherf/workload/WriteWorkload.java      |  9 +++--
 .../java/org/apache/phoenix/pherf/PherfTest.java   | 42 ++++++++++++++++++++++
 .../org/apache/phoenix/pherf/ResourceTest.java     |  1 +
 6 files changed, 80 insertions(+), 3 deletions(-)

commit 43fcb9d0bb4e7f192529044064ae448089f18863
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Sep 16 14:00:57 2019 -0700

    PHOENIX-5473 Index write failures during index rebuilds should not change index table state (addendum)

 .../org/apache/phoenix/end2end/index/MutableIndexRebuilderIT.java     | 4 ++--
 .../apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java  | 3 ---
 2 files changed, 2 insertions(+), 5 deletions(-)

commit 1e9d73a012c57270c132dacd8fd196c7d90c2153
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Sep 15 14:09:03 2019 -0700

    PHOENIX-5401 Error in running apache.phoenix.mapreduce.index.automation.PhoenixMRJobSubmitter (addendum)

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cdfc29512480549abe5af669c14284576c47eaed
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Sep 12 14:35:19 2019 -0700

    PHOENIX-5474 IndexTool should report the number of rows built

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 46 ++++++++++++++++-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  2 +-
 .../index/PhoenixServerBuildIndexDBWritable.java   | 59 ++++++++++++++++++++++
 .../index/PhoenixServerBuildIndexMapper.java       | 24 ++-------
 4 files changed, 108 insertions(+), 23 deletions(-)

commit f83339626ff95cdc025ad7d8b1a1eb8b79fad10b
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Sep 12 01:30:28 2019 -0700

    PHOENIX-5473 Index write failures during index rebuilds should not change index table state

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 54 ++++++++++++++++++++++
 .../end2end/index/MutableIndexRebuilderIT.java     |  7 ++-
 .../end2end/index/PartialIndexRebuilderIT.java     |  7 +--
 .../UngroupedAggregateRegionObserver.java          |  3 ++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  7 ++-
 5 files changed, 71 insertions(+), 7 deletions(-)

commit 1347302ce1589fd78aa888956e5e69647ce32a73
Merge: d3988d415 7d0af6418
Author: Rajeshbabu Chintaguntla <chrajeshbabu32@gmail.com>
Date:   Tue Sep 10 18:51:59 2019 +0530

    Merge pull request #582 from stoty/PHOENIX-5471
    
    PHOENIX-5471 MetaDataEndpointImplIT declares wrong package(Istvan Toth)

commit 7d0af64187df82edb1bd516e4adf9455c2473896
Author: Istvan Toth <stoty@stoty.hu>
Date:   Tue Sep 10 14:21:59 2019 +0200

    PHOENIX-5471 MetaDataEndpointImplIT declares wrong package
    
    make declared package consistent with directory

 .../src/it/java/org/apache/phoenix/end2end/MetaDataEndpointImplIT.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d3988d415f292480bd3de6ca4029463258603449
Author: glqdlt <dlfdnd0725@gmail.com>
Date:   Fri Feb 8 16:38:25 2019 +0900

    PHOENIX-5130 removed 'static' keyword from 'private static enum'

 .../org/apache/phoenix/expression/RoundFloorCeilExpressionsTest.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f2de7d5e7b643ce8c2c41e39bff61a69d952e083
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Thu Aug 29 14:55:28 2019 -0700

    PHOENIX-5456 IndexScrutinyTool slow for indexes on multitenant tables and IndexScrutinyIT doesn't run

 .../phoenix/end2end/IndexScrutinyToolBaseIT.java   |  137 ++
 .../end2end/IndexScrutinyToolForTenantIT.java      |  258 ++++
 .../phoenix/end2end/IndexScrutinyToolIT.java       | 1322 ++++++++------------
 .../phoenix/mapreduce/util/IndexColumnNames.java   |    3 +-
 4 files changed, 911 insertions(+), 809 deletions(-)

commit a3ff1707f299dd28ac7e43f90d68de1f58ca0342
Author: Istvan Toth <stoty@stoty.hu>
Date:   Mon Sep 2 12:45:40 2019 +0200

    PHOENIX-5460 SortOrderExpressionTest failure with JDK11
    
    Closes #577
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../apache/phoenix/expression/SortOrderExpressionTest.java    | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit ea7a21814dbfee181a1b3486b10d01d0b22d653f
Author: Istvan Toth <stoty@stoty.hu>
Date:   Mon Sep 2 13:53:17 2019 +0200

    PHOENIX-5461 phoenix-pherf IT failures with JDK11
    
    Closes #578
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-pherf/pom.xml                              | 22 +++++++++++++++++-----
 .../apache/phoenix/pherf/configuration/Column.java |  5 -----
 .../pherf/configuration/XMLConfigParser.java       | 16 +++++++++++++++-
 .../apache/phoenix/pherf/util/ResourceList.java    |  3 ++-
 4 files changed, 34 insertions(+), 12 deletions(-)

commit 0e06588f52b46bbc6b51c97d52981f18923681fa
Author: Istvan Toth <stoty@stoty.hu>
Date:   Mon Sep 2 11:17:25 2019 +0200

    PHOENIX-5459 Enable running the test suite with JDK11
    
    remove unsupported VM option
    update surefire and failsafe to 2.22.2
    
    Closes #576
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 50a6aeb47a1d5a4f97ad48bb298292becfe5776e
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Tue Sep 3 16:50:24 2019 -0700

    PHOENIX-5455 IndexedKeyValue creation fails after HBASE-22034

 .../org/apache/phoenix/hbase/index/Indexer.java    |  21 +---
 .../phoenix/hbase/index/wal/IndexedKeyValue.java   | 129 +++++++--------------
 .../phoenix/hbase/index/wal/KeyValueCodec.java     |  17 ++-
 .../regionserver/wal/IndexedKeyValueTest.java      |  50 ++++++--
 .../wal/ReadWriteKeyValuesWithCodecTest.java       |   3 +-
 5 files changed, 98 insertions(+), 122 deletions(-)

commit ac2976ccbb231c393c364265217966722653da14
Author: chenglei <chenglei@apache.org>
Date:   Thu Sep 5 15:44:21 2019 +0800

    PHOENIX-5451 Column pruning for Subselect

 .../org/apache/phoenix/compile/FromCompiler.java   |  33 +++
 .../org/apache/phoenix/compile/JoinCompiler.java   | 157 ++++++++++----
 .../apache/phoenix/compile/SubselectRewriter.java  | 214 +++++++++++++++----
 .../apache/phoenix/optimize/QueryOptimizer.java    |  17 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  25 +++
 .../org/apache/phoenix/util/ParseNodeUtil.java     | 142 ++++++++++++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  13 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |  31 +--
 .../apache/phoenix/compile/QueryCompilerTest.java  | 237 ++++++++++++++++++++-
 .../java/org/apache/phoenix/util/TestUtil.java     |  28 +++
 10 files changed, 782 insertions(+), 115 deletions(-)

commit c6db8d5b207595ba07b7c54bbfa5fd14e8216469
Author: Miles Spielberg <miles@box.com>
Date:   Thu May 23 15:55:10 2019 -0700

    PHOENIX-4871: ParameterMetadata for join query plans is empty
    
    change constructor parameter order
    add upserts to QueryServerBasicsIT
    pass down BindManager to child QueryCompilers created for explicit subqueries

 .../phoenix/end2end/join/SortMergeJoinIT.java      | 22 ++++++++++++++++
 .../apache/phoenix/end2end/join/SubqueryIT.java    | 22 ++++++++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  | 30 ++++++++++++++--------
 .../apache/phoenix/compile/StatementContext.java   | 18 ++++++++-----
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  2 +-
 5 files changed, 76 insertions(+), 18 deletions(-)

commit c60b91a431bfd2184e861c909136bb4c17c5b91b
Author: Istvan Toth <stoty@stoty.hu>
Date:   Tue Aug 6 15:19:48 2019 +0200

    PHOENIX-5428 Upgrade maven-checkstyle-plugin version
    
    This upgrades maven-checkstyle-plugin to 3.1.0 and
    updates the checker.xml config files to work with recent
    checkstyle versions
    
    Closes #565
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../src/main/config/checkstyle/checker.xml         | 39 +++++++++-------------
 pom.xml                                            |  2 +-
 src/main/config/checkstyle/checker.xml             | 39 +++++++++-------------
 3 files changed, 33 insertions(+), 47 deletions(-)

commit 197b6e30c894b657758c5d0cb3c6182d6c8d4723
Author: Sandeep Pal <sandeep.pal@salesforce.com>
Date:   Sat Aug 24 13:45:26 2019 -0700

    PHOENIX-4743: ALTER TABLE ADD COLUMN for global index should not modify HBase metadata if failed
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 32 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 +++++--
 2 files changed, 39 insertions(+), 3 deletions(-)

commit 43310a6dc69433d3df772e17d48fe4d8821d40ac
Author: Rajeshbabu Chintaguntla <Rajeshbabu Chintaguntla>
Date:   Mon Aug 26 21:59:02 2019 +0530

    PHOENIX-5136 Rows with null values inserted by UPSERT .. ON DUPLICATE KEY UPDATE are included in query results when they shouldn't be(Miles Spielberg)-addendum

 .../phoenix/expression/AndExpressionTest.java      | 297 +++++++++++++++++++++
 .../phoenix/expression/OrExpressionTest.java       | 293 ++++++++++++++++++++
 2 files changed, 590 insertions(+)

commit f4579a52a950a880368a2ec9f8cecbd3c67cbae9
Author: Rajeshbabu Chintaguntla <Rajeshbabu Chintaguntla>
Date:   Mon Aug 26 21:53:06 2019 +0530

    PHOENIX-5136 Rows with null values inserted by UPSERT .. ON DUPLICATE KEY UPDATE are included in query results when they shouldn't be(Miles Spielberg)

 .../apache/phoenix/end2end/OnDuplicateKeyIT.java   | 34 ++++++++++++++++++++++
 .../apache/phoenix/expression/AndExpression.java   |  2 +-
 .../apache/phoenix/expression/AndOrExpression.java | 25 ++++++++++++----
 .../phoenix/filter/BooleanExpressionFilter.java    |  5 +++-
 4 files changed, 58 insertions(+), 8 deletions(-)

commit 4e65c902539be485ef911cd3f4e6dd726672c9c5
Author: Neha <neha.gupta@salesforce.com>
Date:   Fri Jul 26 11:43:01 2019 -0700

    PHOENIX-5390:Changing anonymous inner classes
    
    Adding nit changes
    
    Signed-off-by: s.kadam <skadam@apache.org>

 .../org/apache/phoenix/execute/CorrelatePlan.java  | 194 +++++++++++----------
 .../expression/function/InvertFunction.java        |  88 +++++-----
 .../expression/function/PrefixFunction.java        | 110 ++++++------
 .../phoenix/iterate/OrderedResultIterator.java     | 100 ++++++-----
 .../apache/phoenix/optimize/QueryOptimizer.java    | 116 ++++++------
 5 files changed, 323 insertions(+), 285 deletions(-)

commit 4f8b3c2207a56c4afaf2502c0af26a1f4b63f2bb
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Thu Jul 25 11:04:18 2019 -0700

    PHOENIX-5348: Fix flaky test: testIndexRebuildTask
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../phoenix/end2end/DropTableWithViewsIT.java      | 33 ++++++++-
 .../apache/phoenix/end2end/IndexRebuildTaskIT.java | 86 +++++++++++-----------
 .../phoenix/end2end/index/IndexMetadataIT.java     |  5 +-
 .../phoenix/coprocessor/TaskRegionObserver.java    | 12 ++-
 .../coprocessor/tasks/IndexRebuildTask.java        |  4 +-
 .../index/PhoenixIndexImportDirectReducer.java     |  7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../java/org/apache/phoenix/schema/task/Task.java  | 19 ++++-
 8 files changed, 104 insertions(+), 64 deletions(-)

commit 55134c2a988fa8abe366f61f28ab73e07e657dab
Author: Daniel Wong <41923099+dbwong@users.noreply.github.com>
Date:   Tue Aug 13 19:04:11 2019 -0700

    PHOENIX-5444 Incorrect Phoenix Client Path in phoenix_utils.py
    
    Update to use existing pattern in the utility class.

 bin/phoenix_utils.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ffcffb031fa9da661dccae48b94366ddb6238b3f
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Tue Aug 6 14:39:44 2019 -0700

    PHOENIX-5416: Fix Array2IT testArrayRefToLiteral

 .../java/org/apache/phoenix/end2end/Array2IT.java  | 46 +++++++++++++++++++---
 .../phoenix/expression/LiteralExpression.java      | 11 ++++++
 2 files changed, 52 insertions(+), 5 deletions(-)

commit e3d3ae5b120189235259280fc074bc7f337aa5b3
Author: Ankit Jain <jainankit@salesforce.com>
Date:   Wed Jul 31 18:18:25 2019 -0700

    PHOENIX-5419: Converting anonymous to inner class in TracingQueryPlan
    
    Converting anonymous to inner class in TracingQueryPlan
    
    PHOENIX-5419: Converting anonymous to inner class in TracingQueryPlan
    
    Converting anonymous to inner class
    
    Rename Inner class as per comments
    
    Converting anonymous to inner class in TracingQueryPlan
    
    Converting anonymous to inner class
    
    Rename Inner class as per comments
    
    Converting anonymous to inner class in TracingQueryPlan
    
    Converting anonymous to inner class
    
    Rename Inner class as per comments

 .../org/apache/phoenix/compile/TraceQueryPlan.java | 128 +++++++++++----------
 1 file changed, 68 insertions(+), 60 deletions(-)

commit 12c538ce2db4779b91bc294ebe8e4880673ff8c2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Jul 22 22:45:04 2019 -0700

    PHOENIX-5403 Optimize metadata cache lookup of global tables using a tenant specific connection

 .../java/org/apache/phoenix/end2end/Array2IT.java  | 17 ++---
 .../org/apache/phoenix/compile/FromCompiler.java   |  6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 74 ++++++++--------------
 4 files changed, 39 insertions(+), 65 deletions(-)

commit 4b1790d12d35443080b9331e582c5ec7e1ac6e61
Author: William Shen <willshen@users.noreply.github.com>
Date:   Tue Jul 23 14:32:55 2019 -0700

    PHOENIX-5408: Typo in ConnectionQueryServicesImpl Warning Logging

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b09d54417b21cd8a5d996c79b6dbb1480d4699e5
Author: Mehdi Salarkia <msalarkia@box.com>
Date:   Sun Jul 14 22:04:14 2019 -0700

    PHOENIX-5104: breaks client backwards compatibility
    
    Fixing by adding a new connection property "phoenix.index.longViewIndex.enabled" which is by default false.
    Clients can set this property to true to be able to use longViewIndexes.

 phoenix-core/src/it/resources/hbase-site.xml              |  9 +++++++++
 .../main/java/org/apache/phoenix/query/QueryServices.java |  2 ++
 .../org/apache/phoenix/query/QueryServicesOptions.java    |  1 +
 .../java/org/apache/phoenix/schema/MetaDataClient.java    | 15 ++++++++++++++-
 4 files changed, 26 insertions(+), 1 deletion(-)

commit 0b5eddc38a566b2c83cc30aff5a1b9f679efdad0
Author: s.kadam <skadam@apache.org>
Date:   Sun Jul 28 20:47:54 2019 -0700

    PHOENIX-5415: NPE in getting conf from addHbaseResources in IndexUpgradeTool

 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 141 +++++++++++++--------
 1 file changed, 88 insertions(+), 53 deletions(-)

commit 665e224e4d9a0e991e38083b983ec38989dfd5e7
Author: Ankit Singhal <ankit@apache.org>
Date:   Fri Jul 26 13:30:30 2019 -0700

    PHOENIX-5411 Incorrect result is returned when using sum function with case when statement (Toshihiro Suzuki)

 .../org/apache/phoenix/end2end/SumFunctionIT.java  | 54 ++++++++++++++++++++++
 .../phoenix/expression/IsNullExpression.java       | 16 +++++++
 2 files changed, 70 insertions(+)

commit 601e4c82f66aaab180a98132155b2131fe479cc9
Author: Viraj Jasani <virajjasani007@gmail.com>
Date:   Sun Jul 14 18:24:18 2019 +0530

    PHOENIX-5391 : MetadataClient - TenantId Map is not correctly updated with list of Table Refs
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../apache/phoenix/end2end/DropIndexedColsIT.java  | 267 +++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  14 +-
 2 files changed, 275 insertions(+), 6 deletions(-)

commit 4315fd2a72474630742a7a88cff75ece9e3a591c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jul 24 18:42:47 2019 -0700

    PHOENIX-5406 Speed up ParameterizedIndexUpgradeToolIT.

 .../end2end/ParameterizedIndexUpgradeToolIT.java   | 17 --------
 .../apache/phoenix/index/IndexUpgradeToolTest.java | 48 ++++++++++++++++++++++
 2 files changed, 48 insertions(+), 17 deletions(-)

commit b4d403798eb8fdf748d8fb9c13b62bd0891317e7
Author: Xinyi <xyan@salesforce.com>
Date:   Wed Jul 3 17:24:43 2019 -0700

    PHOENIX-4918 Apache Phoenix website Grammar page is running on an old version with cvs format fix (addendum)
    
    Signed-off-by: s.kadam <skadam@apache.org>

 docs/phoenix.csv | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 62387ee3c55f8be1947161bc9d501b1867cc24f1
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Jul 22 22:41:47 2019 -0700

    PHOENIX-4893 Move parent column combining logic of view and view indexes from server to client (addendum)

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java   | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit aafe9bb7d98c3c01f0689ad7e4e0a1ec50c4aa7b
Author: Xinyi <xyan@salesforce.com>
Date:   Wed Jun 19 14:45:40 2019 -0700

    PHOENIX-5360 Cleanup anonymous inner classes in WhereOptimizer
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../org/apache/phoenix/compile/WhereOptimizer.java | 310 ++++++++++++---------
 1 file changed, 180 insertions(+), 130 deletions(-)

commit ca5feddddf9e19ae4ca220f8e7af704253ef65fe
Author: s.kadam <skadam@apache.org>
Date:   Mon Jul 22 16:28:33 2019 -0700

    PHOENIX-5395: IndexUpgradeTool passes data table instead of view for post upgrade view index rebuild

 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 179 +++++++++++++++------
 1 file changed, 133 insertions(+), 46 deletions(-)

commit 0ca8b26ef0c61ff704b8d4439bddf672b50c9f60
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Jul 21 17:19:22 2019 -0700

    PHOENIX-5401 Error in running apache.phoenix.mapreduce.index.automation.PhoenixMRJobSubmitter

 .../mapreduce/PhoenixServerBuildIndexInputFormat.java      |  4 ----
 .../java/org/apache/phoenix/mapreduce/index/IndexTool.java | 14 ++++++++++++++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 59c5932ea1b0cad03f75d64c004f67c7f9b1b235
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Jul 19 14:20:32 2019 -0700

    PHOENIX-4893 Move parent column combining logic of view and view indexes from server to client

 .../org/apache/phoenix/end2end/AlterTableIT.java   |    1 -
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |   13 +-
 .../phoenix/end2end/DropTableWithViewsIT.java      |    8 +-
 .../phoenix/end2end/MetaDataEndpointImplIT.java    |   14 +-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |   13 +
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   29 +-
 .../org/apache/phoenix/end2end/ViewMetadataIT.java |   40 +-
 .../apache/phoenix/end2end/index/DropColumnIT.java |    9 +-
 .../index/InvalidIndexStateClientSideIT.java       |    2 -
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |    6 +-
 .../phoenix/coprocessor/AddColumnMutator.java      |  430 ++++
 .../apache/phoenix/coprocessor/ColumnMutator.java  |   63 +
 .../phoenix/coprocessor/DropColumnMutator.java     |  278 +++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 2489 ++++++--------------
 .../org/apache/phoenix/coprocessor/ViewFinder.java |  144 --
 .../phoenix/coprocessor/WhereConstantParser.java   |    2 +-
 .../coprocessor/generated/MetaDataProtos.java      | 1321 ++++++-----
 .../coprocessor/generated/PTableProtos.java        |  198 +-
 .../coprocessor/tasks/DropChildViewsTask.java      |   11 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    3 +
 .../phoenix/query/ConnectionQueryServices.java     |   26 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   46 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   21 +-
 .../query/DelegateConnectionQueryServices.java     |   32 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  638 +++--
 .../apache/phoenix/schema/MetaDataSplitPolicy.java |    6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   28 +-
 .../schema/ParentTableNotFoundException.java       |   47 -
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   30 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |    3 +-
 .../TableViewFinderResult.java                     |    3 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |    6 +-
 .../java/org/apache/phoenix/util/ViewUtil.java     |  581 +++++
 .../apache/phoenix/compile/ViewCompilerTest.java   |   14 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |    1 +
 phoenix-protocol/src/main/MetaDataService.proto    |    7 +-
 phoenix-protocol/src/main/PTable.proto             |    2 +
 37 files changed, 3568 insertions(+), 2997 deletions(-)

commit 93b58e14478e58822b05af4fc4a0afb15ad5fcb2
Author: Priyank Porwal <pporwal@salesforce.com>
Date:   Mon Jul 8 16:20:10 2019 -0700

    PHOENIX-5358: Metrics for the GlobalIndexChecker coprocessor
    
    Signed-off-by: s.kadam <skadam@apache.org>

 .../index/metrics/GlobalIndexCheckerSource.java    | 67 ++++++++++++++++++
 .../metrics/GlobalIndexCheckerSourceImpl.java      | 82 ++++++++++++++++++++++
 .../index/metrics/MetricsIndexerSourceFactory.java |  8 +++
 .../apache/phoenix/index/GlobalIndexChecker.java   | 37 ++++++++--
 4 files changed, 187 insertions(+), 7 deletions(-)

commit 86f158bd613c8e0df927cd35d8442863886983e5
Author: Rajeshbabu Chintaguntla <Rajeshbabu Chintaguntla>
Date:   Fri Jul 19 12:24:11 2019 +0530

    PHOENIX-5388 Incorrect current_date()/now() when query involves subquery(Ankit Singhal)

 .../src/it/java/org/apache/phoenix/end2end/DateTimeIT.java  | 13 +++++++++++++
 .../java/org/apache/phoenix/compile/StatementContext.java   |  7 ++++---
 .../src/main/java/org/apache/phoenix/schema/TableRef.java   |  2 +-
 3 files changed, 18 insertions(+), 4 deletions(-)

commit 62a7927f0af57520abba56105a249f2f85b70ff0
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Thu Jul 18 12:36:51 2019 -0700

    PHOENIX-5302: Different isNamespaceMappingEnabled for server / client causes TableNotFoundException

 .../SystemCatalogCreationOnConnectionIT.java       | 117 +++++++++------------
 .../phoenix/query/ConnectionQueryServicesImpl.java |  70 +++++++++---
 2 files changed, 109 insertions(+), 78 deletions(-)

commit 6a7115c2862ae90b4d200057a0523a5fb4163fa7
Author: Priyank Porwal <priyankporwal@gmail.com>
Date:   Wed Jul 17 16:16:19 2019 -0700

    PHOENIX-5383: Metrics for the IndexRegionObserver coprocessor (#538)

 .../phoenix/hbase/index/IndexRegionObserver.java   | 110 +++------------------
 .../org/apache/phoenix/hbase/index/Indexer.java    |   2 +-
 .../hbase/index/metrics/MetricsIndexerSource.java  |  54 ++++++++++
 .../index/metrics/MetricsIndexerSourceFactory.java |  10 +-
 .../index/metrics/MetricsIndexerSourceImpl.java    |  50 ++++++++++
 5 files changed, 125 insertions(+), 101 deletions(-)

commit edaf0822ce675c45871c62f7e9d318c3ca691877
Author: William Shen <willshen@users.noreply.github.com>
Date:   Thu May 16 11:18:35 2019 -0700

    PHOENIX-5275: Remove accidental imports from curator-client-2.12.0

 phoenix-core/src/it/java/org/apache/phoenix/end2end/UpgradeIT.java     | 2 +-
 .../src/test/java/org/apache/phoenix/compile/WhereOptimizerTest.java   | 2 +-
 .../src/test/java/org/apache/phoenix/query/QueryServicesTestImpl.java  | 3 +--
 3 files changed, 3 insertions(+), 4 deletions(-)

commit fab96c3a9d031045e876cbea11033507e5c425ca
Author: s.kadam <skadam@apache.org>
Date:   Tue Jul 16 12:14:41 2019 -0700

    PHOENIX-5385: GlobalIndexChecker coproc doesn't load on view indexes

 .../end2end/ParameterizedIndexUpgradeToolIT.java   | 31 +++++------
 .../apache/phoenix/end2end/index/DropColumnIT.java |  9 ++--
 .../org/apache/phoenix/execute/MutationState.java  | 60 ++++++++++++++--------
 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 23 +++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 13 +++--
 5 files changed, 81 insertions(+), 55 deletions(-)

commit b5242ff75f18696ea29fe4c95fde27a5d557966d
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jul 16 15:45:48 2019 -0700

    PHOENIX-5290 HashJoinMoreIT is flapping.

 .../phoenix/end2end/RowValueConstructorIT.java     | 32 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  8 ++++--
 .../org/apache/phoenix/schema/types/PVarchar.java  |  2 +-
 3 files changed, 39 insertions(+), 3 deletions(-)

commit d61142206389b845376384ed1b2ef5e01e806a9a
Author: Viraj Jasani <virajjasani007@gmail.com>
Date:   Tue Jul 16 16:37:01 2019 +0530

    PHOENIX-5327 PherfMainIT fails with duplicate TABLE/INDEX.
    
    Signed-off-by: Monani Mihir <monani.mihir@gmail.com>

 .../org/apache/phoenix/pherf/DataIngestIT.java     |  6 +--
 .../java/org/apache/phoenix/pherf/PherfMainIT.java |  3 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  7 ++-
 .../phoenix/pherf/workload/QueryExecutor.java      | 16 +++++--
 .../apache/phoenix/pherf/workload/Workload.java    | 13 +++---
 .../phoenix/pherf/workload/WriteWorkload.java      | 10 ++---
 .../scenario/prod_test_unsalted_scenario.xml       | 50 ++++++++++++++--------
 7 files changed, 64 insertions(+), 41 deletions(-)

commit 8c82572fd08d9208aff10c1e666cbdf34e492410
Author: chenglei <chenglei@apache.org>
Date:   Mon Jul 15 15:19:21 2019 +0800

    PHOENIX-5389 Push down PostFilter to Sub-JoinTable for SortMergeJoin and NoStarJoin

 .../org/apache/phoenix/compile/JoinCompiler.java   | 365 +++++++++++++--------
 .../org/apache/phoenix/compile/QueryCompiler.java  |  24 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   |  53 +--
 .../apache/phoenix/optimize/QueryOptimizer.java    |  55 +---
 .../phoenix/parse/AndBooleanParseNodeVisitor.java  |  41 +++
 .../parse/AndRewriterBooleanParseNodeVisitor.java  |  72 ++++
 .../phoenix/compile/JoinQueryCompilerTest.java     |  48 +--
 .../apache/phoenix/compile/QueryCompilerTest.java  | 207 ++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |   8 +-
 9 files changed, 610 insertions(+), 263 deletions(-)

commit 3c5edd6fab97ccc09ec9e93b8c839f8a076ca891
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Jul 12 18:13:38 2019 -0700

    PHOENIX-5368 Convert query statements in PhoenixDatabaseMetaData to prepared statements (Rajeshbabu Chintaguntla)

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 100 +++++++++++++++------
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   2 +-
 2 files changed, 72 insertions(+), 30 deletions(-)

commit 9f2274bcd6cc272a5bb462a63aabb46956c4a79b
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Tue Jul 9 10:14:56 2019 -0700

    PHOENIX-5387 - Added LICENSE message for phoenix-pherf's use of system-rules

 LICENSE | 223 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 223 insertions(+)

commit 02304e6390bcba908af21da2dd124f188b9fc1e4
Author: Xinyi <xyan@salesforce.com>
Date:   Sun Jun 16 16:34:11 2019 -0700

    PHOENIX-5228 use slf4j for logging in phoenix project (addendum)
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../phoenix/end2end/index/MutableIndexIT.java      |   4 +-
 .../hbase/ipc/PhoenixRpcSchedulerFactory.java      |   8 +-
 .../java/org/apache/phoenix/cache/GlobalCache.java |  11 +--
 .../apache/phoenix/cache/ServerCacheClient.java    |  19 ++--
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   6 +-
 .../cache/aggcache/SpillableGroupByCache.java      |   8 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  11 ++-
 .../GroupedAggregateRegionObserver.java            |  16 ++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../coprocessor/MetaDataRegionObserver.java        | 100 +++++++++++----------
 .../coprocessor/PhoenixAccessController.java       |   6 +-
 .../phoenix/coprocessor/TaskRegionObserver.java    |  24 ++---
 .../coprocessor/tasks/DropChildViewsTask.java      |   3 +-
 .../coprocessor/tasks/IndexRebuildTask.java        |   3 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   6 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   6 +-
 .../expression/function/CollationKeyFunction.java  |   6 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  18 ++--
 .../hbase/index/util/IndexManagementUtil.java      |   3 +-
 .../index/write/ParallelWriterIndexCommitter.java  |   1 -
 .../hbase/index/write/RecoveryIndexWriter.java     |   3 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  19 ++--
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   5 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  12 ++-
 .../apache/phoenix/log/QueryLoggerDisruptor.java   |   5 +-
 .../apache/phoenix/mapreduce/OrphanViewTool.java   |   3 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   9 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   7 +-
 .../index/PhoenixIndexImportDirectReducer.java     |   3 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |   3 +-
 .../index/PhoenixServerBuildIndexMapper.java       |   4 -
 .../index/automation/PhoenixMRJobSubmitter.java    |   3 +-
 .../monitoring/GlobalMetricRegistriesAdapter.java  |   6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  33 ++++---
 .../schema/stats/DefaultStatisticsCollector.java   |   3 +-
 .../phoenix/schema/stats/StatisticsScanner.java    |  12 ++-
 .../java/org/apache/phoenix/trace/TraceReader.java |   4 +-
 .../phoenix/util/EquiDepthStreamHistogram.java     |   3 +-
 38 files changed, 236 insertions(+), 166 deletions(-)

commit bca29e25a7356a35044a98e92ae1451b991ba887
Author: Karthik Palanisamy <kpalanisamy@cloudera.com>
Date:   Wed Jul 10 18:37:01 2019 -0700

    PHOENIX-3541 Bulk Data Loading - Can't use table name by small letter

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 68 ++++++++++++++++++++++
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 43 ++++++++++++--
 2 files changed, 105 insertions(+), 6 deletions(-)

commit 3b31923d4c698ee2a38f5b9db104892a194e2131
Author: Viraj Jasani <vjasani@salesforce.com>
Date:   Sat Jun 29 23:41:22 2019 +0530

    PHOENIX-5382 : Improved performace with Bulk operations over iterations
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../main/java/org/apache/phoenix/compile/FromCompiler.java    |  5 +++--
 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  |  7 +++----
 .../phoenix/mapreduce/index/PhoenixIndexImportMapper.java     |  6 ++----
 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java |  5 +++--
 .../main/java/org/apache/phoenix/util/CSVCommonsLoader.java   | 11 ++---------
 .../src/main/java/org/apache/phoenix/util/Closeables.java     |  5 ++---
 .../src/main/java/org/apache/phoenix/util/SQLCloseables.java  | 11 ++++++-----
 7 files changed, 21 insertions(+), 29 deletions(-)

commit 2af1660078fb8ea2abe6d2c2e0f79dddab488459
Author: Swaroopa Kadam <swaroopa.kadam07@gmail.com>
Date:   Mon Jul 8 23:50:42 2019 -0700

    PHOENIX-5333: A tool to upgrade existing tables/indexes to use self-consistent global indexes design (#520)

 .../end2end/ParameterizedIndexUpgradeToolIT.java   | 328 ++++++++++++
 .../phoenix/hbase/index/IndexRegionObserver.java   |   2 +-
 .../phoenix/mapreduce/index/IndexUpgradeTool.java  | 548 +++++++++++++++++++++
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +-
 4 files changed, 878 insertions(+), 2 deletions(-)

commit 3fea4c3ebc69edaff3de19db0fcdb392a90360f4
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Sat Jul 6 00:14:10 2019 -0700

    PHOENIX-5103: Can't create/drop table using 4.14 client against 4.15 server

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  12 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 344 +++++++++++++--------
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  10 +-
 3 files changed, 231 insertions(+), 135 deletions(-)

commit 5425298e66e231bed55b700c4e5724c330944a6d
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Sat Jul 6 01:00:36 2019 -0700

    PHOENIX-5386: Disallow creating views on top of SYSTEM tables

 .../it/java/org/apache/phoenix/end2end/ViewIT.java   | 20 +++++++++++++++++---
 .../apache/phoenix/compile/CreateTableCompiler.java  |  6 ++++++
 .../apache/phoenix/exception/SQLExceptionCode.java   |  3 +++
 3 files changed, 26 insertions(+), 3 deletions(-)

commit 9f1f295b61581da86355e175b8923f5eae12fd88
Author: Viraj Jasani <vjasani@salesforce.com>
Date:   Fri Jun 28 21:51:37 2019 +0530

    PHOENIX-5379 : Avoid possible NPE while closing CSVParser

 .../apache/phoenix/pherf/result/impl/CSVFileResultHandler.java   | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit eb02a0ce6eb0168b134676c6d9e929bf4ce91c0e
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Jul 1 14:05:45 2019 -0700

    PHOENIX-5373 GlobalIndexChecker should treat the rows created by the previous design as unverified (addendum)

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 3 ---
 1 file changed, 3 deletions(-)

commit 067f61292b1453beafe58df7bbf74ccd2433931c
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Tue Jun 11 16:13:25 2019 -0700

    PHOENIX-5211 Consistent Immutable Global Indexes for Non-Transactional Tables

 .../end2end/IndexToolForPartialBuildIT.java        |  90 ++--
 .../org/apache/phoenix/end2end/IndexToolIT.java    |   4 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    | 192 +++++++-
 .../org/apache/phoenix/execute/MutationState.java  | 497 +++++++++++++--------
 .../phoenix/hbase/index/IndexRegionObserver.java   |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  62 ++-
 .../java/org/apache/phoenix/util/TestUtil.java     |  13 +-
 10 files changed, 582 insertions(+), 285 deletions(-)

commit 9bf3be7e0ea7e3f59b8076d9aaf2d81ba1c879c8
Author: Toshihiro Suzuki <brfrn169@gmail.com>
Date:   Mon Jul 1 06:23:10 2019 +0900

    PHOENIX-5209 Cannot add non-PK column to table when the last PK column is of type VARBINARY or ARRAY (#516)
    
    * PHOENIX-5209 Cannot add non-PK column to table when the last PK column is of type VARBINARY or ARRAY
    
    * PHOENIX-5209 Cannot add non-PK column to table when the last PK column is of type VARBINARY or ARRAY

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 22 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  9 +++++----
 2 files changed, 27 insertions(+), 4 deletions(-)

commit 31daa0917c534cbcfb160ec212d5fa839f7df584
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 29 22:37:55 2019 -0700

    PHOENIX-5381 Increase phoenix.task.handling.interval.ms to 10s for tests.

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit daffc17f46c4a7425225a676c4e321be43280e30
Author: Kadir <kozdemir@salesforce.com>
Date:   Tue Jun 25 18:39:21 2019 -0700

    PHOENIX-5373 GlobalIndexChecker should treat the rows created by the previous design as unverified

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |  8 +++++++-
 .../apache/phoenix/end2end/IndexExtendedIT.java    | 12 +++++------
 .../org/apache/phoenix/end2end/IndexToolIT.java    | 13 +++++++++---
 .../phoenix/end2end/RegexBulkLoadToolIT.java       |  8 ++++++--
 .../org/apache/phoenix/util/IndexScrutinyIT.java   |  5 +++--
 .../apache/phoenix/index/GlobalIndexChecker.java   | 24 +++++++++++-----------
 .../phoenix/query/ConnectionQueryServicesImpl.java |  3 +++
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 8 files changed, 48 insertions(+), 27 deletions(-)

commit 84014f01205aecf6e7dd25b1d1b62a128b308b46
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 28 17:00:30 2019 -0700

    PHOENIX-5371 SystemCatalogCreationOnConnectionIT is slow.

 .../SystemCatalogCreationOnConnectionIT.java       | 95 ++++++++--------------
 1 file changed, 32 insertions(+), 63 deletions(-)

commit 581bfab85389d94e72781c1c9d63defa20f7fd44
Author: Viraj Jasani <vjasani@salesforce.com>
Date:   Fri Jun 28 22:16:09 2019 +0530

    PHOENIX-5380 : Avoid possibility of ClassCastException with equals() of Column and Scenario

 .../src/main/java/org/apache/phoenix/pherf/configuration/Column.java   | 3 +++
 .../src/main/java/org/apache/phoenix/pherf/configuration/Scenario.java | 3 +++
 2 files changed, 6 insertions(+)

commit ae945a84dd21da8d3547419436eaba67f137dd91
Author: Bin Shi <39923490+BinShi-SecularBird@users.noreply.github.com>
Date:   Mon Apr 8 16:40:30 2019 -0700

    PHOENIX-5176 KeyRange.compareUpperRange(KeyRang 1, KeyRang 2) returns wrong result when two key ranges have the same upper bound values but one is inclusive and another is exclusive

 .../java/org/apache/phoenix/query/KeyRange.java    |   4 +-
 .../org/apache/phoenix/query/KeyRangeMoreTest.java | 136 ++++++++++++---------
 2 files changed, 77 insertions(+), 63 deletions(-)

commit af69f430fdf9e2a5299246d5c217a20446a72f5e
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 27 09:37:36 2019 -0700

    PHOENIX-4513 Fix the recursive call in ExecutableExplainStatement#getOperation. (Chia-Ping Tsai)

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixStatement.java  | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 3268336612c04aa6d94d8091c1ecab2e4db60f69
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jun 26 23:38:11 2019 -0700

    PHOENIX-5377 SpeedUp LocalIndexSplitMergeIT.

 .../src/it/java/org/apache/phoenix/end2end/LocalIndexSplitMergeIT.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4d75ddeb5134e245dbe9019481758f81fb30e9d
Author: Swaroopa Kadam <swaroopa.kadam07@gmail.com>
Date:   Wed Jun 26 13:40:24 2019 -0700

    PHOENIX-5359: Remove (Global-Indexing)new coprocessors in CQSI#addCoprocessors with flag(INDEX_REGION_OBSERVER_ENABLED_ATTRIB) disabled (#522)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 33d6b3414078b1a429be056f271bfd0ac8c7f158
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Tue Jun 25 22:36:23 2019 -0700

    PHOENIX-5374: Incorrect exception thrown in some cases when client does not have Exec permissions on SYSTEM:CATALOG

 .../phoenix/end2end/PermissionNSEnabledIT.java     | 49 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 +++--
 2 files changed, 56 insertions(+), 3 deletions(-)

commit ebea0833e5822b95f18612860d6d54d806cd4507
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 25 16:05:54 2019 -0400

    PHOENIX-5370 More missing license headers (addendum)

 .../phoenix/end2end/PermissionNSDisabledIT.java       | 17 +++++++++++++++++
 .../apache/phoenix/end2end/PermissionNSEnabledIT.java | 17 +++++++++++++++++
 .../apache/phoenix/coprocessor/tasks/BaseTask.java    | 17 +++++++++++++++++
 .../phoenix/coprocessor/tasks/DropChildViewsTask.java | 19 ++++++++++++++++++-
 .../phoenix/coprocessor/tasks/IndexRebuildTask.java   | 19 ++++++++++++++++++-
 .../java/org/apache/phoenix/schema/task/Task.java     | 17 +++++++++++++++++
 6 files changed, 104 insertions(+), 2 deletions(-)

commit 743e5a102e71fe890f9835ca0f1ff674d52165c3
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 25 12:22:41 2019 -0400

    PHOENIX-5370 Add missing license headers and consolidate headers on POMs

 bin/hbase-omid-client-config.yml | 15 +++++++++++++++
 phoenix-assembly/pom.xml         | 35 +++++++++++++++--------------------
 phoenix-client/pom.xml           | 31 +++++++++++++------------------
 phoenix-core/pom.xml             | 17 +++++++++++++++++
 phoenix-pherf/pom.xml            | 28 +++++++++++++++++-----------
 phoenix-server/pom.xml           | 33 +++++++++++++++------------------
 phoenix-tracing-webapp/pom.xml   | 35 +++++++++++++++--------------------
 pom.xml                          | 17 +++++++++++++++++
 8 files changed, 124 insertions(+), 87 deletions(-)

commit 14c2e373103a9d8fc006ce3c7a36821365ac73a8
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 25 09:31:18 2019 -0700

    PHOENIX-5367 HashJoin*IndexITs and SortMergeJoin*IndexITs are slow.

 .../apache/phoenix/end2end/join/BaseJoinIT.java    | 22 +++++++++++++++-------
 .../end2end/join/HashJoinGlobalIndexIT.java        | 18 ++++++++++++++++++
 .../phoenix/end2end/join/HashJoinLocalIndexIT.java | 19 +++++++++++++++++++
 .../phoenix/end2end/join/HashJoinNoIndexIT.java    | 18 ++++++++++++++++++
 .../end2end/join/SortMergeJoinGlobalIndexIT.java   | 18 ++++++++++++++++++
 .../end2end/join/SortMergeJoinLocalIndexIT.java    | 17 +++++++++++++++++
 .../end2end/join/SortMergeJoinNoIndexIT.java       | 18 ++++++++++++++++++
 7 files changed, 123 insertions(+), 7 deletions(-)

commit 29e297748b3599ca1c53ee38d0fc67b63de0d27c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 23 22:07:37 2019 -0700

    PHOENIX-5351 Speedup OrphanViewToolIT.

 .../org/apache/phoenix/end2end/OrphanViewToolIT.java   | 18 +++++-------------
 1 file changed, 5 insertions(+), 13 deletions(-)

commit 100ff3ac91e9975479bb35c1c1f2fecc06642669
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 23 14:09:48 2019 -0700

    PHOENIX-5365 IndexToolIT tests run multable times.

 .../src/it/java/org/apache/phoenix/end2end/IndexToolIT.java         | 6 ++++++
 1 file changed, 6 insertions(+)

commit a7d409184fbda7d585670f3bd79026be67a6141e
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 21 23:25:08 2019 -0700

    PHOENIX-5364 Run OrderByWithServerClientSpoolingDisabledIT and OrderByWithServerMemoryLimitIT in their own mini cluster.

 .../phoenix/end2end/OrderByWithServerClientSpoolingDisabledIT.java      | 2 ++
 .../java/org/apache/phoenix/end2end/OrderByWithServerMemoryLimitIT.java | 2 ++
 2 files changed, 4 insertions(+)

commit 493afe2c874e9e8f3fb52ab662ebcfa16f715ec2
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Jun 19 13:40:27 2019 -0700

    PHOENIX-5313: All mappers grab all RegionLocations from .META

 .../org/apache/phoenix/end2end/MapReduceIT.java    | 50 ++++++++++++++------
 .../iterate/MapReduceParallelScanGrouper.java      |  6 +--
 .../phoenix/mapreduce/PhoenixInputFormat.java      | 41 ++++++++++++----
 .../phoenix/mapreduce/PhoenixRecordReader.java     | 13 ++++--
 .../mapreduce/util/PhoenixMapReduceUtil.java       | 20 ++++++++
 .../TestingMapReduceParallelScanGrouper.java       | 54 ++++++++++++++++++++++
 .../mapreduce/PhoenixTestingInputFormat.java       | 46 ++++++++++++++++++
 7 files changed, 201 insertions(+), 29 deletions(-)

commit 1f2508dbde365aaedac628c89df237e8b6b46df8
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Mon Jun 17 16:42:49 2019 +0530

    PHOENIX-5269 use AccessChecker to check for user permisssions

 .../apache/phoenix/end2end/PermissionsCacheIT.java | 107 +++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   2 +
 .../coprocessor/PhoenixAccessController.java       |  77 +++++++++++++--
 .../PhoenixMetaDataCoprocessorHost.java            |   5 +
 4 files changed, 185 insertions(+), 6 deletions(-)

commit 97f2d72ef989e4870859fcd9fe2e68731258d5a5
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 18 16:32:26 2019 -0700

    PHOENIX-5355 Speed up BaseIndexIT.

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 62 +++++++++++++++
 .../apache/phoenix/end2end/index/BaseIndexIT.java  | 91 ----------------------
 2 files changed, 62 insertions(+), 91 deletions(-)

commit 486afae05cc85649973dbb52d6c96387c1ed81cb
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 18 15:47:24 2019 -0700

    PHOENIX-5357 Display max size in exceptions thrown in SizeBoundQueue.

 .../src/main/java/org/apache/phoenix/iterate/SizeBoundQueue.java        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 56e0f0381fe30005f3cdd1718f99f3205e56d99e
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Jun 17 17:06:39 2019 -0700

    PHOENIX-5354 OrderByWithSpillingIT should run in its own cluster.

 .../src/it/java/org/apache/phoenix/end2end/OrderByWithSpillingIT.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 327111127072ca9d1667ba2b0571c165d5c91ea7
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Jun 17 17:06:32 2019 -0700

    PHOENIX-5348 Disable IndexRebuildTaskIT.

 .../src/it/java/org/apache/phoenix/end2end/IndexRebuildTaskIT.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ecf9d82b5c7763de829c40fd6b85fb1bf078acd8
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Jun 17 11:43:17 2019 -0700

    PHOENIX-5348 increase batch size from 1 to 1000.

 .../src/it/java/org/apache/phoenix/end2end/IndexRebuildTaskIT.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 85ba3e973f45f62ddfb67d484415d31860799200
Author: Rajeshbabu Chintaguntla <Rajeshbabu Chintaguntla>
Date:   Mon Jun 17 12:26:34 2019 +0530

    PHOENIX-5308 Unable to run the some end2end tests in real cluster mainly the once using accessing hbase internals from minihbasecluster or custom coprocessors(Rajeshbabu)

 .../end2end/ConcurrentMutationsExtendedIT.java     | 404 +++++++++++++++++++++
 .../phoenix/end2end/ConcurrentMutationsIT.java     | 343 +----------------
 .../end2end/index/MutableIndexExtendedIT.java      | 279 ++++++++++++++
 .../phoenix/end2end/index/MutableIndexIT.java      | 176 ---------
 .../phoenix/end2end/join/HashJoinCacheIT.java      |   3 +
 5 files changed, 687 insertions(+), 518 deletions(-)

commit b8eb6811bdb709f93fd029c37e3323ca4782952a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 16:35:00 2019 -0700

    PHOENIX-5346 disable SaltedIndexIT.testMutableTableIndexMaintanenceSaltedSalted.

 .../src/it/java/org/apache/phoenix/end2end/index/SaltedIndexIT.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc8d7f6c2ca54df56977cd5c38f4ae6b4cd34840
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 14:50:07 2019 -0700

    PHOENIX-5335 Breakup ViewIT.

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 637 +-----------------
 .../org/apache/phoenix/end2end/ViewMetadataIT.java | 708 +++++++++++++++++++++
 2 files changed, 713 insertions(+), 632 deletions(-)

commit be62045cbf9ecaa0b46b6fdf21a6140728b0380c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 14:02:16 2019 -0700

    PHOENIX-5349 Speed up AlterTableWithViewsIT.

 .../it/java/org/apache/phoenix/end2end/AlterTableWithViewsIT.java    | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit ca69ed852693a3ce63e65c695e74065645567e14
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 14:01:10 2019 -0700

    PHOENIX-5350 Speedup ParameterizedTransactionIT.

 .../phoenix/tx/ParameterizedTransactionIT.java     | 45 ++++++++++++----------
 1 file changed, 24 insertions(+), 21 deletions(-)

commit 5a8e88595ee3f2ac3375b71616c345b740c33b29
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 14:00:17 2019 -0700

    PHOENIX-5328 Speedup InListIT.

 phoenix-core/src/it/java/org/apache/phoenix/end2end/InListIT.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 704e03ef314a36d7f5dad88af29453c2980c366b
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 16 12:36:53 2019 -0700

    PHOENIX-5346 Add serial hint to SaltedIndexIT.

 .../src/it/java/org/apache/phoenix/end2end/index/SaltedIndexIT.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 65c9037edf8fdff8e47f016938df73b7adee57f6
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 15 16:21:38 2019 -0700

    PHOENIX-5336 Speed up MutableIndexSplitForwardScanIT and MutableIndexSplitReverseScanIT.

 .../phoenix/end2end/index/MutableIndexSplitIT.java | 31 ++++++++++++++--------
 1 file changed, 20 insertions(+), 11 deletions(-)

commit cb6c388a0055f63dc070d603996634267ed0039d
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 15 15:47:01 2019 -0700

    PHOENIX-5347 Turn ChunkedResultIteratorTest and CoprocessorHConnectionTableFactoryTest into ITs.

 .../java/org/apache/phoenix/iterate/ChunkedResultIteratorIT.java}     | 2 +-
 .../apache/phoenix/util/CoprocessorHConnectionTableFactoryIT.java}    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 5bf49e62601e7d241eb0f649b78253708b1ee42d
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 13 18:18:29 2019 -0700

    Revert "PHOENIX-5336 Speed up MutableIndexSplitForwardScanIT and MutableIndexSplitReverseScanIT."
    
    This reverts commit 0828e92c5e2ee99c7ef0ed407ae3c03b95c32958.

 .../java/org/apache/phoenix/end2end/index/MutableIndexSplitIT.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0f1560b4ba3fdea303c259076b8f4a40edea3fe7
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Jun 13 13:53:53 2019 -0700

    PHOENIX-5343 OrphanViewTool should not check Index Tables

 .../apache/phoenix/end2end/OrphanViewToolIT.java   | 23 ++++++++++++----------
 .../apache/phoenix/mapreduce/OrphanViewTool.java   |  3 ++-
 2 files changed, 15 insertions(+), 11 deletions(-)

commit 2fe8d5b65219941d65107afc44d803abe9ca8b87
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 13 13:37:13 2019 -0700

    PHOENIX-5342 ViewIndexIT and ViewIT fail after PHOENIX-5156.

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java        | 3 ---
 1 file changed, 3 deletions(-)

commit ccd8bdbd113d6e3ee40c619e9ec343e2d14c73cb
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Jun 12 17:03:47 2019 -0700

    PHOENIX-5341 WALRecoveryRegionPostOpenIT does not finish after PHOENIX-5156

 .../hadoop/hbase/regionserver/wal/WALRecoveryRegionPostOpenIT.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0828e92c5e2ee99c7ef0ed407ae3c03b95c32958
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jun 12 13:46:54 2019 -0700

    PHOENIX-5336 Speed up MutableIndexSplitForwardScanIT and MutableIndexSplitReverseScanIT.

 .../java/org/apache/phoenix/end2end/index/MutableIndexSplitIT.java   | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 862db9f831535c55beab460ba00f247ae5273c9e
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jun 12 13:39:33 2019 -0700

    PHOENIX-5340 Set OMID's wait strategy to LOW_CPU for tests.

 .../java/org/apache/phoenix/transaction/OmidTransactionProvider.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 0380764c74b29de9e5229993dd7fcebfdd7e6d46
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jun 12 12:35:19 2019 -0700

    PHOENIX-5334 Fix MutableIndexIT.

 .../apache/phoenix/end2end/index/MutableIndexIT.java  | 19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit 934d3a3d281702996e63333cecf5031bb103c9f4
Author: Kadir <kozdemir@salesforce.com>
Date:   Sun Mar 17 16:59:20 2019 -0700

    PHOENIX-5156 Consistent Mutable Global Indexes for Non-Transactional Tables

 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  19 +-
 .../phoenix/end2end/IndexBuildTimestampIT.java     |   2 +-
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |   1 -
 .../end2end/index/GlobalIndexCheckerIT.java        | 253 ++++++
 .../end2end/index/GlobalMutableNonTxIndexIT.java   |  12 +-
 ...lMutableNonTxIndexWithLazyPostBatchWriteIT.java |  39 +
 .../end2end/index/MutableIndexFailureIT.java       |   1 +
 .../index/MutableIndexFailureWithNamespaceIT.java  |   3 +-
 .../end2end/index/PartialIndexRebuilderIT.java     |   3 +-
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |   3 +-
 .../org/apache/phoenix/util/IndexScrutinyIT.java   |   6 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   5 +
 .../UngroupedAggregateRegionObserver.java          |   4 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   4 +-
 .../phoenix/filter/ColumnProjectionFilter.java     |  10 +
 .../EncodedQualifiersColumnProjectionFilter.java   |   4 +
 .../MultiEncodedCQKeyValueComparisonFilter.java    |   6 +-
 .../phoenix/hbase/index/IndexRegionObserver.java   | 888 +++++++++++++++++++++
 .../apache/phoenix/hbase/index/LockManager.java    |  20 +-
 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +-
 .../hbase/index/builder/BaseIndexCodec.java        |   3 +-
 .../hbase/index/builder/IndexBuildManager.java     |  32 +-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   4 +-
 .../phoenix/hbase/index/covered/IndexCodec.java    |   2 +-
 .../AbstractParallelWriterIndexCommitter.java      | 240 ++++++
 .../phoenix/hbase/index/write/IndexCommitter.java  |   2 +-
 .../phoenix/hbase/index/write/IndexWriter.java     |  77 +-
 .../write/LazyParallelWriterIndexCommitter.java    |  39 +
 .../index/write/ParallelWriterIndexCommitter.java  | 187 +----
 .../TrackingParallelWriterIndexCommitter.java      |  14 +-
 .../apache/phoenix/index/GlobalIndexChecker.java   | 386 +++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  11 +
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   2 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   2 +-
 .../phoenix/iterate/TableResultIterator.java       |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  45 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   3 +
 .../org/apache/phoenix/query/QueryServices.java    |   7 +
 .../apache/phoenix/query/QueryServicesOptions.java |   4 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  93 +++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +
 42 files changed, 2198 insertions(+), 249 deletions(-)

commit 8ae6d142e41b2d0a67bb527064428f6c38439910
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 11 10:52:46 2019 -0700

    PHOENIX-5326 IndexToolIT takes over 20-30 minutes.

 .../src/it/java/org/apache/phoenix/end2end/IndexToolIT.java    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 950331a1e5f8ac16e4b49ed857fe78b2ab9dc6fb
Author: Xinyi <xyan@salesforce.com>
Date:   Tue Jun 11 18:21:01 2019 +0530

    [PHOENIX-5228] use slf4j for logging in phoenix project

 .../wal/WALRecoveryRegionPostOpenIT.java           |  12 +-
 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  13 ++-
 .../src/it/java/org/apache/phoenix/Sandbox.java    |   4 +-
 .../apache/phoenix/end2end/BasePermissionsIT.java  |  60 +++++-----
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   6 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |   5 +-
 .../apache/phoenix/end2end/End2EndTestDriver.java  |   4 +-
 .../apache/phoenix/end2end/OrphanViewToolIT.java   |   4 +-
 .../end2end/PartialScannerResultsDisabledIT.java   |   5 +-
 .../end2end/TableSnapshotReadsMapReduceIT.java     |   5 +-
 .../index/IndexRebuildIncrementDisableCountIT.java |  13 ++-
 .../index/InvalidIndexStateClientSideIT.java       |  11 +-
 .../end2end/index/MutableIndexReplicationIT.java   |  24 ++--
 .../end2end/index/PartialIndexRebuilderIT.java     |   4 +-
 .../execute/UpsertSelectOverlappingBatchesIT.java  |  19 ++--
 .../index/FailForUnsupportedHBaseVersionsIT.java   |   9 +-
 .../phoenix/jdbc/SecureUserConnectionsIT.java      |   8 +-
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  13 ++-
 .../apache/phoenix/query/ConnectionCachingIT.java  |   6 +-
 .../phoenix/schema/stats/BaseStatsCollectorIT.java |   8 +-
 .../phoenix/schema/stats/NoOpStatsCollectorIT.java |  10 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |  10 +-
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  36 +++---
 .../hbase/ipc/PhoenixRpcSchedulerFactory.java      |  15 ++-
 .../IndexHalfStoreFileReaderGenerator.java         |  11 +-
 .../wal/BinaryCompatibleBaseDecoder.java           |  12 +-
 .../java/org/apache/phoenix/cache/GlobalCache.java |  13 ++-
 .../apache/phoenix/cache/ServerCacheClient.java    |  33 +++---
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   8 +-
 .../apache/phoenix/cache/aggcache/SpillFile.java   |  12 +-
 .../cache/aggcache/SpillableGroupByCache.java      |  16 +--
 .../java/org/apache/phoenix/call/CallRunner.java   |   8 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  10 +-
 .../GroupedAggregateRegionObserver.java            |  26 ++---
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  92 ++++++++--------
 .../coprocessor/MetaDataRegionObserver.java        |  20 ++--
 .../coprocessor/PhoenixAccessController.java       |  22 ++--
 .../phoenix/coprocessor/ScanRegionObserver.java    |  14 +--
 .../UngroupedAggregateRegionObserver.java          |  40 +++----
 .../coprocessor/tasks/DropChildViewsTask.java      |  14 +--
 .../coprocessor/tasks/IndexRebuildTask.java        |  14 +--
 .../org/apache/phoenix/execute/AggregatePlan.java  |   4 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  14 +--
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  12 +-
 .../org/apache/phoenix/execute/MutationState.java  |  26 ++---
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   4 +-
 .../apache/phoenix/expression/LikeExpression.java  |  20 ++--
 .../aggregator/FirstLastValueServerAggregator.java |   6 +-
 .../aggregator/SizeTrackingServerAggregators.java  |   4 +-
 .../expression/function/CollationKeyFunction.java  |  26 ++---
 .../phoenix/filter/RowKeyComparisonFilter.java     |   6 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  42 +++----
 .../apache/phoenix/hbase/index/LockManager.java    |   8 +-
 .../hbase/index/builder/BaseIndexBuilder.java      |   8 +-
 .../hbase/index/builder/IndexBuildManager.java     |   6 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |  10 +-
 .../hbase/index/covered/data/IndexMemStore.java    |  24 ++--
 .../hbase/index/parallel/BaseTaskRunner.java       |  10 +-
 .../index/parallel/QuickFailingTaskRunner.java     |   6 +-
 .../phoenix/hbase/index/parallel/TaskBatch.java    |   8 +-
 .../hbase/index/parallel/ThreadPoolBuilder.java    |  10 +-
 .../hbase/index/parallel/ThreadPoolManager.java    |  14 +--
 .../hbase/index/util/IndexManagementUtil.java      |  10 +-
 .../phoenix/hbase/index/write/IndexWriter.java     |  12 +-
 .../hbase/index/write/IndexWriterUtils.java        |   7 +-
 .../index/write/KillServerOnFailurePolicy.java     |   8 +-
 .../index/write/ParallelWriterIndexCommitter.java  |  20 ++--
 .../hbase/index/write/RecoveryIndexWriter.java     |  14 +--
 .../TrackingParallelWriterIndexCommitter.java      |  22 ++--
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  28 ++---
 .../phoenix/index/PhoenixTransactionalIndexer.java |  10 +-
 .../phoenix/iterate/BaseResultIterators.java       |  10 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |   8 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   6 +-
 .../phoenix/iterate/RoundRobinResultIterator.java  |   6 +-
 .../apache/phoenix/iterate/SnapshotScanner.java    |  12 +-
 .../phoenix/iterate/TableResultIterator.java       |   4 +-
 .../iterate/TableSnapshotResultIterator.java       |   9 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  16 +--
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  26 +++--
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   8 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  22 ++--
 .../java/org/apache/phoenix/log/QueryLogger.java   |  12 +-
 .../apache/phoenix/log/QueryLoggerDisruptor.java   |  10 +-
 .../org/apache/phoenix/log/TableLogWriter.java     |   8 +-
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |  26 ++---
 .../mapreduce/FormatToBytesWritableMapper.java     |   4 +-
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |   2 +-
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |  10 +-
 .../apache/phoenix/mapreduce/OrphanViewTool.java   |   8 +-
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  20 ++--
 .../phoenix/mapreduce/PhoenixOutputFormat.java     |   8 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |  18 +--
 .../phoenix/mapreduce/PhoenixRecordWriter.java     |  12 +-
 .../PhoenixServerBuildIndexInputFormat.java        |   9 +-
 .../phoenix/mapreduce/PhoenixTextInputFormat.java  |   6 +-
 .../phoenix/mapreduce/RegexToKeyValueMapper.java   |   6 +-
 .../mapreduce/index/DirectHTableWriter.java        |   8 +-
 .../mapreduce/index/IndexScrutinyMapper.java       |  10 +-
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |  22 ++--
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  28 ++---
 .../phoenix/mapreduce/index/IndexToolUtil.java     |   4 +-
 .../index/PhoenixIndexImportDirectMapper.java      |  10 +-
 .../index/PhoenixIndexImportDirectReducer.java     |   4 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |   6 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |  10 +-
 .../index/PhoenixServerBuildIndexMapper.java       |   2 +-
 .../index/automation/PhoenixMRJobSubmitter.java    |  32 +++---
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  22 ++--
 .../apache/phoenix/memory/GlobalMemoryManager.java |   4 +-
 .../java/org/apache/phoenix/metrics/Metrics.java   |  12 +-
 .../phoenix/monitoring/GlobalClientMetrics.java    |   4 +-
 .../monitoring/GlobalMetricRegistriesAdapter.java  |  17 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  98 ++++++++---------
 .../org/apache/phoenix/query/GuidePostsCache.java  |   2 +-
 .../phoenix/query/PhoenixStatsCacheLoader.java     |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  28 ++---
 .../schema/stats/DefaultStatisticsCollector.java   |  26 ++---
 .../phoenix/schema/stats/StatisticsScanner.java    |  28 ++---
 .../phoenix/schema/stats/UpdateStatisticsTool.java |  14 +--
 .../org/apache/phoenix/tool/PhoenixCanaryTool.java |  28 ++---
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  22 ++--
 .../java/org/apache/phoenix/trace/TraceReader.java |  14 +--
 .../apache/phoenix/trace/TraceSpanReceiver.java    |  14 +--
 .../java/org/apache/phoenix/trace/TraceWriter.java |  32 +++---
 .../org/apache/phoenix/trace/util/Tracing.java     |  10 +-
 .../transaction/OmidTransactionContext.java        |   6 +-
 .../transaction/TephraTransactionContext.java      |   7 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |   8 +-
 .../phoenix/util/EquiDepthStreamHistogram.java     |  14 +--
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   6 +-
 .../org/apache/phoenix/util/PhoenixMRJobUtil.java  |  24 ++--
 .../java/org/apache/phoenix/util/QueryUtil.java    |  10 +-
 .../org/apache/phoenix/util/ReadOnlyProps.java     |   4 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   |   9 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 122 ++++++++++-----------
 .../org/apache/phoenix/util/UpsertExecutor.java    |   4 +-
 .../phoenix/util/ZKBasedMasterElectionUtil.java    |  16 +--
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |   6 +-
 .../phoenix/util/json/JsonUpsertExecutor.java      |   6 +-
 .../phoenix/util/regex/RegexUpsertExecutor.java    |   6 +-
 .../phoenix/hbase/index/IndexTestingUtils.java     |  12 +-
 .../apache/phoenix/hbase/index/StubAbortable.java  |   8 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java |  14 +--
 .../hbase/index/write/TestParalleIndexWriter.java  |  10 +-
 .../write/TestParalleWriterIndexCommitter.java     |  10 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |  34 +++---
 .../org/apache/phoenix/metrics/LoggingSink.java    |  12 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  23 ++--
 .../tool/ParameterizedPhoenixCanaryToolIT.java     |  10 +-
 .../CoprocessorHConnectionTableFactoryTest.java    |   9 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  10 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  28 ++---
 .../pherf/configuration/XMLConfigParser.java       |   6 +-
 .../apache/phoenix/pherf/result/ResultManager.java |   4 +-
 .../apache/phoenix/pherf/rules/RulesApplier.java   |  14 +--
 .../apache/phoenix/pherf/schema/SchemaReader.java  |   8 +-
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  22 ++--
 .../apache/phoenix/pherf/util/ResourceList.java    |  18 +--
 .../pherf/workload/MultiThreadedRunner.java        |  10 +-
 .../pherf/workload/MultithreadedDiffer.java        |   6 +-
 .../phoenix/pherf/workload/QueryExecutor.java      |   8 +-
 .../phoenix/pherf/workload/QueryVerifier.java      |   6 +-
 .../phoenix/pherf/workload/WorkloadExecutor.java   |   4 +-
 .../phoenix/pherf/workload/WriteWorkload.java      |  24 ++--
 .../phoenix/pherf/ConfigurationParserTest.java     |   4 +-
 .../apache/phoenix/pherf/XMLConfigParserTest.java  |   4 +-
 .../pherf/result/impl/XMLResultHandlerTest.java    |   4 +-
 .../apache/phoenix/tracingwebapp/http/Main.java    |   7 +-
 169 files changed, 1239 insertions(+), 1207 deletions(-)

commit 0e60a901a0615354c3ca021e395959aa530f6e06
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 9 20:12:35 2019 -0700

    PHOENIX-5323 UpgradeIT.testMapTableToNamespaceDuringUpgrade is flapping.

 phoenix-core/src/it/java/org/apache/phoenix/end2end/UpgradeIT.java | 2 ++
 1 file changed, 2 insertions(+)

commit 5fef7025adba6c3457ff2395fd3032c66890cafb
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 9 15:32:50 2019 -0700

    PHOENIX-5327 Disable PherfMainIT.

 phoenix-pherf/src/it/java/org/apache/phoenix/pherf/PherfMainIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a470f0cdc817211a5757cbdb67a04941e076a52a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 8 16:59:50 2019 -0700

    PHOENIX-5325 Fix some pherf tests that are failing.

 .../test/java/org/apache/phoenix/pherf/ConfigurationParserTest.java   | 2 ++
 phoenix-pherf/src/test/java/org/apache/phoenix/pherf/ResultTest.java  | 4 +---
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2b782708c2b2476495d4682fdcd727dc4f930222
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Mon Feb 25 19:07:49 2019 -0800

    PHOENIX-4918 Apache Phoenix website Grammar page is running on an old version
    
    Signed-off-by: s.kadam <skadam@apache.org>

 docs/phoenix.csv | 1479 ++++++++++++++++++++++++++++++++++++++++++++++++------
 1 file changed, 1326 insertions(+), 153 deletions(-)

commit b8f465cd3649b66f19e307e5e00dea20ac0a8667
Author: Jacob Isaac <jisaac@salesforce.com>
Date:   Thu Jun 6 13:05:13 2019 -0700

    PHOENIX-5122: PHOENIX-4322 breaks client backward compatibility (addendum)

 .../apache/phoenix/expression/RowValueConstructorExpression.java  | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 2860a717ffd8f4e5993a33a5f82124fca0c3b4c2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Jun 6 15:19:03 2019 -0700

    PHOENIX-5318 Slots passed to SkipScan filter is incorrect for desc primary keys that are prefixes of each other

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 71 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |  6 +-
 .../java/org/apache/phoenix/query/KeyRange.java    | 29 +++++++++
 3 files changed, 103 insertions(+), 3 deletions(-)

commit 1cc02298fccf3a35ed0fa71119ef2a3a17a43d8c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 7 10:31:28 2019 -0700

    PHOENIX-5320 Run SortMergeJoinNoSpoolingIT in own mini cluster.

 .../org/apache/phoenix/end2end/join/SortMergeJoinNoSpoolingIT.java     | 3 +++
 1 file changed, 3 insertions(+)

commit 13fd7776d7629c222af63d9a4f38a426fc5ed163
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Jun 4 16:46:43 2019 -0700

    PHOENIX-5316 Use callable instead of runnable so that Pherf exceptions cause tests to fail

 .../java/org/apache/phoenix/pherf/PherfMainIT.java | 17 +++++--
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  7 ++-
 .../pherf/configuration/DataTypeMapping.java       |  4 +-
 .../phoenix/pherf/configuration/Scenario.java      |  2 +
 .../pherf/configuration/XMLConfigParser.java       |  3 +-
 .../apache/phoenix/pherf/jmx/MonitorManager.java   |  9 ++--
 .../apache/phoenix/pherf/rules/RulesApplier.java   | 13 +++--
 .../pherf/workload/MultiThreadedRunner.java        | 27 ++++++-----
 .../pherf/workload/MultithreadedDiffer.java        |  6 ++-
 .../phoenix/pherf/workload/QueryExecutor.java      | 56 ++++++++++------------
 .../apache/phoenix/pherf/workload/Workload.java    |  4 +-
 .../phoenix/pherf/workload/WorkloadExecutor.java   |  5 +-
 .../phoenix/pherf/workload/WriteWorkload.java      | 53 ++++++++++++--------
 .../scenario/prod_test_unsalted_scenario.xml       |  6 +--
 14 files changed, 129 insertions(+), 83 deletions(-)

commit 5303d292a4c875f8ee8f484094c897f8e7595e63
Author: Istvn Tth <stoty@cloudera.com>
Date:   Thu May 30 14:37:29 2019 +0200

    PHOENIX-5311 Fix distributed cluster test resource (hbase table) leak
    
    Change-Id: Ie325febbdf613198e2c2037760d5d6cdc79e997e

 .../phoenix/end2end/ParallelStatsDisabledIT.java   |  4 ++--
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  4 ++--
 .../java/org/apache/phoenix/query/BaseTest.java    | 25 ++++++++++++++++------
 3 files changed, 23 insertions(+), 10 deletions(-)

commit 27bc7140de826929fdad4c4027b609dc20b0dbe3
Author: chenglei <chenglei@apache.org>
Date:   Sun Jun 2 13:54:41 2019 +0800

    PHOENIX-5307 Fix HashJoinMoreIT.testBug2961 failing after PHOENIX-5262

 .../java/org/apache/phoenix/util/ScanUtil.java     |  11 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |  60 +++++++++++
 .../java/org/apache/phoenix/util/ScanUtilTest.java | 117 +++++++++++++++++++++
 3 files changed, 185 insertions(+), 3 deletions(-)

commit c97375e9bebb2e1383c2b07edfcb93a9432dcdfd
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu May 30 19:58:27 2019 -0700

    PHOENIX-5231 Configurable Stats Cache; addendum, use the thread's class loader for services.

 .../src/main/java/org/apache/phoenix/query/GuidePostsCacheProvider.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 917f37365284afe2605b902c908b5b9030387bd7
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu May 30 14:28:02 2019 -0700

    PHOENIX-4273 MutableIndexSplitIT#testSplitDuringIndexScan is failing for local indexes.

 .../org/apache/phoenix/end2end/index/MutableIndexSplitIT.java    | 9 ++++++++-
 .../phoenix/end2end/index/MutableIndexSplitReverseScanIT.java    | 3 +--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 0d3184d5ce0d0a757c21bd16453110270bc4e879
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Thu May 30 12:05:29 2019 -0700

    PHOENIX-5183 Remove deprecated APIs such as GlobalMetric#getTotalSum (#492)

 .../src/main/java/org/apache/phoenix/monitoring/GlobalMetric.java   | 6 ------
 .../main/java/org/apache/phoenix/monitoring/GlobalMetricImpl.java   | 5 -----
 .../java/org/apache/phoenix/monitoring/NoOpGlobalMetricImpl.java    | 5 -----
 3 files changed, 16 deletions(-)

commit dd631074cda197aec61063abc113acd1d55958c0
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Wed May 1 16:06:19 2019 -0700

    PHOENIX-5272 Implement ALTER INDEX REBUILD ALL ASYNC

 .../apache/phoenix/end2end/IndexRebuildTaskIT.java | 33 ++++++--
 .../phoenix/end2end/index/IndexMetadataIT.java     | 96 ++++++++++++++++++++--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  4 +-
 .../coprocessor/tasks/IndexRebuildTask.java        | 31 ++++---
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  8 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  6 +-
 .../apache/phoenix/parse/AlterIndexStatement.java  | 12 ++-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 58 +++++++++----
 .../java/org/apache/phoenix/util/TestUtil.java     | 27 +++++-
 10 files changed, 230 insertions(+), 51 deletions(-)

commit d218e6135b3f02487b906d031ebefc160ae78ea7
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Apr 26 15:50:06 2019 -0700

    PHOENIX-4703 Make indextool changes to drop before rebuild

 .../org/apache/phoenix/end2end/IndexToolForDeleteBeforeRebuildIT.java   | 2 --
 .../src/main/java/org/apache/phoenix/mapreduce/index/IndexTool.java     | 1 -
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 1 +
 3 files changed, 1 insertion(+), 3 deletions(-)

commit 94d840562e56b63aa9dfda21c6ed73ef791afb7e
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Apr 26 15:50:06 2019 -0700

    PHOENIX-4703 Make indextool changes to drop before rebuild

 .../org/apache/phoenix/end2end/IndexToolForDeleteBeforeRebuildIT.java    | 1 +
 1 file changed, 1 insertion(+)

commit 1acc43d2ca80fd4a49da48c658425990762d9e1b
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Wed May 29 11:27:39 2019 -0700

    PHOENIX-5231 Configurable Stats Cache (addendum)
    
    This addendum fixes the missing META-INF/services file org.apache.phoenix.query.GuidePostsCacheFactory

 phoenix-core/pom.xml                                         | 12 +-----------
 .../main/resources/{ => META-INF/services}/java.sql.Driver   |  0
 2 files changed, 1 insertion(+), 11 deletions(-)

commit d43bc67dea852b3c9d7c419680d3a1edf8d870c7
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue May 28 10:44:40 2019 -0700

    PHOENIX-5303 Fix index failures with some versions of HBase.

 .../org/apache/phoenix/hbase/index/scanner/ScannerBuilder.java   | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 3845b9a434432e75df1f9d66d7cc4edd13b267a2
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri May 24 18:53:29 2019 -0700

    PHOENIX-5112 Simplify QueryPlan selection in Phoenix.

 .../org/apache/phoenix/optimize/QueryOptimizer.java    | 18 ------------------
 1 file changed, 18 deletions(-)

commit 0d0efd467871582ce298d15891cce5adf50c92e4
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri May 24 15:39:20 2019 -0700

    Add cdh branches and 4.x-HBase-1.5 to pre commit

 dev/test-patch.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fffd21aea72ec47a36adcb7d3ba778a15fd7dc10
Author: Josh Elser <elserj@apache.org>
Date:   Fri May 24 12:02:11 2019 -0400

    PHOENIX-5297 POM cleanup and de-duplication
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 phoenix-core/pom.xml  | 14 --------------
 phoenix-pherf/pom.xml |  7 -------
 pom.xml               |  8 ++++----
 3 files changed, 4 insertions(+), 25 deletions(-)

commit 7928985eec8d5758af678784bd815575a8ba06cc
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed May 22 22:43:34 2019 -0700

    PHOENIX-5291 Ensure that Phoenix coprocessor close all scanners.

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java    | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit c84beaf695dbbd53de57e52b84300d93767902f6
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed May 22 13:13:00 2019 -0400

    PHOENIX-5289 IndexRebuildTaskIT fails with HBase 1.5.x.
    
    Re-apply original commit with proper commit msg

 .../java/org/apache/phoenix/hbase/index/wal/IndexedKeyValue.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4d1f4a2b1d1f5cb2420c31853828136ba8a0014a
Author: Josh Elser <elserj@apache.org>
Date:   Wed May 22 13:12:53 2019 -0400

    Revert "IndexRebuildTaskIT fails with HBase 1.5.x."
    
    This reverts commit 27a53681cbab108e208bd5051200b69dd9d6398a.
    
    Reverting to reapply with correct commit msg.

 .../java/org/apache/phoenix/hbase/index/wal/IndexedKeyValue.java     | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 27a53681cbab108e208bd5051200b69dd9d6398a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon May 20 17:19:32 2019 -0700

    IndexRebuildTaskIT fails with HBase 1.5.x.

 .../java/org/apache/phoenix/hbase/index/wal/IndexedKeyValue.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit accd0af195b521cd572219d93033f94ad3b3401e
Author: chfeng <chfeng@gmail.com>
Date:   Thu May 16 18:41:41 2019 +0800

    PHOENIX-4296: reverse scan in ChunkedResultIterator

 .../phoenix/iterate/ChunkedResultIterator.java     | 13 +++-
 .../phoenix/iterate/ChunkedResultIteratorTest.java | 73 ++++++++++++++++++++++
 2 files changed, 83 insertions(+), 3 deletions(-)

commit 7b0246e4f031eabab12a4176052de5ac7bcbe1f3
Author: Daniel <daniel.wong@salesforce.com>
Date:   Fri Apr 5 19:00:23 2019 -0700

    PHOENIX-5231 Configurable Stats Cache

 .../phoenix/end2end/ConfigurableCacheIT.java       | 150 ++++++++++++
 .../PhoenixNonRetryableRuntimeException.java       |  34 +++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  17 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  18 +-
 .../query/DefaultGuidePostsCacheFactory.java       |  45 ++++
 .../org/apache/phoenix/query/EmptyStatsLoader.java |  35 +++
 .../org/apache/phoenix/query/GuidePostsCache.java  | 255 +--------------------
 .../phoenix/query/GuidePostsCacheFactory.java      |  46 ++++
 .../apache/phoenix/query/GuidePostsCacheImpl.java  | 148 ++++++++++++
 .../phoenix/query/GuidePostsCacheProvider.java     |  79 +++++++
 .../phoenix/query/GuidePostsCacheWrapper.java      |  74 ++++++
 .../phoenix/query/ITGuidePostsCacheFactory.java    |  52 +++++
 .../phoenix/query/PhoenixStatsCacheLoader.java     |   2 +-
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +
 .../org/apache/phoenix/query/StatsLoaderImpl.java  | 104 +++++++++
 ...org.apache.phoenix.query.GuidePostsCacheFactory |  17 ++
 .../phoenix/query/GuidePostsCacheProviderTest.java | 122 ++++++++++
 .../phoenix/query/GuidePostsCacheWrapperTest.java  | 106 +++++++++
 .../phoenix/query/PhoenixStatsCacheLoaderTest.java |   2 +-
 .../PhoenixStatsCacheRemovalListenerTest.java      |   2 +-
 ...org.apache.phoenix.query.GuidePostsCacheFactory |  19 ++
 22 files changed, 1073 insertions(+), 261 deletions(-)

commit 746bf1c275461dc5e6622fc004b74044b7ff1b38
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon May 13 11:08:24 2019 -0700

    PHOENIX-5233 Addendum; change TxCheckpointIT.

 phoenix-core/src/it/java/org/apache/phoenix/tx/TxCheckpointIT.java | 2 --
 1 file changed, 2 deletions(-)

commit 3bc6433daf52b2f888a3e4825b33e0c3d900c755
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun May 12 17:22:36 2019 -0700

    Allow transactional writes without buffering the entire transaction on the client.

 .../main/java/org/apache/phoenix/compile/DeleteCompiler.java | 12 +++++++-----
 .../phoenix/compile/MutatingParallelIteratorFactory.java     |  5 +++--
 .../main/java/org/apache/phoenix/compile/UpsertCompiler.java |  8 +++++---
 3 files changed, 15 insertions(+), 10 deletions(-)

commit c409792f68195f8ae84f3de85d4230c0301f0207
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun May 12 17:15:46 2019 -0700

    PHOENIX-5233 Read-your-own writes causes incorrect visibility with transactional tables (with Omid).

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 148 ++++++++++++++++++++-
 .../transaction/OmidTransactionContext.java        |  10 +-
 2 files changed, 151 insertions(+), 7 deletions(-)

commit ad4b6d04cc739537903ca2bd8f3fc2b0b1741f4b
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun May 12 16:48:33 2019 -0700

    PHOENIX-5225 Update Omid to 1.0.1.

 bin/hbase-omid-client-config.yml                   |  18 +++
 bin/omid-server-configuration.yml                  | 159 +++++++++++++++++++--
 bin/omid.sh                                        |  13 +-
 .../build/components/all-common-dependencies.xml   |   2 +
 phoenix-core/pom.xml                               |  33 ++++-
 phoenix-server/pom.xml                             |   8 ++
 pom.xml                                            |   2 +-
 7 files changed, 213 insertions(+), 22 deletions(-)

commit f8bb2bcceb6428b8b97e6bb9eb85dd8ff3099b85
Author: Monani Mihir <mmonani@salesforce.com>
Date:   Fri May 10 11:11:11 2019 +0530

    PHOENIX-5266 Client can only write on Index Table and skip data table if failure happens because of region split/move etc

 .../apache/phoenix/end2end/MutationStateIT.java    | 244 +++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  |  20 +-
 2 files changed, 260 insertions(+), 4 deletions(-)

commit 700c6436984f23c0a9783e3ea37dd1251b824528
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue May 7 14:29:56 2019 -0700

    PHOENIX-5273 Singleton ConnectionQueryServices for UpdateCacheAcrossDifferentClientsIT

 .../UpdateCacheAcrossDifferentClientsIT.java       | 91 +++++++++++++---------
 1 file changed, 53 insertions(+), 38 deletions(-)

commit d9057de0e5ec7f1b89b6586f6c03f73163fd01ee
Author: kliewkliew <kliew@apache.org>
Date:   Mon Feb 6 19:53:58 2017 -0800

    PHOENIX-3413 Ineffective null check in LiteralExpression#newConstant()

 .../src/main/java/org/apache/phoenix/expression/LiteralExpression.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e383eefe199ab1b1df43a5e7342dbd236ea3a231
Author: Priyank Porwal <pporwal@salesforce.com>
Date:   Tue Apr 30 11:01:56 2019 -0700

    PHOENIX-5264: Implement toString() of EncodedQualifiersColumnProjectionFilter with some useful output.

 .../EncodedQualifiersColumnProjectionFilter.java   | 10 +++-
 ...ncodedQualifiersColumnProjectionFilterTest.java | 61 ++++++++++++++++++++++
 2 files changed, 70 insertions(+), 1 deletion(-)

commit 3f34badd5721208e3fa9617a48513d2525341268
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Apr 26 15:50:06 2019 -0700

    PHOENIX-4703 Make indextool changes to drop before rebuild

 .../end2end/IndexToolForDeleteBeforeRebuildIT.java | 217 +++++++++++++++++++++
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  41 ++++
 2 files changed, 258 insertions(+)

commit bb1327ef89fb0844094470ada74cbe5071b43a0d
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu May 2 16:33:20 2019 -0700

    PHOENIX-5101 ScanningResultIterator getScanMetrics throws NPE

 .../org/apache/phoenix/monitoring/PhoenixMetricsIT.java  | 16 ++++++++++++++++
 .../apache/phoenix/iterate/ScanningResultIterator.java   |  5 +++--
 2 files changed, 19 insertions(+), 2 deletions(-)

commit 4eec41f3f2b04865b6d59ebd3fbd3aa1e0a0fd80
Author: Daniel <daniel.wong@salesforce.com>
Date:   Fri Apr 26 18:13:49 2019 -0700

    PHOENIX-5262 Wrong Result on Salted table with some Variable Length PKs

 .../salted/SaltedTableVarLengthRowKeyIT.java       |  82 +++
 .../java/org/apache/phoenix/util/ScanUtil.java     |   4 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |   5 +-
 .../java/org/apache/phoenix/util/ScanUtilTest.java | 571 +++++++++++----------
 4 files changed, 382 insertions(+), 280 deletions(-)

commit 8124fedfe18554d2e4dbba0fec352c3ff27efc21
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Apr 26 17:31:51 2019 -0700

    PHOENIX-5213 Phoenix-client improvements: add more relocations, exclude log binding, add source jar

 phoenix-assembly/pom.xml                           |  22 +
 .../src/build/components/all-common-jars.xml       |   4 +-
 phoenix-client/pom.xml                             | 580 ++++++++++++---------
 3 files changed, 347 insertions(+), 259 deletions(-)

commit abe063fa20bac1c05f378152d3e5be6f22f0a7d6
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Apr 26 15:41:30 2019 -0700

    PHOENIX-5251: Avoid taking explicit lock by using AtomicReference in PhoenixAccessController class
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../coprocessor/PhoenixAccessController.java       | 23 +++++++++++-----------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit ff51c2766a25f676ef22df3bfdf668f76b5f2d54
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Wed Apr 24 13:16:34 2019 -0700

    PHOENIX-5168 IndexScrutinyTool to output to Table when that option is given

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 38 ++++++++++++++--------
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |  4 ++-
 2 files changed, 27 insertions(+), 15 deletions(-)

commit c1e7744c4b2b4591c15a62421ab39c048fbc2090
Author: Monani Mihir <mmonani@salesforce.com>
Date:   Fri Mar 15 16:48:12 2019 +0530

    PHOENIX-5199 Pherf overrides user provided properties like dataloader threadpool, monitor frequency etc with pherf.properties

 phoenix-pherf/src/main/java/org/apache/phoenix/pherf/Pherf.java       | 2 +-
 .../main/java/org/apache/phoenix/pherf/workload/WriteWorkload.java    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 59fbef56d67059bd8ea31ec28297ba2aca0e08dd
Author: Monani Mihir <mmonani@salesforce.com>
Date:   Fri Mar 15 13:56:35 2019 +0530

    PHOENIX-5195 PHERF:- Handle batch failure in connection.commit() in WriteWorkload#upsertData

 .../phoenix/pherf/workload/WriteWorkload.java      | 32 ++++++++++++----------
 1 file changed, 18 insertions(+), 14 deletions(-)

commit d9b714893b810e1591d8f086155f029e8ccc7c67
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Thu Mar 7 10:48:57 2019 -0800

    PHOENIX-5181 support Math sin/cos/tan functions

 .../phoenix/end2end/MathTrigFunctionEnd2EndIT.java |  94 +++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   3 +
 .../phoenix/expression/function/CosFunction.java   |  56 +++++++
 .../phoenix/expression/function/SinFunction.java   |  56 +++++++
 .../phoenix/expression/function/TanFunction.java   |  56 +++++++
 .../phoenix/expression/MathTrigFunctionTest.java   | 179 +++++++++++++++++++++
 6 files changed, 444 insertions(+)

commit a3fbbb8fa098ae1420823bc03e5f9b5203a22962
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Fri Apr 19 17:25:02 2019 -0700

    PHOENIX-5252 Add job priority option to UpdateStatisticsTool

 .../phoenix/schema/stats/UpdateStatisticsTool.java | 32 +++++++++++++++++++++-
 .../schema/stats/UpdateStatisticsToolTest.java     | 15 ++++++++++
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 4ef749dd92d4af7529a07d343cb0186302979a14
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Apr 19 15:05:27 2019 -0700

    PHOENIX-5235: Update SQLline version to the latest

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e8c78574a737a626eda329449af2fee4dee704ca
Author: Aman Poonia <aman.poonia.29@gmail.com>
Date:   Mon Mar 11 23:14:23 2019 +0530

    PHOENIX-5187 Avoid using FileInputStream and FileOutputStream

 .../main/java/org/apache/phoenix/cache/ServerCacheClient.java    | 9 +++++----
 .../src/main/java/org/apache/phoenix/iterate/BufferedQueue.java  | 7 +++----
 .../java/org/apache/phoenix/iterate/SpoolingResultIterator.java  | 4 ++--
 3 files changed, 10 insertions(+), 10 deletions(-)

commit b4697afc3f23ca29ddd87c8708097cd68f91286d
Author: s.kadam <s.kadam@salesforce.com>
Date:   Thu Apr 18 14:05:21 2019 -0700

    PhoenixResultSet#next() closes the result set if scanner returns null

 .../org/apache/phoenix/end2end/QueryLoggerIT.java  | 193 +++++++++++----------
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   4 +-
 2 files changed, 102 insertions(+), 95 deletions(-)

commit 77f43035abc66685a759ce98c8c3cad69312b4c7
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Apr 19 15:53:54 2019 -0700

    PHOENIX-5173: LIKE and ILIKE statements return empty result list for search without wildcard

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 24 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  3 ---
 .../apache/phoenix/compile/WhereOptimizerTest.java |  8 ++++++--
 3 files changed, 30 insertions(+), 5 deletions(-)

commit 2e98269dd94f17fa01437065f36f26ef12a49dba
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Apr 19 13:10:27 2019 -0700

    PHOENIX-5246: PhoenixAccessControllers.getAccessControllers() method is not correctly implementing the double-checked locking

 .../java/org/apache/phoenix/coprocessor/PhoenixAccessController.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f80c5b1c74a1e6903e3417a9a19c1a53d74552e0
Author: chenglei <chenglei@apache.org>
Date:   Fri Apr 19 14:53:05 2019 +0800

    PHOENIX-5217 Incorrect result for COUNT DISTINCT limit

 .../apache/phoenix/end2end/DistinctCountIT.java    | 28 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       | 23 ++++++++++--------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 25 +++++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     | 13 ++++++++++
 4 files changed, 79 insertions(+), 10 deletions(-)

commit e453a89092c1ba8ff376d77b115afaac75d7492f
Author: chenglei <chenglei@apache.org>
Date:   Fri Apr 19 14:50:06 2019 +0800

    Revert "PHOENIX-5217 Incorrect result for COUNT DISTINCT limit"
    
    This reverts commit 76541c5862d27fedc407fba6744f1cc793130127.

 .../apache/phoenix/end2end/DistinctCountIT.java    | 28 ----------------------
 .../phoenix/iterate/BaseResultIterators.java       | 23 ++++++++----------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 25 -------------------
 .../java/org/apache/phoenix/util/TestUtil.java     | 12 ----------
 4 files changed, 10 insertions(+), 78 deletions(-)

commit 76541c5862d27fedc407fba6744f1cc793130127
Author: chenglei <chenglei@apache.org>
Date:   Fri Apr 19 14:17:17 2019 +0800

    PHOENIX-5217 Incorrect result for COUNT DISTINCT limit

 .../apache/phoenix/end2end/DistinctCountIT.java    | 28 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       | 23 ++++++++++--------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 25 +++++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     | 12 ++++++++++
 4 files changed, 78 insertions(+), 10 deletions(-)

commit d9f6e969e66b99604a654a3ba51084b622723a74
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Tue Feb 26 17:09:41 2019 +0530

    PHOENIX-5137 check region close before commiting a batch for index rebuild

 .../UngroupedAggregateRegionObserver.java          | 30 +++++++++++++---------
 1 file changed, 18 insertions(+), 12 deletions(-)

commit b431a4e733e35977ee3445c4c9f70d37c48cbdef
Author: jaanai <jaanai@apache.org>
Date:   Thu Apr 4 10:21:44 2019 +0800

    PHOENIX-5226 The format of VIEW_MODIFIED_PROPERTY_BYTES is incorrect as a tag of the cell

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  6 ++--
 .../org/apache/phoenix/query/QueryConstants.java   |  4 ++-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 42 ++++++++++++++++++++++
 3 files changed, 49 insertions(+), 3 deletions(-)

commit 2e12af8e0d8c58a7ad4178b0476057d02fb1a7a3
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Apr 12 17:18:09 2019 -0700

    PHOENIX-4273 MutableIndexSplitIT#testSplitDuringIndexScan is failing for local indexes

 .../apache/phoenix/end2end/index/MutableIndexSplitReverseScanIT.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0b3e7aac0d4b646a6aa27216014a178494b62611
Author: Monani Mihir <monani.mihir@gmail.com>
Date:   Fri Apr 12 23:25:33 2019 +0530

    PHOENIX-5194 Thread Cache is not update for Index retries in for MutationState#send()#doMutation()

 .../org/apache/phoenix/execute/MutationState.java  | 28 ++++++++++++++++++++++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 10 ++++++--
 2 files changed, 36 insertions(+), 2 deletions(-)

commit 6ca7ff61ca9d8d89343fb331aed25afe174c8ca5
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Mon Mar 25 16:12:52 2019 -0700

    PHOENIX-5138 - ViewIndexId sequences created after PHOENIX-5132 shouldn't collide with ones created before it

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 118 +++++++++++++++++----
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  10 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  48 +++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java |   6 ++
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  30 +++++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 112 ++++++++++++++++++-
 6 files changed, 272 insertions(+), 52 deletions(-)

commit 2ba4d8b0c718e5431120028dea16cc90bfb08dd7
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Apr 4 16:34:24 2019 -0700

    PHOENIX-5230 Fix ChangePermissionsIT and TableDDLPermissionIT on master

 .../apache/phoenix/end2end/BasePermissionsIT.java  | 630 ++++++++++++++++++---
 .../phoenix/end2end/ChangePermissionsIT.java       | 293 ----------
 .../phoenix/end2end/PermissionNSDisabledIT.java    |  15 +
 .../phoenix/end2end/PermissionNSEnabledIT.java     |  53 ++
 .../phoenix/end2end/SystemTablePermissionsIT.java  | 131 -----
 .../phoenix/end2end/TableDDLPermissionsIT.java     | 238 --------
 .../tool/ParameterizedPhoenixCanaryToolIT.java     |   1 -
 7 files changed, 610 insertions(+), 751 deletions(-)

commit 43600fbf39cda4336be9736fd8c653044e3d85ee
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Wed Mar 6 09:58:21 2019 -0800

    Implement TaskRegionObserver for Index rebuild
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../phoenix/end2end/DropTableWithViewsIT.java      |  37 ++-
 .../apache/phoenix/end2end/IndexRebuildTaskIT.java | 176 ++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   3 +-
 .../phoenix/coprocessor/TaskRegionObserver.java    | 293 ++++++++--------
 .../apache/phoenix/coprocessor/tasks/BaseTask.java |  17 +
 .../coprocessor/tasks/DropChildViewsTask.java      |  81 +++++
 .../coprocessor/tasks/IndexRebuildTask.java        | 151 +++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   5 +
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  58 +++-
 .../index/PhoenixIndexImportDirectReducer.java     |  43 +++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  30 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   6 +
 .../java/org/apache/phoenix/schema/PTable.java     |  26 +-
 .../java/org/apache/phoenix/schema/task/Task.java  | 369 +++++++++++++++++++++
 14 files changed, 1115 insertions(+), 180 deletions(-)

commit e8664d14d29ed3803e884f17d341593d41dcef6a
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Wed Apr 3 11:34:26 2019 -0700

    PHOENIX-5101 ScanningResultIterator getScanMetrics throws NPE

 .../phoenix/iterate/ScanningResultIterator.java    | 85 ++++++++++++----------
 1 file changed, 46 insertions(+), 39 deletions(-)

commit 507e6b5a0f0c94cd85ed359cd04d92e849743a31
Author: jaanai <jaanai@apache.org>
Date:   Sat Mar 30 16:41:44 2019 +0800

    PHOENIX-5169 Query logger is still initialized for each query if the log level is off(addendum)

 phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryLoggerIT.java | 3 ---
 1 file changed, 3 deletions(-)

commit bdb6a08b4fa4a64c82862b85b28e8088e52a12e2
Author: jaanai <jaanai@apache.org>
Date:   Tue Mar 26 15:32:08 2019 +0800

    PHOENIX-5169 Query logger is still initialized for each query if the log level is off

 .../org/apache/phoenix/end2end/QueryLoggerIT.java  | 25 +++++++++++++---------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  5 +++++
 2 files changed, 20 insertions(+), 10 deletions(-)

commit 79fda572c211094fa177aae92f250cca9850f2d3
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Mar 28 16:36:30 2019 -0700

    Fix ConcurrentMutationsIT testLockUntilMVCCAdvanced and testRowLockDuringPreBatchMutateWhenIndexed failures on the master branch

 .../src/main/java/org/apache/phoenix/hbase/index/Indexer.java    | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 81e4a23cf5f7d8c805d22b6662d117240e908526
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Wed Mar 27 19:00:40 2019 -0700

    PHOENIX-5207 Create index if not exists fails incorrectly if table has 'maxIndexesPerTable' indexes already

 .../apache/phoenix/end2end/index/BaseIndexIT.java  | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 679dd55d504123b584eed88baecf98f197438bf9
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Mar 26 11:24:32 2019 -0700

    PHOENIX-5062 Create a new repo for the phoenix connectors (addendum)

 phoenix-flume/pom.xml                              |  203 --
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  272 ---
 phoenix-hive/pom.xml                               |  294 ---
 .../hadoop/hive/ql/QTestProcessExecResult.java     |   66 -
 .../java/org/apache/hadoop/hive/ql/QTestUtil.java  | 2489 --------------------
 .../hive/ql/security/DummyAuthenticator.java       |   70 -
 .../phoenix/hive/BaseHivePhoenixStoreIT.java       |  180 --
 .../org/apache/phoenix/hive/HiveMapReduceIT.java   |   62 -
 .../apache/phoenix/hive/HivePhoenixStoreIT.java    |  344 ---
 .../java/org/apache/phoenix/hive/HiveTestUtil.java |   40 -
 .../it/java/org/apache/phoenix/hive/HiveTezIT.java |   32 -
 .../apache/phoenix/hive/PhoenixRecordUpdater.java  |  341 ---
 .../apache/phoenix/hive/PhoenixStorageHandler.java |  276 ---
 .../constants/PhoenixStorageHandlerConstants.java  |  108 -
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java |  271 ---
 .../hive/mapreduce/PhoenixRecordWriter.java        |  360 ---
 .../PhoenixByteObjectInspector.java                |   59 -
 .../PhoenixDoubleObjectInspector.java              |   59 -
 .../hive/ql/index/IndexPredicateAnalyzer.java      |  521 ----
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |  849 -------
 .../phoenix/hive/util/PhoenixConnectionUtil.java   |  119 -
 .../hive/util/PhoenixStorageHandlerUtil.java       |  321 ---
 .../org/apache/phoenix/hive/util/PhoenixUtil.java  |  210 --
 .../hive/query/PhoenixQueryBuilderTest.java        |  173 --
 phoenix-hive/src/test/resources/hive-site.xml      |  123 -
 phoenix-hive/src/test/resources/tez-site.xml       |   69 -
 phoenix-kafka/pom.xml                              |  421 ----
 phoenix-pig/pom.xml                                |  464 ----
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |  265 ---
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |   90 -
 phoenix-spark/pom.xml                              |  607 -----
 phoenix-spark/src/it/resources/hbase-site.xml      |   40 -
 .../v2/reader/PhoenixDataSourceReader.java         |  201 --
 .../v2/reader/PhoenixInputPartitionReader.java     |  169 --
 34 files changed, 10168 deletions(-)

commit 208e086f4c210f5cf409722b6dadd2feda4074d0
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Fri Mar 15 15:50:37 2019 -0700

    PHOENIX-5180 Add API to PhoenixRunTime to get ptable of a tenant using a global connection

 .../end2end/GlobalConnectionTenantTableIT.java     | 188 +++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  68 +++++++-
 3 files changed, 252 insertions(+), 6 deletions(-)

commit 69e5bb0b304a53967cef40b2a4cfc66e69ecaa51
Author: Toshihiro Suzuki <brfrn169@gmail.com>
Date:   Thu Mar 21 16:46:09 2019 +0900

    PHOENIX-1614 ALTER TABLE ADD IF NOT EXISTS doesn't work as expected

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 43 +++++++++++-----------
 .../org/apache/phoenix/schema/MetaDataClient.java  | 29 +++++++--------
 2 files changed, 35 insertions(+), 37 deletions(-)

commit c06bb592ca489e41b7df11cab248135ad534416d
Author: Swaroopa Kadam <swaroopa.kadam07@gmail.com>
Date:   Tue Mar 19 13:39:45 2019 -0700

    PHOENIX-5172: Harden the PQS canary synth test tool with retry mechanism and more logging

 .../org/apache/phoenix/tool/PhoenixCanaryTool.java | 212 ++++++----------
 .../tool/ParameterizedPhoenixCanaryToolIT.java     | 280 +++++++++++++++++++++
 .../apache/phoenix/tool/PhoenixCanaryToolTest.java |  53 +---
 .../resources/phoenix-canary-file-sink.properties  |  17 ++
 4 files changed, 378 insertions(+), 184 deletions(-)

commit f256004ab45217eb736fda97b3d67cc77b183735
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Fri Mar 8 15:31:17 2019 -0800

    PHOENIX-5184: HBase and Phoenix connection leaks in Indexing code path, OrphanViewTool and PhoenixConfigurationUtil

 .../UngroupedAggregateRegionObserver.java          |  22 +++-
 .../hbase/index/write/RecoveryIndexWriter.java     |  30 ++++--
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 114 +++++++++++----------
 .../apache/phoenix/mapreduce/OrphanViewTool.java   |  73 ++++++++-----
 .../phoenix/mapreduce/PhoenixRecordWriter.java     |  18 +++-
 .../mapreduce/index/DirectHTableWriter.java        |  19 +++-
 .../mapreduce/index/IndexScrutinyMapper.java       |  25 ++++-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  85 +++++++++++----
 .../index/PhoenixIndexImportDirectMapper.java      |  26 +++--
 .../mapreduce/index/PhoenixIndexImportMapper.java  |  16 +--
 .../index/PhoenixIndexPartialBuildMapper.java      |  25 +++--
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  45 ++++----
 12 files changed, 325 insertions(+), 173 deletions(-)

commit 3c7b1088b2c9db36089b16ddcdb7bba6c5a5f82a
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Tue Mar 5 14:58:23 2019 -0800

    PHOENIX-4900 Modify MAX_MUTATION_SIZE_EXCEEDED and MAX_MUTATION_SIZE_BYTES_EXCEEDED exception message to recommend turning autocommit on for deletes

 .../apache/phoenix/end2end/MutationStateIT.java    | 50 +++++++++++++++++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  8 +++-
 2 files changed, 55 insertions(+), 3 deletions(-)

commit 43609f8f1910f7d2188929a7265caf94cc11afc1
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Mar 18 11:28:10 2019 -0700

    PHOENIX-5062 Create a new repo for the phoenix connectors

 phoenix-assembly/pom.xml                           |   16 -
 phoenix-client/pom.xml                             |   18 -
 .../apache/phoenix/flume/CsvEventSerializerIT.java |  416 --------
 .../phoenix/flume/JsonEventSerializerIT.java       |  541 ----------
 .../phoenix/flume/RegexEventSerializerIT.java      |  417 --------
 .../phoenix/flume/serializer/CustomSerializer.java |   43 -
 .../apache/phoenix/flume/sink/NullPhoenixSink.java |   21 -
 .../apache/phoenix/flume/DefaultKeyGenerator.java  |   69 --
 .../org/apache/phoenix/flume/FlumeConstants.java   |   94 --
 .../org/apache/phoenix/flume/KeyGenerator.java     |   24 -
 .../org/apache/phoenix/flume/SchemaHandler.java    |   47 -
 .../flume/serializer/BaseEventSerializer.java      |  245 -----
 .../flume/serializer/CsvEventSerializer.java       |  196 ----
 .../phoenix/flume/serializer/EventSerializer.java  |   42 -
 .../phoenix/flume/serializer/EventSerializers.java |   36 -
 .../flume/serializer/JsonEventSerializer.java      |  226 -----
 .../flume/serializer/RegexEventSerializer.java     |  145 ---
 .../org/apache/phoenix/flume/sink/PhoenixSink.java |  212 ----
 .../org/apache/phoenix/hive/PhoenixMetaHook.java   |  229 -----
 .../java/org/apache/phoenix/hive/PhoenixRow.java   |   64 --
 .../org/apache/phoenix/hive/PhoenixRowKey.java     |   62 --
 .../java/org/apache/phoenix/hive/PhoenixSerDe.java |  152 ---
 .../org/apache/phoenix/hive/PhoenixSerializer.java |  173 ----
 .../org/apache/phoenix/hive/PrimaryKeyData.java    |   88 --
 .../phoenix/hive/mapreduce/PhoenixInputSplit.java  |  160 ---
 .../hive/mapreduce/PhoenixOutputFormat.java        |  112 ---
 .../hive/mapreduce/PhoenixRecordReader.java        |  217 ----
 .../hive/mapreduce/PhoenixResultWritable.java      |  217 ----
 .../AbstractPhoenixObjectInspector.java            |   59 --
 .../PhoenixBinaryObjectInspector.java              |   58 --
 .../PhoenixBooleanObjectInspector.java             |   55 -
 .../PhoenixCharObjectInspector.java                |   56 --
 .../PhoenixDateObjectInspector.java                |   63 --
 .../PhoenixDecimalObjectInspector.java             |   72 --
 .../PhoenixFloatObjectInspector.java               |   60 --
 .../objectinspector/PhoenixIntObjectInspector.java |   62 --
 .../PhoenixListObjectInspector.java                |  105 --
 .../PhoenixLongObjectInspector.java                |   56 --
 .../PhoenixObjectInspectorFactory.java             |  148 ---
 .../PhoenixShortObjectInspector.java               |   56 --
 .../PhoenixStringObjectInspector.java              |   72 --
 .../PhoenixTimestampObjectInspector.java           |   61 --
 .../hive/ppd/PhoenixPredicateDecomposer.java       |   95 --
 .../hive/ql/index/IndexSearchCondition.java        |  143 ---
 .../hive/ql/index/PredicateAnalyzerFactory.java    |   40 -
 .../phoenix/hive/util/ColumnMappingUtils.java      |   76 --
 .../apache/phoenix/hive/PrimaryKeyDataTest.java    |   79 --
 .../apache/phoenix/kafka/PhoenixConsumerIT.java    |  276 -----
 phoenix-kafka/src/it/resources/consumer.props      |   32 -
 phoenix-kafka/src/it/resources/producer.props      |   24 -
 .../org/apache/phoenix/kafka/KafkaConstants.java   |   52 -
 .../phoenix/kafka/consumer/PhoenixConsumer.java    |  276 -----
 .../kafka/consumer/PhoenixConsumerTool.java        |  107 --
 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |   87 --
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  838 ----------------
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  292 ------
 .../phoenix/pig/udf/ReserveNSequenceTestIT.java    |  306 ------
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |  236 -----
 .../apache/phoenix/pig/udf/ReserveNSequence.java   |  129 ---
 .../pig/util/QuerySchemaParserFunction.java        |  118 ---
 .../pig/util/SqlQueryToColumnInfoFunction.java     |   82 --
 .../pig/util/TableSchemaParserFunction.java        |   52 -
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |  349 -------
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java |   92 --
 .../pig/util/QuerySchemaParserFunctionTest.java    |   97 --
 .../pig/util/SqlQueryToColumnInfoFunctionTest.java |   63 --
 .../pig/util/TableSchemaParserFunctionTest.java    |   54 -
 .../org/apache/phoenix/pig/util/TypeUtilTest.java  |   83 --
 phoenix-spark/README.md                            |  164 ---
 .../java/org/apache/phoenix/spark/AggregateIT.java |   91 --
 .../java/org/apache/phoenix/spark/OrderByIT.java   |  449 ---------
 .../org/apache/phoenix/spark/SaltedTableIT.java    |   53 -
 .../java/org/apache/phoenix/spark/SparkUtil.java   |   80 --
 phoenix-spark/src/it/resources/globalSetup.sql     |   64 --
 phoenix-spark/src/it/resources/log4j.xml           |   70 --
 phoenix-spark/src/it/resources/tenantSetup.sql     |   18 -
 .../phoenix/spark/AbstractPhoenixSparkIT.scala     |  117 ---
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  |  733 --------------
 .../spark/PhoenixSparkITTenantSpecific.scala       |  135 ---
 .../org/apache/phoenix/spark/SparkResultSet.java   | 1056 --------------------
 .../spark/datasource/v2/PhoenixDataSource.java     |   82 --
 .../v2/reader/PhoenixDataSourceReadOptions.java    |   51 -
 .../v2/reader/PhoenixInputPartition.java           |   44 -
 .../v2/writer/PhoenixDataSourceWriteOptions.java   |  109 --
 .../datasource/v2/writer/PhoenixDataWriter.java    |  117 ---
 .../v2/writer/PhoenixDataWriterFactory.java        |   36 -
 .../v2/writer/PhoenixDatasourceWriter.java         |   51 -
 ...org.apache.spark.sql.sources.DataSourceRegister |   18 -
 .../apache/phoenix/spark/ConfigurationUtil.scala   |  100 --
 .../apache/phoenix/spark/DataFrameFunctions.scala  |   79 --
 .../org/apache/phoenix/spark/DefaultSource.scala   |   60 --
 .../phoenix/spark/FilterExpressionCompiler.scala   |  135 ---
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |  150 ---
 .../phoenix/spark/PhoenixRecordWritable.scala      |  115 ---
 .../org/apache/phoenix/spark/PhoenixRelation.scala |   69 --
 .../apache/phoenix/spark/ProductRDDFunctions.scala |   64 --
 .../phoenix/spark/SparkContextFunctions.scala      |   42 -
 .../org/apache/phoenix/spark/SparkSchemaUtil.scala |   84 --
 .../phoenix/spark/SparkSqlContextFunctions.scala   |   42 -
 .../scala/org/apache/phoenix/spark/package.scala   |   36 -
 .../datasources/jdbc/PhoenixJdbcDialect.scala      |   39 -
 .../execution/datasources/jdbc/SparkJdbcUtil.scala |  309 ------
 pom.xml                                            |    5 -
 103 files changed, 14210 deletions(-)

commit dd8789b473fd8f0c35b0d5014f5c793fffa255e3
Author: chenglei <chenglei@apache.org>
Date:   Mon Mar 18 11:46:07 2019 +0800

    PHOENIX-5148 Improve OrderPreservingTracker to optimize OrderBy/GroupBy for ClientScanPlan and ClientAggregatePlan

 .../org/apache/phoenix/end2end/DerivedTableIT.java |   2 -
 .../java/org/apache/phoenix/end2end/OrderByIT.java | 148 ++++++
 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 126 ++++-
 .../end2end/join/SortMergeJoinGlobalIndexIT.java   |   3 +-
 .../end2end/join/SortMergeJoinLocalIndexIT.java    |   3 +-
 .../end2end/join/SubqueryUsingSortMergeJoinIT.java |  26 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   6 +-
 .../apache/phoenix/compile/GroupByCompiler.java    |  35 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   5 +
 .../apache/phoenix/compile/OrderByCompiler.java    | 104 ++--
 .../phoenix/compile/OrderPreservingTracker.java    | 556 +++++++++++++++------
 .../org/apache/phoenix/compile/QueryCompiler.java  |  90 +++-
 .../java/org/apache/phoenix/compile/QueryPlan.java |  20 +-
 .../compile/StatelessExpressionCompiler.java       |  57 +++
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  39 +-
 .../phoenix/execute/ClientAggregatePlan.java       |  31 +-
 .../org/apache/phoenix/execute/ClientScanPlan.java |  22 +
 .../apache/phoenix/execute/CursorFetchPlan.java    |   6 +-
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   5 +
 .../execute/LiteralResultIterationPlan.java        |   5 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  24 +
 .../apache/phoenix/execute/SortMergeJoinPlan.java  | 115 ++++-
 .../phoenix/execute/TupleProjectionPlan.java       | 112 ++++-
 .../java/org/apache/phoenix/execute/UnionPlan.java |  13 +
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   7 +
 .../phoenix/expression/OrderByExpression.java      |  85 +++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../org/apache/phoenix/util/ExpressionUtil.java    | 294 +++++++++++
 .../apache/phoenix/compile/QueryCompilerTest.java  | 451 +++++++++++++++++
 .../phoenix/iterate/OrderedResultIteratorTest.java |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   6 +-
 33 files changed, 2118 insertions(+), 292 deletions(-)

commit 05b99018a77805cd92411c26bd4147e62cbf7281
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Wed Mar 13 17:34:37 2019 -0700

    PHOENIX-5131 Make spilling to disk for order/group by configurable
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@apache.org>

 .../java/org/apache/phoenix/end2end/OrderByIT.java |  45 +++++++
 .../OrderByWithServerClientSpoolingDisabledIT.java |  47 +++++++
 .../end2end/OrderByWithServerMemoryLimitIT.java    |  81 ++++++++++++
 .../phoenix/end2end/OrderByWithSpillingIT.java     |   3 +-
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    |   2 +-
 .../end2end/join/SortMergeJoinNoSpoolingIT.java    |  83 +++++++++++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |   7 ++
 .../phoenix/coprocessor/ScanRegionObserver.java    |   4 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  28 ++++-
 .../phoenix/execute/ClientAggregatePlan.java       |  30 ++++-
 .../org/apache/phoenix/execute/ClientScanPlan.java |  16 ++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  10 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  | 138 +++++----------------
 .../phoenix/hbase/index/util/VersionUtil.java      |  12 ++
 .../org/apache/phoenix/iterate/BufferedQueue.java  |  20 +--
 .../phoenix/iterate/BufferedSortedQueue.java       |  33 +----
 .../apache/phoenix/iterate/BufferedTupleQueue.java | 134 ++++++++++++++++++++
 .../iterate/NonAggregateRegionScannerFactory.java  |  45 +++++--
 .../iterate/OrderedAggregatingResultIterator.java  |   5 +-
 .../phoenix/iterate/OrderedResultIterator.java     |  72 +++++++++--
 .../org/apache/phoenix/iterate/PhoenixQueues.java  |  96 ++++++++++++++
 .../org/apache/phoenix/iterate/SizeAwareQueue.java |  27 ++++
 .../org/apache/phoenix/iterate/SizeBoundQueue.java |  96 ++++++++++++++
 .../phoenix/iterate/SpoolingResultIterator.java    |   5 +-
 .../org/apache/phoenix/query/QueryServices.java    |  11 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  19 ++-
 .../phoenix/iterate/OrderedResultIteratorTest.java |  55 +++++++-
 .../phoenix/query/QueryServicesTestImpl.java       |   3 +-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |  10 +-
 29 files changed, 935 insertions(+), 202 deletions(-)

commit c73947a47ddcf7be742625c44fb42e01cf419527
Author: Xinyi Yan <HelloWorld@berkeley.edu>
Date:   Thu Mar 14 10:45:45 2019 -0700

    PHOENIX-5185 support Math PI function (#461)

 .../phoenix/end2end/LnLogFunctionEnd2EndIT.java    | 16 ------
 .../phoenix/end2end/MathPIFunctionEnd2EndIT.java   | 61 ++++++++++++++++++++
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    | 16 ------
 .../apache/phoenix/expression/ExpressionType.java  |  1 +
 .../expression/function/MathPIFunction.java        | 65 ++++++++++++++++++++++
 .../apache/phoenix/expression/ExpFunctionTest.java | 19 +------
 .../phoenix/expression/LnLogFunctionTest.java      | 23 ++------
 .../phoenix/expression/MathPIFunctionTest.java     | 44 +++++++++++++++
 .../phoenix/expression/PowerFunctionTest.java      | 22 ++------
 .../phoenix/expression/SqrtFunctionTest.java       | 20 +------
 .../java/org/apache/phoenix/query/BaseTest.java    | 17 +++++-
 11 files changed, 199 insertions(+), 105 deletions(-)

commit 6e3cb3139970d7ec856dc563eadba776d42bbbde
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Wed Mar 13 15:42:33 2019 -0700

    PHOENIX-5196 Fix rat check in pre commit

 bin/omid-server-configuration.yml                    | 16 ++++++++++++++++
 .../it/java/org/apache/phoenix/spark/OrderByIT.java  | 17 +++++++++++++++++
 .../datasource/v2/writer/PhoenixDataWriter.java      | 17 +++++++++++++++++
 .../v2/writer/PhoenixDataWriterFactory.java          | 17 +++++++++++++++++
 .../v2/writer/PhoenixDatasourceWriter.java           | 17 +++++++++++++++++
 .../org.apache.spark.sql.sources.DataSourceRegister  | 19 ++++++++++++++++++-
 .../datasources/jdbc/PhoenixJdbcDialect.scala        | 20 +++++++++++++++++++-
 7 files changed, 121 insertions(+), 2 deletions(-)

commit 0de237eb22c6005d5ed00b0e99d31b632c7b4e3c
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Tue Mar 12 11:17:50 2019 -0700

    PHOENIX-5188 - IndexedKeyValue should populate KeyValue fields

 .../phoenix/hbase/index/wal/IndexedKeyValue.java   | 25 ++++++++
 .../regionserver/wal/IndexedKeyValueTest.java      | 66 ++++++++++++++++++++++
 2 files changed, 91 insertions(+)

commit f969444c96a060a5619e70e543c6d6fb21b32bed
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Mar 11 21:54:40 2019 -0700

    PHOENIX-5178 SYSTEM schema is not getting cached at MetaData server(addendum)

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 5d66774fe886cdc9cf060276a367559cf908c091
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Mar 11 17:09:36 2019 -0700

    PHOENIX-5178 SYSTEM schema is not getting cached at MetaData server

 .../phoenix/end2end/SystemTablePermissionsIT.java  | 43 ++++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 2 files changed, 44 insertions(+), 1 deletion(-)

commit 26d3734d3c2a05c56e92a0ea09a99fd90059f568
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Thu Mar 7 16:43:53 2019 -0800

    PHOENIX-5182: Deprecate getTotalSum API of the GlobalMetric interface

 .../apache/phoenix/execute/PartialCommitIT.java    |   3 +-
 .../monitoring/PhoenixMetricsDisabledIT.java       |   2 +-
 .../phoenix/monitoring/PhoenixMetricsIT.java       | 100 ++++++++++-----------
 .../apache/phoenix/monitoring/GlobalMetric.java    |   1 +
 4 files changed, 53 insertions(+), 53 deletions(-)

commit 452cfff847b2ed8793ba79ffd6362a7419bf2fec
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Tue Mar 5 10:45:21 2019 -0800

    PHOENIX-5175 Separate client settings for disabling server side mutations for upserts and deletes

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 32 +++++++----
 .../phoenix/end2end/IndexBuildTimestampIT.java     |  3 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 15 +++--
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 65 ++++++++++++++--------
 .../org/apache/phoenix/compile/DeleteCompiler.java |  4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  4 +-
 .../org/apache/phoenix/query/QueryServices.java    |  3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  3 +-
 8 files changed, 84 insertions(+), 45 deletions(-)

commit afb191d16f6a155162c1a76d5ec20d5a48ba457e
Author: Jacob Isaac <jacobpisaac18@gmail.com>
Date:   Wed Feb 27 14:11:55 2019 -0800

    PHOENIX-5122: PHOENIX-4322 breaks client backward compatibility
    
    Signed-off-by: Chinmay Kulkarni <chinmayskulkarni@gmail.com>

 .../expression/RowValueConstructorExpression.java  | 53 +++++++++++++++++++---
 1 file changed, 47 insertions(+), 6 deletions(-)

commit 7dad115b1dcf7581905575cb7d858dc645a61e83
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Mon Mar 4 22:24:36 2019 -0800

    PHOENIX-4929 IndexOutOfBoundsException when casting timestamp to date

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 28 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java | 13 ++++++----
 .../apache/phoenix/compile/QueryCompilerTest.java  |  7 ++++++
 3 files changed, 44 insertions(+), 4 deletions(-)

commit 222ac02033f90b0afcab4304479e41373ae34483
Author: karanmehta93 <karanmehta93@gmail.com>
Date:   Tue Mar 5 17:17:59 2019 -0800

    PHOENIX-5063 Create a new repo for the phoenix query server (#454)
    
    Removed phoenix-load-balancer module

 phoenix-assembly/pom.xml                           |  12 --
 phoenix-load-balancer/pom.xml                      |  86 ----------
 .../phoenix/end2end/LoadBalancerEnd2EndIT.java     | 144 -----------------
 .../service/LoadBalanceZookeeperConfImpl.java      | 103 ------------
 .../phoenix/loadbalancer/service/LoadBalancer.java | 178 ---------------------
 .../queryserver/register/ZookeeperRegistry.java    |  72 ---------
 ...x.loadbalancer.service.LoadBalanceZookeeperConf |   1 -
 ...rg.apache.phoenix.queryserver.register.Registry |   1 -
 pom.xml                                            |   6 -
 9 files changed, 603 deletions(-)

commit d93babde0dd6b0285e6d257e5c12825ce4f34734
Author: karanmehta93 <karanmehta93@gmail.com>
Date:   Tue Mar 5 14:33:35 2019 -0800

    PHOENIX-5063 Create a new repo for the phoenix query server (#422)
    
    Corresponding PR in phoenix-queryserver project has been committed:
    https://github.com/apache/phoenix-queryserver/pull/2

 phoenix-queryserver-client/pom.xml                 | 203 -------
 .../apache/phoenix/queryserver/client/Driver.java  |  49 --
 .../phoenix/queryserver/client/SqllineWrapper.java |  97 ----
 .../phoenix/queryserver/client/ThinClientUtil.java |  42 --
 .../resources/META-INF/services/java.sql.Driver    |   1 -
 .../org-apache-phoenix-remote-jdbc.properties      |  25 -
 phoenix-queryserver/pom.xml                        | 225 --------
 .../src/build/query-server-runnable.xml            |  52 --
 phoenix-queryserver/src/it/bin/test_phoenixdb.py   |  39 --
 phoenix-queryserver/src/it/bin/test_phoenixdb.sh   |  79 ---
 .../HttpParamImpersonationQueryServerIT.java       | 438 ---------------
 .../phoenix/end2end/QueryServerBasicsIT.java       | 346 ------------
 .../phoenix/end2end/QueryServerTestUtil.java       | 187 -------
 .../apache/phoenix/end2end/QueryServerThread.java  |  45 --
 .../phoenix/end2end/SecureQueryServerIT.java       | 323 -----------
 .../end2end/SecureQueryServerPhoenixDBIT.java      | 424 --------------
 .../phoenix/end2end/ServerCustomizersIT.java       | 149 -----
 .../src/it/resources/log4j.properties              |  68 ---
 .../service/LoadBalanceZookeeperConf.java          |  42 --
 .../phoenix/queryserver/register/Registry.java     |  48 --
 .../server/AvaticaServerConfigurationFactory.java  |  37 --
 .../queryserver/server/PhoenixMetaFactory.java     |  28 -
 .../queryserver/server/PhoenixMetaFactoryImpl.java |  76 ---
 .../phoenix/queryserver/server/QueryServer.java    | 606 ---------------------
 .../server/RemoteUserExtractorFactory.java         |  36 --
 .../server/ServerCustomizersFactory.java           |  52 --
 .../org/apache/phoenix/DriverCohabitationTest.java |  65 ---
 .../CustomAvaticaServerConfigurationTest.java      |  37 --
 .../server/PhoenixDoAsCallbackTest.java            |  89 ---
 .../server/PhoenixRemoteUserExtractorTest.java     | 108 ----
 .../server/QueryServerConfigurationTest.java       |  92 ----
 .../server/RemoteUserExtractorFactoryTest.java     |  35 --
 .../queryserver/server/ServerCustomizersTest.java  |  92 ----
 pom.xml                                            |   2 -
 34 files changed, 4237 deletions(-)

commit 6d13f5b70944f581a1b20a8ef48df0b84a6f2b6f
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Wed Feb 27 23:33:23 2019 -0800

    PHOENIX-4345 Error message for incorrect index is not accurate
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../apache/phoenix/end2end/index/IndexUsageIT.java | 40 ++++++++++++++++++++
 .../org/apache/phoenix/compile/FromCompiler.java   | 12 +++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  7 ++++
 .../phoenix/schema/IndexNotFoundException.java     | 43 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 +++-
 .../phoenix/schema/TableNotFoundException.java     |  4 ++
 6 files changed, 111 insertions(+), 2 deletions(-)

commit 29b6c9b1c9bf4ee4e31e31f1e618d1d8a3d351dc
Author: Xinyi Yan <xyan@salesforce.com>
Date:   Fri Feb 8 16:05:55 2019 -0800

    PHOENIX-2265 Disallow creation of view over HBase table if PK not specified
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 51 +++++++++++++++++++++-
 .../phoenix/compile/CreateTableCompiler.java       | 17 ++++++++
 2 files changed, 67 insertions(+), 1 deletion(-)

commit d4f057890e6a2cbbe5797003120ce069f0f5f201
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Mar 1 14:24:10 2019 -0800

    PHOENIX-5141 Use HBaseFactoryProvider.getConfigurationFactory (addendum)

 .../main/scala/org/apache/phoenix/spark/DataFrameFunctions.scala    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 351db9aa5e1158e12f920db5c618ba644dee8892
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Feb 28 17:14:29 2019 -0800

    PHOENIX-5141 Use HBaseFactoryProvider.getConfigurationFactory (addendum)

 .../src/main/scala/org/apache/phoenix/spark/DataFrameFunctions.scala    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8be7602f954c352d255601a54a36e58b0b0f08c1
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Feb 28 16:52:36 2019 -0800

    PHOENIX-5141 Use HBaseFactoryProvider.getConfigurationFactory to get the config in PhoenixRDD (addendum)

 .../main/scala/org/apache/phoenix/spark/ConfigurationUtil.scala   | 7 +++++--
 .../main/scala/org/apache/phoenix/spark/DataFrameFunctions.scala  | 8 ++++----
 2 files changed, 9 insertions(+), 6 deletions(-)

commit af9ae1933b48b00e7ff9c4d8417678338ce4a18b
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Thu Feb 28 15:47:42 2019 -0800

    PHOENIX-374: Enable access to dynamic columns in * or cf.* selection (Addendum)

 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 52e24fce2d8d335cb261891927e7b0704c0c5256
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Feb 15 14:07:01 2019 -0800

    PHOENIX-5089 Add tenantId parameter to IndexScrunityTool
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 1398 +++++++++++---------
 .../mapreduce/index/IndexScrutinyMapper.java       |    2 +
 .../mapreduce/index/IndexScrutinyTableOutput.java  |    1 +
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |   61 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |    5 +-
 .../phoenix/mapreduce/util/IndexColumnNames.java   |    3 +
 6 files changed, 820 insertions(+), 650 deletions(-)

commit 122ea979da2539308efaa78a92c4939b94e415bb
Author: Yonatan Gottesman <yonigo10@gmail.com>
Date:   Tue Jan 22 10:28:44 2019 +0200

    PHOENIX-3623 Integrate Omid with Phoenix. Fix omid hbase2 dependencies

 phoenix-assembly/pom.xml                           |  49 ++++++++++
 .../build/components/all-common-dependencies.xml   |   9 ++
 phoenix-core/pom.xml                               | 107 +++++++++++++++++++++
 .../phoenix/coprocessor/OmidGCProcessor.java       |  27 +++++-
 .../coprocessor/OmidTransactionalProcessor.java    |  18 +++-
 phoenix-server/pom.xml                             |   5 +
 pom.xml                                            |  46 +++++++++
 7 files changed, 258 insertions(+), 3 deletions(-)

commit f9908c80ed8d986325867b44adf119f2d26ff783
Author: Kadir <kozdemir@salesforce.com>
Date:   Tue Jan 29 17:14:02 2019 -0800

    PHOENIX-5018 Index mutations created by UPSERT SELECT will have wrong timestamps
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../phoenix/end2end/IndexBuildTimestampIT.java     | 248 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/IndexToolIT.java    |  36 +++
 .../phoenix/end2end/TableDDLPermissionsIT.java     |   9 -
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |   6 -
 .../phoenix/compile/ServerBuildIndexCompiler.java  | 138 ++++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |   3 +-
 .../phoenix/mapreduce/PhoenixInputFormat.java      |   4 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   4 +-
 .../PhoenixServerBuildIndexInputFormat.java        | 111 +++++++++
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 241 +++++++++++---------
 .../index/PhoenixServerBuildIndexMapper.java       |  75 +++++++
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  25 +++
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  27 +++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  16 +-
 14 files changed, 817 insertions(+), 126 deletions(-)

commit f1a6081c23b22afb0534e560618f36ec9b486db6
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Feb 15 16:44:02 2019 -0800

    PHOENIX-5141 Use HBaseFactoryProvider.getConfigurationFactory to get the config in PhoenixRDD

 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala         | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 5f56a4b993435f6b127d0c561d4a6c458f263e46
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Feb 14 18:45:12 2019 -0800

    PHOENIX-5124 Add config to enable PropertyPolicyProvider (addendum)

 .../org/apache/phoenix/mapreduce/util/PhoenixConfigurationUtil.java | 6 ++++++
 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala        | 1 +
 2 files changed, 7 insertions(+)

commit f65e570089a4a797009a82d748ffe97284b22a0f
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Feb 14 16:14:18 2019 -0800

    PHOENIX-5124 Add config to enable PropertyPolicyProvider

 .../phoenix/end2end/PropertyPolicyProviderIT.java  | 26 ----------------------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  7 ++++--
 .../org/apache/phoenix/query/QueryServices.java    |  2 ++
 .../apache/phoenix/query/QueryServicesOptions.java |  2 ++
 .../org/apache/phoenix/util/PropertiesUtil.java    | 26 ----------------------
 .../phoenix/query/PropertyPolicyProviderTest.java  | 10 +++++++++
 6 files changed, 19 insertions(+), 54 deletions(-)

commit 207263f7f0e45ebea02f2f12bec1f7293ad737c5
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Mon Feb 11 16:23:13 2019 -0800

    PHOENIX-5132 - View indexes with different owners but of the same base table can be assigned same ViewIndexId

 .../end2end/BaseTenantSpecificViewIndexIT.java     | 19 +++---
 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 20 ++++---
 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 67 +++++++++++++++++++++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 20 +++++--
 4 files changed, 102 insertions(+), 24 deletions(-)

commit 982b09adb43e8f837b5e6a2cd23921ec08e33065
Author: Bin <bshi@salesforce.com>
Date:   Sun Oct 28 12:21:27 2018 -0700

    PHOENIX-5069 Use asynchronous refresh to provide non-blocking Phoenix Stats Client Cache
    
    Signed-off-by: Bin <bshi@salesforce.com>

 .../org/apache/phoenix/query/GuidePostsCache.java  |  86 ++++++++----
 .../phoenix/query/PhoenixStatsCacheLoader.java     |  90 ++++++++++++
 .../apache/phoenix/query/PhoenixStatsLoader.java   |  57 ++++++++
 .../org/apache/phoenix/query/QueryServices.java    |   4 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   7 +
 .../phoenix/schema/stats/GuidePostsInfo.java       |   6 +-
 .../phoenix/query/PhoenixStatsCacheLoaderTest.java | 156 +++++++++++++++++++++
 7 files changed, 377 insertions(+), 29 deletions(-)

commit 20bc74145762d2b19e80b609bec901489accd5cb
Author: Josh Elser <elserj@apache.org>
Date:   Fri Feb 8 11:13:01 2019 -0500

    PHOENIX-5128 Add ability to skip header in CsvBulkLoadTool

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 33 ++++++++
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |  9 +-
 .../phoenix/mapreduce/PhoenixTextInputFormat.java  | 97 ++++++++++++++++++++++
 3 files changed, 137 insertions(+), 2 deletions(-)

commit 0d44f7625a7958d58fa596bdd0da67ff501da84c
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Fri Feb 8 14:42:43 2019 -0800

    PHOENIX-4940 - Addendum for IndexToolIT test failure
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 23 ++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit 08c4496addd6417f6d3c3965fd3114f791e9fd44
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Wed Feb 6 05:28:53 2019 -0800

    PHOENIX-5125 Some tests fail after PHOENIX-4009

 .../java/org/apache/phoenix/end2end/SpillableGroupByIT.java   | 11 ++++++++++-
 .../org/apache/phoenix/schema/stats/NoOpStatsCollectorIT.java |  4 ++++
 2 files changed, 14 insertions(+), 1 deletion(-)

commit b4d27456a271054fb7e56e61b53aa78a222b31f4
Author: Abhishek Singh Chouhan <abhishekchouhan121@gmail.com>
Date:   Thu Feb 7 13:51:15 2019 -0800

    PHOENIX-5126 RegionScanner leak leading to store files not getting cleared

 .../phoenix/hbase/index/covered/data/LocalTable.java      | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit b5fb4c47d4a7ef52a669f46f8606fdcd0f795214
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Feb 7 18:15:12 2019 -0800

    PHOENIX-5124 PropertyPolicyProvider should not evaluate default hbase config properties (addendum)

 .../src/main/java/org/apache/phoenix/util/PropertiesUtil.java    | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit d17f943b882afbc7b0b7ee7e252d324ed4de462c
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Feb 4 23:17:37 2019 -0800

    PHOENIX-5124 PropertyPolicyProvider should not evaluate default hbase config properties

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |  2 +-
 .../phoenix/end2end/PropertyPolicyProviderIT.java  | 26 ++++++++++++++++++++
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  7 ++----
 .../org/apache/phoenix/util/PropertiesUtil.java    | 28 +++++++++++++++++++++-
 6 files changed, 58 insertions(+), 9 deletions(-)

commit 1bb43138e47d8c5a72e12c21941b63908fa5069a
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Thu Jan 31 11:04:03 2019 -0800

    PHOENIX-4940 Add tenantId parameter to index tool
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 112 +++++++++++++++++++--
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  44 +++++---
 2 files changed, 138 insertions(+), 18 deletions(-)

commit db1a07602732e0273d836ef940b03fa196ee7543
Author: Aman Poonia <aman.poonia.29@gmail.com>
Date:   Tue Feb 5 05:53:26 2019 +0530

    PHOENIX-5121 Move unnecessary sorting and fetching out of loop

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 56 +++++++++++-----------
 1 file changed, 28 insertions(+), 28 deletions(-)

commit 4a8a4bc18475ff3f69b7e1ebbf6653962c7caf9b
Author: Gokcen Iskender <giskender@salesforce.com>
Date:   Mon Jan 28 13:16:44 2019 -0800

    PHOENIX-5111: Null Pointer exception fix in index tool due to outputpath being null when direct option is supplied
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../java/org/apache/phoenix/mapreduce/index/IndexTool.java | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 4a911a8fde10c52da54321c328c5e594c996ccee
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Feb 6 13:27:26 2019 -0800

    PHOENIX-5123 Avoid using MappedByteBuffers for server side GROUP BY.

 .../apache/phoenix/cache/aggcache/SpillFile.java   | 78 +++++++++---------
 .../apache/phoenix/cache/aggcache/SpillMap.java    | 94 ++++++++++++----------
 2 files changed, 88 insertions(+), 84 deletions(-)

commit 77ea6eac02dc8a23ccea06713d64932b6affa415
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Mon Jan 21 22:00:06 2019 -0800

    PHOENIX-374: Enable access to dynamic columns in * or cf.* selection

 .../phoenix/end2end/DynamicColumnWildcardIT.java   | 521 ++++++++++++++
 .../apache/phoenix/compile/ProjectionCompiler.java |  43 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  30 +-
 .../org/apache/phoenix/compile/RowProjector.java   |  30 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   1 -
 .../org/apache/phoenix/compile/UpsertCompiler.java |   1 -
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   6 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    | 118 +++-
 .../generated/DynamicColumnMetaDataProtos.java     | 774 +++++++++++++++++++++
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   2 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |   4 +-
 .../org/apache/phoenix/execute/MutationState.java  |  11 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   5 +-
 .../org/apache/phoenix/execute/TupleProjector.java | 160 ++++-
 .../expression/ProjectedColumnExpression.java      |   4 +
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |   4 +-
 .../phoenix/iterate/BaseResultIterators.java       |   8 +-
 .../phoenix/iterate/RegionScannerFactory.java      |  86 ++-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  | 252 ++++++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../main/java/org/apache/phoenix/schema/PRow.java  |  27 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  64 +-
 .../org/apache/phoenix/schema/tuple/BaseTuple.java |   5 +
 .../apache/phoenix/schema/tuple/DelegateTuple.java |   5 +
 .../org/apache/phoenix/schema/tuple/Tuple.java     |  12 +-
 .../apache/phoenix/util/EncodedColumnsUtil.java    |   4 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   6 +-
 .../src/main/DynamicColumnMetaData.proto           |  29 +
 33 files changed, 2116 insertions(+), 109 deletions(-)

commit d9d30b15a8d944f7fce275dbfb8ee72e9cb51b52
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Feb 5 00:16:50 2019 -0800

    PHOENIX-5120; use readFully instead of read.

 .../src/main/java/org/apache/phoenix/execute/SortMergeJoinPlan.java   | 2 +-
 .../src/main/java/org/apache/phoenix/iterate/BufferedSortedQueue.java | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4f396c605e934f13a8265249c280e439f4e924e0
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Feb 4 20:38:02 2019 -0800

    PHOENIX-5120 Avoid using MappedByteBuffers for server side sorting.

 .../phoenix/end2end/OrderByWithSpillingIT.java     |  36 ++++++
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  46 ++++----
 ...ppedByteBufferQueue.java => BufferedQueue.java} | 127 ++++++++-------------
 ...erSortedQueue.java => BufferedSortedQueue.java} |  55 ++++-----
 .../phoenix/iterate/OrderedResultIterator.java     |   2 +-
 5 files changed, 136 insertions(+), 130 deletions(-)

commit 3cb1d322b9fe256f2c6bd3c060b9df43f2485721
Author: chenglei <chenglei@apache.org>
Date:   Tue Feb 5 10:32:39 2019 +0800

    PHOENIX-5105 Push Filter through Sort for SortMergeJoin

 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 109 +++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |  21 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   6 +-
 .../apache/phoenix/compile/SubselectRewriter.java  | 357 ++++++++++++---------
 .../org/apache/phoenix/parse/DerivedTableNode.java |   1 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 218 +++++++++++++
 6 files changed, 549 insertions(+), 163 deletions(-)

commit 2ace9051c3d01dc599ba6b1a362ec7f84500efa5
Author: Monani Mihir <monani.mihir@gmail.com>
Date:   Wed Jan 30 00:43:32 2019 +0530

    PHOENIX-5080 Index becomes Active during Partial Index Rebuilder if Index Failure happens

 .../end2end/index/PartialIndexRebuilderIT.java     | 63 ++++++++++++++++++++++
 .../coprocessor/BaseScannerRegionObserver.java     |  9 +++-
 .../UngroupedAggregateRegionObserver.java          | 25 +++++++--
 .../org/apache/phoenix/execute/MutationState.java  | 14 ++++-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 11 +---
 .../hbase/index/builder/IndexBuildManager.java     |  8 +++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 32 +++++++++--
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  3 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 25 +++++++++
 9 files changed, 169 insertions(+), 21 deletions(-)

commit 52b5d9d5f8d1f41218956bb6099a3d7eaf50939a
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Fri Feb 1 17:17:26 2019 +0530

    PHOENIX-5094 increment pending disable count for index when rebuild starts

 .../index/IndexRebuildIncrementDisableCountIT.java | 237 +++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../coprocessor/MetaDataRegionObserver.java        |  22 ++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  21 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  32 ++-
 5 files changed, 294 insertions(+), 24 deletions(-)

commit bc88c69426086a546ebf654fde0bc5c925a904f0
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Fri Feb 1 14:05:03 2019 +0530

    PHOENIX-4993 (addendum) Fix test timeout issue

 .../apache/phoenix/util/CoprocessorHConnectionTableFactoryTest.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 03eabebb12a317be201cdd8a2e5984420d755b15
Author: karanmehta93 <karanmehta93@gmail.com>
Date:   Mon Jan 28 11:45:04 2019 -0800

    PHOENIX-5091 Add new features to UpdateStatisticsTool (#430)

 .../phoenix/schema/stats/BaseStatsCollectorIT.java |  55 +++++---
 .../org/apache/phoenix/query/GuidePostsCache.java  |   1 -
 .../phoenix/schema/stats/UpdateStatisticsTool.java | 140 ++++++++++++++++-----
 .../schema/stats/UpdateStatisticsToolTest.java     |  93 ++++++++++++++
 4 files changed, 239 insertions(+), 50 deletions(-)

commit 8a0eb3e5e62e168581c8c0732519c1f0d8027121
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jan 31 09:47:36 2019 -0800

    PHOENIX-5116 DistinctPrefixFilterIT fails.

 .../src/main/java/org/apache/phoenix/compile/ScanRanges.java     | 9 ++++++++-
 .../main/java/org/apache/phoenix/optimize/QueryOptimizer.java    | 4 ++--
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 3a4a727b6d07dada726fc75d3061a15b93ae9789
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jan 30 15:38:43 2019 -0800

    PHOENIX-5106 Avoid getting an explain plan for each query (even without tracing).

 .../main/java/org/apache/phoenix/execute/BaseQueryPlan.java    | 10 ++++++----
 .../src/main/java/org/apache/phoenix/trace/util/Tracing.java   |  7 +++++++
 2 files changed, 13 insertions(+), 4 deletions(-)

commit aa834a060ce9330e77ca81ad26f6a1aa74ff1427
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Tue Jan 29 15:57:03 2019 +0530

    PHOENIX-4993 added test to check cached connections are not closed when region closes

 .../java/org/apache/phoenix/util/ServerUtil.java   |   5 +
 .../CoprocessorHConnectionTableFactoryTest.java    | 111 +++++++++++++++++++++
 2 files changed, 116 insertions(+)

commit bcbcfd817436921de6c69af4cb9a10ce1adc51ac
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Wed Jan 30 14:08:54 2019 -0800

    PHOENIX-4009 Run UPDATE STATISTICS command by using MR integration on snapshots

 phoenix-core/pom.xml                               |   8 +
 ...olumnEncodedImmutableNonTxStatsCollectorIT.java |  39 ---
 .../ColumnEncodedImmutableTxStatsCollectorIT.java  |  42 ---
 .../ColumnEncodedMutableTxStatsCollectorIT.java    |  41 ---
 ...onColumnEncodedImmutableTxStatsCollectorIT.java |  42 ---
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |  16 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |   2 +-
 ...sCollectorIT.java => BaseStatsCollectorIT.java} | 243 +++++++-------
 .../stats/NamespaceDisabledStatsCollectorIT.java}  |  28 +-
 .../stats/NamespaceEnabledStatsCollectorIT.java}   |  47 ++-
 .../phoenix/schema/stats/NoOpStatsCollectorIT.java | 143 +++++++++
 .../stats/NonTxStatsCollectorIT.java}              |  26 +-
 .../phoenix/schema/stats/TxStatsCollectorIT.java   |  51 +++
 .../UngroupedAggregateRegionObserver.java          |  67 ++--
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../apache/phoenix/iterate/SnapshotScanner.java    |  54 +++-
 .../iterate/TableSnapshotResultIterator.java       |  21 +-
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  50 +--
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   5 +-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  40 ++-
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  13 +-
 .../org/apache/phoenix/query/GuidePostsCache.java  |   4 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |  16 +-
 .../schema/stats/DefaultStatisticsCollector.java   | 355 +++++++++++----------
 .../schema/stats/NoOpStatisticsCollector.java      |  24 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |  25 +-
 .../schema/stats/StatisticsCollectorFactory.java   |  19 +-
 .../phoenix/schema/stats/StatisticsScanner.java    |   3 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  23 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |  60 +++-
 .../StatsCollectionDisabledOnServerException.java  |  33 ++
 .../phoenix/schema/stats/UpdateStatisticsTool.java | 223 +++++++++++++
 .../java/org/apache/phoenix/util/ServerUtil.java   |   3 +-
 .../util/PhoenixConfigurationUtilTest.java         |  17 +
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |   4 +-
 pom.xml                                            |  10 +
 37 files changed, 1165 insertions(+), 637 deletions(-)

commit 77fdcc2845d56fa3b39e5a6bdd4d5d058a5aa977
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Jan 28 17:05:09 2019 -0800

    Revert "PHOENIX-4993 added test to check cached connections are not closed when region closes"
    
    This reverts commit 1455763b43cc71bff9e69daf928be59251e97235.

 .../CoprocessorHConnectionTableFactoryTest.java    | 114 ---------------------
 .../java/org/apache/phoenix/util/ServerUtil.java   |   5 -
 2 files changed, 119 deletions(-)

commit 1455763b43cc71bff9e69daf928be59251e97235
Author: Kiran Kumar Maturi <maturi.kiran@gmail.com>
Date:   Mon Jan 28 14:59:57 2019 +0530

    PHOENIX-4993 added test to check cached connections are not closed when region closes

 .../CoprocessorHConnectionTableFactoryTest.java    | 114 +++++++++++++++++++++
 .../java/org/apache/phoenix/util/ServerUtil.java   |   5 +
 2 files changed, 119 insertions(+)

commit 573ec9f73a86d236a6e69a2bac23f177a29f3c44
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jan 27 18:46:44 2019 -0800

    PHOENIX-5109; 2nd addendum, test fixes.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 29 ++++++++++++++++++++++
 .../phoenix/end2end/index/MutableIndexIT.java      |  7 +++---
 .../apache/phoenix/optimize/QueryOptimizer.java    |  9 +++++--
 3 files changed, 39 insertions(+), 6 deletions(-)

commit 341dde7ed2433c39fbb01722d909f446717fdc17
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jan 25 19:25:26 2019 -0800

    PHOENIX-5109; addendum, more tests, and test fixes.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 57 +++++++++++++++++++++-
 .../phoenix/end2end/index/MutableIndexIT.java      |  5 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    | 16 ++++--
 3 files changed, 71 insertions(+), 7 deletions(-)

commit 1fcc887faac1aaa45c69b70b084a51ef7b8c5df6
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jan 24 21:58:49 2019 -0800

    PHOENIX-5109 Allow local indexes to work for queries with uncovered columns.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 122 +++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereCompiler.java  |  11 --
 .../apache/phoenix/optimize/QueryOptimizer.java    |  11 +-
 3 files changed, 129 insertions(+), 15 deletions(-)

commit c8686ce73093b879bbda5f08f3e7933a9708e110
Author: Yonatan Gottesman <yonigo10@gmail.com>
Date:   Sun Jan 13 13:52:18 2019 +0200

    PHOENIX-3623 Integrate Omid with Phoenix (addendum)

 phoenix-core/pom.xml                               | 11 +++++++++++
 .../hbase/coprocessor/BaseRegionObserver.java      | 22 ----------------------
 .../coprocessor/OmidTransactionalProcessor.java    | 11 ++++++++++-
 .../phoenix/transaction/OmidTransactionTable.java  |  4 +++-
 4 files changed, 24 insertions(+), 24 deletions(-)

commit ebb3429859af333e36afdc8dc172017bd03e7818
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Jan 15 16:56:15 2019 -0800

    PHOENIX-5102 Filtering on DATE types throws an exception using the spark connector

 .../src/it/scala/org/apache/phoenix/spark/PhoenixSparkIT.scala   | 6 +++++-
 .../org/apache/phoenix/spark/FilterExpressionCompiler.scala      | 9 +++++++++
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 261e010bc4f699dd2fbf5d44953372291c75e10c
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Jan 14 14:14:31 2019 -0800

    PHOENIX-5100 Add test to verify IndexTool can build global view indexes

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 102 +++++++++++++--------
 1 file changed, 62 insertions(+), 40 deletions(-)

commit 3bd426f10337b6e109ab7394bd4a4023039fd0e8
Author: kiran.maturi <maturi.kiran@gmail.com>
Date:   Wed Jan 9 11:36:26 2019 +0530

    modify index state based on client version to support old clients

 .../index/InvalidIndexStateClientSideIT.java       | 144 +++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  41 ++++--
 2 files changed, 174 insertions(+), 11 deletions(-)

commit 7d6d8e4cccc78b54448b88ede3f80ae245f627cb
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Jan 9 17:08:19 2019 -0800

    PHOENIX-5059 Use the Datasource v2 api in the spark connector (addendum)

 .../phoenix/spark/datasource/v2/reader/PhoenixDataSourceReader.java    | 2 +-
 .../spark/datasource/v2/reader/PhoenixInputPartitionReader.java        | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 583cdd3e27b80f16ac758f2b0d53d8814a19bdc2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Dec 11 14:59:39 2018 -0800

    PHOENIX-5059 Use the Datasource v2 api in the spark connector

 .../phoenix/end2end/salted/BaseSaltedTableIT.java  |   6 +-
 phoenix-spark/pom.xml                              |   8 +
 .../java/org/apache/phoenix/spark/OrderByIT.java   |  92 ++--
 .../java/org/apache/phoenix/spark/SparkUtil.java   |  25 +-
 phoenix-spark/src/it/resources/globalSetup.sql     |   6 +-
 .../phoenix/spark/AbstractPhoenixSparkIT.scala     |  12 +-
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 541 +++++++++++----------
 .../spark/PhoenixSparkITTenantSpecific.scala       |  18 +-
 .../spark/datasource/v2/PhoenixDataSource.java     |  82 ++++
 .../v2/reader/PhoenixDataSourceReadOptions.java    |  51 ++
 .../v2/reader/PhoenixDataSourceReader.java         | 201 ++++++++
 .../v2/reader/PhoenixInputPartition.java           |  44 ++
 .../v2/reader/PhoenixInputPartitionReader.java     | 168 +++++++
 .../v2/writer/PhoenixDataSourceWriteOptions.java   | 109 +++++
 .../datasource/v2/writer/PhoenixDataWriter.java    | 100 ++++
 .../v2/writer/PhoenixDataWriterFactory.java        |  19 +
 .../v2/writer/PhoenixDatasourceWriter.java         |  34 ++
 ...org.apache.spark.sql.sources.DataSourceRegister |   1 +
 .../apache/phoenix/spark/ConfigurationUtil.scala   |   1 +
 .../apache/phoenix/spark/DataFrameFunctions.scala  |   2 +-
 .../org/apache/phoenix/spark/DefaultSource.scala   |   1 +
 .../phoenix/spark/FilterExpressionCompiler.scala   | 126 +++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |  61 +--
 .../phoenix/spark/PhoenixRecordWritable.scala      |   2 +-
 .../org/apache/phoenix/spark/PhoenixRelation.scala |  70 +--
 .../apache/phoenix/spark/ProductRDDFunctions.scala |   1 +
 .../phoenix/spark/SparkContextFunctions.scala      |   1 +
 .../org/apache/phoenix/spark/SparkSchemaUtil.scala |  84 ++++
 .../phoenix/spark/SparkSqlContextFunctions.scala   |   1 +
 .../datasources/jdbc/PhoenixJdbcDialect.scala      |  21 +
 .../execution/datasources/jdbc/SparkJdbcUtil.scala | 309 ++++++++++++
 pom.xml                                            |   2 +-
 32 files changed, 1729 insertions(+), 470 deletions(-)

commit 52a89f05f5e8a131fdf3ac990d7cfe29cc204711
Author: jaanai <jaanai@apache.org>
Date:   Sat Jan 5 22:20:12 2019 +0800

    PHOENIX-5055 Split mutations batches probably affects correctness of index data

 .../apache/phoenix/end2end/MutationStateIT.java    | 46 +++++++++++++++++++++-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  8 ++--
 .../org/apache/phoenix/execute/MutationState.java  | 43 +++++++++++++++-----
 .../apache/phoenix/execute/MutationStateTest.java  | 40 +++++++++++++++++++
 4 files changed, 122 insertions(+), 15 deletions(-)

commit e6e043b06d2af5a44ad61de02f2d0a491289f16d
Author: chenglei <chenglei@apache.org>
Date:   Sat Jan 5 09:43:51 2019 +0800

    PHOENIX-4820 Optimize OrderBy for ClientAggregatePlan

 .../org/apache/phoenix/end2end/AggregateIT.java    | 104 +++++++
 .../apache/phoenix/compile/GroupByCompiler.java    |   8 +-
 .../apache/phoenix/compile/OrderByCompiler.java    |  18 +-
 .../phoenix/compile/OrderPreservingTracker.java    |  53 ++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  12 +-
 .../org/apache/phoenix/compile/RowProjector.java   |  15 +-
 .../phoenix/expression/BaseCompoundExpression.java |  11 +-
 .../apache/phoenix/expression/BaseExpression.java  |  11 +
 .../phoenix/expression/BaseSingleExpression.java   |   5 +
 .../phoenix/expression/DelegateExpression.java     |   5 +
 .../org/apache/phoenix/expression/Expression.java  |   6 +
 .../expression/ProjectedColumnExpression.java      |   8 +-
 .../expression/function/RandomFunction.java        |   5 +
 .../expression/visitor/CloneExpressionVisitor.java |   6 +-
 .../CloneNonDeterministicExpressionVisitor.java    |  31 --
 .../org/apache/phoenix/util/ExpressionUtil.java    | 160 +++++++++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 324 +++++++++++++++++++++
 .../expression/ArithmeticOperationTest.java        |   8 +-
 18 files changed, 705 insertions(+), 85 deletions(-)

commit 3671097af252fd15f6481f4b2e7090b10cd0ff14
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Jan 2 00:59:10 2019 -0800

    PHOENIX-5084 Changes from Transactional Tables are not visible to query in different client.

 .../org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java     | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 57509506dd64f67265473ac9daa30d9756e211d6
Author: Kadir <kozdemir@salesforce.com>
Date:   Thu Dec 20 11:38:44 2018 -0800

    PHOENIX-5074 DropTableWithViewsIT.testDropTableWithChildViews is flapping

 .../phoenix/end2end/DropTableWithViewsIT.java      | 56 ++++++++++++----------
 1 file changed, 30 insertions(+), 26 deletions(-)

commit 412e078915c6a0a4c0b8f86a1ae7f22520f41824
Author: Ohad Shacham <ohads@yahoo-inc.com>
Date:   Thu Dec 20 13:53:09 2018 +0200

    [PHOENIX-3623] Integrate Omid with Phoenix.
    
    This commit finishes the integration of Omid as Phoenix transaction processor engine.
    More information regarding the integration exists at [PHOENIX-3623] and at [OMID-82], which is the corresponding jira in Omid.

 bin/omid-env.sh                                    |  43 ++++
 bin/omid-server-configuration.yml                  |  25 +++
 bin/omid.sh                                        |  93 +++++++++
 phoenix-assembly/pom.xml                           |   5 +
 .../build/components/all-common-dependencies.xml   |  28 +++
 phoenix-core/pom.xml                               |  46 +++++
 .../phoenix/coprocessor/OmidGCProcessor.java       |   6 +-
 .../coprocessor/OmidTransactionalProcessor.java    |   7 +-
 .../transaction/OmidTransactionContext.java        | 217 ++++++++++++++++++++-
 .../transaction/OmidTransactionProvider.java       | 106 +++++++++-
 .../phoenix/transaction/OmidTransactionTable.java  |  60 +++++-
 .../phoenix/transaction/TransactionFactory.java    |   5 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   1 -
 pom.xml                                            |   1 +
 14 files changed, 615 insertions(+), 28 deletions(-)

commit 85ab5d616bfefee9c23e70a29b6733861694af9f
Author: Monani Mihir <monani.mihir@gmail.com>
Date:   Wed Dec 19 22:46:39 2018 +0530

    PHOENIX-5070 NPE when upgrading Phoenix 4.13.0 to Phoenix 4.14.1 with hbase-1.x branch in secure setup

 .../java/org/apache/phoenix/coprocessor/PhoenixAccessController.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 69d2d76923ae7a070373431bb774188d3d6c5571
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Dec 12 17:53:38 2018 -0800

    PHOENIX-5025 Tool to clean up orphan views (addendum)

 .../apache/phoenix/end2end/OrphanViewToolIT.java   | 23 +++++++++++++--------
 .../apache/phoenix/mapreduce/OrphanViewTool.java   | 24 ++++++++++++----------
 2 files changed, 28 insertions(+), 19 deletions(-)

commit ad4467463a86c99ea5883d11543659737d5c16b7
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Dec 14 11:04:29 2018 -0500

    PHOENIX-4983: Added missing apache license header.

 .../org/apache/phoenix/end2end/UpsertWithSCNIT.java     | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 71946ed27cb17fd291b472cc2753092891a6abb5
Author: Monani Mihir <monani.mihir@gmail.com>
Date:   Fri Dec 14 18:15:55 2018 +0530

    PHOENIX-5048 Index Rebuilder does not handle INDEX_STATE timestamp check for all index
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../coprocessor/MetaDataRegionObserver.java        | 35 +++++++++++++---------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 1c042c25ed833945abe07958b82d5e9fb701ac89
Author: s.kadam <s.kadam@salesforce.com>
Date:   Mon Dec 10 14:40:17 2018 -0800

    PHOENIX-4983: Allow using a connection with a SCN set to write data to tables EXCEPT transactional tables or mutable tables with indexes or tables with ROW_TIMESTAMP column.

 .../apache/phoenix/end2end/UpsertWithSCNIT.java    | 139 +++++++++++++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |  23 +++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  13 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   2 +-
 4 files changed, 172 insertions(+), 5 deletions(-)

commit f0881a137c9b1a020d807f4d1651ca139ee1a7be
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Nov 12 22:24:10 2018 -0800

    PHOENIX-5025 Tool to clean up orphan views

 .../apache/phoenix/end2end/OrphanViewToolIT.java   | 472 +++++++++++
 .../apache/phoenix/mapreduce/OrphanViewTool.java   | 879 +++++++++++++++++++++
 2 files changed, 1351 insertions(+)

commit 466ea28be45ee9ec19fdfe25ebc6f069b2926a9c
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Fri Nov 30 11:08:14 2018 -0800

    PHOENIX-4763: Changing a base table property value should be reflected in child views (if the property wasn't changed)

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 117 +++++--
 .../end2end/ExplainPlanWithStatsEnabledIT.java     |   8 +-
 .../apache/phoenix/end2end/PropertiesInSyncIT.java |   6 +-
 .../IndexHalfStoreFileReaderGenerator.java         |   3 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   3 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |   3 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 139 ++++++--
 .../phoenix/coprocessor/MetaDataProtocol.java      |  32 +-
 .../coprocessor/generated/MetaDataProtos.java      | 356 ++++++++++-----------
 .../coprocessor/generated/PTableProtos.java        |  99 +++---
 .../coprocessor/generated/ServerCachingProtos.java | 122 +++----
 .../org/apache/phoenix/index/IndexMaintainer.java  |  16 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   2 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |  12 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  25 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  56 +++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  54 +++-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 143 +++++++--
 phoenix-protocol/src/main/MetaDataService.proto    |   4 +-
 phoenix-protocol/src/main/PTable.proto             |   2 +-
 .../src/main/ServerCachingService.proto            |   2 +-
 25 files changed, 779 insertions(+), 437 deletions(-)

commit 303fff09466bad5ab1e9aa0707c27d960fa5632d
Author: s.kadam <s.kadam@salesforce.com>
Date:   Fri Dec 7 15:35:45 2018 -0800

    PHOENIX-4832: Add Canary Test Tool for Phoenix Query Server.

 phoenix-core/pom.xml                               |   7 +
 .../org/apache/phoenix/tool/CanaryTestResult.java  |  86 ++++
 .../org/apache/phoenix/tool/PhoenixCanaryTool.java | 477 +++++++++++++++++++++
 .../resources/phoenix-canary-file-sink.properties  |  17 +
 .../apache/phoenix/tool/PhoenixCanaryToolTest.java | 140 ++++++
 5 files changed, 727 insertions(+)

commit aa276bfd2ef856f9da24c32710c616c9d195463b
Author: chfeng <chfeng@tencent.com>
Date:   Wed Dec 5 10:40:29 2018 +0800

    ScanningResultIterator metric RowsScanned not set. PHOENIX-5051

 .../main/java/org/apache/phoenix/iterate/ScanningResultIterator.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1ab08c72620962268d58d132a6b5bb3629b2656f
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Nov 30 17:55:34 2018 -0800

    PHOENIX-4781 Create artifact jar so that shaded jar replaces it properly

 phoenix-client/pom.xml | 9 +++------
 phoenix-server/pom.xml | 9 +++------
 2 files changed, 6 insertions(+), 12 deletions(-)

commit 52b563d70830454609ad416ee8dd271e37eeeb70
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Nov 30 16:25:49 2018 -0800

    Revert "PHOENIX-4781 Fix phoenix-client and phoenix-server jar naming convention"
    
    This reverts commit 17217faed59c45a8c4f181fe49d84e7b7ee240bb.

 bin/phoenix_utils.py   | 2 +-
 phoenix-client/pom.xml | 6 +++---
 phoenix-server/pom.xml | 6 +++---
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 27bf35bc9bb6d8e860d56e12847bb5d815a9f9ff
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Nov 30 16:25:42 2018 -0800

    Revert "PHOENIX-4781 Fix phoenix-client and phoenix-server jar naming convention (addendum)"
    
    This reverts commit e0dda836dc45b069804ec79f921f8c5022b22f9d.

 phoenix-client/pom.xml | 1 -
 phoenix-server/pom.xml | 1 -
 2 files changed, 2 deletions(-)

commit e0dda836dc45b069804ec79f921f8c5022b22f9d
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Nov 30 11:30:37 2018 -0800

    PHOENIX-4781 Fix phoenix-client and phoenix-server jar naming convention (addendum)

 phoenix-client/pom.xml | 1 +
 phoenix-server/pom.xml | 1 +
 2 files changed, 2 insertions(+)

commit 17217faed59c45a8c4f181fe49d84e7b7ee240bb
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Thu Nov 29 17:47:02 2018 -0800

    PHOENIX-4781 Fix phoenix-client and phoenix-server jar naming convention
    
    Co-authored-by: Karan Mehta <karanmehta93@apache.org>
    Co-authored-by: Vincent Poon <vincentpoon@apache.org>

 bin/phoenix_utils.py   | 2 +-
 phoenix-client/pom.xml | 6 +++---
 phoenix-server/pom.xml | 6 +++---
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 179eb5076db8dc88c97d92cbdba52c4b6c54c76c
Author: Artem Ervits <artemervits@gmail.com>
Date:   Wed Nov 28 11:39:29 2018 -0500

    PHOENIX-5037 Fix maven site reporting warnings on build
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-core/pom.xml  | 23 +++++++++++++----------
 phoenix-kafka/pom.xml | 22 ++++++++++++----------
 pom.xml               | 26 ++++++++++++++++----------
 3 files changed, 41 insertions(+), 30 deletions(-)

commit 7217568ead0e08fba07e65d2f4bf2f68f043ea44
Author: Artem Ervits <artemervits@gmail.com>
Date:   Wed Nov 28 11:11:18 2018 -0500

    PHOENIX-5038 Use a single version of Scala in phoenix-spark
    
    Signed-off-by: Josh Elser <elserj@apache.org>
    Signed-off-by: Thomas D'Silva <tdsilva@apache.org>

 phoenix-spark/pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 8cf6fd2a0499b135d42b2bf39926ca1141699508
Author: Artem Ervits <artemervits@gmail.com>
Date:   Wed Nov 28 11:00:20 2018 -0500

    PHOENIX-5036 Removes the duplicate junit dependency from phoenix-pherf
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-pherf/pom.xml | 5 -----
 1 file changed, 5 deletions(-)

commit 70d5cd9e348dcc31eeea93cc9452527666d9b6d2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Nov 27 13:46:19 2018 -0800

    PHOENIX-4765 Add client and server side config property to enable rollback of splittable System Catalog if required (addendum)

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 2 ++
 phoenix-core/src/main/java/org/apache/phoenix/query/QueryServices.java | 3 +++
 2 files changed, 5 insertions(+)

commit 0a84ad6c155b49530cf6eca9af6ed95b51ff96c2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Nov 20 12:10:05 2018 -0800

    PHOENIX-4765 Add client and server side config property to enable rollback of splittable System Catalog if required

 .../apache/phoenix/end2end/SystemCatalogIT.java    | 40 +++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 90 ++++++++++++++++------
 .../phoenix/coprocessor/MetaDataProtocol.java      |  5 +-
 .../org/apache/phoenix/query/QueryServices.java    | 17 ++++
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 26 ++++++-
 6 files changed, 146 insertions(+), 34 deletions(-)

commit 12c8f1b1f67e56cd4f3f2a0dde9035a5b72b9de9
Author: Jaanai <cloud.poster@gmail.com>
Date:   Fri Nov 23 21:16:20 2018 +0800

    PHOENIX-4971 Drop index will execute successfully using Incorrect name of parent tables

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 51 ++++++++++------------
 .../phoenix/end2end/index/DropMetadataIT.java      | 23 +++++++++-
 .../phoenix/end2end/index/IndexMetadataIT.java     |  5 ++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 16 +++++++
 6 files changed, 68 insertions(+), 31 deletions(-)

commit d821ea30c7842a78496647266b99d43468557046
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Nov 24 16:21:51 2018 -0800

    PHOENIX-5026; another test addendum.

 .../phoenix/end2end/UpsertSelectAutoCommitIT.java   | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit 6214c79f08ae5a106262fc8a1c644d3a4b34c7e2
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Nov 22 13:19:49 2018 -0800

    PHOENIX-5026 Addendum; test-fix.

 .../it/java/org/apache/phoenix/end2end/UpsertSelectAutoCommitIT.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 90e6036a2818eb1cb18e450782508b209814304f
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Nov 21 20:06:56 2018 -0800

    PHOENIX-5026 Add client setting to disable server side mutations.

 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  62 ++++++++++---
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  22 ++++-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 103 +++++++++++++++------
 .../org/apache/phoenix/compile/DeleteCompiler.java |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   6 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 7 files changed, 159 insertions(+), 46 deletions(-)

commit cfcf615d98c682df3b60aa7bd82c6706082bdac2
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Mon Nov 19 14:48:32 2018 -0800

    PHOENIX-5000 Make SecureUserConnectionsTest as Integration test (Addendum)

 .../src/it/java/org/apache/phoenix/jdbc/SecureUserConnectionsIT.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 956755fabddd335101221cb52cf4fd19c845d3e1
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 17 15:18:39 2018 -0800

    PHOENIX-5029 Increase parallelism of tests to decrease test time

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39b5fe99fb28add8def94f09dffc1507ff5abce1
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 17 15:13:59 2018 -0800

    PHOENIX-5028 Delay acquisition of port and increase Tephra test discovery timeouts

 .../end2end/ConnectionQueryServicesTestImpl.java        |  4 +++-
 .../phoenix/transaction/OmidTransactionProvider.java    |  2 +-
 .../phoenix/transaction/PhoenixTransactionProvider.java |  2 +-
 .../phoenix/transaction/TephraTransactionProvider.java  | 17 ++++++++++-------
 .../org/apache/phoenix/query/QueryServicesTestImpl.java |  3 ---
 5 files changed, 15 insertions(+), 13 deletions(-)

commit d128553c8014a68fe926f52bb3bfb62dd029ce15
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Fri Nov 16 13:57:45 2018 -0800

    PHOENIX-4955 - PhoenixIndexImportDirectMapper undercounts failed records

 .../mapreduce/index/PhoenixIndexImportDirectMapper.java       | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 7eb41b0b261ae6168c7d09585eb1754bca4fc98f
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Fri Nov 16 09:55:49 2018 -0800

    PHOENIX-5024 - Cleanup anonymous inner classes in PostDDLCompiler

 .../apache/phoenix/compile/PostDDLCompiler.java    | 478 +++++++++++----------
 1 file changed, 258 insertions(+), 220 deletions(-)

commit 9e7da9a176ab931ffe87fc4f47a908ee1ef31915
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Nov 15 12:33:26 2018 -0800

    PHOENIX-5013 Increase timeout for Tephra discovery service

 .../src/test/java/org/apache/phoenix/query/QueryServicesTestImpl.java    | 1 +
 1 file changed, 1 insertion(+)

commit 316014f9b79c3ef8ca1571cd224041e76af84845
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Nov 15 19:06:02 2018 -0800

    PHOENIX-5021 Remove SplitIT from the 4.x-HBase-1.4 and master branch

 .../java/org/apache/phoenix/end2end/SplitIT.java   | 248 ---------------------
 1 file changed, 248 deletions(-)

commit cd31ed5e8cef8ad8b6d20f7417974c47002f4297
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Tue Oct 30 12:40:00 2018 -0700

    PHOENIX-5000 Make SecureUserConnectionsTest as Integration test

 .../java/org/apache/phoenix/jdbc/SecureUserConnectionsIT.java}     | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 3690c6323e3690e8811c326dc7c57c641e79aef5
Author: Daniel Wong <daniel.wong@salesforce.com>
Date:   Tue Oct 9 16:38:11 2018 -0700

    PHOENIX-4841 staging patch commit.

 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 174 +++++++++++++++++++--
 .../org/apache/phoenix/compile/WhereOptimizer.java |  58 ++++++-
 .../phoenix/expression/ComparisonExpression.java   |  18 ++-
 .../RowValueConstructorExpressionRewriter.java     |  54 +++++++
 .../org/apache/phoenix/schema/RowKeySchema.java    |   4 +
 .../RowValueConstructorExpressionRewriterTest.java |  78 +++++++++
 6 files changed, 363 insertions(+), 23 deletions(-)

commit 6c286dbfe8f8e9c27def8c1d98cc22ab688e284e
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Fri Nov 9 19:22:57 2018 -0800

    PHOENIX-5008: CQSI.init should not bubble up RetriableUpgradeException to client in case of an UpgradeRequiredException

 .../SystemCatalogCreationOnConnectionIT.java       | 97 ++++++++++++++++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 2 files changed, 84 insertions(+), 17 deletions(-)

commit dfff4e8ca0dd8dd94b261508bd77c2ed74091f83
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Nov 13 15:42:19 2018 -0800

    PHOENIX-5017 Fix testRecreateViewWhoseParentWasDropped test flapper

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 4b4466f9bfdddac7c3e9c70b213da1a42ed2d93e
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Nov 13 11:36:26 2018 -0800

    PHOENIX-5010 Don't build client guidepost cache when phoenix.stats.collection.enabled is disabled

 .../java/org/apache/phoenix/query/GuidePostsCache.java | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit d9d8fd0c449553f3abc9a6e7cba917378ee12e8d
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 10 11:07:02 2018 -0800

    PHOENIX-5013 Increase timeout for Tephra discovery service

 .../org/apache/phoenix/query/QueryServicesTestImpl.java    |  6 +++---
 .../src/test/java/org/apache/phoenix/util/TestUtil.java    | 14 ++++++++++++++
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 7a97b68c6254291dcfaeb990f6554cc1ec669778
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 10 11:04:48 2018 -0800

    PHOENIX-5012 Don't derive IndexToolIT from ParallelStatsEnabled

 .../src/it/java/org/apache/phoenix/end2end/IndexToolIT.java       | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0e1984f2fbc5f492cc98a16ea226d3a572420cef
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Nov 7 11:08:11 2018 -0800

    Revert "PHOENIX-4971 Drop index will execute successfully using Incorrect name of parent tables"
    
    This reverts commit a524596a778c5ba27d0227b39ab8e343392e5ac0.

 .../phoenix/end2end/index/DropMetadataIT.java      | 23 +---------------------
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 --
 .../org/apache/phoenix/schema/MetaDataClient.java  | 15 --------------
 3 files changed, 1 insertion(+), 39 deletions(-)

commit 11cc13b043c9d73c49134f27aef5e4c05dc6f30a
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Oct 24 17:56:22 2018 -0700

    PHOENIX-4996: Refactor PTableImpl to use Builder Pattern

 .../org/apache/phoenix/compile/DeleteCompiler.java |    6 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   66 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   52 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   60 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   41 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   12 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   96 +-
 .../UngroupedAggregateRegionObserver.java          |    6 +-
 .../phoenix/coprocessor/WhereConstantParser.java   |    3 +-
 .../query/ConnectionlessQueryServicesImpl.java     |    9 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  215 +++-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   28 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 1259 ++++++++++++--------
 .../java/org/apache/phoenix/schema/TableRef.java   |   17 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   32 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   33 +-
 16 files changed, 1302 insertions(+), 633 deletions(-)

commit 6053ee63a4faa3ef5bd1f7cbeb8c9787efcbb41c
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Oct 18 22:00:01 2018 -0700

    PHOENIX-4981 Add tests for ORDER BY, GROUP BY and salted tables using phoenix-spark

 .../org/apache/phoenix/end2end/AggregateIT.java    |  987 +-----------------
 .../apache/phoenix/end2end/BaseAggregateIT.java    | 1022 +++++++++++++++++++
 .../org/apache/phoenix/end2end/BaseOrderByIT.java  |  940 +++++++++++++++++
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  943 +++--------------
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |   40 +
 .../phoenix/end2end/salted/BaseSaltedTableIT.java  |  474 +++++++++
 .../phoenix/end2end/salted/SaltedTableIT.java      |  450 +--------
 .../java/org/apache/phoenix/util/QueryBuilder.java |  211 ++++
 .../java/org/apache/phoenix/util/QueryUtil.java    |   38 +-
 .../index/IndexScrutinyTableOutputTest.java        |    6 +-
 .../util/PhoenixConfigurationUtilTest.java         |    6 +-
 .../org/apache/phoenix/util/QueryUtilTest.java     |   10 +-
 phoenix-spark/pom.xml                              |    8 +
 .../java/org/apache/phoenix/spark/AggregateIT.java |   91 ++
 .../java/org/apache/phoenix/spark/OrderByIT.java   |  460 +++++++++
 .../org/apache/phoenix/spark/SaltedTableIT.java    |   53 +
 .../java/org/apache/phoenix/spark/SparkUtil.java   |   87 ++
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  |    9 +-
 .../org/apache/phoenix/spark/SparkResultSet.java   | 1056 ++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |   27 +-
 20 files changed, 4649 insertions(+), 2269 deletions(-)

commit c2d33ed384467fea4655e6f49ce43834f3886409
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Thu Nov 1 17:15:26 2018 -0700

    PHOENIX-4997 Phoenix MR on snapshots can produce duplicate rows

 .../end2end/TableSnapshotReadsMapReduceIT.java     | 123 ++++++++++++---------
 .../iterate/MapReduceParallelScanGrouper.java      |  34 +++++-
 .../iterate/TableSnapshotResultIterator.java       |  30 +++--
 .../java/org/apache/phoenix/query/BaseTest.java    |  12 +-
 4 files changed, 126 insertions(+), 73 deletions(-)

commit 59a7dd138c661c743d58421776cb5e731e1cda99
Author: Vitaliy <vit34-95@mail.ru>
Date:   Wed Sep 19 01:09:01 2018 +0300

    PHOENIX-4909 Missing the phoenix-loadbalancer module dependency in phoenix-assembly/pom.xml
    
    Closes #352
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/phoenix_utils.py                                      | 2 ++
 phoenix-assembly/pom.xml                                  | 4 ++++
 phoenix-assembly/src/build/components/all-common-jars.xml | 8 ++++++++
 3 files changed, 14 insertions(+)

commit fc550666d871d2d472bdbb0496650373bed4edad
Author: Kadir <kozdemir@salesforce.com>
Date:   Mon Oct 29 21:14:33 2018 -0700

    PHOENIX-4764 Cleanup metadata of child views for a base table that has been dropped (addendum)

 .../phoenix/end2end/MigrateSystemTablesToSystemNamespaceIT.java    | 4 ++--
 .../phoenix/end2end/SystemCatalogCreationOnConnectionIT.java       | 4 ++--
 .../java/org/apache/phoenix/monitoring/BasePhoenixMetricsIT.java   | 5 ++++-
 .../java/org/apache/phoenix/coprocessor/TaskRegionObserver.java    | 7 +++++--
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 .../src/main/java/org/apache/phoenix/query/QueryServices.java      | 2 ++
 .../main/java/org/apache/phoenix/query/QueryServicesOptions.java   | 3 ++-
 7 files changed, 18 insertions(+), 9 deletions(-)

commit 76ffd8af10571e67bc2f9dd77c09898e687149d9
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Mon Oct 22 17:03:07 2018 -0700

    PHOENIX-4891: An index should inherit UPDATE_CACHE_FREQUENCY setting from parent table

 .../apache/phoenix/end2end/PropertiesInSyncIT.java | 163 ++++++++++++++++-----
 .../phoenix/end2end/index/IndexMetadataIT.java     | 145 +++++++++++++++++-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 134 +++++++++++------
 .../apache/phoenix/exception/SQLExceptionCode.java |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  33 ++++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   7 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  79 +++++++++-
 8 files changed, 473 insertions(+), 101 deletions(-)

commit 214c9eecaf2a7cda869e4d032f42f9f586742663
Author: s.kadam <s.kadam@gus.com>
Date:   Mon Oct 29 14:47:21 2018 -0700

    PHOENIX-4872: BulkLoad has bug when loading on single-cell-array-with-offsets table.

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 51 ++++++++++++++++++++++
 .../mapreduce/FormatToBytesWritableMapper.java     | 10 ++---
 2 files changed, 56 insertions(+), 5 deletions(-)

commit a524596a778c5ba27d0227b39ab8e343392e5ac0
Author: Jaanai <cloud.poster@gmail.com>
Date:   Sun Oct 28 19:10:51 2018 +0800

    PHOENIX-4971 Drop index will execute successfully using Incorrect name of parent tables
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../phoenix/end2end/index/DropMetadataIT.java      | 23 +++++++++++++++++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 15 ++++++++++++++
 3 files changed, 39 insertions(+), 1 deletion(-)

commit 9f224a18b59fdcc323d661af3b307411c84c4a4c
Author: Kadir <kozdemir@salesforce.com>
Date:   Wed Sep 26 23:32:31 2018 -0700

    PHOENIX-4764 Cleanup metadata of child views for a base table that has been dropped

 .../apache/phoenix/end2end/BasePermissionsIT.java  |   4 +-
 .../phoenix/end2end/DropTableWithViewsIT.java      | 151 +++++++++++
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   4 +
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  46 +++-
 .../phoenix/coprocessor/TaskRegionObserver.java    | 298 +++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   9 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  20 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   9 +
 .../org/apache/phoenix/query/QueryConstants.java   |  62 +++--
 .../org/apache/phoenix/query/QueryServices.java    |   6 +
 .../apache/phoenix/query/QueryServicesOptions.java |   4 +
 .../java/org/apache/phoenix/schema/PTable.java     |  31 ++-
 .../phoenix/schema/stats/StatisticsUtil.java       |   2 +
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  10 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   1 +
 16 files changed, 620 insertions(+), 41 deletions(-)

commit 4eba144c9bc650ebda3dbd341d036479b1c5f767
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Tue Oct 23 16:03:22 2018 -0700

    PHOENIX-4977 Make KillServerOnFailurePolicy a configurable option in PhoenixIndexFailurePolicy

 .../phoenix/hbase/index/write/DelegateIndexFailurePolicy.java       | 5 ++++-
 .../java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java    | 6 ++++++
 .../src/main/java/org/apache/phoenix/query/QueryServices.java       | 1 +
 3 files changed, 11 insertions(+), 1 deletion(-)

commit 0c28ea2856aa0798953b790c002644969a36ae5e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Oct 16 23:49:23 2018 -0700

    PHOENIX-4975 Addendum to fix failing unit tests for Omid due to shadow cells and no local indexes

 .../apache/phoenix/end2end/StatsEnabledSplitSystemCatalogIT.java | 9 ++++++---
 .../java/org/apache/phoenix/schema/stats/StatsCollectorIT.java   | 2 +-
 2 files changed, 7 insertions(+), 4 deletions(-)

commit 72d6109cd2018ff741e4baa15f5eb09ef225295f
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Oct 22 11:00:54 2018 -0700

    PHOENIX-4988 Incorrect index rowkey generated when updating only non-indexed columns after a delete

 .../phoenix/end2end/index/MutableIndexIT.java      | 36 ++++++++++++++++++++++
 .../filter/ApplyAndFilterDeletesFilter.java        |  9 ++++--
 2 files changed, 43 insertions(+), 2 deletions(-)

commit 666beaef257da6ae3b240085cdc3a5dbdc75a1bf
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Oct 22 12:01:44 2018 -0700

    PHOENIX-4960 Write to table with global index failed if meta of index changed (split, move, etc)

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 4 ++++
 1 file changed, 4 insertions(+)

commit e07e04a54a6720a0ba8e7a806cd98a2ebc8b2d17
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Tue Oct 16 16:13:11 2018 -0700

    PHOENIX-4963 Do not throw when transitioning to PENDING_DISABLE if index is already disabled

 .../apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 43e1ade90b62ff7e112e48a79f882ce8f31b397f
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Oct 16 09:16:43 2018 -0700

    PHOENIX-4975 Fix failing unit tests for Omid due to shadow cells and no local indexes

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 16 +++++--
 .../end2end/StatsEnabledSplitSystemCatalogIT.java  | 30 ++++++++----
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 18 ++++++--
 .../phoenix/schema/stats/StatsCollectorIT.java     | 54 ++++++++++++++--------
 4 files changed, 80 insertions(+), 38 deletions(-)

commit c3c51180bf6c5913fcfb4b1e8dca2ebd60187d6e
Author: Rajeshbabu Chintaguntla <rchintaguntla@HW15978.local>
Date:   Tue Oct 16 21:23:21 2018 +0530

    PHOENIX-4874 psql doesn't support date/time with values smaller than milliseconds-addendum(Rajeshbabu)

 .../java/org/apache/phoenix/util/AbstractUpsertExecutorTest.java   | 7 -------
 1 file changed, 7 deletions(-)

commit 02259651ed66ba9dcde7acfb277bf129fa01249d
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Oct 15 22:23:06 2018 -0700

    PHOENIX-4942 Move MetaDataEndpointImplTest to integration test

 .../apache/phoenix/{coprocessor => end2end}/MetaDataEndpointImplIT.java   | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 0d32f870044c5fefdcf9a08e59e6c3c2ef3dc5d1
Author: Rajeshbabu Chintaguntla <rchintaguntla@HW15978.local>
Date:   Mon Oct 15 21:22:10 2018 +0530

    PHOENIX-4859 Using local index in where statement for join (only rhs table) query fails-addendum(Rajeshbabu)

 .../main/java/org/apache/phoenix/schema/LocalIndexDataColumnRef.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 48397910463921c53c4af20ffc20eee9aff44576
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Oct 13 14:48:32 2018 -0700

    PHOENIX-4967 Reverse scan along LOCAL index does not always return all data.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 55 +++++++++++++++++++++-
 .../phoenix/iterate/BaseResultIterators.java       |  3 +-
 2 files changed, 56 insertions(+), 2 deletions(-)

commit bd3e32f24f6f27ad09c41e117e212046549cb67a
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Oct 11 15:46:48 2018 -0700

    PHOENIX-4966 Implement unhandledFilters in PhoenixRelation so that spark only evaluates filters when required

 .../scala/org/apache/phoenix/spark/PhoenixSparkIT.scala  | 14 +++++++-------
 .../scala/org/apache/phoenix/spark/PhoenixRelation.scala | 16 ++++++++++++----
 2 files changed, 19 insertions(+), 11 deletions(-)

commit 39f30b94761486f53f38067157d0aeb0e6f131ab
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Oct 12 13:46:15 2018 -0700

    PHOENIX-4358 Case Sensitive String match on SqlType in PDataType (Dave Angulo)

 .../src/main/java/org/apache/phoenix/schema/types/PDataType.java    | 2 +-
 .../test/java/org/apache/phoenix/schema/types/PDataTypeTest.java    | 6 ++++++
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 716530ae5bf951c9891a2830d8ec51f740d818b2
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Oct 11 22:45:50 2018 -0700

    PHOENIX-4964 ORDER BY should use a LOCAL index even if the query is not fully covered.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 59 ++++++++++++++++++++++
 .../apache/phoenix/optimize/QueryOptimizer.java    |  9 +++-
 2 files changed, 66 insertions(+), 2 deletions(-)

commit f88f62abccb0b313f61b647178d71300cc0105aa
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Oct 10 22:59:34 2018 -0700

    PHOENIX-3955 (Addendum) Fix compilation error

 .../src/main/java/org/apache/phoenix/exception/SQLExceptionCode.java     | 1 +
 1 file changed, 1 insertion(+)

commit 86fe2fc5dfbebcf339aec42cce38b7a11e95186f
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Oct 10 13:40:00 2018 -0700

    PHOENIX-3955: Ensure KEEP_DELETED_CELLS, REPLICATION_SCOPE, and TTL properties stay in sync between the physical data table and index tables

 .../org/apache/phoenix/end2end/AlterTableIT.java   |   4 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  15 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  26 +-
 .../apache/phoenix/end2end/PropertiesInSyncIT.java | 462 +++++++++++++++++++++
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   7 +-
 .../org/apache/phoenix/end2end/SetPropertyIT.java  |  47 ++-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |   4 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 450 +++++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 110 +++--
 .../org/apache/phoenix/schema/TableProperty.java   |   4 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  44 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 132 +++++-
 13 files changed, 1101 insertions(+), 211 deletions(-)

commit 9a818dd43527008890d7b1cfa353725ff042f630
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Oct 9 12:36:42 2018 +0530

    PHOENIX-4859 Using local index in where statement for join (only rhs table) query fails(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 29 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  2 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |  4 +--
 .../phoenix/compile/TupleProjectionCompiler.java   |  2 +-
 .../phoenix/schema/LocalIndexDataColumnRef.java    | 18 ++++++++------
 6 files changed, 44 insertions(+), 13 deletions(-)

commit f7b053ac4b636c9b41d5d025d0db1a8b9d3de06d
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Oct 8 16:38:09 2018 -0700

    PHOENIX-4957 Add NO_INDEX hint so IndexTool uses the data table instead of index table

 .../phoenix/compile/PostIndexDDLCompiler.java      |  2 +-
 .../phoenix/compile/PostIndexDDLCompilerTest.java  | 68 ++++++++++++++++++++++
 2 files changed, 69 insertions(+), 1 deletion(-)

commit ad29c1cea8d70ef24caf12e07b5b5aa3ccf833f6
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Sat Oct 6 12:40:54 2018 -0700

    PHOENIX-4855 Continue to write base table column metadata when creating a view in order to support rollback (addendum)

 .../main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 14b578012d45ce1ae40e599159ac96d23083f024
Author: Lev Bronshtein <lbronshtein@bloomberg.net>
Date:   Wed Aug 29 17:19:51 2018 -0400

    PHOENIX-4688 Support SPNEGO for python driver via requests-kerberos
    
    Includes updated L&N for requests-kerberos. Tries to detect when the
    host system doesn't have necessary dependencies to run the test
    
    Closes #344
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 LICENSE                                            |  18 +
 NOTICE                                             |   2 +
 dev/release_files/LICENSE                          |  18 +
 dev/release_files/NOTICE                           |   4 +
 phoenix-queryserver/src/it/bin/test_phoenixdb.py   |  39 +
 phoenix-queryserver/src/it/bin/test_phoenixdb.sh   |  79 ++
 .../end2end/SecureQueryServerPhoenixDBIT.java      | 424 ++++++++++
 pom.xml                                            |  14 +-
 python/README.md                                   |  93 +++
 python/{ => phoenixdb}/NEWS.rst                    |   0
 python/{ => phoenixdb}/README.rst                  |   0
 python/{ => phoenixdb}/RELEASING.rst               |   0
 python/{ => phoenixdb}/ci/build-env/Dockerfile     |   0
 python/{ => phoenixdb}/ci/phoenix/Dockerfile       |   0
 .../ci/phoenix/docker-entrypoint.sh                |   0
 python/{ => phoenixdb}/ci/phoenix/hbase-site.xml   |   0
 python/{ => phoenixdb}/doc/Makefile                |   0
 python/{ => phoenixdb}/doc/api.rst                 |   0
 python/{ => phoenixdb}/doc/conf.py                 |   0
 python/{ => phoenixdb}/doc/index.rst               |   0
 python/{ => phoenixdb}/doc/versions.rst            |   0
 python/{ => phoenixdb}/docker-compose.yml          |   0
 python/{ => phoenixdb}/examples/basic.py           |   0
 python/{ => phoenixdb}/examples/shell.py           |   0
 python/{ => phoenixdb}/gen-protobuf.sh             |   1 +
 python/phoenixdb/{ => phoenixdb}/__init__.py       |   8 +-
 .../phoenixdb/{ => phoenixdb}/avatica/__init__.py  |   0
 python/phoenixdb/{ => phoenixdb}/avatica/client.py |  68 +-
 .../{ => phoenixdb}/avatica/proto/__init__.py      |   0
 .../{ => phoenixdb}/avatica/proto/common_pb2.py    |   0
 .../{ => phoenixdb}/avatica/proto/requests_pb2.py  |   0
 .../{ => phoenixdb}/avatica/proto/responses_pb2.py |   0
 python/phoenixdb/{ => phoenixdb}/connection.py     |   0
 python/phoenixdb/{ => phoenixdb}/cursor.py         |   0
 python/phoenixdb/{ => phoenixdb}/errors.py         |   0
 python/phoenixdb/{ => phoenixdb}/tests/__init__.py |   0
 python/phoenixdb/{ => phoenixdb}/tests/dbapi20.py  |   0
 .../{ => phoenixdb}/tests/test_avatica.py          |   0
 .../{ => phoenixdb}/tests/test_connection.py       |   0
 python/phoenixdb/{ => phoenixdb}/tests/test_db.py  |   0
 .../{ => phoenixdb}/tests/test_dbapi20.py          |   0
 .../phoenixdb/{ => phoenixdb}/tests/test_errors.py |   0
 .../phoenixdb/{ => phoenixdb}/tests/test_types.py  |   0
 python/phoenixdb/{ => phoenixdb}/types.py          |   0
 python/phoenixdb/requirements.txt                  |  25 +
 python/{ => phoenixdb}/setup.cfg                   |   0
 python/{ => phoenixdb}/setup.py                    |  31 +-
 python/{ => phoenixdb}/tox.ini                     |   0
 python/requests-kerberos/.travis.sh                | 202 +++++
 python/requests-kerberos/.travis.yml               |  36 +
 python/requests-kerberos/AUTHORS                   |   3 +
 python/requests-kerberos/HISTORY.rst               | 102 +++
 python/requests-kerberos/LICENSE                   |  15 +
 python/requests-kerberos/MANIFEST.in               |   5 +
 python/requests-kerberos/README.rst                | 173 ++++
 .../requests_kerberos/__init__.py                  |  25 +
 .../requests-kerberos/requests_kerberos/compat.py  |  14 +
 .../requests_kerberos/exceptions.py                |  15 +
 .../requests_kerberos/kerberos_.py                 | 457 +++++++++++
 python/requests-kerberos/requirements-test.txt     |   4 +
 python/requests-kerberos/requirements.txt          |   6 +
 python/requests-kerberos/setup.cfg                 |   2 +
 python/requests-kerberos/setup.py                  |  64 ++
 python/requests-kerberos/tests/__init__.py         |   0
 .../tests/test_functional_kerberos.py              |  47 ++
 .../tests/test_requests_kerberos.py                | 904 +++++++++++++++++++++
 python/requirements.txt                            |  20 -
 67 files changed, 2839 insertions(+), 79 deletions(-)

commit d720f39ed91862303e184277779ba6fc94bcd003
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 4 08:19:37 2018 -0700

    PHOENIX-4731 Make running transactional unit tests for a given provider optional

 .gitignore                                         |   1 +
 .../org/apache/phoenix/end2end/AlterTableIT.java   |   4 +
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  19 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  17 +-
 ...olumnEncodedImmutableNonTxStatsCollectorIT.java |  12 +-
 .../ColumnEncodedImmutableTxStatsCollectorIT.java  |  16 +-
 .../ColumnEncodedMutableNonTxStatsCollectorIT.java |  10 +-
 .../ColumnEncodedMutableTxStatsCollectorIT.java    |  15 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |   2 +-
 .../apache/phoenix/end2end/IndexExtendedIT.java    |   1 -
 .../org/apache/phoenix/end2end/IndexToolIT.java    |  21 +-
 ...olumnEncodedImmutableNonTxStatsCollectorIT.java |  10 +-
 ...onColumnEncodedImmutableTxStatsCollectorIT.java |  16 +-
 .../phoenix/end2end/SqrtFunctionEnd2EndIT.java     |   1 -
 .../SysTableNamespaceMappedStatsCollectorIT.java   |  16 +-
 .../phoenix/end2end/TransactionalViewIT.java       |  23 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  21 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  | 101 +++++--
 .../end2end/index/GlobalImmutableNonTxIndexIT.java |  12 +-
 .../end2end/index/GlobalImmutableTxIndexIT.java    |  17 +-
 .../end2end/index/GlobalMutableNonTxIndexIT.java   |  12 +-
 .../end2end/index/GlobalMutableTxIndexIT.java      |  17 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  38 ++-
 .../end2end/index/LocalImmutableNonTxIndexIT.java  |  12 +-
 .../end2end/index/LocalImmutableTxIndexIT.java     |  16 +-
 .../end2end/index/LocalMutableNonTxIndexIT.java    |  12 +-
 .../end2end/index/LocalMutableTxIndexIT.java       |  16 +-
 .../end2end/index/MutableIndexFailureIT.java       |  67 +++--
 .../index/MutableIndexFailureWithNamespaceIT.java  |  28 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |   9 +-
 .../end2end/index/txn/MutableRollbackIT.java       |  36 +--
 .../phoenix/end2end/index/txn/RollbackIT.java      |  28 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |  25 +-
 .../apache/phoenix/execute/PartialCommitIT.java    | 205 ++++++-------
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  17 +-
 .../phoenix/schema/stats/StatsCollectorIT.java     |  26 +-
 .../apache/phoenix/tx/FlappingTransactionIT.java   |  55 ++--
 .../phoenix/tx/ParameterizedTransactionIT.java     |  93 ++++--
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 176 ++++++++++-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  46 +--
 .../org/apache/phoenix/compile/DeleteCompiler.java |   5 +-
 .../phoenix/compile/PostLocalIndexDDLCompiler.java |   3 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  14 +-
 .../phoenix/coprocessor/OmidGCProcessor.java       |  29 ++
 .../coprocessor/OmidTransactionalProcessor.java    |  29 ++
 .../coprocessor/PhoenixAccessController.java       |  11 +-
 .../UngroupedAggregateRegionObserver.java          |  15 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   7 +-
 .../org/apache/phoenix/execute/MutationState.java  |  15 +-
 .../execute/PhoenixTxIndexMutationGenerator.java   |  54 +++-
 .../hbase/index/builder/BaseIndexBuilder.java      |   2 +-
 .../phoenix/hbase/index/covered/IndexCodec.java    |  10 +-
 .../hbase/index/covered/LocalTableState.java       |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   6 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  87 +++---
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  18 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   2 +-
 .../phoenix/iterate/ScanningResultIterator.java    |   5 +-
 .../phoenix/iterate/TableResultIterator.java       |   3 +-
 .../mapreduce/index/DirectHTableWriter.java        |  25 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   1 +
 .../mapreduce/index/PhoenixIndexImportMapper.java  |  51 +++-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |   2 +
 .../phoenix/query/ConnectionQueryServices.java     |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 106 +++++--
 .../query/DelegateConnectionQueryServices.java     |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 140 ++++++---
 .../transaction/OmidTransactionContext.java        |  53 ++--
 .../transaction/OmidTransactionProvider.java       |  71 +++--
 .../phoenix/transaction/OmidTransactionTable.java  | 334 +++++++++++++++++++++
 .../transaction/PhoenixTransactionContext.java     |   4 +-
 .../transaction/PhoenixTransactionProvider.java    |  30 +-
 .../transaction/TephraTransactionContext.java      |  13 +-
 .../transaction/TephraTransactionProvider.java     |  16 +-
 .../phoenix/transaction/TransactionFactory.java    |  26 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   8 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  10 +-
 .../index/covered/CoveredColumnIndexCodec.java     |   6 +-
 .../index/covered/CoveredIndexCodecForTesting.java |   6 +-
 .../index/covered/TestCoveredColumnIndexCodec.java |   8 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   5 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  34 ++-
 pom.xml                                            |   2 +-
 83 files changed, 1823 insertions(+), 720 deletions(-)

commit 84a5ac3c7b50de41fa31c1c0f16cf54d95e7949a
Author: Josh Elser <elserj@apache.org>
Date:   Wed Oct 3 17:43:05 2018 -0400

    PHOENIX-4946 Switch from HC's annotations (since removed) to JCIP annotations
    
    Avoids an old httpclient artifact conflicting with Hadoop3 implementation.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 phoenix-core/pom.xml                                                | 6 ------
 phoenix-core/src/main/java/org/apache/phoenix/cache/HashCache.java  | 3 ++-
 .../src/main/java/org/apache/phoenix/compile/GroupByCompiler.java   | 3 ++-
 .../src/main/java/org/apache/phoenix/memory/ChildMemoryManager.java | 5 +++--
 .../main/java/org/apache/phoenix/memory/GlobalMemoryManager.java    | 4 +++-
 .../src/main/java/org/apache/phoenix/parse/FunctionParseNode.java   | 3 ++-
 .../src/main/java/org/apache/phoenix/query/QueryServices.java       | 3 ++-
 phoenix-core/src/main/java/org/apache/phoenix/schema/ColumnRef.java | 3 ++-
 .../src/main/java/org/apache/phoenix/schema/KeyValueSchema.java     | 3 ++-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PNameImpl.java | 5 +++--
 10 files changed, 21 insertions(+), 17 deletions(-)

commit 612163cfb4e3f0ddbe8c95883121812b36dc889d
Author: Josh Elser <elserj@apache.org>
Date:   Fri Oct 5 11:16:08 2018 -0400

    PHOENIX-4855 (addendum) Fix compilation issues, bad class names.

 .../apache/phoenix/jdbc/PhoenixDatabaseMetaData.java   | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 4564fc57fe749afc29aa3ceeba703b5d6c89ae83
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Aug 20 10:42:56 2018 -0700

    PHOENIX-4855 Continue to write base table column metadata when creating a view in order to support rollback

 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  25 ++-
 .../phoenix/end2end/AlterTableWithViewsIT.java     | 196 +++++++++++--------
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  14 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 208 ++++++++++++---------
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 158 +++++++++++++---
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  38 ++--
 .../org/apache/phoenix/schema/PColumnImpl.java     |   3 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   6 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  38 ++--
 10 files changed, 461 insertions(+), 230 deletions(-)

commit e6d3ebcfa235de1d242579896b772497b63a15e4
Author: Geoffrey <gjacoby@apache.org>
Date:   Thu Oct 4 11:20:56 2018 -0700

    PHOENIX-4949 - IndexTool - updateIndexState called too many times unnecessarily

 .../mapreduce/index/PhoenixIndexImportDirectReducer.java  | 15 ++-------------
 1 file changed, 2 insertions(+), 13 deletions(-)

commit c2aaadbdc86aad96124b4abb8146fe2b25cd4633
Author: Gerald Sangudi <gsangudi@23andme.com>
Date:   Sun Sep 23 09:01:18 2018 -0700

    PHOENIX-4917 Fix ClassCastException when projecting array elements in hash join

 .../phoenix/coprocessor/HashJoinRegionScanner.java | 50 ++++++++++++++++++----
 1 file changed, 42 insertions(+), 8 deletions(-)

commit ecb6bc995c478f2d58df093b48421564449c38b2
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Oct 2 12:30:09 2018 -0700

    PHOENIX-4941 Handle TableExistsException when wrapped under RemoteException for SYSTEM.MUTEX table(addendum)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 61250b5ca0abdaf0ed2ddb74bc576e41b6219b10
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Oct 2 12:09:28 2018 -0700

    PHOENIX-4941 Handle TableExistsException when wrapped under RemoteException for SYSTEM.MUTEX table

 .../phoenix/query/ConnectionQueryServicesImpl.java | 47 ++++++++++++++--------
 1 file changed, 31 insertions(+), 16 deletions(-)

commit 5016a52e7ee0beea41e39e99a1b99ad9eb4d8232
Author: Geoffrey <gjacoby@apache.org>
Date:   Thu Sep 6 16:18:09 2018 -0700

    PHOENIX-4519 - Index rebuild MR jobs not created for "alter index rebuild async" rebuilds

 .../end2end/index/PhoenixMRJobSubmitterIT.java     | 113 +++++++++++++++++++++
 .../index/automation/PhoenixMRJobSubmitter.java    |  16 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 3 files changed, 126 insertions(+), 5 deletions(-)

commit a382c650741bcf708bd13d85e90d7daf7dcbb4c8
Author: Geoffrey <gjacoby@apache.org>
Date:   Mon Oct 1 15:04:02 2018 -0700

    PHOENIX-4935 - IndexTool should use empty catalog instead of null

 .../src/main/java/org/apache/phoenix/mapreduce/index/IndexTool.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6af1dfb066c92d8598d7cc449d94d7bac8c356a5
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Tue Sep 11 21:40:45 2018 -0700

    PHOENIX-4875: Don't acquire a mutex while dropping a table and while creating a view

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 21 ++++-------
 .../org/apache/phoenix/schema/MetaDataClient.java  | 41 ----------------------
 2 files changed, 6 insertions(+), 56 deletions(-)

commit f3af541705233e003ce64e024608eed56680692c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Oct 1 11:39:34 2018 -0700

    PHOENIX-4933 DELETE FROM throws NPE when a local index is present.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 22 +++++++++++++++++++
 .../tuple/EncodedColumnQualiferCellsList.java      | 25 +++++++++++++++-------
 2 files changed, 39 insertions(+), 8 deletions(-)

commit 7110894420db286dfa7a688dc587c559f8a9c812
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Sep 28 17:47:34 2018 -0700

    PHOENIX-4934 Make BaseTest.splitSystemCatalog generic

 .../java/org/apache/phoenix/query/BaseTest.java    | 73 ++++++++++------------
 1 file changed, 34 insertions(+), 39 deletions(-)

commit 1aba55f42510f057c876b17db0331be5b8e35e4e
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Sep 28 17:32:22 2018 -0700

    PHOENIX-4930 Add test for ORDER BY and LIMIT queries during a split (addendum)

 .../java/org/apache/phoenix/end2end/SplitIT.java   | 36 ++++++++--------------
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 28 +++++------------
 2 files changed, 20 insertions(+), 44 deletions(-)

commit c7eeda03b0da00a4479ecb40c439601a97e6201c
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Sat Sep 15 14:27:14 2018 -0700

    PHOENIX-4930 Add test for ORDER BY and LIMIT queries during a split

 .../java/org/apache/phoenix/end2end/SplitIT.java   | 260 +++++++++++++++++++++
 1 file changed, 260 insertions(+)

commit 47e955e27096f804886437660b562a2fa53d7cc6
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Sep 26 11:17:18 2018 -0700

    PHOENIX-4849 Phoenix may generate incorrectly replace TableResultIterators after HBase region splits.

 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 22 ++++++---
 .../org/apache/phoenix/compile/UpsertCompiler.java | 17 +++++++
 .../phoenix/coprocessor/ScanRegionObserver.java    |  9 +++-
 .../phoenix/iterate/TableResultIterator.java       | 52 ++++++++--------------
 .../java/org/apache/phoenix/util/ScanUtil.java     |  8 ++++
 5 files changed, 65 insertions(+), 43 deletions(-)

commit df998e6d7840db4669a395fa6460c42c434af633
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Sep 23 22:33:21 2018 -0700

    After HBASE-20940 any local index query will open all HFiles of every Region involved in the query.

 .../apache/phoenix/iterate/RegionScannerFactory.java    | 17 +----------------
 1 file changed, 1 insertion(+), 16 deletions(-)

commit 34b8fe86b40f6cc2a05395640044e9dd7e1a1a8f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Sep 24 04:48:35 2018 +0530

    PHOENIX-4874 psql doesn't support date/time with values smaller than milliseconds(Rajeshbabu)

 .../apache/phoenix/util/csv/CsvUpsertExecutor.java | 20 ++++++---
 .../phoenix/util/json/JsonUpsertExecutor.java      |  3 ++
 .../phoenix/util/AbstractUpsertExecutorTest.java   | 51 ++++++++++++++++------
 3 files changed, 54 insertions(+), 20 deletions(-)

commit 4e8c9ab0c081dbad7db50f717b1c1ef1afd79a80
Author: Bin Shi <bshi@bshi-ltm0.internal.salesforce.com>
Date:   Tue Sep 18 12:19:51 2018 -0700

    PHOENIX-4008 UPDATE STATISTIC should collect all versions of cells

 .../phoenix/schema/stats/StatsCollectorIT.java     | 72 ++++++++++++++++------
 .../org/apache/phoenix/schema/MetaDataClient.java  |  1 +
 2 files changed, 53 insertions(+), 20 deletions(-)

commit 91f085a902357b0a589b6367fb9c5f40b9781c8f
Author: Vitaliy <vit34-95@mail.ru>
Date:   Tue Sep 18 15:05:55 2018 -0400

    PHOENIX-4892 Unable to start load balancer with queryserver
    
    Added phoenix_loadbalancer_jar path to phoenix_utils.py,
    added phoenix_loadbalancer_jar to classpath in queryserver.py,
    added service for registry in meta-inf
    
    Closes #343
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/phoenix_utils.py                                               | 7 +++++++
 bin/queryserver.py                                                 | 4 ++--
 phoenix-load-balancer/pom.xml                                      | 1 +
 .../services/org.apache.phoenix.queryserver.register.Registry      | 1 +
 4 files changed, 11 insertions(+), 2 deletions(-)

commit 9c8544e3f64781d5abafadc14dbc95262f04559f
Author: Geoffrey <gjacoby@apache.org>
Date:   Mon Sep 17 16:09:44 2018 -0700

    PHOENIX-4907 - IndexScrutinyTool should use empty catalog instead of null

 .../main/java/org/apache/phoenix/mapreduce/index/IndexScrutinyTool.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2084a6ccefe27e4a5c0e8073fc0302d94ca8548c
Author: Marcell Ortutay <marcell.ortutay@gmail.com>
Date:   Sat Sep 15 21:13:54 2018 -0700

    PHOENIX-4903 Use same hash cache RPC message across all calls
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../apache/phoenix/cache/ServerCacheClient.java    | 61 ++++++++++++----------
 1 file changed, 32 insertions(+), 29 deletions(-)

commit ba1fd712ae8cdc0fc20805a7b03b7df7b0258542
Author: Josh Elser <elserj@apache.org>
Date:   Fri Aug 31 19:20:14 2018 -0400

    PHOENIX-4880 Shade the rest of Phoenix dependencies in phoenix-server.jar
    
    * Declare the used and missing commons-lang dependency in phoenix-core
    * Upgrade to commons-lang3 in phoenix-core
    * Relocate META-INF/services via shade-plugin
    * Move all dependencies provided by hbase classpath to "scope=provided"
      - This not only skips them in the jar, but skips their transitive dependencies
      - Dependencies with no deps (e.g. log4j) are just marked as excludes
    * Bundle and relocate *all* dependencies of Phoenix for the hbase server-side CP
    
    The net result is a slightly larger phoenix-server jar, but one that
    should be bullet-proof for us moving forward. Specifically, this fixes
    running IndexTool via `bin/hbase` as a mapreduce job.

 phoenix-client/pom.xml                             |   7 +
 phoenix-core/pom.xml                               |   4 +
 .../phoenix/end2end/AlterTableWithViewsIT.java     |   2 +-
 .../org/apache/phoenix/end2end/DateTimeIT.java     |   2 +-
 .../end2end/PartialScannerResultsDisabledIT.java   |   2 +-
 .../org/apache/phoenix/end2end/SortOrderIT.java    |   2 +-
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |   2 +-
 .../phoenix/end2end/index/IndexMaintenanceIT.java  |   2 +-
 .../execute/UpsertSelectOverlappingBatchesIT.java  |   2 +-
 .../expression/function/CollationKeyFunction.java  |   2 +-
 .../org/apache/phoenix/log/QueryLoggerUtil.java    |   2 +-
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  |   2 +-
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |   2 +-
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |   2 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   2 +-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |   2 +-
 .../monitoring/GlobalMetricRegistriesAdapter.java  |   2 +-
 .../java/org/apache/phoenix/util/DateUtil.java     |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   2 +-
 .../java/org/apache/phoenix/util/StringUtil.java   |  10 +-
 .../function/CollationKeyFunctionTest.java         |   2 +-
 .../index/covered/CoveredColumnIndexCodec.java     |   4 +-
 .../org/apache/phoenix/query/KeyRangeClipTest.java |   2 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |   2 +-
 .../java/org/apache/hadoop/hive/ql/QTestUtil.java  |   2 +-
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |   2 +-
 .../hive/query/PhoenixQueryBuilderTest.java        |   2 +-
 .../phoenix/pherf/configuration/Scenario.java      |   4 +-
 .../apache/phoenix/pherf/rules/RulesApplier.java   |   4 +-
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |   2 +-
 phoenix-server/pom.xml                             | 289 ++++++++++++++++-----
 pom.xml                                            |   9 +-
 33 files changed, 286 insertions(+), 95 deletions(-)

commit 2437049b408343255b4d00a2c50b97825df8cb0b
Author: Josh Elser <elserj@apache.org>
Date:   Fri Aug 31 10:59:47 2018 -0400

    PHOENIX-4884 Update INSTR to handle literals and non-literals in either function argument
    
    INSTR previously only handled arguments of the form non-literal and literal, but the documentation
    doesn't clearly state this. We can support all variants though.

 .../apache/phoenix/end2end/InstrFunctionIT.java    | 35 ++++++++++
 .../phoenix/expression/function/InstrFunction.java | 78 ++++++++++++++--------
 .../expression/function/InstrFunctionTest.java     | 44 +++++++-----
 3 files changed, 114 insertions(+), 43 deletions(-)

commit 87cc9b45f959664b0069132ca00878ab9c60ab88
Author: Marcell Ortutay <marcell.ortutay@gmail.com>
Date:   Thu Mar 29 12:59:03 2018 -0700

    PHOENIX-4666 Persistent subquery cache for hash joins
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../end2end/join/HashJoinPersistentCacheIT.java    | 167 ++++++++++++++++
 .../java/org/apache/phoenix/cache/GlobalCache.java |  22 ++-
 .../apache/phoenix/cache/ServerCacheClient.java    |  59 ++++--
 .../java/org/apache/phoenix/cache/TenantCache.java |   2 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  | 209 ++++++++++++++++++---
 .../org/apache/phoenix/compile/QueryCompiler.java  |   9 +-
 .../apache/phoenix/compile/StatementContext.java   |  21 ++-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   4 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |   2 +-
 .../coprocessor/generated/ServerCachingProtos.java | 117 ++++++++++--
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 104 +++++++---
 .../phoenix/iterate/BaseResultIterators.java       |   8 +-
 .../phoenix/iterate/TableResultIterator.java       |   6 +-
 .../org/apache/phoenix/join/HashCacheClient.java   |  24 ++-
 .../org/apache/phoenix/join/HashCacheFactory.java  |  11 ++
 .../java/org/apache/phoenix/parse/HintNode.java    |   4 +
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../org/apache/phoenix/cache/TenantCacheTest.java  | 112 +++++++++--
 .../src/main/ServerCachingService.proto            |   1 +
 phoenix-protocol/src/main/build-proto.sh           |   6 +
 21 files changed, 773 insertions(+), 117 deletions(-)

commit 180b8ca38f64727b13f46f7e1a7db8b672d093c9
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Fri Sep 7 10:30:57 2018 -0700

    PHOENIX-4894 Missing Apache license in two QueryServer classes

 .../server/AvaticaServerConfigurationFactory.java       | 17 +++++++++++++++++
 .../server/CustomAvaticaServerConfigurationTest.java    | 17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit 7587736197d3c5f7078bf657d4d1c04603ef0585
Author: s.kadam <s.kadam@gus.com>
Date:   Thu Sep 6 11:45:43 2018 -0700

    PHOENIX-4870 LoggingPhoenixConnection should log metrics when AutoCommit is set to True.

 .../monitoring/PhoenixLoggingMetricsIT.java        | 61 ++++++++++++++++++++--
 .../phoenix/jdbc/LoggingPhoenixConnection.java     | 37 +++++++------
 .../jdbc/LoggingPhoenixPreparedStatement.java      | 25 +++++++--
 .../phoenix/jdbc/LoggingPhoenixStatement.java      | 28 ++++++++--
 4 files changed, 125 insertions(+), 26 deletions(-)

commit c2cf7403c068597cbb34872f718b28cb27597054
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Sep 6 11:17:21 2018 -0700

    PHOENIX-4882 The client re-resolves the table for every projected non-indexed column when there's a local index.

 .../src/main/java/org/apache/phoenix/compile/FromCompiler.java       | 5 +++++
 .../main/java/org/apache/phoenix/schema/LocalIndexDataColumnRef.java | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit 56c714edba8e10ff2437dfb54604d76dae8c378d
Author: Gerald Sangudi <gsangudi@23andme.com>
Date:   Wed Aug 22 16:59:12 2018 -0700

    PHOENIX-4791 Array elements are nullified with joins

 .../end2end/ProjectArrayElemAfterHashJoinIT.java   | 177 +++++++++++++++++++++
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  69 ++++++--
 .../iterate/NonAggregateRegionScannerFactory.java  |   5 +-
 .../phoenix/iterate/RegionScannerFactory.java      |   7 +-
 4 files changed, 243 insertions(+), 15 deletions(-)

commit 8ae455fd46e59d94a3f6710c03549239aa5b59c3
Author: Mahdi Salarkia <msalarkia@box.com>
Date:   Tue Aug 21 10:38:49 2018 -0700

    PHOENIX-3547 Supporting more number of indices per table.
    
    This closes #323

 .../end2end/BaseTenantSpecificViewIndexIT.java     |   4 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   8 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   6 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |   2 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  10 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |   4 +-
 .../end2end/index/GlobalIndexOptimizationIT.java   |   2 +-
 .../apache/phoenix/end2end/index/IndexUsageIT.java |   4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   2 +-
 .../end2end/index/MutableIndexFailureIT.java       |   4 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   6 +-
 .../IndexHalfStoreFileReaderGenerator.java         |   3 +-
 .../phoenix/compile/CreateTableCompiler.java       |   3 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  55 ++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |  53 ++-
 .../coprocessor/generated/MetaDataProtos.java      | 471 ++++++++++++++-------
 .../coprocessor/generated/PTableProtos.java        | 156 +++++--
 .../coprocessor/generated/ServerCachingProtos.java | 128 +++++-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  15 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   2 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |  13 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |   8 +
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   5 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  21 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   3 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  50 ++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   5 +
 .../TenantSpecificViewIndexCompileTest.java        |   6 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   2 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   6 +-
 phoenix-protocol/src/main/PTable.proto             |   3 +-
 .../src/main/ServerCachingService.proto            |   1 +
 43 files changed, 780 insertions(+), 311 deletions(-)

commit fa20ff297ed2de19b6e736b39c73521045160115
Author: s.kadam <s.kadam@gus.com>
Date:   Tue Aug 28 15:50:39 2018 -0700

    PHOENIX-3178 Row count incorrect for UPSERT SELECT when auto commit is false

 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 31 ++++++++++++++++++++--
 .../org/apache/phoenix/compile/UpsertCompiler.java | 10 +++++--
 2 files changed, 37 insertions(+), 4 deletions(-)

commit 7b645142b6715242064b58148da676cab1f8e4ce
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Aug 15 12:23:56 2018 -0700

    PHOENIX-4798 Update encoded col qualifiers on the base table correctly

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 193 +++++++++++++++------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  74 +++++---
 .../PhoenixMetaDataCoprocessorHost.java            |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  33 +++-
 4 files changed, 214 insertions(+), 88 deletions(-)

commit 82eeabbc08b6964885de68c219d2227093ca3664
Author: Ashutosh Parekh <parekh.ashutosh@gmail.com>
Date:   Thu Aug 23 12:11:23 2018 -0700

    PHOENIX-4864 Fix NullPointerException while Logging some DDL Statements

 .../monitoring/PhoenixLoggingMetricsIT.java        | 42 +++++++++++++++++++++-
 .../jdbc/LoggingPhoenixPreparedStatement.java      |  5 ++-
 .../phoenix/jdbc/LoggingPhoenixStatement.java      |  5 ++-
 3 files changed, 49 insertions(+), 3 deletions(-)

commit 16c5570d38a3aa0527cbbdef21fd3859be4e729f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Sep 1 00:08:14 2016 -0700

    PHOENIX-3236 Problem with shading apache commons on Azure.

 phoenix-client/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 5947b6ade1936b72230e00f70e4b050734ab4833
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Mon Aug 20 16:52:22 2018 -0700

    PHOENIX-4755 Provide an option to plugin custom avatica server config in PQS

 .../org/apache/phoenix/query/QueryServices.java    |   3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../phoenix/end2end/ServerCustomizersIT.java       |   4 +-
 .../server/AvaticaServerConfigurationFactory.java  |  20 +++
 .../phoenix/queryserver/server/QueryServer.java    | 167 ++++++++++++++-------
 .../server/ServerCustomizersFactory.java           |   7 +-
 .../CustomAvaticaServerConfigurationTest.java      |  20 +++
 .../server/QueryServerConfigurationTest.java       |  26 +++-
 .../queryserver/server/ServerCustomizersTest.java  |  13 +-
 9 files changed, 194 insertions(+), 67 deletions(-)

commit 76e6f9d9f5290cc44881a774869ed97f013302d4
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Mon Aug 20 10:12:37 2018 -0700

    PHOENIX-4854 Make LoggingPhoenixResultSet idempotent when logging metrics

 .../monitoring/PhoenixLoggingMetricsIT.java        | 49 ++++++++++++----------
 .../phoenix/jdbc/LoggingPhoenixResultSet.java      | 15 +++++--
 2 files changed, 38 insertions(+), 26 deletions(-)

commit f0b861bd28fa75fd003b5ef9d505a580e2db6bee
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Fri Aug 17 13:02:08 2018 -0700

    PHOENIX-4853 Add sql statement to PhoenixMetricsLog interface for query level metrics logging

 .../monitoring/PhoenixLoggingMetricsIT.java        | 15 +++++++++++---
 .../phoenix/jdbc/LoggingPhoenixConnection.java     | 16 +++++++--------
 .../jdbc/LoggingPhoenixPreparedStatement.java      | 13 +++++++-----
 .../phoenix/jdbc/LoggingPhoenixResultSet.java      | 10 +++++----
 .../phoenix/jdbc/LoggingPhoenixStatement.java      | 24 +++++++++++++++++-----
 .../org/apache/phoenix/jdbc/PhoenixMetricsLog.java |  6 +++---
 6 files changed, 56 insertions(+), 28 deletions(-)

commit 8600081bf2bb5bdc34263a8f5d6e51fb8abdae2b
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Thu Aug 16 15:08:12 2018 -0700

    PHOENIX-4835 LoggingPhoenixConnection should log metrics upon connection close

 .../phoenix/monitoring/BasePhoenixMetricsIT.java   | 128 +++++++++++++++
 .../monitoring/PhoenixLoggingMetricsIT.java        | 181 +++++++++++++++++++++
 .../phoenix/monitoring/PhoenixMetricsIT.java       | 161 +-----------------
 .../phoenix/jdbc/LoggingPhoenixConnection.java     |  12 +-
 4 files changed, 321 insertions(+), 161 deletions(-)

commit bf24e3824e894532e833ac1d840a3507a3c36a3d
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Fri Jul 27 01:57:33 2018 -0700

    PHOENIX-3655 Global Phoenix Client Metrics for PQS

 .../monitoring/GlobalPhoenixMetricsTestSink.java   |  51 +++++++
 .../monitoring/PhoenixMetricsDisabledIT.java       |  80 ++++++++++
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  75 ++++++++-
 .../phoenix/monitoring/GlobalClientMetrics.java    |  74 +++++++--
 .../phoenix/monitoring/GlobalMetricImpl.java       |   3 +
 .../monitoring/GlobalMetricRegistriesAdapter.java  | 170 +++++++++++++++++++++
 .../phoenix/monitoring/NoOpGlobalMetricImpl.java   |  72 +++++++++
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  13 +-
 .../src/test/resources/hadoop-metrics2.properties  |   9 +-
 10 files changed, 532 insertions(+), 18 deletions(-)

commit 05edcd137c1940399ce9d679af2822889a3914bc
Author: Alex Araujo <alexaraujo@gmail.com>
Date:   Mon Jun 4 16:32:10 2018 -0700

    PHOENIX-4750 Resolve server customizers and provide them to Avatica
    
    Resolve server customizers on the PQS classpath and provide them to the
    HttpServer builder.
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../phoenix/end2end/QueryServerTestUtil.java       | 187 +++++++++++++++++++++
 .../phoenix/end2end/ServerCustomizersIT.java       | 147 ++++++++++++++++
 .../phoenix/queryserver/server/QueryServer.java    |  26 ++-
 .../server/ServerCustomizersFactory.java           |  49 ++++++
 .../queryserver/server/ServerCustomizersTest.java  |  87 ++++++++++
 7 files changed, 496 insertions(+), 2 deletions(-)

commit db12369b73b0a3bcf41086da60afb09579af8545
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Wed Aug 15 15:59:28 2018 -0700

    PHOENIX-4851 Update branch names in test-patch.properties for Hadoop QA run

 dev/test-patch.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit facfedbf80e1451a5c1bf87bffad4579e8fcc520
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Aug 9 17:33:09 2018 -0700

    PHOENIX-4843 InListExpression toString() converts the values in the list to ASC sort order always

 .../java/org/apache/phoenix/end2end/InListIT.java  | 72 ++++++++++++++++++++++
 .../phoenix/expression/InListExpression.java       | 11 +++-
 2 files changed, 80 insertions(+), 3 deletions(-)

commit d14bbdb6a27f08c87bb70dc128c1a696404766f2
Author: Xu Cang <xcang@salesforce.com>
Date:   Mon Aug 6 23:56:00 2018 -0700

    PHOENIX-4647 Column header doesn't handle optional arguments correctly

 .../phoenix/expression/function/SubstrFunction.java  | 20 ++++++++++++++++++++
 .../apache/phoenix/compile/WhereOptimizerTest.java   | 12 ++++++++++++
 .../test/java/org/apache/phoenix/util/TestUtil.java  |  5 +++++
 3 files changed, 37 insertions(+)

commit b85ce54f62585fc0459e7c846d7fb1c57d4e3c34
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Wed Aug 8 13:18:50 2018 -0700

    PHOENIX-4805 Move Avatica version to 1.12 for PQS

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1574bd311b30fee276c5e72bbaabc01587b2ed43
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Tue Aug 7 15:47:33 2018 -0700

    PHOENIX-4834 PhoenixMetricsLog interface methods should not depend on specific logger

 .../org/apache/phoenix/monitoring/PhoenixMetricsIT.java     |  9 ++++-----
 .../org/apache/phoenix/jdbc/LoggingPhoenixConnection.java   | 11 ++++++-----
 .../org/apache/phoenix/jdbc/LoggingPhoenixResultSet.java    |  7 ++-----
 .../java/org/apache/phoenix/jdbc/PhoenixMetricsLog.java     | 13 ++++++-------
 4 files changed, 18 insertions(+), 22 deletions(-)

commit fbf6d3549056fc7dddc1b0130656caf83f077f71
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Jul 24 10:49:31 2018 -0700

    PHOENIX-4799 Write cells using checkAndMutate to prevent conflicting changes

 .../phoenix/end2end/AlterTableWithViewsIT.java     |   2 +-
 .../apache/phoenix/end2end/BasePermissionsIT.java  |  65 +++---
 .../phoenix/end2end/ChangePermissionsIT.java       |   4 +-
 .../MigrateSystemTablesToSystemNamespaceIT.java    |  13 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   4 +
 .../phoenix/end2end/TableDDLPermissionsIT.java     |   8 +
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   2 +
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  33 +--
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 242 +++++++++++++++++++--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../phoenix/query/ConnectionQueryServices.java     |  14 ++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 163 ++++++++------
 .../query/ConnectionlessQueryServicesImpl.java     |  20 ++
 .../query/DelegateConnectionQueryServices.java     |  11 +
 .../org/apache/phoenix/query/QueryConstants.java   |  14 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  95 +++++++-
 16 files changed, 529 insertions(+), 163 deletions(-)

commit 2379080d8348f7f9953c5ab95bdb473ab326b5c3
Author: Gerald Sangudi <gsangudi@23andme.com>
Date:   Thu Jun 14 12:49:30 2018 -0700

    PHOENIX-4751 Implement client-side hash aggregation

 .../phoenix/end2end/ClientHashAggregateIT.java     | 208 ++++++++++++++++++++
 .../phoenix/execute/ClientAggregatePlan.java       |  40 +++-
 .../ClientHashAggregatingResultIterator.java       | 210 +++++++++++++++++++++
 .../java/org/apache/phoenix/parse/HintNode.java    |   5 +
 4 files changed, 453 insertions(+), 10 deletions(-)

commit 4a9e5be82db18d942f365370abe4a3104780eea8
Author: Jimmy Casey <casey.jimmy@gmail.com>
Date:   Sun Jul 29 21:43:55 2018 +0000

    PHOENIX-4822 Fixed Spelling.
    
    Closes #318
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-core/src/main/java/org/apache/phoenix/log/LogWriter.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e52c19f95fcdbc99add5fc132e3762c38068e39
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jul 31 15:53:11 2018 -0400

    PHOENIX-4822 Ensure the provided timezone is used client-side (Jaanai Zhang)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 77 ++++++++++++++++++++++
 .../apache/phoenix/compile/StatementContext.java   | 11 ++--
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  8 ++-
 .../java/org/apache/phoenix/util/DateUtil.java     | 22 ++++---
 4 files changed, 101 insertions(+), 17 deletions(-)

commit a4f93eb458c516206cc3ed25978fb025d752a2a7
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Jul 30 13:52:21 2018 -0700

    PHOENIX-4826 Changes to support HBase 2.0.1

 .../index/covered/data/DelegateComparator.java     | 83 ++++++++++++++++++++++
 .../hbase/index/covered/data/IndexMemStore.java    |  6 +-
 .../index/covered/data/TestIndexMemStore.java      |  6 +-
 pom.xml                                            |  2 +-
 4 files changed, 90 insertions(+), 7 deletions(-)

commit e26e0f29b91dceaf3ca0a9fb76944803e707fbbc
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Jul 30 13:51:43 2018 -0700

    PHOENIX-4825 Replace usage of HBase Base64 implementation with java.util.Base64

 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  7 ++---
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |  8 +++---
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  7 ++---
 .../apache/phoenix/schema/types/PVarbinary.java    |  4 +--
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |  4 +--
 .../phoenix/util/json/JsonUpsertExecutor.java      |  4 +--
 .../phoenix/util/AbstractUpsertExecutorTest.java   | 12 ++++-----
 .../phoenix/util/TenantIdByteConversionTest.java   | 30 ++++++++++++++++++----
 8 files changed, 50 insertions(+), 26 deletions(-)

commit e65917eb2bea88715dc551407f234f2781b9ce70
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Sat Jul 28 11:49:08 2018 -0700

    PHOENIX-4824 Update BRANCH_NAMES in dev/test-patch.properties

 dev/test-patch.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6641f42d1f71864ed8bb1d00a1c082bcbff25ad7
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Jul 25 12:48:03 2018 -0700

    PHOENIX-3991 ROW_TIMESTAMP on TIMESTAMP column type throws ArrayOutOfBound when upserting without providing a value.

 .../org/apache/phoenix/end2end/RowTimestampIT.java | 26 ++++++++++++++++++----
 .../org/apache/phoenix/execute/MutationState.java  |  6 ++++-
 2 files changed, 27 insertions(+), 5 deletions(-)

commit 8a874cc95c3365a566453fb9ebbe8e31b6d51b38
Author: Vitaly Monastyrev <VMonastyrev@domain.corp>
Date:   Tue Jul 24 12:14:12 2018 -0400

    PHOENIX-4817 Fixed Phoenix Tracing Web Application (fixed check null, trace table name, webapp path, column names) and traceserver.py
    
    Closes #311
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/traceserver.py                                 |  6 +-
 .../apache/phoenix/tracingwebapp/http/Main.java    | 13 ++--
 .../phoenix/tracingwebapp/http/TraceServlet.java   | 87 +++++++++++++---------
 3 files changed, 62 insertions(+), 44 deletions(-)

commit f2781d43852557fa3a7b571047d13ab6f1530a7f
Author: 492066199 <492066199@qq.com>
Date:   Fri Jul 6 10:45:38 2018 +0800

    PHOENIX-4797 file not found or file exist exception when create global index use -snapshot option

 .../java/org/apache/phoenix/iterate/TableSnapshotResultIterator.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 360fb805d63268d150129a6ba24a542ed171e27b
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Sun Jul 22 14:19:15 2018 -0700

    PHOENIX-4818 Fix RAT check for missing licenses

 .../apache/phoenix/end2end/SplitSystemCatalogTests.java | 17 +++++++++++++++++
 .../end2end/StatsEnabledSplitSystemCatalogIT.java       | 17 +++++++++++++++++
 .../org/apache/phoenix/query/ConnectionCachingIT.java   | 17 +++++++++++++++++
 .../phoenix/schema/ParentTableNotFoundException.java    | 17 +++++++++++++++++
 4 files changed, 68 insertions(+)

commit d56fd3c991b0295aaa91ab916a0fdaed9c044402
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Sat Jul 14 11:34:47 2018 -0700

    PHOENIX-3534 Support multi region SYSTEM.CATALOG table (Thomas D'Silva and Rahul Gidwani)

 .../coprocessor/MetaDataEndpointImplIT.java        |  294 +++
 .../StatisticsCollectionRunTrackerIT.java          |    2 +-
 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  284 ++-
 .../org/apache/phoenix/end2end/AlterTableIT.java   |   45 +-
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  541 ++--
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |    4 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |   38 +-
 .../end2end/ExplainPlanWithStatsEnabledIT.java     |   69 +-
 .../MigrateSystemTablesToSystemNamespaceIT.java    |   38 +-
 .../apache/phoenix/end2end/PhoenixDriverIT.java    |   37 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |    9 +-
 .../phoenix/end2end/SplitSystemCatalogIT.java      |   80 +
 .../phoenix/end2end/SplitSystemCatalogTests.java   |   11 +
 .../end2end/StatsEnabledSplitSystemCatalogIT.java  |  244 ++
 .../SystemCatalogCreationOnConnectionIT.java       |   34 +-
 .../apache/phoenix/end2end/SystemCatalogIT.java    |   50 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   13 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   68 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  322 +--
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  844 +++++--
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |   43 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |    7 +-
 .../apache/phoenix/end2end/index/DropColumnIT.java |  117 -
 .../phoenix/end2end/index/IndexMetadataIT.java     |    4 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |  876 +++----
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   68 +-
 .../apache/phoenix/execute/PartialCommitIT.java    |    4 +-
 .../replication/SystemCatalogWALEntryFilterIT.java |   78 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |    9 +-
 .../ColumnNameTrackingExpressionCompiler.java}     |   39 +-
 .../phoenix/compile/CreateTableCompiler.java       |    2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   15 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |    2 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |    2 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |    2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |    2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 2672 ++++++++++----------
 .../phoenix/coprocessor/MetaDataProtocol.java      |    4 +-
 .../org/apache/phoenix/coprocessor/TableInfo.java  |   79 +
 .../phoenix/coprocessor/TableViewFinderResult.java |   48 +
 .../org/apache/phoenix/coprocessor/ViewFinder.java |  144 ++
 .../phoenix/coprocessor/WhereConstantParser.java   |  106 +
 .../coprocessor/generated/MetaDataProtos.java      |  626 ++++-
 .../coprocessor/generated/PTableProtos.java        |  323 ++-
 .../apache/phoenix/expression/LikeExpression.java  |    2 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |    8 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  531 ++--
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |    8 +-
 .../apache/phoenix/parse/DropTableStatement.java   |    8 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |    2 +-
 .../phoenix/query/ConnectionQueryServices.java     |   17 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   43 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   13 +-
 .../query/DelegateConnectionQueryServices.java     |    8 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   15 +-
 .../org/apache/phoenix/query/QueryServices.java    |    2 +
 .../apache/phoenix/query/QueryServicesOptions.java |    2 +
 .../replication/SystemCatalogWALEntryFilter.java   |   47 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   15 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   57 +-
 .../apache/phoenix/schema/MetaDataSplitPolicy.java |   26 +-
 .../java/org/apache/phoenix/schema/PColumn.java    |   12 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  113 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |    3 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   17 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  279 +-
 .../java/org/apache/phoenix/schema/PTableKey.java  |    4 +-
 .../schema/ParentTableNotFoundException.java       |   30 +
 .../org/apache/phoenix/schema/SaltingUtil.java     |    4 +-
 .../schema/SplitOnLeadingVarCharColumnsPolicy.java |    3 +
 .../org/apache/phoenix/schema/TableProperty.java   |   22 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   16 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  171 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |    1 -
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   43 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  168 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |    2 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |    3 +-
 .../execute/LiteralResultIteratorPlanTest.java     |    4 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |    8 +-
 .../phoenix/expression/ColumnExpressionTest.java   |    9 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  299 ++-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   22 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   18 +-
 phoenix-protocol/src/main/MetaDataService.proto    |    6 +
 phoenix-protocol/src/main/PTable.proto             |    6 +-
 pom.xml                                            |   18 +
 87 files changed, 6552 insertions(+), 3832 deletions(-)

commit 0af8b1e32c940fe14a66f23240013b4d702d8ec6
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jul 12 20:10:10 2018 -0700

    Revert "PHOENIX-4790 Simplify check for client side delete"
    
    This reverts commit 35366b37106833b43f69ed712e0e3fd1635842cb.

 .../org/apache/phoenix/compile/DeleteCompiler.java | 24 +++++++++++++++++-----
 1 file changed, 19 insertions(+), 5 deletions(-)

commit 2b43bea01e6231ca675cc5d681aedb83daa3c1e0
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jul 12 20:09:44 2018 -0700

    Revert "PHOENIX-4790 Addendum to check that query is a point lookup for delete not to run query"
    
    This reverts commit ab930f49762e5ccf3f4ac108a2402552753f0d6a.

 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java       | 3 ---
 1 file changed, 3 deletions(-)

commit f46e8bbcd48674f7de217feeac2679a593b042be
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jul 11 17:02:46 2018 -0400

    PHOENIX-4809 Only cache PhoenixConnections when lease renewal is on
    
    Lease renewal is the only mechanism under which connections are removed
    from the connectionQueue. Calling close() on a connection doesn't proactively
    remove it from the instance of ConnectionQueryServicesImpl.

 .../apache/phoenix/query/ConnectionCachingIT.java  | 87 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 11 ++-
 2 files changed, 97 insertions(+), 1 deletion(-)

commit ab930f49762e5ccf3f4ac108a2402552753f0d6a
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 11 22:01:14 2018 -0700

    PHOENIX-4790 Addendum to check that query is a point lookup for delete not to run query

 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java       | 3 +++
 1 file changed, 3 insertions(+)

commit b91d7b0d07c0a37b4d3617867225584b51895264
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jul 5 21:38:28 2018 -0700

    PHOENIX-3383 Comparison between descending row keys used in RVC is reverse

 .../org/apache/phoenix/end2end/QueryMoreIT.java    |   12 +-
 .../java/org/apache/phoenix/compile/KeyPart.java   |    2 -
 .../org/apache/phoenix/compile/ScanRanges.java     |   77 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java | 1304 ++++++++++++++------
 .../execute/PhoenixTxIndexMutationGenerator.java   |    2 +-
 .../expression/function/FunctionExpression.java    |   10 +-
 .../expression/function/InvertFunction.java        |   19 +-
 .../expression/function/PrefixFunction.java        |    6 +-
 .../phoenix/expression/function/RTrimFunction.java |    6 +-
 .../expression/function/RoundDateExpression.java   |   22 +-
 .../function/RoundDecimalExpression.java           |    7 +-
 .../phoenix/iterate/BaseResultIterators.java       |    4 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   10 -
 .../java/org/apache/phoenix/query/KeyRange.java    |   28 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    |   78 ++
 .../apache/phoenix/compile/QueryCompilerTest.java  |    2 +-
 .../apache/phoenix/compile/QueryOptimizerTest.java |    5 +-
 .../TenantSpecificViewIndexCompileTest.java        |    8 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  359 +++++-
 .../expression/RoundFloorCeilExpressionsTest.java  |   59 +-
 .../org/apache/phoenix/query/KeyRangeClipTest.java |    2 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |    8 +-
 .../apache/phoenix/schema/RowKeySchemaTest.java    |   48 +
 23 files changed, 1567 insertions(+), 511 deletions(-)

commit 35366b37106833b43f69ed712e0e3fd1635842cb
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jun 19 16:33:21 2018 +0200

    PHOENIX-4790 Simplify check for client side delete

 .../org/apache/phoenix/compile/DeleteCompiler.java | 24 +++++-----------------
 1 file changed, 5 insertions(+), 19 deletions(-)

commit ae2343042e022e24a69cf7754c63844af49085d3
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jul 4 07:50:39 2018 +0530

    Changed version to 5.1.0-HBase-2.0-SNAPSHOT

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-load-balancer/pom.xml      | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 15 files changed, 15 insertions(+), 15 deletions(-)

commit 8a819c6c3b4befce190c6ac759f744df511de61d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Jun 26 10:34:08 2018 -0700

    Updating KEYS for rajeshbabu@apache.org

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 479fab07f5e5798bfafcc7aebbe93669d804b72b
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Jun 26 10:33:24 2018 -0700

    Updating version to 5.0.0-HBase-2.0

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-load-balancer/pom.xml      | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 15 files changed, 15 insertions(+), 15 deletions(-)

commit 2d44700fac405abd017f0201ff4a4fa814204b1f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Jun 26 06:43:09 2018 -0700

    PHOENIX-4795 Fix failing pherf tests in 5.x branch(Rajeshbabu)

 phoenix-pherf/src/test/resources/hbase-site.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit cb962f946c64d89f84824e10a500258ae293ef45
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 22 16:00:54 2018 -0700

    PHOENIX-4399 Remove explicit abort on RegionServerServices (addendum)

 .../org/apache/phoenix/hbase/index/util/IndexManagementUtil.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b78f45c03ed014297fe848b106da86e58f4aa3e0
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 22 15:58:09 2018 -0700

    PHOENIX-4399 Remove explicit abort on RegionServerServices (addendum)

 .../java/org/apache/phoenix/hbase/index/util/IndexManagementUtil.java   | 2 ++
 1 file changed, 2 insertions(+)

commit aa2f12db9ac7e90fbc26f7906e184131f4917782
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 22 15:57:04 2018 -0700

    PHOENIX-4788 Shade Joda libraries in phoenix-server to avoid conflict with hbase shell

 phoenix-server/pom.xml | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 69b50f6caecd1c994412ae887726c1347f19e730
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 22 11:58:34 2018 -0700

    PHOENIX-4787 Upgrade spark version to 2.3.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 56318da6206df749c91877275f1b8e7dec8d848d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jun 21 16:30:16 2018 -0700

    PHOENIX-4785 Unable to write to table if index is made active during retry

 .../end2end/index/MutableIndexFailureIT.java       | 125 +++++++++++++++------
 .../index/MutableIndexFailureWithNamespaceIT.java  |  79 +++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  30 +++++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  71 +++++++++++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 5 files changed, 272 insertions(+), 34 deletions(-)

commit 2dd6310ea1057f2cb46361817e2b3a3ecb1887e7
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jun 21 14:41:36 2018 -0700

    Revert "PHOENIX-4768 Re-enable testCompactUpdatesStats and testCompactUpdatesStatsWithMinStatsUpdateFreq of StatsCollectorIT"
    
    This reverts commit 09c017e3cc8a2d1ec4ce27c65a5c76b71de138a0.

 .../it/java/org/apache/phoenix/schema/stats/StatsCollectorIT.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 43da29f4777f0f9ac9f5373bafe3c2e4643e26a5
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 18 15:00:02 2018 +0200

    PHOENIX-4789 Exception when setting TTL on Tephra transactional table

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 29 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  3 +++
 2 files changed, 32 insertions(+)

commit 8cceea6214297659e79d89f762c07349f84b74e9
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jun 15 15:41:21 2018 -0700

    PHOENIX-4786 Reduce log level to debug when logging new aggregate row key found and added results for scan ordered queries(Rajeshbabu)

 .../phoenix/coprocessor/GroupedAggregateRegionObserver.java       | 8 --------
 1 file changed, 8 deletions(-)

commit 61affd431b8c4a1730804f0c0d5a0035b797e178
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jun 15 10:38:05 2018 -0700

    PHOENIX-4528 PhoenixAccessController checks permissions only at table level when creating views(Karan Mehta)

 .../apache/phoenix/end2end/BasePermissionsIT.java  |  4 +
 .../phoenix/end2end/ChangePermissionsIT.java       | 26 +++++-
 .../coprocessor/PhoenixAccessController.java       | 95 +++++++++++++++-------
 3 files changed, 92 insertions(+), 33 deletions(-)

commit 16fa7f661496485cdf49d168747ca98777f5a58e
Author: Pedro Boado <pboado@apache.org>
Date:   Mon Jun 11 23:35:56 2018 +0100

    PHOENIX-4776 Remove creation of .md5 files from dev/make_rc.sh

 dev/make_rc.sh | 2 --
 1 file changed, 2 deletions(-)

commit 7ecf47443b5dcc4c6993463e20f9a13ea8564cb0
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jun 11 12:00:37 2018 +0530

    PHOENIX-4778 Fix rat:check failure on 5.x branch(Rajeshbabu)

 .../org/apache/phoenix/end2end/MutationStateIT.java     | 17 +++++++++++++++++
 .../phoenix/end2end/index/MutableIndexRebuilderIT.java  | 17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit abcf0d1ab3a85f8aa9bc5f5f5d54f6b229cfa247
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jun 7 11:02:55 2018 -0700

    PHOENIX-4772 phoenix.sequence.saltBuckets is not honoured

 .../org/apache/phoenix/end2end/SequenceIT.java     |  57 +----------
 .../phoenix/end2end/SequencePointInTimeIT.java     | 112 +++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  13 ++-
 .../query/ConnectionlessQueryServicesImpl.java     |   8 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../java/org/apache/phoenix/schema/Sequence.java   |   6 +-
 6 files changed, 139 insertions(+), 59 deletions(-)

commit 1b18d3474d2e3deca429374dac60062b48fe1592
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jun 7 11:01:14 2018 -0700

    PHOENIX-4544 Update statistics inconsistent behavior

 .../StatisticsCollectionRunTrackerIT.java          | 32 +++++++++------
 .../UngroupedAggregateRegionObserver.java          |  7 +---
 .../org/apache/phoenix/schema/MetaDataClient.java  |  8 ++--
 .../stats/StatisticsCollectionRunTracker.java      | 46 +++++++++++++++++++---
 .../java/org/apache/phoenix/util/ByteUtil.java     | 16 +++++++-
 5 files changed, 83 insertions(+), 26 deletions(-)

commit 5aebc96b6882f2b4a050b184547e98b27f500da5
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 4 20:27:36 2018 -0700

    PHOENIX-4773 Move HTable rollback wrapper into Tephra TAL method

 .../apache/phoenix/cache/ServerCacheClient.java    |  23 ++-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   7 +-
 .../org/apache/phoenix/execute/MutationState.java  | 196 ++-------------------
 .../execute/PhoenixTxIndexMutationGenerator.java   |  42 +++++
 .../phoenix/index/IndexMetaDataCacheClient.java    |  67 ++++++-
 .../org/apache/phoenix/join/HashCacheClient.java   |   5 +-
 .../transaction/OmidTransactionContext.java        |   3 +-
 .../transaction/PhoenixTransactionContext.java     |   5 +-
 .../transaction/TephraTransactionContext.java      |  92 +++++++++-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   8 +
 10 files changed, 237 insertions(+), 211 deletions(-)

commit 44c1aaaa9a4e9b23d71a7abfed5250286e8560aa
Author: Josh Elser <elserj@apache.org>
Date:   Tue May 29 14:14:04 2018 -0400

    PHOENIX-4758 Validate that HADOOP_CONF_DIR is not set for HiveMRIT

 .../src/it/java/org/apache/phoenix/hive/HiveMapReduceIT.java      | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 3b1c0d31743bc9d9a4b99d6a0d276c00ddbd837c
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:20:40 2018 -0700

    PHOENIX-4770 Re-enable pending tests which were ignored during 5.0.0 alpha

 .../phoenix/end2end/IndexScrutinyToolIT.java       |  8 ++--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  2 -
 .../schema/types/PDataTypeForArraysTest.java       | 54 ++--------------------
 3 files changed, 8 insertions(+), 56 deletions(-)

commit 09c017e3cc8a2d1ec4ce27c65a5c76b71de138a0
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:17:58 2018 -0700

    PHOENIX-4768 Re-enable testCompactUpdatesStats and testCompactUpdatesStatsWithMinStatsUpdateFreq of StatsCollectorIT

 .../it/java/org/apache/phoenix/schema/stats/StatsCollectorIT.java | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 3df50d8c2a38f53e7c978bd0d36197167256e306
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:15:14 2018 -0700

    This reverts commit 3a7c9033936779f5290f4fabdd4912c27f7af64f to just fix the JIRA No.

 .../it/java/org/apache/phoenix/schema/stats/StatsCollectorIT.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 3a7c9033936779f5290f4fabdd4912c27f7af64f
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:13:41 2018 -0700

    PHOENIX-4769 Annotate SystemCatalogIT so that it will run with the test suite

 .../it/java/org/apache/phoenix/schema/stats/StatsCollectorIT.java | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit f8a1f1ece77a9684b72d04a2d25148cb044e56ce
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:12:22 2018 -0700

    PHOENIX-4769 Annotate SystemCatalogIT so that it will run with the test suite.

 .../it/java/org/apache/phoenix/end2end/SystemCatalogIT.java | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit c489587e4ee91be922e7dca2ee7f1aba47d75a4d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 1 14:10:15 2018 -0700

    PHOENIX-4459 Region assignments are failing for the test cases with extended clocks to support SCN(Sergey Soldatov)

 .../phoenix/end2end/ConcurrentMutationsIT.java     |  76 +++++----------
 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  17 +++-
 .../end2end/index/PartialIndexRebuilderIT.java     | 105 ++++-----------------
 3 files changed, 54 insertions(+), 144 deletions(-)

commit eeea6c60f299de73d0ebfd83b779f19476aa1fa9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jun 1 09:03:21 2018 -0700

    PHOENIX-4762 Performance regression with transactional immutable indexes

 .../phoenix/end2end/index/MutableIndexIT.java      |   8 +-
 .../org/apache/phoenix/execute/MutationState.java  | 685 +++++++++++----------
 .../execute/PhoenixTxIndexMutationGenerator.java   |   2 +-
 .../transaction/OmidTransactionContext.java        |   6 +
 .../transaction/PhoenixTransactionContext.java     |   6 +
 .../transaction/TephraTransactionContext.java      |  16 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  28 -
 7 files changed, 379 insertions(+), 372 deletions(-)

commit d79c30023af47f32e2dac9d871aa75265cebc34f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu May 31 12:07:29 2018 -0700

    PHOENIX-4759 During restart RS that hosts SYSTEM.CATALOG table may get stuck

 .../apache/phoenix/coprocessor/MetaDataEndpointImpl.java  |  6 +++---
 .../org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 15 +++++++++++++++
 .../org/apache/phoenix/exception/SQLExceptionCode.java    |  6 +++---
 .../hbase/index/write/ParallelWriterIndexCommitter.java   |  4 ++--
 .../index/write/TrackingParallelWriterIndexCommitter.java |  6 +++---
 .../apache/phoenix/index/PhoenixTransactionalIndexer.java |  4 ++--
 .../org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java  |  1 +
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java |  4 ++--
 .../java/org/apache/phoenix/schema/MetaDataClient.java    |  4 ++--
 .../src/main/java/org/apache/phoenix/util/ScanUtil.java   |  3 +--
 10 files changed, 34 insertions(+), 19 deletions(-)

commit b21877d75b66cb2c738f4949b444623981f30d95
Author: Sergey Soldatov <ssa@apache.org>
Date:   Sun May 27 23:05:00 2018 -0700

    PHOENIX-4756 Integration tests for PhoenixStorageHandler doesn't work on 5.x branch

 phoenix-hive/pom.xml                               | 29 ++++++++++++++++++++++
 .../apache/phoenix/hive/HivePhoenixStoreIT.java    |  9 ++++---
 .../constants/PhoenixStorageHandlerConstants.java  |  4 +--
 .../PhoenixByteObjectInspector.java                |  2 +-
 .../PhoenixDoubleObjectInspector.java              |  2 +-
 5 files changed, 39 insertions(+), 7 deletions(-)

commit 8a955d47dd15e52fa423cff1df09499818307b01
Author: Alex Araujo <alexaraujo@gmail.com>
Date:   Wed May 23 10:28:48 2018 -0500

    PHOENIX-4749 Allow impersonation when SPNEGO is disabled
    
    Client impersonation is no longer tied to SPNEGO auth.
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../phoenix/queryserver/server/QueryServer.java    | 90 ++++++++++++----------
 .../server/QueryServerConfigurationTest.java       | 72 +++++++++++++++++
 2 files changed, 121 insertions(+), 41 deletions(-)

commit c8db63adc3067f509fa820a5ed22588229ec165f
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri May 25 11:31:06 2018 -0700

    PHOENIX-1567 Publish Phoenix-Client & Phoenix-Server jars into Maven Repo

 phoenix-client/pom.xml | 1 +
 phoenix-server/pom.xml | 1 +
 2 files changed, 2 insertions(+)

commit bac88a6d4382b5302186b8d95f6034bdd749ac48
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri May 25 09:36:41 2018 -0700

    PHOENIX-4728 ARRAY_APPEND and ARRAY_REMOVE should work with null column value (Xavier Jodoin)

 .../phoenix/end2end/ArrayAppendFunctionIT.java     | 38 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |  2 +-
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 824860ca7a9de83cbc2d2f257cd5dc9646ed97f9
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri May 25 00:39:50 2018 -0700

    PHOENIX-4580 Upgrade to Tephra 0.14.0-incubating for HBase 2.0 support

 phoenix-core/pom.xml                               |   2 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   3 +-
 .../end2end/index/GlobalImmutableTxIndexIT.java    |   2 -
 .../end2end/index/GlobalMutableTxIndexIT.java      |   2 -
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   6 +-
 .../end2end/index/LocalImmutableTxIndexIT.java     |   2 -
 .../end2end/index/LocalMutableTxIndexIT.java       |   2 -
 .../phoenix/end2end/index/MutableIndexIT.java      |  13 +-
 .../end2end/index/txn/MutableRollbackIT.java       |   2 -
 .../apache/phoenix/tx/FlappingTransactionIT.java   |   2 -
 .../phoenix/tx/ParameterizedTransactionIT.java     |   1 -
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |   2 -
 .../transaction/TephraTransactionContext.java      |   1 +
 .../transaction/TransactionAwareHTable.java        | 689 ---------------------
 pom.xml                                            |   4 +-
 15 files changed, 13 insertions(+), 720 deletions(-)

commit e3257489c986bc2b17cb9a2595916b006c37ff88
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu May 24 10:46:14 2018 -0700

    PHOENIX-4723 Fix UpsertSelectOverlappingBatchesIT#testSplitDuringUpsertSelect test

 .../org/apache/phoenix/execute/UpsertSelectOverlappingBatchesIT.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1b2c95094701bf62e1f646ba33d070aba0ac3d94
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu May 24 16:33:15 2018 +0530

    PHOENIX-4671 Fix minor size accounting bug for MutationSize(Lars Hofhansl)

 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 28 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  |  1 +
 2 files changed, 29 insertions(+)

commit 09bd6983c798a52173ac9dd883d737ddcfad7034
Author: Josh Elser <elserj@apache.org>
Date:   Mon May 7 20:01:35 2018 -0700

    PHOENIX-4706 Remove bundling dependencies into phoenix-core

 phoenix-core/pom.xml | 28 ----------------------------
 1 file changed, 28 deletions(-)

commit b760e27fba3f664e64e01d32283b7c3b0e48c015
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon May 21 14:49:49 2018 -0700

    PHOENIX-4739 Update phoenix 5.0 with hive new API getBufferedRowCount

 .../org/apache/phoenix/hive/PhoenixRecordUpdater.java   | 17 +++++++++++------
 .../phoenix/hive/mapreduce/PhoenixRecordWriter.java     | 17 +++++++++++------
 pom.xml                                                 |  2 +-
 3 files changed, 23 insertions(+), 13 deletions(-)

commit 9b921b2945cdb64822f8d83e7acb52458e762c9d
Author: maryannxue <maryann.xue@gmail.com>
Date:   Mon May 21 10:07:27 2018 -0700

    PHOENIX-4692 ArrayIndexOutOfBoundsException in ScanRanges.intersectScan

 .../org/apache/phoenix/end2end/SkipScanQueryIT.java | 21 +++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereCompiler.java   | 12 ++++++------
 .../org/apache/phoenix/execute/BaseQueryPlan.java   |  2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java    |  5 ++++-
 4 files changed, 32 insertions(+), 8 deletions(-)

commit 87ab023de53d18d6a24f28be3fc0b0e42c722ae5
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri May 18 20:42:34 2018 -0700

    PHOENIX-4704 Presplit index tables when building asynchronously

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 105 ++++++++++++++-
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 144 ++++++++++++++++++++-
 2 files changed, 243 insertions(+), 6 deletions(-)

commit eb34a8af7ed7940dafbf431b9627d41f54e489dd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri May 18 08:46:38 2018 -0700

    PHOENIX-4742 DistinctPrefixFilter potentially seeks to lesser key when descending or null value

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 45 ++++++++++------------
 .../GroupedAggregateRegionObserver.java            |  4 +-
 .../phoenix/filter/DistinctPrefixFilter.java       | 31 +++++++++++----
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  4 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    | 20 ++++++----
 5 files changed, 61 insertions(+), 43 deletions(-)

commit 3d0c724c13492f677f6361b07619772843948e73
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Thu May 3 17:07:27 2018 -0700

    PHOENIX-4724 Efficient Equi-Depth histogram for streaming data

 .../phoenix/util/EquiDepthStreamHistogram.java     | 453 +++++++++++++++++++++
 .../phoenix/util/EquiDepthStreamHistogramTest.java | 303 ++++++++++++++
 2 files changed, 756 insertions(+)

commit 54d19ce1a60ccdadf463eaee28710f0a07934f41
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed May 16 21:37:02 2018 -0700

    PHOENIX-4701 Write client-side metrics asynchronously to SYSTEM.LOG(addendum 2)

 .../src/it/java/org/apache/phoenix/end2end/QueryWithLimitIT.java      | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9ddcd8637f35cae114a4a487886ec52aa9da3a96
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 16 17:53:46 2018 -0700

    PHOENIX-4685 Properly handle connection caching for Phoenix inside RegionServers(addendum) (James Taylor)

 .../main/java/org/apache/phoenix/util/ServerUtil.java    | 16 ++++++++++++++++
 .../src/test/java/org/apache/phoenix/query/BaseTest.java | 13 +++++++++----
 2 files changed, 25 insertions(+), 4 deletions(-)

commit fc562a3ba71f3f0fd3012dfd8afb2102b90f0e19
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 16 17:09:00 2018 -0700

    PHOENIX-4701 Write client-side metrics asynchronously to SYSTEM.LOG(addendum)

 .../apache/phoenix/monitoring/PhoenixMetricsIT.java    |  7 +++----
 .../org/apache/phoenix/compile/StatementContext.java   |  4 ++--
 .../java/org/apache/phoenix/execute/MutationState.java |  4 ++--
 .../apache/phoenix/monitoring/CombinableMetric.java    |  9 +++++++++
 .../phoenix/monitoring/CombinableMetricImpl.java       | 14 +++++++++++---
 .../java/org/apache/phoenix/monitoring/MetricUtil.java |  4 ++--
 .../apache/phoenix/monitoring/MutationMetricQueue.java | 18 ++++++------------
 .../apache/phoenix/monitoring/OverAllQueryMetrics.java | 14 +++++++-------
 .../org/apache/phoenix/monitoring/ReadMetricQueue.java | 14 ++++++++++----
 .../apache/phoenix/monitoring/ScanMetricsHolder.java   |  4 ++--
 .../phoenix/monitoring/SpoolingMetricsHolder.java      |  2 +-
 .../phoenix/monitoring/TaskExecutionMetricsHolder.java |  2 +-
 .../phoenix/iterate/SpoolingResultIteratorTest.java    |  2 +-
 13 files changed, 57 insertions(+), 41 deletions(-)

commit e58fee341b9904c1c91b3295640ff4342d719105
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon May 14 21:50:30 2018 -0700

    PHOENIX-3163 Split during global index creation may cause ERROR 201 error (addendum)

 .../src/main/java/org/apache/phoenix/iterate/TableResultIterator.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 234454f795f1912a2040158558d42fcc5c9b3e5d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun May 13 17:36:21 2018 -0700

    PHOENIX-4737 Use position as column qualifier for APPEND_ONLY_SCHEMA

 .../phoenix/end2end/ColumnEncodedBytesPropIT.java  | 60 ++++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  9 +++-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 11 ++--
 3 files changed, 75 insertions(+), 5 deletions(-)

commit d77a7c80f134f5cbecd7cb3888153996c838adc7
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon May 14 14:22:42 2018 -0700

    PHOENIX-4701 Write client-side metrics asynchronously to SYSTEM.LOG

 .../org/apache/phoenix/end2end/QueryLoggerIT.java  |  76 ++++++-----
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  28 ++--
 .../apache/phoenix/compile/StatementContext.java   |   4 +-
 .../org/apache/phoenix/execute/MutationState.java  |   2 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |   2 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   3 +-
 .../apache/phoenix/iterate/SerialIterators.java    |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  10 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  54 ++++----
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  21 ++-
 .../main/java/org/apache/phoenix/log/LogLevel.java |   2 +-
 .../java/org/apache/phoenix/log/LogWriter.java     |   6 +-
 .../java/org/apache/phoenix/log/QueryLogInfo.java  |  38 +++---
 .../java/org/apache/phoenix/log/QueryLogger.java   |  74 +++++++----
 .../org/apache/phoenix/log/QueryLoggerUtil.java    |  62 ++++-----
 .../log/{QueryLogState.java => QueryStatus.java}   |   4 +-
 .../org/apache/phoenix/log/RingBufferEvent.java    |  38 ++++--
 .../phoenix/log/RingBufferEventTranslator.java     |  21 ++-
 .../org/apache/phoenix/log/TableLogWriter.java     | 144 +++++++++++++--------
 .../phoenix/mapreduce/PhoenixRecordReader.java     |  13 +-
 .../phoenix/monitoring/MemoryMetricsHolder.java    |   1 -
 .../org/apache/phoenix/monitoring/MetricType.java  | 123 ++++++++++++------
 .../org/apache/phoenix/monitoring/MetricUtil.java  |  30 +++++
 .../phoenix/monitoring/MutationMetricQueue.java    |  18 ++-
 .../phoenix/monitoring/OverAllQueryMetrics.java    |  21 ++-
 .../apache/phoenix/monitoring/ReadMetricQueue.java |  27 ++--
 .../phoenix/monitoring/ScanMetricsHolder.java      |   9 +-
 .../phoenix/monitoring/SpoolingMetricsHolder.java  |   3 +-
 .../monitoring/TaskExecutionMetricsHolder.java     |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   7 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   7 +-
 .../org/apache/phoenix/query/QueryConstants.java   | 124 ++----------------
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   7 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   4 +
 .../iterate/SpoolingResultIteratorTest.java        |   7 +-
 .../hive/mapreduce/PhoenixRecordReader.java        |   3 +-
 39 files changed, 545 insertions(+), 459 deletions(-)

commit b583630caba137368213f727cdd064b5dea98843
Author: Xu Cang <xcang@salesforce.com>
Date:   Mon May 7 14:25:42 2018 -0700

    PHOENIX-4726 save sync index build start timestamp

 .../apache/phoenix/jdbc/PhoenixDatabaseMetaData.java    |  1 +
 .../java/org/apache/phoenix/schema/MetaDataClient.java  | 17 +++++++++++++++++
 2 files changed, 18 insertions(+)

commit 37a33e844b936902e890c03dfa1097efeea39150
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon May 14 10:24:27 2018 -0700

    Revert "PHOENIX-4726 save index build timestamp -- for SYNC case only"
    
    This reverts commit db042d360f1f69d56bd18a78c6852c0ab423162c.

 .../apache/phoenix/jdbc/PhoenixDatabaseMetaData.java    |  1 -
 .../java/org/apache/phoenix/schema/MetaDataClient.java  | 17 -----------------
 2 files changed, 18 deletions(-)

commit db042d360f1f69d56bd18a78c6852c0ab423162c
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon May 14 10:10:32 2018 -0700

    PHOENIX-4726 save index build timestamp -- for SYNC case only

 .../apache/phoenix/jdbc/PhoenixDatabaseMetaData.java    |  1 +
 .../java/org/apache/phoenix/schema/MetaDataClient.java  | 17 +++++++++++++++++
 2 files changed, 18 insertions(+)

commit e05f2bceae498573f124d12e5c570af9ca02cf7e
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat May 12 03:00:49 2018 +0530

    PHOENIX-4685 Properly handle connection caching for Phoenix inside RegionServers-addendum(Rajeshbabu)

 phoenix-core/src/main/java/org/apache/phoenix/util/ServerUtil.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit ded15dc4236f62defd666d84bfd2d15d999c9016
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu May 10 16:30:36 2018 -0700

    PHOENIX-4734 SQL Query with an RVC expression lexographically higher than all values in an OR clause causes query to blow up

 .../phoenix/end2end/RowValueConstructorIT.java     | 120 +++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |   5 +
 2 files changed, 125 insertions(+)

commit b13b543635af2a46611ed7e64da091752355d8bb
Author: Xu Cang <xcang@salesforce.com>
Date:   Mon May 7 16:21:46 2018 -0700

    Fix PhoenixMRJobSubmitter submits duplicate MR jobs for an index build from indexTool

 .../apache/phoenix/mapreduce/index/IndexTool.java  |  6 ++---
 .../index/automation/PhoenixAsyncIndex.java        |  2 +-
 .../index/automation/PhoenixMRJobSubmitter.java    |  2 +-
 .../index/automated/MRJobSubmitterTest.java        | 30 +++++++++++++++++-----
 4 files changed, 28 insertions(+), 12 deletions(-)

commit 9278bc02bd441fcc5c5cbe7f839fb546fc68067c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 10 12:31:58 2018 -0700

    PHOENIX-3163 Split during global index creation may cause ERROR 201 error (Sergey Soldatov)

 .../apache/phoenix/compile/StatementContext.java   |  9 +++
 .../org/apache/phoenix/compile/UpsertCompiler.java |  1 +
 .../phoenix/iterate/TableResultIterator.java       | 71 ++++++++++++----------
 3 files changed, 50 insertions(+), 31 deletions(-)

commit d9308c56b53d4008ba791cf87d3111c21accc422
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 9 14:16:25 2018 -0700

    PHOENIX-4733 NPE while running sql through file using psql

 .../org/apache/phoenix/log/QueryLoggerUtil.java    | 24 +++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit 0a554fcfb6a181f681a1d9d3c221b4d1f62ad850
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 9 14:15:40 2018 -0700

    Revert "NPE while running sql through file using psql"
    
    Needs a JIRA number
    This reverts commit a83afc4a6dc1500400890c263ceaae896fe04f55.

 .../org/apache/phoenix/log/QueryLoggerUtil.java    | 24 +++++++---------------
 1 file changed, 7 insertions(+), 17 deletions(-)

commit a83afc4a6dc1500400890c263ceaae896fe04f55
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 9 13:52:31 2018 -0700

    NPE while running sql through file using psql

 .../org/apache/phoenix/log/QueryLoggerUtil.java    | 24 +++++++++++++++-------
 1 file changed, 17 insertions(+), 7 deletions(-)

commit ff0b8089d8c15154cbe875a535c33a62d72fe26a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed May 9 13:12:26 2018 -0700

    PHOENIX-4646 The data exceeds the max capacity for the data type error for valid scenarios (Sergey Soldatov)

 .../org/apache/phoenix/end2end/UpsertSelectIT.java    | 19 +++++++++++++++++++
 .../org/apache/phoenix/schema/types/PVarchar.java     | 10 ++++++----
 2 files changed, 25 insertions(+), 4 deletions(-)

commit 9516b14ab3103c387bd06f1938bdd33f45e893f1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed May 9 12:50:22 2018 -0700

    PHOENIX-4678 ndexScrutinyTool generates malformed query due to incorrect table name(s) (Josh Elser)

 phoenix-core/src/main/java/org/apache/phoenix/util/SchemaUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d53215696912bf2557867cd1ac334f84b6492fd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue May 8 16:29:41 2018 -0700

    PHOENIX-4623 Inconsistent physical view index name

 .../it/java/org/apache/phoenix/end2end/BaseViewIT.java |  7 +++----
 .../src/it/java/org/apache/phoenix/end2end/ViewIT.java |  2 +-
 .../apache/phoenix/schema/stats/StatsCollectorIT.java  |  2 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java     | 18 +++++-------------
 .../main/java/org/apache/phoenix/util/UpgradeUtil.java |  2 +-
 5 files changed, 11 insertions(+), 20 deletions(-)

commit 33a6d9d86d61485393d245ec4c9d1ad39c82cb4f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon May 7 18:23:03 2018 -0700

    PHOENIX-4727 Parameterize transaction tests with TRANSACTION_PROVIDER

 .../phoenix/end2end/index/MutableIndexIT.java      | 22 ++++---
 .../phoenix/tx/ParameterizedTransactionIT.java     |  1 +
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 75 ++++++++++++++++------
 .../java/org/apache/phoenix/util/TestUtil.java     |  6 +-
 4 files changed, 75 insertions(+), 29 deletions(-)

commit 294ff5898b4e1b5c0de4aa6b261cc83fdfd349ee
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 3 09:52:57 2018 -0700

    PHOENIX-3270 Remove @Ignore tag for TransactionIT.testNonTxToTxTableFailure()

 .../src/it/java/org/apache/phoenix/tx/ParameterizedTransactionIT.java   | 2 --
 1 file changed, 2 deletions(-)

commit 23b0faa87333040d5634903c5c1d4c8405d75c41
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 3 09:32:57 2018 -0700

    PHOENIX-3856 StatementContext class constructor not honouring supplied scan object (Sukumar Maddineni)

 .../src/main/java/org/apache/phoenix/compile/StatementContext.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 933ef6aaeeccc98c9a62c49c01c4cf71547c614f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue May 8 15:26:44 2018 -0700

    PHOENIX-4732 Improve config defaults for async secondary index MR jobs

 .../index/automation/PhoenixMRJobSubmitter.java    | 46 +++++++++++++++++++++-
 .../org/apache/phoenix/util/PhoenixMRJobUtil.java  | 18 ++++-----
 2 files changed, 51 insertions(+), 13 deletions(-)

commit 254c0a2ae14605402fa8ac7d3402fc587a52102d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon May 7 23:02:43 2018 +0530

    PHOENIX-4685 Properly handle connection caching for Phoenix inside RegionServers(Rajeshbabu)

 .../DelegateRegionCoprocessorEnvironment.java      |  11 +-
 .../UngroupedAggregateRegionObserver.java          |  12 +--
 .../org/apache/phoenix/hbase/index/Indexer.java    |  19 +---
 .../hbase/index/write/IndexWriterUtils.java        |  56 +++-------
 .../phoenix/index/PhoenixTransactionalIndexer.java |  18 +---
 .../schema/stats/DefaultStatisticsCollector.java   |   4 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |   4 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   | 114 ++++++++++++++++++++-
 8 files changed, 150 insertions(+), 88 deletions(-)

commit 6db0cb04df9633812365a6280a07a0a7a3caba6d
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue May 1 13:32:45 2018 -0700

    PHOENIX-4712 When creating an index on a table, meta data cache of views related to the table isn't updated

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 46 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 11 ++++--
 2 files changed, 53 insertions(+), 4 deletions(-)

commit 87564a8647705d85921126ae538ba922a4c69037
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 30 19:50:34 2018 -0700

    PHOENIX-4720 SequenceIT is flapping

 .../org/apache/phoenix/end2end/SequenceIT.java     | 42 +++++++++++++++++++++-
 .../coprocessor/SequenceRegionObserver.java        |  3 +-
 2 files changed, 43 insertions(+), 2 deletions(-)

commit ec5929a9537605caea2eedd427f26ab82cd238aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 30 22:57:49 2018 -0700

    PHOENIX-4721 Adding PK column to a table with multiple secondary indexes fails

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 45 +++++++++++++++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  3 +-
 2 files changed, 46 insertions(+), 2 deletions(-)

commit 08ce089c3f14d531dc2c78c8b1788b4f93508ce0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 30 22:03:38 2018 -0700

    PHOENIX-4718 Decrease overhead of tracking aggregate heap size

 .../apache/phoenix/end2end/SpillableGroupByIT.java | 17 ++--
 .../GroupedAggregateRegionObserver.java            | 95 +++++++++++-----------
 .../UngroupedAggregateRegionObserver.java          | 48 +++++------
 .../phoenix/execute/ClientAggregatePlan.java       |  2 +-
 .../phoenix/expression/aggregator/Aggregator.java  |  9 +-
 .../phoenix/expression/aggregator/Aggregators.java |  3 +-
 .../expression/aggregator/BaseAggregator.java      |  4 +
 .../expression/aggregator/ClientAggregators.java   |  3 +-
 .../DistinctValueWithCountServerAggregator.java    | 15 ++--
 .../NonSizeTrackingServerAggregators.java          | 42 ++++++++++
 .../expression/aggregator/ServerAggregators.java   | 42 +++++-----
 .../aggregator/SizeTrackingServerAggregators.java  | 59 ++++++++++++++
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 .../apache/phoenix/compile/QueryCompilerTest.java  |  4 +-
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +
 16 files changed, 231 insertions(+), 116 deletions(-)

commit 4e2901ca2ff7b2595961e73653b4d24dc6d4a30c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 30 19:49:39 2018 -0700

    PHOENIX-4719 Avoid static initialization deadlock while loading regions (Pedro Boado)

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java  | 2 ++
 phoenix-core/src/main/java/org/apache/phoenix/query/QueryConstants.java | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 8e2a64e22e360ec9f4090154ed8f989b18ad0a43
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 27 18:25:56 2018 -0700

    PHOENIX-4716 ParameterizedTransactionIT is failing in 0.98 branch

 .../phoenix/tx/ParameterizedTransactionIT.java     | 37 ++++++++++++----------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit 27b3ac348e4f6ebe61acb195420356e44e243783
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 13:38:05 2018 -0700

    PHOENIX-4709 Alter split policy in upgrade path for system tables

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  17 ++++
 .../org/apache/phoenix/query/QueryConstants.java   | 111 ++++++++++++++++++++-
 3 files changed, 125 insertions(+), 4 deletions(-)

commit 2649410f51e4076dcf0d95b546c2ccc260dccbb1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 17:13:48 2018 -0700

    PHOENIX-4711 Unable to set property on table with VARBINARY as last column

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 12 +++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 22 ++++++++++++----------
 2 files changed, 19 insertions(+), 15 deletions(-)

commit 987ac8c4ea8a907ac9a0a526b1a80e3d33787ecc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 12:48:14 2018 -0700

    PHOENIX-4710 Don't set KEEP_DELETED_CELLS or VERSIONS for SYSTEM.LOG

 .../main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java | 1 -
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 7 +------
 .../org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java  | 7 +------
 3 files changed, 2 insertions(+), 13 deletions(-)

commit b722c5c27cabfb6009a01e06559c293bda594e6e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 12:37:26 2018 -0700

    PHOENIX-4705 Use XMLInputFactory.newInstance() instead of XMLInputFactory.newFactory()

 .../phoenix/pherf/configuration/XMLConfigParser.java   |  2 +-
 .../phoenix/pherf/result/impl/XMLResultHandler.java    | 18 ++++++++++--------
 2 files changed, 11 insertions(+), 9 deletions(-)

commit fcd94ba426fcfc58502a3173f7c32e91bf17890c
Author: Josh Elser <elserj@apache.org>
Date:   Thu Apr 26 10:00:16 2018 -0400

    PHOENIX-4707 Include python driver in assembly

 phoenix-assembly/src/build/components/all-common-files.xml | 5 +++++
 phoenix-assembly/src/build/src.xml                         | 7 ++++++-
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 24522c5a7bedb22c82c611ad065096b5fade1c91
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 09:40:35 2018 -0700

    PHOENIX-4708 Do not propagate GUIDE_POSTS_WIDTH to children

 .../phoenix/end2end/AlterTableWithViewsIT.java     |  22 ++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 115 ++++++---
 .../org/apache/phoenix/schema/TableProperty.java   | 270 +++++++++++----------
 3 files changed, 248 insertions(+), 159 deletions(-)

commit fd3fd97bed2c0b5b112a3a42d08bd4ac88182af8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 26 09:14:52 2018 -0700

    PHOENIX-4686 Phoenix stats does not account for server side limit push downs (Abhishek Chouhan)

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 49 ++++++++++++++++++++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  4 +-
 .../phoenix/iterate/BaseResultIterators.java       | 50 +++++++++++++++++++---
 .../apache/phoenix/iterate/ParallelIterators.java  |  8 ++++
 .../apache/phoenix/iterate/SerialIterators.java    | 13 +++---
 .../phoenix/schema/stats/StatisticsUtil.java       |  6 +++
 6 files changed, 111 insertions(+), 19 deletions(-)

commit 0fd367ba862cbd0748e20d548cac7fad05d11a30
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 19 15:09:43 2018 -0700

    PHOENIX-4694 Prevent locking of parent table when dropping view to reduce contention

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d582bd30110b610011e191b126e0cb119534b5b7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 23 10:14:36 2018 -0700

    PHOENIX-4700 Fix split policy on system tables other than SYSTEM.CATALOG

 .../org/apache/phoenix/query/QueryConstants.java   | 115 +--------------------
 .../schema/SplitOnLeadingVarCharColumnsPolicy.java |  43 ++++++++
 .../phoenix/schema/SystemFunctionSplitPolicy.java  |  27 +++++
 .../phoenix/schema/SystemStatsSplitPolicy.java     |  27 +++++
 .../phoenix/schema/SystemSplitPolicyTest.java      |  97 +++++++++++++++++
 5 files changed, 199 insertions(+), 110 deletions(-)

commit d0e89aaae5a62ddb1e9fb4bf8f2fb488b25ae616
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 19 14:42:24 2018 -0700

    PHOENIX-4698 Tolerate orphaned views (Maddineni Sukumar)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 48 ++++++++++++++--------
 1 file changed, 32 insertions(+), 16 deletions(-)

commit 514eacdbc59e58209535a7246e756e3182c34f36
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 19 14:39:27 2018 -0700

    PHOENIX-4699 Stop scan after finding first child of table during drop

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 45 +++++++++++++---------
 1 file changed, 26 insertions(+), 19 deletions(-)

commit b7321c117c6321f6c8cb4627b9c2daaf2526f90c
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Apr 24 11:28:15 2018 +0530

    PHOENIX-4645 PhoenixStorageHandler doesn't handle correctly data/timestamp in push down predicate when engine is tez.(Sergey Soldatov)

 .../apache/phoenix/hive/HivePhoenixStoreIT.java    | 27 ++++++++++++++++++++++
 .../constants/PhoenixStorageHandlerConstants.java  |  8 +++----
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |  4 ++--
 3 files changed, 33 insertions(+), 6 deletions(-)

commit f640e2dd517bf4247d32c7dec77ce303db3196ad
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Apr 20 14:22:10 2018 -0700

    PHOENIX-4601 Perform server-side retries if client version < 4.14

 .../hbase/index/write/IndexWriterUtils.java        | 39 +++++++++++++++++-----
 .../index/write/ParallelWriterIndexCommitter.java  | 12 +++++--
 .../TrackingParallelWriterIndexCommitter.java      | 13 +++++---
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  1 +
 4 files changed, 50 insertions(+), 15 deletions(-)

commit 53b35099cc7ee2d31eed035a999d0223b24011b4
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Thu Apr 19 10:30:14 2018 -0700

    PHOENIX-4600 Add retry logic for partial index rebuilder writes

 .../end2end/index/MutableIndexRebuilderIT.java     | 143 +++++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          |  30 +++--
 2 files changed, 160 insertions(+), 13 deletions(-)

commit 23ed654726149c859c51cdadfb8b3329e1464553
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 20 11:44:13 2018 -0700

    PHOENIX-4613 Thread clientVersion through to IndexCommitter implementors

 .../org/apache/phoenix/hbase/index/Indexer.java     | 14 ++++++++++----
 .../hbase/index/builder/IndexBuildManager.java      |  4 ++++
 .../phoenix/hbase/index/covered/IndexMetaData.java  | 12 +++++++++++-
 .../phoenix/hbase/index/write/IndexCommitter.java   |  2 +-
 .../phoenix/hbase/index/write/IndexWriter.java      | 21 +++++++++++----------
 .../index/write/ParallelWriterIndexCommitter.java   |  2 +-
 .../hbase/index/write/RecoveryIndexWriter.java      |  4 ++--
 .../write/TrackingParallelWriterIndexCommitter.java |  2 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java  |  9 +++++++--
 .../hbase/index/covered/LocalTableStateTest.java    | 18 +++++++++++++++++-
 .../phoenix/hbase/index/write/TestIndexWriter.java  |  5 +++--
 .../hbase/index/write/TestParalleIndexWriter.java   |  4 +++-
 .../write/TestParalleWriterIndexCommitter.java      |  3 ++-
 13 files changed, 73 insertions(+), 27 deletions(-)

commit 629bc29bcee2252b64dffe96c1aba95af1f42618
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Fri Apr 20 11:37:02 2018 -0700

    PHOENIX-4130 Avoid server retries for mutable indexes

 .../end2end/index/MutableIndexFailureIT.java       |  12 +-
 .../end2end/index/PartialIndexRebuilderIT.java     |  76 ++++++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  53 ++++--
 .../coprocessor/MetaDataRegionObserver.java        |  19 +-
 .../UngroupedAggregateRegionObserver.java          |  73 +++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/execute/MutationState.java  |  39 +++-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  10 -
 .../hbase/index/exception/IndexWriteException.java |  52 +++++-
 .../exception/MultiIndexWriteFailureException.java |  39 +++-
 .../SingleIndexWriteFailureException.java          |  32 +++-
 .../hbase/index/write/IndexWriterUtils.java        |  14 +-
 .../index/write/ParallelWriterIndexCommitter.java  |   5 +-
 .../TrackingParallelWriterIndexCommitter.java      |   5 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 207 +++++++++++++++++++--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |  27 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../org/apache/phoenix/schema/PIndexState.java     |   7 +-
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   |  12 ++
 .../java/org/apache/phoenix/util/ServerUtil.java   |  23 ++-
 .../phoenix/hbase/index/write/TestIndexWriter.java |  17 ++
 .../hbase/index/write/TestParalleIndexWriter.java  |  11 ++
 .../write/TestParalleWriterIndexCommitter.java     |  11 ++
 25 files changed, 644 insertions(+), 105 deletions(-)

commit 83825dec5229458bb5aa585908661fb9c087e61f
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Apr 18 16:14:14 2018 -0400

    PHOENIX-4423 Hive 2.3.0 support
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-hive/pom.xml                               |   79 +-
 .../hadoop/hive/ql/QTestProcessExecResult.java     |   66 +
 .../java/org/apache/hadoop/hive/ql/QTestUtil.java  | 2489 ++++++++++++++++++++
 .../hive/ql/security/DummyAuthenticator.java       |   70 +
 .../phoenix/hive/BaseHivePhoenixStoreIT.java       |   62 +-
 .../org/apache/phoenix/hive/HiveMapReduceIT.java   |   24 +-
 .../apache/phoenix/hive/HivePhoenixStoreIT.java    |   42 +-
 .../java/org/apache/phoenix/hive/HiveTestUtil.java | 1256 +---------
 .../it/java/org/apache/phoenix/hive/HiveTezIT.java |    2 -
 .../apache/phoenix/hive/PhoenixStorageHandler.java |    4 +-
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java |    4 +-
 .../hive/ql/index/IndexPredicateAnalyzer.java      |   34 +-
 .../phoenix/hive/util/PhoenixConnectionUtil.java   |   19 +-
 .../hive/util/PhoenixStorageHandlerUtil.java       |   43 +-
 phoenix-hive/src/test/resources/hive-site.xml      |  123 +
 phoenix-hive/src/test/resources/tez-site.xml       |   69 +
 pom.xml                                            |   10 +-
 17 files changed, 3051 insertions(+), 1345 deletions(-)

commit 0a2ff12d2a644e7d0cb2cb257697fc7c45f5804b
Author: Josh Elser <elserj@apache.org>
Date:   Wed Apr 18 15:59:31 2018 -0400

    PHOENIX-4693 Force random ports for the HBase MiniCluster
    
    HBase made a change which turned off random ports by default. That change
    will likely be reverted, but we can make sure it doesn't cause us any
    problems downstream by forcing it on.

 phoenix-core/src/it/resources/hbase-site.xml  |  4 +++
 phoenix-spark/src/it/resources/hbase-site.xml | 40 +++++++++++++++++++++++++++
 2 files changed, 44 insertions(+)

commit 5e9a257634d73764116e17dcab4aa0fc8675da54
Author: chenglei <chenglei@apache.org>
Date:   Wed Apr 18 17:01:05 2018 +0800

    PHOENIX-4690 GroupBy expressions should follow the order of PK Columns if GroupBy is orderPreserving

 .../org/apache/phoenix/end2end/AggregateIT.java    | 107 +++++++++++++++++---
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  18 +---
 .../apache/phoenix/end2end/join/SubqueryIT.java    |   8 +-
 .../end2end/join/SubqueryUsingSortMergeJoinIT.java |  12 ++-
 .../apache/phoenix/compile/GroupByCompiler.java    |  19 +++-
 .../phoenix/compile/OrderPreservingTracker.java    |  13 +++
 .../apache/phoenix/compile/QueryCompilerTest.java  | 110 +++++++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |  20 ++++
 8 files changed, 267 insertions(+), 40 deletions(-)

commit 0e5c6e52436360892e22e5a3981c236dfe7d6001
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Apr 17 15:05:26 2018 +0530

    Keep Ring buffer size small by default and avoid starting disruptor for server connection

 .../org/apache/phoenix/log/QueryLoggerDisruptor.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java       | 16 +++++++++-------
 .../src/main/java/org/apache/phoenix/util/QueryUtil.java | 14 ++++++++++++--
 3 files changed, 22 insertions(+), 10 deletions(-)

commit 2a8f0c0fe5b0afd2f154bbf0ad0932abfebdeda8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 13 14:30:00 2018 -0700

    PHOENIX-4575 Phoenix metadata KEEP_DELETED_CELLS and VERSIONS should be property driven (Chinmay Kulkarni)

 .../phoenix/coprocessor/MetaDataProtocol.java      |  4 ---
 .../phoenix/query/ConnectionQueryServicesImpl.java | 42 +++++++++++++++-------
 .../query/ConnectionlessQueryServicesImpl.java     | 35 ++++++++++++++++--
 .../org/apache/phoenix/query/QueryConstants.java   | 14 +++-----
 .../org/apache/phoenix/query/QueryServices.java    |  5 ++-
 .../apache/phoenix/query/QueryServicesOptions.java |  3 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  4 +--
 7 files changed, 74 insertions(+), 33 deletions(-)

commit bbf454b3eb9d3fb38622ca757577fdb78bcdbb73
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 13 14:19:15 2018 -0700

    PHOENIX-4668 Remove unnecessary table descriptor modification for SPLIT_POLICY column (Chinmay Kulkarni)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 11 -----------
 1 file changed, 11 deletions(-)

commit d30d771860923abfc1e6efaaef55e24a1f2700c7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 13 10:30:30 2018 -0700

    PHOENIX-4579 Add a config to conditionally create Phoenix meta tables on first client connection (Chinmay Kulkarni)

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |   2 +-
 .../MigrateSystemTablesToSystemNamespaceIT.java    |   9 +-
 .../SystemCatalogCreationOnConnectionIT.java       | 626 +++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  21 +
 .../phoenix/coprocessor/MetaDataProtocol.java      |   4 +
 .../coprocessor/generated/MetaDataProtos.java      | 183 +++--
 .../exception/UpgradeRequiredException.java        |  13 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 756 ++++++++++++---------
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 +-
 .../query/ConnectionQueryServicesImplTest.java     |   7 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   1 +
 14 files changed, 1238 insertions(+), 395 deletions(-)

commit 15fa00fa59472c5f61a211af5c723b4803a3cac3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 11 20:06:35 2018 -0700

    PHOENIX-4605 Support running multiple transaction providers

 .../phoenix/end2end/AlterTableWithViewsIT.java     |   6 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |  34 +-
 .../apache/phoenix/tx/FlappingTransactionIT.java   |  11 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |  12 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  12 +
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |   5 +-
 .../apache/phoenix/cache/IndexMetaDataCache.java   |   5 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   3 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   3 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  72 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   3 +-
 .../coprocessor/MetaDataRegionObserver.java        |   4 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |   4 +-
 ...ssor.java => TephraTransactionalProcessor.java} |  12 +-
 .../UngroupedAggregateRegionObserver.java          |  10 +-
 .../coprocessor/generated/PTableProtos.java        | 110 ++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   4 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   3 +
 .../org/apache/phoenix/execute/MutationState.java  |  75 +-
 .../execute/PhoenixTxIndexMutationGenerator.java   |  10 +-
 .../apache/phoenix/expression/ExpressionType.java  | 119 +--
 .../function/TransactionProviderNameFunction.java  |  81 +++
 .../org/apache/phoenix/index/IndexMaintainer.java  |   4 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   2 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   1 -
 .../phoenix/index/PhoenixIndexMetaDataBuilder.java |   7 +-
 .../iterate/NonAggregateRegionScannerFactory.java  |   5 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  12 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   2 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |   4 +-
 .../phoenix/query/ConnectionQueryServices.java     |   4 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  69 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   9 +-
 .../query/DelegateConnectionQueryServices.java     |   7 +-
 .../org/apache/phoenix/query/QueryConstants.java   | 108 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  10 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 129 +++-
 .../java/org/apache/phoenix/schema/PTable.java     |   2 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  67 +-
 .../org/apache/phoenix/schema/TableProperty.java   |  18 +
 .../transaction/OmidTransactionContext.java        |  56 +-
 .../transaction/OmidTransactionProvider.java       |  54 +-
 .../phoenix/transaction/OmidTransactionTable.java  | 380 ----------
 .../transaction/PhoenixTransactionClient.java      |  23 +
 .../transaction/PhoenixTransactionContext.java     | 165 +++--
 ...ovider.java => PhoenixTransactionProvider.java} |  31 +-
 .../transaction/PhoenixTransactionService.java     |  24 +
 .../transaction/PhoenixTransactionalTable.java     | 798 ---------------------
 .../transaction/TephraTransactionContext.java      | 198 ++---
 .../transaction/TephraTransactionProvider.java     | 161 ++++-
 .../transaction/TephraTransactionTable.java        | 360 ----------
 .../phoenix/transaction/TransactionFactory.java    |  57 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   3 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  15 +
 .../org/apache/phoenix/util/TransactionUtil.java   |  49 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   4 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   5 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  26 +-
 .../phoenix/query/QueryServicesTestImpl.java       |  15 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   2 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 68 files changed, 1246 insertions(+), 2264 deletions(-)

commit 5d4cb8041203283f1a2482d8efe09d24c1d31e62
Author: Josh Elser <elserj@apache.org>
Date:   Wed Apr 11 20:24:51 2018 -0400

    PHOENIX-4366 Remove dangling return statement (addendum)
    
    Required by HBase 2.0 RegionObserver API change

 .../java/org/apache/phoenix/coprocessor/BaseScannerRegionObserver.java   | 1 -
 1 file changed, 1 deletion(-)

commit 7aa31371008c68e4196ee2d5ac120b58de054ebe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 11 15:20:08 2018 -0700

    PHOENIX-4366 Rebuilding a local index fails sometimes (addendum)

 .../iterate/NonAggregateRegionScannerFactory.java  | 37 ++++++++++++----------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit b520d0e6a3be5f6afcdc60039c5186643ed567ab
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 11 13:37:45 2018 -0700

    PHOENIX-4366 Rebuilding a local index fails sometimes

 .../coprocessor/BaseScannerRegionObserver.java     |  8 ++----
 .../GroupedAggregateRegionObserver.java            |  4 +++
 .../phoenix/coprocessor/ScanRegionObserver.java    |  4 ++-
 .../UngroupedAggregateRegionObserver.java          |  7 +++++-
 .../iterate/NonAggregateRegionScannerFactory.java  | 29 ++++++++++------------
 .../phoenix/iterate/RegionScannerFactory.java      |  4 +--
 .../apache/phoenix/iterate/SnapshotScanner.java    |  6 +----
 7 files changed, 31 insertions(+), 31 deletions(-)

commit 6e28d2988451f19619b74dfd4fdec45b15d7fd70
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 11 13:31:38 2018 -0700

    PHOENIX-4658 IllegalStateException: requestSeek cannot be called on ReversedKeyValueHeap (Toshihiro Suzuki)

 .../apache/phoenix/end2end/MultiCfQueryExecIT.java | 47 ++++++++++++++++++++++
 .../apache/phoenix/compile/OrderByCompiler.java    | 11 +++--
 .../org/apache/phoenix/compile/QueryCompiler.java  | 12 +-----
 .../java/org/apache/phoenix/parse/HintNode.java    |  4 ++
 .../java/org/apache/phoenix/util/ScanUtil.java     |  2 +
 5 files changed, 62 insertions(+), 14 deletions(-)

commit cffbda47df5bff5ebc1e59ce6c37391e4a00248d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Apr 11 17:45:44 2018 +0530

    PHOENIX-4653 Upgrading from namespace enabled cluster to latest version failing with UpgradeInProgressException(Rajeshbabu)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 763b9e5981276b1703493b810d12df185b87bfa3
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Apr 11 17:34:00 2018 +0530

    PHOENIX-2715 Query Log (addendum)
    Fix old com.lmax.disruptor dependency

 phoenix-core/pom.xml  | 7 -------
 phoenix-flume/pom.xml | 6 ------
 phoenix-kafka/pom.xml | 6 ------
 3 files changed, 19 deletions(-)

commit 4d94f2f7d963f59e91155b78bdf4e925feeed516
Author: Josh Elser <elserj@apache.org>
Date:   Tue Apr 10 14:08:57 2018 -0400

    PHOENIX-4672 Align the kerberos principal config keys
    
    Fix the configuration keys in a manner that won't break users
    who are using the 'old' name.

 .../src/main/java/org/apache/phoenix/query/QueryServices.java         | 3 ++-
 .../main/java/org/apache/phoenix/queryserver/server/QueryServer.java  | 4 ++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit e35b18d3aba8abe602daec5c9a637f8a85664d5e
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Apr 10 15:27:41 2018 +0530

    PHOENIX-2715 Query Log (addendum)

 .../MigrateSystemTablesToSystemNamespaceIT.java    | 40 ++++++++++++----------
 1 file changed, 22 insertions(+), 18 deletions(-)

commit 8d82a0ec706e97fdfbacb019728dcf82a5613589
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Apr 10 12:15:05 2018 +0530

    PHOENIX-2715 Query Log (Ankit Singhal)

 phoenix-core/pom.xml                               |   5 +
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   4 +
 .../org/apache/phoenix/end2end/QueryLoggerIT.java  | 359 +++++++++++++++++++++
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   2 +
 .../apache/phoenix/compile/StatementContext.java   |  10 +
 .../phoenix/coprocessor/MetaDataProtocol.java      |   5 +-
 .../phoenix/iterate/ScanningResultIterator.java    |  18 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  17 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  18 ++
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  11 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  38 +++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  67 +++-
 .../main/java/org/apache/phoenix/log/LogLevel.java |  22 ++
 .../java/org/apache/phoenix/log/LogWriter.java     |  51 +++
 .../phoenix/log/QueryLogDetailsEventHandler.java   |  63 ++++
 .../java/org/apache/phoenix/log/QueryLogInfo.java  |  87 +++++
 .../java/org/apache/phoenix/log/QueryLogState.java |  22 ++
 .../java/org/apache/phoenix/log/QueryLogger.java   | 145 +++++++++
 .../log/QueryLoggerDefaultExceptionHandler.java    |  51 +++
 .../apache/phoenix/log/QueryLoggerDisruptor.java   | 117 +++++++
 .../org/apache/phoenix/log/QueryLoggerUtil.java    |  62 ++++
 .../org/apache/phoenix/log/RingBufferEvent.java    |  93 ++++++
 .../phoenix/log/RingBufferEventTranslator.java     |  53 +++
 .../org/apache/phoenix/log/TableLogWriter.java     | 125 +++++++
 .../apache/phoenix/monitoring/ReadMetricQueue.java |  44 +--
 .../phoenix/monitoring/ScanMetricsHolder.java      |  48 ++-
 .../phoenix/query/ConnectionQueryServices.java     |   6 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  35 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  18 ++
 .../query/DelegateConnectionQueryServices.java     |  14 +
 .../org/apache/phoenix/query/QueryConstants.java   | 123 ++-----
 .../org/apache/phoenix/query/QueryServices.java    |   4 +
 .../apache/phoenix/query/QueryServicesOptions.java |  10 +-
 pom.xml                                            |   6 +
 34 files changed, 1601 insertions(+), 152 deletions(-)

commit 880cda16f63264531439b1de345cca42ebe6b823
Author: Toshihiro Suzuki <brfrn169@gmail.com>
Date:   Thu Mar 29 17:17:37 2018 +0900

    PHOENIX-4669 NoSuchColumnFamilyException when creating index on views that are built on tables which have named column family
    
    Signed-off-by: ss77892 <ssa@apache.org>

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 45 +++++++++++++++++++++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 29 +++++++-------
 2 files changed, 58 insertions(+), 16 deletions(-)

commit d653973a29648258c6a1cd44fda1452914fd019f
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Apr 9 13:39:27 2018 -0700

    PHOENIX-4683 Cap timeouts for stats precompact hook logic

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java     | 8 ++++++--
 .../apache/phoenix/schema/stats/DefaultStatisticsCollector.java   | 2 +-
 .../java/org/apache/phoenix/schema/stats/StatisticsWriter.java    | 2 +-
 3 files changed, 8 insertions(+), 4 deletions(-)

commit f64170a3001052cf889acb8e7b904cb2c20dc2c4
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Mon Apr 9 13:10:14 2018 -0700

    PHOENIX-4682 UngroupedAggregateRegionObserver preCompactScannerOpen hook should not throw exceptions

 .../phoenix/end2end/index/MutableIndexIT.java      | 39 ++++++++++
 .../UngroupedAggregateRegionObserver.java          | 83 ++++++++++++----------
 2 files changed, 86 insertions(+), 36 deletions(-)

commit 60841186ddd7e8bc8eb03e3db40bad6ad811e091
Author: Josh Elser <elserj@apache.org>
Date:   Mon Apr 9 13:56:42 2018 -0400

    PHOENIX-672 Add new files missed during cherry-pick (addendum)

 .../apache/phoenix/parse/ChangePermsStatement.java | 102 +++++++++++++++++++++
 .../phoenix/schema/TablesNotInSyncException.java   |  39 ++++++++
 2 files changed, 141 insertions(+)

commit 1e90991066d12517d4cf2fea3d47be5f6c358f25
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat Apr 7 09:26:52 2018 +0530

    PHOENIX-672 Add GRANT and REVOKE commands using HBase AccessController-addendum

 .../java/org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java  | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/MetaDataUtil.java    | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/QueryUtil.java       | 2 +-
 pom.xml                                                                 | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 6521c87a03c001908f0d4fabf0f968e72c2d0a89
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Apr 6 14:04:02 2018 -0700

    PHOENIX-4616 Move join query optimization out from QueryCompiler into QueryOptimizer (addendum)

 .../java/org/apache/phoenix/optimize/QueryOptimizer.java     | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit fe03c3006164b13bc88981ec80e593b74dd43e94
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Apr 6 23:06:43 2018 +0530

    PHOENIX-672 Add GRANT and REVOKE commands using HBase AccessController

 .../apache/phoenix/end2end/BasePermissionsIT.java  | 756 +++++++++++++++++++++
 .../phoenix/end2end/ChangePermissionsIT.java       | 269 ++++++++
 .../phoenix/end2end/SystemTablePermissionsIT.java  | 228 +------
 .../phoenix/end2end/TableDDLPermissionsIT.java     | 580 ++--------------
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  30 +-
 .../coprocessor/PhoenixAccessController.java       |  29 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  40 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  24 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   1 +
 .../org/apache/phoenix/query/QueryServices.java    |   2 -
 .../apache/phoenix/query/QueryServicesOptions.java |   7 -
 .../org/apache/phoenix/schema/MetaDataClient.java  | 135 ++++
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   2 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  25 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  |  46 +-
 pom.xml                                            |   2 +-
 20 files changed, 1423 insertions(+), 765 deletions(-)

commit 81f7b67134285a3649809a9bcc4d4e9a19f9f3cb
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Wed Apr 4 13:28:23 2018 -0700

    PHOENIX-4530 Do not collect delete markers during major compaction of table with disabled mutable indexes

 .../end2end/PartialScannerResultsDisabledIT.java   |   2 +-
 .../UngroupedAggregateRegionObserverIT.java        | 171 ---------------------
 .../phoenix/end2end/index/MutableIndexIT.java      |  58 ++++++-
 .../end2end/index/PartialIndexRebuilderIT.java     |   2 +-
 .../UngroupedAggregateRegionObserver.java          | 125 +++++----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  19 +++
 6 files changed, 120 insertions(+), 257 deletions(-)

commit 3c1b3b547f88cc2860b16658a0babe3e05d34c8e
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Apr 3 20:01:59 2018 -0700

    PHOENIX-4616 Move join query optimization out from QueryCompiler into QueryOptimizer

 .../apache/phoenix/end2end/join/BaseJoinIT.java    |   2 +
 .../org/apache/phoenix/compile/JoinCompiler.java   | 298 +++++++--------------
 .../org/apache/phoenix/compile/QueryCompiler.java  |  79 +++---
 .../apache/phoenix/compile/SubselectRewriter.java  |   5 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   2 +-
 .../optimize/GenSubqueryParamValuesRewriter.java   | 153 +++++++++++
 .../apache/phoenix/optimize/QueryOptimizer.java    | 175 +++++++++++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 114 +++++++-
 9 files changed, 564 insertions(+), 266 deletions(-)

commit bdca54a69284fe6d12d84ad44ecf3553966cc8dd
Author: Josh Elser <elserj@apache.org>
Date:   Thu Mar 29 11:27:04 2018 -0400

    PHOENIX-4677 Explicit list commons-cli dependency (addendum)

 phoenix-core/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 854d58b44c8748377a4ccab53601d58dbbf7d2f6
Author: Josh Elser <elserj@apache.org>
Date:   Wed Mar 28 15:21:07 2018 -0400

    PHOENIX-4677 Add explicit commons-cli dependency for HBase 2.0
    
    See HBASE-20201 for an explanation of what else went wrong with commons-cli on Hadoop 3.

 .../it/java/org/apache/phoenix/end2end/End2EndTestDriver.java  |  2 +-
 phoenix-kafka/pom.xml                                          |  4 ++++
 phoenix-pherf/pom.xml                                          |  4 ++++
 phoenix-pig/pom.xml                                            |  4 ++++
 pom.xml                                                        | 10 +++++++---
 5 files changed, 20 insertions(+), 4 deletions(-)

commit a21ab2cfbdb425eeb2193c135a423349ad33b08a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 29 15:14:28 2018 +0530

    PHOENIX-4389 Flapping tests SystemTablePermissionsIT and MigrateSystemTablesToSystemNamespaceIT( Karan Mehta)

 .../phoenix/end2end/MigrateSystemTablesToSystemNamespaceIT.java   | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 4ca23644a7237a8a17f241db229f0edecf3139d5
Author: Josh Elser <elserj@apache.org>
Date:   Tue Mar 27 19:06:45 2018 -0400

    PHOENIX-4675 Better parsing around the allowed UDF jar directory configuration
    
    The parsing/validation logic on the allowed path for UDF jar loading was lacking
    in that it didn't correctly handle a trailing slash.

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 42 +++++++++++-----------
 .../phoenix/expression/function/UDFExpression.java | 21 ++++++-----
 2 files changed, 35 insertions(+), 28 deletions(-)

commit 43455b41d7210ebe37f826824cc9c7ea7929a799
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Mar 23 17:09:17 2018 -0700

    PHOENIX-4659 Use coprocessor API to write local transactional indexes (addendum)

 .../java/org/apache/phoenix/util/TransactionUtil.java     | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit bf61ead7ac4bce306992d475823e047b4f950ac9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Mar 23 12:00:45 2018 -0700

    PHOENIX-4643 Implement ARRAY_REMOVE built in function (Xavier Jodoin)

 .../phoenix/end2end/ArrayRemoveFunctionIT.java     | 383 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  10 +-
 .../expression/function/ArrayRemoveFunction.java   |  88 +++++
 .../expression/ArrayRemoveFunctionTest.java        | 285 +++++++++++++++
 4 files changed, 762 insertions(+), 4 deletions(-)

commit 2975532fc4d89532af32f626b91e7d1e33b55f3d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 17 15:16:24 2018 -0700

    PHOENIX-4660 Use TransactionProvider interface

 .../apache/phoenix/tx/FlappingTransactionIT.java   |   8 +-
 .../coprocessor/PhoenixTransactionalProcessor.java |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  |   8 +-
 .../execute/PhoenixTxIndexMutationGenerator.java   |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   2 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   2 +-
 .../phoenix/index/PhoenixIndexMetaDataBuilder.java |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   2 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../transaction/OmidTransactionProvider.java       |  78 +++++++++++++
 .../transaction/TephraTransactionProvider.java     |  76 ++++++++++++
 .../phoenix/transaction/TransactionFactory.java    | 130 ++-------------------
 .../phoenix/transaction/TransactionProvider.java   |  36 ++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../org/apache/phoenix/util/TransactionUtil.java   |   8 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   6 +-
 16 files changed, 220 insertions(+), 146 deletions(-)

commit eeb8e4b55c33518c89958c382941daa568f6ac31
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 17 14:18:59 2018 -0700

    PHOENIX-4659 Use coprocessor API to write local transactional indexes

 .../end2end/index/MutableIndexFailureIT.java       |  7 +++-
 .../end2end/index/txn/TxWriteFailureIT.java        |  6 +--
 .../phoenix/index/PhoenixTransactionalIndexer.java | 29 ++++++++++++-
 .../phoenix/transaction/TransactionFactory.java    | 13 ++++++
 .../org/apache/phoenix/util/TransactionUtil.java   | 47 ++++++++++++++++++++++
 5 files changed, 96 insertions(+), 6 deletions(-)

commit f32b32b30df689d5fa79ca1b10579ac6a08e9614
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 17 12:52:38 2018 -0700

    PHOENIX-4619 Process transactional updates to local index on server-side

 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  16 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   1 +
 .../end2end/index/MutableIndexFailureIT.java       |   8 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  36 +-
 .../coprocessor/PhoenixTransactionalProcessor.java |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  | 103 +++--
 ...r.java => PhoenixTxIndexMutationGenerator.java} | 319 ++++++---------
 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +-
 .../hbase/index/builder/BaseIndexCodec.java        |   7 -
 .../phoenix/hbase/index/covered/IndexCodec.java    |  14 +-
 .../hbase/index/covered/LocalTableState.java       |  10 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   2 +-
 .../phoenix/hbase/index/covered/TableState.java    |   9 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  23 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  21 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  39 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  78 +---
 .../phoenix/index/PhoenixIndexMetaDataBuilder.java | 106 +++++
 .../phoenix/index/PhoenixTransactionalIndexer.java | 437 +--------------------
 .../phoenix/query/ConnectionQueryServicesImpl.java |   9 +-
 .../transaction/OmidTransactionContext.java        |   2 +-
 .../transaction/PhoenixTransactionContext.java     |   2 +-
 .../transaction/TephraTransactionContext.java      |   3 +-
 .../index/covered/CoveredColumnIndexCodec.java     |   6 +-
 .../index/covered/CoveredIndexCodecForTesting.java |   5 +-
 .../hbase/index/covered/LocalTableStateTest.java   |  10 +-
 .../hbase/index/covered/NonTxIndexBuilderTest.java |   3 +
 .../index/covered/TestCoveredColumnIndexCodec.java |   8 +-
 28 files changed, 461 insertions(+), 822 deletions(-)

commit 2689b0a4598b2c8ac3ed1addf221208769c4fab2
Author: Josh Elser <elserj@apache.org>
Date:   Thu Mar 22 16:03:21 2018 -0400

    PHOENIX-4662 Avoid NPE when server-caches are null (Csaba Skrabak)

 .../main/java/org/apache/phoenix/iterate/TableResultIterator.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 0bcf1227b28085c90625092728174f1f8a5427cc
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 22 16:27:15 2018 +0530

    PHOENIX-4655 Upgrade to latest version from version <4.8.0 may fail with TableNotFoundException if we have local indexes but no multi-tenant tables.(Rajeshbabu)

 phoenix-core/src/main/java/org/apache/phoenix/util/UpgradeUtil.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 31c674a826b188c93713d6057ae9dc3238d564c3
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 22 14:23:31 2018 +0530

    PHOENIX-4440 Local index split/merge IT tests are failing(Rajeshbabu)

 .../phoenix/end2end/LocalIndexSplitMergeIT.java    | 60 +++++++++++++++++++++-
 .../index/MutableIndexSplitForwardScanIT.java      |  3 +-
 .../index/MutableIndexSplitReverseScanIT.java      |  3 +-
 .../apache/hadoop/hbase/client/RegionInfoUtil.java | 24 +++++++++
 .../regionserver/IndexHalfStoreFileReader.java     | 45 +++++++++++++---
 .../IndexHalfStoreFileReaderGenerator.java         | 19 ++++---
 .../regionserver/LocalIndexStoreFileScanner.java   | 43 ++++++++--------
 .../coprocessor/BaseScannerRegionObserver.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 12 ++---
 .../java/org/apache/phoenix/util/ScanUtil.java     |  7 ++-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |  1 -
 .../hbase/index/write/TestWALRecoveryCaching.java  |  9 +++-
 12 files changed, 174 insertions(+), 54 deletions(-)

commit 8ee15d9f8e0a01a4d65af91aa2320bf48fe1d641
Author: Josh Elser <elserj@apache.org>
Date:   Mon Mar 19 17:36:02 2018 -0400

    PHOENIX-4636 Add the python PQS driver

 dev/make_rc.sh                                  |    5 +
 pom.xml                                         |    6 +
 python/.gitignore                               |    8 +
 python/.gitlab-ci.yml                           |  149 ++
 python/NEWS.rst                                 |   44 +
 python/README.rst                               |  136 ++
 python/RELEASING.rst                            |   12 +
 python/ci/build-env/Dockerfile                  |    7 +
 python/ci/phoenix/Dockerfile                    |   33 +
 python/ci/phoenix/docker-entrypoint.sh          |   24 +
 python/ci/phoenix/hbase-site.xml                |   12 +
 python/doc/Makefile                             |  192 +++
 python/doc/api.rst                              |   30 +
 python/doc/conf.py                              |  287 ++++
 python/doc/index.rst                            |   27 +
 python/doc/versions.rst                         |    3 +
 python/docker-compose.yml                       |   21 +
 python/examples/basic.py                        |   27 +
 python/examples/shell.py                        |   33 +
 python/gen-protobuf.sh                          |   38 +
 python/phoenixdb/__init__.py                    |   68 +
 python/phoenixdb/avatica/__init__.py            |   16 +
 python/phoenixdb/avatica/client.py              |  510 +++++++
 python/phoenixdb/avatica/proto/__init__.py      |    0
 python/phoenixdb/avatica/proto/common_pb2.py    | 1667 +++++++++++++++++++++++
 python/phoenixdb/avatica/proto/requests_pb2.py  | 1206 ++++++++++++++++
 python/phoenixdb/avatica/proto/responses_pb2.py |  917 +++++++++++++
 python/phoenixdb/connection.py                  |  187 +++
 python/phoenixdb/cursor.py                      |  347 +++++
 python/phoenixdb/errors.py                      |   93 ++
 python/phoenixdb/tests/__init__.py              |   44 +
 python/phoenixdb/tests/dbapi20.py               |  857 ++++++++++++
 python/phoenixdb/tests/test_avatica.py          |   25 +
 python/phoenixdb/tests/test_connection.py       |   42 +
 python/phoenixdb/tests/test_db.py               |   99 ++
 python/phoenixdb/tests/test_dbapi20.py          |  122 ++
 python/phoenixdb/tests/test_errors.py           |   60 +
 python/phoenixdb/tests/test_types.py            |  327 +++++
 python/phoenixdb/types.py                       |  202 +++
 python/requirements.txt                         |   20 +
 python/setup.cfg                                |   34 +
 python/setup.py                                 |   64 +
 python/tox.ini                                  |   24 +
 43 files changed, 8025 insertions(+)

commit 7e8abb8a45eed25988848f0cda0f5ce6894043a3
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Mar 20 14:54:05 2018 -0400

    PHOENIX-4661 Handled deleted PTables in the MetadataCache
    
    Signed-off-by: Josh Elser <elserj@apache.org>
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../org/apache/phoenix/end2end/DropTableIT.java    | 43 ++++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 33 ++++++++++-------
 .../coprocessor/PhoenixAccessController.java       |  8 +---
 3 files changed, 64 insertions(+), 20 deletions(-)

commit dc7e377d4f79b88c2371abf8385a56378667960f
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Mar 16 14:16:05 2018 -0700

    PHOENIX-4505 IndexHalfStoreFileReaderGenerator.preStoreScannerOpen does not close the passed in KeyValueScanner while creating and returning a new scanner

 .../hadoop/hbase/regionserver/IndexHalfStoreFileReaderGenerator.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 4c379d76426ad33cef2fe65e36240f02d345efa9
Author: Josh Elser <elserj@apache.org>
Date:   Thu Mar 15 13:22:11 2018 -0400

    PHOENIX-4620 Fix compilation issues against hbase-2.0.0-beta2
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../regionserver/wal/WALReplayWithIndexWritesAndCompressedWALIT.java   | 2 +-
 .../apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java   | 3 ++-
 .../org/apache/phoenix/replication/SystemCatalogWALEntryFilter.java    | 2 +-
 .../hbase/index/write/recovery/TestPerRegionIndexWriteCache.java       | 2 +-
 pom.xml                                                                | 2 +-
 5 files changed, 6 insertions(+), 5 deletions(-)

commit f49c8a7240f3ea705c6e07ec43df9a8d9577ad83
Author: aertoria <ewang@apache.org>
Date:   Tue Feb 27 15:02:07 2018 -0800

    PHOENIX-4231 Support restriction of remote UDF load sources
    
    Signed-off-by: Andrew Purtell <apurtell@apache.org>

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 127 ++++++++++++++++++---
 .../phoenix/expression/function/UDFExpression.java |  20 +---
 2 files changed, 120 insertions(+), 27 deletions(-)

commit 3f892a4ed78d48babc5a45f3fc4efc237a01ed5f
Author: aertoria <ewang@apache.org>
Date:   Sun Dec 17 13:33:56 2017 -0800

    PHOENIX-4370 Surface hbase metrics from perconnection to global metrics
    
    Signed-off-by: ethan wang <ewang@apache.org>

 .../phoenix/monitoring/PhoenixMetricsIT.java       | 24 ++++++++++++++++++-
 .../phoenix/iterate/ScanningResultIterator.java    | 24 +++++++++++++++++++
 .../phoenix/monitoring/GlobalClientMetrics.java    | 27 ++++++++++++++++++++--
 3 files changed, 72 insertions(+), 3 deletions(-)

commit a6ba7fd6cc687282e8743148b8994645ca6ea282
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Mar 6 11:14:47 2018 -0800

    PHOENIX-4634 Looking up a parent index table of a tenant child view fails in BaseColumnResolver createTableRef()

 .../apache/phoenix/end2end/PhoenixDriverIT.java    |   2 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |  10 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 159 +++++++++++++--------
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  24 +---
 4 files changed, 115 insertions(+), 80 deletions(-)

commit 33d6db7810f0eaacc4b3b3f719a6713b3d53ae67
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 13 10:10:55 2018 -0700

    PHOENIX-4650 Upgrade i18n-util dependency to version 1.0.4 (Shehzaad Nakhoda)

 .../it/java/org/apache/phoenix/end2end/CollationKeyFunctionIT.java | 6 +++---
 .../phoenix/expression/function/CollationKeyFunctionTest.java      | 7 ++++---
 pom.xml                                                            | 2 +-
 3 files changed, 8 insertions(+), 7 deletions(-)

commit 3c0dbcc2d0a56931929af535152f3c0670f9ce5b
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Mar 12 12:01:28 2018 -0700

    PHOENIX-4418 - add locale-awareness to UPPER() and LOWER() functions (addendum)

 .../apache/phoenix/expression/function/CollationKeyFunction.java    | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 7fdf0ab9e76b96bb46d78d788642a69b43d1bfa9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Mar 11 09:56:20 2018 -0700

    PHOENIX-4139 Incorrect query result for trailing duplicate GROUP BY expression (Csaba Skrabak)

 .../org/apache/phoenix/end2end/AggregateIT.java    | 23 ++++++++++++++++++++++
 .../apache/phoenix/schema/RowKeyValueAccessor.java |  2 +-
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 55648235fc42abd0c8d010b3b2af3ef0a3cd11d8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Mar 9 22:01:51 2018 -0800

    PHOENIX-4640 Don't consider STATS_UPDATE_FREQ_MS_ATTRIB in TTL for server side cache (addendum)

 .../src/it/java/org/apache/phoenix/end2end/ParallelStatsEnabledIT.java   | 1 +
 1 file changed, 1 insertion(+)

commit f1154aa4341d2dddb8ede41f76964d372b42dcbf
Author: Shehzaad <snakhoda@salesforce.com>
Date:   Wed Jan 31 02:21:21 2018 -0800

    PHOENIX-4418 - add locale-awareness to UPPER() and LOWER() functions

 .../apache/phoenix/end2end/IndexExtendedIT.java    |  6 +-
 .../org/apache/phoenix/end2end/IndexToolIT.java    |  6 +-
 .../expression/function/CollationKeyFunction.java  | 18 +----
 .../phoenix/expression/function/LowerFunction.java | 28 ++++++-
 .../expression/function/ScalarFunction.java        | 15 +++-
 .../phoenix/expression/function/UpperFunction.java | 29 ++++++-
 .../expression/function/LowerFunctionTest.java     | 93 ++++++++++++++++++++++
 .../expression/function/UpperFunctionTest.java     | 92 +++++++++++++++++++++
 8 files changed, 259 insertions(+), 28 deletions(-)

commit 75532db698470e841eb7cd5763e3f7305b047f07
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Mar 9 15:00:03 2018 -0800

    PHOENIX-4644 Array modification functions should require two arguments

 .../phoenix/end2end/ArrayAppendFunctionIT.java     | 43 +++++++++++++---
 .../expression/function/ArrayAppendFunction.java   | 11 ++--
 .../expression/function/ArrayConcatFunction.java   |  3 +-
 .../expression/function/ArrayModifierFunction.java | 55 +++++++++++++++++---
 .../expression/function/ArrayPrependFunction.java  |  9 +++-
 .../phoenix/parse/ArrayModifierParseNode.java      | 36 ++++++++++++++
 .../apache/phoenix/parse/FunctionParseNode.java    | 12 ++++-
 .../org/apache/phoenix/util/ExpressionUtil.java    |  2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 58 +++++++++++++++++++++-
 9 files changed, 202 insertions(+), 27 deletions(-)

commit c74508829c1ab479ed5e76e28822f616f6683bea
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Mar 8 14:38:28 2018 -0800

    PHOENIX-1267 Set scan.setSmall(true) when appropriate (Abhishek Singh Chouhan)

 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 14 ++++++++----
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 26 ++++++++++++++++++++++
 4 files changed, 38 insertions(+), 4 deletions(-)

commit 494b17e799038150454077e2b02daaccc282a98e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 6 15:03:36 2018 -0800

    PHOENIX-4148 COUNT(DISTINCT(...)) should have a memory size limit (Lars Hofhansl)

 .../apache/phoenix/end2end/SpillableGroupByIT.java | 74 ++++++++++++++++------
 .../UngroupedAggregateRegionObserver.java          | 13 +++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  5 +-
 .../phoenix/expression/aggregator/Aggregators.java |  3 +-
 .../expression/aggregator/ClientAggregators.java   |  3 +-
 .../DistinctValueWithCountServerAggregator.java    | 20 ++----
 .../expression/aggregator/ServerAggregators.java   |  6 +-
 .../apache/phoenix/memory/ChildMemoryManager.java  |  7 +-
 .../apache/phoenix/memory/GlobalMemoryManager.java | 19 ++++--
 .../java/org/apache/phoenix/util/TestUtil.java     |  1 -
 10 files changed, 102 insertions(+), 49 deletions(-)

commit 2e8aac06075eb1dc1e1762d382647f248f348243
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 5 16:27:31 2018 -0800

    PHOENIX-4640 Don't consider STATS_UPDATE_FREQ_MS_ATTRIB in TTL for server side cache

 .../src/main/java/org/apache/phoenix/cache/GlobalCache.java         | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit f85bf4cb922f411986709d7f23b134b74ab64b2d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Mar 7 19:24:48 2018 +0530

    PHOENIX-4198 Remove the need for users to have access to the Phoenix SYSTEM tables to create tables

 .../phoenix/end2end/TableDDLPermissionsIT.java     | 695 +++++++++++++++++++++
 .../java/org/apache/hadoop/hbase/ipc/RpcUtil.java  |  31 +
 .../coprocessor/BaseMetaDataEndpointObserver.java  | 111 ++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 290 +++++++--
 .../coprocessor/MetaDataEndpointObserver.java      |  68 ++
 .../coprocessor/MetaDataRegionObserver.java        |  17 +-
 .../coprocessor/PhoenixAccessController.java       | 637 +++++++++++++++++++
 .../phoenix/coprocessor/PhoenixCoprocessor.java    |  28 +
 .../PhoenixMetaDataCoprocessorHost.java            | 246 ++++++++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 109 ++--
 .../org/apache/phoenix/query/QueryServices.java    |   4 +
 .../apache/phoenix/query/QueryServicesOptions.java |  13 +
 .../phoenix/schema/stats/StatisticsWriter.java     |  42 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  18 +
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  13 +
 .../java/org/apache/phoenix/util/ServerUtil.java   |   4 +-
 16 files changed, 2209 insertions(+), 117 deletions(-)

commit 6e7b7d4ca7fe0cf7b8e6213a2644758c0096be2e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 5 13:44:09 2018 -0800

    PHOENIX-4624 COLLATION_KEY function cannot handle null values (Shehzaad Nakhoda)

 .../phoenix/end2end/CollationKeyFunctionIT.java    | 37 ++++++++++++++++------
 .../expression/function/CollationKeyFunction.java  | 10 ++++++
 .../function/CollationKeyFunctionTest.java         |  7 ++++
 3 files changed, 44 insertions(+), 10 deletions(-)

commit 81784909f76335ae95e5e5a417c2722d283020de
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Feb 28 14:32:27 2018 -0800

    PHOENIX-4633 Handle the creation of SYSTEM.CATALOG correctly for users that don't have CREATE access on SYSTEM.CATALOG

 .../phoenix/query/ConnectionQueryServicesImpl.java       | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 4f7949135bf406a7bf903dc96201a03750bbd771
Author: Geoffrey <gjacoby@salesforce.com>
Date:   Tue Feb 20 14:28:40 2018 -0800

    PHOENIX-4607 - Allow PhoenixInputFormat to use tenant-specific connections

 .../org/apache/phoenix/end2end/MapReduceIT.java    | 69 ++++++++++++++++------
 .../phoenix/mapreduce/PhoenixInputFormat.java      | 41 +++++++------
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 15 ++++-
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  5 +-
 4 files changed, 92 insertions(+), 38 deletions(-)

commit d5b3faf2ee03fd2964a60031bd965686242fe4fb
Author: Yechao Chen <chenyechao@gmail.com>
Date:   Fri Mar 2 10:26:36 2018 +0800

    PHOENIX-4635 HBase Connection leak in org.apache.phoenix.hive.mapreduce.PhoenixInputFormat
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../java/org/apache/phoenix/hive/mapreduce/PhoenixInputFormat.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ba1fd85dc80c36f124c6d085fd5dc9a51e91dfd1
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 1 18:45:31 2018 +0530

    PHOENIX-4523 phoenix.schema.isNamespaceMappingEnabled problem(Karan Mehta)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 36 ++++++++++++----------
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  2 ++
 .../query/ConnectionQueryServicesImplTest.java     |  6 ++--
 3 files changed, 24 insertions(+), 20 deletions(-)

commit ba518fb05fcdd3c7c3253c010aad29d6231327aa
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 1 14:41:24 2018 +0530

    PHOENIX-4360 Prevent System.Catalog from splitting(Lars Hofhansl)

 .../apache/phoenix/end2end/SystemCatalogIT.java    | 97 ++++++++++++++++++++++
 .../apache/phoenix/schema/MetaDataSplitPolicy.java | 23 +----
 2 files changed, 100 insertions(+), 20 deletions(-)

commit 6dcc24fa4b5d8970c283da8e2ff5f7d1c932c4ce
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 27 12:24:06 2018 -0800

    PHOENIX-4628 Allow min time between update stats to be configurable separately from stats cache TTL

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java  | 3 +++
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 4 +---
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 0e42ecf8785a79523d15cd67740f33c55dde8cf3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 26 15:34:26 2018 -0800

    PHOENIX-4626 Increase time allowed for partial index rebuild to complete

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8eb31f821f88406b7182661b1e2dc999ea9c574f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 22 10:26:33 2018 -0800

    PHOENIX-4333 Incorrect estimate when stats are updated on a tenant specific view

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 302 ++++++++++++---------
 .../phoenix/iterate/BaseResultIterators.java       | 167 +++++++++---
 2 files changed, 305 insertions(+), 164 deletions(-)

commit beb3a767690f4faafb6ee08ae0b14a5a8f3133d5
Author: aertoria <castives@gmail.com>
Date:   Mon Nov 27 11:58:01 2017 -0800

    PHOENIX-3837 Feature enabling to set property on an index with Alter statement
    PHOENIX-4361 Remove redundant argument in separateAndValidateProperties in CQSI
    pSigned-off-by: aertoria <castives@gmail.com>

 .../org/apache/phoenix/end2end/AlterTableIT.java   |   2 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     |  55 ++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   5 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  10 +-
 .../apache/phoenix/parse/AddColumnStatement.java   |   2 +-
 .../apache/phoenix/parse/AlterIndexStatement.java  |  14 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   6 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  25 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  10 +-
 .../query/DelegateConnectionQueryServices.java     |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 572 +++++++++++++++------
 12 files changed, 530 insertions(+), 181 deletions(-)

commit 6c9855139a954c5d9e7db6b298d1f59458a83ef8
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat Feb 24 00:03:43 2018 +0530

    PHOENIX-4488 Cache config parameters for MetaDataEndPointImpl during initialization(James Taylor)

 .../coprocessor/MetaDataEndpointImplTest.java      | 44 ----------------------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 26 ++++++-------
 2 files changed, 13 insertions(+), 57 deletions(-)

commit 1363d5fa6aacdd9f4b5d37395db0fa42593f45aa
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Feb 23 23:40:26 2018 +0530

    PHOENIX-4487 Missing SYSTEM.MUTEX table upgrading from 4.7 to 4.13(James Taylor)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 29 ++++++++++++++++++----
 1 file changed, 24 insertions(+), 5 deletions(-)

commit 1123f96cb03ef15e26a4aa2bd77d9a931a33e707
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Feb 23 23:34:17 2018 +0530

    PHOENIX-4278 Implement pure client side transactional index maintenance(Ohad Shacham)

 .../apache/phoenix/end2end/index/BaseIndexIT.java  |   2 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   2 +
 .../java/org/apache/phoenix/cache/HashCache.java   |   1 +
 .../apache/phoenix/cache/IndexMetaDataCache.java   |   8 +
 .../apache/phoenix/cache/ServerCacheClient.java    |   2 +
 .../java/org/apache/phoenix/cache/TenantCache.java |   2 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   4 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   3 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +
 .../coprocessor/MetaDataRegionObserver.java        |   2 +
 .../coprocessor/ServerCachingEndpointImpl.java     |   4 +-
 .../phoenix/coprocessor/ServerCachingProtocol.java |   2 +-
 .../UngroupedAggregateRegionObserver.java          |  23 +-
 .../coprocessor/generated/ServerCachingProtos.java | 117 ++++-
 .../org/apache/phoenix/execute/MutationState.java  |  30 +-
 .../execute/PhoenixTxnIndexMutationGenerator.java  | 519 +++++++++++++++++++++
 .../hbase/index/covered/LocalTableState.java       |   6 -
 .../phoenix/hbase/index/covered/TableState.java    |   5 -
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   7 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   3 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  12 +
 .../phoenix/index/PhoenixTransactionalIndexer.java |   8 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 .../org/apache/phoenix/join/HashCacheFactory.java  |  34 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |   5 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |   8 -
 .../java/org/apache/phoenix/schema/PTableImpl.java |  22 +-
 .../org/apache/phoenix/cache/TenantCacheTest.java  |  14 +-
 .../src/main/ServerCachingService.proto            |   1 +
 29 files changed, 757 insertions(+), 92 deletions(-)

commit 9ff02ea24d21563a011a4cf24882325f23c51726
Author: Vikas Vishwakarma <vvishwakarma@salesforce.com>
Date:   Thu Feb 22 11:13:34 2018 +0530

    PHOENIX-4625 memory leak in PhoenixConnection if scanner renew lease thread is not enabled

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 63940f9491f4159076239bdbcffa2aa9db0b0b7a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Feb 21 19:15:08 2018 +0530

    PHOENIX-4531 Delete on a table with a global mutable index can issue client-side deletes against the index-addendum(Vincent Poon)

 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d931f8c79f07693330f9130e56b767492dc25a2b
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Feb 20 16:28:01 2018 -0800

    PHOENIX-4414 Exception while using database metadata commands on tenant specific connection

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 27 ++++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  2 +-
 2 files changed, 28 insertions(+), 1 deletion(-)

commit df98ad3f3ec2343749cc6e749a673bcba928aa79
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Feb 20 17:11:00 2018 +0530

    PHOENIX-4531 Delete on a table with a global mutable index can issue client-side deletes against the index(Vincent Poon)

 .../apache/phoenix/end2end/index/BaseIndexIT.java  | 20 +++++++
 .../end2end/index/PartialIndexRebuilderIT.java     | 48 +++++++++++++++-
 .../org/apache/phoenix/compile/DeleteCompiler.java | 65 ++++++++++++++++------
 .../apache/phoenix/optimize/QueryOptimizer.java    | 13 +++--
 .../apache/phoenix/compile/QueryOptimizerTest.java | 41 ++++++++++++++
 5 files changed, 165 insertions(+), 22 deletions(-)

commit aeb33b9fbae9d19da199fed8e54d60939bdd57d8
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Feb 20 16:56:43 2018 +0530

    PHOENIX-4386 Calculate the estimatedSize of MutationState using Map<TableRef, Map<ImmutableBytesPtr,RowMutationState>> mutations(Thomas D'Silva)

 .../apache/phoenix/end2end/MutationStateIT.java    | 144 +++++++++++++++++++
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  42 ------
 .../apache/phoenix/execute/PartialCommitIT.java    |   3 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  18 +--
 .../org/apache/phoenix/compile/UpsertCompiler.java |  11 +-
 .../org/apache/phoenix/execute/MutationState.java  | 159 ++++++++++++++-------
 .../java/org/apache/phoenix/util/IndexUtil.java    |   4 +-
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   |  48 ++-----
 8 files changed, 289 insertions(+), 140 deletions(-)

commit 6cadbab92f5b063c0cf6e07f36175f0475260aad
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Feb 16 21:03:46 2018 -0800

    PHOENIX-4611 Not nullable column impact on join query plans

 .../it/java/org/apache/phoenix/end2end/SortMergeJoinMoreIT.java   | 8 ++++----
 .../it/java/org/apache/phoenix/end2end/join/HashJoinMoreIT.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/JoinCompiler.java    | 4 ++++
 .../java/org/apache/phoenix/compile/TupleProjectionCompiler.java  | 2 +-
 4 files changed, 11 insertions(+), 7 deletions(-)

commit 11308c8aa85777fab73159f963b5d6e357ca3992
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Feb 16 11:29:25 2018 -0800

    PHOENIX-4585 Prune local index regions used for join queries

 .../org/apache/phoenix/compile/JoinCompiler.java   |  37 ++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  56 +++---
 .../apache/phoenix/compile/QueryCompilerTest.java  | 187 ++++++++++++++++++++-
 3 files changed, 237 insertions(+), 43 deletions(-)

commit 71537ed63d1bffbbc60c43e7c6592c9bce279786
Author: maryannxue <maryann.xue@gmail.com>
Date:   Mon Feb 12 14:07:30 2018 -0800

    PHOENIX-1556 Base hash versus sort merge join decision on cost

 .../phoenix/end2end/CostBasedDecisionIT.java       | 420 ++++++++++++++-----
 .../org/apache/phoenix/compile/JoinCompiler.java   |  43 ++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   8 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  | 449 +++++++++++----------
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   6 +
 .../org/apache/phoenix/execute/AggregatePlan.java  |  41 +-
 .../phoenix/execute/ClientAggregatePlan.java       |  46 ++-
 .../phoenix/execute/ClientProcessingPlan.java      |   4 +
 .../org/apache/phoenix/execute/ClientScanPlan.java |  22 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |  26 +-
 .../apache/phoenix/execute/CursorFetchPlan.java    |   6 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 128 ++++--
 .../execute/LiteralResultIterationPlan.java        |   6 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  14 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  20 +-
 .../phoenix/execute/TupleProjectionPlan.java       |   6 +
 .../java/org/apache/phoenix/execute/UnionPlan.java |  12 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   6 +
 .../execute/visitor/AvgRowWidthVisitor.java        | 205 ++++++++++
 .../phoenix/execute/visitor/ByteCountVisitor.java  | 125 ++++++
 .../phoenix/execute/visitor/QueryPlanVisitor.java  |  46 +++
 .../phoenix/execute/visitor/RowCountVisitor.java   | 335 +++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   6 +
 .../java/org/apache/phoenix/util/CostUtil.java     |  61 +--
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   6 +
 26 files changed, 1612 insertions(+), 437 deletions(-)

commit f0b31ce19c7704756fa3ab314c0b35a72c323349
Author: maryannxue <maryann.xue@gmail.com>
Date:   Thu Dec 21 10:31:04 2017 -0800

    PHOENIX-4437 Make QueryPlan.getEstimatedBytesToScan() independent of getExplainPlan() and pull optimize() out of getExplainPlan()

 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  2 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 45 +++++++---------
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 59 ++++++++++----------
 .../apache/phoenix/execute/SortMergeJoinPlan.java  | 63 +++++++++++-----------
 .../java/org/apache/phoenix/execute/UnionPlan.java | 53 +++++++++---------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  9 +++-
 6 files changed, 119 insertions(+), 112 deletions(-)

commit b2da76c6d77d97d9a4d199a4a0351c948d2fa79f
Author: maryannxue <maryann.xue@gmail.com>
Date:   Wed Dec 6 12:07:16 2017 -0800

    PHOENIX-3050 Handle DESC columns in child/parent join optimization

 .../apache/phoenix/end2end/join/HashJoinMoreIT.java   |  5 +++++
 .../java/org/apache/phoenix/compile/JoinCompiler.java | 19 +++++++++++++------
 .../org/apache/phoenix/compile/QueryCompiler.java     |  6 +++---
 .../org/apache/phoenix/compile/WhereOptimizer.java    |  5 -----
 4 files changed, 21 insertions(+), 14 deletions(-)

commit e26be0d37bfa31fc7a4e8b8e84ba119a78dd7268
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Dec 5 10:59:41 2017 -0800

    PHOENIX-4322 DESC primary key column with variable length does not work in SkipScanFilter

 .../src/it/java/org/apache/phoenix/end2end/SortOrderIT.java   | 11 ++++++++++-
 .../phoenix/expression/RowValueConstructorExpression.java     |  4 ++--
 2 files changed, 12 insertions(+), 3 deletions(-)

commit a61818e88f5cef93c81b87ff5b47b2230e61bfb5
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Dec 5 10:52:46 2017 -0800

    PHOENIX-4288 Indexes not used when ordering by primary key

 .../phoenix/end2end/CostBasedDecisionIT.java       | 466 +++++++++++++++++++++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   6 +
 .../java/org/apache/phoenix/compile/QueryPlan.java |   5 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   6 +
 .../org/apache/phoenix/execute/AggregatePlan.java  |  30 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  21 +-
 .../phoenix/execute/ClientAggregatePlan.java       |  28 ++
 .../org/apache/phoenix/execute/ClientScanPlan.java |  25 ++
 .../org/apache/phoenix/execute/CorrelatePlan.java  |  25 ++
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   6 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  29 ++
 .../execute/LiteralResultIterationPlan.java        |   6 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  25 ++
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  18 +
 .../java/org/apache/phoenix/execute/UnionPlan.java |  10 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   6 +
 .../java/org/apache/phoenix/optimize/Cost.java     | 123 ++++++
 .../apache/phoenix/optimize/QueryOptimizer.java    |  30 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |   6 +-
 .../java/org/apache/phoenix/util/CostUtil.java     |  90 ++++
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   6 +
 22 files changed, 955 insertions(+), 15 deletions(-)

commit 0d80b313117652fe425e9b756d90ed44a26db777
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Feb 13 14:31:42 2018 -0800

    PHOENIX-4592 BaseResultIterators.getStatsForParallelizationProp() should use retry looking up the table without tenantId if cannot find the table using the tenantId

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 32 +++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  9 ++--
 .../phoenix/iterate/BaseResultIterators.java       | 41 ++----------------
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 48 ++++++++++++++++++++++
 4 files changed, 89 insertions(+), 41 deletions(-)

commit ea628b4bc26e236a417db9130efb5e29e5348b53
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 15 11:44:03 2018 -0800

    PHOENIX-2566 Support NOT NULL constraint for any column for immutable table (addendum 3)

 .../java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java  | 4 ++--
 .../java/org/apache/phoenix/compile/TupleProjectionCompiler.java  | 3 ++-
 .../src/main/java/org/apache/phoenix/compile/UpsertCompiler.java  | 2 +-
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixStatement.java   | 8 ++++----
 4 files changed, 9 insertions(+), 8 deletions(-)

commit 2dffba1ab1d71509106f85b5d09bb2319af8c5c6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 15 10:02:05 2018 -0800

    PHOENIX-2566 Support NOT NULL constraint for any column for immutable table (addendum 2)

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java  | 8 ++++----
 .../src/main/java/org/apache/phoenix/schema/PTableImpl.java      | 1 +
 .../src/main/java/org/apache/phoenix/schema/Sequence.java        | 6 +++---
 .../src/main/java/org/apache/phoenix/util/MetaDataUtil.java      | 9 +++------
 4 files changed, 11 insertions(+), 13 deletions(-)

commit f72e842df100b12e124c4a5b818a41610f4dc577
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 14 20:15:58 2018 -0800

    PHOENIX-2566 Support NOT NULL constraint for any column for immutable table (addendum)

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f7c26b5c8c6f55ff40c09d5b194f78ed1bb0746
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 13 23:14:58 2018 -0800

    PHOENIX-2566 Support NOT NULL constraint for any column for immutable table

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  2 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 38 +++++----
 .../apache/phoenix/exception/SQLExceptionCode.java |  5 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 36 ++++----
 .../org/apache/phoenix/schema/PColumnImpl.java     |  6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  1 -
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  6 ++
 .../apache/phoenix/compile/QueryCompilerTest.java  | 98 +++++++++++++++++++++-
 9 files changed, 149 insertions(+), 47 deletions(-)

commit 3e46a06dbd0d918f8ad09d69f63929a9e47318b0
Author: chenglei <chenglei@apache.org>
Date:   Wed Feb 14 15:38:31 2018 +0800

    PHOENIX-4602 OrExpression should can also push non-leading pk columns to scan

 .../org/apache/phoenix/compile/WhereOptimizer.java |  23 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java | 235 +++++++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |   8 +
 3 files changed, 246 insertions(+), 20 deletions(-)

commit 0ca498ea11b732edddefa95521497eb045fda54f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 13 14:29:02 2018 -0800

    PHOENIX-4603 Remove check for table existence in MetaDataClient.createTableInternal()

 .../org/apache/phoenix/end2end/DynamicColumnIT.java |  2 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java     |  2 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java   | 19 ++++++++-----------
 .../org/apache/phoenix/schema/MetaDataClient.java   | 21 +--------------------
 4 files changed, 11 insertions(+), 33 deletions(-)

commit 475798219601d50e5f30f66c450e19132e596a52
Author: Lev Bronshtein <lbronshtein@bloomberg.net>
Date:   Wed Jan 31 22:37:50 2018 -0500

    PHOENIX-4533 Modified Query Server to use two sets of Kerberos credentials
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../java/org/apache/phoenix/query/QueryServices.java    |  2 ++
 .../end2end/HttpParamImpersonationQueryServerIT.java    | 16 ++++++++++------
 .../org/apache/phoenix/end2end/SecureQueryServerIT.java | 15 +++++++++------
 .../apache/phoenix/queryserver/server/QueryServer.java  | 17 ++++++++++++++---
 4 files changed, 35 insertions(+), 15 deletions(-)

commit 7cb65d155b716aa1a4bb6179fe440b1e5f6d79e9
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Feb 12 14:22:38 2018 +0530

    PHOENIX-4591 Possible IndexOutOfBoundsException with delete query on bigger table(Rajeshbabu)

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 36 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  4 ++-
 2 files changed, 39 insertions(+), 1 deletion(-)

commit 8c1746c211edc5df62f3d3c62b797a9ba4e97e24
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 7 23:02:44 2018 -0800

    PHOENIX-3941 Filter regions to scan for local indexes based on data table leading pk filter conditions

 .../org/apache/phoenix/compile/DeleteCompiler.java |   2 +-
 .../org/apache/phoenix/compile/ExplainPlan.java    |  10 +
 .../org/apache/phoenix/compile/JoinCompiler.java   |  10 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  20 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |  12 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  12 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   4 +-
 .../execute/LiteralResultIterationPlan.java        |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  18 +-
 .../phoenix/iterate/BaseResultIterators.java       | 226 ++++++++++++++++++++-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   3 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   8 +-
 .../apache/phoenix/iterate/SerialIterators.java    |   4 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   2 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   4 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   8 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 226 +++++++++++++++++++++
 .../org/apache/phoenix/query/KeyRangeClipTest.java | 155 ++++++++++++++
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   2 +-
 21 files changed, 674 insertions(+), 60 deletions(-)

commit 05959b164efb2ec4973ef127675b61d24dce643c
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Thu Nov 2 13:41:02 2017 -0700

    PHOENIX-4342 - Surface QueryPlan in MutationPlan

 .../apache/phoenix/compile/BaseMutationPlan.java   |   5 +
 .../phoenix/compile/DelegateMutationPlan.java      |   5 +
 .../org/apache/phoenix/compile/DeleteCompiler.java | 545 ++++++++++-------
 .../org/apache/phoenix/compile/MutationPlan.java   |   5 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 675 ++++++++++++---------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   9 +-
 6 files changed, 733 insertions(+), 511 deletions(-)

commit f1ea371053e641759784895310e82f012a47ee8e
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Fri Feb 9 15:03:25 2018 -0500

    PHOENIX-4056 Spark 2.2 empty path fix (Stepan Migunov)

 .../main/scala/org/apache/phoenix/spark/DataFrameFunctions.scala    | 6 +++++-
 .../main/scala/org/apache/phoenix/spark/ProductRDDFunctions.scala   | 6 +++++-
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 2cc3241d2240d8bbe8994eaec35a3163977453f2
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Feb 9 11:45:47 2018 +0530

    PHOENIX-4588 Clone expression also if it's children have Determinism.PER_INVOCATION

 .../java/org/apache/phoenix/expression/BaseSingleExpression.java     | 5 +++++
 1 file changed, 5 insertions(+)

commit a7bb5c44c6b6b8ac5ec5c26555602280bf0680df
Author: maryannxue <maryann.xue@gmail.com>
Date:   Thu Feb 8 12:40:29 2018 -0800

    PHOENIX-4586 UPSERT SELECT doesn't take in account comparison operators for subqueries.

 .../apache/phoenix/end2end/join/SubqueryIT.java    | 41 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |  3 +-
 .../java/org/apache/phoenix/parse/ParseNode.java   | 26 +++++++++++++-
 3 files changed, 68 insertions(+), 2 deletions(-)

commit d1ad1f585d5a12dedee94288c7abd419bf7365d5
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Feb 8 12:32:09 2018 +0530

    PHOENIX-4546 Projected table cannot be read through ProjectedColumnExpression

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 36 ++++++++++++++++++++++
 .../phoenix/compile/TupleProjectionCompiler.java   | 32 ++++++++++++++-----
 2 files changed, 60 insertions(+), 8 deletions(-)

commit bfa6e71e54dc27fcd82f70565b99e725fbc4a9c4
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Feb 7 11:50:22 2018 -0800

    PHOENIX-4549 Pherf - Column override and sequenced index creation support

 .../apache/phoenix/pherf/configuration/Column.java |  23 ++--
 .../pherf/configuration/DataTypeMapping.java       |   6 +-
 .../apache/phoenix/pherf/configuration/Query.java  |  25 ++++
 .../phoenix/pherf/configuration/Scenario.java      |   3 +-
 .../apache/phoenix/pherf/result/QueryResult.java   |  10 +-
 .../apache/phoenix/pherf/result/ResultManager.java |  18 ++-
 .../apache/phoenix/pherf/result/ResultUtil.java    |   9 +-
 .../apache/phoenix/pherf/rules/RulesApplier.java   | 142 +++++++++++++++++----
 .../apache/phoenix/pherf/schema/SchemaReader.java  |   2 +-
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  44 ++++++-
 .../pherf/workload/MultiThreadedRunner.java        |  35 ++++-
 .../phoenix/pherf/workload/QueryExecutor.java      |  36 +++---
 .../phoenix/pherf/workload/WriteWorkload.java      |  54 +++++++-
 .../scenario/prod_test_unsalted_scenario.xml       |  14 +-
 .../java/org/apache/phoenix/pherf/ColumnTest.java  |   3 +
 .../phoenix/pherf/ConfigurationParserTest.java     |   4 +-
 .../apache/phoenix/pherf/RuleGeneratorTest.java    | 107 +++++++++++++++-
 .../src/test/resources/datamodel/test_schema.sql   |   4 +
 .../src/test/resources/scenario/test_scenario.xml  |  48 ++++++-
 19 files changed, 484 insertions(+), 103 deletions(-)

commit df902ea650dd13c341c768986cae31749d678530
Author: Josh Elser <elserj@apache.org>
Date:   Mon Feb 5 17:31:13 2018 -0500

    PHOENIX-4582 Set the correct Phoenix driver version

 .../java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 045ae250a1e170d8bde4473f5dfc1158bc3be44e
Author: Josh Elser <elserj@apache.org>
Date:   Thu Feb 1 17:52:15 2018 -0500

    PHOENIX-4577 Use cp -r for the argparse directory in bin/

 dev/make_rc.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77b405d59d4926fd7fb96747211c7e1fb43a3208
Author: Josh Elser <elserj@apache.org>
Date:   Thu Feb 1 15:10:54 2018 -0500

    PHOENIX-4494 Temporarily disable phoenix tracing tests

 .../src/it/java/org/apache/phoenix/trace/PhoenixTracingEndToEndIT.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e27b702438ec850530227fc6279f3469e94b3a8c
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 14:42:43 2018 -0500

    PHOENIX-4565 Temporarily disable IndexScrutinyToolIT

 .../src/it/java/org/apache/phoenix/end2end/IndexScrutinyToolIT.java     | 2 ++
 1 file changed, 2 insertions(+)

commit fcd8b99db118be7546500ef5afdc80fefb25fc9d
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 14:40:20 2018 -0500

    PHOENIX-4574 Disable some failing local indexing tests

 .../src/it/java/org/apache/phoenix/end2end/LocalIndexSplitMergeIT.java  | 2 ++
 .../src/it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java      | 2 ++
 .../src/it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java    | 2 ++
 3 files changed, 6 insertions(+)

commit 11eec618f36d56c349549175e5243ff729b0aaad
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 14:24:04 2018 -0500

    PHOENIX-4482 Disable failing test on HBase2

 .../regionserver/wal/WALReplayWithIndexWritesAndCompressedWALIT.java    | 2 ++
 1 file changed, 2 insertions(+)

commit f37b1202655bc98af8cc8afaff35360a110f7f3c
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 13:52:54 2018 -0500

    PHOENIX-4561 (addendum) Disable some more transaction table tests
    
    Includes BaseViewIT and MutableRollbackIT

 phoenix-core/src/it/java/org/apache/phoenix/end2end/BaseViewIT.java    | 3 ++-
 .../java/org/apache/phoenix/end2end/index/txn/MutableRollbackIT.java   | 2 ++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 78753eba9172cdaecdbe7264275807fe996c64d0
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 12:39:48 2018 -0500

    PHOENIX-4459 Temporarily disable failing tests

 .../src/it/java/org/apache/phoenix/end2end/ConcurrentMutationsIT.java   | 1 +
 .../java/org/apache/phoenix/end2end/ExplainPlanWithStatsEnabledIT.java  | 2 ++
 .../java/org/apache/phoenix/end2end/index/PartialIndexRebuilderIT.java  | 2 ++
 3 files changed, 5 insertions(+)

commit 08382538f0fc55d2a2beb08819dd2a1df9474c51
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 30 15:22:00 2018 -0500

    PHOENIX-4570 Explicitly add test dependnecies to phoenix-pherf
    
    Maven does not provide test-jar dependencies transitively.

 phoenix-flume/pom.xml       |  2 +-
 phoenix-hive/pom.xml        |  2 +-
 phoenix-kafka/pom.xml       |  2 +-
 phoenix-pherf/pom.xml       | 12 +++++++++++-
 phoenix-pig/pom.xml         |  2 +-
 phoenix-queryserver/pom.xml |  2 +-
 phoenix-spark/pom.xml       |  2 +-
 pom.xml                     |  2 +-
 8 files changed, 18 insertions(+), 8 deletions(-)

commit 05c8b9aa05f58500a5002329856b61f78d82949d
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 31 12:26:30 2018 -0500

    PHOENIX-4573 Temporarily disable Hive ITs

 .../src/it/java/org/apache/phoenix/hive/BaseHivePhoenixStoreIT.java     | 2 ++
 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveMapReduceIT.java   | 1 +
 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveTezIT.java         | 1 +
 3 files changed, 4 insertions(+)

commit e615fe11f1500500561e4a800f93c5ae15516812
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 30 16:06:08 2018 -0500

    PHOENIX-4572 Fix PQS dependencies with Hadoop3/HBase2
    
    Add in required bouncycastle dep for tests
    
    MiniDFSCluster is having issues with the dependencies we have
    (primarily) coming from Avatica. There's a shaded test client
    for Hadoop to fix some, but Jackson is also a problem.

 phoenix-queryserver/pom.xml | 35 ++++++++++++++++++++++++++++++-----
 pom.xml                     | 15 ++++++++++++++-
 2 files changed, 44 insertions(+), 6 deletions(-)

commit e170feb0dc8ff51b2b48c638c5da077b2050189c
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 30 16:06:08 2018 -0500

    PHOENIX-4571 Adds dependency on servlet-api for PQS

 phoenix-queryserver/pom.xml | 4 ++++
 pom.xml                     | 6 ++++++
 2 files changed, 10 insertions(+)

commit 786741e3aa4997a3a354e4247d0eca2bcd919680
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 30 10:57:10 2018 -0500

    PHOENIX-4561 Temporarily disable transactional-table tests
    
    We know that we need a new Tephra release for Phoenix5 with HBase2.
    Disabling these tests to make parsing the quality of the build better
    for the immediate.

 .../org/apache/phoenix/end2end/index/GlobalImmutableTxIndexIT.java | 2 ++
 .../org/apache/phoenix/end2end/index/GlobalMutableTxIndexIT.java   | 2 ++
 .../it/java/org/apache/phoenix/end2end/index/ImmutableIndexIT.java | 6 +++---
 .../org/apache/phoenix/end2end/index/LocalImmutableTxIndexIT.java  | 2 ++
 .../org/apache/phoenix/end2end/index/LocalMutableTxIndexIT.java    | 2 ++
 .../it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java   | 7 ++++---
 .../src/it/java/org/apache/phoenix/tx/FlappingTransactionIT.java   | 2 ++
 .../it/java/org/apache/phoenix/tx/ParameterizedTransactionIT.java  | 1 +
 phoenix-core/src/it/java/org/apache/phoenix/tx/TxCheckpointIT.java | 2 ++
 9 files changed, 20 insertions(+), 6 deletions(-)

commit a7d410bf8566e9c3537bb42e3d74dcbaa9a22068
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 25 16:43:06 2018 -0800

    PHOENIX-4560 ORDER BY with GROUP BY doesn't work if there is WHERE on pk column

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 111 +++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |   5 -
 .../apache/phoenix/compile/QueryCompilerTest.java  |  15 +++
 3 files changed, 126 insertions(+), 5 deletions(-)

commit b5d0bd78994f3c7c585cfccc9b2537a6a088a783
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jan 25 17:58:40 2018 +0530

    PHOENIX-4534 upsert/delete/upsert for the same row corrupts the indexes-addendum(Rajeshbabu)

 .../phoenix/hbase/index/covered/filter/ApplyAndFilterDeletesFilter.java  | 1 -
 1 file changed, 1 deletion(-)

commit ab796a8f525c54d78b0c0414640544875feb2b62
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Jan 22 11:08:03 2018 -0800

    PHOENIX-4548 UpgradeUtil.mapChildViewsToNamespace does not handle multi-tenant views that have the same name

 .../apache/phoenix/end2end/PhoenixDriverIT.java    | 97 ++++++++++++++++++++--
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 28 +++++--
 2 files changed, 110 insertions(+), 15 deletions(-)

commit 4031a9c076664c83b6f8a87ca3a149326ba1facd
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Dec 20 15:47:19 2017 -0800

    PHOENIX-4468 Looking up a parent index table of a child view from a different client fails (addendum)

 phoenix-core/src/main/antlr3/PhoenixSQL.g                            | 1 -
 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 6322b7a01f7b1cab66a4e1fdd3c3b1c4ed58e14f
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Dec 18 11:48:39 2017 -0800

    PHOENIX-4468 Looking up a parent index table of a child view from a different client fails

 .../apache/phoenix/end2end/PhoenixDriverIT.java    | 160 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/SequenceIT.java     |  29 ----
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  32 ++++-
 6 files changed, 189 insertions(+), 39 deletions(-)

commit d1b5fd52885aac904016b38aa5d1ece43b0053ab
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jan 24 15:40:12 2018 +0530

    PHOENIX-4534 upsert/delete/upsert for the same row corrupts the indexes(Rajeshbabu)

 .../phoenix/end2end/index/MutableIndexIT.java      | 41 ++++++++++++++++++++++
 .../filter/ApplyAndFilterDeletesFilter.java        |  8 -----
 .../index/scanner/FilteredKeyValueScanner.java     |  7 +++-
 3 files changed, 47 insertions(+), 9 deletions(-)

commit 668c36ca6f7b74b793bc97daf0f700002af72d68
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Tue Jan 23 16:07:24 2018 -0800

    PHOENIX-4489 HBase Connection leak in Phoenix MR Jobs

 .../java/org/apache/phoenix/mapreduce/PhoenixInputFormat.java  | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 844cb123b68b625e704462addd2e2c104fa332df
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jan 24 00:26:43 2018 +0530

    PHOENIX-4551 Possible ColumnAlreadyExistsException is thrown from delete when autocommit off(Rajeshbabu)

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 29 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java | 17 ++++++++-----
 2 files changed, 40 insertions(+), 6 deletions(-)

commit fd4ef4fb3f7d6fad2c47d51399d3d9002696fdd9
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jan 22 12:28:07 2018 +0530

    PHOENIX-4547 Use hbase 2.0.0-beta-1(Josh Elser)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 42f4fed7e8826457dd0cca45d6199a2b7741524d
Author: Josh Elser <elserj@apache.org>
Date:   Fri Jan 19 11:36:43 2018 -0500

    PHOENIX-4542 Use .sha256 and .sha512

 dev/make_rc.sh | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a995cc812fe3cd3db8367dbe1d271fe4923056a0
Author: Josh Elser <elserj@apache.org>
Date:   Fri Jan 19 11:01:21 2018 -0500

    PHOENIX-4541 Fix apache-rat-check failures

 pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 8ac5ec08d6dac484a80d453b44ee2f69609ca6a5
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Jan 18 13:06:34 2018 -0800

    PHOENIX-4536 Change getWAL usage due HBASE-19751

 .../regionserver/wal/WALReplayWithIndexWritesAndCompressedWALIT.java    | 2 +-
 .../hbase/index/write/recovery/TestPerRegionIndexWriteCache.java        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7fa3719775ee28941f5322063f6a13a17b97be28
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Jan 10 13:04:00 2018 -0800

    PHOENIX-4525 Integer overflow in GroupBy execution

 .../src/main/java/org/apache/phoenix/util/SizedUtil.java  |  2 +-
 .../java/org/apache/phoenix/memory/MemoryManagerTest.java | 15 +++++++++++++++
 2 files changed, 16 insertions(+), 1 deletion(-)

commit 3d6ef8525320479801e8e2ce842668a8acb7bd35
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 11 15:13:09 2018 -0800

    PHOENIX-4514 A incorrect key object is used in SequenceManager#validateSequences (Chia-Ping Tsai)

 .../src/main/java/org/apache/phoenix/compile/SequenceManager.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28723c5fc62bbbf8c4d4702f2b4e94c2d5e17596
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 11 15:11:13 2018 -0800

    PHOENIX-4522 Fail to remove the schema from client-side cache (Chia-Ping Tsai)

 .../org/apache/phoenix/schema/PMetaDataImpl.java    |  2 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java    | 21 ++++++++++++++++++++-
 2 files changed, 21 insertions(+), 2 deletions(-)

commit 334bbc36b9f4263ef592aa967b1c83a4f5551aea
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jan 11 13:58:22 2018 +0530

    PHOENIX-4527 Update dependencies for phoenix-spark tests

 phoenix-spark/pom.xml | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 1256e293a2cb3a1dd64c587c97adc6f0ee951ad8
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jan 9 13:22:35 2018 +0530

    PHOENIX-4496 Fix RowValueConstructorIT and IndexMetadataIT

 .../org/apache/phoenix/hbase/index/scanner/ScannerBuilder.java | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 27d39078e223df1f70047c9eb74718b20258cce8
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jan 9 12:33:19 2018 +0530

    PHOENIX-4471 Time related queries are failing

 .../src/it/java/org/apache/phoenix/end2end/PointInTimeQueryIT.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d36d058a72899eea2c47bca062c4eeaa75d4257c
Author: maryannxue <maryann.xue@gmail.com>
Date:   Mon Jan 8 11:21:06 2018 -0800

    PHOENIX-4508 Order-by not optimized in sort-merge-join on salted tables

 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 108 +++++++++++++++++++++
 .../phoenix/compile/TupleProjectionCompiler.java   |   7 +-
 2 files changed, 111 insertions(+), 4 deletions(-)

commit fdf4d0a696a3c593fbeaf61e948c76c3bfb9cb1f
Author: Josh Elser <elserj@apache.org>
Date:   Fri Jan 5 12:32:47 2018 -0500

    PHOENIX-4466 Do not relocate hadoop code (addendum)
    
    Turns out relocating hadoop-common (most obviously) breaks
    some security-related classes in hadoop-common around Kerberos logins.

 phoenix-queryserver-client/pom.xml | 4 ----
 1 file changed, 4 deletions(-)

commit fcf48f312e0fb961753edaa11613f3c98b7e9672
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 3 12:22:28 2018 -0500

    PHOENIX-4510 Fix performance.py issue in not finding tests jar (Artem Ervits)
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/phoenix_utils.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b891b2c978ad86bda6710aa7242b86ade6ea6be
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jan 3 12:21:50 2018 -0500

    PHOENIX-4509 Fix performance.py usage text (Artem Ervits)
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/performance.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf3e370ee1c98d0a06475a66e5ccd3a4ad7d0239
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 2 18:11:39 2018 -0500

    PHOENIX-4512 Cell.DataType was renamed to Cell.Type
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../src/main/java/org/apache/phoenix/util/IndexUtil.java       |  2 +-
 .../main/java/org/apache/phoenix/util/PhoenixKeyValueUtil.java | 10 +++++-----
 .../apache/hadoop/hbase/ipc/PhoenixIndexRpcSchedulerTest.java  |  3 ++-
 .../java/org/apache/phoenix/execute/UnnestArrayPlanTest.java   |  2 +-
 .../phoenix/query/EncodedColumnQualifierCellsListTest.java     |  2 +-
 5 files changed, 10 insertions(+), 9 deletions(-)

commit 69611a983e8446af338e97cafb660201ff0caf37
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Dec 29 13:03:57 2017 +0530

    PHOENIX-4399 Remove explicit abort on RegionServerServices (addendum)

 .../org/apache/phoenix/hbase/index/Indexer.java    |  3 +-
 .../FatalIndexBuildingFailureException.java        | 44 ++++++++++++++++++++++
 .../builder/IndexBuildingFailureException.java     |  4 +-
 .../index/write/KillServerOnFailurePolicy.java     |  4 +-
 4 files changed, 51 insertions(+), 4 deletions(-)

commit b9fb72aa49635817b0029a8fbe24760398bfb468
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Dec 29 12:42:35 2017 +0530

    PHOENIX-4493 Fix DropColumnIT

 .../apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e43202f3e957097d6a6672499e15373d60ab838c
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Wed Dec 27 15:41:41 2017 -0800

    PHOENIX-4382 Immutable table SINGLE_CELL_ARRAY_WITH_OFFSETS values starting with separator byte return null in query results

 .../org/apache/phoenix/end2end/StoreNullsIT.java   |   6 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  64 +++++-
 .../apache/phoenix/end2end/index/DropColumnIT.java |  19 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |   6 +-
 .../expression/SingleCellColumnExpression.java     |  35 ++-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   2 +-
 .../iterate/NonAggregateRegionScannerFactory.java  |   2 +-
 .../java/org/apache/phoenix/schema/ColumnRef.java  |   4 +-
 .../java/org/apache/phoenix/schema/PTable.java     |  21 +-
 .../phoenix/schema/types/PArrayDataType.java       |  18 +-
 .../schema/types/PArrayDataTypeDecoder.java        |  79 ++++++-
 .../schema/types/PArrayDataTypeEncoder.java        |  10 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   3 +-
 .../phoenix/schema/ImmutableStorageSchemeTest.java | 241 +++++++++++++++++++--
 14 files changed, 452 insertions(+), 58 deletions(-)

commit b4ccdd2c97494b3ce40f2594e48baecd0e72bf31
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Dec 26 12:15:58 2017 +0530

    PHOENIX-4495 Fix possible NPE/ClassCastException in Stats IT tests(Rajeshbabu)

 .../it/java/org/apache/phoenix/schema/stats/StatsCollectorIT.java    | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2af8aaf6be3048cd9e08e79ca7763654af189885
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Dec 25 18:30:37 2017 +0530

    PHOENIX-4492 Fix MutableIndexReplicationIT

 .../phoenix/end2end/index/MutableIndexReplicationIT.java     | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit bacf13775a2b6160798874cfe97be78ca7ce8302
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Dec 25 13:54:24 2017 +0530

    PHOENIX-4491 PHOENIX-4483 PHOENIX-4478 Fix all ITs related to transactions

 .../coprocessor/DelegateRegionObserver.java        |  7 ++-----
 .../coprocessor/PhoenixTransactionalProcessor.java | 22 +++++++++++++++++++---
 2 files changed, 21 insertions(+), 8 deletions(-)

commit 4da5c80ad26f7671a7f80a6e34b35988082bbee2
Author: Josh Elser <elserj@apache.org>
Date:   Fri Dec 22 13:28:12 2017 -0500

    PHOENIX-4466 Relocate Avatica and hadoop-common in thin-client jar (Toshihiro Suzuki)
    
    When using the thin-client in Spark, we encounter problems in that Spark
    is placing its own version of avatica on the classpath as well. We can
    relocate most of Avatica (all but the protobuf generated messages as
    their classnames are required to be 'org.apache.calcite.avatica.proto'
    presently) and hadoop-common to avoid future problems.

 phoenix-queryserver-client/pom.xml | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit 91bfaf0e7f2ce67d30d54ef162771af4c839fc26
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Dec 22 20:01:08 2017 +0530

    PHOENIX-4481 Some IT tests are failing with wrong bytes count after updating statistics(Rajeshbabu)

 .../org/apache/phoenix/schema/stats/DefaultStatisticsCollector.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0fcd9de8b69e9d996af1f4420c247615bc1767d9
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Dec 22 13:17:25 2017 +0530

    PHOENIX-4472 Altering properties in the table descriptor is not working properly.

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 ++
 1 file changed, 2 insertions(+)

commit d081adcedeb5970608df2b8f98232f316561477f
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Dec 22 12:18:05 2017 +0530

    PHOENIX-4485 Fix CsvBulkLoadToolIT for RowTimestamp table upload.

 .../java/org/apache/phoenix/mapreduce/MultiHfileOutputFormat.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a324f6da680226158807c1dc7e94f94d9addad84
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Dec 21 18:18:46 2017 +0530

    PHOENIX-4465 Default values of some of the table/column properties like max versions changed in HBase 2.0(Rajeshbabu)

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 10 +--
 .../coprocessor/DelegateRegionObserver.java        |  3 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 97 +++++++++-------------
 .../coprocessor/PhoenixTransactionalProcessor.java |  8 ++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 22 +++--
 5 files changed, 67 insertions(+), 73 deletions(-)

commit 1fafebf5d1829d32c3f57ec362af9c88e0453832
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Dec 21 12:00:51 2017 +0530

    PHOENIX-4473 Exception when Adding new columns to base table and view diverge

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 55c117ac0b534cea10aa7ec85dd7e0b801a97729
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Dec 21 11:58:50 2017 +0530

    PHOENIX-4479 Fix PartialCommitIT failing with NullPointerException due to change metric API

 .../main/java/org/apache/phoenix/iterate/ScanningResultIterator.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d29da25244389f7ae59ab590622cc78ca780624d
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Dec 19 18:16:56 2017 -0800

    PHOENIX-4477 Reflect changes in Cell/CellBuilder.DataType (HBASE-19122)

 .../phoenix/coprocessor/DelegateRegionCoprocessorEnvironment.java    | 3 ++-
 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java    | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java    | 5 +++++
 .../src/main/java/org/apache/phoenix/util/PhoenixKeyValueUtil.java   | 5 ++---
 .../test/java/org/apache/phoenix/execute/UnnestArrayPlanTest.java    | 3 ++-
 .../apache/phoenix/query/EncodedColumnQualifierCellsListTest.java    | 5 ++++-
 6 files changed, 16 insertions(+), 7 deletions(-)

commit 7a0caf838511e40f81f45af6f1ad99aeb9f52a97
Author: Josh Elser <elserj@apache.org>
Date:   Mon Dec 11 19:18:25 2017 -0500

    PHOENIX-4449 Bundle a copy of Argparse-1.4.0 for installations that need it

 NOTICE                         |    2 +
 bin/argparse-1.4.0/argparse.py | 2392 ++++++++++++++++++++++++++++++++++++++++
 bin/sqlline-thin.py            |    9 +-
 bin/sqlline.py                 |   14 +-
 4 files changed, 2413 insertions(+), 4 deletions(-)

commit 5019be449d3431b71e8245688369fa90a6bf4a82
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Dec 12 23:20:48 2017 -0800

    PHOENIX-4456 queryserver script doesn't perform as expected.

 bin/daemon.py | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit a54fd4aa6c6ebe86f1ca7dd996a715b44c9a0948
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Dec 13 09:52:57 2017 -0800

    PHOENIX-4457 Account for the Table interface addition of checkAndMutate

 .../src/main/java/org/apache/phoenix/execute/DelegateHTable.java | 5 +++++
 .../org/apache/phoenix/transaction/OmidTransactionTable.java     | 6 ++++++
 .../org/apache/phoenix/transaction/TephraTransactionTable.java   | 5 +++++
 .../org/apache/phoenix/transaction/TransactionAwareHTable.java   | 9 +++++++++
 4 files changed, 25 insertions(+)

commit b3edf390353c19b8b4c5de2cca35a97457743768
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Dec 12 10:12:49 2017 -0800

    PHOENIX-4452 change usage of WALKey to WALKeyImpl due HBASE-19134

 .../phoenix/replication/SystemCatalogWALEntryFilterIT.java     | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 25d3c13691818f7f2afdcac673a40222e228c4a0
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Dec 12 15:41:40 2017 +0530

    PHOENIX-4446 Sequence table region opening failing because of property setting attempt on read-only configuration-addendum(Rajeshbabu)

 .../regionserver/wal/WALReplayWithIndexWritesAndCompressedWALIT.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 4f97569fde4fa24989e8550eea2d76f52ac462a5
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat Dec 9 09:46:09 2017 +0530

    PHOENIX-4446 Sequence table region opening failing because of property setting attempt on read-only configuration(Rajeshbabu)

 .../main/java/org/apache/phoenix/hbase/index/write/IndexWriter.java  | 3 ++-
 .../src/main/java/org/apache/phoenix/index/PhoenixIndexBuilder.java  | 5 -----
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java   | 4 +---
 .../java/org/apache/phoenix/hbase/index/write/TestIndexWriter.java   | 3 ---
 4 files changed, 3 insertions(+), 12 deletions(-)

commit 8dc47e807624db31fe5112085005f089ae0482ab
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Dec 8 14:44:31 2017 -0800

    PHOENIX-4397 Incorrect query results when with stats are disabled on a salted table

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 36 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |  6 +---
 2 files changed, 37 insertions(+), 5 deletions(-)

commit 385c42372030b84e11e1b66efd0c5083ee2ff0bf
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Dec 7 19:13:25 2017 -0800

    PHOENIX-4415 Ignore CURRENT_SCN property if set in Pig Storer

 .../phoenix/mapreduce/PhoenixOutputFormat.java     | 13 +++++++++++-
 .../phoenix/mapreduce/PhoenixRecordWriter.java     |  8 +++++++-
 .../phoenix/mapreduce/util/ConnectionUtil.java     | 23 ++++++++++++++++++----
 .../org/apache/phoenix/util/PropertiesUtil.java    |  9 ++++++++-
 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |  4 ++++
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    | 12 +++++++----
 6 files changed, 58 insertions(+), 11 deletions(-)

commit 04b27d542120707446a70575d02cbd31b63ea050
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Dec 6 23:27:37 2017 -0800

    PHOENIX-4441 Reflect changes that were made recently in HBase branch-2 Changes required after : HBASE-19417. Changed method signature in RegionObserver HBASE-19430. Removed setTimestamp(byte[], int) method from ExtendedCell.

 .../java/org/apache/phoenix/coprocessor/DelegateRegionObserver.java | 6 +++---
 .../java/org/apache/phoenix/coprocessor/SequenceRegionObserver.java | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 4914869545791af1efc011ae1b01e26af0db6c47
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Dec 6 23:26:52 2017 -0800

    PHOENIX-4438 IT tests require additional configuration for HBase 2.0

 pom.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b973717fe69fcc0976e46ce4bcab1dee42b22946
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Dec 6 11:23:48 2017 -0800

    PHOENIX-4439 QueryServer pid file name doesn't comply the usual schema we are using in hadoop ecosystem

 bin/queryserver.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9855dc93145b4d1e5c3c9c92e7993ee9ec42c3bb
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Dec 4 17:40:15 2017 -0800

    PHOENIX-4429 QueryServer fails to start with missing jetty Locker class

 pom.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit 321cd47d8d47b1771e7b3844f4d23e0f47c79f7e
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 30 16:03:08 2017 +0530

    PHOENIX-4422 Connection to server is very slow.(Sergey Soldatov)

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit ab56b3de58f55e5425584016786d1f9ba42e28b3
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 30 10:24:57 2017 +0530

    PHOENIX-4411 Fix all IT tests failing with ClassCastException with new cell interface(Rajeshbabu)

 .../phoenix/coprocessor/SequenceRegionObserver.java       | 15 +++++++++------
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java |  6 ++++--
 .../apache/phoenix/jdbc/SecureUserConnectionsTest.java    |  1 -
 3 files changed, 13 insertions(+), 9 deletions(-)

commit fd4c94d24fb7b32ca92a9a6908fecec2151fb6b4
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Nov 28 14:54:34 2017 +0530

    PHOENIX-4400 Update pom curator and disruptor version to be compatible with HBase-2.0(addendum)

 phoenix-load-balancer/pom.xml | 21 +++++++++++----------
 pom.xml                       | 10 ----------
 2 files changed, 11 insertions(+), 20 deletions(-)

commit 30ff6d5bbca230ccfba9cbfeceea34b06cf9b022
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Nov 28 14:12:33 2017 +0530

    PHOENIX-4304 Adding coprocessor existence checks to avoid failures.(Rajeshbabu)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 28 ++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit d3b192777ccf763096647a4d95ca7e6c7bafd392
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Nov 28 13:33:46 2017 +0530

    PHOENIX-4410 Fix IT related to group by aggregates(addendum)

 .../phoenix/coprocessor/SequenceRegionObserver.java     |  9 ++++++++-
 .../phoenix/coprocessor/ServerCachingEndpointImpl.java  | 17 +++++++++--------
 2 files changed, 17 insertions(+), 9 deletions(-)

commit 1c5caff2bd439a56fb065360799fb36651da0bba
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Nov 28 13:06:38 2017 +0530

    PHOENIX-4409 Fix all IT tests failing with NPE in Encoded columns(Rajeshbabu)

 .../apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c75d766bccb5cea6452bbbbb44a5939a14cf001c
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Nov 27 23:25:07 2017 -0800

    PHOENIX-4407 Client may run only once. All further attempts to connect end up with an exception

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 476e292005c1a184e7e4a850e2a30d23de09de56
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Nov 28 12:26:48 2017 +0530

    PHOENIX-4410 Fix IT related to group by aggregates(addendum)

 .../org/apache/phoenix/coprocessor/ScanRegionObserver.java    | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 487a7566d3677d67867ec5a0876a3f7a97743c2e
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Nov 28 12:03:31 2017 +0530

    Fix IT related to group by aggregates

 .../phoenix/coprocessor/GroupedAggregateRegionObserver.java | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit a3d6c774ad309cd2bd0895ee4d5cb7172a03aa20
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Nov 28 10:20:52 2017 +0530

    PHOENIX-4304 fixing the coprocessor checks(Rajeshbabu)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 8 ++++----
 .../java/org/apache/phoenix/jdbc/SecureUserConnectionsTest.java   | 2 ++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 06bb5d95ada56ccd86b538b29d12468a096ff376
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Nov 28 09:45:46 2017 +0530

    PHOENIX-4304 adding checks whether coprocesseros presently already before adding again(Rajeshbabu)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 8e5b4131b4b9bbbf9aab43bf304504e8238027f0
Author: Josh Elser <elserj@apache.org>
Date:   Mon Nov 27 15:25:42 2017 -0500

    PHOENIX-4405 Switch to using Hadoop3
    
    Includes a temporary fix to work around a jetty dependency conflict
    between Hadoop and HBase

 phoenix-core/pom.xml                               | 21 +++++++++
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  2 +-
 .../recovery/TestPerRegionIndexWriteCache.java     | 31 +++++++++++--
 .../org/apache/phoenix/metrics/LoggingSink.java    |  2 +-
 phoenix-spark/pom.xml                              |  8 ++--
 phoenix-tracing-webapp/pom.xml                     | 16 +++++--
 pom.xml                                            | 52 ++++++++++++++++------
 7 files changed, 104 insertions(+), 28 deletions(-)

commit 309ef0b1a008643a58ce20c2c5db38fc6b2b6eed
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Nov 27 19:17:31 2017 +0530

    PHOENIX-4403 Workaround Tephra issues and fix all left over compilation issues in phoenix-core(addendum)

 .../src/it/java/org/apache/phoenix/end2end/UpgradeIT.java         | 3 ++-
 .../org/apache/phoenix/hive/mapreduce/PhoenixInputFormat.java     | 8 ++++----
 pom.xml                                                           | 2 +-
 3 files changed, 7 insertions(+), 6 deletions(-)

commit 372006816245e683746787c1d1a7d6719c232ed3
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Nov 27 18:29:01 2017 +0530

    PHOENIX-4404 Fix all unit tests cases(not IT)

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  2 -
 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  7 +--
 .../phoenix/end2end/FlappingLocalIndexIT.java      |  3 +-
 .../end2end/TableSnapshotReadsMapReduceIT.java     |  4 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    | 11 ++---
 .../end2end/index/MutableIndexFailureIT.java       |  4 +-
 .../end2end/index/PartialIndexRebuilderIT.java     |  4 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |  6 +--
 .../apache/phoenix/execute/PartialCommitIT.java    |  3 +-
 .../replication/SystemCatalogWALEntryFilterIT.java | 20 ++++----
 .../rpc/TestPhoenixIndexRpcSchedulerFactory.java   | 23 +++++++--
 .../hbase/index/covered/data/IndexMemStore.java    |  7 ++-
 .../TrackingParallelWriterIndexCommitter.java      |  5 +-
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   |  5 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |  3 +-
 .../CoveredColumnIndexSpecifierBuilder.java        |  7 ++-
 .../index/covered/data/TestIndexMemStore.java      |  8 +++-
 .../phoenix/hbase/index/write/TestIndexWriter.java | 56 +++++++++++-----------
 .../hbase/index/write/TestParalleIndexWriter.java  | 11 ++---
 .../write/TestParalleWriterIndexCommitter.java     | 31 +++++-------
 .../hbase/index/write/TestWALRecoveryCaching.java  |  6 ++-
 .../query/ConnectionQueryServicesImplTest.java     |  2 +-
 .../schema/stats/StatisticsScannerTest.java        | 37 ++++++++------
 23 files changed, 150 insertions(+), 115 deletions(-)

commit 5b9a07db16d033df2a5ed1a00c4783494f38afa6
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Nov 27 15:47:45 2017 +0530

    PHOENIX-4399 Remove explicit abort on RegionServerServices

 .../java/org/apache/phoenix/hbase/index/Indexer.java    |  3 +--
 .../index/builder/IndexBuildingFailureException.java    |  4 +---
 .../hbase/index/write/KillServerOnFailurePolicy.java    | 17 ++++-------------
 3 files changed, 6 insertions(+), 18 deletions(-)

commit 488b5281f23604252c6b9731fab3e031c24ce742
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Nov 27 15:46:00 2017 +0530

    PHOENIX-4403 Workaround Tephra issues and fix all left over compilation issues in phoenix-core
    
    - update dependency of HBase to 2.0.0-beta-1-SNAPSHOT
    - Update class to include new API from HBase beta-1
    - Remove unused CoprocessorHTableFactory
    - Use createConnection() API of environment to initiate shortCircuitConnection with custom conf
    - change usage ZooKeeperWatcher to ZKWatcher
    - Update PhoenixTransactionalTable,TephraTransactionTable,OmidTransactionTable with interfaces of Table
    - Workaround Tephra dependencies like copying TransactionAwareHTable and porting it for HBase-2.0 in Phoenix workspace and creating BaseRegionObserver for TransactionContext.

 .../hbase/coprocessor/BaseRegionObserver.java      |  22 +
 .../DelegateRegionCoprocessorEnvironment.java      |  12 +
 .../org/apache/phoenix/execute/MutationState.java  |   4 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |   3 +-
 .../index/table/CoprocessorHTableFactory.java      |  50 --
 .../hbase/index/write/IndexWriterUtils.java        |  21 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |   2 +-
 .../apache/phoenix/iterate/SnapshotScanner.java    |  11 +
 .../index/automation/PhoenixMRJobSubmitter.java    |   8 +-
 .../phoenix/transaction/OmidTransactionTable.java  |  32 +-
 .../transaction/PhoenixTransactionalTable.java     | 770 +++++++++++++++++++--
 .../transaction/TephraTransactionTable.java        |  40 +-
 .../transaction/TransactionAwareHTable.java        | 680 ++++++++++++++++++
 .../phoenix/util/ZKBasedMasterElectionUtil.java    |   4 +-
 pom.xml                                            |   4 +-
 15 files changed, 1459 insertions(+), 204 deletions(-)

commit c3ec80d3166d8b365ae39a69bd57d24d8971c63d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Nov 27 15:31:57 2017 +0530

    PHOENIX-4304 Refactoring to avoid using deprecated HTableDescriptor, HColumnDescriptor, HRegionInfo( Rajeshbabu Chintaguntla)

 .../wal/WALRecoveryRegionPostOpenIT.java           |   8 +-
 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  41 +--
 .../StatisticsCollectionRunTrackerIT.java          |  18 +-
 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  15 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  10 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |  13 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  50 ++-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  14 +-
 .../phoenix/end2end/FlappingAlterTableIT.java      |  15 +-
 .../phoenix/end2end/FlappingLocalIndexIT.java      |   8 +-
 .../end2end/IndexToolForPartialBuildIT.java        |   2 +-
 .../phoenix/end2end/LocalIndexSplitMergeIT.java    |  28 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  14 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |  13 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  22 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  41 +--
 .../org/apache/phoenix/end2end/SetPropertyIT.java  |  89 ++---
 .../end2end/SkipScanAfterManualSplitIT.java        |   4 +-
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  10 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  22 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  12 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |  20 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  27 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |  96 +----
 .../end2end/index/MutableIndexReplicationIT.java   |  38 +-
 .../phoenix/end2end/index/MutableIndexSplitIT.java |  16 +-
 .../execute/UpsertSelectOverlappingBatchesIT.java  |  24 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  18 +-
 .../iterate/RoundRobinResultIteratorIT.java        |   5 +-
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  18 +-
 .../phoenix/schema/stats/StatsCollectorIT.java     |   5 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |  29 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  51 +--
 .../IndexHalfStoreFileReaderGenerator.java         |   1 -
 .../apache/phoenix/cache/ServerCacheClient.java    |   8 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../UngroupedAggregateRegionObserver.java          |   4 +-
 .../phoenix/execute/ClientAggregatePlan.java       |   5 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  12 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   2 -
 .../index/write/ParallelWriterIndexCommitter.java  |   4 +-
 .../TrackingParallelWriterIndexCommitter.java      |   4 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   9 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  12 +-
 .../phoenix/iterate/BaseResultIterators.java       |  12 +-
 .../iterate/MapReduceParallelScanGrouper.java      |  15 +-
 .../phoenix/iterate/RegionScannerFactory.java      |   5 +-
 .../apache/phoenix/iterate/SnapshotScanner.java    |  76 ++--
 .../iterate/TableSnapshotResultIterator.java       |  28 +-
 .../apache/phoenix/parse/CreateTableStatement.java |   4 -
 .../phoenix/query/ConnectionQueryServices.java     |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 405 ++++++++++-----------
 .../query/ConnectionlessQueryServicesImpl.java     |  45 +--
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/query/GuidePostsCache.java  |   6 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  18 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  22 +-
 .../phoenix/transaction/OmidTransactionTable.java  |  98 ++++-
 .../transaction/PhoenixTransactionContext.java     |   2 +
 .../transaction/TephraTransactionTable.java        |  30 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   8 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  49 ++-
 .../java/org/apache/phoenix/util/RepairUtil.java   |   6 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |   4 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  45 +--
 .../apache/phoenix/compile/QueryCompilerTest.java  |   4 +-
 .../CoveredColumnIndexSpecifierBuilder.java        |  12 +-
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  16 +-
 .../hbase/index/util/TestIndexManagementUtil.java  |  20 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java |  16 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |  33 +-
 .../recovery/TestPerRegionIndexWriteCache.java     |  19 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   8 +-
 .../schema/stats/StatisticsScannerTest.java        |   7 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  25 +-
 75 files changed, 967 insertions(+), 940 deletions(-)

commit 1beac2746da9b00147aaacd16a2d9cf65c8b2e20
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Nov 23 17:19:48 2017 +0530

    PHOENIX-4338 Move to Java 8

 pom.xml | 12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit 7da25610a478dd7bcedb041341bdfb45e3077086
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Nov 23 17:15:20 2017 +0530

    PHOENIX-4400 Update pom curator and disruptor version to be compatible with HBase-2.0(Sergey Soldatov)

 phoenix-core/pom.xml        |  2 +-
 phoenix-queryserver/pom.xml |  6 ++++++
 pom.xml                     | 17 ++++++++++++++++-
 3 files changed, 23 insertions(+), 2 deletions(-)

commit 2a9a9f0908660ba67cb05637269acbdd293bda53
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Nov 23 17:13:44 2017 +0530

    PHOENIX-4376 Some more fixes for Coprocessor

 .../apache/phoenix/end2end/FlappingLocalIndexIT.java | 20 +++++++-------------
 .../apache/phoenix/end2end/join/HashJoinCacheIT.java |  5 +----
 .../DelegateRegionCoprocessorEnvironment.java        | 16 ++--------------
 .../phoenix/coprocessor/DelegateRegionObserver.java  |  6 ------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java    | 11 +++++------
 .../phoenix/coprocessor/SequenceRegionObserver.java  |  8 +++-----
 .../UngroupedAggregateRegionObserver.java            | 19 +------------------
 .../java/org/apache/phoenix/hbase/index/Indexer.java | 15 ++++++++-------
 .../hbase/index/builder/IndexBuildManager.java       |  8 ++++----
 .../hbase/index/table/CoprocessorHTableFactory.java  |  1 -
 .../index/write/ParallelWriterIndexCommitter.java    |  5 ++---
 .../write/TrackingParallelWriterIndexCommitter.java  | 13 ++++++-------
 .../phoenix/index/PhoenixTransactionalIndexer.java   |  5 +----
 .../org/apache/phoenix/util/PhoenixMRJobUtil.java    |  6 +++---
 .../hbase/index/write/TestWALRecoveryCaching.java    | 14 +++++++-------
 15 files changed, 50 insertions(+), 102 deletions(-)

commit 6db352aa3acb2f33fc76f15487d22350b15ec0ec
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 22 14:36:40 2017 +0530

    PHOENIX-4317 Update RPC controller to use the updated APIs(Test fixes)

 .../hadoop/hbase/ipc/PhoenixRpcScheduler.java      |  7 +++-
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    | 48 ++++++++++++++++------
 2 files changed, 42 insertions(+), 13 deletions(-)

commit 4a3912904f641d83e58308dbfc17a8f16cd2f680
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Nov 18 11:36:53 2017 -0800

    PHOENIX-4387 DefaultColumnValueIT failing in non-US build environments (Pedro Boado)

 .../it/java/org/apache/phoenix/end2end/DefaultColumnValueIT.java | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit a33b1f383274a0092cd7a9c084f8beb89610115f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Nov 18 11:31:46 2017 -0800

    PHOENIX-4384 Phoenix server jar doesn't include icu4j jars (Shehzaad Nakhoda)

 phoenix-core/pom.xml   | 1 +
 phoenix-server/pom.xml | 3 +++
 pom.xml                | 3 ++-
 3 files changed, 6 insertions(+), 1 deletion(-)

commit 15cac005634ab13aec37dad833462f6d11acb169
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Nov 18 11:57:45 2017 -0800

    Revert "PHOENIX-4386 Calculate the estimatedSize of MutationState using Map<TableRef, Map<ImmutableBytesPtr,RowMutationState>> mutations"
    
    This reverts commit 66aad7128bda85a212d38cba86f49049a6e425d1.

 .../apache/phoenix/end2end/MutationStateIT.java    | 144 ---------------------
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  42 ++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../org/apache/phoenix/execute/MutationState.java  |  50 ++-----
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   |  51 ++++++--
 6 files changed, 96 insertions(+), 201 deletions(-)

commit 66aad7128bda85a212d38cba86f49049a6e425d1
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Nov 17 11:11:43 2017 -0800

    PHOENIX-4386 Calculate the estimatedSize of MutationState using Map<TableRef, Map<ImmutableBytesPtr,RowMutationState>> mutations

 .../apache/phoenix/end2end/MutationStateIT.java    | 144 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  42 ------
 .../org/apache/phoenix/compile/DeleteCompiler.java |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../org/apache/phoenix/execute/MutationState.java  |  50 +++++--
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   |  51 ++------
 6 files changed, 201 insertions(+), 96 deletions(-)

commit 9e6987a92e34e515a53f8cf9a9f696402ffc4434
Author: Chinmay Kulkarni <chinmayskulkarni@gmail.com>
Date:   Wed Nov 15 18:31:20 2017 -0800

    PHOENIX-4361: Remove redundant argument in separateAndValidateProperties in CQSI
    
    Signed-off-by: aertoria <castives@gmail.com>

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8ab7cc142473e964ee124b5f9163ff341452f6b0
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Nov 17 19:47:09 2017 +0530

    PHOENIX-4318 Fix IndexHalfStoreFileReader and related classes(Rajeshbabu)

 .../regionserver/IndexHalfStoreFileReader.java     |  23 ++-
 .../IndexHalfStoreFileReaderGenerator.java         | 193 ++++++---------------
 .../hbase/regionserver/LocalIndexSplitter.java     |   4 +-
 .../regionserver/LocalIndexStoreFileScanner.java   |  29 ++--
 .../hbase/regionserver/ScannerContextUtil.java     |   7 +-
 .../UngroupedAggregateRegionObserver.java          |   1 -
 .../java/org/apache/phoenix/util/IndexUtil.java    |   8 +-
 7 files changed, 94 insertions(+), 171 deletions(-)

commit 5bdd3b2d49ff42228484911a92deadbde7050129
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Nov 16 16:21:50 2017 +0530

    PHOENIX-4368 Fix MapReduce related classes(addendum)

 phoenix-core/pom.xml  | 4 ++++
 phoenix-flume/pom.xml | 4 ++++
 phoenix-kafka/pom.xml | 4 ++++
 phoenix-pig/pom.xml   | 4 ++++
 pom.xml               | 5 +++++
 5 files changed, 21 insertions(+)

commit eba5459c537bde41e32c4d096681d674a9c21c1a
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Nov 16 15:53:22 2017 +0530

    PHOENIX-4368 Fix MapReduce related classes

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 12 +---
 .../mapreduce/FormatToBytesWritableMapper.java     |  2 -
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |  5 +-
 .../ImportPreUpsertKeyValueProcessor.java          |  5 +-
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  | 77 +++++++++++-----------
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  4 +-
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |  5 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  6 +-
 8 files changed, 54 insertions(+), 62 deletions(-)

commit 6a45c40fc7187ec994db389c579ebe21e13ded52
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Nov 15 18:54:04 2017 -0800

    PHOENIX-4381 Calculate the estimatedSize of MutationState incrementally

 .../org/apache/phoenix/execute/MutationState.java  | 15 ++++-
 .../apache/phoenix/util/PhoenixKeyValueUtil.java   | 65 ++++++++++------------
 2 files changed, 43 insertions(+), 37 deletions(-)

commit 693fa6598df41c2cbd8111e465cf98d1b3ba1ec4
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Nov 9 13:29:50 2017 -0800

    PHOENIX-4321 Replace deprecated HBaseAdmin with Admin

 ...WALReplayWithIndexWritesAndCompressedWALIT.java | 13 +--
 .../StatisticsCollectionRunTrackerIT.java          | 11 ++-
 .../apache/phoenix/end2end/AggregateQueryIT.java   |  8 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   | 11 +--
 .../end2end/ColumnProjectionOptimizationIT.java    |  9 +-
 .../org/apache/phoenix/end2end/CreateSchemaIT.java |  4 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  | 45 +++++-----
 .../phoenix/end2end/DisableLocalIndexIT.java       |  7 +-
 .../org/apache/phoenix/end2end/DropSchemaIT.java   |  4 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  4 +-
 .../phoenix/end2end/FlappingAlterTableIT.java      | 12 +--
 .../phoenix/end2end/FlappingLocalIndexIT.java      |  8 +-
 .../phoenix/end2end/LocalIndexSplitMergeIT.java    |  6 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  6 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |  8 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  5 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |  7 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 21 ++---
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  8 --
 .../org/apache/phoenix/end2end/SetPropertyIT.java  | 96 ++++++++++-----------
 .../end2end/SkipScanAfterManualSplitIT.java        | 11 +--
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  7 +-
 .../end2end/TableSnapshotReadsMapReduceIT.java     |  8 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  4 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 20 ++---
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  3 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  6 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  4 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |  4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 19 +++--
 .../phoenix/end2end/index/MutableIndexIT.java      | 10 +--
 .../end2end/index/MutableIndexReplicationIT.java   |  9 +-
 .../phoenix/end2end/index/MutableIndexSplitIT.java | 10 +--
 .../end2end/index/PartialIndexRebuilderIT.java     |  9 +-
 .../end2end/index/txn/MutableRollbackIT.java       |  6 +-
 .../execute/UpsertSelectOverlappingBatchesIT.java  |  6 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  4 +-
 .../iterate/RoundRobinResultIteratorIT.java        | 11 +--
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java | 13 +--
 .../phoenix/tx/ParameterizedTransactionIT.java     | 10 +--
 .../hbase/index/write/RecoveryIndexWriter.java     | 10 ++-
 .../phoenix/mapreduce/index/IndexScrutinyTool.java |  4 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  4 +-
 .../phoenix/query/ConnectionQueryServices.java     |  4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 98 +++++++++++-----------
 .../query/ConnectionlessQueryServicesImpl.java     |  4 +-
 .../query/DelegateConnectionQueryServices.java     |  4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  6 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 57 ++++++-------
 .../index/{TableName.java => IndexTableName.java}  |  2 +-
 .../index/parallel/TestThreadPoolBuilder.java      |  6 +-
 .../index/parallel/TestThreadPoolManager.java      |  7 +-
 .../hbase/index/util/TestIndexManagementUtil.java  |  8 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java |  4 +-
 .../hbase/index/write/TestParalleIndexWriter.java  |  4 +-
 .../write/TestParalleWriterIndexCommitter.java     |  4 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |  8 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  6 +-
 .../query/ConnectionQueryServicesImplTest.java     |  6 +-
 .../java/org/apache/phoenix/util/TestUtil.java     | 25 +++---
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  7 +-
 .../org/apache/phoenix/hive/util/PhoenixUtil.java  |  4 +-
 62 files changed, 378 insertions(+), 371 deletions(-)

commit c85e06581643f97242131d03b604781546817e4b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 15 11:31:31 2017 +0530

    PHOENIX-4377 Port PHOENIX-3081 to HBase-2.0

 .../phoenix/schema/stats/StatisticsScanner.java    | 26 +++++++++++++---------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit e1238aa3cb8cdf962b70ca8f1ae197285c558891
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 15 11:28:57 2017 +0530

    PHOENIX-4376 Fix all compilation error for package org.apache.phoenix.schema.stats and org.apache.phoenix.coprocessor

 .../hadoop/hbase/regionserver/ScanInfoUtil.java    | 35 ---------------------
 .../coprocessor/BaseScannerRegionObserver.java     | 26 ++--------------
 .../coprocessor/DelegateRegionObserver.java        | 32 +++++++++++--------
 .../phoenix/coprocessor/DelegateRegionScanner.java |  5 ---
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  4 +--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 +--
 .../UngroupedAggregateRegionObserver.java          | 36 ++++++++++++----------
 .../schema/stats/DefaultStatisticsCollector.java   |  6 ++--
 .../stats/StatisticsCollectionRunTracker.java      | 20 ++++++------
 .../phoenix/schema/stats/StatisticsUtil.java       |  4 +--
 10 files changed, 60 insertions(+), 112 deletions(-)

commit 10a0778ebb63e0b85b55a588694b0291c9469d0b
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Nov 14 15:28:01 2017 -0800

    PHOENIX-4379 Upgrade code to create CHILD links should only create the links for views and not for indexes

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 73 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  1 +
 2 files changed, 74 insertions(+)

commit d809707d2b9bac9dff827757e149462cd7bd3640
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Tue Nov 14 10:47:46 2017 -0800

    PHOENIX-4373 Local index variable length key can have trailing nulls while upserting

 .../org/apache/phoenix/end2end/IndexToolIT.java    | 40 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     | 11 ++++--
 .../org/apache/phoenix/compile/UpsertCompiler.java |  3 +-
 3 files changed, 50 insertions(+), 4 deletions(-)

commit c82cc18d8432baba8e2cbd10af121cd39f83ca05
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Nov 14 10:00:00 2017 +0530

    PHOENIX-4305 Make use of Cell interface APIs where ever possible.(Rajeshbabu)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |   2 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |   6 +-
 .../org/apache/phoenix/end2end/RowTimestampIT.java |   8 +-
 .../apache/phoenix/end2end/index/DropColumnIT.java |   6 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   4 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |   4 +-
 .../DataTableLocalIndexRegionScanner.java          |   3 +-
 .../regionserver/IndexHalfStoreFileReader.java     |   4 +-
 .../IndexHalfStoreFileReaderGenerator.java         |   5 +-
 .../regionserver/IndexKeyValueSkipListSet.java     |  16 +-
 .../hbase/regionserver/KeyValueSkipListSet.java    |  57 +++---
 .../regionserver/LocalIndexStoreFileScanner.java   |  24 ++-
 .../regionserver/wal/IndexedWALEditCodec.java      |   6 +-
 .../phoenix/cache/aggcache/SpillManager.java       |   7 +-
 .../cache/aggcache/SpillableGroupByCache.java      |   4 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   7 +-
 .../compile/MutatingParallelIteratorFactory.java   |   6 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  11 +-
 .../GroupedAggregateRegionObserver.java            |  13 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 215 +++++++++++++--------
 .../coprocessor/SequenceRegionObserver.java        |  46 ++---
 .../UngroupedAggregateRegionObserver.java          |  16 +-
 .../org/apache/phoenix/execute/MutationState.java  |   9 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   6 +-
 .../org/apache/phoenix/execute/TupleProjector.java |  17 +-
 .../phoenix/filter/DistinctPrefixFilter.java       |   4 +-
 .../hbase/index/builder/BaseIndexBuilder.java      |   4 +-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   4 +-
 .../apache/phoenix/hbase/index/covered/Batch.java  |   9 +-
 .../phoenix/hbase/index/covered/KeyValueStore.java |   6 +-
 .../hbase/index/covered/LocalTableState.java       |  29 +--
 .../hbase/index/covered/NonTxIndexBuilder.java     |   5 +-
 .../phoenix/hbase/index/covered/TableState.java    |   4 +-
 .../hbase/index/covered/data/IndexMemStore.java    |  53 ++---
 .../hbase/index/covered/data/LocalHBaseState.java  |   4 +-
 .../filter/ApplyAndFilterDeletesFilter.java        |  21 +-
 .../index/covered/filter/MaxTimestampFilter.java   |  11 +-
 .../index/covered/update/ColumnReference.java      |   3 +-
 .../index/scanner/FilteredKeyValueScanner.java     |   4 +-
 .../hbase/index/util/GenericKeyValueBuilder.java   |   7 +-
 .../hbase/index/util/IndexManagementUtil.java      |  10 +-
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |   6 +-
 .../phoenix/hbase/index/wal/IndexedKeyValue.java   |  10 +-
 .../phoenix/hbase/index/wal/KeyValueCodec.java     |   2 -
 .../org/apache/phoenix/index/IndexMaintainer.java  |   9 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   6 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   8 +-
 .../BaseGroupedAggregatingResultIterator.java      |   8 +-
 .../iterate/GroupedAggregatingResultIterator.java  |   4 +-
 .../iterate/MappedByteBufferSortedQueue.java       |   5 +-
 .../iterate/NonAggregateRegionScannerFactory.java  |   4 +-
 .../RowKeyOrderedAggregateResultIterator.java      |   4 +-
 .../UngroupedAggregatingResultIterator.java        |   4 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   7 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  10 +-
 .../mapreduce/FormatToBytesWritableMapper.java     |  24 +--
 .../ImportPreUpsertKeyValueProcessor.java          |   3 +-
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |   3 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |  12 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   1 -
 .../java/org/apache/phoenix/schema/Sequence.java   |  92 ++++-----
 .../schema/stats/DefaultStatisticsCollector.java   |  10 +-
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   4 +-
 .../schema/tuple/PositionBasedResultTuple.java     |  10 +-
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  12 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  31 +--
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   2 +-
 ...{KeyValueUtil.java => PhoenixKeyValueUtil.java} |  67 ++++---
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  19 +-
 .../java/org/apache/phoenix/util/ResultUtil.java   |  12 +-
 .../java/org/apache/phoenix/util/TupleUtil.java    |   5 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   8 +-
 .../wal/ReadWriteKeyValuesWithCodecTest.java       |   5 +-
 .../apache/phoenix/execute/MutationStateTest.java  |  11 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |   4 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  |   9 +-
 .../phoenix/hbase/index/IndexTestingUtils.java     |   7 +-
 .../index/covered/CoveredColumnIndexCodec.java     |  22 ++-
 .../hbase/index/covered/LocalTableStateTest.java   |   9 +-
 .../index/covered/TestCoveredColumnIndexCodec.java |  10 +-
 .../index/covered/data/TestIndexMemStore.java      |   8 +-
 .../filter/TestApplyAndFilterDeletesFilter.java    |   5 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |  19 +-
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |   4 +-
 .../mapreduce/FormatToBytesWritableMapperTest.java |   3 +-
 .../apache/phoenix/query/ConnectionlessTest.java   |  39 ++--
 .../query/EncodedColumnQualifierCellsListTest.java |  71 +++----
 .../java/org/apache/phoenix/query/OrderByTest.java |  41 ++--
 .../apache/phoenix/schema/RowKeySchemaTest.java    |   8 +-
 .../phoenix/schema/RowKeyValueAccessorTest.java    |   8 +-
 91 files changed, 677 insertions(+), 690 deletions(-)

commit 0454e42112fa90b5c23c0d47be98e7ed9ad4f6c3
Author: Josh Elser <elserj@apache.org>
Date:   Mon Nov 6 15:21:35 2017 -0500

    PHOENIX-4351 Add i18n-util to bin LICENSE file and to dependencyManagement

 dev/release_files/LICENSE | 2 ++
 phoenix-core/pom.xml      | 3 +--
 pom.xml                   | 5 +++++
 3 files changed, 8 insertions(+), 2 deletions(-)

commit ee91a603fe1536e4d3fe8a243e28c6ffa8ab7537
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Nov 3 13:41:45 2017 -0700

    PHOENIX-4291 Addendum - Merge release script for mac and linux

 dev/make_rc.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 28dc119fedc9a2b5c2429da72693811727ef621f
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Nov 3 11:55:25 2017 -0700

    PHOENIX-4291 Merge release script for mac and linux

 dev/make_rc.sh        |  26 +++++++----
 dev/make_rc_on_mac.sh | 121 --------------------------------------------------
 2 files changed, 18 insertions(+), 129 deletions(-)

commit 3d4023a5805e7a556965ee053bca37b365ef47de
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 3 09:26:58 2017 -0700

    PHOENIX-4349 Update version to 4.13.0

 .../main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 495387681ff97ab3d227660046d187858c264597
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 3 09:17:29 2017 -0700

    PHOENIX-4237 Allow sorting on (Java) collation keys for non-English locales (Shehzaad Nakhoda)

 LICENSE                                            |  43 ++--
 phoenix-core/pom.xml                               |   5 +
 .../phoenix/end2end/CollationKeyFunctionIT.java    | 181 +++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/CollationKeyFunction.java  | 199 +++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   3 +
 .../apache/phoenix/util/VarBinaryFormatter.java    |  52 +++++
 .../function/CollationKeyFunctionTest.java         | 243 +++++++++++++++++++++
 phoenix-server/pom.xml                             |   1 +
 9 files changed, 713 insertions(+), 18 deletions(-)

commit 8b4d6047070e1747d60a3e07e68b7c51fbc719aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 2 18:47:01 2017 -0700

    PHOENIX-4348 Point deletes do not work when there are immutable indexes with only row key columns

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 96 ++++++++++++++++++++--
 .../org/apache/phoenix/compile/DeleteCompiler.java |  5 +-
 2 files changed, 94 insertions(+), 7 deletions(-)

commit cdec8149886581f4a3bffa4fe6c9cdf2e8c0ff75
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Nov 2 17:52:32 2017 -0700

    PHOENIX-4287 Add null check for parent name

 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java    | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 072ff5857f587c64472c3e03d348321b01cde396
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Nov 2 16:55:55 2017 -0700

    PHOENIX-4287 Make indexes inherit use stats property from their parent table or view

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 146 +++++++++++++++++++--
 .../phoenix/iterate/BaseResultIterators.java       |  41 +++++-
 2 files changed, 171 insertions(+), 16 deletions(-)

commit 59e49f78a311eadf6b3fbe7d30df20bd2f7e204c
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Nov 1 23:24:52 2017 -0700

    PHOENIX-4332 Indexes should inherit guide post width of the base data table

 ...olumnEncodedImmutableNonTxStatsCollectorIT.java |   1 +
 .../ColumnEncodedImmutableTxStatsCollectorIT.java  |   1 +
 .../ColumnEncodedMutableNonTxStatsCollectorIT.java |   1 +
 .../ColumnEncodedMutableTxStatsCollectorIT.java    |   1 +
 ...olumnEncodedImmutableNonTxStatsCollectorIT.java |   1 +
 ...onColumnEncodedImmutableTxStatsCollectorIT.java |   1 +
 .../SysTableNamespaceMappedStatsCollectorIT.java   |   1 +
 .../stats}/StatsCollectorIT.java                   | 109 +++++++++++++++++++--
 .../schema/stats/DefaultStatisticsCollector.java   |  58 ++++++++++-
 9 files changed, 166 insertions(+), 8 deletions(-)

commit e7d2c391ab208f2624b1b771452262506cce9730
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Nov 1 23:21:01 2017 -0700

    PHOENIX-4343 In CREATE TABLE allow setting guide post width only on base data tables

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 73 ++++++++++++++++++++++
 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 +++
 4 files changed, 82 insertions(+), 2 deletions(-)

commit fc327e74b280fd5e5c744b7149ad349d501ebadf
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Nov 1 21:13:40 2017 -0700

    PHOENIX-4287 Addendum to correctly set useStatsForParallelization property

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 87 +++++++++++++++++++---
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 .../phoenix/iterate/BaseResultIterators.java       |  9 ++-
 .../org/apache/phoenix/schema/DelegateTable.java   |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 26 +++----
 .../java/org/apache/phoenix/schema/PTable.java     |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 22 +++---
 7 files changed, 110 insertions(+), 40 deletions(-)

commit 2a67137db102af7bf7adf6a42863b110343f64d3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 31 15:55:03 2017 -0700

    PHOENIX-4335 System catalog snapshot created each time a new connection is created

 .../phoenix/end2end/SystemCatalogUpgradeIT.java    | 121 +++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |  12 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  39 +++++--
 .../java/org/apache/phoenix/query/BaseTest.java    |  35 ++++--
 4 files changed, 190 insertions(+), 17 deletions(-)

commit 79d80f1b4cf79a37cef72ff1c9bebd55b2946e09
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Oct 31 14:14:56 2017 -0700

    PHOENIX-4333 Test to demonstrate partial stats information for tenant views

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 95 ++++++++++++++++++++++
 1 file changed, 95 insertions(+)

commit 8a19ae1c4b975a4dd0c6f535819c9d2e94ab108f
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Oct 31 10:12:22 2017 -0700

    PHOENIX-4287 Incorrect aggregate query results when stats are disable for parallelization

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 209 ++++++++++++++++++++-
 .../phoenix/iterate/BaseResultIterators.java       |  55 ++++--
 2 files changed, 246 insertions(+), 18 deletions(-)

commit 7a5b5da589372e0d25eec7aa66c5c513e73eab04
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 30 19:25:53 2017 -0700

    PHOENIX-4290 Full table scan performed for DELETE with table having immutable indexes

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 134 ++--
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  22 +-
 .../phoenix/end2end/index/IndexMaintenanceIT.java  |  18 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  18 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java | 849 +++++++++++----------
 .../org/apache/phoenix/compile/FromCompiler.java   |  49 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 -
 .../org/apache/phoenix/execute/MutationState.java  |   4 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  35 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  10 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  18 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  27 -
 14 files changed, 643 insertions(+), 546 deletions(-)

commit f7b16a99b176ad6c032654928a67c82f23e74870
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 29 15:20:23 2017 -0700

    PHOENIX-4329 Test IndexScrutinyTool while table is taking writes (Vincent Poon)

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 101 ++++++++++++++++++++-
 1 file changed, 96 insertions(+), 5 deletions(-)

commit c39cd801601238ff171530a0ada1d1ea56d04edc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 29 15:19:23 2017 -0700

    PHOENIX-4277 Treat delete markers consistently with puts for point-in-time scans

 .../apache/phoenix/end2end/PointInTimeQueryIT.java |  2 +-
 .../hadoop/hbase/regionserver/ScanInfoUtil.java    | 35 ++++++++++++++++++++++
 .../coprocessor/BaseScannerRegionObserver.java     | 21 +++++++++++++
 .../org/apache/phoenix/util/TransactionUtil.java   |  7 +++--
 4 files changed, 62 insertions(+), 3 deletions(-)

commit f5131945c75d85108887c49ed5c294a01a28e095
Author: Samarth Jain <samarth@apache.org>
Date:   Sun Oct 29 22:59:03 2017 -0700

    PHOENIX-4289 UPDATE STATISTICS command does not collect stats for local indexes

 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 13 ++++
 .../phoenix/end2end/index/BaseLocalIndexIT.java    |  3 +
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 46 ++++++++++++-
 .../phoenix/iterate/BaseResultIterators.java       |  4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 80 ++++++++++++++--------
 5 files changed, 115 insertions(+), 31 deletions(-)

commit 754201cfb982ae9ec7f0e2cb0a0e3ecb8d1ca4a7
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 9 17:12:19 2017 +0530

    PHOENIX-4303 Fixing getting table from RegionCoprocessorEnvironment(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 14 +++--
 .../IndexHalfStoreFileReaderGenerator.java         |  2 +-
 .../DelegateRegionCoprocessorEnvironment.java      | 61 ++++++++++++++--------
 .../coprocessor/MetaDataRegionObserver.java        |  7 +--
 .../index/table/CoprocessorHTableFactory.java      |  9 ++--
 .../hbase/index/write/IndexWriterUtils.java        |  3 +-
 .../index/write/ParallelWriterIndexCommitter.java  |  2 +-
 .../TrackingParallelWriterIndexCommitter.java      |  2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  2 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  3 +-
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |  1 -
 .../phoenix/query/ConnectionQueryServicesImpl.java |  7 +--
 .../schema/stats/DefaultStatisticsCollector.java   |  2 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |  2 +-
 .../transaction/PhoenixTransactionalTable.java     |  1 -
 .../java/org/apache/phoenix/util/IndexUtil.java    |  2 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   |  2 +-
 17 files changed, 73 insertions(+), 49 deletions(-)

commit d85e9165a7113449efb30cc9ab645e51da89629d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 9 14:01:08 2017 +0530

    PHOENIX-4303 Remove HTable and Use Table APIs(Rajeshbabu)

 .../wal/WALRecoveryRegionPostOpenIT.java           | 13 ++++++-----
 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  9 +++++---
 .../apache/phoenix/end2end/AggregateQueryIT.java   | 20 ++++++++++++-----
 .../phoenix/end2end/FlappingLocalIndexIT.java      |  7 +++---
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |  8 +++----
 .../org/apache/phoenix/end2end/RowTimestampIT.java | 14 +++++++-----
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  9 +++++---
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  6 +++--
 .../apache/phoenix/end2end/index/DropColumnIT.java | 18 +++++++--------
 .../index/IndexWithTableSchemaChangeIT.java        |  6 ++---
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 14 +++++++-----
 .../end2end/index/MutableIndexReplicationIT.java   |  8 ++++---
 ...InterRegionServerIndexRpcControllerFactory.java |  3 +--
 ...erRegionServerMetadataRpcControllerFactory.java |  3 +--
 .../IndexHalfStoreFileReaderGenerator.java         |  8 ++++---
 .../UngroupedAggregateRegionObserver.java          |  1 -
 .../org/apache/phoenix/execute/DelegateHTable.java | 26 ++++++++++++++++++++++
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 25 +++++++++++++--------
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  | 20 +++++++++++------
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 25 +++++++++++++--------
 .../transaction/PhoenixTransactionalTable.java     | 10 ++++-----
 .../phoenix/hbase/index/IndexTestingUtils.java     | 10 ++++-----
 .../hbase/index/write/TestWALRecoveryCaching.java  | 11 ++++-----
 23 files changed, 174 insertions(+), 100 deletions(-)

commit 62027bff132dda23e6f7ae30334f191e68072ba2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Nov 8 17:05:31 2017 +0530

    PHOENIX-4350 Replace deprecated or changed Region methods with new APIs(Rajeshbabu)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  8 ++-
 .../DataTableLocalIndexRegionScanner.java          |  3 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 57 +++++++++-------------
 .../coprocessor/SequenceRegionObserver.java        | 21 +++-----
 .../UngroupedAggregateRegionObserver.java          | 30 ++++++------
 .../hbase/index/IndexRegionSplitPolicy.java        | 25 +++++-----
 .../org/apache/phoenix/hbase/index/Indexer.java    |  3 +-
 .../schema/stats/DefaultStatisticsCollector.java   |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  4 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   | 20 ++++++++
 pom.xml                                            |  2 +-
 11 files changed, 85 insertions(+), 90 deletions(-)

commit 113904275d0689755aea100aaeb43aed9bd9cc9d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Nov 8 16:07:14 2017 +0530

    PHOENIX-4303 Replace HTableInterface,HConnection with Table,Connection interfaces respectively(Rajeshbabu)

 .../phoenix/end2end/AlterTableWithViewsIT.java     |   4 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   4 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |   4 +-
 .../phoenix/end2end/DisableLocalIndexIT.java       |   4 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |   6 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |   6 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |   9 +-
 .../apache/phoenix/end2end/MetaDataEndPointIT.java |   4 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  10 +-
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  16 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   4 +-
 .../end2end/RebuildIndexConnectionPropsIT.java     |  10 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |   8 +-
 .../UpdateCacheAcrossDifferentClientsIT.java       |   4 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |   7 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |   4 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |   4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   4 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |   4 +-
 .../end2end/index/PartialIndexRebuilderIT.java     |  36 ++--
 .../apache/phoenix/tx/FlappingTransactionIT.java   |   4 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |   8 +-
 .../apache/phoenix/cache/ServerCacheClient.java    |   9 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   4 +-
 .../DelegateRegionCoprocessorEnvironment.java      |  15 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 +-
 .../coprocessor/MetaDataRegionObserver.java        |   6 +-
 .../org/apache/phoenix/execute/DelegateHTable.java | 185 +++++++++------------
 .../org/apache/phoenix/execute/MutationState.java  |  18 +-
 .../index/table/CoprocessorHTableFactory.java      |   6 +-
 .../phoenix/hbase/index/table/HTableFactory.java   |   6 +-
 .../hbase/index/write/IndexWriterUtils.java        |  19 ++-
 .../index/write/ParallelWriterIndexCommitter.java  |   4 +-
 .../TrackingParallelWriterIndexCommitter.java      |   4 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   6 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   2 +-
 .../phoenix/iterate/BaseResultIterators.java       |   2 +-
 .../apache/phoenix/iterate/SnapshotScanner.java    |   4 +-
 .../phoenix/iterate/TableResultIterator.java       |   6 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   3 +-
 .../mapreduce/index/DirectHTableWriter.java        |  13 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   8 +-
 .../phoenix/query/ConnectionQueryServices.java     |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  65 ++++----
 .../query/ConnectionlessQueryServicesImpl.java     |   6 +-
 .../query/DelegateConnectionQueryServices.java     |   7 +-
 .../org/apache/phoenix/query/GuidePostsCache.java  |   4 +-
 .../apache/phoenix/query/HConnectionFactory.java   |  10 +-
 .../org/apache/phoenix/query/HTableFactory.java    |  11 +-
 .../schema/stats/DefaultStatisticsCollector.java   |   4 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |   4 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |  12 +-
 .../phoenix/transaction/OmidTransactionTable.java  |  34 +---
 .../transaction/PhoenixTransactionalTable.java     |  22 +--
 .../transaction/TephraTransactionTable.java        | 101 +++++------
 .../phoenix/transaction/TransactionFactory.java    |   6 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  19 ++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  14 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   |  21 ++-
 .../org/apache/phoenix/util/TransactionUtil.java   |   4 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  93 ++++++-----
 .../hbase/index/write/FakeTableFactory.java        |  12 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java |   8 +-
 .../hbase/index/write/TestParalleIndexWriter.java  |  12 +-
 .../write/TestParalleWriterIndexCommitter.java     |  12 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  11 +-
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java |   7 +-
 67 files changed, 488 insertions(+), 516 deletions(-)

commit 136c7a62979167f93a9ce6d6bf7a47f34d73704b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 8 15:46:26 2017 +0530

    PHOENIX-4317 Update RPC controller to use the updated APIs

 .../hadoop/hbase/ipc/PhoenixRpcScheduler.java      | 43 ++++++++++++++++++----
 .../hbase/ipc/PhoenixRpcSchedulerFactory.java      |  5 +--
 .../ipc/controller/ClientRpcControllerFactory.java | 16 ++++----
 .../hbase/ipc/controller/IndexRpcController.java   |  8 ++--
 ...InterRegionServerIndexRpcControllerFactory.java | 16 ++++----
 ...erRegionServerMetadataRpcControllerFactory.java | 16 ++++----
 .../ipc/controller/MetadataRpcController.java      |  8 ++--
 7 files changed, 69 insertions(+), 43 deletions(-)

commit b989e55e0d3299e95d58b2faa80718c96567b57a
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 8 15:21:46 2017 +0530

    PHOENIX-4339 Use BlockingRpcCallback class inherited from non-shaded RpcCallback

 .../src/main/java/org/apache/phoenix/cache/ServerCacheClient.java | 8 +-------
 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java | 3 +--
 phoenix-core/src/test/java/org/apache/phoenix/util/TestUtil.java  | 3 +--
 4 files changed, 4 insertions(+), 12 deletions(-)

commit 645fc39e823f503e5503ffd4b26f126f84449c2d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Nov 8 15:13:12 2017 +0530

    PHOENIX-4340 Implements Observer interfaces instead of extending base observers classes

 .../coprocessor/BaseScannerRegionObserver.java     |  10 +-
 .../coprocessor/DelegateRegionObserver.java        | 421 ++-------------------
 .../phoenix/coprocessor/DelegateRegionScanner.java |  18 +-
 .../coprocessor/MetaDataRegionObserver.java        |  12 +-
 .../coprocessor/SequenceRegionObserver.java        |   6 +-
 .../UngroupedAggregateRegionObserver.java          |  42 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  47 +--
 .../hbase/index/master/IndexMasterObserver.java    |   4 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  14 +-
 .../transaction/OmidTransactionContext.java        |   5 +-
 .../transaction/PhoenixTransactionContext.java     |  12 +-
 .../transaction/TephraTransactionContext.java      |  20 +-
 12 files changed, 123 insertions(+), 488 deletions(-)

commit d36558f4ad7be955f307eec02c59cd989ea138bb
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Nov 2 12:08:07 2017 -0700

    PHOENIX-3460 Namespace separator : should not be allowed in table or schema name

 phoenix-core/src/main/antlr3/PhoenixSQL.g           | 15 +++++++++++----
 .../org/apache/phoenix/parse/QueryParserTest.java   | 21 +++++++++++++++++++++
 2 files changed, 32 insertions(+), 4 deletions(-)

commit 51a34bb89aaeefd81fc1f3d9677341dbf79d47b4
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 2 17:05:13 2017 +0530

    Changing phoenix version in all the modules

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-load-balancer/pom.xml      | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit 609465c0383d379b92e6d053384a2bccb9159b0e
Author: Karan Mehta <karanmehta93@gmail.com>
Date:   Thu Oct 26 11:32:14 2017 -0700

    PHOENIX-3757 System mutex table not being created in SYSTEM namespace when namespace mapping is enabled

 .../MigrateSystemTablesToSystemNamespaceIT.java    | 402 +++++++++++++++++++++
 .../phoenix/end2end/SystemTablePermissionsIT.java  |   3 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   3 +
 .../exception/UpgradeInProgressException.java      |   8 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 184 +++++++---
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  44 ++-
 .../query/ConnectionQueryServicesImplTest.java     |   9 +-
 7 files changed, 572 insertions(+), 81 deletions(-)

commit cd0509b6e32d82988faec410bb71b3c1a4a40046
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Oct 27 13:47:01 2017 +0530

    PHOENIX-4326 Create branch 5.0-HBase-2.0 and update hbase.version to 2.0.0-alpha4-SNAPSHOT

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 20e72eebbf64f29f379d7c9af9681565afdef87a
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Oct 27 12:35:38 2017 +0530

    PHOENIX-4298 refactoring to avoid using deprecated API for Put/Delete(Sergey Soldatov)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  2 +-
 .../end2end/ColumnProjectionOptimizationIT.java    | 14 ++++-----
 .../apache/phoenix/end2end/DynamicColumnIT.java    | 12 ++++----
 .../apache/phoenix/end2end/DynamicFamilyIT.java    | 26 ++++++++--------
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  4 +--
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java | 30 +++++++++---------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  4 +--
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  4 +--
 .../phoenix/tx/ParameterizedTransactionIT.java     |  4 +--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 36 +++++++++++-----------
 .../UngroupedAggregateRegionObserver.java          |  3 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  | 12 ++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  6 ++--
 .../phoenix/schema/stats/StatisticsWriter.java     |  9 +++---
 .../java/org/apache/phoenix/util/IndexUtil.java    |  6 ++--
 .../wal/ReadWriteKeyValuesWithCodecTest.java       |  6 ++--
 .../index/covered/CoveredColumnIndexCodec.java     |  2 +-
 .../hbase/index/covered/LocalTableStateTest.java   | 10 +++---
 .../index/covered/TestCoveredColumnIndexCodec.java |  6 ++--
 .../phoenix/hbase/index/write/TestIndexWriter.java | 10 ++----
 .../hbase/index/write/TestParalleIndexWriter.java  |  2 +-
 .../write/TestParalleWriterIndexCommitter.java     |  2 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |  4 +--
 .../recovery/TestPerRegionIndexWriteCache.java     |  4 +--
 .../java/org/apache/phoenix/util/TestUtil.java     |  4 +--
 26 files changed, 107 insertions(+), 117 deletions(-)

commit fe13b257e5dfe29581b1c3265d79596f194954cd
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Oct 23 20:19:15 2017 -0700

    PHOENIX-4292 Filters on Tables and Views with composite PK of VARCHAR fields with sort direction DESC do not work (addendum)

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 202 +++++++++++++--------
 1 file changed, 129 insertions(+), 73 deletions(-)

commit 7cdcb2313b08d2eaeb775f0c989642f8d416cfb6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 20 12:19:37 2017 -0700

    PHOENIX-4310 Remove unnecessary casts in UngroupedAggregateRegionObserverIT

 .../phoenix/end2end/UngroupedAggregateRegionObserverIT.java    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit dc432b9754d028d0d36652c69b25e0fdb735b3fa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Oct 19 17:52:29 2017 -0700

    PHOENIX-4280 Delete doesn't work when immutable indexes are in building state

 .../apache/phoenix/end2end/index/DropColumnIT.java |   3 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    | 105 ++++++++++++++++++-
 .../phoenix/end2end/index/IndexMaintenanceIT.java  |   7 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  18 ++--
 .../hbase/index/builder/BaseIndexCodec.java        |  33 +++---
 .../phoenix/hbase/index/covered/IndexMetaData.java |  13 ++-
 .../hbase/index/covered/LocalTableState.java       |  69 +++++++------
 .../hbase/index/covered/NonTxIndexBuilder.java     | 115 +--------------------
 .../hbase/index/scanner/ScannerBuilder.java        |   2 +-
 .../hbase/index/util/IndexManagementUtil.java      |   2 -
 .../org/apache/phoenix/index/IndexMaintainer.java  |  29 ++++--
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  14 ++-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  34 +++---
 .../hbase/index/covered/LocalTableStateTest.java   |  31 +++---
 .../hbase/index/covered/NonTxIndexBuilderTest.java |   2 +-
 15 files changed, 255 insertions(+), 222 deletions(-)

commit e50b357a0f8d9c6e8e2e803881e4cc197559b822
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Thu Oct 19 15:54:11 2017 -0700

    PHOENIX-4269 IndexScrutinyToolIT is flapping

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 61 +++++++++++-----------
 1 file changed, 30 insertions(+), 31 deletions(-)

commit 53910f9f88cd47f51f68691042306c89118b6ab3
Author: Vincent Poon <vincentpoon@apache.org>
Date:   Thu Oct 19 14:28:27 2017 -0700

    PHOENIX-4242 Fix Indexer post-compact hook logging of NPE and TableNotFound

 .../UngroupedAggregateRegionObserverIT.java        | 171 +++++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          | 103 ++++++++-----
 .../org/apache/phoenix/hbase/index/Indexer.java    |  52 -------
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 +
 4 files changed, 239 insertions(+), 90 deletions(-)

commit 0461fe855aaed27e23cb5d17e8be022a82626162
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Wed Oct 18 18:39:18 2017 -0700

    Filters on Tables and Views with composite PK of VARCHAR fields with sort direction DESC do not work

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 74 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/ValueSchema.java     |  2 +-
 2 files changed, 75 insertions(+), 1 deletion(-)

commit c594038a1bee96b92edd9c788969e3e2dbd6db5a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 18 09:29:44 2017 -0700

    PHOENIX-4295 Fix argument order for StatsCollectorIT derived classes

 .../phoenix/end2end/ColumnEncodedImmutableNonTxStatsCollectorIT.java | 4 ++--
 .../phoenix/end2end/ColumnEncodedImmutableTxStatsCollectorIT.java    | 5 ++---
 .../phoenix/end2end/ColumnEncodedMutableNonTxStatsCollectorIT.java   | 5 ++---
 .../phoenix/end2end/ColumnEncodedMutableTxStatsCollectorIT.java      | 5 ++---
 .../end2end/NonColumnEncodedImmutableNonTxStatsCollectorIT.java      | 5 ++---
 .../phoenix/end2end/NonColumnEncodedImmutableTxStatsCollectorIT.java | 5 ++---
 .../phoenix/end2end/SysTableNamespaceMappedStatsCollectorIT.java     | 3 +--
 7 files changed, 13 insertions(+), 19 deletions(-)

commit ccc44386e05fd7191cd498c8e35b4bb96df2eef7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 18 09:28:31 2017 -0700

    PHOENIX-4294 Allow scalar function to declare that it's not thread safe

 .../org/apache/phoenix/expression/function/ScalarFunction.java   | 9 +++++++++
 .../phoenix/expression/visitor/CloneExpressionVisitor.java       | 2 +-
 2 files changed, 10 insertions(+), 1 deletion(-)

commit bab06d688acde9801ae171420f94871b8e78684f
Author: aertoria <castives@gmail.com>
Date:   Sun Oct 15 18:36:44 2017 -0700

    PHOENIX-4283 fix a coearceByte issue which causes nested group by big int incorrect
    
    Signed-off-by: aertoria <castives@gmail.com>

 .../org/apache/phoenix/end2end/AggregateIT.java     | 21 ++++++++++++++++++++-
 .../java/org/apache/phoenix/schema/types/PLong.java |  3 ++-
 2 files changed, 22 insertions(+), 2 deletions(-)

commit ff80555537ef103f73258115fc766bbe89c430a0
Author: gjacoby <gjacoby@apache.org>
Date:   Tue Oct 10 11:54:17 2017 -0700

    PHOENIX-4229 - Parent-Child linking rows in System.Catalog break tenant view replication

 .../replication/SystemCatalogWALEntryFilterIT.java | 81 ++++++++++++++++++----
 .../replication/SystemCatalogWALEntryFilter.java   | 40 ++++++++++-
 2 files changed, 104 insertions(+), 17 deletions(-)

commit 024f407f25208e396908b2d783166e0fbf22c1dc
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu Jul 27 19:18:25 2017 -0700

    PHOENIX-3556 Remove usage of com.google.common.collect.Iterators.emptyIterator()

 .../org/apache/phoenix/compile/AggregationManager.java | 18 +++++++++---------
 .../apache/phoenix/compile/OrderPreservingTracker.java |  2 +-
 .../java/org/apache/phoenix/compile/ScanRanges.java    |  3 +--
 .../java/org/apache/phoenix/compile/WhereCompiler.java |  3 +--
 .../org/apache/phoenix/compile/WhereOptimizer.java     |  8 ++++----
 .../java/org/apache/phoenix/execute/MutationState.java |  4 ++--
 .../visitor/TraverseNoExpressionVisitor.java           |  5 ++---
 .../iterate/DistinctAggregatingResultIterator.java     |  6 +++---
 .../java/org/apache/phoenix/iterate/ExplainTable.java  |  6 ++----
 .../java/org/apache/phoenix/schema/MetaDataClient.java |  2 +-
 .../main/java/org/apache/phoenix/util/ScanUtil.java    |  3 ++-
 11 files changed, 28 insertions(+), 32 deletions(-)

commit ebfff4e61b377310be105e3a668ab4d8ad3bb87f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 9 11:09:18 2017 -0700

    Updating pom version to 4.13.0-SNAPSHOT

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-load-balancer/pom.xml      | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 15 files changed, 15 insertions(+), 15 deletions(-)

commit 0f4528e3dd08ffab6385f0c0f48fbd3df991978a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Oct 5 10:00:48 2017 -0700

    Add script for creating an RC from the Mac

 dev/make_rc_on_mac.sh | 121 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit f0bc4cdb5bbf96b316c78cc816400b04f63e911b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 3 15:04:30 2017 -0700

    PHOENIX-4274 Test case for Hint query for index on view does not use include

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 33 +++++++++++++++++++++-
 1 file changed, 32 insertions(+), 1 deletion(-)

commit 8e91c62bdde4998896418453d260401224a21f74
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 3 15:03:03 2017 -0700

    PHOENIX-4275 Use unique table names for ViewIT

 .../src/it/java/org/apache/phoenix/end2end/ViewIT.java       | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 68b5db54d6dd79d521cf29dd84cef8e9b362cbf4
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Oct 3 14:47:05 2017 -0700

    PHOENIX-4273 Don't run MutableIndexSplitIT tests till fixed

 .../apache/phoenix/end2end/index/MutableIndexSplitForwardScanIT.java   | 3 ++-
 .../apache/phoenix/end2end/index/MutableIndexSplitReverseScanIT.java   | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 54e2bbf83ba3493dc70eb3d68965453475da2f73
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Oct 3 13:54:11 2017 -0700

    PHOENIX-4272 Dial down number of threads and repeats in ConcurrentMutationsIT

 .../src/it/java/org/apache/phoenix/end2end/ConcurrentMutationsIT.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 119f86e0c29ed6331df35028d37f6964393f122b
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Oct 3 10:37:15 2017 -0700

    PHOENIX-4265 NPE when ROW_TIMESTAMP is SQL timestamp column

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 66 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     | 14 +++--
 .../org/apache/phoenix/schema/types/PLong.java     |  6 +-
 3 files changed, 80 insertions(+), 6 deletions(-)

commit aaa41a33d025ad6daa832fe8b42fc235e7154648
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Aug 2 16:56:04 2017 -0700

    PHOENIX-3112 Partial row scan not handled correctly

 .../PartialResultServerConfigurationIT.java        | 148 ++++++++++++++++
 .../end2end/PartialScannerResultsDisabledIT.java   | 193 +++++++++++++++++++++
 .../DataTableLocalIndexRegionScanner.java          |   7 +-
 .../hbase/regionserver/ScannerContextUtil.java     |  41 +++++
 .../phoenix/coprocessor/BaseRegionScanner.java     |   4 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  11 +-
 .../phoenix/coprocessor/DelegateRegionScanner.java |   4 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  38 +---
 .../phoenix/iterate/RegionScannerFactory.java      |  51 +-----
 .../phoenix/schema/stats/StatisticsScanner.java    |   4 +-
 10 files changed, 411 insertions(+), 90 deletions(-)

commit bd21ed3d680ff742666943bb72baf7968c8b5b09
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 19:20:07 2017 -0700

    PHOENIX-4239 Fix flapping test in PartialIndexRebuilderIT

 .../end2end/index/PartialIndexRebuilderIT.java     | 109 ++++++++++++---------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  12 +--
 .../coprocessor/MetaDataRegionObserver.java        |  67 ++++++++-----
 .../java/org/apache/phoenix/util/ServerUtil.java   |  10 ++
 4 files changed, 118 insertions(+), 80 deletions(-)

commit 3f28cc0ad609a6afd6a70a32aa598a5bb5e66dd8
Author: Josh Elser <elserj@apache.org>
Date:   Fri Sep 29 19:50:27 2017 -0400

    PHOENIX-4261 Remove unused netty-all dependency

 phoenix-core/pom.xml  | 4 ----
 phoenix-flume/pom.xml | 4 ----
 phoenix-kafka/pom.xml | 4 ----
 pom.xml               | 6 ------
 4 files changed, 18 deletions(-)

commit 2a81efeb71f00c60f59ca7a5f912b57318c24f68
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 29 18:04:20 2017 -0700

    PHOENIX-4257 Breakup GroupByIT,MutableQueryIT, and QueryIT into several integration tests so as not to create too many tables in one test

 .../src/it/java/org/apache/phoenix/end2end/AggregateQueryIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CaseStatementIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/CastAndCoerceIT.java    | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/GroupByIT.java | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/InQueryIT.java | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/IntArithmeticIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/NotQueryIT.java         | 2 +-
 .../phoenix/end2end/NotQueryWithGlobalImmutableIndexesIT.java      | 7 +++----
 .../phoenix/end2end/NotQueryWithLocalImmutableIndexesIT.java       | 7 +++----
 phoenix-core/src/it/java/org/apache/phoenix/end2end/NullIT.java    | 6 +++---
 .../src/it/java/org/apache/phoenix/end2end/PointInTimeQueryIT.java | 6 +++---
 phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryIT.java   | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/RangeScanIT.java        | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/UngroupedIT.java        | 2 +-
 14 files changed, 22 insertions(+), 24 deletions(-)

commit ccf98c2201584d1551964c12ae30fb90f91deac5
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 29 16:13:40 2017 -0700

    PHOENIX-4257 Breakup GroupByIT,MutableQueryIT, and QueryIT into several integration tests so as not to create too many tables in one test

 .../org/apache/phoenix/end2end/AggregateQueryIT.java   |  2 +-
 .../java/org/apache/phoenix/end2end/BaseQueryIT.java   | 18 +++---------------
 .../org/apache/phoenix/end2end/CaseStatementIT.java    |  2 +-
 .../org/apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../it/java/org/apache/phoenix/end2end/GroupByIT.java  |  2 +-
 .../it/java/org/apache/phoenix/end2end/InQueryIT.java  |  2 +-
 .../org/apache/phoenix/end2end/IntArithmeticIT.java    |  2 +-
 .../it/java/org/apache/phoenix/end2end/NotQueryIT.java |  2 +-
 .../end2end/NotQueryWithGlobalImmutableIndexesIT.java  |  2 +-
 .../end2end/NotQueryWithLocalImmutableIndexesIT.java   |  2 +-
 .../src/it/java/org/apache/phoenix/end2end/NullIT.java |  2 +-
 .../org/apache/phoenix/end2end/PointInTimeQueryIT.java |  2 +-
 .../it/java/org/apache/phoenix/end2end/QueryIT.java    |  2 +-
 .../java/org/apache/phoenix/end2end/RangeScanIT.java   |  2 +-
 .../java/org/apache/phoenix/end2end/UngroupedIT.java   |  2 +-
 15 files changed, 17 insertions(+), 29 deletions(-)

commit d1df8893f9d57a49e1272e201c17c8bc56683be2
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Sep 29 12:34:26 2017 -0700

    PHOENIX-4259 Split up IndexExtendedIT

 .../apache/phoenix/end2end/IndexExtendedIT.java    | 401 ++-------------------
 .../org/apache/phoenix/end2end/IndexToolIT.java    | 269 ++++++++++++++
 .../phoenix/end2end/LocalIndexSplitMergeIT.java    | 266 ++++++++++++++
 3 files changed, 559 insertions(+), 377 deletions(-)

commit 62defe43212f83c2f8152af162554ea49046bd62
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 14:04:35 2017 -0700

    PHOENIX-4238 MR IndexScrutinyTool break with salted tables and indexes on views

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 93 +++++++++++++++++-----
 .../phoenix/mapreduce/util/IndexColumnNames.java   | 16 +++-
 2 files changed, 88 insertions(+), 21 deletions(-)

commit c1ef11289afa370d65088b28a80931844eab08b3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 13:45:09 2017 -0700

    PHOENIX-4258 Breakup ScanQueryIT into several integration tests so as not to create too many tables in one test

 .../org/apache/phoenix/end2end/AggregateQueryIT.java  |  7 +++++++
 .../java/org/apache/phoenix/end2end/BaseQueryIT.java  | 19 ++-----------------
 .../org/apache/phoenix/end2end/CaseStatementIT.java   |  2 +-
 .../org/apache/phoenix/end2end/CastAndCoerceIT.java   |  3 +--
 .../it/java/org/apache/phoenix/end2end/GroupByIT.java |  2 +-
 .../it/java/org/apache/phoenix/end2end/InQueryIT.java |  2 +-
 .../org/apache/phoenix/end2end/IntArithmeticIT.java   |  2 +-
 .../it/java/org/apache/phoenix/end2end/NullIT.java    |  5 ++---
 .../apache/phoenix/end2end/PointInTimeQueryIT.java    |  1 -
 .../it/java/org/apache/phoenix/end2end/QueryIT.java   |  7 +++++++
 .../java/org/apache/phoenix/end2end/RangeScanIT.java  |  2 +-
 .../java/org/apache/phoenix/end2end/UngroupedIT.java  |  2 +-
 12 files changed, 25 insertions(+), 29 deletions(-)

commit cfe4c9356d0cb9ef16fc297ea1192d35b95862fd
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Sep 29 13:16:25 2017 -0700

    PHOENIX-4260 Breakup NotQueryIT into multiple test classes

 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 81 ++++++++++++++--------
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  2 +-
 .../java/org/apache/phoenix/end2end/InQueryIT.java |  2 +-
 .../apache/phoenix/end2end/IntArithmeticIT.java    |  2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     | 12 +---
 .../NotQueryWithGlobalImmutableIndexesIT.java      | 43 ++++++++++++
 .../NotQueryWithLocalImmutableIndexesIT.java       | 43 ++++++++++++
 .../org/apache/phoenix/end2end/RangeScanIT.java    |  2 +-
 .../org/apache/phoenix/end2end/UngroupedIT.java    |  2 +-
 11 files changed, 149 insertions(+), 44 deletions(-)

commit f1b4578193b900f3440af681e222d18307de28ce
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 13:11:57 2017 -0700

    PHOENIX-4258 Breakup ScanQueryIT into several integration tests so as not to create too many tables in one test

 .../src/it/java/org/apache/phoenix/end2end/PointInTimeQueryIT.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4b478dc11898483f11c5880d85b2d03cca427d3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 12:53:16 2017 -0700

    PHOENIX-4239 Ignore flapping PartialIndexRebuilderIT tests until fix is ready

 .../java/org/apache/phoenix/end2end/index/PartialIndexRebuilderIT.java | 3 +++
 1 file changed, 3 insertions(+)

commit f00380ef79795a675cfa5b50082147a273ac26f9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 12:26:41 2017 -0700

    PHOENIX-4214 Scans which write should not block region split or close (Vincent Poon)

 .../execute/UpsertSelectOverlappingBatchesIT.java  | 245 +++++++++++++++++----
 .../UngroupedAggregateRegionObserver.java          |  16 +-
 2 files changed, 210 insertions(+), 51 deletions(-)

commit f4e51143a35bdd48f025b925c9988f98de92a4c3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 12:26:09 2017 -0700

    Revert "PHOENIX-4214 Scans which write should not block region split or close (Vincent Poon)"
    
    This reverts commit 5d9572736a991f19121477a0822d4b8bf26b4c69.

 .../execute/UpsertSelectOverlappingBatchesIT.java  | 239 ++++-----------------
 .../UngroupedAggregateRegionObserver.java          |  23 +-
 2 files changed, 53 insertions(+), 209 deletions(-)

commit e9593529fac63d24629044c6e221f7369b08cf0e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 12:14:21 2017 -0700

    PHOENIX-4258 Breakup ScanQueryIT into several integration tests so as not to create too many tables in one test

 .../java/org/apache/phoenix/end2end/InQueryIT.java | 247 ++++++++++++
 .../apache/phoenix/end2end/IntArithmeticIT.java    |  18 +-
 .../phoenix/end2end/NumericArithmeticIT.java       | 145 +++++++
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 230 +----------
 .../org/apache/phoenix/end2end/RangeScanIT.java    | 281 +++++++++++++
 .../org/apache/phoenix/end2end/ScanQueryIT.java    | 443 ---------------------
 .../java/org/apache/phoenix/end2end/StringIT.java  |  33 ++
 7 files changed, 729 insertions(+), 668 deletions(-)

commit 02f159165f3b3fa4ca0981745e190e6733f5501d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 11:27:43 2017 -0700

    PHOENIX-4257 Breakup GroupByIT,MutableQueryIT, and QueryIT into several integration tests so as not to create too many tables in one test

 .../apache/phoenix/end2end/AggregateQueryIT.java   |   2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  23 ---
 .../apache/phoenix/end2end/CaseStatementIT.java    |  33 +++-
 .../apache/phoenix/end2end/DateArithmeticIT.java   |  52 +++---
 .../org/apache/phoenix/end2end/DateTimeIT.java     |  68 ++++++++
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  67 +++++++-
 .../it/java/org/apache/phoenix/end2end/NullIT.java | 158 ++++++++++++++++++
 ...MutableQueryIT.java => PointInTimeQueryIT.java} | 185 +--------------------
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 115 -------------
 .../org/apache/phoenix/end2end/UngroupedIT.java    |  44 ++++-
 .../java/org/apache/phoenix/util/TestUtil.java     |   6 +-
 11 files changed, 407 insertions(+), 346 deletions(-)

commit e257550629031a281678e9f1bd32e0faf08e61a5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 10:34:07 2017 -0700

    PHOENIX-4257 Breakup GroupByIT into several integration tests so as not to create too many tables in one test

 .../java/org/apache/phoenix/end2end/GroupByIT.java | 151 ---------------
 .../org/apache/phoenix/end2end/UngroupedIT.java    | 204 +++++++++++++++++++++
 2 files changed, 204 insertions(+), 151 deletions(-)

commit 3d91cf7c78b3b40c9ea63cf7d9057ca84846b0de
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 29 10:20:35 2017 -0700

    PHOENIX-4256 Breakup ClientTimeArithmeticQueryIT into several integration tests so as not to create too many tables in one test

 .../end2end/ClientTimeArithmeticQueryIT.java       | 756 ---------------------
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  49 ++
 .../apache/phoenix/end2end/DateArithmeticIT.java   | 307 +++++++++
 .../apache/phoenix/end2end/IntArithmeticIT.java    | 230 +++++++
 .../phoenix/end2end/NumericArithmeticIT.java       | 281 ++++++++
 5 files changed, 867 insertions(+), 756 deletions(-)

commit 7d22ca582665facda4d075bc27b64f7c0f8b5821
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Sep 28 23:49:17 2017 -0700

    PHOENIX-4255 Addendum

 ...olumnEncodedImmutableNonTxStatsCollectorIT.java | 38 ++++++++++++++++++++++
 .../ColumnEncodedImmutableTxStatsCollectorIT.java  | 38 ++++++++++++++++++++++
 .../ColumnEncodedMutableNonTxStatsCollectorIT.java | 38 ++++++++++++++++++++++
 .../ColumnEncodedMutableTxStatsCollectorIT.java    | 38 ++++++++++++++++++++++
 ...olumnEncodedImmutableNonTxStatsCollectorIT.java | 38 ++++++++++++++++++++++
 ...onColumnEncodedImmutableTxStatsCollectorIT.java | 38 ++++++++++++++++++++++
 6 files changed, 228 insertions(+)

commit 86dae1ed7bc3101aa9fe3f780e31b02cacad02e2
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Sep 28 23:48:08 2017 -0700

    PHOENIX-4255 Breakup StatsCollectorIT into several integration tests to limit number of tables created

 .../apache/phoenix/end2end/StatsCollectorIT.java    | 20 +++-----------------
 .../SysTableNamespaceMappedStatsCollectorIT.java    | 21 ++++++++++++++++-----
 2 files changed, 19 insertions(+), 22 deletions(-)

commit a4ce14badb00eb51c34059c602e33e1a889877e5
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Sep 28 22:25:32 2017 -0700

    PHOENIX-4243 Using rowtimestamp column with RVC causes an exception sometimes

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 56 ++++++++++------------
 .../org/apache/phoenix/compile/ScanRanges.java     |  4 +-
 2 files changed, 28 insertions(+), 32 deletions(-)

commit d76a4f4e515af02e1c6f9a0dcb7b5e4318b4fbfb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 21:36:01 2017 -0700

    PHOENIX-4248 Breakup IndexExpressionIT into several integration tests so as not to create too many tables in one test (addendum)

 .../phoenix/end2end/index/IndexExpressionIT.java   | 1537 --------------------
 1 file changed, 1537 deletions(-)

commit 29acb7786a7cbc49dd277e3448ef90db9ac35110
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 21:27:45 2017 -0700

    PHOENIX-4253 Make doSetup final to prevent errand overrides

 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 15 ----
 .../end2end/ExplainPlanWithStatsDisabledIT.java    | 83 +++++++++++---------
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |  2 +-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  2 +-
 .../phoenix/end2end/SequenceBulkAllocationIT.java  | 89 ++++++++++------------
 .../org/apache/phoenix/end2end/SequenceIT.java     | 38 ++++-----
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 15 ----
 .../apache/phoenix/query/QueryServicesOptions.java |  5 ++
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +
 9 files changed, 110 insertions(+), 141 deletions(-)

commit 34c14c1bdb11d589469ae90027583d8b6f9cf8cf
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 20:55:15 2017 -0700

    PHOENIX-4248 IndexExpressionIT into several integration tests so as not to create too many tables in one test (addendum)

 .../apache/phoenix/end2end/index/IndexWithTableSchemaChangeIT.java   | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 22f336d52003d7a6368552b6f3b8454b296ad1e1
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Thu Sep 28 19:05:51 2017 -0700

    PHOENIX-4187 Use server timestamp for ROW_TIMESTAMP column when value is not specified (addendum)

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 25 +++++++++++-----------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit cabd3c0b4ab1f81ee2676ddfd6b932f39b97ca70
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 18:44:44 2017 -0700

    PHOENIX-4252 Remove BaseClientManagedTimeIT as it's no longer used

 .../phoenix/end2end/BaseClientManagedTimeIT.java   | 79 -----------------
 .../phoenix/end2end/ClientManagedTimeTest.java     | 42 ---------
 .../org/apache/phoenix/end2end/UnnestArrayIT.java  | 99 +++++++---------------
 .../phoenix/end2end/salted/SaltedTableIT.java      |  2 -
 .../java/org/apache/phoenix/query/BaseTest.java    |  1 -
 pom.xml                                            | 18 ----
 6 files changed, 30 insertions(+), 211 deletions(-)

commit dd3b7b6c04acfc53a1d5cdd5e866a59ae71557c3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 18:23:19 2017 -0700

    PHOENIX-4251 Breakup ProductMetricsIT into several integration tests so as not to create too many tables in one test

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 277 ++++++++++++++++++++-
 .../apache/phoenix/end2end/ProductMetricsIT.java   | 170 +------------
 2 files changed, 278 insertions(+), 169 deletions(-)

commit eafb58bec2e35e0a999e40b2831b504c05295328
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 17:46:27 2017 -0700

    PHOENIX-4250 Breakup AlterTableIT into several integration tests so as not to create too many tables in one test

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 1231 --------------------
 .../org/apache/phoenix/end2end/SetPropertyIT.java  | 1022 ++++++++++++++++
 .../end2end/SetPropertyOnEncodedTableIT.java       |   34 +
 .../end2end/SetPropertyOnNonEncodedTableIT.java    |   34 +
 .../index/IndexWithTableSchemaChangeIT.java        |  318 +++++
 5 files changed, 1408 insertions(+), 1231 deletions(-)

commit 3593ec8bc0042388f119652dc8177efc05f39d80
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 17:17:24 2017 -0700

    PHOENIX-4249 Decrease unique name allocation for SequenceIT

 .../org/apache/phoenix/end2end/SequenceIT.java     | 191 +++++++++++----------
 .../java/org/apache/phoenix/query/BaseTest.java    |  14 ++
 2 files changed, 112 insertions(+), 93 deletions(-)

commit 3d9adc6f3f298ab5077b8fddf9d17aa4e4a11e56
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 17:02:06 2017 -0700

    PHOENIX-4248 Breakup IndexExpressionIT into several integration tests so as not to create too many tables in one test

 .../index/{IndexIT.java => BaseIndexIT.java}       |   4 +-
 .../end2end/index/GlobalImmutableNonTxIndexIT.java |   2 +-
 .../end2end/index/GlobalImmutableTxIndexIT.java    |   2 +-
 .../end2end/index/GlobalMutableNonTxIndexIT.java   |   2 +-
 .../end2end/index/GlobalMutableTxIndexIT.java      |   2 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |  15 -
 .../phoenix/end2end/index/IndexMaintenanceIT.java  | 457 ++++++++++++
 .../phoenix/end2end/index/IndexMetadataIT.java     |  67 ++
 .../apache/phoenix/end2end/index/IndexUsageIT.java | 775 +++++++++++++++++++++
 .../index/IndexWithTableSchemaChangeIT.java        | 375 ++++++++++
 .../end2end/index/LocalImmutableNonTxIndexIT.java  |   2 +-
 .../end2end/index/LocalImmutableTxIndexIT.java     |   2 +-
 .../end2end/index/LocalMutableNonTxIndexIT.java    |   2 +-
 .../end2end/index/LocalMutableTxIndexIT.java       |   2 +-
 14 files changed, 1684 insertions(+), 25 deletions(-)

commit 834133a194a75c9231f9773b0bd89fd752dcf5dc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 15:06:35 2017 -0700

    PHOENIX-4246 Breakup join related tests into several integration tests so as not to create too many tables in one test

 .../end2end/join/HashJoinGlobalIndexIT.java        |   2 +-
 .../phoenix/end2end/join/HashJoinLocalIndexIT.java |   2 +-
 .../phoenix/end2end/join/HashJoinNoIndexIT.java    |   2 +-
 .../end2end/join/SortMergeJoinGlobalIndexIT.java   |  84 +++++++++++++
 .../phoenix/end2end/join/SortMergeJoinIT.java      | 134 +--------------------
 .../end2end/join/SortMergeJoinLocalIndexIT.java    |  84 +++++++++++++
 .../end2end/join/SortMergeJoinNoIndexIT.java       |  66 ++++++++++
 7 files changed, 238 insertions(+), 136 deletions(-)

commit ee20a8c9ba8c7b491937eaf93a889010daebba98
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 14:53:14 2017 -0700

    PHOENIX-4246 Breakup join related tests into several integration tests so as not to create too many tables in one test

 .../apache/phoenix/end2end/HashJoinCacheIT.java    |  482 ---------
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  128 ---
 .../phoenix/end2end/{ => join}/BaseJoinIT.java     |   11 +-
 .../phoenix/end2end/join/HashJoinCacheIT.java      |  101 ++
 .../end2end/join/HashJoinGlobalIndexIT.java        |  399 +++++++
 .../phoenix/end2end/{ => join}/HashJoinIT.java     | 1138 +-------------------
 .../phoenix/end2end/join/HashJoinLocalIndexIT.java |  528 +++++++++
 .../phoenix/end2end/{ => join}/HashJoinMoreIT.java |    3 +-
 .../phoenix/end2end/join/HashJoinNoIndexIT.java    |  391 +++++++
 .../end2end/{ => join}/SortMergeJoinIT.java        |    2 +-
 .../phoenix/end2end/{ => join}/SubqueryIT.java     |    2 +-
 .../{ => join}/SubqueryUsingSortMergeJoinIT.java   |    2 +-
 12 files changed, 1434 insertions(+), 1753 deletions(-)

commit fd7776407737cf6cc5cb95eb8c5b9380af4b560c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 13:24:20 2017 -0700

    PHOENIX-4245 Breakup IndexIT into several integration tests so as not to create too many tables in one test

 .../end2end/index/GlobalImmutableNonTxIndexIT.java | 38 ++++++++++++++++++++++
 .../end2end/index/GlobalImmutableTxIndexIT.java    | 38 ++++++++++++++++++++++
 .../end2end/index/GlobalMutableNonTxIndexIT.java   | 38 ++++++++++++++++++++++
 .../end2end/index/GlobalMutableTxIndexIT.java      | 38 ++++++++++++++++++++++
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 17 ++--------
 .../end2end/index/LocalImmutableNonTxIndexIT.java  | 38 ++++++++++++++++++++++
 .../end2end/index/LocalImmutableTxIndexIT.java     | 38 ++++++++++++++++++++++
 .../end2end/index/LocalMutableNonTxIndexIT.java    | 38 ++++++++++++++++++++++
 .../end2end/index/LocalMutableTxIndexIT.java       | 37 +++++++++++++++++++++
 9 files changed, 305 insertions(+), 15 deletions(-)

commit 527f786ac4b4883677fa77d0e31c71ea7d518872
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 13:18:15 2017 -0700

    PHOENIX-4244 Breakup ArrayIT into several integration tests so as not to create too many tables in one test

 .../java/org/apache/phoenix/end2end/Array1IT.java  | 1004 ++++++++
 .../java/org/apache/phoenix/end2end/Array2IT.java  |  815 +++++++
 .../java/org/apache/phoenix/end2end/Array3IT.java  |  770 ++++++
 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 2543 +-------------------
 4 files changed, 2617 insertions(+), 2515 deletions(-)

commit 06f58d56c9e2b3badb5e3f6bd5092f03f58f00a8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 28 11:24:22 2017 -0700

    PHOENIX-4096 Disallow DML operations on connections with CURRENT_SCN set

 .../phoenix/end2end/ExecuteStatementsIT.java       |   4 +-
 .../end2end/IndexToolForPartialBuildIT.java        |   5 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |   3 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |   2 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  23 +-
 .../end2end/index/PartialIndexRebuilderIT.java     |   3 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java      | 354 -------------
 .../hbase/index/covered/FailWithoutRetriesIT.java  | 140 -----
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  23 +
 .../phoenix/compile/CreateTableCompiler.java       |  22 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   8 +-
 .../coprocessor/MetaDataRegionObserver.java        |   3 -
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../org/apache/phoenix/execute/MutationState.java  |   8 -
 .../org/apache/phoenix/hbase/index/Indexer.java    |  11 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 567 +++++++++++++--------
 .../phoenix/mapreduce/PhoenixInputFormat.java      |   5 +-
 .../index/PhoenixIndexImportDirectMapper.java      |   2 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |   2 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 .../query/ConnectionlessQueryServicesImpl.java     |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  33 +-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   4 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  23 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  30 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   8 +-
 27 files changed, 442 insertions(+), 848 deletions(-)

commit 45079c4ea41b78ef71efe7d27c5de8026415c5c3
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Tue Sep 26 15:35:44 2017 -0700

    PHOENIX-4187 Use server timestamp for ROW_TIMESTAMP column when value is not specified

 .../org/apache/phoenix/end2end/AlterTableIT.java   |   2 +-
 .../end2end/IndexToolForPartialBuildIT.java        |  14 +-
 .../org/apache/phoenix/end2end/RowTimestampIT.java | 369 ++++++++++++++++
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 361 ++++++---------
 .../org/apache/phoenix/end2end/UpsertValuesIT.java | 492 ++++-----------------
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/execute/MutationState.java  |  42 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  10 +-
 9 files changed, 626 insertions(+), 667 deletions(-)

commit 033a2fc2a91052a6db94da55d87c173d4dbdabab
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Sep 25 19:57:49 2017 -0700

    PHOENIX-4224 Automatic resending cache for HashJoin doesn't work when cache has expired on server side

 .../apache/phoenix/end2end/HashJoinCacheIT.java    | 32 ++++++++++++++-
 .../apache/phoenix/cache/ServerCacheClient.java    | 46 +++++++++++++++++-----
 2 files changed, 68 insertions(+), 10 deletions(-)

commit 764eb8f13237a89961e259aca366e45b38b76ef1
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Sep 26 14:41:53 2017 -0700

    PHOENIX-4225 Using Google cache may lead to lock up on RS side.

 .../org/apache/phoenix/cache/TenantCacheImpl.java  |  2 ++
 .../org/apache/phoenix/cache/TenantCacheTest.java  | 37 +++++++++++++++++++++-
 2 files changed, 38 insertions(+), 1 deletion(-)

commit 84dc1d44ad8cdee9e89bf0a63c411669dc3ec2fd
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 26 22:33:19 2017 -0700

    PHOENIX-4007 Addendum to add null check when closing statsWriter

 .../org/apache/phoenix/schema/stats/DefaultStatisticsCollector.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6d8357e9029e639de952d76493203e161e237adb
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 26 19:21:00 2017 -0700

    PHOENIX-4007 Surface time at which byte/row estimate information was computed in explain plan output

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |   3 +-
 .../end2end/BaseUniqueNamesOwnClusterIT.java       |   1 -
 .../end2end/ExplainPlanWithStatsDisabledIT.java    |  64 +++-
 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 413 +++++++++++++++++----
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |   1 +
 .../apache/phoenix/end2end/QueryWithOffsetIT.java  |  10 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  45 ++-
 .../apache/phoenix/compile/BaseMutationPlan.java   |   5 +
 .../phoenix/compile/DelegateMutationPlan.java      |   5 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  48 ++-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   5 +
 .../org/apache/phoenix/compile/StatementPlan.java  |   6 +
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  15 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   1 -
 .../UngroupedAggregateRegionObserver.java          |  14 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |   1 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  12 +
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   5 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  30 +-
 .../execute/LiteralResultIterationPlan.java        |   5 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  12 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  34 +-
 .../java/org/apache/phoenix/execute/UnionPlan.java |  27 +-
 .../phoenix/iterate/BaseResultIterators.java       |  75 +++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  53 ++-
 .../schema/stats/DefaultStatisticsCollector.java   |  48 ++-
 .../phoenix/schema/stats/GuidePostsInfo.java       |  59 ++-
 .../schema/stats/GuidePostsInfoBuilder.java        |  48 ++-
 .../phoenix/schema/stats/StatisticsScanner.java    |   2 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  62 +---
 .../phoenix/schema/stats/StatisticsWriter.java     |  60 ++-
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   7 +-
 .../java/org/apache/phoenix/util/NumberUtil.java   |  18 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   7 +
 .../phoenix/filter/SkipScanBigFilterTest.java      |   3 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   5 +
 .../schema/stats/StatisticsScannerTest.java        |   4 +-
 38 files changed, 958 insertions(+), 260 deletions(-)

commit 176f541ceb36c74ecdb88d113132a4ff2e44a86b
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 26 15:35:36 2017 -0700

    PHOENIX-4239 Fix flapping test in PartialIndexRebuilderIT

 .../end2end/index/PartialIndexRebuilderIT.java     |  8 ++--
 .../java/org/apache/phoenix/util/TestUtil.java     | 51 +++++++++++++++++-----
 2 files changed, 46 insertions(+), 13 deletions(-)

commit 4969794bf0c91305d01c8f016abe95039642d46e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 26 16:42:31 2017 -0700

    PHOENIX-4138 Create a hard limit on number of indexes per table (Churro Morales)

 .../coprocessor/MetaDataEndpointImplTest.java      | 44 ++++++++++++++++++++++
 .../org/apache/phoenix/end2end/CreateTableIT.java  | 31 +++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 15 ++++++++
 .../org/apache/phoenix/query/QueryServices.java    |  4 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 5 files changed, 94 insertions(+), 1 deletion(-)

commit 5d9572736a991f19121477a0822d4b8bf26b4c69
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 26 09:31:44 2017 -0700

    PHOENIX-4214 Scans which write should not block region split or close (Vincent Poon)

 .../execute/UpsertSelectOverlappingBatchesIT.java  | 239 +++++++++++++++++----
 .../UngroupedAggregateRegionObserver.java          |  23 +-
 2 files changed, 209 insertions(+), 53 deletions(-)

commit 36879392c5eff5d427e9c110b54d8484bcb6606e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 25 22:37:01 2017 -0700

    PHOENIX-3815 Only disable indexes on which write failures occurred (Vincent Poon)

 .../end2end/index/MutableIndexFailureIT.java       | 36 +++++----
 .../phoenix/hbase/index/write/IndexWriter.java     |  8 +-
 .../hbase/index/write/RecoveryIndexWriter.java     |  1 -
 .../TrackingParallelWriterIndexCommitter.java      | 23 ++++--
 .../write/recovery/StoreFailuresInCachePolicy.java |  1 +
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  9 +++
 .../phoenix/index/PhoenixTransactionalIndexer.java |  7 +-
 .../phoenix/hbase/index/write/TestIndexWriter.java | 89 +---------------------
 .../hbase/index/write/TestParalleIndexWriter.java  |  4 +-
 .../write/TestParalleWriterIndexCommitter.java     |  4 +-
 10 files changed, 65 insertions(+), 117 deletions(-)

commit 94601de5f5f966fb8bcd1a069409bee460bf2400
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 25 22:33:28 2017 -0700

    PHOENIX-4233 IndexScrutiny test tool does not work for salted and shared index tables

 .../org/apache/phoenix/util/IndexScrutinyIT.java   |  4 +-
 .../org/apache/phoenix/util/IndexScrutiny.java     | 47 ++++++++++++++++------
 2 files changed, 36 insertions(+), 15 deletions(-)

commit d13a2e5b27db8d22344442a9fc9890a37052f0f9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 25 18:52:48 2017 -0700

    PHOENIX-4230 Write index updates in postBatchMutateIndispensably for transactional tables

 .../phoenix/index/PhoenixTransactionalIndexer.java | 79 +++++++++++++++++++---
 1 file changed, 70 insertions(+), 9 deletions(-)

commit 944bed73585a5ff826997895c2da43720b229d8a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 21 18:24:39 2017 -0700

    PHOENIX-4178 Detect failed index write while rebuilder is running with index staying active

 .../end2end/index/MutableIndexFailureIT.java       |  12 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 459 ++++++++++++---------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 179 ++++----
 .../phoenix/coprocessor/MetaDataProtocol.java      |   6 +-
 .../coprocessor/MetaDataRegionObserver.java        |  74 ++--
 .../org/apache/phoenix/execute/MutationState.java  |  10 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  25 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  12 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |   6 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  16 +-
 .../org/apache/phoenix/schema/PIndexState.java     |   3 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  14 +-
 .../phoenix/query/QueryServicesTestImpl.java       |  10 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  42 +-
 15 files changed, 496 insertions(+), 373 deletions(-)

commit 0a1b33aa2eeda721aadb2369f0aa2d612fb4a24c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 21 20:13:52 2017 -0700

    PHOENIX-4166 Use Tephra HBase 1.3 compat module

 phoenix-core/pom.xml | 2 +-
 pom.xml              | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 815ce00a382e43dd3f9a72b36107a3582f3f730f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 21 11:20:58 2017 -0700

    PHOENIX-4212 Addendum to remove unused member variables for DerivedTableIT

 .../src/it/java/org/apache/phoenix/end2end/DerivedTableIT.java         | 3 ---
 1 file changed, 3 deletions(-)

commit bcdf292dab26b12f210f8758b414b36bc7f4a7c4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 21 10:44:02 2017 -0700

    PHOENIX-4221 Disallow DML operations on connections with CURRENT_SCN set - VariableLengthPKIT (Ethan Wang)

 .../apache/phoenix/end2end/VariableLengthPKIT.java | 1171 ++++++++++----------
 1 file changed, 570 insertions(+), 601 deletions(-)

commit 3ed60237e9685a6cab8a4bf9b8f71ba015fb710c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 21 09:48:13 2017 -0700

    PHOENIX-4220 Upper bound not being used in partial index rebuilder

 .../end2end/index/PartialIndexRebuilderIT.java     | 64 +++++++++++++++++++++-
 .../coprocessor/MetaDataRegionObserver.java        | 12 ++--
 2 files changed, 66 insertions(+), 10 deletions(-)

commit bcb755d1de3e6968a12671c46efa34fe2f96a518
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 18 17:16:55 2017 -0700

    PHOENIX-4212 Disallow DML operations on connections with CURRENT_SCN set - DerivedTableIT (Ethan Wang)

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 957 ++-------------------
 1 file changed, 91 insertions(+), 866 deletions(-)

commit e47e78477802940148b6457021a6362cefb002e6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 18 16:30:19 2017 -0700

    PHOENIX-4189 Introduce a class that wraps the Map of primary key data (addendum)

 phoenix-hive/src/main/java/org/apache/phoenix/hive/PrimaryKeyData.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3fb104ee56518ca066672e199bff1ed4f4bd9a7e
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Sep 18 11:22:44 2017 -0700

    PHOENIX-4218 Remove usage of current scn from UserDefinedFunctionsIT.testUDFsWithLatestTimestamp

 .../org/apache/phoenix/end2end/UserDefinedFunctionsIT.java    | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit e455df310de0633daf8ddf5aeae985981db3c06f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 18 11:25:09 2017 -0700

    PHOENIX-4199 Modify SequenceIT.java to not use CurrentSCN

 .../org/apache/phoenix/end2end/SequenceIT.java     | 47 ++++++++--------------
 1 file changed, 17 insertions(+), 30 deletions(-)

commit 711b5bfad0ea6bb9402ef6834b76fb292991969f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 18 10:31:01 2017 -0700

    PHOENIX-4209 Disallow DML operations on connections with CURRENT_SCN set - DistinctCountIT

 .../java/org/apache/phoenix/end2end/DistinctCountIT.java | 16 ++--------------
 1 file changed, 2 insertions(+), 14 deletions(-)

commit df5b0d213887ef79b83d1e4dbf15dce8d128272f
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 15 17:05:08 2017 -0700

    PHOENIX-4212 Disallow DML operations on connections with CURRENT_SCN set - DerivedTableIT (Ethan Wang)

 .../src/it/java/org/apache/phoenix/end2end/DerivedTableIT.java        | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 415c6e3523bc42f82178c163b891fc5eb22f6a96
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 15 16:30:03 2017 -0700

    PHOENIX-4212 Disallow DML operations on connections with CURRENT_SCN set - DerivedTableIT (Ethan Wang)

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 1166 ++++++++++++++++----
 1 file changed, 975 insertions(+), 191 deletions(-)

commit c06ef877efa2c55de3430c8289ebad63e8bebc93
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Sep 15 10:59:49 2017 -0700

    PHOENIX-4199 Modify SequenceIT.java to not use CurrentSCN

 .../org/apache/phoenix/end2end/SequenceIT.java     | 896 +++++++++++----------
 1 file changed, 461 insertions(+), 435 deletions(-)

commit a4f6c2c1a2cbad426f22e6112be08d14397288c5
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Sep 15 10:55:11 2017 -0700

    PHOENIX-4204 Modify SequenceBulkAllocationIT.java to not use currentSCN

 .../phoenix/end2end/SequenceBulkAllocationIT.java  | 538 ++++++++++-----------
 1 file changed, 258 insertions(+), 280 deletions(-)

commit b2153ef52a8de60501fad964062b7f7f9b86654a
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Sep 15 10:38:53 2017 -0700

    PHOENIX-4213 Modify ExtendedQueryExecIT and FunkyNamesIT to not use currentSCN

 .../phoenix/end2end/ExtendedQueryExecIT.java       | 30 +++++---------
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   | 47 +++++++++-------------
 2 files changed, 30 insertions(+), 47 deletions(-)

commit 6c3bcb6a94b48496d02830747ddd6fcb0fa833af
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 15 10:21:42 2017 -0700

    PHOENIX-4209 Disallow DML operations on connections with CURRENT_SCN set (Ethan Wang)

 .../apache/phoenix/end2end/DistinctCountIT.java    | 102 ++++++++-------------
 1 file changed, 40 insertions(+), 62 deletions(-)

commit 26f45f0fafe7bdefec23a5b1ade7c30722c0b93d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 14 09:55:17 2017 -0700

    PHOENIX-4211 Change tephra dependency in phoenix-kafka to test dependency like other poms

 phoenix-kafka/pom.xml | 26 ++++++--------------------
 1 file changed, 6 insertions(+), 20 deletions(-)

commit 052490e09f2271eaa84dc9ab123a62a87123a498
Author: Josh Elser <elserj@apache.org>
Date:   Sat Sep 9 00:00:57 2017 -0400

    PHOENIX-4189 Introduce a class that wraps the Map of primary key data

 .../org/apache/phoenix/hive/PhoenixRowKey.java     | 17 ++---
 .../org/apache/phoenix/hive/PrimaryKeyData.java    | 88 ++++++++++++++++++++++
 .../hive/util/PhoenixStorageHandlerUtil.java       |  9 +--
 .../apache/phoenix/hive/PrimaryKeyDataTest.java    | 79 +++++++++++++++++++
 4 files changed, 175 insertions(+), 18 deletions(-)

commit 0311e4f56fa10a6ea3eb3e0dce8a9d6fa70a48f8
Author: Josh Elser <elserj@apache.org>
Date:   Wed Sep 13 17:49:06 2017 -0400

    PHOENIX-4207 Improve zombie-test detection in test-patch.sh

 dev/test-patch.sh | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8ee8f092a67ef278bef1656afadb488c6f6f47f9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Sep 13 18:12:54 2017 -0700

    PHOENIX-4208 Modify tests to not use CurrentSCN

 .../apache/phoenix/compile/QueryCompilerTest.java  | 52 ++++++----------------
 1 file changed, 13 insertions(+), 39 deletions(-)

commit 4c2674b1ddc679d897933fd266273bf8c50db21c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Sep 13 17:48:21 2017 -0700

    PHOENIX-4208 Modify tests to not use CurrentSCN

 .../org/apache/phoenix/end2end/DropSchemaIT.java   | 80 +++++++---------------
 .../java/org/apache/phoenix/end2end/GroupByIT.java | 26 -------
 .../org/apache/phoenix/end2end/MutableQueryIT.java |  4 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      | 46 +++++++------
 .../end2end/RebuildIndexConnectionPropsIT.java     |  2 -
 .../org/apache/phoenix/end2end/ScanQueryIT.java    | 21 ++++++
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  5 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 30 +++-----
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   | 49 -------------
 9 files changed, 88 insertions(+), 175 deletions(-)

commit 26a7b9e8b051c270ae8003332ed2ebb4bb91d972
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Sep 13 15:45:00 2017 -0700

    PHOENIX-4180 Modify tests to generate unique table names and not use CURRENT_SCN (Rahul Shrivastava)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 516 +++++------------
 .../end2end/ClientTimeArithmeticQueryIT.java       |  26 -
 .../end2end/ColumnProjectionOptimizationIT.java    |  31 +-
 .../phoenix/end2end/ConcurrentMutationsIT.java     | 406 +++++++++++---
 .../end2end/CursorWithRowValueConstructorIT.java   | 617 ++++++++++-----------
 .../phoenix/end2end/OutOfOrderMutationsIT.java     | 386 -------------
 .../java/org/apache/phoenix/query/BaseTest.java    |   4 +
 7 files changed, 799 insertions(+), 1187 deletions(-)

commit 41e137199a9e42c080475c96653be6e9fc451b99
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Sep 13 15:44:50 2017 -0700

    PHOENIX-4202 Clear client side cache in ConnectionQueryServicesImpl#clearCache()

 .../phoenix/query/ConnectionQueryServicesImpl.java | 64 +++++++++-------------
 1 file changed, 25 insertions(+), 39 deletions(-)

commit 1407a5ec84ff8ceb50e25efe6085d62df4544228
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Sep 13 10:55:19 2017 -0700

    PHOENIX-4194 Modify RoundFloorCeilFuncIT, RowValueConstructorIT, SaltedTableIT, TenantIdTypeIT, StoreNullsIT and RebuildIndexConnectionPropsIT to not use CurrentSCN

 .../phoenix/end2end/RoundFloorCeilFuncIT.java      |  21 +-
 .../phoenix/end2end/RowValueConstructorIT.java     | 365 +++++++++------------
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  27 +-
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java |   6 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      | 101 +++---
 .../java/org/apache/phoenix/query/BaseTest.java    |  48 ++-
 6 files changed, 242 insertions(+), 326 deletions(-)

commit 586cdab9f82661a40fa12be881b6adfed034b09c
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 12 17:04:18 2017 -0700

    PHOENIX-4185 Rewrite tests to disable DDL and DML for PercentileIT.java and ProductMetricsIT.java (Ethan Wang)

 .gitignore                                         |   2 +
 .../org/apache/phoenix/end2end/PercentileIT.java   | 145 ++--
 .../apache/phoenix/end2end/ProductMetricsIT.java   | 947 ++++++++++-----------
 3 files changed, 512 insertions(+), 582 deletions(-)

commit 2e5986a76aa171a62b342a46cc984a00a3a36746
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 12 17:00:47 2017 -0700

    PHOENIX-4169 Explicitly cap timeout for index disable RPC on compaction (Vincent Poon)

 .../UngroupedAggregateRegionObserver.java          | 29 ++++++++++++++++++----
 .../org/apache/phoenix/hbase/index/Indexer.java    | 14 ++++++++++-
 .../org/apache/phoenix/query/QueryServices.java    |  4 +++
 .../apache/phoenix/query/QueryServicesOptions.java |  5 ++++
 4 files changed, 46 insertions(+), 6 deletions(-)

commit 33b12c789e5c24cbf4d711006e4b8c41e9393a78
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 12 16:50:27 2017 -0700

    PHOENIX-4205 Modify OutOfOrderMutationsIT to not use CURRENT_SCN

 .../phoenix/end2end/OutOfOrderMutationsIT.java     | 955 ++++++++-------------
 1 file changed, 346 insertions(+), 609 deletions(-)

commit d9ac3f109b86d70a3ec8f5e82175f03343be10d0
Author: Josh Elser <elserj@apache.org>
Date:   Tue Sep 12 18:26:36 2017 -0400

    PHOENIX-4191 Categorize uncategorized integration tests
    
    Uncategorized tests results in Maven not running them.

 .../src/it/java/org/apache/phoenix/end2end/IndexScrutinyToolIT.java   | 2 ++
 .../it/java/org/apache/phoenix/end2end/SystemTablePermissionsIT.java  | 2 ++
 .../hbase/regionserver/wal/ReadWriteKeyValuesWithCodecTest.java}      | 4 +++-
 .../src/it/java/org/apache/phoenix/hive/BaseHivePhoenixStoreIT.java   | 3 +++
 .../src/it/java/org/apache/phoenix/hive/HivePhoenixStoreIT.java       | 3 +++
 5 files changed, 13 insertions(+), 1 deletion(-)

commit b53de204104bbd0262ed8fd7e0341f147698f1f1
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 12 15:00:45 2017 -0700

    PHOENIX-4201 Addendum to clear cache in deleteMetadata

 .../src/it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java  | 1 +
 1 file changed, 1 insertion(+)

commit 790e8d4d2b84a0e234609b2d8420e3ff398f0dee
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 12 13:43:48 2017 -0700

    PHOENIX-4201 Remove usage of SCN from QueryDatabaseMetadataIT

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 1715 +++++++++-----------
 1 file changed, 751 insertions(+), 964 deletions(-)

commit 4ee35057c6a63c347f959361338b517d4f5b38c4
Author: Josh Elser <elserj@apache.org>
Date:   Fri Sep 8 22:50:25 2017 -0400

    PHOENIX-4188 Disable inline-DTDs in Pherf XML records

 .../config/scenario/user_defined_scenario.xml      |   4 +-
 phoenix-pherf/pom.xml                              |   4 +
 .../pherf/configuration/XMLConfigParser.java       |  15 +-
 .../pherf/result/impl/XMLResultHandler.java        |  17 +-
 .../phoenix/pherf/ConfigurationParserTest.java     |   5 +-
 .../apache/phoenix/pherf/XMLConfigParserTest.java  |  53 ++
 .../pherf/result/impl/XMLResultHandlerTest.java    |  53 ++
 .../test/resources/malicious_results_with_dtd.xml  | 676 +++++++++++++++++++++
 .../scenario/malicious_scenario_with_dtd.xml       |  48 ++
 9 files changed, 863 insertions(+), 12 deletions(-)

commit 1d4025a57daedeebb64ef735b1055ebc9c6b2131
Author: Samarth Jain <samarth@apache.org>
Date:   Mon Sep 11 16:53:16 2017 -0700

    PHOENIX-4196 Remove SCN usage from ToNumberFunctionIT, TruncateFunctionIT and UpdateCacheAcrossDifferentClientsIT

 .../apache/phoenix/end2end/ToNumberFunctionIT.java | 273 ++++++++++-----------
 .../apache/phoenix/end2end/TruncateFunctionIT.java |  26 +-
 .../UpdateCacheAcrossDifferentClientsIT.java       |  69 ------
 3 files changed, 144 insertions(+), 224 deletions(-)

commit 9e5cd3ffe20779be9b1f3a8a5d28a0b05d664236
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 11 12:21:50 2017 -0700

    PHOENIX-4190 Salted local index failure is causing region server to abort

 .../src/main/java/org/apache/phoenix/index/IndexMaintainer.java    | 2 +-
 .../java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java   | 7 ++++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 3392fa6fc2b8b0eb5ce683fb8bad4a421110b817
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 11 13:06:17 2017 -0700

    PHOENIX-4182 DatabaseMetaData.getTables throws exception when getting SEQUENCE information

 .../apache/phoenix/end2end/QueryDatabaseMetaDataIT.java    | 13 +++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java   | 14 ++++++++------
 2 files changed, 21 insertions(+), 6 deletions(-)

commit 63b71caadaeb7bebf66c20fb3a1ddc7c3adbff13
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Sep 11 11:53:36 2017 -0700

    PHOENIX-4192 Remove unnecessary cast in TestPropertyPolicy

 .../src/test/java/org/apache/phoenix/query/TestPropertyPolicy.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 7e45e9ea1eee5c71cb14ed1eb7d54c05dc91b46a
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Fri Sep 8 15:40:45 2017 -0700

    PHOENIX-4186 Modify NativeHBaseTypesIT to not use CurrentSCN

 .../apache/phoenix/end2end/NativeHBaseTypesIT.java | 151 ++++++++++-----------
 .../java/org/apache/phoenix/query/BaseTest.java    |  11 --
 2 files changed, 74 insertions(+), 88 deletions(-)

commit 7865a59b0bbc4ea5e8ab775b920f5f608115707b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Sat Sep 9 13:31:55 2017 +0530

    PHOENIX-4010 Hash Join cache may not be send to all regionservers when we have stale HBase meta cache

 .../org/apache/phoenix/end2end/BaseJoinIT.java     |  14 +
 .../apache/phoenix/end2end/HashJoinCacheIT.java    | 452 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 122 +++---
 .../end2end/index/PartialIndexRebuilderIT.java     |  23 +-
 .../iterate/DelayedTableResultIteratorFactory.java |  12 +-
 .../apache/phoenix/cache/ServerCacheClient.java    | 338 +++++++++------
 .../coprocessor/BaseScannerRegionObserver.java     |   1 +
 .../HashJoinCacheNotFoundException.java            |  45 ++
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  11 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  10 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  27 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  16 +-
 .../execute/LiteralResultIterationPlan.java        |   9 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  11 +-
 .../phoenix/iterate/BaseResultIterators.java       |  51 ++-
 .../iterate/DefaultTableResultIteratorFactory.java |   7 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  14 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  15 +-
 .../phoenix/iterate/TableResultIterator.java       |  56 ++-
 .../iterate/TableResultIteratorFactory.java        |   6 +-
 .../org/apache/phoenix/join/HashCacheClient.java   |  20 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../java/org/apache/phoenix/util/ByteUtil.java     |  15 +
 .../java/org/apache/phoenix/util/ServerUtil.java   |   7 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   1 +
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   2 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  28 ++
 28 files changed, 1033 insertions(+), 285 deletions(-)

commit 44c00345b946cbdd9fc8205f8121cd60a065c0fe
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Sep 8 21:54:11 2017 -0700

    PHOENIX-4165 Do not wait no new memory chunk can be allocated.

 .../java/org/apache/phoenix/cache/GlobalCache.java |   4 +-
 .../apache/phoenix/memory/GlobalMemoryManager.java |  52 ++----
 .../phoenix/query/BaseQueryServicesImpl.java       |   3 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 -
 .../apache/phoenix/query/QueryServicesOptions.java |  11 --
 .../org/apache/phoenix/cache/TenantCacheTest.java  |   6 +-
 .../iterate/SpoolingResultIteratorTest.java        |   2 +-
 .../apache/phoenix/memory/MemoryManagerTest.java   | 208 ++++++---------------
 .../phoenix/query/QueryServicesTestImpl.java       |   1 -
 9 files changed, 73 insertions(+), 215 deletions(-)

commit 2ad5d4b48c16743b3f3968a858f9da19c14070fa
Author: aertoria <castives@gmail.com>
Date:   Fri Sep 8 13:25:28 2017 -0700

    PHOENIX-4150 nit: adding license and reformating comments
    
    Signed-off-by: Thomas D'Silva <tdsilva@apache.org>

 .../phoenix/query/PropertyNotAllowedException.java | 16 ++++++++++++
 .../org/apache/phoenix/query/PropertyPolicy.java   |  6 +++--
 .../apache/phoenix/query/TestPropertyPolicy.java   | 29 ++++++++++++++++------
 .../org.apache.phoenix.query.PropertyPolicy        | 15 +++++++++++
 4 files changed, 56 insertions(+), 10 deletions(-)

commit 481440d08a409de4067619d3a7cd333eeef6e717
Author: aertoria <castives@gmail.com>
Date:   Mon Sep 4 12:31:13 2017 -0700

    PHOENIX-4150 Adding property policy for user defined properties
    
    Signed-off-by: Thomas D'Silva <tdsilva@apache.org>

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  5 ++
 .../phoenix/query/PropertyNotAllowedException.java | 19 +++++++
 .../org/apache/phoenix/query/PropertyPolicy.java   | 61 ++++++++++++++++++++++
 .../phoenix/query/PropertyPolicyProvider.java      | 39 ++++++++++++++
 .../phoenix/query/PropertyPolicyProviderTest.java  | 52 ++++++++++++++++++
 .../apache/phoenix/query/TestPropertyPolicy.java   | 34 ++++++++++++
 .../org.apache.phoenix.query.PropertyPolicy        |  1 +
 7 files changed, 211 insertions(+)

commit 0e79023088bc19b6cbdb022149c3f80285a5d25c
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Sep 8 11:36:41 2017 -0700

    PHOENIX-4184 Reduce flappiness of FlappingAlterTableIT

 .../src/it/java/org/apache/phoenix/end2end/FlappingAlterTableIT.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6775dc5c489bd002186e8b5375dd89b666836067
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 7 17:02:44 2017 -0700

    PHOENIX-4179 Use max timestamp of projected cells for cell timestamp returned to client

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 58 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/TupleProjector.java | 12 ++++-
 2 files changed, 68 insertions(+), 2 deletions(-)

commit 5a21734f10a90fa8de0dce390aedc8edeb52b26c
Author: Alex Araujo <alexaraujo@gmail.com>
Date:   Wed Sep 6 13:33:27 2017 -0400

    PHOENIX-4168 Pluggable Remote User Extraction
    
    Adds factory for creating RemoteUserExtractor instances. The factory
    can be overridden using ServiceLoader. The default factory creates
    PhoenixRemoteUserExtractor instances.
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../phoenix/queryserver/server/QueryServer.java    | 13 +++++++-
 .../server/RemoteUserExtractorFactory.java         | 36 ++++++++++++++++++++++
 .../server/RemoteUserExtractorFactoryTest.java     | 35 +++++++++++++++++++++
 3 files changed, 83 insertions(+), 1 deletion(-)

commit 64b808971698880980d06f17b0924e6e22d95e12
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 7 11:26:47 2017 -0700

    PHOENIX-3953 Clear INDEX_DISABLED_TIMESTAMP and disable index on compaction (addendum 2)

 .../UngroupedAggregateRegionObserver.java          | 62 +++++++++++++++-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 42 ++++++-----
 .../schema/stats/DefaultStatisticsCollector.java   | 83 +++++++---------------
 .../schema/stats/NoOpStatisticsCollector.java      |  2 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |  2 +-
 5 files changed, 111 insertions(+), 80 deletions(-)

commit 814276d4b4b08be0681f1c402cfb3cc35f01fa0a
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Sep 7 10:17:55 2017 -0700

    PHOENIX-4177 Convert TopNIT to extend ParallelStatsDisabledIT

 .../it/java/org/apache/phoenix/end2end/TopNIT.java | 64 +++++++---------------
 1 file changed, 21 insertions(+), 43 deletions(-)

commit b46cbd375e3d2ee9a11644825c13937572c027cd
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 6 18:05:42 2017 -0700

    PHOENIX-4175 Convert tests using CURRENT_SCN to not use it when possible

 .../org/apache/phoenix/end2end/CreateSchemaIT.java | 26 +++-----
 .../apache/phoenix/end2end/CustomEntityDataIT.java | 75 +++++++++++++---------
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 42 ++++++++++--
 3 files changed, 90 insertions(+), 53 deletions(-)

commit 6c5bc3bba7732357bf3fc4ab39e7fda10e97539e
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 6 12:46:34 2017 -0700

    PHOENIX-4173 Ensure that the rebuild fails if an index that transitions back to disabled while rebuilding

 .../end2end/index/PartialIndexRebuilderIT.java     | 151 +++++++++++++++++++--
 1 file changed, 143 insertions(+), 8 deletions(-)

commit 28aebd6af3b635c98c8f1782295ea6c85167d659
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Sep 6 18:07:40 2017 -0700

    PHOENIX-4171 Creating immutable index is timing out intermittently

 .../src/it/java/org/apache/phoenix/rpc/PhoenixServerRpcIT.java       | 5 +++--
 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java | 4 ++--
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 134424ebd44f730344ff5da93a6ec3f734d77d4b
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Sep 6 18:05:35 2017 -0700

    PHOENIX-4170 Remove rebuildIndexOnFailure param from MutableIndexFailureIT

 .../end2end/index/MutableIndexFailureIT.java       | 82 +++++++---------------
 1 file changed, 27 insertions(+), 55 deletions(-)

commit 64658fe5a64e7089f5208ece25769bf644f96846
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Sep 6 18:03:17 2017 -0700

    Revert "PHOENIX-4170 Remove rebuildIndexOnFailure param from MutableIndexFailureIT"
    
    This reverts commit dd5642ff55cbc829765114d0be051cb48081e4a6.

 .../phoenix/end2end/BaseClientManagedTimeIT.java   |  2 +-
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    |  2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  1 +
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |  2 +-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  2 +-
 .../end2end/index/MutableIndexFailureIT.java       | 82 +++++++++++++++-------
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  5 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 73 +++++++++----------
 9 files changed, 98 insertions(+), 75 deletions(-)

commit dd5642ff55cbc829765114d0be051cb48081e4a6
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Sep 6 17:54:01 2017 -0700

    PHOENIX-4170 Remove rebuildIndexOnFailure param from MutableIndexFailureIT

 .../phoenix/end2end/BaseClientManagedTimeIT.java   |  2 +-
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    |  2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  1 -
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |  2 +-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  2 +-
 .../end2end/index/MutableIndexFailureIT.java       | 82 +++++++---------------
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  5 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 73 ++++++++++---------
 9 files changed, 75 insertions(+), 98 deletions(-)

commit ad52201e07670d342ef33c5e8bd2ee595fe559cc
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Wed Sep 6 13:21:57 2017 -0400

    PHOENIX-4159 phoenix-spark tests are failing
    
    Fix usage of underlying JUnit 'TemporaryFolder' in phoenix-spark
    tests. Need to disable parallel execution until JUnit 4.13 is
    released (https://github.com/junit-team/junit4/issues/1223)

 phoenix-spark/pom.xml                                   |  5 ++++-
 .../apache/phoenix/spark/AbstractPhoenixSparkIT.scala   | 17 ++++++++++-------
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 8c90a0bf4269aa83bbed26afa3437e2d444c68bb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 5 18:52:02 2017 -0700

    PHOENIX-4162 Disallow transition from DISABLE to INACTIVE when INDEX_DISABLE_TIMESTAMP is zero

 .../apache/phoenix/end2end/MetaDataEndPointIT.java | 55 +++++++++++++++++
 .../end2end/index/PartialIndexRebuilderIT.java     | 12 ++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 70 +++++++++++-----------
 3 files changed, 98 insertions(+), 39 deletions(-)

commit cdfb08bd8862693b4826c4714259a63737dd2c3f
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 5 19:40:09 2017 -0700

    PHOENIX-4151 Addendum to fix test failure

 .../src/it/java/org/apache/phoenix/end2end/AggregateQueryIT.java     | 1 -
 .../src/it/java/org/apache/phoenix/end2end/MutableQueryIT.java       | 5 +----
 2 files changed, 1 insertion(+), 5 deletions(-)

commit a3bb174bc82743aa2ac7b59b9d1978a788a4d19f
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 5 19:27:01 2017 -0700

    PHOENIX-4151 Tests extending BaseQueryIT are flapping

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  11 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   7 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |  16 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  13 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       |  35 +--
 .../java/org/apache/phoenix/end2end/GroupByIT.java | 300 ++++++++++-----------
 .../org/apache/phoenix/end2end/MutableQueryIT.java |  59 ++--
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  11 -
 .../apache/phoenix/end2end/PointInTimeQueryIT.java | 105 --------
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  38 +--
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  17 --
 .../org/apache/phoenix/end2end/SequenceIT.java     |  65 +++++
 12 files changed, 258 insertions(+), 419 deletions(-)

commit a1c75a9ec31eb646d7f4e0eb2363e8dc6d465103
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 5 13:05:17 2017 -0700

    PHOENIX-3953 Clear INDEX_DISABLED_TIMESTAMP and disable index on compaction (addendum)

 .../end2end/index/PartialIndexRebuilderIT.java     | 21 +++---
 .../UngroupedAggregateRegionObserver.java          |  2 +-
 .../schema/stats/DefaultStatisticsCollector.java   | 83 +++++++++++++++-------
 .../schema/stats/NoOpStatisticsCollector.java      |  2 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |  2 +-
 5 files changed, 75 insertions(+), 35 deletions(-)

commit 27ef19f8ce5b956deb795a45ba04ca865fef7ad9
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 5 13:58:06 2017 -0700

    PHOENIX-4141 Fix flapping TableSnapshotReadsMapReduceIT

 .../end2end/TableSnapshotReadsMapReduceIT.java     | 58 +++++++++++++---------
 1 file changed, 35 insertions(+), 23 deletions(-)

commit 6e9ce8742e73eccb0d7678ae8f09be9e76b9be98
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Sep 5 13:50:28 2017 -0700

    PHOENIX-4156 Fix flapping MutableIndexFailureIT

 .../end2end/index/MutableIndexFailureIT.java       | 79 +++++++++++++++++++---
 .../coprocessor/MetaDataRegionObserver.java        | 12 +++-
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 4 files changed, 82 insertions(+), 11 deletions(-)

commit 839be97e9ef2d23d3e9713313d4a93521bc74028
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Aug 10 22:06:49 2017 -0700

    PHOENIX-4068 Atomic Upsert salted table with error(java.lang.NullPointerException)

 .../apache/phoenix/end2end/OnDuplicateKeyIT.java   | 33 +++++++++++++++++++++-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  9 +++---
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  3 +-
 3 files changed, 39 insertions(+), 6 deletions(-)

commit cec7e1cf8794e7ec0ee5c8be9a32e33cd211ec3b
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Oct 25 14:09:54 2016 -0700

    PHOENIX-3406 CSV BulkLoad MR job incorrectly handle ROW_TIMESTAMP

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 38 ++++++++++++++++++++++
 .../mapreduce/FormatToBytesWritableMapper.java     |  1 +
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |  7 ++--
 3 files changed, 43 insertions(+), 3 deletions(-)

commit c8cbb5e5e196299d5cc50385bd5ebb3791170d2f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Sep 5 23:34:57 2017 +0530

    PHOENIX-3496 Figure out why LocalIndexIT#testLocalIndexRoundTrip is flapping(Rajeshbabu)

 .../phoenix/end2end/FlappingLocalIndexIT.java      | 79 +++++++++++++++++++++-
 .../phoenix/end2end/index/BaseLocalIndexIT.java    |  6 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  3 +-
 .../UngroupedAggregateRegionObserver.java          | 42 ++++++++++--
 .../phoenix/iterate/BaseResultIterators.java       | 50 ++++++++++----
 5 files changed, 159 insertions(+), 21 deletions(-)

commit 0a3ef6c1b5f2013ce6b3e5158e0417294ab7d92b
Author: kliewkliew <kliew@apache.org>
Date:   Fri Sep 1 14:28:44 2017 -0700

    PHOENIX-2314 Cannot prepare parameterized statement with a 'like' predicate

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 16 +++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 +-
 .../phoenix/end2end/QueryServerBasicsIT.java       | 28 ++++++++++++++++++++++
 3 files changed, 45 insertions(+), 1 deletion(-)

commit f03c43bdd2abb18f3a1edbc717340b52b529fb48
Author: Samarth Jain <samarth@apache.org>
Date:   Sun Sep 3 01:06:34 2017 -0700

    PHOENIX-4155 Convert CreateTableIT to extend ParallelStatsDisabledIT

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 812 ++++++++++-----------
 1 file changed, 366 insertions(+), 446 deletions(-)

commit 21630d85f06d12db4b75776eb708814a0c360ec5
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Sep 2 10:32:44 2017 -0700

    Revert "PHOENIX-4141 Fix flapping TableSnapshotReadsMapReduceIT"
    
    This reverts commit 378b56c4ad71f9e10887adec92618300285f6d2d.

 .../end2end/TableSnapshotReadsMapReduceIT.java     | 402 ++++++++++-----------
 1 file changed, 182 insertions(+), 220 deletions(-)

commit 38915feef5f590a882cdc45c7e880943ab099603
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Sep 2 10:32:24 2017 -0700

    Revert "PHOENIX-4141 Addendum to fix test failure"
    
    This reverts commit 7d8b8430212fae117ac09faf6b7c22bf673e9073.

 .../phoenix/end2end/TableSnapshotReadsMapReduceIT.java   | 16 +++++-----------
 1 file changed, 5 insertions(+), 11 deletions(-)

commit 0ace91f715e5136404774f98d1441ba639618248
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Sep 2 10:27:58 2017 -0700

    Revert "PHOENIX-4141 Fix flapping TableSnapshotReadsMapReduceIT"
    
    This reverts commit 9fb318bd8f03911bc7cb333a0ec974a685156fb7.

 .../org/apache/phoenix/end2end/TableSnapshotReadsMapReduceIT.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 01dbd123bd70fec5391531f833ba9b73e1178f2b
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Sep 2 02:24:03 2017 -0700

    PHOENIX-4110 Shutdown mini cluster when number of tables grows beyond a threshold

 .../phoenix/end2end/ParallelRunListener.java       |  42 ---------
 .../phoenix/end2end/ParallelStatsDisabledIT.java   |   6 ++
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  10 +-
 .../org/apache/phoenix/rpc/PhoenixClientRpcIT.java |   1 -
 .../java/org/apache/phoenix/query/BaseTest.java    | 103 ++++++++++++++++-----
 pom.xml                                            |  24 -----
 6 files changed, 96 insertions(+), 90 deletions(-)

commit a8f119cb696b012dc1338f1abe82c8fbc9cfea4e
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Sep 2 00:44:41 2017 -0700

    PHOENIX-4152 Don't swallow or wrap exception in BaseQueryIT constructor

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 38 +++++++++++++++-------
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       |  2 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  2 +-
 .../org/apache/phoenix/end2end/MutableQueryIT.java |  2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  2 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java |  2 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  2 +-
 11 files changed, 36 insertions(+), 22 deletions(-)

commit 9fb318bd8f03911bc7cb333a0ec974a685156fb7
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Sep 1 23:27:38 2017 -0700

    PHOENIX-4141 Fix flapping TableSnapshotReadsMapReduceIT

 .../org/apache/phoenix/end2end/TableSnapshotReadsMapReduceIT.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 81c025b37109059cc7d00d1bb558b8e794b60723
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Sep 1 22:43:46 2017 -0700

    PHOENIX-4153 Temporarily disable java doc warning check in QA builds

 dev/test-patch.sh | 58 +++++++++++++++++++++++++++----------------------------
 1 file changed, 29 insertions(+), 29 deletions(-)

commit 1aabbfa0d04261d1cebba845deaebf4c4048ae62
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Aug 31 17:45:35 2017 -0700

    PHOENIX-4143 ConcurrentMutationsIT flaps

 .../apache/phoenix/end2end/ConcurrentMutationsIT.java  | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit c2e85f2131669c381e61cc3d6982ab66e4ed63b9
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Aug 31 17:21:36 2017 -0700

    PHOENIX-4131 UngroupedAggregateRegionObserver.preClose() and doPostScannerOpen() can deadlock

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 44 +++++-----------------
 .../UngroupedAggregateRegionObserver.java          | 35 +++++++++++------
 .../java/org/apache/phoenix/query/BaseTest.java    |  7 ----
 3 files changed, 32 insertions(+), 54 deletions(-)

commit 3f58452f4995490df81b74bb40dcc4e4d2a7329e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 31 16:46:40 2017 -0700

    Revert "PHOENIX-3815 Only disable indexes on which write failures occurred (Vincent Poon)"
    
    This reverts commit 7cf7b3abb10fc6a1ace0cb77615f054a8a6378f7.

 .../end2end/index/MutableIndexFailureIT.java       |  25 +--
 .../phoenix/hbase/index/write/IndexWriter.java     |   4 +-
 .../index/write/ParallelWriterIndexCommitter.java  | 235 +++++++++++++++++++++
 .../hbase/index/write/RecoveryIndexWriter.java     |   1 +
 .../write/recovery/StoreFailuresInCachePolicy.java |   1 -
 .../TrackingParallelWriterIndexCommitter.java      |  23 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  15 --
 .../phoenix/hbase/index/write/TestIndexWriter.java |  89 +++++++-
 .../hbase/index/write/TestParalleIndexWriter.java  |   4 +-
 .../write/TestParalleWriterIndexCommitter.java     |   4 +-
 10 files changed, 344 insertions(+), 57 deletions(-)

commit 7d8b8430212fae117ac09faf6b7c22bf673e9073
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Aug 30 17:07:11 2017 -0700

    PHOENIX-4141 Addendum to fix test failure

 .../phoenix/end2end/TableSnapshotReadsMapReduceIT.java   | 16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 7cf7b3abb10fc6a1ace0cb77615f054a8a6378f7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 30 16:52:41 2017 -0700

    PHOENIX-3815 Only disable indexes on which write failures occurred (Vincent Poon)

 .../end2end/index/MutableIndexFailureIT.java       |  25 ++-
 .../phoenix/hbase/index/write/IndexWriter.java     |   4 +-
 .../index/write/ParallelWriterIndexCommitter.java  | 235 ---------------------
 .../hbase/index/write/RecoveryIndexWriter.java     |   1 -
 .../TrackingParallelWriterIndexCommitter.java      |  23 +-
 .../write/recovery/StoreFailuresInCachePolicy.java |   1 +
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  15 ++
 .../phoenix/hbase/index/write/TestIndexWriter.java |  89 +-------
 .../hbase/index/write/TestParalleIndexWriter.java  |   4 +-
 .../write/TestParalleWriterIndexCommitter.java     |   4 +-
 10 files changed, 57 insertions(+), 344 deletions(-)

commit 6e6c0a390b7139c5ab2541d27871dbfb9c08c059
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 30 16:42:44 2017 -0700

    PHOENIX-418 Include APPROX_COUNT_DISTINCT in server jar for support of approximate COUNT DISTINCT (Ethan Wang)

 phoenix-core/pom.xml   | 2 +-
 phoenix-server/pom.xml | 1 +
 pom.xml                | 7 ++++++-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit c83cec8903fd558777fb4dcd86a8bd67838f46e4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 30 16:40:04 2017 -0700

    PHOENIX-4128 CNF org/apache/commons/math3/exception/OutOfRangeException (Ethan Wang)

 .../src/main/java/org/apache/phoenix/parse/ConcreteTableNode.java      | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit e6c1f01c5f7d5c9996017714efe90202a95355b2
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Aug 29 21:46:36 2017 -0700

    Revert "PHOENIX-4140 Disable HiveTezIT and HiveMapReduceIT since they don't work most of the times"

 .../src/it/java/org/apache/phoenix/hive/HiveMapReduceIT.java         | 5 ++---
 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveTezIT.java      | 5 ++---
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 378b56c4ad71f9e10887adec92618300285f6d2d
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Aug 29 21:41:07 2017 -0700

    PHOENIX-4141 Fix flapping TableSnapshotReadsMapReduceIT

 .../end2end/TableSnapshotReadsMapReduceIT.java     | 402 +++++++++++----------
 1 file changed, 220 insertions(+), 182 deletions(-)

commit 74762df7a5649592ad81ca4ad72425acc2b0a823
Author: aertoria <castives@gmail.com>
Date:   Wed Aug 16 15:45:27 2017 -0700

    PHOENIX-4080 Amending error message when phoenix client version is not match with servers
    
    Signed-off-by: Geoffrey Jacoby <gjacoby@apache.org>

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/query/QueryConstants.java        | 2 ++
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 4ca7a0791841ba504ac3daac9fc6e8fec0c148e6
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Aug 29 16:46:55 2017 -0700

    PHOENIX-4140 Disable HiveTezIT and HiveMapReduceIT since they don't work most of the times

 .../src/it/java/org/apache/phoenix/hive/HiveMapReduceIT.java         | 5 +++--
 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveTezIT.java      | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 437402d4850bebcd769858b756c1e08abf544b00
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Aug 29 13:38:20 2017 -0700

    PHOENIX-4132 TestIndexWriter hangs on 1.8 JRE

 .../phoenix/hbase/index/write/TestIndexWriter.java | 25 +++++++++++++---------
 .../hbase/index/write/TestParalleIndexWriter.java  |  4 ++--
 .../write/TestParalleWriterIndexCommitter.java     |  4 ++--
 3 files changed, 19 insertions(+), 14 deletions(-)

commit fc659488361c91b569f15a26dcbab5cbb24c276b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 28 15:32:20 2017 -0700

    PHOENIX-2460 Implement scrutiny command to validate whether
     or not an index is in sync with the data table (Vincent Poon)

 .../phoenix/end2end/IndexScrutinyToolIT.java       | 612 +++++++++++++++++++++
 .../mapreduce/index/IndexScrutinyMapper.java       | 377 +++++++++++++
 .../mapreduce/index/IndexScrutinyTableOutput.java  | 345 ++++++++++++
 .../phoenix/mapreduce/index/IndexScrutinyTool.java | 522 ++++++++++++++++++
 .../mapreduce/index/PhoenixIndexDBWritable.java    |  11 +-
 .../index/PhoenixScrutinyJobCounters.java          |  41 ++
 .../mapreduce/index/SourceTargetColumnNames.java   | 195 +++++++
 .../phoenix/mapreduce/util/IndexColumnNames.java   | 239 ++++++++
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 128 ++++-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  63 ++-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  21 +
 .../phoenix/mapreduce/index/BaseIndexTest.java     |  97 ++++
 .../index/IndexScrutinyTableOutputTest.java        |  87 +++
 .../mapreduce/util/IndexColumnNamesTest.java       |  74 +++
 .../org/apache/phoenix/util/QueryUtilTest.java     |  18 +-
 15 files changed, 2817 insertions(+), 13 deletions(-)

commit d6381afc3af976ccdbb874d4458ea17b1e8a1d32
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 28 15:17:37 2017 -0700

    PHOENIX-418 Support approximate COUNT DISTINCT (Ethan Wang)

 dev/release_files/NOTICE                           |   8 +
 phoenix-core/pom.xml                               |   5 +
 .../CountDistinctApproximateHyperLogLogIT.java     | 154 +++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../DistinctCountHyperLogLogAggregateFunction.java | 192 +++++++++++++++++++++
 ...DistinctCountHyperLogLogAggregateParseNode.java |  39 +++++
 6 files changed, 401 insertions(+), 1 deletion(-)

commit 435441ea8ba336e1967b03cf84f1868c5ef14790
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 25 11:38:41 2017 -0700

    PHOENIX-3953 Clear INDEX_DISABLED_TIMESTAMP and disable index on compaction

 .../end2end/index/PartialIndexRebuilderIT.java     | 32 +++++++++++++++
 .../org/apache/phoenix/hbase/index/Indexer.java    | 45 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/IndexUtil.java    |  7 +++-
 3 files changed, 83 insertions(+), 1 deletion(-)

commit 7d3368b62e91aa572cbb5c1e7083336d3f0c6538
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 24 16:26:16 2017 -0700

    PHOENIX-4124 Two new tests without Apache licenses

 .../java/org/apache/phoenix/util/IndexScrutinyIT.java   | 17 +++++++++++++++++
 .../java/org/apache/phoenix/util/RunUntilFailure.java   | 17 +++++++++++++++++
 2 files changed, 34 insertions(+)

commit 8b7a836a5e5502c1c217c6e3b6ab7298b980cb81
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 24 14:16:30 2017 -0700

    PHOENIX-4122 Prevent IllegalMonitorStateException from occurring when releasing row locks

 .../org/apache/phoenix/hbase/index/Indexer.java    | 103 ++++++++-------------
 1 file changed, 37 insertions(+), 66 deletions(-)

commit a5fb51948225ee7ee9ece76d233f4a150006e4a9
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Aug 25 09:03:35 2017 -0700

    PHOENIX-4126 Reset FAIL_WRITE flag in MutableIndexFailureIT

 .../java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit dd008f4fe4e67836a6fb362843c9618e4e518182
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Aug 23 15:30:34 2017 -0700

    PHOENIX-4118 Disable tests in ImmutableIndexIT till PHOENIX-2582 is fixed

 .../it/java/org/apache/phoenix/end2end/index/ImmutableIndexIT.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit 1aff98f90170ae2cce9a07e362be2847e1d3ee84
Author: chenglei <chenglei@apache.org>
Date:   Wed Aug 23 16:02:57 2017 +0800

    PHOENIX-4094 ParallelWriterIndexCommitter incorrectly applys local updates to index tables for 4.x-HBase-0.98 (addnum for license)

 .../hadoop/hbase/regionserver/wal/WALRecoveryRegionPostOpenIT.java      | 2 --
 1 file changed, 2 deletions(-)

commit b8ac2f67a91810c3910835d2ac3c8730bf39d806
Author: chenglei <chenglei@apache.org>
Date:   Wed Aug 23 15:30:19 2017 +0800

    PHOENIX-4094 ParallelWriterIndexCommitter incorrectly applys local updates to index tables for 4.x-HBase-0.98 (addnum for license)

 .../wal/WALRecoveryRegionPostOpenIT.java             | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit fd893ef47be0780ab8b7c5991426092fd504b322
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 22 15:03:02 2017 -0700

    PHOENIX-4114 Derive ConcurrentMutationsIT from ParallelStatsDisabledIT

 .../phoenix/end2end/ConcurrentMutationsIT.java     | 27 ++++------------------
 1 file changed, 5 insertions(+), 22 deletions(-)

commit 16e0511ff3e65d2463ab4481b9dd9a42cdf18461
Author: Josh Elser <elserj@apache.org>
Date:   Fri Aug 18 23:34:10 2017 -0400

    PHOENIX-4107 Add a toggle for PQS registration for the load balancer

 .../src/main/java/org/apache/phoenix/query/QueryServices.java  |  1 +
 .../java/org/apache/phoenix/query/QueryServicesOptions.java    |  3 +++
 .../org/apache/phoenix/queryserver/server/QueryServer.java     | 10 ++++++++--
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 813c1c8aa0f44f0b38ef5bb4c9ed418f693b5c0d
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Aug 20 16:57:44 2017 -0700

    PHOENIX-4109 Ensure mutations are processed in batches with same time stamp during partial rebuild

 .../end2end/index/PartialIndexRebuilderIT.java     | 174 ++++++++++++++++++---
 .../org/apache/phoenix/hbase/index/Indexer.java    |   2 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |   4 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   2 +-
 4 files changed, 156 insertions(+), 26 deletions(-)

commit a0f47c2bec568ebcfca6be2fe8e0fd3af9c01a60
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 18 18:27:37 2017 -0700

    PHOENIX-4106 Replace System.currentTimeMillis() calls with EnvironmentEdgeManager.currentTimeMillis() calls

 .../java/org/apache/phoenix/compile/ListJarsQueryPlan.java |  3 ++-
 .../java/org/apache/phoenix/compile/TraceQueryPlan.java    |  3 ++-
 .../coprocessor/UngroupedAggregateRegionObserver.java      |  3 ++-
 .../phoenix/expression/function/CurrentDateFunction.java   | 14 +++++++-------
 .../phoenix/expression/function/CurrentTimeFunction.java   | 12 ++++++------
 .../org/apache/phoenix/iterate/BaseResultIterators.java    |  5 +++--
 .../org/apache/phoenix/iterate/TableResultIterator.java    |  4 ++--
 .../apache/phoenix/mapreduce/MultiHfileOutputFormat.java   |  5 +++--
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  |  5 +++--
 .../java/org/apache/phoenix/schema/MetaDataClient.java     |  5 +++--
 10 files changed, 33 insertions(+), 26 deletions(-)

commit 1dc900884896867d6e641d1c9470eacac133cf91
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Aug 19 14:13:30 2017 -0700

    PHOENIX-4105 Fix tests broken due to PHOENIX-4089 (addendum 1)

 .../end2end/index/MutableIndexFailureIT.java       |   7 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 152 ++++++++++++++++++---
 .../coprocessor/MetaDataRegionObserver.java        |   7 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  63 +++++++--
 4 files changed, 198 insertions(+), 31 deletions(-)

commit c104a4dd3184cc6db5c18f3aa4d562122c3df699
Author: Rahul <rshrivastava@salesforce.com>
Date:   Wed Mar 1 15:38:52 2017 -0800

    PHOENIX-3654 Load Balancer for Phoenix Query Server
    
    Closes apache/phoenix#236
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |  16 +-
 phoenix-load-balancer/pom.xml                      |  84 ++++++++++
 .../phoenix/end2end/LoadBalancerEnd2EndIT.java     | 144 +++++++++++++++++
 .../service/LoadBalanceZookeeperConfImpl.java      | 103 ++++++++++++
 .../phoenix/loadbalancer/service/LoadBalancer.java | 178 +++++++++++++++++++++
 .../queryserver/register/ZookeeperRegistry.java    |  72 +++++++++
 ...x.loadbalancer.service.LoadBalanceZookeeperConf |   1 +
 .../service/LoadBalanceZookeeperConf.java          |  42 +++++
 .../phoenix/queryserver/register/Registry.java     |  48 ++++++
 .../phoenix/queryserver/server/QueryServer.java    |  72 ++++++++-
 pom.xml                                            |  18 +++
 12 files changed, 780 insertions(+), 3 deletions(-)

commit afcebdcae5270e91eefc60eed1da2095d12c4580
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 18 17:57:32 2017 -0700

    PHOENIX-4105 Fix tests broken due to PHOENIX-4089 (addendum)

 .../phoenix/end2end/index/ImmutableIndexIT.java    |  2 +-
 .../end2end/index/MutableIndexFailureIT.java       |  2 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 22 +++++++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     | 12 ++++++++----
 4 files changed, 21 insertions(+), 17 deletions(-)

commit 5c1b1b55ee6ac9010f2e4ee0f9d31ba42795dd31
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 18 15:49:54 2017 -0700

    PHOENIX-4105 Fix tests broken due to PHOENIX-4089

 .../phoenix/end2end/ConcurrentMutationsIT.java     |   2 +-
 .../end2end/IndexToolForPartialBuildIT.java        |   6 +-
 .../UpdateCacheAcrossDifferentClientsIT.java       |  47 +++++
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   2 +-
 .../end2end/index/MutableIndexFailureIT.java       |   2 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 234 ++++++++++++---------
 .../coprocessor/MetaDataRegionObserver.java        |   7 +-
 .../phoenix/util/DefaultEnvironmentEdge.java       |   3 +-
 .../org/apache/phoenix/util/EnvironmentEdge.java   |   5 +-
 .../phoenix/util/EnvironmentEdgeManager.java       |   1 +
 .../java/org/apache/phoenix/util/TestUtil.java     |  39 ++--
 11 files changed, 225 insertions(+), 123 deletions(-)

commit 671b10c6e8878ae381b4c8260c3e895fd97441e7
Author: Biju Nair <gs.biju@gmail.com>
Date:   Sun Jun 18 23:04:19 2017 -0400

    PHOENIX-3954 Update error message to be more user friendly
    
    Signed-off-by: gjacoby <gjacoby@apache.org>

 .../src/main/java/org/apache/phoenix/exception/SQLExceptionCode.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 608160e61c3951287bdb27f08d9463b82862c362
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Aug 18 14:00:14 2017 -0700

    PHOENIX-4103 Convert ColumnProjectionOptimizationIT to extend ParallelStatsDisabledIT

 .../end2end/ColumnProjectionOptimizationIT.java    | 44 ++++++++++++++--------
 1 file changed, 28 insertions(+), 16 deletions(-)

commit 7348da45b42d3fc02b81f7bed357730fb8ddd0dd
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Aug 18 12:20:12 2017 -0700

    PHOENIX-4102 Convert ArrayIT to extend BaseUniqueNamesOwnClusterIT

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 629 +++++++++++----------
 1 file changed, 341 insertions(+), 288 deletions(-)

commit 203a57f48c3145011fc4fcd6ab214ed204ac0101
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Aug 17 18:06:50 2017 -0700

    PHOENIX-4099 Do not write table data again when replaying mutations for partial index rebuild

 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  6 +++---
 .../coprocessor/BaseScannerRegionObserver.java     | 24 +++++++++++++++++++++-
 .../UngroupedAggregateRegionObserver.java          | 16 +++++++--------
 .../org/apache/phoenix/execute/MutationState.java  |  5 +----
 .../org/apache/phoenix/hbase/index/Indexer.java    | 10 ++++++++-
 .../hbase/index/builder/BaseIndexBuilder.java      |  5 +++--
 .../hbase/index/builder/IndexBuildManager.java     |  5 +++--
 .../phoenix/hbase/index/builder/IndexBuilder.java  |  3 ++-
 .../phoenix/hbase/index/covered/IndexMetaData.java |  8 +++++---
 .../index/covered/update/IndexUpdateManager.java   |  2 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  5 +++--
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  4 ++--
 .../apache/phoenix/index/PhoenixIndexMetaData.java | 15 +++++++++-----
 .../index/PhoenixIndexPartialBuildMapper.java      |  5 ++---
 .../hbase/index/covered/LocalTableStateTest.java   | 13 ++++++------
 .../hbase/index/covered/NonTxIndexBuilderTest.java |  5 +++--
 .../covered/update/TestIndexUpdateManager.java     |  5 ++---
 17 files changed, 86 insertions(+), 50 deletions(-)

commit b3473022cae55d2f73f961372ee1826de31e1382
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Aug 17 21:57:23 2017 -0700

    PHOENIX-4099 Do not write table data again when replaying mutations for partial index rebuild (addendum)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  11 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |   6 +-
 .../{example => }/FailWithoutRetriesIT.java        |   6 +-
 .../covered/example/EndToEndCoveredIndexingIT.java | 902 ---------------------
 .../example/EndtoEndIndexingWithCompressionIT.java |  45 -
 .../covered/example/CoveredColumnIndexer.java      | 165 ----
 .../phoenix/hbase/index/covered}/ColumnGroup.java  |   2 +-
 .../hbase/index/covered}/CoveredColumn.java        |   3 +-
 .../index/covered}/CoveredColumnIndexCodec.java    |  10 +-
 .../CoveredColumnIndexSpecifierBuilder.java        |  14 +-
 .../covered/{example => }/TestColumnTracker.java   |   2 +-
 .../{example => }/TestCoveredColumnIndexCodec.java |   8 +-
 .../TestCoveredIndexSpecifierBuilder.java          |   5 +-
 .../hbase/index/util/TestIndexManagementUtil.java  |  29 +
 .../hbase/index/write/TestWALRecoveryCaching.java  |  10 +-
 15 files changed, 61 insertions(+), 1157 deletions(-)

commit ab67f30278bbf98338b2b347524e0bd17923257f
Author: chenglei <chenglei@apache.org>
Date:   Fri Aug 18 11:27:47 2017 +0800

    PHOENIX-4094 ParallelWriterIndexCommitter incorrectly applys local updates to index tables for 4.x-HBase-0.98

 .../wal/WALRecoveryRegionPostOpenIT.java           | 312 +++++++++++++++++++++
 1 file changed, 312 insertions(+)

commit 649b737a81243adc43b508a90addc9a2962c6bc1
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Aug 17 15:47:11 2017 -0700

    PHOENIX-4095 Prevent index from getting out of sync with data table during partial rebuild

 .../phoenix/end2end/ConcurrentMutationsIT.java     |   3 +-
 .../phoenix/end2end/OutOfOrderMutationsIT.java     |  19 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 197 ++++++++++++++++++---
 .../util/{TestUtilIT.java => IndexScrutinyIT.java} |   8 +-
 .../UngroupedAggregateRegionObserver.java          |   5 +
 .../org/apache/phoenix/hbase/index/Indexer.java    | 139 ++++++---------
 .../hbase/index/covered/NonTxIndexBuilder.java     |  93 ++--------
 .../covered/example/CoveredColumnIndexer.java      |   5 +-
 .../hbase/index/util/IndexManagementUtil.java      |  94 ++++++++++
 ...CoveredColumns.java => CoveredColumnsTest.java} |   2 +-
 ...calTableState.java => LocalTableStateTest.java} |   2 +-
 ...ndexBuilder.java => NonTxIndexBuilderTest.java} |  16 +-
 .../org/apache/phoenix/util/IndexScrutiny.java     | 144 +++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     | 109 +-----------
 14 files changed, 521 insertions(+), 315 deletions(-)

commit ce6b891fd658f6593845d1155509d0f8a599336f
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Aug 16 19:14:21 2017 -0700

    PHOENIX-4089 Prevent index from getting out of sync with data table under high concurrency

 .../phoenix/end2end/ConcurrentMutationsIT.java     |  56 +++++++++++-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  29 +++---
 .../end2end/index/PartialIndexRebuilderIT.java     |  76 ----------------
 .../java/org/apache/phoenix/util/TestUtilIT.java   |  89 ++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |   4 -
 .../phoenix/compile/PostIndexDDLCompiler.java      |   9 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  64 ++-----------
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   8 +-
 .../org/apache/phoenix/execute/MutationState.java  |   5 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 101 +++++++++++++++++----
 .../hbase/index/builder/BaseIndexBuilder.java      |   5 +
 .../hbase/index/builder/IndexBuildManager.java     |   4 +
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   2 +
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  50 +++-------
 .../test/java/org/apache/phoenix/util/Repeat.java  |  30 ++++++
 .../org/apache/phoenix/util/RunUntilFailure.java   |  73 +++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |   4 +-
 18 files changed, 389 insertions(+), 227 deletions(-)

commit c92ddc451f93f34144be9aeda7cb9cedece450b3
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Aug 17 14:28:08 2017 -0700

    PHOENIX-4098 BaseUniqueNamesOwnClusterIT doesn't need to tear down minicluster

 .../java/org/apache/phoenix/end2end/BaseUniqueNamesOwnClusterIT.java  | 4 ----
 1 file changed, 4 deletions(-)

commit f8bd40e9fdd57b3af5ed8dc4f08357b22b78b479
Author: Josh Elser <elserj@apache.org>
Date:   Thu Aug 17 12:52:29 2017 -0400

    PHOENIX-4088 Clean up SQLExceptionCode (Csaba Skrabak)

 .../org/apache/phoenix/exception/SQLExceptionCode.java   | 16 +++++++++-------
 .../phoenix/query/ConnectionQueryServicesImpl.java       | 10 ++--------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit b13413614fef3cdb87233fd1543081e7198d685f
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Aug 16 16:04:35 2017 +0530

    PHOENIX-4083 Incorrect conditional when including OFFSET into explain plan (addendum)

 .../src/main/java/org/apache/phoenix/iterate/OrderedResultIterator.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c7822df3b5a2aaf7a6b3ab6059ad8bda2900139
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Aug 16 15:36:40 2017 +0530

    PHOENIX-4083 Incorrect conditional when including OFFSET into explain plan (JC)

 .../src/main/java/org/apache/phoenix/iterate/OrderedResultIterator.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b2c8e34f1bed9dc2e68a719c3ec5470c5dc595bf
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 23:27:53 2017 -0700

    PHOENIX-4070 Delete row should mask upserts at same timestamp (addendum for typos)

 .../phoenix/end2end/OutOfOrderMutationsIT.java     | 18 ++++++++--------
 .../end2end/index/PartialIndexRebuilderIT.java     | 24 +++++++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  2 +-
 3 files changed, 22 insertions(+), 22 deletions(-)

commit 19de020b66706493ae98eaa45282504a559f2f2e
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 22:56:09 2017 -0700

    PHOENIX-3525 Cap automatic index rebuilding to inactive timestamp (addendum)

 .../java/org/apache/phoenix/end2end/index/PartialIndexRebuilderIT.java   | 1 +
 .../main/java/org/apache/phoenix/coprocessor/MetaDataRegionObserver.java | 1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 29b76635944c717a5226e001abd85c045287344a
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 19:18:20 2017 -0700

    PHOENIX-4074 Race condition in LazyValueGetter (Samarth Jain)

 .../hbase/index/covered/data/LazyValueGetter.java  | 112 +++++++++++----------
 1 file changed, 58 insertions(+), 54 deletions(-)

commit 30224d34b72f52f896c2d1b94c3f675c3c9eef32
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 19:06:46 2017 -0700

    PHOENIX-3525 Cap automatic index rebuilding to inactive timestamp

 .../end2end/index/MutableIndexFailureIT.java       |   1 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  18 ++++
 .../coprocessor/MetaDataRegionObserver.java        | 104 ++++++++++++++-------
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |  13 +--
 .../java/org/apache/phoenix/util/IndexUtil.java    |   5 -
 .../java/org/apache/phoenix/util/TestUtil.java     |   3 +-
 7 files changed, 100 insertions(+), 49 deletions(-)

commit 5320304f2a013570e9c671b741658d5c8e187890
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 11:59:31 2017 -0700

    PHOENIX-4073 Disallow operations on a closed Connection

 .../org/apache/phoenix/end2end/AggregateIT.java    |  1 -
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  1 -
 .../apache/phoenix/end2end/LikeExpressionIT.java   | 13 ++++----
 .../apache/phoenix/end2end/PointInTimeQueryIT.java |  3 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  1 +
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  2 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  1 -
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  8 ++---
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  2 --
 .../apache/phoenix/tx/FlappingTransactionIT.java   |  2 --
 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 39 ++++++++++++++++++----
 .../apache/phoenix/compile/QueryCompilerTest.java  | 19 ++++++++++-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  3 +-
 .../apache/phoenix/schema/RowKeySchemaTest.java    |  2 +-
 .../phoenix/schema/RowKeyValueAccessorTest.java    |  2 +-
 16 files changed, 68 insertions(+), 32 deletions(-)

commit d762c6a83e8260297fd8d6afcb51bc1c49dce23f
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 11:56:23 2017 -0700

    PHOENIX-4072 Prevent NPE for PreparedStatement.setObject of null

 .../main/java/org/apache/phoenix/jdbc/PhoenixPreparedStatement.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 1e74895ad83dfe1ada90897f95fb5c93e2cc8eee
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 11:52:42 2017 -0700

    PHOENIX-4071 PDataType.compareTo(Object,Object,PDataType) does not handle null values

 .../phoenix/schema/types/PArrayDataType.java       |   9 +
 .../org/apache/phoenix/schema/types/PBoolean.java  |   9 +
 .../org/apache/phoenix/schema/types/PDataType.java |   5 +-
 .../org/apache/phoenix/schema/types/PDate.java     |   9 +
 .../org/apache/phoenix/schema/types/PDecimal.java  |   9 +
 .../org/apache/phoenix/schema/types/PDouble.java   |   9 +
 .../org/apache/phoenix/schema/types/PLong.java     |   9 +
 .../apache/phoenix/schema/types/PTimestamp.java    |   9 +
 .../phoenix/schema/types/PUnsignedDouble.java      | 259 +++++++++++----------
 .../apache/phoenix/schema/types/PUnsignedLong.java |   9 +
 .../org/apache/phoenix/schema/types/PVarchar.java  |   9 +
 .../apache/phoenix/schema/types/PDataTypeTest.java |  31 +++
 12 files changed, 250 insertions(+), 126 deletions(-)

commit 78f35a65d0cc55014c51da70c847969a2ea3c5a6
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Aug 7 11:41:15 2017 -0700

    PHOENIX-4070 Delete row should mask upserts at same timestamp

 .../phoenix/end2end/OutOfOrderMutationsIT.java     | 159 +++++++--
 .../end2end/index/MutableIndexFailureIT.java       |  27 +-
 .../end2end/index/PartialIndexRebuilderIT.java     | 366 +++++++++++++++++++++
 .../coprocessor/MetaDataRegionObserver.java        |  58 +---
 .../apache/phoenix/hbase/index/ValueGetter.java    |  10 +-
 .../hbase/index/covered/LocalTableState.java       |  10 +-
 .../hbase/index/covered/data/LazyValueGetter.java  |  19 +-
 .../covered/example/CoveredColumnIndexCodec.java   |   5 +-
 .../filter/ApplyAndFilterDeletesFilter.java        |   7 +-
 .../phoenix/hbase/index/scanner/EmptyScanner.java  |  16 +-
 .../hbase/index/scanner/ScannerBuilder.java        |  23 +-
 .../hbase/index/util/IndexManagementUtil.java      |   4 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  32 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  57 ++--
 .../phoenix/index/PhoenixTransactionalIndexer.java |   2 +-
 .../phoenix/schema/tuple/ValueGetterTuple.java     |  12 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  45 ++-
 .../hbase/index/covered/TestLocalTableState.java   |   9 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |   5 +-
 .../java/org/apache/phoenix/util/TestUtil.java     | 140 ++++++++
 20 files changed, 811 insertions(+), 195 deletions(-)

commit 27170bd78dc59c999d94259f14fffd93ae5e89e8
Author: Josh Elser <elserj@apache.org>
Date:   Mon Aug 7 16:19:10 2017 -0400

    PHOENIX-3769 Use length from correct byte array in PhoenixIndexBuilder (Sneha Kanekar)
    
    This was found via failing tests on ppc64.

 .../src/main/java/org/apache/phoenix/index/PhoenixIndexBuilder.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bf3c13b6d169e90e06c54a338a5931163a32d743
Author: gjacoby <gjacoby@apache.org>
Date:   Fri Aug 4 10:19:40 2017 -0700

    PHOENIX-4066 - Unused variable in MutationState.send()

 .../src/main/java/org/apache/phoenix/execute/MutationState.java         | 2 --
 1 file changed, 2 deletions(-)

commit 0bd43f536a13609b35629308c415aebc800d6799
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Aug 2 14:27:42 2017 -0700

    PHOENIX-4059 Index maintenance incorrect when indexed column updated from null to null with STORE_NULLS=true

 .../org/apache/phoenix/end2end/StoreNullsIT.java   | 88 ++++++++++++++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  5 +-
 2 files changed, 91 insertions(+), 2 deletions(-)

commit e494fe9fa744ec2948cf75b007e92fef0b1ba829
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 1 16:41:01 2017 -0700

    PHOENIX-4057 Do not issue index updates for out of order mutation

 .../phoenix/end2end/ConcurrentMutationsIT.java     |   3 -
 .../phoenix/end2end/OutOfOrderMutationsIT.java     | 561 +++++++++++++++++++++
 .../covered/example/EndToEndCoveredIndexingIT.java |   6 +-
 .../hbase/index/covered/NonTxIndexBuilder.java     |  75 ++-
 4 files changed, 613 insertions(+), 32 deletions(-)

commit 5e33dc12bc088bd0008d89f0a5cd7d5c368efa25
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 1 11:52:24 2017 -0700

    PHOENIX-153 Implement TABLESAMPLE clause (Ethan Wang)

 .../phoenix/end2end/QueryWithTableSampleIT.java    | 305 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   7 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  24 +-
 .../phoenix/iterate/BaseResultIterators.java       |  28 ++
 .../phoenix/iterate/TableSamplerPredicate.java     | 114 ++++++++
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../apache/phoenix/parse/ConcreteTableNode.java    |  23 ++
 .../org/apache/phoenix/parse/DeleteStatement.java  |   5 +
 .../apache/phoenix/parse/FilterableStatement.java  |   1 +
 .../org/apache/phoenix/parse/NamedTableNode.java   |  21 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  26 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |  15 +
 12 files changed, 554 insertions(+), 17 deletions(-)

commit 534fa05dad66cc8aedfcbc6622bfbbd8ed714b73
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu Jul 13 15:08:23 2017 -0700

    PHOENIX-4022 Add PhoenixMetricsLog interface that can be used to log metrics for queries and mutations

 .../phoenix/monitoring/PhoenixMetricsIT.java       |   75 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |    1 +
 .../apache/phoenix/trace/DelegateConnection.java   |  324 -------
 .../apache/phoenix/jdbc/DelegateConnection.java    |  321 +++++++
 .../phoenix/jdbc/DelegatePreparedStatement.java    |  553 +++++++++++
 .../org/apache/phoenix/jdbc/DelegateResultSet.java | 1008 ++++++++++++++++++++
 .../org/apache/phoenix/jdbc/DelegateStatement.java |  254 +++++
 .../phoenix/jdbc/LoggingPhoenixConnection.java     |  109 +++
 .../jdbc/LoggingPhoenixPreparedStatement.java      |   53 +
 .../phoenix/jdbc/LoggingPhoenixResultSet.java      |   45 +
 .../phoenix/jdbc/LoggingPhoenixStatement.java      |   48 +
 .../org/apache/phoenix/jdbc/PhoenixMetricsLog.java |   35 +
 12 files changed, 2501 insertions(+), 325 deletions(-)

commit 54d9e1c36c46e7c50c29def08cf866599c7a4e45
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jul 31 10:57:22 2017 -0700

    PHOENIX-4053 Lock row exclusively when necessary for mutable secondary indexing

 .../phoenix/end2end/ConcurrentMutationsIT.java     | 405 +++++++++++++++++++++
 .../org/apache/phoenix/hbase/index/Indexer.java    |  61 +++-
 .../apache/phoenix/hbase/index/LockManager.java    | 252 +++++++++++++
 .../hbase/index/builder/IndexBuildManager.java     |  12 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   2 +
 5 files changed, 713 insertions(+), 19 deletions(-)

commit 9c458fa3d3ecdeb17de5b717c26cfdea1608c358
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Jun 19 12:49:29 2017 -0700

    PHOENIX-3960 PhoenixStorageHandler for Hive doesn't work from Spark jobs

 .../org/apache/phoenix/hive/PhoenixStorageHandler.java     | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit a788111311f9b260c4eddbe7e9d2359a312b8d30
Author: Geoffrey Jacoby <geoffrey.jacoby@careerbuilder.com>
Date:   Thu Jul 13 13:34:54 2017 -0700

    PHOENIX-3997 UngroupedAggregateRegionObserver.commitBatchWithHTable() should not check the memstore size and wait for flush.
    
    Signed-off-by: Andrew Purtell <apurtell@apache.org>

 .../UngroupedAggregateRegionObserver.java          | 127 +++++++++++----------
 1 file changed, 67 insertions(+), 60 deletions(-)

commit adda7f10b648fa1d739a1ee739780fa1643faa81
Author: Vincent <vincentpoon@gmail.com>
Date:   Thu Jul 20 14:13:24 2017 -0700

    Amend PHOENIX-4039 Increase default number of RPC retries for our index rebuild task
    
    Signed-off-by: Andrew Purtell <apurtell@apache.org>

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 87976eb6f9892ab8c20f38db5e1cef3934ec2b89
Author: Josh Elser <elserj@apache.org>
Date:   Fri Jul 7 16:40:27 2017 -0400

    PHOENIX-4004 Remove unnecessary allocations in server-side mutable secondary-index path

 .../org/apache/phoenix/hbase/index/Indexer.java    |  4 +-
 .../hbase/index/builder/IndexBuildManager.java     | 78 ++--------------------
 .../hbase/index/covered/LocalTableState.java       | 24 ++++++-
 .../covered/example/CoveredColumnIndexCodec.java   | 21 ++++--
 4 files changed, 47 insertions(+), 80 deletions(-)

commit ca1105630dab43a8629e2efa0171d914e0140b3e
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jul 19 17:02:09 2017 -0400

    PHOENIX-4042 Add hadoop metrics2-based Indexer coproc metrics

 phoenix-core/pom.xml                               |   1 -
 .../org/apache/phoenix/hbase/index/Indexer.java    | 189 +++++++++++++++++----
 .../hbase/index/metrics/MetricsIndexerSource.java  | 150 ++++++++++++++++
 .../index/metrics/MetricsIndexerSourceFactory.java |  38 +++++
 .../index/metrics/MetricsIndexerSourceImpl.java    | 136 +++++++++++++++
 pom.xml                                            |   1 -
 6 files changed, 483 insertions(+), 32 deletions(-)

commit bff368d493c41cc9b71dfd70b3261ff54de6938c
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jul 19 11:45:49 2017 -0700

    PHOENIX-4041 CoprocessorHConnectionTableFactory should not open a new HConnection when shutting down

 .../org/apache/phoenix/hbase/index/write/IndexWriterUtils.java | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit d87931c02bcfabfb3442b11afdaf9614ed9d17de
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Jul 18 22:16:50 2017 -0700

    PHOENIX-4039 Increase default number of RPC retries for our index rebuild task

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ba0a67f827c40a3ce2974970e49e1760c164161a
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jul 18 21:56:33 2017 -0700

    PHOENIX-4028 Provide option to not throw index write failure back to client

 .../java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java    | 5 ++++-
 .../main/java/org/apache/phoenix/index/PhoenixIndexMetaData.java    | 6 +++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 269e8c47f0093912a8568817dd1347945cc22429
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Jul 18 12:05:30 2017 -0700

    PHOENIX-4038 Get rid of IndexHandlerIT

 .../phoenix/end2end/index/IndexHandlerIT.java      | 166 ---------------------
 1 file changed, 166 deletions(-)

commit 40e438edcd797d4803f5cc1c993bd421592fa9e0
Author: Samarth Jain <samarth@apache.org>
Date:   Mon Jul 17 22:19:54 2017 -0700

    PHOENIX-4032 Make MutableIndexFailureIT more resilient

 .../end2end/index/MutableIndexFailureIT.java       | 59 ++++++++++------------
 1 file changed, 28 insertions(+), 31 deletions(-)

commit 7220592ff43235431c6d2909094e5e832665a73d
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jul 14 21:28:04 2017 -0700

    PHOENIX-4028 Provide option to not throw index write failure back to client

 .../org/apache/phoenix/end2end/AlterTableIT.java   |   7 ++
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  34 +++++-
 .../end2end/index/MutableIndexFailureIT.java       | 117 ++++++++++-----------
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  17 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 6 files changed, 116 insertions(+), 61 deletions(-)

commit 7a83b8a1c4c9cefb6027b9aa2020af1dd18b599a
Author: Vincent <vincentpoon@gmail.com>
Date:   Fri Jul 14 17:16:40 2017 -0700

    PHOENIX-3948 Enable shorter time outs for server-side index writes
    
    Signed-off-by: gjacoby <gjacoby@apache.org>

 .../apache/phoenix/end2end/index/MutableIndexFailureIT.java |  5 +++--
 .../main/java/org/apache/phoenix/hbase/index/Indexer.java   | 11 +++++++++++
 .../apache/phoenix/hbase/index/write/IndexWriterUtils.java  | 13 ++++++++++++-
 3 files changed, 26 insertions(+), 3 deletions(-)

commit 48341ae3fcc645aa7f559ae98606c522c563268d
Author: Samarth Jain <samarth@apache.org>
Date:   Mon Jul 17 10:15:42 2017 -0700

    PHOENIX-4027 Addendum - move testRebuildIndexConnectionProperties to its own class. Fix typo for number of rpc retries

 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  65 ----------
 .../end2end/RebuildIndexConnectionPropsIT.java     | 132 +++++++++++++++++++++
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   6 +-
 4 files changed, 135 insertions(+), 70 deletions(-)

commit b2ab339a1690384c89d928c9dd3244d7518a8033
Author: Geoffrey Jacoby <geoffrey.jacoby@careerbuilder.com>
Date:   Thu Jul 13 18:43:29 2017 -0700

    PHOENIX-4021 - Remove CachingHTableFactory

 .../hbase/index/table/CachingHTableFactory.java    | 184 ---------------------
 .../index/write/ParallelWriterIndexCommitter.java  |  11 +-
 .../TrackingParallelWriterIndexCommitter.java      |  11 +-
 .../index/write/TestCachingHTableFactory.java      |  69 --------
 .../phoenix/hbase/index/write/TestIndexWriter.java |   6 +-
 .../hbase/index/write/TestParalleIndexWriter.java  |   4 +-
 .../write/TestParalleWriterIndexCommitter.java     |   4 +-
 7 files changed, 15 insertions(+), 274 deletions(-)

commit 18ea6edc00029e7e900ad95562fa73da0e5ccf51
Author: Samarth Jain <samarth@apache.org>
Date:   Sun Jul 16 00:52:07 2017 -0700

    PHOENIX-3994 Addendum - set index rpc controller factory for transactional indexer

 .../phoenix/index/PhoenixTransactionalIndexer.java     | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit bf83b8dd65d8c0110456d352bed96fa18676886a
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Jul 15 11:24:34 2017 -0700

    PHOENIX-4030 Decrease TEAR_DOWN_THRESHOLD in ParallelRunListener to prevent OOM in tests

 .../src/it/java/org/apache/phoenix/end2end/ParallelRunListener.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d541d6f2875a590580e8ccf05f26795083b06658
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Jul 14 17:56:16 2017 -0700

    PHOENIX-4027 Mark index as disabled during partial rebuild after configurable amount of time

 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  6 ---
 .../end2end/index/MutableIndexFailureIT.java       |  3 ++
 .../coprocessor/MetaDataRegionObserver.java        | 60 ++++++++++++----------
 .../org/apache/phoenix/query/QueryServices.java    |  2 +
 .../apache/phoenix/query/QueryServicesOptions.java |  4 +-
 5 files changed, 41 insertions(+), 34 deletions(-)

commit 3477977f3589e5458013715652953a6aa1697814
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Jul 14 14:24:35 2017 -0700

    PHOENIX-4024 Renew lease thread names should be unique across various ConnectionQueryServices instances

 .../phoenix/query/ConnectionQueryServicesImpl.java | 25 +++++++++++++++++-----
 1 file changed, 20 insertions(+), 5 deletions(-)

commit ce52c37f0b22c35a98d50193ed5647e44eb27e0b
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jul 13 18:47:02 2017 -0700

    PHOENIX-3947 Increase scan time out for partial index rebuild and retry only once

 .../apache/phoenix/end2end/ConnectionUtilIT.java   |   2 -
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  70 +++++++++++
 .../end2end/index/MutableIndexFailureIT.java       | 102 ++++++++++-----
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   4 +-
 .../coprocessor/MetaDataRegionObserver.java        | 139 ++++++++++++++++-----
 .../phoenix/mapreduce/util/ConnectionUtil.java     |   4 +-
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |   5 +
 .../org/apache/phoenix/util/PropertiesUtil.java    |  28 +++--
 .../java/org/apache/phoenix/util/QueryUtil.java    |  61 +++++++--
 .../apache/phoenix/util/PropertiesUtilTest.java    |  19 ++-
 .../phoenix/hive/util/PhoenixConnectionUtil.java   |   2 +-
 12 files changed, 342 insertions(+), 99 deletions(-)

commit 8a34de7a4c74584f5fb3a7ab9aaa64fd6269717b
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jul 13 12:53:49 2017 -0700

    PHOENIX-3994 Index RPC priority still depends on the controller factory property in hbase-site.xml

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |   3 +-
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  17 ++-
 .../hbase/ipc/controller/IndexRpcController.java   |   6 ++
 ...InterRegionServerIndexRpcControllerFactory.java |  65 ++++++++++++
 ...erRegionServerMetadataRpcControllerFactory.java |  62 +++++++++++
 .../ipc/controller/MetadataRpcController.java      |   5 +
 .../ipc/controller/ServerRpcControllerFactory.java |  42 ++------
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  13 +--
 .../DelegateRegionCoprocessorEnvironment.java      | 114 +++++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          |  27 ++++-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  22 ++--
 .../hbase/index/write/IndexWriterUtils.java        |  84 +++++++++++++--
 .../index/write/ParallelWriterIndexCommitter.java  |   4 +-
 .../org/apache/phoenix/util/PropertiesUtil.java    |  20 ++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   5 -
 16 files changed, 407 insertions(+), 86 deletions(-)

commit f2eac858eab64fda3eacf7f6e1b2ab9656bf4cfa
Author: shiwang <shiwang@us.ibm.com>
Date:   Sun Jun 25 23:27:31 2017 -0700

    PHOENIX-3598 Implement HTTP parameter impersonation for PQS
    
    Includes some ITs for PQS by elserj.
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 phoenix-queryserver/pom.xml                        |  10 +
 .../HttpParamImpersonationQueryServerIT.java       | 434 +++++++++++++++++++++
 .../phoenix/end2end/SecureQueryServerIT.java       | 320 +++++++++++++++
 .../src/it/resources/log4j.properties              |   9 +-
 .../phoenix/queryserver/server/QueryServer.java    |  75 +++-
 .../server/PhoenixRemoteUserExtractorTest.java     | 108 +++++
 9 files changed, 961 insertions(+), 5 deletions(-)

commit 64b9a6c5d5aacb13cd2a0fd65589435f7acd155a
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jul 12 17:43:01 2017 -0700

    Revert "PHOENIX-4016 Comment out handler count overrides and reduce number of forked JVMs in tests"
    
    This reverts commit 06c10dc391220da8e54f0191bef1c9b8b702f651.

 .../java/org/apache/phoenix/query/BaseTest.java    | 26 +++++++++++-----------
 pom.xml                                            | 10 ++++-----
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 06c10dc391220da8e54f0191bef1c9b8b702f651
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jul 12 11:48:52 2017 -0700

    PHOENIX-4016 Comment out handler count overrides and reduce number of forked JVMs in tests

 .../java/org/apache/phoenix/query/BaseTest.java    | 26 +++++++++++-----------
 pom.xml                                            | 10 ++++-----
 2 files changed, 18 insertions(+), 18 deletions(-)

commit e05b7cdd3286d7021d5836ecf7446a1c2aed0b9c
Author: Thomas <tdsilva@salesforce.com>
Date:   Sat Jul 8 11:22:03 2017 -0700

    PHOENIX-3978 Expose mutation failures in our metrics

 .../apache/phoenix/execute/PartialCommitIT.java    |  23 ++-
 .../phoenix/monitoring/PhoenixMetricsIT.java       | 180 +++++++++++----------
 .../org/apache/phoenix/execute/MutationState.java  |  25 ++-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   7 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   5 +-
 .../apache/phoenix/monitoring/AtomicMetric.java    |  11 +-
 .../phoenix/monitoring/CombinableMetric.java       |  12 +-
 .../phoenix/monitoring/CombinableMetricImpl.java   |  11 +-
 .../phoenix/monitoring/GlobalClientMetrics.java    |   2 +
 .../phoenix/monitoring/GlobalMetricImpl.java       |  11 +-
 .../java/org/apache/phoenix/monitoring/Metric.java |  10 +-
 .../org/apache/phoenix/monitoring/MetricType.java  |  96 ++++++-----
 .../phoenix/monitoring/MutationMetricQueue.java    |  25 ++-
 .../apache/phoenix/monitoring/NonAtomicMetric.java |  13 +-
 .../phoenix/monitoring/OverAllQueryMetrics.java    |  16 +-
 .../apache/phoenix/monitoring/ReadMetricQueue.java |   8 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  71 ++++++--
 .../org/apache/phoenix/metrics/MetricTypeTest.java |  42 +++++
 18 files changed, 348 insertions(+), 220 deletions(-)

commit caeaec8355023ce93656f56ad6dfa77d5dbc3517
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jul 12 11:03:05 2017 -0700

    PHOENIX-4015 Change UpsertSelectIT to extend ParallelStatsDisabledIT

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 255 +++++++++++----------
 .../java/org/apache/phoenix/query/BaseTest.java    |   6 +-
 2 files changed, 144 insertions(+), 117 deletions(-)

commit 4aac7fce629109d653384abcad38d48e15abb079
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jul 12 00:25:37 2017 -0700

    Revert "PHOENIX-3994 Index RPC priority still depends on the controller factory property in hbase-site.xml"

 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  7 +-
 .../hbase/index/write/IndexWriterUtils.java        | 86 +++-------------------
 .../index/write/ParallelWriterIndexCommitter.java  |  4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 +
 4 files changed, 19 insertions(+), 80 deletions(-)

commit b7b571b7db0c58ff488e435d5a3cf6c45a41fe86
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jul 11 13:57:28 2017 -0400

    PHOENIX-4011 Use more reasonable branch names for Phoenix and Hadoop versions

 dev/test-patch.properties | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit c9bc3a7e5e380b0f6225091429976c8d705d15d1
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Jul 11 11:04:19 2017 -0700

    PHOENIX-3994 Index RPC priority still depends on the controller factory property in hbase-site.xml

 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  7 +-
 .../hbase/index/write/IndexWriterUtils.java        | 86 +++++++++++++++++++---
 .../index/write/ParallelWriterIndexCommitter.java  |  4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 -
 4 files changed, 80 insertions(+), 19 deletions(-)

commit a752cd14851f1b1730c0ea3043a6dd0017fac5fc
Author: Samarth Jain <samarth@apache.org>
Date:   Tue Jul 11 10:59:02 2017 -0700

    PHOENIX-4000 Increase zookeeper session timeout in tests to prevent region server aborts

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b0109feb92fdd9e19bb6f70412d0c476ec60d3d4
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jul 7 16:38:49 2017 +0530

    PHOENIX-3944 ReadOnlyTableException occurs when we map Phoenix view to an existing HBase table with Namespace Mapping enabled (Toshihiro Suzuki)

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 60 ++++++++++++++++--
 .../end2end/IndexToolForPartialBuildIT.java        |  8 +--
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  4 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  8 +--
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 24 +++++++-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 72 ++++++++++++++++++++++
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  6 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  8 +--
 .../phoenix/compile/TupleProjectionCompiler.java   |  2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  8 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 36 +++++------
 .../org/apache/phoenix/schema/MetaDataClient.java  |  4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  7 ++-
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 23 ++++---
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  7 ++-
 15 files changed, 216 insertions(+), 61 deletions(-)

commit f5f32e3b8d111b47c3f5c83f4dfff4e4e7af6863
Author: Thomas <tdsilva@salesforce.com>
Date:   Wed Jul 5 19:17:26 2017 -0700

    PHOENIX-3986 UngroupedAggregateRegionObserver.commitBatch() should set the index metadata as an attribute on every mutation

 .../execute/UpsertSelectOverlappingBatchesIT.java  | 153 +++++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          |  58 ++++----
 .../java/org/apache/phoenix/util/ServerUtil.java   |   4 +-
 3 files changed, 183 insertions(+), 32 deletions(-)

commit 77509422266adfc190892bd57faf8b81b072519e
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jul 6 13:56:27 2017 -0700

    PHOENIX-3938 Don't throw IOException out of coprocessor hooks

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 14 ++++---
 .../coprocessor/ServerCachingEndpointImpl.java     | 48 +++++++++++-----------
 .../UngroupedAggregateRegionObserver.java          |  2 +
 3 files changed, 36 insertions(+), 28 deletions(-)

commit 84c825066ac44515b7c3f445bdef8828153d48ff
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu Jul 6 11:09:20 2017 -0700

    PHOENIX-3734 Refactor Phoenix to use TAL instead of direct calls to Tephra (addendum)

 .../java/org/apache/phoenix/transaction/TephraTransactionContext.java   | 2 --
 1 file changed, 2 deletions(-)

commit 5c43b347a4cd2c3c38b28bee2983e716460e50db
Author: chenglei <chenglei@apache.org>
Date:   Fri Jun 30 16:57:00 2017 +0800

    PHOENIX-3964 Index.preWALRestore should handle index write failure

 phoenix-core/src/main/java/org/apache/phoenix/hbase/index/Indexer.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef7851fd06fb031a4b03996c79e01b67f8cca2ae
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 28 13:30:43 2017 -0700

    PHOENIX-3981 Ensure iterators are closed for join plans

 .../org/apache/phoenix/execute/HashJoinPlan.java   | 102 ++++++++++++---------
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  32 ++++++-
 2 files changed, 89 insertions(+), 45 deletions(-)

commit 21d648a9282579a6f1d03b9c97df120a1355dbaf
Author: Thomas <tdsilva@salesforce.com>
Date:   Tue Jun 27 20:02:22 2017 -0700

    PHOENIX-3980 Wrap iterator returned by BaseQueryPlan so that it always closes dependencies

 .../end2end/ConnectionQueryServicesTestImpl.java   |  4 +--
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 33 ++++++++++++----------
 2 files changed, 20 insertions(+), 17 deletions(-)

commit 3c68a87ef80d1443d2abfaa8e485a00f9780adbc
Author: Ohad Shacham <ohads@yahoo-inc.com>
Date:   Sun Jun 25 10:55:10 2017 +0300

    Connect TAL to Phoenix

 .../apache/phoenix/execute/PartialCommitIT.java    |   4 +-
 .../apache/phoenix/tx/FlappingTransactionIT.java   |  41 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |   7 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  21 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  63 +--
 .../apache/phoenix/cache/IndexMetaDataCache.java   |   7 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   2 +
 .../coprocessor/PhoenixTransactionalProcessor.java |   4 +-
 .../UngroupedAggregateRegionObserver.java          |   6 +-
 .../org/apache/phoenix/execute/MutationState.java  | 374 +++++----------
 .../org/apache/phoenix/index/IndexMaintainer.java  |   4 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |  15 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  14 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  35 +-
 .../iterate/NonAggregateRegionScannerFactory.java  |   6 +-
 .../phoenix/iterate/RegionScannerFactory.java      |   4 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   4 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 -
 .../phoenix/query/ConnectionQueryServicesImpl.java |  62 +--
 .../query/ConnectionlessQueryServicesImpl.java     |  15 +-
 .../query/DelegateConnectionQueryServices.java     |   6 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   6 +-
 .../transaction/OmidTransactionContext.java        | 174 +++++++
 .../phoenix/transaction/OmidTransactionTable.java  | 364 +++++++++++++++
 .../transaction/PhoenixTransactionContext.java     | 191 ++++++++
 .../transaction/PhoenixTransactionalTable.java     | 149 ++++++
 .../transaction/TephraTransactionContext.java      | 516 +++++++++++++++++++++
 .../transaction/TephraTransactionTable.java        | 350 ++++++++++++++
 .../phoenix/transaction/TransactionFactory.java    | 143 ++++++
 .../java/org/apache/phoenix/util/IndexUtil.java    |   4 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   4 +-
 .../org/apache/phoenix/util/TransactionUtil.java   |  31 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  68 +--
 34 files changed, 2179 insertions(+), 521 deletions(-)

commit 9a65ee9bcac4f270c1f7f46346f18ed539928d68
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 21 22:45:52 2017 -0700

    PHOENIX-3971 Disable assertion in ConnectionQueryServicesTestImpl to get builds passing

 .../org/apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3093e9bd0e5b72787236b798b5488c0ce82f7288
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 21 17:14:33 2017 -0700

    PHOENIX-3968 Region boundary with key smaller than fixed width size causes skip scan filter to fail

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 88 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/RowKeySchema.java    |  4 +-
 2 files changed, 91 insertions(+), 1 deletion(-)

commit d0fd931e614f71eddf4670e9454b96125b6af2b8
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jun 21 11:36:07 2017 -0700

    Set version to 4.12.0-HBase-1.3-SNAPSHOT after release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit fba5fa28a03279e3fc427de800774690d280edca
Author: Samarth Jain <samarth@apache.org>
Date:   Mon Jun 19 13:54:39 2017 -0700

    PHOENIX-3930 Move BaseQueryIT to ParallelStatsDisabledIT (Samarth Jain & James Taylor)

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 68 +++++++------------
 .../apache/phoenix/end2end/CaseStatementIT.java    |  3 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       | 49 +++++++-------
 .../end2end/ColumnProjectionOptimizationIT.java    |  1 -
 .../java/org/apache/phoenix/end2end/GroupByIT.java | 41 ++++-------
 .../org/apache/phoenix/end2end/MutableQueryIT.java | 15 +---
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  2 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java | 37 ++++------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 79 ++++++++++++++--------
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  9 ---
 14 files changed, 137 insertions(+), 175 deletions(-)

commit 98db5d63bd3572328da6ba52ba53357f692c6222
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Jun 16 10:59:45 2017 -0700

    PHOENIX-3942 Fix failing PhoenixMetricsIT test

 .../phoenix/iterate/ScanningResultIterator.java    | 44 ++++++++++++++++------
 1 file changed, 33 insertions(+), 11 deletions(-)

commit 64121a3c403a3c5206174b33b3c8762d530279f0
Author: Josh Elser <elserj@apache.org>
Date:   Thu Jun 15 13:34:43 2017 -0700

    PHOENIX-3940 Handle PERCENTILE_CONT against no rows

 .../org/apache/phoenix/end2end/PercentileIT.java   | 29 ++++++++++++++++++++++
 .../aggregator/PercentileClientAggregator.java     |  6 ++++-
 2 files changed, 34 insertions(+), 1 deletion(-)

commit de6fbc4e2a13cdc482cbc1c91e51c4bc526aa12f
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 14 12:44:03 2017 -0700

    PHOENIX-3937 Remove @AfterClass methods from test classes annotated with @NeedsOwnMiniClusterTest

 .../apache/phoenix/end2end/ConnectionUtilIT.java   |  8 ---
 .../phoenix/end2end/ContextClassloaderIT.java      |  9 ----
 .../apache/phoenix/end2end/IndexExtendedIT.java    |  5 --
 .../apache/phoenix/end2end/LikeExpressionIT.java   | 62 +++++++++++++++++++++-
 .../end2end/index/MutableIndexFailureIT.java       |  1 -
 .../end2end/index/MutableIndexReplicationIT.java   | 13 -----
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  5 --
 .../covered/example/EndToEndCoveredIndexingIT.java |  5 --
 .../covered/example/FailWithoutRetriesIT.java      |  5 --
 .../phoenix/iterate/ScannerLeaseRenewalIT.java     |  9 ----
 10 files changed, 61 insertions(+), 61 deletions(-)

commit 993164b6388a263f1931eae624693e30bf848d29
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu Jun 8 11:20:28 2017 -0700

    PHOENIX-3918 Ensure all function implementations handle null args correctly

 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 15 ++++++++++++
 .../apache/phoenix/end2end/EncodeFunctionIT.java   | 20 ++++++++++++++++
 .../end2end/OctetLengthFunctionEnd2EndIT.java      |  9 ++++----
 .../java/org/apache/phoenix/end2end/StringIT.java  | 27 ++++++++++++++++++++++
 .../expression/function/CoalesceFunction.java      |  2 +-
 .../expression/function/FloorDateExpression.java   | 11 +++++----
 .../expression/function/GetBitFunction.java        |  1 +
 .../expression/function/GetByteFunction.java       |  1 +
 .../phoenix/expression/function/LowerFunction.java |  6 +++--
 .../phoenix/expression/function/LpadFunction.java  | 11 +++++----
 .../phoenix/expression/function/MD5Function.java   |  3 ++-
 .../expression/function/OctetLengthFunction.java   |  1 +
 .../expression/function/RegexpReplaceFunction.java |  9 ++++++++
 .../function/RoundDecimalExpression.java           |  9 +++++---
 .../function/RoundTimestampExpression.java         | 11 +++++----
 .../expression/function/SetBitFunction.java        |  3 +++
 .../expression/function/SetByteFunction.java       |  2 ++
 .../phoenix/expression/function/SignFunction.java  |  3 +++
 .../expression/function/SubstrFunction.java        | 13 +++++++++--
 .../expression/OctetLengthFunctionTest.java        |  7 +++++-
 20 files changed, 138 insertions(+), 26 deletions(-)

commit 489a945159e08e663dc73d3cd51568e6ba0a0f38
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 14 11:19:58 2017 -0700

    PHOENIX-3890 Disable EncodedQualifierCellsList optimization for tables with more than one column family

 .../apache/phoenix/end2end/MultiCfQueryExecIT.java | 69 ++++++++++++++++++++++
 .../apache/phoenix/util/EncodedColumnsUtil.java    |  5 +-
 2 files changed, 73 insertions(+), 1 deletion(-)

commit 4196c64b9d29827d0208cd47de6f95697a63c372
Author: Samarth Jain <samarth@apache.org>
Date:   Sat Jun 10 14:41:30 2017 -0700

    PHOENIX-3932 MutableIndexFailureIT doesn't need a teardown method

 .../java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java | 5 -----
 1 file changed, 5 deletions(-)

commit 616cd057d3c7d587aafe278948f8cff84efc9d29
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Mar 7 22:20:51 2017 -0800

    PHOENIX-3708 Tests introduced in PHOENIX-3346 doesn't work well with failsafe plugin

 phoenix-hive/pom.xml                               | 38 ++++++++++++++--------
 .../phoenix/hive/BaseHivePhoenixStoreIT.java       |  2 +-
 .../org/apache/phoenix/hive/HiveMapReduceIT.java   |  1 -
 .../java/org/apache/phoenix/hive/HiveTestUtil.java |  9 +++--
 .../it/java/org/apache/phoenix/hive/HiveTezIT.java |  1 -
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |  4 +--
 6 files changed, 33 insertions(+), 22 deletions(-)

commit 4c11818429f437e4c926ba2a84c6ef67957ae506
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jun 9 17:20:28 2017 -0700

    Set version to 4.11.0-HBase-1.3 for release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit 8312487cdedba84acd5c777c7f4150ce1f4747cd
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jun 9 17:18:08 2017 -0700

    Pre-RC validation - Add missing license headers

 .../phoenix/end2end/TableSnapshotReadsMapReduceIT.java | 18 ++++++++++++++++++
 .../iterate/NonAggregateRegionScannerFactory.java      | 18 ++++++++++++++++++
 .../apache/phoenix/iterate/RegionScannerFactory.java   | 18 ++++++++++++++++++
 .../org/apache/phoenix/iterate/SnapshotScanner.java    | 18 ++++++++++++++++++
 .../phoenix/iterate/TableSnapshotResultIterator.java   | 18 ++++++++++++++++++
 .../org/apache/phoenix/pherf/configuration/Ddl.java    | 18 ++++++++++++++++++
 6 files changed, 108 insertions(+)

commit 59f1a2839480cdc77ffb0c6742986ffff3b91bba
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 9 16:53:57 2017 -0700

    PHOENIX-3812 Use HBase snapshots in async index building M/R job (Akshita Malhotra)

 .../apache/phoenix/end2end/IndexExtendedIT.java    | 23 +++++++----
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  7 ++++
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 45 ++++++++++++++++++----
 3 files changed, 60 insertions(+), 15 deletions(-)

commit cd49ba7eef11bc748be3619ad3d6c1dd0f0699ea
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jun 9 14:31:14 2017 -0700

    PHOENIX-3898 Empty result set after split with local index on multi-tenant table(Rajeshbabu)

 .../index/MutableIndexSplitForwardScanIT.java      |  4 +--
 .../phoenix/end2end/index/MutableIndexSplitIT.java | 10 ++++---
 .../index/MutableIndexSplitReverseScanIT.java      |  4 +--
 .../org/apache/phoenix/index/IndexMaintainer.java  | 31 ++++------------------
 4 files changed, 15 insertions(+), 34 deletions(-)

commit edad3503df2665ce2fbc54a3e3215a20b751f2a3
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 9 12:04:51 2017 -0700

    Revert "PHOENIX-3930 Move BaseQueryIT to ParallelStatsDisabledIT"
    
    This reverts commit 95f7a3ec879e9ee59e7a83eb4aab72d15fb416b7.

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 60 +++++++++------
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       | 42 +++++------
 .../end2end/ColumnProjectionOptimizationIT.java    |  1 +
 .../java/org/apache/phoenix/end2end/GroupByIT.java | 39 ++++++----
 .../org/apache/phoenix/end2end/MutableQueryIT.java | 14 +++-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  2 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java | 37 ++++++----
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 85 +++++++---------------
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  9 +++
 14 files changed, 167 insertions(+), 132 deletions(-)

commit d790ed2515508f416c1e57a9cecc273d77e2acff
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 9 11:35:08 2017 -0700

    PHOENIX-3931 Increase timeout for TestNonTxIndexBuilder.testManyVersions

 .../org/apache/phoenix/hbase/index/covered/TestNonTxIndexBuilder.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f46e9d0d043b9368b5662e2235104fb50e073ded
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 8 17:09:49 2017 -0700

    PHOENIX-3917 RowProjector#getEstimatedRowByteSize() returns incorrect value (Biju Nair)

 .../apache/phoenix/compile/ProjectionCompiler.java | 47 ++++++++++++----------
 1 file changed, 25 insertions(+), 22 deletions(-)

commit 95f7a3ec879e9ee59e7a83eb4aab72d15fb416b7
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 9 10:28:06 2017 -0700

    PHOENIX-3930 Move BaseQueryIT to ParallelStatsDisabledIT

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 60 ++++++---------
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       | 42 +++++------
 .../end2end/ColumnProjectionOptimizationIT.java    |  1 -
 .../java/org/apache/phoenix/end2end/GroupByIT.java | 39 ++++------
 .../org/apache/phoenix/end2end/MutableQueryIT.java | 14 +---
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  2 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java | 37 ++++------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 85 +++++++++++++++-------
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  2 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  9 ---
 14 files changed, 132 insertions(+), 167 deletions(-)

commit 881c1c6547f2f0fd96b98d6002ee2c17e3f0e519
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 8 21:30:30 2017 -0700

    PHOENIX-3927 Upgrade to surefire/failsafe version 2.20

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b9bb918610c04e21b27df8d3fe1c42df508a96f0
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jun 8 14:36:57 2017 -0700

    PHOENIX-3926 Do not use EncodedColumnQualifierCellsList optimization when doing raw scans

 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java | 4 ++--
 .../src/main/java/org/apache/phoenix/util/EncodedColumnsUtil.java | 8 ++++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 9b402043896fdeb78a236542bddf88e4a7f300e7
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 8 12:56:28 2017 -0700

    PHOENIX-3925 Disallow usage of ON DUPLICATE KEY clause on tables with global secondary indexes

 .../org/apache/phoenix/end2end/OnDuplicateKeyIT.java    |  6 ------
 .../java/org/apache/phoenix/compile/UpsertCompiler.java |  9 +++++++--
 .../org/apache/phoenix/exception/SQLExceptionCode.java  |  1 +
 .../main/java/org/apache/phoenix/util/SchemaUtil.java   | 12 ++++++++++--
 .../org/apache/phoenix/compile/QueryCompilerTest.java   | 17 +++++++++++++++--
 5 files changed, 33 insertions(+), 12 deletions(-)

commit 75401fcfc8c98f8894d49a66b96cd726d7aba925
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jun 8 12:16:50 2017 -0700

    Revert "PHOENIX-3917 RowProjector#getEstimatedRowByteSize() returns incorrect value (Biju Nair)"
    
    This reverts commit 402f99ddc82ac49020b2a871377d6aabf3f9fa72.

 .../apache/phoenix/compile/ProjectionCompiler.java | 140 +++++++--------------
 1 file changed, 46 insertions(+), 94 deletions(-)

commit 7e26add9c75beefdf260bed0e9180673bc3be136
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 8 11:21:00 2017 -0700

    PHOENIX-3923 TimezoneOffsetFunctionIT failing after PHOENIX-3913

 .../phoenix/expression/function/TimezoneOffsetFunction.java   | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 9e085f905b39e9fb5c6936a2bcf41d209bcb46d1
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jun 8 11:06:17 2017 -0700

    PHOENIX-3922 Update driver version to 4.11.0

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 402f99ddc82ac49020b2a871377d6aabf3f9fa72
Author: Samarth Jain <samarth@apache.org>
Date:   Thu Jun 8 10:47:16 2017 -0700

    PHOENIX-3917 RowProjector#getEstimatedRowByteSize() returns incorrect value (Biju Nair)

 .../apache/phoenix/compile/ProjectionCompiler.java | 140 ++++++++++++++-------
 1 file changed, 94 insertions(+), 46 deletions(-)

commit 7cb16d4dd7f5fe11a10dfe4a58eb2bced313b6c1
Author: Thomas <tdsilva@salesforce.com>
Date:   Tue Jun 6 16:06:36 2017 -0700

    PHOENIX-3907 Use LATEST_TIMESTAMP when UPDATE_CACHE_FREQUENCY is not zero

 .../java/org/apache/phoenix/compile/CreateTableCompiler.java     | 2 +-
 .../main/java/org/apache/phoenix/compile/StatementContext.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java  | 2 +-
 .../src/main/java/org/apache/phoenix/schema/TableRef.java        | 9 ++++++++-
 4 files changed, 11 insertions(+), 4 deletions(-)

commit 65bd849becbe961bf63c1ac1d88f0cc6a4201931
Author: Samarth Jain <samarth@apache.org>
Date:   Wed Jun 7 12:01:08 2017 -0700

    PHOENIX-3836 Estimated row count is twice the actual row count when stats are updated via major compaction

 .../apache/phoenix/end2end/StatsCollectorIT.java   | 62 ++++++++++++++++++++++
 .../schema/stats/DefaultStatisticsCollector.java   | 17 ++++--
 2 files changed, 76 insertions(+), 3 deletions(-)

commit 9095b3ec87aef45138d62e5bbffdafee3e934d38
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jun 7 10:15:13 2017 -0700

    PHOENIX-3773 Support FIRST_VALUES and LAST_VALUES aggregate function to retrieve n values (Loknath Priyatham Teja Singamsetty)

 .../phoenix/end2end/FirstValuesFunctionIT.java     | 638 ++++++++++++++++++++
 .../phoenix/end2end/LastValuesFunctionIT.java      | 640 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   6 +-
 .../FirstLastValueBaseClientAggregator.java        |  65 ++-
 .../aggregator/FirstLastValueServerAggregator.java |  13 +-
 .../expression/function/FirstValueFunction.java    |   2 +-
 .../expression/function/FirstValuesFunction.java   |  97 ++++
 .../expression/function/LastValueFunction.java     |   2 +-
 .../expression/function/LastValuesFunction.java    |  97 ++++
 .../expression/function/NthValueFunction.java      |   4 +-
 .../parse/FirstValuesAggregateParseNode.java       |  38 ++
 .../parse/LastValuesAggregateParseNode.java        |  38 ++
 .../util/FirstLastNthValueDataContainer.java       |   7 +-
 13 files changed, 1619 insertions(+), 28 deletions(-)

commit c93de246638b778260484c6ba32ab1cf9f5a253b
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jun 6 18:38:49 2017 -0700

    PHOENIX-3913 Support PArrayDataType.appendItemToArray to append item to array when null or empty

 .../phoenix/end2end/ArrayAppendFunctionIT.java     | 42 +++++++++++++++++--
 .../phoenix/end2end/ArrayConcatFunctionIT.java     | 39 +++++++++++++++---
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  4 +-
 .../expression/ProjectedColumnExpression.java      |  7 +++-
 .../phoenix/expression/StringConcatExpression.java |  3 ++
 .../expression/function/ArrayConcatFunction.java   | 12 ++++--
 .../expression/function/ArrayModifierFunction.java |  2 -
 .../function/ConvertTimezoneFunction.java          | 10 +++++
 .../expression/function/EncodeFunction.java        |  5 ++-
 .../phoenix/iterate/FilterResultIterator.java      |  5 +--
 .../phoenix/schema/types/PArrayDataType.java       | 48 ++++++++++++++++++++--
 .../schema/types/PArrayDataTypeEncoder.java        |  6 +--
 .../expression/ArrayConcatFunctionTest.java        | 27 +++++++++++-
 13 files changed, 180 insertions(+), 30 deletions(-)

commit dbd70f56d1926bf94bb444c918c56671c30a41e8
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jun 6 16:12:16 2017 -0700

    PHOENIX-3910 Tests in UpgradeIT failing after PHOENIX-3823 (Maddineni Sukumar)

 .../src/main/java/org/apache/phoenix/compile/FromCompiler.java   | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit fbe6ee22d8a6bafa325a56ee7282fa77253b7e07
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jun 6 12:59:52 2017 -0700

    PHOENIX-3797 Local Index - Compaction fails on table with local index due to non-increasing bloom keys

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 17 +++--
 .../DataTableLocalIndexRegionScanner.java          | 77 +++++++++++++++++-----
 .../IndexHalfStoreFileReaderGenerator.java         | 17 ++++-
 .../UngroupedAggregateRegionObserver.java          |  6 +-
 .../java/org/apache/phoenix/util/RepairUtil.java   |  7 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   |  5 ++
 6 files changed, 96 insertions(+), 33 deletions(-)

commit b1f0bf75e6c4883d85e20ed700a109f1ec9b91d3
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jun 6 11:54:33 2017 -0700

    PHOENIX-3868 Pherf - Create sync/async index as part of a scenario

 .../org/apache/phoenix/pherf/DataIngestIT.java     | 19 ++++++
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java |  4 +-
 .../phoenix/pherf/configuration/DataModel.java     |  1 +
 .../apache/phoenix/pherf/configuration/Ddl.java    | 50 +++++++++++++++
 .../phoenix/pherf/configuration/Scenario.java      | 49 +++++++++-----
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 75 ++++++++++++++++++++--
 .../phoenix/pherf/workload/WriteWorkload.java      | 14 ++--
 .../scenario/prod_test_unsalted_scenario.xml       | 11 +++-
 .../phoenix/pherf/ConfigurationParserTest.java     |  5 ++
 .../src/test/resources/scenario/test_scenario.xml  | 26 +++++++-
 10 files changed, 221 insertions(+), 33 deletions(-)

commit adf1c2df0ccd391f9f0e320d8137bc6f3bb35be2
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Tue Jun 6 14:48:22 2017 -0400

    PHOENIX-3903 Generate an empty javadoc for phoenix-spark (Sharanya Santhanam)

 phoenix-spark/pom.xml | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit bacaba18bd17d54ff6b24fb5e59c6ab0a6ce62f1
Author: Samarth Jain <samarth@apache.org>
Date:   Mon Jun 5 11:51:22 2017 -0700

    PHOENIX-3896 Fix test failures related to tracing changes

 .../apache/phoenix/trace/BaseTracingTestIT.java    | 130 +++++++++------------
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java |  12 +-
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  61 +++++-----
 .../apache/phoenix/trace/TraceSpanReceiver.java    |  15 ++-
 .../java/org/apache/phoenix/trace/TraceWriter.java | 128 ++++++++++----------
 .../org/apache/phoenix/trace/util/Tracing.java     |   9 +-
 ...sSourceTest.java => TraceSpanReceiverTest.java} |  15 ++-
 7 files changed, 184 insertions(+), 186 deletions(-)

commit 2d40241b5c5c0287dca3dd2e2476db328bb7e7de
Author: Samarth Jain <samarth@apache.org>
Date:   Fri Jun 2 17:25:37 2017 -0700

    PHOENIX-3904 Queries with LIKE and LIMIT OFFSET fail for mutable tables with column mapping enabled

 .../phoenix/end2end/DefaultColumnValueIT.java      |   1 -
 .../apache/phoenix/end2end/LikeExpressionIT.java   |  60 +++++++++
 .../apache/phoenix/compile/StatementContext.java   |   2 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |   2 +-
 .../phoenix/iterate/BaseResultIterators.java       | 147 +++++++++++----------
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |   3 -
 .../tuple/EncodedColumnQualiferCellsList.java      |  85 +++++++-----
 .../apache/phoenix/util/EncodedColumnsUtil.java    |  41 +++---
 .../apache/phoenix/compile/QueryOptimizerTest.java |  13 +-
 9 files changed, 218 insertions(+), 136 deletions(-)

commit faadb544857845d9520e34359c6db341ade1fe02
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 2 16:29:18 2017 -0700

    PHOENIX-3744 Support snapshot scanners for MR-based Non-aggregate queries (Akshita Malhotra)

 .../end2end/TableSnapshotReadsMapReduceIT.java     | 204 ++++++++++++
 .../coprocessor/BaseScannerRegionObserver.java     | 287 +----------------
 .../phoenix/coprocessor/ScanRegionObserver.java    | 329 +------------------
 .../phoenix/iterate/BaseResultIterators.java       |  15 +-
 .../iterate/DefaultParallelScanGrouper.java        |  64 ++--
 .../iterate/MapReduceParallelScanGrouper.java      |  67 +++-
 .../iterate/NonAggregateRegionScannerFactory.java  | 356 +++++++++++++++++++++
 .../phoenix/iterate/ParallelScanGrouper.java       |   9 +-
 .../phoenix/iterate/RegionScannerFactory.java      | 322 +++++++++++++++++++
 .../apache/phoenix/iterate/SnapshotScanner.java    | 165 ++++++++++
 .../iterate/TableSnapshotResultIterator.java       | 138 ++++++++
 .../phoenix/mapreduce/PhoenixRecordReader.java     |  40 ++-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  16 +
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  64 ++++
 .../java/org/apache/phoenix/util/IndexUtil.java    |   9 +-
 15 files changed, 1424 insertions(+), 661 deletions(-)

commit ed77c36b07dd4c0b9dcfb15589ae9b3f68edc3d2
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 2 15:39:20 2017 -0700

    PHOENIX-3908 Ensure MetaDataEntityNotFound handled for CREATE VIEW (Maddineni Sukumar)

 .../UpdateCacheAcrossDifferentClientsIT.java       | 46 ++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit 6af7b4fe552e85afc8e81eb3499998ab651706d4
Author: Josh Elser <elserj@apache.org>
Date:   Wed May 31 16:56:35 2017 -0400

    PHOENIX-3895 Upgrade to Apache Avatica 1.10.0
    
    With the Avatica Array support, Phoenix code may see an Array
    implementation which _isn't_ PhoenixArray. We can make a
    best-effort to convert the provided Array into a PhoenixArray.

 .../phoenix/schema/types/PArrayDataType.java       |  32 ++++-
 .../org/apache/phoenix/schema/types/PDataType.java |  18 ++-
 .../schema/types/PDataTypeForArraysTest.java       |  73 ++++++++++
 .../phoenix/end2end/QueryServerBasicsIT.java       | 155 ++++++++++++++++++++-
 pom.xml                                            |   2 +-
 5 files changed, 272 insertions(+), 8 deletions(-)

commit 7956fb08fc5beb8892be9ee4e005ee0f76e47f4e
Author: Thomas <tdsilva@salesforce.com>
Date:   Fri Jun 2 10:52:39 2017 -0700

    PHOENIX-3612 Make tracking of max allowed number of mutations bytes based instead of row based

 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 46 ++++++++++++++-
 .../apache/phoenix/execute/PartialCommitIT.java    |  4 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java | 16 +++---
 .../apache/phoenix/compile/PostDDLCompiler.java    |  4 +-
 .../phoenix/compile/PostLocalIndexDDLCompiler.java |  2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 14 +++--
 .../apache/phoenix/exception/SQLExceptionCode.java |  5 +-
 .../org/apache/phoenix/execute/MutationState.java  | 59 ++++++++++++--------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  9 +--
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 10 ++--
 .../query/ConnectionlessQueryServicesImpl.java     |  2 +-
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 50 ++++++++---------
 .../schema/types/PArrayDataTypeEncoder.java        | 65 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/KeyValueUtil.java | 58 +++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java |  6 +-
 17 files changed, 271 insertions(+), 81 deletions(-)

commit b1d0a8cb14c3055df0c9c9e73bcd473dd7a2b6d4
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 2 09:29:23 2017 -0700

    PHOENIX-2885 Set default value for UPDATE_CACHE_FREQUENCY (Maddineni Sukumar)

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 48 ++++++++++++++++++++++
 .../org/apache/phoenix/query/QueryServices.java    |  3 ++
 .../apache/phoenix/query/QueryServicesOptions.java |  3 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  6 ++-
 4 files changed, 58 insertions(+), 2 deletions(-)

commit e7629ca39224e7cbc49e8a7740ed96877a16df76
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 2 09:24:27 2017 -0700

    PHOENIX-3823 Force cache update on MetaDataEntityNotFoundException (Maddineni Sukumar)

 .../org/apache/phoenix/end2end/AlterTableIT.java   |   2 +-
 .../UpdateCacheAcrossDifferentClientsIT.java       | 313 ++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |   3 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  59 ++-
 .../apache/phoenix/compile/ProjectionCompiler.java |   4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 457 ++++++++++-----------
 .../org/apache/phoenix/compile/WhereCompiler.java  |   4 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  41 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   4 +-
 .../schema/ColumnFamilyNotFoundException.java      |   4 +-
 .../phoenix/schema/ColumnNotFoundException.java    |  14 +-
 .../phoenix/schema/FunctionNotFoundException.java  |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../schema/MetaDataEntityNotFoundException.java    |  20 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  26 +-
 .../phoenix/schema/SchemaNotFoundException.java    |  10 +-
 .../phoenix/schema/SequenceNotFoundException.java  |  14 +-
 .../phoenix/schema/TableNotFoundException.java     |  19 +-
 .../UpsertColumnsValuesMismatchException.java      |  41 ++
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   2 +-
 22 files changed, 714 insertions(+), 333 deletions(-)

commit 5fe660537ff28de1738c3e82b65f9a2aac8fc80b
Author: Thomas <tdsilva@salesforce.com>
Date:   Wed May 31 14:10:28 2017 -0700

    PHOENIX-3900 Backward compatibility fails with TNF exception when deleting table with a view

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 144 ++++++++++++---------
 1 file changed, 84 insertions(+), 60 deletions(-)

commit 9379344591f351cc97f9ed6d981d9c6f404bcfd2
Author: Josh Elser <elserj@apache.org>
Date:   Wed May 31 16:43:20 2017 -0400

    PHOENIX-3248 Addendum: Add missing license header

 .../apache/phoenix/monitoring/ScanMetricsHolder.java    | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 8eea55d948942c384983a82e342028b61a859bb2
Author: Josh Elser <elserj@apache.org>
Date:   Fri May 26 14:59:41 2017 -0400

    PHOENIX-3891 Compare current user to JDBC url principal with optional realm
    
    Kerberos realms can be implied (based on configuration), but our
    comparison did not take this into mind. This adds some slightly more
    intelligent parsing to lessen the burden on what the user provides.

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 46 ++++++++++++++++++++--
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    | 19 +++++++++
 2 files changed, 62 insertions(+), 3 deletions(-)

commit c6080ea55539d83c5d95b26ac19d0b3823631cb3
Author: Samarth Jain <samarth@apache.org>
Date:   Wed May 31 13:16:50 2017 -0700

    PHOENIX-3901 SpillableGroupByIT.testStatisticsAreNotWritten is failing

 .../org/apache/phoenix/schema/stats/StatisticsCollectorFactory.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b142e8815ba0869ebd8820600100d6ade770bd4d
Author: Thomas <tdsilva@salesforce.com>
Date:   Tue May 30 15:47:20 2017 -0700

    PHOENIX-3870 Backward compatibility fails between v4.9.0 and head of 4.x (4.11-SNAPSHOT)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 122 ++++++++++++++++++---
 1 file changed, 107 insertions(+), 15 deletions(-)

commit cd708bbfa589771730ace12026d755aee58e1c9e
Merge: 6d7899c4e ecd287f61
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue May 30 16:09:34 2017 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit ecd287f618470d1e34082c20feb9939cbb0ea65b
Author: Samarth Jain <samarth@apache.org>
Date:   Tue May 30 15:32:39 2017 -0700

    PHOENIX-3834 Rename property to USE_STATS_FOR_PARALLELIZATION

 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  12 +--
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 +--
 .../coprocessor/generated/PTableProtos.java        | 100 ++++++++++-----------
 .../phoenix/iterate/BaseResultIterators.java       |  10 +--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   6 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  48 +++++-----
 .../java/org/apache/phoenix/schema/PTable.java     |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  60 ++++++-------
 .../org/apache/phoenix/schema/TableProperty.java   |   6 +-
 phoenix-protocol/src/main/PTable.proto             |   2 +-
 16 files changed, 141 insertions(+), 139 deletions(-)

commit 6d7899c4e1d9ca9f10378ec307e59750599109e2
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue May 30 14:05:32 2017 -0700

    PHOENIX-3894 Update to Tephra 0.12 release

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3872648fe84426597936e67341b37dfc4a7ba44a
Author: Samarth Jain <samarth@apache.org>
Date:   Tue May 30 02:16:27 2017 -0700

    PHOENIX-3834 Provide a way to collect stats and not use it for query parallelization

 .../end2end/ExplainPlanWithStatsEnabledIT.java     |  44 ++++++++-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |   1 +
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  10 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   2 +-
 .../coprocessor/generated/PTableProtos.java        | 107 +++++++++++++++++++--
 .../phoenix/iterate/BaseResultIterators.java       |  11 ++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  10 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |  14 ++-
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  48 ++++++---
 .../java/org/apache/phoenix/schema/PTable.java     |   1 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  57 ++++++-----
 .../org/apache/phoenix/schema/TableProperty.java   |  18 ++++
 .../schema/stats/StatisticsCollectorFactory.java   |  13 ++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   2 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   1 -
 phoenix-protocol/src/main/PTable.proto             |   1 +
 26 files changed, 304 insertions(+), 64 deletions(-)

commit a21689954d611d287d15ac8cd1eac01bdadef26a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri May 26 21:46:01 2017 -0700

    Correct MutationState size estimation.

 .../UngroupedAggregateRegionObserver.java          | 24 ++++++++--------------
 .../org/apache/phoenix/execute/MutationState.java  |  3 ++-
 .../java/org/apache/phoenix/util/KeyValueUtil.java | 17 +++++++++++++++
 3 files changed, 28 insertions(+), 16 deletions(-)

commit e2ec76559b1d36fee7b696d7ee2989059e2bbe8c
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu May 25 16:18:23 2017 -0700

    PHOENIX-3784 Chunk commit data using lower of byte-based and row-count limits

 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 36 ++++++++++++++--------
 .../UngroupedAggregateRegionObserver.java          | 23 +++++++-------
 .../org/apache/phoenix/execute/MutationState.java  | 16 +++++-----
 .../org/apache/phoenix/query/QueryServices.java    |  1 -
 .../apache/phoenix/query/QueryServicesOptions.java |  5 ++-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |  1 -
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java |  2 +-
 7 files changed, 48 insertions(+), 36 deletions(-)

commit 0caecfd90685a299e11cca3df2ad8584fbdad302
Author: Samarth Jain <samarth@apache.org>
Date:   Fri May 26 10:41:51 2017 -0700

    PHOENIX-3767 Prevent spurious tracing spans from Hadoop being written in Phoenix Trace tables (Karan Mehta)

 .../it/java/org/apache/phoenix/trace/PhoenixTracingEndToEndIT.java    | 1 -
 .../src/main/java/org/apache/phoenix/trace/TraceSpanReceiver.java     | 4 ++--
 .../test/java/org/apache/phoenix/trace/TraceMetricsSourceTest.java    | 3 ++-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 7c157ec937b9cdd8d48b372709e2484fdde59338
Author: Samarth Jain <samarth@apache.org>
Date:   Fri May 26 10:36:59 2017 -0700

    PHOENIX-3752 Remove hadoop metrics integration from the tracing framework (Karan Mehta)

 .../apache/phoenix/trace/BaseTracingTestIT.java    |  66 +++++
 .../phoenix/trace/DisableableMetricsWriter.java    |  84 ------
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java |  43 ++-
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java | 180 ------------
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 223 +++++++++-----
 .../org/apache/phoenix/query/QueryServices.java    |   4 +
 .../apache/phoenix/query/QueryServicesOptions.java |  78 +++--
 .../apache/phoenix/trace/TraceMetricSource.java    | 183 ------------
 .../java/org/apache/phoenix/trace/TraceReader.java |  16 +-
 .../apache/phoenix/trace/TraceSpanReceiver.java    |  95 ++++++
 .../java/org/apache/phoenix/trace/TraceWriter.java | 323 +++++++++++++++++++++
 .../org/apache/phoenix/trace/util/Tracing.java     |  15 +-
 .../phoenix/trace/TraceMetricsSourceTest.java      |  37 +--
 13 files changed, 745 insertions(+), 602 deletions(-)

commit dc9e305b16cb71be6dd695db67779be0d7982936
Author: Samarth Jain <samarth@apache.org>
Date:   Fri May 26 09:54:40 2017 -0700

    PHOENIX-3248 Enable HBase server-side scan metrics to be returned to client and surfaced through metrics (Karan Mehta)

 .../iterate/DelayedTableResultIteratorFactory.java |  18 ++--
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  35 +++----
 .../phoenix/iterate/ChunkedResultIterator.java     |  11 ++-
 .../iterate/DefaultTableResultIteratorFactory.java |  12 ++-
 .../apache/phoenix/iterate/ParallelIterators.java  |  11 ++-
 .../phoenix/iterate/ScanningResultIterator.java    |  76 +++++++++------
 .../apache/phoenix/iterate/SerialIterators.java    |  13 ++-
 .../phoenix/iterate/TableResultIterator.java       |  11 ++-
 .../iterate/TableResultIteratorFactory.java        |   6 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |  16 +++-
 .../phoenix/monitoring/GlobalClientMetrics.java    |   7 +-
 .../org/apache/phoenix/monitoring/MetricType.java  |  17 +++-
 .../apache/phoenix/monitoring/ReadMetricQueue.java |   4 +
 .../phoenix/monitoring/ScanMetricsHolder.java      | 104 +++++++++++++++++++++
 .../hive/mapreduce/PhoenixRecordReader.java        |  11 ++-
 15 files changed, 262 insertions(+), 90 deletions(-)

commit 8826ac4ac69ba701498ac368201b9bdf26d0bbd7
Author: Samarth Jain <samarth@apache.org>
Date:   Fri May 26 09:20:59 2017 -0700

    PHOENIX-3822 Surface byte and row estimates in a machine readable way when doing EXPLAIN PLAN

 .../end2end/ExplainPlanWithStatsDisabledIT.java    | 212 ++++++++++++++++++
 .../end2end/ExplainPlanWithStatsEnabledIT.java     | 242 +++++++++++++++++++++
 .../apache/phoenix/compile/BaseMutationPlan.java   |  10 +
 .../phoenix/compile/CloseStatementCompiler.java    |   7 +-
 .../phoenix/compile/DelegateMutationPlan.java      |  10 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  49 +++++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |  10 +
 .../phoenix/compile/OpenStatementCompiler.java     |   7 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |   1 +
 .../org/apache/phoenix/compile/StatementPlan.java  |  13 ++
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  10 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  30 +++
 .../org/apache/phoenix/execute/AggregatePlan.java  |  12 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  33 ++-
 .../apache/phoenix/execute/DelegateQueryPlan.java  |  10 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  30 ++-
 .../execute/LiteralResultIterationPlan.java        |  14 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  50 ++++-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  24 ++
 .../java/org/apache/phoenix/execute/UnionPlan.java |  28 ++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  98 ++++++++-
 .../java/org/apache/phoenix/util/NumberUtil.java   |  14 ++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  15 ++
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  10 +
 26 files changed, 890 insertions(+), 53 deletions(-)

commit 068c605625ea64c0c849db3ab7eb1f87d8dc5a3e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 25 11:30:51 2017 -0700

    PHOENIX-3865 IS NULL does not return correct results when first column family not filtered against

 .../{GroupByCaseIT.java => AggregateIT.java}       | 48 ++++++++++++++-
 .../org/apache/phoenix/compile/WhereCompiler.java  | 45 ++++++++++----
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |  4 +-
 .../filter/MultiCQKeyValueComparisonFilter.java    |  4 +-
 .../MultiEncodedCQKeyValueComparisonFilter.java    | 69 +++++++++++++++++-----
 .../filter/MultiKeyValueComparisonFilter.java      | 41 +++++++++++--
 .../java/org/apache/phoenix/util/TestUtil.java     |  4 +-
 7 files changed, 177 insertions(+), 38 deletions(-)

commit 5f9cf15e272fc9d92a3165753ac2157396851bd6
Author: Thomas <tdsilva@salesforce.com>
Date:   Tue May 23 13:08:28 2017 -0700

    PHOENIX-3879 UNION ALL with subqueries that have aggregate functions on fixed length columns throw an NPE

 .../apache/phoenix/end2end/NthValueFunctionIT.java | 55 ++++++++++++++++++++++
 .../function/FirstLastValueBaseFunction.java       | 10 ++++
 2 files changed, 65 insertions(+)

commit 2398f78441256ccfcb2b9e114486e91769510ff8
Author: Samarth Jain <samarth@apache.org>
Date:   Wed May 24 09:21:18 2017 -0700

    PHOENIX-3826 Improve logging when HConnection is established(Loknath Priyatham Teja Singamsetty)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java  |  5 +++--
 .../src/main/java/org/apache/phoenix/util/LogUtil.java         | 10 ++++++++++
 2 files changed, 13 insertions(+), 2 deletions(-)

commit a2f4d7eebec621b58204a9eb78d552f18dcbcf24
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed May 24 11:21:12 2017 +0530

    PHOENIX-3827 Make use of HBASE-15600 to write local index mutations along with data mutations atomically(Rajeshbabu)

 .../end2end/IndexToolForPartialBuildIT.java        | 41 +++---------
 ...xToolForPartialBuildWithNamespaceEnabledIT.java | 13 ++--
 .../end2end/index/MutableIndexFailureIT.java       |  6 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 72 ++++++++--------------
 4 files changed, 45 insertions(+), 87 deletions(-)

commit dfb2586aff0541fd596350823512500b86e932e1
Author: gjacoby <gjacoby@salesforce.com>
Date:   Tue May 23 10:02:54 2017 -0700

    PHOENIX-3877 - Connection throttling doesn't always decrement on connection close

 .../phoenix/monitoring/PhoenixMetricsIT.java       | 28 ++++++++++++++++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 11 ++++++++-
 2 files changed, 34 insertions(+), 5 deletions(-)

commit 33d6cdab1e5eed336b7a6f56d3ebaa741893bc43
Author: Biju Nair <gs.biju@gmail.com>
Date:   Tue May 23 15:48:43 2017 -0400

    PHOENIX-3878 Add license headers missed in PHOENIX-3572
    
    Signed-off-by: gjacoby <gjacoby@apache.org>

 .../org/apache/phoenix/execute/CursorFetchPlan.java    | 18 ++++++++++++++++++
 .../main/java/org/apache/phoenix/parse/CursorName.java | 18 ++++++++++++++++++
 2 files changed, 36 insertions(+)

commit 4471b87926094b71aff12c384f4fc60f87ff2915
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon May 22 17:50:44 2017 -0700

    PHOENIX-3869 Keep index failure policies the same for 4.x branches

 .../phoenix/end2end/index/MutableIndexFailureIT.java       | 14 +++++++-------
 .../org/apache/phoenix/query/QueryServicesOptions.java     |  2 +-
 .../java/org/apache/phoenix/schema/MetaDataClient.java     |  6 ------
 3 files changed, 8 insertions(+), 14 deletions(-)

commit e27fae93191d9540574765065900a23bda90905f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed May 10 00:44:17 2017 -0700

    PHOENIX-3843 Improve logging for UNION ALL errors

 .../org/apache/phoenix/compile/UnionCompiler.java  |  7 +++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 47 ++++++++++++++++++++++
 2 files changed, 52 insertions(+), 2 deletions(-)

commit bd27512666904a727adcd71b13725b02e655902b
Author: chenglei <chenglei@apache.org>
Date:   Fri May 19 19:24:21 2017 +0800

    PHOENIX-3850 Indexer.postOpen should not always log 'Found some outstanding index updates that didn't succeed'

 .../src/main/java/org/apache/phoenix/hbase/index/Indexer.java       | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 21fb0b31b46da3b7cc27265467d83a1b4cd5c5c5
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 18 10:14:01 2017 -0700

    PHOENIX-3858 Index maintenance not required for local indexes of table with immutable rows

 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  19 +++-
 .../hbase/index/covered/LocalTableState.java       |  20 ++--
 .../hbase/index/covered/NonTxIndexBuilder.java     |   3 +
 .../phoenix/hbase/index/covered/TableState.java    |   3 +-
 .../covered/example/CoveredColumnIndexCodec.java   |  14 +--
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   4 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   3 +-
 .../hbase/index/covered/TestLocalTableState.java   | 118 ++++++++++++++++++---
 8 files changed, 151 insertions(+), 33 deletions(-)

commit 0e652b6ecd9081ddfddc32854a08fc68684e8958
Author: Samarth Jain <samarth@apache.org>
Date:   Wed May 17 12:18:02 2017 -0700

    PHOENIX-3840 Functions extending FirstLastValueBaseFunction returning NAME as null instead of actual function name ( Loknath Priyatham Teja Singamsetty)

 .../expression/function/FirstLastValueBaseFunction.java        | 10 ++--------
 .../apache/phoenix/expression/function/FirstValueFunction.java |  6 ++++++
 .../apache/phoenix/expression/function/LastValueFunction.java  |  6 ++++++
 .../apache/phoenix/expression/function/NthValueFunction.java   |  8 +++++++-
 4 files changed, 21 insertions(+), 9 deletions(-)

commit 2cb617f352048179439d242d1165a9ffb39ad81c
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed May 17 12:56:42 2017 +0530

    PHOENIX-3572 Support FETCH NEXT| n ROWS from Cursor (Biju Nair)

 .../end2end/CursorWithRowValueConstructorIT.java   | 687 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  31 +
 .../phoenix/compile/CloseStatementCompiler.java    |  57 ++
 .../phoenix/compile/DeclareCursorCompiler.java     |  75 +++
 .../phoenix/compile/OpenStatementCompiler.java     |  57 ++
 .../apache/phoenix/execute/CursorFetchPlan.java    |  53 ++
 .../phoenix/iterate/CursorResultIterator.java      |  75 +++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  91 ++-
 .../org/apache/phoenix/parse/CloseStatement.java   |  40 ++
 .../java/org/apache/phoenix/parse/CursorName.java  |  26 +
 .../phoenix/parse/DeclareCursorStatement.java      |  60 ++
 .../org/apache/phoenix/parse/FetchStatement.java   |  52 ++
 .../org/apache/phoenix/parse/OpenStatement.java    |  40 ++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  20 +
 .../java/org/apache/phoenix/parse/SQLParser.java   |  76 +++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  20 +
 .../java/org/apache/phoenix/util/CursorUtil.java   | 189 ++++++
 .../java/org/apache/phoenix/util/ScanUtil.java     |   6 +-
 .../apache/phoenix/compile/CursorCompilerTest.java |  87 +++
 .../org/apache/phoenix/parse/CursorParserTest.java | 367 +++++++++++
 20 files changed, 2106 insertions(+), 3 deletions(-)

commit 1666e932d157be732946e02b474b6c342199bc0f
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue May 16 17:53:25 2017 -0700

    PHOENIX-3832 Local Index - Empty resultset for multi-tenant tables

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 30 ++++++++++++++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  3 +++
 2 files changed, 33 insertions(+)

commit d2575288d1542c5b6e8dbe65448a22cf59aca8ff
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue May 16 16:09:57 2017 -0700

    PHOENIX-3855 Separate MutableIndexIT into multiple test classes

 .../phoenix/end2end/index/MutableIndexIT.java      | 162 ++++++-------------
 .../index/MutableIndexSplitForwardScanIT.java      |  33 ++++
 .../phoenix/end2end/index/MutableIndexSplitIT.java | 180 +++++++++++++++++++++
 .../index/MutableIndexSplitReverseScanIT.java      |  33 ++++
 4 files changed, 297 insertions(+), 111 deletions(-)

commit 442d8eb29f1f73fd104a323d9aa77f3a4ccfd8d1
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 11 17:00:06 2017 -0700

    PHOENIX-3841 Creation of view fails when UPDATE_CACHE_FREQUENCY specified on table (Maddineni Sukumar)

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 19 +++++++++++++++-
 .../org/apache/phoenix/compile/FromCompiler.java   | 26 +++++++++++++++++-----
 2 files changed, 38 insertions(+), 7 deletions(-)

commit 4153c82e3b6fbc49232b6cdc2a0b98d3af05648e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 11 17:02:26 2017 -0700

    PHOENIX-3825 Mutable Index rebuild does not write an index version for each data row version (Vincent Poon)

 .../phoenix/hbase/index/covered/IndexMetaData.java |  9 ++++++++-
 .../hbase/index/covered/NonTxIndexBuilder.java     |  2 +-
 .../covered/example/CoveredColumnIndexer.java      |  2 +-
 .../index/covered/update/IndexUpdateManager.java   | 14 +++++++++++++-
 .../hbase/index/covered/TestNonTxIndexBuilder.java | 22 ++++++++++++++++++++--
 .../covered/update/TestIndexUpdateManager.java     | 19 ++++++++++++++-----
 6 files changed, 57 insertions(+), 11 deletions(-)

commit 1f1ecc97bab1b081a2b18e78ad141385c837ecd3
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed May 10 09:52:23 2017 -0700

    PHOENIX-3811 Do not disable index on write failure by default

 .../apache/phoenix/end2end/AutomaticRebuildIT.java | 221 ----------------
 .../end2end/IndexToolForPartialBuildIT.java        |  15 +-
 ...xToolForPartialBuildWithNamespaceEnabledIT.java |  15 +-
 .../end2end/index/MutableIndexFailureIT.java       | 252 +++++++++++-------
 .../end2end/index/ReadOnlyIndexFailureIT.java      | 291 ---------------------
 .../org/apache/phoenix/compile/DeleteCompiler.java |   5 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../coprocessor/MetaDataRegionObserver.java        |  44 ++--
 .../UngroupedAggregateRegionObserver.java          |   7 +
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../apache/phoenix/execute/CommitException.java    |   8 +-
 .../org/apache/phoenix/execute/MutationState.java  |  13 +-
 .../phoenix/hbase/index/write/IndexWriter.java     |   4 +
 .../index/write/LeaveIndexActiveFailurePolicy.java |  62 +++++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  82 +++++-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   5 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  44 +++-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  12 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   2 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   7 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  12 +-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   5 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  14 +
 .../java/org/apache/phoenix/util/ServerUtil.java   |  37 +++
 .../phoenix/hbase/index/write/TestIndexWriter.java |   6 +
 28 files changed, 500 insertions(+), 681 deletions(-)

commit f6fbb0dc9ef308eb747993c92a6895c7d460d4b7
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed May 10 17:45:58 2017 -0700

    PHOENIX-3842 Turn off all BloomFilter for Phoenix tables (Lars Hofhansl)

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 22 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 ++
 2 files changed, 24 insertions(+)

commit 37d0a4a038c1f843db2a1d68cfc3b3cfa8c8d537
Author: Alex Araujo <alexaraujo@gmail.com>
Date:   Mon May 1 20:27:18 2017 -0500

    PHOENIX-3818 Add client setting to disable server UPSERT SELECT work
    
    Adds phoenix.client.enable.server.upsert.select property that is true
    (enabled) by default. This acts as a feature toggle for PHOENIX-3271.
    
    Signed-off-by: Andrew Purtell <apurtell@apache.org>

 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java | 93 +++++++++++++++-------
 .../org/apache/phoenix/compile/UpsertCompiler.java | 14 +++-
 .../UngroupedAggregateRegionObserver.java          | 14 +---
 .../org/apache/phoenix/query/QueryServices.java    |  3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  4 +-
 .../org/apache/phoenix/util/ExpressionUtil.java    | 14 ++++
 6 files changed, 97 insertions(+), 45 deletions(-)

commit 85e344fdfcc65d4992336eb52868d7ba78ba55d1
Author: Vincent Poon <vincentpoon@gmail.com>
Date:   Mon May 8 17:18:54 2017 -0700

    PHOENIX-3824 Mutable Index partial rebuild should add only one index row per updated data row.
    
    Signed-off-by: Lars Hofhansl <larsh@apache.org>

 .../hbase/index/covered/data/LocalTable.java       |  22 +-
 .../hbase/index/covered/TestNonTxIndexBuilder.java | 317 +++++++++++++++++++++
 .../hbase/index/covered/data/TestLocalTable.java   |  63 ++++
 3 files changed, 401 insertions(+), 1 deletion(-)

commit a1d3c1697eb478a04c7f94e37cdfc2334f94b4f5
Author: Vincent Poon <vincentpoon@gmail.com>
Date:   Mon May 8 16:58:01 2017 -0700

    PHOENIX-3806 Reduce IndexUpdateManager sorting overhead during Index rebuild
    
    Signed-off-by: Lars Hofhansl <larsh@apache.org>

 .../index/covered/update/IndexUpdateManager.java   |  12 +-
 .../index/covered/update/SortedCollection.java     | 128 ---------------------
 2 files changed, 8 insertions(+), 132 deletions(-)

commit f51c0db9f2d2ee261e602a114d47dd63353bbba8
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri May 5 11:38:44 2017 +0530

    PHOENIX-3800 NPE when doing UPSERT SELECT into salted tables

 .../org/apache/phoenix/end2end/UpsertSelectIT.java  | 21 ++++++++++++++++-----
 .../org/apache/phoenix/compile/UpsertCompiler.java  |  2 +-
 2 files changed, 17 insertions(+), 6 deletions(-)

commit 5b099014446865c12779f3882fd8b407496717ea
Author: Zach York <zyork@amazon.com>
Date:   Wed Jan 25 20:42:08 2017 -0800

    PHOENIX-3603 Fix compilation errors against hbase 1.3

 phoenix-assembly/pom.xml                           |  2 +-
 phoenix-client/pom.xml                             |  2 +-
 phoenix-core/pom.xml                               |  2 +-
 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  2 +-
 .../hadoop/hbase/ipc/PhoenixRpcScheduler.java      | 10 ++++++++++
 .../org/apache/phoenix/execute/DelegateHTable.java | 22 +++++++++++++++++++++-
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  2 +-
 .../recovery/TestPerRegionIndexWriteCache.java     |  2 +-
 phoenix-flume/pom.xml                              |  2 +-
 phoenix-hive/pom.xml                               |  2 +-
 phoenix-kafka/pom.xml                              |  2 +-
 phoenix-pherf/pom.xml                              |  2 +-
 phoenix-pig/pom.xml                                |  2 +-
 phoenix-queryserver-client/pom.xml                 |  2 +-
 phoenix-queryserver/pom.xml                        |  2 +-
 phoenix-server/pom.xml                             |  2 +-
 phoenix-spark/pom.xml                              |  2 +-
 phoenix-tracing-webapp/pom.xml                     |  2 +-
 pom.xml                                            |  4 ++--
 19 files changed, 49 insertions(+), 19 deletions(-)

commit 92b951e5387768e084ed09729884a59160cd81d3
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Apr 21 11:48:54 2017 +0530

    PHOENIX-3759 Dropping a local index causes NPE

 .../org/apache/phoenix/end2end/index/LocalIndexIT.java    | 15 ++++++++++++---
 .../src/main/java/org/apache/phoenix/util/RepairUtil.java | 11 +++++++----
 2 files changed, 19 insertions(+), 7 deletions(-)

commit 90e32c015207b39330ed7496db7a73dbc7b634f4
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Apr 21 11:48:16 2017 +0530

    PHOENIX-3792 Provide way to skip normalization of column names in phoenix-spark integration

 phoenix-spark/src/it/resources/globalSetup.sql     |  1 +
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 27 ++++++++++++++++++++--
 .../apache/phoenix/spark/DataFrameFunctions.scala  | 19 +++++++++++----
 .../org/apache/phoenix/spark/DefaultSource.scala   |  2 +-
 4 files changed, 42 insertions(+), 7 deletions(-)

commit 28af89c46fa54d7f60adc8be88fdf559cad811d2
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Apr 21 11:47:27 2017 +0530

    PHOENIX-3751 spark 2.1 with Phoenix 4.10 load data as dataframe fail, NullPointerException

 phoenix-spark/src/it/resources/globalSetup.sql                        | 2 +-
 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala          | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 679ff21b78968a010db03c9428e60e7e00acb86e
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Apr 19 18:43:51 2017 -0700

    PHOENIX-3801 Demote extremely verbose logs in ParallelWriterIndexCommitter from DEBUG to TRACE

 .../phoenix/hbase/index/write/ParallelWriterIndexCommitter.java   | 8 ++++----
 .../write/recovery/TrackingParallelWriterIndexCommitter.java      | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 5bd7f79b51309505a19f854d05cb000f5cd1eb9f
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Apr 19 17:41:00 2017 -0700

    Apply Local Indexes batch updates only once.

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 30 +++++++++
 .../org/apache/phoenix/hbase/index/Indexer.java    | 73 ++++++++--------------
 2 files changed, 56 insertions(+), 47 deletions(-)

commit ee886bab91f58f4b54efc619d2ec3aec92d40a92
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 17 14:53:41 2017 -0700

    PHOENIX-3789 Addendum to execute cross region index maintenance calls in postBatchMutateIndispensably

 .../org/apache/phoenix/hbase/index/Indexer.java    | 39 +++++++++++++++++-----
 1 file changed, 31 insertions(+), 8 deletions(-)

commit 8309b227164eb53ffc60cb1d63635db7166d4b45
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 17 10:27:14 2017 -0700

    PHOENIX-3777 Add test for NTH_VALUE() function with multiple grouping sets (Loknath Priyatham Teja Singamsetty)

 .../apache/phoenix/end2end/NthValueFunctionIT.java | 65 ++++++++++++++++++++++
 1 file changed, 65 insertions(+)

commit bcceaf80270b75a34a442f3ad1e7490bb88d58d5
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 17 10:16:36 2017 -0700

    PHOENIX-3789 Execute cross region index maintenance calls in postBatchMutateIndispensably

 .../java/org/apache/phoenix/hbase/index/Indexer.java   | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit adf5606835f954a4e6b62d2fde8777b15cfec434
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Apr 12 10:45:38 2017 -0700

    PHOENIX-3781 Backward compatibility issue with old client and 4.10 server

 .../main/java/org/apache/phoenix/schema/PTableImpl.java   | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit cd444d9a6a8e560889826bc491db7d71ad1960e5
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Apr 6 12:34:36 2017 -0700

    PHOENIX-3765 NPE in IndexMaintainer when using old client and 4.10 server

 .../src/main/java/org/apache/phoenix/index/IndexMaintainer.java        | 3 +++
 1 file changed, 3 insertions(+)

commit 92e728e09ace5dfac93cd04a747f3db8043569ee
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Apr 6 18:47:50 2017 +0530

    PHOENIX-3770 Double quote SYSTEM, USER,DATE keywords in some more IT tests(Rajeshbabu)

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  9 ++---
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  2 +-
 .../apache/phoenix/end2end/AutomaticRebuildIT.java |  4 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 12 +++---
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  2 +-
 .../end2end/IndexToolForPartialBuildIT.java        |  4 +-
 .../phoenix/end2end/SequenceBulkAllocationIT.java  | 44 +++++++++++-----------
 .../org/apache/phoenix/end2end/SequenceIT.java     | 44 +++++++++++-----------
 .../apache/phoenix/end2end/SpillableGroupByIT.java |  2 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 11 +++---
 .../apache/phoenix/end2end/StoreNullsPropIT.java   |  2 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 18 ++++-----
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  5 +--
 .../phoenix/end2end/index/IndexMetadataIT.java     |  6 +--
 .../phoenix/end2end/index/IndexTestUtil.java       |  2 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  2 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  2 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |  8 ++--
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  2 +-
 19 files changed, 92 insertions(+), 89 deletions(-)

commit 8b3cc71eb9ae5972516435629591dd2ab94df50d
Author: Josh Elser <elserj@apache.org>
Date:   Thu Mar 30 15:13:57 2017 -0400

    PHOENIX-3756 Handle users lacking ADMIN for the SYSTEM namespace

 .../phoenix/end2end/SystemTablePermissionsIT.java  | 263 +++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  56 ++++-
 .../query/ConnectionQueryServicesImplTest.java     |  73 ++++++
 4 files changed, 383 insertions(+), 12 deletions(-)

commit 2c53fc9856ba3770e742c0729cdef9b2c0181873
Author: chenglei <chenglei@apache.org>
Date:   Fri Mar 31 09:58:35 2017 +0800

    PHOENIX-3745 SortMergeJoin might incorrectly override the OrderBy of LHS or RHS

 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 135 +++++++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |   6 +-
 .../apache/phoenix/compile/SubselectRewriter.java  | 137 +++++++++++++--
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   4 +
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   8 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 187 +++++++++++++++++++++
 7 files changed, 466 insertions(+), 12 deletions(-)

commit 2074d1f0a2dd2b03c2e3588ffd4d5f2395cc7505
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 21 15:48:36 2017 -0700

    PHOENIX-3476: prevent loss of offset when sub-aggregating (Matthew Silverman)

 .../apache/phoenix/end2end/NthValueFunctionIT.java | 34 ++++++++++++++++++++++
 .../aggregator/FirstLastValueServerAggregator.java |  2 --
 2 files changed, 34 insertions(+), 2 deletions(-)

commit 7050b924350655558e95c6f93246a47c76203174
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 21 13:34:54 2017 -0700

    PHOENIX-3693 Upgrade to Tephra 0.11.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8093d10f1a481101d6c93fdf0744ff15ec48f4aa
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Feb 17 15:50:24 2017 -0800

    PHOENIX-2051 Link record is in the format CHILD-PARENT for phoenix views and it has to scan the entire table to find the parent suffix

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 213 ++++++++++-----------
 .../phoenix/coprocessor/MetaDataProtocol.java      |   4 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   4 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  24 ++-
 .../java/org/apache/phoenix/schema/PTable.java     |  10 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  17 ++
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  73 +++++++
 8 files changed, 228 insertions(+), 121 deletions(-)

commit bc814f1566189ba10258547f3889af177e1abf04
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Mar 14 15:37:45 2017 -0700

    Set version to 4.11.0-HBase-1.2-SNAPSHOT after release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-kafka/pom.xml              | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit e34431c8fd392b67ba5fda556627c96b6554bc11
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 9 13:56:49 2017 -0800

    PHOENIX-3726 Addendum to use modifiable list

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 66a152a94d94aeb1c13f5e0baab413d6d9577d3a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 9 11:02:04 2017 -0800

    PHOENIX-3727 Upserts into salted table are failing in Phoenix-Calcite

 .../src/main/java/org/apache/phoenix/compile/UpsertCompiler.java    | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit a661ea5366a8c08388320512d4239acc98200cc5
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 9 10:44:30 2017 -0800

    PHOENIX-3722 TestSystemCatalogWALEntryFilter should be an IT test

 ...temCatalogWALEntryFilter.java => SystemCatalogWALEntryFilterIT.java} | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 730d85053a63dbde0019e6a354f1573ee279bab2
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 9 10:31:35 2017 -0800

    PHOENIX-3726 Error while upgrading system tables

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2c66e3cbd085f89a0631891839242e24a63f33fc
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 7 10:41:37 2017 -0800

    PHOENIX-3719 Update phoenix driver version for 4.10 release

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bee7401eed7c57be5e130229a7b220c4a99fd387
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Mar 7 10:32:12 2017 -0800

    Set version to 4.10.0-HBase-1.2 for release

 phoenix-assembly/pom.xml                                |  2 +-
 phoenix-client/pom.xml                                  |  2 +-
 phoenix-core/pom.xml                                    |  2 +-
 .../phoenix/end2end/ColumnEncodedBytesPropIT.java       | 17 +++++++++++++++++
 phoenix-flume/pom.xml                                   |  2 +-
 phoenix-hive/pom.xml                                    |  2 +-
 phoenix-kafka/pom.xml                                   |  2 +-
 phoenix-pherf/pom.xml                                   |  2 +-
 phoenix-pig/pom.xml                                     |  2 +-
 phoenix-queryserver-client/pom.xml                      |  2 +-
 phoenix-queryserver/pom.xml                             |  2 +-
 phoenix-server/pom.xml                                  |  2 +-
 phoenix-spark/pom.xml                                   |  2 +-
 phoenix-tracing-webapp/pom.xml                          |  2 +-
 pom.xml                                                 |  2 +-
 15 files changed, 31 insertions(+), 14 deletions(-)

commit 7c4590daf56b81fe354a971de6ff7879813bf6e3
Author: Thomas D'Silva <tdsilva@apache.org>
Date:   Mon Mar 6 14:20:38 2017 -0800

    PHOENIX-3680 Do not issue delete markers when dropping a column from an immutable encoded table (addendum)

 .../main/java/org/apache/phoenix/hbase/index/scanner/ScannerBuilder.java | 1 +
 1 file changed, 1 insertion(+)

commit 336a82d410057d10c16d0bfef6aebd94c63026f5
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Mar 6 13:29:11 2017 -0800

    PHOENIX-3706 RenewLeaseTask should give up and reattempt later to renewlease if lock cannot be acquired

 .../iterate/RenewLeaseOnlyTableIterator.java       |  17 +-
 .../phoenix/iterate/TableResultIterator.java       | 186 ++++++++++++---------
 .../phoenix/query/ConnectionQueryServicesImpl.java |   6 +-
 .../phoenix/query/ScannerLeaseRenewalTest.java     |  21 ++-
 4 files changed, 137 insertions(+), 93 deletions(-)

commit 023f8631fc1688eaecef475d47d9e926fe7d3014
Author: Thomas <tdsilva@salesforce.com>
Date:   Wed Mar 1 11:05:21 2017 -0800

    PHOENIX-3680 Do not issue delete markers when dropping a column from an immutable encoded table

 .../apache/phoenix/end2end/index/DropColumnIT.java | 517 +++++++++++++++++++++
 .../phoenix/end2end/index/DropMetadataIT.java      | 220 ---------
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |   2 +-
 .../hbase/index/covered/LocalTableState.java       |  14 +-
 .../phoenix/hbase/index/covered/TableState.java    |   4 +-
 .../covered/example/CoveredColumnIndexCodec.java   |   4 +-
 .../hbase/index/scanner/ScannerBuilder.java        |   9 +-
 .../hbase/index/util/IndexManagementUtil.java      |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  10 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  25 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  45 +-
 .../hbase/index/covered/TestLocalTableState.java   |  10 +-
 13 files changed, 587 insertions(+), 277 deletions(-)

commit 8f6d02f79871eb8a2458ca7aecfb10b3ebf34e7b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Mar 6 14:58:01 2017 +0530

    Higher memory consumption on RS leading to OOM/abort on immutable index creation with multiple regions on single RS

 .../org/apache/phoenix/compile/UpsertCompiler.java | 20 ++++-
 .../UngroupedAggregateRegionObserver.java          | 86 +++++++++++++++-------
 .../org/apache/phoenix/schema/MetaDataClient.java  | 60 ++++++++++++---
 3 files changed, 128 insertions(+), 38 deletions(-)

commit c8612fa1b09f883726102951626798244f73db17
Author: chenglei <chenglei@apache.org>
Date:   Sat Mar 4 10:45:57 2017 +0800

    PHOENIX-3705 SkipScanFilter may repeatedly copy rowKey Columns to startKey

 .../org/apache/phoenix/filter/SkipScanFilter.java  |  15 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    |  10 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  | 229 ++++++++++++++++++++-
 3 files changed, 245 insertions(+), 9 deletions(-)

commit cf65fb27edf62666691500e3f7e7549c4b83240f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Mar 2 16:13:50 2017 -0800

    PHOENIX-3708 temporary disable tests introduced in PHOENIX-3346

 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveMapReduceIT.java | 2 ++
 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveTezIT.java       | 2 ++
 2 files changed, 4 insertions(+)

commit 450766e79002a1ccf30c8c7db00b86b67aa14d62
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 2 16:05:59 2017 -0800

    PHOENIX-3062 Ignore PhoenixTracingEndToEndIT till consensus is reached

 .../it/java/org/apache/phoenix/trace/PhoenixTracingEndToEndIT.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 5d08b682016e1481c53eaa0ecb892d21add8df45
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 2 09:31:51 2017 -0800

    PHOENIX-3702 RenewLeaseIT#testLeaseDoesNotTimeout failing on 4.x-HBase-1.1 and master branches

 .../src/it/java/org/apache/phoenix/end2end/RenewLeaseIT.java       | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 9ba564bbd972284554ceec18e34016ac458997b2
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Mar 1 15:41:49 2017 -0800

    Fixed UT for PHOENIX-3346 Hive PhoenixStorageHandler doesn't work well with column

 .../phoenix/hive/query/PhoenixQueryBuilderTest.java    | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 1e2a9675c68f2ea52cf0d7fd3dc6dcff585b02cd
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Feb 10 14:10:52 2017 -0800

    PHOENIX-3585 MutableIndexIT testSplitDuringIndexScan and testIndexHalfStoreFileReader fail for transactional tables and local indexes

 .../phoenix/end2end/index/MutableIndexIT.java      | 81 +++++++++++-----------
 .../IndexHalfStoreFileReaderGenerator.java         | 12 ++--
 2 files changed, 50 insertions(+), 43 deletions(-)

commit 7201dd5e17096209d26ca3620054fc72665cf4fe
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Mar 1 11:51:46 2017 -0800

    PHOENIX-3346 Hive PhoenixStorageHandler doesn't work well with column

 phoenix-hive/pom.xml                               |  13 +
 .../phoenix/hive/BaseHivePhoenixStoreIT.java       | 165 +++++++++++
 .../org/apache/phoenix/hive/HiveMapReduceIT.java   |  32 ++
 .../apache/phoenix/hive/HivePhoenixStoreIT.java    | 330 +++++++++++----------
 .../java/org/apache/phoenix/hive/HiveTestUtil.java |  22 +-
 .../it/java/org/apache/phoenix/hive/HiveTezIT.java |  32 ++
 .../org/apache/phoenix/hive/PhoenixMetaHook.java   |  37 +--
 .../java/org/apache/phoenix/hive/PhoenixSerDe.java |   9 +-
 .../org/apache/phoenix/hive/PhoenixSerializer.java |   4 +
 .../apache/phoenix/hive/PhoenixStorageHandler.java |   5 +
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java |   3 +-
 .../hive/mapreduce/PhoenixRecordReader.java        |   1 +
 .../hive/mapreduce/PhoenixResultWritable.java      |  12 +-
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |  76 ++++-
 .../phoenix/hive/util/ColumnMappingUtils.java      |  76 +++++
 .../phoenix/hive/util/PhoenixConnectionUtil.java   |  19 ++
 .../hive/query/PhoenixQueryBuilderTest.java        |  10 +-
 17 files changed, 604 insertions(+), 242 deletions(-)

commit 5f5662b24dad478c9cb0917f20e2af9e6a539266
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Feb 28 18:00:58 2017 -0800

    PHOENIX-3539 Fix bulkload for StorageScheme - ONE_CELL_PER_KEYVALUE_COLUMN (Samarth Jain and Ankit Singhal)

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 36 +++++++++++++++
 .../mapreduce/FormatToBytesWritableMapper.java     | 51 ++++++++++++++--------
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 44 ++++++++++++-------
 .../flume/serializer/CsvEventSerializer.java       |  2 +-
 4 files changed, 97 insertions(+), 36 deletions(-)

commit c387260cd87dc931f418e9cf35bf0d29d5cd8b7e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Feb 28 17:57:55 2017 -0800

    PHOENIX-3703 Immutable multitenant tables created as non-encoded irrespective of encoding property

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 85 +++++++++++++++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 30 ++++----
 2 files changed, 97 insertions(+), 18 deletions(-)

commit 6d36fa7ca70200568e285aa513f0a577eaade060
Author: Josh Elser <elserj@apache.org>
Date:   Mon Feb 27 16:55:42 2017 -0500

    PHOENIX-3698 No-args constructor for IndexedWALEditCodec
    
    Change-Id: Ic36c61a314e92aa9a8cdf496e210909abe5829dc

 .../regionserver/wal/IndexedWALEditCodec.java      | 20 ++++++++++++--
 .../regionserver/wal/IndexedWALEditCodecTest.java  | 32 ++++++++++++++++++++++
 2 files changed, 50 insertions(+), 2 deletions(-)

commit cbc43bbb6fbcbd3bdcb5a246d02edecb0e939b43
Author: Geoffrey Jacoby <gjacoby@apache.org>
Date:   Tue Feb 28 16:34:26 2017 -0800

    PHOENIX-3663 - Implement resource controls in Phoenix JDBC driver.

 .../phoenix/monitoring/PhoenixMetricsIT.java       | 39 +++++++++++++++++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  5 ++-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 ++
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  3 --
 .../phoenix/monitoring/GlobalClientMetrics.java    |  8 +++--
 .../org/apache/phoenix/monitoring/MetricType.java  |  5 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 16 +++++++--
 .../org/apache/phoenix/query/QueryServices.java    |  5 ++-
 .../apache/phoenix/query/QueryServicesOptions.java |  4 ++-
 9 files changed, 75 insertions(+), 12 deletions(-)

commit 8e1d10b3f1e91d003f7dd554f8c261352cbd3b43
Author: Josh Elser <elserj@apache.org>
Date:   Mon Feb 20 17:22:15 2017 -0500

    PHOENIX-3686 Allow client-authentication to be disabled for PQS

 .../java/org/apache/phoenix/query/QueryServices.java   |  3 ++-
 .../org/apache/phoenix/query/QueryServicesOptions.java |  2 ++
 .../phoenix/queryserver/client/SqllineWrapper.java     | 18 ++++++++++++++----
 .../apache/phoenix/queryserver/server/QueryServer.java |  5 ++++-
 4 files changed, 22 insertions(+), 6 deletions(-)

commit 877cac36d772e1ac7c3b9eebde11911c2994609f
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Feb 27 16:14:28 2017 -0800

    PHOENIX-3697 Tests failing on master and 4.x-HBase-1.1 branches because of HBASE-17587

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ea5602f203dc8980125ae75f12989bd793fdf98
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Feb 27 14:09:26 2017 -0800

    PHOENIX-3695 Remove testUnfoundSingleColumnCaseStatement from CaseStatementIT

 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 25 ++++++++--------
 .../apache/phoenix/end2end/CaseStatementIT.java    | 34 ----------------------
 2 files changed, 12 insertions(+), 47 deletions(-)

commit 07b32b95e4a92756d0acf9af1b801e2869ceb6bd
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Feb 27 17:07:52 2017 +0530

    PHOENIX-3694 Drop schema does not invalidate schema from the server cache

 .../org/apache/phoenix/end2end/DropSchemaIT.java   | 11 +++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 36 +++++++++++++++-------
 2 files changed, 36 insertions(+), 11 deletions(-)

commit 81e9325588c82c614403371c99a93b03925d4383
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Feb 27 00:06:49 2017 -0800

    PHOENIX-1598 Addendum - fix test failures because of mistake in rebase

 .../phoenix/coprocessor/BaseScannerRegionObserver.java    | 15 +++------------
 1 file changed, 3 insertions(+), 12 deletions(-)

commit 3c7ff99bfb958774c3e2ba5d3714ccfc46bd2367
Author: Samarth <samarth.jain@salesforce.com>
Date:   Sun Feb 26 22:14:26 2017 -0800

    PHOENIX-1598 Encode column names to save space and improve performance

 .../apache/phoenix/end2end/AggregateQueryIT.java   |   74 +-
 .../end2end/AlterMultiTenantTableWithViewsIT.java  |   25 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  491 +-
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  133 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |   28 +
 .../org/apache/phoenix/end2end/BaseJoinIT.java     |    4 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   99 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |   28 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |   34 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       |   76 +-
 .../phoenix/end2end/ColumnEncodedBytesPropIT.java  |   95 +
 .../end2end/CountDistinctCompressionIT.java        |    2 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |   57 +
 .../org/apache/phoenix/end2end/DateTimeIT.java     |    2 +-
 .../phoenix/end2end/DefaultColumnValueIT.java      |    1 +
 .../org/apache/phoenix/end2end/DerivedTableIT.java |    2 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |    4 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |   63 +
 .../phoenix/end2end/ExtendedQueryExecIT.java       |    8 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |    2 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  162 +-
 ...PropIT.java => ImmutableTablePropertiesIT.java} |   61 +-
 .../org/apache/phoenix/end2end/MutableQueryIT.java |  424 ++
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |    2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |   28 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |    2 -
 .../org/apache/phoenix/end2end/PercentileIT.java   |    4 +-
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |    4 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java |   78 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |    2 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   16 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  112 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |    2 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |   36 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |   93 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  124 +-
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  310 +-
 .../apache/phoenix/end2end/StoreNullsPropIT.java   |   51 +
 .../SysTableNamespaceMappedStatsCollectorIT.java   |    4 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |    6 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |   10 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |   51 +-
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |    3 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |   38 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |   13 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   20 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |   28 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |   58 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |   11 +-
 .../end2end/index/MutableIndexFailureIT.java       |    2 +
 .../phoenix/end2end/index/MutableIndexIT.java      |   21 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |    2 +-
 .../phoenix/tx/ParameterizedTransactionIT.java     |  518 ++
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  589 +--
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |   42 +-
 .../apache/phoenix/cache/ServerCacheClient.java    |    2 +
 .../java/org/apache/phoenix/cache/TenantCache.java |    2 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |    4 +-
 .../phoenix/compile/CreateTableCompiler.java       |   10 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |    2 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   18 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   54 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   15 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |    6 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   11 +-
 .../phoenix/compile/PostLocalIndexDDLCompiler.java |    9 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |   35 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |    4 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   31 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |    7 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |    6 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |   24 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   59 +-
 .../GroupedAggregateRegionObserver.java            |   42 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   25 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  237 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |    4 +-
 .../coprocessor/MetaDataRegionObserver.java        |    4 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |   33 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |    2 +-
 .../phoenix/coprocessor/ServerCachingProtocol.java |    2 +-
 .../UngroupedAggregateRegionObserver.java          |   65 +-
 .../coprocessor/generated/PTableProtos.java        | 1474 +++++-
 .../coprocessor/generated/ServerCachingProtos.java | 5125 +++++++++++++++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |    4 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   27 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |    2 +-
 .../org/apache/phoenix/execute/MutationState.java  |   16 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |    2 +-
 .../org/apache/phoenix/execute/TupleProjector.java |   72 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |    3 +-
 .../expression/ArrayConstructorExpression.java     |   82 +-
 .../apache/phoenix/expression/ExpressionType.java  |    5 +-
 .../expression/KeyValueColumnExpression.java       |   32 +-
 .../phoenix/expression/LiteralExpression.java      |   11 +-
 .../expression/ProjectedColumnExpression.java      |    1 +
 .../expression/SingleCellColumnExpression.java     |  182 +
 .../SingleCellConstructorExpression.java           |  102 +
 .../function/ArrayElemRefExpression.java           |    4 +-
 .../expression/function/ArrayIndexFunction.java    |    4 +-
 .../phoenix/expression/util/regex/JONIPattern.java |   18 +-
 .../expression/visitor/BaseExpressionVisitor.java  |    6 +
 .../expression/visitor/CloneExpressionVisitor.java |   12 +
 .../CloneNonDeterministicExpressionVisitor.java    |    1 +
 .../expression/visitor/ExpressionVisitor.java      |    6 +
 .../StatelessTraverseAllExpressionVisitor.java     |   13 +-
 .../StatelessTraverseNoExpressionVisitor.java      |   13 +-
 .../phoenix/filter/ColumnProjectionFilter.java     |   24 +-
 .../EncodedQualifiersColumnProjectionFilter.java   |  151 +
 .../MultiEncodedCQKeyValueComparisonFilter.java    |  369 ++
 .../filter/MultiKeyValueComparisonFilter.java      |    6 +-
 .../filter/SingleCQKeyValueComparisonFilter.java   |    3 +-
 .../filter/SingleKeyValueComparisonFilter.java     |    4 +-
 .../apache/phoenix/hbase/index/ValueGetter.java    |    1 +
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |    1 +
 .../org/apache/phoenix/index/IndexMaintainer.java  |  530 +-
 .../phoenix/index/IndexMetaDataCacheClient.java    |    1 +
 .../phoenix/index/IndexMetaDataCacheFactory.java   |    4 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |    2 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |    1 +
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |    2 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |    9 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   16 +-
 .../phoenix/iterate/BaseResultIterators.java       |  111 +-
 .../phoenix/iterate/LookAheadResultIterator.java   |    2 +-
 .../phoenix/iterate/MappedByteBufferQueue.java     |    1 +
 .../phoenix/iterate/OrderedResultIterator.java     |    3 +-
 .../iterate/RegionScannerResultIterator.java       |   19 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   14 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |    2 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |    2 +-
 .../mapreduce/FormatToBytesWritableMapper.java     |   21 +-
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |   30 +-
 .../index/PhoenixIndexPartialBuildMapper.java      |    4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  135 +-
 .../query/ConnectionlessQueryServicesImpl.java     |    1 -
 .../org/apache/phoenix/query/QueryConstants.java   |   59 +-
 .../org/apache/phoenix/query/QueryServices.java    |    4 +
 .../apache/phoenix/query/QueryServicesOptions.java |    6 +-
 .../java/org/apache/phoenix/schema/ColumnRef.java  |   16 +-
 .../apache/phoenix/schema/ColumnValueDecoder.java  |   31 +
 .../apache/phoenix/schema/ColumnValueEncoder.java  |   45 +
 .../org/apache/phoenix/schema/DelegateColumn.java  |    4 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   24 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  488 +-
 .../java/org/apache/phoenix/schema/PColumn.java    |    4 +-
 .../org/apache/phoenix/schema/PColumnFamily.java   |   14 +-
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |   49 +-
 .../org/apache/phoenix/schema/PColumnImpl.java     |   29 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |    4 +-
 .../java/org/apache/phoenix/schema/PTable.java     |  435 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  480 +-
 .../java/org/apache/phoenix/schema/PTableKey.java  |    6 +-
 .../org/apache/phoenix/schema/ProjectedColumn.java |   12 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |    2 +-
 .../org/apache/phoenix/schema/TableProperty.java   |   42 +
 .../org/apache/phoenix/schema/tuple/BaseTuple.java |   39 +
 .../apache/phoenix/schema/tuple/DelegateTuple.java |    7 +
 .../tuple/EncodedColumnQualiferCellsList.java      |  581 +++
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |    1 +
 .../tuple/PositionBasedMultiKeyValueTuple.java     |   90 +
 .../schema/tuple/PositionBasedResultTuple.java     |  125 +
 .../apache/phoenix/schema/tuple/ResultTuple.java   |   20 +-
 .../org/apache/phoenix/schema/tuple/Tuple.java     |    4 +
 .../phoenix/schema/types/PArrayDataType.java       |  340 +-
 .../schema/types/PArrayDataTypeDecoder.java        |  102 +
 .../schema/types/PArrayDataTypeEncoder.java        |  170 +
 .../apache/phoenix/util/EncodedColumnsUtil.java    |  205 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |   76 +-
 .../java/org/apache/phoenix/util/KeyValueUtil.java |    2 -
 .../java/org/apache/phoenix/util/MetaDataUtil.java |    5 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   12 +-
 .../java/org/apache/phoenix/util/ResultUtil.java   |   60 -
 .../java/org/apache/phoenix/util/ScanUtil.java     |   29 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   29 +-
 .../org/apache/phoenix/cache/TenantCacheTest.java  |    6 +-
 .../apache/phoenix/compile/HavingCompilerTest.java |    2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |   28 +-
 .../apache/phoenix/compile/QueryOptimizerTest.java |   51 +
 .../compile/SelectStatementRewriterTest.java       |   11 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |   44 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   12 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   12 +-
 .../apache/phoenix/execute/MutationStateTest.java  |    4 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |    8 +-
 .../expression/ArrayConstructorExpressionTest.java |   20 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   27 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |    7 +-
 .../iterate/AggregateResultScannerTest.java        |    2 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java |   18 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   61 +-
 .../apache/phoenix/query/ConnectionlessTest.java   |   18 +-
 .../query/EncodedColumnQualifierCellsListTest.java |  608 +++
 .../phoenix/schema/ImmutableStorageSchemeTest.java |  182 +
 .../schema/types/PDataTypeForArraysTest.java       |   38 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |    7 +-
 .../phoenix/util/QualifierEncodingSchemeTest.java  |  119 +
 .../java/org/apache/phoenix/util/TestUtil.java     |   89 +-
 phoenix-protocol/src/main/PTable.proto             |    9 +
 .../src/main/ServerCachingService.proto            |   35 +
 pom.xml                                            |    2 +-
 201 files changed, 15683 insertions(+), 2942 deletions(-)

commit 05c37a91511b21d01b30107b5fd4dc98eacb041f
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Tue Feb 21 14:58:28 2017 +0900

    PHOENIX-3512 PhoenixStorageHandler makes erroneous query string when handling between clauses with date constants.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../phoenix/hive/query/PhoenixQueryBuilder.java    | 287 ++++++++++++---------
 .../hive/query/PhoenixQueryBuilderTest.java        |  87 ++++++-
 2 files changed, 240 insertions(+), 134 deletions(-)

commit 3c921b05f1491d478c9bf4ae6153d8d1acf08dd0
Author: Josh Elser <elserj@apache.org>
Date:   Mon Feb 20 21:54:40 2017 -0500

    PHOENIX-3168 Remove unnecessary Sqlline entry from src LICENSE file
    
    We do not bundle Sqlline in the source release; therefore, such an
    entry is unnecessary.

 LICENSE | 10 ----------
 1 file changed, 10 deletions(-)

commit e79fad947d4cad6da2af33c4f99c1d89ae6910be
Author: Josh Elser <elserj@apache.org>
Date:   Thu Feb 9 15:16:11 2017 -0500

    PHOENIX-3659 Update to Apache HBase 1.2.4 from 1.2.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d18da38afa0d7bbc0221f6472bc3b037edc6e3d4
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Sun Feb 19 20:28:14 2017 +0100

    PHOENIX-3538 Regex bulk loader
    
    Add bulk loader which parses input based on a regular expression.
    
    Contributed by kalyanhadooptraining@gmail.com

 .../phoenix/end2end/RegexBulkLoadToolIT.java       | 371 +++++++++++++++++++++
 .../phoenix/mapreduce/RegexBulkLoadTool.java       |  74 ++++
 .../phoenix/mapreduce/RegexToKeyValueMapper.java   | 135 ++++++++
 .../phoenix/util/regex/RegexUpsertExecutor.java    |  80 +++++
 4 files changed, 660 insertions(+)

commit b5cf5aa2cf6d8155ffc312adffe9ed73862161f7
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Mon Nov 21 10:24:22 2016 +0900

    PHOENIX-3503 PhoenixStorageHandler doesn't work properly when execution engine of Hive is Tez.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../phoenix/hive/mapreduce/PhoenixInputFormat.java | 26 ++++++------
 .../phoenix/hive/query/PhoenixQueryBuilder.java    | 33 +++++++++-------
 .../hive/util/PhoenixStorageHandlerUtil.java       | 46 +++++++++++-----------
 3 files changed, 56 insertions(+), 49 deletions(-)

commit 275421bcd6f20dd748a9b2e63df13426832547ba
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Mon Nov 21 11:03:19 2016 +0900

    PHOENIX-3486 RoundRobinResultIterator doesn't work correctly because of setting Scan's cache size inappropriately in PhoenixInputForamt
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../phoenix/hive/mapreduce/PhoenixInputFormat.java | 27 +++++++++++-----------
 1 file changed, 13 insertions(+), 14 deletions(-)

commit 130f29dc5ca012868f4951849ca1af83577c4ccb
Author: Josh Elser <elserj@apache.org>
Date:   Thu Feb 16 14:47:35 2017 -0500

    PHOENIX-3684 Handle _HOST in principal specified in JDBC url
    
    When the user provides a principal with the _HOST "magic string"
    in it, Phoenix was incorrectly re-logging that user in. This results
    in an application that creates a new HConnection and ZK connection
    for every Phoenix connection which saturates connections to ZK.

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 15 ++++-
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    | 10 ++++
 .../phoenix/jdbc/SecureUserConnectionsTest.java    | 66 +++++++++++++++++++++-
 3 files changed, 88 insertions(+), 3 deletions(-)

commit c3b16cef5de15df059b5c979a1b54110e5b0ca00
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Wed Feb 15 10:31:39 2017 -0500

    PHOENIX-3135 Addendum to fix unit test asserting no CSV support

 phoenix-flume/src/it/java/org/apache/phoenix/flume/PhoenixSinkIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6e5806af2c215c56cf4f5f0a2da0c7a61b6ab90a
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Wed Feb 15 09:12:59 2017 -0500

    PHOENIX-3658 Remove org:json:json dependency from flume module

 phoenix-flume/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 564e9b83502e50a30ca0c5eefc6daf6ce8bad065
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Wed Feb 15 09:12:08 2017 -0500

    PHOENIX-3135 Support loading csv data using Flume plugin (Kalyan Hadoop)

 phoenix-flume/pom.xml                              |   6 +-
 .../apache/phoenix/flume/CsvEventSerializerIT.java | 416 +++++++++++++++++++++
 .../org/apache/phoenix/flume/FlumeConstants.java   |  14 +-
 .../flume/serializer/CsvEventSerializer.java       | 196 ++++++++++
 .../phoenix/flume/serializer/EventSerializers.java |   4 +-
 5 files changed, 631 insertions(+), 5 deletions(-)

commit 18a86b65fc6a6feab88fac740e1756bc571dc68b
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Feb 15 12:20:07 2017 +0530

    PHOENIX-3360 Secondary index configuration is wrong(William Yang)

 .../src/main/java/org/apache/phoenix/hbase/index/Indexer.java         | 4 ++++
 1 file changed, 4 insertions(+)

commit 799d217f6cab6fd57cd3b1c87553b607024de4f0
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 14 12:19:17 2017 -0800

    PHOENIX-3453 Secondary index and query using distinct: Outer query results in ERROR 201 (22000): Illegal data. CHAR types may only contain single byte characters (chenglei)

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 66 +++++++++++++++++++++-
 .../phoenix/expression/CoerceExpression.java       |  2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 42 ++++++++++++++
 3 files changed, 106 insertions(+), 4 deletions(-)

commit d1e80e3b161628af4d58443b87d42fa4af256486
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 14 11:31:00 2017 -0800

    PHOENIX-3639 WALEntryFilter to replicate only multi-tenant views from SYSTEM.CATALOG (Geoffrey Jacoby)

 .../TestSystemCatalogWALEntryFilter.java           | 185 +++++++++++++++++++++
 .../replication/SystemCatalogWALEntryFilter.java   |  69 ++++++++
 2 files changed, 254 insertions(+)

commit 4b4205a681f3a87c6d418462fcf282abd9ad80b0
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 14 11:27:52 2017 -0800

    PHOENIX-3670 KeyRange.intersect(List<KeyRange> , List<KeyRange>) is inefficient,especially for join dynamic filter (chenglei)

 .../java/org/apache/phoenix/query/KeyRange.java    |  72 ++++--
 .../org/apache/phoenix/query/KeyRangeMoreTest.java | 263 +++++++++++++++++++++
 2 files changed, 314 insertions(+), 21 deletions(-)

commit 7567fcd6d569a2ece7556c4e3a966a1baf34c3a5
Author: Andrew Purtell <apurtell@apache.org>
Date:   Mon Feb 13 15:24:01 2017 -0800

    PHOENIX-3661 Make phoenix tool select file system dynamically (Yishan Yang)

 .../org/apache/phoenix/mapreduce/AbstractBulkLoadTool.java   |  2 +-
 .../org/apache/phoenix/mapreduce/MultiHfileOutputFormat.java |  2 +-
 .../java/org/apache/phoenix/mapreduce/index/IndexTool.java   | 12 ++++++++----
 3 files changed, 10 insertions(+), 6 deletions(-)

commit 8f2d0fbc5e4d14dc04c2491d78cea1a4b93be0b7
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Mon Feb 13 10:58:02 2017 -0500

    PHOENIX-3601 PhoenixRDD doesn't expose the preferred node locations to Spark

 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala          | 4 ++++
 1 file changed, 4 insertions(+)

commit 267323da8242fb6f0953c1a75cf96c5fde3d49ed
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Mon Feb 13 10:55:06 2017 -0500

    PHOENIX-3600 Core MapReduce classes don't provide location info
    
    This mostly just ports the same functionality in the phoenix-hive MR
    classes to the main classes. Adds a new configuration parameter
    'phoenix.mapreduce.split.by.stats', defaulting to true, to create
    input splits based off the scans provided by statistics, not just the
    region locations.

 .../phoenix/mapreduce/PhoenixInputFormat.java      | 69 ++++++++++++++++++++--
 .../phoenix/mapreduce/PhoenixInputSplit.java       | 23 +++++++-
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 11 ++++
 3 files changed, 96 insertions(+), 7 deletions(-)

commit 41d6349bd50de1ef13a52a8b146c01b504e60aeb
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Thu Feb 9 11:35:19 2017 -0500

    PHOENIX-3214 Addendum to add Apache Software License to kakfa props

 phoenix-kafka/src/it/resources/consumer.props | 22 +++++++++++++++++++++-
 phoenix-kafka/src/it/resources/producer.props | 22 +++++++++++++++++++++-
 2 files changed, 42 insertions(+), 2 deletions(-)

commit 3519b3b549ac05a2ec0713ba94077cf4c6c2fe20
Author: Josh Elser <elserj@apache.org>
Date:   Fri Feb 3 18:45:16 2017 -0500

    PHOENIX-1754 Try to handle keytab paths on Windows filesystems

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 24 +++++++++++++++++++++-
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |  4 ++++
 2 files changed, 27 insertions(+), 1 deletion(-)

commit 54ddb916ee1a6cc1b412aa28221b1d2770fb814b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Feb 6 20:06:19 2017 +0530

    PHOENIX-3652 Users who do not have global access to hbase cluster can't connect to phoenix

 .../phoenix/query/ConnectionQueryServicesImpl.java | 22 ++++++----------------
 1 file changed, 6 insertions(+), 16 deletions(-)

commit ad113c8351cee509e915420d0d8e8f2e22b0945c
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Sun Feb 5 12:12:52 2017 -0500

    PHOENIX-3214 Kafka Phoenix Consumer (Kalyan Hadoop)

 phoenix-assembly/pom.xml                           |   4 +
 .../src/build/components/all-common-jars.xml       |   8 +
 phoenix-kafka/pom.xml                              | 435 +++++++++++++++++++++
 .../apache/phoenix/kafka/PhoenixConsumerIT.java    | 276 +++++++++++++
 phoenix-kafka/src/it/resources/consumer.props      |  12 +
 phoenix-kafka/src/it/resources/producer.props      |   4 +
 .../org/apache/phoenix/kafka/KafkaConstants.java   |  52 +++
 .../phoenix/kafka/consumer/PhoenixConsumer.java    | 276 +++++++++++++
 .../kafka/consumer/PhoenixConsumerTool.java        | 107 +++++
 pom.xml                                            |   7 +
 10 files changed, 1181 insertions(+)

commit 172115a0653ec5308731c513772821ccfdc47f19
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Feb 6 19:58:29 2017 +0530

    PHOENIX-3610 Fix tableName used to get the index maintainers while creating HalfStoreFileReader for local index store

 .../IndexHalfStoreFileReaderGenerator.java         | 14 ++-----------
 .../java/org/apache/phoenix/util/IndexUtil.java    | 24 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  5 +----
 3 files changed, 27 insertions(+), 16 deletions(-)

commit 76e4264d0c0b234fe300dbbaf33dbe7984cf92e8
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Feb 6 13:14:45 2017 +0530

    PHOENIX-3609 Detect and fix corrupted local index region during compaction

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 79 ++++++++++++++++++++
 .../DataTableLocalIndexRegionScanner.java          | 86 ++++++++++++++++++++++
 .../IndexHalfStoreFileReaderGenerator.java         | 74 +++++++++++++++++--
 .../coprocessor/MetaDataRegionObserver.java        | 30 +++++---
 .../org/apache/phoenix/hbase/index/Indexer.java    |  3 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  1 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  5 ++
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  8 ++
 .../java/org/apache/phoenix/util/RepairUtil.java   | 40 ++++++++++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  2 +-
 10 files changed, 307 insertions(+), 21 deletions(-)

commit 96120337ceb2dc93224e6fdff1f5e06d8207c726
Author: kliewkliew <kliewkliew@users.noreply.github.com>
Date:   Sun Feb 5 22:57:53 2017 -0800

    PHOENIX-3545 Add integration tests for string upper and lower

 .../phoenix/end2end/UpperLowerFunctionIT.java      | 119 +++++++++++++++++++++
 1 file changed, 119 insertions(+)

commit 58ae6668c6097e0237a0cbf2233d3cf6aca77410
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Feb 3 22:30:07 2017 +0530

    PHOENIX-3646 Fix issues with Split keys and Replace bind values with actual split keys in CREATE TABLE DDL in Phoenix-Calcite(Rajeshbabu)

 .../phoenix/end2end/ExecuteStatementsIT.java       |  4 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       | 15 +++---
 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 17 ++++---
 .../phoenix/end2end/index/IndexExpressionIT.java   | 36 +++++---------
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  9 ++--
 .../phoenix/end2end/index/IndexMetadataIT.java     | 57 ++++++++--------------
 .../phoenix/end2end/index/MutableIndexIT.java      |  5 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  6 +--
 .../apache/phoenix/compile/QueryMetaDataTest.java  | 11 -----
 .../phoenix/jdbc/PhoenixPreparedStatementTest.java | 24 ---------
 .../java/org/apache/phoenix/query/BaseTest.java    | 10 +---
 11 files changed, 61 insertions(+), 133 deletions(-)

commit 39460bc470d77f173d40b17f87a82c259bff5027
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jan 31 11:46:53 2017 +0530

    PHOENIX-3271 Distribute UPSERT SELECT across cluster

 .../phoenix/monitoring/PhoenixMetricsIT.java       | 56 ++++---------
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  6 ++
 .../org/apache/phoenix/compile/UpsertCompiler.java | 38 ++++-----
 .../UngroupedAggregateRegionObserver.java          | 97 ++++++++++++++++++++--
 .../java/org/apache/phoenix/schema/PTableImpl.java | 10 +++
 5 files changed, 138 insertions(+), 69 deletions(-)

commit 069c371aec23a6b87519615eda7eafb895cb1af0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jan 26 15:49:33 2017 -0800

    PHOENIX-3614 Use unique name for index in TransactionIT#testNonTxToTxTable

 phoenix-core/src/it/java/org/apache/phoenix/tx/TransactionIT.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit a44d317e32d383c4964824448bf12dfb8ed8bfec
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jan 26 15:31:43 2017 -0800

    PHOENIX-541 Make mutable batch size bytes-based instead of row-based (Geoffrey Jacoby)

 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 35 +++++++++++++++
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  2 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  2 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  1 -
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  2 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  2 +-
 .../UngroupedAggregateRegionObserver.java          | 31 ++++++++-----
 .../org/apache/phoenix/execute/MutationState.java  | 51 ++++++++++++++++++++--
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 10 ++++-
 .../index/PhoenixIndexImportDirectMapper.java      | 19 +++++---
 .../org/apache/phoenix/query/QueryServices.java    |  3 ++
 .../apache/phoenix/query/QueryServicesOptions.java |  7 ++-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |  6 +++
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 12 ++++-
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java |  9 ++++
 .../java/org/apache/phoenix/util/JDBCUtilTest.java | 21 ++++++++-
 16 files changed, 181 insertions(+), 32 deletions(-)

commit b9323e1d30ba6b449f059b86ae7b8157de16b13d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jan 23 15:05:37 2017 +0530

    PHOENIX-3351 Implement TODOs in PhoenixTableModify#upsert to allow writes to tenant specific tables(Rajeshbabu)

 .../org/apache/phoenix/compile/UpsertCompiler.java | 44 ++++++++++++++++------
 1 file changed, 32 insertions(+), 12 deletions(-)

commit 9b7f3ca5b2e6bbf0757d99fbe48b3065e79d6066
Author: Geoffrey <gjacoby@salesforce.com>
Date:   Thu Jan 19 16:08:20 2017 -0800

    PHOENIX-3611 Cache for client connections will expire (and close) entries in LRU fashion.
    
    Signed-off-by: Andrew Purtell <apurtell@apache.org>

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 99 ++++++++++++++--------
 .../org/apache/phoenix/query/QueryServices.java    |  5 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +
 3 files changed, 70 insertions(+), 36 deletions(-)

commit 4e4f7ddba9bddec94793e92698346dedfb520c9e
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jan 20 23:11:43 2017 +0530

    PHOENIX-3613 Avoid possible SQL Injection with proper input validations(Rajeshbabu)

 .../phoenix/tracingwebapp/http/EntityFactory.java   | 19 +------------------
 .../phoenix/tracingwebapp/http/TraceServlet.java    | 21 +++++++++++++++++++--
 2 files changed, 20 insertions(+), 20 deletions(-)

commit e7ef25eca2468e6d0a154b5e3539219f07748f22
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jan 20 19:05:06 2017 +0530

    PHOENIX-3608 KeyRange interset should return EMPTY_RANGE when one of it is NULL_RANGE(Rajeshbabu)

 phoenix-core/src/main/java/org/apache/phoenix/query/KeyRange.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 895cb1dfca01a9cfffe7d25eaa524f944cb53952
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jan 20 18:39:39 2017 +0530

    PHOENIX-3468 Double quote SYSTEM, USER,DATE keywords in IT tests(Rajeshbabu)

 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  2 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   | 16 +++---
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  2 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  2 +-
 .../phoenix/end2end/ArrayFillFunctionIT.java       | 28 ++++-----
 .../end2end/BaseTenantSpecificTablesIT.java        |  4 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 60 ++++++++++----------
 .../org/apache/phoenix/end2end/DateTimeIT.java     |  6 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 26 ++++-----
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  5 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 10 ++--
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  6 +-
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 47 +++++++--------
 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 37 ++++++------
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  8 +--
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 12 ++--
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java | 66 +++++++++++-----------
 .../org/apache/phoenix/end2end/UpsertValuesIT.java | 20 +++----
 .../phoenix/compile/JoinQueryCompilerTest.java     |  6 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  8 ++-
 20 files changed, 178 insertions(+), 193 deletions(-)

commit a675211909415ca376e432d25f8a8822aadf5712
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Jan 18 13:27:17 2017 +0530

    PHOENIX-3134 varbinary fields bulk load difference between MR/psql and upserts

 .../phoenix/expression/function/EncodeFormat.java  |  4 +-
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |  7 +-
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 12 +++-
 .../org/apache/phoenix/query/QueryServices.java    |  3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  9 ++-
 .../org/apache/phoenix/schema/types/PBinary.java   |  6 +-
 .../apache/phoenix/schema/types/PVarbinary.java    |  5 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 11 +++
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java | 25 +++++++
 .../phoenix/util/json/JsonUpsertExecutor.java      | 44 ++++++++++++
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |  8 +--
 .../phoenix/util/AbstractUpsertExecutorTest.java   | 82 +++++++++++++++++++---
 .../phoenix/util/csv/CsvUpsertExecutorTest.java    | 26 +++----
 .../phoenix/util/json/JsonUpsertExecutorTest.java  |  6 ++
 14 files changed, 207 insertions(+), 41 deletions(-)

commit 7332fc30c66b67d36cee7474afb04c73d01e43c3
Author: Josh Elser <elserj@apache.org>
Date:   Thu Jan 5 12:34:48 2017 -0500

    PHOENIX-3567 Use argparse for sqlline

 bin/phoenix_utils.py |  5 +++++
 bin/sqlline-thin.py  | 17 ++++++++---------
 bin/sqlline.py       | 52 ++++++++++++++++++++++------------------------------
 3 files changed, 35 insertions(+), 39 deletions(-)

commit eb72fa892ac105251e21355eb8b9fefb35e92819
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jan 13 11:12:48 2017 -0800

    PHOENIX-3553 Zookeeper connection should be closed immediately after DefaultStatisticsCollector's collecting stats done (Yeonseop Kim)

 .../schema/stats/DefaultStatisticsCollector.java   | 32 ++++++++++++++++------
 1 file changed, 23 insertions(+), 9 deletions(-)

commit f5de28b6d79141c555c994a94af7b4078872d845
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 10 17:36:42 2017 -0800

    PHOENIX-3584 Expose metrics for ConnectionQueryServices instances and their allocators in the JVM

 .../phoenix/monitoring/PhoenixMetricsIT.java       | 135 +++++++++++++++++++++
 .../phoenix/monitoring/GlobalClientMetrics.java    |   6 +-
 .../org/apache/phoenix/monitoring/MetricType.java  |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  10 ++
 4 files changed, 153 insertions(+), 2 deletions(-)

commit d8f4594989c0b73945aaffec5649a0b62ac59724
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Jan 4 16:48:44 2017 -0800

    PHOENIX-3563 Ensure we release ZooKeeper resources allocated by the Tephra client embedded in the Phoenix connection

 .../phoenix/query/ConnectionQueryServicesImpl.java | 37 ++++++++++++++--------
 1 file changed, 23 insertions(+), 14 deletions(-)

commit a164f0327e568a515ce9da2f5760c57a4d4dd188
Author: Josh Elser <elserj@apache.org>
Date:   Thu Jan 5 12:48:21 2017 -0500

    PHOENIX-3565 Set failIfNoTests=false on surefire and failsafe

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit e4c6f5cde940931bb4be82c7aa7959de58857ad8
Author: Josh Elser <elserj@apache.org>
Date:   Thu Jan 5 13:37:59 2017 -0500

    PHOENIX-3557 Provide a good error message when an invalid test pattern was provided

 .../java/org/apache/phoenix/end2end/End2EndTestDriver.java   | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit a0e5efcec5a1a732b2dce9794251242c3d66eea6
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Tue Jan 3 09:57:46 2017 -0500

    PHOENIX-3333 Support Spark 2.0
    
    Note that the default maven profile will compile for Spark 2.0.2
    and Scala 2.11. To switch to the previous behavior, use Maven
    profile 'spark16'.

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 26 +++++++++++++++++-----
 .../apache/phoenix/spark/DataFrameFunctions.scala  |  6 ++---
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |  6 ++---
 .../apache/phoenix/spark/ProductRDDFunctions.scala |  3 +--
 pom.xml                                            | 14 +++++++++---
 5 files changed, 39 insertions(+), 16 deletions(-)

commit 07f92732f9c6d2d9464012cebeb4cefc10da95d5
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Dec 22 17:29:35 2016 -0800

    PHOENIX-3516 Performance Issues with queries that have compound filters and specify phoenix.query.force.rowkeyorder=true (addendum)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java   | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit b32699505d18b5b93b4072e0b146df6b8ddaa7fb
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Dec 26 16:54:13 2016 +0530

    PHOENIX-3544 Fix UNSIGNED_DATE and UNSIGNED_TIME type in phoenix-spark

 phoenix-spark/src/it/resources/globalSetup.sql                    | 5 ++++-
 .../src/it/scala/org/apache/phoenix/spark/PhoenixSparkIT.scala    | 8 ++++++++
 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala      | 5 ++---
 3 files changed, 14 insertions(+), 4 deletions(-)

commit e906841fb2c96615f0d50b06c48bdeda78379c94
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Dec 26 12:28:14 2016 +0530

    PHOENIX-2890 Extend IndexTool to allow incremental index rebuilds(addendum)

 .../end2end/IndexToolForPartialBuildWithNamespaceEnabledIT.java       | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 83827cd8c2876c6b6dccf3a5678889b40a76261b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Dec 26 11:59:19 2016 +0530

    PHOENIX-2890 Extend IndexTool to allow incremental index rebuilds

 .../apache/phoenix/end2end/AutomaticRebuildIT.java | 219 ++++++++++
 .../end2end/IndexToolForPartialBuildIT.java        | 298 ++++++++++++++
 ...xToolForPartialBuildWithNamespaceEnabledIT.java |  70 ++++
 .../phoenix/end2end/index/IndexMetadataIT.java     |  58 +++
 .../end2end/index/MutableIndexFailureIT.java       |  10 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   9 +-
 .../coprocessor/MetaDataRegionObserver.java        | 291 ++++++++-----
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  52 +--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   8 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 455 +++++++++++++++------
 .../phoenix/mapreduce/index/IndexToolUtil.java     |   6 +-
 .../index/PhoenixIndexImportDirectMapper.java      |   2 +-
 .../index/PhoenixIndexPartialBuildMapper.java      | 182 +++++++++
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  31 ++
 .../apache/phoenix/parse/AlterIndexStatement.java  |   8 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   6 +-
 .../org/apache/phoenix/query/QueryServices.java    |   4 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  47 ++-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  61 ++-
 22 files changed, 1504 insertions(+), 322 deletions(-)

commit 70dc3836ac4d472bb55e79a723a1d2a1d30d75de
Author: Josh Elser <elserj@apache.org>
Date:   Wed Nov 9 13:30:15 2016 -0500

    PHOENIX-32451 Support DATE and TIMESTAMP in CONVERT_TZ()

 .../phoenix/end2end/ConvertTimezoneFunctionIT.java | 22 +++++++++++++++++++++-
 .../function/ConvertTimezoneFunction.java          |  5 +++--
 2 files changed, 24 insertions(+), 3 deletions(-)

commit e23634a358929516ce210fe06d668ce475eccccb
Author: Josh Elser <elserj@apache.org>
Date:   Wed Nov 23 11:16:35 2016 -0500

    PHOENIX-3505 Avoid NPE on close() in OrderedResultIterator

 .../phoenix/iterate/OrderedResultIterator.java     |  5 ++-
 .../phoenix/iterate/OrderedResultIteratorTest.java | 41 ++++++++++++++++++++++
 2 files changed, 45 insertions(+), 1 deletion(-)

commit c5046047a78e0365d75bc696dff4870304c2b5b2
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Dec 20 17:56:37 2016 -0800

    PHOENIX-3516 Performance Issues with queries that have compound filters and specify phoenix.query.force.rowkeyorder=true

 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 47 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereCompiler.java  |  3 +-
 .../org/apache/phoenix/util/ExpressionUtil.java    | 10 +++++
 .../phoenix/query/KeyRangeIntersectTest.java       |  9 ++++-
 4 files changed, 67 insertions(+), 2 deletions(-)

commit bd2acd5404ce03fb330a72bbf346546b7f4fbd2b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Dec 22 13:17:20 2016 +0530

    PHOENIX-3540 Fix Time data type in Phoenix Spark integration

 phoenix-spark/src/it/resources/globalSetup.sql            |  2 ++
 .../scala/org/apache/phoenix/spark/PhoenixSparkIT.scala   | 12 ++++++++++++
 .../main/scala/org/apache/phoenix/spark/PhoenixRDD.scala  | 15 ++++++++-------
 3 files changed, 22 insertions(+), 7 deletions(-)

commit 108b78deed29b42b9a37470abb8e832108182361
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Dec 21 17:44:20 2016 -0800

    PHOENIX-3535 Addendum to fix test failures

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31f3a46352f5ad6eb165ffd903968014ae6ff253
Author: Eric Lomore <eric.lomore@gmail.com>
Date:   Wed Dec 21 17:16:54 2016 -0800

    PHOENIX-3355 Register Phoenix built-in functions as Calcite functions

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 48 +++++++++++-----------
 .../phoenix/end2end/DefaultColumnValueIT.java      |  6 +--
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |  2 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  6 +--
 .../function/ByteBasedRegexpReplaceFunction.java   | 11 +++++
 .../function/ByteBasedRegexpSplitFunction.java     | 10 +++++
 .../function/ByteBasedRegexpSubstrFunction.java    | 16 ++++++++
 .../expression/function/CeilDateExpression.java    | 14 +++++++
 .../expression/function/CeilDecimalExpression.java | 13 ++++++
 .../phoenix/expression/function/CeilFunction.java  | 10 ++++-
 .../function/CeilTimestampExpression.java          | 13 ++++++
 .../expression/function/CurrentDateFunction.java   |  9 ++++
 .../expression/function/CurrentTimeFunction.java   |  9 ++++
 .../expression/function/FirstValueFunction.java    |  4 ++
 .../expression/function/FloorDateExpression.java   | 13 ++++++
 .../function/FloorDecimalExpression.java           | 13 ++++++
 .../phoenix/expression/function/FloorFunction.java |  5 ++-
 .../expression/function/LastValueFunction.java     |  4 ++
 .../expression/function/MaxAggregateFunction.java  |  4 ++
 .../expression/function/MinAggregateFunction.java  |  4 ++
 .../phoenix/expression/function/NowFunction.java   |  5 ++-
 .../expression/function/NthValueFunction.java      |  4 ++
 .../expression/function/RegexpReplaceFunction.java |  5 ++-
 .../expression/function/RegexpSplitFunction.java   |  4 +-
 .../expression/function/RegexpSubstrFunction.java  |  5 ++-
 .../expression/function/RoundDateExpression.java   | 12 ++++++
 .../function/RoundDecimalExpression.java           | 12 ++++++
 .../phoenix/expression/function/RoundFunction.java |  5 ++-
 .../function/RoundTimestampExpression.java         | 14 ++++++-
 .../function/StringBasedRegexpReplaceFunction.java | 12 ++++++
 .../function/StringBasedRegexpSplitFunction.java   | 10 +++++
 .../function/StringBasedRegexpSubstrFunction.java  | 12 ++++++
 .../expression/function/ToCharFunction.java        | 34 +++++++++++++++
 .../expression/function/ToDateFunction.java        | 14 +++++++
 .../expression/function/ToNumberFunction.java      | 34 +++++++++++++++
 .../expression/function/ToTimeFunction.java        |  6 +++
 .../expression/function/ToTimestampFunction.java   |  5 +++
 .../phoenix/expression/function/TruncFunction.java |  5 ++-
 .../apache/phoenix/parse/FunctionParseNode.java    | 31 ++++++++++++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 38 +++++++++++------
 40 files changed, 429 insertions(+), 52 deletions(-)

commit b5ab53d9650910c2ff3a08f30c2c6f182693a004
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Dec 21 15:12:30 2016 -0800

    PHOENIX-3535 Fix race condition in ConnectionQueryServicesImpl#acquireUpgradeMutex

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 43 +++++++++-----------
 .../phoenix/query/ConnectionQueryServicesImpl.java | 46 ++++++++++++----------
 2 files changed, 44 insertions(+), 45 deletions(-)

commit 436bab01d125383f6172120337098509c5e86b9a
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Dec 19 15:43:31 2016 -0800

    PHOENIX-3524 Changing the APPEND_ONLY_SCHEMA property using an ALTER TABLE does not work

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 97 +++++++++++++++++-----
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |  9 +-
 .../phoenix/end2end/ImmutableTablePropIT.java      | 42 +++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 32 +++++--
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 14 ----
 .../phoenix/query/ConnectionQueryServices.java     |  3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 22 +----
 .../query/ConnectionlessQueryServicesImpl.java     | 16 +---
 .../query/DelegateConnectionQueryServices.java     | 14 +---
 .../org/apache/phoenix/query/MetaDataMutated.java  |  1 -
 .../org/apache/phoenix/schema/MetaDataClient.java  | 62 ++++++++------
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 24 ------
 .../phoenix/schema/PSynchronizedMetaData.java      | 17 ----
 .../org/apache/phoenix/schema/TableProperty.java   | 90 +++++++++++++++++---
 15 files changed, 269 insertions(+), 176 deletions(-)

commit e45b5a706107e31bc6e5b8289725db097b2820eb
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Mon Dec 19 11:15:15 2016 -0500

    PHOENIX-3532 Pass tenantId parameter to PhoenixRDD when reading (Nico Pappagianis)

 phoenix-spark/src/it/resources/tenantSetup.sql     |  1 +
 .../phoenix/spark/AbstractPhoenixSparkIT.scala     |  5 --
 .../spark/PhoenixSparkITTenantSpecific.scala       | 99 ++++++++++++++--------
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 16 +++-
 .../phoenix/spark/SparkContextFunctions.scala      |  4 +-
 .../phoenix/spark/SparkSqlContextFunctions.scala   |  6 +-
 6 files changed, 85 insertions(+), 46 deletions(-)

commit 8c636a42149f3b3783edda87be6db4ee99df96ec
Author: Josh Elser <elserj@apache.org>
Date:   Sat Dec 3 17:33:46 2016 -0500

    PHOENIX-3517 Switch sqlline-thin.py to use argparse

 bin/sqlline-thin.py | 49 ++++++++++++++++++++++++++++++-------------------
 1 file changed, 30 insertions(+), 19 deletions(-)

commit 006beddec042c1642261a79d632b987491e7d361
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Nov 28 17:08:27 2016 -0800

    PHOENIX-3445 Add a CREATE IMMUTABLE TABLE construct to make immutable tables more explicit

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 14 ++--
 .../phoenix/end2end/AlterTableWithViewsIT.java     | 41 ++++++++++
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java | 21 ++---
 .../phoenix/end2end/ImmutableTablePropIT.java      | 92 ++++++++++++++++++++++
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  3 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  7 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  4 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  8 +-
 .../apache/phoenix/parse/CreateTableStatement.java | 14 +++-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  4 +-
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 23 +++---
 .../org/apache/phoenix/schema/TableProperty.java   | 50 ++++++------
 13 files changed, 218 insertions(+), 64 deletions(-)

commit 7a1f971b598ec8b45023e3866fb03009ff345315
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Dec 15 15:42:12 2016 -0800

    PHOENIX-3537 Clients not able to resolve sequences when the SYSTEM.SEQUENCE table is salted

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d9d53bc1498a85ce73e89ba63d0bfaed96a186e3
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Thu Dec 15 14:38:15 2016 -0500

    PHOENIX-2084 Support loading JSON data using phoenix-flume (Kalyan Hadoop)

 phoenix-flume/pom.xml                              |  12 +
 .../phoenix/flume/JsonEventSerializerIT.java       | 541 +++++++++++++++++++++
 .../org/apache/phoenix/flume/FlumeConstants.java   |   7 +-
 .../flume/serializer/BaseEventSerializer.java      |   4 +-
 .../phoenix/flume/serializer/EventSerializers.java |   2 +-
 .../flume/serializer/JsonEventSerializer.java      | 226 +++++++++
 6 files changed, 789 insertions(+), 3 deletions(-)

commit 1a6a689b87de9c58e784276d542ed0bdb555962b
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Dec 12 11:58:07 2016 -0800

    TTL on UPGRADE_LOCK cell causes upgrade to fail

 .../phoenix/query/ConnectionQueryServicesImpl.java       | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 724cc4698fb7058044b859efa408f266fc2f7783
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Dec 12 11:56:34 2016 -0800

    Memory Leak in RenewLeaseTask

 .../phoenix/query/ConnectionQueryServicesImpl.java | 33 ++++++++++++++++------
 1 file changed, 25 insertions(+), 8 deletions(-)

commit 2e7670cacb12839cdc14f8dea5177c9bf9501dab
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Dec 7 23:59:11 2016 -0800

    PHOENIX-3522 Altering the mutability of a parent table does not propagate to the child views

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 40 +++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 46 ++++++++++++++++++++--
 .../org/apache/phoenix/schema/TableProperty.java   | 12 ++++++
 3 files changed, 94 insertions(+), 4 deletions(-)

commit 683e1f0fe8f61e6c01f766a9d25ca3e953691464
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 28 15:59:12 2016 -0800

    Set version to 4.10.0-HBase-1.2-SNAPSHOT after release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 13 files changed, 13 insertions(+), 13 deletions(-)

commit e19c1734ea5aa0c0ee0e887c283a4712eb2dc803
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Nov 23 09:58:59 2016 -0800

    Set version to 5.0.0-HBase-1.2-SNAPSHOT after release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 13 files changed, 13 insertions(+), 13 deletions(-)

commit 279eb170761dbe081a0ffe93205f3a9294f4e3ea
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 18 15:20:34 2016 -0800

    PHOENIX-3501 Push limit to server for distinct optimization

 .../java/org/apache/phoenix/end2end/DistinctPrefixFilterIT.java  | 1 +
 .../java/org/apache/phoenix/iterate/BaseResultIterators.java     | 9 ++++++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 9109026240ef0a0ece534f0b625a34c49be44568
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 18 13:34:58 2016 -0800

    PHOENIX-3491 OrderBy can not be compiled out if GroupBy is not orderPreserving and OrderBy is reverse (chenglei)

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 317 +++++++++++++++-
 .../phoenix/compile/OrderPreservingTracker.java    |  10 -
 .../org/apache/phoenix/execute/AggregatePlan.java  |  14 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 419 ++++++++++++++++++++-
 4 files changed, 743 insertions(+), 17 deletions(-)

commit 66d6bba6d8fa1d58eb636458f9f7095b8f4f5059
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 18 12:41:08 2016 -0800

    PHOENIX-3484 Major compaction does not update statistics based on table specific GUIDE_POSTS_WIDTH

 .../java/org/apache/phoenix/end2end/GroupByCaseIT.java   | 16 ++++++++++++++++
 .../phoenix/schema/stats/DefaultStatisticsCollector.java |  7 +++----
 2 files changed, 19 insertions(+), 4 deletions(-)

commit 3b3d8ad3ab3bb0fae013154878ba0467691c5b30
Author: William Yang <yhxx511@163.com>
Date:   Fri Nov 18 10:57:19 2016 -0800

    PHOENIX-3498 Query with index failed when query back to data table with desc PK column

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 45 ++++++++++++++++++++++
 .../org/apache/phoenix/join/HashCacheClient.java   |  4 +-
 2 files changed, 47 insertions(+), 2 deletions(-)

commit 8152131e41f9944940b1fd071d815dd5199d5a63
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Nov 18 08:03:34 2016 -0800

    Revert "PHOENIX-3497 Provide a work around for HBASE-17122"

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 24 ----------------------
 .../phoenix/iterate/BaseResultIterators.java       | 16 ---------------
 .../java/org/apache/phoenix/util/ServerUtil.java   |  5 -----
 3 files changed, 45 deletions(-)

commit 3aa9c43fd5a8612b63edc42507b057ba8215dac4
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Nov 17 23:38:47 2016 -0800

    PHOENIX-3497 Provide a work around for HBASE-17122

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 24 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       | 16 +++++++++++++++
 .../java/org/apache/phoenix/util/ServerUtil.java   |  5 +++++
 3 files changed, 45 insertions(+)

commit 404b4ede75f0661acad02caf77af19494cc3fc0c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Nov 17 17:15:34 2016 -0800

    Ignore LocalIndexIT#testLocalIndexRoundTrip till PHOENIX-3496 is fixed

 .../src/it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 29c025e25430bb9705ec15896f6d02aa7a5e1131
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Nov 17 17:02:17 2016 -0800

    PHOENIX-3494 ArrayIndexOutOfBoundsException with decimal desc key

 .../main/java/org/apache/phoenix/schema/types/PDataType.java | 12 ++++++------
 .../java/org/apache/phoenix/schema/types/PDataTypeTest.java  |  2 +-
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 8e2f087bdb3b86fcbdf2e7e00918b8abb2ac8752
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Nov 17 16:12:44 2016 -0800

    PHOENIX-3494 ArrayIndexOutOfBoundsException with decimal desc key

 .../org/apache/phoenix/end2end/UpsertValuesIT.java | 22 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/types/PDataType.java |  4 ++--
 .../org/apache/phoenix/schema/types/PDecimal.java  |  6 +++---
 .../apache/phoenix/schema/types/PDataTypeTest.java | 18 +++++++++++++-----
 4 files changed, 40 insertions(+), 10 deletions(-)

commit d59f0e539836adad3c38dd4450b15e2c5233ca29
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Tue Nov 8 11:26:29 2016 +0900

    PHOENIX-3391 Supporting Hive 2.1.0 in PhoenixStorageHandler
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../apache/phoenix/hive/mapreduce/PhoenixInputFormat.java    |  5 ++---
 .../apache/phoenix/hive/util/PhoenixStorageHandlerUtil.java  | 12 ++++++++++++
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 659671a411cdbf055ce107d2e83571e66024b4f1
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Nov 16 17:07:08 2016 -0800

    PHOENIX-3490 PhoenixStorageHandler doesn't handler hbase configuration properly and don't work in secured env

 .../apache/phoenix/hive/PhoenixStorageHandler.java | 55 ++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit f1ecd4f7d809c037c8b716672faf5f3b6f3d452f
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Nov 17 00:11:27 2016 -0800

    PHOENIX-3482 Addendum to fix the test failure

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 33 +++++++++++++++-------
 1 file changed, 23 insertions(+), 10 deletions(-)

commit 3f76e11802bcdc90b12f12e90494c1ebdcfb90fc
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Nov 16 10:40:31 2016 -0800

    PHOENX-3451 Incorrect determination of preservation of order for an aggregate query leads to incorrect query results (chenglei)

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  51 ++++++++++-
 .../phoenix/compile/OrderPreservingTracker.java    | 100 ++++++++++++++++++--
 .../apache/phoenix/compile/QueryCompilerTest.java  | 101 +++++++++++++++++++++
 3 files changed, 245 insertions(+), 7 deletions(-)

commit 0d138cfae748510d58631a93af2a5c402f3c9e3f
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Nov 14 16:46:04 2016 -0800

    PHOENIX-3469 Incorrect sort order for DESC primary key for NULLS LAST/NULLS FIRST (chenglei)

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 233 ++++++++++++++++++
 .../apache/phoenix/compile/OrderByCompiler.java    |   1 -
 .../phoenix/expression/OrderByExpression.java      |   1 -
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 271 ++++++++++++++++++++-
 5 files changed, 504 insertions(+), 4 deletions(-)

commit 6fd8e72045fd0a8808cb774f7f5f7a96ef0cef79
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Nov 14 16:36:16 2016 -0800

    PHOENIX-3452 NULLS FIRST/NULL LAST should not impact whether GROUP BY is order preserving (chenglei)

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 308 ++++++++++++++++++++
 .../phoenix/compile/OrderPreservingTracker.java    |   6 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 319 +++++++++++++++++++++
 3 files changed, 630 insertions(+), 3 deletions(-)

commit 7cdd7ca00574a6d815d367be883952bc30d006fc
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 16 17:57:35 2016 -0800

    PHOENIX-3482 Provide a work around for HBASE-17096

 .../phoenix/query/ConnectionQueryServicesImpl.java | 27 ++++++++++++----------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit 164abe483f05ea77088ee130a94523a6c3d85f82
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 16 14:28:55 2016 -0800

    PHOENIX-3487 IndexIT#testTableDescriptorPriority fails

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 28 +++++++++++++++-------
 1 file changed, 19 insertions(+), 9 deletions(-)

commit 38582f751fb25421677324683d6e50eb5bd67d90
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 16 09:12:28 2016 -0800

    PHOENIX-3485 Addendum - Use get() instead of getStrings() for retrieving zkquorum

 .../src/it/java/org/apache/phoenix/end2end/CsvBulkLoadToolIT.java | 6 ------
 phoenix-core/src/main/java/org/apache/phoenix/util/QueryUtil.java | 8 ++------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit 4e65d30e0c4f578638e3c5f911cde4349ce5e172
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 16 08:04:16 2016 -0800

    CSVBulkLoadToolIT failing consistently because transaction service client init fails

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |  7 ++---
 .../java/org/apache/phoenix/util/QueryUtil.java    | 36 +++-------------------
 2 files changed, 7 insertions(+), 36 deletions(-)

commit 0f2e972eabfb6ddcc51e36e9b0cffaf6ef5347bb
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Nov 15 13:52:13 2016 -0800

    PHOENIX-3481 Addendum - Use physical table name in modifyTable

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c763cf97f3c1b2013aae81a6b938e798bb242a9e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Nov 15 10:42:46 2016 -0800

    PHOENIX-3481 Phoenix initialization fails for HBase 0.98.21 and beyond

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 9 +--------
 .../src/main/java/org/apache/phoenix/util/ServerUtil.java        | 5 +++++
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 3b07c2f1bad96210e9a81079aed1149f5fcb71bc
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Thu Nov 10 18:59:25 2016 -0500

    PHOENIX-3427 phoenix-spark: Table undefined for tenant specific view (Nico Pappagianis) [Addendum]

 .../org/apache/phoenix/spark/AbstractPhoenixSparkIT.scala     | 11 +++++++----
 .../apache/phoenix/spark/PhoenixSparkITTenantSpecific.scala   | 11 ++---------
 2 files changed, 9 insertions(+), 13 deletions(-)

commit e1fb7d52a202d3b93c3c80705c4057a0efd0a9d7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Nov 10 12:51:10 2016 -0800

    PHOENIX-3461 Addendum - make coprocessor class in RenewLeaseIT static

 .../src/it/java/org/apache/phoenix/end2end/RenewLeaseIT.java        | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 3886638b04a3e494be70e1e681ad56cb1c7e33c5
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Thu Nov 10 14:02:59 2016 -0500

    PHOENIX-3427 phoenix-spark: Table undefined for tenant specific view (Nico Pappagianis)

 .../it/resources/{setup.sql => globalSetup.sql}    |   2 +
 phoenix-spark/src/it/resources/tenantSetup.sql     |  17 ++++
 .../phoenix/spark/AbstractPhoenixSparkIT.scala     | 110 ++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 105 ++++---------------
 .../spark/PhoenixSparkITTenantSpecific.scala       | 111 +++++++++++++++++++++
 .../apache/phoenix/spark/ConfigurationUtil.scala   |  14 ++-
 .../apache/phoenix/spark/DataFrameFunctions.scala  |   9 +-
 .../org/apache/phoenix/spark/DefaultSource.scala   |   8 +-
 .../apache/phoenix/spark/ProductRDDFunctions.scala |   9 +-
 9 files changed, 288 insertions(+), 97 deletions(-)

commit 32aff39108b09985c5246b330ea22ab231511af2
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 9 23:59:14 2016 -0800

    PHOENIX-3461 Addendum: Tweak utility method to use configuration object. Add tests.

 .../apache/phoenix/end2end/BaseOwnClusterIT.java   |  16 ++--
 .../end2end/BaseUniqueNamesOwnClusterIT.java       |  38 ++++++++
 .../end2end/CountDistinctCompressionIT.java        |   7 +-
 .../org/apache/phoenix/end2end/QueryTimeoutIT.java |  18 ++--
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  30 +++---
 .../org/apache/phoenix/end2end/RenewLeaseIT.java   |   6 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 103 +++++++++++++--------
 .../SysTableNamespaceMappedStatsCollectorIT.java   |  49 ++++++++++
 .../phoenix/end2end/index/BaseLocalIndexIT.java    |   4 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   4 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |  42 +++++----
 .../RoundRobinResultIteratorWithStatsIT.java       |  21 +++--
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  60 ++++++------
 .../org/apache/phoenix/rpc/PhoenixClientRpcIT.java |  33 ++++---
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  42 +++++----
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  10 +-
 16 files changed, 329 insertions(+), 154 deletions(-)

commit 1799cd62a479e68e3081d6982917f75d0c237cea
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Nov 7 23:29:43 2016 -0800

    PHOENIX-3461 Statistics collection broken if name space mapping enabled for SYSTEM tables

 .../org/apache/phoenix/schema/stats/DefaultStatisticsCollector.java    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7d783c51968fb39707e62eff207d3e3d97687961
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Nov 7 16:47:49 2016 -0800

    PHOENIX-3463 ViewIndexIT#testUpdateOnTenantViewWithGlobalView doesn't test namespace mapping correctly

 .../org/apache/phoenix/end2end/index/ViewIndexIT.java   | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 59390dc010caeff5b73f5a0714de38c55d099969
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Nov 7 16:47:09 2016 -0800

    PHOENIX-3462 BaseLocalIndexIT is changing server side properties of the shared test cluster

 .../it/java/org/apache/phoenix/end2end/index/BaseLocalIndexIT.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5cf9dc8bf1f582b3e897bb3eed4664bedc4f1cd4
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 5 23:46:55 2016 -0700

    PHOENIX-3457 Adjust build settings in pom to improve consistency

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a313862411b4f6243a0a6e84e35f13b2bddd41de
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 5 21:17:56 2016 -0700

    PHOENIX-3457 Adjust build settings in pom to improve consistency

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 397f60609b87317f42470790167421eca74db2de
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 5 21:16:41 2016 -0700

    PHOENIX-3439 Query using an RVC based on the base table PK is incorrectly using an index and doing a full scan instead of a point query

 .../org/apache/phoenix/compile/ScanRanges.java     | 18 ++++++--
 .../apache/phoenix/optimize/QueryOptimizer.java    | 15 ++++---
 .../apache/phoenix/compile/QueryOptimizerTest.java | 50 ++++++++++++++++++++++
 3 files changed, 75 insertions(+), 8 deletions(-)

commit d2b4c4c71905e21241d6276a3cb1ae3a20bb5079
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 5 11:07:47 2016 -0700

    PHOENIX-3457 Adjust build settings in pom to improve consistency

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f0295e5cab015515b3e7a687949f2e332e3c752c
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Nov 5 07:25:41 2016 -0700

    PHOENIX-3457 Disable parallel run of tests and increase memory

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 10c81438b6146232caa970d7fd485412bd680f2c
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 4 23:35:27 2016 -0700

    PHOENIX-3457 Disable parallel run of tests and increase memory

 pom.xml | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit d5b8016db1a9648f83455942cdd0179b9d5981ab
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 4 22:58:44 2016 -0700

    PHOENIX-3456 Use unique table names for MutableIndexFailureIT

 .../phoenix/end2end/index/MutableIndexFailureIT.java    | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 77ab7dfa233d57cfc4e5dcff33d2e4d0dad7959c
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 4 19:39:19 2016 -0700

    PHOENIX-3449 Ignore hanging IndexExtendedIT tests until they can be investigated

 .../it/java/org/apache/phoenix/end2end/IndexExtendedIT.java   | 11 ++---------
 .../apache/phoenix/end2end/index/ReadOnlyIndexFailureIT.java  |  5 +----
 2 files changed, 3 insertions(+), 13 deletions(-)

commit b157c485d5fc821b38319eb3f497063c1e9f0ffa
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 4 18:47:03 2016 -0700

    PHOENIX-3454 ON DUPLICATE KEY construct doesn't work correctly when using lower case column names

 .../apache/phoenix/end2end/OnDuplicateKeyIT.java   | 37 ++++++++++++++++++++++
 .../apache/phoenix/index/PhoenixIndexBuilder.java  | 13 ++++++--
 2 files changed, 48 insertions(+), 2 deletions(-)

commit e4e1570b83ca0141fc19421a0bd5217ebb37f512
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Nov 4 09:15:19 2016 -0700

    PHOENIX-3199 ServerCacheClient sends cache to all regions unnecessarily (chenglei)

 .../java/org/apache/phoenix/cache/ServerCacheClient.java   | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 51918bb812f950f6882e9b731967fecf930b3674
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Nov 3 19:05:45 2016 -0700

    PHOENIX-3449 Ignore hanging IndexExtendedIT tests until they can be investigated

 .../org/apache/phoenix/end2end/IndexExtendedIT.java  | 20 ++++++++++++++++++--
 1 file changed, 18 insertions(+), 2 deletions(-)

commit b47973a219228ff3ec190bb7e6facf6ba589e10d
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Nov 3 16:45:22 2016 -0700

    PHOENIX-3439 Query using an RVC based on the base table PK is incorrectly using an index and doing a full scan instead of a point query

 .../src/main/java/org/apache/phoenix/compile/ScanRanges.java   | 10 +++++++++-
 .../java/org/apache/phoenix/compile/QueryOptimizerTest.java    | 10 ++++++++++
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 49914c2e8062bf6b175dc987fac97b3f0e659dbe
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Nov 3 16:21:28 2016 -0700

    PHOENIX-3421 Column name lookups fail when on an indexed table

 .../org/apache/phoenix/end2end/QueryMoreIT.java    |   4 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 132 ++++++++++++++++++++-
 .../phoenix/util/PhoenixEncodeDecodeTest.java      |   4 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |   8 +-
 4 files changed, 137 insertions(+), 11 deletions(-)

commit a6c9024c2534a953eb46ea21d20a06fe155d780a
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Nov 2 15:57:17 2016 -0700

    Add missing Apache license

 .../phoenix/hive/query/PhoenixQueryBuilderTest.java     | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit e40a2764530b624a58f9d5e577284c34b77283cb
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 2 13:23:29 2016 -0700

    PHOENIX-3435 Upgrade will fail for future releases because of use of timestamp as value for upgrade mutex

 .../phoenix/query/ConnectionQueryServicesImpl.java       | 16 ++++------------
 1 file changed, 4 insertions(+), 12 deletions(-)

commit cb59b2e5a144bc8075f897e6a91bfd388fb8cc44
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Nov 2 13:16:55 2016 -0700

    PHOENIX-3434 Avoid creating new Configuration in ClientAggregatePlan to improve performance

 .../org/apache/phoenix/execute/ClientAggregatePlan.java    |  8 +++++++-
 .../phoenix/expression/aggregator/ServerAggregators.java   | 14 --------------
 .../expression/function/SingleAggregateFunction.java       |  6 +++---
 .../org/apache/phoenix/query/ConnectionQueryServices.java  |  3 +++
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  |  5 +++++
 .../phoenix/query/ConnectionlessQueryServicesImpl.java     |  8 +++++++-
 .../phoenix/query/DelegateConnectionQueryServices.java     |  6 ++++++
 7 files changed, 31 insertions(+), 19 deletions(-)

commit b477f370c0519d5f5385927d3809fb4a5433a2ec
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Mon Oct 31 12:36:00 2016 +0900

    PHOENIX-3423 PhoenixObjectInspector doesn't have information on length of the column.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../phoenix/hive/objectinspector/PhoenixCharObjectInspector.java   | 7 ++++++-
 .../hive/objectinspector/PhoenixObjectInspectorFactory.java        | 2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit a37403cd9ff5c9c6913394fcbb18c97a6a267675
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Fri Oct 28 17:13:23 2016 +0900

    PHOENIX-3422 PhoenixQueryBuilder doesn't make value string correctly for char(/varchar) column type.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 phoenix-hive/pom.xml                               |   7 +-
 .../phoenix/hive/query/PhoenixQueryBuilder.java    | 129 +++++++++++----------
 .../hive/util/PhoenixStorageHandlerUtil.java       |   4 +-
 .../hive/query/PhoenixQueryBuilderTest.java        |  87 ++++++++++++++
 4 files changed, 163 insertions(+), 64 deletions(-)

commit 41c16a020fcd1cb143675ea17e2d9d3a56750a8a
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Oct 24 22:11:52 2016 -0700

    PHOENIX-3386 PhoenixStorageHandler throws NPE if local tasks executed via child
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../org/apache/phoenix/mapreduce/util/PhoenixConfigurationUtil.java  | 2 ++
 .../src/main/java/org/apache/phoenix/hive/PhoenixStorageHandler.java | 4 ++++
 .../java/org/apache/phoenix/hive/util/PhoenixStorageHandlerUtil.java | 5 ++---
 3 files changed, 8 insertions(+), 3 deletions(-)

commit c83d272b565447d39c42a4a8d3b0687bb2b5a16c
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Wed Oct 26 19:26:06 2016 +0900

    PHOENIX-3408 arithmetic/mathematical operations with Decimal columns failed in Hive with PheonixStorageHandler.
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../PhoenixDecimalObjectInspector.java                | 19 ++++++++++++++-----
 .../PhoenixObjectInspectorFactory.java                |  2 +-
 2 files changed, 15 insertions(+), 6 deletions(-)

commit e1afbcce546b822e81f7fa0fc37e0de6fe5b8d0c
Author: Jeongdae Kim <kjd9306@gmail.com>
Date:   Thu Oct 27 20:50:53 2016 +0900

    PHOENIX-3416 Memory leak in PhoenixStorageHandler
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../apache/phoenix/hive/PhoenixStorageHandler.java | 14 +---
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java | 37 +++++-----
 .../hive/ppd/PhoenixPredicateDecomposer.java       | 15 +++-
 .../ppd/PhoenixPredicateDecomposerManager.java     | 83 ----------------------
 4 files changed, 33 insertions(+), 116 deletions(-)

commit 86f51602b59100e67b0f87b247a07bdec6dfcb17
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Oct 20 23:42:39 2016 -0700

    PHOENIX-3387 Hive PhoenixStorageHandler fails with join on numeric fields
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../src/it/java/org/apache/phoenix/hive/HiveTestUtil.java     |  1 +
 .../hive/objectinspector/PhoenixBooleanObjectInspector.java   |  5 +++++
 .../hive/objectinspector/PhoenixByteObjectInspector.java      |  5 +++++
 .../hive/objectinspector/PhoenixDecimalObjectInspector.java   |  4 ++--
 .../hive/objectinspector/PhoenixDoubleObjectInspector.java    |  5 +++++
 .../hive/objectinspector/PhoenixFloatObjectInspector.java     |  5 +++++
 .../hive/objectinspector/PhoenixIntObjectInspector.java       | 11 +++++++++++
 .../hive/objectinspector/PhoenixLongObjectInspector.java      |  5 +++++
 .../hive/objectinspector/PhoenixShortObjectInspector.java     |  7 ++++++-
 9 files changed, 45 insertions(+), 3 deletions(-)

commit 268c395e63df2ee6b32fd23cfcb365439b2bfb93
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Nov 2 11:42:41 2016 -0700

    PHOENIX-3434 Avoid deserialization of ServerAggregators in ClientAggregatePlan to improve performance

 .../org/apache/phoenix/execute/ClientAggregatePlan.java  | 10 ++++------
 .../phoenix/expression/aggregator/Aggregators.java       |  5 ++++-
 .../phoenix/expression/aggregator/ServerAggregators.java | 16 ++++++++++++++--
 3 files changed, 22 insertions(+), 9 deletions(-)

commit 184194775aa1aa79a94cc93610667bd6124f059c
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Nov 2 09:59:06 2016 -0700

    PHOENIX-3208 MutationState.toMutations method would throw a exception if multiple tables are upserted (chenglei)

 .../org/apache/phoenix/execute/MutationState.java  |  3 +-
 .../apache/phoenix/execute/MutationStateTest.java  | 75 ++++++++++++++++++++++
 2 files changed, 77 insertions(+), 1 deletion(-)

commit d7b821a7bcc4772f30ac01716415bcd47f211b18
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Nov 2 10:52:37 2016 -0700

    PHOENIX-3432 Upgrade Phoenix 4.8.0 to 4.9.0 fails because of illegal characters in snapshot name

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 11 +++++++----
 .../src/main/java/org/apache/phoenix/util/UpgradeUtil.java    |  5 +++--
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 8a44cc00101e44e0afd2cadb2b5a4a1eba6052fe
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Nov 2 21:48:31 2016 +0530

    PHOENIX-3433 Local or view indexes cannot be created after PHOENIX-3254 if namespaces enabled(Rajeshbabu)

 .../org/apache/phoenix/end2end/index/BaseLocalIndexIT.java | 14 ++++++++++++++
 .../apache/phoenix/coprocessor/MetaDataEndpointImpl.java   |  7 ++-----
 2 files changed, 16 insertions(+), 5 deletions(-)

commit effb095230f9f0a3e9b00e1925c6ed797ff5666c
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 31 18:38:45 2016 -0400

    PHOENIX-3426 Fix the broken QueryServerBasicsIT
    
    For integration tests with MiniHBaseCluster, we have to
    deal with multiple versions of protobuf on the classpath.
    As such, it's easier to use the shaded artifact from Avatica
    instead of re-shading that in Phoenix and trying to keep
    the Phoenix classes off the test classpath.

 phoenix-queryserver/pom.xml | 33 ++++++++++-----------------------
 pom.xml                     |  5 +++++
 2 files changed, 15 insertions(+), 23 deletions(-)

commit 2d98be930234277291626b71cb6e7cf1004762f4
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Oct 31 11:52:41 2016 -0700

    Set version to 4.9.0-HBase-1.2 for release

 dev/make_rc.sh                     | 2 +-
 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit dce6de6c81892718db51d800f0e0b9918f66c7e1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Oct 31 11:32:51 2016 -0700

    PHOENIX-3428 Fix flapping tests in UpgradeIT

 .../src/it/java/org/apache/phoenix/end2end/UpgradeIT.java   | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 83e56f45bf6394ce6e7e29edc9edea750a9ced5c
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 31 10:56:41 2016 -0400

    PHOENIX-3004 Allow configuration in hbase-site to define realms other than the server's
    
    By default, PQS is only going to allow in the realm which the principal
    belongs. Need to create the ability for them to define extra realms (for
    example to support MIT kerberos with AD).

 .../src/main/java/org/apache/phoenix/query/QueryServices.java    | 1 +
 .../java/org/apache/phoenix/queryserver/server/QueryServer.java  | 9 ++++++++-
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 4b3e33858dd0505ab2cc0a2bd974ba6aadd79a72
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 31 10:43:20 2016 -0400

    PHOENIX-3426 Upgrade to Avatica 1.9.0
    
    Avatica reworked its shaded artifacts, so we should account
    for that downstream. Makes sure that our artifacts are not
    leaking classes that we bundle (emphasis on the thin-client jar)
    
    Tweaked some other ancillary properties/deps to make the build
    a bit more natural when we have divergent dependency versions.

 phoenix-core/pom.xml               |  1 +
 phoenix-queryserver-client/pom.xml | 12 +++++++++++-
 phoenix-queryserver/pom.xml        | 25 ++++++++++++++++++++++++-
 pom.xml                            |  9 ++-------
 4 files changed, 38 insertions(+), 9 deletions(-)

commit 829a0cf436925c582df8832e73d20a5c2d39610c
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Oct 30 08:32:14 2016 -0700

    PHOENIX-3424 Backward compatibility failure: 4.8 -> 4.9 upgrade

 .../phoenix/query/ConnectionQueryServicesImpl.java | 68 +++++++++++++---------
 1 file changed, 42 insertions(+), 26 deletions(-)

commit fa6f42fd0f40ac8dce893c6297fff6b4d494061f
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Oct 29 17:32:29 2016 -0700

    PHOENIX-3424 Backward compatibility failure: 4.8 -> 4.9 upgrade

 .../phoenix/coprocessor/MetaDataProtocol.java      |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 69 ++++++++--------------
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 15 +++++
 3 files changed, 41 insertions(+), 45 deletions(-)

commit a097cffb1afeb94ae2ae101d655bfb362ee69845
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Oct 28 16:13:51 2016 -0700

    PHOENIX-3396 Valid Multi-byte strings whose total byte size is greater than the max char limit cannot be inserted into VARCHAR fields in the PK

 phoenix-core/src/test/java/org/apache/phoenix/schema/MutationTest.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 74933f1baac4ef0b3282f44f86f724df8843fefc
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Oct 28 13:01:09 2016 -0700

    PHOENIX-3375 Upgrade from v4.8.1 to 4.9.0 fails

 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  62 +++++++++---
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   5 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 104 +++++++++++++++------
 .../org/apache/phoenix/query/QueryConstants.java   |   1 -
 4 files changed, 132 insertions(+), 40 deletions(-)

commit 13ae3f38c11b62f52cacff9ee029955f2bef3b8b
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Oct 28 08:59:13 2016 -0700

    PHOENIX-3396 Valid Multi-byte strings whose total byte size is greater than the max char limit cannot be inserted into VARCHAR fields in the PK

 phoenix-core/src/test/java/org/apache/phoenix/schema/MutationTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10880a37ca8d9594a6c2bfa5d77639368612fae7
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Oct 28 18:32:02 2016 +0530

    PHOENIX-3374 Wrong data row key is getting generated for local indexes for functions with fixed non null columns(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java  | 21 +++++++++++++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java   |  2 +-
 2 files changed, 22 insertions(+), 1 deletion(-)

commit 44c5a032818bac2809ef664321542ec77f5df1f9
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Oct 28 12:27:07 2016 +0530

    PHOENIX-3417 Refactor function argument validation with function argument info to separate method(Rajeshbabu)

 .../apache/phoenix/parse/FunctionParseNode.java    | 73 ++++++++++++----------
 1 file changed, 40 insertions(+), 33 deletions(-)

commit 8794f62dafcb135cc48b57aec03b9d9476f971c9
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 23:09:09 2016 -0700

    PHOENIX-3421 Column name lookups fail when on an indexed table

 .../org/apache/phoenix/util/PhoenixRuntime.java    | 34 +++++++++++++++++
 .../apache/phoenix/compile/QueryOptimizerTest.java |  3 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    | 44 ++++++++++++++++++++++
 3 files changed, 79 insertions(+), 2 deletions(-)

commit a54a06cf566363054778dc60431553c6384ef34d
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 20:31:42 2016 -0700

    PHOENIX-3396 Valid Multi-byte strings whose total byte size is greater than the max char limit cannot be inserted into VARCHAR fields in the PK

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  11 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  56 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   8 +-
 .../UngroupedAggregateRegionObserver.java          | 369 ++++++------
 .../exception/DataExceedsCapacityException.java    |  14 +-
 .../apache/phoenix/exception/SQLExceptionInfo.java |   9 +-
 .../expression/function/ArrayConcatFunction.java   |   5 +-
 .../expression/function/ArrayModifierFunction.java |   8 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   4 +-
 .../java/org/apache/phoenix/parse/ColumnDef.java   |   4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  47 +-
 .../phoenix/schema/types/PArrayDataType.java       |  11 +-
 .../org/apache/phoenix/schema/types/PBinary.java   | 340 +++++------
 .../apache/phoenix/schema/types/PBinaryBase.java   |  17 +
 .../org/apache/phoenix/schema/types/PChar.java     |  15 +-
 .../org/apache/phoenix/schema/types/PDataType.java |   5 +-
 .../org/apache/phoenix/schema/types/PDecimal.java  | 669 +++++++++++----------
 .../apache/phoenix/schema/types/PVarbinary.java    | 248 ++++----
 .../org/apache/phoenix/schema/types/PVarchar.java  | 268 +++++----
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  11 +-
 .../org/apache/phoenix/schema/MutationTest.java    |  54 ++
 21 files changed, 1154 insertions(+), 1019 deletions(-)

commit 927c61205c818fcfd3c743bcb8ddea47a8b04f7f
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 11:20:20 2016 -0700

    PHOENIX-6 Support ON DUPLICATE KEY construct

 .../apache/phoenix/end2end/OnDuplicateKeyIT.java   | 523 +++++++++++++++++++++
 .../phoenix/end2end/index/IndexTestUtil.java       |   6 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  15 +
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  24 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 104 +++-
 .../UngroupedAggregateRegionObserver.java          |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   6 +
 .../org/apache/phoenix/execute/MutationState.java  |  32 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  92 +++-
 .../hbase/index/builder/BaseIndexBuilder.java      |  14 +-
 .../hbase/index/builder/IndexBuildManager.java     |  10 +
 .../phoenix/hbase/index/builder/IndexBuilder.java  |  29 +-
 .../phoenix/hbase/index/covered/IndexCodec.java    |   1 -
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |  15 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  | 319 +++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  11 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   7 +-
 .../org/apache/phoenix/parse/UpsertStatement.java  |  10 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |  10 +
 .../org/apache/phoenix/schema/DelegateTable.java   |  18 +-
 .../org/apache/phoenix/schema/PColumnImpl.java     |  12 +-
 .../main/java/org/apache/phoenix/schema/PRow.java  |  11 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  48 +-
 .../org/apache/phoenix/util/ExpressionUtil.java    |   1 -
 .../apache/phoenix/compile/QueryCompilerTest.java  | 104 +++-
 27 files changed, 1319 insertions(+), 117 deletions(-)

commit 6ba58ad2bd850b2dceda2c109e2142448156e2e8
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 13:08:32 2016 -0700

    PHOENIX-3420 Upgrade to sqlline 1.2.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9eab8f584ca5e4c8db587e3326289f279d530b7b
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 11:48:02 2016 -0700

    PHOENIX-3267 Replace use of SELECT null with CAST(null AS <type>) (Eric Lomore)

 .../src/it/java/org/apache/phoenix/end2end/AggregateQueryIT.java      | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/UpsertSelectIT.java        | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java  | 4 ++--
 .../java/org/apache/phoenix/jdbc/PhoenixResultSetMetadataTest.java    | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 2c53dac2867e688d7a9f83fe34a7b5ebb097dea5
Author: Josh Elser <elserj@apache.org>
Date:   Thu Mar 24 21:48:30 2016 -0400

    PHOENIX-3412 Used the batch JDBC APIs in pherf.

 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  6 +++
 .../phoenix/pherf/workload/WriteWorkload.java      | 49 ++++++++++++++++++++--
 2 files changed, 51 insertions(+), 4 deletions(-)

commit 76efe0079d856b329022834bc8f9c5808337dbd8
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 27 09:13:18 2016 -0700

    PHOENIX-3407 Read only RowLock may lead to corrupting SYSTEM.CATALOG and non atomic sequences in HBase 1.2

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 9 ++++-----
 .../org/apache/phoenix/coprocessor/SequenceRegionObserver.java   | 2 +-
 2 files changed, 5 insertions(+), 6 deletions(-)

commit 53ca2882722214e15a2f32afd0ca3ed3a4016227
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Oct 26 18:35:12 2016 -0700

    PHOENIX-3414 Validate DEFAULT when used in ALTER statement

 .../phoenix/end2end/DefaultColumnValueIT.java      |  37 +++++++-
 .../phoenix/compile/CreateTableCompiler.java       |  60 +-----------
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  65 +++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 102 ++++++++++++++++++++-
 5 files changed, 210 insertions(+), 58 deletions(-)

commit 5744c6f0eb7119e20122a24e93c0a0c6e98e9662
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Oct 26 15:27:33 2016 -0700

    PHOENIX-476 Support declaration of DEFAULT in CREATE statement (Kevin Liew)

 .../phoenix/end2end/DefaultColumnValueIT.java      | 1037 ++++++++++++++++++++
 .../apache/phoenix/iterate/MockResultIterator.java |    2 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |    8 +-
 .../phoenix/compile/CreateTableCompiler.java       |   78 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |    2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |    8 +-
 .../UngroupedAggregateRegionObserver.java          |    2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    3 +-
 .../org/apache/phoenix/execute/TupleProjector.java |    3 +-
 .../apache/phoenix/expression/ExpressionType.java  |    4 +-
 .../function/DefaultValueExpression.java           |   91 ++
 .../java/org/apache/phoenix/parse/ColumnDef.java   |   14 +
 .../phoenix/parse/CreateSchemaStatement.java       |    4 +-
 .../apache/phoenix/parse/CreateTableStatement.java |   13 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   14 +-
 .../apache/phoenix/parse/UseSchemaStatement.java   |    4 +-
 .../java/org/apache/phoenix/schema/ColumnRef.java  |   42 +-
 .../phoenix/schema/DelegateSQLException.java       |   62 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |    8 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |    2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   55 +-
 .../org/apache/phoenix/schema/types/PBinary.java   |   10 +
 .../apache/phoenix/compile/QueryCompilerTest.java  |   78 ++
 .../apache/phoenix/compile/WhereCompilerTest.java  |    2 +-
 24 files changed, 1510 insertions(+), 36 deletions(-)

commit 202b8eb1eda29db01006cdeefd8199f0bd360692
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Oct 25 21:25:03 2016 -0700

    PHOENIX-3370 VIEW derived from another VIEW with WHERE on a TABLE doesn't use parent VIEW indexes

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 39 +++++++++++++++++++---
 1 file changed, 34 insertions(+), 5 deletions(-)

commit a5bcb3ea9a86b800b44b1d7815b094d7a952a11b
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 24 17:18:51 2016 -0400

    PHOENIX-2996 Process name of PQS should indicate its role (Ted Yu)

 bin/queryserver.py                                 |  2 +-
 .../phoenix/end2end/QueryServerBasicsIT.java       |  9 ++++---
 .../apache/phoenix/end2end/QueryServerThread.java  | 10 +++----
 .../server/{Main.java => QueryServer.java}         | 31 +++++++++++++---------
 .../server/PhoenixDoAsCallbackTest.java            |  2 +-
 5 files changed, 31 insertions(+), 23 deletions(-)

commit 6cf827a20c26329b7f6e1f7462c2aee94174f336
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 24 17:28:16 2016 -0400

    PHOENIX-3399 Add missing license header to ChildViewsuseParenViewIndexIT

 .../end2end/index/ChildViewsUseParentViewIndexIT.java   | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 8f5c8cfbd1c1f7894e4cc88e2257d245d1d8c3bf
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Oct 21 20:09:57 2016 +0530

    PHOENIX-3342 ORDER BY and LIMIT+OFFSET doesnt work on second column from compound key(Ankit Singhal/Sergey Soldatov)

 .../it/java/org/apache/phoenix/end2end/QueryWithOffsetIT.java    | 8 ++++++++
 .../src/it/java/org/apache/phoenix/end2end/UnionAllIT.java       | 6 ++++--
 .../src/main/java/org/apache/phoenix/execute/ScanPlan.java       | 6 ++++--
 .../src/main/java/org/apache/phoenix/execute/UnionPlan.java      | 3 ++-
 .../java/org/apache/phoenix/iterate/BaseResultIterators.java     | 3 ++-
 .../org/apache/phoenix/iterate/MergeSortTopNResultIterator.java  | 3 +++
 .../apache/phoenix/compile/StatementHintsCompilationTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/query/QueryPlanTest.java    | 9 ++++++---
 8 files changed, 30 insertions(+), 10 deletions(-)

commit a95e8ab1af2b8defef3d8c0ed5a060c9b9881dd9
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Oct 21 19:34:08 2016 +0530

    PHOENIX-3161 Check possibility of moving rebuilding code to coprocessor of data table.

 .../end2end/index/MutableIndexFailureIT.java       |  11 ++-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   1 +
 .../coprocessor/MetaDataRegionObserver.java        | 101 +++++++--------------
 .../UngroupedAggregateRegionObserver.java          | 100 +++++++++++++++++++-
 .../hbase/index/util/IndexManagementUtil.java      |  13 ++-
 .../java/org/apache/phoenix/util/ScanUtil.java     |   4 +
 7 files changed, 154 insertions(+), 78 deletions(-)

commit 5c9fb7b68ebeed20e3876579534df4adf21943a4
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Oct 21 16:30:44 2016 +0530

    PHOENIX-3393 Use Iterables.removeIf instead of Iterator.remove in HBase filters(Robert Yokota)

 .../phoenix/filter/ColumnProjectionFilter.java     | 29 ++++++++++++----------
 1 file changed, 16 insertions(+), 13 deletions(-)

commit 1e78d3b368b7aa8397224074f691ea2fed340e34
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Oct 18 12:50:56 2016 +0530

    PHOENIX-3349 DROP TABLE and DROP SEQUENCE not working with schemas

 .../org/apache/phoenix/end2end/UseSchemaIT.java    | 39 ++++++++++++++++++++++
 .../apache/phoenix/compile/SequenceManager.java    |  3 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  6 ++--
 3 files changed, 46 insertions(+), 2 deletions(-)

commit 3e4aec1bc440ad503d5058237e3b508392df9266
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Oct 15 17:05:21 2016 -0700

    PHOENIX-3382 Query using Row Value Constructor comprised of non leading PK columns returns incorrect results

 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 103 +++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |   4 +
 .../apache/phoenix/compile/WhereOptimizerTest.java |  61 ++++++++++++
 3 files changed, 168 insertions(+)

commit 45fbc4177bddacd0e62bbb38258cc94be94a4fe5
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Oct 15 15:19:47 2016 -0700

    PHOENIX-3328 Optimize ORed leading pk column range comparisions to SkipScan (William Yang)

 .../org/apache/phoenix/compile/WhereOptimizer.java | 23 +++++++++-
 .../apache/phoenix/compile/WhereOptimizerTest.java | 53 ++++++++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |  7 +++
 3 files changed, 81 insertions(+), 2 deletions(-)

commit 04f5370d7b5a6297f4577a4463dd101a52abc7a7
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Oct 12 19:14:55 2016 -0700

    PHOENIX-3371 Aggregate Function is broken if secondary index exists

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 97 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 +-
 2 files changed, 99 insertions(+), 5 deletions(-)

commit 89cea911c1b5429363d32cbdeac3dadddccd5465
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Oct 12 16:11:26 2016 -0700

    PHOENIX-3370 VIEW derived from another VIEW with WHERE on a TABLE doesn't use parent VIEW indexes

 .../apache/phoenix/compile/QueryCompilerTest.java  | 64 +++++++++++++++++++++-
 1 file changed, 63 insertions(+), 1 deletion(-)

commit 68845287959d84f215eeb8b0726425b92e215268
Author: maryannxue <maryann.xue@gmail.com>
Date:   Wed Oct 12 13:58:46 2016 -0700

    PHOENIX-3265 Double-quote column names that use reserved keywords (Eric Lomore)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 54 +++++++++++-----------
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  2 +-
 2 files changed, 28 insertions(+), 28 deletions(-)

commit e280cb9b63619960c4b01510655515157298f1ef
Author: maryannxue <maryann.xue@gmail.com>
Date:   Wed Oct 12 11:28:48 2016 -0700

    PHOENIX-3265 Double-quote column names that use reserved keywords (Eric Lomore)

 .../phoenix/end2end/AbsFunctionEnd2EndIT.java      |   6 +-
 .../phoenix/end2end/ArrayFillFunctionIT.java       |   6 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  12 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      |  60 ++++-----
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  18 +--
 .../phoenix/end2end/LastValueFunctionIT.java       | 148 ++++++++++-----------
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  48 +++----
 .../apache/phoenix/end2end/ProductMetricsIT.java   |  68 +++++-----
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |   4 +-
 .../phoenix/end2end/RoundFloorCeilFuncIT.java      |  16 +--
 .../phoenix/end2end/SignFunctionEnd2EndIT.java     |   6 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  44 +++---
 .../org/apache/phoenix/end2end/SortOrderIT.java    |   6 +-
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |   2 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  10 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  46 +++----
 .../phoenix/compile/JoinQueryCompilerTest.java     |   2 +-
 .../apache/phoenix/compile/QueryOptimizerTest.java |  12 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |  14 +-
 20 files changed, 265 insertions(+), 265 deletions(-)

commit d1156eaadfc72d9bcfe6418fa98a170d27b18264
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Oct 12 14:10:15 2016 +0530

    PHOENIX-2935 IndexMetaData cache can expire when a delete and or query running on server

 .../org/apache/phoenix/compile/DeleteCompiler.java |  8 ++--
 .../org/apache/phoenix/compile/UpsertCompiler.java | 51 +++++++++-------------
 .../UngroupedAggregateRegionObserver.java          | 22 +++++++---
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  7 +--
 4 files changed, 44 insertions(+), 44 deletions(-)

commit d507ee7eb34bd058c320c6917d3609e5b7411e98
Author: Josh Elser <elserj@apache.org>
Date:   Mon Oct 10 18:03:44 2016 -0400

    PHOENIX-3240 Create phoenix-$VERSION-pig shaded jar
    
    Running inside of Pig's environment creates some issues where Pig is already
    providing some versions of dependencies (e.g. joda-time). Create a custom
    JAR specifically to be used with Pig.
    
    Closes apache/phoenix#217

 .../src/build/components/all-common-jars.xml       |  10 +-
 phoenix-client/pom.xml                             |   6 +
 phoenix-pig/pom.xml                                | 263 +++++++++++++++++++++
 3 files changed, 278 insertions(+), 1 deletion(-)

commit eaf99f23da47b86e7577837c9c73ad47ad9ef0d1
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Oct 6 22:27:10 2016 -0700

    PHOENIX-3361 Collect stats correct for local indexes

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |   7 +-
 .../apache/phoenix/end2end/IndexExtendedIT.java    |   7 +-
 .../phoenix/end2end/RoundFloorCeilFuncIT.java      |   1 -
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  53 +++++++---
 .../end2end/index/MutableIndexFailureIT.java       |   2 -
 .../phoenix/end2end/index/MutableIndexIT.java      |   1 -
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  85 +++++++--------
 .../UngroupedAggregateRegionObserver.java          |   8 +-
 .../phoenix/iterate/BaseResultIterators.java       |  84 +++++----------
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   6 +-
 .../phoenix/query/ConnectionQueryServices.java     |  20 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  55 ++++++----
 .../query/ConnectionlessQueryServicesImpl.java     |  28 ++---
 .../query/DelegateConnectionQueryServices.java     |  12 +--
 .../{TableStatsCache.java => GuidePostsCache.java} | 117 ++++++++++++++-------
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  49 ++++-----
 .../schema/stats/DefaultStatisticsCollector.java   |  44 +++++---
 .../phoenix/schema/stats/GuidePostsInfo.java       |  77 +++++++++-----
 .../schema/stats/GuidePostsInfoBuilder.java        |   4 +
 .../apache/phoenix/schema/stats/GuidePostsKey.java |  84 +++++++++++++++
 .../schema/stats/NoOpStatisticsCollector.java      |   3 +-
 .../apache/phoenix/schema/stats/PTableStats.java   |  57 ----------
 .../phoenix/schema/stats/PTableStatsImpl.java      | 115 --------------------
 .../phoenix/schema/stats/StatisticsCollector.java  |   5 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  96 +++++++++--------
 .../phoenix/schema/stats/StatisticsWriter.java     |   6 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   4 +
 .../phoenix/filter/SkipScanBigFilterTest.java      |  25 +----
 .../PhoenixStatsCacheRemovalListenerTest.java      |   2 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  28 ++++-
 31 files changed, 544 insertions(+), 543 deletions(-)

commit 711d7f0639d294974c2f56c7d604bc37c22e0a95
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Oct 4 10:34:21 2016 -0700

    PHOENIX-2675 Allow stats to be configured on a table-by-table basis

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  33 +++++-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 129 +++++++++++++++++----
 .../apache/phoenix/compile/PostDDLCompiler.java    |   8 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   8 +-
 .../UngroupedAggregateRegionObserver.java          |  13 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  67 ++++++++++-
 .../org/apache/phoenix/query/QueryConstants.java   |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  71 +++++++-----
 .../org/apache/phoenix/schema/TableProperty.java   |   7 ++
 .../schema/stats/DefaultStatisticsCollector.java   | 109 +++++++++++++----
 .../schema/stats/NoOpStatisticsCollector.java      |   6 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |   7 +-
 .../schema/stats/StatisticsCollectorFactory.java   |  19 +--
 .../phoenix/schema/stats/StatisticsScanner.java    |   3 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  10 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   2 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  40 ++++++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  16 +++
 19 files changed, 429 insertions(+), 122 deletions(-)

commit ad99952792b8b119085499d8d0d734c3d2dc053b
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Oct 7 11:46:30 2016 -0700

    PHOENIX-3363 Join-related IT had problematic usage of generating new table names

 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 324 +++++++++++++--------
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  99 ++++---
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  54 ++--
 3 files changed, 296 insertions(+), 181 deletions(-)

commit dfe671963e0001f0e99767c6a10806d59f3c47fe
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Oct 5 20:58:03 2016 -0700

    PHOENIX-3296 ArrayConstructor expression does not serialize arrays with leading nulls correctly

 .../expression/ArrayConstructorExpression.java     |  5 +-
 .../expression/ArrayConstructorExpressionTest.java | 63 ++++++++++++++++++++++
 2 files changed, 67 insertions(+), 1 deletion(-)

commit 34ba28e60f66cb7b537b60c9ef04b8a26036f010
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Oct 3 18:02:48 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 31 ++++++++++++----------
 1 file changed, 17 insertions(+), 14 deletions(-)

commit 0494e54de2a9ff7e1115678658fb092c95602930
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Oct 3 13:46:53 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../src/it/java/org/apache/phoenix/end2end/index/IndexIT.java         | 4 ++++
 1 file changed, 4 insertions(+)

commit 4c0aeb0d530852bc12e5fcd930e336fb19434397
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Oct 3 18:54:51 2016 +0530

    PHOENIX-3159 CachingHTableFactory may close HTable during eviction even if it is getting used for writing by another thread

 .../hbase/index/table/CachingHTableFactory.java    | 104 ++++++++++++++++++---
 .../index/table/CoprocessorHTableFactory.java      |   6 ++
 .../phoenix/hbase/index/table/HTableFactory.java   |   4 +-
 .../hbase/index/write/IndexWriterUtils.java        |   3 +
 .../index/write/ParallelWriterIndexCommitter.java  |  21 +++--
 .../TrackingParallelWriterIndexCommitter.java      |  18 ++--
 .../hbase/index/write/FakeTableFactory.java        |   9 +-
 .../index/write/TestCachingHTableFactory.java      |  37 +++++---
 .../phoenix/hbase/index/write/TestIndexWriter.java |  24 +++--
 .../hbase/index/write/TestParalleIndexWriter.java  |  16 +++-
 .../write/TestParalleWriterIndexCommitter.java     |  15 ++-
 11 files changed, 197 insertions(+), 60 deletions(-)

commit 2f51568a71aed4ac8d8a078d3f10bb5afeedd4c4
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Oct 2 12:47:34 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 49 -----------
 .../phoenix/end2end/FlappingAlterTableIT.java      | 97 ++++++++++++++++++++++
 pom.xml                                            | 12 +--
 3 files changed, 103 insertions(+), 55 deletions(-)

commit cae4a7c449b7f60e60a6cfd9b523087ff2e0d5a6
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Oct 2 11:10:14 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../phoenix/end2end/FlappingLocalIndexIT.java      | 300 +++++++++++++++++++++
 .../phoenix/end2end/index/BaseLocalIndexIT.java    |  80 ++++++
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 299 +-------------------
 ...ansactionIT.java => FlappingTransactionIT.java} |   5 +-
 pom.xml                                            |   4 +-
 5 files changed, 385 insertions(+), 303 deletions(-)

commit 2895835a8e082e4de3dd5c601ae0003d77431b33
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 29 17:30:37 2016 -0700

    PHOENIX-3338 Move flapping test into test class marked as NotThreadSafe

 .../phoenix/tx/NotThreadSafeTransactionIT.java     | 138 +++++++++++++++++++++
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 126 -------------------
 2 files changed, 138 insertions(+), 126 deletions(-)

commit 655fe2be3d30f2b8277563920c15a357eb74bcde
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Sep 29 23:04:28 2016 +0530

    PHOENIX-3254 IndexId Sequence is incremented even if index exists already.

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |   2 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  12 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   5 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   9 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  53 ++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |  17 +
 .../coprocessor/generated/MetaDataProtos.java      | 353 ++++++++++++++++-----
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   7 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   8 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  88 ++---
 .../TenantSpecificViewIndexCompileTest.java        |   4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  15 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   3 +
 15 files changed, 413 insertions(+), 169 deletions(-)

commit 15a2f9a625dc9a76fd07cae82e81d8ec1d79d622
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Sep 29 15:30:20 2016 +0530

    PHOENIX-3221 'LOCAL' keyword is not adhered for 'phoenix.query.dateFormatTimeZone'

 .../src/main/java/org/apache/phoenix/compile/StatementContext.java      | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/DateUtil.java        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6f9cca433d8acad980d98f3c0e31dea1d7e4e743
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Sep 29 15:18:41 2016 +0530

    PHOENIX-3331 Bug in calculating minDisabledTimestamp for a batch

 .../main/java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3032a6f6f70fe0abdf24731fdc0058e22f345247
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 28 15:43:42 2016 -0700

    PHOENIX-3181 Run test methods in parallel to reduce test suite run time

 .../org/apache/phoenix/end2end/ParallelRunListener.java    |  2 +-
 pom.xml                                                    | 14 ++++++++++----
 2 files changed, 11 insertions(+), 5 deletions(-)

commit 58596bbc416ce577d3407910f1a1000027150d8c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Sep 27 17:55:54 2016 -0700

    PHOENIX-3334 ConnectionQueryServicesImpl should close HConnection if init fails

 .../exception/RetriableUpgradeException.java       | 31 ++++++++++++++++++++++
 .../exception/UpgradeInProgressException.java      |  3 +--
 .../exception/UpgradeNotRequiredException.java     |  3 +--
 .../exception/UpgradeRequiredException.java        |  3 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 24 ++++++++++++++++-
 5 files changed, 57 insertions(+), 7 deletions(-)

commit c6e703dd24f8f47bb7cb610143fca4967fdfacdf
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 27 10:08:57 2016 -0700

    PHOENIX-3153 Convert join-related IT tests to be derived from BaseHBaseManagedTimeTableReuseIT

 .../org/apache/phoenix/end2end/BaseJoinIT.java     | 456 ++++++++++++
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 808 ++++++++++-----------
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  70 +-
 .../phoenix/end2end/ParallelRunListener.java       |   2 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |   1 +
 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 471 ++++++------
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 297 +++-----
 .../end2end/SubqueryUsingSortMergeJoinIT.java      | 456 ++----------
 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 148 +++-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  12 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |  35 +
 .../phoenix/query/BaseConnectionlessQueryTest.java |  10 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 302 --------
 pom.xml                                            |  18 +-
 14 files changed, 1421 insertions(+), 1665 deletions(-)

commit cb7234d3f09c49f21e9a58a990c0efb141ddf6c5
Author: Josh Elser <elserj@apache.org>
Date:   Fri Sep 23 14:29:50 2016 -0400

    PHOENIX-3287 Retry starting KDC on BindException
    
    MiniKDC has a race-condition in its port-allocation.

 .../phoenix/jdbc/SecureUserConnectionsTest.java    | 27 +++++++++++++++++-----
 1 file changed, 21 insertions(+), 6 deletions(-)

commit fedbca8bf090baccaaed5d555daeba2ba9da5f32
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 23 13:13:41 2016 -0700

    PHOENIX-3327 Use same driver for all tests within a group

 .../StatisticsCollectionRunTrackerIT.java          | 15 ----
 .../org/apache/phoenix/end2end/AlterSessionIT.java | 59 +++++++--------
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  9 ++-
 .../phoenix/end2end/AlterTableWithViewsIT.java     | 14 ----
 .../phoenix/end2end/ArrayFillFunctionIT.java       | 66 ++++++++--------
 .../org/apache/phoenix/end2end/BaseParallelIT.java | 69 -----------------
 .../org/apache/phoenix/end2end/BaseViewIT.java     | 15 ----
 .../phoenix/end2end/CbrtFunctionEnd2EndIT.java     | 27 +++----
 .../phoenix/end2end/DisableLocalIndexIT.java       | 24 ++----
 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 24 +++---
 .../apache/phoenix/end2end/DynamicColumnIT.java    | 19 +++--
 .../end2end/GetSetByteBitFunctionEnd2EndIT.java    |  8 +-
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 16 ----
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  | 42 -----------
 .../apache/phoenix/end2end/IndexExtendedIT.java    |  4 +-
 .../apache/phoenix/end2end/LikeExpressionIT.java   | 16 ++--
 .../phoenix/end2end/ParallelStatsDisabledIT.java   | 14 +++-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    | 12 +--
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    | 19 ++---
 .../apache/phoenix/end2end/QueryWithOffsetIT.java  | 14 ----
 .../apache/phoenix/end2end/SerialIteratorsIT.java  | 19 ++---
 .../phoenix/end2end/SignFunctionEnd2EndIT.java     | 27 +++----
 .../end2end/SkipScanAfterManualSplitIT.java        | 33 +++-----
 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 16 ----
 .../apache/phoenix/end2end/SpooledOrderByIT.java   | 40 ----------
 .../phoenix/end2end/SpooledSortMergeJoinIT.java    | 45 -----------
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    | 62 ++++++++-------
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 61 +++++----------
 .../phoenix/end2end/StringToArrayFunctionIT.java   | 87 ++++++++++++----------
 .../phoenix/end2end/TransactionalViewIT.java       | 15 ----
 .../end2end/index/AsyncIndexDisabledIT.java        | 13 ----
 .../phoenix/end2end/index/DropMetadataIT.java      | 50 +++++++------
 .../end2end/index/GlobalIndexOptimizationIT.java   | 20 +----
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 15 ----
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  2 +-
 .../end2end/index/MutableIndexFailureIT.java       |  2 +-
 .../phoenix/end2end/index/MutableIndexIT.java      | 55 ++++++--------
 .../phoenix/end2end/index/SaltedIndexIT.java       | 31 +++-----
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  2 +-
 .../end2end/index/txn/MutableRollbackIT.java       | 34 +++------
 .../phoenix/end2end/index/txn/RollbackIT.java      | 25 ++-----
 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     | 52 +++++++------
 .../iterate/RoundRobinResultIteratorIT.java        | 38 ++++------
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 15 ----
 .../phoenix/tx/NotThreadSafeTransactionIT.java     | 62 +++++++++++----
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 54 --------------
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java | 29 +++-----
 .../apache/phoenix/query/QueryServicesOptions.java |  8 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java |  2 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  4 +-
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +
 52 files changed, 481 insertions(+), 927 deletions(-)

commit bebb5cedf761b132b78db675a19ede5849f6ea94
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 22 17:16:43 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../StatisticsCollectionRunTrackerIT.java          |   2 +-
 .../phoenix/end2end/AbsFunctionEnd2EndIT.java      |   2 +-
 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  16 +-
 .../org/apache/phoenix/end2end/AlterSessionIT.java |   2 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  10 +-
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  16 +-
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |  22 +--
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  36 ++--
 .../phoenix/end2end/ArrayAppendFunctionIT.java     |  18 +-
 .../phoenix/end2end/ArrayConcatFunctionIT.java     |  16 +-
 .../phoenix/end2end/ArrayFillFunctionIT.java       |  12 +-
 .../phoenix/end2end/ArrayPrependFunctionIT.java    |  68 ++++----
 .../phoenix/end2end/ArrayToStringFunctionIT.java   |  22 +--
 .../apache/phoenix/end2end/ArraysWithNullsIT.java  |  32 ++--
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |   2 +-
 .../phoenix/end2end/AutoPartitionViewsIT.java      |  18 +-
 .../end2end/BaseTenantSpecificTablesIT.java        |  12 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  12 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   8 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |   6 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  20 +--
 .../phoenix/end2end/CbrtFunctionEnd2EndIT.java     |   4 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  20 +--
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  14 +-
 .../org/apache/phoenix/end2end/DateTimeIT.java     |  68 ++++----
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  12 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  26 +--
 .../phoenix/end2end/DisableLocalIndexIT.java       |   2 +-
 .../phoenix/end2end/DistinctPrefixFilterIT.java    |   6 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |   4 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |   2 +-
 .../apache/phoenix/end2end/EncodeFunctionIT.java   |   8 +-
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |   2 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |   6 +-
 .../phoenix/end2end/ExpFunctionEnd2EndIT.java      |   4 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      |  14 +-
 .../end2end/GetSetByteBitFunctionEnd2EndIT.java    |   2 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  20 +--
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java |  12 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |  10 +-
 .../apache/phoenix/end2end/IndexExtendedIT.java    |  30 ++--
 .../apache/phoenix/end2end/InstrFunctionIT.java    |  16 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |   6 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   2 +-
 .../phoenix/end2end/LastValueFunctionIT.java       |  22 +--
 .../apache/phoenix/end2end/LikeExpressionIT.java   |  12 +-
 .../phoenix/end2end/LnLogFunctionEnd2EndIT.java    |   4 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |   6 +-
 .../org/apache/phoenix/end2end/MapReduceIT.java    |   8 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |   2 +-
 .../phoenix/end2end/MinMaxAggregateFunctionIT.java |   2 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  10 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |   2 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |   2 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  22 +--
 .../end2end/OctetLengthFunctionEnd2EndIT.java      |   2 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  16 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       |   4 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  15 +-
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  18 +-
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    |   4 +-
 .../apache/phoenix/end2end/PrimitiveTypeIT.java    |  18 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |   8 +-
 .../apache/phoenix/end2end/QueryWithOffsetIT.java  |   2 +-
 .../apache/phoenix/end2end/RTrimFunctionIT.java    |   2 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |   2 +-
 .../phoenix/end2end/RegexpReplaceFunctionIT.java   |   2 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |   2 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |   2 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |   2 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |   4 +-
 .../phoenix/end2end/RoundFloorCeilFuncIT.java      |   2 +-
 .../apache/phoenix/end2end/SerialIteratorsIT.java  |   2 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |   2 +-
 .../phoenix/end2end/SignFunctionEnd2EndIT.java     |   4 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |   6 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  22 +--
 .../phoenix/end2end/SortMergeJoinMoreIT.java       |  20 +--
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  88 +++++-----
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    |   2 +-
 .../phoenix/end2end/SqrtFunctionEnd2EndIT.java     |   4 +-
 .../apache/phoenix/end2end/StatementHintsIT.java   |   2 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |   4 +-
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |   8 +-
 .../java/org/apache/phoenix/end2end/StringIT.java  |  10 +-
 .../phoenix/end2end/StringToArrayFunctionIT.java   |  14 +-
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java |   2 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  30 ++--
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |   2 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   8 +-
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  |  14 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |   6 +-
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |   2 +-
 .../phoenix/end2end/TransactionalViewIT.java       |   4 +-
 .../org/apache/phoenix/end2end/UnionAllIT.java     |  80 ++++-----
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  89 +++++-----
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |   8 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  10 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |   2 +-
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  16 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  76 ++++-----
 .../end2end/index/AsyncIndexDisabledIT.java        |   4 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |  20 +--
 .../phoenix/end2end/index/DropMetadataIT.java      |  14 +-
 .../end2end/index/GlobalIndexOptimizationIT.java   |  28 +--
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  18 +-
 .../end2end/index/ImmutableIndexWithStatsIT.java   |   4 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |  87 +++++-----
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  84 ++++-----
 .../phoenix/end2end/index/IndexMetadataIT.java     |  35 ++--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  70 ++++----
 .../phoenix/end2end/index/MutableIndexIT.java      |  38 ++---
 .../phoenix/end2end/index/SaltedIndexIT.java       |  12 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  22 +--
 .../end2end/index/txn/MutableRollbackIT.java       |  28 +--
 .../phoenix/end2end/index/txn/RollbackIT.java      |   8 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  22 +--
 .../salted/SaltedTableVarLengthRowKeyIT.java       |   2 +-
 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     |   2 +-
 .../iterate/RoundRobinResultIteratorIT.java        |  10 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  26 +--
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   |   3 +-
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java |   4 +-
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java |   4 +-
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |   6 +-
 .../phoenix/tx/NotThreadSafeTransactionIT.java     | 163 ++++++++++++++++++
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 189 +++++----------------
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  22 +--
 .../java/org/apache/phoenix/query/BaseTest.java    |  36 ++--
 .../java/org/apache/phoenix/util/TestUtil.java     |  29 +++-
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |   4 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |  12 +-
 132 files changed, 1228 insertions(+), 1154 deletions(-)

commit 16f0da3d94506126d5ae8e36389e1590f7357ff0
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Sep 22 13:20:46 2016 -0700

    PHOENIX-3307 Backward compatibility fails for tables with index (4.7.0 client - 4.8.1 server)

 .../coprocessor/generated/PTableProtos.java        | 779 ++++++++-------------
 .../java/org/apache/phoenix/schema/PTableImpl.java |  13 +-
 phoenix-protocol/src/main/PTable.proto             |   2 +
 3 files changed, 284 insertions(+), 510 deletions(-)

commit b1682ddd541031437d2731c570a54fc6494c9801
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 22 07:29:27 2016 -0700

    PHOENIX-3314 ImmutableIndexIT.testCreateIndexDuringUpsertSelect() is failing for local indexes

 .../it/java/org/apache/phoenix/end2end/index/ImmutableIndexIT.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f50b5eca6da7fe0e790825985d57393eb93a681e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 22 00:36:11 2016 -0700

    PHOENIX-3314 Ignore ImmutableIndexIT.testDropIfImmutableKeyValueColumn

 .../src/it/java/org/apache/phoenix/end2end/index/ImmutableIndexIT.java  | 2 ++
 1 file changed, 2 insertions(+)

commit ad07077c7271398a17d14dc4cd11b8bee3b7d4d9
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 21 22:17:20 2016 -0700

    PHOENIX-3308 Shutdown minicluster after parallel tests complete

 ...exWritesAndUncompressedWALInHBase_094_9_IT.java | 45 ----------------
 .../phoenix/end2end/ParallelRunListener.java       | 14 ++++-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  9 +---
 .../java/org/apache/phoenix/query/BaseTest.java    | 60 +++++++++++++---------
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    | 27 +++++-----
 .../phoenix/flume/RegexEventSerializerIT.java      |  4 +-
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java | 12 ++---
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   |  4 +-
 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |  6 +--
 .../phoenix/end2end/QueryServerBasicsIT.java       |  2 +-
 pom.xml                                            | 24 ++++-----
 11 files changed, 93 insertions(+), 114 deletions(-)

commit 2aa2d1f5b6cc3c2e71e73982bea58380f24d3f87
Author: maryannxue <maryann.xue@gmail.com>
Date:   Wed Sep 21 17:43:07 2016 -0700

    PHOENIX-2930 Cannot resolve columns aliased to its own name

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 36 ++++++++++++++++++++++
 .../apache/phoenix/parse/ParseNodeRewriter.java    | 16 ++++++++--
 2 files changed, 49 insertions(+), 3 deletions(-)

commit d4f7201854a8d27ba7e6dd1037a10a4a34842b92
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 21 12:45:25 2016 -0700

    PHOENIX-3253 Make changes to tests to support method level parallelization

 .../apache/phoenix/end2end/StatsCollectorIT.java   | 33 ++++-------
 .../org/apache/phoenix/end2end/StoreNullsIT.java   | 68 +++-------------------
 .../phoenix/query/ConnectionQueryServicesImpl.java |  1 +
 .../java/org/apache/phoenix/util/TestUtil.java     | 55 +++++++++++++++++
 4 files changed, 74 insertions(+), 83 deletions(-)

commit 8174fc44b73679fbb292316dac69e774703166f6
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 21 12:42:23 2016 -0700

    PHOENIX-3308 Shutdown minicluster after parallel tests complete

 .../phoenix/end2end/ParallelRunListener.java       | 30 +++++++++++
 .../java/org/apache/phoenix/query/BaseTest.java    | 17 ++++---
 pom.xml                                            | 59 +++++++++++++++-------
 3 files changed, 81 insertions(+), 25 deletions(-)

commit b4b7642363c6b9921212b9c4e7ec237dcc88f00e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 20 22:39:19 2016 -0700

    PHOENIX-3304 Tracing tests failing

 .../apache/phoenix/trace/BaseTracingTestIT.java    | 14 --------------
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 22 ++++++++++------------
 .../org/apache/phoenix/trace/TracingTestUtil.java  |  8 ++++++--
 3 files changed, 16 insertions(+), 28 deletions(-)

commit 2d27179b3fcfc7a8d2c8f7bad4a37b3071c81961
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 20 18:39:05 2016 -0700

    PHOENIX-3290 Move and/or combine as many NeedsOwnCluster tests to bring down test run time

 .../StatisticsCollectionRunTrackerIT.java          |  25 +-
 .../end2end/BaseOwnClusterClientManagedTimeIT.java |  29 --
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  |  29 --
 .../apache/phoenix/end2end/BaseOwnClusterIT.java   |   7 +
 .../end2end/BaseTenantSpecificTablesIT.java        |  87 +++---
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  81 +++---
 .../end2end/CountDistinctCompressionIT.java        |   2 +-
 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |   2 +-
 .../apache/phoenix/end2end/IndexExtendedIT.java    |   2 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java | 127 +++------
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java | 306 +++++++++------------
 .../phoenix/end2end/ParallelIteratorsIT.java       | 112 ++++----
 .../phoenix/end2end/ParallelStatsEnabledIT.java    |  16 +-
 .../org/apache/phoenix/end2end/QueryTimeoutIT.java |   2 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  10 +-
 .../apache/phoenix/end2end/QueryWithOffsetIT.java  |  78 +++---
 .../org/apache/phoenix/end2end/RenewLeaseIT.java   |   2 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java | 127 +++++----
 .../phoenix/end2end/StatsCollectionDisabledIT.java |  79 ------
 .../phoenix/end2end/StatsCollectorAbstractIT.java  |  77 ------
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 161 ++++++++++-
 .../StatsCollectorWithSplitsAndMultiCFIT.java      | 186 -------------
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 272 +++++++++---------
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java | 269 ++++++------------
 .../phoenix/end2end/TransactionalViewIT.java       |  48 +++-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 104 +++----
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |   7 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 249 +++++++++--------
 .../end2end/index/ImmutableIndexWithStatsIT.java   |  26 +-
 .../end2end/index/MutableIndexFailureIT.java       |   4 +-
 .../end2end/index/ReadOnlyIndexFailureIT.java      |   4 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |   4 +-
 .../apache/phoenix/execute/PartialCommitIT.java    |   5 +
 .../RoundRobinResultIteratorWithStatsIT.java       |   4 +-
 .../phoenix/monitoring/PhoenixMetricsIT.java       |   4 +-
 .../org/apache/phoenix/rpc/PhoenixClientRpcIT.java |   4 +-
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |   4 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   4 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   4 -
 .../java/org/apache/phoenix/util/TestUtil.java     |  17 +-
 pom.xml                                            |   3 -
 41 files changed, 1105 insertions(+), 1478 deletions(-)

commit 7601d5942fdeb55c114295292e2100aafb84e861
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Sep 20 09:19:06 2016 -0700

    PHOENIX-3279 QueryPlan.iterator(ParallelScanGrouper scanGrouper) should pass null ('unknown') as scan parameter when calling this.iterator(ParallelScanGrouper scanGrouper, Scan scan)

 .../org/apache/phoenix/end2end/DerivedTableIT.java  | 11 +++++++++++
 .../org/apache/phoenix/execute/BaseQueryPlan.java   | 16 ++++++++++------
 .../apache/phoenix/execute/ClientAggregatePlan.java |  7 +------
 .../phoenix/execute/ClientProcessingPlan.java       |  9 ---------
 .../org/apache/phoenix/execute/ClientScanPlan.java  |  4 ----
 .../org/apache/phoenix/execute/CorrelatePlan.java   | 15 ++-------------
 .../apache/phoenix/execute/DelegateQueryPlan.java   | 13 +++++++++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java    | 15 ++++-----------
 .../apache/phoenix/execute/TupleProjectionPlan.java | 11 -----------
 .../java/org/apache/phoenix/execute/UnionPlan.java  | 21 ++++++++-------------
 .../org/apache/phoenix/execute/UnnestArrayPlan.java | 11 -----------
 .../phoenix/iterate/UnionResultIterators.java       |  4 +---
 12 files changed, 50 insertions(+), 87 deletions(-)

commit 0a05d67f1785bba2ca333f281b4d7650a05c6ee0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Sep 19 19:49:15 2016 -0700

    PHOENIX-3302 Use unique names for views and indexes in GlobalIndexOptimizationIT

 .../phoenix/end2end/index/GlobalIndexOptimizationIT.java  | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit e90feaa31bd928645ecc3596437b822d980939ed
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Sep 19 18:31:49 2016 -0700

    PHOENIX-3174 Make minor upgrade a manual step

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 156 +++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  10 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  16 +-
 .../coprocessor/MetaDataRegionObserver.java        |  47 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../exception/UpgradeInProgressException.java      |  28 +
 .../exception/UpgradeNotRequiredException.java     |  27 +
 .../exception/UpgradeRequiredException.java        |  29 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  27 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  72 +-
 .../index/automation/PhoenixMRJobSubmitter.java    |   4 +
 .../phoenix/parse/ExecuteUpgradeStatement.java     |  34 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +
 .../phoenix/query/ConnectionQueryServices.java     |   3 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 951 +++++++++++----------
 .../query/ConnectionlessQueryServicesImpl.java     |   8 +
 .../query/DelegateConnectionQueryServices.java     |  10 +
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   5 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  37 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   6 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  19 +-
 25 files changed, 1027 insertions(+), 475 deletions(-)

commit e8ffc9c53513309c249aca740620ecc5df48a26a
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Sep 19 07:49:29 2016 -0700

    PHOENIX-3268 Upgrade to Tephra 0.9.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b868392b1ac4c9729d3e9510eb8f9784f5d6a62
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Sep 17 15:20:01 2016 -0700

    PHOENIX-3293 Create separate test categories for stats enabled and disabled

 .../phoenix/end2end/AbsFunctionEnd2EndIT.java      |  2 +-
 .../end2end/AlterMultiTenantTableWithViewsIT.java  |  2 +-
 .../org/apache/phoenix/end2end/AlterSessionIT.java |  2 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  2 +-
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  4 +-
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java |  2 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  2 +-
 .../phoenix/end2end/ArrayAppendFunctionIT.java     |  2 +-
 .../phoenix/end2end/ArrayConcatFunctionIT.java     |  2 +-
 .../phoenix/end2end/ArrayFillFunctionIT.java       |  2 +-
 .../phoenix/end2end/ArrayPrependFunctionIT.java    |  2 +-
 .../phoenix/end2end/ArrayToStringFunctionIT.java   |  2 +-
 .../apache/phoenix/end2end/ArraysWithNullsIT.java  |  2 +-
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  2 +-
 .../phoenix/end2end/AutoPartitionViewsIT.java      |  2 +-
 ...edTimeTableReuseIT.java => BaseParallelIT.java} | 13 ++--
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  2 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |  2 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  2 +-
 .../phoenix/end2end/CbrtFunctionEnd2EndIT.java     |  2 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  2 +-
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  2 +-
 .../org/apache/phoenix/end2end/DateTimeIT.java     |  2 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  2 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  2 +-
 .../phoenix/end2end/DisableLocalIndexIT.java       |  4 +-
 .../phoenix/end2end/DistinctPrefixFilterIT.java    |  4 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  2 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  2 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  2 +-
 .../apache/phoenix/end2end/EncodeFunctionIT.java   |  2 +-
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  2 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  2 +-
 .../phoenix/end2end/ExpFunctionEnd2EndIT.java      |  2 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      |  2 +-
 .../end2end/GetSetByteBitFunctionEnd2EndIT.java    |  2 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  2 +-
 .../phoenix/end2end/HBaseManagedTimeTest.java      |  2 +-
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java |  4 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |  2 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  2 +-
 .../apache/phoenix/end2end/InstrFunctionIT.java    |  2 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  2 +-
 .../phoenix/end2end/LastValueFunctionIT.java       |  2 +-
 .../apache/phoenix/end2end/LikeExpressionIT.java   |  2 +-
 .../phoenix/end2end/LnLogFunctionEnd2EndIT.java    |  2 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |  2 +-
 .../org/apache/phoenix/end2end/MapReduceIT.java    |  2 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  2 +-
 .../phoenix/end2end/MinMaxAggregateFunctionIT.java |  2 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  2 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |  2 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  2 +-
 .../end2end/OctetLengthFunctionEnd2EndIT.java      |  2 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  2 +-
 .../phoenix/end2end/ParallelStatsDisabledIT.java   | 30 ++++++++
 ...useTest.java => ParallelStatsDisabledTest.java} |  6 +-
 .../phoenix/end2end/ParallelStatsEnabledIT.java    | 31 ++++++++
 .../phoenix/end2end/ParallelStatsEnabledTest.java  | 45 +++++++++++
 .../org/apache/phoenix/end2end/PercentileIT.java   |  2 +-
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  2 +-
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    |  2 +-
 .../apache/phoenix/end2end/PrimitiveTypeIT.java    |  2 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |  2 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  2 +-
 .../apache/phoenix/end2end/RTrimFunctionIT.java    |  2 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  2 +-
 .../phoenix/end2end/RegexpReplaceFunctionIT.java   |  2 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |  2 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  2 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |  2 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  2 +-
 .../phoenix/end2end/RoundFloorCeilFuncIT.java      |  2 +-
 .../apache/phoenix/end2end/SerialIteratorsIT.java  |  2 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |  2 +-
 .../phoenix/end2end/SignFunctionEnd2EndIT.java     |  2 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |  4 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  2 +-
 .../phoenix/end2end/SortMergeJoinMoreIT.java       |  4 +-
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  2 +-
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    |  2 +-
 .../phoenix/end2end/SqrtFunctionEnd2EndIT.java     |  2 +-
 .../apache/phoenix/end2end/StatementHintsIT.java   |  2 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  2 +-
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  2 +-
 .../java/org/apache/phoenix/end2end/StringIT.java  |  2 +-
 .../phoenix/end2end/StringToArrayFunctionIT.java   |  2 +-
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java |  2 +-
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  |  2 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  2 +-
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |  2 +-
 .../org/apache/phoenix/end2end/UnionAllIT.java     |  2 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  2 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  2 +-
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  2 +-
 .../end2end/index/AsyncIndexDisabledIT.java        |  4 +-
 .../index/ChildViewsUseParentViewIndexIT.java      |  4 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |  6 +-
 .../end2end/index/GlobalIndexOptimizationIT.java   |  6 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  6 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |  4 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  6 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     |  4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  4 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |  6 +-
 .../phoenix/end2end/index/SaltedIndexIT.java       |  6 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  4 +-
 .../end2end/index/txn/MutableRollbackIT.java       |  6 +-
 .../phoenix/end2end/index/txn/RollbackIT.java      |  6 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  4 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  4 +-
 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     |  4 +-
 .../iterate/RoundRobinResultIteratorIT.java        |  6 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  6 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |  4 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  6 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  6 +-
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  4 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |  4 +-
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java |  4 +-
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   |  4 +-
 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |  6 +-
 .../phoenix/end2end/QueryServerBasicsIT.java       |  2 +-
 pom.xml                                            | 86 ++++++++++++++--------
 124 files changed, 335 insertions(+), 204 deletions(-)

commit 14d16c8534f8807680b345bcb1b47fa4d03e522c
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Sep 17 00:05:06 2016 -0700

    PHOENIX-3290 Move and/or combine as many NeedsOwnCluster tests to bring down test run time

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 705 +++++++++++----------
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   1 -
 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |   6 +-
 .../apache/phoenix/end2end/IndexExtendedIT.java    | 578 +++++++++++++++++
 .../org/apache/phoenix/end2end/IndexToolIT.java    | 257 --------
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   5 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |   1 -
 .../apache/phoenix/end2end/MutableIndexToolIT.java | 129 ----
 ...onsEnd2EndIT.java => RoundFloorCeilFuncIT.java} |  89 ++-
 .../phoenix/end2end/TransactionalViewIT.java       |   5 +-
 .../org/apache/phoenix/end2end/UnionAllIT.java     | 288 +++++----
 .../end2end/index/ImmutableIndexWithStatsIT.java   |   5 +-
 .../phoenix/end2end/index/IndexOnOwnClusterIT.java | 324 ----------
 .../java/org/apache/phoenix/tx/TransactionIT.java  |   8 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  30 -
 15 files changed, 1162 insertions(+), 1269 deletions(-)

commit 553a5871e3c8e2277cebd9f2561b1f2899d1e6d5
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 16 21:25:00 2016 -0700

    PHOENIX-3291 Do not throw return value of Throwables#propagate call

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixStatement.java     | 6 ++++--
 .../org/apache/phoenix/mapreduce/FormatToBytesWritableMapper.java   | 3 ++-
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java  | 2 +-
 .../src/main/java/org/apache/phoenix/util/CSVCommonsLoader.java     | 2 +-
 .../main/java/org/apache/phoenix/util/PhoenixContextExecutor.java   | 6 +++---
 5 files changed, 11 insertions(+), 8 deletions(-)

commit 4c8bda1510606148e6d3d5154ed9004098ff239d
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 17:07:13 2016 -0700

    PHOENIX-3285 Add test name in Parameters name since failsafe uses that to form report file name

 .../phoenix/end2end/AlterTableWithViewsIT.java     |   2 +-
 .../phoenix/end2end/AutoPartitionViewsIT.java      |   2 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |   2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |   2 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       |   2 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java |   4 +-
 .../org/apache/phoenix/end2end/DropSchemaIT.java   |   2 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |   5 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |   2 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |   2 +-
 .../phoenix/end2end/SequenceBulkAllocationIT.java  |   2 +-
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java |  12 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   4 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |   5 +-
 .../phoenix/end2end/index/IndexOnOwnClusterIT.java | 218 ++++++++++++++++++++-
 .../end2end/index/MutableIndexFailureIT.java       |   2 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |   4 +-
 .../end2end/index/ReadOnlyIndexFailureIT.java      |   2 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   2 +-
 .../end2end/index/txn/MutableRollbackIT.java       |   2 +-
 .../phoenix/end2end/index/txn/RollbackIT.java      |   2 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |   2 +-
 .../apache/phoenix/execute/PartialCommitIT.java    |   5 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |   5 +-
 24 files changed, 248 insertions(+), 44 deletions(-)

commit b0f900488dec92d0eaac8e2576991281e78984f5
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 17:01:27 2016 -0700

    PHOENIX-3249 Make changes in LocalIndexIT for method level parallelization in BaseHBaseManagedTimeTableReuseIT

 ...utableIndexIT.java => IndexOnOwnClusterIT.java} |   0
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 215 ++-------------------
 2 files changed, 15 insertions(+), 200 deletions(-)

commit 1a3bd43a595f3ba23db823486f476c31e890b3d2
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 15:57:38 2016 -0700

    PHOENIX-3253 Make changes to BaseHBaseTimeManagedIT tests to support method level parallelization

 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 27 +++++++++++-----------
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  5 ++--
 2 files changed, 17 insertions(+), 15 deletions(-)

commit a4ebcfdd262dcc311f96a80c3dd47290bce2c236
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 15:52:06 2016 -0700

    PHOENIX-3286 Use regular queue depth instead of overriding it to zero for tests

 .../src/test/java/org/apache/phoenix/query/QueryServicesTestImpl.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 2a223adfbeb32f598308da1dc6d3251ee0980d79
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 00:48:24 2016 -0700

    PHOENIX-3280 Automatic attempt to rebuild all disabled index

 .../coprocessor/MetaDataRegionObserver.java        | 179 ++++++++++++---------
 1 file changed, 104 insertions(+), 75 deletions(-)

commit 27697b364511f8557a87d4007bff1a560e4b8490
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 15 00:22:33 2016 -0700

    PHOENIX-3253 Make changes in various classes for method level parallelization in BaseHBaseManagedTimeTableReuseIT

 .../end2end/ConnectionQueryServicesTestImpl.java   |  7 +++-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 10 ++---
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   | 48 ++++++++++------------
 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 41 +++---------------
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java | 22 +++++-----
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java | 16 ++++----
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 23 +++++------
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 27 ++++++------
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  5 ++-
 .../java/org/apache/phoenix/trace/TraceReader.java | 12 ++----
 10 files changed, 91 insertions(+), 120 deletions(-)

commit 2c2b552cd7c611c63677b0be075065504d579469
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 13 22:37:18 2016 -0700

    PHOENIX-3072 Deadlock on region opening with secondary index recovery (Enis Soztutar)
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 1136 ++++++++++----------
 .../phoenix/query/ConnectionQueryServicesImpl.java | 1005 ++++++++---------
 .../org/apache/phoenix/query/QueryConstants.java   |    5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  568 +++++-----
 4 files changed, 1398 insertions(+), 1316 deletions(-)

commit 7af708873c0b4457eb6598fb41fd279672fe0029
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 14 09:31:00 2016 -0700

    PHOENIX-3278 Remove usage of BaseTest.ensureTableCreated()

 .../end2end/BaseHBaseManagedTimeTableReuseIT.java  |  3 --
 .../end2end/ConnectionQueryServicesTestImpl.java   | 30 +++---------
 .../apache/phoenix/end2end/DynamicUpsertIT.java    | 31 ++++++-------
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 27 +++++------
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 14 ------
 .../org/apache/phoenix/end2end/PercentileIT.java   | 29 +++++-------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  9 ++--
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  6 +--
 .../phoenix/end2end/RegexpReplaceFunctionIT.java   |  4 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  4 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  2 +-
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  9 +++-
 .../apache/phoenix/end2end/SpillableGroupByIT.java | 21 +++++----
 .../phoenix/end2end/index/IndexExpressionIT.java   | 47 +++++++++++--------
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  4 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     | 26 ++++++-----
 .../phoenix/end2end/index/MutableIndexIT.java      |  2 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  9 ++--
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   | 12 ++++-
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 53 ++++++++++++----------
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |  2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 52 +++------------------
 .../java/org/apache/phoenix/util/TestUtil.java     | 29 ++++++++++++
 23 files changed, 208 insertions(+), 217 deletions(-)

commit e4fd03952a15be60eee6ddc557a19ce917c606c2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Sep 14 21:03:22 2016 +0530

    PHOENIX-3162 TableNotFoundException might be thrown when an index dropped while upserting.(Rajeshbabu)

 .../end2end/index/MutableIndexFailureIT.java       | 34 ++++++++++++++++++----
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  5 ++--
 2 files changed, 32 insertions(+), 7 deletions(-)

commit b640b39ce8cbd36fab33c79ea81ed500dd882f99
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Sep 14 13:40:49 2016 +0530

    PHOENIX-3237 Automatic rebuild of disabled index will fail if indexes of two tables are disabled at the same time

 .../end2end/index/MutableIndexFailureIT.java       | 239 ++++++++++++---------
 .../coprocessor/MetaDataRegionObserver.java        |   6 +-
 2 files changed, 143 insertions(+), 102 deletions(-)

commit 850b02c6d7798a7ed466af3de4256da3aaa1616e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 13 23:48:34 2016 -0700

    PHOENIX-3250 Remove static member variables to enable method-level parallelization

 .../phoenix/end2end/ArrayToStringFunctionIT.java   | 78 ++++++++++++----------
 .../apache/phoenix/end2end/PrimitiveTypeIT.java    | 60 +++++++++++------
 .../phoenix/end2end/RegexpSplitFunctionIT.java     | 52 +++++++--------
 .../org/apache/phoenix/end2end/StoreNullsIT.java   | 56 ++++++++--------
 .../apache/phoenix/end2end/ToCharFunctionIT.java   | 11 +--
 5 files changed, 135 insertions(+), 122 deletions(-)

commit 27722998c35cbc14f8a6c1c1be1c0cc6b0f7769a
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 13 22:52:42 2016 -0700

    PHOENIX-3275 Reduce logging level of mutable secondary index logging

 .../apache/phoenix/hbase/index/covered/NonTxIndexBuilder.java  |  4 ++--
 .../apache/phoenix/hbase/index/covered/data/IndexMemStore.java | 10 +++++-----
 .../phoenix/hbase/index/covered/update/IndexUpdateManager.java |  4 ++--
 3 files changed, 9 insertions(+), 9 deletions(-)

commit c0f72b536684bdbb6f3e597d5d93e767732bd007
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Sep 13 16:33:46 2016 +0530

    PHOENIX-3170 Remove the futuretask from the list if StaleRegionBoundaryCacheException is thrown while initializing the scanners(Rajeshbabu)

 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 47a2b2c3ec1fb7a5ae3fc42c79a2199ab5108f44
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Sep 12 09:54:10 2016 -0700

    PHOENIX-3046 NOT LIKE with wildcard unexpectedly returns results (Kevin Liew)

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 100 +++++++++++++++++++--
 .../apache/phoenix/compile/ExpressionCompiler.java |  24 ++---
 2 files changed, 103 insertions(+), 21 deletions(-)

commit c3cdb2afbe60a4959237a6ac264f42322a049d1d
Author: Josh Elser <elserj@apache.org>
Date:   Sat Sep 10 16:05:15 2016 -0400

    PHOENIX-3176 Remove unnecessary PQS proxy user authorization

 .../src/main/java/org/apache/phoenix/queryserver/server/Main.java     | 4 ----
 1 file changed, 4 deletions(-)

commit 5a6496e1dc51576f4882c3718495eb2e1d6bce0a
Author: Cody Marcel <cmarcel@salesforce.com>
Date:   Mon Jul 18 17:58:32 2016 -0600

    PHOENIX-1367 VIEW derived from another VIEW doesn't use parent VIEW indexes

 .../index/ChildViewsUseParentViewIndexIT.java      | 254 +++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  16 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  67 ++++--
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTable.java     |  20 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  41 +++-
 .../org/apache/phoenix/util/ExpressionUtil.java    |  15 +-
 9 files changed, 360 insertions(+), 70 deletions(-)

commit 8e082fb5bbace7a495c5b727b2f781bba3b67cd1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Sep 9 14:44:46 2016 -0700

    PHOENIX-3230 Addendum to use the physical name of system catalog and other tweaks/cleanup

 .../phoenix/coprocessor/MetaDataProtocol.java      |  3 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 27 +++++++++++-----------
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +-
 3 files changed, 17 insertions(+), 15 deletions(-)

commit d9eb45e14d36f92982c36b85a7132675d6272770
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Sep 9 11:24:07 2016 -0700

    PHOENIX-3260 MetadataRegionObserver.postOpen() can prevent region server from shutting down for a long duration

 .../java/org/apache/phoenix/coprocessor/MetaDataRegionObserver.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit df0d61179a97881b8b72595af198dbb346adfb9f
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Sep 8 20:20:59 2016 -0700

    PHOENIX-3230 Upgrade code running concurrently on different JVMs could make clients unusuable

 .../phoenix/coprocessor/MetaDataProtocol.java      |  20 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 244 ++++++++++++---------
 .../org/apache/phoenix/query/QueryConstants.java   |   1 +
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   5 +-
 5 files changed, 164 insertions(+), 107 deletions(-)

commit 36d500cb83209cd10ae87c5cce6648aab2866925
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 16:24:22 2016 -0400

    PHOENIX-3081 Consult RegionServer stopped/stopping state before logging error in StatisticsScanner

 .../phoenix/schema/stats/StatisticsScanner.java    |  72 +++++++++--
 .../schema/stats/StatisticsScannerTest.java        | 144 +++++++++++++++++++++
 2 files changed, 202 insertions(+), 14 deletions(-)

commit fd6da35eee5b366530f73a435ae4bc4de0f0eb25
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Sep 8 13:34:21 2016 -0700

    PHOENIX-3228 Index tables should not be configured with a custom/smaller MAX_FILESIZE.

 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 ----------
 .../org/apache/phoenix/query/QueryServices.java    |  1 -
 .../apache/phoenix/query/QueryServicesOptions.java |  1 -
 .../org/apache/phoenix/schema/MetaDataClient.java  | 22 ----------------------
 4 files changed, 34 deletions(-)

commit d94d57183501526cff6fc1c5d1475e487c9c4653
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Sep 8 09:39:31 2016 -0700

    PHOENIX-3255 Increase test coverage for TIMESTAMP (Kevin Liew)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 703 ++++++++++++++++++++-
 1 file changed, 695 insertions(+), 8 deletions(-)

commit 210445ded95d9da503c13cac24b4148aa819e205
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Sep 7 20:18:04 2016 -0700

    PHOENIX-2946 Projected comparison between date and timestamp columns always returns true

 .../expression/function/CeilDateExpression.java    |   3 +
 .../function/CeilTimestampExpression.java          |   3 +
 .../expression/function/DateScalarFunction.java    |  54 +++
 .../expression/function/DayOfMonthFunction.java    |   4 +-
 .../expression/function/DayOfWeekFunction.java     |   8 +-
 .../expression/function/DayOfYearFunction.java     |   7 +-
 .../phoenix/expression/function/HourFunction.java  |   4 +-
 .../expression/function/MinuteFunction.java        |   4 +-
 .../phoenix/expression/function/MonthFunction.java |   4 +-
 .../expression/function/RoundDateExpression.java   |   3 +
 .../function/RoundJodaDateExpression.java          |   3 +
 .../expression/function/SecondFunction.java        |   4 +-
 .../expression/function/ToDateFunction.java        |  10 +-
 .../phoenix/expression/function/WeekFunction.java  |   4 +-
 .../phoenix/expression/function/YearFunction.java  |   4 +-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  26 +-
 .../java/org/apache/phoenix/schema/SortOrder.java  |  11 +
 .../org/apache/phoenix/schema/types/PDataType.java |  19 +-
 .../org/apache/phoenix/schema/types/PDate.java     | 283 +++++------
 .../org/apache/phoenix/schema/types/PDecimal.java  |   6 +-
 .../org/apache/phoenix/schema/types/PLong.java     | 519 +++++++++++----------
 .../org/apache/phoenix/schema/types/PTime.java     |   2 +-
 .../apache/phoenix/schema/types/PTimestamp.java    |  42 +-
 .../apache/phoenix/schema/types/PUnsignedDate.java | 259 +++++-----
 .../apache/phoenix/schema/types/PUnsignedLong.java | 317 +++++++------
 .../apache/phoenix/schema/types/PUnsignedTime.java |   2 +-
 .../phoenix/schema/types/PUnsignedTimestamp.java   | 152 ++----
 .../java/org/apache/phoenix/util/DateUtil.java     |  23 +-
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |   8 +-
 .../apache/phoenix/schema/types/PDataTypeTest.java |  18 +
 30 files changed, 977 insertions(+), 829 deletions(-)

commit 3a8724eee05aaf477bf6085415e781856990e1c0
Author: Lars Hofhansl <larsh@apache.org>
Date:   Wed Sep 7 14:03:56 2016 -0700

    PHOENIX-2785 Do not store NULLs for immutable tables.

 .../org/apache/phoenix/end2end/StoreNullsIT.java   | 40 +++++++++++++++++++++-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 13 ++++---
 2 files changed, 47 insertions(+), 6 deletions(-)

commit b65e385a828f89980ba4e5ae68f724d7cad50265
Author: Josh Elser <elserj@apache.org>
Date:   Sat Sep 3 19:21:43 2016 -0400

    PHOENIX-3246 Treat U+2002 as whitespace in parser

 phoenix-core/src/main/antlr3/PhoenixSQL.g                      |  5 +++--
 .../src/main/java/org/apache/phoenix/parse/SQLParser.java      |  2 +-
 .../test/java/org/apache/phoenix/parse/QueryParserTest.java    | 10 ++++++++++
 3 files changed, 14 insertions(+), 3 deletions(-)

commit c02d6cb5971f7b17bcd5e308952fa081e32adf19
Author: kliewkliew <kliewkliew@users.noreply.github.com>
Date:   Wed Aug 24 06:40:35 2016 -0700

    PHOENIX-2641 Implicit wildcard in LIKE predicate search pattern
    
    This closes #200

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 23 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java | 10 ++++++++--
 .../phoenix/expression/LikeExpressionTest.java     |  6 ++++++
 3 files changed, 37 insertions(+), 2 deletions(-)

commit 7827178b7addbd336d5a5c3b12a4e1b764f0f74a
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Sep 6 10:58:33 2016 +0530

    PHOENIX-3054 Counting zero null rows returns an empty result set

 .../apache/phoenix/end2end/AggregateQueryIT.java   | 36 ++++++++++++++++++++++
 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 25 ++++++---------
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  7 ++++-
 .../phoenix/iterate/MergeSortResultIterator.java   |  2 +-
 4 files changed, 52 insertions(+), 18 deletions(-)

commit fce0f1033e252ecb55d168f63284be330a8fbda7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Sep 1 15:32:42 2016 -0700

    Implement DAYOFWEEK and DAYOFYEAR built-in functions (Prakul Agarwal)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 45 +++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  9 ++-
 .../expression/function/DayOfWeekFunction.java     | 86 ++++++++++++++++++++++
 .../expression/function/DayOfYearFunction.java     | 77 +++++++++++++++++++
 4 files changed, 215 insertions(+), 2 deletions(-)

commit 06d37e534d1e07e8206eaefb82dd7bf3f50455b0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Sep 1 10:28:49 2016 -0700

    PHOENIX-2793 Test case for date-time functions on null dates return no data (Kevin Liew)

 .../src/it/java/org/apache/phoenix/end2end/DateTimeIT.java    | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit b7d45ca66729ae57c0896449e36b80f4fdcafb46
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Sep 1 09:49:22 2016 -0700

    PHOENIX-2474 Cannot round to a negative precision (to the left of the decimal) (Kevin Liew)

 .../expression/function/RoundDecimalExpression.java        |  2 +-
 .../phoenix/expression/RoundFloorCeilExpressionsTest.java  | 14 ++++++++++++++
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 1ce9845b8f6c2b456fbab913cd1bd647c6c4d281
Author: Josh Elser <elserj@apache.org>
Date:   Wed Aug 31 22:28:45 2016 -0400

    PHOENIX-3189 Ensure that there is no invalid cached state in KerberosName

 .../org/apache/phoenix/jdbc/SecureUserConnectionsTest.java  | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 2dc6be4e9ffb205aaa5b0f6a1f2746eed8d23426
Author: Josh Elser <elserj@apache.org>
Date:   Wed Aug 17 13:34:59 2016 -0400

    PHOENIX-3189 Perform Kerberos login before ConnectionInfo is constructed
    
    Now that ConnectionInfo has the current User/UGI stored inside, we must
    make sure that any automatic Kerberos login occurs before the ConnectionInfo
    object is constructed. Otherwise, we will have multiple instances of
    ConnectionInfo that differ only by the User, which will leak HBase/ZK
    connections in the connectionQueryServicesMap. Also, protect the area
    in which we perform logins to prevent concurrent clients from colliding.
    
    Closes apache/phoenix#191

 phoenix-core/pom.xml                               |   5 +
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  10 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  89 ++++-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  24 +-
 .../org/apache/phoenix/util/InstanceResolver.java  |   7 +
 .../phoenix/jdbc/SecureUserConnectionsTest.java    | 369 +++++++++++++++++++++
 phoenix-core/src/test/resources/log4j.properties   |   2 +
 pom.xml                                            |  18 +
 8 files changed, 504 insertions(+), 20 deletions(-)

commit 93a9c9187f63578b9da9864e06c0df3231c9f61c
Author: Josh Elser <elserj@apache.org>
Date:   Tue Aug 30 15:58:50 2016 -0400

    PHOENIX-3223 Add `hadoop classpath` to PQS classpath when available
    
    Closes apache/phoenix#205

 bin/queryserver.py | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ede483cf29c86c1acebc12d995966a838e4eaffb
Author: kliewkliew <kliewkliew@users.noreply.github.com>
Date:   Wed Aug 24 03:06:03 2016 -0700

    PHOENIX-2645 Wildcard characters do not match newline characters

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 29 ++++++++++++++++++++++
 .../expression/ByteBasedLikeExpression.java        |  4 ++-
 .../expression/StringBasedLikeExpression.java      |  3 ++-
 .../function/ByteBasedRegexpReplaceFunction.java   |  3 ++-
 .../function/ByteBasedRegexpSplitFunction.java     |  3 ++-
 .../function/ByteBasedRegexpSubstrFunction.java    |  3 ++-
 .../function/StringBasedRegexpReplaceFunction.java |  3 ++-
 .../function/StringBasedRegexpSubstrFunction.java  |  3 ++-
 .../phoenix/expression/LikeExpressionTest.java     |  8 ++++++
 9 files changed, 52 insertions(+), 7 deletions(-)

commit d873c2ffd1e539ecd56858c82f0ba2d23e877cf9
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Aug 29 15:09:22 2016 -0700

    PHOENIX-1647 Correctly return that Phoenix supports schema name references in DatabaseMetaData (kliewkliew)

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14dab2f40df0d09f48f9cabbaea897009f635914
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Aug 26 16:15:57 2016 -0700

    Modify phoenix IT tests to extend BaseHBaseManagedTimeTableReuseIT (Prakul Agarwal, Samarth Jain)

 ....java => AlterMultiTenantTableWithViewsIT.java} |  45 +--
 .../phoenix/end2end/AlterTableWithViewsIT.java     | 193 ++++++------
 .../apache/phoenix/end2end/AppendOnlySchemaIT.java | 115 ++++----
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  20 +-
 .../phoenix/end2end/ArrayAppendFunctionIT.java     | 186 ++++++------
 .../phoenix/end2end/ArrayConcatFunctionIT.java     | 160 +++++-----
 .../phoenix/end2end/ArrayPrependFunctionIT.java    | 220 ++++++++------
 .../phoenix/end2end/AutoPartitionViewsIT.java      | 131 +++++----
 .../end2end/BaseHBaseManagedTimeTableReuseIT.java  |   5 +
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   6 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  80 ++---
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |  33 ++-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  80 ++---
 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 104 ++++---
 .../end2end/ColumnProjectionOptimizationIT.java    |  17 +-
 .../end2end/CountDistinctCompressionIT.java        |   3 +-
 .../apache/phoenix/end2end/CustomEntityDataIT.java |   2 +-
 .../org/apache/phoenix/end2end/DateTimeIT.java     | 146 +++++----
 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 138 +++++----
 .../org/apache/phoenix/end2end/DerivedTableIT.java |   3 +-
 .../phoenix/end2end/DisableLocalIndexIT.java       |  18 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |   4 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  39 +--
 .../apache/phoenix/end2end/EncodeFunctionIT.java   |  42 +--
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  13 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  42 +--
 .../phoenix/end2end/ExpFunctionEnd2EndIT.java      |  20 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |  12 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |   2 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 217 +++++++-------
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java |  51 ++--
 .../java/org/apache/phoenix/end2end/InListIT.java  |  41 +--
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |   2 +-
 .../apache/phoenix/end2end/InstrFunctionIT.java    |  48 +--
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  37 +--
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   6 +-
 .../phoenix/end2end/LastValueFunctionIT.java       | 194 ++++++------
 .../phoenix/end2end/LnLogFunctionEnd2EndIT.java    |  15 +-
 .../org/apache/phoenix/end2end/MapReduceIT.java    |  61 ++--
 .../phoenix/end2end/MappingTableDataTypeIT.java    |   2 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  45 +--
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |   2 +-
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |   4 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |   2 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  74 ++---
 .../phoenix/end2end/ParallelIteratorsIT.java       |   6 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  93 +++---
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  42 ++-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |   2 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  49 ++-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |   6 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |   4 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |   2 +-
 .../phoenix/end2end/RegexpReplaceFunctionIT.java   |  17 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  12 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  58 ++--
 .../phoenix/end2end/RowValueConstructorIT.java     |  35 +--
 .../end2end/SkipScanAfterManualSplitIT.java        |  44 +--
 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 156 +++++-----
 .../phoenix/end2end/SortMergeJoinMoreIT.java       |  66 +++--
 .../apache/phoenix/end2end/SpillableGroupByIT.java |   2 +-
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    |  20 +-
 .../phoenix/end2end/SqrtFunctionEnd2EndIT.java     |  25 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  18 +-
 .../java/org/apache/phoenix/end2end/StringIT.java  |  66 +++--
 .../org/apache/phoenix/end2end/SubqueryIT.java     |   5 +-
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java |   4 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  48 +--
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |   7 +-
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |   9 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |   8 +-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |   2 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 130 ++++----
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  78 ++---
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  18 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |   6 +-
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  42 +--
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  38 +--
 .../phoenix/end2end/index/DropMetadataIT.java      | 113 ++++---
 .../end2end/index/GlobalIndexOptimizationIT.java   | 175 ++++++-----
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  36 ++-
 .../phoenix/end2end/index/IndexExpressionIT.java   | 327 ++++++++++++---------
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  85 +++++-
 .../phoenix/end2end/index/IndexMetadataIT.java     | 253 ++++++++--------
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 125 ++++++--
 .../phoenix/end2end/index/MutableIndexIT.java      |  94 +++---
 .../phoenix/end2end/index/SaltedIndexIT.java       |  95 +++---
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  54 ++--
 .../end2end/index/txn/MutableRollbackIT.java       |  58 ++--
 .../phoenix/end2end/index/txn/RollbackIT.java      |  18 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |   2 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |   1 -
 .../salted/SaltedTableVarLengthRowKeyIT.java       |   1 -
 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     |   3 -
 .../iterate/RoundRobinResultIteratorIT.java        |  26 +-
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  26 +-
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   |   2 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |   4 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 246 +++++++++-------
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  50 ++--
 .../org/apache/phoenix/query/QueryServices.java    |   2 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   4 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  10 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 130 +++++---
 .../java/org/apache/phoenix/util/TestUtil.java     |  23 +-
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  17 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |  16 +-
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java |   4 +-
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   |   5 +-
 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |   6 +-
 .../phoenix/end2end/QueryServerBasicsIT.java       |   2 +-
 pom.xml                                            | 134 ++++-----
 112 files changed, 3294 insertions(+), 2651 deletions(-)

commit 64cb9b0130188b1407093b8bc62447bd2ecf0d3c
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Aug 25 15:25:18 2016 -0700

    PHOENIX-3203 Tenant cache lookup in Global Cache fails in certain conditions

 .../phoenix/end2end/index/MutableIndexIT.java      | 25 +++++++++++++++-------
 .../java/org/apache/phoenix/cache/GlobalCache.java |  4 ++--
 .../cache/aggcache/SpillableGroupByCache.java      |  5 ++---
 .../apache/phoenix/coprocessor/GroupByCache.java   |  5 ++---
 .../GroupedAggregateRegionObserver.java            | 15 ++++++-------
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  5 ++---
 .../phoenix/coprocessor/ScanRegionObserver.java    |  9 ++++----
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  3 +--
 .../java/org/apache/phoenix/util/ScanUtil.java     |  5 +++--
 9 files changed, 40 insertions(+), 36 deletions(-)

commit 9cc77c8104245a138a62ba251e926e14a74d8c11
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 23 12:39:45 2016 -0700

    PHOENIX-1751 Perform aggregations, sorting, etc, in the preScannerNext instead of postScannerOpen (Lars Hofhansl)

 .../org/apache/phoenix/end2end/RenewLeaseIT.java   |  90 +++++++++++++++
 .../coprocessor/BaseScannerRegionObserver.java     | 126 ++++++++++++++-------
 .../phoenix/coprocessor/DelegateRegionScanner.java |   2 +-
 3 files changed, 176 insertions(+), 42 deletions(-)

commit a0ae8025eccbd76b4277f74e57081ddbb5a7babe
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Aug 19 16:39:28 2016 -0700

    PHOENIX-3148 Reduce size of PTable so that more tables can be cached in the metada cache

 .../org/apache/phoenix/end2end/IndexToolIT.java    |   1 -
 .../org/apache/phoenix/execute/MutationState.java  |   6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   5 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   4 +-
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  25 +-
 .../org/apache/phoenix/schema/PMetaDataCache.java  | 221 +++++++++++++++++
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 268 +++------------------
 .../java/org/apache/phoenix/schema/PTableImpl.java |  29 ++-
 .../java/org/apache/phoenix/schema/PTableRef.java  |  56 ++---
 .../apache/phoenix/schema/PTableRefFactory.java    |  52 ++++
 .../org/apache/phoenix/schema/PTableRefImpl.java   |  39 +++
 .../apache/phoenix/schema/SerializedPTableRef.java |  47 ++++
 .../phoenix/schema/SerializedPTableRefFactory.java |  37 +++
 .../apache/phoenix/schema/PMetaDataImplTest.java   |  34 ++-
 16 files changed, 532 insertions(+), 297 deletions(-)

commit b36bb31fe42cb7bf5b6de5bfab63bcad424998a4
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 19 16:34:28 2016 -0700

    PHOENIX-930 duplicated columns cause query exception and drop table exception (Junegunn Choi, Kalyan Hadoop)

 .../phoenix/end2end/index/IndexMetadataIT.java     | 40 +++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 78 ++++++----------------
 .../java/org/apache/phoenix/schema/PTableImpl.java | 12 ++--
 .../phoenix/compile/CreateTableCompilerTest.java   | 47 +++++++++++++
 4 files changed, 113 insertions(+), 64 deletions(-)

commit 5fecde8d892fdc441aaa4e3ea8e195112da88705
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Aug 22 20:21:54 2016 -0700

    PHOENIX-3195 Addendum. (James Taylor)

 .../main/java/org/apache/phoenix/compile/ExpressionCompiler.java    | 6 +++++-
 .../src/main/java/org/apache/phoenix/compile/OrderByCompiler.java   | 3 +++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 1f7a05b63ee86d79159ecb5fdeb01338207567af
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Aug 22 13:37:02 2016 -0700

    PHOENIX-3195 Slight safety improvement for using DistinctPrefixFilter.

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bea9e03aebe0c3ef657f4a5b762f47cb7d8c81bb
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Aug 22 10:35:38 2016 -0700

    PHOENIX-808 Create snapshot of SYSTEM.CATALOG prior to upgrade and restore on any failure

 .../phoenix/coprocessor/MetaDataProtocol.java      |  19 ++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 365 ++++++++++++++-------
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  11 +
 3 files changed, 271 insertions(+), 124 deletions(-)

commit 386cbbbf7a5dd736888e8e0bfe16e513d54e215c
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Aug 17 11:55:12 2016 -0700

    PHOENIX-2995 Write performance severely degrades with large number of views (addendum)

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java        | 2 --
 1 file changed, 2 deletions(-)

commit 3130fa9919ba937d98853f9be8068a0a8a8a96f5
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jul 22 14:24:38 2016 -0700

    PHOENIX-2995 Write performance severely degrades with large number of views

 .../org/apache/phoenix/end2end/UpsertSelectIT.java |   2 +-
 .../phoenix/compile/CreateTableCompiler.java       |   7 +-
 .../org/apache/phoenix/execute/MutationState.java  | 328 +++++++++++++--------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  57 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  93 +++---
 .../query/ConnectionlessQueryServicesImpl.java     |  47 ++-
 .../query/DelegateConnectionQueryServices.java     |  38 ++-
 .../org/apache/phoenix/query/MetaDataMutated.java  |  19 +-
 .../java/org/apache/phoenix/schema/PMetaData.java  |   4 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 107 +++----
 .../phoenix/schema/PSynchronizedMetaData.java      | 249 ++++++++++++++++
 .../org/apache/phoenix/util/TransactionUtil.java   |   4 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java   |  68 +++--
 13 files changed, 652 insertions(+), 371 deletions(-)

commit 657917bfb15ecd5bef4616458f2c8cd3ede0cf6b
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Aug 16 10:29:18 2016 +0530

    PHOENIX-2944 DATE Comparison Broken(Saurabh Seth)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 44 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/types/PDate.java     |  2 +-
 .../apache/phoenix/schema/types/PTimestamp.java    |  2 +-
 3 files changed, 46 insertions(+), 2 deletions(-)

commit 44cf0827f1e5577510ee95f149df8d552a56da3c
Author: Josh Elser <elserj@apache.org>
Date:   Tue Aug 9 14:52:20 2016 -0400

    PHOENIX-3164 Cache UGI instances for remote users in PQS
    
    equals(Object) and hashCode() on UGI are implemented
    via reference checks (rather than the values themselves).
    This creates a situation where new PhoenixConnections are
    opened for the same user via PQS.

 .../org/apache/phoenix/query/QueryServices.java    |  3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  4 +
 .../apache/phoenix/queryserver/server/Main.java    | 61 +++++++++++++--
 .../server/PhoenixDoAsCallbackTest.java            | 89 ++++++++++++++++++++++
 4 files changed, 149 insertions(+), 8 deletions(-)

commit 2afb16dc2032f2be9de220946e97f87336218e80
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Aug 15 11:55:56 2016 -0400

    PHOENIX-2236 PHOENIX-2290 PHOENIX-2547 Various phoenix-spark fixes (Kalyan Hadoop)

 phoenix-spark/src/it/resources/setup.sql           |  6 +++
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 49 ++++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRelation.scala | 26 +++++++-----
 3 files changed, 70 insertions(+), 11 deletions(-)

commit ba82b1cb5a14c2cf109deb8a862389142d92f541
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Sun Aug 7 13:50:06 2016 +0530

    PHOENIX-3149 Local index got corrupted if intermediate compaction happen during the split.(Sergey Soldatov)

 .../hadoop/hbase/regionserver/IndexHalfStoreFileReaderGenerator.java     | 1 -
 1 file changed, 1 deletion(-)

commit bb0d89bd9f591e056f7ae9cd5892b9f99bd513a6
Author: Sergey Soldatov <ssa@apache.org>
Date:   Sat Aug 6 16:31:13 2016 -0700

    PHOENIX-3152 Incorrect comparator in QueryOptimizer may cause IllegalArgumentException

 .../org/apache/phoenix/optimize/QueryOptimizer.java | 21 ++++++++++++---------
 1 file changed, 12 insertions(+), 9 deletions(-)

commit 67b8b73630676b2f75ff05eed194faf9b7e856ca
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Aug 6 16:27:32 2016 -0700

    PHOENIX-3158 COUNT(DISTINCT) may return null instead of 0 after PHOENIX-258.

 .../src/it/java/org/apache/phoenix/end2end/DistinctPrefixFilterIT.java  | 2 ++
 .../src/main/java/org/apache/phoenix/execute/AggregatePlan.java         | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 60b95f962e75d23553d53bc1f00373299b019e1b
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Aug 5 21:39:56 2016 -0700

    PHOENIX-3156 DistinctPrefixFilter optimization produces incorrect results with some non-pk WHERE conditions.

 .../it/java/org/apache/phoenix/end2end/DistinctPrefixFilterIT.java | 7 ++++---
 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java  | 2 +-
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 137eb98d4c78f7edaa8fa5e7388476b4a96afcde
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Aug 4 16:54:29 2016 +0530

    Set version to 4.9.0-HBase-1.2-SNAPSHOT after release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 13 files changed, 13 insertions(+), 13 deletions(-)

commit 4702080a3d09c091f45a84fe07b6c605b6a906db
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Aug 3 08:58:13 2016 +0000

    Set version to 4.8.0-HBase-1.2 for release

 phoenix-assembly/pom.xml           | 2 +-
 phoenix-client/pom.xml             | 2 +-
 phoenix-core/pom.xml               | 2 +-
 phoenix-flume/pom.xml              | 2 +-
 phoenix-hive/pom.xml               | 2 +-
 phoenix-pherf/pom.xml              | 2 +-
 phoenix-pig/pom.xml                | 2 +-
 phoenix-queryserver-client/pom.xml | 2 +-
 phoenix-queryserver/pom.xml        | 2 +-
 phoenix-server/pom.xml             | 2 +-
 phoenix-spark/pom.xml              | 2 +-
 phoenix-tracing-webapp/pom.xml     | 2 +-
 pom.xml                            | 2 +-
 13 files changed, 13 insertions(+), 13 deletions(-)

commit 0b91b45aa2b4885a47c3641e55b612b8a351e1b2
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Aug 3 14:17:25 2016 +0530

    PHOENIX-3143 Update KEYS file for 4.8 release

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 27c4027fd72cec790975c810724f3a778388e426
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Aug 3 11:01:21 2016 +0530

    PHOENIX-3111 Possible Deadlock/delay while building index, upsert select, delete rows at server-addendum(Rajeshbabu)

 .../UngroupedAggregateRegionObserver.java          | 38 ++++++++++------------
 1 file changed, 17 insertions(+), 21 deletions(-)

commit 50b3f948480286089896d81ff006720e6049a118
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Aug 2 21:41:47 2016 -0700

    PHOENIX-3141 UnnestArrayIT causes builds to hang

 .../java/org/apache/phoenix/end2end/UnnestArrayIT.java | 18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 243e5e22a1338aa60f22b23c64f28d7c364bb53f
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Aug 1 12:00:27 2016 -0700

    PHOENIX-3130 Ignore ASYNC and build indexes synchronously based on config property

 .../org/apache/phoenix/end2end/IndexToolIT.java    |   4 +-
 .../apache/phoenix/end2end/MutableIndexToolIT.java |   3 +-
 .../end2end/index/AsyncImmutableIndexIT.java       |  73 +++++++-------
 .../end2end/index/AsyncIndexAutoBuildIT.java       |  51 ----------
 .../end2end/index/AsyncIndexDisabledIT.java        |  78 +++++++++++++++
 .../end2end/index/AsyncIndexRegularBuildIT.java    |  62 ------------
 .../phoenix/end2end/index/AsyncIndexTestUtil.java  |  58 -----------
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 105 +++-----------------
 .../coprocessor/MetaDataRegionObserver.java        | 107 ++-------------------
 .../phoenix/mapreduce/PhoenixInputFormat.java      |   2 -
 .../phoenix/mapreduce/index/IndexToolUtil.java     |   4 -
 .../index/automation/PhoenixMRJobSubmitter.java    |  22 ++++-
 .../org/apache/phoenix/query/QueryConstants.java   |  21 +---
 .../org/apache/phoenix/query/QueryServices.java    |   6 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  13 +--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  16 +--
 .../phoenix/query/QueryServicesTestImpl.java       |   4 +-
 17 files changed, 173 insertions(+), 456 deletions(-)

commit 92c7faf766a4e96a9d99fe025b0bb0f56b66ab32
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 2 14:56:24 2016 -0700

    PHOENIX-3138 Integration tests are timing out

 phoenix-core/src/it/java/org/apache/phoenix/end2end/index/IndexIT.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit ca7c36d59247795d92f7fc23a4ae4038da215284
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 2 12:03:33 2016 -0700

    PHOENIX-3128 Remove extraneous operations during upsert with local immutable index

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 11 ++-
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 39 ++++++++++
 .../phoenix/compile/PostLocalIndexDDLCompiler.java | 15 ++--
 .../org/apache/phoenix/execute/MutationState.java  | 11 ++-
 .../phoenix/hbase/index/covered/IndexMetaData.java |  9 ++-
 .../hbase/index/covered/NonTxIndexBuilder.java     |  6 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java | 12 ++-
 .../phoenix/index/PhoenixTransactionalIndexer.java | 89 +++++++++++++++-------
 .../java/org/apache/phoenix/schema/PTableImpl.java | 13 +++-
 .../org/apache/phoenix/util/TransactionUtil.java   |  7 ++
 10 files changed, 164 insertions(+), 48 deletions(-)

commit 7febdfa881d6a0d41efc289968c8df30953ad39e
Author: Josh Elser <elserj@apache.org>
Date:   Tue Aug 2 11:51:37 2016 -0400

    PHOENIX-3136 Do not relocate org.apache.calcite in queryserver/thin-client
    
    Relocation of these classes breaks compatibility with previous versions
    of Phoenix.

 phoenix-queryserver-client/pom.xml | 7 +++----
 phoenix-queryserver/pom.xml        | 7 +++----
 2 files changed, 6 insertions(+), 8 deletions(-)

commit a9ea8a3baa32714a1640c1197609910863daca79
Author: Josh Elser <elserj@apache.org>
Date:   Tue Aug 2 16:56:34 2016 -0400

    PHOENIX-3126 Tie a driver instance to a specific user (Prabhjyot Singh)
    
    Prevent the case where a user's Kerberos credentials are
    unintentionally used by a different user.

 .../org/apache/phoenix/jdbc/PhoenixEmbeddedDriver.java    | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 545cc1c025ec56ef174f117f8d96212457f96363
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Aug 1 12:00:27 2016 -0700

    PHOENIX-3120 AsyncIndexRebuilderTask fails for transactional tables (addendum)

 .../src/it/java/org/apache/phoenix/end2end/MutableIndexToolIT.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7a27282f237ff0fdcbcfc06cbd6062a764703b20
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Aug 1 16:49:18 2016 +0530

    PHOENIX-3111 Possible Deadlock/delay while building index, upsert select, delete rows at server(Rajeshbabu)

 .../UngroupedAggregateRegionObserver.java          | 167 +++++++++++++++++++--
 1 file changed, 151 insertions(+), 16 deletions(-)

commit 3251ac58a6a9de890285ae82ba86d76618fa0a1c
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jul 28 18:21:45 2016 -0700

    PHOENIX-3120 AsyncIndexRebuilderTask fails for transactional tables

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 108 ++++++++++++++++++---
 .../coprocessor/MetaDataRegionObserver.java        |  34 +++----
 .../org/apache/phoenix/schema/MetaDataClient.java  |  11 ++-
 3 files changed, 120 insertions(+), 33 deletions(-)

commit cb21c8175534fc15f0d3934e7dd24754475c0735
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jul 28 13:58:25 2016 -0700

    PHOENIX-3121 Mention dependency on HBASE-16296

 .../src/main/java/org/apache/phoenix/execute/BaseQueryPlan.java       | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ef7560f501747e6a389bbf62b1c3c2b30b65309f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jul 28 21:35:50 2016 +0530

    PHOENIX-2926 Skip loading data for table having local indexes when there is split during bulkload job-addendem(Rajeshbabu)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 32 +++++++---------------
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 21 ++++++++++++--
 .../java/org/apache/phoenix/util/IndexUtil.java    | 13 +++++++++
 3 files changed, 42 insertions(+), 24 deletions(-)

commit 7d80fd85d4743abe1dbf9e48e0611abc33345ac8
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Jul 27 22:39:07 2016 -0700

    Automatic build of async index will happen even if mapreduce.framework.name is not set in any configuration

 .../end2end/index/AsyncImmutableIndexIT.java       | 27 ++++++++++---------
 .../end2end/index/AsyncIndexAutoBuildIT.java       | 19 +++++++------
 .../end2end/index/AsyncIndexRegularBuildIT.java    | 13 +++++----
 .../phoenix/end2end/index/AsyncIndexTestUtil.java  | 31 ++++++++++------------
 .../coprocessor/MetaDataRegionObserver.java        |  6 ++---
 5 files changed, 49 insertions(+), 47 deletions(-)

commit da8def924b933b5cbdf8007095bf686ead6fd168
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 27 15:30:43 2016 -0700

    PHOENIX-3121 Queries with filter and reverse scan failing when limit is a multiple of scanner cache size

 .../src/main/java/org/apache/phoenix/execute/BaseQueryPlan.java     | 6 ++++++
 1 file changed, 6 insertions(+)

commit e7b4398d95924c5f0c631aaaaa15658457a19aa3
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 27 08:23:33 2016 -0700

    PHOENIX-3113 Automatic build of async index will happen even if mapreduce.framework.name is not set in any configuration

 phoenix-core/src/it/java/org/apache/phoenix/end2end/IndexToolIT.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 941c60c95c18a9920696c9f22c577b6c78d540f6
Author: Loknath Priyatham Teja Singamsetty <singams.teja@gmail.com>
Date:   Tue Jul 26 23:47:53 2016 +0530

    PHOENIX-3113 Automatic build of async index will happen even if mapreduce.framework.name is not set in any configuration

 .../end2end/index/AsyncImmutableIndexIT.java       |  15 +-
 .../end2end/index/AsyncIndexAutoBuildIT.java       |  48 +++++++
 .../apache/phoenix/end2end/index/AsyncIndexIT.java | 158 ---------------------
 .../end2end/index/AsyncIndexRegularBuildIT.java    |  59 ++++++++
 .../phoenix/end2end/index/AsyncIndexTestUtil.java  |  61 ++++++++
 .../coprocessor/MetaDataRegionObserver.java        |  18 +--
 .../org/apache/phoenix/query/QueryServices.java    |   4 +
 .../apache/phoenix/query/QueryServicesOptions.java |  11 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   4 +-
 9 files changed, 195 insertions(+), 183 deletions(-)

commit cbc27b65d9adeeef187ec74a9654eb27f5fd965e
Author: tejamobref <teja@mobref.io>
Date:   Mon Jul 25 18:36:26 2016 +0530

    Fix working of async index building by adding the INDEX_TYPE column name to result set of ASYNC_INDEX_INFO_QUERY. Also refactored the test case to utilize the same.

 .../apache/phoenix/end2end/index/AsyncIndexIT.java | 30 +++-------------------
 .../org/apache/phoenix/query/QueryConstants.java   | 23 +++++++++--------
 2 files changed, 17 insertions(+), 36 deletions(-)

commit 5e4d367426329233f9c18987fdf599088b35a045
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jul 25 17:26:11 2016 +0530

    PHOENIX-3098 Possible NegativeArraySizeException while scanning local indexes during regions merge(Rajeshbabu)

 .../hbase/regionserver/LocalIndexStoreFileScanner.java | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit c307daa5e3233b44221eeff930cb78854c8be515
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jul 24 09:50:11 2016 -0700

    PHOENIX-3075 Phoenix-hive module is writing under ./build instead of ./target (Sergey Soldatov)

 phoenix-hive/src/it/java/org/apache/phoenix/hive/HiveTestUtil.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 96c0f9f7537d218a0848d24965d7dc3ec3140a4c
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jul 24 09:30:31 2016 -0700

    PHOENIX-2900 Unable to find hash cache once a salted table 's first region has split

 .../org/apache/phoenix/compile/ScanRanges.java     |  5 ++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 42 ++++++++++++++++++++++
 .../phoenix/compile/SaltedScanRangesTest.java      |  8 +++++
 3 files changed, 54 insertions(+), 1 deletion(-)

commit 59497d525d94addd9c9faf51ea64329c64149938
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Jul 23 09:49:33 2016 -0700

    PHOENIX-2900 Unable to find hash cache once a salted table 's first region has split (chenglei)

 .../end2end/BaseTenantSpecificViewIndexIT.java     |   2 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   4 +-
 .../phoenix/end2end/index/SaltedIndexIT.java       |   4 +-
 .../apache/phoenix/cache/ServerCacheClient.java    |   5 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |  88 ++++----
 .../phoenix/compile/SaltedScanRangesTest.java      | 231 +++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRangesTest.java |   8 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |   4 +-
 8 files changed, 291 insertions(+), 55 deletions(-)

commit f071365b9f6ae8def4a9ae97938969bf52be2522
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jul 22 13:52:55 2016 -0700

    PHOENIX-3019 Addendum - ImmutableBytesWritable as value of the map

 .../src/main/java/org/apache/phoenix/index/IndexMaintainer.java       | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 16d495a689bab8a0c3bb2b0f06d29e9a4736f4d1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jul 22 13:45:29 2016 -0700

    PHOENIX-3109 Improve and fix the way we are caching column family names for local indexes in IndexMaintainer

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 .../index/covered/update/ColumnReference.java      |  9 ++-
 .../index/util/ReadOnlyImmutableBytesPtr.java      | 59 --------------------
 .../org/apache/phoenix/index/IndexMaintainer.java  | 64 ++++++++++------------
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |  2 +-
 6 files changed, 36 insertions(+), 102 deletions(-)

commit 3878f3cbfb31e2058adc32d92593a8743911569e
Author: Youngwoo Kim <ywkim@apache.org>
Date:   Sun Jul 17 17:45:15 2016 +0900

    PHOENIX-3078. Hive storage handler does not work if phoenix.table.name contains the schema name
    
    Signed-off-by: Sergey Soldatov <ssa@apache.org>

 .../src/main/java/org/apache/phoenix/hive/PhoenixMetaHook.java      | 2 +-
 .../src/main/java/org/apache/phoenix/hive/util/PhoenixUtil.java     | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit e864c5d2f22f0e575492c74086cd7647b675590f
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jul 20 15:16:56 2016 -0400

    PHOENIX-3103 Exclude xom from bundling

 phoenix-client/pom.xml | 1 +
 phoenix-core/pom.xml   | 6 ++++++
 phoenix-pig/pom.xml    | 6 ++++++
 3 files changed, 13 insertions(+)

commit d90e259f4356b4b971eb275e3b3da35fbc5cb369
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jul 20 15:09:42 2016 -0400

    PHOENIX-3102 Remove jfreechart because it is LPGL licensed (Mujtaba)

 phoenix-pherf/pom.xml                              |   6 -
 .../apache/phoenix/pherf/result/ResultManager.java |  11 +-
 .../pherf/result/impl/ImageResultHandler.java      | 126 ---------------------
 3 files changed, 3 insertions(+), 140 deletions(-)

commit 5a7cf02ca0797da1a1b726cb3d66913cd88e791d
Author: Josh Elser <elserj@apache.org>
Date:   Wed Jul 20 13:55:30 2016 -0400

    PHOENIX-3101 Remove findbugs' annotations dependency as it is lgpl
    
    Findbugs' annotation class also included implementations for the
    JCIP annotations. Add in stephenc's jcip-annotations for this.

 dev/release_files/NOTICE | 28 ++++++++++++++++++----------
 phoenix-core/pom.xml     | 10 +++++++---
 pom.xml                  | 14 ++++++++++----
 3 files changed, 35 insertions(+), 17 deletions(-)

commit 0c1bf17cb37e9142bcf122390ad4b58f16681305
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jul 19 22:12:49 2016 -0400

    PHOENIX-3092 PHOENIX-3093 Reconstruct L&N for binary artifacts from scratch

 dev/release_files/LICENSE | 1615 ++++++++++++++++++++++++++++++++++++++++++++-
 dev/release_files/NOTICE  |  312 +++++++--
 2 files changed, 1867 insertions(+), 60 deletions(-)

commit 18084b8eaf47f967a548b9ffd96d2d738e13d434
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 22:57:16 2016 -0400

    PHOENIX-3089 PHOENIX-3090 Fix L&N for source release

 LICENSE | 174 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NOTICE  |  29 ++---------
 2 files changed, 179 insertions(+), 24 deletions(-)

commit ae7c4347a631fd5301db2657598733c85ca92993
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 18:55:08 2016 -0400

    PHOENIX-3088 Drastically reduce apache-rat-plugin excludes
    
    The apache-rat-plugin is already configured to exclude many of the
    things that we were overriding the exclusions in pluginManagement
    to exclude for us. All of these were removed. Exclusion configuration moved from
    pluginMangement to plugins to avoid unintentional exclusions in child
    modules (that were only meant to applied at the parent pom)
    
    Also removes manual configuration of apache-rat-plugin version to
    use the version set in apache parent pom.

 phoenix-core/pom.xml               | 10 ++++++++++
 phoenix-queryserver-client/pom.xml |  9 +++++++++
 phoenix-spark/README.md            | 19 ++++++++++++++++++-
 pom.xml                            | 35 ++---------------------------------
 4 files changed, 39 insertions(+), 34 deletions(-)

commit 0f60403bfa58f4b6a5abfe56004622a371e3d9f1
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 18:36:30 2016 -0400

    PHOENIX-3087 Add missing license headers to files

 README.md                                          | 17 ++++++
 bin/hadoop-metrics2-hbase.properties               | 16 ++++++
 bin/hadoop-metrics2-phoenix.properties             | 19 ++++++-
 examples/pig/test.pig                              | 17 ++++++
 .../src/test/resources/hadoop-metrics2.properties  | 18 ++++++-
 .../src/test/resources/pherf.test.properties       | 60 ++++++----------------
 .../src/main/webapp/js/api/chart-model.js          | 20 +++++++-
 phoenix-tracing-webapp/src/main/webapp/js/app.js   | 20 +++++++-
 .../src/main/webapp/js/config/chart-config.js      | 20 +++++++-
 .../webapp/js/controllers/accordion-controllers.js | 18 +++++++
 .../js/controllers/dependency-tree-controllers.js  | 20 +++++++-
 .../main/webapp/js/controllers/list-controllers.js | 20 +++++++-
 .../webapp/js/controllers/search-controllers.js    | 20 +++++++-
 .../webapp/js/controllers/timeline-controllers.js  | 20 +++++++-
 .../js/controllers/trace-count-controllers.js      | 20 +++++++-
 .../controllers/trace-distribution-controllers.js  | 20 +++++++-
 .../js/factories/statement-factory-config.js       | 20 +++++++-
 .../main/webapp/js/factories/statement-factory.js  | 20 +++++++-
 .../js/services/generate-statement-service.js      | 20 +++++++-
 .../src/test/webapp/js/specs/app-route-spec.js     | 20 +++++++-
 .../src/test/webapp/js/specs/timeline-ctrl-spec.js | 20 +++++++-
 .../test/webapp/js/specs/trace-list-ctrl-spec.js   | 20 +++++++-
 .../test/webapp/js/specs/tracing-app-ctrl-spec.js  | 20 +++++++-
 pom.xml                                            | 24 +++++++++
 24 files changed, 446 insertions(+), 63 deletions(-)

commit 8e9392cfe50ea4f0f736b2252efac73bae1fca9f
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 18:18:07 2016 -0400

    PHOENIX-3085 Remove Copyright ASF from license headers

 bin/hbase-site.xml                                       |  2 --
 build.txt                                                |  2 --
 .../end2end/BaseOwnClusterClientManagedTimeIT.java       |  4 +---
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java        |  4 +---
 .../org/apache/phoenix/end2end/BaseOwnClusterIT.java     |  4 +---
 .../java/org/apache/phoenix/end2end/CaseStatementIT.java |  4 +---
 .../java/org/apache/phoenix/end2end/CastAndCoerceIT.java |  4 +---
 .../apache/phoenix/end2end/ClientManagedTimeTest.java    |  4 +---
 .../phoenix/end2end/ClientTimeArithmeticQueryIT.java     |  4 +---
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java       | 14 ++++++++------
 .../org/apache/phoenix/end2end/End2EndTestDriver.java    |  2 --
 .../it/java/org/apache/phoenix/end2end/GroupByIT.java    |  4 +---
 .../phoenix/end2end/HBaseManagedTimeTableReuseTest.java  |  4 +---
 .../org/apache/phoenix/end2end/HBaseManagedTimeTest.java |  4 +---
 .../apache/phoenix/end2end/NeedsOwnMiniClusterTest.java  |  4 +---
 .../it/java/org/apache/phoenix/end2end/NotQueryIT.java   |  4 +---
 .../java/org/apache/phoenix/end2end/QueryTimeoutIT.java  |  4 +---
 .../org/apache/phoenix/end2end/QueryWithLimitIT.java     |  4 +---
 .../org/apache/phoenix/end2end/QueryWithOffsetIT.java    |  4 +---
 .../it/java/org/apache/phoenix/end2end/ScanQueryIT.java  |  4 +---
 .../src/it/java/org/apache/phoenix/end2end/Shadower.java |  4 +---
 .../java/org/apache/phoenix/execute/PartialCommitIT.java |  4 +---
 .../java/org/apache/phoenix/cache/JodaTimezoneCache.java | 16 +++++++++-------
 .../phoenix/exception/UndecodableByteException.java      |  4 +---
 .../expression/function/ConvertTimezoneFunction.java     | 14 ++++++++------
 .../apache/phoenix/expression/function/EncodeFormat.java | 14 ++++++++------
 .../java/org/apache/phoenix/protobuf/ProtobufUtil.java   |  2 --
 .../main/java/org/apache/phoenix/schema/SortOrder.java   |  2 --
 .../phoenix/schema/stats/StatisticsCollectionScope.java  |  6 ++----
 .../main/java/org/apache/phoenix/util/ConfigUtil.java    |  2 --
 .../org/apache/phoenix/cache/JodaTimezoneCacheTest.java  | 16 ++++++++--------
 .../apache/phoenix/compile/ScanRangesIntersectTest.java  |  4 +---
 .../org/apache/phoenix/execute/MutationStateTest.java    |  4 +---
 .../util/ColumnInfoToStringEncoderDecoderTest.java       |  4 +---
 .../mapreduce/util/PhoenixConfigurationUtilTest.java     |  4 +---
 .../java/org/apache/phoenix/schema/SortOrderTest.java    |  2 --
 .../org/apache/phoenix/util/PhoenixEncodeDecodeTest.java |  4 +---
 .../org/apache/phoenix/pig/PhoenixHBaseLoaderIT.java     |  6 ++----
 .../org/apache/phoenix/pig/PhoenixHBaseStorerIT.java     |  4 +---
 .../java/org/apache/phoenix/pig/PhoenixHBaseLoader.java  |  4 +---
 .../apache/phoenix/pig/util/PhoenixPigSchemaUtil.java    |  4 +---
 .../phoenix/pig/util/QuerySchemaParserFunction.java      |  4 +---
 .../phoenix/pig/util/SqlQueryToColumnInfoFunction.java   |  4 +---
 .../phoenix/pig/util/TableSchemaParserFunction.java      |  4 +---
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java       |  4 +---
 .../phoenix/pig/util/QuerySchemaParserFunctionTest.java  |  4 +---
 .../pig/util/SqlQueryToColumnInfoFunctionTest.java       |  4 +---
 .../phoenix/pig/util/TableSchemaParserFunctionTest.java  |  4 +---
 phoenix-protocol/src/main/MetaDataService.proto          |  2 --
 phoenix-protocol/src/main/PFunction.proto                |  2 --
 phoenix-protocol/src/main/PGuidePosts.proto              |  4 +---
 phoenix-protocol/src/main/PSchema.proto                  |  2 --
 phoenix-protocol/src/main/PTable.proto                   |  2 --
 phoenix-protocol/src/main/ServerCacheFactory.proto       |  2 --
 phoenix-protocol/src/main/ServerCachingService.proto     |  2 --
 55 files changed, 80 insertions(+), 172 deletions(-)

commit 883a0e5cdff5b7ddfb80c867b92ec031a04fee65
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jul 18 17:56:05 2016 -0400

    PHOENIX-3086 Release artifacts should be "apache-phoenix*"

 dev/make_rc.sh | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a6f61cb40c3eb031cd3b8b2192a243709bce37c6
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Jul 18 17:06:13 2016 -0700

    PHOENIX-3042 Using functional index expression in where statement for join query fails

 .../phoenix/end2end/index/IndexExpressionIT.java   | 82 ++++++++++++++++++++++
 .../phoenix/compile/IndexStatementRewriter.java    | 12 +++-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 17 ++---
 .../apache/phoenix/optimize/QueryOptimizer.java    |  2 +-
 .../parse/IndexExpressionParseNodeRewriter.java    |  8 +--
 .../apache/phoenix/compile/QueryCompilerTest.java  | 41 ++++++++++-
 6 files changed, 144 insertions(+), 18 deletions(-)

commit 6a0afa4fa45bce497275eda76fa3c6e663ee9979
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Jul 18 14:13:21 2016 -0700

    PHOENIX-3070 Unnecessary use of UUID.randomUUID().

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e5a8dca90c369320ee12098e42f856626f2c9d69
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jul 13 18:16:55 2016 +0530

    PHOENIX-3021 Using local index during compaction is producing NPE(Sergey Soldatov)

 .../IndexHalfStoreFileReaderGenerator.java         | 87 +++++++++++++++-------
 1 file changed, 61 insertions(+), 26 deletions(-)

commit e24b16a4df8d44e03dea47cbdb319be6485f22f2
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 13 11:34:37 2016 +0200

    PHOENIX-3061 IndexTool marks index as ACTIVE and exit 0 even if bulkload has error

 .../phoenix/end2end/index/AsyncImmutableIndexIT.java       | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 8346c470fff04b2b6bab57ecfba93c9879afad7e
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 13 09:40:42 2016 +0200

    PHOENIX-3061 IndexTool marks index as ACTIVE and exit 0 even if bulkload has error

 .../end2end/index/AsyncImmutableIndexIT.java       | 55 ++++++++++------------
 1 file changed, 25 insertions(+), 30 deletions(-)

commit 776af74af3d1c9c1d487166d6c44713888de9c5e
Author: Simon Wang <simon.wang@airbnb.com>
Date:   Tue Jul 12 11:38:21 2016 -0700

    PHOENIX-3061 IndexTool marks index as ACTIVE and exit 0 even if bulkload has error (addendum) (Simon Wang)

 .../it/java/org/apache/phoenix/end2end/IndexToolIT.java  | 14 +++++++++++---
 .../org/apache/phoenix/mapreduce/index/IndexTool.java    | 16 ++++++++--------
 .../apache/phoenix/mapreduce/index/IndexToolUtil.java    |  8 +++++++-
 ...Reducer.java => PhoenixIndexImportDirectReducer.java} |  4 ++--
 .../mapreduce/index/PhoenixIndexImportMapper.java        |  7 ++++---
 5 files changed, 32 insertions(+), 17 deletions(-)

commit e060a131bd7cc94e860b70e0698c7d2d9802ddc9
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jul 12 22:55:23 2016 +0530

    PHOENIX-3045 Data regions in transition forever if RS holding them down during drop index

 .../org/apache/phoenix/hbase/index/Indexer.java    |  23 +---
 .../phoenix/hbase/index/write/IndexWriter.java     |  14 +--
 .../hbase/index/write/RecoveryIndexWriter.java     | 134 +++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |   5 +-
 .../schema/stats/StatisticsCollectorFactory.java   |  21 +---
 .../phoenix/schema/stats/StatisticsUtil.java       |  27 +++++
 6 files changed, 178 insertions(+), 46 deletions(-)

commit 52d639fb8b75d6c040a5e0fbbbac58d1e1ea4268
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Jul 12 22:52:47 2016 +0530

    PHOENIX-3063 MutableIndexFailureIT is getting hanged in 4.x-HBase-0.98 branch

 .../org/apache/phoenix/compile/FromCompiler.java   |  8 ++--
 .../phoenix/iterate/BaseResultIterators.java       |  5 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 47 +++++++++++++---------
 .../java/org/apache/phoenix/schema/PTableImpl.java |  6 +--
 4 files changed, 38 insertions(+), 28 deletions(-)

commit 919a89e3c2d3a6adb7ea3e166e3f602b8d028f3e
Author: tejamobref <teja@mobref.io>
Date:   Tue Jul 12 01:37:12 2016 +0530

    Added ability to run async indexes when hbase cluster is in non-distributed mode or when mr is in local mode

 .../apache/phoenix/end2end/index/AsyncIndexIT.java | 180 +++++++++++++++++++++
 .../coprocessor/MetaDataRegionObserver.java        | 113 +++++++++++--
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   4 +-
 .../index/automation/PhoenixMRJobSubmitter.java    |  13 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  18 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   4 +-
 6 files changed, 308 insertions(+), 24 deletions(-)

commit b49d558315501151f6e84990d06682de0be87ef7
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Jul 11 14:03:39 2016 -0700

    PHOENIX-3061 IndexTool marks index as ACTIVE and exit 0 even if bulkload has error (Simon Wang)

 .../org/apache/phoenix/mapreduce/index/IndexTool.java | 19 ++++++++-----------
 1 file changed, 8 insertions(+), 11 deletions(-)

commit af8bbfb52a3ebc2bffb034ee62e9f27972de8e78
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Jul 11 13:42:55 2016 +0530

    PHOENIX-3060 pherf tool is not working (Sergey Soldatov)

 phoenix-pherf/pom.xml | 304 +++++++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 286 insertions(+), 18 deletions(-)

commit 4790b3710254103245d83fdc1ab0977d06045878
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jul 11 09:49:15 2016 +0530

    PHOENIX-3002 Upgrading to 4.8 doesn't recreate local indexes-addendum2(Rajeshbabu)

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 14 ++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 22 +++++++++++-----------
 3 files changed, 26 insertions(+), 12 deletions(-)

commit b19aba2bb11f3b9c94ca0a593159828ee029e2c8
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jul 10 10:43:25 2016 +0200

    PHOENIX-3040 Don't use guideposts for executing queries serially simplification

 .../apache/phoenix/compile/ListJarsQueryPlan.java  |  5 ---
 .../java/org/apache/phoenix/compile/QueryPlan.java |  2 -
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  5 ---
 .../org/apache/phoenix/execute/AggregatePlan.java  |  5 ---
 .../apache/phoenix/execute/DelegateQueryPlan.java  |  5 ---
 .../execute/LiteralResultIterationPlan.java        |  6 ---
 .../java/org/apache/phoenix/execute/ScanPlan.java  | 48 ++++------------------
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  6 ---
 .../java/org/apache/phoenix/execute/UnionPlan.java |  9 ----
 .../phoenix/iterate/BaseResultIterators.java       |  9 ++--
 .../apache/phoenix/iterate/SerialIterators.java    |  8 ++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  5 ---
 .../org/apache/phoenix/query/QueryServices.java    |  3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  5 ---
 15 files changed, 21 insertions(+), 102 deletions(-)

commit dca188f0259d71f6520568f88012cdb2faeac643
Author: Josh Elser <elserj@apache.org>
Date:   Thu Jul 7 18:08:54 2016 -0400

    PHOENIX-3057 Set incremental=false for sqlline-thin

 bin/sqlline-thin.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ef8ecc180ae3556454397ba2e6e576d2cf58cac
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jul 8 13:43:46 2016 -0700

    PHOENIX-3056 Rows cannot be deleted from immutable table when in building state (James Taylor)

 .../end2end/index/AsyncImmutableIndexIT.java       | 114 +++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  82 +++++++++++----
 2 files changed, 174 insertions(+), 22 deletions(-)

commit 2da5ff2ad0d4573c14b2214378df9f25286fa8fb
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jul 7 16:25:57 2016 +0530

    PHOENIX-2999 Upgrading Multi-tenant table to map with namespace using upgradeUtil

 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 125 ++++++++++++++-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   2 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   8 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  25 +--
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   9 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 169 ++++++++++++++-------
 8 files changed, 251 insertions(+), 102 deletions(-)

commit 6d7f070794c85613407adc25fc36291f94415038
Author: maryannxue <maryann.xue@gmail.com>
Date:   Wed Jul 6 09:48:48 2016 -0400

    PHOENIX-3029 Child/parent optimization cannot work with DESC columns

 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 98 +++++++++++++---------
 .../org/apache/phoenix/compile/WhereOptimizer.java |  8 +-
 2 files changed, 65 insertions(+), 41 deletions(-)

commit d4be4f20637b2438eb402198f7ddbeef56198e69
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jul 6 20:23:35 2016 +0530

    PHOENIX-2926 Skip loading data for table having local indexes when there is split during bulkload job(Rajeshbabu)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 55 ++++++++++++++++++++--
 1 file changed, 52 insertions(+), 3 deletions(-)

commit dbd9143e9cf75a9770e34bfcc5e9cb15922ea8a5
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Jul 6 17:55:53 2016 +0530

    PHOENIX-2902 Adjust PhoenixDatabaseMetadata#getSchemas query if namespaces are enabled

 .../apache/phoenix/end2end/QueryDatabaseMetaDataIT.java  | 16 ++++++++++------
 .../org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java |  6 ++++--
 2 files changed, 14 insertions(+), 8 deletions(-)

commit b7564692f6bb25eab22d5e013774a413007afabe
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jul 5 14:30:04 2016 -0400

    PHOENIX-3025 Remove guava relocation in queryserver jar

 phoenix-queryserver/pom.xml | 8 --------
 1 file changed, 8 deletions(-)

commit 5570a73ffd5e73ca6afef302d8f025665f40c9db
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jul 3 23:41:43 2016 -0700

    PHOENIX-2724 Query with large number of guideposts is slower compared to no stats.

 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 4 ++--
 .../java/org/apache/phoenix/schema/stats/GuidePostsInfoBuilder.java | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit d58601605e2b32029f7641547f089275af2079fb
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jul 3 18:01:17 2016 -0700

    PHOENIX-3043 Tune table options for SYSTEM.STATS.

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java | 3 ++-
 .../src/main/java/org/apache/phoenix/query/QueryConstants.java         | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit f9420e6fb8d635572a7049527db0cc513dbeebe6
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jun 30 22:13:07 2016 -0700

    PHOENIX-3040 Don't use guideposts for executing queries serially

 .../apache/phoenix/compile/ListJarsQueryPlan.java  |  5 ++
 .../java/org/apache/phoenix/compile/QueryPlan.java |  1 +
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  5 ++
 .../org/apache/phoenix/execute/AggregatePlan.java  | 22 +++++---
 .../phoenix/execute/DegenerateQueryPlan.java       | 64 ----------------------
 .../apache/phoenix/execute/DelegateQueryPlan.java  |  5 ++
 .../execute/LiteralResultIterationPlan.java        |  5 ++
 .../java/org/apache/phoenix/execute/ScanPlan.java  | 58 +++++++++++++-------
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  5 ++
 .../java/org/apache/phoenix/execute/UnionPlan.java |  9 +++
 .../phoenix/iterate/BaseResultIterators.java       | 30 ++++------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  5 ++
 .../org/apache/phoenix/query/QueryServices.java    |  3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  5 ++
 15 files changed, 109 insertions(+), 114 deletions(-)

commit cec2340d00cdc7bcbc1945b3952f8e6948febc61
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Jun 29 12:22:04 2016 -0700

    PHOENIX-3037 Setup proper security context in compaction/split coprocessor hooks

 .../coprocessor/DelegateRegionObserver.java        | 248 +++++++++++++++------
 .../UngroupedAggregateRegionObserver.java          |  47 ++--
 .../org/apache/phoenix/hbase/index/Indexer.java    |  20 +-
 3 files changed, 230 insertions(+), 85 deletions(-)

commit d1cde87fadf77eb9aa12ed07a53516725f5db307
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Jun 28 20:14:47 2016 -0700

    PHOENIX-2968 Minimize RPCs for ALTER statement over APPEND_ONLY_SCHEMA

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java | 52 ++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 68 ++++++++++++----------
 2 files changed, 74 insertions(+), 46 deletions(-)

commit bbfb1e31921db6767c003679715ab2dc6a244423
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 28 23:29:52 2016 -0700

    PHOENIX-2931 Phoenix client asks users to provide configs in cli that are present on the machine in hbase conf (aliciashu)

 bin/sqlline.py                                     | 37 ++++++++++++++++------
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 28 ++++++++++++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 16 ++++++++--
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |  6 ++--
 4 files changed, 72 insertions(+), 15 deletions(-)

commit 93e7c1b30d5934a0c2c668f79a0db8ebac5a92fb
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jun 29 08:25:32 2016 +0530

    PHOENIX-3018 Write local updates to region than HTable in master branch(Rajeshbabu)

 .../index/write/ParallelWriterIndexCommitter.java  | 22 ++++++++++++++++------
 .../TrackingParallelWriterIndexCommitter.java      | 21 ++++++++++++++++-----
 .../java/org/apache/phoenix/util/IndexUtil.java    | 14 ++++++++++++++
 3 files changed, 46 insertions(+), 11 deletions(-)

commit 60293d2f62645f1498c4506d201e9bf8cc030584
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jun 29 00:26:53 2016 +0530

    PHOENIX-3002 Upgrading to 4.8 doesn't recreate local indexes-addendum(Rajeshbabu)

 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 50 ++++++++++++++++------
 2 files changed, 38 insertions(+), 16 deletions(-)

commit caf4616ec7a67897db70605c123856f5d279cfa0
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jun 24 16:46:52 2016 -0700

    PHOENIX-3027 Upserting rows to a table with a mutable index using a tenant specific connection fails

 .../phoenix/end2end/index/MutableIndexIT.java      | 37 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  | 16 ++++++++--
 2 files changed, 50 insertions(+), 3 deletions(-)

commit f12bda4b45100622b4c1faf59e46a5d4493a1d29
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jun 28 09:54:43 2016 -0700

    PHOENIX-3028 StatisticsWriter should update the stats collection timestamp asynchronously

 .../schema/stats/DefaultStatisticsCollector.java       |  4 ++--
 .../schema/stats/StatisticsCollectionRunTracker.java   |  1 -
 .../apache/phoenix/schema/stats/StatisticsScanner.java | 18 +++++++++---------
 .../apache/phoenix/schema/stats/StatisticsWriter.java  | 14 +++++---------
 4 files changed, 16 insertions(+), 21 deletions(-)

commit b101f36f711d8e7b6d7dd1fb8ce1e4483a33cb1f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Fri Jun 24 17:01:21 2016 -0700

    PHOENIX-3025 CsvBulkloadTool is failing with java.lang.IncompatibleClassChangeError

 phoenix-client/pom.xml | 6 ------
 1 file changed, 6 deletions(-)

commit 4294552cd15095e7bd0131451695047d8db0d4d1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Jun 27 10:51:47 2016 -0700

    PHOENIX-3031 Rename TestMRJobSubmitter so it is executed as a unit test

 .../automated/{TestMRJobSubmitter.java => MRJobSubmitterTest.java}      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9078dddc88d8749016ace2d94da7f7dd54eeff96
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Jun 27 10:05:11 2016 -0700

    PHOENIX-3023 Slow performance when limit queries are executed in parallel by default

 .../org/apache/phoenix/execute/AggregatePlan.java  |  2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  | 65 +++++++++++-----------
 .../phoenix/iterate/BaseResultIterators.java       | 14 ++++-
 .../apache/phoenix/iterate/ParallelIterators.java  | 32 +++++++----
 .../phoenix/iterate/TableResultIterator.java       |  4 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  2 +-
 .../compile/StatementHintsCompilationTest.java     |  8 +--
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  2 +-
 8 files changed, 75 insertions(+), 54 deletions(-)

commit a44387358d6b58b77358a42f38c5baac9e2ab527
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Jun 23 13:54:33 2016 -0700

    PHOENIX-2949 Fix estimated region size when checking for serial query

 .../java/org/apache/phoenix/execute/ScanPlan.java  | 46 +++++++++++-----------
 .../org/apache/phoenix/query/QueryServices.java    |  2 +-
 2 files changed, 25 insertions(+), 23 deletions(-)

commit 8a72032e20ff6d3ab4457ad50be2bef2dfb124d9
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jun 24 02:25:49 2016 +0530

    PHOENIX-3002 Upgrading to 4.8 doesn't recreate local indexes(Rajeshbabu)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 199 +------------------
 .../org/apache/phoenix/query/QueryServices.java    |   2 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  11 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 219 +++++++++++++++++++--
 6 files changed, 224 insertions(+), 215 deletions(-)

commit 3e69b90d8666ffb8017cf5537d987522ef485d57
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Jun 22 23:45:54 2016 -0700

    PHOENIX-3020 Bulk load tool is not working with new jars

 phoenix-client/pom.xml             | 36 +++++++++++++++++++-----------------
 phoenix-queryserver-client/pom.xml | 32 ++++++++++++++++++++++++++++++++
 phoenix-queryserver/pom.xml        | 30 ++++++++++++++++++++++++++++++
 phoenix-server/pom.xml             | 37 +++++++++++++++++++++++--------------
 4 files changed, 104 insertions(+), 31 deletions(-)

commit 557197ed6311356892b8f5144bb1a1d6731611ef
Author: Sergey Soldatov <ssa@apache.org>
Date:   Tue Jun 21 18:02:56 2016 -0700

    PHOENIX-3015 Any metadata changes may cause unpredictable result when local indexes are using

 .../regionserver/IndexHalfStoreFileReaderGenerator.java     |  2 +-
 .../org/apache/phoenix/index/PhoenixIndexFailurePolicy.java |  2 +-
 .../main/java/org/apache/phoenix/util/PhoenixRuntime.java   | 13 +++++++++++++
 3 files changed, 15 insertions(+), 2 deletions(-)

commit bfda226ee2c89dd57a5d3a6fa4552980775bc525
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 21 18:50:47 2016 -0400

    PHOENIX-3013 TO_CHAR fails to handle indexed null value (Junegunn Choi)

 .../org/apache/phoenix/end2end/ToCharFunctionIT.java  | 19 +++++++++++++++++++
 .../phoenix/expression/function/ToCharFunction.java   |  3 +++
 2 files changed, 22 insertions(+)

commit 0acabcdab9b65661fc05900ae8b2c6c4c0ae4c41
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jun 21 17:29:07 2016 -0700

    PHOENIX-3016 Addendum to fix test failures

 .../phoenix/query/ConnectionQueryServicesImpl.java | 206 +++++++++++----------
 1 file changed, 105 insertions(+), 101 deletions(-)

commit b07a988f7f93537f6257f0ff7de626b6a5caa300
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 21 17:07:43 2016 -0700

    PHOENIX-3012 Addendum, typo.

 .../src/main/java/org/apache/phoenix/filter/DistinctPrefixFilter.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 992b28eb0d9a84278d6831eabb923369ea06eb16
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 21 15:59:19 2016 -0700

    PHOENIX-3012 DistinctPrefixFilter logic fails with local indexes and salted tables.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    |  2 +-
 .../phoenix/filter/DistinctPrefixFilter.java       | 55 +++++++++++++++-------
 .../java/org/apache/phoenix/util/ScanUtil.java     |  4 ++
 3 files changed, 44 insertions(+), 17 deletions(-)

commit cd3868ce418ded3391be45f89c7c428afd6f520e
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jun 21 15:42:42 2016 -0700

    PHOENIX-3014 SELECT DISTINCT pk ORDER BY pk DESC gives the wrong results with salted tables.

 .../it/java/org/apache/phoenix/end2end/DistinctPrefixFilterIT.java  | 2 +-
 .../src/main/java/org/apache/phoenix/execute/AggregatePlan.java     | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 332e6cb6328d42f840054473c11e24b88a96cdd0
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 21 16:43:36 2016 -0400

    PHOENIX-3017 Catch TableNotFoundException and avoid logging at warn

 .../src/main/java/org/apache/phoenix/query/TableStatsCache.java      | 5 +++++
 1 file changed, 5 insertions(+)

commit 9e03a48fb3c76f4a53c11fc6ede21ad573f80157
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jun 22 01:04:07 2016 +0530

    PHOENIX-2209 Building Local Index Asynchronously via IndexTool fails to populate index table(Rajeshbabu)

 .../org/apache/phoenix/end2end/IndexToolIT.java    |  5 ++-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 48 ++++++++++++++++++++--
 .../java/org/apache/phoenix/util/IndexUtil.java    | 21 ++++++++++
 3 files changed, 69 insertions(+), 5 deletions(-)

commit e6f0b62de1d53df10d99653e0ed9bdda583e2f59
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jun 21 09:08:29 2016 -0700

    PHOENIX-3016 NO_UPGRADE_ATTRIB on a PhoenixConnection shouldn't prevent opening of HConnection

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  31 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 467 +++++++++++----------
 2 files changed, 249 insertions(+), 249 deletions(-)

commit a357bf275abb272f2cabc571551b618cb4744fd2
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jun 21 00:16:36 2016 -0400

    PHOENIX-2792 Enable PQS to use the new SPNEGO support from Avatica

 bin/sqlline-thin.py                                |  2 +-
 phoenix-queryserver-client/pom.xml                 |  4 +
 .../phoenix/queryserver/client/SqllineWrapper.java | 87 ++++++++++++++++++++++
 .../apache/phoenix/queryserver/server/Main.java    | 86 +++++++++++++++++----
 4 files changed, 163 insertions(+), 16 deletions(-)

commit 8b0b4fa25be45f8f993ccd0600728006e6a44e78
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Jun 16 17:36:19 2016 -0700

    PHOENIX-3001 Dropping local index and recreation it with following split may cause RS failure

 .../regionserver/LocalIndexStoreFileScanner.java   | 28 ++++++++++------------
 1 file changed, 12 insertions(+), 16 deletions(-)

commit fa3998cff2db8b62985bca6b3b3aad1d64c125c8
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Jun 20 16:14:12 2016 -0700

    PHOENIX-3011 Fix missing apache licenses

 .../end2end/BaseHBaseManagedTimeTableReuseIT.java    | 18 ++++++++++++++++++
 .../phoenix/end2end/DistinctPrefixFilterIT.java      | 17 +++++++++++++++++
 .../apache/phoenix/filter/DistinctPrefixFilter.java  | 17 +++++++++++++++++
 .../apache/phoenix/parse/CreateSchemaStatement.java  | 17 +++++++++++++++++
 .../apache/phoenix/parse/DropSchemaStatement.java    | 17 +++++++++++++++++
 .../org/apache/phoenix/parse/UseSchemaStatement.java | 17 +++++++++++++++++
 .../phoenix/filter/DistinctPrefixFilterTest.java     | 20 ++++++++++++++++++--
 7 files changed, 121 insertions(+), 2 deletions(-)

commit b78d5b0c16911a3925ea5113a325eb5b4f938e2d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Jun 20 11:41:18 2016 -0700

    PHOENIX-3008 Prevent upgrade of existing multi-tenant table to map to namespace until we support it correctly

 phoenix-core/src/main/java/org/apache/phoenix/util/UpgradeUtil.java | 2 ++
 1 file changed, 2 insertions(+)

commit e53e3bbb660769cde11d77ed557b8d305926edf3
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jun 20 13:28:27 2016 -0400

    PHOENIX-2940 Query the stats table and cache stats in the client
    
    Side-steps the issue of how to safely compute statistics and tie
    them to a PTable being constructed inside the regionserver. Stats
    can be asynchronously updated on the client side, or synchronously
    fetched if necessary without blocking other Phoenix clients.
    
    Includes some unit tests and logging on stats-cache maintenance
    to help us track usage going forward.

 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java |  21 ---
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  25 +--
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   5 +-
 .../phoenix/iterate/BaseResultIterators.java       |   7 +-
 .../phoenix/query/ConnectionQueryServices.java     |   7 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  62 +++----
 .../query/ConnectionlessQueryServicesImpl.java     |  26 ++-
 .../query/DelegateConnectionQueryServices.java     |   6 +
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +
 .../org/apache/phoenix/query/TableStatsCache.java  | 187 +++++++++++++++++++++
 .../org/apache/phoenix/schema/DelegateTable.java   |   6 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |  25 +--
 .../java/org/apache/phoenix/schema/PTable.java     |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  76 ++-------
 .../phoenix/filter/SkipScanBigFilterTest.java      |  12 +-
 .../PhoenixStatsCacheRemovalListenerTest.java      |  45 +++++
 .../java/org/apache/phoenix/util/TestUtil.java     |   4 +-
 phoenix-protocol/src/main/PTable.proto             |   4 +-
 19 files changed, 342 insertions(+), 182 deletions(-)

commit 917e025ae13e54c83197d15ceacd5d122dbe4ee4
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 20 10:43:40 2016 -0700

    PHOENIX-2950 Implement CRON job to start async index builds and restart failed jobs (Ravi Kishore Valeti)

 .../apache/phoenix/mapreduce/index/IndexTool.java  |   2 +-
 .../index/automation/PhoenixAsyncIndex.java        |  75 ++++++
 .../index/automation/PhoenixMRJobCallable.java     |  73 ++++++
 .../index/automation/PhoenixMRJobSubmitter.java    | 281 +++++++++++++++++++++
 .../index/automation/YarnApplication.java          | 208 +++++++++++++++
 .../org/apache/phoenix/util/PhoenixMRJobUtil.java  | 233 +++++++++++++++++
 .../phoenix/util/ZKBasedMasterElectionUtil.java    |  70 +++++
 .../index/automated/TestMRJobSubmitter.java        | 137 ++++++++++
 8 files changed, 1078 insertions(+), 1 deletion(-)

commit 9a4dc9840bd90203986224bf30c5de4917417dd1
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jun 14 17:16:33 2016 -0700

    PHOENIX-2998 Add test for setting RPC timeout for a connection

 .../org/apache/phoenix/end2end/QueryTimeoutIT.java | 32 +++++++++++++++++++-
 .../java/org/apache/phoenix/util/QueryUtil.java    | 34 +++++++++++++++++-----
 2 files changed, 57 insertions(+), 9 deletions(-)

commit 743da6ee8d3b0e18047c24ae19f679f89fe3eb8c
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Mon Jun 20 14:00:43 2016 +0530

    PHOENIX-2952 Addendum to fix test case failure (Ram)

 .../org/apache/phoenix/expression/function/ArrayLengthFunction.java    | 2 +-
 .../src/main/java/org/apache/phoenix/schema/types/PArrayDataType.java  | 3 +--
 2 files changed, 2 insertions(+), 3 deletions(-)

commit 5e64eb3b9d8a77f18a770b37fc3d089d249bba33
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Mon Jun 20 09:57:24 2016 +0530

    PHOENIX-2952 array_length return negative value (Joseph Sun)

 .../apache/phoenix/end2end/RegexpSplitFunctionIT.java   | 17 +++++++++++++++++
 .../org/apache/phoenix/schema/types/PArrayDataType.java |  5 ++++-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit f840d558c41e3a948b921dfce47e91dee72b0250
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 19 21:21:42 2016 -0700

    PHOENIX-3005 Fixes for COUNT(DISTINCT...) with DistinctPrefixFilter and indexes.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 27 ++++++++++++++--------
 .../apache/phoenix/compile/GroupByCompiler.java    |  7 ++----
 .../function/DistinctCountAggregateFunction.java   |  6 ++---
 .../apache/phoenix/compile/QueryOptimizerTest.java | 24 +++++++++++++++++++
 4 files changed, 46 insertions(+), 18 deletions(-)

commit d2b13475032f863313d4b32894ade05d1f1669c5
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 18 22:10:55 2016 -0700

    PHOENIX-3006 Fix all ScalarFunctions to implement clone(List) or <init>(List). (James Taylor & Lars Hofhansl)

 .../expression/function/CeilDateExpression.java    |  2 +-
 .../expression/function/CeilDecimalExpression.java | 12 +++++------
 .../function/CeilTimestampExpression.java          | 14 ++++++------
 .../expression/function/FloorDateExpression.java   |  2 +-
 .../function/FloorDecimalExpression.java           | 12 +++++------
 .../expression/function/RoundDateExpression.java   |  2 +-
 .../function/RoundDecimalExpression.java           |  2 +-
 .../function/RoundTimestampExpression.java         |  2 +-
 .../function/BuiltinFunctionConstructorTest.java   | 25 +++++++++++-----------
 9 files changed, 35 insertions(+), 38 deletions(-)

commit ac3c4ba072774deaf6bc9588d708bf3750262b3d
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jun 17 13:46:10 2016 -0700

    PHOENIX-2276 Fix test failure

 .../it/java/org/apache/phoenix/end2end/TenantSpecificViewIndexIT.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3581d29071d5023110cc8afc2ec58840e84dc861
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 17 12:37:23 2016 -0700

    PHOENIX-3000 Reduce memory consumption during DISTINCT aggregation.

 .../aggregator/DistinctValueWithCountServerAggregator.java    | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 0acca8e81e3dccc029e3c822e3666c8014e4ba11
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jun 17 12:34:11 2016 -0700

    PHOENIX-2276 Addednum2 to fix test failures

 .../src/it/java/org/apache/phoenix/end2end/AggregateQueryIT.java      | 2 --
 .../src/main/java/org/apache/phoenix/iterate/ExplainTable.java        | 4 +---
 2 files changed, 1 insertion(+), 5 deletions(-)

commit d2960b3b49f087b852628cefdf65a230bad33ffa
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jun 16 20:35:08 2016 -0700

    PHOENIX-2276 addendum for fixing test failures

 .../org/apache/phoenix/end2end/BaseTenantSpecificViewIndexIT.java   | 6 +++---
 .../src/it/java/org/apache/phoenix/end2end/index/ViewIndexIT.java   | 2 +-
 .../src/main/java/org/apache/phoenix/iterate/ExplainTable.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/util/PhoenixRuntime.java       | 2 +-
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 5097982b00b36b74fb328afaab02159e81b21af0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jun 16 15:14:25 2016 -0700

    PHOENIX-2276 Creating index on a global view on a multi-tenant table fails with NPE

 .../end2end/BaseTenantSpecificViewIndexIT.java     |   4 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   2 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  34 ++++
 .../apache/phoenix/cache/ServerCacheClient.java    |  40 +++--
 .../org/apache/phoenix/compile/DeleteCompiler.java |   8 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  40 ++---
 .../org/apache/phoenix/compile/WhereOptimizer.java |  29 +--
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   4 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  18 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 194 ++++++++++++++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  21 ++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   3 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |   8 +-
 .../TenantSpecificViewIndexCompileTest.java        |   6 +-
 .../phoenix/util/TenantIdByteConversionTest.java   |   2 +-
 16 files changed, 323 insertions(+), 92 deletions(-)

commit 4f6ee74c0a7b94282575300cfd698e78198685fb
Author: Sergey Soldatov <ssa@apache.org>
Date:   Wed Jun 15 12:57:59 2016 -0700

    PHOENIX-2535 Create shaded clients (thin + thick)

 bin/log4j.properties                               |   2 +-
 bin/phoenix_utils.py                               |  12 +-
 bin/queryserver.py                                 |   2 +-
 bin/tephra                                         |   4 +-
 phoenix-assembly/pom.xml                           |  89 +----
 phoenix-assembly/src/build/client-minimal.xml      |  38 --
 phoenix-assembly/src/build/client-spark.xml        |  74 ----
 .../src/build/client-without-hbase.xml             |  40 ---
 phoenix-assembly/src/build/client.xml              |  98 ------
 .../src/build/components-major-client.xml          |  57 ---
 phoenix-assembly/src/build/components-minimal.xml  |  77 -----
 .../src/build/components/all-common-jars.xml       |  42 ++-
 phoenix-assembly/src/build/server.xml              |  53 ---
 phoenix-client/pom.xml                             | 381 +++++++++++++++++++++
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +-
 phoenix-hive/pom.xml                               |   4 +
 phoenix-queryserver-client/pom.xml                 | 143 ++++++++
 .../apache/phoenix/queryserver/client/Driver.java  |   0
 .../phoenix/queryserver/client/ThinClientUtil.java |   2 +-
 .../resources/META-INF/services/java.sql.Driver    |   0
 .../org-apache-phoenix-remote-jdbc.properties      |   0
 phoenix-queryserver/pom.xml                        | 149 ++++++++
 .../src/build/query-server-runnable.xml            |   4 +-
 .../phoenix/end2end/QueryServerBasicsIT.java       |   0
 .../apache/phoenix/end2end/QueryServerThread.java  |   0
 .../src/it/resources/log4j.properties              |   0
 .../apache/phoenix/queryserver/server/Main.java    |   0
 .../queryserver/server/PhoenixMetaFactory.java     |   0
 .../queryserver/server/PhoenixMetaFactoryImpl.java |   0
 .../org/apache/phoenix/DriverCohabitationTest.java |   0
 phoenix-server-client/pom.xml                      |  66 ----
 phoenix-server-client/src/build/thin-client.xml    |  49 ---
 phoenix-server/pom.xml                             | 184 ++++++----
 pom.xml                                            |  20 +-
 34 files changed, 879 insertions(+), 713 deletions(-)

commit b7b7706b35c2630ce72bd0b74b37fe874bffb166
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Jun 13 22:34:54 2016 -0700

    PHOENIX-2992 Remove ORDER BY from aggregate-only SELECT statements.

 .../apache/phoenix/end2end/DistinctPrefixFilterIT.java |  5 +++--
 .../org/apache/phoenix/compile/GroupByCompiler.java    |  8 +++-----
 .../org/apache/phoenix/compile/OrderByCompiler.java    | 15 ++++++++++++---
 .../org/apache/phoenix/compile/WhereOptimizerTest.java | 18 +++++++++++++++++-
 4 files changed, 35 insertions(+), 11 deletions(-)

commit a7f577ce8d2be5146691b04aa14c873a1f635d02
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 13 09:08:47 2016 -0700

    PHOENIX-2920 Incorrect Queries on Multi-tenant tables with WHERE clause containing Row Value Constructor

 .../phoenix/end2end/RowValueConstructorIT.java     | 48 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java | 27 +++++++++---
 .../apache/phoenix/compile/WhereOptimizerTest.java | 33 +++++++++++++++
 3 files changed, 103 insertions(+), 5 deletions(-)

commit 8ab0d5938714d80093f1c62485d856bfebbb2a95
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 13 16:46:03 2016 -0700

    PHOENIX-2994 Coalesce function may return null

 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 23 ++++++++++++++++++++++
 .../phoenix/expression/RowKeyColumnExpression.java |  6 ++++--
 .../expression/function/CoalesceFunction.java      |  6 +++---
 3 files changed, 30 insertions(+), 5 deletions(-)

commit f62fc177a422ff46a14161603c3f87a6a25815d5
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 13 13:46:47 2016 -0700

    PHOENIX-2961 select on a composite primary key fails when DESC is set in the table

 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 47 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |  2 +-
 2 files changed, 48 insertions(+), 1 deletion(-)

commit b806645335975c8b10346eece5821a8565335504
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jun 12 22:10:39 2016 -0700

    PHOENIX-2983 ClassCastException on auto coerce of BIGINT to DECIMAL

 .../org/apache/phoenix/end2end/UpsertValuesIT.java    | 19 +++++++++++++++++++
 .../org/apache/phoenix/schema/types/PDataType.java    | 12 ++++++++++++
 .../org/apache/phoenix/schema/types/PDecimal.java     |  8 ++++++++
 3 files changed, 39 insertions(+)

commit 45d90b13545b36c4ff47a7db1ffc736ce224bed8
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Jun 13 11:26:57 2016 -0400

    PHOENIX-2985 Phoenix-Spark IT for non-existent column fails on Spark 1.6
    
    Removed offending unit test, it was reliant on checking a Spark-specific
    exception and not guaranteed to be forward-compatible.

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala     | 19 -------------------
 pom.xml                                               |  2 +-
 2 files changed, 1 insertion(+), 20 deletions(-)

commit 1af51ed81414d4f1bbea9e0fe6a5dd2fb017edf7
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jun 12 16:03:25 2016 -0700

    PHOENIX-2934 Checking a coerce expression at top level should not be necessary for Union All query (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 85 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/types/PChar.java     |  4 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 33 +++++++++
 3 files changed, 122 insertions(+)

commit d5389389737beacd780353d9e3a6239ecd3a4471
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Jun 12 16:07:14 2016 -0700

    PHOENIX-2886 Union ALL with Char column not present in the table in Query 1 but in Query 2 throw exception (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 240 ++++++++++++++++++++-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  13 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  | 162 +++++++++++---
 3 files changed, 369 insertions(+), 46 deletions(-)

commit 951dd7a788d87efbe238ff6dec996d9d8acc4211
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Jun 12 11:19:53 2016 -0700

    PHOENIX-2965 Use DistinctPrefixFilter logic for COUNT(DISTINCT ...) and COUNT(...) GROUP BY; recommit.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 18 ++++--
 .../apache/phoenix/compile/GroupByCompiler.java    | 75 ++++++++++++++++++----
 .../phoenix/iterate/BaseResultIterators.java       |  3 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 25 ++++++++
 4 files changed, 102 insertions(+), 19 deletions(-)

commit d3c36c4ae9b086a5b50170f452a8554d949b737c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Jun 11 17:47:10 2016 -0700

    PHOENIX-2987 DISTINCT/GROUP BY optimization not correct for null values in key parts.

 .../java/org/apache/phoenix/filter/DistinctPrefixFilter.java |  4 +---
 .../org/apache/phoenix/filter/DistinctPrefixFilterTest.java  | 12 ++++++++++++
 2 files changed, 13 insertions(+), 3 deletions(-)

commit af51d5607121c4924eb143c8eeb8b527581f9beb
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 10 19:33:19 2016 -0700

    PHOENIX-2986 Some queries are misoptimized by PHOENIX-258.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 167 ++++++++++-----------
 .../phoenix/iterate/BaseResultIterators.java       |   3 +-
 2 files changed, 77 insertions(+), 93 deletions(-)

commit a4d498f349193610003b888fc501f5ce146e99b0
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Jun 10 19:23:19 2016 -0700

    Revert "PHOENIX-2965 Use DistinctPrefixFilter logic for COUNT(DISTINCT ...) and COUNT(...) GROUP BY."
    
    This reverts commit e7e8e130b4ec84b32ed507201c1a00939f1d3b7c.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 165 ++++++++++++---------
 .../apache/phoenix/compile/GroupByCompiler.java    |  44 ++----
 .../phoenix/compile/OrderPreservingTracker.java    |  15 --
 .../phoenix/iterate/BaseResultIterators.java       |   2 +-
 4 files changed, 102 insertions(+), 124 deletions(-)

commit f88cbf8390b5a2f44a60cb9e585de5d2f08cefdb
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jun 10 09:45:28 2016 -0700

    PHOENIX-2489 Support sequence metadata access through DatabaseMetaData interface

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  99 +++++++++++-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/filter/BooleanExpressionFilter.java    |   1 +
 .../filter/MultiKeyValueComparisonFilter.java      |   1 -
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 167 +++++++++++++++------
 .../org/apache/phoenix/schema/ValueSchema.java     |  30 ++--
 6 files changed, 234 insertions(+), 66 deletions(-)

commit 49618c835bf053d7e3846c809b2fba22418c4b26
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 10 16:00:32 2016 +0530

    PHOENIX-2915 Dropping of Index can still leave some non-replayed writes in WAL

 .../phoenix/query/ConnectionQueryServicesImpl.java | 58 +++++++++++++++-------
 1 file changed, 39 insertions(+), 19 deletions(-)

commit 8eba8e2e975b073ee9afed99e3d1a2da9d89a772
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Jun 10 15:51:38 2016 +0530

    PHOENIX-2901 If namespaces are enabled, check for existence of schema when sequence created

 .../org/apache/phoenix/end2end/SequenceIT.java     |  58 +++++-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 211 +++++++++++++++------
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  41 +++-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  22 ++-
 .../org/apache/phoenix/compile/FromCompiler.java   |   4 +
 .../phoenix/query/ConnectionQueryServices.java     |   1 -
 .../phoenix/query/ConnectionQueryServicesImpl.java |  26 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  21 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  36 ++--
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   6 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  55 +++++-
 11 files changed, 367 insertions(+), 114 deletions(-)

commit 865458fbfa2b7f4597076351b6011ec063c3aa09
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu Jun 9 17:59:51 2016 -0700

    PHOENIX-2975 CSVBulkLoad for local index only fails.

 .../apache/phoenix/mapreduce/FormatToBytesWritableMapper.java  | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit e7e8e130b4ec84b32ed507201c1a00939f1d3b7c
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 9 14:31:31 2016 -0700

    PHOENIX-2965 Use DistinctPrefixFilter logic for COUNT(DISTINCT ...) and COUNT(...) GROUP BY.

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 165 +++++++++------------
 .../apache/phoenix/compile/GroupByCompiler.java    |  44 ++++--
 .../phoenix/compile/OrderPreservingTracker.java    |  15 ++
 .../phoenix/iterate/BaseResultIterators.java       |   2 +-
 4 files changed, 124 insertions(+), 102 deletions(-)

commit e817da454b1544b53227c4da54a9acb6ecf91873
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 9 13:37:37 2016 -0700

    PHOENIX-2980 DistinctPrefixFilterIT.testRVC() is failing

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 68 ++++++++++------------
 1 file changed, 31 insertions(+), 37 deletions(-)

commit ec02daf34f46163b8d089eb50257fe43f134dc24
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 9 11:18:48 2016 -0700

    PHOENIX-2942 Order by incorrect for RVC

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 29 +++++++++++++++++++++
 .../expression/RowValueConstructorExpression.java  | 30 ++++++++++++----------
 2 files changed, 45 insertions(+), 14 deletions(-)

commit 94c4b2a08296f3e6948e028cceeb5c3472b7e2c9
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 26 14:41:23 2016 -0700

    PHOENIX-2898 HTable not closed in ConnectionQueryServicesImpl (Alex Araujo)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java    | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 3de0170c8b5e7dfa0bf6dc4e775dde595e64678a
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 26 13:33:08 2016 -0700

    PHOENIX-2924 Remove staging repository once Apache Tephra 0.8.0 is released

 pom.xml | 4 ----
 1 file changed, 4 deletions(-)

commit f3520a4d9678d6f42db16547df68dc4bf647538a
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat May 21 10:22:34 2016 -0700

    PHOENIX-2899 Add test for inflight transactions over partially evaluating filters

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 48 +++++++++++++++++++++-
 1 file changed, 47 insertions(+), 1 deletion(-)

commit 4b42f16b20cc4554cbefbbfa4626244c77cbb6ff
Author: Enis Soztutar <enis@apache.org>
Date:   Wed Jun 8 13:24:09 2016 -0700

    PHOENIX-2892 Scan for pre-warming the block cache for 2ndary index should be removed

 .../apache/phoenix/index/PhoenixIndexBuilder.java  | 64 ----------------------
 1 file changed, 64 deletions(-)

commit b2e3018c8799f326f453983f66eaf6c4291acd0f
Author: Sergey Soldatov <ssa@apache.org>
Date:   Mon Jun 6 14:30:04 2016 -0700

    PHOENIX-2967 CSV BulkLoad should properly handle empty family for logical tables.

 .../mapreduce/FormatToBytesWritableMapper.java     | 15 ++++++++---
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 30 ++++++++--------------
 2 files changed, 22 insertions(+), 23 deletions(-)

commit 6ca3a6e2c5e93cc1bd75659479c89bced70fb36f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Jun 7 12:10:36 2016 +0530

    PHOENIX-2596 Asynchronous Local Index is not available(Rajeshbabu)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java     | 21 ++-------------------
 .../apache/phoenix/mapreduce/index/IndexTool.java   |  4 ++--
 .../java/org/apache/phoenix/util/SchemaUtil.java    | 16 ++++++++++++++++
 .../apache/phoenix/mapreduce/BulkLoadToolTest.java  |  5 +++--
 4 files changed, 23 insertions(+), 23 deletions(-)

commit cfe8d4d968254dc44909a70af9579a0dc5061597
Author: Josh Elser <elserj@apache.org>
Date:   Mon Jun 6 13:17:16 2016 -0400

    PHOENIX-2960 Bump avatica to 1.8.0

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7dcf95a40063a25917a68c56c68fe61a11a4ef8b
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 2 13:20:48 2016 -0700

    PHOENIX-258 minor test fixes.

 .../src/it/java/org/apache/phoenix/end2end/SortMergeJoinMoreIT.java   | 4 ++++
 .../it/java/org/apache/phoenix/end2end/index/IndexExpressionIT.java   | 2 +-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit eb275a5c6089b49bfa5263fe8a34e1a5e46bae97
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Jun 2 10:30:22 2016 -0700

    PHOENIX-258 Use skip scan when SELECT DISTINCT on leading row key column(s).

 .../phoenix/end2end/DistinctPrefixFilterIT.java    | 369 +++++++++++++++++++++
 .../apache/phoenix/compile/GroupByCompiler.java    |  26 +-
 .../phoenix/compile/OrderPreservingTracker.java    |   9 +
 .../phoenix/filter/DistinctPrefixFilter.java       | 116 +++++++
 .../phoenix/iterate/BaseResultIterators.java       |  14 +
 .../org/apache/phoenix/iterate/ExplainTable.java   |   7 +
 .../phoenix/filter/DistinctPrefixFilterTest.java   | 246 ++++++++++++++
 7 files changed, 784 insertions(+), 3 deletions(-)

commit 837ec4672e3d326e652103f187820ff629b09f65
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jun 1 14:31:03 2016 -0700

    Ignore serial hint for queries doing an ORDER BY not along the PK axis

 .../java/org/apache/phoenix/execute/ScanPlan.java  |  3 +--
 .../java/org/apache/phoenix/util/ScanUtil.java     | 13 ++++++-----
 .../org/apache/phoenix/query/QueryPlanTest.java    | 26 ++++++++++++++++++++++
 3 files changed, 35 insertions(+), 7 deletions(-)

commit b8f40bf01e8b0e9990424777e023c74a762602f3
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jun 1 11:59:36 2016 -0700

    PHOENIX-2919 PreparedStatement Returns Incorrect Number of Deleted Records

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 39 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 +-
 2 files changed, 40 insertions(+), 1 deletion(-)

commit 62d78758017d48da51bf099c75a7c0866eda9b4b
Author: shijinkui <shijinkui666@163.com>
Date:   Tue May 31 23:05:24 2016 +0800

    [PHOENIX-2955] replace xpath to xmllint at make_rc.sh
    fix problem:
    "Cannot open file -q at /System/Library/Perl/Extras/5.18/XML/XPath.pm line 53."
    use `xmllint` relace xpath for parse phoenix name in pom.xml
    
    Closes apache/phoenix#170
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 dev/make_rc.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95c004112bae47624f4764154e90cc36a54827f1
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu May 26 12:59:31 2016 -0700

    PHOENIX-2936 Missing antlr runtime on server side after PHOENIX-2908

 phoenix-assembly/src/build/components/all-common-dependencies.xml | 1 +
 phoenix-assembly/src/build/server.xml                             | 1 +
 2 files changed, 2 insertions(+)

commit c2bb3c38e73a34f2097e6dd07eff388a22149bbc
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri May 27 00:48:15 2016 +0530

    PHOENIC-1734 Local index improvements(Rajeshbabu)-addendum2

 .../hbase/index/IndexRegionSplitPolicy.java        | 41 +++++++++++++++++++++-
 1 file changed, 40 insertions(+), 1 deletion(-)

commit aedf48fab4610d979c023515f03606e5d81dea5b
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed May 25 19:51:55 2016 +0530

    PHOENIX-1734 Local index improvements(Rajeshbabu)-addendum

 .../org/apache/phoenix/compile/PostLocalIndexDDLCompiler.java     | 8 +++++++-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java   | 4 ++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 10909ae502095bac775d98e6d92288c5cad9b9a6
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue May 24 21:04:04 2016 +0530

    PHOENIX-1734 Local index improvements(Rajeshbabu)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |   2 +-
 .../apache/phoenix/end2end/AggregateQueryIT.java   |  18 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |   6 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   6 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  11 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  55 +-
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  13 +-
 .../org/apache/phoenix/end2end/IndexToolIT.java    |   5 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  11 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  19 +-
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  12 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   2 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |   3 +-
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |   2 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   2 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |   3 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |  32 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  20 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 190 +---
 .../end2end/index/MutableIndexFailureIT.java       |  16 +-
 .../phoenix/end2end/index/MutableIndexIT.java      | 104 +--
 .../end2end/index/ReadOnlyIndexFailureIT.java      |  10 +
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   4 +-
 .../end2end/index/txn/MutableRollbackIT.java       |  24 +-
 .../phoenix/end2end/index/txn/RollbackIT.java      |   2 +-
 .../end2end/index/txn/TxWriteFailureIT.java        |   2 +-
 .../hbase/index/balancer/IndexLoadBalancerIT.java  | 485 ----------
 .../IndexHalfStoreFileReaderGenerator.java         |  17 +-
 .../hbase/regionserver/IndexSplitTransaction.java  | 986 ---------------------
 .../hbase/regionserver/LocalIndexMerger.java       | 123 ---
 .../hbase/regionserver/LocalIndexSplitter.java     | 137 ---
 .../phoenix/compile/CreateTableCompiler.java       |  11 +
 .../apache/phoenix/compile/ProjectionCompiler.java |  10 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  11 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   1 +
 .../GroupedAggregateRegionObserver.java            |   5 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |   2 +-
 .../UngroupedAggregateRegionObserver.java          |  45 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../hbase/index/IndexRegionSplitPolicy.java        |  15 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  49 +-
 .../hbase/index/balancer/IndexLoadBalancer.java    | 671 +-------------
 .../hbase/index/master/IndexMasterObserver.java    |  86 --
 .../phoenix/hbase/index/write/IndexCommitter.java  |   2 +-
 .../phoenix/hbase/index/write/IndexWriter.java     |  27 +-
 .../index/write/ParallelWriterIndexCommitter.java  |  38 +-
 .../TrackingParallelWriterIndexCommitter.java      |  36 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  38 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   6 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   5 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   5 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |  21 +-
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |   9 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 144 ++-
 .../org/apache/phoenix/query/QueryConstants.java   |  11 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  62 +-
 .../java/org/apache/phoenix/schema/TableRef.java   |   3 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  83 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  27 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  11 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 115 +++
 .../hbase/index/write/TestParalleIndexWriter.java  |   2 +-
 .../write/TestParalleWriterIndexCommitter.java     |   2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  11 -
 66 files changed, 742 insertions(+), 3163 deletions(-)

commit 18da4a0460967ce28fcdeaad4a1b90440ff36f00
Author: Sergey Soldatov <sergey.soldatov@gmail.com>
Date:   Mon May 23 02:22:45 2016 -0700

    PHOENIX-2925 CsvBulkloadTool not working properly if there are multiple local indexes to the same table(After PHOENIX-1973)

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |   4 +
 .../mapreduce/FormatToBytesWritableMapper.java     | 111 ++++++++++-----------
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |  75 +++++++-------
 3 files changed, 100 insertions(+), 90 deletions(-)

commit 789e665606c2208a4c387fe236232ac06df57ec4
Author: Sergey Soldatov <ssa@apache.org>
Date:   Fri May 20 22:58:14 2016 -0700

    PHOENIX-2912 Broken IT tests after PHOENIX-2905

 phoenix-pherf/pom.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit b20cb245a4c3a7994eb3562a7855c9464f84f40d
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Sat May 21 09:43:19 2016 +0530

    Some phoenix-spark IT tests are broken after PHOENIX-2862

 .../src/main/java/org/apache/phoenix/mapreduce/index/IndexTool.java   | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/SchemaUtil.java    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 01405d5d6cbf52ac9e3e9ab6229ffc8fb6ba68a2
Merge: 2f329e0ad 8445d0206
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri May 20 12:24:32 2016 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 2f329e0ad62aaeb80b3d8eae6fc48c96010d5cf6
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri May 20 12:24:16 2016 -0400

    PHOENIX-2894 Sort-merge join works incorrectly with DESC columns

 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 185 +++++++++++++++++++
 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 199 +++++++++++++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |   9 +-
 3 files changed, 389 insertions(+), 4 deletions(-)

commit 8445d020622f40201aaa97cca83c2c2c5115152b
Author: Sergey Soldatov <ssa@apache.org>
Date:   Fri May 20 08:51:33 2016 -0700

    PHOENIX-2908 phoenix-core depends on both antlr 3.5 and antlr 2.7.7 (William Yang)

 phoenix-assembly/src/build/components/all-common-dependencies.xml | 1 -
 phoenix-assembly/src/build/server.xml                             | 1 -
 phoenix-core/pom.xml                                              | 4 ----
 pom.xml                                                           | 5 -----
 4 files changed, 11 deletions(-)

commit d517da91bcea0a25c16745bb2fe70d34a67586af
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 19 22:33:06 2016 -0700

    PHOENIX-2906 Use org.apache.tephra instead of co.cask.tephra

 bin/tephra                                         |  2 +-
 phoenix-assembly/src/build/client-spark.xml        |  2 +-
 phoenix-assembly/src/build/client.xml              |  2 +-
 phoenix-assembly/src/build/server.xml              |  2 +-
 phoenix-core/pom.xml                               |  8 ++++----
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  8 ++++----
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  2 +-
 .../apache/phoenix/cache/IndexMetaDataCache.java   |  2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  2 +-
 .../coprocessor/PhoenixTransactionalProcessor.java |  2 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |  2 +-
 .../UngroupedAggregateRegionObserver.java          |  2 +-
 .../org/apache/phoenix/execute/MutationState.java  | 23 +++++++++++-----------
 .../org/apache/phoenix/index/IndexMaintainer.java  |  2 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |  2 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  2 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  9 ++++-----
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 +-
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 +++++-----
 .../query/ConnectionlessQueryServicesImpl.java     |  6 +++---
 .../query/DelegateConnectionQueryServices.java     |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  2 +-
 .../org/apache/phoenix/util/TransactionUtil.java   |  9 ++++-----
 .../java/org/apache/phoenix/query/BaseTest.java    | 10 +++++-----
 phoenix-flume/pom.xml                              |  2 +-
 phoenix-pherf/pom.xml                              |  2 +-
 phoenix-pig/pom.xml                                |  2 +-
 phoenix-server/pom.xml                             |  2 +-
 phoenix-spark/pom.xml                              |  2 +-
 pom.xml                                            | 14 ++++++++-----
 34 files changed, 74 insertions(+), 73 deletions(-)

commit 1d3c92881de3f2555d30f04195aad13d67065037
Author: Sergey Soldatov <ssa@apache.org>
Date:   Thu May 19 20:51:38 2016 -0700

    Make sqlline refer to bin/hbase-site.xml by default (Junegunn Choi)

 bin/sqlline.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7d3ae71687983b51800fdc7f06e34a74fae86283
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 19 13:48:32 2016 -0700

    PHOENIX-2918 Fix backward compat for APPEND_ONLY_SCHEMA and AUTO_PARTITION_SEQ features

 .../org/apache/phoenix/coprocessor/MetaDataProtocol.java    |  2 +-
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java   | 13 ++++++++++++-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit a5ee6fc2eae896bd7d910c0ecb9a36cfd360ba48
Author: James Taylor <jtaylor@Danielas-MacBook-Pro.local>
Date:   Thu May 19 07:43:03 2016 -0700

    PHOENIX-2911 Don't use parent table schema name for auto partitioned tables

 .../it/java/org/apache/phoenix/end2end/AutoPartitionViewsIT.java  | 8 ++++----
 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/TableProperty.java    | 8 +++++++-
 3 files changed, 13 insertions(+), 7 deletions(-)

commit 4ee0989af7dc9e6de1d43e8165d4e7511d4479dd
Author: Enis Soztutar <enis@apache.org>
Date:   Wed May 18 15:58:16 2016 -0700

    PHOENIX-2905 hadoop-2.5.1 artifacts are in the dependency tree

 pom.xml | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 5d641ad34207b8e87b1f460a168664387f143286
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon May 16 12:17:05 2016 +0530

    PHOENIX-2887 Uberjar application fail with 'IllegalAccessError: class com.google.protobuf.ZeroCopyLiteralByteString cannot access its superclass com.google.protobuf.LiteralByteString'

 dev/test-patch.properties                          |  1 +
 dev/test-patch.sh                                  | 32 ++++++++++++++++++++++
 .../apache/phoenix/cache/ServerCacheClient.java    |  3 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  8 ++----
 4 files changed, 37 insertions(+), 7 deletions(-)

commit 20ce95b0c09d7aaa394f2e703f6b1e193141ad33
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon May 16 12:16:47 2016 +0530

    PHOENIX-2862 Do client server compatibility checks before upgrading system tables

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  1 +
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |  4 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  3 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 30 +++++---
 .../coprocessor/MetaDataRegionObserver.java        |  9 ++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  8 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 86 ++++++++++++++++------
 .../org/apache/phoenix/query/QueryServices.java    |  4 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 46 +++++++++---
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 15 +++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 48 +++++++-----
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 36 +++++++++
 14 files changed, 216 insertions(+), 80 deletions(-)

commit 33fb201ebe46ba90f81658ef9b487f3b74070a4a
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon May 16 12:16:21 2016 +0530

    PHOENIX-2884 Fix EXPLAIN plan for offset on salted table

 .../apache/phoenix/end2end/QueryWithOffsetIT.java  | 25 +++++++++++++++++-----
 .../phoenix/iterate/BaseResultIterators.java       |  4 +---
 2 files changed, 21 insertions(+), 8 deletions(-)

commit 98e783cf6d7b4644660f48961795699d5374ce3f
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Sun May 15 11:30:32 2016 -0400

    PHOENIX-2784 phoenix-spark: Allow coercion of DATE to TIMESTAMP for DataFrame

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 18 ++++++++++++---
 .../org/apache/phoenix/spark/DefaultSource.scala   |  3 ++-
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 27 +++++++++++++++-------
 .../org/apache/phoenix/spark/PhoenixRelation.scala |  8 ++++---
 4 files changed, 41 insertions(+), 15 deletions(-)

commit ae14e38ccbed601dfbda9ec0dbb66bc88d63bae5
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 12 14:34:47 2016 -0700

    PHOENIX-2888 Aggregations for similar IN list expressions doesn't work correctly (Sergey Soldatov)

 .../src/main/java/org/apache/phoenix/expression/InListExpression.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit af8d3b65c84fd57b91b99ff36de2194149c5a94e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 12 14:32:34 2016 -0700

    PHOENIX-2876 Using aggregation function in ORDER BY (Sergey Soldatov)

 .../apache/phoenix/compile/AggregationManager.java | 60 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  1 +
 .../apache/phoenix/compile/PostDDLCompiler.java    |  1 +
 .../apache/phoenix/compile/ProjectionCompiler.java | 53 ++-----------------
 .../org/apache/phoenix/compile/QueryCompiler.java  |  1 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  6 ++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 16 +++++-
 7 files changed, 86 insertions(+), 52 deletions(-)

commit d414505df8afeba553734db688547c6a4e9e90d9
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 12 14:29:29 2016 -0700

    PHOENIX-2818 Optimize ORDERED group by

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  92 ++++++++++
 .../org/apache/phoenix/execute/AggregatePlan.java  |   3 +-
 .../phoenix/iterate/AggregatingResultIterator.java |   4 +-
 .../BaseGroupedAggregatingResultIterator.java      |   3 +-
 .../iterate/DistinctAggregatingResultIterator.java |  15 +-
 .../iterate/FilterAggregatingResultIterator.java   |   8 +-
 .../iterate/OrderedAggregatingResultIterator.java  |   5 +-
 .../RowKeyOrderedAggregateResultIterator.java      | 190 +++++++++++++++++++++
 .../iterate/AggregateResultScannerTest.java        | 109 +-----------
 .../phoenix/iterate/ConcatResultIteratorTest.java  |  31 +---
 .../iterate/MaterializedResultIterators.java       |  66 +++++++
 .../RowKeyOrderedAggregateResultIteratorTest.java  | 149 ++++++++++++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |  70 ++++++++
 13 files changed, 596 insertions(+), 149 deletions(-)

commit d97eb4967c08f2ca1e5c05de2ef970416001f17c
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed May 11 14:10:21 2016 -0700

    PHOENIX-2791 Support append only schema declaration (addendum)

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java | 33 ++++++++++++++--------
 1 file changed, 22 insertions(+), 11 deletions(-)

commit 96a1d55283f8d1c0f18494d8bce1f8efb5c46c96
Author: Rob Leidle <leidle@amazon.com>
Date:   Mon May 2 13:40:32 2016 -0700

    Add environment variables to control the location of the queryserver .log, .out, and .pid file. Also update the name of all files to '${USER}-queryserver'.
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 bin/queryserver.py | 34 +++++++++++++---------------------
 1 file changed, 13 insertions(+), 21 deletions(-)

commit a0504fba12363eaa27ea3fd224671e92cb11a468
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu May 5 15:38:18 2016 -0700

    PHOENIX-2791 Support append only schema declaration

 .../apache/phoenix/end2end/AppendOnlySchemaIT.java | 330 +++++++++++++++++++++
 .../phoenix/end2end/AutoPartitionViewsIT.java      |   6 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   3 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   5 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  17 +-
 .../coprocessor/generated/PTableProtos.java        | 103 ++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   4 +
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../java/org/apache/phoenix/parse/ColumnDef.java   |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  26 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   6 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 203 ++++++++++---
 .../java/org/apache/phoenix/schema/PTable.java     |   9 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  59 ++--
 .../org/apache/phoenix/schema/TableProperty.java   |   3 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  12 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   2 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 22 files changed, 706 insertions(+), 101 deletions(-)

commit a8a3616febaa51508e0c433c44e5b1a049a97925
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 5 22:40:54 2016 -0700

    PHOENIX-2875 Fix isolation level returned by PhoenixDatabaseMetaData for transactional tables

 .../java/org/apache/phoenix/exception/SQLExceptionCode.java   |  2 +-
 .../main/java/org/apache/phoenix/jdbc/PhoenixConnection.java  | 11 +++++++----
 .../test/java/org/apache/phoenix/jdbc/PhoenixDriverTest.java  | 10 +++++++---
 3 files changed, 15 insertions(+), 8 deletions(-)

commit 491fc54d92496f5ed512f52edaed981a656cff57
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 5 16:11:43 2016 -0700

    PHOENIX-2879 HivePhoenixStoreIT fails with timeout if JDK 1.7 used (Sergey Soldatov)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4897fd941749dfb22cf449dcda9943984850dca
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu May 5 15:58:02 2016 -0700

    PHOENIX-2824 PhoenixTransactionalIndexer rollback doesn't work correctly

 .../java/org/apache/phoenix/tx/TxCheckpointIT.java | 22 ++++++++++++++------
 .../phoenix/index/PhoenixTransactionalIndexer.java | 24 +++++++++++++---------
 2 files changed, 30 insertions(+), 16 deletions(-)

commit 596726089a530e261aee27b7680466942a0d1b4c
Author: maryannxue <maryann.xue@gmail.com>
Date:   Thu May 5 10:45:02 2016 -0400

    PHOENIX-2878 CURRENT_TIME fails to provide correct time when projected table is using

 .../it/java/org/apache/phoenix/end2end/DateTimeIT.java  | 17 +++++++++++++++++
 .../org/apache/phoenix/compile/StatementContext.java    |  5 ++++-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit 32cf841c467a18ffcc35e5c25c2cd87978b26918
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu May 5 11:46:06 2016 +0530

    PHOENIX-2845 Timestamp ignores nanos in literal expressions(Sergey Soldatov)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 22 +++++++++++++++++++
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  1 +
 .../java/org/apache/phoenix/util/DateUtil.java     | 17 ++++++++++++++-
 .../java/org/apache/phoenix/util/DateUtilTest.java | 25 ++++++++++++++++++++++
 4 files changed, 64 insertions(+), 1 deletion(-)

commit 4616e98e45289289bca849db0fc3790345dbf937
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu May 5 11:33:06 2016 +0530

    PHOENIX-2863 Let's roll up minor version to 8 (4.8.0) because of namespace compatibility checks

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f5961b1474f8a8edb25fca2a48055b3a61d6ce7
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu May 5 11:31:55 2016 +0530

    PHOENIX-2874 Delete schemas also during clean up after test

 .../phoenix/end2end/BaseClientManagedTimeIT.java   |  2 +-
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    |  2 +-
 .../end2end/BaseOwnClusterClientManagedTimeIT.java |  2 +-
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  |  2 +-
 .../org/apache/phoenix/end2end/CreateSchemaIT.java |  2 +-
 .../org/apache/phoenix/end2end/DropSchemaIT.java   | 21 +++++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  6 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 66 ++++++++++++++++++++--
 8 files changed, 87 insertions(+), 16 deletions(-)

commit d700c1f032a0f5d119c669100648caf040233ebe
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed May 4 18:55:49 2016 +0530

    PHOENIX-2628 Ensure split when iterating through results handled correctly(Rajeshbabu)

 .../org/apache/phoenix/end2end/BaseViewIT.java     |   5 +
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  51 +--
 .../phoenix/end2end/index/MutableIndexIT.java      | 239 +++++++++++-
 .../iterate/DelayedTableResultIteratorFactory.java |   9 +-
 .../iterate/MockParallelIteratorFactory.java       |   3 +-
 .../regionserver/IndexHalfStoreFileReader.java     | 412 +--------------------
 .../IndexHalfStoreFileReaderGenerator.java         | 123 +++---
 .../hbase/regionserver/LocalIndexSplitter.java     |  37 --
 .../regionserver/LocalIndexStoreFileScanner.java   | 254 +++++++++++++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   4 +
 .../compile/MutatingParallelIteratorFactory.java   |   2 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../org/apache/phoenix/compile/ScanRanges.java     |  11 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../coprocessor/BaseScannerRegionObserver.java     |  94 ++++-
 .../GroupedAggregateRegionObserver.java            |  16 +-
 .../UngroupedAggregateRegionObserver.java          |   8 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  21 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  20 +-
 .../phoenix/execute/ClientAggregatePlan.java       |   6 +
 .../org/apache/phoenix/execute/ClientScanPlan.java |   7 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |   8 +-
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   8 +-
 .../execute/LiteralResultIterationPlan.java        |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   9 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   7 +-
 .../phoenix/execute/TupleProjectionPlan.java       |   8 +-
 .../java/org/apache/phoenix/execute/UnionPlan.java |   6 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   8 +-
 .../phoenix/iterate/BaseResultIterators.java       | 112 ++++--
 .../phoenix/iterate/ChunkedResultIterator.java     |  50 +--
 .../iterate/DefaultTableResultIteratorFactory.java |   5 +-
 .../phoenix/iterate/ParallelIteratorFactory.java   |   5 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  14 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  10 +-
 .../phoenix/iterate/SpoolingResultIterator.java    |   3 +-
 .../phoenix/iterate/TableResultIterator.java       |  59 ++-
 .../iterate/TableResultIteratorFactory.java        |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   5 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  64 ++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   9 +-
 .../hive/mapreduce/PhoenixRecordReader.java        |   5 +-
 45 files changed, 1078 insertions(+), 660 deletions(-)

commit 99713a61cd758a8486f1b49225c5e1c6766dc7b9
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Apr 30 22:37:48 2016 -0700

    PHOENIX-2868 QueryServerBasicsIT.testSchemas is failing (Ankit Singhal)

 .../phoenix/end2end/QueryServerBasicsIT.java       | 41 +++++++++++++---------
 1 file changed, 24 insertions(+), 17 deletions(-)

commit d11aaeeb3c97b0698e86dee46d489ce0f81971e4
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Apr 30 22:34:02 2016 -0700

    PHOENIX-2872 Find usages of server time in BaseClientManagedTimeIT immediately

 .gitignore                                         |   1 +
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  55 +++++++++-
 .../end2end/BaseHBaseManagedTimeTableReuseIT.java  |  44 ++++----
 .../apache/phoenix/end2end/DistinctCountIT.java    |  76 +++++++-------
 .../apache/phoenix/end2end/DynamicColumnIT.java    | 112 ++++++++++-----------
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  11 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |   6 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  11 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  76 +++-----------
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |   4 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  28 +++---
 .../java/org/apache/phoenix/query/BaseTest.java    |  24 ++++-
 12 files changed, 231 insertions(+), 217 deletions(-)

commit cd9fad10e57182cf8fcc55e53900bb813849c8b6
Author: James Taylor <jtaylor@jtaylor-lt9.internal.salesforce.com>
Date:   Sat Apr 30 14:56:41 2016 -0700

    PHOENIX-2871 Workaround sqlline issue

 examples/STOCK_SYMBOL.sql     | 1 -
 examples/WEB_STAT_QUERIES.sql | 1 -
 2 files changed, 2 deletions(-)

commit 109d8329a65442da139d101b03422497ec33c14e
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 29 18:52:11 2016 -0700

    PHOENIX-2840 Fix flapping MemoryManagerTest.testWaitForMemoryAvailable unit test

 .../src/test/java/org/apache/phoenix/memory/MemoryManagerTest.java       | 1 +
 1 file changed, 1 insertion(+)

commit 13f38ca9c1170289fcbcf0a7d8caeeaf5fdfe873
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Apr 22 13:41:41 2016 -0700

    PHOENIX-2795 Support auto partition for views

 .../phoenix/end2end/AutoPartitionViewsIT.java      | 371 +++++++++++++++++++++
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  92 ++++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |  11 +
 .../coprocessor/generated/MetaDataProtos.java      | 268 ++++++++++-----
 .../coprocessor/generated/PTableProtos.java        | 178 +++++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   9 +
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   4 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 110 +++++-
 .../java/org/apache/phoenix/schema/PTable.java     |   7 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  51 +--
 .../org/apache/phoenix/schema/TableProperty.java   |   2 +
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  42 ++-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   7 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |   2 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   3 +
 phoenix-protocol/src/main/PTable.proto             |   1 +
 23 files changed, 1041 insertions(+), 134 deletions(-)

commit 7b7f3f64288e0c3a3847f0f94f206dd119739db7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 29 11:28:40 2016 -0700

    PHOENIX-2867 IT tests for phoenix-flume fails with ClassNotFound Exception (Sergey Soldatov)

 phoenix-flume/pom.xml | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit a0840f7a12af5ce723c241b2e69691a02e11a494
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Apr 28 20:45:02 2016 -0700

    PHOENIX-2866 Fix UpsertValuesIT to get builds green again

 .../org/apache/phoenix/end2end/UpsertValuesIT.java     | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit cbb38c2730c66701a925f5bbe667564116dc13ce
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Apr 28 14:05:05 2016 -0700

    PHOENIX-2724 Addendum: Prevent queries from executing serially inspite of the hint

 .../org/apache/phoenix/execute/AggregatePlan.java   | 13 ++++++++++++-
 .../java/org/apache/phoenix/execute/ScanPlan.java   | 21 ++++++++++-----------
 .../main/java/org/apache/phoenix/util/ScanUtil.java | 15 +++++++++++++++
 3 files changed, 37 insertions(+), 12 deletions(-)

commit 1fb6b1b795609f7f2df35c2482cd4ec95bcc0cbe
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Apr 26 17:34:19 2016 -0700

    PHOENIX-2852 Dropping columns could trigger upgrade code on server side

 .../IndexHalfStoreFileReaderGenerator.java         |  4 ++--
 .../hbase/regionserver/LocalIndexSplitter.java     |  2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 ++--
 .../coprocessor/MetaDataRegionObserver.java        | 16 ++-------------
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  2 +-
 .../mapreduce/FormatToBytesWritableMapper.java     |  2 +-
 .../phoenix/mapreduce/FormatToKeyValueReducer.java |  2 +-
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  2 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    | 24 +++++++++++++++++++---
 9 files changed, 32 insertions(+), 26 deletions(-)

commit 5574811ddfe24a7f78ec875d3591439c32433f47
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Apr 26 16:53:14 2016 -0700

    PHOENIX-2858 Add 'Transactional' as a column in the JDBC table metadata (Geoffrey Jacoby)

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  1 +
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 29 ++++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  3 ++-
 3 files changed, 32 insertions(+), 1 deletion(-)

commit 13aaf89540d9c2b576278fb82769c56d5e9792e4
Author: Josh Elser <elserj@apache.org>
Date:   Tue Apr 26 16:10:25 2016 -0400

    PHOENIX-2857 Remove test scope from dependency management
    
    Setting the scope of dependencies via dependencyManagement can
    change the scope of transitive dependencies, and ultimately preclude
    those necessary dependencies from being included in the shaded jars
    that Phoenix creates.

 pom.xml | 5 -----
 1 file changed, 5 deletions(-)

commit 80c94bf0223d3fc3d5abbb16d117c8a80966ac71
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 25 12:00:28 2016 -0700

    PHOENIX-2840 Fix flapping MemoryManagerTest.testWaitForMemoryAvailable unit test

 .../src/test/java/org/apache/phoenix/memory/MemoryManagerTest.java       | 1 +
 1 file changed, 1 insertion(+)

commit f8186770b227479e9256b9991e27410ab6ebd24a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 22 23:36:21 2016 -0700

    PHOENIX-2856 HBaseManagedTimeTableReuseTest category isn't getting run

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ff638e18de4b591aefd428cf888c5088d8ec175
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 22 23:33:17 2016 -0700

    PHOENIX-2724 Query with large number of guideposts is slower compared to no stats

 .../apache/phoenix/end2end/QueryWithOffsetIT.java  |  33 ++---
 .../apache/phoenix/end2end/SerialIteratorsIT.java  |  90 +++++++++++++
 .../phoenix/coprocessor/ScanRegionObserver.java    |   9 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  17 ++-
 .../phoenix/iterate/BaseResultIterators.java       |   4 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |  13 +-
 .../phoenix/iterate/OffsetResultIterator.java      |   2 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   4 +-
 .../apache/phoenix/iterate/SerialIterators.java    | 142 ++++++++++++++++-----
 .../phoenix/iterate/SpoolingResultIterator.java    |  17 ++-
 .../phoenix/iterate/TableResultIterator.java       |  22 +---
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   9 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   1 +
 .../java/org/apache/phoenix/util/QueryUtil.java    |  10 +-
 15 files changed, 282 insertions(+), 93 deletions(-)

commit da345f84cd3b24c48bd5559ea1e4266e36e4f92f
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 19:03:49 2016 -0700

    PHOENIX-2855 Workaround Increment TimeRange not being serialized for HBase 1.2

 .../java/org/apache/phoenix/coprocessor/SequenceRegionObserver.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ecbef4cef9507a5e96e08091f2732c5cac36ea13
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 18:26:34 2016 -0700

    PHOENIX-2855 Workaround Increment TimeRange not being serialized for HBase 1.2

 .../phoenix/coprocessor/SequenceRegionObserver.java  |  7 +++++++
 .../java/org/apache/phoenix/schema/Sequence.java     | 20 ++++++++++++++++----
 2 files changed, 23 insertions(+), 4 deletions(-)

commit 0fbce9cd3122a16a890926e0b0042931ae8e03c4
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 16:54:52 2016 -0700

    PHOENIX-2846 Fix CreateTableIT.testCreateTableWithoutSchema()

 .../it/java/org/apache/phoenix/end2end/CreateTableIT.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit ba36bdeece26eb45fd249113d63592d9b730b32f
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 16:45:08 2016 -0700

    PHOENIX-2840 Ignore flapping MemoryManagerTest.testWaitForMemoryAvailable unit test

 .../test/java/org/apache/phoenix/memory/MemoryManagerTest.java   | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit d698b6fe3d72d72568e202a3941f185f69c66cde
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 16:36:44 2016 -0700

    PHOENIX-2833 Upgrade HBase dependency to version 1.2.0 (Rob Leidle)

 phoenix-assembly/pom.xml                                 |  2 +-
 phoenix-core/pom.xml                                     |  2 +-
 .../wal/WALReplayWithIndexWritesAndCompressedWALIT.java  | 16 +++++++++-------
 .../apache/phoenix/end2end/QueryDatabaseMetaDataIT.java  |  5 +++--
 .../org/apache/hadoop/hbase/ipc/PhoenixRpcScheduler.java |  8 ++++----
 phoenix-flume/pom.xml                                    |  2 +-
 phoenix-hive/pom.xml                                     |  2 +-
 phoenix-pherf/pom.xml                                    |  2 +-
 phoenix-pig/pom.xml                                      |  2 +-
 phoenix-server-client/pom.xml                            |  2 +-
 phoenix-server/pom.xml                                   |  2 +-
 phoenix-spark/pom.xml                                    |  2 +-
 phoenix-tracing-webapp/pom.xml                           |  2 +-
 pom.xml                                                  |  4 ++--
 14 files changed, 28 insertions(+), 25 deletions(-)

commit 7404114e3617e6e51000ef028497b06fda1c2d84
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 22 15:31:36 2016 -0700

    Revert "PHOENIX-2628 Ensure split when iterating through results handled correctly(Rajeshbabu)"
    
    This reverts commit a31b70179cbc468cc3fe890bd615fc71e0bac5a2.

 .../apache/phoenix/end2end/index/LocalIndexIT.java |  18 +
 .../phoenix/end2end/index/MutableIndexIT.java      | 239 +-----------
 .../iterate/DelayedTableResultIteratorFactory.java |   9 +-
 .../iterate/MockParallelIteratorFactory.java       |   3 +-
 .../regionserver/IndexHalfStoreFileReader.java     | 412 ++++++++++++++++++++-
 .../IndexHalfStoreFileReaderGenerator.java         | 118 +++---
 .../hbase/regionserver/LocalIndexSplitter.java     |  37 ++
 .../regionserver/LocalIndexStoreFileScanner.java   | 254 -------------
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   4 -
 .../compile/MutatingParallelIteratorFactory.java   |   2 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 -
 .../org/apache/phoenix/compile/ScanRanges.java     |  13 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 -
 .../coprocessor/BaseScannerRegionObserver.java     |  93 +----
 .../GroupedAggregateRegionObserver.java            |  16 +-
 .../UngroupedAggregateRegionObserver.java          |   8 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  19 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  20 +-
 .../phoenix/execute/ClientAggregatePlan.java       |   8 +-
 .../org/apache/phoenix/execute/ClientScanPlan.java |   7 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |   8 +-
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   8 +-
 .../execute/LiteralResultIterationPlan.java        |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   9 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   7 +-
 .../phoenix/execute/TupleProjectionPlan.java       |   8 +-
 .../java/org/apache/phoenix/execute/UnionPlan.java |   6 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   8 +-
 .../phoenix/iterate/BaseResultIterators.java       | 108 ++----
 .../phoenix/iterate/ChunkedResultIterator.java     |  50 ++-
 .../iterate/DefaultTableResultIteratorFactory.java |   5 +-
 .../phoenix/iterate/ParallelIteratorFactory.java   |   5 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  14 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  10 +-
 .../phoenix/iterate/SpoolingResultIterator.java    |   3 +-
 .../phoenix/iterate/TableResultIterator.java       |  69 +---
 .../iterate/TableResultIteratorFactory.java        |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 -
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   5 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  64 ----
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   9 +-
 .../hive/mapreduce/PhoenixRecordReader.java        |  21 +-
 44 files changed, 661 insertions(+), 1057 deletions(-)

commit 537b90bef90ff650bb0f00fe0591e4fab6ec7391
Author: Sergey Soldatov <sergey.soldatov@gmail.com>
Date:   Mon Apr 18 23:36:36 2016 -0700

    PHOENIX-2743 HivePhoenixHandler for big-big join with predicate push down
    
    Closes apache/phoenix#155, apache/phoenix#165
    
    Signed-off-by: Josh Elser <elserj@apache.org>

 phoenix-hive/pom.xml                               |  158 +++
 .../apache/phoenix/hive/HivePhoenixStoreIT.java    |  303 +++++
 .../java/org/apache/phoenix/hive/HiveTestUtil.java | 1291 ++++++++++++++++++++
 .../org/apache/phoenix/hive/PhoenixMetaHook.java   |  246 ++++
 .../apache/phoenix/hive/PhoenixRecordUpdater.java  |  336 +++++
 .../java/org/apache/phoenix/hive/PhoenixRow.java   |   64 +
 .../org/apache/phoenix/hive/PhoenixRowKey.java     |   69 ++
 .../java/org/apache/phoenix/hive/PhoenixSerDe.java |  159 +++
 .../org/apache/phoenix/hive/PhoenixSerializer.java |  169 +++
 .../apache/phoenix/hive/PhoenixStorageHandler.java |  212 ++++
 .../constants/PhoenixStorageHandlerConstants.java  |  108 ++
 .../phoenix/hive/mapreduce/PhoenixInputFormat.java |  269 ++++
 .../phoenix/hive/mapreduce/PhoenixInputSplit.java  |  160 +++
 .../hive/mapreduce/PhoenixOutputFormat.java        |  112 ++
 .../hive/mapreduce/PhoenixRecordReader.java        |  216 ++++
 .../hive/mapreduce/PhoenixRecordWriter.java        |  355 ++++++
 .../hive/mapreduce/PhoenixResultWritable.java      |  211 ++++
 .../AbstractPhoenixObjectInspector.java            |   59 +
 .../PhoenixBinaryObjectInspector.java              |   58 +
 .../PhoenixBooleanObjectInspector.java             |   50 +
 .../PhoenixByteObjectInspector.java                |   54 +
 .../PhoenixCharObjectInspector.java                |   51 +
 .../PhoenixDateObjectInspector.java                |   63 +
 .../PhoenixDecimalObjectInspector.java             |   63 +
 .../PhoenixDoubleObjectInspector.java              |   54 +
 .../PhoenixFloatObjectInspector.java               |   55 +
 .../objectinspector/PhoenixIntObjectInspector.java |   51 +
 .../PhoenixListObjectInspector.java                |  105 ++
 .../PhoenixLongObjectInspector.java                |   51 +
 .../PhoenixObjectInspectorFactory.java             |  148 +++
 .../PhoenixShortObjectInspector.java               |   51 +
 .../PhoenixStringObjectInspector.java              |   72 ++
 .../PhoenixTimestampObjectInspector.java           |   61 +
 .../hive/ppd/PhoenixPredicateDecomposer.java       |   82 ++
 .../ppd/PhoenixPredicateDecomposerManager.java     |   83 ++
 .../hive/ql/index/IndexPredicateAnalyzer.java      |  523 ++++++++
 .../hive/ql/index/IndexSearchCondition.java        |  143 +++
 .../hive/ql/index/PredicateAnalyzerFactory.java    |   40 +
 .../phoenix/hive/query/PhoenixQueryBuilder.java    |  760 ++++++++++++
 .../phoenix/hive/util/PhoenixConnectionUtil.java   |   97 ++
 .../hive/util/PhoenixStorageHandlerUtil.java       |  278 +++++
 .../org/apache/phoenix/hive/util/PhoenixUtil.java  |  208 ++++
 phoenix-server/pom.xml                             |    6 +
 pom.xml                                            |   39 +-
 44 files changed, 7741 insertions(+), 2 deletions(-)

commit d26b4eb0fd7aa5187a4163c7c21d46cc4c360059
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Apr 19 20:24:03 2016 +0530

    PHOENIX-2841 UDF not working with sort merge join

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 58 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  |  4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 +-
 3 files changed, 60 insertions(+), 4 deletions(-)

commit 12779572c5dcfb1ab610fa6bdd258e4503c7e2ca
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Apr 19 20:23:22 2016 +0530

    PHOENIX-2838 Support case sensitive identifier for drop schema and use schema constructs

 .../org/apache/phoenix/end2end/DropSchemaIT.java   | 37 ++++++++++++++++------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  3 ++
 .../org/apache/phoenix/end2end/UseSchemaIT.java    | 23 ++++++++++----
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  7 ++--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 ++--
 5 files changed, 54 insertions(+), 23 deletions(-)

commit a31b70179cbc468cc3fe890bd615fc71e0bac5a2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Apr 18 19:00:10 2016 +0530

    PHOENIX-2628 Ensure split when iterating through results handled correctly(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java |  18 -
 .../phoenix/end2end/index/MutableIndexIT.java      | 239 +++++++++++-
 .../iterate/DelayedTableResultIteratorFactory.java |   9 +-
 .../iterate/MockParallelIteratorFactory.java       |   3 +-
 .../regionserver/IndexHalfStoreFileReader.java     | 412 +--------------------
 .../IndexHalfStoreFileReaderGenerator.java         | 118 +++---
 .../hbase/regionserver/LocalIndexSplitter.java     |  37 --
 .../regionserver/LocalIndexStoreFileScanner.java   | 254 +++++++++++++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   4 +
 .../compile/MutatingParallelIteratorFactory.java   |   2 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../org/apache/phoenix/compile/ScanRanges.java     |  13 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../coprocessor/BaseScannerRegionObserver.java     |  93 ++++-
 .../GroupedAggregateRegionObserver.java            |  16 +-
 .../UngroupedAggregateRegionObserver.java          |   8 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  19 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  20 +-
 .../phoenix/execute/ClientAggregatePlan.java       |   8 +-
 .../org/apache/phoenix/execute/ClientScanPlan.java |   7 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  |   8 +-
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   8 +-
 .../execute/LiteralResultIterationPlan.java        |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   9 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   7 +-
 .../phoenix/execute/TupleProjectionPlan.java       |   8 +-
 .../java/org/apache/phoenix/execute/UnionPlan.java |   6 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   8 +-
 .../phoenix/iterate/BaseResultIterators.java       | 108 ++++--
 .../phoenix/iterate/ChunkedResultIterator.java     |  50 +--
 .../iterate/DefaultTableResultIteratorFactory.java |   5 +-
 .../phoenix/iterate/ParallelIteratorFactory.java   |   5 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  14 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  10 +-
 .../phoenix/iterate/SpoolingResultIterator.java    |   3 +-
 .../phoenix/iterate/TableResultIterator.java       |  69 +++-
 .../iterate/TableResultIteratorFactory.java        |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   5 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  64 ++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   9 +-
 43 files changed, 1046 insertions(+), 651 deletions(-)

commit de9a2c7b0249cd5a1a75374aa5244d5ee076f3c1
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Apr 14 15:11:03 2016 +0530

    PHOENIX-1311 HBase namespaces surfaced in phoenix

 .../org/apache/phoenix/end2end/CreateSchemaIT.java |   83 +
 .../org/apache/phoenix/end2end/CreateTableIT.java  |   70 +-
 .../org/apache/phoenix/end2end/DropSchemaIT.java   |  110 +
 .../phoenix/end2end/NamespaceSchemaMappingIT.java  |  115 +
 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |    2 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   12 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java |   87 +
 .../org/apache/phoenix/end2end/UseSchemaIT.java    |  133 +
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   31 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  450 ++-
 .../end2end/index/MutableIndexFailureIT.java       |   48 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   57 +-
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |    5 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   22 +
 .../ipc/controller/MetadataRpcController.java      |   12 +-
 .../org/apache/phoenix/compile/ColumnResolver.java |   10 +
 .../phoenix/compile/CreateSchemaCompiler.java      |   65 +
 .../org/apache/phoenix/compile/FromCompiler.java   |  166 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   11 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   24 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   24 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   11 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  360 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   28 +-
 .../coprocessor/generated/MetaDataProtos.java      | 4211 ++++++++++++++++----
 .../coprocessor/generated/PSchemaProtos.java       |  666 ++++
 .../coprocessor/generated/PTableProtos.java        |  104 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   21 +-
 .../hbase/index/master/IndexMasterObserver.java    |    8 +-
 .../index/write/ParallelWriterIndexCommitter.java  |    2 +-
 .../TrackingParallelWriterIndexCommitter.java      |    2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |    8 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |    6 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |    2 +-
 .../apache/phoenix/iterate/SerialIterators.java    |    2 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   51 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |    8 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   88 +-
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |   15 +-
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |    7 +
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |    4 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   15 +-
 .../phoenix/parse/CreateSchemaStatement.java       |   25 +
 .../apache/phoenix/parse/DropSchemaStatement.java  |   38 +
 .../java/org/apache/phoenix/parse/PSchema.java     |   86 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   12 +
 .../apache/phoenix/parse/UseSchemaStatement.java   |   19 +
 .../org/apache/phoenix/protobuf/ProtobufUtil.java  |   16 +-
 .../phoenix/query/ConnectionQueryServices.java     |   16 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  378 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   43 +-
 .../query/DelegateConnectionQueryServices.java     |   43 +-
 .../org/apache/phoenix/query/MetaDataMutated.java  |    5 +-
 .../org/apache/phoenix/query/QueryConstants.java   |    7 +
 .../org/apache/phoenix/query/QueryServices.java    |    4 +
 .../apache/phoenix/query/QueryServicesOptions.java |   11 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |    5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  204 +-
 .../schema/NewerSchemaAlreadyExistsException.java  |   26 +
 .../java/org/apache/phoenix/schema/PMetaData.java  |    2 +
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   51 +-
 .../java/org/apache/phoenix/schema/PTable.java     |    6 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |   58 +-
 .../java/org/apache/phoenix/schema/PTableKey.java  |    2 +
 .../schema/SchemaAlreadyExistsException.java       |   53 +
 .../phoenix/schema/SchemaNotFoundException.java    |   52 +
 .../schema/stats/StatisticsCollectorFactory.java   |    5 +
 .../phoenix/schema/stats/StatisticsWriter.java     |    6 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |    2 +-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |    5 +
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  106 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   79 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  141 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  177 +
 .../apache/phoenix/execute/CorrelatePlanTest.java  |    2 +-
 .../execute/LiteralResultIteratorPlanTest.java     |    2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   23 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   11 +
 .../java/org/apache/phoenix/util/JDBCUtilTest.java |    8 +
 phoenix-protocol/src/main/MetaDataService.proto    |   39 +-
 phoenix-protocol/src/main/PSchema.proto            |   30 +
 phoenix-protocol/src/main/PTable.proto             |    1 +
 82 files changed, 7666 insertions(+), 1289 deletions(-)

commit 0490484b022fd8218e52d6d72858192ef3c59441
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Apr 12 12:20:34 2016 -0700

    PHOENIX-2822 Addendum to fix failing tests (Rahul Gidwani)

 .../end2end/BaseHBaseManagedTimeTableReuseIT.java  |  4 +-
 .../end2end/HBaseManagedTimeTableReuseTest.java    | 49 ++++++++++++++++++++++
 .../phoenix/end2end/HBaseManagedTimeTest.java      |  4 +-
 .../apache/phoenix/end2end/LikeExpressionIT.java   | 14 ++++---
 pom.xml                                            | 18 ++++++++
 5 files changed, 80 insertions(+), 9 deletions(-)

commit bbcdd2a3418216c4da0b39af74e833f5cc60fc4d
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Apr 11 14:10:43 2016 -0700

    PHOENIX-2830 Upgrade code fails when upgrading from a version before 4.3

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 6cc17278d7e8be64ac606b2d0030cdb3edfda961
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Mar 22 20:18:41 2016 -0700

    PHOENIX-2156 Support drop of column from table with views

 .../end2end/AlterMultiTenantTableWithViews.java    |  701 ++++++++
 .../org/apache/phoenix/end2end/AlterTableIT.java   |   29 +-
 .../phoenix/end2end/AlterTableWithViewsIT.java     |  866 ++-------
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |    5 +-
 .../phoenix/end2end/index/DropMetadataIT.java      |  315 ++++
 .../apache/phoenix/end2end/index/DropViewIT.java   |  106 --
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  447 +++--
 .../phoenix/coprocessor/MetaDataProtocol.java      |  106 ++
 .../coprocessor/generated/MetaDataProtos.java      | 1837 +++++++++++++++++++-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |    4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   70 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   18 +
 phoenix-protocol/src/main/MetaDataService.proto    |   10 +
 13 files changed, 3515 insertions(+), 999 deletions(-)

commit 6d147896f5856e728c454e4a1fa47575d9690aa7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 8 14:57:06 2016 -0700

    PHOENIX-2822 Tests that extend BaseHBaseManagedTimeIT are very slow(Rahul Gidwani)

 .../phoenix/end2end/AbsFunctionEnd2EndIT.java      |  11 +-
 .../org/apache/phoenix/end2end/AlterSessionIT.java |  20 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 294 +++++++++++--------
 .../phoenix/end2end/ArrayFillFunctionIT.java       | 175 +++++++----
 .../phoenix/end2end/ArrayToStringFunctionIT.java   | 326 ++++++++++-----------
 .../apache/phoenix/end2end/ArraysWithNullsIT.java  | 152 ++++++----
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  21 +-
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    |   5 +-
 .../end2end/BaseHBaseManagedTimeTableReuseIT.java  |  56 ++++
 .../phoenix/end2end/CbrtFunctionEnd2EndIT.java     |  35 ++-
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  71 +++--
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  49 +++-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  31 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      | 144 +++++----
 .../end2end/GetSetByteBitFunctionEnd2EndIT.java    |  26 +-
 .../apache/phoenix/end2end/LikeExpressionIT.java   |  34 ++-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |  30 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  15 +-
 .../phoenix/end2end/MinMaxAggregateFunctionIT.java |  24 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java | 252 ++++++++++------
 .../end2end/OctetLengthFunctionEnd2EndIT.java      |  13 +-
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    |  21 +-
 .../apache/phoenix/end2end/PrimitiveTypeIT.java    |  63 ++--
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  31 +-
 .../apache/phoenix/end2end/RTrimFunctionIT.java    |  24 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  17 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |  52 ++--
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |  42 +--
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  | 101 ++++---
 .../apache/phoenix/end2end/ServerExceptionIT.java  |   9 +-
 .../phoenix/end2end/SignFunctionEnd2EndIT.java     |  35 ++-
 .../org/apache/phoenix/end2end/SortOrderIT.java    | 303 +++++++++++--------
 .../apache/phoenix/end2end/StatementHintsIT.java   |  12 +-
 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  51 ++--
 .../phoenix/end2end/StringToArrayFunctionIT.java   | 164 +++++++----
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  |  63 ++--
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  50 ++--
 .../apache/phoenix/end2end/index/DropViewIT.java   |   1 +
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  86 +++---
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  11 +-
 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     |  23 +-
 .../apache/phoenix/memory/GlobalMemoryManager.java |  30 +-
 .../apache/phoenix/memory/MemoryManagerTest.java   |  86 +++---
 .../java/org/apache/phoenix/query/BaseTest.java    |   8 +
 44 files changed, 1883 insertions(+), 1184 deletions(-)

commit 05bae1fbd75a735628abee3f7da09bb0dee1cbb1
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Apr 8 11:48:58 2016 -0400

    PHOENIX-2828 Ordinality should be 1-based in UNNEST WITH ORDINALITY

 .../src/main/java/org/apache/phoenix/execute/UnnestArrayPlan.java       | 2 +-
 .../src/test/java/org/apache/phoenix/execute/UnnestArrayPlanTest.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 776eea9ce1c4828f959b9ef76dd244941972f6ec
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Apr 8 15:04:17 2016 +0530

    PHOENIX-2722 support mysql offset clause

 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  14 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |   2 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java | 144 +++++++++++++-
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 161 ++++++++++++++++
 .../apache/phoenix/end2end/QueryWithOffsetIT.java  | 211 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  12 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  44 +++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  16 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  13 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  10 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   5 +
 .../org/apache/phoenix/compile/OffsetCompiler.java | 114 +++++++++++
 .../apache/phoenix/compile/OrderByCompiler.java    |   3 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   3 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  54 ++++--
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../phoenix/compile/StatementNormalizer.java       |   2 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   |  10 +-
 .../apache/phoenix/compile/SubselectRewriter.java  |  17 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   1 +
 .../phoenix/coprocessor/ScanRegionObserver.java    |  95 +++++++++-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  43 +++--
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   9 +-
 .../phoenix/execute/ClientAggregatePlan.java       |  19 +-
 .../phoenix/execute/ClientProcessingPlan.java      |  10 +-
 .../org/apache/phoenix/execute/ClientScanPlan.java |  38 ++--
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   4 +
 .../execute/LiteralResultIterationPlan.java        |  13 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  58 ++++--
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   5 +
 .../java/org/apache/phoenix/execute/UnionPlan.java |  15 +-
 .../phoenix/iterate/BaseResultIterators.java       |  14 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |  16 +-
 .../phoenix/iterate/LimitingResultIterator.java    |   2 +-
 .../iterate/MergeSortTopNResultIterator.java       |  21 +-
 .../phoenix/iterate/OffsetResultIterator.java      |  62 ++++++
 .../iterate/OrderedAggregatingResultIterator.java  |   6 +-
 .../phoenix/iterate/OrderedResultIterator.java     |  58 ++++--
 .../apache/phoenix/iterate/ParallelIterators.java  |   4 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  19 +-
 .../phoenix/iterate/TableResultIterator.java       |  22 ++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  18 +-
 .../java/org/apache/phoenix/join/HashJoinInfo.java |   2 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../org/apache/phoenix/parse/DeleteStatement.java  |   6 +
 .../apache/phoenix/parse/FilterableStatement.java  |   1 +
 .../java/org/apache/phoenix/parse/OffsetNode.java  |  67 +++++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  55 +++---
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   2 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |  35 ++--
 .../org/apache/phoenix/query/QueryConstants.java   |   6 +
 .../java/org/apache/phoenix/util/QueryUtil.java    |  30 ++-
 .../java/org/apache/phoenix/util/ScanUtil.java     |   4 +
 .../apache/phoenix/execute/CorrelatePlanTest.java  |  39 +++-
 .../execute/LiteralResultIteratorPlanTest.java     | 192 +++++++++++++++++++
 .../phoenix/execute/UnnestArrayPlanTest.java       |   3 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   5 +
 60 files changed, 1622 insertions(+), 225 deletions(-)

commit 91800b703d9879574ac5b3ee6fcfe6dd73af2148
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 7 18:52:52 2016 -0700

    PHOENIX-2820 Investigate why SortMergeJoinIT has a sort in the explain plan

 .../it/java/org/apache/phoenix/end2end/SortMergeJoinIT.java  |  6 +-----
 .../apache/phoenix/end2end/SubqueryUsingSortMergeJoinIT.java |  2 --
 .../java/org/apache/phoenix/compile/GroupByCompiler.java     | 12 ++++++++++++
 3 files changed, 13 insertions(+), 7 deletions(-)

commit 1e47821876af8100d5b4bc4dad03168eca7f5652
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Apr 6 19:48:53 2016 +0530

    PHOENIX-1478 Can't upsert value of 127 into column of type unsigned tinyint(Biju Nair)

 .../src/main/java/org/apache/phoenix/schema/types/PDouble.java        | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/types/PFloat.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/types/PInteger.java       | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/types/PLong.java | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit b8427937df52b4e4156e00a816048a427d82ad33
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Wed Apr 6 12:07:18 2016 +0530

    PHOENIX-2817 Phoenix-Spark plugin doesn't work in secured env(Sergey Soldatov)

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  |  7 +-----
 .../apache/phoenix/spark/ConfigurationUtil.scala   | 27 ++++++++++++++++++----
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 13 ++++++-----
 3 files changed, 30 insertions(+), 17 deletions(-)

commit 3420a973c3fbe5ee4483216e54596869665c7cc9
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Apr 5 13:25:55 2016 -0400

    PHOENIX-2819 Remove problematic method ValueSchemaBuilder.addField(Field)

 .../apache/phoenix/end2end/index/ViewIndexIT.java  | 72 +++++++++++++++++++---
 .../org/apache/phoenix/index/IndexMaintainer.java  |  3 +-
 .../org/apache/phoenix/schema/ValueSchema.java     |  5 --
 3 files changed, 67 insertions(+), 13 deletions(-)

commit 8916eb791b37a2444135abba7c4b640630eb859c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Apr 2 08:50:53 2016 -0700

    PHOENIX-2802 Merge sort usually not necessary for ORDERED aggregation

 phoenix-core/src/it/java/org/apache/phoenix/end2end/HashJoinIT.java | 1 +
 1 file changed, 1 insertion(+)

commit 15766625ab9a132f8d8ac625b026a5c56e62e879
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 1 22:50:11 2016 -0700

    PHOENIX-2802 Merge sort usually not necessary for ORDERED aggregation

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 38 +++++++++++++++++++++-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  8 -----
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  6 +++-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  6 ++--
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  8 ++---
 .../phoenix/end2end/index/IndexExpressionIT.java   |  6 ++--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  2 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  6 +++-
 8 files changed, 58 insertions(+), 22 deletions(-)

commit 838a60b9abfb9b65363db9e51cdb6bc32d2088c9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 1 10:34:08 2016 -0700

    PHOENIX-2758 Ordered GROUP BY not occurring with leading PK equality expression

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  46 ++++
 .../apache/phoenix/compile/GroupByCompiler.java    | 253 ++++++++++++---------
 .../org/apache/phoenix/compile/QueryCompiler.java  |   5 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  35 ++-
 4 files changed, 224 insertions(+), 115 deletions(-)

commit 5d6865eea00777314ae1ceab6941e781225b5428
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Apr 1 11:56:43 2016 -0400

    PHOENIX-2714 Correct byte estimate in BaseResultIterators and expose as interface

 .../it/java/org/apache/phoenix/end2end/StatsCollectorIT.java  |  6 ++++++
 .../java/org/apache/phoenix/iterate/BaseResultIterators.java  | 11 ++++++++---
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 9e767ff559517332670eff102cedcdd7f54d6246
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 31 14:22:54 2016 +0530

    PHOENIX-1523 Make it easy to provide a tab literal as separator for CSV imports(Sergey Soldatov)

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 32 ++++++++++++++++++++++
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  |  3 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  8 ++++--
 3 files changed, 39 insertions(+), 4 deletions(-)

commit b98805039516bfa706f1fa78ed0850d802df5dc8
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Mar 28 12:01:12 2016 -0700

    PHOENIX-2803 Initializing ToCharFunction with the List<Expression> constructor fails

 .../org/apache/phoenix/end2end/ToCharFunctionIT.java    | 15 +++++++++++++++
 .../org/apache/phoenix/end2end/ToDateFunctionIT.java    | 15 +++++++++++++++
 .../phoenix/expression/function/ToCharFunction.java     | 13 +++++++++----
 .../phoenix/expression/function/ToDateFunction.java     | 17 +++++++++++------
 .../phoenix/expression/function/ToNumberFunction.java   | 14 ++++++++++----
 .../phoenix/expression/function/ToTimeFunction.java     | 13 +++++++++----
 .../expression/function/ToTimestampFunction.java        | 13 +++++++++----
 .../function/BuiltinFunctionConstructorTest.java        | 11 ++++++++---
 8 files changed, 86 insertions(+), 25 deletions(-)

commit d07fed5e997cfcbf48e09516716a919d5e3315cb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 28 10:39:15 2016 -0700

    PHOENIX-2774 MemStoreScanner and KeyValueStore should not be aware of KeyValueScanner (Churro Morales)

 .../org/apache/phoenix/hbase/index/covered/data/IndexMemStore.java   | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 64fdf840be576db1484d55c4079c81b03d365b4c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 28 08:28:13 2016 -0700

    PHOENIX-2760 Upgrade phoenix-server and phoenix-server-client to Avatica 1.7.1 (Josh Elser)

 phoenix-server-client/pom.xml                      |  4 ++--
 phoenix-server/pom.xml                             | 12 ++++++------
 phoenix-server/src/build/query-server-runnable.xml |  2 +-
 pom.xml                                            | 14 +++++++-------
 4 files changed, 16 insertions(+), 16 deletions(-)

commit d4d973c7b9fd5bb6bd206c9082c4c6d53e54c59b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 28 08:22:37 2016 -0700

    PHOENIX-2734 Literal expressions for UNSIGNED_DATE/UNSIGNED_TIME/etc (Sergey Soldatov)

 .../java/org/apache/phoenix/end2end/DateTimeIT.java  | 20 ++++++++++++++++++++
 .../apache/phoenix/expression/LiteralExpression.java | 12 ++++--------
 2 files changed, 24 insertions(+), 8 deletions(-)

commit bea110c8e70e26514aa658fb2b02d38d215ae6b4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 28 08:21:16 2016 -0700

    PHOENIX-2774 MemStoreScanner and KeyValueStore should not be aware of KeyValueScanner (Churro Morales)

 .../phoenix/hbase/index/covered/KeyValueStore.java |  4 +-
 .../hbase/index/covered/LocalTableState.java       | 27 --------------
 .../hbase/index/covered/data/IndexMemStore.java    | 43 +++-------------------
 .../index/scanner/FilteredKeyValueScanner.java     | 11 +++---
 .../hbase/index/scanner/ReseekableScanner.java     | 28 ++++++++++++++
 .../hbase/index/scanner/ScannerBuilder.java        |  2 +-
 .../index/covered/data/TestIndexMemStore.java      |  6 +--
 7 files changed, 44 insertions(+), 77 deletions(-)

commit cd8e86ca7170876a30771fcc16c027f8dc8dd386
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Mar 18 01:28:53 2016 +0530

    PHOENIX-2746 Delete on the table with immutable rows may fail with INVALID_FILTER_ON_IMMUTABLE_ROWS error code.(Rajeshbabu)

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 12 ++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java | 28 ++++++++++++----------
 .../apache/phoenix/optimize/QueryOptimizer.java    | 14 +++++++----
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 4 files changed, 37 insertions(+), 19 deletions(-)

commit e7bcfe4f2b889575f7a20e0e2d9f76175282108c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 15 10:24:37 2016 -0700

    PHOENIX-2773 Remove unnecessary repos in poms

 pom.xml | 19 -------------------
 1 file changed, 19 deletions(-)

commit 6eadadd2a4faa640fec4b141c357f7d4e2180dcc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 15 09:43:59 2016 -0700

    PHOENIX-2772 Upgrade pom to sqlline 1.1.19

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d8b45bcb3d923124455788d27718aafd3c0158c1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 14 20:33:03 2016 -0700

    PHOENIX-2768 Add test for case sensitive table with index hint

 .../apache/phoenix/compile/QueryOptimizerTest.java | 28 ++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit c19c32157a2ef4b65e4ef13ff1ba8c4ef9ef4597
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Mar 14 14:47:30 2016 -0700

    PHOENIX-2756 FilteredKeyValueScanner should not implement KeyValueScanner (addendum)

 .../java/org/apache/phoenix/hbase/index/scanner/ScannerBuilder.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4377e3395d7b8107b2b0b3dbe4dff295d355cd0e
Author: rahul gidwani <rgidwani@salesforce.com>
Date:   Thu Mar 10 14:45:26 2016 -0800

    PHOENIX-2756 - FilteredKeyValueScanner should not implement KeyValueScanner

 .../index/scanner/FilteredKeyValueScanner.java     | 56 +---------------------
 1 file changed, 1 insertion(+), 55 deletions(-)

commit cc98e469d7bdb41c822fbf4f395d0c796f12be74
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Mar 14 20:57:16 2016 +0530

    PHOENIX-2763 rowcount stats not correct after major compaction

 .../java/org/apache/phoenix/end2end/StatsCollectorIT.java   | 13 ++++++++++---
 .../phoenix/schema/stats/DefaultStatisticsCollector.java    |  6 +++++-
 2 files changed, 15 insertions(+), 4 deletions(-)

commit 5d33fba633bdc5b2cbc31fa1736f56dce1e17ac6
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Mar 11 15:13:58 2016 +0100

    PHOENIX-2748 Disable auto-commit during bulk load

 .../java/org/apache/phoenix/mapreduce/FormatToBytesWritableMapper.java | 3 +++
 1 file changed, 3 insertions(+)

commit 5977e1f7f7c6ba61e806e85ef1e61f8ef030d95d
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Mar 8 16:12:11 2016 -0800

    Set version to 4.8.0-HBase-1.1-SNAPSHOT after release

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-pherf/pom.xml          | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 phoenix-server-client/pom.xml  | 2 +-
 phoenix-server/pom.xml         | 2 +-
 phoenix-spark/pom.xml          | 2 +-
 phoenix-tracing-webapp/pom.xml | 2 +-
 pom.xml                        | 2 +-
 10 files changed, 10 insertions(+), 10 deletions(-)

commit d22ec4ba1ce9446bbd3d50a2c88dde18b6d63a24
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 5 16:47:08 2016 -0800

    PHOENIX-2749 Upgrade Apache Commons Collections to v3.2.2 (Justine Tunney)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9815e16e2e067aa9372d212d4fe9337b5473e5a1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 5 16:39:29 2016 -0800

    PHOENIX-2465 upgrade ANTLR version to correct generation error with Java 8 (Gabor Liptak)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57c17ec9299d46c1e3ec44936a73747bbececf9b
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Mar 4 00:53:32 2016 +0530

    PHOENIX-2575 Prevent LocalIndexIT from hanging indefinitely(Rajeshbabu)

 .../hadoop/hbase/regionserver/IndexHalfStoreFileReader.java       | 8 --------
 1 file changed, 8 deletions(-)

commit 6e7acaa4564e837dad3f54f79ac7a9b1e670d93a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Mar 2 15:27:05 2016 -0800

    PHOENIX-2100 Indicate in explain plan when round robin iterator is being used

 .../src/it/java/org/apache/phoenix/end2end/IndexToolIT.java         | 6 +++---
 .../src/it/java/org/apache/phoenix/end2end/MutableIndexToolIT.java  | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 952a01cce6d7d314ca26e89a398e75f38690cdad
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Mar 2 13:54:05 2016 -0800

    PHOENIX-2733 Minor cleanup for improvements to CSV Bulk Loader performance (Sergey Soldatov)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 12 ++---
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  2 +-
 ...apper.java => FormatToBytesWritableMapper.java} | 57 ++++++++++++----------
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 28 +++++++----
 .../phoenix/mapreduce/JsonToKeyValueMapper.java    |  2 +-
 .../bulkload/TargetTableRefFunctions.java          |  2 +-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  4 +-
 ...t.java => FormatToBytesWritableMapperTest.java} | 12 ++---
 8 files changed, 67 insertions(+), 52 deletions(-)

commit 1d03e02f06dac97dafe6254bd8d9b75efcccd9a7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Mar 2 13:33:27 2016 -0800

    PHOENIX-2100 Indicate in explain plan when round robin iterator is being used

 .../phoenix/iterate/BaseResultIterators.java       |  7 ++++++
 .../org/apache/phoenix/query/QueryPlanTest.java    | 25 ++++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit f9c8fe8df68bfd3b60b2a9d4ab83ff74b1fbd3de
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Mar 2 10:28:34 2016 -0800

    PHOENIX-2731 Ensure upgrade from 4.7.0 RCx to 4.7.0 RC5 works

 .../main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java | 2 +-
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 7 +++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 1c06c5dbd1d04b3dc67e75eb505df8d62f1a09e4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Mar 2 00:38:05 2016 -0800

    PHOENIX-1973 Improve CsvBulkLoadTool performance by moving keyvalue construction from map phase to reduce phase (Sergey Soldatov)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |   6 +-
 .../phoenix/mapreduce/FormatToKeyValueMapper.java  | 164 +++++++++++++++++----
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 126 ++++++++++++++--
 .../bulkload/TargetTableRefFunctions.java          |  22 ++-
 4 files changed, 280 insertions(+), 38 deletions(-)

commit 42e2b85e391893ba033272bc42e9a0ebad1caca1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 1 22:24:46 2016 -0800

    PHOENIX-2728 Remove usage of usage of com.google.common.io.Closeables.closeQuietly(Closeable)

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/stats/PTableStatsImpl.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit db4e5cda53988da05f6ec28666cf664bd5dd43f4
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Mar 2 09:55:24 2016 -0800

    PHOENIX-2732 Update HBase versions in pom

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f97b4af8982d2e9c1dbe56a14eb3a9cc90b84a98
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Mar 2 08:51:23 2016 -0800

    PHOENIX-2730 Fix min hbase versions for scanner lease renewal

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58cf5fa2d2e147780258a1e88c79898fc199d61e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Feb 28 12:06:40 2016 -0800

    PHOENIX-2720 Minor additions to PhoenixRuntime utils

 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  9 +++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 31 ++++++++++++++++++++++
 .../apache/phoenix/util/PhoenixRuntimeTest.java    | 11 ++++++++
 3 files changed, 51 insertions(+)

commit c083bc825e2f5fd99f7343a784ab5700dbcff6df
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Feb 27 09:57:01 2016 -0800

    Revert "PHOENIX-1973 Improve CsvBulkLoadTool performance by moving keyvalue construction from map phase to reduce phase(Sergey Soldatov)"
    
    This reverts commit e797b36c2ce42e9b9fd6b37fd8b9f79f79d6f18f.

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |   6 +-
 .../phoenix/mapreduce/FormatToKeyValueMapper.java  | 164 ++++-----------------
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 127 ++--------------
 .../bulkload/TargetTableRefFunctions.java          |  22 +--
 4 files changed, 38 insertions(+), 281 deletions(-)

commit 4f743230bcf91630cff0ae1bb0e86bc9680787ce
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Feb 27 00:15:22 2016 -0800

    PHOENIX-2718 Prevent stats creation for stats table

 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   |  4 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  2 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  2 +-
 .../ipc/controller/MetadataRpcController.java      |  2 +-
 .../coprocessor/SequenceRegionObserver.java        | 12 +++---
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 17 ++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 20 +++++-----
 .../java/org/apache/phoenix/schema/Sequence.java   | 46 +++++++++++-----------
 .../schema/stats/StatisticsCollectorFactory.java   |  3 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  2 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  4 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 18 ++++-----
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  2 +-
 14 files changed, 69 insertions(+), 67 deletions(-)

commit 29ca38b85a5f2455a007404aaa72c104f20a5afe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 24 17:44:08 2016 -0800

    PHOENIX-2713 Backward compatibility fails with CNF exception with 4.7 client and server when upgraded from 4.6

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6de19bd2290d8242b002ff661ec7028577e3055
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 24 17:25:51 2016 -0800

    PHOENIX-2713 Backward compatibility fails with CNF exception with 4.7 client and server when upgraded from 4.6

 .../phoenix/query/ConnectionQueryServicesImpl.java | 65 +++++++++++++++++-----
 .../schema/stats/StatisticsCollectorFactory.java   | 17 +++++-
 2 files changed, 68 insertions(+), 14 deletions(-)

commit 1f7b47a5e75fe5f6014b4dcdeb4637d05fd12a43
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 24 11:48:16 2016 -0800

    PHOENIX-2713 Backward compatibility fails with CNF exception with 4.7 client and server when upgraded from 4.6

 .../phoenix/coprocessor/MetaDataProtocol.java      |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 35 ++++++++++++++++++----
 2 files changed, 30 insertions(+), 7 deletions(-)

commit 05e6e2a3d67ed5c7c1cace0b2903c35b83ee5ec5
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 23 17:13:10 2016 -0800

    PHOENIX-2711 Need Thrift included in phoenix-server jar for M/R index (Thomas D'Silva)

 phoenix-assembly/src/build/server.xml | 1 +
 1 file changed, 1 insertion(+)

commit e3a62026cbfaf1eb7c50a35a8871e0f059d7d668
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 23 16:52:05 2016 -0800

    PHOENIX-2707 Differentiate between a table+family have zero guideposts from not having collected guideposts

 .../main/java/org/apache/phoenix/execute/AggregatePlan.java   |  6 ++++--
 .../main/java/org/apache/phoenix/execute/BaseQueryPlan.java   | 11 +++++++++++
 .../src/main/java/org/apache/phoenix/execute/ScanPlan.java    |  7 +++++--
 3 files changed, 20 insertions(+), 4 deletions(-)

commit c25f88791c86cd65ea21810406eec199403d78aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 23 14:53:11 2016 -0800

    PHOENIX-2707 Differentiate between a table+family have zero guideposts from not having collected guideposts

 .../org/apache/phoenix/end2end/IndexToolIT.java    |   3 +-
 .../apache/phoenix/end2end/MutableIndexToolIT.java |   1 +
 .../phoenix/end2end/StatsCollectionDisabledIT.java |  21 +++-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  57 ++++++++-
 .../phoenix/iterate/BaseResultIterators.java       | 140 ++++++++++++---------
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   7 ++
 .../schema/stats/DefaultStatisticsCollector.java   |  33 ++---
 .../phoenix/schema/stats/GuidePostsInfo.java       |   2 +-
 .../schema/stats/GuidePostsInfoBuilder.java        |   6 -
 .../phoenix/schema/stats/PTableStatsImpl.java      |   5 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  23 ++--
 .../phoenix/schema/stats/StatisticsWriter.java     |  60 +++++----
 .../org/apache/phoenix/util/PrefixByteCodec.java   |  37 ++----
 .../phoenix/query/QueryServicesTestImpl.java       |   2 +
 16 files changed, 246 insertions(+), 154 deletions(-)

commit dbc9ee9dfe9e168c45ad279f8478c59f0882240c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 23 09:36:53 2016 -0800

    Revert "PHOENIX-2706 Implement client-side mechanism to know if stats are enabled"
    
    This reverts commit a1e6ae44be757b3fc5c4192ad55ecd8f3c03c01a.

 .../StatisticsCollectionRunTrackerIT.java          | 10 ++--
 .../org/apache/phoenix/end2end/IndexToolIT.java    |  3 +-
 .../apache/phoenix/end2end/MutableIndexToolIT.java |  1 -
 .../phoenix/end2end/StatsCollectionDisabledIT.java | 19 ++------
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  3 --
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 12 ++++-
 .../UngroupedAggregateRegionObserver.java          | 27 +++++------
 .../phoenix/iterate/BaseResultIterators.java       | 25 +---------
 .../phoenix/query/ConnectionQueryServices.java     |  7 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 25 ++--------
 .../query/ConnectionlessQueryServicesImpl.java     | 18 +------
 .../query/DelegateConnectionQueryServices.java     | 10 ----
 .../org/apache/phoenix/query/QueryServices.java    |  1 -
 .../apache/phoenix/query/QueryServicesOptions.java |  7 ---
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 -
 .../schema/stats/NoOpStatisticsCollector.java      |  3 ++
 .../stats/StatisticsCollectionRunTracker.java      |  7 +--
 .../phoenix/schema/stats/StatisticsUtil.java       | 16 -------
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 55 ++++++++--------------
 .../phoenix/query/QueryServicesTestImpl.java       |  2 -
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 33 -------------
 21 files changed, 71 insertions(+), 215 deletions(-)

commit da51f46b2394108f47368e40b5c3abd97dc33714
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Feb 23 08:42:34 2016 +0100

    LP-2705 Downgrade warn logging in region observer

 .../apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a1e6ae44be757b3fc5c4192ad55ecd8f3c03c01a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 22 18:49:04 2016 -0800

    PHOENIX-2706 Implement client-side mechanism to know if stats are enabled

 .../StatisticsCollectionRunTrackerIT.java          | 10 ++--
 .../org/apache/phoenix/end2end/IndexToolIT.java    |  3 +-
 .../apache/phoenix/end2end/MutableIndexToolIT.java |  1 +
 .../phoenix/end2end/StatsCollectionDisabledIT.java | 19 ++++++--
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  3 ++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 12 +----
 .../UngroupedAggregateRegionObserver.java          | 27 ++++++-----
 .../phoenix/iterate/BaseResultIterators.java       | 25 +++++++++-
 .../phoenix/query/ConnectionQueryServices.java     |  7 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 25 ++++++++--
 .../query/ConnectionlessQueryServicesImpl.java     | 18 ++++++-
 .../query/DelegateConnectionQueryServices.java     | 10 ++++
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  7 +++
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +
 .../schema/stats/NoOpStatisticsCollector.java      |  3 --
 .../stats/StatisticsCollectionRunTracker.java      |  7 ++-
 .../phoenix/schema/stats/StatisticsUtil.java       | 16 +++++++
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 55 ++++++++++++++--------
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 33 +++++++++++++
 21 files changed, 215 insertions(+), 71 deletions(-)

commit e4acd0cda4ad8f12db8331af39a9e32f4b81c223
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Feb 21 22:32:09 2016 -0800

    PHOENIX-2702 Show estimate rows and bytes touched in explain plan.

 .../org/apache/phoenix/iterate/BaseResultIterators.java    | 14 +++++++++++++-
 .../main/java/org/apache/phoenix/iterate/ExplainTable.java |  2 +-
 .../apache/phoenix/schema/stats/GuidePostsInfoBuilder.java |  2 +-
 3 files changed, 15 insertions(+), 3 deletions(-)

commit d9d66ae807e6e69e43b36a0106d4f17bab1b0217
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Feb 21 16:20:09 2016 -0800

    PHONIX-2666 addendum; correct HBase version.

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b1a180f1d9acc23cf58ecfc84a67aac110160cd
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Feb 20 19:36:35 2016 -0800

    PHOENIX-2697 Provide a SERIAL hint.

 .../org/apache/phoenix/execute/AggregatePlan.java   | 16 +++++++++++-----
 .../java/org/apache/phoenix/execute/ScanPlan.java   | 14 +++++++++-----
 .../org/apache/phoenix/iterate/ExplainTable.java    |  2 +-
 .../org/apache/phoenix/iterate/SerialIterators.java |  3 ++-
 .../java/org/apache/phoenix/parse/HintNode.java     |  4 ++++
 .../compile/StatementHintsCompilationTest.java      | 21 ++++++++++++++++-----
 6 files changed, 43 insertions(+), 17 deletions(-)

commit 61fa462b433296c29b1046e035f811ae159eaa85
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 19 14:33:27 2016 -0800

    PHOENIX-2670 Guava version incompatibility of Twill vs HBase when launching M/R index

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  | 14 ++++++++------
 pom.xml                                                    |  2 +-
 2 files changed, 9 insertions(+), 7 deletions(-)

commit 9dd6babd86186242b55d01afcb857aa02497ea95
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Feb 19 22:28:07 2016 +0530

    PHOENIX-2696 Delete stale stats for a region if in later run no guidePosts found for that region(Ankit Singhal)

 .../apache/phoenix/schema/stats/DefaultStatisticsCollector.java   | 8 ++++++++
 1 file changed, 8 insertions(+)

commit c2cc1be60492844779ab713d5cd84d37a17e6651
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Feb 18 10:20:36 2016 +0100

    LP-2692 Config setting for disabling stats
    
    Add configuration setting to allow disabling stats collection, for
    environments where it is not desired or is causing issues.

 .../phoenix/end2end/StatsCollectionDisabledIT.java |  70 +++++++
 .../UngroupedAggregateRegionObserver.java          |  12 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../schema/stats/DefaultStatisticsCollector.java   | 223 +++++++++++++++++++++
 .../schema/stats/NoOpStatisticsCollector.java      |  72 +++++++
 .../apache/phoenix/schema/stats/PTableStats.java   |   2 +-
 .../phoenix/schema/stats/StatisticsCollector.java  | 213 +++-----------------
 .../schema/stats/StatisticsCollectorFactory.java   |  63 ++++++
 .../phoenix/schema/stats/StatisticsScanner.java    |   2 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |   6 +-
 10 files changed, 471 insertions(+), 193 deletions(-)

commit 28a8b802c2a32f9735bf187f08ef0a9e33baf2dd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 18 22:16:51 2016 -0800

    PHOENIX-2666 Performance regression: Aggregate query with filter on table with multiple column families

 .../java/org/apache/phoenix/end2end/DeleteIT.java  |   3 +-
 .../StatsCollectorWithSplitsAndMultiCFIT.java      |   3 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   7 +-
 .../phoenix/filter/ColumnProjectionFilter.java     |   2 +
 .../phoenix/iterate/BaseResultIterators.java       | 232 ++++++++++++---------
 .../org/apache/phoenix/iterate/ExplainTable.java   |  28 +--
 .../apache/phoenix/compile/QueryCompilerTest.java  |  29 +++
 8 files changed, 189 insertions(+), 121 deletions(-)

commit cac03056578170a82ba812aa4648e0e5b1a1bbb6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 18 14:59:29 2016 -0800

    PHOENIX-2691 Exception while unpacking resultset containing VARCHAR ARRAY of unspecified length

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 35 ++++++++++
 .../apache/phoenix/compile/GroupByCompiler.java    | 74 +++++++++++++---------
 .../apache/phoenix/exception/SQLExceptionCode.java |  5 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  6 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 36 +++++++++++
 5 files changed, 122 insertions(+), 34 deletions(-)

commit 45a9d670bbb5e659fb967cfdbc6fc1ced43fba12
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 18 12:16:27 2016 -0800

    PHOENIX-2689 VARCHAR Field Not Working With String Concatenation

 .../end2end/{LpadFunctionIT.java => StringIT.java}  | 14 +++++++++++++-
 .../phoenix/expression/StringConcatExpression.java  | 21 +++++++++++++++++----
 2 files changed, 30 insertions(+), 5 deletions(-)

commit 7d90e88261dfc4ef30544ad7d92fa8c66653df56
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 17 12:34:48 2016 -0800

    PHOENIX-2676 Cannot support join operations in scans with limit

 .../java/org/apache/phoenix/coprocessor/HashJoinRegionScanner.java   | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 5127a6565ea286222ea0ebf9f61fd5737d5b8009
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 17 12:27:11 2016 -0800

    PHOENIX-2688 Remove unused mergeRegions for statistics collection

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java  |  9 +--------
 .../org/apache/phoenix/schema/stats/StatisticsCollector.java   | 10 ++++------
 .../org/apache/phoenix/schema/stats/StatisticsScanner.java     |  5 +----
 3 files changed, 6 insertions(+), 18 deletions(-)

commit c316d91044e2e92030e3fd9e9b5fccbf5cfd5e17
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Feb 17 11:53:11 2016 -0800

    PHOENIX-2676 Cannot support join operations in scans with limit (Maryann Xue)

 .../phoenix/coprocessor/HashJoinRegionScanner.java | 72 ++++++++++++++--------
 1 file changed, 48 insertions(+), 24 deletions(-)

commit 818683aac866fe31b48135209158c84942a80fb6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 16 13:01:45 2016 -0800

    PHOENIX-2631 Exception when parsing boundary timestamp values

 .../end2end/ClientTimeArithmeticQueryIT.java       |  11 +-
 .../org/apache/phoenix/end2end/DateTimeIT.java     |   5 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |   2 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |   2 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |   6 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |   4 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |   2 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |   7 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  |   5 +-
 .../org/apache/phoenix/schema/types/PDataType.java |   3 +
 .../apache/phoenix/schema/types/PTimestamp.java    | 407 ++++++++++++---------
 .../apache/phoenix/compile/WhereOptimizerTest.java |   5 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   7 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |  24 +-
 .../apache/phoenix/schema/types/PDataTypeTest.java |  60 +++
 .../java/org/apache/phoenix/util/TestUtil.java     |   7 +-
 16 files changed, 344 insertions(+), 213 deletions(-)

commit 9e2b4339242588f36a71a3920b36b2e2c7867d2d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 16 12:55:21 2016 -0800

    PHOENIX-2119 Do not copy underlying HBase configuration properties when connection properties are supplied

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java   | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit d8e5a73be52c798b525068382e0376cb2d79e372
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 16 17:17:54 2016 -0800

    PHOENIX-2680 stats table timestamp incorrectly used as table timestamp

 .../coprocessor/UngroupedAggregateRegionObserver.java    | 10 +---------
 .../apache/phoenix/schema/stats/StatisticsCollector.java | 16 ++++++++++------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit 6544573832324789f8cbd4531aa6614145c9eb7d
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 16 17:15:57 2016 -0800

    PHOENIX-2666 Performance regression: Aggregate query with filter on table with multiple column families

 .../phoenix/iterate/BaseResultIterators.java       | 34 +++++++++++-----------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit 4ccce0ed103db04667da95ab515eda76029dacdb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 16 09:00:24 2016 -0800

    PHOENIX-2635 Partial index rebuild doesn't work for mutable data

 .../org/apache/phoenix/coprocessor/MetaDataRegionObserver.java   | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit d2fcd21d4f55c17585adbbc41f72027323a8a870
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Tue Feb 16 22:03:58 2016 +0530

    PHOENIX-2683 store rowCount and byteCount at guidePost level(Ankit Singhal)

 .../StatsCollectorWithSplitsAndMultiCFIT.java      |  66 +++-
 .../coprocessor/generated/PGuidePostsProtos.java   | 336 ++++++++++++++++++++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   5 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  25 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       |  69 +++--
 .../schema/stats/GuidePostsInfoBuilder.java        |  61 ++--
 .../phoenix/schema/stats/StatisticsCollector.java  |  21 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |  18 +-
 phoenix-protocol/src/main/PGuidePosts.proto        |   2 +
 9 files changed, 502 insertions(+), 101 deletions(-)

commit e797b36c2ce42e9b9fd6b37fd8b9f79f79d6f18f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Feb 16 12:12:23 2016 +0530

    PHOENIX-1973 Improve CsvBulkLoadTool performance by moving keyvalue construction from map phase to reduce phase(Sergey Soldatov)

 .../phoenix/mapreduce/AbstractBulkLoadTool.java    |   6 +-
 .../phoenix/mapreduce/FormatToKeyValueMapper.java  | 164 +++++++++++++++++----
 .../phoenix/mapreduce/FormatToKeyValueReducer.java | 127 ++++++++++++++--
 .../bulkload/TargetTableRefFunctions.java          |  22 ++-
 4 files changed, 281 insertions(+), 38 deletions(-)

commit 60ef7cd54e26fd1635e503c7d7981ba2cdf4c6fc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 15 09:50:43 2016 -0800

    PHOENIX-2684 LiteralExpression.getBooleanLiteralExpression should compare with .equals() (Julian Eberius)

 ...reDecimalToLongIT.java => PrimitiveTypeIT.java} | 106 +++++++++++----------
 .../phoenix/expression/LiteralExpression.java      |   2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  14 ++-
 3 files changed, 62 insertions(+), 60 deletions(-)

commit 43b34da1d4e10bef233bbb748c5dd1be11d7ce18
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 15 01:44:31 2016 -0800

    PHOENIX-2602 Parser does not handle escaped LPAREN

 phoenix-core/src/main/antlr3/PhoenixSQL.g                          | 7 ++++---
 .../src/test/java/org/apache/phoenix/parse/QueryParserTest.java    | 6 ++++++
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 046bda34771aaec3befd4ad17024afc5af9b83ed
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 15 00:33:05 2016 -0800

    PHOENIX-2635 Partial index rebuild doesn't work for mutable data

 .../end2end/index/MutableIndexFailureIT.java       | 379 ++++++++-------------
 .../end2end/index/ReadOnlyIndexFailureIT.java      |  75 ++--
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   5 +-
 .../coprocessor/MetaDataRegionObserver.java        | 120 +++++--
 .../hbase/index/covered/LocalTableState.java       |  19 +-
 .../phoenix/hbase/index/covered/TableState.java    |   7 +-
 .../hbase/index/covered/data/LocalHBaseState.java  |   6 +-
 .../hbase/index/covered/data/LocalTable.java       |   9 +-
 .../covered/example/CoveredColumnIndexCodec.java   |   4 +-
 .../hbase/index/scanner/ScannerBuilder.java        |   1 -
 .../org/apache/phoenix/index/IndexMaintainer.java  |   4 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  12 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  10 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  32 +-
 .../org/apache/phoenix/parse/NamedTableNode.java   |   8 +
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  34 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   8 +-
 .../hbase/index/covered/TestLocalTableState.java   |  10 +-
 .../example/TestCoveredColumnIndexCodec.java       |   4 +-
 22 files changed, 368 insertions(+), 385 deletions(-)

commit e2a6386f3b9343aec74c5f96f0e0124e80b9f8b1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Feb 14 09:06:14 2016 -0800

    PHOENIX-2221 Option to make data regions not writable when index regions are not available (Alicia Ying Shu, James Taylor)

 .../end2end/index/MutableIndexFailureIT.java       |  31 +--
 .../end2end/index/ReadOnlyIndexFailureIT.java      | 289 +++++++++++++++++++++
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  92 ++++---
 .../coprocessor/MetaDataRegionObserver.java        |  27 +-
 .../coprocessor/generated/PTableProtos.java        | 103 +++++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../org/apache/phoenix/execute/MutationState.java  |  39 ++-
 .../index/write/DelegateIndexFailurePolicy.java    |  58 +++++
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  48 ++--
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  38 +--
 .../java/org/apache/phoenix/schema/PTable.java     |   1 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  51 ++--
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 21 files changed, 660 insertions(+), 141 deletions(-)

commit 6881aef0cfaae8643303f0612a2a4b997b8a5138
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Mon Feb 15 12:04:20 2016 +0530

    PHOENIX-2671 System.STATS table getting truncated every time on new client connection(Ankit Singhal)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 48 +++++++---------------
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 16 ++++----
 2 files changed, 22 insertions(+), 42 deletions(-)

commit cdaca287cd50fbdd25a9b11d8af6fb0a3b3956cc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Feb 13 15:49:31 2016 -0800

    PHOENIX-2667 Race condition between IndexBuilder and Split for region lock

 .../apache/phoenix/hbase/index/builder/IndexBuildManager.java  | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 04c3819f0ca353f09eeb231424c09dbd3d9d5bb3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Feb 13 00:00:34 2016 -0800

    PHOENIX-2657 Transactionally deleted cells become visible after few hours

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit edd94b28ab46877aa15e94713274516619fa43b1
Author: Jesse Yates <jyates@apache.org>
Date:   Fri Feb 12 15:46:11 2016 -0800

    PHOENIX-2674 PhoenixMapReduceUtil#setInput doesn't honor condition clause (addendum)

 .../java/org/apache/phoenix/mapreduce/util/PhoenixMapReduceUtil.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 8ece81b5522df3e6bd9dfdb3112e101215bb49f1
Author: Jesse Yates <jyates@apache.org>
Date:   Wed Feb 10 12:46:47 2016 -0800

    PHOENIX-2674 PhoenixMapReduceUtil#setInput doesn't honor condition clause
    
    Setting the condition in the PhoenixMapReduceUtil,
    as well as some slight cleanup for duplicate code
    in setInput(). Adding a test that covers mapreduce
    with and without a condition.

 .../org/apache/phoenix/end2end/MapReduceIT.java    | 230 +++++++++++++++++++++
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  65 +++---
 2 files changed, 264 insertions(+), 31 deletions(-)

commit 0c1fd3ad503207079bd20fc0d04c0409280c305b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 12 10:57:23 2016 -0800

    PHOENIX-2659 Incorrect argument parsing and bad command for
     queryserver.py (Josh Elser)

 bin/queryserver.py | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 980eb36e251e917343d1376b2ac6f8c57d223c35
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 12 09:38:43 2016 -0800

    PHOENIX-2657 Transactionally deleted cells become visible after few hours

 .../org/apache/phoenix/filter/SkipScanFilter.java  | 47 +++++++++++++++-------
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  4 +-
 .../phoenix/index/PhoenixTransactionalIndexer.java |  5 ++-
 3 files changed, 38 insertions(+), 18 deletions(-)

commit 0c21539cc331b8d6ca144604cf899068ad74fb25
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 11 20:10:23 2016 -0800

    PHOENIX-2658 When using QueryRunner API UNION ALL queries fail with NPE (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 49 +++++++++++++++++++++-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  3 +-
 2 files changed, 50 insertions(+), 2 deletions(-)

commit 18f7a69452eec7fd5fde38953510600c4a060151
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Feb 11 20:09:16 2016 -0800

    PHOENIX-2681 Avoid usage of HashSet<byte[]> in guideposts selection

 .../apache/phoenix/end2end/MultiCfQueryExecIT.java | 51 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       | 35 +++++++--------
 2 files changed, 66 insertions(+), 20 deletions(-)

commit decbfe3062bbc970050e03fbb198e61a2d30e88c
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Feb 11 02:48:05 2016 +0530

    PHOENIX-2334 CSV Bulk load fails on local indexes(Rajeshbabu)

 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  | 27 ++++++++++++----------
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 16 +++++++++----
 .../phoenix/mapreduce/bulkload/TargetTableRef.java |  2 +-
 .../phoenix/query/ConnectionQueryServices.java     |  1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 27 ++++++++++++++++++++++
 .../query/ConnectionlessQueryServicesImpl.java     | 15 ++++++++++++
 .../query/DelegateConnectionQueryServices.java     |  6 +++++
 .../java/org/apache/phoenix/util/IndexUtil.java    | 10 +++++++-
 8 files changed, 85 insertions(+), 19 deletions(-)

commit c48fee04e75fc9d08af981f1a2cc257e6cecdbdc
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Feb 11 02:38:48 2016 +0530

    PHOENIX-2665 index split while running group by query is returning duplicate results(Rajeshbabu)

 .../src/main/java/org/apache/phoenix/compile/ScanRanges.java |  2 ++
 .../phoenix/coprocessor/BaseScannerRegionObserver.java       |  4 +++-
 .../java/org/apache/phoenix/iterate/BaseResultIterators.java | 12 +++++++-----
 3 files changed, 12 insertions(+), 6 deletions(-)

commit c485a40c766e34e3a5a443e60057cfaa1cb92869
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Feb 8 16:47:36 2016 -0800

    PHOENIX-2602 Parser does not handle escaped LPAREN

 .../org/apache/phoenix/end2end/LikeExpressionIT.java | 20 ++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g            |  6 +++---
 2 files changed, 23 insertions(+), 3 deletions(-)

commit d5518f02d85e2cd92955377fc3934a266eaa1fa6
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Feb 8 14:22:25 2016 -0800

    PHOENIX-2656 Shield Phoenix from Tephra repackaging

 .../phoenix/end2end/AlterTableWithViewsIT.java     |   7 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  12 +-
 .../coprocessor/DelegateRegionObserver.java        | 562 +++++++++++++++++++++
 .../coprocessor/PhoenixTransactionalProcessor.java |  28 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  12 +-
 5 files changed, 605 insertions(+), 16 deletions(-)

commit 1c3a86d3139804c5c2e8a51a8e02bd3ecbd59515
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Feb 8 13:29:55 2016 -0800

    PHOENIX-2655 In MetadataClient creatTableInternal if NEWER_TABLE_FOUND swallow NewerTableAlreadyExistsException if the ifNotExists flag is true

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit e5e9144f4e98803902174858051be58e9edcca11
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Feb 8 12:37:14 2016 -0800

    PHOENIX-2653 Use data.tx.zookeeper.quorum property to initialize TransactionServiceClient falling back to HBase ZK quorum setting (addendum)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 39a982db98f52b33decb30ec51ca4b92a230abd2
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Feb 8 12:11:05 2016 -0800

    PHOENIX-2653 Use data.tx.zookeeper.quorum property to initialize TransactionServiceClient falling back to HBase ZK quorum setting

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit b0122a541325fd7e40e62e3602eb0ad748b94a4f
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jan 29 14:10:11 2016 -0800

    PHOENIX-2605 Enhance IndexToolIT to test transactional tables

 .../phoenix/end2end/ContextClassloaderIT.java      |   2 +-
 .../apache/phoenix/end2end/CsvBulkLoadToolIT.java  |  87 +++----
 .../org/apache/phoenix/end2end/IndexToolIT.java    | 273 +++++++--------------
 .../apache/phoenix/end2end/MutableIndexToolIT.java | 128 ++++++++++
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |   8 +-
 .../end2end/index/DropIndexDuringUpsertIT.java     |   2 +-
 .../end2end/index/MutableIndexReplicationIT.java   |   2 +-
 .../covered/example/EndToEndCoveredIndexingIT.java |   5 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   7 +
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  11 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   9 +-
 .../index/PhoenixIndexImportDirectMapper.java      |   7 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |   6 +-
 .../mapreduce/util/PhoenixConfigurationUtil.java   |   6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   1 -
 .../java/org/apache/phoenix/query/BaseTest.java    |  56 ++++-
 16 files changed, 337 insertions(+), 273 deletions(-)

commit e4d569cd8bda5e7c828d3bae9b12165b0272b67a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Feb 8 16:06:41 2016 +0530

    PHOENIX-2153 Fix a couple of Null pointer dereferences(Alicia Ying Shu)

 .../src/main/java/org/apache/phoenix/expression/InListExpression.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fa58fc5fccd11cbeb14e701a59122b3cba77d67e
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Sat Feb 6 01:11:22 2016 +0530

    PHOENIX-2647 Fix errors in 2 tests related to DDL issues for transaction (addendum)

 .../src/it/java/org/apache/phoenix/end2end/StatsCollectorIT.java      | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b64edb75455d56fc2a5086043bdd6fa1064f2ca7
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Fri Feb 5 23:45:04 2016 +0530

    PHOENIX-2647 Duplicate results in reverse scan when guideposts are traversed (Ankit Singhal)

 .../org/apache/phoenix/end2end/ReverseScanIT.java  | 21 ++++++++++
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 28 +++++++++----
 .../java/org/apache/phoenix/util/ScanUtil.java     | 49 +++++++++++-----------
 3 files changed, 64 insertions(+), 34 deletions(-)

commit a82a0ff608f90c470a1290296f8ed08243956fc9
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Thu Feb 4 14:38:43 2016 -0800

    PHOENIX-2649 - GC/OOM during BulkLoad (Sergey Soldatov)

 .../mapreduce/bulkload/TableRowkeyPair.java        | 38 +++++++++++++++++++---
 .../mapreduce/bulkload/TestTableRowkeyPair.java    |  6 ++--
 2 files changed, 37 insertions(+), 7 deletions(-)

commit 79724226c737c905b748d73fe8f4d70dca743578
Author: Ankit Singhal <ankitsinghal59@gmail.com>
Date:   Thu Feb 4 15:27:04 2016 +0530

    PHOENIX-2169 Illegal data error on UPSERT SELECT and JOIN with salted tables(Ankit Singhal)

 .../end2end/salted/SaltedTableUpsertSelectIT.java  | 57 ++++++++++++++++++++++
 .../expression/ProjectedColumnExpression.java      | 11 ++++-
 .../expression/visitor/CloneExpressionVisitor.java |  2 +-
 3 files changed, 68 insertions(+), 2 deletions(-)

commit 12f6a6f48c4a4739e09f1842d885d53e2e5550e2
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Wed Feb 3 14:15:16 2016 -0800

    PHOENIX-2649 - GC/OOM during BulkLoad

 .../mapreduce/bulkload/TableRowkeyPair.java        | 41 +++----------
 .../mapreduce/bulkload/TestTableRowkeyPair.java    | 67 ++++++++++++++++++++++
 2 files changed, 75 insertions(+), 33 deletions(-)

commit 5c25a728e165cae8672522cb11ab2acbdbd72851
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Feb 3 13:15:19 2016 -0800

    PHOENIX-2620 NPE in org.apache.phoenix.expression.util.regex.JavaPattern.matches(Nicolas Liochon)

 .../main/java/org/apache/phoenix/expression/util/regex/JavaPattern.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea22dd5e00e1cf67cad2ac975c78f4aaa258d5e9
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Feb 2 12:26:48 2016 -0800

    PHOENIX-1769 Exception thrown when TO_DATE function used as LHS in WHERE-clause

 .../src/main/java/org/apache/phoenix/util/DateUtil.java |  2 +-
 .../java/org/apache/phoenix/pherf/PherfConstants.java   |  2 +-
 .../org/apache/phoenix/pherf/rules/RulesApplier.java    | 17 ++++++-----------
 .../org/apache/phoenix/pherf/RuleGeneratorTest.java     |  5 +++--
 .../src/test/resources/scenario/test_scenario.xml       |  6 +++---
 pom.xml                                                 |  3 ++-
 6 files changed, 16 insertions(+), 19 deletions(-)

commit 6af7dcb51e14d57f6a036fc718dc06f3f9e4ae41
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jan 28 13:26:40 2016 -0800

    PHOENIX-2543 Modify StatsCollectorIT to test transactional test cases

 .../apache/phoenix/end2end/StatsCollectorIT.java   |  73 +++++++------
 .../phoenix/end2end/TransactionalViewIT.java       | 120 +++++++++++++++++++++
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  39 ++-----
 3 files changed, 169 insertions(+), 63 deletions(-)

commit 8a799b8cbbf7ff7deb97a48fab215a4d1895b4a1
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jan 28 15:46:49 2016 -0800

    Revert "PHOENIX-2543 Modify StatsCollectorIT to test transactional test cases"
    
    This reverts commit 791a27cfd141af969bc3e2e25ac9c14bd1b17a90.

 .../apache/phoenix/end2end/StatsCollectorIT.java   |  73 +++++------
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 137 +++++----------------
 2 files changed, 58 insertions(+), 152 deletions(-)

commit c89903ec5c176eb93abe32437b2ac171b6f6c552
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jan 28 13:30:54 2016 -0800

    PHOENIX-2629 NoClassDef error for BaseDecoder on log replay

 .../wal/BinaryCompatibleBaseDecoder.java           | 110 +++++++++++++++++++++
 .../regionserver/wal/IndexedWALEditCodec.java      |  83 +++++++++++++++-
 2 files changed, 191 insertions(+), 2 deletions(-)

commit 791a27cfd141af969bc3e2e25ac9c14bd1b17a90
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jan 28 13:26:40 2016 -0800

    PHOENIX-2543 Modify StatsCollectorIT to test transactional test cases

 .../apache/phoenix/end2end/StatsCollectorIT.java   |  73 ++++++-----
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 137 ++++++++++++++++-----
 2 files changed, 152 insertions(+), 58 deletions(-)

commit ee6370200b491bd210dd4f89d6be59162c994bd4
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Thu Jan 28 13:43:33 2016 -0800

    PHOENIX-1849 - MemoryLeak in PhoenixFlumePlugin PhoenixConnection

 .../phoenix/flume/serializer/RegexEventSerializer.java       | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit c9594e83e144ebc3830922401de2addb3df0c81d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 27 14:28:34 2016 -0800

    PHOENIX-2630 Ensure commit fails if mutable secondary index write fails

 .../org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 6 +++++-
 .../phoenix/hbase/index/write/KillServerOnFailurePolicy.java     | 5 ++---
 .../java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java | 9 +++++++--
 3 files changed, 14 insertions(+), 6 deletions(-)

commit dceaaeb8aa6eb4213ca5868e03cf1cca16fa4d01
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Thu Jan 28 11:06:51 2016 -0500

    PHOENIX-2638 Move spark version properties main pom (Ankit Singhal)

 phoenix-spark/pom.xml | 3 ---
 pom.xml               | 3 +++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a6646d7ebdac53e4b011c6c6b57b8fc5b679d3ff
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Thu Jan 28 07:42:04 2016 -0800

    PHOENIX-2542 - CSV bulk loading with --schema option is broken

 .../src/it/java/org/apache/phoenix/end2end/CsvBulkLoadToolIT.java    | 5 +++--
 .../main/java/org/apache/phoenix/mapreduce/AbstractBulkLoadTool.java | 2 +-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit aaab87a88f162384cbd94ab1703f7fc5daec5751
Merge: de4f17427 bd06dfb48
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 26 20:27:17 2016 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit de4f174272be4fddcc8bf6dada048b4e70394f52
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 26 20:27:10 2016 -0500

    PHOENIX-1854 Investigate not setting ProjectedColumnExpression in TupleProjector expressions array

 .../java/org/apache/phoenix/compile/OrderPreservingTracker.java     | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit bd06dfb483c5ece0069c43d120ecccedfbab3a3f
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 26 10:08:39 2016 -0800

    PHOENIX-1726 Phoenix connection initialization makes multiple hbase connections

 .../phoenix/query/ConnectionQueryServicesImpl.java | 82 ++++------------------
 1 file changed, 13 insertions(+), 69 deletions(-)

commit 5176ed6371778daa58300592620483b619b668fb
Author: Dumindu Buddhika <duminduk@apache.org>
Date:   Tue Jan 26 08:29:15 2016 +0530

    PHOENIX-2348 The value of DEFAULT_SPOOL_DIRECTORY is invalid on Windows (ChiaPing Tsai)

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2b6009f24b0b1019eb7cfaceea593556befb2cb
Author: maryannxue <maryann.xue@gmail.com>
Date:   Mon Jan 25 21:26:09 2016 -0500

    PHOENIX-2279 Error result when there are both GROUP-BY and LIMIT operation on derived table

 .../it/java/org/apache/phoenix/end2end/DerivedTableIT.java  | 13 +++++++++++++
 .../org/apache/phoenix/execute/ClientAggregatePlan.java     |  2 +-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 551cc7db93a8a2c3cc9ff15e7cf9425e311ab125
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jan 22 22:29:53 2016 -0800

    Set version to 4.7.0-HBase-1.1 for release

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-pherf/pom.xml          | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 phoenix-server-client/pom.xml  | 2 +-
 phoenix-server/pom.xml         | 2 +-
 phoenix-spark/pom.xml          | 2 +-
 phoenix-tracing-webapp/pom.xml | 2 +-
 pom.xml                        | 2 +-
 10 files changed, 10 insertions(+), 10 deletions(-)

commit 424083d9f95e2e26c40b2d443c29392dda3cc084
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jan 22 17:21:58 2016 -0800

    PHOENIX-2622 Writes to transactional table get slower after regions splits to multiple region servers

 .../org/apache/phoenix/execute/MutationState.java  | 29 ++++++++++++++--------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  1 -
 2 files changed, 19 insertions(+), 11 deletions(-)

commit 81b644f4ef2c2fdd51dd61cf3f544362cf4b2bd9
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jan 22 16:35:21 2016 -0800

    PHOENIX-2626 System.Function is missing in the list of system tables in MetadataRpcController

 .../org/apache/hadoop/hbase/ipc/controller/MetadataRpcController.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a6cd49253de8d198c3772bbfa414cef9c361076d
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 22 13:15:33 2016 -0800

    PHOENIX-2625 Add @Ignore tag for IndexLoadBalancerIT#testRoundRobinAssignmentDuringMasterStartUp

 .../org/apache/phoenix/hbase/index/balancer/IndexLoadBalancerIT.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 5d61fb818e9dedef00b8d511cde7c3aeca490136
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 22 12:22:53 2016 -0800

    PHOENIX-2613 Uncomment test

 .../apache/phoenix/filter/SkipScanFilterTest.java  | 62 +++++++++++-----------
 1 file changed, 31 insertions(+), 31 deletions(-)

commit 9e90fabaee2378196c83c9d9ae9aaff332833b16
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 22 12:03:55 2016 -0800

    PHOENIX-2624 Update pom to Calcite 1.6

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79d109e782b400af3006f5dc3dc810e3df4bd15e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 22 00:58:46 2016 -0800

    PHOENIX-2621 ImmutableIndexIT is failing

 .../phoenix/end2end/index/ImmutableIndexIT.java    | 70 +++++++++++-----------
 1 file changed, 36 insertions(+), 34 deletions(-)

commit a138cfe0f3df47091a0d9fe0285a8e572d76b252
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jan 8 15:37:31 2016 -0800

    PHOENIX-2446 Immutable index - Index vs base table row count does not match when index is created during data load

 .../phoenix/end2end/index/ImmutableIndexIT.java    |  81 +++++++++---
 .../apache/phoenix/execute/PartialCommitIT.java    |   2 +-
 .../cache/aggcache/SpillableGroupByCache.java      |  17 +--
 .../org/apache/phoenix/compile/FromCompiler.java   |   8 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   2 +-
 .../phoenix/compile/PostLocalIndexDDLCompiler.java | 104 +++++++++++++++
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   2 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/BaseRegionScanner.java     |  11 +-
 .../GroupedAggregateRegionObserver.java            |  38 +-----
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   7 +-
 .../coprocessor/MetaDataRegionObserver.java        |   8 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |  17 +--
 .../UngroupedAggregateRegionObserver.java          |  24 +---
 .../coprocessor/generated/PTableProtos.java        | 145 +++++++++++++++++----
 .../org/apache/phoenix/execute/MutationState.java  |  57 ++++----
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |   9 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 133 ++++++++-----------
 .../java/org/apache/phoenix/schema/PColumn.java    |   2 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  21 ++-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |   4 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   8 +-
 .../iterate/AggregateResultScannerTest.java        |   4 +
 .../phoenix/query/QueryServicesTestImpl.java       |   4 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   2 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 31 files changed, 449 insertions(+), 277 deletions(-)

commit 8574d4311dcb5fc7a76465b32f24daf045ffb562
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Thu Jan 21 18:31:28 2016 -0800

    PHOENIX-2584 - Support Array datatype in phoenix-pig module

 .../phoenix/mapreduce/PhoenixRecordWritable.java   |  28 ++--
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 167 ++++++++++++++++++++-
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  37 +++++
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |  22 +--
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |  33 +++-
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |  49 ++++--
 .../phoenix/pig/writable/PhoenixPigDBWritable.java | 121 ---------------
 .../org/apache/phoenix/pig/util/TypeUtilTest.java  |  39 +++--
 8 files changed, 319 insertions(+), 177 deletions(-)

commit 462509625853bf85d0fdeb33fe3cf36bf5c94bec
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 21 17:58:20 2016 -0800

    PHOENIX-2613 Infinite loop in SkipScan when seeking past null value in non leading primary key column

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 22 ++++++++
 .../org/apache/phoenix/filter/SkipScanFilter.java  | 24 ++++----
 .../apache/phoenix/filter/SkipScanFilterTest.java  | 65 +++++++++++++++-------
 3 files changed, 77 insertions(+), 34 deletions(-)

commit 6251f8f8c035ecf50051b974ca99499913e001c1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 20 21:40:00 2016 -0800

    PHOENIX-2616 Indexes over immutable tables not marked as immutable

 .../phoenix/query/ConnectionQueryServicesImpl.java       | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit dab79cbe0e4d10e1c259198de8e95b7e93d66b57
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 20 21:06:32 2016 -0800

    PHOENIX-2612 RuleGeneartorTest updated with right pattern (Karan Singhal)

 .../src/main/java/org/apache/phoenix/pherf/PherfConstants.java     | 1 +
 .../src/test/java/org/apache/phoenix/pherf/ResourceTest.java       | 2 +-
 .../src/test/java/org/apache/phoenix/pherf/RuleGeneratorTest.java  | 7 +++----
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d345b8802590612e69181c5fcb093dce69143b67
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 20 21:04:03 2016 -0800

    PHOENIX-2616 Indexes over immutable tables not marked as immutable

 .../src/it/java/org/apache/phoenix/end2end/index/IndexIT.java         | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 7795f80fa67483e31ab9b845013b8b332a7e5e05
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jan 20 19:09:19 2016 -0800

    PHOENIX-2616 Indexes over immutable tables not marked as immutable

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit c966935921a85a0e6b5f4ba49d26e167f08349ed
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jan 20 18:33:12 2016 -0800

    PHOENIX-2616 Indexes over immutable tables not marked as immutable

 .../org/apache/phoenix/execute/MutationState.java  | 18 ++++-----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 43 ++++++++++++++++++----
 .../org/apache/phoenix/schema/MetaDataClient.java  |  5 ++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 12 +++---
 4 files changed, 54 insertions(+), 24 deletions(-)

commit 6911770e8a1d05775f3780f623ae01e9122d59f0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 20 17:07:12 2016 -0800

    PHOENIX-2589 Fix a few resource leaks, NULL dereference, NULL_RETURNS issues (Samarth Jain, Alicia Ying Shu)

 .../phoenix/query/ConnectionQueryServicesImpl.java |  20 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 235 +++++++++++----------
 pom.xml                                            |   1 +
 3 files changed, 137 insertions(+), 119 deletions(-)

commit 6ecbbb257cd09dbfe3f8ee7f3e6257660476c226
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 20 15:23:22 2016 -0800

    PHOENIX-2615 Prevent builds from failing intermittenly due to timing out of forked jvms

 pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 6a27cecce312002f9b7f76ffdcafcb694f5e3ea8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 20 09:57:14 2016 -0800

    PHOENIX-2417 Compress memory used by row key byte[] of guideposts (Ankit Singhal)

 .../coprocessor/MetaDataRegionObserver.java        |   71 +-
 .../coprocessor/generated/PGuidePostsProtos.java   |  287 ++++-
 .../coprocessor/generated/StatCollectorProtos.java | 1269 --------------------
 .../java/org/apache/phoenix/execute/ScanPlan.java  |    2 +-
 .../phoenix/iterate/BaseResultIterators.java       |  138 ++-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   39 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       |  106 +-
 .../schema/stats/GuidePostsInfoBuilder.java        |  113 ++
 .../phoenix/schema/stats/PTableStatsImpl.java      |   45 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |   46 +-
 .../phoenix/schema/stats/StatisticsScanner.java    |    3 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |   36 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |   46 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |    2 +
 .../org/apache/phoenix/util/PrefixByteCodec.java   |  104 ++
 .../org/apache/phoenix/util/PrefixByteDecoder.java |   90 ++
 .../org/apache/phoenix/util/PrefixByteEncoder.java |   99 ++
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   68 +-
 .../phoenix/filter/SkipScanBigFilterTest.java      |    8 +-
 .../phoenix/util/PrefixByteEncoderDecoderTest.java |   96 ++
 phoenix-protocol/src/main/PGuidePosts.proto        |    3 +
 21 files changed, 1140 insertions(+), 1531 deletions(-)

commit 4d323b66b8f685872c7b94f3d243c940f7fa37d9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 19 22:10:48 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../src/main/java/org/apache/phoenix/execute/MutationState.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b63ca5fbdf60e6dd9a2d0d054c3be058e3b6b5c5
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue Jan 19 20:20:36 2016 -0800

    PHOENIX-2608 Incompatibility between Jackson1 version shipped with Phoenix, Yarn (Ted Yu)

 pom.xml | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 588f449b0bfc5ba6398c30ee76745a78c4996976
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue Jan 19 20:17:55 2016 -0800

    PHOENIX-2610 Allow passing PHOENIX_OPTS to command line utils

 bin/performance.py     | 2 +-
 bin/phoenix_sandbox.py | 2 +-
 bin/psql.py            | 3 ++-
 bin/queryserver.py     | 2 +-
 bin/sqlline-thin.py    | 3 ++-
 bin/sqlline.py         | 3 ++-
 bin/traceserver.py     | 3 ++-
 7 files changed, 11 insertions(+), 7 deletions(-)

commit 0b7a3c460e1171b5e67934684bf8ee71f07927cb
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Oct 5 10:57:35 2015 -0700

    PHOENIX-2303 Fix for performance.py not using JAVA_HOME (bpanneton)

 bin/performance.py | 36 +++++++++++++++++++++++++++++++++---
 1 file changed, 33 insertions(+), 3 deletions(-)

commit 15432d1ac63ef429600333ad36c06f8e43deacf8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 19 20:25:55 2016 -0800

    PHOENIX-2611 current_date/time functions produce invalid values

 .../src/it/java/org/apache/phoenix/end2end/DateTimeIT.java     | 10 ++++++++++
 .../src/main/java/org/apache/phoenix/schema/TableRef.java      |  3 +--
 2 files changed, 11 insertions(+), 2 deletions(-)

commit f572fa630a5bdfe5f1eab074838a82344d38063d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 19 20:23:51 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../phoenix/end2end/index/ImmutableIndexIT.java    |   6 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |  16 +--
 .../phoenix/compile/PostIndexDDLCompiler.java      |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java | 108 ++++++++++-----------
 .../org/apache/phoenix/execute/MutationState.java  |  39 +++++---
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../java/org/apache/phoenix/schema/TableRef.java   |   8 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |   2 +-
 9 files changed, 98 insertions(+), 87 deletions(-)

commit 1717f12d7c6e9b1ee8ddffb55cea929d6d8543f1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 19 13:16:50 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../src/main/java/org/apache/phoenix/execute/MutationState.java       | 4 ----
 1 file changed, 4 deletions(-)

commit 3520e12858223dfcad343e0a3a29c71fe4d074bc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 19 08:19:44 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../phoenix/end2end/index/ImmutableIndexIT.java    | 239 ++++++++++++++++-----
 .../org/apache/phoenix/execute/MutationState.java  | 115 +++++-----
 .../java/org/apache/phoenix/query/BaseTest.java    | 103 ++++-----
 3 files changed, 285 insertions(+), 172 deletions(-)

commit 13699371820928cf14e0e2c5bbffe338c7aa2e93
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 18 21:14:34 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../org/apache/phoenix/execute/MutationState.java  | 478 +++++++++++----------
 .../org/apache/phoenix/schema/MetaDataClient.java  |  31 +-
 2 files changed, 265 insertions(+), 244 deletions(-)

commit f591da44c9ee85ee7ab0fa910e3b18e649d86cdf
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 18 21:09:44 2016 -0800

    PHOENIX-2591 Minimize transaction commit/rollback for DDL

 .../org/apache/phoenix/execute/MutationState.java  | 30 +++++++++++-----------
 .../org/apache/phoenix/util/TransactionUtil.java   | 23 ++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  2 +-
 3 files changed, 24 insertions(+), 31 deletions(-)

commit 9a44b492673497e65e41ff45f3bcf7fb23982e35
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jan 17 12:11:04 2016 -0800

    PHOENIX-2593 Ensure all built-ins have required constructors (Dumindu Buddhika)

 .../phoenix/expression/function/CeilFunction.java  |  2 +
 .../phoenix/expression/function/FloorFunction.java |  4 +-
 .../phoenix/expression/function/NowFunction.java   |  2 +
 .../phoenix/expression/function/RoundFunction.java |  4 +-
 .../expression/function/ToCharFunction.java        |  4 ++
 .../expression/function/ToDateFunction.java        |  4 ++
 .../expression/function/ToNumberFunction.java      |  4 ++
 .../expression/function/ToTimeFunction.java        |  4 ++
 .../expression/function/ToTimestampFunction.java   |  4 ++
 .../phoenix/expression/function/TruncFunction.java |  2 +
 .../function/BuiltinFunctionConstructorTest.java   | 65 ++++++++++++++++++++++
 11 files changed, 95 insertions(+), 4 deletions(-)

commit 59b336ec84b7cf5189bb2e67f07f9ef20da898d9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jan 17 11:24:26 2016 -0800

    PHOENIX-2520 Create DDL property for metadata update frequency

 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |  92 ++++++++++-----
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   |  17 ++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   3 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  13 ++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   2 +-
 .../coprocessor/generated/PTableProtos.java        | 104 +++++++++++++++--
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   6 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  43 +++----
 .../query/ConnectionlessQueryServicesImpl.java     |   4 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/query/MetaDataMutated.java  |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   6 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 123 +++++++++++++-------
 .../java/org/apache/phoenix/schema/PMetaData.java  |   3 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  15 ++-
 .../java/org/apache/phoenix/schema/PTable.java     |   1 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  65 +++++++----
 .../java/org/apache/phoenix/schema/PTableRef.java  |  17 ++-
 .../org/apache/phoenix/schema/TableProperty.java   |  26 +++++
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   4 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java   | 125 +++++++++++++--------
 phoenix-protocol/src/main/PTable.proto             |   1 +
 28 files changed, 487 insertions(+), 206 deletions(-)

commit 3e5fa3efceeee2da6b551f11c7bc7cfb86f06143
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jan 16 18:00:50 2016 -0800

    PHOENIX-2592 Ignore flaky test

 .../src/test/java/org/apache/phoenix/pherf/RuleGeneratorTest.java        | 1 +
 1 file changed, 1 insertion(+)

commit 4b013b9c018e84ae11436c66515999400f77f511
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 14 18:15:52 2016 -0800

    PHOENIX-2597 Local Indexes are not used to query views

 .../org/apache/phoenix/end2end/BaseViewIT.java     |  60 +++-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  36 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 389 ++++++++++-----------
 4 files changed, 269 insertions(+), 218 deletions(-)

commit fb1f3d698c529b0b816e01aba83990b98b9deaa8
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Sat Jan 16 13:46:10 2016 -0500

    PHOENIX-2599 PhoenixRecordReader does not handle StaleRegionBoundaryCacheException

 .../apache/phoenix/coprocessor/BaseScannerRegionObserver.java | 10 +++++++++-
 .../org/apache/phoenix/mapreduce/PhoenixRecordReader.java     | 11 +++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit c584029b9face0acb0513d328d68ec42b25fc011
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 15 22:09:39 2016 -0800

    PHOENIX-2600 NPE on immutable index creation over transactional table

 .../src/it/java/org/apache/phoenix/end2end/UpsertSelectIT.java | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit c2ee4f7fd7dc80b511ba23e0431a3b8ffeae26a3
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 15 20:17:08 2016 -0800

    PHOENIX-1261 Addendum to fix test failures

 .../org/apache/phoenix/coprocessor/BaseScannerRegionObserver.java   | 2 +-
 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java       | 2 +-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java     | 6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 26c138fec4acffc53f1179f3bf6ebaf43e251880
Merge: 3c2ec562f 04504c34f
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Jan 15 22:27:55 2016 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 3c2ec562f6c347e5bfc0c1c9bc9981f8d84644ff
Author: maryannxue <maryann.xue@gmail.com>
Date:   Fri Jan 15 22:27:42 2016 -0500

    PHOENIX-2601 Query result is incorrect when both index hint and limit are used

 .../end2end/index/GlobalIndexOptimizationIT.java   | 23 ++++++++++++++++++++++
 .../apache/phoenix/optimize/QueryOptimizer.java    |  2 +-
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 04504c34ffb2e39f38e1b37ee0d7f8f909537616
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jan 15 18:04:07 2016 -0800

    PHOENIX-2600 NPE on immutable index creation over transactional table

 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  23 ++
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 442 +++++++++++----------
 .../org/apache/phoenix/compile/DeleteCompiler.java |   1 -
 .../org/apache/phoenix/execute/MutationState.java  |  40 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   1 +
 5 files changed, 281 insertions(+), 226 deletions(-)

commit 763a3566ed7ade82b7ffbd56cf90ff264cdbe20a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 15 16:21:26 2016 -0800

    PHOENIX-1261 Addendum to set the async attribute on the scan

 .../java/org/apache/phoenix/schema/MetaDataClient.java     | 13 ++++++++++---
 .../schema/stats/StatisticsCollectionRunTracker.java       | 14 ++++++--------
 2 files changed, 16 insertions(+), 11 deletions(-)

commit 52ec0a7d7de2b71892884a25d6d1e5e18de176d9
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 15 15:17:53 2016 -0800

    PHOENIX-2119 Do not copy underlying HBase configuration properties when connection properties are supplied

 .../org/apache/phoenix/util/ReadOnlyProps.java     | 40 +++++++----
 .../phoenix/jdbc/ReadOnlyPropertiesTest.java       | 84 ++++++++++++++++++++++
 2 files changed, 111 insertions(+), 13 deletions(-)

commit 4f50257b569874209fe1b5988f0a256c22c6d0c1
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jan 15 12:27:08 2016 -0800

    PHOENIX-2592 Pherf RuleGeneratorTest.testDateGenerator() is flapping (karan.singhal)

 .../src/main/java/org/apache/phoenix/pherf/rules/RulesApplier.java     | 3 ++-
 .../src/test/java/org/apache/phoenix/pherf/RuleGeneratorTest.java      | 1 -
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5818e2d57812e0d19eab2f399ea30b97f9adb112
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jan 14 10:40:44 2016 -0800

    PHOENIX-2485 Expose number of open phoenix connections in global client metrics

 .../java/org/apache/phoenix/monitoring/PhoenixMetricsIT.java   | 10 ++++++++++
 .../main/java/org/apache/phoenix/jdbc/PhoenixConnection.java   |  4 ++++
 .../main/java/org/apache/phoenix/monitoring/AtomicMetric.java  |  5 +++++
 .../java/org/apache/phoenix/monitoring/CombinableMetric.java   |  3 +++
 .../org/apache/phoenix/monitoring/CombinableMetricImpl.java    |  5 +++++
 .../org/apache/phoenix/monitoring/GlobalClientMetrics.java     | 10 +++++++++-
 .../java/org/apache/phoenix/monitoring/GlobalMetricImpl.java   |  6 ++++++
 .../src/main/java/org/apache/phoenix/monitoring/Metric.java    |  9 +++++++--
 .../main/java/org/apache/phoenix/monitoring/MetricType.java    |  3 ++-
 .../java/org/apache/phoenix/monitoring/NonAtomicMetric.java    |  5 +++++
 10 files changed, 56 insertions(+), 4 deletions(-)

commit 79d24a8bedc1d99b04c44593c4873fda97d4804b
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 13 14:29:00 2016 -0800

    PHOENIX-2594 ScannerLeaseRenewalIT fails if HBase is running locally

 .../src/it/java/org/apache/phoenix/iterate/ScannerLeaseRenewalIT.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 90cf5730058246914e7fc616c43f2837fd499824
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 13 09:59:24 2016 -0800

    PHOENIX-2143 Use guidepost bytes instead of region name in stats primary key (Ankit Singhal)

 .../apache/phoenix/end2end/StatsCollectorIT.java   |  26 ++-
 .../StatsCollectorWithSplitsAndMultiCFIT.java      | 186 +++---------------
 .../phoenix/coprocessor/MetaDataProtocol.java      |   2 +-
 .../UngroupedAggregateRegionObserver.java          |  69 +------
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  11 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  81 +++++++-
 .../org/apache/phoenix/query/QueryConstants.java   |  16 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       |  95 +---------
 .../phoenix/schema/stats/StatisticsCollector.java  | 146 +++++---------
 .../phoenix/schema/stats/StatisticsScanner.java    |  29 +--
 .../phoenix/schema/stats/StatisticsUtil.java       | 177 ++++++++++-------
 .../phoenix/schema/stats/StatisticsWriter.java     | 209 +++++++--------------
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  35 ++--
 .../java/org/apache/phoenix/util/ScanUtil.java     |   8 +
 15 files changed, 417 insertions(+), 676 deletions(-)

commit 298a8a111813d852ccd96d30e9850bee8f699c4e
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Wed Jan 13 09:23:46 2016 -0800

    PHOENIX-2433 - support additional time units - addendum

 .../phoenix/expression/function/RoundDateExpression.java   | 14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit b4641f2cf57efe2c1359ad022883dc7f1fe33bb5
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Wed Jan 13 01:10:31 2016 -0800

    PHOENIX-2433 - support additional time units

 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  | 80 +++++++++++++++++++---
 .../apache/phoenix/expression/ExpressionType.java  | 18 +++++
 .../expression/function/CeilDateExpression.java    | 36 +++++++++-
 .../expression/function/CeilMonthExpression.java   | 44 ++++++++++++
 .../expression/function/CeilWeekExpression.java    | 44 ++++++++++++
 .../expression/function/CeilYearExpression.java    | 44 ++++++++++++
 .../expression/function/FloorDateExpression.java   | 40 +++++++++--
 .../expression/function/FloorMonthExpression.java  | 44 ++++++++++++
 .../expression/function/FloorWeekExpression.java   | 43 ++++++++++++
 .../expression/function/FloorYearExpression.java   | 44 ++++++++++++
 .../expression/function/RoundDateExpression.java   | 42 +++++++++---
 .../function/RoundJodaDateExpression.java          | 63 +++++++++++++++++
 .../expression/function/RoundMonthExpression.java  | 42 ++++++++++++
 .../function/RoundTimestampExpression.java         | 12 ++--
 .../expression/function/RoundWeekExpression.java   | 41 +++++++++++
 .../expression/function/RoundYearExpression.java   | 42 ++++++++++++
 .../phoenix/expression/function/TimeUnit.java      |  5 +-
 .../expression/RoundFloorCeilExpressionsTest.java  | 19 ++++-
 18 files changed, 668 insertions(+), 35 deletions(-)

commit 3501d14a6e991cb7f2ef7cbd6b37eed22c705b25
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 12 19:33:48 2016 -0800

    Add ignore tag for flaky Pherf test

 .../test/java/org/apache/phoenix/pherf/RuleGeneratorTest.java  | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 30c2e75556c365b059f23d43de5ac272f92aa285
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 12 17:50:34 2016 -0800

    PHOENIX-2478 Rows committed in transaction overlapping index creation are not populated

 .../org/apache/phoenix/end2end/index/IndexIT.java  |  73 ++++---
 .../java/org/apache/phoenix/tx/TransactionIT.java  |   2 -
 .../phoenix/compile/DelegateMutationPlan.java      |  70 +++++++
 .../phoenix/compile/PostIndexDDLCompiler.java      |  15 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/execute/MutationState.java  | 230 ++++++++++++++++-----
 .../phoenix/query/ConnectionQueryServicesImpl.java |  12 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  41 ++--
 .../java/org/apache/phoenix/schema/TableRef.java   |   6 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  21 +-
 pom.xml                                            |   2 +-
 11 files changed, 357 insertions(+), 116 deletions(-)

commit e4c479ab093c527e326953d101064434b8eb38cd
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 12 15:16:37 2016 -0800

    Increase timeout in IndexLoadBalancerIT

 .../org/apache/phoenix/hbase/index/balancer/IndexLoadBalancerIT.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 43d8eb1a389bdd17c0275872f53ce36cbe44b739
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 12 12:59:25 2016 -0800

    Addendum to prevent IndexLoadBalancerIT from hanging

 .../org/apache/phoenix/hbase/index/balancer/IndexLoadBalancerIT.java     | 1 -
 1 file changed, 1 deletion(-)

commit 317c603c115361db7dc4b37816f0ab96abbaf406
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 12 12:53:46 2016 -0800

    Prevent IndexLoadBalanceIT from hanging

 .../hbase/index/balancer/IndexLoadBalancerIT.java  | 65 ++++++++++------------
 1 file changed, 29 insertions(+), 36 deletions(-)

commit 836c29ff25610d76f5b47e070274dc7ea7304861
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 12 10:44:01 2016 -0800

    PHOENIX-2368 Don't close PhoenixDriver

 .../src/test/java/org/apache/phoenix/jdbc/PhoenixDriverTest.java        | 2 --
 1 file changed, 2 deletions(-)

commit 8b470f6f3d0dffb11d20e3018dca577d87db6762
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 12 09:55:42 2016 -0800

    PHOENIX-2588 Fix handling of InterruptedException

 .../end2end/{mapreduce => }/CsvBulkLoadToolIT.java |   3 +-
 .../end2end/{mapreduce => }/IndexToolIT.java       |   3 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   4 +-
 .../iterate/DelayedTableResultIteratorFactory.java |   5 +-
 .../hbase/regionserver/IndexSplitTransaction.java  |   2 +
 .../UngroupedAggregateRegionObserver.java          |   1 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 118 +++++++++++++++------
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   2 +-
 .../apache/phoenix/memory/GlobalMemoryManager.java |   1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  78 ++++++--------
 .../java/org/apache/phoenix/query/BaseTest.java    |  57 ++++++++--
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |   1 +
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |   1 +
 14 files changed, 185 insertions(+), 94 deletions(-)

commit beb5c8b99323be33b7e15ddb933a7493d9d93e94
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Tue Jan 12 09:32:47 2016 -0500

    PHOENIX-2567 phoenix-spark: DataFrame API should handle DATE columns
    
    The Spark SQL schema code treats PDate types as 'TimestampType', which
    causes a cast class exception from java.sql.Date to java.sql.Timestamp
    when using the data frame API on a Date column.
    
    This fixes the exception, though it now adheres to Spark's 'DateType'
    handling, which zeroes out the hour, minute and second field. The RDD
    API returns the full, unaltered Date. Without unintuitive type
    coercion, the DataFrame API only returns year, month, day.

 phoenix-spark/src/it/resources/setup.sql               |  2 ++
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala      | 18 ++++++++++++++++++
 .../scala/org/apache/phoenix/spark/PhoenixRDD.scala    |  4 ++--
 3 files changed, 22 insertions(+), 2 deletions(-)

commit 12d58a0758dbd280950237a797ce3937edf87c18
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 12 09:28:17 2016 -0500

    PHOENIX-2579 Columns with table alias do not work in some derived table queries

 .../java/org/apache/phoenix/end2end/DerivedTableIT.java   |  2 +-
 .../org/apache/phoenix/compile/SubselectRewriter.java     | 15 ++++++++++++++-
 2 files changed, 15 insertions(+), 2 deletions(-)

commit aea89845343ea3a5b03ecd419712bb62b38fa3f3
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jan 12 08:16:32 2016 +0530

    PHOENIX-2368 Call Driver.accept() in Driver.getConnection and return null
    if false (Ram)

 .../main/java/org/apache/phoenix/jdbc/PhoenixDriver.java   |  5 ++++-
 .../org/apache/phoenix/jdbc/PhoenixEmbeddedDriver.java     | 14 +++++++++-----
 .../java/org/apache/phoenix/jdbc/PhoenixDriverTest.java    | 12 ++++++++++++
 3 files changed, 25 insertions(+), 6 deletions(-)

commit 938bf9fcc9660cac16ac355340a00de94e1caae2
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Jan 11 16:31:13 2016 -0800

    PHOENIX-2563 Pherf's ResourceList should fail gracefully if a Jar file doesn't exist (elserj)

 .../apache/phoenix/pherf/util/ResourceList.java    |  7 +++-
 .../phoenix/pherf/util/ResourceListTest.java       | 38 ++++++++++++++++++++++
 2 files changed, 44 insertions(+), 1 deletion(-)

commit 87ce8b10429d312ae0b4d3aee995369c46c90f8d
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Jan 11 16:06:30 2016 -0800

    PHOENIX-2580 Set incremental to false for Sqlline

 bin/sqlline.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b8264a3c997adfa4799f579c301b47bef30c7a3a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Jan 11 15:43:44 2016 -0800

    Shutdown thread pool as it might be preventing JVM from shutting down

 .../java/org/apache/phoenix/end2end/index/DropIndexDuringUpsertIT.java   | 1 +
 1 file changed, 1 insertion(+)

commit 42736973bb9bc79490998d7906219ad14f1fb07d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jan 10 12:24:22 2016 -0800

    PHOENIX-2586 Pass cloned BaseResultIterators mutationState through TableResultIteratorFactory

 .../phoenix/iterate/DelayedTableResultIteratorFactory.java     | 10 +++++-----
 .../phoenix/iterate/DefaultTableResultIteratorFactory.java     |  6 +++---
 .../java/org/apache/phoenix/iterate/ParallelIterators.java     |  2 +-
 .../org/apache/phoenix/iterate/TableResultIteratorFactory.java |  4 ++--
 4 files changed, 11 insertions(+), 11 deletions(-)

commit 150a50e40c785c3b10ebd74466582cfb07f98daf
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 8 16:15:19 2016 -0800

    PHOENIX-1428 Keep scanner open on server and pace by client instead of spooling

 .../phoenix/end2end/SpooledTmpFileDeleteIT.java    | 25 ++++++++++++++----
 .../phoenix/monitoring/PhoenixMetricsIT.java       |  2 ++
 .../org/apache/phoenix/execute/AggregatePlan.java  |  7 ++++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  4 ++-
 .../java/org/apache/phoenix/util/ScanUtil.java     | 30 ++++++++++++++++------
 .../phoenix/query/QueryServicesTestImpl.java       |  2 --
 6 files changed, 53 insertions(+), 17 deletions(-)

commit 55c5be2000d7ee3042a6c971e30cff6cb0dfb301
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jan 8 14:31:21 2016 -0800

    PHOENIX-2577 Use same timestamp technique for alter table as create table

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 3 ++-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java    | 7 +++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit cc6cd9f561398c74b697322e140825973a45662a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jan 7 22:28:23 2016 -0800

    Changes to make builds stable again

 .../phoenix/{ => end2end}/mapreduce/CsvBulkLoadToolIT.java    |  3 ++-
 .../apache/phoenix/{ => end2end}/mapreduce/IndexToolIT.java   |  2 +-
 pom.xml                                                       | 11 +++++++----
 3 files changed, 10 insertions(+), 6 deletions(-)

commit 2b5863a51dc7495573cbe78f2018b1891a3d3f70
Author: Cody Marcel <cody.marcel@gmail.com>
Date:   Thu Jan 7 12:19:02 2016 -0800

    PHOENIX-2573 Pherf It test fails

 .../src/it/java/org/apache/phoenix/pherf/DataIngestIT.java   |  2 --
 .../src/it/java/org/apache/phoenix/pherf/SchemaReaderIT.java | 12 +++++++-----
 .../main/java/org/apache/phoenix/pherf/util/PhoenixUtil.java |  8 +-------
 phoenix-pherf/src/test/resources/datamodel/test_schema.sql   |  4 ++--
 4 files changed, 10 insertions(+), 16 deletions(-)

commit 3f0a7566f8ae3d58b82284cf5897f523bdb01441
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Thu Jan 7 21:52:19 2016 +0530

    PHOENIX-2364 timestamp type primary key desc error (freakyzoidberg)

 .../org/apache/phoenix/schema/types/PArrayDataType.java |  2 ++
 .../java/org/apache/phoenix/schema/types/PDataType.java |  1 +
 .../apache/phoenix/schema/types/PUnsignedDouble.java    |  1 +
 .../org/apache/phoenix/schema/types/PUnsignedFloat.java |  1 +
 .../org/apache/phoenix/schema/types/PUnsignedInt.java   |  1 +
 .../apache/phoenix/schema/types/PUnsignedSmallint.java  |  1 +
 .../test/java/org/apache/phoenix/query/OrderByTest.java | 17 +++++++++++++++++
 7 files changed, 24 insertions(+)

commit fe45d287eab8b5f897b06088d4f2e5cb058d90ff
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Thu Jan 7 09:17:57 2016 -0500

    PHOENIX-2568 phoenix-spark: client-spark JAR conflicts with some distributions

 phoenix-assembly/src/build/client-spark.xml | 13 -------------
 1 file changed, 13 deletions(-)

commit b06e0fc0c0cf256e07c7545189ae06740009375e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 6 22:22:07 2016 -0800

    PHOENIX-2578 PhoenixIndexRPCSchedulerTest isn't shutting down the thread pool

 .../org/apache/hadoop/hbase/ipc/PhoenixIndexRpcSchedulerTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0570977e130bbe851fd4389c482f110c1680c69d
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jan 6 19:05:18 2016 -0800

    Ignore failing Pherf tests until they're fixed so we can get clean test runs again

 .../org/apache/phoenix/pherf/DataIngestIT.java     |  9 +++++---
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   | 25 +++++++++++++---------
 2 files changed, 21 insertions(+), 13 deletions(-)

commit 19eab955a02655a056cdfdd20bf0c278c312f36c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 6 19:04:08 2016 -0800

    PHOENIX-2576 Mark scanner lease renewal threads as daemon threads

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java  | 1 +
 1 file changed, 1 insertion(+)

commit cb019906de005a842deb5783e914c8d6868786be
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 6 19:03:28 2016 -0800

    PHOENIX-2575 Prevent LocalIndexIT from hanging indefinitely

 .../it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java    | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit f3ea39279427802361ecaca263a7cf5e49dad3a0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 6 15:14:42 2016 -0800

    PHOENIX-2570 Start transaction manager only when needed and reduce number of threads spawned for tests

 .../org/apache/phoenix/query/QueryServices.java    |  3 ++
 .../apache/phoenix/query/QueryServicesOptions.java | 26 ++++++++++++++++++
 .../java/org/apache/phoenix/query/BaseTest.java    | 32 ++++++++++------------
 .../phoenix/query/QueryServicesTestImpl.java       | 12 +++++++-
 pom.xml                                            |  2 +-
 5 files changed, 56 insertions(+), 19 deletions(-)

commit ddf24b5a06de0f9ec2a5cfb0aad8199306906aa4
Author: Karan Singhal <karan24oct@gmail.com>
Date:   Wed Dec 23 19:10:01 2015 +0530

    PHOENIX-2299 Added support for current date generation

 .../apache/phoenix/pherf/configuration/Column.java | 10 ++++
 .../org/apache/phoenix/pherf/rules/DataValue.java  | 11 ++++
 .../apache/phoenix/pherf/rules/RulesApplier.java   | 21 ++++++-
 .../phoenix/pherf/ConfigurationParserTest.java     | 16 ++++++
 .../apache/phoenix/pherf/RuleGeneratorTest.java    | 66 ++++++++++++++++++++++
 .../src/test/resources/datamodel/test_schema.sql   |  2 +
 .../src/test/resources/scenario/test_scenario.xml  | 27 +++++++++
 7 files changed, 151 insertions(+), 2 deletions(-)

commit 9357017787cdd721f42a4448902acc20514ee7fd
Author: Karan Singhal <karan24oct@gmail.com>
Date:   Wed Dec 23 16:21:09 2015 +0530

    PHOENIX-2529 Fixed date generation pattern

 .../org/apache/phoenix/pherf/PherfConstants.java   |  5 ++-
 .../apache/phoenix/pherf/rules/RulesApplier.java   | 47 +++++++++++++++-------
 .../src/test/resources/scenario/test_scenario.xml  |  6 +--
 3 files changed, 40 insertions(+), 18 deletions(-)

commit 3f9d5a87ed37d109bc406b928f599ca5a0f04f1b
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 5 23:09:37 2016 -0800

    PHOENIX-2357 Prevent queries from failing because of scanners running into lease expiration

 .../iterate/DelayedTableResultIteratorFactory.java |  71 ++++++++
 .../iterate/MockParallelIteratorFactory.java       |   2 +-
 ...ResultIterator.java => MockResultIterator.java} |   4 +-
 .../iterate/RenewLeaseOnlyTableIterator.java       |  63 +++++++
 .../phoenix/iterate/ScannerLeaseRenewalIT.java     | 176 +++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |   2 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |   3 +-
 .../iterate/DefaultTableResultIteratorFactory.java |  35 ++++
 .../apache/phoenix/iterate/ParallelIterators.java  |  11 +-
 .../phoenix/iterate/ScanningResultIterator.java    |  19 +-
 .../apache/phoenix/iterate/SerialIterators.java    |   7 +-
 .../phoenix/iterate/TableResultIterator.java       | 147 ++++++++++------
 .../iterate/TableResultIteratorFactory.java        |  29 ++++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  42 ++++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   3 +-
 .../phoenix/query/ConnectionQueryServices.java     |   8 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 193 +++++++++++++++++++--
 .../query/ConnectionlessQueryServicesImpl.java     |  10 ++
 .../query/DelegateConnectionQueryServices.java     |  11 ++
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |  25 ++-
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   4 +-
 .../phoenix/query/ScannerLeaseRenewalTest.java     | 132 ++++++++++++++
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   1 +
 pom.xml                                            |   2 +-
 27 files changed, 913 insertions(+), 97 deletions(-)

commit 589796e1af6f7635f9772f02518abbdcc8950455
Author: Josh Elser <elserj@apache.org>
Date:   Tue Jan 5 14:05:47 2016 -0500

    PHOENIX-2569 Add missing ASL header to IndexIT.java

 .../java/org/apache/phoenix/end2end/index/IndexIT.java | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit d3288d01eb1ad4a9b9f6598bb8242295abbdd31b
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 5 12:44:39 2016 -0800

    PHOENIX-2086 CONSTRAINT_VIOLATION error code should use sqlstate 23, not 22

 .../src/main/java/org/apache/phoenix/exception/SQLExceptionCode.java | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 8d3c778a923672ae708b381ea817fa7bd44babb8
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 5 09:15:49 2016 -0500

    PHOENIX-2257 Failing integration test in DerivedTableIT (addendum)

 .../src/it/java/org/apache/phoenix/end2end/DerivedTableIT.java | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 5327e1b27a38aee719cb294a3190799b032fdcba
Merge: 07cdaa440 ab8fa5ef4
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 5 09:14:32 2016 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 07cdaa4405dd7628669b595a75af14116bb961f1
Author: maryannxue <maryann.xue@gmail.com>
Date:   Tue Jan 5 09:14:09 2016 -0500

    PHOENIX-2556 Subqueries with nested joins may not free hash cache

 .../end2end/ConnectionQueryServicesTestImpl.java   |  5 ++-
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 48 ++++++++++++++++++----
 .../org/apache/phoenix/compile/DeleteCompiler.java | 36 ++++++++--------
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 40 ++++++++++--------
 4 files changed, 85 insertions(+), 44 deletions(-)

commit ab8fa5ef436588d8f285f6e8c4bf8e79edbd71ed
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jan 5 17:48:06 2016 +0530

    PHOENIX-2039 ROUND over numeric in GROUP BY always returns null (testcase
    only)-Ram

 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 3e41fe3971ec241f64d1eafdcb06f2f45ea30317
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 4 17:29:40 2016 -0800

    PHOENIX-2559 Keep filter for OR when only some expressions are extracted to stop/stop key

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 20 ++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java | 52 ++++++++++++++++-----
 .../apache/phoenix/compile/WhereCompilerTest.java  | 54 +++++++++++++++++++++-
 3 files changed, 114 insertions(+), 12 deletions(-)

commit 74fc349066d49b2c2e4fef87a22289162c3d0e9e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 4 12:11:00 2016 -0800

    PHOENIX-2562 Change commit call to send for batched autocommit deletes

 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java        | 2 +-
 .../src/main/java/org/apache/phoenix/trace/PhoenixMetricsSink.java      | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 5c237dd8b2f9962ff45f10ee66c11a2697eb41f0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 4 08:00:47 2016 -0800

    PHOENIX-2560 PhoenixMetricsIT test failures

 .../compile/MutatingParallelIteratorFactory.java   | 18 +---------------
 .../phoenix/iterate/BaseResultIterators.java       |  3 +++
 .../phoenix/iterate/MergeSortResultIterator.java   | 25 +---------------------
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +++-
 4 files changed, 8 insertions(+), 42 deletions(-)

commit 48e589773cbf46a10a2c1bd5cf483f2390ae1160
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jan 3 17:08:31 2016 -0800

    PHOENIX-2558 Fix server-side cache memory leaks

 .../end2end/BaseTenantSpecificViewIndexIT.java     |  2 --
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 14 ++++++++++++++
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 15 +++++++++++++++
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 18 +++++++-----------
 .../org/apache/phoenix/end2end/QueryTimeoutIT.java | 14 ++++++++++++++
 .../apache/phoenix/cache/ServerCacheClient.java    | 13 ++++++++++++-
 .../org/apache/phoenix/execute/MutationState.java  | 16 +++++++++-------
 .../phoenix/iterate/BaseResultIterators.java       | 22 +++++++++++++++++++++-
 .../MaterializedComparableResultIterator.java      |  3 +++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  3 +++
 10 files changed, 98 insertions(+), 22 deletions(-)

commit 205c7b86c142bdf69661fcb06676eb09c19a25aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jan 3 15:51:40 2016 -0800

    PHOENIX-2557 Track unfree memory for server-side cache

 .../end2end/ConnectionQueryServicesTestImpl.java   |   4 +-
 .../java/org/apache/phoenix/cache/GlobalCache.java |  23 ++-
 .../java/org/apache/phoenix/cache/TenantCache.java |   4 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |  28 +++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   5 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |   7 +-
 .../coprocessor/generated/MetaDataProtos.java      | 171 ++++++++++++++++-----
 .../apache/phoenix/memory/GlobalMemoryManager.java |   6 +
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  39 +++--
 .../query/ConnectionlessQueryServicesImpl.java     |   9 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/cache/TenantCacheTest.java  | 100 ++++++++++++
 phoenix-protocol/src/main/MetaDataService.proto    |   1 +
 14 files changed, 332 insertions(+), 71 deletions(-)

commit cdc9cae73ad8f12b979154610d08fb926bb739fd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jan 2 10:28:23 2016 -0800

    Revert "PHOENIX-2552 Fix hanging Jenkins builds"
    
    This reverts commit b624fbf26615359683dfa5fd2b7919e758085d39.

 .../src/main/java/org/apache/phoenix/memory/GlobalMemoryManager.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0582d8edf834df8b27c2aa8339e8652089b343c0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 1 18:43:15 2016 -0800

    PHOENIX-2555 Fix date test that only works while it's 2015

 phoenix-core/src/it/java/org/apache/phoenix/end2end/DateTimeIT.java | 4 ----
 1 file changed, 4 deletions(-)

commit b624fbf26615359683dfa5fd2b7919e758085d39
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 1 17:23:12 2016 -0800

    PHOENIX-2552 Fix hanging Jenkins builds

 .../src/main/java/org/apache/phoenix/memory/GlobalMemoryManager.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0eed5bb5ffca7428d45e94ff36ad63511cd462f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Dec 31 09:55:38 2015 -0800

    PHOENIX-2552 Fix hanging Jenkins builds

 .../end2end/ConnectionQueryServicesTestImpl.java     | 20 ++++++++++++++++++++
 .../phoenix/iterate/ScanningResultIterator.java      | 10 +++++++---
 .../org/apache/phoenix/jdbc/PhoenixConnection.java   |  2 +-
 3 files changed, 28 insertions(+), 4 deletions(-)

commit 49b730eb705084067b5fd3d5ea1dc4066b4bcc6d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 30 21:04:12 2015 -0800

    PHOENIX-2552 Fix hanging Jenkins builds

 .../java/org/apache/phoenix/memory/GlobalMemoryManager.java | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit b55a44ac50b8ee200295624d797c83f10f4b3d8a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 30 10:43:30 2015 -0800

    PHOENIX-2549 Modify Phoenix DatabaseMetaData implementation for transaction support

 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 12 ++++--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 44 ++++++----------------
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java | 27 +++++++++++++
 4 files changed, 48 insertions(+), 36 deletions(-)

commit c3420f1313d9505940f15ddbb15753520e6c9811
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 30 09:32:53 2015 -0800

    PHOENIX-2550 Increase JDBC major/minor version for 4.7 release

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c25f0781d3bbf350f88a367930eccf7813200f14
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 30 09:19:41 2015 -0800

    PHOENIX-2551 Remove Jdbc7Shim as it's no longer necessary

 ...tingConnection.java => DelegateConnection.java} | 10 +---
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  3 +-
 .../java/org/apache/phoenix/jdbc/Jdbc7Shim.java    | 64 ----------------------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  2 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  3 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  2 +-
 8 files changed, 9 insertions(+), 79 deletions(-)

commit cab009bec9ca6a6bb55626c566a7cb6bb3adc3c3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 29 23:00:27 2015 -0800

    PHOENIX-2546 Filters should take into account that multiple versions may be scanned

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 147 +++++++++++++++++++++
 .../phoenix/filter/ColumnProjectionFilter.java     |   3 +-
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |   1 -
 .../filter/MultiCQKeyValueComparisonFilter.java    |   2 -
 .../filter/MultiKeyValueComparisonFilter.java      |  69 +++++-----
 .../phoenix/filter/RowKeyComparisonFilter.java     |  11 +-
 .../filter/SingleCFCQKeyValueComparisonFilter.java |   3 -
 .../filter/SingleCQKeyValueComparisonFilter.java   |   3 -
 .../filter/SingleKeyValueComparisonFilter.java     |  19 +--
 .../org/apache/phoenix/filter/SkipScanFilter.java  |   6 +-
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  46 +++----
 .../apache/phoenix/filter/SkipScanFilterTest.java  |   2 +-
 12 files changed, 217 insertions(+), 95 deletions(-)

commit ba77397bbf64a9fad6e231d64d10e9c56d01adc0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Dec 28 22:42:46 2015 -0800

    PHOENIX-2453 Make prepared statement creation delegate to org.apache.phoenix.jdbc.PhoenixConnection#prepareStatement(java.lang.String) (Clement Escoffier)

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  9 ++++---
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 12 ++++-----
 .../phoenix/jdbc/PhoenixPreparedStatementTest.java | 30 +++++++++++++++++++---
 3 files changed, 38 insertions(+), 13 deletions(-)

commit 5180ae074af8aa3c3f72fd00787146994261e8c2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Dec 26 23:56:59 2015 -0800

    PHOENIX-2411 Allow Phoenix to participate as transactional component

 .../java/org/apache/phoenix/tx/TransactionIT.java  | 136 +++++++++++++++++++--
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../org/apache/phoenix/execute/MutationState.java  |   9 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  56 +++++++--
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  13 +-
 .../org/apache/phoenix/query/QueryServices.java    |   9 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   6 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  53 +++++---
 8 files changed, 239 insertions(+), 45 deletions(-)

commit a9ee25ee047bc6fa2af488d02cfcd9b01c2263aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Dec 26 23:47:31 2015 -0800

    PHOENIX-2545 Abort transaction if send fails during commit

 .../org/apache/phoenix/end2end/CreateTableIT.java  |  28 +++
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |   2 +-
 .../apache/phoenix/execute/PartialCommitIT.java    |  44 +++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  13 +-
 .../org/apache/phoenix/execute/MutationState.java  | 216 +++++++++++++--------
 .../phoenix/index/PhoenixTransactionalIndexer.java |  14 +-
 6 files changed, 204 insertions(+), 113 deletions(-)

commit 943cc530e2f95ef251a2b2a8e4f35020ba9e639d
Author: ravimagham <ravi.magham@bazaarvoice.com>
Date:   Tue Dec 29 10:14:57 2015 -0800

    PHOENIX-2538 - CsvBulkLoadTool should return non-zero exit status if import fails

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       | 65 +++++++++++++++---
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 80 ++++++++++------------
 2 files changed, 94 insertions(+), 51 deletions(-)

commit a7fb222555be601b0f3e2bd10a4185c487e1e32d
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Mon Dec 28 13:12:21 2015 +0530

    PHOENIX-2475 Date arithmetic broken for time and timestamp (Ram)

 .../end2end/ClientTimeArithmeticQueryIT.java       | 169 +++++++++++++++++++++
 .../phoenix/expression/DateAddExpression.java      |   2 +-
 .../phoenix/expression/DateSubtractExpression.java |   2 +-
 .../phoenix/expression/TimestampAddExpression.java |   2 +-
 .../expression/TimestampSubtractExpression.java    |   2 +-
 5 files changed, 173 insertions(+), 4 deletions(-)

commit 230c966bd53cd0a91c4f91528e62c2560410757f
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Dec 15 12:21:59 2015 -0800

    PHOENIX-2525 Views on transactional tables return no rows

 .../org/apache/phoenix/end2end/BaseViewIT.java     |  62 +++++++--
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |   8 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 145 ++++++++++++---------
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java |   2 +-
 .../java/org/apache/phoenix/tx/TransactionIT.java  |  31 +++++
 .../phoenix/compile/CreateTableCompiler.java       |   4 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  |   2 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  13 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   6 +
 10 files changed, 189 insertions(+), 86 deletions(-)

commit 69bd32f0def442bd1a660affcc2198acabda4793
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Dec 22 15:19:39 2015 -0800

    PHOENIX-2528 Pherf JVM doesn't exit due to un-closed ThreadPool (elserj)

 .../src/main/java/org/apache/phoenix/pherf/Pherf.java  | 18 ++++++++++--------
 .../org/apache/phoenix/pherf/util/ResourceList.java    |  3 ++-
 .../apache/phoenix/pherf/workload/WriteWorkload.java   |  1 +
 3 files changed, 13 insertions(+), 9 deletions(-)

commit c0d7a9fee1a54eb20a870447e385e42cd6a4d81e
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Dec 4 16:04:25 2015 -0800

    PHOENIX-2492 Expose PhoenixRecordWritable outside of spark

 .../phoenix/mapreduce/PhoenixRecordWritable.java   | 192 +++++++++++++++++++++
 1 file changed, 192 insertions(+)

commit 05ff5618d4e630ed5e5c8160a3dc4628c0b7f5d6
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Dec 22 12:08:40 2015 -0800

    PHOENIX-2430 Update stats table asynchronously

 .../StatisticsCollectionRunTrackerIT.java          | 170 +++++++++++
 .../java/org/apache/phoenix/cache/GlobalCache.java |   6 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   3 +-
 .../UngroupedAggregateRegionObserver.java          | 324 +++++++++++++++------
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  17 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |   8 +-
 .../stats/StatisticsCollectionRunTracker.java      | 130 +++++++++
 .../phoenix/schema/stats/StatisticsCollector.java  |   8 +-
 .../phoenix/schema/stats/StatisticsScanner.java    | 115 +++++---
 .../phoenix/schema/stats/StatisticsWriter.java     |   3 -
 .../phoenix/query/QueryServicesTestImpl.java       |   6 +-
 12 files changed, 654 insertions(+), 139 deletions(-)

commit 1c3e9495d0e04d30719679907511cac21e81363c
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Mon Dec 21 10:30:36 2015 -0500

    PHOENIX-2503 Multiple Java NoClass/Method Errors with Spark and Phoenix
    
    The calcite dependency in the regular client JAR is pulling in a version
    of com.fasterxml.jackson which is incompatible with the Spark runtime.
    
    This patch creates a new assembly artifact, client-spark, which attempts
    to include only the client JARs necessary for the Spark integration to
    work.
    
    Also made sure the Phoenix driver is explicitly registered in the PhoenixRDD

 phoenix-assembly/pom.xml                           | 17 +++++
 phoenix-assembly/src/build/client-spark.xml        | 87 ++++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |  6 ++
 3 files changed, 110 insertions(+)

commit 83344f1c5181027a8b6d033cd86af480e2574c4e
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Mon Dec 21 13:35:40 2015 +0530

    PHOENIX-1312 Do not always project the empty column family (Ram)

 .../apache/phoenix/end2end/MultiCfQueryExecIT.java | 69 +++++++++++++++++-
 .../apache/phoenix/compile/ProjectionCompiler.java | 16 +++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  2 +-
 .../org/apache/phoenix/compile/RowProjector.java   | 18 +++--
 .../apache/phoenix/compile/StatementContext.java   |  2 +-
 .../phoenix/iterate/BaseResultIterators.java       | 84 ++++++++++++++--------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 33 ++++++++-
 .../java/org/apache/phoenix/util/TestUtil.java     | 12 ++--
 8 files changed, 179 insertions(+), 57 deletions(-)

commit 5d485faefcfdb6ce567941385c1f79b679e67933
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Dec 21 08:06:04 2015 +0530

    PHOENIX-2470 Skip overlapped scan left after StaleRegionBoundaryCacheException(Ankit Singhal)

 .../phoenix/iterate/BaseResultIterators.java       | 42 +++++++++++++++++++---
 1 file changed, 37 insertions(+), 5 deletions(-)

commit b2a066fb3f826de526633b6c0be2f4add98df0b4
Author: Siddhi <smehta@salesforce.com>
Date:   Tue Dec 15 16:05:11 2015 -0800

    PHOENIX-2367 : Change Phoenix Record Writer to use excecute instead of executeBatch()

 .../main/java/org/apache/phoenix/mapreduce/PhoenixRecordWriter.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 135b978aea1bb5cf0053698583a2002e4452e5b0
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Dec 18 14:29:00 2015 -0800

    PHOENIX-2524 Fixes for pherf to run with queryserver (elserj)

 .../src/build/components/all-common-jars.xml       |  8 +++
 .../main/java/org/apache/phoenix/pherf/Pherf.java  | 19 +++++++-
 .../apache/phoenix/pherf/result/ResultUtil.java    | 13 ++++-
 .../apache/phoenix/pherf/result/file/Header.java   |  1 +
 .../pherf/result/file/ResultFileDetails.java       |  1 +
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 57 +++++++++++++++++-----
 .../phoenix/pherf/workload/WriteWorkload.java      | 33 ++++++++-----
 7 files changed, 105 insertions(+), 27 deletions(-)

commit b38989dc7008e1f7568bb0146f669d95f0ca62bb
Author: Enis Soztutar <enis@apache.org>
Date:   Wed Dec 16 14:15:03 2015 -0800

    PHOENIX-2527 InsufficientMemoryException error message is misleading

 .../apache/phoenix/memory/GlobalMemoryManager.java   | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit 2685d54649341dfe060b77c5678541e0ab32805b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 16 09:22:25 2015 -0800

    PHOENIX-2533 Phoenix compilation fails as ZKUtil.applyClusterKeyToConf method is removed (Ravi Kishore Valeti)

 .../mapreduce/index/DirectHTableWriter.java        | 38 ++--------------------
 1 file changed, 2 insertions(+), 36 deletions(-)

commit de37a9a6b73b0d565b775f9e224a8843be417b02
Author: Josh Elser <elserj@apache.org>
Date:   Tue Dec 15 17:01:57 2015 -0500

    PHOENIX-2531 Explicitly list java.sql.Driver file to fix thin-client jar
    
    The file with the same name was being included in the final artifact
    from including the Avatica jar in this jar. If we specify the file
    explicitly, we can be sure that it will be the file contained in
    the jar.

 phoenix-server-client/src/build/thin-client.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 6b85406cb098632259fb45add562d3ced282cfcf
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Dec 15 14:06:14 2015 -0800

    PHOENIX-2510 ReserveNSequence opens new connection per invocation (Siddhi Mehta)

 .../java/org/apache/phoenix/pig/udf/ReserveNSequenceTestIT.java  | 2 ++
 .../main/java/org/apache/phoenix/pig/udf/ReserveNSequence.java   | 9 ---------
 2 files changed, 2 insertions(+), 9 deletions(-)

commit e6eb77121c0f543b9daf0dada6f53ea1d2518a30
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Dec 11 12:41:49 2015 -0800

    PHOENIX-2517 Bulk load tools should support multiple input files

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       | 41 ++++++++++++++++++++++
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 16 ++++-----
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |  2 +-
 3 files changed, 50 insertions(+), 9 deletions(-)

commit 09360c4e4f668a0692b3dfd75b9610c593fe58e7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Dec 14 11:39:14 2015 -0800

    PHOENIX-2332 Revert ignoring entire test as builds still fail

 .../it/java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 1 -
 1 file changed, 1 deletion(-)

commit fbd19baa7fe85c2a64d3d47d8e461b327b765e09
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Dec 13 17:12:20 2015 -0800

    PHOENIX-2505 Unexpected error caused by GROUP BY

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 49 ++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit e6ae7465ace8ccf281c175b8e44d105f5072d485
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Dec 13 14:32:29 2015 -0800

    PHOENIX-2455 Partial results for a query when PHOENIX-2194 is applied

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 31 ++++++++++
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  3 +-
 .../java/org/apache/phoenix/query/KeyRange.java    | 48 +++++++++++-----
 .../java/org/apache/phoenix/util/ScanUtil.java     |  2 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  | 66 ++++++++++++++--------
 5 files changed, 108 insertions(+), 42 deletions(-)

commit 470b7dd8f8d709a175d8606251efb4e7be3a59f5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Dec 13 14:31:00 2015 -0800

    PHOENIX-2519 Prevent RPC for SYSTEM tables when querying

 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 46 +++++++++++++++++-----
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   |  2 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 12 +++++-
 3 files changed, 47 insertions(+), 13 deletions(-)

commit e8a7feedb260bbb4c5abc88ab5e3325f98176ee9
Author: Bruno Dumon <bruno@ngdata.com>
Date:   Sun Dec 13 16:04:07 2015 +0100

    PHOENIX-2434 Improve booleans in CSV import
    
    Do not automatically treat any unrecognized input as being false,
    but instead fail on it.
    
    Also, recognize 1/0 and t/f as true/false.

 .../org/apache/phoenix/util/csv/CsvUpsertExecutor.java | 15 +++++++++++++++
 .../phoenix/util/AbstractUpsertExecutorTest.java       | 18 +++++++++++++-----
 .../apache/phoenix/util/csv/CsvUpsertExecutorTest.java | 17 +++++++++++++++--
 3 files changed, 43 insertions(+), 7 deletions(-)

commit afa9dee2be618cca8bd43a11311aea2062fa551c
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Dec 11 13:50:47 2015 +0100

    PHOENIX-2515 Fix error if Hadoop not installed
    
    Don't log an error in bin scripts when looking for the
    Hadoop classpath if Hadoop isn't installed.

 bin/phoenix_utils.py | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit 6d68a511ff5aa2bbfd25cc5eae3ccca2002c4f70
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Dec 11 13:21:41 2015 +0100

    PHOENIX-2484 Exclude logback impl from Tephra
    
    Exclude the logback dependency that is pulled in by Tephra,
    allowing Tephra's SLF4J logging to be delegated into log4j,
    and having everything configured via a single log4j.properties
    config.

 phoenix-core/pom.xml   |  4 ----
 phoenix-flume/pom.xml  |  1 -
 phoenix-pherf/pom.xml  |  9 ++++-----
 phoenix-pig/pom.xml    |  1 -
 phoenix-server/pom.xml |  1 -
 phoenix-spark/pom.xml  |  1 -
 pom.xml                | 44 ++++++++++++++++++++++++++++++++++++++++++++
 7 files changed, 48 insertions(+), 13 deletions(-)

commit a2f679be05e2b98449acf0834c693fcd1311fc04
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Dec 12 11:10:31 2015 -0800

    PHOENIX-2332 Fix timing out of MutableIndexFailureIT.testWriteFailureDisablesIndex()

 .../it/java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 1 +
 1 file changed, 1 insertion(+)

commit 4b3a85f3fbed1672c4aa2118302af800fba61cca
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sun Dec 13 00:33:56 2015 +0530

    PHOENIX-2249 SYSTEM.STATS not update after region merge occurs.(Ankit Singhal)

 .../UngroupedAggregateRegionObserver.java          | 31 ++++++++++++++--------
 .../phoenix/schema/stats/StatisticsCollector.java  | 12 +++++----
 .../phoenix/schema/stats/StatisticsScanner.java    | 28 +++++++++++++++----
 3 files changed, 50 insertions(+), 21 deletions(-)

commit 5c5cbf78360085d23054840fc4205801775dd4db
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Dec 12 00:18:26 2015 -0800

    PHOENIX-2332 Fix timing out of MutableIndexFailureIT.testWriteFailureDisablesIndex()

 .../end2end/index/MutableIndexFailureIT.java       | 265 +++++++++++----------
 1 file changed, 134 insertions(+), 131 deletions(-)

commit c05f96687c0834f2f1308a5e2c00e6ad9135a0fa
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Dec 11 16:41:40 2015 -0800

    PHOENIX-2315 Group by fields of primary key columns together with non-primary key columns can give wrong result

 .../org/apache/phoenix/end2end/GroupByCaseIT.java  | 111 +++++++++------------
 .../apache/phoenix/schema/RowKeyValueAccessor.java |   7 +-
 2 files changed, 54 insertions(+), 64 deletions(-)

commit 466e3493ef4984dffa6c9f05fdefc260e56093c7
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Dec 11 16:44:07 2015 -0800

    PHOENIX-2332 Fix flapping MutableIndexFailureIT.testWriteFailureDisablesIndex()

 .../org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 9 +++------
 1 file changed, 3 insertions(+), 6 deletions(-)

commit 9fbc8c4ff9b92e77fc8dfa210d30eaa41fd8ded8
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Dec 11 14:34:33 2015 -0800

    PHOENIX-2518 IndexMaintainer does not populate indexedColumnTypes correctly

 .../org/apache/phoenix/index/IndexMaintainer.java  |  5 +++--
 .../apache/phoenix/index/IndexMaintainerTest.java  | 26 ++++++++++++++++++++++
 2 files changed, 29 insertions(+), 2 deletions(-)

commit e99d2ed74905c4445aca25298551daaa86aca7d9
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Dec 10 15:52:58 2015 -0800

    PHOENIX-2497 Disallow usage of ROW_TIMESTAMP with transactional tables

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  2 ++
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 24 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 14 +++++++++++++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  4 ++++
 5 files changed, 46 insertions(+)

commit f79005a76e321622cc1a5a138ca8bba53f75e39b
Author: Samarth <samarth@apache.org>
Date:   Thu Dec 10 14:44:26 2015 -0800

    PHOENIX-2447 Phoenix throwing exception when requesting data from hbase when the table is being split (Alicia Ying Shu)

 .../phoenix/iterate/BaseResultIterators.java       | 37 +++++++++-------------
 1 file changed, 15 insertions(+), 22 deletions(-)

commit f244feb4261d0edd19992f0d7f04a3a58615e479
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Dec 9 16:51:18 2015 -0800

    PHOENIX-2495 Fix test failures in CsvBulkLoadToolIT

 .../it/java/org/apache/phoenix/mapreduce/CsvBulkLoadToolIT.java    | 2 +-
 .../java/org/apache/phoenix/mapreduce/CsvToKeyValueMapper.java     | 1 +
 .../java/org/apache/phoenix/mapreduce/FormatToKeyValueMapper.java  | 7 ++++++-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 24a94a25717f865ef382c88ad8986c62c2599f57
Author: Samarth <samarth@apache.org>
Date:   Wed Dec 9 16:35:28 2015 -0800

    PHOENIX-2506 UPDATE STATS could end up updating incomplete/incorrect stats in case of failures

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java      | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit c2a1f7445f3882464a58d07cb9fd15a914e13d36
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Wed Dec 9 09:43:01 2015 +0530

    PHOENIX-1949 NPE while inserting NULL in a VARCHAR array using UPSERT stmt
    (Ram)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 27 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/types/PChar.java     |  6 ++---
 .../org/apache/phoenix/schema/types/PVarchar.java  |  6 ++---
 3 files changed, 33 insertions(+), 6 deletions(-)

commit bf06617754ac408279a1359cc660239fbab05ad5
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Dec 8 16:51:26 2015 -0800

    PHOENIX-2494 Fix test failure AlterTableWithViewsIT.testMakeBaseTableTransactional

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java   | 1 -
 1 file changed, 1 deletion(-)

commit b74215f822e38dfb7eb2d40bed1a6c82be8ae2f2
Author: Josh Elser <elserj@apache.org>
Date:   Tue Dec 8 10:59:38 2015 -0500

    PHOENIX-2496 Attempt to gracefully close in ShutdownHook, but still exit promptly.
    
    The JVM will not exit until all ShutdownHooks have completed.
    Blocking until a query thread completes might be on the order
    of minutes which is undesirable. Try to clean up, but exit quickly.
    
    Introduces configuration property 'phoenix.shutdown.timeoutMs'
    with a default value of 5000 (5 seconds).

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 43 +++++++++++++++++++++-
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 3 files changed, 44 insertions(+), 1 deletion(-)

commit 578979a1437124d53e319ad554b72793bcef6fd3
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon Nov 16 17:18:34 2015 -0800

    PHOENIX-2481 JSON bulkload tool

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  16 +-
 .../phoenix/mapreduce/AbstractBulkLoadTool.java    | 402 ++++++++++++++++
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |  20 +-
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 514 +--------------------
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     | 226 +--------
 .../phoenix/mapreduce/FormatToKeyValueMapper.java  | 259 +++++++++++
 ...ueReducer.java => FormatToKeyValueReducer.java} |  31 +-
 .../ImportPreUpsertKeyValueProcessor.java          |   3 +-
 .../apache/phoenix/mapreduce/JsonBulkLoadTool.java |  53 +++
 .../phoenix/mapreduce/JsonToKeyValueMapper.java    |  75 +++
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  |  38 +-
 ...svTableRowkeyPair.java => TableRowkeyPair.java} |  27 +-
 .../phoenix/mapreduce/bulkload/TargetTableRef.java |  70 +++
 .../bulkload/TargetTableRefFunctions.java          |  95 ++++
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  15 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  | 160 +------
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 145 +++++-
 .../org/apache/phoenix/util/UpsertExecutor.java    | 156 +++++++
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java | 131 +-----
 .../phoenix/util/json/JsonUpsertExecutor.java      | 209 +++++++++
 .../phoenix/util/json/ObjectToArrayConverter.java  |  69 +++
 ...BulkLoadToolTest.java => BulkLoadToolTest.java} |  23 +-
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |  18 +-
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java |  84 +---
 .../mapreduce/FormatToKeyValueMapperTest.java      | 102 ++++
 .../phoenix/util/AbstractUpsertExecutorTest.java   | 136 ++++++
 .../phoenix/util/csv/CsvUpsertExecutorTest.java    | 144 ++----
 .../phoenix/util/json/JsonUpsertExecutorTest.java  |  53 +++
 28 files changed, 1998 insertions(+), 1276 deletions(-)

commit 8ce3b580fb14f23a49b3e2c47ab2628e140ae2da
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Dec 4 13:48:48 2015 -0800

    PHOENIX-2490 Exception while running update statistics on transactional table

 .../apache/phoenix/end2end/StatsCollectorIT.java   | 33 +++++++++++++++-------
 .../apache/phoenix/compile/PostDDLCompiler.java    |  3 +-
 2 files changed, 25 insertions(+), 11 deletions(-)

commit 93acc2788049b12ecda4b962dfdde9f0b6ed4fed
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Dec 4 12:09:04 2015 -0800

    PHOENIX-2356 Set TRANSACTIONAL to true for derived views when transitioning to transactional table

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 48 +++++++++++++++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 43 +++++++++++--------
 2 files changed, 73 insertions(+), 18 deletions(-)

commit a8238f9bcfd0c091d521f72fa224ba147b0acad3
Author: Josh Elser <elserj@apache.org>
Date:   Mon Nov 23 19:04:56 2015 -0500

    PHOENIX-2448 Fix quoting for sqlline-thin.py on Windows.
    
    Also fix the use of "hbase" instead of "hbase.cmd" on Windows.

 bin/sqlline-thin.py | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 9478d1f2b4faef9f698c0c7ffa6654f67b8253e5
Author: Enis Soztutar <enis@apache.org>
Date:   Thu Dec 3 19:21:46 2015 -0800

    PHOENIX-2477 ClassCastException in IndexedWALEditCodec after HBASE-14501 (possible dataloss)

 .../regionserver/wal/IndexedWALEditCodec.java      | 56 ++++++++++++++++++----
 1 file changed, 46 insertions(+), 10 deletions(-)

commit 1c2b9b0e70876862f6be96749cdc8e1522a025fc
Merge: bc9974ba1 26a6f8812
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Dec 2 21:12:29 2015 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit bc9974ba1c4cf3fd7b3cba9f4120b0a4b4c81610
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Dec 2 21:11:44 2015 -0500

    PHOENIX-2480 SQL Query with multiple projection selections over multiple tables having LEFT OUTER JOINS returns completely null for random columns even when data is present

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 608 +-----------------
 .../org/apache/phoenix/end2end/HashJoinMoreIT.java | 678 +++++++++++++++++++++
 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 262 --------
 .../phoenix/end2end/SortMergeJoinMoreIT.java       | 314 ++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  |  19 +-
 5 files changed, 1005 insertions(+), 876 deletions(-)

commit 26a6f8812d2deb34b47f32a219c9f7b788bdd8d2
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Dec 2 17:40:12 2015 -0800

    Refactoring tests that start the txn manager to use BaseOwnClusterIT

 .../java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 30ef0cc5d3a86002af45b5fb0a7345c31225cc9b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 2 15:08:10 2015 -0800

    PHOENIX-2468 Add dynamic column to track asynchronous index creation date

 .../phoenix/end2end/index/IndexMetadataIT.java     | 40 ++++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  2 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 30 +++++++++++++---
 3 files changed, 67 insertions(+), 5 deletions(-)

commit 0701e06d48a90c372a073d6aac2c3259e5500bb6
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Dec 1 13:58:49 2015 -0800

    PHOENIX-2458 Refactoring tests that start the txn manager to use BaseOwnClusterIT

 .../end2end/index/MutableIndexFailureIT.java       | 92 +++++-----------------
 .../end2end/index/txn/TxWriteFailureIT.java        | 49 +++---------
 .../apache/phoenix/execute/PartialCommitIT.java    | 41 +++-------
 .../org/apache/phoenix/rpc/PhoenixClientRpcIT.java |  1 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  7 ++
 5 files changed, 55 insertions(+), 135 deletions(-)

commit 6aa4cc61a50976c2406e3c0a53b0ecd6d69496e4
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Dec 1 11:10:54 2015 -0800

    PHOENIX-2472 Modify pom to include tephra dependencies in server jar

 bin/tephra                                         |  0
 phoenix-assembly/src/build/server-with-txns.xml    | 48 ----------------------
 .../src/build/server-without-antlr.xml             | 46 ---------------------
 phoenix-assembly/src/build/server.xml              |  4 ++
 4 files changed, 4 insertions(+), 94 deletions(-)

commit b8faae52c6bee91393678e74de09ab8a215da856
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Wed Dec 2 09:17:11 2015 -0500

    PHOENIX-2469 Problem with arrays in phoenix-spark (Dawid Wysakowicz)

 phoenix-spark/pom.xml                              |   2 +-
 phoenix-spark/src/it/resources/setup.sql           |   7 ++
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 112 +++++++++++++++++++--
 .../phoenix/spark/PhoenixRecordWritable.scala      |  45 ++++++---
 4 files changed, 145 insertions(+), 21 deletions(-)

commit 00ee9415a95668c34e95b43003354fc898f6b4ea
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 1 18:56:35 2015 -0800

    PHOENIX-2402 NPE when using UPSERT SELECT with a char array (Julian Jaffe)

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 55 ++++++++++++++++++++++
 .../apache/phoenix/compile/ProjectionCompiler.java |  4 +-
 .../phoenix/expression/CoerceExpression.java       |  8 +++-
 3 files changed, 64 insertions(+), 3 deletions(-)

commit 49be33e71b592e330f1304cfa20bbffc8bd18637
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 1 13:30:43 2015 -0800

    PHOENIX-2471 Move update meta data call prior to getting index maintainer

 .../org/apache/phoenix/end2end/index/IndexIT.java  | 85 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  | 14 ++--
 2 files changed, 92 insertions(+), 7 deletions(-)

commit 15ab697fa0958424a165862de411a8253e184270
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 30 20:07:43 2015 -0800

    PHOENIX-2374 Honor PTable.isWALDisabled() for row deletes

 .../java/org/apache/phoenix/schema/PTableImpl.java | 17 +++--
 .../org/apache/phoenix/schema/MutationTest.java    | 74 ++++++++++++++++++++++
 2 files changed, 84 insertions(+), 7 deletions(-)

commit d4a4376eb8daec8007a6cc257fdfeeee778762cf
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 30 14:21:16 2015 -0800

    PHOENIX-2466 Correct warning on maven-dependency-plugin in phoenix-core (Gabor Liptak)

 phoenix-core/pom.xml | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 21e7c7dd20f19e3f2d30387d472940983bf50d02
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 30 14:10:34 2015 -0800

    PHOENIX-2465 Upgrade ANTLR version to correct generation (Gabor Liptak)

 phoenix-core/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf7187c63c84bdb7d59c47f5625a94a14322a133
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 30 11:58:21 2015 -0800

    PHOENIX-2461 Reverting Tweak shutdown of ConnectionQueryService during testing

 .../apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java  | 9 +--------
 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 3 +--
 2 files changed, 2 insertions(+), 10 deletions(-)

commit 3eb17d43fb996c034acb317395f5dd34e2a88c4c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 30 10:13:54 2015 -0800

    PHOENIX-2461 Tweak shutdown of ConnectionQueryService during testing

 .../org/apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 783ee1c7657b669c2bbb340e1f4e7ce402a26776
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Nov 30 11:30:04 2015 -0500

    PHOENIX-2462 Add tephra test dependency to spark module

 phoenix-spark/pom.xml                                              | 7 +++++++
 .../src/it/scala/org/apache/phoenix/spark/PhoenixSparkIT.scala     | 6 +++++-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit d60713e96f2c63b2a20551b7b1e2c05791882706
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Nov 29 18:30:37 2015 -0800

    Revert "PHOENIX-2462 Add tephra test dependency to spark module"
    
    This reverts commit 0e45e24581e592a21745cf07b8c7620bbd1f3263.

 phoenix-spark/pom.xml | 7 -------
 1 file changed, 7 deletions(-)

commit 0e45e24581e592a21745cf07b8c7620bbd1f3263
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Nov 29 16:09:53 2015 -0800

    PHOENIX-2462 Add tephra test dependency to spark module

 phoenix-spark/pom.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit f237982bfc0fd04c82e5aa2f340659ebdca2619e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Nov 29 14:05:37 2015 -0800

    PHOENIX-2461 Tweak shutdown of ConnectionQueryService during testing

 .../src/test/java/org/apache/phoenix/jdbc/PhoenixTestDriver.java     | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 33ed7d9f0c59d53d7d8666642d18eb38b2d9f7b1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Nov 29 12:12:43 2015 -0800

    PHOENIX-2461 Tweak shutdown of ConnectionQueryService during testing

 .../phoenix/end2end/ConnectionQueryServicesTestImpl.java       | 10 ++++++++--
 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java  |  3 ++-
 .../test/java/org/apache/phoenix/jdbc/PhoenixTestDriver.java   |  2 +-
 3 files changed, 11 insertions(+), 4 deletions(-)

commit 07ede93b6b3ad2b0dd90c83e722395b329ce8427
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Sat Nov 28 21:40:25 2015 -0800

    PHOENIX-2459 Add tephra test dependency to pherf module

 phoenix-pherf/pom.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit b2676cbe1e8ee08a69da6328ebc9aa93abc4499e
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Sat Nov 28 20:09:43 2015 -0800

    PHOENIX-2458 MutableIndexFailureIT causes other NeedsOwnMiniClusterTest tests to hang

 .../it/java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 1 +
 1 file changed, 1 insertion(+)

commit 3bfa38dd992836d81d44f2c5676dd3a216f8d788
Merge: 7b2e1b149 cab39d721
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Nov 25 14:01:16 2015 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 7b2e1b1493c1fe2bbcf8d2c8b5de6ba1447f7ec3
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Nov 25 14:00:40 2015 -0500

    PHOENIX-2444 Expansion of derived table query works incorrectly with aggregate over order by

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 25 +++++++++++++++++
 .../apache/phoenix/compile/SubselectRewriter.java  | 31 ++++++++++++----------
 2 files changed, 42 insertions(+), 14 deletions(-)

commit cab39d72171ff76397661fec93d55da7420352fb
Author: Enis Soztutar <enis@apache.org>
Date:   Wed Nov 25 10:55:00 2015 -0800

    PHOENIX-2449 QueryServer needs Hadoop configuration on classpath with Kerberos(Josh Elser)

 bin/phoenix_utils.py | 15 +++++++++++++--
 bin/queryserver.py   |  4 +++-
 2 files changed, 16 insertions(+), 3 deletions(-)

commit 1b5e7fd71f3709f760b008f7e458c124c2868594
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 24 23:19:10 2015 -0800

    PHOENIX-2441 Addendum to not require transaction manager to be run

 .../src/it/java/org/apache/phoenix/rpc/UpdateCacheIT.java | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 104af256a0e92f2bab3f99df71fdef92cc0e1159
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 24 21:25:25 2015 -0800

    PHOENIX-2441 Addendum to not require transaction manager to be run

 .../apache/phoenix/tx/TxPointInTimeQueryIT.java    | 62 ----------------------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 22 +++++++-
 2 files changed, 20 insertions(+), 64 deletions(-)

commit b621c7fdc9ca29acfd41bb206ace679eb67ed7bd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 24 20:36:31 2015 -0800

    PHOENIX-2451 Use ReadOnlyProps instead of Configuration in ConnectionQueryServicesImpl

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java    | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit dec2ad98244e519c282f9ee49741762172b2b5e0
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Nov 24 16:34:06 2015 -0800

    PHOENIX-2441 Do not require transaction manager to be run

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 26 ++++++++++++++++++++++
 .../phoenix/end2end/index/ImmutableIndexIT.java    | 15 +++++++++++++
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 15 +++++++++++++
 .../end2end/index/MutableIndexFailureIT.java       |  7 +++++-
 .../phoenix/end2end/index/MutableIndexIT.java      | 14 ++++++++++++
 .../end2end/index/txn/MutableRollbackIT.java       |  3 ++-
 .../phoenix/end2end/index/txn/RollbackIT.java      |  3 ++-
 .../end2end/index/txn/TxWriteFailureIT.java        |  5 +++--
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 14 ++++++++++++
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java |  5 +++--
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 ++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  8 ++++++-
 .../org/apache/phoenix/query/QueryServices.java    |  3 ++-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 23 +++++++++++++++++--
 15 files changed, 134 insertions(+), 11 deletions(-)

commit c98de94f8004566d838de53fb7bc6c150c08e837
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 24 11:32:17 2015 -0800

    PHOENIX-2450 Cleanup API for determining if non transactional mutable secondary index configured properly

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 26 +++++++++++-----------
 .../query/ConnectionlessQueryServicesImpl.java     |  2 +-
 .../query/DelegateConnectionQueryServices.java     |  4 ++--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  8 +++----
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  4 ++--
 7 files changed, 24 insertions(+), 24 deletions(-)

commit cc9929b5c54eb979294df70929aa6eb781748b46
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Nov 23 21:24:01 2015 -0800

    PHOENIX-1674 Snapshot isolation transaction support through Tephra (James Taylor, Thomas D'Silva)

 bin/tephra                                         | 310 +++++++
 bin/tephra-env.sh                                  |  55 ++
 phoenix-assembly/src/build/client.xml              |   4 +
 phoenix-assembly/src/build/server-with-txns.xml    |  48 ++
 .../src/build/server-without-antlr.xml             |  46 +
 phoenix-assembly/src/build/server.xml              |  10 +-
 phoenix-core/pom.xml                               |  24 +
 .../end2end/ConnectionQueryServicesTestImpl.java   |   4 +-
 .../StatsCollectorWithSplitsAndMultiCFIT.java      |  10 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  24 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   |   5 +-
 .../org/apache/phoenix/end2end/index/IndexIT.java  | 112 +--
 .../end2end/index/MutableIndexFailureIT.java       | 490 ++++++-----
 .../phoenix/end2end/index/MutableIndexIT.java      |  68 +-
 .../end2end/index/txn/MutableRollbackIT.java       | 510 +++++++++++
 .../phoenix/end2end/index/txn/RollbackIT.java      | 167 ++++
 .../end2end/index/txn/TxWriteFailureIT.java        | 214 +++++
 .../apache/phoenix/execute/PartialCommitIT.java    | 149 ++--
 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 108 +--
 .../apache/phoenix/rpc/UpdateCacheWithScnIT.java   |  41 +
 .../java/org/apache/phoenix/tx/TransactionIT.java  | 537 ++++++++++++
 .../java/org/apache/phoenix/tx/TxCheckpointIT.java | 378 +++++++++
 .../apache/phoenix/tx/TxPointInTimeQueryIT.java    |  62 ++
 .../apache/phoenix/cache/IndexMetaDataCache.java   |   9 +
 .../apache/phoenix/cache/ServerCacheClient.java    |   4 +-
 .../java/org/apache/phoenix/cache/TenantCache.java |   2 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |  13 +-
 .../phoenix/compile/CreateTableCompiler.java       |   4 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  16 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   9 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |  10 +-
 .../apache/phoenix/compile/StatementContext.java   |   3 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  13 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   9 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  21 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   6 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |  12 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |   8 +-
 .../phoenix/coprocessor/ServerCachingProtocol.java |   5 +-
 .../UngroupedAggregateRegionObserver.java          |   6 +
 .../coprocessor/generated/PTableProtos.java        | 103 ++-
 .../coprocessor/generated/ServerCachingProtos.java | 120 ++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  17 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  40 +-
 .../org/apache/phoenix/execute/DelegateHTable.java | 300 +++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  27 +-
 .../org/apache/phoenix/execute/MutationState.java  | 932 ++++++++++++++++-----
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   4 +-
 .../phoenix/index/IndexMetaDataCacheClient.java    |  12 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |  19 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   2 +-
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  13 +
 .../phoenix/index/PhoenixTransactionalIndexer.java | 505 +++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |   5 +
 .../phoenix/iterate/ChunkedResultIterator.java     |  25 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   2 +-
 .../apache/phoenix/iterate/SerialIterators.java    |   2 +-
 .../phoenix/iterate/TableResultIterator.java       |  28 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  77 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   2 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   4 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  15 +-
 .../org/apache/phoenix/join/HashCacheClient.java   |   3 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |   2 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   2 +-
 .../index/PhoenixIndexImportDirectMapper.java      |   2 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |  15 +-
 .../phoenix/query/ConnectionQueryServices.java     |   6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 621 +++++++++++---
 .../query/ConnectionlessQueryServicesImpl.java     |  58 +-
 .../query/DelegateConnectionQueryServices.java     |  27 +-
 .../org/apache/phoenix/query/MetaDataMutated.java  |   7 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  23 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |   5 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 376 ++++++---
 .../java/org/apache/phoenix/schema/PMetaData.java  |   4 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 107 ++-
 .../java/org/apache/phoenix/schema/PTable.java     |   3 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  73 +-
 .../java/org/apache/phoenix/schema/PTableRef.java  |  65 ++
 .../org/apache/phoenix/schema/TableProperty.java   |   5 +-
 .../java/org/apache/phoenix/schema/TableRef.java   |  12 +-
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |   9 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  29 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   7 +
 .../java/org/apache/phoenix/util/ScanUtil.java     |   2 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  29 +-
 .../java/org/apache/phoenix/util/ServerUtil.java   |   5 +-
 .../org/apache/phoenix/util/TransactionUtil.java   | 105 +++
 .../apache/phoenix/compile/QueryCompilerTest.java  |   2 +-
 .../apache/phoenix/compile/ViewCompilerTest.java   |  29 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../phoenix/filter/SkipScanBigFilterTest.java      |   3 +-
 .../index/covered/CoveredIndexCodecForTesting.java |  67 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    | 130 +--
 .../apache/phoenix/query/ConnectionlessTest.java   |   5 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java   |   4 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  38 +-
 phoenix-flume/pom.xml                              |   7 +
 phoenix-pig/pom.xml                                |   7 +
 phoenix-protocol/src/main/PTable.proto             |   1 +
 .../src/main/ServerCachingService.proto            |   1 +
 phoenix-server/pom.xml                             |   7 +
 pom.xml                                            |   5 +-
 113 files changed, 6349 insertions(+), 1371 deletions(-)

commit 76a8d18043b5903253d5fff83609731e7e9f283d
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Nov 17 09:28:39 2015 +0100

    PHOENIX-2387 Exclude sandbox from binary dist
    
    The phoenix_sandbox script can only be run in a source
    distribution (by making use of maven to download all integration
    test dependencies for HBase, HDFS, etc). Making it work in the
    binary dist would bloat and complicate the binary distribution
    quite a bit, so we just exclude it.

 phoenix-assembly/src/build/components/all-common-files.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit d59846bf5c068a0505e7478a41142172513ff685
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Nov 20 11:02:22 2015 -0800

    PHOENIX-2365 Remove Pherf uber jar and create python scripts to execute from Phoenix bin directory (addendum)

 phoenix-assembly/pom.xml                           |  2 -
 .../src/build/server-without-antlr.xml             | 44 -------------------
 phoenix-pherf/pom.xml                              | 17 --------
 phoenix-pherf/src/main/assembly/standalone.xml     | 51 ----------------------
 4 files changed, 114 deletions(-)

commit 72d0493e5d9c9e3d225076246bf54f04337a0cb9
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Nov 20 10:18:34 2015 -0800

    PHOENIX-2343 Pherf - Add ability to draw comparison chart with average query run time

 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  8 +++++--
 .../org/apache/phoenix/pherf/PherfConstants.java   |  7 +++++-
 .../phoenix/pherf/util/GoogleChartGenerator.java   | 27 +++++++++++++++++-----
 .../phoenix/pherf/workload/WriteWorkload.java      | 15 ------------
 4 files changed, 33 insertions(+), 24 deletions(-)

commit fdb429b6c4d9409f3e4bd5bc9f7a0c0660bac678
Author: Samarth <samarth@apache.org>
Date:   Thu Nov 19 16:42:20 2015 -0800

    PHOENIX-2437 Build times out intermittently

 .../src/main/java/org/apache/phoenix/util/QueryUtil.java      |  8 --------
 .../src/test/java/org/apache/phoenix/query/BaseTest.java      | 11 -----------
 2 files changed, 19 deletions(-)

commit 787cae5b60cc66a78d4a5989ab83b92c9b0b6e1b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 19 13:34:39 2015 -0800

    PHOENIX-2436 Remove usage of Guava ComparisonChain due to version incompatibilities (Kumar Palaniappan)

 .../java/org/apache/phoenix/query/KeyRange.java    | 34 +++++++++++++---------
 1 file changed, 21 insertions(+), 13 deletions(-)

commit 507c7270cf29d9a6334914d711a1c4cadf227a4f
Merge: 21c12b11b 8d41ab0b4
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Nov 19 13:44:06 2015 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 21c12b11b1bc1b18ac667666dd715ed91d48ed4f
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Nov 19 13:43:35 2015 -0500

    PHOENIX-2425 Invalid sql syntax produces NPE instead of meaningful error message

 .../apache/phoenix/compile/ProjectionCompiler.java |  6 ++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 24 +++++++++++++++++++---
 3 files changed, 28 insertions(+), 3 deletions(-)

commit 8d41ab0b4d70969b59136cce01ef71c6b8c754f8
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Nov 19 09:54:21 2015 +0530

    PHOENIX-2401 Split table is failing when the table is local indexed in secure cluster(Ted Yu)

 .../hbase/regionserver/LocalIndexSplitter.java     | 12 +++++++--
 .../UngroupedAggregateRegionObserver.java          | 31 +++++++++++++++-------
 2 files changed, 31 insertions(+), 12 deletions(-)

commit f31ece1dce93d1513804afa0399258c6848e9d3c
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Nov 18 17:23:55 2015 -0800

    PHOENIX-2427 Simplify shutdown hook which causes phoenix-pig tests to timeout

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 41 ++++------------------
 1 file changed, 7 insertions(+), 34 deletions(-)

commit 27a152eb03279cd30e6a633d5adbe06363c696a6
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Tue Nov 17 14:24:10 2015 -0500

    PHOENIX-2426 phoenix-spark: Support for TINYINT and SMALLINT

 phoenix-spark/src/it/resources/setup.sql                           | 4 +++-
 .../src/it/scala/org/apache/phoenix/spark/PhoenixSparkIT.scala     | 7 +++++++
 .../src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala       | 3 ++-
 3 files changed, 12 insertions(+), 2 deletions(-)

commit 7808697438b7cd815755ccebc8834968c0e54684
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 17:08:07 2015 -0800

    PHOENIX-2418 Write Pherf results to temp directory

 phoenix-pherf/pom.xml                                    |  4 ++++
 .../java/org/apache/phoenix/pherf/ResultBaseTestIT.java  |  9 ++++++---
 .../java/org/apache/phoenix/pherf/result/ResultUtil.java | 12 ++++++++++++
 .../java/org/apache/phoenix/pherf/ResultBaseTest.java    | 16 +++++++++-------
 4 files changed, 31 insertions(+), 10 deletions(-)

commit 5a18fa1d0e3aed862240e3c8596e728db8ce6280
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 16:38:17 2015 -0800

    PHOENIX-2359 Configuration for PQS to use Protobuf serialization instead of JSON (elserj)

 bin/sqlline-thin.py                                | 30 +++++++-
 .../org/apache/phoenix/query/QueryServices.java    | 11 +++
 .../apache/phoenix/query/QueryServicesOptions.java | 16 ++++
 .../phoenix/queryserver/client/ThinClientUtil.java | 11 ++-
 .../phoenix/end2end/QueryServerBasicsIT.java       |  4 +-
 .../apache/phoenix/queryserver/server/Main.java    | 89 ++++++++++++----------
 pom.xml                                            |  2 +-
 7 files changed, 115 insertions(+), 48 deletions(-)

commit 6a37307c2228044cda62516af5cbfb91346bcecb
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 11:52:59 2015 -0800

    PHOENIX-2365 Remove Pherf uber jar and create python scripts to execute from Phoenix bin directory

 bin/pherf-cluster.py                               | 83 ++++++++++++++++++++++
 bin/pherf-standalone.py                            | 71 ++++++++++++++++++
 bin/phoenix_utils.py                               | 13 ++++
 dev/make_rc.sh                                     |  6 +-
 phoenix-pherf/README.md                            |  2 +-
 phoenix-pherf/cluster/pherf.sh                     | 33 ---------
 phoenix-pherf/config/pherf.properties              |  2 +-
 phoenix-pherf/pom.xml                              |  9 ++-
 .../org/apache/phoenix/pherf/PherfConstants.java   |  2 +-
 .../apache/phoenix/pherf/rules/RulesApplier.java   |  2 +-
 phoenix-pherf/standalone/pherf.sh                  | 28 --------
 11 files changed, 177 insertions(+), 74 deletions(-)

commit db8ef681685cdacabd918e164025b2920eac24b1
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 11:25:21 2015 -0800

    PHOENIX-2391 Reduce size of Tracing web-app uber jar

 bin/traceserver.py                                         | 4 ++--
 phoenix-tracing-webapp/pom.xml                             | 2 --
 phoenix-tracing-webapp/src/build/trace-server-runnable.xml | 8 +++++---
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 55fb6b910c58c8e5bba659543f5c15b443fc42b4
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 11:23:28 2015 -0800

    PHOENIX-2403 Reduce size of Phoenix Server runnable jar

 bin/queryserver.py                                 | 2 +-
 phoenix-server/pom.xml                             | 1 -
 phoenix-server/src/build/query-server-runnable.xml | 8 ++++++--
 3 files changed, 7 insertions(+), 4 deletions(-)

commit 2ab6ed9495b2323acd7118806e96286975af3a39
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon Nov 16 11:06:24 2015 -0800

    PHOENIX-2421 Disable checkstyle plugin by default

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit cfde793e2c593fd5d936de54d51dcfdb1098c5b9
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Nov 16 10:29:21 2015 -0800

    PHOENIX-2369 Some UDF tests failed due to not finding Hadoop classpath (aliciashu)

 bin/phoenix_utils.py | 22 ++++++++++++++++++++++
 bin/psql.py          |  2 +-
 bin/sqlline-thin.py  |  2 +-
 bin/sqlline.py       |  2 +-
 4 files changed, 25 insertions(+), 3 deletions(-)

commit e9d449865449ce0ad5406b3680d264db77d991ef
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Nov 15 18:25:15 2015 -0800

    PHOENIX-2419 Fix flapping Pig tests

 .../it/java/org/apache/phoenix/pig/BasePigIT.java  |  83 ++++
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 423 +++++++++------------
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  43 +--
 .../phoenix/pig/udf/ReserveNSequenceTestIT.java    |  62 +--
 4 files changed, 288 insertions(+), 323 deletions(-)

commit 7afa91ab97a85b7e33f3a686e4ddff42697f50b2
Author: Dumindu Buddhika <duminduk@apache.org>
Date:   Sun Nov 15 19:12:27 2015 +0530

    PHOENIX-2301 NullPointerException when upserting into a char array column

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 26 ++++++++++++++++++++++
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 2 files changed, 27 insertions(+), 1 deletion(-)

commit 016b2b96ec4afdf296967d1f2b7a2bb67b94b58e
Author: Josh Elser <elserj@apache.org>
Date:   Wed Nov 4 15:32:21 2015 -0500

    PHOENIX-2372 Ensure null values are returned immediatedly in PhoenixResultSet.
    
    Added a trivial test that exhibited the problem for Dates. BigDecimal
    also had a similar problem on calling setScale on a null BigDecimal.

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 34 ++++++++++++++++++++++
 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 33 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  7 +++++
 3 files changed, 74 insertions(+)

commit 6a48b98cc9b2f5c6c45a4fb21c91d08ebabf1a8d
Author: Samarth <samarth@apache.org>
Date:   Fri Nov 13 10:15:51 2015 -0800

    PHOENIX-2412 Fix test failures due to use of priority queue for merge sort (Ankit Singhal/Samarth Jain)

 .../phoenix/iterate/MergeSortResultIterator.java   | 80 +++++++++-------------
 1 file changed, 34 insertions(+), 46 deletions(-)

commit 9343743157f1cc03b1b8b815289b6127a30d740f
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Fri Nov 13 12:44:08 2015 -0500

    PHOENIX-2288: PDecimal precision and scale aren't carried through to Spark DataFrame (Navis Ryu)

 .../java/org/apache/phoenix/util/ColumnInfo.java   | 89 +++++++++++++++++++---
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 16 ++--
 .../org/apache/phoenix/util/ColumnInfoTest.java    | 27 +++++++
 phoenix-spark/src/it/resources/setup.sql           |  2 +-
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  |  8 +-
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 16 ++--
 6 files changed, 127 insertions(+), 31 deletions(-)

commit 9bf95354a07d9f5c92c94b263374104f23af0846
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 13 00:05:33 2015 -0800

    PHOENIX-2414 Parameterize index tests

 .../apache/phoenix/end2end/SkipScanQueryIT.java    |    2 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  | 1192 --------------------
 .../end2end/index/GlobalMutableIndexIT.java        |   26 -
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  463 +-------
 .../org/apache/phoenix/end2end/index/IndexIT.java  |  880 +++++++++++++++
 .../phoenix/end2end/index/LocalMutableIndexIT.java |   26 -
 .../phoenix/end2end/index/MutableIndexIT.java      |  599 ++++++++++
 .../java/org/apache/phoenix/query/BaseTest.java    |  102 +-
 8 files changed, 1641 insertions(+), 1649 deletions(-)

commit 461aaa239479abb8bb35df79324d2d2c3627e0d5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 12 21:49:32 2015 -0800

    PHOENIX-2413 Implement BaseMutationPlan for common method implementation

 .../apache/phoenix/compile/BaseMutationPlan.java   |  67 +++++++
 .../phoenix/compile/CreateFunctionCompiler.java    |  17 +-
 .../phoenix/compile/CreateIndexCompiler.java       |  28 +--
 .../phoenix/compile/CreateSequenceCompiler.java    |  32 +---
 .../phoenix/compile/CreateTableCompiler.java       |  25 +--
 .../org/apache/phoenix/compile/DeleteCompiler.java | 130 +++++++++----
 .../phoenix/compile/DropSequenceCompiler.java      |  24 +--
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |  14 +-
 .../org/apache/phoenix/compile/MutationPlan.java   |   6 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |  75 +++++---
 .../org/apache/phoenix/compile/StatementPlan.java  |   8 +-
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  27 ++-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  95 ++++++----
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  51 +++--
 .../apache/phoenix/execute/DelegateQueryPlan.java  |  14 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  18 +-
 .../java/org/apache/phoenix/execute/UnionPlan.java |  20 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 209 +++++----------------
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  27 +--
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  22 ++-
 21 files changed, 492 insertions(+), 419 deletions(-)

commit a95d701226a362feca04c68f8462c7a095493fd3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 12 17:04:23 2015 -0800

    PHOENIX-2410 Move NUM_MILLIS_IN_DAY constant to TestUtil

 .../it/java/org/apache/phoenix/end2end/index/IndexExpressionIT.java    | 3 +--
 phoenix-core/src/test/java/org/apache/phoenix/util/TestUtil.java       | 1 +
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6f05484abe26ff3111894a1d6bc8dc97213bb304
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 12 16:40:40 2015 -0800

    PHOENIX-2409 Create getTable() convenience method on PhoenixConnection

 .../it/java/org/apache/phoenix/end2end/AlterTableIT.java   | 14 +++++++-------
 .../org/apache/phoenix/end2end/AlterTableWithViewsIT.java  |  8 ++++----
 .../org/apache/phoenix/end2end/index/ImmutableIndexIT.java |  2 +-
 .../org/apache/phoenix/end2end/index/IndexMetadataIT.java  |  4 ++--
 .../org/apache/phoenix/end2end/index/LocalIndexIT.java     |  6 +++---
 .../org/apache/phoenix/end2end/index/SaltedIndexIT.java    |  2 +-
 .../java/org/apache/phoenix/compile/DeleteCompiler.java    |  2 +-
 .../main/java/org/apache/phoenix/compile/FromCompiler.java |  4 ++--
 .../org/apache/phoenix/compile/ProjectionCompiler.java     |  6 +++---
 .../java/org/apache/phoenix/jdbc/PhoenixConnection.java    |  6 ++++++
 .../java/org/apache/phoenix/schema/MetaDataClient.java     | 10 +++++-----
 .../main/java/org/apache/phoenix/util/PhoenixRuntime.java  |  2 +-
 .../java/org/apache/phoenix/compile/QueryCompilerTest.java |  4 ++--
 .../org/apache/phoenix/filter/SkipScanBigFilterTest.java   |  2 +-
 .../java/org/apache/phoenix/index/IndexMaintainerTest.java |  4 ++--
 .../apache/phoenix/query/BaseConnectionlessQueryTest.java  |  2 +-
 .../apache/phoenix/query/ParallelIteratorsSplitTest.java   |  2 +-
 .../java/org/apache/phoenix/schema/RowKeySchemaTest.java   |  2 +-
 .../org/apache/phoenix/schema/RowKeyValueAccessorTest.java |  2 +-
 19 files changed, 45 insertions(+), 39 deletions(-)

commit 2dfede4488a3086f5b78cae48a5367f486d8a49c
Author: Samarth <samarth@apache.org>
Date:   Thu Nov 12 15:03:04 2015 -0800

    Use a priority queue in MergeSortResultIterator (Ankit Singhal)

 .../MaterializedComparableResultIterator.java      |  72 ++++++++++
 .../phoenix/iterate/MergeSortResultIterator.java   |  83 ++++++-----
 .../iterate/MergeSortResultIteratorTest.java       | 159 +++++++++++++++++----
 3 files changed, 254 insertions(+), 60 deletions(-)

commit 647809057cce90b140bcfeb975454254da979aa0
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Nov 12 11:42:38 2015 -0500

    PHOENIX-2406 ClassCastException in isCoercibleTo() of unsigned primitive array types (e.g. PUnsignedIntArray)

 .../org/apache/phoenix/schema/types/PUnsignedDoubleArray.java |  4 ++--
 .../org/apache/phoenix/schema/types/PUnsignedFloatArray.java  |  4 ++--
 .../org/apache/phoenix/schema/types/PUnsignedIntArray.java    |  4 ++--
 .../org/apache/phoenix/schema/types/PUnsignedLongArray.java   |  4 ++--
 .../apache/phoenix/schema/types/PUnsignedSmallintArray.java   |  4 ++--
 .../apache/phoenix/schema/types/PUnsignedTinyintArray.java    |  4 ++--
 .../apache/phoenix/schema/types/PDataTypeForArraysTest.java   | 11 +++++++++++
 7 files changed, 23 insertions(+), 12 deletions(-)

commit c75d2202ba4bb18b2abfd61fb9b4713f3de88d3a
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Nov 12 11:25:07 2015 -0500

    Inner Join with any table or view with Multi_Tenant=true causes "could not find hash cache for joinId" error

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 63 ++++++++++++++++++++++
 .../apache/phoenix/cache/ServerCacheClient.java    | 14 ++++-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 18 +++----
 .../java/org/apache/phoenix/util/ScanUtil.java     |  7 +++
 4 files changed, 89 insertions(+), 13 deletions(-)

commit ef2fa4347cdb7cabaf4ea7923a91764fd3d2276a
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Nov 10 19:05:57 2015 -0800

    PHOENIX-2395 Refactor mutable secondary indexes code

 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  18 +-
 .../covered/example/FailWithoutRetriesIT.java      | 196 ++++---
 .../apache/phoenix/cache/IndexMetaDataCache.java   |  13 +
 .../org/apache/phoenix/hbase/index/Indexer.java    |  53 --
 .../apache/phoenix/hbase/index/MultiMutation.java  |  86 +++
 .../apache/phoenix/hbase/index/ValueGetter.java    |   4 +-
 .../hbase/index/builder/BaseIndexBuilder.java      | 163 +++---
 .../index/builder}/BaseIndexCodec.java             |  14 +-
 .../hbase/index/builder/IndexBuildManager.java     |  32 +-
 .../phoenix/hbase/index/builder/IndexBuilder.java  |  75 +--
 .../index/covered/CoveredColumnsIndexBuilder.java  | 491 -----------------
 .../phoenix/hbase/index/covered/IndexCodec.java    | 163 +++---
 .../phoenix/hbase/index/covered/IndexMetaData.java |  22 +
 .../hbase/index/covered/LocalTableState.java       | 447 ++++++++-------
 .../hbase/index/covered/NonTxIndexBuilder.java     | 404 ++++++++++++++
 .../phoenix/hbase/index/covered/TableState.java    |  40 +-
 .../hbase/index/covered/data/LazyValueGetter.java  |  13 +-
 .../covered/example/CoveredColumnIndexCodec.java   | 604 ++++++++++-----------
 .../CoveredColumnIndexSpecifierBuilder.java        |   4 +-
 .../covered/example/CoveredColumnIndexer.java      |  15 +-
 .../hbase/index/covered/update/ColumnTracker.java  |   3 +-
 .../index/covered/update/IndexUpdateManager.java   |   5 +-
 .../phoenix/hbase/index/scanner/EmptyScanner.java  |   8 +-
 .../phoenix/hbase/index/scanner/Scanner.java       |   2 +-
 .../hbase/index/scanner/ScannerBuilder.java        |  11 +-
 .../hbase/index/write/IndexFailurePolicy.java      |   4 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  | 114 +++-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  49 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    | 207 ++-----
 .../apache/phoenix/index/PhoenixIndexMetaData.java |  90 +++
 .../phoenix/query/ConnectionQueryServicesImpl.java |   4 +-
 .../phoenix/schema/tuple/ValueGetterTuple.java     |  16 +-
 .../index/covered/CoveredIndexCodecForTesting.java |   7 +-
 .../example/TestCoveredColumnIndexCodec.java       |  33 +-
 34 files changed, 1726 insertions(+), 1684 deletions(-)

commit b07f669a84681c63bf6dba1ed99c3a0f408bd585
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 10 23:47:11 2015 -0800

    PHOENIX-2399 Server is sometimes unable to find Phoenix driver

 .../apache/phoenix/mapreduce/CsvBulkLoadToolIT.java    | 18 ++++++++----------
 .../java/org/apache/phoenix/mapreduce/IndexToolIT.java |  5 +++++
 .../main/java/org/apache/phoenix/util/QueryUtil.java   |  3 +++
 3 files changed, 16 insertions(+), 10 deletions(-)

commit 645f74a46d77ccd3e496f5aface444912532279f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 10 22:00:09 2015 -0800

    PHOENIX-2399 Server is sometimes unable to find Phoenix driver

 .../covered/example/EndToEndCoveredIndexingIT.java | 1633 ++++++++++----------
 .../example/EndtoEndIndexingWithCompressionIT.java |   31 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |   17 +-
 3 files changed, 851 insertions(+), 830 deletions(-)

commit a68cc4e305210e52eb0f5ab3db75fb903cc6e7d3
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Nov 10 18:15:08 2015 -0800

    PHOENIX-2399 Server is sometimes unable to find Phoenix driver

 .../src/main/java/org/apache/phoenix/query/QueryServices.java  |  1 +
 .../java/org/apache/phoenix/query/QueryServicesOptions.java    |  7 +++++++
 .../src/main/java/org/apache/phoenix/util/QueryUtil.java       | 10 ++++++++--
 .../java/org/apache/phoenix/query/QueryServicesTestImpl.java   |  6 +++++-
 4 files changed, 21 insertions(+), 3 deletions(-)

commit 26369f7421a91ea74a9d1eb054edd41b72bff7ed
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Nov 10 16:55:01 2015 -0800

    PHOENIX-2397 Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.18:test failed. NullPointerException

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 519f9e0561b42d3499dec9c1247a1050fa26a78b
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Nov 10 16:27:12 2015 -0800

    PHOENIX-2396 Set root cause exception when parsing server exception

 .../org/apache/phoenix/exception/SQLExceptionCode.java    |  5 ++---
 .../src/main/java/org/apache/phoenix/util/ServerUtil.java | 15 +++++----------
 2 files changed, 7 insertions(+), 13 deletions(-)

commit 8a5046e4044d77938a13d4abf7bee2bdca581917
Author: Siddhi <smehta@salesforce.com>
Date:   Thu Nov 5 17:23:53 2015 -0800

    PHOENIX-2373- Change ReserveNSequence Udf to take in zookeeper and tentantId

 .../phoenix/pig/udf/ReserveNSequenceTestIT.java    | 86 ++++++++++++++++-----
 .../apache/phoenix/pig/udf/ReserveNSequence.java   | 88 +++++++++++++++++-----
 2 files changed, 137 insertions(+), 37 deletions(-)

commit e1e434416f157add679f33637138e4374f067d63
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 9 11:09:40 2015 -0800

    PHOENIX-2389 Adding/dropping multiple columns to table in one DDL statement is broken

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 109 +++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  |   6 +-
 2 files changed, 112 insertions(+), 3 deletions(-)

commit ee435fb182065c10bd52591289b5f20595498197
Author: Gabriel Reid <greid@apache.org>
Date:   Sat Nov 7 09:07:22 2015 +0100

    PHOENIX-2387 Fix sandbox error printing
    
    Use the correct sys field (stderr) to write out the error message
    if the project has not been built before starting the sandbox.

 bin/phoenix_sandbox.py | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a9a9b24c904997b13fe966a9972793f1224a3564
Author: Cody Marcel <cmarcel@cmarcel-wsl1.internal.salesforce.com>
Date:   Mon Nov 2 16:15:02 2015 -0800

    PHOENIX-2366 - Pherf NPE on Data loader

 .../src/main/java/org/apache/phoenix/pherf/PherfConstants.java | 10 +++++++++-
 .../main/java/org/apache/phoenix/pherf/result/ResultUtil.java  |  4 ++--
 2 files changed, 11 insertions(+), 3 deletions(-)

commit c26cce5038971a01a4864e473ec249f78ebfa892
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Oct 29 15:51:43 2015 +0100

    PHOENIX-2353 Return exit status from bulk load
    
    Exit with the actual exit code from the ToolRunner when running
    the CsvBulkLoadTool.
    
    Contributed by Matt Kowalczyk.

 .../src/main/java/org/apache/phoenix/mapreduce/CsvBulkLoadTool.java    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 72633b9d4c3712f7bd9b4642f97059edc1bdcbba
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 26 13:58:32 2015 -0700

    PHOENIX-2316 Add region server name as attribute on parallel Scan

 .../phoenix/end2end/ParallelIteratorsIT.java       | 29 ++++++++++++++++++++++
 .../coprocessor/BaseScannerRegionObserver.java     |  1 +
 .../phoenix/iterate/BaseResultIterators.java       | 10 +++++---
 3 files changed, 36 insertions(+), 4 deletions(-)

commit c37eefc3f3a00689b902d647284205e4684523d7
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Oct 23 15:45:22 2015 -0700

    Set version to 4.7.0-HBase-1.1-SNAPSHOT after release

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-pherf/pom.xml          | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 phoenix-server-client/pom.xml  | 2 +-
 phoenix-server/pom.xml         | 2 +-
 phoenix-spark/pom.xml          | 2 +-
 phoenix-tracing-webapp/pom.xml | 2 +-
 pom.xml                        | 2 +-
 10 files changed, 10 insertions(+), 10 deletions(-)

commit f3c4606626f1d3e9bf2b567a880e198143c1e3c8
Author: maryannxue <wei.xue@intel.com>
Date:   Fri Oct 23 13:31:45 2015 -0400

    PHOENIX-2257 Failing integration test in DerivedTableIT

 .../src/it/java/org/apache/phoenix/end2end/DerivedTableIT.java         | 2 ++
 .../src/main/java/org/apache/phoenix/compile/QueryCompiler.java        | 3 ++-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 3cbebb8bdb373cc0ac5cb5be0b70b0a5ce061d90
Author: cmarcel <cody.marcel@gmail.com>
Date:   Thu Oct 22 12:46:31 2015 -0700

    PHOENIX-2345 - Pherf - ResultManager does not flush

 .../apache/phoenix/pherf/result/ResultManager.java   | 20 ++++++++++++++++++++
 .../phoenix/pherf/workload/MultiThreadedRunner.java  |  4 ++++
 .../apache/phoenix/pherf/workload/QueryExecutor.java |  1 +
 .../java/org/apache/phoenix/pherf/ResultTest.java    |  1 +
 4 files changed, 26 insertions(+)

commit caa0dbb46a47945eaa384b31f7a2ba8e9c7a6c08
Author: Cody Marcel <cody.marcel@gmail.com>
Date:   Mon Oct 19 13:25:15 2015 -0700

    PHOENIX-2337 - Pherf - Prefix values override rule values for writes

 .../apache/phoenix/pherf/rules/RulesApplier.java   | 70 +++++++++++++++-------
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 23 ++++---
 .../apache/phoenix/pherf/RuleGeneratorTest.java    | 51 ++++++++++++++--
 .../src/test/resources/datamodel/test_schema.sql   |  1 +
 .../src/test/resources/scenario/test_scenario.xml  | 14 ++++-
 5 files changed, 116 insertions(+), 43 deletions(-)

commit 28007f804dd3d132d39169f532be050717c3526d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 19 13:44:35 2015 -0700

    PHOENIX-2304 NullPointerException when using an index and a char array (Julian Jaffe, Navis, James Taylor)

 .../apache/phoenix/exception/SQLExceptionCode.java |  76 ++++---
 .../java/org/apache/phoenix/parse/ColumnDef.java   | 228 ++++++++++-----------
 .../apache/phoenix/compile/QueryOptimizerTest.java |  17 ++
 .../org/apache/phoenix/parse/QueryParserTest.java  |  99 ++++-----
 4 files changed, 213 insertions(+), 207 deletions(-)

commit 18d063353d8857898b29f68aa7789d33c16b1960
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 18 17:05:30 2015 -0700

    PHOENIX-2335 Fix flapping MR-related tests

 .../java/org/apache/phoenix/end2end/ConnectionUtilIT.java | 11 +++--------
 .../org/apache/phoenix/mapreduce/CsvBulkLoadToolIT.java   | 15 ++++++---------
 .../it/java/org/apache/phoenix/mapreduce/IndexToolIT.java | 13 +++++--------
 3 files changed, 14 insertions(+), 25 deletions(-)

commit 7bc93f405be9f5700f12682e0e505820a0581f84
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 18 15:38:03 2015 -0700

    PHOENIX-2313 TypeMismatchException thrown while querying a table that has an index with a Boolean

 .../phoenix/end2end/index/BaseMutableIndexIT.java  |  11 +-
 .../org/apache/phoenix/schema/types/PBoolean.java  | 208 ++++++++++-----------
 .../apache/phoenix/schema/types/PDataTypeTest.java |  33 ++++
 3 files changed, 144 insertions(+), 108 deletions(-)

commit 2a4c3c974f9bcd70dadfd2a3913539d1417eb2e2
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Sun Oct 18 11:43:38 2015 -0400

    PHOENIX-2328 "Unsupported filter" errors when using Spark DataFrame API

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 45 ++++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRelation.scala | 10 ++++-
 2 files changed, 54 insertions(+), 1 deletion(-)

commit b68521a4e7cadab0b30efa26de7b989020f085a3
Author: Ravi Magham <ravi.magham@bazaarvoice.com>
Date:   Sat Oct 17 22:11:37 2015 -0700

    PHOENIX-2216 - Support single mapper pass to CSV bulk load table and indexes

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  45 +-
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 278 ++++----
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  41 +-
 .../phoenix/mapreduce/CsvToKeyValueReducer.java    |  55 ++
 .../phoenix/mapreduce/MultiHfileOutputFormat.java  | 716 +++++++++++++++++++++
 .../mapreduce/bulkload/CsvTableRowkeyPair.java     | 139 ++++
 6 files changed, 1112 insertions(+), 162 deletions(-)

commit f02fb1b06e55b6d870a42ec051d3fbf18bb39e01
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sun Oct 18 09:50:05 2015 +0530

    PHOENIX-2313 TypeMismatchException thrown while querying a table that has an index with a Boolean(Rajeshbabu)

 .../phoenix/end2end/index/BaseMutableIndexIT.java       | 17 +++++++++++++++++
 .../java/org/apache/phoenix/schema/types/PBoolean.java  |  4 ++++
 2 files changed, 21 insertions(+)

commit 3d259d57a3bbff746b205c381638db1ac6103e6d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 17 17:00:27 2015 -0700

    PHOENIX-2333 Disable flapping MutableIndexFailureIT tests

 .../java/org/apache/phoenix/end2end/index/MutableIndexFailureIT.java   | 3 +++
 1 file changed, 3 insertions(+)

commit c0fb05034a1a0131afc8f67c03655d5f0f163dba
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 17 15:25:00 2015 -0700

    PHOENIX-2327 Row value constructors failed on the index, when len(table's pks) > 2 and table's 1st pk is index's last pk (Chunhui Liu, James Taylor)

 .../phoenix/end2end/RowValueConstructorIT.java     | 61 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  7 ++-
 2 files changed, 64 insertions(+), 4 deletions(-)

commit 416c860f7d9f3490d46169fa74656994b4fe27a8
Author: Samarth <samarth@apache.org>
Date:   Fri Oct 16 16:21:58 2015 -0700

    PHOENIX-2326 Fix upgrade from 4.x to 4.6 and update MetadataProtocol with new versions

 .../phoenix/coprocessor/MetaDataProtocol.java      |  3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 13 +++++----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 33 +++++++++++++++++++---
 3 files changed, 38 insertions(+), 11 deletions(-)

commit cf1f6afaa26f96d592ea794f68b67f97d59dcd60
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Oct 16 14:35:49 2015 -0700

    PHOENIX-2329 Fix Pherf Eclipse compiler errors

 .../phoenix/flume/serializer/CustomSerializer.java  |  9 +++------
 .../main/java/org/apache/phoenix/pherf/Pherf.java   | 21 ++++++++++++---------
 2 files changed, 15 insertions(+), 15 deletions(-)

commit 184d6225c8b8565669d0f48f6895e4aa24fa320a
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Oct 16 08:01:03 2015 -0700

    Set version to 4.6.0-HBase-1.1 for release

 dev/make_rc.sh                 | 9 +++++++--
 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-pherf/pom.xml          | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 phoenix-server-client/pom.xml  | 2 +-
 phoenix-server/pom.xml         | 2 +-
 phoenix-spark/pom.xml          | 2 +-
 phoenix-tracing-webapp/pom.xml | 2 +-
 pom.xml                        | 2 +-
 11 files changed, 17 insertions(+), 12 deletions(-)

commit 2248c5d11d60152666d529edb618a9347b948b96
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Oct 15 17:12:42 2015 -0700

    PHOENIX-2284 Remove call to returnAllSequences when connection count drop to zero

 .../org/apache/phoenix/end2end/SequenceIT.java     | 24 +++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 42 ++++++++++++----------
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  2 ++
 4 files changed, 51 insertions(+), 18 deletions(-)

commit 8958431b379e76d14b30d1641803eab5c89957db
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Oct 15 15:37:13 2015 -0700

    PHOENIX-2292 Improve performance of direct HBase API index build (Ravi Kishore Valeti)

 .../mapreduce/index/DirectHTableWriter.java        | 10 +--
 .../index/PhoenixIndexImportDirectMapper.java      | 92 ++++++++++++++++------
 2 files changed, 73 insertions(+), 29 deletions(-)

commit 2e848f64eb07a2967c22f16d976c861a5b5a3466
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Oct 15 14:09:44 2015 -0700

    Fix Apache RAT warnings

 .../org/apache/phoenix/end2end/ConnectionUtilIT.java   | 18 ++++++++++++++++++
 .../apache/phoenix/iterate/PhoenixQueryTimeoutIT.java  | 17 +++++++++++++++++
 .../phoenix/pherf/util/GoogleChartGenerator.java       | 18 ++++++++++++++++++
 phoenix-tracing-webapp/pom.xml                         | 11 +++++++++++
 4 files changed, 64 insertions(+)

commit bf0cafc3366cc156ccb44dda48a1c6bd69d3f7fe
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Oct 15 12:47:11 2015 -0700

    PHOENIX-2303 Fix for performance.py not using JAVA_HOME (bpanneton)

 bin/psql.py         | 34 +++++++++++++++++++++++++++++++++-
 bin/sqlline-thin.py | 36 +++++++++++++++++++++++++++++++++++-
 bin/sqlline.py      | 36 +++++++++++++++++++++++++++++++++++-
 3 files changed, 103 insertions(+), 3 deletions(-)

commit 7b512c7426df391b61115f9dbc7bfe9a10c48026
Author: Samarth <samarth@apache.org>
Date:   Thu Oct 15 12:30:14 2015 -0700

    Update MetaDataProtocol to 4.6.0

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 928fc62e1d467884918b573abc02741ede77f62d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Oct 15 12:04:30 2015 -0700

    PHOENIX-2319 SELECT failed on secondary index when table's columns are ALL primary key

 .../phoenix/end2end/index/IndexExpressionIT.java   | 68 ++++++++++++++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  2 +-
 2 files changed, 69 insertions(+), 1 deletion(-)

commit f13b16800351fa2e459aef5ce695506f5dc62099
Author: Samarth <samarth@apache.org>
Date:   Thu Oct 15 11:32:28 2015 -0700

    sqlline.py doesn't propagate return code from Java process (Josh Elser)

 bin/phoenix_sandbox.py | 3 +++
 bin/sqlline.py         | 4 ++++
 2 files changed, 7 insertions(+)

commit d2a2d72b42612fd7df72d4fe08f432d4dc8816b4
Author: Samarth <samarth@apache.org>
Date:   Thu Oct 15 11:26:27 2015 -0700

    NullPointerException when parsing a query with hints in UNION ALL (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 34 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/AggregatePlan.java  | 10 +++++--
 .../java/org/apache/phoenix/execute/ScanPlan.java  | 11 +++++--
 .../phoenix/iterate/BaseResultIterators.java       | 10 +++++--
 .../phoenix/iterate/UnionResultIterators.java      | 11 +++++--
 5 files changed, 68 insertions(+), 8 deletions(-)

commit d8333e838c6f6ec9c24798b4694be83f0286747f
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Oct 13 10:35:03 2015 -0700

    PHOENIX-2311 Fix performance.py java.io.FileNotFoundException (Gabor Liptak)

 bin/performance.py                                   | 10 ++++++----
 .../apache/phoenix/util/GeneratePerformanceData.java | 20 ++++++++++----------
 2 files changed, 16 insertions(+), 14 deletions(-)

commit 288eda9ab8dffcb7b5ae8bc8e706797d4b20d173
Author: Jan <jfernando@salesforce.com>
Date:   Wed Oct 7 18:25:05 2015 -0700

    PHOENIX-2310 Fix to address issue in Phoenix / Pig integration that was causing PhoenixConfigurationUtil.getUpsertColumnMetadataList() to return an invalid SQL statement if View DDL had recently been executed

 .../org/apache/phoenix/schema/DelegateColumn.java  | 10 +--
 .../org/apache/phoenix/schema/DelegateTable.java   |  5 ++
 .../util/PhoenixConfigurationUtilTest.java         | 73 ++++++++++++++++++++++
 3 files changed, 83 insertions(+), 5 deletions(-)

commit 9fa160d39afb1012eef3a1e8361bb389ef8a4e90
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Oct 7 11:02:20 2015 -0700

    PHOENIX-2309 Fix unit test hang for Pherf on Mac

 .../src/test/java/org/apache/phoenix/pherf/ResultTest.java  | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 0f10d3f6a8f9bedc88a240fc4491d25f16009bde
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Oct 7 23:15:59 2015 +0530

    PHOENIX-2254 zookeeper.znode.parent value is not taking affect in MR integration job-addendum(Rajeshbabu)

 phoenix-core/src/main/java/org/apache/phoenix/util/QueryUtil.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit ce37e12058f5f2a52ad3a6a24acb9f615dc296bc
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Oct 7 14:59:28 2015 +0530

    PHOENIX-2254 zookeeper.znode.parent value is not taking affect in MR integration job(Rajeshbabu)

 .../apache/phoenix/end2end/ConnectionUtilIT.java   | 71 ++++++++++++++++++++++
 .../phoenix/mapreduce/util/ConnectionUtil.java     | 17 ++++--
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 14 ++++-
 3 files changed, 93 insertions(+), 9 deletions(-)

commit bf3b7d3ec2b5155c6644c2f4dbafe5e47eb130d0
Author: Samarth <samarth@apache.org>
Date:   Tue Oct 6 18:44:36 2015 -0700

    PHOENIX-914 Addendum remove System.out and unused import

 .../src/main/java/org/apache/phoenix/iterate/ExplainTable.java      | 2 --
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixStatement.java     | 6 +-----
 2 files changed, 1 insertion(+), 7 deletions(-)

commit dee300872948f76386a5a95af98a3e2852d39ac0
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Oct 5 18:42:23 2015 -0700

    PHOENIX-2256 Test failure in PMetaDataImplTest (James Heather)

 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  2 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java   | 72 +++++++++++++++++++---
 2 files changed, 66 insertions(+), 8 deletions(-)

commit c2cb510048fb07792d4639f211e98b8a95281f2f
Author: Samarth <samarth@apache.org>
Date:   Sat Oct 3 15:02:53 2015 -0700

    PHOENIX-914 Native HBase timestamp support to optimize date range queries in Phoenix

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  70 +++
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  63 +++
 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 531 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/UpsertValuesIT.java | 284 +++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  27 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  10 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   6 +-
 .../apache/phoenix/compile/ListJarsQueryPlan.java  |   2 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   3 +
 .../phoenix/compile/PostIndexDDLCompiler.java      |   5 +-
 .../org/apache/phoenix/compile/ScanRanges.java     | 110 ++++-
 .../apache/phoenix/compile/StatementContext.java   |  11 -
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   2 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |   2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 120 ++++-
 .../org/apache/phoenix/compile/WhereOptimizer.java |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   1 +
 .../coprocessor/generated/PTableProtos.java        | 142 +++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  11 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  29 +-
 .../org/apache/phoenix/execute/MutationState.java  | 115 ++++-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   7 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  11 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   1 -
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  11 +-
 .../phoenix/parse/ColumnDefInPkConstraint.java     |  44 ++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  21 +-
 .../apache/phoenix/parse/PrimaryKeyConstraint.java |  48 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   7 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   3 +
 .../org/apache/phoenix/schema/DelegateColumn.java  |   5 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 245 ++++++----
 .../java/org/apache/phoenix/schema/PColumn.java    |   5 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  19 +-
 .../java/org/apache/phoenix/schema/PDatum.java     |   1 +
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   6 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  16 +
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  34 ++
 .../apache/phoenix/compile/QueryCompilerTest.java  |  43 ++
 .../apache/phoenix/compile/WhereOptimizerTest.java |   2 +
 .../apache/phoenix/execute/CorrelatePlanTest.java  |   2 +-
 .../phoenix/execute/UnnestArrayPlanTest.java       |   4 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   8 +-
 .../iterate/AggregateResultScannerTest.java        |   4 +
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java |  16 +
 .../org/apache/phoenix/parse/QueryParserTest.java  |   2 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 52 files changed, 1879 insertions(+), 258 deletions(-)

commit ff35d9536cc5657c63e42fdecad5828850f575fa
Author: Jan <jfernando@salesforce.com>
Date:   Fri Oct 2 12:35:07 2015 -0700

    PHOENIX-2285 Changes to store the query timeout in milliseconds, to allow users to specify timeouts with millisecond granularity via phoenix.query.timeout

 .../phoenix/iterate/PhoenixQueryTimeoutIT.java     | 97 ++++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |  3 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 54 +++++++++---
 .../phoenix/jdbc/PhoenixPreparedStatementTest.java | 94 +++++++++++++++++++++
 4 files changed, 234 insertions(+), 14 deletions(-)

commit a9bd640929bbfa2e02ea5b1c903a01ea57fe151b
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Sep 28 13:13:23 2015 -0400

    PHOENIX-2287 phoenix-spark: Cast class exception (add support for Spark 1.5.0)

 phoenix-spark/pom.xml                              |  2 +-
 phoenix-spark/src/it/resources/setup.sql           |  4 +++-
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  |  7 ++++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 25 ++++++++++++----------
 .../org/apache/phoenix/spark/PhoenixRelation.scala | 15 +++++++++++--
 5 files changed, 38 insertions(+), 15 deletions(-)

commit eb9fab42911b08f9e817b313f2250f4685ba13a2
Author: Josh Mahonin <jmahonin@apache.org>
Date:   Sun Aug 23 14:18:55 2015 -0400

    PHOENIX-2196 phoenix-spark should automatically convert DataFrame field names (Randy Gelhausen)

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 22 ++++++++++++++++++++--
 .../apache/phoenix/spark/DataFrameFunctions.scala  | 15 +++++++++------
 2 files changed, 29 insertions(+), 8 deletions(-)

commit 5ecd4967f6f9ee8ae90ea1ea7421b43fcba67d14
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Sep 24 08:56:52 2015 +0200

    PHOENIX-2289 Avoid Class.getClassLoader calls
    
    Cache the class loader from the PhoenixContextExecutor class
    to avoid relatively expensive calls to Class.getClassLoader.

 .../java/org/apache/phoenix/util/PhoenixContextExecutor.java     | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit d74a37feff1152e86951aaa3aa0975b8790ad757
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Sep 22 11:09:44 2015 -0700

    PHOENIX-2280 - Fix failing unit test in Pherf (addendum)

 .../src/it/java/org/apache/phoenix/pherf/DataIngestIT.java          | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 98dc849e93136249588f85551e70c748229db669
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Sep 21 14:38:56 2015 -0700

    PHOENIX-2280 - Fix failing unit test in Pherf

 phoenix-pherf/src/it/java/org/apache/phoenix/pherf/DataIngestIT.java | 3 ++-
 phoenix-pherf/src/test/resources/datamodel/test_schema_mt_view.sql   | 1 -
 phoenix-pherf/src/test/resources/scenario/test_scenario.xml          | 4 +++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 67c9cd0fde8f3dd00ccf349ac90226955caaae7a
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Sep 21 13:04:00 2015 -0700

    PHOENIX-2182 - Pherf - Add ability to compare of runs

 phoenix-pherf/config/pherf.properties              |   8 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  23 +-
 .../apache/phoenix/pherf/result/QueryResult.java   |  32 +-
 .../apache/phoenix/pherf/result/ResultManager.java |  19 +-
 .../apache/phoenix/pherf/result/ResultUtil.java    |  12 +-
 .../apache/phoenix/pherf/result/file/Header.java   |   2 +-
 .../phoenix/pherf/util/GoogleChartGenerator.java   | 361 +++++++++++++++++++++
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  30 ++
 .../pherf/workload/MultiThreadedRunner.java        |   4 +-
 .../pherf/workload/MultithreadedDiffer.java        |   4 +-
 .../phoenix/pherf/workload/QueryExecutor.java      |  12 +-
 .../phoenix/pherf/workload/QueryVerifier.java      |  30 --
 12 files changed, 494 insertions(+), 43 deletions(-)

commit 65d56bba6d8782ca0a76a30958daa059e3652f16
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Sep 21 08:32:36 2015 -0400

    PHOENIX-2274 Sort-merge join could not optimize out the sort on the right table

 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 35 ++++++++++++++++++++--
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  2 --
 .../apache/phoenix/compile/OrderByCompiler.java    | 10 ++++---
 .../org/apache/phoenix/compile/QueryCompiler.java  | 11 +++----
 4 files changed, 45 insertions(+), 13 deletions(-)

commit 3c2997cda557cb9b6cb3bd36c67ed0b4a3f89f0e
Author: Dumindu Buddhika <dumindukarunathilaka@gmail.com>
Date:   Mon Sep 21 16:37:50 2015 +0530

    PHOENIX-2205 Group by a divided value (e.g., time/10) returns NULL

 .../java/org/apache/phoenix/end2end/GroupByIT.java | 72 ++++++++++++++++++++++
 .../phoenix/expression/RowKeyColumnExpression.java |  2 +-
 2 files changed, 73 insertions(+), 1 deletion(-)

commit 6dcc88262386ce6340c1a60a9f0b5e4cb6c787ed
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Sep 11 22:50:01 2015 +0200

    PHOENIX-2238 Support non-printable delimiters
    
    Work around serialization issues for non-printable characters
    in Hadoop Configuration objects by base64-encoding the delimiter
    characters for CSV bulk load.

 .../phoenix/mapreduce/CsvBulkImportUtil.java       | 22 +++++++--
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  6 ++-
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   | 57 ++++++++++++++++++----
 3 files changed, 71 insertions(+), 14 deletions(-)

commit 886483728f0376dea748258348273b214382b535
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Sep 9 11:08:42 2015 +0200

    PHOENIX-2239 Improve strict mode in psql CSV load
    
    Enforce strict mode when individual rows can't be parsed or
    upserted.

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java | 40 ++++++++++++++++++++--
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  8 ++---
 .../org/apache/phoenix/util/CSVCommonsLoader.java  | 15 +++++---
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |  4 +--
 .../phoenix/util/csv/CsvUpsertExecutorTest.java    |  5 +--
 5 files changed, 58 insertions(+), 14 deletions(-)

commit 29535f342ff53dbdef03dc5822a5e7583be32cbb
Author: Cody Marcel <cmarcel@cmarcel-wsl1.internal.salesforce.com>
Date:   Fri Sep 11 10:04:06 2015 -0700

    PHOENIX-2252 - QueryExecutor creates a Differ for performance test

 .../java/org/apache/phoenix/pherf/workload/QueryExecutor.java     | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f76062c90070fded2cb997ccf9232cea5603e3e8
Author: ayolajayamaha <raphaelanne2@gmail.com>
Date:   Thu Aug 20 20:47:34 2015 +0530

    PHOENIX-2187 Creating the front-end application for Phoenix Tracing Web App (Nishani)
    
    Conflicts:
            phoenix-tracing-webapp/pom.xml
            phoenix-tracing-webapp/src/main/webapp/index.html

 phoenix-tracing-webapp/pom.xml                     |    34 +
 .../src/main/webapp/css/bootstrap-theme.css        |   476 +
 .../src/main/webapp/css/bootstrap-theme.css.map    |     1 +
 .../src/main/webapp/css/bootstrap.css              |  6584 +++++
 .../src/main/webapp/css/bootstrap.css.map          |     1 +
 .../src/main/webapp/css/font-awesome.css           |  1801 ++
 .../src/main/webapp/fonts/FontAwesome.otf          |   Bin 0 -> 93888 bytes
 .../src/main/webapp/fonts/fontawesome-webfont.eot  |   Bin 0 -> 60767 bytes
 .../src/main/webapp/fonts/fontawesome-webfont.svg  |   565 +
 .../src/main/webapp/fonts/fontawesome-webfont.ttf  |   Bin 0 -> 122092 bytes
 .../src/main/webapp/fonts/fontawesome-webfont.woff |   Bin 0 -> 71508 bytes
 .../main/webapp/fonts/fontawesome-webfont.woff2    |   Bin 0 -> 56780 bytes
 .../webapp/fonts/glyphicons-halflings-regular.eot  |   Bin 0 -> 20127 bytes
 .../webapp/fonts/glyphicons-halflings-regular.svg  |   288 +
 .../webapp/fonts/glyphicons-halflings-regular.ttf  |   Bin 0 -> 45404 bytes
 .../webapp/fonts/glyphicons-halflings-regular.woff |   Bin 0 -> 23424 bytes
 .../fonts/glyphicons-halflings-regular.woff2       |   Bin 0 -> 18028 bytes
 phoenix-tracing-webapp/src/main/webapp/index.html  |   106 +-
 .../src/main/webapp/js/api/chart-model.js          |   177 +
 phoenix-tracing-webapp/src/main/webapp/js/app.js   |    52 +
 .../src/main/webapp/js/config/chart-config.js      |    45 +
 .../webapp/js/controllers/accordion-controllers.js |    29 +
 .../js/controllers/dependency-tree-controllers.js  |   143 +
 .../main/webapp/js/controllers/list-controllers.js |    22 +
 .../webapp/js/controllers/search-controllers.js    |    71 +
 .../webapp/js/controllers/timeline-controllers.js  |   153 +
 .../js/controllers/trace-count-controllers.js      |    40 +
 .../controllers/trace-distribution-controllers.js  |    39 +
 .../js/factories/statement-factory-config.js       |    14 +
 .../main/webapp/js/factories/statement-factory.js  |    29 +
 .../src/main/webapp/js/lib/angular-mocks.js        |  2468 ++
 .../src/main/webapp/js/lib/angular-route.js        |   995 +
 .../src/main/webapp/js/lib/angular.js              | 26309 +++++++++++++++++++
 .../src/main/webapp/js/lib/bootstrap.js            |  2317 ++
 .../src/main/webapp/js/lib/jquery-2.1.4.js         |  9210 +++++++
 .../src/main/webapp/js/lib/jquery.min.js           |     5 +
 .../src/main/webapp/js/lib/ng-google-chart.js      |   261 +
 .../src/main/webapp/js/lib/ui-bootstrap-tpls.js    |  4840 ++++
 .../js/services/generate-statement-service.js      |    46 +
 .../src/main/webapp/partials/about.html            |    10 +
 .../src/main/webapp/partials/chart.html            |    24 +
 .../src/main/webapp/partials/contact.html          |     5 +
 .../src/main/webapp/partials/dependency-tree.html  |    11 +
 .../src/main/webapp/partials/google-chart.html     |    23 +
 .../src/main/webapp/partials/help.html             |    36 +
 .../src/main/webapp/partials/home.html             |    20 +
 .../src/main/webapp/partials/list.html             |    39 +
 .../src/main/webapp/partials/phoenix-trace.html    |    60 +
 .../src/main/webapp/partials/search.html           |    58 +
 .../src/test/webapp/js/specs/app-route-spec.js     |    55 +
 .../src/test/webapp/js/specs/timeline-ctrl-spec.js |    27 +
 .../test/webapp/js/specs/trace-list-ctrl-spec.js   |    89 +
 .../test/webapp/js/specs/tracing-app-ctrl-spec.js  |    23 +
 53 files changed, 57595 insertions(+), 6 deletions(-)

commit 2f18fc821c6284a13de2878db27142e84b7bf9f0
Author: ayolajayamaha <raphaelanne2@gmail.com>
Date:   Mon Jul 27 22:27:27 2015 +0530

    PHOENIX-2186 Creating backend services for the Phoenix Tracing Web App (Nishani)
    
    Conflicts:
            pom.xml

 bin/phoenix_utils.py                               |   8 +
 bin/traceserver.py                                 | 188 ++++++++++++++
 phoenix-tracing-webapp/README.md                   |  15 ++
 phoenix-tracing-webapp/pom.xml                     | 122 +++++++++
 .../src/build/trace-server-runnable.xml            |  60 +++++
 .../src/main/config/checkstyle/checker.xml         | 281 +++++++++++++++++++++
 .../src/main/config/checkstyle/header.txt          |  16 ++
 .../src/main/config/checkstyle/suppressions.xml    |  46 ++++
 .../tracingwebapp/http/ConnectionFactory.java      |  43 ++++
 .../phoenix/tracingwebapp/http/EntityFactory.java  | 101 ++++++++
 .../apache/phoenix/tracingwebapp/http/Main.java    |  81 ++++++
 .../phoenix/tracingwebapp/http/TraceServlet.java   | 152 +++++++++++
 .../src/main/webapp/WEB-INF/web.xml                |  15 ++
 phoenix-tracing-webapp/src/main/webapp/index.html  |  16 ++
 pom.xml                                            |   2 +
 15 files changed, 1146 insertions(+)

commit 926bc72c45f8e55c9767c2d3406a76a50f9eac32
Author: Jan <jfernando@salesforce.com>
Date:   Thu Sep 3 17:48:18 2015 -0700

    PHOENIX-2227 Added the ability to Pherf to define a DDL statement that will be executed before a scenario is run to support dynamically creating multi-tenant views we are going to write and read from

 .../org/apache/phoenix/pherf/DataIngestIT.java     | 27 ++++++++++++++++++----
 .../phoenix/pherf/configuration/Scenario.java      | 13 +++++++++++
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 21 +++++++++++++++++
 .../phoenix/pherf/workload/WriteWorkload.java      |  5 +++-
 .../src/test/resources/scenario/test_scenario.xml  | 21 ++++++++++++++++-
 5 files changed, 81 insertions(+), 6 deletions(-)

commit ebebf58910ba03aaab9e515ddb0cd36ea469515d
Author: Cody Marcel <cody.marcel@gmail.com>
Date:   Mon Aug 3 15:10:58 2015 -0700

    PHOENIX-2184 - Pherf - Add plugable custom result writer

 .../org/apache/phoenix/util/InstanceResolver.java  |  26 ++-
 phoenix-pherf/config/pherf.properties              |   3 +-
 .../org/apache/phoenix/pherf/DataIngestIT.java     |   8 +-
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java |   2 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  14 +-
 .../org/apache/phoenix/pherf/PherfConstants.java   |  35 ++--
 .../apache/phoenix/pherf/jmx/MonitorManager.java   |  14 +-
 .../apache/phoenix/pherf/result/QueryResult.java   |  31 +--
 .../apache/phoenix/pherf/result/ResultHandler.java |   6 +
 .../apache/phoenix/pherf/result/ResultManager.java |  61 ++++--
 .../apache/phoenix/pherf/result/ResultUtil.java    |  34 +++-
 .../pherf/result/file/ResultFileDetails.java       |   5 +
 .../pherf/result/impl/CSVFileResultHandler.java    |  89 +++++++++
 .../pherf/result/impl/CSVResultHandler.java        | 108 ++---------
 .../pherf/result/impl/DefaultResultHandler.java    |  67 +++++++
 .../pherf/result/impl/ImageResultHandler.java      |  50 +++--
 .../pherf/result/impl/XMLResultHandler.java        |  44 ++---
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 209 +++++++++++----------
 .../pherf/workload/MultiThreadedRunner.java        |   5 +-
 .../phoenix/pherf/workload/QueryExecutor.java      |  37 ++--
 .../phoenix/pherf/workload/WorkloadExecutor.java   |  17 +-
 .../phoenix/pherf/workload/WriteWorkload.java      |   3 +-
 .../java/org/apache/phoenix/pherf/PherfTest.java   |   2 +-
 .../org/apache/phoenix/pherf/ResultBaseTest.java   |   5 +-
 .../java/org/apache/phoenix/pherf/ResultTest.java  |  97 +++++-----
 25 files changed, 570 insertions(+), 402 deletions(-)

commit 2acb38a9c64d0d4f6551af9ad2767b9e36c6975a
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Sep 9 16:58:57 2015 -0400

    PHOENIX-2198 Support correlate variable

 .../org/apache/phoenix/execute/AggregatePlan.java  |   9 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  22 +-
 .../org/apache/phoenix/execute/CorrelatePlan.java  | 208 +++++++++++++++++
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   9 +-
 .../execute/LiteralResultIterationPlan.java        |  11 +-
 .../org/apache/phoenix/execute/RuntimeContext.java |  33 +++
 .../apache/phoenix/execute/RuntimeContextImpl.java |  86 +++++++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   9 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   5 +-
 .../apache/phoenix/execute/UnnestArrayPlan.java    |   8 +-
 .../CorrelateVariableFieldAccessExpression.java    |  75 +++++++
 .../apache/phoenix/expression/ExpressionType.java  |  11 +-
 .../expression/visitor/CloneExpressionVisitor.java |   6 +
 .../expression/visitor/ExpressionVisitor.java      |   2 +
 .../StatelessTraverseAllExpressionVisitor.java     |   7 +
 .../StatelessTraverseNoExpressionVisitor.java      |   7 +
 .../UngroupedAggregatingResultIterator.java        |   3 +-
 .../apache/phoenix/execute/CorrelatePlanTest.java  | 248 +++++++++++++++++++++
 .../phoenix/execute/UnnestArrayPlanTest.java       |   6 +-
 20 files changed, 744 insertions(+), 23 deletions(-)

commit d18afe183525db7e1b9aba4e469ab39931204070
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Sep 8 15:41:41 2015 -0700

    PHOENIX-2194 order by should not require all PK fields with = constraint

 .../phoenix/end2end/RowValueConstructorIT.java     |  69 +++++++++
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  27 ++++
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  24 +++
 .../phoenix/compile/OrderPreservingTracker.java    |  21 ++-
 .../org/apache/phoenix/compile/ScanRanges.java     | 136 ++++++++++++----
 .../org/apache/phoenix/compile/WhereOptimizer.java |  72 ++++-----
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   7 +-
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  28 ++--
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   5 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   7 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   6 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  49 +++---
 .../apache/phoenix/compile/QueryCompilerTest.java  |  18 ++-
 .../phoenix/compile/ScanRangesIntersectTest.java   |  37 +----
 .../org/apache/phoenix/compile/ScanRangesTest.java |   3 +-
 .../TenantSpecificViewIndexCompileTest.java        | 172 +++++++++++++++++++++
 .../apache/phoenix/compile/ViewCompilerTest.java   |   1 -
 .../apache/phoenix/compile/WhereOptimizerTest.java |  22 ++-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   3 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |  10 +-
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  10 +-
 21 files changed, 537 insertions(+), 190 deletions(-)

commit b3c05bfd6a331a5d11e4d872dafbead108df3bf0
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Sep 5 22:06:40 2015 -0700

    PHOENIX-2237 Optimiza search comparator in KeyValyeUtil.

 .../java/org/apache/phoenix/util/KeyValueUtil.java | 91 ++++++----------------
 1 file changed, 24 insertions(+), 67 deletions(-)

commit 4b9e740efc5bfb3fb13ec2542bdfe2157b29f65b
Author: Samarth <samarth@apache.org>
Date:   Fri Sep 4 10:05:15 2015 -0700

    PHOENIX-2207 Load scanner caches in parallel when using stats and round robin iterator

 .../iterate/MockParallelIteratorFactory.java       |  47 ++++++++++
 .../phoenix/iterate/MockTableResultIterator.java   |  66 +++++++++++++
 .../iterate/RoundRobinResultIteratorIT.java        |  40 +++++++-
 .../RoundRobinResultIteratorWithStatsIT.java       | 104 +++++++++++++++++++++
 .../phoenix/iterate/BaseResultIterators.java       |  14 ++-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  16 ++++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   6 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   3 +-
 8 files changed, 290 insertions(+), 6 deletions(-)

commit 6ada2ae039b717a35056b1b8df4e4f9e1145ace5
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Thu Sep 3 11:58:06 2015 -0400

    PHOENIX-2116: phoenix-flume - Sink/Serializer should be extendable
    
    Removes 'final' from the PhoenixSink class declaration, and allows
    passing a custom event serializer class instead of a built-in.

 phoenix-flume/pom.xml                              |  4 +
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    | 99 +++++++++++++++++++---
 .../phoenix/flume/serializer/CustomSerializer.java | 46 ++++++++++
 .../apache/phoenix/flume/sink/NullPhoenixSink.java | 21 +++++
 .../org/apache/phoenix/flume/sink/PhoenixSink.java | 24 ++++--
 5 files changed, 171 insertions(+), 23 deletions(-)

commit caaf29e920e517d872cf8adad7fddc09328140fe
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Wed Sep 2 17:07:47 2015 +0530

    PHOENIX-2160 - Add new files

 .../CloneNonDeterministicExpressionVisitor.java    | 30 ++++++++++++++
 .../visitor/ProjectedColumnExpressionVisitor.java  | 25 ++++++++++++
 .../ReplaceArrayFunctionExpressionVisitor.java     | 46 ++++++++++++++++++++++
 3 files changed, 101 insertions(+)

commit 7d7c21786f4c1224027aec05a9b72411a3a1c07b
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Wed Sep 2 14:40:49 2015 +0530

    PHOENIX-2160 - Projection of specific array index does not work (Dumindu
    Buddhika)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 441 +++++++++++++++++++++
 .../apache/phoenix/compile/ProjectionCompiler.java | 130 ++++--
 .../org/apache/phoenix/compile/RowProjector.java   |   4 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  15 +-
 .../expression/ProjectedColumnExpression.java      |   7 +-
 .../expression/visitor/CloneExpressionVisitor.java |  47 ++-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   3 +
 .../apache/phoenix/compile/QueryCompilerTest.java  |  77 ++++
 .../expression/ArithmeticOperationTest.java        |   8 +-
 9 files changed, 660 insertions(+), 72 deletions(-)

commit ed3f3bb5478d2266773ccd6d617f79e469338748
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Sep 1 15:49:06 2015 -0700

    PHOENIX-2195 Query server jar files not included in released tarballs

 dev/make_rc.sh | 14 +++-----------
 1 file changed, 3 insertions(+), 11 deletions(-)

commit f15c4dc3361c1673129042bd3be3bdd6484a4c08
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Mon Aug 31 14:34:26 2015 +0530

    PHOENIX-2213 ARRAY_LENGTH fails for Decimal type array (Dumindu Buddhika)

 .../org/apache/phoenix/expression/function/ArrayLengthFunction.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit da37b9dacd071ad6afc044602cbef56c21d62033
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 30 18:21:14 2015 -0700

    PHOENIX-2206 Math function called with PK column ignores WHERE clause

 .../phoenix/end2end/ExpFunctionEnd2EndIT.java      | 24 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java | 15 --------------
 .../apache/phoenix/compile/WhereOptimizerTest.java | 11 ++++++++++
 3 files changed, 35 insertions(+), 15 deletions(-)

commit 16fcdf9e1c116758027b79a24f9ec701cb63496f
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Aug 28 17:48:43 2015 -0700

    PHOENIX-2154 Failure of one mapper should not affect other mappers in MR index build (Ravi Kishore Valeti)

 .../org/apache/phoenix/mapreduce/IndexToolIT.java  |  41 +++-
 .../mapreduce/index/DirectHTableWriter.java        | 115 +++++++++
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 272 +++++++++++++--------
 .../phoenix/mapreduce/index/IndexToolUtil.java     |  76 ++++++
 .../index/PhoenixIndexImportDirectMapper.java      | 136 +++++++++++
 .../mapreduce/index/PhoenixIndexToolReducer.java   |  60 +++++
 6 files changed, 597 insertions(+), 103 deletions(-)

commit 2f128ee8bd2273397abb1f2989e83657181b0486
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Aug 27 14:54:56 2015 +0530

    PHOENIX-2151 Two different UDFs called on same column return values from first UDF only(Rajeshbabu)

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 96 +++++++++++++++++++++-
 .../phoenix/expression/function/UDFExpression.java | 24 ++++++
 2 files changed, 117 insertions(+), 3 deletions(-)

commit 83d381341eccfacac650f5eeb9006a0d21ef0a0f
Author: maryannxue <wei.xue@intel.com>
Date:   Tue Aug 25 13:43:08 2015 -0400

    PHOENIX-2141 ComparisonExpression should return Boolean null if either operand is null (bug fix)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java     | 5 +++++
 1 file changed, 5 insertions(+)

commit 80f3e9f18030c7b7c769631267f026009f14ad35
Author: maryannxue <wei.xue@intel.com>
Date:   Tue Aug 25 09:46:19 2015 -0400

    Add Apache license header

 .../org/apache/phoenix/expression/NullValueTest.java    | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 8a983243f55bf36236bbcac018e01dff4cb14e8a
Author: maryannxue <wei.xue@intel.com>
Date:   Tue Aug 25 08:57:53 2015 -0400

    PHOENIX-2141 ComparisonExpression should return Boolean null if either operand is null (bug fix)

 .../apache/phoenix/compile/ExpressionCompiler.java |  3 --
 .../apache/phoenix/expression/AndExpression.java   |  3 --
 .../apache/phoenix/compile/WhereCompilerTest.java  |  3 +-
 .../apache/phoenix/expression/NullValueTest.java   | 45 +++++++++++++++++++---
 4 files changed, 41 insertions(+), 13 deletions(-)

commit db137dcaef2d5c7e7bfd83b3ee96f62c4c6c5700
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Aug 24 12:29:14 2015 -0400

    PHOENIX-953 Support UNNEST for ARRAY

 .../org/apache/phoenix/end2end/UnnestArrayIT.java  | 356 +++++++++++++++++++++
 .../org/apache/phoenix/execute/TupleProjector.java |  10 +
 .../apache/phoenix/execute/UnnestArrayPlan.java    | 183 +++++++++++
 .../phoenix/execute/UnnestArrayPlanTest.java       | 162 ++++++++++
 4 files changed, 711 insertions(+)

commit aa86c899c9429e84f5b0dd5332c929e8eeb9e311
Author: maryannxue <wei.xue@intel.com>
Date:   Sat Aug 22 09:22:42 2015 -0400

    PHOENIX-2164 Add LiteralResultIterationQueryPlan for implemention of Values

 .../org/apache/phoenix/compile/QueryCompiler.java  |  4 +--
 ...ryPlan.java => LiteralResultIterationPlan.java} | 30 +++++++++++++++-------
 2 files changed, 23 insertions(+), 11 deletions(-)

commit 0f84104e2d8914436bb1c1e5f8fa1d40118d1343
Author: ravimagham <ravimagham@apache.org>
Date:   Thu Aug 20 21:17:42 2015 -0700

    PHOENIX-2031 - Unable to process timestamp/Date data loaded via Phoenix org.apache.phoenix.pig.PhoenixHBaseLoader(ayingshu)

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 89 +++++++++++++++++++++-
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |  5 +-
 2 files changed, 91 insertions(+), 3 deletions(-)

commit c6a3d6f9ced2aeb6dadb44b899368d3da1a3b6ae
Author: Ravi Magham <ravi.magham@bazaarvoice.com>
Date:   Fri Aug 14 14:19:16 2015 -0700

    PHOENIX-2181: PhoenixHBaseLoader doesn't work with salted tables

 .../org/apache/phoenix/util/PhoenixRuntime.java    |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 47 ++++++++++++++++++++++
 2 files changed, 50 insertions(+), 1 deletion(-)

commit 8a1566c03ad24b2ffa5515b55918d9dc4f03efac
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Aug 13 12:24:50 2015 -0700

    PHOENIX-2177 Adding a column to the view shouldn't call admin.modifyTable() for the base table

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 40 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 28 +++++++++++----
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  4 ++-
 4 files changed, 66 insertions(+), 7 deletions(-)

commit 5c048430ed39ce23f95609607c1bd845401900a9
Author: Jeffrey Lyons <Jeffrey.Lyons@d2l.com>
Date:   Thu Jul 9 10:07:40 2015 -0400

    PHOENIX-1673 Allow TenantId to be of any integral data type

 .../end2end/BaseTenantSpecificViewIndexIT.java     |  33 ++-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  25 ++
 .../org/apache/phoenix/end2end/TenantIdTypeIT.java | 226 ++++++++++++++++
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  12 -
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   5 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |   3 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   3 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  11 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  14 +-
 .../org/apache/phoenix/execute/MutationState.java  |  23 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  35 +--
 .../phoenix/util/TenantIdByteConversionTest.java   | 294 +++++++++++++++++++++
 14 files changed, 631 insertions(+), 60 deletions(-)

commit b28686fdb685e6c91b73d3494ade19da2f2b47d5
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Aug 13 10:38:55 2015 -0700

    PHOENIX-2165 Make zip file name and directory consistent for phoenix-*-cluster.zip (gliptak)

 phoenix-pherf/src/main/assembly/cluster.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 209b45e912e8e7202583788f541dc8cd299f7e27
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Aug 12 15:33:18 2015 -0700

    PHOENIX-2175 Bump calcite version to 1.3.0-incubating

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 274eb42d41c3c545f28491d845ec6e0b20bdbe5b
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Aug 12 09:00:57 2015 -0700

    PHOENIX-2142 Implement octet_length build-in function for BINARY and VARBINARY(Shuxiong Ye)

 .../end2end/OctetLengthFunctionEnd2EndIT.java      | 73 ++++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  4 +-
 .../expression/function/OctetLengthFunction.java   | 66 +++++++++++++++++++
 .../apache/phoenix/schema/types/PBinaryBase.java   | 12 ++++
 .../expression/OctetLengthFunctionTest.java        | 67 ++++++++++++++++++++
 5 files changed, 221 insertions(+), 1 deletion(-)

commit c435bba8f375076c47739b757be12f5109bedace
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 11 01:59:23 2015 -0700

    PHOENIX-2171 DOUBLE and FLOAT DESC are stored as ASC

 .../org/apache/phoenix/end2end/SortOrderIT.java    |  6 ++--
 .../UngroupedAggregateRegionObserver.java          |  6 ++++
 .../java/org/apache/phoenix/schema/PTableImpl.java | 10 ++++++-
 .../org/apache/phoenix/schema/types/PDataType.java |  4 +--
 .../org/apache/phoenix/schema/types/PDouble.java   | 18 ++++++++----
 .../org/apache/phoenix/schema/types/PFloat.java    | 18 +++++++-----
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  5 ++++
 .../apache/phoenix/schema/types/PDataTypeTest.java | 33 ++++++++++++++++++++++
 8 files changed, 82 insertions(+), 18 deletions(-)

commit 5330c0794e143014f5bd67114e3fc87c53015789
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 3 16:40:47 2015 -0700

    PHOENIX-2137 Range query on DECIMAL DESC sometimes incorrect

 .../org/apache/phoenix/end2end/SortOrderIT.java    | 110 ++++++++++++++++++++-
 .../org/apache/phoenix/compile/ScanRanges.java     |   7 +-
 .../execute/DescVarLengthFastByteComparisons.java  |  12 +++
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  13 ++-
 .../java/org/apache/phoenix/query/KeyRange.java    |  42 ++++----
 .../org/apache/phoenix/schema/types/PDataType.java |   3 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  64 ++++++++++--
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   2 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  20 ++++
 .../DescVarLengthFastByteComparisonsTest.java      |  45 +++++++++
 .../expression/SortOrderExpressionTest.java        |  13 ++-
 11 files changed, 288 insertions(+), 43 deletions(-)

commit d401fa3a6f5ec9787b120643881a389b9af7b19f
Author: Cody Marcel <cody.marcel@gmail.com>
Date:   Mon Aug 10 12:08:07 2015 -0700

    PHOENIX-1994 - TestIndexWriter#testFailureOnRunningUpdateAbortsPending() deadlocks on JDK 8

 .../test/java/org/apache/phoenix/hbase/index/write/TestIndexWriter.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c811cf68752b91585fc9c12741f3be005fefbe2f
Author: Jan <jfernando@salesforce.com>
Date:   Thu Aug 6 11:12:52 2015 -0700

    PHOENIX-1791. Adding ability for Pherf Write Workloads to write to a multi-tenant view.

 .../org/apache/phoenix/pherf/DataIngestIT.java     | 67 +++++++++++++++++++---
 .../phoenix/pherf/configuration/Scenario.java      | 25 ++++++--
 .../pherf/configuration/XMLConfigParser.java       | 23 ++++----
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 30 ++++++----
 .../phoenix/pherf/workload/WriteWorkload.java      | 49 +++++++++++-----
 .../resources/datamodel/test_schema_mt_table.sql   | 31 ++++++++++
 .../resources/datamodel/test_schema_mt_view.sql    |  1 +
 .../src/test/resources/scenario/test_scenario.xml  | 22 +++++++
 8 files changed, 198 insertions(+), 50 deletions(-)

commit 60500f25311376c8d62324a04cccede5bf7be955
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Aug 5 10:02:00 2015 -0700

    PHOENIX-2140 Addendum

 .../java/org/apache/phoenix/expression/function/GetBitFunction.java     | 2 +-
 .../java/org/apache/phoenix/expression/function/SetBitFunction.java     | 2 +-
 .../java/org/apache/phoenix/expression/function/SetByteFunction.java    | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit caf65ca765040709aeb1ea5da1281f1eecae2614
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Aug 5 09:42:15 2015 -0700

    PHOENIX-2140 Implement get_byte/set_byte/get_bit/set_bit Binary String build-in function (Shuxiong Ye)

 .../end2end/GetSetByteBitFunctionEnd2EndIT.java    | 100 +++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  10 +-
 .../expression/function/GetBitFunction.java        |  96 +++++++++++
 .../expression/function/GetByteFunction.java       |  96 +++++++++++
 .../expression/function/SetBitFunction.java        |  81 +++++++++
 .../expression/function/SetByteFunction.java       |  81 +++++++++
 .../org/apache/phoenix/schema/types/PBinary.java   |   2 +-
 .../apache/phoenix/schema/types/PBinaryBase.java   |  86 ++++++++++
 .../apache/phoenix/schema/types/PVarbinary.java    |   2 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  33 +++-
 .../expression/GetSetByteBitFunctionTest.java      | 189 +++++++++++++++++++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   8 +
 .../java/org/apache/phoenix/util/TestUtil.java     |   1 +
 13 files changed, 780 insertions(+), 5 deletions(-)

commit d41a0fcbd75456bc68eaa673361290504abd9895
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Aug 4 15:47:44 2015 -0700

    PHOENIX-2145 Pherf - Make update stats optional and fix threads not exiting after performance run

 phoenix-pherf/pom.xml                              |  3 --
 .../org/apache/phoenix/pherf/DataIngestIT.java     |  4 +-
 .../src/main/assembly/components-minimal.xml       |  2 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  | 23 +++++-------
 .../org/apache/phoenix/pherf/PherfConstants.java   |  5 +++
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 11 ++++++
 .../phoenix/pherf/workload/QueryExecutor.java      |  3 +-
 .../phoenix/pherf/workload/WriteWorkload.java      | 43 +++++++++++-----------
 .../java/org/apache/phoenix/pherf/PherfTest.java   |  2 +-
 9 files changed, 55 insertions(+), 41 deletions(-)

commit e4ed2d9f6f046ebc510ab3c78a1b3b8a9c39d0aa
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jul 29 13:06:52 2015 -0700

    PHOENIX-2155 Add gpg signing to release profile

 pom.xml | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 7e21b8b9893284750f6573f867c73d132f120183
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 28 10:23:49 2015 -0700

    Post release - Set version to 4.6.0-HBase-1.1-SNAPSHOT

 phoenix-assembly/pom.xml      | 2 +-
 phoenix-core/pom.xml          | 2 +-
 phoenix-flume/pom.xml         | 2 +-
 phoenix-pherf/pom.xml         | 2 +-
 phoenix-pig/pom.xml           | 2 +-
 phoenix-server-client/pom.xml | 2 +-
 phoenix-server/pom.xml        | 2 +-
 phoenix-spark/pom.xml         | 2 +-
 pom.xml                       | 2 +-
 9 files changed, 9 insertions(+), 9 deletions(-)

commit 265b6dee75891c1d4a35cb73d4baaf86cbae1482
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jul 28 10:30:00 2015 +0530

    PHOENIX-2147 Implement STRING_TO_ARRAY built in function (Dumindu
    Buddhika)

 .../phoenix/end2end/StringToArrayFunctionIT.java   | 423 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/StringToArrayFunction.java |  91 +++++
 .../phoenix/schema/types/PArrayDataType.java       |  21 +
 .../expression/StringToArrayFunctionTest.java      | 275 ++++++++++++++
 5 files changed, 813 insertions(+), 1 deletion(-)

commit 28a8e9774bbea0d44bc716d8a495a6b93768bbef
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Jul 27 13:15:17 2015 -0700

    PHOENIX-2149 MAX Value of Sequences not honored when closing Connection between calls to NEXT VALUE FOR (Jan Fernando)

 .../org/apache/phoenix/end2end/SequenceIT.java     | 33 ++++++++++++++++++++++
 .../java/org/apache/phoenix/schema/Sequence.java   |  3 +-
 2 files changed, 34 insertions(+), 2 deletions(-)

commit c0d0c79e1ca487d69a036b36dda280e20a6ed7e5
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Jul 27 14:50:16 2015 -0400

    PHOENIX-2141 ComparisonExpression should return Boolean null if either operand is null

 .../apache/phoenix/compile/ExpressionCompiler.java |  3 ++
 .../org/apache/phoenix/compile/HavingCompiler.java |  2 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  2 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  2 +-
 .../apache/phoenix/expression/AndExpression.java   |  3 ++
 .../phoenix/expression/ComparisonExpression.java   |  4 +-
 .../phoenix/expression/LiteralExpression.java      | 23 +++++++--
 .../apache/phoenix/expression/NullValueTest.java   | 59 ++++++++++++++++++++++
 8 files changed, 89 insertions(+), 9 deletions(-)

commit 69f22b5151e40645b4968a787e55d0155b128855
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Sun Jul 26 12:06:11 2015 +0530

    PHOENIX-2138 Non equality comparisons don't work for ARRAY type columns
    that are DESC in row key (Dumindu Buddhika)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 201 ++++++++++++++++++++-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   4 +-
 .../phoenix/schema/types/PArrayDataType.java       |   9 +-
 .../apache/phoenix/schema/types/PhoenixArray.java  |   4 -
 4 files changed, 209 insertions(+), 9 deletions(-)

commit ce89805535664a63b0df6c633d2ad0def5679250
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jul 24 11:55:45 2015 -0700

    PHOENIX 2132 Minor addendum to fix RAT warning

 phoenix-pherf/pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c65ef907f4c2e8edbcc563e2fea3decca41c4fe9
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jul 24 11:18:52 2015 -0700

    PHOENIX-2132 Pherf - Fix drop all command and execution from Eclipse/IDE

 phoenix-pherf/pom.xml                              | 25 +++++++---
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 55 +++++++++++++++++-----
 2 files changed, 60 insertions(+), 20 deletions(-)

commit b7cd7e505ed14338d9bcd6f49f659e7f067de0d8
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jul 22 21:49:40 2015 -0700

    Prepare for release

 dev/make_rc.sh                | 59 +++++++++++++------------------------------
 phoenix-assembly/pom.xml      |  2 +-
 phoenix-core/pom.xml          |  2 +-
 phoenix-flume/pom.xml         |  2 +-
 phoenix-pherf/pom.xml         |  2 +-
 phoenix-pig/pom.xml           |  2 +-
 phoenix-server-client/pom.xml |  2 +-
 phoenix-server/pom.xml        |  2 +-
 phoenix-spark/pom.xml         |  2 +-
 pom.xml                       |  2 +-
 10 files changed, 27 insertions(+), 50 deletions(-)

commit 18fefed64f1a3194e70915e369da9956b8d75ae9
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jul 22 20:57:41 2015 -0700

    Fix Apache RAT warnings

 .../it/java/org/apache/phoenix/rpc/UpdateCacheIT.java | 17 +++++++++++++++++
 .../org/apache/phoenix/compile/ListJarsQueryPlan.java | 17 +++++++++++++++++
 .../expression/function/ArrayFillFunction.java        | 17 +++++++++++++++++
 .../org/apache/phoenix/parse/DeleteJarStatement.java  | 17 +++++++++++++++++
 .../org/apache/phoenix/schema/SequenceAllocation.java | 19 ++++++++++++++++++-
 .../apache/phoenix/schema/SequenceAllocationTest.java | 17 +++++++++++++++++
 .../org/apache/phoenix/pherf/workload/Workload.java   | 17 +++++++++++++++++
 .../phoenix/pig/udf/ReserveNSequenceTestIT.java       | 16 +++++++++++++++-
 8 files changed, 135 insertions(+), 2 deletions(-)

commit 5076052d5a84194554da96894c27a3829ce6e75b
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 22 16:22:58 2015 -0700

    PHOENIX-2139 LIKE '%' is not filtering out null columns

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a50ead27afa467f6d530052354ac741fb8aa1307
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jul 22 16:12:15 2015 -0700

    PHOENIX-2139 LIKE '%' is not filtering out null columns

 .../apache/phoenix/end2end/LikeExpressionIT.java   | 38 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 ++
 2 files changed, 40 insertions(+)

commit f00c777cf5aa84fc3ecbea041756ba7c8f79aa0d
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 22 15:07:58 2015 -0700

    PHOENIX-2110 Addendum to fix test failure and enforcing tenancy switch check

 .../phoenix/end2end/AlterTableWithViewsIT.java     | 31 ++++++++++++++
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 47 +++++++++++++++++---
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 50 +++++++++++++++-------
 3 files changed, 107 insertions(+), 21 deletions(-)

commit 5b46793b6951cf1ca04850a5ad771f2cd9f5802a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 22 11:46:05 2015 -0700

    PHOENIX-2110 Primary key changes should be pushed to diverged views

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  929 +----------------
 .../phoenix/end2end/AlterTableWithViewsIT.java     | 1047 ++++++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  755 +++++++++-----
 3 files changed, 1536 insertions(+), 1195 deletions(-)

commit 498cc5524ff73c3947160ddfc4241f759c7044f2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jul 22 09:18:00 2015 -0700

    PHOENIX-2120 Padding character is not inverted as required for DESC CHAR columns

 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  10 --
 .../java/org/apache/phoenix/end2end/InListIT.java  |  53 ++++++++++-
 .../apache/phoenix/end2end/RTrimFunctionIT.java    |  71 ++++++++++++++
 .../org/apache/phoenix/end2end/SortOrderIT.java    |  59 ++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  12 ++-
 .../org/apache/phoenix/compile/WhereOptimizer.java | 102 +++------------------
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   6 +-
 .../expression/ArrayConstructorExpression.java     |  28 ++++--
 .../apache/phoenix/expression/BaseExpression.java  |  43 ++++-----
 .../phoenix/expression/CoerceExpression.java       |  39 +++++---
 .../phoenix/expression/ComparisonExpression.java   |  32 ++++---
 .../phoenix/expression/InListExpression.java       |  26 +++++-
 .../phoenix/expression/LiteralExpression.java      |  18 +++-
 .../expression/function/InvertFunction.java        |   6 +-
 .../expression/function/PrefixFunction.java        |  30 ++++--
 .../phoenix/expression/function/RTrimFunction.java |  55 +++++++++--
 .../expression/visitor/CloneExpressionVisitor.java |   2 +-
 .../phoenix/schema/types/PArrayDataType.java       |   4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   8 ++
 .../java/org/apache/phoenix/util/TestUtil.java     |   4 +-
 20 files changed, 408 insertions(+), 200 deletions(-)

commit 8c2b5a698d95dfe44d19dea7a067a1af1695763b
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jul 21 18:54:10 2015 -0700

    PHOENIX-2115 Simplify Pherf generated dependency jar and pom.xml (remove unused variables)

 .../java/org/apache/phoenix/pig/util/PhoenixPigSchemaUtilTest.java  | 6 ------
 1 file changed, 6 deletions(-)

commit d3316ce4cca01fc0608f381e3d9a5afae68efae7
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 21 17:36:12 2015 -0700

    Simplify Pherf generated dependency jar and pom.xml - Add missing dependency

 phoenix-pherf/pom.xml | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 6277fdafc0e8ac0e2e74df540dc1a924165faf22
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 21 15:57:04 2015 -0700

    PHOENIX-2115 Simplify Pherf generated dependency jar and pom.xml

 phoenix-pherf/cluster/pherf.sh                     |   4 +-
 phoenix-pherf/config/env.sh                        |   4 +-
 phoenix-pherf/pom.xml                              | 527 +++++++--------------
 phoenix-pherf/src/main/assembly/cluster.xml        |   5 +-
 .../src/main/assembly/components-minimal.xml       |  33 ++
 phoenix-pherf/src/main/assembly/minimal.xml        |  31 ++
 phoenix-pherf/src/main/assembly/standalone.xml     |  13 +-
 7 files changed, 247 insertions(+), 370 deletions(-)

commit 359c255ba6c67d01a810d203825264907f580735
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Jul 15 11:13:55 2015 -0700

    Prevent splitting and recombining select expressions for MR integration

 .../org/apache/phoenix/mapreduce/IndexToolIT.java  |  42 +++----
 .../apache/phoenix/mapreduce/index/IndexTool.java  |   6 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |   2 +-
 .../util/ColumnInfoToStringEncoderDecoder.java     |  41 +++----
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 135 ++++++++++++---------
 .../mapreduce/util/PhoenixMapReduceUtil.java       |   2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../util/ColumnInfoToStringEncoderDecoderTest.java |  42 ++++---
 .../util/PhoenixConfigurationUtilTest.java         |   5 +-
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |   2 +-
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |   3 +-
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |  14 ++-
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java |  28 +++--
 .../apache/phoenix/spark/ConfigurationUtil.scala   |  18 +--
 .../apache/phoenix/spark/DataFrameFunctions.scala  |  35 ++++--
 .../phoenix/spark/PhoenixRecordWritable.scala      |  20 ++-
 .../apache/phoenix/spark/ProductRDDFunctions.scala |  28 +++--
 17 files changed, 245 insertions(+), 180 deletions(-)

commit dcf845c25eb9bd619a999d16ce9e2f548ce7b491
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jul 20 17:52:53 2015 -0700

    PHOENIX-2120 Padding character is not inverted as required for DESC CHAR columns

 .../org/apache/phoenix/end2end/LpadFunctionIT.java |  48 +++-
 .../java/org/apache/phoenix/compile/KeyPart.java   |   8 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java | 132 ++++++++---
 .../UngroupedAggregateRegionObserver.java          |  33 ++-
 .../phoenix/expression/LiteralExpression.java      |   3 +-
 .../expression/function/InvertFunction.java        |   8 +-
 .../expression/function/PrefixFunction.java        |  13 +-
 .../phoenix/expression/function/RTrimFunction.java |  15 +-
 .../expression/function/RoundDateExpression.java   |  12 +-
 .../function/RoundDecimalExpression.java           |  22 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   8 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  25 +-
 .../org/apache/phoenix/schema/types/PBinary.java   |  28 ++-
 .../org/apache/phoenix/schema/types/PChar.java     |  11 +
 .../org/apache/phoenix/schema/types/PDataType.java |   1 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  43 +++-
 .../java/org/apache/phoenix/util/StringUtil.java   |   7 -
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 256 ++++++++++++++-------
 18 files changed, 495 insertions(+), 178 deletions(-)

commit 936de881575423c9242d083e5852e82017905977
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Mon Jul 20 22:52:39 2015 +0530

    PHOENIX-2129 Fix ArrayToStringFunctionTest#testDate (Dumindu Buddhika)

 .../org/apache/phoenix/expression/ArrayToStringFunctionTest.java   | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit b38a62431ee44df171c913097d18e2433c951466
Author: Gabriel Reid <greid@apache.org>
Date:   Sun Jul 19 17:46:48 2015 +0200

    PHOENIX-2131 Closing paren in CastParseNode SQL
    
    Add a missing closing parenthesis in CastParseNode.toSQL.

 .../org/apache/phoenix/parse/CastParseNode.java    |  2 +-
 .../apache/phoenix/parse/CastParseNodeTest.java    | 57 ++++++++++++++++++++++
 2 files changed, 58 insertions(+), 1 deletion(-)

commit b329e85b697575fcebcde9555c991038d14e4a3c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jul 17 17:30:56 2015 -0700

    PHOENIX-2125 ORDER BY on full PK on salted table does not work

 .../java/org/apache/phoenix/execute/ScanPlan.java  | 12 +++++++-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  6 +++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 36 +++++++++++++++-------
 .../expression/ArrayToStringFunctionTest.java      |  4 ++-
 4 files changed, 44 insertions(+), 14 deletions(-)

commit f006df5451859eb9d22130bb46b58460eee49674
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jul 16 23:18:38 2015 +0530

    PHOENIX-1890 Provide queries for adding/deleting jars to/from common place in hdfs which is used by dynamic class loader(Rajeshbabu)

 .../phoenix/end2end/UserDefinedFunctionsIT.java    |  67 +++++--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  23 +++
 .../apache/phoenix/compile/ListJarsQueryPlan.java  | 216 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 175 +++++++++++++++++
 .../org/apache/phoenix/parse/AddJarsStatement.java |  38 ++++
 .../apache/phoenix/parse/DeleteJarStatement.java   |  19 ++
 .../apache/phoenix/parse/ListJarsStatement.java    |  34 ++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  12 ++
 8 files changed, 564 insertions(+), 20 deletions(-)

commit 236ce1c87c729c9beba5985e4fe3871e300176e6
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Thu Jul 16 21:20:36 2015 +0530

    PHOENIX-2101 Implement ARRAY_TO_STRING built in function (Dumindu
    Buddhika)

 .../phoenix/end2end/ArrayToStringFunctionIT.java   | 654 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/ArrayToStringFunction.java |  84 +++
 .../phoenix/schema/types/PArrayDataType.java       |  30 +
 .../expression/ArrayToStringFunctionTest.java      | 374 ++++++++++++
 5 files changed, 1145 insertions(+), 1 deletion(-)

commit 33d60506c5f2d4408a1df79f278d7a45d3401a27
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Thu Jul 16 21:13:31 2015 +0530

    PHOENIX-2067 Sort order incorrect for variable length DESC columns - ARRAY
    addendum (Dumindu Buddhika)

 .../phoenix/schema/types/PArrayDataType.java       |  14 +--
 .../expression/ArrayAppendFunctionTest.java        |  76 +++++++++---
 .../expression/ArrayConcatFunctionTest.java        | 129 +++++++++++++++++++++
 .../expression/ArrayPrependFunctionTest.java       |  61 ++++++++++
 .../schema/types/PDataTypeForArraysTest.java       |  70 ++++++++++-
 5 files changed, 324 insertions(+), 26 deletions(-)

commit ec93ec79c24cc847ed4a2777794da3cc0b0e3da3
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 15 13:34:39 2015 -0700

    PHOENIX-2123 Diverged view prevents schema propagation to the entire view hierarchy

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 34 ++++++++++++----------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  7 ++---
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  6 ++--
 3 files changed, 24 insertions(+), 23 deletions(-)

commit 553d3ccf40fbef78de9d8b14e2b774d2a2fc6597
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 15 12:48:55 2015 -0700

    PHOENIX-2121 Fix flapping RowValueConstructorIT

 .../phoenix/end2end/RowValueConstructorIT.java     | 46 ++++++++++++----------
 1 file changed, 25 insertions(+), 21 deletions(-)

commit a8f0d7696b6ee105d55c7d3dce50563e816cd857
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jul 15 12:21:09 2015 -0700

    PHOENIX-2118 Remove/modfiy usages of Guava StopWatch and deprecated ComparisonChain methods

 .../phoenix/monitoring/MetricsStopWatch.java       |  8 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../java/org/apache/phoenix/query/KeyRange.java    | 13 ++--
 .../org/apache/phoenix/util/PhoenixStopWatch.java  | 81 ++++++++++++++++++++++
 4 files changed, 91 insertions(+), 15 deletions(-)

commit cf2bc55175788603830ba8bc8b3eacc0998361c1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jul 14 17:40:29 2015 -0700

    PHOENIX-2117 Fix flapping DataIngestIT

 phoenix-pherf/src/test/resources/datamodel/test_schema.sql | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f09f1a5ddce38c256c647ca7cd80617259e35ea
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jul 14 17:24:01 2015 -0700

    PHOENIX-2111 Race condition on creation of new view and adding of column to base table

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  239 ++--
 .../coprocessor/generated/MetaDataProtos.java      | 1243 ++++++++++++++++++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |   75 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   12 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   14 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |    4 -
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |    4 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   14 +-
 8 files changed, 1414 insertions(+), 191 deletions(-)

commit 4b99c632c5e40251451e69fbe6d108f51e549e9e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jul 14 13:40:58 2015 -0700

    PHOENIX-2067 Sort order incorrect for variable length DESC columns

 .../java/org/apache/phoenix/util/UpgradeUtil.java     | 19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit 2620a80c1e35c0d214f06a1b16e99da5415a1a2c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jul 13 11:17:37 2015 -0700

    PHOENIX-2067 Sort order incorrect for variable length DESC columns

 dev/eclipse_prefs_phoenix.epf                      |    2 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |   59 +
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |   52 +-
 .../org/apache/phoenix/end2end/LpadFunctionIT.java |   24 +
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |   30 +
 .../phoenix/end2end/RowValueConstructorIT.java     |    7 +-
 .../{SortOrderFIT.java => SortOrderIT.java}        |   11 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |    3 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |    8 +-
 .../apache/phoenix/compile/OrderByCompiler.java    |    4 +-
 .../phoenix/compile/OrderPreservingTracker.java    |    7 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |    5 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |    4 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |    5 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   16 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |   53 +-
 .../coprocessor/BaseScannerRegionObserver.java     |    2 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   73 +-
 .../UngroupedAggregateRegionObserver.java          |  108 +-
 .../coprocessor/generated/PTableProtos.java        |  105 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    1 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   14 +-
 .../execute/DescVarLengthFastByteComparisons.java  |  219 +++
 .../expression/ArrayConstructorExpression.java     |    2 +-
 .../phoenix/expression/OrderByExpression.java      |   13 +-
 .../expression/RowValueConstructorExpression.java  |    8 +-
 .../expression/function/ArrayConcatFunction.java   |   11 +-
 .../expression/function/ArrayModifierFunction.java |    3 +-
 .../phoenix/expression/function/LpadFunction.java  |    8 +-
 .../phoenix/expression/util/regex/JONIPattern.java |    5 +-
 .../org/apache/phoenix/filter/SkipScanFilter.java  |    3 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  127 +-
 .../phoenix/iterate/BaseResultIterators.java       |  109 +-
 .../phoenix/iterate/OrderedResultIterator.java     |   52 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   29 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   17 +-
 .../java/org/apache/phoenix/query/KeyRange.java    |   14 -
 .../org/apache/phoenix/query/QueryConstants.java   |    3 +
 .../org/apache/phoenix/schema/DelegateTable.java   |    5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   31 +-
 .../java/org/apache/phoenix/schema/PTable.java     |    9 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |   78 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    |   44 +-
 .../apache/phoenix/schema/RowKeyValueAccessor.java |   12 +-
 .../org/apache/phoenix/schema/ValueSchema.java     |   30 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |    4 +-
 .../phoenix/schema/types/PArrayDataType.java       |  682 ++++---
 .../apache/phoenix/schema/types/PBinaryArray.java  |  122 +-
 .../apache/phoenix/schema/types/PBooleanArray.java |  112 +-
 .../apache/phoenix/schema/types/PCharArray.java    |  128 +-
 .../org/apache/phoenix/schema/types/PDataType.java | 2037 ++++++++++----------
 .../apache/phoenix/schema/types/PDateArray.java    |  131 +-
 .../apache/phoenix/schema/types/PDecimalArray.java |  126 +-
 .../apache/phoenix/schema/types/PDoubleArray.java  |  128 +-
 .../apache/phoenix/schema/types/PFloatArray.java   |  130 +-
 .../apache/phoenix/schema/types/PIntegerArray.java |  130 +-
 .../apache/phoenix/schema/types/PLongArray.java    |  130 +-
 .../phoenix/schema/types/PSmallintArray.java       |  130 +-
 .../apache/phoenix/schema/types/PTimeArray.java    |  133 +-
 .../phoenix/schema/types/PTimestampArray.java      |  132 +-
 .../apache/phoenix/schema/types/PTinyintArray.java |  130 +-
 .../phoenix/schema/types/PUnsignedDateArray.java   |  128 +-
 .../phoenix/schema/types/PUnsignedDoubleArray.java |  136 +-
 .../phoenix/schema/types/PUnsignedFloatArray.java  |  130 +-
 .../phoenix/schema/types/PUnsignedIntArray.java    |  130 +-
 .../phoenix/schema/types/PUnsignedLongArray.java   |  130 +-
 .../schema/types/PUnsignedSmallintArray.java       |  132 +-
 .../phoenix/schema/types/PUnsignedTimeArray.java   |  132 +-
 .../schema/types/PUnsignedTimestampArray.java      |  134 +-
 .../schema/types/PUnsignedTinyintArray.java        |  132 +-
 .../phoenix/schema/types/PVarbinaryArray.java      |  130 +-
 .../apache/phoenix/schema/types/PVarcharArray.java |  130 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |   12 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |    2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  154 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |   15 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   23 +
 .../java/org/apache/phoenix/util/TupleUtil.java    |    7 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  301 +++
 .../apache/phoenix/compile/QueryCompilerTest.java  |   35 +-
 .../java/org/apache/phoenix/query/OrderByTest.java |   84 +
 .../apache/phoenix/schema/types/PDataTypeTest.java |   12 +
 phoenix-protocol/src/main/PTable.proto             |    1 +
 83 files changed, 4435 insertions(+), 3465 deletions(-)

commit 01b4f6055911aa5036aa1e3a79340f80eb08396a
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jul 10 11:55:55 2015 -0700

    PHOENIX-2058 Check for existence and compatibility of columns being added in view

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 311 +++++++++++++++++----
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   6 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  64 +++--
 .../org/apache/phoenix/schema/MetaDataClient.java  |   9 +-
 4 files changed, 310 insertions(+), 80 deletions(-)

commit 66705d5170496bed7c39bd484517722ac8d09a13
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Jul 8 18:46:43 2015 -0700

    PHOENIX-978: Allow views to extend parent's PK only if parent's last PK column is fixed length

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  9 ++----
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 17 +++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 33 ++++++++++++++++++++++
 4 files changed, 54 insertions(+), 6 deletions(-)

commit a772a4a0ca3c9ac98335ce2148eb2b34d3ce1369
Author: Cody Marcel <cody.marcel@gmail.com>
Date:   Mon Jul 13 14:23:53 2015 -0700

    PHOENIX-2109 - Joda time version conflict between phoenix and pherf

 phoenix-pherf/pom.xml                                             | 2 +-
 .../src/it/java/org/apache/phoenix/pherf/DataIngestIT.java        | 8 ++++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 70c542d8e7b8bdcea58e2ef8cbf76143ec5ae66c
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Jul 13 16:15:42 2015 -0400

    PHOENIX-2112 Phoenix-Spark need to support UTF8String for spark 1.4.0 (Yi Tian)

 phoenix-spark/pom.xml                                              | 2 +-
 .../src/main/scala/org/apache/phoenix/spark/PhoenixRelation.scala  | 7 ++++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 052836c72c97de6580dda22fb485b7e3fa6d277d
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Jul 13 11:50:47 2015 -0700

    PHOENIX-2113 Include log4j.properties in Pherf so runtime logging is displayed on console by default

 phoenix-pherf/config/log4j.properties | 58 +++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 300de02c01def7e8f23dfc1930b2d9d281c1bebd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 10 16:32:56 2015 -0700

    PHOENIX-2098 Pig Udf that given a count Reserve chunks of numbers for a sequence (Siddhi Mehta)

 .../phoenix/pig/udf/ReserveNSequenceTestIT.java    | 262 +++++++++++++++++++++
 .../apache/phoenix/pig/udf/ReserveNSequence.java   |  88 +++++++
 2 files changed, 350 insertions(+)

commit 81b3cb35679adf7772266f2aed9456273a8b0012
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jul 10 11:15:16 2015 -0700

    PHOENIX-2107 Update JDBC version to 4.5.0

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 39afa9f18cad132a8a5c49b0e2e31671c85a3c7e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jul 10 11:04:44 2015 -0700

    PHOENIX-2099 Backward Compatibility - Concurrent modification error on connect

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  24 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   8 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 416 +++++++++++----------
 phoenix-protocol/src/main/PTable.proto             |   1 +
 4 files changed, 237 insertions(+), 212 deletions(-)

commit 997de5e6cab988018e723ed29a53da1bae61def4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 9 22:55:25 2015 -0700

    PHOENIX-2063 Addendum patch to fix connection usage

 .../phoenix/end2end/RowValueConstructorIT.java     | 28 ++++++++++++++++------
 1 file changed, 21 insertions(+), 7 deletions(-)

commit 3b1bfa0d7b83f0b9ee0ad535d6e1f99777c14cb6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 9 20:49:03 2015 -0700

    PHOENIX-1954 Reserve chunks of numbers for a sequence (Jan Fernando)

 .../phoenix/end2end/SequenceBulkAllocationIT.java  | 1286 ++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |    5 +-
 .../apache/phoenix/compile/SequenceManager.java    |   70 +-
 .../phoenix/compile/SequenceValueExpression.java   |   14 +-
 .../coprocessor/SequenceRegionObserver.java        |   64 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    2 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   10 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |    6 +-
 .../phoenix/parse/SequenceValueParseNode.java      |    8 +-
 .../phoenix/query/ConnectionQueryServices.java     |    5 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   23 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   20 +-
 .../query/DelegateConnectionQueryServices.java     |   13 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |    2 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |  107 +-
 .../apache/phoenix/schema/SequenceAllocation.java  |   48 +
 .../java/org/apache/phoenix/util/SequenceUtil.java |   47 +-
 .../phoenix/schema/SequenceAllocationTest.java     |   59 +
 .../org/apache/phoenix/util/SequenceUtilTest.java  |   54 +
 19 files changed, 1763 insertions(+), 80 deletions(-)

commit 984e62223c8aa507e9c044cecfc7fc92ffa42522
Author: ravimagham <ravimagham@apache.org>
Date:   Thu Jul 9 20:20:32 2015 -0700

    PHOENIX-2103 : Pig tests aren't dropping tables as expected between test runs

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 134 ++++++++-------------
 1 file changed, 53 insertions(+), 81 deletions(-)

commit 11bdb0eedbbea1e58b60fe8ebba21e5c168261b7
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jul 9 17:24:39 2015 +0530

    PHOENIX-1889 Support alter/replace and drop functions(Rajeshbabu)

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 145 ++++++++++++++++++++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   5 +-
 .../phoenix/compile/CreateFunctionCompiler.java    |   4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  40 ++++--
 .../coprocessor/generated/PFunctionProtos.java     | 100 +++++++++++++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  28 ++--
 .../phoenix/parse/CreateFunctionStatement.java     |   7 +-
 .../java/org/apache/phoenix/parse/PFunction.java   |  28 +++-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  20 ++-
 phoenix-protocol/src/main/PFunction.proto          |   1 +
 12 files changed, 336 insertions(+), 47 deletions(-)

commit fa2d79a0162497761dd4568e3f8f343063b6afaa
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Thu Jul 9 10:18:10 2015 +0530

    PHOENIX-2063 Row value constructor doesn't work when used in COUNT
    DISTINCT (Dumindu Buddhika)

 .../phoenix/end2end/RowValueConstructorIT.java     | 78 ++++++++++++++++++++++
 .../expression/aggregator/ServerAggregators.java   |  1 +
 2 files changed, 79 insertions(+)

commit aa4c9003d4bd4827718e0f37de8c270f94fd5694
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Wed Jul 8 15:54:17 2015 -0700

    PHOENIX-2058 Check for existence and compatibility of columns being added in view

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c9a6b8cb94c0380c8e99aeee18d3b7d8f6e37ef
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jul 2 21:19:11 2015 -0700

    PHOENIX-2058 Check for existence and compatibility of columns being added in view

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 221 +++++++++++++++++++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 108 +++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +-
 3 files changed, 302 insertions(+), 31 deletions(-)

commit 61f1900ddec5eb5c06245c999711e1fd0c67af53
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 2 09:48:42 2015 -0700

    PHOENIX-2096 Tweak criteria for when round robin iterator is used

 .../org/apache/phoenix/end2end/ReverseScanIT.java  | 29 ++++++++++++++++++----
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  4 +--
 .../java/org/apache/phoenix/util/ScanUtil.java     |  7 +++---
 3 files changed, 28 insertions(+), 12 deletions(-)

commit 69e55df8ff42aedf8c12da569dc5e85cc13eb95d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 2 10:03:55 2015 -0700

    PHOENIX-2097 Add new MD5 test for composite PK

 .../org/apache/phoenix/end2end/MD5FunctionIT.java     | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit efb941aef6062fe704460fd37f9cc062c2ed2eee
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Jul 8 09:34:20 2015 -0700

    PHOENIX-2095 Lower the default for phoenix.sequence.saltBuckets

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 973bccb7019bfb0c15a9fd5259d7b01f37859b52
Author: ravimagham <ravimagham@apache.org>
Date:   Tue Jul 7 22:10:59 2015 -0700

    PHOENIX-2025 - Phoenix-core's hbase-default.xml prevents HBaseTestingUtility from starting up in client apps (Thomas D'Silva)

 .../main/java/org/apache/phoenix/mapreduce/util/ConnectionUtil.java | 4 ++--
 .../org/apache/phoenix/mapreduce/util/PhoenixConfigurationUtil.java | 6 ++++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit dee7a02f92ec3928a76c0d7536bd69f65fb1d4ef
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Tue Jul 7 13:40:18 2015 -0700

    PHOENIX-2025 Phoenix-core's hbase-default.xml prevents HBaseTestingUtility from starting up in client apps (Mujtaba Chohan)

 .../org/apache/phoenix/mapreduce/util/ConnectionUtil.java    |  9 +++++----
 .../phoenix/mapreduce/util/PhoenixConfigurationUtil.java     | 12 ++++++++++++
 2 files changed, 17 insertions(+), 4 deletions(-)

commit d0c8f9dbd15460c023d50c8b8fd9334fb18c05dc
Author: maryannxue <wei.xue@intel.com>
Date:   Tue Jul 7 13:27:49 2015 -0400

    PHOENIX-2074 StackOverflowError for hash join with round robin

 .../iterate/RoundRobinResultIteratorIT.java        | 80 ++++++++++++++++++++++
 .../phoenix/iterate/RoundRobinResultIterator.java  |  2 +-
 2 files changed, 81 insertions(+), 1 deletion(-)

commit 39c982f923033b97c477464d0c4e27221421774d
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Mon Jul 6 19:39:31 2015 -0400

    PHOENIX-2036 PhoenixConfigurationUtil should provide a pre-normalize table name to PhoenixRuntime
    
    Update phoenix-spark to follow the same normalization requirement.

 phoenix-spark/src/it/resources/setup.sql           |  4 +-
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 58 +++++++++++++---------
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 24 +++------
 3 files changed, 46 insertions(+), 40 deletions(-)

commit 1e606d579965b97254f2c30399ace004a8912a31
Merge: ade12a787 c398e1823
Author: maryannxue <wei.xue@intel.com>
Date:   Sat Jul 4 14:05:00 2015 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit ade12a787401d0bc67feb7e9c9dc171ca6cc27fb
Merge: df42fa130 be5aba5bc
Author: maryannxue <wei.xue@intel.com>
Date:   Sat Jul 4 13:11:21 2015 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit df42fa13072df8a738e0bf2c2a22b58c512a9dcf
Author: maryannxue <wei.xue@intel.com>
Date:   Sat Jul 4 13:11:08 2015 -0400

    PHOENIX-922 Support SELECT without a from clause

 .../org/apache/phoenix/end2end/SequenceIT.java     | 27 ++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   | 13 +--
 .../apache/phoenix/compile/ProjectionCompiler.java |  2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  9 +-
 .../phoenix/compile/TupleProjectionCompiler.java   |  1 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  9 +-
 .../phoenix/execute/EmptyTableQueryPlan.java       | 96 ++++++++++++++++++++++
 .../org/apache/phoenix/parse/SelectStatement.java  |  6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  1 +
 .../java/org/apache/phoenix/schema/TableRef.java   |  2 +
 .../apache/phoenix/compile/QueryCompilerTest.java  | 45 ++++++++++
 .../org/apache/phoenix/parse/QueryParserTest.java  | 19 +----
 13 files changed, 195 insertions(+), 37 deletions(-)

commit c398e1823d8fe16c729e3b75eaf754eef0702856
Author: ravimagham <ravimagham@apache.org>
Date:   Sat Jul 4 10:08:00 2015 -0700

    PHOENIX-2036 - PhoenixConfigurationUtil should provide a pre-normalize table name to PhoenixRuntime

 .../util/PhoenixConfigurationUtilTest.java         | 28 +++++++++++++++--
 .../org/apache/phoenix/util/QueryUtilTest.java     | 36 ++++++++++++++++++++--
 2 files changed, 58 insertions(+), 6 deletions(-)

commit be5aba5bcdbbf28c4faa04414e9e4f4079276614
Author: ravimagham <ravimagham@apache.org>
Date:   Sat Jul 4 08:11:25 2015 -0700

    PHOENIX-2036 - PhoenixConfigurationUtil should provide a pre-normalize table name to PhoenixRuntime

 .../org/apache/phoenix/util/PhoenixRuntime.java    |  3 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  4 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 18 +++++++-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  9 ++--
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    | 51 +++++++++-------------
 6 files changed, 47 insertions(+), 42 deletions(-)

commit 1c10fda17975bc3c2a13542b0041fe6bd7fee50c
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Fri Jul 3 23:44:44 2015 +0530

    PHOENIX-2064 ARRAY constructor doesn't work when used in COUNT DISTINCT
    (Dumindu Buddhika)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 119 +++++++++++++++++++++
 .../expression/ArrayConstructorExpression.java     |  19 ++--
 2 files changed, 131 insertions(+), 7 deletions(-)

commit f579e7256db0330f75d3d555e1bf725bd860bdae
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jul 3 12:50:45 2015 -0700

    PHOENIX-2065 Throw TableNotFoundException when select all columns of one column family from the table with schema, Add missing import

 .../src/test/java/org/apache/phoenix/compile/QueryCompilerTest.java      | 1 +
 1 file changed, 1 insertion(+)

commit ba5faf1435756cf42d2e39e65e1a82cdf00530c3
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Thu Jul 2 21:37:10 2015 -0700

    PHOENIX-2065 Throw TableNotFoundException when select all columns of one column family from the table with schema (Jun Ng)

 .../org/apache/phoenix/compile/FromCompiler.java   |  7 +++-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 41 ++++++++++++++++++++++
 2 files changed, 47 insertions(+), 1 deletion(-)

commit b2fb04b0c2234c5b573642d39589ab9d36469723
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jul 2 15:51:18 2015 +0530

    PHOENIX-2011 Default, min, and max values should not require quotes around it in create function(Rajeshbabu)

 .../org/apache/phoenix/end2end/UserDefinedFunctionsIT.java   | 12 ++++++------
 phoenix-core/src/main/antlr3/PhoenixSQL.g                    |  3 ++-
 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java |  9 +++++----
 .../java/org/apache/phoenix/parse/FunctionParseNode.java     |  9 +++------
 .../src/main/java/org/apache/phoenix/parse/PFunction.java    | 12 +++++++++---
 .../main/java/org/apache/phoenix/schema/MetaDataClient.java  |  6 +++---
 6 files changed, 28 insertions(+), 23 deletions(-)

commit 54da7d1d6b2ecd27c8c98211e84484029b6d39c2
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Jun 22 17:45:58 2015 -0700

    PHOENIX-2059 MR index build does not handle table with a schema name correctly

 .../org/apache/phoenix/mapreduce/IndexToolIT.java  | 47 +++++++++++++---------
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 15 +++----
 2 files changed, 36 insertions(+), 26 deletions(-)

commit 6a07d45a76d6c07666b777676627ebc313d0d7b5
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Fri Jun 26 14:54:31 2015 -0700

    PHOENIX-2075 MR integration uses single mapper unless table is salted

 .../java/org/apache/phoenix/compile/QueryPlan.java |  3 ++
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  9 +++-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  3 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 14 +++--
 .../phoenix/execute/ClientAggregatePlan.java       |  5 +-
 .../phoenix/execute/ClientProcessingPlan.java      |  9 ++++
 .../org/apache/phoenix/execute/ClientScanPlan.java |  5 +-
 .../phoenix/execute/DegenerateQueryPlan.java       |  3 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 11 +++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  7 +--
 .../apache/phoenix/execute/SortMergeJoinPlan.java  | 13 +++--
 .../phoenix/execute/TupleProjectionPlan.java       | 11 +++-
 .../java/org/apache/phoenix/execute/UnionPlan.java |  6 +++
 .../phoenix/iterate/BaseResultIterators.java       | 24 +++------
 .../iterate/DefaultParallelScanGrouper.java        | 62 ++++++++++++++++++++++
 .../iterate/MapReduceParallelScanGrouper.java      | 45 ++++++++++++++++
 .../apache/phoenix/iterate/ParallelIterators.java  |  9 +++-
 .../phoenix/iterate/ParallelScanGrouper.java       | 41 ++++++++++++++
 .../apache/phoenix/iterate/SerialIterators.java    |  4 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  7 +++
 .../phoenix/mapreduce/PhoenixInputFormat.java      |  6 ++-
 .../phoenix/mapreduce/PhoenixInputSplit.java       |  1 +
 .../phoenix/query/ParallelIteratorsSplitTest.java  |  6 +++
 23 files changed, 259 insertions(+), 45 deletions(-)

commit d2392beae3318099685856ffd18825028f21a7d1
Author: Thomas D'Silva <tdsilva@salesforce.com>
Date:   Mon Jun 29 13:21:30 2015 -0700

    PHOENIX-2085 Include joda-time in phoenix server jar

 phoenix-assembly/src/build/server.xml | 1 +
 1 file changed, 1 insertion(+)

commit 72a7356bcade01990a59cfd5d72161f18ae909f3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jun 30 08:44:37 2015 -0700

    PHOENIX-2087 Ensure predictable column position during alter table

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 51 ++++++++++++++++------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  5 +--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  9 +++-
 3 files changed, 46 insertions(+), 19 deletions(-)

commit a8a9d01d1eaafc33ea73913bec16254ac6a55be3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jun 29 21:36:19 2015 -0700

    PHOENIX-2050 Avoid checking for child views unless operating
    on table

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  18 +--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 141 +++++++++++----------
 2 files changed, 81 insertions(+), 78 deletions(-)

commit fb8c9413f6583798059741fb7c03c8c04a2c3336
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jun 30 22:52:40 2015 +0530

    PHOENIX-2060 - ARRAY_FILL Push the new files

 .../phoenix/end2end/ArrayFillFunctionIT.java       | 531 +++++++++++++++++++++
 .../expression/function/ArrayFillFunction.java     |  79 +++
 .../phoenix/expression/ArrayFillFunctionTest.java  | 221 +++++++++
 3 files changed, 831 insertions(+)

commit c0ad8cf6772b59e0ee24d1a4e8bc935d35a26a13
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jun 30 22:26:53 2015 +0530

    PHOENIX-2060 - Implement ARRAY_FILL built in function (Dumindu Buddhika)

 .../src/main/java/org/apache/phoenix/expression/ExpressionType.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit bc2aef89423eee836f24a123860676e967caf079
Author: Enis Soztutar <enis@apache.org>
Date:   Mon Jun 29 18:16:35 2015 -0700

    PHOENIX-2042 Windows need hadoop native libraries to run tests (Alicia Ying Shu)

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 83b8db4def81d9a7fc959de116edbaa1a265bf18
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Mon Jun 29 15:27:01 2015 -0400

    PHOENIX-1659 PhoenixDatabaseMetaData.getColumns does not return REMARKS column
    
    Followup commit to adjust the COLUMN_FAMILY_POSITION in QueryUtil as well.

 phoenix-core/src/main/java/org/apache/phoenix/util/QueryUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d6044944b7b1f4981a897c1c7626614659a972c7
Author: Eli Levine <elilevine@apache.org>
Date:   Mon Jun 29 10:37:48 2015 -0700

    PHOENIX-978: allow views to extend parent's PK

 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 22 +----
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 96 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 -
 .../org/apache/phoenix/schema/MetaDataClient.java  | 21 +----
 4 files changed, 101 insertions(+), 40 deletions(-)

commit d02b3610991616ab3920d40d719c9000601d8722
Author: Josh Mahonin <jmahonin@interset.com>
Date:   Thu Jun 25 15:52:37 2015 -0400

    PHOENIX-1659 PhoenixDatabaseMetaData.getColumns does not return REMARKS column

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 31 ++++++++++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  1 +
 2 files changed, 32 insertions(+)

commit 38ae6b754a77fd967d601e89711349e8c2e22577
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Jun 25 21:36:51 2015 +0200

    LP-1277 Support nulls in CHAR fields in CSV loader

 .../org/apache/phoenix/end2end/CSVCommonsLoaderIT.java | 18 +++++++++++-------
 .../java/org/apache/phoenix/schema/types/PChar.java    |  3 ---
 .../org/apache/phoenix/util/csv/CsvUpsertExecutor.java |  5 ++++-
 3 files changed, 15 insertions(+), 11 deletions(-)

commit 0f6595c0c511a3f07c51cf92d1ced665556b7d4c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jun 26 16:44:43 2015 -0700

    PHOENIX-1819 Build a framework to capture and report phoenix client side request level metrics

 .../apache/phoenix/end2end/PhoenixMetricsIT.java   | 147 ----
 .../apache/phoenix/execute/PartialCommitIT.java    |   1 +
 .../phoenix/monitoring/PhoenixMetricsIT.java       | 815 +++++++++++++++++++++
 .../apache/phoenix/cache/ServerCacheClient.java    |   7 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  50 +-
 .../compile/MutatingParallelIteratorFactory.java   |  51 +-
 .../apache/phoenix/compile/StatementContext.java   |  49 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  80 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |   8 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   7 +
 .../org/apache/phoenix/execute/MutationState.java  | 290 ++++----
 .../java/org/apache/phoenix/execute/UnionPlan.java |   8 +-
 .../phoenix/iterate/BaseResultIterators.java       |  15 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |  21 +-
 .../phoenix/iterate/ParallelIteratorFactory.java   |   4 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  25 +-
 .../phoenix/iterate/RoundRobinResultIterator.java  |   4 +-
 .../phoenix/iterate/ScanningResultIterator.java    |  38 +-
 .../apache/phoenix/iterate/SerialIterators.java    |  23 +-
 .../phoenix/iterate/SpoolingResultIterator.java    |  49 +-
 .../phoenix/iterate/TableResultIterator.java       |  17 +-
 .../phoenix/iterate/UnionResultIterators.java      |  70 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  27 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  21 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  48 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  20 +-
 .../java/org/apache/phoenix/job/JobManager.java    |  60 +-
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  |  10 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |  12 +-
 .../apache/phoenix/memory/GlobalMemoryManager.java |   5 -
 .../monitoring/{Counter.java => AtomicMetric.java} |  69 +-
 .../phoenix/monitoring/CombinableMetric.java       |  77 ++
 .../phoenix/monitoring/CombinableMetricImpl.java   |  77 ++
 .../phoenix/monitoring/GlobalClientMetrics.java    | 117 +++
 .../apache/phoenix/monitoring/GlobalMetric.java    |  37 +
 .../phoenix/monitoring/GlobalMetricImpl.java       |  74 ++
 .../phoenix/monitoring/MemoryMetricsHolder.java    |  43 ++
 .../java/org/apache/phoenix/monitoring/Metric.java |  45 +-
 .../org/apache/phoenix/monitoring/MetricType.java  |  55 ++
 .../phoenix/monitoring/MetricsStopWatch.java       |  59 ++
 .../phoenix/monitoring/MutationMetricQueue.java    | 131 ++++
 .../apache/phoenix/monitoring/NonAtomicMetric.java |  71 ++
 .../phoenix/monitoring/OverAllQueryMetrics.java    | 121 +++
 .../apache/phoenix/monitoring/PhoenixMetrics.java  | 118 ---
 .../apache/phoenix/monitoring/ReadMetricQueue.java | 180 +++++
 .../apache/phoenix/monitoring/SizeStatistic.java   |  78 --
 .../phoenix/monitoring/SpoolingMetricsHolder.java  |  43 ++
 .../monitoring/TaskExecutionMetricsHolder.java     |  68 ++
 .../phoenix/query/BaseQueryServicesImpl.java       |   2 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  25 +-
 .../apache/phoenix/trace/PhoenixMetricsSink.java   |  36 +-
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   6 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 175 ++++-
 .../iterate/SpoolingResultIteratorTest.java        |   4 +-
 55 files changed, 2887 insertions(+), 809 deletions(-)

commit 9c069bd45e6af789f903a5e1f80949de403bbf68
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jun 26 16:22:39 2015 -0700

    PHOENIX-2055 Allow view with views to add column

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 16 +++--
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 12 ++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 71 ++++++++++++----------
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  6 +-
 5 files changed, 60 insertions(+), 47 deletions(-)

commit 7918a3d94d19f1d57f55b88834680760605e575c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jun 26 16:04:46 2015 -0700

    PHOENIX-2056 Ensure PK column from base table is added to any indexes on views

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 184 ++++++++++++++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 145 +++++++++++++++-
 .../java/org/apache/phoenix/util/ByteUtil.java     |  10 +-
 3 files changed, 319 insertions(+), 20 deletions(-)

commit 11577dd7b2f722cff0ef410bed60ec1ef6b9c55c
Author: Yuhao Bi <byh0831@gmail.com>
Date:   Thu Jun 25 15:41:06 2015 +0800

    PHOENIX-2073 Two bytes character in LIKE expression is not allowed (Yuhao Bi)

 .../org/apache/phoenix/compile/WhereOptimizer.java     |  3 ++-
 .../org/apache/phoenix/compile/WhereOptimizerTest.java | 18 ++++++++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit c1e57235b81af4fe847394f8288c9b679ee2d54f
Author: cmarcel <cmarcel@salesforce.com>
Date:   Fri Jun 26 09:07:00 2015 -0700

    PHOENIX-2072 - (James Taylor) Fix Eclipse compiler errors in pherf module

 .../pherf/workload/MultithreadedDiffer.java        |  7 ++----
 .../apache/phoenix/pherf/RuleGeneratorTest.java    | 26 +++++++++++++++-------
 2 files changed, 20 insertions(+), 13 deletions(-)

commit 3e49339828e64842891879a18248a91601740dd0
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Jun 24 13:59:00 2015 -0700

    PHOENIX-1975 Detect and use HBASE_HOME when set

 bin/phoenix_utils.py | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 3cf22a7de4eaec6978763b6961d73aa9eaa07015
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jun 25 01:16:51 2015 +0530

    PHOENIX-2030 CsvBulkLoadTool should use logical name of the table for output directory suffix(Rajeshbabu)

 .../apache/phoenix/mapreduce/CsvBulkLoadToolIT.java   | 19 +++++++++++++++++++
 .../org/apache/phoenix/mapreduce/CsvBulkLoadTool.java |  2 +-
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 50f3a04126c4fea59dc9eb978cef1399892d9a4a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jun 25 00:44:25 2015 +0530

    PHOENIX-2068 UserDefinedFunctionsIT is failing in windows with InvocationTargetException(Rajeshbabu)

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 22 ++++++++++++++++++----
 1 file changed, 18 insertions(+), 4 deletions(-)

commit b58a62a5e43dcbb37695a0ebf7a20ced13e99503
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jun 24 08:11:12 2015 -0700

    PHOENIX-2066 Existing client fails initialization due to upgrade atttempting to create column with no name (Lukas Lalinsky)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 7385899d966e38cfc798fd509445db24653ad7de
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Sun Jun 21 22:05:13 2015 +0530

    PHOENIX-2021 - Implement ARRAY_CAT built in function (Dumindu Buddhika)

 .../phoenix/end2end/ArrayAppendFunctionIT.java     |  17 -
 .../phoenix/end2end/ArrayConcatFunctionIT.java     | 578 ++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/ArrayAppendFunction.java   |  53 +-
 .../expression/function/ArrayConcatFunction.java   |  83 +++
 .../expression/function/ArrayModifierFunction.java | 155 +++++-
 .../expression/function/ArrayPrependFunction.java  |  54 +-
 .../phoenix/schema/types/PArrayDataType.java       | 163 +++++-
 .../expression/ArrayConcatFunctionTest.java        | 584 +++++++++++++++++++++
 9 files changed, 1543 insertions(+), 148 deletions(-)

commit 7175dcbc011dff48f6d041697ec84da98f80f729
Author: cmarcel <cmarcel@salesforce.com>
Date:   Fri Jun 19 16:34:41 2015 -0700

    PHOENIX-1920 - Pherf - Add support for mixed r/w workloads

 .gitignore                                         |   2 +
 phoenix-pherf/pom.xml                              |  10 +-
 .../org/apache/phoenix/pherf/DataIngestIT.java     | 134 ++++--
 .../java/org/apache/phoenix/pherf/PherfMainIT.java |  36 ++
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java |  31 +-
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   |  17 +-
 .../main/java/org/apache/phoenix/pherf/Pherf.java  | 179 +++++---
 .../org/apache/phoenix/pherf/PherfConstants.java   |   8 +-
 .../phoenix/pherf/configuration/DataModel.java     |  10 -
 .../phoenix/pherf/configuration/Scenario.java      |  12 +-
 .../phoenix/pherf/configuration/WriteParams.java   |  72 ++++
 .../pherf/configuration/XMLConfigParser.java       |  25 +-
 .../apache/phoenix/pherf/jmx/MonitorManager.java   | 153 ++++---
 .../apache/phoenix/pherf/loaddata/DataLoader.java  | 332 ---------------
 .../phoenix/pherf/result/DataLoadThreadTime.java   |  87 ++--
 .../phoenix/pherf/result/DataLoadTimeSummary.java  |  54 +--
 .../phoenix/pherf/result/DataModelResult.java      |  68 ++-
 .../apache/phoenix/pherf/result/QueryResult.java   |  17 +-
 .../phoenix/pherf/result/QuerySetResult.java       |  40 +-
 .../org/apache/phoenix/pherf/result/Result.java    |  11 +-
 .../apache/phoenix/pherf/result/ResultHandler.java |   5 +
 .../apache/phoenix/pherf/result/ResultManager.java |  19 +-
 .../apache/phoenix/pherf/result/ResultUtil.java    | 119 +++---
 .../apache/phoenix/pherf/result/ResultValue.java   |   4 +-
 .../org/apache/phoenix/pherf/result/RunTime.java   | 179 ++++----
 .../phoenix/pherf/result/ScenarioResult.java       |  44 +-
 .../apache/phoenix/pherf/result/ThreadTime.java    |  34 +-
 .../phoenix/pherf/result/file/Extension.java       |   3 +-
 .../apache/phoenix/pherf/result/file/Header.java   |  11 +-
 .../pherf/result/impl/CSVResultHandler.java        |  47 +--
 .../pherf/result/impl/ImageResultHandler.java      |  58 +--
 .../pherf/result/impl/XMLResultHandler.java        |  36 +-
 .../apache/phoenix/pherf/schema/SchemaReader.java  |   2 +-
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  64 ++-
 ...hreadedRunner.java => MultiThreadedRunner.java} |  89 ++--
 .../pherf/workload/MultithreadedDiffer.java        | 131 +++---
 .../phoenix/pherf/workload/QueryExecutor.java      | 459 +++++++++++----------
 .../phoenix/pherf/workload/QueryVerifier.java      | 265 ++++++------
 .../apache/phoenix/pherf/workload/Workload.java    |  10 +
 .../phoenix/pherf/workload/WorkloadExecutor.java   | 109 ++---
 .../phoenix/pherf/workload/WriteWorkload.java      | 403 ++++++++++++++++++
 .../scenario/prod_test_unsalted_scenario.xml       |  35 ++
 .../phoenix/pherf/ConfigurationParserTest.java     | 102 +++--
 .../java/org/apache/phoenix/pherf/ResultTest.java  |   5 +-
 .../apache/phoenix/pherf/RuleGeneratorTest.java    |  15 +-
 .../src/test/resources/scenario/test_scenario.xml  |  58 ++-
 46 files changed, 2054 insertions(+), 1550 deletions(-)

commit 466eeb35f904c1c768dd3da7b396001826a1b40c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jun 18 20:14:53 2015 -0700

    PHOENIX-2057 Acquire lock in MetaDataEndPointImpl.addRowsToChildViews() before calling doGetTable()

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit e78eb6faceec40d8b09fbc7dde778b87fe54feef
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Jun 18 15:37:37 2015 -0700

    PHOENIX-1504 Support adding column to a table that has views (Samarth Jain/Dave Hacker)

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 356 +++++++++++++++++++
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  20 +-
 .../java/org/apache/phoenix/end2end/UpgradeIT.java | 332 +++++++++++++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 262 ++++++++++----
 .../phoenix/coprocessor/MetaDataProtocol.java      |   4 +-
 .../coprocessor/generated/PTableProtos.java        | 103 +++++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  51 ++-
 .../org/apache/phoenix/query/QueryConstants.java   |  30 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  37 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   1 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  40 ++-
 .../java/org/apache/phoenix/util/ByteUtil.java     |  10 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 395 ++++++++++++++++++++-
 15 files changed, 1495 insertions(+), 154 deletions(-)

commit 2d70eff6594d0f46b10f2d9c4c8fa5d43d6ba5ab
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jun 17 17:09:33 2015 -0700

    PHOENIX-2049 Change ArraysWithNullsIT to be derived from BaseHBaseManagedTimeIT

 .../src/it/java/org/apache/phoenix/end2end/ArraysWithNullsIT.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb44f35300510670b037f597ee66f709cb4d8dbb
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jun 17 17:01:34 2015 -0700

    PHOENIX-2025 Phoenix-core's hbase-default.xml prevents HBaseTestingUtility from starting up in client apps (Geoffrey Jacoby)

 .../{hbase-default.xml => hbase-site.xml}          |  0
 .../apache/phoenix/compile/WhereCompilerTest.java  | 10 ++++--
 .../apache/phoenix/query/ConnectionlessTest.java   | 14 +--------
 phoenix-core/src/test/resources/hbase-default.xml  | 36 ----------------------
 4 files changed, 9 insertions(+), 51 deletions(-)

commit 14d11b130ca0b3726e7724a1f4a9770bc1cb2453
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Jun 17 16:58:51 2015 -0700

    PHOENIX-2014 WHERE search condition ignored when also using row value constructor in view

 .../phoenix/end2end/RowValueConstructorIT.java     | 28 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java | 25 ++++++++++++-------
 .../apache/phoenix/compile/WhereOptimizerTest.java | 20 ++++++++++++++++
 3 files changed, 64 insertions(+), 9 deletions(-)

commit 80600488f50fd000d74155ee17abfaa19ec39c69
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Jun 17 12:28:35 2015 -0700

    PHOENIX-1935 org.apache.phoenix.end2end.ArithmeticQueryIT tests are failing (Alicia Ying Shu)

 phoenix-core/src/it/java/org/apache/phoenix/end2end/BaseViewIT.java | 2 ++
 phoenix-core/src/it/java/org/apache/phoenix/end2end/ViewIT.java     | 3 +++
 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java   | 5 ++++-
 3 files changed, 9 insertions(+), 1 deletion(-)

commit db7b5753bfecaefd4fb32e7e9b9b5223787d4c62
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Jun 17 12:17:33 2015 -0700

    PHOENIX-1941 Phoenix tests are failing in linux env with missing class: StaticMapping (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/End2EndTestDriver.java | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 03a6ac00286f9fbd0466b5739c4036ccb3ad6afb
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Mon Jun 8 15:30:40 2015 -0700

    PHOENIX-2029 Queries are making two rpc calls for getTable

 .../java/org/apache/phoenix/rpc/UpdateCacheIT.java | 139 +++++++++++++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  26 ++--
 4 files changed, 156 insertions(+), 17 deletions(-)

commit d1f7dedeccbb0befce071cb87efd38290271039a
Author: Prashant Kommireddi <pkommireddi@pkommireddi-ltm.internal.salesforce.com>
Date:   Mon Jun 15 16:18:47 2015 -0700

    minor changes based on jesses feedback

 .../src/main/java/org/apache/phoenix/pig/util/TypeUtil.java        | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit a4aa780c78f73cf0ee5f7d5e7afefd7ab581097a
Author: Prashant Kommireddi <pkommireddi@pkommireddi-ltm.internal.salesforce.com>
Date:   Mon May 18 19:48:30 2015 -0700

    PHOENIX-1981 : PhoenixHBase Load and Store Funcs should handle all Pig data types

 .../src/main/java/org/apache/phoenix/pig/util/TypeUtil.java       | 8 +++-----
 .../src/test/java/org/apache/phoenix/pig/util/TypeUtilTest.java   | 8 +++-----
 2 files changed, 6 insertions(+), 10 deletions(-)

commit 8a0dee77c67761c57feae31350c84304ccc44c07
Author: Prashant Kommireddi <pkommireddi@pkommireddi-ltm.internal.salesforce.com>
Date:   Mon May 18 19:47:01 2015 -0700

    PHOENIX-1981 : PhoenixHBase Load and Store Funcs should handle all Pig data types

 .../java/org/apache/phoenix/pig/util/TypeUtil.java | 24 +++++++++++++++-------
 .../org/apache/phoenix/pig/util/TypeUtilTest.java  | 20 ++++++++++++++++++
 2 files changed, 37 insertions(+), 7 deletions(-)

commit 8076126a741a0cf2a5839b88904fa08bfdfb6cdb
Author: Prashant Kommireddi <pkommireddi@pkommireddi-ltm.internal.salesforce.com>
Date:   Mon May 18 19:41:08 2015 -0700

    PHOENIX-1981 : PhoenixHBase Load and Store Funcs should handle all Pig data types

 .../java/org/apache/phoenix/pig/util/TypeUtil.java | 415 ++++++++++-----------
 .../org/apache/phoenix/pig/util/TypeUtilTest.java  |  52 +++
 2 files changed, 251 insertions(+), 216 deletions(-)

commit b61ef77e509a024ccaf6c3ce74c385c31c5f534a
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon Jun 15 16:16:03 2015 -0700

    PHOENIX-2040 Mark spark/scala dependencies as 'provided' (Josh Mahonin)

 phoenix-assembly/pom.xml |  4 ++++
 phoenix-spark/pom.xml    | 51 ++++++++++++++++++++++++++----------------------
 2 files changed, 32 insertions(+), 23 deletions(-)

commit c2927ddec5ab954dd779516ed29b4b7fa4b011d9
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jun 15 15:53:44 2015 -0700

    PHOENIX-1660 Implement missing math built-in functions ABS, POWER, LN, LOG, SQRT, CBRT, EXP (Shuxiong Ye)

 .../phoenix/end2end/AbsFunctionEnd2EndIT.java      | 108 ++++++++++++
 .../phoenix/end2end/CbrtFunctionEnd2EndIT.java     | 143 ++++++++++++++++
 .../phoenix/end2end/ExpFunctionEnd2EndIT.java      | 128 +++++++++++++++
 .../phoenix/end2end/LnLogFunctionEnd2EndIT.java    | 143 ++++++++++++++++
 .../phoenix/end2end/PowerFunctionEnd2EndIT.java    | 144 ++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  14 +-
 .../phoenix/expression/function/AbsFunction.java   |  66 ++++++++
 .../phoenix/expression/function/CbrtFunction.java  |  55 +++++++
 .../phoenix/expression/function/ExpFunction.java   |  55 +++++++
 .../function/JavaMathOneArgumentFunction.java      |  43 ++---
 .../function/JavaMathTwoArgumentFunction.java      |  69 ++++++++
 .../phoenix/expression/function/LnFunction.java    |  55 +++++++
 .../phoenix/expression/function/LogFunction.java   |  56 +++++++
 .../phoenix/expression/function/PowerFunction.java |  51 ++++++
 .../expression/function/ScalarFunction.java        |   4 +-
 .../phoenix/expression/function/SqrtFunction.java  |   8 +-
 .../org/apache/phoenix/schema/types/PDecimal.java  |  11 ++
 .../apache/phoenix/schema/types/PNumericType.java  |   8 +
 .../apache/phoenix/schema/types/PRealNumber.java   |   8 +
 .../apache/phoenix/schema/types/PWholeNumber.java  |   8 +
 .../apache/phoenix/compile/QueryCompilerTest.java  |  68 +++++++-
 .../apache/phoenix/expression/AbsFunctionTest.java | 180 ++++++++++++++++++++
 .../phoenix/expression/CbrtFunctionTest.java       | 127 ++++++++++++++
 .../apache/phoenix/expression/ExpFunctionTest.java | 150 +++++++++++++++++
 .../phoenix/expression/LnLogFunctionTest.java      | 182 +++++++++++++++++++++
 .../phoenix/expression/PowerFunctionTest.java      | 182 +++++++++++++++++++++
 26 files changed, 2036 insertions(+), 30 deletions(-)

commit d1934afbe6230e823b9009950fe721165e98cc7c
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Jun 12 10:23:05 2015 -0700

    PHOENIX-2032 psql.py is broken after PHOENIX-2013

 phoenix-assembly/pom.xml              |  4 ----
 phoenix-assembly/src/build/client.xml | 27 +++++++++++++++++++++++----
 2 files changed, 23 insertions(+), 8 deletions(-)

commit bfb0eee75b2ce0edb931599a9b024d3cd7160ae9
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Jun 12 10:06:59 2015 -0700

    PHOENIX-2034 Update pre-commit branches

 dev/test-patch.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 67fea1665d6ebb963e0dff335f513e4f61cbd22c
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue Jun 9 17:12:21 2015 -0700

    PHOENIX-2033 PQS log environment details on launch

 .../apache/phoenix/queryserver/server/Main.java    | 69 ++++++++++++++++++++++
 1 file changed, 69 insertions(+)

commit 31a1ca6caefb45430969fc7c0d28b50bb515c605
Author: ravimagham <ravimagham@apache.org>
Date:   Thu Jun 11 11:50:21 2015 -0700

    PHOENIX 1968: Should support saving arrays

 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 21 ++++++++++++++++++
 .../phoenix/spark/PhoenixRecordWritable.scala      | 25 +++++++++++++++++-----
 2 files changed, 41 insertions(+), 5 deletions(-)

commit db90196dc2561a220fc376ce01a8ad1ba185bea8
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jun 10 01:00:50 2015 +0530

    PHOENIX-2027 Subqueries with no data are raising IllegalStateException(Alicia Ying Shu)

 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 54 ++++++++++++++++++++++
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  4 +-
 2 files changed, 56 insertions(+), 2 deletions(-)

commit b3ed60bb935a09c3ed07a6d77502136c9b8a6eef
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Jun 5 09:02:31 2015 +0530

    PHOENIX-1978 UDF ArgumentTypeMismatchException(Rajeshbabu)

 .../phoenix/end2end/UserDefinedFunctionsIT.java    | 58 ++++++++++++++++++++--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 17 +++----
 2 files changed, 61 insertions(+), 14 deletions(-)

commit e54c99d8b1ce7bd6118df46209e102e9a86c3782
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 4 14:26:27 2015 -0700

    PHOENIX-2018 Implement math build-in function SQRT (Shuxiong Ye)

 .../phoenix/end2end/SqrtFunctionEnd2EndIT.java     | 143 ++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../function/JavaMathOneArgumentFunction.java      |  77 +++++++++++
 .../phoenix/expression/function/SqrtFunction.java  |  49 +++++++
 .../phoenix/expression/SqrtFunctionTest.java       | 150 +++++++++++++++++++++
 5 files changed, 422 insertions(+), 1 deletion(-)

commit 47466e317db72d651c120b1c04bf687abfe10e34
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jun 4 14:24:06 2015 -0700

    PHOENIX-1987 SIGN built-in function should be order preserving (Shuxiong Ye)

 .../java/org/apache/phoenix/expression/function/SignFunction.java    | 5 +++++
 .../test/java/org/apache/phoenix/expression/SignFunctionTest.java    | 3 ++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 6c3d50ac198dd9159fb50cfe898734db99257c10
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jun 2 14:32:02 2015 +0530

    PHOENIX-777 - Support null value for fixed length ARRAY - Addendum (Ram)

 .../src/main/java/org/apache/phoenix/schema/types/PTimestamp.java    | 5 +++++
 1 file changed, 5 insertions(+)

commit 7f6bf10b2cc54279b9210772323dc8f4d2939a19
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Jun 2 11:13:44 2015 +0530

    PHOENIX-777 Support null value for fixed length ARRAY (Dumindu Buddhika)

 .../apache/phoenix/end2end/ArraysWithNullsIT.java  | 300 +++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |   9 +-
 .../org/apache/phoenix/schema/types/PBinary.java   |   2 +-
 .../org/apache/phoenix/schema/types/PChar.java     |   5 +-
 .../org/apache/phoenix/schema/types/PDate.java     |   6 +-
 .../org/apache/phoenix/schema/types/PDecimal.java  |   3 +
 .../apache/phoenix/schema/types/PTimestamp.java    |  17 +-
 .../apache/phoenix/schema/types/PhoenixArray.java  |  51 ++--
 8 files changed, 358 insertions(+), 35 deletions(-)

commit 9e686b758ff735fd9129430cd31fe36993b9711b
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed May 27 15:58:32 2015 -0700

    PHOENIX-2012 RowKeyComparisonFilter logs unencoded data at DEBUG level

 .../main/java/org/apache/phoenix/filter/RowKeyComparisonFilter.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit dc3083fec11720a3b92f3edf98a679406004550f
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jun 1 21:33:47 2015 +0530

    PHOENIX-2016 Some Phoenix tests failed with NPE(Alicia Ying Shu)

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 1 +
 1 file changed, 1 insertion(+)

commit 82df3b97a9ca88605f78b59e547819ff3bf9cd7a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Jun 1 21:04:43 2015 +0530

    PHOENIX-2007 java.sql.SQLException: Encountered exception in sub plan [0] execution(Alicia Ying Shu)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 54 ++++++++++++++++++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  7 +--
 2 files changed, 58 insertions(+), 3 deletions(-)

commit 583b5b1e115a81799cc3e6d0a20a0fe665f666e3
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Mon Jun 1 08:57:22 2015 +0200

    PHOENIX-2022 Make BaseRegionScanner.next abstract
    
    Avoid infinite recursion by removing a recursive call within
    BaseRegionScanner.next, which was already being used as an
    abstract method.

 .../main/java/org/apache/phoenix/coprocessor/BaseRegionScanner.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b7f138246328ea80ce53fb73539a1e48413a32d2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sun May 31 07:40:16 2015 +0530

    PHOENIX-2010 Properly validate number of arguments passed to the functions in FunctionParseNode#validate(Rajeshbabu)

 .../org/apache/phoenix/end2end/UserDefinedFunctionsIT.java | 14 ++++++++++++++
 .../java/org/apache/phoenix/parse/FunctionParseNode.java   |  4 ++++
 .../src/main/java/org/apache/phoenix/parse/PFunction.java  |  4 +---
 3 files changed, 19 insertions(+), 3 deletions(-)

commit 08fc27d4c352f41f4999c8aa8bce953b3f4092cb
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri May 29 17:12:25 2015 -0700

    PHOENIX-1939 Test are failing with DoNotRetryIOException: ATABLE: null (Alicia Ying Shu)

 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java | 4 ++--
 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java    | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 160e9497dcef541af0e0a9aacf93eed9acb7f8ca
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed May 27 11:27:04 2015 -0700

    PHOENIX-2013 Apply PHOENIX-1995 to runnable uberjar as well

 phoenix-server/src/build/query-server-runnable.xml | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 170e8cca2f2e53002fa08ca16fa63d70248397ff
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed May 27 14:51:14 2015 +0530

    Revert "PHOENIX-2008 Integration tests are failing with HBase-1.1.0 because HBASE-13756(Rajeshbabu)"
    
    This reverts commit a28c1d3b2d31377f70e0a4c661c3c70d8bc99216.

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 2 --
 1 file changed, 2 deletions(-)

commit e493215bff7057bad1a52efecca90384a1dd9412
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue May 26 17:41:04 2015 -0700

    PHOENIX-2005 Connection utilities omit zk client port, parent znode (addendum)

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java   |  2 +-
 .../main/java/org/apache/phoenix/util/QueryUtil.java |  2 +-
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java      | 20 ++++++++++++++++++++
 3 files changed, 22 insertions(+), 2 deletions(-)

commit afb0120e079502d926c5f37de4e28d3865e29089
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue May 26 11:11:48 2015 -0700

    PHOENIX-2005 Connection utilities omit zk client port, parent znode

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 28 ++++---
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 93 +++++++++++-----------
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     | 26 +-----
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    | 45 ++++++++---
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    | 14 +++-
 .../phoenix/mapreduce/CsvBulkLoadToolTest.java     | 11 ---
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java | 15 ----
 .../org/apache/phoenix/util/QueryUtilTest.java     | 33 +++++---
 9 files changed, 139 insertions(+), 130 deletions(-)

commit a28c1d3b2d31377f70e0a4c661c3c70d8bc99216
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat May 23 23:27:27 2015 +0530

    PHOENIX-2008 Integration tests are failing with HBase-1.1.0 because HBASE-13756(Rajeshbabu)

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 2 ++
 1 file changed, 2 insertions(+)

commit edff624f193324762fae04907c551e3d2fec93a3
Author: Enis Soztutar <enis@apache.org>
Date:   Thu May 21 23:22:54 2015 -0700

    PHOENIX-1681 Use the new Region Interface (Andrew Purtell)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  4 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  4 +-
 .../IndexHalfStoreFileReaderGenerator.java         |  9 ++-
 .../hbase/regionserver/IndexSplitTransaction.java  | 65 +++++----------
 .../hbase/regionserver/LocalIndexMerger.java       | 16 ++--
 .../hbase/regionserver/LocalIndexSplitter.java     | 11 +--
 .../coprocessor/BaseScannerRegionObserver.java     | 26 +++---
 .../GroupedAggregateRegionObserver.java            | 13 +--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 94 +++++++++++-----------
 .../phoenix/coprocessor/ScanRegionObserver.java    | 17 ++--
 .../coprocessor/SequenceRegionObserver.java        | 16 ++--
 .../UngroupedAggregateRegionObserver.java          | 29 +++----
 .../hbase/index/covered/data/LocalTable.java       |  5 +-
 .../index/write/ParallelWriterIndexCommitter.java  |  8 +-
 .../write/recovery/PerRegionIndexWriteCache.java   | 10 +--
 .../write/recovery/StoreFailuresInCachePolicy.java |  4 +-
 .../TrackingParallelWriterIndexCommitter.java      |  8 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  4 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    | 14 ++--
 .../phoenix/schema/stats/StatisticsCollector.java  | 14 ++--
 .../phoenix/schema/stats/StatisticsScanner.java    | 16 ++--
 .../phoenix/schema/stats/StatisticsWriter.java     | 16 ++--
 .../java/org/apache/phoenix/util/IndexUtil.java    | 38 ++++-----
 .../hbase/index/covered/TestLocalTableState.java   |  8 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  | 17 ++--
 .../recovery/TestPerRegionIndexWriteCache.java     |  6 +-
 26 files changed, 230 insertions(+), 242 deletions(-)

commit 7bc9cce172b2b1cebd00275a0f2c586944709231
Author: Enis Soztutar <enis@apache.org>
Date:   Thu May 21 23:08:26 2015 -0700

    PHOENIX-1763 Support building with HBase-1.1.0

 phoenix-core/pom.xml                               | 17 +++--
 .../regionserver/IndexHalfStoreFileReader.java     | 31 ++++++---
 .../hbase/regionserver/IndexSplitTransaction.java  | 39 +++++++++--
 .../hbase/regionserver/LocalIndexMerger.java       |  3 +-
 .../cache/aggcache/SpillableGroupByCache.java      | 13 +++-
 .../phoenix/coprocessor/BaseRegionScanner.java     | 12 ++--
 .../coprocessor/BaseScannerRegionObserver.java     | 77 ++++++++++++----------
 .../phoenix/coprocessor/DelegateRegionScanner.java | 23 +++++--
 .../GroupedAggregateRegionObserver.java            | 53 +++++++++------
 .../phoenix/coprocessor/HashJoinRegionScanner.java | 60 +++++++++--------
 .../coprocessor/MetaDataRegionObserver.java        | 23 +++----
 .../phoenix/coprocessor/ScanRegionObserver.java    | 11 +++-
 .../UngroupedAggregateRegionObserver.java          | 55 +++++++++-------
 .../hbase/index/covered/data/LocalTable.java       |  2 +-
 .../index/scanner/FilteredKeyValueScanner.java     |  2 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  6 +-
 .../iterate/RegionScannerResultIterator.java       |  9 +--
 .../phoenix/schema/stats/StatisticsScanner.java    | 10 +--
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  6 +-
 .../hbase/index/covered/TestLocalTableState.java   |  1 -
 .../hbase/index/write/TestWALRecoveryCaching.java  |  4 +-
 phoenix-flume/pom.xml                              |  9 ---
 phoenix-pig/pom.xml                                | 31 ++++++---
 phoenix-spark/pom.xml                              |  7 ++
 pom.xml                                            | 41 +++++++++++-
 25 files changed, 352 insertions(+), 193 deletions(-)

commit 286ff26d82b2638dc5d3db850fa6f4537ab6153f
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed May 20 14:17:47 2015 -0700

    PHOENIX-1996 Use BytesStringer instead of ZeroCopyByteString

 .../apache/phoenix/cache/ServerCacheClient.java    | 10 ++++----
 .../phoenix/coprocessor/MetaDataProtocol.java      |  9 ++++---
 .../java/org/apache/phoenix/parse/PFunction.java   |  5 ++--
 .../org/apache/phoenix/protobuf/ProtobufUtil.java  |  4 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 18 +++++++-------
 .../org/apache/phoenix/schema/PColumnImpl.java     |  8 +++----
 .../java/org/apache/phoenix/schema/PTableImpl.java | 28 +++++++++++-----------
 7 files changed, 40 insertions(+), 42 deletions(-)

commit c2fed1dac8305f489939fc18e47cd2c2a6c596d8
Author: NAVEEN MADHIRE <vmadhire@indiana.edu>
Date:   Mon May 18 22:14:57 2015 -0500

    PHOENIX-1984 Make INSTR 1-based instead of 0-based
    
    Bring functionality of INSTR built-in function in-line with other
    SQL string functions, with indexing of strings starting at 1.
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../apache/phoenix/end2end/InstrFunctionIT.java    | 12 +++---
 .../phoenix/expression/function/InstrFunction.java |  2 +-
 .../expression/function/InstrFunctionTest.java     | 48 +++++++++++-----------
 3 files changed, 31 insertions(+), 31 deletions(-)

commit d3ff0798f3e87bb489e3c91f7d11813503fe7861
Author: cmarcel <cmarcel@salesforce.com>
Date:   Tue May 19 15:54:52 2015 -0700

    PHOENIX-1964 - Pherf tests write output in module base directory

 phoenix-pherf/config/pherf.properties              |  3 ++
 .../org/apache/phoenix/pherf/DataIngestIT.java     |  3 +-
 .../org/apache/phoenix/pherf/ResultBaseTestIT.java | 45 +++++++++++++++++++
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |  7 +--
 .../org/apache/phoenix/pherf/PherfConstants.java   | 50 +++++++++++++++++++++-
 .../apache/phoenix/pherf/loaddata/DataLoader.java  |  2 +-
 .../apache/phoenix/pherf/result/ResultUtil.java    |  4 +-
 .../pherf/result/impl/CSVResultHandler.java        |  5 ++-
 .../pherf/result/impl/ImageResultHandler.java      |  5 ++-
 .../pherf/result/impl/XMLResultHandler.java        |  6 ++-
 .../apache/phoenix/pherf/util/ResourceList.java    | 26 -----------
 .../phoenix/pherf/workload/WorkloadExecutor.java   |  2 +-
 .../phoenix/pherf/ConfigurationParserTest.java     |  2 +-
 .../org/apache/phoenix/pherf/ResourceTest.java     |  8 ++--
 .../org/apache/phoenix/pherf/ResultBaseTest.java   | 44 +++++++++++++++++++
 .../java/org/apache/phoenix/pherf/ResultTest.java  |  5 ++-
 16 files changed, 168 insertions(+), 49 deletions(-)

commit 981ed472cb597440fe7c3a2aaa088b103f8f7352
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed May 20 12:29:36 2015 -0700

    PHOENIX-1995 client uberjar doesn't support dfs

 phoenix-assembly/src/build/client.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit a4b4e0e2d862d5d4ee0f3a6f9587f53fe87d629f
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed May 20 09:53:53 2015 -0700

    PHOENIX-1979 Remove unused FamilyOnlyFilter

 .../index/covered/filter/FamilyOnlyFilter.java     |  80 ----------------
 .../index/covered/filter/TestFamilyOnlyFilter.java | 106 ---------------------
 2 files changed, 186 deletions(-)

commit c83ab9edba7b417a001fb702de5d893cbda95f29
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon May 18 16:00:31 2015 -0700

    PHOENIX-1990 bin/queryserver makeWinServiceDesc doesn't actually work in Windows

 bin/queryserver.py | 17 ++++++++++++++---
 1 file changed, 14 insertions(+), 3 deletions(-)

commit 6fc53b5792ea7bdd1b486860606966e76f2e5e3f
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon May 18 10:33:42 2015 -0700

    PHOENIX-1980 CsvBulkLoad cannot load hbase-site.xml from classpath

 .../src/main/java/org/apache/phoenix/mapreduce/CsvBulkLoadTool.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23f5acf86e1065f6bc8c342df4ba29f18aafea8a
Author: Josh Elser <josh.elser@gmail.com>
Date:   Thu May 14 17:40:46 2015 -0400

    PHOENIX-1976 Exit gracefully if addShutdownHook fails.
    
    If the JVM is already in the process of shutting down,
    we don't need to add the shutdown hook for the PhoenixDriver
    instance. Additionally, we shouldn't advertise this instance
    either since we're going down.

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 46 +++++++++++++++-------
 1 file changed, 32 insertions(+), 14 deletions(-)

commit 289a875bd1cd76b6437ae1400d6c324bfe3e0754
Author: cmarcel <cmarcel@salesforce.com>
Date:   Thu May 14 15:56:46 2015 -0700

    PHOENIX-1963 - Irregular failures in ResultTest#testMonitorResult

 phoenix-pherf/cluster/pherf.sh                                       | 2 +-
 .../src/main/java/org/apache/phoenix/pherf/jmx/MonitorManager.java   | 5 ++---
 phoenix-pherf/src/test/java/org/apache/phoenix/pherf/ResultTest.java | 4 ++--
 phoenix-pherf/standalone/pherf.sh                                    | 2 +-
 4 files changed, 6 insertions(+), 7 deletions(-)

commit a1032fba34164b9ac9c62d2187302cdc0e8b2846
Author: Jesse Yates <jyates@apache.org>
Date:   Wed May 13 10:00:52 2015 -0700

    PHOENIX-1965 Upgrade Pig to version 0.13 (Prashant Kommireddi)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c1e5c71abb84f0b2dcb3e1384e21a3f5a70a4d1a
Author: Enis Soztutar <enis@apache.org>
Date:   Wed May 13 11:11:17 2015 -0700

    PHOENIX-1945 Phoenix tarball from assembly does not contain phoenix-[version]-server.jar

 phoenix-assembly/pom.xml | 40 ++++++++++++++++++++--------------------
 1 file changed, 20 insertions(+), 20 deletions(-)

commit b5ef25c942fb0f4ab9a6fec66e821c5c3473ea46
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Wed May 13 10:46:19 2015 +0530

    PHOENIX-1875 implement ARRAY_PREPEND built in function (Dumindu)

 .../phoenix/end2end/ArrayPrependFunctionIT.java    | 652 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/ArrayAppendFunction.java   |  35 +-
 .../expression/function/ArrayModifierFunction.java |  75 +++
 .../expression/function/ArrayPrependFunction.java  |  96 +++
 .../phoenix/schema/types/PArrayDataType.java       | 161 ++++-
 .../expression/ArrayPrependFunctionTest.java       | 552 +++++++++++++++++
 7 files changed, 1541 insertions(+), 34 deletions(-)

commit 978b2322e3e962550c1cddda9910f4f70346aaee
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Sat May 9 11:10:54 2015 -0700

    PHOENIX-1962 Apply check style to the build

 phoenix-assembly/pom.xml                    |   4 +
 phoenix-core/pom.xml                        |   4 +
 phoenix-flume/pom.xml                       |   4 +
 phoenix-pherf/pom.xml                       |   1 +
 phoenix-pig/pom.xml                         |   4 +
 phoenix-server-client/pom.xml               |   4 +
 phoenix-server/pom.xml                      |   4 +
 phoenix-spark/pom.xml                       |   1 +
 pom.xml                                     |  23 +++
 src/main/config/checkstyle/checker.xml      | 281 ++++++++++++++++++++++++++++
 src/main/config/checkstyle/header.txt       |  16 ++
 src/main/config/checkstyle/suppressions.xml |  46 +++++
 12 files changed, 392 insertions(+)

commit 93397affd75fb5877146ca7b4bb028db301f671e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat May 9 18:13:49 2015 -0700

    PHOENIX-1958 Minimize memory allocation on new connection

 .../src/main/java/org/apache/phoenix/util/ReadOnlyProps.java         | 5 +++++
 1 file changed, 5 insertions(+)

commit cd81738b1fbcb5cf19123b2dca8da31f602b9c64
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat May 9 10:18:57 2015 -0700

    PHOENIX-1958 Minimize memory allocation on new connection

 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 41 ++++++++++++----------
 .../org/apache/phoenix/util/ReadOnlyProps.java     | 32 +++++++++++++++++
 2 files changed, 54 insertions(+), 19 deletions(-)

commit c2fee39efff87930ab3a00d4ed36ec32a493cf7d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri May 8 13:13:44 2015 -0700

    PHOENIX-1956 SELECT (FALSE OR FALSE) RETURNS TRUE

 .../it/java/org/apache/phoenix/end2end/EvaluationOfORIT.java  | 11 +++++++++++
 .../java/org/apache/phoenix/compile/ExpressionCompiler.java   |  3 +--
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 45a919f380a2743bdcf3838da2cd9873c3f518c0
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed May 6 09:58:35 2015 -0700

    PHOENIX-1948 bin scripts run under make_rc.sh packaging

 bin/phoenix_utils.py | 142 ++++++++++++++++++++++++++++++---------------------
 1 file changed, 84 insertions(+), 58 deletions(-)

commit b47dcb66055642559b9dd75f5647473329df432f
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri May 1 14:23:42 2015 -0700

    PHOENIX-1944 PQS secure login only executed when debug is enabled

 .../src/main/java/org/apache/phoenix/queryserver/server/Main.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1fa09dc5c84ca92f57f6904bf88628133eb65995
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 30 13:39:23 2015 -0700

    PHOENIX-1880 Connections from QueryUtil.getConnection don't work on secure clusters (Geoffrey Jacoby)

 .../phoenix/mapreduce/util/ConnectionUtil.java     | 23 +++-------------------
 .../org/apache/phoenix/util/PropertiesUtil.java    | 22 +++++++++++++++++++++
 .../java/org/apache/phoenix/util/QueryUtil.java    |  4 ++++
 .../apache/phoenix/util/PropertiesUtilTest.java    | 23 +++++++++++++++++++++-
 4 files changed, 51 insertions(+), 21 deletions(-)

commit d223f2c3997bcd8f85c8dcae3703ceb39036662d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Apr 30 19:05:57 2015 +0530

    PHOENIX-1908 TenantSpecificTablesDDLIT#testAddDropColumn is flaky(Rajeshbabu)

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 70de0cd485705ecc1f8b7864fe3657c4e8408d36
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Apr 30 16:25:33 2015 +0530

    PHOENIX-1856 Include min row key for each region in stats row-addendum_1(Ram)

 .../main/java/org/apache/phoenix/schema/stats/StatisticsCollector.java  | 2 ++
 1 file changed, 2 insertions(+)

commit efd7c9f735433c8512877ad3db194bb325bdde32
Author: Thomas <tdsilva@salesforce.com>
Date:   Sun Apr 26 11:38:51 2015 -0700

    PHOENIX-1882 Issue column family deletes instead of row deletes in PTableImpl

 .../phoenix/end2end/MappingTableDataTypeIT.java    | 67 ++++++++++++++++------
 .../org/apache/phoenix/index/IndexMaintainer.java  |  7 ---
 .../java/org/apache/phoenix/schema/PTableImpl.java |  8 +--
 3 files changed, 53 insertions(+), 29 deletions(-)

commit d2c1f2c0a6a0994da296b20158697fa725f1b4a7
Author: Thomas <tdsilva@salesforce.com>
Date:   Wed Apr 29 15:44:13 2015 -0700

    PHOENIX-1930 [BW COMPAT] Queries hangs with client on Phoenix 4.3.0 and server on 4.x-HBase-0.98

 .../src/main/java/org/apache/phoenix/expression/ExpressionType.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit 902cf0de317db917ae320193ba51ec3588611ede
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Apr 30 02:05:14 2015 +0530

    PHOENIX-1856 Include min row key for each region in stats row -addendum(Ram)

 .../main/java/org/apache/phoenix/schema/stats/StatisticsCollector.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 864faba6d6091136d6776f1d81cd5264d3a0e14e
Author: Thomas <tdsilva@salesforce.com>
Date:   Wed Apr 29 11:16:41 2015 -0700

    PHOENIX-1930 [BW COMPAT] Queries hangs with client on Phoenix 4.3.0 and server on 4.x-HBase-0.98

 .../java/org/apache/phoenix/expression/ExpressionType.java   | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 064b7afa929a0e0c8e1fb5e9c60945382ac6f828
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Wed Apr 29 23:39:57 2015 +0530

    PHOENIX-1856 Include min row key for each region in stats row (Ram)

 .../StatsCollectorWithSplitsAndMultiCFIT.java      | 32 ++++++++++++-----
 .../java/org/apache/phoenix/schema/PTableImpl.java |  4 ++-
 .../phoenix/schema/stats/GuidePostsInfo.java       |  9 ++---
 .../phoenix/schema/stats/StatisticsCollector.java  | 31 +++++++++++++++-
 .../phoenix/schema/stats/StatisticsUtil.java       |  2 ++
 .../phoenix/schema/stats/StatisticsWriter.java     | 41 +++++++++++++++++-----
 6 files changed, 95 insertions(+), 24 deletions(-)

commit 403411b2a89b9396bf951802aa4358f41828603b
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Apr 29 06:33:16 2015 -0700

    PHOENIX-1934 queryserver support for Windows service descriptor

 bin/queryserver.py | 35 ++++++++++++++++++++++++++++++++---
 1 file changed, 32 insertions(+), 3 deletions(-)

commit 6e89a145251a83ff06bd698df52eb7b2293c619f
Author: Enis Soztutar <enis@apache.org>
Date:   Tue Apr 28 17:49:04 2015 -0700

    PHOENIX-1757 Switch to HBase-1.0.1 when it is released

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38aa4ce8d783cf025f5ac907e83f39782f4674f9
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Apr 28 13:20:52 2015 -0700

    PHOENIX-1822 PhoenixMetricsIT.testPhoenixMetricsForQueries() is flapping

 .../src/it/java/org/apache/phoenix/end2end/PhoenixMetricsIT.java      | 4 ----
 1 file changed, 4 deletions(-)

commit e3f2766e0c505e322da139c3d4ac2bbdf4aaeba9
Author: Thomas <tdsilva@salesforce.com>
Date:   Tue Apr 28 13:02:48 2015 -0700

    PHOENIX-1930 [BW COMPAT] Queries hangs with client on Phoenix 4.3.0 and server on 4.x-HBase-0.98 (James Taylor)

 .../main/java/org/apache/phoenix/expression/ExpressionType.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit fcfb90ed26f96f72224ef47cc841898c4c8560ba
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Apr 28 16:03:36 2015 +0530

    PHOENIX-1931 IDE compilation errors after UDF check-in(James Taylor)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 28 ++++++++++------------
 .../apache/phoenix/parse/FunctionParseNode.java    |  5 ----
 2 files changed, 13 insertions(+), 20 deletions(-)

commit d5358be3417e8a1c11642250a68e5435c2135fa1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 27 17:58:43 2015 -0700

    PHOENIX-1930 [BW COMPAT] Queries hangs with client on Phoenix 4.3.0 and server on 4.x-HBase-0.98

 .../main/java/org/apache/phoenix/expression/ExpressionType.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a9af6fe65f46c3830da33caf8d34b292258388eb
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Apr 28 02:04:58 2015 +0530

    PHOENIX-1925 Make buildbot scripts to run integration tests as well(Rajeshbabu)

 dev/test-patch.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 0e87d666fc7b50fec132838535b48efe3aa15608
Author: Enis Soztutar <enis@apache.org>
Date:   Mon Apr 27 12:50:44 2015 -0700

    PHOENIX-1911 Tests could fail if region and wal did not close on windows (Alicia Ying Shu)

 .../write/recovery/TestPerRegionIndexWriteCache.java | 20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 986b87f374176a3a4595469b09b3f98068a1a63d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Apr 27 15:43:50 2015 +0530

    PHOENIX-538 Support UDFs-addendum to pick udf tests(Rajeshbabu Chintaguntla)

 .../org/apache/phoenix/end2end/UserDefinedFunctionsIT.java  | 13 +------------
 1 file changed, 1 insertion(+), 12 deletions(-)

commit 66bd3e35c0d2105dcc393116f8bb5851ce1f5ec4
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Apr 27 14:03:44 2015 +0530

    PHOENIX-538 Support UDFs(Rajeshbabu Chintaguntla)

 bin/phoenix_utils.py                               |    9 +
 bin/sqlline.py                                     |    2 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |    5 +
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |    5 +
 .../phoenix/end2end/UserDefinedFunctionsIT.java    |  605 +++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   77 +-
 .../java/org/apache/phoenix/cache/GlobalCache.java |   30 +-
 .../org/apache/phoenix/compile/ColumnResolver.java |   17 +
 .../phoenix/compile/CreateFunctionCompiler.java    |   80 +
 .../phoenix/compile/CreateIndexCompiler.java       |    2 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |    2 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   17 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  199 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |    9 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   14 +
 .../apache/phoenix/compile/ProjectionCompiler.java |    2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   18 +-
 .../org/apache/phoenix/compile/RowProjector.java   |   32 +-
 .../phoenix/compile/StatementNormalizer.java       |    5 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   |    4 +-
 .../apache/phoenix/compile/SubselectRewriter.java  |    2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  651 ++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   30 +-
 .../coprocessor/generated/MetaDataProtos.java      | 4274 ++++++++++++++++----
 .../coprocessor/generated/PFunctionProtos.java     | 2942 ++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |   20 +-
 .../apache/phoenix/exception/SQLExceptionInfo.java |   16 +
 .../apache/phoenix/expression/ExpressionType.java  |    4 +-
 .../expression/function/ScalarFunction.java        |    2 +-
 .../phoenix/expression/function/UDFExpression.java |  220 +
 .../expression/visitor/CloneExpressionVisitor.java |    6 +
 .../org/apache/phoenix/index/IndexMaintainer.java  |   50 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   35 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   30 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  132 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |    4 +-
 .../phoenix/parse/CreateFunctionStatement.java     |   42 +
 .../apache/phoenix/parse/CreateIndexStatement.java |    8 +-
 .../org/apache/phoenix/parse/DMLStatement.java     |   11 +-
 .../org/apache/phoenix/parse/DeleteStatement.java  |    5 +-
 .../phoenix/parse/DropFunctionStatement.java       |   41 +
 .../apache/phoenix/parse/FunctionParseNode.java    |   75 +-
 .../parse/IndexExpressionParseNodeRewriter.java    |    4 +-
 .../java/org/apache/phoenix/parse/NamedNode.java   |    2 +-
 .../java/org/apache/phoenix/parse/PFunction.java   |  255 ++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   70 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |    2 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |   22 +-
 .../org/apache/phoenix/parse/UDFParseNode.java     |   27 +
 .../org/apache/phoenix/parse/UpsertStatement.java  |    9 +-
 .../org/apache/phoenix/protobuf/ProtobufUtil.java  |   10 +
 .../phoenix/query/ConnectionQueryServices.java     |    4 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  161 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   52 +-
 .../query/DelegateConnectionQueryServices.java     |   31 +
 .../org/apache/phoenix/query/MetaDataMutated.java  |    3 +
 .../org/apache/phoenix/query/QueryConstants.java   |   36 +
 .../org/apache/phoenix/query/QueryServices.java    |    2 +
 .../apache/phoenix/query/QueryServicesOptions.java |    4 +-
 .../schema/FunctionAlreadyExistsException.java     |   58 +
 .../phoenix/schema/FunctionNotFoundException.java  |   52 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  256 +-
 .../NewerFunctionAlreadyExistsException.java       |   39 +
 .../java/org/apache/phoenix/schema/PMetaData.java  |    6 +-
 .../org/apache/phoenix/schema/PMetaDataEntity.java |   22 +
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  118 +-
 .../java/org/apache/phoenix/schema/PTable.java     |    3 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |    7 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   17 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  |   18 -
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   15 +
 phoenix-protocol/src/main/MetaDataService.proto    |   37 +-
 phoenix-protocol/src/main/PFunction.proto          |   45 +
 73 files changed, 10222 insertions(+), 899 deletions(-)

commit cd29be2e964eb71fb7eb07c32576c9383e44f19d
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Mon Apr 27 11:34:38 2015 +0530

    PHOENIX-1863 Create unit test for inverting the pad character (Dumindu)

 .../org/apache/phoenix/schema/PCharPadTest.java    | 147 +++++++++++++++++++++
 1 file changed, 147 insertions(+)

commit 235735872bd171c10b3676ad0be6fe958a12e7a3
Author: Cody Marcel <codymarcel@apache.org>
Date:   Fri Apr 24 17:06:04 2015 -0700

    PHOENIX-1728 - Pherf - Make tests use mini cluster. Removed extra files

 .../apache/phoenix/pherf/BaseTestWithCluster.java  | 45 -----------
 .../org/apache/phoenix/pherf/DataIngestTest.java   | 78 ------------------
 .../org/apache/phoenix/pherf/DataLoaderTest.java   | 94 ----------------------
 .../org/apache/phoenix/pherf/SchemaReaderTest.java | 73 -----------------
 4 files changed, 290 deletions(-)

commit d28bb5f859cd609295f1e219b437f0be2dc2bc1c
Author: Cody Marcel <codymarcel@apache.org>
Date:   Fri Apr 24 17:02:46 2015 -0700

    PHOENIX-1728 - Pherf - Make tests use mini cluster. Some files were missing from previous commit.

 .gitignore                                         |   1 +
 phoenix-pherf/pom.xml                              | 143 +++++++++++++++------
 .../main/java/org/apache/phoenix/pherf/Pherf.java  |   1 -
 .../apache/phoenix/pherf/loaddata/DataLoader.java  |  14 +-
 .../apache/phoenix/pherf/schema/SchemaReader.java  |   7 +-
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  48 +++----
 .../apache/phoenix/pherf/util/ResourceList.java    |   8 +-
 .../phoenix/pherf/workload/WorkloadExecutor.java   |   4 +-
 .../datamodel/create_prod_test_unsalted.sql        |   2 +-
 .../scenario/prod_test_unsalted_scenario.xml       |   4 +-
 .../phoenix/pherf/ConfigurationParserTest.java     |   2 +-
 .../java/org/apache/phoenix/pherf/PherfTest.java   |  26 +---
 .../java/org/apache/phoenix/pherf/ResultTest.java  |  12 --
 .../apache/phoenix/pherf/RuleGeneratorTest.java    |   7 +-
 .../org/apache/phoenix/pherf/TestHBaseProps.java   |   1 -
 .../src/test/resources/datamodel/test_schema.sql   |  33 ++---
 .../src/test/resources/scenario/test_scenario.xml  |   4 +-
 pom.xml                                            |   2 +-
 18 files changed, 180 insertions(+), 139 deletions(-)

commit 6e1c6a485cf93ac375aa124fb72f418b26b32b26
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Apr 24 15:47:23 2015 -0700

    PHOENIX-1919 Clean up more ASL headers

 .../PrimitiveIntPhoenixArrayToStringTest.java      | 23 ++++++++++++++--------
 .../org/apache/phoenix/spark/DefaultSource.scala   | 17 ++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRelation.scala | 17 ++++++++++++++++
 3 files changed, 49 insertions(+), 8 deletions(-)

commit 56c713ca36e9be9885f5366b6a567a564e9f8db9
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Apr 24 12:39:29 2015 -0700

    PHOENIX-1915 QueryServerBasicsIT should bind QS instance to random port

 .../phoenix/end2end/QueryServerBasicsIT.java       | 23 +++++---
 phoenix-server/src/it/resources/log4j.properties   | 63 ++++++++++++++++++++++
 .../apache/phoenix/queryserver/server/Main.java    | 12 +++--
 3 files changed, 85 insertions(+), 13 deletions(-)

commit e35662052ff7cafed7ae74904332654bd050cb6e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 24 13:38:19 2015 -0700

    PHOENIX-1916 Spark tests are failing (Josh Mahonin)

 phoenix-spark/src/main/scala/org/apache/phoenix/spark/PhoenixRDD.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20e772caf23eb853a458a80a0c5b70affaa44944
Author: maryannxue <wei.xue@intel.com>
Date:   Fri Apr 24 15:59:39 2015 -0400

    PHOENIX-1917 Correlated subquery fails if the inner query contains JOIN

 .../it/java/org/apache/phoenix/end2end/SubqueryIT.java | 18 ++++++++++++++++++
 .../org/apache/phoenix/compile/SubqueryRewriter.java   |  2 ++
 2 files changed, 20 insertions(+)

commit 96054823b912c75f06a134f7013bc99e490e40d0
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Apr 24 19:01:28 2015 +0530

    Update pom version to 4.5.0-SNAPSHOT

 phoenix-assembly/pom.xml      | 2 +-
 phoenix-core/pom.xml          | 2 +-
 phoenix-flume/pom.xml         | 2 +-
 phoenix-pherf/pom.xml         | 2 +-
 phoenix-pig/pom.xml           | 2 +-
 phoenix-server-client/pom.xml | 2 +-
 phoenix-server/pom.xml        | 2 +-
 phoenix-spark/pom.xml         | 2 +-
 pom.xml                       | 2 +-
 9 files changed, 9 insertions(+), 9 deletions(-)

commit 98f062f4e3e2a88e18632262c0a4b81c0e255c82
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Apr 23 19:47:18 2015 -0700

    PHOENIX-1912 DropIndexDuringUpsertIT is hanging causing build to fail

 .../java/org/apache/phoenix/end2end/index/DropIndexDuringUpsertIT.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 124ab6db0b95fb30b287e1dfb2a626bd95546219
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Apr 23 22:23:05 2015 -0400

    PHOENIX-1773 Backward compatibility for joins fail after PHOENIX-1489

 .../main/java/org/apache/phoenix/join/HashJoinInfo.java | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 80898c06bfb183bf889faad0a8bb5fad54770af6
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Thu Apr 23 13:54:56 2015 -0700

    PHOENIX-1909 queryserver.py accept PHOENIX_QUERYSERVER_OPTS

 bin/queryserver.py | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit ee5b6707ba3717f3806584daaf23706ef7c8bd4b
Merge: 254024f9c bb30ed516
Author: cmarcel <cmarcel@salesforce.com>
Date:   Thu Apr 23 15:28:46 2015 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 254024f9c97ffa541fbc097a89e2bd2859fa02a2
Author: cmarcel <cmarcel@salesforce.com>
Date:   Thu Apr 23 15:26:48 2015 -0700

    PHOENIX-1728 Pherf - Make tests use mini cluster

 .../org/apache/phoenix/pherf/DataIngestIT.java     | 88 ++++++++++++++++++++++
 .../org/apache/phoenix/pherf/SchemaReaderIT.java   | 77 +++++++++++++++++++
 .../apache/phoenix/pherf/RowCalculatorTest.java    | 88 ++++++++++++++++++++++
 3 files changed, 253 insertions(+)

commit bb30ed516ae08be283fdd4b3464bd8644da92b00
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Thu Apr 23 15:21:33 2015 -0700

    PHOENIX-1888 [build] add pre-commit scripts -- enable comment-on-jira

 dev/test-patch.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 136f7eea0f0ecc9a3bb514a514c02bbae27771dd
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Apr 22 15:51:31 2015 -0700

    PHOENIX-1904 bin scripts use incorrect variable for locating hbase conf

 bin/end2endTest.py   | 5 ++---
 bin/phoenix_utils.py | 6 ++++--
 bin/psql.py          | 2 +-
 bin/queryserver.py   | 2 +-
 bin/sqlline-thin.py  | 2 +-
 bin/sqlline.py       | 2 +-
 6 files changed, 10 insertions(+), 9 deletions(-)

commit e18378b6f837d36ffc839d1d4beff096bd8e6c43
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Apr 22 17:08:43 2015 -0700

    PHOENIX-1888 [build] add pre-commit scripts -- rat check, javadoc warnings

 dev/test-patch.properties | 2 +-
 pom.xml                   | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 827b6ae6eb506aa347267af71f394b09ae1139fc
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Apr 22 16:39:10 2015 -0700

    PHOENIX-1888 [build] add pre-commit scripts -- remove non-existent profiles

 dev/test-patch.sh | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 669c8730266133ec54e241fd79c5201b831dc4a6
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Apr 22 16:17:29 2015 -0700

    PHOENIX-1888 [build] add pre-commit scripts -- s/dev-support/dev/

 dev/test-patch.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8daa52c47fdc0301eac33235c2f7d145d103b1d0
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Apr 22 15:32:44 2015 -0700

    PHOENIX-1682 Fix QueryMoreIT failures (Ivan Weiss)

 .../src/it/java/org/apache/phoenix/end2end/QueryMoreIT.java         | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f956a736b3747dc21e596aaf8bfe5088da2c8ca2
Author: Soumen <soumen28@users.noreply.github.com>
Date:   Tue Apr 14 14:56:45 2015 -0700

    PHOENIX-1769 Exception thrown when TO_DATE function used as LHS in WHERE-clause

 .../apache/phoenix/end2end/ToDateFunctionIT.java   | 46 +++++++++++++++-------
 1 file changed, 32 insertions(+), 14 deletions(-)

commit 784c354af8f21006d695cca7e175fb22be73ebd0
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Apr 22 11:28:04 2015 -0700

    PHOENIX-900 Fix whitespaces and remove System.out from PartialCommitIT

 .../it/java/org/apache/phoenix/execute/PartialCommitIT.java    | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit ac2e2368e5f77178f73f6f6347e4fe8a7b782dce
Merge: f312a0587 f54abb55c
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Apr 22 10:45:35 2015 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit f312a058746382ca442ee86eed7b857f5d1a1767
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Apr 22 10:44:56 2015 -0700

    PHOENIX-900 Fix failing PartialCommitIT.testDeleteFailure()

 .../apache/phoenix/execute/PartialCommitIT.java    | 27 ++++++++++++++++++----
 1 file changed, 22 insertions(+), 5 deletions(-)

commit f54abb55c71f18c1e665e1a3fa6e3330c5619e2e
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Apr 21 22:21:18 2015 -0700

    PHOENIX-1899 Performance regression for non-aggregate, unordered queries returning 0 or few records

 .../src/main/java/org/apache/phoenix/iterate/ParallelIterators.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit 67c4c4597c9154f19f977e0747a5258daa766486
Author: Eli Levine <elilevine@apache.org>
Date:   Tue Apr 21 17:58:43 2015 -0700

    PHOENIX-900 Partial results for mutations

 .../apache/phoenix/execute/PartialCommitIT.java    | 302 +++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  13 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  13 +-
 .../apache/phoenix/execute/CommitException.java    |  35 ++-
 .../org/apache/phoenix/execute/MutationState.java  | 158 +++++++----
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  33 ++-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   7 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   3 +
 .../apache/phoenix/execute/MutationStateTest.java  |  64 +++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 10 files changed, 542 insertions(+), 88 deletions(-)

commit ed7d0e978ecc46dec7fd2ae1eb99a32de9c8c32a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Apr 21 16:28:02 2015 -0700

    PHOENIX-1682 PhoenixRuntime.getTable() does not work with case-sensitive table names (Ivan Weiss)

 .../org/apache/phoenix/util/PhoenixRuntime.java    |  8 ++-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    | 75 ++++++++++++++++++++++
 2 files changed, 82 insertions(+), 1 deletion(-)

commit 572fa3c65b1ffbb39741079059d5c94b3bb7904b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Apr 21 16:21:17 2015 -0700

    PHOENIX-1873 Fix compilation errors in Pherf (Cody Marcel, James Taylor)

 .../phoenix/pherf/configuration/DataModel.java     | 11 +++-
 .../phoenix/pherf/configuration/DataOverride.java  |  3 +-
 .../pherf/configuration/DataTypeMapping.java       |  5 +-
 .../phoenix/pherf/configuration/QuerySet.java      | 14 ++++-
 .../phoenix/pherf/configuration/Scenario.java      | 13 ++++
 .../pherf/configuration/XMLConfigParser.java       |  1 +
 .../pherf/exception/FileLoaderException.java       |  4 +-
 .../exception/FileLoaderRuntimeException.java      |  1 +
 .../apache/phoenix/pherf/jmx/MonitorManager.java   |  1 +
 .../phoenix/pherf/jmx/monitors/ExampleMonitor.java | 33 ----------
 .../apache/phoenix/pherf/loaddata/DataLoader.java  | 37 -----------
 .../phoenix/pherf/result/DataLoadThreadTime.java   | 19 +-----
 .../phoenix/pherf/result/DataLoadTimeSummary.java  | 17 ------
 .../phoenix/pherf/result/DataModelResult.java      |  1 +
 .../apache/phoenix/pherf/result/QueryResult.java   |  2 +
 .../phoenix/pherf/result/QuerySetResult.java       |  3 +-
 .../org/apache/phoenix/pherf/result/Result.java    | 10 ++-
 .../apache/phoenix/pherf/result/ResultUtil.java    | 71 ----------------------
 .../org/apache/phoenix/pherf/result/RunTime.java   | 23 ++++---
 .../phoenix/pherf/result/ScenarioResult.java       |  1 +
 .../apache/phoenix/pherf/result/ThreadTime.java    |  1 +
 .../pherf/result/impl/CSVResultHandler.java        | 21 ++++---
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java |  4 +-
 .../apache/phoenix/pherf/util/ResourceList.java    | 13 ----
 .../phoenix/pherf/workload/QueryExecutor.java      |  2 -
 .../apache/phoenix/pherf/BaseTestWithCluster.java  | 22 -------
 .../phoenix/pherf/ConfigurationParserTest.java     |  8 ++-
 .../org/apache/phoenix/pherf/DataLoaderTest.java   | 14 -----
 28 files changed, 96 insertions(+), 259 deletions(-)

commit 75d073025772c7642a3b27379acfcc24d8e92407
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue Apr 21 16:17:42 2015 -0700

    PHOENIX-1903 bin scripts locate wrong client jar

 bin/phoenix_utils.py | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3f294aa962dc9e31ffe19200f78623590eb68a36
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 20 22:45:57 2015 -0700

    PHOENIX-1870 Fix NPE occurring during regex processing when joni library not used (Shuxiong Ye)

 .../apache/phoenix/expression/LikeExpression.java  |  8 +--
 .../expression/function/RegexpReplaceFunction.java | 74 +++++++++++++++-------
 .../expression/function/RegexpSplitFunction.java   | 59 +++++++++--------
 .../expression/util/regex/AbstractBasePattern.java |  6 +-
 .../util/regex/AbstractBaseSplitter.java           |  2 +-
 .../expression/util/regex/GuavaSplitter.java       |  6 +-
 .../phoenix/expression/util/regex/JONIPattern.java | 22 +++----
 .../phoenix/expression/util/regex/JavaPattern.java | 20 +++---
 .../util/regex/PatternPerformanceTest.java         | 13 +++-
 9 files changed, 125 insertions(+), 85 deletions(-)

commit 5a63c6360e53ec0bb52fc41b4f1856f1cc757257
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Mon Apr 20 15:49:11 2015 -0700

    PHOENIX-1896 Make queryserver.py more robust

 bin/queryserver.py | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit e3a1c24d2712f7976b3f3e9c003f1a27dfe62304
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Apr 20 16:31:21 2015 -0700

    PHOENIX-1894 Iterators in BaseResultIterators#submitWork should be added to a thread safe collection.

 .../main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 6 ++++--
 .../src/main/java/org/apache/phoenix/iterate/ParallelIterators.java | 3 ++-
 .../src/main/java/org/apache/phoenix/iterate/SerialIterators.java   | 3 ++-
 3 files changed, 8 insertions(+), 4 deletions(-)

commit 5565aa38d9084179f6c863d65cd2dd5261984b5f
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 20 15:48:34 2015 -0700

    PHOENIX-1895 Remove unused private member variable for QueryServerThread

 .../src/it/java/org/apache/phoenix/end2end/QueryServerThread.java   | 6 ------
 1 file changed, 6 deletions(-)

commit 5eeb060e188032df256a56cb30537cb41339ddbd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 20 00:03:47 2015 -0700

    PHOENIX-1891 TupleProjectorCompiler clones PTable with full name for table name

 .../main/java/org/apache/phoenix/compile/TupleProjectionCompiler.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 92ec5ae957f972a6966966736bef19cde4ffc29e
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Sun Apr 19 13:43:51 2015 -0700

    PHOENIX-1888 [build] add pre-commit scripts

 dev/jenkinsEnv.sh         |   31 ++
 dev/smart-apply-patch.sh  |   96 ++++
 dev/test-patch.properties |   35 ++
 dev/test-patch.sh         | 1081 +++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 1243 insertions(+)

commit fefc319c98339d7da0b4105ee6f396d33128c45c
Author: Abhishek Sreenivasa <asreenivasa@salesforce.com>
Date:   Thu Apr 16 12:57:26 2015 -0700

    PHOENIX-1733: sqlline.py doesn't allow connecting with a tenant-specific connection
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 bin/phoenix_utils.py | 16 +++++++++++++++-
 bin/psql.py          |  6 +-----
 bin/sqlline.py       |  4 ++--
 3 files changed, 18 insertions(+), 8 deletions(-)

commit 5df1b728e1d9da9660f912c26aeb986b9e72140a
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Fri Apr 17 18:42:39 2015 -0700

    PHOENIX-1885 Fix packaging for query server

 bin/phoenix_utils.py                               | 14 +++++++---
 .../build/components/all-common-dependencies.xml   |  1 +
 .../src/build/components/all-common-files.xml      |  6 ++---
 .../src/build/components/all-common-jars.xml       | 30 +++++++++++++++++++---
 phoenix-assembly/src/build/src.xml                 |  4 +--
 phoenix-server-client/pom.xml                      |  4 +--
 ...uery-server-thin-client.xml => thin-client.xml} |  3 ++-
 7 files changed, 47 insertions(+), 15 deletions(-)

commit 5f3d3892ff925f80289dc7b2ac918a91eedacfb1
Author: Alex <awarshavsky@salesforce.com>
Date:   Thu Apr 16 17:06:33 2015 -0700

    PHOENIX-1872 Use PrimitiveBooleanArray of boolean[] instead of PhoenixArray of Boolean[]

 .../org/apache/phoenix/schema/types/PBoolean.java  | 18 ++++++++++---
 .../apache/phoenix/schema/types/PBooleanArray.java | 31 +++++++++++-----------
 .../apache/phoenix/schema/types/PhoenixArray.java  | 21 ++++++++++-----
 .../expression/ArrayAppendFunctionTest.java        | 29 +++++++++++++++-----
 .../schema/types/BasePhoenixArrayToStringTest.java | 11 +++++---
 .../schema/types/PDateArrayToStringTest.java       |  7 +++++
 .../PrimitiveBooleanPhoenixArrayToStringTest.java  |  6 +++++
 7 files changed, 87 insertions(+), 36 deletions(-)

commit b597ba817451564389f84a29d5e33a1f42d120a1
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 17 13:51:19 2015 -0700

    PHOENIX-1779 Addendum - Increase wait time for split to complete for RoundRobinResultIteratorIT

 .../it/java/org/apache/phoenix/iterate/RoundRobinResultIteratorIT.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 45b1d4b86d217c9b420791b9a4350608b390c1c5
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 17 12:24:25 2015 -0700

    PHOENIX-1759 PhoenixArray to have decent toString() implementation (Alex Warshavsky)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 125 ++++++++++++++++++++-
 .../org/apache/phoenix/schema/types/PDataType.java |  15 ++-
 .../org/apache/phoenix/schema/types/PDate.java     |  15 +--
 .../org/apache/phoenix/schema/types/PVarchar.java  |   2 +-
 .../apache/phoenix/schema/types/PhoenixArray.java  |  55 ++++++---
 .../schema/types/BasePhoenixArrayToStringTest.java |  81 +++++++++++++
 ...asePrimitiveDoublePhoenixArrayToStringTest.java |  39 +++++++
 .../BasePrimitiveIntPhoenixArrayToStringTest.java  |  50 +++++++++
 .../schema/{ => types}/PDataTypeForArraysTest.java |   2 +-
 .../schema/types/PDateArrayToStringTest.java       |  73 ++++++++++++
 .../schema/types/PVarcharArrayToStringTest.java    |  71 ++++++++++++
 .../PrimitiveBooleanPhoenixArrayToStringTest.java  |  50 +++++++++
 .../PrimitiveBytePhoenixArrayToStringTest.java     |  34 ++++++
 .../PrimitiveDoublePhoenixArrayToStringTest.java   |  36 ++++++
 .../PrimitiveFloatPhoenixArrayToStringTest.java    |  36 ++++++
 .../PrimitiveIntPhoenixArrayToStringTest.java      |  20 ++++
 .../PrimitiveLongPhoenixArrayToStringTest.java     |  35 ++++++
 .../PrimitiveShortPhoenixArrayToStringTest.java    |  36 ++++++
 18 files changed, 745 insertions(+), 30 deletions(-)

commit 8b1d7d9bc4e35630259c60d66bc7476f96273642
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Apr 17 11:53:46 2015 -0700

    PHOENIX-1779 Parallelize fetching of next batch of records for scans corresponding to queries with no order by

 .../end2end/SkipScanAfterManualSplitIT.java        |   2 +-
 .../iterate/RoundRobinResultIteratorIT.java        | 319 ++++++++++++++++++++
 .../org/apache/phoenix/mapreduce/IndexToolIT.java  |   3 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |  11 +
 .../org/apache/phoenix/compile/TraceQueryPlan.java |   5 +
 .../org/apache/phoenix/execute/AggregatePlan.java  |   5 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   6 +
 .../phoenix/execute/DegenerateQueryPlan.java       |   5 +
 .../apache/phoenix/execute/DelegateQueryPlan.java  |   6 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  21 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |   5 +
 .../java/org/apache/phoenix/execute/UnionPlan.java |   5 +
 .../phoenix/iterate/RoundRobinResultIterator.java  | 329 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   8 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   9 +-
 .../org/apache/phoenix/query/QueryServices.java    |   6 +
 .../apache/phoenix/query/QueryServicesOptions.java |  21 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  22 ++
 .../apache/phoenix/compile/QueryCompilerTest.java  |  62 +++-
 .../phoenix/filter/SkipScanBigFilterTest.java      |   2 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   5 +
 .../phoenix/query/QueryServicesTestImpl.java       |   5 +-
 24 files changed, 843 insertions(+), 26 deletions(-)

commit 38feb452c88e12d686db2ec7e8d4d36bc38e21e6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Apr 17 01:31:24 2015 -0700

    PHOENIX-1877 Spark end2end tests are breaking the build (Josh Mahonin)

 phoenix-spark/src/it/scala/org/apache/phoenix/spark/PhoenixSparkIT.scala | 1 +
 1 file changed, 1 insertion(+)

commit e4f5cc6274db747209b68ada15a3030754e90d9c
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Thu Apr 16 16:11:36 2015 -0700

    PHOENIX-971 Query server

 NOTICE                                             |  10 +
 bin/daemon.py                                      | 989 +++++++++++++++++++++
 bin/log4j.properties                               |   9 +-
 bin/phoenix_utils.py                               |   4 +
 bin/queryserver.py                                 | 147 +++
 bin/sqlline-thin.py                                |  89 ++
 dev/make_rc.sh                                     |   5 +
 phoenix-assembly/pom.xml                           |   8 +
 phoenix-assembly/src/build/components-minimal.xml  |   2 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   5 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   5 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   5 +
 phoenix-server-client/pom.xml                      |  62 ++
 .../src/build/query-server-thin-client.xml         |  40 +
 .../apache/phoenix/queryserver/client/Driver.java  |  49 +
 .../phoenix/queryserver/client/ThinClientUtil.java |  35 +
 .../resources/META-INF/services/java.sql.Driver    |   1 +
 .../org-apache-phoenix-remote-jdbc.properties      |  25 +
 phoenix-server/pom.xml                             | 107 +++
 phoenix-server/src/build/query-server-runnable.xml |  39 +
 .../phoenix/end2end/QueryServerBasicsIT.java       | 150 ++++
 .../apache/phoenix/end2end/QueryServerThread.java  |  51 ++
 .../apache/phoenix/queryserver/server/Main.java    | 158 ++++
 .../queryserver/server/PhoenixMetaFactory.java     |  28 +
 .../queryserver/server/PhoenixMetaFactoryImpl.java |  76 ++
 .../org/apache/phoenix/DriverCohabitationTest.java |  65 ++
 pom.xml                                            |  47 +-
 27 files changed, 2205 insertions(+), 6 deletions(-)

commit e25d7d098c7d537fe8f3ee36838664c26f52a5ac
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 16 10:11:13 2015 -0700

    PHOENIX-1870 Fix NPE occurring during regex processing when joni library not used

 .../expression/function/RegexpSubstrFunction.java  | 97 ++++++++++++++--------
 .../expression/util/regex/AbstractBasePattern.java |  3 +-
 .../phoenix/expression/util/regex/JONIPattern.java | 18 ++--
 .../phoenix/expression/util/regex/JavaPattern.java | 31 +++----
 .../util/regex/PatternPerformanceTest.java         |  7 +-
 5 files changed, 92 insertions(+), 64 deletions(-)

commit 035e315794427e0914be6d0a84fb6bac5331d6a8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 16 10:01:25 2015 -0700

    PHOENIX-1876 Check for null function arguments before evaluating when constant

 .../src/it/java/org/apache/phoenix/end2end/DecodeFunctionIT.java | 9 +++------
 .../src/it/java/org/apache/phoenix/end2end/EncodeFunctionIT.java | 8 ++------
 .../main/java/org/apache/phoenix/compile/ExpressionCompiler.java | 6 +++---
 3 files changed, 8 insertions(+), 15 deletions(-)

commit 3fb3bb4d2231972dc06326251b76cc1431da7386
Author: ravimagham <ravimagham@apache.org>
Date:   Wed Apr 15 19:03:33 2015 -0700

    PHOENIX-1815 - Spark Datasource api

 phoenix-assembly/pom.xml                           |   6 +-
 .../src/build/components/all-common-jars.xml       |  11 ++
 phoenix-spark/README.md                            |  74 +++++++++--
 phoenix-spark/pom.xml                              |   6 -
 phoenix-spark/src/it/resources/setup.sql           |   1 +
 .../org/apache/phoenix/spark/PhoenixSparkIT.scala  | 135 +++++++++++++++++----
 .../apache/phoenix/spark/ConfigurationUtil.scala   |  65 ++++++++++
 .../apache/phoenix/spark/DataFrameFunctions.scala  |  51 ++++++++
 .../org/apache/phoenix/spark/DefaultSource.scala   |  41 +++++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      |  12 +-
 .../phoenix/spark/PhoenixRecordWritable.scala      |   2 +-
 .../org/apache/phoenix/spark/PhoenixRelation.scala |  80 ++++++++++++
 .../apache/phoenix/spark/ProductRDDFunctions.scala |  21 +---
 .../scala/org/apache/phoenix/spark/package.scala   |   6 +-
 pom.xml                                            |   5 +
 15 files changed, 453 insertions(+), 63 deletions(-)

commit e1bbb944126da52d14bf5df580167644a1cd8499
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Tue Apr 14 16:28:26 2015 -0700

    PHOENIX-1865 Fix missing ASL headers

 .../expression/function/RandomFunction.java        | 17 +++++++++++++++++
 .../src/test/resources/datamodel/test_schema.sql   | 16 ++++++++++++++++
 phoenix-protocol/src/main/PGuidePosts.proto        | 20 ++++++++++++++++++++
 phoenix-spark/pom.xml                              | 22 ++++++++++++++++++++++
 phoenix-spark/src/it/resources/log4j.xml           | 21 +++++++++++++++++++++
 phoenix-spark/src/it/resources/setup.sql           | 16 ++++++++++++++++
 pom.xml                                            |  2 ++
 7 files changed, 114 insertions(+)

commit d147423137af487c0582234c12cc00b0e8f6be98
Author: Brian <besserlieu@salesforce.com>
Date:   Tue Apr 14 13:49:24 2015 -0700

    PHOENIX-1814 Exponential notation parsing and tests

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 60 ++++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 16 +++++-
 2 files changed, 74 insertions(+), 2 deletions(-)

commit 007361b61b511ffa95ebe3bc0d015c148a4078e4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 15 08:50:23 2015 -0700

    PHOENIX-1869 Set default to not use joni regex library

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 295225060535d3030789a13817d55040b3db99de
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Apr 15 00:38:45 2015 -0700

    PHOENIX-1867 Add joni library to server assembly files (Shuxiong Ye)

 phoenix-assembly/src/build/server-without-antlr.xml | 2 ++
 phoenix-assembly/src/build/server.xml               | 2 ++
 2 files changed, 4 insertions(+)

commit b0c28a2de9b8b2807abaeddf1ec5430cc9f13c61
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Apr 14 12:26:09 2015 -0700

    PHOENIX-1861 Padding character should be inverted if sort order is descending (Dumindu Buddhika)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java        | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 3f6b25947d07ea0d7756556dd80e951f12ceda69
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Apr 14 12:09:17 2015 -0700

    PHOENIX-1287 Use the joni byte[] regex engine in place of j.u.regex (Shuxiong Ye)

 .../src/build/components-major-client.xml          |   2 +
 phoenix-core/pom.xml                               |   5 +
 .../apache/phoenix/end2end/LikeExpressionIT.java   |  88 +++++++++
 .../phoenix/end2end/RegexpReplaceFunctionIT.java   | 100 ++++++++++
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  43 +++--
 .../apache/phoenix/compile/ExpressionCompiler.java |  15 +-
 .../expression/ByteBasedLikeExpression.java        |  48 +++++
 .../apache/phoenix/expression/ExpressionType.java  |  16 +-
 .../apache/phoenix/expression/LikeExpression.java  |  64 ++++---
 .../expression/StringBasedLikeExpression.java      |  48 +++++
 .../function/ByteBasedRegexpReplaceFunction.java   |  40 ++++
 .../function/ByteBasedRegexpSplitFunction.java     |  38 ++++
 .../function/ByteBasedRegexpSubstrFunction.java    |  38 ++++
 .../expression/function/RegexpReplaceFunction.java |  38 ++--
 .../expression/function/RegexpSplitFunction.java   |  54 +++---
 .../expression/function/RegexpSubstrFunction.java  |  48 ++---
 .../function/StringBasedRegexpReplaceFunction.java |  40 ++++
 .../function/StringBasedRegexpSplitFunction.java   |  38 ++++
 .../function/StringBasedRegexpSubstrFunction.java  |  38 ++++
 .../expression/util/regex/AbstractBasePattern.java |  33 ++++
 .../util/regex/AbstractBaseSplitter.java           |  24 +++
 .../expression/util/regex/GuavaSplitter.java       |  54 ++++++
 .../phoenix/expression/util/regex/JONIPattern.java | 201 +++++++++++++++++++++
 .../phoenix/expression/util/regex/JavaPattern.java |  93 ++++++++++
 .../expression/visitor/CloneExpressionVisitor.java |   3 +-
 .../phoenix/parse/RegexpReplaceParseNode.java      |  55 ++++++
 .../apache/phoenix/parse/RegexpSplitParseNode.java |  55 ++++++
 .../phoenix/parse/RegexpSubstrParseNode.java       |  55 ++++++
 .../org/apache/phoenix/query/QueryServices.java    |   2 +
 .../apache/phoenix/query/QueryServicesOptions.java |  14 +-
 .../phoenix/schema/types/PArrayDataType.java       |  91 ++++++++++
 .../java/org/apache/phoenix/util/StringUtil.java   |  68 ++++++-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  18 +-
 .../phoenix/expression/ILikeExpressionTest.java    |  32 +++-
 .../phoenix/expression/LikeExpressionTest.java     |  39 +++-
 .../expression/RegexpReplaceFunctionTest.java      |  81 +++++++++
 .../expression/RegexpSplitFunctionTest.java        |  94 ++++++++++
 .../expression/RegexpSubstrFunctionTest.java       |  83 +++++++++
 .../expression/SortOrderExpressionTest.java        |  12 +-
 .../util/regex/PatternPerformanceTest.java         | 144 +++++++++++++++
 .../org/apache/phoenix/util/StringUtilTest.java    |  32 +++-
 .../java/org/apache/phoenix/util/TestUtil.java     |  28 ++-
 pom.xml                                            |   1 +
 43 files changed, 1952 insertions(+), 161 deletions(-)

commit 7ef1718127ffaa99adbc4c25ec3715d9472464f9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Apr 14 12:07:29 2015 -0700

    PHOENIX-1705 implement ARRAY_APPEND built in function (Dumindu Buddhika)

 .../phoenix/end2end/ArrayAppendFunctionIT.java     | 667 +++++++++++++++++++++
 .../expression/function/ArrayAppendFunction.java   | 127 ++++
 .../expression/ArrayAppendFunctionTest.java        | 345 +++++++++++
 3 files changed, 1139 insertions(+)

commit 986080f3fb939252c01b8c79d0bcdb602e0ddd64
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Apr 14 23:26:22 2015 +0530

    PHOENIX-1705 implement ARRAY_APPEND built in function (Dumindu Buddhika)

 .../apache/phoenix/expression/ExpressionType.java  |  4 +-
 .../phoenix/schema/types/PArrayDataType.java       | 85 ++++++++++++++++++++++
 2 files changed, 88 insertions(+), 1 deletion(-)

commit 1b45110db66cbe40871aeea6025aef5ff7ef2682
Author: ramkrishna <ramkrishna.s.vasudevan@gmail.com>
Date:   Tue Apr 14 23:23:49 2015 +0530

    PHOENIX-1861 Padding character should be inverted if sort order is
    descending (Dumindu Buddhika)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java      | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java  | 2 +-
 .../src/main/java/org/apache/phoenix/schema/types/PBinary.java        | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/types/PChar.java | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/types/PDataType.java      | 2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit 0d78e48b579739fb85a64fe7258f1838dc1af2c8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 13 17:05:45 2015 -0700

    PHOENIX-1765 Add DAYOFMONTH built-in function (Alicia Ying Shu)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 281 +++++++++++++++++++-
 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 287 ---------------------
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/DayOfMonthFunction.java    |  83 ++++++
 4 files changed, 365 insertions(+), 290 deletions(-)

commit 8975fc1a427700fc3f13d34ddd610404781683ae
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 13 16:32:31 2015 -0700

    PHOENIX-1846 Add MINUTE built-in function (Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 26 +++++++
 .../apache/phoenix/expression/ExpressionType.java  |  4 +-
 .../expression/function/MinuteFunction.java        | 81 ++++++++++++++++++++++
 3 files changed, 110 insertions(+), 1 deletion(-)

commit 36a7f248bb7beb9234a17eb74f6dfe3edf6e3b64
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 13 16:30:06 2015 -0700

    PHOENIX-1792 Add Week() and Hour() built-ins (Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 42 ++++++++++++++++++----
 1 file changed, 36 insertions(+), 6 deletions(-)

commit 2f0b51cbe8db817471d87d2521508ba6e42174e9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Apr 13 16:27:20 2015 -0700

    PHOENIX-1826 Implement TrackOrderPreservingExpressionCompiler as Expression visitor instead of ParseNode visitor

 .../org/apache/phoenix/end2end/DerivedTableIT.java |   4 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |   7 -
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  13 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |   8 +-
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  20 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |   2 +-
 .../end2end/index/GlobalIndexOptimizationIT.java   |  11 +-
 .../apache/phoenix/compile/GroupByCompiler.java    |  56 ++---
 .../apache/phoenix/compile/OrderByCompiler.java    |  46 ++--
 .../phoenix/compile/OrderPreservingTracker.java    | 259 +++++++++++++++++++++
 .../TrackOrderPreservingExpressionCompiler.java    | 249 --------------------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 108 ++++++++-
 .../apache/phoenix/compile/QueryOptimizerTest.java |   7 +-
 13 files changed, 441 insertions(+), 349 deletions(-)

commit 795debfe568206bc9a90c15c6acf628c4f9460d4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Apr 11 17:37:25 2015 -0700

    PHOENIX-1749 ORDER BY should support ordinal position as well as expression (Alicia Ying Shu)

 .../java/org/apache/phoenix/end2end/OrderByIT.java | 391 ++++++++++++++++++++-
 .../apache/phoenix/compile/OrderByCompiler.java    |  34 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   2 +-
 .../apache/phoenix/compile/QueryOptimizerTest.java |  14 +-
 4 files changed, 431 insertions(+), 10 deletions(-)

commit 6b1818c09233d508105256af311d59d6ab7b06ed
Author: Cody Marcel <codymarcel@apache.org>
Date:   Fri Apr 10 16:03:31 2015 -0700

    PHOENIX-1764 - Pherf ClassCastException

 phoenix-pherf/cluster/pherf.sh                                          | 2 +-
 .../java/org/apache/phoenix/pherf/configuration/XMLConfigParser.java    | 2 +-
 phoenix-pherf/standalone/pherf.sh                                       | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 623829dbeb13933dd6fc38821b258db87cc402a8
Author: Josh Mahonin <jmahonin@gmail.com>
Date:   Tue Apr 7 22:33:17 2015 -0400

    PHOENIX-1071 Get the phoenix-spark integration tests running.
    
    Uses the BaseHBaseManagedTimeIT framework now for creating the
    test cluster and setup/teardown.
    
    Tested with Java 7u75 i386 on Ubuntu, and 7u40 x64 on OS X.

 phoenix-spark/pom.xml                              | 20 ++++--
 phoenix-spark/src/it/resources/log4j.xml           |  8 +++
 .../{PhoenixRDDTest.scala => PhoenixSparkIT.scala} | 81 ++++++++++------------
 3 files changed, 58 insertions(+), 51 deletions(-)

commit ca4e21242a573f4b58fb8959d83ff3b023f057a5
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Apr 7 18:30:55 2015 -0700

    PHOENIX-1742 Update pom to Junit 4.12

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c32d1955f7289d38813424163f3b472ae0fe304
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Apr 7 16:58:12 2015 -0700

    PHOENIX-1071 - Lowering memory usage for Spark integration tests to see if build passes

 phoenix-spark/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff0e8e4edceb5847a2eeb86500f4784525881d6d
Author: Karel Vervaeke <karel@ngdata.com>
Date:   Thu Mar 19 16:10:07 2015 +0100

    PHOENIX-1755 Improve error logging if csv line has insufficient fields
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../src/main/java/org/apache/phoenix/util/csv/CsvUpsertExecutor.java | 5 +++++
 1 file changed, 5 insertions(+)

commit f666baa27ed97cb08ba964c53df74907a53ce001
Author: ravimagham <ravimagham@apache.org>
Date:   Tue Apr 7 00:19:21 2015 -0700

    PHOENIX-1818 - Move cluster-required tests to src/it

 phoenix-spark/src/{test => it}/resources/log4j.xml                        | 0
 phoenix-spark/src/{test => it}/resources/setup.sql                        | 0
 .../src/{test => it}/scala/org/apache/phoenix/spark/PhoenixRDDTest.scala  | 0
 3 files changed, 0 insertions(+), 0 deletions(-)

commit 9ddb484aaf0b84b729be9b699b0528813b4ffb1b
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Apr 6 23:16:20 2015 -0400

    PHOENIX-1807 Support UNION queries in subquery

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 91 +++++++++++++++++++---
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  2 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  4 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  4 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   | 19 +++--
 .../org/apache/phoenix/compile/UnionCompiler.java  |  6 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 10 +--
 .../apache/phoenix/optimize/QueryOptimizer.java    |  2 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 72 ++++++++++-------
 .../org/apache/phoenix/parse/SelectStatement.java  | 33 ++++----
 12 files changed, 173 insertions(+), 74 deletions(-)

commit 7aea69215a007103f031d1e006e8b4057ec7ffc5
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 6 14:07:57 2015 -0700

    PHOENIX-1794 Support Long.MIN_VALUE for phoenix BIGINT type

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 12 ++--
 .../end2end/ClientTimeArithmeticQueryIT.java       | 10 ++--
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  8 +--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 67 ++++------------------
 .../org/apache/phoenix/parse/LiteralParseNode.java |  5 ++
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 42 ++++++++++++++
 .../org/apache/phoenix/schema/types/PDataType.java |  1 +
 .../org/apache/phoenix/schema/types/PDouble.java   |  1 -
 .../apache/phoenix/compile/QueryCompilerTest.java  | 46 +++++++++++++++
 10 files changed, 121 insertions(+), 73 deletions(-)

commit 5ea3607c7e0603e1e26b7e14ed166ea67818c038
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 6 11:31:58 2015 -0700

    PHOENIX-1580 Support UNION ALL

 .../apache/phoenix/iterate/MergeSortTopNResultIterator.java   | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit c50feca254f4c8ae2505d83f738a6ab9d92a9fd9
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Apr 6 10:46:37 2015 -0400

    PHOENIX-1580 Support UNION ALL

 .../org/apache/phoenix/end2end/UnionAllIT.java     | 579 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  48 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  65 ++-
 .../phoenix/compile/StatementNormalizer.java       |   2 +-
 .../apache/phoenix/compile/SubselectRewriter.java  |   5 +-
 .../org/apache/phoenix/compile/UnionCompiler.java  |  86 +++
 .../apache/phoenix/exception/SQLExceptionCode.java |   6 +
 .../org/apache/phoenix/execute/AggregatePlan.java  |   1 +
 .../java/org/apache/phoenix/execute/UnionPlan.java | 190 +++++++
 .../iterate/MergeSortTopNResultIterator.java       |   9 +-
 .../phoenix/iterate/UnionResultIterators.java      | 109 ++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  25 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  39 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   5 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |  30 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  |  13 -
 17 files changed, 1147 insertions(+), 69 deletions(-)

commit c823be992460c4211bce713d7e24a125b108c2b8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Apr 4 13:20:31 2015 -0700

    PHOENIX-1809 Improve explain plan

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  3 -
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  2 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  2 +-
 .../phoenix/iterate/BaseResultIterators.java       |  2 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   | 82 ++++++++--------------
 .../iterate/MergeSortTopNResultIterator.java       |  1 -
 .../java/org/apache/phoenix/util/ScanUtil.java     | 19 ++++-
 .../org/apache/phoenix/query/QueryPlanTest.java    |  2 -
 8 files changed, 50 insertions(+), 63 deletions(-)

commit 9bbd5ead568ccdbecdea974d10aac93ccb30d9bd
Author: ravimagham <ravimagham@apache.org>
Date:   Sun Apr 5 08:29:23 2015 -0700

    PHOENIX-1071 - Add phoenix-spark for Spark integration - memory setting

 phoenix-spark/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f2d9080d25006d7737286919498fa1999c9bf78c
Author: ravimagham <ravimagham@apache.org>
Date:   Sun Apr 5 01:05:12 2015 -0700

    PHOENIX-1071 Add phoenix-spark for Spark integration

 NOTICE                                             |   5 +
 phoenix-spark/README.md                            |  89 ++++
 phoenix-spark/pom.xml                              | 523 +++++++++++++++++++++
 .../org/apache/phoenix/spark/PhoenixRDD.scala      | 166 +++++++
 .../phoenix/spark/PhoenixRecordWritable.scala      |  89 ++++
 .../apache/phoenix/spark/ProductRDDFunctions.scala |  68 +++
 .../phoenix/spark/SparkContextFunctions.scala      |  41 ++
 .../phoenix/spark/SparkSqlContextFunctions.scala   |  39 ++
 .../scala/org/apache/phoenix/spark/package.scala   |  32 ++
 phoenix-spark/src/test/resources/log4j.xml         |  41 ++
 phoenix-spark/src/test/resources/setup.sql         |  18 +
 .../org/apache/phoenix/spark/PhoenixRDDTest.scala  | 333 +++++++++++++
 pom.xml                                            |   1 +
 13 files changed, 1445 insertions(+)

commit 742ca13d356c13a0055bd63299940219e14827fb
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Apr 3 14:12:25 2015 +0530

    PHOENIX-1683 Support HBase HA Query(timeline-consistent region replica read) (Rajeshbabu Chintaguntla)

 .../org/apache/phoenix/end2end/AlterSessionIT.java | 92 ++++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  8 ++
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  6 ++
 .../org/apache/phoenix/iterate/ExplainTable.java   |  7 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 15 +++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 56 +++++++++++++
 .../phoenix/parse/AlterSessionStatement.java       | 38 +++++++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  4 +
 .../org/apache/phoenix/query/QueryServices.java    |  2 +
 .../apache/phoenix/query/QueryServicesOptions.java |  3 +
 .../java/org/apache/phoenix/util/JDBCUtil.java     | 42 ++++++++--
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  5 ++
 .../java/org/apache/phoenix/util/JDBCUtilTest.java | 15 ++++
 13 files changed, 284 insertions(+), 9 deletions(-)

commit 3a0ce7d0f31bddc1ea802d66dde91bdde0e01504
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Thu Apr 2 17:50:58 2015 -0700

    PHOENIX-1803 Fix flapping PhoenixServerRpcIT.testMetadataQos

 .../src/it/java/org/apache/phoenix/rpc/PhoenixServerRpcIT.java        | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eb7327113c1310af209015cf84caec339930ae3e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Apr 2 13:32:47 2015 -0700

    PHOENIX-1799 Provide parameter metadata for prepared create table statements

 .../phoenix/compile/CreateTableCompiler.java       | 37 ++++++++++++++++++++++
 .../apache/phoenix/compile/QueryMetaDataTest.java  | 11 +++++++
 2 files changed, 48 insertions(+)

commit 4859fb9d66ccdeb4224bf7d52895368d9592d5fa
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Apr 2 16:26:50 2015 -0700

    PHOENIX-1798 UnsupportedOperationException throws from BaseResultIterators.getIterators (Cen Qi)

 .../src/main/java/org/apache/phoenix/iterate/BaseResultIterators.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f942b1f0e815674f1917c18167d848769435148
Author: NAVEEN MADHIRE <vmadhire@indiana.edu>
Date:   Mon Mar 16 23:11:45 2015 -0400

    PHOENIX-1712 Add INSTR function
    
    Add method for detecting a substring within another string.
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../apache/phoenix/end2end/InstrFunctionIT.java    | 126 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../phoenix/expression/function/InstrFunction.java | 105 +++++++++++++++++
 .../expression/function/InstrFunctionTest.java     | 108 ++++++++++++++++++
 4 files changed, 342 insertions(+), 1 deletion(-)

commit f766a780c2941ec30911989de5c28852ebfeb9bf
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Thu Apr 2 11:51:04 2015 -0700

    PHOENIX-1748 Applying TRUNC|ROUND|FLOOR|CEIL on TIMESTAMP should maintain return type of TIMESTAMP (Dave Hacker)

 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  | 114 +++++++++++++++++++++
 1 file changed, 114 insertions(+)

commit 1e280617c25f31658ab7c5a68de62438458a94e5
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Apr 2 19:26:51 2015 +0530

    PHOENIX-1800 Fix failing test case SaltedViewIT#testSaltedUpdatableViewWithLocalIndex(Rajeshbabu Chintaguntla)

 phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 13d6296f7cab70e45a5fa9e579f81b2fa0dc03fd
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Apr 1 22:36:57 2015 +0530

    PHOENIX-1781 Add Now() (Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 30 ++++++++++++--
 .../apache/phoenix/expression/ExpressionType.java  |  6 ++-
 .../phoenix/expression/function/NowFunction.java   | 48 ++++++++++++++++++++++
 3 files changed, 79 insertions(+), 5 deletions(-)

commit 0eca5f17f98bf7bf25541f3574256a532747fe6f
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 31 14:12:14 2015 -0700

    PHOENIX-1797 Add more tests for date literals (Mike Friedman)

 .../org/apache/phoenix/end2end/DateTimeIT.java     | 360 +++++++++++++++++++++
 .../org/apache/phoenix/parse/QueryParserTest.java  |  18 ++
 2 files changed, 378 insertions(+)

commit e2cf44c3c22f8789c4bd1fe529f07f2d6e45e482
Author: Thomas <tdsilva@salesforce.com>
Date:   Mon Mar 30 15:21:44 2015 -0700

    PHOENIX-1795 Set handlerCount, numQueues and maxQueueLength of index and metadata queues correctly

 .../apache/phoenix/end2end/QueryDatabaseMetaDataIT.java |  1 +
 .../java/org/apache/phoenix/rpc/PhoenixClientRpcIT.java | 17 ++++-------------
 .../java/org/apache/phoenix/rpc/PhoenixServerRpcIT.java | 15 ++++++---------
 .../apache/hadoop/hbase/ipc/PhoenixRpcScheduler.java    | 16 +++++++++++-----
 .../java/org/apache/phoenix/query/QueryServices.java    |  4 ++++
 .../org/apache/phoenix/query/QueryServicesOptions.java  | 10 ++++++++--
 .../java/org/apache/phoenix/jdbc/PhoenixTestDriver.java |  5 ++---
 .../test/java/org/apache/phoenix/query/BaseTest.java    | 10 ++++++++++
 8 files changed, 46 insertions(+), 32 deletions(-)

commit d05d7c86c1de64a88cf8fb7ff119b1e1208f9929
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Mar 31 14:15:09 2015 +0530

    PHOENIX-1792 Add Week() and Hour() built-ins(Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 36 ++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |  6 +-
 .../phoenix/expression/function/HourFunction.java  | 81 +++++++++++++++++++++
 .../phoenix/expression/function/WeekFunction.java  | 83 ++++++++++++++++++++++
 4 files changed, 205 insertions(+), 1 deletion(-)

commit 2bf8c6788efb6dad7513f7bb14d2e9d75d7b50e3
Author: Samarth <samarth.jain@salesforce.com>
Date:   Mon Mar 30 09:01:14 2015 -0700

    PHOENIX-1790 Fix test failures due to incorrect shadowing of @AfterClass methods.

 phoenix-core/src/it/java/org/apache/phoenix/rpc/PhoenixClientRpcIT.java | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/rpc/PhoenixServerRpcIT.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2c0ed1045c84375a09e21e6f39ff96b48fd4e519
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Mar 27 16:29:00 2015 -0700

    PHOENIX-1783 Fix IDE compiler errors for JodaTimezoneCacheTest

 .../java/org/apache/phoenix/cache/JodaTimezoneCacheTest.java   | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit b9002b7caa54c4fde04b27fe6963719a8d821d7c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Mar 27 14:58:40 2015 -0700

    PHOENIX-1722 Speedup CONVERT_TZ function (Vaclav Loffelmann)

 .../phoenix/end2end/ConvertTimezoneFunctionIT.java | 24 ++++++-
 .../apache/phoenix/cache/JodaTimezoneCache.java    | 84 ++++++++++++++++++++++
 .../function/ConvertTimezoneFunction.java          | 38 +++-------
 .../function/TimezoneOffsetFunction.java           | 25 ++-----
 .../phoenix/cache/JodaTimezoneCacheTest.java       | 51 +++++++++++++
 pom.xml                                            |  2 +-
 6 files changed, 173 insertions(+), 51 deletions(-)

commit a7d7dfb52622a586482030ae6904d0c53ed7a4af
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Tue Mar 24 17:17:44 2015 -0700

    PHOENIX-1457 Use high priority queue for metadata endpoint calls

 .../phoenix/end2end/index/IndexHandlerIT.java      |  12 +-
 .../apache/phoenix/end2end/index/IndexQosIT.java   | 243 ---------------------
 .../org/apache/phoenix/rpc/PhoenixClientRpcIT.java | 122 +++++++++++
 .../org/apache/phoenix/rpc/PhoenixServerRpcIT.java | 235 ++++++++++++++++++++
 .../rpc/TestPhoenixIndexRpcSchedulerFactory.java   |  64 ++++++
 ...xRpcScheduler.java => PhoenixRpcScheduler.java} |  68 +++---
 .../hbase/ipc/PhoenixRpcSchedulerFactory.java}     |  55 ++---
 .../controller/ClientRpcControllerFactory.java}    |  46 +---
 .../hbase/ipc/controller/IndexRpcController.java   |  51 +++++
 .../ipc/controller/MetadataRpcController.java      |  55 +++++
 .../ipc/controller/ServerRpcControllerFactory.java |  62 ++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 -
 .../org/apache/phoenix/query/QueryServices.java    |   5 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  12 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   7 -
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  16 +-
 ...st.java => PhoenixRpcSchedulerFactoryTest.java} |  65 ++++--
 .../java/org/apache/phoenix/query/BaseTest.java    |  12 +-
 18 files changed, 738 insertions(+), 396 deletions(-)

commit b256fde0eab4813372c085491fdb845336dd0074
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Thu Mar 26 12:24:46 2015 -0700

    Fix IndexExpressionIT test failures

 .../it/java/org/apache/phoenix/end2end/index/IndexExpressionIT.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1a13784228f05ebe51e52ad80ae464d8531c2fe0
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Mar 26 08:43:48 2015 +0100

    PHOENIX-1770 Correct exit code from bin scripts
    
    Make the python scripts under bin/ exit with the exit code that
    was returned from the underlying java command.
    
    Contributed by Mark Tse.

 bin/end2endTest.py |  3 ++-
 bin/performance.py | 13 ++++++++++---
 bin/psql.py        |  3 ++-
 3 files changed, 14 insertions(+), 5 deletions(-)

commit f941e89f4f3a3778282ffc8570c64a181e01c043
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 26 00:37:12 2015 -0700

    PHOENIX-1776 The literal -1.0 (floating point) should not be converted to -1 (Integer) (Dave Hacker)

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 28 ++++++++++++++++++++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  4 +++-
 2 files changed, 31 insertions(+), 1 deletion(-)

commit ad2ad0cefd5d19a9bc84345444455a9ecbb55c78
Author: Enis Soztutar <enis@apache.org>
Date:   Wed Mar 25 18:08:35 2015 -0700

    PHOENIX-1642 Make Phoenix Master Branch pointing to HBase1.0.0 - ADDENDUM for HBASE-13109

 .../apache/hadoop/hbase/regionserver/IndexHalfStoreFileReader.java    | 2 +-
 .../apache/phoenix/hbase/index/scanner/FilteredKeyValueScanner.java   | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit d70f389ed65315f9b27e2a6f971a667ab4c447ae
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 25 15:46:32 2015 -0700

    PHOENIX-1778 Change pom and MetaDataProtocol version to 4.4.0 in master

 phoenix-assembly/pom.xml                                              | 2 +-
 phoenix-core/pom.xml                                                  | 2 +-
 .../main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java    | 4 ++--
 phoenix-flume/pom.xml                                                 | 2 +-
 phoenix-pherf/pom.xml                                                 | 4 ++--
 phoenix-pig/pom.xml                                                   | 2 +-
 pom.xml                                                               | 2 +-
 7 files changed, 9 insertions(+), 9 deletions(-)

commit ad9248ee54d386bd6759d0ff6c71d9ed70de8693
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Mar 26 00:39:19 2015 +0530

    PHOENIX-1756 Add Month() and Second() buildin functions(Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 48 ++++++++++++-
 .../apache/phoenix/expression/ExpressionType.java  |  8 ++-
 .../phoenix/expression/function/MonthFunction.java | 83 ++++++++++++++++++++++
 .../expression/function/SecondFunction.java        | 81 +++++++++++++++++++++
 4 files changed, 217 insertions(+), 3 deletions(-)

commit a94a6f4195af2867379803f19c90045eb3943c2d
Author: Thomas <tdsilva@salesforce.com>
Date:   Thu Mar 19 13:57:27 2015 -0700

    PHOENIX-1684 Functional Index using REGEXP_SUBSTR doesn't work correctly

 .../phoenix/end2end/index/IndexExpressionIT.java   | 161 +++++++++++++++------
 .../phoenix/compile/PostIndexDDLCompiler.java      |   4 +-
 .../parse/IndexExpressionParseNodeRewriter.java    |  30 +---
 .../org/apache/phoenix/schema/MetaDataClient.java  |   4 +-
 .../java/org/apache/phoenix/util/StringUtil.java   |   5 +
 .../apache/phoenix/compile/QueryCompilerTest.java  |  22 ++-
 6 files changed, 153 insertions(+), 73 deletions(-)

commit ab9c9283eca692b6f3ef03a598f4c012e63ef83a
Author: gjacoby <gjacoby@salesforce.com>
Date:   Fri Feb 27 16:49:14 2015 -0800

    PHOENIX-1653 Support separate clusters for MR jobs
    
    Add support for the input and output formats of a Phoenix MapReduce job to
    point to separate clusters using override configuration settings. Defaults to
    existing behavior (HConstants.ZOOKEEPER_QUORUM)

 .../phoenix/mapreduce/PhoenixInputFormat.java      | 15 ++--
 .../phoenix/mapreduce/PhoenixRecordWriter.java     |  2 +-
 .../apache/phoenix/mapreduce/index/IndexTool.java  |  2 +-
 .../mapreduce/index/PhoenixIndexImportMapper.java  |  2 +-
 .../phoenix/mapreduce/util/ConnectionUtil.java     | 88 ++++++++++++++++------
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 72 +++++++++++++++---
 .../mapreduce/util/PhoenixMapReduceUtil.java       | 22 +++++-
 .../util/PhoenixConfigurationUtilTest.java         | 60 ++++++++++++++-
 .../pig/util/QuerySchemaParserFunction.java        |  2 +-
 .../pig/util/SqlQueryToColumnInfoFunction.java     |  2 +-
 10 files changed, 219 insertions(+), 48 deletions(-)

commit 673847109206ea1e73ae2a18258da304678a110f
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Mar 24 09:53:46 2015 -0700

    PHOENIX-1744 CAST from UNSIGNED_LONG (_INT) to * TIMESTAMP is not supported (Dave Hacker)

 .../apache/phoenix/end2end/ToDateFunctionIT.java   | 57 ++++++++++++++++++++++
 .../apache/phoenix/schema/types/PUnsignedLong.java |  5 ++
 2 files changed, 62 insertions(+)

commit 898c7912149a81a0e287a4d82e5faa7163de6ce1
Author: Thomas <tdsilva@salesforce.com>
Date:   Mon Mar 23 22:17:16 2015 -0700

    PHOENIX-1676 Set priority of Index Updates correctly

 .../apache/phoenix/end2end/index/IndexQosIT.java   | 243 +++++++++++++++++++++
 .../hadoop/hbase/ipc/PhoenixIndexRpcScheduler.java |   3 +
 .../apache/phoenix/hbase/index/IndexQosCompat.java |  98 ---------
 .../hbase/index/IndexQosRpcControllerFactory.java  |  12 +-
 .../index/table/CoprocessorHTableFactory.java      |  20 --
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   7 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   7 +
 7 files changed, 263 insertions(+), 127 deletions(-)

commit a784bc050b841a6c1d74a3d8c15d87b8a22837c3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 23 10:28:23 2015 -0700

    PHOENIX-1746 Pass through guidepost config params on UPDATE STATISTICS call

 .../StatsCollectorWithSplitsAndMultiCFIT.java       |  6 ++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g           |  4 ++--
 .../coprocessor/BaseScannerRegionObserver.java      |  6 ++++--
 .../UngroupedAggregateRegionObserver.java           |  4 +++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java   |  9 +++++----
 .../org/apache/phoenix/parse/ParseNodeFactory.java  |  4 ++--
 .../phoenix/parse/UpdateStatisticsStatement.java    | 11 ++++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java   | 19 +++++++++++++++----
 .../phoenix/schema/stats/StatisticsCollector.java   | 21 ++++++++++++++++-----
 9 files changed, 63 insertions(+), 21 deletions(-)

commit 25814ecaa52999b2cfad616be9de4118488517cc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 21 11:23:05 2015 -0700

    PHOENIX-1766 Update version to 5.0.0 for master branch

 .../main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 965a5358151c472ca2e6d4da4549be43c04188b5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Mar 19 22:23:20 2015 -0700

    PHOENIX-1703 Fail connection when server minor version is less than client minor version

 .../java/org/apache/phoenix/util/MetaDataUtil.java | 22 ++++++++++++++--------
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 18 ++++++++++--------
 2 files changed, 24 insertions(+), 16 deletions(-)

commit 46bd0ffdbd089a5a7a6367b8a33ef61d478a4c09
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Mar 19 18:54:57 2015 -0700

    PHOENIX-1753 Query with RVC that doesn't lead with the row key can return incorrect results

 .../phoenix/end2end/RowValueConstructorIT.java     | 33 +++++++++++++++++++++-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  4 +++
 .../apache/phoenix/compile/WhereOptimizerTest.java | 16 +++++++++++
 3 files changed, 52 insertions(+), 1 deletion(-)

commit c98cda7e11a9a8f551d891fbc8b8088981db2007
Author: Enis Soztutar <enis@apache.org>
Date:   Thu Mar 19 12:07:16 2015 -0700

    PHOENIX-1642 Make Phoenix Master Branch pointing to HBase1.0.0

 phoenix-assembly/src/build/client.xml              |   4 +-
 phoenix-core/pom.xml                               |   4 +-
 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  34 ++--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  32 ++--
 .../end2end/index/MutableIndexFailureIT.java       |   6 +-
 .../hbase/index/balancer/IndexLoadBalancerIT.java  |   6 +-
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java |   2 +-
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  20 +--
 .../regionserver/IndexHalfStoreFileReader.java     |  41 +++--
 .../IndexHalfStoreFileReaderGenerator.java         |  14 +-
 .../hbase/regionserver/IndexSplitTransaction.java  |  28 ++--
 .../hbase/regionserver/KeyValueSkipListSet.java    | 183 +++++++++++++++++++++
 .../hbase/regionserver/LocalIndexMerger.java       |   4 +-
 .../hbase/regionserver/LocalIndexSplitter.java     |  29 ++--
 .../org/apache/phoenix/compile/TraceQueryPlan.java |  14 +-
 .../coprocessor/BaseScannerRegionObserver.java     |   4 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  |   4 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  10 +-
 .../hbase/index/balancer/IndexLoadBalancer.java    |   5 +
 .../hbase/index/covered/data/IndexMemStore.java    |  27 +--
 .../hbase/index/covered/data/LazyValueGetter.java  |   5 +-
 .../covered/example/CoveredColumnIndexCodec.java   |   6 +-
 .../filter/ApplyAndFilterDeletesFilter.java        |   8 +-
 .../index/covered/update/ColumnReference.java      |   7 +-
 .../index/ipc/PhoenixIndexRpcSchedulerFactory.java |  19 +--
 .../index/scanner/FilteredKeyValueScanner.java     |  17 +-
 .../phoenix/hbase/index/scanner/Scanner.java       |   5 +-
 .../hbase/index/scanner/ScannerBuilder.java        |  10 +-
 .../phoenix/hbase/index/wal/IndexedKeyValue.java   |  17 --
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   4 +-
 .../apache/phoenix/trace/TraceMetricSource.java    |  15 +-
 .../java/org/apache/phoenix/trace/TraceReader.java |   2 +-
 .../org/apache/phoenix/trace/TracingIterator.java  |   2 +-
 .../org/apache/phoenix/trace/TracingUtils.java     |   2 +-
 .../org/apache/phoenix/trace/util/NullSpan.java    |  10 +-
 .../org/apache/phoenix/trace/util/Tracing.java     |  51 ++++--
 .../java/org/apache/phoenix/util/IndexUtil.java    |  12 +-
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |   4 +-
 .../PhoenixIndexRpcSchedulerFactoryTest.java       |   6 +-
 .../hbase/index/covered/TestLocalTableState.java   |   8 +-
 .../index/covered/data/TestIndexMemStore.java      |   5 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |  14 +-
 .../recovery/TestPerRegionIndexWriteCache.java     |  15 +-
 .../phoenix/trace/TraceMetricsSourceTest.java      |   4 +-
 phoenix-flume/pom.xml                              |   4 +-
 pom.xml                                            |  14 +-
 47 files changed, 480 insertions(+), 259 deletions(-)

commit a740497b394d94a50db5597efe3142e5857a7f84
Author: Enis Soztutar <enis@apache.org>
Date:   Wed Mar 18 17:58:49 2015 -0700

    PHOENIX-1747 Add maven eclipse generated files to .gitignore

 .gitignore | 5 +++++
 1 file changed, 5 insertions(+)

commit 319fdcb569ce41273b627845c4860ecabf45417d
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Mar 18 10:20:22 2015 +0530

    PHOENIX-1691 Allow settting sampling rate while enabling tracing.(Rajeshbabu)

 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 39 ++++++++++++++++++----
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  9 +++--
 .../org/apache/phoenix/compile/TraceQueryPlan.java | 33 +++++++++++++-----
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  8 ++---
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  4 +--
 .../org/apache/phoenix/parse/TraceStatement.java   | 12 +++++--
 6 files changed, 79 insertions(+), 26 deletions(-)

commit 86ed110045a180e2683d5e9e351a48d984366df0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 17 11:54:40 2015 -0700

    PHOENIX-1739 Ensure RuntimeException nests SQLException so that proper exception gets thrown

 .../phoenix/end2end/ConvertTimezoneFunctionIT.java | 22 ++++++++++++++--------
 .../apache/phoenix/end2end/EncodeFunctionIT.java   | 12 +++++-------
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 12 +++++-------
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  4 ++--
 .../UngroupedAggregateRegionObserver.java          |  4 ++--
 ...tion.java => DataExceedsCapacityException.java} | 12 ++++++++----
 .../apache/phoenix/exception/SQLExceptionCode.java |  3 ++-
 .../phoenix/expression/DecimalAddExpression.java   |  4 ++--
 .../expression/DecimalDivideExpression.java        |  4 ++--
 .../expression/DecimalMultiplyExpression.java      |  4 ++--
 .../expression/DecimalSubtractExpression.java      |  4 ++--
 .../schema/ConstraintViolationException.java       |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  5 +++--
 .../org/apache/phoenix/schema/types/PBinary.java   |  4 ++--
 .../org/apache/phoenix/schema/types/PChar.java     |  4 ++--
 .../expression/ArithmeticOperationTest.java        | 16 ++++++++--------
 16 files changed, 62 insertions(+), 54 deletions(-)

commit e14fd32f881d3c2e0ea026dffc3d325410cc2075
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 17 10:45:42 2015 -0700

    PHOENIX-1741 PUnsignedTimestamp should define its codec (Alicia Ying Shu)

 .../main/java/org/apache/phoenix/schema/types/PUnsignedTimestamp.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e31ba61f2284d61c835ab396208b2ce8a94f69d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 17 10:37:43 2015 -0700

    PHOENIX-1704 Add year() built-in function (Alicia Ying Shu)

 .../phoenix/end2end/YearMonthSecondFunctionIT.java | 125 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   2 +
 .../phoenix/expression/function/YearFunction.java  |  82 ++++++++++++++
 3 files changed, 209 insertions(+)

commit 95aa6dbbcf9fed6970622041dbd811843a3d9235
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 17 10:34:37 2015 -0700

    PHOENIX-1738 Create end-to-end test for SIGN function (Shuxiong Ye)

 .../phoenix/end2end/SignFunctionEnd2EndIT.java     | 141 +++++++++++++++++++++
 .../phoenix/expression/function/SignFunction.java  |  16 +--
 2 files changed, 142 insertions(+), 15 deletions(-)

commit 22c200f37c4afc366cc9bf369bb53a8d4d50975f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 17 10:32:41 2015 -0700

    PHOENIX-1723 PTinyint.isCoercibleTo fails to test -1 with type PTinyint (Shuxiong Ye)

 .../src/test/java/org/apache/phoenix/schema/types/PDataTypeTest.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 4dc72bb0a56d628472141e56c181f09bda33dc4d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 16 20:09:12 2015 -0700

    PHOENIX-1739 Ensure RuntimeException nests SQLException so that proper exception gets thrown

 .../phoenix/schema/ConstraintViolationException.java   | 18 +++++++++---------
 .../apache/phoenix/schema/IllegalDataException.java    | 18 ++++++++++--------
 .../org/apache/phoenix/compile/QueryCompilerTest.java  |  3 +--
 3 files changed, 20 insertions(+), 19 deletions(-)

commit 828d5fb9af8633500bf7d05c7f25f12c2b8d51f0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Mar 16 12:41:31 2015 -0700

    PHOENIX-1715 Implement Build-in math function Sign (Shuxiong Ye)

 .../apache/phoenix/expression/ExpressionType.java  |   2 +
 .../phoenix/expression/function/SignFunction.java  |  88 +++++++++++++++
 .../org/apache/phoenix/schema/types/PDecimal.java  |  18 ++-
 .../org/apache/phoenix/schema/types/PDouble.java   |  11 +-
 .../org/apache/phoenix/schema/types/PFloat.java    |   9 +-
 .../org/apache/phoenix/schema/types/PInteger.java  |   9 +-
 .../org/apache/phoenix/schema/types/PLong.java     |  13 ++-
 .../apache/phoenix/schema/types/PNumericType.java  |  44 ++++++++
 .../apache/phoenix/schema/types/PRealNumber.java   |  39 +++++++
 .../org/apache/phoenix/schema/types/PSmallint.java |   9 +-
 .../org/apache/phoenix/schema/types/PTinyint.java  |  11 +-
 .../phoenix/schema/types/PUnsignedDouble.java      |   9 +-
 .../phoenix/schema/types/PUnsignedFloat.java       |   5 +-
 .../apache/phoenix/schema/types/PUnsignedInt.java  |   5 +-
 .../apache/phoenix/schema/types/PUnsignedLong.java |  11 +-
 .../phoenix/schema/types/PUnsignedSmallint.java    |   5 +-
 .../phoenix/schema/types/PUnsignedTinyint.java     |   5 +-
 .../apache/phoenix/schema/types/PWholeNumber.java  |  35 ++++++
 .../phoenix/expression/SignFunctionTest.java       | 124 +++++++++++++++++++++
 19 files changed, 406 insertions(+), 46 deletions(-)

commit 241e7253911f8ae866b256aac66b78ca56f1fe19
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 14 18:24:10 2015 -0700

    PHOENIX-1677 Immutable index deadlocks when number of guideposts are one half of thread pool size

 .../phoenix/end2end/index/ImmutableIndexWithStatsIT.java     | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 91d0abc556ff6b4fc2369bbe488df2802908e998
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 14 14:20:24 2015 -0700

    PHOENIX-1677 Immutable index deadlocks when number of guideposts are one half of thread pool size

 .../end2end/index/ImmutableIndexWithStatsIT.java      | 19 +++++++++++--------
 1 file changed, 11 insertions(+), 8 deletions(-)

commit 1c14dd192530b108a8b6d81dcff8cd7032acbe3f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 14 10:18:57 2015 -0700

    PHOENIX-1677 Immutable index deadlocks when number of guideposts are one half of thread pool size

 .../end2end/index/ImmutableIndexWithStatsIT.java   | 90 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../org/apache/phoenix/query/HTableFactory.java    |  3 +-
 3 files changed, 93 insertions(+), 2 deletions(-)

commit e9412888152a208466fb0543f17c8f8bf398c3a4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 14 09:47:06 2015 -0700

    PHOENIX-1736 Use non deprecated APIs where possible

 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit ee4db402efbd91f234457829f3dbb016da18012d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Mar 13 22:59:42 2015 -0700

    PHOENIX-1736 Use non deprecated APIs where possible

 .../hbase/index/covered/EndToEndCoveredColumnsIndexBuilderIT.java     | 2 +-
 .../org/apache/phoenix/filter/SingleKeyValueComparisonFilter.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 3 ++-
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 66fb38cade511d3544a748eb1a2c9da446cf2984
Author: Lars Hofhansl <larsh@apache.org>
Date:   Fri Mar 13 11:50:04 2015 -0700

    PHOENIX-1731 Add getNextIndexedKey() to IndexHalfStoreFileReader and FilteredKeyValueScanner.

 .../apache/hadoop/hbase/regionserver/IndexHalfStoreFileReader.java | 7 +++++++
 .../phoenix/hbase/index/scanner/FilteredKeyValueScanner.java       | 7 +++++++
 2 files changed, 14 insertions(+)

commit 36b88651cbeb680a7d06828bcb5d61d440341ad2
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Mar 13 10:45:19 2015 -0700

    PHOENIX-39. ADding Pherf as a Phoenix module. Changed assembly and pom to build Pherf and include *.zip into distribution.

 .../src/build/components/all-common-files.xml      |  11 +-
 phoenix-pherf/README.md                            | 105 ++++++
 phoenix-pherf/cluster/pherf.sh                     |  33 ++
 .../config/datamodel/user_defined_schema.sql       |  27 ++
 phoenix-pherf/config/env.sh                        |  32 ++
 phoenix-pherf/config/pherf.properties              |  31 ++
 .../config/scenario/user_defined_scenario.xml      | 134 ++++++++
 phoenix-pherf/pom.xml                              | 290 ++++++++++++++++
 phoenix-pherf/src/main/assembly/cluster.xml        |  52 +++
 phoenix-pherf/src/main/assembly/standalone.xml     |  52 +++
 .../main/java/org/apache/phoenix/pherf/Pherf.java  | 201 +++++++++++
 .../org/apache/phoenix/pherf/PherfConstants.java   |  63 ++++
 .../apache/phoenix/pherf/configuration/Column.java | 210 ++++++++++++
 .../phoenix/pherf/configuration/DataModel.java     |  75 ++++
 .../phoenix/pherf/configuration/DataOverride.java  |  36 ++
 .../phoenix/pherf/configuration/DataSequence.java  |  23 ++
 .../pherf/configuration/DataTypeMapping.java       |  46 +++
 .../phoenix/pherf/configuration/ExecutionType.java |  23 ++
 .../apache/phoenix/pherf/configuration/Query.java  | 136 ++++++++
 .../phoenix/pherf/configuration/QuerySet.java      | 130 +++++++
 .../phoenix/pherf/configuration/Scenario.java      | 163 +++++++++
 .../pherf/configuration/XMLConfigParser.java       | 157 +++++++++
 .../pherf/exception/FileLoaderException.java       |  28 ++
 .../exception/FileLoaderRuntimeException.java      |  28 ++
 .../phoenix/pherf/exception/PherfException.java    |  30 ++
 .../pherf/exception/PherfRuntimeException.java     |  30 ++
 .../apache/phoenix/pherf/jmx/MonitorDetails.java   |  50 +++
 .../apache/phoenix/pherf/jmx/MonitorManager.java   | 173 ++++++++++
 .../java/org/apache/phoenix/pherf/jmx/Stat.java    |  32 ++
 .../pherf/jmx/monitors/CPULoadAverageMonitor.java  |  33 ++
 .../phoenix/pherf/jmx/monitors/ExampleMonitor.java |  33 ++
 .../pherf/jmx/monitors/FreeMemoryMonitor.java      |  30 ++
 .../GarbageCollectorElapsedTimeMonitor.java        |  44 +++
 .../pherf/jmx/monitors/HeapMemoryMonitor.java      |  32 ++
 .../pherf/jmx/monitors/MaxMemoryMonitor.java       |  30 ++
 .../apache/phoenix/pherf/jmx/monitors/Monitor.java |  30 ++
 .../pherf/jmx/monitors/NonHeapMemoryMonitor.java   |  32 ++
 .../ObjectPendingFinalizationCountMonitor.java     |  33 ++
 .../phoenix/pherf/jmx/monitors/ThreadMonitor.java  |  32 ++
 .../pherf/jmx/monitors/TotalMemoryMonitor.java     |  30 ++
 .../apache/phoenix/pherf/loaddata/DataLoader.java  | 365 ++++++++++++++++++++
 .../phoenix/pherf/result/DataLoadThreadTime.java   |  95 ++++++
 .../phoenix/pherf/result/DataLoadTimeSummary.java  |  84 +++++
 .../phoenix/pherf/result/DataModelResult.java      |  77 +++++
 .../apache/phoenix/pherf/result/QueryResult.java   | 141 ++++++++
 .../phoenix/pherf/result/QuerySetResult.java       |  47 +++
 .../org/apache/phoenix/pherf/result/Result.java    |  54 +++
 .../apache/phoenix/pherf/result/ResultHandler.java |  37 ++
 .../apache/phoenix/pherf/result/ResultManager.java | 103 ++++++
 .../apache/phoenix/pherf/result/ResultUtil.java    | 271 +++++++++++++++
 .../apache/phoenix/pherf/result/ResultValue.java   |  40 +++
 .../org/apache/phoenix/pherf/result/RunTime.java   | 114 +++++++
 .../phoenix/pherf/result/ScenarioResult.java       |  47 +++
 .../apache/phoenix/pherf/result/ThreadTime.java    | 141 ++++++++
 .../phoenix/pherf/result/file/Extension.java       |  38 +++
 .../apache/phoenix/pherf/result/file/Header.java   |  41 +++
 .../pherf/result/file/ResultFileDetails.java       |  46 +++
 .../pherf/result/impl/CSVResultHandler.java        | 139 ++++++++
 .../pherf/result/impl/ImageResultHandler.java      | 127 +++++++
 .../pherf/result/impl/XMLResultHandler.java        | 103 ++++++
 .../org/apache/phoenix/pherf/rules/DataValue.java  |  89 +++++
 .../apache/phoenix/pherf/rules/RulesApplier.java   | 377 +++++++++++++++++++++
 .../apache/phoenix/pherf/schema/SchemaReader.java  |  97 ++++++
 .../org/apache/phoenix/pherf/util/PhoenixUtil.java | 199 +++++++++++
 .../apache/phoenix/pherf/util/ResourceList.java    | 214 ++++++++++++
 .../apache/phoenix/pherf/util/RowCalculator.java   |  78 +++++
 .../pherf/workload/MultithreadedDiffer.java        | 113 ++++++
 .../pherf/workload/MultithreadedRunner.java        | 170 ++++++++++
 .../phoenix/pherf/workload/QueryExecutor.java      | 246 ++++++++++++++
 .../phoenix/pherf/workload/QueryVerifier.java      | 195 +++++++++++
 .../phoenix/pherf/workload/WorkloadExecutor.java   | 115 +++++++
 .../datamodel/create_prod_test_unsalted.sql        |  33 ++
 phoenix-pherf/src/main/resources/hbase-site.xml    |  25 ++
 .../scenario/prod_test_unsalted_scenario.xml       | 342 +++++++++++++++++++
 .../apache/phoenix/pherf/BaseTestWithCluster.java  |  67 ++++
 .../java/org/apache/phoenix/pherf/ColumnTest.java  |  50 +++
 .../phoenix/pherf/ConfigurationParserTest.java     | 200 +++++++++++
 .../org/apache/phoenix/pherf/DataIngestTest.java   |  78 +++++
 .../org/apache/phoenix/pherf/DataLoaderTest.java   | 108 ++++++
 .../java/org/apache/phoenix/pherf/PherfTest.java   |  67 ++++
 .../org/apache/phoenix/pherf/ResourceTest.java     |  68 ++++
 .../java/org/apache/phoenix/pherf/ResultTest.java  | 209 ++++++++++++
 .../apache/phoenix/pherf/RuleGeneratorTest.java    | 213 ++++++++++++
 .../org/apache/phoenix/pherf/SchemaReaderTest.java |  73 ++++
 .../org/apache/phoenix/pherf/TestHBaseProps.java   |  35 ++
 .../src/test/resources/datamodel/test_schema.sql   |  15 +
 phoenix-pherf/src/test/resources/hbase-site.xml    |  25 ++
 .../src/test/resources/pherf.test.properties       |  47 +++
 .../src/test/resources/scenario/test_scenario.xml  | 161 +++++++++
 phoenix-pherf/standalone/pherf.sh                  |  28 ++
 pom.xml                                            |   1 +
 91 files changed, 8607 insertions(+), 1 deletion(-)

commit 94ade6ad4fa10c75b83bf72db71b86f2084fa8b6
Author: Devaraj Das <ddas@apache.org>
Date:   Fri Mar 13 10:27:51 2015 -0700

    PHOENIX-1725. Addendum. Committing files I missed earlier. Extract changes applicable to 4.0 branch (Jeffrey Zhong and Devaraj Das)

 .../phoenix/util/DefaultEnvironmentEdge.java       | 34 ++++++++++
 .../org/apache/phoenix/util/EnvironmentEdge.java   | 34 ++++++++++
 .../phoenix/util/EnvironmentEdgeManager.java       | 74 ++++++++++++++++++++++
 3 files changed, 142 insertions(+)

commit e910d8d240df79c73c42a976addc6cfe6da204c2
Author: Devaraj Das <ddas@apache.org>
Date:   Fri Mar 13 10:16:24 2015 -0700

    PHOENIX-1725. Extract changes applicable to 4.0 branch (Jeffrey Zhong and Devaraj Das)

 .../wal/ReadWriteKeyValuesWithCodecIT.java         |  14 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   1 +
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 216 ++++++++++-----------
 .../apache/phoenix/end2end/StatsCollectorIT.java   |   1 +
 .../StatsCollectorWithSplitsAndMultiCFIT.java      |   1 +
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |   6 +-
 .../hbase/regionserver/IndexSplitTransaction.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   2 +-
 .../coprocessor/SequenceRegionObserver.java        |   2 +-
 .../hbase/index/balancer/IndexLoadBalancer.java    |   2 +-
 .../index/covered/CoveredColumnsIndexBuilder.java  |   2 +-
 .../java/org/apache/phoenix/job/JobManager.java    |   5 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 13 files changed, 126 insertions(+), 129 deletions(-)

commit 2bbbcfdbe873e12e3d89a8187f9ad7837e59eddd
Author: ravimagham <ravimagham@apache.org>
Date:   Wed Mar 11 12:48:35 2015 -0700

    fix for unescaping the columns

 .../src/main/java/org/apache/phoenix/util/ColumnInfo.java     |  7 ++++---
 .../src/main/java/org/apache/phoenix/util/SchemaUtil.java     | 11 +++++++++++
 .../org/apache/phoenix/pig/util/PhoenixPigSchemaUtilTest.java |  4 ++--
 3 files changed, 17 insertions(+), 5 deletions(-)

commit 55f64eaf3d48bb788ec3f6d4e9d50b1d2baf5b9f
Author: ravimagham <ravimagham@apache.org>
Date:   Thu Mar 5 16:18:57 2015 -0800

    PHOENIX-1609-4.0

 .../org/apache/phoenix/mapreduce/IndexToolIT.java  | 296 ++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   7 +-
 .../phoenix/compile/PostIndexDDLCompiler.java      |  36 ++-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   8 +-
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |   6 +-
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  42 +--
 .../phoenix/mapreduce/PhoenixInputFormat.java      |   9 +-
 .../phoenix/mapreduce/PhoenixJobCounters.java      |  29 ++
 .../apache/phoenix/mapreduce/index/IndexTool.java  | 302 +++++++++++++++++++++
 .../mapreduce/index/PhoenixIndexDBWritable.java    |  91 +++++++
 .../mapreduce/index/PhoenixIndexImportMapper.java  | 133 +++++++++
 .../phoenix/mapreduce/util/ConnectionUtil.java     |  14 +
 .../mapreduce/util/PhoenixConfigurationUtil.java   |  21 ++
 .../apache/phoenix/parse/CreateIndexStatement.java |   8 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   5 +
 .../java/org/apache/phoenix/util/ColumnInfo.java   |  13 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  46 +++-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   3 +
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |  14 +-
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java |  26 +-
 .../org/apache/phoenix/util/ColumnInfoTest.java    |   8 +-
 .../org/apache/phoenix/util/QueryUtilTest.java     |   2 +-
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java |   5 +-
 24 files changed, 1048 insertions(+), 80 deletions(-)

commit 80a50c964e94608c263471c1eca0c81e44ea5b19
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Mar 10 15:48:59 2015 -0700

    PHOENIX-1577 addendum - fix bug in  resultSet.getTimeStamp(int colIndex, Calendar cal) too

 .../org/apache/phoenix/end2end/TimezoneOffsetFunctionIT.java   |  3 +++
 .../main/java/org/apache/phoenix/jdbc/PhoenixResultSet.java    | 10 +---------
 2 files changed, 4 insertions(+), 9 deletions(-)

commit dee6f9d3850e80ea6bb2bd9d002b4acba15750ea
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Mar 7 10:24:18 2015 -0800

    PHOENIX-1709 And expression of primary key RVCs can not compile

 .../org/apache/phoenix/compile/WhereOptimizer.java | 28 ++++++++--------
 .../org/apache/phoenix/schema/RowKeySchema.java    | 39 +++++++++++++++++++---
 .../apache/phoenix/compile/WhereOptimizerTest.java | 38 +++++++++++++++++++++
 3 files changed, 86 insertions(+), 19 deletions(-)

commit 44a7064bb22c4a9c3047340174f5ed646c4bf126
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sun Mar 8 11:21:00 2015 +0530

    PHOENIX-1060 Replace ReferencingColumn with ColumnReference(Rajeshbabu)

 .../hbase/index/covered/example/CoveredColumn.java |   6 +-
 .../index/covered/update/ColumnReference.java      | 128 +++++++++++----------
 .../hbase/index/scanner/ScannerBuilder.java        |   2 +-
 .../hbase/index/util/IndexManagementUtil.java      |  40 -------
 .../index/util/ReadOnlyImmutableBytesPtr.java      |  59 ++++++++++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  11 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   8 +-
 7 files changed, 143 insertions(+), 111 deletions(-)

commit 020bff8217f68f80cc038173ea8dc504cfb4bf9c
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Mar 6 20:50:07 2015 -0800

    PHOENIX-1577 Fix for java.lang.IllegalArgumentException: nanos > 999999999 or < 0 while setting timestamp using java.util.Calendar

 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 24 ++++++++++++++++++++++
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  3 +--
 .../org/apache/phoenix/query/QueryConstants.java   |  2 ++
 .../java/org/apache/phoenix/util/DateUtil.java     | 19 ++++++++++++++---
 4 files changed, 43 insertions(+), 5 deletions(-)

commit c65d5ec4908a3fb5a737338c92c6928025b1e775
Author: Samarth <samarth.jain@salesforce.com>
Date:   Thu Mar 5 16:47:32 2015 -0800

    PHOENIX-1452 Add Add Phoenix client-side logging and capture resource utilization metrics

 .../apache/phoenix/end2end/PhoenixMetricsIT.java   | 151 +++++++++++++++++++++
 .../org/apache/phoenix/execute/MutationState.java  |  34 ++---
 .../phoenix/iterate/BaseResultIterators.java       |  11 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   7 +-
 .../phoenix/iterate/ScanningResultIterator.java    |  24 +++-
 .../phoenix/iterate/SpoolingResultIterator.java    |   9 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  16 ++-
 .../java/org/apache/phoenix/job/JobManager.java    | 141 ++++++++++++++++---
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  |  19 ++-
 .../apache/phoenix/memory/GlobalMemoryManager.java |   8 +-
 .../org/apache/phoenix/monitoring/Counter.java     |  85 ++++++++++++
 .../java/org/apache/phoenix/monitoring/Metric.java |  64 +++++++++
 .../apache/phoenix/monitoring/PhoenixMetrics.java  | 118 ++++++++++++++++
 .../apache/phoenix/monitoring/SizeStatistic.java   |  78 +++++++++++
 .../phoenix/query/BaseQueryServicesImpl.java       |   3 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  18 ++-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  11 +-
 18 files changed, 734 insertions(+), 64 deletions(-)

commit 9a546b9c89a3920345ea35ad503dfb360d4c34a5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Mar 4 08:27:51 2015 -0800

    PHOENIX-1696 Selecting column more than once fails (Maryann Xue, Samarth Jain)

 .../it/java/org/apache/phoenix/end2end/QueryMoreIT.java    | 14 ++++++++++++++
 .../main/java/org/apache/phoenix/compile/RowProjector.java |  3 ---
 2 files changed, 14 insertions(+), 3 deletions(-)

commit 49f06b331c2b364f176d77548d04a4eb9d15c5c9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Mar 3 12:07:56 2015 -0800

    PHOENIX-1690 IndexOutOfBoundsException during SkipScanFilter interesect

 .../org/apache/phoenix/filter/SkipScanFilter.java  |  31 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   9 +
 .../phoenix/filter/SkipScanBigFilterTest.java      | 717 +++++++++++++++++++++
 .../filter/SkipScanFilterIntersectTest.java        |  69 +-
 4 files changed, 821 insertions(+), 5 deletions(-)

commit 3f829751dd5158c526e5c5bd3da61dde1c6e4194
Author: maryannxue <wei.xue@intel.com>
Date:   Tue Mar 3 12:12:49 2015 -0500

    PHOENIX-1489 Access column values positionally from client

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  55 +++--
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |   6 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  30 +--
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  32 +--
 .../end2end/index/GlobalIndexOptimizationIT.java   |  22 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  87 ++++++-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 258 ++++-----------------
 .../apache/phoenix/compile/OrderByCompiler.java    |   2 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |  58 +++--
 .../org/apache/phoenix/compile/QueryCompiler.java  | 115 ++++-----
 .../phoenix/compile/TupleProjectionCompiler.java   | 214 +++++++++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |   2 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  21 +-
 .../GroupedAggregateRegionObserver.java            |  11 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  72 +++---
 .../phoenix/coprocessor/ScanRegionObserver.java    |   9 +-
 .../UngroupedAggregateRegionObserver.java          |  10 +-
 .../org/apache/phoenix/execute/TupleProjector.java |  18 +-
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  25 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |  19 +-
 .../java/org/apache/phoenix/schema/ColumnRef.java  |   2 +-
 .../phoenix/schema/LocalIndexDataColumnRef.java    |   9 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../java/org/apache/phoenix/schema/PTableType.java |   2 +-
 .../org/apache/phoenix/schema/ProjectedColumn.java |  59 +++++
 .../java/org/apache/phoenix/schema/TableRef.java   |   8 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |   6 +-
 30 files changed, 691 insertions(+), 473 deletions(-)

commit 0440aca51916d689f3ea94d4ef708d73887f7994
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sat Feb 28 05:49:53 2015 +0530

    PHOENIX-1115 Provide a SQL command to turn tracing on/off(Rajeshbabu)

 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  32 ++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  10 +
 .../org/apache/phoenix/compile/TraceQueryPlan.java | 220 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  17 ++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  24 ++-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +
 .../org/apache/phoenix/parse/TraceStatement.java   |  43 ++++
 .../org/apache/phoenix/trace/util/Tracing.java     |  10 +
 8 files changed, 358 insertions(+), 2 deletions(-)

commit 93f560575319b7f26f5fc5db618bc2d8a09be930
Author: maryannxue <wei.xue@intel.com>
Date:   Fri Feb 27 16:43:13 2015 -0500

    PHOENIX-1686 Data length should be checked in KeyValueSchema.next() and maxOffset should be set correctly by the caller

 .../phoenix/expression/ProjectedColumnExpression.java      |  2 +-
 .../java/org/apache/phoenix/schema/KeyValueSchema.java     | 14 +++++++++-----
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 569469a46bae57cc4d6cbbcd7e01d535560f07e2
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Feb 27 11:15:28 2015 -0800

    Revert "Surface partial saves in CommitExcepiton (PHOENIX-900) from https://github.com/apache/phoenix/pull/37"
    
    This reverts commit fa58c7821a2e8fce30a8c0ff6e42aa00134dbce0.

 .../apache/phoenix/execute/PartialCommitIT.java    | 302 ---------------------
 .../org/apache/phoenix/compile/DeleteCompiler.java |  13 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  13 +-
 .../apache/phoenix/execute/CommitException.java    |  35 +--
 .../org/apache/phoenix/execute/MutationState.java  | 156 ++++-------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  37 +--
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   7 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   3 -
 .../apache/phoenix/execute/MutationStateTest.java  |  64 -----
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 10 files changed, 89 insertions(+), 543 deletions(-)

commit fa58c7821a2e8fce30a8c0ff6e42aa00134dbce0
Author: Eli Levine <elilevine@apache.org>
Date:   Thu Feb 26 20:50:02 2015 -0800

    Surface partial saves in CommitExcepiton (PHOENIX-900) from https://github.com/apache/phoenix/pull/37

 .../apache/phoenix/execute/PartialCommitIT.java    | 302 +++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  13 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  13 +-
 .../apache/phoenix/execute/CommitException.java    |  35 ++-
 .../org/apache/phoenix/execute/MutationState.java  | 156 +++++++----
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  37 ++-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   7 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   3 +
 .../apache/phoenix/execute/MutationStateTest.java  |  64 +++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 10 files changed, 543 insertions(+), 89 deletions(-)

commit dab9d51bf5805e4f123e6095444d690f79250253
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Thu Feb 12 19:22:17 2015 -0800

    PHOENIX-1078 Unable to run pig script with Phoenix in a secure HBase cluster

 .../apache/phoenix/mapreduce/util/ConnectionUtil.java   |  9 +++++++++
 .../mapreduce/util/PhoenixConfigurationUtil.java        | 17 +++++++++++++++++
 .../java/org/apache/phoenix/pig/PhoenixHBaseLoader.java |  9 ++++++---
 .../org/apache/phoenix/pig/PhoenixHBaseStorage.java     |  2 ++
 4 files changed, 34 insertions(+), 3 deletions(-)

commit 05723b19cc107b72d9f752cd0441af260fc62e22
Author: maryannxue <wei.xue@intel.com>
Date:   Wed Feb 25 17:33:41 2015 -0500

    PHOENIX-1680 phoenix-core/src/main/java/org/apache/phoenix/compile/QueryCompiler.java

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 90 ++++++++++++++++++++++
 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 78 ++++++++++++++++++-
 .../org/apache/phoenix/compile/QueryCompiler.java  | 37 +++++----
 3 files changed, 188 insertions(+), 17 deletions(-)

commit 3d50147f213dd3f830b039159fde68eae10ae233
Author: Andrew Purtell <apurtell@apache.org>
Date:   Sat Feb 21 20:34:08 2015 -0800

    PHOENIX-1672 RegionScanner.nextRaw contract not implemented correctly

 .../GroupedAggregateRegionObserver.java            |  96 ++++----
 .../UngroupedAggregateRegionObserver.java          | 246 +++++++++++----------
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  18 +-
 .../iterate/RegionScannerResultIterator.java       |  36 +--
 4 files changed, 216 insertions(+), 180 deletions(-)

commit c633151dafcaf703c8daa5f92dbaddd7eeb89891
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 17 19:37:02 2015 -0800

    PHOENIX-1669 Views are not always properly updated with physical table indexes when cached

 .../phoenix/end2end/index/IndexExpressionIT.java   |  3 --
 .../org/apache/phoenix/schema/MetaDataClient.java  | 39 +++++++++++++---------
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 3 files changed, 24 insertions(+), 20 deletions(-)

commit 2e5a63089f98c21e8556fae0ec80988079e3ca55
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Tue Feb 17 12:32:55 2015 -0800

    PHOENIX-1639 Enhance function/expression index tests

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  58 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   4 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   5 +
 .../phoenix/end2end/index/IndexExpressionIT.java   | 714 ++++++++++++++++-----
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   5 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   5 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  33 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  72 +++
 9 files changed, 715 insertions(+), 185 deletions(-)

commit b8c0559c0d1f7f5907ffab6dba43991929692b59
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 16 18:08:57 2015 -0800

    PHOENIX-1667 Update sqlline to 1.1.8

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e09a8f8de715ec17fbdedb28b9b4153b5886d85e
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Feb 16 23:22:57 2015 +0530

    PHOENIX-1634 LocalIndexSplitter prevents region from auto split(Rajeshbabu)

 .../phoenix/coprocessor/MetaDataProtocol.java      |  5 ++-
 .../hbase/index/master/IndexMasterObserver.java    | 47 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 33 ++++++++++++---
 3 files changed, 78 insertions(+), 7 deletions(-)

commit d4f7b71a18859d201c3cab74acdff29702cddb76
Author: Thomas D'Silva <twdsilva@gmail.com>
Date:   Tue Feb 10 21:06:43 2015 -0800

    Fix for TableNotFoundException when optimizing SELECT * FROM a tenant-specific table

 .../end2end/index/GlobalIndexOptimizationIT.java   |  2 +-
 .../apache/phoenix/compile/ProjectionCompiler.java | 28 +++++++++++++++-------
 2 files changed, 21 insertions(+), 9 deletions(-)

commit f925a4034b7b78f8e9d15539cdd7b0cc8a54e59b
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Feb 12 13:00:51 2015 -0800

    PHOENIX-1656 - Add release dir to gitignore

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit fc299d5e554cc5842fce96ece64058069fbea78c
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Feb 12 15:39:23 2015 -0500

    PHOENIX-1654 Incorrect group-by keys from ClientAggregatePlan

 .../src/it/java/org/apache/phoenix/end2end/HashJoinIT.java | 14 ++++++++++++++
 .../java/org/apache/phoenix/end2end/SortMergeJoinIT.java   | 14 ++++++++++++++
 .../org/apache/phoenix/execute/ClientAggregatePlan.java    |  2 +-
 3 files changed, 29 insertions(+), 1 deletion(-)

commit e0a81a09ec7aeab44a2bce597d19850e7c6a7846
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 10 16:51:10 2015 -0800

    PHOENIX-1650 Possible resource leak in upsert select query (Rajeshbabu)

 .../org/apache/phoenix/compile/UpsertCompiler.java | 26 +++++++++++++---------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 7dc3d84218bdcc9a9d408283f3badab9230b1ad9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 10 09:50:42 2015 -0800

    PHOENIX-1649 Remove System.out/System.err debugging messages (Rajeshbabu)

 .../regionserver/wal/WALReplayWithIndexWritesAndCompressedWALIT.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java        | 3 ---
 .../src/test/java/org/apache/phoenix/schema/types/PDataTypeTest.java   | 1 -
 .../src/it/java/org/apache/phoenix/pig/PhoenixHBaseLoaderIT.java       | 3 +--
 4 files changed, 2 insertions(+), 7 deletions(-)

commit acb87990d81bfc60bba0f511957c18e1a12b4da3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 10 01:58:29 2015 -0800

    PHOENIX-1646 Views and functional index expressions may lose information when stringified

 .../org/apache/phoenix/end2end/index/GlobalIndexOptimizationIT.java   | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java    | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2730e874d4632e681d2e21d1df88e4516e87e72e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Feb 10 01:05:06 2015 -0800

    PHOENIX-1646 Views and functional index expressions may lose information when stringified

 .../org/apache/phoenix/end2end/DerivedTableIT.java |  6 ++---
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 30 +++++++++++-----------
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  2 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 16 ++++++------
 .../end2end/SubqueryUsingSortMergeJoinIT.java      | 24 ++++++++---------
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  2 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |  6 ++---
 .../end2end/index/GlobalIndexOptimizationIT.java   |  4 +--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  4 +--
 .../phoenix/compile/IndexStatementRewriter.java    |  5 ++--
 10 files changed, 49 insertions(+), 50 deletions(-)

commit abeaa74ad35e145fcae40f239437e1b5964bcd72
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Feb 9 16:36:34 2015 -0800

    PHOENIX-1646 Views and functional index expressions may lose information when stringified

 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  27 ++
 .../phoenix/compile/CreateTableCompiler.java       |   4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  22 +-
 .../phoenix/expression/ComparisonExpression.java   |  12 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  37 ++-
 .../org/apache/phoenix/parse/AddParseNode.java     |   6 +
 .../AggregateFunctionWithinGroupParseNode.java     |  52 ++++
 .../java/org/apache/phoenix/parse/AliasedNode.java |  35 +++
 .../org/apache/phoenix/parse/AndParseNode.java     |  14 +
 .../apache/phoenix/parse/ArithmeticParseNode.java  |  15 +
 .../phoenix/parse/ArrayAllAnyComparisonNode.java   |  49 ++++
 .../phoenix/parse/ArrayAllComparisonNode.java      |   3 +-
 .../phoenix/parse/ArrayAnyComparisonNode.java      |   3 +-
 .../apache/phoenix/parse/ArrayConstructorNode.java |  17 ++
 .../org/apache/phoenix/parse/ArrayElemRefNode.java |  11 +
 .../org/apache/phoenix/parse/BetweenParseNode.java |  18 +-
 .../org/apache/phoenix/parse/BindParseNode.java    |  12 +-
 .../org/apache/phoenix/parse/BindTableNode.java    |   8 +
 .../org/apache/phoenix/parse/CaseParseNode.java    |  20 ++
 .../org/apache/phoenix/parse/CastParseNode.java    |  58 ++--
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  26 +-
 .../org/apache/phoenix/parse/ColumnParseNode.java  |  47 ++-
 .../apache/phoenix/parse/ComparisonParseNode.java  |  10 +
 .../apache/phoenix/parse/CompoundParseNode.java    |   5 -
 .../apache/phoenix/parse/ConcreteTableNode.java    |  19 ++
 .../org/apache/phoenix/parse/DerivedTableNode.java |  27 ++
 .../phoenix/parse/DistinctCountParseNode.java      |  16 ++
 .../org/apache/phoenix/parse/DivideParseNode.java  |   7 +
 .../org/apache/phoenix/parse/ExistsParseNode.java  |   9 +
 .../phoenix/parse/FamilyWildcardParseNode.java     |   8 +
 .../apache/phoenix/parse/FunctionParseNode.java    |  36 +--
 .../java/org/apache/phoenix/parse/HintNode.java    |  36 +++
 .../org/apache/phoenix/parse/InListParseNode.java  |  19 ++
 .../java/org/apache/phoenix/parse/InParseNode.java |  11 +
 .../org/apache/phoenix/parse/IsNullParseNode.java  |  10 +
 .../org/apache/phoenix/parse/JoinTableNode.java    |  51 ++++
 .../org/apache/phoenix/parse/LikeParseNode.java    |  12 +
 .../java/org/apache/phoenix/parse/LimitNode.java   |  29 ++
 .../org/apache/phoenix/parse/LiteralParseNode.java |  28 +-
 .../org/apache/phoenix/parse/ModulusParseNode.java |   6 +
 .../apache/phoenix/parse/MultiplyParseNode.java    |   6 +
 .../java/org/apache/phoenix/parse/NamedNode.java   |   6 +-
 .../org/apache/phoenix/parse/NamedParseNode.java   |  17 +-
 .../org/apache/phoenix/parse/NamedTableNode.java   |  38 +++
 .../org/apache/phoenix/parse/NotParseNode.java     |   9 +
 .../java/org/apache/phoenix/parse/OrParseNode.java |  15 +
 .../java/org/apache/phoenix/parse/OrderByNode.java |  34 ++-
 .../apache/phoenix/parse/OuterJoinParseNode.java   |  47 ---
 .../java/org/apache/phoenix/parse/ParseNode.java   |  11 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  34 ++-
 .../parse/RowValueConstructorParseNode.java        |  16 ++
 .../org/apache/phoenix/parse/SelectStatement.java  |  99 +++++++
 .../phoenix/parse/SequenceValueParseNode.java      |  10 +
 .../phoenix/parse/StringConcatParseNode.java       |  14 +
 .../apache/phoenix/parse/SubqueryParseNode.java    |   8 +
 .../apache/phoenix/parse/SubtractParseNode.java    |   7 +
 .../java/org/apache/phoenix/parse/TableName.java   |   4 +-
 .../java/org/apache/phoenix/parse/TableNode.java   |  10 +
 .../phoenix/parse/TableWildcardParseNode.java      |   7 +
 .../apache/phoenix/parse/WildcardParseNode.java    |  16 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  10 +-
 .../org/apache/phoenix/schema/types/PDate.java     |   5 +-
 .../org/apache/phoenix/schema/types/PVarchar.java  |   3 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   7 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  19 +-
 .../java/org/apache/phoenix/util/StringUtil.java   |   5 +
 .../apache/phoenix/compile/WhereCompilerTest.java  |  84 +++---
 .../apache/phoenix/compile/WhereOptimizerTest.java |   3 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  | 318 ++++++++++++---------
 .../phoenix/query/BaseConnectionlessQueryTest.java |  23 ++
 .../apache/phoenix/schema/types/PDataTypeTest.java |   7 +
 71 files changed, 1357 insertions(+), 370 deletions(-)

commit 2d5913b80349179da5aa18a1abbb56c230ee0542
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Feb 8 20:46:46 2015 -0800

    PHOENIX-653 Support ANSI-standard date literals from SQL 2003

 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 17 ++++-
 .../expression/ArrayConstructorExpression.java     | 12 ++++
 .../phoenix/expression/LiteralExpression.java      | 17 +++--
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 14 ++++
 .../phoenix/schema/types/PArrayDataType.java       | 17 +++++
 .../org/apache/phoenix/schema/types/PBinary.java   | 15 +++--
 .../org/apache/phoenix/schema/types/PChar.java     | 14 ++--
 .../org/apache/phoenix/schema/types/PDataType.java | 12 ++--
 .../org/apache/phoenix/schema/types/PDate.java     | 14 ++--
 .../org/apache/phoenix/schema/types/PDecimal.java  | 19 ++++--
 .../org/apache/phoenix/schema/types/PTime.java     |  4 +-
 .../apache/phoenix/schema/types/PTimestamp.java    |  4 +-
 .../apache/phoenix/schema/types/PUnsignedDate.java | 12 ++--
 .../apache/phoenix/schema/types/PUnsignedTime.java | 11 +++-
 .../phoenix/schema/types/PUnsignedTimestamp.java   | 11 ++--
 .../apache/phoenix/schema/types/PVarbinary.java    | 25 ++++---
 .../org/apache/phoenix/schema/types/PVarchar.java  | 15 ++---
 .../compile/StatementHintsCompilationTest.java     |  2 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  | 76 ++++++++++++++++++++++
 .../org/apache/phoenix/query/QueryPlanTest.java    |  4 +-
 20 files changed, 242 insertions(+), 73 deletions(-)

commit 11a76b297fad46cd7f51019810ba4d1a7b51b418
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Feb 7 23:54:53 2015 -0800

    PHOENIX-688 Add to_time and to_timestamp built-in functions

 .../apache/phoenix/end2end/ProductMetricsIT.java   |   4 +-
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |  67 ++++++-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |   5 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |   6 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |   3 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  10 +-
 .../apache/phoenix/compile/StatementContext.java   |  28 ++-
 .../apache/phoenix/expression/ExpressionType.java  |  10 +-
 .../expression/function/ToDateFunction.java        |  93 ++++++---
 .../expression/function/ToTimeFunction.java        |  63 ++++++
 .../expression/function/ToTimestampFunction.java   |  63 ++++++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  20 +-
 .../org/apache/phoenix/parse/ToDateParseNode.java  |   6 +-
 .../org/apache/phoenix/parse/ToTimeParseNode.java  |  48 +++++
 .../apache/phoenix/parse/ToTimestampParseNode.java |  48 +++++
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../org/apache/phoenix/schema/types/PDate.java     |  12 +-
 .../org/apache/phoenix/schema/types/PTime.java     |  16 +-
 .../apache/phoenix/schema/types/PTimestamp.java    |  24 ++-
 .../java/org/apache/phoenix/util/DateUtil.java     | 213 ++++++++++++++-------
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |  52 +++--
 .../apache/phoenix/compile/WhereCompilerTest.java  |   8 +-
 .../expression/SortOrderExpressionTest.java        |  34 ++--
 .../java/org/apache/phoenix/util/DateUtilTest.java |  35 ++--
 24 files changed, 656 insertions(+), 215 deletions(-)

commit 78d91d11e52acf54486c94ad8a0ec7dda2c9eb21
Author: Samarth <samarth.jain@salesforce.com>
Date:   Sat Feb 7 10:42:44 2015 -0800

    PHOENIX-1641 Addendum to the previous commit

 .../phoenix/coprocessor/MetaDataProtocol.java      | 10 +++--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 49 ++++++++++++----------
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 12 +++---
 3 files changed, 42 insertions(+), 29 deletions(-)

commit 2b8e66346d2c890ff664c9f2f826acb77a7ac950
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 6 18:26:57 2015 -0800

    PHOENIX-1644 Check for min HBase version before creating local index and provide means of disabling usage

 .../apache/phoenix/exception/SQLExceptionCode.java |  3 ++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  3 ++-
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 24 ++++++++++++++++++----
 .../query/ConnectionlessQueryServicesImpl.java     |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  3 ++-
 6 files changed, 28 insertions(+), 9 deletions(-)

commit 47ca5958a2334bef35da0d9ff938e0420a79b321
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 6 18:12:49 2015 -0800

    PHOENIX-1142 Fix compiler errors and warnings from original checkin

 .../src/main/java/org/apache/phoenix/util/DateUtil.java   |  5 +----
 .../test/java/org/apache/phoenix/util/DateUtilTest.java   | 15 +++++++--------
 2 files changed, 8 insertions(+), 12 deletions(-)

commit eaa7fbfde9f45c635cc11d524977d54485c9ea8d
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Feb 6 16:29:09 2015 -0800

    PHOENIX-1641 Make the upgrade from 4.x to 4.3 work for  SYSTEM.CATALOG and SYSTEM.SEQUENCE

 .../phoenix/query/ConnectionQueryServicesImpl.java |  69 ++++++--
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 179 +++++++++++----------
 2 files changed, 146 insertions(+), 102 deletions(-)

commit 9db37bd90005695c703f9d092651891a5e39a80a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 6 16:08:43 2015 -0800

    PHOENIX-1643 Ensure index usage is backward compatible for 4.2 client against 4.3 server (Thomas D'Silva)

 .../org/apache/phoenix/index/IndexMaintainer.java  |  9 ++------
 .../parse/IndexExpressionParseNodeRewriter.java    |  6 ++----
 .../org/apache/phoenix/schema/PColumnImpl.java     |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    | 16 ++++++++-------
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 24 ++++++++++++++--------
 5 files changed, 29 insertions(+), 28 deletions(-)

commit 54c4ed80869f6ac0011a65d1247285cfae0a6759
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 6 14:43:04 2015 -0800

    PHOENIX-1644 Check for min HBase version before creating local index and provide means of disabling usage

 .../phoenix/end2end/DisableLocalIndexIT.java       | 99 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  3 +
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  5 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  8 ++
 .../org/apache/phoenix/query/HTableFactory.java    |  3 +-
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 13 ++-
 8 files changed, 127 insertions(+), 6 deletions(-)

commit f3c675bf735d7d4e4534433f3406af15360ed5d9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 6 11:14:26 2015 -0800

    PHOENIX-1620 Add API for getting tenant ID from an HBase row of a Phoenix table

 .../apache/phoenix/end2end/PhoenixRuntimeIT.java   | 138 +++++++++++++++++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  39 +++++-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   4 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  20 ++-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  58 +++++++++
 5 files changed, 255 insertions(+), 4 deletions(-)

commit 2d7703339f87c73625d251fe3322f839cc1ee791
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Mon Feb 2 22:33:04 2015 -0800

    PHOENIX-1142 Improve CsvBulkLoadTool to parse different Date formats

 .../apache/phoenix/end2end/ProductMetricsIT.java   |   7 +-
 .../apache/phoenix/end2end/ToDateFunctionIT.java   |  15 +++
 .../apache/phoenix/end2end/TruncateFunctionIT.java |   5 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  63 +++++++--
 .../apache/phoenix/end2end/VariableLengthPKIT.java |   7 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  21 ++-
 .../phoenix/expression/LiteralExpression.java      |   9 +-
 .../expression/function/ToDateFunction.java        |  17 +--
 .../org/apache/phoenix/parse/ToDateParseNode.java  |  10 +-
 .../org/apache/phoenix/schema/types/PDate.java     |   5 +-
 .../org/apache/phoenix/schema/types/PTime.java     |   2 +
 .../apache/phoenix/schema/types/PTimestamp.java    |   2 +
 .../java/org/apache/phoenix/util/DateUtil.java     | 147 ++++++++++++++-------
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |  35 ++++-
 .../phoenix/util/csv/StringToArrayConverter.java   |  24 +---
 .../apache/phoenix/compile/WhereCompilerTest.java  |   3 +-
 .../java/org/apache/phoenix/util/DateUtilTest.java |  28 ++--
 17 files changed, 265 insertions(+), 135 deletions(-)

commit 8c340f5a6c030d009a4fa75444096a1999aea5c5
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 4 12:30:51 2015 -0800

    PHOENIX-514 Support functional indexes (Thomas D'Silva)

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  12 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |   7 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   2 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  76 +-
 .../phoenix/end2end/index/IndexExpressionIT.java   | 866 +++++++++++++++++++++
 .../phoenix/end2end/index/IndexMetadataIT.java     |  20 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  32 +-
 .../IndexHalfStoreFileReaderGenerator.java         |   4 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   9 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   6 +-
 .../org/apache/phoenix/compile/HavingCompiler.java |   4 +-
 .../phoenix/compile/IndexExpressionCompiler.java   |  53 ++
 .../org/apache/phoenix/compile/JoinCompiler.java   |   8 +-
 .../phoenix/compile/PostIndexDDLCompiler.java      |  47 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |   4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  44 +-
 .../UngroupedAggregateRegionObserver.java          |   3 +-
 .../coprocessor/generated/PTableProtos.java        | 215 ++++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   6 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  |   4 +-
 .../phoenix/expression/CoerceExpression.java       |  10 +-
 .../phoenix/expression/RowKeyColumnExpression.java |   6 +-
 .../apache/phoenix/hbase/index/ValueGetter.java    |   2 +
 .../hbase/index/covered/data/LazyValueGetter.java  |   5 +
 .../hbase/index/util/IndexManagementUtil.java      |  18 -
 .../org/apache/phoenix/index/IndexMaintainer.java  | 333 +++++---
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  21 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   1 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   9 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |  12 +-
 .../org/apache/phoenix/parse/BetweenParseNode.java |  22 +
 .../org/apache/phoenix/parse/BindParseNode.java    |  22 +
 .../org/apache/phoenix/parse/CastParseNode.java    |  38 +
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  14 +-
 .../java/org/apache/phoenix/parse/ColumnName.java  |   2 +-
 .../org/apache/phoenix/parse/ColumnParseNode.java  |   1 +
 .../apache/phoenix/parse/CompoundParseNode.java    |  32 +-
 .../apache/phoenix/parse/CreateIndexStatement.java |  10 +-
 .../org/apache/phoenix/parse/ExistsParseNode.java  |  22 +
 .../phoenix/parse/FamilyWildcardParseNode.java     |  22 +
 .../apache/phoenix/parse/FunctionParseNode.java    |  31 +
 .../org/apache/phoenix/parse/InListParseNode.java  |  22 +
 .../java/org/apache/phoenix/parse/InParseNode.java |  25 +
 .../parse/IndexExpressionParseNodeRewriter.java    | 104 +++
 .../apache/phoenix/parse/IndexKeyConstraint.java   |  12 +-
 .../org/apache/phoenix/parse/IsNullParseNode.java  |  22 +
 .../org/apache/phoenix/parse/LikeParseNode.java    |  26 +
 .../org/apache/phoenix/parse/LiteralParseNode.java |  21 +
 .../java/org/apache/phoenix/parse/NamedNode.java   |   2 +-
 .../org/apache/phoenix/parse/NamedParseNode.java   |  30 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  34 +-
 .../phoenix/parse/SequenceValueParseNode.java      |  29 +
 .../apache/phoenix/parse/SubqueryParseNode.java    |  28 +
 .../java/org/apache/phoenix/parse/TableName.java   |   3 +-
 .../phoenix/parse/TableWildcardParseNode.java      |  29 +
 .../apache/phoenix/parse/WildcardParseNode.java    |  24 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   6 +
 .../org/apache/phoenix/schema/DelegateTable.java   |   9 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 173 ++--
 .../java/org/apache/phoenix/schema/PColumn.java    |   3 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  26 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   7 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  27 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../phoenix/schema/tuple/ValueGetterTuple.java     |  93 +++
 .../java/org/apache/phoenix/util/IndexUtil.java    |  15 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   8 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |  14 +-
 .../iterate/AggregateResultScannerTest.java        |   5 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  26 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 76 files changed, 2475 insertions(+), 418 deletions(-)

commit d6e7846f491e09780a2d663cc5c23bc21244e26c
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Sun Feb 1 09:28:29 2015 -0800

    PHOENIX-1248 CsvBulkLoadTool is failing with IAE when local index specified for --index-table parameter(Gabriel Reid)

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       | 79 +++++++++++++++-----
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 85 ++++++++++++++++------
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  3 +-
 3 files changed, 126 insertions(+), 41 deletions(-)

commit 3f48938d5d5a67d59129eb90295894cc76e58508
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Sun Feb 1 07:10:24 2015 +0100

    PHOENIX-1613 Allow old commons-collections version
    
    Handle an IllegalAccessError while initializing tracing, in order
    to allow Phoenix to be used (without tracing) together with
    SquirrelSQL. The IllegalAccessError occurs because SquirrelSQL
    uses an old (2.x) version of commons-collections, while tracing
    depends on a 3.x version.

 .../src/main/java/org/apache/phoenix/trace/util/Tracing.java        | 6 ++++++
 1 file changed, 6 insertions(+)

commit 03a5d7ef198f059b289a7195613db8d375b88e46
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jan 31 11:17:46 2015 -0800

    PHOENIX-1616 Creating a View with a case sensitive column name does not work (Thomas D'Silva)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 84 +++++++++----------
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  4 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 22 ++---
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 70 ++++++++--------
 .../end2end/SubqueryUsingSortMergeJoinIT.java      | 96 +++++++++++-----------
 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 27 ++++++
 .../end2end/index/GlobalIndexOptimizationIT.java   | 18 ++--
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 +-
 .../org/apache/phoenix/parse/ColumnParseNode.java  |  4 +
 .../java/org/apache/phoenix/parse/TableName.java   | 24 ++++--
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  8 +-
 .../phoenix/schema/LocalIndexDataColumnRef.java    |  2 +-
 .../java/org/apache/phoenix/schema/TableRef.java   | 37 ++++-----
 .../java/org/apache/phoenix/util/IndexUtil.java    |  3 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  8 +-
 15 files changed, 225 insertions(+), 184 deletions(-)

commit a1baf2aca955551099f1e21086cfca752776cce0
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 30 15:08:44 2015 -0800

    PHOENIX-1596 Turning tracing on results in region server crash

 .../coprocessor/BaseScannerRegionObserver.java     |  31 ++-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 225 ++++++++++-----------
 .../org/apache/phoenix/trace/util/Tracing.java     |  67 +-----
 3 files changed, 133 insertions(+), 190 deletions(-)

commit 1c58f442dea6c19745a119f53e47e78ce9e2ef76
Author: maryannxue <wei.xue@intel.com>
Date:   Thu Jan 29 11:42:24 2015 -0500

    PHOENIX-1610 Incorrect subquery results caused by unpaired contextStack push/pop

 .../org/apache/phoenix/end2end/DerivedTableIT.java |  9 ++++
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 52 +++++++++---------
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 10 ++--
 .../end2end/SubqueryUsingSortMergeJoinIT.java      | 10 ++--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  6 ++-
 .../org/apache/phoenix/compile/QueryCompiler.java  | 12 ++---
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 63 ++++------------------
 .../phoenix/expression/InListExpression.java       |  9 +---
 .../org/apache/phoenix/join/HashCacheClient.java   | 58 +++++++++++++++++---
 .../apache/phoenix/optimize/QueryOptimizer.java    |  2 +-
 .../java/org/apache/phoenix/parse/HintNode.java    |  8 +--
 11 files changed, 120 insertions(+), 119 deletions(-)

commit d058a41c52c6a68c1581eff520c1f9e12486b89c
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Jan 28 20:30:33 2015 +0100

    PHOENIX-1612 Avoid context classloader issue
    
    Don't create a static HColumnDescriptor to avoid creating an
    HBaseConfiguration from a static context. Making this change makes
    it possible to run Phoenix via an external jar file in tools like
    DBVisualier (instead of having to put Phoenix directly in the
    application classpath).

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b12ddfa3f2d7c8c60b17c3f56edc7605264b0e4b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jan 24 17:53:11 2015 -0800

    PHOENIX-1605 Update pom to latest stable sqlline release

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5518654c5d7fb7d02cac8118a414c60db229482b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 23 21:13:25 2015 -0800

    PHOENIX-1516 Add RAND() built-in function

 .../src/main/java/org/apache/phoenix/compile/RowProjector.java       | 5 ++---
 .../src/main/java/org/apache/phoenix/compile/UpsertCompiler.java     | 2 +-
 .../main/java/org/apache/phoenix/mapreduce/PhoenixRecordReader.java  | 2 +-
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 599030a8ba164039dc76a1cae7b9066ce97c4478
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jan 23 17:37:53 2015 -0800

    PHOENIX-1516 Add RAND() built-in function

 .../org/apache/phoenix/end2end/QueryTimeoutIT.java |  2 +-
 .../expression/function/RandomFunction.java        | 16 ++++-----
 .../expression/ArithmeticOperationTest.java        | 42 ++++++++++++++++++----
 3 files changed, 44 insertions(+), 16 deletions(-)

commit 7a2944a0d2fa56431c06e63461afa6f1f63e65d0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jan 23 09:45:31 2015 -0800

    PHOENIX-1516 Add RAND() built-in function

 .../phoenix/compile/CreateTableCompiler.java       |   4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  54 ++----
 .../apache/phoenix/compile/ProjectionCompiler.java |  11 +-
 .../org/apache/phoenix/compile/RowProjector.java   | 104 ++++-------
 .../apache/phoenix/compile/SequenceManager.java    |  55 ------
 .../phoenix/compile/SequenceValueExpression.java   |  83 +++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  18 +-
 .../phoenix/expression/ArithmeticExpression.java   |   2 +
 .../expression/ArrayConstructorExpression.java     |  17 +-
 .../phoenix/expression/BaseCompoundExpression.java |  11 --
 .../phoenix/expression/BaseSingleExpression.java   |   6 +-
 .../phoenix/expression/BaseTerminalExpression.java |   8 -
 .../apache/phoenix/expression/CaseExpression.java  |  22 ++-
 .../phoenix/expression/CoerceExpression.java       |  15 +-
 .../phoenix/expression/ComparisonExpression.java   |  22 ++-
 .../phoenix/expression/DateAddExpression.java      |  12 +-
 .../phoenix/expression/DateSubtractExpression.java |  12 +-
 .../phoenix/expression/DecimalAddExpression.java   |   9 +-
 .../expression/DecimalDivideExpression.java        |   9 +-
 .../expression/DecimalMultiplyExpression.java      |   9 +-
 .../expression/DecimalSubtractExpression.java      |  11 +-
 .../phoenix/expression/DoubleAddExpression.java    |   8 +-
 .../phoenix/expression/DoubleDivideExpression.java |   8 +-
 .../expression/DoubleMultiplyExpression.java       |   8 +-
 .../expression/DoubleSubtractExpression.java       |   8 +-
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../phoenix/expression/InListExpression.java       |   6 +-
 .../phoenix/expression/IsNullExpression.java       |  13 +-
 .../apache/phoenix/expression/LikeExpression.java  |  13 +-
 .../phoenix/expression/LongAddExpression.java      |   8 +-
 .../phoenix/expression/LongDivideExpression.java   |   8 +-
 .../phoenix/expression/LongMultiplyExpression.java |  10 +-
 .../phoenix/expression/LongSubtractExpression.java |  10 +-
 .../phoenix/expression/ModulusExpression.java      |  22 ++-
 .../apache/phoenix/expression/NotExpression.java   |   8 +-
 .../phoenix/expression/RowKeyExpression.java       |  10 +-
 .../expression/RowValueConstructorExpression.java  |   6 +-
 .../phoenix/expression/TimestampAddExpression.java |  12 +-
 .../expression/TimestampSubtractExpression.java    |  12 +-
 .../expression/aggregator/BaseAggregator.java      |   7 +
 .../function/ArrayAnyComparisonExpression.java     |  15 +-
 ...Expression.java => ArrayElemRefExpression.java} |  20 ++-
 .../expression/function/RandomFunction.java        |   3 +-
 .../expression/function/ScalarFunction.java        |   9 +
 .../expression/visitor/BaseExpressionVisitor.java  | 127 ++------------
 .../expression/visitor/CloneExpressionVisitor.java | 195 +++++++++++++++++++++
 .../expression/visitor/ExpressionVisitor.java      |  37 ++--
 .../visitor/KeyValueExpressionVisitor.java         |   2 +-
 .../visitor/RowKeyExpressionVisitor.java           |   2 +-
 .../visitor/SingleAggregateFunctionVisitor.java    |   2 +-
 .../StatelessTraverseAllExpressionVisitor.java     | 181 +++++++++++++++++++
 .../StatelessTraverseNoExpressionVisitor.java      | 181 +++++++++++++++++++
 .../visitor/TraverseAllExpressionVisitor.java      |   6 +-
 .../visitor/TraverseNoExpressionVisitor.java       |   4 +-
 .../filter/MultiKeyValueComparisonFilter.java      |   5 +-
 .../filter/SingleKeyValueComparisonFilter.java     |   3 +-
 .../ArithmeticOperationTest.java                   | 111 ++++--------
 .../phoenix/expression/ILikeExpressionTest.java    |   2 +-
 .../phoenix/expression/LikeExpressionTest.java     |   2 +-
 .../expression/SortOrderExpressionTest.java        |   8 +-
 .../function/ExternalSqlTypeIdFunctionTest.java    |  25 ++-
 .../phoenix/parse/BuiltInFunctionInfoTest.java     |  22 +--
 .../java/org/apache/phoenix/util/TestUtil.java     |  12 +-
 63 files changed, 1111 insertions(+), 538 deletions(-)

commit f6f71096a57866361bdd2ef8c9e0087cfe2ccbfb
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Thu Jan 22 17:34:51 2015 +0530

    PHOENIX-1336 Exception when select from local index:Cache of region boundaries are out of date(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 45 +++++++++++++++++++++-
 .../org/apache/phoenix/compile/ScanRanges.java     |  7 +++-
 .../coprocessor/BaseScannerRegionObserver.java     |  1 +
 .../phoenix/iterate/ChunkedResultIterator.java     | 24 ++++++++++++
 4 files changed, 75 insertions(+), 2 deletions(-)

commit fe532bf7c1b1f08cbb567151a48e2e686494f5b5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 21 23:53:38 2015 -0800

    PHOENIX-1516 Add RAND() built-in function

 .../org/apache/phoenix/compile/RowProjector.java   | 31 +++++++++++++++++++---
 .../apache/phoenix/expression/ExpressionType.java  |  8 ++++++
 2 files changed, 35 insertions(+), 4 deletions(-)

commit 424d29b93f7da1b43a9427f7af226e801cd4a9a6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jan 21 22:33:55 2015 -0800

    PHOENIX-1516 Add RAND() built-in function

 .../src/main/java/org/apache/phoenix/mapreduce/PhoenixRecordReader.java  | 1 +
 1 file changed, 1 insertion(+)

commit 3594bb3bd7569d6eea6416402dbd96fc09413914
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jan 21 16:59:24 2015 -0800

    PHOENIX-1601 - Performance.py script not working in binary distribution (jacobtardieu)

 bin/phoenix_utils.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 97a906bc7f6459e23409ba95533752456a3acce4
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Jan 20 17:33:29 2015 -0800

    PHOENIX-1516 Add RAND() built-in function.

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 100 +++++++++++++++
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  34 ++++++
 .../org/apache/phoenix/compile/RowProjector.java   |  73 ++++++++++-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   8 +-
 .../UngroupedAggregateRegionObserver.java          |   5 +-
 .../org/apache/phoenix/expression/Determinism.java |   2 +-
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/FunctionExpression.java    |   2 +-
 .../expression/function/RandomFunction.java        | 134 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   9 +-
 .../phoenix/mapreduce/PhoenixRecordReader.java     |   5 +-
 11 files changed, 359 insertions(+), 17 deletions(-)

commit 168ab7ad990813640047059e7f8eb55dc06ad6ea
Author: Samarth <samarth.jain@salesforce.com>
Date:   Tue Jan 20 15:36:16 2015 -0800

    PHOENIX-1600 Scanner is left unclosed in MetaDataEndpointImpl#doDropTable() (Ted Yu)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 102 +++++++++++----------
 1 file changed, 52 insertions(+), 50 deletions(-)

commit 25cc439d07e233c92b72b51961eb7caad980f065
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jan 21 04:22:59 2015 +0530

    PHOENIX-1059 Support index regions merge on their corresponding data regions merge(addendum)

 .../src/it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 5e4519609cdd0005c3f6dd7ab914e20d94c57e3a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Jan 21 03:51:01 2015 +0530

    PHOENIX-1059 Support index regions merge on their corresponding data regions merge(Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java |  81 ++++++++++++++
 .../regionserver/IndexHalfStoreFileReader.java     |  55 ++++++----
 .../IndexHalfStoreFileReaderGenerator.java         |  48 +++++++-
 .../hbase/regionserver/LocalIndexMerger.java       | 122 +++++++++++++++++++++
 .../hbase/regionserver/LocalIndexSplitter.java     |  19 +++-
 .../coprocessor/BaseScannerRegionObserver.java     |   6 +-
 .../UngroupedAggregateRegionObserver.java          |  50 +++++----
 .../java/org/apache/phoenix/util/IndexUtil.java    |  70 +++++++++---
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   6 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   4 +
 10 files changed, 391 insertions(+), 70 deletions(-)

commit 34b4ad27dfd7345a91db7414942d11f0a3108022
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 20 11:29:30 2015 -0800

    PHOENIX-1575 Identical sql type values for UNSIGNED_TIMESTAMP and UNSIGNED_DATE

 .../org/apache/phoenix/schema/types/PUnsignedTimestamp.java    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 405cb0f763fe2e01418d3f84cb22f0331337e45b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jan 20 10:01:07 2015 -0800

    PHOENIX-1594 Using KeyOnlyFilter for simple query of select count(1) from <table>

 .../java/org/apache/phoenix/end2end/SubqueryUsingSortMergeJoinIT.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6f43d467c6de0ef439bfff8bada90f77a305d9d1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 19 22:09:17 2015 -0800

    PHOENIX-1594 Using KeyOnlyFilter for simple query of select count(1) from <table>

 .../end2end/index/GlobalIndexOptimizationIT.java   | 107 ++++++++++++---------
 1 file changed, 60 insertions(+), 47 deletions(-)

commit 2a73ba81b93f189fba46cae1360541e2d589e3fb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 19 20:40:30 2015 -0800

    PHOENIX-1594 Using KeyOnlyFilter for simple query of select count(1) from <table>

 .../end2end/BaseTenantSpecificViewIndexIT.java     | 16 +++++---
 .../org/apache/phoenix/end2end/BaseViewIT.java     | 15 ++++++--
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 18 +++++++--
 .../phoenix/end2end/HashJoinLocalIndexIT.java      |  8 ++++
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  2 +-
 .../org/apache/phoenix/end2end/QueryTimeoutIT.java |  2 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  2 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  1 +
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  2 +
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  6 +++
 .../end2end/SubqueryUsingSortMergeJoinIT.java      |  9 +++--
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  7 +++-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  | 45 +++++++++++++++-------
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  7 +++-
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 32 +++++++++++----
 .../phoenix/end2end/index/SaltedIndexIT.java       | 10 +++--
 .../phoenix/iterate/BaseResultIterators.java       | 10 +++--
 .../apache/phoenix/compile/QueryCompilerTest.java  | 14 +++++++
 .../compile/StatementHintsCompilationTest.java     |  2 +-
 .../TenantSpecificViewIndexCompileTest.java        |  3 +-
 20 files changed, 158 insertions(+), 53 deletions(-)

commit 9a2782043bd638b2511ca26dbf3afd7bdcd0df47
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jan 17 16:39:50 2015 -0800

    PHOENIX-1582 Support TimeOut in JDBC

 .../org/apache/phoenix/end2end/QueryTimeoutIT.java | 94 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  9 ++-
 .../phoenix/iterate/BaseResultIterators.java       |  4 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 31 ++++---
 4 files changed, 126 insertions(+), 12 deletions(-)

commit 4e8e30b40f6394f1a3fceffe565ed1ee1d642005
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Fri Jan 16 10:27:10 2015 -0800

    PHOENIX-1592 ORDER BY not closing ResultIterator properly

 .../org/apache/phoenix/coprocessor/ScanRegionObserver.java   | 12 +++++++++++-
 .../org/apache/phoenix/iterate/OrderedResultIterator.java    |  4 +++-
 2 files changed, 14 insertions(+), 2 deletions(-)

commit b2b5788d9dd96dc5fa2f0ac0d0b2a792d9bb26b2
Author: maryannxue <wei.xue@intel.com>
Date:   Fri Jan 16 13:57:35 2015 -0500

    PHOENIX-1560 Join between global index and data table if INDEX hint used

 .../end2end/index/GlobalIndexOptimizationIT.java   | 456 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   2 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   2 +-
 .../phoenix/compile/IndexStatementRewriter.java    |  12 +
 .../apache/phoenix/compile/ProjectionCompiler.java |  16 +-
 .../org/apache/phoenix/compile/RowProjector.java   |  22 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   |   2 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   3 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   5 +-
 .../phoenix/expression/InListExpression.java       |   9 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    | 177 +++++++-
 .../java/org/apache/phoenix/parse/HintNode.java    |   8 +
 .../java/org/apache/phoenix/parse/InParseNode.java |   8 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  10 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   2 +-
 15 files changed, 688 insertions(+), 46 deletions(-)

commit ef3a7e4c404424db78afb7739de87b368a240844
Author: maryannxue <wei.xue@intel.com>
Date:   Fri Jan 16 12:36:46 2015 -0500

    PHOENIX-1591 Return all rows instead of no rows if IN clause subquery gets optimized out from semi-join and returns empty result

 phoenix-core/src/main/java/org/apache/phoenix/execute/HashJoinPlan.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e8b685db0b88430cfa0566302e243c96402e3bf
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 16 07:14:01 2015 -0800

    PHOENIX-1581 Client cache not updated after issuing ALTER TABLE statements for setting phoenix table properties

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 71 +++++++++++++---------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 14 ++---
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  4 +-
 .../query/DelegateConnectionQueryServices.java     |  4 +-
 .../org/apache/phoenix/query/MetaDataMutated.java  |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 10 ++-
 9 files changed, 69 insertions(+), 46 deletions(-)

commit 3868997f6dcbd2866d878c4cc23abe17d26a585c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jan 15 12:02:12 2015 -0800

    PHOENIX-1587 Error deserializing empty array (which represents null) (Jan Van Besien)

 .../src/main/java/org/apache/phoenix/schema/types/PArrayDataType.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c9de91e597493bf78fd4e065217c80c981132ff
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Jan 15 14:06:12 2015 +0100

    PHOENIX-1586 Make storeNulls optional in protobuf

 .../coprocessor/generated/PTableProtos.java        | 32 ++++++++--------------
 phoenix-protocol/src/main/PTable.proto             |  2 +-
 2 files changed, 13 insertions(+), 21 deletions(-)

commit d3aba78a57167fbad24ee15a8f00d44a11e1021a
Author: Samarth <samarth.jain@salesforce.com>
Date:   Wed Jan 14 19:32:42 2015 -0800

    Refactored set properties code to ConnectionQueryServices. Reduced rpc calls for setting properties and creating column families to 1

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 145 +++++++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   3 +-
 .../phoenix/query/ConnectionQueryServices.java     |   6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 400 ++++++++++++++-------
 .../query/ConnectionlessQueryServicesImpl.java     |  11 +-
 .../query/DelegateConnectionQueryServices.java     |  13 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 266 +++-----------
 .../apache/phoenix/compile/QueryCompilerTest.java  |   2 +-
 8 files changed, 452 insertions(+), 394 deletions(-)

commit c5edd3a71de6e817f367a34afe57d212bd06ec90
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Jan 13 16:56:10 2015 +0100

    PHOENIX-1578 Add DEFAULT_STORE_NULLS_ATTRIB
    
    Add DEFAULT_STORE_NULLS_ATTRIB configuration key to set the
    default STORE_NULLS behavior for new table creation.

 .../org/apache/phoenix/end2end/StoreNullsIT.java   |  21 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 155 ++++++++++-----------
 .../org/apache/phoenix/query/QueryServices.java    |  37 ++---
 .../apache/phoenix/query/QueryServicesOptions.java | 121 ++++++++--------
 .../org/apache/phoenix/schema/MetaDataClient.java  |   9 +-
 5 files changed, 183 insertions(+), 160 deletions(-)

commit 45644018a987c08a7b0c91dc3c7ab38d6426ab1c
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Jan 13 15:24:58 2015 +0100

    PHOENIX-1578 Increment MIN_SYSTEM_TABLE_TIMESTAMP
    
    Increment version for STORE_NULLS field in SYSTEM.CATALOG.

 .../phoenix/coprocessor/MetaDataProtocol.java      | 49 +++++++++++-----------
 1 file changed, 25 insertions(+), 24 deletions(-)

commit efa9cf99077847ed91b2f96aba1522c726fecb9d
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Mon Jan 12 16:30:57 2015 +0100

    PHOENIX-1578 Introduce STORE_NULLS table option
    
    Add the STORE_NULLS table option. This causes null values to be
    store explicitly as empty byte arrays, instead of changing
    null upserts into HBase deletes.

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 367 ++++++++++----------
 .../org/apache/phoenix/end2end/StoreNullsIT.java   | 207 +++++++++++
 .../org/apache/phoenix/compile/FromCompiler.java   |  59 ++--
 .../org/apache/phoenix/compile/JoinCompiler.java   | 364 ++++++++++----------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 115 ++++---
 .../coprocessor/generated/PTableProtos.java        | 111 +++++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  52 +--
 .../org/apache/phoenix/query/QueryConstants.java   |  48 +--
 .../org/apache/phoenix/schema/DelegateTable.java   |   7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 377 +++++++++++----------
 .../java/org/apache/phoenix/schema/PTable.java     |  51 +--
 .../java/org/apache/phoenix/schema/PTableImpl.java | 141 ++++----
 .../org/apache/phoenix/schema/TableProperty.java   |  13 +-
 phoenix-protocol/src/main/PTable.proto             |   3 +-
 14 files changed, 1148 insertions(+), 767 deletions(-)

commit 78656a53e5c3c558cc4effa9100b2516fee4eed3
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Jan 14 12:49:15 2015 +0530

    Phoenix-1453 - Addendum commit for test failures

 .../StatsCollectorWithSplitsAndMultiCFIT.java      | 12 ++++---
 .../phoenix/schema/stats/GuidePostsInfo.java       | 42 +++++++++++-----------
 .../phoenix/schema/stats/StatisticsScanner.java    |  4 ++-
 .../phoenix/schema/stats/StatisticsWriter.java     | 14 ++------
 4 files changed, 35 insertions(+), 37 deletions(-)

commit 223a1484097f645014ca0fd41ce29b2a191ef174
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Jan 14 09:37:42 2015 +0530

    Phoenix-1453 - Collect row counts per region in stats table (Ramkrishna)

 .../phoenix/end2end/StatsCollectorAbstractIT.java  |  77 +++
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 108 +--
 .../StatsCollectorWithSplitsAndMultiCFIT.java      | 254 +++++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |   2 +-
 .../coprocessor/generated/PGuidePostsProtos.java   | 732 +++++++++++++++++++++
 .../coprocessor/generated/PTableProtos.java        | 259 +++++++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   3 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |   9 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   1 -
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  24 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       | 174 +++--
 .../phoenix/schema/stats/StatisticsCollector.java  |  97 +--
 .../phoenix/schema/stats/StatisticsScanner.java    |  29 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  51 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |  98 ++-
 .../java/org/apache/phoenix/util/TestUtil.java     |  37 +-
 phoenix-protocol/src/main/PGuidePosts.proto        |  10 +
 phoenix-protocol/src/main/PTable.proto             |   3 +
 20 files changed, 1679 insertions(+), 293 deletions(-)

commit ddcb591f3ed3aa8e9d4ab1f7eda62052638647bc
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Mon Jan 12 14:12:52 2015 -0800

    PHOENIX-1551 Upgrading from Phoenix 4.0.x to 4.2.2 and throw can't find SYSTEM.STATS

 .../src/main/java/org/apache/phoenix/util/ServerUtil.java   | 13 +++++++++++--
 1 file changed, 11 insertions(+), 2 deletions(-)

commit 71832b59ff8435067f9db3ac79f0a6360271fa75
Author: maryannxue <wei.xue@intel.com>
Date:   Mon Jan 12 17:47:28 2015 -0500

    PHOENIX-1562 NPE in ServerCacheClient

 .../src/main/java/org/apache/phoenix/cache/ServerCacheClient.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6f16a6a629fdeca587f38fe6e1349a2b6f0fabd8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 12 12:10:14 2015 -0800

    PHOENIX-1570 Data missing when using local index (Maryann Xue, James Taylor)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 12 ++---
 .../apache/phoenix/compile/GroupByCompiler.java    |  7 +--
 .../org/apache/phoenix/execute/AggregatePlan.java  | 59 ++++++++++++----------
 .../expression/ProjectedColumnExpression.java      | 41 +++++++--------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 18 ++++---
 5 files changed, 69 insertions(+), 68 deletions(-)

commit 13aa61a86f0e2de84df184646c9ea7d730b0720f
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Dec 23 15:44:46 2014 +0100

    PHOENIX-1552 Add a self-contained sandbox
    
    Add a sandbox that can be started via the phoenix_sandbox.py
    script.

 bin/phoenix_sandbox.py                             | 59 +++++++++++++++++++
 bin/sandbox-log4j.properties                       | 45 +++++++++++++++
 phoenix-core/pom.xml                               | 15 +++++
 .../src/it/java/org/apache/phoenix/Sandbox.java    | 67 ++++++++++++++++++++++
 4 files changed, 186 insertions(+)

commit a6538d79266ff5d3c0a12773669a29ea6f71dca7
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 9 15:56:58 2015 -0800

    PHOENIX-1409 Close HBaseAdmin in ConnectionQueryServicesImpl#modifyTable

 .../phoenix/query/ConnectionQueryServicesImpl.java  | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 1510cd2d28493dc3eba0ec3368cb3edb9593afa4
Author: Samarth <samarth.jain@salesforce.com>
Date:   Fri Jan 9 14:51:24 2015 -0800

    PHOENIX-1409 Allow ALTER TABLE <table> SET command to update HTableDescriptor and HColumnDescriptor properties (Samarth Jain/Alicia Ying Shu)

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 923 ++++++++++++++++++++-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  47 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  15 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +-
 .../apache/phoenix/parse/AddColumnStatement.java   |  14 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +-
 .../phoenix/query/ConnectionQueryServices.java     |   3 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  28 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   7 +
 .../query/DelegateConnectionQueryServices.java     |   8 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 305 +++++--
 .../org/apache/phoenix/schema/TableProperty.java   | 111 +++
 .../apache/phoenix/compile/QueryCompilerTest.java  |  12 +-
 14 files changed, 1359 insertions(+), 125 deletions(-)

commit 26dfa6dc743627ff6354c664a3eb2a4e11e923ee
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jan 6 17:32:09 2015 -0800

    PHOENIX-1573 Set reuseForks back to true for integration tests

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2c58b1fc9b25c5cd5da872782b37bbdccf259c79
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Jan 2 08:14:15 2015 +0100

    PHOENIX-1571 Replace hard-coded date
    
    Replace a "far away future" hard-coded date in an integration test
    with something that is no longer in the past.

 .../it/java/org/apache/phoenix/end2end/VariableLengthPKIT.java    | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d2be5028f12d32e367a6a54b94e5d1c156c7fc74
Author: Gabriel Reid <greid@apache.org>
Date:   Wed Dec 31 10:58:52 2014 +0100

    PHOENIX-1559 Add auto-commit config property
    
    Allow specifying the initial connection auto-commit property
    via the phoenix.connection.autoCommit configuration property.

 .../org/apache/phoenix/jdbc/PhoenixConnection.java    |  6 +++++-
 .../java/org/apache/phoenix/query/QueryServices.java  |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java    |  3 +++
 .../main/java/org/apache/phoenix/util/JDBCUtil.java   | 12 ++++++++----
 .../java/org/apache/phoenix/util/JDBCUtilTest.java    | 19 ++++++++++++-------
 5 files changed, 29 insertions(+), 12 deletions(-)

commit 9fc37c7cd0ce33337c5fd0b133bf43bd7024d6d7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 30 10:51:48 2014 -0800

    PHOENIX-1511 Invalidate stats row even if not running stats due to phoenix.stats.minUpdateFrequency

 .../apache/phoenix/end2end/StatsCollectorIT.java   | 60 +++++++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 33 ++++++------
 2 files changed, 66 insertions(+), 27 deletions(-)

commit d6a4caf5cff651cfef3602c93e3fcafe62bced9b
Author: Gabriel Reid <greid@apache.org>
Date:   Wed Dec 24 17:28:01 2014 +0100

    PHOENIX-1559 Add AutoCommit flag to connection url
    
    Allow supplying AutoCommit=true (or AutoCommit=false) in a JDBC
    url or connection properties when creating a new connection. This
    will allow Phoenix to currently operate in a standards-compliant
    mode for now, as well as making it easier to run Phoenix in a
    backwards-compatible mode once PHOENIX-1543 is implemented.

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  1 +
 .../java/org/apache/phoenix/util/JDBCUtil.java     | 15 +++++++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  5 ++++
 .../java/org/apache/phoenix/util/JDBCUtilTest.java | 31 ++++++++++++++++++++++
 4 files changed, 52 insertions(+)

commit d41565b7f145a4c6a81f462fd248281137d266b4
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Fri Dec 26 09:45:04 2014 +0530

    PHOENIX-1536 Make use of SplitTransaction to split local index region from 0.98.9 onwards(Rajeshbabu)

 .../hbase/regionserver/IndexSplitTransaction.java    |  6 +++---
 .../hbase/regionserver/LocalIndexSplitter.java       | 20 ++++++++++++++++----
 .../phoenix/hbase/index/IndexRegionSplitPolicy.java  |  4 ++++
 pom.xml                                              |  2 +-
 4 files changed, 24 insertions(+), 8 deletions(-)

commit d36986192f24e3be13d4dfa44c7f6f01be7d2b6d
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Dec 22 15:40:35 2014 -0800

    PHOENIX-1545 - Add org.iq80.snappy reference to client poms

 phoenix-assembly/src/build/client.xml             | 1 -
 phoenix-assembly/src/build/components-minimal.xml | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit a69926825901b0e332b75ea4e5b2bf20c8b1e10e
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Dec 22 11:23:23 2014 +0530

    PHOENIX-1535 Secondary local index casues Undefined column error with queries involving joins(Maryann Xue)

 .../phoenix/end2end/HashJoinLocalIndexIT.java      | 163 +++++++++++++++++++++
 1 file changed, 163 insertions(+)

commit f9ca8816d6356b64368d3e1b2b34eee8696f8cc2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Dec 22 11:07:39 2014 +0530

    PHOENIX-1535 Secondary local index casues Undefined column error with queries involving joins(Maryann Xue)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 251 +-------------------
 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 251 +-------------------
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 251 +-------------------
 .../org/apache/phoenix/compile/JoinCompiler.java   | 114 ++++++---
 .../org/apache/phoenix/compile/QueryCompiler.java  |  10 +-
 .../coprocessor/BaseScannerRegionObserver.java     | 191 +++++++++++++++
 .../GroupedAggregateRegionObserver.java            |  64 ++---
 .../phoenix/coprocessor/ScanRegionObserver.java    | 174 +-------------
 .../UngroupedAggregateRegionObserver.java          |  32 ++-
 .../java/org/apache/phoenix/query/BaseTest.java    | 262 +++++++++++++++++++++
 10 files changed, 593 insertions(+), 1007 deletions(-)

commit 01cef5117a0c325400cbfcc8fd476aa42aea6826
Author: Gabriel Reid <greid@apache.org>
Date:   Sun Dec 21 11:36:18 2014 +0100

    PHOENIX-1127 Hard-coded integration test err text
    
    Update the expected error text in RegexEventSerializerIT to
    reflect what is now thrown if an invalid value is provided for
    a date value.

 .../src/it/java/org/apache/phoenix/flume/RegexEventSerializerIT.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 79d78df66abfa1261415e7cf4488e12b5913f1d4
Author: Gabriel Reid <greid@apache.org>
Date:   Sat Dec 20 18:03:58 2014 +0100

    PHOENIX-1127 Support milliseconds in timestamp parsing
    
    Use Joda time for (implicit) date parsing, allowing date-time
    values to contain an optional time component, as well as supporting
    optional millisecond parsing.

 .../src/build/components-major-client.xml          |  2 +-
 .../src/build/server-without-antlr.xml             |  1 -
 phoenix-assembly/src/build/server.xml              |  1 -
 phoenix-core/pom.xml                               |  4 ++
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java | 41 ++++++++++++++++
 .../java/org/apache/phoenix/util/DateUtil.java     | 57 +++++++++-------------
 .../java/org/apache/phoenix/util/DateUtilTest.java | 42 ++++++++++++++++
 7 files changed, 110 insertions(+), 38 deletions(-)

commit 5bf808543b76e482e3b1318fe5071f4a2bca77dc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Dec 19 21:16:59 2014 -0800

    PHOENIX-1233 Detected both log4j-over-slf4j.jar AND slf4j-log4j12.jar on the class path, preempting StackOverflowError (Jesse Yates)

 phoenix-assembly/src/build/components-major-client.xml     |  1 -
 .../src/build/components/all-common-dependencies.xml       |  1 -
 phoenix-assembly/src/build/package-to-tar-all.xml          | 14 ++++++++++++++
 3 files changed, 14 insertions(+), 2 deletions(-)

commit 88ecb78cfabb99541ae357af8deb22ea704ba967
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Dec 18 23:13:13 2014 -0800

    PHOENIX-1469 Binary columns do not work correctly for indexing (Dave Hacker)

 .../phoenix/end2end/index/IndexMetadataIT.java     |  45 +++++++
 .../java/org/apache/phoenix/util/IndexUtil.java    |  12 +-
 .../apache/phoenix/schema/types/PDataTypeTest.java |  93 +++++++++----
 .../org/apache/phoenix/util/IndexUtilTest.java     | 150 +++++++++++++++++++++
 4 files changed, 270 insertions(+), 30 deletions(-)

commit 04ef859b78704f5b56118ee30248652dcfcdee3f
Author: Nick Dimiduk <ndimiduk@apache.org>
Date:   Wed Dec 17 15:24:45 2014 -0800

    PHOENIX-1514 Break up PDataType Enum

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |    2 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |    6 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |   24 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |    7 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |   23 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |   23 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       |    4 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |    6 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   37 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |    6 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |   17 +
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |    6 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |   18 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |    2 +-
 .../org/apache/phoenix/trace/TracingTestUtil.java  |   17 +
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |    2 +-
 .../hbase/regionserver/LocalIndexSplitter.java     |    8 +-
 .../apache/phoenix/compile/ColumnProjector.java    |    2 +-
 .../phoenix/compile/CreateSequenceCompiler.java    |   13 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |    6 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  204 +-
 .../phoenix/compile/ExpressionProjector.java       |    2 +-
 .../apache/phoenix/compile/GroupByCompiler.java    |   13 +-
 .../org/apache/phoenix/compile/HavingCompiler.java |    6 +-
 .../phoenix/compile/IndexStatementRewriter.java    |    2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   61 +-
 .../org/apache/phoenix/compile/LimitCompiler.java  |    6 +-
 .../compile/MutatingParallelIteratorFactory.java   |    4 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |    4 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |    2 +-
 .../apache/phoenix/compile/SequenceManager.java    |    9 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |    6 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |    8 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |   10 +-
 .../GroupedAggregateRegionObserver.java            |    4 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   48 +-
 .../coprocessor/MetaDataRegionObserver.java        |    8 +-
 .../coprocessor/SequenceRegionObserver.java        |   38 +-
 .../apache/phoenix/coprocessor/SuffixFilter.java   |   17 +
 .../UngroupedAggregateRegionObserver.java          |    4 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    2 +-
 .../exception/ValueTypeIncompatibleException.java  |    2 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |    4 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |    7 +-
 .../apache/phoenix/expression/AndExpression.java   |    6 +-
 .../apache/phoenix/expression/AndOrExpression.java |    7 +-
 .../phoenix/expression/ArithmeticExpression.java   |    2 +-
 .../expression/ArrayConstructorExpression.java     |    4 +-
 .../expression/BaseAddSubtractExpression.java      |    2 +-
 .../apache/phoenix/expression/BaseExpression.java  |   15 +-
 .../apache/phoenix/expression/CaseExpression.java  |   10 +-
 .../phoenix/expression/CoerceExpression.java       |    2 +-
 .../phoenix/expression/ColumnExpression.java       |    2 +-
 .../phoenix/expression/ComparisonExpression.java   |  131 +-
 .../phoenix/expression/DateAddExpression.java      |   16 +-
 .../phoenix/expression/DateSubtractExpression.java |   16 +-
 .../phoenix/expression/DecimalAddExpression.java   |   11 +-
 .../expression/DecimalDivideExpression.java        |   11 +-
 .../expression/DecimalMultiplyExpression.java      |   11 +-
 .../expression/DecimalSubtractExpression.java      |   14 +-
 .../phoenix/expression/DelegateExpression.java     |    2 +-
 .../phoenix/expression/DivideExpression.java       |    2 +-
 .../phoenix/expression/DoubleAddExpression.java    |    5 +-
 .../phoenix/expression/DoubleDivideExpression.java |    5 +-
 .../expression/DoubleMultiplyExpression.java       |    5 +-
 .../expression/DoubleSubtractExpression.java       |    5 +-
 .../phoenix/expression/InListExpression.java       |    9 +-
 .../phoenix/expression/IsNullExpression.java       |    9 +-
 .../apache/phoenix/expression/LikeExpression.java  |   10 +-
 .../phoenix/expression/LiteralExpression.java      |   20 +-
 .../phoenix/expression/LongAddExpression.java      |    7 +-
 .../phoenix/expression/LongDivideExpression.java   |    7 +-
 .../phoenix/expression/LongMultiplyExpression.java |    5 +-
 .../phoenix/expression/LongSubtractExpression.java |    8 +-
 .../phoenix/expression/ModulusExpression.java      |   11 +-
 .../phoenix/expression/MultiplyExpression.java     |    2 +-
 .../apache/phoenix/expression/NotExpression.java   |   15 +-
 .../phoenix/expression/RowKeyColumnExpression.java |    2 +-
 .../phoenix/expression/RowKeyExpression.java       |    5 +-
 .../expression/RowValueConstructorExpression.java  |    5 +-
 .../phoenix/expression/StringConcatExpression.java |    9 +-
 .../phoenix/expression/TimestampAddExpression.java |   22 +-
 .../expression/TimestampSubtractExpression.java    |   22 +-
 .../aggregator/BaseDecimalStddevAggregator.java    |   11 +-
 .../aggregator/BaseStddevAggregator.java           |   12 +-
 .../expression/aggregator/CountAggregator.java     |    5 +-
 .../aggregator/DecimalSumAggregator.java           |    9 +-
 .../aggregator/DistinctCountClientAggregator.java  |    9 +-
 .../aggregator/DistinctValueClientAggregator.java  |    4 +-
 .../DistinctValueWithCountClientAggregator.java    |    5 +-
 .../DistinctValueWithCountServerAggregator.java    |    5 +-
 .../expression/aggregator/DoubleSumAggregator.java |    9 +-
 .../FirstLastValueBaseClientAggregator.java        |    5 +-
 .../aggregator/FirstLastValueServerAggregator.java |    5 +-
 .../expression/aggregator/IntSumAggregator.java    |    5 +-
 .../expression/aggregator/LongSumAggregator.java   |    5 +-
 .../expression/aggregator/NumberSumAggregator.java |    7 +-
 .../aggregator/PercentRankClientAggregator.java    |    7 +-
 .../aggregator/PercentileClientAggregator.java     |    7 +-
 .../aggregator/PercentileDiscClientAggregator.java |    5 +-
 .../aggregator/UnsignedIntSumAggregator.java       |    5 +-
 .../aggregator/UnsignedLongSumAggregator.java      |    5 +-
 .../function/ArrayAllComparisonExpression.java     |    2 +-
 .../function/ArrayAnyComparisonExpression.java     |    7 +-
 .../expression/function/ArrayIndexFunction.java    |   18 +-
 .../expression/function/ArrayLengthFunction.java   |   15 +-
 .../expression/function/AvgAggregateFunction.java  |   13 +-
 .../expression/function/CeilDateExpression.java    |    2 +-
 .../expression/function/CeilDecimalExpression.java |   20 +-
 .../phoenix/expression/function/CeilFunction.java  |   12 +-
 .../function/CeilTimestampExpression.java          |   21 +-
 .../expression/function/CoalesceFunction.java      |    2 +-
 .../function/ConvertTimezoneFunction.java          |   16 +-
 .../function/CountAggregateFunction.java           |    5 +-
 .../expression/function/CurrentDateFunction.java   |    9 +-
 .../expression/function/CurrentTimeFunction.java   |    9 +-
 .../expression/function/DecodeFunction.java        |    8 +-
 .../DelegateConstantToCountAggregateFunction.java  |    6 +-
 .../function/DistinctCountAggregateFunction.java   |    9 +-
 .../function/DistinctValueAggregateFunction.java   |    8 +-
 .../expression/function/EncodeFunction.java        |   10 +-
 .../function/ExternalSqlTypeIdFunction.java        |   11 +-
 .../function/FirstLastValueBaseFunction.java       |    2 +-
 .../expression/function/FirstValueFunction.java    |    4 +-
 .../expression/function/FloorDateExpression.java   |   12 +-
 .../function/FloorDecimalExpression.java           |   20 +-
 .../phoenix/expression/function/FloorFunction.java |   12 +-
 .../function/IndexStateNameFunction.java           |    8 +-
 .../function/InlineArrayElemRefExpression.java     |    4 +-
 .../expression/function/InvertFunction.java        |    2 +-
 .../phoenix/expression/function/LTrimFunction.java |    7 +-
 .../expression/function/LastValueFunction.java     |    4 +-
 .../expression/function/LengthFunction.java        |   13 +-
 .../phoenix/expression/function/LowerFunction.java |    9 +-
 .../phoenix/expression/function/LpadFunction.java  |   17 +-
 .../phoenix/expression/function/MD5Function.java   |    5 +-
 .../expression/function/MaxAggregateFunction.java  |    2 +-
 .../expression/function/MinAggregateFunction.java  |    2 +-
 .../expression/function/NthValueFunction.java      |    7 +-
 .../function/PercentRankAggregateFunction.java     |    8 +-
 .../function/PercentileContAggregateFunction.java  |   12 +-
 .../function/PercentileDiscAggregateFunction.java  |   10 +-
 .../expression/function/PrefixFunction.java        |    2 +-
 .../phoenix/expression/function/RTrimFunction.java |    7 +-
 .../expression/function/RegexpReplaceFunction.java |   21 +-
 .../expression/function/RegexpSplitFunction.java   |   22 +-
 .../expression/function/RegexpSubstrFunction.java  |   16 +-
 .../expression/function/ReverseFunction.java       |    7 +-
 .../expression/function/RoundDateExpression.java   |   12 +-
 .../function/RoundDecimalExpression.java           |   32 +-
 .../phoenix/expression/function/RoundFunction.java |   12 +-
 .../function/RoundTimestampExpression.java         |   21 +-
 .../expression/function/SQLIndexTypeFunction.java  |    8 +-
 .../expression/function/SQLTableTypeFunction.java  |    8 +-
 .../expression/function/SQLViewTypeFunction.java   |    8 +-
 .../function/SingleAggregateFunction.java          |    2 +-
 .../expression/function/SqlTypeNameFunction.java   |    8 +-
 .../expression/function/StddevPopFunction.java     |    9 +-
 .../expression/function/StddevSampFunction.java    |    9 +-
 .../expression/function/SubstrFunction.java        |   16 +-
 .../expression/function/SumAggregateFunction.java  |   69 +-
 .../function/TimezoneOffsetFunction.java           |   16 +-
 .../expression/function/ToCharFunction.java        |   11 +-
 .../expression/function/ToDateFunction.java        |   12 +-
 .../expression/function/ToNumberFunction.java      |   13 +-
 .../phoenix/expression/function/TrimFunction.java  |    7 +-
 .../phoenix/expression/function/TruncFunction.java |   14 +-
 .../phoenix/expression/function/UpperFunction.java |    9 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |    2 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |    4 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |    4 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |    5 +-
 .../iterate/FilterAggregatingResultIterator.java   |    4 +-
 .../phoenix/iterate/FilterResultIterator.java      |    4 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   30 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |    5 +-
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |    2 +-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |    2 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   83 +-
 .../phoenix/jdbc/PhoenixResultSetMetaData.java     |    9 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |    9 +-
 .../org/apache/phoenix/parse/CastParseNode.java    |   13 +-
 .../org/apache/phoenix/parse/CeilParseNode.java    |   12 +-
 .../java/org/apache/phoenix/parse/ColumnDef.java   |   17 +-
 .../org/apache/phoenix/parse/FloorParseNode.java   |    8 +-
 .../apache/phoenix/parse/FunctionParseNode.java    |   43 +-
 .../org/apache/phoenix/parse/LiteralParseNode.java |    7 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |    2 +-
 .../org/apache/phoenix/parse/RoundParseNode.java   |   11 +-
 .../org/apache/phoenix/parse/ToCharParseNode.java  |    9 +-
 .../apache/phoenix/parse/ToNumberParseNode.java    |    8 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   27 +-
 .../schema/ArgumentTypeMismatchException.java      |   17 +
 .../org/apache/phoenix/schema/DelegateDatum.java   |    2 +
 .../org/apache/phoenix/schema/KeyValueSchema.java  |    3 +-
 .../phoenix/schema/LocalIndexDataColumnRef.java    |   17 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |   23 +-
 .../org/apache/phoenix/schema/PColumnImpl.java     |    1 +
 .../java/org/apache/phoenix/schema/PDataType.java  | 7452 --------------------
 .../org/apache/phoenix/schema/PDateColumn.java     |    5 +-
 .../java/org/apache/phoenix/schema/PDatum.java     |    1 +
 .../org/apache/phoenix/schema/PIndexState.java     |    5 +-
 .../org/apache/phoenix/schema/PIntegerColumn.java  |    4 +-
 .../org/apache/phoenix/schema/PLongColumn.java     |    4 +-
 .../org/apache/phoenix/schema/PStringColumn.java   |    7 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |    8 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    |    2 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |    3 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |   40 +-
 .../phoenix/schema/TypeMismatchException.java      |    1 +
 .../org/apache/phoenix/schema/ValueSchema.java     |    3 +-
 .../phoenix/schema/stats/StatisticsWriter.java     |   28 +-
 .../phoenix/schema/{ => types}/PArrayDataType.java |   60 +-
 .../org/apache/phoenix/schema/types/PBinary.java   |  189 +
 .../apache/phoenix/schema/types/PBinaryArray.java  |  108 +
 .../org/apache/phoenix/schema/types/PBoolean.java  |  140 +
 .../apache/phoenix/schema/types/PBooleanArray.java |  108 +
 .../org/apache/phoenix/schema/types/PChar.java     |  203 +
 .../apache/phoenix/schema/types/PCharArray.java    |  108 +
 .../org/apache/phoenix/schema/types/PDataType.java | 1178 ++++
 .../phoenix/schema/types/PDataTypeFactory.java     |  118 +
 .../org/apache/phoenix/schema/types/PDate.java     |  192 +
 .../apache/phoenix/schema/types/PDateArray.java    |  109 +
 .../org/apache/phoenix/schema/types/PDecimal.java  |  396 ++
 .../apache/phoenix/schema/types/PDecimalArray.java |  110 +
 .../org/apache/phoenix/schema/types/PDouble.java   |  311 +
 .../apache/phoenix/schema/types/PDoubleArray.java  |  108 +
 .../org/apache/phoenix/schema/types/PFloat.java    |  308 +
 .../apache/phoenix/schema/types/PFloatArray.java   |  109 +
 .../org/apache/phoenix/schema/types/PInteger.java  |  275 +
 .../apache/phoenix/schema/types/PIntegerArray.java |  109 +
 .../org/apache/phoenix/schema/types/PLong.java     |  331 +
 .../apache/phoenix/schema/types/PLongArray.java    |  109 +
 .../org/apache/phoenix/schema/types/PSmallint.java |  259 +
 .../phoenix/schema/types/PSmallintArray.java       |  109 +
 .../org/apache/phoenix/schema/types/PTime.java     |  137 +
 .../apache/phoenix/schema/types/PTimeArray.java    |  110 +
 .../apache/phoenix/schema/types/PTimestamp.java    |  209 +
 .../phoenix/schema/types/PTimestampArray.java      |  109 +
 .../org/apache/phoenix/schema/types/PTinyint.java  |  253 +
 .../apache/phoenix/schema/types/PTinyintArray.java |  109 +
 .../apache/phoenix/schema/types/PUnsignedDate.java |  164 +
 .../phoenix/schema/types/PUnsignedDateArray.java   |  110 +
 .../phoenix/schema/types/PUnsignedDouble.java      |  158 +
 .../phoenix/schema/types/PUnsignedDoubleArray.java |  112 +
 .../phoenix/schema/types/PUnsignedFloat.java       |  152 +
 .../phoenix/schema/types/PUnsignedFloatArray.java  |  109 +
 .../apache/phoenix/schema/types/PUnsignedInt.java  |  178 +
 .../phoenix/schema/types/PUnsignedIntArray.java    |  109 +
 .../apache/phoenix/schema/types/PUnsignedLong.java |  193 +
 .../phoenix/schema/types/PUnsignedLongArray.java   |  109 +
 .../phoenix/schema/types/PUnsignedSmallint.java    |  159 +
 .../schema/types/PUnsignedSmallintArray.java       |  110 +
 .../apache/phoenix/schema/types/PUnsignedTime.java |  115 +
 .../phoenix/schema/types/PUnsignedTimeArray.java   |  109 +
 .../phoenix/schema/types/PUnsignedTimestamp.java   |  151 +
 .../schema/types/PUnsignedTimestampArray.java      |  110 +
 .../phoenix/schema/types/PUnsignedTinyint.java     |  155 +
 .../schema/types/PUnsignedTinyintArray.java        |  110 +
 .../apache/phoenix/schema/types/PVarbinary.java    |  171 +
 .../phoenix/schema/types/PVarbinaryArray.java      |  109 +
 .../org/apache/phoenix/schema/types/PVarchar.java  |  165 +
 .../apache/phoenix/schema/types/PVarcharArray.java |  109 +
 .../phoenix/schema/{ => types}/PhoenixArray.java   |  303 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |    2 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |    2 +-
 .../java/org/apache/phoenix/util/ColumnInfo.java   |    2 +-
 .../org/apache/phoenix/util/ExpressionUtil.java    |    2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   12 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   15 +-
 .../java/org/apache/phoenix/util/NumberUtil.java   |    2 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |    4 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |    6 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |    8 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |   11 +-
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |    2 +-
 .../phoenix/util/csv/StringToArrayConverter.java   |    2 +-
 .../arithmetic/ArithmeticOperationTest.java        |  114 +-
 .../apache/phoenix/compile/LimitCompilerTest.java  |   14 +-
 .../phoenix/compile/ScanRangesIntersectTest.java   |   11 +-
 .../org/apache/phoenix/compile/ScanRangesTest.java |  286 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |   62 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  312 +-
 .../phoenix/expression/CoerceExpressionTest.java   |   25 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   18 +-
 .../expression/RoundFloorCeilExpressionsTest.java  |  243 +-
 .../expression/SortOrderExpressionTest.java        |  105 +-
 .../function/ExternalSqlTypeIdFunctionTest.java    |   11 +-
 .../filter/SkipScanFilterIntersectTest.java        |  342 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  |  114 +-
 .../iterate/AggregateResultScannerTest.java        |   16 +-
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |    4 +-
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java |   16 +-
 .../util/ColumnInfoToStringEncoderDecoderTest.java |    9 +-
 .../phoenix/parse/BuiltInFunctionInfoTest.java     |   21 +-
 .../apache/phoenix/query/ConnectionlessTest.java   |   20 +-
 .../apache/phoenix/query/KeyRangeCoalesceTest.java |   59 +-
 .../phoenix/query/KeyRangeIntersectTest.java       |   31 +-
 .../apache/phoenix/query/KeyRangeUnionTest.java    |   33 +-
 .../phoenix/query/ParallelIteratorsSplitTest.java  |   13 +-
 .../phoenix/schema/PDataTypeForArraysTest.java     |  500 +-
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 1678 -----
 .../apache/phoenix/schema/RowKeySchemaTest.java    |    1 +
 .../phoenix/schema/RowKeyValueAccessorTest.java    |    1 +
 .../org/apache/phoenix/schema/SortOrderTest.java   |   23 +-
 .../org/apache/phoenix/schema/ValueBitSetTest.java |    1 +
 .../apache/phoenix/schema/types/PDataTypeTest.java | 1710 +++++
 .../java/org/apache/phoenix/util/ByteUtilTest.java |    8 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |    2 +-
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  138 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |    2 +-
 .../phoenix/util/csv/CsvUpsertExecutorTest.java    |   13 +-
 .../util/csv/StringToArrayConverterTest.java       |    7 +-
 .../flume/serializer/RegexEventSerializer.java     |    2 +-
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |    2 +-
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |  137 +-
 .../phoenix/pig/writable/PhoenixPigDBWritable.java |    2 +-
 317 files changed, 13738 insertions(+), 11639 deletions(-)

commit a8d9eec603d9868d147b3c2f54fc312dc8d65e15
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Dec 17 10:12:55 2014 -0800

    PHOENIX-1532 Phoenix tarball assembly does not include server jar

 phoenix-assembly/src/build/components/all-common-jars.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0020970125185dfaafab9611d85c342a56304636
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Dec 4 13:53:52 2014 -0800

    PHOENIX-1503 - Compilation on Mac OS fails on maven-assembly-plugin

 phoenix-assembly/pom.xml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b942caf5fa8b1ac099ad292302c0d1de5b1c60f7
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Dec 4 11:37:04 2014 -0800

    PHOENIX-1468 Add org.iq80.snappy to client and server assemblies

 phoenix-assembly/src/build/server-without-antlr.xml | 1 +
 1 file changed, 1 insertion(+)

commit 8f289e638d7426ac8905194f2f01351085c2e560
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 16 19:21:25 2014 -0800

    PHOENIX-1537 Set reuseForks to false for integration tests

 .../apache/phoenix/end2end/AggregateQueryIT.java   |  238 ++++
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   10 +-
 .../apache/phoenix/end2end/PointInTimeQueryIT.java |  179 +++
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  350 -----
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |   90 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  | 1193 +++++++++++++++--
 .../apache/phoenix/end2end/index/DropViewIT.java   |    2 +-
 ...{BaseIndexIT.java => GlobalMutableIndexIT.java} |   12 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  315 ++---
 .../phoenix/end2end/index/LocalMutableIndexIT.java |   26 +
 .../phoenix/end2end/index/MutableIndexIT.java      | 1344 --------------------
 .../phoenix/end2end/index/SaltedIndexIT.java       |   47 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   17 +-
 .../hbase/index/write/IndexWriterUtils.java        |    1 -
 .../java/org/apache/phoenix/query/BaseTest.java    |   99 ++
 .../java/org/apache/phoenix/util/TestUtil.java     |    6 +
 pom.xml                                            |    6 +-
 17 files changed, 1948 insertions(+), 1987 deletions(-)

commit cc479e57b05a5dec515d1dbf280b5f5cb3d6c81e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 16 16:16:40 2014 -0800

    PHOENIX-1362 Min/max aggregate query on CHAR and BINARY types always return null (Dave Hacker)

 .../phoenix/end2end/MinMaxAggregateFunctionIT.java | 86 ++++++++++++++++++++++
 .../expression/function/MaxAggregateFunction.java  | 15 ++--
 .../expression/function/MinAggregateFunction.java  | 14 ++--
 3 files changed, 105 insertions(+), 10 deletions(-)

commit 62b12d99d44f52e539aeb291e84102be99b6e5cf
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Dec 16 12:45:41 2014 -0500

    PHOENIX-1533 Last key part not taken into child/parent optimization

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 66 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  6 +-
 2 files changed, 71 insertions(+), 1 deletion(-)

commit 876041b395595fa2b0e7b8f1a9a75929d2f168f7
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sun Dec 14 10:34:30 2014 -0800

    PHOENIX-1470 amendment; fix test

 .../it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cab90469f16f3d20c7a28c10c9811bd12b332a7a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Sat Dec 13 21:19:01 2014 -0800

    PHOENIX-1470 KEEP_DELETED_CELLS interface changed in HBase 0.98.8 (Jesse Yates)

 .../org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java    | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 0092c6f9d57a21ca1b218e85725ddc78c7c477e3
Author: Andrew Purtell <apurtell@apache.org>
Date:   Sat Dec 13 10:42:45 2014 -0800

    Revert "PHOENIX-1470 KEEP_DELETED_CELLS interface changed in HBase 0.98.8 (Jesse Yates)"
    
    This reverts commit 9437c044624e41d7e4a72b611cd81749d8d96f02.

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   11 +-
 .../end2end/QueryDatabaseMetaDataIT.java.orig      | 1120 --------------------
 2 files changed, 4 insertions(+), 1127 deletions(-)

commit 776a93912cff95c3bfca839cd9053e5ef1ef1bae
Author: Andrew Purtell <apurtell@apache.org>
Date:   Sat Dec 13 10:42:43 2014 -0800

    Revert "Amend PHOENIX-1470 KEEP_DELETED_CELLS interface changed in HBase 0.98.8 (Jesse Yates)"
    
    This reverts commit 06bf205ac1c9d4c222652173b58a9429a83630bf.

 .../end2end/QueryDatabaseMetaDataIT.java.orig      | 1120 ++++++++++++++++++++
 1 file changed, 1120 insertions(+)

commit 2f100af20c51b2f4810c4bb1103cd1cba48732a9
Author: Andrew Purtell <apurtell@apache.org>
Date:   Sat Dec 13 10:42:40 2014 -0800

    Revert "PHOENIX-1524 Bump default HBase version to 0.98.8 after PHOENIX-1470"
    
    This reverts commit 5e2c182aad7f1a8ed9d3c5a29240b61b399342d7.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e2c182aad7f1a8ed9d3c5a29240b61b399342d7
Author: Andrew Purtell <apurtell@apache.org>
Date:   Fri Dec 12 17:21:18 2014 -0800

    PHOENIX-1524 Bump default HBase version to 0.98.8 after PHOENIX-1470

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06bf205ac1c9d4c222652173b58a9429a83630bf
Author: Andrew Purtell <apurtell@apache.org>
Date:   Fri Dec 12 17:10:27 2014 -0800

    Amend PHOENIX-1470 KEEP_DELETED_CELLS interface changed in HBase 0.98.8 (Jesse Yates)
    
    Drop an unintended file addition.

 .../end2end/QueryDatabaseMetaDataIT.java.orig      | 1120 --------------------
 1 file changed, 1120 deletions(-)

commit 9437c044624e41d7e4a72b611cd81749d8d96f02
Author: Andrew Purtell <apurtell@apache.org>
Date:   Fri Dec 12 16:33:15 2014 -0800

    PHOENIX-1470 KEEP_DELETED_CELLS interface changed in HBase 0.98.8 (Jesse Yates)

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   11 +-
 .../end2end/QueryDatabaseMetaDataIT.java.orig      | 1120 ++++++++++++++++++++
 2 files changed, 1127 insertions(+), 4 deletions(-)

commit 95df538a5aa2a5ef7bc6862429f456c330a39e55
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Dec 12 11:32:11 2014 -0500

    PHOENIX-1300 Allow sub-queries to choose different execution path other than hash-join

 .../end2end/SubqueryUsingSortMergeJoinIT.java      | 903 +++++++++++++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  |   2 +-
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  12 +-
 3 files changed, 914 insertions(+), 3 deletions(-)

commit b093fcfb3dd5ddf8976f02870e5fdbe993baa853
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Dec 10 17:37:34 2014 -0500

    PHOENIX-1393 Add test cases for sub-queries in UPSERT and DELETE statement

 .../org/apache/phoenix/end2end/SubqueryIT.java     | 30 ++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 5722a4d31318cb04473fed8bf72c5202b33d1e0d
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Mon Dec 8 18:30:08 2014 -0800

    PHOENIX-1498: Turn KEEP_DELETED_CELLS off by default

 .../it/java/org/apache/phoenix/end2end/BaseQueryIT.java   |  7 +++++++
 .../src/it/java/org/apache/phoenix/end2end/GroupByIT.java | 15 +++++++++++++++
 .../apache/phoenix/end2end/QueryDatabaseMetaDataIT.java   | 12 ++++++++++++
 .../src/it/java/org/apache/phoenix/end2end/QueryIT.java   | 13 +++++++++++++
 .../org/apache/phoenix/coprocessor/MetaDataProtocol.java  |  2 ++
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java |  5 ++++-
 .../java/org/apache/phoenix/query/QueryConstants.java     |  9 ++++++---
 .../main/java/org/apache/phoenix/query/QueryServices.java |  1 +
 .../org/apache/phoenix/query/QueryServicesOptions.java    |  1 +
 9 files changed, 61 insertions(+), 4 deletions(-)

commit f84e5da33c21a728e73924c07506dd63e4621872
Author: ravimagham <ravimagham@apache.org>
Date:   Mon Dec 8 18:06:38 2014 -0800

    PHOENIX-1454 - Map Reduce over Phoenix tables

 .../phoenix/mapreduce/PhoenixInputFormat.java      | 117 +++++++
 .../phoenix/mapreduce}/PhoenixInputSplit.java      |  15 +-
 .../phoenix/mapreduce/PhoenixOutputCommitter.java  |  54 ++++
 .../phoenix/mapreduce/PhoenixOutputFormat.java     |  62 ++++
 .../phoenix/mapreduce}/PhoenixRecordReader.java    |  52 ++--
 .../phoenix/mapreduce/PhoenixRecordWriter.java     |  91 ++++++
 .../util/ColumnInfoToStringEncoderDecoder.java     |  26 +-
 .../phoenix/mapreduce/util/ConnectionUtil.java     |  49 +++
 .../mapreduce/util/PhoenixConfigurationUtil.java   | 299 ++++++++++++++++++
 .../mapreduce/util/PhoenixMapReduceUtil.java       |  99 ++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   6 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  22 +-
 .../util/ColumnInfoToStringEncoderDecoderTest.java |   4 +-
 .../util/PhoenixConfigurationUtilTest.java         |  87 +++---
 .../org/apache/phoenix/util/QueryUtilTest.java     |   2 +-
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |  45 +--
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    | 218 ++++++-------
 .../phoenix/pig/PhoenixPigConfiguration.java       | 340 ---------------------
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     | 142 ---------
 .../phoenix/pig/hadoop/PhoenixOutputCommitter.java | 111 -------
 .../phoenix/pig/hadoop/PhoenixOutputFormat.java    |  94 ------
 .../phoenix/pig/hadoop/PhoenixRecordWriter.java    |  83 -----
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |  27 +-
 .../pig/util/QuerySchemaParserFunction.java        |  21 +-
 .../pig/util/SqlQueryToColumnInfoFunction.java     |  51 ++--
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |   4 +-
 .../PhoenixPigDBWritable.java}                     | 113 +++----
 .../phoenix/pig/PhoenixPigConfigurationTest.java   |  86 ------
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java |  17 +-
 .../pig/util/QuerySchemaParserFunctionTest.java    |  22 +-
 .../pig/util/SqlQueryToColumnInfoFunctionTest.java |  22 +-
 31 files changed, 1157 insertions(+), 1224 deletions(-)

commit ceded2266166c935414d83bbe9c6fdefa5272893
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Dec 3 17:31:17 2014 -0800

    PHOENIX-1500 Disallow mutations and queries using using PhoenixPreparedStatement.executeQuery() and executeUpdate() respectively (Samarth Jain)

 .../apache/phoenix/exception/SQLExceptionCode.java | 14 ++++-----
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  8 +++++
 .../schema/ExecuteQueryNotApplicableException.java |  7 ++++-
 .../ExecuteUpdateNotApplicableException.java       |  7 ++++-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  2 +-
 .../phoenix/jdbc/PhoenixPreparedStatementTest.java | 34 ++++++++++++++++++++--
 6 files changed, 59 insertions(+), 13 deletions(-)

commit f47e1700d073485dce957c68c4cbb0c8d5c1e12f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Dec 3 11:13:06 2014 -0800

    PHOENIX-1484 Index creation failed due to specifying
     DEFAULT_COLUMN_FAMILY option (Rajeshbabu, James Taylor)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 19 ++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 68 ++++++++++++++++------
 .../apache/phoenix/compile/QueryCompilerTest.java  | 20 +++++++
 3 files changed, 90 insertions(+), 17 deletions(-)

commit 6849760296465e1a87bd4d5d533661ec1fd1e0bc
Author: Gabriel Reid <greid@apache.org>
Date:   Tue Dec 2 22:58:51 2014 +0100

    PHOENIX-1485 Correct arg count in FunctionParseNode
    
    Correct the counting of required parameters for a function.

 .../apache/phoenix/parse/FunctionParseNode.java    |  48 ++++----
 .../phoenix/parse/BuiltInFunctionInfoTest.java     | 121 +++++++++++++++++++++
 2 files changed, 145 insertions(+), 24 deletions(-)

commit 7121896e3ad138b9b76a7a49231b4487d2ce518e
Author: Gabriel Reid <greid@apache.org>
Date:   Tue Dec 2 19:25:41 2014 +0100

    PHOENIX-1485 Add timezone awareness
    
    * Add tz-aware methods to DateUtil
    * Add timezone parameter to TO_DATE
    * Add a configuration parameter to allow specifying the time zone
      to be used internally on a connection when parsing dates.

 .../apache/phoenix/end2end/ToDateFunctionIT.java   | 117 +++++++++++++++++++++
 .../apache/phoenix/compile/StatementContext.java   |  44 ++++----
 .../expression/function/ToDateFunction.java        |  16 +--
 .../org/apache/phoenix/parse/ToDateParseNode.java  |  15 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 .../java/org/apache/phoenix/util/DateUtil.java     |  37 +++++--
 .../expression/SortOrderExpressionTest.java        |   3 +-
 .../java/org/apache/phoenix/util/DateUtilTest.java |  78 +++++++++++++-
 9 files changed, 268 insertions(+), 46 deletions(-)

commit d6ba63570975a276c2ba09fb7f99fdce096bd7b9
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Dec 2 10:03:01 2014 -0800

    PHOENIX-1496 Further reduce work in StatsCollector.

 .../UngroupedAggregateRegionObserver.java          |  4 ++-
 .../phoenix/schema/stats/StatisticsCollector.java  | 38 +++++++++++++++-------
 .../phoenix/schema/stats/StatisticsScanner.java    |  1 -
 3 files changed, 30 insertions(+), 13 deletions(-)

commit 766eec2b502410387e90a598649e88064e8c84d8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Dec 2 09:22:47 2014 -0800

    PHOENIX-1480 Incorrect query results may occur when VIEW uses indexes from physical table
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/compile/WhereCompiler.java
            phoenix-core/src/main/java/org/apache/phoenix/schema/ColumnRef.java
            phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 37 +++++++++++++++++
 .../end2end/index/DropIndexDuringUpsertIT.java     |  2 +
 .../phoenix/compile/CreateTableCompiler.java       | 13 +-----
 .../org/apache/phoenix/compile/FromCompiler.java   | 14 ++++++-
 .../phoenix/compile/IndexStatementRewriter.java    |  1 +
 .../apache/phoenix/compile/StatementContext.java   |  4 ++
 .../org/apache/phoenix/compile/WhereCompiler.java  |  5 +++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  2 +-
 .../java/org/apache/phoenix/schema/ColumnRef.java  | 30 ++------------
 .../org/apache/phoenix/schema/MetaDataClient.java  | 47 +++++++++++++++++++---
 .../java/org/apache/phoenix/schema/PTableImpl.java | 10 +++--
 .../java/org/apache/phoenix/schema/TableRef.java   | 33 ++++++++++++++-
 .../java/org/apache/phoenix/util/IndexUtil.java    | 40 ++++++++++++++++++
 .../java/org/apache/phoenix/util/QueryUtil.java    | 14 +++++++
 .../apache/phoenix/compile/QueryOptimizerTest.java | 38 ++++++++++++++++-
 15 files changed, 239 insertions(+), 51 deletions(-)

commit a180860250058c8f0fd3afa9807530ccddaaeb32
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Dec 1 21:54:57 2014 -0800

    Revert "PHOENIX-1496 Further reduce work in StatsCollector."
    
    This reverts commit 3fa1ddccf782e8b708c3d1f13d7046fd8b511dce.

 .../UngroupedAggregateRegionObserver.java          |  4 +--
 .../phoenix/schema/stats/StatisticsCollector.java  | 36 ++++++----------------
 2 files changed, 10 insertions(+), 30 deletions(-)

commit 3fa1ddccf782e8b708c3d1f13d7046fd8b511dce
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Dec 1 20:44:01 2014 -0800

    PHOENIX-1496 Further reduce work in StatsCollector.

 .../UngroupedAggregateRegionObserver.java          |  4 ++-
 .../phoenix/schema/stats/StatisticsCollector.java  | 36 ++++++++++++++++------
 2 files changed, 30 insertions(+), 10 deletions(-)

commit edf5ec27c1d697fb0153843e95c7652bef4774da
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 26 23:24:28 2014 -0800

    PHOENIX-1486 Fix SpooledTmpFileDeleteIT by having it use a different directory for spooling files (Samarth Jain)

 .../apache/phoenix/end2end/SpooledTmpFileDeleteIT.java | 18 +++++++++++++++---
 1 file changed, 15 insertions(+), 3 deletions(-)

commit aa7835dd90354d71450cd5f0e47f01c3cacecd62
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Nov 20 16:13:45 2014 +0100

    PHOENIX-1472 Fix salt bucket for Integer.MIN_VALUE
    
    Calculate the correct salt bucket when the hash code of a row
    key's contents is equal to Integer.MIN_VALUE.

 .../org/apache/phoenix/schema/SaltingUtil.java     |  5 +-
 .../org/apache/phoenix/schema/SaltingUtilTest.java | 55 ++++++++++++++++++++++
 2 files changed, 57 insertions(+), 3 deletions(-)

commit ba0409f2bed2098d12261998cfe1b70d9f3abb35
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Nov 26 13:02:40 2014 -0500

    PHOENIX-1431 DELETE using Subqueries

 .../org/apache/phoenix/end2end/SubqueryIT.java     | 39 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java |  8 ++++-
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 192ebafe615698967ac297d32e1d6743b0ad3823
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 25 22:04:11 2014 -0800

    PHOENIX-1408 Don't disable table before modifying HTable metadata

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c4d945e1978f1638db8796ff11ab3a87cd85b1f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 25 18:49:52 2014 -0800

    PHOENIX-1473 Connecting with Phoenix client when Phoenix is not deployed on region server(s) takes down region server(s)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 43 ++++++++++++++++------
 1 file changed, 31 insertions(+), 12 deletions(-)

commit 152f98fe71d494e9a80cb619dfd7170a85dc5ffe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 25 17:34:45 2014 -0800

    PHOENIX-1408 Don't disable table before modifying HTable metadata (Samarth Jain)

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  19 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 190 ++++++++++++++++++---
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../apache/phoenix/query/QueryServicesOptions.java |  28 ++-
 4 files changed, 212 insertions(+), 28 deletions(-)

commit 88196ca9f850a45febec94f8ad5031e7ec4fd19c
Merge: 54b3ef98d e5033aec1
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Nov 25 17:57:49 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 54b3ef98dd7a375c31e65873f8fb7eafc39f82ee
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Nov 25 17:50:11 2014 -0500

    PHOENIX-1474 NPE when RVC between combined with key part comparison

 .../org/apache/phoenix/end2end/RowValueConstructorIT.java | 15 +++++++++++++++
 .../java/org/apache/phoenix/compile/WhereOptimizer.java   |  4 +++-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit e5033aec18849a305c06bdeb5dcf6eda9b369f49
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 25 13:43:55 2014 -0800

    PHOENIX-1467 Upgrade to 4.12 Junit and update tests by removing @Category annotation (Samarth Jain)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  3 ++
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  3 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  2 --
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  3 +-
 .../end2end/BaseOwnClusterClientManagedTimeIT.java |  3 +-
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  |  3 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  2 --
 .../end2end/BaseTenantSpecificTablesIT.java        |  3 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  1 +
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  3 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |  3 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  3 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 --
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 --
 .../end2end/ClientTimeArithmeticQueryIT.java       |  3 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  3 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |  4 +--
 .../phoenix/end2end/CompareDecimalToLongIT.java    |  3 +-
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  3 +-
 .../end2end/CountDistinctCompressionIT.java        |  3 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  3 +-
 .../apache/phoenix/end2end/CustomEntityDataIT.java |  3 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  3 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java |  3 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |  3 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  4 +--
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  4 +--
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  3 +-
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  3 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  3 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |  3 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      | 11 +++++--
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |  3 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  3 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |  4 +--
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  3 +-
 .../phoenix/end2end/LastValueFunctionIT.java       |  3 +-
 .../org/apache/phoenix/end2end/LpadFunctionIT.java |  3 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |  3 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  3 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  5 ++--
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  3 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  3 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  3 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  3 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  3 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       |  3 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  3 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |  3 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  3 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  3 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  3 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  3 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |  3 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  3 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |  3 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  3 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |  3 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  3 +-
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  |  3 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |  3 +-
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |  3 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  3 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |  3 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |  3 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  3 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |  3 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |  3 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |  3 +-
 .../phoenix/end2end/SpooledSortMergeJoinIT.java    |  3 +-
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java}   | 11 +++----
 .../apache/phoenix/end2end/StatementHintsIT.java   |  3 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  3 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  3 +-
 .../end2end/TenantSpecificViewIndexSaltedIT.java   |  3 +-
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 11 +++----
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  3 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |  3 +-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |  3 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  3 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  3 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  3 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  3 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  3 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  4 +--
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |  4 +--
 .../apache/phoenix/end2end/index/DropViewIT.java   |  5 ++--
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  4 +--
 .../phoenix/end2end/index/IndexMetadataIT.java     |  4 +--
 .../phoenix/end2end/index/IndexTestUtil.java       |  1 +
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 10 ++++---
 .../end2end/index/MutableIndexFailureIT.java       |  1 +
 .../phoenix/end2end/index/MutableIndexIT.java      |  4 +--
 .../end2end/index/MutableIndexReplicationIT.java   |  1 +
 .../phoenix/end2end/index/SaltedIndexIT.java       |  4 +--
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  4 +--
 .../phoenix/end2end/salted/SaltedTableIT.java      |  4 +--
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  4 +--
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  4 +--
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  1 +
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  1 +
 .../covered/example/EndToEndCoveredIndexingIT.java |  1 +
 .../example/EndtoEndIndexingWithCompressionIT.java |  4 +--
 .../covered/example/FailWithoutRetriesIT.java      |  2 ++
 .../apache/phoenix/trace/BaseTracingTestIT.java    |  4 +--
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java | 25 +++++++++-------
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 35 ++++++++++++----------
 .../hbase/index/write/TestWALRecoveryCaching.java  |  4 +--
 .../iterate/AggregateResultScannerTest.java        |  3 --
 .../phoenix/trace/TraceMetricsSourceTest.java      |  5 ++--
 .../org/apache/phoenix/util/QueryUtilTest.java     |  3 --
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  4 +--
 .../phoenix/flume/RegexEventSerializerIT.java      |  4 +--
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  6 ++--
 .../phoenix/pig/PhoenixPigConfigurationIT.java     |  4 +--
 pom.xml                                            | 12 ++++----
 131 files changed, 191 insertions(+), 306 deletions(-)

commit 83b5bb4fa4b41510510e5be45142670ed01ec71b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 25 13:42:15 2014 -0800

    Revert "Upgrade to 4.12 Junit and update tests by removing @Category (Samarth Jain)"
    
    This reverts commit 0398178617cb2aeac3661510395635b9d00f814d.

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  3 -
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  3 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  2 +
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  3 +-
 .../end2end/BaseOwnClusterClientManagedTimeIT.java |  3 +-
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  |  3 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  2 +
 .../end2end/BaseTenantSpecificTablesIT.java        |  3 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  1 -
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  3 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |  3 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  3 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 +
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 +
 .../end2end/ClientTimeArithmeticQueryIT.java       |  3 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  3 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |  4 +-
 .../phoenix/end2end/CompareDecimalToLongIT.java    |  3 +-
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  3 +-
 .../end2end/CountDistinctCompressionIT.java        |  3 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  3 +-
 .../apache/phoenix/end2end/CustomEntityDataIT.java |  3 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  3 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java |  3 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |  3 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  4 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  4 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  3 +-
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  3 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  3 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |  3 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      | 11 +---
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |  3 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  3 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |  4 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  3 +-
 .../phoenix/end2end/LastValueFunctionIT.java       |  3 +-
 .../org/apache/phoenix/end2end/LpadFunctionIT.java |  3 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |  3 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  3 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  5 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  3 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  3 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  3 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  3 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  3 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       |  3 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  3 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |  3 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  3 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  3 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  3 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  3 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |  3 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  3 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |  3 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  3 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |  3 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  3 +-
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  |  3 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |  3 +-
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |  3 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  3 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |  3 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |  3 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  3 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |  3 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |  3 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |  3 +-
 .../phoenix/end2end/SpooledSortMergeJoinIT.java    |  3 +-
 .../apache/phoenix/end2end/StatementHintsIT.java   |  3 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  3 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  3 +-
 .../end2end/TenantSpecificViewIndexSaltedIT.java   |  3 +-
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 11 ++--
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  3 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |  3 +-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |  3 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  3 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  3 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  3 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  3 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  3 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  4 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |  4 +-
 .../apache/phoenix/end2end/index/DropViewIT.java   |  5 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  4 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     |  4 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |  1 -
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 10 ++--
 .../end2end/index/MutableIndexFailureIT.java       |  1 -
 .../phoenix/end2end/index/MutableIndexIT.java      |  4 +-
 .../end2end/index/MutableIndexReplicationIT.java   |  1 -
 .../phoenix/end2end/index/SaltedIndexIT.java       |  4 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  4 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |  4 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  4 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  4 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  5 +-
 .../hbase/index/balancer/IndexLoadBalancerIT.java  |  4 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  5 +-
 .../covered/example/EndToEndCoveredIndexingIT.java |  5 +-
 .../example/EndtoEndIndexingWithCompressionIT.java |  4 +-
 .../covered/example/FailWithoutRetriesIT.java      |  6 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  4 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |  4 +-
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java | 25 ++++----
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 35 ++++++-----
 .../apache/phoenix/cache/aggcache/SpillFile.java   | 12 ++--
 .../phoenix/compile/CreateIndexCompiler.java       |  1 +
 .../phoenix/compile/CreateSequenceCompiler.java    |  4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 67 +++++++++++-----------
 .../phoenix/coprocessor/BaseRegionScanner.java     |  1 +
 .../coprocessor/MetaDataRegionObserver.java        | 11 ++--
 .../coprocessor/SequenceRegionObserver.java        |  5 ++
 .../UngroupedAggregateRegionObserver.java          |  2 +
 .../phoenix/expression/ModulusExpression.java      |  4 ++
 .../expression/function/SubstrFunction.java        |  1 +
 .../phoenix/filter/ColumnProjectionFilter.java     |  1 +
 .../hbase/index/covered/data/LocalTable.java       |  2 +
 .../covered/example/CoveredColumnIndexer.java      |  3 +-
 .../index/table/CoprocessorHTableFactory.java      |  2 +
 .../phoenix/hbase/index/wal/KeyValueCodec.java     |  1 +
 .../index/write/KillServerOnFailurePolicy.java     |  5 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  2 +
 .../org/apache/phoenix/schema/DelegateColumn.java  |  4 ++
 .../apache/phoenix/trace/PhoenixMetricsSink.java   | 36 +++++-------
 .../hbase/index/write/TestWALRecoveryCaching.java  |  4 +-
 .../iterate/AggregateResultScannerTest.java        |  3 +
 .../phoenix/iterate/SpooledTmpFileDeleteTest.java} | 11 ++--
 .../phoenix/trace/TraceMetricsSourceTest.java      |  5 +-
 .../org/apache/phoenix/util/QueryUtilTest.java     |  3 +
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  4 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  6 +-
 .../phoenix/pig/PhoenixPigConfigurationIT.java     |  4 +-
 pom.xml                                            | 12 ++--
 153 files changed, 422 insertions(+), 267 deletions(-)

commit 0398178617cb2aeac3661510395635b9d00f814d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 24 22:41:49 2014 -0800

    Upgrade to 4.12 Junit and update tests by removing @Category (Samarth Jain)

 ...WALReplayWithIndexWritesAndCompressedWALIT.java |  3 +
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  3 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  2 -
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |  3 +-
 .../end2end/BaseOwnClusterClientManagedTimeIT.java |  3 +-
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  |  3 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  2 -
 .../end2end/BaseTenantSpecificTablesIT.java        |  3 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  1 +
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  3 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |  3 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  3 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |  2 -
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  2 -
 .../end2end/ClientTimeArithmeticQueryIT.java       |  3 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |  3 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |  4 +-
 .../phoenix/end2end/CompareDecimalToLongIT.java    |  3 +-
 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |  3 +-
 .../end2end/CountDistinctCompressionIT.java        |  3 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  3 +-
 .../apache/phoenix/end2end/CustomEntityDataIT.java |  3 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  3 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java |  3 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |  3 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  4 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  4 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  3 +-
 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  3 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |  3 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |  3 +-
 .../phoenix/end2end/FirstValueFunctionIT.java      | 11 +++-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |  3 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  3 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/InListIT.java  |  4 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  3 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  3 +-
 .../phoenix/end2end/LastValueFunctionIT.java       |  3 +-
 .../org/apache/phoenix/end2end/LpadFunctionIT.java |  3 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |  3 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  3 +-
 .../phoenix/end2end/ModulusExpressionIT.java       |  5 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  3 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  3 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  3 +-
 .../apache/phoenix/end2end/NthValueFunctionIT.java |  3 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |  3 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       |  3 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  3 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |  3 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  3 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |  3 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  3 +-
 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  3 +-
 .../apache/phoenix/end2end/QueryWithLimitIT.java   |  3 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |  3 +-
 .../org/apache/phoenix/end2end/ReadOnlyIT.java     |  3 +-
 .../phoenix/end2end/RegexpSplitFunctionIT.java     |  3 +-
 .../phoenix/end2end/RegexpSubstrFunctionIT.java    |  3 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |  3 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  3 +-
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  |  3 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |  3 +-
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |  3 +-
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  3 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |  3 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |  3 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |  3 +-
 .../apache/phoenix/end2end/SortMergeJoinIT.java    |  3 +-
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |  3 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |  3 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |  3 +-
 .../phoenix/end2end/SpooledSortMergeJoinIT.java    |  3 +-
 .../phoenix/end2end/SpooledTmpFileDeleteIT.java}   | 11 ++--
 .../apache/phoenix/end2end/StatementHintsIT.java   |  3 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  3 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  3 +-
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  3 +-
 .../end2end/TenantSpecificViewIndexSaltedIT.java   |  3 +-
 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 11 ++--
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  3 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |  3 +-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |  3 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |  3 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |  3 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  3 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  3 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  3 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  3 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |  4 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |  4 +-
 .../apache/phoenix/end2end/index/DropViewIT.java   |  5 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  4 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     |  4 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |  1 +
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 10 ++--
 .../end2end/index/MutableIndexFailureIT.java       |  1 +
 .../phoenix/end2end/index/MutableIndexIT.java      |  4 +-
 .../end2end/index/MutableIndexReplicationIT.java   |  1 +
 .../phoenix/end2end/index/SaltedIndexIT.java       |  4 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  4 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |  4 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  4 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  4 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  5 +-
 .../hbase/index/balancer/IndexLoadBalancerIT.java  |  4 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  5 +-
 .../covered/example/EndToEndCoveredIndexingIT.java |  5 +-
 .../example/EndtoEndIndexingWithCompressionIT.java |  4 +-
 .../covered/example/FailWithoutRetriesIT.java      |  6 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  4 +-
 .../apache/phoenix/trace/BaseTracingTestIT.java    |  4 +-
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java | 25 ++++----
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 35 +++++------
 .../apache/phoenix/cache/aggcache/SpillFile.java   | 12 ++--
 .../phoenix/compile/CreateIndexCompiler.java       |  1 -
 .../phoenix/compile/CreateSequenceCompiler.java    |  4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 67 +++++++++++-----------
 .../phoenix/coprocessor/BaseRegionScanner.java     |  1 -
 .../coprocessor/MetaDataRegionObserver.java        | 11 ++--
 .../coprocessor/SequenceRegionObserver.java        |  5 --
 .../UngroupedAggregateRegionObserver.java          |  2 -
 .../phoenix/expression/ModulusExpression.java      |  4 --
 .../expression/function/SubstrFunction.java        |  1 -
 .../phoenix/filter/ColumnProjectionFilter.java     |  1 -
 .../hbase/index/covered/data/LocalTable.java       |  2 -
 .../covered/example/CoveredColumnIndexer.java      |  3 +-
 .../index/table/CoprocessorHTableFactory.java      |  2 -
 .../phoenix/hbase/index/wal/KeyValueCodec.java     |  1 -
 .../index/write/KillServerOnFailurePolicy.java     |  5 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  2 -
 .../org/apache/phoenix/schema/DelegateColumn.java  |  4 --
 .../apache/phoenix/trace/PhoenixMetricsSink.java   | 36 +++++++-----
 .../hbase/index/write/TestWALRecoveryCaching.java  |  4 +-
 .../iterate/AggregateResultScannerTest.java        |  3 -
 .../phoenix/trace/TraceMetricsSourceTest.java      |  5 +-
 .../org/apache/phoenix/util/QueryUtilTest.java     |  3 -
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  4 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  4 +-
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  6 +-
 .../phoenix/pig/PhoenixPigConfigurationIT.java     |  4 +-
 pom.xml                                            | 12 ++--
 153 files changed, 267 insertions(+), 422 deletions(-)

commit bff5ddae11ba2ac47804bc6db6afecd5f1bbe76a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Nov 24 21:26:28 2014 -0800

    PHOENIX-1346 the choice of index by phoneix is not correct where do querying

 .../apache/phoenix/optimize/QueryOptimizer.java    | 26 +++++++---------------
 1 file changed, 8 insertions(+), 18 deletions(-)

commit 3f457903840e431c4c785848bfbb4b2737856aff
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 21 21:09:37 2014 -0800

    PHOENIX-1476 Immediately open scanner for parallel queries

 .../main/java/org/apache/phoenix/iterate/SerialIterators.java    | 3 ++-
 .../java/org/apache/phoenix/iterate/TableResultIterator.java     | 9 +++++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 78a735e75ab0a6b6378cce598c9000204affae7f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 21 21:08:37 2014 -0800

    PHOENIX-1436 the choice of index by phoneix is not correct where do querying

 .../java/org/apache/phoenix/optimize/QueryOptimizer.java  |  3 ---
 .../org/apache/phoenix/compile/QueryOptimizerTest.java    | 15 +++++++++++++++
 2 files changed, 15 insertions(+), 3 deletions(-)

commit b39f44bd95c56e4e59bf2f189220772fd967c768
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 20 20:57:22 2014 -0800

    PHOENIX-1463 phoenix.query.timeoutMs doesn't work as expected (Samarth Jain)

 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../phoenix/iterate/BaseResultIterators.java       | 53 +++++++++++++++-------
 2 files changed, 38 insertions(+), 16 deletions(-)

commit 273e83c6e19097e0aa651e05c7d937bdc1dad0d6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 18 10:37:28 2014 -0800

    PHOENIX-1466 Prevent multiple scans when query run serially

 .../apache/phoenix/end2end/QueryWithLimitIT.java   | 119 +++++++++++++++++++++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  81 ++++++++------
 .../DistinctValueWithCountServerAggregator.java    |   5 -
 .../phoenix/iterate/ParallelIteratorFactory.java   |   7 ++
 .../apache/phoenix/iterate/SerialIterators.java    |   9 +-
 .../phoenix/iterate/TableResultIterator.java       |  42 +++++---
 6 files changed, 206 insertions(+), 57 deletions(-)

commit 46aa582165825d215ba7f94ee28b1b957885c11d
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Thu Nov 20 15:39:05 2014 -0800

    PHOENIX-1395: ResultSpooler spill files are left behind in /tmp folder (Alicia Ying Shu)

 .../phoenix/iterate/SpoolingResultIterator.java    |   3 +
 .../phoenix/iterate/SpooledTmpFileDeleteTest.java  | 127 +++++++++++++++++++++
 2 files changed, 130 insertions(+)

commit 2d5acb4e93edf8901952238c31fcf12892db8725
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Thu Nov 20 15:29:49 2014 -0800

    PHOENIX-1380: Potential null dereference in PerformanceLog#getFileOutputStream() (Alicia Ying Shu)

 .../org/apache/phoenix/logging/PerformanceLog.java | 117 ---------------------
 1 file changed, 117 deletions(-)

commit d448417d99d0ed93d285652b2bdb4c144de5bc56
Author: Andrew Purtell <apurtell@apache.org>
Date:   Wed Nov 19 13:35:17 2014 -0800

    PHOENIX-1468 Add org.iq80.snappy to client and server assemblies

 phoenix-assembly/src/build/client.xml |  1 +
 phoenix-assembly/src/build/server.xml |  1 +
 pom.xml                               | 18 ++++++++++++++++++
 3 files changed, 20 insertions(+)

commit 9fa513bea314df33a42822a6faad1afc129ef051
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Nov 19 11:57:41 2014 -0500

    PHOENIX-1456 Incorrect query results caused by reusing buffers in SpoolingResultIterator

 .../phoenix/end2end/SpooledSortMergeJoinIT.java    | 46 ++++++++++++++++++++++
 .../phoenix/iterate/SpoolingResultIterator.java    | 17 ++------
 2 files changed, 49 insertions(+), 14 deletions(-)

commit d1d580a39e2048d0ba814c48dac721603b4a7523
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Tue Nov 18 11:37:42 2014 +0530

    Phoenix-1462 - Create unit test for COUNT DISTINCT using compression (Ram)

 .../end2end/CountDistinctCompressionIT.java        | 71 ++++++++++++++++++++++
 1 file changed, 71 insertions(+)

commit 300edd0b523638461e1dd09f191d666136ec715e
Author: Andrew Purtell <apurtell@apache.org>
Date:   Mon Nov 17 18:05:33 2014 -0800

    PHOENIX-1455 Replace org.xerial.snappy with org.iq80.snappy pure Java snappy implementation

 phoenix-core/pom.xml                               |  6 +++---
 .../DistinctValueWithCountClientAggregator.java    | 17 ++++++++++-----
 .../DistinctValueWithCountServerAggregator.java    | 24 +++++++---------------
 .../org/apache/phoenix/join/HashCacheClient.java   |  3 ++-
 .../org/apache/phoenix/join/HashCacheFactory.java  | 15 +++++++++-----
 pom.xml                                            | 14 ++++++++++---
 6 files changed, 45 insertions(+), 34 deletions(-)

commit bc89c9a513323001622ee699b6e5dde6a843c795
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Nov 14 15:54:25 2014 -0500

    PHOENIX-1799 Support many-to-many joins

 .../java/org/apache/phoenix/iterate/MappedByteBufferSortedQueue.java     | 1 +
 1 file changed, 1 insertion(+)

commit eddc846d85f97f3cc2206aba27a8d544c4db3384
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Nov 14 15:29:43 2014 -0500

    PHOENIX-1799 Support many-to-many joins

 .../apache/phoenix/compile/GroupByCompiler.java    |   4 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 147 ++++----
 .../apache/phoenix/compile/OrderByCompiler.java    |  11 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  | 191 ++++++++---
 .../apache/phoenix/compile/SubselectRewriter.java  |  23 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   5 +
 .../org/apache/phoenix/compile/WhereCompiler.java  |   4 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  17 +-
 .../org/apache/phoenix/execute/TupleProjector.java |  59 ++--
 .../phoenix/iterate/FilterResultIterator.java      |   3 +-
 .../iterate/MappedByteBufferSortedQueue.java       | 370 +++++----------------
 .../java/org/apache/phoenix/parse/HintNode.java    |   6 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  11 +
 .../phoenix/parse/SelectStatementRewriter.java     |   2 +-
 .../org/apache/phoenix/schema/ValueBitSet.java     |  11 +-
 15 files changed, 406 insertions(+), 458 deletions(-)

commit a715a796e4962a452ff321ea2252643b06d9ce01
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Nov 14 15:27:40 2014 -0500

    PHOENIX-1799 Support many-to-many joins

 .../apache/phoenix/end2end/SortMergeJoinIT.java    | 2822 ++++++++++++++++++++
 .../apache/phoenix/execute/SortMergeJoinPlan.java  |  628 +++++
 .../phoenix/iterate/MappedByteBufferQueue.java     |  431 +++
 3 files changed, 3881 insertions(+)

commit 9b285dae032d1e61bb6a804b2357151d9d1905c5
Author: Radu Marias <radumarias@gmail.com>
Date:   Fri Nov 7 20:12:48 2014 +0200

    PHOENIX-1440 Support csv quoting in bulk loader
    
    Add support for quote and escape chars in map reduce bulk import.
    
    Original patch by Radu Marias, with very minor cleanup by
    Gabriel Reid.
    
    Signed-off-by: Gabriel Reid <greid@apache.org>

 .../phoenix/mapreduce/CsvBulkImportUtil.java       | 10 +++++--
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 31 ++++++++++++++++---
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     | 35 ++++++++++++++--------
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   | 15 +++++-----
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java | 30 +++++++++++++------
 5 files changed, 85 insertions(+), 36 deletions(-)

commit 22e27e5ed9b4f7cf0a5f217bc05360df79068b91
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 13 07:36:05 2014 -0800

    PHOENIX-1428 Queries with limit against tenant views is broken

 .../org/apache/phoenix/end2end/TenantSpecificTablesDMLIT.java    | 9 ++++++++-
 .../src/main/java/org/apache/phoenix/execute/ScanPlan.java       | 2 +-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 5363c989a0f5b9876d3153355664760f164776a4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 21:12:36 2014 -0800

    PHOENIX-1449 Fix potential NPE in delete

 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java      | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit f379fdf2fc5354baca1f5a61b6935339dded31ad
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 18:59:25 2014 -0800

    PHOENIX-1448 Fix resource leak when work rejected by thread executor

 .../phoenix/iterate/BaseResultIterators.java       | 22 ++++++++++++++--------
 .../apache/phoenix/iterate/ParallelIterators.java  |  6 ++++--
 .../apache/phoenix/iterate/SerialIterators.java    |  6 ++++--
 3 files changed, 22 insertions(+), 12 deletions(-)

commit 1a04513752bc0f26971c49b950d3c2c694281814
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 17:16:54 2014 -0800

    PHOENIX-1447 Increase guidepost width default to take into account FAST_DIFF compression

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit fbbb43bf799cb08fba3117766a989c28e21c03f9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 16:40:03 2014 -0800

    PHOENIX-1446 Add/fix logging for LIMIT optimization

 .../java/org/apache/phoenix/execute/ScanPlan.java  |  7 +++++
 .../phoenix/iterate/BaseResultIterators.java       | 33 +++++++++++++---------
 .../apache/phoenix/iterate/ParallelIterators.java  |  5 ++--
 .../apache/phoenix/iterate/SerialIterators.java    |  6 ++--
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 19 ++++++++++++-
 .../java/org/apache/phoenix/util/QueryUtil.java    | 19 +++++++++++--
 6 files changed, 65 insertions(+), 24 deletions(-)

commit 1e12e122cace349a94bfee0b998242b505de33b3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 13:55:29 2014 -0800

    PHOENIX-1427 Reduce work in StatsCollector

 .../phoenix/schema/stats/StatisticsCollector.java  | 66 +++++++---------------
 .../phoenix/schema/stats/StatisticsScanner.java    | 10 ++--
 .../phoenix/schema/stats/StatisticsUtil.java       | 11 ++--
 .../phoenix/schema/stats/StatisticsWriter.java     | 40 +++++--------
 4 files changed, 44 insertions(+), 83 deletions(-)

commit 9ee5d01ab17fe0f83b55e6991d1f954ced5f3f55
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 11:37:25 2014 -0800

    PHOENIX-1429 Cancel queued threads when limit reached

 .../phoenix/iterate/BaseResultIterators.java       | 65 ++++++++++++++++++----
 .../phoenix/iterate/ConcatResultIterator.java      | 38 +++++++++++--
 .../phoenix/iterate/LimitingResultIterator.java    |  1 +
 .../phoenix/iterate/MergeSortResultIterator.java   | 27 ++++++++-
 .../apache/phoenix/iterate/ResultIterators.java    |  3 +-
 .../phoenix/query/BaseQueryServicesImpl.java       |  6 +-
 .../phoenix/query/DelegateQueryServices.java       |  4 +-
 .../org/apache/phoenix/query/QueryServices.java    |  4 +-
 .../iterate/AggregateResultScannerTest.java        |  4 ++
 .../phoenix/iterate/ConcatResultIteratorTest.java  | 15 ++++-
 .../iterate/MergeSortResultIteratorTest.java       | 11 +++-
 11 files changed, 147 insertions(+), 31 deletions(-)

commit 1c1f18f28eee8d0603be39813ca1aad433f0dd5a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 10:02:20 2014 -0800

    PHOENIX-1432 Run limit query that has only leading PK column filter serially

 .../org/apache/phoenix/end2end/HashJoinIT.java     |   6 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  49 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  16 +-
 .../compile/MutatingParallelIteratorFactory.java   |   2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   4 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |   2 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  47 +-
 .../phoenix/iterate/BaseResultIterators.java       | 622 +++++++++++++++++++++
 .../phoenix/iterate/ChunkedResultIterator.java     |  10 +-
 .../phoenix/iterate/ConcatResultIterator.java      |  37 +-
 .../phoenix/iterate/DelegateResultIterator.java    |   4 +
 .../iterate/LimitingPeekingResultIterator.java     |  47 ++
 .../phoenix/iterate/ParallelIteratorFactory.java   |  27 +
 .../apache/phoenix/iterate/ParallelIterators.java  | 580 +------------------
 .../apache/phoenix/iterate/ResultIterators.java    |   7 +-
 .../apache/phoenix/iterate/SerialIterators.java    | 115 ++++
 .../phoenix/iterate/SpoolingResultIterator.java    |   1 -
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   1 +
 .../phoenix/schema/stats/StatisticsCollector.java  |  23 +-
 .../phoenix/schema/stats/StatisticsUtil.java       |  17 +
 .../phoenix/schema/stats/StatisticsWriter.java     |  30 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  24 +
 .../java/org/apache/phoenix/util/ServerUtil.java   |  34 +-
 .../iterate/AggregateResultScannerTest.java        |  11 +
 .../phoenix/iterate/ConcatResultIteratorTest.java  |  21 +-
 .../iterate/MergeSortResultIteratorTest.java       |  12 +-
 .../org/apache/phoenix/query/QueryPlanTest.java    |  51 ++
 .../phoenix/pig/hadoop/PhoenixRecordReader.java    |   2 +-
 31 files changed, 1145 insertions(+), 663 deletions(-)

commit b0c187195657be92bc63c13a9fc2e563ec962d97
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 12 09:06:11 2014 -0800

    PHOENIX-1434 Stats are not maintained correctly through splits (Mujtaba)

 .../org/apache/phoenix/schema/stats/StatisticsCollector.java |  4 ++--
 .../org/apache/phoenix/schema/stats/StatisticsScanner.java   |  4 ++--
 .../org/apache/phoenix/schema/stats/StatisticsWriter.java    | 12 ++++++------
 3 files changed, 10 insertions(+), 10 deletions(-)

commit c8883bcca2ca852bf2d6acba37159791875562b0
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Nov 12 11:47:40 2014 -0800

    PHOENIX-1442: Alter Index double normalize Index Table Name

 .../phoenix/end2end/index/IndexMetadataIT.java     | 33 ++++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  2 +-
 2 files changed, 34 insertions(+), 1 deletion(-)

commit ad525844fbbdb1fe1ca84938fc8eeff51ab49979
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 7 21:44:15 2014 -0800

    PHOENIX-1420 DatabaseMetaData.getschemas returns incorrect column order

 .../it/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataIT.java   | 4 ++--
 .../main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java    | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 45b781eb1afd79e279d5caca8924f4e462069f68
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 7 21:39:52 2014 -0800

    PHOENIX-1424 Drop cascade field should be optional

 .../coprocessor/generated/MetaDataProtos.java      | 32 ++++++++--------------
 phoenix-protocol/src/main/MetaDataService.proto    |  2 +-
 2 files changed, 13 insertions(+), 21 deletions(-)

commit 1cc3bfa8fd75129b9f28354ec2414300ba8550ec
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 7 10:16:03 2014 -0800

    Fix upgrade for system.sequence table

 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 117 +++++++++++++++++++--
 1 file changed, 110 insertions(+), 7 deletions(-)

commit 65d35c67556414bfb0f02e97c3ee387b4af8d524
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Fri Nov 7 16:29:54 2014 +0100

    PHOENIX-1407 Set scan caching based on fetch size
    
    Use the fetch size set on a Statement to set the caching setting
    on underlying scans. This patch also ensures that the default scan
    size is set to QueryServices.SCAN_CACHE_SIZE_ATTRIB (before it
    was not set at all).

 .../org/apache/phoenix/compile/QueryCompiler.java  | 65 +++++++++++-----------
 .../apache/phoenix/compile/WhereCompilerTest.java  | 55 +++++++++++++-----
 2 files changed, 73 insertions(+), 47 deletions(-)

commit e5f4a2ba74f077c96c124d7c164e39567924e8e0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Nov 7 08:40:43 2014 -0800

    PHOENIX-1405 Problem referencing lower-case column names with Phoenix / Pig / Spark (Robert Roland)

 .../src/main/java/org/apache/phoenix/util/PhoenixRuntime.java        | 5 ++---
 .../it/java/org/apache/phoenix/pig/PhoenixPigConfigurationIT.java    | 2 +-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit c8fbb8fb497bb629c1555a17074443e636e917f6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 22:59:31 2014 -0800

    PHOENIX-1419 Update eclipse preferences file with correct header information (Samarth Jain)

 dev/eclipse_prefs_phoenix.epf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a20d3dd75d999ff730990a8c4e7e663e48258c8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 19:42:19 2014 -0800

    PHOENIX-1418 Optionally display number of parallel chunks in explain plan

 .../it/java/org/apache/phoenix/end2end/StatsCollectorIT.java  | 11 ++++++++---
 .../java/org/apache/phoenix/iterate/ParallelIterators.java    |  6 +++++-
 .../src/main/java/org/apache/phoenix/query/QueryServices.java |  1 +
 .../java/org/apache/phoenix/query/QueryServicesOptions.java   |  7 +++++++
 .../java/org/apache/phoenix/query/QueryServicesTestImpl.java  |  2 ++
 5 files changed, 23 insertions(+), 4 deletions(-)

commit f39af64243115f99f125dca0986a2ab086f270c2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 19:22:08 2014 -0800

    PHOENIX-1394 getColumnDisplaySize() method returns incorrect value for varchar columns (Samarth Jain)

 .../phoenix/jdbc/PhoenixResultSetMetaData.java     | 18 ++++-----
 .../phoenix/jdbc/PhoenixResultSetMetadataTest.java | 45 ++++++++++++++++++++++
 2 files changed, 52 insertions(+), 11 deletions(-)

commit de7c4df1c43e5eb34630d75b30568642488fe43d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 18:24:54 2014 -0800

    PHOENIX-1413 Add Phoenix coprocessors with configurable priority

 .../EndToEndCoveredColumnsIndexBuilderIT.java      |  3 ++-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 10 +++++-----
 .../CoveredColumnIndexSpecifierBuilder.java        |  4 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 23 +++++++++++-----------
 .../org/apache/phoenix/query/QueryServices.java    |  2 ++
 .../apache/phoenix/query/QueryServicesOptions.java |  5 +++++
 6 files changed, 28 insertions(+), 19 deletions(-)

commit 429c69daea697df280b969f9745fd6351acb03c3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 17:57:57 2014 -0800

    PHOENIX-1416 Given a schema name, DatabaseMetadata.getTables and getColumns calls erroneously match tables without schema

 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   | 43 ++++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |  8 +++-
 .../apache/phoenix/expression/AndExpression.java   |  4 +-
 .../apache/phoenix/expression/AndOrExpression.java | 11 +----
 .../apache/phoenix/expression/OrExpression.java    |  4 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java | 47 ++++++++++++++++++++++
 6 files changed, 102 insertions(+), 15 deletions(-)

commit d42fffe019f757b00ff37c6d149e153f9bf97123
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Nov 6 14:29:52 2014 -0800

    PHOENIX-1402 Don't recalculate stats on split

 dev/eclipse_prefs_phoenix.epf                      |   4 -
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  98 +++++++++++++++++++
 .../UngroupedAggregateRegionObserver.java          |  43 ++++-----
 .../apache/phoenix/iterate/ParallelIterators.java  |   2 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       |   3 +
 .../phoenix/schema/stats/StatisticsCollector.java  | 104 ++++-----------------
 .../phoenix/schema/stats/StatisticsUtil.java       |  11 +++
 .../phoenix/schema/stats/StatisticsWriter.java     |  70 +++++++++++++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  |  18 +++-
 pom.xml                                            |   4 +-
 10 files changed, 233 insertions(+), 124 deletions(-)

commit caa8826fca17c5f03ebbb8a709925dbc48a98fff
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Nov 6 19:31:39 2014 +0100

    PHOENIX-1404 Ignore call to ResultSet#setFetchSize
    
    Don't throw an exception on calls to ResultSet#setFetchSize,
    instead just ignore the call.

 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  | 23 +++++++++++++---------
 1 file changed, 14 insertions(+), 9 deletions(-)

commit 8401cfdb96f21d6babf867411d52e81e687e63c7
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Nov 5 11:05:00 2014 -0800

    PHOENIX-1346: Base exception gets wrapped as incompatible jar exception (Samarth Jain)

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 ++
 1 file changed, 2 insertions(+)

commit f26eab31eaf6918fd4d433e6c4cfbc4e8bf77899
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Nov 5 11:03:59 2014 -0800

    Revert "PHOENIX-1346: Base exception gets wrapped as incompatible jar exception (Mujtaba Chohan)"
    
    This reverts commit c0e0b2b5bc4c0bf2ce898bdfd4e2110e0fecc6ab.

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 --
 1 file changed, 2 deletions(-)

commit c0e0b2b5bc4c0bf2ce898bdfd4e2110e0fecc6ab
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Nov 5 10:08:49 2014 -0800

    PHOENIX-1346: Base exception gets wrapped as incompatible jar exception (Mujtaba Chohan)

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 ++
 1 file changed, 2 insertions(+)

commit 237c55614133f9317e7171b329ca7b966c0c28ff
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Nov 5 09:56:19 2014 -0800

    PHOENIX-1396: Avoid unnecessary ResultSpooler.bin files creation/deletion every time SpoolingResultIterator is used

 .../apache/phoenix/iterate/SpoolingResultIterator.java  | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 1fb89e4ab1bcecfc542526b9bf608c09388ced7a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Nov 5 00:27:36 2014 -0800

    PHOENIX-1406 Use preCompact hook instead of preCompactScannerOpen for stats collection

 .../UngroupedAggregateRegionObserver.java          | 16 ++++++-------
 .../phoenix/schema/stats/StatisticsCollector.java  | 26 ++++------------------
 2 files changed, 11 insertions(+), 31 deletions(-)

commit 86dff2cc4c5ece8f9ed8625f32029f218c94c700
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 4 22:48:18 2014 -0800

    PHOENIX-1401 SYSTEM.SEQUENCE table is not pre-split as expected

 .../main/java/org/apache/phoenix/util/UpgradeUtil.java | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit 31bd42301cad35f0e1f0b0e363dcf13726d84fd1
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 4 20:52:14 2014 -0800

    PHOENIX-1397 RVC combined with OR on first row key column results in NPE (Samarth Jain)

 .../phoenix/end2end/RowValueConstructorIT.java     | 69 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java | 21 ++++---
 2 files changed, 82 insertions(+), 8 deletions(-)

commit 880fd9f9447da2bf435af2031c9468797558bb79
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Nov 4 10:36:28 2014 -0800

    PHOENIX-1401 SYSTEM.SEQUENCE table is not pre-split as expected
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java

 .../phoenix/coprocessor/MetaDataProtocol.java      |  6 +--
 .../phoenix/query/ConnectionQueryServicesImpl.java | 12 +++--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../schema/TableAlreadyExistsException.java        | 16 +++++-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 58 ++++++++++++++++++++--
 5 files changed, 81 insertions(+), 13 deletions(-)

commit 309b1f1c7698dbac80ffc662a72b5557b8df5265
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Nov 4 13:45:19 2014 +0100

    PHOENIX-1403 Correct synchronization in ConnectionQueryServicesImpl.init

 .../main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 236b8e0c70a48184449ee56beee943b3316e7736
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Nov 3 22:30:39 2014 -0800

    PHOENIX-1400 Copy small attribute in ScanUtil.

 phoenix-core/src/main/java/org/apache/phoenix/util/ScanUtil.java | 1 +
 1 file changed, 1 insertion(+)

commit bfc92b045fb27b6b3cdd4ffd9b8d523afd0e88dd
Author: maryannxue <maryannxue@apache.org>
Date:   Sat Nov 1 14:44:26 2014 -0400

    PHOENIX-1399 Support cross joins and comma-separated table list

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  70 ++++++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  30 ++-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  10 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 231 +++++++++++----------
 .../org/apache/phoenix/compile/QueryCompiler.java  |   4 +-
 .../phoenix/compile/StatementNormalizer.java       |  12 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   |   6 +-
 .../apache/phoenix/compile/SubselectRewriter.java  |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   4 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   4 +-
 .../org/apache/phoenix/parse/JoinPartNode.java     |  53 -----
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  21 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  25 +--
 .../org/apache/phoenix/parse/SelectStatement.java  |  18 +-
 17 files changed, 239 insertions(+), 260 deletions(-)

commit 4de4251310cfcef12178713d6d6e93b0882a4f4d
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Wed Oct 29 21:19:09 2014 +0530

    PHOENIX-1387 Local index is not use when the query like "select * from dataTable where c1 like 'abc%'".

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 24 ++++++++++-
 .../phoenix/end2end/index/MutableIndexIT.java      | 15 ++++++-
 .../apache/phoenix/compile/ProjectionCompiler.java | 50 +++++++++++++++++++---
 3 files changed, 80 insertions(+), 9 deletions(-)

commit 668bc2310c764058ed8f5b17bc1500d8eeb8a33d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 15:58:01 2014 -0700

    Rename method for consistency

 .../main/java/org/apache/phoenix/query/ConnectionQueryServices.java   | 2 +-
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 2 +-
 .../org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java     | 2 +-
 .../org/apache/phoenix/query/DelegateConnectionQueryServices.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit 41f62bd50ff753c8815be79c58a573333d27b556
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 14:08:08 2014 -0700

    PHOENIX-1391 Remove obsolete hint

 .../phoenix/end2end/SkipScanAfterManualSplitIT.java     |  2 +-
 .../java/org/apache/phoenix/execute/BaseQueryPlan.java  |  6 ++++++
 .../java/org/apache/phoenix/iterate/ExplainTable.java   | 17 +++++++++++++++--
 .../org/apache/phoenix/iterate/ParallelIterators.java   |  2 +-
 .../apache/phoenix/jdbc/PhoenixDatabaseMetaData.java    | 15 +++++++--------
 .../main/java/org/apache/phoenix/parse/HintNode.java    |  9 ++++-----
 .../phoenix/query/BaseConnectionlessQueryTest.java      |  2 ++
 .../java/org/apache/phoenix/query/QueryPlanTest.java    |  8 ++++++++
 8 files changed, 44 insertions(+), 17 deletions(-)

commit 172dd069843df995d7e7f3dd762573a14c84c3a2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 13:16:12 2014 -0700

    Serialize table ts of when stats calculated

 .../coprocessor/generated/PTableProtos.java        | 103 +++++++++++++++++++--
 .../java/org/apache/phoenix/schema/PTableImpl.java |   5 +-
 phoenix-protocol/src/main/PTable.proto             |   1 +
 3 files changed, 101 insertions(+), 8 deletions(-)

commit c32c60e37b283419970306d304f393f036fd86fd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 13:01:47 2014 -0700

    Rename method in MetaDataService

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   8 +-
 .../coprocessor/generated/MetaDataProtos.java      | 351 ++++++++++-----------
 .../phoenix/query/ConnectionQueryServicesImpl.java |  14 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   8 +-
 4 files changed, 190 insertions(+), 191 deletions(-)

commit f3ac8478096c341c483191b5358c5f68361766b3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 12:44:37 2014 -0700

    PHOENIX-1390 Stats not updated on client after major compaction
    
    Conflicts:
            phoenix-core/src/it/java/org/apache/phoenix/end2end/StatsCollectorIT.java

 .../phoenix/end2end/BaseClientManagedTimeIT.java   | 15 +++-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  3 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       | 43 ++++++++++++
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  4 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 24 ++++---
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  2 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  7 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |  4 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 57 +++++++++++++++-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 35 ++--------
 .../UngroupedAggregateRegionObserver.java          | 21 ++++--
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  5 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 .../apache/phoenix/schema/stats/PTableStats.java   |  7 ++
 .../phoenix/schema/stats/PTableStatsImpl.java      | 12 +++-
 .../phoenix/schema/stats/StatisticsCollector.java  | 79 +++++++++++++---------
 .../phoenix/schema/stats/StatisticsScanner.java    |  1 -
 .../phoenix/schema/stats/StatisticsUtil.java       |  6 +-
 .../phoenix/schema/stats/StatisticsWriter.java     | 39 +++++++----
 23 files changed, 260 insertions(+), 117 deletions(-)

commit 5ae7f4d276d9719bd0127ac9db40da6810f95175
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 28 12:43:48 2014 -0700

    Remove unused imports and local variables

 .../apache/phoenix/trace/BaseTracingTestIT.java    | 24 +++++++++++-----------
 .../org/apache/phoenix/trace/PhoenixTagImpl.java   |  9 --------
 .../org/apache/phoenix/trace/TracingUtils.java     |  5 -----
 3 files changed, 12 insertions(+), 26 deletions(-)

commit a1685c4f5413d38a81da08945b736d554efb8ab8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 27 14:29:07 2014 -0700

    PHOENIX-1170 Change status of local index during splitting to prevent usage when slower than query through data table (Rajeshbabu)

 .../java/org/apache/phoenix/end2end/QueryIT.java   |  20 +--
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 152 ++++++++++++++++++---
 .../IndexHalfStoreFileReaderGenerator.java         |  63 +++++++++
 .../hbase/regionserver/LocalIndexSplitter.java     |  40 ++++++
 .../java/org/apache/phoenix/query/BaseTest.java    |   1 +
 5 files changed, 250 insertions(+), 26 deletions(-)

commit 842f8a8a8b84790ef11cf0dfd8f64b19de800bea
Author: Jesse Yates <jyates@apache.org>
Date:   Mon Sep 22 15:00:00 2014 -0700

    PHOENIX-1286 Remove hadoop2 compat modules
    
    There was some reflection and wrapping done in the metrics/tracing tools
    to support working with Hadoop1/2 (though hadoop1 support was never completed).
    Removing this extra code now that we don't want to support hadoop1 anymore

 phoenix-assembly/pom.xml                           |  10 +-
 phoenix-core/pom.xml                               |  23 +--
 .../apache/phoenix/trace/BaseTracingTestIT.java    | 112 ++++++------
 .../phoenix/trace/DisableableMetricsWriter.java    |  27 +--
 .../phoenix/trace/Hadoop1TracingTestEnabler.java   |  84 ---------
 .../apache/phoenix/trace/PhoenixMetricImpl.java    |  44 -----
 .../phoenix/trace/PhoenixMetricRecordImpl.java     |  71 --------
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java |  28 ++-
 .../org/apache/phoenix/trace/PhoenixTagImpl.java   |  22 +--
 .../apache/phoenix/trace/PhoenixTraceReaderIT.java |  61 +++----
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  59 +++----
 .../org/apache/phoenix/trace/TracingTestUtil.java  |  14 ++
 .../org/apache/phoenix/hbase/index/Indexer.java    |   4 +-
 .../org/apache/phoenix/metrics/MetricInfo.java     |   0
 .../java/org/apache/phoenix/metrics/Metrics.java   |  24 +--
 .../org/apache/phoenix/trace/MetricsInfoImpl.java  |   0
 ...eMetricsWriter.java => PhoenixMetricsSink.java} | 124 +++++++------
 .../apache/phoenix/trace/TraceMetricSource.java    |  43 ++---
 .../java/org/apache/phoenix/trace/TraceReader.java |  12 +-
 .../org/apache/phoenix/trace/TracingUtils.java     |  32 +---
 .../org/apache/phoenix/trace/util/Tracing.java     |   5 +-
 .../metrics2/impl/ExposedMetricCounterLong.java    |   3 +-
 .../metrics2/impl/ExposedMetricsRecordImpl.java    |   1 -
 .../metrics2/lib/ExposedMetricsInfoImpl.java       |   4 +-
 .../org/apache/phoenix/metrics/LoggingSink.java    |  18 +-
 .../phoenix/trace/TraceMetricsSourceTest.java      |   2 +-
 phoenix-hadoop-compat/pom.xml                      |  89 ----------
 .../org/apache/phoenix/metrics/MetricsManager.java |  58 -------
 .../org/apache/phoenix/metrics/MetricsWriter.java  |  31 ----
 .../phoenix/metrics/PhoenixAbstractMetric.java     |  30 ----
 .../apache/phoenix/metrics/PhoenixMetricTag.java   |  27 ---
 .../phoenix/metrics/PhoenixMetricsRecord.java      |  35 ----
 .../apache/phoenix/trace/PhoenixSpanReceiver.java  |  26 ---
 .../phoenix/trace/TestableMetricsWriter.java       |  30 ----
 .../apache/phoenix/metrics/TracingTestCompat.java  |  45 -----
 phoenix-hadoop2-compat/pom.xml                     |  77 ---------
 .../apache/phoenix/metrics/MetricsManagerImpl.java |  71 --------
 .../apache/phoenix/trace/PhoenixMetricsSink.java   | 191 ---------------------
 .../org.apache.phoenix.metrics.MetricsManager      |   1 -
 .../org.apache.phoenix.trace.PhoenixSpanReceiver   |   1 -
 .../org.apache.phoenix.trace.TestableMetricsWriter |   1 -
 .../phoenix/trace/PhoenixMetricsWriterTest.java    | 142 ---------------
 .../java/org/apache/phoenix/trace/TracingTest.java |  34 ----
 pom.xml                                            |  27 ---
 44 files changed, 273 insertions(+), 1470 deletions(-)

commit 4ed9ddb8fd28dffcd686671c18dc89d12b0a1c0c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 27 13:40:47 2014 -0700

    PHOENIX-1376 java.lang.NullPointerException occurs in JDBC driver

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixResultSet.java      | 5 -----
 .../src/main/java/org/apache/phoenix/schema/tuple/ResultTuple.java   | 2 +-
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 692b8cb1e653b0b7c9329ee1e2890f79d781ea50
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 27 13:35:49 2014 -0700

    PHOENIX-1385 Adding, dropping and adding columns fails with NPE (Samarth Jain, James Taylor)

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 22 ++++++++-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  8 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  6 +--
 .../query/DelegateConnectionQueryServices.java     |  6 +--
 .../org/apache/phoenix/query/MetaDataMutated.java  |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  6 +--
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 53 ++++++++++++----------
 8 files changed, 64 insertions(+), 43 deletions(-)

commit c0b617f554938ea31832a921b8caa579e87749aa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 27 09:13:11 2014 -0700

    PHOENIX-1381 NPE in CellUtil.matchingFamily() for IndexedKeyValue (Jeffrey Zhong)

 .../phoenix/hbase/index/wal/IndexedKeyValue.java   | 46 +++++++++++++++++++++-
 1 file changed, 44 insertions(+), 2 deletions(-)

commit 481d1bb878d08fc43fd1eb8f85c36244afdafe45
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Mon Oct 27 10:57:43 2014 +0100

    PHOENIX-897 Quote parameters in psql.py
    
    Properly quote supplied command-line parameters in psql.py so that
    it's possible to supply any character (including ones that have
    special meanings in various shells) as parameters.

 bin/psql.py | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 79423f8011ef35ae5c8509d67e0935fff549e80b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 26 22:26:41 2014 -0700

    PHOENIX-1379 Wrong MultiIndexWriteFailureException when recovering local index table (Shunsuke Nakamura)

 .../index/write/recovery/TrackingParallelWriterIndexCommitter.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11206294c405ea843f0b4b81bdf12a049ba34a19
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 26 22:25:32 2014 -0700

    PHOENIX-1366 Use static constants

 .../main/java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 3cbd85b0f1baaa953a3a29d69574fe543bfdc6a0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 26 22:13:31 2014 -0700

    PHOENIX-1366 Use static constants

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 32 ++++++++++++----------
 1 file changed, 18 insertions(+), 14 deletions(-)

commit 53c1fd7884a5eeaecf882cb199f7a25acb2d8212
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 26 20:46:03 2014 -0700

    PHOENIX-1366 ORDINAL_POSITION incorrect for multi-tenant table over tenant-specific connection (Bruno Dumon)

 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 23 +++++++++++-----
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 31 ++++++++++++++++++----
 2 files changed, 42 insertions(+), 12 deletions(-)

commit 06a511cffe2e04bf85db3d7fa6ade8327ee24cd6
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Fri Oct 24 10:54:12 2014 +0530

    PHOENIX-910 Filter should override hasFilterRow() when filterRow() is overridden.(Ted)

 .../java/org/apache/phoenix/filter/BooleanExpressionFilter.java     | 6 ++++++
 1 file changed, 6 insertions(+)

commit fba06a80f660462c3e1aa4ff7c8bac5d640168c0
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Oct 23 20:26:17 2014 -0400

    PHOENIX-944 Support derived tables in FROM clause that needs extra steps of client-side aggregation or other processing

 .../src/main/java/org/apache/phoenix/compile/QueryCompiler.java     | 4 ++++
 .../main/java/org/apache/phoenix/execute/ClientAggregatePlan.java   | 4 +++-
 .../java/org/apache/phoenix/iterate/LookAheadResultIterator.java    | 6 +++---
 3 files changed, 10 insertions(+), 4 deletions(-)

commit f78a3d70941ab2060bb98efc96c91142e7db6767
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Oct 22 13:48:35 2014 -0400

    PHOENIX-944 Support derived tables in FROM clause that needs extra steps of client-side aggregation or other processing

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 282 +++++++++++++++------
 .../org/apache/phoenix/end2end/SubqueryIT.java     |  12 +
 .../org/apache/phoenix/compile/FromCompiler.java   |  27 +-
 .../apache/phoenix/compile/GroupByCompiler.java    |   5 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../apache/phoenix/compile/OrderByCompiler.java    |   2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  58 ++++-
 .../apache/phoenix/compile/SubqueryRewriter.java   |  10 +-
 .../TrackOrderPreservingExpressionCompiler.java    |  27 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  33 +--
 .../GroupedAggregateRegionObserver.java            |   2 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   4 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |   3 +-
 .../UngroupedAggregateRegionObserver.java          |   2 +-
 .../phoenix/execute/ClientAggregatePlan.java       | 229 +++++++++++++++++
 .../phoenix/execute/ClientProcessingPlan.java      |  82 ++++++
 .../org/apache/phoenix/execute/ClientScanPlan.java |  92 +++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  24 +-
 .../phoenix/execute/TupleProjectionPlan.java       |  49 +---
 .../phoenix/{join => execute}/TupleProjector.java  |  18 +-
 .../expression/ProjectedColumnExpression.java      |   2 +-
 .../aggregator/DistinctValueClientAggregator.java  |   7 +-
 .../BaseGroupedAggregatingResultIterator.java      | 105 ++++++++
 .../iterate/GroupedAggregatingResultIterator.java  |  67 +----
 .../phoenix/iterate/LookAheadResultIterator.java   |   4 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |   1 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |   7 +
 .../java/org/apache/phoenix/schema/ColumnRef.java  |   2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   2 +-
 30 files changed, 924 insertions(+), 240 deletions(-)

commit cd1acba177201211a7324f3f8f38a0aadae45ee5
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Thu Oct 23 17:34:43 2014 -0700

    PHOENIX-1373: Ctrl-C out of sqlline causes terminal to be useless

 bin/sqlline.py | 2 ++
 1 file changed, 2 insertions(+)

commit 9a51a1c664b51ff2a30aa96113850162d2817a62
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Thu Oct 23 21:50:58 2014 +0200

    PHOENIX-1375 Remove references to incubation

 dev/release_files/NOTICE | 2 +-
 pom.xml                  | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 079c319745cf70a38ec919d4d012f300035c023e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 21 23:37:03 2014 -0700

    PHOENIX-1359 Backward compatibility fails with 4.1 client and current 4.0 branch on server

 .../apache/phoenix/expression/ExpressionType.java  |  2 +-
 .../apache/phoenix/expression/LikeExpression.java  | 37 ++++++++++++++-------
 .../org/apache/phoenix/filter/SkipScanFilter.java  | 38 ++++++++++++++--------
 .../org/apache/phoenix/join/HashCacheClient.java   |  3 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  | 10 ++++--
 5 files changed, 60 insertions(+), 30 deletions(-)

commit 7e5115815049c1bc4e15733ecf8f0efce32bcdcd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 21 12:52:14 2014 -0700

    PHOENIX-1358 OOB in SchemaUtil.getTableNameFromFullName(Sang-Jin, Park)

 .../src/main/java/org/apache/phoenix/util/SchemaUtil.java   |  2 +-
 .../test/java/org/apache/phoenix/schema/SchemaUtilTest.java | 13 +++++++++++++
 2 files changed, 14 insertions(+), 1 deletion(-)

commit b8526707b081ae7e5addf4c435921c066064cd6b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 21 11:30:39 2014 -0700

    PHOENIX-1370 Allow query timeout to differ from RPC timeout

 .../main/java/org/apache/phoenix/mapreduce/CsvBulkLoadTool.java    | 7 +------
 .../main/java/org/apache/phoenix/query/QueryServicesOptions.java   | 7 -------
 2 files changed, 1 insertion(+), 13 deletions(-)

commit 94a72a2988bd837a8584883043a9f407f208c43e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 21 11:26:21 2014 -0700

    PHOENIX-1364 Fix resource leaks in various classes (Ted Yu)

 .../src/main/java/org/apache/phoenix/hbase/index/Indexer.java  | 10 ++++++++--
 .../main/java/org/apache/phoenix/trace/TraceMetricSource.java  |  2 +-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 677e34cae36c57912b7ee1dd3173d0975c3bd25a
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Oct 21 05:35:06 2014 +0000

    PHOENIX-1238 Rollback index region split on any split failure(Rajeshbabu)

 .../hbase/regionserver/IndexSplitTransaction.java  |  4 ++
 .../hbase/regionserver/LocalIndexSplitter.java     | 74 +++++++++++++++-------
 2 files changed, 56 insertions(+), 22 deletions(-)

commit 1816f6e81de5b8314624629b9f6b45a66cc94ede
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Oct 21 04:23:34 2014 +0000

    PHOENIX-1356 LocalIndexIT.testLocalIndexScanAfterRegionSplit() failed at distributed cluster when getting regions(Alicia Ying Shu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 35 +++++++++++-----------
 1 file changed, 18 insertions(+), 17 deletions(-)

commit dc7e8c0e6f5f1e9724bc875d0a892f8e6393dacd
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Oct 20 13:06:18 2014 -0700

    PHOENIX-1369 Add back encode/decode methods as deprecated

 phoenix-core/src/main/java/org/apache/phoenix/util/PhoenixRuntime.java | 1 +
 1 file changed, 1 insertion(+)

commit eee98b673d03b65dfa472d29246f8d3d0e612abe
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Oct 20 12:57:37 2014 -0700

    PHOENIX-1369 Add back encode/decode methods as deprecated

 .../org/apache/phoenix/util/PhoenixRuntime.java    | 79 ++++++++++++++++++++++
 1 file changed, 79 insertions(+)

commit ea6b05386493380b7cd2de9a54185a62b608b801
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Mon Oct 20 15:53:34 2014 +0000

    PHOENIX-1314 Assertion tripped for skip scan with two unit tests-addendum(Rajeshbabu)

 .../phoenix/end2end/index/MutableIndexIT.java      | 81 ++++++++++++++++++++++
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  7 +-
 2 files changed, 86 insertions(+), 2 deletions(-)

commit 91004269ad1f51f4fba86f08d22776e6141fe82f
Merge: 1ceaccef3 b8f32aeaa
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 23:47:00 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 1ceaccef33f985900829685732da54268c65bcca
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 23:46:39 2014 -0700

    PHOENIX-1368 Persist link from VIEW back to its child VIEW

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 --
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  4 ++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 22 ++++++++++++++++++++++
 .../java/org/apache/phoenix/schema/PTable.java     |  6 +++++-
 4 files changed, 31 insertions(+), 3 deletions(-)

commit b8f32aeaa735689f231268d7c790efbd6051d7f4
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Sun Oct 19 21:34:23 2014 -0700

    PHOENIX-1360: NPE in SpoolingResultIterator

 .../main/java/org/apache/phoenix/iterate/SpoolingResultIterator.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf41cc63594ac7d8f3d831511215519fe43afea0
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Sun Oct 19 21:22:57 2014 -0700

    PHOENIX-1355: sqlline.py or psql.py may hang if they're not invoked from bin folder

 bin/end2endTest.py   | 16 ++++++++++------
 bin/phoenix_utils.py | 34 +++++++++++++++++++++++++++++-----
 bin/psql.py          |  2 +-
 bin/sqlline.py       |  2 +-
 4 files changed, 41 insertions(+), 13 deletions(-)

commit 571c594dfba90b5c43cfcba89f52e28bb4d618c7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 20:02:21 2014 -0700

    Update SkipRange test based on improved parallelization

 .../java/org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ff8fed551138b73db0980d16dea9c82d482fc26
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 19:56:06 2014 -0700

    Update SkipRange test based on improved parallelization

 .../query/ConnectionlessQueryServicesImpl.java     | 41 +++++++++-
 .../phoenix/query/ParallelIteratorsSplitTest.java} | 92 ++++++++--------------
 2 files changed, 72 insertions(+), 61 deletions(-)

commit 7835f41efd74664f73bed866d40a958d43e0ace2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 17:18:21 2014 -0700

    PHOENIX-1344 fix duplicit values in NTH_VALUE function (Vaclav Loffelmann)

 .../apache/phoenix/end2end/NthValueFunctionIT.java | 150 +++++++++++++++++++++
 .../FirstLastValueBaseClientAggregator.java        |  37 +++--
 .../aggregator/FirstLastValueServerAggregator.java |  46 +++++--
 .../util/FirstLastNthValueDataContainer.java       |  55 +++++---
 4 files changed, 244 insertions(+), 44 deletions(-)

commit de67b9c4b8f575b2226747e875b4c0c7dd271559
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 15:47:39 2014 -0700

    PHOENIX-1271 hide tenant column in tenant-specific
     connections (Bruno Dumon)

 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  6 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 86 +++++++++++++++++++++-
 2 files changed, 84 insertions(+), 8 deletions(-)

commit eef588da22dafba2a48b5bbe1ff4fbdae1a2145e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 19 15:57:29 2014 -0700

    PHOENIX-1349 VIEWs do not inherit indexes from their parent

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f1b507bd6b4dcd0cf687fe68c023db16f8f051d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 18 22:19:26 2014 -0700

    PHOENIX-1349 VIEWs do not inherit indexes from their parent

 .../org/apache/phoenix/compile/FromCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  10 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   6 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   6 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../phoenix/query/ConnectionQueryServices.java     |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  60 ++++++---
 .../query/ConnectionlessQueryServicesImpl.java     |   6 +-
 .../query/DelegateConnectionQueryServices.java     |   8 +-
 .../org/apache/phoenix/schema/DelegateTable.java   |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 145 +++++++++++++--------
 .../java/org/apache/phoenix/schema/PTable.java     |   6 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  85 ++++++------
 .../apache/phoenix/compile/QueryOptimizerTest.java |   4 -
 14 files changed, 212 insertions(+), 138 deletions(-)

commit 3ac1e81396010374d584c50cecebb745b9c7a77b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 18 21:28:25 2014 -0700

    Fix QueryCompilerTest

 .../src/test/java/org/apache/phoenix/compile/QueryCompilerTest.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 047eee2929f5d175000037920ce6b1c53cada532
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 18 21:22:18 2014 -0700

    Fix QueryIT test failure

 phoenix-core/src/it/java/org/apache/phoenix/end2end/HashJoinIT.java  | 2 +-
 phoenix-core/src/it/java/org/apache/phoenix/end2end/QueryIT.java     | 5 +++--
 .../src/main/java/org/apache/phoenix/compile/ExpressionCompiler.java | 2 +-
 .../src/main/java/org/apache/phoenix/compile/JoinCompiler.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/exception/SQLExceptionCode.java | 1 -
 .../src/main/java/org/apache/phoenix/expression/CaseExpression.java  | 2 +-
 .../org/apache/phoenix/expression/function/CoalesceFunction.java     | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PDataType.java  | 2 +-
 8 files changed, 10 insertions(+), 10 deletions(-)

commit ed8c82a05bf2887bd78f462afb6eaf834080a2f4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 18 16:56:35 2014 -0700

    PHOENIX-1242 ArrayoutofBoundException Phoenix mapping to exisiting Hbase (Alicia Ying Shu)

 .../apache/phoenix/end2end/CoalesceFunctionIT.java |   9 +-
 .../apache/phoenix/end2end/DecodeFunctionIT.java   |  37 +-
 .../phoenix/end2end/MappingTableDataTypeIT.java    |  98 +++++
 .../phoenix/expression/LiteralExpression.java      |  37 +-
 .../expression/function/DecodeFunction.java        |  12 +-
 .../java/org/apache/phoenix/schema/PDataType.java  | 489 +++++++++++----------
 .../apache/phoenix/compile/QueryCompilerTest.java  |   2 +-
 .../phoenix/schema/MappingTableDataTypeTest.java   | 119 -----
 .../org/apache/phoenix/schema/PDataTypeTest.java   |   8 +-
 .../org/apache/phoenix/util/ColumnInfoTest.java    |  18 +-
 10 files changed, 414 insertions(+), 415 deletions(-)

commit 6d6926d270f45501f11d66688eedb657229b91e6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 18 18:03:42 2014 -0700

    Remove unused imports and add required test annotations

 .../apache/phoenix/end2end/LastValueFunctionIT.java | 13 ++++++++++---
 .../org/apache/phoenix/end2end/LpadFunctionIT.java  |  2 ++
 .../apache/phoenix/end2end/NthValueFunctionIT.java  | 13 ++++++++++---
 .../java/org/apache/phoenix/end2end/ReadOnlyIT.java |  3 ---
 .../phoenix/end2end/RegexpSplitFunctionIT.java      | 15 +++++++--------
 .../phoenix/end2end/RegexpSubstrFunctionIT.java     | 21 ++++++++++++---------
 .../apache/phoenix/end2end/StatsCollectorIT.java    |  1 -
 7 files changed, 41 insertions(+), 27 deletions(-)

commit a2fbf489d374ff7a1587f8bf857f80341d3623f1
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Sat Oct 18 15:27:57 2014 -0700

    PHOENIX-1242: ArrayoutofBoundException Phoenix mapping to exisiting Hbase (Alicia Ying Shu)

 .../java/org/apache/phoenix/schema/PDataType.java  | 208 ++++++++++++---------
 .../phoenix/schema/MappingTableDataTypeTest.java   | 119 ++++++++++++
 2 files changed, 241 insertions(+), 86 deletions(-)

commit 61fb5f3db0909495a366d3c4b96ee73c03adeb84
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 22:36:51 2014 -0700

    PHOENIX-1359 Backward compatibility fails with 4.1 client and current 4.0 branch on server

 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java    | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 3fcdec06fd9fa9c42aa1c73bfea353336385d16f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 21:33:36 2014 -0700

    Reverting previous unintentional change

 .../src/main/java/org/apache/phoenix/util/SchemaUtil.java      | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit 209b5f5308717afb4fdecfac230f26f52cf3a82a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 21:14:52 2014 -0700

    Fix test for isSequenceTable

 phoenix-core/src/main/java/org/apache/phoenix/util/SchemaUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c81ca27915a51fd67120df4dc662b0ceecb882dd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 18:12:15 2014 -0700

    PHOENIX-973 Lexer skips unexpected characters

 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 13 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../org/apache/phoenix/schema/SequenceKey.java     |  4 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 14 ++--
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 95 ++++++++++++++--------
 .../org/apache/phoenix/parse/QueryParserTest.java  | 16 +++-
 .../java/org/apache/phoenix/query/BaseTest.java    |  6 +-
 7 files changed, 96 insertions(+), 54 deletions(-)

commit 3ada2e20cacb245e9caa0142841dc4ed7c674148
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 18:34:38 2014 -0700

    PHOENIX-1297 Adding utility methods to get primary key information from the optimized query plan (Samarth Jain)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |   8 +-
 .../phoenix/end2end/PhoenixEncodeDecodeIT.java     | 215 -------------
 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 141 ++++----
 .../java/org/apache/phoenix/end2end/StddevIT.java  |  40 +--
 .../apache/phoenix/trace/BaseTracingTestIT.java    |   3 +
 .../org/apache/phoenix/schema/KeyValueSchema.java  |   5 +-
 .../java/org/apache/phoenix/schema/PDataType.java  | 108 +++----
 .../java/org/apache/phoenix/util/IndexUtil.java    |  24 ++
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 357 ++++++++++++++++-----
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  39 ++-
 .../apache/phoenix/compile/QueryOptimizerTest.java | 264 +++++++++++++++
 .../org/apache/phoenix/schema/ValueBitSetTest.java |  43 +++
 .../phoenix/util/PhoenixEncodeDecodeTest.java      |  72 +++++
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  77 ++++-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |   7 +-
 15 files changed, 955 insertions(+), 448 deletions(-)

commit ca35124185df93e5a6b04478bde98eed05106ae7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 13:35:17 2014 -0700

    PHOENIX-1365 Make sequence salt buckets configurable

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  |  3 +--
 .../java/org/apache/phoenix/schema/MetaDataClient.java     | 14 ++++++++------
 .../phoenix/schema/NewerTableAlreadyExistsException.java   |  9 +++++++++
 3 files changed, 18 insertions(+), 8 deletions(-)

commit f4a1087e43eded9f71ce9af9c41c47b9fc7c36a0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 12:21:44 2014 -0700

    PHOENIX-1365 Make sequence salt buckets configurable

 .../apache/phoenix/end2end/index/LocalIndexIT.java |   2 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   2 +-
 .../apache/phoenix/compile/SequenceManager.java    |   3 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   3 +
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  15 +-
 .../phoenix/query/ConnectionQueryServices.java     |   1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  36 +++--
 .../query/ConnectionlessQueryServicesImpl.java     |  14 +-
 .../query/DelegateConnectionQueryServices.java     |   5 +
 .../org/apache/phoenix/query/QueryConstants.java   |   5 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |  13 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |   7 +
 .../org/apache/phoenix/schema/SequenceKey.java     |   8 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   9 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   4 +-
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 169 ++++++++++++---------
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   9 +-
 20 files changed, 202 insertions(+), 109 deletions(-)

commit d6b71e89644d5c013dc95b071e66e0021eb884da
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 17 01:23:09 2014 -0700

    Use non zero thread pool depth for tests

 .../src/test/java/org/apache/phoenix/query/QueryServicesTestImpl.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d89cde1b8bc8144085565f7318305602a420d7c6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Oct 16 23:04:36 2014 -0700

    PHOENIX-1361 Sequence value goes backwards if sequence validated before reserved
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java
            phoenix-core/src/main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java

 .../org/apache/phoenix/end2end/SequenceIT.java     |  41 ++++++++
 .../apache/phoenix/compile/SequenceManager.java    |  28 ++++--
 .../phoenix/expression/DelegateExpression.java     | 108 +++++++++++++++++++++
 .../phoenix/parse/SequenceValueParseNode.java      |  14 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  12 +--
 .../java/org/apache/phoenix/schema/Sequence.java   |  32 +++---
 6 files changed, 203 insertions(+), 32 deletions(-)

commit 10df9cf2d4d44583b6889ba4c57d36a8101a8352
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 22:12:15 2014 -0700

    PHOENIX-1357 Salt sequence table to prevent same RS from getting all sequence calls
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java
            phoenix-core/src/main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java

 .../phoenix/coprocessor/MetaDataProtocol.java      |   6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  22 +--
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |   9 +-
 .../org/apache/phoenix/schema/SequenceKey.java     |  49 +++---
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   8 -
 .../java/org/apache/phoenix/util/UpgradeUtil.java  | 167 +++++++++++++++++++++
 7 files changed, 215 insertions(+), 50 deletions(-)

commit 914e7821af30cb0eb75c19b424c6cff7fd2e697a
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Thu Oct 16 14:13:14 2014 -0700

    PHOENIX-1353: CsvBulkLoad doesn't work in secure env

 .../phoenix/end2end/ConnectionQueryServicesTestImpl.java     |  2 +-
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDriver.java |  2 +-
 .../java/org/apache/phoenix/mapreduce/CsvBulkLoadTool.java   |  6 +++++-
 .../org/apache/phoenix/mapreduce/CsvToKeyValueMapper.java    | 12 +++++++++++-
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java    |  9 ++++++++-
 5 files changed, 26 insertions(+), 5 deletions(-)

commit e1da2c34b987a033c2c4a8767b7fc93e0404f730
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 22:18:07 2014 -0700

    PHOENIX-1214 SYSTEM.CATALOG cannot be created when first connection to cluster is tenant-specific (Jan Van Besien)

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |  4 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 ++-
 .../query/ConnectionlessQueryServicesImpl.java     |  4 ++-
 .../java/org/apache/phoenix/util/JDBCUtil.java     | 18 ++++++++++++-
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java | 31 +++++++++++-----------
 .../java/org/apache/phoenix/util/JDBCUtilTest.java |  9 +++++++
 6 files changed, 51 insertions(+), 19 deletions(-)

commit 19ba98dca15ffc04399513f358732a1716d838af
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 16:41:32 2014 -0700

    PHOENIX-1330 Flag VARBINARY VARBINARY ARRAY declaration in DDL as an error

 .../java/org/apache/phoenix/exception/SQLExceptionCode.java  |  4 +++-
 .../src/main/java/org/apache/phoenix/parse/ColumnDef.java    |  4 ++++
 .../java/org/apache/phoenix/compile/QueryCompilerTest.java   | 12 ++++++++++++
 3 files changed, 19 insertions(+), 1 deletion(-)

commit d96685ceb6fe51a53185a612ffc99de306fc81ce
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 15:58:05 2014 -0700

    Correcting test annotation for SpillableGroupByIT

 .../src/it/java/org/apache/phoenix/end2end/SpillableGroupByIT.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 203da64df345ee38dbf9a6ef0727551e80eb6eb7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 12:56:31 2014 -0700

    Add missing commit in unit test

 phoenix-core/src/it/java/org/apache/phoenix/end2end/BaseViewIT.java     | 1 +
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 2 ++
 2 files changed, 3 insertions(+)

commit 050643e78d6e7cae7cdd0131353d87b0a7bb4507
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 15 11:43:47 2014 -0700

    PHOENIX-1313 Investigate why LocalIndexIT.testLocalIndexScanAfterRegionSplit() is failing (Rajeshbabu)

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 11 ++--
 .../org/apache/phoenix/compile/ScanRanges.java     |  4 ++
 .../coprocessor/BaseScannerRegionObserver.java     | 20 +++---
 .../apache/phoenix/iterate/ParallelIterators.java  | 73 ++++++++++++++--------
 4 files changed, 68 insertions(+), 40 deletions(-)

commit 8ece1a74afae2112b4959147b19fbf0e215b8de7
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Oct 14 17:49:53 2014 -0400

    PHOENIX-943 Handle pushed down post-filters for subquery in joins with limit and non-groupby aggregation

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  49 ++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |  64 ++++++++-----
 .../org/apache/phoenix/compile/QueryCompiler.java  |  14 ++-
 .../apache/phoenix/compile/StatementContext.java   |  12 +--
 .../apache/phoenix/compile/SubselectRewriter.java  |  11 +--
 .../apache/phoenix/execute/DelegateQueryPlan.java  | 105 ++++++++++++++++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 106 ++++-----------------
 .../phoenix/execute/TupleProjectionPlan.java       | 100 +++++++++++++++++++
 .../org/apache/phoenix/join/HashCacheClient.java   |   9 +-
 .../org/apache/phoenix/join/TupleProjector.java    |   6 ++
 10 files changed, 334 insertions(+), 142 deletions(-)

commit 34bfc63c9d805985864e1a02e0cae12290e212b2
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Tue Oct 14 17:35:26 2014 +0000

    PHOENIX-1314 Assertion tripped for skip scan with two unit tests(Rajeshbabu)

 .../java/org/apache/phoenix/filter/SkipScanFilter.java | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 8f2a76d60ba1452466133da8e1dc3de8d1140ed2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 13 20:23:43 2014 -0700

    PHOENIX-619 Support DELETE over table with immutable index when possible

 .../end2end/BaseTenantSpecificTablesIT.java        |   4 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  43 ++
 .../phoenix/end2end/index/ImmutableIndexIT.java    |   2 +-
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |   5 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java | 550 +++++++++++++--------
 .../compile/MutatingParallelIteratorFactory.java   |   5 +-
 .../phoenix/compile/PostIndexDDLCompiler.java      |  37 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +-
 .../org/apache/phoenix/execute/MutationState.java  |  45 +-
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |   4 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |  53 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   2 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  48 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  14 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  14 +-
 .../TenantSpecificViewIndexCompileTest.java        |   2 +-
 17 files changed, 541 insertions(+), 293 deletions(-)

commit 49ec34be258ce12ca150c5c37a35e2c1cad0105c
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Oct 13 11:05:00 2014 -0400

    PHOENIX-1332 Support correlated subqueries in comparison with ANY/SOME/ALL

 .../org/apache/phoenix/end2end/SubqueryIT.java     |  79 +++++++++
 .../java/org/apache/phoenix/cache/HashCache.java   |   4 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  15 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   4 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   | 181 +++++++++++++++++----
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   1 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   5 +-
 .../expression/ArrayConstructorExpression.java     |  16 +-
 .../apache/phoenix/expression/ExpressionType.java  |   2 +
 .../aggregator/DistinctValueClientAggregator.java  |  63 +++++++
 .../DistinctValueWithCountServerAggregator.java    |   2 +-
 .../function/DistinctValueAggregateFunction.java   |  66 ++++++++
 .../org/apache/phoenix/join/HashCacheClient.java   |   7 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |  15 +-
 .../org/apache/phoenix/parse/JoinTableNode.java    |   8 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   6 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   2 +-
 17 files changed, 417 insertions(+), 59 deletions(-)

commit 656acefd146d515de108f3a757ddb0522ea783d0
Author: Brian Johnson <github@brianjohnson.cc>
Date:   Sat Oct 11 14:30:37 2014 -0700

    PHOENIX-1341 Exit status for PhoenixRuntime
    
    Return a non-zero exit status on a failure in PhoenixRuntime.
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../org/apache/phoenix/util/PhoenixRuntime.java    | 61 ++++++++++++----------
 1 file changed, 32 insertions(+), 29 deletions(-)

commit a11f0d9f2a0633a4285cb9b53921e5334da27787
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 11 09:32:20 2014 -0700

    PHOENIX-1314 Assertion tripped for skip scan with two unit tests (Rajeshbabu)

 phoenix-core/src/it/java/org/apache/phoenix/end2end/DeleteIT.java     | 1 -
 .../src/it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java  | 1 -
 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/index/PhoenixIndexBuilder.java   | 1 +
 4 files changed, 3 insertions(+), 4 deletions(-)

commit a21a5e5775802bbac0a67c5557b864d0390128c4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 11 09:13:54 2014 -0700

    PHOENIX-1313 Investigate why LocalIndexIT.testLocalIndexScanAfterRegionSplit() is failing(Rajeshbabu)

 .../apache/phoenix/iterate/ParallelIterators.java  | 33 ++++++++++++++--------
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  4 +--
 2 files changed, 23 insertions(+), 14 deletions(-)

commit c64cef6d80eb7af6f26fdc82db9c9be1e14e8184
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 10 23:25:30 2014 -0700

    PHOENIX-1309 Ensure Phoenix table is created for Local index and view index tables to store guideposts against them

 .../org/apache/phoenix/end2end/BaseViewIT.java     |   6 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |   2 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |  14 +-
 .../apache/phoenix/compile/StatementContext.java   |   4 +
 .../org/apache/phoenix/schema/DelegateTable.java   | 228 +++++++++++++++++++++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 106 ++++++----
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 7 files changed, 308 insertions(+), 54 deletions(-)

commit 43afafbe1be31f5781120e90b6cb2e46280de276
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 10 21:10:12 2014 -0700

    PHOENIX-1337 Unpadded fixed length tenant ID causes erroneous results

 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 44 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/DeleteCompiler.java | 17 ++++++---
 .../apache/phoenix/compile/ProjectionCompiler.java |  2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 10 +++--
 .../org/apache/phoenix/compile/WhereOptimizer.java |  2 +
 .../java/org/apache/phoenix/util/ScanUtil.java     | 19 ++++++++++
 6 files changed, 85 insertions(+), 9 deletions(-)

commit 3fc43d966f7eee2478a413941d63ffe2596ff910
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 10 20:44:42 2014 -0700

    PHOENIX-1338 Logic to group together parallel scans is incorrect

 .../org/apache/phoenix/end2end/BaseViewIT.java     | 25 ++++++++++++-----
 .../apache/phoenix/iterate/ParallelIterators.java  | 31 ++++++++++------------
 2 files changed, 33 insertions(+), 23 deletions(-)

commit 1a991c5c81b3c46cfd33e7e38eb5f0174045b4a8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 10 15:49:22 2014 -0700

    PHOENIX-1333 Store statistics guideposts as VARBINARY (ramkrishna.s.vasudevan)

 .../coprocessor/generated/PTableProtos.java        | 310 +++++++++++++++++++--
 .../apache/phoenix/iterate/ParallelIterators.java  |  16 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +
 .../org/apache/phoenix/query/QueryConstants.java   |   6 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  16 +-
 .../phoenix/schema/stats/GuidePostsInfo.java       | 144 ++++++++++
 .../apache/phoenix/schema/stats/PTableStats.java   |   5 +-
 .../phoenix/schema/stats/PTableStatsImpl.java      |  18 +-
 .../phoenix/schema/stats/StatisticsCollector.java  |  56 ++--
 .../phoenix/schema/stats/StatisticsUtil.java       |  37 +--
 .../phoenix/schema/stats/StatisticsWriter.java     |  10 +-
 phoenix-protocol/src/main/PTable.proto             |   3 +
 12 files changed, 521 insertions(+), 104 deletions(-)

commit 0015d16c0cd39009ce848c0401f15d136a2a6272
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 10 00:02:06 2014 -0700

    PHOENIX-1309 Remove getGuidePosts() methods and access through PTableStats instead

 .../java/org/apache/phoenix/end2end/QueryIT.java   |  20 ++--
 .../coprocessor/generated/PTableProtos.java        | 122 +++++----------------
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 .../org/apache/phoenix/schema/PColumnFamily.java   |   3 -
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |  19 ----
 .../java/org/apache/phoenix/schema/PTable.java     |   7 --
 .../java/org/apache/phoenix/schema/PTableImpl.java |  53 ++-------
 .../apache/phoenix/schema/stats/PTableStats.java   |   7 ++
 .../phoenix/schema/stats/PTableStatsImpl.java      |  18 +++
 .../phoenix/schema/stats/StatisticsScanner.java    |   2 -
 .../java/org/apache/phoenix/util/SizedUtil.java    |   5 +
 phoenix-protocol/src/main/PTable.proto             |   2 +-
 12 files changed, 79 insertions(+), 180 deletions(-)

commit d3a5873c517669b1f45264f05c5774ab5de14c26
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Oct 9 22:08:22 2014 -0700

    PHOENIX-1309 Ensure Phoenix table is created for Local index and view index tables to store guideposts against them
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/iterate/ParallelIterators.java

 .../org/apache/phoenix/end2end/BaseViewIT.java     |  20 ++--
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |   2 +-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  11 ++-
 .../UngroupedAggregateRegionObserver.java          |   1 +
 .../apache/phoenix/iterate/ParallelIterators.java  | 107 +++++++++++----------
 .../phoenix/query/ConnectionQueryServices.java     |   6 ++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  39 +++++++-
 .../query/ConnectionlessQueryServicesImpl.java     |  14 +++
 .../query/DelegateConnectionQueryServices.java     |  16 +++
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  76 +++++++++++++--
 .../phoenix/schema/stats/PTableStatsImpl.java      |  23 +++++
 .../phoenix/schema/stats/StatisticsCollector.java  |  11 ++-
 .../phoenix/schema/stats/StatisticsWriter.java     |   2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   2 -
 16 files changed, 261 insertions(+), 77 deletions(-)

commit 0f4f8eff727fb29d71285882f627d4aa92c2fe2c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 21:34:23 2014 -0700

    Fix NPE on startup

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java  | 3 ++-
 .../main/java/org/apache/phoenix/schema/stats/PTableStatsImpl.java    | 4 +++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 87664bd3d0295b9d0aa6d4294c77c2fb757f4bdb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 17:51:38 2014 -0700

    Run SpillableGroupByIT in its own cluster due to server-side config settings

 .../apache/phoenix/end2end/BaseOwnClusterClientManagedTimeIT.java | 2 ++
 .../apache/phoenix/end2end/BaseOwnClusterHBaseManagedTimeIT.java  | 2 ++
 .../it/java/org/apache/phoenix/end2end/SpillableGroupByIT.java    | 8 ++++++--
 3 files changed, 10 insertions(+), 2 deletions(-)

commit c7c59604e8eb2e2879014aa45819a0cef282287e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 17:44:36 2014 -0700

    Update package name in grammar file

 phoenix-core/src/main/antlr3/PhoenixSQL.g | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b435dacb785b60b1b4a797260f1d4343033520ec
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 17:29:01 2014 -0700

    Rename stat package to stats

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java |  4 ++--
 .../coprocessor/UngroupedAggregateRegionObserver.java        |  2 +-
 .../main/java/org/apache/phoenix/jdbc/PhoenixStatement.java  |  2 +-
 .../main/java/org/apache/phoenix/parse/ParseNodeFactory.java |  2 +-
 .../org/apache/phoenix/parse/UpdateStatisticsStatement.java  |  8 ++++----
 .../src/main/java/org/apache/phoenix/schema/PTable.java      |  2 +-
 .../src/main/java/org/apache/phoenix/schema/PTableImpl.java  |  4 ++--
 .../apache/phoenix/schema/{stat => stats}/PTableStats.java   |  2 +-
 .../phoenix/schema/{stat => stats}/PTableStatsImpl.java      |  2 +-
 .../schema/{stat => stats}/StatisticsCollectionScope.java    |  2 +-
 .../phoenix/schema/{stat => stats}/StatisticsCollector.java  |  6 +++---
 .../phoenix/schema/{stat => stats}/StatisticsScanner.java    |  6 +++---
 .../phoenix/schema/{stat => stats}/StatisticsUtil.java       |  2 +-
 .../StatisticsTable.java => stats/StatisticsWriter.java}     | 12 ++++++------
 14 files changed, 28 insertions(+), 28 deletions(-)

commit 1de4d7901d476477706ec3bccd36eabed854200b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 17:07:29 2014 -0700

    Move EMPTY_STATS impl to interface singleton
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/schema/PTableImpl.java
            phoenix-core/src/main/java/org/apache/phoenix/schema/stat/PTableStats.java
            phoenix-core/src/main/java/org/apache/phoenix/schema/stat/PTableStatsImpl.java

 .../apache/phoenix/schema/PColumnFamilyImpl.java   | 11 ++++----
 .../java/org/apache/phoenix/schema/PTableImpl.java | 30 ++++++++--------------
 .../apache/phoenix/schema/stat/PTableStats.java    | 16 +++++-------
 .../phoenix/schema/stat/PTableStatsImpl.java       | 12 ++++-----
 4 files changed, 27 insertions(+), 42 deletions(-)

commit 3bd9d888b522b443e87e00e107a29ad3c88ab052
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 8 12:21:06 2014 -0700

    PHOENIX-1328 Update ANALYZE syntax to collect stats on index tables and all tables (ramkrishna.s.vasudevan)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  2 +-
 .../phoenix/end2end/ParallelIteratorsIT.java       | 40 +++++++++++++++++++---
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  2 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 10 +++---
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  2 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  9 +++--
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 14 ++++----
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  5 +--
 .../phoenix/parse/UpdateStatisticsStatement.java   | 25 ++++++++++++--
 .../org/apache/phoenix/schema/MetaDataClient.java  | 26 ++++++++++++--
 .../java/org/apache/phoenix/schema/PTable.java     |  3 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 38 +++++++++++---------
 .../apache/phoenix/schema/stat/PTableStats.java    | 13 +++++++
 .../phoenix/schema/stat/PTableStatsImpl.java       |  2 --
 .../schema/stat/StatisticsCollectionScope.java     | 28 +++++++++++++++
 .../apache/phoenix/schema/stat/StatisticsUtil.java |  2 +-
 .../java/org/apache/phoenix/util/TestUtil.java     | 16 +++++++--
 17 files changed, 185 insertions(+), 52 deletions(-)

commit bc530f20611975ecd0d6dd81ac7dba18d4db4bfb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 7 23:16:51 2014 -0700

    PHOENIX-1030 Change Expression.isDeterministic() to return a enum of values ALWAYS, PER_STATEMENT, PER_ROW (Thomas D'Silva)

 .../phoenix/expression/LiteralExpression.java      | 77 ++++++++++++----------
 1 file changed, 42 insertions(+), 35 deletions(-)

commit 5282a8a09fec1ea7a6241565ff034246e3b30b92
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Oct 7 22:56:36 2014 -0400

    PHOENIX-945 Support correlated subqueries in comparison without ANY/SOME/ALL

 .../org/apache/phoenix/end2end/SubqueryIT.java     | 98 ++++++++++++++++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java |  7 +-
 .../phoenix/compile/StatementNormalizer.java       | 15 +---
 .../apache/phoenix/compile/SubqueryRewriter.java   | 70 ++++++++++++++--
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 24 ++++++
 5 files changed, 188 insertions(+), 26 deletions(-)

commit 05971c0cac245ff4700959c51c5fc5d3a5fbe6d9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 7 10:59:46 2014 -0700

    Attempting to make unit tests more resilient

 .../end2end/index/MutableIndexFailureIT.java       | 13 +++++----
 .../end2end/index/MutableIndexReplicationIT.java   | 17 ++---------
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 21 ++++++-------
 .../java/org/apache/phoenix/query/BaseTest.java    | 34 +++++++++++++---------
 4 files changed, 41 insertions(+), 44 deletions(-)

commit 2faeda4a747056946dba05a903646cf9e7e0a927
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 7 00:45:31 2014 -0700

    Change tests that set server-side config to NeedsOwnMiniClusterTest
    Destroy driver in MutableIndexReplicationIT to prevent other tests from failing
    
    Conflicts:
            phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java

 .../phoenix/end2end/BaseClientManagedTimeIT.java   | 29 +----------
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    | 25 +++-------
 .../end2end/BaseOwnClusterClientManagedTimeIT.java | 30 +++++++++++
 .../end2end/BaseOwnClusterHBaseManagedTimeIT.java  | 30 +++++++++++
 .../apache/phoenix/end2end/BaseOwnClusterIT.java   | 32 ++++++++++++
 .../end2end/BaseTenantSpecificTablesIT.java        | 12 +----
 .../org/apache/phoenix/end2end/CreateTableIT.java  |  2 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  6 +--
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  8 +--
 .../phoenix/end2end/ParallelIteratorsIT.java       | 25 +++-------
 .../apache/phoenix/end2end/StatsCollectorIT.java   | 12 ++---
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  2 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  2 +-
 .../end2end/index/MutableIndexReplicationIT.java   | 56 +++++++++++++++------
 .../phoenix/end2end/index/SaltedIndexIT.java       |  2 -
 .../org/apache/phoenix/util/ReadOnlyProps.java     |  4 ++
 .../java/org/apache/phoenix/query/BaseTest.java    | 58 +++++++++++++++++++---
 .../java/org/apache/phoenix/util/TestUtil.java     |  5 ++
 18 files changed, 223 insertions(+), 117 deletions(-)

commit 661d7309eacd3b3e13cee000db67accc8a7f6999
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 6 19:47:29 2014 -0700

    Atomically increment table timestamp and fix unit tests
    
    Conflicts:
            phoenix-core/src/it/java/org/apache/phoenix/end2end/TenantSpecificTablesDMLIT.java
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java
            phoenix-core/src/main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java

 .../end2end/BaseTenantSpecificTablesIT.java        |   2 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  18 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 193 +++++------
 .../coprocessor/generated/MetaDataProtos.java      | 351 +++++++++++----------
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  17 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  18 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   8 +-
 10 files changed, 320 insertions(+), 295 deletions(-)

commit 90333d9a534e0dcc8eab1f9d5fc10737faa9c221
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Oct 7 01:06:23 2014 -0700

    Rename StatisticsUtils to follow conventions and other misc cleanup

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 44 ++++++------
 .../phoenix/schema/stat/StatisticsTable.java       |  4 +-
 .../{StatisticsUtils.java => StatisticsUtil.java}  | 84 +++++++++-------------
 .../java/org/apache/phoenix/query/BaseTest.java    |  1 -
 .../phoenix/query/QueryServicesTestImpl.java       |  2 -
 5 files changed, 61 insertions(+), 74 deletions(-)

commit e35503374393b0428f4e6603c8e05d87a073e3c3
Author: ravimagham <ravimagham@apache.org>
Date:   Mon Oct 6 20:25:20 2014 -0700

    PHOENIX-1315-Test Load from Index table.

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 39 +++++++++++++++++++++-
 1 file changed, 38 insertions(+), 1 deletion(-)

commit 7dbd3503bf19f1dc9ae3adb573c40fc72803295d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 6 16:02:37 2014 -0700

    PHOENIX-1321 Cleanup setting of timestamps when collecting and using stats

 .../end2end/BaseTenantSpecificTablesIT.java        |   2 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  33 ++++--
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  27 ++---
 .../phoenix/end2end/ParallelIteratorsIT.java       |   2 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |   2 +-
 .../phoenix/end2end/index/SaltedIndexIT.java       |   2 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  22 +++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 105 +++----------------
 .../UngroupedAggregateRegionObserver.java          |  16 ++-
 .../org/apache/phoenix/query/QueryServices.java    |   8 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  28 +++--
 .../org/apache/phoenix/schema/MetaDataClient.java  |   2 +-
 .../phoenix/schema/stat/StatisticsCollector.java   |  27 +++--
 .../phoenix/schema/stat/StatisticsScanner.java     |   8 +-
 .../phoenix/schema/stat/StatisticsTable.java       |  90 ++++++++--------
 .../phoenix/schema/stat/StatisticsUtils.java       | 115 ++++++++++++++++-----
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  12 +++
 .../java/org/apache/phoenix/query/BaseTest.java    |   2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   8 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  13 +++
 20 files changed, 285 insertions(+), 239 deletions(-)

commit 3b30690f6fdb11cc6c5d4bf53ee709b6e97196f7
Author: Jesse Yates <jyates@apache.org>
Date:   Mon Oct 6 11:50:47 2014 -0700

    PHOENIX-1107 Support mutable indexes over replication
    
    Adding test to ensure that we still have indexes working over replication, rather than
    just relying on the fact that it 'just works'.

 .../end2end/index/MutableIndexReplicationIT.java   | 280 +++++++++++++++++++++
 1 file changed, 280 insertions(+)

commit ea0a502ce133972b29c18a984063006d6dcd9691
Author: Jesse Yates <jyates@apache.org>
Date:   Mon Oct 6 11:42:13 2014 -0700

    PHOENIX-1305 create index throws NPE when dataTable has specified default column family (daniel meng)

 .../phoenix/end2end/index/MutableIndexIT.java      | 50 ++++++++++++++++++++++
 .../apache/phoenix/parse/CreateIndexStatement.java |  3 +-
 2 files changed, 52 insertions(+), 1 deletion(-)

commit faeab935554404a042285a01127e9b88b8e3a47c
Author: Jesse Yates <jyates@apache.org>
Date:   Mon Oct 6 10:58:14 2014 -0700

    PHOENIX-1289 Drop index during upsert may abort RS (daniel meng + jyates)

 .../end2end/index/DropIndexDuringUpsertIT.java     | 177 +++++++++++++++
 .../index/write/KillServerOnFailurePolicy.java     |   2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 239 ++++++++++++---------
 3 files changed, 316 insertions(+), 102 deletions(-)

commit 909d975960f4592e75fb3fdb6c2d0cecd2d51f1d
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Oct 6 13:29:07 2014 -0400

    PHOENIX-167 Support semi/anti-joins

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 433 +++--------
 .../org/apache/phoenix/end2end/SubqueryIT.java     | 810 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   2 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  25 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 135 ++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  37 +-
 .../phoenix/compile/StatementNormalizer.java       |   3 +-
 .../apache/phoenix/compile/SubqueryRewriter.java   | 401 ++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |   5 +
 .../org/apache/phoenix/compile/WhereOptimizer.java |  15 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  18 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  44 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   6 +
 .../phoenix/parse/BooleanParseNodeVisitor.java     |  10 +
 .../org/apache/phoenix/parse/ExistsParseNode.java  |   6 +-
 .../org/apache/phoenix/parse/JoinTableNode.java    |  10 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  17 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  18 +-
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |   3 +
 .../StatelessTraverseAllParseNodeVisitor.java      |   9 +
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  40 +-
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  10 +
 .../parse/UnsupportedAllParseNodeVisitor.java      |  25 +
 .../phoenix/compile/JoinQueryCompilerTest.java     |  13 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   8 +
 .../java/org/apache/phoenix/util/TestUtil.java     |   3 +
 27 files changed, 1644 insertions(+), 465 deletions(-)

commit 719eaf07aea4b79b2b322ee2064dc54835adf4e2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 6 09:25:08 2014 -0700

    Fix constant declaration for better readability

 .../src/it/java/org/apache/phoenix/end2end/ParallelIteratorsIT.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b98d0a8ccde8da79e537e58cdd8e67dc520cad5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Oct 6 01:16:36 2014 -0700

    Fix comparison for min time before doing an update stats and set small min in test
    Set frequency for stats update to 0 for testing

 .../main/java/org/apache/phoenix/schema/MetaDataClient.java | 13 ++++++-------
 .../org/apache/phoenix/query/QueryServicesTestImpl.java     |  2 ++
 2 files changed, 8 insertions(+), 7 deletions(-)

commit 166671c89b296c8c6a8369114fd3e0af797b8887
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 5 13:26:52 2014 -0700

    PHOENIX-1257 Upserted data seen by SELECT in UPSERT SELECT execution (Lars Hofhansl)

 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 67 +++++++++-------------
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  2 +-
 .../SkipRangeParallelIteratorRegionSplitterIT.java |  3 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |  2 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |  4 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |  4 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  | 23 ++++++++
 .../salted/SaltedTableVarLengthRowKeyIT.java       |  8 +--
 .../org/apache/phoenix/compile/FromCompiler.java   | 32 +++++++----
 .../org/apache/phoenix/compile/UpsertCompiler.java | 19 ++++++
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |  6 --
 11 files changed, 104 insertions(+), 66 deletions(-)

commit 846a8b52eaf12245352cb64da72e1d8c17f4a8c9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 5 10:48:11 2014 -0700

    PHOENIX-1325 Pass in instead of calculate if we've crossed a region boundary in ScanRanges intersect methods

 .../apache/phoenix/cache/ServerCacheClient.java    |  3 ++-
 .../org/apache/phoenix/compile/ScanRanges.java     | 28 ++++++++++++++--------
 .../apache/phoenix/iterate/ParallelIterators.java  |  4 ++--
 .../phoenix/compile/ScanRangesIntersectTest.java   |  2 +-
 .../org/apache/phoenix/compile/ScanRangesTest.java |  2 +-
 5 files changed, 24 insertions(+), 15 deletions(-)

commit 56a0c8529c3dd0b447dca3e00125a5d480ffd4ef
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Oct 5 09:53:14 2014 -0700

    PHOENIX-1315 Optimize query for Pig loader
    
    Conflicts:
            phoenix-pig/src/main/java/org/apache/phoenix/pig/hadoop/PhoenixRecordReader.java

 .../apache/phoenix/end2end/EvaluationOfORIT.java   |  9 ++--
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |  4 +-
 .../SkipRangeParallelIteratorRegionSplitterIT.java |  5 ++
 .../hbase/index/balancer/IndexLoadBalancerIT.java  | 13 +++--
 .../java/org/apache/phoenix/compile/QueryPlan.java |  3 ++
 .../org/apache/phoenix/execute/AggregatePlan.java  |  6 +++
 .../phoenix/execute/DegenerateQueryPlan.java       | 12 ++++-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  5 ++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  8 +++
 .../phoenix/iterate/ConcatResultIterator.java      | 29 +++++++++++
 .../phoenix/iterate/LookAheadResultIterator.java   | 21 ++++++++
 .../apache/phoenix/iterate/ParallelIterators.java  | 39 ++++----------
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  6 +++
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 24 ++++-----
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     | 13 ++---
 .../phoenix/pig/hadoop/PhoenixInputSplit.java      | 60 ++++++++++++++++------
 .../phoenix/pig/hadoop/PhoenixRecordReader.java    | 25 +++++----
 17 files changed, 196 insertions(+), 86 deletions(-)

commit f551f85ae07d6317a50aab3aacd4b445ce482c00
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 4 18:12:18 2014 -0700

    PHOENIX-1323 Use utility method to get HTableInterface for scans from coprocessor

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 33 ++++++++--------------
 .../java/org/apache/phoenix/util/ServerUtil.java   | 23 ++++++++++++++-
 2 files changed, 34 insertions(+), 22 deletions(-)

commit 8621b7c9b7d2ca89643fdabf0948e30781326a27
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Oct 4 16:54:36 2014 -0700

    PHOENIX-1320 Update stats atomically

 .../UngroupedAggregateRegionObserver.java          | 58 +++++++++-------
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 44 +++++-------
 .../org/apache/phoenix/query/QueryConstants.java   |  5 +-
 .../phoenix/schema/stat/StatisticsCollector.java   | 66 +++++++++---------
 .../phoenix/schema/stat/StatisticsScanner.java     | 34 +++++++---
 .../phoenix/schema/stat/StatisticsTable.java       | 78 +++++++++++++---------
 .../phoenix/schema/stat/StatisticsUtils.java       |  8 ---
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  5 ++
 9 files changed, 166 insertions(+), 135 deletions(-)

commit b1be0f8b8b5921bd6d0a91f549294eea7f27da95
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 3 22:30:45 2014 -0700

    PHOENIX-1030 Change Expression.isDeterministic() to return a enum of values ALWAYS, PER_STATEMENT, PER_ROW (Thomas D'Silva)

 .../phoenix/compile/CreateTableCompiler.java       |  4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java | 64 +++++++-------
 .../apache/phoenix/compile/SequenceManager.java    |  5 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  7 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  3 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  3 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  3 +-
 .../apache/phoenix/expression/AndExpression.java   |  6 +-
 .../phoenix/expression/BaseCompoundExpression.java | 11 ++-
 .../apache/phoenix/expression/BaseExpression.java  |  6 +-
 .../phoenix/expression/ComparisonExpression.java   | 34 ++++----
 .../expression/CurrentDateTimeFunction.java        |  4 +-
 .../org/apache/phoenix/expression/Determinism.java | 19 +++++
 .../org/apache/phoenix/expression/Expression.java  |  6 +-
 .../phoenix/expression/InListExpression.java       |  4 +-
 .../phoenix/expression/IsNullExpression.java       |  4 +-
 .../phoenix/expression/LiteralExpression.java      | 99 ++++++++++++----------
 .../apache/phoenix/expression/NotExpression.java   |  4 +-
 .../expression/function/AggregateFunction.java     |  5 +-
 .../expression/function/CeilDecimalExpression.java |  8 +-
 .../expression/function/CoalesceFunction.java      |  3 +-
 .../function/CountAggregateFunction.java           |  4 +-
 .../function/FloorDecimalExpression.java           |  8 +-
 .../expression/function/RoundDateExpression.java   |  5 +-
 .../function/RoundDecimalExpression.java           |  6 +-
 .../function/SingleAggregateFunction.java          |  4 +-
 .../apache/phoenix/parse/FunctionParseNode.java    | 10 ++-
 .../org/apache/phoenix/util/ExpressionUtil.java    | 28 +++---
 .../apache/phoenix/expression/DeterminismTest.java | 37 ++++++++
 29 files changed, 248 insertions(+), 156 deletions(-)

commit 340280b2e18587b5df89a5e8c6cda0ac6715bb8b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 3 21:53:19 2014 -0700

    PHOENIX-1251 Salted queries with range scan become full table scans

 .../src/main/java/org/apache/phoenix/compile/ScanRanges.java        | 6 ++++++
 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java     | 3 +++
 2 files changed, 9 insertions(+)

commit cd8c6b877bca5b7405870d6688c3c8054e2d17f3
Merge: d018cc1c6 051e40843
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Oct 3 17:33:33 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit d018cc1c6e01d9836de6e67af4f8b91de3269bfd
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Oct 1 08:49:04 2014 -0700

    PHOENIX-1251 Salted queries with range scan become full table scans
    
    Conflicts:
            phoenix-core/src/it/java/org/apache/phoenix/end2end/SkipScanAfterManualSplitIT.java
            phoenix-core/src/main/java/org/apache/phoenix/iterate/ParallelIterators.java

 .../BaseParallelIteratorsRegionSplitterIT.java     |  90 ----
 .../end2end/BaseTenantSpecificViewIndexIT.java     |   9 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   4 +-
 .../DefaultParallelIteratorsRegionSplitterIT.java  | 163 -------
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |   1 +
 .../java/org/apache/phoenix/end2end/InListIT.java  |   7 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  57 +--
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  73 +---
 ...tsLifeCycleIT.java => ParallelIteratorsIT.java} | 154 +++----
 .../SkipRangeParallelIteratorRegionSplitterIT.java | 109 ++++-
 .../end2end/SkipScanAfterManualSplitIT.java        |  30 +-
 .../org/apache/phoenix/end2end/StatsManagerIT.java | 198 ---------
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  55 +--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |   2 +
 .../phoenix/end2end/index/MutableIndexIT.java      |   1 +
 .../phoenix/end2end/index/SaltedIndexIT.java       |   4 +-
 .../apache/phoenix/cache/ServerCacheClient.java    |  15 +-
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../org/apache/phoenix/compile/ScanRanges.java     | 370 ++++++++++++----
 .../apache/phoenix/compile/StatementContext.java   |  46 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  39 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  82 ++--
 .../org/apache/phoenix/execute/AggregatePlan.java  |   2 +-
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   5 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   5 +
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   4 +-
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  34 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   1 -
 .../DefaultParallelIteratorRegionSplitter.java     | 173 --------
 .../org/apache/phoenix/iterate/ExplainTable.java   |   9 +-
 .../LocalIndexParallelIteratorRegionSplitter.java  |  43 --
 .../ParallelIteratorRegionSplitterFactory.java     |  42 --
 .../apache/phoenix/iterate/ParallelIterators.java  | 472 +++++++++++++++------
 .../SkipRangeParallelIteratorRegionSplitter.java   |  83 ----
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../java/org/apache/phoenix/query/KeyRange.java    |   8 +
 .../org/apache/phoenix/query/StatsManager.java     |  59 ---
 .../org/apache/phoenix/query/StatsManagerImpl.java | 218 ----------
 .../phoenix/schema/stat/StatisticsCollector.java   |  48 ++-
 .../phoenix/schema/stat/StatisticsTable.java       |   6 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  69 ++-
 .../phoenix/compile/ScanRangesIntersectTest.java   | 105 +++++
 .../org/apache/phoenix/compile/ScanRangesTest.java |   2 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |  13 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |   5 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java |   3 +-
 .../org/apache/phoenix/query/QueryPlanTest.java}   |  69 +--
 .../java/org/apache/phoenix/util/TestUtil.java     |  41 ++
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     |  25 +-
 49 files changed, 1291 insertions(+), 1769 deletions(-)

commit 051e40843bb2c8154d31f54ef17ae66cd2824d4f
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Fri Oct 3 17:18:01 2014 -0700

    PHOENIX-1310: Spill files filling up /tmp on server(Siddharth Wagle)

 .../apache/phoenix/cache/aggcache/SpillFile.java   | 42 ++++++++++++----------
 .../phoenix/cache/aggcache/SpillManager.java       |  6 +++-
 2 files changed, 28 insertions(+), 20 deletions(-)

commit a55c03cc91aebdd9ce3d04fbd32d7500ad4f67ce
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Oct 1 12:30:08 2014 +0530

    Phoenix-1263 Only cache guideposts on physical PTable

 .../end2end/BaseTenantSpecificTablesIT.java        | 22 ++++-
 .../DefaultParallelIteratorsRegionSplitterIT.java  |  2 +-
 .../phoenix/end2end/GuidePostsLifeCycleIT.java     |  4 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  2 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  2 +-
 .../SkipRangeParallelIteratorRegionSplitterIT.java |  2 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java | 96 +++++++++++++++++-----
 .../coprocessor/BaseScannerRegionObserver.java     |  2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 +-
 .../UngroupedAggregateRegionObserver.java          | 22 +++--
 .../DefaultParallelIteratorRegionSplitter.java     | 11 +--
 .../LocalIndexParallelIteratorRegionSplitter.java  |  8 +-
 .../ParallelIteratorRegionSplitterFactory.java     |  6 +-
 .../apache/phoenix/iterate/ParallelIterators.java  | 25 +++++-
 .../SkipRangeParallelIteratorRegionSplitter.java   | 18 ++--
 .../org/apache/phoenix/schema/MetaDataClient.java  | 25 ++++--
 16 files changed, 179 insertions(+), 72 deletions(-)

commit fff2edb4d0a10cd19e13d80465a4b0653ab0ab6b
Author: Andrew Purtell <apurtell@apache.org>
Date:   Tue Sep 30 16:26:39 2014 -0700

    PHOENIX-1272 Avoid pulling in unintended HBase dependencies in phoenix-core

 phoenix-core/pom.xml  | 2 ++
 phoenix-flume/pom.xml | 2 ++
 phoenix-pig/pom.xml   | 2 ++
 pom.xml               | 7 +++++++
 4 files changed, 13 insertions(+)

commit f28fb8b7c5075ccb7a522baa58c2b3ab3003dbe7
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Tue Sep 30 07:40:17 2014 +0530

    PHOENIX-1249 Support local immutable index

 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  11 ++-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  74 +++++++++++++--
 .../apache/phoenix/end2end/index/LocalIndexIT.java |  60 ++++++++----
 .../org/apache/phoenix/compile/DeleteCompiler.java |  13 ++-
 .../phoenix/hbase/index/covered/IndexUpdate.java   |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  55 +++++++++--
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  20 +++-
 .../apache/phoenix/index/PhoenixIndexCodec.java    | 101 ++++++++++++---------
 .../org/apache/phoenix/schema/MetaDataClient.java  |   3 -
 9 files changed, 255 insertions(+), 84 deletions(-)

commit abd049d88ac7940857330aa4900bb8a497e78f41
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Mon Sep 29 08:06:32 2014 +0530

    PHOENIX-1293 By default we should not disable wal for immutable indexes otherwise we end up in data loss on RS failure

 .../src/it/java/org/apache/phoenix/end2end/AlterTableIT.java      | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 4fce08c90bf52ba29642a2aa40971c32516b7c20
Author: maryannxue <maryannxue@apache.org>
Date:   Sun Sep 28 22:30:24 2014 -0400

    PHOENIX-1239 IN clause (and some others) cannot get moved from HAVING clause to WHERE clause when qualified

 .../org/apache/phoenix/compile/HavingCompiler.java |  96 ++-----
 .../org/apache/phoenix/compile/JoinCompiler.java   | 144 ++++------
 .../phoenix/parse/BooleanParseNodeVisitor.java     | 298 +++++++++++++++++++++
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   9 +-
 .../StatelessTraverseAllParseNodeVisitor.java      |  24 ++
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  20 --
 .../apache/phoenix/compile/HavingCompilerTest.java |  10 +
 7 files changed, 415 insertions(+), 186 deletions(-)

commit 0cc8115a13514c76871665bf8802d4ad9e014fc4
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Mon Sep 29 06:49:05 2014 +0530

    PHOENIX-1293 By default we should not disable wal for immutable indexes otherwise we end up in data loss on RS failure

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 3102d8edf4c2bd5a1080e91ccbc8b2fdcb2e9a31
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Sun Sep 28 16:45:35 2014 +0530

    Phoenix-1296 Scan entire region when tenant-specific table is analyzed

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java       | 6 ++++++
 1 file changed, 6 insertions(+)

commit 92e120c5b3a82209973dbde3a62c1cb6fd1fe51b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Sep 27 02:13:32 2014 -0700

    Revert memory change in pom

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0fba23f3a986ae0f5c90997786217c455329bbbe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Sep 27 00:35:54 2014 -0700

    PHOENIX-1298 Queries on fixed width type columns that have an index declared on them don't use that index

 .../org/apache/phoenix/compile/WhereOptimizer.java    | 19 ++++++++++++++++---
 .../test/java/org/apache/phoenix/query/BaseTest.java  |  2 +-
 2 files changed, 17 insertions(+), 4 deletions(-)

commit 9241c73a564547b4e30bd0b7d9cc21ef00cc309c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 26 21:33:21 2014 -0700

    Increasing memory a little bit

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13742ae1f6a6d90774285d6cf51eb5a934688d50
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 26 21:18:42 2014 -0700

    PHOENIX-1298 Queries on fixed width type columns that have an index declared on them don't use that index (Samarth Jain)

 .../main/java/org/apache/phoenix/compile/WhereOptimizer.java  |  6 +-----
 .../java/org/apache/phoenix/compile/QueryOptimizerTest.java   | 11 +++++++++++
 2 files changed, 12 insertions(+), 5 deletions(-)

commit 3acedb7262dbf5241e443a2769565e6750b4ac14
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Sep 26 10:47:33 2014 -0700

    Added custom annotations to logs in query-related functionality in client- and server-side code for PHOENIX-1198

 .../apache/phoenix/cache/ServerCacheClient.java    | 18 ++++------
 .../org/apache/phoenix/compile/FromCompiler.java   |  3 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  5 +++
 .../GroupedAggregateRegionObserver.java            | 39 ++++++++++++----------
 .../UngroupedAggregateRegionObserver.java          |  7 ++--
 .../org/apache/phoenix/execute/BaseQueryPlan.java  | 15 +++++++++
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  5 +--
 .../org/apache/phoenix/execute/MutationState.java  | 12 +++----
 .../phoenix/iterate/ChunkedResultIterator.java     | 14 ++++++--
 .../phoenix/iterate/ConcatResultIterator.java      |  5 +++
 .../DefaultParallelIteratorRegionSplitter.java     |  3 +-
 .../iterate/DistinctAggregatingResultIterator.java |  7 ++++
 .../iterate/FilterAggregatingResultIterator.java   |  6 ++++
 .../phoenix/iterate/FilterResultIterator.java      |  6 ++++
 .../iterate/GroupedAggregatingResultIterator.java  |  7 ++++
 .../phoenix/iterate/LimitingResultIterator.java    |  5 +++
 .../iterate/MergeSortRowKeyResultIterator.java     |  6 ++++
 .../iterate/MergeSortTopNResultIterator.java       |  7 ++++
 .../phoenix/iterate/OrderedResultIterator.java     | 10 ++++++
 .../apache/phoenix/iterate/ParallelIterators.java  |  8 ++++-
 .../iterate/RegionScannerResultIterator.java       |  5 +++
 .../phoenix/iterate/ScanningResultIterator.java    |  5 +++
 .../phoenix/iterate/SequenceResultIterator.java    |  6 ++++
 .../phoenix/iterate/TableResultIterator.java       |  6 ++++
 .../UngroupedAggregatingResultIterator.java        |  6 ++++
 .../phoenix/query/ConnectionQueryServicesImpl.java |  1 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 ++--
 .../java/org/apache/phoenix/trace/TraceReader.java |  2 +-
 .../org/apache/phoenix/trace/TracingIterator.java  |  5 +++
 .../main/java/org/apache/phoenix/util/LogUtil.java | 27 ++++++++++++---
 .../java/org/apache/phoenix/util/ScanUtil.java     | 10 ++++++
 .../java/org/apache/phoenix/util/LogUtilTest.java  | 27 +++++++++++----
 32 files changed, 231 insertions(+), 64 deletions(-)

commit 6b04610022415fcc27ea69fe001cbd464badf355
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Fri Sep 26 11:21:40 2014 +0530

    Phoenix-1264 : Add StatisticsCollector to existing tables on first
    connection to cluster

 .../DefaultParallelIteratorsRegionSplitterIT.java  |  15 ++
 .../phoenix/end2end/GuidePostsLifeCycleIT.java     |  22 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |  15 ++
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  14 ++
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  44 ++--
 .../coprocessor/BaseScannerRegionObserver.java     |   1 +
 .../UngroupedAggregateRegionObserver.java          |  72 +++++-
 .../DefaultParallelIteratorRegionSplitter.java     |  30 +--
 .../phoenix/query/ConnectionQueryServices.java     |   3 -
 .../phoenix/query/ConnectionQueryServicesImpl.java |  51 +----
 .../query/ConnectionlessQueryServicesImpl.java     |   6 -
 .../query/DelegateConnectionQueryServices.java     |   5 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |  36 ++-
 .../phoenix/schema/stat/StatisticsCollector.java   | 249 ++++++---------------
 .../phoenix/schema/stat/StatisticsScanner.java     |   7 +-
 .../phoenix/schema/stat/StatisticsTable.java       |  49 ++--
 .../phoenix/schema/stat/StatisticsTracker.java     |  62 -----
 .../java/org/apache/phoenix/util/ScanUtil.java     |   4 +
 .../phoenix/query/QueryServicesTestImpl.java       |   2 +-
 phoenix-protocol/src/main/StatisticsCollect.proto  |  20 --
 20 files changed, 272 insertions(+), 435 deletions(-)

commit 10efdb1f274d344536baef56101ab903c10de12b
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Sep 25 13:52:31 2014 -0400

    PHOENIX-1168 Support non-correlated sub-queries in where clause having a comparison operator with no modifier or a comparison operator modified by ANY, SOME or ALL(fix regression)

 .../src/main/java/org/apache/phoenix/compile/StatementNormalizer.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a0694b77c1e16c90af96d3092b1f941052493244
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Sep 25 12:30:03 2014 -0400

    PHOENIX-1168 Support non-correlated sub-queries in where clause having a comparison operator with no modifier or a comparison operator modified by ANY, SOME or ALL

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 322 ++++++++++++++------
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   4 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  37 +++
 .../org/apache/phoenix/compile/JoinCompiler.java   |   7 +
 .../org/apache/phoenix/compile/QueryCompiler.java  |  57 ++--
 .../apache/phoenix/compile/StatementContext.java   |  15 +
 .../phoenix/compile/StatementNormalizer.java       |  13 +
 .../org/apache/phoenix/compile/WhereCompiler.java  |  46 ++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   1 +
 .../org/apache/phoenix/execute/BaseQueryPlan.java  |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 334 +++++++++++++++------
 .../phoenix/expression/ComparisonExpression.java   |   3 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  18 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  36 ++-
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |   7 +-
 .../phoenix/parse/SelectStatementRewriter.java     |  13 +
 .../StatelessTraverseAllParseNodeVisitor.java      |   5 +
 .../apache/phoenix/parse/SubqueryParseNode.java    |   8 +-
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  10 +
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  15 +
 .../phoenix/compile/JoinQueryCompilerTest.java     |   4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  22 +-
 22 files changed, 738 insertions(+), 241 deletions(-)

commit ea5a797ebcd611670c5400aa7aaae3b3b414c43d
Author: Lars Hofhansl <larsh@apache.org>
Date:   Thu Sep 25 08:43:33 2014 -0700

    PHOENIX-1281 Each MultiKeyValueTuple.setKeyValues creates a new immutable list object.

 .../main/java/org/apache/phoenix/coprocessor/ScanRegionObserver.java | 4 +++-
 .../java/org/apache/phoenix/schema/tuple/MultiKeyValueTuple.java     | 5 ++---
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 940b70d65495e93c67323ef93eca8191fecdfe98
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Thu Sep 25 16:03:05 2014 +0530

    Phoenix-1275 SYSTEM.STATS table is not created when SYSTEM.CATALOG is
    already present

 .../phoenix/query/ConnectionQueryServicesImpl.java | 26 ++++++++++++++++------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 6908c90b5bfc5b5cc4a98d4dd32557a075d87a45
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Sep 24 18:45:26 2014 -0700

    PHOENIX-1273 Phoenix should provide ILIKE keyword (Jean-Marc Spaggiari)

 .../apache/phoenix/end2end/VariableLengthPKIT.java | 137 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   5 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  31 ++---
 .../org/apache/phoenix/compile/WhereOptimizer.java |   5 +-
 .../apache/phoenix/expression/LikeExpression.java  |  65 +++++++---
 .../org/apache/phoenix/parse/LikeParseNode.java    |  13 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  71 ++++++-----
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  78 ++++++------
 .../phoenix/expression/ILikeExpressionTest.java    |  62 ++++++++++
 .../phoenix/expression/LikeExpressionTest.java     |  39 ++++--
 .../java/org/apache/phoenix/util/TestUtil.java     |   9 +-
 11 files changed, 392 insertions(+), 123 deletions(-)

commit 70319eabedfff3b72e3bd8f3aacbbb717808c8cc
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Sep 24 08:56:17 2014 +0200

    PHOENIX-1288 Fix selecting multiple array indexes
    
    Don't attempt to remove the same Cell multiple times when
    transforming multiple array index references into a single
    filtered Cell.

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 101 +++++++++++----------
 .../phoenix/coprocessor/ScanRegionObserver.java    |  62 ++++++-------
 2 files changed, 82 insertions(+), 81 deletions(-)

commit ed4163b7e52dd7ca270b7ee42bdf83bdd769966a
Author: Lars Hofhansl <larsh@apache.org>
Date:   Tue Sep 23 17:49:36 2014 -0700

    PHOENIX-1280 ColumnProjectionFilter creates too many ImmutableBytesPtrs

 .../phoenix/filter/ColumnProjectionFilter.java      | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit c72c4a65dc7b8406301fc6f9909f81195bc134a0
Author: Jesse Yates <jyates@apache.org>
Date:   Mon Sep 22 14:15:56 2014 -0700

    PHOENIX-103 Drop hadoop1.0 specifics from code

 .../bin => bin}/hadoop-metrics2-hbase.properties   |   0
 .../bin => bin}/hadoop-metrics2-phoenix.properties |   0
 phoenix-assembly/pom.xml                           |   4 +-
 phoenix-assembly/src/build/hadoop-two-all.xml      |  64 ----
 .../{hadoop-one-all.xml => package-to-tar-all.xml} |  15 -
 phoenix-core/pom.xml                               | 280 ++++++------------
 phoenix-flume/pom.xml                              | 276 ++++++-----------
 phoenix-hadoop1-compat/pom.xml                     |  40 ---
 phoenix-pig/pom.xml                                | 292 ++++++------------
 pom.xml                                            | 329 ++++++---------------
 10 files changed, 364 insertions(+), 936 deletions(-)

commit 98078328864ef66308f429d26e93703467e5d5b9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 23 02:38:57 2014 -0700

    PHOENIX-1284 Override config properties for unit tests not making it to server

 .../src/it/java/org/apache/phoenix/end2end/ContextClassloaderIT.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2bcabf89da714a2cceb68dead5ef2fa9e72a9f58
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 23 02:29:12 2014 -0700

    Adding missing files from fix for PHOENIX-1284

 .../src/it/java/org/apache/phoenix/end2end/ReverseScanIT.java         | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/index/LocalIndexIT.java    | 2 +-
 .../src/it/java/org/apache/phoenix/end2end/index/ViewIndexIT.java     | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit e4dc9cd5914dbdcedb34dc24450e97492f858480
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 23 01:23:54 2014 -0700

    PHOENIX-1284 Override config properties for unit tests not making it to server
    
    Conflicts:
            phoenix-core/src/it/java/org/apache/phoenix/end2end/index/MutableIndexIT.java
            phoenix-core/src/it/java/org/apache/phoenix/end2end/index/SaltedIndexIT.java
            phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java

 .../phoenix/end2end/BaseClientManagedTimeIT.java   | 31 +----------
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    | 31 +----------
 .../BaseParallelIteratorsRegionSplitterIT.java     |  2 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |  2 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  2 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  2 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |  2 +-
 .../org/apache/phoenix/end2end/QueryPlanIT.java    |  2 +-
 .../org/apache/phoenix/end2end/SequenceIT.java     |  2 +-
 .../SkipRangeParallelIteratorRegionSplitterIT.java |  2 +-
 .../end2end/SkipScanAfterManualSplitIT.java        |  2 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |  2 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |  2 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  2 +-
 .../apache/phoenix/end2end/index/DropViewIT.java   |  2 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |  3 +-
 .../phoenix/end2end/index/SaltedIndexIT.java       | 17 +++---
 .../java/org/apache/phoenix/query/BaseTest.java    | 62 ++++++++++++++++++----
 18 files changed, 76 insertions(+), 94 deletions(-)

commit 614a2439b5ae005e1bea73e627eb7a989c8eaafe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Sep 23 01:35:46 2014 -0700

    PHOENIX-1285 Override default for histogram depth in QueryServicesTestImpl

 .../src/it/java/org/apache/phoenix/end2end/BaseQueryIT.java |  1 -
 .../java/org/apache/phoenix/end2end/StatsCollectorIT.java   |  2 +-
 .../iterate/DefaultParallelIteratorRegionSplitter.java      |  2 +-
 .../main/java/org/apache/phoenix/query/QueryServices.java   |  2 +-
 .../java/org/apache/phoenix/query/QueryServicesOptions.java | 13 ++++++-------
 .../org/apache/phoenix/schema/stat/StatisticsCollector.java |  2 +-
 .../src/test/java/org/apache/phoenix/query/BaseTest.java    |  2 +-
 .../org/apache/phoenix/query/QueryServicesTestImpl.java     |  3 +++
 8 files changed, 14 insertions(+), 13 deletions(-)

commit d88f3571fd4f7b5e0fbb30c8c944179ea006709e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Sep 21 13:44:12 2014 -0700

    PHOENIX-1268 Misleading exception when attempting to drop system table

 .../java/org/apache/phoenix/end2end/AlterTableIT.java  | 18 ++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g              |  2 +-
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 598bc323f49c8d0413c45019fafcbe94036cf67a
Author: mravi <maghamravikiran@gmail.com>
Date:   Sun Sep 21 10:17:26 2014 -0700

    Phoenix 1050 : Support for DataByteArray.

 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   | 115 +++++++++++++++++++++
 .../java/org/apache/phoenix/pig/util/TypeUtil.java |  48 ++++-----
 2 files changed, 139 insertions(+), 24 deletions(-)

commit f2c9bbab0bd2297a06a16962c8641b50c3472eef
Author: mravi <maghamravikiran@gmail.com>
Date:   Sun Sep 21 10:15:19 2014 -0700

    Phoenix-1044 : Changes to PhoenixRecordReader to fix the scan.

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 56 ++++++++++++++++++++++
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     | 21 +++-----
 .../phoenix/pig/hadoop/PhoenixRecordReader.java    | 11 ++---
 3 files changed, 67 insertions(+), 21 deletions(-)

commit 2fe9be740d3d6d54013bc45f2a4061a17a363f8f
Merge: 19e333ad7 1040fd05c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Sep 20 21:50:33 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 19e333ad726e993028e54b6612303f454f26b673
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Sep 20 21:50:12 2014 -0700

    PHOENIX-1266 Disallow setting NOT NULL constraint on non PK columns

 .../java/org/apache/phoenix/end2end/CreateTableIT.java   | 14 ++++++++++++++
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java       |  2 +-
 .../java/org/apache/phoenix/schema/MetaDataClient.java   | 16 +++++++++-------
 .../main/java/org/apache/phoenix/schema/PColumnImpl.java |  6 +++++-
 .../org/apache/phoenix/compile/QueryCompilerTest.java    |  2 +-
 .../src/test/java/org/apache/phoenix/query/BaseTest.java | 16 ++++++++--------
 6 files changed, 38 insertions(+), 18 deletions(-)

commit 1040fd05ca317035c1a4bb3e123110b1a8f678e8
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Sat Sep 20 20:23:49 2014 +0200

    PHOENIX-1258 Fix RegexpSubstrFunction serialization
    
    Correct deserialization of RegexpSubstrFunction so that it can
    be used in filters and group-by statements.
    
    Contributed by Jay Wong.

 .../phoenix/end2end/RegexpSubstrFunctionIT.java    | 90 ++++++++++++++++++++++
 .../expression/function/RegexpSubstrFunction.java  |  8 ++
 2 files changed, 98 insertions(+)

commit 2e9677d35682131569d986602c62e3c92ab4e27d
Merge: 135968902 1f54dfe76
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 19 16:38:53 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 135968902d6b8f34c678482f11643d31530ed6ef
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Sep 19 16:38:28 2014 -0700

    PHOENIX-180 Use stats to guide query parallelization (Ramkrishna S Vasudevan)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |   12 +-
 .../phoenix/end2end/BaseClientManagedTimeIT.java   |    2 +-
 .../BaseParallelIteratorsRegionSplitterIT.java     |    9 +-
 .../org/apache/phoenix/end2end/BaseQueryIT.java    |    8 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |    2 -
 .../DefaultParallelIteratorsRegionSplitterIT.java  |   55 +-
 .../phoenix/end2end/GuidePostsLifeCycleIT.java     |  148 +++
 .../org/apache/phoenix/end2end/HashJoinIT.java     |    2 -
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   61 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |   78 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |    4 +
 .../java/org/apache/phoenix/end2end/QueryIT.java   |   39 +-
 .../org/apache/phoenix/end2end/ReverseScanIT.java  |    2 -
 .../SkipRangeParallelIteratorRegionSplitterIT.java |   32 +-
 .../apache/phoenix/end2end/StatsCollectorIT.java   |  231 ++++
 .../org/apache/phoenix/end2end/StatsManagerIT.java |    2 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |    4 +
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |   23 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |    2 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |    1 -
 .../phoenix/end2end/index/SaltedIndexIT.java       |   17 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |   21 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   10 +-
 .../java/org/apache/phoenix/cache/GlobalCache.java |    7 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  130 +-
 .../coprocessor/generated/MetaDataProtos.java      | 1223 ++++++++++++++++++-
 .../coprocessor/generated/StatCollectorProtos.java | 1269 ++++++++++++++++++++
 .../DefaultParallelIteratorRegionSplitter.java     |  198 ++-
 .../LocalIndexParallelIteratorRegionSplitter.java  |    6 +-
 .../iterate/ParallelIteratorRegionSplitter.java    |    2 -
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   16 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   49 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |    4 +
 .../phoenix/parse/UpdateStatisticsStatement.java   |   26 +
 .../phoenix/query/ConnectionQueryServices.java     |    6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  164 ++-
 .../query/ConnectionlessQueryServicesImpl.java     |   43 +-
 .../query/DelegateConnectionQueryServices.java     |   16 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   28 +-
 .../org/apache/phoenix/query/QueryServices.java    |    8 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   34 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  225 +++-
 .../org/apache/phoenix/schema/PColumnFamily.java   |    3 +
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |   25 +-
 .../java/org/apache/phoenix/schema/PTable.java     |    7 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  118 +-
 .../apache/phoenix/schema/stat/PTableStats.java    |   27 +-
 .../phoenix/schema/stat/PTableStatsImpl.java       |   37 +-
 .../phoenix/schema/stat/StatisticsCollector.java   |  447 +++++++
 .../phoenix/schema/stat/StatisticsScanner.java     |  117 ++
 .../phoenix/schema/stat/StatisticsTable.java       |  168 +++
 .../phoenix/schema/stat/StatisticsTracker.java     |   62 +
 .../phoenix/schema/stat/StatisticsUtils.java       |   80 ++
 .../java/org/apache/phoenix/query/BaseTest.java    |   17 +-
 .../phoenix/query/QueryServicesTestImpl.java       |    6 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   15 +-
 phoenix-protocol/src/main/PTable.proto             |    2 +-
 phoenix-protocol/src/main/StatisticsCollect.proto  |   20 +
 pom.xml                                            |    2 +-
 59 files changed, 4830 insertions(+), 542 deletions(-)

commit 1f54dfe7691e73f21bea2a67a1fb42edac706641
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Sep 19 16:13:05 2014 -0700

    First pass at PHOENIX-1198: added custom annotations to client-side log lines that are within the scope of a user operation

 .../phoenix/trace/PhoenixTracingEndToEndIT.java    |  2 +-
 .../apache/phoenix/cache/ServerCacheClient.java    | 23 ++++++++---
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 16 ++++++--
 .../org/apache/phoenix/query/QueryServices.java    |  1 +
 .../java/org/apache/phoenix/trace/TraceReader.java | 24 ++++++++----
 .../org/apache/phoenix/trace/util/Tracing.java     |  3 +-
 .../main/java/org/apache/phoenix/util/LogUtil.java | 34 ++++++++++++++++
 .../java/org/apache/phoenix/util/LogUtilTest.java  | 45 ++++++++++++++++++++++
 .../org/apache/phoenix/trace/TracingCompat.java    |  2 +-
 9 files changed, 131 insertions(+), 19 deletions(-)

commit bca79af4a563df30ec2ff4acb57c74e02b70ac2e
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Sep 19 11:39:29 2014 -0700

    PHOENIX-1262 Generate phoenix-server jar with and without antlr

 phoenix-assembly/pom.xml                           |  4 ++-
 .../src/build/server-without-antlr.xml             | 42 ++++++++++++++++++++++
 phoenix-assembly/src/build/server.xml              |  2 +-
 3 files changed, 46 insertions(+), 2 deletions(-)

commit f4ef42d6902b8edf8aa88dd81756300f6071d34d
Author: Eli Levine <elilevine@apache.org>
Date:   Thu Sep 18 20:31:19 2014 -0700

    Custom tracing annotations PHOENIX-1196

 .../apache/phoenix/trace/BaseTracingTestIT.java    | 16 +++++-
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 61 ++++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 22 ++++++++
 .../org/apache/phoenix/trace/util/Tracing.java     | 21 ++++++++
 .../java/org/apache/phoenix/util/JDBCUtil.java     | 45 +++++++++++++++-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  7 +++
 .../java/org/apache/phoenix/util/JDBCUtilTest.java | 59 +++++++++++++++++++++
 7 files changed, 228 insertions(+), 3 deletions(-)

commit 797af91a6b77e3cbea51ec94ba5a01762efa293c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 18 15:41:27 2014 -0700

    PHOENIX-1237 COALESCE Function - type of second parameter (Vaclav Loffelmann)

 .../end2end/ClientTimeArithmeticQueryIT.java       |   2 +-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java | 273 ++++++++++++++++++++-
 .../expression/function/CoalesceFunction.java      |  40 ++-
 3 files changed, 293 insertions(+), 22 deletions(-)

commit bba2eeecf76c8b30cab0272273bd89a0de30e0e0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 18 15:38:31 2014 -0700

    Remove unused local variable

 .../phoenix/expression/function/RegexpSplitFunction.java     | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 486e28b5821fdce014755b695248fba995c37225
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Sep 16 10:04:59 2014 +0200

    PHOENIX-1253 Throw SQLException on prepared stmt
    
    Throw an SQLException if a bind parameter with an invalid index
    is set (via setXXX methods) on a PhoenixPreparedStatement.

 .../phoenix/jdbc/PhoenixPreparedStatement.java     | 79 ++++++++++++++--------
 .../phoenix/jdbc/PhoenixPreparedStatementTest.java | 61 +++++++++++++++++
 2 files changed, 112 insertions(+), 28 deletions(-)

commit 3034b6583b7af3a5356ee77bba5028dc243c0bb4
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Sep 16 11:58:33 2014 +0200

    PHOENIX-1250 Remove use of Closeables.closeQuietly
    
    Remove the use of Guava's Closeables.closeQuietly to allow using
    Phoenix within a client-side application that has a more recent
    version of Guava. After this commit, Phoenix can be built against
    Guava 18.0 (although full integration tests will not work because
    HBase/Hadoop still rely on an older version of Guava internally).

 phoenix-core/pom.xml                               |  4 ++
 .../apache/phoenix/cache/ServerCacheClient.java    |  4 +-
 .../apache/phoenix/cache/aggcache/SpillFile.java   |  2 +-
 .../phoenix/cache/aggcache/SpillManager.java       |  2 +-
 .../cache/aggcache/SpillableGroupByCache.java      |  2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |  2 +-
 .../GroupedAggregateRegionObserver.java            |  3 +-
 .../phoenix/iterate/TableResultIterator.java       |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  7 ++--
 .../java/org/apache/phoenix/util/Closeables.java   | 46 ++++++++++++++++++----
 .../org/apache/phoenix/flume/sink/PhoenixSink.java |  7 ++--
 pom.xml                                            |  5 +++
 12 files changed, 62 insertions(+), 24 deletions(-)

commit 89c2f27411af1ad6c230201e93ab262b7a92fca1
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Sep 16 09:30:19 2014 +0200

    PHOENIX-1254 Add REGEXP_SPLIT function
    
    Add REGEXP_SPLIT function to create VARCHAR_ARRAYs from a VARCHAR
    by splitting on a regular expression pattern.

 .../phoenix/end2end/RegexpSplitFunctionIT.java     | 210 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   6 +-
 .../expression/function/RegexpSplitFunction.java   | 127 +++++++++++++
 3 files changed, 341 insertions(+), 2 deletions(-)

commit 173c7d72defbb5a73a36fd5c8c12c8e621295e70
Author: sofangel <sofangel@naver.com>
Date:   Tue Sep 16 15:31:34 2014 +0900

    PHOENIX-1216 fix code Change spooling directory
    
    Make the spooling directory configurable.
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../phoenix/iterate/SpoolingResultIterator.java    | 57 +++++++++++-----------
 .../org/apache/phoenix/query/QueryServices.java    |  2 +-
 .../apache/phoenix/query/QueryServicesOptions.java | 11 ++++-
 .../iterate/SpoolingResultIteratorTest.java        |  2 +-
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +
 5 files changed, 42 insertions(+), 32 deletions(-)

commit 20e7559b4406e8e0432d00348686cfd764e2d53e
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Sat Sep 13 08:06:51 2014 +0530

    PHOENIX-1245 Remove usage of empty KeyValue object BATCH_MARKER from Indexer.

 .../org/apache/phoenix/hbase/index/Indexer.java    | 61 ++--------------------
 1 file changed, 4 insertions(+), 57 deletions(-)

commit 20c2d9000ab593e79c75f892e3a2d310abca7c67
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 12 18:25:52 2014 -0700

    PHOENIX-1213 Upsert and delete do not work for multi-tenant tables using tenant-specific connections (Karel Vervaeke)

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java | 51 +++++++++++++++++++++-
 .../org/apache/phoenix/execute/MutationState.java  |  3 +-
 2 files changed, 51 insertions(+), 3 deletions(-)

commit c51dc12b07276ed318982b170446b6867fa12521
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Sep 12 17:21:14 2014 -0700

    PHOENIX-1211 Use skip scan when row value constructor uses leading row key columns (Kyle Buzsaki)

 .../java/org/apache/phoenix/end2end/InListIT.java  | 24 ++++++---
 .../phoenix/end2end/RowValueConstructorIT.java     | 53 ++++++++++++++++++
 .../org/apache/phoenix/compile/ScanRanges.java     |  6 +--
 .../org/apache/phoenix/compile/WhereCompiler.java  |  4 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  6 ---
 .../org/apache/phoenix/filter/SkipScanFilter.java  | 55 ++++++++++++-------
 .../org/apache/phoenix/schema/RowKeySchema.java    | 62 ++++++++++++++++++++--
 .../java/org/apache/phoenix/util/ScanUtil.java     | 39 +++++++++++---
 .../apache/phoenix/compile/WhereOptimizerTest.java |  4 +-
 9 files changed, 202 insertions(+), 51 deletions(-)

commit 08d9b98f3a646801f653e69b8e04b7ea6a70d487
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Sep 6 12:15:05 2014 -0700

    PHOENIX-1225 Evaluation of OR between columns in PK and not in PK incorrect (ycchung, shcchen, kathylin, NTHU-SSLAB)

 .../apache/phoenix/end2end/EvaluationOfORIT.java   | 176 +++++++++++++++++++++
 .../org/apache/phoenix/compile/WhereOptimizer.java |   2 +-
 2 files changed, 177 insertions(+), 1 deletion(-)

commit 284435b5ab4e749febf13ad00f9050f6f25f9e15
Author: Jesse Yates <jyates@apache.org>
Date:   Fri Sep 5 16:44:15 2014 -0700

    PHOENIX-1226 Exception in Tracing
    
    Phoenix tracing expects annotation values to be integers, but HBase writes
    non-integer values in its traces (which end up in the phoenix sink)

 .../org/apache/phoenix/trace/TracingCompat.java    |  4 +-
 .../phoenix/trace/TraceMetricsSourceTest.java      | 96 ++++++++++++++++++++++
 2 files changed, 98 insertions(+), 2 deletions(-)

commit 4a1ec7ec44248315023db41cf4c941a366a1d294
Author: Jesse Yates <jyates@apache.org>
Date:   Thu Sep 4 09:44:10 2014 -0700

    PHOENIX-1234 QueryUtil doesn't parse zk hosts correctly

 .../java/org/apache/phoenix/util/QueryUtil.java    | 55 ++++++++++++++++------
 .../java/org/apache/phoenix/query/BaseTest.java    | 16 +++----
 .../org/apache/phoenix/util/QueryUtilTest.java     | 55 +++++++++++++++++++++-
 3 files changed, 102 insertions(+), 24 deletions(-)

commit ec3be54ef84b0d50004dbe6e0f150a26be66f14b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Sep 4 00:15:13 2014 -0700

    PHOENIX-1098 Support CASCADE option on DROP TABLE that drops all VIEWs (Jan Fernando)

 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 108 +++++++++++++-
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |  90 +++++++++++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   5 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 128 ++++++++++++++---
 .../coprocessor/generated/MetaDataProtos.java      | 157 +++++++++++++++++----
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   8 +-
 .../apache/phoenix/parse/DropTableStatement.java   |   9 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   3 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   8 +-
 phoenix-protocol/src/main/MetaDataService.proto    |   1 +
 14 files changed, 460 insertions(+), 69 deletions(-)

commit 3abb90bb0fa0721a333f919f4d0c734cf51028fc
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Wed Sep 3 18:16:49 2014 +0800

    PHOENIX-1139 Failed to disable local index when index update fails(addendum)

 .../java/org/apache/phoenix/schema/MetaDataClient.java     | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 845888bcb58a6fe5975de4cfabbe9266407de9dc
Author: Rajeshbabu Chintaguntla <rajeshbabu@apache.org>
Date:   Wed Sep 3 04:37:36 2014 +0000

    PHOENIX-1139 Failed to disable local index when index update fails(Rajeshbabu)

 .../end2end/index/MutableIndexFailureIT.java       |  71 ++++++++-----
 .../hbase/index/balancer/IndexLoadBalancer.java    |   2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   | 112 ++++++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  |   7 ++
 4 files changed, 141 insertions(+), 51 deletions(-)

commit 27a6ccef31b3fa7fd4ca4a4e9cb9bc01ae498238
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Sep 2 11:04:31 2014 -0400

    PHOENIX-852 Optimize child/parent foreign key joins

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 263 ++++++++++++++++++++-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  20 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  43 +++-
 .../org/apache/phoenix/compile/ScanRanges.java     |   6 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  33 ++-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  75 +++++-
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 103 +++++++-
 .../org/apache/phoenix/join/HashCacheClient.java   |  14 +-
 .../java/org/apache/phoenix/parse/HintNode.java    |   8 +
 .../org/apache/phoenix/schema/PArrayDataType.java  |  13 +
 .../java/org/apache/phoenix/schema/PDataType.java  | 252 +++++++++++++++++++-
 .../org/apache/phoenix/schema/PDataTypeTest.java   |  21 +-
 12 files changed, 820 insertions(+), 31 deletions(-)

commit c36973263296d3eb4b6ffdbf1a43e9f3e4fe5930
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Sep 2 10:03:13 2014 +0200

    PHOENIX-105 Remove commons-csv source
    
    Remove the fork of the commons-csv source code and use the
    released commons-csv artifact.

 .../src/build/components-major-client.xml          |   1 +
 .../build/components/all-common-dependencies.xml   |   3 +-
 phoenix-core/pom.xml                               |   4 +
 .../java/org/apache/commons/csv/Assertions.java    |  36 -
 .../java/org/apache/commons/csv/CSVFormat.java     | 884 ---------------------
 .../java/org/apache/commons/csv/CSVParser.java     | 470 -----------
 .../java/org/apache/commons/csv/CSVPrinter.java    | 429 ----------
 .../java/org/apache/commons/csv/CSVRecord.java     | 225 ------
 .../java/org/apache/commons/csv/Constants.java     |  68 --
 .../apache/commons/csv/ExtendedBufferedReader.java | 178 -----
 .../main/java/org/apache/commons/csv/Lexer.java    | 431 ----------
 .../main/java/org/apache/commons/csv/Quote.java    |  48 --
 .../main/java/org/apache/commons/csv/Token.java    |  75 --
 .../java/org/apache/commons/csv/package-info.java  |  82 --
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |   6 +-
 pom.xml                                            |   7 +-
 16 files changed, 16 insertions(+), 2931 deletions(-)

commit 4774c63320517fed15c4f4e3ef0a03fdbc597b06
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Sep 1 09:13:38 2014 +0530

    PHOENIX-1203 Uable to work for count (distinct col) queries via phoenix table with secondary indexes.

 .../apache/phoenix/end2end/DistinctCountIT.java    | 45 ++++++++++++++++++++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  2 +-
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 867af78dda90910f07dee0ac9c95cd4a7f50a749
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 28 22:29:50 2014 -0700

    PHOENIX-1208 Check for existence of views doesn't take into account the fact that SYSTEM.CATALOG could be split across regions

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 73 +++++++++-------------
 .../apache/phoenix/coprocessor/SuffixFilter.java   | 50 +++++++++++++++
 2 files changed, 79 insertions(+), 44 deletions(-)

commit bd174c1c936398ad2b4b4c59d5ab6a9289c37afe
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 27 22:49:31 2014 -0700

    Modify test so as to not introduce a Java 1.7 dependency

 .../expression/RoundFloorCeilExpressionsTest.java  | 35 ++++++++++------------
 1 file changed, 15 insertions(+), 20 deletions(-)

commit e8c2664e7705901991114278d182b65c2fb57c00
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Aug 27 18:18:12 2014 -0700

    PHOENIX-1206 Decimal serialization broken for negative numbers with more than 19 digits of precision (Kyle Buzsaki)

 .../java/org/apache/phoenix/schema/PDataType.java  |  4 +--
 .../java/org/apache/phoenix/util/NumberUtil.java   |  2 +-
 .../expression/RoundFloorCeilExpressionsTest.java  | 31 +++++++++++++---------
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 22 +++++++++++++++
 4 files changed, 43 insertions(+), 16 deletions(-)

commit 29c610cfdec8414d0b35f2e66b7090f540c48eb7
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 26 22:43:57 2014 -0700

    PHOENIX-761 Implement getKeyPart for round/ceil/floor of a DECIMAL value (Kyle Buzsaki)

 .../expression/function/CeilDecimalExpression.java |  89 ++--
 .../function/FloorDecimalExpression.java           |  40 +-
 .../function/RoundDecimalExpression.java           | 250 ++++++++-
 .../expression/RoundFloorCeilExpressionsTest.java  | 582 +++++++++++++++++----
 4 files changed, 800 insertions(+), 161 deletions(-)

commit 0e42f3a1fd08013b4fe4d26409a16113e8624bf0
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Aug 25 11:55:59 2014 -0700

    PHOENIX-1183 phoenix-pig does not work with CDH 5.1

 dev/make_rc.sh | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 8cc38126b049fef7763916e38966a1e38c1d0f1c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 25 11:32:59 2014 -0700

    PHOENIX-1184 Phoenix 4.0 will not compile agaist CDH HBase 5.1

 .../org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 3acf9c8efa5dd8b72629274ce7805d79fd467400
Author: Jesse Yates <jyates@apache.org>
Date:   Thu Aug 21 09:47:42 2014 -0700

    PHOENIX-1187 Addendum: fix hadoop2-compat META-INF
    
    Necessary because PhoenixMetricsWriter changed name to PhoenixMetricsSink

 .../META-INF/services/org.apache.phoenix.trace.TestableMetricsWriter    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29a7be42bfa468b12d16fd0756b987f5359c45c4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 21 00:04:12 2014 -0700

    PHOENIX-1188 Performance regression for non-aggregate queries
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/iterate/ChunkedResultIterator.java

 .../phoenix/iterate/ChunkedResultIterator.java     | 85 ++++++++--------------
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  6 --
 .../apache/phoenix/query/QueryServicesOptions.java |  9 ++-
 .../apache/phoenix/trace/TraceMetricSource.java    |  4 +-
 4 files changed, 38 insertions(+), 66 deletions(-)

commit 52b0e0050efca5dd5a49f6844230fd972207022f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 20 20:28:31 2014 -0700

    PHOENIX-1192 Re-enable reverse scan to prevent order by

 .../java/org/apache/phoenix/end2end/OrderByIT.java |  32 -----
 .../org/apache/phoenix/end2end/ReverseScanIT.java  | 152 +++++++++++++++++++++
 .../phoenix/end2end/index/MutableIndexIT.java      |   3 +-
 .../apache/phoenix/compile/OrderByCompiler.java    |   7 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   8 +-
 .../coprocessor/BaseScannerRegionObserver.java     |  16 ++-
 .../org/apache/phoenix/execute/AggregatePlan.java  |   2 +-
 .../{BasicQueryPlan.java => BaseQueryPlan.java}    |  22 +--
 .../phoenix/execute/DegenerateQueryPlan.java       |   2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |   4 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   6 +-
 .../phoenix/iterate/ChunkedResultIterator.java     |   4 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |   2 -
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../apache/phoenix/query/QueryServicesOptions.java |   2 +
 .../java/org/apache/phoenix/util/ScanUtil.java     |  63 +++++++--
 17 files changed, 250 insertions(+), 78 deletions(-)

commit f99e5d8d609d326fb3571255cd8f47961b1c6860
Author: Jesse Yates <jyates@apache.org>
Date:   Tue Aug 19 15:25:57 2014 -0700

    PHOENIX-1187 Enable tracing on server

 phoenix-assembly/pom.xml                           |   2 +-
 phoenix-assembly/src/build/all.xml                 | 184 ---------------------
 .../build/components/all-common-dependencies.xml   |  62 +++++++
 .../src/build/components/all-common-files.xml      |  71 ++++++++
 .../src/build/components/all-common-jars.xml       |  74 +++++++++
 phoenix-assembly/src/build/hadoop-one-all.xml      |  53 ++++++
 phoenix-assembly/src/build/hadoop-two-all.xml      |  64 +++++++
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  11 ++
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   9 +-
 .../phoenix/trace/PhoenixTableMetricsWriter.java   |  45 +++--
 .../org/apache/phoenix/trace/util/Tracing.java     |  22 +++
 .../java/org/apache/phoenix/util/QueryUtil.java    |  33 +++-
 .../java/org/apache/phoenix/metrics/Metrics.java   |  41 +++++
 .../org/apache/phoenix/trace/TracingCompat.java    |   3 +
 .../bin/hadoop-metrics2-hbase.properties           |  20 +++
 .../bin/hadoop-metrics2-phoenix.properties         |  53 ++++++
 ...xMetricsWriter.java => PhoenixMetricsSink.java} |  21 ++-
 .../apache/phoenix/trace/TraceMetricSource.java    |  13 +-
 .../phoenix/trace/PhoenixMetricsWriterTest.java    |   2 +-
 pom.xml                                            |   6 +-
 20 files changed, 567 insertions(+), 222 deletions(-)

commit 4fcd01d6a9c1eec1fec4f872a010f3ec16e5e4d3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 19 23:34:31 2014 -0700

    PHOENIX-1181 client cache fails to update itself after a table was altered from a diff client

 .../org/apache/phoenix/compile/FromCompiler.java   |   9 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 201 +++++++++++----------
 2 files changed, 103 insertions(+), 107 deletions(-)

commit c369bbc611a4ceaf9cfb7fc39f6039f193ceccf6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 19 00:49:22 2014 -0700

    PHOENIX-1181 client cache fails to update itself after a table was altered from a diff client

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  31 ++-
 .../phoenix/compile/CreateIndexCompiler.java       |   2 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  93 ++++---
 .../org/apache/phoenix/compile/FromCompiler.java   |  19 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 287 ++++++++++++---------
 .../org/apache/phoenix/execute/MutationState.java  |   7 +-
 .../org/apache/phoenix/parse/DMLStatement.java     |  27 ++
 .../org/apache/phoenix/parse/DeleteStatement.java  |   2 +-
 .../org/apache/phoenix/parse/UpsertStatement.java  |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   8 +-
 10 files changed, 317 insertions(+), 161 deletions(-)

commit b5971dae61b36f058d37dbc699548da63a068e4e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 19 18:35:07 2014 -0700

    PHOENIX-1186 Pass scan for parallel chunk of work through to ParallelIteratorFactory

 .../apache/phoenix/compile/StatementContext.java   | 24 ----------------------
 .../phoenix/iterate/ChunkedResultIterator.java     |  6 ++++++
 .../apache/phoenix/iterate/ParallelIterators.java  |  5 ++---
 3 files changed, 8 insertions(+), 27 deletions(-)

commit 5c0a08e523a1f66d25c87af3a1fb396c36dc4249
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 19 16:19:07 2014 -0700

    PHOENIX-1186 Pass scan for parallel chunk of work through to ParallelIteratorFactory

 .../compile/MutatingParallelIteratorFactory.java    |  3 ++-
 .../org/apache/phoenix/execute/AggregatePlan.java   |  9 +++++----
 .../phoenix/iterate/ChunkedResultIterator.java      | 21 ++++++++-------------
 .../apache/phoenix/iterate/ParallelIterators.java   |  4 ++--
 .../phoenix/iterate/SpoolingResultIterator.java     |  3 ++-
 5 files changed, 19 insertions(+), 21 deletions(-)

commit 1fe4af34f770083821a794c0615faed83bfa9a2b
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Aug 19 13:03:12 2014 -0700

    PHOENIX-1180 Rename test classes so they are properly picked up by the test runner (Kyle Buzsaki)

 ...ilExpressionsUnitTests.java => RoundFloorCeilExpressionsTest.java} | 2 +-
 .../query/{KeyRangeCoalesceTests.java => KeyRangeCoalesceTest.java}   | 4 ++--
 .../query/{KeyRangeIntersectTests.java => KeyRangeIntersectTest.java} | 4 ++--
 .../phoenix/query/{KeyRangeUnionTests.java => KeyRangeUnionTest.java} | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit b0703c1d461c43b56712ea093214d1db9e3e29d6
Merge: 7b1ba69ff c9b9a40bf
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Aug 19 15:58:08 2014 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 7b1ba69ffe1b32a0af1045d481110d26a4818be6
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Aug 19 15:57:14 2014 -0400

    PHOENIX-1182 UPSERT SELECT not working with joins; Add a test in DerivedTableIT

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 13 ++++++
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 49 ++++++++++++++++++++++
 .../org/apache/phoenix/compile/QueryCompiler.java  | 13 +++---
 3 files changed, 69 insertions(+), 6 deletions(-)

commit c9b9a40bf85da02fb8eb752cf446922f4ffb861b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 17 14:23:04 2014 -0700

    PHOENIX-1166 Avoid HTable creation in coprocessors to write into local index table (JeffreyZ)

 .../index/table/CoprocessorHTableFactory.java      |  12 -
 .../index/write/ParallelWriterIndexCommitter.java  | 345 +++++++++++----------
 .../TrackingParallelWriterIndexCommitter.java      | 345 +++++++++++----------
 3 files changed, 355 insertions(+), 347 deletions(-)

commit 3a4429f5fc5e7018153fb3084b27317ed3eb0d67
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 17 13:14:56 2014 -0700

    PHOENIX-1172 Prevent lock contention in ConnectionQueryServicesImpl. Fix exception handling. (Samarth Jain)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 57 +++++++++++++---------
 1 file changed, 33 insertions(+), 24 deletions(-)

commit 8adcc87a625a0d56bea4b6cf8c3e967b4a226972
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 17 11:21:36 2014 -0700

    PHOENIX-1176 Allow tracing to be turned on globally through config

 .../java/org/apache/phoenix/query/QueryServicesOptions.java   |  3 +++
 .../org/apache/phoenix/trace/util/ConfigurationAdapter.java   | 11 +++++------
 .../src/main/java/org/apache/phoenix/trace/util/Tracing.java  |  8 +++++---
 3 files changed, 13 insertions(+), 9 deletions(-)

commit 828326488eb7c9ec4b52e674a1eccd854bfa373c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 17 11:01:26 2014 -0700

    PHOENIX-1174 Rename and move properties using existing convention

 .../org/apache/phoenix/trace/BaseTracingTestIT.java    | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 0ebe0769c9ab8aa6daa2eb225fc65ea1f9cfe39f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Aug 17 00:35:53 2014 -0700

    PHOENIX-1174 Rename and move properties using existing convention

 .../apache/phoenix/trace/PhoenixTableMetricsWriterIT.java |  5 +++--
 .../apache/phoenix/trace/PhoenixTracingEndToEndIT.java    |  3 ++-
 .../main/java/org/apache/phoenix/query/QueryServices.java | 15 ++++++++-------
 .../org/apache/phoenix/query/QueryServicesOptions.java    |  6 ++++++
 .../apache/phoenix/trace/PhoenixTableMetricsWriter.java   | 10 ++++++----
 .../main/java/org/apache/phoenix/trace/TraceReader.java   | 13 ++++++-------
 .../main/java/org/apache/phoenix/trace/util/Tracing.java  |  2 +-
 .../main/java/org/apache/phoenix/trace/TracingCompat.java |  8 --------
 8 files changed, 32 insertions(+), 30 deletions(-)

commit 355369ad5bd9a61d1b19e6bebec32ea8cb8b8a0c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 15 23:56:34 2014 -0700

    PHOENIX-1175 Add setReadOnly and setFetchSize options (Alex Kamil)

 .../org/apache/phoenix/end2end/ReadOnlyIT.java     | 98 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  7 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  9 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 16 +++-
 4 files changed, 120 insertions(+), 10 deletions(-)

commit ebb6a7adb9134eb2413950796bd5f4e80a250e7d
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Fri Aug 15 14:02:51 2014 -0700

    PHOENIX-1173: MutableIndexFailureIT.java doesn't finish sometimes or is flappy.

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 2 ++
 .../org/apache/phoenix/coprocessor/MetaDataRegionObserver.java   | 9 ++++++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 367662dc884433cd3e626b65e4417716966062fb
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 15 14:32:14 2014 -0700

    PHOENIX-1174 Rename and move properties using existing convention

 .../phoenix/end2end/index/IndexHandlerIT.java      |  4 ++--
 .../index/ipc/PhoenixIndexRpcSchedulerFactory.java | 23 +++++-----------------
 .../org/apache/phoenix/query/QueryServices.java    |  9 +++++++++
 .../apache/phoenix/query/QueryServicesOptions.java | 11 +++++++++--
 .../org/apache/phoenix/trace/util/Tracing.java     | 18 +++++++----------
 .../PhoenixIndexRpcSchedulerFactoryTest.java       |  5 +++--
 6 files changed, 35 insertions(+), 35 deletions(-)

commit dfcde10464a028c8acf44b9ce662f0fd19ca265d
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Aug 15 09:59:50 2014 -0700

    Rename com.salesforce tracing config prop to org.apache

 phoenix-core/src/main/java/org/apache/phoenix/trace/util/Tracing.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit acd35f0ebbb3cf3151741832dc3f3e08a585318c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 14 23:50:13 2014 -0700

    PHOENIX-1047 Auto cast - add/sub decimal constant and integer

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 29 ++++++++++++++++++++++
 .../java/org/apache/phoenix/schema/PDataType.java  | 11 +-------
 .../arithmetic/ArithmeticOperationTest.java        |  5 ++--
 3 files changed, 33 insertions(+), 12 deletions(-)

commit c85d4c6ad145babcd5eca2fde1dc632071105b77
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 14 12:58:12 2014 -0700

    PHOENIX-1171 Dropping the index is not verifying the associated table
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java

 .../it/java/org/apache/phoenix/end2end/ViewIT.java | 37 ++++++++++++++++++++++
 .../phoenix/end2end/index/IndexMetadataIT.java     | 12 ++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 22 +++++++------
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  4 ++-
 .../apache/phoenix/compile/ViewCompilerTest.java   | 12 +++----
 5 files changed, 69 insertions(+), 18 deletions(-)

commit ca39e2d1b1c314b9b5758054cea84f201cc499b5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 13 21:17:46 2014 -0700

    PHOENIX-965 Cannot aggregate on index with NULL values

 .../java/org/apache/phoenix/end2end/QueryIT.java   | 37 ++++++++++++++++++++++
 .../expression/aggregator/ServerAggregators.java   |  3 +-
 2 files changed, 38 insertions(+), 2 deletions(-)

commit 481a9ae0724cca5ae790b6b5aa78f206989c2f3d
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Aug 12 11:35:56 2014 -0700

    Phoenix-1132 - Create merged jar for server side. Adding antlr.*

 phoenix-assembly/src/build/server.xml | 7 +++++++
 1 file changed, 7 insertions(+)

commit 00cd7392de11a9b601b55dd13f89cec6090921ba
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 12 11:09:32 2014 -0700

    PHOENIX-1162 Use physical name instead of logical name when recovering from stale region cache

 .../java/org/apache/phoenix/iterate/ParallelIterators.java   | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 53dcc602fcda987f64982e06b75107c50c78b643
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 12 09:49:53 2014 -0700

    PHOENIX-1161 Prevent necessity of clearing region cache on every access for local indexing

 .../org/apache/phoenix/end2end/index/LocalIndexIT.java  | 17 +++++++----------
 .../phoenix/coprocessor/BaseScannerRegionObserver.java  |  9 +++++++--
 .../LocalIndexParallelIteratorRegionSplitter.java       |  1 -
 .../org/apache/phoenix/iterate/ParallelIterators.java   | 15 ++++++++++-----
 .../phoenix/query/ConnectionQueryServicesImpl.java      |  3 +++
 5 files changed, 27 insertions(+), 18 deletions(-)

commit bdf873f5a0789420f02f9f0a303b91a36ce85d39
Author: Rajeshbabu Chintaguntla <rajeshbabu.chintaguntla@huawei.com>
Date:   Mon Aug 11 23:53:34 2014 +0530

    PHOENIX-1058 Support index region split on it's corresponding data region split (Rajeshbabu)

 .../org/apache/phoenix/end2end/BaseQueryIT.java    |   6 +
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  24 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 110 +++
 .../regionserver/IndexHalfStoreFileReader.java     | 458 ++++++++++
 .../IndexHalfStoreFileReaderGenerator.java         | 159 ++++
 .../hbase/regionserver/IndexSplitTransaction.java  | 974 +++++++++++++++++++++
 .../hbase/regionserver/LocalIndexSplitter.java     | 101 +++
 .../org/apache/phoenix/index/IndexMaintainer.java  |  32 +
 .../LocalIndexParallelIteratorRegionSplitter.java  |   1 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  17 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   9 +-
 11 files changed, 1876 insertions(+), 15 deletions(-)

commit 416b8a67abd9ab3f049ec1a130658be942937615
Author: Mujtaba <mujtaba@apache.org>
Date:   Mon Aug 11 14:41:18 2014 -0700

    Update make_rc.sh script with TLP related changes

 dev/make_rc.sh | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit b2519c03f0241df37e1630860d5f1a3850372f34
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Aug 9 18:21:22 2014 -0700

    PHOENIX-1157 Improve abstraction for meta data cache
    
    Conflicts:
            phoenix-core/src/main/java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java
            phoenix-core/src/main/java/org/apache/phoenix/schema/MetaDataClient.java

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 ++--
 .../query/ConnectionlessQueryServicesImpl.java     |  4 +-
 .../query/DelegateConnectionQueryServices.java     |  4 +-
 .../org/apache/phoenix/query/MetaDataMutated.java  |  2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  7 ++-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 68 ++++++++++++++--------
 .../apache/phoenix/schema/PMetaDataImplTest.java   |  3 +-
 8 files changed, 64 insertions(+), 40 deletions(-)

commit 7e3ba5b2ac6c5bdd124a00aa4a8a4416ca104033
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Aug 9 15:09:12 2014 -0700

    PHOENIX-1157 Improve abstraction for meta data cache

 .../java/org/apache/phoenix/schema/PMetaData.java  |  12 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 412 ++++++++++++---------
 .../apache/phoenix/compile/ViewCompilerTest.java   |   2 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   4 -
 .../apache/phoenix/schema/PMetaDataImplTest.java   |  78 ++--
 5 files changed, 279 insertions(+), 229 deletions(-)

commit 1ef7e57daa6bfaa6981238307f07326d0baac511
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Sat Aug 9 22:37:53 2014 +0200

    PHOENIX-902 Allow family qualifiers in CSV loader
    
    Allow qualifying input column names with the column family.
    Contributed by James Violette.

 .../org/apache/phoenix/util/CSVCommonsLoader.java  | 83 +++++++++++++++++-----
 1 file changed, 65 insertions(+), 18 deletions(-)

commit a71ad867eab23f6c1560744c73fddeec775c6f2a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 18:07:10 2014 -0700

    PHOENIX-1154 Fix hanging tests because metadata is not cleared up (Samarth Jain)

 .../it/java/org/apache/phoenix/end2end/SkipScanAfterManualSplitIT.java   | 1 +
 1 file changed, 1 insertion(+)

commit c945231517bac138525d7c3d792f99e513fa26a5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 17:41:00 2014 -0700

    PHOENIX-1156 Don't throw TableNotFoundException when table not found in cache

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java     | 6 ++----
 .../src/main/java/org/apache/phoenix/schema/PMetaDataImpl.java      | 6 ++----
 2 files changed, 4 insertions(+), 8 deletions(-)

commit 50e16f88d52a0ff14f684f0f9f501a040c6278e0
Merge: 4b45e90c8 bf26ef233
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 17:21:11 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 4b45e90c820046eee06da25d55bab9d4843f602f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 17:20:52 2014 -0700

    PHOENIX-1155 Rename tracing test classes for consistency

 .../java/org/apache/phoenix/trace/Hadoop1TracingTestEnabler.java   | 2 --
 .../trace/{TraceReaderTest.java => PhoenixTraceReaderIT.java}      | 7 +++++--
 .../it/java/org/apache/phoenix/trace/PhoenixTracingEndToEndIT.java | 7 +++++++
 3 files changed, 12 insertions(+), 4 deletions(-)

commit bf26ef23370ed4bf455bd09215a24b48f5324196
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Fri Aug 8 16:52:00 2014 -0700

    Phoenix-1147: Ensure data table is sent to client if index table changes states - Addendum to handle schema name

 .../apache/phoenix/end2end/index/MutableIndexFailureIT.java  | 12 +++++++-----
 .../apache/phoenix/coprocessor/MetaDataRegionObserver.java   |  8 ++++++--
 2 files changed, 13 insertions(+), 7 deletions(-)

commit 01542165b6ed0388dc33ab0e65c1284b9e51433d
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 16:19:58 2014 -0700

    PHOENIX-1553 Fix failing PhoenixTracingEndToEndIT test

 .../coprocessor/BaseScannerRegionObserver.java     | 22 ++++----
 .../apache/phoenix/iterate/ParallelIterators.java  |  5 +-
 .../org/apache/phoenix/trace/util/Tracing.java     | 63 ++++++++++++++++++++++
 3 files changed, 77 insertions(+), 13 deletions(-)

commit 8a34e7cf28890d9a07bd7022e432cdb321459174
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 14:41:38 2014 -0700

    PHOENIX-1143 Prevent race condition between creating phoenix connection and closing phoenix driver/connection query services (Samarth Jain)

 .../apache/phoenix/end2end/DecodeFunctionIT.java   |   9 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 163 +++++++++++++--------
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |   3 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  79 +++++++---
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |  17 ++-
 5 files changed, 181 insertions(+), 90 deletions(-)

commit e554e85b4d67d0efaac68cdc97e7ac7cee45a3a9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Aug 8 12:34:51 2014 -0700

    PHOENIX-1152 Prepend seek next hint of skip scan with region start key for local indexing

 .../org/apache/phoenix/filter/SkipScanFilter.java  | 24 ++++++++++++++++++----
 .../org/apache/phoenix/schema/ValueSchema.java     | 14 +++++++++++++
 2 files changed, 34 insertions(+), 4 deletions(-)

commit e0a47a1e225af06401530b8775bfed8dce1e5815
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Tue Aug 5 14:55:57 2014 -0700

    PHOENIX-1147: Add test cases to cover more index update failure scenarios

 .../end2end/index/MutableIndexFailureIT.java       | 193 ++++++++++++++++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  22 ++-
 .../coprocessor/MetaDataRegionObserver.java        |  14 +-
 .../org/apache/phoenix/execute/MutationState.java  |   4 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   8 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   9 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   4 +-
 .../java/org/apache/phoenix/schema/TableRef.java   |   6 +-
 8 files changed, 236 insertions(+), 24 deletions(-)

commit bf5194b1a5aea03935c33bb449df8c2105208773
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Aug 7 18:57:40 2014 -0700

    PHOENIX-1151 Remove unnecessary tracing code

 .../coprocessor/BaseScannerRegionObserver.java     | 46 ++++++++--------
 .../org/apache/phoenix/trace/util/Tracing.java     | 63 ----------------------
 2 files changed, 24 insertions(+), 85 deletions(-)

commit 26fc3223deaa41e1f1fafda3b82dd8535f625af8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 6 15:48:16 2014 -0700

    PHOENIX-1136 Add Integration Tests to verify the fix for PHOENIX-1133 (Kyle Buzsaki)

 .../java/org/apache/phoenix/end2end/SkipScanAfterManualSplitIT.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit e626f47d458560181f52796598abb14e146cf991
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 6 15:21:26 2014 -0700

    PHOENIX-1150 scan on local index(index of view) for queries with no where condition should not read other indexes data stored in the shared index table (Rajeshbabu)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 40 +++++++++++-----------
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 26 ++++++++++++--
 .../phoenix/end2end/index/MutableIndexIT.java      | 28 +++++++--------
 .../org/apache/phoenix/compile/WhereOptimizer.java | 26 +++++++-------
 4 files changed, 71 insertions(+), 49 deletions(-)

commit 0d8c04cf8061bf658afab0241453fea662c1d22b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 6 09:45:40 2014 -0700

    PHOENIX-1149 Index mutations should be committed as batches while building local index (Rajeshbabu)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java    | 4 ++--
 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java       | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 1d6f072cd135bb7f96f7342934f364258a79e867
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Aug 6 08:22:57 2014 -0700

    PHOENIX-1146 Detect stale client region cache on server and retry scans in split regions

 .../end2end/SkipScanAfterManualSplitIT.java        |  21 +--
 .../coprocessor/BaseScannerRegionObserver.java     |  34 +++-
 .../GroupedAggregateRegionObserver.java            |   9 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |  12 +-
 .../UngroupedAggregateRegionObserver.java          |   9 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  11 +-
 .../apache/phoenix/iterate/ParallelIterators.java  | 208 ++++++++++++++-------
 .../schema/StaleRegionBoundaryCacheException.java  |  46 +++++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  33 +++-
 .../java/org/apache/phoenix/util/ServerUtil.java   |  13 +-
 10 files changed, 284 insertions(+), 112 deletions(-)

commit b2fb7b41f98641410b43f702940bb6ff192a7986
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Aug 5 08:42:36 2014 -0700

    PHOENIX-1136 Add Integration Tests to verify the fix for PHOENIX-1133 (Kyle Buzsaki)
    
    Conflicts:
            phoenix-core/src/it/java/org/apache/phoenix/end2end/SkipScanAfterManualSplitIT.java

 .../end2end/SkipScanAfterManualSplitIT.java        | 363 +++++++++++++++++++++
 1 file changed, 363 insertions(+)

commit 4493b9c0ae1b46704bf25af67328c56123f1ccd3
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 4 23:18:17 2014 -0700

    PHOENIX-1137 SkipScanFilter.intersect not called for aggregate queries (Lars Hofhansl)

 .../java/org/apache/phoenix/util/ScanUtil.java     | 26 +++++++++++-----------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit f1c7fc879958be9a54b889d4e3fa3e6c9a10fc74
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 4 22:17:04 2014 -0700

    Lower log level of static tracing initialization failure to warning

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java       | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a9dfc135da7e7093791e0d2e88eca0bbf9909deb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Aug 4 11:57:50 2014 -0700

    PHOENIX-1140 Incorrect padding for row key columns (Samarth Jain)

 .../org/apache/phoenix/end2end/QueryMoreIT.java    |  19 ++-
 .../org/apache/phoenix/end2end/QueryPlanIT.java    |   5 +-
 .../phoenix/end2end/RowValueConstructorIT.java     | 136 +++++++++++++++++
 .../apache/phoenix/end2end/VariableLengthPKIT.java |  10 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |  12 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  21 ++-
 .../apache/phoenix/expression/CaseExpression.java  |   6 -
 .../phoenix/expression/InListExpression.java       |  29 +---
 .../expression/function/PrefixFunction.java        |  35 ++---
 .../phoenix/expression/function/RTrimFunction.java |  27 ++--
 .../expression/function/ScalarFunction.java        |   9 ++
 .../java/org/apache/phoenix/query/KeyRange.java    |  29 ----
 .../java/org/apache/phoenix/schema/PDataType.java  |  25 ++++
 .../java/org/apache/phoenix/schema/PTableImpl.java |   9 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |  19 ++-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  16 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |   8 +-
 .../compile/StatementHintsCompilationTest.java     |   2 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |  10 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java | 166 ++++++++++++++++-----
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  36 ++---
 21 files changed, 450 insertions(+), 179 deletions(-)

commit 90b9ec8ec914e3d1ee04f4154d57cd3fe80856b7
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Aug 1 11:19:25 2014 -0700

    PHOENIX-1141 Fix HTable resource leak in ConnectionQueryServicesImpl.metaDataCoprocessorExec (SamarthJain)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 25 ++++++++++++----------
 1 file changed, 14 insertions(+), 11 deletions(-)

commit e463a22cba2ae22a44bec3f7c3f2fb7ca89dd8b9
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jul 30 16:19:00 2014 -0700

    PHOENIX-1132 Merge jars required on server side

 phoenix-assembly/pom.xml              |  2 ++
 phoenix-assembly/src/build/server.xml | 42 +++++++++++++++++++++++++++++++++++
 2 files changed, 44 insertions(+)

commit a8113ac0def2ef7d76af35afab509dc6ce6b624d
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Jul 30 16:00:32 2014 -0700

    Phoenix-950: Improve Secondary Index Update Failure Handling - addendum

 pom.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit 3d69fa21123d182577a58bbc517d40ea9dc5a2cd
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Mon Jul 21 18:32:56 2014 -0700

    Phoenix-950: Improve Secondary Index Update Failure Handling

 phoenix-core/pom.xml                               |  27 ++-
 phoenix-core/src/build/phoenix-core.xml            |  53 +++++
 .../end2end/index/MutableIndexFailureIT.java       |  71 ++++---
 .../apache/phoenix/compile/StatementContext.java   |  11 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  66 ++++--
 .../coprocessor/MetaDataRegionObserver.java        | 224 +++++++++++++++++++--
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  18 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |   2 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  28 ++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   3 +
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  13 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../org/apache/phoenix/query/QueryServices.java    |  11 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  71 ++++++-
 .../java/org/apache/phoenix/schema/TableRef.java   |  23 ++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  67 ++++++
 pom.xml                                            |   5 -
 19 files changed, 615 insertions(+), 87 deletions(-)

commit 63648fa5b5c6d1e8a0d41aa4c20f4f3c4dbd9ecc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jul 30 11:44:42 2014 -0700

    PHOENIX-1133 Skip scan intersect method not reseting state correctly

 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java  | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 241bb3b44113a41d7c3cc1af12129ad33b299996
Author: James Taylor <jtaylor@salesforce.com>
Date:   Wed Jul 30 01:20:26 2014 -0700

    PHOENIX-981 Joins using Phoenix client on v.3.0.0 and server 3.0 head of branch fails on backward compatibility

 .../java/org/apache/phoenix/join/HashJoinInfo.java | 23 +++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit dd97d44e779bc34c1edfb2bb3fd6dd91514d0113
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jul 29 23:52:07 2014 -0700

    PHOENIX-1131 Fix NPE in PhoenixRuntime.encodePk padding of row key values to max column length

 phoenix-core/src/main/java/org/apache/phoenix/schema/PDataType.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eeac05afa257a7e733298a5680efede4abcd5355
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jul 29 22:35:44 2014 -0700

    PHOENIX-1131 PhoenixRuntime.encodePk needs to pad row key values to max column length (Samarth Jain)

 .../phoenix/end2end/PhoenixEncodeDecodeIT.java     | 28 ++++++++++++++++++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  5 +++-
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 382f901a6b30f582ed26c5d31c0011fc529cfc75
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jul 29 22:11:45 2014 -0700

    PHOENIX-1130 SkipScanFilter gets IndexOutOfBoundsException when intersecting salted tables (Kyle Buzsaki)

 .../apache/phoenix/end2end/SkipScanQueryIT.java    | 24 +++++++++++++++++++++-
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  7 ++++++-
 2 files changed, 29 insertions(+), 2 deletions(-)

commit e7868db3d7c05cff013397024655640c64d1d4d1
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jul 29 17:15:37 2014 -0700

    PHOENIX-1130 SkipScanFilter gets IndexOutOfBoundsException when intersecting salted tables (Kyle Buzsaki)

 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java         | 2 ++
 1 file changed, 2 insertions(+)

commit f4b05aba9a06e4fe4f8affc66496644b2bc2b61e
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue Jul 29 13:39:30 2014 -0700

    Don't offset row key for local indexes on merge sort

 .../src/main/java/org/apache/phoenix/execute/ScanPlan.java     | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 7d2608d227f3fca1032199dda302da9904ed091d
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 29 12:13:25 2014 -0700

    PHOENIX-1128 Fix build errors introduced by switch to hadoop2 as default profile (GabrielReid)

 phoenix-core/pom.xml  | 13 +++++++------
 phoenix-flume/pom.xml |  4 +++-
 phoenix-pig/pom.xml   | 14 ++++++++++----
 pom.xml               | 30 ++++++++++++++++--------------
 4 files changed, 36 insertions(+), 25 deletions(-)

commit bc384e7e083f646e7b3bb59f8080e2bad4cc4696
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jul 28 20:28:52 2014 -0700

    PHOENIX-1016 Support MINVALUE, MAXVALUE, and CYCLE options in CREATE SEQUENCE (Thomas D'Silva)

 .../org/apache/phoenix/end2end/SequenceIT.java     |  19 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   2 +-
 .../coprocessor/SequenceRegionObserver.java        | 226 ++++++++++++---------
 .../org/apache/phoenix/hbase/index/Indexer.java    |  10 -
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   6 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  35 ++--
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |  94 ++++-----
 .../org/apache/phoenix/schema/SequenceInfo.java    |   2 +
 .../phoenix/trace/PhoenixTableMetricsWriter.java   |   4 +-
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  14 +-
 .../java/org/apache/phoenix/util/SequenceUtil.java |  29 +--
 .../org/apache/phoenix/util/SequenceUtilTest.java  |  78 ++-----
 14 files changed, 259 insertions(+), 268 deletions(-)

commit 72d4d5a680468f85fac22fa9ab69465c9feaebca
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jul 28 11:48:51 2014 -0700

    PHOENIX-788 Support cast from/to DATE/TIME/TIMESTAMP to/from LONG/UNSIGNED_LONG

 .../org/apache/phoenix/end2end/BaseQueryIT.java    | 138 +++++++++++++++++++++
 .../apache/phoenix/end2end/CaseStatementIT.java    |   2 +-
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  98 ++++++++++++++-
 .../end2end/ClientTimeArithmeticQueryIT.java       |   2 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |   2 +-
 .../org/apache/phoenix/end2end/NotQueryIT.java     |   2 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  96 +-------------
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |   2 +-
 .../expression/function/CeilDecimalExpression.java |  17 ++-
 .../function/FloorDecimalExpression.java           |  17 ++-
 .../function/RoundDecimalExpression.java           |  24 +++-
 .../org/apache/phoenix/parse/CastParseNode.java    |  18 ++-
 .../org/apache/phoenix/parse/CeilParseNode.java    |   2 +-
 .../org/apache/phoenix/parse/FloorParseNode.java   |   2 +-
 .../org/apache/phoenix/parse/RoundParseNode.java   |   6 +-
 .../java/org/apache/phoenix/schema/PDataType.java  |  15 +++
 .../RoundFloorCeilExpressionsUnitTests.java        |   5 +-
 17 files changed, 325 insertions(+), 123 deletions(-)

commit b7f46c1051de3e23630dccb82677a0a16985f27c
Author: Jesse Yates <jyates@apache.org>
Date:   Fri Jun 6 16:11:32 2014 -0700

    PHOENIX-177: Collect usage and performance metrics
    
    Add basic Dapper-like tracing (using Cloudera's HTrace library)
    to phoenix requests. This is the basic infrastructure to
    support more holistic, non-profiler based analysis.
    
    This patch includes, among other things, the
    infrastructure to use HTrace, async-tracing handling
    via the Hadoop metrics2 framework, and trace read/write
    to a phoenix table.
    
    Currently, do NOT support Hadoop1 (though does work
    against Hadoop1).
    
    Default builds to hadoop2, rather than hadoop1 (particularly as hadoop1 is
    now a second-class citizen).

 phoenix-core/pom.xml                               |  47 ++-
 .../apache/phoenix/trace/BaseTracingTestIT.java    | 117 ++++++
 .../apache/phoenix/trace/DelegatingConnection.java | 328 +++++++++++++++++
 .../phoenix/trace/DisableableMetricsWriter.java    |  83 +++++
 .../phoenix/trace/Hadoop1TracingTestEnabler.java   |  86 +++++
 .../apache/phoenix/trace/PhoenixMetricImpl.java    |  44 +++
 .../phoenix/trace/PhoenixMetricRecordImpl.java     |  71 ++++
 .../phoenix/trace/PhoenixTableMetricsWriterIT.java | 119 ++++++
 .../org/apache/phoenix/trace/PhoenixTagImpl.java   |  52 +++
 .../phoenix/trace/PhoenixTracingEndToEndIT.java    | 401 +++++++++++++++++++++
 .../org/apache/phoenix/trace/TraceReaderTest.java  | 181 ++++++++++
 .../java/org/apache/phoenix/call/CallRunner.java   |  66 ++++
 .../java/org/apache/phoenix/call/CallWrapper.java  |  29 ++
 .../coprocessor/BaseScannerRegionObserver.java     |  36 +-
 .../phoenix/coprocessor/DelegateRegionScanner.java |  78 ++++
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  17 +-
 .../org/apache/phoenix/execute/MutationState.java  |  24 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |  39 ++
 .../apache/phoenix/iterate/ParallelIterators.java  |   5 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  38 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  25 +-
 .../phoenix/trace/PhoenixTableMetricsWriter.java   | 255 +++++++++++++
 .../java/org/apache/phoenix/trace/TraceReader.java | 375 +++++++++++++++++++
 .../org/apache/phoenix/trace/TracingIterator.java  |  58 +++
 .../phoenix/trace/util/ConfigurationAdapter.java   |  56 +++
 .../org/apache/phoenix/trace/util/NullSpan.java    | 112 ++++++
 .../org/apache/phoenix/trace/util/Tracing.java     | 282 +++++++++++++++
 .../phoenix/util/PhoenixContextExecutor.java       |  23 ++
 .../java/org/apache/phoenix/util/QueryUtil.java    |  29 ++
 .../src/test/resources/hadoop-metrics2.properties  |  25 ++
 phoenix-core/src/test/resources/log4j.properties   |   4 +-
 phoenix-hadoop-compat/pom.xml                      |  31 +-
 .../org/apache/phoenix/metrics/MetricInfo.java     |  51 +++
 .../java/org/apache/phoenix/metrics/Metrics.java   |  39 ++
 .../org/apache/phoenix/metrics/MetricsManager.java |  58 +++
 .../org/apache/phoenix/metrics/MetricsWriter.java  |  31 ++
 .../phoenix/metrics/PhoenixAbstractMetric.java     |  30 ++
 .../apache/phoenix/metrics/PhoenixMetricTag.java   |  27 ++
 .../phoenix/metrics/PhoenixMetricsRecord.java      |  35 ++
 .../apache/phoenix/trace/PhoenixSpanReceiver.java  |  26 ++
 .../phoenix/trace/TestableMetricsWriter.java       |  30 ++
 .../org/apache/phoenix/trace/TracingCompat.java    |  94 +++++
 .../org/apache/phoenix/metrics/LoggingSink.java    |  56 +++
 .../apache/phoenix/metrics/TracingTestCompat.java  |  45 +++
 phoenix-hadoop2-compat/pom.xml                     |  47 ++-
 .../apache/phoenix/metrics/MetricsManagerImpl.java |  71 ++++
 .../org/apache/phoenix/trace/MetricsInfoImpl.java  |  63 ++++
 .../apache/phoenix/trace/PhoenixMetricsWriter.java | 176 +++++++++
 .../apache/phoenix/trace/TraceMetricSource.java    | 192 ++++++++++
 .../org.apache.phoenix.metrics.MetricsManager      |   1 +
 .../org.apache.phoenix.trace.PhoenixSpanReceiver   |   1 +
 .../org.apache.phoenix.trace.TestableMetricsWriter |   1 +
 .../metrics2/impl/ExposedMetricCounterLong.java    |  35 ++
 .../metrics2/impl/ExposedMetricsRecordImpl.java    |  43 +++
 .../metrics2/lib/ExposedMetricsInfoImpl.java       |  32 ++
 .../phoenix/trace/PhoenixMetricsWriterTest.java    | 142 ++++++++
 .../java/org/apache/phoenix/trace/TracingTest.java |  34 ++
 pom.xml                                            |  40 +-
 58 files changed, 4479 insertions(+), 57 deletions(-)

commit 9185f760b73cf0dd73b4d3da571eba79a823bf89
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jul 27 16:54:00 2014 -0700

    PHOENIX-1125 SQLException when connection string is of form jdbc:phoenix:localhost:1234:userName

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  22 ++-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   4 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   4 +-
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 160 +++++++++++----------
 .../phoenix/query/BaseQueryServicesImpl.java       |   4 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |   7 +
 .../query/ConnectionlessQueryServicesImpl.java     |  10 +-
 .../query/DelegateConnectionQueryServices.java     |   5 +
 .../apache/phoenix/query/QueryServicesImpl.java    |   6 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   4 +-
 .../org/apache/phoenix/util/ReadOnlyProps.java     |  21 ++-
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |  37 ++---
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   6 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   4 +-
 ...lessUpsertTest.java => ConnectionlessTest.java} |  46 +++++-
 .../phoenix/query/QueryServicesTestImpl.java       |  10 +-
 pom.xml                                            |   8 +-
 18 files changed, 229 insertions(+), 131 deletions(-)

commit caa3ec09bc7dcd72e9da93ed5942ce6ec55b0578
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 26 15:33:11 2014 -0700

    Remove obsolete split policy required for 2.2.x->3.0/4.0 migration

 .../phoenix/schema/MetaDataSplitPolicy.java        | 30 ----------------------
 1 file changed, 30 deletions(-)

commit d382b3ae39f729eb90ac8fd7d7eb1bd41b1efb78
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 26 15:27:59 2014 -0700

    Remove contents of apparently errand directory phoenix/b

 .../apache/phoenix/end2end/index/LocalIndexIT.java | 58 ----------------------
 1 file changed, 58 deletions(-)

commit 331e27ae39cf13a8759c34a4f03bd14925fbc543
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 26 07:34:29 2014 -0700

    PHOENIX-1122 Ensure TEST_PROPERTIES is not updated to prevent test flapping

 .../src/it/java/org/apache/phoenix/pig/PhoenixHBaseLoaderIT.java       | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ebbe34cec14ce59fd6df39bd4991c100d268be7c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 26 00:06:41 2014 -0700

    PHOENIX-1122 Ensure TEST_PROPERTIES is not updated to prevent test flapping

 .../phoenix/query/BaseConnectionlessQueryTest.java       | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 628904f025e83d9a275ed71de9d9243c30234921
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 25 22:50:28 2014 -0700

    PHOENIX-1122 Ensure TEST_PROPERTIES is not updated to prevent test flapping

 .../src/test/java/org/apache/phoenix/compile/ViewCompilerTest.java   | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 48614937b27c9474cb2eb3bf76da2d97a66d0044
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 25 22:32:21 2014 -0700

    PHOENIX-1122 Ensure TEST_PROPERTIES is not updated to prevent test flapping

 .../org/apache/phoenix/end2end/AlterTableIT.java   |  34 +++---
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  17 +--
 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 107 ++++++++---------
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |   3 +-
 .../BaseParallelIteratorsRegionSplitterIT.java     |   3 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |   9 +-
 .../apache/phoenix/end2end/CaseStatementIT.java    |  19 +--
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  13 +-
 .../end2end/ClientTimeArithmeticQueryIT.java       |  57 ++++-----
 .../end2end/ColumnProjectionOptimizationIT.java    |   5 +-
 .../apache/phoenix/end2end/CustomEntityDataIT.java |   7 +-
 .../DefaultParallelIteratorsRegionSplitterIT.java  |   7 +-
 .../org/apache/phoenix/end2end/DerivedTableIT.java |  19 +--
 .../apache/phoenix/end2end/DistinctCountIT.java    |  19 +--
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  15 +--
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  19 +--
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  17 +--
 .../phoenix/end2end/ExtendedQueryExecIT.java       |   9 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |   9 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  11 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  27 +++--
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  67 +++++------
 .../java/org/apache/phoenix/end2end/InListIT.java  |   5 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   3 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  15 +--
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  19 +--
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  23 ++--
 .../java/org/apache/phoenix/end2end/OrderByIT.java |   7 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  31 ++---
 .../apache/phoenix/end2end/ProductMetricsIT.java   | 131 +++++++++++----------
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |   5 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  49 ++++----
 .../phoenix/end2end/ReadIsolationLevelIT.java      |   3 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |  49 ++++----
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  35 +++---
 .../org/apache/phoenix/end2end/SequenceIT.java     |   5 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |   3 +-
 .../SkipRangeParallelIteratorRegionSplitterIT.java |   7 +-
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |   3 +-
 .../apache/phoenix/end2end/SpillableGroupByIT.java |   5 +-
 .../apache/phoenix/end2end/StatementHintsIT.java   |   7 +-
 .../org/apache/phoenix/end2end/StatsManagerIT.java |   7 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |   9 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |   3 +-
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |   5 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |   3 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |   3 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |   7 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |   3 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |   4 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java | 103 ++++++++--------
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |   5 +-
 .../apache/phoenix/end2end/index/DropViewIT.java   |   5 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  17 +--
 .../phoenix/end2end/index/IndexMetadataIT.java     |   9 +-
 .../end2end/index/MutableIndexFailureIT.java       |   5 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |  29 ++---
 .../phoenix/end2end/index/SaltedIndexIT.java       |   5 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |  17 +--
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |  11 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java       |   5 +-
 .../apache/phoenix/compile/HavingCompilerTest.java |   3 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |   3 +-
 .../apache/phoenix/compile/LimitCompilerTest.java  |   3 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  50 ++++----
 .../apache/phoenix/compile/QueryMetaDataTest.java  |  70 +++++------
 .../compile/SelectStatementRewriterTest.java       |   3 +-
 .../compile/StatementHintsCompilationTest.java     |   3 +-
 .../apache/phoenix/compile/ViewCompilerTest.java   |   9 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |  75 ++++++------
 .../apache/phoenix/compile/WhereOptimizerTest.java |   3 +-
 .../iterate/AggregateResultScannerTest.java        |   3 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java |   4 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |   5 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  18 ++-
 .../phoenix/flume/RegexEventSerializerIT.java      |   7 +-
 .../phoenix/pig/PhoenixPigConfigurationIT.java     |   7 +-
 77 files changed, 756 insertions(+), 663 deletions(-)

commit 14aa52c95ae92814680c94de697c2ecca339d442
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jul 25 13:21:00 2014 -0700

    PHOENIX-1111 Fix flapping unit tests by removing inappropriate usage of TestUtil.TEST_PROPERTIES

 .../test/java/org/apache/phoenix/compile/WhereOptimizerTest.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ba7da19638253ce95131eed992e68b6c844a3c5c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 25 00:39:24 2014 -0700

    Change InListIT annotation to HBaseManagedTimeTest

 phoenix-core/src/it/java/org/apache/phoenix/end2end/InListIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb01cd5a7a6d5798f872493439551b1496bd7764
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 25 00:17:07 2014 -0700

    Remove 2.2.x->3.0/4.0 upgrade code

 .../java/org/apache/phoenix/end2end/InListIT.java  |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 507 ---------------------
 2 files changed, 2 insertions(+), 508 deletions(-)

commit 3d3bbe2197cacdb5baa1e0ff7c6719a93cfe497c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 22:48:23 2014 -0700

    Better test coverage for IN list with RVC (KyleBuzsaki)

 .../java/org/apache/phoenix/end2end/InListIT.java  | 166 ++++++++++++++++++++-
 1 file changed, 159 insertions(+), 7 deletions(-)

commit 2f1ae80921a10befecf29f796091dc1103e049ea
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 15:32:46 2014 -0700

    Additonal tests for IN list (KyleBuzsaki)

 .../java/org/apache/phoenix/end2end/InListIT.java  | 199 +++++++++++++++++++++
 1 file changed, 199 insertions(+)

commit 6057e3e87ecd6af19607ff20f6441b3fc9332bb9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 15:17:07 2014 -0700

    Additonal query more tests (SamarthJain)

 .../it/java/org/apache/phoenix/end2end/QueryMoreIT.java  | 16 ++++++++++++++--
 1 file changed, 14 insertions(+), 2 deletions(-)

commit 7a16517b4ef5769d0a4506a789db7d859ce44d45
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 15:03:56 2014 -0700

    PHOENIX-1109 PhoenixTestDriver needs to call shutdown on executor (SamarthJain)

 .../phoenix/end2end/ExecuteStatementsIT.java       |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java | 36 +++++++++++++++++++---
 2 files changed, 32 insertions(+), 6 deletions(-)

commit 097312fcd77a301341893ee9f4d9c37909e817a0
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 14:28:39 2014 -0700

    PHOENIX-1110 Fix flappy MultiCfQueryExecIT

 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  79 +++++++++++++++
 .../end2end/ColumnProjectionOptimizationIT.java    |  65 +++++++++---
 .../java/org/apache/phoenix/query/BaseTest.java    | 109 ---------------------
 3 files changed, 133 insertions(+), 120 deletions(-)

commit 17397dcb85b0ae8dc0562c9b6ce4ed2a7b4f2eeb
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 24 01:31:53 2014 -0700

    PHOENIX-1083 IN list of RVC combined with AND doesn't return expected rows

 .../java/org/apache/phoenix/end2end/InListIT.java  |  54 ++++
 .../org/apache/phoenix/end2end/QueryMoreIT.java    | 264 +++++++++++++++++
 .../SkipRangeParallelIteratorRegionSplitterIT.java |   3 +-
 .../phoenix/end2end/index/IndexHandlerIT.java      |   2 +-
 .../hadoop/hbase/ipc/PhoenixIndexRpcScheduler.java |   7 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |  33 ++-
 .../org/apache/phoenix/compile/WhereOptimizer.java | 325 +++++++++++++++------
 .../org/apache/phoenix/filter/SkipScanFilter.java  |   5 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   3 +-
 .../java/org/apache/phoenix/query/KeyRange.java    |  21 ++
 .../java/org/apache/phoenix/util/IndexUtil.java    |   2 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  47 ++-
 .../PhoenixIndexRpcSchedulerFactoryTest.java       |   2 +-
 .../org/apache/phoenix/compile/ScanRangesTest.java |   3 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java |  72 ++++-
 .../java/org/apache/phoenix/util/ScanUtilTest.java |   2 +-
 16 files changed, 710 insertions(+), 135 deletions(-)

commit 1954c717a12561bdc2184ba23c53afae3f900084
Author: Jesse Yates <jyates@apache.org>
Date:   Wed Jul 23 11:10:52 2014 -0700

    PHOENIX-938: Use higher priority queue for index updates to prevent deadlock

 .../phoenix/end2end/index/IndexHandlerIT.java      | 166 +++++++++++++++++++++
 .../hadoop/hbase/ipc/PhoenixIndexRpcScheduler.java | 125 ++++++++++++++++
 .../apache/phoenix/hbase/index/IndexQosCompat.java |  98 ++++++++++++
 .../hbase/index/IndexQosRpcControllerFactory.java  |  86 +++++++++++
 .../hbase/index/builder/BaseIndexBuilder.java      |   2 -
 .../hbase/index/builder/IndexBuildManager.java     |   1 -
 .../phoenix/hbase/index/builder/IndexBuilder.java  |   1 -
 .../index/ipc/PhoenixIndexRpcSchedulerFactory.java | 104 +++++++++++++
 .../index/table/CoprocessorHTableFactory.java      |  65 ++++----
 .../java/org/apache/phoenix/util/IndexUtil.java    |   6 +
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  99 ++++++++++++
 .../PhoenixIndexRpcSchedulerFactoryTest.java       | 105 +++++++++++++
 pom.xml                                            |   4 +-
 13 files changed, 827 insertions(+), 35 deletions(-)

commit 36a41c86a4cdb16ab91b95882dbdb02e6006831d
Author: Gabriel Reid <greid@apache.org>
Date:   Mon Jul 21 18:06:05 2014 +0200

    PHOENIX-1103 ChunkedResultIterator compat with hash joins
    
    Remove the special case for hash joins in the
    ChunkedResultIterator. Once the chunk size is reached, continue
    scanning until the row key changes. This commit also adds a
    specific test in the HashJoinIT to test with a small chunk size.

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 78 +++++++++++++++++++++-
 .../phoenix/iterate/ChunkedResultIterator.java     | 39 ++++++-----
 .../java/org/apache/phoenix/join/HashJoinInfo.java | 11 ---
 .../apache/phoenix/query/QueryServicesOptions.java |  5 +-
 4 files changed, 105 insertions(+), 28 deletions(-)

commit 545abe5357a6e1a5d61d9d5516dca463893b6f6b
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Tue Jul 22 22:48:50 2014 +0530

    PHOENIX-1102 Query Finds No Rows When Using Multiple Column Families in where clause. (Anoop)

 .../end2end/ColumnProjectionOptimizationIT.java    | 16 ++++++++++
 .../filter/MultiCFCQKeyValueComparisonFilter.java  | 19 +-----------
 .../filter/MultiCQKeyValueComparisonFilter.java    | 19 ++++--------
 .../filter/MultiKeyValueComparisonFilter.java      | 11 +++++++
 .../java/org/apache/phoenix/query/BaseTest.java    | 34 ++++++++++++++++++++--
 5 files changed, 66 insertions(+), 33 deletions(-)

commit e5869b57bc491209d0d23ed59ee0825c65db4345
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 22 10:13:23 2014 -0700

    PHOENIX-1104 Do not shutdown threadpool when initialization fails - added comment

 .../src/main/java/org/apache/phoenix/query/BaseQueryServicesImpl.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 933e61a03e0d8ca54579a704326c10fef501b7be
Author: mujtabachohan <mujtabachohan@me.com>
Date:   Mon Jul 21 19:37:22 2014 -0700

    PHOENIX-1104 Do not shutdown threadpool when initialization fails

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 29 +++++++++++++---------
 .../phoenix/query/BaseQueryServicesImpl.java       |  1 -
 2 files changed, 17 insertions(+), 13 deletions(-)

commit 4094bd2d02aa568885b371491a0f308cf064c242
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jul 20 13:00:16 2014 -0700

    Removing too large of a test

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 52 ----------------------
 1 file changed, 52 deletions(-)

commit 7e811f4b158c3ef21b1fa620edc8ad36e63a1873
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 19 18:19:39 2014 -0700

    PHOENIX-1100 Upsert Select with Sequence and Order By doesn't result in sequence getting assigned based on requested ordering

 .../src/main/java/org/apache/phoenix/compile/UpsertCompiler.java    | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f312fbc622ec23ad8e1c84f21a3d753567c88975
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 19 18:25:16 2014 -0700

    Cleanup InListExpression by removing unnecessary empty set member variable

 .../java/org/apache/phoenix/expression/InListExpression.java     | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 3428922494c9baf51491bce5d42f6b1fa0374c3f
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 19 16:43:53 2014 -0700

    PHOENIX-1100 Upsert Select with Sequence and Order By doesn't result in sequence getting assigned based on requested ordering

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 57 ++++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  6 ++-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 12 +++--
 .../phoenix/compile/StatementNormalizer.java       |  2 +-
 .../apache/phoenix/compile/SubselectRewriter.java  |  8 +--
 .../org/apache/phoenix/compile/UpsertCompiler.java | 12 ++---
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  9 ++--
 .../org/apache/phoenix/parse/ParseContext.java     |  9 ++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 16 ++++--
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  2 +-
 .../org/apache/phoenix/parse/SelectStatement.java  | 20 +++++---
 12 files changed, 121 insertions(+), 34 deletions(-)

commit 9b9c86808e61382fc14306ea0aa5762815cc2ebf
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jul 19 16:56:00 2014 -0700

    PHOENIX-1016 Support MINVALUE, MAXVALUE, and CYCLE options in CREATE SEQUENCE (Thomas D'Silva)

 .../end2end/ConnectionQueryServicesTestImpl.java   |   1 -
 .../org/apache/phoenix/end2end/SequenceIT.java     | 699 +++++++++++++++++++--
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  13 +-
 .../phoenix/compile/CreateSequenceCompiler.java    | 161 +++--
 .../coprocessor/SequenceRegionObserver.java        | 120 +++-
 .../apache/phoenix/exception/SQLExceptionCode.java |  12 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   7 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  16 +-
 .../phoenix/parse/CreateSequenceStatement.java     |  45 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   9 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |   2 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  30 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  34 +-
 .../query/DelegateConnectionQueryServices.java     |   8 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  19 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  25 +-
 .../java/org/apache/phoenix/schema/Sequence.java   | 243 +++++--
 .../org/apache/phoenix/schema/SequenceInfo.java    |  29 +
 .../java/org/apache/phoenix/util/KeyValueUtil.java |   8 +
 .../java/org/apache/phoenix/util/SequenceUtil.java |  72 +++
 .../TenantSpecificViewIndexCompileTest.java        |   4 +-
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   1 +
 .../java/org/apache/phoenix/query/BaseTest.java    |   3 +-
 .../org/apache/phoenix/util/SequenceUtilTest.java  | 117 ++++
 25 files changed, 1419 insertions(+), 261 deletions(-)

commit af8592a865926971070863243e5768b52e47046d
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Jul 18 18:30:21 2014 -0700

    PHOENIX-1099 Fix performance issues with unit tests. (Kyle Buzsaki)

 .../{TestIndexLoadBalancer.java => IndexLoadBalancerIT.java}        | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 492e86afc838a0d172b35e41a319c2934ac1e952
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jul 18 11:00:50 2014 -0700

    PHOENIX-1096 Duplicate sequence values returned when doing upsert select against a salted table (Jan Fernando)

 .../org/apache/phoenix/end2end/UpsertSelectIT.java | 70 ++++++++++++++++++++++
 .../apache/phoenix/compile/SequenceManager.java    |  2 +-
 2 files changed, 71 insertions(+), 1 deletion(-)

commit 6b0d8af0b6b0e194ec5b412ec7e22d473a00440c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 17 12:43:20 2014 -0700

    PHOENIX-1038 Dynamically add INDEX_TYPE column to SYSTEM.CATALOG if not already there

 .../org/apache/phoenix/end2end/AlterTableIT.java   | 23 ++++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  8 ++++++--
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +-
 5 files changed, 32 insertions(+), 5 deletions(-)

commit fa04952de5ae7af5c27a7afc7bd31734a0c42e9c
Author: mujtabachohan <mujtabachohan@me.com>
Date:   Thu Jul 17 16:43:35 2014 -0700

    PHOENIX-1097 ChunkedResultIteratorFactory.newIterator is not closing... (Samarth.Jain)

 .../src/main/java/org/apache/phoenix/iterate/ChunkedResultIterator.java  | 1 +
 1 file changed, 1 insertion(+)

commit 7d40da239dd73d7c6410802374b564d0dc780207
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu Jul 17 12:32:21 2014 -0700

    Remove unused local variable so Phoenix compiles with default Eclipse compiler settings

 .../org/apache/phoenix/coprocessor/UngroupedAggregateRegionObserver.java | 1 -
 1 file changed, 1 deletion(-)

commit 60f262b3af64f165d2f49ce67c2a79b1b2aee694
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Jul 17 11:05:26 2014 +0530

    PHOENIX-933 Local index support to Phoenix. -Addendum2 (Rajesh)

 .../main/java/org/apache/phoenix/optimize/QueryOptimizer.java  | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit a41dc5254aaf90796e208b1a4bd8d14b2c61b018
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Jul 16 17:27:14 2014 -0700

    PHOENIX-1072: Fast fail sqlline.py when pass wrong quorum string or hbase cluster hasnt' started yet

 bin/log4j.properties |  4 +++-
 bin/sqlline.py       | 14 +++++++++++++-
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 4e19c8cfb2413f426b46158d3bfa0a8774157bf7
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Jul 16 09:56:10 2014 +0530

    Phoenix-933 Addendum for failing test(Rajesh via Ram)

 phoenix-core/src/main/java/org/apache/phoenix/index/IndexMaintainer.java | 1 -
 1 file changed, 1 deletion(-)

commit 4cd176e5fd784a609ab5fb3a2d29460247d9b96a
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jul 15 14:41:05 2014 -0700

    PHOENIX-1090 - Fix HTable leak in ServerCacheClient (SamarthJain)

 .../apache/phoenix/cache/ServerCacheClient.java    | 100 +++++++++++----------
 1 file changed, 53 insertions(+), 47 deletions(-)

commit 247ac8eee8ca604ca1616ba4bcf91fec6475ea88
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Tue Jul 15 10:04:54 2014 +0530

    PHOENIX-933 Local index support to Phoenix (Ram)

 .../apache/phoenix/end2end/index/LocalIndexIT.java |  58 ++
 .../org/apache/phoenix/end2end/AlterTableIT.java   |  11 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java     |  70 ++-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |  46 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |  78 ++-
 .../org/apache/phoenix/end2end/HashJoinIT.java     | 359 +++++++++++
 .../java/org/apache/phoenix/end2end/QueryIT.java   |  87 +--
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |   7 +-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  31 +-
 .../end2end/TenantSpecificViewIndexSaltedIT.java   |  10 +
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |   2 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |  11 +-
 .../apache/phoenix/end2end/index/LocalIndexIT.java | 553 +++++++++++++++++
 .../phoenix/end2end/index/MutableIndexIT.java      | 331 ++++++++--
 .../apache/phoenix/end2end/index/ViewIndexIT.java  |  85 +++
 .../index/balancer/TestIndexLoadBalancer.java      | 488 +++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   7 +-
 .../phoenix/compile/CreateIndexCompiler.java       |  19 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |   1 -
 .../apache/phoenix/compile/ExpressionCompiler.java |  21 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../phoenix/compile/IndexStatementRewriter.java    |   1 -
 .../org/apache/phoenix/compile/JoinCompiler.java   |   9 +-
 .../apache/phoenix/compile/StatementContext.java   |  38 ++
 .../TrackOrderPreservingExpressionCompiler.java    |   1 +
 .../org/apache/phoenix/compile/WhereCompiler.java  |  11 +
 .../coprocessor/BaseScannerRegionObserver.java     |   5 +
 .../GroupedAggregateRegionObserver.java            |  70 ++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  11 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   4 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |  75 ++-
 .../UngroupedAggregateRegionObserver.java          |  89 ++-
 .../coprocessor/generated/PTableProtos.java        | 107 +++-
 .../apache/phoenix/exception/SQLExceptionCode.java |   5 +-
 .../org/apache/phoenix/execute/BasicQueryPlan.java | 154 +++++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   3 +-
 .../apache/phoenix/expression/ExpressionType.java  |   3 +-
 .../expression/KeyValueColumnExpression.java       |   7 +
 .../expression/ProjectedColumnExpression.java      |  25 +-
 .../phoenix/expression/RowKeyColumnExpression.java |  12 +-
 .../expression/function/SQLIndexTypeFunction.java  |  77 +++
 .../visitor/RowKeyExpressionVisitor.java           |  36 ++
 .../org/apache/phoenix/filter/SkipScanFilter.java  |   7 +-
 .../hbase/index/IndexRegionSplitPolicy.java        |  32 +
 .../hbase/index/balancer/IndexLoadBalancer.java    | 688 +++++++++++++++++++++
 .../hbase/index/master/IndexMasterObserver.java    |  69 +++
 .../hbase/index/util/IndexManagementUtil.java      |  16 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  | 351 +++++++++--
 .../apache/phoenix/index/PhoenixIndexCodec.java    |   4 +-
 .../DefaultParallelIteratorRegionSplitter.java     |  14 +-
 .../LocalIndexParallelIteratorRegionSplitter.java  |  47 ++
 .../iterate/ParallelIteratorRegionSplitter.java    |   3 +
 .../ParallelIteratorRegionSplitterFactory.java     |   4 +
 .../apache/phoenix/iterate/ParallelIterators.java  |   9 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   8 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  10 +-
 .../org/apache/phoenix/join/TupleProjector.java    |  16 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |  32 +-
 .../apache/phoenix/parse/CreateIndexStatement.java |  10 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   5 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  88 ++-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  19 +-
 .../phoenix/schema/LocalIndexDataColumnRef.java    |  55 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 210 +++++--
 .../java/org/apache/phoenix/schema/PTable.java     |  37 ++
 .../java/org/apache/phoenix/schema/PTableImpl.java |  36 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |  16 +
 .../org/apache/phoenix/schema/ValueSchema.java     |  20 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    | 290 ++++++++-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  57 +-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  53 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |   8 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  55 ++
 phoenix-protocol/src/main/PTable.proto             |   1 +
 76 files changed, 4912 insertions(+), 387 deletions(-)

commit b12ba69b300c84a692584935640cd984e2501f9b
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Jul 14 23:12:39 2014 +0530

    PHOENIX-1002 Add support for % operator.(Kyle Buzsaki)

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |  92 +++++++
 .../phoenix/end2end/ModulusExpressionIT.java       | 186 ++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  15 +-
 .../apache/phoenix/compile/ExpressionCompiler.java | 275 +++++++++++----------
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../phoenix/expression/ModulusExpression.java      |  99 ++++++++
 .../org/apache/phoenix/parse/ModulusParseNode.java |  47 ++++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  10 +
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |   4 +
 .../StatelessTraverseAllParseNodeVisitor.java      |   5 +
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |   5 +
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  11 +
 .../parse/UnsupportedAllParseNodeVisitor.java      |  10 +
 14 files changed, 637 insertions(+), 130 deletions(-)

commit 7b313526018646ec10c0d7f714869a9c69d34f8f
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Jul 11 22:44:00 2014 -0700

    Fix for PHOENIX-1077 in main branch (fixed by Kyle Buzsaki)

 .../phoenix/end2end/RowValueConstructorIT.java     | 197 +++++++++++++++++++++
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../org/apache/phoenix/schema/ValueSchema.java     |   3 +
 3 files changed, 201 insertions(+), 1 deletion(-)

commit 0ef0b41cc35e6d7ad5ade4b2fd8e75436ba981c8
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Sat Jul 12 10:10:05 2014 +0530

    PHOENIX-1075 Mathematical order of operations are improperly evaluated. (Kyle Buzsaki)

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  | 145 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  19 +--
 2 files changed, 155 insertions(+), 9 deletions(-)

commit 97423a2b925864e5c5ad05a15a9342a75b60840b
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Jul 10 22:04:37 2014 +0530

    PHOENIX-1080 Fix PhoenixRuntime.decodepk for salted tables. Add integration tests. (Samarth)

 .../phoenix/end2end/ConvertTimezoneFunctionIT.java |   7 +-
 .../phoenix/end2end/PhoenixEncodeDecodeIT.java     | 187 +++++++++++++++++++++
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  12 +-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  22 +--
 4 files changed, 201 insertions(+), 27 deletions(-)

commit 1e61578555e2c54ed801ffa166fcab2cc4499971
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Jul 10 16:16:15 2014 +0530

    PHOENIX-1079 ConnectionQueryServicesImpl : Close HTable after use.(Samarth)

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit a33811cae4d4a0174ed5c3c19502af1871cf732c
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Jul 9 19:18:54 2014 -0700

    Revert "PHOENIX-1072: Fast fail sqlline.py when pass wrong quorum string or hbase cluster hasnt' started yet"
    
    This reverts commit 013e96c02b50f767e8e1e17d37c4cceef018d3eb.

 bin/log4j.properties                                               | 4 +---
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 7 -------
 2 files changed, 1 insertion(+), 10 deletions(-)

commit 013e96c02b50f767e8e1e17d37c4cceef018d3eb
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Jul 9 17:43:54 2014 -0700

    PHOENIX-1072: Fast fail sqlline.py when pass wrong quorum string or hbase cluster hasnt' started yet

 bin/log4j.properties                                               | 4 +++-
 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java | 7 +++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 9bb0b01f68e5da104810c3f1e3adb04ec2ba491f
Author: Jeffrey Zhong <jeffreyz@apache.org>
Date:   Wed Jul 9 16:08:46 2014 -0700

    PHOENIX-1069: Improve CsvBulkLoadTool to build indexes when loading data.

 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |  73 ++++++++
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 207 ++++++++++++++++-----
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     |  18 +-
 3 files changed, 250 insertions(+), 48 deletions(-)

commit 61c948b73f27c8d563561f5d3ef779742646a450
Author: Gabriel Reid <greid@apache.org>
Date:   Tue Jun 10 07:36:37 2014 +0200

    PHOENIX-539 Chunked loading of parallel scanning
    
    Instead of spooling all data in a table to disk, load it in chunks
    as needed, potentially spooling large quantities of data to disk.

 .../java/org/apache/phoenix/end2end/QueryIT.java   |  11 +-
 .../apache/phoenix/compile/StatementContext.java   |  23 +++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  43 +++--
 .../phoenix/iterate/ChunkedResultIterator.java     | 196 +++++++++++++++++++++
 .../apache/phoenix/iterate/ParallelIterators.java  |   7 +-
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  48 +++--
 .../org/apache/phoenix/query/QueryServices.java    |   5 +
 .../apache/phoenix/query/QueryServicesOptions.java |   3 +
 8 files changed, 298 insertions(+), 38 deletions(-)

commit a61a1a48d4cc8eaf1175664ba328be0d4d64eb24
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Fri Jul 4 11:38:01 2014 +0530

    PHOENIX-1000 Support FIRST_VALUE, LAST_VALUE, and NTH_VALUE aggregate functions. (Addendum)

 .../java/org/apache/phoenix/expression/ExpressionType.java     |  8 +++++---
 .../aggregator/FirstLastValueBaseClientAggregator.java         | 10 ++++------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit d23ebef2148eef5843e5e5331d556f0ffe260900
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Fri Jul 4 11:21:36 2014 +0530

    Phoenix-952 Support ANY and ALL built-ins for ARRAYs - Adding new files

 .../function/ArrayAllComparisonExpression.java     | 45 +++++++++++++
 .../function/ArrayAnyComparisonExpression.java     | 78 ++++++++++++++++++++++
 .../function/InlineArrayElemRefExpression.java     | 73 ++++++++++++++++++++
 .../phoenix/parse/ArrayAllComparisonNode.java      | 46 +++++++++++++
 .../phoenix/parse/ArrayAnyComparisonNode.java      | 46 +++++++++++++
 .../org/apache/phoenix/parse/ArrayElemRefNode.java | 38 +++++++++++
 6 files changed, 326 insertions(+)

commit f7c1889bce385e46f774b90368a5acd5c44674f2
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Fri Jul 4 11:15:58 2014 +0530

    Phoenix-952 Support ANY and ALL built-ins for ARRAYs (Ram)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 179 +++++++++++++++++++++
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  19 ++-
 .../apache/phoenix/compile/ExpressionCompiler.java |  35 ++++
 .../phoenix/compile/StatementNormalizer.java       |   4 +-
 .../apache/phoenix/expression/ExpressionType.java  |  18 ++-
 .../expression/function/ArrayIndexFunction.java    |  12 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  12 ++
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  18 ++-
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |  11 ++
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  30 ++++
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  29 ++++
 .../parse/UnsupportedAllParseNodeVisitor.java      |  20 +++
 .../org/apache/phoenix/schema/PArrayDataType.java  |  60 +++++++
 13 files changed, 420 insertions(+), 27 deletions(-)

commit 34c7cbc5fca91ca1d75a184c7327e967769166e4
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Wed Jul 2 20:50:26 2014 +0530

    PHOENIX-1000 Support FIRST_VALUE, LAST_VALUE, and NTH_VALUE aggregate functions. Addendum

 .../src/it/java/org/apache/phoenix/end2end/FirstValueFunctionIT.java  | 4 ++--
 .../src/it/java/org/apache/phoenix/end2end/NthValueFunctionIT.java    | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 858dd40b6c8c19652f0c4861c5ea173b8be326a2
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Wed Jul 2 19:27:20 2014 +0530

    PHOENIX-1000 Support FIRST_VALUE, LAST_VALUE, and NTH_VALUE aggregate functions. (Vaclav)

 .../phoenix/end2end/FirstValueFunctionIT.java      | 196 +++++++++++++
 .../phoenix/end2end/LastValueFunctionIT.java       | 326 +++++++++++++++++++++
 .../apache/phoenix/end2end/NthValueFunctionIT.java | 148 ++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   7 +
 .../FirstLastValueBaseClientAggregator.java        | 141 +++++++++
 .../aggregator/FirstLastValueServerAggregator.java | 205 +++++++++++++
 .../function/FirstLastValueBaseFunction.java       |  62 ++++
 .../expression/function/FirstValueFunction.java    |  68 +++++
 .../expression/function/LastValueFunction.java     |  71 +++++
 .../expression/function/NthValueFunction.java      |  78 +++++
 .../parse/FirstValueAggregateParseNode.java        |  38 +++
 .../phoenix/parse/LastValueAggregateParseNode.java |  38 +++
 .../phoenix/parse/NthValueAggregateParseNode.java  |  38 +++
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  13 +-
 .../util/FirstLastNthValueDataContainer.java       | 168 +++++++++++
 15 files changed, 1589 insertions(+), 8 deletions(-)

commit 25adb4088d379c801b9d14592cc9107f9c2b7a5e
Author: Simon Toens <stoens@apache.org>
Date:   Wed Jul 2 18:35:40 2014 +0900

    PHOENIX-1053 - Wrap innerScanner.close() in try/finally, move region.closeRegionOperation() in finally to ensure it always executes (Jay Wong).

 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java      | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit c4aedf9805841f4ad340da05f9637efa3e804628
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Tue Jun 24 10:48:46 2014 +0530

    PHOENIX-1007 Replace getNextKeyHint(KeyValue kv) with getNextCellHint(Cell kv) in Filters. (Anoop)

 .../main/java/org/apache/phoenix/filter/SkipScanFilter.java   |  2 +-
 .../index/covered/filter/ApplyAndFilterDeletesFilter.java     |  8 ++------
 .../hbase/index/covered/filter/MaxTimestampFilter.java        |  9 +++------
 .../phoenix/hbase/index/scanner/FilteredKeyValueScanner.java  |  4 ++--
 .../java/org/apache/phoenix/filter/SkipScanFilterTest.java    |  2 +-
 .../index/covered/filter/TestApplyAndFilterDeletesFilter.java | 11 ++++++-----
 6 files changed, 15 insertions(+), 21 deletions(-)

commit 67c452e150d2a0844e13c4c3c6c5d9cd3f281ed7
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jun 20 09:46:50 2014 -0700

    PHOENIX-990 OOM caused by order by query returning all rows (PraveenMurugesan)

 .../java/org/apache/phoenix/iterate/MappedByteBufferSortedQueue.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6506dadfea6e19f04e9d83d9313455be2b912377
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Sat Jun 14 22:37:34 2014 +0200

    PHOENIX-1043 Add timezone conversion function
    
    Contributed by Vaclav Loffelmann

 .../phoenix/end2end/ConvertTimezoneFunctionIT.java | 132 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   2 +
 .../function/ConvertTimezoneFunction.java          | 101 ++++++++++++++++
 3 files changed, 235 insertions(+)

commit 58b2a79e5c803a1c9777f4a0c33bc70a1b605f81
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Tue Jun 10 23:37:11 2014 +0200

    PHOENIX-1037 ResultSetSqlType for date/time types
    
    Add implementations of getResultSetSqlType for unsigned
    date/time/timestamp types

 .../main/java/org/apache/phoenix/schema/PDataType.java    | 15 +++++++++++++++
 .../java/org/apache/phoenix/schema/PDataTypeTest.java     |  6 ++++++
 2 files changed, 21 insertions(+)

commit e9f895f692511c698402f62d82e880e7da1c3596
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Jun 11 15:43:31 2014 -0700

    PHOENIX-1036 Fix flapping ContextClassloaderIT (SamarthJain)

 .../phoenix/end2end/ContextClassloaderIT.java      | 44 +++++++++++++++-------
 1 file changed, 31 insertions(+), 13 deletions(-)

commit 6098d7bd07e1bfdf5f015b55d77e987c5a7cba04
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 22:51:05 2014 -0700

    PHOENIX-1028 Prevent declaration of non PK columns as NOT NULL

 .../src/it/java/org/apache/phoenix/end2end/ExecuteStatementsIT.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 455c1fdb827cd8e6a8d4acd7e6e77ea800329190
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 22:13:31 2014 -0700

    PHOENIX-1028 Prevent declaration of non PK columns as NOT NULL

 .../it/java/org/apache/phoenix/end2end/ToCharFunctionIT.java   | 10 +++++-----
 .../it/java/org/apache/phoenix/end2end/ToNumberFunctionIT.java |  8 ++++----
 2 files changed, 9 insertions(+), 9 deletions(-)

commit a56f78ba68a257b91a42ba0d9b24fcfe1d204c2b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 21:37:35 2014 -0700

    PHOENIX-1028 Prevent declaration of non PK columns as NOT NULL (Ravi)

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 31 ++++++++++++++++++++++
 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../org/apache/phoenix/query/QueryConstants.java   |  8 +++---
 .../org/apache/phoenix/schema/MetaDataClient.java  |  8 ++++++
 .../apache/phoenix/compile/QueryCompilerTest.java  |  2 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |  4 +--
 6 files changed, 47 insertions(+), 7 deletions(-)

commit dbda9b702faec970f698c055c4648142e3c8c94c
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 15:02:21 2014 -0700

    Update readme files and remove disclaimer
    
    Conflicts:
            README

 DISCLAIMER | 8 --------
 README.md  | 4 ++--
 build.txt  | 2 +-
 3 files changed, 3 insertions(+), 11 deletions(-)

commit 17ab67ecefd4467897519a5c0f67d09bbf023ff8
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 14:02:35 2014 -0700

    PHOENIX-1034 Move validate/reserve of sequences into query compile

 .../DefaultParallelIteratorsRegionSplitterIT.java      |  4 +++-
 .../SkipRangeParallelIteratorRegionSplitterIT.java     |  4 +++-
 .../apache/phoenix/compile/CreateIndexCompiler.java    |  2 +-
 .../apache/phoenix/compile/CreateTableCompiler.java    |  2 +-
 .../java/org/apache/phoenix/compile/JoinCompiler.java  |  2 +-
 .../org/apache/phoenix/compile/PostDDLCompiler.java    |  3 ++-
 .../java/org/apache/phoenix/compile/QueryCompiler.java | 14 ++++++++------
 .../org/apache/phoenix/compile/StatementContext.java   | 18 ++++++++++++------
 .../org/apache/phoenix/compile/UpsertCompiler.java     |  2 +-
 .../org/apache/phoenix/optimize/QueryOptimizer.java    |  5 +++--
 .../phoenix/iterate/AggregateResultScannerTest.java    |  4 +++-
 11 files changed, 38 insertions(+), 22 deletions(-)

commit ea9232a31e0bed23c6e746e91d3bb3250dc71ae9
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 13:01:55 2014 -0700

    PHOENIX-1034 Move validate/reserve of sequences into query compile

 .../apache/phoenix/coprocessor/SequenceRegionObserver.java   |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixPreparedStatement.java    |  4 ++--
 .../main/java/org/apache/phoenix/jdbc/PhoenixStatement.java  | 12 ++++++------
 .../apache/phoenix/query/ConnectionQueryServicesImpl.java    |  2 +-
 .../src/main/java/org/apache/phoenix/schema/Sequence.java    |  4 ++--
 5 files changed, 12 insertions(+), 12 deletions(-)

commit 2ad434d6eac8e32670014191256236b4d181d19b
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 12:47:53 2014 -0700

    PHOENIX-1034 Move validate/reserve of sequences into query compile

 .../apache/phoenix/compile/SequenceManager.java    |  2 +-
 .../coprocessor/SequenceRegionObserver.java        | 13 +++--
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  5 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 62 ++++++++++++----------
 .../apache/phoenix/parse/BindableStatement.java    |  2 -
 .../org/apache/phoenix/parse/DeleteStatement.java  |  6 ---
 .../org/apache/phoenix/parse/ExplainStatement.java |  6 ---
 .../org/apache/phoenix/parse/MutableStatement.java |  6 ---
 .../org/apache/phoenix/parse/SelectStatement.java  |  6 ---
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  6 +--
 .../query/ConnectionlessQueryServicesImpl.java     |  2 +-
 .../query/DelegateConnectionQueryServices.java     |  2 +-
 .../java/org/apache/phoenix/schema/Sequence.java   | 15 +++---
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     |  5 --
 15 files changed, 58 insertions(+), 82 deletions(-)

commit 318921eaef93dd5315c144b0f9c22dcf4febabc2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 11:40:15 2014 -0700

    PHOENIX-1032 Don't compile alternate plans if query is a point lookup

 .../main/java/org/apache/phoenix/optimize/QueryOptimizer.java    | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 156e6cc2d9e0fd1882f806f50f50c2a0d8c7244a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 11:08:41 2014 -0700

    PHOENIX-19 Enhance JDBC connection of Phoenix to support connecting to a Secure HBase cluster (Anil Gupta)

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dddcffad28c1a338e63dfa476619fec3f47db489
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 10:45:38 2014 -0700

    PHOENIX-19 Enhance JDBC connection of Phoenix to support connecting to a Secure HBase cluster (Anil Gupta)

 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 100 ++++++++++++++++++---
 .../phoenix/query/ConnectionQueryServicesImpl.java |  19 +++-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |   9 ++
 4 files changed, 117 insertions(+), 14 deletions(-)

commit 437bf6881eea425c28f67f148f5be6fc3093fddc
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun Jun 8 00:33:20 2014 -0700

    PHOENIX-939 Generalize SELECT expressions for Pig Loader (Ravi)

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 84 +++++++++++++++++++++
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java |  3 +
 .../phoenix/pig/PhoenixPigConfiguration.java       | 61 +++++++++++++---
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     |  5 ++
 .../phoenix/pig/hadoop/PhoenixRecordReader.java    | 17 +++--
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     | 13 +++-
 .../pig/util/SqlQueryToColumnInfoFunction.java     | 85 ++++++++++++++++++++++
 .../pig/util/SqlQueryToColumnInfoFunctionTest.java | 75 +++++++++++++++++++
 8 files changed, 327 insertions(+), 16 deletions(-)

commit 3fd64258a75701203f8848b294eb778e958796e4
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sat Jun 7 18:16:56 2014 -0700

    PHOENIX-1001 Using NEXT VALUE FOR 'sequence' as an input to a function cause a NPE (Thomas D'Silva)

 .../org/apache/phoenix/end2end/SequenceIT.java     | 22 +++++++++
 .../apache/phoenix/compile/ExpressionCompiler.java | 48 +++++++-----------
 .../phoenix/expression/BaseCompoundExpression.java |  2 +
 .../phoenix/expression/ComparisonExpression.java   |  5 +-
 .../phoenix/expression/InListExpression.java       |  9 ++--
 .../phoenix/expression/IsNullExpression.java       |  3 +-
 .../phoenix/expression/LiteralExpression.java      |  4 +-
 .../expression/function/FunctionExpression.java    |  2 +
 .../org/apache/phoenix/util/ExpressionUtil.java    | 57 ++++++++++++++++++++++
 9 files changed, 111 insertions(+), 41 deletions(-)

commit 2ab8f34d255fb0b92168fc63561ab335558d043d
Author: Simon Toens <stoens@apache.org>
Date:   Sat Jun 7 22:51:10 2014 +0900

    PHOENIX-995 Add ENCODE and LPAD functions (Thomas D'Silva).

 .../apache/phoenix/end2end/EncodeFunctionIT.java   | 158 +++++++++++++++++
 .../org/apache/phoenix/end2end/LpadFunctionIT.java | 181 +++++++++++++++++++
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |   8 +
 .../exception/UndecodableByteException.java        |  29 ++++
 .../apache/phoenix/expression/ExpressionType.java  |  10 +-
 .../phoenix/expression/function/EncodeFormat.java  |   3 +-
 .../expression/function/EncodeFunction.java        | 104 +++++++++++
 .../expression/function/LengthFunction.java        |   5 +-
 .../phoenix/expression/function/LpadFunction.java  | 193 +++++++++++++++++++++
 .../expression/function/SubstrFunction.java        |  38 ++--
 .../org/apache/phoenix/util/Base62Encoder.java     | 130 ++++++++++++++
 .../java/org/apache/phoenix/util/StringUtil.java   |  97 ++++++++++-
 .../expression/SortOrderExpressionTest.java        |   7 +
 .../org/apache/phoenix/util/Base62EncoderTest.java |  45 +++++
 .../org/apache/phoenix/util/StringUtilTest.java    |  52 ++++++
 .../java/org/apache/phoenix/util/TestUtil.java     |  62 +++++++
 16 files changed, 1090 insertions(+), 32 deletions(-)

commit dc97e21c59e39b618968f9728a0366d6bff69e45
Author: Simon Toens <stoens@apache.org>
Date:   Sat Jun 7 19:25:48 2014 +0900

    Remove @author javadoc tags.

 phoenix-core/src/main/java/org/apache/phoenix/schema/SortOrder.java     | 1 -
 phoenix-core/src/test/java/org/apache/phoenix/schema/SortOrderTest.java | 1 -
 2 files changed, 2 deletions(-)

commit 2d079698d8002eb7b129a0f87367afc335ac081e
Merge: fae730bab 6fdd2dbc3
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Jun 6 11:20:35 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/phoenix

commit 6fdd2dbc323af377236d27c68d8ac2c71d56bf3a
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Fri Jun 6 11:15:49 2014 -0700

    phoenix-1005: upsert data error after drop index

 .../phoenix/end2end/index/MutableIndexIT.java      | 64 +++++++++++++++++++++-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 13 +++++
 2 files changed, 76 insertions(+), 1 deletion(-)

commit fae730bab8758fd7031bbbbdf7c7af33871af86f
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Jun 6 11:19:40 2014 -0700

    removed temp file

 dev/test.txt | 1 -
 1 file changed, 1 deletion(-)

commit 6f5a343e65c6f5a3569f55dd6ef3f766824ef806
Author: Eli Levine <elilevine@apache.org>
Date:   Fri Jun 6 11:18:05 2014 -0700

    adding a small file to test permissions

 dev/test.txt | 1 +
 1 file changed, 1 insertion(+)

commit 074e5fba6027a694b03ada626bd8bad371a6ce1a
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Jun 6 11:07:36 2014 -0700

    Test that perms are ok

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7bb0daf77dd213004071a93d5ad705356cc15f4e
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Jun 4 08:30:58 2014 +0200

    PHOENIX-1003 Update artifact versions for snapshot

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-hadoop-compat/pom.xml  | 2 +-
 phoenix-hadoop1-compat/pom.xml | 2 +-
 phoenix-hadoop2-compat/pom.xml | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 pom.xml                        | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit eb2a61e9474c6e74590b4d8d110e8cc2fa4ce5fe
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Mon Jun 2 17:00:48 2014 +0530

    Phoenix-1008-Problem initiating and using FLOAT ARRAY Type (Ram)

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 36 +++++++++++++++++++---
 .../org/apache/phoenix/schema/PArrayDataType.java  |  6 ++--
 .../org/apache/phoenix/schema/PhoenixArray.java    |  5 ++-
 3 files changed, 40 insertions(+), 7 deletions(-)

commit 3a327fa7e42b0c825bd0d9564b3dffa7f35b8fc5
Author: James Taylor <jtaylor@salesforce.com>
Date:   Tue May 27 13:16:13 2014 -0700

    Attempt to get clean test run by increasing parallelization from 1 to 4

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1636b2c8f4662054f71ee80625241f570078fb1a
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Mon May 26 10:50:00 2014 +0530

    Phoenix-989-problem setting column type of Array to null

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 78 ++++++++++++++++++++++
 .../org/apache/phoenix/schema/PArrayDataType.java  |  1 +
 .../java/org/apache/phoenix/schema/PDataType.java  | 25 ++++++-
 3 files changed, 103 insertions(+), 1 deletion(-)

commit 817380820a34b28406067cc529395fb85ce862b2
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun May 25 21:28:31 2014 -0700

    Revert Use higher priority queue for index updates to prevent deadlock

 .../phoenix/end2end/index/IndexHandlerIT.java      | 166 ---------------------
 .../hadoop/hbase/ipc/PhoenixIndexRpcScheduler.java | 158 --------------------
 .../PhoenixIndexRpcSchedulerFactory.java           |  75 ----------
 .../hbase/index/IndexQosRpcControllerFactory.java  |  95 ------------
 .../index/table/CoprocessorHTableFactory.java      |  70 ++++-----
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  93 ------------
 .../PhoenixIndexRpcSchedulerFactoryTest.java       | 104 -------------
 7 files changed, 29 insertions(+), 732 deletions(-)

commit edc75a2c2f548d5174391f184895ab0a755618c6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Sun May 25 21:10:00 2014 -0700

    Try to get unit tests to function again

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 748b76f09ef8f16d6d028309657d8c09ea3d7822
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri May 23 22:46:55 2014 -0700

    PHOENIX-938 Use higher priority queue for index updates to prevent deadlock (jyates)

 .../phoenix/end2end/index/IndexHandlerIT.java      | 166 +++++++++++++++++++++
 .../hadoop/hbase/ipc/PhoenixIndexRpcScheduler.java | 158 ++++++++++++++++++++
 .../PhoenixIndexRpcSchedulerFactory.java           |  75 ++++++++++
 .../hbase/index/IndexQosRpcControllerFactory.java  |  95 ++++++++++++
 .../index/table/CoprocessorHTableFactory.java      |  70 +++++----
 .../hbase/ipc/PhoenixIndexRpcSchedulerTest.java    |  93 ++++++++++++
 .../PhoenixIndexRpcSchedulerFactoryTest.java       | 104 +++++++++++++
 7 files changed, 732 insertions(+), 29 deletions(-)

commit d35aeb0eba9dcb44939552e37f6b8c31caa7a7d6
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 22 21:53:33 2014 -0700

    PHOENIX-984 Add support for DECODE built-in function (tzolkincz)

 .../apache/phoenix/end2end/DecodeFunctionIT.java   | 138 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../expression/function/DecodeFunction.java        | 127 +++++++++++++++++++
 .../phoenix/expression/function/EncodeFormat.java  |  21 ++++
 4 files changed, 289 insertions(+), 1 deletion(-)

commit b2b71ab70f9d60aa4d950999551f751dd588e531
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 22 20:35:50 2014 -0700

    PHOENIX-982 Avoid spinning up and tearing down mini cluster in tests (SamarthJain)

 .../org/apache/phoenix/end2end/BaseClientManagedTimeIT.java    |  6 +++---
 .../org/apache/phoenix/end2end/BaseHBaseManagedTimeIT.java     |  6 +++---
 .../phoenix/end2end/RoundFloorCeilFunctionsEnd2EndIT.java      | 10 +++++-----
 .../src/test/java/org/apache/phoenix/query/BaseTest.java       |  6 +++---
 4 files changed, 14 insertions(+), 14 deletions(-)

commit dff13fe6c16da9e6f70421b292bf64a0422b4ebf
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu May 22 14:40:58 2014 -0700

    PHOENIX-992: Replace hTable.getRowOrBefore with ReverseScan to get maxKey in StatsManagerImpl

 .../end2end/BaseTenantSpecificViewIndexIT.java     | 10 ++++++----
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |  2 +-
 .../org/apache/phoenix/query/StatsManagerImpl.java | 22 +++++++++++++---------
 3 files changed, 20 insertions(+), 14 deletions(-)

commit 6c3b6524ec98d8299d771d914b12f58529b805d3
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed May 21 09:26:54 2014 +0200

    PHOENIX-993 Exclude JRuby dependency
    
    Exclude JRuby transitive dependency (via HBase) to avoid pulling
    in all extra deps that are included in the JRuby uber jar.

 phoenix-core/pom.xml  | 17 ++++++++++++-----
 phoenix-flume/pom.xml | 24 ++++++++++++++++++++++++
 phoenix-pig/pom.xml   | 28 ++++++++++++++++++++++++++++
 pom.xml               | 24 ++++++++++++++++++------
 4 files changed, 82 insertions(+), 11 deletions(-)

commit 4954c7371cf88dc19d314bb81b178100fae315f8
Author: Gabriel Reid <greid@apache.org>
Date:   Tue May 20 20:06:33 2014 +0200

    PHOENIX-979 Delete on key and non-key field
    
    Correct behavior of a delete that is filtered by a combination
    of the full row key and a single non-key field.

 .../java/org/apache/phoenix/end2end/DeleteIT.java  | 66 ++++++++++++++++++----
 .../org/apache/phoenix/compile/DeleteCompiler.java |  9 ++-
 2 files changed, 61 insertions(+), 14 deletions(-)

commit 5db15f09f95911241c816a2dd1021d1d49aa143f
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon May 19 18:34:16 2014 -0700

    PHOENIX-991: IT tests failed on hadoop2

 .../java/org/apache/phoenix/query/BaseTest.java    |  1 -
 phoenix-flume/pom.xml                              | 26 ++++++++++++++++++++++
 phoenix-pig/pom.xml                                | 26 ++++++++++++++++++++++
 3 files changed, 52 insertions(+), 1 deletion(-)

commit cd75ada38f9016427bd3d44f5afda1283bca981a
Author: Gabriel Reid <greid@apache.org>
Date:   Sat May 17 22:48:54 2014 +0200

    PHOENIX-986 Better err message for CSV import
    
    Supply a more clear error message for the CSV import if the
    supplied table name does not match an existing table name.

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java  | 21 +++++++++++++++++++++
 .../org/apache/phoenix/util/CSVCommonsLoader.java   |  3 +++
 2 files changed, 24 insertions(+)

commit bd126fa6a755de273b4ee376ace23875177c3d84
Author: Gabriel Reid <greid@apache.org>
Date:   Sat May 17 23:21:03 2014 +0200

    PHOENIX-987 Add missing @Category info to tests

 .../src/it/java/org/apache/phoenix/end2end/ContextClassloaderIT.java    | 2 ++
 .../it/java/org/apache/phoenix/end2end/TimezoneOffsetFunctionIT.java    | 2 ++
 2 files changed, 4 insertions(+)

commit 019a01c45abd0c981cd683335dd6303fdefbc092
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri May 16 16:15:31 2014 -0700

    PHOENIX-985 performance.py script fails to execute queries

 bin/performance.py | 23 +++++++++--------------
 1 file changed, 9 insertions(+), 14 deletions(-)

commit 91b7922c1c806b0432854b5f10fc40d350db8da4
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri May 16 12:51:04 2014 -0700

    PHOENIX-982 Avoid spinning up and tearing down mini cluster in tests (SamarthJain)

 .../org/apache/phoenix/end2end/AlterTableIT.java   |    4 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |   11 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  108 +-
 .../org/apache/phoenix/end2end/AutoCommitIT.java   |   14 +-
 .../phoenix/end2end/BaseClientManagedTimeIT.java   |   97 +-
 .../phoenix/end2end/BaseConnectedQueryIT.java      |  763 ------
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java    |   87 +-
 .../BaseParallelIteratorsRegionSplitterIT.java     |    6 +-
 .../end2end/BaseTenantSpecificTablesIT.java        |    3 +
 .../org/apache/phoenix/end2end/BaseViewIT.java     |    7 +-
 .../org/apache/phoenix/end2end/BinaryRowKeyIT.java |   13 +-
 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |    2 +
 .../apache/phoenix/end2end/CaseStatementIT.java    |  287 +++
 .../apache/phoenix/end2end/CastAndCoerceIT.java    |  167 ++
 .../phoenix/end2end/ClientManagedTimeTest.java     |   44 +
 .../end2end/ClientTimeArithmeticQueryIT.java       |  599 +++++
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |   18 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |   32 +-
 .../phoenix/end2end/CompareDecimalToLongIT.java    |   15 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |   79 +-
 .../org/apache/phoenix/end2end/CreateTableIT.java  |    2 +
 .../apache/phoenix/end2end/CustomEntityDataIT.java |   22 +-
 .../DefaultParallelIteratorsRegionSplitterIT.java  |    3 +
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |    2 +
 .../org/apache/phoenix/end2end/DerivedTableIT.java |    2 +
 .../apache/phoenix/end2end/DistinctCountIT.java    |   29 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |    2 +
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |    2 +
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |   20 +-
 .../phoenix/end2end/ExecuteStatementsIT.java       |    7 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |   19 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |   19 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |    6 +-
 .../java/org/apache/phoenix/end2end/GroupByIT.java |  562 +++++
 .../phoenix/end2end/HBaseManagedTimeTest.java      |   45 +
 .../org/apache/phoenix/end2end/HashJoinIT.java     |   16 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java  |    9 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |    3 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |    6 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java  |    2 +
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |   15 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |    2 +
 .../phoenix/end2end/NeedsOwnMiniClusterTest.java   |   46 +
 .../org/apache/phoenix/end2end/NotQueryIT.java     |  303 +++
 .../java/org/apache/phoenix/end2end/OrderByIT.java |    5 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |   32 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java   |   10 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |    3 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |   16 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 2600 +++-----------------
 .../org/apache/phoenix/end2end/QueryPlanIT.java    |    7 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |   18 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java  |    2 +
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  |    8 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |    2 +
 .../org/apache/phoenix/end2end/SaltedViewIT.java   |    2 +
 .../org/apache/phoenix/end2end/ScanQueryIT.java    |  498 ++++
 .../org/apache/phoenix/end2end/SequenceIT.java     |    7 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java  |    3 +-
 .../java/org/apache/phoenix/end2end/Shadower.java  |   41 +
 .../SkipRangeParallelIteratorRegionSplitterIT.java |    5 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java    |    2 +
 .../org/apache/phoenix/end2end/SortOrderFIT.java   |    3 +
 .../apache/phoenix/end2end/SpillableGroupByIT.java |    9 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java   |    9 +-
 .../apache/phoenix/end2end/StatementHintsIT.java   |   14 +-
 .../org/apache/phoenix/end2end/StatsManagerIT.java |    3 +
 .../java/org/apache/phoenix/end2end/StddevIT.java  |   15 +-
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java |    2 +
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |    2 +
 .../phoenix/end2end/TenantSpecificViewIndexIT.java |    2 +
 .../end2end/TenantSpecificViewIndexSaltedIT.java   |    2 +
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |    6 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |    8 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |    5 +-
 .../apache/phoenix/end2end/TruncateFunctionIT.java |    2 +
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |   12 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java  |    2 +
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |    3 +-
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |    3 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java |    2 +
 .../it/java/org/apache/phoenix/end2end/ViewIT.java |    2 +
 .../apache/phoenix/end2end/index/BaseIndexIT.java  |    3 +
 .../phoenix/end2end/index/BaseMutableIndexIT.java  |    3 +
 .../apache/phoenix/end2end/index/DropViewIT.java   |   16 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java    |    4 +-
 .../phoenix/end2end/index/IndexMetadataIT.java     |    4 +-
 .../end2end/index/MutableIndexFailureIT.java       |  108 +-
 .../phoenix/end2end/index/MutableIndexIT.java      |   12 +-
 .../phoenix/end2end/index/SaltedIndexIT.java       |   11 +-
 .../phoenix/end2end/salted/SaltedTableIT.java      |    6 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java  |    4 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java       |    8 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java   |  226 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java      |   19 +-
 .../covered/example/EndToEndCoveredIndexingIT.java |   16 +-
 .../example/EndtoEndIndexingWithCompressionIT.java |   13 +-
 .../covered/example/FailWithoutRetriesIT.java      |   18 +-
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       |   29 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |    7 +-
 .../phoenix/query/BaseQueryServicesImpl.java       |    1 +
 .../hbase/index/write/TestWALRecoveryCaching.java  |    5 +
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   46 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java |   27 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  950 ++++++-
 .../phoenix/query/QueryServicesTestImpl.java       |   12 +-
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |    8 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |    9 +-
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |   11 +-
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |   38 +-
 .../phoenix/pig/PhoenixPigConfigurationIT.java     |    3 +
 pom.xml                                            |   62 +-
 112 files changed, 4844 insertions(+), 3702 deletions(-)

commit 0ca6c1e8d7bd9be2c2a72c41ad7e6fb6810a9b06
Author: tzolkincz <vaclav.loffelmann@socialbakers.com>
Date:   Wed Apr 2 18:19:35 2014 +0200

    PHOENIX-983 Add timezone offset function
    
    Add a function to retrieve the GMT offset (in minutes) for a given
    timezone and point in time.
    
    Signed-off-by: Gabriel Reid <gabrielr@ngdata.com>

 .../phoenix/end2end/TimezoneOffsetFunctionIT.java  | 157 +++++++++++++++++++++
 .../apache/phoenix/expression/ExpressionType.java  |   6 +-
 .../function/TimezoneOffsetFunction.java           |  97 +++++++++++++
 3 files changed, 258 insertions(+), 2 deletions(-)

commit f50ba17af36cd0ee76b1ec331c8fe0f109596df5
Author: Gabriel Reid <greid@apache.org>
Date:   Sat May 3 19:00:36 2014 +0200

    PHOENIX-966 Context classloader for Phoenix classes
    
    Temporarily set the current thread's context classloader in calls
    that require creating an HBase configuration or accessing Phoenix
    coprocessor endpoint classes.

 .../phoenix/end2end/ContextClassloaderIT.java      | 174 +++++++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 123 +++++++++------
 .../java/org/apache/phoenix/job/JobManager.java    |  37 ++++-
 .../apache/phoenix/query/ConfigurationFactory.java |  22 ++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 141 +++++++++--------
 .../phoenix/util/PhoenixContextExecutor.java       |  75 +++++++++
 .../phoenix/util/PhoenixContextExecutorTest.java   |  49 ++++++
 7 files changed, 506 insertions(+), 115 deletions(-)

commit e7cd8b960b221e68bf7afe01c954928dc51ac973
Author: James Taylor <jtaylor@salesforce.com>
Date:   Thu May 1 20:46:35 2014 -0700

    PHOENIX-956 Connection properties ignored (SamarthJain)

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  3 ++-
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java | 22 ++++++++++++++++++++++
 2 files changed, 24 insertions(+), 1 deletion(-)

commit 27a6db9ae49df5ca14e2b9cb07ddf6bb608db976
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Apr 29 15:57:07 2014 -0700

    PHOENIX-63 Can't add null value to a secondary indexed table (SamarthJain)

 .../phoenix/end2end/index/MutableIndexIT.java      | 105 +++++++++++++++------
 .../org/apache/phoenix/index/IndexMaintainer.java  |  33 ++++---
 2 files changed, 95 insertions(+), 43 deletions(-)

commit ca0d8d7e7822833e7f2e1c2abdc2c08de8201bdf
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Apr 29 15:28:35 2014 -0700

    PHOENIX-674 Make unit test suite run faster (SamarthJain)

 .../java/org/apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  9 +++++----
 .../java/org/apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  7 +++++--
 pom.xml                                                     | 13 +++++++++++--
 3 files changed, 21 insertions(+), 8 deletions(-)

commit 2c97b7b6483973d13860980be854fb9ad0cf774f
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Apr 28 11:53:40 2014 -0400

    PHOENIX-951 Don't push LIMIT as PageFilter for joins

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 143 +++++++++++++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |  15 ++-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  24 ++--
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  13 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  34 ++---
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   6 +-
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  16 ++-
 7 files changed, 215 insertions(+), 36 deletions(-)

commit 40b76b852904fd0bbb1167253f1ff170aa94edad
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Apr 23 22:57:39 2014 +0200

    PHOENIX-948 Run pig integration tests via maven
    
    Add necessary information in pom to allow running the pig
    integration tests via Maven, and fix the tests so that they
    run correctly (fix invalid SQL statement).

 phoenix-pig/pom.xml                                | 25 ++++++++++++++++------
 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   |  7 +++---
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   |  9 ++++----
 3 files changed, 28 insertions(+), 13 deletions(-)

commit 3b594f1a809e03add2a990789212638652e2f75f
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Apr 24 10:56:01 2014 +0530

    PHOENIX-949 Replace Filter#filterRow(List) with Filter#filterRowCells(List).(Ted)

 .../phoenix/filter/ColumnProjectionFilter.java     | 23 +++++++++++++---------
 1 file changed, 14 insertions(+), 9 deletions(-)

commit 50f2abfa1b755e6f94c35fe4b0aac6bcdc4ccc2d
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Apr 23 12:30:03 2014 -0700

    PHOENIX-890 - Script for binary and source RC generation

 bin/performance.py        |  19 +---
 bin/phoenix_utils.py      |  20 ++++
 bin/psql.py               |  13 +--
 bin/readme.txt            |  16 ++--
 bin/sqlline.py            |  13 +--
 dev/make_rc.sh            | 142 +++++++++++++++++++++++++++++
 dev/release_files/LICENSE | 228 ++++++++++++++++++++++++++++++++++++++++++++++
 dev/release_files/NOTICE  |  49 ++++++++++
 pom.xml                   |   4 +-
 9 files changed, 461 insertions(+), 43 deletions(-)

commit 76908006c24edc78e3cca5fcd82cbebf1d34eaf2
Merge: 43c788779 db481c552
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Apr 22 19:32:25 2014 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 43c788779d0d62aa7d7022802d6064490046ee23
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Apr 22 19:23:42 2014 -0400

    PHOENIX-136 Support derived tables

 .../org/apache/phoenix/end2end/DerivedTableIT.java | 654 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  19 +-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   1 -
 .../org/apache/phoenix/compile/FromCompiler.java   |  21 +-
 .../phoenix/compile/IndexStatementRewriter.java    |   5 -
 .../org/apache/phoenix/compile/JoinCompiler.java   | 115 +---
 .../org/apache/phoenix/compile/LimitCompiler.java  |   4 +
 .../org/apache/phoenix/compile/QueryCompiler.java  |  11 +-
 .../apache/phoenix/compile/SubselectRewriter.java  | 244 ++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |   1 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   6 +-
 .../java/org/apache/phoenix/parse/HintNode.java    |   6 +
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  14 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |   8 +-
 14 files changed, 975 insertions(+), 134 deletions(-)

commit db481c552b5ddb5fe7f350a6375461934367434f
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Apr 22 16:01:12 2014 -0700

    PHOENIX-915 Numeric functions ROUND, CEIL, FLOOR return incorrect results for DOUBLE (SamarthJain)

 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java  | 144 +++++++++++++++++----
 .../function/RoundDecimalExpression.java           |   2 +-
 2 files changed, 122 insertions(+), 24 deletions(-)

commit 0c18e459e411044de6e5fb59b8f3a6cce173b751
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Apr 22 15:45:28 2014 -0700

    PHOENIX-911 DDL containing only PK cols in the column list doesn't respect HBase specific attributes (SamarthJain)

 .../org/apache/phoenix/end2end/CreateTableIT.java  | 222 ++++++++++++++++++++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |   6 +
 2 files changed, 226 insertions(+), 2 deletions(-)

commit a615cebfb05e9a16df69ab94b7684961350869aa
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 21 20:09:53 2014 -0700

    Updates to Pig Integration - James forgot to add some files (Ravi)

 .../apache/phoenix/pig/PhoenixHBaseLoaderIT.java   | 440 +++++++++++++++++++++
 .../apache/phoenix/pig/PhoenixHBaseStorerIT.java   | 195 +++++++++
 .../phoenix/pig/PhoenixPigConfigurationIT.java     | 107 +++++
 .../org/apache/phoenix/pig/PhoenixHBaseLoader.java | 253 ++++++++++++
 .../phoenix/pig/hadoop/PhoenixInputFormat.java     | 167 ++++++++
 .../phoenix/pig/hadoop/PhoenixInputSplit.java      | 104 +++++
 .../phoenix/pig/hadoop/PhoenixRecordReader.java    | 133 +++++++
 .../pig/util/ColumnInfoToStringEncoderDecoder.java |  69 ++++
 .../phoenix/pig/util/PhoenixPigSchemaUtil.java     |  70 ++++
 .../pig/util/QuerySchemaParserFunction.java        | 121 ++++++
 .../pig/util/TableSchemaParserFunction.java        |  54 +++
 .../java/org/apache/phoenix/pig/util/TypeUtil.java | 312 +++++++++++++++
 .../phoenix/pig/PhoenixPigConfigurationTest.java   |  86 ++++
 .../util/ColumnInfoToStringEncoderDecoderTest.java |  61 +++
 .../phoenix/pig/util/PhoenixPigSchemaUtilTest.java |  84 ++++
 .../pig/util/QuerySchemaParserFunctionTest.java    | 109 +++++
 .../pig/util/TableSchemaParserFunctionTest.java    |  56 +++
 17 files changed, 2421 insertions(+)

commit 920a5cc62e2898c1acab9dedb8a6564fc202d7b4
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Apr 21 09:31:21 2014 -0700

    PHOENIX-11 Pig Loader (RaviMagham)

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   3 +-
 .../java/org/apache/phoenix/util/ColumnInfo.java   |  13 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 119 ++++++++-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  41 +++-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  30 ++-
 .../org/apache/phoenix/schema/SchemaUtilTest.java  |  10 +-
 .../org/apache/phoenix/util/QueryUtilTest.java     |  16 +-
 phoenix-pig/pom.xml                                | 155 ++++++++++++
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |  53 ++--
 .../phoenix/pig/PhoenixPigConfiguration.java       | 270 +++++++++++++++------
 .../main/java/org/apache/phoenix/pig/TypeUtil.java | 189 ---------------
 .../apache/phoenix/pig/hadoop/PhoenixRecord.java   |  53 ++--
 .../phoenix/pig/PhoenixHBaseStorageTest.java       | 136 -----------
 14 files changed, 650 insertions(+), 440 deletions(-)

commit e3d65fb942e090e5e0d980ed2a94781b7fb2ed10
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Apr 18 13:28:38 2014 -0700

    Update pom to released version of HBase 0.98.1

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8788db25a2476a6e6a6b4f05b16955049ee3ce28
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Apr 1 17:49:46 2014 -0700

    PHOENIX-909: Handle scan time range for low time resolution OS

 .../apache/phoenix/coprocessor/MetaDataRegionObserver.java    |  2 +-
 .../apache/phoenix/coprocessor/SequenceRegionObserver.java    |  4 ----
 .../main/java/org/apache/phoenix/execute/BasicQueryPlan.java  | 11 ++++++++++-
 .../java/org/apache/phoenix/query/QueryServicesOptions.java   |  2 +-
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 16e74c68b15232242f54a2fa2b25649264f513f3
Author: maryannxue <maryannxue@apache.org>
Date:   Sun Apr 13 17:04:36 2014 -0400

    PHOENIX-927 Support derived tables in joins

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 489 +++++++++++++++++++++
 .../org/apache/phoenix/compile/FromCompiler.java   |  39 +-
 .../phoenix/compile/IndexStatementRewriter.java    |   5 +
 .../org/apache/phoenix/compile/JoinCompiler.java   | 209 +++++++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  92 +++-
 .../apache/phoenix/compile/StatementContext.java   |  10 +
 .../phoenix/compile/StatementNormalizer.java       |   4 +-
 .../GroupedAggregateRegionObserver.java            |   4 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  20 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |   4 +-
 .../UngroupedAggregateRegionObserver.java          |   4 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  23 +-
 .../expression/ProjectedColumnExpression.java      |   4 +-
 .../org/apache/phoenix/join/HashCacheClient.java   |   9 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |   1 -
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  20 +-
 .../{ScanProjector.java => TupleProjector.java}    |  13 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   2 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  14 +-
 .../java/org/apache/phoenix/schema/PTableType.java |   3 +-
 20 files changed, 871 insertions(+), 98 deletions(-)

commit d6a096f07458abd51a5772a1d9c3cd180d2011b0
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Fri Apr 11 16:20:03 2014 -0700

    PHOENIX-920: SqlLine shows funky characters when running on Windows

 bin/psql.py    |  3 +++
 bin/sqlline.py | 16 ++++++++++++----
 2 files changed, 15 insertions(+), 4 deletions(-)

commit 46d1c60c3e117f1a116c4b870b49edcf424219ae
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Apr 8 16:25:29 2014 -0700

    phoenix-916

 .../phoenix/coprocessor/MetaDataRegionObserver.java | 21 +++++++++++++++++++++
 .../org/apache/phoenix/query/QueryServices.java     |  3 +++
 .../apache/phoenix/query/QueryServicesOptions.java  |  1 +
 3 files changed, 25 insertions(+)

commit ce47be1be69a53dea3480d55d93453c14ef084d8
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Apr 9 17:16:46 2014 +0200

    PHOENIX-925 Fix Apache RAT violations
    
    Add necessary exclusions and missing license headers to allow
    "mvn apache-rat:check" to run successfully.

 phoenix-assembly/src/build/src.xml                   | 20 ++++++++++++++++++++
 .../end2end/TenantSpecificViewIndexSaltedIT.java     | 17 +++++++++++++++++
 .../compile/TenantSpecificViewIndexCompileTest.java  | 17 +++++++++++++++++
 pom.xml                                              |  5 ++++-
 4 files changed, 58 insertions(+), 1 deletion(-)

commit ec3e840054e7f6f9bf5693ee8b99505cb2ee8762
Author: Gabriel Reid <gabrielr@ngdata.com>
Date:   Wed Mar 26 21:13:19 2014 +0100

    PHOENIX-896 Improve PhoenixRuntime cmdline parsing
    
    Use commons-cli parameter parsing to parse command-line parameters
    instead of using custom parsing code. Also add some testing of
    various scenarios in the command-line parsing.
    
    This commit introduces a small backwards-incompatibility, in that
    the CSV field separator, quote character, and escape character are
    now supplied as separate parameters instead of a single parameter.

 .../apache/phoenix/end2end/CSVCommonsLoaderIT.java |   8 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |  88 +++---
 .../org/apache/phoenix/util/PhoenixRuntime.java    | 312 ++++++++++++++-------
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  57 ++++
 4 files changed, 313 insertions(+), 152 deletions(-)

commit 13bd857506ac9c1462e49af2f28bf04d49d0afc8
Author: Eli Levine <elilevine@apache.org>
Date:   Tue Apr 8 17:18:21 2014 -0700

    Commit PHOENIX-907 patch to master

 .../phoenix/pig/PhoenixHBaseStorageTest.java       | 136 +++++++++++++++++++++
 1 file changed, 136 insertions(+)

commit 27c2067f792d29a97df3719429879eda0fb66302
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Apr 1 14:45:09 2014 -0400

    PHOENIX-905 Wrong calculation of maxSetBit in ValueBitSet#or(ImmutableBytesWritable)

 .../org/apache/phoenix/schema/ValueBitSetTest.java | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 693d4e4eedca5066a45d238aceb77dcf4fa2cb87
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Mar 31 23:10:23 2014 -0400

    PHOENIX-905 Wrong calculation of maxSetBit in ValueBitSet#or(ImmutableBytesWritable)

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 67 ++++++++++++++++++++--
 .../org/apache/phoenix/schema/ValueBitSet.java     |  6 +-
 2 files changed, 66 insertions(+), 7 deletions(-)

commit 12bd7aeddd4e25a754b76c3f05b00730c4304644
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Mar 31 20:33:50 2014 -0400

    PHOENIX-71 Support sub-joins

 .../org/apache/phoenix/end2end/HashJoinIT.java     |  258 +++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   23 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   17 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 1425 ++++++++++----------
 .../org/apache/phoenix/compile/QueryCompiler.java  |   99 +-
 .../phoenix/compile/StatementNormalizer.java       |   42 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |    2 +-
 .../org/apache/phoenix/parse/BindTableNode.java    |    4 +-
 .../org/apache/phoenix/parse/DerivedTableNode.java |    4 +-
 .../org/apache/phoenix/parse/JoinPartNode.java     |   53 +
 .../org/apache/phoenix/parse/JoinTableNode.java    |   35 +-
 .../org/apache/phoenix/parse/NamedTableNode.java   |    4 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   16 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   81 +-
 .../org/apache/phoenix/parse/SelectStatement.java  |    4 +
 .../java/org/apache/phoenix/parse/TableNode.java   |    2 +-
 .../org/apache/phoenix/parse/TableNodeVisitor.java |   10 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |   70 +-
 18 files changed, 1192 insertions(+), 957 deletions(-)

commit 0849b259dded6385519f4311e0c81ac9d6f30e7d
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Mar 28 12:06:25 2014 -0700

    PHOENIX-904 Connection leak during running of upgrade (JamesTaylor)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 103 +++++++++++++--------
 1 file changed, 64 insertions(+), 39 deletions(-)

commit f39a227f79893d052e11f4d3a6ba9eaf90bcab2f
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Mar 28 00:23:22 2014 -0700

    PHOENIX-901 Ensure ConnectionQueryServices only initialized once

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDriver.java  | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 05a416edda38a2595e995b7c00f8c5ceb49e40b0
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 27 21:33:47 2014 -0700

    PHOENIX-901 Ensure ConnectionQueryServices only initialized once (JamesTaylor)

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 3 ---
 1 file changed, 3 deletions(-)

commit 884a41e64e0ddd2ff2b52436a8e9bf19f4dfa76e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 27 18:37:34 2014 -0700

    PHOENIX-901 Ensure ConnectionQueryServices only initialized once (JamesTaylor)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  | 14 +++++++++-----
 .../phoenix/query/ConnectionlessQueryServicesImpl.java     | 14 +++++++++-----
 2 files changed, 18 insertions(+), 10 deletions(-)

commit 6f9f4e7e28662cd0a66f47b27db24f2f3518705e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 27 17:44:07 2014 -0700

    PHOENIX-901 Ensure ConnectionQueryServices only initialized once (JamesTaylor)

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  34 +++-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 171 +++++++++++++--------
 .../query/ConnectionlessQueryServicesImpl.java     |  72 +++++----
 3 files changed, 180 insertions(+), 97 deletions(-)

commit c356da2d06f7a627b644ea90fa13370ddde9f84d
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 26 03:31:50 2014 -0700

    PHOENIX-891 Multi-tenant - Upserting values without specifying columns names upserts values in wrong columns (JamesTaylor)

 .../phoenix/end2end/RowValueConstructorIT.java     | 28 +++++++
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java | 45 +++++++++-
 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 34 +++++++-
 .../apache/phoenix/compile/ProjectionCompiler.java | 97 ++++++++++++++++++----
 4 files changed, 182 insertions(+), 22 deletions(-)

commit 9c9bf3caf3ef0f09fa36f9bb66f4eaa65d252c25
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 26 01:02:12 2014 -0700

    PHOENIX-892 Multi-tenant - Creating index throws NoSuchColumnFamilyException when CF is specified in base table (JamesTaylor)

 .../end2end/BaseTenantSpecificViewIndexIT.java     | 14 ------
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java |  5 --
 .../phoenix/end2end/TenantSpecificViewIndexIT.java | 57 ++++++++++++++++++++++
 .../phoenix/query/ConnectionQueryServicesImpl.java | 30 ++++++++++--
 4 files changed, 82 insertions(+), 24 deletions(-)

commit a8fff881ad5ff08315eeb6a9f0160c2bc4b67105
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 25 23:24:07 2014 -0700

    PHOENIX-891 Multi-tenant - Upserting values without specifying columns names upserts values in wrong columns (JamesTaylor)

 .../end2end/BaseTenantSpecificTablesIT.java        |  2 +
 .../phoenix/end2end/TenantSpecificTablesDMLIT.java | 40 +++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java | 99 +++++++++++++---------
 3 files changed, 99 insertions(+), 42 deletions(-)

commit 9fb91c5cdac5270bac9981a099a3ce3532d3e068
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Mar 21 11:55:30 2014 -0700

    PHOENIX-887 Fix upgrade when wildcard used to upgrade everything (JamesTaylor)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 23 ++++++++++++----------
 1 file changed, 13 insertions(+), 10 deletions(-)

commit 763389498fc95a25b03fd069cff064fd809932d1
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Mar 21 03:06:38 2014 -0700

    PHOENIX-885 Metadata ORDINAL_POSITION is off by one if table is salted (JamesTaylor)

 .../phoenix/end2end/BaseClientManagedTimeIT.java   |  1 -
 .../phoenix/end2end/BaseConnectedQueryIT.java      |  6 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  8 +++
 .../hbase/regionserver/wal/IndexedHLogReader.java  | 12 ----
 .../regionserver/wal/IndexedWALEditCodec.java      |  3 -
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 69 ++++++++--------------
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 10 +++-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 16 ++---
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  9 +--
 10 files changed, 58 insertions(+), 78 deletions(-)

commit ace825d6c5503d149da59889fd96b40dd4abb77e
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 20 19:01:54 2014 -0700

    PHOENIX-882 Updatable view should check view condition upon upsert (JamesTaylor)

 .../org/apache/phoenix/compile/UpsertCompiler.java | 128 ++++++---------------
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   5 +
 2 files changed, 42 insertions(+), 91 deletions(-)

commit da83d164cfd4cf3a668c46b93dd23cb65b0e19a7
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 20 16:19:00 2014 -0700

    PHOENIX-882 Updatable view should check view condition upon upsert (JamesTaylor)

 .../src/it/java/org/apache/phoenix/end2end/ViewIT.java     | 14 ++++++++++++++
 .../java/org/apache/phoenix/compile/UpsertCompiler.java    |  5 +++--
 .../org/apache/phoenix/exception/SQLExceptionCode.java     |  2 +-
 3 files changed, 18 insertions(+), 3 deletions(-)

commit c876558e7a085aa388a9d2d0c2728daa0c03155a
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Mar 20 13:44:22 2014 -0700

    PHOENIX-881: end2end test fails to run against a live cluster using end2endtest.py

 .../apache/phoenix/end2end/ArithmeticQueryIT.java  |   9 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java   |  63 +++--
 .../phoenix/end2end/BaseClientManagedTimeIT.java   |   3 +-
 .../phoenix/end2end/BaseConnectedQueryIT.java      |  29 ++-
 .../apache/phoenix/end2end/CoalesceFunctionIT.java |   2 +-
 .../end2end/ColumnProjectionOptimizationIT.java    |  10 +-
 .../phoenix/end2end/CompareDecimalToLongIT.java    |  19 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |   6 +
 .../apache/phoenix/end2end/CustomEntityDataIT.java |   8 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java  |   5 +-
 .../apache/phoenix/end2end/DistinctCountIT.java    |  18 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java    |  11 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java    |  15 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java    |  15 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java       |   9 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java   |   8 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java  |  15 +-
 .../org/apache/phoenix/end2end/HashJoinIT.java     |  51 ++---
 .../java/org/apache/phoenix/end2end/IsNullIT.java  |  11 +-
 .../java/org/apache/phoenix/end2end/KeyOnlyIT.java |   3 +-
 .../apache/phoenix/end2end/MultiCfQueryExecIT.java |  21 +-
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  15 +-
 .../java/org/apache/phoenix/end2end/OrderByIT.java |   7 +-
 .../org/apache/phoenix/end2end/PercentileIT.java   |  34 +--
 .../apache/phoenix/end2end/ProductMetricsIT.java   | 131 ++++++-----
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  91 ++++----
 .../phoenix/end2end/QueryExecWithoutSCNIT.java     |   2 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 255 ++++++++++-----------
 .../org/apache/phoenix/end2end/QueryPlanIT.java    |   3 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java      |  10 +-
 .../phoenix/end2end/RowValueConstructorIT.java     |  49 ++--
 .../apache/phoenix/end2end/SpillableGroupByIT.java |   9 +-
 .../org/apache/phoenix/end2end/StatsManagerIT.java |   3 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java  |   9 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java   |   5 +-
 .../apache/phoenix/end2end/ToNumberFunctionIT.java |   5 +-
 .../it/java/org/apache/phoenix/end2end/TopNIT.java |   9 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java  |   9 +-
 .../org/apache/phoenix/end2end/UpsertSelectIT.java |  85 ++++---
 .../org/apache/phoenix/end2end/UpsertValuesIT.java |  13 +-
 .../apache/phoenix/end2end/VariableLengthPKIT.java | 131 ++++++-----
 .../phoenix/end2end/salted/SaltedTableIT.java      |  17 +-
 .../org/apache/phoenix/flume/PhoenixSinkIT.java    |  14 +-
 .../phoenix/flume/RegexEventSerializerIT.java      |   7 +-
 pom.xml                                            |   4 +-
 45 files changed, 614 insertions(+), 634 deletions(-)

commit e5fc2e3ec8919b2e1fc3f4ca16889910a34a6797
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 19 09:48:06 2014 -0700

    PHOENIX-876 Remove unnecessary phoenix-*-mapreduce.jar (GabrielReid)

 phoenix-assembly/pom.xml                 | 21 ---------------
 phoenix-assembly/src/build/mapreduce.xml | 44 --------------------------------
 2 files changed, 65 deletions(-)

commit c3206b8c44ecba3b84baa95a1b260d3f0961e2cf
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 19 01:08:53 2014 -0700

    PHOENIX-872 getConnection() sometimes fails with a ConcurrentModificationException (JamesTaylor)

 .../it/java/org/apache/phoenix/end2end/StatsManagerIT.java   | 12 ++++++------
 .../java/org/apache/phoenix/schema/PMetaDataImplTest.java    |  3 ++-
 2 files changed, 8 insertions(+), 7 deletions(-)

commit d1ba0dd37ecdba9a2569d12b1b2058bf9ab7365b
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 19 00:22:08 2014 -0700

    PHOENIX-872 getConnection() sometimes fails with a ConcurrentModificationException (JamesTaylor)

 .../org/apache/phoenix/end2end/StatsManagerIT.java |  12 +-
 .../org/apache/phoenix/query/StatsManagerImpl.java |  15 +--
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 148 ++++++++++++++++-----
 .../java/org/apache/phoenix/util/TimeKeeper.java   |  29 ++++
 .../apache/phoenix/schema/PMetaDataImplTest.java   |  28 ++--
 5 files changed, 169 insertions(+), 63 deletions(-)

commit 8fb95998121d4f6e0330912ea5244dd9a8877045
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 18 20:24:10 2014 -0700

    PHOENIX-875: NPE when running end2end tests against a live cluster

 .../main/java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 675852ba974ab047dd0feca8e0dce5ff329b6e76
Author: Jesse Yates <jyates@apache.org>
Date:   Tue Mar 18 19:20:06 2014 -0700

    PHOENIX-871: Mutable Secondary Indexing can cause a deadlock on exception

 .../hbase/index/IndexLogRollSynchronizer.java      | 133 ---------------------
 .../org/apache/phoenix/hbase/index/Indexer.java    | 129 ++++++--------------
 2 files changed, 36 insertions(+), 226 deletions(-)

commit 17be011381f6e114fa9dcee569999e54c29ad1bb
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 18 17:47:32 2014 -0700

    PHOENIX-872 getConnection() sometimes fails with a ConcurrentModificationException (JamesTaylor)

 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 31 ++++++++++++++--------
 1 file changed, 20 insertions(+), 11 deletions(-)

commit a71ced17ab6c664fa191df0f977466b3c1b923a0
Author: jamestaylor <jamestaylor@apache.org>
Date:   Tue Mar 18 13:13:33 2014 -0700

    PHOENIX-872 getConnection() sometimes fails with a ConcurrentModificationException (JamesTaylor)

 .../java/org/apache/phoenix/schema/PMetaDataImpl.java  | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 7d20af0048efd6f33b3d7cdd312746fe4d49267a
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Mar 18 12:12:03 2014 -0700

    PHOENIX-854 - Changes in pom.xml required for maven stage/rel.

 phoenix-assembly/pom.xml       |  2 +-
 phoenix-core/pom.xml           |  2 +-
 phoenix-flume/pom.xml          |  2 +-
 phoenix-hadoop-compat/pom.xml  |  2 +-
 phoenix-hadoop1-compat/pom.xml |  2 +-
 phoenix-hadoop2-compat/pom.xml |  2 +-
 phoenix-pig/pom.xml            |  2 +-
 pom.xml                        | 14 +++++++++++++-
 8 files changed, 20 insertions(+), 8 deletions(-)

commit dcfb9b2478c472e9f42b6a38ac6cc2063c25eb6f
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 23:29:53 2014 -0700

    Remove duplicate files

 LICENSE.txt | 202 ------------------------------------------------------------
 NOTICE.txt  |  25 --------
 2 files changed, 227 deletions(-)

commit 3786e786849b41b20d385db0eeceecc282f0303e
Merge: f268b45ba 5aac13a74
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 21:16:34 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit f268b45ba02228392a7ea8b7e3703c5d41e51cea
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 21:03:49 2014 -0700

    PHOENIX-846 Select DISTINCT with LIMIT does full scans (JamesTaylor)

 .../java/org/apache/phoenix/end2end/QueryIT.java   | 18 +++++++++
 .../apache/phoenix/end2end/SpillableGroupByIT.java | 43 ++++++++++++++++++--
 .../org/apache/phoenix/end2end/UpsertValuesIT.java | 32 +++++++++++++++
 .../java/org/apache/phoenix/cache/GlobalCache.java | 11 ++++-
 .../phoenix/cache/aggcache/SpillManager.java       | 10 ++---
 .../cache/aggcache/SpillableGroupByCache.java      | 22 +++++-----
 .../apache/phoenix/compile/AggregationManager.java |  4 ++
 .../apache/phoenix/compile/GroupByCompiler.java    |  7 ++--
 .../coprocessor/BaseScannerRegionObserver.java     |  1 +
 .../apache/phoenix/coprocessor/GroupByCache.java   |  2 +-
 .../GroupedAggregateRegionObserver.java            | 47 +++++++++++++++-------
 .../org/apache/phoenix/execute/AggregatePlan.java  | 28 +++++++++++++
 .../org/apache/phoenix/iterate/ExplainTable.java   |  8 +++-
 .../org/apache/phoenix/join/HashCacheFactory.java  |  2 +-
 .../org/apache/phoenix/query/QueryServices.java    |  2 +
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |  4 +-
 .../java/org/apache/phoenix/util/SizedUtil.java    |  4 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 44 ++++++++++++++++++++
 18 files changed, 241 insertions(+), 48 deletions(-)

commit 5aac13a749f97d0bf99013348e482bf46782d477
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 17 15:44:02 2014 -0700

    PHOENIX-864: Bump up phoenix driver version from 3.0 to 4.0

 .../src/main/java/org/apache/phoenix/coprocessor/MetaDataProtocol.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 291556d25f2f009ceec2175f6c3a16e760c23659
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 17 15:51:35 2014 -0700

    PHOENIX-865: Bump utility logging level from INFO to WARN because of too much logging info

 bin/log4j.properties | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f306e00e5db60fe7b9a7a2ef1ac12045ddeec292
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 17 15:25:13 2014 -0700

    PHOENIX-859: Client jar needs to package commons-collections when running on windows

 phoenix-assembly/src/build/components-major-client.xml | 1 +
 phoenix-core/pom.xml                                   | 5 +++++
 pom.xml                                                | 6 ++++++
 3 files changed, 12 insertions(+)

commit 92a9a2d14184d7cf4e2977525000a8257f1dcbfc
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 13:26:07 2014 -0700

    PHOENIX-863 Relax delete check for immutable secondary indexes

 .../src/main/java/org/apache/phoenix/util/IndexUtil.java       | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit eb2113012e745532c4f733580af188cd4580ad63
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 11:19:46 2014 -0700

    PHOENIX-862 Closing jdbc driver should not clear metadata cache on server (JamesTaylor)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 48 ++++++++++++++--------
 1 file changed, 32 insertions(+), 16 deletions(-)

commit be735139e91ec4078d63cb82484898cc64178de9
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 10:32:18 2014 -0700

    PHOENIX-853 Support CAST(x as varchar(length)) syntax (BrunoDumon)

 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  7 +++++-
 .../phoenix/compile/IndexStatementRewriter.java    |  2 +-
 .../org/apache/phoenix/parse/CastParseNode.java    | 26 +++++++++++++---------
 .../org/apache/phoenix/parse/ParseNodeFactory.java | 16 ++++++-------
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 23 ++++++++++++++++++-
 6 files changed, 54 insertions(+), 22 deletions(-)

commit 984515e1115a7367a478af189c8b0ef29b3baa4a
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 10:19:22 2014 -0700

    PHOENIX-861 MapReduce import doesn't use a default array separator (GabrielReid)

 .../org/apache/phoenix/mapreduce/CsvBulkLoadTool.java     | 15 +++++++++------
 .../org/apache/phoenix/mapreduce/CsvToKeyValueMapper.java |  4 +++-
 2 files changed, 12 insertions(+), 7 deletions(-)

commit 2dee0a86adc872093b40a66ccf4418e44abf84eb
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 17 00:08:18 2014 -0700

    PHOENIX-858 Disallow null primary key (JamesTaylor)

 .../java/org/apache/phoenix/end2end/IsNullIT.java  | 27 ------------------
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  8 +++---
 .../apache/phoenix/exception/SQLExceptionCode.java |  1 +
 .../java/org/apache/phoenix/parse/ColumnDef.java   | 14 ++++++---
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 ++
 .../org/apache/phoenix/schema/MetaDataClient.java  | 19 +++++++++----
 .../java/org/apache/phoenix/schema/PTableImpl.java |  3 ++
 .../apache/phoenix/compile/QueryCompilerTest.java  | 33 ++++++++++++++++++++++
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 +-
 10 files changed, 69 insertions(+), 42 deletions(-)

commit 9c2fc738491224e84375446ac13b87b9a98a1b43
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 16 18:20:14 2014 -0700

    Remove unused imports and add deprecate annotations

 .../wal/ReadWriteKeyValuesWithCodecIT.java         |  6 ++--
 ...WALReplayWithIndexWritesAndCompressedWALIT.java | 20 +++++++------
 .../apache/phoenix/end2end/NativeHBaseTypesIT.java |  9 +++---
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java   |  2 ++
 .../apache/phoenix/cache/ServerCacheClient.java    | 13 ++-------
 .../cache/aggcache/SpillableGroupByCache.java      |  9 +++---
 .../coprocessor/SequenceRegionObserver.java        |  1 -
 .../UngroupedAggregateRegionObserver.java          |  1 -
 .../org/apache/phoenix/execute/MutationState.java  |  2 +-
 .../filter/SingleKeyValueComparisonFilter.java     |  2 --
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  2 ++
 .../index/covered/filter/NewerTimestampFilter.java |  5 ----
 .../index/write/ParallelWriterIndexCommitter.java  |  1 +
 .../TrackingParallelWriterIndexCommitter.java      |  5 ++--
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  7 ++---
 .../iterate/RegionScannerResultIterator.java       |  3 --
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 22 ++++++++-------
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     | 33 ++++++++++++----------
 .../java/org/apache/phoenix/schema/PTable.java     |  1 -
 .../java/org/apache/phoenix/schema/Sequence.java   |  1 +
 .../apache/phoenix/schema/stat/PTableStats.java    |  2 --
 .../phoenix/schema/stat/PTableStatsImpl.java       |  5 ----
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  2 ++
 .../java/org/apache/phoenix/util/ColumnInfo.java   | 10 +++----
 .../java/org/apache/phoenix/util/ResultUtil.java   |  3 ++
 .../java/org/apache/phoenix/util/TupleUtil.java    |  1 +
 .../apache/phoenix/filter/SkipScanFilterTest.java  |  2 ++
 .../filter/TestApplyAndFilterDeletesFilter.java    |  6 ++--
 .../phoenix/hbase/index/write/TestIndexWriter.java |  6 ++--
 .../hbase/index/write/TestParalleIndexWriter.java  |  2 +-
 .../write/TestParalleWriterIndexCommitter.java     |  2 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  | 16 +++++------
 .../recovery/TestPerRegionIndexWriteCache.java     |  9 +++---
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   | 12 ++++----
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java | 16 +++++------
 .../java/org/apache/phoenix/util/TestUtil.java     |  2 --
 36 files changed, 112 insertions(+), 129 deletions(-)

commit ec2ed6fdb0a6ecedb05ffaef5e0f01dcd00c2ed0
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 16 17:57:46 2014 -0700

    PHOENIX-850 Optimize ORDER BY and GROUP BY for tenant specific indexes (JamesTaylor)

 phoenix-core/src/main/java/org/apache/phoenix/schema/PColumnImpl.java | 1 +
 1 file changed, 1 insertion(+)

commit 44ac4233f5d4bb531602f2b82183f7402e9abc66
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 16 12:08:53 2014 -0700

    PHOENIX-857 Duplicate dependency on phoenix-core in phoenix-flume (GabrielReid)

 phoenix-flume/pom.xml | 4 ----
 1 file changed, 4 deletions(-)

commit b62d50af1f5d0703f211acd82122d3097a85c808
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 16 12:08:23 2014 -0700

    PHOENX-856 Allow phoenix driver reuse after being closed (BrunoDumon)

 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 38 +++++++++++++++-------
 1 file changed, 27 insertions(+), 11 deletions(-)

commit b079fbc5121fe783cdc5ac6dda44dc4d4c660246
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 16 11:33:56 2014 -0700

    PHOENIX-129 Improve MapReduce-based import (GabrielReid)

 bin/csv-bulk-loader.py                             |  52 ---
 bin/readme.txt                                     |  38 +-
 phoenix-assembly/pom.xml                           |  22 +-
 phoenix-assembly/src/build/all.xml                 |   3 +-
 phoenix-assembly/src/build/mapreduce.xml           |  44 +++
 .../phoenix/mapreduce/CsvBulkLoadToolIT.java       | 143 ++++++++
 .../apache/phoenix/map/reduce/CSVBulkLoader.java   | 396 ---------------------
 .../apache/phoenix/map/reduce/MapReduceJob.java    | 202 -----------
 .../phoenix/map/reduce/util/ConfigReader.java      | 112 ------
 .../phoenix/mapreduce/CsvBulkImportUtil.java       |  67 ++++
 .../apache/phoenix/mapreduce/CsvBulkLoadTool.java  | 341 ++++++++++++++++++
 .../phoenix/mapreduce/CsvToKeyValueMapper.java     | 301 ++++++++++++++++
 .../ImportPreUpsertKeyValueProcessor.java          |  47 +++
 .../java/org/apache/phoenix/schema/PDataType.java  |   2 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |  23 +-
 .../java/org/apache/phoenix/util/ColumnInfo.java   |  70 +++-
 .../phoenix/mapreduce/CsvBulkImportUtilTest.java   |  71 ++++
 .../phoenix/mapreduce/CsvBulkLoadToolTest.java     |  80 +++++
 .../phoenix/mapreduce/CsvToKeyValueMapperTest.java | 132 +++++++
 .../org/apache/phoenix/util/ColumnInfoTest.java    |  44 +++
 20 files changed, 1389 insertions(+), 801 deletions(-)

commit 76f8d338b0c183fbcf848bacdc5027ea2801a97e
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 15 22:24:40 2014 -0700

    PHOENIX-850 Optimize ORDER BY and GROUP BY for tenant specific indexes (JamesTaylor)

 .../end2end/BaseTenantSpecificViewIndexIT.java     |  10 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java     |   8 +-
 .../phoenix/compile/CreateTableCompiler.java       |  35 +++---
 .../apache/phoenix/compile/ExpressionCompiler.java |  28 ++++-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../phoenix/compile/IndexStatementRewriter.java    |  10 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   6 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |   2 +
 .../org/apache/phoenix/compile/QueryCompiler.java  |   7 +-
 .../TrackOrderPreservingExpressionCompiler.java    |   8 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  47 +++++--
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  14 ++-
 .../phoenix/coprocessor/MetaDataProtocol.java      |   7 +-
 .../coprocessor/generated/PTableProtos.java        | 131 ++++++++++++++++---
 .../org/apache/phoenix/index/IndexMaintainer.java  |   5 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |   3 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +
 .../org/apache/phoenix/schema/DelegateColumn.java  |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  60 +++++----
 .../java/org/apache/phoenix/schema/PColumn.java    |   2 +
 .../org/apache/phoenix/schema/PColumnImpl.java     | 139 +++++++++++----------
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   9 ++
 .../TenantSpecificViewIndexCompileTest.java        |  84 +++++++++++++
 .../phoenix/expression/ColumnExpressionTest.java   |   8 +-
 .../iterate/AggregateResultScannerTest.java        |   5 +
 phoenix-protocol/src/main/PTable.proto             |   1 +
 31 files changed, 473 insertions(+), 175 deletions(-)

commit 0deb4881619b91a25f5b71baf88180597eba54c7
Author: jamestaylor <jamestaylor@apache.org>
Date:   Fri Mar 14 16:17:39 2014 -0700

    PHOENIX-841 Upserting into tenant-specific view with no where clause fails with an NPE (EliLevine)

 .../phoenix/end2end/TenantSpecificTablesDMLIT.java      | 17 ++++++++++++++++-
 .../java/org/apache/phoenix/compile/UpsertCompiler.java |  9 ++++++---
 2 files changed, 22 insertions(+), 4 deletions(-)

commit 124bf461cdd2489389e1e05d881133b93d0ea16f
Merge: 5b3bb4d7b edef6a3a7
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Mar 14 15:21:05 2014 -0400

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 5b3bb4d7b5dcdb866c84c314f42d51e20b41dfe4
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Mar 14 15:20:57 2014 -0400

    PHOENIX-839 Joining on a dynamic column doesn't work

 .../org/apache/phoenix/end2end/HashJoinIT.java     | 70 ++++++++++++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   | 74 ++++++++++++++++++----
 2 files changed, 133 insertions(+), 11 deletions(-)

commit edef6a3a7e0b963addfdc53652f974dc0a6fa0b6
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Mar 13 18:16:17 2014 -0700

    PHOENIX-849: Test StatsManagerIT#testStatsManager is flaky

 phoenix-core/src/it/java/org/apache/phoenix/end2end/StatsManagerIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36845baee19751a2d8854efafc4169188745363d
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Fri Mar 14 10:13:49 2014 +0530

    Phoenix-128-Support coercion and descending sort order for ARRAY

 .../java/org/apache/phoenix/end2end/ArrayIT.java   | 138 ++++-
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   2 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   2 +-
 .../phoenix/expression/CoerceExpression.java       |   3 +-
 .../expression/function/ArrayIndexFunction.java    |  15 +-
 .../org/apache/phoenix/parse/CastParseNode.java    |  23 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  24 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  | 112 ++--
 .../java/org/apache/phoenix/schema/PDataType.java  | 615 +++++++++++++++------
 9 files changed, 707 insertions(+), 227 deletions(-)

commit 49d586cd9980d669405ad2d4c06f01aae9aee420
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 21:17:17 2014 -0700

    PHOENIX-829 Uppercase file name if none supplied for CSV import (JamesTaylor)

 phoenix-core/pom.xml                                       |  1 -
 .../main/java/org/apache/phoenix/util/PhoenixRuntime.java  | 14 +++++++-------
 2 files changed, 7 insertions(+), 8 deletions(-)

commit d1caa5150ed051d68aa05fe489bea2a2b9faf64b
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 18:06:26 2014 -0700

    PHOENIX-843 Incorrect java.sql.Types value returned for array types in result set (Gabriel Reid)

 .../apache/phoenix/expression/ExpressionType.java  |   4 +-
 .../function/ExternalSqlTypeIdFunction.java        |  87 +++++++++++++++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  14 ++-
 .../java/org/apache/phoenix/schema/PDataType.java  | 121 ++++++++++++++++++++-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |   4 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |   7 ++
 .../function/ExternalSqlTypeIdFunctionTest.java    |  65 +++++++++++
 .../org/apache/phoenix/schema/PDataTypeTest.java   |  28 ++++-
 8 files changed, 322 insertions(+), 8 deletions(-)

commit 83eae12e31f6537bf802209b83f516fe721c9d91
Merge: c4ac29c5f 4323e60b8
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 17:31:26 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit c4ac29c5f1598af65686cb3f46957b03135fd508
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 17:26:58 2014 -0700

    Add DISCLAIMER, drop the .txt extension in LICENSE and NOTICE files

 DISCLAIMER |   8 +++
 LICENSE    | 202 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 NOTICE     |  25 ++++++++
 3 files changed, 235 insertions(+)

commit 4323e60b84b075eedfc1fc4016436c9118e6aa46
Author: Jesse Yates <jyates@apache.org>
Date:   Thu Mar 13 17:01:27 2014 -0700

    Use better namespace for maven artifacts (Gabriel Reid)

 phoenix-assembly/pom.xml                          | 12 ++++++------
 phoenix-assembly/src/build/client.xml             |  4 ++--
 phoenix-assembly/src/build/components-minimal.xml |  6 +++---
 phoenix-core/pom.xml                              |  6 +++---
 phoenix-flume/pom.xml                             |  8 ++++----
 phoenix-hadoop-compat/pom.xml                     |  2 +-
 phoenix-hadoop1-compat/pom.xml                    |  4 ++--
 phoenix-hadoop2-compat/pom.xml                    |  2 +-
 phoenix-pig/pom.xml                               |  4 ++--
 pom.xml                                           | 20 ++++++++++----------
 10 files changed, 34 insertions(+), 34 deletions(-)

commit 9e346fee44ade274577eab7081bd7d388a676b59
Merge: b5c538134 150cc9bff
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 15:02:15 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit b5c5381341cf28dc73df64c2ff61197be9e7bf13
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 13 14:10:40 2014 -0700

    PHOENIX-127 Query with pk IS NULL OR pk IN (1,2) return incorrect results (JamesTaylor)

 .../java/org/apache/phoenix/end2end/IsNullIT.java  | 67 ++++++++++++++++++--
 .../java/org/apache/phoenix/end2end/QueryIT.java   | 74 ++++++++++++++++------
 .../phoenix/end2end/TenantSpecificTablesDDLIT.java | 39 +++++++-----
 .../apache/phoenix/compile/ExpressionCompiler.java | 18 +++---
 .../phoenix/expression/ComparisonExpression.java   |  6 ++
 .../java/org/apache/phoenix/query/KeyRange.java    | 16 ++++-
 .../java/org/apache/phoenix/util/ScanUtilTest.java | 10 +--
 7 files changed, 174 insertions(+), 56 deletions(-)

commit 150cc9bff49ea833fadef89346714478d595fd75
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Mar 13 09:56:42 2014 -0700

    log4j.properties update

 bin/log4j.properties | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit c4424eac03d63a91b9bf7768a7e07c5fe2cbc014
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Mar 13 11:32:11 2014 -0700

    phoenix-130: Separate execution of slow (integration) tests from fast unit tests - addendum

 .../src/it/java/org/apache/phoenix/end2end/End2EndTestDriver.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 015f156cebee99e330cdcc34fdba8c7adc0e310d
Merge: 2e5e647fc e6caf55ab
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Mar 13 09:54:55 2014 +0530

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 2e5e647fccf0a36948c6e3a51afeb5e248e0cd73
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Mar 13 09:53:55 2014 +0530

    PHOENIX-122 SELECT * FROM TABLE ORDER BY NONPK COLUMN doesn't return values for all the columns(Anoop)

 .../apache/phoenix/compile/ProjectionCompiler.java | 70 +++++++---------------
 .../apache/phoenix/iterate/ParallelIterators.java  | 25 +++++---
 .../end2end/ColumnProjectionOptimizationTest.java  | 33 ++++++++++
 3 files changed, 70 insertions(+), 58 deletions(-)

commit e6caf55ab445a1e2a43a9fda9c1216a56a6b6684
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 12 16:35:54 2014 -0700

    PHOENIX-831 First Connection to Phoenix blows up if it is tenant specific (SomeshSassalatti)

 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  8 +---
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  8 ++--
 .../org/apache/phoenix/util/PropertiesUtil.java    | 39 ++++++++++++++++
 .../org/apache/phoenix/jdbc/PhoenixDriverTest.java | 51 +++++++++++++++++++++
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |  8 ++--
 .../apache/phoenix/util/PropertiesUtilTest.java    | 53 ++++++++++++++++++++++
 7 files changed, 157 insertions(+), 14 deletions(-)

commit cbefbba291a17783be875401cf63bb1e6c600121
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 12 16:02:46 2014 -0700

    Fix typo in pom

 phoenix-assembly/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 34f94a6407f867754c68b65f0acc3198f67d9e4b
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 12 15:49:46 2014 -0700

    PHOENIX-130 Separate execution of slow (integration) tests from fast unit tests (GabrielReid)

 phoenix-core/pom.xml                               |  4 ++
 .../wal/ReadWriteKeyValuesWithCodecIT.java}        |  2 +-
 ...ALReplayWithIndexWritesAndCompressedWALIT.java} |  2 +-
 ...xWritesAndUncompressedWALInHBase_094_9_IT.java} |  2 +-
 .../org/apache/phoenix/end2end/AlterTableIT.java}  |  2 +-
 .../apache/phoenix/end2end/ArithmeticQueryIT.java} |  2 +-
 .../java/org/apache/phoenix/end2end/ArrayIT.java}  | 62 ++++++++++-----------
 .../org/apache/phoenix/end2end/AutoCommitIT.java}  |  2 +-
 .../phoenix/end2end/BaseClientManagedTimeIT.java}  |  2 +-
 .../phoenix/end2end/BaseConnectedQueryIT.java}     |  2 +-
 .../phoenix/end2end/BaseHBaseManagedTimeIT.java}   |  2 +-
 .../BaseParallelIteratorsRegionSplitterIT.java}    |  2 +-
 .../end2end/BaseTenantSpecificTablesIT.java}       |  2 +-
 .../end2end/BaseTenantSpecificViewIndexIT.java}    |  2 +-
 .../org/apache/phoenix/end2end/BaseViewIT.java}    |  2 +-
 .../apache/phoenix/end2end/BinaryRowKeyIT.java}    |  2 +-
 .../phoenix/end2end/CSVCommonsLoaderIT.java}       |  2 +-
 .../phoenix/end2end/CoalesceFunctionIT.java}       |  2 +-
 .../end2end/ColumnProjectionOptimizationIT.java}   |  2 +-
 .../phoenix/end2end/CompareDecimalToLongIT.java}   |  2 +-
 .../end2end/ConnectionQueryServicesTestImpl.java   |  0
 .../org/apache/phoenix/end2end/CreateTableIT.java} |  2 +-
 .../phoenix/end2end/CustomEntityDataIT.java}       |  2 +-
 .../DefaultParallelIteratorsRegionSplitterIT.java} |  2 +-
 .../java/org/apache/phoenix/end2end/DeleteIT.java} |  2 +-
 .../apache/phoenix/end2end/DistinctCountIT.java}   |  2 +-
 .../apache/phoenix/end2end/DynamicColumnIT.java}   |  2 +-
 .../apache/phoenix/end2end/DynamicFamilyIT.java}   |  2 +-
 .../apache/phoenix/end2end/DynamicUpsertIT.java}   |  2 +-
 .../apache/phoenix/end2end/End2EndTestDriver.java  |  0
 .../phoenix/end2end/ExecuteStatementsIT.java}      |  2 +-
 .../phoenix/end2end/ExtendedQueryExecIT.java}      |  2 +-
 .../org/apache/phoenix/end2end/FunkyNamesIT.java}  |  2 +-
 .../org/apache/phoenix/end2end/GroupByCaseIT.java} | 10 ++--
 .../org/apache/phoenix/end2end/HashJoinIT.java}    |  4 +-
 .../apache/phoenix/end2end/InMemoryOrderByIT.java} |  4 +-
 .../java/org/apache/phoenix/end2end/IsNullIT.java} |  2 +-
 .../org/apache/phoenix/end2end/KeyOnlyIT.java}     |  2 +-
 .../org/apache/phoenix/end2end/MD5FunctionIT.java} |  2 +-
 .../phoenix/end2end/MultiCfQueryExecIT.java}       |  2 +-
 .../phoenix/end2end/NativeHBaseTypesIT.java}       |  2 +-
 .../org/apache/phoenix/end2end/OrderByIT.java}     |  2 +-
 .../org/apache/phoenix/end2end/PercentileIT.java}  |  2 +-
 .../apache/phoenix/end2end/ProductMetricsIT.java}  |  2 +-
 .../phoenix/end2end/QueryDatabaseMetaDataIT.java}  |  2 +-
 .../phoenix/end2end/QueryExecWithoutSCNIT.java}    |  2 +-
 .../java/org/apache/phoenix/end2end/QueryIT.java}  |  4 +-
 .../org/apache/phoenix/end2end/QueryPlanIT.java}   |  2 +-
 .../phoenix/end2end/ReadIsolationLevelIT.java}     |  2 +-
 .../apache/phoenix/end2end/ReverseFunctionIT.java} |  2 +-
 .../end2end/RoundFloorCeilFunctionsEnd2EndIT.java} |  2 +-
 .../phoenix/end2end/RowValueConstructorIT.java}    |  2 +-
 .../org/apache/phoenix/end2end/SaltedViewIT.java}  |  2 +-
 .../org/apache/phoenix/end2end/SequenceIT.java}    |  2 +-
 .../apache/phoenix/end2end/ServerExceptionIT.java} |  2 +-
 ...SkipRangeParallelIteratorRegionSplitterIT.java} |  4 +-
 .../apache/phoenix/end2end/SkipScanQueryIT.java}   |  2 +-
 .../org/apache/phoenix/end2end/SortOrderFIT.java}  |  2 +-
 .../phoenix/end2end/SpillableGroupByIT.java}       |  4 +-
 .../apache/phoenix/end2end/SpooledOrderByIT.java}  |  2 +-
 .../apache/phoenix/end2end/StatementHintsIT.java}  |  2 +-
 .../apache/phoenix/end2end/StatsManagerIT.java}    |  2 +-
 .../java/org/apache/phoenix/end2end/StddevIT.java} |  2 +-
 .../end2end/TenantSpecificTablesDDLIT.java}        |  2 +-
 .../end2end/TenantSpecificTablesDMLIT.java}        |  2 +-
 .../end2end/TenantSpecificViewIndexIT.java}        |  2 +-
 .../end2end/TenantSpecificViewIndexSaltedIT.java}  |  2 +-
 .../apache/phoenix/end2end/ToCharFunctionIT.java}  |  2 +-
 .../phoenix/end2end/ToNumberFunctionIT.java}       |  4 +-
 .../java/org/apache/phoenix/end2end/TopNIT.java}   |  2 +-
 .../phoenix/end2end/TruncateFunctionIT.java}       |  2 +-
 .../apache/phoenix/end2end/UpsertBigValuesIT.java} |  2 +-
 .../phoenix/end2end/UpsertSelectAutoCommitIT.java} |  4 +-
 .../apache/phoenix/end2end/UpsertSelectIT.java}    |  2 +-
 .../apache/phoenix/end2end/UpsertValuesIT.java}    |  2 +-
 .../phoenix/end2end/VariableLengthPKIT.java}       |  2 +-
 .../java/org/apache/phoenix/end2end/ViewIT.java}   |  2 +-
 .../apache/phoenix/end2end/index/BaseIndexIT.java} |  4 +-
 .../phoenix/end2end/index/BaseMutableIndexIT.java} |  4 +-
 .../apache/phoenix/end2end/index/DropViewIT.java}  |  2 +-
 .../phoenix/end2end/index/ImmutableIndexIT.java}   |  4 +-
 .../phoenix/end2end/index/IndexMetadataIT.java}    |  4 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |  0
 .../end2end/index/MutableIndexFailureIT.java}      |  2 +-
 .../phoenix/end2end/index/MutableIndexIT.java}     |  2 +-
 .../phoenix/end2end/index/SaltedIndexIT.java}      |  2 +-
 .../phoenix/end2end/salted/SaltedTableIT.java}     |  4 +-
 .../end2end/salted/SaltedTableUpsertSelectIT.java} |  5 +-
 .../salted/SaltedTableVarLengthRowKeyIT.java}      |  5 +-
 .../index/FailForUnsupportedHBaseVersionsIT.java}  |  5 +-
 .../EndToEndCoveredColumnsIndexBuilderIT.java}     | 11 ++--
 .../example/EndToEndCoveredIndexingIT.java}        |  9 +---
 .../EndtoEndIndexingWithCompressionIT.java}        |  2 +-
 .../covered/example/FailWithoutRetriesIT.java}     | 11 ++--
 phoenix-core/src/it/resources/hbase-default.xml    | 36 +++++++++++++
 phoenix-core/src/it/resources/log4j.properties     | 63 ++++++++++++++++++++++
 phoenix-flume/pom.xml                              | 13 +++++
 .../org/apache/phoenix/flume/PhoenixSinkIT.java}   |  4 +-
 .../phoenix/flume/RegexEventSerializerIT.java}     |  4 +-
 pom.xml                                            | 61 ++++++++++++++++++++-
 100 files changed, 325 insertions(+), 166 deletions(-)

commit 04190f049eecd06cc8149294ff009700bd190483
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 11 17:50:57 2014 -0700

    phoenix-837: Phoenix python script should use os specific separators

 bin/csv-bulk-loader.py | 14 +++-----------
 bin/end2endTest.py     |  3 +--
 bin/performance.py     | 23 +++++------------------
 bin/phoenix_utils.py   | 41 +++++++++++++++++++++++++++++++++++++++++
 bin/psql.py            | 18 +++---------------
 bin/sqlline.py         | 18 +++---------------
 6 files changed, 56 insertions(+), 61 deletions(-)

commit cd7024985f6b01229553d9ae295e7e25ff9be485
Author: Nick Dimiduk <ndimiduk@gmail.com>
Date:   Tue Mar 11 17:37:48 2014 -0700

    PHOENIX-840 Update POM for snapshot repository

 pom.xml | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 3e684149d64ae0c888639bd7ad4f558dc27ad87a
Author: jamestaylor <jamestaylor@apache.org>
Date:   Tue Mar 11 17:06:04 2014 -0700

    PHOENIX-66 Support array creation from CSV file (GabrielReid)

 .../org/apache/phoenix/util/CSVCommonsLoader.java  |  631 ++++++------
 .../org/apache/phoenix/util/PhoenixRuntime.java    |    9 +-
 .../java/org/apache/phoenix/util/QueryUtil.java    |  129 ++-
 .../apache/phoenix/util/csv/CsvUpsertExecutor.java |  222 ++++
 .../phoenix/util/csv/StringToArrayConverter.java   |   93 ++
 .../phoenix/end2end/CSVCommonsLoaderTest.java      | 1071 ++++++++++----------
 .../org/apache/phoenix/util/QueryUtilTest.java     |   56 +
 .../phoenix/util/csv/CsvUpsertExecutorTest.java    |  144 +++
 .../util/csv/StringToArrayConverterTest.java       |   82 ++
 .../flume/serializer/BaseEventSerializer.java      |    3 +-
 .../phoenix/pig/PhoenixPigConfiguration.java       |    2 +-
 11 files changed, 1539 insertions(+), 903 deletions(-)

commit 9088676add2e59618b34b1632aa576d3ab8cc6d6
Author: jamestaylor <jamestaylor@apache.org>
Date:   Tue Mar 11 16:05:51 2014 -0700

    PHOENIX-835 Datatype statements in CAST operations are case-sensitive (GabrielReid)

 phoenix-core/src/main/java/org/apache/phoenix/parse/CastParseNode.java | 3 ++-
 phoenix-core/src/test/java/org/apache/phoenix/end2end/QueryTest.java   | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit ac46aeba1548fa3e94013b81bb97f77bdd096535
Author: jamestaylor <jamestaylor@apache.org>
Date:   Tue Mar 11 15:58:44 2014 -0700

    PHOENIX-836 Cast syntax is not in line with standard SQL (GabrielReid)

 phoenix-core/src/main/antlr3/PhoenixSQL.g                           | 2 +-
 .../src/test/java/org/apache/phoenix/compile/QueryCompilerTest.java | 6 +++---
 .../src/test/java/org/apache/phoenix/end2end/QueryTest.java         | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 1ccb3f6cb0a74e591a74c29216d25a669eacd6d6
Author: jamestaylor <jamestaylor@apache.org>
Date:   Tue Mar 11 15:56:29 2014 -0700

    PHOENIX-834 Unit tests fail if default locale is not en_US (GabrielReid)

 .../org/apache/phoenix/compile/WhereCompilerTest.java |  2 +-
 .../apache/phoenix/end2end/ToNumberFunctionTest.java  | 19 ++++++++++++++++++-
 2 files changed, 19 insertions(+), 2 deletions(-)

commit cb7763d3dfe2eb42f9dbc3e6147859932c13e0f1
Author: jamestaylor <jamestaylor@apache.org>
Date:   Mon Mar 10 15:15:03 2014 -0700

    PHOENIX-131 Incorrect determination of total available memory (JamesTaylor)

 phoenix-core/src/main/java/org/apache/phoenix/cache/GlobalCache.java    | 2 +-
 .../src/main/java/org/apache/phoenix/query/BaseQueryServicesImpl.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 45279a99b69c437a574f45ee0d6bdc6396bb0a48
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 10 10:07:11 2014 -0700

    Bump up master branch version from 4.0.0 to 4.1.0

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-hadoop-compat/pom.xml  | 2 +-
 phoenix-hadoop1-compat/pom.xml | 2 +-
 phoenix-hadoop2-compat/pom.xml | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 pom.xml                        | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit c22539d940fa0afc790cc0f25c2cdbbb255f80a3
Merge: 03ab5d2d5 853c7446c
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Mar 9 23:20:24 2014 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 03ab5d2d5ed9774c5a308428cf219dbe2dfd97e2
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Mar 9 23:18:50 2014 -0700

    add test dependencies for hadoop2

 phoenix-flume/pom.xml | 56 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 56 insertions(+)

commit 853c7446cc9f2049f417f83c8a31a5be5a560b2b
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 22:43:43 2014 -0700

    PHOENIX-126 Use of BOOLEAN in index and/or group by causes exception (JamesTaylor)

 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 12 +++++------
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 24 ++++++++++++++++++++++
 2 files changed, 30 insertions(+), 6 deletions(-)

commit 7ffe4b94a8d786aa0240644f817308ccc0fa0fe8
Merge: 329be9940 441de12f1
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Mar 9 21:17:55 2014 -0700

    Merge remote-tracking branch 'origin/master' into 4.0

commit 441de12f1ab900689cdcecab75b67429636f40c7
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 20:40:45 2014 -0700

    PHOENIX-126 Use of BOOLEAN in index and/or group by causes exception (JamesTaylor)

 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 134 ++++++++++-----------
 .../java/org/apache/phoenix/parse/SQLParser.java   |   7 +-
 2 files changed, 67 insertions(+), 74 deletions(-)

commit 329be9940b93c57e5d5a783b025f77a2fae913f6
Merge: 52a57b5e4 240f89ef0
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Mar 9 19:17:40 2014 -0700

    merge master into 4.0 branch

commit 240f89ef08fecc16dbf38afc99bd7743432090f6
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 16:00:08 2014 -0700

    PHOENIX-126 Use of BOOLEAN in index and/or group by causes exception (JamesTaylor)

 phoenix-assembly/src/build/all.xml                 |  1 -
 phoenix-assembly/src/build/components-minimal.xml  |  1 -
 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  4 +--
 .../apache/phoenix/compile/GroupByCompiler.java    | 14 ++++----
 .../phoenix/expression/RowKeyColumnExpression.java |  4 ++-
 .../org/apache/phoenix/schema/PArrayDataType.java  | 31 ----------------
 .../java/org/apache/phoenix/schema/PDataType.java  | 41 +++++++++++++++-------
 .../java/org/apache/phoenix/util/IndexUtil.java    |  9 ++---
 .../end2end/ConnectionQueryServicesTestImpl.java   | 20 +++++++----
 .../java/org/apache/phoenix/end2end/QueryTest.java | 41 +++++++++++++++++++++-
 .../apache/phoenix/index/IndexMaintainerTest.java  | 35 ++++++++++++++++++
 pom.xml                                            |  8 +----
 12 files changed, 133 insertions(+), 76 deletions(-)

commit eb60388ef58fb0c7f17329c3b9e4912a1cbdf3e2
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 13:00:10 2014 -0700

    PHOENIX-49 Unit test for ArrayIndexOutOfBoundsException when creating index (SaikiranPerumala)

 .../test/java/org/apache/phoenix/index/IndexMaintainerTest.java    | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 3224db8d7c913605daa9911130f8aadbaaeae39f
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 11:31:28 2014 -0700

    Use daemon threads so client doesn't hang

 .../src/main/java/org/apache/phoenix/job/JobManager.java      | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 971b79275fea11ed7ce4a04d7a543aa634b5e402
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 11:20:43 2014 -0700

    Kick build

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96e9a4baeb6cac855670e547d0618f7aff4ba64f
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 09:27:06 2014 -0700

    Fix broken unit test

 .../src/test/java/org/apache/phoenix/schema/PDataTypeForArraysTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 12e5658e94ec059154ef2c19799b37164357df1b
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 9 03:15:56 2014 -0700

    PHOENIX-123 Fixed with array should not write any footer

 .../phoenix/compile/ExpressionProjector.java       |   3 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   2 +-
 .../exception/ValueTypeIncompatibleException.java  |   2 +-
 .../expression/ArrayConstructorExpression.java     |   2 +-
 .../phoenix/expression/LiteralExpression.java      |   3 +
 .../expression/function/ArrayLengthFunction.java   |   2 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   7 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  | 126 ++++++------
 .../java/org/apache/phoenix/schema/PDataType.java  | 222 ++++++++++++++-------
 .../org/apache/phoenix/schema/PhoenixArray.java    |  72 ++++++-
 .../phoenix/schema/PDataTypeForArraysTest.java     |   4 +-
 11 files changed, 288 insertions(+), 157 deletions(-)

commit 52a57b5e452c1da13c3fbc3268974a61ed76037a
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Mar 9 00:50:44 2014 -0800

    remove ClientKeyValue

 .../phoenix/hbase/index/util/ClientKeyValue.java   | 445 ---------------------
 .../hbase/index/util/ClientKeyValueBuilder.java    | 266 ------------
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |   8 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   3 +-
 .../apache/phoenix/client/TestClientKeyValue.java  | 184 ---------
 .../phoenix/client/TestClientKeyValueLocal.java    | 271 -------------
 .../apache/phoenix/index/IndexMaintainerTest.java  |  10 -
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   3 +-
 8 files changed, 3 insertions(+), 1187 deletions(-)

commit 0da3a52b9d4a4525837a834b2ebc6393f731f4d1
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 8 23:11:57 2014 -0800

    PHOENIX-116 Phoenix array integer types overlap with existing java.sql.Types (Gabriel Reid)

 .../apache/phoenix/compile/ExpressionCompiler.java |  3 +-
 .../expression/ArrayConstructorExpression.java     |  3 +-
 .../expression/function/ArrayIndexFunction.java    |  3 +-
 .../expression/function/ArrayLengthFunction.java   |  4 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  | 15 +++---
 .../java/org/apache/phoenix/schema/PDataType.java  | 54 +++++++++++-----------
 6 files changed, 39 insertions(+), 43 deletions(-)

commit 61805ebd45c0993699f3564106a0fd9d71c5a143
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 8 22:53:45 2014 -0800

    PHOENIX-121 Metadata query on 2.X fails after upgrade to Phoenix 3.0 (JamesTaylor)

 .../org/apache/phoenix/compile/DeleteCompiler.java |  4 +-
 .../apache/phoenix/compile/GroupByCompiler.java    | 15 ++++----
 .../apache/phoenix/compile/PostDDLCompiler.java    | 12 +++---
 .../apache/phoenix/compile/ProjectionCompiler.java |  6 +--
 .../org/apache/phoenix/compile/UpsertCompiler.java |  5 ++-
 .../coprocessor/BaseScannerRegionObserver.java     | 20 +++++++++-
 .../GroupedAggregateRegionObserver.java            | 14 ++-----
 .../phoenix/coprocessor/ScanRegionObserver.java    | 10 ++---
 .../UngroupedAggregateRegionObserver.java          | 26 +++++--------
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 43 +++++++++++++++-------
 .../org/apache/phoenix/query/QueryConstants.java   |  2 -
 .../apache/phoenix/compile/QueryCompilerTest.java  | 12 +++---
 13 files changed, 94 insertions(+), 78 deletions(-)

commit de488eac38cb97a4e668db8ec4cf2052f69a4471
Merge: dc94419d2 65ac0ca34
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sat Mar 8 19:05:53 2014 -0800

    merge from master branch

commit dc94419d2f29f908ce0d52ab5392144376af5d10
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sat Mar 8 18:51:15 2014 -0800

    merge changes from master

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   1 +
 .../phoenix/coprocessor/MetaDataProtocol.java      |   1 +
 .../UngroupedAggregateRegionObserver.java          |   3 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    |   1 +
 .../hbase/index/util/ClientKeyValueBuilder.java    | 234 +++++----------------
 .../hbase/index/util/GenericKeyValueBuilder.java   |  17 +-
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |   9 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   1 +
 .../iterate/MappedByteBufferSortedQueue.java       |   4 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   6 -
 .../java/org/apache/phoenix/schema/PTableImpl.java |   3 +
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   1 +
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  15 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |   1 +
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  64 +++---
 .../java/org/apache/phoenix/util/ResultUtil.java   | 188 +++++++++++++++++
 .../phoenix/end2end/index/IndexTestUtil.java       |  11 +-
 17 files changed, 312 insertions(+), 248 deletions(-)

commit e43a5cd769b7b6b238cd3e13d508729b17641099
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 8 18:31:37 2014 -0800

    Replace EvaluateOnCompletionVisitor with method on Expression for better encapsulation

 .../expression/ArrayConstructorExpression.java     |  6 +-
 .../phoenix/expression/BaseCompoundExpression.java | 11 ++-
 .../apache/phoenix/expression/BaseExpression.java  |  6 ++
 .../phoenix/expression/BaseSingleExpression.java   |  5 ++
 .../apache/phoenix/expression/CaseExpression.java  |  4 +
 .../org/apache/phoenix/expression/Expression.java  | 17 ++++-
 .../phoenix/expression/IsNullExpression.java       |  5 ++
 .../phoenix/expression/RowKeyColumnExpression.java | 10 +++
 .../expression/RowValueConstructorExpression.java  |  5 ++
 .../expression/function/CoalesceFunction.java      |  5 ++
 .../phoenix/filter/BooleanExpressionFilter.java    |  9 ---
 .../filter/EvaluateOnCompletionVisitor.java        | 89 ----------------------
 .../filter/MultiKeyValueComparisonFilter.java      |  6 +-
 .../filter/SingleKeyValueComparisonFilter.java     |  7 +-
 14 files changed, 75 insertions(+), 110 deletions(-)

commit 65ac0ca34623c6ba69858a9c29dc78c11c46acfb
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 8 17:25:54 2014 -0800

    PHOENIX-118 Type mismatch error on upsert for unsigned_date and date

 .../org/apache/phoenix/compile/UpsertCompiler.java |   53 +-
 .../UngroupedAggregateRegionObserver.java          |   21 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |    2 +-
 .../exception/ValueTypeIncompatibleException.java  |    4 +-
 .../phoenix/expression/ArithmeticExpression.java   |   31 +
 .../expression/BaseAddSubtractExpression.java      |   33 +-
 .../phoenix/expression/DecimalAddExpression.java   |   11 +-
 .../expression/DecimalDivideExpression.java        |    5 +-
 .../expression/DecimalMultiplyExpression.java      |    5 +-
 .../expression/DecimalSubtractExpression.java      |   11 +-
 .../phoenix/expression/DivideExpression.java       |   46 +-
 .../phoenix/expression/LiteralExpression.java      |    7 +-
 .../phoenix/expression/MultiplyExpression.java     |   43 +-
 .../phoenix/hbase/index/util/KeyValueBuilder.java  |    4 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |    7 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |    5 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  |   39 +-
 .../java/org/apache/phoenix/schema/PDataType.java  | 1452 +++++++-------------
 .../java/org/apache/phoenix/util/IndexUtil.java    |    7 +-
 .../java/org/apache/phoenix/util/NumberUtil.java   |    8 +-
 .../arithmetic/ArithmeticOperationTest.java        |   10 +-
 .../apache/phoenix/client/TestClientKeyValue.java  |    8 +-
 .../phoenix/client/TestClientKeyValueLocal.java    |    6 +
 .../phoenix/end2end/ArithmeticQueryTest.java       |   22 +-
 .../phoenix/end2end/ExecuteStatementsTest.java     |    8 +-
 .../end2end/UpsertSelectAutoCommitTest.java        |    2 +-
 .../apache/phoenix/end2end/UpsertValuesTest.java   |   37 +-
 .../phoenix/end2end/VariableLengthPKTest.java      |   13 +-
 .../phoenix/end2end/index/MutableIndexTest.java    |    1 -
 .../org/apache/phoenix/schema/PDataTypeTest.java   |   12 +-
 .../org/apache/phoenix/schema/SortOrderTest.java   |   13 +
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   34 +-
 .../apache/phoenix/util/MinVersionTestRunner.java  |   64 +
 33 files changed, 863 insertions(+), 1161 deletions(-)

commit 1159b6e1dda25a0543be5bb615629672bbda7960
Merge: d43adc62c b44ad86aa
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 6 17:13:18 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit d43adc62c22285a59f692fcd3d9567d5f287c287
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 6 17:13:06 2014 -0800

    PHOENIX-119 Removed unnecessary Expression.getByteSize() method

 .../phoenix/compile/CreateSequenceCompiler.java    | 16 +---
 .../apache/phoenix/compile/ExpressionCompiler.java | 24 +-----
 .../org/apache/phoenix/compile/LimitCompiler.java  | 15 ++--
 .../apache/phoenix/compile/ProjectionCompiler.java | 10 ++-
 .../org/apache/phoenix/compile/WhereOptimizer.java | 17 ++--
 .../coprocessor/SequenceRegionObserver.java        |  2 +-
 .../expression/BaseAddSubtractExpression.java      | 34 ++++++--
 .../apache/phoenix/expression/BaseExpression.java  | 11 +--
 .../apache/phoenix/expression/CaseExpression.java  |  7 +-
 .../phoenix/expression/CoerceExpression.java       | 29 +++----
 .../phoenix/expression/ColumnExpression.java       | 26 +-----
 .../phoenix/expression/ComparisonExpression.java   |  2 +-
 .../phoenix/expression/DecimalAddExpression.java   | 12 +--
 .../expression/DecimalSubtractExpression.java      | 12 +--
 .../phoenix/expression/DivideExpression.java       | 39 ++++++---
 .../phoenix/expression/LiteralExpression.java      | 17 +---
 .../phoenix/expression/MultiplyExpression.java     | 37 +++++---
 .../phoenix/expression/RowKeyColumnExpression.java | 17 ++--
 .../expression/RowValueConstructorExpression.java  |  5 +-
 .../expression/function/ArrayIndexFunction.java    |  7 +-
 .../expression/function/CoalesceFunction.java      | 12 +--
 .../expression/function/InvertFunction.java        | 10 +--
 .../phoenix/expression/function/LTrimFunction.java | 12 +--
 .../phoenix/expression/function/MD5Function.java   | 98 ++++++++++------------
 .../expression/function/PrefixFunction.java        |  5 +-
 .../phoenix/expression/function/RTrimFunction.java | 16 ++--
 .../expression/function/RegexpSubstrFunction.java  | 15 ++--
 .../expression/function/RoundDateExpression.java   | 17 ++--
 .../expression/function/SubstrFunction.java        | 23 ++---
 .../phoenix/expression/function/TrimFunction.java  | 11 ++-
 .../org/apache/phoenix/index/IndexMaintainer.java  | 34 ++------
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  4 -
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |  7 +-
 .../phoenix/jdbc/PhoenixResultSetMetaData.java     |  8 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  4 -
 .../java/org/apache/phoenix/parse/ColumnDef.java   | 42 ++++------
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 45 +++++++---
 .../query/ConnectionlessQueryServicesImpl.java     |  2 +-
 .../query/DelegateConnectionQueryServices.java     |  4 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  2 +-
 .../org/apache/phoenix/schema/DelegateDatum.java   |  7 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  4 +-
 .../org/apache/phoenix/schema/PBaseColumn.java     |  5 --
 .../org/apache/phoenix/schema/PColumnImpl.java     |  7 --
 .../java/org/apache/phoenix/schema/PDataType.java  | 31 ++++---
 .../java/org/apache/phoenix/schema/PDatum.java     |  5 --
 .../java/org/apache/phoenix/schema/PTableImpl.java | 25 +++---
 .../apache/phoenix/schema/RowKeyValueAccessor.java |  4 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |  8 +-
 .../org/apache/phoenix/schema/ValueSchema.java     |  4 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 20 +++--
 .../arithmetic/ArithmeticOperationTest.java        | 41 +++++++--
 .../org/apache/phoenix/compile/ScanRangesTest.java | 20 ++---
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java | 29 +++++--
 ...kipRangeParallelIteratorRegionSplitterTest.java |  4 -
 .../apache/phoenix/end2end/UpsertValuesTest.java   | 55 ++++++++++++
 .../filter/SkipScanFilterIntersectTest.java        | 20 ++---
 .../apache/phoenix/filter/SkipScanFilterTest.java  | 21 ++---
 .../org/apache/phoenix/schema/ValueBitSetTest.java |  8 +-
 .../java/org/apache/phoenix/util/ScanUtilTest.java | 24 ++----
 62 files changed, 509 insertions(+), 547 deletions(-)

commit 15db7de466dab08e65b3e19301bd324f7318c935
Merge: df3fc63a2 b44ad86aa
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Mar 6 13:50:59 2014 -0800

    merge master changes into 4.0 branch

commit b44ad86aa88cd620fc19d9746eea6d0272b1345c
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Mar 6 15:36:57 2014 -0500

    Add test case (ignored) for PHOENIX-63 Can't add null value to a secondary indexed table

 .../phoenix/end2end/index/MutableIndexTest.java    | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 3931fc90a6a3659ee7b4961b1c7ec3988a3dfee6
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Mar 6 09:24:50 2014 -0800

    Pass hbase version through ParallelWriterIndexCommitter for testing

 .../index/write/ParallelWriterIndexCommitter.java   |  8 ++++++++
 .../phoenix/hbase/index/write/TestIndexWriter.java  | 21 +++++++++------------
 .../hbase/index/write/TestParalleIndexWriter.java   | 15 +++++++--------
 .../write/TestParalleWriterIndexCommitter.java      | 15 +++++++--------
 4 files changed, 31 insertions(+), 28 deletions(-)

commit f95a97f1a75fa9f2e57ef550769f5fb4ff22db45
Merge: 4ca3cae05 2d3989f66
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 20:44:32 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 4ca3cae057f5d50ced0c93dde87caf8c3775c3f2
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 20:44:18 2014 -0800

    PHOENIX-113 Enable usage of ClientKeyValue on for indexing on server (JamesTaylor)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 +-
 .../phoenix/coprocessor/MetaDataProtocol.java      |  4 +-
 .../UngroupedAggregateRegionObserver.java          |  4 +-
 .../org/apache/phoenix/hbase/index/Indexer.java    | 11 ++--
 .../index/util}/ClientKeyValue.java                |  2 +-
 .../index/util}/ClientKeyValueBuilder.java         | 56 ++++++++++++++--
 .../index/util}/GenericKeyValueBuilder.java        | 10 ++-
 .../index/util}/KeyValueBuilder.java               | 11 ++--
 .../phoenix/hbase/index/util/VersionUtil.java      | 76 ++++++++++++++++++++++
 .../index/write/ParallelWriterIndexCommitter.java  |  9 ++-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  2 +-
 .../phoenix/index/IndexMetaDataCacheFactory.java   |  3 +-
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  5 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  8 +--
 .../phoenix/query/ConnectionQueryServices.java     |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  9 ++-
 .../query/DelegateConnectionQueryServices.java     |  2 +-
 .../java/org/apache/phoenix/schema/PTable.java     |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  6 +-
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |  2 +-
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  2 +-
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  2 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 63 ++----------------
 .../apache/phoenix/client/TestClientKeyValue.java  |  1 +
 .../phoenix/client/TestClientKeyValueLocal.java    |  1 +
 .../phoenix/end2end/index/IndexTestUtil.java       |  3 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |  6 +-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 31 ++++-----
 31 files changed, 215 insertions(+), 126 deletions(-)

commit 2d3989f66853ef722f5dbc3f076f97f06922fa94
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Thu Mar 6 09:59:14 2014 +0530

    PHOENIX-114

 .../apache/phoenix/iterate/ParallelIterators.java  | 52 ++++++++--------------
 .../java/org/apache/phoenix/parse/HintNode.java    | 13 +++++-
 2 files changed, 31 insertions(+), 34 deletions(-)

commit c22ea0996dd59f0ad794836ab4e7cca71f8c5ccd
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 18:41:07 2014 -0800

    Make default estimation for number of distinct group by values configurable

 .../coprocessor/GroupedAggregateRegionObserver.java   | 19 ++++++++++---------
 .../java/org/apache/phoenix/query/QueryServices.java  |  1 +
 .../apache/phoenix/query/QueryServicesOptions.java    |  1 +
 3 files changed, 12 insertions(+), 9 deletions(-)

commit 9298be876f392353cf1ad6c2e192fb5132055fe4
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 17:33:42 2014 -0800

    Fix coprocessor path for old indexer coprocessor

 .../java/org/apache/phoenix/query/ConnectionQueryServicesImpl.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit df3fc63a28a65ad63fbf956a835b1355190c8c5d
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Wed Mar 5 17:11:53 2014 -0800

    PHOENIX-88: Provide implementation of filterKeyValue(Cell) for Filters that extend FilterBase(part 2)

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java  | 7 ++++++-
 .../java/org/apache/phoenix/filter/ColumnProjectionFilter.java     | 6 ++++++
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 87608e14998fa7bf0af71346ee513a6fb6c25029
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 17:08:54 2014 -0800

    PHOENIX-113 Enable usage of ClientKeyValue on client-side (JamesTaylor)

 .../phoenix/client/ClientKeyValueBuilder.java      | 318 +++++++++++++++++++--
 .../phoenix/client/GenericKeyValueBuilder.java     |  93 +++---
 .../org/apache/phoenix/client/KeyValueBuilder.java |   8 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   2 +-
 .../UngroupedAggregateRegionObserver.java          |  18 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  | 111 ++++---
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  19 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   6 +-
 .../query/ConnectionlessQueryServicesImpl.java     |  12 +-
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   3 +-
 .../apache/phoenix/schema/tuple/ResultTuple.java   |   7 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  15 +-
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  92 +++---
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  20 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   5 +-
 .../java/org/apache/phoenix/util/ResultUtil.java   | 175 ------------
 .../apache/phoenix/client/TestClientKeyValue.java  |   7 +-
 .../phoenix/client/TestClientKeyValueLocal.java    |   9 +-
 .../end2end/TenantSpecificViewIndexSaltedTest.java |   5 +-
 .../end2end/TenantSpecificViewIndexTest.java       |   5 +-
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   6 +-
 21 files changed, 543 insertions(+), 393 deletions(-)

commit 511a5cddbe5a509f2188e205a71a68a29e8ac71e
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Mar 5 16:42:17 2014 -0800

    Add missing @Override tag

 .../java/org/apache/phoenix/util/ColumnInfo.java   | 57 ++++++++++------------
 1 file changed, 25 insertions(+), 32 deletions(-)

commit cbe66317b2fcb50dffff99f9f5db2d9abf875239
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Wed Mar 5 15:10:29 2014 -0800

    remove end2endTest.sh

 bin/end2endTest.sh | 46 ----------------------------------------------
 1 file changed, 46 deletions(-)

commit 90c7e8b3e3feed4ee45d7d94a70ed22b2ca39497
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Wed Mar 5 14:47:21 2014 -0800

    allow client script to use cosutom class path

 bin/performance.py | 14 ++++++++++----
 bin/psql.py        |  9 +++++++--
 bin/sqlline.py     |  9 +++++++--
 3 files changed, 24 insertions(+), 8 deletions(-)

commit 590b91250797ec3d42e96a4e1789c40d5495dbff
Merge: 3ba6537ec 916f6a9a5
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Mar 5 17:05:10 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 3ba6537ecc9a94a839f521be4ab26ef0357616c2
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Mar 5 17:03:35 2014 -0500

    Add @Ignore("PHOENIX-62")

 .../test/java/org/apache/phoenix/end2end/index/MutableIndexTest.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 916f6a9a55018f3a5a926849a097c9f1d30817bc
Author: Eli Levine <elilevine@apache.org>
Date:   Wed Mar 5 13:55:27 2014 -0800

    Add tests with @Ignore for PHOENIX-110

 .../org/apache/phoenix/end2end/BaseTenantSpecificViewIndexTest.java | 2 ++
 .../apache/phoenix/end2end/TenantSpecificViewIndexSaltedTest.java   | 5 +++--
 .../org/apache/phoenix/end2end/TenantSpecificViewIndexTest.java     | 6 ++++--
 3 files changed, 9 insertions(+), 4 deletions(-)

commit 3747e8afe3b7fdd456a855f1905c9084ca9228de
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Mar 5 16:43:15 2014 -0500

    Add test case (ignored) for PHOENIX-62 Precision loss for decimal type when creation of Immutable Index happens after the record insertion

 .../java/org/apache/phoenix/end2end/index/BaseMutableIndexTest.java     | 2 +-
 .../test/java/org/apache/phoenix/end2end/index/MutableIndexTest.java    | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 456cfa35296aa29fc93774fa7b012c17f59d4254
Merge: 662cabfe8 3df8a8275
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Wed Mar 5 11:10:36 2014 -0800

    Merge changes from master into 4.0

commit 662cabfe8a25b81d7542167b06c1893ac9052241
Merge: b3a330cad 6228d0b4a
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 4 18:30:59 2014 -0800

    merge tip of master to 4.0

commit 3df8a827510e51c04b54306ff344c3e4fb5c29e7
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Mar 5 00:49:27 2014 -0500

    Add test case MutableIndexTest.testIndexWithDecimalCol()

 .../end2end/index/BaseMutableIndexTest.java        | 18 +++++-----
 .../phoenix/end2end/index/MutableIndexTest.java    | 38 ++++++++++++++++++++++
 2 files changed, 47 insertions(+), 9 deletions(-)

commit b36daea7f6408cf249a25663803f9ed1b8db608c
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Mar 4 21:50:36 2014 -0500

    Add test case for PHOENIX-3 TRUNC method doesn't work on column of datatype timestamp

 .../phoenix/end2end/TruncateFunctionTest.java      | 121 +++++++++++++++++++++
 1 file changed, 121 insertions(+)

commit 953795c7457ae2132bc8799fd7daaf41dc3de574
Author: Eli Levine <elilevine@apache.org>
Date:   Tue Mar 4 17:34:46 2014 -0800

    PHOENIX-108 More testing around multi-tenancy

 .../end2end/BaseTenantSpecificViewIndexTest.java   | 119 ++++++++++++++++-----
 .../end2end/TenantSpecificTablesDDLTest.java       |  26 ++++-
 .../end2end/TenantSpecificViewIndexSaltedTest.java |   6 +-
 .../end2end/TenantSpecificViewIndexTest.java       |   4 +
 .../java/org/apache/phoenix/end2end/ViewTest.java  |  35 ++++++
 5 files changed, 160 insertions(+), 30 deletions(-)

commit b3a330cad6102434d8336d4eab935e2e56bbe7eb
Merge: 4f1c434eb f22460c56
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 4 16:49:50 2014 -0800

    merge master to 4.0 branch

commit 6228d0b4a738e8a90ebc5f799872f0b5d97c605f
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Mar 4 16:47:32 2014 -0800

    PHOENIX-107 Updated performance script and example to use upper case table names

 bin/performance.py                                      | 2 +-
 bin/readme.txt                                          | 8 ++++----
 examples/{stock_symbol.csv => STOCK_SYMBOL.csv}         | 0
 examples/{stock_symbol.sql => STOCK_SYMBOL.sql}         | 0
 examples/{web_stat.csv => WEB_STAT.csv}                 | 0
 examples/{web_stat.sql => WEB_STAT.sql}                 | 0
 examples/{web_stat_queries.sql => WEB_STAT_QUERIES.sql} | 0
 7 files changed, 5 insertions(+), 5 deletions(-)

commit f5bab5e5297c5e50cfc8aaad8427cf694d0aa231
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 16:24:37 2014 -0800

    PHOENIX-53 Add ColumnInfo.toString() method (JamesViolette)

 phoenix-core/src/main/java/org/apache/phoenix/util/ColumnInfo.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit b355c2a08f92763f1d7272f2a2300e024e70d756
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 15:36:41 2014 -0800

    PHOENIX-106 NPE when adding dynamic columns to a salted table (JamesTaylor)

 .../org/apache/phoenix/compile/FromCompiler.java   |  7 +++-
 .../end2end/UpsertSelectAutoCommitTest.java        | 49 ++++++++++++++++++++++
 2 files changed, 54 insertions(+), 2 deletions(-)

commit 7b7ad1c1b8432c067754e94ff73d8ed2124999b8
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 15:16:31 2014 -0800

    PHOENIX-99 Automatic white list based upgrade from 2.2 to 3.0 (JamesTaylor)

 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java    | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 2581c20fba120466e4d1337e6ba086a435a07f2a
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 15:14:19 2014 -0800

    PHOENIX-76 Fix perf regression due to PHOENIX-29 (JamesTaylor)

 .../apache/phoenix/iterate/ParallelIterators.java  | 27 ++++++++--------------
 1 file changed, 9 insertions(+), 18 deletions(-)

commit 0237b9e73f7ab01d95c6933eee3e19ac28414a15
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 14:22:11 2014 -0800

    Fix broken unit tests

 .../apache/phoenix/compile/OrderByCompiler.java    |  11 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |   1 +
 .../query/ConnectionlessQueryServicesImpl.java     |   4 +
 .../org/apache/phoenix/query/StatsManager.java     |   2 +
 .../org/apache/phoenix/query/StatsManagerImpl.java |   6 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  44 +++--
 .../BaseParallelIteratorsRegionSplitterTest.java   |  92 +++++++++
 ...DefaultParallelIteratorsRegionSplitterTest.java | 217 +--------------------
 .../apache/phoenix/end2end/StatsManagerTest.java   | 195 ++++++++++++++++++
 9 files changed, 327 insertions(+), 245 deletions(-)

commit 4f1c434eb40555daffedfc5d029b3ed0a8bdae41
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 4 13:04:23 2014 -0800

    bump up build version from 3.0.0 to 4.0.0

 phoenix-assembly/pom.xml       | 2 +-
 phoenix-core/pom.xml           | 2 +-
 phoenix-flume/pom.xml          | 2 +-
 phoenix-hadoop-compat/pom.xml  | 2 +-
 phoenix-hadoop1-compat/pom.xml | 2 +-
 phoenix-hadoop2-compat/pom.xml | 2 +-
 phoenix-pig/pom.xml            | 2 +-
 pom.xml                        | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 6462137444a68dfb5110a4b53ca2cee94e1cf9c7
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 11:47:46 2014 -0800

    Fix broken view unit test

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java      | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 025782d1965d98a9efd815e2e0f995706aca2ed6
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 11:31:09 2014 -0800

    PHOENIX-53 Add @Override tags to prevent compiler warnings (JamesTaylor)

 phoenix-core/src/main/java/org/apache/commons/csv/CSVParser.java  | 5 +++++
 phoenix-core/src/main/java/org/apache/commons/csv/CSVPrinter.java | 2 ++
 phoenix-core/src/main/java/org/apache/commons/csv/CSVRecord.java  | 1 +
 3 files changed, 8 insertions(+)

commit 56b3abdf4c6a1c55c3864103ed7004a4ea73aefb
Merge: 738619db4 21dad1012
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 11:24:08 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 738619db474c79fd37a6648914b2257602fbd528
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 11:23:54 2014 -0800

    PHOENIX-53 Replace CSV loader with Apache Commons CSV loader (JamesViolette)

 phoenix-core/lib/commons-csv-1.0-SNAPSHOT.jar      | Bin 32446 -> 0 bytes
 phoenix-core/pom.xml                               |   7 -
 .../java/org/apache/commons/csv/Assertions.java    |  36 +
 .../java/org/apache/commons/csv/CSVFormat.java     | 884 +++++++++++++++++++++
 .../java/org/apache/commons/csv/CSVParser.java     | 465 +++++++++++
 .../java/org/apache/commons/csv/CSVPrinter.java    | 427 ++++++++++
 .../java/org/apache/commons/csv/CSVRecord.java     | 224 ++++++
 .../java/org/apache/commons/csv/Constants.java     |  68 ++
 .../apache/commons/csv/ExtendedBufferedReader.java | 178 +++++
 .../main/java/org/apache/commons/csv/Lexer.java    | 431 ++++++++++
 .../main/java/org/apache/commons/csv/Quote.java    |  48 ++
 .../main/java/org/apache/commons/csv/Token.java    |  75 ++
 .../java/org/apache/commons/csv/package-info.java  |  82 ++
 .../org/apache/phoenix/util/CSVCommonsLoader.java  |   5 -
 .../phoenix/end2end/CSVCommonsLoaderTest.java      |   1 -
 15 files changed, 2918 insertions(+), 13 deletions(-)

commit 21dad1012525396350ad9f5b791e3cb02eedf0d1
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Mar 4 14:05:21 2014 -0500

    Add test case for PHOENIX-61 Indexing on columns of Date/Timestamp type would lead to ArgumentTypeMismatchException in optimize()

 .../org/apache/phoenix/end2end/index/MutableIndexTest.java | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit a4b4fbebe896e9aebd03c965dd562548f76f07c5
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Mar 4 11:03:22 2014 -0800

    PHOENIX-104: Remove source files from current phoenix-<version>.tar.gz to phoenix-<version>-source.tar.gz tar ball.

 phoenix-assembly/pom.xml           |  16 ++++++
 phoenix-assembly/src/build/all.xml |  38 +-------------
 phoenix-assembly/src/build/src.xml | 102 +++++++++++++++++++++++++++++++++++++
 3 files changed, 119 insertions(+), 37 deletions(-)

commit 9f1ce1e684eb600cabec00f986c6ee1eded6b800
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Tue Mar 4 15:59:01 2014 +0530

    Phoneix-82

 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +-
 .../phoenix/expression/ComparisonExpression.java   |  11 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  13 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  |   2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  27 ----
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 175 +++++++++++++++++++++
 6 files changed, 180 insertions(+), 50 deletions(-)

commit 3ed0f61428b9aa3cc077a33e3cb4b0891ef37d71
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 01:43:29 2014 -0800

    PHOENIX-53 Replace CSV loader with Apache Commons CSV loader (JamesViolette)

 phoenix-core/lib/commons-csv-1.0-SNAPSHOT.jar      | Bin 0 -> 32446 bytes
 phoenix-core/pom.xml                               |  11 +-
 .../apache/phoenix/map/reduce/MapReduceJob.java    |  20 +-
 .../org/apache/phoenix/util/CSVCommonsLoader.java  | 424 ++++++++++++++++
 .../java/org/apache/phoenix/util/CSVLoader.java    | 248 ---------
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   7 +-
 .../phoenix/end2end/CSVCommonsLoaderTest.java      | 561 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/CSVLoaderTest.java  | 341 -------------
 8 files changed, 1006 insertions(+), 606 deletions(-)

commit 99613c2e237e6abc6a8549fdda5b2e7f5d4772ed
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Mar 4 01:25:06 2014 -0800

    PHOENIX-99 Automatic white list based upgrade from 2.2 to 3.0 (James Taylor)

 .../apache/phoenix/compile/ProjectionCompiler.java |  63 +--
 .../org/apache/phoenix/execute/MutationState.java  |   2 +-
 .../apache/phoenix/iterate/ParallelIterators.java  |  40 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |   4 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 422 ++++++++++++---------
 .../org/apache/phoenix/query/QueryConstants.java   |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  45 ++-
 .../java/org/apache/phoenix/schema/PDataType.java  |  21 +-
 ...DefaultParallelIteratorsRegionSplitterTest.java |   5 +-
 9 files changed, 368 insertions(+), 236 deletions(-)

commit f22460c56fd958bd2b1a1dce6af0f98677ca667c
Merge: d8ca6ba22 77c2a040d
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 14:00:25 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit d8ca6ba22f8096e103326db83bc64b4e900a01c6
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 14:00:11 2014 -0800

    Fix failing unit test

 .../phoenix/end2end/DefaultParallelIteratorsRegionSplitterTest.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 77c2a040d3ade1d0162c575d8c7b7b21aa220ccf
Merge: 08cd6587b 1190a54b2
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Mar 3 16:04:06 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 08cd6587b1af4ad0b32cd5c39d08687f58fafaa1
Author: maryannxue <maryannxue@apache.org>
Date:   Mon Mar 3 16:03:57 2014 -0500

    PHOENIX-89 Statements are not closed using PhoenixConnection.executeStatements()

 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 108 +++++++++++----------
 1 file changed, 57 insertions(+), 51 deletions(-)

commit 6ddcbbe27a48fb673f3d6e647cd03f86d862cf5b
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 3 12:24:05 2014 -0800

    PHOENIX-88: Provide implementation of filterKeyValue(Cell) for Filters that extend FilterBase(Ted Yu)

 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 4 ++++
 1 file changed, 4 insertions(+)

commit 13d112a9635b4d9373356991716e4f7dec0d0dcb
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Mar 3 12:18:36 2014 -0800

    fix unit test failures due to recent hbase 98/trunk code changes

 .../org/apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java | 6 ++----
 .../java/org/apache/phoenix/end2end/QueryDatabaseMetaDataTest.java  | 3 +++
 2 files changed, 5 insertions(+), 4 deletions(-)

commit 1190a54b252763b9373defa556f82b832cc87508
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 10:38:00 2014 -0800

    PHOENIX-102 IndexMaintainer constructor doesn't set isMultiTenant correctly (JamesTaylor)

 .../org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java     | 8 ++++----
 .../src/main/java/org/apache/phoenix/index/IndexMaintainer.java  | 4 +---
 .../src/main/java/org/apache/phoenix/schema/PNameFactory.java    | 9 +++++++++
 .../src/main/java/org/apache/phoenix/schema/PTableImpl.java      | 7 ++++---
 4 files changed, 18 insertions(+), 10 deletions(-)

commit 53e3fecddf2a165a0ac6f092086f8bde42c93ab6
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 10:34:10 2014 -0800

    PHOENIX-99 Automatic white list based upgrade from 2.2 to 3.0 (JamesTaylor)

 .../apache/phoenix/query/ConnectionQueryServicesImpl.java  | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit dfca2f53a2abae6644e5c130f9883ba3f2820b08
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 01:31:27 2014 -0800

    PHOENIX-99 Automatic white list based upgrade from 2.2 to 3.0 (JamesTaylor)

 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |   9 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 414 +++++++++++++++++++--
 .../org/apache/phoenix/query/QueryConstants.java   |  39 +-
 .../org/apache/phoenix/query/QueryServices.java    |   1 +
 .../java/org/apache/phoenix/util/QueryUtil.java    |   2 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   7 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   2 +-
 9 files changed, 421 insertions(+), 57 deletions(-)

commit 4e044a77ef4fa54c365a2a4f20d7ec272a7b6a98
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 01:27:23 2014 -0800

    PHOENIX-100 Relax compatibility check to only check that the major version matches between the client and server jars (JamesTaylor)

 .../java/org/apache/phoenix/util/MetaDataUtil.java | 29 ++++++++++++++++------
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 14 ++++++-----
 2 files changed, 30 insertions(+), 13 deletions(-)

commit c0757e32b86a0d4e744bab9a96d142fdefa51241
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Mar 3 01:05:17 2014 -0800

    PHOENIX-98 Fix flume unit tests based on metadata api changes (JamesTaylor)

 .../phoenix/schema/MetaDataSplitPolicy.java        | 30 ++++++++++++++++++++++
 .../flume/serializer/BaseEventSerializer.java      |  3 ++-
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 70a6ea3d89236a8cc4b0dbccc07d1e08336b0b63
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 2 16:01:55 2014 -0800

    PHOENIX-97 Sort columns by COLUMN_NAME for metaData.getPrimaryKey() as dictated by spec (JamesTaylor)

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 91 ++--------------------
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 66 +++++++++++-----
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 16 +++-
 .../org/apache/phoenix/end2end/AlterTableTest.java | 23 +++++-
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java | 18 ++---
 .../end2end/TenantSpecificTablesDDLTest.java       | 10 +--
 7 files changed, 104 insertions(+), 122 deletions(-)

commit 6142ff422a01c0f8c8c49e9d69bb930b8ef0634e
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Mar 2 12:02:22 2014 -0800

    PHOENIX-95 Use catalog argument for tenant in JDBC metadata APIs (JamesTaylor)

 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   2 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 331 +++++++++++----------
 .../apache/phoenix/parse/CreateTableStatement.java |   2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  14 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  38 +--
 .../org/apache/phoenix/schema/MetaDataClient.java  |  92 +++---
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  10 +-
 .../java/org/apache/phoenix/end2end/ArrayTest.java |   7 +-
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  65 ++--
 .../end2end/BaseTenantSpecificTablesTest.java      |   6 -
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  69 +++--
 .../end2end/TenantSpecificTablesDDLTest.java       |  47 +--
 .../phoenix/end2end/index/IndexTestUtil.java       |  16 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |   2 +-
 14 files changed, 361 insertions(+), 340 deletions(-)

commit 8a21896f18750590e6d760ae11c70556aa05d283
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 1 17:06:30 2014 -0800

    PHOENIX-93 Add shutdown hook to free any straggling resources (JamesTaylor)

 .../java/org/apache/phoenix/cache/GlobalCache.java |  4 ++
 .../org/apache/phoenix/compile/FromCompiler.java   | 70 ++++++++++------------
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 +-
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 34 +++++++++--
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  6 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 11 +++-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 11 ++--
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  2 +
 .../phoenix/end2end/BaseConnectedQueryTest.java    | 24 +++++---
 .../end2end/ConnectionQueryServicesTestImpl.java   |  7 ++-
 .../phoenix/query/QueryServicesTestImpl.java       |  2 +-
 .../java/org/apache/phoenix/util/TestUtil.java     | 10 +++-
 12 files changed, 117 insertions(+), 68 deletions(-)

commit 1511773b9c3c15321543aaed2d3d461bdb8c949e
Merge: c00f6f250 3f44a215f
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 1 14:13:43 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit c00f6f2506cd61df4f728827520ed879f9cfd5eb
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Mar 1 14:13:20 2014 -0800

    PHOENIX-91 Use LRU size-based cache on ConnectionQueryServicesImpl (JamesTaylor)

 .../phoenix/compile/CreateIndexCompiler.java       |   2 +-
 .../phoenix/compile/CreateTableCompiler.java       |   2 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   | 160 +++++++++----------
 .../apache/phoenix/compile/ProjectionCompiler.java |   4 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   4 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |   4 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |   2 +-
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  10 --
 .../org/apache/phoenix/execute/MutationState.java  |   2 +-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |   2 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  47 ++++--
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   1 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   2 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    |   4 +-
 .../apache/phoenix/parse/AlterIndexStatement.java  |   2 +-
 .../apache/phoenix/parse/AlterTableStatement.java  |   2 +-
 .../apache/phoenix/parse/CreateIndexStatement.java |   2 +-
 .../org/apache/phoenix/parse/DeleteStatement.java  |   2 +-
 ...SQLStatement.java => SingleTableStatement.java} |   4 +-
 .../org/apache/phoenix/parse/UpsertStatement.java  |   2 +-
 .../phoenix/query/ConnectionQueryServices.java     |   2 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  27 ++--
 .../query/ConnectionlessQueryServicesImpl.java     |  10 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   5 +-
 .../org/apache/phoenix/query/QueryServices.java    |   3 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  19 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  12 +-
 .../java/org/apache/phoenix/schema/PMetaData.java  |  15 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 174 +++++++++++++--------
 .../java/org/apache/phoenix/schema/PTableKey.java  |   5 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |   2 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   2 +-
 .../java/org/apache/phoenix/util/SizedUtil.java    |   4 +-
 .../phoenix/compile/JoinQueryCompilerTest.java     |   2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |   4 +-
 .../apache/phoenix/compile/ViewCompilerTest.java   |   5 +-
 .../org/apache/phoenix/end2end/AlterTableTest.java |   2 +-
 ...DefaultParallelIteratorsRegionSplitterTest.java |   2 +-
 ...kipRangeParallelIteratorRegionSplitterTest.java |   2 +-
 .../phoenix/end2end/index/ImmutableIndexTest.java  |   2 +-
 .../phoenix/end2end/index/IndexMetadataTest.java   |   4 +-
 .../phoenix/end2end/index/SaltedIndexTest.java     |   2 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  |   4 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java |   7 +-
 .../phoenix/query/QueryServicesTestImpl.java       |   7 +-
 .../apache/phoenix/schema/PMetaDataImplTest.java   | 115 ++++++++++++++
 .../apache/phoenix/schema/RowKeySchemaTest.java    |   2 +-
 .../phoenix/schema/RowKeyValueAccessorTest.java    |   2 +-
 49 files changed, 452 insertions(+), 252 deletions(-)

commit 3f44a215f9f56476c76868de770a28db0d65f0b0
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Sat Mar 1 16:29:14 2014 +0530

    PHOENIX-76

 .../java/org/apache/phoenix/iterate/ParallelIterators.java   | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit c2010d1749201d8220c0830b4d56e4e1fb1d4fe6
Merge: 2ca85ab68 c692e71ef
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Sat Mar 1 13:23:15 2014 +0530

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit c692e71efdf8cfb28ebf6264df119a1c46dafd80
Merge: 44744bfb8 6cfd897c0
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 28 21:06:55 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 44744bfb8d28122c3d33abde49f8d87082246213
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 28 21:06:37 2014 -0500

    PHOENIX-89 Statements are not closed using PhoenixConnection.executeStatements()

 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java       | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 48bc5bac43f1b96f8cec9c60377ad01b14ee9f7a
Merge: 8381af1d6 6cfd897c0
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 28 17:53:09 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 8381af1d683ec023758ee427f7e112004dadfb59
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 28 17:52:44 2014 -0800

    PHOENIX-91 Use LRU size-based cache on ConnectionQueryServicesImpl part 1 of 2 (JamesTaylor)

 .../phoenix/client/GenericKeyValueBuilder.java     |  5 +-
 .../org/apache/phoenix/client/KeyValueBuilder.java |  2 -
 .../org/apache/phoenix/compile/FromCompiler.java   | 15 ++++-
 .../apache/phoenix/compile/ProjectionCompiler.java | 62 ++++++++++++++++---
 .../org/apache/phoenix/execute/MutationState.java  | 17 ++---
 .../org/apache/phoenix/jdbc/PhoenixConnection.java | 20 +++---
 .../phoenix/query/ConnectionQueryServices.java     |  3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 44 ++++++-------
 .../query/ConnectionlessQueryServicesImpl.java     | 28 +++++----
 .../query/DelegateConnectionQueryServices.java     | 19 +++---
 .../org/apache/phoenix/query/MetaDataMutated.java  |  7 ++-
 .../org/apache/phoenix/query/QueryConstants.java   |  6 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 38 ++++++------
 .../java/org/apache/phoenix/schema/PMetaData.java  |  4 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   | 57 ++++++++---------
 .../org/apache/phoenix/schema/PNameFactory.java    |  5 ++
 .../java/org/apache/phoenix/schema/PNameImpl.java  |  7 ++-
 .../java/org/apache/phoenix/schema/PTable.java     |  1 +
 .../java/org/apache/phoenix/schema/PTableImpl.java | 10 ++-
 .../{PNormalizedName.java => PTableKey.java}       | 39 +++++++-----
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  3 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  | 11 +++-
 .../org/apache/phoenix/end2end/AlterTableTest.java | 33 ++++++----
 .../phoenix/end2end/ArithmeticQueryTest.java       | 72 +++++++++++-----------
 ...DefaultParallelIteratorsRegionSplitterTest.java | 13 ++--
 ...kipRangeParallelIteratorRegionSplitterTest.java | 26 ++++----
 .../phoenix/end2end/index/ImmutableIndexTest.java  | 21 +++----
 .../phoenix/end2end/index/IndexMetadataTest.java   | 10 +--
 .../phoenix/end2end/index/SaltedIndexTest.java     |  4 +-
 .../apache/phoenix/index/IndexMaintainerTest.java  | 15 +++--
 .../phoenix/query/BaseConnectionlessQueryTest.java |  3 +-
 .../apache/phoenix/schema/RowKeySchemaTest.java    | 11 ++--
 .../phoenix/schema/RowKeyValueAccessorTest.java    |  8 +--
 33 files changed, 367 insertions(+), 252 deletions(-)

commit 6cfd897c00de37df3dc409cb54bea2d2794bc506
Merge: 27e00aec1 26dffde14
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 28 17:45:59 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 27e00aec132e45155f648c235f2ea221c7589d99
Author: James Taylor <jtaylor@salesforce.com>
Date:   Fri Feb 28 17:41:58 2014 -0800

    PHOENIX-37 Prevent deserialize and re-serialize all array elements in construction of array (ramkrishna)

 .../expression/ArrayConstructorExpression.java     | 120 ++--
 .../expression/function/ArrayIndexFunction.java    |  14 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  | 671 ++++++++++++++-------
 .../java/org/apache/phoenix/schema/PDataType.java  |  56 +-
 .../org/apache/phoenix/schema/PhoenixArray.java    |  16 +
 .../org/apache/phoenix/schema/ValueSchema.java     |   4 +-
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 176 +++++-
 .../phoenix/schema/PDataTypeForArraysTest.java     | 613 ++++++++++++++++++-
 8 files changed, 1343 insertions(+), 327 deletions(-)

commit 26dffde14906de06bc2b0c3548a9d30ed5341479
Merge: d61d6b44f 69d46d760
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 28 20:43:40 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit d61d6b44f3f67e642b3097f475d0d1c344713428
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 28 20:40:49 2014 -0500

    PHOENIX-85 Refine error handling in HashJoinPlan execution and add warnings

 .../apache/phoenix/cache/ServerCacheClient.java    |  2 ++
 .../org/apache/phoenix/cache/TenantCacheImpl.java  | 14 +++++++---
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  8 +++---
 .../org/apache/phoenix/execute/HashJoinPlan.java   | 31 +++++++++++++++++++---
 .../apache/phoenix/memory/GlobalMemoryManager.java |  2 +-
 5 files changed, 47 insertions(+), 10 deletions(-)

commit 69d46d760f659d2162ccc21dde655519a8b4ffee
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Feb 28 17:14:00 2014 -0800

    Adding public key file

 KEYS | 73 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 73 insertions(+)

commit c3fa6bf53285dd1e56bfedbd0f7602bfc2006d32
Merge: aef427df4 2cd63e56a
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Fri Feb 28 23:28:28 2014 +0530

    Merge remote-tracking branch 'main/master'

commit 2ca85ab681f3080e52db632b1a78d45445fd9cea
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Fri Feb 28 12:14:54 2014 +0530

    PHOENIX-76

 .../apache/phoenix/iterate/ParallelIterators.java  | 36 ++++++++++++----------
 1 file changed, 20 insertions(+), 16 deletions(-)

commit 348b7517ade37b3e8b879899b3b3a3729efcb63a
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Fri Feb 28 12:05:00 2014 +0530

    PHOENIX-76

 .../phoenix/filter/ColumnProjectionFilter.java     | 24 +++++++++++++++++--
 .../apache/phoenix/iterate/ParallelIterators.java  | 27 ++++++++++++++++++----
 2 files changed, 45 insertions(+), 6 deletions(-)

commit 2cd63e56aaa14074c595467cecc66d11025c3877
Merge: 4a64635d2 d919a6c21
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Feb 27 22:11:06 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 4a64635d238879ab78244da96cfa2c664072936b
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Feb 27 21:59:08 2014 -0800

    PHOENIX-87 Use size-based cache for server-side metadata cache (JamesTaylor)

 .../java/org/apache/phoenix/cache/GlobalCache.java | 60 ++++++++++++++++-----
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 62 +++++++++-------------
 .../coprocessor/MetaDataRegionObserver.java        |  3 +-
 .../org/apache/phoenix/query/QueryServices.java    |  4 +-
 .../apache/phoenix/query/QueryServicesOptions.java |  9 ++--
 .../org/apache/phoenix/schema/DelegateColumn.java  |  7 +++
 .../org/apache/phoenix/schema/PBaseColumn.java     |  9 +++-
 .../java/org/apache/phoenix/schema/PColumn.java    |  2 +
 .../org/apache/phoenix/schema/PColumnFamily.java   |  2 +
 .../apache/phoenix/schema/PColumnFamilyImpl.java   | 17 +++++-
 .../org/apache/phoenix/schema/PColumnImpl.java     |  8 +++
 .../main/java/org/apache/phoenix/schema/PName.java | 12 +++++
 .../org/apache/phoenix/schema/PNameFactory.java    |  4 +-
 .../java/org/apache/phoenix/schema/PNameImpl.java  |  9 +++-
 .../java/org/apache/phoenix/schema/PTable.java     |  2 +
 .../java/org/apache/phoenix/schema/PTableImpl.java | 40 +++++++++++++-
 .../org/apache/phoenix/schema/ValueSchema.java     |  9 ++++
 .../java/org/apache/phoenix/util/SizedUtil.java    | 10 +++-
 18 files changed, 204 insertions(+), 65 deletions(-)

commit 463ef95c963fa4d9b1807d14a3b3bece01e5dc6d
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Feb 27 21:58:32 2014 -0800

    PHOENIX-86 Coalesce does not work in a where clause with null values (JamesTaylor)

 .../expression/function/CoalesceFunction.java      |  9 ++--
 .../filter/EvaluateOnCompletionVisitor.java        | 10 +++-
 .../java/org/apache/phoenix/end2end/QueryTest.java | 59 ++++++++++++++++++----
 3 files changed, 64 insertions(+), 14 deletions(-)

commit 0eab977a84ddc6491a33b21066b79d6c59e37753
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 27 18:19:28 2014 -0800

    update pom file for hadoop.profile=2.0

 phoenix-assembly/src/build/all.xml | 14 ++++++++
 phoenix-core/pom.xml               | 73 +++++++++++++++++++++++++++++++++++++-
 pom.xml                            | 11 ------
 3 files changed, 86 insertions(+), 12 deletions(-)

commit d919a6c21a7edf5d11b937cd640753b5b77265b2
Author: Jesse Yates <jyates@apache.org>
Date:   Thu Feb 27 17:33:48 2014 -0800

    PHOENIX-78: MetaDataUtil must respect ClientKeyValue usage

 .../org/apache/phoenix/client/ClientKeyValue.java  | 16 ++++++
 .../phoenix/client/ClientKeyValueBuilder.java      | 15 +++++-
 .../phoenix/client/GenericKeyValueBuilder.java     | 13 +++++
 .../org/apache/phoenix/client/KeyValueBuilder.java | 21 +++++++-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 17 +++---
 .../java/org/apache/phoenix/util/MetaDataUtil.java | 62 ++++++++++++++++------
 .../org/apache/phoenix/util/MetaDataUtilTest.java  | 56 ++++++++++++++++++-
 8 files changed, 175 insertions(+), 29 deletions(-)

commit 8bbce3c102cba4990e4df2621edb13ae3c993e00
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 26 22:23:10 2014 -0800

    Disable ClientKeyValue builder feature until it's tested

 .../src/main/java/org/apache/phoenix/client/KeyValueBuilder.java      | 4 ++--
 pom.xml                                                               | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit b6a6787f74d7f81f2b382e230826b7d439c52392
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 26 21:02:14 2014 -0800

    Modify unit test to repro former issue not surfaced due to caching

 .../src/test/java/org/apache/phoenix/end2end/ViewTest.java        | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 31c322c606aa1b80a50f4cd654f5f069b02428f1
Author: jamestaylor <jamestaylor@apache.org>
Date:   Wed Feb 26 18:52:16 2014 -0800

    PHOENIX-79 Change the way QueryServices is initialized to make initialization more performant (SamarthJain)

 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  8 ++++++--
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 24 ++++++++++++++--------
 .../phoenix/query/ConnectionQueryServicesImpl.java | 13 ++++++------
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  2 ++
 4 files changed, 30 insertions(+), 17 deletions(-)

commit 8cf7eab7c376bc2f9b48698510ac35fc752672c2
Author: jamestaylor <jamestaylor@apache.org>
Date:   Wed Feb 26 17:23:51 2014 -0800

    PHOENIX-81 Salted tenant-specific indexes are broken (JamesTaylor)

 .../phoenix/compile/CreateTableCompiler.java       |  4 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  | 14 ++--
 .../end2end/BaseTenantSpecificViewIndexTest.java   | 85 ++++++++++++++++++++++
 .../end2end/TenantSpecificViewIndexSaltedTest.java | 13 ++++
 .../end2end/TenantSpecificViewIndexTest.java       | 56 +-------------
 5 files changed, 110 insertions(+), 62 deletions(-)

commit 978a31ef669e1171cbb6f1dead72b4bcafee7047
Merge: 81027cfd4 c439d3a0c
Author: jamestaylor <jamestaylor@apache.org>
Date:   Wed Feb 26 16:08:58 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit c439d3a0c23cd15879a6f25c28dc154faaecba6a
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 26 01:32:56 2014 -0800

    PHOENIX-77 Indexes and salting on views is broken (JamesTaylor)

 .../org/apache/phoenix/compile/UpsertCompiler.java |  13 +-
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  11 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  68 ++++++-----
 .../java/org/apache/phoenix/schema/PDataType.java  |   9 ++
 .../org/apache/phoenix/end2end/BaseViewTest.java   | 133 +++++++++++++++++++++
 .../org/apache/phoenix/end2end/SaltedViewTest.java |  35 ++++++
 .../java/org/apache/phoenix/end2end/ViewTest.java  |  51 ++------
 7 files changed, 241 insertions(+), 79 deletions(-)

commit 1e2df030c597dd8aac4a9cff5acab8fd7be71a71
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 25 16:13:48 2014 -0800

    PHOENIX-67 Lazy initialize QueryServices in PhoenixDriver (JamesTaylor)

 .../phoenix/coprocessor/MetaDataProtocol.java      | 14 +++--------
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     | 21 +++++++++++++++--
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java | 27 ++++++++++++----------
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java | 20 ++++++++++++----
 .../java/org/apache/phoenix/query/BaseTest.java    | 12 +++++-----
 5 files changed, 59 insertions(+), 35 deletions(-)

commit ff9280e79d697757f92beb28d7bb4ecbd29c6947
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 25 10:35:44 2014 -0800

    PHOENIX-73 IN query with row value constructor doesn't work correctly for column with DESC sort order (JamesTaylor)

 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java    | 4 ----
 .../main/java/org/apache/phoenix/expression/InListExpression.java   | 6 +++++-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 76274e765eed56282b98700a73afba8c20b38124
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 25 10:10:13 2014 -0800

    PHOENIX-73 IN query with row value constructor doesn't work correctly for column with DESC sort order (JamesTaylor)

 .../org/apache/phoenix/compile/WhereOptimizer.java |  13 +-
 .../apache/phoenix/expression/BaseExpression.java  | 149 +++++++++++++++++++++
 .../phoenix/expression/CoerceExpression.java       |   7 +
 .../phoenix/expression/InListExpression.java       |  65 ++++-----
 .../expression/RowValueConstructorExpression.java  | 139 -------------------
 .../org/apache/phoenix/iterate/ExplainTable.java   |  18 ++-
 .../apache/phoenix/end2end/SkipScanQueryTest.java  |  40 ++++++
 7 files changed, 241 insertions(+), 190 deletions(-)

commit 81027cfd44a11a909cae77250eb9debb6b1c40c8
Merge: 3f123685c 5701fee05
Author: jamestaylor <jamestaylor@apache.org>
Date:   Mon Feb 24 13:38:07 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 5701fee05a789686eaabf5df1f58a86b4d2e488a
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 23:20:41 2014 -0800

    PHOENIX-72 SkipScanFilter intersect may be incorrect for ranges (JamesTaylor)

 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 68e0c73726a2f7a596d4421706eb8a342718524d
Merge: 69b0047e6 e781ebaf2
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 22:41:09 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 69b0047e6d8e9520d8910384e9050a3568e27934
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 22:40:55 2014 -0800

    PHOENIX-72 SkipScanFilter intersect may be incorrect for ranges (JamesTaylor)

 .../src/test/java/org/apache/phoenix/end2end/SkipScanQueryTest.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 04e23e7c477cee83e6a4c35f88a8a454abedd2fe
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 21:39:23 2014 -0800

    PHOENIX-72 SkipScanFilter intersect may be incorrect for ranges (JamesTaylor)

 .../org/apache/phoenix/filter/SkipScanFilter.java  | 11 +++++++-
 .../apache/phoenix/end2end/SkipScanQueryTest.java  | 30 ++++++++++++++++++++--
 2 files changed, 38 insertions(+), 3 deletions(-)

commit e781ebaf2caa0ddc580554ac2c01572d62560ac7
Merge: 43381fcdd d3ed79541
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 11:10:15 2014 +0530

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 43381fcdd44eb111b6b2feb36dc2d73efe6ead2c
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:16:56 2014 +0530

    PHOENIX-29

 .../end2end/ColumnProjectionOptimizationTest.java  | 253 +++++++++++++++++++++
 1 file changed, 253 insertions(+)

commit b75206db6eac2cc9809feefcc6b4709569101b3b
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:15:43 2014 +0530

    PHOENIX-29

 .../apache/phoenix/iterate/ParallelIterators.java  | 84 +++++++++++++++-------
 1 file changed, 58 insertions(+), 26 deletions(-)

commit 6ba276be0169e08f0894940651a4f990c7df4c58
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:13:12 2014 +0530

    PHOENIX-29

 .../org/apache/phoenix/iterate/ExplainTable.java   | 33 +++++++++-------------
 1 file changed, 13 insertions(+), 20 deletions(-)

commit 51f8a00dbdb011b5279f82d1a3f18399008eab3c
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:12:53 2014 +0530

    PHOENIX-29

 .../phoenix/filter/ColumnProjectionFilter.java     | 126 +++++++++++++++++++++
 1 file changed, 126 insertions(+)

commit 9f936749b89d06dcc966f94c73dd4da0aa2bef96
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:12:32 2014 +0530

    PHOENIX-29

 .../org/apache/phoenix/compile/WhereCompiler.java  | 39 ++++++++++------------
 1 file changed, 17 insertions(+), 22 deletions(-)

commit e6de665dcd725ed425656ec7d07027dff9df3e6b
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:11:50 2014 +0530

    PHOENIX-29

 .../apache/phoenix/compile/StatementContext.java   | 25 ++++++++++++++--------
 1 file changed, 16 insertions(+), 9 deletions(-)

commit 59618250ba0515a547a52d6279f62e1897a4f563
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Mon Feb 24 01:11:25 2014 +0530

    PHOENIX-29

 .../apache/phoenix/compile/ProjectionCompiler.java | 79 +++-------------------
 1 file changed, 11 insertions(+), 68 deletions(-)

commit d3ed79541a97d1b8a4006d9cb5f7a8a2483b2907
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 11:26:21 2014 -0800

    Removing unnecessary method

 .../main/java/org/apache/phoenix/compile/WhereCompiler.java    | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit 77cf26675928a32f2cc9daa49c2696b27db8201a
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 23 01:25:18 2014 -0800

    Remove unnecessary arg to StatementContext

 .../phoenix/compile/CreateIndexCompiler.java       |  2 +-
 .../phoenix/compile/CreateTableCompiler.java       |  2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  2 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |  2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  8 +--
 .../apache/phoenix/compile/StatementContext.java   |  7 ++-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  4 +-
 .../org/apache/phoenix/execute/AggregatePlan.java  |  4 ++
 .../phoenix/filter/BooleanExpressionFilter.java    |  4 ++
 .../apache/phoenix/compile/HavingCompilerTest.java | 58 ++++++++++------------
 .../phoenix/compile/JoinQueryCompilerTest.java     | 15 +++---
 .../apache/phoenix/compile/WhereCompilerTest.java  | 46 ++++++++---------
 .../apache/phoenix/compile/WhereOptimizerTest.java | 12 ++---
 ...DefaultParallelIteratorsRegionSplitterTest.java |  2 +-
 ...kipRangeParallelIteratorRegionSplitterTest.java |  2 +-
 .../iterate/AggregateResultScannerTest.java        |  2 +-
 16 files changed, 84 insertions(+), 88 deletions(-)

commit 8136db43658bc4479c7ddb825163f2270e73c7bb
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Feb 22 23:22:19 2014 -0800

    Remove funky compileQuery test calls

 .../phoenix/expression/BaseSingleExpression.java   |  20 +-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |   9 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  16 +-
 .../apache/phoenix/compile/LimitCompilerTest.java  |  76 +--
 .../compile/SelectStatementRewriterTest.java       | 102 ++-
 .../compile/StatementHintsCompilationTest.java     |  46 +-
 .../apache/phoenix/compile/WhereCompilerTest.java  |   7 +-
 .../apache/phoenix/compile/WhereOptimizerTest.java | 697 ++++++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  17 +
 9 files changed, 473 insertions(+), 517 deletions(-)

commit 4804175b20448836b0ce6248c0c40b1f87af7134
Author: James Taylor <jamestaylor@apache.org>
Date:   Sat Feb 22 00:34:46 2014 -0800

    Do not reserve sequences on explain

 .../phoenix/compile/CreateIndexCompiler.java       |   6 +-
 .../phoenix/compile/CreateSequenceCompiler.java    |  11 +-
 .../phoenix/compile/CreateTableCompiler.java       |   4 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  15 ++
 .../phoenix/compile/DropSequenceCompiler.java      |   6 +
 .../apache/phoenix/compile/PostDDLCompiler.java    |   7 +
 .../phoenix/compile/PostIndexDDLCompiler.java      | 121 +++++---------
 .../org/apache/phoenix/compile/QueryCompiler.java  |   4 -
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 -
 .../apache/phoenix/compile/SequenceManager.java    |  11 +-
 .../apache/phoenix/compile/StatementContext.java   |   4 +
 .../org/apache/phoenix/compile/StatementPlan.java  |  15 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java | 184 ++++++++++++---------
 .../coprocessor/SequenceRegionObserver.java        |  10 +-
 .../phoenix/iterate/SequenceResultIterator.java    |   3 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  44 ++++-
 .../apache/phoenix/parse/BindableStatement.java    |   2 +
 .../org/apache/phoenix/parse/DeleteStatement.java  |   6 +
 .../org/apache/phoenix/parse/ExplainStatement.java |   6 +
 .../org/apache/phoenix/parse/MutableStatement.java |   5 +
 .../org/apache/phoenix/parse/SelectStatement.java  |   6 +
 .../phoenix/query/ConnectionQueryServices.java     |  10 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  32 ++--
 .../query/ConnectionlessQueryServicesImpl.java     |  11 +-
 .../query/DelegateConnectionQueryServices.java     |  19 ++-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  27 ++-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   1 +
 .../java/org/apache/phoenix/schema/Sequence.java   |  16 +-
 .../org/apache/phoenix/end2end/SequenceTest.java   |  32 ++++
 29 files changed, 372 insertions(+), 248 deletions(-)

commit 67c9615161420e14ee92ce1acf570a0f92d2d70b
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 21 19:23:59 2014 -0500

    PHOENIX-68 Add Option "FAVOR_STAR_JOIN" to indicate if star join optimization is preferred for multi inner join queries

 .../main/java/org/apache/phoenix/compile/JoinCompiler.java    | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 8fe0dd9a04e5acdccdba8a412b35899bd50bbcf6
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 21 17:32:09 2014 -0500

    PHOENIX-68 Add Option "FAVOR_STAR_JOIN" to indicate if star join optimization is preferred for multi inner join queries

 .../org/apache/phoenix/compile/JoinCompiler.java   |  83 ++++++-----
 .../org/apache/phoenix/compile/QueryCompiler.java  |   2 +-
 .../java/org/apache/phoenix/parse/HintNode.java    |   4 +
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 154 +++++++++++++++------
 4 files changed, 167 insertions(+), 76 deletions(-)

commit 3f123685c789351fbb6a662dcee6df92b6e9cec8
Merge: 35cc0936f 0e2b62e7a
Author: jamestaylor <jamestaylor@apache.org>
Date:   Fri Feb 21 12:13:10 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 3112eec29a9b81e4d676d7eed81a148cd01980b2
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Fri Feb 21 10:16:24 2014 -0800

    add hbase-it dependency to address phoenix-flume unit test failures

 phoenix-flume/pom.xml | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 0e2b62e7a0e8b98ab9a872b5169b1b9fefcd46da
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 21 01:26:26 2014 -0800

    PHOENIX-60 UPSERT SELECT only committing last row sometimes (JamesTaylor)

 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 +-
 .../compile/MutatingParallelIteratorFactory.java   |  8 +--
 .../org/apache/phoenix/compile/QueryCompiler.java  |  4 ++
 .../apache/phoenix/compile/SequenceManager.java    | 70 ++++++++++++++--------
 .../org/apache/phoenix/compile/UpsertCompiler.java | 20 ++++---
 .../org/apache/phoenix/execute/AggregatePlan.java  |  9 ++-
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  4 +-
 .../filter/MultiKeyValueComparisonFilter.java      |  5 +-
 .../phoenix/filter/RowKeyComparisonFilter.java     |  7 +--
 .../apache/phoenix/iterate/ParallelIterators.java  |  4 +-
 .../phoenix/iterate/SequenceResultIterator.java    |  3 +-
 .../phoenix/iterate/SpoolingResultIterator.java    | 18 ++++--
 .../org/apache/phoenix/join/HashCacheClient.java   |  3 +-
 .../org/apache/phoenix/join/ScanProjector.java     |  6 +-
 .../org/apache/phoenix/schema/tuple/BaseTuple.java | 27 +++++++++
 .../apache/phoenix/schema/tuple/DelegateTuple.java | 64 ++++++++++++++++++++
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |  4 +-
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  3 +-
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  2 +-
 .../org/apache/phoenix/schema/tuple/Tuple.java     | 12 +++-
 .../java/org/apache/phoenix/util/TupleUtil.java    |  3 +-
 .../org/apache/phoenix/end2end/SequenceTest.java   | 26 ++++++--
 .../apache/phoenix/end2end/UpsertSelectTest.java   | 43 +++++++++++++
 .../iterate/SpoolingResultIteratorTest.java        |  7 ++-
 24 files changed, 270 insertions(+), 84 deletions(-)

commit 09473f51e1f7398f0f2080c9ea91737fcff5eacb
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 20 21:50:11 2014 -0800

    Reset memory setting because previous memory issue is due to memory leak in check in of Phoenix-42

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e71d05e12b6638f3760f9c07c80778ae13ecf6c6
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 20 17:03:00 2014 -0800

    PHOENIX-65: Timeout in running E2E tests after PHOENIX-42 commit

 .../org/apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d7a7de3a8d34370967bc672b85f4db0d3954f6fe
Author: Jesse Yates <jyates@apache.org>
Date:   Thu Feb 20 17:43:25 2014 -0800

    PHOENIX-58: Client jars are missing phoenix code

 phoenix-assembly/src/build/client.xml             | 23 +++++++++++------------
 phoenix-assembly/src/build/components-minimal.xml |  8 +++++++-
 2 files changed, 18 insertions(+), 13 deletions(-)

commit b549785e84a988ca09269a859ab32ac4378c94a2
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 20 17:03:00 2014 -0800

    PHOENIX-65: Timeout in running E2E tests after PHOENIX-42 commit

 .../org/apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b8d4cf16dd7b55c54f0b40a812b9c55926c738b0
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Feb 20 12:51:24 2014 -0800

    increase maven unit test max memory setting

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac37c30dfa6fe3e96ce2005a2b6a7c0e267cf25b
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 20 10:09:34 2014 -0800

    increase maven unit test max memory setting

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bde0f9366e15beae9e7691e698e9318b02682da8
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 20 10:09:34 2014 -0800

    increase maven unit test max memory setting

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c23c60ee1adf52b952fe70ce9b4d6bf628569b1b
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 19 22:44:03 2014 -0800

    PHOENIX-15 Allow forcing a memstore flush for a table (Lars Hofhansl)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 47 +++++++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  7 ----
 .../end2end/ConnectionQueryServicesTestImpl.java   |  8 +---
 4 files changed, 40 insertions(+), 24 deletions(-)

commit 35cc0936f7dca5f47818d42ebf01ca331e9918b7
Author: jamestaylor <jamestaylor@apache.org>
Date:   Wed Feb 19 16:55:59 2014 -0800

    Phoenix 15 Allow forcing a memstore flush for a table (Lars Hofhansl)

 .../phoenix/query/ConnectionQueryServicesImpl.java | 47 +++++++++++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 +-
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  7 ----
 .../end2end/ConnectionQueryServicesTestImpl.java   |  8 +---
 4 files changed, 40 insertions(+), 24 deletions(-)

commit 8ea584182cc237c3968f29012068f14eb082c6d8
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Feb 18 17:26:55 2014 -0800

    phoenix-42: Provide end2end test command line utility

 bin/end2endTest.sh                                 |  46 +++++
 phoenix-core/pom.xml                               |  14 ++
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  23 ++-
 .../end2end/ConnectionQueryServicesTestImpl.java   |  34 +++-
 .../apache/phoenix/end2end/End2EndTestDriver.java  | 194 +++++++++++++++++++++
 5 files changed, 306 insertions(+), 5 deletions(-)

commit 382333ed467bde9e19a3dc31fb2b901dda5be616
Author: Jesse Yates <jyates@apache.org>
Date:   Wed Feb 19 13:45:00 2014 -0800

    PHOENIX-57: ClientKeyValue doesn't work in debug mode

 .../src/main/java/org/apache/phoenix/execute/MutationState.java  | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit be9104b5000ff65f0793a37ce451fe40ab47cd9d
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Feb 18 18:30:25 2014 -0800

    PHOENIX-50: Convert shell scripts under bin to python script so same scripts can run in unix & windows

 bin/{csv-bulk-loader.sh => csv-bulk-loader.py} |  38 ++++++--
 bin/{psql.sh => end2endTest.py}                |  30 ++++--
 bin/end2endTest.sh                             |  46 ---------
 bin/performance.py                             | 128 +++++++++++++++++++++++++
 bin/performance.sh                             |  93 ------------------
 bin/{upgradeTo2.sh => psql.py}                 |  33 +++++--
 bin/sqlline.py                                 |  59 ++++++++++++
 bin/sqlline.sh                                 |  37 -------
 8 files changed, 264 insertions(+), 200 deletions(-)

commit 58ab608dc79f88fa2a9ab59c6b0603c2e6168f8e
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Feb 18 17:26:55 2014 -0800

    phoenix-42: Provide end2end test command line utility

 bin/end2endTest.sh                                 |  46 +++++
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  23 ++-
 .../end2end/ConnectionQueryServicesTestImpl.java   |  34 +++-
 .../apache/phoenix/end2end/End2EndTestDriver.java  | 194 +++++++++++++++++++++
 4 files changed, 292 insertions(+), 5 deletions(-)

commit fcc987f9bd057eb261ef6d653cd362f42c293556
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Feb 18 17:13:01 2014 -0800

    Revert "convert bash shell script to python script". Checkin wrongly.
    
    This reverts commit 26ee0e087ef3664ac73361c146df468d652c1da6.

 bin/{csv-bulk-loader.py => csv-bulk-loader.sh} |  38 ++------
 bin/performance.py                             | 129 -------------------------
 bin/performance.sh                             |  93 ++++++++++++++++++
 bin/{psql.py => psql.sh}                       |  33 ++-----
 bin/sqlline.py                                 |  59 -----------
 bin/sqlline.sh                                 |  37 +++++++
 bin/upgradeTo2.sh                              |  30 ++++++
 7 files changed, 176 insertions(+), 243 deletions(-)

commit 26ee0e087ef3664ac73361c146df468d652c1da6
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Thu Feb 13 15:15:22 2014 -0800

    convert bash shell script to python script

 bin/{csv-bulk-loader.sh => csv-bulk-loader.py} |  38 ++++++--
 bin/performance.py                             | 129 +++++++++++++++++++++++++
 bin/performance.sh                             |  93 ------------------
 bin/{upgradeTo2.sh => psql.py}                 |  33 +++++--
 bin/psql.sh                                    |  30 ------
 bin/sqlline.py                                 |  59 +++++++++++
 bin/sqlline.sh                                 |  37 -------
 7 files changed, 243 insertions(+), 176 deletions(-)

commit aef427df4136c930e4bb71ed1b9dd3e1d577d995
Merge: a3872e000 b4139e300
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Feb 19 01:02:38 2014 +0530

    Merge remote-tracking branch 'origin/master'

commit a3872e000889b44d42f7a5852afc7b29e242cd8d
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Feb 19 01:01:54 2014 +0530

    Revert "Phoenix-37"
    
    This reverts commit 702ffb87eba01b6dd5bdde0ad3eba6b18a02daca.

 .../expression/ArrayConstructorExpression.java     | 75 ++++------------------
 .../org/apache/phoenix/schema/PArrayDataType.java  | 47 ++++++--------
 .../java/org/apache/phoenix/schema/PDataType.java  |  8 ++-
 .../org/apache/phoenix/schema/PhoenixArray.java    |  3 -
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 31 ---------
 5 files changed, 39 insertions(+), 125 deletions(-)

commit 702ffb87eba01b6dd5bdde0ad3eba6b18a02daca
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Wed Feb 19 00:59:28 2014 +0530

    Phoenix-37

 .../expression/ArrayConstructorExpression.java     | 75 ++++++++++++++++++----
 .../org/apache/phoenix/schema/PArrayDataType.java  | 47 ++++++++------
 .../java/org/apache/phoenix/schema/PDataType.java  |  8 +--
 .../org/apache/phoenix/schema/PhoenixArray.java    |  3 +
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 31 +++++++++
 5 files changed, 125 insertions(+), 39 deletions(-)

commit b4139e3005e0d35a5e33306e4b826c3338647fc8
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 18 02:13:17 2014 -0800

    Fix incorrect import in PhoenixSink

 .../src/main/java/org/apache/phoenix/flume/sink/PhoenixSink.java  | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e2bd0ee06b2d2982155ddcb34549fff1249f67fc
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 18 02:04:43 2014 -0800

    PHOENIX-21: Support indexes on multi-tenant views. Still needs more testing

 .../phoenix/compile/CreateTableCompiler.java       |  68 +++-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  12 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |   7 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   4 +-
 .../phoenix/compile/IndexStatementRewriter.java    |  25 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  18 +-
 .../apache/phoenix/compile/PostDDLCompiler.java    |  54 ++-
 .../phoenix/compile/PostIndexDDLCompiler.java      |  11 +-
 .../apache/phoenix/compile/ProjectionCompiler.java |   7 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |   9 -
 .../java/org/apache/phoenix/compile/QueryPlan.java |   2 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  19 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  21 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  58 +--
 .../apache/phoenix/exception/SQLExceptionCode.java |   3 +-
 .../org/apache/phoenix/execute/BasicQueryPlan.java |   6 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  15 +-
 .../phoenix/expression/LiteralExpression.java      |   4 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  94 +++--
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   9 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   5 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |  63 +++-
 .../phoenix/parse/CreateSequenceStatement.java     |   4 +
 .../org/apache/phoenix/parse/LiteralParseNode.java |   7 +
 .../phoenix/query/ConnectionQueryServices.java     |   3 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java | 203 +++++++++--
 .../query/ConnectionlessQueryServicesImpl.java     |   2 +-
 .../query/DelegateConnectionQueryServices.java     |   4 +-
 .../org/apache/phoenix/query/QueryConstants.java   |  32 +-
 .../org/apache/phoenix/query/QueryServices.java    |   2 +-
 .../apache/phoenix/query/QueryServicesOptions.java |   4 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   5 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 400 ++++++++++++++++-----
 .../java/org/apache/phoenix/schema/PColumn.java    |   2 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  30 +-
 .../java/org/apache/phoenix/schema/PDataType.java  |   9 +
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTable.java     |   4 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java | 109 +++---
 .../org/apache/phoenix/schema/SaltingUtil.java     |   2 +-
 .../schema/TableAlreadyExistsException.java        |   6 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  74 +++-
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  53 ++-
 .../end2end/TenantSpecificViewIndexTest.java       |  80 +++++
 .../java/org/apache/phoenix/end2end/ViewTest.java  |  39 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   8 +-
 .../iterate/AggregateResultScannerTest.java        |   7 +-
 47 files changed, 1262 insertions(+), 343 deletions(-)

commit 9a46c0e0c865fc856347b4864cb2244e6b49c952
Author: Andrew Purtell <apurtell@apache.org>
Date:   Fri Feb 14 12:31:11 2014 -0800

    PHOENIX-46 Use Apache Rat for release compliance checking

 pom.xml | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit b709a5ab0f2ba02e2831aa890df01261a8b4cdeb
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Fri Feb 14 16:19:48 2014 -0800

    Fix tar ball file pulls wrong tests jars

 phoenix-assembly/src/build/all.xml | 62 ++++++++++++++++++++++++++++++++++----
 1 file changed, 56 insertions(+), 6 deletions(-)

commit bbacf6e03045bab692aecbea00a4b63ee7593e73
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Feb 14 16:04:38 2014 -0800

    Rename package from org.apache.hadoop.hbase.index.* to org.apache.phoenix.index.* to fix classloader issue causing mutable index performance regression - https://issues.apache.org/jira/browse/PHOENIX-38

 .../hbase/regionserver/wal/IndexedWALEdit.java     |  2 +-
 .../regionserver/wal/IndexedWALEditCodec.java      |  4 +--
 .../java/org/apache/phoenix/cache/GlobalCache.java |  2 +-
 .../java/org/apache/phoenix/cache/HashCache.java   |  2 +-
 .../java/org/apache/phoenix/cache/TenantCache.java |  2 +-
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |  2 +-
 .../phoenix/cache/aggcache/SpillManager.java       |  2 +-
 .../apache/phoenix/cache/aggcache/SpillMap.java    |  3 +-
 .../cache/aggcache/SpillableGroupByCache.java      |  2 +-
 .../phoenix/client/GenericKeyValueBuilder.java     |  2 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 +-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  2 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  2 +-
 .../GroupedAggregateRegionObserver.java            |  2 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  2 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  4 +--
 .../coprocessor/ServerCachingEndpointImpl.java     |  2 +-
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 +-
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  2 +-
 .../org/apache/phoenix/execute/MutationState.java  |  2 +-
 .../phoenix/expression/InListExpression.java       |  2 +-
 .../aggregator/BaseDecimalStddevAggregator.java    |  2 +-
 .../aggregator/BaseStddevAggregator.java           |  2 +-
 .../DistinctValueWithCountClientAggregator.java    |  2 +-
 .../DistinctValueWithCountServerAggregator.java    |  2 +-
 .../filter/MultiCQKeyValueComparisonFilter.java    |  2 +-
 .../hbase/index/CapturingAbortable.java            |  2 +-
 .../hbase/index/IndexLogRollSynchronizer.java      |  2 +-
 .../{hadoop => phoenix}/hbase/index/Indexer.java   | 28 ++++++++---------
 .../hbase/index/ValueGetter.java                   |  6 ++--
 .../hbase/index/builder/BaseIndexBuilder.java      |  4 +--
 .../hbase/index/builder/IndexBuildManager.java     | 14 ++++-----
 .../hbase/index/builder/IndexBuilder.java          |  4 +--
 .../builder/IndexBuildingFailureException.java     |  2 +-
 .../hbase/index/covered/Batch.java                 |  2 +-
 .../hbase/index/covered/CoveredColumns.java        |  4 +--
 .../index/covered/CoveredColumnsIndexBuilder.java  | 14 ++++-----
 .../hbase/index/covered/IndexCodec.java            |  2 +-
 .../hbase/index/covered/IndexUpdate.java           |  4 +--
 .../hbase/index/covered/KeyValueStore.java         |  2 +-
 .../hbase/index/covered/LocalTableState.java       | 16 +++++-----
 .../hbase/index/covered/TableState.java            |  8 ++---
 .../hbase/index/covered/data/IndexMemStore.java    |  6 ++--
 .../hbase/index/covered/data/LazyValueGetter.java  | 10 +++---
 .../hbase/index/covered/data/LocalHBaseState.java  |  4 +--
 .../hbase/index/covered/data/LocalTable.java       |  6 ++--
 .../hbase/index/covered/example/ColumnGroup.java   |  2 +-
 .../hbase/index/covered/example/CoveredColumn.java |  4 +--
 .../covered/example/CoveredColumnIndexCodec.java   |  8 ++---
 .../CoveredColumnIndexSpecifierBuilder.java        |  8 ++---
 .../covered/example/CoveredColumnIndexer.java      | 10 +++---
 .../filter/ApplyAndFilterDeletesFilter.java        |  4 +--
 .../ColumnTrackingNextLargestTimestampFilter.java  |  4 +--
 .../index/covered/filter/FamilyOnlyFilter.java     |  2 +-
 .../index/covered/filter/MaxTimestampFilter.java   |  2 +-
 .../index/covered/filter/NewerTimestampFilter.java |  2 +-
 .../index/covered/update/ColumnReference.java      |  4 +--
 .../hbase/index/covered/update/ColumnTracker.java  |  2 +-
 .../index/covered/update/IndexUpdateManager.java   |  5 +--
 .../index/covered/update/IndexedColumnGroup.java   |  2 +-
 .../index/covered/update/SortedCollection.java     |  2 +-
 .../hbase/index/exception/IndexWriteException.java |  2 +-
 .../exception/MultiIndexWriteFailureException.java |  4 +--
 .../SingleIndexWriteFailureException.java          |  2 +-
 .../hbase/index/parallel/BaseTaskRunner.java       |  2 +-
 .../hbase/index/parallel/EarlyExitFailure.java     |  2 +-
 .../index/parallel/QuickFailingTaskRunner.java     |  2 +-
 .../hbase/index/parallel/Task.java                 |  2 +-
 .../hbase/index/parallel/TaskBatch.java            |  2 +-
 .../hbase/index/parallel/TaskRunner.java           |  2 +-
 .../hbase/index/parallel/ThreadPoolBuilder.java    |  2 +-
 .../hbase/index/parallel/ThreadPoolManager.java    |  2 +-
 .../parallel/WaitForCompletionTaskRunner.java      |  2 +-
 .../hbase/index/scanner/EmptyScanner.java          |  2 +-
 .../index/scanner/FilteredKeyValueScanner.java     |  4 +--
 .../hbase/index/scanner/Scanner.java               |  2 +-
 .../hbase/index/scanner/ScannerBuilder.java        | 14 ++++-----
 .../hbase/index/table/CachingHTableFactory.java    |  4 +--
 .../index/table/CoprocessorHTableFactory.java      |  6 ++--
 .../hbase/index/table/HTableFactory.java           |  4 +--
 .../index/table/HTableInterfaceReference.java      |  4 +--
 .../hbase/index/util/ImmutableBytesPtr.java        |  2 +-
 .../hbase/index/util/IndexManagementUtil.java      | 12 ++++----
 .../hbase/index/wal/IndexedKeyValue.java           |  4 +--
 .../hbase/index/wal/KeyValueCodec.java             |  2 +-
 .../hbase/index/write/IndexCommitter.java          |  6 ++--
 .../hbase/index/write/IndexFailurePolicy.java      |  5 +--
 .../hbase/index/write/IndexWriter.java             |  8 ++---
 .../hbase/index/write/IndexWriterUtils.java        |  8 ++---
 .../index/write/KillServerOnFailurePolicy.java     |  5 +--
 .../index/write/ParallelWriterIndexCommitter.java  | 22 ++++++-------
 .../write/recovery/PerRegionIndexWriteCache.java   |  5 +--
 .../write/recovery/StoreFailuresInCachePolicy.java | 10 +++---
 .../TrackingParallelWriterIndexCommitter.java      | 36 +++++++++++-----------
 .../org/apache/phoenix/index/BaseIndexCodec.java   |  2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  6 ++--
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  4 +--
 .../apache/phoenix/index/PhoenixIndexCodec.java    | 16 +++++-----
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  4 +--
 .../org/apache/phoenix/join/HashCacheFactory.java  |  2 +-
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  2 +-
 .../phoenix/query/ConnectionQueryServicesImpl.java |  4 +--
 .../org/apache/phoenix/query/QueryConstants.java   |  2 +-
 .../main/java/org/apache/phoenix/schema/PName.java |  2 +-
 .../java/org/apache/phoenix/schema/PNameImpl.java  |  2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    |  6 ++--
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  2 +-
 .../java/org/apache/phoenix/util/TupleUtil.java    |  2 +-
 .../wal/TestReadWriteKeyValuesWithCodec.java       |  4 +--
 ...stWALReplayWithIndexWritesAndCompressedWAL.java | 12 ++++----
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |  2 +-
 .../java/org/apache/phoenix/end2end/QueryTest.java |  3 +-
 .../hbase/index/IndexTestingUtils.java             |  2 +-
 .../hbase/index/StubAbortable.java                 |  2 +-
 .../{hadoop => phoenix}/hbase/index/TableName.java |  2 +-
 .../index/TestFailForUnsupportedHBaseVersions.java |  9 +++---
 .../index/covered/CoveredIndexCodecForTesting.java |  5 ++-
 .../hbase/index/covered/TestCoveredColumns.java    |  5 +--
 .../TestEndToEndCoveredColumnsIndexBuilder.java    | 17 ++++++----
 .../hbase/index/covered/TestLocalTableState.java   | 12 +++++---
 .../index/covered/data/TestIndexMemStore.java      |  3 +-
 .../index/covered/example/TestColumnTracker.java   |  6 ++--
 .../example/TestCoveredColumnIndexCodec.java       | 17 +++++-----
 .../example/TestCoveredIndexSpecifierBuilder.java  |  5 ++-
 .../example/TestEndToEndCoveredIndexing.java       | 13 +++++---
 .../TestEndtoEndIndexingWithCompression.java       |  6 ++--
 .../covered/example/TestFailWithoutRetries.java    | 15 +++++----
 .../filter/TestApplyAndFilterDeletesFilter.java    |  5 +--
 .../index/covered/filter/TestFamilyOnlyFilter.java |  3 +-
 .../covered/filter/TestNewerTimestampFilter.java   |  3 +-
 .../covered/update/TestIndexUpdateManager.java     |  4 +--
 .../index/parallel/TestThreadPoolBuilder.java      |  5 +--
 .../index/parallel/TestThreadPoolManager.java      |  6 ++--
 .../hbase/index/util/TestIndexManagementUtil.java  |  3 +-
 .../hbase/index/write/FakeTableFactory.java        |  6 ++--
 .../index/write/TestCachingHTableFactory.java      |  8 ++---
 .../hbase/index/write/TestIndexWriter.java         | 15 +++++----
 .../hbase/index/write/TestParalleIndexWriter.java  | 12 +++++---
 .../write/TestParalleWriterIndexCommitter.java     | 12 +++++---
 .../hbase/index/write/TestWALRecoveryCaching.java  | 25 +++++++--------
 .../recovery/TestPerRegionIndexWriteCache.java     |  8 ++---
 .../apache/phoenix/index/IndexMaintainerTest.java  |  6 ++--
 144 files changed, 409 insertions(+), 361 deletions(-)

commit eebeed4b85b4497e5b49a7d5502bf014277de8a2
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Feb 13 18:58:49 2014 -0500

    Change DEFAULT_MAX_MEMORY_PERC to 20 (old value 50)

 .../src/main/java/org/apache/phoenix/query/QueryServicesOptions.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19dcb481704c0c2db8ec178f280ac36b61ed0aa2
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Feb 12 16:44:54 2014 -0800

    Verify license using Apache Rat
    https://issues.apache.org/jira/browse/PHOENIX-45

 bin/log4j.properties                               | 21 +++++++++++++++++++
 config/apache-access-logs.properties               | 21 +++++++++++++++++++
 config/csv-bulk-load-config.properties             | 21 +++++++++++++++++++
 dev/PhoenixCodeTemplate.xml                        | 21 +++++++++++++++++++
 phoenix-assembly/pom.xml                           | 22 ++++++++++++++++++++
 phoenix-assembly/src/build/all.xml                 | 24 +++++++++++++++++++++-
 phoenix-assembly/src/build/client-minimal.xml      | 24 +++++++++++++++++++++-
 .../src/build/client-without-hbase.xml             | 22 ++++++++++++++++++++
 phoenix-assembly/src/build/client.xml              | 22 ++++++++++++++++++++
 .../src/build/components-major-client.xml          | 22 ++++++++++++++++++++
 phoenix-assembly/src/build/components-minimal.xml  | 24 +++++++++++++++++++++-
 phoenix-core/src/main/java/overview.html           | 23 ++++++++++++++++++++-
 phoenix-flume/pom.xml                              | 22 ++++++++++++++++++++
 phoenix-hadoop-compat/pom.xml                      | 22 ++++++++++++++++++++
 phoenix-hadoop1-compat/pom.xml                     | 22 ++++++++++++++++++++
 phoenix-hadoop2-compat/pom.xml                     | 22 ++++++++++++++++++++
 phoenix-pig/pom.xml                                | 22 ++++++++++++++++++++
 17 files changed, 373 insertions(+), 4 deletions(-)

commit a9a8957425b85b70441b15124bba25bf183868c3
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Feb 12 15:47:37 2014 -0800

    Add missing ASF license headers to source and remove copyright.
    https://issues.apache.org/jira/browse/PHOENIX-45

 bin/csv-bulk-loader.sh                             |  2 --
 bin/performance.sh                                 |  2 --
 bin/psql.sh                                        |  2 --
 bin/sqlline.sh                                     |  2 --
 bin/upgradeTo2.sh                                  |  2 --
 .../hadoop/hbase/index/CapturingAbortable.java     |  2 --
 .../hbase/index/IndexLogRollSynchronizer.java      |  2 --
 .../org/apache/hadoop/hbase/index/Indexer.java     |  2 --
 .../org/apache/hadoop/hbase/index/ValueGetter.java |  2 --
 .../hbase/index/builder/BaseIndexBuilder.java      |  2 --
 .../hbase/index/builder/IndexBuildManager.java     |  2 --
 .../hadoop/hbase/index/builder/IndexBuilder.java   |  2 --
 .../builder/IndexBuildingFailureException.java     |  2 --
 .../apache/hadoop/hbase/index/covered/Batch.java   |  2 --
 .../hadoop/hbase/index/covered/CoveredColumns.java |  2 --
 .../index/covered/CoveredColumnsIndexBuilder.java  |  2 --
 .../hadoop/hbase/index/covered/IndexCodec.java     |  2 --
 .../hadoop/hbase/index/covered/IndexUpdate.java    |  2 --
 .../hadoop/hbase/index/covered/KeyValueStore.java  |  2 --
 .../hbase/index/covered/LocalTableState.java       |  2 --
 .../hadoop/hbase/index/covered/TableState.java     | 18 +++++++++++
 .../hbase/index/covered/data/IndexMemStore.java    |  2 --
 .../hbase/index/covered/data/LazyValueGetter.java  |  2 --
 .../hbase/index/covered/data/LocalHBaseState.java  |  2 --
 .../hbase/index/covered/data/LocalTable.java       |  2 --
 .../hbase/index/covered/example/ColumnGroup.java   | 17 ++++++++++
 .../hbase/index/covered/example/CoveredColumn.java | 18 +++++++++++
 .../CoveredColumnIndexSpecifierBuilder.java        | 18 +++++++++++
 .../covered/example/CoveredColumnIndexer.java      | 18 +++++++++++
 .../filter/ApplyAndFilterDeletesFilter.java        |  2 --
 .../ColumnTrackingNextLargestTimestampFilter.java  |  2 --
 .../index/covered/filter/MaxTimestampFilter.java   |  2 --
 .../index/covered/filter/NewerTimestampFilter.java | 18 +++++++++++
 .../index/covered/update/ColumnReference.java      |  2 --
 .../hbase/index/covered/update/ColumnTracker.java  |  2 --
 .../index/covered/update/IndexUpdateManager.java   |  2 --
 .../index/covered/update/IndexedColumnGroup.java   |  2 --
 .../index/covered/update/SortedCollection.java     |  2 --
 .../hbase/index/exception/IndexWriteException.java |  2 --
 .../exception/MultiIndexWriteFailureException.java |  2 --
 .../SingleIndexWriteFailureException.java          |  2 --
 .../hbase/index/parallel/BaseTaskRunner.java       |  2 --
 .../hbase/index/parallel/EarlyExitFailure.java     |  2 --
 .../index/parallel/QuickFailingTaskRunner.java     |  2 --
 .../apache/hadoop/hbase/index/parallel/Task.java   |  2 --
 .../hadoop/hbase/index/parallel/TaskBatch.java     |  2 --
 .../hadoop/hbase/index/parallel/TaskRunner.java    |  2 --
 .../hbase/index/parallel/ThreadPoolBuilder.java    |  2 --
 .../hbase/index/parallel/ThreadPoolManager.java    |  2 --
 .../parallel/WaitForCompletionTaskRunner.java      |  2 --
 .../hadoop/hbase/index/scanner/EmptyScanner.java   | 18 +++++++++++
 .../index/scanner/FilteredKeyValueScanner.java     | 18 +++++++++++
 .../apache/hadoop/hbase/index/scanner/Scanner.java | 18 +++++++++++
 .../hadoop/hbase/index/scanner/ScannerBuilder.java | 18 +++++++++++
 .../hbase/index/table/CachingHTableFactory.java    |  2 --
 .../index/table/CoprocessorHTableFactory.java      | 18 +++++++++++
 .../hadoop/hbase/index/table/HTableFactory.java    | 18 +++++++++++
 .../index/table/HTableInterfaceReference.java      | 18 +++++++++++
 .../hadoop/hbase/index/util/ImmutableBytesPtr.java |  2 --
 .../hbase/index/util/IndexManagementUtil.java      |  2 --
 .../hadoop/hbase/index/wal/IndexedKeyValue.java    | 18 +++++++++++
 .../hadoop/hbase/index/wal/KeyValueCodec.java      | 18 +++++++++++
 .../hadoop/hbase/index/write/IndexCommitter.java   |  2 --
 .../hbase/index/write/IndexFailurePolicy.java      |  2 --
 .../hadoop/hbase/index/write/IndexWriter.java      |  2 --
 .../hadoop/hbase/index/write/IndexWriterUtils.java |  2 --
 .../index/write/KillServerOnFailurePolicy.java     |  2 --
 .../index/write/ParallelWriterIndexCommitter.java  |  2 --
 .../write/recovery/PerRegionIndexWriteCache.java   |  2 --
 .../TrackingParallelWriterIndexCommitter.java      |  2 --
 .../regionserver/IndexKeyValueSkipListSet.java     |  2 --
 .../hbase/regionserver/wal/IndexedHLogReader.java  | 18 +++++++++++
 .../hbase/regionserver/wal/IndexedWALEdit.java     | 36 ++++++++++++++++++++++
 .../regionserver/wal/IndexedWALEditCodec.java      | 18 +++++++++++
 .../java/org/apache/phoenix/cache/GlobalCache.java |  2 --
 .../java/org/apache/phoenix/cache/HashCache.java   |  2 --
 .../apache/phoenix/cache/IndexMetaDataCache.java   | 18 +++++++++++
 .../apache/phoenix/cache/ServerCacheClient.java    |  2 --
 .../java/org/apache/phoenix/cache/TenantCache.java |  2 --
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |  2 --
 .../apache/phoenix/cache/aggcache/SpillFile.java   | 18 +++++++++++
 .../phoenix/cache/aggcache/SpillManager.java       |  2 --
 .../apache/phoenix/cache/aggcache/SpillMap.java    | 18 +++++++++++
 .../cache/aggcache/SpillableGroupByCache.java      | 18 +++++++++++
 .../phoenix/client/ClientKeyValueBuilder.java      |  2 --
 .../phoenix/client/GenericKeyValueBuilder.java     |  2 --
 .../org/apache/phoenix/client/KeyValueBuilder.java |  2 --
 .../apache/phoenix/compile/AggregationManager.java |  2 --
 .../org/apache/phoenix/compile/BindManager.java    |  2 --
 .../apache/phoenix/compile/ColumnProjector.java    |  2 --
 .../org/apache/phoenix/compile/ColumnResolver.java |  2 --
 .../phoenix/compile/CreateIndexCompiler.java       |  2 --
 .../phoenix/compile/CreateSequenceCompiler.java    |  2 --
 .../phoenix/compile/CreateTableCompiler.java       |  2 --
 .../org/apache/phoenix/compile/DeleteCompiler.java |  2 --
 .../phoenix/compile/DropSequenceCompiler.java      |  2 --
 .../org/apache/phoenix/compile/ExplainPlan.java    |  2 --
 .../apache/phoenix/compile/ExpressionCompiler.java |  2 --
 .../apache/phoenix/compile/ExpressionManager.java  |  2 --
 .../phoenix/compile/ExpressionProjector.java       |  2 --
 .../org/apache/phoenix/compile/FromCompiler.java   |  2 --
 .../apache/phoenix/compile/GroupByCompiler.java    |  2 --
 .../org/apache/phoenix/compile/HavingCompiler.java |  2 --
 .../phoenix/compile/IndexStatementRewriter.java    | 18 +++++++++++
 .../org/apache/phoenix/compile/JoinCompiler.java   |  2 --
 .../java/org/apache/phoenix/compile/KeyPart.java   |  2 --
 .../org/apache/phoenix/compile/LimitCompiler.java  |  2 --
 .../compile/MutatingParallelIteratorFactory.java   |  2 --
 .../org/apache/phoenix/compile/MutationPlan.java   |  2 --
 .../apache/phoenix/compile/OrderByCompiler.java    |  2 --
 .../apache/phoenix/compile/PostDDLCompiler.java    |  2 --
 .../phoenix/compile/PostIndexDDLCompiler.java      |  2 --
 .../apache/phoenix/compile/ProjectionCompiler.java |  2 --
 .../org/apache/phoenix/compile/QueryCompiler.java  |  2 --
 .../java/org/apache/phoenix/compile/QueryPlan.java |  2 --
 .../org/apache/phoenix/compile/RowProjector.java   |  2 --
 .../org/apache/phoenix/compile/ScanRanges.java     |  2 --
 .../apache/phoenix/compile/SequenceManager.java    |  2 --
 .../apache/phoenix/compile/StatementContext.java   |  2 --
 .../phoenix/compile/StatementNormalizer.java       |  2 --
 .../org/apache/phoenix/compile/StatementPlan.java  |  2 --
 .../TrackOrderPreservingExpressionCompiler.java    | 18 +++++++++++
 .../org/apache/phoenix/compile/UpsertCompiler.java |  2 --
 .../org/apache/phoenix/compile/WhereCompiler.java  |  2 --
 .../org/apache/phoenix/compile/WhereOptimizer.java |  2 --
 .../phoenix/coprocessor/BaseRegionScanner.java     |  2 --
 .../coprocessor/BaseScannerRegionObserver.java     |  2 --
 .../apache/phoenix/coprocessor/GroupByCache.java   |  2 --
 .../GroupedAggregateRegionObserver.java            |  2 --
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  2 --
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  2 --
 .../phoenix/coprocessor/MetaDataProtocol.java      |  2 --
 .../coprocessor/MetaDataRegionObserver.java        |  2 --
 .../phoenix/coprocessor/ScanRegionObserver.java    |  2 --
 .../coprocessor/SequenceRegionObserver.java        | 18 +++++++++++
 .../coprocessor/ServerCachingEndpointImpl.java     |  2 --
 .../phoenix/coprocessor/ServerCachingProtocol.java |  2 --
 .../UngroupedAggregateRegionObserver.java          |  2 --
 .../phoenix/exception/BatchUpdateExecution.java    |  2 --
 .../phoenix/exception/PhoenixIOException.java      |  2 --
 .../phoenix/exception/PhoenixParserException.java  |  2 --
 .../apache/phoenix/exception/SQLExceptionCode.java |  2 --
 .../apache/phoenix/exception/SQLExceptionInfo.java |  2 --
 .../exception/UnknownFunctionException.java        |  2 --
 .../exception/ValueTypeIncompatibleException.java  |  2 --
 .../org/apache/phoenix/execute/AggregatePlan.java  |  2 --
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  2 --
 .../apache/phoenix/execute/CommitException.java    |  2 --
 .../phoenix/execute/DegenerateQueryPlan.java       |  2 --
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  2 --
 .../org/apache/phoenix/execute/MutationState.java  |  2 --
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  2 --
 .../apache/phoenix/expression/AddExpression.java   |  2 --
 .../apache/phoenix/expression/AndExpression.java   |  2 --
 .../apache/phoenix/expression/AndOrExpression.java |  2 --
 .../phoenix/expression/ArithmeticExpression.java   |  2 --
 .../expression/ArrayConstructorExpression.java     |  2 --
 .../expression/BaseAddSubtractExpression.java      |  2 --
 .../phoenix/expression/BaseCompoundExpression.java |  2 --
 .../BaseDecimalAddSubtractExpression.java          | 18 +++++++++++
 .../apache/phoenix/expression/BaseExpression.java  |  2 --
 .../phoenix/expression/BaseSingleExpression.java   |  2 --
 .../phoenix/expression/BaseTerminalExpression.java |  2 --
 .../apache/phoenix/expression/CaseExpression.java  |  2 --
 .../phoenix/expression/CoerceExpression.java       |  2 --
 .../phoenix/expression/ColumnExpression.java       |  2 --
 .../phoenix/expression/ComparisonExpression.java   |  2 --
 .../expression/CurrentDateTimeFunction.java        |  2 --
 .../phoenix/expression/DateAddExpression.java      |  2 --
 .../phoenix/expression/DateSubtractExpression.java |  2 --
 .../phoenix/expression/DecimalAddExpression.java   |  2 --
 .../expression/DecimalDivideExpression.java        |  2 --
 .../expression/DecimalMultiplyExpression.java      |  2 --
 .../expression/DecimalSubtractExpression.java      |  2 --
 .../phoenix/expression/DivideExpression.java       |  2 --
 .../phoenix/expression/DoubleAddExpression.java    |  2 --
 .../phoenix/expression/DoubleDivideExpression.java |  2 --
 .../expression/DoubleMultiplyExpression.java       |  2 --
 .../expression/DoubleSubtractExpression.java       |  2 --
 .../org/apache/phoenix/expression/Expression.java  |  2 --
 .../apache/phoenix/expression/ExpressionType.java  |  2 --
 .../phoenix/expression/InListExpression.java       |  2 --
 .../phoenix/expression/IsNullExpression.java       |  2 --
 .../expression/KeyValueColumnExpression.java       |  2 --
 .../apache/phoenix/expression/LikeExpression.java  |  2 --
 .../phoenix/expression/LiteralExpression.java      |  2 --
 .../phoenix/expression/LongAddExpression.java      |  2 --
 .../phoenix/expression/LongDivideExpression.java   |  2 --
 .../phoenix/expression/LongMultiplyExpression.java |  2 --
 .../phoenix/expression/LongSubtractExpression.java |  2 --
 .../phoenix/expression/MultiplyExpression.java     |  2 --
 .../apache/phoenix/expression/NotExpression.java   |  2 --
 .../apache/phoenix/expression/OrExpression.java    |  2 --
 .../phoenix/expression/OrderByExpression.java      | 18 +++++++++++
 .../expression/ProjectedColumnExpression.java      |  2 --
 .../phoenix/expression/RowKeyColumnExpression.java |  2 --
 .../phoenix/expression/RowKeyExpression.java       | 18 +++++++++++
 .../expression/RowValueConstructorExpression.java  |  2 --
 .../phoenix/expression/StringConcatExpression.java |  2 --
 .../phoenix/expression/SubtractExpression.java     |  2 --
 .../phoenix/expression/TimestampAddExpression.java |  2 --
 .../expression/TimestampSubtractExpression.java    |  2 --
 .../phoenix/expression/aggregator/Aggregator.java  |  2 --
 .../phoenix/expression/aggregator/Aggregators.java |  2 --
 .../expression/aggregator/BaseAggregator.java      |  2 --
 .../aggregator/BaseDecimalStddevAggregator.java    |  2 --
 .../aggregator/BaseStddevAggregator.java           |  2 --
 .../expression/aggregator/ClientAggregators.java   |  2 --
 .../expression/aggregator/CountAggregator.java     |  2 --
 .../aggregator/DecimalStddevPopAggregator.java     |  2 --
 .../aggregator/DecimalStddevSampAggregator.java    |  2 --
 .../aggregator/DecimalSumAggregator.java           |  2 --
 .../aggregator/DistinctCountClientAggregator.java  |  2 --
 .../DistinctValueWithCountClientAggregator.java    |  2 --
 .../DistinctValueWithCountServerAggregator.java    |  2 --
 .../expression/aggregator/DoubleSumAggregator.java |  2 --
 .../expression/aggregator/IntSumAggregator.java    |  2 --
 .../expression/aggregator/LongSumAggregator.java   |  2 --
 .../expression/aggregator/MaxAggregator.java       |  2 --
 .../expression/aggregator/MinAggregator.java       |  2 --
 .../expression/aggregator/NumberSumAggregator.java |  2 --
 .../aggregator/PercentRankClientAggregator.java    |  2 --
 .../aggregator/PercentileClientAggregator.java     |  2 --
 .../aggregator/PercentileDiscClientAggregator.java |  2 --
 .../expression/aggregator/ServerAggregators.java   |  2 --
 .../expression/aggregator/StddevPopAggregator.java |  2 --
 .../aggregator/StddevSampAggregator.java           |  2 --
 .../aggregator/UnsignedIntSumAggregator.java       |  2 --
 .../aggregator/UnsignedLongSumAggregator.java      |  2 --
 .../expression/function/AggregateFunction.java     |  2 --
 .../expression/function/ArrayIndexFunction.java    |  2 --
 .../expression/function/ArrayLengthFunction.java   |  2 --
 .../expression/function/AvgAggregateFunction.java  |  2 --
 .../expression/function/CeilDateExpression.java    |  2 --
 .../expression/function/CeilDecimalExpression.java |  2 --
 .../phoenix/expression/function/CeilFunction.java  |  2 --
 .../function/CeilTimestampExpression.java          |  2 --
 .../expression/function/CoalesceFunction.java      |  2 --
 .../function/CompositeAggregateFunction.java       |  2 --
 .../function/CountAggregateFunction.java           |  2 --
 .../expression/function/CurrentDateFunction.java   |  2 --
 .../expression/function/CurrentTimeFunction.java   |  2 --
 .../DelegateConstantToCountAggregateFunction.java  |  2 --
 .../function/DistinctCountAggregateFunction.java   |  2 --
 .../DistinctValueWithCountAggregateFunction.java   |  2 --
 .../expression/function/FloorDateExpression.java   |  2 --
 .../function/FloorDecimalExpression.java           |  2 --
 .../phoenix/expression/function/FloorFunction.java |  2 --
 .../expression/function/FunctionArgumentType.java  | 18 +++++++++++
 .../expression/function/FunctionExpression.java    |  2 --
 .../function/IndexStateNameFunction.java           |  2 --
 .../expression/function/InvertFunction.java        |  2 --
 .../phoenix/expression/function/LTrimFunction.java |  2 --
 .../expression/function/LengthFunction.java        |  2 --
 .../phoenix/expression/function/LowerFunction.java | 18 +++++++++++
 .../phoenix/expression/function/MD5Function.java   |  2 --
 .../expression/function/MaxAggregateFunction.java  |  2 --
 .../expression/function/MinAggregateFunction.java  |  2 --
 .../function/PercentRankAggregateFunction.java     |  2 --
 .../function/PercentileContAggregateFunction.java  |  2 --
 .../function/PercentileDiscAggregateFunction.java  |  2 --
 .../expression/function/PrefixFunction.java        | 18 +++++++++++
 .../phoenix/expression/function/RTrimFunction.java |  2 --
 .../expression/function/RegexpReplaceFunction.java |  2 --
 .../expression/function/RegexpSubstrFunction.java  |  2 --
 .../expression/function/ReverseFunction.java       | 18 +++++++++++
 .../expression/function/RoundDateExpression.java   |  2 --
 .../function/RoundDecimalExpression.java           |  2 --
 .../phoenix/expression/function/RoundFunction.java |  2 --
 .../function/RoundTimestampExpression.java         |  2 --
 .../expression/function/SQLTableTypeFunction.java  |  2 --
 .../expression/function/SQLViewTypeFunction.java   |  2 --
 .../expression/function/ScalarFunction.java        |  2 --
 .../function/SingleAggregateFunction.java          |  2 --
 .../expression/function/SqlTypeNameFunction.java   |  2 --
 .../expression/function/StddevPopFunction.java     |  2 --
 .../expression/function/StddevSampFunction.java    |  2 --
 .../expression/function/SubstrFunction.java        |  2 --
 .../expression/function/SumAggregateFunction.java  |  2 --
 .../phoenix/expression/function/TimeUnit.java      |  2 --
 .../expression/function/ToCharFunction.java        |  2 --
 .../expression/function/ToDateFunction.java        |  2 --
 .../expression/function/ToNumberFunction.java      |  2 --
 .../phoenix/expression/function/TrimFunction.java  |  2 --
 .../phoenix/expression/function/TruncFunction.java |  2 --
 .../phoenix/expression/function/UpperFunction.java | 18 +++++++++++
 .../expression/visitor/BaseExpressionVisitor.java  |  2 --
 .../expression/visitor/ExpressionVisitor.java      |  2 --
 .../visitor/KeyValueExpressionVisitor.java         |  2 --
 .../visitor/SingleAggregateFunctionVisitor.java    |  2 --
 .../visitor/TraverseAllExpressionVisitor.java      |  2 --
 .../visitor/TraverseNoExpressionVisitor.java       |  2 --
 .../phoenix/filter/BooleanExpressionFilter.java    |  2 --
 .../filter/EvaluateOnCompletionVisitor.java        |  2 --
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |  2 --
 .../filter/MultiCQKeyValueComparisonFilter.java    |  2 --
 .../filter/MultiKeyValueComparisonFilter.java      |  2 --
 .../phoenix/filter/RowKeyComparisonFilter.java     |  2 --
 .../filter/SingleCFCQKeyValueComparisonFilter.java |  2 --
 .../filter/SingleCQKeyValueComparisonFilter.java   |  2 --
 .../filter/SingleKeyValueComparisonFilter.java     |  2 --
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  2 --
 .../org/apache/phoenix/index/BaseIndexCodec.java   |  2 --
 .../org/apache/phoenix/index/IndexMaintainer.java  |  2 --
 .../phoenix/index/IndexMetaDataCacheClient.java    |  2 --
 .../phoenix/index/IndexMetaDataCacheFactory.java   |  2 --
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |  2 --
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  2 --
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  2 --
 .../phoenix/iterate/AggregatingResultIterator.java |  2 --
 .../apache/phoenix/iterate/BaseResultIterator.java |  2 --
 .../phoenix/iterate/ConcatResultIterator.java      |  2 --
 .../DefaultParallelIteratorRegionSplitter.java     |  2 --
 .../phoenix/iterate/DelegateResultIterator.java    |  2 --
 .../iterate/DistinctAggregatingResultIterator.java |  2 --
 .../org/apache/phoenix/iterate/ExplainTable.java   |  2 --
 .../iterate/FilterAggregatingResultIterator.java   |  2 --
 .../phoenix/iterate/FilterResultIterator.java      |  2 --
 .../iterate/GroupedAggregatingResultIterator.java  |  2 --
 .../phoenix/iterate/LimitingResultIterator.java    |  2 --
 .../phoenix/iterate/LookAheadResultIterator.java   |  2 --
 .../iterate/MappedByteBufferSortedQueue.java       |  2 --
 .../iterate/MaterializedResultIterator.java        |  2 --
 .../phoenix/iterate/MergeSortResultIterator.java   |  2 --
 .../iterate/MergeSortRowKeyResultIterator.java     |  2 --
 .../iterate/MergeSortTopNResultIterator.java       |  2 --
 .../iterate/OrderedAggregatingResultIterator.java  |  2 --
 .../phoenix/iterate/OrderedResultIterator.java     |  2 --
 .../iterate/ParallelIteratorRegionSplitter.java    |  2 --
 .../ParallelIteratorRegionSplitterFactory.java     |  2 --
 .../apache/phoenix/iterate/ParallelIterators.java  |  2 --
 .../phoenix/iterate/PeekingResultIterator.java     |  2 --
 .../iterate/RegionScannerResultIterator.java       |  2 --
 .../org/apache/phoenix/iterate/ResultIterator.java |  2 --
 .../apache/phoenix/iterate/ResultIterators.java    |  2 --
 .../phoenix/iterate/ScanningResultIterator.java    |  2 --
 .../phoenix/iterate/SequenceResultIterator.java    |  2 --
 .../SkipRangeParallelIteratorRegionSplitter.java   |  2 --
 .../iterate/SpoolTooBigToDiskException.java        | 18 +++++++++++
 .../phoenix/iterate/SpoolingResultIterator.java    |  2 --
 .../phoenix/iterate/TableResultIterator.java       |  2 --
 .../UngroupedAggregatingResultIterator.java        |  2 --
 .../java/org/apache/phoenix/jdbc/Jdbc7Shim.java    |  2 --
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  2 --
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  2 --
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |  2 --
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  2 --
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |  2 --
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  2 --
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  |  2 --
 .../phoenix/jdbc/PhoenixResultSetMetaData.java     |  2 --
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |  2 --
 .../phoenix/jdbc/PhoenixStatementFactory.java      |  2 --
 .../phoenix/job/AbstractRoundRobinQueue.java       |  2 --
 .../java/org/apache/phoenix/job/JobManager.java    |  2 --
 .../org/apache/phoenix/join/HashCacheClient.java   |  2 --
 .../org/apache/phoenix/join/HashCacheFactory.java  |  2 --
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  2 --
 .../join/MaxServerCacheSizeExceededException.java  |  2 --
 .../org/apache/phoenix/join/ScanProjector.java     |  2 --
 .../apache/phoenix/map/reduce/CSVBulkLoader.java   |  2 --
 .../apache/phoenix/map/reduce/MapReduceJob.java    |  2 --
 .../phoenix/map/reduce/util/ConfigReader.java      |  2 --
 .../apache/phoenix/memory/ChildMemoryManager.java  |  2 --
 .../phoenix/memory/DelegatingMemoryManager.java    |  2 --
 .../apache/phoenix/memory/GlobalMemoryManager.java |  2 --
 .../memory/InsufficientMemoryException.java        |  2 --
 .../org/apache/phoenix/memory/MemoryManager.java   |  2 --
 .../apache/phoenix/optimize/QueryOptimizer.java    | 18 +++++++++++
 .../apache/phoenix/parse/AddColumnStatement.java   |  2 --
 .../org/apache/phoenix/parse/AddParseNode.java     |  2 --
 .../phoenix/parse/AggregateFunctionParseNode.java  |  2 --
 .../java/org/apache/phoenix/parse/AliasedNode.java |  2 --
 .../apache/phoenix/parse/AlterIndexStatement.java  |  2 --
 .../apache/phoenix/parse/AlterTableStatement.java  |  2 --
 .../org/apache/phoenix/parse/AndParseNode.java     |  2 --
 .../apache/phoenix/parse/ArithmeticParseNode.java  |  2 --
 .../apache/phoenix/parse/ArrayConstructorNode.java |  2 --
 .../phoenix/parse/AvgAggregateParseNode.java       |  2 --
 .../apache/phoenix/parse/BaseParseNodeVisitor.java |  2 --
 .../org/apache/phoenix/parse/BetweenParseNode.java |  2 --
 .../org/apache/phoenix/parse/BinaryParseNode.java  |  2 --
 .../org/apache/phoenix/parse/BindParseNode.java    |  2 --
 .../org/apache/phoenix/parse/BindTableNode.java    |  2 --
 .../apache/phoenix/parse/BindableStatement.java    |  2 --
 .../org/apache/phoenix/parse/CaseParseNode.java    |  2 --
 .../org/apache/phoenix/parse/CastParseNode.java    |  2 --
 .../org/apache/phoenix/parse/CeilParseNode.java    |  2 --
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  2 --
 .../org/apache/phoenix/parse/ColumnFamilyDef.java  |  2 --
 .../java/org/apache/phoenix/parse/ColumnName.java  |  2 --
 .../org/apache/phoenix/parse/ColumnParseNode.java  |  2 --
 .../apache/phoenix/parse/ComparisonParseNode.java  |  2 --
 .../apache/phoenix/parse/CompoundParseNode.java    |  2 --
 .../apache/phoenix/parse/ConcreteTableNode.java    |  2 --
 .../apache/phoenix/parse/CreateIndexStatement.java |  2 --
 .../phoenix/parse/CreateSequenceStatement.java     |  2 --
 .../apache/phoenix/parse/CreateTableStatement.java |  2 --
 .../apache/phoenix/parse/CurrentDateParseNode.java |  2 --
 .../apache/phoenix/parse/CurrentTimeParseNode.java |  2 --
 .../parse/DelegateConstantToCountParseNode.java    |  2 --
 .../org/apache/phoenix/parse/DeleteStatement.java  |  2 --
 .../org/apache/phoenix/parse/DerivedTableNode.java |  2 --
 .../phoenix/parse/DistinctCountParseNode.java      |  2 --
 .../org/apache/phoenix/parse/DivideParseNode.java  |  2 --
 .../apache/phoenix/parse/DropColumnStatement.java  |  2 --
 .../apache/phoenix/parse/DropIndexStatement.java   |  2 --
 .../phoenix/parse/DropSequenceStatement.java       |  2 --
 .../apache/phoenix/parse/DropTableStatement.java   |  2 --
 .../org/apache/phoenix/parse/EqualParseNode.java   |  2 --
 .../org/apache/phoenix/parse/ExistsParseNode.java  |  2 --
 .../org/apache/phoenix/parse/ExplainStatement.java |  2 --
 .../phoenix/parse/FamilyWildcardParseNode.java     |  2 --
 .../apache/phoenix/parse/FilterableStatement.java  |  2 --
 .../org/apache/phoenix/parse/FloorParseNode.java   |  2 --
 .../apache/phoenix/parse/FunctionParseNode.java    |  2 --
 .../phoenix/parse/GreaterThanOrEqualParseNode.java |  2 --
 .../apache/phoenix/parse/GreaterThanParseNode.java |  2 --
 .../java/org/apache/phoenix/parse/HintNode.java    |  2 --
 .../org/apache/phoenix/parse/InListParseNode.java  |  2 --
 .../java/org/apache/phoenix/parse/InParseNode.java |  2 --
 .../apache/phoenix/parse/IndexKeyConstraint.java   |  2 --
 .../org/apache/phoenix/parse/IsNullParseNode.java  |  2 --
 .../org/apache/phoenix/parse/JoinTableNode.java    |  2 --
 .../phoenix/parse/LessThanOrEqualParseNode.java    |  2 --
 .../apache/phoenix/parse/LessThanParseNode.java    |  2 --
 .../org/apache/phoenix/parse/LikeParseNode.java    |  2 --
 .../java/org/apache/phoenix/parse/LimitNode.java   |  2 --
 .../org/apache/phoenix/parse/LiteralParseNode.java |  2 --
 .../phoenix/parse/MaxAggregateParseNode.java       |  2 --
 .../phoenix/parse/MinAggregateParseNode.java       |  2 --
 .../apache/phoenix/parse/MultiplyParseNode.java    |  2 --
 .../org/apache/phoenix/parse/MutableStatement.java |  2 --
 .../java/org/apache/phoenix/parse/NamedNode.java   | 18 +++++++++++
 .../org/apache/phoenix/parse/NamedParseNode.java   |  2 --
 .../org/apache/phoenix/parse/NamedTableNode.java   |  2 --
 .../apache/phoenix/parse/NotEqualParseNode.java    |  2 --
 .../org/apache/phoenix/parse/NotParseNode.java     |  2 --
 .../java/org/apache/phoenix/parse/OrParseNode.java |  2 --
 .../java/org/apache/phoenix/parse/OrderByNode.java |  2 --
 .../apache/phoenix/parse/OuterJoinParseNode.java   |  2 --
 .../org/apache/phoenix/parse/ParseContext.java     |  2 --
 .../org/apache/phoenix/parse/ParseException.java   |  2 --
 .../java/org/apache/phoenix/parse/ParseNode.java   |  2 --
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  2 --
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  2 --
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |  2 --
 .../apache/phoenix/parse/PrimaryKeyConstraint.java |  2 --
 .../org/apache/phoenix/parse/PropertyName.java     | 18 +++++++++++
 .../org/apache/phoenix/parse/RoundParseNode.java   |  2 --
 .../parse/RowValueConstructorParseNode.java        |  2 --
 .../java/org/apache/phoenix/parse/SQLParser.java   |  2 --
 .../org/apache/phoenix/parse/SelectStatement.java  |  2 --
 .../phoenix/parse/SelectStatementRewriter.java     |  2 --
 .../phoenix/parse/SequenceValueParseNode.java      | 18 +++++++++++
 .../phoenix/parse/SingleTableSQLStatement.java     |  2 --
 .../StatelessTraverseAllParseNodeVisitor.java      | 18 +++++++++++
 .../phoenix/parse/StringConcatParseNode.java       |  2 --
 .../apache/phoenix/parse/SubqueryParseNode.java    |  2 --
 .../apache/phoenix/parse/SubtractParseNode.java    |  2 --
 .../phoenix/parse/SumAggregateParseNode.java       |  2 --
 .../java/org/apache/phoenix/parse/TableName.java   |  2 --
 .../java/org/apache/phoenix/parse/TableNode.java   |  2 --
 .../org/apache/phoenix/parse/TableNodeVisitor.java |  2 --
 .../phoenix/parse/TableWildcardParseNode.java      |  2 --
 .../apache/phoenix/parse/TerminalParseNode.java    |  2 --
 .../org/apache/phoenix/parse/ToCharParseNode.java  |  2 --
 .../org/apache/phoenix/parse/ToDateParseNode.java  |  2 --
 .../apache/phoenix/parse/ToNumberParseNode.java    | 18 +++++++++++
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  2 --
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  2 --
 .../org/apache/phoenix/parse/UnaryParseNode.java   |  2 --
 .../parse/UnsupportedAllParseNodeVisitor.java      |  2 --
 .../org/apache/phoenix/parse/UpsertStatement.java  |  2 --
 .../apache/phoenix/parse/WildcardParseNode.java    |  2 --
 .../phoenix/query/BaseQueryServicesImpl.java       |  2 --
 .../apache/phoenix/query/ChildQueryServices.java   |  2 --
 .../apache/phoenix/query/ConfigurationFactory.java |  2 --
 .../phoenix/query/ConnectionQueryServices.java     |  2 --
 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 --
 .../query/ConnectionlessQueryServicesImpl.java     |  2 --
 .../query/DelegateConnectionQueryServices.java     |  2 --
 .../phoenix/query/DelegateQueryServices.java       |  2 --
 .../apache/phoenix/query/HBaseFactoryProvider.java |  2 --
 .../apache/phoenix/query/HConnectionFactory.java   |  2 --
 .../org/apache/phoenix/query/HTableFactory.java    |  2 --
 .../java/org/apache/phoenix/query/KeyRange.java    |  2 --
 .../org/apache/phoenix/query/MetaDataMutated.java  |  2 --
 .../org/apache/phoenix/query/QueryConstants.java   |  2 --
 .../org/apache/phoenix/query/QueryServices.java    |  2 --
 .../apache/phoenix/query/QueryServicesImpl.java    |  2 --
 .../apache/phoenix/query/QueryServicesOptions.java |  2 --
 .../org/apache/phoenix/query/StatsManager.java     |  2 --
 .../org/apache/phoenix/query/StatsManagerImpl.java |  2 --
 .../phoenix/schema/AmbiguousColumnException.java   |  2 --
 .../phoenix/schema/AmbiguousTableException.java    |  2 --
 .../schema/ArgumentTypeMismatchException.java      |  2 --
 .../schema/ColumnAlreadyExistsException.java       |  2 --
 .../schema/ColumnFamilyNotFoundException.java      |  2 --
 .../org/apache/phoenix/schema/ColumnModifier.java  |  2 --
 .../phoenix/schema/ColumnNotFoundException.java    |  2 --
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  2 --
 .../schema/ConcurrentTableMutationException.java   |  2 --
 .../schema/ConstraintViolationException.java       |  2 --
 .../org/apache/phoenix/schema/DelegateColumn.java  |  2 --
 .../org/apache/phoenix/schema/DelegateDatum.java   |  2 --
 .../schema/EmptySequenceCacheException.java        | 18 +++++++++++
 .../schema/ExecuteQueryNotApplicableException.java |  2 --
 .../ExecuteUpdateNotApplicableException.java       |  2 --
 .../phoenix/schema/IllegalDataException.java       |  2 --
 .../org/apache/phoenix/schema/KeyValueSchema.java  |  2 --
 .../org/apache/phoenix/schema/MetaDataClient.java  |  2 --
 .../schema/MetaDataEntityNotFoundException.java    |  2 --
 .../apache/phoenix/schema/MetaDataSplitPolicy.java |  2 --
 .../schema/NewerTableAlreadyExistsException.java   |  2 --
 .../org/apache/phoenix/schema/PArrayDataType.java  |  2 --
 .../org/apache/phoenix/schema/PBaseColumn.java     |  2 --
 .../java/org/apache/phoenix/schema/PColumn.java    |  2 --
 .../org/apache/phoenix/schema/PColumnFamily.java   |  2 --
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |  2 --
 .../org/apache/phoenix/schema/PColumnImpl.java     |  2 --
 .../java/org/apache/phoenix/schema/PDataType.java  |  2 --
 .../org/apache/phoenix/schema/PDateColumn.java     |  2 --
 .../java/org/apache/phoenix/schema/PDatum.java     |  2 --
 .../org/apache/phoenix/schema/PIndexState.java     |  2 --
 .../org/apache/phoenix/schema/PIntegerColumn.java  |  2 --
 .../org/apache/phoenix/schema/PLongColumn.java     |  2 --
 .../java/org/apache/phoenix/schema/PMetaData.java  |  2 --
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  2 --
 .../main/java/org/apache/phoenix/schema/PName.java |  2 --
 .../org/apache/phoenix/schema/PNameFactory.java    | 18 +++++++++++
 .../org/apache/phoenix/schema/PNormalizedName.java |  2 --
 .../main/java/org/apache/phoenix/schema/PRow.java  |  2 --
 .../org/apache/phoenix/schema/PStringColumn.java   |  2 --
 .../java/org/apache/phoenix/schema/PTable.java     |  2 --
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 --
 .../java/org/apache/phoenix/schema/PTableType.java |  2 --
 .../org/apache/phoenix/schema/PhoenixArray.java    |  2 --
 .../phoenix/schema/ReadOnlyTableException.java     |  2 --
 .../org/apache/phoenix/schema/RowKeySchema.java    |  2 --
 .../apache/phoenix/schema/RowKeyValueAccessor.java |  2 --
 .../org/apache/phoenix/schema/SaltingUtil.java     |  2 --
 .../java/org/apache/phoenix/schema/Sequence.java   | 18 +++++++++++
 .../schema/SequenceAlreadyExistsException.java     |  2 --
 .../org/apache/phoenix/schema/SequenceKey.java     |  2 --
 .../phoenix/schema/SequenceNotFoundException.java  |  2 --
 .../schema/TableAlreadyExistsException.java        |  2 --
 .../phoenix/schema/TableNotFoundException.java     |  2 --
 .../java/org/apache/phoenix/schema/TableRef.java   |  2 --
 .../phoenix/schema/TypeMismatchException.java      |  2 --
 .../org/apache/phoenix/schema/ValueBitSet.java     |  2 --
 .../apache/phoenix/schema/ValueRangeExcpetion.java |  2 --
 .../org/apache/phoenix/schema/ValueSchema.java     |  2 --
 .../apache/phoenix/schema/stat/PTableStats.java    |  2 --
 .../phoenix/schema/stat/PTableStatsImpl.java       |  2 --
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |  2 --
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  2 --
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  2 --
 .../org/apache/phoenix/schema/tuple/Tuple.java     |  2 --
 .../org/apache/phoenix/util/BigDecimalUtil.java    |  2 --
 .../main/java/org/apache/phoenix/util/BitSet.java  | 18 +++++++++++
 .../java/org/apache/phoenix/util/ByteUtil.java     |  2 --
 .../java/org/apache/phoenix/util/CSVLoader.java    |  2 --
 .../java/org/apache/phoenix/util/Closeables.java   |  2 --
 .../java/org/apache/phoenix/util/ColumnInfo.java   | 18 +++++++++++
 .../java/org/apache/phoenix/util/DateUtil.java     |  2 --
 .../java/org/apache/phoenix/util/IndexUtil.java    |  2 --
 .../org/apache/phoenix/util/InstanceResolver.java  |  2 --
 .../java/org/apache/phoenix/util/JDBCUtil.java     |  2 --
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  2 --
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  2 --
 .../java/org/apache/phoenix/util/NumberUtil.java   |  2 --
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  2 --
 .../java/org/apache/phoenix/util/QueryUtil.java    | 18 +++++++++++
 .../org/apache/phoenix/util/ReadOnlyProps.java     | 18 +++++++++++
 .../java/org/apache/phoenix/util/ResultUtil.java   |  2 --
 .../java/org/apache/phoenix/util/SQLCloseable.java |  2 --
 .../org/apache/phoenix/util/SQLCloseables.java     |  2 --
 .../java/org/apache/phoenix/util/ScanUtil.java     |  2 --
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  2 --
 .../java/org/apache/phoenix/util/ServerUtil.java   |  2 --
 .../java/org/apache/phoenix/util/SizedUtil.java    |  2 --
 .../java/org/apache/phoenix/util/StringUtil.java   |  2 --
 .../phoenix/util/TrustedByteArrayOutputStream.java |  2 --
 .../java/org/apache/phoenix/util/TupleUtil.java    |  2 --
 .../hadoop/hbase/index/IndexTestingUtils.java      |  2 --
 .../apache/hadoop/hbase/index/StubAbortable.java   |  2 --
 .../org/apache/hadoop/hbase/index/TableName.java   |  2 --
 .../index/TestFailForUnsupportedHBaseVersions.java |  2 --
 .../index/covered/CoveredIndexCodecForTesting.java |  2 --
 .../hbase/index/covered/TestCoveredColumns.java    |  2 --
 .../TestEndToEndCoveredColumnsIndexBuilder.java    |  2 --
 .../hbase/index/covered/TestLocalTableState.java   |  2 --
 .../index/covered/data/TestIndexMemStore.java      |  2 --
 .../index/covered/example/TestColumnTracker.java   |  2 --
 .../example/TestCoveredColumnIndexCodec.java       |  2 --
 .../example/TestCoveredIndexSpecifierBuilder.java  |  2 --
 .../example/TestEndToEndCoveredIndexing.java       |  2 --
 .../TestEndtoEndIndexingWithCompression.java       |  2 --
 .../covered/example/TestFailWithoutRetries.java    |  2 --
 .../filter/TestApplyAndFilterDeletesFilter.java    |  2 --
 .../index/covered/filter/TestFamilyOnlyFilter.java |  2 --
 .../covered/filter/TestNewerTimestampFilter.java   |  2 --
 .../covered/update/TestIndexUpdateManager.java     |  2 --
 .../index/parallel/TestThreadPoolBuilder.java      |  2 --
 .../index/parallel/TestThreadPoolManager.java      |  2 --
 .../hbase/index/util/TestIndexManagementUtil.java  |  2 --
 .../hadoop/hbase/index/write/FakeTableFactory.java | 18 +++++++++++
 .../index/write/TestCachingHTableFactory.java      |  2 --
 .../hadoop/hbase/index/write/TestIndexWriter.java  |  2 --
 .../hbase/index/write/TestParalleIndexWriter.java  |  2 --
 .../write/TestParalleWriterIndexCommitter.java     |  2 --
 .../hbase/index/write/TestWALRecoveryCaching.java  |  2 --
 .../recovery/TestPerRegionIndexWriteCache.java     |  2 --
 .../wal/TestReadWriteKeyValuesWithCodec.java       | 18 +++++++++++
 ...stWALReplayWithIndexWritesAndCompressedWAL.java | 18 +++++++++++
 ...IndexWritesAndUncompressedWALInHBase_094_9.java | 18 +++++++++++
 .../arithmetic/ArithmeticOperationTest.java        |  2 --
 .../apache/phoenix/client/TestClientKeyValue.java  |  2 --
 .../apache/phoenix/compile/HavingCompilerTest.java |  2 --
 .../phoenix/compile/JoinQueryCompilerTest.java     |  2 --
 .../apache/phoenix/compile/LimitCompilerTest.java  |  2 --
 .../apache/phoenix/compile/QueryCompilerTest.java  |  2 --
 .../apache/phoenix/compile/QueryMetaDataTest.java  |  2 --
 .../apache/phoenix/compile/QueryOptimizerTest.java |  2 --
 .../org/apache/phoenix/compile/ScanRangesTest.java |  2 --
 .../compile/SelectStatementRewriterTest.java       |  2 --
 .../compile/StatementHintsCompilationTest.java     |  2 --
 .../apache/phoenix/compile/ViewCompilerTest.java   |  2 --
 .../apache/phoenix/compile/WhereCompilerTest.java  |  2 --
 .../apache/phoenix/compile/WhereOptimizerTest.java |  2 --
 .../org/apache/phoenix/end2end/AlterTableTest.java |  2 --
 .../phoenix/end2end/ArithmeticQueryTest.java       |  2 --
 .../java/org/apache/phoenix/end2end/ArrayTest.java |  2 --
 .../org/apache/phoenix/end2end/AutoCommitTest.java |  2 --
 .../phoenix/end2end/BaseClientManagedTimeTest.java |  2 --
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  2 --
 .../phoenix/end2end/BaseHBaseManagedTimeTest.java  |  2 --
 .../end2end/BaseTenantSpecificTablesTest.java      |  2 --
 .../apache/phoenix/end2end/BinaryRowKeyTest.java   |  2 --
 .../org/apache/phoenix/end2end/CSVLoaderTest.java  |  2 --
 .../phoenix/end2end/CoalesceFunctionTest.java      |  2 --
 .../phoenix/end2end/CompareDecimalToLongTest.java  |  2 --
 .../end2end/ConnectionQueryServicesTestImpl.java   |  2 --
 .../apache/phoenix/end2end/CreateTableTest.java    |  2 --
 .../phoenix/end2end/CustomEntityDataTest.java      |  2 --
 ...DefaultParallelIteratorsRegionSplitterTest.java |  2 --
 .../org/apache/phoenix/end2end/DeleteTest.java     |  2 --
 .../apache/phoenix/end2end/DistinctCountTest.java  |  2 --
 .../apache/phoenix/end2end/DynamicColumnTest.java  |  2 --
 .../apache/phoenix/end2end/DynamicFamilyTest.java  |  2 --
 .../apache/phoenix/end2end/DynamicUpsertTest.java  |  2 --
 .../phoenix/end2end/ExecuteStatementsTest.java     |  2 --
 .../phoenix/end2end/ExtendedQueryExecTest.java     |  2 --
 .../org/apache/phoenix/end2end/FunkyNamesTest.java |  2 --
 .../apache/phoenix/end2end/GroupByCaseTest.java    |  2 --
 .../org/apache/phoenix/end2end/HashJoinTest.java   |  2 --
 .../phoenix/end2end/InMemoryOrderByTest.java       |  2 --
 .../org/apache/phoenix/end2end/IsNullTest.java     |  2 --
 .../org/apache/phoenix/end2end/KeyOnlyTest.java    |  2 --
 .../apache/phoenix/end2end/MD5FunctionTest.java    |  2 --
 .../phoenix/end2end/MultiCfQueryExecTest.java      |  2 --
 .../phoenix/end2end/NativeHBaseTypesTest.java      |  2 --
 .../org/apache/phoenix/end2end/OrderByTest.java    |  2 --
 .../org/apache/phoenix/end2end/PercentileTest.java |  2 --
 .../apache/phoenix/end2end/ProductMetricsTest.java |  2 --
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  2 --
 .../phoenix/end2end/QueryExecWithoutSCNTest.java   |  2 --
 .../org/apache/phoenix/end2end/QueryPlanTest.java  |  2 --
 .../java/org/apache/phoenix/end2end/QueryTest.java |  2 --
 .../phoenix/end2end/ReadIsolationLevelTest.java    |  2 --
 .../phoenix/end2end/ReverseFunctionTest.java       |  2 --
 .../RoundFloorCeilFunctionsEnd2EndTest.java        |  2 --
 .../phoenix/end2end/RowValueConstructorTest.java   |  2 --
 .../org/apache/phoenix/end2end/SequenceTest.java   | 18 +++++++++++
 .../phoenix/end2end/ServerExceptionTest.java       |  2 --
 ...kipRangeParallelIteratorRegionSplitterTest.java |  2 --
 .../apache/phoenix/end2end/SkipScanQueryTest.java  |  2 --
 .../org/apache/phoenix/end2end/SortOrderFTest.java |  2 --
 .../phoenix/end2end/SpillableGroupByTest.java      |  2 --
 .../apache/phoenix/end2end/SpooledOrderByTest.java |  2 --
 .../apache/phoenix/end2end/StatementHintsTest.java |  2 --
 .../org/apache/phoenix/end2end/StddevTest.java     |  2 --
 .../end2end/TenantSpecificTablesDDLTest.java       |  2 --
 .../end2end/TenantSpecificTablesDMLTest.java       |  2 --
 .../apache/phoenix/end2end/ToCharFunctionTest.java |  2 --
 .../phoenix/end2end/ToNumberFunctionTest.java      |  2 --
 .../java/org/apache/phoenix/end2end/TopNTest.java  |  2 --
 .../phoenix/end2end/UpsertBigValuesTest.java       |  2 --
 .../end2end/UpsertSelectAutoCommitTest.java        |  2 --
 .../apache/phoenix/end2end/UpsertSelectTest.java   |  2 --
 .../apache/phoenix/end2end/UpsertValuesTest.java   |  2 --
 .../phoenix/end2end/VariableLengthPKTest.java      |  2 --
 .../java/org/apache/phoenix/end2end/ViewTest.java  |  2 --
 .../phoenix/end2end/index/BaseIndexTest.java       |  2 --
 .../end2end/index/BaseMutableIndexTest.java        |  2 --
 .../apache/phoenix/end2end/index/DropViewTest.java |  2 --
 .../phoenix/end2end/index/ImmutableIndexTest.java  |  2 --
 .../phoenix/end2end/index/IndexMetadataTest.java   |  2 --
 .../phoenix/end2end/index/IndexTestUtil.java       |  2 --
 .../end2end/index/MutableIndexFailureTest.java     |  2 --
 .../phoenix/end2end/index/MutableIndexTest.java    |  2 --
 .../phoenix/end2end/index/SaltedIndexTest.java     |  2 --
 .../phoenix/end2end/salted/SaltedTableTest.java    |  2 --
 .../salted/SaltedTableUpsertSelectTest.java        | 18 +++++++++++
 .../salted/SaltedTableVarLengthRowKeyTest.java     | 18 +++++++++++
 .../phoenix/expression/CoerceExpressionTest.java   |  2 --
 .../phoenix/expression/ColumnExpressionTest.java   |  2 --
 .../phoenix/expression/LikeExpressionTest.java     |  2 --
 .../RoundFloorCeilExpressionsUnitTests.java        |  2 --
 .../expression/SortOrderExpressionTest.java        |  2 --
 .../filter/SkipScanFilterIntersectTest.java        |  2 --
 .../apache/phoenix/filter/SkipScanFilterTest.java  | 18 +++++++++++
 .../apache/phoenix/index/IndexMaintainerTest.java  | 18 +++++++++++
 .../iterate/AggregateResultScannerTest.java        |  2 --
 .../phoenix/iterate/ConcatResultIteratorTest.java  |  2 --
 .../iterate/MergeSortResultIteratorTest.java       |  2 --
 .../iterate/SpoolingResultIteratorTest.java        |  2 --
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    | 18 +++++++++++
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |  2 --
 .../org/apache/phoenix/logging/PerformanceLog.java |  2 --
 .../apache/phoenix/memory/MemoryManagerTest.java   |  2 --
 .../org/apache/phoenix/parse/QueryParserTest.java  |  2 --
 .../phoenix/query/BaseConnectionlessQueryTest.java |  2 --
 .../java/org/apache/phoenix/query/BaseTest.java    |  2 --
 .../phoenix/query/ConnectionlessUpsertTest.java    |  2 --
 .../phoenix/query/HBaseFactoryProviderTest.java    |  2 --
 .../phoenix/query/KeyRangeCoalesceTests.java       | 18 +++++++++++
 .../phoenix/query/KeyRangeIntersectTests.java      | 18 +++++++++++
 .../apache/phoenix/query/KeyRangeUnionTests.java   | 18 +++++++++++
 .../phoenix/query/QueryServicesTestImpl.java       |  2 --
 .../phoenix/schema/PDataTypeForArraysTest.java     |  2 --
 .../org/apache/phoenix/schema/PDataTypeTest.java   |  2 --
 .../apache/phoenix/schema/RowKeySchemaTest.java    | 18 +++++++++++
 .../phoenix/schema/RowKeyValueAccessorTest.java    | 18 +++++++++++
 .../org/apache/phoenix/schema/SchemaUtilTest.java  |  2 --
 .../org/apache/phoenix/schema/ValueBitSetTest.java |  2 --
 .../org/apache/phoenix/util/AssertResults.java     |  2 --
 .../java/org/apache/phoenix/util/ByteUtilTest.java |  2 --
 .../java/org/apache/phoenix/util/DateUtilTest.java |  2 --
 .../phoenix/util/GeneratePerformanceData.java      |  2 --
 .../apache/phoenix/util/LikeExpressionTest.java    |  2 --
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |  2 --
 .../apache/phoenix/util/PhoenixRuntimeTest.java    | 18 +++++++++++
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  2 --
 .../java/org/apache/phoenix/util/TestUtil.java     |  2 --
 .../apache/phoenix/flume/DefaultKeyGenerator.java  |  2 --
 .../org/apache/phoenix/flume/FlumeConstants.java   |  2 --
 .../org/apache/phoenix/flume/KeyGenerator.java     |  2 --
 .../org/apache/phoenix/flume/SchemaHandler.java    |  2 --
 .../flume/serializer/BaseEventSerializer.java      |  2 --
 .../phoenix/flume/serializer/EventSerializer.java  |  2 --
 .../phoenix/flume/serializer/EventSerializers.java |  2 --
 .../flume/serializer/RegexEventSerializer.java     |  2 --
 .../org/apache/phoenix/flume/sink/PhoenixSink.java |  2 --
 .../org/apache/phoenix/flume/TestPhoenixSink.java  |  2 --
 .../phoenix/flume/TestRegexEventSerializer.java    |  2 --
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |  2 --
 .../phoenix/pig/PhoenixPigConfiguration.java       |  2 --
 .../main/java/org/apache/phoenix/pig/TypeUtil.java |  2 --
 .../phoenix/pig/hadoop/PhoenixOutputCommitter.java |  2 --
 .../phoenix/pig/hadoop/PhoenixOutputFormat.java    |  2 --
 .../apache/phoenix/pig/hadoop/PhoenixRecord.java   |  2 --
 .../phoenix/pig/hadoop/PhoenixRecordWriter.java    |  2 --
 764 files changed, 1151 insertions(+), 1402 deletions(-)

commit 91b7f6d45f9b2a2a92ca2d43b58fc71a0feceaa4
Merge: 9b0a1128e 88c8b997d
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 12 13:59:52 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 9b0a1128ea4be0211b4229c0c8724dabf6995acd
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 12 13:59:25 2014 -0800

    Fix broken QueryCompilerTest

 .../main/java/org/apache/phoenix/compile/QueryCompiler.java | 13 +++++++++----
 .../java/org/apache/phoenix/execute/BasicQueryPlan.java     |  5 -----
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 88c8b997d1f24ee6fb2d24ba0b2d669529d777ad
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Feb 12 16:41:53 2014 -0500

    Fix PHOENIX-44 Cannot create index on tables with case-sensitive schema names

 .../apache/phoenix/parse/CreateIndexStatement.java |  2 +-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 30 +++++++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  2 +-
 3 files changed, 17 insertions(+), 17 deletions(-)

commit b925d4c74d5edecda6e345fc22c11bddfd76373d
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 12 10:58:08 2014 -0800

    PHOENIX-43 Normalize select statement only once instead of with each compile

 .../org/apache/phoenix/compile/DeleteCompiler.java |  3 +-
 .../org/apache/phoenix/compile/FromCompiler.java   | 20 +++++++++-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  7 ++--
 .../org/apache/phoenix/compile/QueryCompiler.java  | 46 +++++++++-------------
 .../org/apache/phoenix/compile/RowProjector.java   | 12 ++++--
 .../apache/phoenix/compile/StatementContext.java   |  8 ----
 .../org/apache/phoenix/compile/UpsertCompiler.java |  9 +++--
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  7 +++-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  2 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 13 ++++--
 .../apache/phoenix/optimize/QueryOptimizer.java    | 21 +++++-----
 .../org/apache/phoenix/end2end/DeleteTest.java     |  5 +--
 .../apache/phoenix/end2end/UpsertSelectTest.java   |  5 +--
 13 files changed, 88 insertions(+), 70 deletions(-)

commit 0b3d9487606c5ba0c03865646a8f59c2bb793419
Author: James Taylor <jamestaylor@apache.org>
Date:   Wed Feb 12 00:16:35 2014 -0800

    PHOENIX-40 Add support for batching (JamesTaylor)

 .../phoenix/exception/BatchUpdateExecution.java    |  38 +
 .../apache/phoenix/exception/SQLExceptionCode.java |   2 +
 .../org/apache/phoenix/execute/BasicQueryPlan.java |   8 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |   6 +-
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  71 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 975 +++++++++------------
 .../apache/phoenix/optimize/QueryOptimizer.java    |  17 +-
 .../apache/phoenix/parse/BindableStatement.java    |   3 +
 .../phoenix/parse/CreateSequenceStatement.java     |   2 +-
 .../apache/phoenix/parse/CreateTableStatement.java |   6 +-
 .../org/apache/phoenix/parse/DeleteStatement.java  |   6 +
 .../apache/phoenix/parse/DropIndexStatement.java   |   8 +-
 .../phoenix/parse/DropSequenceStatement.java       |   9 +-
 .../apache/phoenix/parse/DropTableStatement.java   |   8 +-
 .../org/apache/phoenix/parse/ExplainStatement.java |   7 +
 .../org/apache/phoenix/parse/MutableStatement.java |  31 +
 .../org/apache/phoenix/parse/SelectStatement.java  |   6 +
 .../phoenix/parse/SingleTableSQLStatement.java     |   2 +-
 .../apache/phoenix/compile/QueryCompilerTest.java  |  40 +
 .../apache/phoenix/end2end/UpsertValuesTest.java   |  91 +-
 20 files changed, 720 insertions(+), 616 deletions(-)

commit a8e4dd77cb72a975e042406a45b973db17f85bbc
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Feb 12 00:31:34 2014 -0500

    Fix parser compilation warnings

 phoenix-core/src/main/antlr3/PhoenixSQL.g | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 872acf6a53174df5f641e43ffccb9c9b07626c1e
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Feb 11 23:59:30 2014 -0500

    Fix test case failures

 .../src/test/java/org/apache/phoenix/end2end/HashJoinTest.java    | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 9ee8d645d55da0d079eef632df3123f535390115
Merge: 7ac4ee2df 7a6a46c0a
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Feb 11 23:13:53 2014 -0500

    Fix merge conflicts

commit 7ac4ee2dffea9f1f67462f999870fd7431658eb5
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Feb 11 22:58:18 2014 -0500

    Fix PHOENIX-33 Support table-wildcard select in join queries

 phoenix-core/src/main/antlr3/PhoenixSQL.g          |   1 +
 .../org/apache/phoenix/compile/ColumnResolver.java |  10 +
 .../org/apache/phoenix/compile/FromCompiler.java   |  14 +-
 .../phoenix/compile/IndexStatementRewriter.java    |  40 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   | 119 ++---
 .../apache/phoenix/compile/PostDDLCompiler.java    |   5 +
 .../apache/phoenix/compile/ProjectionCompiler.java |  56 ++-
 .../org/apache/phoenix/compile/QueryCompiler.java  |  18 +-
 .../phoenix/compile/StatementNormalizer.java       |  89 +++-
 .../org/apache/phoenix/parse/BindTableNode.java    |  10 +-
 .../apache/phoenix/parse/ConcreteTableNode.java    |   4 +-
 .../org/apache/phoenix/parse/DerivedTableNode.java |   4 +-
 .../org/apache/phoenix/parse/JoinTableNode.java    |   2 +-
 .../org/apache/phoenix/parse/NamedTableNode.java   |  12 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |   4 +
 .../apache/phoenix/parse/ParseNodeRewriter.java    |   5 +
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |   3 +-
 .../java/org/apache/phoenix/parse/TableNode.java   |  10 -
 .../phoenix/parse/TableWildcardParseNode.java      |  52 +++
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |   5 +
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |   5 +
 .../parse/UnsupportedAllParseNodeVisitor.java      |   5 +
 .../phoenix/compile/JoinQueryCompileTest.java      |  38 +-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 495 ++++++++++++++-------
 ...kipRangeParallelIteratorRegionSplitterTest.java |   7 +
 .../phoenix/query/BaseConnectionlessQueryTest.java |  16 +-
 .../java/org/apache/phoenix/query/BaseTest.java    |  16 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  21 +-
 28 files changed, 720 insertions(+), 346 deletions(-)

commit b2516159087a4f66d3bb29d1807261a5b8588029
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Tue Feb 11 14:36:57 2014 -0800

    ReEnable replication setting & RowKeyValueAccessorTest fix

 .../hadoop/hbase/index/wal/IndexedKeyValue.java    | 20 ++++++----
 .../phoenix/query/ConnectionQueryServicesImpl.java | 12 ++----
 .../java/org/apache/phoenix/util/ConfigUtil.java   | 44 ++++++++++++++++++++++
 .../index/TestFailForUnsupportedHBaseVersions.java | 12 +++---
 .../TestEndToEndCoveredColumnsIndexBuilder.java    | 17 ++++-----
 .../example/TestEndToEndCoveredIndexing.java       | 12 +++---
 .../TestEndtoEndIndexingWithCompression.java       | 10 ++---
 .../covered/example/TestFailWithoutRetries.java    | 18 +++++----
 ...stWALReplayWithIndexWritesAndCompressedWAL.java |  5 ++-
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |  6 +--
 .../phoenix/schema/RowKeyValueAccessorTest.java    |  9 ++---
 11 files changed, 106 insertions(+), 59 deletions(-)

commit 7a6a46c0adddf48946b5d1d52e3de3a99304c61d
Author: Ramkrishna <ramkrishna.s.vasudevan@intel.com>
Date:   Tue Feb 11 15:55:09 2014 +0530

    Phoenix-10

 .../apache/phoenix/compile/ProjectionCompiler.java | 150 ++++++++++++++++++--
 .../phoenix/coprocessor/ScanRegionObserver.java    | 125 ++++++++++++++--
 .../org/apache/phoenix/query/QueryConstants.java   |   5 +-
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 157 ++++++++++++++++++++-
 4 files changed, 412 insertions(+), 25 deletions(-)

commit 191d097bdca2294a9b83b2f10d02c7ffd21f56d6
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 22:59:00 2014 -0800

    Fix Flume unit tests

 .../phoenix/query/ConnectionQueryServicesImpl.java |  2 +-
 .../flume/serializer/BaseEventSerializer.java      | 48 ++++++++++++----------
 2 files changed, 28 insertions(+), 22 deletions(-)

commit 7cdad218c2c49b568f01422478cbd475ed54d36f
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 15:44:38 2014 -0800

    Fix broken unit test

 .../java/org/apache/phoenix/compile/HavingCompilerTest.java    | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 420811dc3135b0d52c9c2012497c7eef9182649f
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Mon Feb 10 11:50:01 2014 -0800

    RowKeySchemaTest Failure Fxies

 .../src/test/java/org/apache/phoenix/schema/RowKeySchemaTest.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0ea954eaeaf8a5543ea2c5bae6baa61cbb508381
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 09:13:55 2014 -0800

    Fix failing unit test, rename tests for consistency

 .../TrackOrderPreservingExpressionCompiler.java    |  6 +--
 .../phoenix/expression/InListExpression.java       |  6 +--
 .../java/org/apache/phoenix/schema/PDataType.java  | 10 +----
 ...vingClauseTest.java => HavingCompilerTest.java} | 13 +++----
 ...CompileTest.java => JoinQueryCompilerTest.java} |  2 +-
 ...LimitClauseTest.java => LimitCompilerTest.java} |  2 +-
 ...ueryCompileTest.java => QueryCompilerTest.java} |  2 +-
 ...{ViewCompileTest.java => ViewCompilerTest.java} |  2 +-
 ...auseCompileTest.java => WhereCompilerTest.java} |  5 +--
 ...eOptimizerTest.java => WhereOptimizerTest.java} |  2 +-
 .../phoenix/query/BaseConnectionlessQueryTest.java | 44 +++++++++++-----------
 .../java/org/apache/phoenix/util/TestUtil.java     |  4 +-
 12 files changed, 41 insertions(+), 57 deletions(-)

commit fe18e96ae429cc0e4291075177d0e0c5f5e9a5b1
Author: Simon Toens <stoens@apache.org>
Date:   Mon Feb 10 23:21:01 2014 +0900

    Fix NPE introduced by my previous fix for Phoenix-32 - SortOrder was being passed in as null instead of ASC.
    https://issues.apache.org/jira/browse/PHOENIX-32

 phoenix-core/src/main/java/org/apache/phoenix/schema/SaltingUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ae131f560987039142ea5d0ed468c19d4aca565d
Author: Simon Toens <stoens@apache.org>
Date:   Mon Feb 10 22:51:48 2014 +0900

    Replace generic ColumnModifier enum with more specific SortOrder enum.  Ensure that we always pass through either SortOrder.ASC or SortOrder.DESC but never null.
    https://issues.apache.org/jira/browse/PHOENIX-32
    Reviewed by jamestaylor.

 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  32 +-
 .../phoenix/compile/CreateSequenceCompiler.java    |  10 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |   8 +-
 .../apache/phoenix/compile/ExpressionCompiler.java |  20 +-
 .../phoenix/compile/ExpressionProjector.java       |   2 +-
 .../org/apache/phoenix/compile/FromCompiler.java   |   2 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |   4 +-
 .../org/apache/phoenix/compile/LimitCompiler.java  |   4 +-
 .../apache/phoenix/compile/OrderByCompiler.java    |   6 +-
 .../TrackOrderPreservingExpressionCompiler.java    |   6 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |  22 +-
 .../org/apache/phoenix/compile/WhereOptimizer.java |  25 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  |  32 +-
 .../coprocessor/SequenceRegionObserver.java        |  11 +-
 .../UngroupedAggregateRegionObserver.java          |  17 +-
 .../expression/ArrayConstructorExpression.java     |   2 +-
 .../apache/phoenix/expression/BaseExpression.java  |   6 +-
 .../phoenix/expression/CoerceExpression.java       |  28 +-
 .../phoenix/expression/ColumnExpression.java       |  14 +-
 .../phoenix/expression/ComparisonExpression.java   |  22 +-
 .../phoenix/expression/DateAddExpression.java      |  12 +-
 .../phoenix/expression/DateSubtractExpression.java |  12 +-
 .../phoenix/expression/DecimalAddExpression.java   |   6 +-
 .../expression/DecimalDivideExpression.java        |   6 +-
 .../expression/DecimalMultiplyExpression.java      |   6 +-
 .../expression/DecimalSubtractExpression.java      |   8 +-
 .../phoenix/expression/DoubleAddExpression.java    |   2 +-
 .../phoenix/expression/DoubleDivideExpression.java |   2 +-
 .../expression/DoubleMultiplyExpression.java       |   2 +-
 .../expression/DoubleSubtractExpression.java       |   2 +-
 .../phoenix/expression/InListExpression.java       |  16 +-
 .../apache/phoenix/expression/LikeExpression.java  |   4 +-
 .../phoenix/expression/LiteralExpression.java      |  43 +-
 .../phoenix/expression/LongAddExpression.java      |   2 +-
 .../phoenix/expression/LongDivideExpression.java   |   2 +-
 .../phoenix/expression/LongMultiplyExpression.java |   2 +-
 .../phoenix/expression/LongSubtractExpression.java |   2 +-
 .../phoenix/expression/RowKeyColumnExpression.java |   2 +-
 .../expression/RowValueConstructorExpression.java  |   4 +-
 .../phoenix/expression/StringConcatExpression.java |   8 +-
 .../phoenix/expression/TimestampAddExpression.java |  12 +-
 .../expression/TimestampSubtractExpression.java    |  12 +-
 .../expression/aggregator/BaseAggregator.java      |  12 +-
 .../aggregator/BaseDecimalStddevAggregator.java    |   6 +-
 .../aggregator/BaseStddevAggregator.java           |   6 +-
 .../expression/aggregator/CountAggregator.java     |   4 +-
 .../aggregator/DecimalStddevPopAggregator.java     |   6 +-
 .../aggregator/DecimalStddevSampAggregator.java    |   6 +-
 .../aggregator/DecimalSumAggregator.java           |   8 +-
 .../aggregator/DistinctCountClientAggregator.java  |   7 +-
 .../DistinctValueWithCountClientAggregator.java    |  20 +-
 .../DistinctValueWithCountServerAggregator.java    |   3 +-
 .../expression/aggregator/DoubleSumAggregator.java |  10 +-
 .../expression/aggregator/IntSumAggregator.java    |   6 +-
 .../expression/aggregator/LongSumAggregator.java   |   6 +-
 .../expression/aggregator/MaxAggregator.java       |   6 +-
 .../expression/aggregator/MinAggregator.java       |   8 +-
 .../expression/aggregator/NumberSumAggregator.java |  14 +-
 .../aggregator/PercentRankClientAggregator.java    |   6 +-
 .../aggregator/PercentileClientAggregator.java     |   6 +-
 .../aggregator/PercentileDiscClientAggregator.java |   6 +-
 .../expression/aggregator/StddevPopAggregator.java |   6 +-
 .../aggregator/StddevSampAggregator.java           |   6 +-
 .../aggregator/UnsignedIntSumAggregator.java       |   6 +-
 .../aggregator/UnsignedLongSumAggregator.java      |   6 +-
 .../expression/function/ArrayIndexFunction.java    |   2 +-
 .../expression/function/AvgAggregateFunction.java  |   6 +-
 .../function/CeilTimestampExpression.java          |   8 +-
 .../function/CountAggregateFunction.java           |   2 +-
 .../function/DistinctCountAggregateFunction.java   |   2 +-
 .../expression/function/InvertFunction.java        |   8 +-
 .../phoenix/expression/function/LTrimFunction.java |  12 +-
 .../expression/function/LengthFunction.java        |   2 +-
 .../phoenix/expression/function/LowerFunction.java |   2 +-
 .../expression/function/MaxAggregateFunction.java  |  10 +-
 .../expression/function/MinAggregateFunction.java  |  10 +-
 .../function/PercentRankAggregateFunction.java     |   2 +-
 .../function/PercentileContAggregateFunction.java  |   2 +-
 .../function/PercentileDiscAggregateFunction.java  |   2 +-
 .../phoenix/expression/function/RTrimFunction.java |  10 +-
 .../expression/function/RegexpReplaceFunction.java |   4 +-
 .../expression/function/RegexpSubstrFunction.java  |   4 +-
 .../expression/function/ReverseFunction.java       |  10 +-
 .../expression/function/RoundDateExpression.java   |   8 +-
 .../function/RoundDecimalExpression.java           |   2 +-
 .../function/RoundTimestampExpression.java         |   8 +-
 .../expression/function/SqlTypeNameFunction.java   |   2 +-
 .../expression/function/StddevPopFunction.java     |   4 +-
 .../expression/function/StddevSampFunction.java    |   4 +-
 .../expression/function/SubstrFunction.java        |  20 +-
 .../expression/function/SumAggregateFunction.java  |  18 +-
 .../expression/function/ToCharFunction.java        |   2 +-
 .../expression/function/ToDateFunction.java        |   2 +-
 .../expression/function/ToNumberFunction.java      |   4 +-
 .../phoenix/expression/function/TrimFunction.java  |  12 +-
 .../phoenix/expression/function/UpperFunction.java |   2 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |  16 +-
 .../org/apache/phoenix/iterate/ExplainTable.java   |   8 +-
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      |  12 +-
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |   6 +-
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  |   6 +-
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  19 +-
 .../apache/phoenix/parse/IndexKeyConstraint.java   |  12 +-
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  14 +-
 .../apache/phoenix/parse/PrimaryKeyConstraint.java |  26 +-
 .../java/org/apache/phoenix/query/KeyRange.java    |   6 +-
 .../org/apache/phoenix/query/QueryConstants.java   |   4 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   4 +-
 .../org/apache/phoenix/schema/DelegateDatum.java   |   4 +-
 .../org/apache/phoenix/schema/KeyValueSchema.java  |   2 +-
 .../org/apache/phoenix/schema/MetaDataClient.java  |  40 +-
 .../org/apache/phoenix/schema/PArrayDataType.java  |  18 +-
 .../org/apache/phoenix/schema/PColumnImpl.java     |  21 +-
 .../java/org/apache/phoenix/schema/PDataType.java  | 579 +++++++++++----------
 .../java/org/apache/phoenix/schema/PDatum.java     |   4 +-
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |   2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |   4 +-
 .../org/apache/phoenix/schema/RowKeySchema.java    |   4 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |   4 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |  14 +-
 .../java/org/apache/phoenix/schema/SortOrder.java  | 142 +++++
 .../org/apache/phoenix/schema/ValueSchema.java     |  29 +-
 .../java/org/apache/phoenix/util/ByteUtil.java     |  14 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   3 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   8 +-
 .../java/org/apache/phoenix/util/StringUtil.java   |  38 +-
 .../org/apache/phoenix/compile/ScanRangesTest.java |  14 +-
 ...kipRangeParallelIteratorRegionSplitterTest.java |   8 +-
 ...olumnSortOrderTest.java => SortOrderFTest.java} |   5 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |   6 +-
 .../phoenix/expression/ColumnExpressionTest.java   |   9 +-
 ...ssionTest.java => SortOrderExpressionTest.java} |  11 +-
 .../filter/SkipScanFilterIntersectTest.java        |   8 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  |   8 +-
 .../iterate/AggregateResultScannerTest.java        |   6 +-
 .../org/apache/phoenix/parse/QueryParserTest.java  |  14 +-
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 172 +++---
 .../apache/phoenix/schema/RowKeySchemaTest.java    |  12 +-
 .../phoenix/schema/RowKeyValueAccessorTest.java    |   2 +-
 .../org/apache/phoenix/schema/SortOrderTest.java   | 113 ++++
 .../org/apache/phoenix/schema/ValueBitSetTest.java |   4 +-
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  14 +-
 142 files changed, 1280 insertions(+), 985 deletions(-)

commit 04f703eeb21e5016846db078ca392161e86243da
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 00:26:31 2014 -0800

    Don't set keep deleted cells to false for existing cfs of view

 .../test/java/org/apache/phoenix/end2end/QueryDatabaseMetaDataTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9609fdb7dc8a7caad9cbfdb7eade3f265694d87
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 00:21:40 2014 -0800

    Minor fix to not add property for default column family to index on view

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java         | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96a0998c410e24b0f32b3c227d3826f3d786405e
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 10 00:03:53 2014 -0800

    Change default column family name to 0 so that CSV bulk loader will work by default

 .../org/apache/phoenix/compile/FromCompiler.java   |  2 +-
 .../org/apache/phoenix/compile/WhereCompiler.java  |  8 +--
 .../apache/phoenix/expression/ExpressionType.java  |  4 +-
 .../expression/IndexKeyValueColumnExpression.java  | 26 ---------
 .../expression/KeyValueColumnExpression.java       | 12 +++-
 .../expression/ProjectedColumnExpression.java      | 22 +++-----
 .../org/apache/phoenix/index/IndexMaintainer.java  | 65 +++++++++++-----------
 .../apache/phoenix/iterate/ParallelIterators.java  | 10 ++--
 .../phoenix/query/ConnectionQueryServicesImpl.java |  7 ++-
 .../org/apache/phoenix/query/QueryConstants.java   |  9 ++-
 .../java/org/apache/phoenix/schema/ColumnRef.java  | 36 ++++++++----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 31 ++++++-----
 .../java/org/apache/phoenix/schema/PTableImpl.java |  2 +-
 .../java/org/apache/phoenix/util/IndexUtil.java    | 10 ++--
 .../java/org/apache/phoenix/util/SchemaUtil.java   | 18 ++++--
 .../phoenix/compile/WhereClauseCompileTest.java    |  3 +-
 .../org/apache/phoenix/end2end/AlterTableTest.java |  9 +--
 .../apache/phoenix/end2end/DynamicColumnTest.java  |  9 ++-
 .../apache/phoenix/end2end/DynamicFamilyTest.java  | 11 ++--
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 22 +++++++-
 20 files changed, 165 insertions(+), 151 deletions(-)

commit 350017b1764acbb3f88026e3c2f06d786b618387
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Sun Feb 9 23:47:48 2014 -0800

    Test Failures Fixes

 .../org/apache/hadoop/hbase/index/Indexer.java     | 40 ++++++------
 .../org/apache/phoenix/client/ClientKeyValue.java  | 71 ++++------------------
 ...stWALReplayWithIndexWritesAndCompressedWAL.java | 21 ++++---
 3 files changed, 46 insertions(+), 86 deletions(-)

commit 53f7d3ce880f79b18a5a728be13f965e84c52e56
Author: Jeffrey Zhong <jzhong@JZhongs-MacBook-Pro.local>
Date:   Fri Feb 7 23:41:57 2014 -0800

    Port Phoenix to Hbase0.98

 phoenix-core/pom.xml                               |  121 +-
 .../hbase/index/IndexLogRollSynchronizer.java      |   14 +-
 .../org/apache/hadoop/hbase/index/Indexer.java     |   95 +-
 .../hbase/index/builder/BaseIndexBuilder.java      |    4 +-
 .../hbase/index/builder/IndexBuildManager.java     |    6 +-
 .../hadoop/hbase/index/builder/IndexBuilder.java   |    4 +-
 .../index/covered/CoveredColumnsIndexBuilder.java  |   21 +-
 .../hbase/index/covered/LocalTableState.java       |   15 +-
 .../hbase/index/covered/data/IndexMemStore.java    |   18 +-
 .../hbase/index/covered/data/LocalTable.java       |    5 +-
 .../covered/example/CoveredColumnIndexCodec.java   |    1 -
 .../covered/example/CoveredColumnIndexer.java      |   11 +-
 .../filter/ApplyAndFilterDeletesFilter.java        |   36 +-
 .../ColumnTrackingNextLargestTimestampFilter.java  |   16 +-
 .../index/covered/filter/FamilyOnlyFilter.java     |    8 +-
 .../index/covered/filter/MaxTimestampFilter.java   |   22 +-
 .../index/covered/filter/NewerTimestampFilter.java |   12 +-
 .../index/covered/update/IndexUpdateManager.java   |   11 +-
 .../hbase/index/parallel/ThreadPoolManager.java    |    1 -
 .../index/scanner/FilteredKeyValueScanner.java     |    2 -
 .../index/table/CoprocessorHTableFactory.java      |    3 +-
 .../hbase/index/util/IndexManagementUtil.java      |    7 +-
 .../hadoop/hbase/index/wal/IndexedKeyValue.java    |   73 +-
 .../hadoop/hbase/index/wal/KeyValueCodec.java      |   11 +-
 .../hbase/regionserver/wal/IndexedHLogReader.java  |  119 +-
 .../hbase/regionserver/wal/IndexedWALEdit.java     |   91 -
 .../regionserver/wal/IndexedWALEditCodec.java      |   40 +-
 .../apache/phoenix/cache/ServerCacheClient.java    |   73 +-
 .../cache/aggcache/SpillableGroupByCache.java      |    8 +-
 .../org/apache/phoenix/client/ClientKeyValue.java  |  133 +-
 .../org/apache/phoenix/compile/DeleteCompiler.java |    5 +-
 .../org/apache/phoenix/compile/UpsertCompiler.java |    5 +-
 .../phoenix/coprocessor/BaseRegionScanner.java     |   17 +-
 .../GroupedAggregateRegionObserver.java            |   26 +-
 .../phoenix/coprocessor/HashJoinRegionScanner.java |   47 +-
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 1352 ++--
 .../phoenix/coprocessor/MetaDataProtocol.java      |  167 +-
 .../phoenix/coprocessor/ScanRegionObserver.java    |   47 +-
 .../coprocessor/SequenceRegionObserver.java        |   86 +-
 .../coprocessor/ServerCachingEndpointImpl.java     |   98 +-
 .../phoenix/coprocessor/ServerCachingProtocol.java |    3 +-
 .../UngroupedAggregateRegionObserver.java          |   95 +-
 .../coprocessor/generated/MetaDataProtos.java      | 7135 ++++++++++++++++++++
 .../coprocessor/generated/PTableProtos.java        | 5315 +++++++++++++++
 .../generated/ServerCacheFactoryProtos.java        |  568 ++
 .../coprocessor/generated/ServerCachingProtos.java | 3447 ++++++++++
 .../org/apache/phoenix/execute/MutationState.java  |   10 +-
 .../expression/KeyValueColumnExpression.java       |    1 -
 .../DistinctValueWithCountServerAggregator.java    |    4 +-
 .../phoenix/filter/BooleanExpressionFilter.java    |   11 +-
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |   11 +
 .../filter/MultiCQKeyValueComparisonFilter.java    |   12 +
 .../filter/MultiKeyValueComparisonFilter.java      |    8 +-
 .../phoenix/filter/RowKeyComparisonFilter.java     |   15 +-
 .../filter/SingleCFCQKeyValueComparisonFilter.java |   13 +-
 .../filter/SingleCQKeyValueComparisonFilter.java   |   11 +
 .../filter/SingleKeyValueComparisonFilter.java     |   11 +-
 .../org/apache/phoenix/filter/SkipScanFilter.java  |   25 +-
 .../org/apache/phoenix/index/IndexMaintainer.java  |   41 +-
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   10 +-
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |   44 +-
 .../iterate/MappedByteBufferSortedQueue.java       |    5 +-
 .../iterate/RegionScannerResultIterator.java       |    6 +-
 .../phoenix/iterate/SpoolingResultIterator.java    |    4 +-
 .../java/org/apache/phoenix/job/JobManager.java    |   10 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |    2 +-
 .../org/apache/phoenix/join/ScanProjector.java     |    5 +-
 .../apache/phoenix/map/reduce/CSVBulkLoader.java   |    3 -
 .../apache/phoenix/optimize/QueryOptimizer.java    |    2 +-
 .../org/apache/phoenix/protobuf/ProtobufUtil.java  |  133 +
 .../phoenix/query/ConnectionQueryServicesImpl.java |  260 +-
 .../query/ConnectionlessQueryServicesImpl.java     |   12 +-
 .../apache/phoenix/query/HConnectionFactory.java   |    7 +-
 .../apache/phoenix/query/QueryServicesOptions.java |    4 +-
 .../org/apache/phoenix/schema/DelegateColumn.java  |   10 -
 .../org/apache/phoenix/schema/MetaDataClient.java  |    4 +-
 .../java/org/apache/phoenix/schema/PColumn.java    |    4 +-
 .../org/apache/phoenix/schema/PColumnImpl.java     |   98 +-
 .../java/org/apache/phoenix/schema/PTable.java     |    2 +-
 .../java/org/apache/phoenix/schema/PTableImpl.java |  286 +-
 .../java/org/apache/phoenix/schema/Sequence.java   |   73 +-
 .../apache/phoenix/schema/stat/PTableStats.java    |    3 +-
 .../phoenix/schema/stat/PTableStatsImpl.java       |   20 +-
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   19 +-
 .../org/apache/phoenix/schema/tuple/Tuple.java     |    6 +-
 .../java/org/apache/phoenix/util/CSVLoader.java    |    1 -
 .../java/org/apache/phoenix/util/IndexUtil.java    |   22 +-
 .../java/org/apache/phoenix/util/KeyValueUtil.java |   39 +-
 .../java/org/apache/phoenix/util/MetaDataUtil.java |   23 +-
 .../org/apache/phoenix/util/PhoenixRuntime.java    |    7 +-
 .../java/org/apache/phoenix/util/ResultUtil.java   |   29 +-
 .../java/org/apache/phoenix/util/SchemaUtil.java   |    2 -
 .../java/org/apache/phoenix/util/ServerUtil.java   |   16 +-
 .../java/org/apache/phoenix/util/TupleUtil.java    |   13 +-
 .../hadoop/hbase/index/IndexTestingUtils.java      |    4 +-
 .../index/TestFailForUnsupportedHBaseVersions.java |    2 +
 .../TestEndToEndCoveredColumnsIndexBuilder.java    |   26 +-
 .../hbase/index/covered/TestLocalTableState.java   |   13 +-
 .../index/covered/data/TestIndexMemStore.java      |    4 +-
 .../example/TestCoveredColumnIndexCodec.java       |   16 +-
 .../example/TestEndToEndCoveredIndexing.java       |    2 +
 .../TestEndtoEndIndexingWithCompression.java       |    7 +-
 .../covered/example/TestFailWithoutRetries.java    |    2 +
 .../filter/TestApplyAndFilterDeletesFilter.java    |    8 +-
 .../hbase/index/util/TestIndexManagementUtil.java  |    6 +-
 .../hbase/index/write/TestWALRecoveryCaching.java  |    7 +-
 .../recovery/TestPerRegionIndexWriteCache.java     |   87 +-
 .../wal/TestReadWriteKeyValuesWithCodec.java       |   48 +-
 ...stWALReplayWithIndexWritesAndCompressedWAL.java |   28 +-
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |    2 +
 .../phoenix/client/TestClientKeyValueLocal.java    |    5 +-
 .../org/apache/phoenix/end2end/AlterTableTest.java |    4 -
 .../phoenix/end2end/NativeHBaseTypesTest.java      |    2 +-
 .../phoenix/end2end/index/IndexTestUtil.java       |   14 +-
 .../apache/phoenix/filter/SkipScanFilterTest.java  |   11 +-
 .../iterate/AggregateResultScannerTest.java        |    7 -
 .../java/org/apache/phoenix/query/BaseTest.java    |    2 +
 .../java/org/apache/phoenix/util/TestUtil.java     |   36 +-
 phoenix-flume/pom.xml                              |   47 +-
 phoenix-protocol/README.txt                        |   10 +
 phoenix-protocol/src/main/MetaDataService.proto    |  118 +
 phoenix-protocol/src/main/PTable.proto             |   72 +
 phoenix-protocol/src/main/ServerCacheFactory.proto |   29 +
 .../src/main/ServerCachingService.proto            |   61 +
 phoenix-protocol/src/main/build-proto.sh           |   37 +
 pom.xml                                            |  111 +-
 126 files changed, 19574 insertions(+), 2005 deletions(-)

commit 214ad9e78124f7c57fa5ae07b4211e6f8fbc3dfd
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 7 22:45:00 2014 -0800

    PHOENIX-31 Add encode/decode methods for PK values (JamesTaylor)

 .../org/apache/phoenix/util/PhoenixRuntime.java    | 101 ++++++++++++++++++++-
 .../apache/phoenix/util/PhoenixRuntimeTest.java    |  26 ++++++
 2 files changed, 126 insertions(+), 1 deletion(-)

commit 5d1fd559b27ea04d677b5a77fb26ab1d685053ee
Author: James Taylor <jamestaylor@apache.org>
Date:   Fri Feb 7 19:15:26 2014 -0800

    PHOENIX-30 NPE on PTable.getColumn(String) if column with same name used in the PK and non PK (JamesTaylor)

 .../main/java/org/apache/phoenix/schema/PTableImpl.java |  6 ++++--
 .../org/apache/phoenix/compile/QueryCompileTest.java    | 17 ++++++++++++++++-
 2 files changed, 20 insertions(+), 3 deletions(-)

commit a977a7529f5c5bce9b38610cc6b0c534ee3a88d0
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Feb 7 01:40:26 2014 -0500

    Fix test case error.

 .../main/java/org/apache/phoenix/coprocessor/HashJoinRegionScanner.java  | 1 -
 1 file changed, 1 deletion(-)

commit 0e0846650644707b4a4ef7c954be0318dbd3e25f
Merge: 6b5f94eb7 7d8a386fb
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Feb 6 23:24:05 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 6b5f94eb7a26e040917818a769818e283bd58fb9
Author: maryannxue <maryannxue@apache.org>
Date:   Thu Feb 6 23:23:50 2014 -0500

    Improve join query performance.

 .../org/apache/phoenix/compile/JoinCompiler.java   | 14 +++-
 .../org/apache/phoenix/compile/QueryCompiler.java  | 16 +++-
 .../phoenix/coprocessor/HashJoinRegionScanner.java | 85 +++++++++++++---------
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  4 +-
 .../org/apache/phoenix/join/HashCacheFactory.java  |  3 +-
 5 files changed, 78 insertions(+), 44 deletions(-)

commit 7d8a386fb7b1aecd2a5129bab9915c477f359415
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Feb 6 13:49:46 2014 -0800

    Remove @author tag and update license
    https://issues.apache.org/jira/browse/PHOENIX-25

 dev/eclipse_prefs_phoenix.epf                                     | 2 +-
 .../java/org/apache/hadoop/hbase/index/CapturingAbortable.java    | 2 +-
 .../org/apache/hadoop/hbase/index/IndexLogRollSynchronizer.java   | 2 +-
 .../src/main/java/org/apache/hadoop/hbase/index/Indexer.java      | 2 +-
 .../src/main/java/org/apache/hadoop/hbase/index/ValueGetter.java  | 2 +-
 .../org/apache/hadoop/hbase/index/builder/BaseIndexBuilder.java   | 2 +-
 .../org/apache/hadoop/hbase/index/builder/IndexBuildManager.java  | 2 +-
 .../java/org/apache/hadoop/hbase/index/builder/IndexBuilder.java  | 2 +-
 .../hadoop/hbase/index/builder/IndexBuildingFailureException.java | 2 +-
 .../main/java/org/apache/hadoop/hbase/index/covered/Batch.java    | 2 +-
 .../org/apache/hadoop/hbase/index/covered/CoveredColumns.java     | 2 +-
 .../hadoop/hbase/index/covered/CoveredColumnsIndexBuilder.java    | 2 +-
 .../java/org/apache/hadoop/hbase/index/covered/IndexCodec.java    | 2 +-
 .../java/org/apache/hadoop/hbase/index/covered/IndexUpdate.java   | 2 +-
 .../java/org/apache/hadoop/hbase/index/covered/KeyValueStore.java | 2 +-
 .../org/apache/hadoop/hbase/index/covered/LocalTableState.java    | 2 +-
 .../org/apache/hadoop/hbase/index/covered/data/IndexMemStore.java | 2 +-
 .../apache/hadoop/hbase/index/covered/data/LazyValueGetter.java   | 2 +-
 .../apache/hadoop/hbase/index/covered/data/LocalHBaseState.java   | 2 +-
 .../org/apache/hadoop/hbase/index/covered/data/LocalTable.java    | 2 +-
 .../hbase/index/covered/filter/ApplyAndFilterDeletesFilter.java   | 2 +-
 .../covered/filter/ColumnTrackingNextLargestTimestampFilter.java  | 2 +-
 .../hadoop/hbase/index/covered/filter/MaxTimestampFilter.java     | 2 +-
 .../apache/hadoop/hbase/index/covered/update/ColumnReference.java | 2 +-
 .../apache/hadoop/hbase/index/covered/update/ColumnTracker.java   | 2 +-
 .../hadoop/hbase/index/covered/update/IndexUpdateManager.java     | 2 +-
 .../hadoop/hbase/index/covered/update/IndexedColumnGroup.java     | 2 +-
 .../hadoop/hbase/index/covered/update/SortedCollection.java       | 2 +-
 .../apache/hadoop/hbase/index/exception/IndexWriteException.java  | 2 +-
 .../hbase/index/exception/MultiIndexWriteFailureException.java    | 2 +-
 .../hbase/index/exception/SingleIndexWriteFailureException.java   | 2 +-
 .../org/apache/hadoop/hbase/index/parallel/BaseTaskRunner.java    | 2 +-
 .../org/apache/hadoop/hbase/index/parallel/EarlyExitFailure.java  | 2 +-
 .../hadoop/hbase/index/parallel/QuickFailingTaskRunner.java       | 2 +-
 .../main/java/org/apache/hadoop/hbase/index/parallel/Task.java    | 2 +-
 .../java/org/apache/hadoop/hbase/index/parallel/TaskBatch.java    | 2 +-
 .../java/org/apache/hadoop/hbase/index/parallel/TaskRunner.java   | 2 +-
 .../org/apache/hadoop/hbase/index/parallel/ThreadPoolBuilder.java | 2 +-
 .../org/apache/hadoop/hbase/index/parallel/ThreadPoolManager.java | 2 +-
 .../hadoop/hbase/index/parallel/WaitForCompletionTaskRunner.java  | 2 +-
 .../org/apache/hadoop/hbase/index/table/CachingHTableFactory.java | 2 +-
 .../org/apache/hadoop/hbase/index/util/ImmutableBytesPtr.java     | 2 +-
 .../org/apache/hadoop/hbase/index/util/IndexManagementUtil.java   | 2 +-
 .../java/org/apache/hadoop/hbase/index/write/IndexCommitter.java  | 2 +-
 .../org/apache/hadoop/hbase/index/write/IndexFailurePolicy.java   | 2 +-
 .../java/org/apache/hadoop/hbase/index/write/IndexWriter.java     | 2 +-
 .../org/apache/hadoop/hbase/index/write/IndexWriterUtils.java     | 2 +-
 .../hadoop/hbase/index/write/KillServerOnFailurePolicy.java       | 2 +-
 .../hadoop/hbase/index/write/ParallelWriterIndexCommitter.java    | 2 +-
 .../hbase/index/write/recovery/PerRegionIndexWriteCache.java      | 2 +-
 .../write/recovery/TrackingParallelWriterIndexCommitter.java      | 2 +-
 .../hadoop/hbase/regionserver/IndexKeyValueSkipListSet.java       | 2 +-
 .../src/main/java/org/apache/phoenix/cache/GlobalCache.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/cache/HashCache.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/cache/ServerCacheClient.java | 6 +++---
 .../src/main/java/org/apache/phoenix/cache/TenantCache.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/cache/TenantCacheImpl.java   | 4 ++--
 .../main/java/org/apache/phoenix/cache/aggcache/SpillManager.java | 2 +-
 .../java/org/apache/phoenix/client/ClientKeyValueBuilder.java     | 2 +-
 .../java/org/apache/phoenix/client/GenericKeyValueBuilder.java    | 2 +-
 .../src/main/java/org/apache/phoenix/client/KeyValueBuilder.java  | 2 +-
 .../main/java/org/apache/phoenix/compile/AggregationManager.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/BindManager.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/ColumnProjector.java | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/ColumnResolver.java  | 4 ++--
 .../main/java/org/apache/phoenix/compile/CreateIndexCompiler.java | 2 +-
 .../java/org/apache/phoenix/compile/CreateSequenceCompiler.java   | 2 +-
 .../main/java/org/apache/phoenix/compile/CreateTableCompiler.java | 2 +-
 .../src/main/java/org/apache/phoenix/compile/DeleteCompiler.java  | 2 +-
 .../java/org/apache/phoenix/compile/DropSequenceCompiler.java     | 2 +-
 .../src/main/java/org/apache/phoenix/compile/ExplainPlan.java     | 2 +-
 .../main/java/org/apache/phoenix/compile/ExpressionCompiler.java  | 2 +-
 .../main/java/org/apache/phoenix/compile/ExpressionManager.java   | 4 ++--
 .../main/java/org/apache/phoenix/compile/ExpressionProjector.java | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/FromCompiler.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/GroupByCompiler.java | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/HavingCompiler.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/JoinCompiler.java    | 2 +-
 .../src/main/java/org/apache/phoenix/compile/KeyPart.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/LimitCompiler.java   | 2 +-
 .../apache/phoenix/compile/MutatingParallelIteratorFactory.java   | 2 +-
 .../src/main/java/org/apache/phoenix/compile/MutationPlan.java    | 2 +-
 .../src/main/java/org/apache/phoenix/compile/OrderByCompiler.java | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/PostDDLCompiler.java | 4 ++--
 .../java/org/apache/phoenix/compile/PostIndexDDLCompiler.java     | 2 +-
 .../main/java/org/apache/phoenix/compile/ProjectionCompiler.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/QueryCompiler.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/QueryPlan.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/RowProjector.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/ScanRanges.java      | 2 +-
 .../src/main/java/org/apache/phoenix/compile/SequenceManager.java | 2 +-
 .../main/java/org/apache/phoenix/compile/StatementContext.java    | 4 ++--
 .../main/java/org/apache/phoenix/compile/StatementNormalizer.java | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/StatementPlan.java   | 2 +-
 .../src/main/java/org/apache/phoenix/compile/UpsertCompiler.java  | 2 +-
 .../src/main/java/org/apache/phoenix/compile/WhereCompiler.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/compile/WhereOptimizer.java  | 4 ++--
 .../java/org/apache/phoenix/coprocessor/BaseRegionScanner.java    | 2 +-
 .../org/apache/phoenix/coprocessor/BaseScannerRegionObserver.java | 2 +-
 .../main/java/org/apache/phoenix/coprocessor/GroupByCache.java    | 4 ++--
 .../phoenix/coprocessor/GroupedAggregateRegionObserver.java       | 6 +++---
 .../org/apache/phoenix/coprocessor/HashJoinRegionScanner.java     | 2 +-
 .../java/org/apache/phoenix/coprocessor/MetaDataEndpointImpl.java | 6 +++---
 .../java/org/apache/phoenix/coprocessor/MetaDataProtocol.java     | 4 ++--
 .../org/apache/phoenix/coprocessor/MetaDataRegionObserver.java    | 2 +-
 .../java/org/apache/phoenix/coprocessor/ScanRegionObserver.java   | 4 ++--
 .../org/apache/phoenix/coprocessor/SequenceRegionObserver.java    | 4 ++--
 .../org/apache/phoenix/coprocessor/ServerCachingEndpointImpl.java | 4 ++--
 .../org/apache/phoenix/coprocessor/ServerCachingProtocol.java     | 4 ++--
 .../phoenix/coprocessor/UngroupedAggregateRegionObserver.java     | 4 ++--
 .../java/org/apache/phoenix/exception/PhoenixIOException.java     | 2 +-
 .../java/org/apache/phoenix/exception/PhoenixParserException.java | 2 +-
 .../main/java/org/apache/phoenix/exception/SQLExceptionCode.java  | 4 ++--
 .../main/java/org/apache/phoenix/exception/SQLExceptionInfo.java  | 4 ++--
 .../org/apache/phoenix/exception/UnknownFunctionException.java    | 2 +-
 .../apache/phoenix/exception/ValueTypeIncompatibleException.java  | 2 +-
 .../src/main/java/org/apache/phoenix/execute/AggregatePlan.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/execute/BasicQueryPlan.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/execute/CommitException.java | 2 +-
 .../main/java/org/apache/phoenix/execute/DegenerateQueryPlan.java | 2 +-
 .../src/main/java/org/apache/phoenix/execute/HashJoinPlan.java    | 2 +-
 .../src/main/java/org/apache/phoenix/execute/MutationState.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/execute/ScanPlan.java        | 4 ++--
 .../main/java/org/apache/phoenix/expression/AddExpression.java    | 4 ++--
 .../main/java/org/apache/phoenix/expression/AndExpression.java    | 4 ++--
 .../main/java/org/apache/phoenix/expression/AndOrExpression.java  | 4 ++--
 .../java/org/apache/phoenix/expression/ArithmeticExpression.java  | 2 +-
 .../org/apache/phoenix/expression/ArrayConstructorExpression.java | 2 +-
 .../org/apache/phoenix/expression/BaseAddSubtractExpression.java  | 2 +-
 .../org/apache/phoenix/expression/BaseCompoundExpression.java     | 2 +-
 .../main/java/org/apache/phoenix/expression/BaseExpression.java   | 4 ++--
 .../java/org/apache/phoenix/expression/BaseSingleExpression.java  | 4 ++--
 .../org/apache/phoenix/expression/BaseTerminalExpression.java     | 4 ++--
 .../main/java/org/apache/phoenix/expression/CaseExpression.java   | 4 ++--
 .../main/java/org/apache/phoenix/expression/CoerceExpression.java | 2 +-
 .../main/java/org/apache/phoenix/expression/ColumnExpression.java | 4 ++--
 .../java/org/apache/phoenix/expression/ComparisonExpression.java  | 4 ++--
 .../org/apache/phoenix/expression/CurrentDateTimeFunction.java    | 2 +-
 .../java/org/apache/phoenix/expression/DateAddExpression.java     | 2 +-
 .../org/apache/phoenix/expression/DateSubtractExpression.java     | 2 +-
 .../java/org/apache/phoenix/expression/DecimalAddExpression.java  | 2 +-
 .../org/apache/phoenix/expression/DecimalDivideExpression.java    | 2 +-
 .../org/apache/phoenix/expression/DecimalMultiplyExpression.java  | 2 +-
 .../org/apache/phoenix/expression/DecimalSubtractExpression.java  | 4 ++--
 .../main/java/org/apache/phoenix/expression/DivideExpression.java | 4 ++--
 .../java/org/apache/phoenix/expression/DoubleAddExpression.java   | 2 +-
 .../org/apache/phoenix/expression/DoubleDivideExpression.java     | 2 +-
 .../org/apache/phoenix/expression/DoubleMultiplyExpression.java   | 2 +-
 .../org/apache/phoenix/expression/DoubleSubtractExpression.java   | 2 +-
 .../src/main/java/org/apache/phoenix/expression/Expression.java   | 4 ++--
 .../main/java/org/apache/phoenix/expression/ExpressionType.java   | 4 ++--
 .../main/java/org/apache/phoenix/expression/InListExpression.java | 2 +-
 .../main/java/org/apache/phoenix/expression/IsNullExpression.java | 4 ++--
 .../org/apache/phoenix/expression/KeyValueColumnExpression.java   | 4 ++--
 .../main/java/org/apache/phoenix/expression/LikeExpression.java   | 4 ++--
 .../java/org/apache/phoenix/expression/LiteralExpression.java     | 4 ++--
 .../java/org/apache/phoenix/expression/LongAddExpression.java     | 2 +-
 .../java/org/apache/phoenix/expression/LongDivideExpression.java  | 2 +-
 .../org/apache/phoenix/expression/LongMultiplyExpression.java     | 2 +-
 .../org/apache/phoenix/expression/LongSubtractExpression.java     | 4 ++--
 .../java/org/apache/phoenix/expression/MultiplyExpression.java    | 4 ++--
 .../main/java/org/apache/phoenix/expression/NotExpression.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/expression/OrExpression.java | 4 ++--
 .../org/apache/phoenix/expression/ProjectedColumnExpression.java  | 2 +-
 .../org/apache/phoenix/expression/RowKeyColumnExpression.java     | 4 ++--
 .../apache/phoenix/expression/RowValueConstructorExpression.java  | 4 ++--
 .../org/apache/phoenix/expression/StringConcatExpression.java     | 4 ++--
 .../java/org/apache/phoenix/expression/SubtractExpression.java    | 4 ++--
 .../org/apache/phoenix/expression/TimestampAddExpression.java     | 4 ++--
 .../apache/phoenix/expression/TimestampSubtractExpression.java    | 4 ++--
 .../java/org/apache/phoenix/expression/aggregator/Aggregator.java | 4 ++--
 .../org/apache/phoenix/expression/aggregator/Aggregators.java     | 4 ++--
 .../org/apache/phoenix/expression/aggregator/BaseAggregator.java  | 4 ++--
 .../expression/aggregator/BaseDecimalStddevAggregator.java        | 4 ++--
 .../phoenix/expression/aggregator/BaseStddevAggregator.java       | 4 ++--
 .../apache/phoenix/expression/aggregator/ClientAggregators.java   | 4 ++--
 .../org/apache/phoenix/expression/aggregator/CountAggregator.java | 4 ++--
 .../phoenix/expression/aggregator/DecimalStddevPopAggregator.java | 4 ++--
 .../expression/aggregator/DecimalStddevSampAggregator.java        | 4 ++--
 .../phoenix/expression/aggregator/DecimalSumAggregator.java       | 4 ++--
 .../expression/aggregator/DistinctCountClientAggregator.java      | 4 ++--
 .../aggregator/DistinctValueWithCountClientAggregator.java        | 4 ++--
 .../aggregator/DistinctValueWithCountServerAggregator.java        | 4 ++--
 .../apache/phoenix/expression/aggregator/DoubleSumAggregator.java | 2 +-
 .../apache/phoenix/expression/aggregator/IntSumAggregator.java    | 4 ++--
 .../apache/phoenix/expression/aggregator/LongSumAggregator.java   | 4 ++--
 .../org/apache/phoenix/expression/aggregator/MaxAggregator.java   | 4 ++--
 .../org/apache/phoenix/expression/aggregator/MinAggregator.java   | 4 ++--
 .../apache/phoenix/expression/aggregator/NumberSumAggregator.java | 4 ++--
 .../expression/aggregator/PercentRankClientAggregator.java        | 4 ++--
 .../phoenix/expression/aggregator/PercentileClientAggregator.java | 4 ++--
 .../expression/aggregator/PercentileDiscClientAggregator.java     | 4 ++--
 .../apache/phoenix/expression/aggregator/ServerAggregators.java   | 4 ++--
 .../apache/phoenix/expression/aggregator/StddevPopAggregator.java | 4 ++--
 .../phoenix/expression/aggregator/StddevSampAggregator.java       | 4 ++--
 .../phoenix/expression/aggregator/UnsignedIntSumAggregator.java   | 4 ++--
 .../phoenix/expression/aggregator/UnsignedLongSumAggregator.java  | 4 ++--
 .../org/apache/phoenix/expression/function/AggregateFunction.java | 4 ++--
 .../apache/phoenix/expression/function/ArrayIndexFunction.java    | 2 +-
 .../apache/phoenix/expression/function/ArrayLengthFunction.java   | 2 +-
 .../apache/phoenix/expression/function/AvgAggregateFunction.java  | 2 +-
 .../apache/phoenix/expression/function/CeilDateExpression.java    | 4 ++--
 .../apache/phoenix/expression/function/CeilDecimalExpression.java | 4 ++--
 .../java/org/apache/phoenix/expression/function/CeilFunction.java | 4 ++--
 .../phoenix/expression/function/CeilTimestampExpression.java      | 4 ++--
 .../org/apache/phoenix/expression/function/CoalesceFunction.java  | 4 ++--
 .../phoenix/expression/function/CompositeAggregateFunction.java   | 4 ++--
 .../phoenix/expression/function/CountAggregateFunction.java       | 4 ++--
 .../apache/phoenix/expression/function/CurrentDateFunction.java   | 4 ++--
 .../apache/phoenix/expression/function/CurrentTimeFunction.java   | 4 ++--
 .../function/DelegateConstantToCountAggregateFunction.java        | 4 ++--
 .../expression/function/DistinctCountAggregateFunction.java       | 4 ++--
 .../function/DistinctValueWithCountAggregateFunction.java         | 2 +-
 .../apache/phoenix/expression/function/FloorDateExpression.java   | 4 ++--
 .../phoenix/expression/function/FloorDecimalExpression.java       | 4 ++--
 .../org/apache/phoenix/expression/function/FloorFunction.java     | 4 ++--
 .../apache/phoenix/expression/function/FunctionExpression.java    | 4 ++--
 .../phoenix/expression/function/IndexStateNameFunction.java       | 4 ++--
 .../org/apache/phoenix/expression/function/InvertFunction.java    | 2 +-
 .../org/apache/phoenix/expression/function/LTrimFunction.java     | 4 ++--
 .../org/apache/phoenix/expression/function/LengthFunction.java    | 4 ++--
 .../java/org/apache/phoenix/expression/function/MD5Function.java  | 2 +-
 .../apache/phoenix/expression/function/MaxAggregateFunction.java  | 4 ++--
 .../apache/phoenix/expression/function/MinAggregateFunction.java  | 4 ++--
 .../phoenix/expression/function/PercentRankAggregateFunction.java | 4 ++--
 .../expression/function/PercentileContAggregateFunction.java      | 4 ++--
 .../expression/function/PercentileDiscAggregateFunction.java      | 4 ++--
 .../org/apache/phoenix/expression/function/RTrimFunction.java     | 4 ++--
 .../apache/phoenix/expression/function/RegexpReplaceFunction.java | 4 ++--
 .../apache/phoenix/expression/function/RegexpSubstrFunction.java  | 4 ++--
 .../apache/phoenix/expression/function/RoundDateExpression.java   | 4 ++--
 .../phoenix/expression/function/RoundDecimalExpression.java       | 4 ++--
 .../org/apache/phoenix/expression/function/RoundFunction.java     | 4 ++--
 .../phoenix/expression/function/RoundTimestampExpression.java     | 4 ++--
 .../apache/phoenix/expression/function/SQLTableTypeFunction.java  | 4 ++--
 .../apache/phoenix/expression/function/SQLViewTypeFunction.java   | 4 ++--
 .../org/apache/phoenix/expression/function/ScalarFunction.java    | 2 +-
 .../phoenix/expression/function/SingleAggregateFunction.java      | 4 ++--
 .../apache/phoenix/expression/function/SqlTypeNameFunction.java   | 4 ++--
 .../org/apache/phoenix/expression/function/StddevPopFunction.java | 4 ++--
 .../apache/phoenix/expression/function/StddevSampFunction.java    | 4 ++--
 .../org/apache/phoenix/expression/function/SubstrFunction.java    | 4 ++--
 .../apache/phoenix/expression/function/SumAggregateFunction.java  | 4 ++--
 .../java/org/apache/phoenix/expression/function/TimeUnit.java     | 2 +-
 .../org/apache/phoenix/expression/function/ToCharFunction.java    | 4 ++--
 .../org/apache/phoenix/expression/function/ToDateFunction.java    | 4 ++--
 .../org/apache/phoenix/expression/function/ToNumberFunction.java  | 4 ++--
 .../java/org/apache/phoenix/expression/function/TrimFunction.java | 4 ++--
 .../org/apache/phoenix/expression/function/TruncFunction.java     | 4 ++--
 .../apache/phoenix/expression/visitor/BaseExpressionVisitor.java  | 2 +-
 .../org/apache/phoenix/expression/visitor/ExpressionVisitor.java  | 4 ++--
 .../phoenix/expression/visitor/KeyValueExpressionVisitor.java     | 4 ++--
 .../expression/visitor/SingleAggregateFunctionVisitor.java        | 4 ++--
 .../phoenix/expression/visitor/TraverseAllExpressionVisitor.java  | 2 +-
 .../phoenix/expression/visitor/TraverseNoExpressionVisitor.java   | 2 +-
 .../java/org/apache/phoenix/filter/BooleanExpressionFilter.java   | 4 ++--
 .../org/apache/phoenix/filter/EvaluateOnCompletionVisitor.java    | 4 ++--
 .../apache/phoenix/filter/MultiCFCQKeyValueComparisonFilter.java  | 4 ++--
 .../apache/phoenix/filter/MultiCQKeyValueComparisonFilter.java    | 4 ++--
 .../org/apache/phoenix/filter/MultiKeyValueComparisonFilter.java  | 4 ++--
 .../java/org/apache/phoenix/filter/RowKeyComparisonFilter.java    | 4 ++--
 .../apache/phoenix/filter/SingleCFCQKeyValueComparisonFilter.java | 4 ++--
 .../apache/phoenix/filter/SingleCQKeyValueComparisonFilter.java   | 4 ++--
 .../org/apache/phoenix/filter/SingleKeyValueComparisonFilter.java | 4 ++--
 .../src/main/java/org/apache/phoenix/filter/SkipScanFilter.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/index/BaseIndexCodec.java    | 2 +-
 .../src/main/java/org/apache/phoenix/index/IndexMaintainer.java   | 4 ++--
 .../java/org/apache/phoenix/index/IndexMetaDataCacheClient.java   | 2 +-
 .../java/org/apache/phoenix/index/IndexMetaDataCacheFactory.java  | 2 +-
 .../main/java/org/apache/phoenix/index/PhoenixIndexBuilder.java   | 2 +-
 .../src/main/java/org/apache/phoenix/index/PhoenixIndexCodec.java | 2 +-
 .../java/org/apache/phoenix/index/PhoenixIndexFailurePolicy.java  | 4 ++--
 .../org/apache/phoenix/iterate/AggregatingResultIterator.java     | 4 ++--
 .../main/java/org/apache/phoenix/iterate/BaseResultIterator.java  | 4 ++--
 .../java/org/apache/phoenix/iterate/ConcatResultIterator.java     | 4 ++--
 .../phoenix/iterate/DefaultParallelIteratorRegionSplitter.java    | 6 +++---
 .../java/org/apache/phoenix/iterate/DelegateResultIterator.java   | 2 +-
 .../apache/phoenix/iterate/DistinctAggregatingResultIterator.java | 4 ++--
 .../src/main/java/org/apache/phoenix/iterate/ExplainTable.java    | 2 +-
 .../apache/phoenix/iterate/FilterAggregatingResultIterator.java   | 4 ++--
 .../java/org/apache/phoenix/iterate/FilterResultIterator.java     | 4 ++--
 .../apache/phoenix/iterate/GroupedAggregatingResultIterator.java  | 4 ++--
 .../java/org/apache/phoenix/iterate/LimitingResultIterator.java   | 4 ++--
 .../java/org/apache/phoenix/iterate/LookAheadResultIterator.java  | 2 +-
 .../org/apache/phoenix/iterate/MappedByteBufferSortedQueue.java   | 2 +-
 .../org/apache/phoenix/iterate/MaterializedResultIterator.java    | 4 ++--
 .../java/org/apache/phoenix/iterate/MergeSortResultIterator.java  | 4 ++--
 .../org/apache/phoenix/iterate/MergeSortRowKeyResultIterator.java | 4 ++--
 .../org/apache/phoenix/iterate/MergeSortTopNResultIterator.java   | 4 ++--
 .../apache/phoenix/iterate/OrderedAggregatingResultIterator.java  | 4 ++--
 .../java/org/apache/phoenix/iterate/OrderedResultIterator.java    | 4 ++--
 .../apache/phoenix/iterate/ParallelIteratorRegionSplitter.java    | 4 ++--
 .../phoenix/iterate/ParallelIteratorRegionSplitterFactory.java    | 2 +-
 .../main/java/org/apache/phoenix/iterate/ParallelIterators.java   | 4 ++--
 .../java/org/apache/phoenix/iterate/PeekingResultIterator.java    | 4 ++--
 .../org/apache/phoenix/iterate/RegionScannerResultIterator.java   | 2 +-
 .../src/main/java/org/apache/phoenix/iterate/ResultIterator.java  | 2 +-
 .../src/main/java/org/apache/phoenix/iterate/ResultIterators.java | 2 +-
 .../java/org/apache/phoenix/iterate/ScanningResultIterator.java   | 2 +-
 .../java/org/apache/phoenix/iterate/SequenceResultIterator.java   | 4 ++--
 .../phoenix/iterate/SkipRangeParallelIteratorRegionSplitter.java  | 2 +-
 .../org/apache/phoenix/iterate/SpoolTooBigToDiskException.java    | 2 +-
 .../java/org/apache/phoenix/iterate/SpoolingResultIterator.java   | 8 ++++----
 .../main/java/org/apache/phoenix/iterate/TableResultIterator.java | 4 ++--
 .../phoenix/iterate/UngroupedAggregatingResultIterator.java       | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/jdbc/Jdbc7Shim.java | 2 +-
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixConnection.java  | 4 ++--
 .../java/org/apache/phoenix/jdbc/PhoenixDatabaseMetaData.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixDriver.java      | 4 ++--
 .../main/java/org/apache/phoenix/jdbc/PhoenixEmbeddedDriver.java  | 6 +++---
 .../java/org/apache/phoenix/jdbc/PhoenixParameterMetaData.java    | 4 ++--
 .../java/org/apache/phoenix/jdbc/PhoenixPreparedStatement.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixResultSet.java   | 4 ++--
 .../java/org/apache/phoenix/jdbc/PhoenixResultSetMetaData.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/jdbc/PhoenixStatement.java   | 4 ++--
 .../java/org/apache/phoenix/jdbc/PhoenixStatementFactory.java     | 2 +-
 .../main/java/org/apache/phoenix/job/AbstractRoundRobinQueue.java | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/job/JobManager.java | 4 ++--
 .../src/main/java/org/apache/phoenix/join/HashCacheClient.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/join/HashCacheFactory.java   | 2 +-
 .../src/main/java/org/apache/phoenix/join/HashJoinInfo.java       | 2 +-
 .../apache/phoenix/join/MaxServerCacheSizeExceededException.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/join/ScanProjector.java      | 2 +-
 .../main/java/org/apache/phoenix/map/reduce/CSVBulkLoader.java    | 2 +-
 .../src/main/java/org/apache/phoenix/map/reduce/MapReduceJob.java | 2 +-
 .../java/org/apache/phoenix/map/reduce/util/ConfigReader.java     | 2 +-
 .../main/java/org/apache/phoenix/memory/ChildMemoryManager.java   | 4 ++--
 .../java/org/apache/phoenix/memory/DelegatingMemoryManager.java   | 4 ++--
 .../main/java/org/apache/phoenix/memory/GlobalMemoryManager.java  | 4 ++--
 .../org/apache/phoenix/memory/InsufficientMemoryException.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/memory/MemoryManager.java    | 6 +++---
 .../main/java/org/apache/phoenix/parse/AddColumnStatement.java    | 2 +-
 .../src/main/java/org/apache/phoenix/parse/AddParseNode.java      | 4 ++--
 .../java/org/apache/phoenix/parse/AggregateFunctionParseNode.java | 2 +-
 .../src/main/java/org/apache/phoenix/parse/AliasedNode.java       | 4 ++--
 .../main/java/org/apache/phoenix/parse/AlterIndexStatement.java   | 2 +-
 .../main/java/org/apache/phoenix/parse/AlterTableStatement.java   | 2 +-
 .../src/main/java/org/apache/phoenix/parse/AndParseNode.java      | 4 ++--
 .../main/java/org/apache/phoenix/parse/ArithmeticParseNode.java   | 2 +-
 .../main/java/org/apache/phoenix/parse/ArrayConstructorNode.java  | 2 +-
 .../main/java/org/apache/phoenix/parse/AvgAggregateParseNode.java | 2 +-
 .../main/java/org/apache/phoenix/parse/BaseParseNodeVisitor.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/BetweenParseNode.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/BinaryParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/BindParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/BindTableNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/BindableStatement.java | 2 +-
 .../src/main/java/org/apache/phoenix/parse/CaseParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/CastParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/CeilParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ColumnDef.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ColumnFamilyDef.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ColumnName.java        | 2 +-
 .../src/main/java/org/apache/phoenix/parse/ColumnParseNode.java   | 4 ++--
 .../main/java/org/apache/phoenix/parse/ComparisonParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/CompoundParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ConcreteTableNode.java | 4 ++--
 .../main/java/org/apache/phoenix/parse/CreateIndexStatement.java  | 2 +-
 .../java/org/apache/phoenix/parse/CreateSequenceStatement.java    | 2 +-
 .../main/java/org/apache/phoenix/parse/CreateTableStatement.java  | 2 +-
 .../main/java/org/apache/phoenix/parse/CurrentDateParseNode.java  | 2 +-
 .../main/java/org/apache/phoenix/parse/CurrentTimeParseNode.java  | 2 +-
 .../apache/phoenix/parse/DelegateConstantToCountParseNode.java    | 2 +-
 .../src/main/java/org/apache/phoenix/parse/DeleteStatement.java   | 2 +-
 .../src/main/java/org/apache/phoenix/parse/DerivedTableNode.java  | 4 ++--
 .../java/org/apache/phoenix/parse/DistinctCountParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/DivideParseNode.java   | 4 ++--
 .../main/java/org/apache/phoenix/parse/DropColumnStatement.java   | 2 +-
 .../main/java/org/apache/phoenix/parse/DropIndexStatement.java    | 2 +-
 .../main/java/org/apache/phoenix/parse/DropSequenceStatement.java | 2 +-
 .../main/java/org/apache/phoenix/parse/DropTableStatement.java    | 2 +-
 .../src/main/java/org/apache/phoenix/parse/EqualParseNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ExistsParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ExplainStatement.java  | 2 +-
 .../java/org/apache/phoenix/parse/FamilyWildcardParseNode.java    | 4 ++--
 .../main/java/org/apache/phoenix/parse/FilterableStatement.java   | 2 +-
 .../src/main/java/org/apache/phoenix/parse/FloorParseNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/FunctionParseNode.java | 4 ++--
 .../org/apache/phoenix/parse/GreaterThanOrEqualParseNode.java     | 4 ++--
 .../main/java/org/apache/phoenix/parse/GreaterThanParseNode.java  | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/parse/HintNode.java | 2 +-
 .../src/main/java/org/apache/phoenix/parse/InListParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/InParseNode.java       | 4 ++--
 .../main/java/org/apache/phoenix/parse/IndexKeyConstraint.java    | 2 +-
 .../src/main/java/org/apache/phoenix/parse/IsNullParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/JoinTableNode.java     | 4 ++--
 .../java/org/apache/phoenix/parse/LessThanOrEqualParseNode.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/LessThanParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/LikeParseNode.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/LimitNode.java         | 2 +-
 .../src/main/java/org/apache/phoenix/parse/LiteralParseNode.java  | 4 ++--
 .../main/java/org/apache/phoenix/parse/MaxAggregateParseNode.java | 2 +-
 .../main/java/org/apache/phoenix/parse/MinAggregateParseNode.java | 2 +-
 .../src/main/java/org/apache/phoenix/parse/MultiplyParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/NamedParseNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/NamedTableNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/NotEqualParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/NotParseNode.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/OrParseNode.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/OrderByNode.java       | 4 ++--
 .../main/java/org/apache/phoenix/parse/OuterJoinParseNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ParseContext.java      | 2 +-
 .../src/main/java/org/apache/phoenix/parse/ParseException.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ParseNode.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ParseNodeFactory.java  | 6 +++---
 .../src/main/java/org/apache/phoenix/parse/ParseNodeRewriter.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ParseNodeVisitor.java  | 4 ++--
 .../main/java/org/apache/phoenix/parse/PrimaryKeyConstraint.java  | 2 +-
 .../src/main/java/org/apache/phoenix/parse/RoundParseNode.java    | 4 ++--
 .../org/apache/phoenix/parse/RowValueConstructorParseNode.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/SQLParser.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/SelectStatement.java   | 4 ++--
 .../java/org/apache/phoenix/parse/SelectStatementRewriter.java    | 4 ++--
 .../java/org/apache/phoenix/parse/SingleTableSQLStatement.java    | 2 +-
 .../main/java/org/apache/phoenix/parse/StringConcatParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/SubqueryParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/SubtractParseNode.java | 4 ++--
 .../main/java/org/apache/phoenix/parse/SumAggregateParseNode.java | 2 +-
 .../src/main/java/org/apache/phoenix/parse/TableName.java         | 2 +-
 .../src/main/java/org/apache/phoenix/parse/TableNode.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/TableNodeVisitor.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/TerminalParseNode.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/ToCharParseNode.java   | 2 +-
 .../src/main/java/org/apache/phoenix/parse/ToDateParseNode.java   | 2 +-
 .../org/apache/phoenix/parse/TraverseAllParseNodeVisitor.java     | 4 ++--
 .../java/org/apache/phoenix/parse/TraverseNoParseNodeVisitor.java | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/UnaryParseNode.java    | 4 ++--
 .../org/apache/phoenix/parse/UnsupportedAllParseNodeVisitor.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/parse/UpsertStatement.java   | 2 +-
 .../src/main/java/org/apache/phoenix/parse/WildcardParseNode.java | 4 ++--
 .../main/java/org/apache/phoenix/query/BaseQueryServicesImpl.java | 4 ++--
 .../main/java/org/apache/phoenix/query/ChildQueryServices.java    | 4 ++--
 .../main/java/org/apache/phoenix/query/ConfigurationFactory.java  | 4 ++--
 .../java/org/apache/phoenix/query/ConnectionQueryServices.java    | 2 +-
 .../org/apache/phoenix/query/ConnectionQueryServicesImpl.java     | 2 +-
 .../org/apache/phoenix/query/ConnectionlessQueryServicesImpl.java | 4 ++--
 .../org/apache/phoenix/query/DelegateConnectionQueryServices.java | 2 +-
 .../main/java/org/apache/phoenix/query/DelegateQueryServices.java | 4 ++--
 .../main/java/org/apache/phoenix/query/HBaseFactoryProvider.java  | 4 ++--
 .../main/java/org/apache/phoenix/query/HConnectionFactory.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/query/HTableFactory.java     | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/query/KeyRange.java | 4 ++--
 .../src/main/java/org/apache/phoenix/query/MetaDataMutated.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/query/QueryConstants.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/query/QueryServices.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/query/QueryServicesImpl.java | 4 ++--
 .../main/java/org/apache/phoenix/query/QueryServicesOptions.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/query/StatsManager.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/query/StatsManagerImpl.java  | 4 ++--
 .../java/org/apache/phoenix/schema/AmbiguousColumnException.java  | 4 ++--
 .../java/org/apache/phoenix/schema/AmbiguousTableException.java   | 4 ++--
 .../org/apache/phoenix/schema/ArgumentTypeMismatchException.java  | 4 ++--
 .../org/apache/phoenix/schema/ColumnAlreadyExistsException.java   | 4 ++--
 .../org/apache/phoenix/schema/ColumnFamilyNotFoundException.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/ColumnModifier.java   | 4 ++--
 .../java/org/apache/phoenix/schema/ColumnNotFoundException.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/ColumnRef.java        | 4 ++--
 .../apache/phoenix/schema/ConcurrentTableMutationException.java   | 2 +-
 .../org/apache/phoenix/schema/ConstraintViolationException.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/DelegateColumn.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/DelegateDatum.java    | 2 +-
 .../apache/phoenix/schema/ExecuteQueryNotApplicableException.java | 2 +-
 .../phoenix/schema/ExecuteUpdateNotApplicableException.java       | 2 +-
 .../main/java/org/apache/phoenix/schema/IllegalDataException.java | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/KeyValueSchema.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java   | 2 +-
 .../apache/phoenix/schema/MetaDataEntityNotFoundException.java    | 2 +-
 .../main/java/org/apache/phoenix/schema/MetaDataSplitPolicy.java  | 2 +-
 .../apache/phoenix/schema/NewerTableAlreadyExistsException.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PArrayDataType.java   | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PBaseColumn.java      | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/schema/PColumn.java | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PColumnFamily.java    | 4 ++--
 .../main/java/org/apache/phoenix/schema/PColumnFamilyImpl.java    | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PColumnImpl.java      | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PDataType.java        | 6 +++---
 .../src/main/java/org/apache/phoenix/schema/PDateColumn.java      | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PDatum.java  | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PIndexState.java      | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PIntegerColumn.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PLongColumn.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PMetaData.java        | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PMetaDataImpl.java    | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PName.java   | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PNormalizedName.java  | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/schema/PRow.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PStringColumn.java    | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/schema/PTable.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/PTableImpl.java       | 6 +++---
 .../src/main/java/org/apache/phoenix/schema/PTableType.java       | 2 +-
 .../src/main/java/org/apache/phoenix/schema/PhoenixArray.java     | 2 +-
 .../java/org/apache/phoenix/schema/ReadOnlyTableException.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/RowKeySchema.java     | 4 ++--
 .../main/java/org/apache/phoenix/schema/RowKeyValueAccessor.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/SaltingUtil.java      | 2 +-
 .../org/apache/phoenix/schema/SequenceAlreadyExistsException.java | 2 +-
 .../src/main/java/org/apache/phoenix/schema/SequenceKey.java      | 2 +-
 .../java/org/apache/phoenix/schema/SequenceNotFoundException.java | 2 +-
 .../org/apache/phoenix/schema/TableAlreadyExistsException.java    | 4 ++--
 .../java/org/apache/phoenix/schema/TableNotFoundException.java    | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/TableRef.java         | 2 +-
 .../java/org/apache/phoenix/schema/TypeMismatchException.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/ValueBitSet.java      | 4 ++--
 .../main/java/org/apache/phoenix/schema/ValueRangeExcpetion.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/ValueSchema.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/schema/stat/PTableStats.java | 2 +-
 .../main/java/org/apache/phoenix/schema/stat/PTableStatsImpl.java | 2 +-
 .../java/org/apache/phoenix/schema/tuple/MultiKeyValueTuple.java  | 2 +-
 .../main/java/org/apache/phoenix/schema/tuple/ResultTuple.java    | 2 +-
 .../java/org/apache/phoenix/schema/tuple/SingleKeyValueTuple.java | 2 +-
 .../src/main/java/org/apache/phoenix/schema/tuple/Tuple.java      | 4 ++--
 .../src/main/java/org/apache/phoenix/util/BigDecimalUtil.java     | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/util/BitSet.java    | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/ByteUtil.java  | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/util/CSVLoader.java | 4 ++--
 .../src/main/java/org/apache/phoenix/util/Closeables.java         | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/DateUtil.java  | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/IndexUtil.java | 2 +-
 .../src/main/java/org/apache/phoenix/util/InstanceResolver.java   | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/util/JDBCUtil.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/util/KeyValueUtil.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/util/MetaDataUtil.java       | 2 +-
 .../src/main/java/org/apache/phoenix/util/NumberUtil.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/util/PhoenixRuntime.java     | 4 ++--
 .../src/main/java/org/apache/phoenix/util/ReadOnlyProps.java      | 2 +-
 .../src/main/java/org/apache/phoenix/util/ResultUtil.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/util/SQLCloseable.java       | 4 ++--
 .../src/main/java/org/apache/phoenix/util/SQLCloseables.java      | 6 +++---
 phoenix-core/src/main/java/org/apache/phoenix/util/ScanUtil.java  | 4 ++--
 .../src/main/java/org/apache/phoenix/util/SchemaUtil.java         | 4 ++--
 .../src/main/java/org/apache/phoenix/util/ServerUtil.java         | 2 +-
 phoenix-core/src/main/java/org/apache/phoenix/util/SizedUtil.java | 2 +-
 .../src/main/java/org/apache/phoenix/util/StringUtil.java         | 2 +-
 .../org/apache/phoenix/util/TrustedByteArrayOutputStream.java     | 4 ++--
 phoenix-core/src/main/java/org/apache/phoenix/util/TupleUtil.java | 4 ++--
 .../java/org/apache/hadoop/hbase/index/IndexTestingUtils.java     | 2 +-
 .../test/java/org/apache/hadoop/hbase/index/StubAbortable.java    | 2 +-
 .../src/test/java/org/apache/hadoop/hbase/index/TableName.java    | 2 +-
 .../hadoop/hbase/index/TestFailForUnsupportedHBaseVersions.java   | 2 +-
 .../hadoop/hbase/index/covered/CoveredIndexCodecForTesting.java   | 2 +-
 .../org/apache/hadoop/hbase/index/covered/TestCoveredColumns.java | 2 +-
 .../index/covered/TestEndToEndCoveredColumnsIndexBuilder.java     | 2 +-
 .../apache/hadoop/hbase/index/covered/TestLocalTableState.java    | 2 +-
 .../apache/hadoop/hbase/index/covered/data/TestIndexMemStore.java | 2 +-
 .../hadoop/hbase/index/covered/example/TestColumnTracker.java     | 2 +-
 .../hbase/index/covered/example/TestCoveredColumnIndexCodec.java  | 2 +-
 .../index/covered/example/TestCoveredIndexSpecifierBuilder.java   | 2 +-
 .../hbase/index/covered/example/TestEndToEndCoveredIndexing.java  | 2 +-
 .../covered/example/TestEndtoEndIndexingWithCompression.java      | 2 +-
 .../hbase/index/covered/example/TestFailWithoutRetries.java       | 2 +-
 .../index/covered/filter/TestApplyAndFilterDeletesFilter.java     | 2 +-
 .../hadoop/hbase/index/covered/filter/TestFamilyOnlyFilter.java   | 2 +-
 .../hbase/index/covered/filter/TestNewerTimestampFilter.java      | 2 +-
 .../hadoop/hbase/index/covered/update/TestIndexUpdateManager.java | 2 +-
 .../apache/hadoop/hbase/index/parallel/TestThreadPoolBuilder.java | 2 +-
 .../apache/hadoop/hbase/index/parallel/TestThreadPoolManager.java | 2 +-
 .../apache/hadoop/hbase/index/util/TestIndexManagementUtil.java   | 2 +-
 .../apache/hadoop/hbase/index/write/TestCachingHTableFactory.java | 2 +-
 .../java/org/apache/hadoop/hbase/index/write/TestIndexWriter.java | 2 +-
 .../apache/hadoop/hbase/index/write/TestParalleIndexWriter.java   | 2 +-
 .../hadoop/hbase/index/write/TestParalleWriterIndexCommitter.java | 2 +-
 .../apache/hadoop/hbase/index/write/TestWALRecoveryCaching.java   | 2 +-
 .../hbase/index/write/recovery/TestPerRegionIndexWriteCache.java  | 2 +-
 .../org/apache/phoenix/arithmetic/ArithmeticOperationTest.java    | 2 +-
 .../test/java/org/apache/phoenix/client/TestClientKeyValue.java   | 2 +-
 .../test/java/org/apache/phoenix/compile/HavingClauseTest.java    | 2 +-
 .../java/org/apache/phoenix/compile/JoinQueryCompileTest.java     | 2 +-
 .../src/test/java/org/apache/phoenix/compile/LimitClauseTest.java | 2 +-
 .../test/java/org/apache/phoenix/compile/QueryCompileTest.java    | 4 ++--
 .../test/java/org/apache/phoenix/compile/QueryMetaDataTest.java   | 4 ++--
 .../test/java/org/apache/phoenix/compile/QueryOptimizerTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/compile/ScanRangesTest.java  | 2 +-
 .../org/apache/phoenix/compile/SelectStatementRewriterTest.java   | 2 +-
 .../org/apache/phoenix/compile/StatementHintsCompilationTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/compile/ViewCompileTest.java | 2 +-
 .../java/org/apache/phoenix/compile/WhereClauseCompileTest.java   | 2 +-
 .../java/org/apache/phoenix/compile/WhereClauseOptimizerTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/AlterTableTest.java  | 2 +-
 .../test/java/org/apache/phoenix/end2end/ArithmeticQueryTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/ArrayTest.java       | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/AutoCommitTest.java  | 2 +-
 .../org/apache/phoenix/end2end/BaseClientManagedTimeTest.java     | 4 ++--
 .../java/org/apache/phoenix/end2end/BaseConnectedQueryTest.java   | 4 ++--
 .../java/org/apache/phoenix/end2end/BaseHBaseManagedTimeTest.java | 4 ++--
 .../org/apache/phoenix/end2end/BaseTenantSpecificTablesTest.java  | 4 ++--
 .../test/java/org/apache/phoenix/end2end/BinaryRowKeyTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/CSVLoaderTest.java   | 2 +-
 .../java/org/apache/phoenix/end2end/CoalesceFunctionTest.java     | 2 +-
 .../java/org/apache/phoenix/end2end/CompareDecimalToLongTest.java | 2 +-
 .../apache/phoenix/end2end/ConnectionQueryServicesTestImpl.java   | 4 ++--
 .../src/test/java/org/apache/phoenix/end2end/CreateTableTest.java | 2 +-
 .../java/org/apache/phoenix/end2end/CustomEntityDataTest.java     | 2 +-
 .../end2end/DefaultParallelIteratorsRegionSplitterTest.java       | 4 ++--
 .../src/test/java/org/apache/phoenix/end2end/DeleteTest.java      | 2 +-
 .../java/org/apache/phoenix/end2end/DescColumnSortOrderTest.java  | 4 ++--
 .../test/java/org/apache/phoenix/end2end/DistinctCountTest.java   | 2 +-
 .../test/java/org/apache/phoenix/end2end/DynamicColumnTest.java   | 4 ++--
 .../test/java/org/apache/phoenix/end2end/DynamicFamilyTest.java   | 4 ++--
 .../test/java/org/apache/phoenix/end2end/DynamicUpsertTest.java   | 4 ++--
 .../java/org/apache/phoenix/end2end/ExecuteStatementsTest.java    | 2 +-
 .../java/org/apache/phoenix/end2end/ExtendedQueryExecTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/FunkyNamesTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/GroupByCaseTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/HashJoinTest.java    | 2 +-
 .../test/java/org/apache/phoenix/end2end/InMemoryOrderByTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/IsNullTest.java      | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/KeyOnlyTest.java     | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/MD5FunctionTest.java | 2 +-
 .../java/org/apache/phoenix/end2end/MultiCfQueryExecTest.java     | 2 +-
 .../java/org/apache/phoenix/end2end/NativeHBaseTypesTest.java     | 4 ++--
 .../src/test/java/org/apache/phoenix/end2end/OrderByTest.java     | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/PercentileTest.java  | 2 +-
 .../test/java/org/apache/phoenix/end2end/ProductMetricsTest.java  | 2 +-
 .../org/apache/phoenix/end2end/QueryDatabaseMetaDataTest.java     | 2 +-
 .../java/org/apache/phoenix/end2end/QueryExecWithoutSCNTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/QueryPlanTest.java   | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/QueryTest.java       | 4 ++--
 .../java/org/apache/phoenix/end2end/ReadIsolationLevelTest.java   | 2 +-
 .../test/java/org/apache/phoenix/end2end/ReverseFunctionTest.java | 2 +-
 .../phoenix/end2end/RoundFloorCeilFunctionsEnd2EndTest.java       | 4 ++--
 .../java/org/apache/phoenix/end2end/RowValueConstructorTest.java  | 2 +-
 .../test/java/org/apache/phoenix/end2end/ServerExceptionTest.java | 2 +-
 .../end2end/SkipRangeParallelIteratorRegionSplitterTest.java      | 2 +-
 .../test/java/org/apache/phoenix/end2end/SkipScanQueryTest.java   | 2 +-
 .../java/org/apache/phoenix/end2end/SpillableGroupByTest.java     | 2 +-
 .../test/java/org/apache/phoenix/end2end/SpooledOrderByTest.java  | 2 +-
 .../test/java/org/apache/phoenix/end2end/StatementHintsTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/StddevTest.java      | 2 +-
 .../org/apache/phoenix/end2end/TenantSpecificTablesDDLTest.java   | 2 +-
 .../org/apache/phoenix/end2end/TenantSpecificTablesDMLTest.java   | 4 ++--
 .../test/java/org/apache/phoenix/end2end/ToCharFunctionTest.java  | 4 ++--
 .../java/org/apache/phoenix/end2end/ToNumberFunctionTest.java     | 4 ++--
 .../src/test/java/org/apache/phoenix/end2end/TopNTest.java        | 2 +-
 .../test/java/org/apache/phoenix/end2end/UpsertBigValuesTest.java | 2 +-
 .../org/apache/phoenix/end2end/UpsertSelectAutoCommitTest.java    | 2 +-
 .../test/java/org/apache/phoenix/end2end/UpsertSelectTest.java    | 2 +-
 .../test/java/org/apache/phoenix/end2end/UpsertValuesTest.java    | 2 +-
 .../java/org/apache/phoenix/end2end/VariableLengthPKTest.java     | 2 +-
 .../src/test/java/org/apache/phoenix/end2end/ViewTest.java        | 2 +-
 .../test/java/org/apache/phoenix/end2end/index/BaseIndexTest.java | 2 +-
 .../org/apache/phoenix/end2end/index/BaseMutableIndexTest.java    | 2 +-
 .../test/java/org/apache/phoenix/end2end/index/DropViewTest.java  | 2 +-
 .../java/org/apache/phoenix/end2end/index/ImmutableIndexTest.java | 2 +-
 .../java/org/apache/phoenix/end2end/index/IndexMetadataTest.java  | 2 +-
 .../test/java/org/apache/phoenix/end2end/index/IndexTestUtil.java | 2 +-
 .../org/apache/phoenix/end2end/index/MutableIndexFailureTest.java | 4 ++--
 .../java/org/apache/phoenix/end2end/index/MutableIndexTest.java   | 2 +-
 .../java/org/apache/phoenix/end2end/index/SaltedIndexTest.java    | 2 +-
 .../java/org/apache/phoenix/end2end/salted/SaltedTableTest.java   | 2 +-
 .../java/org/apache/phoenix/expression/CoerceExpressionTest.java  | 4 ++--
 .../java/org/apache/phoenix/expression/ColumnExpressionTest.java  | 2 +-
 .../phoenix/expression/DescColumnSortOrderExpressionTest.java     | 4 ++--
 .../java/org/apache/phoenix/expression/LikeExpressionTest.java    | 2 +-
 .../phoenix/expression/RoundFloorCeilExpressionsUnitTests.java    | 4 ++--
 .../org/apache/phoenix/filter/SkipScanFilterIntersectTest.java    | 2 +-
 .../org/apache/phoenix/iterate/AggregateResultScannerTest.java    | 2 +-
 .../java/org/apache/phoenix/iterate/ConcatResultIteratorTest.java | 2 +-
 .../org/apache/phoenix/iterate/MergeSortResultIteratorTest.java   | 2 +-
 .../org/apache/phoenix/iterate/SpoolingResultIteratorTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/jdbc/PhoenixTestDriver.java  | 4 ++--
 .../src/test/java/org/apache/phoenix/logging/PerformanceLog.java  | 4 ++--
 .../test/java/org/apache/phoenix/memory/MemoryManagerTest.java    | 4 ++--
 .../src/test/java/org/apache/phoenix/parse/QueryParserTest.java   | 2 +-
 .../org/apache/phoenix/query/BaseConnectionlessQueryTest.java     | 2 +-
 phoenix-core/src/test/java/org/apache/phoenix/query/BaseTest.java | 2 +-
 .../java/org/apache/phoenix/query/ConnectionlessUpsertTest.java   | 2 +-
 .../java/org/apache/phoenix/query/HBaseFactoryProviderTest.java   | 2 +-
 .../test/java/org/apache/phoenix/query/QueryServicesTestImpl.java | 4 ++--
 .../java/org/apache/phoenix/schema/PDataTypeForArraysTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/schema/PDataTypeTest.java    | 2 +-
 .../src/test/java/org/apache/phoenix/schema/SchemaUtilTest.java   | 2 +-
 .../src/test/java/org/apache/phoenix/schema/ValueBitSetTest.java  | 2 +-
 .../src/test/java/org/apache/phoenix/util/AssertResults.java      | 6 +++---
 .../src/test/java/org/apache/phoenix/util/ByteUtilTest.java       | 2 +-
 .../src/test/java/org/apache/phoenix/util/DateUtilTest.java       | 4 ++--
 .../java/org/apache/phoenix/util/GeneratePerformanceData.java     | 2 +-
 .../src/test/java/org/apache/phoenix/util/LikeExpressionTest.java | 2 +-
 .../src/test/java/org/apache/phoenix/util/MetaDataUtilTest.java   | 2 +-
 .../src/test/java/org/apache/phoenix/util/ScanUtilTest.java       | 2 +-
 phoenix-core/src/test/java/org/apache/phoenix/util/TestUtil.java  | 2 +-
 .../main/java/org/apache/phoenix/flume/DefaultKeyGenerator.java   | 2 +-
 .../src/main/java/org/apache/phoenix/flume/FlumeConstants.java    | 2 +-
 .../src/main/java/org/apache/phoenix/flume/KeyGenerator.java      | 2 +-
 .../src/main/java/org/apache/phoenix/flume/SchemaHandler.java     | 2 +-
 .../org/apache/phoenix/flume/serializer/BaseEventSerializer.java  | 2 +-
 .../java/org/apache/phoenix/flume/serializer/EventSerializer.java | 2 +-
 .../org/apache/phoenix/flume/serializer/EventSerializers.java     | 2 +-
 .../org/apache/phoenix/flume/serializer/RegexEventSerializer.java | 2 +-
 .../src/main/java/org/apache/phoenix/flume/sink/PhoenixSink.java  | 2 +-
 .../src/test/java/org/apache/phoenix/flume/TestPhoenixSink.java   | 2 +-
 .../java/org/apache/phoenix/flume/TestRegexEventSerializer.java   | 2 +-
 .../src/main/java/org/apache/phoenix/pig/PhoenixHBaseStorage.java | 4 ++--
 .../main/java/org/apache/phoenix/pig/PhoenixPigConfiguration.java | 4 ++--
 phoenix-pig/src/main/java/org/apache/phoenix/pig/TypeUtil.java    | 2 +-
 .../org/apache/phoenix/pig/hadoop/PhoenixOutputCommitter.java     | 4 ++--
 .../java/org/apache/phoenix/pig/hadoop/PhoenixOutputFormat.java   | 4 ++--
 .../main/java/org/apache/phoenix/pig/hadoop/PhoenixRecord.java    | 4 ++--
 .../java/org/apache/phoenix/pig/hadoop/PhoenixRecordWriter.java   | 4 ++--
 698 files changed, 1062 insertions(+), 1062 deletions(-)

commit 611e0703e4eddc8bbb1945459bc0411567cedd3a
Merge: 2ac6f750c 1ef5ecc98
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Feb 6 01:22:44 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 2ac6f750c4dc36699bf5f7a231abea94422fbfaf
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Feb 6 01:22:30 2014 -0800

    Fix RVC evaluation for equality

 .../apache/phoenix/compile/ExpressionCompiler.java | 263 ++-------------------
 .../org/apache/phoenix/compile/JoinCompiler.java   |   2 +-
 .../apache/phoenix/expression/AndExpression.java   |  29 +++
 .../phoenix/expression/ComparisonExpression.java   | 217 ++++++++++++++++-
 .../phoenix/expression/InListExpression.java       |  27 ++-
 .../phoenix/expression/IsNullExpression.java       |  19 +-
 .../apache/phoenix/expression/NotExpression.java   |  19 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  69 ------
 .../java/org/apache/phoenix/util/TestUtil.java     |   4 +-
 9 files changed, 319 insertions(+), 330 deletions(-)

commit 1ef5ecc98925dcdd0ec02dbc9a3648b47b42c69a
Author: maryannxue <maryannxue@apache.org>
Date:   Wed Feb 5 17:27:19 2014 -0500

    Improve optimization of join queries with group-by and order-by

 .../org/apache/phoenix/compile/JoinCompiler.java   |  58 +++-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 374 ++++++++++++++++++++-
 2 files changed, 412 insertions(+), 20 deletions(-)

commit c2a7b2341fb4bc6249f23066ca707e17d0956623
Author: Mujtaba <mujtaba@apache.org>
Date:   Wed Feb 5 12:35:53 2014 -0800

    Test to repro ArrayIndexOutOfBoundsException on query with in clause on indexed table

 .../phoenix/end2end/index/MutableIndexTest.java       | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 974ad584b0aef1fcb2f946961c7538c0f012794b
Merge: 4e2398404 ff1c1af6f
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Wed Feb 5 11:19:27 2014 +0530

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 4e2398404f5672df4f1160099f3d9a4a681c8445
Author: anoopsjohn <anoopsamjohn@gmail.com>
Date:   Wed Feb 5 11:16:58 2014 +0530

    PHOENIX-18 Distinct based aggregations not working correctly when query contains ORDER BY.(Anoop)

 .../aggregator/BaseDecimalStddevAggregator.java    | 21 ++----
 .../aggregator/BaseStddevAggregator.java           | 14 +---
 .../aggregator/DistinctCountClientAggregator.java  | 12 ++--
 .../DistinctValueWithCountClientAggregator.java    | 80 ++++++++++++----------
 .../aggregator/PercentRankClientAggregator.java    | 12 +---
 .../aggregator/PercentileClientAggregator.java     | 12 +---
 .../aggregator/PercentileDiscClientAggregator.java | 16 ++---
 .../apache/phoenix/end2end/DistinctCountTest.java  | 63 ++++++++++++++++-
 .../org/apache/phoenix/end2end/PercentileTest.java | 72 ++++++++++++++++++-
 9 files changed, 201 insertions(+), 101 deletions(-)

commit ff1c1af6f5a5f6fb64c09e71fc89b5191d455e85
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 4 19:20:38 2014 -0800

    Fix explain plan for detection of lookup, use RVC with IN for delete columns, normalize single element IN to equality, correctly detect null value in RVC during parse time

 .../org/apache/phoenix/compile/DeleteCompiler.java | 10 ++--
 .../apache/phoenix/compile/ExpressionCompiler.java |  6 +--
 .../org/apache/phoenix/compile/ScanRanges.java     |  6 +++
 .../org/apache/phoenix/compile/WhereOptimizer.java |  6 +--
 .../phoenix/expression/InListExpression.java       | 22 +++++---
 .../org/apache/phoenix/iterate/ExplainTable.java   | 33 ++++++------
 .../org/apache/phoenix/parse/LiteralParseNode.java |  4 +-
 .../apache/phoenix/parse/ParseNodeRewriter.java    | 37 +++++++++-----
 .../org/apache/phoenix/schema/MetaDataClient.java  | 59 ++++++++--------------
 .../java/org/apache/phoenix/schema/PDataType.java  | 18 ++++---
 .../phoenix/end2end/RowValueConstructorTest.java   |  9 ++--
 .../phoenix/end2end/index/SaltedIndexTest.java     |  6 ++-
 .../java/org/apache/phoenix/util/TestUtil.java     |  8 +--
 13 files changed, 115 insertions(+), 109 deletions(-)

commit 47707a7a782da180f5b953c21d1e509957a9a877
Merge: c3bb6943b d3f2b65ce
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Feb 4 19:39:51 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit c3bb6943b5e1beb2e821ebccab62e6c619f4e3d5
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Feb 4 19:39:27 2014 -0500

    Fix join query does not work with case-sensitive tables; Fix column labels in wild-card select after being index-optimized; Fix BaseConnectedQueryTest.dropPriorTables() failure with case-sensitive tables

 .../phoenix/compile/IndexStatementRewriter.java    |  11 +-
 .../org/apache/phoenix/compile/JoinCompiler.java   |  75 +++--
 .../org/apache/phoenix/compile/QueryCompiler.java  |   9 +-
 .../phoenix/compile/StatementNormalizer.java       |   5 +-
 .../apache/phoenix/coprocessor/ScanProjector.java  | 202 -------------
 .../org/apache/phoenix/parse/BindTableNode.java    |  11 +-
 .../apache/phoenix/parse/ConcreteTableNode.java    |   7 +-
 .../org/apache/phoenix/parse/JoinTableNode.java    |   3 +-
 .../org/apache/phoenix/parse/NamedTableNode.java   |  13 +-
 .../java/org/apache/phoenix/parse/TableNode.java   |  11 +
 .../phoenix/compile/JoinQueryCompileTest.java      |  28 +-
 .../phoenix/end2end/BaseConnectedQueryTest.java    |   4 +-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 331 ++++++++++-----------
 .../java/org/apache/phoenix/query/BaseTest.java    |  22 +-
 .../java/org/apache/phoenix/util/TestUtil.java     |  14 +-
 15 files changed, 296 insertions(+), 450 deletions(-)

commit d3f2b65cedba0ff20146607be8e218308138f359
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 4 14:34:17 2014 -0800

    Fix flapping test due to mix of client managed and hbase managed timestamp usage

 .../org/apache/phoenix/compile/ScanRanges.java     |   2 +
 .../end2end/TenantSpecificTablesDMLTest.java       | 109 ++++++++++++++-------
 2 files changed, 75 insertions(+), 36 deletions(-)

commit 1a6811bf7ac434d32cf577fc1239f5eddbbe2db4
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 4 14:09:45 2014 -0800

    Better abstraction for ScanRanges, always flatten skip scan if point lookup, reflect point lookup in explain plan, fix tests

 .../org/apache/phoenix/compile/DeleteCompiler.java |   9 +-
 .../org/apache/phoenix/compile/ScanRanges.java     |  54 +++++---
 .../org/apache/phoenix/compile/WhereOptimizer.java |  53 +++-----
 .../org/apache/phoenix/iterate/ExplainTable.java   |  35 +++--
 .../apache/phoenix/optimize/QueryOptimizer.java    |   1 +
 .../org/apache/phoenix/schema/MetaDataClient.java  |  10 +-
 .../org/apache/phoenix/schema/SaltingUtil.java     |  36 +----
 .../java/org/apache/phoenix/util/SchemaUtil.java   |   5 +-
 .../phoenix/compile/WhereClauseCompileTest.java    |  57 ++++----
 .../phoenix/compile/WhereClauseOptimizerTest.java  |   8 +-
 .../org/apache/phoenix/end2end/QueryPlanTest.java  |   4 +-
 .../phoenix/end2end/index/BaseIndexTest.java       |  31 +++++
 .../end2end/index/BaseMutableIndexTest.java        |  10 +-
 .../phoenix/end2end/index/ImmutableIndexTest.java  | 149 ---------------------
 .../phoenix/end2end/index/MutableIndexTest.java    |   8 +-
 ...leSaltedIndexTest.java => SaltedIndexTest.java} |  30 ++++-
 16 files changed, 196 insertions(+), 304 deletions(-)

commit bc21d8e418303b6db3a439dc1397750271692456
Merge: 0b469d47e d40c5066e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 4 02:00:35 2014 -0800

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 0b469d47e76fe62ecc60592dcb8340803d79888e
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Feb 4 02:00:27 2014 -0800

    Fix for optimizer not choosing point lookup and optimized out order

 .../org/apache/phoenix/compile/DeleteCompiler.java | 18 +++--
 .../org/apache/phoenix/compile/ScanRanges.java     | 76 ++++++++++++++++++----
 .../apache/phoenix/compile/StatementContext.java   |  6 --
 .../org/apache/phoenix/compile/WhereOptimizer.java | 45 +++++--------
 .../iterate/MergeSortTopNResultIterator.java       |  3 +-
 .../apache/phoenix/optimize/QueryOptimizer.java    | 52 ++++++++++-----
 .../org/apache/phoenix/schema/SaltingUtil.java     | 45 +------------
 .../java/org/apache/phoenix/util/ScanUtil.java     | 10 ++-
 .../apache/phoenix/compile/QueryOptimizerTest.java | 31 +++++++--
 .../phoenix/compile/WhereClauseCompileTest.java    | 14 ++--
 .../phoenix/compile/WhereClauseOptimizerTest.java  |  8 +--
 .../phoenix/end2end/index/ImmutableIndexTest.java  | 36 +++++-----
 .../end2end/index/MutableSaltedIndexTest.java      | 30 ++++-----
 13 files changed, 197 insertions(+), 177 deletions(-)

commit d40c5066edeb112fb59f7bebe6c78e2fb346d929
Author: Lars Hofhansl <larsh@apache.org>
Date:   Mon Feb 3 21:06:41 2014 -0800

    PHOENIX-13 Provide a nocache hint to a query. (LarsH)

 .../java/org/apache/phoenix/compile/QueryCompiler.java     |  3 ++-
 .../java/org/apache/phoenix/compile/StatementContext.java  |  9 ++++++++-
 .../src/main/java/org/apache/phoenix/parse/HintNode.java   |  4 ++++
 .../java/org/apache/phoenix/compile/QueryCompileTest.java  | 14 +++++++++++++-
 4 files changed, 27 insertions(+), 3 deletions(-)

commit fc96ccb91050ebedc1315a6b6e1c6367b4cd4ed9
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 3 14:13:30 2014 -0800

    Allow tenant-specific table to query base multi-tenant table

 .../org/apache/phoenix/compile/FromCompiler.java   | 25 +++++++---------------
 .../org/apache/phoenix/schema/MetaDataClient.java  | 16 ++++++++------
 .../end2end/TenantSpecificTablesDMLTest.java       | 15 +++++++------
 3 files changed, 26 insertions(+), 30 deletions(-)

commit 473ca2a7c552209b17e6f04141cebdef2d323823
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Feb 3 10:20:40 2014 -0800

    Disallow index on view until it's implemented

 .../src/main/java/org/apache/phoenix/schema/MetaDataClient.java       | 4 ++++
 1 file changed, 4 insertions(+)

commit 3acaea4a565d4ebec9a11ca8438a88920c13b74e
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 2 18:07:15 2014 -0800

    Remove files accidentally added back

 phoenix-core/src/site/markdown/multi_tenancy.md | 45 ---------------------
 phoenix-core/src/site/markdown/views.md         | 52 -------------------------
 2 files changed, 97 deletions(-)

commit 8313a2a28c021c80e42b52e26525c5866eb5e987
Author: James Taylor <jamestaylor@apache.org>
Date:   Sun Feb 2 15:03:28 2014 -0800

    Fix for PHOENIX-20: Single Key(s) not recognized by optimizer when table is salted

 .../org/apache/phoenix/compile/WhereOptimizer.java |  35 +++++--
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  56 +++---------
 .../org/apache/phoenix/schema/SaltingUtil.java     |  13 ++-
 .../java/org/apache/phoenix/util/ScanUtil.java     |  36 +-------
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  31 +++++++
 phoenix-core/src/site/markdown/multi_tenancy.md    |  45 +++++++++
 phoenix-core/src/site/markdown/views.md            |  52 +++++++++++
 .../phoenix/compile/WhereClauseCompileTest.java    | 101 ++++++++++++++++++++-
 8 files changed, 275 insertions(+), 94 deletions(-)

commit 334b83663c3149e49b9694c87ece6e0c97633e0e
Author: maryannxue <maryannxue@apache.org>
Date:   Sat Feb 1 19:28:05 2014 -0500

    Add where-clause optimization in join queries

 .../org/apache/phoenix/compile/JoinCompiler.java   | 67 ++++++++++++++----
 .../phoenix/compile/JoinQueryCompileTest.java      | 79 +++++++++++++++++++++-
 .../org/apache/phoenix/end2end/HashJoinTest.java   |  2 +-
 3 files changed, 133 insertions(+), 15 deletions(-)

commit 79c60a27a7835909fb6b4fdf97a9d8563859fe60
Author: Mujtaba <mujtaba@apache.org>
Date:   Fri Jan 31 12:47:44 2014 -0800

    Moved Phoenix web site source from Git to SVN

 build.txt                                          |   5 +-
 phoenix-core/src/site/bin/merge.jar                | Bin 1347 -> 0 bytes
 phoenix-core/src/site/bin/merge.sh                 |  10 -
 .../site/language_reference_source/datatypes.html  | 493 -----------
 .../site/language_reference_source/functions.html  | 740 ----------------
 .../src/site/language_reference_source/index.html  | 947 ---------------------
 .../site/markdown/Phoenix-in-15-minutes-or-less.md |  80 --
 phoenix-core/src/site/markdown/building.md         |  25 -
 phoenix-core/src/site/markdown/download.md         |  84 --
 phoenix-core/src/site/markdown/dynamic_columns.md  |  17 -
 phoenix-core/src/site/markdown/faq.md              | 279 ------
 phoenix-core/src/site/markdown/flume.md            |  42 -
 phoenix-core/src/site/markdown/index.md            |  69 --
 phoenix-core/src/site/markdown/issues.md           |   9 -
 phoenix-core/src/site/markdown/mailing_list.md     |  14 -
 phoenix-core/src/site/markdown/mr_dataload.md      |  63 --
 phoenix-core/src/site/markdown/paged.md            |  31 -
 phoenix-core/src/site/markdown/performance.md      |  86 --
 phoenix-core/src/site/markdown/phoenix_on_emr.md   |  43 -
 phoenix-core/src/site/markdown/recent.md           |  18 -
 phoenix-core/src/site/markdown/roadmap.md          |  35 -
 phoenix-core/src/site/markdown/salted.md           |  25 -
 .../src/site/markdown/secondary_indexing.md        | 152 ----
 phoenix-core/src/site/markdown/sequences.md        |  47 -
 phoenix-core/src/site/markdown/skip_scan.md        |  22 -
 phoenix-core/src/site/markdown/source.md           |  13 -
 phoenix-core/src/site/markdown/tuning.md           | 128 ---
 phoenix-core/src/site/resources/css/site.css       |  65 --
 phoenix-core/src/site/resources/favicon.ico        | Bin 318 -> 0 bytes
 .../src/site/resources/images/PhoenixVsHive.png    | Bin 30363 -> 0 bytes
 .../src/site/resources/images/PhoenixVsImpala.png  | Bin 19219 -> 0 bytes
 .../site/resources/images/PhoenixVsOpenTSDB.png    | Bin 10039 -> 0 bytes
 phoenix-core/src/site/resources/images/logo.png    | Bin 17729 -> 0 bytes
 .../src/site/resources/images/perf-esscf.png       | Bin 8081 -> 0 bytes
 .../src/site/resources/images/perf-salted-read.png | Bin 8086 -> 0 bytes
 .../site/resources/images/perf-salted-write.png    | Bin 8379 -> 0 bytes
 .../src/site/resources/images/perf-skipscan.png    | Bin 7526 -> 0 bytes
 .../src/site/resources/images/perf-topn.png        | Bin 7807 -> 0 bytes
 phoenix-core/src/site/resources/images/psql.png    | Bin 25997 -> 0 bytes
 phoenix-core/src/site/resources/images/sqlline.png | Bin 57490 -> 0 bytes
 .../src/site/resources/images/squirrel.png         | Bin 64649 -> 0 bytes
 .../site/resources/images/topbar-logo-small.png    | Bin 4931 -> 0 bytes
 .../src/site/resources/images/topbar-logo.png      | Bin 7939 -> 0 bytes
 .../src/site/resources/language/images/div-d.png   | Bin 8289 -> 0 bytes
 .../src/site/resources/language/images/div-ke.png  | Bin 763 -> 0 bytes
 .../src/site/resources/language/images/div-ks.png  | Bin 759 -> 0 bytes
 .../src/site/resources/language/images/div-le.png  | Bin 387 -> 0 bytes
 .../src/site/resources/language/images/div-ls.png  | Bin 396 -> 0 bytes
 .../src/site/resources/language/images/div-te.png  | Bin 739 -> 0 bytes
 .../src/site/resources/language/images/div-ts.png  | Bin 727 -> 0 bytes
 .../src/site/resources/language/stylesheet.css     | 139 ---
 phoenix-core/src/site/site.xml                     |  96 ---
 .../src/site/xhtml/language/datatypes.xhtml        |   5 -
 .../src/site/xhtml/language/functions.xhtml        |   5 -
 phoenix-core/src/site/xhtml/language/index.xhtml   |   5 -
 phoenix-core/src/site/xhtml/team.xhtml             | 115 ---
 56 files changed, 2 insertions(+), 3905 deletions(-)

commit ef8f6b0a35d4e3ea9627244cf966c1f6c8d2a84d
Merge: 0a39c5fd1 b2a8e2dd2
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Jan 31 13:15:27 2014 -0500

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-phoenix

commit 0a39c5fd1b4346299185ff9184f4aa7f78d24348
Author: maryannxue <maryannxue@apache.org>
Date:   Fri Jan 31 11:27:01 2014 -0500

    Fix incorrect hashCode in ImmutableBytesPtr caused by incorrect order of calling ImmutableBytesPtr#set(); Add salted table for RHS/LHS in HashJoinTest (github #658)

 .../org/apache/phoenix/compile/JoinCompiler.java   |   5 +
 .../phoenix/expression/DateAddExpression.java      |   2 +-
 .../phoenix/expression/DateSubtractExpression.java |   2 +-
 .../phoenix/expression/DoubleAddExpression.java    |   2 +-
 .../phoenix/expression/DoubleDivideExpression.java |   2 +-
 .../expression/DoubleMultiplyExpression.java       |   2 +-
 .../expression/DoubleSubtractExpression.java       |   2 +-
 .../phoenix/expression/LongAddExpression.java      |   2 +-
 .../phoenix/expression/LongDivideExpression.java   |   2 +-
 .../phoenix/expression/LongMultiplyExpression.java |   2 +-
 .../phoenix/expression/LongSubtractExpression.java |   2 +-
 .../expression/aggregator/DoubleSumAggregator.java |   2 +-
 .../expression/aggregator/NumberSumAggregator.java |   2 +-
 .../expression/function/SumAggregateFunction.java  |   5 +-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 160 +++++++++++++++++++--
 15 files changed, 170 insertions(+), 24 deletions(-)

commit b2a8e2dd2f1f6f6ede4392a8e0765301cd37c976
Author: James Taylor <jamestaylor@apache.org>
Date:   Thu Jan 30 18:31:33 2014 -0800

    Replace obsolete test with test that confirms that going from MULTI_TENANT=true to MULTI_TENANT=false is disallowed

 .../apache/phoenix/end2end/TenantSpecificTablesDDLTest.java   | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit 24910777d4412ae6dba0516c1e7c27f20b0c76f4
Author: Mujtaba <mujtaba@apache.org>
Date:   Thu Jan 30 09:41:58 2014 -0800

    Update Snappy dependency to version 1.1 - Fixes library load issue on Mac OS.
    https://issues.apache.org/jira/browse/PHOENIX-12

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be8c2fb500b017f4b8300f8afd2152aea8a70905
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Jan 28 19:22:32 2014 -0500

    Fix UPSERT SELECT does not work with JOIN (github #596)

 .../org/apache/phoenix/compile/FromCompiler.java   | 11 +--
 .../org/apache/phoenix/compile/QueryCompiler.java  | 18 ++---
 .../org/apache/phoenix/compile/UpsertCompiler.java |  6 +-
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 88 ++++++++++++++++++++++
 4 files changed, 103 insertions(+), 20 deletions(-)

commit 92623a0ffa4d2132c2e1c2f090692fddec87c637
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Jan 28 17:10:50 2014 -0500

    Fix issue PHOENIX-9 Incorrect behaviors in choosing index plans and getting results by column names caused by case-sensitive columns

 .../src/main/java/org/apache/phoenix/compile/ProjectionCompiler.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6b832bc1ae0ab9cbdfe6e8f1a9cbd22bbc39e3fd
Merge: 73a2e6093 f71b0c560
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Jan 28 17:00:14 2014 -0500

    Merge branch 'master' of git://git.apache.org/incubator-phoenix

commit 73a2e6093e4004a4c0266bc70f96e4d9ef95b5fe
Author: maryannxue <maryannxue@apache.org>
Date:   Tue Jan 28 16:57:41 2014 -0500

    Fix issue PHOENIX-9 Incorrect behaviors in choosing index plans and getting results by column names caused by case-sensitive columns

 .../phoenix/compile/IndexStatementRewriter.java    |  2 +-
 .../apache/phoenix/compile/ProjectionCompiler.java | 22 ++++--
 .../phoenix/compile/StatementNormalizer.java       |  4 +-
 .../java/org/apache/phoenix/util/CSVLoader.java    |  4 +-
 .../org/apache/phoenix/end2end/CSVLoaderTest.java  | 61 ++++++++++++++++-
 .../phoenix/end2end/index/MutableIndexTest.java    | 79 +++++++++++++++++++++-
 6 files changed, 159 insertions(+), 13 deletions(-)

commit f71b0c5600d2d37f826c1b84e26441931d494d96
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jan 28 12:33:28 2014 -0800

    Update source, building site pages and add missing language reference merge.jar

 phoenix-core/src/site/bin/merge.jar        | Bin 0 -> 1347 bytes
 phoenix-core/src/site/markdown/building.md |   9 +++++++--
 phoenix-core/src/site/markdown/source.md   |   8 ++++++--
 3 files changed, 13 insertions(+), 4 deletions(-)

commit 2106de2c5fce2301d81e9cb9091588ef84cef9c4
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jan 28 10:01:02 2014 -0800

    Updated README.md

 README.md | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8f06dced59e2494996cf94ac44db7e90f6ec50a2
Author: Mujtaba <mujtaba@apache.org>
Date:   Tue Jan 28 09:51:42 2014 -0800

    Add README.md

 README.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit 806d3412f51d68dfec2ef8c7929eba3df4a2d082
Author: James Taylor <jamestaylor@apache.org>
Date:   Tue Jan 28 00:04:19 2014 -0800

    Fix flapping unit test due to use of local timezone, comment back-in uncommented QueryPlanTest

 .../phoenix/expression/LiteralExpression.java      |   3 +-
 .../compile/StatementHintsCompilationTest.java     |   9 +-
 .../org/apache/phoenix/end2end/QueryPlanTest.java  | 244 ++++++++++-----------
 3 files changed, 127 insertions(+), 129 deletions(-)

commit 4066a331b9c209417b40e3a68da2f8422d7fbaa2
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jan 27 14:46:49 2014 -0800

    Disallow array element reference in LHS of UPSERT VALUES

 phoenix-core/src/main/antlr3/PhoenixSQL.g          |  8 ++--
 .../apache/phoenix/compile/QueryCompileTest.java   | 13 ++++++
 .../java/org/apache/phoenix/end2end/ArrayTest.java | 47 ----------------------
 3 files changed, 17 insertions(+), 51 deletions(-)

commit 9342036940a0c98a1c4529d7b76fd0a9425e13ab
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jan 27 14:19:43 2014 -0800

    Add UPPER, LOWER, and MD5 built-in functions

 .../apache/phoenix/expression/ExpressionType.java  |   9 +-
 .../phoenix/expression/function/LowerFunction.java |  59 ++++++++++++
 .../phoenix/expression/function/MD5Function.java   | 100 +++++++++++++++++++++
 .../phoenix/expression/function/UpperFunction.java |  58 ++++++++++++
 .../apache/phoenix/end2end/MD5FunctionTest.java    |  85 ++++++++++++++++++
 .../phoenix/end2end/VariableLengthPKTest.java      |  75 +++++++++++++++-
 .../DescColumnSortOrderExpressionTest.java         |  20 ++++-
 7 files changed, 400 insertions(+), 6 deletions(-)

commit 50d523f6e7e3ba530128a86f0ad4b68b151213c8
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jan 27 14:14:21 2014 -0800

    Initial commit of master branch from github

 .gitignore                                         |    1 +
 bin/csv-bulk-loader.sh                             |    2 +-
 bin/performance.sh                                 |    5 +-
 bin/psql.sh                                        |    2 +-
 bin/sqlline.sh                                     |    4 +-
 bin/upgradeTo2.sh                                  |    3 +-
 build.txt                                          |   37 +-
 config/apache-access-logs.properties               |   35 +
 .../csv-bulk-load-config.properties                |    0
 dev/eclipse_prefs_phoenix.epf                      |    2 +-
 phoenix-assembly/pom.xml                           |  115 +
 phoenix-assembly/src/build/all.xml                 |  139 +
 phoenix-assembly/src/build/client-minimal.xml      |   16 +
 .../src/build/client-without-hbase.xml             |   18 +
 phoenix-assembly/src/build/client.xml              |   41 +
 .../src/build/components-major-client.xml          |   32 +
 phoenix-assembly/src/build/components-minimal.xml  |   47 +
 phoenix-core/pom.xml                               |  319 +
 phoenix-core/src/main/antlr3/PhoenixSQL.g          | 1136 ++++
 .../hadoop/hbase/index/CapturingAbortable.java     |   68 +
 .../hbase/index/IndexLogRollSynchronizer.java      |  125 +
 .../org/apache/hadoop/hbase/index/Indexer.java     |  706 ++
 .../org/apache/hadoop/hbase/index/ValueGetter.java |   38 +
 .../hbase/index/builder/BaseIndexBuilder.java      |   99 +
 .../hbase/index/builder/IndexBuildManager.java     |  216 +
 .../hadoop/hbase/index/builder/IndexBuilder.java   |  144 +
 .../builder/IndexBuildingFailureException.java     |   50 +
 .../apache/hadoop/hbase/index/covered/Batch.java   |   62 +
 .../hadoop/hbase/index/covered/CoveredColumns.java |   51 +
 .../index/covered/CoveredColumnsIndexBuilder.java  |  490 ++
 .../hadoop/hbase/index/covered/IndexCodec.java     |  112 +
 .../hadoop/hbase/index/covered/IndexUpdate.java    |   79 +
 .../hadoop/hbase/index/covered/KeyValueStore.java  |   35 +
 .../hbase/index/covered/LocalTableState.java       |  244 +
 .../hadoop/hbase/index/covered/TableState.java     |   98 +
 .../hbase/index/covered/data/IndexMemStore.java    |  333 +
 .../hbase/index/covered/data/LazyValueGetter.java  |   89 +
 .../hbase/index/covered/data/LocalHBaseState.java  |   49 +
 .../hbase/index/covered/data/LocalTable.java       |   74 +
 .../hbase/index/covered/example/ColumnGroup.java   |   95 +
 .../hbase/index/covered/example/CoveredColumn.java |   89 +
 .../covered/example/CoveredColumnIndexCodec.java   |  367 ++
 .../CoveredColumnIndexSpecifierBuilder.java        |  166 +
 .../covered/example/CoveredColumnIndexer.java      |  146 +
 .../filter/ApplyAndFilterDeletesFilter.java        |  310 +
 .../ColumnTrackingNextLargestTimestampFilter.java  |   74 +
 .../index/covered/filter/FamilyOnlyFilter.java     |   80 +
 .../index/covered/filter/MaxTimestampFilter.java   |   76 +
 .../index/covered/filter/NewerTimestampFilter.java |   37 +
 .../index/covered/update/ColumnReference.java      |  168 +
 .../hbase/index/covered/update/ColumnTracker.java  |  117 +
 .../index/covered/update/IndexUpdateManager.java   |  240 +
 .../index/covered/update/IndexedColumnGroup.java   |   30 +
 .../index/covered/update/SortedCollection.java     |  130 +
 .../hbase/index/exception/IndexWriteException.java |   45 +
 .../exception/MultiIndexWriteFailureException.java |   46 +
 .../SingleIndexWriteFailureException.java          |   63 +
 .../hbase/index/parallel/BaseTaskRunner.java       |  131 +
 .../hbase/index/parallel/EarlyExitFailure.java     |   36 +
 .../index/parallel/QuickFailingTaskRunner.java     |   51 +
 .../apache/hadoop/hbase/index/parallel/Task.java   |   42 +
 .../hadoop/hbase/index/parallel/TaskBatch.java     |   76 +
 .../hadoop/hbase/index/parallel/TaskRunner.java    |   62 +
 .../hbase/index/parallel/ThreadPoolBuilder.java    |   92 +
 .../hbase/index/parallel/ThreadPoolManager.java    |  148 +
 .../parallel/WaitForCompletionTaskRunner.java      |   53 +
 .../hadoop/hbase/index/scanner/EmptyScanner.java   |   32 +
 .../index/scanner/FilteredKeyValueScanner.java     |  144 +
 .../apache/hadoop/hbase/index/scanner/Scanner.java |   37 +
 .../hadoop/hbase/index/scanner/ScannerBuilder.java |  147 +
 .../hbase/index/table/CachingHTableFactory.java    |  112 +
 .../index/table/CoprocessorHTableFactory.java      |   50 +
 .../hadoop/hbase/index/table/HTableFactory.java    |   14 +
 .../index/table/HTableInterfaceReference.java      |   46 +
 .../hadoop/hbase/index/util/ImmutableBytesPtr.java |  113 +
 .../hbase/index/util/IndexManagementUtil.java      |  246 +
 .../hadoop/hbase/index/wal/IndexedKeyValue.java    |  155 +
 .../hadoop/hbase/index/wal/KeyValueCodec.java      |   79 +
 .../hadoop/hbase/index/write/IndexCommitter.java   |   39 +
 .../hbase/index/write/IndexFailurePolicy.java      |   46 +
 .../hadoop/hbase/index/write/IndexWriter.java      |  226 +
 .../hadoop/hbase/index/write/IndexWriterUtils.java |   74 +
 .../index/write/KillServerOnFailurePolicy.java     |   82 +
 .../index/write/ParallelWriterIndexCommitter.java  |  212 +
 .../write/recovery/PerRegionIndexWriteCache.java   |   65 +
 .../write/recovery/StoreFailuresInCachePolicy.java |   84 +
 .../TrackingParallelWriterIndexCommitter.java      |  228 +
 .../regionserver/IndexKeyValueSkipListSet.java     |    0
 .../hbase/regionserver/wal/IndexedHLogReader.java  |    0
 .../hbase/regionserver/wal/IndexedWALEdit.java     |   91 +
 .../regionserver/wal/IndexedWALEditCodec.java      |  195 +
 .../java/org/apache/phoenix/cache/GlobalCache.java |  114 +
 .../java/org/apache/phoenix/cache/HashCache.java   |   40 +
 .../apache/phoenix/cache/IndexMetaDataCache.java   |    0
 .../apache/phoenix/cache/ServerCacheClient.java    |  278 +
 .../java/org/apache/phoenix/cache/TenantCache.java |   44 +
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   96 +
 .../apache/phoenix/cache/aggcache/SpillFile.java   |  142 +
 .../phoenix/cache/aggcache/SpillManager.java       |  323 +
 .../apache/phoenix/cache/aggcache/SpillMap.java    |  494 ++
 .../cache/aggcache/SpillableGroupByCache.java      |  361 +
 .../org/apache/phoenix/client/ClientKeyValue.java  |  503 ++
 .../phoenix/client/ClientKeyValueBuilder.java      |   67 +
 .../phoenix/client/GenericKeyValueBuilder.java     |   71 +
 .../org/apache/phoenix/client/KeyValueBuilder.java |  108 +
 .../apache/phoenix/compile/AggregationManager.java |    0
 .../org/apache/phoenix/compile/BindManager.java    |   82 +
 .../apache/phoenix/compile/ColumnProjector.java    |   70 +
 .../org/apache/phoenix/compile/ColumnResolver.java |    0
 .../phoenix/compile/CreateIndexCompiler.java       |   88 +
 .../phoenix/compile/CreateSequenceCompiler.java    |  213 +
 .../phoenix/compile/CreateTableCompiler.java       |  245 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  360 +
 .../phoenix/compile/DropSequenceCompiler.java      |   69 +
 .../org/apache/phoenix/compile/ExplainPlan.java    |    0
 .../apache/phoenix/compile/ExpressionCompiler.java | 1391 ++++
 .../apache/phoenix/compile/ExpressionManager.java  |    0
 .../phoenix/compile/ExpressionProjector.java       |   93 +
 .../org/apache/phoenix/compile/FromCompiler.java   |  472 ++
 .../apache/phoenix/compile/GroupByCompiler.java    |  282 +
 .../org/apache/phoenix/compile/HavingCompiler.java |  241 +
 .../phoenix/compile/IndexStatementRewriter.java    |  103 +
 .../org/apache/phoenix/compile/JoinCompiler.java   | 1133 ++++
 .../java/org/apache/phoenix/compile/KeyPart.java   |    0
 .../org/apache/phoenix/compile/LimitCompiler.java  |  110 +
 .../compile/MutatingParallelIteratorFactory.java   |    0
 .../org/apache/phoenix/compile/MutationPlan.java   |    0
 .../apache/phoenix/compile/OrderByCompiler.java    |  138 +
 .../apache/phoenix/compile/PostDDLCompiler.java    |  225 +
 .../phoenix/compile/PostIndexDDLCompiler.java      |    0
 .../apache/phoenix/compile/ProjectionCompiler.java |  377 ++
 .../org/apache/phoenix/compile/QueryCompiler.java  |  289 +
 .../java/org/apache/phoenix/compile/QueryPlan.java |   69 +
 .../org/apache/phoenix/compile/RowProjector.java   |    0
 .../org/apache/phoenix/compile/ScanRanges.java     |    0
 .../apache/phoenix/compile/SequenceManager.java    |  194 +
 .../apache/phoenix/compile/StatementContext.java   |  227 +
 .../phoenix/compile/StatementNormalizer.java       |  102 +
 .../org/apache/phoenix/compile/StatementPlan.java  |    0
 .../TrackOrderPreservingExpressionCompiler.java    |  211 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  837 +++
 .../org/apache/phoenix/compile/WhereCompiler.java  |  214 +
 .../org/apache/phoenix/compile/WhereOptimizer.java | 1135 ++++
 .../phoenix/coprocessor/BaseRegionScanner.java     |    0
 .../coprocessor/BaseScannerRegionObserver.java     |    0
 .../apache/phoenix/coprocessor/GroupByCache.java   |   41 +
 .../GroupedAggregateRegionObserver.java            |  507 ++
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  284 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 1220 ++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |  269 +
 .../coprocessor/MetaDataRegionObserver.java        |    0
 .../apache/phoenix/coprocessor/ScanProjector.java  |  202 +
 .../phoenix/coprocessor/ScanRegionObserver.java    |  313 +
 .../coprocessor/SequenceRegionObserver.java        |  258 +
 .../coprocessor/ServerCachingEndpointImpl.java     |   57 +
 .../phoenix/coprocessor/ServerCachingProtocol.java |    0
 .../UngroupedAggregateRegionObserver.java          |  423 ++
 .../phoenix/exception/PhoenixIOException.java      |    0
 .../phoenix/exception/PhoenixParserException.java  |  112 +
 .../apache/phoenix/exception/SQLExceptionCode.java |  340 +
 .../apache/phoenix/exception/SQLExceptionInfo.java |  166 +
 .../exception/UnknownFunctionException.java        |    0
 .../exception/ValueTypeIncompatibleException.java  |    0
 .../org/apache/phoenix/execute/AggregatePlan.java  |  171 +
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  197 +
 .../apache/phoenix/execute/CommitException.java    |    0
 .../phoenix/execute/DegenerateQueryPlan.java       |   52 +
 .../org/apache/phoenix/execute/HashJoinPlan.java   |  186 +
 .../org/apache/phoenix/execute/MutationState.java  |  444 ++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  116 +
 .../apache/phoenix/expression/AddExpression.java   |    0
 .../apache/phoenix/expression/AndExpression.java   |   79 +
 .../apache/phoenix/expression/AndOrExpression.java |    0
 .../phoenix/expression/ArithmeticExpression.java   |    0
 .../expression/ArrayConstructorExpression.java     |  101 +
 .../expression/BaseAddSubtractExpression.java      |    0
 .../phoenix/expression/BaseCompoundExpression.java |  145 +
 .../BaseDecimalAddSubtractExpression.java          |    0
 .../apache/phoenix/expression/BaseExpression.java  |  108 +
 .../phoenix/expression/BaseSingleExpression.java   |    0
 .../phoenix/expression/BaseTerminalExpression.java |    0
 .../apache/phoenix/expression/CaseExpression.java  |  234 +
 .../phoenix/expression/CoerceExpression.java       |  153 +
 .../phoenix/expression/ColumnExpression.java       |    0
 .../phoenix/expression/ComparisonExpression.java   |  159 +
 .../expression/CurrentDateTimeFunction.java        |   44 +
 .../phoenix/expression/DateAddExpression.java      |    0
 .../phoenix/expression/DateSubtractExpression.java |    0
 .../phoenix/expression/DecimalAddExpression.java   |    0
 .../expression/DecimalDivideExpression.java        |    0
 .../expression/DecimalMultiplyExpression.java      |    0
 .../expression/DecimalSubtractExpression.java      |    0
 .../phoenix/expression/DivideExpression.java       |    0
 .../phoenix/expression/DoubleAddExpression.java    |    0
 .../phoenix/expression/DoubleDivideExpression.java |    0
 .../expression/DoubleMultiplyExpression.java       |    0
 .../expression/DoubleSubtractExpression.java       |    0
 .../org/apache/phoenix/expression/Expression.java  |   82 +
 .../apache/phoenix/expression/ExpressionType.java  |  192 +
 .../phoenix/expression/InListExpression.java       |  291 +
 .../expression/IndexKeyValueColumnExpression.java  |    0
 .../phoenix/expression/IsNullExpression.java       |    0
 .../expression/KeyValueColumnExpression.java       |  113 +
 .../apache/phoenix/expression/LikeExpression.java  |    0
 .../phoenix/expression/LiteralExpression.java      |  316 +
 .../phoenix/expression/LongAddExpression.java      |    0
 .../phoenix/expression/LongDivideExpression.java   |    0
 .../phoenix/expression/LongMultiplyExpression.java |    0
 .../phoenix/expression/LongSubtractExpression.java |    0
 .../phoenix/expression/MultiplyExpression.java     |    0
 .../apache/phoenix/expression/NotExpression.java   |    0
 .../apache/phoenix/expression/OrExpression.java    |    0
 .../phoenix/expression/OrderByExpression.java      |    0
 .../expression/ProjectedColumnExpression.java      |  144 +
 .../phoenix/expression/RowKeyColumnExpression.java |    0
 .../phoenix/expression/RowKeyExpression.java       |    0
 .../expression/RowValueConstructorExpression.java  |  358 +
 .../phoenix/expression/StringConcatExpression.java |    0
 .../phoenix/expression/SubtractExpression.java     |    0
 .../phoenix/expression/TimestampAddExpression.java |   89 +
 .../expression/TimestampSubtractExpression.java    |   89 +
 .../phoenix/expression/aggregator/Aggregator.java  |    0
 .../phoenix/expression/aggregator/Aggregators.java |  133 +
 .../expression/aggregator/BaseAggregator.java      |   59 +
 .../aggregator/BaseDecimalStddevAggregator.java    |  119 +
 .../aggregator/BaseStddevAggregator.java           |   96 +
 .../expression/aggregator/ClientAggregators.java   |    0
 .../expression/aggregator/CountAggregator.java     |   92 +
 .../aggregator/DecimalStddevPopAggregator.java     |    0
 .../aggregator/DecimalStddevSampAggregator.java    |    0
 .../aggregator/DecimalSumAggregator.java           |  103 +
 .../aggregator/DistinctCountClientAggregator.java  |    0
 .../DistinctValueWithCountClientAggregator.java    |  132 +
 .../DistinctValueWithCountServerAggregator.java    |  181 +
 .../expression/aggregator/DoubleSumAggregator.java |   94 +
 .../expression/aggregator/IntSumAggregator.java    |    0
 .../expression/aggregator/LongSumAggregator.java   |    0
 .../expression/aggregator/MaxAggregator.java       |    0
 .../expression/aggregator/MinAggregator.java       |    0
 .../expression/aggregator/NumberSumAggregator.java |  114 +
 .../aggregator/PercentRankClientAggregator.java    |    0
 .../aggregator/PercentileClientAggregator.java     |    0
 .../aggregator/PercentileDiscClientAggregator.java |    0
 .../expression/aggregator/ServerAggregators.java   |    0
 .../expression/aggregator/StddevPopAggregator.java |    0
 .../aggregator/StddevSampAggregator.java           |    0
 .../aggregator/UnsignedIntSumAggregator.java       |    0
 .../aggregator/UnsignedLongSumAggregator.java      |    0
 .../expression/function/AggregateFunction.java     |   54 +
 .../expression/function/ArrayIndexFunction.java    |   88 +
 .../expression/function/ArrayLengthFunction.java   |   75 +
 .../expression/function/AvgAggregateFunction.java  |    0
 .../expression/function/CeilDateExpression.java    |   77 +
 .../expression/function/CeilDecimalExpression.java |   77 +
 .../phoenix/expression/function/CeilFunction.java  |   57 +
 .../function/CeilTimestampExpression.java          |  111 +
 .../expression/function/CoalesceFunction.java      |    0
 .../function/CompositeAggregateFunction.java       |    0
 .../function/CountAggregateFunction.java           |  116 +
 .../expression/function/CurrentDateFunction.java   |   69 +
 .../expression/function/CurrentTimeFunction.java   |   69 +
 .../DelegateConstantToCountAggregateFunction.java  |    0
 .../function/DistinctCountAggregateFunction.java   |  124 +
 .../DistinctValueWithCountAggregateFunction.java   |   50 +
 .../expression/function/FloorDateExpression.java   |   88 +
 .../function/FloorDecimalExpression.java           |   77 +
 .../phoenix/expression/function/FloorFunction.java |   56 +
 .../expression/function/FunctionArgumentType.java  |    0
 .../expression/function/FunctionExpression.java    |    0
 .../function/IndexStateNameFunction.java           |    0
 .../expression/function/InvertFunction.java        |    0
 .../phoenix/expression/function/LTrimFunction.java |    0
 .../expression/function/LengthFunction.java        |    0
 .../expression/function/MaxAggregateFunction.java  |   75 +
 .../expression/function/MinAggregateFunction.java  |   89 +
 .../function/PercentRankAggregateFunction.java     |   74 +
 .../function/PercentileContAggregateFunction.java  |   75 +
 .../function/PercentileDiscAggregateFunction.java  |   72 +
 .../expression/function/PrefixFunction.java        |    0
 .../phoenix/expression/function/RTrimFunction.java |    0
 .../expression/function/RegexpReplaceFunction.java |    0
 .../expression/function/RegexpSubstrFunction.java  |    0
 .../expression/function/ReverseFunction.java       |    0
 .../expression/function/RoundDateExpression.java   |  274 +
 .../function/RoundDecimalExpression.java           |  136 +
 .../phoenix/expression/function/RoundFunction.java |   57 +
 .../function/RoundTimestampExpression.java         |  106 +
 .../expression/function/SQLTableTypeFunction.java  |   80 +
 .../expression/function/SQLViewTypeFunction.java   |   80 +
 .../expression/function/ScalarFunction.java        |    0
 .../function/SingleAggregateFunction.java          |  173 +
 .../expression/function/SqlTypeNameFunction.java   |   86 +
 .../expression/function/StddevPopFunction.java     |   78 +
 .../expression/function/StddevSampFunction.java    |   78 +
 .../expression/function/SubstrFunction.java        |    0
 .../expression/function/SumAggregateFunction.java  |  146 +
 .../phoenix/expression/function/TimeUnit.java      |   50 +
 .../expression/function/ToCharFunction.java        |    0
 .../expression/function/ToDateFunction.java        |    0
 .../expression/function/ToNumberFunction.java      |    0
 .../phoenix/expression/function/TrimFunction.java  |    0
 .../phoenix/expression/function/TruncFunction.java |   65 +
 .../expression/visitor/BaseExpressionVisitor.java  |  264 +
 .../expression/visitor/ExpressionVisitor.java      |  142 +
 .../visitor/KeyValueExpressionVisitor.java         |    0
 .../visitor/SingleAggregateFunctionVisitor.java    |    0
 .../visitor/TraverseAllExpressionVisitor.java      |    0
 .../visitor/TraverseNoExpressionVisitor.java       |    0
 .../phoenix/filter/BooleanExpressionFilter.java    |  125 +
 .../filter/EvaluateOnCompletionVisitor.java        |   83 +
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |    0
 .../filter/MultiCQKeyValueComparisonFilter.java    |   70 +
 .../filter/MultiKeyValueComparisonFilter.java      |  247 +
 .../phoenix/filter/RowKeyComparisonFilter.java     |  156 +
 .../filter/SingleCFCQKeyValueComparisonFilter.java |    0
 .../filter/SingleCQKeyValueComparisonFilter.java   |    0
 .../filter/SingleKeyValueComparisonFilter.java     |    0
 .../org/apache/phoenix/filter/SkipScanFilter.java  |    0
 .../org/apache/phoenix/index/BaseIndexCodec.java   |   61 +
 .../org/apache/phoenix/index/IndexMaintainer.java  |  810 +++
 .../phoenix/index/IndexMetaDataCacheClient.java    |   98 +
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   66 +
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   96 +
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  182 +
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  102 +
 .../phoenix/iterate/AggregatingResultIterator.java |    0
 .../apache/phoenix/iterate/BaseResultIterator.java |    0
 .../phoenix/iterate/ConcatResultIterator.java      |    0
 .../DefaultParallelIteratorRegionSplitter.java     |  229 +
 .../phoenix/iterate/DelegateResultIterator.java    |    0
 .../iterate/DistinctAggregatingResultIterator.java |    0
 .../org/apache/phoenix/iterate/ExplainTable.java   |    0
 .../iterate/FilterAggregatingResultIterator.java   |    0
 .../phoenix/iterate/FilterResultIterator.java      |    0
 .../iterate/GroupedAggregatingResultIterator.java  |    0
 .../phoenix/iterate/LimitingResultIterator.java    |    0
 .../phoenix/iterate/LookAheadResultIterator.java   |    0
 .../iterate/MappedByteBufferSortedQueue.java       |  389 ++
 .../iterate/MaterializedResultIterator.java        |    0
 .../phoenix/iterate/MergeSortResultIterator.java   |    0
 .../iterate/MergeSortRowKeyResultIterator.java     |   61 +
 .../iterate/MergeSortTopNResultIterator.java       |    0
 .../iterate/OrderedAggregatingResultIterator.java  |    0
 .../phoenix/iterate/OrderedResultIterator.java     |    0
 .../iterate/ParallelIteratorRegionSplitter.java    |    0
 .../ParallelIteratorRegionSplitterFactory.java     |    0
 .../apache/phoenix/iterate/ParallelIterators.java  |  235 +
 .../phoenix/iterate/PeekingResultIterator.java     |    0
 .../iterate/RegionScannerResultIterator.java       |    0
 .../org/apache/phoenix/iterate/ResultIterator.java |    0
 .../apache/phoenix/iterate/ResultIterators.java    |    0
 .../phoenix/iterate/ScanningResultIterator.java    |    0
 .../phoenix/iterate/SequenceResultIterator.java    |   59 +
 .../SkipRangeParallelIteratorRegionSplitter.java   |   85 +
 .../iterate/SpoolTooBigToDiskException.java        |    0
 .../phoenix/iterate/SpoolingResultIterator.java    |    0
 .../phoenix/iterate/TableResultIterator.java       |   86 +
 .../UngroupedAggregatingResultIterator.java        |    0
 .../java/org/apache/phoenix/jdbc/Jdbc7Shim.java    |    0
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  671 ++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 1456 ++++
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   96 +
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  325 +
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |  172 +
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  469 ++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  | 1240 ++++
 .../phoenix/jdbc/PhoenixResultSetMetaData.java     |    0
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 1258 ++++
 .../phoenix/jdbc/PhoenixStatementFactory.java      |    0
 .../phoenix/job/AbstractRoundRobinQueue.java       |    0
 .../java/org/apache/phoenix/job/JobManager.java    |    0
 .../org/apache/phoenix/join/HashCacheClient.java   |  133 +
 .../org/apache/phoenix/join/HashCacheFactory.java  |  127 +
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  210 +
 .../join/MaxServerCacheSizeExceededException.java  |    0
 .../org/apache/phoenix/join/ScanProjector.java     |  242 +
 .../apache/phoenix/map/reduce/CSVBulkLoader.java   |    0
 .../apache/phoenix/map/reduce/MapReduceJob.java    |  204 +
 .../phoenix/map/reduce/util/ConfigReader.java      |    0
 .../apache/phoenix/memory/ChildMemoryManager.java  |    0
 .../phoenix/memory/DelegatingMemoryManager.java    |    0
 .../apache/phoenix/memory/GlobalMemoryManager.java |    0
 .../memory/InsufficientMemoryException.java        |    0
 .../org/apache/phoenix/memory/MemoryManager.java   |    0
 .../apache/phoenix/optimize/QueryOptimizer.java    |  239 +
 .../apache/phoenix/parse/AddColumnStatement.java   |   51 +
 .../org/apache/phoenix/parse/AddParseNode.java     |    0
 .../phoenix/parse/AggregateFunctionParseNode.java  |   39 +
 .../java/org/apache/phoenix/parse/AliasedNode.java |   53 +
 .../apache/phoenix/parse/AlterIndexStatement.java  |    0
 .../apache/phoenix/parse/AlterTableStatement.java  |   35 +
 .../org/apache/phoenix/parse/AndParseNode.java     |    0
 .../apache/phoenix/parse/ArithmeticParseNode.java  |    0
 .../apache/phoenix/parse/ArrayConstructorNode.java |   44 +
 .../phoenix/parse/AvgAggregateParseNode.java       |    0
 .../apache/phoenix/parse/BaseParseNodeVisitor.java |    0
 .../org/apache/phoenix/parse/BetweenParseNode.java |    0
 .../org/apache/phoenix/parse/BinaryParseNode.java  |    0
 .../org/apache/phoenix/parse/BindParseNode.java    |   61 +
 .../org/apache/phoenix/parse/BindTableNode.java    |    0
 .../apache/phoenix/parse/BindableStatement.java    |    0
 .../org/apache/phoenix/parse/CaseParseNode.java    |    0
 .../org/apache/phoenix/parse/CastParseNode.java    |   80 +
 .../org/apache/phoenix/parse/CeilParseNode.java    |   82 +
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  178 +
 .../org/apache/phoenix/parse/ColumnFamilyDef.java  |    0
 .../java/org/apache/phoenix/parse/ColumnName.java  |    0
 .../org/apache/phoenix/parse/ColumnParseNode.java  |    0
 .../apache/phoenix/parse/ComparisonParseNode.java  |    0
 .../apache/phoenix/parse/CompoundParseNode.java    |   75 +
 .../apache/phoenix/parse/ConcreteTableNode.java    |    0
 .../apache/phoenix/parse/CreateIndexStatement.java |    0
 .../phoenix/parse/CreateSequenceStatement.java     |   64 +
 .../apache/phoenix/parse/CreateTableStatement.java |  100 +
 .../apache/phoenix/parse/CurrentDateParseNode.java |    0
 .../apache/phoenix/parse/CurrentTimeParseNode.java |    0
 .../parse/DelegateConstantToCountParseNode.java    |   48 +
 .../org/apache/phoenix/parse/DeleteStatement.java  |    0
 .../org/apache/phoenix/parse/DerivedTableNode.java |    0
 .../phoenix/parse/DistinctCountParseNode.java      |    0
 .../org/apache/phoenix/parse/DivideParseNode.java  |    0
 .../apache/phoenix/parse/DropColumnStatement.java  |   43 +
 .../apache/phoenix/parse/DropIndexStatement.java   |    0
 .../phoenix/parse/DropSequenceStatement.java       |   46 +
 .../apache/phoenix/parse/DropTableStatement.java   |    0
 .../org/apache/phoenix/parse/EqualParseNode.java   |    0
 .../org/apache/phoenix/parse/ExistsParseNode.java  |    0
 .../org/apache/phoenix/parse/ExplainStatement.java |    0
 .../phoenix/parse/FamilyWildcardParseNode.java     |    0
 .../apache/phoenix/parse/FilterableStatement.java  |    0
 .../org/apache/phoenix/parse/FloorParseNode.java   |   81 +
 .../apache/phoenix/parse/FunctionParseNode.java    |  422 ++
 .../phoenix/parse/GreaterThanOrEqualParseNode.java |    0
 .../apache/phoenix/parse/GreaterThanParseNode.java |    0
 .../java/org/apache/phoenix/parse/HintNode.java    |    0
 .../org/apache/phoenix/parse/InListParseNode.java  |   66 +
 .../java/org/apache/phoenix/parse/InParseNode.java |    0
 .../apache/phoenix/parse/IndexKeyConstraint.java   |    0
 .../org/apache/phoenix/parse/IsNullParseNode.java  |    0
 .../org/apache/phoenix/parse/JoinTableNode.java    |   64 +
 .../phoenix/parse/LessThanOrEqualParseNode.java    |    0
 .../apache/phoenix/parse/LessThanParseNode.java    |    0
 .../org/apache/phoenix/parse/LikeParseNode.java    |    0
 .../java/org/apache/phoenix/parse/LimitNode.java   |    0
 .../org/apache/phoenix/parse/LiteralParseNode.java |   77 +
 .../phoenix/parse/MaxAggregateParseNode.java       |    0
 .../phoenix/parse/MinAggregateParseNode.java       |    0
 .../apache/phoenix/parse/MultiplyParseNode.java    |    0
 .../java/org/apache/phoenix/parse/NamedNode.java   |    0
 .../org/apache/phoenix/parse/NamedParseNode.java   |    0
 .../org/apache/phoenix/parse/NamedTableNode.java   |    0
 .../apache/phoenix/parse/NotEqualParseNode.java    |    0
 .../org/apache/phoenix/parse/NotParseNode.java     |    0
 .../java/org/apache/phoenix/parse/OrParseNode.java |    0
 .../java/org/apache/phoenix/parse/OrderByNode.java |    0
 .../apache/phoenix/parse/OuterJoinParseNode.java   |    0
 .../org/apache/phoenix/parse/ParseContext.java     |    0
 .../org/apache/phoenix/parse/ParseException.java   |    0
 .../java/org/apache/phoenix/parse/ParseNode.java   |   52 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  564 ++
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  553 ++
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |  108 +
 .../apache/phoenix/parse/PrimaryKeyConstraint.java |    0
 .../org/apache/phoenix/parse/PropertyName.java     |    0
 .../org/apache/phoenix/parse/RoundParseNode.java   |   83 +
 .../parse/RowValueConstructorParseNode.java        |    0
 .../java/org/apache/phoenix/parse/SQLParser.java   |  198 +
 .../org/apache/phoenix/parse/SelectStatement.java  |  179 +
 .../phoenix/parse/SelectStatementRewriter.java     |    0
 .../phoenix/parse/SequenceValueParseNode.java      |   33 +
 .../phoenix/parse/SingleTableSQLStatement.java     |    0
 .../StatelessTraverseAllParseNodeVisitor.java      |   91 +
 .../phoenix/parse/StringConcatParseNode.java       |    0
 .../apache/phoenix/parse/SubqueryParseNode.java    |    0
 .../apache/phoenix/parse/SubtractParseNode.java    |    0
 .../phoenix/parse/SumAggregateParseNode.java       |    0
 .../java/org/apache/phoenix/parse/TableName.java   |   89 +
 .../java/org/apache/phoenix/parse/TableNode.java   |    0
 .../org/apache/phoenix/parse/TableNodeVisitor.java |    0
 .../apache/phoenix/parse/TerminalParseNode.java    |    0
 .../org/apache/phoenix/parse/ToCharParseNode.java  |   67 +
 .../org/apache/phoenix/parse/ToDateParseNode.java  |    0
 .../apache/phoenix/parse/ToNumberParseNode.java    |   49 +
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  158 +
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  242 +
 .../org/apache/phoenix/parse/UnaryParseNode.java   |    0
 .../parse/UnsupportedAllParseNodeVisitor.java      |  228 +
 .../org/apache/phoenix/parse/UpsertStatement.java  |    0
 .../apache/phoenix/parse/WildcardParseNode.java    |   58 +
 .../phoenix/query/BaseQueryServicesImpl.java       |    0
 .../apache/phoenix/query/ChildQueryServices.java   |    0
 .../apache/phoenix/query/ConfigurationFactory.java |    0
 .../phoenix/query/ConnectionQueryServices.java     |  102 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 1428 ++++
 .../query/ConnectionlessQueryServicesImpl.java     |  360 +
 .../query/DelegateConnectionQueryServices.java     |  227 +
 .../phoenix/query/DelegateQueryServices.java       |    0
 .../apache/phoenix/query/HBaseFactoryProvider.java |   57 +
 .../apache/phoenix/query/HConnectionFactory.java   |   51 +
 .../org/apache/phoenix/query/HTableFactory.java    |   56 +
 .../java/org/apache/phoenix/query/KeyRange.java    |    0
 .../org/apache/phoenix/query/MetaDataMutated.java  |   42 +
 .../org/apache/phoenix/query/QueryConstants.java   |  215 +
 .../org/apache/phoenix/query/QueryServices.java    |  119 +
 .../apache/phoenix/query/QueryServicesImpl.java    |    0
 .../apache/phoenix/query/QueryServicesOptions.java |  410 ++
 .../org/apache/phoenix/query/StatsManager.java     |    0
 .../org/apache/phoenix/query/StatsManagerImpl.java |  221 +
 .../phoenix/schema/AmbiguousColumnException.java   |    0
 .../phoenix/schema/AmbiguousTableException.java    |   52 +
 .../schema/ArgumentTypeMismatchException.java      |   44 +
 .../schema/ColumnAlreadyExistsException.java       |   62 +
 .../schema/ColumnFamilyNotFoundException.java      |   46 +
 .../org/apache/phoenix/schema/ColumnModifier.java  |    0
 .../phoenix/schema/ColumnNotFoundException.java    |   65 +
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  135 +
 .../schema/ConcurrentTableMutationException.java   |   48 +
 .../schema/ConstraintViolationException.java       |    0
 .../org/apache/phoenix/schema/DelegateColumn.java  |   71 +
 .../org/apache/phoenix/schema/DelegateDatum.java   |    0
 .../schema/EmptySequenceCacheException.java        |   21 +
 .../schema/ExecuteQueryNotApplicableException.java |   39 +
 .../ExecuteUpdateNotApplicableException.java       |   38 +
 .../phoenix/schema/IllegalDataException.java       |    0
 .../org/apache/phoenix/schema/KeyValueSchema.java  |  218 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 1739 +++++
 .../schema/MetaDataEntityNotFoundException.java    |   30 +
 .../apache/phoenix/schema/MetaDataSplitPolicy.java |    0
 .../schema/NewerTableAlreadyExistsException.java   |   29 +
 .../org/apache/phoenix/schema/PArrayDataType.java  |  386 ++
 .../org/apache/phoenix/schema/PBaseColumn.java     |   52 +
 .../java/org/apache/phoenix/schema/PColumn.java    |   51 +
 .../org/apache/phoenix/schema/PColumnFamily.java   |    0
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |    0
 .../org/apache/phoenix/schema/PColumnImpl.java     |  207 +
 .../java/org/apache/phoenix/schema/PDataType.java  | 6926 ++++++++++++++++++++
 .../org/apache/phoenix/schema/PDateColumn.java     |    0
 .../java/org/apache/phoenix/schema/PDatum.java     |    0
 .../org/apache/phoenix/schema/PIndexState.java     |    0
 .../org/apache/phoenix/schema/PIntegerColumn.java  |    0
 .../org/apache/phoenix/schema/PLongColumn.java     |    0
 .../java/org/apache/phoenix/schema/PMetaData.java  |    0
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  200 +
 .../main/java/org/apache/phoenix/schema/PName.java |   96 +
 .../org/apache/phoenix/schema/PNameFactory.java    |   23 +
 .../java/org/apache/phoenix/schema/PNameImpl.java  |  101 +
 .../org/apache/phoenix/schema/PNormalizedName.java |   53 +
 .../main/java/org/apache/phoenix/schema/PRow.java  |   75 +
 .../org/apache/phoenix/schema/PStringColumn.java   |    0
 .../java/org/apache/phoenix/schema/PTable.java     |  280 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  863 +++
 .../java/org/apache/phoenix/schema/PTableType.java |  111 +
 .../org/apache/phoenix/schema/PhoenixArray.java    |  470 ++
 .../phoenix/schema/ReadOnlyTableException.java     |   57 +
 .../org/apache/phoenix/schema/RowKeySchema.java    |    0
 .../apache/phoenix/schema/RowKeyValueAccessor.java |    0
 .../org/apache/phoenix/schema/SaltingUtil.java     |  172 +
 .../java/org/apache/phoenix/schema/Sequence.java   |  391 ++
 .../schema/SequenceAlreadyExistsException.java     |   48 +
 .../org/apache/phoenix/schema/SequenceKey.java     |   76 +
 .../phoenix/schema/SequenceNotFoundException.java  |   50 +
 .../schema/TableAlreadyExistsException.java        |   55 +
 .../phoenix/schema/TableNotFoundException.java     |   73 +
 .../java/org/apache/phoenix/schema/TableRef.java   |   82 +
 .../phoenix/schema/TypeMismatchException.java      |   60 +
 .../org/apache/phoenix/schema/ValueBitSet.java     |  200 +
 .../apache/phoenix/schema/ValueRangeExcpetion.java |   40 +
 .../org/apache/phoenix/schema/ValueSchema.java     |  337 +
 .../apache/phoenix/schema/stat/PTableStats.java    |    0
 .../phoenix/schema/stat/PTableStatsImpl.java       |    0
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   85 +
 .../apache/phoenix/schema/tuple/ResultTuple.java   |  104 +
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  111 +
 .../org/apache/phoenix/schema/tuple/Tuple.java     |   84 +
 .../org/apache/phoenix/util/BigDecimalUtil.java    |    0
 .../main/java/org/apache/phoenix/util/BitSet.java  |    0
 .../java/org/apache/phoenix/util/ByteUtil.java     |  561 ++
 .../java/org/apache/phoenix/util/CSVLoader.java    |  250 +
 .../java/org/apache/phoenix/util/Closeables.java   |    0
 .../java/org/apache/phoenix/util/ColumnInfo.java   |    0
 .../java/org/apache/phoenix/util/DateUtil.java     |  154 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  204 +
 .../org/apache/phoenix/util/InstanceResolver.java  |    0
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   83 +
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  170 +
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  233 +
 .../java/org/apache/phoenix/util/NumberUtil.java   |    0
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  308 +
 .../java/org/apache/phoenix/util/QueryUtil.java    |   75 +
 .../org/apache/phoenix/util/ReadOnlyProps.java     |    0
 .../java/org/apache/phoenix/util/ResultUtil.java   |  177 +
 .../java/org/apache/phoenix/util/SQLCloseable.java |    0
 .../org/apache/phoenix/util/SQLCloseables.java     |    0
 .../java/org/apache/phoenix/util/ScanUtil.java     |  447 ++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  507 ++
 .../java/org/apache/phoenix/util/ServerUtil.java   |    0
 .../java/org/apache/phoenix/util/SizedUtil.java    |    0
 .../java/org/apache/phoenix/util/StringUtil.java   |  246 +
 .../phoenix/util/TrustedByteArrayOutputStream.java |    0
 .../java/org/apache/phoenix/util/TupleUtil.java    |  155 +
 {src => phoenix-core/src}/main/java/overview.html  |    0
 .../src}/main/resources/java.sql.Driver            |    0
 {src => phoenix-core/src}/site/bin/merge.sh        |    0
 .../site/language_reference_source/datatypes.html  |    0
 .../site/language_reference_source/functions.html  |    0
 .../src}/site/language_reference_source/index.html |    0
 .../site/markdown/Phoenix-in-15-minutes-or-less.md |    0
 .../src}/site/markdown/building.md                 |    0
 .../src}/site/markdown/download.md                 |    0
 .../src}/site/markdown/dynamic_columns.md          |    0
 {src => phoenix-core/src}/site/markdown/faq.md     |    0
 {src => phoenix-core/src}/site/markdown/flume.md   |    0
 {src => phoenix-core/src}/site/markdown/index.md   |    0
 {src => phoenix-core/src}/site/markdown/issues.md  |    0
 .../src}/site/markdown/mailing_list.md             |    0
 .../src}/site/markdown/mr_dataload.md              |    0
 {src => phoenix-core/src}/site/markdown/paged.md   |    0
 .../src}/site/markdown/performance.md              |    0
 .../src}/site/markdown/phoenix_on_emr.md           |    0
 {src => phoenix-core/src}/site/markdown/recent.md  |    0
 {src => phoenix-core/src}/site/markdown/roadmap.md |    0
 {src => phoenix-core/src}/site/markdown/salted.md  |    0
 .../src}/site/markdown/secondary_indexing.md       |    0
 .../src}/site/markdown/sequences.md                |    0
 .../src}/site/markdown/skip_scan.md                |    0
 {src => phoenix-core/src}/site/markdown/source.md  |    0
 {src => phoenix-core/src}/site/markdown/tuning.md  |    0
 .../src}/site/resources/css/site.css               |    0
 .../src}/site/resources/favicon.ico                |  Bin
 .../src}/site/resources/images/PhoenixVsHive.png   |  Bin
 .../src}/site/resources/images/PhoenixVsImpala.png |  Bin
 .../site/resources/images/PhoenixVsOpenTSDB.png    |  Bin
 .../src}/site/resources/images/logo.png            |  Bin
 .../src}/site/resources/images/perf-esscf.png      |  Bin
 .../site/resources/images/perf-salted-read.png     |  Bin
 .../site/resources/images/perf-salted-write.png    |  Bin
 .../src}/site/resources/images/perf-skipscan.png   |  Bin
 .../src}/site/resources/images/perf-topn.png       |  Bin
 .../src}/site/resources/images/psql.png            |  Bin
 .../src}/site/resources/images/sqlline.png         |  Bin
 .../src}/site/resources/images/squirrel.png        |  Bin
 .../site/resources/images/topbar-logo-small.png    |  Bin
 .../src}/site/resources/images/topbar-logo.png     |  Bin
 .../src}/site/resources/language/images/div-d.png  |  Bin
 .../src}/site/resources/language/images/div-ke.png |  Bin
 .../src}/site/resources/language/images/div-ks.png |  Bin
 .../src}/site/resources/language/images/div-le.png |  Bin
 .../src}/site/resources/language/images/div-ls.png |  Bin
 .../src}/site/resources/language/images/div-te.png |  Bin
 .../src}/site/resources/language/images/div-ts.png |  Bin
 .../src}/site/resources/language/stylesheet.css    |    0
 {src => phoenix-core/src}/site/site.xml            |    0
 .../src}/site/xhtml/language/datatypes.xhtml       |    0
 .../src}/site/xhtml/language/functions.xhtml       |    0
 .../src}/site/xhtml/language/index.xhtml           |    0
 {src => phoenix-core/src}/site/xhtml/team.xhtml    |    0
 .../hadoop/hbase/index/IndexTestingUtils.java      |   96 +
 .../apache/hadoop/hbase/index/StubAbortable.java   |   43 +
 .../org/apache/hadoop/hbase/index/TableName.java   |   47 +
 .../index/TestFailForUnsupportedHBaseVersions.java |  157 +
 .../index/covered/CoveredIndexCodecForTesting.java |   73 +
 .../hbase/index/covered/TestCoveredColumns.java    |   47 +
 .../TestEndToEndCoveredColumnsIndexBuilder.java    |  341 +
 .../hbase/index/covered/TestLocalTableState.java   |  198 +
 .../index/covered/data/TestIndexMemStore.java      |   95 +
 .../index/covered/example/TestColumnTracker.java   |   63 +
 .../example/TestCoveredColumnIndexCodec.java       |  250 +
 .../example/TestCoveredIndexSpecifierBuilder.java  |   74 +
 .../example/TestEndToEndCoveredIndexing.java       |  879 +++
 .../TestEndtoEndIndexingWithCompression.java       |   51 +
 .../covered/example/TestFailWithoutRetries.java    |  147 +
 .../filter/TestApplyAndFilterDeletesFilter.java    |  212 +
 .../index/covered/filter/TestFamilyOnlyFilter.java |  107 +
 .../covered/filter/TestNewerTimestampFilter.java   |   49 +
 .../covered/update/TestIndexUpdateManager.java     |  142 +
 .../index/parallel/TestThreadPoolBuilder.java      |   65 +
 .../index/parallel/TestThreadPoolManager.java      |   95 +
 .../hbase/index/util/TestIndexManagementUtil.java  |   68 +
 .../hadoop/hbase/index/write/FakeTableFactory.java |   33 +
 .../index/write/TestCachingHTableFactory.java      |   60 +
 .../hadoop/hbase/index/write/TestIndexWriter.java  |  286 +
 .../hbase/index/write/TestParalleIndexWriter.java  |  119 +
 .../write/TestParalleWriterIndexCommitter.java     |  119 +
 .../hbase/index/write/TestWALRecoveryCaching.java  |  370 ++
 .../recovery/TestPerRegionIndexWriteCache.java     |  170 +
 .../wal/TestReadWriteKeyValuesWithCodec.java       |  155 +
 ...stWALReplayWithIndexWritesAndCompressedWAL.java |  275 +
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |   24 +
 .../arithmetic/ArithmeticOperationTest.java        |    0
 .../apache/phoenix/client/TestClientKeyValue.java  |  184 +
 .../phoenix/client/TestClientKeyValueLocal.java    |  270 +
 .../apache/phoenix/compile/HavingClauseTest.java   |  194 +
 .../phoenix/compile/JoinQueryCompileTest.java      |   65 +
 .../apache/phoenix/compile/LimitClauseTest.java    |  157 +
 .../apache/phoenix/compile/QueryCompileTest.java   | 1273 ++++
 .../apache/phoenix/compile/QueryMetaDataTest.java  |  446 ++
 .../apache/phoenix/compile/QueryOptimizerTest.java |  281 +
 .../org/apache/phoenix/compile/ScanRangesTest.java |    0
 .../compile/SelectStatementRewriterTest.java       |  119 +
 .../compile/StatementHintsCompilationTest.java     |  124 +
 .../apache/phoenix/compile/ViewCompileTest.java    |  119 +
 .../phoenix/compile/WhereClauseCompileTest.java    |  839 +++
 .../phoenix/compile/WhereClauseOptimizerTest.java  | 1620 +++++
 .../org/apache/phoenix/end2end/AlterTableTest.java |  793 +++
 .../phoenix/end2end/ArithmeticQueryTest.java       |    0
 .../java/org/apache/phoenix/end2end/ArrayTest.java |  810 +++
 .../org/apache/phoenix/end2end/AutoCommitTest.java |    0
 .../phoenix/end2end/BaseClientManagedTimeTest.java |   43 +
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  739 +++
 .../phoenix/end2end/BaseHBaseManagedTimeTest.java  |    0
 .../end2end/BaseTenantSpecificTablesTest.java      |   77 +
 .../apache/phoenix/end2end/BinaryRowKeyTest.java   |    0
 .../org/apache/phoenix/end2end/CSVLoaderTest.java  |    0
 .../phoenix/end2end/CoalesceFunctionTest.java      |   59 +
 .../phoenix/end2end/CompareDecimalToLongTest.java  |  240 +
 .../end2end/ConnectionQueryServicesTestImpl.java   |    0
 .../apache/phoenix/end2end/CreateTableTest.java    |  104 +
 .../phoenix/end2end/CustomEntityDataTest.java      |  216 +
 ...DefaultParallelIteratorsRegionSplitterTest.java |  358 +
 .../org/apache/phoenix/end2end/DeleteTest.java     |    0
 .../phoenix/end2end/DescColumnSortOrderTest.java   |    0
 .../apache/phoenix/end2end/DistinctCountTest.java  |  380 ++
 .../apache/phoenix/end2end/DynamicColumnTest.java  |  220 +
 .../apache/phoenix/end2end/DynamicFamilyTest.java  |    0
 .../apache/phoenix/end2end/DynamicUpsertTest.java  |  227 +
 .../phoenix/end2end/ExecuteStatementsTest.java     |    0
 .../phoenix/end2end/ExtendedQueryExecTest.java     |  190 +
 .../org/apache/phoenix/end2end/FunkyNamesTest.java |  145 +
 .../apache/phoenix/end2end/GroupByCaseTest.java    |  196 +
 .../org/apache/phoenix/end2end/HashJoinTest.java   | 1439 ++++
 .../phoenix/end2end/InMemoryOrderByTest.java       |    0
 .../org/apache/phoenix/end2end/IsNullTest.java     |   67 +
 .../org/apache/phoenix/end2end/KeyOnlyTest.java    |  148 +
 .../phoenix/end2end/MultiCfQueryExecTest.java      |  231 +
 .../phoenix/end2end/NativeHBaseTypesTest.java      |  307 +
 .../org/apache/phoenix/end2end/OrderByTest.java    |  155 +
 .../org/apache/phoenix/end2end/PercentileTest.java |  621 ++
 .../apache/phoenix/end2end/ProductMetricsTest.java | 2027 ++++++
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  975 +++
 .../phoenix/end2end/QueryExecWithoutSCNTest.java   |    0
 .../org/apache/phoenix/end2end/QueryPlanTest.java  |    0
 .../java/org/apache/phoenix/end2end/QueryTest.java | 2812 ++++++++
 .../phoenix/end2end/ReadIsolationLevelTest.java    |  152 +
 .../phoenix/end2end/ReverseFunctionTest.java       |    0
 .../RoundFloorCeilFunctionsEnd2EndTest.java        |  346 +
 .../phoenix/end2end/RowValueConstructorTest.java   |  873 +++
 .../org/apache/phoenix/end2end/SequenceTest.java   |  530 ++
 .../phoenix/end2end/ServerExceptionTest.java       |    0
 ...kipRangeParallelIteratorRegionSplitterTest.java |  369 ++
 .../apache/phoenix/end2end/SkipScanQueryTest.java  |    0
 .../phoenix/end2end/SpillableGroupByTest.java      |  136 +
 .../apache/phoenix/end2end/SpooledOrderByTest.java |    0
 .../apache/phoenix/end2end/StatementHintsTest.java |    0
 .../org/apache/phoenix/end2end/StddevTest.java     |  137 +
 .../end2end/TenantSpecificTablesDDLTest.java       |  444 ++
 .../end2end/TenantSpecificTablesDMLTest.java       |  349 +
 .../apache/phoenix/end2end/ToCharFunctionTest.java |  242 +
 .../phoenix/end2end/ToNumberFunctionTest.java      |  286 +
 .../java/org/apache/phoenix/end2end/TopNTest.java  |  160 +
 .../phoenix/end2end/UpsertBigValuesTest.java       |    0
 .../end2end/UpsertSelectAutoCommitTest.java        |    0
 .../apache/phoenix/end2end/UpsertSelectTest.java   |  689 ++
 .../apache/phoenix/end2end/UpsertValuesTest.java   |  366 ++
 .../phoenix/end2end/VariableLengthPKTest.java      | 1881 ++++++
 .../java/org/apache/phoenix/end2end/ViewTest.java  |  179 +
 .../end2end/index/BaseMutableIndexTest.java        |    0
 .../apache/phoenix/end2end/index/DropViewTest.java |    0
 .../phoenix/end2end/index/ImmutableIndexTest.java  |    0
 .../phoenix/end2end/index/IndexMetadataTest.java   |  380 ++
 .../phoenix/end2end/index/IndexTestUtil.java       |  168 +
 .../end2end/index/MutableIndexFailureTest.java     |  126 +
 .../phoenix/end2end/index/MutableIndexTest.java    |    0
 .../end2end/index/MutableSaltedIndexTest.java      |    0
 .../phoenix/end2end/salted/SaltedTableTest.java    |  528 ++
 .../salted/SaltedTableUpsertSelectTest.java        |    0
 .../salted/SaltedTableVarLengthRowKeyTest.java     |   68 +
 .../phoenix/expression/CoerceExpressionTest.java   |  132 +
 .../phoenix/expression/ColumnExpressionTest.java   |  116 +
 .../DescColumnSortOrderExpressionTest.java         |  311 +
 .../phoenix/expression/LikeExpressionTest.java     |    0
 .../RoundFloorCeilExpressionsUnitTests.java        |  233 +
 .../filter/SkipScanFilterIntersectTest.java        |    0
 .../apache/phoenix/filter/SkipScanFilterTest.java  |    0
 .../apache/phoenix/index/IndexMaintainerTest.java  |  239 +
 .../iterate/AggregateResultScannerTest.java        |  147 +
 .../phoenix/iterate/ConcatResultIteratorTest.java  |    0
 .../iterate/MergeSortResultIteratorTest.java       |    0
 .../iterate/SpoolingResultIteratorTest.java        |    0
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |    0
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   82 +
 .../org/apache/phoenix/logging/PerformanceLog.java |    0
 .../apache/phoenix/memory/MemoryManagerTest.java   |    0
 .../org/apache/phoenix/parse/QueryParserTest.java  |  670 ++
 .../phoenix/query/BaseConnectionlessQueryTest.java |  105 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  485 ++
 .../phoenix/query/ConnectionlessUpsertTest.java    |    0
 .../phoenix/query/HBaseFactoryProviderTest.java    |   44 +
 .../phoenix/query/KeyRangeCoalesceTests.java       |    0
 .../phoenix/query/KeyRangeIntersectTests.java      |    0
 .../apache/phoenix/query/KeyRangeUnionTests.java   |    0
 .../phoenix/query/QueryServicesTestImpl.java       |    0
 .../phoenix/schema/PDataTypeForArraysTest.java     |  522 ++
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 1601 +++++
 .../apache/phoenix/schema/RowKeySchemaTest.java    |    0
 .../phoenix/schema/RowKeyValueAccessorTest.java    |    0
 .../org/apache/phoenix/schema/SchemaUtilTest.java  |   59 +
 .../org/apache/phoenix/schema/ValueBitSetTest.java |    0
 .../org/apache/phoenix/util/AssertResults.java     |    0
 .../java/org/apache/phoenix/util/ByteUtilTest.java |    0
 .../java/org/apache/phoenix/util/DateUtilTest.java |    0
 .../phoenix/util/GeneratePerformanceData.java      |    0
 .../apache/phoenix/util/LikeExpressionTest.java    |    0
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |    0
 .../java/org/apache/phoenix/util/ScanUtilTest.java |    0
 .../java/org/apache/phoenix/util/TestUtil.java     |  331 +
 .../src}/test/resources/hbase-default.xml          |    0
 .../src}/test/resources/log4j.properties           |    0
 phoenix-flume/pom.xml                              |  104 +
 .../apache/phoenix/flume/DefaultKeyGenerator.java  |   71 +
 .../org/apache/phoenix/flume/FlumeConstants.java   |   81 +
 .../org/apache/phoenix/flume/KeyGenerator.java     |   26 +
 .../org/apache/phoenix/flume/SchemaHandler.java    |   49 +
 .../flume/serializer/BaseEventSerializer.java      |  237 +
 .../phoenix/flume/serializer/EventSerializer.java  |   44 +
 .../phoenix/flume/serializer/EventSerializers.java |   38 +
 .../flume/serializer/RegexEventSerializer.java     |  149 +
 .../org/apache/phoenix/flume/sink/PhoenixSink.java |  207 +
 .../org/apache/phoenix/flume/TestPhoenixSink.java  |  198 +
 .../phoenix/flume/TestRegexEventSerializer.java    |  418 ++
 phoenix-hadoop-compat/pom.xml                      |   40 +
 phoenix-hadoop1-compat/pom.xml                     |   18 +
 phoenix-hadoop2-compat/pom.xml                     |   10 +
 phoenix-pig/pom.xml                                |   22 +
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |    0
 .../phoenix/pig/PhoenixPigConfiguration.java       |    0
 .../main/java/org/apache/phoenix/pig/TypeUtil.java |  191 +
 .../phoenix/pig/hadoop/PhoenixOutputCommitter.java |    0
 .../phoenix/pig/hadoop/PhoenixOutputFormat.java    |    0
 .../apache/phoenix/pig/hadoop/PhoenixRecord.java   |   91 +
 .../phoenix/pig/hadoop/PhoenixRecordWriter.java    |    0
 pom.xml                                            |  820 ++-
 src/build/all.xml                                  |  118 -
 src/build/client.xml                               |   85 -
 src/main/antlr3/PhoenixSQL.g                       | 1102 ----
 .../hbase/regionserver/wal/IndexedWALEdit.java     |   91 -
 .../regionserver/wal/IndexedWALEditCodec.java      |  195 -
 .../org/apache/hbase/index/CapturingAbortable.java |   68 -
 .../hbase/index/IndexLogRollSynchronizer.java      |  125 -
 src/main/java/org/apache/hbase/index/Indexer.java  |  704 --
 .../java/org/apache/hbase/index/ValueGetter.java   |   38 -
 .../hbase/index/builder/BaseIndexBuilder.java      |   99 -
 .../hbase/index/builder/IndexBuildManager.java     |  216 -
 .../apache/hbase/index/builder/IndexBuilder.java   |  144 -
 .../builder/IndexBuildingFailureException.java     |   50 -
 .../java/org/apache/hbase/index/covered/Batch.java |   62 -
 .../apache/hbase/index/covered/CoveredColumns.java |   51 -
 .../index/covered/CoveredColumnsIndexBuilder.java  |  490 --
 .../org/apache/hbase/index/covered/IndexCodec.java |  112 -
 .../apache/hbase/index/covered/IndexUpdate.java    |   79 -
 .../apache/hbase/index/covered/KeyValueStore.java  |   35 -
 .../hbase/index/covered/LocalTableState.java       |  244 -
 .../org/apache/hbase/index/covered/TableState.java |   98 -
 .../hbase/index/covered/data/IndexMemStore.java    |  317 -
 .../hbase/index/covered/data/LazyValueGetter.java  |   89 -
 .../hbase/index/covered/data/LocalHBaseState.java  |   49 -
 .../hbase/index/covered/data/LocalTable.java       |   74 -
 .../hbase/index/covered/example/ColumnGroup.java   |   95 -
 .../hbase/index/covered/example/CoveredColumn.java |   89 -
 .../covered/example/CoveredColumnIndexCodec.java   |  367 --
 .../CoveredColumnIndexSpecifierBuilder.java        |  166 -
 .../covered/example/CoveredColumnIndexer.java      |  146 -
 .../filter/ApplyAndFilterDeletesFilter.java        |  310 -
 .../ColumnTrackingNextLargestTimestampFilter.java  |   74 -
 .../index/covered/filter/FamilyOnlyFilter.java     |   80 -
 .../index/covered/filter/MaxTimestampFilter.java   |   76 -
 .../index/covered/filter/NewerTimestampFilter.java |   37 -
 .../index/covered/update/ColumnReference.java      |  141 -
 .../hbase/index/covered/update/ColumnTracker.java  |  117 -
 .../index/covered/update/IndexUpdateManager.java   |  240 -
 .../index/covered/update/IndexedColumnGroup.java   |   30 -
 .../index/covered/update/SortedCollection.java     |  130 -
 .../hbase/index/exception/IndexWriteException.java |   45 -
 .../exception/MultiIndexWriteFailureException.java |   46 -
 .../SingleIndexWriteFailureException.java          |   63 -
 .../hbase/index/parallel/BaseTaskRunner.java       |  131 -
 .../hbase/index/parallel/EarlyExitFailure.java     |   36 -
 .../index/parallel/QuickFailingTaskRunner.java     |   51 -
 .../java/org/apache/hbase/index/parallel/Task.java |   42 -
 .../org/apache/hbase/index/parallel/TaskBatch.java |   76 -
 .../apache/hbase/index/parallel/TaskRunner.java    |   62 -
 .../hbase/index/parallel/ThreadPoolBuilder.java    |   92 -
 .../hbase/index/parallel/ThreadPoolManager.java    |  148 -
 .../parallel/WaitForCompletionTaskRunner.java      |   53 -
 .../apache/hbase/index/scanner/EmptyScanner.java   |   32 -
 .../index/scanner/FilteredKeyValueScanner.java     |  134 -
 .../org/apache/hbase/index/scanner/Scanner.java    |   37 -
 .../apache/hbase/index/scanner/ScannerBuilder.java |  147 -
 .../hbase/index/table/CachingHTableFactory.java    |  112 -
 .../index/table/CoprocessorHTableFactory.java      |   50 -
 .../apache/hbase/index/table/HTableFactory.java    |   14 -
 .../index/table/HTableInterfaceReference.java      |   46 -
 .../apache/hbase/index/util/ImmutableBytesPtr.java |   96 -
 .../hbase/index/util/IndexManagementUtil.java      |  246 -
 .../apache/hbase/index/wal/IndexedKeyValue.java    |  155 -
 .../org/apache/hbase/index/wal/KeyValueCodec.java  |   79 -
 .../apache/hbase/index/write/IndexCommitter.java   |   39 -
 .../hbase/index/write/IndexFailurePolicy.java      |   46 -
 .../org/apache/hbase/index/write/IndexWriter.java  |  226 -
 .../apache/hbase/index/write/IndexWriterUtils.java |   74 -
 .../index/write/KillServerOnFailurePolicy.java     |   82 -
 .../index/write/ParallelWriterIndexCommitter.java  |  212 -
 .../write/recovery/PerRegionIndexWriteCache.java   |   65 -
 .../write/recovery/StoreFailuresInCachePolicy.java |   84 -
 .../TrackingParallelWriterIndexCommitter.java      |  228 -
 .../java/org/apache/phoenix/cache/GlobalCache.java |  114 -
 .../java/org/apache/phoenix/cache/HashCache.java   |   40 -
 .../apache/phoenix/cache/ServerCacheClient.java    |  278 -
 .../java/org/apache/phoenix/cache/TenantCache.java |   44 -
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   96 -
 .../org/apache/phoenix/compile/BindManager.java    |   82 -
 .../apache/phoenix/compile/ColumnProjector.java    |   69 -
 .../phoenix/compile/CreateIndexCompiler.java       |   88 -
 .../phoenix/compile/CreateTableCompiler.java       |   90 -
 .../org/apache/phoenix/compile/DeleteCompiler.java |  352 -
 .../apache/phoenix/compile/ExpressionCompiler.java | 1250 ----
 .../phoenix/compile/ExpressionProjector.java       |   84 -
 .../org/apache/phoenix/compile/FromCompiler.java   |  390 --
 .../apache/phoenix/compile/GroupByCompiler.java    |  278 -
 .../org/apache/phoenix/compile/HavingCompiler.java |  240 -
 .../phoenix/compile/IndexStatementRewriter.java    |   67 -
 .../org/apache/phoenix/compile/LimitCompiler.java  |  109 -
 .../apache/phoenix/compile/OrderByCompiler.java    |  126 -
 .../apache/phoenix/compile/PostDDLCompiler.java    |  220 -
 .../apache/phoenix/compile/ProjectionCompiler.java |  354 -
 .../org/apache/phoenix/compile/QueryCompiler.java  |  136 -
 .../java/org/apache/phoenix/compile/QueryPlan.java |   67 -
 .../apache/phoenix/compile/StatementContext.java   |  199 -
 .../phoenix/compile/StatementNormalizer.java       |   83 -
 .../TrackOrderPreservingExpressionCompiler.java    |  194 -
 .../org/apache/phoenix/compile/UpsertCompiler.java |  630 --
 .../org/apache/phoenix/compile/WhereCompiler.java  |  214 -
 .../org/apache/phoenix/compile/WhereOptimizer.java | 1112 ----
 .../GroupedAggregateRegionObserver.java            |  385 --
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  235 -
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 1058 ---
 .../phoenix/coprocessor/MetaDataProtocol.java      |  255 -
 .../apache/phoenix/coprocessor/ScanProjector.java  |  202 -
 .../phoenix/coprocessor/ScanRegionObserver.java    |  312 -
 .../coprocessor/ServerCachingEndpointImpl.java     |   57 -
 .../UngroupedAggregateRegionObserver.java          |  437 --
 .../phoenix/exception/PhoenixParserException.java  |  107 -
 .../apache/phoenix/exception/SQLExceptionCode.java |  195 -
 .../apache/phoenix/exception/SQLExceptionInfo.java |  142 -
 .../org/apache/phoenix/execute/AggregatePlan.java  |  178 -
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  188 -
 .../phoenix/execute/DegenerateQueryPlan.java       |   51 -
 .../org/apache/phoenix/execute/MutationState.java  |  435 --
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  110 -
 .../apache/phoenix/expression/AndExpression.java   |   67 -
 .../phoenix/expression/BaseCompoundExpression.java |  123 -
 .../apache/phoenix/expression/BaseExpression.java  |  103 -
 .../apache/phoenix/expression/CaseExpression.java  |  232 -
 .../expression/CeilingDecimalExpression.java       |   87 -
 .../expression/CeilingTimestampExpression.java     |   83 -
 .../phoenix/expression/CoerceExpression.java       |  150 -
 .../phoenix/expression/ComparisonExpression.java   |  155 -
 .../org/apache/phoenix/expression/Expression.java  |   77 -
 .../apache/phoenix/expression/ExpressionType.java  |  175 -
 .../phoenix/expression/FloorDecimalExpression.java |   51 -
 .../expression/FloorTimestampExpression.java       |   49 -
 .../phoenix/expression/InListExpression.java       |  291 -
 .../expression/KeyValueColumnExpression.java       |  119 -
 .../phoenix/expression/LiteralExpression.java      |  260 -
 .../expression/RowValueConstructorExpression.java  |  355 -
 .../phoenix/expression/TimestampAddExpression.java |   89 -
 .../expression/TimestampSubtractExpression.java    |   89 -
 .../phoenix/expression/aggregator/Aggregators.java |  125 -
 .../expression/aggregator/BaseAggregator.java      |   50 -
 .../aggregator/BaseDecimalStddevAggregator.java    |  119 -
 .../aggregator/BaseStddevAggregator.java           |   96 -
 .../expression/aggregator/CountAggregator.java     |   84 -
 .../aggregator/DecimalSumAggregator.java           |   91 -
 .../DistinctValueWithCountClientAggregator.java    |  132 -
 .../DistinctValueWithCountServerAggregator.java    |  174 -
 .../expression/aggregator/DoubleSumAggregator.java |   90 -
 .../expression/aggregator/NumberSumAggregator.java |   99 -
 .../expression/function/AggregateFunction.java     |   44 -
 .../function/CountAggregateFunction.java           |  106 -
 .../expression/function/CurrentDateFunction.java   |   68 -
 .../expression/function/CurrentTimeFunction.java   |   68 -
 .../function/DistinctCountAggregateFunction.java   |  115 -
 .../phoenix/expression/function/LowerFunction.java |   60 -
 .../phoenix/expression/function/MD5Function.java   |  100 -
 .../expression/function/MaxAggregateFunction.java  |   75 -
 .../expression/function/MinAggregateFunction.java  |   89 -
 .../function/PercentRankAggregateFunction.java     |   71 -
 .../function/PercentileContAggregateFunction.java  |   72 -
 .../function/PercentileDiscAggregateFunction.java  |   69 -
 .../phoenix/expression/function/RoundFunction.java |  238 -
 .../function/SingleAggregateFunction.java          |  166 -
 .../phoenix/expression/function/SqlTableType.java  |   80 -
 .../expression/function/SqlTypeNameFunction.java   |   86 -
 .../expression/function/StddevPopFunction.java     |   74 -
 .../expression/function/StddevSampFunction.java    |   74 -
 .../expression/function/SumAggregateFunction.java  |  146 -
 .../phoenix/expression/function/TimeUnit.java      |   22 -
 .../phoenix/expression/function/TruncFunction.java |   58 -
 .../phoenix/expression/function/UpperFunction.java |   58 -
 .../expression/visitor/BaseExpressionVisitor.java  |  247 -
 .../expression/visitor/ExpressionVisitor.java      |  136 -
 .../phoenix/filter/BooleanExpressionFilter.java    |  125 -
 .../filter/EvaluateOnCompletionVisitor.java        |   76 -
 .../filter/MultiCQKeyValueComparisonFilter.java    |   70 -
 .../filter/MultiKeyValueComparisonFilter.java      |  237 -
 .../phoenix/filter/RowKeyComparisonFilter.java     |  150 -
 .../org/apache/phoenix/index/BaseIndexCodec.java   |   61 -
 .../org/apache/phoenix/index/IndexMaintainer.java  |  780 ---
 .../phoenix/index/IndexMetaDataCacheClient.java    |   96 -
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   63 -
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   96 -
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  172 -
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  102 -
 .../DefaultParallelIteratorRegionSplitter.java     |  229 -
 .../iterate/MappedByteBufferSortedQueue.java       |  381 --
 .../iterate/MergeSortRowKeyResultIterator.java     |   59 -
 .../apache/phoenix/iterate/ParallelIterators.java  |  232 -
 .../SkipRangeParallelIteratorRegionSplitter.java   |   85 -
 .../phoenix/iterate/TableResultIterator.java       |   86 -
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  639 --
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 1382 ----
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   96 -
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  321 -
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |  172 -
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  430 --
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  | 1231 ----
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 1239 ----
 .../org/apache/phoenix/join/HashCacheClient.java   |  136 -
 .../org/apache/phoenix/join/HashCacheFactory.java  |  127 -
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  126 -
 .../phoenix/join/HashJoiningRegionObserver.java    |   57 -
 .../apache/phoenix/map/reduce/MapReduceJob.java    |  204 -
 .../apache/phoenix/optimize/QueryOptimizer.java    |  239 -
 .../apache/phoenix/parse/AddColumnStatement.java   |   49 -
 .../phoenix/parse/AggregateFunctionParseNode.java  |   39 -
 .../java/org/apache/phoenix/parse/AliasedNode.java |   53 -
 .../apache/phoenix/parse/AlterTableStatement.java  |   28 -
 .../org/apache/phoenix/parse/BindParseNode.java    |   61 -
 .../org/apache/phoenix/parse/CastParseNode.java    |   63 -
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  147 -
 .../apache/phoenix/parse/CompoundParseNode.java    |   72 -
 .../apache/phoenix/parse/CreateTableStatement.java |   84 -
 .../parse/DelegateConstantToCountParseNode.java    |   48 -
 .../apache/phoenix/parse/DropColumnStatement.java  |   41 -
 .../apache/phoenix/parse/FunctionParseNode.java    |  427 --
 .../org/apache/phoenix/parse/InListParseNode.java  |   66 -
 .../org/apache/phoenix/parse/JoinTableNode.java    |   58 -
 .../org/apache/phoenix/parse/LiteralParseNode.java |   73 -
 .../java/org/apache/phoenix/parse/ParseNode.java   |   52 -
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  534 --
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  504 --
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |  104 -
 .../java/org/apache/phoenix/parse/SQLParser.java   |  173 -
 .../org/apache/phoenix/parse/SelectStatement.java  |  184 -
 .../apache/phoenix/parse/ShowTablesStatement.java  |    8 -
 .../StatelessTraverseAllParseNodeVisitor.java      |   86 -
 .../java/org/apache/phoenix/parse/TableName.java   |   56 -
 .../org/apache/phoenix/parse/ToCharParseNode.java  |   65 -
 .../apache/phoenix/parse/ToNumberParseNode.java    |   47 -
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  148 -
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  227 -
 .../parse/UnsupportedAllParseNodeVisitor.java      |  212 -
 .../apache/phoenix/parse/WildcardParseNode.java    |   56 -
 src/main/java/org/apache/phoenix/pig/TypeUtil.java |  175 -
 .../apache/phoenix/pig/hadoop/PhoenixRecord.java   |   91 -
 .../phoenix/query/ConnectionQueryServices.java     |   84 -
 .../phoenix/query/ConnectionQueryServicesImpl.java | 1296 ----
 .../query/ConnectionlessQueryServicesImpl.java     |  236 -
 .../apache/phoenix/query/DegenerateScanner.java    |   60 -
 .../query/DelegateConnectionQueryServices.java     |  171 -
 .../org/apache/phoenix/query/DelegateScanner.java  |   56 -
 .../apache/phoenix/query/HBaseFactoryProvider.java |   50 -
 .../org/apache/phoenix/query/HTableFactory.java    |   58 -
 .../org/apache/phoenix/query/MetaDataMutated.java  |   40 -
 .../org/apache/phoenix/query/QueryConstants.java   |  173 -
 .../org/apache/phoenix/query/QueryServices.java    |  115 -
 .../apache/phoenix/query/QueryServicesOptions.java |  363 -
 .../java/org/apache/phoenix/query/Scanner.java     |   35 -
 .../org/apache/phoenix/query/StatsManagerImpl.java |  221 -
 .../org/apache/phoenix/query/WrappedScanner.java   |   70 -
 .../phoenix/schema/AmbiguousTableException.java    |   52 -
 .../schema/ArgumentTypeMismatchException.java      |   44 -
 .../schema/ColumnAlreadyExistsException.java       |   62 -
 .../schema/ColumnFamilyNotFoundException.java      |   46 -
 .../phoenix/schema/ColumnNotFoundException.java    |   65 -
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  132 -
 .../schema/ConcurrentTableMutationException.java   |   48 -
 .../org/apache/phoenix/schema/DelegateColumn.java  |   64 -
 .../schema/ExecuteQueryNotApplicableException.java |   39 -
 .../ExecuteUpdateNotApplicableException.java       |   38 -
 .../org/apache/phoenix/schema/KeyValueSchema.java  |  207 -
 .../org/apache/phoenix/schema/MetaDataClient.java  | 1440 ----
 .../schema/MetaDataEntityNotFoundException.java    |   30 -
 .../schema/NewerTableAlreadyExistsException.java   |   29 -
 .../org/apache/phoenix/schema/PBaseColumn.java     |   52 -
 .../java/org/apache/phoenix/schema/PColumn.java    |   46 -
 .../org/apache/phoenix/schema/PColumnImpl.java     |  197 -
 .../java/org/apache/phoenix/schema/PDataType.java  | 4769 --------------
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  144 -
 src/main/java/org/apache/phoenix/schema/PName.java |   80 -
 .../org/apache/phoenix/schema/PNameFactory.java    |   75 -
 .../org/apache/phoenix/schema/PNormalizedName.java |   72 -
 src/main/java/org/apache/phoenix/schema/PRow.java  |   70 -
 .../java/org/apache/phoenix/schema/PTable.java     |  179 -
 .../java/org/apache/phoenix/schema/PTableImpl.java |  740 ---
 .../java/org/apache/phoenix/schema/PTableType.java |  110 -
 .../phoenix/schema/ReadOnlyTableException.java     |   56 -
 .../org/apache/phoenix/schema/SaltingUtil.java     |  172 -
 .../schema/TableAlreadyExistsException.java        |   61 -
 .../phoenix/schema/TableNotFoundException.java     |   57 -
 .../java/org/apache/phoenix/schema/TableRef.java   |   81 -
 .../phoenix/schema/TypeMismatchException.java      |   52 -
 .../org/apache/phoenix/schema/ValueBitSet.java     |  200 -
 .../apache/phoenix/schema/ValueRangeExcpetion.java |   40 -
 .../org/apache/phoenix/schema/ValueSchema.java     |  311 -
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   75 -
 .../apache/phoenix/schema/tuple/ResultTuple.java   |   94 -
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  102 -
 .../org/apache/phoenix/schema/tuple/Tuple.java     |   72 -
 .../java/org/apache/phoenix/util/ByteUtil.java     |  559 --
 .../java/org/apache/phoenix/util/CSVLoader.java    |  250 -
 .../java/org/apache/phoenix/util/DateUtil.java     |  154 -
 .../java/org/apache/phoenix/util/IndexUtil.java    |  199 -
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   81 -
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  134 -
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  197 -
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  320 -
 .../java/org/apache/phoenix/util/QueryUtil.java    |   68 -
 .../java/org/apache/phoenix/util/ResultUtil.java   |  172 -
 .../java/org/apache/phoenix/util/ScanUtil.java     |  425 --
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  823 ---
 .../java/org/apache/phoenix/util/StringUtil.java   |  245 -
 .../java/org/apache/phoenix/util/TupleUtil.java    |  155 -
 .../wal/TestReadWriteKeyValuesWithCodec.java       |  155 -
 ...stWALReplayWithIndexWritesAndCompressedWAL.java |  275 -
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |   24 -
 .../org/apache/hbase/index/IndexTestingUtils.java  |   96 -
 .../java/org/apache/hbase/index/StubAbortable.java |   43 -
 .../java/org/apache/hbase/index/TableName.java     |   47 -
 .../index/TestFailForUnsupportedHBaseVersions.java |  157 -
 .../index/covered/CoveredIndexCodecForTesting.java |   73 -
 .../hbase/index/covered/TestCoveredColumns.java    |   47 -
 .../TestEndToEndCoveredColumnsIndexBuilder.java    |  341 -
 .../hbase/index/covered/TestLocalTableState.java   |  198 -
 .../index/covered/data/TestIndexMemStore.java      |   95 -
 .../index/covered/example/TestColumnTracker.java   |   63 -
 .../example/TestCoveredColumnIndexCodec.java       |  250 -
 .../example/TestCoveredIndexSpecifierBuilder.java  |   74 -
 .../example/TestEndToEndCoveredIndexing.java       |  879 ---
 .../TestEndtoEndIndexingWithCompression.java       |   51 -
 .../covered/example/TestFailWithoutRetries.java    |  147 -
 .../filter/TestApplyAndFilterDeletesFilter.java    |  212 -
 .../index/covered/filter/TestFamilyOnlyFilter.java |  107 -
 .../covered/filter/TestNewerTimestampFilter.java   |   49 -
 .../covered/update/TestIndexUpdateManager.java     |  142 -
 .../index/parallel/TestThreadPoolBuilder.java      |   65 -
 .../index/parallel/TestThreadPoolManager.java      |   95 -
 .../hbase/index/util/TestIndexManagementUtil.java  |   68 -
 .../apache/hbase/index/write/FakeTableFactory.java |   33 -
 .../index/write/TestCachingHTableFactory.java      |   60 -
 .../apache/hbase/index/write/TestIndexWriter.java  |  286 -
 .../hbase/index/write/TestParalleIndexWriter.java  |  119 -
 .../write/TestParalleWriterIndexCommitter.java     |  119 -
 .../hbase/index/write/TestWALRecoveryCaching.java  |  370 --
 .../recovery/TestPerRegionIndexWriteCache.java     |  170 -
 .../apache/phoenix/compile/HavingClauseTest.java   |  193 -
 .../apache/phoenix/compile/LimitClauseTest.java    |  156 -
 .../apache/phoenix/compile/QueryCompileTest.java   | 1118 ----
 .../apache/phoenix/compile/QueryMetaDataTest.java  |  447 --
 .../apache/phoenix/compile/QueryOptimizerTest.java |  262 -
 .../compile/SelectStatementRewriterTest.java       |  118 -
 .../compile/StatementHintsCompilationTest.java     |  123 -
 .../phoenix/compile/WhereClauseFilterTest.java     |  911 ---
 .../phoenix/compile/WhereClauseScanKeyTest.java    | 1618 -----
 .../org/apache/phoenix/end2end/AlterTableTest.java |  699 --
 .../phoenix/end2end/BaseClientMangedTimeTest.java  |   43 -
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  611 --
 .../phoenix/end2end/CoalesceFunctionTest.java      |   59 -
 .../phoenix/end2end/CompareDecimalToLongTest.java  |  240 -
 .../apache/phoenix/end2end/CreateTableTest.java    |   93 -
 .../phoenix/end2end/CustomEntityDataTest.java      |  216 -
 ...DefaultParallelIteratorsRegionSplitterTest.java |  358 -
 .../apache/phoenix/end2end/DistinctCountTest.java  |  380 --
 .../apache/phoenix/end2end/DynamicColumnTest.java  |  220 -
 .../apache/phoenix/end2end/DynamicUpsertTest.java  |  227 -
 .../phoenix/end2end/ExtendedQueryExecTest.java     |  190 -
 .../org/apache/phoenix/end2end/FunkyNamesTest.java |  145 -
 .../apache/phoenix/end2end/GroupByCaseTest.java    |  196 -
 .../org/apache/phoenix/end2end/IsNullTest.java     |   67 -
 .../org/apache/phoenix/end2end/KeyOnlyTest.java    |  148 -
 .../apache/phoenix/end2end/MD5FunctionTest.java    |   85 -
 .../phoenix/end2end/MultiCfQueryExecTest.java      |  231 -
 .../phoenix/end2end/NativeHBaseTypesTest.java      |  307 -
 .../org/apache/phoenix/end2end/OrderByTest.java    |  125 -
 .../org/apache/phoenix/end2end/PercentileTest.java |  621 --
 .../apache/phoenix/end2end/ProductMetricsTest.java | 2027 ------
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  976 ---
 .../java/org/apache/phoenix/end2end/QueryTest.java | 2712 --------
 .../phoenix/end2end/ReadIsolationLevelTest.java    |  152 -
 .../phoenix/end2end/RowValueConstructorTest.java   |  812 ---
 ...kipRangeParallelIteratorRegionSplitterTest.java |  369 --
 .../org/apache/phoenix/end2end/StddevTest.java     |  137 -
 .../apache/phoenix/end2end/ToCharFunctionTest.java |  242 -
 .../phoenix/end2end/ToNumberFunctionTest.java      |  286 -
 .../java/org/apache/phoenix/end2end/TopNTest.java  |  160 -
 .../apache/phoenix/end2end/UpsertSelectTest.java   |  689 --
 .../apache/phoenix/end2end/UpsertValuesTest.java   |  366 --
 .../phoenix/end2end/VariableLengthPKTest.java      | 1954 ------
 .../phoenix/end2end/index/IndexMetadataTest.java   |  380 --
 .../phoenix/end2end/index/IndexTestUtil.java       |  162 -
 .../end2end/index/MutableIndexFailureTest.java     |  114 -
 .../phoenix/end2end/salted/SaltedTableTest.java    |  528 --
 .../salted/SaltedTableVarLengthRowKeyTest.java     |   68 -
 .../phoenix/expression/CoerceExpressionTest.java   |  121 -
 .../phoenix/expression/ColumnExpressionTest.java   |  117 -
 .../DescColumnSortOrderExpressionTest.java         |  309 -
 .../apache/phoenix/index/IndexMaintainerTest.java  |  227 -
 .../iterate/AggregateResultScannerTest.java        |  132 -
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   82 -
 .../org/apache/phoenix/parse/QueryParserTest.java  |  619 --
 .../phoenix/query/BaseConnectionlessQueryTest.java |   90 -
 .../java/org/apache/phoenix/query/BaseTest.java    |  425 --
 .../phoenix/query/HBaseFactoryProviderTest.java    |   38 -
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 1540 -----
 .../org/apache/phoenix/schema/SchemaUtilTest.java  |   52 -
 .../java/org/apache/phoenix/util/TestUtil.java     |  326 -
 1235 files changed, 110756 insertions(+), 89505 deletions(-)

commit 64da9e2225d9deefc2156180f4d1b7814582e150
Author: James Taylor <jamestaylor@apache.org>
Date:   Mon Jan 27 11:55:36 2014 -0800

    Adding UPPER, LOWER, and MD5 built-in functions

 .../apache/phoenix/expression/ExpressionType.java  |   9 +-
 .../phoenix/expression/function/LowerFunction.java |  60 +++++++++++++
 .../phoenix/expression/function/MD5Function.java   | 100 +++++++++++++++++++++
 .../phoenix/expression/function/UpperFunction.java |  58 ++++++++++++
 .../apache/phoenix/end2end/MD5FunctionTest.java    |  85 ++++++++++++++++++
 .../phoenix/end2end/VariableLengthPKTest.java      |  75 +++++++++++++++-
 .../DescColumnSortOrderExpressionTest.java         |  36 ++++----
 7 files changed, 401 insertions(+), 22 deletions(-)

commit c5b802461fce2cc9ddd696ec28ebeb47b3bea674
Author: James Taylor <jtaylor@salesforce.com>
Date:   Mon Jan 27 11:16:01 2014 -0800

    Initial commit

 .gitignore                                         |   16 +
 LICENSE.txt                                        |  202 +
 NOTICE.txt                                         |   25 +
 bin/csv-bulk-loader.sh                             |   40 +
 bin/hbase-site.xml                                 |   29 +
 bin/log4j.properties                               |   47 +
 bin/performance.sh                                 |   94 +
 bin/psql.sh                                        |   32 +
 bin/readme.txt                                     |   56 +
 bin/sqlline.sh                                     |   39 +
 bin/upgradeTo2.sh                                  |   33 +
 build.txt                                          |   38 +
 dev/PhoenixCodeTemplate.xml                        |  291 ++
 dev/eclipse_prefs_phoenix.epf                      |  942 ++++
 dev/phoenix.importorder                            |    6 +
 docs/phoenix.csv                                   | 1098 +++++
 examples/pig/test.pig                              |    2 +
 examples/pig/testdata                              |   18 +
 examples/stock_symbol.csv                          |    9 +
 examples/stock_symbol.sql                          |    5 +
 examples/web_stat.csv                              |   39 +
 examples/web_stat.sql                              |   10 +
 examples/web_stat_queries.sql                      |   17 +
 pom.xml                                            |  613 +++
 src/build/all.xml                                  |  118 +
 src/build/client.xml                               |   85 +
 src/main/antlr3/PhoenixSQL.g                       | 1102 +++++
 src/main/config/csv-bulk-load-config.properties    |    5 +
 .../regionserver/IndexKeyValueSkipListSet.java     |   78 +
 .../hbase/regionserver/wal/IndexedHLogReader.java  |  152 +
 .../hbase/regionserver/wal/IndexedWALEdit.java     |   91 +
 .../regionserver/wal/IndexedWALEditCodec.java      |  195 +
 .../org/apache/hbase/index/CapturingAbortable.java |   68 +
 .../hbase/index/IndexLogRollSynchronizer.java      |  125 +
 src/main/java/org/apache/hbase/index/Indexer.java  |  704 +++
 .../java/org/apache/hbase/index/ValueGetter.java   |   38 +
 .../hbase/index/builder/BaseIndexBuilder.java      |   99 +
 .../hbase/index/builder/IndexBuildManager.java     |  216 +
 .../apache/hbase/index/builder/IndexBuilder.java   |  144 +
 .../builder/IndexBuildingFailureException.java     |   50 +
 .../java/org/apache/hbase/index/covered/Batch.java |   62 +
 .../apache/hbase/index/covered/CoveredColumns.java |   51 +
 .../index/covered/CoveredColumnsIndexBuilder.java  |  490 ++
 .../org/apache/hbase/index/covered/IndexCodec.java |  112 +
 .../apache/hbase/index/covered/IndexUpdate.java    |   79 +
 .../apache/hbase/index/covered/KeyValueStore.java  |   35 +
 .../hbase/index/covered/LocalTableState.java       |  244 +
 .../org/apache/hbase/index/covered/TableState.java |   98 +
 .../hbase/index/covered/data/IndexMemStore.java    |  317 ++
 .../hbase/index/covered/data/LazyValueGetter.java  |   89 +
 .../hbase/index/covered/data/LocalHBaseState.java  |   49 +
 .../hbase/index/covered/data/LocalTable.java       |   74 +
 .../hbase/index/covered/example/ColumnGroup.java   |   95 +
 .../hbase/index/covered/example/CoveredColumn.java |   89 +
 .../covered/example/CoveredColumnIndexCodec.java   |  367 ++
 .../CoveredColumnIndexSpecifierBuilder.java        |  166 +
 .../covered/example/CoveredColumnIndexer.java      |  146 +
 .../filter/ApplyAndFilterDeletesFilter.java        |  310 ++
 .../ColumnTrackingNextLargestTimestampFilter.java  |   74 +
 .../index/covered/filter/FamilyOnlyFilter.java     |   80 +
 .../index/covered/filter/MaxTimestampFilter.java   |   76 +
 .../index/covered/filter/NewerTimestampFilter.java |   37 +
 .../index/covered/update/ColumnReference.java      |  141 +
 .../hbase/index/covered/update/ColumnTracker.java  |  117 +
 .../index/covered/update/IndexUpdateManager.java   |  240 +
 .../index/covered/update/IndexedColumnGroup.java   |   30 +
 .../index/covered/update/SortedCollection.java     |  130 +
 .../hbase/index/exception/IndexWriteException.java |   45 +
 .../exception/MultiIndexWriteFailureException.java |   46 +
 .../SingleIndexWriteFailureException.java          |   63 +
 .../hbase/index/parallel/BaseTaskRunner.java       |  131 +
 .../hbase/index/parallel/EarlyExitFailure.java     |   36 +
 .../index/parallel/QuickFailingTaskRunner.java     |   51 +
 .../java/org/apache/hbase/index/parallel/Task.java |   42 +
 .../org/apache/hbase/index/parallel/TaskBatch.java |   76 +
 .../apache/hbase/index/parallel/TaskRunner.java    |   62 +
 .../hbase/index/parallel/ThreadPoolBuilder.java    |   92 +
 .../hbase/index/parallel/ThreadPoolManager.java    |  148 +
 .../parallel/WaitForCompletionTaskRunner.java      |   53 +
 .../apache/hbase/index/scanner/EmptyScanner.java   |   32 +
 .../index/scanner/FilteredKeyValueScanner.java     |  134 +
 .../org/apache/hbase/index/scanner/Scanner.java    |   37 +
 .../apache/hbase/index/scanner/ScannerBuilder.java |  147 +
 .../hbase/index/table/CachingHTableFactory.java    |  112 +
 .../index/table/CoprocessorHTableFactory.java      |   50 +
 .../apache/hbase/index/table/HTableFactory.java    |   14 +
 .../index/table/HTableInterfaceReference.java      |   46 +
 .../apache/hbase/index/util/ImmutableBytesPtr.java |   96 +
 .../hbase/index/util/IndexManagementUtil.java      |  246 +
 .../apache/hbase/index/wal/IndexedKeyValue.java    |  155 +
 .../org/apache/hbase/index/wal/KeyValueCodec.java  |   79 +
 .../apache/hbase/index/write/IndexCommitter.java   |   39 +
 .../hbase/index/write/IndexFailurePolicy.java      |   46 +
 .../org/apache/hbase/index/write/IndexWriter.java  |  226 +
 .../apache/hbase/index/write/IndexWriterUtils.java |   74 +
 .../index/write/KillServerOnFailurePolicy.java     |   82 +
 .../index/write/ParallelWriterIndexCommitter.java  |  212 +
 .../write/recovery/PerRegionIndexWriteCache.java   |   65 +
 .../write/recovery/StoreFailuresInCachePolicy.java |   84 +
 .../TrackingParallelWriterIndexCommitter.java      |  228 +
 .../java/org/apache/phoenix/cache/GlobalCache.java |  114 +
 .../java/org/apache/phoenix/cache/HashCache.java   |   40 +
 .../apache/phoenix/cache/IndexMetaDataCache.java   |   10 +
 .../apache/phoenix/cache/ServerCacheClient.java    |  278 ++
 .../java/org/apache/phoenix/cache/TenantCache.java |   44 +
 .../org/apache/phoenix/cache/TenantCacheImpl.java  |   96 +
 .../apache/phoenix/compile/AggregationManager.java |   53 +
 .../org/apache/phoenix/compile/BindManager.java    |   82 +
 .../apache/phoenix/compile/ColumnProjector.java    |   69 +
 .../org/apache/phoenix/compile/ColumnResolver.java |   55 +
 .../phoenix/compile/CreateIndexCompiler.java       |   88 +
 .../phoenix/compile/CreateTableCompiler.java       |   90 +
 .../org/apache/phoenix/compile/DeleteCompiler.java |  352 ++
 .../org/apache/phoenix/compile/ExplainPlan.java    |   39 +
 .../apache/phoenix/compile/ExpressionCompiler.java | 1250 +++++
 .../apache/phoenix/compile/ExpressionManager.java  |   70 +
 .../phoenix/compile/ExpressionProjector.java       |   84 +
 .../org/apache/phoenix/compile/FromCompiler.java   |  390 ++
 .../apache/phoenix/compile/GroupByCompiler.java    |  278 ++
 .../org/apache/phoenix/compile/HavingCompiler.java |  240 +
 .../phoenix/compile/IndexStatementRewriter.java    |   67 +
 .../java/org/apache/phoenix/compile/KeyPart.java   |   79 +
 .../org/apache/phoenix/compile/LimitCompiler.java  |  109 +
 .../compile/MutatingParallelIteratorFactory.java   |  115 +
 .../org/apache/phoenix/compile/MutationPlan.java   |   31 +
 .../apache/phoenix/compile/OrderByCompiler.java    |  126 +
 .../apache/phoenix/compile/PostDDLCompiler.java    |  220 +
 .../phoenix/compile/PostIndexDDLCompiler.java      |  119 +
 .../apache/phoenix/compile/ProjectionCompiler.java |  354 ++
 .../org/apache/phoenix/compile/QueryCompiler.java  |  136 +
 .../java/org/apache/phoenix/compile/QueryPlan.java |   67 +
 .../org/apache/phoenix/compile/RowProjector.java   |  124 +
 .../org/apache/phoenix/compile/ScanRanges.java     |  185 +
 .../apache/phoenix/compile/StatementContext.java   |  199 +
 .../phoenix/compile/StatementNormalizer.java       |   83 +
 .../org/apache/phoenix/compile/StatementPlan.java  |   47 +
 .../TrackOrderPreservingExpressionCompiler.java    |  194 +
 .../org/apache/phoenix/compile/UpsertCompiler.java |  630 +++
 .../org/apache/phoenix/compile/WhereCompiler.java  |  214 +
 .../org/apache/phoenix/compile/WhereOptimizer.java | 1112 +++++
 .../phoenix/coprocessor/BaseRegionScanner.java     |   69 +
 .../coprocessor/BaseScannerRegionObserver.java     |   57 +
 .../GroupedAggregateRegionObserver.java            |  385 ++
 .../phoenix/coprocessor/HashJoinRegionScanner.java |  235 +
 .../phoenix/coprocessor/MetaDataEndpointImpl.java  | 1058 +++++
 .../phoenix/coprocessor/MetaDataProtocol.java      |  255 ++
 .../coprocessor/MetaDataRegionObserver.java        |   40 +
 .../apache/phoenix/coprocessor/ScanProjector.java  |  202 +
 .../phoenix/coprocessor/ScanRegionObserver.java    |  312 ++
 .../coprocessor/ServerCachingEndpointImpl.java     |   57 +
 .../phoenix/coprocessor/ServerCachingProtocol.java |   63 +
 .../UngroupedAggregateRegionObserver.java          |  437 ++
 .../phoenix/exception/PhoenixIOException.java      |   33 +
 .../phoenix/exception/PhoenixParserException.java  |  107 +
 .../apache/phoenix/exception/SQLExceptionCode.java |  195 +
 .../apache/phoenix/exception/SQLExceptionInfo.java |  142 +
 .../exception/UnknownFunctionException.java        |   37 +
 .../exception/ValueTypeIncompatibleException.java  |   38 +
 .../org/apache/phoenix/execute/AggregatePlan.java  |  178 +
 .../org/apache/phoenix/execute/BasicQueryPlan.java |  188 +
 .../apache/phoenix/execute/CommitException.java    |   43 +
 .../phoenix/execute/DegenerateQueryPlan.java       |   51 +
 .../org/apache/phoenix/execute/MutationState.java  |  435 ++
 .../java/org/apache/phoenix/execute/ScanPlan.java  |  110 +
 .../apache/phoenix/expression/AddExpression.java   |   56 +
 .../apache/phoenix/expression/AndExpression.java   |   67 +
 .../apache/phoenix/expression/AndOrExpression.java |   99 +
 .../phoenix/expression/ArithmeticExpression.java   |   45 +
 .../expression/BaseAddSubtractExpression.java      |   53 +
 .../phoenix/expression/BaseCompoundExpression.java |  123 +
 .../BaseDecimalAddSubtractExpression.java          |    5 +
 .../apache/phoenix/expression/BaseExpression.java  |  103 +
 .../phoenix/expression/BaseSingleExpression.java   |   91 +
 .../phoenix/expression/BaseTerminalExpression.java |   47 +
 .../apache/phoenix/expression/CaseExpression.java  |  232 +
 .../expression/CeilingDecimalExpression.java       |   87 +
 .../expression/CeilingTimestampExpression.java     |   83 +
 .../phoenix/expression/CoerceExpression.java       |  150 +
 .../phoenix/expression/ColumnExpression.java       |  154 +
 .../phoenix/expression/ComparisonExpression.java   |  155 +
 .../phoenix/expression/DateAddExpression.java      |   80 +
 .../phoenix/expression/DateSubtractExpression.java |   80 +
 .../phoenix/expression/DecimalAddExpression.java   |  101 +
 .../expression/DecimalDivideExpression.java        |   79 +
 .../expression/DecimalMultiplyExpression.java      |   79 +
 .../expression/DecimalSubtractExpression.java      |  118 +
 .../phoenix/expression/DivideExpression.java       |   98 +
 .../phoenix/expression/DoubleAddExpression.java    |   70 +
 .../phoenix/expression/DoubleDivideExpression.java |   74 +
 .../expression/DoubleMultiplyExpression.java       |   70 +
 .../expression/DoubleSubtractExpression.java       |   74 +
 .../org/apache/phoenix/expression/Expression.java  |   77 +
 .../apache/phoenix/expression/ExpressionType.java  |  170 +
 .../phoenix/expression/FloorDecimalExpression.java |   51 +
 .../expression/FloorTimestampExpression.java       |   49 +
 .../phoenix/expression/InListExpression.java       |  291 ++
 .../expression/IndexKeyValueColumnExpression.java  |   26 +
 .../phoenix/expression/IsNullExpression.java       |  106 +
 .../expression/KeyValueColumnExpression.java       |  119 +
 .../apache/phoenix/expression/LikeExpression.java  |  302 ++
 .../phoenix/expression/LiteralExpression.java      |  260 ++
 .../phoenix/expression/LongAddExpression.java      |   62 +
 .../phoenix/expression/LongDivideExpression.java   |   66 +
 .../phoenix/expression/LongMultiplyExpression.java |   65 +
 .../phoenix/expression/LongSubtractExpression.java |   83 +
 .../phoenix/expression/MultiplyExpression.java     |   98 +
 .../apache/phoenix/expression/NotExpression.java   |   86 +
 .../apache/phoenix/expression/OrExpression.java    |   67 +
 .../phoenix/expression/OrderByExpression.java      |   87 +
 .../phoenix/expression/RowKeyColumnExpression.java |  150 +
 .../phoenix/expression/RowKeyExpression.java       |   25 +
 .../expression/RowValueConstructorExpression.java  |  355 ++
 .../phoenix/expression/StringConcatExpression.java |   95 +
 .../phoenix/expression/SubtractExpression.java     |   60 +
 .../phoenix/expression/TimestampAddExpression.java |   89 +
 .../expression/TimestampSubtractExpression.java    |   89 +
 .../phoenix/expression/aggregator/Aggregator.java  |   48 +
 .../phoenix/expression/aggregator/Aggregators.java |  125 +
 .../expression/aggregator/BaseAggregator.java      |   50 +
 .../aggregator/BaseDecimalStddevAggregator.java    |  119 +
 .../aggregator/BaseStddevAggregator.java           |   96 +
 .../expression/aggregator/ClientAggregators.java   |   80 +
 .../expression/aggregator/CountAggregator.java     |   84 +
 .../aggregator/DecimalStddevPopAggregator.java     |   43 +
 .../aggregator/DecimalStddevSampAggregator.java    |   43 +
 .../aggregator/DecimalSumAggregator.java           |   91 +
 .../aggregator/DistinctCountClientAggregator.java  |   55 +
 .../DistinctValueWithCountClientAggregator.java    |  132 +
 .../DistinctValueWithCountServerAggregator.java    |  174 +
 .../expression/aggregator/DoubleSumAggregator.java |   90 +
 .../expression/aggregator/IntSumAggregator.java    |   43 +
 .../expression/aggregator/LongSumAggregator.java   |   42 +
 .../expression/aggregator/MaxAggregator.java       |   50 +
 .../expression/aggregator/MinAggregator.java       |   98 +
 .../expression/aggregator/NumberSumAggregator.java |   99 +
 .../aggregator/PercentRankClientAggregator.java    |   92 +
 .../aggregator/PercentileClientAggregator.java     |  110 +
 .../aggregator/PercentileDiscClientAggregator.java |  106 +
 .../expression/aggregator/ServerAggregators.java   |  145 +
 .../expression/aggregator/StddevPopAggregator.java |   43 +
 .../aggregator/StddevSampAggregator.java           |   43 +
 .../aggregator/UnsignedIntSumAggregator.java       |   43 +
 .../aggregator/UnsignedLongSumAggregator.java      |   44 +
 .../expression/function/AggregateFunction.java     |   44 +
 .../expression/function/AvgAggregateFunction.java  |  113 +
 .../expression/function/CoalesceFunction.java      |  100 +
 .../function/CompositeAggregateFunction.java       |   47 +
 .../function/CountAggregateFunction.java           |  106 +
 .../expression/function/CurrentDateFunction.java   |   68 +
 .../expression/function/CurrentTimeFunction.java   |   68 +
 .../DelegateConstantToCountAggregateFunction.java  |   75 +
 .../function/DistinctCountAggregateFunction.java   |  115 +
 .../expression/function/FunctionArgumentType.java  |   35 +
 .../expression/function/FunctionExpression.java    |   71 +
 .../function/IndexStateNameFunction.java           |   81 +
 .../expression/function/InvertFunction.java        |  129 +
 .../phoenix/expression/function/LTrimFunction.java |  115 +
 .../expression/function/LengthFunction.java        |   96 +
 .../expression/function/MaxAggregateFunction.java  |   75 +
 .../expression/function/MinAggregateFunction.java  |   89 +
 .../function/PercentRankAggregateFunction.java     |   71 +
 .../function/PercentileContAggregateFunction.java  |   72 +
 .../function/PercentileDiscAggregateFunction.java  |   69 +
 .../expression/function/PrefixFunction.java        |   83 +
 .../phoenix/expression/function/RTrimFunction.java |  161 +
 .../expression/function/RegexpReplaceFunction.java |  130 +
 .../expression/function/RegexpSubstrFunction.java  |  175 +
 .../expression/function/ReverseFunction.java       |   70 +
 .../phoenix/expression/function/RoundFunction.java |  238 +
 .../expression/function/ScalarFunction.java        |   72 +
 .../function/SingleAggregateFunction.java          |  166 +
 .../phoenix/expression/function/SqlTableType.java  |   80 +
 .../expression/function/SqlTypeNameFunction.java   |   86 +
 .../expression/function/StddevPopFunction.java     |   74 +
 .../expression/function/StddevSampFunction.java    |   74 +
 .../expression/function/SubstrFunction.java        |  217 +
 .../expression/function/SumAggregateFunction.java  |  146 +
 .../phoenix/expression/function/TimeUnit.java      |   22 +
 .../expression/function/ToCharFunction.java        |  135 +
 .../expression/function/ToDateFunction.java        |  133 +
 .../expression/function/ToNumberFunction.java      |  176 +
 .../phoenix/expression/function/TrimFunction.java  |  108 +
 .../phoenix/expression/function/TruncFunction.java |   58 +
 .../expression/visitor/BaseExpressionVisitor.java  |  247 +
 .../expression/visitor/ExpressionVisitor.java      |  136 +
 .../visitor/KeyValueExpressionVisitor.java         |   38 +
 .../visitor/SingleAggregateFunctionVisitor.java    |   40 +
 .../visitor/TraverseAllExpressionVisitor.java      |   57 +
 .../visitor/TraverseNoExpressionVisitor.java       |   35 +
 .../phoenix/filter/BooleanExpressionFilter.java    |  125 +
 .../filter/EvaluateOnCompletionVisitor.java        |   76 +
 .../filter/MultiCFCQKeyValueComparisonFilter.java  |  134 +
 .../filter/MultiCQKeyValueComparisonFilter.java    |   70 +
 .../filter/MultiKeyValueComparisonFilter.java      |  237 +
 .../phoenix/filter/RowKeyComparisonFilter.java     |  150 +
 .../filter/SingleCFCQKeyValueComparisonFilter.java |   51 +
 .../filter/SingleCQKeyValueComparisonFilter.java   |   49 +
 .../filter/SingleKeyValueComparisonFilter.java     |  147 +
 .../org/apache/phoenix/filter/SkipScanFilter.java  |  523 +++
 .../org/apache/phoenix/index/BaseIndexCodec.java   |   61 +
 .../org/apache/phoenix/index/IndexMaintainer.java  |  780 ++++
 .../phoenix/index/IndexMetaDataCacheClient.java    |   96 +
 .../phoenix/index/IndexMetaDataCacheFactory.java   |   63 +
 .../apache/phoenix/index/PhoenixIndexBuilder.java  |   96 +
 .../apache/phoenix/index/PhoenixIndexCodec.java    |  172 +
 .../phoenix/index/PhoenixIndexFailurePolicy.java   |  102 +
 .../phoenix/iterate/AggregatingResultIterator.java |   40 +
 .../apache/phoenix/iterate/BaseResultIterator.java |   43 +
 .../phoenix/iterate/ConcatResultIterator.java      |   91 +
 .../DefaultParallelIteratorRegionSplitter.java     |  229 +
 .../phoenix/iterate/DelegateResultIterator.java    |   50 +
 .../iterate/DistinctAggregatingResultIterator.java |  163 +
 .../org/apache/phoenix/iterate/ExplainTable.java   |  271 ++
 .../iterate/FilterAggregatingResultIterator.java   |   80 +
 .../phoenix/iterate/FilterResultIterator.java      |   78 +
 .../iterate/GroupedAggregatingResultIterator.java  |  106 +
 .../phoenix/iterate/LimitingResultIterator.java    |   57 +
 .../phoenix/iterate/LookAheadResultIterator.java   |   53 +
 .../iterate/MappedByteBufferSortedQueue.java       |  381 ++
 .../iterate/MaterializedResultIterator.java        |  112 +
 .../phoenix/iterate/MergeSortResultIterator.java   |   95 +
 .../iterate/MergeSortRowKeyResultIterator.java     |   59 +
 .../iterate/MergeSortTopNResultIterator.java       |  100 +
 .../iterate/OrderedAggregatingResultIterator.java  |   63 +
 .../phoenix/iterate/OrderedResultIterator.java     |  254 ++
 .../iterate/ParallelIteratorRegionSplitter.java    |   36 +
 .../ParallelIteratorRegionSplitterFactory.java     |   40 +
 .../apache/phoenix/iterate/ParallelIterators.java  |  232 +
 .../phoenix/iterate/PeekingResultIterator.java     |   63 +
 .../iterate/RegionScannerResultIterator.java       |   65 +
 .../org/apache/phoenix/iterate/ResultIterator.java |   54 +
 .../apache/phoenix/iterate/ResultIterators.java    |   29 +
 .../phoenix/iterate/ScanningResultIterator.java    |   61 +
 .../SkipRangeParallelIteratorRegionSplitter.java   |   85 +
 .../iterate/SpoolTooBigToDiskException.java        |   17 +
 .../phoenix/iterate/SpoolingResultIterator.java    |  320 ++
 .../phoenix/iterate/TableResultIterator.java       |   86 +
 .../UngroupedAggregatingResultIterator.java        |   56 +
 .../java/org/apache/phoenix/jdbc/Jdbc7Shim.java    |   66 +
 .../org/apache/phoenix/jdbc/PhoenixConnection.java |  639 +++
 .../phoenix/jdbc/PhoenixDatabaseMetaData.java      | 1382 ++++++
 .../org/apache/phoenix/jdbc/PhoenixDriver.java     |   96 +
 .../apache/phoenix/jdbc/PhoenixEmbeddedDriver.java |  321 ++
 .../phoenix/jdbc/PhoenixParameterMetaData.java     |  172 +
 .../phoenix/jdbc/PhoenixPreparedStatement.java     |  430 ++
 .../org/apache/phoenix/jdbc/PhoenixResultSet.java  | 1231 +++++
 .../phoenix/jdbc/PhoenixResultSetMetaData.java     |  213 +
 .../org/apache/phoenix/jdbc/PhoenixStatement.java  | 1239 +++++
 .../phoenix/jdbc/PhoenixStatementFactory.java      |   24 +
 .../phoenix/job/AbstractRoundRobinQueue.java       |  314 ++
 .../java/org/apache/phoenix/job/JobManager.java    |  115 +
 .../org/apache/phoenix/join/HashCacheClient.java   |  136 +
 .../org/apache/phoenix/join/HashCacheFactory.java  |  127 +
 .../java/org/apache/phoenix/join/HashJoinInfo.java |  126 +
 .../phoenix/join/HashJoiningRegionObserver.java    |   57 +
 .../join/MaxServerCacheSizeExceededException.java  |   49 +
 .../apache/phoenix/map/reduce/CSVBulkLoader.java   |  401 ++
 .../apache/phoenix/map/reduce/MapReduceJob.java    |  204 +
 .../phoenix/map/reduce/util/ConfigReader.java      |  114 +
 .../apache/phoenix/memory/ChildMemoryManager.java  |  118 +
 .../phoenix/memory/DelegatingMemoryManager.java    |   61 +
 .../apache/phoenix/memory/GlobalMemoryManager.java |  178 +
 .../memory/InsufficientMemoryException.java        |   47 +
 .../org/apache/phoenix/memory/MemoryManager.java   |   97 +
 .../apache/phoenix/optimize/QueryOptimizer.java    |  239 +
 .../apache/phoenix/parse/AddColumnStatement.java   |   49 +
 .../org/apache/phoenix/parse/AddParseNode.java     |   49 +
 .../phoenix/parse/AggregateFunctionParseNode.java  |   39 +
 .../java/org/apache/phoenix/parse/AliasedNode.java |   53 +
 .../apache/phoenix/parse/AlterIndexStatement.java  |   53 +
 .../apache/phoenix/parse/AlterTableStatement.java  |   28 +
 .../org/apache/phoenix/parse/AndParseNode.java     |   51 +
 .../apache/phoenix/parse/ArithmeticParseNode.java  |   30 +
 .../phoenix/parse/AvgAggregateParseNode.java       |   48 +
 .../apache/phoenix/parse/BaseParseNodeVisitor.java |   70 +
 .../org/apache/phoenix/parse/BetweenParseNode.java |   54 +
 .../org/apache/phoenix/parse/BinaryParseNode.java  |   44 +
 .../org/apache/phoenix/parse/BindParseNode.java    |   61 +
 .../org/apache/phoenix/parse/BindTableNode.java    |   44 +
 .../apache/phoenix/parse/BindableStatement.java    |   25 +
 .../org/apache/phoenix/parse/CaseParseNode.java    |   49 +
 .../org/apache/phoenix/parse/CastParseNode.java    |   63 +
 .../java/org/apache/phoenix/parse/ColumnDef.java   |  147 +
 .../org/apache/phoenix/parse/ColumnFamilyDef.java  |   57 +
 .../java/org/apache/phoenix/parse/ColumnName.java  |  102 +
 .../org/apache/phoenix/parse/ColumnParseNode.java  |   90 +
 .../apache/phoenix/parse/ComparisonParseNode.java  |   59 +
 .../apache/phoenix/parse/CompoundParseNode.java    |   72 +
 .../apache/phoenix/parse/ConcreteTableNode.java    |   43 +
 .../apache/phoenix/parse/CreateIndexStatement.java |   74 +
 .../apache/phoenix/parse/CreateTableStatement.java |   84 +
 .../apache/phoenix/parse/CurrentDateParseNode.java |   41 +
 .../apache/phoenix/parse/CurrentTimeParseNode.java |   41 +
 .../parse/DelegateConstantToCountParseNode.java    |   48 +
 .../org/apache/phoenix/parse/DeleteStatement.java  |   69 +
 .../org/apache/phoenix/parse/DerivedTableNode.java |   51 +
 .../phoenix/parse/DistinctCountParseNode.java      |   46 +
 .../org/apache/phoenix/parse/DivideParseNode.java  |   49 +
 .../apache/phoenix/parse/DropColumnStatement.java  |   41 +
 .../apache/phoenix/parse/DropIndexStatement.java   |   50 +
 .../apache/phoenix/parse/DropTableStatement.java   |   51 +
 .../org/apache/phoenix/parse/EqualParseNode.java   |   47 +
 .../org/apache/phoenix/parse/ExistsParseNode.java  |   55 +
 .../org/apache/phoenix/parse/ExplainStatement.java |   37 +
 .../phoenix/parse/FamilyWildcardParseNode.java     |   55 +
 .../apache/phoenix/parse/FilterableStatement.java  |   31 +
 .../apache/phoenix/parse/FunctionParseNode.java    |  427 ++
 .../phoenix/parse/GreaterThanOrEqualParseNode.java |   49 +
 .../apache/phoenix/parse/GreaterThanParseNode.java |   48 +
 .../java/org/apache/phoenix/parse/HintNode.java    |  160 +
 .../org/apache/phoenix/parse/InListParseNode.java  |   66 +
 .../java/org/apache/phoenix/parse/InParseNode.java |   55 +
 .../apache/phoenix/parse/IndexKeyConstraint.java   |   39 +
 .../org/apache/phoenix/parse/IsNullParseNode.java  |   55 +
 .../org/apache/phoenix/parse/JoinTableNode.java    |   58 +
 .../phoenix/parse/LessThanOrEqualParseNode.java    |   48 +
 .../apache/phoenix/parse/LessThanParseNode.java    |   48 +
 .../org/apache/phoenix/parse/LikeParseNode.java    |   55 +
 .../java/org/apache/phoenix/parse/LimitNode.java   |   40 +
 .../org/apache/phoenix/parse/LiteralParseNode.java |   73 +
 .../phoenix/parse/MaxAggregateParseNode.java       |   41 +
 .../phoenix/parse/MinAggregateParseNode.java       |   41 +
 .../apache/phoenix/parse/MultiplyParseNode.java    |   49 +
 .../java/org/apache/phoenix/parse/NamedNode.java   |   45 +
 .../org/apache/phoenix/parse/NamedParseNode.java   |   53 +
 .../org/apache/phoenix/parse/NamedTableNode.java   |   64 +
 .../apache/phoenix/parse/NotEqualParseNode.java    |   48 +
 .../org/apache/phoenix/parse/NotParseNode.java     |   49 +
 .../java/org/apache/phoenix/parse/OrParseNode.java |   49 +
 .../java/org/apache/phoenix/parse/OrderByNode.java |   57 +
 .../apache/phoenix/parse/OuterJoinParseNode.java   |   49 +
 .../org/apache/phoenix/parse/ParseContext.java     |   60 +
 .../org/apache/phoenix/parse/ParseException.java   |   47 +
 .../java/org/apache/phoenix/parse/ParseNode.java   |   52 +
 .../org/apache/phoenix/parse/ParseNodeFactory.java |  534 +++
 .../apache/phoenix/parse/ParseNodeRewriter.java    |  504 +++
 .../org/apache/phoenix/parse/ParseNodeVisitor.java |  104 +
 .../apache/phoenix/parse/PrimaryKeyConstraint.java |   69 +
 .../org/apache/phoenix/parse/PropertyName.java     |   25 +
 .../parse/RowValueConstructorParseNode.java        |   48 +
 .../java/org/apache/phoenix/parse/SQLParser.java   |  173 +
 .../org/apache/phoenix/parse/SelectStatement.java  |  184 +
 .../phoenix/parse/SelectStatementRewriter.java     |  188 +
 .../apache/phoenix/parse/ShowTablesStatement.java  |    8 +
 .../phoenix/parse/SingleTableSQLStatement.java     |   39 +
 .../StatelessTraverseAllParseNodeVisitor.java      |   86 +
 .../phoenix/parse/StringConcatParseNode.java       |   51 +
 .../apache/phoenix/parse/SubqueryParseNode.java    |   49 +
 .../apache/phoenix/parse/SubtractParseNode.java    |   48 +
 .../phoenix/parse/SumAggregateParseNode.java       |   41 +
 .../java/org/apache/phoenix/parse/TableName.java   |   56 +
 .../java/org/apache/phoenix/parse/TableNode.java   |   45 +
 .../org/apache/phoenix/parse/TableNodeVisitor.java |   37 +
 .../apache/phoenix/parse/TerminalParseNode.java    |   37 +
 .../org/apache/phoenix/parse/ToCharParseNode.java  |   65 +
 .../org/apache/phoenix/parse/ToDateParseNode.java  |   51 +
 .../apache/phoenix/parse/ToNumberParseNode.java    |   47 +
 .../phoenix/parse/TraverseAllParseNodeVisitor.java |  148 +
 .../phoenix/parse/TraverseNoParseNodeVisitor.java  |  227 +
 .../org/apache/phoenix/parse/UnaryParseNode.java   |   35 +
 .../parse/UnsupportedAllParseNodeVisitor.java      |  212 +
 .../org/apache/phoenix/parse/UpsertStatement.java  |   54 +
 .../apache/phoenix/parse/WildcardParseNode.java    |   56 +
 .../apache/phoenix/pig/PhoenixHBaseStorage.java    |  189 +
 .../phoenix/pig/PhoenixPigConfiguration.java       |  165 +
 src/main/java/org/apache/phoenix/pig/TypeUtil.java |  175 +
 .../phoenix/pig/hadoop/PhoenixOutputCommitter.java |  113 +
 .../phoenix/pig/hadoop/PhoenixOutputFormat.java    |   96 +
 .../apache/phoenix/pig/hadoop/PhoenixRecord.java   |   91 +
 .../phoenix/pig/hadoop/PhoenixRecordWriter.java    |   85 +
 .../phoenix/query/BaseQueryServicesImpl.java       |   80 +
 .../apache/phoenix/query/ChildQueryServices.java   |   47 +
 .../apache/phoenix/query/ConfigurationFactory.java |   46 +
 .../phoenix/query/ConnectionQueryServices.java     |   84 +
 .../phoenix/query/ConnectionQueryServicesImpl.java | 1296 ++++++
 .../query/ConnectionlessQueryServicesImpl.java     |  236 +
 .../apache/phoenix/query/DegenerateScanner.java    |   60 +
 .../query/DelegateConnectionQueryServices.java     |  171 +
 .../phoenix/query/DelegateQueryServices.java       |   74 +
 .../org/apache/phoenix/query/DelegateScanner.java  |   56 +
 .../apache/phoenix/query/HBaseFactoryProvider.java |   50 +
 .../org/apache/phoenix/query/HTableFactory.java    |   58 +
 .../java/org/apache/phoenix/query/KeyRange.java    |  623 +++
 .../org/apache/phoenix/query/MetaDataMutated.java  |   40 +
 .../org/apache/phoenix/query/QueryConstants.java   |  173 +
 .../org/apache/phoenix/query/QueryServices.java    |  115 +
 .../apache/phoenix/query/QueryServicesImpl.java    |   38 +
 .../apache/phoenix/query/QueryServicesOptions.java |  363 ++
 .../java/org/apache/phoenix/query/Scanner.java     |   35 +
 .../org/apache/phoenix/query/StatsManager.java     |   59 +
 .../org/apache/phoenix/query/StatsManagerImpl.java |  221 +
 .../org/apache/phoenix/query/WrappedScanner.java   |   70 +
 .../phoenix/schema/AmbiguousColumnException.java   |   52 +
 .../phoenix/schema/AmbiguousTableException.java    |   52 +
 .../schema/ArgumentTypeMismatchException.java      |   44 +
 .../schema/ColumnAlreadyExistsException.java       |   62 +
 .../schema/ColumnFamilyNotFoundException.java      |   46 +
 .../org/apache/phoenix/schema/ColumnModifier.java  |  149 +
 .../phoenix/schema/ColumnNotFoundException.java    |   65 +
 .../java/org/apache/phoenix/schema/ColumnRef.java  |  132 +
 .../schema/ConcurrentTableMutationException.java   |   48 +
 .../schema/ConstraintViolationException.java       |   48 +
 .../org/apache/phoenix/schema/DelegateColumn.java  |   64 +
 .../org/apache/phoenix/schema/DelegateDatum.java   |   62 +
 .../schema/ExecuteQueryNotApplicableException.java |   39 +
 .../ExecuteUpdateNotApplicableException.java       |   38 +
 .../phoenix/schema/IllegalDataException.java       |   47 +
 .../org/apache/phoenix/schema/KeyValueSchema.java  |  207 +
 .../org/apache/phoenix/schema/MetaDataClient.java  | 1440 ++++++
 .../schema/MetaDataEntityNotFoundException.java    |   30 +
 .../apache/phoenix/schema/MetaDataSplitPolicy.java |   51 +
 .../schema/NewerTableAlreadyExistsException.java   |   29 +
 .../org/apache/phoenix/schema/PBaseColumn.java     |   52 +
 .../java/org/apache/phoenix/schema/PColumn.java    |   46 +
 .../org/apache/phoenix/schema/PColumnFamily.java   |   54 +
 .../apache/phoenix/schema/PColumnFamilyImpl.java   |   75 +
 .../org/apache/phoenix/schema/PColumnImpl.java     |  197 +
 .../java/org/apache/phoenix/schema/PDataType.java  | 4769 ++++++++++++++++++++
 .../org/apache/phoenix/schema/PDateColumn.java     |   27 +
 .../java/org/apache/phoenix/schema/PDatum.java     |   54 +
 .../org/apache/phoenix/schema/PIndexState.java     |   92 +
 .../org/apache/phoenix/schema/PIntegerColumn.java  |   35 +
 .../org/apache/phoenix/schema/PLongColumn.java     |   35 +
 .../java/org/apache/phoenix/schema/PMetaData.java  |   30 +
 .../org/apache/phoenix/schema/PMetaDataImpl.java   |  144 +
 src/main/java/org/apache/phoenix/schema/PName.java |   80 +
 .../org/apache/phoenix/schema/PNameFactory.java    |   75 +
 .../org/apache/phoenix/schema/PNormalizedName.java |   72 +
 src/main/java/org/apache/phoenix/schema/PRow.java  |   70 +
 .../org/apache/phoenix/schema/PStringColumn.java   |   36 +
 .../java/org/apache/phoenix/schema/PTable.java     |  179 +
 .../java/org/apache/phoenix/schema/PTableImpl.java |  740 +++
 .../java/org/apache/phoenix/schema/PTableType.java |  110 +
 .../phoenix/schema/ReadOnlyTableException.java     |   56 +
 .../org/apache/phoenix/schema/RowKeySchema.java    |  243 +
 .../apache/phoenix/schema/RowKeyValueAccessor.java |  195 +
 .../org/apache/phoenix/schema/SaltingUtil.java     |  172 +
 .../schema/TableAlreadyExistsException.java        |   61 +
 .../phoenix/schema/TableNotFoundException.java     |   57 +
 .../java/org/apache/phoenix/schema/TableRef.java   |   81 +
 .../phoenix/schema/TypeMismatchException.java      |   52 +
 .../org/apache/phoenix/schema/ValueBitSet.java     |  200 +
 .../apache/phoenix/schema/ValueRangeExcpetion.java |   40 +
 .../org/apache/phoenix/schema/ValueSchema.java     |  311 ++
 .../apache/phoenix/schema/stat/PTableStats.java    |   47 +
 .../phoenix/schema/stat/PTableStatsImpl.java       |   70 +
 .../phoenix/schema/tuple/MultiKeyValueTuple.java   |   75 +
 .../apache/phoenix/schema/tuple/ResultTuple.java   |   94 +
 .../phoenix/schema/tuple/SingleKeyValueTuple.java  |  102 +
 .../org/apache/phoenix/schema/tuple/Tuple.java     |   72 +
 .../org/apache/phoenix/util/BigDecimalUtil.java    |   70 +
 src/main/java/org/apache/phoenix/util/BitSet.java  |  106 +
 .../java/org/apache/phoenix/util/ByteUtil.java     |  559 +++
 .../java/org/apache/phoenix/util/CSVLoader.java    |  250 +
 .../java/org/apache/phoenix/util/Closeables.java   |  124 +
 .../java/org/apache/phoenix/util/ColumnInfo.java   |   22 +
 .../java/org/apache/phoenix/util/DateUtil.java     |  154 +
 .../java/org/apache/phoenix/util/IndexUtil.java    |  199 +
 .../org/apache/phoenix/util/InstanceResolver.java  |   66 +
 .../java/org/apache/phoenix/util/JDBCUtil.java     |   81 +
 .../java/org/apache/phoenix/util/KeyValueUtil.java |  134 +
 .../java/org/apache/phoenix/util/MetaDataUtil.java |  197 +
 .../java/org/apache/phoenix/util/NumberUtil.java   |   54 +
 .../org/apache/phoenix/util/PhoenixRuntime.java    |  320 ++
 .../java/org/apache/phoenix/util/QueryUtil.java    |   68 +
 .../org/apache/phoenix/util/ReadOnlyProps.java     |  239 +
 .../java/org/apache/phoenix/util/ResultUtil.java   |  172 +
 .../java/org/apache/phoenix/util/SQLCloseable.java |   34 +
 .../org/apache/phoenix/util/SQLCloseables.java     |  133 +
 .../java/org/apache/phoenix/util/ScanUtil.java     |  425 ++
 .../java/org/apache/phoenix/util/SchemaUtil.java   |  823 ++++
 .../java/org/apache/phoenix/util/ServerUtil.java   |  123 +
 .../java/org/apache/phoenix/util/SizedUtil.java    |   63 +
 .../java/org/apache/phoenix/util/StringUtil.java   |  245 +
 .../phoenix/util/TrustedByteArrayOutputStream.java |   56 +
 .../java/org/apache/phoenix/util/TupleUtil.java    |  155 +
 src/main/java/overview.html                        |   25 +
 src/main/resources/java.sql.Driver                 |    1 +
 src/site/bin/merge.sh                              |   10 +
 src/site/language_reference_source/datatypes.html  |  493 ++
 src/site/language_reference_source/functions.html  |  740 +++
 src/site/language_reference_source/index.html      |  947 ++++
 src/site/markdown/Phoenix-in-15-minutes-or-less.md |   80 +
 src/site/markdown/building.md                      |   20 +
 src/site/markdown/download.md                      |   84 +
 src/site/markdown/dynamic_columns.md               |   17 +
 src/site/markdown/faq.md                           |  279 ++
 src/site/markdown/flume.md                         |   42 +
 src/site/markdown/index.md                         |   69 +
 src/site/markdown/issues.md                        |    9 +
 src/site/markdown/mailing_list.md                  |   14 +
 src/site/markdown/mr_dataload.md                   |   63 +
 src/site/markdown/paged.md                         |   31 +
 src/site/markdown/performance.md                   |   86 +
 src/site/markdown/phoenix_on_emr.md                |   43 +
 src/site/markdown/recent.md                        |   18 +
 src/site/markdown/roadmap.md                       |   35 +
 src/site/markdown/salted.md                        |   25 +
 src/site/markdown/secondary_indexing.md            |  152 +
 src/site/markdown/sequences.md                     |   47 +
 src/site/markdown/skip_scan.md                     |   22 +
 src/site/markdown/source.md                        |    9 +
 src/site/markdown/tuning.md                        |  128 +
 src/site/resources/css/site.css                    |   65 +
 src/site/resources/favicon.ico                     |  Bin 0 -> 318 bytes
 src/site/resources/images/PhoenixVsHive.png        |  Bin 0 -> 30363 bytes
 src/site/resources/images/PhoenixVsImpala.png      |  Bin 0 -> 19219 bytes
 src/site/resources/images/PhoenixVsOpenTSDB.png    |  Bin 0 -> 10039 bytes
 src/site/resources/images/logo.png                 |  Bin 0 -> 17729 bytes
 src/site/resources/images/perf-esscf.png           |  Bin 0 -> 8081 bytes
 src/site/resources/images/perf-salted-read.png     |  Bin 0 -> 8086 bytes
 src/site/resources/images/perf-salted-write.png    |  Bin 0 -> 8379 bytes
 src/site/resources/images/perf-skipscan.png        |  Bin 0 -> 7526 bytes
 src/site/resources/images/perf-topn.png            |  Bin 0 -> 7807 bytes
 src/site/resources/images/psql.png                 |  Bin 0 -> 25997 bytes
 src/site/resources/images/sqlline.png              |  Bin 0 -> 57490 bytes
 src/site/resources/images/squirrel.png             |  Bin 0 -> 64649 bytes
 src/site/resources/images/topbar-logo-small.png    |  Bin 0 -> 4931 bytes
 src/site/resources/images/topbar-logo.png          |  Bin 0 -> 7939 bytes
 src/site/resources/language/images/div-d.png       |  Bin 0 -> 8289 bytes
 src/site/resources/language/images/div-ke.png      |  Bin 0 -> 763 bytes
 src/site/resources/language/images/div-ks.png      |  Bin 0 -> 759 bytes
 src/site/resources/language/images/div-le.png      |  Bin 0 -> 387 bytes
 src/site/resources/language/images/div-ls.png      |  Bin 0 -> 396 bytes
 src/site/resources/language/images/div-te.png      |  Bin 0 -> 739 bytes
 src/site/resources/language/images/div-ts.png      |  Bin 0 -> 727 bytes
 src/site/resources/language/stylesheet.css         |  139 +
 src/site/site.xml                                  |   96 +
 src/site/xhtml/language/datatypes.xhtml            |    5 +
 src/site/xhtml/language/functions.xhtml            |    5 +
 src/site/xhtml/language/index.xhtml                |    5 +
 src/site/xhtml/team.xhtml                          |  115 +
 .../wal/TestReadWriteKeyValuesWithCodec.java       |  155 +
 ...stWALReplayWithIndexWritesAndCompressedWAL.java |  275 ++
 ...IndexWritesAndUncompressedWALInHBase_094_9.java |   24 +
 .../org/apache/hbase/index/IndexTestingUtils.java  |   96 +
 .../java/org/apache/hbase/index/StubAbortable.java |   43 +
 .../java/org/apache/hbase/index/TableName.java     |   47 +
 .../index/TestFailForUnsupportedHBaseVersions.java |  157 +
 .../index/covered/CoveredIndexCodecForTesting.java |   73 +
 .../hbase/index/covered/TestCoveredColumns.java    |   47 +
 .../TestEndToEndCoveredColumnsIndexBuilder.java    |  341 ++
 .../hbase/index/covered/TestLocalTableState.java   |  198 +
 .../index/covered/data/TestIndexMemStore.java      |   95 +
 .../index/covered/example/TestColumnTracker.java   |   63 +
 .../example/TestCoveredColumnIndexCodec.java       |  250 +
 .../example/TestCoveredIndexSpecifierBuilder.java  |   74 +
 .../example/TestEndToEndCoveredIndexing.java       |  879 ++++
 .../TestEndtoEndIndexingWithCompression.java       |   51 +
 .../covered/example/TestFailWithoutRetries.java    |  147 +
 .../filter/TestApplyAndFilterDeletesFilter.java    |  212 +
 .../index/covered/filter/TestFamilyOnlyFilter.java |  107 +
 .../covered/filter/TestNewerTimestampFilter.java   |   49 +
 .../covered/update/TestIndexUpdateManager.java     |  142 +
 .../index/parallel/TestThreadPoolBuilder.java      |   65 +
 .../index/parallel/TestThreadPoolManager.java      |   95 +
 .../hbase/index/util/TestIndexManagementUtil.java  |   68 +
 .../apache/hbase/index/write/FakeTableFactory.java |   33 +
 .../index/write/TestCachingHTableFactory.java      |   60 +
 .../apache/hbase/index/write/TestIndexWriter.java  |  286 ++
 .../hbase/index/write/TestParalleIndexWriter.java  |  119 +
 .../write/TestParalleWriterIndexCommitter.java     |  119 +
 .../hbase/index/write/TestWALRecoveryCaching.java  |  370 ++
 .../recovery/TestPerRegionIndexWriteCache.java     |  170 +
 .../arithmetic/ArithmeticOperationTest.java        |  298 ++
 .../apache/phoenix/compile/HavingClauseTest.java   |  193 +
 .../apache/phoenix/compile/LimitClauseTest.java    |  156 +
 .../apache/phoenix/compile/QueryCompileTest.java   | 1118 +++++
 .../apache/phoenix/compile/QueryMetaDataTest.java  |  447 ++
 .../apache/phoenix/compile/QueryOptimizerTest.java |  262 ++
 .../org/apache/phoenix/compile/ScanRangesTest.java |  546 +++
 .../compile/SelectStatementRewriterTest.java       |  118 +
 .../compile/StatementHintsCompilationTest.java     |  123 +
 .../phoenix/compile/WhereClauseFilterTest.java     |  911 ++++
 .../phoenix/compile/WhereClauseScanKeyTest.java    | 1618 +++++++
 .../org/apache/phoenix/end2end/AlterTableTest.java |  699 +++
 .../phoenix/end2end/ArithmeticQueryTest.java       |  594 +++
 .../org/apache/phoenix/end2end/AutoCommitTest.java |   83 +
 .../phoenix/end2end/BaseClientMangedTimeTest.java  |   43 +
 .../phoenix/end2end/BaseConnectedQueryTest.java    |  611 +++
 .../phoenix/end2end/BaseHBaseManagedTimeTest.java  |   43 +
 .../apache/phoenix/end2end/BinaryRowKeyTest.java   |  149 +
 .../org/apache/phoenix/end2end/CSVLoaderTest.java  |  284 ++
 .../phoenix/end2end/CoalesceFunctionTest.java      |   59 +
 .../phoenix/end2end/CompareDecimalToLongTest.java  |  240 +
 .../end2end/ConnectionQueryServicesTestImpl.java   |  102 +
 .../apache/phoenix/end2end/CreateTableTest.java    |   93 +
 .../phoenix/end2end/CustomEntityDataTest.java      |  216 +
 ...DefaultParallelIteratorsRegionSplitterTest.java |  358 ++
 .../org/apache/phoenix/end2end/DeleteTest.java     |  385 ++
 .../phoenix/end2end/DescColumnSortOrderTest.java   |  555 +++
 .../apache/phoenix/end2end/DistinctCountTest.java  |  380 ++
 .../apache/phoenix/end2end/DynamicColumnTest.java  |  220 +
 .../apache/phoenix/end2end/DynamicFamilyTest.java  |  362 ++
 .../apache/phoenix/end2end/DynamicUpsertTest.java  |  227 +
 .../phoenix/end2end/ExecuteStatementsTest.java     |  303 ++
 .../phoenix/end2end/ExtendedQueryExecTest.java     |  190 +
 .../org/apache/phoenix/end2end/FunkyNamesTest.java |  145 +
 .../apache/phoenix/end2end/GroupByCaseTest.java    |  196 +
 .../phoenix/end2end/InMemoryOrderByTest.java       |   42 +
 .../org/apache/phoenix/end2end/IsNullTest.java     |   67 +
 .../org/apache/phoenix/end2end/KeyOnlyTest.java    |  148 +
 .../phoenix/end2end/MultiCfQueryExecTest.java      |  231 +
 .../phoenix/end2end/NativeHBaseTypesTest.java      |  307 ++
 .../org/apache/phoenix/end2end/OrderByTest.java    |  125 +
 .../org/apache/phoenix/end2end/PercentileTest.java |  621 +++
 .../apache/phoenix/end2end/ProductMetricsTest.java | 2027 +++++++++
 .../phoenix/end2end/QueryDatabaseMetaDataTest.java |  976 ++++
 .../phoenix/end2end/QueryExecWithoutSCNTest.java   |   51 +
 .../org/apache/phoenix/end2end/QueryPlanTest.java  |  203 +
 .../java/org/apache/phoenix/end2end/QueryTest.java | 2712 +++++++++++
 .../phoenix/end2end/ReadIsolationLevelTest.java    |  152 +
 .../phoenix/end2end/ReverseFunctionTest.java       |  109 +
 .../phoenix/end2end/RowValueConstructorTest.java   |  812 ++++
 .../phoenix/end2end/ServerExceptionTest.java       |   69 +
 ...kipRangeParallelIteratorRegionSplitterTest.java |  369 ++
 .../apache/phoenix/end2end/SkipScanQueryTest.java  |  211 +
 .../apache/phoenix/end2end/SpooledOrderByTest.java |   40 +
 .../apache/phoenix/end2end/StatementHintsTest.java |  163 +
 .../org/apache/phoenix/end2end/StddevTest.java     |  137 +
 .../apache/phoenix/end2end/ToCharFunctionTest.java |  242 +
 .../phoenix/end2end/ToNumberFunctionTest.java      |  286 ++
 .../java/org/apache/phoenix/end2end/TopNTest.java  |  160 +
 .../phoenix/end2end/UpsertBigValuesTest.java       |  371 ++
 .../end2end/UpsertSelectAutoCommitTest.java        |   88 +
 .../apache/phoenix/end2end/UpsertSelectTest.java   |  689 +++
 .../apache/phoenix/end2end/UpsertValuesTest.java   |  366 ++
 .../phoenix/end2end/VariableLengthPKTest.java      | 1881 ++++++++
 .../end2end/index/BaseMutableIndexTest.java        |  144 +
 .../apache/phoenix/end2end/index/DropViewTest.java |  101 +
 .../phoenix/end2end/index/ImmutableIndexTest.java  |  525 +++
 .../phoenix/end2end/index/IndexMetadataTest.java   |  380 ++
 .../phoenix/end2end/index/IndexTestUtil.java       |  162 +
 .../end2end/index/MutableIndexFailureTest.java     |  114 +
 .../phoenix/end2end/index/MutableIndexTest.java    |  677 +++
 .../end2end/index/MutableSaltedIndexTest.java      |  189 +
 .../phoenix/end2end/salted/SaltedTableTest.java    |  528 +++
 .../salted/SaltedTableUpsertSelectTest.java        |  203 +
 .../salted/SaltedTableVarLengthRowKeyTest.java     |   68 +
 .../phoenix/expression/CoerceExpressionTest.java   |  121 +
 .../phoenix/expression/ColumnExpressionTest.java   |  117 +
 .../DescColumnSortOrderExpressionTest.java         |  311 ++
 .../phoenix/expression/LikeExpressionTest.java     |   44 +
 .../filter/SkipScanFilterIntersectTest.java        |  514 +++
 .../apache/phoenix/filter/SkipScanFilterTest.java  |  395 ++
 .../apache/phoenix/index/IndexMaintainerTest.java  |  227 +
 .../iterate/AggregateResultScannerTest.java        |  132 +
 .../phoenix/iterate/ConcatResultIteratorTest.java  |  127 +
 .../iterate/MergeSortResultIteratorTest.java       |   83 +
 .../iterate/SpoolingResultIteratorTest.java        |   73 +
 .../phoenix/jdbc/PhoenixEmbeddedDriverTest.java    |  103 +
 .../org/apache/phoenix/jdbc/PhoenixTestDriver.java |   82 +
 .../org/apache/phoenix/logging/PerformanceLog.java |  119 +
 .../apache/phoenix/memory/MemoryManagerTest.java   |  269 ++
 .../org/apache/phoenix/parse/QueryParserTest.java  |  619 +++
 .../phoenix/query/BaseConnectionlessQueryTest.java |   90 +
 .../java/org/apache/phoenix/query/BaseTest.java    |  425 ++
 .../phoenix/query/ConnectionlessUpsertTest.java    |  184 +
 .../phoenix/query/HBaseFactoryProviderTest.java    |   38 +
 .../phoenix/query/KeyRangeCoalesceTests.java       |  143 +
 .../phoenix/query/KeyRangeIntersectTests.java      |   79 +
 .../apache/phoenix/query/KeyRangeUnionTests.java   |   79 +
 .../phoenix/query/QueryServicesTestImpl.java       |   84 +
 .../org/apache/phoenix/schema/PDataTypeTest.java   | 1540 +++++++
 .../apache/phoenix/schema/RowKeySchemaTest.java    |  131 +
 .../phoenix/schema/RowKeyValueAccessorTest.java    |   69 +
 .../org/apache/phoenix/schema/SchemaUtilTest.java  |   52 +
 .../org/apache/phoenix/schema/ValueBitSetTest.java |  137 +
 .../org/apache/phoenix/util/AssertResults.java     |  132 +
 .../java/org/apache/phoenix/util/ByteUtilTest.java |   70 +
 .../java/org/apache/phoenix/util/DateUtilTest.java |   64 +
 .../phoenix/util/GeneratePerformanceData.java      |   65 +
 .../apache/phoenix/util/LikeExpressionTest.java    |   42 +
 .../org/apache/phoenix/util/MetaDataUtilTest.java  |   46 +
 .../java/org/apache/phoenix/util/ScanUtilTest.java |  343 ++
 .../java/org/apache/phoenix/util/TestUtil.java     |  326 ++
 src/test/resources/hbase-default.xml               |   36 +
 src/test/resources/log4j.properties                |   63 +
 778 files changed, 127518 insertions(+)

