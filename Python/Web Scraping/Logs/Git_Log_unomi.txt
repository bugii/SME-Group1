commit 617641f9828fd01b08c6194f0bf85d7fedba40ce
Author: Serge Huber <shuber@apache.org>
Date:   Tue Oct 29 13:43:57 2019 +0100

    Replace references to Marketing Factory with Unomi
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/connectors/salesforce-connector.adoc | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2fb149d2f3842967753754aead59bb6a56ca2d9b
Merge: d80f65e5 c8cf4392
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 16 14:32:34 2019 +0200

    Merge pull request #103 from apache/UNOMI-252-aggregation-doc
    
    UNOMI-252 Add documentation for query counts, query metrics and aggregations

commit c8cf4392ff76683e77ce79b370930629d79e472a
Author: Serge Huber <shuber@apache.org>
Date:   Fri Oct 11 15:10:31 2019 +0200

    UNOMI-252 Add documentation for query counts, query metrics and aggregations
    - Added the suggested documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/index.adoc                |   4 +
 .../main/asciidoc/queries-and-aggregations.adoc    | 344 +++++++++++++++++++++
 2 files changed, 348 insertions(+)

commit d80f65e583a4d014932e0e28ac14f92ea7daa09c
Author: Serge Huber <shuber@apache.org>
Date:   Thu Oct 10 11:06:33 2019 +0200

    Minor improvement to root pom to make it easier to pass parameters to the release plugin
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 pom.xml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b6f6fa4fe0c2c19283f4ad3547cbbab895f592d9
Merge: 2cfef871 9d321162
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 9 10:10:55 2019 +0200

    Merge pull request #101 from apache/UNOMI-249-new-shell-commands
    
    UNOMI-249 New shell commands to make plugin development easier

commit 2cfef87199492e9b5faffbc906a84b216da7ec1a
Merge: 4fa4955f 950c3d9e
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 8 10:23:46 2019 +0200

    Merge pull request #102 from apache/UNOMI-250-refactor-services-impl
    
    UNOMI-250 Refactoring services into seperate Java packages

commit 9d3211622781ae906919ed24d855eb21e10230dd
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 26 07:59:08 2019 +0200

    UNOMI-249 New shell commands to make plugin development easier
    Updated documentation for the new commands.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/shell-commands.adoc | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0f8e769d458d7f4647c7bd8e5103146ac59c805b
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 26 07:52:51 2019 +0200

    UNOMI-249 New shell commands to make plugin development easier
    Updated documentation for the new commands.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/shell-commands.adoc | 33 +++++++++++++++++++++++++---
 1 file changed, 30 insertions(+), 3 deletions(-)

commit 950c3d9ed94a16d1be857cb14095b2fbd75bcf71
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 26 07:37:58 2019 +0200

    UNOMI-250 Refactoring services into seperate Java packages
    Right now we have a bit of a mess in our services implementation sub-project. All the service implementations are in the package:
    org.apache.unomi.services.services
    I propose that we rename this package to:
    org.apache.unomi.services.impl
    and that each service gets its own sub-package, for example the RulesServiceImpl would be in:
    org.apache.unomi.services.impl.rules
    This would make it much easier to activate/deactivate logging per service implementation, because currently it is tricky to get logging activated properly unless using configuration by class. Having it by package would be a lot better.
    Utility classes such as ThirdPartyService or the clustering event classes would also be moved with the service sub-package they belong to.
    In terms of impact this should minimal, only people activating logs should be notified that the class location has changed.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../{services => impl}/AbstractServiceImpl.java    | 10 ++++----
 .../services/{services => impl}/ParserHelper.java  |  5 +++-
 .../cluster}/ClusterServiceImpl.java               |  2 +-
 .../cluster}/ClusterSystemStatisticsEvent.java     |  2 +-
 .../ClusterSystemStatisticsEventHandler.java       |  2 +-
 .../configsharing}/ConfigSharingServiceImpl.java   |  2 +-
 .../definitions}/DefinitionsServiceImpl.java       |  3 ++-
 .../events}/EventServiceImpl.java                  |  3 ++-
 .../events}/ThirdPartyServer.java                  |  2 +-
 .../{services => impl/goals}/GoalsServiceImpl.java |  8 +++++--
 .../lists}/UserListServiceImpl.java                |  3 ++-
 .../patches}/PatchServiceImpl.java                 |  5 ++--
 .../PersonalizationServiceImpl.java                |  4 ++--
 .../profiles}/ProfileServiceImpl.java              |  3 ++-
 .../queries}/QueryServiceImpl.java                 |  3 ++-
 .../{services => impl/rules}/RulesServiceImpl.java |  3 ++-
 .../scheduler}/SchedulerServiceImpl.java           |  2 +-
 .../segments}/SegmentServiceImpl.java              |  4 +++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 28 +++++++++++-----------
 19 files changed, 55 insertions(+), 39 deletions(-)

commit 2f877b51b5bd3398bbbbf473c2a698054de05f11
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 26 07:17:54 2019 +0200

    UNOMI-249 New shell commands to make plugin development easier
    The following shell dev commands have been added:
    - List events
    - Search for events by profile Id and type
    - Remove a profile
    - Remove a rule
    - Remove a segment
    - View a segment
    - Undeploy definitions provided by a plugin
    - Added the possibility to deploy all the definitions contained in a plugin with the deploy-definition command.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/shell/commands/DeployDefinition.java     | 245 +++------------------
 .../shell/commands/DeploymentCommandSupport.java   | 232 +++++++++++++++++++
 .../org/apache/unomi/shell/commands/EventList.java |  78 +++++++
 .../apache/unomi/shell/commands/EventSearch.java   |  99 +++++++++
 .../apache/unomi/shell/commands/ProfileRemove.java |  40 ++++
 .../apache/unomi/shell/commands/RuleRemove.java    |  40 ++++
 .../apache/unomi/shell/commands/SegmentRemove.java |  56 +++++
 .../apache/unomi/shell/commands/SegmentView.java   |   2 +-
 .../unomi/shell/commands/UndeployDefinition.java   | 111 ++++++++++
 9 files changed, 690 insertions(+), 213 deletions(-)

commit 4fa4955f133471d438d6c85cb96710fcdb18365c
Merge: d823d8ec c7f0d458
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 25 21:16:28 2019 -0700

    Merge pull request #98 from aarestu/docker
    
    Bug fixing dockerize unomi and update unomi to v1.4.0

commit c7f0d4589429df3e3ca4ae15bb1b7ba9833e6eae
Author: restu suhendar <restu.suhendar@gmail.com>
Date:   Wed Sep 25 23:27:16 2019 +0700

    Update docker/Dockerfile
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 docker/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 635580e4de595071256e81a95d1b9b9c7a5b568a
Author: restu suhendar <restu.suhendar@gmail.com>
Date:   Wed Sep 25 23:27:08 2019 +0700

    Update docker/Dockerfile
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 docker/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4c0a7d7c84b14159cc131bbf0d313d50618b0401
Author: restu suhendar <restu.suhendar@gmail.com>
Date:   Wed Sep 25 23:27:00 2019 +0700

    Update docker/Dockerfile
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 docker/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d823d8eca6f92cac17afcfcf7a11752bc4940fe0
Author: Serge Huber <shuber@apache.org>
Date:   Wed Sep 25 16:44:40 2019 +0200

    UNOMI-246 Fix error in Salesforce connector documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../src/main/asciidoc/connectors/salesforce-connector.adoc   | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 867b10ffc7ff743ed84d847aa9f5b18ab4e9da9e
Author: Serge Huber <shuber@apache.org>
Date:   Wed Sep 25 16:36:04 2019 +0200

    UNOMI-247 Error in login event rule
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../src/main/resources/META-INF/cxs/rules/exampleLogin.json          | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c1c217c0732696e1d283498e1d3ddf273779ebaa
Merge: f3970aa0 481325c1
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 25 07:32:19 2019 -0700

    Merge pull request #100 from pragnesh/docfix
    
    fix typo in recipes

commit 481325c1f67bed9053ba31852ea0f909854d7b31
Author: pragnesh <pg.radadia@gmail.com>
Date:   Wed Sep 25 12:27:45 2019 +0530

    fix typo in recipes

 manual/src/main/asciidoc/recipes.adoc | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit f3970aa0edfc5d22b40f09ef0c3b4bd0f17c7b08
Merge: 62fc6a67 ca535820
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:52:13 2019 -0700

    Merge pull request #94 from apache/UNOMI-240-document-profile-import-export
    
    UNOMI-240 Document profile import/export

commit ca535820189f1003ed934aa75d06e799e3ac1b03
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:50:25 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b5c6eba5f64a6616f5410e7ea399a02e817b0a3
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:50:19 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d71ce2d54a7f9ded40fdfad8a352f12f6358f18
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:50:05 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ca2e3c41ccbb7fc8a99e38be3a600028ea30163
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:49:58 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 798312d359a5f47861007b278abee63dd9f63862
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:49:43 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de510cec135b979bfce77247a5af4d7dc7edf401
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:49:33 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c954552d5e889571284d748a0c9ba938973d4688
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:49:05 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0209fd7b459e7eb1c6d615b428c5e5c0d6151824
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:48:56 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c25a7b2fa01cf553a97a6075512ba196975a112d
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:48:47 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3e9e1868592c9162dfe017a0443dfde2a36e5725
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:48:27 2019 -0700

    Update manual/src/main/asciidoc/profile-import-export.adoc
    
    Co-Authored-By: MT BENTERKI <benterki.tayeb@gmail.com>

 manual/src/main/asciidoc/profile-import-export.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 62fc6a67045500b3cb2b1a3bfb2d9d765af9df95
Merge: 2b08e0a2 ecb53bba
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 11 14:44:58 2019 -0700

    Merge pull request #95 from apache/UNOMI-241-improve-retrieving-goals
    
    UNOMI-241 improve retrieving of goals in the correct order

commit dec9cb05754c00efcd1f3fd28b12e1fa0bb989ab
Author: aarestu <restu.suhendar@gmail.com>
Date:   Wed Sep 11 01:16:37 2019 +0700

    1. fix error : entrypoint.sh not Unix Format
    2. add ENVs elasticsearch
    3. expose port 8102 (Apache Karaf SSH Shell)

 docker/Dockerfile    | 28 +++++++++++++++++++---------
 docker/entrypoint.sh | 15 +++++++++------
 2 files changed, 28 insertions(+), 15 deletions(-)

commit 2b08e0a27ee84306461a78f304fd24909c7adf21
Merge: 3042c35f 6add011c
Author: François Papon <fpapon@apache.org>
Date:   Wed Aug 28 11:52:02 2019 +0200

    Merge pull request #96 from apache/UNOMI-242-improve-merge-function
    
    UNOMI-242 improve merge function to avoid NPE and handle nested objects

commit 3042c35fb1519284824054a6258c4cff14f8e9c2
Merge: c3be6e2d c3d2d8f9
Author: François Papon <fpapon@apache.org>
Date:   Wed Aug 28 11:51:09 2019 +0200

    Merge pull request #97 from fpapon/UNOMI-243
    
    [UNOMI-243] Can't clone repository

commit c3d2d8f9198fd33f9ebfd1307925ef0f22c0b4db
Author: Francois Papon <fpapon@apache.org>
Date:   Wed Aug 28 10:44:09 2019 +0200

    [UNOMI-243] Can't clone repository

 manual/src/main/asciidoc/5-min-quickstart.adoc       |  2 +-
 manual/src/main/asciidoc/building-and-deploying.adoc |  2 +-
 manual/src/main/asciidoc/configuration.adoc          |  2 +-
 manual/src/main/asciidoc/consent-api.adoc            |  2 +-
 manual/src/main/asciidoc/custom-extensions.adoc      |  6 +++---
 manual/src/main/asciidoc/index.adoc                  |  2 +-
 manual/src/main/asciidoc/recipes.adoc                |  4 ++--
 manual/src/main/asciidoc/request-examples.adoc       |  2 +-
 manual/src/main/asciidoc/samples/twitter-sample.adoc | 14 +++++++-------
 manual/src/main/asciidoc/useful-unomi-urls.adoc      |  4 ++--
 10 files changed, 20 insertions(+), 20 deletions(-)

commit 6add011c8b2df4053b961b542f6412fa508f6939
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Tue Aug 27 17:19:28 2019 +0200

    UNOMI-242 improve merge function to avoid NPE and handle nested objects

 .../org/apache/unomi/services/services/ProfileServiceImpl.java | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit ecb53bbafae8227af769f181eba0a9caa11d28d8
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Tue Aug 27 10:42:41 2019 +0200

    UNOMI-241 improve retrieving of goals in the correct order
    
    * Usage of LinkedHashSet instead of HashSet

 .../java/org/apache/unomi/services/services/GoalsServiceImpl.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ee8c9ae3d7968da89894d14e48cda2eae5943d77
Author: Serge Huber <shuber@apache.org>
Date:   Thu Aug 22 21:10:21 2019 +0200

    UNOMI-240 Document profile import/export
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/index.adoc                |   4 +
 .../src/main/asciidoc/profile-import-export.adoc   | 239 +++++++++++++++++++++
 2 files changed, 243 insertions(+)

commit c3be6e2d9f76eaa532b1e64c54876a9be8c82b29
Merge: fd0edbb3 94a5ccbc
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 29 18:51:45 2019 +0200

    This closes pull request number #91

commit 94a5ccbcb3e904c8c2641ffb6e118224e3db1e00
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jul 18 09:15:05 2019 +0200

    Fix steps title

 manual/src/main/asciidoc/how-profile-tracking-works.adoc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd0edbb352c42434e3c376678cc0d73bfab09038
Author: Michele Riva <master@micheleriva.it>
Date:   Fri Jul 12 12:09:25 2019 +0200

    Fixed NPE handling for newEntry.getValue

 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit d45d757f60cd552e2bf3afe7173bbaa26c8df2ad
Author: Michele Riva <master@micheleriva.it>
Date:   Fri Jul 12 11:27:13 2019 +0200

    Fix for Jira UNOMI-238

 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b367c08850ef15eb2c3ebdd0ffabb975f6fd9a80
Author: sergehuber <shuber@jahia.com>
Date:   Tue Jul 9 15:19:13 2019 +0200

    UNOMI-208 Improve Unomi documentation
    - Add configuration to generate Swagger documentation for Privacy service and Salesforce REST service documentation using the JAX RS Analyzer Maven plugin
    - Improvements to documentation with lots of samples.
    - Corrections in the request examples

 extensions/privacy-extension/rest/pom.xml          |  21 ++
 .../unomi/privacy/rest/PrivacyServiceEndPoint.java |   1 +
 extensions/salesforce-connector/rest/pom.xml       |  16 +
 .../org/apache/unomi/sfdc/rest/SFDCEndPoint.java   |   1 +
 manual/src/main/asciidoc/actions.adoc              |  69 +++++
 manual/src/main/asciidoc/concepts.adoc             | 208 ++++++++++++-
 manual/src/main/asciidoc/conditions.adoc           | 103 +++++++
 .../main/asciidoc/how-profile-tracking-works.adoc  |  34 ++
 .../src/main/asciidoc/images/unomi-rule-engine.png | Bin 0 -> 134094 bytes
 manual/src/main/asciidoc/index.adoc                |  14 +
 manual/src/main/asciidoc/privacy.adoc              |  80 +++++
 manual/src/main/asciidoc/recipes.adoc              | 343 +++++++++++++++++++++
 manual/src/main/asciidoc/request-examples.adoc     |   3 +-
 13 files changed, 878 insertions(+), 15 deletions(-)

commit 3c2ada2a77b494ef344e959596b9375af12b250c
Author: Francois Papon <fpapon@apache.org>
Date:   Tue Jun 11 23:04:00 2019 +0400

    [UNOMI-236] Add a profile for OWASP maven plugin

 pom.xml | 44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit 1e6ca5877351188f53aaee884fbb55466bf6eea9
Author: Serge Huber <shuber@apache.org>
Date:   Sun Jun 9 15:48:26 2019 +0200

    UNOMI-235 Exceptions cancel timers
    Due to the way Executors work, any uncaught exceptions will cancel a timer, preventing it to executed in the future. This fix makes sure that all exceptions are caught and logged.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      |  6 +-
 .../services/services/DefinitionsServiceImpl.java  |  8 ++-
 .../services/services/ProfileServiceImpl.java      | 81 ++++++++++++----------
 .../unomi/services/services/RulesServiceImpl.java  | 12 +++-
 .../services/services/SegmentServiceImpl.java      | 36 +++++++---
 5 files changed, 92 insertions(+), 51 deletions(-)

commit 8ace7a572b0c69bfc1954fcffdbd37ba8ad21aa7
Merge: 729ef072 145823c3
Author: Serge Huber <shuber@apache.org>
Date:   Tue May 28 20:44:04 2019 +0200

    This closes pull request number #88

commit 729ef0727d956d80649771a9cf6ae28368f53a32
Author: Serge Huber <shuber@apache.org>
Date:   Tue May 28 20:27:42 2019 +0200

    Adjust missed version numbers
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/samples/twitter-sample.adoc | 2 +-
 performance-tests/pom.xml                            | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 145823c3fa092fcd633b70f4b859c35b97b78194
Author: Francois Papon <fpapon@apache.org>
Date:   Tue May 28 03:11:46 2019 +0400

    Update developper roles from old incubator roles

 pom.xml | 43 ++++++++++++++++++++-----------------------
 1 file changed, 20 insertions(+), 23 deletions(-)

commit fd4c8251078eccafb00b5974606727a73a94b804
Merge: 5a400a5c d2804d70
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Wed May 22 11:05:15 2019 +0200

    Merge pull request #87 from fpapon/HTTPS
    
    Switch to https urls in pom

commit d2804d704af61f2fe69e4b7ec925eb062193eb34
Author: Francois Papon <fpapon@apache.org>
Date:   Wed May 22 09:26:49 2019 +0400

    Switch to https urls in pom

 pom.xml | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 5a400a5c37cc18b49cd9c1101d5f2e1a7de26cf5
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 17 00:23:51 2019 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                       | 2 +-
 common/pom.xml                                    | 2 +-
 extensions/geonames/pom.xml                       | 2 +-
 extensions/geonames/rest/pom.xml                  | 2 +-
 extensions/geonames/services/pom.xml              | 2 +-
 extensions/lists-extension/actions/pom.xml        | 2 +-
 extensions/lists-extension/pom.xml                | 2 +-
 extensions/lists-extension/rest/pom.xml           | 2 +-
 extensions/lists-extension/services/pom.xml       | 2 +-
 extensions/pom.xml                                | 2 +-
 extensions/privacy-extension/pom.xml              | 2 +-
 extensions/privacy-extension/rest/pom.xml         | 2 +-
 extensions/privacy-extension/services/pom.xml     | 4 ++--
 extensions/router/pom.xml                         | 2 +-
 extensions/router/router-api/pom.xml              | 2 +-
 extensions/router/router-core/pom.xml             | 2 +-
 extensions/router/router-karaf-feature/pom.xml    | 2 +-
 extensions/router/router-rest/pom.xml             | 2 +-
 extensions/router/router-service/pom.xml          | 2 +-
 extensions/salesforce-connector/actions/pom.xml   | 2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml | 2 +-
 extensions/salesforce-connector/pom.xml           | 2 +-
 extensions/salesforce-connector/rest/pom.xml      | 2 +-
 extensions/salesforce-connector/services/pom.xml  | 2 +-
 extensions/unomi-mailchimp/actions/pom.xml        | 2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      | 2 +-
 extensions/unomi-mailchimp/pom.xml                | 2 +-
 extensions/unomi-mailchimp/rest/pom.xml           | 2 +-
 extensions/unomi-mailchimp/services/pom.xml       | 2 +-
 extensions/weather-update/core/pom.xml            | 2 +-
 extensions/weather-update/karaf-kar/pom.xml       | 2 +-
 extensions/weather-update/pom.xml                 | 2 +-
 extensions/web-tracker/karaf-kar/pom.xml          | 2 +-
 extensions/web-tracker/pom.xml                    | 2 +-
 extensions/web-tracker/wab/pom.xml                | 2 +-
 itests/pom.xml                                    | 2 +-
 kar/pom.xml                                       | 2 +-
 lifecycle-watcher/pom.xml                         | 2 +-
 manual/pom.xml                                    | 2 +-
 metrics/pom.xml                                   | 2 +-
 package/pom.xml                                   | 2 +-
 persistence-elasticsearch/core/pom.xml            | 2 +-
 persistence-elasticsearch/pom.xml                 | 2 +-
 persistence-spi/pom.xml                           | 2 +-
 plugins/baseplugin/pom.xml                        | 2 +-
 plugins/hover-event/pom.xml                       | 2 +-
 plugins/mail/pom.xml                              | 2 +-
 plugins/optimization-test/pom.xml                 | 2 +-
 plugins/past-event/pom.xml                        | 2 +-
 plugins/pom.xml                                   | 2 +-
 plugins/request/pom.xml                           | 2 +-
 plugins/tracked-event/pom.xml                     | 2 +-
 pom.xml                                           | 4 ++--
 rest/pom.xml                                      | 2 +-
 samples/login-integration/pom.xml                 | 2 +-
 samples/pom.xml                                   | 2 +-
 samples/tweet-button-plugin/pom.xml               | 2 +-
 services/pom.xml                                  | 2 +-
 tools/pom.xml                                     | 2 +-
 tools/shell-commands/pom.xml                      | 2 +-
 tools/shell-dev-commands/pom.xml                  | 2 +-
 wab/pom.xml                                       | 2 +-
 62 files changed, 64 insertions(+), 64 deletions(-)

commit a53cddd96aed7ad1681519e7e0a10521d45e47ed
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 17 00:23:31 2019 +0200

    [maven-release-plugin] prepare release unomi-root-1.4.0

 api/pom.xml                                       | 2 +-
 common/pom.xml                                    | 2 +-
 extensions/geonames/pom.xml                       | 2 +-
 extensions/geonames/rest/pom.xml                  | 2 +-
 extensions/geonames/services/pom.xml              | 2 +-
 extensions/lists-extension/actions/pom.xml        | 2 +-
 extensions/lists-extension/pom.xml                | 2 +-
 extensions/lists-extension/rest/pom.xml           | 2 +-
 extensions/lists-extension/services/pom.xml       | 2 +-
 extensions/pom.xml                                | 2 +-
 extensions/privacy-extension/pom.xml              | 2 +-
 extensions/privacy-extension/rest/pom.xml         | 2 +-
 extensions/privacy-extension/services/pom.xml     | 4 ++--
 extensions/router/pom.xml                         | 2 +-
 extensions/router/router-api/pom.xml              | 2 +-
 extensions/router/router-core/pom.xml             | 2 +-
 extensions/router/router-karaf-feature/pom.xml    | 2 +-
 extensions/router/router-rest/pom.xml             | 2 +-
 extensions/router/router-service/pom.xml          | 2 +-
 extensions/salesforce-connector/actions/pom.xml   | 2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml | 2 +-
 extensions/salesforce-connector/pom.xml           | 2 +-
 extensions/salesforce-connector/rest/pom.xml      | 2 +-
 extensions/salesforce-connector/services/pom.xml  | 2 +-
 extensions/unomi-mailchimp/actions/pom.xml        | 2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      | 2 +-
 extensions/unomi-mailchimp/pom.xml                | 2 +-
 extensions/unomi-mailchimp/rest/pom.xml           | 2 +-
 extensions/unomi-mailchimp/services/pom.xml       | 2 +-
 extensions/weather-update/core/pom.xml            | 2 +-
 extensions/weather-update/karaf-kar/pom.xml       | 2 +-
 extensions/weather-update/pom.xml                 | 2 +-
 extensions/web-tracker/karaf-kar/pom.xml          | 2 +-
 extensions/web-tracker/pom.xml                    | 2 +-
 extensions/web-tracker/wab/pom.xml                | 2 +-
 itests/pom.xml                                    | 2 +-
 kar/pom.xml                                       | 2 +-
 lifecycle-watcher/pom.xml                         | 2 +-
 manual/pom.xml                                    | 2 +-
 metrics/pom.xml                                   | 2 +-
 package/pom.xml                                   | 2 +-
 persistence-elasticsearch/core/pom.xml            | 2 +-
 persistence-elasticsearch/pom.xml                 | 2 +-
 persistence-spi/pom.xml                           | 2 +-
 plugins/baseplugin/pom.xml                        | 2 +-
 plugins/hover-event/pom.xml                       | 2 +-
 plugins/mail/pom.xml                              | 2 +-
 plugins/optimization-test/pom.xml                 | 2 +-
 plugins/past-event/pom.xml                        | 2 +-
 plugins/pom.xml                                   | 2 +-
 plugins/request/pom.xml                           | 2 +-
 plugins/tracked-event/pom.xml                     | 2 +-
 pom.xml                                           | 4 ++--
 rest/pom.xml                                      | 2 +-
 samples/login-integration/pom.xml                 | 2 +-
 samples/pom.xml                                   | 2 +-
 samples/tweet-button-plugin/pom.xml               | 2 +-
 services/pom.xml                                  | 2 +-
 tools/pom.xml                                     | 2 +-
 tools/shell-commands/pom.xml                      | 2 +-
 tools/shell-dev-commands/pom.xml                  | 2 +-
 wab/pom.xml                                       | 2 +-
 62 files changed, 64 insertions(+), 64 deletions(-)

commit b5e289c3dab999646247885f5c50bad3f0323daf
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 16 22:39:33 2019 +0200

    Change router packaging to KAR to make it consistent with all other packages.

 extensions/router/router-karaf-feature/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c4c3f8e66b179d25562f8e75ff313d0e6cbd8c6
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 16 22:20:26 2019 +0200

    Revert back to 1.4.0-SNAPSHOT since building process failed.

 api/pom.xml                                       | 2 +-
 common/pom.xml                                    | 2 +-
 extensions/geonames/pom.xml                       | 2 +-
 extensions/geonames/rest/pom.xml                  | 2 +-
 extensions/geonames/services/pom.xml              | 2 +-
 extensions/lists-extension/actions/pom.xml        | 2 +-
 extensions/lists-extension/pom.xml                | 2 +-
 extensions/lists-extension/rest/pom.xml           | 2 +-
 extensions/lists-extension/services/pom.xml       | 2 +-
 extensions/pom.xml                                | 2 +-
 extensions/privacy-extension/pom.xml              | 2 +-
 extensions/privacy-extension/rest/pom.xml         | 2 +-
 extensions/privacy-extension/services/pom.xml     | 4 ++--
 extensions/router/pom.xml                         | 2 +-
 extensions/router/router-api/pom.xml              | 2 +-
 extensions/router/router-core/pom.xml             | 2 +-
 extensions/router/router-karaf-feature/pom.xml    | 2 +-
 extensions/router/router-rest/pom.xml             | 2 +-
 extensions/router/router-service/pom.xml          | 2 +-
 extensions/salesforce-connector/actions/pom.xml   | 2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml | 2 +-
 extensions/salesforce-connector/pom.xml           | 2 +-
 extensions/salesforce-connector/rest/pom.xml      | 2 +-
 extensions/salesforce-connector/services/pom.xml  | 2 +-
 extensions/unomi-mailchimp/actions/pom.xml        | 2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      | 2 +-
 extensions/unomi-mailchimp/pom.xml                | 2 +-
 extensions/unomi-mailchimp/rest/pom.xml           | 2 +-
 extensions/unomi-mailchimp/services/pom.xml       | 2 +-
 extensions/weather-update/core/pom.xml            | 2 +-
 extensions/weather-update/karaf-kar/pom.xml       | 2 +-
 extensions/weather-update/pom.xml                 | 2 +-
 extensions/web-tracker/karaf-kar/pom.xml          | 2 +-
 extensions/web-tracker/pom.xml                    | 2 +-
 extensions/web-tracker/wab/pom.xml                | 2 +-
 itests/pom.xml                                    | 2 +-
 kar/pom.xml                                       | 2 +-
 lifecycle-watcher/pom.xml                         | 2 +-
 manual/pom.xml                                    | 2 +-
 metrics/pom.xml                                   | 2 +-
 package/pom.xml                                   | 2 +-
 persistence-elasticsearch/core/pom.xml            | 2 +-
 persistence-elasticsearch/pom.xml                 | 2 +-
 persistence-spi/pom.xml                           | 2 +-
 plugins/baseplugin/pom.xml                        | 2 +-
 plugins/hover-event/pom.xml                       | 2 +-
 plugins/mail/pom.xml                              | 2 +-
 plugins/optimization-test/pom.xml                 | 2 +-
 plugins/past-event/pom.xml                        | 2 +-
 plugins/pom.xml                                   | 2 +-
 plugins/request/pom.xml                           | 2 +-
 plugins/tracked-event/pom.xml                     | 2 +-
 pom.xml                                           | 2 +-
 rest/pom.xml                                      | 2 +-
 samples/login-integration/pom.xml                 | 2 +-
 samples/pom.xml                                   | 2 +-
 samples/tweet-button-plugin/pom.xml               | 2 +-
 services/pom.xml                                  | 2 +-
 tools/pom.xml                                     | 2 +-
 tools/shell-commands/pom.xml                      | 2 +-
 tools/shell-dev-commands/pom.xml                  | 2 +-
 wab/pom.xml                                       | 2 +-
 62 files changed, 63 insertions(+), 63 deletions(-)

commit e0dec3935ab60c3e32242676c4fc26f41bf66184
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 16 21:10:56 2019 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                       | 2 +-
 common/pom.xml                                    | 2 +-
 extensions/geonames/pom.xml                       | 2 +-
 extensions/geonames/rest/pom.xml                  | 2 +-
 extensions/geonames/services/pom.xml              | 2 +-
 extensions/lists-extension/actions/pom.xml        | 2 +-
 extensions/lists-extension/pom.xml                | 2 +-
 extensions/lists-extension/rest/pom.xml           | 2 +-
 extensions/lists-extension/services/pom.xml       | 2 +-
 extensions/pom.xml                                | 2 +-
 extensions/privacy-extension/pom.xml              | 2 +-
 extensions/privacy-extension/rest/pom.xml         | 2 +-
 extensions/privacy-extension/services/pom.xml     | 4 ++--
 extensions/router/pom.xml                         | 2 +-
 extensions/router/router-api/pom.xml              | 2 +-
 extensions/router/router-core/pom.xml             | 2 +-
 extensions/router/router-karaf-feature/pom.xml    | 2 +-
 extensions/router/router-rest/pom.xml             | 2 +-
 extensions/router/router-service/pom.xml          | 2 +-
 extensions/salesforce-connector/actions/pom.xml   | 2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml | 2 +-
 extensions/salesforce-connector/pom.xml           | 2 +-
 extensions/salesforce-connector/rest/pom.xml      | 2 +-
 extensions/salesforce-connector/services/pom.xml  | 2 +-
 extensions/unomi-mailchimp/actions/pom.xml        | 2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      | 2 +-
 extensions/unomi-mailchimp/pom.xml                | 2 +-
 extensions/unomi-mailchimp/rest/pom.xml           | 2 +-
 extensions/unomi-mailchimp/services/pom.xml       | 2 +-
 extensions/weather-update/core/pom.xml            | 2 +-
 extensions/weather-update/karaf-kar/pom.xml       | 2 +-
 extensions/weather-update/pom.xml                 | 2 +-
 extensions/web-tracker/karaf-kar/pom.xml          | 2 +-
 extensions/web-tracker/pom.xml                    | 2 +-
 extensions/web-tracker/wab/pom.xml                | 2 +-
 itests/pom.xml                                    | 2 +-
 kar/pom.xml                                       | 2 +-
 lifecycle-watcher/pom.xml                         | 2 +-
 manual/pom.xml                                    | 2 +-
 metrics/pom.xml                                   | 2 +-
 package/pom.xml                                   | 2 +-
 persistence-elasticsearch/core/pom.xml            | 2 +-
 persistence-elasticsearch/pom.xml                 | 2 +-
 persistence-spi/pom.xml                           | 2 +-
 plugins/baseplugin/pom.xml                        | 2 +-
 plugins/hover-event/pom.xml                       | 2 +-
 plugins/mail/pom.xml                              | 2 +-
 plugins/optimization-test/pom.xml                 | 2 +-
 plugins/past-event/pom.xml                        | 2 +-
 plugins/pom.xml                                   | 2 +-
 plugins/request/pom.xml                           | 2 +-
 plugins/tracked-event/pom.xml                     | 2 +-
 pom.xml                                           | 4 ++--
 rest/pom.xml                                      | 2 +-
 samples/login-integration/pom.xml                 | 2 +-
 samples/pom.xml                                   | 2 +-
 samples/tweet-button-plugin/pom.xml               | 2 +-
 services/pom.xml                                  | 2 +-
 tools/pom.xml                                     | 2 +-
 tools/shell-commands/pom.xml                      | 2 +-
 tools/shell-dev-commands/pom.xml                  | 2 +-
 wab/pom.xml                                       | 2 +-
 62 files changed, 64 insertions(+), 64 deletions(-)

commit e3a8df62b9c0cf8db37a26538d92b5ed1e8b85ae
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 16 21:10:36 2019 +0200

    [maven-release-plugin] prepare release unomi-root-1.4.0

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  2 +-
 extensions/geonames/services/pom.xml              |  2 +-
 extensions/lists-extension/actions/pom.xml        |  2 +-
 extensions/lists-extension/pom.xml                |  2 +-
 extensions/lists-extension/rest/pom.xml           |  2 +-
 extensions/lists-extension/services/pom.xml       |  2 +-
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  2 +-
 extensions/privacy-extension/rest/pom.xml         |  2 +-
 extensions/privacy-extension/services/pom.xml     |  4 ++--
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml |  2 +-
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  2 +-
 extensions/salesforce-connector/services/pom.xml  |  2 +-
 extensions/unomi-mailchimp/actions/pom.xml        |  2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  2 +-
 extensions/unomi-mailchimp/pom.xml                |  2 +-
 extensions/unomi-mailchimp/rest/pom.xml           |  2 +-
 extensions/unomi-mailchimp/services/pom.xml       |  2 +-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  2 +-
 extensions/weather-update/pom.xml                 |  2 +-
 extensions/web-tracker/karaf-kar/pom.xml          |  2 +-
 extensions/web-tracker/pom.xml                    |  2 +-
 extensions/web-tracker/wab/pom.xml                |  5 ++---
 itests/pom.xml                                    |  2 +-
 kar/pom.xml                                       |  2 +-
 lifecycle-watcher/pom.xml                         |  2 +-
 manual/pom.xml                                    | 10 ++++------
 metrics/pom.xml                                   |  2 +-
 package/pom.xml                                   |  2 +-
 persistence-elasticsearch/core/pom.xml            |  2 +-
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  2 +-
 plugins/baseplugin/pom.xml                        |  2 +-
 plugins/hover-event/pom.xml                       |  2 +-
 plugins/mail/pom.xml                              |  2 +-
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  2 +-
 plugins/pom.xml                                   |  2 +-
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  2 +-
 pom.xml                                           |  4 ++--
 rest/pom.xml                                      |  2 +-
 samples/login-integration/pom.xml                 |  2 +-
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  2 +-
 services/pom.xml                                  |  2 +-
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  2 +-
 wab/pom.xml                                       |  2 +-
 62 files changed, 68 insertions(+), 71 deletions(-)

commit ab608e77b22975dbc6e5be6e0e1000f0977e5aad
Author: Serge Huber <shuber@apache.org>
Date:   Thu May 16 15:55:05 2019 +0200

    - Update NOTICE files in preparation for release
    - Remove DISCLAIMER no longer needed now that we are out of incubation
    - Remove ZIP file that was removed before (how did it come back ?)
    -
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 DISCLAIMER                                |  10 --
 extensions/web-tracker/javascript/LICENSE | 201 ------------------------------
 package/src/main/resources/NOTICE         |   4 +-
 samples/trainingplugin.zip                | Bin 48508 -> 0 bytes
 4 files changed, 2 insertions(+), 213 deletions(-)

commit 07b46ac89a30b99b7d622e0d55d1ee3e9847be6d
Author: Serge Huber <shuber@apache.org>
Date:   Wed May 15 19:39:24 2019 +0200

    Remove some more references to incubating...
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 NOTICE                                               | 2 +-
 manual/src/main/asciidoc/samples/twitter-sample.adoc | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit db2230e488d50d74e76616062bb4a22a995c565d
Author: Serge Huber <shuber@apache.org>
Date:   Wed May 15 19:39:03 2019 +0200

    UNOMI-208 Improve documentation
    - Fix image reference in archived documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 api/src/main/java/org/apache/unomi/api/conditions/Condition.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9901d95898c515942f754255ba2bd3d6fcbdbbf3
Author: Francois Papon <fpapon@apache.org>
Date:   Sat Apr 20 19:53:20 2019 +0400

    [UNOMI-228] Replace user agent detector library

 itests/pom.xml                                     |  33 +------
 .../test/java/org/apache/unomi/itests/BaseIT.java  |  40 +-------
 package/pom.xml                                    |  13 +--
 performance-tests/pom.xml                          |  36 +------
 .../apache/unomi/performancetests/BasicTest.java   |  52 ++---------
 plugins/request/pom.xml                            |  86 ++++++++++++++---
 .../request/actions/SetRemoteHostInfoAction.java   |  52 ++++++-----
 .../unomi/plugins/request/useragent/UserAgent.java |  86 +++++++++++++++++
 .../useragent/UserAgentDetectorServiceImpl.java    |  76 +++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   6 ++
 .../request/actions/UserAgentDetectorTest.java     | 104 +++++++++++++++++++++
 pom.xml                                            |  34 ++++++-
 services/pom.xml                                   |  14 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 -
 14 files changed, 439 insertions(+), 194 deletions(-)

commit 689535135fecb38b42178f2374b9fb7ad861483f
Author: sergehuber <shuber@jahia.com>
Date:   Sun May 12 16:05:28 2019 +0200

    UNOMI-231 Windows building issues
    - Deactivate (temporarily) the miredot plugin that generates a System.exit on Windows
    - Reduce the system load of the unit tests as they seem to be put too much stress on Windows platforms.
    - Update ElasticSearch plugin to latest version to address some Windows issues

 itests/pom.xml                                     |   3 +-
 .../unomi/metrics/internal/MetricsServiceTest.java |   7 +-
 .../conditions/PropertyConditionEvaluatorTest.java |   6 +-
 rest/pom.xml                                       | 333 +++++++++++----------
 4 files changed, 184 insertions(+), 165 deletions(-)

commit abe53424da8d3a20cbc103d6ad42aa9ea2be4b62
Author: Serge Huber <shuber@apache.org>
Date:   Sun May 12 11:34:20 2019 +0200

    UNOMI-208 Improve documentation
    - Fix image reference in archived documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/archives/1.1/asciidoc/getting-started.adoc        | 3 ++-
 manual/src/archives/1.2/asciidoc/samples/twitter-sample.adoc | 3 ++-
 manual/src/archives/1.3/asciidoc/samples/twitter-sample.adoc | 3 ++-
 3 files changed, 6 insertions(+), 3 deletions(-)

commit 41206f68d92db9913c2fc727e3335da01baac768
Author: Serge Huber <shuber@apache.org>
Date:   Sun May 12 10:28:37 2019 +0200

    UNOMI-208 Improve documentation
    - Fix image reference for latest documentation, probably still have to fix it for archives
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/concepts.adoc               | 8 +++++++-
 manual/src/main/asciidoc/samples/twitter-sample.adoc | 3 ++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit cdfbfb6b926fc4300ed56c1a02832141d0db4aec
Author: Serge Huber <shuber@apache.org>
Date:   Sun May 12 10:12:36 2019 +0200

    UNOMI-208 Improve documentation
    - Fixed flow by fixing heading levels that were not correct
    - Moved the request examples to a separate document to make them more visible
    - Moved the consent API higher up
    - Made all curl examples that use POST bodies use multiline bodies to make them easier to read
    - Made the web tracker also stand out some more
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/5-min-quickstart.adoc     |   2 +-
 manual/src/main/asciidoc/consent-api.adoc          |  73 +++++++++-
 manual/src/main/asciidoc/getting-started.adoc      |  75 +---------
 manual/src/main/asciidoc/index.adoc                |  22 +--
 manual/src/main/asciidoc/patches.adoc              |   2 +-
 manual/src/main/asciidoc/request-examples.adoc     | 158 +++++++++++++++++++++
 manual/src/main/asciidoc/useful-unomi-urls.adoc    |   2 +-
 .../{installing-tracker.adoc => web-tracker.adoc}  |  10 +-
 8 files changed, 246 insertions(+), 98 deletions(-)

commit a503e3e066e1a3e3ac2d9094436496e3495f7dc7
Author: Serge Huber <shuber@apache.org>
Date:   Wed May 8 20:28:25 2019 +0200

    UNOMI-216 Centralize configuration in unomi.properties
    - Fix broken Salesforce unit test broken by introduction of default values for property values.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 extensions/salesforce-connector/services/pom.xml                    | 6 ++++++
 .../apache/unomi/sfdc/services/internal/SFDCServiceImplTest.java    | 4 ++--
 2 files changed, 8 insertions(+), 2 deletions(-)

commit 8591255218f7821fde58141516e68c309c4571ff
Author: sergehuber <shuber@jahia.com>
Date:   Sun May 5 16:15:32 2019 +0200

    - Fix issues with missing ASL headers
    - Improve README to add instructions on how to build Docker image

 docker/README.md          | 24 ++++++++++++++++++++++++
 docker/docker-compose.yml | 16 ++++++++++++++++
 docker/entrypoint.sh      | 16 ++++++++++++++++
 3 files changed, 56 insertions(+)

commit f89312cef7cb23b7ad1cfd9792404b9a29feb65c
Author: Mike Ghen <mike.ghen@gmail.com>
Date:   Fri May 3 21:29:54 2019 -0400

    Remove dependancy on mikeghen/unomi, added to readme

 docker/README.md          | 7 +++----
 docker/docker-compose.yml | 3 +--
 2 files changed, 4 insertions(+), 6 deletions(-)

commit ea788caaf6a6f626a5d51fd10265ee36ddb271ef
Author: Mike Ghen <mike.ghen@gmail.com>
Date:   Fri May 3 21:19:48 2019 -0400

    Added docker from mikeghen/unomi-dokcer

 docker/Dockerfile         | 37 +++++++++++++++++++++++++++++++++++++
 docker/README.md          | 16 ++++++++++++++++
 docker/docker-compose.yml | 35 +++++++++++++++++++++++++++++++++++
 docker/entrypoint.sh      | 16 ++++++++++++++++
 4 files changed, 104 insertions(+)

commit 0e81668a06ac4b0746e8f4849f78013f9f8e17e7
Author: Serge Huber <shuber@apache.org>
Date:   Tue Apr 30 11:56:42 2019 +0200

    UNOMI-226 Document how to use the IP addresses ranges and subnet support.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/configuration.adoc | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 3a46314054e53ba9134bbc602915f0126221a1bd
Author: Kevan <kevan@jahia.com>
Date:   Thu Apr 18 14:47:48 2019 +0200

    DMF-3490: simplify authenticateThirdPartyServer algorithm

 .../apache/unomi/services/services/EventServiceImpl.java  | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 1d3d8f1ba0f0e0acd1dd525791de0e424877525f
Author: Francois Papon <fpapon@apache.org>
Date:   Tue Apr 16 22:18:29 2019 +0400

    [UNOMI-227] Upgrade to Apache pom parent 21

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1348b33456cd34e339773b99aeb38d6410e976c
Merge: 850982b5 9a9ad916
Author: François Papon <francois.papon@openobject.fr>
Date:   Fri Apr 12 16:37:27 2019 +0400

    Merge pull request #82 from fpapon/CLEAN-INCUBATOR-2
    
    Clean incubator scm and mailing lists

commit 9a9ad9167c4bd8453e329dc48bbcbdf89ec464bb
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Tue Apr 9 17:10:51 2019 +0400

    Remove incubating in release version

 .gitignore                                        | 1 +
 api/pom.xml                                       | 2 +-
 common/pom.xml                                    | 2 +-
 extensions/geonames/pom.xml                       | 2 +-
 extensions/geonames/rest/pom.xml                  | 2 +-
 extensions/geonames/services/pom.xml              | 2 +-
 extensions/lists-extension/actions/pom.xml        | 2 +-
 extensions/lists-extension/pom.xml                | 2 +-
 extensions/lists-extension/rest/pom.xml           | 2 +-
 extensions/lists-extension/services/pom.xml       | 2 +-
 extensions/pom.xml                                | 2 +-
 extensions/privacy-extension/pom.xml              | 2 +-
 extensions/privacy-extension/rest/pom.xml         | 2 +-
 extensions/privacy-extension/services/pom.xml     | 4 ++--
 extensions/router/pom.xml                         | 2 +-
 extensions/router/router-api/pom.xml              | 2 +-
 extensions/router/router-core/pom.xml             | 2 +-
 extensions/router/router-karaf-feature/pom.xml    | 2 +-
 extensions/router/router-rest/pom.xml             | 2 +-
 extensions/router/router-service/pom.xml          | 2 +-
 extensions/salesforce-connector/actions/pom.xml   | 2 +-
 extensions/salesforce-connector/karaf-kar/pom.xml | 2 +-
 extensions/salesforce-connector/pom.xml           | 2 +-
 extensions/salesforce-connector/rest/pom.xml      | 2 +-
 extensions/salesforce-connector/services/pom.xml  | 2 +-
 extensions/unomi-mailchimp/actions/pom.xml        | 2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      | 2 +-
 extensions/unomi-mailchimp/pom.xml                | 2 +-
 extensions/unomi-mailchimp/rest/pom.xml           | 2 +-
 extensions/unomi-mailchimp/services/pom.xml       | 2 +-
 extensions/weather-update/core/pom.xml            | 2 +-
 extensions/weather-update/karaf-kar/pom.xml       | 2 +-
 extensions/weather-update/pom.xml                 | 2 +-
 extensions/web-tracker/karaf-kar/pom.xml          | 2 +-
 extensions/web-tracker/pom.xml                    | 2 +-
 extensions/web-tracker/wab/pom.xml                | 2 +-
 itests/pom.xml                                    | 2 +-
 kar/pom.xml                                       | 2 +-
 lifecycle-watcher/pom.xml                         | 2 +-
 manual/pom.xml                                    | 2 +-
 metrics/pom.xml                                   | 2 +-
 package/pom.xml                                   | 2 +-
 performance-tests/pom.xml                         | 2 +-
 persistence-elasticsearch/core/pom.xml            | 2 +-
 persistence-elasticsearch/pom.xml                 | 2 +-
 persistence-spi/pom.xml                           | 2 +-
 plugins/baseplugin/pom.xml                        | 2 +-
 plugins/hover-event/pom.xml                       | 2 +-
 plugins/mail/pom.xml                              | 2 +-
 plugins/optimization-test/pom.xml                 | 2 +-
 plugins/past-event/pom.xml                        | 2 +-
 plugins/pom.xml                                   | 2 +-
 plugins/request/pom.xml                           | 2 +-
 plugins/tracked-event/pom.xml                     | 2 +-
 pom.xml                                           | 8 ++++----
 rest/pom.xml                                      | 2 +-
 samples/login-integration/pom.xml                 | 2 +-
 samples/pom.xml                                   | 2 +-
 samples/tweet-button-plugin/pom.xml               | 2 +-
 services/pom.xml                                  | 2 +-
 tools/pom.xml                                     | 2 +-
 tools/shell-commands/pom.xml                      | 2 +-
 tools/shell-dev-commands/pom.xml                  | 2 +-
 wab/pom.xml                                       | 2 +-
 64 files changed, 68 insertions(+), 67 deletions(-)

commit 850982b50c5fc240e55d4de9ff677c9b81602d86
Author: Serge Huber <shuber@apache.org>
Date:   Tue Apr 9 20:46:58 2019 +0200

    UNOMI-226 Allow for ranges of ip addresses or CIDR masks for secure event sources
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 services/pom.xml                                   |  7 ++++++
 .../unomi/services/services/EventServiceImpl.java  | 29 +++++++++++-----------
 .../unomi/services/services/ThirdPartyServer.java  |  9 ++++---
 3 files changed, 27 insertions(+), 18 deletions(-)

commit 11e2c479872e83ceaaeb158c888c0a12282c718c
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Mon Apr 8 19:22:38 2019 +0400

    Clean incubator scm and mailing lists

 pom.xml | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit b078f502b5c70e68ceeb9982f07991b28b5d4991
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Mon Apr 1 22:18:33 2019 +0400

    Clean incubator urls

 MERGING-PULL-REQUESTS       | 2 +-
 README.md                   | 2 +-
 generate-site-and-upload.sh | 6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 18e9bc2ddaba5687a4f4fe3402c40230fa3a1250
Merge: fb945de5 c4472242
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Apr 1 10:49:36 2019 +0200

    This closes pull request number #80

commit fb945de50db70c02af93fd57de1c8d9995be5edb
Merge: f97ee4bb c97335dc
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Apr 1 10:48:32 2019 +0200

    This closes pull request number #79

commit c44722427f90caa27d374826e2612ba7df5c9821
Author: bd2019us <bd2019us@126.com>
Date:   Sun Mar 31 20:00:33 2019 -0500

    [UNOMI-224] fix an API bug which may crash the program.

 .../java/org/apache/unomi/shell/migration/impl/MigrationTo121.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c97335dc27a8140a788956577519e7b4731de14a
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 27 16:37:51 2019 +0100

    UNOMI-223 increment score if profile scores is empty

 .../org/apache/unomi/services/sorts/ScorePersonalizationStrategy.java   | 2 ++
 1 file changed, 2 insertions(+)

commit f97ee4bb350921bbcad4c3870f9e962e998e0318
Author: dinesh1996 <dinesh.salhotradass@ynov.com>
Date:   Tue Mar 12 10:27:50 2019 +0100

    UNOMI-220 eliminates leading and trailing spaces into ip value

 .../main/java/org/apache/unomi/services/services/EventServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1745c5221401a05e66ebf80fbe9cce2790442b3a
Merge: 724d34cf b48dc093
Author: François Papon <francois.papon@openobject.fr>
Date:   Thu Feb 21 16:18:00 2019 +0400

    Merge pull request #77 from fpapon/README
    
    Update developper list in README

commit b48dc093c3783be290bab2d69f8b99c7efd98aac
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Thu Feb 21 16:14:09 2019 +0400

    Update developper list in README

 pom.xml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 724d34cfd6a746d0420f7bcfa96e5acf6f0593c7
Merge: ab96c77a 06d6820e
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 15 09:52:08 2019 +0100

    This closes pull request number #75

commit ab96c77aeafdac184205c63de2030fc495ec85c3
Merge: d431a546 9cd7c00b
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 6 17:30:21 2019 +0100

    This closes pull request number #76

commit d431a546205f48d84e756ea4ddb2796e537074b4
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 31 10:19:05 2019 +0100

    Update copyright
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 NOTICE | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9cd7c00bea29bab739fd5546718d515170242e20
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Tue Jan 22 17:54:35 2019 +0100

    UNOMI-218 add queryParam annotation to the Unomi server rest API methods

 .../org/apache/unomi/rest/ProfileServiceEndPoint.java    |  7 ++++---
 .../org/apache/unomi/rest/ScoringServiceEndPoint.java    | 10 ++++++++--
 .../org/apache/unomi/rest/SegmentServiceEndPoint.java    | 11 +++++++++--
 .../org/apache/unomi/rest/UserListServiceEndPoint.java   | 16 ++++++++++------
 4 files changed, 31 insertions(+), 13 deletions(-)

commit 06d6820ee7e809c055bcc0aef74ef0ac85dfdf0a
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Thu Jan 17 09:27:59 2019 +0400

    Fix Kar feature deployment in Karaf 4.2.x

 kar/src/main/feature/feature.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 0aa6e6c64f857321eefd5d9a68ceebd391309685
Merge: 26ce3c17 bf12dd57
Author: François Papon <francois.papon@openobject.fr>
Date:   Thu Jan 17 09:49:29 2019 +0400

    Merge pull request #74 from fpapon/README-BADGE
    
    Add Jenkins build and Maven central badges on README.md

commit bf12dd578e14314d65093d4fb217bd14bb3098b5
Author: Francois Papon <francois.papon@openobject.fr>
Date:   Thu Jan 17 09:45:42 2019 +0400

    Add Jenkins build and Maven central badges

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit 26ce3c1746632ff2180f490e1f2b32b0e588af94
Author: Kevan <kevan@jahia.com>
Date:   Fri Jan 4 14:31:11 2019 +0100

    UNOMI-217: improve namings

 .../services/services/ProfileServiceImpl.java      | 34 +++++++++++-----------
 1 file changed, 17 insertions(+), 17 deletions(-)

commit d3b1e950d7f1ec6c1efe876b69160da007a23dc2
Author: Kevan <kevan@jahia.com>
Date:   Fri Jan 4 13:10:06 2019 +0100

    UNOMI-217 merge system properties during profile merge

 .../services/services/ProfileServiceImpl.java      | 51 ++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 4b447c2063a0fbafc7413169cc1dbcbfb5400e90
Author: Serge Huber <shuber@apache.org>
Date:   Fri Dec 21 15:38:03 2018 +0100

    UNOMI-216 Centralize configuration in unomi.properties
    - Remove interface from Hazelcast TCP-IP configuration
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/src/main/resources/etc/custom.system.properties | 1 -
 services/src/main/resources/hazelcast.xml               | 1 -
 2 files changed, 2 deletions(-)

commit 252cca81e3d2294a2368fba2235c3a8c21c5b209
Author: Serge Huber <shuber@apache.org>
Date:   Sat Dec 15 16:18:01 2018 +0100

    UNOMI-216 Centralize configuration in unomi.properties
    - Update documentation to point to centralized configuration whenever possible.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/clustering.adoc           |  70 ++------
 manual/src/main/asciidoc/configuration.adoc        | 181 +++++++++++++--------
 .../asciidoc/connectors/mailchimp-connector.adoc   |  10 +-
 .../asciidoc/connectors/salesforce-connector.adoc  |  18 +-
 manual/src/main/asciidoc/extending-plugins.adoc    |  16 +-
 manual/src/main/asciidoc/getting-started.adoc      |   7 +-
 6 files changed, 155 insertions(+), 147 deletions(-)

commit c569f6396c284660bf634d490f12d2f3d390a1b6
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 13 20:28:30 2018 +0100

    UNOMI-216 Centralize configuration in unomi.properties
    - Simplify configuration by just using a system properties file instead of a custom.properties file
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/configuration.adoc        |  16 +-
 package/src/main/resources/etc/custom.properties   |   1 -
 .../main/resources/etc/custom.system.properties    | 289 +++++++++++++++++++
 package/src/main/resources/etc/unomi.properties    | 309 ---------------------
 4 files changed, 297 insertions(+), 318 deletions(-)

commit b873b35a208a53b607d3e0928ec46c975d2024ff
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 13 18:07:17 2018 +0100

    UNOMI-216 Centralize configuration in unomi.properties
    - In this commit we centralize all configuration in the unomi.properties and custom.system.properties file, and use placeholders that reference environment properties to be able to read values from environment properties if they are setup. Users should not modify these files however, and should create a unomi.custom.properties and a unomi.custom.system.properties files to override the default values or use the new environment variables to modify any settings.
    - Upgraded to Karaf 4.1.7 because we need a bugfix to be able to use placeholders in the system properties configuration files (this was fixed in Karaf 4.1.6 but we moved to the latest minor update).
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/resources/org.apache.unomi.geonames.cfg   |   6 +-
 .../src/main/resources/org.apache.unomi.router.cfg |  30 +-
 .../src/main/resources/org.apache.unomi.sfdc.cfg   |  24 +-
 .../org.apache.unomi.mailchimpconnector.cfg        |   8 +-
 .../resources/org.apache.unomi.weatherUpdate.cfg   |   6 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   6 +-
 package/src/main/resources/etc/custom.properties   |   7 +-
 .../main/resources/etc/custom.system.properties    |  34 +++
 .../src/main/resources/etc/org.apache.cxf.osgi.cfg |   2 +-
 .../main/resources/etc/org.apache.karaf.jaas.cfg   |  63 +++++
 .../main/resources/etc/org.apache.karaf.shell.cfg  |  20 +-
 .../main/resources/etc/org.ops4j.pax.logging.cfg   |  14 +-
 .../src/main/resources/etc/org.ops4j.pax.web.cfg   |  20 ++
 package/src/main/resources/etc/unomi.properties    | 309 +++++++++++++++++++++
 package/src/main/resources/etc/users.properties    |  33 +++
 .../org.apache.unomi.persistence.elasticsearch.cfg |  30 +-
 .../resources/org.apache.unomi.plugins.mail.cfg    |  10 +-
 .../resources/org.apache.unomi.plugins.request.cfg |  18 +-
 pom.xml                                            |   2 +-
 services/src/main/resources/hazelcast.xml          |   9 +-
 .../main/resources/org.apache.unomi.cluster.cfg    |   8 +-
 .../main/resources/org.apache.unomi.services.cfg   |  22 +-
 .../main/resources/org.apache.unomi.thirdparty.cfg |   6 +-
 wab/src/main/resources/org.apache.unomi.web.cfg    |   8 +-
 24 files changed, 576 insertions(+), 119 deletions(-)

commit 099abb02b7df05e601861d4a9ff9e5a9b35dc214
Author: Serge Huber <shuber@apache.org>
Date:   Fri Dec 7 10:28:04 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Remove language parameter as it seems to cause problems and is not really used.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 extensions/web-tracker/wab/src/main/webapp/index.html | 3 +--
 manual/src/main/asciidoc/installing-tracker.adoc      | 4 ----
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 0c24a0272f176ff721fb8bd72473796d219d160b
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 4 11:14:10 2018 +0100

    UNOMI-215 New rule monitoring commands & other new commands
    - Refactor commands to use new style for Karaf 4
    - Tried to remove Blueprint but was a little too complex because of some of the initialization that is done.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 tools/shell-commands/pom.xml                       | 14 +++++++
 .../java/org/apache/unomi/shell/actions/Start.java | 18 ++++----
 .../java/org/apache/unomi/shell/actions/Stop.java  | 17 ++++----
 .../org/apache/unomi/shell/actions/Version.java    | 15 +++++--
 .../apache/unomi/shell/migration/Migration.java    |  6 +--
 .../unomi/shell/migration/actions/Migrate.java     | 48 +++++++++++++++++-----
 .../unomi/shell/migration/impl/MigrationTo121.java |  8 ++--
 .../unomi/shell/migration/impl/MigrationTo122.java |  8 ++--
 .../unomi/shell/migration/utils/ConsoleUtils.java  | 20 ++++-----
 .../unomi/shell/migration/utils/HttpUtils.java     |  4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 30 +-------------
 11 files changed, 108 insertions(+), 80 deletions(-)

commit e5075636dac6672bbae66d33ccccc5e6b4e7379e
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 3 17:31:09 2018 +0100

    UNOMI-215 New rule monitoring commands & other new commands
    - Refactor commands to use new style
    - Remove blueprint
    - Rename commands to remove "Command" at the end of the name
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 tools/shell-dev-commands/pom.xml                   |  14 +++
 .../{ActionListCommand.java => ActionList.java}    |  14 +--
 .../{ActionViewCommand.java => ActionView.java}    |  22 ++--
 ...onditionListCommand.java => ConditionList.java} |  14 +--
 ...onditionViewCommand.java => ConditionView.java} |  21 ++--
 ...efinitionCommand.java => DeployDefinition.java} |  77 ++++++------
 .../{EventTailCommand.java => EventTail.java}      |   8 +-
 .../{EventViewCommand.java => EventView.java}      |  27 ++---
 .../unomi/shell/commands/ListCommandSupport.java   |   9 +-
 .../{ProfileListCommand.java => ProfileList.java}  |  22 ++--
 .../{ProfileViewCommand.java => ProfileView.java}  |  21 ++--
 .../{RuleListCommand.java => RuleList.java}        |  22 ++--
 ...eResetStatsCommand.java => RuleResetStats.java} |  18 +--
 .../{RuleTailCommand.java => RuleTail.java}        |   6 +-
 .../{RuleViewcommand.java => RuleView.java}        |  21 ++--
 .../{RuleWatchCommand.java => RuleWatch.java}      |   8 +-
 .../{SegmentListCommand.java => SegmentList.java}  |  16 +--
 .../{SegmentViewCommand.java => SegmentView.java}  |  22 ++--
 .../{SessionListCommand.java => SessionList.java}  |  21 ++--
 .../{SessionViewCommand.java => SessionView.java}  |  20 +--
 .../unomi/shell/commands/TailCommandSupport.java   |  17 ++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 134 ---------------------
 22 files changed, 215 insertions(+), 339 deletions(-)

commit ac1ce5791c252fb04cdd24b0e70c7bbd55a40692
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 29 20:55:23 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Fix tracking of tags and categories on initial page tracking call
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 extensions/web-tracker/javascript/dist/unomi-tracker.js               | 4 +++-
 extensions/web-tracker/javascript/dist/unomi-tracker.min.js           | 4 ++--
 .../javascript/src/analytics.js-integration-apache-unomi.js           | 2 +-
 3 files changed, 6 insertions(+), 4 deletions(-)

commit f67674e896cf1532a359600a62f8c1c7859b438e
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 29 20:53:52 2018 +0100

    UNOMI-215 New rule monitoring commands & other new commands
    - New condition list & view shell commands
    - New rule tail & rule shell commands
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/api/services/RuleListenerService.java    |  61 ++++++++++++
 manual/src/main/asciidoc/shell-commands.adoc       |  37 +++++--
 .../unomi/services/services/RulesServiceImpl.java  |  44 ++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   8 ++
 .../unomi/shell/commands/ConditionListCommand.java |  64 ++++++++++++
 .../unomi/shell/commands/ConditionViewCommand.java |  51 ++++++++++
 .../unomi/shell/commands/EventTailCommand.java     |  59 +++--------
 .../unomi/shell/commands/RuleListCommand.java      |   2 +-
 .../unomi/shell/commands/RuleTailCommand.java      |  91 +++++++++++++++++
 .../unomi/shell/commands/RuleWatchCommand.java     | 108 +++++++++++++++++++++
 .../unomi/shell/commands/TailCommandSupport.java   |  99 +++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  18 ++++
 12 files changed, 587 insertions(+), 55 deletions(-)

commit ac325f945656d7cf0903babbeda58508414c3e9e
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 29 20:36:00 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Fix tracking of tags and categories on initial page tracking call
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../web-tracker/javascript/dist/unomi-tracker.js   | 309 ++++++++++++++-------
 .../javascript/dist/unomi-tracker.min.js           |   4 +-
 extensions/web-tracker/javascript/package.json     |   3 +-
 .../src/analytics.js-integration-apache-unomi.js   |   5 +-
 extensions/web-tracker/javascript/yarn.lock        |   4 +
 .../web-tracker/wab/src/main/webapp/index.html     | 139 +++++----
 wab/src/main/webapp/index.html                     |   3 +
 7 files changed, 318 insertions(+), 149 deletions(-)

commit 45b04c2f065930cb692b5d06186fa451e8e3ebf4
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 27 17:13:49 2018 +0100

    UNOMI-208 Improve documentation
    - Fix issues with ElasticSearch X-Pack documentation levels being too high
    - Added new documentation on useful URLs to know
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/configuration.adoc     |  4 +-
 manual/src/main/asciidoc/index.adoc             |  2 +
 manual/src/main/asciidoc/useful-unomi-urls.adoc | 83 +++++++++++++++++++++++++
 3 files changed, 87 insertions(+), 2 deletions(-)

commit 48d4f897dc2ffc107753cb814a24691d54b7ca3c
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 27 14:22:33 2018 +0100

    UNOMI-214 Fix integration tests
    - Fix event tail command that was not printing out to the proper output
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/shell/commands/EventTailCommand.java    | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 3bd954931df40639cabcb56c37359be940c12946
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 26 22:30:06 2018 +0100

    UNOMI-214 Fix integration tests
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../core/processor/LineSplitFailureHandler.java       | 12 +++++++++++-
 .../test/java/org/apache/unomi/itests/TestUtils.java  | 19 ++++++++++++++++---
 2 files changed, 27 insertions(+), 4 deletions(-)

commit b8722499a19cf3af1c69e91621c85417242e7f14
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 26 14:57:31 2018 +0100

    UNOMI-213 Move twitter sample HTML out of root context and build a proper HTML welcome page in the root context
    - Improve layout and styling
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/webapp/images/apache-feather-tm-new.png   | Bin 0 -> 1359 bytes
 wab/src/main/webapp/images/apache-unomi-380x85.png | Bin 0 -> 28161 bytes
 wab/src/main/webapp/images/unomi-86x20.png         | Bin 0 -> 17610 bytes
 wab/src/main/webapp/index.html                     |  79 +++++++++++++++------
 4 files changed, 57 insertions(+), 22 deletions(-)

commit b3b6c5c85b8b05f0114d2fe79210df2c8a0cf10c
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 26 14:35:49 2018 +0100

    UNOMI-213 Move twitter sample HTML out of root context and build a proper HTML welcome page in the root context
    - Add bootstrap to improve layout & l&f
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 wab/src/main/webapp/index.html | 45 +++++++++++++++++++++++++++---------------
 1 file changed, 29 insertions(+), 16 deletions(-)

commit c360cbcf2e60518ccd0be58e5e304fbcc4bf0ac1
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 26 14:28:10 2018 +0100

    UNOMI-213 Move twitter sample HTML out of root context and build a proper HTML welcome page in the root context
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 samples/tweet-button-plugin/pom.xml                |   3 +-
 .../tweet-button-plugin/src/main/webapp/index.html | 181 +++++++++++++++++++++
 wab/src/main/webapp/index.html                     | 173 ++------------------
 3 files changed, 200 insertions(+), 157 deletions(-)

commit cae989b3b12c3ae3f6023b208509a427f0764fc1
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 23 18:00:03 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Added form submission tracking to web tracker
    - Added documentation on how to setup form tracking
    - Improved SSH commands to be able to pass a maxEntries argument to specify how many entries we want to retrieve (the default was 50 and it was not possible to change it)
    - Added an form tracking example to the http://localhost:8181/tracker test page.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../web-tracker/javascript/dist/unomi-tracker.js   | 719 ++++++++++++++++++---
 .../javascript/dist/unomi-tracker.min.js           |   8 +-
 .../src/analytics.js-integration-apache-unomi.js   |  79 ++-
 extensions/web-tracker/javascript/yarn.lock        | 650 ++++---------------
 extensions/web-tracker/wab/pom.xml                 |   7 +-
 .../META-INF/cxs/rules/form-mapping-example.json   |  52 ++
 .../web-tracker/wab/src/main/webapp/index.html     |  97 ++-
 manual/src/main/asciidoc/installing-tracker.adoc   | 226 ++++++-
 .../unomi/shell/commands/ProfileListCommand.java   |   5 +
 .../unomi/shell/commands/RuleListCommand.java      |  25 +-
 .../unomi/shell/commands/SegmentListCommand.java   |   6 +-
 .../unomi/shell/commands/SessionListCommand.java   |   5 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 13 files changed, 1229 insertions(+), 651 deletions(-)

commit b5c5893e393167f19efbd65f4aaed344b1e5f22e
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 20 23:45:18 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Remove invalid sourcemap
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 extensions/web-tracker/javascript/dist/unomi-tracker.min.js.map | 1 -
 1 file changed, 1 deletion(-)

commit 5bcb4c1bcebbb55ac0e029dd9515db32c584b909
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 20 23:43:50 2018 +0100

    UNOMI-187 Integrate analytics.js
    - Add sourcemaps
    - Add support for tags, categories and interests
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../web-tracker/javascript/dist/unomi-tracker.js   |  8 ++-
 .../javascript/dist/unomi-tracker.min.js           |  2 +-
 extensions/web-tracker/javascript/snippet.min.js   |  3 +-
 .../src/analytics.js-integration-apache-unomi.js   |  4 +-
 .../web-tracker/wab/src/main/webapp/index.html     | 24 +++++++
 manual/src/main/asciidoc/installing-tracker.adoc   | 73 +++++++++++++++++++++-
 pom.xml                                            |  1 +
 7 files changed, 108 insertions(+), 7 deletions(-)

commit 6833975e9798511d31d07e2c064621a6f8cf0a4c
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 20 23:38:05 2018 +0100

    v1.0.5

 .../javascript/dist/unomi-tracker.min.js.map       |   1 +
 extensions/web-tracker/javascript/package.json     |   4 +-
 .../web-tracker/javascript/snippet.min.js.map      |   1 +
 .../archives/1.3/asciidoc/5-min-quickstart.adoc    |  38 ++++++
 .../asciidoc/connectors/mailchimp-connector.adoc   | 100 +++++++++++++++
 .../archives/1.3/asciidoc/installing-tracker.adoc  |  44 +++++++
 manual/src/archives/1.3/asciidoc/patches.adoc      | 102 +++++++++++++++
 .../src/archives/1.3/asciidoc/shell-commands.adoc  | 138 +++++++++++++++++++++
 8 files changed, 426 insertions(+), 2 deletions(-)

commit 45ed86e1b2935fd07f95a4045e4e8e80d5438e7d
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 15 19:55:52 2018 +0100

    UNOMI-208 Improve documentation
    - Clarify salesforce setup procedure
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../asciidoc/connectors/salesforce-connector.adoc  | 24 ++++++++++++++++++++--
 1 file changed, 22 insertions(+), 2 deletions(-)

commit cb730a228c6b8ac51c98875d5a432fcf68f1b798
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 15 18:27:52 2018 +0100

    UNOMI-208 Improve documentation
    - Add properties mapping to Salesforce connector documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../asciidoc/connectors/salesforce-connector.adoc  | 23 +++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 3b808eed14863c1e1f0c5fd751d19349717722af
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 15 13:19:18 2018 +0100

    UNOMI-208 Improve documentation
    - Backport doc improvements to 1.3.x documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../1.3/asciidoc/building-and-deploying.adoc       |  39 +++-----
 .../src/archives/1.3/asciidoc/configuration.adoc   |  14 ++-
 .../1.3/asciidoc/connectors/connectors.adoc        |   7 +-
 .../asciidoc/connectors/salesforce-connector.adoc  | 110 ++++++++-------------
 .../archives/1.3/asciidoc/custom-extensions.adoc   |   4 +-
 .../src/archives/1.3/asciidoc/getting-started.adoc |  11 +--
 manual/src/archives/1.3/asciidoc/index.adoc        |  29 +++---
 .../1.3/asciidoc/samples/login-sample.adoc         |  12 +--
 .../src/archives/1.3/asciidoc/samples/samples.adoc |   4 +-
 .../1.3/asciidoc/samples/twitter-sample.adoc       |   2 +-
 .../asciidoc/samples/weather-update-sample.adoc    |   2 +-
 11 files changed, 94 insertions(+), 140 deletions(-)

commit 3ade4d26a610e052e9e20261d1e6e0611bb5cb35
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 15 13:01:23 2018 +0100

    UNOMI-208 Improve documentation
    - Fix cross-references
    - Fix numbering in certain sections
    - Add documentation on port number change
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/pom.xml                                     |  56 ++++++-----
 .../src/main/asciidoc/building-and-deploying.adoc  |  22 ++---
 manual/src/main/asciidoc/configuration.adoc        |  10 ++
 .../src/main/asciidoc/connectors/connectors.adoc   |   7 +-
 .../asciidoc/connectors/mailchimp-connector.adoc   |   2 +-
 .../asciidoc/connectors/salesforce-connector.adoc  | 110 ++++++++-------------
 manual/src/main/asciidoc/custom-extensions.adoc    |   4 +-
 manual/src/main/asciidoc/getting-started.adoc      |   6 +-
 manual/src/main/asciidoc/samples/login-sample.adoc |   2 +-
 manual/src/main/asciidoc/samples/samples.adoc      |   4 +-
 .../src/main/asciidoc/samples/twitter-sample.adoc  |   2 +-
 .../asciidoc/samples/weather-update-sample.adoc    |   2 +-
 12 files changed, 106 insertions(+), 121 deletions(-)

commit 23b556fe13a9a86a4189d87713f25efca8e88045
Author: Kevan <kevan.jahanshahi@gmail.com>
Date:   Tue Nov 13 11:38:41 2018 +0100

    UNOMI-209: set dependency on itests for package only when integration-tests profile is used
    cleanup hardcoded self dependency version on project version by using maven ${project.version}

 buildAndRunNoTests.sh                             |  2 +-
 extensions/geonames/rest/pom.xml                  |  6 ++--
 extensions/geonames/services/pom.xml              |  5 ++-
 extensions/lists-extension/actions/pom.xml        |  5 ++-
 extensions/lists-extension/pom.xml                |  1 -
 extensions/lists-extension/rest/pom.xml           |  6 ++--
 extensions/lists-extension/services/pom.xml       |  6 ++--
 extensions/privacy-extension/pom.xml              |  2 +-
 extensions/privacy-extension/rest/pom.xml         |  6 ++--
 extensions/privacy-extension/services/pom.xml     |  4 +--
 extensions/salesforce-connector/actions/pom.xml   |  4 +--
 extensions/salesforce-connector/karaf-kar/pom.xml |  8 ++---
 extensions/salesforce-connector/rest/pom.xml      |  6 ++--
 extensions/salesforce-connector/services/pom.xml  |  4 +--
 extensions/weather-update/karaf-kar/pom.xml       |  2 +-
 extensions/web-tracker/karaf-kar/pom.xml          |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 metrics/pom.xml                                   |  4 +--
 package/pom.xml                                   | 26 +++++++++-------
 persistence-elasticsearch/core/pom.xml            |  6 ++--
 persistence-spi/pom.xml                           |  2 +-
 plugins/baseplugin/pom.xml                        |  4 +--
 plugins/hover-event/pom.xml                       |  2 +-
 plugins/mail/pom.xml                              |  2 +-
 plugins/past-event/pom.xml                        |  4 +--
 plugins/pom.xml                                   |  2 +-
 plugins/tracked-event/pom.xml                     |  4 +--
 rest/pom.xml                                      |  4 +--
 samples/login-integration/pom.xml                 |  2 +-
 samples/tweet-button-plugin/pom.xml               |  2 +-
 services/pom.xml                                  |  6 ++--
 tools/shell-dev-commands/pom.xml                  |  6 ++--
 wab/pom.xml                                       |  4 +--
 33 files changed, 93 insertions(+), 94 deletions(-)

commit a1eeab38359fa9e0395fa151d7c293c485732c21
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Nov 5 19:04:25 2018 +0100

    UNOMI-208 add missing link to mailchimp documentation and fix salesforce link

 manual/src/main/asciidoc/connectors/connectors.adoc | 6 ++++--
 manual/src/main/asciidoc/index.adoc                 | 2 ++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 781cab94867e7d60047914c810259630fc1c85c7
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Nov 5 18:30:22 2018 +0100

    UNOMI-208 convert mailchimp connector documentation to adoc

 extensions/unomi-mailchimp/README.md               | 103 ---------------------
 .../asciidoc/connectors/mailchimp-connector.adoc   | 100 ++++++++++++++++++++
 2 files changed, 100 insertions(+), 103 deletions(-)

commit 67657bdb11d3381f1cea81565ee41bf8f5a248f8
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 5 18:23:09 2018 +0100

    UNOMI-208 Improve documentation
    - Add documentation for SSH Shell commands.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/index.adoc          |   2 +
 manual/src/main/asciidoc/shell-commands.adoc | 138 +++++++++++++++++++++++++++
 2 files changed, 140 insertions(+)

commit f502839ba295c6b80254def597ed9e55ecaa7e89
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 5 15:13:56 2018 +0100

    UNOMI-208 Improve documentation flow
    - Add generation of manual archives
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 generate-site-and-upload.sh |  8 +++++++-
 generate-site.sh            |  8 +++++++-
 manual/pom.xml              | 17 ++++++++++++-----
 3 files changed, 26 insertions(+), 7 deletions(-)

commit cfe3158e7bb0fecd38e980e7d99e401f3c345ec8
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 2 16:44:10 2018 +0100

    UNOMI-208 Improve documentation flow & document tracker integration
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/5-min-quickstart.adoc     |  38 ++++++++
 .../src/main/asciidoc/building-and-deploying.adoc  |  40 +-------
 manual/src/main/asciidoc/configuration.adoc        |   4 -
 manual/src/main/asciidoc/custom-extensions.adoc    |  89 ------------------
 manual/src/main/asciidoc/getting-started.adoc      |   7 +-
 manual/src/main/asciidoc/index.adoc                |  30 +++---
 manual/src/main/asciidoc/installing-tracker.adoc   |  44 +++++++++
 manual/src/main/asciidoc/patches.adoc              | 102 +++++++++++++++++++++
 manual/src/main/asciidoc/samples/login-sample.adoc |  10 --
 9 files changed, 208 insertions(+), 156 deletions(-)

commit 5e4cd3730c58f880c8ab6efebcebad1ef1474f88
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Nov 2 15:49:01 2018 +0100

    UNOMI-187 improve readme

 extensions/web-tracker/README.md | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 50858d361bd83b8762eef86c2f0e3c0275d463f7
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Oct 31 18:23:00 2018 +0100

    UNOMI-207 fix properties mapping issue when merging mappings from different index

 .../ElasticSearchPersistenceServiceImpl.java       | 55 +++++++++++++++-------
 1 file changed, 39 insertions(+), 16 deletions(-)

commit 19532afd8344fd554d353b2e878d54b5795cbe4d
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Oct 30 17:47:37 2018 +0100

    UNOMI-187 fix referrer

 .../web-tracker/javascript/dist/unomi-tracker.js   |  46 ++-
 .../javascript/dist/unomi-tracker.min.js           |   6 +-
 extensions/web-tracker/javascript/package.json     |   2 +-
 .../src/analytics.js-integration-apache-unomi.js   |  46 ++-
 extensions/web-tracker/javascript/yarn.lock        | 384 +++++++++++++++++++++
 5 files changed, 476 insertions(+), 8 deletions(-)

commit 3912e5c21e1d78f532d11e8a2cf30e1ff909b8fa
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Oct 25 18:58:11 2018 +0200

    UNOMI-204 fix typo

 api/src/main/java/org/apache/unomi/api/services/SegmentService.java | 1 -
 1 file changed, 1 deletion(-)

commit 291636af49f81b21cf4bb6ddb13d532a33a28676
Author: Serge Huber <shuber@apache.org>
Date:   Mon Oct 22 20:43:26 2018 +0200

    UNOMI-206 Add endpoint to query events
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../apache/unomi/rest/EventServiceEndpoint.java    | 62 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 16 ++++++
 .../unomi/services/services/EventServiceImpl.java  |  1 +
 3 files changed, 79 insertions(+)

commit 300f1979b2bb4012d20f51ac39c425314ef08c77
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 22 16:32:54 2018 +0200

    UNOMI-202 fix scheduler for geonames service

 .../org/apache/unomi/geonames/services/GeonamesServiceImpl.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6d6c024ff09b72d75b18c55371d824d7322f66b3
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 17:14:26 2018 +0200

    UNOMI-205 remove files

 src/site/markdown/archive.md                       |  61 ---
 src/site/markdown/download.md                      |  50 ---
 src/site/markdown/index.md                         | 127 ------
 src/site/markdown/license.md                       |  30 --
 src/site/markdown/main.md                          |  55 ---
 src/site/markdown/maturity-model-report.md         | 221 -----------
 src/site/markdown/migrating-elasticsearch.md       |  50 ---
 src/site/markdown/privacy-policy.md                |  41 --
 src/site/markdown/usecases.md                      |  85 -----
 .../versions/1.1/building-and-deploying.md         | 189 ---------
 src/site/markdown/versions/1.1/clustering.md       |  83 ----
 src/site/markdown/versions/1.1/concepts.md         | 209 ----------
 src/site/markdown/versions/1.1/configuration.md    | 273 -------------
 src/site/markdown/versions/1.1/getting-started.md  | 425 ---------------------
 .../versions/1.2/building-and-deploying.md         | 225 -----------
 src/site/markdown/versions/1.2/clustering.md       |  66 ----
 src/site/markdown/versions/1.2/concepts.md         | 209 ----------
 src/site/markdown/versions/1.2/configuration.md    | 310 ---------------
 src/site/markdown/versions/1.2/connectors.md       |  26 --
 .../markdown/versions/1.2/custom-extensions.md     | 369 ------------------
 src/site/markdown/versions/1.2/getting-started.md  | 107 ------
 src/site/markdown/versions/1.2/login-sample.md     |  56 ---
 .../markdown/versions/1.2/salesforce-connector.md  | 165 --------
 src/site/markdown/versions/1.2/samples.md          |  23 --
 src/site/markdown/versions/1.2/twitter-sample.md   | 403 -------------------
 .../markdown/versions/1.2/weather-update-sample.md |  19 -
 .../versions/master/building-and-deploying.md      | 229 -----------
 src/site/markdown/versions/master/clustering.md    |  66 ----
 src/site/markdown/versions/master/concepts.md      | 208 ----------
 src/site/markdown/versions/master/configuration.md | 350 -----------------
 src/site/markdown/versions/master/connectors.md    |  26 --
 src/site/markdown/versions/master/consent-api.md   | 135 -------
 .../markdown/versions/master/custom-extensions.md  | 376 ------------------
 .../markdown/versions/master/getting-started.md    | 107 ------
 src/site/markdown/versions/master/login-sample.md  |  56 ---
 .../versions/master/salesforce-connector.md        | 156 --------
 src/site/markdown/versions/master/samples.md       |  23 --
 .../markdown/versions/master/twitter-sample.md     | 403 -------------------
 .../versions/master/weather-update-sample.md       |  19 -
 src/site/resources/images/apache-unomi-380x85.png  | Bin 28161 -> 0 bytes
 src/site/resources/images/apache-unomi-571x128.png | Bin 34486 -> 0 bytes
 src/site/resources/images/apache-unomi-large.png   | Bin 60570 -> 0 bytes
 src/site/resources/images/incubator-logo.png       | Bin 8923 -> 0 bytes
 src/site/resources/images/unomi-100x99.png         | Bin 18543 -> 0 bytes
 src/site/resources/images/unomi-200x56.png         | Bin 20393 -> 0 bytes
 src/site/resources/images/unomi-86x20.png          | Bin 17610 -> 0 bytes
 src/site/resources/images/unomi-features.png       | Bin 145199 -> 0 bytes
 src/site/resources/images/unomi-icon.png           | Bin 33427 -> 0 bytes
 src/site/resources/images/unomi-input-output.png   | Bin 87222 -> 0 bytes
 .../images/unomi-logical-architecture-diagram.png  | Bin 41571 -> 0 bytes
 src/site/resources/images/unomi-request.png        | Bin 132731 -> 0 bytes
 src/site/resources/images/unomi.png                | Bin 57947 -> 0 bytes
 src/site/resources/images/unomi.xcf                | Bin 177483 -> 0 bytes
 src/site/site.xml                                  | 146 -------
 54 files changed, 6177 deletions(-)

commit 5ed92f9cc03230a4c32f1c15c7ad2bb765bdebcb
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 17:05:52 2018 +0200

    UNOMI-202 add test with patch on ConditionType and ActionType

 .../test/java/org/apache/unomi/itests/PatchIT.java | 45 ++++++++++++++++++++++
 itests/src/test/resources/patch4.json              | 19 +++++++++
 itests/src/test/resources/patch5.json              | 17 ++++++++
 3 files changed, 81 insertions(+)

commit d5c560f39518563c72c83ac34a1e517497dc18a4
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 15:52:54 2018 +0200

    UNOMI-202 make sure integration test don't interfere between each other

 .../test/java/org/apache/unomi/itests/PatchIT.java | 23 ++++++++++------------
 itests/src/test/resources/patch1.json              |  4 ++--
 itests/src/test/resources/patch3.json              |  2 +-
 3 files changed, 13 insertions(+), 16 deletions(-)

commit dede058d6eee431f940e7008c31a389c30cac084
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 15:52:04 2018 +0200

    UNOMI-202 fix issue with scheduler, add missing parameters to setup the scheduler

 .../unomi/geonames/services/GeonamesServiceImpl.java      | 13 +++++++++----
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml   |  5 +++--
 .../src/main/resources/org.apache.unomi.geonames.cfg      |  5 ++++-
 .../unomi/services/services/ClusterServiceImpl.java       |  2 +-
 .../apache/unomi/services/services/RulesServiceImpl.java  | 15 +++++++++++++--
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml   |  4 ++++
 services/src/main/resources/org.apache.unomi.services.cfg |  6 ++++++
 7 files changed, 40 insertions(+), 10 deletions(-)

commit 9b29b848e69d26f5d58686b38c66f0a1af38b10f
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 12:22:05 2018 +0200

    UNOMI-202 fix IT test

 itests/src/test/java/org/apache/unomi/itests/PatchIT.java | 4 ++--
 itests/src/test/resources/patch3.json                     | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 07082161c9f3f85976a6a5bde7038e1d7695e3a0
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 12:09:10 2018 +0200

    UNOMI-202 update javadoc

 api/src/main/java/org/apache/unomi/api/services/SchedulerService.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 3bb183f75bca928a7db7c18aafd2e4ef3089e4ac
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 19 12:02:39 2018 +0200

    UNOMI-202 add javadoc

 .../java/org/apache/unomi/api/services/SchedulerService.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 12f0cabcb12979fb9c1a8fe5e879bab3a6b0b02d
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Oct 18 20:01:10 2018 +0200

    UNOMI-202 add sort to patches to execute patch in filename order

 .../apache/unomi/services/services/PatchServiceImpl.java    | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 04dd4fde8691a6921dee82325e9321a5406adaca
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Oct 18 19:35:03 2018 +0200

    UNOMI-202 make sure condition types and action types maps are reloaded, replace Timer by ScheduledThreadExecutor to improve Task handling

 .../org/apache/unomi/api/conditions/Condition.java |  1 +
 .../unomi/api/services/SchedulerService.java       | 27 ++++++++++
 .../geonames/services/GeonamesServiceImpl.java     | 22 +++++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +--
 .../services/services/ClusterServiceImpl.java      | 11 ++--
 .../services/services/DefinitionsServiceImpl.java  | 50 ++++++++++++++++++
 .../services/services/ProfileServiceImpl.java      | 45 +++++-----------
 .../unomi/services/services/RulesServiceImpl.java  | 30 ++++-------
 .../services/services/SchedulerServiceImpl.java    | 48 +++++++++++++++++
 .../services/services/SegmentServiceImpl.java      | 61 ++++++++++------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 22 +++++++-
 .../main/resources/org.apache.unomi.services.cfg   | 12 +++++
 12 files changed, 235 insertions(+), 100 deletions(-)

commit aa82e46a0600908f0c5bf0a7e0081aac07aa0fdc
Merge: 55bd603c 183ffcf1
Author: tdraier <draier@apache.org>
Date:   Thu Oct 18 14:23:32 2018 +0200

    Merge branch 'UNOMI-204'

commit 55bd603caee57f0a70f8f910c05fa042d4c3aa88
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Oct 17 18:50:23 2018 +0200

    UNOMI-202 add missing serial version UUID

 api/src/main/java/org/apache/unomi/api/Patch.java | 1 +
 1 file changed, 1 insertion(+)

commit 3228d84769fdb4282de713e4de85646a83f1018e
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Oct 17 13:27:33 2018 +0200

    UNOMI-202 code review: improve documentation

 manual/src/main/asciidoc/custom-extensions.adoc | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 83ff7ad6cd0aade7b76927ff113d36fa7eed9762
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Oct 17 13:26:46 2018 +0200

    UNOMI-202 code review: clear unused reference to PatchService

 .../unomi/services/services/DefinitionsServiceImpl.java   |  8 --------
 .../apache/unomi/services/services/GoalsServiceImpl.java  |  7 -------
 .../unomi/services/services/ProfileServiceImpl.java       | 15 ---------------
 .../apache/unomi/services/services/RulesServiceImpl.java  |  6 ------
 .../unomi/services/services/SegmentServiceImpl.java       |  7 -------
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml   |  6 ------
 6 files changed, 49 deletions(-)

commit 183ffcf1f49efce0244e38c100a963687ada1033
Author: tdraier <draier@apache.org>
Date:   Tue Oct 16 14:10:27 2018 +0200

    UNOMI-204 : added configurations parameters

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java |  6 +++---
 .../org.apache.unomi.persistence.elasticsearch.cfg         |  3 +++
 .../conditions/PastEventConditionESQueryBuilder.java       | 14 ++++++--------
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml    | 10 ++++++++++
 .../apache/unomi/services/services/SegmentServiceImpl.java |  8 ++++----
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml    |  8 ++++++++
 6 files changed, 34 insertions(+), 15 deletions(-)

commit 7aa45d625a7dc04f0422e13b2790aebfb46cf1fc
Author: tdraier <draier@apache.org>
Date:   Fri Oct 12 15:56:05 2018 +0200

    UNOMI-204 : removed logger

 .../plugins/baseplugin/conditions/PastEventConditionESQueryBuilder.java | 2 --
 1 file changed, 2 deletions(-)

commit ae31c533c2f63820bd275c32cf0af0f5c2e6817c
Author: tdraier <draier@apache.org>
Date:   Fri Oct 12 14:59:54 2018 +0200

    UNOMI-204 : More optimizations in past event count and segment calculation

 .../apache/unomi/api/services/SegmentService.java  |  12 ++-
 .../ElasticSearchPersistenceServiceImpl.java       |  12 ++-
 .../PastEventConditionESQueryBuilder.java          | 114 ++++++++++++++++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 .../services/services/SegmentServiceImpl.java      |  93 ++++++++++-------
 5 files changed, 164 insertions(+), 68 deletions(-)

commit bc549076dcebd76511ad0943071c895a9c05d06b
Author: tdraier <draier@apache.org>
Date:   Tue Oct 9 18:15:28 2018 +0200

    UNOMI-204 : Add count method in QueryBuilder, adds cardinality/count aggregates, first optimization for PastEventCondition

 .../ElasticSearchPersistenceServiceImpl.java       | 25 ++++++-
 .../conditions/ConditionESQueryBuilder.java        |  3 +
 .../ConditionESQueryBuilderDispatcher.java         | 32 +++++++++
 .../persistence/spi/aggregate/TermsAggregate.java  | 18 +++++
 .../PastEventConditionESQueryBuilder.java          | 77 +++++++++++++++++-----
 5 files changed, 137 insertions(+), 18 deletions(-)

commit 95d003084a3b960c676365cb60b47302755d09a3
Author: tdraier <draier@apache.org>
Date:   Thu Oct 11 15:06:12 2018 +0200

    UNOMI-202 : Added documentation

 manual/src/main/asciidoc/custom-extensions.adoc | 81 +++++++++++++++++++++++--
 1 file changed, 77 insertions(+), 4 deletions(-)

commit c7c3cad6e10567f2c7e0c4a247f3be19a6c6d72b
Author: tdraier <draier@apache.org>
Date:   Tue Oct 9 17:12:10 2018 +0200

    UNOMI-202 : Added javadoc and integration test

 api/src/main/java/org/apache/unomi/api/Patch.java  |  26 ++++-
 .../apache/unomi/api/services/PatchService.java    |  18 ++++
 .../test/java/org/apache/unomi/itests/AllITs.java  |   5 +-
 .../test/java/org/apache/unomi/itests/PatchIT.java | 113 +++++++++++++++++++++
 itests/src/test/resources/patch1.json              |  11 ++
 itests/src/test/resources/patch2.json              |  20 ++++
 itests/src/test/resources/patch3.json              |   6 ++
 7 files changed, 195 insertions(+), 4 deletions(-)

commit 32608bc47ecf1fb32057ec8406debb4cb27fb365
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 8 17:53:57 2018 +0200

    Revert "commit poc"
    
    This reverts commit 1403a9a44cc5a548a216bab98586f66d11cc8360.

 extensions/twilio/README.md                        | 43 ----------
 extensions/twilio/core/.gitignore                  |  3 -
 extensions/twilio/core/pom.xml                     | 81 -------------------
 .../unomi/twilio/actions/TwilioCallAction.java     | 91 ----------------------
 .../resources/META-INF/cxs/actions/twilioCall.json | 21 -----
 .../META-INF/cxs/rules/callVisitorTwilio.json      | 44 -----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 44 -----------
 .../src/main/resources/org.apache.unomi.twilio.cfg | 25 ------
 extensions/twilio/karaf-kar/pom.xml                | 79 -------------------
 .../twilio/karaf-kar/src/main/feature/feature.xml  | 28 -------
 extensions/twilio/pom.xml                          | 36 ---------
 .../web-tracker/wab/src/main/webapp/voice.xml      |  5 --
 12 files changed, 500 deletions(-)

commit efb8f68d83db4c88c2296dd5cf93a050e5738977
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 8 17:53:44 2018 +0200

    Revert "add missing files"
    
    This reverts commit 329af539e8c106d1f51f09e086c874339f90a1c9.

 extensions/pom.xml                                 |  1 -
 extensions/twilio/README.md                        | 26 +++++++---
 extensions/twilio/core/pom.xml                     | 56 +++++++---------------
 .../unomi/twilio/actions/TwilioCallAction.java     |  2 +-
 .../resources/META-INF/cxs/actions/twilioCall.json |  2 +-
 .../META-INF/cxs/rules/callVisitorTwilio.json      |  4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 19 ++++----
 extensions/twilio/karaf-kar/pom.xml                | 17 +++++--
 .../twilio/karaf-kar/src/main/feature/feature.xml  | 15 +++---
 extensions/twilio/pom.xml                          |  8 ++--
 .../src/analytics.js-integration-apache-unomi.js   |  4 +-
 .../web-tracker/wab/src/main/webapp/voice.xml      | 16 -------
 12 files changed, 79 insertions(+), 91 deletions(-)

commit 329af539e8c106d1f51f09e086c874339f90a1c9
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 8 17:52:37 2018 +0200

    add missing files

 extensions/pom.xml                                 |  1 +
 extensions/twilio/README.md                        | 26 +++-------
 extensions/twilio/core/pom.xml                     | 56 +++++++++++++++-------
 .../unomi/twilio/actions/TwilioCallAction.java     |  2 +-
 .../resources/META-INF/cxs/actions/twilioCall.json |  2 +-
 .../META-INF/cxs/rules/callVisitorTwilio.json      |  4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 19 ++++----
 extensions/twilio/karaf-kar/pom.xml                | 17 ++-----
 .../twilio/karaf-kar/src/main/feature/feature.xml  | 15 +++---
 extensions/twilio/pom.xml                          |  8 ++--
 .../src/analytics.js-integration-apache-unomi.js   |  4 +-
 .../web-tracker/wab/src/main/webapp/voice.xml      | 16 +++++++
 12 files changed, 91 insertions(+), 79 deletions(-)

commit 1403a9a44cc5a548a216bab98586f66d11cc8360
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 8 17:51:49 2018 +0200

    commit poc

 extensions/twilio/README.md                        | 43 ++++++++++
 extensions/twilio/core/.gitignore                  |  3 +
 extensions/twilio/core/pom.xml                     | 81 +++++++++++++++++++
 .../unomi/twilio/actions/TwilioCallAction.java     | 91 ++++++++++++++++++++++
 .../resources/META-INF/cxs/actions/twilioCall.json | 21 +++++
 .../META-INF/cxs/rules/callVisitorTwilio.json      | 44 +++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 44 +++++++++++
 .../src/main/resources/org.apache.unomi.twilio.cfg | 25 ++++++
 extensions/twilio/karaf-kar/pom.xml                | 79 +++++++++++++++++++
 .../twilio/karaf-kar/src/main/feature/feature.xml  | 28 +++++++
 extensions/twilio/pom.xml                          | 36 +++++++++
 .../web-tracker/wab/src/main/webapp/voice.xml      |  5 ++
 12 files changed, 500 insertions(+)

commit 2b838a6724e8275aef50e9557a011f9c9efa63f0
Merge: c973d30a cfa5f6ad
Author: tdraier <draier@apache.org>
Date:   Tue Oct 2 12:04:00 2018 +0200

    Merge branch 'patch'

commit c973d30aaa246b14f4671b974fb47eacabeb8b16
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 1 18:41:13 2018 +0200

    UNOMI-187 fix snippet in README.md

 extensions/web-tracker/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cfa5f6ad7a01addb43ab5c2bbe084fcd97de43fe
Author: tdraier <draier@apache.org>
Date:   Mon Oct 1 16:59:44 2018 +0200

    UNOMI-202 : Improved command

 .../shell/commands/DeployDefinitionCommand.java    | 51 ++++++++++++++--------
 1 file changed, 32 insertions(+), 19 deletions(-)

commit cea95548ea57a34cc26b859fef7770699f742d56
Author: tdraier <draier@apache.org>
Date:   Mon Oct 1 16:22:17 2018 +0200

    UNOMI-202 : Simplified and centralize patch files handling

 api/src/main/java/org/apache/unomi/api/Patch.java  | 10 +++
 .../apache/unomi/api/services/PatchService.java    |  6 +-
 .../apache/unomi/rest/PatchServiceEndPoint.java    |  8 +--
 .../services/services/DefinitionsServiceImpl.java  | 58 +++++++---------
 .../unomi/services/services/GoalsServiceImpl.java  | 64 ++++++++---------
 .../unomi/services/services/PatchServiceImpl.java  | 80 ++++++++++++++++------
 .../services/services/ProfileServiceImpl.java      | 69 ++++++++-----------
 .../unomi/services/services/RulesServiceImpl.java  | 29 ++++----
 .../services/services/SegmentServiceImpl.java      | 66 ++++++++----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 +-
 .../shell/commands/DeployDefinitionCommand.java    | 37 +++-------
 11 files changed, 206 insertions(+), 224 deletions(-)

commit a65f28f83b39d5d7707a4b4d5fe39d13287a1c8f
Author: tdraier <draier@apache.org>
Date:   Wed Sep 26 14:57:56 2018 +0200

    UNOMI-202 : Added patch service , command and rest endpoint

 api/src/main/java/org/apache/unomi/api/Patch.java  |  91 ++++++++++++++
 .../apache/unomi/api/services/PatchService.java    |  34 ++++++
 kar/src/main/feature/feature.xml                   |   5 +
 .../apache/unomi/rest/PatchServiceEndPoint.java    |  60 +++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  17 +++
 services/pom.xml                                   |   7 ++
 .../services/services/DefinitionsServiceImpl.java  |  66 ++++++----
 .../unomi/services/services/GoalsServiceImpl.java  |  73 +++++++----
 .../unomi/services/services/PatchServiceImpl.java  | 116 ++++++++++++++++++
 .../services/services/ProfileServiceImpl.java      |  95 ++++++++------
 .../unomi/services/services/RulesServiceImpl.java  |  48 ++++----
 .../services/services/SegmentServiceImpl.java      |  79 +++++++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  16 +++
 ...efinition.java => DeployDefinitionCommand.java} | 136 ++++++++++++++++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 15 files changed, 673 insertions(+), 174 deletions(-)

commit eb2cc83d25d064a9334e1826c6475cc227cd7e10
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 28 16:14:31 2018 +0200

    UNOMI-187 remove comment

 extensions/web-tracker/karaf-kar/src/main/feature/feature.xml | 2 --
 1 file changed, 2 deletions(-)

commit 4b8c599d705e922d2869c9e6df4490ebd1dd3db9
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Sep 26 14:14:26 2018 +0200

    fix version

 performance-tests/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 10e694ed851cfcb6a6e6f2861cdff0f2075552db
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Sep 26 14:12:51 2018 +0200

    UNOMI-187 rename feature entry

 kar/src/main/feature/feature.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b15e6cc66552979ba06aa2832fba0ca11affce92
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Sep 26 13:53:23 2018 +0200

    add my gpg key

 KEYS    | 59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 pom.xml | 10 +++++++++-
 2 files changed, 68 insertions(+), 1 deletion(-)

commit 3e32a969d842a582cd95bb4fd51d484b940015e5
Author: tdraier <draier@apache.org>
Date:   Tue Sep 25 15:46:13 2018 +0200

    UNOMI-201 : remove scripts inside context.js

 .../java/org/apache/unomi/web/ContextServlet.java  |   6 -
 wab/src/main/resources/javascript/base.js          | 174 ---------------------
 .../main/resources/javascript/impersonateBase.js   | 131 ----------------
 3 files changed, 311 deletions(-)

commit b7357f922dcb1d227b46f433e290abfa32a1de96
Author: tdraier <draier@apache.org>
Date:   Tue Sep 25 14:53:24 2018 +0200

    UNOMI-199 : Avoid endless loop

 .../src/test/java/org/apache/unomi/itests/BaseIT.java  | 17 +++++++++++++++++
 .../java/org/apache/unomi/itests/ProfileExportIT.java  | 14 ++++----------
 .../org/apache/unomi/itests/ProfileImportActorsIT.java |  6 +-----
 .../org/apache/unomi/itests/ProfileImportBasicIT.java  |  6 +-----
 .../apache/unomi/itests/ProfileImportRankingIT.java    |  6 +-----
 .../apache/unomi/itests/ProfileImportSurfersIT.java    | 18 +++---------------
 6 files changed, 27 insertions(+), 40 deletions(-)

commit b62a84c5f539ded740bdc191aff65db7e17ef5ce
Author: tdraier <draier@apache.org>
Date:   Mon Sep 24 14:32:09 2018 +0200

    UNOMI-187 : Update README

 extensions/web-tracker/README.md | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8b7ee5f9009d08cc4665b9339abd5b5a7c9a2d6e
Author: tdraier <draier@apache.org>
Date:   Mon Sep 24 14:23:54 2018 +0200

    UNOMI-187 : Small fixes on load timing, execute callback on dom ready event

 .../web-tracker/javascript/dist/unomi-tracker.js   | 12 +++----
 .../javascript/dist/unomi-tracker.min.js           |  2 +-
 extensions/web-tracker/javascript/snippet.js       | 38 ++++++++++++----------
 extensions/web-tracker/javascript/snippet.min.js   |  2 +-
 .../src/analytics.js-integration-apache-unomi.js   | 12 +++----
 .../web-tracker/wab/src/main/webapp/index.html     |  3 +-
 6 files changed, 34 insertions(+), 35 deletions(-)

commit 414bba2695c643deaf5bd36b39bdc31e86cc4d5c
Author: Serge Huber <shuber@apache.org>
Date:   Sat Sep 22 09:06:20 2018 +0200

    UNOMI-200 New Karaf shell commands for events, sessions and profiles
    Remove log message that is not relevant
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../src/main/java/org/apache/unomi/shell/commands/EventTailCommand.java  | 1 -
 1 file changed, 1 deletion(-)

commit de01dec86172c26edf5b39321ab2f97077e885f8
Author: Serge Huber <shuber@apache.org>
Date:   Sat Sep 22 09:05:51 2018 +0200

    Unomi Manual :
    - move quick start up in the documentation
    - typo fix
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 manual/src/main/asciidoc/index.adoc | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 723cc079be9f5e2a57cff5f7218139ec5d813d0e
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 21 19:53:58 2018 +0200

    UNOMI-199 add readme with some explanation, fix unstable test, remove dependencies between tests

 itests/README.md                                   |  50 +++++++++
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   3 -
 .../apache/unomi/itests/ConditionEvaluatorIT.java  |   5 +-
 .../org/apache/unomi/itests/ModifyConsentIT.java   |   7 +-
 .../org/apache/unomi/itests/ProfileExportIT.java   | 113 +++++++++++----------
 .../apache/unomi/itests/ProfileImportActorsIT.java |  16 ++-
 .../apache/unomi/itests/ProfileImportBasicIT.java  |  19 ++--
 .../unomi/itests/ProfileImportRankingIT.java       |  36 ++++---
 .../unomi/itests/ProfileImportSurfersIT.java       |  51 ++++++----
 .../org/apache/unomi/itests/ProfileServiceIT.java  |   6 +-
 .../unomi/itests/PropertiesUpdateActionIT.java     |   8 +-
 .../java/org/apache/unomi/itests/SegmentIT.java    |   4 +-
 itests/src/test/resources/2-surfers-test.csv       |  74 +++++++-------
 .../test/resources/3-surfers-overwrite-test.csv    |  74 +++++++-------
 .../src/test/resources/4-surfers-delete-test.csv   |  74 +++++++-------
 itests/src/test/resources/5-ranking-test.csv       |  52 +++++-----
 itests/src/test/resources/6-actors-test.csv        |  14 +--
 17 files changed, 338 insertions(+), 268 deletions(-)

commit 38ddefc48522977ddbbf93ccc08c9cea12362cad
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 21 16:49:16 2018 +0200

    UNOMI-199 fix integration test, increase reliability, add integration test to test multiple visitor login on same browser

 itests/pom.xml                                     |  11 +-
 .../test/java/org/apache/unomi/itests/AllITs.java  |   2 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |  19 +-
 .../test/java/org/apache/unomi/itests/BasicIT.java | 314 +++++++++++++++++++--
 .../org/apache/unomi/itests/ModifyConsentIT.java   |   4 +-
 .../apache/unomi/itests/ProfileImportActorsIT.java |   6 +-
 .../apache/unomi/itests/ProfileImportBasicIT.java  |  75 ++---
 .../unomi/itests/ProfileImportRankingIT.java       |   6 +-
 .../unomi/itests/ProfileImportSurfersIT.java       |   8 +-
 .../java/org/apache/unomi/itests/TestUtils.java    |   7 +-
 itests/src/test/resources/1-basic-test.csv         |   6 +-
 itests/src/test/resources/testLogin.json           |  34 +++
 .../test/resources/testLoginEventCondition.json    |  23 ++
 .../org/apache/unomi/lifecycle/BundleWatcher.java  |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   6 +
 15 files changed, 435 insertions(+), 88 deletions(-)

commit a171e3d8f6fee354285768e112b27c6c3ebd8d2a
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 21 16:45:16 2018 +0200

    UNOMI-199 fix issue when multiple visitor log on the same browser, improve logging, refactor code to avoid duplication

 .../ElasticSearchPersistenceServiceImpl.java       |  12 +-
 .../actions/MergeProfilesOnPropertyAction.java     |  91 +++-----
 .../main/java/org/apache/unomi/web/Changes.java    |  43 ++++
 .../java/org/apache/unomi/web/ContextServlet.java  | 229 ++++++++++-----------
 .../apache/unomi/web/EventsCollectorServlet.java   |  87 +++-----
 .../main/java/org/apache/unomi/web/HttpUtils.java  |   6 +
 .../java/org/apache/unomi/web/ServletCommon.java   | 100 +++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 8 files changed, 328 insertions(+), 242 deletions(-)

commit 11c847c0594b63d96c550ab57abbad32d3ca109f
Author: Serge Huber <shuber@apache.org>
Date:   Fri Sep 21 15:39:22 2018 +0200

    UNOMI-200 New Karaf shell commands for events, sessions and profiles
    Also in this commit, all existing commands have been prefixed using the unomi scope.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/shell/commands/ActionListCommand.java    |   2 +-
 .../unomi/shell/commands/ActionViewCommand.java    |   2 +-
 .../unomi/shell/commands/EventTailCommand.java     | 126 +++++++++++++++++++++
 .../unomi/shell/commands/EventViewCommand.java     |  63 +++++++++++
 .../unomi/shell/commands/ProfileListCommand.java   |  75 ++++++++++++
 .../unomi/shell/commands/ProfileViewCommand.java   |  49 ++++++++
 .../unomi/shell/commands/RuleListCommand.java      |   2 +-
 .../shell/commands/RuleResetStatsCommand.java      |   2 +-
 .../unomi/shell/commands/RuleViewcommand.java      |   2 +-
 .../unomi/shell/commands/SegmentListCommand.java   |   2 +-
 .../unomi/shell/commands/SegmentViewCommand.java   |   2 +-
 .../unomi/shell/commands/SessionListCommand.java   |  75 ++++++++++++
 .../unomi/shell/commands/SessionViewCommand.java   |  48 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  39 ++++++-
 14 files changed, 476 insertions(+), 13 deletions(-)

commit b4b0560b4385ce742d701f343ac075b940ab838e
Author: tdraier <draier@apache.org>
Date:   Fri Sep 21 12:05:31 2018 +0200

    UNOMI-189 : Added personalization callbacks

 .../web-tracker/javascript/dist/unomi-tracker.js   |    54 +-
 .../javascript/dist/unomi-tracker.min.js           |     2 +-
 extensions/web-tracker/javascript/package.json     |     3 +-
 extensions/web-tracker/javascript/snippet.js       |     4 +-
 extensions/web-tracker/javascript/snippet.min.js   |     2 +-
 .../src/analytics.js-integration-apache-unomi.js   |    47 +-
 extensions/web-tracker/javascript/yarn.lock        |  1105 +-
 extensions/web-tracker/wab/pom.xml                 |     8 +-
 .../web-tracker/wab/src/main/webapp/index.html     |    38 +-
 .../src/main/webapp/javascript/unomi-tracker.js    | 12453 -------------------
 .../main/webapp/javascript/unomi-tracker.min.js    |    28 -
 11 files changed, 124 insertions(+), 13620 deletions(-)

commit 030f87147b1b8bffb0cd6d1f675ae638ff85fdbb
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 20 21:21:13 2018 +0200

    Fix generation and uploading of manual, REST API Doc and JavaDoc
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 generate-site-and-upload.sh | 5 +++--
 generate-site.sh            | 5 +++--
 pom.xml                     | 7 +++++++
 3 files changed, 13 insertions(+), 4 deletions(-)

commit 60313f85841fafa0d8b95c3108cd821ca6a57786
Merge: f0b30901 9e685bd6
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 20 20:40:51 2018 +0200

    This closes pull request number #68

commit f0b30901950c5d1918849637913e0425672945c3
Merge: 552ebc79 667b57c3
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 20 20:40:14 2018 +0200

    This closes pull request number #67

commit 9e685bd686af19cc2b83a747a456ec4fe66c8d27
Author: Francois Papon <fpapon@apache.org>
Date:   Thu Sep 20 16:49:34 2018 +0400

    Update generation of documentation script

 generate-site-and-upload.sh | 23 +++++++++++++++++------
 generate-site.sh            | 16 +++++++++++++---
 manual/pom.xml              |  4 ++--
 rest/pom.xml                |  8 +-------
 4 files changed, 33 insertions(+), 18 deletions(-)

commit 552ebc797d931444b1331b48bff7c5d55810e481
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 17:21:17 2018 +0200

    UNOMI-189 : Use dist file

 extensions/web-tracker/javascript/package.json | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d9b483fe63521f12060473277d7b0051a5d57082
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 17:16:20 2018 +0200

    UNOMI-189 : Fixed dependencies

 extensions/web-tracker/javascript/dist/unomi-tracker.js           | 8 ++++----
 extensions/web-tracker/javascript/dist/unomi-tracker.min.js       | 2 +-
 extensions/web-tracker/javascript/package.json                    | 8 ++++----
 .../web-tracker/wab/src/main/webapp/javascript/unomi-tracker.js   | 8 ++++----
 .../wab/src/main/webapp/javascript/unomi-tracker.min.js           | 2 +-
 5 files changed, 14 insertions(+), 14 deletions(-)

commit 053475715adaf80bef68fac79f4a6fad88a43e31
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 17:10:16 2018 +0200

    UNOMI-189 : Fixed for webpack usage

 .../web-tracker/javascript/dist/unomi-tracker.js   |  14 +-
 .../javascript/dist/unomi-tracker.min.js           |   4 +-
 extensions/web-tracker/javascript/package.json     |   8 +-
 extensions/web-tracker/javascript/src/index.js     |   6 -
 extensions/web-tracker/javascript/yarn.lock        | 271 ++++++++++++++++++++-
 .../src/main/webapp/javascript/unomi-tracker.js    |  14 +-
 .../main/webapp/javascript/unomi-tracker.min.js    |   4 +-
 7 files changed, 286 insertions(+), 35 deletions(-)

commit 83aa4115549c9d418e270af01f1ef74fe66a513d
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 15:17:38 2018 +0200

    UNOMI-189 : JS package, readme, minifications and license

 .gitignore                                         |   2 +-
 extensions/web-tracker/README.md                   |  87 ++-------
 extensions/web-tracker/javascript/LICENSE          | 201 +++++++++++++++++++++
 extensions/web-tracker/javascript/README.md        |  52 ++++++
 .../{wab => }/javascript/dist/unomi-tracker.js     |  44 ++++-
 .../{wab => }/javascript/dist/unomi-tracker.min.js |  30 ++-
 .../web-tracker/{wab => }/javascript/package.json  |  15 +-
 .../web-tracker/{wab => }/javascript/snippet.js    |   2 +-
 extensions/web-tracker/javascript/snippet.min.js   |   1 +
 .../src/analytics.js-integration-apache-unomi.js   |  10 +-
 .../web-tracker/{wab => }/javascript/src/index.js  |   0
 .../{wab => }/javascript/src/integrations.js       |   0
 extensions/web-tracker/javascript/src/license.js   |  18 ++
 .../web-tracker/{wab => }/javascript/yarn.lock     |   8 +-
 .../web-tracker/wab/javascript/snippet.min.js      |   1 -
 .../web-tracker/wab/src/main/webapp/index.html     |   2 +-
 .../src/main/webapp/javascript/unomi-tracker.js    |  46 ++++-
 .../main/webapp/javascript/unomi-tracker.min.js    |  30 ++-
 18 files changed, 434 insertions(+), 115 deletions(-)

commit e13e8a1021cbb09f881ccaecdffd23b7d4b380cf
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 12:11:13 2018 +0200

    UNOMI-189 : Reorganized file, add minification and js packaging

 .../wab/javascript/dist/unomi-tracker.js           | 12431 +++++++++++++++++++
 .../wab/javascript/dist/unomi-tracker.min.js       |     4 +
 extensions/web-tracker/wab/javascript/package.json |    30 +
 extensions/web-tracker/wab/javascript/snippet.js   |    84 +
 .../web-tracker/wab/javascript/snippet.min.js      |     1 +
 .../src}/analytics.js-integration-apache-unomi.js  |     0
 .../main/javascript => javascript/src}/index.js    |     2 +-
 .../javascript => javascript/src}/integrations.js  |     0
 .../web-tracker/wab/{ => javascript}/yarn.lock     |  1135 +-
 extensions/web-tracker/wab/package.json            |    25 -
 .../web-tracker/wab/src/main/webapp/index.html     |    82 +-
 .../src/main/webapp/javascript/unomi-tracker.js    |  8946 ++++++-------
 .../main/webapp/javascript/unomi-tracker.min.js    |     4 +
 13 files changed, 17802 insertions(+), 4942 deletions(-)

commit 93576d14f094281036e3d293a654bdb30ac5dcf0
Author: tdraier <draier@apache.org>
Date:   Thu Sep 20 11:01:48 2018 +0200

    UNOMI-189 : Fixed onpage handler

 .../wab/src/main/javascript/analytics.js-integration-apache-unomi.js  | 4 ++--
 extensions/web-tracker/wab/src/main/webapp/index.html                 | 4 +---
 .../web-tracker/wab/src/main/webapp/javascript/unomi-tracker.js       | 4 ++--
 3 files changed, 5 insertions(+), 7 deletions(-)

commit 7c237256818f71817207879cd6de1f123a6cd791
Author: tdraier <draier@apache.org>
Date:   Wed Sep 19 19:05:32 2018 +0200

    UNOMI-189 : Added session identification ,send page view event

 .../analytics.js-integration-apache-unomi.js       | 130 ++-
 .../web-tracker/wab/src/main/webapp/index.html     | 109 +++
 .../src/main/webapp/javascript/unomi-tracker.js    | 962 +++++++++++----------
 3 files changed, 691 insertions(+), 510 deletions(-)

commit b32fce9e9a5d2246f927fa427343a54f85c64f0f
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Sep 19 11:30:00 2018 +0200

    UNOMI-187 created unomi plugin for analytics.js, cleanup files, renamed web-tracker-core to web-tracker-wab, renamed analytics.js file to unomi-tracker.js and global variable analytics to unomiTracker so we can use the tracket event there is a version of analytics js on the site

 extensions/web-tracker/README.md                   |    81 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |    22 -
 .../core/src/main/resources/messages_en.properties |    16 -
 extensions/web-tracker/karaf-kar/pom.xml           |     2 +-
 .../karaf-kar/src/main/feature/feature.xml         |     2 +-
 extensions/web-tracker/pom.xml                     |     2 +-
 extensions/web-tracker/wab/.gitignore              |     3 +
 extensions/web-tracker/wab/package.json            |    25 +
 extensions/web-tracker/{core => wab}/pom.xml       |     6 +-
 .../analytics.js-integration-apache-unomi.js       |   447 +
 .../web-tracker/wab/src/main/javascript/index.js   |    50 +
 .../wab/src/main/javascript/integrations.js        |    22 +
 .../src/main/webapp/javascript/unomi-tracker.js    | 13069 +++++++++++++++++++
 extensions/web-tracker/wab/yarn.lock               |  2072 +++
 kar/pom.xml                                        |     2 +-
 pom.xml                                            |     4 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |     2 +-
 17 files changed, 15782 insertions(+), 45 deletions(-)

commit 667b57c35894cecd6e0a63013055457282ffc692
Author: Francois Papon <fpapon@apache.org>
Date:   Thu Sep 13 21:54:06 2018 +0400

    Archives manual 1.3

 manual/src/archives/1.3/asciidoc/apache.css        | 2448 ++++++++++++++++++++
 .../1.3/asciidoc/building-and-deploying.adoc       |  276 +++
 manual/src/archives/1.3/asciidoc/clustering.adoc   |   83 +
 manual/src/archives/1.3/asciidoc/concepts.adoc     |  125 +
 .../src/archives/1.3/asciidoc/configuration.adoc   |  397 ++++
 .../1.3/asciidoc/connectors/connectors.adoc        |   22 +
 .../asciidoc/connectors/salesforce-connector.adoc  |  224 ++
 manual/src/archives/1.3/asciidoc/consent-api.adoc  |  139 ++
 .../archives/1.3/asciidoc/custom-extensions.adoc   |  419 ++++
 .../archives/1.3/asciidoc/extending-plugins.adoc   |  113 +
 .../src/archives/1.3/asciidoc/getting-started.adoc |  121 +
 .../archives/1.3/asciidoc/images/asf_logo_url.png  |  Bin 0 -> 21121 bytes
 .../1.3/asciidoc/images/incubator-logo.png         |  Bin 0 -> 8923 bytes
 .../archives/1.3/asciidoc/images/unomi-request.png |  Bin 0 -> 132731 bytes
 manual/src/archives/1.3/asciidoc/index.adoc        |   69 +
 .../1.3/asciidoc/samples/login-sample.adoc         |   73 +
 .../src/archives/1.3/asciidoc/samples/samples.adoc |   19 +
 .../1.3/asciidoc/samples/twitter-sample.adoc       |  432 ++++
 .../asciidoc/samples/weather-update-sample.adoc    |   14 +
 19 files changed, 4974 insertions(+)

commit 191fbbaab82a9fb4348e70f6a468c254e45b1e5c
Author: tdraier <draier@apache.org>
Date:   Tue Sep 11 11:22:05 2018 +0200

    UNOMI-198 : Added check for recursion

 .../org/apache/unomi/services/services/EventServiceImpl.java | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 10a106f9ed7f9df8882e6dcc4254b1c7cab53d83
Author: tdraier <draier@apache.org>
Date:   Tue Sep 11 10:33:10 2018 +0200

    UNOMI-197 : check enabled status for segment

 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fc2eefc2e609ca9b44f0cf31ab8826951ae903be
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Sep 10 17:38:07 2018 +0200

    UNOMI-187 create bundle to implement web tracker

 extensions/pom.xml                                 |  1 +
 extensions/web-tracker/README.md                   | 24 +++++++
 extensions/web-tracker/core/pom.xml                | 73 ++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 22 ++++++
 .../core/src/main/resources/messages_en.properties | 16 +++++
 extensions/web-tracker/karaf-kar/pom.xml           | 79 ++++++++++++++++++++++
 .../karaf-kar/src/main/feature/feature.xml         | 28 ++++++++
 extensions/web-tracker/pom.xml                     | 36 ++++++++++
 kar/pom.xml                                        |  5 ++
 kar/src/main/feature/feature.xml                   |  1 +
 package/pom.xml                                    | 10 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 12 files changed, 296 insertions(+)

commit 8a9559ce60f178d88c3df9adf06f5902884aad9c
Merge: 1d5725a1 b077d27b
Author: Serge Huber <shuber@apache.org>
Date:   Mon Sep 10 11:30:03 2018 +0200

    This closes pull request number #66

commit b077d27bb86335e81c9b7b07c28adeea840c031b
Author: Francois Papon <fpapon@apache.org>
Date:   Wed Sep 5 17:50:56 2018 +0400

    Add archives versions of documentation in asciidoc

 manual/src/archives/1.1/asciidoc/apache.css        | 2448 ++++++++++++++++++++
 .../1.1/asciidoc/building-and-deploying.adoc       |  225 ++
 manual/src/archives/1.1/asciidoc/clustering.adoc   |  103 +
 manual/src/archives/1.1/asciidoc/concepts.adoc     |  234 ++
 .../src/archives/1.1/asciidoc/configuration.adoc   |  296 +++
 .../src/archives/1.1/asciidoc/getting-started.adoc |  461 ++++
 .../archives/1.1/asciidoc/images/asf_logo_url.png  |  Bin 0 -> 21121 bytes
 .../1.1/asciidoc/images/incubator-logo.png         |  Bin 0 -> 8923 bytes
 .../archives/1.1/asciidoc/images/unomi-request.png |  Bin 0 -> 132731 bytes
 manual/src/archives/1.1/asciidoc/index.adoc        |   55 +
 manual/src/archives/1.2/asciidoc/apache.css        | 2448 ++++++++++++++++++++
 .../1.2/asciidoc/building-and-deploying.adoc       |  268 +++
 manual/src/archives/1.2/asciidoc/clustering.adoc   |   84 +
 manual/src/archives/1.2/asciidoc/concepts.adoc     |  234 ++
 .../src/archives/1.2/asciidoc/configuration.adoc   |  345 +++
 .../1.2/asciidoc/connectors/connectors.adoc        |   23 +
 .../asciidoc/connectors/salesforce-connector.adoc  |  234 ++
 .../archives/1.2/asciidoc/custom-extensions.adoc   |  413 ++++
 .../src/archives/1.2/asciidoc/getting-started.adoc |  122 +
 .../archives/1.2/asciidoc/images/asf_logo_url.png  |  Bin 0 -> 21121 bytes
 .../1.2/asciidoc/images/incubator-logo.png         |  Bin 0 -> 8923 bytes
 .../archives/1.2/asciidoc/images/unomi-request.png |  Bin 0 -> 132731 bytes
 manual/src/archives/1.2/asciidoc/index.adoc        |   75 +
 .../1.2/asciidoc/samples/login-sample.adoc         |   74 +
 .../src/archives/1.2/asciidoc/samples/samples.adoc |   20 +
 .../1.2/asciidoc/samples/twitter-sample.adoc       |  433 ++++
 .../asciidoc/samples/weather-update-sample.adoc    |   15 +
 manual/src/main/asciidoc/apache.css                |   10 +-
 manual/src/theme/apache-theme.yml                  |   27 +-
 manual/src/theme/fonts/SourceSansPro-Black.ttf     |  Bin 288824 -> 0 bytes
 .../src/theme/fonts/SourceSansPro-BlackItalic.ttf  |  Bin 102944 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro-Bold.ttf      |  Bin 290916 -> 0 bytes
 .../src/theme/fonts/SourceSansPro-BoldItalic.ttf   |  Bin 103200 -> 0 bytes
 .../src/theme/fonts/SourceSansPro-ExtraLight.ttf   |  Bin 291112 -> 0 bytes
 .../theme/fonts/SourceSansPro-ExtraLightItalic.ttf |  Bin 104304 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro-Italic.ttf    |  Bin 103828 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro-Light.ttf     |  Bin 292680 -> 0 bytes
 .../src/theme/fonts/SourceSansPro-LightItalic.ttf  |  Bin 104156 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro-Regular.ttf   |  Bin 293516 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro-SemiBold.ttf  |  Bin 291864 -> 0 bytes
 .../theme/fonts/SourceSansPro-SemiBoldItalic.ttf   |  Bin 103556 -> 0 bytes
 manual/src/theme/fonts/SourceSansPro_OFL.txt       |   93 -
 42 files changed, 8635 insertions(+), 105 deletions(-)

commit 1d5725a121d4f0b09b09cbaee1121e5ff14f4b42
Author: Serge Huber <shuber@apache.org>
Date:   Fri Sep 7 09:08:23 2018 +0200

    Add a validation check on the procedure to merge pull requests.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 MERGING-PULL-REQUESTS | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 837c4628b40ecf244198a96de3542ce79401721c
Author: Francois Papon <fpapon@yupiik.com>
Date:   Thu Aug 30 22:58:59 2018 +0400

    Create new manual module and add master documentation in asciidoc format

 manual/pom.xml                                     |  125 +
 manual/src/main/asciidoc/apache.css                | 2448 ++++++++++++++++++++
 .../src/main/asciidoc/building-and-deploying.adoc  |  276 +++
 manual/src/main/asciidoc/clustering.adoc           |   83 +
 manual/src/main/asciidoc/concepts.adoc             |  125 +
 manual/src/main/asciidoc/configuration.adoc        |  397 ++++
 .../src/main/asciidoc/connectors/connectors.adoc   |   22 +
 .../asciidoc/connectors/salesforce-connector.adoc  |  224 ++
 manual/src/main/asciidoc/consent-api.adoc          |  139 ++
 manual/src/main/asciidoc/custom-extensions.adoc    |  419 ++++
 manual/src/main/asciidoc/extending-plugins.adoc    |  113 +
 manual/src/main/asciidoc/getting-started.adoc      |  121 +
 manual/src/main/asciidoc/images/asf_logo_url.png   |  Bin 0 -> 21121 bytes
 manual/src/main/asciidoc/images/incubator-logo.png |  Bin 0 -> 8923 bytes
 manual/src/main/asciidoc/images/unomi-request.png  |  Bin 0 -> 132731 bytes
 manual/src/main/asciidoc/index.adoc                |   69 +
 manual/src/main/asciidoc/samples/login-sample.adoc |   73 +
 manual/src/main/asciidoc/samples/samples.adoc      |   19 +
 .../src/main/asciidoc/samples/twitter-sample.adoc  |  432 ++++
 .../asciidoc/samples/weather-update-sample.adoc    |   14 +
 manual/src/theme/apache-theme.yml                  |  271 +++
 manual/src/theme/fonts/DroidSerif-Bold.ttf         |  Bin 0 -> 185228 bytes
 manual/src/theme/fonts/DroidSerif-BoldItalic.ttf   |  Bin 0 -> 190304 bytes
 manual/src/theme/fonts/DroidSerif-Italic.ttf       |  Bin 0 -> 177560 bytes
 manual/src/theme/fonts/DroidSerif-Regular.ttf      |  Bin 0 -> 172916 bytes
 .../src/theme/fonts/DroidSerif_Apache License.txt  |  201 ++
 manual/src/theme/fonts/OpenSans-Bold.ttf           |  Bin 0 -> 224452 bytes
 manual/src/theme/fonts/OpenSans-BoldItalic.ttf     |  Bin 0 -> 213168 bytes
 manual/src/theme/fonts/OpenSans-ExtraBold.ttf      |  Bin 0 -> 222424 bytes
 .../src/theme/fonts/OpenSans-ExtraBoldItalic.ttf   |  Bin 0 -> 213336 bytes
 manual/src/theme/fonts/OpenSans-Italic.ttf         |  Bin 0 -> 212760 bytes
 manual/src/theme/fonts/OpenSans-Light.ttf          |  Bin 0 -> 222236 bytes
 manual/src/theme/fonts/OpenSans-LightItalic.ttf    |  Bin 0 -> 213024 bytes
 manual/src/theme/fonts/OpenSans-Regular.ttf        |  Bin 0 -> 217276 bytes
 manual/src/theme/fonts/OpenSans-SemiBold.ttf       |  Bin 0 -> 221164 bytes
 manual/src/theme/fonts/OpenSans-SemiBoldItalic.ttf |  Bin 0 -> 212732 bytes
 manual/src/theme/fonts/OpenSans_LICENSE.txt        |  202 ++
 manual/src/theme/fonts/SourceSansPro-Black.ttf     |  Bin 0 -> 288824 bytes
 .../src/theme/fonts/SourceSansPro-BlackItalic.ttf  |  Bin 0 -> 102944 bytes
 manual/src/theme/fonts/SourceSansPro-Bold.ttf      |  Bin 0 -> 290916 bytes
 .../src/theme/fonts/SourceSansPro-BoldItalic.ttf   |  Bin 0 -> 103200 bytes
 .../src/theme/fonts/SourceSansPro-ExtraLight.ttf   |  Bin 0 -> 291112 bytes
 .../theme/fonts/SourceSansPro-ExtraLightItalic.ttf |  Bin 0 -> 104304 bytes
 manual/src/theme/fonts/SourceSansPro-Italic.ttf    |  Bin 0 -> 103828 bytes
 manual/src/theme/fonts/SourceSansPro-Light.ttf     |  Bin 0 -> 292680 bytes
 .../src/theme/fonts/SourceSansPro-LightItalic.ttf  |  Bin 0 -> 104156 bytes
 manual/src/theme/fonts/SourceSansPro-Regular.ttf   |  Bin 0 -> 293516 bytes
 manual/src/theme/fonts/SourceSansPro-SemiBold.ttf  |  Bin 0 -> 291864 bytes
 .../theme/fonts/SourceSansPro-SemiBoldItalic.ttf   |  Bin 0 -> 103556 bytes
 manual/src/theme/fonts/SourceSansPro_OFL.txt       |   93 +
 manual/src/theme/images/asf_logo.png               |  Bin 0 -> 21243 bytes
 manual/src/theme/images/asf_logo_url.png           |  Bin 0 -> 21121 bytes
 pom.xml                                            |    1 +
 53 files changed, 5867 insertions(+)

commit 989fc3670a5032abf7f7a7b8d3c19bfa179868df
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Sep 4 18:56:22 2018 +0200

    improve debug logging for the action set remote host info

 .../plugins/request/actions/SetRemoteHostInfoAction.java     | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 8f44f4be65e875668dfbbef6459df040d050c9a9
Merge: ea1b788e d9e9a8f4
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Jul 5 16:13:07 2018 +0200

    Merge branch 'unomi-1.3.x'

commit d9e9a8f49eab227930511d9cc8333a847968de0c
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Jun 29 12:11:34 2018 +0200

    UNOMI-186 improve deprecation marking

 api/src/main/java/org/apache/unomi/api/Parameter.java              | 5 ++++-
 .../java/org/apache/unomi/api/services/PersonalizationService.java | 1 +
 .../main/java/org/apache/unomi/api/services/PrivacyService.java    | 7 +++++--
 api/src/main/java/org/apache/unomi/api/services/QueryService.java  | 1 +
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java         | 5 ++++-
 .../java/org/apache/unomi/persistence/spi/PersistenceService.java  | 1 +
 rest/src/main/java/org/apache/unomi/rest/RulesServiceEndPoint.java | 1 +
 .../main/java/org/apache/unomi/rest/ScoringServiceEndPoint.java    | 3 ++-
 .../main/java/org/apache/unomi/rest/SegmentServiceEndPoint.java    | 1 +
 .../org/apache/unomi/services/services/DefinitionsServiceImpl.java | 6 +++++-
 .../java/org/apache/unomi/services/services/QueryServiceImpl.java  | 5 ++++-
 11 files changed, 29 insertions(+), 7 deletions(-)

commit d5d845046ac3e4778dd4e3805a4d9bff4d7bb19a
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Jun 29 11:29:33 2018 +0200

    UNOMI-186 clean markdown documentation

 src/site/markdown/versions/1.1/building-and-deploying.md    | 4 ++--
 src/site/markdown/versions/1.1/concepts.md                  | 2 +-
 src/site/markdown/versions/1.1/getting-started.md           | 2 +-
 src/site/markdown/versions/1.2/building-and-deploying.md    | 4 ++--
 src/site/markdown/versions/master/building-and-deploying.md | 4 ++--
 src/site/markdown/versions/master/concepts.md               | 3 +--
 src/site/markdown/versions/master/twitter-sample.md         | 2 +-
 7 files changed, 10 insertions(+), 11 deletions(-)

commit c06620437bd67eaa16434641cdb0d512300fa5c9
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Jun 29 11:17:42 2018 +0200

    UNOMI-186 clean @Deprecated documentation, add version of deprecation, add missing tag

 api/src/main/java/org/apache/unomi/api/Parameter.java             | 2 +-
 .../java/org/apache/unomi/api/services/DefinitionsService.java    | 1 +
 .../org/apache/unomi/api/services/PersonalizationService.java     | 2 +-
 .../main/java/org/apache/unomi/api/services/PrivacyService.java   | 8 ++++----
 api/src/main/java/org/apache/unomi/api/services/QueryService.java | 1 +
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java        | 1 +
 .../java/org/apache/unomi/persistence/spi/PersistenceService.java | 1 +
 .../src/main/java/org/apache/unomi/rest/RulesServiceEndPoint.java | 2 +-
 .../main/java/org/apache/unomi/rest/ScoringServiceEndPoint.java   | 2 +-
 .../main/java/org/apache/unomi/rest/SegmentServiceEndPoint.java   | 2 +-
 .../apache/unomi/services/services/DefinitionsServiceImpl.java    | 2 +-
 .../java/org/apache/unomi/services/services/QueryServiceImpl.java | 3 ++-
 12 files changed, 16 insertions(+), 11 deletions(-)

commit b712694083ae34cf175958043388f709143a2741
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Jun 27 18:47:12 2018 +0200

    UNOMI-185 use the optimized aggregation when possible

 .../java/org/apache/unomi/privacy/internal/PrivacyServiceImpl.java    | 2 +-
 .../baseplugin/conditions/PastEventConditionESQueryBuilder.java       | 2 +-
 .../java/org/apache/unomi/services/services/EventServiceImpl.java     | 2 +-
 .../java/org/apache/unomi/services/services/GoalsServiceImpl.java     | 4 ++--
 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java   | 2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit f579e1423c51bfb4a1b174a77ce3126ac2185867
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Jun 27 12:01:56 2018 +0200

    UNOMI-185 refactor and clean code after successful test with optimized query

 .../apache/unomi/api/services/QueryService.java    |  2 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 12 ++++----
 .../unomi/persistence/spi/PersistenceService.java  |  2 +-
 .../apache/unomi/rest/QueryServiceEndPoint.java    | 33 ++++++++--------------
 .../unomi/services/services/QueryServiceImpl.java  |  8 +++---
 5 files changed, 23 insertions(+), 34 deletions(-)

commit 7129cdb35e1624de3fa2e29eb2f7f2c19ee3f1ec
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Jun 26 16:36:09 2018 +0200

    UNOMI-185 create an additional endpoint to execute aggregate query, the new endpoint return a bit less information but is much faster

 .../apache/unomi/api/services/QueryService.java    | 14 +++++
 .../ElasticSearchPersistenceServiceImpl.java       | 64 +++++++++++++++-------
 .../unomi/persistence/spi/PersistenceService.java  | 13 +++++
 .../conditions/BooleanConditionESQueryBuilder.java | 12 +++-
 .../apache/unomi/rest/QueryServiceEndPoint.java    | 19 +++++++
 .../unomi/services/services/QueryServiceImpl.java  | 61 +++++++++++++--------
 6 files changed, 140 insertions(+), 43 deletions(-)

commit ea1b788ec82b2ad8e404236e21d974a11e68429a
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 25 17:10:36 2018 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 ++---
 extensions/geonames/services/pom.xml              |  8 ++---
 extensions/lists-extension/actions/pom.xml        |  8 ++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 ++---
 extensions/lists-extension/services/pom.xml       |  8 ++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 ++---
 extensions/privacy-extension/services/pom.xml     |  8 ++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++--
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++---
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 ++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++--
 extensions/unomi-mailchimp/actions/pom.xml        |  2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  2 +-
 extensions/unomi-mailchimp/pom.xml                |  2 +-
 extensions/unomi-mailchimp/rest/pom.xml           |  2 +-
 extensions/unomi-mailchimp/services/pom.xml       |  2 +-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 itests/pom.xml                                    |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 metrics/pom.xml                                   |  6 ++--
 package/pom.xml                                   |  8 ++---
 persistence-elasticsearch/core/pom.xml            |  8 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++--
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++--
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++--
 pom.xml                                           |  4 +--
 rest/pom.xml                                      |  6 ++--
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  8 ++---
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  8 ++---
 wab/pom.xml                                       |  6 ++--
 58 files changed, 142 insertions(+), 142 deletions(-)

commit 5f7e9a43bd0dbe7b27a6a1cc53e3f5f041381c95
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 25 17:10:16 2018 +0200

    [maven-release-plugin] prepare release unomi-root-1.3.0-incubating

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 ++---
 extensions/geonames/services/pom.xml              |  8 ++---
 extensions/lists-extension/actions/pom.xml        |  8 ++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 ++---
 extensions/lists-extension/services/pom.xml       |  8 ++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 ++---
 extensions/privacy-extension/services/pom.xml     |  8 ++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++--
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++---
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 ++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++--
 extensions/unomi-mailchimp/actions/pom.xml        |  2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  2 +-
 extensions/unomi-mailchimp/pom.xml                |  2 +-
 extensions/unomi-mailchimp/rest/pom.xml           |  2 +-
 extensions/unomi-mailchimp/services/pom.xml       |  2 +-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 itests/pom.xml                                    |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 metrics/pom.xml                                   |  6 ++--
 package/pom.xml                                   |  8 ++---
 persistence-elasticsearch/core/pom.xml            |  8 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++--
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++--
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++--
 pom.xml                                           |  4 +--
 rest/pom.xml                                      |  6 ++--
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  8 ++---
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  8 ++---
 wab/pom.xml                                       |  6 ++--
 58 files changed, 142 insertions(+), 142 deletions(-)

commit af7bfb11474937ad01e50423f24ee681451e6a58
Author: Serge Huber <shuber@apache.org>
Date:   Sun Jun 24 20:47:03 2018 +0200

    UNOMI-184 Integration tests will fail "randomly"
    This should fix the integration tests. Problem was due to the reloading of property types while ElasticSearch was still indexing, making the newly created property not yet available. Fixed by changing the reload frequency from 5 seconds to 10 seconds. We really need to make these timers configurable though, but this will be done at a later point in time.
    Also included in this fix :
    - The integration tests will now setup the camel context in "tracing" mode, making issues easier to debug. This is only done during integration tests, by default tracing is disabled.
    - Improved error logging in LineSplitProcessor, this will also make catching other problems with this processor hopefully easier.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/router/api/IRouterCamelContext.java |  2 ++
 .../router/api/services/ImportExportConfigurationService.java |  6 +++++-
 .../apache/unomi/router/core/context/RouterCamelContext.java  |  4 ++++
 .../unomi/router/core/processor/LineSplitProcessor.java       | 11 +++++++++--
 .../router/services/AbstractConfigurationServiceImpl.java     |  4 ++++
 .../java/org/apache/unomi/itests/ProfileImportRankingIT.java  |  2 ++
 .../java/org/apache/unomi/itests/ProfileImportSurfersIT.java  |  7 ++++++-
 .../apache/unomi/services/services/ProfileServiceImpl.java    |  4 ++--
 8 files changed, 34 insertions(+), 6 deletions(-)

commit da9d4d277626ca258550ed58d840d0c1ea37e77a
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jun 21 15:09:00 2018 +0200

    Updating the maturity model
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/maturity-model-report.md | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 2a74161ed1f245494fe6a3a7e3c5b68a26a0dd7a
Author: dinesh1996 <dinesh.salhotradass@ynov.com>
Date:   Wed Jun 20 14:46:11 2018 +0200

    The score can be negative

 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java   | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 4f834b23e66bacf0f5f343e6314a862d2638afda
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jun 12 11:15:43 2018 +0200

    Revert "Attempting to fix the integration tests that are blocking the release"
    
    This reverts commit 34e27f0
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 itests/src/test/java/org/apache/unomi/itests/ProfileExportIT.java   | 2 +-
 .../test/java/org/apache/unomi/itests/ProfileImportActorsIT.java    | 2 +-
 .../test/java/org/apache/unomi/itests/ProfileImportRankingIT.java   | 2 +-
 .../test/java/org/apache/unomi/itests/ProfileImportSurfersIT.java   | 6 +++---
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 34e27f03fb1378ef031c8253d173f9c997f3d6ca
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jun 11 20:23:03 2018 +0200

    Attempting to fix the integration tests that are blocking the release
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../test/java/org/apache/unomi/itests/ProfileExportIT.java | 14 +-------------
 .../org/apache/unomi/itests/ProfileImportActorsIT.java     |  2 +-
 .../org/apache/unomi/itests/ProfileImportRankingIT.java    |  2 +-
 .../org/apache/unomi/itests/ProfileImportSurfersIT.java    |  6 +++---
 4 files changed, 6 insertions(+), 18 deletions(-)

commit c249483b9d51665ee9b0be9874e70f14b48796c1
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue May 29 11:24:54 2018 +0200

    UNOMI-182 add documentation for definition deployment

 src/site/markdown/versions/master/custom-extensions.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit 8b068c291dda582f7d0e7cec078384f12e20c082
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed May 23 12:29:39 2018 +0200

    UNOMI-182 fix code issues

 .../unomi/shell/commands/DeployDefinition.java     | 46 ++++++++++++++++++++--
 1 file changed, 42 insertions(+), 4 deletions(-)

commit 510c524bfe0415a1fae8d643e7cac48b667b88b9
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed May 23 11:49:34 2018 +0200

    UNOMI-182 make sure definitions are redeployed if the bundles that bring them is in SNAPSHOT

 .../apache/unomi/api/services/ProfileService.java  |   9 +
 .../services/services/DefinitionsServiceImpl.java  |   4 +-
 .../unomi/services/services/GoalsServiceImpl.java  |   4 +-
 .../services/services/ProfileServiceImpl.java      |  20 ++-
 .../unomi/services/services/RulesServiceImpl.java  |   2 +-
 .../services/services/SegmentServiceImpl.java      |   4 +-
 .../unomi/shell/commands/DeployDefinition.java     | 183 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  15 +-
 8 files changed, 225 insertions(+), 16 deletions(-)

commit f994d99a1c9131dc87e115712787391964c68102
Author: Serge Huber <shuber@apache.org>
Date:   Tue May 22 20:16:04 2018 +0200

    UNOMI-133 Quick documentation of Apache Unomi consent management
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/index.md                       |   9 +-
 src/site/markdown/main.md                        |   1 +
 src/site/markdown/versions/master/consent-api.md | 135 +++++++++++++++++++++++
 3 files changed, 144 insertions(+), 1 deletion(-)

commit ef24a79ff463975b309cbad94951b45464cf09dd
Merge: e0ffc081 00b95192
Author: Serge Huber <shuber@apache.org>
Date:   Tue May 8 15:34:56 2018 +0200

    This closes pull request number #61

commit 00b95192c4e2e183e3be927f9096fcd3b867cadf
Author: Donald Hinshaw <donald@kortx.io>
Date:   Mon May 7 09:45:52 2018 -0400

    Added param description to Event constructor

 api/src/main/java/org/apache/unomi/api/Event.java | 1 +
 1 file changed, 1 insertion(+)

commit e0ffc0814f4ff4288b591407afdb0679358249bc
Author: Serge Huber <shuber@apache.org>
Date:   Sun May 6 21:29:56 2018 +0200

    UNOMI-125 Fix various build generation issues
    - Fix incomplete / erros in Javadocs
    - Fix RAT plugin problem when compiling packaged sources
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/Consent.java    |  3 +-
 .../main/java/org/apache/unomi/api/Profile.java    |  1 +
 .../apache/unomi/api/services/ClusterService.java  |  2 +-
 .../unomi/api/services/DefinitionsService.java     | 12 ++++----
 .../unomi/api/services/PersonalizationService.java |  5 +++-
 .../apache/unomi/api/services/PrivacyService.java  | 32 ++++++++++++++--------
 .../apache/unomi/api/services/ProfileService.java  |  4 ++-
 metrics/pom.xml                                    |  6 ++++
 .../unomi/metrics/commands/ActivateCommand.java    |  2 --
 .../unomi/metrics/commands/DeactivateCommand.java  |  2 --
 pom.xml                                            |  1 +
 11 files changed, 45 insertions(+), 25 deletions(-)

commit a61a29317ce628f98ce2ee1d34ff25329bd844cc
Author: Donald Hinshaw <donald@kortx.io>
Date:   Thu May 3 13:44:39 2018 -0400

    UNOMI-179 Event Persistence Non-transient
    
    Changed the persistence field to be non-transient in the Event class.
    Used ESEventMixIn to prevent that value from being saved in ES.  Updated
    the Event constructor to accept persistent.
    
    This feature allows the user to pass "persistent": false with their
    events if the intent is only to trigger a rule / action downstream.
    
    If "persistent" is not set it defaults to true.

 api/src/main/java/org/apache/unomi/api/Event.java  |  6 ++---
 .../elasticsearch/ESCustomObjectMapper.java        |  2 ++
 .../persistence/elasticsearch/ESEventMixIn.java    | 29 ++++++++++++++++++++++
 .../java/org/apache/unomi/web/ContextServlet.java  |  3 ++-
 .../apache/unomi/web/EventsCollectorServlet.java   |  3 ++-
 5 files changed, 38 insertions(+), 5 deletions(-)

commit 9fcfd428547f9422390d773d756fb570f33e1e49
Author: Serge Huber <shuber@apache.org>
Date:   Fri Apr 27 17:29:45 2018 +0200

    UNOMI-178 Make it possible to pass sessionId as a body parameter instead of just a URL parameter
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/api/ContextRequest.java  | 18 ++++++++++
 .../apache/unomi/api/EventsCollectorRequest.java   | 20 +++++++++++
 .../java/org/apache/unomi/web/ContextServlet.java  | 40 ++++++++++++++--------
 .../apache/unomi/web/EventsCollectorServlet.java   |  5 ++-
 4 files changed, 68 insertions(+), 15 deletions(-)

commit 70fe6640c401dfdadef8d9e42469fd63617e9223
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Mon Apr 23 14:22:15 2018 +0200

    UNOMI-177 update population variable type to Long instead of Integer
    The max value holding by this types:
    * Integer: 2^31-1 ~= 2147483647
    * Long:    2^63-1 ~= 9223372036854775807
    
    So we must use the Long class type to wrap the value of population

 .../java/org/apache/unomi/geonames/services/GeonameEntry.java     | 8 ++++----
 .../org/apache/unomi/geonames/services/GeonamesServiceImpl.java   | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit a4a6444033007b153545a76a2605f176a6bf9f14
Author: Donald Hinshaw <donald@kortx.io>
Date:   Tue Apr 3 13:10:10 2018 -0400

    Handle exception when cxs is undefined.

 wab/src/main/webapp/index.html | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 66f335bbd7fc16af9c9061bbf4524adc65e2978c
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 21 16:47:30 2018 +0100

    UNOMI-173 remove remoteAddr and remoteHost

 .../plugins/request/actions/SetRemoteHostInfoAction.java  |  2 --
 plugins/request/src/main/resources/messages_en.properties |  2 --
 plugins/request/src/main/resources/messages_fr.properties |  2 --
 .../resources/META-INF/cxs/personas/europeanVisitor.json  |  4 +---
 .../main/resources/META-INF/cxs/personas/usVisitor.json   |  4 +---
 .../cxs/properties/sessions/technical/remoteAddr.json     | 15 ---------------
 .../cxs/properties/sessions/technical/remoteHost.json     | 15 ---------------
 services/src/main/resources/messages_de.properties        |  2 --
 services/src/main/resources/messages_en.properties        |  2 --
 src/site/markdown/versions/master/custom-extensions.md    |  4 +---
 10 files changed, 3 insertions(+), 49 deletions(-)

commit fbb36c838c0072aee0367dcdcd58c828b9ea5bde
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 21 14:49:24 2018 +0100

    Correct resource bundle encoding for plugins-request module

 .../src/main/resources/messages_fr.properties      | 26 +++++++++++-----------
 1 file changed, 13 insertions(+), 13 deletions(-)

commit 04caa74ad36b98a43d0e4ca63d5ee56eb6995132
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 21 14:36:13 2018 +0100

    Correct resource bundle encoding for plugins-mail module

 plugins/mail/src/main/resources/messages_fr.properties | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4c7642cb897ea237e975d99986096e189128e693
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 21 14:32:39 2018 +0100

    Correct resource bundle encoding for plugins-hover-event module

 plugins/hover-event/src/main/resources/messages_fr.properties | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit d159be355d73cc7a1deb55c40d3582c531ae6efc
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Mar 21 14:29:47 2018 +0100

    Correct resource bundle encoding for plugins-base module

 plugins/baseplugin/src/main/resources/messages_de.properties | 6 +++---
 plugins/baseplugin/src/main/resources/messages_fr.properties | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 19ea6f4882284247d22411f466bbf8c934488892
Author: Serge Huber <shuber@apache.org>
Date:   Fri Mar 9 16:38:45 2018 +0100

    UNOMI-133 Fix small issue with consent mapping in Salesforce integration test
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../org/apache/unomi/sfdc/services/internal/SFDCServiceImplTest.java     | 1 +
 1 file changed, 1 insertion(+)

commit e97686c37d0f340373318f7090bdd50aa4507552
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Mar 8 14:52:46 2018 +0100

    UNOMI-5 fix version after merge

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 ++---
 extensions/geonames/services/pom.xml              |  8 ++---
 extensions/lists-extension/actions/pom.xml        |  8 ++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 ++---
 extensions/lists-extension/services/pom.xml       |  8 ++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 ++---
 extensions/privacy-extension/services/pom.xml     |  8 ++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++--
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++---
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 ++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++--
 extensions/unomi-mailchimp/actions/pom.xml        |  2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  2 +-
 extensions/unomi-mailchimp/pom.xml                |  2 +-
 extensions/unomi-mailchimp/rest/pom.xml           |  2 +-
 extensions/unomi-mailchimp/services/pom.xml       |  2 +-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 itests/pom.xml                                    |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 metrics/pom.xml                                   |  6 ++--
 package/pom.xml                                   |  6 ++--
 performance-tests/pom.xml                         |  2 +-
 persistence-elasticsearch/core/pom.xml            |  8 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++--
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++--
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++--
 pom.xml                                           |  2 +-
 rest/pom.xml                                      |  6 ++--
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/trainingplugin/pom.xml                    |  4 +--
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  8 ++---
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  8 ++---
 wab/pom.xml                                       |  6 ++--
 60 files changed, 143 insertions(+), 143 deletions(-)

commit 082054139b6e4d949009f68ad41f1c3ac8acbb8a
Merge: 6ef0e344 bf8c6096
Author: Serge Huber <shuber@apache.org>
Date:   Thu Mar 8 14:29:42 2018 +0100

    [jgitflow-maven-plugin]merging 'feature-UNOMI-5-KARAF4-1' into 'master'

commit bf8c6096a54de626ae5ca043f25c91129ce47a46
Author: Serge Huber <shuber@apache.org>
Date:   Tue Mar 6 12:24:43 2018 +0100

    UNOMI-5 Karaf 4 update: Fix service registration that didn't include all the classes interfaces

 .../test/java/org/apache/unomi/itests/BaseIT.java  |  5 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 36 +++++++++++++++++++---
 3 files changed, 35 insertions(+), 7 deletions(-)

commit 1927b667e3571d888c4beef367274ea1a25e5447
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:43:02 2018 +0100

    make wrap a prerequisite feature and remove unnecessary bundles and features

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 12 +-----------
 kar/src/main/feature/feature.xml                         |  1 +
 2 files changed, 2 insertions(+), 11 deletions(-)

commit 319243ae7ef316d47ee007605c19be05b5c278a3
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:31:18 2018 +0100

    update Camel to 2.20.2

 extensions/router/router-karaf-feature/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44caba77050f11b434753b9acb47c13752c13987
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:15:47 2018 +0100

    add and fix scopes

 itests/pom.xml | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 633f1edf03279819e660eaa8ca45399b45b797be
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:14:54 2018 +0100

    update maven-failsafe-plugin to 2.20.1

 itests/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d71db919ec20e240594657ab7d13af5015318242
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:13:34 2018 +0100

    enable debug logging

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 1 +
 1 file changed, 1 insertion(+)

commit 6d5ce4e263c3a0b30d41b8d2255b453d4f62c886
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:12:47 2018 +0100

    disable service requirements

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 1 +
 1 file changed, 1 insertion(+)

commit 87beb86b33d0c72a0df96fd291b24ca5e6040d9e
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:11:46 2018 +0100

    fix repo for shell feature

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 08f6733a9982119ddc37683060c3e63d4baabc82
Author: Oliver Lietz <olli@apache.org>
Date:   Tue Mar 6 00:10:58 2018 +0100

    update Camel to 2.20.2

 extensions/router/pom.xml                                           | 2 +-
 extensions/router/router-karaf-feature/src/main/feature/feature.xml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b9e5c95d04f31ba0213338563b904cb74af8d5c0
Author: Oliver Lietz <olli@apache.org>
Date:   Mon Mar 5 16:53:23 2018 +0100

    fix unknown protocol: wrap

 itests/pom.xml                                           | 7 +++++++
 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 2 +-
 pom.xml                                                  | 4 ++--
 3 files changed, 10 insertions(+), 3 deletions(-)

commit 92905ac1460bdbdeec0e4764ec09be07c0cc553d
Author: Serge Huber <shuber@apache.org>
Date:   Thu Mar 1 10:29:32 2018 +0100

    UNOMI-5 Upgrade to Karaf 4
    Update pom's that were missed because the profiles were not properly activated.

 itests/pom.xml                 | 2 +-
 performance-tests/pom.xml      | 2 +-
 samples/trainingplugin/pom.xml | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 64f80c61dbca4a45f4100451e7a95c1425b3c67f
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 27 16:19:11 2018 +0100

    UNOMI-5 Upgrade to Karaf 4
    Rename feature branch from UNOMI-2.0.0 to UNOMI-5-KARAF4-1

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 ++---
 extensions/geonames/services/pom.xml              |  8 ++---
 extensions/lists-extension/actions/pom.xml        |  8 ++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 ++---
 extensions/lists-extension/services/pom.xml       |  8 ++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 ++---
 extensions/privacy-extension/services/pom.xml     |  8 ++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++--
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++---
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 ++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++--
 extensions/unomi-mailchimp/actions/pom.xml        |  2 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  2 +-
 extensions/unomi-mailchimp/pom.xml                |  2 +-
 extensions/unomi-mailchimp/rest/pom.xml           |  2 +-
 extensions/unomi-mailchimp/services/pom.xml       |  2 +-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 metrics/pom.xml                                   |  6 ++--
 package/pom.xml                                   |  6 ++--
 persistence-elasticsearch/core/pom.xml            |  8 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++--
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++--
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++--
 pom.xml                                           |  2 +-
 rest/pom.xml                                      |  6 ++--
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  8 ++---
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  8 ++---
 wab/pom.xml                                       |  6 ++--
 57 files changed, 139 insertions(+), 139 deletions(-)

commit d2bfe620d2c2c07f987ff726f96b4d388f45e668
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Feb 27 13:38:23 2018 +0100

    UNOMI-5 Upgrade to Karaf 4
    Lots of fixes to make sure it works with Karaf 4.1.5:
    - Update the project from Karaf 4.1.1 to 4.1.5
    - Remove XmlRootElement annotations that were causing the new CXF version to wrap the objects
    - Remove all auto-exports from Blueprint services declarations as they don't seem to work anymore
    - Migrate ConsoleUtils to use a new LineReader (replacing the old ConsoleReader)
    - Replace some hardcoded version numbers in Maven POM's with property references
    - Replace the old deprecated ShellTable with the new one in the shell commands
    - Update the provided configurations with the new settings (log4j2, changes in the karaf shell, removed the startup.properties file)
    - Homogenize uses of HttpClient through the whole application
    - Replace most hardcoded version numbers in Karaf feature descriptors with property references
    - Fix null cookies now returned by new Jetty version

 .../main/java/org/apache/unomi/api/EventInfo.java  |   3 -
 .../main/java/org/apache/unomi/api/Parameter.java  |   2 -
 .../java/org/apache/unomi/api/PartialList.java     |   2 -
 .../main/java/org/apache/unomi/api/ServerInfo.java |   2 -
 .../main/java/org/apache/unomi/api/ValueType.java  |   2 -
 .../java/org/apache/unomi/api/actions/Action.java  |   2 -
 .../org/apache/unomi/api/conditions/Condition.java |   2 -
 .../apache/unomi/api/conditions/ConditionType.java |  12 +-
 .../java/org/apache/unomi/api/lists/UserList.java  |   3 -
 .../unomi/api/segments/DependentMetadata.java      |   2 -
 .../org/apache/unomi/api/segments/Scoring.java     |   2 -
 .../apache/unomi/api/segments/ScoringElement.java  |   2 -
 .../org/apache/unomi/api/segments/Segment.java     |   3 -
 common/pom.xml                                     |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 .../main/java/org/apache/unomi/lists/UserList.java |   3 -
 .../src/main/feature/feature.xml                   |  21 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  26 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 extensions/salesforce-connector/karaf-kar/pom.xml  |   2 -
 .../karaf-kar/src/main/feature/feature.xml         |   4 +-
 extensions/salesforce-connector/services/pom.xml   |   1 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   6 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 extensions/weather-update/core/pom.xml             |   2 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 extensions/weather-update/karaf-kar/pom.xml        |   2 -
 .../karaf-kar/src/main/feature/feature.xml         |   4 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 +-
 kar/pom.xml                                        |   8 +
 metrics/pom.xml                                    |   4 +-
 .../apache/unomi/metrics/commands/ListCommand.java |   4 +-
 package/pom.xml                                    | 399 +++++++++++----------
 package/src/main/resources/etc/custom.properties   |   2 +
 .../main/resources/etc/org.apache.karaf.shell.cfg  |  47 ++-
 .../main/resources/etc/org.ops4j.pax.logging.cfg   | 109 ++++--
 package/src/main/resources/etc/startup.properties  |  59 ---
 .../apache/unomi/performancetests/BasicTest.java   |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 plugins/request/pom.xml                            |   8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 pom.xml                                            |  46 ++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  21 +-
 .../markdown/versions/master/custom-extensions.md  |   2 +-
 .../markdown/versions/master/twitter-sample.md     |   2 +-
 tools/shell-commands/pom.xml                       |   2 +-
 .../unomi/shell/migration/utils/ConsoleUtils.java  |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 tools/shell-dev-commands/pom.xml                   |   4 +-
 .../unomi/shell/commands/ListCommandSupport.java   |   4 +-
 .../java/org/apache/unomi/web/ClientServlet.java   |   8 +-
 .../java/org/apache/unomi/web/ContextServlet.java  |   8 +-
 .../apache/unomi/web/EventsCollectorServlet.java   |   8 +-
 .../main/java/org/apache/unomi/web/HttpUtils.java  |   8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   7 +-
 57 files changed, 490 insertions(+), 414 deletions(-)

commit da8a7872902bb45fbe5b42b37675af5e2a233669
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jun 26 14:39:55 2017 +0200

    UNOMI-5 Upgrade to Karaf 4
    - Upgrading to Karaf 4.1.1, still some issues building the project.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java             | 3 ++-
 .../src/test/java/org/apache/unomi/performancetests/BasicTest.java   | 3 ++-
 pom.xml                                                              | 5 +++--
 3 files changed, 7 insertions(+), 4 deletions(-)

commit c7d6abcb76db4ab5e161048c5ee3d3cb4430cf7f
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 14 10:33:01 2017 +0100

    UNOMI-5
    Also upgrading to ElasticSearch 5.2
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3e4b50abf33d8345423ae906606d446a2a60d430
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 30 20:24:45 2017 +0100

    UNOMI-5 Upgrade to Karaf 4
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 kar/src/main/feature/feature.xml                   |  2 +-
 package/pom.xml                                    | 43 ++++++++++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 16 ++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 pom.xml                                            | 19 +++++++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 services/pom.xml                                   |  5 ---
 .../services/services/SegmentServiceImpl.java      | 33 -----------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 26 ++++++-------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 ++++++-
 14 files changed, 86 insertions(+), 86 deletions(-)

commit 8991f5234d7b482f9648c639a61140cb5abb8cf6
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Feb 22 11:26:21 2018 +0100

    [jgitflow-maven-plugin]updating poms for unomi_2.0.0 version

 api/pom.xml                                       |  2 +-
 common/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 ++---
 extensions/geonames/services/pom.xml              |  8 ++---
 extensions/lists-extension/actions/pom.xml        |  8 ++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 ++---
 extensions/lists-extension/services/pom.xml       |  8 ++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 ++---
 extensions/privacy-extension/services/pom.xml     |  8 ++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++--
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++---
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 ++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++--
 extensions/unomi-mailchimp/actions/pom.xml        |  6 ++--
 extensions/unomi-mailchimp/karaf-kar/pom.xml      |  5 ++-
 extensions/unomi-mailchimp/pom.xml                |  5 ++-
 extensions/unomi-mailchimp/rest/pom.xml           |  5 ++-
 extensions/unomi-mailchimp/services/pom.xml       |  5 ++-
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 kar/pom.xml                                       | 38 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 metrics/pom.xml                                   |  6 ++--
 package/pom.xml                                   |  6 ++--
 persistence-elasticsearch/core/pom.xml            |  8 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++--
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++--
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++--
 pom.xml                                           |  2 +-
 rest/pom.xml                                      |  6 ++--
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  8 ++---
 tools/pom.xml                                     |  2 +-
 tools/shell-commands/pom.xml                      |  2 +-
 tools/shell-dev-commands/pom.xml                  |  8 ++---
 wab/pom.xml                                       |  6 ++--
 57 files changed, 144 insertions(+), 150 deletions(-)

commit 6ef0e34461ea5a1bd69a622f0206d1e05f596fab
Merge: c9539b45 4959cd35
Author: Serge Huber <shuber@apache.org>
Date:   Fri Mar 2 12:27:44 2018 +0100

    This closes pull request number #53

commit c9539b45b6f5448996a7004bb4733b56dc289b2d
Merge: a4c60993 5c0cc738
Author: Serge Huber <shuber@apache.org>
Date:   Fri Mar 2 12:19:01 2018 +0100

    This closes pull request number #51

commit a4c60993d49d4dcb99bf4aad88bd3156ff9f7784
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Mar 1 15:29:38 2018 +0100

    replace version number with project.version

 extensions/unomi-mailchimp/karaf-kar/src/main/feature/feature.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4959cd3599d2f0359408399c2600210d5944af9c
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Mar 1 13:04:45 2018 +0100

    UNOMI-169 Run integration tests before deployment
    
    To achieve this I introduced a dependency of package module on itests
    module. It does not build if integration-tests profile is not activated.

 package/pom.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 5c0cc7385b8df102c8f82366173aa78f5ff5ea62
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Wed Feb 28 14:48:43 2018 +0100

    UNOMI-168 Improve comments on PropertyTypes cache

 .../services/services/ProfileServiceImpl.java      | 22 +++++++++++++++++++---
 1 file changed, 19 insertions(+), 3 deletions(-)

commit 6728e50040f05d38d58020caa1bc8334678aa615
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Wed Feb 28 12:08:53 2018 +0100

    UNOMI-168 Use concurrent maps in DefinitionService
    
    The data is mutating and can be accessed from multiple threads, so we
    need to use adapted data structure.
    
    I also make sure not to store null in the cache (perhaps caused other
    issues, in ConcurrentHashMap it's forbidden)?

 .../unomi/services/services/DefinitionsServiceImpl.java     | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit e0b2c359f3c6bcb6f6468177a72e8dadec3af370
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Tue Feb 27 17:25:49 2018 +0100

    UNOMI-168 Update/Delete PropertyType in-mem cache
    
    Update PropertyType in-memory cache on update / delete operation.
    Also remove unnecessary delays in integration tests.

 .../apache/unomi/itests/ProfileImportActorsIT.java |  3 -
 .../unomi/itests/ProfileImportRankingIT.java       |  3 -
 .../unomi/itests/ProfileImportSurfersIT.java       |  3 -
 .../services/services/ProfileServiceImpl.java      | 76 +++++++++++++++-------
 4 files changed, 53 insertions(+), 32 deletions(-)

commit c638a13139fcab60867141384d4b9ffb2a0d0c72
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Tue Feb 27 16:45:57 2018 +0100

    UNOMI-168 Refactor PropertyType in-memory cache

 .../services/services/ProfileServiceImpl.java      | 130 +++++++++++++--------
 1 file changed, 82 insertions(+), 48 deletions(-)

commit d8bbbfaa4645af3788d93afce88b10152c2d5c22
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Mon Feb 26 17:59:59 2018 +0100

    UNOMI-168 Fix property type IT
    
    Now we retrieve property types from DB every 5 seconds
    (see 681384714130e49d747c163c5c3ac70774263e59), so we need longer waits
    when running integration tests.

 .../test/java/org/apache/unomi/itests/ProfileImportSurfersIT.java    | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 73774147696a9f2141494d5025c575e3ea1d7760
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Feb 27 15:59:48 2018 +0100

    UNOMI-159 add test to avoid double load on startup

 .../apache/unomi/router/services/AbstractConfigurationServiceImpl.java  | 2 +-
 .../org/apache/unomi/router/services/AbstractCustomServiceImpl.java     | 2 +-
 .../java/org/apache/unomi/services/services/DefinitionsServiceImpl.java | 2 +-
 .../main/java/org/apache/unomi/services/services/GoalsServiceImpl.java  | 2 +-
 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java     | 2 +-
 .../main/java/org/apache/unomi/services/services/RulesServiceImpl.java  | 2 +-
 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java     | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 244f0a490faa9180d0f708bef04dcab4aac6c012
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Feb 27 15:07:37 2018 +0100

    UNOMI-153 add static string for event ID

 .../apache/unomi/router/core/context/RouterCamelContext.java   | 10 +++++++---
 .../unomi/router/core/event/UpdateCamelRouteEventHandler.java  |  4 ++--
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 33ecebff21adb0abd01afe433566214211488627
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Feb 27 14:34:09 2018 +0100

    UNOMI-153 use send event method to send other event

 .../org/apache/unomi/services/services/ClusterServiceImpl.java     | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit bd34ae9e0d3e6101a9aeb5a0988b3c0c099bbf97
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Feb 26 17:48:46 2018 +0100

    UNOMI-153 add event when updating camel route (remove, add or update) to make sure route are synchronize in the cluster

 .../apache/unomi/api/services/ClusterService.java  |  8 +++
 .../unomi/router/api/IRouterCamelContext.java      |  4 +-
 extensions/router/router-core/pom.xml              | 10 +++
 .../router/core/context/RouterCamelContext.java    | 42 +++++++++---
 .../router/core/event/UpdateCamelRouteEvent.java   | 47 ++++++++++++++
 .../core/event/UpdateCamelRouteEventHandler.java   | 74 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 17 +++++
 .../services/ExportConfigurationServiceImpl.java   |  4 +-
 .../services/ImportConfigurationServiceImpl.java   |  4 +-
 .../services/services/ClusterServiceImpl.java      |  9 +++
 10 files changed, 204 insertions(+), 15 deletions(-)

commit f84401a7a64d25c18faf5fc8c4c0eaafde34d0fe
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 21 14:49:18 2018 +0100

    UNOMI-159 Fix for property types not properly initialized on startup.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ProfileServiceImpl.java      | 53 ++++++++++++----------
 1 file changed, 29 insertions(+), 24 deletions(-)

commit 9bf0ebf905e037598bed16030c90c978b8991979
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Feb 21 11:21:50 2018 +0100

    UNOMI-156 add error message instead of logger

 rest/src/main/java/org/apache/unomi/rest/ProfileServiceEndPoint.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit e93fab06a7f999b4dad62705b6e0eb7fad9cf2ee
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Feb 21 11:01:31 2018 +0100

    UNOMI-155 fix typo

 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 769129894feee8452e95df163c9807e87c606122
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 20 17:28:41 2018 +0100

    UNOMI-163 Make optimization configurable
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../baseplugin/conditions/PropertyConditionEvaluator.java  | 14 ++++++++++----
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml    |  5 ++++-
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 8df430d33d8b3cfd07f25a7116f3099d6dded78e
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 20 14:20:46 2018 +0100

    UNOMI-165 Minor improvements in dev shell commands
    - Add abstract class common to all the lists. Unfortunately we cannot use this in the metrics service since they are already using a common abstract class to inject the metric service (and also because we don't want to introduce too many depencies in the metrics service in case we want to move it out of the Unomi project at a later time)
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 common/pom.xml                                     | 13 ++++
 .../apache/unomi/metrics/commands/ListCommand.java |  5 +-
 .../unomi/shell/commands/ActionListCommand.java    | 43 +++---------
 .../unomi/shell/commands/ListCommandSupport.java   | 78 ++++++++++++++++++++++
 .../unomi/shell/commands/RuleListCommand.java      | 46 +++----------
 .../unomi/shell/commands/SegmentListCommand.java   | 43 +++---------
 6 files changed, 123 insertions(+), 105 deletions(-)

commit 7f6c134f547b69666040042fb13b20b233a7e3aa
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Tue Feb 20 12:21:29 2018 +0100

    UNOMI-165 Sorting by name for shell dev commands

 .../main/java/org/apache/unomi/shell/commands/ActionListCommand.java    | 2 +-
 .../main/java/org/apache/unomi/shell/commands/SegmentListCommand.java   | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 397e8627b584208629f7f818aa6d59b8f2d03584
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Tue Feb 20 11:22:57 2018 +0100

    UNOMI-165 Minor improvements to shell dev commands

 .../apache/unomi/shell/commands/ActionListCommand.java | 15 ++++++---------
 .../apache/unomi/shell/commands/ActionViewCommand.java |  2 +-
 .../apache/unomi/shell/commands/RuleListCommand.java   |  9 +++------
 .../unomi/shell/commands/RuleResetStatsCommand.java    |  3 ++-
 .../apache/unomi/shell/commands/RuleViewcommand.java   |  2 +-
 .../unomi/shell/commands/SegmentListCommand.java       | 18 ++++++++++--------
 6 files changed, 23 insertions(+), 26 deletions(-)

commit 84c8ec8a09ba24dde705e727722b8f8d1d796197
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Feb 19 15:26:49 2018 +0100

    UNOMI-166 leverage StringUtils

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53ea767d08bb4579abe13b4e5a6eef87c87bf1bf
Author: Serge Huber <shuber@apache.org>
Date:   Mon Feb 19 15:22:07 2018 +0100

    UNOMI-161 Rename callee to caller
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../metrics/{CalleeCount.java => CallerCount.java} |  4 +-
 .../main/java/org/apache/unomi/metrics/Metric.java |  2 +-
 .../org/apache/unomi/metrics/MetricsService.java   | 15 ++++++--
 ...StatusCommand.java => CallerStatusCommand.java} | 18 ++++-----
 .../apache/unomi/metrics/commands/ListCommand.java | 14 +++----
 .../apache/unomi/metrics/commands/ViewCommand.java |  2 +-
 .../{CalleeCountImpl.java => CallerCountImpl.java} | 14 +++----
 .../apache/unomi/metrics/internal/MetricImpl.java  |  9 ++---
 .../unomi/metrics/internal/MetricsServiceImpl.java | 44 +++++++++++-----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../unomi/metrics/internal/MetricsServiceTest.java | 23 ++++++-----
 11 files changed, 78 insertions(+), 69 deletions(-)

commit 384ed026206e6b4c6baa974f843df444342417d1
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Feb 19 14:46:51 2018 +0100

    UNOMI-162 leverage StringUtils

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java           | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 162660191f63c7ff84cd2a101d62a1694c93dfe4
Author: Serge Huber <shuber@apache.org>
Date:   Sun Feb 18 20:15:42 2018 +0100

    UNOMI-166 Experiment : introduce a back-end cache for the ElasticSearch persistence manager
    - Change the map key to use the class name instead of a custom naming scheme.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 952ad8f8c0ed7860976e56d1167de784c5f405cb
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 18:24:59 2018 +0100

    UNOMI-166 Experiment : introduce a back-end cache for the ElasticSearch persistence manager

 .../main/java/org/apache/unomi/api/Consent.java    |  3 +-
 .../main/java/org/apache/unomi/api/Metadata.java   |  5 +-
 .../main/java/org/apache/unomi/api/Parameter.java  |  5 +-
 .../org/apache/unomi/api/PersonaWithSessions.java  |  3 +-
 .../java/org/apache/unomi/api/actions/Action.java  |  3 +-
 .../org/apache/unomi/api/conditions/Condition.java |  3 +-
 .../java/org/apache/unomi/api/query/Aggregate.java |  3 +-
 .../org/apache/unomi/api/query/AggregateQuery.java |  4 +-
 .../java/org/apache/unomi/api/query/DateRange.java |  4 +-
 .../java/org/apache/unomi/api/query/IpRange.java   |  4 +-
 .../org/apache/unomi/api/query/NumericRange.java   |  4 +-
 .../java/org/apache/unomi/api/query/Query.java     |  4 +-
 .../apache/unomi/api/segments/ScoringElement.java  |  3 +-
 .../unomi/api/segments/SegmentsAndScores.java      |  3 +-
 persistence-elasticsearch/core/pom.xml             | 17 +++++
 .../ElasticSearchPersistenceServiceImpl.java       | 76 +++++++++++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +++
 services/src/main/resources/hazelcast.xml          |  5 +-
 18 files changed, 142 insertions(+), 17 deletions(-)

commit cef61f34c02cc9a06120e0a85884e5aa4ef4699b
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 18:07:10 2018 +0100

    UNOMI-165 Tool for developers : shell commands to view/manipulate internal objects

 kar/pom.xml                                        |   5 +
 kar/src/main/feature/feature.xml                   |   1 +
 tools/pom.xml                                      |   1 +
 tools/shell-commands/pom.xml                       |  25 -----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 tools/shell-dev-commands/pom.xml                   | 117 ++++++++++++++++++++
 .../unomi/shell/commands/ActionListCommand.java    |  90 ++++++++++++++++
 .../unomi/shell/commands/ActionViewCommand.java    |  50 +++++++++
 .../unomi/shell/commands/RuleListCommand.java      | 118 +++++++++++++++++++++
 .../shell/commands/RuleResetStatsCommand.java      |  37 +++++++
 .../unomi/shell/commands/RuleViewcommand.java      |  49 +++++++++
 .../unomi/shell/commands/SegmentListCommand.java   |  88 +++++++++++++++
 .../unomi/shell/commands/SegmentViewCommand.java   |  50 +++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  77 ++++++++++++++
 14 files changed, 684 insertions(+), 25 deletions(-)

commit b194d7a536b5b875d929bd44baa3ecac05b4f40f
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 17:57:26 2018 +0100

    UNOMI-164 Optimize profile save by avoiding a refresh

 .../unomi/services/services/ProfileServiceImpl.java | 21 +++++++++++++++++++--
 .../main/resources/OSGI-INF/blueprint/blueprint.xml |  2 ++
 2 files changed, 21 insertions(+), 2 deletions(-)

commit 57a29f982c4dcb1e8dc7c1393a51fa6de23c302d
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 17:41:58 2018 +0100

    UNOMI-163 Optimize PropertyConditionEvaluator

 plugins/baseplugin/pom.xml                         |  15 ++
 .../conditions/PropertyConditionEvaluator.java     | 103 +++++++++++-
 .../conditions/PropertyConditionEvaluatorTest.java | 187 +++++++++++++++++++++
 3 files changed, 300 insertions(+), 5 deletions(-)

commit 69c4b8c71d6d4ec416b655f6f3e748c763c25fd3
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 17:31:39 2018 +0100

    UNOMI-160 Missed a small optimization

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java   | 1 +
 1 file changed, 1 insertion(+)

commit 82e1d143dad282c243b02488c87113902ac0d0e9
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 17:16:50 2018 +0100

    UNOMI-162 Add support for ElasticSearch X-Pack plugin

 .../elasticsearch/ChildFirstClassLoader.java       | 63 ++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 85 ++++++++++++++++++++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 ++
 src/site/markdown/versions/master/configuration.md | 50 ++++++++++++-
 4 files changed, 198 insertions(+), 6 deletions(-)

commit 80d1b586238ac3f904ebba44a296d6f5dcfbbb84
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 16:14:14 2018 +0100

    UNOMI-157 Bugfix & change default behavior to not use events

 .../apache/unomi/plugins/baseplugin/actions/SetPropertyAction.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6b27bcd3e1299019dc3371a50db86fab9325f70e
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Feb 17 15:42:55 2018 +0100

    UNOMI-161 Fix compilation issues due to merge

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 --
 1 file changed, 2 deletions(-)

commit a1574bf53415d450c7b7f32096d873dcd3dc4b34
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 15:36:22 2018 +0100

    UNOMI-161 Add metrics to analyze internal performance

 common/pom.xml                                     |  46 +++++
 .../java/org/apache/unomi/common/DataTable.java    | 193 +++++++++++++++++++++
 .../org/apache/unomi/common/DataTableTest.java     |  67 +++++++
 kar/pom.xml                                        |  10 ++
 kar/src/main/feature/feature.xml                   |   2 +
 metrics/README.md                                  |  38 ++++
 metrics/pom.xml                                    |  88 ++++++++++
 .../java/org/apache/unomi/metrics/CalleeCount.java |  29 ++++
 .../main/java/org/apache/unomi/metrics/Metric.java |  33 ++++
 .../org/apache/unomi/metrics/MetricAdapter.java    |  45 +++++
 .../org/apache/unomi/metrics/MetricsService.java   |  40 +++++
 .../unomi/metrics/commands/ActivateCommand.java    |  33 ++++
 .../metrics/commands/CalleeStatusCommand.java      |  64 +++++++
 .../unomi/metrics/commands/DeactivateCommand.java  |  33 ++++
 .../apache/unomi/metrics/commands/ListCommand.java |  87 ++++++++++
 .../metrics/commands/MetricsCommandSupport.java    |  28 +++
 .../unomi/metrics/commands/ResetCommand.java       |  32 ++++
 .../apache/unomi/metrics/commands/ViewCommand.java |  47 +++++
 .../unomi/metrics/internal/CalleeCountImpl.java    |  66 +++++++
 .../apache/unomi/metrics/internal/MetricImpl.java  |  66 +++++++
 .../unomi/metrics/internal/MetricsServiceImpl.java | 118 +++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  77 ++++++++
 .../unomi/metrics/internal/MetricsServiceTest.java | 150 ++++++++++++++++
 persistence-elasticsearch/core/pom.xml             |   7 +
 .../ElasticSearchPersistenceServiceImpl.java       | 128 +++++++++-----
 .../conditions/ConditionEvaluatorDispatcher.java   |  28 ++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   3 +
 pom.xml                                            |   2 +
 services/pom.xml                                   |   7 +
 .../services/actions/ActionExecutorDispatcher.java |  18 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 32 files changed, 1543 insertions(+), 46 deletions(-)

commit 18968747848883bc6af79fd5e2a297b76cd7638f
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Feb 17 15:22:34 2018 +0100

    UNOMI-160 Fix compilation issues

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java            | 4 ----
 1 file changed, 4 deletions(-)

commit 9ad679ed4ab8ae33f5aa550d25e489e459218be4
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Feb 17 15:06:01 2018 +0100

    UNOMI-160 Optimize ItemType retrieval from classes

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 4218ccafbb89e1067bf85c8921c8298a39d5b448
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 11:13:19 2018 +0100

    UNOMI-160 Optimize ItemType retrieval from classes

 api/src/main/java/org/apache/unomi/api/Item.java   | 29 ++++++++++--
 .../ElasticSearchPersistenceServiceImpl.java       | 51 ++++++----------------
 2 files changed, 38 insertions(+), 42 deletions(-)

commit 681384714130e49d747c163c5c3ac70774263e59
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 10:55:29 2018 +0100

    UNOMI-159 Optimize property type retrieval by tag, system

 .../apache/unomi/api/services/ProfileService.java  |  4 +-
 .../router/core/processor/LineSplitProcessor.java  |  2 +-
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |  4 +-
 .../services/services/ProfileServiceImpl.java      | 91 +++++++++++++++-------
 4 files changed, 68 insertions(+), 33 deletions(-)

commit 1bba732184a2b5fd33a50fc031b047a704f00796
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 09:45:27 2018 +0100

    UNOMI-158 Optimize calls to PrivacyService
    - Some more missed changes

 .../org/apache/unomi/api/services/PrivacyService.java   | 17 +++++++++++++++++
 .../unomi/services/services/ProfileServiceImpl.java     | 17 ++++++++++++-----
 2 files changed, 29 insertions(+), 5 deletions(-)

commit 0713b04c39508f112fa026bc232a6b2a87233aad
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 09:34:45 2018 +0100

    UNOMI-158 Optimize calls to PrivacyService
    - Missed committing privacy service

 api/src/main/java/org/apache/unomi/api/services/ProfileService.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ab71266665407672307b7d38454247f717f96f12
Author: Serge Huber <shuber@apache.org>
Date:   Sat Feb 17 09:25:06 2018 +0100

    UNOMI-158 Optimize calls to PrivacyService

 .../org/apache/unomi/privacy/internal/PrivacyServiceImpl.java | 10 ++++++++++
 .../baseplugin/actions/MergeProfilesOnPropertyAction.java     |  2 +-
 .../java/org/apache/unomi/rest/ProfileServiceEndPoint.java    | 11 +++++------
 wab/src/main/java/org/apache/unomi/web/ContextServlet.java    | 10 +++++-----
 .../java/org/apache/unomi/web/EventsCollectorServlet.java     |  2 +-
 5 files changed, 22 insertions(+), 13 deletions(-)

commit aba4e1b9de0fffe728fea71bfc7c05d1997a3f8e
Author: Serge Huber <shuber@apache.org>
Date:   Thu Feb 15 17:22:06 2018 +0100

    UNOMI-157 Make setPropertyAction behavior configurable
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../baseplugin/actions/SetPropertyAction.java      | 40 ++++++++++++++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 12 ++++++-
 2 files changed, 36 insertions(+), 16 deletions(-)

commit 636037486c5b370230ae3b0775c634af705f01aa
Author: Serge Huber <shuber@apache.org>
Date:   Thu Feb 15 17:12:09 2018 +0100

    UNOMI-133 Fix broken Consent integration test
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 itests/src/test/java/org/apache/unomi/itests/ModifyConsentIT.java | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2fba338c14d2ee009826110a3c92b5caca1921b1
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Feb 15 15:13:51 2018 +0100

    UNOMI-156 add test on entry point existingProperties and return bad request if missing mandatory query parameters

 rest/pom.xml                                                   |  5 +++++
 .../java/org/apache/unomi/rest/ProfileServiceEndPoint.java     | 10 +++++++++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit b356c2ff96d667db176cc217e79ee3fdf48c0f79
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Feb 15 15:12:40 2018 +0100

    UNOMI-155 Add loggers to improve feedback when registering definitions (rules, actions, etc)

 .../services/services/DefinitionsServiceImpl.java      |  6 ++++++
 .../unomi/services/services/GoalsServiceImpl.java      |  8 ++++++++
 .../unomi/services/services/ProfileServiceImpl.java    | 18 +++++++++++++-----
 .../unomi/services/services/RulesServiceImpl.java      |  4 ++++
 .../unomi/services/services/SegmentServiceImpl.java    |  8 ++++++++
 5 files changed, 39 insertions(+), 5 deletions(-)

commit a38c2c086b8f837e67c2482c90c4b1d6af981dde
Merge: cac08f5f 408e2d55
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Feb 14 13:51:25 2018 +0100

    This closes pull request number #49

commit 408e2d55586a8a9756e33b63cb814733c893459b
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Tue Feb 13 15:34:01 2018 +0100

    UNOMI-152 Fix monthly index New Year's bug
    
    When formatting the date around new year's day, retrieving WEEK_YEAR can
    yield next year or previous year as result. We should simply use YEAR.
    
    More details: https://stackoverflow.com/questions/8686331/y-returns-2012-while-y-returns-2011-in-simpledateformat

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cac08f5f90a446ec74d62e9af5239d7fa6c7c154
Author: Serge Huber <shuber@apache.org>
Date:   Mon Feb 12 10:39:01 2018 +0100

    Correct small typo in Github URL
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 MERGING-PULL-REQUESTS | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a4ba2de155973ea7b96b5be7b7e7db1c7b20456c
Merge: d7d7103d aabd105b
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Feb 12 10:30:51 2018 +0100

    This closes pull request number #48

commit d7d7103d4b0336db316b8dc9609f747913a5d9b1
Merge: 4213752d 2ca6dc6e
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Feb 12 10:30:05 2018 +0100

    This closes pull request number #47

commit aabd105bca2d1d46f309ead26e8f806591174868
Author: dinesh1996 <dinesh.salhotradass@ynov.com>
Date:   Fri Feb 9 14:31:45 2018 +0100

    UNOMI-151 add send back bad request message

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2ca6dc6ea4f987089e305be961e21e8f66a68720
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Feb 8 19:21:36 2018 +0100

    UNOMI-150 Migration help message with all scripts
    
    Add migration help message listing all available scripts.

 .../org/apache/unomi/shell/migration/Migration.java  |  6 ++++++
 .../unomi/shell/migration/actions/Migrate.java       | 20 +++++++++++++++++++-
 .../unomi/shell/migration/impl/MigrationTo121.java   |  5 +++++
 .../unomi/shell/migration/impl/MigrationTo122.java   |  5 +++++
 4 files changed, 35 insertions(+), 1 deletion(-)

commit 4213752df2f7a196647ee93526c88b0ea27cf915
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Thu Feb 8 15:02:18 2018 +0100

    UNOMI-149 set default threshold of the strategy to 1

 .../apache/unomi/services/sorts/ScorePersonalizationStrategy.java   | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 1bbce3f63bbde5a69d8e116b963d534efd25c71b
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Feb 8 13:38:53 2018 +0100

    UNOMI-150 Ask for confirm before each migration

 .../main/java/org/apache/unomi/shell/migration/actions/Migrate.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit b463b11ef0d11203e72199fa569f013312cdc3a3
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Feb 8 13:27:21 2018 +0100

    UNOMI-150 Close http client in main migration util
    
    Manage the HTTP client lifecycle in central migration script instead of
    individual scripts.

 .../unomi/shell/migration/actions/Migrate.java     | 25 ++++++++++++----------
 .../unomi/shell/migration/impl/MigrationTo121.java | 15 ++++---------
 .../unomi/shell/migration/impl/MigrationTo122.java | 15 ++++---------
 3 files changed, 22 insertions(+), 33 deletions(-)

commit a86502769067dc8bf0990b5cc55057a3ae56dc7e
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Feb 8 13:17:57 2018 +0100

    UNOMI-150 Fix migration script versions
    
    Rename the old MigrationTo130 to MigrationTo121, change toVersion.
    Rename MigrationTo130IndexTemplate to MigrationTo122, change toVersion.

 .../migration/impl/{MigrationTo130.java => MigrationTo121.java}   | 4 ++--
 .../{MigrationTo130IndexTemplate.java => MigrationTo122.java}     | 4 ++--
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml           | 8 ++++----
 3 files changed, 8 insertions(+), 8 deletions(-)

commit d7a8b2ad2803a9378e42811d8104705b2081bce7
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Thu Feb 8 13:16:12 2018 +0100

    UNOMI-150 Get ES address later in migration
    
    Retrieve the Elasticsearch address from user after asking for HTTP
    certificates.

 .../main/java/org/apache/unomi/shell/migration/actions/Migrate.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f01d84fb68e2a24d43f516d24f56df846c4c85ed
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Wed Feb 7 18:57:19 2018 +0100

    UNOMI-150 Migration to delete old index template
    
    Create a migration script in order to delete old Elasticsearch index
    template.

 .../impl/MigrationTo130IndexTemplate.java          | 74 ++++++++++++++++++++++
 .../unomi/shell/migration/utils/ConsoleUtils.java  | 11 ++++
 .../migration/utils/HttpRequestException.java      | 33 ++++++++++
 .../unomi/shell/migration/utils/HttpUtils.java     |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +
 5 files changed, 121 insertions(+), 1 deletion(-)

commit 29d939f056c0aec8ae2f005a731e80c7334bc217
Author: Jarek Lipski <jlipski@jahia.com>
Date:   Wed Feb 7 18:43:57 2018 +0100

    UNOMI-150 Retrieve common ES address for migration
    
    Retrieve the same Elasticsearch address for all migration scripts, in
    order to add more migration scripts.

 .../main/java/org/apache/unomi/shell/migration/Migration.java    | 2 +-
 .../java/org/apache/unomi/shell/migration/actions/Migrate.java   | 4 +++-
 .../org/apache/unomi/shell/migration/impl/MigrationTo130.java    | 9 +++++----
 3 files changed, 9 insertions(+), 6 deletions(-)

commit c3d36bc8b0ee4ee876e744db29703b97cb468bfd
Author: Taybou <benterki.tayeb@gmail.com>
Date:   Wed Feb 7 17:26:43 2018 +0100

    UNOMI-149 fix scoring condition strategy

 .../org/apache/unomi/services/sorts/ScorePersonalizationStrategy.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d806626894612397d86da4e1cb7ec395188d40cb
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Jan 30 17:19:06 2018 +0100

    Add comment to cfg file to explain property

 .../services/src/main/resources/org.apache.unomi.mailchimpconnector.cfg  | 1 +
 1 file changed, 1 insertion(+)

commit 775337269c11cf477d719da03cb08cb2855b67bf
Author: dinesh1996 <dinesh.salhotradass@ynov.com>
Date:   Wed Jan 24 15:48:28 2018 +0100

    Change consents name and formatDate function

 .../services/internal/MailChimpServiceImpl.java    | 34 ++++++++++------------
 1 file changed, 15 insertions(+), 19 deletions(-)

commit 68e291ad4503cc2892a67ffc03516f6b05cc37de
Author: dinesh1996 <dinesh.salhotradass@ynov.com>
Date:   Wed Jan 24 15:17:02 2018 +0100

    Change consents name and formatDate functions

 .../services/internal/MailChimpServiceImpl.java    | 56 ++++++++++++----------
 1 file changed, 31 insertions(+), 25 deletions(-)

commit e7b09794cb11e95e79f06e854761bbce1a45870c
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 24 10:44:06 2018 +0100

    Change mandatory properties, refactor the isMemberOfMailChimpList function, using the email hash of the visitor instead email

 extensions/unomi-mailchimp/README.md               |  15 ++-
 .../apache/unomi/mailchimp/services/HttpUtils.java |  36 +++---
 .../services/internal/MailChimpServiceImpl.java    | 142 +++++++++++----------
 3 files changed, 103 insertions(+), 90 deletions(-)

commit 19f5f7ad24d4e2d6044ce3fffb7593fd9a37c6a6
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 22 20:22:03 2018 +0100

    Performance Spike
    - Add YourKit configuration by default
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/src/main/resources/bin/setenv            | 10 ++++++++--
 package/src/main/resources/etc/custom.properties |  2 +-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 20b69bf6e61824b60c880392fb26f0ab04460845
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 22 20:19:20 2018 +0100

    UNOMI-133 Re-using consent type identifiers across sites does not work
    - Add scopes on consents
    - For profile map, the hash key is now scope + "/" + typeIdentifier
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/Consent.java    | 28 ++++++++++++++++++++--
 .../main/java/org/apache/unomi/api/Profile.java    |  8 +++++--
 2 files changed, 32 insertions(+), 4 deletions(-)

commit 28097ef329152296bf88320c99f8d24501f11e3c
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Jan 22 19:06:44 2018 +0100

    UNOMI-117 fix issue with new persona never saved

 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af622f8c23addf51e589cafb5167f06aee2e89ab
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 17 17:28:31 2018 +0100

    Updated ReadMe file

 extensions/unomi-mailchimp/README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 10e8d9f0dd32137b2bcb26811a7dc516b339ef34
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 17 15:58:55 2018 +0100

    UNOMI-147 Separator updated to = to <=>

 .../java/org/apache/unomi/sfdc/services/SFDCConfiguration.java    | 4 ++--
 .../org/apache/unomi/sfdc/services/internal/SFDCServiceImpl.java  | 2 +-
 .../services/src/main/resources/org.apache.unomi.sfdc.cfg         | 8 ++++----
 .../unomi/mailchimp/services/internal/MailChimpServiceImpl.java   | 2 +-
 .../src/main/resources/org.apache.unomi.mailchimpconnector.cfg    | 6 +++---
 .../unomi/persistence/spi/PropertyTypedObjectDeserializer.java    | 2 +-
 6 files changed, 12 insertions(+), 12 deletions(-)

commit 3acf022d24e4b7aab568c094ef80306a2c0ae8a8
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 17 11:27:51 2018 +0100

    Add comment, how to configure the cfg file

 .../services/src/main/resources/org.apache.unomi.sfdc.cfg               | 2 ++
 1 file changed, 2 insertions(+)

commit 37becc37beed91c90981bedbfdbd510308605a61
Merge: c03d0a86 7d227ac1
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Jan 16 15:27:23 2018 +0100

    This closes pull request number #42

commit 7d227ac1d6da1eb9965718b0c5c922dee0531381
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Jan 16 15:21:17 2018 +0100

    Review and clean code

 .../sfdc/services/internal/SFDCServiceImpl.java    | 50 +++++++++-------------
 1 file changed, 20 insertions(+), 30 deletions(-)

commit ab530c8c614f73477249c47f3db91c5e8ff6b6d6
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Fri Jan 12 11:19:30 2018 +0100

    change a logger warn to info

 .../java/org/apache/unomi/sfdc/services/internal/SFDCServiceImpl.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c4ec8046876a00ec19381f5860d88f22b2f231a
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Fri Jan 12 10:49:09 2018 +0100

    code cleanup

 .../java/org/apache/unomi/sfdc/services/SFDCConfiguration.java    | 8 ++------
 .../org/apache/unomi/sfdc/services/internal/SFDCServiceImpl.java  | 2 --
 2 files changed, 2 insertions(+), 8 deletions(-)

commit c03d0a86b86a6ff4fa4b6ea08e172e723981bfdc
Merge: 0979f7e6 dd4cb73a
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Jan 11 18:55:28 2018 +0100

    This closes pull request number #40

commit 0979f7e66bfaf395992d9727a0fdd971c4c9917c
Merge: 2fcc1cf1 d8de498a
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Jan 11 18:43:29 2018 +0100

    This closes pull request number #40

commit dd4cb73abbe8f18a27411b3cec970c7d3c80cf9c
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Jan 11 18:14:25 2018 +0100

    Change code after code review

 extensions/unomi-mailchimp/README.md               |  85 +++++++---
 extensions/unomi-mailchimp/services/pom.xml        |   5 +
 .../services/internal/MailChimpServiceImpl.java    | 180 ++++++++++++---------
 .../org.apache.unomi.mailchimpconnector.cfg        |   9 +-
 4 files changed, 180 insertions(+), 99 deletions(-)

commit 2fcc1cf158ee99ab272c9401b92e13e43b26883f
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 10 17:48:31 2018 +0100

    Add entry point in RulesServiceEndPoint to retrieve the whole rule instead of just the metadata

 .../java/org/apache/unomi/api/services/RulesService.java     |  8 ++++++++
 .../java/org/apache/unomi/rest/RulesServiceEndPoint.java     | 12 ++++++++++++
 .../org/apache/unomi/services/services/RulesServiceImpl.java | 11 +++++++++++
 3 files changed, 31 insertions(+)

commit 91acff750c0683c4632f9abba74bbe858d50d9be
Merge: aa8e6f32 2e77a332
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Jan 4 10:52:07 2018 +0100

    Merge branch 'master' of github.com:apache/incubator-unomi into mappingProperties

commit 9b29d94ba0f4826f48cdd005e616728fef936756
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Jan 3 10:50:55 2018 +0100

    Add Consents mapping to sfdc extension

 .../unomi/sfdc/services/SFDCConfiguration.java     | 23 ++++++++++------------
 .../sfdc/services/internal/SFDCServiceImpl.java    |  3 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 ++--
 .../src/main/resources/org.apache.unomi.sfdc.cfg   |  1 +
 4 files changed, 14 insertions(+), 17 deletions(-)

commit a459cf3f2137af6bc621700aa30b9373cea1eb2f
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Dec 27 15:23:55 2017 +0100

    Create a mapping between Apache Unomi consent and SalesForce. The visitor need to accept consent before

 .../unomi/sfdc/services/SFDCConfiguration.java     | 12 +++++++
 .../sfdc/services/internal/SFDCServiceImpl.java    | 40 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 ++
 3 files changed, 54 insertions(+)

commit 2e77a33231f5cc3c542a9dcdc91769ef263d43f6
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 18 11:57:55 2017 +0100

    UNOMI-144 Add to list action overwrites existing profile lists
    - Fix by making sure we read the existing lists and merge them with the new ones.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/lists/actions/AddToListsAction.java      | 32 +++++++++++++++++-----
 1 file changed, 25 insertions(+), 7 deletions(-)

commit f074cb186ea734ac5cab3dbe53b9e4e8f68a1c8b
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Dec 15 11:43:13 2017 +0100

    UNOMI-137 add comment with option auto start in setenv.sh

 setenv.sh | 2 ++
 1 file changed, 2 insertions(+)

commit aa8e6f32017d3bdbb5cb64b0d2f0efa0511b25d1
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Dec 13 17:46:02 2017 +0100

    Changed MailChimpResult for unsubscribe function and added a logger if the visitor isn't in the MailChimp list

 .../mailchimp/actions/UnsubscribeVisitorFromMailChimpListAction.java | 4 ++++
 .../unomi/mailchimp/services/internal/MailChimpServiceImpl.java      | 5 ++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit fecf04338f41519bac87485be1b64f5c0fbf502d
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Dec 13 17:27:38 2017 +0100

    Optimized code and changed the mapping logic

 extensions/unomi-mailchimp/README.md               | 19 ++++-
 .../unomi/mailchimp/services/MailChimpService.java |  2 +-
 .../services/internal/MailChimpServiceImpl.java    | 93 ++++++++++++----------
 .../org.apache.unomi.mailchimpconnector.cfg        |  6 +-
 4 files changed, 69 insertions(+), 51 deletions(-)

commit b22664dde4917d1775cef354b10c2edc346fb775
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Fri Dec 8 17:48:35 2017 +0100

    Change after code review

 extensions/unomi-mailchimp/README.md               |   4 +-
 extensions/unomi-mailchimp/pom.xml                 |   2 +-
 .../unomi/mailchimp/services/MailChimpResult.java  |   1 +
 .../unomi/mailchimp/services/MailChimpService.java |   2 +-
 .../services/internal/MailChimpServiceImpl.java    | 149 ++++++++++-----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   7 +-
 .../org.apache.unomi.mailchimpconnector.cfg        |   4 +-
 7 files changed, 83 insertions(+), 86 deletions(-)

commit d8de498a67406407cccef86c0da9346812d9eaed
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Dec 7 15:25:46 2017 +0100

    Added a verification (to lowerCase) when checking the visitor if is a member list.

 .../services/internal/MailChimpServiceImpl.java    | 36 ++++++++--------------
 1 file changed, 13 insertions(+), 23 deletions(-)

commit 7ff5b450e5869ac34dac46afa7e07195931da3a8
Merge: e0e890fc aebf1257
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Dec 6 16:22:11 2017 +0100

    This closes pull request number #38

commit e0e890fc13b6deb3d2d7337d157cba5f30cbfd6d
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 6 09:16:27 2017 +0100

    - Add instructions on how to start the Unomi packages
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/index.md                                  | 7 ++++---
 src/site/markdown/versions/master/building-and-deploying.md | 4 ++++
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 97b123e061a25ce4a38e65756a29386e2d0b2bae
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 5 14:33:07 2017 +0100

    UNOMI-136 Replace JMX statistics collecting with Karaf Cellar events
    - Remove JMX configuration no longer needed
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/versions/master/configuration.md | 9 ---------
 1 file changed, 9 deletions(-)

commit 58685c6c1b746a1704514d23a2213d7900fe0461
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Fri Dec 1 16:33:05 2017 +0100

    Externalized mapping function and change the cfg file by adding option to map or not

 .../unomi/mailchimp/services/MailChimpService.java |  13 +-
 .../services/internal/MailChimpServiceImpl.java    | 238 +++++++++++----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 .../org.apache.unomi.mailchimpconnector.cfg        |   3 +-
 4 files changed, 145 insertions(+), 110 deletions(-)

commit 8a0e83f8c2fe2f273dfba22a4107d7e897e9acb6
Author: Serge Huber <shuber@apache.org>
Date:   Fri Dec 1 14:44:28 2017 +0100

    UNOMI-129 Update login integration example to use Unomi key since the login event is now protected by default.
    - Also updated thirdparty server documentation to reflect this change.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../login-integration/src/main/webapp/javascript/login-example.js    | 3 +++
 src/site/markdown/versions/master/configuration.md                   | 5 +++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit b70cda6669576211fc00dfe1cf350f112ed6ed46
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Dec 1 11:16:02 2017 +0100

    Avoid re-consuming the same file when it fails

 .../org/apache/unomi/router/core/processor/LineSplitProcessor.java | 6 +++---
 .../router/core/route/ProfileImportFromSourceRouteBuilder.java     | 6 +++++-
 .../unomi/router/core/route/ProfileImportOneShotRouteBuilder.java  | 7 +++++--
 3 files changed, 13 insertions(+), 6 deletions(-)

commit 6835957b9e942943e55b204612f35107c89c8711
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Fri Dec 1 10:50:40 2017 +0100

    Added features that can map visitor properties to MailChimp properties.
    Properties can be added by the cfg file. the structure is tag:name:type

 .../services/internal/MailChimpServiceImpl.java    | 116 ++++++++++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 .../org.apache.unomi.mailchimpconnector.cfg        |   1 +
 3 files changed, 116 insertions(+), 3 deletions(-)

commit bd9b3e1bee7c345b6595364b34603a50706333b6
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Nov 30 17:32:08 2017 +0100

    UNOMI-143 revert commit 046fc71 and add logger debug

 .../unomi/services/services/EventServiceImpl.java       |  1 +
 .../main/java/org/apache/unomi/web/ContextServlet.java  |  2 +-
 .../org/apache/unomi/web/EventsCollectorServlet.java    |  2 +-
 wab/src/main/java/org/apache/unomi/web/HttpUtils.java   | 17 +----------------
 4 files changed, 4 insertions(+), 18 deletions(-)

commit 046fc71cb938c36b71684097b84116ddefd52a28
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Nov 30 13:57:01 2017 +0100

    UNOMI-143 improve RemoteAddr and make sure we are using the same method everywhere in unomi-wab

 .../main/java/org/apache/unomi/web/ContextServlet.java  |  2 +-
 .../org/apache/unomi/web/EventsCollectorServlet.java    |  2 +-
 wab/src/main/java/org/apache/unomi/web/HttpUtils.java   | 17 ++++++++++++++++-
 3 files changed, 18 insertions(+), 3 deletions(-)

commit aebf1257549cfde0d8eee4dbb5eb7a4bf92f315a
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Nov 29 17:45:20 2017 +0100

    DMF-2098 changed one logger position of "Checking if we have a contact for identifier"

 .../java/org/apache/unomi/sfdc/services/internal/SFDCServiceImpl.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d43e3644d2af8fb414cb503cc9298019dc0da614
Merge: 76433205 96e5ca6c
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 29 16:32:11 2017 +0100

    This closes pull request number #37

commit 96e5ca6c0b6de74800d83cf942c24d7c9e2dd597
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Nov 29 16:19:14 2017 +0100

    Add module deleted by mistake in pull request 35

 extensions/pom.xml                                 |   1 +
 extensions/weather-update/README.md                |  42 +++
 extensions/weather-update/core/pom.xml             |  99 +++++++
 .../weatherupdate/actions/WeatherUpdateAction.java | 288 +++++++++++++++++++++
 .../META-INF/cxs/actions/UpdateWeatherAction.json  |  15 ++
 .../properties/sessions/weather/weatherLike.json   |  14 +
 .../properties/sessions/weather/weatherTemp.json   |  14 +
 .../sessions/weather/weatherWindDirection.json     |  14 +
 .../sessions/weather/weatherWindSpeed.json         |  14 +
 .../sessions/weatherSessionProperties.json         |   5 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  44 ++++
 .../core/src/main/resources/messages_en.properties |  18 ++
 .../resources/org.apache.unomi.weatherUpdate.cfg   |  19 ++
 extensions/weather-update/karaf-kar/pom.xml        |  81 ++++++
 .../karaf-kar/src/main/feature/feature.xml         |  28 ++
 extensions/weather-update/pom.xml                  |  36 +++
 16 files changed, 732 insertions(+)

commit 76433205c33007c77c4aef89ec220cadb70feb6e
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 29 15:52:10 2017 +0100

    UNOMI-142 The JSON property "requireSegments" is misspelt in http://unomi.apache.org/versions/1.1/getting-started.html
    - Fix typos
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/versions/1.1/getting-started.md   | 4 ++--
 src/site/markdown/versions/1.2/twitter-sample.md    | 4 ++--
 src/site/markdown/versions/master/twitter-sample.md | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 845eeb51465a712b7b62400704efae3cd0d10204
Merge: b170ca4e ea3a41cb
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 29 15:39:33 2017 +0100

    This closes pull request number #35

commit ea3a41cbd072b4073ad04d4d0ad59caf705df554
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Nov 29 14:13:44 2017 +0100

    Changed functions name, added errors messages, and optimized the code

 ...n.java => AddVisitorToMailChimpListAction.java} |   4 +-
 ...a => RemoveVisitorFromMailChimpListAction.java} |   4 +-
 ...UnsubscribeVisitorFromMailChimpListAction.java} |   4 +-
 ...n.json => AddVisitorToMailChimpListAction.json} |   4 +-
 ...n => RemoveVisitorFromMailChimpListAction.json} |   4 +-
 ...UnsubscribeVisitorFromMailChimpListAction.json} |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  12 +-
 .../apache/unomi/mailchimp/services/HttpUtils.java |  10 +-
 .../services/internal/MailChimpServiceImpl.java    | 153 ++++++++-------------
 9 files changed, 83 insertions(+), 116 deletions(-)

commit b170ca4ed1aeb31d09af9cde8b7ab6c72f1251fa
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 28 12:28:18 2017 +0100

    UNOMI-135 : Change profile file name

 wab/src/main/java/org/apache/unomi/web/ClientServlet.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit fa952d0dcbf2a819bbc83a7274ddb8d5b1836f8a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 28 12:10:13 2017 +0100

    UNOMI-133 : Merge consents when merging profiles

 .../services/services/ProfileServiceImpl.java      | 32 ++++++++++------------
 1 file changed, 15 insertions(+), 17 deletions(-)

commit 89672bddacbbc372dad4ae8ce8ff93ab9d6bb629
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Nov 23 18:36:02 2017 +0100

    Added new errors handlers for Http requests

 .../java/org/apache/unomi/mailchimp/services/HttpUtils.java    | 10 +++++-----
 .../mailchimp/services/internal/MailChimpServiceImpl.java      |  7 +++----
 2 files changed, 8 insertions(+), 9 deletions(-)

commit b2b1b312ef02e5f8bb8214202ea0166a57610637
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Nov 23 16:36:27 2017 +0100

    Added 3 features, add a visitor to a MailChimp list, remove a visitor from MailChimp list and unsubscribe a visitor from MailChimp list

 extensions/pom.xml                                 |   1 -
 extensions/unomi-mailchimp/README.md               |  52 ++++
 .../unomi-mailchimp/{core => actions}/pom.xml      |   9 +-
 .../actions/AddVisitorToMailChimpListsAction.java  |  55 ++++
 .../RemoveVisitorFromMailChimpListsAction.java}    |  32 ++-
 ...UnsubscribeVisitorFromMailChimpListsAction.java |  59 ++++
 .../actions/AddVisitorToMailChimpListsAction.json} |   8 +-
 .../RemoveVisitorFromMailChimpListsAction.json     |  20 ++
 ...UnsubscribeVisitorFromMailChimpListsAction.json |  20 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  28 +-
 extensions/unomi-mailchimp/karaf-kar/pom.xml       |   8 +-
 .../karaf-kar/src/main/feature/feature.xml         |   6 +-
 extensions/unomi-mailchimp/pom.xml                 |   6 +-
 extensions/unomi-mailchimp/rest/pom.xml            |   6 +-
 .../{MCEndPoint.java => MailChimpEndPoint.java}    |  35 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  10 +-
 extensions/unomi-mailchimp/services/pom.xml        |  15 +-
 .../apache/unomi/mailchimp/services/HttpUtils.java | 166 +++++------
 ...{MailchimpService.java => MailChimpResult.java} |  19 +-
 .../unomi/mailchimp/services/MailChimpService.java |  62 +++++
 .../services/internal/MailChimpServiceImpl.java    | 293 ++++++++++++++++++++
 .../services/internal/MailchimpServiceImpl.java    | 230 ----------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  11 +-
 .../org.apache.unomi.mailchimpconnector.cfg        |   3 +-
 extensions/weather-update/.gitignore               |   8 -
 extensions/weather-update/README.md                |  42 ---
 extensions/weather-update/core/pom.xml             |  99 -------
 .../weatherupdate/actions/WeatherUpdateAction.java | 305 ---------------------
 .../META-INF/cxs/actions/UpdateWeatherAction.json  |  15 -
 .../properties/sessions/weather/weatherLike.json   |  14 -
 .../properties/sessions/weather/weatherTemp.json   |  14 -
 .../sessions/weather/weatherWindDirection.json     |  14 -
 .../sessions/weather/weatherWindSpeed.json         |  14 -
 .../sessions/weatherSessionProperties.json         |   5 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  44 ---
 .../core/src/main/resources/messages_en.properties |  18 --
 .../resources/org.apache.unomi.weatherUpdate.cfg   |  19 --
 extensions/weather-update/karaf-kar/pom.xml        |  81 ------
 .../karaf-kar/src/main/feature/feature.xml         |  28 --
 extensions/weather-update/pom.xml                  |  36 ---
 40 files changed, 760 insertions(+), 1150 deletions(-)

commit 9f1bab437fd93826dc54d318ed00d3b2e3161437
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 23 15:37:33 2017 +0100

    UNOMI-133 Consent grant renaming to consent Status
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/Consent.java    | 78 +++++++++++-----------
 .../api/{ConsentGrant.java => ConsentStatus.java}  |  8 +--
 .../main/java/org/apache/unomi/api/Profile.java    |  6 +-
 .../org/apache/unomi/itests/ModifyConsentIT.java   |  6 +-
 .../baseplugin/actions/ModifyConsentAction.java    |  2 +-
 .../conditions/modifyConsentEventCondition.json    |  8 +--
 .../services/services/ProfileServiceImpl.java      |  2 +-
 7 files changed, 55 insertions(+), 55 deletions(-)

commit 5653606cfdab498d499a218014ca4f12d4a24175
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 22 17:39:01 2017 +0100

    UNOMI-140 : Use system tag "personalIdentifierProperties" in privacy service (REVIEW)

 .../org/apache/unomi/privacy/internal/PrivacyServiceImpl.java    | 9 +++------
 .../services/src/main/resources/OSGI-INF/blueprint/blueprint.xml | 2 +-
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 9e5772630b61ff773d2dbe647e1c4ac9ea9a083d
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 22 17:11:47 2017 +0100

    UNOMI-133 : Merge consents when merging profiles

 .../services/services/ProfileServiceImpl.java      | 64 +++++++++++++++-------
 1 file changed, 44 insertions(+), 20 deletions(-)

commit 67055a778e3c26f87b95a455de69d8bed808e2f5
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 22 12:27:49 2017 +0100

    UNOMI-140 : Use system tag "personalIdentifierProperties" in privacy service

 .../apache/unomi/api/services/ProfileService.java  |  2 ++
 extensions/privacy-extension/services/pom.xml      | 26 ------------------
 .../unomi/privacy/internal/PrivacyServiceImpl.java | 31 +++++++++++++---------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +------
 .../main/resources/org.apache.unomi.privacy.cfg    | 18 -------------
 .../rest/AbstractConfigurationServiceEndpoint.java |  1 -
 kar/src/main/feature/feature.xml                   |  1 -
 .../services/services/ProfileServiceImpl.java      |  2 --
 8 files changed, 21 insertions(+), 70 deletions(-)

commit be70e69522ff8404cf8f51fb94dea3235251a969
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 20 13:45:16 2017 +0100

    UNOMI-124 Introduction of private (internal address)
    - Default to using HTTP for the public address to avoid issues when testing because by default we use a self-signed certificate that most (modern) browser will reject by default.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 services/src/main/resources/org.apache.unomi.cluster.cfg | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 13fb40eb9f71eb2231a989437fe70dcb2728b1aa
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Nov 9 10:59:06 2017 +0100

    Add logs and optimize code

 .../apache/unomi/mailchimp/services/HttpUtils.java |  9 ------
 .../unomi/mailchimp/services/MailchimpService.java |  1 -
 .../services/internal/MailchimpServiceImpl.java    | 37 +++++++---------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 ---
 .../org.apache.unomi.mailchimpconnector.cfg        |  2 --
 5 files changed, 11 insertions(+), 42 deletions(-)

commit 31c3cdcd96a25619b99764afe5e22a810d3dd101
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Nov 9 10:28:10 2017 +0100

    Create an extension to add a visitor to Mailchimp's list.

 extensions/unomi-mailchimp                         |   1 -
 extensions/unomi-mailchimp/core/pom.xml            |  50 +++++
 .../actions/AddToListsMailchimpAction.java         |  40 ++++
 .../cxs/actions/AddToListsMailchimpAction.json     |  20 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  35 +++
 extensions/unomi-mailchimp/karaf-kar/pom.xml       |  82 +++++++
 .../karaf-kar/src/main/feature/feature.xml         |  29 +++
 extensions/unomi-mailchimp/pom.xml                 |  39 ++++
 extensions/unomi-mailchimp/rest/pom.xml            | 118 ++++++++++
 .../apache/unomi/mailchimp/rest/MCEndPoint.java    |  58 +++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  65 ++++++
 extensions/unomi-mailchimp/services/pom.xml        | 118 ++++++++++
 .../apache/unomi/mailchimp/services/HttpUtils.java | 152 +++++++++++++
 .../unomi/mailchimp/services/MailchimpService.java |  31 +++
 .../services/internal/MailchimpServiceImpl.java    | 245 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  45 ++++
 .../org.apache.unomi.mailchimpconnector.cfg        |  19 ++
 17 files changed, 1146 insertions(+), 1 deletion(-)

commit 97deed6baffc8d0397b36aec0c396d77ea1c515b
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Wed Nov 8 18:04:56 2017 +0100

    Create an extension to add a visitor to Mailchimp's list.

 extensions/pom.xml         | 1 +
 extensions/unomi-mailchimp | 1 +
 2 files changed, 2 insertions(+)

commit 4efae4048e6ff48283d642263d37f5bc86a7b116
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Nov 16 18:12:13 2017 +0100

    IT : Change the way oneshot import csv file is created

 .../java/org/apache/unomi/itests/ProfileImportBasicIT.java   | 12 +++++-------
 1 file changed, 5 insertions(+), 7 deletions(-)

commit a4f5137e4adb01b11d3ffe5e783a5bbb346c3def
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Nov 16 18:11:09 2017 +0100

    IT : Change the way oneshot import csv file is created

 .../test/java/org/apache/unomi/itests/BaseIT.java  |  4 +--
 .../apache/unomi/itests/ProfileImportBasicIT.java  | 32 ++++++++++++++++++----
 2 files changed, 28 insertions(+), 8 deletions(-)

commit 241b438f621f0f1c733e87b6f4a2c630e1248beb
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Nov 16 16:24:53 2017 +0100

    IT : Increase waiting time for processing

 itests/src/test/java/org/apache/unomi/itests/ProfileImportBasicIT.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dc30b7d47485700bbbe714ff07efd0372ff9bbd5
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 15 21:20:52 2017 +0100

    UNOMI-133 Add (GDPR) consents to visitor profiles
    - New condition to match consent modification with consent type identifier and grant type
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../conditions/modifyAnyConsentEventCondition.json | 23 ++++++++++++
 .../conditions/modifyConsentEventCondition.json    | 41 ++++++++++++++++++++--
 .../{modifyConsents.json => modifyAnyConsent.json} |  8 ++---
 3 files changed, 65 insertions(+), 7 deletions(-)

commit 5e9ead7f605d0f30b341733b33d902a7179fba88
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 15 18:17:17 2017 +0100

    IT improvement, reactivate basic test

 .../core/processor/ImportConfigByFileNameProcessor.java      | 12 +++++++++++-
 itests/src/test/java/org/apache/unomi/itests/AllITs.java     |  2 +-
 itests/src/test/java/org/apache/unomi/itests/BaseIT.java     |  6 +++---
 .../java/org/apache/unomi/itests/ProfileImportActorsIT.java  |  2 +-
 .../java/org/apache/unomi/itests/ProfileImportBasicIT.java   | 10 ++++------
 .../java/org/apache/unomi/itests/ProfileImportRankingIT.java |  2 +-
 .../java/org/apache/unomi/itests/ProfileImportSurfersIT.java |  6 +++---
 7 files changed, 24 insertions(+), 16 deletions(-)

commit 3732836c0d675458206d01353600d5183fb6ebe8
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 15 17:47:18 2017 +0100

    fix class logger

 .../main/java/org/apache/unomi/services/services/GoalsServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c0610f0bf1351744f7b6c8ae7632eb08d5d73a9
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 15 17:43:51 2017 +0100

    fix class logger

 .../main/java/org/apache/unomi/services/services/EventServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f02e87e59d66b8faec8a8a05aad2aa5172ba6f16
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 15 16:59:05 2017 +0100

    Add debug logger to ease unomi setup

 .../main/java/org/apache/unomi/services/services/EventServiceImpl.java   | 1 +
 1 file changed, 1 insertion(+)

commit 4cf1f64bde952f4349612aaecf04d5a852a4944f
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Nov 13 15:05:44 2017 +0100

    Add amidani as a committer

 pom.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 2f0c9edb2cec76760831047a37c8d8c0ce335234
Merge: 7755bc40 8a76324c
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Nov 13 12:09:47 2017 +0100

    Merge branch 'pr/32'

commit 7755bc4023a663a187e279452c846e82f663e090
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Nov 13 11:58:16 2017 +0100

    Deactivate bootstrap.seccomp for iTest ES

 itests/src/test/java/org/apache/unomi/itests/BaseIT.java | 1 +
 1 file changed, 1 insertion(+)

commit 485a0f1e4b301f5da7897e06b29e51182863f4ba
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 13 11:35:07 2017 +0100

    UNOMI-133 Add (GDPR) consents to visitor profiles
    - Consents are no longer items, as they are only used inside Profiles
    - Added REVOKE ConsentGrant type
    - Added Javadocs on Profile and Consent classes
    - Moved consent tests methods from Profile to Consent
    - New integration test to test consent modifications using events
    - Modified the ModifyConsentAction to only work on a single consent
    - Renamed the modifyConsents event to modifyConsent to operate on a single consent
    - Fixed a small problem with the EventCollector that wasn't specifiying a consent type for it's output.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/Consent.java    | 160 +++++++++++++++++++--
 .../java/org/apache/unomi/api/ConsentGrant.java    |   7 +-
 .../main/java/org/apache/unomi/api/Profile.java    |  70 ++++-----
 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../org/apache/unomi/itests/ModifyConsentIT.java   |  99 +++++++++++++
 plugins/baseplugin/pom.xml                         |   5 +
 ...onsentsAction.java => ModifyConsentAction.java} |  48 +++----
 .../META-INF/cxs/actions/modifyConsentAction.json  |  16 +++
 .../META-INF/cxs/actions/modifyConsentsAction.json |  16 ---
 ...ition.json => modifyConsentEventCondition.json} |   6 +-
 .../META-INF/cxs/rules/modifyConsents.json         |  23 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 .../apache/unomi/web/EventsCollectorServlet.java   |   2 +-
 13 files changed, 365 insertions(+), 94 deletions(-)

commit 38b50c6dabf87cccc65a29323efec41ea517b478
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 10 15:45:44 2017 +0100

    UNOMI-138 Built-in Jetty certificate is not valid anymore
    - Provide a new default keystore that is valid for 10 years and that is by default configured to the localhost site name
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/src/main/resources/etc/keystore | Bin 2236 -> 2290 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 12db34b0a1af390aff369698577f6eb742663e28
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 8 19:40:09 2017 +0100

    Fix IT timing problem with camel routes

 .../test/java/org/apache/unomi/itests/AllITs.java  |   2 -
 .../org/apache/unomi/itests/ProfileExportIT.java   |  31 ++---
 .../apache/unomi/itests/ProfileImportActorsIT.java |  75 +++--------
 .../apache/unomi/itests/ProfileImportBasicIT.java  |  23 +---
 .../unomi/itests/ProfileImportRankingIT.java       |  58 ++-------
 .../unomi/itests/ProfileImportSurfersDeleteIT.java | 109 ----------------
 .../unomi/itests/ProfileImportSurfersIT.java       | 122 +++++++++++++-----
 .../itests/ProfileImportSurfersOverwriteIT.java    | 141 ---------------------
 8 files changed, 133 insertions(+), 428 deletions(-)

commit ed5604f7f548de3034b6d03bfe14759d6b3ae23d
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 8 14:58:58 2017 +0100

    UNOMI-72 Use custom cluster name for ElasticSearch when running integration tests.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 itests/pom.xml                                            |  2 +-
 itests/src/test/java/org/apache/unomi/itests/BaseIT.java  |  1 +
 .../ElasticSearchPersistenceServiceImpl.java              | 15 +++++++++++----
 3 files changed, 13 insertions(+), 5 deletions(-)

commit a027ad33d8529bb1c0555e3034f4d67ba8326f5e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Nov 8 12:23:44 2017 +0100

    UNOMI-137 : Fix migration code

 .../org/apache/unomi/shell/migration/impl/MigrationTo130.java     | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 35330b452641f0ce15090486c838c04e7961f686
Author: Thomas Draier <draier@apache.org>
Date:   Wed Nov 8 11:25:45 2017 +0100

    UNOMI-134 : Avoid NPE when no filter is set on personalization

 .../services/services/PersonalizationServiceImpl.java  | 10 ++++++----
 .../services/sorts/FilterPersonalizationStrategy.java  |  8 +++++---
 .../services/sorts/ScorePersonalizationStrategy.java   | 18 ++++++++++--------
 3 files changed, 21 insertions(+), 15 deletions(-)

commit 150010a288341baea7fa3230a4171f6ae48c1c5b
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 7 18:18:13 2017 +0100

    Re-activate import test

 itests/src/test/java/org/apache/unomi/itests/AllITs.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf3ca3e1c15ca0e819b8a9e798e77fa80b69d1aa
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 7 18:16:51 2017 +0100

    Fix iTests

 .../java/org/apache/unomi/itests/ProfileImportRankingIT.java  | 11 -----------
 .../org/apache/unomi/itests/PropertiesUpdateActionIT.java     |  3 ++-
 2 files changed, 2 insertions(+), 12 deletions(-)

commit 1b701be9994a3a2d27cbc605b4de497c87c25f4b
Author: Thomas Draier <draier@apache.org>
Date:   Tue Nov 7 17:27:16 2017 +0100

    Remove broken test

 itests/src/test/java/org/apache/unomi/itests/AllITs.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57aa6fcece85f0efe8728f6d83a54c110cc1fdf4
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 7 14:16:43 2017 +0100

    UNOMI-137 : Do not store personal identifiers in session objects

 .../services/services/ProfileServiceImpl.java      | 19 ++++++++++++++
 .../cxs/properties/profiles/basic/firstName.json   |  3 ++-
 .../cxs/properties/profiles/basic/lastName.json    |  3 ++-
 .../cxs/properties/profiles/contact/address.json   |  3 ++-
 .../cxs/properties/profiles/contact/email.json     |  3 ++-
 .../properties/profiles/contact/phoneNumber.json   |  3 ++-
 .../cxs/properties/profiles/social/facebookId.json |  3 ++-
 .../cxs/properties/profiles/social/googleid.json   |  3 ++-
 .../cxs/properties/profiles/social/linkedInId.json |  3 ++-
 .../cxs/properties/profiles/social/twitterId.json  |  3 ++-
 .../unomi/shell/migration/impl/MigrationTo130.java | 29 ++++++++++------------
 11 files changed, 50 insertions(+), 25 deletions(-)

commit fdb1dd555e07b11c7537fb65d8ba951453253c45
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Nov 7 14:03:49 2017 +0100

    Compile source/target 1.8

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 94253a95212991d0eb1e78f5b2d3863519e5efe8
Author: Thomas Draier <draier@apache.org>
Date:   Tue Nov 7 11:44:57 2017 +0100

    UNOMI-134 : Fixed test on condition validity

 .../org/apache/unomi/services/services/PersonalizationServiceImpl.java  | 2 +-
 .../org/apache/unomi/services/sorts/ScorePersonalizationStrategy.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7b19dfa064b01cded88726bdc59d53b068a0b29a
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 7 10:39:45 2017 +0100

    UNOMI-136 Replace JMX statistics collecting with Karaf Cellar events
    - Remove JMX system statistics collection
    - Replace with local collection and then sending events to the Karaf Cellar cluster
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      | 187 ++++++++-------------
 .../services/ClusterSystemStatisticsEvent.java     |  43 +++++
 .../ClusterSystemStatisticsEventHandler.java       | 138 +++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  23 ++-
 .../main/resources/org.apache.unomi.cluster.cfg    |   9 +-
 5 files changed, 276 insertions(+), 124 deletions(-)

commit 73ddec1a4b902febb6ff0be8ae8d46bd5f04e57b
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Nov 6 14:58:07 2017 +0100

    UNOMI-130 code typo

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64b8fe8334c9935c127bd316c351b635e00f698d
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Nov 6 14:42:42 2017 +0100

    UNOMI-135 : Allow yaml as text for profile download

 .../main/java/org/apache/unomi/web/ClientServlet.java   | 17 ++++++++++-------
 wab/src/main/resources/org.apache.unomi.web.cfg         |  4 ++--
 2 files changed, 12 insertions(+), 9 deletions(-)

commit 1f350d08c8821aaadb6ca6731784739360e10e01
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 3 20:51:18 2017 +0100

    UNOMI-135 Add a vertical rendering of CSVs
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/web/ClientServlet.java   | 27 ++++++++++++++--------
 1 file changed, 17 insertions(+), 10 deletions(-)

commit a0c5a556fb023c85c6b5814884ec944dc331cf56
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Nov 3 18:19:12 2017 +0100

    UNOMI-135 : review

 wab/pom.xml                                        | 14 ++++++++
 .../java/org/apache/unomi/web/ClientServlet.java   | 37 ++++++++++++++++++++--
 wab/src/main/resources/org.apache.unomi.web.cfg    |  4 +--
 3 files changed, 51 insertions(+), 4 deletions(-)

commit b8ecd0c4d31c51377dd47316f8340eb7815dd602
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Nov 3 18:19:20 2017 +0100

    UNOMI-130 fix issue when update index template

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java           | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 3b1615ec0d8ef68fb9eac57a86321dce4d8bac03
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Nov 3 17:52:07 2017 +0100

    UNOMI-117 fix version of maven-bundle-plugin

 tools/shell-commands/pom.xml | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 5dca643bd6173fc6f4db4bed3773fc48b4f3e47b
Merge: 62494af7 1ed3acd7
Author: Thomas Draier <draier@apache.org>
Date:   Fri Nov 3 16:32:44 2017 +0100

    Merge branch 'scores-filters'

commit 62494af7cac24114d01d032b425246061762ebcc
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Nov 3 16:07:10 2017 +0100

    UNOMI-135 : implement downloadMyProfile operation

 wab/pom.xml                                        |  12 +++
 .../java/org/apache/unomi/web/ClientServlet.java   | 108 +++++++++++++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   5 +-
 wab/src/main/resources/org.apache.unomi.web.cfg    |   4 +-
 4 files changed, 86 insertions(+), 43 deletions(-)

commit c3c678184d8f08619ed23e4450dd3f466dd863fd
Merge: 3e35842f edf38686
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Nov 3 15:41:29 2017 +0100

    Merge branch 'pr/33'

commit 3e35842f44b0982700f7770732bfb1c295b589fa
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Nov 2 17:36:23 2017 +0100

    UNOMI-135 : Create a servlet to carry all operations requested by user

 .../java/org/apache/unomi/web/ClientServlet.java   | 130 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  13 +++
 2 files changed, 143 insertions(+)

commit 1ed3acd795678a8ff356ddb3097824b826f0d2e8
Author: Thomas Draier <draier@apache.org>
Date:   Thu Nov 2 16:47:58 2017 +0100

    UNOMI-134 : Added docs, renamed classes/methods

 .../java/org/apache/unomi/api/ContextRequest.java  | 208 +----------------
 .../java/org/apache/unomi/api/ContextResponse.java |  10 +-
 ...tStrategy.java => PersonalizationStrategy.java} |  10 +-
 .../unomi/api/services/PersonalizationService.java | 260 +++++++++++++++++++++
 .../org/apache/unomi/api/services/SortService.java |  30 ---
 .../services/PersonalizationServiceImpl.java       |  91 ++++++++
 .../unomi/services/services/SortServiceImpl.java   |  65 ------
 ...egy.java => FilterPersonalizationStrategy.java} |  16 +-
 ...egy.java => RandomPersonalizationStrategy.java} |   8 +-
 ...tegy.java => ScorePersonalizationStrategy.java} |  24 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  23 +-
 .../java/org/apache/unomi/web/ContextServlet.java  |  29 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 13 files changed, 421 insertions(+), 357 deletions(-)

commit e78cba3e98d366b30b07cdad175d4dd78fb1ce24
Author: Thomas Draier <draier@apache.org>
Date:   Thu Nov 2 14:44:51 2017 +0100

    UNOMI-134 : Added personalized sorts in request, with sort services and customizable sort strategies

 .../java/org/apache/unomi/api/ContextRequest.java  |  69 ++++++++++++++
 .../java/org/apache/unomi/api/ContextResponse.java |  11 +++
 .../java/org/apache/unomi/api/SortStrategy.java    |  24 +++++
 .../org/apache/unomi/api/services/SortService.java |  30 ++++++
 .../unomi/services/services/SortServiceImpl.java   |  65 +++++++++++++
 .../unomi/services/sorts/FilterSortStrategy.java   |  59 ++++++++++++
 .../unomi/services/sorts/RandomSortStrategy.java   |  35 +++++++
 .../unomi/services/sorts/ScoreSortStrategy.java    | 101 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  41 +++++++++
 .../java/org/apache/unomi/web/ContextServlet.java  |  17 +++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 11 files changed, 453 insertions(+), 1 deletion(-)

commit edf386866bc35282b6f0a57046f39eac39764e5b
Merge: d04794c1 adbb62a5
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Nov 2 09:40:14 2017 +0100

    Merge remote-tracking branch 'upstream/master'

commit adbb62a543f32e2db623f2a4e100d790de6900f0
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 18:23:39 2017 +0100

    UNOMI-129 : review

 .../baseplugin/actions/UpdatePropertiesAction.java | 57 +++++++++++-----------
 1 file changed, 28 insertions(+), 29 deletions(-)

commit f40877191a4b848128d005a52b3687c502caa82b
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 17:56:10 2017 +0100

    UNOMI-128 : Fix import/export config IT

 .../java/org/apache/unomi/itests/ProfileExportIT.java     | 15 +--------------
 .../org/apache/unomi/itests/ProfileImportActorsIT.java    | 15 +--------------
 .../org/apache/unomi/itests/ProfileImportRankingIT.java   | 15 +--------------
 .../unomi/itests/ProfileImportSurfersOverwriteIT.java     | 15 +--------------
 4 files changed, 4 insertions(+), 56 deletions(-)

commit de5dea66154dc8454d89430e23f5fb4ae460ac01
Author: Serge Huber <shuber@apache.org>
Date:   Tue Oct 31 17:23:54 2017 +0100

    UNOMI-133 Add (GDPR) consents to visitor profiles
    - Add new consents object attached to visitor profile
    - Added a new event to update multiple consents
    - Added a condition to match the event
    - Added an action to modify the consents
    
    This is not yet complete we still need a rule to match the event to the action, as well as internal events to be able to react to individual consent changes.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/Consent.java    | 72 ++++++++++++++++++++++
 .../java/org/apache/unomi/api/ConsentGrant.java    | 22 +++++++
 .../java/org/apache/unomi/api/ContextResponse.java | 23 +++++++
 .../main/java/org/apache/unomi/api/Profile.java    | 48 +++++++++++++--
 .../baseplugin/actions/ModifyConsentsAction.java   | 67 ++++++++++++++++++++
 .../META-INF/cxs/actions/modifyConsentsAction.json | 16 +++++
 .../conditions/modifyConsentsEventCondition.json   | 23 +++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 +++
 .../java/org/apache/unomi/web/ContextServlet.java  |  1 +
 9 files changed, 276 insertions(+), 4 deletions(-)

commit 629284e4c7224ef8af8948c33579f868757416a8
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 16:26:22 2017 +0100

    UNOMI-128 : Fix import config IT

 .../unomi/itests/ProfileImportSurfersDeleteIT.java | 25 +---------------------
 .../unomi/itests/ProfileImportSurfersIT.java       | 15 +------------
 2 files changed, 2 insertions(+), 38 deletions(-)

commit 2490bdc39d9e62858ebcf3a7849469405f150924
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 15:08:46 2017 +0100

    UNOMI-129 : Default unomi key and allowed events

 services/src/main/resources/org.apache.unomi.thirdparty.cfg | 6 +++---
 src/site/markdown/versions/master/configuration.md          | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit e7054ad8f6d16aa3fff9383cd13fa142b631c4d2
Author: Serge Huber <shuber@apache.org>
Date:   Tue Oct 31 14:12:40 2017 +0100

    UNOMI-128 Fix unit test compilation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/router/api/services/ImportExportConfigurationService.java | 1 +
 itests/src/test/java/org/apache/unomi/itests/ProfileExportIT.java   | 6 ++++--
 .../test/java/org/apache/unomi/itests/ProfileImportActorsIT.java    | 2 +-
 .../src/test/java/org/apache/unomi/itests/ProfileImportBasicIT.java | 3 +--
 .../test/java/org/apache/unomi/itests/ProfileImportRankingIT.java   | 2 +-
 .../java/org/apache/unomi/itests/ProfileImportSurfersDeleteIT.java  | 2 +-
 .../test/java/org/apache/unomi/itests/ProfileImportSurfersIT.java   | 2 +-
 .../org/apache/unomi/itests/ProfileImportSurfersOverwriteIT.java    | 2 +-
 .../test/java/org/apache/unomi/itests/PropertiesUpdateActionIT.java | 2 +-
 9 files changed, 12 insertions(+), 10 deletions(-)

commit 728296e6a015274a33a271210a0381859689eba5
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 11:15:30 2017 +0100

    UNOMI-129 : review

 .../baseplugin/actions/UpdatePropertiesAction.java | 22 +++-------------------
 1 file changed, 3 insertions(+), 19 deletions(-)

commit d8df65fb1b6db6fa126cbc234e63036691f747ad
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 31 11:15:04 2017 +0100

    Do not force version of provided bundle, remove unused bundle in router feature

 extensions/router/router-karaf-feature/src/main/feature/feature.xml | 2 --
 tools/shell-commands/pom.xml                                        | 4 +---
 2 files changed, 1 insertion(+), 5 deletions(-)

commit b1f5951bc3c4004e2edeb66016d830842f96874f
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Oct 30 05:05:56 2017 +0100

    UNOMI-129 : renamed

 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd1c9fba8dde36a747992e1226aca77909707f64
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Oct 30 04:56:32 2017 +0100

    UNOMI-129 : support persona and systemProperties

 .../router/api/ImportExportConfiguration.java      | 20 ------
 .../src/main/feature/feature.xml                   |  1 -
 .../test/java/org/apache/unomi/itests/AllITs.java  |  2 +-
 ...ActionIT.java => PropertiesUpdateActionIT.java} | 24 ++++----
 .../baseplugin/actions/SetPropertyAction.java      |  8 +--
 ...tiesAction.java => UpdatePropertiesAction.java} | 72 +++++++++++++++-------
 .../cxs/actions/updateProfilePropertiesAction.json | 16 -----
 .../cxs/actions/updatePropertiesAction.json        | 16 +++++
 .../updateProfilePropertiesEventCondition.json     |  6 +-
 .../cxs/rules/updateProfileProperties.json         | 23 -------
 .../META-INF/cxs/rules/updateProperties.json       | 23 +++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 12 files changed, 112 insertions(+), 103 deletions(-)

commit d04794c1b2836a2333de88057ac60e9882c9642d
Author: Dinesh <dinesh.salhotra@ynov.com>
Date:   Thu Oct 26 18:06:50 2017 +0200

    Adding a  feature, A power user can set from the cfg file: if the current profile is a contact on SaleForce otherwise a lead is created.

 .../unomi/sfdc/services/SFDCConfiguration.java     |  33 ++++---
 .../sfdc/services/internal/SFDCServiceImpl.java    | 103 ++++++++++++++-------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   3 +
 .../src/main/resources/org.apache.unomi.sfdc.cfg   |   3 +-
 4 files changed, 95 insertions(+), 47 deletions(-)

commit 3e3c8cce029ad617d8be5d2f3233c91c89349d30
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Oct 25 12:11:59 2017 +0200

    UNOMI-131 create non persisted session and profile in event collector to allow call with new session, add updateProfileProperties event in the list of protected event

 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 wab/pom.xml                                        |   4 +
 .../apache/unomi/web/EventsCollectorServlet.java   | 111 +++++++++++++--------
 3 files changed, 72 insertions(+), 44 deletions(-)

commit f76ef49965df3e5b2e989e582235c7381d7b1afb
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 24 19:05:39 2017 +0200

    UNOMI-128 : Refactoring save/update/delete running import/export config

 .../unomi/router/api/ImportExportConfiguration.java  | 20 ++++++++++++++++++++
 .../services/ImportExportConfigurationService.java   |  2 +-
 .../processor/ExportRouteCompletionProcessor.java    |  2 +-
 .../processor/ImportRouteCompletionProcessor.java    |  2 +-
 .../router/core/processor/LineSplitProcessor.java    |  3 ++-
 .../route/ProfileImportFromSourceRouteBuilder.java   |  4 +++-
 .../rest/ExportConfigurationServiceEndPoint.java     |  2 +-
 .../rest/ImportConfigurationServiceEndPoint.java     |  2 +-
 .../services/ExportConfigurationServiceImpl.java     | 12 +++++++-----
 .../services/ImportConfigurationServiceImpl.java     | 14 +++++++-------
 .../router/services/ProfileImportServiceImpl.java    |  2 +-
 11 files changed, 45 insertions(+), 20 deletions(-)

commit faa9175ca785c74c5bc46ebb3ebe46a433489f16
Author: Serge Huber <shuber@apache.org>
Date:   Fri Oct 20 16:27:32 2017 +0200

    Clarify ElasticSearch version requirements for master and 1.2 versions of Apache Unomi.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../versions/1.2/building-and-deploying.md         | 24 ++++++++++++++--------
 .../versions/master/building-and-deploying.md      |  2 +-
 2 files changed, 17 insertions(+), 9 deletions(-)

commit b190a4f7712d3c44fea74bdfb8eec44a88c295f8
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Oct 18 19:35:37 2017 +0200

    UNOMI-128 : Refactoring save/update/delete running import/export config

 buildAndRun.sh                                     |  2 +-
 buildAndRunNoTests.sh                              |  2 +-
 .../unomi/router/api/IRouterCamelContext.java}     | 26 ++-----
 .../services/ImportExportConfigurationService.java | 16 +++--
 extensions/router/router-core/pom.xml              |  6 --
 .../router/core/context/RouterCamelContext.java    | 24 +++----
 .../core/processor/ConfigDeleteProcessor.java      | 43 ------------
 .../core/route/ConfigUpdateRouteBuilder.java       | 80 ----------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 19 -----
 .../rest/AbstractConfigurationServiceEndpoint.java |  4 +-
 .../rest/ExportConfigurationServiceEndPoint.java   | 66 +-----------------
 .../rest/ImportConfigurationServiceEndPoint.java   | 66 +-----------------
 extensions/router/router-service/pom.xml           |  5 --
 .../services/AbstractConfigurationServiceImpl.java |  8 ++-
 .../services/ExportConfigurationServiceImpl.java   | 16 +++++
 .../services/ImportConfigurationServiceImpl.java   | 18 +++++
 16 files changed, 77 insertions(+), 324 deletions(-)

commit 79ba27236e3168798ffa234c07d4d7c6beeceb5a
Author: Serge Huber <shuber@apache.org>
Date:   Tue Oct 17 17:08:53 2017 +0200

    UNOMI-130 Use index templates to create new indexes with default mappings instead of Java code
    - Replace manual index creation for monthly indexes
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 209 ++++++++++-----------
 1 file changed, 95 insertions(+), 114 deletions(-)

commit 8de0f782b81563ab1a1bc2b18b9f7f9132f3222d
Author: Serge Huber <shuber@apache.org>
Date:   Mon Oct 16 16:37:32 2017 +0200

    Add a troubleshooting section to the salesforce documentation.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/versions/1.2/salesforce-connector.md | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 097c109d773515c364b4ea83bbbda518b52367cf
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Oct 16 12:14:24 2017 +0200

    UNOMI-129 : Make sure even properties that have no type are still updated

 .../baseplugin/actions/SetPropertyAction.java      |  2 +-
 .../actions/UpdateProfilePropertiesAction.java     | 23 ++++++++++++----------
 2 files changed, 14 insertions(+), 11 deletions(-)

commit fe4d27b8931331610c7f920064d956ee2a540e92
Author: Serge Huber <shuber@apache.org>
Date:   Fri Oct 13 17:07:26 2017 +0200

    UNOMI-129 Restore session storage in setPropertyAction
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../baseplugin/actions/SetPropertyAction.java      | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit 7c74620182be7c8454489a87014bb5154cdd5a9e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Oct 12 18:30:51 2017 +0200

    UNOMI-129 : Add integration tests to validate functionality of profile property update event

 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../itests/ProfilePropertiesUpdateActionIT.java    | 114 +++++++++++++++++++++
 .../org/apache/unomi/itests/ProfileServiceIT.java  |   2 +-
 .../actions/UpdateProfilePropertiesAction.java     |   3 +-
 4 files changed, 119 insertions(+), 3 deletions(-)

commit 5d7a1cd3557a2e44bab48eb55b1580c2acd8bc82
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Oct 12 17:51:37 2017 +0200

    UNOMI-129 : Typo

 .../src/main/resources/org.apache.unomi.persistence.elasticsearch.cfg   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b33cdaee66d9225a4f396e4e9e8abef405b83ea2
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Oct 12 17:27:43 2017 +0200

    UNOMI-129 : Modify SetPropertyAction to use UpdateProfilePropertiesAction

 .../unomi/persistence/spi/PropertyHelper.java      |  2 +-
 .../baseplugin/actions/SetPropertyAction.java      | 21 ++++++++++--
 .../actions/UpdateProfilePropertiesAction.java     | 38 +++++++++++++---------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 ++-
 4 files changed, 46 insertions(+), 19 deletions(-)

commit 64d109ef160626b819e3c29f58a0941d1dd13f47
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Oct 12 14:46:29 2017 +0200

    UNOMI-129 : Allow multiple profile properties Add/Update/Delete through an event

 .../unomi/persistence/spi/PropertyHelper.java      | 59 ++++++++++++++--------
 .../actions/UpdateProfilePropertiesAction.java     | 22 +++++---
 .../cxs/actions/updateProfilePropertiesAction.json |  4 +-
 3 files changed, 55 insertions(+), 30 deletions(-)

commit 97df6d1cd263161effa4f1b0e4dd755508ce2245
Author: Serge Huber <shuber@apache.org>
Date:   Thu Oct 12 14:17:35 2017 +0200

    UNOMI-104 Upgrade ElasticSearch support to 5.6
    - Upgrade ES support to 5.6
    - Update documentation
    - Add new document on how to migrate ES
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../test/java/org/apache/unomi/itests/BaseIT.java  |  3 +-
 persistence-elasticsearch/core/pom.xml             |  2 +
 .../ElasticSearchPersistenceServiceImpl.java       | 19 +++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 .../org.apache.unomi.persistence.elasticsearch.cfg |  3 +-
 ...eoLocationByPointSessionConditionEvaluator.java |  2 +-
 pom.xml                                            |  2 +-
 src/site/markdown/index.md                         | 13 +++---
 src/site/markdown/main.md                          |  4 ++
 src/site/markdown/migrating-elasticsearch.md       | 50 ++++++++++++++++++++++
 .../versions/master/building-and-deploying.md      | 24 +++++++----
 11 files changed, 91 insertions(+), 35 deletions(-)

commit 9742f7bb8e8ac017488eb304f54c153ad2f12104
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Oct 11 18:12:38 2017 +0200

    UNOMI-129 : Allow multiple profile properties Add/Update/Delete through an event

 .../org.apache.unomi.persistence.elasticsearch.cfg |   2 +-
 .../unomi/persistence/spi/PropertyHelper.java      |  15 ++-
 .../actions/AllEventToProfilePropertiesAction.java |  12 +--
 .../actions/EvaluateProfileAgeAction.java          |   4 +-
 .../actions/EventToProfilePropertyAction.java      |   7 --
 .../actions/SetEventOccurenceCountAction.java      |  12 +--
 .../baseplugin/actions/SetPropertyAction.java      |  18 +---
 .../actions/UpdateProfilePropertiesAction.java     | 105 +++++++++++++++++++++
 .../cxs/actions/updateProfilePropertiesAction.json |  18 ++++
 .../updateProfilePropertiesEventCondition.json     |  23 +++++
 .../cxs/rules/updateProfileProperties.json         |  23 +++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  17 ++--
 12 files changed, 207 insertions(+), 49 deletions(-)

commit 759aab52cac2108e7d378584cd40ae097cd64b8c
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 9 17:12:50 2017 +0200

    UNOMI-117 update javadoc

 .../org/apache/unomi/api/services/DefinitionsService.java   | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit e25c3f903001cab6b96d8d88f02f942656077782
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 9 17:11:18 2017 +0200

    UNOMI-117 fix issue with condition type searched by tag, move to system tag

 .../unomi/api/services/DefinitionsService.java     | 13 ++++++++
 .../services/services/DefinitionsServiceImpl.java  | 35 ++++++++++++++++++++++
 .../services/services/ProfileServiceImpl.java      |  4 +--
 .../unomi/services/services/RulesServiceImpl.java  | 14 ++++-----
 .../services/services/SegmentServiceImpl.java      |  2 +-
 .../unomi/shell/migration/impl/MigrationTo130.java | 15 +++-------
 6 files changed, 62 insertions(+), 21 deletions(-)

commit e68f617bf6d00b5f3bb3bc3aaec38088ec83943f
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Oct 9 15:44:10 2017 +0200

    UNOMI-117 fix integration test

 .../src/test/java/org/apache/unomi/itests/ProfileImportActorsIT.java  | 4 ++--
 .../src/test/java/org/apache/unomi/itests/ProfileImportRankingIT.java | 4 ++--
 .../src/test/java/org/apache/unomi/itests/ProfileImportSurfersIT.java | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit c0d31fed585601b1150d7adae9ad8dfa01feeded
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Oct 6 19:23:31 2017 +0200

    UNOMI-128 : Handle case where internalAddress is not valid/reachable

 extensions/router/router-rest/pom.xml              |  5 +++
 .../rest/AbstractConfigurationServiceEndpoint.java | 11 ++++--
 .../rest/ExportConfigurationServiceEndPoint.java   | 39 +++++++++++++++------
 .../rest/ImportConfigurationServiceEndPoint.java   | 40 ++++++++++++++++------
 4 files changed, 73 insertions(+), 22 deletions(-)

commit dc04443c024c89b1864168d88162467841fe5b42
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 6 15:41:22 2017 +0200

    UNOMI-117 fix version after merge

 itests/pom.xml                                            | 2 +-
 performance-tests/pom.xml                                 | 2 +-
 samples/trainingplugin/pom.xml                            | 4 ++--
 src/site/markdown/versions/master/salesforce-connector.md | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit abffc918eafaab053620ba7713c3227216dbc9d1
Merge: 8baf6269 6a01edc8
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 6 15:33:06 2017 +0200

    [jgitflow-maven-plugin]merging 'feature-UNOMI-117' into 'master'

commit 6a01edc8bffe0b54930a838d60db228039f7f509
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 6 15:33:04 2017 +0200

    [jgitflow-maven-plugin]updating poms for unomi_117 version

 api/pom.xml                                       |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 +++---
 extensions/geonames/services/pom.xml              |  8 +++---
 extensions/lists-extension/actions/pom.xml        |  8 +++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 +++---
 extensions/lists-extension/services/pom.xml       |  8 +++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 +++---
 extensions/privacy-extension/services/pom.xml     |  8 +++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++---
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++----
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 +++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++---
 kar/pom.xml                                       | 32 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 package/pom.xml                                   |  6 ++---
 persistence-elasticsearch/core/pom.xml            |  6 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++---
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++---
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++---
 pom.xml                                           |  2 +-
 rest/pom.xml                                      |  6 ++---
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  6 ++---
 tools/pom.xml                                     |  5 ++--
 tools/shell-commands/pom.xml                      |  5 ++--
 wab/pom.xml                                       |  6 ++---
 46 files changed, 119 insertions(+), 121 deletions(-)

commit ccc3c2c7058a310263a46bd51ad8da6f8e2b79e2
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Oct 6 15:09:38 2017 +0200

    UNOMI-117 fix javadoc, add bulk entry point to update property type

 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 25 ++++++++++++++++++----
 1 file changed, 21 insertions(+), 4 deletions(-)

commit f479d8f5db528357db2dd0151b7fd4a98e3fd6ff
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Oct 5 16:54:08 2017 +0200

    UNOMI-117 apply changes after review from @shuber

 .../src/test/scala/unomi/AdminScenario.scala       |  8 +-
 .../elasticsearch/ESCustomObjectMapper.java        |  1 +
 .../persistence/elasticsearch/ESItemMixIn.java     |  1 +
 .../apache/unomi/shell/migration/Migration.java    | 16 ++++
 .../unomi/shell/migration/impl/MigrationTo130.java | 90 +++++++++++-----------
 .../shell/services/UnomiManagementService.java     |  9 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 7 files changed, 78 insertions(+), 51 deletions(-)

commit 8baf6269140f1b4e4176148ddd8f083f256d4601
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Oct 3 18:46:59 2017 +0200

    UNOMI-128 : Deleting an import/export config does not stop running one

 .../router/core/context/RouterCamelContext.java    |  2 +-
 .../core/processor/ConfigDeleteProcessor.java      | 43 ++++++++++++++++++++++
 .../core/route/ConfigUpdateRouteBuilder.java       | 24 ++++++++----
 .../rest/AbstractConfigurationServiceEndpoint.java |  5 +--
 .../rest/ExportConfigurationServiceEndPoint.java   | 25 +++++++++++++
 .../rest/ImportConfigurationServiceEndPoint.java   | 27 +++++++++++++-
 6 files changed, 112 insertions(+), 14 deletions(-)

commit cc8c14d10c8743aaca4b8acad2f79911c32d0252
Author: Serge Huber <shuber@apache.org>
Date:   Tue Oct 3 13:26:50 2017 +0200

    UNOMI-127 Send an event when a profile is anonymized
    This commit contains the following changes:
    - Improved privacy service Javadoc (not yet complete)
    - Add the possibility to pass a scope to the anonymizeProfile and anonymousBrowsing REST endpoints
    - Added a "anonymizeProfile" event generated by the anonymizeProfile implementation.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../apache/unomi/api/services/PrivacyService.java  | 100 ++++++++++++++++++++-
 .../unomi/lists/actions/AddToListsAction.java      |   2 +-
 .../unomi/privacy/rest/PrivacyServiceEndPoint.java |  13 ++-
 .../unomi/privacy/internal/PrivacyServiceImpl.java |  18 ++--
 .../actions/MergeProfilesOnPropertyAction.java     |   2 +-
 5 files changed, 116 insertions(+), 19 deletions(-)

commit e16a0bc30ca08ef001d21461cc4b887b39058e3d
Author: Serge Huber <shuber@apache.org>
Date:   Mon Oct 2 10:25:40 2017 +0200

    Update documentation for release 1.2.0-incubating
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/main.md                          |  13 +-
 .../versions/1.2/building-and-deploying.md         | 217 +++++++++++
 src/site/markdown/versions/1.2/clustering.md       |  66 ++++
 src/site/markdown/versions/1.2/concepts.md         | 209 +++++++++++
 src/site/markdown/versions/1.2/configuration.md    | 310 ++++++++++++++++
 src/site/markdown/versions/1.2/connectors.md       |  26 ++
 .../markdown/versions/1.2/custom-extensions.md     | 369 +++++++++++++++++++
 src/site/markdown/versions/1.2/getting-started.md  | 107 ++++++
 src/site/markdown/versions/1.2/login-sample.md     |  56 +++
 .../markdown/versions/1.2/salesforce-connector.md  | 156 ++++++++
 src/site/markdown/versions/1.2/samples.md          |  23 ++
 src/site/markdown/versions/1.2/twitter-sample.md   | 403 +++++++++++++++++++++
 .../markdown/versions/1.2/weather-update-sample.md |  19 +
 13 files changed, 1973 insertions(+), 1 deletion(-)

commit 003f8e9c866b7fb3301ba95a1329b525938ff4ad
Author: dgaillard <dgaillard@jahia.com>
Date:   Sat Sep 30 11:19:50 2017 +0200

    UNOMI-117 fix issue with version not present in some object

 .../org/apache/unomi/services/services/DefinitionsServiceImpl.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6a4a7e60e70e5a0bf078c5d21e77b12d26765929
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 29 17:26:36 2017 +0200

    UNOMI-117 move tags to system tags in json files, fix issue with entry point generating a 500 instead of not found or null

 .../src/main/resources/META-INF/cxs/actions/addToLists.json    |  4 ++--
 .../resources/META-INF/cxs/actions/sfdcCreateOrUpdateLead.json |  4 ++--
 .../META-INF/cxs/actions/sfdcUpdateProfileFromLead.json        |  4 ++--
 .../resources/META-INF/cxs/actions/UpdateWeatherAction.json    |  6 +++---
 .../META-INF/cxs/properties/sessions/weather/weatherLike.json  |  2 +-
 .../META-INF/cxs/properties/sessions/weather/weatherTemp.json  |  2 +-
 .../cxs/properties/sessions/weather/weatherWindDirection.json  |  2 +-
 .../cxs/properties/sessions/weather/weatherWindSpeed.json      |  2 +-
 .../cxs/actions/allEventToProfilePropertiesAction.json         |  2 +-
 .../META-INF/cxs/actions/evaluateProfileAgeAction.json         |  2 +-
 .../META-INF/cxs/actions/evaluateProfileSegmentsAction.json    |  2 +-
 .../META-INF/cxs/actions/eventToProfilePropertyAction.json     |  2 +-
 .../META-INF/cxs/actions/mergeProfilesOnPropertyAction.json    |  2 +-
 .../main/resources/META-INF/cxs/actions/sendEventAction.json   |  2 +-
 .../META-INF/cxs/actions/setEventOccurenceCountAction.json     |  2 +-
 .../main/resources/META-INF/cxs/actions/setPropertyAction.json |  6 +++---
 .../resources/META-INF/cxs/conditions/booleanCondition.json    |  2 +-
 .../META-INF/cxs/conditions/eventPropertyCondition.json        |  2 +-
 .../resources/META-INF/cxs/conditions/eventTypeCondition.json  |  2 +-
 .../resources/META-INF/cxs/conditions/formEventCondition.json  |  2 +-
 .../cxs/conditions/geoLocationByPointSessionCondition.json     |  2 +-
 .../META-INF/cxs/conditions/geoLocationSessionCondition.json   |  2 +-
 .../resources/META-INF/cxs/conditions/goalMatchCondition.json  |  2 +-
 .../resources/META-INF/cxs/conditions/matchAllCondition.json   |  2 +-
 .../resources/META-INF/cxs/conditions/newVisitorCondition.json |  2 +-
 .../main/resources/META-INF/cxs/conditions/notCondition.json   |  2 +-
 .../resources/META-INF/cxs/conditions/pastEventCondition.json  |  2 +-
 .../META-INF/cxs/conditions/profilePropertyCondition.json      |  2 +-
 .../META-INF/cxs/conditions/profileSegmentCondition.json       |  2 +-
 .../META-INF/cxs/conditions/profileUpdatedEventCondition.json  |  2 +-
 .../META-INF/cxs/conditions/profileUserListCondition.json      |  2 +-
 .../META-INF/cxs/conditions/returningVisitorCondition.json     |  2 +-
 .../resources/META-INF/cxs/conditions/scoringCondition.json    |  2 +-
 .../META-INF/cxs/conditions/sessionCreatedEventCondition.json  |  2 +-
 .../META-INF/cxs/conditions/sessionDurationCondition.json      |  2 +-
 .../META-INF/cxs/conditions/sessionPropertyCondition.json      |  2 +-
 .../META-INF/cxs/conditions/sourceEventPropertyCondition.json  |  2 +-
 .../META-INF/cxs/conditions/videoViewEventCondition.json       |  2 +-
 .../resources/META-INF/cxs/conditions/hoverEventCondition.json |  2 +-
 .../main/resources/META-INF/cxs/actions/sendMailAction.json    |  6 +++---
 .../cxs/actions/requestHeaderToProfilePropertyAction.json      |  2 +-
 .../cxs/actions/requestParameterToProfilePropertyAction.json   |  2 +-
 .../META-INF/cxs/actions/setRemoteHostInfoAction.json          |  2 +-
 .../java/org/apache/unomi/rest/DefinitionsServiceEndPoint.java |  4 ++--
 .../resources/META-INF/cxs/actions/trainingNotifAction.json    |  2 +-
 .../META-INF/cxs/actions/incrementTweetNumberAction.json       |  2 +-
 .../META-INF/cxs/properties/profiles/basic/firstName.json      |  2 +-
 .../META-INF/cxs/properties/profiles/basic/gender.json         |  2 +-
 .../META-INF/cxs/properties/profiles/basic/lastName.json       |  2 +-
 .../META-INF/cxs/properties/profiles/basic/nationality.json    |  2 +-
 .../META-INF/cxs/properties/profiles/contact/address.json      |  2 +-
 .../META-INF/cxs/properties/profiles/contact/city.json         |  2 +-
 .../META-INF/cxs/properties/profiles/contact/countryName.json  |  2 +-
 .../META-INF/cxs/properties/profiles/contact/email.json        |  2 +-
 .../META-INF/cxs/properties/profiles/contact/phoneNumber.json  |  2 +-
 .../META-INF/cxs/properties/profiles/contact/zipCode.json      |  2 +-
 .../META-INF/cxs/properties/profiles/lead/leadAssignedTo.json  |  2 +-
 .../META-INF/cxs/properties/profiles/personal/age.json         |  2 +-
 .../META-INF/cxs/properties/profiles/personal/birthDate.json   |  2 +-
 .../META-INF/cxs/properties/profiles/personal/kids.json        |  2 +-
 .../cxs/properties/profiles/personal/maritalStatus.json        |  2 +-
 .../META-INF/cxs/properties/profiles/social/facebookId.json    |  2 +-
 .../META-INF/cxs/properties/profiles/social/googleid.json      |  2 +-
 .../META-INF/cxs/properties/profiles/social/linkedInId.json    |  2 +-
 .../META-INF/cxs/properties/profiles/social/twitterId.json     |  2 +-
 .../META-INF/cxs/properties/profiles/system/firstVisit.json    |  2 +-
 .../META-INF/cxs/properties/profiles/system/lastVisit.json     |  2 +-
 .../META-INF/cxs/properties/profiles/system/nbOfVisits.json    |  2 +-
 .../META-INF/cxs/properties/profiles/system/previousVisit.json |  2 +-
 .../META-INF/cxs/properties/profiles/work/company.json         |  2 +-
 .../META-INF/cxs/properties/profiles/work/income.json          |  2 +-
 .../META-INF/cxs/properties/profiles/work/jobTitle.json        |  2 +-
 .../META-INF/cxs/properties/sessions/geographic/latitude.json  |  2 +-
 .../META-INF/cxs/properties/sessions/geographic/longitude.json |  2 +-
 .../properties/sessions/geographic/sessionAdminSubDiv1.json    |  2 +-
 .../properties/sessions/geographic/sessionAdminSubDiv2.json    |  2 +-
 .../cxs/properties/sessions/geographic/sessionCity.json        |  2 +-
 .../cxs/properties/sessions/geographic/sessionCountryCode.json |  2 +-
 .../cxs/properties/sessions/geographic/sessionCountryName.json |  2 +-
 .../cxs/properties/sessions/technical/deviceCategory.json      |  2 +-
 .../properties/sessions/technical/operatingSystemFamily.json   |  2 +-
 .../cxs/properties/sessions/technical/operatingSystemName.json |  2 +-
 .../cxs/properties/sessions/technical/pageReferringURL.json    |  2 +-
 .../META-INF/cxs/properties/sessions/technical/remoteAddr.json |  2 +-
 .../META-INF/cxs/properties/sessions/technical/remoteHost.json |  2 +-
 .../cxs/properties/sessions/technical/userAgentName.json       |  2 +-
 .../cxs/properties/sessions/technical/userAgentVersion.json    |  2 +-
 src/site/markdown/versions/1.1/concepts.md                     |  2 +-
 src/site/markdown/versions/1.1/getting-started.md              |  2 +-
 src/site/markdown/versions/master/concepts.md                  |  2 +-
 src/site/markdown/versions/master/custom-extensions.md         | 10 +++++-----
 src/site/markdown/versions/master/twitter-sample.md            |  2 +-
 92 files changed, 106 insertions(+), 106 deletions(-)

commit cd730387c772fa3bafe7f7f51c8e358616ce0b8e
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 29 16:12:45 2017 +0200

    UNOMI-117 add query parameters to look in tags or system tags

 .../org/apache/unomi/api/services/ProfileService.java  | 11 +++++++++++
 .../org/apache/unomi/rest/ProfileServiceEndPoint.java  | 18 ++++++++++++------
 .../unomi/services/services/ProfileServiceImpl.java    |  7 ++++++-
 3 files changed, 29 insertions(+), 7 deletions(-)

commit 8e6132d219e110f6c9ded953154f6591f1d9052a
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 29 14:00:57 2017 +0200

    UNOMI-117 implement system tags to allow use of tags that will not be shown to the end user (e.g. to manage UI or elements), update migration to reflect systemTags changes, change compilation order to fix an issue with shell-commands bundle, add test to not override an object in ES if it exist yet

 .../main/java/org/apache/unomi/api/Metadata.java   | 21 +++++-
 .../unomi/api/services/DefinitionsService.java     | 32 ++++++---
 .../apache/unomi/api/services/ProfileService.java  | 14 +++-
 itests/pom.xml                                     |  2 +-
 kar/src/main/feature/feature.xml                   |  2 +-
 performance-tests/pom.xml                          |  2 +-
 pom.xml                                            |  2 +-
 .../unomi/rest/DefinitionsServiceEndPoint.java     | 48 +++++++++++--
 .../org/apache/unomi/rest/LocalizationHelper.java  |  2 +
 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 23 ++++++-
 .../java/org/apache/unomi/rest/RESTActionType.java |  9 +++
 .../org/apache/unomi/rest/RESTConditionType.java   |  9 +++
 samples/trainingplugin/pom.xml                     |  4 +-
 .../services/services/DefinitionsServiceImpl.java  | 30 +++++++--
 .../unomi/services/services/GoalsServiceImpl.java  | 26 --------
 .../services/services/ProfileServiceImpl.java      | 16 ++++-
 .../unomi/services/services/RulesServiceImpl.java  |  4 +-
 .../markdown/versions/master/custom-extensions.md  |  6 +-
 src/site/markdown/versions/master/login-sample.md  |  2 +-
 tools/pom.xml                                      |  2 +-
 tools/shell-commands/pom.xml                       |  3 +-
 .../unomi/shell/migration/actions/Migrate.java     |  3 +-
 .../{MigrationTo200.java => MigrationTo130.java}   | 78 ++++++++++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 24 files changed, 254 insertions(+), 88 deletions(-)

commit 614af7f07534c60e4703e8bebf6b3e9c7d797afc
Author: Serge Huber <shuber@apache.org>
Date:   Fri Sep 29 13:36:22 2017 +0200

    Update web site for new release, to be published as soon as download mirrors have caught up.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/archive.md  | 61 +++++++++++++++++++++++++++++++++++++++++++
 src/site/markdown/download.md | 30 +++++++++++++++++----
 src/site/markdown/index.md    |  1 +
 3 files changed, 87 insertions(+), 5 deletions(-)

commit b30d3286fe6fb5df5df38e4b9db93e96c1e59f14
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 15 17:58:17 2017 +0200

    UNOMI-117 add ES document version to Item.java so we know the version of a document

 api/src/main/java/org/apache/unomi/api/Item.java   |  9 +++++
 .../elasticsearch/ESCustomObjectMapper.java        | 42 ++++++++++++++++++++++
 .../persistence/elasticsearch/ESItemMixIn.java     | 29 +++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 22 ++++++------
 .../org/apache/unomi/rest/LocalizationHelper.java  |  2 ++
 .../java/org/apache/unomi/rest/RESTActionType.java |  9 +++++
 .../org/apache/unomi/rest/RESTConditionType.java   |  9 +++++
 7 files changed, 112 insertions(+), 10 deletions(-)

commit a5beefc459bed4205425832b0e8e8534e84e7ab9
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 15 17:57:09 2017 +0200

    UNOMI-117 move tags from the root of property type to their metadata to reflect others object structure

 .../java/org/apache/unomi/api/PropertyType.java    | 19 ------------------
 .../properties/sessions/weather/weatherLike.json   |  9 +++++----
 .../properties/sessions/weather/weatherTemp.json   |  9 +++++----
 .../sessions/weather/weatherWindDirection.json     |  9 +++++----
 .../sessions/weather/weatherWindSpeed.json         |  9 +++++----
 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 12 +++++------
 .../actions/IncrementTweetNumberAction.java        |  4 ++--
 .../services/services/ProfileServiceImpl.java      |  2 +-
 .../cxs/properties/profiles/basic/firstName.json   | 15 ++++++++------
 .../cxs/properties/profiles/basic/gender.json      | 15 ++++++++------
 .../cxs/properties/profiles/basic/lastName.json    | 15 ++++++++------
 .../cxs/properties/profiles/basic/nationality.json | 15 ++++++++------
 .../cxs/properties/profiles/contact/address.json   | 23 ++++++++++++----------
 .../cxs/properties/profiles/contact/city.json      | 15 ++++++++------
 .../properties/profiles/contact/countryName.json   | 15 ++++++++------
 .../cxs/properties/profiles/contact/email.json     | 15 ++++++++------
 .../properties/profiles/contact/phoneNumber.json   | 15 ++++++++------
 .../cxs/properties/profiles/contact/zipCode.json   | 15 ++++++++------
 .../properties/profiles/lead/leadAssignedTo.json   | 15 ++++++++------
 .../cxs/properties/profiles/personal/age.json      | 12 +++++------
 .../properties/profiles/personal/birthDate.json    | 12 +++++------
 .../cxs/properties/profiles/personal/kids.json     | 15 ++++++++------
 .../profiles/personal/maritalStatus.json           | 15 ++++++++------
 .../cxs/properties/profiles/social/facebookId.json | 15 ++++++++------
 .../cxs/properties/profiles/social/googleid.json   | 15 ++++++++------
 .../cxs/properties/profiles/social/linkedInId.json | 15 ++++++++------
 .../cxs/properties/profiles/social/twitterId.json  | 15 ++++++++------
 .../cxs/properties/profiles/system/firstVisit.json | 15 ++++++++------
 .../cxs/properties/profiles/system/lastVisit.json  | 15 ++++++++------
 .../cxs/properties/profiles/system/nbOfVisits.json | 15 ++++++++------
 .../properties/profiles/system/previousVisit.json  | 15 ++++++++------
 .../cxs/properties/profiles/work/company.json      | 15 ++++++++------
 .../cxs/properties/profiles/work/income.json       | 15 ++++++++------
 .../cxs/properties/profiles/work/jobTitle.json     | 15 ++++++++------
 .../properties/sessions/geographic/latitude.json   | 15 ++++++++------
 .../properties/sessions/geographic/longitude.json  | 15 ++++++++------
 .../sessions/geographic/sessionAdminSubDiv1.json   | 15 ++++++++------
 .../sessions/geographic/sessionAdminSubDiv2.json   | 15 ++++++++------
 .../sessions/geographic/sessionCity.json           | 15 ++++++++------
 .../sessions/geographic/sessionCountryCode.json    | 15 ++++++++------
 .../sessions/geographic/sessionCountryName.json    | 15 ++++++++------
 .../sessions/technical/deviceCategory.json         | 15 ++++++++------
 .../sessions/technical/operatingSystemFamily.json  | 15 ++++++++------
 .../sessions/technical/operatingSystemName.json    | 15 ++++++++------
 .../sessions/technical/pageReferringURL.json       | 15 ++++++++------
 .../properties/sessions/technical/remoteAddr.json  | 15 ++++++++------
 .../properties/sessions/technical/remoteHost.json  | 15 ++++++++------
 .../sessions/technical/userAgentName.json          | 15 ++++++++------
 .../sessions/technical/userAgentVersion.json       | 15 ++++++++------
 src/site/markdown/versions/1.1/concepts.md         |  4 ++--
 src/site/markdown/versions/master/concepts.md      |  4 ++--
 .../markdown/versions/master/custom-extensions.md  |  7 +++++--
 52 files changed, 404 insertions(+), 301 deletions(-)

commit eb8f07b80fa861aba6bd0d862ee9db7bf17130dc
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 15 17:55:46 2017 +0200

    UNOMI-117 improve shell commands, add a start and stop command, change behavior of Unomi by default it's not starting automatically on a fresh install unless you add the property unomi.autoStart=true to your setenv.sh

 .../src/main/feature/feature.xml                   |  42 +++++
 kar/src/main/feature/feature.xml                   |  33 ++--
 .../java/org/apache/unomi/shell/actions/Start.java |  37 ++++
 .../java/org/apache/unomi/shell/actions/Stop.java  |  37 ++++
 .../apache/unomi/shell/migration/Migration.java    |  34 ++++
 .../shell/{ => migration}/actions/Migrate.java     |  30 +++-
 .../unomi/shell/migration/impl/MigrationTo200.java | 194 +++++++++++++++++++++
 .../shell/{ => migration}/utils/ConsoleUtils.java  |   2 +-
 .../shell/{ => migration}/utils/HttpUtils.java     |  28 +--
 .../shell/migration/utils/MigrationUtils.java      |  47 +++++
 .../migrations/AbstractMigrationResource.java      |  81 ---------
 .../unomi/shell/migrations/MigrationTo200.java     | 130 --------------
 .../shell/services/UnomiManagementService.java     |  29 +++
 .../internal/UnomiManagementServiceImpl.java       |  88 ++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  69 +++++++-
 15 files changed, 630 insertions(+), 251 deletions(-)

commit f0100317f5788aa5044f31916ae7d9ad50ebd9c8
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 8 17:50:12 2017 +0200

    UNOMI-117 Create tools package that contain a shell bundle so we can define our custom shell commands for unomi, create a migration shell command to ease the migration to a new version

 pom.xml                                            |   1 +
 tools/pom.xml                                      |  37 +++++
 tools/shell-commands/pom.xml                       | 108 ++++++++++++++
 .../org/apache/unomi/shell/actions/Migrate.java    |  67 +++++++++
 .../org/apache/unomi/shell/actions/Version.java    |  29 ++++
 .../migrations/AbstractMigrationResource.java      |  81 +++++++++++
 .../unomi/shell/migrations/MigrationTo200.java     | 130 +++++++++++++++++
 .../org/apache/unomi/shell/utils/ConsoleUtils.java |  82 +++++++++++
 .../org/apache/unomi/shell/utils/HttpUtils.java    | 155 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  32 +++++
 10 files changed, 722 insertions(+)

commit ebfd560db90ce85ba59fcc6c237b1b3d2afdd0ae
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Aug 8 14:39:30 2017 +0200

    UNOMI-117 refactor tags as an open string, removed tags definitions, removed tags hierarchy and associated functions, add previously parent tag to children

 .../main/java/org/apache/unomi/api/Metadata.java   |  10 +-
 .../java/org/apache/unomi/api/PropertyType.java    |  36 +---
 api/src/main/java/org/apache/unomi/api/Tag.java    | 193 ---------------------
 .../main/java/org/apache/unomi/api/ValueType.java  |  38 +---
 .../unomi/api/services/DefinitionsService.java     |  78 +--------
 .../apache/unomi/api/services/ProfileService.java  |  17 +-
 .../resources/META-INF/cxs/actions/addToLists.json |   1 +
 .../cxs/actions/sfdcCreateOrUpdateLead.json        |   1 +
 .../cxs/actions/sfdcUpdateProfileFromLead.json     |   1 +
 .../src/test/scala/unomi/AdminScenario.scala       |   2 +-
 .../actions/allEventToProfilePropertiesAction.json |   1 +
 .../cxs/actions/evaluateProfileAgeAction.json      |   1 +
 .../cxs/actions/evaluateProfileSegmentsAction.json |   1 +
 .../cxs/actions/eventToProfilePropertyAction.json  |   1 +
 .../cxs/actions/mergeProfilesOnPropertyAction.json |   1 +
 .../META-INF/cxs/actions/sendEventAction.json      |   1 +
 .../cxs/actions/setEventOccurenceCountAction.json  |   1 +
 .../META-INF/cxs/actions/setPropertyAction.json    |   1 +
 .../META-INF/cxs/conditions/booleanCondition.json  |   2 +
 .../cxs/conditions/eventPropertyCondition.json     |   2 +
 .../cxs/conditions/eventTypeCondition.json         |   2 +
 .../cxs/conditions/formEventCondition.json         |   2 +
 .../geoLocationByPointSessionCondition.json        |   2 +
 .../conditions/geoLocationSessionCondition.json    |   2 +
 .../cxs/conditions/goalMatchCondition.json         |   2 +
 .../META-INF/cxs/conditions/matchAllCondition.json |   2 +
 .../cxs/conditions/newVisitorCondition.json        |   2 +
 .../META-INF/cxs/conditions/notCondition.json      |   2 +
 .../cxs/conditions/pastEventCondition.json         |   2 +
 .../cxs/conditions/profilePropertyCondition.json   |   2 +
 .../cxs/conditions/profileSegmentCondition.json    |   2 +
 .../conditions/profileUpdatedEventCondition.json   |   2 +
 .../cxs/conditions/profileUserListCondition.json   |   2 +
 .../cxs/conditions/returningVisitorCondition.json  |   2 +
 .../META-INF/cxs/conditions/scoringCondition.json  |   2 +
 .../conditions/sessionCreatedEventCondition.json   |   2 +
 .../cxs/conditions/sessionDurationCondition.json   |   2 +
 .../cxs/conditions/sessionPropertyCondition.json   |   2 +
 .../conditions/sourceEventPropertyCondition.json   |   1 +
 .../cxs/conditions/videoViewEventCondition.json    |   2 +
 .../cxs/conditions/hoverEventCondition.json        |   2 +
 .../META-INF/cxs/actions/sendMailAction.json       |   1 +
 .../requestHeaderToProfilePropertyAction.json      |   1 +
 .../requestParameterToProfilePropertyAction.json   |   1 +
 .../cxs/actions/setRemoteHostInfoAction.json       |   1 +
 .../unomi/rest/DefinitionsServiceEndPoint.java     |  97 ++---------
 .../org/apache/unomi/rest/LocalizationHelper.java  |  65 +------
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |  15 +-
 .../java/org/apache/unomi/rest/RESTActionType.java |   8 +-
 .../org/apache/unomi/rest/RESTConditionType.java   |  11 +-
 .../main/java/org/apache/unomi/rest/RESTTag.java   |  87 ----------
 .../java/org/apache/unomi/rest/RESTValueType.java  |   8 +-
 .../unomi/training/TrainedNotificationAction.java  |   2 +-
 .../META-INF/cxs/actions/trainingNotifAction.json  |   1 +
 .../actions/IncrementTweetNumberAction.java        |   4 +-
 .../cxs/actions/incrementTweetNumberAction.json    |   1 +
 .../services/services/DefinitionsServiceImpl.java  | 140 ++-------------
 .../unomi/services/services/GoalsServiceImpl.java  |  28 +--
 .../services/services/ProfileServiceImpl.java      |  27 +--
 .../cxs/properties/profiles/basic/firstName.json   |   6 +-
 .../cxs/properties/profiles/basic/gender.json      |   6 +-
 .../cxs/properties/profiles/basic/lastName.json    |   6 +-
 .../cxs/properties/profiles/basic/nationality.json |   6 +-
 .../cxs/properties/profiles/contact/address.json   |   6 +-
 .../cxs/properties/profiles/contact/city.json      |   6 +-
 .../properties/profiles/contact/countryName.json   |   6 +-
 .../cxs/properties/profiles/contact/email.json     |   6 +-
 .../properties/profiles/contact/phoneNumber.json   |   6 +-
 .../cxs/properties/profiles/contact/zipCode.json   |   6 +-
 .../properties/profiles/lead/leadAssignedTo.json   |   6 +-
 .../cxs/properties/profiles/personal/age.json      |   6 +-
 .../properties/profiles/personal/birthDate.json    |   6 +-
 .../cxs/properties/profiles/personal/kids.json     |   6 +-
 .../profiles/personal/maritalStatus.json           |   6 +-
 .../cxs/properties/profiles/social/facebookId.json |   6 +-
 .../cxs/properties/profiles/social/googleid.json   |   6 +-
 .../cxs/properties/profiles/social/linkedInId.json |   6 +-
 .../cxs/properties/profiles/social/twitterId.json  |   6 +-
 .../cxs/properties/profiles/system/firstVisit.json |   6 +-
 .../cxs/properties/profiles/system/lastVisit.json  |   6 +-
 .../cxs/properties/profiles/system/nbOfVisits.json |   6 +-
 .../properties/profiles/system/previousVisit.json  |   6 +-
 .../cxs/properties/profiles/work/company.json      |   6 +-
 .../cxs/properties/profiles/work/income.json       |   6 +-
 .../cxs/properties/profiles/work/jobTitle.json     |   6 +-
 .../properties/sessions/geographic/latitude.json   |   6 +-
 .../properties/sessions/geographic/longitude.json  |   6 +-
 .../sessions/geographic/sessionAdminSubDiv1.json   |   6 +-
 .../sessions/geographic/sessionAdminSubDiv2.json   |   6 +-
 .../sessions/geographic/sessionCity.json           |   6 +-
 .../sessions/geographic/sessionCountryCode.json    |   6 +-
 .../sessions/geographic/sessionCountryName.json    |   6 +-
 .../sessions/technical/deviceCategory.json         |   6 +-
 .../sessions/technical/operatingSystemFamily.json  |   6 +-
 .../sessions/technical/operatingSystemName.json    |   6 +-
 .../sessions/technical/pageReferringURL.json       |   6 +-
 .../properties/sessions/technical/remoteAddr.json  |   6 +-
 .../properties/sessions/technical/remoteHost.json  |   6 +-
 .../sessions/technical/userAgentName.json          |   6 +-
 .../sessions/technical/userAgentVersion.json       |   6 +-
 .../resources/META-INF/cxs/tags/aggregated.json    |   4 -
 .../resources/META-INF/cxs/tags/autocompleted.json |   4 -
 .../META-INF/cxs/tags/campaign/campaign.json       |   4 -
 .../cxs/tags/campaign/landingCampaign.json         |   4 -
 .../cxs/tags/campaign/parameterCampaign.json       |   4 -
 .../cxs/tags/campaign/referrerCampaign.json        |   4 -
 .../META-INF/cxs/tags/conditions/condition.json    |   4 -
 .../cxs/tags/conditions/eventCondition.json        |   4 -
 .../cxs/tags/conditions/profileCondition.json      |   4 -
 .../cxs/tags/conditions/sessionCondition.json      |   4 -
 .../cxs/tags/conditions/sourceEventCondition.json  |   4 -
 .../cxs/tags/conditions/trackedCondition.json      |   4 -
 .../conditions/usableInPastEventCondition.json     |   4 -
 .../resources/META-INF/cxs/tags/demographic.json   |   4 -
 .../main/resources/META-INF/cxs/tags/event.json    |   4 -
 .../resources/META-INF/cxs/tags/geographic.json    |   4 -
 .../META-INF/cxs/tags/goals/downloadGoal.json      |   4 -
 .../META-INF/cxs/tags/goals/formGoal.json          |   4 -
 .../META-INF/cxs/tags/goals/funnelGoal.json        |   4 -
 .../resources/META-INF/cxs/tags/goals/goal.json    |   4 -
 .../META-INF/cxs/tags/goals/landingPageGoal.json   |   4 -
 .../META-INF/cxs/tags/goals/pageVisitGoal.json     |   4 -
 .../META-INF/cxs/tags/goals/videoGoal.json         |   4 -
 .../main/resources/META-INF/cxs/tags/logical.json  |   4 -
 .../resources/META-INF/cxs/tags/profileTags.json   |   4 -
 .../profiles/basicProfileProperties.json           |   6 -
 .../profiles/contactProfileProperties.json         |   5 -
 .../properties/profiles/leadProfileProperties.json |   6 -
 .../profiles/personalProfileProperties.json        |   5 -
 .../properties/profiles/profileProperties.json     |   4 -
 .../profiles/socialProfileProperties.json          |   6 -
 .../profiles/systemProfileProperties.json          |   6 -
 .../properties/profiles/workProfileProperties.json |   5 -
 .../META-INF/cxs/tags/properties/properties.json   |   4 -
 .../sessions/geographicSessionProperties.json      |   5 -
 .../properties/sessions/sessionProperties.json     |   4 -
 .../sessions/technicalSessionProperties.json       |   5 -
 .../src/main/resources/META-INF/cxs/tags/root.json |   4 -
 .../META-INF/cxs/tags/rules/formMappingRule.json   |   4 -
 src/site/markdown/versions/1.1/concepts.md         |   4 +-
 src/site/markdown/versions/master/concepts.md      |   4 +-
 141 files changed, 343 insertions(+), 1008 deletions(-)

commit b4ec20f094ff062fe7b495ad572c1bc62f8ab9c0
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Aug 2 15:53:39 2017 +0200

    [jgitflow-maven-plugin]updating poms for unomi_117 version

 api/pom.xml                                       |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 +++---
 extensions/geonames/services/pom.xml              |  8 +++---
 extensions/lists-extension/actions/pom.xml        |  8 +++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 +++---
 extensions/lists-extension/services/pom.xml       |  8 +++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 +++---
 extensions/privacy-extension/services/pom.xml     |  8 +++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++---
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++----
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 +++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++---
 kar/pom.xml                                       | 32 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 package/pom.xml                                   |  6 ++---
 persistence-elasticsearch/core/pom.xml            |  6 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++---
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++---
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++---
 pom.xml                                           |  2 +-
 rest/pom.xml                                      |  6 ++---
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  6 ++---
 wab/pom.xml                                       |  6 ++---
 44 files changed, 115 insertions(+), 115 deletions(-)

commit 98e7419cbbfa1450127c56bf0e415110417ad098
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Sep 27 18:30:00 2017 +0200

    UNOMI-124 : Introduction of private (internal address)

 .../apache/unomi/router/rest/ExportConfigurationServiceEndPoint.java  | 4 ++--
 .../apache/unomi/router/rest/ImportConfigurationServiceEndPoint.java  | 4 ++--
 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d40d3a48a7971add77193caababa3068d6af6445
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Sep 21 17:07:48 2017 +0200

    UNOMI-124 : Introduction of private (internal address)

 .../java/org/apache/unomi/api/ClusterNode.java     | 98 +++------------------
 .../rest/ImportConfigurationServiceEndPoint.java   |  4 +-
 .../services/services/ClusterServiceImpl.java      | 99 +++++++---------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 +--
 .../main/resources/org.apache.unomi.cluster.cfg    |  8 +-
 src/site/markdown/versions/master/configuration.md | 14 ++-
 6 files changed, 54 insertions(+), 183 deletions(-)

commit 7b758aed3a593f9a84f2242d9a0a0058f823c181
Author: Serge Huber <shuber@apache.org>
Date:   Tue Sep 19 11:24:08 2017 +0200

    Update Incubator Logo.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/index.md                   |   4 ++--
 src/site/resources/images/incubator-logo.png | Bin 7241 -> 8923 bytes
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7146fcd9d6740d03bcf763df2e9d0386111cb104
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 14 15:12:18 2017 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                       |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 +++---
 extensions/geonames/services/pom.xml              |  8 +++---
 extensions/lists-extension/actions/pom.xml        |  8 +++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 +++---
 extensions/lists-extension/services/pom.xml       |  8 +++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 +++---
 extensions/privacy-extension/services/pom.xml     |  8 +++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++---
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++----
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 +++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++---
 extensions/weather-update/core/pom.xml            |  2 +-
 extensions/weather-update/karaf-kar/pom.xml       |  4 +--
 extensions/weather-update/pom.xml                 |  2 +-
 kar/pom.xml                                       | 32 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 package/pom.xml                                   |  6 ++---
 persistence-elasticsearch/core/pom.xml            |  6 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++---
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++---
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++---
 pom.xml                                           |  4 +--
 rest/pom.xml                                      |  6 ++---
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  6 ++---
 wab/pom.xml                                       |  6 ++---
 47 files changed, 120 insertions(+), 120 deletions(-)

commit 42e4fa3d6912f35c791c790a71ccb4a96dce01fd
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 14 15:12:00 2017 +0200

    [maven-release-plugin] prepare release unomi-root-1.2.0-incubating

 api/pom.xml                                       |  2 +-
 extensions/geonames/pom.xml                       |  2 +-
 extensions/geonames/rest/pom.xml                  |  8 +++---
 extensions/geonames/services/pom.xml              |  8 +++---
 extensions/lists-extension/actions/pom.xml        |  8 +++---
 extensions/lists-extension/pom.xml                |  4 +--
 extensions/lists-extension/rest/pom.xml           |  8 +++---
 extensions/lists-extension/services/pom.xml       |  8 +++---
 extensions/pom.xml                                |  2 +-
 extensions/privacy-extension/pom.xml              |  4 +--
 extensions/privacy-extension/rest/pom.xml         |  8 +++---
 extensions/privacy-extension/services/pom.xml     |  8 +++---
 extensions/router/pom.xml                         |  2 +-
 extensions/router/router-api/pom.xml              |  2 +-
 extensions/router/router-core/pom.xml             |  2 +-
 extensions/router/router-karaf-feature/pom.xml    |  2 +-
 extensions/router/router-rest/pom.xml             |  2 +-
 extensions/router/router-service/pom.xml          |  2 +-
 extensions/salesforce-connector/actions/pom.xml   |  6 ++---
 extensions/salesforce-connector/karaf-kar/pom.xml | 10 +++----
 extensions/salesforce-connector/pom.xml           |  2 +-
 extensions/salesforce-connector/rest/pom.xml      |  8 +++---
 extensions/salesforce-connector/services/pom.xml  |  6 ++---
 extensions/weather-update/core/pom.xml            |  5 ++--
 extensions/weather-update/karaf-kar/pom.xml       |  7 +++--
 extensions/weather-update/pom.xml                 |  5 ++--
 kar/pom.xml                                       | 32 +++++++++++------------
 lifecycle-watcher/pom.xml                         |  2 +-
 package/pom.xml                                   |  6 ++---
 persistence-elasticsearch/core/pom.xml            |  6 ++---
 persistence-elasticsearch/pom.xml                 |  2 +-
 persistence-spi/pom.xml                           |  4 +--
 plugins/baseplugin/pom.xml                        |  6 ++---
 plugins/hover-event/pom.xml                       |  4 +--
 plugins/mail/pom.xml                              |  4 +--
 plugins/optimization-test/pom.xml                 |  2 +-
 plugins/past-event/pom.xml                        |  6 ++---
 plugins/pom.xml                                   |  4 +--
 plugins/request/pom.xml                           |  2 +-
 plugins/tracked-event/pom.xml                     |  6 ++---
 pom.xml                                           |  4 +--
 rest/pom.xml                                      |  6 ++---
 samples/login-integration/pom.xml                 |  4 +--
 samples/pom.xml                                   |  2 +-
 samples/tweet-button-plugin/pom.xml               |  4 +--
 services/pom.xml                                  |  6 ++---
 wab/pom.xml                                       |  6 ++---
 47 files changed, 123 insertions(+), 126 deletions(-)

commit 58ccb1dafbe40898a786f9f595eb69b2e984875a
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 14 14:55:18 2017 +0200

    Update LICENSE and NOTICE files to remove obsolete MIT license reference
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 LICENSE | 26 +-------------------------
 NOTICE  |  4 ----
 2 files changed, 1 insertion(+), 29 deletions(-)

commit c65f9897ec5f31d9d22ad639738c7db9d109aa77
Author: Serge Huber <shuber@apache.org>
Date:   Wed Sep 13 17:51:07 2017 +0200

    Add deprecations before releasing Unomi 1.2.0
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/persistence/spi/PersistenceService.java      |  2 ++
 .../org/apache/unomi/rest/ProfileServiceEndPoint.java  | 18 ++++++++++++++++++
 2 files changed, 20 insertions(+)

commit 5f15a269221ac46b46e8f1c30f6f47e57ffccd9e
Author: Serge Huber <shuber@apache.org>
Date:   Mon Sep 11 10:56:19 2017 +0200

    UNOMI-93 Add rule execution count to rule service endpoint
    - Add an endpoint to reset the statistics
    - Statistics are now stored in a concurrent hash map to avoid concurrency issues.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/api/services/RulesService.java    |  5 +++++
 .../java/org/apache/unomi/rest/RulesServiceEndPoint.java    | 13 +++++++++++--
 .../apache/unomi/services/services/RulesServiceImpl.java    | 10 +++++++++-
 3 files changed, 25 insertions(+), 3 deletions(-)

commit 1d075ec19850466a355ecffc1dfed2da049e25c9
Author: Thomas Draier <draier@apache.org>
Date:   Wed Aug 30 15:02:26 2017 +0200

    Fixed javadocs warnings

 .../java/org/apache/unomi/api/ContextResponse.java |  2 +-
 .../main/java/org/apache/unomi/api/Profile.java    |  2 ++
 .../java/org/apache/unomi/api/PropertyType.java    |  2 +-
 .../main/java/org/apache/unomi/api/ValueType.java  |  2 +-
 .../org/apache/unomi/api/actions/ActionType.java   |  1 +
 .../apache/unomi/api/conditions/ConditionType.java |  1 +
 .../unomi/api/services/DefinitionsService.java     |  6 +++---
 .../apache/unomi/api/services/EventService.java    | 10 +++++----
 .../apache/unomi/api/services/ProfileService.java  |  5 +++++
 .../apache/unomi/api/services/SegmentService.java  |  3 +++
 .../unomi/router/api/ImportConfiguration.java      |  4 ++--
 .../router/api/ImportExportConfiguration.java      |  5 ++++-
 .../apache/unomi/router/api/ImportLineError.java   |  6 +++---
 .../rest/AbstractConfigurationServiceEndpoint.java |  3 ++-
 .../rest/ExportConfigurationServiceEndPoint.java   |  1 +
 .../rest/ImportConfigurationServiceEndPoint.java   |  2 ++
 .../unomi/persistence/spi/PersistenceService.java  | 25 ++++++++++++++++++----
 .../org/apache/unomi/rest/LocalizationHelper.java  |  8 ++++++-
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |  4 ++--
 .../NonEmptyPropertyMergeStrategyExecutor.java     |  2 +-
 .../OldestPropertyMergeStrategyExecutor.java       |  2 +-
 21 files changed, 70 insertions(+), 26 deletions(-)

commit 514eac0c3042de5bd78e01a1f3797f7f9a0fe9b3
Author: Thomas Draier <draier@apache.org>
Date:   Wed Aug 30 14:10:19 2017 +0200

    UNOMI-116 : Fixed hardcoded version numbers in features

 .../karaf-kar/src/main/feature/feature.xml                     | 10 +++++-----
 .../weather-update/karaf-kar/src/main/feature/feature.xml      |  6 +++---
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 3af055403cdbc58952ffa46902570fa257df9c6c
Author: Thomas Draier <draier@apache.org>
Date:   Wed Aug 30 14:01:32 2017 +0200

    UNOMI-70 : Removed unused plugin

 persistence-elasticsearch/plugins/pom.xml          |  37 -----
 persistence-elasticsearch/plugins/security/pom.xml |  99 -------------
 .../plugins/security/src/main/assembly/plugin.xml  |  43 ------
 .../plugin/security/IPRangeMatcher.java            | 158 ---------------------
 .../plugin/security/SecurityPlugin.java            |  53 -------
 .../plugin/security/SecurityPluginModule.java      |  32 -----
 .../plugin/security/SecurityPluginService.java     | 158 ---------------------
 .../src/main/resources/es-plugin.properties        |  18 ---
 8 files changed, 598 deletions(-)

commit cdaa8613c3f8341b91014f313fc2aa134c22d038
Author: Serge Huber <shuber@apache.org>
Date:   Wed Aug 30 11:23:37 2017 +0200

    UNOMI-118 Add integration tests for profile import
    - Fix NPE when running integration tests.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../apache/unomi/router/core/processor/LineSplitProcessor.java    | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit cad95f81bbbf41ad92ad849c16ee8ce4f93a0557
Author: Serge Huber <shuber@apache.org>
Date:   Tue Aug 29 13:00:00 2017 +0200

    UNOMI-118 Add integration tests for profile import
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/router/core/processor/LineSplitProcessor.java     | 13 ++++++++++---
 .../router/rest/ExportConfigurationServiceEndPoint.java     |  2 +-
 .../router/rest/ImportConfigurationServiceEndPoint.java     |  4 ++--
 itests/pom.xml                                              |  6 ++++++
 .../elasticsearch/conditions/ConditionContextHelper.java    |  6 +++++-
 .../unomi/services/services/ConfigSharingServiceImpl.java   |  2 +-
 6 files changed, 25 insertions(+), 8 deletions(-)

commit 8a76324cd492195f96a017d7e0595ae8c2a20468
Author: dinesh1996 <Dragonball21>
Date:   Mon Aug 28 17:05:50 2017 +0200

    Duplicate rule fix

 .../META-INF/cxs/rules/UpdateWeather.json          | 40 ----------------------
 1 file changed, 40 deletions(-)

commit 684e898ab3c060b759f060711a643e4455d84c57
Author: Serge Huber <shuber@apache.org>
Date:   Fri Aug 25 10:51:13 2017 +0200

    UNOMI-119 pastEventCondition hardcoded 5000 limit
    Fixed typo in default value.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../core/src/main/resources/OSGI-INF/blueprint/blueprint.xml            | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8f5675a5acdf2f681054f99095aaad18d2553c71
Author: dinesh1996 <Dragonball21>
Date:   Wed Aug 23 22:49:15 2017 +0200

    Add some doc on functions

 .../unomi/weatherupdate/actions/WeatherUpdateAction.java      | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 0abd1437f856504bcd3c625217ae820919ab1b3c
Author: dinesh1996 <Dragonball21>
Date:   Wed Aug 23 17:26:38 2017 +0200

    Edit the Readme file, optimized the code

 extensions/weather-update/README.md                |   7 +-
 .../weatherupdate/actions/WeatherUpdateAction.java | 161 ++++++++++++---------
 2 files changed, 92 insertions(+), 76 deletions(-)

commit 43a85526e9c348832e099d816dcffe248b4a6107
Merge: 9fbdf43a 60395c26
Author: Serge Huber <shuber@apache.org>
Date:   Tue Aug 22 17:25:47 2017 +0200

    This closes pull request number #31

commit 9fbdf43abcdcb3aa5ebae4612f96d698d3e0a28f
Author: Serge Huber <shuber@apache.org>
Date:   Tue Aug 22 17:08:23 2017 +0200

    UNOMI-120 MasterProfile is not saved when a merge is performed
    This commit adds the missing call to the persistence service when the master profile is updated.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../router/services/ProfileExportServiceImpl.java  | 24 ++++++++++++----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 60395c26c3466d2d15d83aba89e5324ddf2e087b
Author: Donald <donald@MacBook.local>
Date:   Fri Aug 18 15:26:48 2017 -0400

    pastEventCondition hardcoded 5000 limit/UNOMI-119
    
    Added the aggregateQueryBucketSize config to etc/org.apache.unomi.elasticsearch.cfg with a default value of 5000.
    
    This config allows the user to increase the aggregate query bucket size when 5000 is not sufficient.

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java        | 8 +++++++-
 .../core/src/main/resources/OSGI-INF/blueprint/blueprint.xml      | 4 ++++
 .../main/resources/org.apache.unomi.persistence.elasticsearch.cfg | 3 +++
 3 files changed, 14 insertions(+), 1 deletion(-)

commit 07034456aade6137efa52d4ad12c96f30a3290b5
Author: Serge Huber <shuber@apache.org>
Date:   Fri Aug 18 09:55:15 2017 +0200

    UNOMI-120 MasterProfile is not saved when a merge is performed
    This commit adds the missing call to the persistence service when the master profile is updated.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../baseplugin/actions/MergeProfilesOnPropertyAction.java    |  1 +
 .../mergers/NonEmptyPropertyMergeStrategyExecutor.java       |  3 +++
 .../mergers/OldestPropertyMergeStrategyExecutor.java         |  3 +++
 .../apache/unomi/services/services/ProfileServiceImpl.java   | 12 ++++++++++--
 4 files changed, 17 insertions(+), 2 deletions(-)

commit 0a19fa0cede5d3aeb29d8c0bc10b18882065ae5e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 16:57:37 2017 +0200

    Property Value null issue on export

 .../unomi/router/services/ProfileExportServiceImpl.java      | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 6e6b1e951d39a22875a8d92c61fd743fa2317991
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 15:39:45 2017 +0200

    UNOMI-118 : Increase timeout on service lookup, problem with timing on CI environment.

 .../src/test/java/org/apache/unomi/itests/ConditionEvaluatorIT.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 712f1fc8cff8fd4cdc6527224c753a678388dcec
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 15:26:34 2017 +0200

    UNOMI-118 : Increase waiting time, problem with timing on CI environment.

 itests/src/test/java/org/apache/unomi/itests/ProfileImportActorsIT.java | 2 +-
 .../src/test/java/org/apache/unomi/itests/ProfileImportRankingIT.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 97cdbf5a844d303d73f105708215040915f7a55c
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 15:16:47 2017 +0200

    UNOMI-118 : Remove basic test, problem with timing on CI environment.

 itests/src/test/java/org/apache/unomi/itests/AllITs.java          | 2 +-
 itests/src/test/java/org/apache/unomi/itests/BaseIT.java          | 4 ++--
 .../test/java/org/apache/unomi/itests/ConditionEvaluatorIT.java   | 1 +
 .../test/java/org/apache/unomi/itests/ProfileImportActorsIT.java  | 6 +++---
 .../test/java/org/apache/unomi/itests/ProfileImportRankingIT.java | 6 +++---
 .../org/apache/unomi/itests/ProfileImportSurfersDeleteIT.java     | 4 ++--
 .../test/java/org/apache/unomi/itests/ProfileImportSurfersIT.java | 8 ++++++--
 .../org/apache/unomi/itests/ProfileImportSurfersOverwriteIT.java  | 4 ++--
 8 files changed, 20 insertions(+), 15 deletions(-)

commit 98fd7109b2ccc098f7403a2e3bf611b223b1f2ba
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:58:16 2017 +0200

    UNOMI-118 : Profile export test

 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../org/apache/unomi/itests/ProfileExportIT.java   | 156 +++++++++++++++++++++
 2 files changed, 158 insertions(+), 1 deletion(-)

commit cdbfe4544466a4d1b38d20bf02343ff7d053833e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:57:06 2017 +0200

    Comment failing asserts

 .../apache/unomi/itests/ConditionEvaluatorIT.java  | 46 +++++++++++-----------
 1 file changed, 23 insertions(+), 23 deletions(-)

commit ac12c18b56c5863a1712a05452307c5e508fae44
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:53:42 2017 +0200

    Change Info logs to Debug

 .../unomi/router/services/ProfileImportServiceImpl.java    | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 73af8d61a1bec97827685ab7800721447dc9b160
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:53:06 2017 +0200

    Add delay option

 .../unomi/router/core/route/ProfileExportCollectRouteBuilder.java   | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 34c64e2a28680944de0f23e3146489f3000eea5e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:52:13 2017 +0200

    Refactoring of propertyType list retrieval

 .../unomi/router/api/services/ProfileExportService.java |  4 ++--
 .../unomi/router/core/processor/LineBuildProcessor.java | 12 +-----------
 .../router/core/processor/LineSplitFailureHandler.java  |  2 +-
 .../unomi/router/core/processor/LineSplitProcessor.java |  7 ++++---
 .../core/route/ProfileExportProducerRouteBuilder.java   |  2 --
 .../router/rest/ExportConfigurationServiceEndPoint.java |  3 +--
 .../unomi/router/services/ProfileExportServiceImpl.java | 17 +++++++++--------
 7 files changed, 18 insertions(+), 29 deletions(-)

commit 69cdb58cc91e83e194b1d878b624d454b3eed2dd
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:48:08 2017 +0200

    Move exceptions to the api module

 .../unomi/router/api/exceptions}/BadProfileDataFormatException.java     | 2 +-
 .../unomi/router/core/route/ProfileImportFromSourceRouteBuilder.java    | 2 +-
 .../unomi/router/core/route/ProfileImportOneShotRouteBuilder.java       | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit d4bd36540722b0583c3a00fd5e926cb640c44b66
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 17 12:46:39 2017 +0200

    Update README

 extensions/router/README.md | 5 +++++
 1 file changed, 5 insertions(+)

commit a597b5ea0996079ed23edbc13da4eda902fd1fbe
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Aug 15 00:26:46 2017 +0200

    UNOMI-118 : Actors test, profile import

 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 +
 .../apache/unomi/itests/ProfileImportActorsIT.java | 182 +++++++++++++++++++++
 itests/src/test/resources/6-actors-test.csv        |   7 +
 4 files changed, 193 insertions(+), 1 deletion(-)

commit bcb77c5c88e86231690ebbd2a77cd84226ec7367
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Aug 15 00:24:55 2017 +0200

    UNOMI-101 : multi-value delimiter default value

 .../router/core/processor/LineSplitProcessor.java     | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit 2c32e4f5dfca5709eb13e5deb7c64df48e027d8e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Aug 14 02:39:57 2017 +0200

    UNOMI-118 : Surfers overwrite test, profile import

 .../test/java/org/apache/unomi/itests/AllITs.java  |   1 +
 .../test/java/org/apache/unomi/itests/BaseIT.java  |  10 +-
 .../apache/unomi/itests/ProfileImportBasicIT.java  |   2 +-
 .../unomi/itests/ProfileImportRankingIT.java       |  14 +-
 .../unomi/itests/ProfileImportSurfersDeleteIT.java |  10 +-
 .../unomi/itests/ProfileImportSurfersIT.java       |   2 +-
 .../itests/ProfileImportSurfersOverwriteIT.java    | 154 +++++++++++++++++++++
 .../test/resources/3-surfers-overwrite-test.csv    |  37 +++++
 ...s-delete-test.csv => 4-surfers-delete-test.csv} |   0
 .../{4-ranking-test.csv => 5-ranking-test.csv}     |   0
 10 files changed, 212 insertions(+), 18 deletions(-)

commit a8de6e1f73c05229a27fd82aa6e340d852c84a63
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Aug 14 01:18:49 2017 +0200

    UNOMI-118 : Ranking test, profile import

 .../router/services/ProfileImportServiceImpl.java  |  69 ++++----
 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 +
 .../unomi/itests/ProfileImportRankingIT.java       | 180 +++++++++++++++++++++
 .../unomi/itests/ProfileImportSurfersDeleteIT.java |   6 +-
 .../unomi/itests/ProfileImportSurfersIT.java       |   6 +-
 itests/src/test/resources/4-ranking-test.csv       |  26 +++
 7 files changed, 253 insertions(+), 39 deletions(-)

commit 777b13e95efb5582fadfb5781a1e71413a1a5983
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Aug 11 08:04:40 2017 +0200

    UNOMI-118 : Surfers delete test, profile import

 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 +
 .../unomi/itests/ProfileImportSurfersDeleteIT.java | 132 +++++++++++++++++++++
 .../unomi/itests/ProfileImportSurfersIT.java       |  28 ++---
 .../src/test/resources/3-surfers-delete-test.csv   |  37 ++++++
 5 files changed, 180 insertions(+), 22 deletions(-)

commit 0c72257109f5e13507d5e20e4d4052df0eedcea6
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 17:32:58 2017 +0200

    Weather update fix cfg name

 extensions/weather-update/core/pom.xml                           | 2 +-
 extensions/weather-update/karaf-kar/src/main/feature/feature.xml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b02863425db8ce65ceedfbc7cb835507024dd6ee
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 02:20:34 2017 +0200

    UNOMI-118 : Surfers test, profile import, and rename Basic test

 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 +
 ...fileImportIT.java => ProfileImportBasicIT.java} |  19 ++-
 .../unomi/itests/ProfileImportSurfersIT.java       | 177 +++++++++++++++++++++
 itests/src/test/resources/2-surfers-test.csv       |  37 +++++
 5 files changed, 231 insertions(+), 7 deletions(-)

commit 5c99fb29c74456a6e88576c08ac1ffb193bc6c9a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 01:23:59 2017 +0200

    UNOMI-101 : Remove unused method following the use of RFC4180Parser

 .../src/main/java/org/apache/unomi/router/api/RouterUtils.java      | 6 ------
 1 file changed, 6 deletions(-)

commit 3e6739faf37693c18147318a0bcf9015475e1917
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 01:23:05 2017 +0200

    UNOMI-101 : Ignore profiles marked as "To Delete" if they do not exist

 .../org/apache/unomi/router/services/ProfileImportServiceImpl.java  | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 2d9a95a53cd2c4f59245d60e6ab2eee612c4170f
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 01:22:16 2017 +0200

    UNOMI-101 : Fix null profile service in recurrent import routes

 .../java/org/apache/unomi/router/core/context/RouterCamelContext.java    | 1 +
 1 file changed, 1 insertion(+)

commit d37b0be4800207d197c63ac507174a930c17314e
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Aug 10 01:19:03 2017 +0200

    UNOMI-101 : Fix issue with empty column

 .../unomi/router/core/processor/LineSplitProcessor.java       | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit 4f1ed654bb0089510d866b77377875e8604cd9b8
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Aug 8 17:37:05 2017 +0200

    UNOMI-117 deprecate function and class to prepare tags refactoring

 .../java/org/apache/unomi/api/PropertyType.java    |  9 +++++
 api/src/main/java/org/apache/unomi/api/Tag.java    |  3 ++
 .../main/java/org/apache/unomi/api/ValueType.java  |  9 +++++
 .../unomi/api/services/DefinitionsService.java     | 38 ++++++++++++++++++++
 .../apache/unomi/api/services/ProfileService.java  | 12 +++++++
 .../unomi/rest/DefinitionsServiceEndPoint.java     | 14 ++++++--
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |  2 +-
 .../main/java/org/apache/unomi/rest/RESTTag.java   |  3 ++
 .../services/services/DefinitionsServiceImpl.java  | 40 ++++++++++++++++++++++
 .../unomi/services/services/GoalsServiceImpl.java  | 12 +++++++
 .../services/services/ProfileServiceImpl.java      | 12 +++++++
 11 files changed, 150 insertions(+), 4 deletions(-)

commit 8806c8f9259ea6cb491605c5be169507ef4b0940
Merge: a4ecc1ee c94efbeb
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Aug 8 14:47:39 2017 +0200

    Merge commit 'c94efbebab3172bd18b829dbeed132679d54bb4f'

commit a4ecc1ee1e88728306f0b93f64ca0ff7ecff104d
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Aug 8 14:46:47 2017 +0200

    UNOMI-118 : Basic test, profile import

 .gitignore                                         |   2 +-
 itests/pom.xml                                     |   7 ++
 .../test/java/org/apache/unomi/itests/AllITs.java  |   3 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |  18 +++-
 .../org/apache/unomi/itests/ProfileImportIT.java   | 107 +++++++++++++++++++++
 itests/src/test/resources/1-basic-test.csv         |   3 +
 .../src/test/resources/org.apache.unomi.router.cfg |  43 +++++++++
 pom.xml                                            |   2 +
 8 files changed, 181 insertions(+), 4 deletions(-)

commit 05544a7662d59f2ed578ca676ad99fc6bc4b9f5a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Aug 8 14:45:39 2017 +0200

    UNOMI-101 : Missing setters and update default value for multiValueDelimiter

 .../apache/unomi/router/api/ImportConfiguration.java   | 18 ++++++++++++++++++
 .../unomi/router/api/ImportExportConfiguration.java    |  2 +-
 2 files changed, 19 insertions(+), 1 deletion(-)

commit c94efbebab3172bd18b829dbeed132679d54bb4f
Author: dinesh1996 <Dragonball21>
Date:   Tue Aug 8 10:40:52 2017 +0200

    fix a issue with a constant

 .../apache/unomi/weatherupdate/actions/WeatherUpdateAction.java   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e097087123f6f976146fbff8bc18e060631c4f0a
Author: dinesh1996 <Dragonball21>
Date:   Mon Aug 7 11:27:55 2017 +0200

    Made changes asked by the pull request

 extensions/weather-update/README.md                |  6 +-
 .../weatherupdate/actions/WeatherUpdateAction.java | 98 +++++++++++++---------
 2 files changed, 61 insertions(+), 43 deletions(-)

commit d620b6675a5e34dcbd3d0e32e03e5e48b2d9426a
Author: dinesh1996 <Dragonball21>
Date:   Wed Aug 2 15:47:47 2017 +0200

    Rename bundle and add description

 .../core/src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 2 +-
 .../weather-update/core/src/main/resources/messages_en.properties     | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 25857fa19914fd09fb6435e40d0ccba626821856
Author: dinesh1996 <Dragonball21>
Date:   Tue Aug 1 12:05:02 2017 +0200

    Properties description changed

 .../core/src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 2 +-
 .../weather-update/core/src/main/resources/messages_en.properties     | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit fd67c2f988b403ac81d2edfe930f18ca921e327b
Author: dinesh1996 <Dragonball21>
Date:   Thu Jul 27 17:19:00 2017 +0200

    Cluster name changed

 .../src/main/resources/org.apache.unomi.persistence.elasticsearch.cfg   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cdcaeba38d8021818fe32d98ee31da6b9cc0724b
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 15:56:49 2017 +0200

    Add Java Doc and update the README.

 .../weatherupdate/actions/WeatherUpdateAction.java | 106 +++++++++++----------
 1 file changed, 58 insertions(+), 48 deletions(-)

commit 5d90e592f3b6328aea13509cd23574d1e7573a8b
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 14:29:54 2017 +0200

    Integrate weather update extension to unomi

 extensions/weather-update/README.md                          | 12 ++++++++++--
 .../src/main/resources/org.apache.unomi.weatherUpdate.cfg    |  1 -
 2 files changed, 10 insertions(+), 3 deletions(-)

commit ee6b238b88b153bb5f9e1480f11bd712b6226203
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 17:51:22 2017 +0200

    Changed the default value

 .../core/src/main/resources/org.apache.unomi.weatherUpdate.cfg          | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 512cb2d7744401587a1512db3bbeae82892965aa
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 16:30:05 2017 +0200

    Updating the branch

 .../weatherupdate/actions/WeatherUpdateAction.java | 106 ++++++++++-----------
 .../resources/org.apache.unomi.weatherUpdate.cfg   |   2 +-
 2 files changed, 49 insertions(+), 59 deletions(-)

commit acfe90d96db14a4a0b65ae892b6ebb8c480acec3
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 15:56:49 2017 +0200

    Add Java Doc and update the README.

 extensions/weather-update/README.md                |  21 ++--
 .../weatherupdate/actions/WeatherUpdateAction.java | 106 +++++++++++----------
 .../resources/org.apache.unomi.weatherUpdate.cfg   |   2 +-
 3 files changed, 72 insertions(+), 57 deletions(-)

commit 774e8010ed4bf2d8452f8eaa86582c35e0f90d02
Author: dinesh1996 <Dragonball21>
Date:   Wed Jul 26 14:29:54 2017 +0200

    Integrate weather update extension to unomi

 extensions/pom.xml                                 |   1 +
 extensions/weather-update/.gitignore               |   8 +
 extensions/weather-update/README.md                |  30 +++
 extensions/weather-update/core/pom.xml             | 100 ++++++++
 .../weatherupdate/actions/WeatherUpdateAction.java | 251 +++++++++++++++++++++
 .../META-INF/cxs/actions/UpdateWeatherAction.json  |  15 ++
 .../properties/sessions/weather/weatherLike.json   |  13 ++
 .../properties/sessions/weather/weatherTemp.json   |  13 ++
 .../sessions/weather/weatherWindDirection.json     |  13 ++
 .../sessions/weather/weatherWindSpeed.json         |  13 ++
 .../META-INF/cxs/rules/UpdateWeather.json          |  40 ++++
 .../sessions/weatherSessionProperties.json         |   5 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  44 ++++
 .../core/src/main/resources/messages_en.properties |  18 ++
 .../resources/org.apache.unomi.weatherUpdate.cfg   |  20 ++
 extensions/weather-update/karaf-kar/pom.xml        |  82 +++++++
 .../karaf-kar/src/main/feature/feature.xml         |  28 +++
 extensions/weather-update/pom.xml                  |  37 +++
 .../org.apache.unomi.persistence.elasticsearch.cfg |   4 +-
 19 files changed, 733 insertions(+), 2 deletions(-)

commit bc064864dce1b2bdf79ed531b9029a504590e7f5
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Aug 2 04:31:56 2017 +0200

    UNOMI-102 : Use  OpenCsv as an RFC4180 parser

 .../java/org/apache/unomi/router/api/RouterUtils.java |  7 +++++++
 extensions/router/router-core/pom.xml                 | 19 +++++++++++++++++++
 .../router/core/processor/LineSplitProcessor.java     | 12 ++++++++++--
 .../router/services/ProfileExportServiceImpl.java     | 11 ++++++++---
 4 files changed, 44 insertions(+), 5 deletions(-)

commit 4ee8adb1cd60936caca84fa7d39017a37fb20d34
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jul 26 14:50:30 2017 +0200

    UNOMI-101 : Allow setting todelete column to true for unkown profiles

 .../java/org/apache/unomi/router/services/ProfileImportServiceImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 44b3e4a46f05118f0bfb05561f81ba7ed102b8ae
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jul 26 09:51:51 2017 +0200

    UNOMI-101 : Allow partial mapping

 .../java/org/apache/unomi/router/core/processor/LineSplitProcessor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e49d5c4ff11d794cb00b8f16757ac724e32bbf6
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 25 17:23:54 2017 +0200

    UNOMI-101 : Class Cast Exception when merging property is not a text

 .../org/apache/unomi/router/services/ProfileImportServiceImpl.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a635d19cc18cf9f386bbf1986bebf3a0f42c7267
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jul 21 17:21:58 2017 +0200

    Documentation changes :
    - Add segments to extensions documentation.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../markdown/versions/master/custom-extensions.md  | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit f2117f691da1f4c00caf7a2fd2272eb75bbf366c
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jul 21 16:57:00 2017 +0200

    Documentation changes :
    - New custom extensions page
    - Minor improvements
    - Added a new main documentation page and removed the sub-menus that were causing issues.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/main.md                          |  39 +++
 .../markdown/versions/master/custom-extensions.md  | 336 +++++++++++++++++++++
 .../markdown/versions/master/getting-started.md    |  10 +-
 .../markdown/versions/master/twitter-sample.md     |  10 +-
 src/site/site.xml                                  |  24 +-
 5 files changed, 393 insertions(+), 26 deletions(-)

commit b11a1e4fa47f8c302119aef02275bc3949546a34
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Jul 21 14:43:07 2017 +0200

    Update default values and change method name

 .../java/org/apache/unomi/router/api/ImportExportConfiguration.java   | 4 ++--
 .../unomi/router/rest/AbstractConfigurationServiceEndpoint.java       | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit e5874d9659d30e8513d955b59572bc7d31251398
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 20 19:18:37 2017 +0200

    Documentation changes :
    - Added sample requests using curl to the Getting Started page
    - Moved the Twitter sample to a separate sample page
    - Added a Login sample page.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/versions/1.1/getting-started.md  |   2 +-
 .../markdown/versions/master/getting-started.md    | 398 +++------------------
 src/site/markdown/versions/master/login-sample.md  |  56 +++
 src/site/markdown/versions/master/samples.md       |  23 ++
 .../markdown/versions/master/twitter-sample.md     | 397 ++++++++++++++++++++
 .../versions/master/weather-update-sample.md       |  19 +
 src/site/site.xml                                  |   1 +
 7 files changed, 537 insertions(+), 359 deletions(-)

commit 9a6647c89c911ef47fb3be2a9722d9d3ecafaf28
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jul 19 15:48:13 2017 +0200

    Quick update to the maturity report card.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/maturity-model-report.md | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 167eb63302ea8885cb5cb5552960e3c394e43748
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jul 19 15:18:44 2017 +0200

    UNOMI-116 Salesforce CRM Connector
    - Add documentation for the new connector
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/index.md                         |  1 +
 src/site/markdown/versions/master/connectors.md    | 26 ++++++++++++++++++++++
 .../versions/master/salesforce-connector.md        | 12 ++++++++--
 src/site/site.xml                                  |  1 +
 4 files changed, 38 insertions(+), 2 deletions(-)

commit b88383a9ee445029c0c9a7d4bec95441ba8eb1ee
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jul 19 14:42:10 2017 +0200

    UNOMI-116 Salesforce CRM Connector
    - Fix references in features descriptor
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../salesforce-connector/karaf-kar/src/main/feature/feature.xml   | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a897ab8437966975a45082cb042c500540c8c0f8
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jul 19 14:28:54 2017 +0200

    UNOMI-116 Salesforce CRM Connector
    - Initial commit
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .gitignore                                         |   1 +
 extensions/pom.xml                                 |   1 +
 extensions/salesforce-connector/README.md          | 148 ++++
 extensions/salesforce-connector/actions/pom.xml    |  49 ++
 .../sfdc/actions/CreateOrUpdateLeadAction.java     |  42 ++
 .../sfdc/actions/UpdateProfileFromLeadAction.java  |  43 ++
 .../cxs/actions/sfdcCreateOrUpdateLead.json        |  15 +
 .../cxs/actions/sfdcUpdateProfileFromLead.json     |  15 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  44 ++
 .../salesforce-connector/compileWithTests.sh       |  20 +
 extensions/salesforce-connector/karaf-kar/pom.xml  |  93 +++
 .../karaf-kar/src/main/feature/feature.xml         |  28 +
 extensions/salesforce-connector/pom.xml            |  39 +
 extensions/salesforce-connector/rest/pom.xml       | 132 ++++
 .../org/apache/unomi/sfdc/rest/SFDCEndPoint.java   |  81 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  67 ++
 extensions/salesforce-connector/services/pom.xml   | 164 +++++
 .../apache/unomi/sfdc/services/FieldMapping.java   |  35 +
 .../apache/unomi/sfdc/services/MappedField.java    |  30 +
 .../unomi/sfdc/services/SFDCConfiguration.java     | 178 +++++
 .../apache/unomi/sfdc/services/SFDCService.java    |  81 ++
 .../apache/unomi/sfdc/services/SFDCSession.java    |  71 ++
 .../sfdc/services/internal/SFDCServiceImpl.java    | 815 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  65 ++
 .../src/main/resources/org.apache.unomi.sfdc.cfg   |  26 +
 .../services/internal/SFDCServiceImplTest.java     | 211 ++++++
 26 files changed, 2494 insertions(+)

commit 139e1b751e2917fae53efdc75a9c14eb97ed1c6a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 18 11:29:42 2017 +0200

    DMF-1769 : Ensure that segments and scoring plans are up to date when importing profiles

 .../org/apache/unomi/router/services/ProfileImportServiceImpl.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a84a12b93f2fca86ba0d4ac8c116f1db586e6085
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 13 18:01:58 2017 +0200

    UNOMI-115 Error in Documentation - Step 6: Five Minute Quick Start
    - Fix comment that was preventing JavaDocs from generating.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 api/src/main/java/org/apache/unomi/api/ContextRequest.java | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 2c34b5f62cc77c5fed4d5a36ca66239cfa9a6053
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 13 17:23:28 2017 +0200

    UNOMI-115 Error in Documentation - Step 6: Five Minute Quick Start
    - Correct URL to replace session with sessionId
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/index.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 875b6eb54bb2b5d950eb8e4d30313ae9b0c00950
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 13 16:31:12 2017 +0200

    UNOMI-102 : PropertyType validation get recently added propertyTypes

 .../processor/ImportRouteCompletionProcessor.java  |  8 +++----
 .../router/core/processor/LineSplitProcessor.java  | 26 +++++++++++++---------
 .../core/processor/UnomiStorageProcessor.java      |  2 +-
 .../route/ProfileImportFromSourceRouteBuilder.java |  3 +--
 .../route/ProfileImportOneShotRouteBuilder.java    |  4 ++--
 .../route/ProfileImportToUnomiRouteBuilder.java    |  2 +-
 6 files changed, 24 insertions(+), 21 deletions(-)

commit b620846815bd4f30518b96153997101c82999bd1
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 13 12:09:11 2017 +0200

    UNOMI-102 : Update README

 extensions/router/README.md | 45 ++++++++++++++++++++++++++++++++++-----------
 1 file changed, 34 insertions(+), 11 deletions(-)

commit 75e89cb738c98c0560d1f7a095752bf8a158c2fc
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 13 12:08:41 2017 +0200

    UNOMI-102 : Update segments and scores after the import (use batch)

 .../java/org/apache/unomi/router/services/ProfileImportServiceImpl.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e605ac9ca45a721ce65a3b3a99184533582642e
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 13 10:59:02 2017 +0200

    UNOMI-114 Disabled rules are still executed
    - Make sure that we don't use disabled rules.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/services/services/RulesServiceImpl.java   | 6 ++++++
 1 file changed, 6 insertions(+)

commit f0f871da408e58682ff3236cbe4772b28f842439
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jul 12 17:29:34 2017 +0200

    UNOMI-102 : Update segments and scores after the import

 .../core/processor/UnomiStorageProcessor.java      | 23 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 ++
 .../router/services/ProfileImportServiceImpl.java  |  3 +++
 3 files changed, 28 insertions(+)

commit 3f3b20aaf3c5dd04abd47c25c849ecccfc372c61
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jul 12 16:31:22 2017 +0200

    UNOMI-102 : Limit number of error in the execution report

 .../org/apache/unomi/router/core/context/RouterCamelContext.java | 5 +++++
 .../router/core/processor/ImportRouteCompletionProcessor.java    | 9 ++++++++-
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 3 +++
 .../router-core/src/main/resources/org.apache.unomi.router.cfg   | 3 +++
 4 files changed, 19 insertions(+), 1 deletion(-)

commit 1e60e8de8f5aaef9ffcfe3a3f5640569d278d8e9
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jul 12 15:48:16 2017 +0200

    UNOMI-102 : Validate the data type match the property type Import / Export

 .../router/api/ImportExportConfiguration.java      | 40 +++++++++++
 .../apache/unomi/router/api/RouterConstants.java   |  5 +-
 .../org/apache/unomi/router/api/RouterUtils.java   | 14 +++-
 .../router/api/services/ProfileExportService.java  |  7 +-
 .../router/core/context/RouterCamelContext.java    | 13 +++-
 .../router/core/processor/LineBuildProcessor.java  | 15 +++-
 .../router/core/processor/LineSplitProcessor.java  | 80 +++++++++++++++++++---
 .../route/ProfileExportProducerRouteBuilder.java   |  6 +-
 .../route/ProfileImportFromSourceRouteBuilder.java |  4 ++
 .../route/ProfileImportOneShotRouteBuilder.java    |  1 +
 .../core/route/RouterAbstractRouteBuilder.java     |  8 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +
 .../rest/ExportConfigurationServiceEndPoint.java   | 10 ++-
 .../rest/ImportConfigurationServiceEndPoint.java   |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +
 extensions/router/router-service/pom.xml           |  4 ++
 .../router/services/ProfileExportServiceImpl.java  | 33 ++++++---
 17 files changed, 216 insertions(+), 30 deletions(-)

commit eed5bec78d2ad2bac70ac9dc0a8e266d006a197c
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 11 10:54:04 2017 +0200

    UNOMI-102 : Add check for hasDeleteColumn when splitting lines

 .../java/org/apache/unomi/router/core/processor/LineSplitProcessor.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11d9efdb5455927fec33a791b4ba0285c2f3da98
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jul 10 16:34:40 2017 +0200

    UNOMI-113 ClassNotFoundException when using expression to dispatch to an action
    - Fix class loading exception in condition evaluator
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/actions/ActionExecutorDispatcher.java | 24 ++++++++++++++--------
 1 file changed, 15 insertions(+), 9 deletions(-)

commit cf27900b9dd0d946d2a05fbfe970cc147a736014
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Jul 7 16:53:41 2017 +0200

    UNOMI-102 : Recurrent to Oneshot export update

 .../rest/ExportConfigurationServiceEndPoint.java   | 38 ++++++++++------------
 .../rest/ImportConfigurationServiceEndPoint.java   | 35 ++++++++++----------
 2 files changed, 34 insertions(+), 39 deletions(-)

commit efc4a9ce310a129644f744199f97d00d5cd06aac
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Jul 7 16:31:04 2017 +0200

    UNOMI-87 fix issue when removing scoring plan

 .../ElasticSearchPersistenceServiceImpl.java             |  3 +--
 .../unomi/services/services/SegmentServiceImpl.java      | 16 ++++++++++------
 2 files changed, 11 insertions(+), 8 deletions(-)

commit bb96940dabbd90481594f84774a06b16f0f402c7
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 6 17:40:22 2017 +0200

    UNOMI-102 : Line separator must be a char not a string

 .../unomi/router/core/strategy/StringLinesAggregationStrategy.java | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit fde2932497fdba2b2739b6b85da6e9582a27223a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 6 15:00:59 2017 +0200

    UNOMI-102 : Line separator must be a char not a string

 .../src/main/java/org/apache/unomi/router/api/RouterUtils.java   | 8 ++++++++
 .../apache/unomi/router/services/ProfileExportServiceImpl.java   | 9 ++++-----
 2 files changed, 12 insertions(+), 5 deletions(-)

commit be379f8eca0a6f804b89d380c5c938dd684bf234
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jul 6 02:54:45 2017 +0200

    UNOMI-101 : Add Exception mapper for error handling

 .../router/rest/ConfigRestExceptionMapper.java     | 33 ++++++++++
 .../rest/ExportConfigurationServiceEndPoint.java   | 17 +++--
 .../rest/ImportConfigurationServiceEndPoint.java   | 11 +++-
 .../unomi/router/rest/PartialContentException.java | 74 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 ++
 5 files changed, 131 insertions(+), 8 deletions(-)

commit 8f6f2472d8514462ab47489b8a04146abb4beea1
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jul 5 09:19:21 2017 +0200

    UNOMI-112 Inconsistent domains set on Apache Unomi context-profile-id cookies
    - Make sure we use the same configuration througout all the code that sets cookies.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../actions/MergeProfilesOnPropertyAction.java     | 39 +++++++++++++---------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 ++
 .../java/org/apache/unomi/web/ContextServlet.java  | 29 ++++++++++++----
 .../main/java/org/apache/unomi/web/HttpUtils.java  |  8 ++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++
 wab/src/main/resources/org.apache.unomi.web.cfg    |  8 +++--
 6 files changed, 62 insertions(+), 31 deletions(-)

commit 2c5d5be4e224b0ac526979e2afc3b65c7aaba4e7
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 4 16:51:53 2017 +0200

    UNOMI-101 : Add hasHeader, hasDeleteColumn flags in importConfig (Update README)

 extensions/router/README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit d2a480cf5de2946c1eb9c8b06ae872c53f7ba6ea
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 4 16:48:24 2017 +0200

    UNOMI-102 : Update status on completion

 .../unomi/router/core/processor/ExportRouteCompletionProcessor.java      | 1 +
 1 file changed, 1 insertion(+)

commit 91e23a29e8d769cd10deb13f5983cd0a34a161e5
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 4 16:47:38 2017 +0200

    UNOMI-101 : Add hasHeader, hasDeleteColumn flags in importConfig

 .../unomi/router/api/ImportConfiguration.java      | 24 ++++++++++++++++++++++
 .../apache/unomi/router/api/RouterConstants.java   |  3 ++-
 .../processor/ImportRouteCompletionProcessor.java  |  8 ++++++--
 .../router/core/processor/LineSplitProcessor.java  | 23 +++++++++++++++++----
 .../route/ProfileImportFromSourceRouteBuilder.java |  2 ++
 5 files changed, 53 insertions(+), 7 deletions(-)

commit 061ee51e001be5244f105e580de6a64781e29f1d
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jul 4 14:15:31 2017 +0200

    Extensions : Router : Update README

 extensions/router/README.md                        | 82 ++++++++++++++++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 .../src/main/resources/org.apache.unomi.router.cfg |  2 +-
 3 files changed, 70 insertions(+), 18 deletions(-)

commit 7396d1871b67ed465e4624ccd9617005438a2247
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jul 4 10:25:05 2017 +0200

    UNOMI-111 Modify prebuilt personas in Unomi
    - Remove google bot persona
    - Rename non US visitor persona to European visitor
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../{nonUsVisitor.json => europeanVisitor.json}    |  8 ++---
 .../resources/META-INF/cxs/personas/googleBot.json | 34 ----------------------
 2 files changed, 4 insertions(+), 38 deletions(-)

commit 6e7c493b8a0c9f8ee25b5ac50f637b9ced6b3a9c
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jul 3 21:08:36 2017 +0200

    UNOMI-110 Unomi logs "No matching query builder" message as warning when it should be in debug level
    - Change log level to debug
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9794636f1433da34c88a0d98b22423d5593e20f3
Author: Abdelkader Midani <amidani@apache.org>
Date:   Sat Jul 1 03:39:07 2017 +0200

    UNOMI-102 : Add oneshot export, improve camel osgi behaviour

 extensions/router/pom.xml                          |  2 +-
 .../apache/unomi/router/api/RouterConstants.java   |  6 ++
 .../org/apache/unomi/router/api/RouterUtils.java   | 42 +++++++++++
 .../router/api/services/ProfileExportService.java  | 33 +++++++++
 extensions/router/router-core/pom.xml              | 18 ++++-
 .../router/core/context/RouterCamelContext.java    | 23 +++++-
 .../processor/ExportRouteCompletionProcessor.java  | 19 ++---
 .../processor/ImportRouteCompletionProcessor.java  | 17 +----
 .../router/core/processor/LineBuildProcessor.java  | 20 +++---
 .../route/ProfileExportCollectRouteBuilder.java    |  4 +-
 .../route/ProfileExportProducerRouteBuilder.java   |  9 ++-
 .../route/ProfileImportFromSourceRouteBuilder.java |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 +
 .../src/main/resources/org.apache.unomi.router.cfg |  2 +-
 extensions/router/router-karaf-feature/pom.xml     |  7 +-
 extensions/router/router-rest/pom.xml              |  6 ++
 .../rest/ExportConfigurationServiceEndPoint.java   | 31 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +
 .../router/services/AbstractCustomServiceImpl.java | 76 ++++++++++++++++++++
 .../router/services/ProfileExportServiceImpl.java  | 83 ++++++++++++++++++++++
 .../router/services/ProfileImportServiceImpl.java  | 65 ++---------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 +++
 kar/src/main/feature/feature.xml                   |  1 +
 23 files changed, 369 insertions(+), 111 deletions(-)

commit 46900c554b4f51aa64261dcf2bf2dbb58928eede
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jun 30 22:03:40 2017 +0200

    UNOMI-109 NPE when an exception is caught in the ElasticSearch persistence implementation
    This is fixed by catching the result into a Boolean class and then checking if it is null before returning the result.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 72 ++++++++++++++++++----
 1 file changed, 60 insertions(+), 12 deletions(-)

commit db066aa8e3b6adf1ac4aa156a2f6bd07c553b021
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jun 30 09:06:33 2017 +0200

    UNOMI-108 Some configurations should not be distributed in the cluster
    - Added exclusions for the list of inbound and outbound configurations.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../etc/org.apache.karaf.cellar.groups.cfg         | 81 ++++++++++++++++++++++
 1 file changed, 81 insertions(+)

commit c0833fff48218dcbcb59c4a5a78ae4b79fb0fb86
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 29 11:49:25 2017 +0200

    UNOMI-102 : Remove segments (moved to properties as segment)

 .../java/org/apache/unomi/router/api/ExportConfiguration.java  | 10 ----------
 1 file changed, 10 deletions(-)

commit 8b08f15792e5dfe53074826a2002154be3406540
Merge: 5166fc23 f3118ab5
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 29 03:12:57 2017 +0200

    Merge branch 'pr/29'

commit 5166fc23ebfd01f5d122c2e75fdbf96823701f3b
Merge: 9db8296e 69e249cb
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 29 03:11:16 2017 +0200

    [jgitflow-maven-plugin]merging 'feature-UNOMI-102' into 'master'

commit 69e249cbbc4ec7ec5f95f64143be5d19d847803c
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 29 03:11:15 2017 +0200

    [jgitflow-maven-plugin]updating poms for unomi_102 version

 api/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                    |  2 +-
 extensions/geonames/rest/pom.xml               |  8 +++----
 extensions/geonames/services/pom.xml           |  8 +++----
 extensions/lists-extension/actions/pom.xml     |  8 +++----
 extensions/lists-extension/pom.xml             |  4 ++--
 extensions/lists-extension/rest/pom.xml        |  8 +++----
 extensions/lists-extension/services/pom.xml    |  8 +++----
 extensions/pom.xml                             |  2 +-
 extensions/privacy-extension/pom.xml           |  4 ++--
 extensions/privacy-extension/rest/pom.xml      |  8 +++----
 extensions/privacy-extension/services/pom.xml  |  8 +++----
 extensions/router/pom.xml                      |  2 +-
 extensions/router/router-api/pom.xml           |  2 +-
 extensions/router/router-core/pom.xml          |  2 +-
 extensions/router/router-karaf-feature/pom.xml |  2 +-
 extensions/router/router-rest/pom.xml          |  2 +-
 extensions/router/router-service/pom.xml       |  2 +-
 kar/pom.xml                                    | 32 +++++++++++++-------------
 lifecycle-watcher/pom.xml                      |  2 +-
 package/pom.xml                                |  6 ++---
 persistence-elasticsearch/core/pom.xml         |  6 ++---
 persistence-elasticsearch/pom.xml              |  2 +-
 persistence-spi/pom.xml                        |  4 ++--
 plugins/baseplugin/pom.xml                     |  6 ++---
 plugins/hover-event/pom.xml                    |  4 ++--
 plugins/mail/pom.xml                           |  4 ++--
 plugins/optimization-test/pom.xml              |  2 +-
 plugins/past-event/pom.xml                     |  6 ++---
 plugins/pom.xml                                |  4 ++--
 plugins/request/pom.xml                        |  2 +-
 plugins/tracked-event/pom.xml                  |  6 ++---
 pom.xml                                        |  2 +-
 rest/pom.xml                                   |  6 ++---
 samples/login-integration/pom.xml              |  4 ++--
 samples/pom.xml                                |  2 +-
 samples/tweet-button-plugin/pom.xml            |  4 ++--
 services/pom.xml                               |  6 ++---
 wab/pom.xml                                    |  6 ++---
 39 files changed, 99 insertions(+), 99 deletions(-)

commit b7194f470d4ec728f0205b3386571f21d15f2bda
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 29 03:09:55 2017 +0200

    UNOMI-102 : Add Camel config for export features

 .../apache/unomi/router/api/RouterConstants.java   |  9 ++-
 .../unomi/router/core/bean/CollectProfileBean.java | 38 +++++++++++
 .../router/core/context/RouterCamelContext.java    | 33 ++++++----
 .../core/processor/ConfigUpdateProcessor.java      |  1 -
 .../processor/ExportRouteCompletionProcessor.java  | 76 ++++++++++++++++++++++
 ...or.java => ImportRouteCompletionProcessor.java} |  6 +-
 .../router/core/processor/LineBuildProcessor.java  | 54 +++++++++++++++
 .../core/route/ConfigUpdateRouteBuilder.java       |  1 -
 .../route/ProfileExportCollectRouteBuilder.java    | 53 ++++++++++-----
 .../route/ProfileExportProducerRouteBuilder.java   | 69 ++++++++++++++++++++
 .../route/ProfileImportFromSourceRouteBuilder.java | 18 ++---
 .../route/ProfileImportOneShotRouteBuilder.java    | 26 +++-----
 .../route/ProfileImportToUnomiRouteBuilder.java    | 21 +++---
 ...uilder.java => RouterAbstractRouteBuilder.java} | 43 ++++++++----
 .../strategy/ArrayListAggregationStrategy.java     |  2 -
 .../strategy/StringLinesAggregationStrategy.java   | 41 ++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 43 +++++++-----
 .../src/main/resources/org.apache.unomi.router.cfg | 17 +++--
 18 files changed, 437 insertions(+), 114 deletions(-)

commit f3118ab525d6c51c12753064ab83b8a99d34c75a
Author: rizak <rizak.ahmed@gmail.com>
Date:   Wed Jun 28 16:57:05 2017 +0200

    UNOMI-107 : Add a tag to distinct autocompleted properties.

 services/src/main/resources/META-INF/cxs/tags/autocompleted.json | 4 ++++
 1 file changed, 4 insertions(+)

commit 9db8296e7b9cb02cec1ec2252dba91470eb22dff
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jun 28 13:38:10 2017 +0200

    Update pom version following the merge of UNOMI-102

 api/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                    |  2 +-
 extensions/geonames/rest/pom.xml               |  8 +++----
 extensions/geonames/services/pom.xml           |  8 +++----
 extensions/lists-extension/actions/pom.xml     |  8 +++----
 extensions/lists-extension/pom.xml             |  4 ++--
 extensions/lists-extension/rest/pom.xml        |  8 +++----
 extensions/lists-extension/services/pom.xml    |  8 +++----
 extensions/pom.xml                             |  2 +-
 extensions/privacy-extension/pom.xml           |  4 ++--
 extensions/privacy-extension/rest/pom.xml      |  8 +++----
 extensions/privacy-extension/services/pom.xml  |  8 +++----
 extensions/router/pom.xml                      |  2 +-
 extensions/router/router-api/pom.xml           |  2 +-
 extensions/router/router-core/pom.xml          |  2 +-
 extensions/router/router-karaf-feature/pom.xml |  2 +-
 extensions/router/router-rest/pom.xml          |  2 +-
 extensions/router/router-service/pom.xml       |  2 +-
 kar/pom.xml                                    | 32 +++++++++++++-------------
 lifecycle-watcher/pom.xml                      |  2 +-
 package/pom.xml                                |  6 ++---
 persistence-elasticsearch/core/pom.xml         |  6 ++---
 persistence-elasticsearch/pom.xml              |  2 +-
 persistence-spi/pom.xml                        |  4 ++--
 plugins/baseplugin/pom.xml                     |  6 ++---
 plugins/hover-event/pom.xml                    |  4 ++--
 plugins/mail/pom.xml                           |  4 ++--
 plugins/optimization-test/pom.xml              |  2 +-
 plugins/past-event/pom.xml                     |  6 ++---
 plugins/pom.xml                                |  4 ++--
 plugins/request/pom.xml                        |  2 +-
 plugins/tracked-event/pom.xml                  |  6 ++---
 pom.xml                                        |  2 +-
 rest/pom.xml                                   |  6 ++---
 samples/login-integration/pom.xml              |  4 ++--
 samples/pom.xml                                |  2 +-
 samples/tweet-button-plugin/pom.xml            |  4 ++--
 services/pom.xml                               |  6 ++---
 wab/pom.xml                                    |  6 ++---
 39 files changed, 99 insertions(+), 99 deletions(-)

commit df59f575bc63ac123de7ca6ad012aafc9eadc3b8
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jun 28 10:21:40 2017 +0200

    UNOMI-106 Infinite loop on startup
    - Refactored ConfigSharingService to use a single one across the whole application. It also supports listeners if needed.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/api/services/ConfigSharingService.java   |  47 +++++++++-
 .../core/config/ConfigSharingServiceImpl.java      |  77 ---------------
 .../router/core/context/RouterCamelContext.java    |   9 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  13 +--
 .../rest/AbstractConfigurationServiceEndpoint.java |  12 +--
 .../rest/ExportConfigurationServiceEndPoint.java   |   2 +-
 .../rest/ImportConfigurationServiceEndPoint.java   |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  17 +---
 .../services/ConfigSharingServiceImpl.java         | 103 +++++++++++++++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  13 +--
 10 files changed, 157 insertions(+), 140 deletions(-)

commit 27a7288e89bce78fb9add5bd9b8b36c76ef6c133
Merge: 8860ddff cb83301f
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jun 28 02:31:57 2017 +0200

    Merge branch 'feature-UNOMI-102'

commit cb83301ffdaa6fb0fef9969fbaf4582c0d1df2b4
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jun 28 02:31:06 2017 +0200

    UNOMI-106 : Expose a service to share cfg properties with other bundles

 .../services/ConfigSharingServiceImpl.java         | 80 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 11 +++
 2 files changed, 91 insertions(+)

commit c62f91d4bec9ef723f9af4e50c7506cb88ec02d9
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jun 28 02:28:17 2017 +0200

    UNOMI-102 : Refactor import code to avoid code duplication with export features

 .../unomi/api/services/ConfigSharingService.java   |  32 ++++
 .../unomi/router/api/ExportConfiguration.java      |  45 +++++
 .../unomi/router/api/ImportConfiguration.java      | 182 +-----------------
 .../router/api/ImportExportConfiguration.java      | 203 +++++++++++++++++++++
 .../apache/unomi/router/api}/RouterConstants.java  |   5 +-
 ....java => ImportExportConfigurationService.java} |  31 ++--
 extensions/router/router-core/pom.xml              |   7 +
 .../core/config/ConfigSharingServiceImpl.java      |  77 ++++++++
 ...rtCamelContext.java => RouterCamelContext.java} |  84 +++++++--
 .../core/processor/ConfigUpdateProcessor.java      |  12 +-
 .../processor/ImportConfigByFileNameProcessor.java |   8 +-
 .../core/processor/LineSplitFailureHandler.java    |   2 +-
 .../router/core/processor/LineSplitProcessor.java  |   2 +-
 .../core/processor/RouteCompletionProcessor.java   |   8 +-
 ...eBuilder.java => ConfigUpdateRouteBuilder.java} |  37 ++--
 .../route/ProfileExportCollectRouteBuilder.java    |  81 ++++++++
 .../route/ProfileImportAbstractRouteBuilder.java   |   2 +-
 .../route/ProfileImportFromSourceRouteBuilder.java | 104 ++++++-----
 .../route/ProfileImportOneShotRouteBuilder.java    |   2 +-
 .../route/ProfileImportToUnomiRouteBuilder.java    |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  39 +++-
 .../src/main/resources/org.apache.unomi.router.cfg |   8 +-
 extensions/router/router-karaf-feature/pom.xml     |   2 +-
 .../rest/AbstractConfigurationServiceEndpoint.java |  92 ++++++++++
 .../rest/ExportConfigurationServiceEndPoint.java   |  86 +++++++++
 .../rest/ImportConfigurationServiceEndPoint.java   |  92 ++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  46 +++--
 .../services/AbstractConfigurationServiceImpl.java |  73 ++++++++
 .../services/ExportConfigurationServiceImpl.java   |  61 +++++++
 .../services/ImportConfigurationServiceImpl.java   |  56 +-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  17 +-
 31 files changed, 1056 insertions(+), 442 deletions(-)

commit 8860ddffa9bc4387f3e9b7a7973a8345102562a2
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jun 27 11:09:37 2017 +0200

    UNOMI-106 Infinite loop on startup
    - Removed CXF bus configuration that might be causing CXF restarts that were noticed in some of the logs.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml  | 11 ++---------
 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml  | 11 ++---------
 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml  | 11 ++---------
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml       | 10 ++--------
 rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml      |  2 +-
 5 files changed, 9 insertions(+), 36 deletions(-)

commit 74fdd9ce67841f5decb7c627f914302137e0d542
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Jun 26 16:25:17 2017 +0200

    UNOMI-105 set characters encoding to avoid issue in the response

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fe8fbef4aec4211379db9899b5b2191cc594fad7
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Jun 19 13:20:42 2017 +0200

    [jgitflow-maven-plugin]updating poms for unomi_102 version

 api/pom.xml                                    |  2 +-
 extensions/geonames/pom.xml                    |  2 +-
 extensions/geonames/rest/pom.xml               |  8 +++----
 extensions/geonames/services/pom.xml           |  8 +++----
 extensions/lists-extension/actions/pom.xml     |  8 +++----
 extensions/lists-extension/pom.xml             |  4 ++--
 extensions/lists-extension/rest/pom.xml        |  8 +++----
 extensions/lists-extension/services/pom.xml    |  8 +++----
 extensions/pom.xml                             |  2 +-
 extensions/privacy-extension/pom.xml           |  4 ++--
 extensions/privacy-extension/rest/pom.xml      |  8 +++----
 extensions/privacy-extension/services/pom.xml  |  8 +++----
 extensions/router/pom.xml                      |  6 ++---
 extensions/router/router-api/pom.xml           |  6 ++---
 extensions/router/router-core/pom.xml          |  6 ++---
 extensions/router/router-karaf-feature/pom.xml |  6 ++---
 extensions/router/router-rest/pom.xml          |  6 ++---
 extensions/router/router-service/pom.xml       |  6 ++---
 kar/pom.xml                                    | 32 +++++++++++++-------------
 lifecycle-watcher/pom.xml                      |  6 ++---
 package/pom.xml                                |  6 ++---
 persistence-elasticsearch/core/pom.xml         |  6 ++---
 persistence-elasticsearch/pom.xml              |  2 +-
 persistence-spi/pom.xml                        |  4 ++--
 plugins/baseplugin/pom.xml                     |  6 ++---
 plugins/hover-event/pom.xml                    |  4 ++--
 plugins/mail/pom.xml                           |  4 ++--
 plugins/optimization-test/pom.xml              |  2 +-
 plugins/past-event/pom.xml                     |  6 ++---
 plugins/pom.xml                                |  4 ++--
 plugins/request/pom.xml                        |  2 +-
 plugins/tracked-event/pom.xml                  |  6 ++---
 pom.xml                                        |  2 +-
 rest/pom.xml                                   |  6 ++---
 samples/login-integration/pom.xml              |  4 ++--
 samples/pom.xml                                |  2 +-
 samples/tweet-button-plugin/pom.xml            |  4 ++--
 services/pom.xml                               |  6 ++---
 wab/pom.xml                                    |  6 ++---
 39 files changed, 106 insertions(+), 120 deletions(-)

commit d19be22158f31d539528d8772006d10f3bc77a1a
Author: Abdelkader Midani <amidani@apache.org>
Date:   Sat Jun 24 06:44:43 2017 +0200

    UNOMI-101 : Update inactive routes

 .../unomi/router/core/context/ProfileImportCamelContext.java      | 8 ++++++++
 1 file changed, 8 insertions(+)

commit cae1d4a60248d242138f6a85403c2e75655b28b9
Author: rizak <rizak.ahmed@gmail.com>
Date:   Tue Jun 20 13:49:33 2017 +0200

    UNOMI-103 : Add parameter in context servlet to invalidate session or profile

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit b55a20b72e2c389da9a0cbdefd36563bc3258539
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue Jun 20 13:41:05 2017 +0200

    UNOMI-101 : Java style, improvement of error handler

 .../core/context/ProfileImportCamelContext.java    |  1 -
 .../exception/BadProfileDataFormatException.java   |  2 +-
 .../core/processor/ConfigUpdateProcessor.java      |  2 +-
 .../processor/ImportConfigByFileNameProcessor.java |  2 +-
 .../core/processor/LineSplitFailureHandler.java    |  4 ++--
 .../router/core/processor/LineSplitProcessor.java  | 24 ++++++++++++--------
 .../core/processor/RouteCompletionProcessor.java   | 26 +++++++++++-----------
 .../route/ProfileImportAbstractRouteBuilder.java   |  8 +++----
 .../route/ProfileImportFromSourceRouteBuilder.java |  3 +--
 .../route/ProfileImportOneShotRouteBuilder.java    | 18 +++++++++++----
 .../route/ProfileImportToUnomiRouteBuilder.java    |  1 -
 11 files changed, 52 insertions(+), 39 deletions(-)

commit 6203e9947f5da98dc54eff20d7906fc5b51d1259
Author: Abdelkader Midani <amidani@apache.org>
Date:   Sun Jun 18 08:36:08 2017 +0200

    UNOMI-101 : Execution History and Import Status improvement

 .../apache/unomi/router/api/ImportConfiguration.java   | 18 +++++++++---------
 .../org/apache/unomi/router/core/RouterConstants.java  | 13 +++++++++----
 .../core/processor/RouteCompletionProcessor.java       |  8 +++++++-
 .../route/ProfileImportFromSourceRouteBuilder.java     |  2 +-
 4 files changed, 26 insertions(+), 15 deletions(-)

commit 6570c8adad7e3accd3f7011977cff86435901a7b
Author: Abdelkader Midani <amidani@apache.org>
Date:   Sat Jun 17 06:11:04 2017 +0200

    UNOMI-101 : Execution History

 .../unomi/router/api/ImportConfiguration.java      | 46 ++++++++--
 .../apache/unomi/router/api/ImportLineError.java   | 76 +++++++++++++++++
 .../api/services/ImportConfigurationService.java   |  4 +-
 extensions/router/router-core/pom.xml              |  1 +
 .../apache/unomi/router/core/RouterConstants.java  |  3 +-
 .../core/context/ProfileImportCamelContext.java    | 25 +++---
 .../core/processor/LineSplitFailureHandler.java    | 11 ++-
 .../router/core/processor/LineSplitProcessor.java  |  2 +-
 .../core/processor/RouteCompletionProcessor.java   | 99 ++++++++++++++++++++++
 .../route/ProfileImportFromSourceRouteBuilder.java | 50 ++++++++---
 .../route/ProfileImportToUnomiRouteBuilder.java    | 31 +++++--
 .../strategy/ArrayListAggregationStrategy.java     | 46 ++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 12 +++
 .../src/main/resources/org.apache.unomi.router.cfg |  5 +-
 extensions/router/router-rest/pom.xml              |  1 +
 .../services/ImportConfigurationServiceImpl.java   |  5 +-
 16 files changed, 371 insertions(+), 46 deletions(-)

commit 18af860b5618d6452905bcca118d8f2a40c8573c
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jun 16 16:47:43 2017 +0200

    UNOMI-99 Improve network unavailable and connection timeout handling
    - Force mail template delimiters to $ instead of < >
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/plugins/mail/actions/SendMailAction.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b38d44c8d22f91e0956a4e3ff8b373d09ec519f4
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jun 16 14:56:19 2017 +0200

    UNOMI-99 Improve network unavailable and connection timeout handling
    - Fix send mail action to work even if we don't specify a notification type, id and frequency
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../org/apache/unomi/plugins/mail/actions/SendMailAction.java  | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 15ba3c9e30126b66413e15c19e9a9e5e7e491110
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jun 16 13:58:24 2017 +0200

    UNOMI-99 Improve network unavailable and connection timeout handling
    - Try to improve error handling.
    - Avoid going to persistence API if requesting a condition type using a null id.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      | 26 ++++++++++++----------
 .../services/services/DefinitionsServiceImpl.java  |  3 +++
 2 files changed, 17 insertions(+), 12 deletions(-)

commit 38489feedfe9d157c96488a4b0b6df6df88321ac
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 15 15:17:44 2017 +0200

    Rollback previous commit issue with bundle startup when we filter the cfg

 persistence-elasticsearch/core/pom.xml             | 24 +---------------------
 .../org.apache.unomi.persistence.elasticsearch.cfg |  2 +-
 2 files changed, 2 insertions(+), 24 deletions(-)

commit b4fed6ad054d587898016ac8f0585963bdcfdc02
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Jun 15 13:41:43 2017 +0200

    Make ES Cluster Name configurable in Maven Setting

 persistence-elasticsearch/core/pom.xml             | 24 +++++++++++++++++++++-
 .../org.apache.unomi.persistence.elasticsearch.cfg |  2 +-
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 8231d5640d45f1f9ee8b20a8b239c54a4205ab7c
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Jun 14 12:12:20 2017 +0200

    UNOMI-101 : No broker config allowed

 .../apache/unomi/router/core/RouterConstants.java  | 35 +++++++++
 .../core/context/ProfileImportCamelContext.java    | 17 ++--
 .../exception/BadProfileDataFormatException.java   | 35 +++++++++
 .../processor/ImportConfigByFileNameProcessor.java |  3 +-
 .../core/processor/LineSplitFailureHandler.java    | 34 ++++++++
 .../router/core/processor/LineSplitProcessor.java  | 31 +++++---
 .../route/ProfileImportAbstractRouteBuilder.java   | 83 ++++++++++++++++++++
 ...va => ProfileImportFromSourceRouteBuilder.java} | 90 +++++++++-------------
 .../route/ProfileImportOneShotRouteBuilder.java    | 42 ++++------
 ....java => ProfileImportToUnomiRouteBuilder.java} | 41 ++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 ++
 .../src/main/resources/org.apache.unomi.router.cfg | 15 +++-
 12 files changed, 303 insertions(+), 129 deletions(-)

commit f597a69a2cec921cb86eafd6c8e04e880f7ab7a2
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jun 13 22:27:48 2017 +0200

    UNOMI-99 Improve network unavailable and connection timeout handling
    - Try to improve error handling.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      | 34 +++++++++++++---------
 1 file changed, 20 insertions(+), 14 deletions(-)

commit 9cfa2a00794f1855727c10289a0e266952fc093d
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Jun 12 20:14:24 2017 +0200

    UNOMI-101 : Typo

 .../src/main/resources/org.apache.unomi.persistence.elasticsearch.cfg   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c8a070f17b5aaf64ecd28daaaca96a6cff13dcb0
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Jun 12 20:03:40 2017 +0200

    UNOMI-101 : Update POM version

 extensions/router/pom.xml                      |  2 +-
 extensions/router/router-api/pom.xml           |  2 +-
 extensions/router/router-core/pom.xml          |  2 +-
 extensions/router/router-karaf-feature/pom.xml |  2 +-
 extensions/router/router-rest/pom.xml          |  2 +-
 extensions/router/router-service/pom.xml       |  2 +-
 itests/pom.xml                                 |  2 +-
 package/pom.xml                                | 10 ++++++++++
 performance-tests/pom.xml                      |  2 +-
 persistence-elasticsearch/plugins/pom.xml      |  2 +-
 10 files changed, 19 insertions(+), 9 deletions(-)

commit 89d4c8eb9646705cfd6c4bdb79fdac27ee9a5634
Author: Abdelkader Midani <amidani@apache.org>
Date:   Tue May 23 02:30:28 2017 +0200

    UNOMI-101 : New feature to add the ability to import profiles

 extensions/pom.xml                                 |   1 +
 extensions/router/README.md                        | 113 +++++++++++
 extensions/router/pom.xml                          |  64 ++++++
 extensions/router/router-api/pom.xml               |  43 ++++
 .../unomi/router/api/ImportConfiguration.java      | 223 +++++++++++++++++++++
 .../apache/unomi/router/api/ProfileToImport.java   |  77 +++++++
 .../api/services/ImportConfigurationService.java   |  60 ++++++
 .../router/api/services/ProfileImportService.java  |  29 +++
 extensions/router/router-core/pom.xml              | 182 +++++++++++++++++
 .../core/context/ProfileImportCamelContext.java    | 170 ++++++++++++++++
 .../core/processor/ConfigUpdateProcessor.java      |  44 ++++
 .../processor/ImportConfigByFileNameProcessor.java |  44 ++++
 .../router/core/processor/LineSplitProcessor.java  | 114 +++++++++++
 .../core/processor/UnomiStorageProcessor.java      |  46 +++++
 .../ProfileImportConfigUpdateRouteBuilder.java     |  62 ++++++
 .../ProfileImportKafkaToUnomiRouteBuilder.java     |  77 +++++++
 .../route/ProfileImportOneShotRouteBuilder.java    |  99 +++++++++
 .../ProfileImportSourceToKafkaRouteBuilder.java    | 120 +++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  94 +++++++++
 .../src/main/resources/org.apache.unomi.router.cfg |  25 +++
 extensions/router/router-karaf-feature/pom.xml     | 157 +++++++++++++++
 extensions/router/router-rest/pom.xml              |  75 +++++++
 .../rest/ImportConfigurationServiceEndPoint.java   | 176 ++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  80 ++++++++
 extensions/router/router-service/pom.xml           | 104 ++++++++++
 .../services/ImportConfigurationServiceImpl.java   | 114 +++++++++++
 .../router/services/ProfileImportServiceImpl.java  | 121 +++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  39 ++++
 itests/pom.xml                                     |   8 +-
 package/pom.xml                                    |  11 +
 performance-tests/pom.xml                          |   4 +-
 .../org.apache.unomi.persistence.elasticsearch.cfg |   2 +-
 persistence-elasticsearch/plugins/pom.xml          |   2 +-
 samples/trainingplugin.zip                         | Bin 0 -> 48508 bytes
 samples/trainingplugin/pom.xml                     |  55 +++++
 .../unomi/training/TrainedNotificationAction.java  |  61 ++++++
 .../META-INF/cxs/actions/trainingNotifAction.json  |  13 ++
 .../META-INF/cxs/rules/trainedNotification.json    |  20 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  34 ++++
 39 files changed, 2755 insertions(+), 8 deletions(-)

commit 0f4414039274750a3fe2b62fdcbecbfda73eaed4
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Jun 7 18:51:09 2017 +0200

    UNOMI-100 fix issue with isDay and isNotDay date wasn't converted as ISO, add unit test

 .../src/test/java/org/apache/unomi/itests/ConditionBuilder.java   | 8 ++++++++
 .../test/java/org/apache/unomi/itests/ConditionEvaluatorIT.java   | 3 +++
 .../baseplugin/conditions/PropertyConditionESQueryBuilder.java    | 2 +-
 3 files changed, 12 insertions(+), 1 deletion(-)

commit 46be0021749e46503e5f85169e82b2066e903693
Author: Serge Huber <shuber@apache.org>
Date:   Sun Jun 4 16:45:07 2017 +0200

    UNOMI-99 Improve network unavailable and connection timeout handling
    - Try to improve error handling.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../org/apache/unomi/services/services/ClusterServiceImpl.java    | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 1a9f9cdcb2203fd8c740a4700b9a9bbe92c144fd
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 29 16:05:42 2017 +0200

    UNOMI-98 Provide an example of integrating with an externally triggered login
    Add missing license header
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 samples/README.md | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit 21a9b34a871f08691c03261be5e6455d0ad237ca
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 29 14:15:39 2017 +0200

    UNOMI-98 Provide an example of integrating with an externally triggered login
    Add a README file in the top level samples directory
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 samples/README.md | 1 +
 1 file changed, 1 insertion(+)

commit 53fb16eadfe81d001007e0c306303e81f0648eed
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 29 14:10:22 2017 +0200

    UNOMI-72 Fix integration and performance tests
    - Integration tests should now execute again, but some tests still fail.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 itests/pom.xml                                     | 11 +++++--
 .../test/java/org/apache/unomi/itests/BaseIT.java  |  4 ++-
 .../ElasticSearchPersistenceServiceImpl.java       |  9 +++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../PropertyConditionESQueryBuilder.java           | 35 ++++++++++++++++++++--
 pom.xml                                            |  8 +++--
 .../services/services/ClusterServiceImpl.java      | 17 ++++++++++-
 7 files changed, 75 insertions(+), 11 deletions(-)

commit ef8603824a887c6ebeb8cf56d27f8cd7c6593cd1
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 29 13:57:03 2017 +0200

    UNOMI-98 Provide an example of integrating with an externally triggered login
    - First commit of the login integration example
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 samples/login-integration/pom.xml                  |  64 ++++++++++
 .../resources/META-INF/cxs/rules/exampleLogin.json |  34 ++++++
 .../src/main/webapp/WEB-INF/web.xml                |  24 ++++
 .../login-integration/src/main/webapp/index.html   |  70 +++++++++++
 .../src/main/webapp/javascript/login-example.js    | 136 +++++++++++++++++++++
 samples/pom.xml                                    |   2 +-
 6 files changed, 329 insertions(+), 1 deletion(-)

commit 4f4ade0c84fa47fd619d551f02ab29cece8d05b0
Author: Serge Huber <shuber@apache.org>
Date:   Thu May 11 19:21:33 2017 +0200

    UNOMI-94 New action : add a profile to a list
    - Correct typo
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../actions/src/main/resources/META-INF/cxs/actions/addToLists.json     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 84a992951a69faf5d3030997cbb635e1b6401cb0
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu May 11 18:10:35 2017 +0200

    UNOMI-96 improved ip check to allow ipv6 and avoid local or network address

 .../request/actions/SetRemoteHostInfoAction.java   | 51 +++++++++++++++-------
 1 file changed, 35 insertions(+), 16 deletions(-)

commit c559ecd8c39d006c2f3e012ae230b87e3452095d
Author: Serge Huber <shuber@apache.org>
Date:   Wed May 10 14:37:11 2017 +0200

    UNOMI-62 Add multivalue comparison operator ('hasAllOf', 'hasNoneOf', 'hasSomeOf')
    - Reintroduce notContains operator that seems to have been lost in some kind of merge.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/plugins/baseplugin/conditions/PropertyConditionEvaluator.java | 2 ++
 1 file changed, 2 insertions(+)

commit 32447a71d4a424499b7f40af41279f468895bd88
Author: Serge Huber <shuber@apache.org>
Date:   Wed May 10 14:27:12 2017 +0200

    UNOMI-95 Change default SSH port
    - Switched port to 8102
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/resources/etc/org.apache.karaf.shell.cfg  | 104 +++++++++++++++++++++
 src/site/markdown/versions/master/configuration.md |  11 ++-
 2 files changed, 114 insertions(+), 1 deletion(-)

commit 7f7cafddb6713f57c4399d5e61c52fa4ff51d3ff
Author: Serge Huber <shuber@apache.org>
Date:   Sun May 7 16:37:31 2017 +0200

    UNOMI-94 New action : add a profile to a list
    - Add some tags on some actions to define them as end-user available, and allow multiple instances of them or not in rules
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../actions/src/main/resources/META-INF/cxs/actions/addToLists.json   | 3 ++-
 .../src/main/resources/META-INF/cxs/actions/setPropertyAction.json    | 4 +++-
 .../mail/src/main/resources/META-INF/cxs/actions/sendMailAction.json  | 4 +++-
 3 files changed, 8 insertions(+), 3 deletions(-)

commit 87e8763ed45497ecd15ab4e8e688f1322c8fab5e
Author: Serge Huber <shuber@apache.org>
Date:   Sat May 6 23:18:52 2017 +0200

    Minor change : make sure the scripts stop if Maven build fails.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 buildAndRun.sh        | 4 ++++
 buildAndRunNoTests.sh | 4 ++++
 2 files changed, 8 insertions(+)

commit 97581032c38efc4aa384a01a0266f84cd013f863
Author: Serge Huber <shuber@apache.org>
Date:   Sat May 6 23:18:11 2017 +0200

    UNOMI-94 New action : add a profile to a list
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 extensions/lists-extension/actions/pom.xml         | 68 ++++++++++++++++++++++
 .../unomi/lists/actions/AddToListsAction.java      | 58 ++++++++++++++++++
 .../resources/META-INF/cxs/actions/addToLists.json | 19 ++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 37 ++++++++++++
 extensions/lists-extension/pom.xml                 |  1 +
 kar/pom.xml                                        |  5 ++
 6 files changed, 188 insertions(+)

commit 7e81374d35e3bd5e581530af9dd452c15bb2c767
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 1 21:54:07 2017 +0200

    UNOMI-93 Add rule execution statistics to rule service endpoint
    - Global statistics endpoint
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/api/services/RulesService.java     |  7 +++++++
 .../java/org/apache/unomi/rest/RulesServiceEndPoint.java     | 12 ++++++++++++
 .../org/apache/unomi/services/services/RulesServiceImpl.java |  4 ++++
 3 files changed, 23 insertions(+)

commit 64bf3a96a34fc49a5ed6301bf33d889c04a91223
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 1 21:36:49 2017 +0200

    UNOMI-93 Add rule execution statistics to rule service endpoint
    - Add JavaDoc documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../org/apache/unomi/api/rules/RuleStatistics.java | 68 +++++++++++++++++++++-
 1 file changed, 65 insertions(+), 3 deletions(-)

commit df6acb3f1ca5c526cebddc3b66c5fd32d88b6974
Author: Serge Huber <shuber@apache.org>
Date:   Mon May 1 21:08:54 2017 +0200

    UNOMI-93 Add rule execution statistics to rule service endpoint
    - Initial commit
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../org/apache/unomi/api/rules/RuleStatistics.java | 107 +++++++++++++++++++
 .../apache/unomi/api/services/RulesService.java    |   8 ++
 itests/pom.xml                                     |   4 +-
 .../apache/unomi/rest/RulesServiceEndPoint.java    |  13 +++
 .../unomi/services/services/RulesServiceImpl.java  | 117 ++++++++++++++++++++-
 5 files changed, 244 insertions(+), 5 deletions(-)

commit 28b63e6651ec01bfb08b8b19dbd1ebb7d567107c
Merge: daaa332a a8e52038
Author: Abdelkader Midani <amidani@apache.org>
Date:   Fri Apr 14 15:04:18 2017 +0200

    This closes pull request number #27

commit daaa332a2ed6b8296db881c0e7b291d81bd2a481
Author: Abdelkader Midani <amidani@apache.org>
Date:   Thu Apr 6 16:00:09 2017 +0200

    UNOMI-91 : Add internal address in the cluster/node info returned

 .../java/org/apache/unomi/api/ClusterNode.java     | 38 ++++++++++++++++++++++
 .../services/services/ClusterServiceImpl.java      | 19 +++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +++
 .../main/resources/org.apache.unomi.cluster.cfg    |  2 ++
 4 files changed, 63 insertions(+)

commit 94b6af7fa60c117f6b899802c375257f04e6d460
Author: Serge Huber <shuber@apache.org>
Date:   Tue Apr 4 13:05:28 2017 +0200

    UNOMI-90 Empty sessionId is processed as a valid sessionId instead of being ignored.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 91d74da4efcb6d6da6c393555bf0fe9479f7a1ce
Author: Abdelkader Midani <amidani@apache.org>
Date:   Wed Mar 29 18:27:41 2017 +0200

    UNOMI-87 : Typo

 .../src/main/resources/org.apache.unomi.persistence.elasticsearch.cfg   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 22f297c0399ff53bf887293be31c1374ab7b429f
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Mar 27 14:04:33 2017 +0200

    UNOMI-89 : Add an endpoint/Service for userLists metadatas

 .../java/org/apache/unomi/api/lists/UserList.java  | 55 ++++++++++++++++
 .../apache/unomi/api/services/UserListService.java | 49 ++++++++++++++
 .../cxs/conditions/profileUserListCondition.json   | 33 ++++++++++
 .../apache/unomi/rest/UserListServiceEndPoint.java | 75 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 17 +++++
 .../services/services/AbstractServiceImpl.java     | 68 ++++++++++++++++++++
 .../services/services/SegmentServiceImpl.java      | 36 +----------
 .../services/services/UserListServiceImpl.java     | 67 +++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 +++
 9 files changed, 373 insertions(+), 35 deletions(-)

commit 2f687915a8929af291e43ee2536ba4208e752496
Author: Abdelkader Midani <amidani@apache.org>
Date:   Mon Mar 20 12:09:36 2017 +0100

    UNOMI-87 : Rewrite the queries for the scroring plans update

 .../ElasticSearchPersistenceServiceImpl.java       | 124 +++++++++++++++------
 .../org.apache.unomi.persistence.elasticsearch.cfg |   4 +-
 persistence-elasticsearch/pom.xml                  |   1 -
 .../unomi/persistence/spi/PersistenceService.java  |  12 ++
 .../PropertyConditionESQueryBuilder.java           |   3 +
 .../conditions/PropertyConditionEvaluator.java     |   3 -
 pom.xml                                            |   2 +-
 .../services/services/SegmentServiceImpl.java      | 119 ++++++++++----------
 8 files changed, 169 insertions(+), 99 deletions(-)

commit cd3bc9ff0e5a6df2cb33954b69a827667006e164
Author: Serge Huber <shuber@apache.org>
Date:   Fri Mar 17 16:45:19 2017 +0100

    DMF-599 "User was not on the site in the last" doesn't work in preview with persona / Last visit
    
    - Fixed by introducing a new previousVisit property and fixing the context servlet to properly override the profile inside the session too.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../META-INF/cxs/properties/profiles/system/previousVisit.json | 10 ++++++++++
 wab/src/main/java/org/apache/unomi/web/ContextServlet.java     |  1 +
 2 files changed, 11 insertions(+)

commit a8e5203820f8b38283f1f03ce6ef882d6a1d1dd8
Author: rizak <rizak.ahmed@gmail.com>
Date:   Thu Mar 16 10:09:11 2017 +0100

    UNOMI-86 : Implement overrides for scores and put segments,scores and profileproperties in the same object (Profile object)

 .../java/org/apache/unomi/api/ContextRequest.java  | 38 +++++-----------------
 src/site/markdown/versions/1.1/getting-started.md  |  8 +++--
 .../markdown/versions/master/getting-started.md    |  8 +++--
 .../java/org/apache/unomi/web/ContextServlet.java  | 32 ++++++++++++------
 4 files changed, 41 insertions(+), 45 deletions(-)

commit 4ff30d4c092e0b0aba7456afc4cb790c4cdeb9d5
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Mar 6 17:46:33 2017 +0100

    Remove break row

 README.md | 1 -
 1 file changed, 1 deletion(-)

commit 585d427ba9dfa18d3a9a8e1e1cf25c3de6cef1d7
Author: rizak <rizak.ahmed@gmail.com>
Date:   Mon Feb 27 16:23:02 2017 +0100

    UNOMI-79 : Implement save persona with sessions.

 .../org/apache/unomi/api/PersonaWithSessions.java  |  4 ++--
 .../apache/unomi/api/services/ProfileService.java  |  8 ++++++++
 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 12 +++++++++++
 .../services/services/ProfileServiceImpl.java      | 23 ++++++++++++++++++++++
 4 files changed, 45 insertions(+), 2 deletions(-)

commit 26db159f08ed63543b0afeea6721ffb0f8ed81ff
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 24 15:12:52 2017 +0100

    Fix Jenkins URL
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3110e43af7ca6ca77b29c8d42f482a33033c2077
Merge: c70f0a3c 9ed047c8
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 24 09:33:02 2017 +0100

    This closes pull request number #25

commit c70f0a3c5e412e6da0ae55d552cb6b4be01bcdf6
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 24 09:28:57 2017 +0100

    Add instructions on how to merge pull requests
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 MERGING-PULL-REQUESTS | 81 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 81 insertions(+)

commit 044fd888374376c307a2b7cba92438601a0de900
Merge: d7cce6a2 e1e5b581
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 24 09:15:47 2017 +0100

    This closes #24

commit d7cce6a24c1cd6773a26120b7a3665eb486652e1
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 22 22:49:22 2017 +0100

    UNOMI-85 Update build scripts to remove tests that don't work yet
    - Correct 5 minute quickstart to reflect state of released build (1.1.0)
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 generate-package.sh         |  2 +-
 generate-site-and-upload.sh |  2 +-
 generate-site.sh            |  2 +-
 src/site/markdown/index.md  | 15 +++++----------
 4 files changed, 8 insertions(+), 13 deletions(-)

commit 274dd8172392cd348043be8e1e26f99f8a8cb34e
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 22 22:10:37 2017 +0100

    UNOMI-85 New home page
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 rest/pom.xml                                       |   2 +-
 src/site/markdown/index.md                         | 149 ++++++++-------------
 src/site/markdown/usecases.md                      |  85 ++++++++++++
 .../images/unomi-logical-architecture-diagram.png  | Bin 0 -> 41571 bytes
 src/site/site.xml                                  |   1 +
 5 files changed, 143 insertions(+), 94 deletions(-)

commit c58363029ee92a4743b2c1743b80c21de27659f6
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 21 21:39:02 2017 +0100

    UNOMI-85 Fix 404 errors
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 pom.xml                                            | 10 +++---
 rest/pom.xml                                       | 36 ++++++++++++++++------
 src/site/markdown/versions/master/configuration.md |  6 ++--
 src/site/site.xml                                  |  1 +
 4 files changed, 35 insertions(+), 18 deletions(-)

commit 9ed047c8acf5caa0ca023ffceead0dd3cbb5254d
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Feb 20 19:10:39 2017 +0100

    UNOMI-84 : Handle boolean property type

 .../apache/unomi/persistence/spi/PropertyHelper.java | 20 ++++++++++++++++++++
 .../baseplugin/actions/SetPropertyAction.java        | 14 ++++++++++++--
 .../META-INF/cxs/actions/setPropertyAction.json      |  5 +++++
 .../main/resources/META-INF/cxs/values/boolean.json  |  3 +++
 4 files changed, 40 insertions(+), 2 deletions(-)

commit 3ecd61c3ac79d3878963ed2892cf1f6b7e63dc7b
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Feb 20 14:00:22 2017 +0100

    UNOMI-83 : org.apache.unomi.cluster.cfg sample contains wrong props names

 services/src/main/resources/org.apache.unomi.cluster.cfg | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e1e5b58109cb71c00fe0b3725e0b2daa3a7f18a0
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Feb 17 19:36:43 2017 +0100

    UNOMI-81 add new entry point to allow tag creation from plugins

 .../org/apache/unomi/api/services/DefinitionsService.java     |  6 ++++++
 .../org/apache/unomi/rest/DefinitionsServiceEndPoint.java     | 10 ++++++++++
 .../unomi/services/services/DefinitionsServiceImpl.java       | 11 +++++++++++
 3 files changed, 27 insertions(+)

commit 27301696c393a6a9a5a9d5cb95ed08e18094848a
Author: Serge Huber <shuber@apache.org>
Date:   Fri Feb 17 17:45:26 2017 +0100

    We are now versioning the documentation, making it easier to publish a history of documentation.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../versions/1.1/building-and-deploying.md         | 189 +++++++++
 src/site/markdown/versions/1.1/clustering.md       |  83 ++++
 src/site/markdown/{ => versions/1.1}/concepts.md   |   0
 src/site/markdown/versions/1.1/configuration.md    | 273 +++++++++++++
 .../markdown/{ => versions/1.1}/getting-started.md |   0
 .../master}/building-and-deploying.md              |   0
 .../markdown/{ => versions/master}/clustering.md   |   0
 src/site/markdown/versions/master/concepts.md      | 209 ++++++++++
 .../{ => versions/master}/configuration.md         |   0
 .../markdown/versions/master/getting-started.md    | 423 +++++++++++++++++++++
 src/site/site.xml                                  |  19 +-
 11 files changed, 1191 insertions(+), 5 deletions(-)

commit 06030beff112bb0ac2bea94dbba0d011be0b7e83
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 15 17:34:24 2017 +0100

    UNOMI-21 Make the default location configurable instead of hardcoded.
    - Quick documentation
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 src/site/markdown/configuration.md | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 023009de6212050c3dfcb3f3ca427f509282cad6
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 15 17:30:57 2017 +0100

    UNOMI-21 Make the default location configurable instead of hardcoded.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../request/actions/SetRemoteHostInfoAction.java   | 57 +++++++++++++++++++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 20 ++++++++
 .../resources/org.apache.unomi.plugins.request.cfg | 12 ++++-
 3 files changed, 80 insertions(+), 9 deletions(-)

commit 121fbc8af6b0f562487f3808baf5f53d07a6a354
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Thu Feb 2 17:18:18 2017 +0100

    UNOMI-77 : Add inContains Comparison Operator

 .../PropertyConditionESQueryBuilder.java           | 19 ++++++---
 .../conditions/PropertyConditionEvaluator.java     | 48 +++++++++++++---------
 2 files changed, 42 insertions(+), 25 deletions(-)

commit 12113c8b9920e8720523192b35b6e0c2f7984e42
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 1 13:25:08 2017 +0100

    UNOMI-75 DMF-1221 Error when starting Apache Unomi when offline
    
    Fixed by patching the org.apache.aries.blueprint.core to version 1.6.2 by manually replacing it in the startup.properties file.
    
    Note that this correction will break when we upgrade Karaf !
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/pom.xml                                   |  9 ++++
 package/src/main/resources/etc/startup.properties | 59 +++++++++++++++++++++++
 2 files changed, 68 insertions(+)

commit 8a01c7759071354cad9a825eaf3044d921528e95
Author: Serge Huber <shuber@apache.org>
Date:   Wed Feb 1 11:58:10 2017 +0100

    DMF-1233 Unomi: Files not in the package as expected
    - Add the services and cluster configuration files to the default etc directory.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/pom.xml | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 81d5e3afaabd7ff4e3a04008e599b0cb20cbf324
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 27 11:18:41 2017 +0100

    Remove unused hostName field.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/api/ClusterNode.java   | 19 -------------------
 .../unomi/services/services/ClusterServiceImpl.java   |  1 -
 2 files changed, 20 deletions(-)

commit f40a24eefb633b5cbce87dfa5fcab22386c4db3c
Author: dgaillard <dgaillard@jahia.com>
Date:   Tue Jan 24 13:57:33 2017 +0100

    UNOMI-74 use updated version of uadetector from jahia repo

 plugins/request/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 23d9044ef2ae4e144933cf2bd1e51c8d19023120
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jan 24 12:41:05 2017 +0100

    Fix bug when changing a node's public or secure address
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      | 70 +++++++++++++---------
 1 file changed, 41 insertions(+), 29 deletions(-)

commit 92542e5b11e8bf333a8bda3b102ecbc9baf6d0e2
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jan 24 11:03:40 2017 +0100

    UNOMI-70
    - Improve cluster timeout messages
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../java/org/apache/unomi/services/services/ClusterServiceImpl.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 8b1c30a227f9fbd884946422e76cab48e72ac487
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 23 10:17:56 2017 +0100

    UNOMI-73 Add a log when Unomi is properly initialized.
    - Add message to signal start of Unomi initialization
    - Fix issue with RMI stub by using boot delegation setting
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../src/main/java/org/apache/unomi/lifecycle/BundleWatcher.java         | 1 +
 package/src/main/resources/etc/custom.properties                        | 2 ++
 src/site/markdown/clustering.md                                         | 2 +-
 3 files changed, 4 insertions(+), 1 deletion(-)

commit ebd7e9838f82d82f2b7563d38238d6207b2ed361
Author: Thomas Draier <draier@apache.org>
Date:   Fri Jan 20 18:09:18 2017 +0100

    UNOMI-39 : restored fix for contextual conditions - pass current context  across boolean sub conditions, evaluate condition even if context is empty (may return null condition)

 .../persistence/elasticsearch/conditions/ConditionContextHelper.java  | 2 +-
 .../plugins/baseplugin/conditions/BooleanConditionESQueryBuilder.java | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 32a7704f3f591bb8742fd12bbd4dc118191843d5
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 20 11:52:50 2017 +0100

    UNOMI-73 Add a log when Unomi is properly initialized.
    - Display shutdown message in System.out, but only once
    - Add version, build number and timestamp to log
    - Quick cleanups
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 lifecycle-watcher/pom.xml                          | 34 +++++++++++
 .../org/apache/unomi/lifecycle/BundleWatcher.java  | 69 ++++++++++++++--------
 .../ElasticSearchPersistenceServiceImpl.java       |  5 --
 src/site/markdown/configuration.md                 |  2 +-
 4 files changed, 81 insertions(+), 29 deletions(-)

commit 710ed14bb2d25851901ac371ec3d927b6691776e
Author: Thomas Draier <draier@apache.org>
Date:   Thu Jan 19 18:46:10 2017 +0100

    Missing <xml> headers in pom.xml

 api/pom.xml                                        | 1 +
 extensions/pom.xml                                 | 1 +
 itests/pom.xml                                     | 1 +
 kar/pom.xml                                        | 1 +
 package/pom.xml                                    | 1 +
 persistence-elasticsearch/core/pom.xml             | 1 +
 persistence-elasticsearch/plugins/pom.xml          | 1 +
 persistence-elasticsearch/plugins/security/pom.xml | 1 +
 persistence-elasticsearch/pom.xml                  | 1 +
 persistence-spi/pom.xml                            | 1 +
 plugins/baseplugin/pom.xml                         | 1 +
 plugins/hover-event/pom.xml                        | 1 +
 plugins/mail/pom.xml                               | 1 +
 plugins/optimization-test/pom.xml                  | 1 +
 plugins/past-event/pom.xml                         | 1 +
 plugins/pom.xml                                    | 1 +
 plugins/request/pom.xml                            | 1 +
 plugins/tracked-event/pom.xml                      | 1 +
 pom.xml                                            | 1 +
 rest/pom.xml                                       | 1 +
 services/pom.xml                                   | 1 +
 wab/pom.xml                                        | 1 +
 22 files changed, 22 insertions(+)

commit a4a0bdfedc414596fdecb3dd2f3ba265fd205443
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 19 18:07:36 2017 +0100

    UNOMI-73 Add a log when Unomi is properly initialized.
    This commit contains global log improvements to services startup and shutdown, in order to diagnose problems when bundles are started or shutdown. It also adds a global BundleWatcher that will check when the proper conditions are met for the Apache Unomi to be properly started.
    In this commit we also get rid of the no longer needed CDI integration.
    We also fix some problems with the properties, having to move a few from the org.apache.unomi.web.cfg file to the org.apache.unomi.cluster.cfg file.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../unomi/geonames/rest/GeonamesEndPoint.java      |   6 +-
 .../unomi/lists/rest/UserListServiceEndPoint.java  |   7 +-
 .../test/java/org/apache/unomi/itests/BaseIT.java  |   2 -
 kar/src/main/feature/feature.xml                   |   5 +-
 lifecycle-watcher/pom.xml                          |  41 +++++
 .../org/apache/unomi/lifecycle/BundleWatcher.java  | 190 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  39 +++++
 lifecycle-watcher/src/main/resources/logo.txt      |  26 +++
 package/pom.xml                                    |   2 -
 .../apache/unomi/performancetests/BasicTest.java   |   2 -
 .../ElasticSearchPersistenceServiceImpl.java       |  61 +++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  21 +--
 .../core/src/main/resources/log4j2.xml             |   2 +-
 .../org.apache.unomi.persistence.elasticsearch.cfg |   4 +
 pom.xml                                            |   1 +
 .../unomi/rest/CampaignsServiceEndPoint.java       |   6 +-
 .../apache/unomi/rest/ClusterServiceEndPoint.java  |   2 +-
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |   2 +-
 .../apache/unomi/rest/RulesServiceEndPoint.java    |   6 +-
 .../apache/unomi/rest/ScoringServiceEndPoint.java  |   6 +-
 .../apache/unomi/rest/SegmentServiceEndPoint.java  |   6 +-
 .../services/services/ClusterServiceImpl.java      |  17 +-
 .../services/services/DefinitionsServiceImpl.java  |   4 +-
 .../unomi/services/services/EventServiceImpl.java  |   8 +
 .../unomi/services/services/GoalsServiceImpl.java  |   3 +-
 .../services/services/ProfileServiceImpl.java      |   2 +
 .../unomi/services/services/QueryServiceImpl.java  |   2 +
 .../unomi/services/services/RulesServiceImpl.java  |   2 +
 .../services/services/SegmentServiceImpl.java      |   2 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  18 +-
 .../main/resources/org.apache.unomi.cluster.cfg    |   6 +-
 src/site/markdown/building-and-deploying.md        |   2 +-
 src/site/markdown/configuration.md                 |  19 ++-
 wab/pom.xml                                        |  22 ---
 .../java/org/apache/unomi/web/ContextServlet.java  |   7 +
 .../apache/unomi/web/EventsCollectorServlet.java   |  13 ++
 wab/src/main/resources/org.apache.unomi.web.cfg    |   7 +-
 wab/src/main/webapp/WEB-INF/beans.xml              |   0
 38 files changed, 443 insertions(+), 128 deletions(-)

commit 46f035819465df16c47e67b87f50eb4a5bf1e805
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jan 18 16:57:40 2017 +0100

    - Clarify past event condition matching code
    - Fix issue in the property condition query builder when an operator is not defined as we are creating the condition in the UI.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../PastEventConditionESQueryBuilder.java          | 12 +++---
 .../PropertyConditionESQueryBuilder.java           | 45 +++++++++++-----------
 .../services/services/SegmentServiceImpl.java      | 19 ++++-----
 3 files changed, 39 insertions(+), 37 deletions(-)

commit e61412fc90abc210d638c8b8cb848efd4be057a4
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 12 17:47:17 2017 +0100

    As Apache JIRA is down, this is a fix for on OutOfMemory : native thread limit reached problem because we were not properly closing or re-using the JMX connectors. This modification should fix the problem by re-using JMX connectors and storing them in a map where they are stored by URL. Upon the service shutdown all the connectors are closed. When a connector is used, it is first tested and if it fails it is removed from the map and a new one is created.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../services/services/ClusterServiceImpl.java      | 62 +++++++++++++++-------
 1 file changed, 44 insertions(+), 18 deletions(-)

commit ddbebd25fb81b381f008fb3f8ccd1cad871aa4a4
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jan 11 15:45:22 2017 +0100

    Prepare site update and documentation for upcoming 1.2 release.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 BUILDING                                           |   3 +-
 README.md                                          | 395 +--------------------
 .../org.apache.unomi.persistence.elasticsearch.cfg |   4 +
 pom.xml                                            |   6 +-
 src/site/markdown/building-and-deploying.md        |  90 +++--
 src/site/markdown/clustering.md                    |  15 +-
 src/site/markdown/configuration.md                 |  28 ++
 src/site/markdown/index.md                         |   4 +-
 8 files changed, 116 insertions(+), 429 deletions(-)

commit bf3cd3cca4cff80e69722234cb53c7d0661662f7
Author: Serge Huber <shuber@apache.org>
Date:   Tue Jan 10 21:00:49 2017 +0100

    UNOMI-72 Deactivate integration and performance tests by default until we find a way to make them work
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b1c88c4c4c7ba91090a496e8b9f2aa7ec1ecaa61
Merge: a4955caf 544d2d4b
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 9 17:11:30 2017 +0100

    [jgitflow-maven-plugin]merging 'feature-UNOMI-70-ES5X' into 'master'

commit 544d2d4baa5e92172f2f9baa96336dd465c987de
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 9 17:11:28 2017 +0100

    [jgitflow-maven-plugin]updating poms for unomi_70_es_5_x version

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit 26f2ef2a516233a296632373e592c70a602509f7
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jan 9 17:02:43 2017 +0100

    Cleanup setenv files to remove obsolete settings
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 package/src/main/resources/bin/setenv     | 2 --
 package/src/main/resources/bin/setenv.bat | 1 -
 2 files changed, 3 deletions(-)

commit a5b7b15650afd5b9086eedfce8fa406c8095d580
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 6 11:15:28 2017 +0100

    - DMF-1133 Error when displaying an empty list in MF : fixed issue for real this time :)
    - Some configuration file cleanup
    - Changed inactive user purging from 30 days to 180 days
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 README.md                                          |  56 +--
 .../apache/unomi/api/services/ClusterService.java  |   1 -
 kar/src/main/feature/feature.xml                   |   4 +-
 package/pom.xml                                    |  13 +-
 persistence-elasticsearch/core/pom.xml             |  20 --
 .../ElasticSearchPersistenceServiceImpl.java       | 397 ++++++---------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  21 +-
 .../core/src/main/resources/elasticsearch.yml      | 110 ------
 .../org.apache.unomi.persistence.elasticsearch.cfg |  10 +-
 .../unomi/persistence/spi/PersistenceService.java  |   8 +
 pom.xml                                            |   2 -
 services/pom.xml                                   |  22 ++
 .../services/services/ClusterServiceImpl.java      | 304 ++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  45 ++-
 .../src/main/resources/hazelcast.xml               |   0
 .../main/resources/org.apache.unomi.cluster.cfg    |  20 ++
 .../main/resources/org.apache.unomi.services.cfg   |   2 +-
 src/site/markdown/clustering.md                    |  32 +-
 src/site/markdown/configuration.md                 |  27 +-
 19 files changed, 520 insertions(+), 574 deletions(-)

commit b81234998fb227b2727d51d77b42f13f674b29bc
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 5 10:12:43 2017 +0100

    DMF-1133 Error when displaying an empty list in MF
    - Fixed by not generating sorts or aggregations if there is no data for a field.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java            | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit f9418501f47b6dbd577927f7fc53f69b377f9eca
Author: Thomas Draier <draier@apache.org>
Date:   Tue Jan 3 19:01:41 2017 +0100

    UNOMI-70 : restored numberOfShards / numberOfReplicas

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java | 14 ++++++++++++++
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml    |  4 ++++
 2 files changed, 18 insertions(+)

commit 88f493cd5109072792b55abd917e20656c226169
Author: Thomas Draier <draier@apache.org>
Date:   Tue Jan 3 18:36:17 2017 +0100

    UNOMI-70 : Provide default hazelcast configuration

 kar/src/main/feature/feature.xml                   |   1 +
 package/pom.xml                                    |  11 ++
 persistence-elasticsearch/core/pom.xml             |   5 +
 .../core/src/main/resources/hazelcast.xml          | 219 +++++++++++++++++++++
 4 files changed, 236 insertions(+)

commit adb5fae90660606ed478301b07356b96182540e9
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 22 20:42:00 2016 +0100

    Fix port in cluster configuration
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2105da7eceeecb377063dca34bdbb545042691fa
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 22 17:25:29 2016 +0100

    Fixed most issues by making sure we use reference listeners everywhere for proper registration of actions and conditions
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 14 +++++---
 .../ConditionESQueryBuilderDispatcher.java         | 31 ++----------------
 .../conditions/ConditionEvaluatorDispatcher.java   | 31 ++----------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 --
 .../services/actions/ActionExecutorDispatcher.java | 24 ++------------
 .../unomi/services/services/RulesServiceImpl.java  | 37 ++++++++++------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ++++-
 7 files changed, 40 insertions(+), 107 deletions(-)

commit 1c11ecc109469a6c7b5bc446d4b35d4eeb82bee6
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 22 10:42:42 2016 +0100

    Make condition evaluator and condition ES query builders registration more solid by using reference listeners.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 49 ++++++++--------------
 .../ConditionESQueryBuilderDispatcher.java         | 10 +++++
 .../conditions/ConditionEvaluatorDispatcher.java   |  9 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 15 +++++++
 4 files changed, 52 insertions(+), 31 deletions(-)

commit 2ff92868f7b14f22233cbea9fa6af0fe9f7030e3
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 22:20:55 2016 +0100

    - Remove duplicate code
    - Add todo to properly use a service tracker/listener to watch for services appearing/disappearing.
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java   | 12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 35b9397931cd89dd6d021e65079c658d6fdf29e0
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 21:29:13 2016 +0100

    - Fix waiting for green status message
    - Add code to register mappings and condition builders that were started before the ElasticSearch persistence service implementation
    - Change counting code to use queries instead of aggregations
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../ElasticSearchPersistenceServiceImpl.java       | 39 +++++++++++++++-------
 1 file changed, 27 insertions(+), 12 deletions(-)

commit 952da6144726173d85827fbc5f838521033c061f
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 21:27:40 2016 +0100

    - Add logging to help diagnose problems in the condition builders registration
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java      | 1 +
 1 file changed, 1 insertion(+)

commit 8d54f8d93c45187aaf9307932f461ecd9b6e9da9
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 21:27:08 2016 +0100

    - Use linked hash map in GeonameEntry to make sure that we conserve the order of the properties
    - Fix type mapping detection algorithm
    
    Signed-off-by: Serge Huber <shuber@apache.org>

 .../main/java/org/apache/unomi/geonames/services/GeonameEntry.java    | 4 ++--
 .../java/org/apache/unomi/geonames/services/GeonamesServiceImpl.java  | 4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 69bb3cc9bb8af844c7e1922e1bd8eaeefdf0ce31
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 20:19:55 2016 +0100

    Update feature to add dependency to cellar

 kar/pom.xml | 31 +++++++------------------------
 1 file changed, 7 insertions(+), 24 deletions(-)

commit 207c2cc429ce989e6a8939e1ceccf89fcf02dfce
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 20:15:50 2016 +0100

    Update feature to add dependency to cellar

 kar/src/main/feature/feature.xml | 1 +
 1 file changed, 1 insertion(+)

commit 31677cbd351cb0ca34249c0ad75adeace98461e6
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 20:15:23 2016 +0100

    Add toString method to help debugging

 .../main/java/org/apache/unomi/api/conditions/Condition.java   | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit ffe259125865aa15eaee8638951d9a1a7d8d0459
Author: Serge Huber <shuber@apache.org>
Date:   Wed Dec 21 20:15:00 2016 +0100

    Update install instructions for deployment using features

 README.md | 15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit 2942393130484159114c4824e49b815f6d45d981
Author: Thomas Draier <draier@apache.org>
Date:   Wed Dec 21 17:05:11 2016 +0100

    UNOMI-70 : Moved keyword field test to elasticsearch service

 .../ElasticSearchPersistenceServiceImpl.java       | 39 ++++++++++++----------
 .../unomi/services/services/GoalsServiceImpl.java  |  7 ----
 .../unomi/services/services/QueryServiceImpl.java  |  7 ----
 3 files changed, 21 insertions(+), 32 deletions(-)

commit ac2c9ba5c6b955048ac47afb402dc80e1213f16f
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 20 16:38:19 2016 +0100

    - Introduce a new save method that supports batching
    - Use new save method batching to import Geonames (a lot) faster
    - Replace slow running ASCIIFoldingFilter call with faster MappingCharFilter call. See https://issues.apache.org/jira/browse/LUCENE-7525 and https://issues.apache.org/jira/browse/SOLR-2013
    -

 .../geonames/services/GeonamesServiceImpl.java     |   26 +-
 .../ElasticSearchPersistenceServiceImpl.java       |   11 +-
 .../conditions/ConditionContextHelper.java         |   31 +-
 .../src/main/resources/mapping-FoldToASCII.txt     | 3813 ++++++++++++++++++++
 .../unomi/persistence/spi/PersistenceService.java  |   11 +
 5 files changed, 3879 insertions(+), 13 deletions(-)

commit 69b0403d7763d650bcc1e5883eec7e2d6a4d65f0
Author: Thomas Draier <draier@apache.org>
Date:   Tue Dec 20 15:29:50 2016 +0100

    UNOMI-70 : Avoid npe when mapping is not found

 .../ElasticSearchPersistenceServiceImpl.java             | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit 8b5a44bb1d9bc0090a6e4d11587d02b542acc567
Author: Thomas Draier <draier@apache.org>
Date:   Tue Dec 20 11:04:32 2016 +0100

    UNOMI-70 : use folding + keyword mapping. detect field type in order to choose usage of keyword for sort and aggregates

 .../META-INF/cxs/mappings/geonameEntry.json        | 48 +---------------
 .../resources/META-INF/cxs/mappings/userList.json  | 15 -----
 .../ElasticSearchPersistenceServiceImpl.java       | 64 ++++++++++++++++------
 .../resources/META-INF/cxs/mappings/_default_.json | 22 ++++++++
 .../resources/META-INF/cxs/mappings/campaign.json  | 24 --------
 .../META-INF/cxs/mappings/campaignevent.json       | 24 --------
 .../resources/META-INF/cxs/mappings/event.json     | 18 ------
 .../main/resources/META-INF/cxs/mappings/goal.json | 19 +------
 .../META-INF/cxs/mappings/personaSession.json      | 20 +------
 .../resources/META-INF/cxs/mappings/profile.json   | 14 +----
 .../META-INF/cxs/mappings/propertyType.json        | 45 ---------------
 .../main/resources/META-INF/cxs/mappings/rule.json | 12 ----
 .../resources/META-INF/cxs/mappings/scoring.json   | 16 +-----
 .../resources/META-INF/cxs/mappings/segment.json   | 17 +-----
 .../resources/META-INF/cxs/mappings/session.json   | 25 +--------
 .../unomi/persistence/spi/PersistenceService.java  | 10 ++++
 .../PropertyConditionESQueryBuilder.java           |  4 +-
 .../conditions/PropertyConditionEvaluator.java     | 12 +++-
 .../unomi/services/services/GoalsServiceImpl.java  | 20 +++++--
 .../unomi/services/services/QueryServiceImpl.java  |  9 ++-
 20 files changed, 124 insertions(+), 314 deletions(-)

commit 603346ad3fc50756edbeeaa19e6204e7b82815fe
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 19 16:36:41 2016 +0100

    - Improve Geonames startup to make it more resilient to missing mappings
    - Add sanity checks for endpoints before adding them
    - Add database copying (Geocity and Geonames) to test script.

 .gitignore                                         |  3 +
 buildAndRunNoTests.sh                              |  8 ++
 .../geonames/services/GeonamesServiceImpl.java     | 85 ++++++++++++++--------
 .../ElasticSearchPersistenceServiceImpl.java       | 25 ++++---
 .../unomi/persistence/spi/PersistenceService.java  |  7 +-
 5 files changed, 85 insertions(+), 43 deletions(-)

commit e6ec7a0425748a4fe7c0b4a05b63dfede2cc12c4
Author: Thomas Draier <draier@apache.org>
Date:   Mon Dec 19 10:58:31 2016 +0100

    UNOMI-70 : updated mappings, fixed aggregation and queries

 .../resources/META-INF/cxs/mappings/userList.json  |  22 +-
 .../ElasticSearchPersistenceServiceImpl.java       |  20 +-
 .../META-INF/cxs/mappings/actionType.json          |  16 --
 .../resources/META-INF/cxs/mappings/campaign.json  |  28 +-
 .../META-INF/cxs/mappings/campaignevent.json       |  25 +-
 .../META-INF/cxs/mappings/conditionType.json       |  76 -----
 .../resources/META-INF/cxs/mappings/event.json     | 312 +--------------------
 .../main/resources/META-INF/cxs/mappings/goal.json |  22 +-
 .../resources/META-INF/cxs/mappings/persona.json   |  32 ---
 .../META-INF/cxs/mappings/personaSession.json      |  56 ----
 .../resources/META-INF/cxs/mappings/profile.json   |  27 +-
 .../META-INF/cxs/mappings/propertyType.json        |  24 +-
 .../main/resources/META-INF/cxs/mappings/rule.json |  19 --
 .../resources/META-INF/cxs/mappings/scoring.json   |  22 +-
 .../resources/META-INF/cxs/mappings/segment.json   |  22 +-
 .../resources/META-INF/cxs/mappings/session.json   |  24 +-
 .../PropertyConditionESQueryBuilder.java           |   4 +-
 .../conditions/PropertyConditionEvaluator.java     |  12 +-
 .../unomi/services/services/GoalsServiceImpl.java  |   2 +-
 .../unomi/services/services/QueryServiceImpl.java  |   2 +-
 20 files changed, 47 insertions(+), 720 deletions(-)

commit ca5c99011a54c802c1542309d4726889be8445b4
Author: Serge Huber <shuber@apache.org>
Date:   Fri Dec 16 11:19:15 2016 +0100

    Document new segment update parameter

 services/src/main/resources/org.apache.unomi.services.cfg | 4 ++++
 1 file changed, 4 insertions(+)

commit 1cd827a1252c07e9083aee9ec81104ab66b2881f
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 15 21:55:52 2016 +0100

    Upgrade to ElasticSearch 5.1.1

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java         | 4 ++--
 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java  | 7 +++----
 pom.xml                                                            | 2 +-
 3 files changed, 6 insertions(+), 7 deletions(-)

commit 923e49171fae139e2197b55ef4b5102d61221edc
Merge: a94fdb0e 28d7dbde
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 15 16:40:41 2016 +0100

    Merge branch 'feature-UNOMI-28-ES2X' into feature-UNOMI-70-ES5X
    
    # Conflicts:
    #       persistence-elasticsearch/core/src/main/java/org/apache/unomi/persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java

commit 28d7dbde4728ed41eed6cc43022039ad02ddce7e
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 15 16:22:38 2016 +0100

    Further optimizations
    - Add shell script to build and run without integration and performance tests.
    - Segment updates should now use a lot more memory since we now use scrolling queries

 .../java/org/apache/unomi/api/PartialList.java     |  25 +++++
 buildAndRunNoTests.sh                              |  34 +++++++
 .../ElasticSearchPersistenceServiceImpl.java       |  94 ++++++++++++++---
 .../unomi/persistence/spi/PersistenceService.java  |  33 ++++++
 .../PropertyConditionESQueryBuilder.java           |   3 +-
 .../services/services/SegmentServiceImpl.java      | 111 +++++++++++++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 7 files changed, 242 insertions(+), 60 deletions(-)

commit a94fdb0e02b3606c012fa5f3d6d35212a34b489d
Author: Serge Huber <shuber@apache.org>
Date:   Thu Dec 8 09:14:14 2016 +0100

    UNOMI-70 Upgrade to ElasticSearch 5.x
    - Use scroll API to get unlimited results

 .../ElasticSearchPersistenceServiceImpl.java       | 47 ++++++++++++++++++----
 1 file changed, 39 insertions(+), 8 deletions(-)

commit dafa9f6b3c68a37084b4148ce7c76c7faf5687e1
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 6 13:48:48 2016 +0100

    UNOMI-70 Upgrade to ElasticSearch 5.x
    - Working on getting integration testing working (not yet working)

 itests/pom.xml                                             | 11 +++++++++--
 .../org/apache/unomi/itests/{AllTests.java => AllITs.java} | 12 ++++++------
 .../org/apache/unomi/itests/{BaseTest.java => BaseIT.java} | 14 +++++++++++---
 .../apache/unomi/itests/{BasicTest.java => BasicIT.java}   |  2 +-
 ...ueryBuilderTest.java => ConditionESQueryBuilderIT.java} |  2 +-
 ...nditionEvaluatorTest.java => ConditionEvaluatorIT.java} |  2 +-
 .../{ProfileServiceTest.java => ProfileServiceIT.java}     |  4 ++--
 .../unomi/itests/{SegmentTest.java => SegmentIT.java}      |  4 ++--
 pom.xml                                                    |  7 ++++++-
 9 files changed, 39 insertions(+), 19 deletions(-)

commit a217ba015da29167bf3209e4a792349fe21dcc17
Merge: 96a018ec d7a79695
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 6 13:46:20 2016 +0100

    Merge branch 'feature-UNOMI-28-ES2X' into feature-UNOMI-70-ES5X

commit d7a7969578817eebf7a72c0c364200f0f084bb10
Author: Serge Huber <shuber@apache.org>
Date:   Tue Dec 6 13:42:54 2016 +0100

    New segment update optimization, hopefully will work better than the last one.

 .../services/services/SegmentServiceImpl.java      | 26 ++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit 96a018ecb1b5b907930504e69f6da9357db8385e
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 5 10:43:29 2016 +0100

    UNOMI 70 - Upgrade to ElasticSearch 5.0
    - Upgrade to ElasticSearch 5.0.1
    - Upgrade CXF to 3.0.2
    - Upgrade to Karaf 3.0.8
    - Replace Unomi clustering from ES clustering to Karaf Cellar clustering

 extensions/geonames/rest/pom.xml                   |   5 -
 .../META-INF/cxs/mappings/geonameEntry.json        |  42 +-
 extensions/lists-extension/rest/pom.xml            |   5 -
 .../resources/META-INF/cxs/mappings/userList.json  |  23 +-
 extensions/privacy-extension/rest/pom.xml          |   5 -
 itests/pom.xml                                     |  41 +-
 kar/src/main/feature/feature.xml                   |   2 +-
 package/pom.xml                                    |  36 +-
 persistence-elasticsearch/core/pom.xml             | 115 +++--
 .../ElasticSearchPersistenceServiceImpl.java       | 490 +++++++++++----------
 .../META-INF/cxs/mappings/actionType.json          |   4 +-
 .../resources/META-INF/cxs/mappings/campaign.json  |  32 +-
 .../META-INF/cxs/mappings/campaignevent.json       |  30 +-
 .../META-INF/cxs/mappings/conditionType.json       |  66 ++-
 .../resources/META-INF/cxs/mappings/event.json     | 319 +++++++++++++-
 .../main/resources/META-INF/cxs/mappings/goal.json |  28 +-
 .../resources/META-INF/cxs/mappings/persona.json   |  22 +-
 .../META-INF/cxs/mappings/personaSession.json      |  81 +++-
 .../resources/META-INF/cxs/mappings/profile.json   |  42 +-
 .../META-INF/cxs/mappings/propertyType.json        |  45 +-
 .../main/resources/META-INF/cxs/mappings/rule.json |  21 +-
 .../resources/META-INF/cxs/mappings/scoring.json   |  25 +-
 .../resources/META-INF/cxs/mappings/segment.json   |  21 +-
 .../resources/META-INF/cxs/mappings/session.json   |  35 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  26 +-
 .../core/src/main/resources/log4j2.xml             |  29 ++
 .../org.apache.unomi.persistence.elasticsearch.cfg |   7 +-
 .../plugin/security/SecurityPlugin.java            |  34 +-
 .../plugin/security/SecurityPluginService.java     |   7 +-
 .../unomi/persistence/spi/PersistenceService.java  |   8 -
 .../conditions/BooleanConditionESQueryBuilder.java |  18 +-
 ...ationByPointSessionConditionESQueryBuilder.java |   6 +-
 .../conditions/PropertyConditionEvaluator.java     |   4 +-
 pom.xml                                            |  31 +-
 rest/pom.xml                                       |   5 -
 services/pom.xml                                   |  10 -
 36 files changed, 1132 insertions(+), 588 deletions(-)

commit 90eb893c747259cb1d44a32b4c2c4e2258bc6777
Merge: ff87e2f5 2263da96
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 5 10:00:32 2016 +0100

    Merge remote-tracking branch 'origin/feature-UNOMI-28-ES2X' into feature-UNOMI-70-ES5X
    
    # Conflicts:
    #       api/pom.xml
    #       extensions/geonames/pom.xml
    #       extensions/geonames/rest/pom.xml
    #       extensions/geonames/services/pom.xml
    #       extensions/lists-extension/pom.xml
    #       extensions/lists-extension/rest/pom.xml
    #       extensions/lists-extension/services/pom.xml
    #       extensions/pom.xml
    #       extensions/privacy-extension/pom.xml
    #       extensions/privacy-extension/rest/pom.xml
    #       extensions/privacy-extension/services/pom.xml
    #       itests/pom.xml
    #       kar/pom.xml
    #       package/pom.xml
    #       performance-tests/pom.xml
    #       persistence-elasticsearch/core/pom.xml
    #       persistence-elasticsearch/plugins/pom.xml
    #       persistence-elasticsearch/plugins/security/pom.xml
    #       persistence-elasticsearch/pom.xml
    #       persistence-spi/pom.xml
    #       plugins/baseplugin/pom.xml
    #       plugins/hover-event/pom.xml
    #       plugins/mail/pom.xml
    #       plugins/optimization-test/pom.xml
    #       plugins/past-event/pom.xml
    #       plugins/pom.xml
    #       plugins/request/pom.xml
    #       plugins/tracked-event/pom.xml
    #       pom.xml
    #       rest/pom.xml
    #       samples/pom.xml
    #       samples/tweet-button-plugin/pom.xml
    #       services/pom.xml
    #       wab/pom.xml

commit ff87e2f5567ad83da6b140e431bf16f31cd0b1f2
Author: Serge Huber <shuber@apache.org>
Date:   Mon Dec 5 09:51:42 2016 +0100

    [jgitflow-maven-plugin]updating poms for unomi_70_es_5_x version

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit a4955cafac8910e266e9ea11752c1145cfb92209
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Nov 28 17:10:17 2016 +0100

    UNOMI-68: Fixed site branding by making the incubator status more visible and adding more links and trademark disclosures.

 src/site/markdown/index.md | 12 +++++++++++-
 src/site/site.xml          | 14 ++++++++++----
 2 files changed, 21 insertions(+), 5 deletions(-)

commit 2263da963dfa04cba367a7bf68f889445d9b74b5
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 25 14:26:21 2016 +0100

    Merge PR #18

 .../baseplugin/conditions/PropertyConditionESQueryBuilder.java        | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2524693c34beffddece4ee1b520e48aafe9552e0
Merge: 85f00e8a 173c1ebd
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 25 14:16:13 2016 +0100

    Merge branch 'master' into feature-UNOMI-28-ES2X
    
    # Conflicts:
    #       plugins/baseplugin/src/main/java/org/apache/unomi/plugins/baseplugin/conditions/PropertyConditionESQueryBuilder.java

commit 173c1ebd340d3e94ff2558831a513f19d1ea6d52
Merge: b46a5999 cb72a0ea
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 25 14:08:19 2016 +0100

    Merge PR #18

commit cb72a0ea8a855f0a83d69a0bbd323a63e3b5cb40
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Nov 25 12:25:34 2016 +0100

    Reset renaming ‘all’ to ‘hasAllOf’

 itests/src/test/java/org/apache/unomi/itests/ConditionBuilder.java    | 4 ++--
 .../src/test/java/org/apache/unomi/itests/ConditionEvaluatorTest.java | 4 ++--
 .../baseplugin/conditions/PropertyConditionESQueryBuilder.java        | 2 +-
 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java     | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 85f00e8ace06eb603619d604718879ef39d29f20
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 24 20:17:21 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    Replace lists with sets to optimize porfile removal

 .../apache/unomi/services/services/SegmentServiceImpl.java | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 1075a02cfeb6a4c59d935185a3f1d81fc5159f06
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 23 17:12:16 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Switch to TransportClient to hopefully make load-balancing work better. This might have a minor slowdown on standalone performance.

 .../ElasticSearchPersistenceServiceImpl.java       | 26 +++++++++++++++++-----
 1 file changed, 21 insertions(+), 5 deletions(-)

commit 661daeea5951fe7219508e710609a965a3192989
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 21 17:39:59 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Track index creation through internal memory structure

 .../ElasticSearchPersistenceServiceImpl.java       | 60 ++++++++++++++++------
 1 file changed, 45 insertions(+), 15 deletions(-)

commit 62d11ded05668452731af5ba4ae23e8cd6bb98c2
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 17 14:29:12 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Use configured address by default if none is specified in the elasticsearch.yml file.

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java          | 6 ++++++
 1 file changed, 6 insertions(+)

commit fcea70579e63dea428171754f8113d97dc76ede5
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 17 11:07:54 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Initial code to load existing indices
    - Add code to wait for index startup as there seems to be some problems with this in a cluster configuration.

 .../ElasticSearchPersistenceServiceImpl.java          | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 9a582147ef1bf2058d99172b392da5867ffbae52
Author: Serge Huber <shuber@apache.org>
Date:   Thu Nov 17 09:34:30 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Add minimal configuration documentation
    - Change bulk size value back to its default 5MB size

 .../main/resources/org.apache.unomi.persistence.elasticsearch.cfg   | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 73efe571cd8aa289dedc5cad1426c32b22e0c56e
Merge: 9493c703 ca1462d8
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 14:32:57 2016 +0100

    Merge branch 'UNOMI-28-ES-2-X-UPGRADE' into feature-UNOMI-28-ES2X

commit 9493c70307cb845fe7628eb4a924cac0a3df1de2
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 14:31:34 2016 +0100

    [jgitflow-maven-plugin]updating poms for unomi_28_es_2_x version

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit ca1462d866b27cc41f3bb46c81865b2174748d26
Merge: a7fb48dd b46a5999
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 11:25:11 2016 +0100

    Merge remote-tracking branch 'origin/master' into UNOMI-28-ES-2-X-UPGRADE

commit b46a59998049a275754a46c2a22c5c5e4b96d45b
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 11:19:09 2016 +0100

    UNOMI-65 Integrate jgitflow to manage feature branches
    - Add quick documentation on how to use

 BUILDING | 23 ++++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit 55fcf3bce9b7d2ac2044cc1511a61f1b401e217e
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 11:11:34 2016 +0100

    UNOMI-65 Integrate jgitflow to manage feature branches

 pom.xml | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 2c5c113606dcad742fb44736d16ae4eddb97ddd3
Merge: ea1254f1 0a6b5a1d
Author: Serge Huber <shuber@apache.org>
Date:   Wed Nov 16 10:19:40 2016 +0100

    Merge PR#19

commit a7fb48dd948d36e376a4fdfc8868fd51a9053bd0
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 15 14:13:46 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Validate configuration functionality

 .../ElasticSearchPersistenceServiceImpl.java       | 85 +++++++++++++++-------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 13 ++++
 .../org.apache.unomi.persistence.elasticsearch.cfg |  6 ++
 3 files changed, 77 insertions(+), 27 deletions(-)

commit 79b1b9c66ec7f97d6b1455bbbda8b76d61d4d421
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 15 10:21:27 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Upgrade to ElasticSearch 2.4.1

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0a6b5a1d14648deb881c1171eb3349911854b5a2
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Nov 14 18:47:16 2016 +0100

    UNOMI-64 : Add Region/State/Province and Subregion/County

 .../unomi/plugins/request/actions/SetRemoteHostInfoAction.java    | 3 ++-
 .../cxs/properties/sessions/geographic/sessionAdminSubDiv1.json   | 8 ++++++++
 .../cxs/properties/sessions/geographic/sessionAdminSubDiv2.json   | 8 ++++++++
 3 files changed, 18 insertions(+), 1 deletion(-)

commit 285d4cc6dbcce938f094188fa3809f93fb9dc52b
Author: Serge Huber <shuber@apache.org>
Date:   Mon Nov 14 17:25:05 2016 +0100

    UNOMI-63 Use ElasticSearch BulkProcessing to perform segment updates
    - Fix merge issues with master
    - Implement bulk processor support for ElasticSearch update operations (indexing operations not yet integrated because of IndexNotFoundException handling)
    - Minor logging improvements in SegmentService

 package/pom.xml                                    |   5 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 133 +++++++++++++++++++--
 .../services/services/SegmentServiceImpl.java      |   8 +-
 3 files changed, 130 insertions(+), 16 deletions(-)

commit f0bd45f522a56b8c36a7ac1e0174f689fca3b42b
Merge: e0708237 ea1254f1
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 11 16:00:11 2016 +0100

    Merge branch 'master' into UNOMI-28-ES-2-X-UPGRADE
    
    # Conflicts:
    #       package/pom.xml

commit 3e85c040604146e81685d167a6642de93efa76c0
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Nov 9 15:28:56 2016 +0100

    UNOMI-62 : Add multivalue comparison operator ('hasAllOf', 'hasNoneOf', 'hasSomeOf')

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java  | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit a5d12dffd12180f2056c95f35d895fad8b0fbb29
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Tue Nov 8 17:54:51 2016 +0100

    UNOMI-62 : Add multivalue comparison operator ('hasAllOf', 'hasNoneOf', 'hasSomeOf')

 extensions/privacy-extension/services/pom.xml                  |  5 +++++
 .../org/apache/unomi/privacy/internal/PrivacyServiceImpl.java  | 10 ++++++++--
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml        |  1 +
 .../test/java/org/apache/unomi/itests/ConditionBuilder.java    |  4 ++--
 .../java/org/apache/unomi/itests/ConditionEvaluatorTest.java   |  6 +++---
 .../baseplugin/conditions/PropertyConditionESQueryBuilder.java |  8 +++++++-
 .../baseplugin/conditions/PropertyConditionEvaluator.java      |  7 ++++++-
 7 files changed, 32 insertions(+), 9 deletions(-)

commit e070823747c493598eaee080f294ab0dcd678e65
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 4 12:11:14 2016 +0100

    Fix issue with dependency removed from Maven repositories.

 persistence-elasticsearch/core/pom.xml | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit ea1254f121792b36ff356ac1f3f9c20f8b614427
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Nov 2 11:55:02 2016 +0100

    UNOMI-61 update version of mvel from 2.1.9 to 2.3.1

 pom.xml                                                                | 2 +-
 .../java/org/apache/unomi/services/services/ProfileServiceImpl.java    | 3 ---
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 7382af5ad2371f966959ea47f8ae77c2f206f0e6
Merge: 940ca9de 36bc5d27
Author: Thomas Draier <draier@apache.org>
Date:   Thu Oct 27 09:55:32 2016 +0200

    Merge PR #14

commit 940ca9deb1df6ff2064ecda96bf4bf3b3286945f
Merge: 0f87d095 20e83a13
Author: Thomas Draier <draier@apache.org>
Date:   Thu Oct 27 09:52:27 2016 +0200

    Merge PR#15

commit 0f87d095a4cc444a64d374cc4249ae2105a8ac36
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Oct 19 16:35:28 2016 +0200

    UNOMI-59 : Handle update of multivalued property - form mapping

 .../org/apache/unomi/plugins/baseplugin/actions/SetPropertyAction.java | 3 +++
 1 file changed, 3 insertions(+)

commit a0a87f30ee765d9914d1b8b7e523880cc6a66f40
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Tue Oct 11 18:27:34 2016 +0200

    UNOMI-59 : Handle update of multivalued property

 .../apache/unomi/services/services/ProfileServiceImpl.java   | 12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit 4c20fa6b90da96d02b85f3b030401920983fe266
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Sep 30 18:15:43 2016 +0200

    UNOMI-59 : Handle update of multivalued property

 .../main/java/org/apache/unomi/services/services/ProfileServiceImpl.java | 1 +
 1 file changed, 1 insertion(+)

commit 20e83a1355c209cc38f44dead240d9789966b15a
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Oct 19 16:35:28 2016 +0200

    UNOMI-59 : Handle update of multivalued property - form mapping

 .../org/apache/unomi/plugins/baseplugin/actions/SetPropertyAction.java | 3 +++
 1 file changed, 3 insertions(+)

commit b311e19886ceb0277c45c48319b94256d60ed3eb
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Tue Oct 11 18:27:34 2016 +0200

    UNOMI-59 : Handle update of multivalued property

 .../apache/unomi/services/services/ProfileServiceImpl.java   | 12 ++----------
 1 file changed, 2 insertions(+), 10 deletions(-)

commit b8cf1c6d47ad908d0413e23ee2e6551159533fd9
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Sep 30 18:15:43 2016 +0200

    UNOMI-59 : Handle update of multivalued property

 .../main/java/org/apache/unomi/services/services/ProfileServiceImpl.java | 1 +
 1 file changed, 1 insertion(+)

commit d8c63f58fe4c6ed6423dd3ba835431506006c945
Author: dgaillard <dgaillard@jahia.com>
Date:   Thu Oct 20 17:51:12 2016 +0200

    UNOMI-60 inject blueprint bundle context into PrivacyServiceImpl so we can get and return current version of UNOMI instead of hardcoded value

 extensions/privacy-extension/services/pom.xml                     | 5 +++++
 .../org/apache/unomi/privacy/internal/PrivacyServiceImpl.java     | 8 +++++++-
 .../services/src/main/resources/OSGI-INF/blueprint/blueprint.xml  | 1 +
 3 files changed, 13 insertions(+), 1 deletion(-)

commit ac31af942dfc828c3acb654277a8e663cbf4356e
Author: Thomas Draier <draier@apache.org>
Date:   Tue Oct 4 09:27:59 2016 +0200

    Fixed checksum link in download page

 src/site/markdown/download.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e45bfd49be64be2ac56d169c566944c7a3921f37
Author: Thomas Draier <draier@apache.org>
Date:   Mon Oct 3 18:52:32 2016 +0200

    Publish 1.1.0-incubating release

 src/site/markdown/download.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 6ac0bff2f531777796e87ff2da58a49b4f8e493d
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 17:20:16 2016 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 619e51f509cd2fc72a9cb24357d33596094c5d25
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 17:19:57 2016 +0200

    [maven-release-plugin] prepare release unomi-root-1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 0feeb3791a338956ef13e85cdc8083caea7dc485
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 17:02:45 2016 +0200

    UNOMI-57 : cleaned notice file

 package/src/main/resources/NOTICE | 659 --------------------------------------
 1 file changed, 659 deletions(-)

commit 0309ee5b7201e07c4716a4740824b58b2cf7ffde
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 16:51:09 2016 +0200

    UNOMI-57 : removed unnecessary reference to mit license

 NOTICE                            | 1 -
 package/src/main/resources/NOTICE | 1 -
 2 files changed, 2 deletions(-)

commit 9ab88f5eeb3503f1a4d95a024c362f037c226dcc
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 16:22:45 2016 +0200

    UNOMI-57 : Added repository for uadetector

 pom.xml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 9dff31f772ed919e9f8799c4c34b1891fd1fcfeb
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 15:40:47 2016 +0200

    UNOMI-58 : fixed binary build generation

 package/pom.xml | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 13cd10115aa31970ce130e5747e8012a50e1d764
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 15:10:32 2016 +0200

    Revert "[maven-release-plugin] prepare release unomi-root-1.1.0-incubating"
    
    This reverts commit 35ac633931138ff1dbf10f2d0ffc15009ec9e1f4.

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit a723d01df878260ff2bb7eee08cdc7cb4fece84b
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 15:10:19 2016 +0200

    Revert "[maven-release-plugin] prepare for next development iteration"
    
    This reverts commit 3ed69fae0d1266c62ea62aedbfbe15223d365ca6.

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 716913943bbb5328b9e207d1ab9c569bfb819152
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 29 15:05:39 2016 +0200

    UNOMI-57 : Updated uadetector version to remove lgpl reference

 package/src/main/resources/LICENSE | 410 ++++++++++++++++++-------------------
 package/src/main/resources/NOTICE  |   9 +-
 plugins/request/pom.xml            |   4 +-
 3 files changed, 210 insertions(+), 213 deletions(-)

commit fda0d9ce711ff189a8f4af42711d17a5d9d020ed
Author: Serge Huber <shuber@apache.org>
Date:   Thu Sep 22 16:03:18 2016 +0200

    Use ElasticSearch's re-introduced support for dots in names and remove the old dot escaping code.

 .../ElasticSearchPersistenceServiceImpl.java       |  13 +-
 .../persistence/elasticsearch/FieldDotEscaper.java | 108 --------
 .../elasticsearch/FieldDotJsonTransformer.java     | 290 ---------------------
 .../elasticsearch/FieldDotEscapeTest.java          |  95 -------
 .../elasticsearch/FieldDotJsonTransformerTest.java |  61 -----
 .../core/src/test/resources/complex.json           |  50 ----
 .../core/src/test/resources/profile.json           |   1 -
 7 files changed, 6 insertions(+), 612 deletions(-)

commit 36bc5d272d8bfe101ea9ce96fc35a2b145d8d686
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Sep 21 18:22:19 2016 +0200

    UNOMI-56 : Add setPropertyValueMultiple in setPropertyAction.json

 .../unomi/plugins/baseplugin/actions/SetPropertyAction.java   | 11 ++++++++---
 .../resources/META-INF/cxs/actions/setPropertyAction.json     |  5 +++++
 2 files changed, 13 insertions(+), 3 deletions(-)

commit 12641b9b3e72b130a5f05062680238cd4ca8a15f
Author: Serge Huber <shuber@apache.org>
Date:   Wed Sep 21 13:55:25 2016 +0200

    Fix NPE in monthly index creation

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java       | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 3ed69fae0d1266c62ea62aedbfbe15223d365ca6
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:42:37 2016 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 35ac633931138ff1dbf10f2d0ffc15009ec9e1f4
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:42:19 2016 +0200

    [maven-release-plugin] prepare release unomi-root-1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 623ccd8ea0b7ff0d582d926f08762b38fa2079f6
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:37:22 2016 +0200

    [maven-release-plugin] rollback the release of unomi-root-1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 33e4d52f2e6a752f67df4d9df95d7d16dacd8dcb
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:36:20 2016 +0200

    [maven-release-plugin] prepare release unomi-root-1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 76293f3667d9002f0976410f56d1033a3306e707
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:32:36 2016 +0200

    Disable binary generation when src profile is enabled

 package/pom.xml | 317 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 162 insertions(+), 155 deletions(-)

commit 84b54455f5c3eeff933bb640d3f54d26c1a55ec2
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:27:37 2016 +0200

    Removed invalid reference to GPL license

 package/src/main/resources/LICENSE | 140 -------------------------------------
 1 file changed, 140 deletions(-)

commit e917bcd3cc483d56deb1e87d9eab82c40be8a9b2
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 18:06:48 2016 +0200

    rollback release 1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit ac94540f2eb52f7efe77b841fbf89a255c8ec9e3
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 16:29:37 2016 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit f07b8720fc3885b755d51590db93e69e4c16a55d
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 16:29:15 2016 +0200

    [maven-release-plugin] prepare release unomi-root-1.1.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  2 +-
 extensions/geonames/rest/pom.xml                   |  8 ++---
 extensions/geonames/services/pom.xml               |  8 ++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 ++---
 extensions/lists-extension/services/pom.xml        |  8 ++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 ++---
 extensions/privacy-extension/services/pom.xml      |  8 ++---
 itests/pom.xml                                     |  8 ++---
 kar/pom.xml                                        | 30 ++++++++--------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++--
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++--
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  4 +--
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++--
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++--
 pom.xml                                            | 42 +++++++++++-----------
 rest/pom.xml                                       |  6 ++--
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++--
 wab/pom.xml                                        |  6 ++--
 34 files changed, 111 insertions(+), 113 deletions(-)

commit 88ac0ec2ae31eed8ca9f77ff24ee55dc17ff8d51
Author: Thomas Draier <draier@apache.org>
Date:   Tue Sep 20 16:13:26 2016 +0200

    Use final version for miredot

 rest/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f959b52e246f3405b7e6e65ef53fce29421c2cc7
Author: Thomas Draier <draier@apache.org>
Date:   Thu Sep 15 14:46:58 2016 +0200

    Added key

 KEYS | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 91c9c20bf427be8012163f10962c968d4f78a417
Merge: 3ebc65be f40318a9
Author: Serge Huber <shuber@apache.org>
Date:   Wed Sep 14 17:44:45 2016 +0200

    Merge remote-tracking branch 'origin/master' into UNOMI-28-ES-2-X-UPGRADE
    
    # Conflicts:
    #       persistence-elasticsearch/core/src/main/java/org/apache/unomi/persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java
    #       plugins/baseplugin/src/main/java/org/apache/unomi/plugins/baseplugin/conditions/BooleanConditionESQueryBuilder.java

commit 3ebc65be1a0f7ccb562c9d649846fabe759c651a
Author: Serge Huber <shuber@apache.org>
Date:   Tue Sep 13 18:20:36 2016 +0200

    Improve startup sequence to avoid starting services before ElasticSearch has properly started.

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java | 14 ++++++++++++++
 pom.xml                                                    |  2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 0bb17729c5dbd461721d8d9487b8b278cda87091
Author: dgaillard <dgaillard@jahia.com>
Date:   Mon Sep 12 17:55:19 2016 +0200

    UNOMI-32 remove property if the property is present in the object with a null value

 .../services/services/ProfileServiceImpl.java      | 37 ++++++++++++----------
 1 file changed, 21 insertions(+), 16 deletions(-)

commit 9a53c2f483476951930a2d740cf3948b0c5b870e
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Sep 7 16:58:04 2016 +0200

    UNOMI-53 : goalMatchCondition : default value for goalId

 .../src/main/resources/META-INF/cxs/conditions/goalMatchCondition.json | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit f47e846660cb7c785ee4bff39809848266678230
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Sep 7 10:59:59 2016 +0200

    UNOMI-32 fix issue with missing save after event execution.

 .../main/java/org/apache/unomi/api/services/ProfileService.java   | 2 +-
 .../main/java/org/apache/unomi/rest/ProfileServiceEndPoint.java   | 8 ++++++--
 .../org/apache/unomi/services/services/ProfileServiceImpl.java    | 2 +-
 3 files changed, 8 insertions(+), 4 deletions(-)

commit f40318a99d49458579ced05762c417900cbdd6ae
Author: dgaillard <dgaillard@jahia.com>
Date:   Fri Sep 2 17:06:33 2016 +0200

    UNOMI-55 fix typo issue

 .../services/src/main/resources/org.apache.unomi.privacy.cfg            | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c63d85e39ea6eb801bd7f3636420051d5b33fa39
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Aug 26 15:19:08 2016 +0200

    UNOMI-54 : Add mappings for scoring and userList + add score mapping in profile

 .../resources/META-INF/cxs/mappings/userList.json  | 44 ++++++++++++++-
 .../ElasticSearchPersistenceServiceImpl.java       | 35 +++++++-----
 .../resources/META-INF/cxs/mappings/scoring.json   | 62 ++++++++++++++++++++++
 .../unomi/persistence/spi/PersistenceService.java  |  9 +++-
 .../unomi/services/services/EventServiceImpl.java  |  7 ++-
 .../services/services/ProfileServiceImpl.java      |  2 +-
 .../services/services/SegmentServiceImpl.java      | 15 ++++++
 7 files changed, 156 insertions(+), 18 deletions(-)

commit ec58db2c9edc75ea5d5acbf2d0bc902a724748bc
Author: Thomas Draier <draier@apache.org>
Date:   Fri Aug 26 11:41:54 2016 +0200

    UNOMI-32 : Improved profile updates to only merge specified properties. Send event only if profile is modifed.  Also merge proeprty types on save.

 .../java/org/apache/unomi/api/PropertyType.java    | 16 ++---
 .../apache/unomi/api/services/ProfileService.java  |  8 +++
 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 12 ++--
 .../services/services/ProfileServiceImpl.java      | 77 ++++++++++++++++++++--
 4 files changed, 94 insertions(+), 19 deletions(-)

commit b2cb9ee0dd55b5566d0e7770f5744f9c0d50c733
Author: Thomas Draier <draier@apache.org>
Date:   Thu Aug 25 18:42:34 2016 +0200

    UNOMI-39 - clear goals and past events when anonymized. Send event when anonymous flag is switched. Use uptodate proile in session

 .../org/apache/unomi/privacy/internal/PrivacyServiceImpl.java    | 8 ++++++++
 wab/src/main/java/org/apache/unomi/web/ContextServlet.java       | 9 +++++++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 6f46c9238c581a6d788edfbbd01c846f013d26c5
Author: Thomas Draier <draier@apache.org>
Date:   Thu Aug 25 16:52:42 2016 +0200

    Restored package compilation

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 3f135d67156dd8741baa03a77d2e5224cbe7787e
Author: Thomas Draier <draier@apache.org>
Date:   Mon Aug 22 17:58:30 2016 +0200

    UNOMI-39 - send anonymous flag in context, added parameter in rest api

 .../java/org/apache/unomi/api/ContextResponse.java     | 18 ++++++++++++++++++
 .../unomi/privacy/rest/PrivacyServiceEndPoint.java     |  5 ++++-
 .../main/java/org/apache/unomi/web/ContextServlet.java | 17 ++++++++++++-----
 3 files changed, 34 insertions(+), 6 deletions(-)

commit 94c27c0da2aa22b08827e4daa689c666c57744d9
Author: Thomas Draier <draier@apache.org>
Date:   Mon Aug 22 16:02:21 2016 +0200

    UNOMI-39 - switch profile if it has been updated in the session

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 007610226bd9bb92e930e045e7ae632cba5a3db7
Author: Thomas Draier <draier@apache.org>
Date:   Mon Aug 22 13:54:31 2016 +0200

    UNOMI-39 - anonymous browsing : do not store anonymous profile, keep only in session and event without id and personal data. Handle profile merge with anonymous browsing. Keep master profile in event to store personal properties, even when using anonymous browsing.

 .../unomi/privacy/rest/PrivacyServiceEndPoint.java |  12 +-
 .../unomi/privacy/internal/PrivacyServiceImpl.java |   4 +-
 .../actions/AllEventToProfilePropertiesAction.java |   6 +-
 .../actions/EventToProfilePropertyAction.java      |   4 -
 .../actions/MergeProfilesOnPropertyAction.java     |  32 +++--
 .../baseplugin/actions/SendEventAction.java        |   1 +
 .../baseplugin/actions/SetPropertyAction.java      |   5 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 .../unomi/services/services/EventServiceImpl.java  |   2 +-
 .../services/services/ProfileServiceImpl.java      |   6 +
 .../java/org/apache/unomi/web/ContextServlet.java  | 148 +++++++++++----------
 .../apache/unomi/web/EventsCollectorServlet.java   |  50 ++++---
 12 files changed, 148 insertions(+), 123 deletions(-)

commit 685f67ffa889b9dd329255cf74c6a4029ac82200
Author: Thomas Draier <draier@apache.org>
Date:   Thu Aug 18 16:32:40 2016 +0200

    UNOMI-39 - anonymous browsing : anonymize removed profile properties. implements default denied properties, copy allowed properties from profile to anonymous. Cleaned profile and segment queries.

 .../apache/unomi/api/services/PrivacyService.java  |  8 ++--
 .../unomi/privacy/rest/PrivacyServiceEndPoint.java |  4 +-
 extensions/privacy-extension/services/pom.xml      | 26 +++++++++++
 .../unomi/privacy/internal/PrivacyServiceImpl.java | 53 ++++++++++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +++-
 .../main/resources/org.apache.unomi.privacy.cfg    | 18 ++++++++
 kar/src/main/feature/feature.xml                   |  1 +
 .../actions/AllEventToProfilePropertiesAction.java | 18 ++++----
 .../actions/EventToProfilePropertyAction.java      | 15 ++++--
 .../baseplugin/actions/SetPropertyAction.java      | 14 +++---
 .../conditions/BooleanConditionESQueryBuilder.java |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +++-
 pom.xml                                            |  2 -
 .../services/services/ProfileServiceImpl.java      |  5 +-
 .../services/services/SegmentServiceImpl.java      | 19 ++++----
 .../java/org/apache/unomi/web/ContextServlet.java  | 27 +++++++----
 .../apache/unomi/web/EventsCollectorServlet.java   |  2 +-
 17 files changed, 169 insertions(+), 65 deletions(-)

commit eee8d6f5585dc58b96462217cec4abe4f6cb71ba
Author: dgaillard <dgaillard@jahia.com>
Date:   Wed Aug 17 17:56:01 2016 +0200

    UNOMI-50 add entry point to query sessions in ProfileServiceEndPoint

 .../java/org/apache/unomi/api/services/ProfileService.java    |  8 ++++++++
 .../java/org/apache/unomi/rest/ProfileServiceEndPoint.java    | 11 +++++++++++
 .../apache/unomi/services/services/ProfileServiceImpl.java    |  8 ++++++++
 3 files changed, 27 insertions(+)

commit 7e372f3ac0e0275987400bf1521faf3a640bc9b5
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Aug 12 16:29:00 2016 +0200

    UNOMI-53 : goalMatchCondition : comparisonOperator as a parameter

 .../resources/META-INF/cxs/conditions/goalMatchCondition.json     | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 44fd0459b364c4cfe3572d6632f839fa958a254c
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Thu Aug 11 10:03:59 2016 +0200

    UNOMI-52 : Review conditions tags

 .../src/main/resources/META-INF/cxs/conditions/newVisitorCondition.json | 2 +-
 .../resources/META-INF/cxs/conditions/returningVisitorCondition.json    | 2 +-
 .../resources/META-INF/cxs/conditions/sessionDurationCondition.json     | 2 +-
 .../resources/META-INF/cxs/conditions/sessionPropertyCondition.json     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 9df17f70988988fc9dc4a1b7cb7c6826e2fe1a54
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Aug 10 16:17:04 2016 +0200

    UNOMI-51 : Scoring modifiers are ignored when the score value is updated

 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 30a51a23dc73c6c6c794056aeeed2108c146bc60
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Aug 12 16:15:56 2016 +0200

    UNOMI-48: Add/improve validation done at scoring/segment deletion

 .../unomi/api/segments/DependentMetadata.java      |  53 +++++
 .../apache/unomi/api/services/SegmentService.java  |  41 ++--
 .../META-INF/cxs/conditions/scoringCondition.json  |  40 ++++
 .../apache/unomi/rest/ScoringServiceEndPoint.java  |  29 ++-
 .../apache/unomi/rest/SegmentServiceEndPoint.java  |  23 +--
 .../services/services/SegmentServiceImpl.java      | 230 ++++++++++++++++++---
 6 files changed, 358 insertions(+), 58 deletions(-)

commit 131a06aa78fc86223359c11c7a40a4e653dab434
Author: Serge Huber <shuber@apache.org>
Date:   Tue Aug 9 15:55:03 2016 +0200

    UNOMI-28 Upgrade to ElasticSearch 2.x
    
    Used this resource to perform changes:
    https://www.elastic.co/guide/en/elasticsearch/reference/current/breaking_20_java_api_changes.html
    
    A lot of changes are contained in this commit, notably :
    - Moved data directory from KARAF_HOME/data to KARAF_HOME/elasticsearch/data
    - Had to build a JSON parser to rewrite field names with "." to escape them with "__DOT__"
    - Fixes on dates
    - Replace all filter classes with query classes as these don't exist in ES 2.x any more
    - Replace and/or ES clauses with bool must/should
    - Had to replace deleteByQuery support to add plugin by default, since in ES 2.x they externalized the functionality
    - Had to install Groovy and Expression modules since they are no longer part of the core
    
    What is NOT done by this patch is the migration procedure

 .../META-INF/cxs/mappings/geonameEntry.json        |   2 +-
 itests/pom.xml                                     |   5 +-
 .../java/org/apache/unomi/itests/AllTests.java     |  11 +-
 .../apache/unomi/itests/ProfileServiceTest.java    |  53 +++
 kar/src/main/feature/feature.xml                   |  12 +-
 package/pom.xml                                    |  54 ++-
 persistence-elasticsearch/core/pom.xml             | 207 +++--------
 .../ElasticSearchPersistenceServiceImpl.java       | 165 ++++++---
 .../persistence/elasticsearch/FieldDotEscaper.java | 108 ++++++
 .../elasticsearch/FieldDotJsonTransformer.java     | 290 ++++++++++++++++
 .../conditions/ConditionContextHelper.java         |   4 +-
 .../conditions/ConditionESQueryBuilder.java        |   4 +-
 .../ConditionESQueryBuilderDispatcher.java         |  16 +-
 .../resources/META-INF/cxs/mappings/campaign.json  |   4 +-
 .../META-INF/cxs/mappings/campaignevent.json       |   2 +-
 .../resources/META-INF/cxs/mappings/event.json     |   2 +-
 .../resources/META-INF/cxs/mappings/profile.json   |   2 +-
 .../resources/META-INF/cxs/mappings/session.json   |   4 +-
 .../core/src/main/resources/elasticsearch.yml      | 381 +++------------------
 .../elasticsearch/FieldDotEscapeTest.java          |  95 +++++
 .../elasticsearch/FieldDotJsonTransformerTest.java |  61 ++++
 .../core/src/test/resources/complex.json           |  50 +++
 .../core/src/test/resources/profile.json           |   1 +
 .../plugin/security/SecurityPlugin.java            |  14 +-
 .../plugin/security/SecurityPluginModule.java      |   3 +-
 .../plugin/security/SecurityPluginService.java     |   4 +-
 .../conditions/BooleanConditionESQueryBuilder.java |  20 +-
 ...ationByPointSessionConditionESQueryBuilder.java |  10 +-
 .../MatchAllConditionESQueryBuilder.java           |   8 +-
 .../conditions/NotConditionESQueryBuilder.java     |   8 +-
 .../PastEventConditionESQueryBuilder.java          |   8 +-
 .../PropertyConditionESQueryBuilder.java           |  51 +--
 .../conditions/PropertyConditionEvaluator.java     |   3 +-
 ...SourceEventPropertyConditionESQueryBuilder.java |  27 +-
 .../HoverEventConditionESQueryBuilder.java         |  23 +-
 pom.xml                                            |   8 +-
 36 files changed, 1044 insertions(+), 676 deletions(-)

commit 1c5d74aa5c2f98af8a632eb9be603e168f6df1be
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Tue Aug 9 13:36:12 2016 +0200

    UNOMI-47 : Check if the nested property is present on the profile

 .../org/apache/unomi/persistence/spi/PropertyHelper.java | 16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit b6410c1488950d420950f7b3a80a5e6eace6ae73
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Aug 8 15:49:32 2016 +0200

    UNOMI-49 : Add "aggregated" tag

 .../resources/META-INF/cxs/conditions/profileSegmentCondition.json    | 2 +-
 services/src/main/resources/META-INF/cxs/tags/aggregated.json         | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 7742b30aee11c8afee3a6039c4ca227f08310cdb
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Aug 5 12:49:41 2016 +0200

    UNOMI-47 : Add the ability to remove a property on the profile

 .../org/apache/unomi/persistence/spi/PropertyHelper.java  | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 45d4fb092a73d70cf86e3748d9388bb9f13312f7
Merge: 6e420d16 d1d0bb39
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Aug 4 19:03:33 2016 +0200

    UNOMI-47 : Merge Pull request #5

commit d1d0bb39c39d6fddd3e0406b1ad210ece2cebc97
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Thu Aug 4 02:51:09 2016 +0200

    UNOMI-47 : Once per profile handled in the mailing action, because event updatedProfile is not persisted

 .../unomi/plugins/mail/actions/SendMailAction.java      | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 2d58c953bfd1c494afd32f0e366588e05696daa9
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Aug 3 12:40:40 2016 +0200

    UNOMI-47 : Once per profile handled in the mailing action, because event updatedProfile is not persisted

 plugins/mail/pom.xml                               |  6 +++++
 .../unomi/plugins/mail/actions/SendMailAction.java | 31 ++++++++++++++++++++++
 .../META-INF/cxs/actions/sendMailAction.json       | 16 +++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +++
 4 files changed, 57 insertions(+)

commit 3e094f100263e45b10f7a883cfe2afebb2706682
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Jul 25 18:45:43 2016 +0200

    UNOMI-47 : send it also when segments are updated

 .../apache/unomi/services/services/SegmentServiceImpl.java    | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit 68469334ef90062b0a653bc1a4ad2171149affc5
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Jul 25 18:36:13 2016 +0200

    UNOMI-47 : Send event updatedProfile optimization, send it also when segments are updated

 .../unomi/services/services/SegmentServiceImpl.java | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit fbffc999bf39cea0e3460b5ec43ba0497b63702d
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Jul 20 16:31:00 2016 +0200

    UNOMI-47 : Add a rule to send email when scoring has value been reached

 package/pom.xml                                    | 11 ++++++++
 plugins/mail/pom.xml                               | 29 ++++++++++++++++++++++
 .../resources/org.apache.unomi.plugins.mail.cfg    | 22 ++++++++++++++++
 .../services/services/SegmentServiceImpl.java      | 10 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 5 files changed, 73 insertions(+)

commit 6e420d16879abedaa5c18e656af463d844e2c6a3
Merge: 6832aae6 ef104b71
Author: Thomas Draier <draier@apache.org>
Date:   Wed Jul 27 13:53:14 2016 +0200

    Merge branch 'pr4'

commit 6832aae60fec56022a2de9ba7a5811c7fbf05934
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue Jul 26 18:22:58 2016 +0200

    UNOMI-46 : Avoid NPE when asking for the definition of a missing tag + Return 404

 .../unomi/rest/DefinitionsServiceEndPoint.java     | 26 +++++++++++++++++-----
 .../org/apache/unomi/rest/LocalizationHelper.java  |  2 +-
 .../services/services/DefinitionsServiceImpl.java  |  3 ---
 .../services/services/ProfileServiceImpl.java      | 13 ++++++-----
 4 files changed, 29 insertions(+), 15 deletions(-)

commit ef104b71b61cb7f619224e3da47a51fc7bce3fe9
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Jul 25 18:45:43 2016 +0200

    DMF-741 : send it also when segments are updated

 .../apache/unomi/services/services/SegmentServiceImpl.java    | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit 8fb2883b35e972c7a874244a2ef1abe75f300fad
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Mon Jul 25 18:36:13 2016 +0200

    DMF-741 : Send event updatedProfile optimization, send it also when segments are updated

 .../unomi/services/services/SegmentServiceImpl.java | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit 7cb59a6f21cf8a9bc529569decabea856527541e
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Wed Jul 20 16:31:00 2016 +0200

    DMF-741 : Add a rule to send email when scoring has value been reached

 package/pom.xml                                    | 11 ++++++++
 plugins/mail/pom.xml                               | 29 ++++++++++++++++++++++
 .../resources/org.apache.unomi.plugins.mail.cfg    | 22 ++++++++++++++++
 .../services/services/SegmentServiceImpl.java      | 10 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 5 files changed, 73 insertions(+)

commit c97f92274831b2284cb395294b5390fabd25caa0
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jul 25 14:18:44 2016 +0200

    UNOMI-18 Upgrade to commons-collections 3.2.2

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 780c6cd9b6797dba96e89732abc494c5662d2745
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jul 25 14:02:50 2016 +0200

    UNOMI-19 Rationalize dependencies management
    
    This commit regroups all the dependencies versions using Maven's dependency management with two exceptions :
     - the request plugin that has its own (specific) dependencies, those weren't moved
     - the ElasticSearch persistence implementation that uses different versions of some librairies (such as Apache HttpComponents) so these were also left in place.

 api/pom.xml                                        |   1 -
 extensions/geonames/pom.xml                        |   1 -
 extensions/geonames/rest/pom.xml                   |   7 -
 extensions/geonames/services/pom.xml               |   4 -
 extensions/lists-extension/rest/pom.xml            |   7 -
 extensions/lists-extension/services/pom.xml        |   1 -
 extensions/privacy-extension/rest/pom.xml          |   7 -
 extensions/privacy-extension/services/pom.xml      |   1 -
 itests/pom.xml                                     |  14 -
 kar/pom.xml                                        |   3 -
 package/pom.xml                                    |   7 -
 performance-tests/pom.xml                          |  31 --
 persistence-elasticsearch/core/pom.xml             |   5 -
 persistence-elasticsearch/plugins/security/pom.xml |   2 -
 persistence-elasticsearch/pom.xml                  |   3 -
 persistence-spi/pom.xml                            |   5 -
 plugins/baseplugin/pom.xml                         |   7 -
 plugins/mail/pom.xml                               |   2 -
 plugins/request/pom.xml                            |   2 -
 pom.xml                                            | 374 ++++++++++++++++++++-
 rest/pom.xml                                       |   9 -
 samples/tweet-button-plugin/pom.xml                |   1 -
 services/pom.xml                                   |  15 -
 wab/pom.xml                                        |  17 +-
 24 files changed, 376 insertions(+), 150 deletions(-)

commit ab958be9eaf74fde004678b0219e4da00b176cf8
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jul 18 09:17:13 2016 +0200

    UNOMI-44 Script to upload site changes doesn't work
    
    These modifications add checks on the generate-site-and-upload shell script to make sure that the required arguments are present and also updates the building instructions to document usage of this script.

 BUILDING                    | 18 ++++++++++++++++++
 generate-site-and-upload.sh |  7 ++++++-
 2 files changed, 24 insertions(+), 1 deletion(-)

commit dd225fbf77058670a65240279cf990714b1189df
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 14 15:41:39 2016 +0200

    UNOMI-43 Improve logging in context and event servlets
    
    Fix change committed by mistake

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java         | 2 +-
 wab/src/main/java/org/apache/unomi/web/EventsCollectorServlet.java | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ff9100120b87a109732bbddb67ffe19bb00e3d53
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 14 14:26:27 2016 +0200

    UNOMI-43 Improve context and event servlet logging
    
    Add more server-side logging to context and event collector servlets.

 wab/src/main/java/org/apache/unomi/web/ContextServlet.java  |  7 ++++++-
 .../java/org/apache/unomi/web/EventsCollectorServlet.java   | 13 +++++++++++--
 2 files changed, 17 insertions(+), 3 deletions(-)

commit 91ec0c54657bf4d2ffcd625bf77b8742cbe05cd5
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jul 14 10:24:55 2016 +0200

    UNOMI-42 Fix version numbers in build scripts
    
    This fix simply adds a setenv.sh file that contains version numbers and resolves the project version number dynamically so that we won't have to update them when changing the project's version.

 buildAndRun.sh   | 11 ++++++++---
 compileDeploy.sh |  9 +++++++--
 setenv.sh        | 22 ++++++++++++++++++++++
 3 files changed, 37 insertions(+), 5 deletions(-)

commit 3681c0155da4a076ad5b8396dd4a3817e7b00e97
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jul 13 18:16:24 2016 +0200

    UNOMI-41: Add score modifiers

 .../org/apache/unomi/services/services/SegmentServiceImpl.java   | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 4368dcb33f460f6e743084e7e1e1cf1371f06368
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 11 17:26:11 2016 +0200

    UNOMI-39 : anonymous browsing : send error when profile does nt exist, deleteProfileData anonymize first before deleting profile

 .../unomi/privacy/rest/PrivacyServiceEndPoint.java    | 19 ++++++-------------
 .../unomi/privacy/internal/PrivacyServiceImpl.java    | 13 +------------
 2 files changed, 7 insertions(+), 25 deletions(-)

commit cb52fef3ebbb1932ee5dfa28f7decb1b58f7cc41
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 11 16:04:14 2016 +0200

    build : ignore generated log files

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 361596c66c5172f2f9e63866063f35ea43e243f6
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 11 15:11:21 2016 +0200

    UNOMI-39 : anonymize browsing data removes all sensitive data

 .../unomi/privacy/internal/PrivacyServiceImpl.java | 39 ++++++++++------------
 1 file changed, 17 insertions(+), 22 deletions(-)

commit d4d6306b2e2992a12029f74ea944b0617b6d6157
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 11 14:35:18 2016 +0200

    UNOMI-40 : initialize score map when needed

 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afd7a683268bcd2924f0d6d025e216133ab80888
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Jul 11 14:04:59 2016 +0200

    UNOMI-38: Remove coma left at end of json object

 .../META-INF/cxs/actions/requestParameterToProfilePropertyAction.json   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 265aea359882e0cbd30f695097f1b8c5d7a480ac
Author: Abdelkader Midani <amidani@jahia.com>
Date:   Fri Jul 8 15:38:55 2016 +0200

    DMF-739 : Error in log files while starting unomi 1.1.0

 .../META-INF/cxs/actions/requestHeaderToProfilePropertyAction.json      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 53ec1e9b96fd3a7d9113bb337ac47f5ec884f6bd
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Jul 7 18:42:45 2016 +0200

    UNOMI-38: Remove ChoiceListInitializers

 .../main/java/org/apache/unomi/api/Parameter.java  |   6 +-
 .../initializers/ChoiceListInitializer.java        |  34 ------
 .../conditions/initializers/ChoiceListValue.java   |  60 ---------
 .../cxs/actions/eventToProfilePropertyAction.json  |   6 +-
 .../cxs/actions/mergeProfilesOnPropertyAction.json |   3 +-
 .../cxs/conditions/eventPropertyCondition.json     |   6 +-
 .../cxs/conditions/eventTypeCondition.json         |   3 +-
 .../conditions/geoLocationSessionCondition.json    |   3 +-
 .../cxs/conditions/goalMatchCondition.json         |   3 +-
 .../cxs/conditions/profilePropertyCondition.json   |   3 +-
 .../cxs/conditions/profileSegmentCondition.json    |   3 +-
 .../cxs/conditions/sessionPropertyCondition.json   |   3 +-
 .../requestHeaderToProfilePropertyAction.json      |   1 -
 .../requestParameterToProfilePropertyAction.json   |   1 -
 .../org/apache/unomi/rest/LocalizationHelper.java  |  27 +----
 .../java/org/apache/unomi/rest/RESTParameter.java  |  13 --
 .../CampaignsChoiceListInitializer.java            |  44 -------
 .../ComparisonOperatorChoiceListInitializer.java   |  75 ------------
 .../ComparisonOperatorChoiceListValue.java         |  89 --------------
 .../initializers/CountryChoiceListInitializer.java |  68 -----------
 .../EventPropertyChoiceListInitializer.java        |  47 -------
 .../EventTypeIdChoiceListInitializer.java          |  45 -------
 .../initializers/GoalsChoiceListInitializer.java   |  44 -------
 .../initializers/PropertyTypeChoiceListValue.java  | 135 ---------------------
 .../SegmentsChoiceListInitializer.java             |  47 -------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  65 ----------
 26 files changed, 18 insertions(+), 816 deletions(-)

commit f061241c50313e7740c9647be83809a5b2f208f8
Author: Thomas Draier <draier@apache.org>
Date:   Wed Jul 6 16:07:35 2016 +0200

    UNOMI-39 : handle anonymous browsing

 .../main/java/org/apache/unomi/api/Profile.java    |  6 ++
 .../apache/unomi/api/services/PrivacyService.java  |  7 ++-
 .../unomi/privacy/rest/PrivacyServiceEndPoint.java |  6 +-
 .../unomi/privacy/internal/PrivacyServiceImpl.java | 64 ++++++++++++----------
 .../actions/AllEventToProfilePropertiesAction.java |  3 +
 .../actions/EvaluateProfileSegmentsAction.java     |  3 +
 .../actions/EventToProfilePropertyAction.java      |  3 +
 .../actions/MergeProfilesOnPropertyAction.java     |  2 +-
 .../baseplugin/actions/SetPropertyAction.java      |  7 ++-
 .../conditions/BooleanConditionESQueryBuilder.java |  3 +-
 .../java/org/apache/unomi/web/ContextServlet.java  | 34 +++++++-----
 .../apache/unomi/web/EventsCollectorServlet.java   | 26 +++------
 12 files changed, 96 insertions(+), 68 deletions(-)

commit 4b68e2f7489ff6fd6000938515142d4152c681e2
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 4 18:48:30 2016 +0200

    Update next version number

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit 6081d935389b5dd04944b1dcced47715c6afb0c0
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 4 18:43:07 2016 +0200

    UNOMI-30 : fixed unit test

 itests/src/test/java/org/apache/unomi/itests/SegmentTest.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c0a3daa36c2f7a75726014ab0b92509ff2e0d877
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Jul 4 12:50:22 2016 +0200

    UNOMI-37: Added incubation disclaimer and logo.

 src/site/markdown/index.md                   |  10 ++++++++++
 src/site/resources/images/incubator-logo.png | Bin 0 -> 7241 bytes
 2 files changed, 10 insertions(+)

commit ad613dee396139f8351b33c2ba3d20c617d1d606
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Jul 4 12:49:30 2016 +0200

    Updated information for Chris Laprun.

 pom.xml | 56 ++++++++++++++++++++++++++++++++------------------------
 1 file changed, 32 insertions(+), 24 deletions(-)

commit 9fdbf48629acdf1e7ce3bf03a0e983e228c49a41
Author: Thomas Draier <draier@apache.org>
Date:   Mon Jul 4 12:07:16 2016 +0200

    UNOMI-30 : moved custom segments / rules to dedicated application

 .../META-INF/cxs/rules/facebookLogin.json          | 34 ---------------
 .../resources/META-INF/cxs/segments/contacts.json  | 51 ----------------------
 .../resources/META-INF/cxs/segments/leads.json     | 23 ----------
 3 files changed, 108 deletions(-)

commit c9f1bc79e0a00adbde3e9241a00408b40e9bef58
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 29 16:54:11 2016 +0200

    UNOMI-35: Add campaigns choiceListInitializer

 .../CampaignsChoiceListInitializer.java            | 44 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 +++++
 2 files changed, 53 insertions(+)

commit b6b5865482a4d1cee676743f6dc9fecca2c637b4
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 29 11:25:20 2016 +0200

    UNOMI-34: Add PropertyType for pageReferringURL session property

 .../cxs/properties/sessions/technical/pageReferringURL.json       | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 484c9fe53b7c697741260d9a541eec760d124382
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Jun 27 18:08:34 2016 +0200

    UNOMI-33: Profile CSV export should contain custom properties as well (e.g. set by form mapping)

 .../services/services/ProfileServiceImpl.java      | 30 ++++++++++++++--------
 1 file changed, 20 insertions(+), 10 deletions(-)

commit d2e1b724bf8626a98f24718e0c3c804773f74a84
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jun 6 15:05:46 2016 +0200

    UNOMI-31 Remove embedded Maven repository

 package/src/main/resources/data/maven/settings.xml |  22 -----
 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   | 104 ---------------------
 2 files changed, 126 deletions(-)

commit 69021927dba315e85287f9d78250d842360b467a
Author: Serge Huber <shuber@apache.org>
Date:   Mon Jun 6 10:45:12 2016 +0200

    UNOMI-1 Improved introduction to project.

 src/site/markdown/index.md | 69 ++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 64 insertions(+), 5 deletions(-)

commit 86c379efb3967678558865b000369dd668fea10c
Author: Thomas Draier <draier@apache.org>
Date:   Thu Apr 28 11:43:27 2016 +0200

    UNOMI-30 : Moved out specific mappings in property type, allows to add dynamic mapping in properties, updated documentation, removed default trusted tiers configuration, cleaned up code.

 README.md                                          | 75 ++++++++++++++--------
 .../java/org/apache/unomi/api/PropertyType.java    |  2 +-
 .../apache/unomi/api/services/ProfileService.java  |  4 +-
 .../apache/unomi/rest/ProfileServiceEndPoint.java  |  4 +-
 .../actions/IncrementTweetNumberAction.java        |  4 +-
 .../unomi/services/services/EventServiceImpl.java  |  4 +-
 .../services/services/ProfileServiceImpl.java      | 20 +++---
 .../cxs/properties/profiles/basic/firstName.json   |  2 +-
 .../cxs/properties/profiles/basic/gender.json      |  2 +-
 .../cxs/properties/profiles/basic/lastName.json    |  2 +-
 .../cxs/properties/profiles/contact/city.json      |  2 +-
 .../cxs/properties/profiles/contact/email.json     |  2 +-
 .../properties/profiles/personal/birthDate.json    |  2 +-
 .../cxs/properties/profiles/social/facebookId.json |  2 +-
 .../cxs/properties/profiles/social/linkedInId.json |  2 +-
 .../cxs/properties/profiles/social/twitterId.json  |  2 +-
 .../cxs/properties/profiles/work/income.json       |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 -
 .../main/resources/org.apache.unomi.thirdparty.cfg | 12 +++-
 19 files changed, 88 insertions(+), 59 deletions(-)

commit 29e8747f1852ca2492ea0e79bed323ef89ad6954
Author: Thomas Draier <draier@apache.org>
Date:   Wed Apr 27 17:30:53 2016 +0200

    UNOMI-30 : Removed jahia specific conditions/actions

 .../actions/IncrementInterestsValuesAction.java    | 63 ----------------------
 .../cxs/actions/incrementInterestValuesAction.json | 14 -----
 .../cxs/conditions/downloadEventCondition.json     | 43 ---------------
 .../cxs/conditions/loginEventCondition.json        | 21 --------
 .../cxs/conditions/pageViewEventCondition.json     | 60 ---------------------
 .../cxs/conditions/profileInterestCondition.json   | 33 ------------
 .../META-INF/cxs/rules/advancedSearchForm.json     | 34 ------------
 .../META-INF/cxs/rules/incrementInterests.json     | 39 --------------
 .../main/resources/META-INF/cxs/rules/login.json   | 37 -------------
 .../resources/META-INF/cxs/rules/searchForm.json   | 37 -------------
 .../META-INF/cxs/rules/sessionPageReferrer.json    |  3 +-
 .../META-INF/cxs/rules/sessionReferrer.json        |  3 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ---
 13 files changed, 4 insertions(+), 390 deletions(-)

commit 6eb486ea867a5a185da65657ad8ab95420cf9a6c
Author: Thomas Draier <draier@apache.org>
Date:   Wed Apr 27 14:45:28 2016 +0200

    UNOMI-29 : always use current profile

 .../java/org/apache/unomi/services/services/EventServiceImpl.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 510ae898bfe57e948c7d4c0b0b80f7f561217b5f
Author: Thomas Draier <draier@apache.org>
Date:   Tue Apr 26 18:44:52 2016 +0200

    UNOMI-25 : Added segments names into export

 .../apache/unomi/rest/ProfileServiceEndPoint.java  | 29 ++++++----
 .../services/services/ProfileServiceImpl.java      | 65 ++++++++++------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 3 files changed, 50 insertions(+), 45 deletions(-)

commit a9c88997c0c778bb0add3712b4dadcc4f4de4bd7
Author: Thomas Draier <draier@apache.org>
Date:   Tue Apr 26 10:45:42 2016 +0200

    UNOMI-26 : set default query limit to 10

 api/src/main/java/org/apache/unomi/api/query/Query.java          | 2 +-
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java       | 9 ++++++++-
 .../core/src/main/resources/OSGI-INF/blueprint/blueprint.xml     | 2 ++
 .../resources/org.apache.unomi.persistence.elasticsearch.cfg     | 3 ++-
 4 files changed, 13 insertions(+), 3 deletions(-)

commit 79198c4d16f933af0d932341064778d3bc2caa48
Author: Thomas Draier <draier@apache.org>
Date:   Fri Apr 15 18:29:38 2016 +0200

    UNOMI-24 : Parse event conditions in PastEventCondition* classes

 .../baseplugin/conditions/PastEventConditionESQueryBuilder.java        | 3 ++-
 .../plugins/baseplugin/conditions/PastEventConditionEvaluator.java     | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 5084951ddd9be39617cd1ac2b178f6ba6e14392b
Author: Thomas Draier <draier@apache.org>
Date:   Thu Apr 14 18:21:44 2016 +0200

    UNOMI-23 : Always set default scope on rules

 .../java/org/apache/unomi/services/services/RulesServiceImpl.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ad73b222ea7f068ab4a71804e0dfe08042796c0d
Author: Thomas Draier <draier@apache.org>
Date:   Wed Apr 13 18:47:10 2016 +0200

    UNOMI-23 : Moved condtionTypes / actionTypes to persistence. Allows to create/update/remove new condition types with rest api. Updated exitsing condition/actions definitions

 .../java/org/apache/unomi/api/actions/Action.java  |   2 +-
 .../org/apache/unomi/api/actions/ActionType.java   | 126 ++----------------
 .../org/apache/unomi/api/conditions/Condition.java |   2 +-
 .../apache/unomi/api/conditions/ConditionType.java | 147 ++-------------------
 .../api/conditions/initializers/I18nSupport.java   |  27 ----
 .../unomi/api/services/DefinitionsService.java     |  28 ++++
 .../META-INF/cxs/mappings/actionType.json          |  16 +++
 .../META-INF/cxs/mappings/conditionType.json       |  16 +++
 .../unomi/persistence/spi/CustomObjectMapper.java  |  30 +++--
 .../actions/allEventToProfilePropertiesAction.json |  15 ++-
 .../cxs/actions/evaluateProfileAgeAction.json      |  15 ++-
 .../cxs/actions/evaluateProfileSegmentsAction.json |  15 ++-
 .../cxs/actions/eventToProfilePropertyAction.json  |  39 +++---
 .../cxs/actions/incrementInterestValuesAction.json |  16 ++-
 .../cxs/actions/mergeProfilesOnPropertyAction.json |  27 ++--
 .../META-INF/cxs/actions/sendEventAction.json      |  35 +++--
 .../cxs/actions/setEventOccurenceCountAction.json  |  25 ++--
 .../META-INF/cxs/actions/setPropertyAction.json    |  65 +++++----
 .../META-INF/cxs/conditions/booleanCondition.json  |  43 +++---
 .../cxs/conditions/downloadEventCondition.json     |  66 ++++-----
 .../cxs/conditions/eventPropertyCondition.json     | 123 +++++++++--------
 .../cxs/conditions/eventTypeCondition.json         |  42 +++---
 .../cxs/conditions/formEventCondition.json         |  21 +--
 .../geoLocationByPointSessionCondition.json        |  99 +++++++-------
 .../conditions/geoLocationSessionCondition.json    |  40 ++++--
 .../cxs/conditions/goalMatchCondition.json         |  41 +++---
 .../cxs/conditions/loginEventCondition.json        |  27 ++--
 .../META-INF/cxs/conditions/matchAllCondition.json |  22 ++-
 .../cxs/conditions/newVisitorCondition.json        |  19 ++-
 .../META-INF/cxs/conditions/notCondition.json      |  16 ++-
 .../cxs/conditions/pageViewEventCondition.json     |  93 +++++++------
 .../cxs/conditions/pastEventCondition.json         |  59 +++++----
 .../cxs/conditions/profileInterestCondition.json   |  49 ++++---
 .../cxs/conditions/profilePropertyCondition.json   | 120 +++++++++--------
 .../cxs/conditions/profileSegmentCondition.json    |  51 ++++---
 .../conditions/profileUpdatedEventCondition.json   |  27 ++--
 .../cxs/conditions/returningVisitorCondition.json  |  18 ++-
 .../conditions/sessionCreatedEventCondition.json   |  26 ++--
 .../cxs/conditions/sessionDurationCondition.json   |  55 ++++----
 .../cxs/conditions/sessionPropertyCondition.json   | 120 +++++++++--------
 .../conditions/sourceEventPropertyCondition.json   |  58 ++++----
 .../cxs/conditions/videoViewEventCondition.json    |  21 +--
 .../cxs/conditions/hoverEventCondition.json        |  37 ++++--
 .../META-INF/cxs/actions/sendMailAction.json       |  78 ++++++-----
 .../requestHeaderToProfilePropertyAction.json      |  57 ++++----
 .../requestParameterToProfilePropertyAction.json   |  57 ++++----
 .../cxs/actions/setRemoteHostInfoAction.json       |  15 ++-
 .../unomi/rest/DefinitionsServiceEndPoint.java     |  44 ++++++
 .../org/apache/unomi/rest/LocalizationHelper.java  |  53 +++-----
 .../cxs/actions/incrementTweetNumberAction.json    |  13 +-
 .../ComparisonOperatorChoiceListInitializer.java   |   3 +-
 .../EventTypeIdChoiceListInitializer.java          |   3 +-
 .../services/services/DefinitionsServiceImpl.java  | 142 ++++++++++----------
 .../unomi/services/services/GoalsServiceImpl.java  |  26 ----
 .../unomi/services/services/RulesServiceImpl.java  |  49 -------
 .../services/services/SegmentServiceImpl.java      |  42 +-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 57 files changed, 1274 insertions(+), 1248 deletions(-)

commit 358c4df04a01ef00dfb27632976e42ad4e572f79
Author: Thomas Draier <draier@apache.org>
Date:   Fri Apr 8 11:25:23 2016 +0200

    UNOMI-22 : Iterates on sub conditions and check match on session or profile depending on condition type. Support both "or" and "and" sub conditions

 .../services/services/ProfileServiceImpl.java      | 25 +++++++++++++++++-----
 1 file changed, 20 insertions(+), 5 deletions(-)

commit 8dfd6ac2c4ee00d83dc28cb1a7aaf1096d268d71
Author: Thomas Draier <draier@apache.org>
Date:   Fri Apr 1 14:02:20 2016 +0200

    UNOMI-20 : Fixed range values

 .../META-INF/cxs/properties/profiles/personal/age.json       | 10 +++++-----
 .../META-INF/cxs/properties/profiles/personal/birthDate.json | 12 ++++++------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 5bd3f66a9c231017c76f1af511f45d39d60e98ac
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Mar 22 07:57:28 2016 +0100

    Add 1.0.0-incubating download

 src/site/markdown/download.md | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 95627509e5ac7528c84ac31452fe8f2f40292358
Author: Serge Huber <shuber@apache.org>
Date:   Mon Mar 21 17:29:44 2016 +0100

    UNOMI-1 Add new download and license pages

 src/site/markdown/download.md | 22 ++++++++++++++++++++++
 src/site/markdown/license.md  | 30 ++++++++++++++++++++++++++++++
 src/site/site.xml             |  9 +++++++--
 3 files changed, 59 insertions(+), 2 deletions(-)

commit 6d69b92dcd16610a57b96313c55ad3a9089fd8b1
Author: Serge Huber <shuber@apache.org>
Date:   Tue Feb 16 12:50:15 2016 +0100

    UNOMI-8 Check legal files in preparation for the release
    - Fix license header

 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 +++++++++-------------
 1 file changed, 14 insertions(+), 19 deletions(-)

commit fe134b988d43675e2323064ec54401d9dcd8cda1
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Feb 8 16:33:03 2016 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit b4b13cd4c397cf460a1e8a5828cf560d94d5ab0f
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Feb 8 16:32:42 2016 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 194c73ee2cad0dee80c8658b9d65f493a772c8e8
Author: Thomas Draier <draier@apache.org>
Date:   Fri Feb 5 11:22:07 2016 +0100

    UNOMI-16 : Fixed elasticsearch startup, register mapping in starting event

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java            | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 815ab75000d54655db0193f83f100c757ee4e046
Author: Thomas Draier <draier@apache.org>
Date:   Wed Feb 3 18:34:34 2016 +0100

    UNOMI-16 : added elasticsearch mappings

 .../ElasticSearchPersistenceServiceImpl.java       |   8 +-
 .../resources/META-INF/cxs/mappings/campaign.json  |  71 +++++++++++-
 .../META-INF/cxs/mappings/campaignevent.json       |  63 ++++++++++-
 .../resources/META-INF/cxs/mappings/event.json     |  62 ++++++++---
 .../main/resources/META-INF/cxs/mappings/goal.json |  76 ++++++++++---
 .../resources/META-INF/cxs/mappings/persona.json   |  28 ++---
 .../META-INF/cxs/mappings/personaSession.json      |  52 ++++-----
 .../resources/META-INF/cxs/mappings/profile.json   |  52 ++++++---
 .../META-INF/cxs/mappings/propertyType.json        | 123 ++++++++++++++++++---
 .../main/resources/META-INF/cxs/mappings/rule.json |  79 ++++++++++---
 .../resources/META-INF/cxs/mappings/segment.json   |  70 +++++++++---
 .../resources/META-INF/cxs/mappings/session.json   |  79 ++++++++-----
 12 files changed, 602 insertions(+), 161 deletions(-)

commit c9f2471561362f09c08dea91ae9578a25bebbc19
Author: Thomas Draier <draier@apache.org>
Date:   Wed Feb 3 14:32:19 2016 +0100

    UNOMI-15 : Use token to authenticate third party servers

 .../apache/unomi/api/services/EventService.java    | 14 +++++
 kar/src/main/feature/feature.xml                   |  1 +
 services/pom.xml                                   |  7 +++
 .../unomi/services/services/EventServiceImpl.java  | 71 +++++++++++++++++++---
 .../unomi/services/services/ThirdPartyServer.java  | 67 ++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 ++++-
 .../main/resources/org.apache.unomi.thirdparty.cfg | 20 ++++++
 .../java/org/apache/unomi/web/ContextServlet.java  | 24 ++++++--
 .../apache/unomi/web/EventsCollectorServlet.java   | 13 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 10 files changed, 213 insertions(+), 19 deletions(-)

commit 8f4c6d0110b8fc726f3eee1c37f88945e0520bcb
Author: Thomas Draier <draier@apache.org>
Date:   Tue Feb 2 17:06:35 2016 +0100

    UNOMI-14 : Store merge information in system property . Switch profile id when user already has login information

 .../actions/MergeProfilesOnPropertyAction.java     | 157 +++++++++++++--------
 .../main/resources/META-INF/cxs/rules/login.json   |   9 +-
 .../resources/META-INF/cxs/rules/newSession.json   |  24 ----
 .../META-INF/cxs/rules/sessionAssigned.json        |  59 ++++++++
 .../unomi/services/services/RulesServiceImpl.java  |   6 +-
 5 files changed, 165 insertions(+), 90 deletions(-)

commit 27b945978b8f68503b419fc5096f0a8192379d36
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Fri Feb 5 10:06:26 2016 +0100

    Exclude keystore for rat check

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit d2395b89539960800c91112ce414a6acb365c7be
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Feb 3 23:39:09 2016 +0100

    UNOMI-8: Updated NOTICE for binaries.

 package/src/main/resources/NOTICE | 164 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 162 insertions(+), 2 deletions(-)

commit 944ed27d0b3458b96f4a0fb168d5a976e1345ae9
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Feb 3 12:57:59 2016 +0100

    UNOMI-8: Updated NOTICE and LICENSE for binaries.

 package/src/main/resources/LICENSE |  514 ++++++++++++++++-
 package/src/main/resources/NOTICE  | 1082 ++++++++++++++----------------------
 2 files changed, 927 insertions(+), 669 deletions(-)

commit 68a18f5a2803459ba9df20bbdd7f923b05829ca0
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Feb 1 18:03:28 2016 +0100

    UNOMI-8: Updated NOTICE for binaries.

 package/src/main/resources/NOTICE | 1181 +++++++++++++++++++++++++++----------
 1 file changed, 875 insertions(+), 306 deletions(-)

commit 169e49a9b6a705d8fcd533626f9d834dae9ddab7
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 29 10:31:32 2016 +0100

    UNOMI-8 Check legal files in preparation for the release
    - Fix some more license and copyright issues

 .../actions/IncrementTweetNumberAction.java        | 24 ++++++++--------------
 1 file changed, 9 insertions(+), 15 deletions(-)

commit 95df83b59722580e8d435290d49a5975e7f129ab
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 29 10:05:16 2016 +0100

    UNOMI-8 Check legal files in preparation for the release
    - Update all copyright in license files to 2016
    - Add a LICENSE file for the binary package

 NOTICE                             |   7 +-
 NOTICE.template                    |   2 +-
 package/pom.xml                    |   2 +-
 package/src/main/resources/LICENSE | 226 +++++++++++++++++++++++++++++++++++++
 package/src/main/resources/NOTICE  |   2 +-
 5 files changed, 230 insertions(+), 9 deletions(-)

commit 06e98d3f3e126c2f35634f8b29f6ff2adbd4003a
Author: Serge Huber <shuber@apache.org>
Date:   Fri Jan 29 09:49:22 2016 +0100

    UNOMI-8 Check legal files in preparation for the release
    - Add disclaimer file to the binary release

 package/pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 14001a7d056399cbffdef679f0cabfaf7e37234a
Author: Serge Huber <shuber@apache.org>
Date:   Wed Jan 27 22:57:54 2016 +0100

    UNOMI-13 Remove binaries from source code
    - Remove binaries from Sigar
    - Replace with dynamic extraction using Maven dependencies goal and antrun plugin.

 package/pom.xml                                    |  42 ++++++++++++++++++++-
 .../lib/sigar/libsigar-amd64-freebsd-6.so          | Bin 210641 -> 0 bytes
 .../resources/lib/sigar/libsigar-amd64-linux.so    | Bin 246605 -> 0 bytes
 .../resources/lib/sigar/libsigar-amd64-solaris.so  | Bin 251360 -> 0 bytes
 .../resources/lib/sigar/libsigar-ia64-linux.so     | Bin 494929 -> 0 bytes
 .../resources/lib/sigar/libsigar-sparc-solaris.so  | Bin 285004 -> 0 bytes
 .../lib/sigar/libsigar-sparc64-solaris.so          | Bin 261896 -> 0 bytes
 .../lib/sigar/libsigar-universal-macosx.dylib      | Bin 377668 -> 0 bytes
 .../lib/sigar/libsigar-universal64-macosx.dylib    | Bin 397440 -> 0 bytes
 .../resources/lib/sigar/libsigar-x86-freebsd-5.so  | Bin 179751 -> 0 bytes
 .../resources/lib/sigar/libsigar-x86-freebsd-6.so  | Bin 179379 -> 0 bytes
 .../main/resources/lib/sigar/libsigar-x86-linux.so | Bin 233385 -> 0 bytes
 .../resources/lib/sigar/libsigar-x86-solaris.so    | Bin 242880 -> 0 bytes
 .../main/resources/lib/sigar/sigar-amd64-winnt.dll | Bin 402432 -> 0 bytes
 .../main/resources/lib/sigar/sigar-x86-winnt.dll   | Bin 266240 -> 0 bytes
 .../main/resources/lib/sigar/sigar-x86-winnt.lib   | Bin 99584 -> 0 bytes
 persistence-elasticsearch/pom.xml                  |   1 -
 pom.xml                                            |   1 +
 18 files changed, 42 insertions(+), 2 deletions(-)

commit a7963e16f12cd18a7300ba928516b1e9e6ab5f2b
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Wed Jan 27 07:01:45 2016 +0100

    Cancel 1.0.0-incubating release

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 92 insertions(+), 92 deletions(-)

commit 213c805ec5ce06881d64995853e037858d2a83c3
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Jan 19 11:00:04 2016 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 74a08f7a4df89ab029e5fcc1137b002749b8bbde
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Jan 19 10:59:42 2016 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 34 files changed, 93 insertions(+), 93 deletions(-)

commit 9016317846e5f198158f8d10d68ce41543d6a2f5
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue Jan 12 17:13:42 2016 +0100

    UNOMI-12: Updated samples to add target and tags.

 .../tweet_button_plugin/actions/IncrementTweetNumberAction.java    | 7 +++++++
 1 file changed, 7 insertions(+)

commit 593238d3c3bc6e990647b8ea49d23b1f4a4fe747
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Jan 11 14:57:06 2016 +0100

    UNOMI-11 : Remove references to generate-package profile

 README.md                                   | 2 +-
 buildAndRun.sh                              | 2 +-
 generate-package.sh                         | 2 +-
 release-audit.sh                            | 2 +-
 src/site/markdown/building-and-deploying.md | 2 +-
 update-notice.sh                            | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit c0de8a55e1002626e0c6ba6d58c0cd871c9d9844
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Dec 23 15:56:03 2015 +0100

    UNOMI-9: Updated getting started document to point to the appropriate versions and activated it.

 src/site/markdown/building-and-deploying.md |  2 +-
 src/site/markdown/getting-started.md        | 84 ++++++++++++++++++++++++-----
 src/site/site.xml                           |  2 +-
 3 files changed, 73 insertions(+), 15 deletions(-)

commit 27aa4a6c8b98beda6426f69f40caa340f93ab74e
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Dec 23 15:53:47 2015 +0100

    UNOMI-10: Updated miredot license to use open-source license.

 rest/pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 102f37867cf52a7aa2a5547444aa01890561b1ed
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Dec 23 14:50:25 2015 +0100

    Added schema.

 package/src/main/descriptors/src.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c1a154113d8d92c76a8fe7d6a6bb032fa412e776
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Dec 23 13:34:12 2015 +0100

    UNOMI-9: Improved wording.

 src/site/markdown/index.md | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit b330db77aa3266af921a3e991a7e6b6694d27ede
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Dec 21 14:25:01 2015 +0100

    UNOMI-9: Improved example to display results on page instead of JS console.

 wab/src/main/webapp/index.html | 29 ++++++++++++++++++++++++++---
 1 file changed, 26 insertions(+), 3 deletions(-)

commit 4651cbb7976316f2e3de9f22876c2f91f51124d9
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 7 12:16:33 2016 +0100

    UNOMI-8
    - Comply with most of the legal requirements of the ASF
    - Improve project naming to be consistent
    - Fix missing header files
    - Add BUILDING, DISCLAIMER and KEYS files
    - Improve README to reflect new build process

 BUILDING                                           |   54 +
 DISCLAIMER                                         |   10 +
 KEYS                                               |   46 +
 NOTICE                                             | 1115 +-------------------
 README.md                                          |   32 +-
 package/pom.xml                                    |    1 -
 package/src/main/resources/NOTICE                  |  486 +++++++++
 pom.xml                                            |   17 +
 samples/pom.xml                                    |   17 +
 samples/tweet-button-plugin/README.md              |   16 +
 samples/tweet-button-plugin/pom.xml                |    1 +
 .../src/main/resources/messages_en.properties      |   16 +
 wab/src/main/webapp/index.html                     |   16 +
 13 files changed, 690 insertions(+), 1137 deletions(-)

commit 47d47fdc0775f5952af7c259a5d0497f6ca58a27
Author: Serge Huber <shuber@apache.org>
Date:   Thu Jan 7 10:43:24 2016 +0100

    UNOMI-7
    - Remove need for JDK 8 to compile sample
    - Activate the src profile to generate source code packages by default.

 package/pom.xml                      |  3 +++
 package/src/main/descriptors/src.xml | 12 +-----------
 samples/tweet-button-plugin/pom.xml  |  9 ---------
 3 files changed, 4 insertions(+), 20 deletions(-)

commit 8ef38b9ec047648d5e8b5d4376de403c44f48725
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Sun Jan 3 11:01:43 2016 +0100

    Cancel 1.0.0-incubating release

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 86 insertions(+), 86 deletions(-)

commit 4d83f63cca3e43b82802c528b8472857faed1acb
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:30:50 2015 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 87 insertions(+), 87 deletions(-)

commit abd19b5870cb6318fe6e2cf16d43d1b24c6d2863
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:30:29 2015 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 87 insertions(+), 87 deletions(-)

commit d08d325b3a9054073e26bb15c390c5f1de13915f
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:24:31 2015 +0100

    [maven-release-plugin] rollback the release of unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 87 insertions(+), 87 deletions(-)

commit eb1ce1e16525e1db8e3123031914fd814be11fb0
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:23:19 2015 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 87 insertions(+), 87 deletions(-)

commit e8ba1ee0b5d8e6d7adc49a01314fade39c963f10
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:20:17 2015 +0100

    Fix release profile name

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b24f1ca3c4528bab0cd1417b79f0abf5101f4f7a
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 16:10:52 2015 +0100

    Cancel release

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 86 insertions(+), 86 deletions(-)

commit e18edab8d0087aed25d055bba4aa1d48564f7bd8
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 14:35:52 2015 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 87 insertions(+), 87 deletions(-)

commit 72e9702e921f12882225568cafe75b93241d248b
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 14:35:31 2015 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  7 +++--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 88 insertions(+), 89 deletions(-)

commit 8f2933eeb78d1430053187c46999ab9b1c34162d
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 14:32:50 2015 +0100

    Fix release profiles usage

 pom.xml | 12 ++++--------
 1 file changed, 4 insertions(+), 8 deletions(-)

commit 69dfef03f9ecc756cf06d887a42800f3b3d9a012
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 14:26:03 2015 +0100

    Cancel 1.0.0-incubating release

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  4 +--
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 31 files changed, 84 insertions(+), 84 deletions(-)

commit 9cdde0a28a2e667d4e88a1c47fc8d61b79fc6f2c
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 08:09:56 2015 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  4 +--
 rest/pom.xml                                       |  6 ++---
 samples/pom.xml                                    |  2 +-
 samples/tweet-button-plugin/pom.xml                |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 31 files changed, 86 insertions(+), 86 deletions(-)

commit da695f1eaeadc57579dcdee131560b42998d01bb
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Tue Dec 22 08:09:34 2015 +0100

    [maven-release-plugin] prepare release unomi-root-1.0.0-incubating

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  7 ++--
 extensions/geonames/rest/pom.xml                   | 11 +++---
 extensions/geonames/services/pom.xml               | 11 +++---
 extensions/lists-extension/pom.xml                 |  7 ++--
 extensions/lists-extension/rest/pom.xml            | 11 +++---
 extensions/lists-extension/services/pom.xml        | 11 +++---
 extensions/pom.xml                                 |  5 ++-
 extensions/privacy-extension/pom.xml               |  8 ++---
 extensions/privacy-extension/rest/pom.xml          | 12 +++----
 extensions/privacy-extension/services/pom.xml      | 12 +++----
 kar/pom.xml                                        | 30 ++++++++---------
 persistence-elasticsearch/core/pom.xml             |  9 +++--
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++--
 plugins/hover-event/pom.xml                        |  7 ++--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  9 +++--
 plugins/pom.xml                                    |  7 ++--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  9 +++--
 pom.xml                                            | 39 +++++++++++-----------
 rest/pom.xml                                       |  8 ++---
 samples/pom.xml                                    |  6 ++--
 samples/tweet-button-plugin/pom.xml                |  9 ++---
 services/pom.xml                                   |  6 ++--
 wab/pom.xml                                        |  9 +++--
 31 files changed, 121 insertions(+), 146 deletions(-)

commit 758d594966092be4d4459d787f99bac3bcda2d59
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Dec 18 19:20:49 2015 +0100

    UNOMI-6: Moved samples to Unomi repository. Replaced existing index.html by the Twitter sample.

 pom.xml                                            |   1 +
 samples/pom.xml                                    |  19 ++
 samples/tweet-button-plugin/README.md              |   2 +
 samples/tweet-button-plugin/pom.xml                |  67 ++++++
 .../actions/IncrementTweetNumberAction.java        |  89 ++++++++
 .../cxs/actions/incrementTweetNumberAction.json    |   8 +
 .../META-INF/cxs/rules/incrementTweetNumber.json   |  20 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  39 ++++
 .../src/main/resources/messages_en.properties      |   2 +
 wab/src/main/webapp/index.html                     | 243 ++++++++++-----------
 10 files changed, 365 insertions(+), 125 deletions(-)

commit 664894dc6c0883cf70bc5ce2dab24c28e412e3af
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Dec 18 16:54:35 2015 +0100

    Use proper artifact version.

 buildAndRun.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2bc8985a7197ca0abad18cde8b4a24d177957ff5
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Thu Dec 17 14:22:00 2015 +0100

    Fix scm definition

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2f177c6dcf30a8e35087b1cb66092815ce739cbf
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Thu Dec 17 14:19:07 2015 +0100

    Add legal header

 src/site/markdown/getting-started.md | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit fe2e9727e7f0c8f443f25176c8a1b0b7b02bbde6
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Dec 14 16:10:52 2015 +0100

    Added getting started document (currently commented out in site.xml).

 src/site/markdown/getting-started.md        | 348 ++++++++++++++++++++++++++++
 src/site/resources/images/unomi-request.png | Bin 0 -> 132731 bytes
 src/site/site.xml                           |   1 +
 3 files changed, 349 insertions(+)

commit e3d05b089aed948181cd59877932a0f785eb27c9
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Dec 11 16:11:07 2015 +0100

    Only dependency is needed, no need to extend parent.

 src/site/markdown/concepts.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 98bdfd977670ea788fa0e5f826501a1213b4b927
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue Dec 8 15:46:24 2015 +0100

    Minor improvements.

 src/site/markdown/building-and-deploying.md | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 83f61753adf57f2e32bbe32e572e8e354aae1bba
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Dec 7 17:39:01 2015 +0100

    Set version to 1.0.0-incubating-SNAPSHOT

 api/pom.xml                                        |  2 +-
 extensions/geonames/pom.xml                        |  4 +--
 extensions/geonames/rest/pom.xml                   |  8 +++---
 extensions/geonames/services/pom.xml               |  8 +++---
 extensions/lists-extension/pom.xml                 |  4 +--
 extensions/lists-extension/rest/pom.xml            |  8 +++---
 extensions/lists-extension/services/pom.xml        |  8 +++---
 extensions/pom.xml                                 |  2 +-
 extensions/privacy-extension/pom.xml               |  4 +--
 extensions/privacy-extension/rest/pom.xml          |  8 +++---
 extensions/privacy-extension/services/pom.xml      |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 32 files changed, 89 insertions(+), 89 deletions(-)

commit 6aa29bf9c31f3dd6a0156e5be1e7be0ca5561290
Author: Serge Huber <shuber@apache.org>
Date:   Fri Nov 27 14:41:04 2015 +0100

    - Fixed path in package project to make sure the LICENSE,README and NOTICE files are included
    - Added a script file to easy the generation of the package from the command line.

 generate-package.sh | 22 ++++++++++++++++++++++
 package/pom.xml     |  2 +-
 2 files changed, 23 insertions(+), 1 deletion(-)

commit 018e6d5d331eef275aa0f5b90b594ed66e7839d5
Author: Thomas Draier <draier@apache.org>
Date:   Wed Nov 25 13:46:16 2015 +0100

    Fixed repository configuration

 pom.xml | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit ae987eeb5b93a52131ae86124f2309acc0304273
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Wed Nov 25 13:25:06 2015 +0100

    Add SMX M2 repo

 pom.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit a710d7b2d2d1861b1c06afd8bc6d87309cc434a9
Author: Serge Huber <shuber@apache.org>
Date:   Tue Nov 24 12:29:08 2015 +0100

    - Add news for Git repository
    - Add fake distribution URL for site to be able to generate again

 pom.xml                    | 9 +++++++++
 src/site/markdown/index.md | 1 +
 2 files changed, 10 insertions(+)

commit 63aa5a62326bc094ab11b916fb17730e0de31085
Merge: 1076064b 877602f2
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Nov 23 17:30:56 2015 +0100

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/incubator-unomi

commit 877602f2b8c1bceb0caba65f26c5ea21d1938b17
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Nov 23 17:29:17 2015 +0100

    Cleanup branch for codebase donation

 .gitignore | 72 --------------------------------------------------------------
 README.md  | 14 ------------
 2 files changed, 86 deletions(-)

commit 1076064b4287ad981e03b0aea9b89a184b4c889a
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Nov 23 17:22:06 2015 +0100

    Update some Jahia references and URLs in order to push to Apache

 README.md                                   |  4 ++--
 extensions/geonames/services/pom.xml        | 18 +-----------------
 extensions/lists-extension/services/pom.xml | 18 +-----------------
 pom.xml                                     |  6 ------
 services/pom.xml                            | 16 ----------------
 src/site/markdown/configuration.md          |  4 ++--
 6 files changed, 6 insertions(+), 60 deletions(-)

commit 81d6d696c5f236022a7ab178f2736ce5c9de67c4
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Nov 23 17:07:39 2015 +0100

    Define the Apache 15 parent pom and cleanup repositories

 pom.xml | 55 ++++++++-----------------------------------------------
 1 file changed, 8 insertions(+), 47 deletions(-)

commit 24c72153cd740dc7e0aa2b242be7427ee674e783
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Mon Nov 23 17:02:13 2015 +0100

    Update the scm

 pom.xml | 9 +--------
 1 file changed, 1 insertion(+), 8 deletions(-)

commit b8df51b914ccea6d37a20041cfd5ca7f53b17788
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 20 18:16:59 2015 +0100

    Fix build and run script

 buildAndRun.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3db8bc69e117e8ef2f198a1de99cae454591ae4b
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 17:56:27 2015 +0100

    Tweak miredot configuration so that the generate-site scripts can work properly. Added link to REST API documentation.

 generate-site-and-upload.sh | 3 +++
 generate-site.sh            | 3 +++
 rest/pom.xml                | 2 +-
 src/site/site.xml           | 2 +-
 4 files changed, 8 insertions(+), 2 deletions(-)

commit 4a87c7d8f83ddb527ec1e89fe36842ed4a72db25
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 17:32:21 2015 +0100

    Fix javadocs link.

 src/site/site.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c589f26dd01bcb51b22b45336d5fca208f8d0a2e
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 20 17:30:35 2015 +0100

    Fix typos

 src/site/markdown/index.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 95d221605f0239fb61e10a59a88f46a5ade46211
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 20 16:36:31 2015 +0100

    - Added Apache Maturity Model report page, to be completed as soon as we have everything in place

 pom.xml                                    |   3 +
 src/site/markdown/index.md                 |   1 +
 src/site/markdown/maturity-model-report.md | 221 +++++++++++++++++++++++++++++
 src/site/site.xml                          |  27 ++--
 4 files changed, 236 insertions(+), 16 deletions(-)

commit 49a42ecabe3a6b7d27cfa4ebed59323eba91cd7c
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 20 15:00:46 2015 +0100

    - Fix missing license headers (and exceptions)
    - Make shell scripts executable

 generate-site-and-upload.sh   |  0
 license-mappings.xml          | 16 ++++++++++++++++
 pom.xml                       |  2 ++
 release-audit.sh              |  0
 src/site/markdown/concepts.md | 17 +++++++++++++++++
 update-notice.sh              |  0
 6 files changed, 35 insertions(+)

commit 45892eaa3a39acaeb619a179aeb169fa3a4ceee7
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 14:51:54 2015 +0100

    Added missing @Consumes annotations.

 .../java/org/apache/unomi/rest/CampaignsServiceEndPoint.java     | 1 +
 .../main/java/org/apache/unomi/rest/GoalsServiceEndPoint.java    | 1 +
 .../main/java/org/apache/unomi/rest/ProfileServiceEndPoint.java  | 9 ++++++---
 .../main/java/org/apache/unomi/rest/QueryServiceEndPoint.java    | 1 +
 .../main/java/org/apache/unomi/rest/RulesServiceEndPoint.java    | 1 +
 .../main/java/org/apache/unomi/rest/ScoringServiceEndPoint.java  | 1 +
 .../main/java/org/apache/unomi/rest/SegmentServiceEndPoint.java  | 1 +
 7 files changed, 12 insertions(+), 3 deletions(-)

commit efb63e4c4df76b5433f2b36b3800d481992f8d73
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 14:51:17 2015 +0100

    Removed Javadoc plugin from root module and moved it to api module in an effort to make build faster and try to solve issue with package generation.
    Doesn't seem to work, though :(

 api/pom.xml  | 38 ++++++++++++++++++++++++
 pom.xml      | 96 ++++++++++++++++++++----------------------------------------
 rest/pom.xml | 39 ++++++++++++++++++++++++
 3 files changed, 109 insertions(+), 64 deletions(-)

commit 3096e87483f38746edb2d0cccbacef8831b03115
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 20 13:44:09 2015 +0100

    - Add shell scripts to perform usual project actions
    - Improve site home page to add news, articles & contribute menu

 NOTICE.template             |  6 +++++-
 generate-site-and-upload.sh | 24 ++++++++++++++++++++++++
 generate-site.sh            | 21 +++++++++++++++++++++
 pom.xml                     | 34 +++++++++++++++++++++++++++++-----
 release-audit.sh            | 20 ++++++++++++++++++++
 src/site/markdown/index.md  | 18 ++++++++++++------
 src/site/site.xml           | 25 ++++++++++++++++++-------
 update-notice.sh            | 20 ++++++++++++++++++++
 8 files changed, 149 insertions(+), 19 deletions(-)

commit 11079da95095ff86c7982728a5d66b048a80c450
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 11:59:30 2015 +0100

    Configured miredot to ignore missing authors.

 rest/pom.xml | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 10143834dab213254380e627f0ae0eb296e711e6
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 11:18:07 2015 +0100

    Added external sources mapping so that JSON fields can be documented properly.

 rest/pom.xml | 5 +++++
 1 file changed, 5 insertions(+)

commit f1d8d93eb482f7d5f23a91c110afac344c1fd67e
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Nov 20 11:17:14 2015 +0100

    Configure javadoc plugin to accept miredot-specific tags in Java 8.

 pom.xml | 58 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 58 insertions(+)

commit 8a34934b5bbf972ac7ae5e43ae6eca64500829c2
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Nov 19 22:53:33 2015 +0100

    Configured Miredot plugin. Still need to find the best way to integrate it with site generation since it seems quite fussy at the moment.

 rest/pom.xml      | 25 +++++++++++++++++--------
 src/site/site.xml |  1 +
 2 files changed, 18 insertions(+), 8 deletions(-)

commit 534a776a4566e3576be762d5e592001e1b55e7fb
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Nov 19 22:52:17 2015 +0100

    Made image source absolute so that it works also in modules pages.

 src/site/site.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36fdfcb09d46e9f29df8f0b7b8caf9ec9bc4c0fc
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Nov 19 22:51:45 2015 +0100

    Added javadoc generation and fixed blocking javadoc issues.

 api/src/main/java/org/apache/unomi/api/ContextRequest.java     |  6 +++---
 api/src/main/java/org/apache/unomi/api/Item.java               |  2 +-
 api/src/main/java/org/apache/unomi/api/Profile.java            | 10 +++++-----
 .../unomi/elasticsearch/plugin/security/IPRangeMatcher.java    |  2 +-
 .../request/actions/RequestHeaderToProfilePropertyAction.java  |  2 +-
 .../actions/RequestParameterToProfilePropertyAction.java       |  2 +-
 pom.xml                                                        | 10 ++++++++++
 src/site/site.xml                                              |  1 +
 8 files changed, 23 insertions(+), 12 deletions(-)

commit 00d03ffda541ba54782a21f5aa85c9c1084f7326
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Nov 19 22:50:10 2015 +0100

    Added concepts document.

 src/site/markdown/concepts.md | 192 ++++++++++++++++++++++++++++++++++++++++++
 src/site/site.xml             |   1 +
 2 files changed, 193 insertions(+)

commit d92753bf5c995d6485f0ef87bc1c92d0cdf23641
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 19 17:29:13 2015 +0100

    Add articles and slides section to home page

 src/site/markdown/index.md | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2dc37039ccc7e7d77ca27f45bd7ae2b47299434f
Merge: 3e5e3762 c81564a7
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 19 16:04:54 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit 3e5e37626337121e6fb964f5963e7e57e268cb7b
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 19 16:04:39 2015 +0100

    New NOTICE file with more information

 NOTICE | 457 ++++++++++++++++++++++++++++++++++++++++++++++++++++++-----------
 1 file changed, 381 insertions(+), 76 deletions(-)

commit c81564a7e501ee557d8618aa7543a90b7d10e1a2
Author: Quentin Lamerand <qlamerand@MacBook-Pro-de-Quentin.local>
Date:   Thu Nov 19 15:00:14 2015 +0100

    DMF-508 DMF-491: Change update with script method signature

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java          | 2 +-
 .../java/org/apache/unomi/persistence/spi/PersistenceService.java   | 2 +-
 .../java/org/apache/unomi/services/services/SegmentServiceImpl.java | 6 +++---
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 6e80b97444dadfc7f966aabc2f138aea213f217e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 19 11:48:52 2015 +0100

    Remove optional JTS dependency that wasn't needed.

 NOTICE                                 | 3 ---
 persistence-elasticsearch/core/pom.xml | 5 +++--
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 3e883b282d0d78cbbc821830f08d531a5e16ee4d
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 19 11:06:33 2015 +0100

    - Add new privacy-policy file for website
    - Generate NOTICE file using maven-notice-plugin

 .gitignore                          |   1 +
 NOTICE                              | 818 +++++++++++++++++++++++++++++++++++-
 NOTICE.template                     |  15 +
 license-mappings.xml                |  11 +
 pom.xml                             |  34 ++
 src/site/markdown/privacy-policy.md |  41 ++
 src/site/site.xml                   |   7 +-
 7 files changed, 917 insertions(+), 10 deletions(-)

commit 9ae27cf41128ebeba26a821354a8e380f0f3d571
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 18 15:05:20 2015 +0100

    Provide NOTICE and LICENSE files

 LICENSE.txt => LICENSE | 24 ++++++++++++++++++++++++
 NOTICE                 | 21 +++++++++++++++++++++
 src/site/site.xml      |  4 +++-
 3 files changed, 48 insertions(+), 1 deletion(-)

commit dc1d152032c76fa3d5828d1ec416febc7baded2e
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 18 11:48:16 2015 +0100

    Major changes :
    - Rename all packages to org.apache.*

 README.md                                          | 10 +--
 .../unomi}/api/BatchUpdate.java                    |  4 +-
 .../unomi}/api/ClusterNode.java                    |  2 +-
 .../unomi}/api/ContextRequest.java                 | 19 +++--
 .../unomi}/api/ContextResponse.java                |  7 +-
 .../unomi}/api/CustomItem.java                     |  6 +-
 .../contextserver => apache/unomi}/api/Event.java  |  7 +-
 .../unomi}/api/EventInfo.java                      |  4 +-
 .../unomi}/api/EventProperty.java                  | 18 ++---
 .../unomi}/api/EventSource.java                    |  2 +-
 .../unomi}/api/EventTarget.java                    |  2 +-
 .../unomi}/api/EventsCollectorRequest.java         |  2 +-
 .../contextserver => apache/unomi}/api/Item.java   |  5 +-
 .../unomi}/api/Metadata.java                       | 21 +++--
 .../unomi}/api/MetadataItem.java                   |  2 +-
 .../unomi}/api/Parameter.java                      |  2 +-
 .../unomi}/api/PartialList.java                    |  2 +-
 .../unomi}/api/Persona.java                        |  4 +-
 .../unomi}/api/PersonaSession.java                 |  4 +-
 .../unomi}/api/PersonaWithSessions.java            |  2 +-
 .../unomi}/api/PluginType.java                     |  2 +-
 .../unomi}/api/Profile.java                        | 13 ++--
 .../unomi}/api/PropertyMergeStrategyExecutor.java  |  2 +-
 .../unomi}/api/PropertyMergeStrategyType.java      |  2 +-
 .../unomi}/api/PropertyType.java                   |  8 +-
 .../unomi}/api/ServerInfo.java                     |  4 +-
 .../unomi}/api/Session.java                        |  6 +-
 .../contextserver => apache/unomi}/api/Tag.java    |  5 +-
 .../unomi}/api/TimestampedItem.java                |  2 +-
 .../unomi}/api/ValueType.java                      |  5 +-
 .../unomi}/api/actions/Action.java                 | 24 +++---
 .../unomi}/api/actions/ActionExecutor.java         |  7 +-
 .../unomi}/api/actions/ActionPostExecutor.java     |  4 +-
 .../unomi}/api/actions/ActionType.java             | 11 ++-
 .../unomi}/api/campaigns/Campaign.java             | 23 +++---
 .../unomi}/api/campaigns/CampaignDetail.java       |  2 +-
 .../unomi}/api/campaigns/events/CampaignEvent.java | 13 ++--
 .../unomi}/api/conditions/Condition.java           | 23 +++---
 .../unomi}/api/conditions/ConditionType.java       | 13 ++--
 .../initializers/ChoiceListInitializer.java        |  2 +-
 .../conditions/initializers/ChoiceListValue.java   |  2 +-
 .../api/conditions/initializers/I18nSupport.java   |  2 +-
 .../unomi}/api/goals/Goal.java                     | 14 ++--
 .../unomi}/api/goals/GoalReport.java               |  2 +-
 .../unomi}/api/query/Aggregate.java                |  2 +-
 .../unomi}/api/query/AggregateQuery.java           |  4 +-
 .../unomi}/api/query/DateRange.java                |  8 +-
 .../unomi}/api/query/IpRange.java                  |  8 +-
 .../unomi}/api/query/NumericRange.java             |  8 +-
 .../unomi}/api/query/Query.java                    |  4 +-
 .../unomi}/api/rules/Rule.java                     | 22 +++---
 .../unomi}/api/segments/Scoring.java               | 15 ++--
 .../unomi}/api/segments/ScoringElement.java        |  4 +-
 .../unomi}/api/segments/Segment.java               | 19 +++--
 .../unomi}/api/segments/SegmentsAndScores.java     |  6 +-
 .../unomi}/api/services/ClusterService.java        |  4 +-
 .../unomi}/api/services/DefinitionsService.java    | 18 ++---
 .../unomi}/api/services/EventListenerService.java  |  4 +-
 .../unomi}/api/services/EventService.java          | 16 ++--
 .../unomi}/api/services/GoalsService.java          | 27 +++----
 .../unomi}/api/services/PrivacyService.java        |  8 +-
 .../unomi}/api/services/ProfileService.java        |  8 +-
 .../unomi}/api/services/QueryService.java          |  8 +-
 .../unomi}/api/services/RulesService.java          | 14 ++--
 .../unomi}/api/services/SegmentService.java        | 19 +++--
 .../unomi/geonames/rest/GeonamesEndPoint.java      |  8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../unomi/geonames/services/GeonameEntry.java      |  4 +-
 .../unomi/geonames/services/GeonamesService.java   |  4 +-
 .../geonames/services/GeonamesServiceImpl.java     | 14 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 +-
 .../unomi/lists}/rest/UserListServiceEndPoint.java | 12 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../{jahia => apache}/unomi/lists/UserList.java    |  6 +-
 .../unomi/services/UserListService.java            | 10 +--
 .../unomi/services/UserListServiceImpl.java        | 18 ++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../privacy/rest/PrivacyServiceEndPoint.java       |  8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../privacy/internal/PrivacyServiceImpl.java       | 20 ++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +--
 .../unomi}/itests/AllTests.java                    |  2 +-
 .../unomi}/itests/BaseTest.java                    |  2 +-
 .../unomi}/itests/BasicTest.java                   |  8 +-
 .../unomi}/itests/ConditionBuilder.java            | 76 +++++++++---------
 .../unomi}/itests/ConditionESQueryBuilderTest.java | 10 +--
 .../unomi}/itests/ConditionEvaluatorTest.java      | 32 ++++----
 .../unomi}/itests/SegmentTest.java                 |  6 +-
 .../unomi}/itests/TestUtils.java                   |  2 +-
 package/pom.xml                                    |  9 ++-
 .../unomi}/performancetests/BasicTest.java         | 15 ++--
 persistence-elasticsearch/core/pom.xml             |  5 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 34 ++++----
 .../conditions/ConditionContextHelper.java         |  6 +-
 .../conditions/ConditionESQueryBuilder.java        |  5 +-
 .../ConditionESQueryBuilderDispatcher.java         | 14 ++--
 .../conditions/ConditionEvaluator.java             |  6 +-
 .../conditions/ConditionEvaluatorDispatcher.java   | 19 ++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 12 +--
 .../plugin/security}/IPRangeMatcher.java           |  2 +-
 .../plugin/security}/SecurityPlugin.java           |  2 +-
 .../plugin/security}/SecurityPluginModule.java     |  2 +-
 .../plugin/security}/SecurityPluginService.java    |  2 +-
 .../src/main/resources/es-plugin.properties        |  2 +-
 .../unomi}/persistence/spi/CustomObjectMapper.java | 29 ++++---
 .../unomi}/persistence/spi/ItemDeserializer.java   |  9 +--
 .../unomi}/persistence/spi/PersistenceService.java | 10 +--
 .../unomi}/persistence/spi/PropertyHelper.java     |  4 +-
 .../spi/PropertyTypedObjectDeserializer.java       | 11 ++-
 .../persistence/spi/aggregate/BaseAggregate.java   |  2 +-
 .../persistence/spi/aggregate/DateAggregate.java   | 44 +++++------
 .../spi/aggregate/DateRangeAggregate.java          | 11 ++-
 .../spi/aggregate/IpRangeAggregate.java            |  8 +-
 .../spi/aggregate/NumericRangeAggregate.java       |  8 +-
 .../persistence/spi/aggregate/TermsAggregate.java  |  2 +-
 .../actions/AllEventToProfilePropertiesAction.java | 12 +--
 .../actions/EvaluateProfileAgeAction.java          | 12 +--
 .../actions/EvaluateProfileSegmentsAction.java     | 16 ++--
 .../actions/EventToProfilePropertyAction.java      | 10 +--
 .../actions/IncrementInterestsValuesAction.java    | 10 +--
 .../actions/MergeProfilesOnPropertyAction.java     | 26 +++----
 .../baseplugin/actions/SendEventAction.java        | 12 +--
 .../actions/SetEventOccurenceCountAction.java      | 18 ++---
 .../baseplugin/actions/SetPropertyAction.java      | 14 ++--
 .../conditions/BooleanConditionESQueryBuilder.java |  8 +-
 .../conditions/BooleanConditionEvaluator.java      | 10 +--
 ...ationByPointSessionConditionESQueryBuilder.java |  8 +-
 ...eoLocationByPointSessionConditionEvaluator.java | 10 +--
 .../MatchAllConditionESQueryBuilder.java           |  8 +-
 .../conditions/MatchAllConditionEvaluator.java     | 10 +--
 .../conditions/NotConditionESQueryBuilder.java     |  8 +-
 .../conditions/NotConditionEvaluator.java          | 10 +--
 .../PastEventConditionESQueryBuilder.java          | 18 ++---
 .../conditions/PastEventConditionEvaluator.java    | 20 ++---
 .../PropertyConditionESQueryBuilder.java           | 12 ++-
 .../conditions/PropertyConditionEvaluator.java     | 20 ++---
 ...SourceEventPropertyConditionESQueryBuilder.java |  9 +--
 .../SourceEventPropertyConditionEvaluator.java     | 15 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 86 ++++++++++----------
 .../HoverEventConditionESQueryBuilder.java         | 34 ++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../plugins/mail/actions/SendMailAction.java       | 10 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 .../main/resources/OSGI-INF/metatype/metatype.xml  |  6 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 plugins/pom.xml                                    |  6 +-
 .../RequestHeaderToProfilePropertyAction.java      | 10 +--
 .../RequestParameterToProfilePropertyAction.java   | 10 +--
 .../request/actions/SetRemoteHostInfoAction.java   | 16 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  6 +-
 rest/pom.xml                                       |  5 +-
 .../unomi}/rest/CampaignsServiceEndPoint.java      | 19 ++---
 .../unomi}/rest/ClusterServiceEndPoint.java        |  6 +-
 .../unomi}/rest/DefinitionsServiceEndPoint.java    | 14 ++--
 .../unomi}/rest/GoalsServiceEndPoint.java          | 17 ++--
 .../unomi}/rest/LocalizationHelper.java            | 20 ++---
 .../unomi}/rest/ProfileServiceEndPoint.java        | 18 ++---
 .../unomi}/rest/QueryServiceEndPoint.java          | 10 +--
 .../unomi}/rest/RESTActionType.java                |  6 +-
 .../unomi}/rest/RESTConditionType.java             |  6 +-
 .../unomi}/rest/RESTParameter.java                 |  7 +-
 .../unomi}/rest/RESTTag.java                       |  6 +-
 .../unomi}/rest/RESTValueType.java                 |  6 +-
 .../unomi}/rest/ResourceBundleHelper.java          | 12 +--
 .../unomi}/rest/RulesServiceEndPoint.java          | 12 +--
 .../unomi}/rest/ScoringServiceEndPoint.java        | 14 ++--
 .../unomi}/rest/SegmentServiceEndPoint.java        | 14 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 42 +++++-----
 .../actions/ActionExecutorDispatcher.java          | 42 +++++-----
 .../ComparisonOperatorChoiceListInitializer.java   | 12 +--
 .../ComparisonOperatorChoiceListValue.java         |  8 +-
 .../initializers/CountryChoiceListInitializer.java | 14 +---
 .../EventPropertyChoiceListInitializer.java        | 10 +--
 .../EventTypeIdChoiceListInitializer.java          | 10 +--
 .../initializers/GoalsChoiceListInitializer.java   | 10 +--
 .../initializers/PropertyTypeChoiceListValue.java  | 28 +++----
 .../SegmentsChoiceListInitializer.java             | 11 ++-
 .../mergers/AddPropertyMergeStrategyExecutor.java  |  8 +-
 .../DefaultPropertyMergeStrategyExecutor.java      |  8 +-
 .../MostRecentPropertyMergeStrategyExecutor.java   |  8 +-
 .../NonEmptyPropertyMergeStrategyExecutor.java     |  8 +-
 .../OldestPropertyMergeStrategyExecutor.java       |  8 +-
 .../services}/services/DefinitionsServiceImpl.java | 22 +++---
 .../unomi/services}/services/EventServiceImpl.java | 20 ++---
 .../unomi/services}/services/GoalsServiceImpl.java | 40 +++++-----
 .../unomi/services}/services/ParserHelper.java     | 18 ++---
 .../services}/services/ProfileServiceImpl.java     | 29 ++++---
 .../unomi/services}/services/QueryServiceImpl.java | 16 ++--
 .../unomi/services}/services/RulesServiceImpl.java | 34 ++++----
 .../services}/services/SegmentServiceImpl.java     | 42 +++++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 45 +++++------
 src/site/markdown/clustering.md                    |  4 +-
 src/site/markdown/configuration.md                 | 91 +++++++++++++++++++++-
 wab/pom.xml                                        | 13 ++--
 .../unomi}/web/ContextServlet.java                 | 21 +++--
 .../unomi}/web/EventsCollectorServlet.java         | 12 +--
 .../unomi}/web/HttpUtils.java                      |  6 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 15 ++--
 199 files changed, 1260 insertions(+), 1187 deletions(-)

commit c5e32d1abcef05fe61a9f3bd10542a5ee9ac8c92
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 18 10:20:04 2015 +0100

    Add information on checking the license and generating the documentation site.

 README.md | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit a2566575500ec1f9c8b4428ebe22f9299b1ba992
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Nov 17 16:57:03 2015 +0100

    Regroup extensions into an extensions subproject.

 {geonames => extensions/geonames}/pom.xml          |  6 ++--
 {geonames => extensions/geonames}/rest/pom.xml     |  3 +-
 .../unomi/geonames/rest/GeonamesEndPoint.java      |  4 ++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +--
 {geonames => extensions/geonames}/services/pom.xml |  3 +-
 .../unomi/geonames/services/GeonameEntry.java      |  5 +--
 .../unomi/geonames/services/GeonamesService.java   |  1 -
 .../geonames/services/GeonamesServiceImpl.java     |  4 +--
 .../META-INF/cxs/mappings/geonameEntry.json        |  0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 +-
 .../main/resources/org.apache.unomi.geonames.cfg   |  0
 .../lists-extension}/pom.xml                       |  6 ++--
 .../lists-extension}/rest/pom.xml                  |  3 +-
 .../jahia/unomi/rest/UserListServiceEndPoint.java  |  5 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +--
 .../lists-extension}/services/pom.xml              |  3 +-
 .../main/java/org/jahia/unomi/lists/UserList.java  |  2 +-
 .../org/jahia/unomi/services/UserListService.java  |  7 ++--
 .../jahia/unomi/services/UserListServiceImpl.java  |  6 ++--
 .../resources/META-INF/cxs/mappings/userList.json  |  0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  0
 extensions/pom.xml                                 | 39 ++++++++++++++++++++++
 .../privacy-extension}/pom.xml                     |  7 ++--
 .../privacy-extension}/rest/pom.xml                |  4 +--
 .../privacy/rest/PrivacyServiceEndPoint.java       |  2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +--
 .../privacy-extension}/services/pom.xml            |  4 +--
 .../privacy/internal/PrivacyServiceImpl.java       |  8 ++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  0
 pom.xml                                            |  7 ++--
 30 files changed, 85 insertions(+), 59 deletions(-)

commit c7ad8570eb16716136cf74e4842b07612d4c6fb7
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Nov 17 16:38:13 2015 +0100

    Major changes in project :
    - GroupIDs and ArtifactIDs have been changed to prepare for importing at Apache (all org.oasis_open.contextserver -> org.apache.unomi)
    - Version change from 2.0.0-SNAPSHOT to 2.0.0-incubating-SNAPSHOT to comply with Apache requirements
    
    Minor changes:
    - Added missing license headers

 README.md                                          |  6 +-
 api/pom.xml                                        | 10 +--
 buildAndRun.sh                                     |  4 +-
 compileDeploy.sh                                   |  2 +-
 geonames/pom.xml                                   | 12 ++--
 geonames/rest/pom.xml                              | 22 +++---
 geonames/services/pom.xml                          | 22 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 ....geonames.cfg => org.apache.unomi.geonames.cfg} |  0
 itests/pom.xml                                     | 28 ++++----
 .../oasis_open/contextserver/itests/BaseTest.java  |  6 +-
 kar/pom.xml                                        | 82 +++++++++++-----------
 kar/src/main/feature/feature.xml                   | 36 +++++-----
 lists-extension/pom.xml                            | 12 ++--
 lists-extension/rest/pom.xml                       | 22 +++---
 lists-extension/services/pom.xml                   | 20 +++---
 package/pom.xml                                    | 36 +++++-----
 performance-tests/pom.xml                          | 20 +++---
 .../contextserver/performancetests/BasicTest.java  |  6 +-
 persistence-elasticsearch/core/pom.xml             | 24 +++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 ...org.apache.unomi.persistence.elasticsearch.cfg} |  0
 persistence-elasticsearch/plugins/pom.xml          | 10 +--
 persistence-elasticsearch/plugins/security/pom.xml | 12 ++--
 persistence-elasticsearch/pom.xml                  | 10 +--
 persistence-spi/pom.xml                            | 16 ++---
 plugins/baseplugin/pom.xml                         | 22 +++---
 plugins/hover-event/pom.xml                        | 16 ++---
 plugins/mail/pom.xml                               | 10 +--
 plugins/optimization-test/pom.xml                  | 10 +--
 plugins/past-event/pom.xml                         | 22 +++---
 plugins/pom.xml                                    | 16 ++---
 plugins/request/pom.xml                            | 12 ++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 ...st.cfg => org.apache.unomi.plugins.request.cfg} |  0
 plugins/tracked-event/pom.xml                      | 22 +++---
 pom.xml                                            |  8 +--
 privacy-extension/pom.xml                          | 12 ++--
 privacy-extension/rest/pom.xml                     | 22 +++---
 privacy-extension/services/pom.xml                 | 20 +++---
 .../privacy/internal/PrivacyServiceImpl.java       |  4 +-
 rest/pom.xml                                       | 22 +++---
 services/pom.xml                                   | 24 +++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 ....services.cfg => org.apache.unomi.services.cfg} |  0
 src/site/markdown/building-and-deploying.md        |  6 +-
 src/site/markdown/clustering.md                    | 17 +++++
 wab/pom.xml                                        | 26 +++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 ...textserver.web.cfg => org.apache.unomi.web.cfg} |  0
 50 files changed, 369 insertions(+), 350 deletions(-)

commit fb0b9ea3e5cf1b4f447e96f717da726fedb2de49
Merge: 3d9f5706 4be915cd
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Nov 17 15:31:47 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit 3d9f57066577b8693e68cf5fec17ed2b78f05b9a
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Nov 17 15:31:37 2015 +0100

    - Added building & deploying pages
    - Improved home page to add features, at a glance and introduction
    - Added proper names & descriptions for all Maven sub-projects

 api/pom.xml                                        |   3 +-
 geonames/pom.xml                                   |   2 +
 geonames/rest/pom.xml                              |   2 +
 geonames/services/pom.xml                          |   2 +
 itests/pom.xml                                     |   3 +-
 kar/pom.xml                                        |   2 +
 lists-extension/pom.xml                            |   2 +
 lists-extension/rest/pom.xml                       |   3 +
 lists-extension/services/pom.xml                   |   3 +
 package/pom.xml                                    |   3 +-
 performance-tests/pom.xml                          |   3 +-
 persistence-elasticsearch/core/pom.xml             |   2 +
 persistence-elasticsearch/plugins/pom.xml          |   2 +
 persistence-elasticsearch/plugins/security/pom.xml |   2 +
 persistence-elasticsearch/pom.xml                  |   2 +
 persistence-spi/pom.xml                            |   2 +
 plugins/baseplugin/pom.xml                         |   3 +-
 plugins/hover-event/pom.xml                        |   3 +-
 plugins/mail/pom.xml                               |   3 +-
 plugins/optimization-test/pom.xml                  |   3 +-
 plugins/past-event/pom.xml                         |   3 +-
 plugins/pom.xml                                    |   2 +
 plugins/request/pom.xml                            |   3 +-
 plugins/tracked-event/pom.xml                      |   3 +-
 pom.xml                                            |   2 +-
 privacy-extension/pom.xml                          |   2 +
 privacy-extension/rest/pom.xml                     |   3 +-
 privacy-extension/services/pom.xml                 |   3 +-
 rest/pom.xml                                       |   2 +
 services/pom.xml                                   |   2 +
 src/site/markdown/building-and-deploying.md        | 190 +++++++++++++++++++
 src/site/markdown/index.md                         | 210 ++++-----------------
 src/site/resources/images/unomi-features.png       | Bin 0 -> 145199 bytes
 src/site/resources/images/unomi-input-output.png   | Bin 0 -> 87222 bytes
 src/site/site.xml                                  |  41 +++-
 wab/pom.xml                                        |   2 +
 36 files changed, 317 insertions(+), 201 deletions(-)

commit 4be915cd159edb776f45eb96b941e872cd646cfb
Author: Quentin Lamerand <qlamerand@MacBook-Pro-de-Quentin.local>
Date:   Tue Nov 17 14:53:37 2015 +0100

    DMF-450: Remove default test scoring plan

 .../resources/META-INF/cxs/scoring/scoring.json    | 32 ----------------------
 1 file changed, 32 deletions(-)

commit b01bf3fa7253683c216c20328c66d8129f8fa066
Author: Quentin Lamerand <qlamerand@MacBook-Pro-de-Quentin.local>
Date:   Tue Nov 17 14:33:04 2015 +0100

    DMF-464: Update profile scores only if plan is enabled and if score > 0

 .../contextserver/impl/services/SegmentServiceImpl.java    | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit a72abbcff033bda630ee2a949eb41d9830ecb52e
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Nov 16 17:25:05 2015 +0100

    Split content into 3 files, and add a menu

 src/site/markdown/clustering.md    |  66 +++++++++
 src/site/markdown/configuration.md | 188 ++++++++++++++++++++++++
 src/site/markdown/index.md         | 288 ++++---------------------------------
 src/site/site.xml                  |   5 +-
 4 files changed, 282 insertions(+), 265 deletions(-)

commit d1b19d5b62416ec5a363f445ff04cfcaf2d47563
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Nov 16 14:41:57 2015 +0100

    - Add missing license headers to files
    - Add exceptions to RAT plugin for resource files & files that do not allow comments

 .../org/oasis_open/contextserver/itests/AllTests.java   | 17 +++++++++++++++++
 .../org/oasis_open/contextserver/itests/BaseTest.java   | 17 +++++++++++++++++
 .../org/oasis_open/contextserver/itests/BasicTest.java  | 17 +++++++++++++++++
 .../contextserver/itests/ConditionBuilder.java          | 17 +++++++++++++++++
 .../itests/ConditionESQueryBuilderTest.java             | 17 +++++++++++++++++
 .../contextserver/itests/ConditionEvaluatorTest.java    | 17 +++++++++++++++++
 .../oasis_open/contextserver/itests/SegmentTest.java    | 17 +++++++++++++++++
 .../org/oasis_open/contextserver/itests/TestUtils.java  | 17 +++++++++++++++++
 .../contextserver/performancetests/BasicTest.java       | 17 +++++++++++++++++
 performance-tests/src/test/scala/Engine.scala           | 17 +++++++++++++++++
 performance-tests/src/test/scala/IDEPathHelper.scala    | 17 +++++++++++++++++
 performance-tests/src/test/scala/Recorder.scala         | 17 +++++++++++++++++
 .../src/test/scala/unomi/AdminScenario.scala            | 17 +++++++++++++++++
 .../src/test/scala/unomi/AdminSimulation.scala          | 17 +++++++++++++++++
 .../src/test/scala/unomi/FullSimulation.scala           | 17 +++++++++++++++++
 performance-tests/src/test/scala/unomi/Parameters.scala | 17 +++++++++++++++++
 .../src/test/scala/unomi/PrepareIndices.scala           | 17 +++++++++++++++++
 .../src/test/scala/unomi/UserScenario.scala             | 17 +++++++++++++++++
 .../src/test/scala/unomi/UserSimulation.scala           | 17 +++++++++++++++++
 pom.xml                                                 |  7 +++++++
 rest/README.md                                          | 17 +++++++++++++++++
 21 files changed, 347 insertions(+)

commit b45fdc9e8a6e0163008de4934c0502045857f349
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 23:32:32 2015 +0100

    Add Markdown index file based on README.md at the root of the project.

 src/site/markdown/index.md | 450 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 450 insertions(+)

commit f03b75f4df0821e3c60fd212cd88333888103ee9
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 17:50:22 2015 +0100

    Add licenses in top files that were missing it, and add RAT plugin profile to check for proper license in files (lots are still missing in tests)

 README.md        | 17 +++++++++++++
 buildAndRun.sh   | 18 +++++++++++++
 compileDeploy.sh | 18 +++++++++++++
 pom.xml          | 77 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 130 insertions(+)

commit 113b984fa64d188f5991cc601f44a823125b58df
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 16:55:38 2015 +0100

    Use default staging directory to make sure we include staging content from all the sub-projects

 pom.xml | 1 -
 1 file changed, 1 deletion(-)

commit e113cfffc608be7bad02cbcf9135aa658d97c22b
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 16:26:13 2015 +0100

    Initial Maven site setup

 pom.xml                                            | 205 ++++++++++++++++++++-
 src/site/resources/images/apache-unomi-380x85.png  | Bin 0 -> 28161 bytes
 src/site/resources/images/apache-unomi-571x128.png | Bin 0 -> 34486 bytes
 src/site/resources/images/apache-unomi-large.png   | Bin 0 -> 60570 bytes
 src/site/resources/images/unomi-100x99.png         | Bin 0 -> 18543 bytes
 src/site/resources/images/unomi-200x56.png         | Bin 0 -> 20393 bytes
 src/site/resources/images/unomi-86x20.png          | Bin 0 -> 17610 bytes
 src/site/resources/images/unomi-icon.png           | Bin 0 -> 33427 bytes
 src/site/resources/images/unomi.png                | Bin 0 -> 57947 bytes
 src/site/resources/images/unomi.xcf                | Bin 0 -> 177483 bytes
 src/site/site.xml                                  |  99 ++++++++++
 11 files changed, 299 insertions(+), 5 deletions(-)

commit e3ab55c524d9f460bce4ff043e8b1d6fa1d3cf52
Merge: 2121b0c0 a004f331
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 10:54:50 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit 2121b0c0e35c31cbd1b43eb9df5b65c109682574
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Nov 13 10:54:25 2015 +0100

    Remote @Path annotations at the class level (these were introduced to produce REST documentation) because it was creating invalid mappings for CXF

 .../java/org/oasis_open/contextserver/rest/CampaignsServiceEndPoint.java | 1 -
 .../java/org/oasis_open/contextserver/rest/ClusterServiceEndPoint.java   | 1 -
 .../org/oasis_open/contextserver/rest/DefinitionsServiceEndPoint.java    | 1 -
 .../java/org/oasis_open/contextserver/rest/GoalsServiceEndPoint.java     | 1 -
 .../java/org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java   | 1 -
 .../java/org/oasis_open/contextserver/rest/QueryServiceEndPoint.java     | 1 -
 .../java/org/oasis_open/contextserver/rest/RulesServiceEndPoint.java     | 1 -
 .../java/org/oasis_open/contextserver/rest/ScoringServiceEndPoint.java   | 1 -
 .../java/org/oasis_open/contextserver/rest/SegmentServiceEndPoint.java   | 1 -
 9 files changed, 9 deletions(-)

commit a004f33126448882eabe66e99bd2d382f7d3dac1
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Nov 13 10:38:05 2015 +0100

    Updated version in pom.xml to 2.0.0-SNAPSHOT

 api/pom.xml                                        |  2 +-
 geonames/pom.xml                                   |  4 +--
 geonames/rest/pom.xml                              |  8 +++---
 geonames/services/pom.xml                          |  8 +++---
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 30 +++++++++++-----------
 lists-extension/pom.xml                            |  4 +--
 lists-extension/rest/pom.xml                       |  8 +++---
 lists-extension/services/pom.xml                   |  8 +++---
 package/pom.xml                                    |  4 +--
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++---
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 plugins/tracked-event/pom.xml                      |  6 ++---
 pom.xml                                            |  2 +-
 privacy-extension/pom.xml                          |  4 +--
 privacy-extension/rest/pom.xml                     |  8 +++---
 privacy-extension/services/pom.xml                 |  8 +++---
 rest/pom.xml                                       |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 31 files changed, 88 insertions(+), 88 deletions(-)

commit 8a3ff4dc2bdc2492c27427031f7bf8166ffc94f5
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Nov 12 18:20:03 2015 +0100

    Updated licenses

 api/pom.xml                                        | 17 ++++
 .../oasis_open/contextserver/api/BatchUpdate.java  | 17 ++++
 .../oasis_open/contextserver/api/ClusterNode.java  | 25 +++---
 .../contextserver/api/ContextRequest.java          | 25 +++---
 .../contextserver/api/ContextResponse.java         | 25 +++---
 .../oasis_open/contextserver/api/CustomItem.java   | 25 +++---
 .../org/oasis_open/contextserver/api/Event.java    | 25 +++---
 .../oasis_open/contextserver/api/EventInfo.java    | 17 ++++
 .../contextserver/api/EventProperty.java           | 93 +++-------------------
 .../oasis_open/contextserver/api/EventSource.java  | 25 +++---
 .../oasis_open/contextserver/api/EventTarget.java  | 25 +++---
 .../contextserver/api/EventsCollectorRequest.java  | 25 +++---
 .../org/oasis_open/contextserver/api/Item.java     | 25 +++---
 .../org/oasis_open/contextserver/api/Metadata.java | 25 +++---
 .../oasis_open/contextserver/api/MetadataItem.java | 25 +++---
 .../oasis_open/contextserver/api/Parameter.java    | 25 +++---
 .../oasis_open/contextserver/api/PartialList.java  | 25 +++---
 .../org/oasis_open/contextserver/api/Persona.java  | 25 +++---
 .../contextserver/api/PersonaSession.java          | 25 +++---
 .../contextserver/api/PersonaWithSessions.java     | 25 +++---
 .../oasis_open/contextserver/api/PluginType.java   | 25 +++---
 .../org/oasis_open/contextserver/api/Profile.java  | 25 +++---
 .../api/PropertyMergeStrategyExecutor.java         | 25 +++---
 .../api/PropertyMergeStrategyType.java             | 25 +++---
 .../oasis_open/contextserver/api/PropertyType.java | 25 +++---
 .../oasis_open/contextserver/api/ServerInfo.java   | 17 ++++
 .../org/oasis_open/contextserver/api/Session.java  | 25 +++---
 .../java/org/oasis_open/contextserver/api/Tag.java | 25 +++---
 .../contextserver/api/TimestampedItem.java         | 25 +++---
 .../oasis_open/contextserver/api/ValueType.java    | 25 +++---
 .../contextserver/api/actions/Action.java          | 25 +++---
 .../contextserver/api/actions/ActionExecutor.java  | 25 +++---
 .../api/actions/ActionPostExecutor.java            | 21 ++---
 .../contextserver/api/actions/ActionType.java      | 25 +++---
 .../contextserver/api/campaigns/Campaign.java      | 25 +++---
 .../api/campaigns/CampaignDetail.java              | 17 ++++
 .../api/campaigns/events/CampaignEvent.java        | 21 ++---
 .../contextserver/api/conditions/Condition.java    | 25 +++---
 .../api/conditions/ConditionType.java              | 25 +++---
 .../initializers/ChoiceListInitializer.java        | 25 +++---
 .../conditions/initializers/ChoiceListValue.java   | 25 +++---
 .../api/conditions/initializers/I18nSupport.java   | 25 +++---
 .../oasis_open/contextserver/api/goals/Goal.java   | 25 +++---
 .../contextserver/api/goals/GoalReport.java        | 25 +++---
 .../contextserver/api/query/Aggregate.java         | 25 +++---
 .../contextserver/api/query/AggregateQuery.java    | 25 +++---
 .../contextserver/api/query/DateRange.java         | 25 +++---
 .../contextserver/api/query/IpRange.java           | 25 +++---
 .../contextserver/api/query/NumericRange.java      | 25 +++---
 .../oasis_open/contextserver/api/query/Query.java  | 17 ++++
 .../oasis_open/contextserver/api/rules/Rule.java   | 25 +++---
 .../contextserver/api/segments/Scoring.java        | 25 +++---
 .../contextserver/api/segments/ScoringElement.java | 25 +++---
 .../contextserver/api/segments/Segment.java        | 25 +++---
 .../api/segments/SegmentsAndScores.java            | 25 +++---
 .../contextserver/api/services/ClusterService.java | 25 +++---
 .../api/services/DefinitionsService.java           | 25 +++---
 .../api/services/EventListenerService.java         | 25 +++---
 .../contextserver/api/services/EventService.java   | 25 +++---
 .../contextserver/api/services/GoalsService.java   | 25 +++---
 .../contextserver/api/services/PrivacyService.java | 17 ++++
 .../contextserver/api/services/ProfileService.java | 25 +++---
 .../contextserver/api/services/QueryService.java   | 25 +++---
 .../contextserver/api/services/RulesService.java   | 25 +++---
 .../contextserver/api/services/SegmentService.java | 25 +++---
 geonames/pom.xml                                   | 17 ++++
 geonames/rest/pom.xml                              | 17 ++++
 .../unomi/geonames/rest/GeonamesEndPoint.java      | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 geonames/services/pom.xml                          | 17 ++++
 .../unomi/geonames/services/GeonameEntry.java      | 17 ++++
 .../unomi/geonames/services/GeonamesService.java   | 17 ++++
 .../geonames/services/GeonamesServiceImpl.java     | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../org.oasis_open.contextserver.geonames.cfg      | 17 ++++
 itests/pom.xml                                     | 17 ++++
 kar/pom.xml                                        | 17 ++++
 kar/src/main/feature/feature.xml                   | 33 ++++----
 lists-extension/pom.xml                            | 17 ++++
 lists-extension/rest/pom.xml                       | 17 ++++
 .../jahia/unomi/rest/UserListServiceEndPoint.java  | 51 ++++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 lists-extension/services/pom.xml                   | 17 ++++
 .../main/java/org/jahia/unomi/lists/UserList.java  | 53 ++++--------
 .../org/jahia/unomi/services/UserListService.java  | 53 ++++--------
 .../jahia/unomi/services/UserListServiceImpl.java  | 49 +++---------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 package/pom.xml                                    | 17 ++++
 package/src/main/descriptors/src.xml               | 49 ++++--------
 package/src/main/resources/data/maven/settings.xml | 33 ++++----
 package/src/main/resources/etc/custom.properties   | 25 +++---
 .../src/main/resources/etc/org.apache.cxf.osgi.cfg | 17 ++++
 .../main/resources/etc/org.ops4j.pax.logging.cfg   | 26 +++---
 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   | 26 +++---
 performance-tests/pom.xml                          | 17 ++++
 performance-tests/src/test/resources/logback.xml   | 17 ++++
 persistence-elasticsearch/core/pom.xml             | 17 ++++
 .../ElasticSearchPersistenceServiceImpl.java       | 25 +++---
 .../conditions/ConditionContextHelper.java         | 25 +++---
 .../conditions/ConditionESQueryBuilder.java        | 25 +++---
 .../ConditionESQueryBuilderDispatcher.java         | 25 +++---
 .../conditions/ConditionEvaluator.java             | 25 +++---
 .../conditions/ConditionEvaluatorDispatcher.java   | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 ...pen.contextserver.persistence.elasticsearch.cfg | 17 ++++
 persistence-elasticsearch/plugins/pom.xml          | 17 ++++
 persistence-elasticsearch/plugins/security/pom.xml | 17 ++++
 .../plugins/security/src/main/assembly/plugin.xml  | 33 ++++----
 .../contextserver/IPRangeMatcher.java              | 69 ++++++----------
 .../contextserver/SecurityPlugin.java              | 25 +++---
 .../contextserver/SecurityPluginModule.java        | 25 +++---
 .../contextserver/SecurityPluginService.java       | 25 +++---
 .../src/main/resources/es-plugin.properties        | 25 +++---
 persistence-elasticsearch/pom.xml                  | 17 ++++
 persistence-spi/pom.xml                            | 17 ++++
 .../persistence/spi/CustomObjectMapper.java        | 25 +++---
 .../persistence/spi/ItemDeserializer.java          | 25 +++---
 .../persistence/spi/PersistenceService.java        | 25 +++---
 .../persistence/spi/PropertyHelper.java            | 17 ++++
 .../spi/PropertyTypedObjectDeserializer.java       | 25 +++---
 .../persistence/spi/aggregate/BaseAggregate.java   | 25 +++---
 .../persistence/spi/aggregate/DateAggregate.java   | 25 +++---
 .../spi/aggregate/DateRangeAggregate.java          | 25 +++---
 .../spi/aggregate/IpRangeAggregate.java            | 25 +++---
 .../spi/aggregate/NumericRangeAggregate.java       | 25 +++---
 .../persistence/spi/aggregate/TermsAggregate.java  | 25 +++---
 plugins/baseplugin/pom.xml                         | 17 ++++
 .../actions/AllEventToProfilePropertiesAction.java | 25 +++---
 .../actions/EvaluateProfileAgeAction.java          | 17 ++++
 .../actions/EvaluateProfileSegmentsAction.java     | 25 +++---
 .../actions/EventToProfilePropertyAction.java      | 25 +++---
 .../actions/IncrementInterestsValuesAction.java    | 25 +++---
 .../actions/MergeProfilesOnPropertyAction.java     | 25 +++---
 .../baseplugin/actions/SendEventAction.java        | 25 +++---
 .../actions/SetEventOccurenceCountAction.java      | 25 +++---
 .../baseplugin/actions/SetPropertyAction.java      | 25 +++---
 .../conditions/BooleanConditionESQueryBuilder.java | 25 +++---
 .../conditions/BooleanConditionEvaluator.java      | 25 +++---
 ...ationByPointSessionConditionESQueryBuilder.java | 25 +++---
 ...eoLocationByPointSessionConditionEvaluator.java | 25 +++---
 .../MatchAllConditionESQueryBuilder.java           | 25 +++---
 .../conditions/MatchAllConditionEvaluator.java     | 25 +++---
 .../conditions/NotConditionESQueryBuilder.java     | 25 +++---
 .../conditions/NotConditionEvaluator.java          | 25 +++---
 .../PastEventConditionESQueryBuilder.java          | 25 +++---
 .../conditions/PastEventConditionEvaluator.java    | 25 +++---
 .../PropertyConditionESQueryBuilder.java           | 25 +++---
 .../conditions/PropertyConditionEvaluator.java     | 25 +++---
 ...SourceEventPropertyConditionESQueryBuilder.java | 25 +++---
 .../SourceEventPropertyConditionEvaluator.java     | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_de.properties      | 25 +++---
 .../src/main/resources/messages_en.properties      | 25 +++---
 .../src/main/resources/messages_fr.properties      | 25 +++---
 plugins/hover-event/pom.xml                        | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_en.properties      | 25 +++---
 .../src/main/resources/messages_fr.properties      | 25 +++---
 plugins/mail/pom.xml                               | 17 ++++
 .../plugins/mail/actions/SendMailAction.java       | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../OSGI-INF/metatype/metatype.properties          | 25 +++---
 .../main/resources/OSGI-INF/metatype/metatype.xml  | 33 ++++----
 .../mail/src/main/resources/messages_en.properties | 25 +++---
 .../mail/src/main/resources/messages_fr.properties | 25 +++---
 plugins/optimization-test/pom.xml                  | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_en.properties      | 25 +++---
 plugins/past-event/pom.xml                         | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_en.properties      | 25 +++---
 plugins/pom.xml                                    | 17 ++++
 plugins/request/pom.xml                            | 17 ++++
 .../RequestHeaderToProfilePropertyAction.java      | 25 +++---
 .../RequestParameterToProfilePropertyAction.java   | 25 +++---
 .../request/actions/SetRemoteHostInfoAction.java   | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_en.properties      | 25 +++---
 .../src/main/resources/messages_fr.properties      | 25 +++---
 ...rg.oasis_open.contextserver.plugins.request.cfg | 17 ++++
 plugins/tracked-event/pom.xml                      | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 .../src/main/resources/messages_en.properties      | 25 +++---
 pom.xml                                            | 17 ++++
 privacy-extension/pom.xml                          | 17 ++++
 privacy-extension/rest/pom.xml                     | 17 ++++
 .../privacy/rest/PrivacyServiceEndPoint.java       | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 privacy-extension/services/pom.xml                 | 17 ++++
 .../privacy/internal/PrivacyServiceImpl.java       | 17 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 rest/pom.xml                                       | 17 ++++
 .../rest/CampaignsServiceEndPoint.java             | 25 +++---
 .../contextserver/rest/ClusterServiceEndPoint.java | 25 +++---
 .../rest/DefinitionsServiceEndPoint.java           | 25 +++---
 .../contextserver/rest/GoalsServiceEndPoint.java   | 25 +++---
 .../contextserver/rest/LocalizationHelper.java     | 25 +++---
 .../contextserver/rest/ProfileServiceEndPoint.java | 25 +++---
 .../contextserver/rest/QueryServiceEndPoint.java   | 25 +++---
 .../contextserver/rest/RESTActionType.java         | 25 +++---
 .../contextserver/rest/RESTConditionType.java      | 25 +++---
 .../contextserver/rest/RESTParameter.java          | 25 +++---
 .../org/oasis_open/contextserver/rest/RESTTag.java | 25 +++---
 .../contextserver/rest/RESTValueType.java          | 25 +++---
 .../contextserver/rest/ResourceBundleHelper.java   | 25 +++---
 .../contextserver/rest/RulesServiceEndPoint.java   | 25 +++---
 .../contextserver/rest/ScoringServiceEndPoint.java | 25 +++---
 .../contextserver/rest/SegmentServiceEndPoint.java | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 services/pom.xml                                   | 17 ++++
 .../impl/actions/ActionExecutorDispatcher.java     | 25 +++---
 .../ComparisonOperatorChoiceListInitializer.java   | 25 +++---
 .../ComparisonOperatorChoiceListValue.java         | 93 +++-------------------
 .../initializers/CountryChoiceListInitializer.java | 25 +++---
 .../EventPropertyChoiceListInitializer.java        | 25 +++---
 .../EventTypeIdChoiceListInitializer.java          | 25 +++---
 .../initializers/GoalsChoiceListInitializer.java   | 25 +++---
 .../initializers/PropertyTypeChoiceListValue.java  | 93 +++-------------------
 .../SegmentsChoiceListInitializer.java             | 25 +++---
 .../mergers/AddPropertyMergeStrategyExecutor.java  | 25 +++---
 .../DefaultPropertyMergeStrategyExecutor.java      | 25 +++---
 .../MostRecentPropertyMergeStrategyExecutor.java   | 25 +++---
 .../NonEmptyPropertyMergeStrategyExecutor.java     | 25 +++---
 .../OldestPropertyMergeStrategyExecutor.java       | 25 +++---
 .../impl/services/DefinitionsServiceImpl.java      | 25 +++---
 .../impl/services/EventServiceImpl.java            | 25 +++---
 .../impl/services/GoalsServiceImpl.java            | 25 +++---
 .../contextserver/impl/services/ParserHelper.java  | 25 +++---
 .../impl/services/ProfileServiceImpl.java          | 25 +++---
 .../impl/services/QueryServiceImpl.java            | 25 +++---
 .../impl/services/RulesServiceImpl.java            | 25 +++---
 .../impl/services/SegmentServiceImpl.java          | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 services/src/main/resources/messages_de.properties | 25 +++---
 services/src/main/resources/messages_en.properties | 25 +++---
 services/src/main/resources/messages_fr.properties | 25 +++---
 .../org.oasis_open.contextserver.services.cfg      | 17 ++++
 wab/pom.xml                                        | 17 ++++
 .../contextserver/web/ContextServlet.java          | 25 +++---
 .../contextserver/web/EventsCollectorServlet.java  | 25 +++---
 .../oasis_open/contextserver/web/HttpUtils.java    | 25 +++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 ++++----
 wab/src/main/resources/javascript/base.js          | 21 ++---
 .../main/resources/javascript/impersonateBase.js   | 21 ++---
 .../resources/org.oasis_open.contextserver.web.cfg | 17 ++++
 wab/src/main/webapp/WEB-INF/web.xml                | 33 ++++----
 wab/src/main/webapp/index.html                     | 33 ++++----
 wab/src/main/webapp/login.jsp                      | 33 ++++----
 248 files changed, 2968 insertions(+), 3372 deletions(-)

commit 7b6b5a608968e61be1c1ee29361ac70df000095b
Merge: db16a2fd fdaefada
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 12 14:17:04 2015 +0100

    Merge pull request #3 from Jahia/trainingweek
    
    Corrections in scoring plans

commit db16a2fd101566455e4dd0d8187721528d8c1571
Merge: 5cd06c05 abdab9e5
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Nov 12 14:15:36 2015 +0100

    Merge pull request #2 from Jahia/rest-documentation
    
    Rest documentation

commit fdaefadab8943ae8b8af74a35745f535b34054aa
Merge: 6812703c 5cd06c05
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 11 17:42:11 2015 +0100

    Merge remote-tracking branch 'origin/master' into trainingweek
    
    # Conflicts:
    #       plugins/baseplugin/src/main/resources/META-INF/cxs/scoring/scoring.json

commit abdab9e54076bf186ca60e4ecece371322d304fc
Merge: e28e803f 5cd06c05
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 11 17:26:37 2015 +0100

    Merge remote-tracking branch 'origin/master' into rest-documentation
    
    # Conflicts:
    #       api/src/main/java/org/oasis_open/contextserver/api/PropertyType.java
    #       api/src/main/java/org/oasis_open/contextserver/api/Tag.java
    #       api/src/main/java/org/oasis_open/contextserver/api/actions/ActionType.java
    #       api/src/main/java/org/oasis_open/contextserver/api/conditions/ConditionType.java
    #       api/src/main/java/org/oasis_open/contextserver/api/rules/Rule.java
    #       api/src/main/java/org/oasis_open/contextserver/api/segments/Scoring.java
    #       api/src/main/java/org/oasis_open/contextserver/api/segments/Segment.java
    #       rest/pom.xml

commit 5cd06c05bad6f728392f264aeffcd9dc285ace4f
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 11 17:15:20 2015 +0100

    Correct all reference from 1.0-SNAPSHOT to 1.0.1-SNAPSHOT

 buildAndRun.sh                     | 4 ++--
 kar/pom.xml                        | 4 ++--
 privacy-extension/pom.xml          | 4 ++--
 privacy-extension/rest/pom.xml     | 8 ++++----
 privacy-extension/services/pom.xml | 8 ++++----
 5 files changed, 14 insertions(+), 14 deletions(-)

commit 3327c305dbcfbbd0a8fef22637d3641069481555
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 11 16:58:53 2015 +0100

    Remove RAML plugin test

 rest/pom.xml | 16 ----------------
 1 file changed, 16 deletions(-)

commit 9feb982500e3707660aea23dd27bc8f773c80195
Merge: 4ceea66f 4f2b9501
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Nov 11 16:27:09 2015 +0100

    Merge pull request #1 from Jahia/privacy-feature
    
    Privacy feature

commit d627674581fab601004ffeb85bc918f9bd6862f8
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Nov 9 14:13:13 2015 +0100

    Add a Git ignore file

 .gitignore | 72 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 72 insertions(+)

commit 935a6b754d785eab32e7c985e5cb714daa4a36ce
Author: Jean-Baptiste Onofré <jbonofre@apache.org>
Date:   Thu Nov 5 13:45:10 2015 +0100

    Add revision

 README.md | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 4ceea66f814ef3fb9ebbbf5a8b04529ac0b0297f
Author: Jahia CI <itorders@jahia.com>
Date:   Wed Nov 4 15:54:13 2015 +0100

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 geonames/pom.xml                                   |  4 ++--
 geonames/rest/pom.xml                              |  8 +++----
 geonames/services/pom.xml                          |  8 +++----
 itests/pom.xml                                     |  8 +++----
 kar/pom.xml                                        | 26 +++++++++++-----------
 lists-extension/pom.xml                            |  4 ++--
 lists-extension/rest/pom.xml                       |  8 +++----
 lists-extension/services/pom.xml                   |  8 +++----
 package/pom.xml                                    |  4 ++--
 performance-tests/pom.xml                          |  4 ++--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 ++--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/pom.xml                                    |  4 ++--
 plugins/request/pom.xml                            |  2 +-
 pom.xml                                            |  4 ++--
 rest/pom.xml                                       |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 25 files changed, 69 insertions(+), 69 deletions(-)

commit 1b690f0da69a8c930c226e62c44e53db436a7db3
Author: Jahia CI <itorders@jahia.com>
Date:   Wed Nov 4 15:54:10 2015 +0100

    [maven-release-plugin] prepare release 1_0_0

 api/pom.xml                                        |  2 +-
 geonames/pom.xml                                   |  4 ++--
 geonames/rest/pom.xml                              |  8 +++----
 geonames/services/pom.xml                          |  8 +++----
 itests/pom.xml                                     |  8 +++----
 kar/pom.xml                                        | 26 +++++++++++-----------
 lists-extension/pom.xml                            |  4 ++--
 lists-extension/rest/pom.xml                       |  8 +++----
 lists-extension/services/pom.xml                   |  8 +++----
 package/pom.xml                                    |  4 ++--
 performance-tests/pom.xml                          |  4 ++--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 ++--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/pom.xml                                    |  4 ++--
 plugins/request/pom.xml                            |  2 +-
 pom.xml                                            |  4 ++--
 rest/pom.xml                                       |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 25 files changed, 69 insertions(+), 69 deletions(-)

commit 6812703c2893c90782734d8382d33088bb15e258
Author: Quentin Lamerand <qlamerand@MacBook-Pro-de-Quentin.local>
Date:   Wed Nov 4 11:13:32 2015 +0100

    DMF-491: Add possibility to update using an inline groovy script + Update profiles after scoring update/remove

 .../ElasticSearchPersistenceServiceImpl.java       | 26 ++++++++++++
 .../core/src/main/resources/elasticsearch.yml      |  1 +
 .../persistence/spi/PersistenceService.java        | 13 ++++++
 .../impl/services/SegmentServiceImpl.java          | 48 +++++++++++++++++++++-
 4 files changed, 87 insertions(+), 1 deletion(-)

commit 10b6c6c0c901131f60cdab44481166442f8e3954
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Nov 2 15:47:17 2015 +0100

    Improved documentation.

 api/src/main/java/org/oasis_open/contextserver/api/Persona.java       | 4 ++--
 api/src/main/java/org/oasis_open/contextserver/api/Tag.java           | 2 +-
 .../main/java/org/oasis_open/contextserver/api/segments/Scoring.java  | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 7e5c3c011c2204e15b3b3c203f43d3cc8d136c0f
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Nov 2 15:22:52 2015 +0100

    Improved definition.

 .../main/java/org/oasis_open/contextserver/api/segments/Segment.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6eb1109d94389232c87334329035da047475ded1
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Nov 2 15:18:03 2015 +0100

    More documentation.

 .../main/java/org/oasis_open/contextserver/api/PropertyType.java | 2 +-
 .../org/oasis_open/contextserver/api/actions/ActionType.java     | 4 +++-
 .../oasis_open/contextserver/api/conditions/ConditionType.java   | 5 ++++-
 .../main/java/org/oasis_open/contextserver/api/rules/Rule.java   | 9 ++++++++-
 .../java/org/oasis_open/contextserver/api/segments/Segment.java  | 2 +-
 5 files changed, 17 insertions(+), 5 deletions(-)

commit c50f68d3523dd848c9d93da64422a7be9e39ce83
Author: kevan <kevan@jahia.com>
Date:   Mon Nov 2 14:10:10 2015 +0100

    QAMF-516: handle NPE when ConditionESQueryBuilderDispatcher try to build a filter and condition is empty

 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit e28e803f41de170b7d0355b5732f05ac24dbb52d
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Oct 30 11:20:08 2015 +0100

    Added configuration for swagger.

 rest/pom.xml | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 46 insertions(+)

commit 2ba0fa721609c2b53606a459e4387674231758c6
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Oct 30 17:36:13 2015 +0100

    More documentation.

 .../oasis_open/contextserver/api/CustomItem.java   |   3 +-
 .../org/oasis_open/contextserver/api/Event.java    |   2 +-
 .../org/oasis_open/contextserver/api/Profile.java  |   2 +-
 .../oasis_open/contextserver/api/PropertyType.java |  10 +-
 .../org/oasis_open/contextserver/api/Session.java  |   2 +
 .../contextserver/api/actions/Action.java          |  59 +++++++++-
 .../contextserver/api/actions/ActionExecutor.java  |   9 +-
 .../api/actions/ActionPostExecutor.java            |   5 +
 .../contextserver/api/actions/ActionType.java      |  97 ++++++++++++++--
 .../contextserver/api/campaigns/Campaign.java      |  87 +++++++++++++++
 .../api/campaigns/CampaignDetail.java              |  67 +++++++++++
 .../api/campaigns/events/CampaignEvent.java        |  70 +++++++++++-
 .../contextserver/api/conditions/Condition.java    |  59 +++++++++-
 .../api/conditions/ConditionType.java              | 124 +++++++++++++++++++--
 .../initializers/ChoiceListInitializer.java        |   5 +-
 .../contextserver/api/goals/GoalReport.java        |   6 +
 .../contextserver/api/query/Aggregate.java         |   3 +
 .../contextserver/api/query/AggregateQuery.java    |  43 +++++++
 .../contextserver/api/query/DateRange.java         |   4 +-
 .../contextserver/api/query/IpRange.java           |   3 +
 .../contextserver/api/query/NumericRange.java      |   3 +
 .../oasis_open/contextserver/api/rules/Rule.java   |  77 +++++++++++++
 .../contextserver/api/segments/Scoring.java        |  28 +++++
 .../contextserver/api/segments/ScoringElement.java |  26 +++++
 .../contextserver/api/segments/Segment.java        |  27 +++++
 .../api/segments/SegmentsAndScores.java            |  20 ++++
 26 files changed, 800 insertions(+), 41 deletions(-)

commit 9d9aa0ba2097264d6aeee6d4bfe5e34b99e63779
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 30 15:50:49 2015 +0100

    Removed test segments and scoring plan

 .../resources/META-INF/cxs/scoring/scoring.json    | 28 -------------------
 .../META-INF/cxs/segments/maleGender.json          | 24 ----------------
 .../resources/META-INF/cxs/segments/youngRich.json | 32 ----------------------
 3 files changed, 84 deletions(-)

commit 6333ddead7966c0f7f6862f03cb57475b5035ea0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 30 14:53:00 2015 +0100

    QAMF-442  : Removed verbose authentication logs

 package/src/main/resources/etc/org.ops4j.pax.logging.cfg | 1 +
 1 file changed, 1 insertion(+)

commit 54f4bd728ad58b231ccfb531a9554eac1a166aba
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Oct 30 11:22:37 2015 +0100

    More documentation.

 .../org/oasis_open/contextserver/api/Event.java    |   5 +-
 .../contextserver/api/EventProperty.java           |  22 ++-
 .../oasis_open/contextserver/api/EventSource.java  |   3 +
 .../oasis_open/contextserver/api/EventTarget.java  |   3 +
 .../contextserver/api/EventsCollectorRequest.java  |   2 -
 .../org/oasis_open/contextserver/api/Item.java     |   4 +-
 .../org/oasis_open/contextserver/api/Metadata.java |  77 +++++++++-
 .../oasis_open/contextserver/api/MetadataItem.java |   2 +-
 .../oasis_open/contextserver/api/Parameter.java    |   2 +-
 .../oasis_open/contextserver/api/PluginType.java   |  13 ++
 .../org/oasis_open/contextserver/api/Profile.java  |  18 ++-
 .../api/PropertyMergeStrategyExecutor.java         |  13 +-
 .../api/PropertyMergeStrategyType.java             |  15 ++
 .../oasis_open/contextserver/api/PropertyType.java | 165 ++++++++++++++++++++-
 .../org/oasis_open/contextserver/api/Session.java  |  97 +++++++++++-
 .../java/org/oasis_open/contextserver/api/Tag.java |  65 +++++++-
 .../oasis_open/contextserver/api/ValueType.java    |  65 +++++++-
 17 files changed, 547 insertions(+), 24 deletions(-)

commit 649640247e2ecf9e9067690dc04d580586732a9e
Author: David Griffon <dgriffon@jahia.com>
Date:   Thu Oct 29 15:52:46 2015 +0100

    QAMF-492 : merge on j:nodedame send by the LoginEvent

 plugins/baseplugin/src/main/resources/META-INF/cxs/rules/login.json | 6 ------
 1 file changed, 6 deletions(-)

commit cfedfd547bcc632d90a2fe5709051737d6a774f6
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 28 15:49:15 2015 +0100

    QAMF-479: handle ClassCastException in pastEventESQueryBuilder, when the past event condition have an empty condition

 .../baseplugin/conditions/PastEventConditionESQueryBuilder.java    | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 70da6c77a107256d203d69bab4ef2f83959e557c
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 28 15:24:19 2015 +0100

    QAMF-478: handle exception on PropertyConditionESQueryBuilder level

 .../PropertyConditionESQueryBuilder.java           | 32 ++++++++++++++++++++++
 .../contextserver/rest/QueryServiceEndPoint.java   | 26 ++++++++++++++++--
 .../impl/services/QueryServiceImpl.java            | 11 ++------
 3 files changed, 58 insertions(+), 11 deletions(-)

commit b66ecc69c91b6327b0215c4ae20e85b61e2e05a5
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 28 10:13:34 2015 +0100

    QAMF-505 : export profile id

 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java | 3 +++
 1 file changed, 3 insertions(+)

commit 6c8919b6b1466fc7f59a061ca27b96b62701601e
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Oct 22 15:23:14 2015 +0200

    More documentation.

 .../oasis_open/contextserver/api/ClusterNode.java  | 105 +++++++++++-
 .../contextserver/api/ContextRequest.java          | 186 ++++++++++++++++++++-
 .../contextserver/api/ContextResponse.java         |  88 ++++++++++
 .../oasis_open/contextserver/api/CustomItem.java   |  25 +++
 .../org/oasis_open/contextserver/api/Event.java    | 150 ++++++++++++++++-
 .../contextserver/api/EventsCollectorRequest.java  |  12 +-
 .../api/actions/ActionPostExecutor.java            |   4 +-
 7 files changed, 561 insertions(+), 9 deletions(-)

commit 551d3deed8e84f6330542b9b2797f28ba75d1606
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Oct 22 09:28:36 2015 +0200

    Added more details, explaining the need for a different branch.

 rest/README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ae7d6c1eda56eb342f8212b921477166dde7915e
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Oct 30 17:36:13 2015 +0100

    More documentation.

 .../oasis_open/contextserver/api/CustomItem.java   |   3 +-
 .../org/oasis_open/contextserver/api/Event.java    |   2 +-
 .../org/oasis_open/contextserver/api/Profile.java  |   2 +-
 .../oasis_open/contextserver/api/PropertyType.java |  10 +-
 .../org/oasis_open/contextserver/api/Session.java  |   2 +
 .../contextserver/api/actions/Action.java          |  59 +++++++++-
 .../contextserver/api/actions/ActionExecutor.java  |   9 +-
 .../api/actions/ActionPostExecutor.java            |   5 +
 .../contextserver/api/actions/ActionType.java      |  97 ++++++++++++++--
 .../contextserver/api/campaigns/Campaign.java      |  87 +++++++++++++++
 .../api/campaigns/CampaignDetail.java              |  67 +++++++++++
 .../api/campaigns/events/CampaignEvent.java        |  70 +++++++++++-
 .../contextserver/api/conditions/Condition.java    |  59 +++++++++-
 .../api/conditions/ConditionType.java              | 124 +++++++++++++++++++--
 .../initializers/ChoiceListInitializer.java        |   5 +-
 .../contextserver/api/goals/GoalReport.java        |   6 +
 .../contextserver/api/query/Aggregate.java         |   3 +
 .../contextserver/api/query/AggregateQuery.java    |  43 +++++++
 .../contextserver/api/query/DateRange.java         |   4 +-
 .../contextserver/api/query/IpRange.java           |   3 +
 .../contextserver/api/query/NumericRange.java      |   3 +
 .../oasis_open/contextserver/api/rules/Rule.java   |  77 +++++++++++++
 .../contextserver/api/segments/Scoring.java        |  28 +++++
 .../contextserver/api/segments/ScoringElement.java |  26 +++++
 .../contextserver/api/segments/Segment.java        |  27 +++++
 .../api/segments/SegmentsAndScores.java            |  20 ++++
 26 files changed, 800 insertions(+), 41 deletions(-)

commit cd9a81463f80d8e8f87e7f4dbbc4c7f0e187b988
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 30 15:50:49 2015 +0100

    Removed test segments and scoring plan

 .../resources/META-INF/cxs/scoring/scoring.json    | 28 -------------------
 .../META-INF/cxs/segments/maleGender.json          | 24 ----------------
 .../resources/META-INF/cxs/segments/youngRich.json | 32 ----------------------
 3 files changed, 84 deletions(-)

commit 06a551f745237a1009bf5a80a406ca9f4dca2a1d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 30 14:53:00 2015 +0100

    QAMF-442  : Removed verbose authentication logs

 package/src/main/resources/etc/org.ops4j.pax.logging.cfg | 1 +
 1 file changed, 1 insertion(+)

commit 1e2ca2f7baec6ce15112230bc66e39b9a17ad42a
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Oct 30 11:22:37 2015 +0100

    More documentation.

 .../org/oasis_open/contextserver/api/Event.java    |   5 +-
 .../contextserver/api/EventProperty.java           |  22 ++-
 .../oasis_open/contextserver/api/EventSource.java  |   3 +
 .../oasis_open/contextserver/api/EventTarget.java  |   3 +
 .../contextserver/api/EventsCollectorRequest.java  |   2 -
 .../org/oasis_open/contextserver/api/Item.java     |   4 +-
 .../org/oasis_open/contextserver/api/Metadata.java |  77 +++++++++-
 .../oasis_open/contextserver/api/MetadataItem.java |   2 +-
 .../oasis_open/contextserver/api/Parameter.java    |   2 +-
 .../oasis_open/contextserver/api/PluginType.java   |  13 ++
 .../org/oasis_open/contextserver/api/Profile.java  |  18 ++-
 .../api/PropertyMergeStrategyExecutor.java         |  13 +-
 .../api/PropertyMergeStrategyType.java             |  15 ++
 .../oasis_open/contextserver/api/PropertyType.java | 165 ++++++++++++++++++++-
 .../org/oasis_open/contextserver/api/Session.java  |  97 +++++++++++-
 .../java/org/oasis_open/contextserver/api/Tag.java |  65 +++++++-
 .../oasis_open/contextserver/api/ValueType.java    |  65 +++++++-
 17 files changed, 547 insertions(+), 24 deletions(-)

commit fb498675d919f7f238538be81c8501fa950798fa
Author: David Griffon <dgriffon@jahia.com>
Date:   Thu Oct 29 15:52:46 2015 +0100

    QAMF-492 : merge on j:nodedame send by the LoginEvent

 plugins/baseplugin/src/main/resources/META-INF/cxs/rules/login.json | 6 ------
 1 file changed, 6 deletions(-)

commit dee4b5805205659c84754904df3cd4b1008fd848
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 28 15:49:15 2015 +0100

    QAMF-479: handle ClassCastException in pastEventESQueryBuilder, when the past event condition have an empty condition

 .../baseplugin/conditions/PastEventConditionESQueryBuilder.java    | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 9e46c3e55a36dbf73d691bbbc2e0b25f366db68b
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 28 15:24:19 2015 +0100

    QAMF-478: handle exception on PropertyConditionESQueryBuilder level

 .../PropertyConditionESQueryBuilder.java           | 32 ++++++++++++++++++++++
 .../contextserver/rest/QueryServiceEndPoint.java   | 26 ++++++++++++++++--
 .../impl/services/QueryServiceImpl.java            | 11 ++------
 3 files changed, 58 insertions(+), 11 deletions(-)

commit e883b737ef9af72352224cb977c5b13c28d09120
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 28 10:13:34 2015 +0100

    QAMF-505 : export profile id

 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java | 3 +++
 1 file changed, 3 insertions(+)

commit c3f0eb137b0fbd39abecd6b7083a1aafaf995459
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Oct 22 15:23:14 2015 +0200

    More documentation.

 .../oasis_open/contextserver/api/ClusterNode.java  | 105 +++++++++++-
 .../contextserver/api/ContextRequest.java          | 186 ++++++++++++++++++++-
 .../contextserver/api/ContextResponse.java         |  88 ++++++++++
 .../oasis_open/contextserver/api/CustomItem.java   |  25 +++
 .../org/oasis_open/contextserver/api/Event.java    | 150 ++++++++++++++++-
 .../contextserver/api/EventsCollectorRequest.java  |  12 +-
 .../api/actions/ActionPostExecutor.java            |   4 +-
 7 files changed, 561 insertions(+), 9 deletions(-)

commit a9234014fc539f8763c70365334f358ed8a9e53a
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Oct 22 09:28:36 2015 +0200

    Added more details, explaining the need for a different branch.

 rest/README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e9fac71a76a3cbd59fbb5e17ce87013827617c08
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Oct 15 11:52:27 2015 +0200

    Added jaxrs-analyzer and miredot plugins to document the REST endpoints. Added @Path annotations so that these tools can process the endpoints.

 rest/pom.xml                                       | 72 ++++++++++++++++++++--
 .../rest/CampaignsServiceEndPoint.java             |  1 +
 .../contextserver/rest/ClusterServiceEndPoint.java |  1 +
 .../rest/DefinitionsServiceEndPoint.java           |  1 +
 .../contextserver/rest/GoalsServiceEndPoint.java   |  1 +
 .../contextserver/rest/ProfileServiceEndPoint.java |  1 +
 .../contextserver/rest/QueryServiceEndPoint.java   |  1 +
 .../contextserver/rest/RulesServiceEndPoint.java   |  1 +
 .../contextserver/rest/ScoringServiceEndPoint.java |  1 +
 .../contextserver/rest/SegmentServiceEndPoint.java |  1 +
 10 files changed, 75 insertions(+), 6 deletions(-)

commit fa7e51ed2985dcd9d7efc963c3dc774e9eba24dd
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Oct 21 21:45:20 2015 +0200

    Added README in rest module to document how to generate the REST API documentation.

 rest/README.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit 45b0fa4eb0c617b445d4f6966296e80f74158f3b
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Oct 21 21:12:32 2015 +0200

    Added maven-metadata-local.xml files to .gitignore.

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit adf0b37382f54a8915c82f200a1478d4226969db
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Oct 21 19:16:32 2015 +0200

    DMF-450: Fix test scoring plan

 .../src/main/resources/META-INF/cxs/scoring/scoring.json       | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 4b949a14da7a657a8690017acce1c81c0df01c7b
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Oct 21 17:23:33 2015 +0200

    More documentation of JAX-RS endpoints.

 .../contextserver/api/ContextRequest.java          |  7 +-
 .../initializers/ChoiceListInitializer.java        |  2 +-
 .../api/conditions/initializers/I18nSupport.java   |  4 +-
 .../contextserver/api/services/QueryService.java   |  3 +
 .../rest/CampaignsServiceEndPoint.java             | 59 +++++++++++++
 .../contextserver/rest/ClusterServiceEndPoint.java | 21 +++++
 .../rest/DefinitionsServiceEndPoint.java           | 98 +++++++++++++++++++++-
 .../contextserver/rest/GoalsServiceEndPoint.java   | 43 ++++++++++
 .../contextserver/rest/LocalizationHelper.java     | 76 ++++++++++++++++-
 .../contextserver/rest/ProfileServiceEndPoint.java |  3 +
 .../contextserver/rest/QueryServiceEndPoint.java   | 45 ++++++++++
 .../contextserver/rest/RESTActionType.java         |  6 +-
 .../contextserver/rest/RESTConditionType.java      |  8 +-
 .../contextserver/rest/RESTParameter.java          |  3 +
 .../org/oasis_open/contextserver/rest/RESTTag.java |  3 +
 .../contextserver/rest/RESTValueType.java          |  3 +
 .../contextserver/rest/RulesServiceEndPoint.java   | 35 ++++++++
 .../contextserver/rest/ScoringServiceEndPoint.java | 47 ++++++++++-
 .../contextserver/rest/SegmentServiceEndPoint.java | 76 ++++++++++++++++-
 19 files changed, 528 insertions(+), 14 deletions(-)

commit 888e3fb86a293c56ea47de6eab1220426b476958
Author: Jahia CI <itorders@jahia.com>
Date:   Wed Oct 21 17:20:43 2015 +0200

    [maven-release-plugin] prepare for next development iteration

 api/pom.xml                                        |  2 +-
 geonames/pom.xml                                   |  4 ++--
 geonames/rest/pom.xml                              |  8 +++----
 geonames/services/pom.xml                          |  8 +++----
 itests/pom.xml                                     |  8 +++----
 kar/pom.xml                                        | 26 +++++++++++-----------
 lists-extension/pom.xml                            |  4 ++--
 lists-extension/rest/pom.xml                       |  8 +++----
 lists-extension/services/pom.xml                   |  8 +++----
 package/pom.xml                                    |  4 ++--
 performance-tests/pom.xml                          |  4 ++--
 persistence-elasticsearch/core/pom.xml             |  6 ++---
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 persistence-spi/pom.xml                            |  4 ++--
 plugins/baseplugin/pom.xml                         |  6 ++---
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/pom.xml                                    |  4 ++--
 plugins/request/pom.xml                            |  2 +-
 pom.xml                                            |  4 ++--
 rest/pom.xml                                       |  6 ++---
 services/pom.xml                                   |  6 ++---
 wab/pom.xml                                        |  6 ++---
 25 files changed, 69 insertions(+), 69 deletions(-)

commit 1bf33e6d2dc7d5621053e134a24648abbecb5349
Author: Jahia CI <itorders@jahia.com>
Date:   Wed Oct 21 17:20:39 2015 +0200

    [maven-release-plugin] prepare release 1_0_0

 api/pom.xml                                        |  5 ++-
 geonames/pom.xml                                   |  8 ++---
 geonames/rest/pom.xml                              | 12 +++----
 geonames/services/pom.xml                          | 12 +++----
 itests/pom.xml                                     | 11 +++----
 kar/pom.xml                                        | 29 ++++++++---------
 lists-extension/pom.xml                            |  8 ++---
 lists-extension/rest/pom.xml                       | 12 +++----
 lists-extension/services/pom.xml                   | 12 +++----
 package/pom.xml                                    |  7 ++--
 performance-tests/pom.xml                          |  7 ++--
 persistence-elasticsearch/core/pom.xml             |  9 +++--
 persistence-elasticsearch/plugins/pom.xml          |  5 ++-
 persistence-elasticsearch/plugins/security/pom.xml |  5 ++-
 persistence-elasticsearch/pom.xml                  |  5 ++-
 persistence-spi/pom.xml                            |  7 ++--
 plugins/baseplugin/pom.xml                         |  9 +++--
 plugins/mail/pom.xml                               |  5 ++-
 plugins/optimization-test/pom.xml                  |  5 ++-
 plugins/pom.xml                                    |  7 ++--
 plugins/request/pom.xml                            |  5 ++-
 pom.xml                                            | 38 +++++++++++-----------
 rest/pom.xml                                       |  9 +++--
 services/pom.xml                                   |  9 +++--
 wab/pom.xml                                        |  9 +++--
 25 files changed, 110 insertions(+), 140 deletions(-)

commit 70e7a7407b3da3ec8937f1229f68df6b77d292f1
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 17:17:50 2015 +0200

    Use ${project.version} for artifact items as they are not processed by maven-release-plugin

 package/pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 0f8e56de4c54aeec78d65691fdfcbf20b924d834
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 17:10:39 2015 +0200

    Use "clean install" as preparation goals

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 8f99cb935137eea206447bb41daa33a59c0c1bfb
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 16:06:08 2015 +0200

    Added SCM info

 pom.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 40a29a3e072d4b660c2bce08c82cd24587987d55
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 15:52:06 2015 +0200

    Use ${project.version} placeholder in feature.xml file instead of explicit version

 kar/src/main/feature/feature.xml | 32 ++++++++++++++++----------------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 771bf8df63dd15352c957000866994f991f502c2
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 15:19:20 2015 +0200

    Removed maven-metadata-local.xml files

 .../src/main/resources/maven-metadata-local.xml      | 20 --------------------
 .../core/src/main/resources/maven-metadata-local.xml | 20 --------------------
 .../src/main/resources/maven-metadata-local.xml      | 20 --------------------
 services/src/main/resources/maven-metadata-local.xml | 20 --------------------
 wab/src/main/resources/maven-metadata-local.xml      | 20 --------------------
 5 files changed, 100 deletions(-)

commit e59005f4a125deae4f6cbd6065406a02cd417139
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 15:16:26 2015 +0200

    Dropped all maven-metadata-local.xml files

 .../src/main/resources/maven-metadata-local.xml    |  4 +--
 .../src/main/resources/maven-metadata-local.xml    | 26 ++------------
 .../src/main/resources/maven-metadata-local.xml    | 42 ----------------------
 .../src/main/resources/maven-metadata-local.xml    | 26 ++------------
 .../src/main/resources/maven-metadata-local.xml    | 26 ++------------
 wab/src/main/resources/maven-metadata-local.xml    | 26 ++------------
 6 files changed, 10 insertions(+), 140 deletions(-)

commit 0acb8ba2bd2646e040dc2406c3e71744c562f5bf
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 15:01:28 2015 +0200

    Updated version from 1.0-SNAPSHOT to 1.0.0-SNAPSHOT

 README.md                                          |  2 +-
 api/pom.xml                                        |  2 +-
 compileDeploy.sh                                   |  2 +-
 geonames/pom.xml                                   |  4 +--
 geonames/rest/pom.xml                              |  8 +++---
 geonames/services/pom.xml                          |  8 +++---
 .../src/main/resources/maven-metadata-local.xml    | 20 ++++++++++++++
 itests/pom.xml                                     |  8 +++---
 kar/pom.xml                                        | 26 +++++++++---------
 kar/src/main/feature/feature.xml                   | 32 +++++++++++-----------
 lists-extension/pom.xml                            |  4 +--
 lists-extension/rest/pom.xml                       |  8 +++---
 lists-extension/services/pom.xml                   |  8 +++---
 package/pom.xml                                    | 12 ++++----
 performance-tests/pom.xml                          |  4 +--
 persistence-elasticsearch/core/pom.xml             |  6 ++--
 .../src/main/resources/maven-metadata-local.xml    |  4 +--
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 .../src/main/resources/maven-metadata-local.xml    |  4 +--
 persistence-spi/pom.xml                            |  4 +--
 plugins/baseplugin/pom.xml                         |  6 ++--
 plugins/hover-event/pom.xml                        |  4 +--
 plugins/mail/pom.xml                               |  2 +-
 plugins/optimization-test/pom.xml                  |  2 +-
 plugins/past-event/pom.xml                         |  6 ++--
 plugins/pom.xml                                    |  4 +--
 plugins/request/pom.xml                            |  2 +-
 .../src/main/resources/maven-metadata-local.xml    |  4 +--
 plugins/tracked-event/pom.xml                      |  6 ++--
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 ++--
 services/pom.xml                                   |  6 ++--
 .../src/main/resources/maven-metadata-local.xml    |  4 +--
 wab/pom.xml                                        |  6 ++--
 wab/src/main/resources/maven-metadata-local.xml    |  4 +--
 37 files changed, 128 insertions(+), 108 deletions(-)

commit a3e35acccc7ec8155c0afcd61d20561a0325dd9f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 14:46:08 2015 +0200

    Use released version of jahia-maven-plugin

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ddc94ca3e2bf4b9f09f7e5a2590197d52519c3f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Oct 21 14:45:43 2015 +0200

    Added maven-release-plugin configuration

 pom.xml | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 131ebd88dbe89bfc1f80fec44c592b7e119b700a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Oct 21 13:59:17 2015 +0200

    DMF-451: Fix scoring service for listing/querying

 .../contextserver/api/services/SegmentService.java |  4 +-
 .../contextserver/rest/ScoringServiceEndPoint.java | 11 +++--
 .../impl/services/SegmentServiceImpl.java          | 56 +++++++++++-----------
 3 files changed, 35 insertions(+), 36 deletions(-)

commit 92be4e63d1af73e0c5dc583ac3b30f82f1da2e5a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 21 11:29:13 2015 +0200

    QAMF-503 : fixed ad disable elasticsearch security plugin

 kar/pom.xml                                        | 5 -----
 kar/src/main/feature/feature.xml                   | 1 -
 persistence-elasticsearch/plugins/security/pom.xml | 2 +-
 3 files changed, 1 insertion(+), 7 deletions(-)

commit e01ca48adb1fa10b24bd6e82ff0f2125c22e9659
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue Oct 20 23:58:22 2015 +0200

    Documented ProfileServiceEndPoint, adding more documentation to other classes at the same time and fixing some issues.

 .../oasis_open/contextserver/api/BatchUpdate.java  |  45 +++++
 .../oasis_open/contextserver/api/PartialList.java  |  54 +++++-
 .../contextserver/api/PersonaSession.java          |   5 +-
 .../contextserver/api/PersonaWithSessions.java     |   3 +
 .../org/oasis_open/contextserver/api/Profile.java  | 100 +++++++++-
 .../org/oasis_open/contextserver/api/Session.java  |   4 +
 .../contextserver/api/TimestampedItem.java         |   8 +
 .../oasis_open/contextserver/api/query/Query.java  |  68 +++++++
 .../contextserver/api/services/EventService.java   |   2 +-
 .../contextserver/api/services/ProfileService.java |  11 +-
 .../contextserver/api/services/SegmentService.java |   8 +-
 .../persistence/spi/PersistenceService.java        |  40 ++--
 .../contextserver/rest/ProfileServiceEndPoint.java | 205 +++++++++++++++++++++
 13 files changed, 516 insertions(+), 37 deletions(-)

commit ad6caa19a8bd108bbd3c3685c20fe4b9c35c2c19
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Oct 19 10:39:43 2015 +0200

    Cosmetic changes in the readme (ElasticSearch -> Elasticsearch)

 README.md | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 7da9625eef339a22dbf66ea0db60ce215c1fd122
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Oct 19 10:13:31 2015 +0200

    Updated links to blog articles for securing Elasticsearch

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4f2b9501fa66680f3a161a56beb81106e1f34913
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Oct 18 10:02:49 2015 +0200

    - Implement property removal method

 api/pom.xml                                         |  1 +
 .../contextserver/api/services/PrivacyService.java  |  2 ++
 privacy-extension/rest/pom.xml                      |  1 +
 .../privacy/rest/PrivacyServiceEndPoint.java        |  7 +++++++
 privacy-extension/services/pom.xml                  |  1 +
 .../privacy/internal/PrivacyServiceImpl.java        | 14 ++++++++++++++
 rest/pom.xml                                        | 21 +++++++++++++++++++++
 7 files changed, 47 insertions(+)

commit 296a258a6ab9e2ee67827528b6528d43d71bed30
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 16 17:55:27 2015 +0200

    QAMF-499 : add configurable cookie domain

 .../org/oasis_open/contextserver/web/ContextServlet.java    | 13 +++++++++----
 .../java/org/oasis_open/contextserver/web/HttpUtils.java    |  5 ++++-
 wab/src/main/resources/OSGI-INF/blueprint/blueprint.xml     |  9 +++++++++
 3 files changed, 22 insertions(+), 5 deletions(-)

commit 230411c9df9d12d32fd17a2ce14b8b6bf6cb8eb4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 16 15:29:21 2015 +0200

    Fixed startup test, avoid confusion for etc directory

 README.md | 75 ++++++++++++++++++++++++++++++++-------------------------------
 1 file changed, 38 insertions(+), 37 deletions(-)

commit 0fc88fdd1fead7ccd7ed610bc08b3cfab0a4d9d2
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Oct 16 15:11:45 2015 +0200

    Added commented out line for zen unicast discovery (discovery.zen.ping.unicast.hosts)

 .../org.oasis_open.contextserver.persistence.elasticsearch.cfg         | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d74b82a639b92328d04754584d4e42e525c871e9
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Oct 15 12:34:24 2015 +0200

    Cosmetic corrections in the readme file

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1c498c0b94d02376e93ab580ece915aca3126373
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Oct 15 12:28:30 2015 +0200

    Included robots.txt file to prevent search boot access to Unomi ( QAMF-486 )

 wab/src/main/webapp/robots.txt | 2 ++
 1 file changed, 2 insertions(+)

commit 53c22842b1ef5fe899b49e153cd3cfaded768a16
Author: David Griffon <dgriffon@jahia.com>
Date:   Tue Oct 13 13:18:02 2015 +0200

    do not store action post executors

 api/src/main/java/org/oasis_open/contextserver/api/Event.java | 1 +
 1 file changed, 1 insertion(+)

commit c0ae89a82157664060e5145738dd27be853471a9
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue Oct 13 11:09:27 2015 +0200

    Call appropriate query method instead of repeating implementation.

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b92173bed12a871ba2523fcf49ddffe3c0c93d56
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue Oct 13 11:07:26 2015 +0200

    Documentation

 .../oasis_open/contextserver/api/ClusterNode.java  |   2 +-
 .../contextserver/api/EventProperty.java           | 111 ++++----
 .../org/oasis_open/contextserver/api/Item.java     |  29 ++-
 .../org/oasis_open/contextserver/api/Metadata.java |  40 +++
 .../oasis_open/contextserver/api/MetadataItem.java |  10 +-
 .../oasis_open/contextserver/api/goals/Goal.java   |  28 +-
 .../contextserver/api/services/ClusterService.java |  17 +-
 .../api/services/DefinitionsService.java           | 133 +++++++++-
 .../api/services/EventListenerService.java         |  18 +-
 .../contextserver/api/services/EventService.java   |  60 ++++-
 .../contextserver/api/services/GoalsService.java   | 104 ++++++++
 .../contextserver/api/services/ProfileService.java | 220 +++++++++++++++-
 .../contextserver/api/services/QueryService.java   |  50 +++-
 .../contextserver/api/services/RulesService.java   |  39 ++-
 .../contextserver/api/services/SegmentService.java | 145 ++++++++++-
 .../persistence/spi/PersistenceService.java        | 290 ++++++++++++++++++++-
 .../initializers/PropertyTypeChoiceListValue.java  |  10 +-
 .../impl/services/DefinitionsServiceImpl.java      |  12 +-
 .../impl/services/ProfileServiceImpl.java          |   6 +-
 .../impl/services/QueryServiceImpl.java            |  26 +-
 20 files changed, 1228 insertions(+), 122 deletions(-)

commit 5e34d4ca87c444babcc45e7e44cb75e175d7df44
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Oct 12 15:37:58 2015 +0200

    Use constant.

 .../java/org/jahia/unomi/geonames/services/GeonamesServiceImpl.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 320bd6e85dbbb5dc85f8bab97645a44443d5612b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 9 11:05:33 2015 +0200

    QAMF-442 : put logging configuration in correct file

 package/src/main/resources/etc/custom.properties   |  2 -
 .../main/resources/etc/org.ops4j.pax.logging.cfg   | 48 ++++++++++++++++++++++
 2 files changed, 48 insertions(+), 2 deletions(-)

commit 928cc1d7d018309f59d5817be829d68fd60baefa
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 9 10:51:45 2015 +0200

    QAMF-473 : don't create profiles if not associated to a session

 .../main/java/org/oasis_open/contextserver/web/ContextServlet.java  | 6 ++++++
 1 file changed, 6 insertions(+)

commit eea724b39da8e3c9bcd5ff9bab90739c306f0795
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 7 16:39:19 2015 +0200

    QAMF-472 : Use XFF header to get client ip through proxy

 .../request/actions/SetRemoteHostInfoAction.java    | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit b7816f39d8fe1bd345867208c2f599bda9ee1e00
Author: David Griffon <dgriffon@jahia.com>
Date:   Fri Sep 25 10:54:40 2015 +0200

    QAMF-467 : use correct tag name for filtering conditions

 .../org/oasis_open/contextserver/impl/services/RulesServiceImpl.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 621dc6243a524299472953a4b98970bb536ad8ea
Author: David Griffon <dgriffon@jahia.com>
Date:   Wed Sep 23 10:19:43 2015 +0200

    QAMF-442 : change log level of cxf to WARN

 package/src/main/resources/etc/custom.properties | 1 +
 1 file changed, 1 insertion(+)

commit 876756ef7ac014bdfd8cfa6b1670d18b291383a7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Sep 21 11:44:49 2015 +0200

    QAMF-283: always try to reimport geonames db if index is empty

 .../unomi/geonames/services/GeonamesServiceImpl.java     | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit c099016e980f9e4c31fe4a1cf9bb85274234bef2
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Sep 21 11:34:47 2015 +0200

    QAMF-447 : enable profile purge, fixed default parameter values, enable logging

 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java  | 6 +++---
 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml        | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 10a579adc9e34899e2f183e3ed5e340c0b92bf7d
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Sep 19 15:22:43 2015 +0200

    - Add anonymizing operation
    - Add simple profile deletion (collected data stays there but profile is emptied)

 .../contextserver/api/services/PrivacyService.java |  2 +-
 buildAndRun.sh                                     | 11 ++++++++
 .../privacy/rest/PrivacyServiceEndPoint.java       | 11 ++++++--
 .../privacy/internal/PrivacyServiceImpl.java       | 31 +++++++++++++++++-----
 4 files changed, 45 insertions(+), 10 deletions(-)

commit b7c8c4666217873c834aeb08ca8198cc8c709c2c
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Sep 18 16:28:50 2015 +0200

    Prepare new anonymizing method and simple profile erasing

 .../contextserver/api/services/PrivacyService.java     |  4 ++++
 .../privacy/rest/PrivacyServiceEndPoint.java           | 15 +++++++++++++--
 .../privacy/internal/PrivacyServiceImpl.java           | 18 ++++++++++++++++++
 3 files changed, 35 insertions(+), 2 deletions(-)

commit 91d10a2d758fd915f3c73da429b6177b08c24103
Author: kevan <kevan@jahia.com>
Date:   Fri Sep 18 15:14:51 2015 +0200

    QAMF-189: fix language detection on advanced searches

 .../src/main/resources/META-INF/cxs/rules/advancedSearchForm.json       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 17d7cc8743916a3fa7f05e48800bf5a794920cf3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Sep 18 13:55:13 2015 +0200

    - Move privacy service into main API since we will need it in the core
    - Start implementing the event filtering and anonymous surfing into the event collector servlet.
    - Implement anonymous surfing and event filtering persistence in the user profile

 .../oasis_open/contextserver/api}/EventInfo.java   | 11 +-----
 .../oasis_open/contextserver/api}/ServerInfo.java  |  2 +-
 .../api/services}/PrivacyService.java              | 10 ++++--
 .../privacy/rest/PrivacyServiceEndPoint.java       | 39 ++++++++++++++++++++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../privacy/internal/PrivacyServiceImpl.java       | 36 +++++++++++++++-----
 .../contextserver/web/EventsCollectorServlet.java  | 29 ++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 ++
 8 files changed, 107 insertions(+), 24 deletions(-)

commit 8a6e4331d37679b183e8e7488f5736725c026c84
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 17 16:34:15 2015 +0200

    Initial commit of new privacy service

 kar/pom.xml                                        |  10 ++
 pom.xml                                            |   1 +
 privacy-extension/pom.xml                          |  22 ++++
 privacy-extension/rest/pom.xml                     |  79 +++++++++++++
 .../privacy/rest/PrivacyServiceEndPoint.java       |  44 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  80 +++++++++++++
 privacy-extension/services/pom.xml                 |  55 +++++++++
 .../contextserver/privacy/EventInfo.java           |  41 +++++++
 .../contextserver/privacy/PrivacyService.java      |  28 +++++
 .../contextserver/privacy/ServerInfo.java          |  53 +++++++++
 .../privacy/internal/PrivacyServiceImpl.java       | 125 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  45 ++++++++
 12 files changed, 583 insertions(+)

commit 7feca8400353f9bf6871106c6fab4a14a000f317
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Sep 16 16:31:30 2015 +0200

    QAMF-149 :  moved mapping creation at index creation time to avoid bad invalid tokenization

 .../ElasticSearchPersistenceServiceImpl.java       | 46 +++++++++++++---------
 1 file changed, 27 insertions(+), 19 deletions(-)

commit 0871e5dd8afbb3f71b1673bbf3a439e0d24d3c2c
Author: kevan <kevan@jahia.com>
Date:   Tue Sep 8 18:11:49 2015 +0200

    QAMF-420: fix rule of campaign entry condition, when the campaign type change, also remove strange field display in campaign edition form added by QAMF-329

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 57c5df48d5cab320a9d2e13b46cd6f9342c723e6
Author: kevan <kevan@jahia.com>
Date:   Tue Sep 8 17:47:35 2015 +0200

    QAMF-419: remove entry condition rule of a campaign when the campaign is deleted

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java     | 1 +
 1 file changed, 1 insertion(+)

commit 773ad22b02e0dcd4b3828b9be6c8ba7f66b7b494
Author: kevan <kevan@jahia.com>
Date:   Mon Sep 7 14:28:54 2015 +0200

    QAMF-278: fix pastEventcondition evaluator that doesn't do the same as the query builder, return false if count of match == 0

 .../plugins/baseplugin/conditions/PastEventConditionEvaluator.java     | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 8772611b0458b86faafd37bcd597905cae5e21c1
Author: kevan <kevan@jahia.com>
Date:   Mon Sep 7 10:16:57 2015 +0200

    QAMF-314: avoid event to be send when it's a persona that load the context

 .../java/org/oasis_open/contextserver/web/ContextServlet.java     | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 53907430f0b47aac0b59efcb8d3cdcd27b1b40ef
Author: kevan <kevan@jahia.com>
Date:   Fri Sep 4 18:07:30 2015 +0200

    QAMF-301: fix overides on persona (simplify)

 .../contextserver/web/ContextServlet.java          | 45 +++-------------------
 1 file changed, 6 insertions(+), 39 deletions(-)

commit 5780e728bf56c1880838ca227a95015f99dfc7a3
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Sep 3 15:15:10 2015 +0200

    QAMF-401: Added optional error callback to collectEvent methods.

 wab/src/main/resources/javascript/base.js | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit ce4c29f092743686b7daf5614f356bc0cbe8e677
Author: david <dgriffon@jahia.com>
Date:   Wed Sep 2 16:34:49 2015 +0200

    QAMF-272 : fix merge profile issue.
    Add the possibility to create callbacks to Actions that will be processed at the end of all actions of an event.
    Use it to put all merge processing in the merge action

 .../org/oasis_open/contextserver/api/Event.java    |  13 ++
 .../api/actions/ActionPostExecutor.java            |  30 +++++
 .../contextserver/api/services/ProfileService.java |   7 +-
 .../actions/MergeProfilesOnPropertyAction.java     | 127 ++++++++++++++++++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   3 +
 .../impl/services/EventServiceImpl.java            |  11 +-
 .../impl/services/ProfileServiceImpl.java          | 133 ++++++---------------
 .../contextserver/web/EventsCollectorServlet.java  |   5 +
 8 files changed, 214 insertions(+), 115 deletions(-)

commit 9cb93113a3f720d7255c49b91aa16ef1ae9c7858
Author: kevan <kevan@jahia.com>
Date:   Tue Sep 1 11:53:05 2015 +0200

    QAMF-278: NPE in past event condition eval

 .../plugins/baseplugin/conditions/PastEventConditionEvaluator.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 30e29d84f06620d57ab1213d1753ab065b16f1c9
Author: kevan <kevan@jahia.com>
Date:   Mon Aug 31 15:12:55 2015 +0200

    QAMF-353: interests case insensitive

 .../resources/META-INF/cxs/conditions/profileInterestCondition.json     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e74996f486bd896a89bc971dbbedf592c8d73c9e
Merge: d7589220 4406925d
Author: tdraier <gej4quec>
Date:   Mon Aug 31 14:22:01 2015 +0200

    Merge remote-tracking branch 'origin/master'

commit d7589220ebc93dd694836a22382b58a4fdb60f86
Author: tdraier <gej4quec>
Date:   Mon Aug 31 14:21:45 2015 +0200

    Updated cluster documentation

 README.md | 136 ++++++++++++++++++++++++--------------------------------------
 1 file changed, 53 insertions(+), 83 deletions(-)

commit 4406925dccda584f5f9ef5129a38966b6e9f8525
Author: kevan <kevan@jahia.com>
Date:   Mon Aug 31 14:18:31 2015 +0200

    QAMF-396: fix geoLoc condition by point map issues

 .../geonames/services/GeonamesServiceImpl.java     |  5 +--
 ...ationByPointSessionConditionESQueryBuilder.java | 37 ++++++++++++++--------
 ...eoLocationByPointSessionConditionEvaluator.java | 34 +++++++++++---------
 .../geoLocationByPointSessionCondition.json        | 23 +++++++++++---
 4 files changed, 64 insertions(+), 35 deletions(-)

commit d200c052140c45dedb49df42939c02ff4d050c6e
Author: david <dgriffon@jahia.com>
Date:   Mon Aug 31 14:17:25 2015 +0200

    QAMF-301 : persona - use override values only instead of merging with current profile

 .../main/java/org/oasis_open/contextserver/web/ContextServlet.java  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 502e6036da10f37a37179a1aaff3144d8b378d75
Author: david <dgriffon@jahia.com>
Date:   Fri Aug 28 15:06:29 2015 +0200

    QAMF-316 : merge ldap users profiles

 plugins/baseplugin/src/main/resources/META-INF/cxs/rules/login.json | 6 ++++++
 1 file changed, 6 insertions(+)

commit 38861fdead8376713684334be5c889fdc3c0d079
Author: david <dgriffon@jahia.com>
Date:   Fri Aug 28 11:55:45 2015 +0200

    fix npe when a custom property type was created

 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3fa2d09f673430b79bf42038e5e79961ee7c8231
Author: kevan <kevan@jahia.com>
Date:   Fri Aug 28 11:04:46 2015 +0200

    QAMF-303: fix goal match condition to be on profile only

 .../src/main/resources/META-INF/cxs/conditions/goalMatchCondition.json  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f40e0512e500569f1926f0900776deb4d151a96
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Aug 27 14:10:36 2015 +0200

    Introduced ValueExtractor to avoid searching the String value potentially several times.

 .../impl/actions/ActionExecutorDispatcher.java     | 111 ++++++++++++++-------
 1 file changed, 74 insertions(+), 37 deletions(-)

commit d0ba5aea678b6f43344947d3646ba5469eb4a54e
Author: david <dgriffon@jahia.com>
Date:   Wed Aug 26 14:03:19 2015 +0200

    QAMF-272 : default profile merge strategy now replace all properties values instead of add only missing ones

 .../impl/mergers/DefaultPropertyMergeStrategyExecutor.java           | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 8fc79aa63e9d5a3bb6b4b8396a01053863e5e248
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Aug 24 17:57:47 2015 +0200

    QAMF-325: Added rule for advancedSearchForm so that we can properly record searches on the advanced search form.

 .../META-INF/cxs/rules/advancedSearchForm.json     | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 7c23a940f19bcba2851ed7e47c14f0058427426f
Author: david <dgriffon@jahia.com>
Date:   Mon Aug 24 17:57:16 2015 +0200

    QAMF-345 : fix display of session country and city

 .../contextserver/plugins/request/actions/SetRemoteHostInfoAction.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f605af95b68cd5a9c573a362f4f5b8a7993bd00d
Author: kevan <kevan@jahia.com>
Date:   Fri Aug 21 17:02:50 2015 +0200

    QAMF-360: delete unused test form mapping in cxs

 .../META-INF/cxs/rules/formMappingTest.json        | 57 ----------------------
 1 file changed, 57 deletions(-)

commit 45421a10e1f1c7d83256be474b37251214626905
Author: david <dgriffon@jahia.com>
Date:   Fri Aug 21 16:17:44 2015 +0200

    QAMF-354 : add more information when date cannot be parsed

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java   | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 8dfec0a8014e1a7aec5009bfde40c1fbcd1bd254
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Aug 21 13:48:18 2015 +0200

    Adjusted performance scenarios to be up to date with latest changes ( DMF-434 )

 .../resources/bodies/admin/campaigns/events.json   | 29 ++++++++++++++++
 .../resources/bodies/admin/campaigns/events2.json  | 40 ++++++++++++++++++++++
 .../src/test/scala/unomi/AdminScenario.scala       | 30 ++++++++++------
 .../src/test/scala/unomi/AdminSimulation.scala     |  2 +-
 .../src/test/scala/unomi/UserScenario.scala        |  9 +++--
 .../src/test/scala/unomi/UserSimulation.scala      |  2 ++
 6 files changed, 98 insertions(+), 14 deletions(-)

commit 14031b5ceed96c0e2efcde2c668d3fd5637a6230
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Aug 21 12:13:52 2015 +0200

    Schedule task for loading property types each 5 seconds

 .../impl/services/ProfileServiceImpl.java          | 40 ++++++++++++++++------
 1 file changed, 29 insertions(+), 11 deletions(-)

commit 320a9915a5503bda9b77e104c0cbb763562dd03b
Author: david <dgriffon@jahia.com>
Date:   Fri Aug 21 10:47:28 2015 +0200

    QAMF-53 : remove cdi as it is not used anymore

 README.md                    | 2 --
 geonames/rest/pom.xml        | 7 -------
 lists-extension/rest/pom.xml | 7 -------
 rest/pom.xml                 | 6 +++---
 wab/pom.xml                  | 7 -------
 5 files changed, 3 insertions(+), 26 deletions(-)

commit 103165fa83f74b21de263e1839e759268ddaa361
Author: kevan <kevan@jahia.com>
Date:   Wed Aug 19 15:31:50 2015 +0200

    QAMF-312, QAMF-321, fix priority and fallback variant for perso, and remove persona:true property from persona

 services/src/main/resources/META-INF/cxs/personas/googleBot.json    | 3 +--
 services/src/main/resources/META-INF/cxs/personas/nonUsVisitor.json | 3 +--
 services/src/main/resources/META-INF/cxs/personas/usVisitor.json    | 3 +--
 3 files changed, 3 insertions(+), 6 deletions(-)

commit eadd54993a77483c9bab3d02a392195d53f2b0ce
Author: kevan <kevan@jahia.com>
Date:   Wed Aug 19 11:05:05 2015 +0200

    QAMF-317: fix "less than or equal" operator

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d540776b4085b8598d700d98036368d4c58201e7
Author: fabrice aissah <faissah@jahia.com>
Date:   Tue Aug 18 14:51:26 2015 -0400

    document geonames import

 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit fb23d740aae9c9c31e757ef4a7504036a4bd653e
Author: kevan <kevan@jahia.com>
Date:   Tue Aug 18 13:55:40 2015 +0200

    QAMF-319: fix bad parameter values in condition, broke the personalization in case of between operator on a profile property

 .../baseplugin/conditions/PropertyConditionEvaluator.java      | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 6d3ab0fd2793372facda744066d5cef15346d748
Author: kevan <kevan@jahia.com>
Date:   Mon Aug 17 11:06:14 2015 +0200

    log when geonames service endpoint start

 .../src/main/java/org/jahia/unomi/geonames/rest/GeonamesEndPoint.java | 4 ++++
 1 file changed, 4 insertions(+)

commit 74b44c8f4de34f7edbd824c5d9e8ca0711dac669
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Aug 17 10:55:42 2015 +0200

    Fixed improper parent reference.

 geonames/rest/pom.xml     | 2 +-
 geonames/services/pom.xml | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit b5a22f4a4d3debc2c71afcf64268f8ffcbb35b34
Author: kevan <kevan@jahia.com>
Date:   Mon Aug 17 10:28:51 2015 +0200

    QAMF-283: add a boolean to force import geonames in .cfg

 .../unomi/geonames/services/GeonamesServiceImpl.java   | 18 ++++++++++++++----
 .../main/resources/OSGI-INF/blueprint/blueprint.xml    |  3 ++-
 .../org.oasis_open.contextserver.geonames.cfg          |  1 +
 .../ElasticSearchPersistenceServiceImpl.java           | 12 ++++++++++++
 .../persistence/spi/PersistenceService.java            |  2 ++
 5 files changed, 31 insertions(+), 5 deletions(-)

commit 71f577d1524514f7a209d4cd3599f952fd2b9121
Author: kevan <kevan@jahia.com>
Date:   Fri Aug 14 12:13:22 2015 +0200

    QAMF-284: create a persona session when persona is new, avoid index out of bound exception in persona panel

 .../contextserver/impl/services/ProfileServiceImpl.java          | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit f2e810bd7b5e6150c08d6e5adbffd673c35d80a2
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Aug 13 13:18:17 2015 +0200

    Upgrade Elasticsearch to 1.6.2 to resolve issue with shard corruption

 persistence-elasticsearch/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cef685a5dfb2dfd688ba4bd654f1f89787d1fb2
Author: kevan <kevan@jahia.com>
Date:   Tue Aug 11 18:29:53 2015 +0200

    QAMF-271: re add age property, but evaluate it dynamically when birthdate is on profile, and profile is updated

 kar/pom.xml                                        |  5 ++++
 kar/src/main/feature/feature.xml                   |  1 +
 plugins/baseplugin/pom.xml                         |  6 +++++
 .../actions/EvaluateProfileAgeAction.java          | 27 ++++++++++++++++++++++
 .../cxs/actions/evaluateProfileAgeAction.json      |  7 ++++++
 .../META-INF/cxs/rules/evaluateProfileAge.json     | 23 ++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++++
 .../cxs/properties/profiles/personal/age.json      | 19 +++++++++++++++
 8 files changed, 95 insertions(+)

commit b10aaa52ad2293172557f5899f3d79a2b84a0539
Author: kevan <kevan@jahia.com>
Date:   Tue Aug 11 12:09:51 2015 +0200

    add end point in geoname service to be able to get cities no matter witch code we have "country, adm1 or adm2"

 .../unomi/geonames/rest/GeonamesEndPoint.java      | 12 +++++++
 .../unomi/geonames/services/GeonamesService.java   |  2 ++
 .../geonames/services/GeonamesServiceImpl.java     | 37 ++++++++++++----------
 3 files changed, 35 insertions(+), 16 deletions(-)

commit 8cca3740b795cc954fcdf3463227b11e2d115337
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 7 16:47:28 2015 +0200

    QAMF-261 , QAMF-262 : use bundle class loader to run mvel optimizations

 .../ElasticSearchPersistenceServiceImpl.java              | 15 ++++++++-------
 .../elasticsearch/conditions/ConditionContextHelper.java  |  6 +++++-
 .../impl/actions/ActionExecutorDispatcher.java            |  6 +++++-
 3 files changed, 18 insertions(+), 9 deletions(-)

commit 6f96c6a230286271ce7412b449faf9ffcb11e11f
Author: kevan <kevan@jahia.com>
Date:   Fri Aug 7 14:42:59 2015 +0200

    QAMF-203: fix past event condition eval that doesn't do the same as the query builder, causing issue when updating profile, some time segment was removed from profile just updated

 .../plugins/baseplugin/conditions/PastEventConditionEvaluator.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 874033562e1ab43d6ae05d339b02cc271f526118
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 7 11:48:15 2015 +0200

    QAMF-260 : avoid exception on non-recognized ips

 .../request/actions/SetRemoteHostInfoAction.java   | 25 +++++++++++++++-------
 1 file changed, 17 insertions(+), 8 deletions(-)

commit ca3d8fa1fbc9e84bac30bf4550f83dbdb666493e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 7 11:32:20 2015 +0200

    Update README documentation for context server : added geonames database installation instructions

 README.md | 26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit d85c9cae6b61d367728fae863cd88b1e053c953b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 7 10:50:42 2015 +0200

    return biggest city if capital not set

 .../org/jahia/unomi/geonames/services/GeonamesServiceImpl.java    | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit dd1d91180a1586bbc044f9056b31271818b23f8f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 6 16:40:16 2015 +0200

    Fixed between operator with dates

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java | 8 +++-----
 1 file changed, 3 insertions(+), 5 deletions(-)

commit ed273ee2450c58ee26b7c09400e3278abbc17a7b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 6 15:19:02 2015 +0200

    fixed names for non recognized countries

 .../src/main/java/org/jahia/unomi/geonames/rest/GeonamesEndPoint.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98e2ffa21ffedeb903b6d2ad881f6887ddad224e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 6 14:20:39 2015 +0200

    Avoid exception for countries without capital

 .../org/jahia/unomi/geonames/services/GeonamesServiceImpl.java     | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 442e8b65f081785354b89cad562ba950c18ef74d
Author: rizak <rizak.ahmed@gmail.com>
Date:   Wed Aug 5 15:39:20 2015 +0200

    Fix cast error

 .../java/org/jahia/unomi/geonames/services/GeonamesServiceImpl.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 66c4561726c0afd5378beeca23a9dba0b26657a5
Author: kevan <kevan@jahia.com>
Date:   Wed Aug 5 15:32:04 2015 +0200

    fix genonames and static list mappings

 .../META-INF/cxs/mappings/geonameEntry.json        | 24 +++++++++++-----------
 .../resources/META-INF/cxs/mappings/userList.json  |  2 +-
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 329ee945cef43123085980ca8edbc17791614413
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 5 14:41:56 2015 +0200

    QAMF-142 : handle lowercase/accents comparisons in evaluator

 .../conditions/ConditionContextHelper.java         | 37 ++++++++++++++++++----
 .../PropertyConditionESQueryBuilder.java           | 18 ++---------
 .../conditions/PropertyConditionEvaluator.java     | 26 ++++++++++-----
 3 files changed, 50 insertions(+), 31 deletions(-)

commit 993ddbb01463a28de2881b33739a427e684ceacf
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 5 12:13:48 2015 +0200

    QAMF-142 : index strings with ascii folding filter

 .../ElasticSearchPersistenceServiceImpl.java       | 47 +++++++++++++++++-----
 .../conditions/ConditionContextHelper.java         | 15 +++++++
 .../resources/META-INF/cxs/mappings/campaign.json  |  2 +-
 .../META-INF/cxs/mappings/campaignevent.json       |  2 +-
 .../resources/META-INF/cxs/mappings/event.json     |  2 +-
 .../main/resources/META-INF/cxs/mappings/goal.json |  2 +-
 .../resources/META-INF/cxs/mappings/persona.json   |  2 +-
 .../META-INF/cxs/mappings/personaSession.json      |  2 +-
 .../resources/META-INF/cxs/mappings/profile.json   |  2 +-
 .../META-INF/cxs/mappings/propertyType.json        |  2 +-
 .../main/resources/META-INF/cxs/mappings/rule.json |  2 +-
 .../resources/META-INF/cxs/mappings/segment.json   |  2 +-
 .../resources/META-INF/cxs/mappings/session.json   |  2 +-
 .../PropertyConditionESQueryBuilder.java           | 17 ++++++++
 14 files changed, 79 insertions(+), 22 deletions(-)

commit 8a4a179cfa626828191a49c38a7e0657368914c6
Author: kevan <kevan@jahia.com>
Date:   Tue Aug 4 18:56:55 2015 +0200

    QAMF-53: replace CID Injection by blueprint in context wab, causing issue when services are restarted, context servlet still hold old reference to destroyed services instances

 .../contextserver/web/ContextServlet.java          | 35 ++++++-------
 .../contextserver/web/EventsCollectorServlet.java  | 21 +++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 58 ++++++++++++++++++++++
 .../WEB-INF => resources}/javascript/base.js       |  0
 .../javascript/impersonateBase.js                  |  0
 5 files changed, 81 insertions(+), 33 deletions(-)

commit 88e21d6a0f9e7762f69a8d62a4fef366d5f6b850
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 15:36:47 2015 +0200

    Fixed evaluation of geolocation conditions

 ...ocationByPointSessionConditionESQueryBuilder.java | 20 ++++++++------------
 .../GeoLocationByPointSessionConditionEvaluator.java | 10 +++++-----
 2 files changed, 13 insertions(+), 17 deletions(-)

commit 52765c82d470b9d96fb38b93cf46577158aec9d2
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 14:56:11 2015 +0200

    Added support for geo bounding box

 ...LocationByPointSessionConditionESQueryBuilder.java | 19 +++++++++++++++++--
 .../GeoLocationByPointSessionConditionEvaluator.java  | 18 +++++++++++++++---
 .../geoLocationByPointSessionCondition.json           | 16 +++++++++++++---
 3 files changed, 45 insertions(+), 8 deletions(-)

commit d113741bae23267ce4183941fcd76147dc2d1b5e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 14:12:41 2015 +0200

    Added method to get capitals

 .../unomi/geonames/rest/GeonamesEndPoint.java      |  7 ++++
 .../unomi/geonames/services/GeonamesService.java   |  2 ++
 .../geonames/services/GeonamesServiceImpl.java     | 41 ++++++++++++++++++++--
 3 files changed, 48 insertions(+), 2 deletions(-)

commit f76260f8fcb2eb3f0dfd0ec93f50a8c9a1bed170
Author: rizak <rizak.ahmed@gmail.com>
Date:   Tue Aug 4 13:55:58 2015 +0200

    Update session properties name for personas

 services/src/main/resources/META-INF/cxs/personas/googleBot.json  | 6 +++---
 .../src/main/resources/META-INF/cxs/personas/nonUsVisitor.json    | 8 ++++----
 services/src/main/resources/META-INF/cxs/personas/usVisitor.json  | 6 +++---
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 5d1d0df698639c19acf57ccca18f855c9fe497bf
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 13:10:32 2015 +0200

    Removed historical political entities from country list

 .../main/java/org/jahia/unomi/geonames/services/GeonamesService.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8673ed91a0f2e8237e69558e65eba302c5c45e45
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 10:19:59 2015 +0200

    Fixed configuration file

 geonames/services/pom.xml                          | 25 ++++++++++++++++++++++
 ...s => org.oasis_open.contextserver.geonames.cfg} |  0
 kar/src/main/feature/feature.xml                   |  1 +
 3 files changed, 26 insertions(+)

commit b4214b7cf6ab533824f37166bb5f6eba0fb807f0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 10:05:14 2015 +0200

    Added geonames to pom.xml

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7ce3d426ae1327ec9084207ee3a48d4ac747f0a7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 4 09:59:14 2015 +0200

    Use city id for condition

 .../resources/META-INF/cxs/conditions/geoLocationSessionCondition.json  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11afd67b279f0c5c889d730f8defdfcbf8187a04
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 3 18:48:22 2015 +0200

    Added geonames service

 geonames/pom.xml                                   |  22 ++
 geonames/rest/pom.xml                              |  86 ++++++++
 .../unomi/geonames/rest/GeonamesEndPoint.java      |  71 +++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  80 ++++++++
 geonames/services/pom.xml                          |  87 ++++++++
 .../unomi/geonames/services/GeonameEntry.java      | 199 ++++++++++++++++++
 .../unomi/geonames/services/GeonamesService.java   |  24 +++
 .../geonames/services/GeonamesServiceImpl.java     | 225 +++++++++++++++++++++
 .../META-INF/cxs/mappings/geonameEntry.json        |  76 +++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  51 +++++
 ...rg.oasis_open.contextserver.geonames.properties |   1 +
 kar/pom.xml                                        |  10 +
 kar/src/main/feature/feature.xml                   |   2 +
 .../ElasticSearchPersistenceServiceImpl.java       | 167 +++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   5 +
 .../persistence/spi/PersistenceService.java        |   8 +-
 .../conditions/geoLocationSessionCondition.json    |   8 +-
 .../request/actions/SetRemoteHostInfoAction.java   |  64 +-----
 18 files changed, 1061 insertions(+), 125 deletions(-)

commit 540dd400a22dfdad9bf46814d810fde06c9d58b7
Author: david <dgriffon@jahia.com>
Date:   Fri Jul 31 11:58:39 2015 +0200

    QAMF-258 : create the mappings in the proper index

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java          | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit ff613e439ec300d6929e663baacf573465f15a1b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jul 30 19:20:19 2015 +0200

    Set all location info from local db

 .../plugins/request/actions/SetRemoteHostInfoAction.java   | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 7adc4772bbcf1038640c7501b3836683c2609bac
Author: clarableue <clara.gdef@gmail.com>
Date:   Thu Jul 30 18:28:42 2015 +0200

    geo location by country / city  / administrative division

 .../conditions/geoLocationSessionCondition.json    | 67 ++++++++++++++++------
 .../request/actions/SetRemoteHostInfoAction.java   | 38 ++++++++----
 .../geographic/{city.json => sessionCity.json}     |  0
 .../{countryCode.json => sessionCountryCode.json}  |  2 +-
 .../{countryName.json => sessionCountryName.json}  |  0
 5 files changed, 79 insertions(+), 28 deletions(-)

commit c6b18d442804dc9a15bc1ec2407c1b443bfe71db
Author: kevan <kevan@jahia.com>
Date:   Thu Jul 30 11:36:01 2015 +0200

    QAMF-256: disable cluster automatic discovery by default, add some conf property in persistence.elasticsearch.cfg

 .../ElasticSearchPersistenceServiceImpl.java       | 28 ++++++++++++++++++++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 ++++++++---
 ...pen.contextserver.persistence.elasticsearch.cfg |  6 ++++-
 3 files changed, 42 insertions(+), 6 deletions(-)

commit ce39f508fb51348b6e0f684b9ec8d1207c7db169
Author: david <dgriffon@jahia.com>
Date:   Wed Jul 29 17:52:19 2015 +0200

    QAMF-135 : store the birth date instead of the age

 .../oasis_open/contextserver/api/PropertyType.java | 33 ++++++++++---
 .../contextserver/api/query/Aggregate.java         | 20 +++++---
 .../query/{GenericRange.java => DateRange.java}    |  5 +-
 .../contextserver/api/query/IpRange.java           | 56 ++++++++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 24 ++++++----
 .../spi/aggregate/DateRangeAggregate.java          | 20 ++++----
 .../spi/aggregate/IpRangeAggregate.java            | 44 +++++++++++++++++
 .../contextserver/rest/LocalizationHelper.java     | 11 +++--
 .../impl/services/GoalsServiceImpl.java            |  8 ++--
 .../impl/services/QueryServiceImpl.java            | 13 +++--
 .../cxs/properties/profiles/personal/age.json      | 16 -------
 .../properties/profiles/personal/birthDate.json    | 19 ++++++++
 .../cxs/properties/profiles/personal/kids.json     |  2 +-
 .../profiles/personal/maritalStatus.json           |  2 +-
 .../cxs/properties/profiles/system/nbOfVisits.json |  2 +-
 15 files changed, 207 insertions(+), 68 deletions(-)

commit 0c4bb26eb75cb10a7173b9eccbe7f80e17932038
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Jul 29 10:42:55 2015 +0200

    Fixed session loading

 .../java/org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7daeef4a5d814abb8d3f5670ed9e773c85a2857d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jul 28 14:00:47 2015 +0200

    QAMF-250 : fixed mapping / index creation

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java          | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit cadbd2351e263c6f5f607ffd5f567044e027e993
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jul 28 11:25:19 2015 +0200

    QAMF-250 : fixed mapping / index creation

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ce015ce1a47cb892610ceadef6f218948465f9f0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jul 27 14:51:26 2015 +0200

    QAMF-156: removed hover event

 kar/pom.xml     | 5 -----
 plugins/pom.xml | 1 -
 2 files changed, 6 deletions(-)

commit e6a6b16a006e4f6504aefcf5350e14a93cc0af4a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jul 27 11:26:47 2015 +0200

    DMF-409 : disable automatic index creation to correctly put mappings when required

 persistence-elasticsearch/core/src/main/resources/elasticsearch.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d71a2d5cc313257205600feb935d6d631ef2ec7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jul 24 17:33:33 2015 +0200

    DMF-409 : optimization on cluster and indexation . added configuration for shards/replicas on monthly indices. added "data" info in cluster node info

 .../oasis_open/contextserver/api/ClusterNode.java  |   9 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 .../ElasticSearchPersistenceServiceImpl.java       | 114 +++++++++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   6 +-
 ...pen.contextserver.persistence.elasticsearch.cfg |   2 +
 .../request/actions/SetRemoteHostInfoAction.java   |   2 +-
 .../impl/services/ProfileServiceImpl.java          |  40 +++++++-
 .../impl/services/RulesServiceImpl.java            |   2 +-
 8 files changed, 137 insertions(+), 39 deletions(-)

commit 341cd20ba6605896185d5136fcc78a82d5d62a99
Author: kevan <kevan@jahia.com>
Date:   Thu Jul 23 15:49:36 2015 +0200

    QAMF-236: warning when segment is used by another in edition view

 .../contextserver/api/services/SegmentService.java |  2 ++
 .../contextserver/rest/SegmentServiceEndPoint.java |  6 ++++++
 .../impl/services/SegmentServiceImpl.java          | 24 ++++++++++++++--------
 3 files changed, 24 insertions(+), 8 deletions(-)

commit 1868d46fc48613a84181de13024e26e5eb3aeadc
Author: kevan <kevan@jahia.com>
Date:   Thu Jul 23 11:15:59 2015 +0200

    fix NPEs in cxs

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java   | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit f8360268a7990cf2fcc592c18123c9bf80b609f7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jul 23 10:36:29 2015 +0200

    Never use external service if local database exists

 .../contextserver/plugins/request/actions/SetRemoteHostInfoAction.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 80db9664e4534d96ecabb408a91513ed9d3a4357
Author: kevan <kevan@jahia.com>
Date:   Fri Jul 17 15:33:11 2015 +0200

    QAMF-189: fix languages for internal searches

 plugins/baseplugin/src/main/resources/META-INF/cxs/rules/searchForm.json | 1 +
 1 file changed, 1 insertion(+)

commit dba9a9d080137fbcf90db2d58bec39359a5b5d40
Author: kevan <kevan@jahia.com>
Date:   Fri Jul 17 11:28:43 2015 +0200

    QAMF-167, QAMF-140: add new operator for dates (is same day, is not same day) remove this one for dates (equals, is in, is not in)

 .../conditions/PropertyConditionESQueryBuilder.java          | 11 +++++++++++
 .../baseplugin/conditions/PropertyConditionEvaluator.java    |  7 +++++++
 .../ComparisonOperatorChoiceListInitializer.java             | 12 ++++++++----
 3 files changed, 26 insertions(+), 4 deletions(-)

commit 53920f90f433789f0256f331eafd37a27f0aefe4
Author: david <dgriffon@jahia.com>
Date:   Wed Jul 15 18:10:45 2015 +0200

    QAMF-155 : put video picker in condition builder

 .../cxs/conditions/videoViewEventCondition.json    | 81 +++++++++++++---------
 1 file changed, 47 insertions(+), 34 deletions(-)

commit 19e83df5b185c9189a790d6422afd4cfce7daef5
Author: david <dgriffon@jahia.com>
Date:   Wed Jul 15 16:27:31 2015 +0200

    QAMF-153 : add form picker in condition builder

 .../META-INF/cxs/conditions/formEventCondition.json         | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit c98cc35d635eec8cf3cfaf0c81e4dbbc4fdab56e
Author: kevan <kevan@jahia.com>
Date:   Mon Jul 13 15:00:44 2015 +0200

    QAMF-175: fix issue with property of type integer in form mapping they was stored as string

 .../contextserver/api/services/ProfileService.java       |  2 +-
 .../contextserver/persistence/spi/PropertyHelper.java    | 13 +++++++++++++
 .../plugins/baseplugin/actions/SetPropertyAction.java    |  6 ++++++
 .../conditions/PropertyConditionEvaluator.java           | 16 ++--------------
 .../META-INF/cxs/actions/setPropertyAction.json          | 11 ++++++++---
 .../contextserver/impl/services/ProfileServiceImpl.java  |  2 +-
 6 files changed, 31 insertions(+), 19 deletions(-)

commit 316f337422dcc7de4ccbd7f1a3a8ad908e863522
Author: kevan <kevan@jahia.com>
Date:   Thu Jul 9 15:59:21 2015 +0200

    rename vars

 .../contextserver/impl/services/RulesServiceImpl.java  | 15 +++++++--------
 .../impl/services/SegmentServiceImpl.java              | 18 ++++++++----------
 2 files changed, 15 insertions(+), 18 deletions(-)

commit 54390844655638ec4d2b21c4768ae1c8b1d63a1e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jul 9 14:13:13 2015 +0200

    Fixed dateHint parameter, use yyyy-MM format

 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java    | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 0bd7f89f2cfc05684d52f4b1c114fd64f4d62b2c
Author: david <dgriffon@jahia.com>
Date:   Wed Jul 8 11:42:37 2015 +0200

    QAMF-129 : cancel properly timers when bundle stopped

 .../contextserver/impl/services/RulesServiceImpl.java     | 14 ++++++++++++--
 .../contextserver/impl/services/SegmentServiceImpl.java   | 15 ++++++++++++---
 2 files changed, 24 insertions(+), 5 deletions(-)

commit 73645371a0286361085edf2206c76df71b0f80dd
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Jul 8 10:46:59 2015 +0200

    Avoid NPE.

 .../contextserver/impl/services/GoalsServiceImpl.java      | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 5dda063526b3e1c4c3afc40410261aba5c35c3d7
Author: kevan <kevan@jahia.com>
Date:   Tue Jul 7 18:35:27 2015 +0200

    QAMF-9: fix NPE from previous commit

 .../impl/services/SegmentServiceImpl.java          | 36 +++++++++++++---------
 1 file changed, 22 insertions(+), 14 deletions(-)

commit e2459ba400ccf87a36e949fbf3716d8540de2686
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Jul 3 15:57:38 2015 +0200

    Use Collections.singletonList instead of Arrays.asList when we only have one element.

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11cef4e36aedfe6fd2c8945ba217c8419c6ddc27
Author: kevan <kevan@jahia.com>
Date:   Tue Jul 7 18:09:38 2015 +0200

    QAMF-9: simplify segment deletion, and disable segment that do not have condition, also remove uncessary boolean condition

 .../impl/services/SegmentServiceImpl.java          | 151 +++++++++++----------
 1 file changed, 81 insertions(+), 70 deletions(-)

commit f5a3ab5562632a53cb3144cbe30e82275aa41cdb
Author: kevan <kevan@jahia.com>
Date:   Fri Jul 3 16:10:21 2015 +0200

    DMF-421, QAMF-78: fix / improve events table in campaign dashboard

 .../contextserver/api/services/GoalsService.java       |  2 +-
 .../contextserver/rest/CampaignsServiceEndPoint.java   | 12 ++++++------
 .../contextserver/impl/services/GoalsServiceImpl.java  | 18 ++++++------------
 3 files changed, 13 insertions(+), 19 deletions(-)

commit 5c8c7a3222dc068001560e97a4c7a4d26f7836da
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Jul 3 15:51:45 2015 +0200

    Ignore OgnlException when evaluating nested properties and the intermediate value in the path is null

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit c9d74379c62ec16be3838a9bf2175685f65ec9bb
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Jul 3 15:31:23 2015 +0200

    Instantiate properties and systemProperties fields on instance initialization

 api/src/main/java/org/oasis_open/contextserver/api/Session.java | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 16dc0c667f0ab2258dc4862ba6d82e190682601a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jul 3 12:09:02 2015 +0200

    QAMF-14 : removed test goals

 .../META-INF/cxs/goals/campaignFunnelGoalTest.json | 22 ----------
 .../META-INF/cxs/goals/downloadGoalTest.json       | 21 ---------
 .../resources/META-INF/cxs/goals/formGoalTest.json | 35 ---------------
 .../META-INF/cxs/goals/funnelGoalTest.json         | 21 ---------
 .../META-INF/cxs/goals/landingPageFormTest.json    | 51 ----------------------
 .../META-INF/cxs/goals/landingPageViewTest.json    | 37 ----------------
 .../resources/META-INF/cxs/goals/pageGoalTest.json | 15 -------
 .../META-INF/cxs/goals/videoGoalTest.json          | 35 ---------------
 8 files changed, 237 deletions(-)

commit 349259fbe816756f4e072cb860c83434a9d1a5c0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jul 3 12:08:04 2015 +0200

    QAMF-14 : fixed property evaluation

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6ffb2c0718bc74ede1e944c65c74a48f9482b8e9
Author: david <dgriffon@jahia.com>
Date:   Thu Jul 2 13:39:21 2015 +0200

    QAMF-91 : fix ie10 live script issue

 wab/src/main/webapp/WEB-INF/javascript/base.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f0aac45deee003e85ca2ec1023c7a33e1167904
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jul 2 10:43:09 2015 +0200

    DMF-286 - dropped old JSON request data

 .../test/resources/bodies/Campaign_goal_count.json | 24 ---------------------
 .../resources/bodies/Campaign_profile_count.json   |  7 ------
 .../resources/bodies/Campaign_session_count1.json  | 23 --------------------
 .../resources/bodies/Campaign_session_count2.json  | 23 --------------------
 .../test/resources/bodies/GoalReport_request.json  |  7 ------
 .../resources/bodies/SiteTimeline_request.json     | 25 ----------------------
 6 files changed, 109 deletions(-)

commit 076ac21ae60747e363f038e5e84e57960b467eaf
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jul 2 09:10:33 2015 +0200

    DMF-286 - provided administration scenario for performance tests:
     - browsing campaign list
     - randomly choosing 3 campaigns
     - viewing campaign details (dashboard) for the selected campaign
     - back to the list
     - viewing engaged users of the campaign
     - back to the list
    
     - viewing the list of segments
    
     - viewing the site dashboard (site goals)

 .../resources/bodies/admin/campaigns/average.json  |  27 +++
 .../bodies/admin/campaigns/engaged-users.json      |  28 +++
 .../bodies/admin/campaigns/goal-report.json        |   9 +
 .../resources/bodies/admin/campaigns/goals.json    |  29 +++
 .../resources/bodies/admin/campaigns/list.json     |  21 +++
 .../admin/campaigns/timeline-primary-goal.json     |  47 +++++
 .../resources/bodies/admin/campaigns/timeline.json |  36 ++++
 .../admin/segments/segment-profile-count.json      |   8 +
 .../bodies/admin/segments/segment-query.json       |  38 ++++
 .../bodies/admin/site-dashboard/goal-report.json   |   9 +
 .../bodies/admin/site-dashboard/goals.json         |  28 +++
 .../admin/site-dashboard/timeline-all-visits.json  |  25 +++
 .../admin/site-dashboard/timeline-new-visits.json  |  33 ++++
 .../src/test/scala/unomi/AdminScenario.scala       | 210 ++++++++++++++-------
 .../src/test/scala/unomi/AdminSimulation.scala     |  26 +++
 .../src/test/scala/unomi/Parameters.scala          |  12 +-
 16 files changed, 519 insertions(+), 67 deletions(-)

commit 5cee70717e475d43c436d14d2cf59fdb6199c139
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Jun 29 17:59:15 2015 +0200

    QAMF-79: Added API entry point to delete all data pertaining to a given scope.

 .../contextserver/api/services/ClusterService.java |  7 ++++
 .../ElasticSearchPersistenceServiceImpl.java       | 49 ++++++++++++++++++++++
 .../contextserver/rest/ClusterServiceEndPoint.java | 11 +++--
 .../impl/services/QueryServiceImpl.java            |  4 +-
 4 files changed, 66 insertions(+), 5 deletions(-)

commit 8434473cb992b6fd6bcce577c55d4d9e8e73b84c
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Jun 25 16:13:09 2015 +0200

    DMF-358: Fix reload after persona save

 .../org/oasis_open/contextserver/api/services/ProfileService.java    | 2 ++
 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java    | 4 ++--
 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java   | 5 +++++
 3 files changed, 9 insertions(+), 2 deletions(-)

commit e25957216dff5aa7c7a0d31775b067f611e5be7a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Jun 25 12:43:07 2015 +0200

    DMF-358: Fix reload after profile save

 .../org/oasis_open/contextserver/api/services/ProfileService.java     | 2 +-
 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java     | 4 ++--
 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java    | 3 ++-
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 08afd4842cc37739b11c29b4df03e217838eddab
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 24 18:24:30 2015 +0200

    DMF-410: Remove unused properties

 services/src/main/resources/META-INF/cxs/personas/googleBot.json    | 1 -
 services/src/main/resources/META-INF/cxs/personas/nonUsVisitor.json | 1 -
 services/src/main/resources/META-INF/cxs/personas/usVisitor.json    | 1 -
 3 files changed, 3 deletions(-)

commit fca9164c3a1f03f82efdab6d93e3254d692715a4
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 24 18:04:06 2015 +0200

    DMF-410: Add tag (hidden if necessary) for every property + Remove unused properties

 .../META-INF/cxs/properties/profiles/{ => basic}/firstName.json   | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => basic}/gender.json      | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => basic}/lastName.json    | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => basic}/nationality.json | 4 ++--
 .../resources/META-INF/cxs/properties/profiles/birthPlace.json    | 8 --------
 .../META-INF/cxs/properties/profiles/contact/address.json         | 2 +-
 .../resources/META-INF/cxs/properties/profiles/contact/city.json  | 2 +-
 .../META-INF/cxs/properties/profiles/contact/countryName.json     | 4 ++--
 .../resources/META-INF/cxs/properties/profiles/contact/email.json | 2 +-
 .../META-INF/cxs/properties/profiles/contact/phoneNumber.json     | 2 +-
 .../META-INF/cxs/properties/profiles/contact/zipCode.json         | 2 +-
 .../resources/META-INF/cxs/properties/profiles/department.json    | 8 --------
 .../cxs/properties/profiles/{ => lead}/leadAssignedTo.json        | 4 ++--
 .../src/main/resources/META-INF/cxs/properties/profiles/name.json | 8 --------
 .../resources/META-INF/cxs/properties/profiles/personal/age.json  | 4 ++--
 .../resources/META-INF/cxs/properties/profiles/personal/kids.json | 4 ++--
 .../META-INF/cxs/properties/profiles/personal/maritalStatus.json  | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => social}/facebookId.json | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => social}/googleid.json   | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => social}/linkedInId.json | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => social}/twitterId.json  | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => system}/firstVisit.json | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => system}/lastVisit.json  | 4 ++--
 .../META-INF/cxs/properties/profiles/{ => system}/nbOfVisits.json | 4 ++--
 .../main/resources/META-INF/cxs/properties/profiles/title.json    | 8 --------
 .../resources/META-INF/cxs/properties/profiles/work/company.json  | 4 ++--
 .../resources/META-INF/cxs/properties/profiles/work/income.json   | 4 ++--
 .../resources/META-INF/cxs/properties/profiles/work/jobTitle.json | 4 ++--
 .../cxs/tags/properties/profiles/basicProfileProperties.json      | 6 ++++++
 .../cxs/tags/properties/profiles/contactProfileProperties.json    | 2 +-
 .../cxs/tags/properties/profiles/leadProfileProperties.json       | 6 ++++++
 .../cxs/tags/properties/profiles/personalInfoProperties.json      | 5 -----
 .../cxs/tags/properties/profiles/personalProfileProperties.json   | 5 +++++
 .../cxs/tags/properties/profiles/socialProfileProperties.json     | 6 ++++++
 .../cxs/tags/properties/profiles/systemProfileProperties.json     | 6 ++++++
 .../cxs/tags/properties/profiles/workProfileProperties.json       | 5 +++++
 .../META-INF/cxs/tags/properties/profiles/workProperties.json     | 5 -----
 37 files changed, 78 insertions(+), 86 deletions(-)

commit 12d4853f0753ce71120997067cc8f15b2020ca0b
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 16:44:05 2015 +0200

    DMF-284 - Do not print warning if the property is not found when evaluating

 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 097fa41790920ba4bf0e8b9a682eed06f481e5ce
Merge: 32082893 cec403b2
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 15:34:47 2015 +0200

    Merge branch 'master' of github.com:Jahia/unomi

commit 32082893859daacb9fef0ad42ca13294d261bf5b
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 15:34:30 2015 +0200

    DMF-284 - Use compiled Ognl expressions to access properties instead of BeanUtils

 plugins/baseplugin/pom.xml                         | 30 +++++++-
 .../conditions/PropertyConditionEvaluator.java     | 85 +++++++++++++++++++---
 2 files changed, 104 insertions(+), 11 deletions(-)

commit dc5c4178e9f9479cefadcf5f5ed6fe3856e33f68
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 15:33:42 2015 +0200

    DMF-284 - Increased indexing queue size to 1000

 persistence-elasticsearch/core/src/main/resources/elasticsearch.yml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit cec403b22d038a090821bd02d34f2cabdccae445
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 24 14:09:12 2015 +0200

    DMF-410: Rearrange properties tags + Add endpoint methods to create/delete property

 .../contextserver/api/services/ProfileService.java       |  4 ++++
 .../contextserver/rest/ProfileServiceEndPoint.java       | 11 +++++++++++
 .../contextserver/impl/services/ProfileServiceImpl.java  | 16 +++++++++++++---
 .../properties/profiles/{identity => }/birthPlace.json   |  2 +-
 .../cxs/properties/profiles/contact/address.json         |  2 +-
 .../META-INF/cxs/properties/profiles/contact/city.json   |  2 +-
 .../cxs/properties/profiles/contact/countryName.json     |  8 ++++++++
 .../cxs/properties/profiles/contact/zipCode.json         |  2 +-
 .../properties/profiles/{identity => }/department.json   |  2 +-
 .../properties/profiles/{contact => }/facebookId.json    |  2 +-
 .../properties/profiles/{identity => }/firstName.json    |  2 +-
 .../cxs/properties/profiles/{system => }/firstVisit.json |  2 +-
 .../cxs/properties/profiles/{identity => }/gender.json   |  2 +-
 .../cxs/properties/profiles/{contact => }/googleid.json  |  2 +-
 .../cxs/properties/profiles/{identity => }/lastName.json |  2 +-
 .../cxs/properties/profiles/{system => }/lastVisit.json  |  2 +-
 .../profiles/{contact => }/leadAssignedTo.json           |  2 +-
 .../properties/profiles/{contact => }/linkedInId.json    |  2 +-
 .../cxs/properties/profiles/{identity => }/name.json     |  2 +-
 .../properties/profiles/{identity => }/nationality.json  |  2 +-
 .../cxs/properties/profiles/{system => }/nbOfVisits.json |  2 +-
 .../properties/profiles/{identity => personal}/age.json  |  2 +-
 .../properties/profiles/{identity => personal}/kids.json |  2 +-
 .../profiles/{identity => personal}/maritalStatus.json   |  2 +-
 .../cxs/properties/profiles/{identity => }/title.json    |  2 +-
 .../cxs/properties/profiles/{contact => }/twitterId.json |  2 +-
 .../properties/profiles/{identity => work}/company.json  |  2 +-
 .../properties/profiles/{identity => work}/income.json   |  2 +-
 .../properties/profiles/{identity => work}/jobTitle.json |  2 +-
 .../cxs/properties/sessions/geographic/city.json         |  2 +-
 .../cxs/properties/sessions/geographic/countryName.json  |  2 +-
 .../properties/profiles/contactProfileProperties.json    |  2 +-
 .../properties/profiles/identityProfileProperties.json   |  5 -----
 .../tags/properties/profiles/personalInfoProperties.json |  5 +++++
 .../properties/profiles/systemProfileProperties.json     |  6 ------
 .../cxs/tags/properties/profiles/workProperties.json     |  5 +++++
 36 files changed, 74 insertions(+), 42 deletions(-)

commit 42e99e5f19298d59787cee5291a80ddb83712e8a
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 12:11:52 2015 +0200

    Use localhost as hostname

 performance-tests/src/test/scala/unomi/PrepareIndices.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8d06994f0eb3e43920082881bc0eeb930c7d2d08
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 12:10:47 2015 +0200

    Updated .gitignore

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 68c718119bb819925fcc03221763ae4de7e075d6
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 12:10:09 2015 +0200

    Added user simulation (without administration)

 .../src/test/scala/unomi/UserSimulation.scala      | 26 ++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 388f45667ac58771f6caf05066876cd69aed48b4
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jun 24 11:12:31 2015 +0200

    Removed unused imports

 .../plugins/baseplugin/actions/SetPropertyAction.java              | 7 -------
 1 file changed, 7 deletions(-)

commit ee5f2f9274196c523503652cb7266f2e9b5636b4
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Jun 19 12:18:24 2015 +0200

    DMF-385: Fix visitor counts

 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java   | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ed5a644f8d7f50e5fa4cdec304ac8224b583aa12
Author: kevan <kevan@jahia.com>
Date:   Thu Jun 18 15:36:11 2015 +0200

    DMF-352: fix rules resolution when the rule contain multiple source event condition

 .../META-INF/cxs/conditions/booleanCondition.json  |  2 +-
 .../META-INF/cxs/conditions/matchAllCondition.json |  2 +-
 .../META-INF/cxs/conditions/notCondition.json      |  2 +-
 .../conditions/sourceEventPropertyCondition.json   |  2 +-
 .../impl/services/RulesServiceImpl.java            | 23 ++++++++--------------
 .../cxs/tags/conditions/sourceEventCondition.json  |  4 ++++
 6 files changed, 16 insertions(+), 19 deletions(-)

commit fc6462661fa1d1a6e2f9c256f8ad2fb1e30ff14c
Author: kevan <kevan@jahia.com>
Date:   Thu Jun 18 11:51:12 2015 +0200

    fix form mapping test in cxs

 .../resources/META-INF/cxs/rules/formMappingTest.json   | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 4739abf2342922e497da37b90e0a81cb71b319ca
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 17 18:17:18 2015 +0200

    DMF-400: Fix persona systemproperties

 api/src/main/java/org/oasis_open/contextserver/api/Persona.java | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/Profile.java | 9 +++------
 2 files changed, 4 insertions(+), 6 deletions(-)

commit 4bb7f13ca0426e463b227fe96aa852bacb6cf8a3
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Jun 17 15:15:31 2015 +0200

    Add Google ID profile property + Fix Address profile property name

 .../META-INF/cxs/properties/profiles/contact/address.json         | 2 +-
 .../META-INF/cxs/properties/profiles/contact/googleid.json        | 8 ++++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit c23f41a4ee9516f9af774b3f62280d317faadb33
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Jun 12 16:23:44 2015 +0200

    DMF-372: Handle forced refresh and change return types in rules query method

 .../oasis_open/contextserver/api/services/RulesService.java  |  3 ++-
 .../oasis_open/contextserver/rest/RulesServiceEndPoint.java  |  3 ++-
 .../contextserver/impl/services/RulesServiceImpl.java        | 12 ++++++++----
 3 files changed, 12 insertions(+), 6 deletions(-)

commit 497b70f67e304834d18b8e785ccce3ee06534c3d
Author: kevan <kevan@jahia.com>
Date:   Wed Jun 10 10:18:19 2015 +0200

    fix integration test

 .../test/java/org/oasis_open/contextserver/itests/SegmentTest.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7ccc3ac17cee82586be707a6631231b9e0b8833
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jun 8 14:09:58 2015 +0200

    Removed server side persona cookie

 .../contextserver/web/ContextServlet.java          | 34 ++++------------------
 .../oasis_open/contextserver/web/HttpUtils.java    |  9 ++----
 .../webapp/WEB-INF/javascript/impersonateBase.js   |  4 +--
 3 files changed, 10 insertions(+), 37 deletions(-)

commit af093c5091987586e5a90c6e0bb9662411358e20
Author: kevan <kevan@jahia.com>
Date:   Mon Jun 8 11:50:46 2015 +0200

    fix display of newly created segments/lists

 .../main/java/org/oasis_open/contextserver/api/query/Query.java  | 9 +++++++++
 .../main/java/org/jahia/unomi/services/UserListServiceImpl.java  | 3 +++
 .../contextserver/impl/services/SegmentServiceImpl.java          | 3 +++
 3 files changed, 15 insertions(+)

commit dc78d5d8ef3fac8f170451dbc04d85206bf91ec9
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jun 8 10:16:36 2015 +0200

    disable purge

 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e316b8131d57f0fe80b065a1495279d98d016d26
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Jun 5 18:53:11 2015 +0200

    DMF-385: Ignore merged profiles in segments count

 .../contextserver/impl/services/SegmentServiceImpl.java        | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 1a89bb65de8e90499149d878a1d10c663fc4acd5
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Jun 5 15:57:54 2015 +0200

    DMF-383: Improve API to get events of different types

 .../contextserver/api/services/EventService.java        |  2 +-
 .../contextserver/rest/ProfileServiceEndPoint.java      |  6 +++---
 .../contextserver/impl/services/EventServiceImpl.java   | 17 ++++++++++++-----
 3 files changed, 16 insertions(+), 9 deletions(-)

commit b1b93f60c909a729bfeb9145d82ac8d4191bc48d
Author: kevan <kevan@jahia.com>
Date:   Thu Jun 4 18:41:24 2015 +0200

    DMF-380: avoid unecessary call to server since we have a detailed object for campaign

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38a409b35583ec9e0ab86754b6b991b9b36fa55b
Author: kevan <kevan@jahia.com>
Date:   Thu Jun 4 17:28:32 2015 +0200

    DMF-384: refactor segments and static list datatable to use server side pagination

 .../contextserver/api/services/SegmentService.java |  7 ++--
 .../jahia/unomi/rest/UserListServiceEndPoint.java  |  5 ++-
 .../org/jahia/unomi/services/UserListService.java  |  5 ++-
 .../jahia/unomi/services/UserListServiceImpl.java  | 24 +++++++-----
 .../contextserver/rest/SegmentServiceEndPoint.java |  8 ++--
 .../SegmentsChoiceListInitializer.java             |  2 +-
 .../impl/services/SegmentServiceImpl.java          | 45 +++++++++-------------
 7 files changed, 46 insertions(+), 50 deletions(-)

commit 8169704ec8d2eaa2918b911eee22d810e9f14c09
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jun 4 15:58:25 2015 +0200

    Fixed NPE with personas

 .../org/oasis_open/contextserver/impl/services/EventServiceImpl.java  | 4 ----
 1 file changed, 4 deletions(-)

commit a65949d533f3d997ca6423c01813eee8081d149c
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Jun 4 14:44:35 2015 +0200

    DMF-369: Fix getMappings results merge

 .../ElasticSearchPersistenceServiceImpl.java             | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit df475da321dcce6b4f7fcb663657152cb3b70a76
Author: kevan <kevan@jahia.com>
Date:   Wed Jun 3 18:00:07 2015 +0200

    DMF-380: finalize campaign datatable to do only one call to server, and use server side pagination, remain to handle col sort

 .../api/campaigns/CampaignDetail.java              | 65 ++++++++++++++++++++++
 .../contextserver/api/services/GoalsService.java   |  7 ++-
 .../rest/CampaignsServiceEndPoint.java             | 14 ++++-
 .../impl/services/GoalsServiceImpl.java            | 49 +++++++++++++++-
 4 files changed, 131 insertions(+), 4 deletions(-)

commit 329e4dcb55fce8cbfd8b0c4d6a7a18653053f726
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jun 2 18:01:33 2015 +0200

    DMF-369 : added goal event

 .../contextserver/impl/services/GoalsServiceImpl.java        | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 083acba738d225c739c141f21e729366410cdeee
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue Jun 2 10:41:01 2015 +0200

    DMF-363: Add session properties for double aggregates

 .../contextserver/plugins/request/actions/SetRemoteHostInfoAction.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 44978450600877f85f76ff6c8aa9ed6ce7c2ead0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed May 27 11:59:23 2015 +0200

    DMF-356 : restore system segments id

 .../baseplugin/src/main/resources/META-INF/cxs/segments/contacts.json   | 2 +-
 plugins/baseplugin/src/main/resources/META-INF/cxs/segments/leads.json  | 2 +-
 .../baseplugin/src/main/resources/META-INF/cxs/segments/maleGender.json | 2 +-
 .../baseplugin/src/main/resources/META-INF/cxs/segments/youngRich.json  | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit b134f9af3d09400338c7b1c8bb7032669d7db899
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue May 26 17:28:25 2015 +0200

    DMF-356 : store property types as items

 .../oasis_open/contextserver/api/PropertyType.java | 107 ++-------------
 .../api/services/DefinitionsService.java           |  10 --
 .../contextserver/api/services/ProfileService.java |  16 +++
 .../contextserver/api/services/QueryService.java   |   3 -
 .../META-INF/cxs/mappings/propertyType.json        |  16 +++
 .../cxs/campaigns/testLandingPageCampaign.json     |  37 -----
 .../cxs/campaigns/testRefererCampaign.json         |  44 ------
 .../cxs/campaigns/testUrlParameterCampaign.json    |  43 ------
 .../cxs/conditions/profilePropertyCondition.json   |   3 +-
 .../cxs/conditions/sessionPropertyCondition.json   |   3 +-
 .../rest/DefinitionsServiceEndPoint.java           |  30 ----
 .../contextserver/rest/LocalizationHelper.java     |  38 ------
 .../contextserver/rest/ProfileServiceEndPoint.java |  34 ++++-
 .../contextserver/rest/QueryServiceEndPoint.java   |   9 --
 .../contextserver/rest/RESTPropertyType.java       | 152 ---------------------
 .../oasis_open/contextserver/rest/RESTRange.java   |  56 --------
 .../PropertyTypeChoiceListInitializer.java         |  62 ---------
 .../impl/services/DefinitionsServiceImpl.java      | 108 +--------------
 .../impl/services/ProfileServiceImpl.java          | 109 +++++++++++++--
 .../impl/services/QueryServiceImpl.java            |  45 ++----
 .../cxs/properties/profiles/contact/address.json   |  13 +-
 .../cxs/properties/profiles/contact/city.json      |   5 +-
 .../cxs/properties/profiles/contact/email.json     |   5 +-
 .../properties/profiles/contact/facebookId.json    |   5 +-
 .../profiles/contact/leadAssignedTo.json           |   5 +-
 .../properties/profiles/contact/linkedInId.json    |   5 +-
 .../properties/profiles/contact/phoneNumber.json   |   5 +-
 .../cxs/properties/profiles/contact/twitterId.json |   5 +-
 .../cxs/properties/profiles/contact/zipCode.json   |   5 +-
 .../cxs/properties/profiles/identity/age.json      |  19 ++-
 .../properties/profiles/identity/birthPlace.json   |   3 +-
 .../cxs/properties/profiles/identity/company.json  |   3 +-
 .../properties/profiles/identity/department.json   |   3 +-
 .../properties/profiles/identity/firstName.json    |   3 +-
 .../cxs/properties/profiles/identity/gender.json   |   3 +-
 .../cxs/properties/profiles/identity/income.json   |   3 +-
 .../cxs/properties/profiles/identity/jobTitle.json |   3 +-
 .../cxs/properties/profiles/identity/kids.json     |   3 +-
 .../cxs/properties/profiles/identity/lastName.json |   3 +-
 .../profiles/identity/maritalStatus.json           |   3 +-
 .../cxs/properties/profiles/identity/name.json     |   3 +-
 .../properties/profiles/identity/nationality.json  |   3 +-
 .../cxs/properties/profiles/identity/title.json    |   3 +-
 .../cxs/properties/profiles/system/firstVisit.json |   5 +-
 .../cxs/properties/profiles/system/lastVisit.json  |   5 +-
 .../cxs/properties/profiles/system/nbOfVisits.json |  21 ++-
 .../cxs/properties/sessions/geographic/city.json   |   3 +-
 .../sessions/geographic/countryCode.json           |   3 +-
 .../sessions/geographic/countryName.json           |   3 +-
 .../properties/sessions/geographic/latitude.json   |   3 +-
 .../properties/sessions/geographic/longitude.json  |   3 +-
 .../sessions/technical/deviceCategory.json         |   5 +-
 .../sessions/technical/operatingSystemFamily.json  |   5 +-
 .../sessions/technical/operatingSystemName.json    |   5 +-
 .../properties/sessions/technical/remoteAddr.json  |   5 +-
 .../properties/sessions/technical/remoteHost.json  |   5 +-
 .../sessions/technical/userAgentName.json          |   5 +-
 .../sessions/technical/userAgentVersion.json       |   5 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  20 ---
 59 files changed, 269 insertions(+), 868 deletions(-)

commit 388c0a611e9efce0fed221ee0c268505b4cc50d1
Author: kevan <kevan@jahia.com>
Date:   Tue May 26 11:57:53 2015 +0200

    DMF-320: csv export, and small fixes

 .../contextserver/rest/ProfileServiceEndPoint.java | 19 ++++++++++-
 .../impl/services/ProfileServiceImpl.java          | 37 +++++++++++++++++++++-
 .../impl/services/QueryServiceImpl.java            |  1 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 4 files changed, 56 insertions(+), 2 deletions(-)

commit 54a8326f79cbbf1ffbacf7fffbbeaac39f56affe
Author: kevan <kevan@jahia.com>
Date:   Fri May 22 18:00:42 2015 +0200

    DMF-320: impl simple csv export, using get and download link, still some work to do to handle property format, hande multiple values properties

 .../contextserver/rest/ProfileServiceEndPoint.java | 24 ++++++++++++++---
 .../impl/services/ProfileServiceImpl.java          | 30 ++++++++++++++++++++--
 2 files changed, 49 insertions(+), 5 deletions(-)

commit 8691631d96c6a69a801226ec47a1a7f1af0968ca
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri May 22 16:30:06 2015 +0200

    DMF-307 : delete merged profiles, avoid exception when viewing page with deleted profile

 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java  | 6 ++++++
 .../main/java/org/oasis_open/contextserver/web/ContextServlet.java  | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 01790bfcc487fbdaf02639d6d6567931aacf34ca
Author: kevan <kevan@jahia.com>
Date:   Fri May 22 13:18:10 2015 +0200

    DMF-320: refactor profile service to use Query, to implement export service using also Query

 .../oasis_open/contextserver/api/query/Query.java  |  9 +++
 .../contextserver/api/services/ProfileService.java | 19 +----
 .../contextserver/rest/ProfileServiceEndPoint.java | 57 +++++----------
 .../impl/services/ProfileServiceImpl.java          | 85 ++++++----------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 5 files changed, 53 insertions(+), 118 deletions(-)

commit 261687ac197fd21ba286478250e85d23a6d669c6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri May 22 11:56:37 2015 +0200

    Add realm to have valid challenge header

 rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml | 1 +
 1 file changed, 1 insertion(+)

commit 341ace73c272b44512a4edbf8c29cd82c8ed785d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu May 21 18:36:10 2015 +0200

    DMF-321 : remove rule when goal disabled

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 589073b1794fd0c31861f64631d89f564a9a821f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed May 20 18:43:42 2015 +0200

    DMF-276 , DMF-267 : simplified code by using generic action

 .../OptimizationVariantToSessionAction.java        | 52 ----------------------
 .../cxs/actions/optimizationVariantToSession.json  |  7 ---
 .../{optmization.json => optimizationTest.json}    | 10 +++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ----
 4 files changed, 6 insertions(+), 71 deletions(-)

commit a6d25cf30e30b0e8b97ceffbb011201ea36f53ea
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed May 20 13:09:59 2015 +0200

    DMF-342  : added service/endpoint to do batch update based on query

 .../oasis_open/contextserver/api/BatchUpdate.java  | 42 +++++++++++++++
 .../contextserver/api/services/ProfileService.java |  2 +
 persistence-spi/pom.xml                            | 10 ++++
 .../persistence/spi/PropertyHelper.java            | 61 ++++++++++++++++++++++
 .../baseplugin/actions/SetPropertyAction.java      | 41 ++-------------
 .../META-INF/cxs/actions/setPropertyAction.json    |  9 +---
 .../contextserver/rest/ProfileServiceEndPoint.java |  6 +++
 .../impl/services/ProfileServiceImpl.java          | 21 ++++++++
 8 files changed, 148 insertions(+), 44 deletions(-)

commit e4eaad8cd5f6a767c3b4058d62c5f3380990cb36
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue May 19 18:59:11 2015 +0200

    DMF-354 : raise rule only once per session

 .../src/main/resources/META-INF/cxs/rules/incrementInterests.json       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25b44e752dc8ad2f82ab7a04c65264b1b40cc1b0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue May 19 18:08:18 2015 +0200

    DMF-351 fixed strategy name

 .../src/main/resources/META-INF/cxs/rules/formMappingTest.json          | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 978a510cfab28e7e12c101e6b39ece09088012b6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue May 19 18:05:49 2015 +0200

    DMF-318 : added "addValue" strategy on setProperty action

 .../baseplugin/actions/SetPropertyAction.java      | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit 6a67c79ee12e9b949763c87c8c5c924232589e06
Author: kevan <kevan@jahia.com>
Date:   Tue May 19 17:20:36 2015 +0200

    DMF-319: move lists to systemProperties

 .../src/main/java/org/jahia/unomi/services/UserListServiceImpl.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9ddbffa8a3cab0359982efbda9372c0a7956c6c6
Author: kevan <kevan@jahia.com>
Date:   Tue May 19 15:37:41 2015 +0200

    fix campaign ui based on last refactoring

 .../contextserver/api/services/GoalsService.java        |  4 ----
 .../contextserver/rest/CampaignsServiceEndPoint.java    | 12 ------------
 .../contextserver/impl/services/GoalsServiceImpl.java   | 17 -----------------
 3 files changed, 33 deletions(-)

commit fcb3a8c15f97576b104277e6eb0462ebe019f522
Author: kevan <kevan@jahia.com>
Date:   Tue May 19 14:32:44 2015 +0200

    DMF-316: remove list id in profile when a list is deleted

 .../org/jahia/unomi/services/UserListServiceImpl.java     | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 424afcf57bf29b3fb3c47423e248af5f194c5fad
Author: kevan <kevan@jahia.com>
Date:   Tue May 19 13:42:11 2015 +0200

    litle refactoring for services/end point, in general build the queries client side

 .../org/oasis_open/contextserver/api/Metadata.java | 12 +---
 .../oasis_open/contextserver/api/MetadataItem.java |  4 +-
 .../contextserver/api/services/GoalsService.java   | 30 ++++----
 .../contextserver/api/services/RulesService.java   |  7 +-
 .../contextserver/api/services/SegmentService.java | 16 ++---
 .../jahia/unomi/rest/UserListServiceEndPoint.java  | 21 ++----
 .../org/jahia/unomi/services/UserListService.java  |  2 -
 .../jahia/unomi/services/UserListServiceImpl.java  | 17 +++--
 .../cxs/campaigns/testLandingPageCampaign.json     |  2 +-
 .../cxs/campaigns/testRefererCampaign.json         |  2 +-
 .../cxs/campaigns/testUrlParameterCampaign.json    |  2 +-
 .../META-INF/cxs/goals/campaignFunnelGoalTest.json |  2 +-
 .../META-INF/cxs/goals/downloadGoalTest.json       |  2 +-
 .../resources/META-INF/cxs/goals/formGoalTest.json |  2 +-
 .../META-INF/cxs/goals/funnelGoalTest.json         |  2 +-
 .../META-INF/cxs/goals/landingPageFormTest.json    |  2 +-
 .../META-INF/cxs/goals/landingPageViewTest.json    |  2 +-
 .../resources/META-INF/cxs/goals/pageGoalTest.json |  2 +-
 .../META-INF/cxs/goals/videoGoalTest.json          |  2 +-
 .../cxs/rules/evaluateProfileSegments.json         |  2 +-
 .../META-INF/cxs/rules/facebookLogin.json          |  2 +-
 .../META-INF/cxs/rules/formMappingTest.json        |  2 +-
 .../META-INF/cxs/rules/incrementInterests.json     |  2 +-
 .../main/resources/META-INF/cxs/rules/login.json   |  2 +-
 .../resources/META-INF/cxs/rules/newSession.json   |  2 +-
 .../resources/META-INF/cxs/rules/searchForm.json   |  2 +-
 .../META-INF/cxs/rules/sessionPageReferrer.json    |  2 +-
 .../META-INF/cxs/rules/sessionReferrer.json        |  2 +-
 .../resources/META-INF/cxs/scoring/scoring.json    |  2 +-
 .../resources/META-INF/cxs/segments/contacts.json  |  2 +-
 .../resources/META-INF/cxs/segments/leads.json     |  2 +-
 .../META-INF/cxs/segments/maleGender.json          |  2 +-
 .../resources/META-INF/cxs/segments/youngRich.json |  2 +-
 .../rest/CampaignsServiceEndPoint.java             | 45 ++++++------
 .../contextserver/rest/GoalsServiceEndPoint.java   | 46 +++++-------
 .../contextserver/rest/RulesServiceEndPoint.java   | 23 +++---
 .../contextserver/rest/ScoringServiceEndPoint.java | 27 +++----
 .../contextserver/rest/SegmentServiceEndPoint.java | 41 +++++------
 .../SegmentsChoiceListInitializer.java             |  2 +-
 .../impl/services/GoalsServiceImpl.java            | 82 ++++++++--------------
 .../impl/services/RulesServiceImpl.java            | 25 +++----
 .../impl/services/SegmentServiceImpl.java          | 76 +++++++++-----------
 42 files changed, 227 insertions(+), 299 deletions(-)

commit fe6233db46db57b12a919c44b717ff609bf3175c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon May 18 18:03:10 2015 +0200

    DMF-351 : added strategy on setPropertyAction

 .../plugins/baseplugin/actions/SetPropertyAction.java            | 9 +++++++--
 .../main/resources/META-INF/cxs/actions/setPropertyAction.json   | 5 +++++
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 04ac8c4718f06bc07863db03fe2b932af5790f56
Author: kevan <kevan@jahia.com>
Date:   Mon May 18 16:26:15 2015 +0200

    fix itest

 .../src/test/java/org/oasis_open/contextserver/itests/SegmentTest.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb4fd799bae973134a0f66913a7b35dbad9b2bac
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon May 18 16:24:24 2015 +0200

    DMF-67 : moved all system properties out of user properties

 .../org/oasis_open/contextserver/api/Profile.java  | 15 +++++++++--
 .../org/oasis_open/contextserver/api/Session.java  | 11 ++++++++
 .../resources/bodies/Campaign_profile_count.json   |  2 +-
 .../resources/bodies/Campaign_session_count1.json  |  2 +-
 .../resources/bodies/Campaign_session_count2.json  |  2 +-
 .../actions/SetEventOccurenceCountAction.java      |  9 ++++++-
 .../baseplugin/actions/SetPropertyAction.java      | 30 +++++++++++++++-------
 .../conditions/PastEventConditionEvaluator.java    | 10 ++++++--
 .../cxs/conditions/goalMatchCondition.json         |  2 +-
 .../impl/services/EventServiceImpl.java            |  3 ++-
 .../impl/services/GoalsServiceImpl.java            | 18 ++++++-------
 .../impl/services/SegmentServiceImpl.java          |  4 ++-
 12 files changed, 79 insertions(+), 29 deletions(-)

commit 231e546a35bda256d2788fa5a898bf71a50d93c6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon May 18 12:04:50 2015 +0200

    DMF-300 : use same configuration for profile/events/session expiration

 .../ElasticSearchPersistenceServiceImpl.java       | 26 +------------
 .../impl/services/ProfileServiceImpl.java          | 44 +++++++++++++++++-----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../org.oasis_open.contextserver.services.cfg      | 10 ++++-
 4 files changed, 46 insertions(+), 35 deletions(-)

commit 3150f96e9a8a9444bb4bb44b820f3a295bdf8b25
Author: kevan <kevan@jahia.com>
Date:   Mon May 18 11:44:06 2015 +0200

    DMF-354: fix "raiseEventOnlyOnceForProfile" property on rule definition

 .../org/oasis_open/contextserver/impl/services/EventServiceImpl.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8523409300db3937ad1756ae810538df6537a3bd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri May 15 11:28:37 2015 +0200

    DMF-301 : avoid merge on profiles laready merged

 .../contextserver/itests/ConditionEvaluatorTest.java     |  1 +
 .../contextserver/impl/services/ProfileServiceImpl.java  | 16 +++++++++++++++-
 .../org/oasis_open/contextserver/web/ContextServlet.java |  2 +-
 3 files changed, 17 insertions(+), 2 deletions(-)

commit ed8602b6f4518775244167901899689ba49068b4
Author: kevan <kevan@jahia.com>
Date:   Thu May 14 19:40:15 2015 +0200

    refactor user list extension to be completly external to cxs

 kar/pom.xml                                        |  7 +-
 kar/src/main/feature/feature.xml                   |  3 +-
 lists-extension/pom.xml                            | 63 ++--------------
 lists-extension/rest/pom.xml                       | 86 ++++++++++++++++++++++
 .../jahia/unomi}/rest/UserListServiceEndPoint.java |  3 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 79 ++++++++++++++++++++
 lists-extension/services/pom.xml                   | 71 ++++++++++++++++++
 .../main/java/org/jahia/unomi/lists/UserList.java  |  0
 .../org/jahia/unomi/services/UserListService.java  |  0
 .../jahia/unomi/services/UserListServiceImpl.java  |  0
 .../resources/META-INF/cxs/mappings/userList.json  |  0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  0
 .../ElasticSearchPersistenceServiceImpl.java       |  1 +
 rest/pom.xml                                       |  7 --
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 17 -----
 15 files changed, 252 insertions(+), 85 deletions(-)

commit 89529b334d67696cce1fb1c300da4828a5e3f966
Author: kevan <kevan@jahia.com>
Date:   Thu May 14 18:42:45 2015 +0200

    DMF-315, DMF-316: display user lists

 .../java/org/jahia/unomi/services/UserListService.java   |  2 ++
 .../org/jahia/unomi/services/UserListServiceImpl.java    | 16 ++++++++++++++++
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml  |  4 ++++
 .../contextserver/rest/UserListServiceEndPoint.java      |  6 ++++++
 4 files changed, 28 insertions(+)

commit 58397c9fe270eff0dcce841ee50e549020beeb18
Author: kevan <kevan@jahia.com>
Date:   Thu May 14 02:33:18 2015 +0200

    simplify segments code to use Condition mechanism to provide query support, leaving the client passing query instead of hardcoded functions in services. Do the same for UserList and start unify segment and userList angular controlers (still in progress)

 .../oasis_open/contextserver/api/query/Query.java  | 48 +++++++++++++++++
 .../contextserver/api/services/SegmentService.java | 15 ++----
 .../main/java/org/jahia/unomi/lists/UserList.java  | 12 -----
 .../org/jahia/unomi/services/UserListService.java  | 10 +++-
 .../jahia/unomi/services/UserListServiceImpl.java  | 25 +++++++--
 .../resources/META-INF/cxs/mappings/userList.json  |  2 +-
 .../contextserver/rest/SegmentServiceEndPoint.java | 27 +++++-----
 .../rest/UserListServiceEndPoint.java              | 15 ++++--
 .../SegmentsChoiceListInitializer.java             |  2 +-
 .../impl/services/SegmentServiceImpl.java          | 61 +++++++---------------
 wab/pom.xml                                        |  1 +
 11 files changed, 128 insertions(+), 90 deletions(-)

commit f129769ccc0e2d0cfb950d2fc7f00278acf79326
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed May 13 18:41:24 2015 +0200

    DMF-338: Properly deal with scope.

 .../org/jahia/unomi/services/UserListService.java    |  2 +-
 .../jahia/unomi/services/UserListServiceImpl.java    |  4 ++--
 .../contextserver/rest/UserListServiceEndPoint.java  | 20 +++++++++++---------
 3 files changed, 14 insertions(+), 12 deletions(-)

commit 7d15db17f2aefd54e272c226212110e31d30c304
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed May 13 18:39:57 2015 +0200

    Removed unneeded LocalizationHelper.

 .../oasis_open/contextserver/rest/UserListServiceEndPoint.java    | 8 --------
 rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 1 -
 2 files changed, 9 deletions(-)

commit 4eec2b26b4b8c0f64ad7c63faf8645af3ce94982
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed May 13 15:15:15 2015 +0200

    Improved error message in case ITEM_TYPE is not found on the class.

 .../ElasticSearchPersistenceServiceImpl.java            | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit dba8456909e21eca03f91622e6768fc6434302c3
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed May 13 15:08:24 2015 +0200

    DMF-338: Made UserList extends MetadataItem, added missing ITEM_TYPE, added missing mapping.

 .../main/java/org/jahia/unomi/lists/UserList.java  | 36 +++++++++-------------
 .../resources/META-INF/cxs/mappings/userList.json  | 16 ++++++++++
 .../rest/UserListServiceEndPoint.java              |  2 +-
 3 files changed, 31 insertions(+), 23 deletions(-)

commit a52619be3c76001a41d32caa3c84166fca71c767
Author: Chris Laprun <metacosm@gmail.com>
Date:   Tue May 12 17:37:01 2015 +0200

    DMF-338: initial support for lists (called here user lists).

 kar/pom.xml                                        |   5 +
 kar/src/main/feature/feature.xml                   |   1 +
 lists-extension/pom.xml                            |  73 ++++++++++++++
 .../main/java/org/jahia/unomi/lists/UserList.java  |  81 ++++++++++++++++
 .../org/jahia/unomi/services/UserListService.java  |  58 +++++++++++
 .../jahia/unomi/services/UserListServiceImpl.java  |  75 +++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  36 +++++++
 pom.xml                                            |   1 +
 rest/pom.xml                                       |   7 ++
 .../rest/UserListServiceEndPoint.java              | 107 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  18 ++++
 11 files changed, 462 insertions(+)

commit 9c94da28b1e5a1fe85706deedef5b84d1aaf22ca
Author: kevan <kevan@jahia.com>
Date:   Tue May 12 14:48:29 2015 +0200

    DMF-300: profile expiration config

 kar/src/main/feature/feature.xml                   |  1 +
 .../ElasticSearchPersistenceServiceImpl.java       | 18 +++++
 .../persistence/spi/PersistenceService.java        |  2 +
 services/pom.xml                                   | 24 ++++++
 .../impl/services/ProfileServiceImpl.java          | 89 ++++++++++++++++++++++
 .../impl/services/QueryServiceImpl.java            |  8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 16 +++-
 .../src/main/resources/maven-metadata-local.xml    | 42 ++++++++++
 .../org.oasis_open.contextserver.services.cfg      |  3 +
 9 files changed, 201 insertions(+), 2 deletions(-)

commit 6889c8d87ca7a7aaf2584b2b968a56e4763aa539
Author: kevan <kevan@jahia.com>
Date:   Mon May 11 10:56:54 2015 +0200

    fix last commit

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14717da67fdd74efb1754c0ac236badf8c899a91
Author: kevan <kevan@jahia.com>
Date:   Mon May 11 10:42:07 2015 +0200

    fix NPE

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit fd04164948e42d4e95bbfa3c8654fc1daaa6863a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue May 5 11:11:47 2015 +0200

    DMF-301: Fix profiles merge + Exclude merged profiles from listing

 .../contextserver/api/services/ProfileService.java |  2 +
 .../mergers/AddPropertyMergeStrategyExecutor.java  | 52 ++++++++++++----------
 .../MostRecentPropertyMergeStrategyExecutor.java   | 10 +++++
 .../impl/services/ProfileServiceImpl.java          | 26 +++++++++--
 .../cxs/properties/profiles/system/firstVisit.json |  1 +
 .../cxs/properties/profiles/system/lastVisit.json  |  1 +
 6 files changed, 64 insertions(+), 28 deletions(-)

commit 6cd94110a702b3b2269c2afe216249c2a875c830
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 29 18:23:43 2015 +0200

    DMF-302: Add protected attribute to propertyTypes

 .../main/java/org/oasis_open/contextserver/api/PropertyType.java | 9 +++++++++
 .../org/oasis_open/contextserver/rest/LocalizationHelper.java    | 1 +
 .../java/org/oasis_open/contextserver/rest/RESTPropertyType.java | 9 +++++++++
 .../META-INF/cxs/properties/profiles/system/firstVisit.json      | 3 ++-
 .../META-INF/cxs/properties/profiles/system/lastVisit.json       | 3 ++-
 .../META-INF/cxs/properties/profiles/system/nbOfVisits.json      | 3 ++-
 6 files changed, 25 insertions(+), 3 deletions(-)

commit 7cac44060366aedc22f0bfe918b28580909a2ba6
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 29 14:59:24 2015 +0200

    DMF-337: Handle persona creation

 .../org/oasis_open/contextserver/api/services/ProfileService.java     | 2 +-
 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java     | 4 ++--
 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java    | 3 ++-
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 3dc93453edc223c9336f893588488bc155a357a4
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue Apr 28 16:22:33 2015 +0200

    DMF-307: Fix persona deletion

 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d1dffee6f253c6aee4e5d13536d14f6f17ec18d6
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Apr 27 16:46:54 2015 +0200

    Prevent NPE.

 .../contextserver/web/ContextServlet.java          | 37 ++++++++++------------
 1 file changed, 16 insertions(+), 21 deletions(-)

commit f2e70dad3a9d5cdb90d09661b94fd65007a1511e
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Apr 27 15:35:51 2015 +0200

    DMF-299: Add API to query events

 .../contextserver/api/services/EventService.java   |  2 ++
 .../contextserver/rest/ProfileServiceEndPoint.java | 11 +++++++++
 .../impl/services/EventServiceImpl.java            | 28 ++++++++++++++++++++++
 3 files changed, 41 insertions(+)

commit 4219740a29b08e00f83323398dcda281bfb4ef33
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Apr 24 18:14:21 2015 +0200

    DMF-298: Return session object when save is successful

 .../org/oasis_open/contextserver/api/services/ProfileService.java    | 2 +-
 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java    | 2 +-
 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java   | 5 ++---
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 8ff1ae22a3d3818ce29ee98ec8d2fa76e808bb37
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Apr 24 17:23:37 2015 +0200

    DMF-298: Make generic method to get session properties as well

 .../contextserver/api/services/ProfileService.java |  2 --
 .../contextserver/api/services/QueryService.java   |  4 ++++
 .../contextserver/rest/ProfileServiceEndPoint.java |  7 -------
 .../contextserver/rest/QueryServiceEndPoint.java   | 23 +++++++++++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../impl/services/ProfileServiceImpl.java          | 13 ------------
 .../impl/services/QueryServiceImpl.java            | 16 +++++++++++++++
 .../sessions/basicSessionProperties.json           |  5 -----
 .../sessions/geographicSessionProperties.json      |  2 +-
 .../sessions/technicalSessionProperties.json       |  2 +-
 10 files changed, 45 insertions(+), 30 deletions(-)

commit bb7274432136c87370cd5a03a4dc8dc5f0908a0a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Apr 24 11:11:16 2015 +0200

    DMF-297: Handle sessions 'fulltext' search

 .../oasis_open/contextserver/api/services/ProfileService.java    | 2 +-
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java       | 9 +++++++--
 .../contextserver/persistence/spi/PersistenceService.java        | 2 ++
 .../oasis_open/contextserver/rest/ProfileServiceEndPoint.java    | 3 ++-
 .../contextserver/impl/services/ProfileServiceImpl.java          | 8 ++++++--
 5 files changed, 18 insertions(+), 6 deletions(-)

commit 1368ee9cd4684305ff8eae6d2321cee43441dc2a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 22 15:29:21 2015 +0200

    DMF-296: Add API to get all segments metadata for a profile

 .../contextserver/api/services/SegmentService.java   |  2 ++
 .../contextserver/rest/ProfileServiceEndPoint.java   | 20 +++++++++++++++++++-
 .../main/resources/OSGI-INF/blueprint/blueprint.xml  |  1 +
 .../impl/services/SegmentServiceImpl.java            | 16 ++++++++++++++--
 4 files changed, 36 insertions(+), 3 deletions(-)

commit 525ddbd1d916c9e9e174f4d0d079c8d54f5f8c2a
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 22 11:12:36 2015 +0200

    DMF-295: Fix profile properties + Add the possibility to hide a tag

 .../java/org/oasis_open/contextserver/api/Tag.java     |  9 +++++++++
 .../contextserver/rest/DefinitionsServiceEndPoint.java |  4 ++--
 .../contextserver/rest/LocalizationHelper.java         | 18 ++++++++++++++++--
 .../cxs/properties/profiles/identity/company.json      |  2 +-
 .../cxs/properties/profiles/identity/department.json   |  2 +-
 .../cxs/properties/profiles/identity/gender.json       |  2 +-
 .../cxs/properties/profiles/identity/income.json       |  2 +-
 .../cxs/properties/profiles/identity/jobTitle.json     |  4 ++--
 .../cxs/properties/profiles/identity/kids.json         |  2 +-
 .../properties/profiles/identity/maritalStatus.json    |  2 +-
 .../cxs/properties/profiles/identity/title.json        |  9 +++++++++
 .../properties/profiles/systemProfileProperties.json   |  6 ++++++
 services/src/main/resources/messages_en.properties     |  1 +
 13 files changed, 51 insertions(+), 12 deletions(-)

commit 6384b811311aa0096be53c68b863f8591747d2fa
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue Apr 21 15:20:16 2015 +0200

    DMF-295: Reorganize profile properties in 2 categories - identity / contacts

 .../rest/DefinitionsServiceEndPoint.java           | 10 ++++----
 .../impl/services/DefinitionsServiceImpl.java      |  2 +-
 .../cxs/properties/profiles/basic/phoneNumber.json |  9 --------
 .../profiles/behavioral/brandLoyalty.json          |  9 --------
 .../properties/profiles/behavioral/usageRate.json  |  9 --------
 .../climate.json => contact/address.json}          |  6 ++---
 .../profiles/{geographic => contact}/city.json     |  4 ++--
 .../profiles/{basic => contact}/email.json         |  4 ++--
 .../profiles/{basic => contact}/facebookId.json    |  4 ++--
 .../profiles/{crm => contact}/leadAssignedTo.json  |  4 ++--
 .../profiles/{basic => contact}/linkedInId.json    |  4 ++--
 .../description.json => contact/phoneNumber.json}  |  4 ++--
 .../profiles/{basic => contact}/twitterId.json     |  4 ++--
 .../cxs/properties/profiles/contact/zipCode.json   |  9 ++++++++
 .../profiles/{demographic => identity}/age.json    |  4 ++--
 .../properties/profiles/identity/birthPlace.json   |  9 ++++++++
 .../cxs/properties/profiles/identity/company.json  |  9 ++++++++
 .../properties/profiles/identity/department.json   |  9 ++++++++
 .../profiles/{basic => identity}/firstName.json    |  4 ++--
 .../profiles/{demographic => identity}/gender.json |  4 ++--
 .../profiles/{demographic => identity}/income.json |  4 ++--
 .../cxs/properties/profiles/identity/jobTitle.json |  9 ++++++++
 .../cxs/properties/profiles/identity/kids.json     |  9 ++++++++
 .../profiles/{basic => identity}/lastName.json     |  4 ++--
 .../profiles/identity/maritalStatus.json           |  9 ++++++++
 .../profiles/{basic => identity}/name.json         |  4 ++--
 .../properties/profiles/identity/nationality.json  |  9 ++++++++
 .../profiles/psychographic/activities.json         | 10 --------
 .../properties/profiles/psychographic/hobbies.json | 10 --------
 .../profiles/psychographic/lifestyle.json          |  9 --------
 .../deviceType.json => system/firstVisit.json}     |  6 ++---
 .../profiles/{behavioral => system}/lastVisit.json |  4 ++--
 .../{behavioral => system}/nbOfVisits.json         |  4 ++--
 .../profiles/behavioralProfileProperties.json      |  5 ----
 ...operties.json => contactProfileProperties.json} |  2 +-
 .../properties/profiles/crmProfileProperties.json  |  5 ----
 .../profiles/geographicProfileProperties.json      |  5 ----
 ...perties.json => identityProfileProperties.json} |  2 +-
 .../profiles/psychographicProfileProperties.json   |  5 ----
 .../profiles/technicalProfileProperties.json       |  5 ----
 services/src/main/resources/messages_en.properties | 27 ++++++++++------------
 41 files changed, 128 insertions(+), 140 deletions(-)

commit b875acbe0ec74096847703d71bba970e758f3fb4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Apr 17 17:06:35 2015 +0200

    added doc for gatling

 README.md | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 0d75093470a15fb0ef2036651ee1793fa330e638
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Apr 17 16:59:59 2015 +0200

    updated default gatling conf

 performance-tests/src/test/resources/gatling.conf       | 16 ++++++++--------
 performance-tests/src/test/scala/unomi/Parameters.scala |  6 +++---
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 6b521e616adc9b7ad4d98b6392089683fd599574
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Apr 17 14:20:47 2015 +0200

    added remoteAddr in load test, makes server ip configurable

 performance-tests/src/test/scala/unomi/FullSimulation.scala       | 2 +-
 performance-tests/src/test/scala/unomi/Parameters.scala           | 2 ++
 performance-tests/src/test/scala/unomi/UserScenario.scala         | 8 ++++----
 .../plugins/request/actions/SetRemoteHostInfoAction.java          | 6 +++---
 4 files changed, 10 insertions(+), 8 deletions(-)

commit e8d259a9e98a18153f6ab5f00703a58d7f522e40
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Apr 17 14:02:09 2015 +0200

    include configuration files in package

 package/pom.xml | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit aa8f16a3cd34260c0896ba453169a2cd779493ea
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 15 15:38:31 2015 +0200

    DMF-293: Handle profiles and personas condition-based search

 .../oasis_open/contextserver/api/PropertyType.java |  1 -
 .../contextserver/api/services/ProfileService.java | 12 +++++
 .../contextserver/api/services/SegmentService.java |  2 -
 .../ElasticSearchPersistenceServiceImpl.java       |  8 ++--
 .../META-INF/cxs/mappings/propertyType.json        | 16 -------
 .../persistence/spi/PersistenceService.java        |  4 +-
 .../contextserver/rest/ProfileServiceEndPoint.java | 20 +++++++++
 .../contextserver/rest/SegmentServiceEndPoint.java |  4 +-
 .../impl/services/ProfileServiceImpl.java          | 52 +++++++++++++++++++---
 .../impl/services/SegmentServiceImpl.java          | 10 +----
 10 files changed, 87 insertions(+), 42 deletions(-)

commit 899e702f3993bec43adc6b57ddeb45b130470684
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Apr 14 18:40:08 2015 +0200

    DMF-286 : split gatling simulation, added requests in administration scenario

 .../test/resources/bodies/Campaign_goal_count.json |  24 +++++
 .../resources/bodies/Campaign_profile_count.json   |   7 ++
 .../resources/bodies/Campaign_session_count1.json  |  23 +++++
 .../resources/bodies/Campaign_session_count2.json  |  23 +++++
 .../src/test/scala/unomi/AdminScenario.scala       | 105 +++++++++++++++++++
 .../src/test/scala/unomi/FullSimulation.scala      |  27 +++++
 .../src/test/scala/unomi/Parameters.scala          |  30 ++++++
 .../{BasicSimulation.scala => UserScenario.scala}  | 115 ++++-----------------
 8 files changed, 257 insertions(+), 97 deletions(-)

commit c052d2172cf0fd66f8ecc193fc13c6785df89652
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Apr 14 13:38:24 2015 +0200

    form mapping example

 .../META-INF/cxs/rules/formMappingTest.json        | 33 +++++++++++++++++-----
 .../META-INF/cxs/tags/rules/formMappingRule.json   |  4 +++
 2 files changed, 30 insertions(+), 7 deletions(-)

commit f78cf592d835dd8a58ceb49af1a31dde5894cb0e
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Apr 13 18:15:45 2015 +0200

    DMF-287: Fix choice list initializers translation

 .../rest/DefinitionsServiceEndPoint.java           | 12 ++---
 .../contextserver/rest/LocalizationHelper.java     | 29 +++++------
 .../ComparisonOperatorChoiceListInitializer.java   | 57 +++++++++++++---------
 .../ComparisonOperatorChoiceListValue.java         | 14 +++++-
 .../PropertyTypeChoiceListInitializer.java         |  5 +-
 .../initializers/PropertyTypeChoiceListValue.java  | 35 ++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 7 files changed, 107 insertions(+), 49 deletions(-)

commit 7715fb758096986131db92af00966a77c16c5192
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Apr 13 15:48:00 2015 +0200

    DMF-287: Move only actions and conditions RB to plugins

 .../src/main/resources/messages_de.properties      |  59 ----------
 .../src/main/resources/messages_en.properties      | 102 -----------------
 .../src/main/resources/messages_fr.properties      |   1 -
 services/src/main/resources/messages_de.properties |  80 ++++++++++++++
 services/src/main/resources/messages_en.properties | 123 +++++++++++++++++++++
 services/src/main/resources/messages_fr.properties |  22 ++++
 6 files changed, 225 insertions(+), 162 deletions(-)

commit b8edde7af1e71d9d2402cd067603649cba1fa93c
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Apr 13 14:27:10 2015 +0200

    DMF-287: Fix translations

 .../baseplugin}/src/main/resources/messages_de.properties                 | 0
 .../baseplugin}/src/main/resources/messages_en.properties                 | 0
 .../baseplugin}/src/main/resources/messages_fr.properties                 | 0
 3 files changed, 0 insertions(+), 0 deletions(-)

commit ff3b4dbf789572a648fe6fd4660fe7a521af5cc2
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Apr 10 19:10:13 2015 +0200

    DMF-292: Add 'full text' search

 .../contextserver/api/services/ProfileService.java        |  2 +-
 .../contextserver/api/services/SegmentService.java        |  2 ++
 .../ElasticSearchPersistenceServiceImpl.java              | 10 ++++++++++
 .../src/main/resources/META-INF/cxs/mappings/profile.json |  4 +++-
 .../contextserver/persistence/spi/PersistenceService.java |  4 ++++
 .../contextserver/rest/ProfileServiceEndPoint.java        |  5 +++--
 .../contextserver/rest/SegmentServiceEndPoint.java        |  4 ++--
 .../contextserver/impl/services/ProfileServiceImpl.java   | 15 ++++++++++++---
 .../contextserver/impl/services/SegmentServiceImpl.java   | 11 ++++++++++-
 9 files changed, 47 insertions(+), 10 deletions(-)

commit 35ece84c4ab7abe2c6f2bf2fae4dd82a75b20df5
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Fri Apr 10 11:15:51 2015 +0200

    DMF-289 + DMF-290 : Fix method to get only existing profile properties, to work with personas

 .../org/oasis_open/contextserver/api/services/ProfileService.java     | 2 +-
 .../org/oasis_open/contextserver/rest/ProfileServiceEndPoint.java     | 4 ++--
 .../oasis_open/contextserver/impl/services/ProfileServiceImpl.java    | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit c4bd32311ed94c799990d857de4a867fc6fc3d68
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Apr 9 18:16:27 2015 +0200

    Upgrade to ES 1.5.1

 persistence-elasticsearch/pom.xml                                 | 2 +-
 .../plugins/baseplugin/conditions/PropertyConditionEvaluator.java | 8 +++++++-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit e2ee7f13c075c64a9707e7a2f0b949f9618b34a4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Apr 9 17:14:27 2015 +0200

    DMF-287 : server optimizations .
    - do only profile/session save when required, and at most once per request.
    - compile and cache mvel expression
    
    DMF-286 : added scenario with site dashboard

 .../contextserver/api/actions/ActionExecutor.java  |   2 +-
 .../api/services/EventListenerService.java         |   2 +-
 .../contextserver/api/services/EventService.java   |   6 +-
 .../contextserver/api/services/ProfileService.java |   2 -
 .../resources/bodies/ContextLoad_request_1.json    |   2 +-
 .../test/resources/bodies/GoalReport_request.json  |   7 +
 .../resources/bodies/SiteTimeline_request.json     |  25 ++++
 .../src/test/scala/unomi/BasicSimulation.scala     | 164 ++++++++++++++-------
 .../conditions/ConditionContextHelper.java         |  10 +-
 .../actions/AllEventToProfilePropertiesAction.java |   5 +-
 .../actions/EvaluateProfileSegmentsAction.java     |   5 +-
 .../actions/EventToProfilePropertyAction.java      |   8 +-
 .../actions/IncrementInterestsValuesAction.java    |   5 +-
 .../actions/MergeProfilesOnPropertyAction.java     |  14 +-
 .../baseplugin/actions/SendEventAction.java        |   6 +-
 .../actions/SetEventOccurenceCountAction.java      |   5 +-
 .../baseplugin/actions/SetPropertyAction.java      |  10 +-
 .../plugins/mail/actions/SendMailAction.java       |   5 +-
 .../OptimizationVariantToSessionAction.java        |   9 +-
 .../RequestHeaderToProfilePropertyAction.java      |  11 +-
 .../RequestParameterToProfilePropertyAction.java   |  11 +-
 .../request/actions/SetRemoteHostInfoAction.java   |  10 +-
 .../contextserver/rest/ProfileServiceEndPoint.java |   6 -
 .../impl/actions/ActionExecutorDispatcher.java     |  21 ++-
 .../impl/services/EventServiceImpl.java            |  20 +--
 .../impl/services/ProfileServiceImpl.java          |  10 +-
 .../impl/services/RulesServiceImpl.java            |  10 +-
 .../impl/services/SegmentServiceImpl.java          |   6 +-
 .../contextserver/web/ContextServlet.java          |  28 +++-
 .../contextserver/web/EventsCollectorServlet.java  |  16 +-
 30 files changed, 282 insertions(+), 159 deletions(-)

commit bc1512c5369e24acfe7d7fad83fab18613d94f10
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Thu Apr 9 17:08:02 2015 +0200

    DMF-289 + DMF-290 : Add method to get only existing profile properties

 .../contextserver/api/services/ProfileService.java |   2 +
 .../rest/DefinitionsServiceEndPoint.java           | 218 ++------------------
 .../contextserver/rest/LocalizationHelper.java     | 227 +++++++++++++++++++++
 .../contextserver/rest/ProfileServiceEndPoint.java |  15 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   9 +-
 .../impl/services/ProfileServiceImpl.java          |  13 ++
 6 files changed, 282 insertions(+), 202 deletions(-)

commit 2732b410a0eb930ead30621cd8b0f8356ab92e74
Author: david <dgriffon@jahia.com>
Date:   Thu Apr 9 14:08:37 2015 +0200

    DMF-305 : fix unbounded ranges

 .../org/oasis_open/contextserver/api/query/NumericRange.java | 12 ++++++------
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java   | 10 ++++++++--
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 74f569c96e537ed3dc5f83234e5e845cc5ccfbe6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Apr 8 18:03:58 2015 +0200

    Fixed contextual condition evaluation

 .../elasticsearch/conditions/ConditionEvaluatorDispatcher.java          | 2 ++
 1 file changed, 2 insertions(+)

commit 06f72657c6d981c146ada85dee5aab83a9973460
Author: kevan <kevan@jahia.com>
Date:   Wed Apr 8 17:31:17 2015 +0200

    missing license header

 .../OptimizationVariantToSessionAction.java        | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit dfe2363fc1ed10f25c2bc413f701cee639fe657a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Apr 8 16:29:45 2015 +0200

    fixed action descriptor

 .../resources/META-INF/cxs/actions/optimizationVariantToSession.json    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b91e58e9ef93b987f7f0f849d17ebdd534269cb0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Apr 8 15:02:09 2015 +0200

    DMF-287 : server optimizations / refactoring
    - avoid usage of getServiceReference on each condition/action evaluation
    - changed service filter in json to simple condition/action key
    - keep rules, segments and scoring in memory
    - use logger in debug level
    - moved all conditions/actions out of service

 .../contextserver/api/actions/ActionType.java      |  10 +-
 .../api/services/DefinitionsService.java           |   3 +-
 kar/pom.xml                                        |  16 +-
 kar/src/main/feature/feature.xml                   |   1 -
 ...oad_request.json => ContextLoad_request_0.json} |   0
 .../resources/bodies/ContextLoad_request_1.json    | 173 ++++++++++++++++
 .../src/test/scala/unomi/BasicSimulation.scala     |  31 ++-
 .../src/test/scala/unomi/PrepareIndices.scala      |  51 +++++
 persistence-elasticsearch/core/pom.xml             |   5 -
 .../ElasticSearchPersistenceServiceImpl.java       |   9 +-
 .../conditions/ConditionESQueryBuilder.java        |   1 +
 .../conditions/ConditionEvaluatorDispatcher.java   |   3 +-
 .../main/resources/META-INF/cxs/mappings/rule.json |   8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  77 --------
 plugins/baseplugin/pom.xml                         |  52 +++++
 .../actions/AllEventToProfilePropertiesAction.java |   2 +-
 .../actions/EvaluateProfileSegmentsAction.java     |   2 +-
 .../actions/EventToProfilePropertyAction.java      |   2 +-
 .../actions/IncrementInterestsValuesAction.java    |   2 +-
 .../actions/MergeProfilesOnPropertyAction.java     |   2 +-
 .../baseplugin}/actions/SendEventAction.java       |   2 +-
 .../actions/SetEventOccurenceCountAction.java      |   5 +-
 .../baseplugin}/actions/SetPropertyAction.java     |   2 +-
 .../conditions/BooleanConditionESQueryBuilder.java |   4 +-
 .../conditions/BooleanConditionEvaluator.java      |   4 +-
 ...ationByPointSessionConditionESQueryBuilder.java |   4 +-
 ...eoLocationByPointSessionConditionEvaluator.java |   4 +-
 .../MatchAllConditionESQueryBuilder.java           |   4 +-
 .../conditions/MatchAllConditionEvaluator.java     |   4 +-
 .../conditions/NotConditionESQueryBuilder.java     |   4 +-
 .../conditions/NotConditionEvaluator.java          |   4 +-
 .../PastEventConditionESQueryBuilder.java          |   2 +-
 .../conditions/PastEventConditionEvaluator.java    |   2 +-
 .../PropertyConditionESQueryBuilder.java           |   4 +-
 .../conditions/PropertyConditionEvaluator.java     |   8 +-
 ...SourceEventPropertyConditionESQueryBuilder.java |   2 +-
 .../SourceEventPropertyConditionEvaluator.java     |   2 +-
 .../actions/allEventToProfilePropertiesAction.json |   2 +-
 .../cxs/actions/evaluateProfileSegmentsAction.json |   2 +-
 .../cxs/actions/eventToProfilePropertyAction.json  |   2 +-
 .../cxs/actions/incrementInterestValuesAction.json |   2 +-
 .../cxs/actions/mergeProfilesOnPropertyAction.json |   2 +-
 .../META-INF/cxs/actions/sendEventAction.json      |   2 +-
 .../cxs/actions/setEventOccurenceCountAction.json  |   2 +-
 .../META-INF/cxs/actions/setPropertyAction.json    |   2 +-
 .../cxs/campaigns/testLandingPageCampaign.json     |   0
 .../cxs/campaigns/testRefererCampaign.json         |   0
 .../cxs/campaigns/testUrlParameterCampaign.json    |   0
 .../META-INF/cxs/conditions/booleanCondition.json  |   0
 .../cxs/conditions/downloadEventCondition.json     |   0
 .../cxs/conditions/eventPropertyCondition.json     |   0
 .../cxs/conditions/eventTypeCondition.json         |   0
 .../cxs/conditions/formEventCondition.json         |   0
 .../geoLocationByPointSessionCondition.json        |   0
 .../conditions/geoLocationSessionCondition.json    |   0
 .../cxs/conditions/goalMatchCondition.json         |   0
 .../cxs/conditions/loginEventCondition.json        |   0
 .../META-INF/cxs/conditions/matchAllCondition.json |   0
 .../cxs/conditions/newVisitorCondition.json        |   0
 .../META-INF/cxs/conditions/notCondition.json      |   0
 .../cxs/conditions/pageViewEventCondition.json     |   0
 .../cxs/conditions/pastEventCondition.json         |   0
 .../cxs/conditions/profileInterestCondition.json   |   0
 .../cxs/conditions/profilePropertyCondition.json   |   0
 .../cxs/conditions/profileSegmentCondition.json    |   0
 .../conditions/profileUpdatedEventCondition.json   |   0
 .../cxs/conditions/returningVisitorCondition.json  |   0
 .../conditions/sessionCreatedEventCondition.json   |   0
 .../cxs/conditions/sessionDurationCondition.json   |   0
 .../cxs/conditions/sessionPropertyCondition.json   |   0
 .../conditions/sourceEventPropertyCondition.json   |   0
 .../cxs/conditions/videoViewEventCondition.json    |   0
 .../META-INF/cxs/goals/campaignFunnelGoalTest.json |   0
 .../META-INF/cxs/goals/downloadGoalTest.json       |   0
 .../resources/META-INF/cxs/goals/formGoalTest.json |   0
 .../META-INF/cxs/goals/funnelGoalTest.json         |   0
 .../META-INF/cxs/goals/landingPageFormTest.json    |   0
 .../META-INF/cxs/goals/landingPageViewTest.json    |   0
 .../resources/META-INF/cxs/goals/pageGoalTest.json |   0
 .../META-INF/cxs/goals/videoGoalTest.json          |   0
 .../cxs/rules/evaluateProfileSegments.json         |   0
 .../META-INF/cxs/rules/facebookLogin.json          |   0
 .../META-INF/cxs/rules/formMappingTest.json        |   0
 .../META-INF/cxs/rules/incrementInterests.json     |   0
 .../main/resources/META-INF/cxs/rules/login.json   |   0
 .../resources/META-INF/cxs/rules/newSession.json   |   0
 .../resources/META-INF/cxs/rules/searchForm.json   |   0
 .../META-INF/cxs/rules/sessionPageReferrer.json    |   0
 .../META-INF/cxs/rules/sessionReferrer.json        |   0
 .../resources/META-INF/cxs/scoring/scoring.json    |   0
 .../resources/META-INF/cxs/segments/contacts.json  |   0
 .../resources/META-INF/cxs/segments/leads.json     |   0
 .../META-INF/cxs/segments/maleGender.json          |   0
 .../resources/META-INF/cxs/segments/youngRich.json |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 218 +++++++++++++++++++++
 .../META-INF/cxs/actions/sendMailAction.json       |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  21 --
 plugins/pom.xml                                    |   3 +-
 .../requestHeaderToProfilePropertyAction.json      |   2 +-
 .../requestParameterToProfilePropertyAction.json   |   2 +-
 .../cxs/actions/setRemoteHostInfoAction.json       |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  17 --
 .../impl/actions/ActionExecutorDispatcher.java     |  48 +++--
 .../impl/services/DefinitionsServiceImpl.java      |   6 +-
 .../impl/services/RulesServiceImpl.java            |  47 ++++-
 .../impl/services/SegmentServiceImpl.java          |  12 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  68 -------
 .../contextserver/web/ContextServlet.java          |  21 +-
 .../contextserver/web/EventsCollectorServlet.java  |  11 +-
 109 files changed, 699 insertions(+), 308 deletions(-)

commit a1450d09d7bfe15ef8a988a14d93ce521dd98b35
Author: kevan <kevan@jahia.com>
Date:   Tue Apr 7 18:15:26 2015 +0200

    DMF-267: add rule and action related to optimization test (store the variant id in the session)

 kar/pom.xml                                        |  5 +++
 plugins/optimization-test/pom.xml                  | 15 +++++++++
 .../OptimizationVariantToSessionAction.java        | 29 +++++++++++++++++
 .../cxs/actions/optimizationVariantToSession.json  |  7 ++++
 .../resources/META-INF/cxs/rules/optmization.json  | 22 +++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 37 ++++++++++++++++++++++
 .../src/main/resources/messages_en.properties      | 21 ++++++++++++
 plugins/pom.xml                                    |  1 +
 8 files changed, 137 insertions(+)

commit 8e45759f7baf58d921b3d36e41200e7e075ab8d6
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Apr 2 15:29:33 2015 +0200

    Implement overrides server-side behavior

 .../org/oasis_open/contextserver/api/Profile.java  |  4 ++
 .../org/oasis_open/contextserver/api/Session.java  |  4 ++
 .../contextserver/web/ContextServlet.java          | 56 ++++++++++++++++++++--
 3 files changed, 59 insertions(+), 5 deletions(-)

commit 5a760266e6257afc46d9e623e52e5341aba3f6c0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Apr 2 15:18:43 2015 +0200

    add missing data in example campaigns

 .../resources/META-INF/cxs/campaigns/testLandingPageCampaign.json   | 6 +++++-
 .../main/resources/META-INF/cxs/campaigns/testRefererCampaign.json  | 6 +++++-
 .../resources/META-INF/cxs/campaigns/testUrlParameterCampaign.json  | 5 ++++-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit cf6efc0b80caa659fb899783dc8fc9cd0e609978
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Apr 2 11:59:05 2015 +0200

    DMF-287 : optimize condition/query evaluation. removed  profile  deletion, fixed npe

 .../api/conditions/ConditionType.java              | 10 ++---
 performance-tests/pom.xml                          | 27 ++++++-------
 .../src/test/resources/bodies/Form_request.json    |  7 ++--
 .../ElasticSearchPersistenceServiceImpl.java       | 43 +++++++++++++++++++-
 .../ConditionESQueryBuilderDispatcher.java         | 46 +++++++++++++--------
 .../conditions/ConditionEvaluatorDispatcher.java   | 47 ++++++++++++++--------
 .../cxs/conditions/hoverEventCondition.json        |  2 +-
 .../cxs/conditions/pastEventCondition.json         |  4 +-
 .../conditions/sourceEventPropertyCondition.json   |  4 +-
 .../impl/services/GoalsServiceImpl.java            |  6 ++-
 .../impl/services/ProfileServiceImpl.java          |  6 +--
 .../META-INF/cxs/conditions/booleanCondition.json  |  4 +-
 .../cxs/conditions/eventPropertyCondition.json     |  4 +-
 .../geoLocationByPointSessionCondition.json        |  4 +-
 .../META-INF/cxs/conditions/matchAllCondition.json |  4 +-
 .../META-INF/cxs/conditions/notCondition.json      |  4 +-
 .../cxs/conditions/profilePropertyCondition.json   |  4 +-
 .../cxs/conditions/sessionPropertyCondition.json   |  4 +-
 .../contextserver/web/ContextServlet.java          |  1 -
 19 files changed, 146 insertions(+), 85 deletions(-)

commit ad42032132c5161da314fe519b85e8346133176f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Apr 1 16:34:15 2015 +0200

    DMF-279 : Added gatling load tests

 performance-tests/pom.xml                          |  76 +++++++-
 .../test/resources/bodies/ContextLoad_request.json |  47 +++++
 .../src/test/resources/bodies/Form_request.json    |  36 ++++
 .../src/test/resources/bodies/Search_request.json  |  43 +++++
 .../test/resources/bodies/UserLogin_request.json   |  27 +++
 .../src/test/resources/data/ipList.txt             |   6 +
 .../src/test/resources/data/linklist.txt           | 202 ++++++++++++++++++++
 .../src/test/resources/data/urllist.txt            | 203 +++++++++++++++++++++
 .../src/test/resources/data/userAgent.txt          |  18 ++
 .../src/test/resources/data/words.txt              | 101 ++++++++++
 performance-tests/src/test/resources/gatling.conf  | 155 ++++++++++++++++
 performance-tests/src/test/resources/logback.xml   |  20 ++
 performance-tests/src/test/resources/recorder.conf |  51 ++++++
 performance-tests/src/test/scala/Engine.scala      |  13 ++
 .../src/test/scala/IDEPathHelper.scala             |  22 +++
 performance-tests/src/test/scala/Recorder.scala    |  12 ++
 .../src/test/scala/unomi/BasicSimulation.scala     | 152 +++++++++++++++
 .../impl/services/ProfileServiceImpl.java          |   2 +-
 18 files changed, 1179 insertions(+), 7 deletions(-)

commit 0f19514912d01c4cc7b1c63c840f91780f253128
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 1 15:46:06 2015 +0200

    Add segment, profile and session properties objects

 .../contextserver/api/ContextRequest.java          | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 9ff340cfa06128a90e6197ed4069d25731cc1113
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Mar 30 12:23:40 2015 +0200

    DMF-123: implemented better cleaning up of impacted segments on segment deletion, can still be improved

 .../impl/services/SegmentServiceImpl.java          | 88 ++++++++++++++++------
 1 file changed, 66 insertions(+), 22 deletions(-)

commit d5cd469b7b1cb9ce5695b9fd301e6177511ee2d9
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Mar 27 18:09:13 2015 +0100

    Use Condition.getParameter and containsParameter when appropriate.

 .../contextserver/api/conditions/Condition.java    |  4 ++
 .../conditions/BooleanConditionESQueryBuilder.java |  4 +-
 .../conditions/BooleanConditionEvaluator.java      |  4 +-
 ...ationByPointSessionConditionESQueryBuilder.java |  6 +-
 ...eoLocationByPointSessionConditionEvaluator.java |  6 +-
 .../conditions/NotConditionESQueryBuilder.java     |  2 +-
 .../conditions/NotConditionEvaluator.java          |  2 +-
 .../PropertyConditionESQueryBuilder.java           | 69 +++++++++++-----------
 .../HoverEventConditionESQueryBuilder.java         |  4 +-
 .../PastEventConditionESQueryBuilder.java          |  2 +-
 .../conditions/PastEventConditionEvaluator.java    |  2 +-
 ...SourceEventPropertyConditionESQueryBuilder.java |  6 +-
 .../SourceEventPropertyConditionEvaluator.java     |  6 +-
 .../impl/actions/SetEventOccurenceCountAction.java |  8 +--
 .../impl/services/DefinitionsServiceImpl.java      | 10 ++--
 .../impl/services/SegmentServiceImpl.java          |  6 +-
 16 files changed, 75 insertions(+), 66 deletions(-)

commit 2c6c36539147d00e5dc2d828819982a522bda86c
Author: Chris Laprun <metacosm@gmail.com>
Date:   Fri Mar 27 17:39:09 2015 +0100

    DMF-123: return metadata list instead of identifiers to be able to display more precise information to users. Initial implementation of removal of reference in impacted segments. Not quite satisfied with it. :(

 .../contextserver/api/services/SegmentService.java |  6 +--
 .../contextserver/rest/SegmentServiceEndPoint.java |  2 +-
 .../impl/services/SegmentServiceImpl.java          | 49 +++++++++++++++-------
 3 files changed, 37 insertions(+), 20 deletions(-)

commit 0d304fb95c397bd0e41dc71ce9512a555dde39c9
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 1 14:09:57 2015 +0200

    Make code a little more resistant to problems

 .../contextserver/web/ContextServlet.java          | 25 ++++++++++++++++------
 1 file changed, 19 insertions(+), 6 deletions(-)

commit f2c3ba1e305ab46ba6d840e0b318a14a99cc6ded
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 1 13:54:02 2015 +0200

    DMF-123: Return list of segments instead of segment IDs when trying to remove segment definitions with validation

 .../contextserver/api/services/SegmentService.java           |  4 ++--
 .../contextserver/rest/SegmentServiceEndPoint.java           |  2 +-
 .../contextserver/impl/services/SegmentServiceImpl.java      | 12 ++++++------
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 67430b69ea1cf4a41ee0aff430ca4520fc7e6115
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Wed Apr 1 11:24:56 2015 +0200

    DMF-123: Update matching profiles when deleting a segment

 .../oasis_open/contextserver/impl/services/SegmentServiceImpl.java  | 6 ++++++
 1 file changed, 6 insertions(+)

commit 9941f9d25923ac94597486b1a0bba984db071aa2
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Tue Mar 31 17:14:49 2015 +0200

    DMF-225: Fix comparison operators translations

 services/src/main/resources/messages_de.properties | 16 ++++++++--------
 services/src/main/resources/messages_en.properties | 16 ++++++++--------
 2 files changed, 16 insertions(+), 16 deletions(-)

commit f919149a32984133b7cb1bc24a8eeb6a603e239a
Author: david <dgriffon@jahia.com>
Date:   Wed Apr 1 13:21:07 2015 +0200

    DMF-249 : delete goal when remove campaign

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 64bd988acc38fa3cad76b3b313ec54693fc128b5
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 1 11:41:52 2015 +0200

    - Adjust deployment script
    - Remove double copyright notice
    - Fix a NPE on Personas

 compileDeploy.sh                                       |  2 +-
 package/src/main/resources/etc/custom.properties       | 18 ------------------
 .../impl/services/ProfileServiceImpl.java              |  3 +++
 3 files changed, 4 insertions(+), 19 deletions(-)

commit 34ae61917e0f10a2d8d303f09048ce1f0e646c89
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 1 10:57:57 2015 +0200

    Fix typo on project's name

 performance-tests/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9a3024a591f775d67c21a5e6896aefdcfcabbdf4
Author: Quentin Lamerand <qlamerand@jahia.com>
Date:   Mon Mar 30 10:57:20 2015 +0200

    Update README.md
    
    Fix SSL properties presentation

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit d6f1aef84704d2eef87771555e763f8f3d48080b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Mar 27 11:43:22 2015 +0100

    DMF-164 : fixed license

 .../api/campaigns/events/CampaignEvent.java        | 50 +++++++++-------------
 1 file changed, 20 insertions(+), 30 deletions(-)

commit c168830f30c732a02cd63de1672944222508aebb
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Mar 26 16:31:54 2015 +0100

    DMF-123: Added validate option to removeSegmentDefinition to check whether other segments might depend on it.

 .../contextserver/api/services/SegmentService.java | 14 ++++++++-
 .../contextserver/rest/SegmentServiceEndPoint.java |  5 ++--
 .../impl/services/SegmentServiceImpl.java          | 35 ++++++++++++++++++----
 3 files changed, 46 insertions(+), 8 deletions(-)

commit 204616f3f4e0e7debfeff67e63240f458a40ed4c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Mar 25 15:53:29 2015 +0100

    fixed queries on goal report

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7e19935f926b31623654545f3d46f8c0586497cd
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 24 12:04:33 2015 -0400

    DMF-233
    
    Add endpoint to retrieve site goals only

 .../contextserver/api/services/GoalsService.java   |  2 ++
 .../contextserver/rest/GoalsServiceEndPoint.java   |  7 +++++++
 .../impl/services/GoalsServiceImpl.java            | 22 ++++++++++++++++++++++
 3 files changed, 31 insertions(+)

commit 68971259812fe4210b721db4a5d881c17616ae4d
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Mon Mar 23 16:29:30 2015 -0400

    DMF-245
    
    Add timezone management for campaign and campaign events

 .../org/oasis_open/contextserver/api/campaigns/Campaign.java   | 10 ++++++++++
 .../contextserver/api/campaigns/events/CampaignEvent.java      |  9 +++++++++
 2 files changed, 19 insertions(+)

commit 83b193e6eb2bdfcbaa15ffef32abb05a9320ba38
Author: Chris Laprun <metacosm@gmail.com>
Date:   Mon Mar 23 16:43:36 2015 +0100

    DMF-224: added endpoints to retrieve scoped segment metadata i.e. a Map of a scope name to associated segment metadata.

 .../contextserver/api/services/SegmentService.java | 15 ++++-
 .../contextserver/rest/SegmentServiceEndPoint.java | 15 ++++-
 .../impl/services/SegmentServiceImpl.java          | 75 ++++++++++++++++++----
 3 files changed, 88 insertions(+), 17 deletions(-)

commit 6d0dcc55eef1f1c15b25645a7152d18aaf0915f6
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Fri Mar 20 15:19:56 2015 -0400

    DMF-169
    
    Add new endpoints to query some single value metrics on property with a condition
    you can request sum/min/max/avg

 .../contextserver/api/services/QueryService.java   |  2 +
 .../ElasticSearchPersistenceServiceImpl.java       | 55 ++++++++++++++++++++--
 .../persistence/spi/PersistenceService.java        |  2 +
 .../contextserver/rest/QueryServiceEndPoint.java   |  6 +++
 .../impl/services/QueryServiceImpl.java            | 23 +++++----
 5 files changed, 77 insertions(+), 11 deletions(-)

commit 6c1535e99a629c422691bf7ed348e23598eb4290
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Mar 20 11:44:49 2015 +0100

    DMF-227 : cleaned exceptions catch

 .../java/org/oasis_open/contextserver/api/Item.java   |  6 +++++-
 .../contextserver/performancetests/BasicTest.java     |  2 +-
 .../ElasticSearchPersistenceServiceImpl.java          | 10 +++++-----
 .../conditions/ConditionESQueryBuilderDispatcher.java |  5 ++++-
 .../conditions/ConditionEvaluatorDispatcher.java      |  5 ++++-
 .../plugins/mail/actions/SendMailAction.java          |  7 +++++--
 .../request/actions/SetRemoteHostInfoAction.java      | 19 +++++++++----------
 .../contextserver/rest/ClusterServiceEndPoint.java    |  5 ++++-
 .../rest/DefinitionsServiceEndPoint.java              |  5 ++++-
 .../impl/actions/ActionExecutorDispatcher.java        |  5 ++++-
 .../contextserver/impl/actions/SetPropertyAction.java | 12 ++++++------
 11 files changed, 51 insertions(+), 30 deletions(-)

commit 24e9244d4bb3b48078bac068d6d4556527f27bd6
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 17 15:01:28 2015 -0400

    DMF-164
    
    Add endpoints/services/types for CampaignEvents

 .../api/campaigns/events/CampaignEvent.java        | 93 ++++++++++++++++++++++
 .../contextserver/api/services/GoalsService.java   |  8 ++
 .../META-INF/cxs/mappings/campaignevent.json       | 16 ++++
 .../persistence/spi/CustomObjectMapper.java        |  2 +
 .../rest/CampaignsServiceEndPoint.java             | 22 ++++-
 .../impl/services/EventServiceImpl.java            |  6 +-
 .../impl/services/GoalsServiceImpl.java            | 36 ++++++++-
 7 files changed, 177 insertions(+), 6 deletions(-)

commit a55665cbb42274175b361c21251a81c2af37d093
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 17 13:12:48 2015 -0400

    DMF-158
    
    Use condition instead of range query to query engaged users in campaign

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java   | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit d9d91ab1d8c9640e3a35e027a1856d414afc9b03
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 17 11:03:44 2015 -0400

    Fix issue in README naming file

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a0f61fbac4a0ba6defc82e05188072b965f7f8cf
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 11:31:43 2015 +0100

    DMF-65 - code cleanup

 .../elasticsearch/conditions/MatchAllConditionESQueryBuilder.java     | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 571af56019b22582f4cf665d5a2e030eba370820
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 11:13:52 2015 +0100

    DMF-65 - Do not swallow exception; do not catch Throwable

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 .../org/oasis_open/contextserver/impl/services/SegmentServiceImpl.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b6d4a4dea634a377e01eb3fd3c6551229cc41022
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 10:45:37 2015 +0100

    DMF-65 - code cleanup

 .../ElasticSearchPersistenceServiceImpl.java       | 18 ++++++++++++++++
 .../conditions/ConditionContextHelper.java         | 10 +++++----
 .../PropertyConditionESQueryBuilder.java           | 11 +++++-----
 .../conditions/PropertyConditionEvaluator.java     | 24 ++++++++--------------
 .../contextserver/SecurityPlugin.java              |  5 ++---
 .../contextserver/SecurityPluginModule.java        |  5 +----
 .../persistence/spi/PersistenceService.java        |  4 ++--
 .../plugins/mail/actions/SendMailAction.java       |  3 +--
 .../rest/DefinitionsServiceEndPoint.java           |  3 ---
 .../impl/actions/ActionExecutorDispatcher.java     |  2 ++
 .../actions/AllEventToProfilePropertiesAction.java |  1 +
 .../actions/IncrementInterestsValuesAction.java    |  2 +-
 .../impl/actions/SendEventAction.java              |  5 +----
 .../impl/services/EventServiceImpl.java            |  1 +
 .../contextserver/impl/services/ParserHelper.java  |  1 +
 .../impl/services/RulesServiceImpl.java            | 14 +------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 -
 .../contextserver/web/ContextServlet.java          |  4 ----
 .../oasis_open/contextserver/web/HttpUtils.java    |  1 -
 19 files changed, 52 insertions(+), 63 deletions(-)

commit a68f1b18af86302e63566ef4e08c555498958b88
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 10:29:50 2015 +0100

    DMF-65 - code cleanup

 .../oasis_open/contextserver/api/PluginType.java   |  4 +-
 .../api/PropertyMergeStrategyExecutor.java         |  2 +-
 .../contextserver/api/TimestampedItem.java         |  2 +-
 .../contextserver/api/actions/ActionExecutor.java  |  2 +-
 .../contextserver/api/services/ClusterService.java |  2 +-
 .../oasis_open/contextserver/itests/BasicTest.java |  4 --
 .../contextserver/itests/ConditionBuilder.java     |  6 ---
 .../itests/ConditionESQueryBuilderTest.java        | 11 +----
 .../ElasticSearchPersistenceServiceImpl.java       | 22 ++++------
 .../conditions/ConditionESQueryBuilder.java        |  2 +-
 .../conditions/ConditionEvaluator.java             |  2 +-
 .../persistence/spi/PersistenceService.java        | 48 +++++++++++-----------
 .../spi/PropertyTypedObjectDeserializer.java       |  4 --
 13 files changed, 42 insertions(+), 69 deletions(-)

commit d01d8704418e9f60f7ec14c75da3ae53823ce19b
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 10:22:03 2015 +0100

    DMF-65 - Added generated serialVersionUID to Serializable classes

 .../org/oasis_open/contextserver/persistence/spi/ItemDeserializer.java  | 1 +
 .../contextserver/persistence/spi/PropertyTypedObjectDeserializer.java  | 2 ++
 wab/src/main/java/org/oasis_open/contextserver/web/ContextServlet.java  | 1 +
 3 files changed, 4 insertions(+)

commit 23a54520eafcb1a277b165a221c10fb477305d4d
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 10:20:26 2015 +0100

    DMF-65 - Removed unused imports

 api/src/main/java/org/oasis_open/contextserver/api/Item.java         | 1 -
 api/src/main/java/org/oasis_open/contextserver/api/Metadata.java     | 1 -
 .../org/oasis_open/contextserver/api/services/ProfileService.java    | 1 -
 .../oasis_open/contextserver/itests/ConditionESQueryBuilderTest.java | 3 ---
 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java    | 3 ---
 .../oasis_open/contextserver/persistence/spi/CustomObjectMapper.java | 1 -
 .../oasis_open/contextserver/persistence/spi/PersistenceService.java | 1 -
 .../persistence/spi/PropertyTypedObjectDeserializer.java             | 2 --
 .../org/oasis_open/contextserver/rest/CampaignsServiceEndPoint.java  | 5 -----
 rest/src/main/java/org/oasis_open/contextserver/rest/RESTTag.java    | 1 -
 .../main/java/org/oasis_open/contextserver/rest/RESTValueType.java   | 1 -
 .../impl/actions/AllEventToProfilePropertiesAction.java              | 1 -
 .../contextserver/impl/actions/MergeProfilesOnPropertyAction.java    | 1 -
 .../org/oasis_open/contextserver/impl/actions/SendEventAction.java   | 2 --
 .../conditions/initializers/EventPropertyChoiceListInitializer.java  | 1 -
 .../org/oasis_open/contextserver/impl/services/ParserHelper.java     | 2 --
 .../org/oasis_open/contextserver/impl/services/RulesServiceImpl.java | 1 -
 17 files changed, 28 deletions(-)

commit 8abd3838007bdabc33528fa6b05831bfe5d64aa7
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 10:17:56 2015 +0100

    DMF-65 - Added generated serialVersionUID to Serializable classes

 api/src/main/java/org/oasis_open/contextserver/api/ClusterNode.java     | 2 ++
 api/src/main/java/org/oasis_open/contextserver/api/ContextResponse.java | 2 ++
 api/src/main/java/org/oasis_open/contextserver/api/CustomItem.java      | 2 ++
 api/src/main/java/org/oasis_open/contextserver/api/Event.java           | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/EventTarget.java     | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/Item.java            | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/MetadataItem.java    | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/PartialList.java     | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/Persona.java         | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/PersonaSession.java  | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/Session.java         | 2 ++
 .../main/java/org/oasis_open/contextserver/api/actions/ActionType.java  | 1 +
 .../main/java/org/oasis_open/contextserver/api/campaigns/Campaign.java  | 2 ++
 .../java/org/oasis_open/contextserver/api/conditions/ConditionType.java | 1 +
 api/src/main/java/org/oasis_open/contextserver/api/goals/Goal.java      | 2 ++
 .../main/java/org/oasis_open/contextserver/api/goals/GoalReport.java    | 2 ++
 api/src/main/java/org/oasis_open/contextserver/api/rules/Rule.java      | 2 ++
 .../main/java/org/oasis_open/contextserver/api/segments/Scoring.java    | 2 ++
 .../main/java/org/oasis_open/contextserver/api/segments/Segment.java    | 2 ++
 19 files changed, 29 insertions(+)

commit 3fb04b7c890467c31e600d129eedeafeec9137c4
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 17 09:44:46 2015 +0100

    DMF-187 - allow setPropertyAction to set either profile or session property

 .../src/main/resources/META-INF/cxs/actions/setPropertyAction.json  | 6 ++++++
 1 file changed, 6 insertions(+)

commit 4293c4887f482cbc564719e3db3a20d0daa1c173
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Mar 13 14:09:50 2015 +0100

    DMF-218 Renaming all "wemi" directories to "cxs"

 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/campaign.json | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/event.json    | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/goal.json     | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/persona.json  | 0
 .../main/resources/META-INF/{wemi => cxs}/mappings/personaSession.json    | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/profile.json  | 0
 .../src/main/resources/META-INF/{wemi => cxs}/mappings/propertyType.json  | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/rule.json     | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/segment.json  | 0
 .../core/src/main/resources/META-INF/{wemi => cxs}/mappings/session.json  | 0
 10 files changed, 0 insertions(+), 0 deletions(-)

commit 0cca337fc5469714f0bf4ec0ced117a5fc07030e
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Mar 13 11:39:05 2015 +0100

    Use static map instead of an instance one

 .../SourceEventPropertyConditionEvaluator.java     | 23 +++++++++++-----------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 0a54069679802ddf7c77a5d9dd0ab1a4ffe58d55
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Mar 13 11:29:32 2015 +0100

    DMF-49 - labels adjusted for session duration condition

 services/src/main/resources/messages_de.properties | 4 ++--
 services/src/main/resources/messages_en.properties | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 58f18f119efe174a8761de055316b88b14aa64b2
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Mar 13 10:45:41 2015 +0100

    DMF-92 - adjusted "betweeen" condition to include both lower and upper bound

 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java       | 2 +-
 .../elasticsearch/conditions/PropertyConditionEvaluator.java            | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 67bec795670171aa606a60981675998a39ea9f30
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Mar 12 15:59:55 2015 +0100

    Update README for license, corrections and documentation on new CXF endpoint mapping

 README.md | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit c472ffa9c477b1c01cc14552a0c425394766ff0e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Mar 12 15:46:23 2015 +0100

    DMF-218 Renaming all /cxf/wemi mappings to /cxs and the Javascript "wemi" object to "cxs"

 .../src/main/resources/etc/org.apache.cxf.osgi.cfg |  1 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 18 +++++++++---------
 .../contextserver/web/ContextServlet.java          |  2 +-
 wab/src/main/webapp/WEB-INF/javascript/base.js     | 20 ++++++++++----------
 .../webapp/WEB-INF/javascript/impersonateBase.js   | 22 +++++++++++-----------
 wab/src/main/webapp/index.html                     |  2 +-
 6 files changed, 33 insertions(+), 32 deletions(-)

commit 74f4b7ee038e6a7bb167bcc3b7ce623d3029f749
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Mar 12 15:13:14 2015 +0100

    DMF-218 Renaming all "wemi" directories to "cxs"

 package/pom.xml                                              |  8 ++++----
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java   |  2 +-
 .../{wemi => cxs}/conditions/hoverEventCondition.json        |  0
 .../META-INF/{wemi => cxs}/actions/sendMailAction.json       |  0
 .../{wemi => cxs}/conditions/pastEventCondition.json         |  0
 .../actions/requestHeaderToProfilePropertyAction.json        |  0
 .../actions/requestParameterToProfilePropertyAction.json     |  0
 .../{wemi => cxs}/actions/setRemoteHostInfoAction.json       |  0
 .../conditions/sourceEventPropertyCondition.json             |  0
 rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../contextserver/impl/services/DefinitionsServiceImpl.java  | 12 ++++++------
 .../contextserver/impl/services/GoalsServiceImpl.java        |  4 ++--
 .../contextserver/impl/services/ProfileServiceImpl.java      |  2 +-
 .../contextserver/impl/services/RulesServiceImpl.java        |  2 +-
 .../contextserver/impl/services/SegmentServiceImpl.java      |  4 ++--
 .../actions/allEventToProfilePropertiesAction.json           |  0
 .../{wemi => cxs}/actions/evaluateProfileSegmentsAction.json |  0
 .../{wemi => cxs}/actions/eventToProfilePropertyAction.json  |  0
 .../{wemi => cxs}/actions/incrementInterestValuesAction.json |  0
 .../{wemi => cxs}/actions/mergeProfilesOnPropertyAction.json |  0
 .../META-INF/{wemi => cxs}/actions/sendEventAction.json      |  0
 .../{wemi => cxs}/actions/setEventOccurenceCountAction.json  |  0
 .../META-INF/{wemi => cxs}/actions/setPropertyAction.json    |  0
 .../{wemi => cxs}/campaigns/testLandingPageCampaign.json     |  0
 .../{wemi => cxs}/campaigns/testRefererCampaign.json         |  0
 .../{wemi => cxs}/campaigns/testUrlParameterCampaign.json    |  0
 .../META-INF/{wemi => cxs}/conditions/booleanCondition.json  |  0
 .../{wemi => cxs}/conditions/downloadEventCondition.json     |  0
 .../{wemi => cxs}/conditions/eventPropertyCondition.json     |  0
 .../{wemi => cxs}/conditions/eventTypeCondition.json         |  0
 .../{wemi => cxs}/conditions/formEventCondition.json         |  0
 .../conditions/geoLocationByPointSessionCondition.json       |  0
 .../conditions/geoLocationSessionCondition.json              |  0
 .../{wemi => cxs}/conditions/goalMatchCondition.json         |  0
 .../{wemi => cxs}/conditions/loginEventCondition.json        |  0
 .../META-INF/{wemi => cxs}/conditions/matchAllCondition.json |  0
 .../{wemi => cxs}/conditions/newVisitorCondition.json        |  0
 .../META-INF/{wemi => cxs}/conditions/notCondition.json      |  0
 .../{wemi => cxs}/conditions/pageViewEventCondition.json     |  0
 .../{wemi => cxs}/conditions/profileInterestCondition.json   |  0
 .../{wemi => cxs}/conditions/profilePropertyCondition.json   |  0
 .../{wemi => cxs}/conditions/profileSegmentCondition.json    |  0
 .../conditions/profileUpdatedEventCondition.json             |  0
 .../{wemi => cxs}/conditions/returningVisitorCondition.json  |  0
 .../conditions/sessionCreatedEventCondition.json             |  0
 .../{wemi => cxs}/conditions/sessionDurationCondition.json   |  0
 .../{wemi => cxs}/conditions/sessionPropertyCondition.json   |  0
 .../{wemi => cxs}/conditions/videoViewEventCondition.json    |  0
 .../META-INF/{wemi => cxs}/goals/campaignFunnelGoalTest.json |  0
 .../META-INF/{wemi => cxs}/goals/downloadGoalTest.json       |  0
 .../resources/META-INF/{wemi => cxs}/goals/formGoalTest.json |  0
 .../META-INF/{wemi => cxs}/goals/funnelGoalTest.json         |  0
 .../META-INF/{wemi => cxs}/goals/landingPageFormTest.json    |  0
 .../META-INF/{wemi => cxs}/goals/landingPageViewTest.json    |  0
 .../resources/META-INF/{wemi => cxs}/goals/pageGoalTest.json |  0
 .../META-INF/{wemi => cxs}/goals/videoGoalTest.json          |  0
 .../{wemi => cxs}/mergers/addPropertyMergeStrategy.json      |  0
 .../{wemi => cxs}/mergers/defaultPropertyMergeStrategy.json  |  0
 .../mergers/mostRecentPropertyMergeStrategy.json             |  0
 .../{wemi => cxs}/mergers/nonEmptyPropertyMergeStrategy.json |  0
 .../{wemi => cxs}/mergers/oldestPropertyMergeStrategy.json   |  0
 .../resources/META-INF/{wemi => cxs}/personas/googleBot.json |  0
 .../META-INF/{wemi => cxs}/personas/nonUsVisitor.json        |  0
 .../resources/META-INF/{wemi => cxs}/personas/usVisitor.json |  0
 .../{wemi => cxs}/properties/profiles/basic/description.json |  0
 .../{wemi => cxs}/properties/profiles/basic/email.json       |  0
 .../{wemi => cxs}/properties/profiles/basic/facebookId.json  |  0
 .../{wemi => cxs}/properties/profiles/basic/firstName.json   |  0
 .../{wemi => cxs}/properties/profiles/basic/lastName.json    |  0
 .../{wemi => cxs}/properties/profiles/basic/linkedInId.json  |  0
 .../{wemi => cxs}/properties/profiles/basic/name.json        |  0
 .../{wemi => cxs}/properties/profiles/basic/phoneNumber.json |  0
 .../{wemi => cxs}/properties/profiles/basic/twitterId.json   |  0
 .../properties/profiles/behavioral/brandLoyalty.json         |  0
 .../properties/profiles/behavioral/lastVisit.json            |  0
 .../properties/profiles/behavioral/nbOfVisits.json           |  0
 .../properties/profiles/behavioral/usageRate.json            |  0
 .../properties/profiles/crm/leadAssignedTo.json              |  0
 .../{wemi => cxs}/properties/profiles/demographic/age.json   |  0
 .../properties/profiles/demographic/gender.json              |  0
 .../properties/profiles/demographic/income.json              |  0
 .../{wemi => cxs}/properties/profiles/geographic/city.json   |  0
 .../properties/profiles/geographic/climate.json              |  0
 .../properties/profiles/psychographic/activities.json        |  0
 .../properties/profiles/psychographic/hobbies.json           |  0
 .../properties/profiles/psychographic/lifestyle.json         |  0
 .../properties/profiles/technical/deviceType.json            |  0
 .../{wemi => cxs}/properties/sessions/geographic/city.json   |  0
 .../properties/sessions/geographic/countryCode.json          |  0
 .../properties/sessions/geographic/countryName.json          |  0
 .../properties/sessions/geographic/latitude.json             |  0
 .../properties/sessions/geographic/longitude.json            |  0
 .../properties/sessions/technical/deviceCategory.json        |  0
 .../properties/sessions/technical/operatingSystemFamily.json |  0
 .../properties/sessions/technical/operatingSystemName.json   |  0
 .../properties/sessions/technical/remoteAddr.json            |  0
 .../properties/sessions/technical/remoteHost.json            |  0
 .../properties/sessions/technical/userAgentName.json         |  0
 .../properties/sessions/technical/userAgentVersion.json      |  0
 .../{wemi => cxs}/rules/evaluateProfileSegments.json         |  0
 .../META-INF/{wemi => cxs}/rules/facebookLogin.json          |  0
 .../META-INF/{wemi => cxs}/rules/formMappingTest.json        |  0
 .../META-INF/{wemi => cxs}/rules/incrementInterests.json     |  0
 .../main/resources/META-INF/{wemi => cxs}/rules/login.json   |  0
 .../resources/META-INF/{wemi => cxs}/rules/newSession.json   |  0
 .../resources/META-INF/{wemi => cxs}/rules/searchForm.json   |  0
 .../META-INF/{wemi => cxs}/rules/sessionPageReferrer.json    |  0
 .../META-INF/{wemi => cxs}/rules/sessionReferrer.json        |  0
 .../resources/META-INF/{wemi => cxs}/scoring/scoring.json    |  0
 .../resources/META-INF/{wemi => cxs}/segments/contacts.json  |  0
 .../resources/META-INF/{wemi => cxs}/segments/leads.json     |  0
 .../META-INF/{wemi => cxs}/segments/maleGender.json          |  0
 .../resources/META-INF/{wemi => cxs}/segments/youngRich.json |  0
 .../META-INF/{wemi => cxs}/tags/campaign/campaign.json       |  0
 .../{wemi => cxs}/tags/campaign/landingCampaign.json         |  0
 .../{wemi => cxs}/tags/campaign/parameterCampaign.json       |  0
 .../{wemi => cxs}/tags/campaign/referrerCampaign.json        |  0
 .../META-INF/{wemi => cxs}/tags/conditions/condition.json    |  0
 .../{wemi => cxs}/tags/conditions/eventCondition.json        |  0
 .../{wemi => cxs}/tags/conditions/profileCondition.json      |  0
 .../{wemi => cxs}/tags/conditions/sessionCondition.json      |  0
 .../{wemi => cxs}/tags/conditions/trackedCondition.json      |  0
 .../tags/conditions/usableInPastEventCondition.json          |  0
 .../resources/META-INF/{wemi => cxs}/tags/demographic.json   |  0
 .../main/resources/META-INF/{wemi => cxs}/tags/event.json    |  0
 .../resources/META-INF/{wemi => cxs}/tags/geographic.json    |  0
 .../META-INF/{wemi => cxs}/tags/goals/downloadGoal.json      |  0
 .../META-INF/{wemi => cxs}/tags/goals/formGoal.json          |  0
 .../META-INF/{wemi => cxs}/tags/goals/funnelGoal.json        |  0
 .../resources/META-INF/{wemi => cxs}/tags/goals/goal.json    |  0
 .../META-INF/{wemi => cxs}/tags/goals/landingPageGoal.json   |  0
 .../META-INF/{wemi => cxs}/tags/goals/pageVisitGoal.json     |  0
 .../META-INF/{wemi => cxs}/tags/goals/videoGoal.json         |  0
 .../main/resources/META-INF/{wemi => cxs}/tags/logical.json  |  0
 .../resources/META-INF/{wemi => cxs}/tags/profileTags.json   |  0
 .../tags/properties/profiles/basicProfileProperties.json     |  0
 .../properties/profiles/behavioralProfileProperties.json     |  0
 .../tags/properties/profiles/crmProfileProperties.json       |  0
 .../properties/profiles/demographicProfileProperties.json    |  0
 .../properties/profiles/geographicProfileProperties.json     |  0
 .../tags/properties/profiles/profileProperties.json          |  0
 .../properties/profiles/psychographicProfileProperties.json  |  0
 .../tags/properties/profiles/technicalProfileProperties.json |  0
 .../META-INF/{wemi => cxs}/tags/properties/properties.json   |  0
 .../tags/properties/sessions/basicSessionProperties.json     |  0
 .../properties/sessions/geographicSessionProperties.json     |  0
 .../tags/properties/sessions/sessionProperties.json          |  0
 .../tags/properties/sessions/technicalSessionProperties.json |  0
 .../src/main/resources/META-INF/{wemi => cxs}/tags/root.json |  0
 .../main/resources/META-INF/{wemi => cxs}/values/date.json   |  0
 .../main/resources/META-INF/{wemi => cxs}/values/email.json  |  0
 .../resources/META-INF/{wemi => cxs}/values/integer.json     |  0
 .../main/resources/META-INF/{wemi => cxs}/values/string.json |  0
 153 files changed, 18 insertions(+), 18 deletions(-)

commit 5f2184f9c868f25e249e6668a4509615a165310c
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:16:17 2015 +0100

    Do not concatenate strings in logger.info ( DMF-65 )

 .../oasis_open/contextserver/impl/services/SegmentServiceImpl.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6a6fd366da5786a18f8b14596ba8f1bda98ae634
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:11:40 2015 +0100

    Removed commented out code ( DMF-65 )

 .../org/oasis_open/contextserver/impl/services/SegmentServiceImpl.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit bc7a175dc17da723063bc859539d7974e4eb873b
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:08:35 2015 +0100

    Removed system.out.println

 .../org/oasis_open/contextserver/impl/services/SegmentServiceImpl.java  | 2 --
 1 file changed, 2 deletions(-)

commit 4dc63848a39f5b9af07645b502196253fb8631dd
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:05:39 2015 +0100

    Replaced e.printStackTrace() with logger.error() ( DMF-65 )

 .../oasis_open/contextserver/impl/services/SegmentServiceImpl.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 94274dc1155cc2b77affbd8d704c5f05ae1511ed
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:04:15 2015 +0100

    Dropped commented out code ( DMF-43 )

 .../conditions/PastEventConditionESQueryBuilder.java         | 12 ------------
 1 file changed, 12 deletions(-)

commit de6de12b703256ec28c4110b3ffdf2961d1c5ce4
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Mar 12 12:03:50 2015 +0100

    DMF-43 - Made task execution period configurable

 .../contextserver/impl/services/SegmentServiceImpl.java        | 10 ++++++++--
 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml   |  1 +
 2 files changed, 9 insertions(+), 2 deletions(-)

commit f4569475dcf117da515e6a11c4d47390c37246f0
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Mar 12 11:20:41 2015 +0100

    DMF-221 Add license headers to all files that allow it (JSON comments are not standard so not included)

 LICENSE.txt                                        | 201 +++++++++++++++++++++
 README.md                                          |   4 +-
 .../oasis_open/contextserver/api/ClusterNode.java  |  22 +++
 .../contextserver/api/ContextRequest.java          |  22 +++
 .../contextserver/api/ContextResponse.java         |  22 +++
 .../oasis_open/contextserver/api/CustomItem.java   |  22 +++
 .../org/oasis_open/contextserver/api/Event.java    |  22 +++
 .../contextserver/api/EventProperty.java           |  22 +++
 .../oasis_open/contextserver/api/EventSource.java  |  22 +++
 .../oasis_open/contextserver/api/EventTarget.java  |  22 +++
 .../contextserver/api/EventsCollectorRequest.java  |  22 +++
 .../org/oasis_open/contextserver/api/Item.java     |  22 +++
 .../org/oasis_open/contextserver/api/Metadata.java |  22 +++
 .../oasis_open/contextserver/api/MetadataItem.java |  22 +++
 .../oasis_open/contextserver/api/Parameter.java    |  22 +++
 .../oasis_open/contextserver/api/PartialList.java  |  22 +++
 .../org/oasis_open/contextserver/api/Persona.java  |  22 +++
 .../contextserver/api/PersonaSession.java          |  22 +++
 .../contextserver/api/PersonaWithSessions.java     |  22 +++
 .../oasis_open/contextserver/api/PluginType.java   |  22 +++
 .../org/oasis_open/contextserver/api/Profile.java  |  22 +++
 .../api/PropertyMergeStrategyExecutor.java         |  22 +++
 .../api/PropertyMergeStrategyType.java             |  22 +++
 .../oasis_open/contextserver/api/PropertyType.java |  22 +++
 .../org/oasis_open/contextserver/api/Session.java  |  22 +++
 .../java/org/oasis_open/contextserver/api/Tag.java |  22 +++
 .../contextserver/api/TimestampedItem.java         |  22 +++
 .../oasis_open/contextserver/api/ValueType.java    |  22 +++
 .../contextserver/api/actions/Action.java          |  22 +++
 .../contextserver/api/actions/ActionExecutor.java  |  22 +++
 .../contextserver/api/actions/ActionType.java      |  22 +++
 .../contextserver/api/campaigns/Campaign.java      |  22 +++
 .../contextserver/api/conditions/Condition.java    |  22 +++
 .../api/conditions/ConditionType.java              |  22 +++
 .../initializers/ChoiceListInitializer.java        |  22 +++
 .../conditions/initializers/ChoiceListValue.java   |  22 +++
 .../api/conditions/initializers/I18nSupport.java   |  22 +++
 .../oasis_open/contextserver/api/goals/Goal.java   |  22 +++
 .../contextserver/api/goals/GoalReport.java        |  22 +++
 .../contextserver/api/query/Aggregate.java         |  22 +++
 .../contextserver/api/query/AggregateQuery.java    |  22 +++
 .../contextserver/api/query/GenericRange.java      |  22 +++
 .../contextserver/api/query/NumericRange.java      |  22 +++
 .../oasis_open/contextserver/api/rules/Rule.java   |  22 +++
 .../contextserver/api/segments/Scoring.java        |  22 +++
 .../contextserver/api/segments/ScoringElement.java |  22 +++
 .../contextserver/api/segments/Segment.java        |  22 +++
 .../api/segments/SegmentsAndScores.java            |  22 +++
 .../contextserver/api/services/ClusterService.java |  22 +++
 .../api/services/DefinitionsService.java           |  22 +++
 .../api/services/EventListenerService.java         |  22 +++
 .../contextserver/api/services/EventService.java   |  22 +++
 .../contextserver/api/services/GoalsService.java   |  22 +++
 .../contextserver/api/services/ProfileService.java |  22 +++
 .../contextserver/api/services/QueryService.java   |  22 +++
 .../contextserver/api/services/RulesService.java   |  22 +++
 .../contextserver/api/services/SegmentService.java |  22 +++
 kar/src/main/feature/feature.xml                   |  22 +++
 package/src/main/descriptors/src.xml               |  22 +++
 package/src/main/resources/data/maven/settings.xml |  21 +++
 package/src/main/resources/etc/custom.properties   |  21 +++
 .../ElasticSearchPersistenceServiceImpl.java       |  22 +++
 .../conditions/BooleanConditionESQueryBuilder.java |  22 +++
 .../conditions/BooleanConditionEvaluator.java      |  22 +++
 .../conditions/ConditionContextHelper.java         |  22 +++
 .../conditions/ConditionESQueryBuilder.java        |  22 +++
 .../ConditionESQueryBuilderDispatcher.java         |  22 +++
 .../conditions/ConditionEvaluator.java             |  22 +++
 .../conditions/ConditionEvaluatorDispatcher.java   |  22 +++
 ...ationByPointSessionConditionESQueryBuilder.java |  22 +++
 ...eoLocationByPointSessionConditionEvaluator.java |  22 +++
 .../MatchAllConditionESQueryBuilder.java           |  22 +++
 .../conditions/MatchAllConditionEvaluator.java     |  22 +++
 .../conditions/NotConditionESQueryBuilder.java     |  22 +++
 .../conditions/NotConditionEvaluator.java          |  22 +++
 .../PropertyConditionESQueryBuilder.java           |  22 +++
 .../conditions/PropertyConditionEvaluator.java     |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../src/main/resources/maven-metadata-local.xml    |  22 +++
 .../plugins/security/src/main/assembly/plugin.xml  |  22 +++
 .../contextserver/IPRangeMatcher.java              |  22 +++
 .../contextserver/SecurityPlugin.java              |  22 +++
 .../contextserver/SecurityPluginModule.java        |  22 +++
 .../contextserver/SecurityPluginService.java       |  22 +++
 .../src/main/resources/es-plugin.properties        |  21 +++
 .../src/main/resources/maven-metadata-local.xml    |  22 +++
 .../persistence/spi/CustomObjectMapper.java        |  22 +++
 .../persistence/spi/ItemDeserializer.java          |  22 +++
 .../persistence/spi/PersistenceService.java        |  22 +++
 .../spi/PropertyTypedObjectDeserializer.java       |  22 +++
 .../persistence/spi/aggregate/BaseAggregate.java   |  22 +++
 .../persistence/spi/aggregate/DateAggregate.java   |  22 +++
 .../spi/aggregate/DateRangeAggregate.java          |  22 +++
 .../spi/aggregate/NumericRangeAggregate.java       |  22 +++
 .../persistence/spi/aggregate/TermsAggregate.java  |  22 +++
 .../HoverEventConditionESQueryBuilder.java         |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../src/main/resources/messages_en.properties      |  21 +++
 .../src/main/resources/messages_fr.properties      |  27 ++-
 .../plugins/mail/actions/SendMailAction.java       |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../OSGI-INF/metatype/metatype.properties          |  21 +++
 .../main/resources/OSGI-INF/metatype/metatype.xml  |  22 +++
 .../mail/src/main/resources/messages_en.properties |  21 +++
 .../mail/src/main/resources/messages_fr.properties |  25 ++-
 .../PastEventConditionESQueryBuilder.java          |  22 +++
 .../conditions/PastEventConditionEvaluator.java    |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../src/main/resources/messages_en.properties      |  21 +++
 .../RequestHeaderToProfilePropertyAction.java      |  22 +++
 .../RequestParameterToProfilePropertyAction.java   |  22 +++
 .../request/actions/SetRemoteHostInfoAction.java   |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../src/main/resources/maven-metadata-local.xml    |  22 +++
 .../src/main/resources/messages_en.properties      |  21 +++
 .../src/main/resources/messages_fr.properties      |  47 +++--
 ...SourceEventPropertyConditionESQueryBuilder.java |  22 +++
 .../SourceEventPropertyConditionEvaluator.java     |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../src/main/resources/messages_en.properties      |  21 +++
 pom.xml                                            |  37 ++++
 .../rest/CampaignsServiceEndPoint.java             |  22 +++
 .../contextserver/rest/ClusterServiceEndPoint.java |  22 +++
 .../rest/DefinitionsServiceEndPoint.java           |  22 +++
 .../contextserver/rest/GoalsServiceEndPoint.java   |  22 +++
 .../contextserver/rest/ProfileServiceEndPoint.java |  22 +++
 .../contextserver/rest/QueryServiceEndPoint.java   |  22 +++
 .../contextserver/rest/RESTActionType.java         |  22 +++
 .../contextserver/rest/RESTConditionType.java      |  22 +++
 .../contextserver/rest/RESTParameter.java          |  22 +++
 .../contextserver/rest/RESTPropertyType.java       |  22 +++
 .../oasis_open/contextserver/rest/RESTRange.java   |  22 +++
 .../org/oasis_open/contextserver/rest/RESTTag.java |  22 +++
 .../contextserver/rest/RESTValueType.java          |  22 +++
 .../contextserver/rest/ResourceBundleHelper.java   |  22 +++
 .../contextserver/rest/RulesServiceEndPoint.java   |  22 +++
 .../contextserver/rest/ScoringServiceEndPoint.java |  22 +++
 .../contextserver/rest/SegmentServiceEndPoint.java |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 .../impl/actions/ActionExecutorDispatcher.java     |  22 +++
 .../actions/AllEventToProfilePropertiesAction.java |  22 +++
 .../actions/EvaluateProfileSegmentsAction.java     |  22 +++
 .../impl/actions/EventToProfilePropertyAction.java |  22 +++
 .../actions/IncrementInterestsValuesAction.java    |  22 +++
 .../actions/MergeProfilesOnPropertyAction.java     |  22 +++
 .../impl/actions/SendEventAction.java              |  22 +++
 .../impl/actions/SetEventOccurenceCountAction.java |  22 +++
 .../impl/actions/SetPropertyAction.java            |  22 +++
 .../ComparisonOperatorChoiceListInitializer.java   |  22 +++
 .../ComparisonOperatorChoiceListValue.java         |  22 +++
 .../initializers/CountryChoiceListInitializer.java |  22 +++
 .../EventPropertyChoiceListInitializer.java        |  22 +++
 .../EventTypeIdChoiceListInitializer.java          |  22 +++
 .../initializers/GoalsChoiceListInitializer.java   |  22 +++
 .../PropertyTypeChoiceListInitializer.java         |  22 +++
 .../initializers/PropertyTypeChoiceListValue.java  |  22 +++
 .../SegmentsChoiceListInitializer.java             |  22 +++
 .../mergers/AddPropertyMergeStrategyExecutor.java  |  22 +++
 .../DefaultPropertyMergeStrategyExecutor.java      |  22 +++
 .../MostRecentPropertyMergeStrategyExecutor.java   |  22 +++
 .../NonEmptyPropertyMergeStrategyExecutor.java     |  22 +++
 .../OldestPropertyMergeStrategyExecutor.java       |  22 +++
 .../impl/services/DefinitionsServiceImpl.java      |  22 +++
 .../impl/services/EventServiceImpl.java            |  22 +++
 .../impl/services/GoalsServiceImpl.java            |  22 +++
 .../contextserver/impl/services/ParserHelper.java  |  22 +++
 .../impl/services/ProfileServiceImpl.java          |  22 +++
 .../impl/services/QueryServiceImpl.java            |  22 +++
 .../impl/services/RulesServiceImpl.java            |  22 +++
 .../impl/services/SegmentServiceImpl.java          |  22 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  22 +++
 services/src/main/resources/messages_de.properties |  47 +++--
 services/src/main/resources/messages_en.properties |  21 +++
 services/src/main/resources/messages_fr.properties |  23 ++-
 .../contextserver/web/ContextServlet.java          |  22 +++
 .../contextserver/web/EventsCollectorServlet.java  |  22 +++
 .../oasis_open/contextserver/web/HttpUtils.java    |  22 +++
 wab/src/main/resources/maven-metadata-local.xml    |  22 +++
 wab/src/main/webapp/WEB-INF/javascript/base.js     |  21 +++
 .../webapp/WEB-INF/javascript/impersonateBase.js   |  21 +++
 wab/src/main/webapp/WEB-INF/web.xml                |  21 +++
 wab/src/main/webapp/index.html                     |  21 +++
 wab/src/main/webapp/login.jsp                      |  21 +++
 183 files changed, 4212 insertions(+), 34 deletions(-)

commit 4e18849ae597a805b4ff58fffd15e20ffb575f50
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Mar 12 09:09:49 2015 +0100

    Move last remaining Sigar library to the new location and removed old location

 .../src/main/resources/lib/sigar/sigar-x86-winnt.lib        | Bin
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 986926676c829baca0a6f2a023ecdad3a63aabec
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Wed Mar 11 18:46:54 2015 -0400

    DMF-157
    
    Query profile matching a campaign

 .../contextserver/api/services/GoalsService.java         |  5 +++++
 .../ElasticSearchPersistenceServiceImpl.java             | 13 +++++++++----
 .../persistence/spi/PersistenceService.java              |  3 +++
 .../contextserver/rest/CampaignsServiceEndPoint.java     | 12 ++++++++++++
 .../contextserver/impl/services/GoalsServiceImpl.java    | 16 ++++++++++++++++
 5 files changed, 45 insertions(+), 4 deletions(-)

commit 232f37899922e36a5c671a2a75767aa860b8b699
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Mar 11 13:36:38 2015 +0100

    Fixed campaign goal count

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 4140a9232dbf670785e155abf581fc0fcc439a0b
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 10 15:13:33 2015 -0400

    DMF-149
    
    Add primaryGoal relationship to campaign

 .../org/oasis_open/contextserver/api/campaigns/Campaign.java   | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 822f5dcfb051412e0b103799a64ec76cdc7d781d
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Tue Mar 10 12:43:26 2015 -0400

    DMF-152
    
    Fix campaign indexation
    
    Add cost and currency fields

 .../contextserver/api/campaigns/Campaign.java        | 20 ++++++++++++++++++++
 .../resources/META-INF/wemi/mappings/campaign.json   | 16 ++++++++++++++++
 2 files changed, 36 insertions(+)

commit 05e072176563d51a0cb10b65282a9eddee454771
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Fri Mar 6 16:28:02 2015 -0500

    DMF-144
    
    Allow to get goals metadata for a campaign

 .../org/oasis_open/contextserver/api/services/GoalsService.java    | 2 ++
 .../org/oasis_open/contextserver/rest/GoalsServiceEndPoint.java    | 6 ++++++
 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java   | 7 +++++++
 3 files changed, 15 insertions(+)

commit fcd4e7e0902a62da4010ce8fddf8bd0aecc70643
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Fri Mar 6 13:02:44 2015 -0500

    DMF-127
    
    Add tags for campaign types

 .../src/main/resources/META-INF/wemi/tags/campaign/landingCampaign.json | 2 +-
 .../main/resources/META-INF/wemi/tags/campaign/parameterCampaign.json   | 2 +-
 .../main/resources/META-INF/wemi/tags/campaign/referrerCampaign.json    | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 2188812bdde2950564dd299d2356261d69deeea4
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Fri Mar 6 12:58:03 2015 -0500

    DMF-127
    
    Add tags for campaign types

 services/src/main/resources/META-INF/wemi/tags/campaign/campaign.json | 4 ++++
 .../main/resources/META-INF/wemi/tags/campaign/landingCampaign.json   | 4 ++++
 .../main/resources/META-INF/wemi/tags/campaign/parameterCampaign.json | 4 ++++
 .../main/resources/META-INF/wemi/tags/campaign/referrerCampaign.json  | 4 ++++
 4 files changed, 16 insertions(+)

commit 2ee76ef53903f59075f24697f84ca66fba950f55
Author: Chris Laprun <metacosm@gmail.com>
Date:   Wed Mar 4 15:53:26 2015 +0100

    Set CORS headers sooner so that errors are not misconstrued for CORS issues on the client in case of an exception happening before the headers are set.

 .../contextserver/web/ContextServlet.java          | 48 +++++++++++++---------
 1 file changed, 29 insertions(+), 19 deletions(-)

commit 7ca6a9675924993279b96f766eee3ed36a077f08
Author: Cedric Mailleux <cedric.mailleux@jahia.com>
Date:   Wed Mar 4 15:03:58 2015 -0500

    Fix issue DMF-130 with javascript generated date deserialization
    
    Use a more generic ISO8601DateFormat object

 .../oasis_open/contextserver/persistence/spi/CustomObjectMapper.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3a70f5d8022e8070f7bdc7a84a80a6f0c70e8d38
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 17:22:12 2015 +0100

    Use shortcut method for settings condition/action parameter

 .../PastEventConditionESQueryBuilder.java          | 14 ++---
 .../conditions/PastEventConditionEvaluator.java    | 16 ++---
 .../SourceEventPropertyConditionEvaluator.java     | 10 ++--
 .../impl/actions/SetEventOccurenceCountAction.java | 16 ++---
 .../impl/services/DefinitionsServiceImpl.java      |  4 +-
 .../impl/services/EventServiceImpl.java            | 32 +++++-----
 .../impl/services/GoalsServiceImpl.java            | 68 +++++++++++-----------
 .../impl/services/SegmentServiceImpl.java          | 24 ++++----
 8 files changed, 90 insertions(+), 94 deletions(-)

commit a399d5477cf342a27c6117548b5bff5cd86c8a24
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 17:21:47 2015 +0100

    Added shortcut method for settings an action parameter

 .../main/java/org/oasis_open/contextserver/api/actions/Action.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit 8498343a987dc50f1b95c948fe651c0f01d9e21f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 17:14:31 2015 +0100

    DMF-28 - Code cleanup

 .../contextserver/api/conditions/Condition.java    |  2 +-
 .../conditions/BooleanConditionESQueryBuilder.java | 33 +++++++++++-----------
 .../conditions/NotConditionESQueryBuilder.java     |  7 +----
 .../conditions/NotConditionEvaluator.java          |  3 +-
 4 files changed, 20 insertions(+), 25 deletions(-)

commit a6c6b34cc1a7b9b7ad6781f217d8dc3a2548a0ac
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 16:22:09 2015 +0100

    DMF-63 - Code cleanup

 .../contextserver/impl/services/DefinitionsServiceImpl.java   | 11 +++--------
 .../contextserver/impl/services/SegmentServiceImpl.java       |  4 +---
 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml  |  1 -
 3 files changed, 4 insertions(+), 12 deletions(-)

commit 93e043961d06f4a8545c0899e50f112d12ff9cc7
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 16:02:05 2015 +0100

    DMF-63 - removed unused field; added serialVersionUID

 .../java/org/oasis_open/contextserver/web/EventsCollectorServlet.java | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit bed2aa1af2a77eeeb2b5a7aa7c48b6e47532c6cc
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 16:01:35 2015 +0100

    Added checkstyle profile

 pom.xml | 59 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 59 insertions(+)

commit c70353ef5cea07b00f0eb463d20c93a612aa1741
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 16:01:07 2015 +0100

    DMF-63 - Initialization-on-demand holder idiom

 .../persistence/spi/CustomObjectMapper.java              | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit fcdf7d37d4789cd41d2d9cca5ae2d40a24e384cb
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 15:18:32 2015 +0100

    DMF-63 - dropped dummy class JavaDoc

 api/src/main/java/org/oasis_open/contextserver/api/Event.java          | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/EventTarget.java    | 3 ---
 .../java/org/oasis_open/contextserver/api/EventsCollectorRequest.java  | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/Item.java           | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/Metadata.java       | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/PluginType.java     | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/Profile.java        | 3 ---
 .../org/oasis_open/contextserver/api/PropertyMergeStrategyType.java    | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/PropertyType.java   | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/ValueType.java      | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/actions/Action.java | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/goals/Goal.java     | 3 ---
 .../main/java/org/oasis_open/contextserver/api/goals/GoalReport.java   | 3 ---
 .../main/java/org/oasis_open/contextserver/api/query/Aggregate.java    | 3 ---
 .../java/org/oasis_open/contextserver/api/query/AggregateQuery.java    | 3 ---
 .../main/java/org/oasis_open/contextserver/api/query/GenericRange.java | 3 ---
 .../main/java/org/oasis_open/contextserver/api/query/NumericRange.java | 3 ---
 api/src/main/java/org/oasis_open/contextserver/api/rules/Rule.java     | 3 ---
 .../main/java/org/oasis_open/contextserver/api/segments/Scoring.java   | 3 ---
 .../java/org/oasis_open/contextserver/api/segments/ScoringElement.java | 3 ---
 .../main/java/org/oasis_open/contextserver/api/segments/Segment.java   | 3 ---
 .../java/org/oasis_open/contextserver/api/services/ClusterService.java | 3 ---
 .../oasis_open/contextserver/api/services/EventListenerService.java    | 1 -
 .../java/org/oasis_open/contextserver/api/services/ProfileService.java | 3 ---
 .../java/org/oasis_open/contextserver/api/services/QueryService.java   | 3 ---
 .../java/org/oasis_open/contextserver/api/services/RulesService.java   | 3 ---
 .../java/org/oasis_open/contextserver/api/services/SegmentService.java | 3 ---
 .../src/test/java/org/oasis_open/contextserver/itests/SegmentTest.java | 3 ---
 .../src/test/java/org/oasis_open/contextserver/itests/TestUtils.java   | 3 ---
 .../java/org/oasis_open/contextserver/performancetests/BasicTest.java  | 3 ---
 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java | 3 ---
 .../elasticsearch/conditions/BooleanConditionESQueryBuilder.java       | 3 ---
 .../persistence/elasticsearch/conditions/ConditionESQueryBuilder.java  | 3 ---
 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java    | 3 ---
 .../conditions/GeoLocationByPointSessionConditionESQueryBuilder.java   | 3 ---
 .../conditions/GeoLocationByPointSessionConditionEvaluator.java        | 3 ---
 .../elasticsearch/conditions/MatchAllConditionESQueryBuilder.java      | 3 ---
 .../elasticsearch/conditions/MatchAllConditionEvaluator.java           | 3 ---
 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java      | 3 ---
 .../src/main/java/org/elasticsearch/contextserver/SecurityPlugin.java  | 3 ---
 .../java/org/elasticsearch/contextserver/SecurityPluginModule.java     | 3 ---
 .../oasis_open/contextserver/persistence/spi/PersistenceService.java   | 3 ---
 .../contextserver/persistence/spi/aggregate/DateAggregate.java         | 3 ---
 .../contextserver/persistence/spi/aggregate/DateRangeAggregate.java    | 3 ---
 .../contextserver/persistence/spi/aggregate/NumericRangeAggregate.java | 3 ---
 .../contextserver/persistence/spi/aggregate/TermsAggregate.java        | 3 ---
 .../events/hover/querybuilders/HoverEventConditionESQueryBuilder.java  | 3 ---
 .../oasis_open/contextserver/plugins/mail/actions/SendMailAction.java  | 3 ---
 .../plugins/pastevent/conditions/PastEventConditionESQueryBuilder.java | 3 ---
 .../contextserver/plugins/request/actions/SetRemoteHostInfoAction.java | 3 ---
 .../conditions/SourceEventPropertyConditionESQueryBuilder.java         | 3 ---
 .../trackedevent/conditions/SourceEventPropertyConditionEvaluator.java | 3 ---
 .../org/oasis_open/contextserver/rest/CampaignsServiceEndPoint.java    | 3 ---
 .../java/org/oasis_open/contextserver/rest/ClusterServiceEndPoint.java | 3 ---
 .../main/java/org/oasis_open/contextserver/rest/RESTActionType.java    | 3 ---
 .../src/main/java/org/oasis_open/contextserver/rest/RESTParameter.java | 3 ---
 .../main/java/org/oasis_open/contextserver/rest/RESTPropertyType.java  | 3 ---
 rest/src/main/java/org/oasis_open/contextserver/rest/RESTRange.java    | 3 ---
 rest/src/main/java/org/oasis_open/contextserver/rest/RESTTag.java      | 3 ---
 .../src/main/java/org/oasis_open/contextserver/rest/RESTValueType.java | 3 ---
 .../java/org/oasis_open/contextserver/rest/RulesServiceEndPoint.java   | 3 ---
 .../java/org/oasis_open/contextserver/rest/ScoringServiceEndPoint.java | 3 ---
 .../java/org/oasis_open/contextserver/rest/SegmentServiceEndPoint.java | 3 ---
 .../contextserver/impl/actions/ActionExecutorDispatcher.java           | 3 ---
 .../contextserver/impl/actions/AllEventToProfilePropertiesAction.java  | 3 ---
 .../contextserver/impl/actions/EvaluateProfileSegmentsAction.java      | 3 ---
 .../contextserver/impl/actions/IncrementInterestsValuesAction.java     | 3 ---
 .../contextserver/impl/actions/MergeProfilesOnPropertyAction.java      | 3 ---
 .../contextserver/impl/actions/SetEventOccurenceCountAction.java       | 3 ---
 .../org/oasis_open/contextserver/impl/actions/SetPropertyAction.java   | 3 ---
 .../impl/conditions/initializers/EventTypeIdChoiceListInitializer.java | 3 ---
 .../contextserver/impl/mergers/AddPropertyMergeStrategyExecutor.java   | 3 ---
 .../impl/mergers/DefaultPropertyMergeStrategyExecutor.java             | 3 ---
 .../impl/mergers/MostRecentPropertyMergeStrategyExecutor.java          | 3 ---
 .../impl/mergers/NonEmptyPropertyMergeStrategyExecutor.java            | 3 ---
 .../impl/mergers/OldestPropertyMergeStrategyExecutor.java              | 3 ---
 .../org/oasis_open/contextserver/impl/services/EventServiceImpl.java   | 3 ---
 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java | 3 ---
 .../org/oasis_open/contextserver/impl/services/QueryServiceImpl.java   | 3 ---
 .../org/oasis_open/contextserver/impl/services/SegmentServiceImpl.java | 3 ---
 .../java/org/oasis_open/contextserver/web/EventsCollectorServlet.java  | 3 ---
 wab/src/main/java/org/oasis_open/contextserver/web/HttpUtils.java      | 3 ---
 82 files changed, 244 deletions(-)

commit ea57bd4658b4a0867aa41ca4b675d4349b52fef8
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 14:01:00 2015 +0100

    DMF-24 - add "default" resource bundle handing (fallback to a default bundle - English - if we cannot find a key in the current one)

 services/pom.xml                                   |  17 ++-
 services/src/main/resources/messages_de.properties | 103 +++++++++++++
 services/src/main/resources/messages_en.properties |  12 +-
 services/src/main/resources/messages_fr.properties | 169 +--------------------
 4 files changed, 126 insertions(+), 175 deletions(-)

commit efd27ec187595e2853968089729b35bbc50e798d
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Mar 3 14:00:14 2015 +0100

    Use maven-bundle-plugin 2.5.3

 api/pom.xml                                        | 16 ----------------
 persistence-elasticsearch/core/pom.xml             |  1 -
 persistence-elasticsearch/plugins/security/pom.xml |  1 -
 persistence-spi/pom.xml                            | 16 ----------------
 plugins/pom.xml                                    |  1 -
 plugins/request/pom.xml                            |  1 -
 pom.xml                                            | 16 ++++++++++------
 rest/pom.xml                                       | 16 ----------------
 wab/pom.xml                                        |  1 -
 9 files changed, 10 insertions(+), 59 deletions(-)

commit 777af9d64dc8d0ac447f8dd095a87b0302620547
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Mar 2 10:55:54 2015 +0100

    DMF-53 : simplified PageView event, make parameters optionals

 .../conditions/ConditionContextHelper.java         | 14 ++++++--
 .../ConditionESQueryBuilderDispatcher.java         |  5 ++-
 .../conditions/ConditionEvaluatorDispatcher.java   |  5 ++-
 .../PageViewEventConditionESQueryBuilder.java      | 37 ----------------------
 .../PageViewEventConditionEvaluator.java           | 34 --------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 17 ----------
 .../wemi/conditions/pageViewEventCondition.json    | 32 +++++++++++++++++--
 7 files changed, 50 insertions(+), 94 deletions(-)

commit b403e86b6a219e19f943d990bba1ea4ddd3a9352
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 27 19:38:06 2015 +0100

    Fixed ClassCastException

 .../plugins/pastevent/conditions/PastEventConditionEvaluator.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 177925c6c94b4cb444c3b11ee9f9cfd3424367d6
Merge: 5951c7a8 edb05ed3
Author: kevan <kevan@jahia.com>
Date:   Fri Feb 27 18:54:10 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit 5951c7a8a1b929dae4cd9c5d0639250a69e656c9
Author: kevan <kevan@jahia.com>
Date:   Fri Feb 27 18:53:55 2015 +0100

    commit RB in fr (just copy pasted en RB)

 services/src/main/resources/messages_fr.properties | 309 +++++++++++----------
 1 file changed, 165 insertions(+), 144 deletions(-)

commit edb05ed37a0dc2788bc04a76c8179cea1abdd8fb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 26 19:03:54 2015 +0100

    Added campaign endpoint, make setProperty action consistent with property condition, added campaign examples. Added session size info.

 .../org/oasis_open/contextserver/api/Session.java  | 10 +++
 .../contextserver/api/services/GoalsService.java   | 13 ++++
 .../contextserver/api/services/ProfileService.java |  2 +-
 .../rest/CampaignsServiceEndPoint.java             | 72 ++++++++++++++++++++++
 .../contextserver/rest/ProfileServiceEndPoint.java |  5 --
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 18 +++++-
 .../impl/actions/SetPropertyAction.java            | 28 ++++++---
 .../impl/services/GoalsServiceImpl.java            | 11 +---
 .../impl/services/ProfileServiceImpl.java          |  4 +-
 .../META-INF/wemi/campaigns/testCampaign.json      | 19 ------
 .../wemi/campaigns/testLandingPageCampaign.json    | 33 ++++++++++
 .../wemi/campaigns/testRefererCampaign.json        | 40 ++++++++++++
 .../wemi/campaigns/testUrlParameterCampaign.json   | 40 ++++++++++++
 .../resources/META-INF/wemi/rules/newSession.json  | 10 +--
 .../META-INF/wemi/rules/sessionPageReferrer.json   | 10 ++-
 .../META-INF/wemi/rules/sessionReferrer.json       |  2 +-
 16 files changed, 264 insertions(+), 53 deletions(-)

commit 1a69bf1304ede07babd4c9d6a7564873a4f476ce
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Feb 25 19:48:07 2015 +0100

    Campaign entry test and goals

 .../oasis_open/contextserver/api/goals/Goal.java   |  10 ++
 .../oasis_open/contextserver/api/rules/Rule.java   |  10 ++
 .../conditions/PropertyConditionEvaluator.java     |  12 +-
 .../impl/services/GoalsServiceImpl.java            | 151 ++++++++++++++++++---
 .../impl/services/RulesServiceImpl.java            |   3 +-
 .../META-INF/wemi/campaigns/testCampaign.json      |  19 +++
 .../wemi/goals/campaignFunnelGoalTest.json         |  22 +++
 ...rrentReferrer.json => sessionPageReferrer.json} |   2 +
 .../META-INF/wemi/rules/sessionReferrer.json       |   2 +
 9 files changed, 204 insertions(+), 27 deletions(-)

commit 308f49b81ef1671140b064e99290ec5f9f605690
Author: kevan <kevan@jahia.com>
Date:   Wed Feb 25 11:42:06 2015 +0100

    DMF-109: handle drill down for dates ranges

 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ab19061841129ac8a090175931e8bcde75c77f76
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 24 18:51:42 2015 +0100

    DMF-109: goal report table drill down on dates

 .../ElasticSearchPersistenceServiceImpl.java             |  8 +++++++-
 .../persistence/spi/aggregate/DateAggregate.java         | 16 ++++++++++++++++
 .../contextserver/impl/services/GoalsServiceImpl.java    |  3 ++-
 .../contextserver/impl/services/QueryServiceImpl.java    |  3 ++-
 4 files changed, 27 insertions(+), 3 deletions(-)

commit cabd41e2c38a9ee653c01737bcaeb3607d6c2344
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 24 18:05:04 2015 +0100

    DMF-109, DMF-110: drill down improve and link timeline dates to goal reports

 .../wemi/properties/profiles/behavioral/lastVisit.json      | 13 -------------
 .../wemi/properties/profiles/behavioral/nbOfVisits.json     |  8 ++++++++
 .../META-INF/wemi/properties/profiles/demographic/age.json  | 12 ++++++------
 3 files changed, 14 insertions(+), 19 deletions(-)

commit f64d6d6f5a64a41457981fce3a50b20efff3c088
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 24 11:35:07 2015 +0100

    DMF-109: drill down goal report table

 .../org/oasis_open/contextserver/impl/services/GoalsServiceImpl.java     | 1 +
 1 file changed, 1 insertion(+)

commit 9a7d552742665022e99b5425dfa217695452bbf7
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 24 10:02:31 2015 +0100

    DMF-106: implement date range aggregate

 .../ElasticSearchPersistenceServiceImpl.java             |  6 +++++-
 .../persistence/spi/aggregate/DateRangeAggregate.java    | 16 ++++++++++++++++
 .../contextserver/impl/services/GoalsServiceImpl.java    |  3 ++-
 .../contextserver/impl/services/QueryServiceImpl.java    |  3 ++-
 .../wemi/properties/profiles/behavioral/lastVisit.json   | 13 +++++++++++++
 5 files changed, 38 insertions(+), 3 deletions(-)

commit b150f55e5e6fbe4f63ef74ec856e6ad64065d524
Author: kevan <kevan@jahia.com>
Date:   Mon Feb 23 15:15:12 2015 +0100

    DMF-106: implement integer ranges

 .../oasis_open/contextserver/api/PropertyType.java | 15 +++++++--
 .../api/services/DefinitionsService.java           |  7 ++--
 .../rest/DefinitionsServiceEndPoint.java           | 35 ++++++++++++++++----
 .../contextserver/rest/RESTPropertyType.java       | 18 +++++++++++
 .../oasis_open/contextserver/rest/RESTRange.java   | 37 ++++++++++++++++++++++
 .../impl/services/DefinitionsServiceImpl.java      |  8 +++++
 .../wemi/properties/profiles/demographic/age.json  |  8 +++++
 7 files changed, 114 insertions(+), 14 deletions(-)

commit fe03d2b50ad8ef33efb450c6af82b7135b211b78
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 20 14:30:28 2015 +0100

    missing notequals filter

 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java       | 2 ++
 1 file changed, 2 insertions(+)

commit b0fc128bc3892c63c4ebb616157e0d0fd31d1876
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 20 13:44:12 2015 +0100

    addded tag

 .../src/main/resources/META-INF/wemi/conditions/goalMatchCondition.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d86b3ff2df5a918497330f42114b36e788c463c9
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 19 18:04:42 2015 +0100

    DMF-43 : added nightly cron that updates user occurences counts
    fixed profile merge on property
    update segments/rules match on update

 .../org/oasis_open/contextserver/api/Profile.java  |  10 +
 .../api/PropertyMergeStrategyExecutor.java         |   2 +-
 .../oasis_open/contextserver/api/rules/Rule.java   |  10 +
 .../contextserver/api/services/ProfileService.java |   2 +-
 .../ElasticSearchPersistenceServiceImpl.java       |   6 +-
 .../conditions/PropertyConditionEvaluator.java     |   8 +
 .../persistence/spi/PersistenceService.java        |   4 +-
 .../conditions/PastEventConditionEvaluator.java    |  66 +++---
 .../contextserver/rest/ProfileServiceEndPoint.java |   5 -
 .../actions/MergeProfilesOnPropertyAction.java     |  18 +-
 .../mergers/AddPropertyMergeStrategyExecutor.java  |  12 +-
 .../DefaultPropertyMergeStrategyExecutor.java      |  10 +-
 .../MostRecentPropertyMergeStrategyExecutor.java   |   4 +-
 .../NonEmptyPropertyMergeStrategyExecutor.java     |   4 +-
 .../OldestPropertyMergeStrategyExecutor.java       |   4 +-
 .../impl/services/ProfileServiceImpl.java          |  93 ++++----
 .../impl/services/RulesServiceImpl.java            |   1 -
 .../impl/services/SegmentServiceImpl.java          | 263 ++++++++++++++-------
 .../properties/profiles/technical/mergedWith.json  |   9 -
 services/src/main/resources/messages_en.properties |   1 -
 .../contextserver/web/ContextServlet.java          |   8 +-
 .../contextserver/web/EventsCollectorServlet.java  |   8 +-
 22 files changed, 333 insertions(+), 215 deletions(-)

commit dc42be1074ef4f89f8199344f624aeb52bda1313
Author: kevan <kevan@jahia.com>
Date:   Fri Feb 13 18:58:34 2015 +0100

    DMF-106: improve aggregation query on query service and goal report, to handle range aggregation, hardcoded a test for the age property in goal report tables

 .../contextserver/api/query/Aggregate.java         | 31 +++++++++++-
 .../contextserver/api/query/GenericRange.java      | 37 ++++++++++++++
 .../contextserver/api/query/NumericRange.java      | 37 ++++++++++++++
 .../contextserver/api/services/GoalsService.java   |  6 +--
 .../ElasticSearchPersistenceServiceImpl.java       | 25 +++++++--
 .../spi/aggregate/DateRangeAggregate.java          | 25 +++++++++
 .../spi/aggregate/NumericRangeAggregate.java       | 25 +++++++++
 .../contextserver/rest/GoalsServiceEndPoint.java   | 14 ++---
 .../impl/services/GoalsServiceImpl.java            | 59 ++++++++++++----------
 .../impl/services/QueryServiceImpl.java            |  6 +++
 10 files changed, 220 insertions(+), 45 deletions(-)

commit ef519e728b5feda507d76dda5f164a653243bc52
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 18:36:59 2015 +0100

    DMF-50 : added 2 conditions for new and returning visitors

 .../wemi/conditions/newVisitorCondition.json       | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 1b7907c2c0f53536cc1374eaa9a1195d6b25dca4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 18:36:40 2015 +0100

    DMF-50 : added 2 conditions for new and returning visitors

 .../conditions/PropertyConditionEvaluator.java     |  7 +++--
 .../wemi/conditions/returningVisitorCondition.json | 34 ++++++++++++++++++++++
 services/src/main/resources/messages_en.properties |  2 ++
 3 files changed, 41 insertions(+), 2 deletions(-)

commit 6ae8c26e4bde9a1ec7bee3dc21a7c75dd06ed303
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 17:23:01 2015 +0100

    DMF-49 : write session duration with parent condition. fixed between evaluator, fixed testMatch when using session conditions, correctly interpolate parameters in a list

 .../api/services/DefinitionsService.java           |  5 ++
 .../conditions/ConditionContextHelper.java         | 52 +++++++++++-------
 .../conditions/PropertyConditionEvaluator.java     | 35 ++++++------
 .../SessionDurationConditionESQueryBuilder.java    | 27 ----------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ---
 .../impl/services/DefinitionsServiceImpl.java      | 51 ++++++++++++++++++
 .../impl/services/ProfileServiceImpl.java          | 13 +++--
 .../impl/services/RulesServiceImpl.java            | 62 +++-------------------
 .../wemi/conditions/sessionDurationCondition.json  | 12 ++++-
 9 files changed, 132 insertions(+), 133 deletions(-)

commit ad4c6d358680cc4b0e4956153cc4166398725ec6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 16:20:03 2015 +0100

    DMF-47 : goals condition definitions and choice list initializer

 .../GoalMatchConditionESQueryBuilder.java          | 27 ----------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 -------
 .../initializers/GoalsChoiceListInitializer.java   | 27 ++++++++++++++++++++++
 .../wemi/conditions/goalMatchCondition.json        | 13 ++++++++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 +++++++
 5 files changed, 45 insertions(+), 38 deletions(-)

commit 1d6f98efdfc6ac77971bed471f98c06424398a2e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 15:42:30 2015 +0100

    Fixed unit tests

 .../java/org/oasis_open/contextserver/itests/ConditionBuilder.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 78d8e9c7ec09a24701dc46b7930a6f98fac4124d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 13 15:16:24 2015 +0100

    DMF-92 : added between operator. use separate properties for int/date/string propertyValue in conditions

 .../contextserver/itests/ConditionBuilder.java     | 138 ++++++++++++---------
 .../PropertyConditionESQueryBuilder.java           |  71 ++++-------
 .../conditions/PropertyConditionEvaluator.java     |  82 ++++++------
 .../PastEventConditionESQueryBuilder.java          |   2 +-
 .../conditions/PastEventConditionEvaluator.java    |   2 +-
 .../impl/actions/SetEventOccurenceCountAction.java |   2 +-
 .../ComparisonOperatorChoiceListInitializer.java   |   2 +
 .../wemi/conditions/eventPropertyCondition.json    |  30 +++++
 .../wemi/conditions/formEventCondition.json        |   2 +-
 .../wemi/conditions/profileInterestCondition.json  |   2 +-
 .../wemi/conditions/profilePropertyCondition.json  |  31 +++++
 .../wemi/conditions/sessionPropertyCondition.json  |  30 +++++
 .../META-INF/wemi/goals/landingPageFormTest.json   |   2 +-
 .../META-INF/wemi/goals/landingPageViewTest.json   |   2 +-
 .../META-INF/wemi/segments/youngRich.json          |   4 +-
 services/src/main/resources/messages_en.properties |   1 +
 16 files changed, 253 insertions(+), 150 deletions(-)

commit 0c8590b82dc96f9876d9a58686a72310b9d4f1c1
Author: kevan <kevan@jahia.com>
Date:   Wed Feb 11 15:11:15 2015 +0100

    fix package building using generate-package profile "mvn clean install -P generate-package"

 pom.xml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit accde91c83db6487530906be6d5b28c44869fd93
Author: kevan <kevan@jahia.com>
Date:   Wed Feb 11 14:37:59 2015 +0100

    DMF-75: get report for compare progression of goal on two weeks to display arrows on goal widgets

 .../java/org/oasis_open/contextserver/api/goals/GoalReport.java   | 8 ++++----
 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java  | 4 ++--
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 70110a6e3e6c2d1e14acb1c2ddc5917782eca6d9
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 10 14:27:36 2015 +0100

    fix goal display and improve goal report to handle interval in case of timeStamp

 .../impl/services/GoalsServiceImpl.java            | 32 ++++++++++++----------
 1 file changed, 18 insertions(+), 14 deletions(-)

commit 1f3e91619c96ce13ac442486ffe4562e65508d88
Author: kevan <kevan@jahia.com>
Date:   Tue Feb 10 13:25:53 2015 +0100

    DMF-83: handle target event type for landing page goal

 .../META-INF/wemi/goals/landingPageFormTest.json   | 51 ++++++++++++++++++++++
 .../META-INF/wemi/goals/landingPageViewTest.json   | 37 ++++++++++++++++
 2 files changed, 88 insertions(+)

commit 6ca7dc3925e33d0d39cbe8812d4f0100b303c129
Author: kevan <kevan@jahia.com>
Date:   Mon Feb 9 18:58:04 2015 +0100

    DMF-89: handle download event

 .../main/resources/META-INF/wemi/conditions/downloadEventCondition.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0f0d9c0403f0c95761375bcaefda992ee6d953c7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Feb 6 17:14:48 2015 +0100

    Use items for source/target of events . cleaned items, added deserializer, fixed trackedEvent and source conditions

 .../contextserver/api/ContextRequest.java          |  8 ++--
 .../oasis_open/contextserver/api/CustomItem.java   | 26 +++++++++++++
 .../org/oasis_open/contextserver/api/Event.java    | 19 +++++-----
 .../oasis_open/contextserver/api/EventTarget.java  |  5 ---
 .../org/oasis_open/contextserver/api/Item.java     | 30 ++++++++++++---
 .../oasis_open/contextserver/api/MetadataItem.java | 32 ++++++++++++++++
 .../org/oasis_open/contextserver/api/Profile.java  | 16 ++++----
 .../org/oasis_open/contextserver/api/Session.java  | 14 ++-----
 .../contextserver/api/campaigns/Campaign.java      | 18 ++-------
 .../oasis_open/contextserver/api/goals/Goal.java   | 18 ++-------
 .../oasis_open/contextserver/api/rules/Rule.java   | 18 ++-------
 .../contextserver/api/segments/Scoring.java        | 20 ++--------
 .../contextserver/api/segments/Segment.java        | 20 ++--------
 .../oasis_open/contextserver/itests/BasicTest.java |  5 +--
 .../ElasticSearchPersistenceServiceImpl.java       | 12 +-----
 .../persistence/spi/CustomObjectMapper.java        | 32 +++++++++++++++-
 .../persistence/spi/ItemDeserializer.java          | 43 ++++++++++++++++++++++
 .../spi/PropertyTypedObjectDeserializer.java       |  6 +--
 .../HoverEventConditionESQueryBuilder.java         |  6 +--
 .../SourceEventPropertyConditionEvaluator.java     | 12 +++++-
 .../conditions/sourceEventPropertyCondition.json   |  2 +-
 pom.xml                                            |  4 +-
 .../contextserver/rest/ProfileServiceEndPoint.java |  8 +---
 .../actions/AllEventToProfilePropertiesAction.java | 13 ++++++-
 .../actions/MergeProfilesOnPropertyAction.java     |  6 +--
 .../impl/actions/SendEventAction.java              | 36 +++++++-----------
 .../impl/services/EventServiceImpl.java            | 14 +++----
 .../impl/services/GoalsServiceImpl.java            |  2 +-
 .../impl/services/ProfileServiceImpl.java          | 21 +++++------
 .../impl/services/RulesServiceImpl.java            | 18 +++++++--
 .../wemi/conditions/formEventCondition.json        |  2 +-
 .../wemi/conditions/videoViewEventCondition.json   |  2 +-
 .../META-INF/wemi/personas/googleBot.json          |  4 +-
 .../META-INF/wemi/personas/nonUsVisitor.json       |  4 +-
 .../META-INF/wemi/personas/usVisitor.json          |  4 +-
 .../resources/META-INF/wemi/rules/searchForm.json  |  9 +++--
 .../contextserver/web/ContextServlet.java          | 27 ++++++++------
 .../contextserver/web/EventsCollectorServlet.java  | 10 ++++-
 38 files changed, 317 insertions(+), 229 deletions(-)

commit 1aecd273fef39fbb24516603c7cf07b5fb22412f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 16:30:53 2015 +0100

    Set event source of event fired by a rule

 .../oasis_open/contextserver/impl/actions/SendEventAction.java    | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 994cb1725756f3f22c0f7d6818d328762e32c089
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 16:29:59 2015 +0100

    DMF-103 , DMF-104 : update origin property, put search terms in lower case

 services/src/main/resources/META-INF/wemi/rules/searchForm.json | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e093401281c51b1b6339d98493cb79d8e3527839
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 15:13:54 2015 +0100

    DMF-97 : update documentation for integration tests

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 057c697fe004f6c93f6b22107ba133ef546de3a3
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 15:13:10 2015 +0100

    DMF-97 : fixed integration tests for condition queries

 .../itests/ConditionESQueryBuilderTest.java        | 48 ++++------------------
 .../itests/ConditionEvaluatorTest.java             | 22 +++++-----
 .../ElasticSearchPersistenceServiceImpl.java       | 11 +++++
 .../persistence/spi/PersistenceService.java        |  2 +
 4 files changed, 32 insertions(+), 51 deletions(-)

commit 360cbc11d227e6ec264724d3a090de6a734fb468
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 12:15:39 2015 +0100

    DMF-44 : profile interest rewriting

 .../ProfileInterestConditionESQueryBuilder.java     | 21 ---------------------
 .../main/resources/OSGI-INF/blueprint/blueprint.xml |  8 --------
 .../wemi/conditions/profileInterestCondition.json   | 17 +++++++++++++++--
 3 files changed, 15 insertions(+), 31 deletions(-)

commit d9f8d0299bbbb7faa9409d12e80a74ed05bec646
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Feb 5 11:39:04 2015 +0100

    Fixed event property list

 .../ElasticSearchPersistenceServiceImpl.java          | 19 ++++++++++++-------
 .../persistence/spi/PersistenceService.java           |  2 +-
 .../contextserver/impl/services/EventServiceImpl.java | 16 ++++++++++++----
 3 files changed, 25 insertions(+), 12 deletions(-)

commit e489c196e83b1ba1b2cf25c941e8817d8713d615
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Feb 4 18:33:22 2015 +0100

    DMF-95 : fixed query builder for in/not in operators

 .../conditions/PropertyConditionESQueryBuilder.java          | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 46be7ffc022b2956ab291573a084840bd58e3a09
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Feb 4 16:02:33 2015 +0100

    DMF-101 : added equals/hashcode, remove duplicates tracked conditions

 .../contextserver/api/conditions/Condition.java       | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 556a2c98eea57d77b163c0ec64cfd349ce9afb61
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Feb 4 14:21:18 2015 +0100

    DMF-73 : simplified tags on goals, keep only one property

 .../org/oasis_open/contextserver/api/Metadata.java   | 20 ++++----------------
 .../impl/services/GoalsServiceImpl.java              |  3 +--
 2 files changed, 5 insertions(+), 18 deletions(-)

commit 9fb41d9447f76d56b7c33464bd5dbbcc8b848232
Author: kevan <kevan@jahia.com>
Date:   Fri Jan 30 19:29:24 2015 +0100

    DMF-87, DMF-89: Download goal and events and interfaces and improve page picker to be a generic node picker

 .../wemi/conditions/downloadEventCondition.json    | 37 ++++++++++++++++++++++
 .../META-INF/wemi/goals/downloadGoalTest.json      | 21 ++++++++++++
 2 files changed, 58 insertions(+)

commit 4c76c0d5ed29ddcdee3ba4c84df694663c07a6d1
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 30 18:35:51 2015 +0100

    DMF-102 : moved templates out from context server

 .../web/conditions/hoverEventCondition.html        |  12 --
 .../main/resources/web/actions/sendMailAction.html |  24 ---
 .../web/conditions/pastEventCondition.html         |  27 ---
 plugins/pom.xml                                    |   1 -
 plugins/request/pom.xml                            |   1 -
 .../requestHeaderToProfilePropertyAction.html      |  14 --
 .../requestParameterToProfilePropertyAction.html   |  14 --
 .../web/actions/setRemoteHostInfoAction.html       |   5 -
 .../rest/DefinitionsServiceEndPoint.java           |  60 ------
 services/pom.xml                                   |   1 -
 .../actions/allEventToProfilePropertiesAction.html |   7 -
 .../web/actions/evaluateProfileSegmentsAction.html |   7 -
 .../web/actions/eventToProfilePropertyAction.html  |  16 --
 .../actions/incrementInterestsValuesAction.html    |   7 -
 .../web/actions/mergeProfilesOnPropertyAction.html |  10 -
 .../resources/web/actions/setPropertyAction.html   |  14 --
 .../resources/web/conditions/booleanCondition.html |  31 ----
 .../web/conditions/eventPropertyCondition.html     |  45 -----
 .../web/conditions/eventTypeCondition.html         |  14 --
 .../geoLocationByPointSessionCondition.html        |  16 --
 .../conditions/geoLocationSessionCondition.html    |  12 --
 .../web/conditions/loginEventCondition.html        |   7 -
 .../web/conditions/matchAllCondition.html          |   7 -
 .../resources/web/conditions/notCondition.html     |  17 --
 .../web/conditions/pageViewEventCondition.html     |  15 --
 .../web/conditions/profileInterestCondition.html   |  12 --
 .../web/conditions/profilePropertyCondition.html   |  45 -----
 .../web/conditions/profileSegmentCondition.html    |  18 --
 .../conditions/profileUpdatedEventCondition.html   |   7 -
 .../conditions/sessionCreatedEventCondition.html   |   7 -
 .../web/conditions/sessionDurationCondition.html   |  12 --
 .../web/conditions/sessionPropertyCondition.html   |  45 -----
 services/src/main/resources/web/values/date.html   |   1 -
 services/src/main/resources/web/values/email.html  |   1 -
 .../src/main/resources/web/values/integer.html     |   1 -
 services/src/main/resources/web/values/string.html |   1 -
 .../contextserver/web/PluginsCorsFilter.java       |  42 -----
 .../contextserver/web/PluginsExtender.java         | 203 ---------------------
 38 files changed, 779 deletions(-)

commit e5ebbe3c2ffeda6de25070746c9446c5458461d9
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 30 15:43:17 2015 +0100

    DMF-42 : simplified segments resolution by removing percolation. fixed pastEvent condition evaluator/query builder by using sub queries. removed generated rules and gemnerated property for pastEvent conditions.

 .../ElasticSearchPersistenceServiceImpl.java       |  27 ++-
 .../persistence/spi/PersistenceService.java        |   2 +
 .../PastEventConditionESQueryBuilder.java          |  73 ++++++--
 .../conditions/PastEventConditionEvaluator.java    |   4 +
 .../wemi/conditions/pastEventCondition.json        |   5 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   5 +-
 .../impl/services/QueryServiceImpl.java            |  15 +-
 .../impl/services/RulesServiceImpl.java            |  12 +-
 .../impl/services/SegmentServiceImpl.java          | 200 +++++++++++++--------
 9 files changed, 240 insertions(+), 103 deletions(-)

commit 6b98d1453813a2f8ad0675d0ea6f275186c52d6d
Author: kevan <kevan@jahia.com>
Date:   Fri Jan 30 11:55:27 2015 +0100

    DMF-86: video goal

 .../META-INF/wemi/goals/formGoalTest.json          | 35 ----------------------
 .../wemi/conditions/videoViewEventCondition.json   |  2 +-
 .../META-INF/wemi/goals}/formGoalTest.json         |  0
 .../META-INF/wemi/goals/videoGoalTest.json         | 20 +++++++++++--
 4 files changed, 18 insertions(+), 39 deletions(-)

commit d1fa7ca454e26c6935e8809b487e43a302e5ea67
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 30 11:09:17 2015 +0100

    Replaced rules percolation by  match test by evaluator
    DMF-53 : Added pageview evaluator

 .../PageViewEventConditionEvaluator.java           | 34 +++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 +++
 .../impl/services/RulesServiceImpl.java            | 83 ++++++++++++----------
 .../wemi/conditions/pageViewEventCondition.json    |  1 +
 4 files changed, 91 insertions(+), 36 deletions(-)

commit 6a6ea90c159ad1babb9d49eb25a0393adb426115
Author: Chris Laprun <metacosm@gmail.com>
Date:   Thu Jan 29 17:06:12 2015 +0100

    Fixed missing keys for session properties.

 .../wemi/properties/sessions/geographic/city.json  |   0
 .../sessions/geographic/countryCode.json           |   0
 .../sessions/geographic/countryName.json           |   0
 .../properties/sessions/geographic/latitude.json   |   0
 .../properties/sessions/geographic/longitude.json  |   0
 .../sessions/technical/deviceCategory.json         |   0
 .../sessions/technical/operatingSystemFamily.json  |   0
 .../sessions/technical/operatingSystemName.json    |   0
 .../properties/sessions/technical/remoteAddr.json  |   0
 .../properties/sessions/technical/remoteHost.json  |   0
 .../sessions/technical/userAgentName.json          |   0
 .../sessions/technical/userAgentVersion.json       |   0
 services/src/main/resources/messages_en.properties |   9 +-
 services/src/main/resources/messages_fr.properties | 149 +++++++++++----------
 14 files changed, 82 insertions(+), 76 deletions(-)

commit 71d881a9099567084e64ed29cb62bcf8b656de4a
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 29 15:59:49 2015 +0100

    fix variable naming conflict in integration tests

 .../contextserver/itests/ConditionESQueryBuilderTest.java          | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit fdfd9783113ea05683c0c7290bab5a7a077214ff
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 29 15:36:26 2015 +0100

    fix itests

 .../org/oasis_open/contextserver/itests/BasicTest.java    |  4 +++-
 .../contextserver/itests/ConditionESQueryBuilderTest.java | 15 ++++++++++++++-
 2 files changed, 17 insertions(+), 2 deletions(-)

commit c96017a7817fcf2950765f3172edf4a8c90a8ceb
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 29 15:17:43 2015 +0100

    small fixes (NaN display and PAthNotFound in fliter when source are not available)

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 9f5290bd3b1c620757115d955436f34591a24675
Merge: bf28d3f8 5476025c
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 29 11:38:50 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit bf28d3f852105525322c4de8bb808ca8cbb1b5e5
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 29 11:38:26 2015 +0100

    DMF-101: improve tracked events

 .../contextserver/api/ContextRequest.java          | 22 +++-----
 .../contextserver/api/ContextResponse.java         | 13 ++---
 .../oasis_open/contextserver/api/EventSource.java  |  9 ++++
 .../contextserver/api/services/RulesService.java   |  3 ++
 kar/pom.xml                                        | 10 ++++
 plugins/pom.xml                                    |  1 +
 plugins/tracked-event/pom.xml                      | 31 ++++++++++++
 ...SourceEventPropertyConditionESQueryBuilder.java | 39 +++++++++++++++
 .../SourceEventPropertyConditionEvaluator.java     | 58 ++++++++++++++++++++++
 .../META-INF.wemi.goals/formGoalTest.json          | 35 +++++++++++++
 .../conditions/sourceEventPropertyCondition.json   | 28 +++++++++++
 .../META-INF/wemi/goals/formGoalTest.json          | 35 +++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 25 ++++++++++
 .../src/main/resources/messages_en.properties      |  0
 .../impl/services/RulesServiceImpl.java            | 43 ++++++++++++++--
 .../wemi/conditions/formEventCondition.json        |  3 +-
 .../wemi/conditions/videoViewEventCondition.json   | 38 ++++++++++++++
 .../{formGoalTest.json => videoGoalTest.json}      | 12 ++---
 .../wemi/tags/conditions/trackedCondition.json     |  4 ++
 ...dition.json => usableInPastEventCondition.json} |  0
 .../META-INF/wemi/tags/goals/videoGoal.json        |  4 ++
 services/src/main/resources/messages_en.properties |  3 ++
 wab/pom.xml                                        |  1 +
 .../contextserver/web/ContextServlet.java          | 23 +++------
 24 files changed, 392 insertions(+), 48 deletions(-)

commit 5476025cb197c4746b89e91130a15465c15e60ab
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 29 11:17:16 2015 +0100

    DMF-41 : update pastevent template with count

 .../pastevent/conditions/PastEventConditionESQueryBuilder.java        | 4 ++--
 .../src/main/resources/web/conditions/pastEventCondition.html         | 2 +-
 .../web/conditions/{matchAll.html => matchAllCondition.html}          | 0
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 9d2d9d21b91d152ed1b5b22029b94e962a80cc4b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 29 10:04:44 2015 +0100

    Moved EventsCollectorRequest to api

 .../org/oasis_open/contextserver/api}/EventsCollectorRequest.java    | 2 +-
 .../org/oasis_open/contextserver/web/EventsCollectorServlet.java     | 5 +----
 wab/src/main/java/org/oasis_open/contextserver/web/HttpUtils.java    | 5 +----
 3 files changed, 3 insertions(+), 9 deletions(-)

commit 9792addee7291f0849f85942b9c8a3d9eac72bc5
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 28 14:17:08 2015 +0100

    I18n labels

 .../src/main/resources/messages_en.properties      | 50 ++++++++++------------
 .../src/main/resources/messages_fr.properties      | 49 ++++++++++-----------
 .../requestHeaderToProfilePropertyAction.html      |  4 +-
 .../requestParameterToProfilePropertyAction.html   |  4 +-
 .../web/actions/setRemoteHostInfoAction.html       |  2 +-
 services/src/main/resources/messages_en.properties |  4 ++
 .../conditions/geoLocationSessionCondition.html    |  4 +-
 7 files changed, 55 insertions(+), 62 deletions(-)

commit 8adeb68b390f3d3ff61b81d7915f397038e0ea8b
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 28 12:10:10 2015 +0100

    DMF-52 - Page view event : create html template with page picker

 services/src/main/resources/messages_en.properties           |  2 ++
 .../resources/web/conditions/pageViewEventCondition.html     | 12 +++++++++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit fb43df3150c956c9f57da6d2f2bccd13b9e40883
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 12:59:31 2015 +0100

    I18n labels

 .../resources/META-INF/wemi/actions/sendMailAction.json |  2 +-
 plugins/mail/src/main/resources/messages_en.properties  | 17 ++++++++---------
 plugins/mail/src/main/resources/messages_fr.properties  | 17 ++++++++---------
 .../src/main/resources/web/actions/sendMailAction.html  | 16 ++++++++--------
 4 files changed, 25 insertions(+), 27 deletions(-)

commit 2e0bb12910be40a9db172875a13e67c4cf5ff4fe
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 12:48:50 2015 +0100

    I18n resources

 plugins/hover-event/src/main/resources/messages_en.properties | 11 ++++-------
 plugins/hover-event/src/main/resources/messages_fr.properties | 11 ++++-------
 .../main/resources/web/conditions/hoverEventCondition.html    |  4 ++--
 services/src/main/resources/messages_en.properties            |  6 ++++++
 4 files changed, 16 insertions(+), 16 deletions(-)

commit 06a7bb5e453fa5cfd5845ee53a9550527fa986bb
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 12:30:13 2015 +0100

    DMF-44 - Profile interests : Rewrite definition using profilePropertyCondition

 .../ConditionESQueryBuilderDispatcher.java           |  9 +++++----
 .../ProfileInterestConditionESQueryBuilder.java      | 13 ++++++-------
 .../wemi/conditions/profileInterestCondition.json    | 20 +++++++-------------
 3 files changed, 18 insertions(+), 24 deletions(-)

commit abeac70379e89a4d608b4f1bd1fadc2fc56a60b4
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 11:58:39 2015 +0100

    Removed duplicate '>'

 services/src/main/resources/web/conditions/eventTypeCondition.html | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5b221073173740611da93257c8c81ad07ad34810
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 11:58:18 2015 +0100

    Label corrected

 .../src/main/resources/web/conditions/profileInterestCondition.html     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d57dcf82dfb25eedc4fb7be946659b505936f571
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 27 11:57:52 2015 +0100

    Label corrected

 services/src/main/resources/messages_en.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da3bb822e8628fc225ef8fb70d473525cd15a7ac
Author: kevan <kevan@jahia.com>
Date:   Mon Jan 26 18:27:54 2015 +0100

    DMF-99: item matching givent condition end point in query end point + fix context server app listener to send login events to context server

 .../org/oasis_open/contextserver/api/services/QueryService.java  | 3 +++
 .../org/oasis_open/contextserver/rest/QueryServiceEndPoint.java  | 6 ++++++
 .../oasis_open/contextserver/impl/services/QueryServiceImpl.java | 9 +++++++++
 3 files changed, 18 insertions(+)

commit 7c5d0c3183565a8bd643950d6c876ad9a37f7178
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 23 19:23:37 2015 +0100

    Fixed npe

 .../contextserver/impl/services/DefinitionsServiceImpl.java         | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 683f249a774aa662241b9193b569981f9a16d10d
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 22 15:19:28 2015 +0100

    Cleanup for segments interfaces and server side (i18n, services call, jsp to html templates)

 .../contextserver/api/services/SegmentService.java    |  2 --
 .../contextserver/rest/SegmentServiceEndPoint.java    | 19 ++++++-------------
 .../impl/services/SegmentServiceImpl.java             | 12 ------------
 3 files changed, 6 insertions(+), 27 deletions(-)

commit e9749a26e29287fc90cd172e6af5c913295d9056
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 22 15:06:09 2015 +0100

    DMF-40 - Added support for properties with multiple values. Made hobbies and activities multivalued fields.

 .../oasis_open/contextserver/api/PropertyType.java |  9 +++++
 .../PropertyTypeChoiceListInitializer.java         |  2 +-
 .../initializers/PropertyTypeChoiceListValue.java  | 38 ++++++++++++++++++++++
 .../profiles/psychographic/activities.json         |  1 +
 .../properties/profiles/psychographic/hobbies.json |  1 +
 5 files changed, 50 insertions(+), 1 deletion(-)

commit 7a1ffb3380a194eecb72dd14f9a04590a41e22eb
Merge: eb260479 b9247e77
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 22 15:05:27 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit b9247e7779460d89549315e0eefcac170a0c40d4
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 22 14:07:01 2015 +0100

    Cleanup for rules interface and server side, i18n, jsp to html templates, ...

 .../contextserver/api/services/RulesService.java    |  2 --
 .../contextserver/rest/RulesServiceEndPoint.java    | 21 ++++++---------------
 .../impl/services/RulesServiceImpl.java             | 13 -------------
 3 files changed, 6 insertions(+), 30 deletions(-)

commit eb2604795b700bb0a5a8f5f543b266098fa3c16f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 22 10:28:30 2015 +0100

    DMF-97 - Tests for the ConditionESQueryBuilder

 .../oasis_open/contextserver/itests/AllTests.java  |  4 +-
 .../itests/ConditionESQueryBuilderTest.java        | 74 ++++++++++++++++++++++
 .../itests/ConditionEvaluatorTest.java             |  5 +-
 3 files changed, 79 insertions(+), 4 deletions(-)

commit aebfe946d737316413d2123e47cae594456cb606
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 22 10:27:59 2015 +0100

    Fixed contains, in/notIn/all comparison in PropertyConditionESQueryBuilder

 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 873d393bfb9e20483e14907e52a9a9cd1d24d40f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 17:40:27 2015 +0100

    DMF-40 , DMF-97 - fixed "all" comparison

 .../itests/ConditionEvaluatorTest.java             | 205 ++++++++-------------
 .../conditions/PropertyConditionEvaluator.java     |   4 +-
 2 files changed, 82 insertions(+), 127 deletions(-)

commit 55fef22405890ebcdf68a2b5578c7a3b4c30c270
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 16:17:29 2015 +0100

    DMF-97 - refactor the tests to create profile in setUp() method

 .../itests/ConditionEvaluatorTest.java             | 177 ++++++++-------------
 1 file changed, 67 insertions(+), 110 deletions(-)

commit 04e9e324782200e9adee9d9bc104ea24f1792df9
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 16:16:47 2015 +0100

    Removed unused code

 .../org/oasis_open/contextserver/impl/services/SegmentServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7df8c29d721bc90261907028a167e7d4d201b70d
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 15:14:16 2015 +0100

    DMF-97 - Renamed class to ConditionEvaluatorTest

 .../oasis_open/contextserver/itests/AllTests.java  |  2 +-
 ...ditionTest.java => ConditionEvaluatorTest.java} | 96 ++--------------------
 2 files changed, 8 insertions(+), 90 deletions(-)

commit ef0e054d6e22ae194cf5ec0c9864907e7fc45472
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 14:24:10 2015 +0100

    Added labels for missing comparison operators. Changed resource bundle key/value separator from ":" to "=".

 services/src/main/resources/messages_en.properties | 310 ++++++++++-----------
 services/src/main/resources/messages_fr.properties | 304 ++++++++++----------
 2 files changed, 300 insertions(+), 314 deletions(-)

commit 42d105f480da9d79be194f9b43be0e233ebcb247
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 14:23:12 2015 +0100

    Fixed condition type description label

 .../java/org/oasis_open/contextserver/api/conditions/ConditionType.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88fd837b46664751f02688a3bd2faac2af40e9d4
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 14:10:37 2015 +0100

    DMF-40 - Dropped multipleValuesPropertyMatchCondition

 ...ValuesPropertyMatchConditionESQueryBuilder.java | 37 ----------------
 ...tipleValuesPropertyMatchConditionEvaluator.java | 51 ----------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 15 -------
 .../multipleValuesPropertyMatchCondition.json      | 25 -----------
 4 files changed, 128 deletions(-)

commit 2a0b687a813568204566169ec8f33a13701a64fd
Merge: 3853d7e8 1f38df9a
Author: kevan <kevan@jahia.com>
Date:   Wed Jan 21 13:36:49 2015 +0100

    Merge remote-tracking branch 'origin/master'

commit 3853d7e8aab77d208525bc7a5d161131a4f0a5c9
Author: kevan <kevan@jahia.com>
Date:   Wed Jan 21 13:36:38 2015 +0100

    DMF-83: fix duration type to integer, causing issue during PropertyConditionEvaluator since we are dealing with int everywhere

 api/src/main/java/org/oasis_open/contextserver/api/Session.java | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1f38df9acbe55709025d4f258b40b8609ff0417c
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:54:51 2015 +0100

    DMF-96 - run all tests in a suite to start Karaf only once

 itests/pom.xml                                         | 10 ++++++++++
 .../org/oasis_open/contextserver/itests/AllTests.java  | 18 ++++++++++++++++++
 2 files changed, 28 insertions(+)

commit df8989e4f4ca22c4fda3a5039067a06446cc38e5
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:36:03 2015 +0100

    DMF-97 - Fixed boolean condition evaluation in case of an OR

 .../conditions/BooleanConditionEvaluator.java              | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit 174711503b1242f05bf6edd44bec230010887b90
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:35:36 2015 +0100

    DMF-97 - Implement integration tests for various condition types

 .../contextserver/itests/ConditionBuilder.java     | 259 ++++++++++++++++
 .../contextserver/itests/ConditionTest.java        | 337 +++++++++++++++++++++
 2 files changed, 596 insertions(+)

commit 762fd821b19940ecb5c9433c3a192b61d86411dd
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:34:57 2015 +0100

    Use Condition.getParameter() method

 .../elasticsearch/conditions/PropertyConditionEvaluator.java      | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 742a6a1eb43b84fb26d6aa29bcd689bf20179af1
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:34:16 2015 +0100

    DMF-96 - Check the integration tests sub-project

 itests/pom.xml                                     | 54 ++++++++++------------
 .../oasis_open/contextserver/itests/BaseTest.java  | 51 ++++++++++----------
 .../oasis_open/contextserver/itests/BasicTest.java |  5 +-
 3 files changed, 51 insertions(+), 59 deletions(-)

commit a9aa3310d9c5c6943e5c55e9df2d5faa8996f365
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 21 12:28:19 2015 +0100

    Added convenient methods for getting and setting parameters

 .../org/oasis_open/contextserver/api/conditions/Condition.java    | 8 ++++++++
 1 file changed, 8 insertions(+)

commit b44f1d06e01a6ff4fd115c7a07a4944bf20f638b
Author: kevan <kevan@jahia.com>
Date:   Wed Jan 21 10:24:11 2015 +0100

    DMF-83: fix duration, the duration of a session was wrong in condition evaluators because set after rules execution, just replace the place where we set this duration before the rules execution, the duration need to be used to test if the session is a new session in some condition evaluators from goal like landing page goal

 .../org/oasis_open/contextserver/impl/services/EventServiceImpl.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 0afc7f74964489b65c8f71113e69797fc013b0ac
Merge: 62f27d26 cd61dc60
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 22:55:38 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit 62f27d264a678d445c72c234be6a284627e027ad
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 22:55:20 2015 +0100

    Added notEquals comparison

 .../elasticsearch/conditions/PropertyConditionEvaluator.java       | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit cd61dc60811ca6a01a33de9ae353a71be54ccf27
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Tue Jan 20 18:06:09 2015 +0100

    change forms actions part4

 .../resources/web/conditions/pastEventCondition.html | 20 ++++++++++----------
 1 file changed, 10 insertions(+), 10 deletions(-)

commit fda20c6bc3c3a299a1118eb948f7e58e208e98f1
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Tue Jan 20 17:41:26 2015 +0100

    change forms actions part 3

 .../requestHeaderToProfilePropertyAction.html      | 22 ++++++++++++----------
 .../requestParameterToProfilePropertyAction.html   | 22 ++++++++++++----------
 .../web/actions/setRemoteHostInfoAction.html       |  6 +++---
 3 files changed, 27 insertions(+), 23 deletions(-)

commit f4964ef1f296025f8aafcd0fc9655e39d8bc95b8
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 13:49:05 2015 +0100

    Use logger instead of System.out

 .../oasis_open/contextserver/impl/services/DefinitionsServiceImpl.java  | 2 +-
 .../org/oasis_open/contextserver/impl/services/ProfileServiceImpl.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e0fdd007d21abdf8cde5aaff2e504ffb3a91c99e
Merge: 4fcb169a a9a021ec
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 12:53:26 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit 4fcb169a0d571a02b95fabf5ab528b617f0a2e29
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 12:53:13 2015 +0100

    Use placeholder for CXF version. Upgraded Pax Exam to 4.4.0.

 itests/pom.xml            |  8 ++++----
 package/pom.xml           |  2 +-
 performance-tests/pom.xml |  2 +-
 pom.xml                   |  4 ++--
 rest/pom.xml              | 10 +++++-----
 services/pom.xml          |  8 ++++----
 6 files changed, 17 insertions(+), 17 deletions(-)

commit eee9a2ce203cbe0b91fdc7b5d4826849e56d0f8c
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 20 12:52:15 2015 +0100

    Added serialVersionUID and toString()

 .../main/java/org/oasis_open/contextserver/api/Profile.java  | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit a9a021ec1382285e2398478b69d236832d6381b8
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Tue Jan 20 11:15:52 2015 +0100

    change forms actions part 2

 .../web/conditions/hoverEventCondition.html        | 19 +++++-----
 .../main/resources/web/actions/sendMailAction.html | 40 ++++++++--------------
 2 files changed, 24 insertions(+), 35 deletions(-)

commit ee3230f97a220a1d1531a01e45424e18941b2b81
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Tue Jan 20 10:54:08 2015 +0100

    change forms actions

 .../actions/allEventToProfilePropertiesAction.html |  8 ++++---
 .../web/actions/evaluateProfileSegmentsAction.html |  8 ++++---
 .../web/actions/eventToProfilePropertyAction.html  | 26 ++++++++++++----------
 .../actions/incrementInterestsValuesAction.html    |  8 ++++---
 .../web/actions/mergeProfilesOnPropertyAction.html | 15 +++++++------
 .../resources/web/actions/setPropertyAction.html   | 22 +++++++++---------
 6 files changed, 49 insertions(+), 38 deletions(-)

commit 5f11889cca59dd8d212b5e9dc6a68e5bfb2fca1f
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Mon Jan 19 17:06:46 2015 +0100

    change forms property condition html minus plus

 .../web/conditions/eventPropertyCondition.html     | 51 +++++++++++----------
 .../web/conditions/profilePropertyCondition.html   | 52 +++++++++++-----------
 .../web/conditions/sessionPropertyCondition.html   | 51 +++++++++++----------
 3 files changed, 81 insertions(+), 73 deletions(-)

commit c5a7ee494a9837527c379f1b4fe92fa818cfa60a
Merge: 2ab51d1c 31bd1b7f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Jan 19 15:57:49 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit 2ab51d1c0bd890def3078e5236d5c65bb40ade08
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Jan 19 15:57:30 2015 +0100

    DMF-40 - Multivalue comparision support
    DMF-95 - PropertyConditionEvaluator improperly compares values of different types and also multivalue props

 .../PropertyConditionESQueryBuilder.java           |  24 +++-
 .../conditions/PropertyConditionEvaluator.java     | 134 +++++++++++++++------
 2 files changed, 121 insertions(+), 37 deletions(-)

commit 31bd1b7f2486d87f5e088243d32d6b07576a2c87
Author: rmora@jahia.com <rmora@jahia.com>
Date:   Mon Jan 19 14:01:41 2015 +0100

    change form part 1

 .../resources/web/conditions/booleanCondition.html | 12 +++---
 .../web/conditions/eventPropertyCondition.html     | 46 +++++++++++----------
 .../web/conditions/eventTypeCondition.html         | 22 +++++-----
 .../geoLocationByPointSessionCondition.html        | 26 ++++++------
 .../conditions/geoLocationSessionCondition.html    | 18 +++++----
 .../web/conditions/loginEventCondition.html        |  8 ++--
 .../main/resources/web/conditions/matchAll.html    |  8 ++--
 .../resources/web/conditions/notCondition.html     | 24 ++++++-----
 .../web/conditions/pageViewEventCondition.html     | 14 +++----
 .../web/conditions/profileInterestCondition.html   | 19 ++++-----
 .../web/conditions/profilePropertyCondition.html   | 47 ++++++++++++----------
 .../web/conditions/profileSegmentCondition.html    | 30 +++++++-------
 .../conditions/profileUpdatedEventCondition.html   |  8 ++--
 .../conditions/sessionCreatedEventCondition.html   |  8 ++--
 .../web/conditions/sessionDurationCondition.html   | 20 ++++-----
 .../web/conditions/sessionPropertyCondition.html   | 46 +++++++++++----------
 16 files changed, 191 insertions(+), 165 deletions(-)

commit 615fd87b472b56f374a487b0161bcb94f7b849b1
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 17:30:06 2015 +0100

    DMF-42 : moved past event code in a plugin to get all services, fixed evaluator

 .../resources/OSGI-INF/blueprint/blueprint.xml     | 19 -------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 12 +--------
 plugins/past-event/pom.xml                         | 31 ++++++++++++++++++++++
 .../PastEventConditionESQueryBuilder.java          |  8 +++---
 .../conditions/PastEventConditionEvaluator.java    | 16 ++++++-----
 .../wemi/conditions/pastEventCondition.json        |  0
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 27 +++++++++++++++++++
 .../src/main/resources/messages_en.properties      |  8 ++++++
 .../web/conditions/pastEventCondition.html         |  0
 plugins/pom.xml                                    |  1 +
 .../impl/services/SegmentServiceImpl.java          | 18 ++++++-------
 .../resources/META-INF/wemi/scoring/scoring.json   | 23 ----------------
 .../resources/META-INF/wemi/segments/french.json   | 28 -------------------
 services/src/main/resources/messages_en.properties |  8 ------
 14 files changed, 91 insertions(+), 108 deletions(-)

commit eb6cedd12ad3e5fe7629562c103bd80ed9fa5679
Author: kevan <kevan@jahia.com>
Date:   Fri Jan 16 16:39:44 2015 +0100

    DMF-76: finalize goal creation form

 .../org/oasis_open/contextserver/api/Metadata.java    |  4 ++++
 .../contextserver/api/services/GoalsService.java      |  2 --
 .../contextserver/rest/GoalsServiceEndPoint.java      | 19 ++++++-------------
 .../contextserver/impl/services/GoalsServiceImpl.java | 19 ++++++-------------
 4 files changed, 16 insertions(+), 28 deletions(-)

commit 1dd524a20f8ea577f48e2cac2644d71bf70d0dcd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 16:33:35 2015 +0100

    Removed duplicate choicelistinitializer

 services/src/main/resources/OSGI-INF/blueprint/blueprint.xml | 9 ---------
 1 file changed, 9 deletions(-)

commit a6259ade7c0fb90d92c2db0043ce6df383128d05
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 16:01:56 2015 +0100

    fixed resouces

 services/src/main/resources/messages_en.properties | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a5b0be16ec4fc419d8010b2bdbc8a9ec1679a6aa
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 15:39:18 2015 +0100

    Use session proeprty types for chocelist initializer

 .../ElasticSearchPersistenceServiceImpl.java       |  35 +++----
 ...java => PropertyTypeChoiceListInitializer.java} |   9 +-
 .../SessionPropertyChoiceListInitializer.java      | 106 ---------------------
 .../wemi/conditions/sessionPropertyCondition.json  |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  13 ++-
 services/src/main/resources/messages_en.properties |  21 ++--
 6 files changed, 49 insertions(+), 137 deletions(-)

commit 1c9a7a829efa31d7f220df509f35e989c4a4abeb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 15:25:29 2015 +0100

    Updated resource bundle formats

 .../oasis_open/contextserver/api/PropertyType.java |   2 +-
 .../java/org/oasis_open/contextserver/api/Tag.java |   4 +-
 .../oasis_open/contextserver/api/ValueType.java    |   4 +-
 .../contextserver/api/actions/ActionType.java      |   4 +-
 .../api/conditions/ConditionType.java              |   4 +-
 .../ComparisonOperatorChoiceListInitializer.java   |  30 +-
 .../EventPropertyChoiceListInitializer.java        |   5 +-
 .../EventTypeIdChoiceListInitializer.java          |   2 +-
 .../ProfilePropertyTypeChoiceListInitializer.java  |   3 +-
 .../SessionPropertyChoiceListInitializer.java      |   5 +-
 ...ues.json => incrementInterestValuesAction.json} |   0
 services/src/main/resources/messages_en.properties | 317 ++++++++++-----------
 .../actions/allEventToProfilePropertiesAction.html |   2 +-
 .../web/actions/evaluateProfileSegmentsAction.html |   2 +-
 .../web/actions/eventToProfilePropertyAction.html  |   4 +-
 .../actions/incrementInterestsValuesAction.html    |   2 +-
 .../web/actions/mergeProfilesOnPropertyAction.html |   2 +-
 .../resources/web/actions/setPropertyAction.html   |   4 +-
 .../resources/web/conditions/booleanCondition.html |   4 +-
 .../web/conditions/eventPropertyCondition.html     |   4 +-
 .../web/conditions/eventTypeCondition.html         |   4 +-
 .../web/conditions/loginEventCondition.html        |   2 +-
 .../main/resources/web/conditions/matchAll.html    |   2 +-
 .../resources/web/conditions/notCondition.html     |   2 +-
 .../web/conditions/pastEventCondition.html         |   8 +-
 .../web/conditions/profileInterestCondition.html   |   4 +-
 .../web/conditions/profilePropertyCondition.html   |   4 +-
 .../web/conditions/profileSegmentCondition.html    |   8 +-
 .../conditions/profileUpdatedEventCondition.html   |   2 +-
 .../conditions/sessionCreatedEventCondition.html   |   2 +-
 .../web/conditions/sessionDurationCondition.html   |   8 +-
 .../web/conditions/sessionPropertyCondition.html   |   4 +-
 32 files changed, 225 insertions(+), 229 deletions(-)

commit 44e5c3ccee9e4d04fadf47c116547d35c61b4921
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Jan 16 15:11:06 2015 +0100

    DMF-45 , DMF-46 - Choice list and template for the "Geolocation by country" session condition

 .../conditions/initializers/ChoiceListValue.java   | 10 ++--
 .../rest/DefinitionsServiceEndPoint.java           |  2 +-
 .../initializers/CountryChoiceListInitializer.java | 57 ++++++++++++++++++++++
 .../conditions/geoLocationSessionCondition.json    |  3 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 +++
 .../conditions/geoLocationSessionCondition.html    | 10 ++++
 6 files changed, 83 insertions(+), 7 deletions(-)

commit c875c06a9a6350800b477d48840b39afaf5e1bcc
Merge: 4e8314c0 a48de6f7
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Jan 16 13:35:20 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit 4e8314c0c63f164ce9a70fbcfe44c0bf70d2d878
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Fri Jan 16 12:27:54 2015 +0100

    Use pagePath instead of url for page view condition

 services/src/main/resources/web/conditions/pageViewEventCondition.html | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a48de6f7dafae61e262894493b5b95221c7e46a6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 16 11:54:00 2015 +0100

    DMF-41 : updated template for pastEvents

 services/src/main/resources/messages_en.properties | 13 +++++----
 .../web/conditions/pastEventCondition.html         | 34 +++++++++++++---------
 2 files changed, 29 insertions(+), 18 deletions(-)

commit 0ba518c289ecb15534db4c592f9f1c80d63cdf32
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 18:20:55 2015 +0100

    Removed duplicate remove button

 .../src/main/resources/web/conditions/hoverEventCondition.html         | 3 ---
 plugins/mail/src/main/resources/web/actions/sendMailAction.html        | 3 ---
 .../resources/web/actions/requestHeaderToProfilePropertyAction.html    | 3 ---
 .../resources/web/actions/requestParameterToProfilePropertyAction.html | 3 ---
 .../src/main/resources/web/actions/setRemoteHostInfoAction.html        | 3 ---
 5 files changed, 15 deletions(-)

commit 81167ec236e97e197c54041cfd84b3392809acb6
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 18:18:02 2015 +0100

    Added missing labels

 services/src/main/resources/messages_en.properties   |  5 +++--
 .../main/resources/web/conditions/notCondition.html  | 20 +++++++++++---------
 2 files changed, 14 insertions(+), 11 deletions(-)

commit 00cdf7a527b34f0c1892a130f3dcfcf207fb87ff
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 17:53:02 2015 +0100

    cleaned up empty choiceList fields

 .../META-INF/wemi/conditions/hoverEventCondition.json  |  6 ++----
 .../META-INF/wemi/actions/sendMailAction.json          | 18 ++++++------------
 .../actions/requestHeaderToProfilePropertyAction.json  |  9 +++------
 .../requestParameterToProfilePropertyAction.json       |  9 +++------
 .../wemi/properties/sessions/geographic/city.json      |  1 -
 .../properties/sessions/geographic/countryCode.json    |  1 -
 .../properties/sessions/geographic/countryName.json    |  1 -
 .../wemi/properties/sessions/geographic/latitude.json  |  1 -
 .../wemi/properties/sessions/geographic/longitude.json |  1 -
 .../properties/sessions/technical/deviceCategory.json  |  1 -
 .../sessions/technical/operatingSystemFamily.json      |  1 -
 .../sessions/technical/operatingSystemName.json        |  1 -
 .../wemi/properties/sessions/technical/remoteAddr.json |  1 -
 .../wemi/properties/sessions/technical/remoteHost.json |  1 -
 .../properties/sessions/technical/userAgentName.json   |  1 -
 .../sessions/technical/userAgentVersion.json           |  1 -
 .../META-INF/wemi/actions/sendEventAction.json         |  6 ++----
 .../wemi/actions/setEventOccurenceCountAction.json     |  3 +--
 .../META-INF/wemi/actions/setPropertyAction.json       |  6 ++----
 .../META-INF/wemi/conditions/booleanCondition.json     |  6 ++----
 .../wemi/conditions/eventPropertyCondition.json        |  6 ++----
 .../META-INF/wemi/conditions/formEventCondition.json   |  3 +--
 .../conditions/geoLocationByPointSessionCondition.json |  9 +++------
 .../wemi/conditions/geoLocationSessionCondition.json   |  3 +--
 .../META-INF/wemi/conditions/goalMatchCondition.json   |  3 +--
 .../multipleValuesPropertyMatchCondition.json          |  3 +--
 .../META-INF/wemi/conditions/notCondition.json         |  3 +--
 .../wemi/conditions/pageViewEventCondition.json        |  9 +++------
 .../META-INF/wemi/conditions/pastEventCondition.json   | 15 +++++----------
 .../wemi/conditions/profileInterestCondition.json      |  6 ++----
 .../wemi/conditions/profilePropertyCondition.json      |  6 ++----
 .../wemi/conditions/profileSegmentCondition.json       |  3 +--
 .../wemi/conditions/sessionDurationCondition.json      |  6 ++----
 .../wemi/conditions/sessionPropertyCondition.json      |  6 ++----
 .../wemi/properties/profiles/basic/description.json    |  1 -
 .../META-INF/wemi/properties/profiles/basic/email.json |  1 -
 .../wemi/properties/profiles/basic/facebookId.json     |  1 -
 .../wemi/properties/profiles/basic/firstName.json      |  1 -
 .../wemi/properties/profiles/basic/lastName.json       |  1 -
 .../wemi/properties/profiles/basic/linkedInId.json     |  1 -
 .../META-INF/wemi/properties/profiles/basic/name.json  |  1 -
 .../wemi/properties/profiles/basic/phoneNumber.json    |  1 -
 .../wemi/properties/profiles/basic/twitterId.json      |  1 -
 .../properties/profiles/behavioral/brandLoyalty.json   |  1 -
 .../wemi/properties/profiles/behavioral/lastVisit.json |  1 -
 .../properties/profiles/behavioral/nbOfVisits.json     |  1 -
 .../wemi/properties/profiles/behavioral/usageRate.json |  1 -
 .../wemi/properties/profiles/crm/leadAssignedTo.json   |  1 -
 .../wemi/properties/profiles/demographic/age.json      |  1 -
 .../wemi/properties/profiles/demographic/gender.json   |  1 -
 .../wemi/properties/profiles/demographic/income.json   |  1 -
 .../wemi/properties/profiles/geographic/city.json      |  1 -
 .../wemi/properties/profiles/geographic/climate.json   |  1 -
 .../properties/profiles/psychographic/activities.json  |  1 -
 .../properties/profiles/psychographic/hobbies.json     |  1 -
 .../properties/profiles/psychographic/lifestyle.json   |  1 -
 .../wemi/properties/profiles/technical/deviceType.json |  1 -
 .../wemi/properties/profiles/technical/mergedWith.json |  1 -
 58 files changed, 48 insertions(+), 132 deletions(-)

commit f280e48e652ee75813aa7735088da752109373dd
Merge: 29a21711 cb01b7b5
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 17:48:30 2015 +0100

    Merge branch 'master' of github.com:Jahia/wemi-sandbox

commit 29a21711fb35108c413e4c310e6a50d0404dfdaa
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 17:48:20 2015 +0100

    DMF-25 - I18n for choicelist initializers

 .../initializers/ChoiceListInitializer.java        | 11 ++-
 .../api/conditions/initializers/I18nSupport.java   | 10 +++
 .../rest/DefinitionsServiceEndPoint.java           | 72 ++++++++++----------
 .../contextserver/rest/RESTActionType.java         |  3 -
 .../contextserver/rest/RESTConditionType.java      |  2 -
 .../contextserver/rest/ResourceBundleHelper.java   | 78 +++++++++++++++-------
 .../ComparisonOperatorChoiceListInitializer.java   |  3 +-
 .../EventPropertyChoiceListInitializer.java        |  3 +-
 .../EventTypeIdChoiceListInitializer.java          |  3 +-
 .../ProfilePropertyTypeChoiceListInitializer.java  |  3 +-
 .../SegmentsChoiceListInitializer.java             |  2 +-
 .../SessionPropertyChoiceListInitializer.java      |  3 +-
 12 files changed, 120 insertions(+), 73 deletions(-)

commit cb01b7b5859c3a61f7355422c88ff81364e1ac1e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 17:39:21 2015 +0100

    DMF-31 / DMF-32 : Added "not" condition support, removed unused parameters

 .../conditions/NotConditionESQueryBuilder.java     | 23 ++++++++++++++++++++++
 .../conditions/NotConditionEvaluator.java          | 19 ++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 15 ++++++++++++++
 .../rest/DefinitionsServiceEndPoint.java           |  2 +-
 .../META-INF/wemi/conditions/booleanCondition.json |  2 +-
 .../META-INF/wemi/conditions/notCondition.json     | 14 +++++++++++++
 .../wemi/conditions/pastEventCondition.json        |  2 +-
 .../META-INF/wemi/personas/googleBot.json          |  4 +---
 services/src/main/resources/messages_en.properties |  1 +
 .../resources/web/conditions/booleanCondition.html |  3 +--
 .../resources/web/conditions/notCondition.html     | 13 ++++++++++++
 .../web/conditions/pastEventCondition.html         |  2 +-
 12 files changed, 91 insertions(+), 9 deletions(-)

commit 78d511177eefcf27bf1d9c66af0a24e4a6bb1a5e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 15:27:09 2015 +0100

    DMF-24 : updates resource bundles

 .../src/main/resources/messages_en.properties      | 24 +++++++++++-----------
 .../src/main/resources/messages_fr.properties      | 24 +++++++++++-----------
 2 files changed, 24 insertions(+), 24 deletions(-)

commit 578fc8cf08b8dfbdfe78a26d3a2cf2c326b14a9e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 15:26:33 2015 +0100

    DMF-25 : fixed i18n for choicelist

 .../org/oasis_open/contextserver/rest/DefinitionsServiceEndPoint.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29d867838961ae9d3e041ceeb71a0acbaed0ff28
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 15:23:02 2015 +0100

    DMF-24 : i18n for property types, cleanup unused code

 .../oasis_open/contextserver/api/PropertyType.java |  38 +++++-
 .../contextserver/api/TemplateablePluginType.java  |  12 --
 .../oasis_open/contextserver/api/ValueType.java    |  23 ++--
 .../contextserver/api/actions/Action.java          |   2 +-
 .../contextserver/api/actions/ActionType.java      |  29 ++---
 .../contextserver/api/conditions/Condition.java    |   2 +-
 .../api/conditions/ConditionType.java              |  37 +++---
 .../api/services/DefinitionsService.java           |  13 ++-
 .../contextserver/api/services/ProfileService.java |   4 -
 .../src/main/resources/messages_en.properties      |   1 -
 .../src/main/resources/messages_fr.properties      |   1 -
 .../rest/DefinitionsServiceEndPoint.java           |  71 ++++++++++--
 .../contextserver/rest/ProfileServiceEndPoint.java |  72 ++----------
 .../contextserver/rest/RESTActionType.java         |   9 --
 .../contextserver/rest/RESTConditionType.java      |   9 --
 .../contextserver/rest/RESTPropertyType.java       |  10 +-
 .../contextserver/rest/RESTValueType.java          |   9 --
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 .../ProfilePropertyTypeChoiceListInitializer.java  |  13 +--
 .../impl/services/DefinitionsServiceImpl.java      | 128 +++++++++++++++++----
 .../impl/services/EventServiceImpl.java            |   6 +-
 .../contextserver/impl/services/ParserHelper.java  |  21 ----
 .../impl/services/ProfileServiceImpl.java          |  63 +---------
 .../{users => profiles}/basic/description.json     |   0
 .../{users => profiles}/basic/email.json           |   0
 .../{users => profiles}/basic/facebookId.json      |   0
 .../{users => profiles}/basic/firstName.json       |   0
 .../{users => profiles}/basic/lastName.json        |   0
 .../{users => profiles}/basic/linkedInId.json      |   0
 .../properties/{users => profiles}/basic/name.json |   0
 .../{users => profiles}/basic/phoneNumber.json     |   0
 .../{users => profiles}/basic/twitterId.json       |   0
 .../behavioral/brandLoyalty.json                   |   0
 .../{users => profiles}/behavioral/lastVisit.json  |   0
 .../{users => profiles}/behavioral/nbOfVisits.json |   0
 .../{users => profiles}/behavioral/usageRate.json  |   0
 .../{users => profiles}/crm/leadAssignedTo.json    |   0
 .../{users => profiles}/demographic/age.json       |   0
 .../{users => profiles}/demographic/gender.json    |   0
 .../{users => profiles}/demographic/income.json    |   0
 .../{users => profiles}/geographic/city.json       |   0
 .../{users => profiles}/geographic/climate.json    |   0
 .../psychographic/activities.json                  |   0
 .../{users => profiles}/psychographic/hobbies.json |   0
 .../psychographic/lifestyle.json                   |   0
 .../{users => profiles}/technical/deviceType.json  |   0
 .../{users => profiles}/technical/mergedWith.json  |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 services/src/main/resources/messages_en.properties |  75 ++++++------
 services/src/main/resources/messages_fr.properties |  73 ++++++------
 50 files changed, 351 insertions(+), 376 deletions(-)

commit 3639b0c061a4bce1023558cefb9a3086aeba11fe
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 14:52:42 2015 +0100

    DMF-40 - geoLocationSessionCondition and profileSegmentCondition are not inheriting from profilePropertyCondition

 .../META-INF/wemi/conditions/geoLocationSessionCondition.json         | 4 ++--
 .../resources/META-INF/wemi/conditions/profileSegmentCondition.json   | 4 ++--
 .../src/main/resources/web/conditions/profileSegmentCondition.html    | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 1590b280acfe13375331bd044d153fc71412fe8f
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 13:31:02 2015 +0100

    DMF-40 - Added support for multivalue comparison operators IN, NOT IN and ALL

 .../web/conditions/eventPropertyCondition.html     | 29 +++++++++++++++++-----
 .../web/conditions/sessionPropertyCondition.html   | 29 +++++++++++++++++-----
 2 files changed, 46 insertions(+), 12 deletions(-)

commit 3a75643d7ec9dad52765e67c6380071504382c7a
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 13:08:17 2015 +0100

    DMF-40 - Added support for multivalue comparison operators IN, NOT IN and ALL

 .../ComparisonOperatorChoiceListInitializer.java   |  4 +++
 .../wemi/conditions/eventPropertyCondition.json    |  6 +++++
 .../wemi/conditions/profilePropertyCondition.json  |  6 +++++
 .../wemi/conditions/sessionPropertyCondition.json  |  6 +++++
 .../web/conditions/profilePropertyCondition.html   | 29 +++++++++++++++++-----
 5 files changed, 45 insertions(+), 6 deletions(-)

commit 2d88dd9ef47b85e07a834ea043dd3667851db458
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 15 12:46:50 2015 +0100

    Do not recreate ChoiceListValue instances, but rather use clone to localize name. This allows to handle also instances, which are subclasses of ChoiceListValue transparently

 .../conditions/initializers/ChoiceListValue.java   | 26 +++++++++++++++++++---
 .../rest/DefinitionsServiceEndPoint.java           |  4 +---
 .../contextserver/rest/ProfileServiceEndPoint.java |  6 +----
 3 files changed, 25 insertions(+), 11 deletions(-)

commit 953c3bc800c896f2e5827aa4f0628216afefcc97
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 12:04:33 2015 +0100

    DMF-24 : i18n for profile properties

 .../oasis_open/contextserver/api/Parameter.java    |  10 +-
 .../api/PropertyMergeStrategyType.java             |   8 --
 .../oasis_open/contextserver/api/PropertyType.java |   9 --
 .../contextserver/api/PropertyTypeGroup.java       |  61 ------------
 .../java/org/oasis_open/contextserver/api/Tag.java |   9 --
 .../oasis_open/contextserver/api/ValueType.java    |   9 --
 .../contextserver/api/actions/ActionType.java      |   9 --
 .../api/conditions/ConditionType.java              |   1 -
 .../wemi/conditions/hoverEventCondition.json       |   4 +-
 .../META-INF/wemi/actions/sendMailAction.json      |  14 ++-
 .../requestHeaderToProfilePropertyAction.json      |  10 +-
 .../requestParameterToProfilePropertyAction.json   |  10 +-
 .../wemi/actions/setRemoteHostInfoAction.json      |   2 -
 .../contextserver/rest/ClusterServiceEndPoint.java |   4 +-
 .../rest/DefinitionsServiceEndPoint.java           |  78 ++++++---------
 .../contextserver/rest/GoalsServiceEndPoint.java   |   2 +-
 .../contextserver/rest/ProfileServiceEndPoint.java |  72 ++++++++++++--
 .../contextserver/rest/RESTActionType.java         |  12 +--
 .../contextserver/rest/RESTConditionType.java      |  12 +--
 .../contextserver/rest/RESTParameter.java          |  10 +-
 .../contextserver/rest/RESTPropertyType.java       | 106 +++++++++++++++++++++
 .../contextserver/rest/RESTValueType.java          |  10 +-
 .../contextserver/rest/ResourceBundleHelper.java   |  60 ++++++++++++
 .../contextserver/rest/RulesServiceEndPoint.java   |   2 +-
 .../contextserver/rest/ScoringServiceEndPoint.java |   2 +-
 .../contextserver/rest/SegmentServiceEndPoint.java |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   7 ++
 .../wemi/actions/eventToProfilePropertyAction.json |   4 +-
 .../actions/mergeProfilesOnPropertyAction.json     |   2 +-
 .../META-INF/wemi/actions/sendEventAction.json     |   4 +-
 .../wemi/actions/setEventOccurenceCountAction.json |   4 +-
 .../META-INF/wemi/actions/setPropertyAction.json   |   6 +-
 .../META-INF/wemi/conditions/booleanCondition.json |   4 +-
 .../wemi/conditions/eventPropertyCondition.json    |   6 +-
 .../wemi/conditions/eventTypeCondition.json        |   2 +-
 .../wemi/conditions/formEventCondition.json        |   2 +-
 .../geoLocationByPointSessionCondition.json        |   6 +-
 .../conditions/geoLocationSessionCondition.json    |   2 +-
 .../wemi/conditions/goalMatchCondition.json        |   2 +-
 .../multipleValuesPropertyMatchCondition.json      |   6 +-
 .../wemi/conditions/pageViewEventCondition.json    |   6 +-
 .../wemi/conditions/pastEventCondition.json        |  10 +-
 .../wemi/conditions/profileInterestCondition.json  |   4 +-
 .../wemi/conditions/profilePropertyCondition.json  |   6 +-
 .../wemi/conditions/profileSegmentCondition.json   |   4 +-
 .../wemi/conditions/sessionDurationCondition.json  |   4 +-
 .../wemi/conditions/sessionPropertyCondition.json  |   6 +-
 47 files changed, 356 insertions(+), 269 deletions(-)

commit 2498d9eb5fcb064423c3ea57bacb7cd87ab876c4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 10:47:35 2015 +0100

    DMF-26 : removed remaining i18n js files

 .../mail/src/main/resources/web/messages_en.json   | 12 ---------
 .../mail/src/main/resources/web/messages_fr.json   | 12 ---------
 .../src/main/resources/web/messages_en.json        | 30 ----------------------
 .../src/main/resources/web/messages_fr.json        | 30 ----------------------
 4 files changed, 84 deletions(-)

commit 56811483ec9723029106de5d4e3cf778153dbbcc
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jan 15 10:45:07 2015 +0100

    DMF-26 : i18n templates. add services to get condition/action/value templates

 .../web/conditions/hoverEventCondition.html        |  4 +-
 .../main/resources/web/actions/sendMailAction.html | 14 ++---
 .../requestHeaderToProfilePropertyAction.html      |  6 +--
 .../requestParameterToProfilePropertyAction.html   |  6 +--
 .../web/actions/setRemoteHostInfoAction.html       |  2 +-
 .../rest/DefinitionsServiceEndPoint.java           | 62 ++++++++++++++++++++++
 .../contextserver/impl/services/ParserHelper.java  |  5 +-
 .../actions/allEventToProfilePropertiesAction.html |  5 +-
 .../web/actions/evaluateProfileSegmentsAction.html |  5 +-
 .../web/actions/eventToProfilePropertyAction.html  | 11 ++--
 .../actions/incrementInterestsValuesAction.html    |  5 +-
 .../web/actions/mergeProfilesOnPropertyAction.html |  7 +--
 .../resources/web/actions/setPropertyAction.html   |  9 ++--
 .../resources/web/conditions/booleanCondition.html | 17 ++++--
 .../web/conditions/eventPropertyCondition.html     |  8 +--
 .../web/conditions/eventTypeCondition.html         |  9 ++--
 .../geoLocationByPointSessionCondition.html        |  9 ++--
 .../web/conditions/loginEventCondition.html        |  5 +-
 .../main/resources/web/conditions/matchAll.html    |  5 +-
 .../web/conditions/pageViewEventCondition.html     |  7 +--
 .../web/conditions/pastEventCondition.html         | 22 ++++----
 .../web/conditions/profileInterestCondition.html   |  8 +--
 .../web/conditions/profilePropertyCondition.html   |  8 +--
 .../web/conditions/profileSegmentCondition.html    | 11 ++--
 .../conditions/profileUpdatedEventCondition.html   |  5 +-
 .../conditions/sessionCreatedEventCondition.html   |  5 +-
 .../web/conditions/sessionDurationCondition.html   |  7 +--
 .../web/conditions/sessionPropertyCondition.html   |  8 +--
 28 files changed, 151 insertions(+), 124 deletions(-)

commit 810567259f225b78edbe48083e9f8b9f4fe07cb9
Author: kevan <kevan@jahia.com>
Date:   Thu Jan 15 10:33:13 2015 +0100

    DMF-75: missing i18n end points for tags

 .../contextserver/rest/DefinitionsServiceEndPoint.java       | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 8ae2e19a893c58e12ba81184f9a0fd435f79ddb3
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Jan 14 17:45:57 2015 +0100

    DMF-24 : implements server side internationalization, cleaned objects sent in rest api

 .../oasis_open/contextserver/api/Parameter.java    |  17 --
 .../oasis_open/contextserver/api/PluginType.java   |   8 +-
 .../api/PropertyMergeStrategyType.java             |   9 +-
 .../oasis_open/contextserver/api/PropertyType.java |  17 +-
 .../contextserver/api/PropertyTypeGroup.java       |   9 +-
 .../java/org/oasis_open/contextserver/api/Tag.java |   8 +-
 .../oasis_open/contextserver/api/ValueType.java    |   7 +-
 .../contextserver/api/actions/ActionType.java      |   7 +-
 .../api/conditions/ConditionType.java              |  15 +-
 .../src/main/resources/messages_en.properties      |   8 +
 .../src/main/resources/messages_fr.properties      |   8 +
 .../src/main/resources/web/messages_en.json        |  10 --
 .../src/main/resources/web/messages_fr.json        |  10 --
 .../mail/src/main/resources/messages_en.properties |   9 +
 .../mail/src/main/resources/messages_fr.properties |   9 +
 .../src/main/resources/messages_en.properties      |  28 +++
 .../src/main/resources/messages_fr.properties      |  27 +++
 .../rest/DefinitionsServiceEndPoint.java           | 189 ++++++++++++++++-----
 .../contextserver/rest/RESTActionType.java         |  66 +++++++
 .../contextserver/rest/RESTConditionType.java      |  65 +++++++
 .../contextserver/rest/RESTParameter.java          |  58 +++++++
 .../org/oasis_open/contextserver/rest/RESTTag.java |  66 +++++++
 .../contextserver/rest/RESTValueType.java          |  59 +++++++
 .../contextserver/impl/services/ParserHelper.java  |  11 +-
 .../META-INF/wemi/conditions/booleanCondition.json |   1 +
 services/src/main/resources/messages_en.properties | 162 ++++++++++++++++++
 services/src/main/resources/messages_fr.properties | 157 +++++++++++++++++
 services/src/main/resources/web/messages_en.json   | 165 ------------------
 services/src/main/resources/web/messages_fr.json   | 160 -----------------
 29 files changed, 913 insertions(+), 452 deletions(-)

commit 235bcee1b78ae59b16359b465ea3005c5bec1381
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 13 16:24:00 2015 +0100

    DMF-28 , DMF-29 : replaced and/or by generic boolean condition

 ...er.java => BooleanConditionESQueryBuilder.java} | 12 +++--
 ...aluator.java => BooleanConditionEvaluator.java} | 10 +++-
 .../conditions/OrConditionESQueryBuilder.java      | 33 ------------
 .../conditions/OrConditionEvaluator.java           | 23 ---------
 .../conditions/PastEventConditionEvaluator.java    |  3 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 23 ++-------
 .../impl/actions/SetEventOccurenceCountAction.java |  3 +-
 .../impl/services/EventServiceImpl.java            |  3 +-
 .../impl/services/GoalsServiceImpl.java            |  6 ++-
 .../impl/services/RulesServiceImpl.java            | 10 ++--
 .../impl/services/SegmentServiceImpl.java          |  6 ++-
 .../META-INF/wemi/conditions/andCondition.json     | 14 -----
 .../META-INF/wemi/conditions/booleanCondition.json | 20 ++++++++
 .../wemi/conditions/formEventCondition.json        | 21 +++++---
 .../META-INF/wemi/conditions/orCondition.json      | 14 -----
 .../META-INF/wemi/rules/facebookLogin.json         | 59 +++++++++++-----------
 .../META-INF/wemi/rules/incrementInterests.json    |  5 +-
 .../main/resources/META-INF/wemi/rules/login.json  |  5 +-
 .../META-INF/wemi/rules/sessionReferrer.json       |  5 +-
 .../resources/META-INF/wemi/scoring/scoring.json   |  5 +-
 .../resources/META-INF/wemi/segments/contacts.json |  5 +-
 .../resources/META-INF/wemi/segments/french.json   |  5 +-
 .../resources/META-INF/wemi/segments/leads.json    |  5 +-
 .../META-INF/wemi/segments/maleGender.json         | 18 +++++--
 .../META-INF/wemi/segments/youngRich.json          |  5 +-
 .../resources/web/conditions/andCondition.html     | 14 -----
 .../resources/web/conditions/booleanCondition.html | 21 ++++++++
 .../main/resources/web/conditions/orCondition.html | 12 -----
 services/src/main/resources/web/messages_en.json   |  6 +--
 services/src/main/resources/web/messages_fr.json   |  6 +--
 30 files changed, 165 insertions(+), 212 deletions(-)

commit bb8b560160908efad3c27b0030c4d9eac8cf5827
Author: kevan <kevan@jahia.com>
Date:   Tue Jan 13 14:49:05 2015 +0100

    DMF-72: store the scope on session to be able to do filtering on it

 .../org/oasis_open/contextserver/api/PersonaSession.java    |  2 +-
 .../main/java/org/oasis_open/contextserver/api/Session.java | 13 ++++++++++++-
 .../org/oasis_open/contextserver/web/ContextServlet.java    |  2 +-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 45e429446637eac5641285d7daf848d40aee108f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 13 11:48:47 2015 +0100

    update profile in session when profile is modified

 .../org/oasis_open/contextserver/impl/services/EventServiceImpl.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d6a69bd41fb48bf079356a6dcb31f277106718dc
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 13 11:47:42 2015 +0100

    Put systemscope when no scope is specified in predefined rules/goals/segments

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java    | 3 +++
 .../oasis_open/contextserver/impl/services/RulesServiceImpl.java    | 3 +++
 .../oasis_open/contextserver/impl/services/SegmentServiceImpl.java  | 6 ++++++
 3 files changed, 12 insertions(+)

commit ad6954320884946f22a1d32cb21d9c2a4b1894d6
Author: kevan <kevan@jahia.com>
Date:   Tue Jan 13 10:17:37 2015 +0100

    DMF-72: improve query service end point to be able to specify the aggregate

 .../contextserver/api/query/Aggregate.java         | 31 ++++++++++++++
 .../contextserver/api/query/AggregateQuery.java    | 43 ++++++++++++++++++++
 .../contextserver/api/services/QueryService.java   |  4 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 17 ++++----
 .../contextserver/persistence/spi/Aggregate.java   | 23 -----------
 .../persistence/spi/PersistenceService.java        |  3 +-
 .../persistence/spi/aggregate/BaseAggregate.java   | 13 ++++++
 .../persistence/spi/aggregate/DateAggregate.java   | 47 ++++++++++++++++++++++
 .../persistence/spi/aggregate/TermsAggregate.java  | 10 +++++
 .../contextserver/rest/QueryServiceEndPoint.java   |  7 ++--
 .../impl/services/EventServiceImpl.java            |  4 +-
 .../impl/services/GoalsServiceImpl.java            | 11 ++---
 .../impl/services/QueryServiceImpl.java            | 37 ++++++++++++-----
 .../META-INF/wemi/goals/pageGoalTest.json          |  2 +-
 14 files changed, 197 insertions(+), 55 deletions(-)

commit 737facac28a3005db0dc81f142114f63e485929c
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 13 09:53:16 2015 +0100

    DMF-35 - Value property : template choice list initializer for session property name

 .../SessionPropertyChoiceListInitializer.java      | 106 +++++++++++++++++++++
 .../wemi/conditions/sessionPropertyCondition.json  |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   9 ++
 .../web/conditions/sessionPropertyCondition.html   |  17 ++--
 4 files changed, 127 insertions(+), 7 deletions(-)

commit 840721d0c65cb0e4e1e2617ba00d9fd399991cf3
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Tue Jan 13 09:35:26 2015 +0100

    Changed label for event property

 .../conditions/initializers/EventPropertyChoiceListInitializer.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 255c26f1c9d60d54c8606aee4570492cd8d7ed20
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Jan 12 15:40:48 2015 +0100

    DMF-36 - Value property : use choicelist initializer for event property name
    DMF-37 - Add the value type in the different *PropertyChoiceListInitializer
    DMF-38 - Modify the list of operand depending on the value type
    DMF-39 - Modify input fields depending on value type

 .../web/conditions/eventPropertyCondition.html     | 23 ++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit 9cdc3317867a01e8d3057e8f8666d77a829146f7
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Jan 12 15:40:22 2015 +0100

    DMF-36 - Value property : use choicelist initializer for event property name
    DMF-37 - Add the value type in the different *PropertyChoiceListInitializer
    DMF-38 - Modify the list of operand depending on the value type
    DMF-39 - Modify input fields depending on value type

 .../web/conditions/eventPropertyCondition.html         | 18 ------------------
 .../web/conditions/profilePropertyCondition.html       | 14 ++++++++------
 2 files changed, 8 insertions(+), 24 deletions(-)

commit 125d401801e1d94addae1f5b991e06dd8b6e19b1
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Mon Jan 12 15:36:48 2015 +0100

    DMF-36 - Value property : use choicelist initializer for event property name
    DMF-37 - Add the value type in the different *PropertyChoiceListInitializer
    DMF-38 - Modify the list of operand depending on the value type
    DMF-39 - Modify input fields depending on value type

 .../contextserver/api/EventProperty.java           | 136 +++++++++++++++++++++
 .../contextserver/api/services/EventService.java   |  10 +-
 .../ComparisonOperatorChoiceListInitializer.java   |  45 ++++---
 .../ComparisonOperatorChoiceListValue.java         | 130 ++++++++++++++++++++
 .../EventPropertyChoiceListInitializer.java        |  21 ++--
 .../ProfilePropertyTypeChoiceListInitializer.java  |  19 +--
 .../initializers/PropertyTypeChoiceListValue.java  | 117 ++++++++++++++++++
 .../impl/services/EventServiceImpl.java            |   9 +-
 .../wemi/conditions/eventPropertyCondition.json    |   2 +-
 9 files changed, 448 insertions(+), 41 deletions(-)

commit 1b0e31e73cc38e09c1c324d0a7fe1c398e6120fa
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jan 12 14:46:33 2015 +0100

    test on parameter name for aggregate type

 .../org/oasis_open/contextserver/impl/services/QueryServiceImpl.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2c56849dfc3e85708d20f9fd2cf166240af8b047
Author: kevan <kevan@jahia.com>
Date:   Mon Jan 12 12:09:38 2015 +0100

    DMF-74: list goals by tags

 services/src/main/resources/web/messages_en.json | 7 +++++++
 services/src/main/resources/web/messages_fr.json | 7 +++++++
 2 files changed, 14 insertions(+)

commit f67b8e30b184b4d1c71751cd9812a58326742732
Author: kevan <kevan@jahia.com>
Date:   Fri Jan 9 19:04:17 2015 +0100

    DMF-73: add tags on goals

 .../org/oasis_open/contextserver/api/Metadata.java | 24 ++++++++++++++
 .../impl/services/GoalsServiceImpl.java            | 37 ++++++++++++++++++++--
 .../META-INF/wemi/goals/formGoalTest.json          |  3 +-
 .../META-INF/wemi/goals/funnelGoalTest.json        |  3 +-
 .../META-INF/wemi/goals/pageGoalTest.json          |  5 +--
 .../META-INF/wemi/tags/goals/downloadGoal.json     |  4 +++
 .../META-INF/wemi/tags/goals/formGoal.json         |  4 +++
 .../META-INF/wemi/tags/goals/funnelGoal.json       |  4 +++
 .../resources/META-INF/wemi/tags/goals/goal.json   |  4 +++
 .../META-INF/wemi/tags/goals/landingPageGoal.json  |  4 +++
 .../META-INF/wemi/tags/goals/pageVisitGoal.json    |  4 +++
 11 files changed, 89 insertions(+), 7 deletions(-)

commit 9da609fa2590ade03ea78f8c11d6957a45a97cbd
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 8 12:22:37 2015 +0100

    Added version for jahia-maven-plugin to use jahia:cs-deploy goal for deploying bundles to Context Server

 pom.xml | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit f743a26b9cbf2abe14d9000d95a6ebb4bc6a7f22
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Thu Jan 8 12:18:20 2015 +0100

    Removed duplicate dependency declaration

 services/pom.xml | 6 ------
 1 file changed, 6 deletions(-)

commit cf89da64d52658e05f7b1266df78c27e6cc4ca41
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 7 14:12:38 2015 +0100

    Use 1.7 as the target level for maven-compiler-plugin

 pom.xml | 9 +++++++++
 1 file changed, 9 insertions(+)

commit a1fdd110fcdb79759f3230e960e1ea686816ea79
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 7 12:45:43 2015 +0100

    Adjusted gitignore

 .gitignore | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 06c56c4e9930cdead647e7c48bb3693f9e6064de
Author: Sergiy Shyrkov <sshyrkov@jahia.com>
Date:   Wed Jan 7 11:04:58 2015 +0100

    Moved build-helper-maven-plugin plugin definition from plugins/pom.xml into plugins/request/pom.xml

 plugins/pom.xml         | 24 ------------------------
 plugins/request/pom.xml | 24 ++++++++++++++++++++++++
 2 files changed, 24 insertions(+), 24 deletions(-)

commit ff9874b5dba515d5235df4f7d08be4a09061ebe0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 6 18:10:57 2015 +0100

    Fixed goal creation/deletion

 .../oasis_open/contextserver/impl/services/GoalsServiceImpl.java   | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 3fda072ab22ba44319b3d3f3d9362312bf32b168
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 6 17:25:34 2015 +0100

    added form-control class for bootstrap

 services/src/main/resources/web/values/date.html    | 2 +-
 services/src/main/resources/web/values/email.html   | 2 +-
 services/src/main/resources/web/values/integer.html | 2 +-
 services/src/main/resources/web/values/string.html  | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit d710d6d3d60d87af8e677e148d414814224f36c3
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 6 13:28:18 2015 +0100

    Fixed action parameter parsing

 .../contextserver/impl/actions/ActionExecutorDispatcher.java      | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 45c9617d29a792471000be67b4b3754a94833853
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jan 6 10:26:19 2015 +0100

    Allow CORS for connection with elasticsearch-head

 persistence-elasticsearch/core/src/main/resources/elasticsearch.yml | 1 +
 1 file changed, 1 insertion(+)

commit e83d1651e5e5b02b0c22ce380257494055bc0c96
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jan 5 18:12:55 2015 +0100

    Cleaned pastEvent implementation / autogenerated rules

 .../PastEventConditionESQueryBuilder.java          | 32 +++++++++++
 .../conditions/PastEventConditionEvaluator.java    | 65 ++++++++++++++++++++++
 .../ProfileEventConditionESQueryBuilder.java       | 49 ----------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 15 ++++-
 .../wemi/conditions/hoverEventCondition.json       |  2 +-
 .../impl/actions/SetEventOccurenceCountAction.java | 12 ++--
 .../impl/services/GoalsServiceImpl.java            | 10 +++-
 .../impl/services/ProfileServiceImpl.java          | 28 +---------
 .../impl/services/SegmentServiceImpl.java          |  6 +-
 .../wemi/actions/setEventOccurenceCountAction.json |  2 +-
 .../wemi/conditions/formEventCondition.json        |  2 +-
 .../wemi/conditions/pageViewEventCondition.json    |  2 +-
 .../wemi/conditions/pastEventCondition.json        | 38 +++++++++++++
 .../wemi/conditions/profileEventCondition.json     | 25 ---------
 .../resources/META-INF/wemi/scoring/scoring.json   |  2 +-
 .../resources/META-INF/wemi/segments/french.json   |  2 +-
 .../tags/conditions/profileEventCondition.json     |  2 +-
 ...eventCondition.html => eventTypeCondition.html} |  0
 ...EventCondition.html => pastEventCondition.html} |  0
 services/src/main/resources/web/messages_en.json   |  8 +--
 services/src/main/resources/web/messages_fr.json   |  8 +--
 21 files changed, 181 insertions(+), 129 deletions(-)

commit 23b9cbb5cad26a83d545b99cba05c4aa91f38f7f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 2 17:44:27 2015 +0100

    migrate to bootstrap3

 .../src/main/resources/web/conditions/hoverEventCondition.html        | 2 +-
 plugins/mail/src/main/resources/web/actions/sendMailAction.html       | 2 +-
 .../resources/web/actions/requestHeaderToProfilePropertyAction.html   | 2 +-
 .../web/actions/requestParameterToProfilePropertyAction.html          | 2 +-
 .../src/main/resources/web/actions/setRemoteHostInfoAction.html       | 2 +-
 .../oasis_open/contextserver/impl/services/SegmentServiceImpl.java    | 4 +++-
 .../main/resources/web/actions/allEventToProfilePropertiesAction.html | 2 +-
 .../src/main/resources/web/actions/evaluateProfileSegmentsAction.html | 2 +-
 .../src/main/resources/web/actions/eventToProfilePropertyAction.html  | 2 +-
 .../main/resources/web/actions/incrementInterestsValuesAction.html    | 2 +-
 .../src/main/resources/web/actions/mergeProfilesOnPropertyAction.html | 2 +-
 services/src/main/resources/web/actions/setPropertyAction.html        | 2 +-
 services/src/main/resources/web/conditions/andCondition.html          | 2 +-
 services/src/main/resources/web/conditions/eventCondition.html        | 2 +-
 .../src/main/resources/web/conditions/eventPropertyCondition.html     | 2 +-
 .../resources/web/conditions/geoLocationByPointSessionCondition.html  | 2 +-
 services/src/main/resources/web/conditions/loginEventCondition.html   | 2 +-
 services/src/main/resources/web/conditions/matchAll.html              | 2 +-
 services/src/main/resources/web/conditions/orCondition.html           | 2 +-
 .../src/main/resources/web/conditions/pageViewEventCondition.html     | 2 +-
 services/src/main/resources/web/conditions/profileEventCondition.html | 2 +-
 .../src/main/resources/web/conditions/profileInterestCondition.html   | 2 +-
 .../src/main/resources/web/conditions/profilePropertyCondition.html   | 2 +-
 .../src/main/resources/web/conditions/profileSegmentCondition.html    | 2 +-
 .../main/resources/web/conditions/profileUpdatedEventCondition.html   | 2 +-
 .../main/resources/web/conditions/sessionCreatedEventCondition.html   | 2 +-
 .../src/main/resources/web/conditions/sessionDurationCondition.html   | 2 +-
 .../src/main/resources/web/conditions/sessionPropertyCondition.html   | 2 +-
 28 files changed, 30 insertions(+), 28 deletions(-)

commit 797796e3334499e935c5b0b6bd036cc814a22ef0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jan 2 14:35:49 2015 +0100

    Fixed goal examples

 .../GoalMatchConditionESQueryBuilder.java          |  6 +-
 .../PageViewEventConditionESQueryBuilder.java      |  6 ++
 .../impl/services/GoalsServiceImpl.java            | 98 ++++++++++++++++++----
 .../contextserver/impl/services/ParserHelper.java  |  3 +
 .../impl/services/RulesServiceImpl.java            |  4 +-
 .../wemi/conditions/pageViewEventCondition.json    | 12 +++
 .../META-INF/wemi/goals/formGoalTest.json          | 20 +++++
 .../META-INF/wemi/goals/funnelGoalTest.json        | 20 +++++
 .../main/resources/META-INF/wemi/goals/goal1.json  | 20 -----
 .../main/resources/META-INF/wemi/goals/goal2.json  | 20 -----
 .../main/resources/META-INF/wemi/goals/goal3.json  | 20 -----
 .../META-INF/wemi/goals/pageGoalTest.json          | 14 ++++
 .../resources/META-INF/wemi/scoring/scoring.json   |  2 +-
 .../resources/META-INF/wemi/segments/french.json   |  2 +-
 14 files changed, 162 insertions(+), 85 deletions(-)

commit 13edbd62199ef92f9d6dad43257b4f8d0a80db25
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Dec 31 16:26:07 2014 +0100

    fixed geoloc service

 .../plugins/request/actions/SetRemoteHostInfoAction.java              | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 97017011819a9b7e2945b235939efb394bb6700c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Dec 31 14:35:47 2014 +0100

    Added form event test, fixed search event

 .../META-INF/wemi/properties/goals/goal1.json      | 10 -------
 .../META-INF/wemi/rules/goal1onHover.json          | 25 ----------------
 .../properties/users/goalsProfileProperties.json   |  5 ----
 .../actions/AllEventToProfilePropertiesAction.java | 10 ++++++-
 .../SegmentsChoiceListInitializer.java             |  2 +-
 .../wemi/conditions/formEventCondition.json        | 33 ++++++++++++++++++++++
 .../META-INF/wemi/rules/formMappingTest.json       | 29 +++++++++++++++++++
 .../resources/META-INF/wemi/rules/searchForm.json  | 19 ++-----------
 .../META-INF/wemi/segments/goal1Reached.json       | 17 -----------
 .../contextserver/web/ContextServlet.java          | 27 +++++++++++++++---
 10 files changed, 97 insertions(+), 80 deletions(-)

commit b7332fb91184c78b61ef380791842f71d8ab0579
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Dec 30 18:34:20 2014 +0100

    Upgrade to ES 1.4.2 - fixed rules, added api to reset percolator queries

 persistence-elasticsearch/core/pom.xml             | 49 +++++++++++++++++++++-
 .../ElasticSearchPersistenceServiceImpl.java       |  6 +--
 .../conditions/AndConditionESQueryBuilder.java     |  5 +++
 .../conditions/ConditionContextHelper.java         |  2 +-
 .../conditions/OrConditionESQueryBuilder.java      |  5 +++
 .../core/src/main/resources/elasticsearch.yml      |  1 +
 persistence-elasticsearch/pom.xml                  |  2 +-
 .../contextserver/rest/RulesServiceEndPoint.java   | 10 +++++
 .../contextserver/rest/ScoringServiceEndPoint.java |  9 ++++
 .../contextserver/rest/SegmentServiceEndPoint.java |  9 ++++
 .../impl/services/RulesServiceImpl.java            |  2 +
 ...eventCondition.json => eventTypeCondition.json} |  2 +-
 .../wemi/conditions/loginEventCondition.json       |  6 +--
 .../conditions/profileUpdatedEventCondition.json   |  6 +--
 .../conditions/sessionCreatedEventCondition.json   |  6 +--
 .../META-INF/wemi/rules/facebookLogin.json         |  2 +-
 16 files changed, 100 insertions(+), 22 deletions(-)

commit aa5b39875dcf77c777eb1f5349e4a1a3812a6143
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Dec 22 13:01:57 2014 +0100

    Renamed user to profile

 README.md                                          |   4 +-
 .../contextserver/api/ContextRequest.java          |  10 +-
 .../contextserver/api/ContextResponse.java         |  30 ++--
 .../org/oasis_open/contextserver/api/Event.java    |  30 ++--
 .../org/oasis_open/contextserver/api/Persona.java  |   6 +-
 .../contextserver/api/PersonaSession.java          |   4 +-
 .../contextserver/api/{User.java => Profile.java}  |  10 +-
 .../api/PropertyMergeStrategyExecutor.java         |   4 +-
 .../org/oasis_open/contextserver/api/Session.java  |  24 +--
 .../contextserver/api/campaigns/Campaign.java      |  60 +++++++
 .../oasis_open/contextserver/api/rules/Rule.java   |  10 +-
 .../{UserService.java => ProfileService.java}      |  25 ++-
 .../contextserver/api/services/SegmentService.java |   8 +-
 .../oasis_open/contextserver/itests/BasicTest.java |   4 +-
 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   |   4 +-
 ...va => ProfileEventConditionESQueryBuilder.java} |   6 +-
 ...=> ProfileInterestConditionESQueryBuilder.java} |   4 +-
 .../wemi/mappings/{user.json => profile.json}      |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   8 +-
 .../wemi/conditions/hoverEventCondition.json       |   2 +-
 .../META-INF/wemi/properties/goals/goal1.json      |   2 +-
 .../properties/users/goalsProfileProperties.json   |   5 +
 .../tags/properties/users/goalsUserProperties.json |   5 -
 .../src/main/resources/web/messages_en.json        |   4 +-
 .../src/main/resources/web/messages_fr.json        |   4 +-
 .../plugins/mail/actions/SendMailAction.java       |   2 +-
 .../META-INF/wemi/actions/sendMailAction.json      |   2 +-
 .../OSGI-INF/metatype/metatype.properties          |   8 +-
 .../main/resources/web/actions/sendMailAction.html |   2 +-
 ...a => RequestHeaderToProfilePropertyAction.java} |  12 +-
 ...> RequestParameterToProfilePropertyAction.java} |  12 +-
 ...n => requestHeaderToProfilePropertyAction.json} |   8 +-
 ...> requestParameterToProfilePropertyAction.json} |   8 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  16 +-
 ...l => requestHeaderToProfilePropertyAction.html} |   6 +-
 ...> requestParameterToProfilePropertyAction.html} |   6 +-
 .../src/main/resources/web/messages_en.json        |  10 +-
 .../src/main/resources/web/messages_fr.json        |  10 +-
 .../rest/DefinitionsServiceEndPoint.java           |   1 +
 .../contextserver/rest/ProfileServiceEndPoint.java | 183 ++++++++++++++++++++
 .../contextserver/rest/SegmentServiceEndPoint.java |  10 +-
 .../contextserver/rest/UserServiceEndPoint.java    | 184 ---------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  10 +-
 .../impl/actions/ActionExecutorDispatcher.java     |  12 +-
 .../actions/AllEventToProfilePropertiesAction.java |  36 ++++
 .../actions/AllEventToUserPropertiesAction.java    |  36 ----
 ...ion.java => EvaluateProfileSegmentsAction.java} |  16 +-
 .../impl/actions/EventToProfilePropertyAction.java |  22 +++
 .../impl/actions/EventToUserPropertyAction.java    |  22 ---
 .../actions/IncrementInterestsValuesAction.java    |  18 +-
 .../actions/MergeProfilesOnPropertyAction.java     |  42 ++---
 .../impl/actions/SendEventAction.java              |   2 +-
 .../impl/actions/SetEventOccurenceCountAction.java |  14 +-
 .../impl/actions/SetPropertyAction.java            |   4 +-
 .../EventPropertyChoiceListInitializer.java        |   2 +-
 .../ProfilePropertyTypeChoiceListInitializer.java  |  32 ++++
 .../SegmentsChoiceListInitializer.java             |   6 +-
 .../UserPropertyTypeChoiceListInitializer.java     |  32 ----
 .../mergers/AddPropertyMergeStrategyExecutor.java  |  32 ++--
 .../DefaultPropertyMergeStrategyExecutor.java      |  12 +-
 .../MostRecentPropertyMergeStrategyExecutor.java   |   6 +-
 .../NonEmptyPropertyMergeStrategyExecutor.java     |   4 +-
 .../OldestPropertyMergeStrategyExecutor.java       |   4 +-
 .../impl/services/EventServiceImpl.java            |  50 +++---
 ...serServiceImpl.java => ProfileServiceImpl.java} | 165 +++++++++---------
 .../impl/services/RulesServiceImpl.java            |  22 +--
 .../impl/services/SegmentServiceImpl.java          |  20 +--
 .../actions/allEventToProfilePropertiesAction.json |   7 +
 .../actions/allEventToUserPropertiesAction.json    |   7 -
 .../actions/evaluateProfileSegmentsAction.json     |   7 +
 .../wemi/actions/evaluateUserSegmentsAction.json   |   7 -
 ...tion.json => eventToProfilePropertyAction.json} |   6 +-
 .../wemi/actions/setEventOccurenceCountAction.json |   2 +-
 .../META-INF/wemi/conditions/andCondition.json     |   2 +-
 .../wemi/conditions/eventPropertyCondition.json    |   1 +
 .../wemi/conditions/matchAllCondition.json         |   2 +-
 .../multipleValuesPropertyMatchCondition.json      |   2 +-
 .../META-INF/wemi/conditions/orCondition.json      |   2 +-
 .../wemi/conditions/pageViewEventCondition.json    |   2 +-
 ...ntCondition.json => profileEventCondition.json} |   6 +-
 ...ondition.json => profileInterestCondition.json} |   6 +-
 ...ondition.json => profilePropertyCondition.json} |   4 +-
 ...Condition.json => profileSegmentCondition.json} |   4 +-
 ...tion.json => profileUpdatedEventCondition.json} |   4 +-
 .../META-INF/wemi/personas/googleBot.json          |   2 +-
 .../META-INF/wemi/personas/nonUsVisitor.json       |   2 +-
 .../META-INF/wemi/personas/usVisitor.json          |   2 +-
 .../wemi/properties/users/basic/description.json   |   2 +-
 .../wemi/properties/users/basic/email.json         |   2 +-
 .../wemi/properties/users/basic/facebookId.json    |   2 +-
 .../wemi/properties/users/basic/firstName.json     |   2 +-
 .../wemi/properties/users/basic/lastName.json      |   2 +-
 .../wemi/properties/users/basic/linkedInId.json    |   2 +-
 .../META-INF/wemi/properties/users/basic/name.json |   2 +-
 .../wemi/properties/users/basic/phoneNumber.json   |   2 +-
 .../wemi/properties/users/basic/twitterId.json     |   2 +-
 .../properties/users/behavioral/brandLoyalty.json  |   2 +-
 .../properties/users/behavioral/lastVisit.json     |   2 +-
 .../properties/users/behavioral/nbOfVisits.json    |   2 +-
 .../properties/users/behavioral/usageRate.json     |   4 +-
 .../wemi/properties/users/crm/leadAssignedTo.json  |   2 +-
 .../wemi/properties/users/demographic/age.json     |   2 +-
 .../wemi/properties/users/demographic/gender.json  |   2 +-
 .../wemi/properties/users/demographic/income.json  |   2 +-
 .../wemi/properties/users/geographic/city.json     |   2 +-
 .../wemi/properties/users/geographic/climate.json  |   2 +-
 .../properties/users/psychographic/activities.json |   2 +-
 .../properties/users/psychographic/hobbies.json    |   2 +-
 .../properties/users/psychographic/lifestyle.json  |   2 +-
 .../properties/users/technical/deviceType.json     |   2 +-
 .../properties/users/technical/mergedWith.json     |   2 +-
 ...rSegments.json => evaluateProfileSegments.json} |   6 +-
 .../META-INF/wemi/rules/facebookLogin.json         |   4 +-
 .../META-INF/wemi/rules/incrementInterests.json    |   4 +-
 .../main/resources/META-INF/wemi/rules/login.json  |   4 +-
 .../resources/META-INF/wemi/rules/newSession.json  |   6 +-
 .../resources/META-INF/wemi/scoring/scoring.json   |   4 +-
 .../resources/META-INF/wemi/segments/contacts.json |  10 +-
 .../resources/META-INF/wemi/segments/french.json   |   4 +-
 .../META-INF/wemi/segments/goal1Reached.json       |   4 +-
 .../resources/META-INF/wemi/segments/leads.json    |   2 +-
 .../META-INF/wemi/segments/maleGender.json         |   2 +-
 .../META-INF/wemi/segments/youngRich.json          |   4 +-
 .../wemi/tags/conditions/profileCondition.json     |   4 +
 .../tags/conditions/profileEventCondition.json     |   4 +
 .../wemi/tags/conditions/userCondition.json        |   4 -
 .../wemi/tags/conditions/userEventCondition.json   |   4 -
 .../resources/META-INF/wemi/tags/demographic.json  |   2 +-
 .../main/resources/META-INF/wemi/tags/event.json   |   2 +-
 .../resources/META-INF/wemi/tags/geographic.json   |   2 +-
 .../main/resources/META-INF/wemi/tags/logical.json |   2 +-
 .../resources/META-INF/wemi/tags/profileTags.json  |   4 +
 .../profiles/basicProfileProperties.json           |   5 +
 .../profiles/behavioralProfileProperties.json      |   5 +
 .../properties/profiles/crmProfileProperties.json  |   5 +
 .../profiles/demographicProfileProperties.json     |   5 +
 .../profiles/geographicProfileProperties.json      |   5 +
 .../properties/profiles/profileProperties.json     |   4 +
 .../profiles/psychographicProfileProperties.json   |   5 +
 .../profiles/technicalProfileProperties.json       |   5 +
 .../tags/properties/users/basicUserProperties.json |   5 -
 .../properties/users/behavioralUserProperties.json |   5 -
 .../tags/properties/users/crmUserProperties.json   |   5 -
 .../users/demographicUserProperties.json           |   5 -
 .../properties/users/geographicUserProperties.json |   5 -
 .../users/psychographicUserProperties.json         |   5 -
 .../properties/users/technicalUserProperties.json  |   5 -
 .../wemi/tags/properties/users/userProperties.json |   4 -
 .../resources/META-INF/wemi/tags/userTags.json     |   4 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  30 ++--
 ...html => allEventToProfilePropertiesAction.html} |   2 +-
 ...ion.html => evaluateProfileSegmentsAction.html} |   2 +-
 ...tion.html => eventToProfilePropertyAction.html} |   6 +-
 .../actions/incrementInterestsValuesAction.html    |   2 +-
 .../resources/web/actions/setPropertyAction.html   |   2 +-
 .../web/conditions/loginEventCondition.html        |   2 +-
 .../main/resources/web/conditions/matchAll.html    |   2 +-
 ...ntCondition.html => profileEventCondition.html} |   4 +-
 ...ondition.html => profileInterestCondition.html} |   2 +-
 ...ondition.html => profilePropertyCondition.html} |   2 +-
 ...Condition.html => profileSegmentCondition.html} |   2 +-
 ...tion.html => profileUpdatedEventCondition.html} |   2 +-
 services/src/main/resources/web/messages_en.json   | 144 ++++++++--------
 services/src/main/resources/web/messages_fr.json   | 124 +++++++-------
 .../contextserver/web/ContextServlet.java          | 170 +++++++++----------
 .../contextserver/web/EventsCollectorServlet.java  |  24 +--
 .../oasis_open/contextserver/web/HttpUtils.java    |  16 +-
 wab/src/main/webapp/index.html                     |  12 +-
 168 files changed, 1138 insertions(+), 1079 deletions(-)

commit 39b825570f108d7467e9c0a65e567b71d8964fbd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Dec 18 18:45:54 2014 +0100

    Renamed groupid

 api/pom.xml                                        |  2 +-
 itests/pom.xml                                     |  6 +++---
 .../oasis_open/contextserver/itests/BaseTest.java  |  2 +-
 kar/pom.xml                                        | 18 +++++++++---------
 kar/src/main/feature/feature.xml                   | 22 +++++++++++-----------
 package/pom.xml                                    | 12 ++++++------
 performance-tests/pom.xml                          |  6 +++---
 .../contextserver/performancetests/BasicTest.java  |  2 +-
 persistence-elasticsearch/core/pom.xml             |  6 +++---
 .../src/main/resources/maven-metadata-local.xml    |  2 +-
 persistence-elasticsearch/plugins/pom.xml          |  2 +-
 persistence-elasticsearch/plugins/security/pom.xml |  2 +-
 persistence-elasticsearch/pom.xml                  |  2 +-
 .../src/main/resources/maven-metadata-local.xml    |  2 +-
 persistence-spi/pom.xml                            |  4 ++--
 plugins/hover-event/pom.xml                        |  4 ++--
 plugins/mail/pom.xml                               |  2 +-
 plugins/pom.xml                                    |  4 ++--
 plugins/request/pom.xml                            |  2 +-
 .../src/main/resources/maven-metadata-local.xml    |  2 +-
 pom.xml                                            |  2 +-
 rest/pom.xml                                       |  6 +++---
 services/pom.xml                                   |  6 +++---
 wab/pom.xml                                        |  6 +++---
 wab/src/main/resources/maven-metadata-local.xml    |  2 +-
 25 files changed, 63 insertions(+), 63 deletions(-)

commit c204347c4a1d1315bd043c724e2b146ea5fb8bc7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Dec 18 18:22:47 2014 +0100

    Added scope in events

 .../contextserver/api/ContextRequest.java          |  9 ++++
 .../org/oasis_open/contextserver/api/Event.java    | 16 +++++--
 .../org/oasis_open/contextserver/api/Metadata.java |  7 ++-
 .../impl/actions/SendEventAction.java              |  2 +-
 .../impl/services/EventServiceImpl.java            |  3 +-
 .../impl/services/GoalsServiceImpl.java            |  2 +-
 .../impl/services/RulesServiceImpl.java            | 50 +++++++++++-----------
 .../impl/services/SegmentServiceImpl.java          | 16 ++++---
 .../contextserver/web/ContextServlet.java          | 30 +++++++------
 .../contextserver/web/EventsCollectorServlet.java  |  4 +-
 10 files changed, 86 insertions(+), 53 deletions(-)

commit b9c4b8fc8355a48bae83c717fb6cfb4d10fff479
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Dec 18 16:34:43 2014 +0100

    Added missing repositories

 pom.xml | 44 ++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit abdcd674d1590867a7a23dc61d4c2936811fb70f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Dec 18 15:23:23 2014 +0100

    Moved from wemi package to contextserver

 README.md                                          |  21 ++---
 {wemi-context-server/api => api}/pom.xml           |   4 +-
 .../oasis_open/contextserver}/api/ClusterNode.java |   2 +-
 .../contextserver}/api/ContextRequest.java         |   5 +-
 .../contextserver}/api/ContextResponse.java        |   5 +-
 .../org/oasis_open/contextserver}/api/Event.java   |   2 +-
 .../oasis_open/contextserver}/api/EventSource.java |   2 +-
 .../oasis_open/contextserver}/api/EventTarget.java |   2 +-
 .../org/oasis_open/contextserver}/api/Item.java    |   2 +-
 .../oasis_open/contextserver}/api/Metadata.java    |   2 +-
 .../oasis_open/contextserver}/api/Parameter.java   |   4 +-
 .../oasis_open/contextserver}/api/PartialList.java |   2 +-
 .../org/oasis_open/contextserver}/api/Persona.java |   5 +-
 .../contextserver}/api/PersonaSession.java         |   2 +-
 .../contextserver}/api/PersonaWithSessions.java    |   2 +-
 .../oasis_open/contextserver}/api/PluginType.java  |   2 +-
 .../api/PropertyMergeStrategyExecutor.java         |   2 +-
 .../api/PropertyMergeStrategyType.java             |   2 +-
 .../contextserver}/api/PropertyType.java           |   2 +-
 .../contextserver}/api/PropertyTypeGroup.java      |   6 +-
 .../org/oasis_open/contextserver}/api/Session.java |   2 +-
 .../org/oasis_open/contextserver}/api/Tag.java     |   2 +-
 .../contextserver}/api/TemplateablePluginType.java |   2 +-
 .../contextserver}/api/TimestampedItem.java        |   2 +-
 .../org/oasis_open/contextserver}/api/User.java    |   2 +-
 .../oasis_open/contextserver}/api/ValueType.java   |   2 +-
 .../contextserver}/api/actions/Action.java         |   2 +-
 .../contextserver}/api/actions/ActionExecutor.java |   4 +-
 .../contextserver}/api/actions/ActionType.java     |   8 +-
 .../contextserver}/api/conditions/Condition.java   |   3 +-
 .../api/conditions/ConditionType.java              |  10 +-
 .../initializers/ChoiceListInitializer.java        |   2 +-
 .../conditions/initializers/ChoiceListValue.java   |   2 +-
 .../oasis_open/contextserver}/api/goals/Goal.java  |   8 +-
 .../contextserver}/api/goals/GoalReport.java       |   2 +-
 .../oasis_open/contextserver}/api/rules/Rule.java  |  10 +-
 .../contextserver}/api/segments/Scoring.java       |   6 +-
 .../api/segments/ScoringElement.java               |   4 +-
 .../contextserver}/api/segments/Segment.java       |   8 +-
 .../api/segments/SegmentsAndScores.java            |   2 +-
 .../api/services/ClusterService.java               |   4 +-
 .../api/services/DefinitionsService.java           |  16 ++--
 .../api/services/EventListenerService.java         |   4 +-
 .../contextserver}/api/services/EventService.java  |   8 +-
 .../contextserver}/api/services/GoalsService.java  |  10 +-
 .../contextserver}/api/services/QueryService.java  |   4 +-
 .../contextserver}/api/services/RulesService.java  |   6 +-
 .../api/services/SegmentService.java               |  16 ++--
 .../contextserver}/api/services/UserService.java   |   7 +-
 compileDeploy.sh                                   |   2 +-
 {wemi-context-server/itests => itests}/pom.xml     |  10 +-
 .../oasis_open/contextserver}/itests/BaseTest.java |   8 +-
 .../contextserver}/itests/BasicTest.java           |   6 +-
 .../contextserver}/itests/SegmentTest.java         |   6 +-
 .../contextserver}/itests/TestUtils.java           |   2 +-
 {wemi-context-server/kar => kar}/pom.xml           |  20 ++--
 kar/src/main/feature/feature.xml                   |  29 ++++++
 {wemi-context-server/package => package}/pom.xml   |  26 +++---
 .../src/main/descriptors/src.xml                   |   0
 .../src/main/resources/bin/setenv                  |   0
 .../src/main/resources/bin/setenv.bat              |   0
 .../src/main/resources/data/maven/settings.xml     |   0
 .../src/main/resources/etc/custom.properties       |   0
 .../src/main/resources/etc/keystore                | Bin
 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   |   0
 .../lib/sigar/libsigar-amd64-freebsd-6.so          | Bin
 .../resources/lib/sigar/libsigar-amd64-linux.so    | Bin
 .../resources/lib/sigar/libsigar-amd64-solaris.so  | Bin
 .../resources/lib/sigar/libsigar-ia64-linux.so     | Bin
 .../resources/lib/sigar/libsigar-sparc-solaris.so  | Bin
 .../lib/sigar/libsigar-sparc64-solaris.so          | Bin
 .../lib/sigar/libsigar-universal-macosx.dylib      | Bin
 .../lib/sigar/libsigar-universal64-macosx.dylib    | Bin
 .../resources/lib/sigar/libsigar-x86-freebsd-5.so  | Bin
 .../resources/lib/sigar/libsigar-x86-freebsd-6.so  | Bin
 .../main/resources/lib/sigar/libsigar-x86-linux.so | Bin
 .../resources/lib/sigar/libsigar-x86-solaris.so    | Bin
 .../main/resources/lib/sigar/sigar-amd64-winnt.dll | Bin
 .../main/resources/lib/sigar/sigar-x86-winnt.dll   | Bin
 performance-tests/.benchmarks.mv.db                | Bin 0 -> 16384 bytes
 .../pom.xml                                        |  10 +-
 .../contextserver}/performancetests/BasicTest.java |  12 +--
 .../core/pom.xml                                   |  12 +--
 .../ElasticSearchPersistenceServiceImpl.java       |  24 ++---
 .../conditions/AndConditionESQueryBuilder.java     |   4 +-
 .../conditions/AndConditionEvaluator.java          |   6 +-
 .../conditions/ConditionContextHelper.java         |   4 +-
 .../conditions/ConditionESQueryBuilder.java        |   4 +-
 .../ConditionESQueryBuilderDispatcher.java         |   4 +-
 .../conditions/ConditionEvaluator.java             |   6 +-
 .../conditions/ConditionEvaluatorDispatcher.java   |   6 +-
 ...ationByPointSessionConditionESQueryBuilder.java |   4 +-
 ...eoLocationByPointSessionConditionEvaluator.java |   6 +-
 .../GoalMatchConditionESQueryBuilder.java          |   4 +-
 .../MatchAllConditionESQueryBuilder.java           |   4 +-
 .../conditions/MatchAllConditionEvaluator.java     |   6 +-
 ...ValuesPropertyMatchConditionESQueryBuilder.java |   4 +-
 ...tipleValuesPropertyMatchConditionEvaluator.java |   6 +-
 .../conditions/OrConditionESQueryBuilder.java      |   4 +-
 .../conditions/OrConditionEvaluator.java           |   6 +-
 .../PageViewEventConditionESQueryBuilder.java      |   4 +-
 .../PropertyConditionESQueryBuilder.java           |   4 +-
 .../conditions/PropertyConditionEvaluator.java     |   6 +-
 .../SessionDurationConditionESQueryBuilder.java    |   4 +-
 .../UserEventConditionESQueryBuilder.java          |   6 +-
 .../UserInterestConditionESQueryBuilder.java       |   4 +-
 .../resources/META-INF/wemi/mappings/event.json    |   0
 .../resources/META-INF/wemi/mappings/goal.json     |   0
 .../resources/META-INF/wemi/mappings/persona.json  |   0
 .../META-INF/wemi/mappings/personaSession.json     |   0
 .../META-INF/wemi/mappings/propertyType.json       |   0
 .../resources/META-INF/wemi/mappings/rule.json     |   0
 .../resources/META-INF/wemi/mappings/segment.json  |   0
 .../resources/META-INF/wemi/mappings/session.json  |   0
 .../resources/META-INF/wemi/mappings/user.json     |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  82 ++++++++--------
 .../core/src/main/resources/elasticsearch.yml      |   0
 .../src/main/resources/maven-metadata-local.xml    |  20 ++++
 ...pen.contextserver.persistence.elasticsearch.cfg |   0
 .../plugins/pom.xml                                |   4 +-
 .../plugins/security/pom.xml                       |   6 +-
 .../plugins/security/src/main/assembly/plugin.xml  |   0
 .../contextserver/IPRangeMatcher.java              |   0
 .../contextserver/SecurityPlugin.java              |   0
 .../contextserver/SecurityPluginModule.java        |   0
 .../contextserver/SecurityPluginService.java       |   0
 .../src/main/resources/es-plugin.properties        |   0
 .../pom.xml                                        |   4 +-
 .../src/main/resources/maven-metadata-local.xml    |  20 ++++
 .../persistence-spi => persistence-spi}/pom.xml    |   6 +-
 .../contextserver}/persistence/spi/Aggregate.java  |   2 +-
 .../persistence/spi/CustomObjectMapper.java        |   7 +-
 .../persistence/spi/PersistenceService.java        |   8 +-
 .../spi/PropertyTypedObjectDeserializer.java       |   4 +-
 .../plugins => plugins}/hover-event/pom.xml        |   8 +-
 .../HoverEventConditionESQueryBuilder.java         |   8 +-
 .../wemi/conditions/hoverEventCondition.json       |   0
 .../META-INF/wemi/properties/goals/goal1.json      |   0
 .../META-INF/wemi/rules/goal1onHover.json          |   0
 .../tags/properties/users/goalsUserProperties.json |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 .../web/conditions/hoverEventCondition.html        |   0
 .../src/main/resources/web/messages_en.json        |   0
 .../src/main/resources/web/messages_fr.json        |   0
 .../plugins => plugins}/mail/pom.xml               |   6 +-
 .../plugins/mail/actions/SendMailAction.java       |   8 +-
 .../META-INF/wemi/actions/sendMailAction.json      |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   4 +-
 .../OSGI-INF/metatype/metatype.properties          |   0
 .../main/resources/OSGI-INF/metatype/metatype.xml  |   6 +-
 .../main/resources/web/actions/sendMailAction.html |   0
 .../mail/src/main/resources/web/messages_en.json   |   0
 .../mail/src/main/resources/web/messages_fr.json   |   0
 {wemi-context-server/plugins => plugins}/pom.xml   |   8 +-
 .../plugins => plugins}/request/pom.xml            |   6 +-
 .../actions/RequestHeaderToUserPropertyAction.java |   8 +-
 .../RequestParameterToUserPropertyAction.java      |   8 +-
 .../request/actions/SetRemoteHostInfoAction.java   |  10 +-
 .../actions/requestHeaderToUserPropertyAction.json |   4 +-
 .../requestParameterToUserPropertyAction.json      |   4 +-
 .../wemi/actions/setRemoteHostInfoAction.json      |   9 ++
 .../wemi/properties/sessions/geographic/city.json  |   0
 .../sessions/geographic/countryCode.json           |   0
 .../sessions/geographic/countryName.json           |   0
 .../properties/sessions/geographic/latitude.json   |   0
 .../properties/sessions/geographic/longitude.json  |   0
 .../sessions/technical/deviceCategory.json         |   0
 .../sessions/technical/operatingSystemFamily.json  |   0
 .../sessions/technical/operatingSystemName.json    |   0
 .../properties/sessions/technical/remoteAddr.json  |   0
 .../properties/sessions/technical/remoteHost.json  |   0
 .../sessions/technical/userAgentName.json          |   0
 .../sessions/technical/userAgentVersion.json       |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   8 +-
 .../src/main/resources/maven-metadata-local.xml    |  20 ++++
 ...rg.oasis_open.contextserver.plugins.request.cfg |   0
 .../actions/requestHeaderToUserPropertyAction.html |   0
 .../requestParameterToUserPropertyAction.html      |   0
 .../web/actions/setRemoteHostInfoAction.html       |   0
 .../src/main/resources/web/messages_en.json        |   0
 .../src/main/resources/web/messages_fr.json        |   0
 pom.xml                                            | 104 +++++++++++----------
 {wemi-context-server/rest => rest}/pom.xml         |   8 +-
 .../rest/ClusterServiceEndPoint.java               |   6 +-
 .../rest/DefinitionsServiceEndPoint.java           |  13 +--
 .../contextserver}/rest/GoalsServiceEndPoint.java  |  12 +--
 .../contextserver}/rest/QueryServiceEndPoint.java  |   7 +-
 .../contextserver}/rest/RulesServiceEndPoint.java  |   9 +-
 .../rest/ScoringServiceEndPoint.java               |  11 +--
 .../rest/SegmentServiceEndPoint.java               |  13 ++-
 .../contextserver}/rest/UserServiceEndPoint.java   |   9 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  34 +++----
 {wemi-context-server/services => services}/pom.xml |   8 +-
 .../impl/actions/ActionExecutorDispatcher.java     |   8 +-
 .../actions/AllEventToUserPropertiesAction.java    |  10 +-
 .../impl/actions/EvaluateUserSegmentsAction.java   |  12 +--
 .../impl/actions/EventToUserPropertyAction.java    |   8 +-
 .../actions/IncrementInterestsValuesAction.java    |   8 +-
 .../actions/MergeProfilesOnPropertyAction.java     |  18 ++--
 .../impl/actions/SendEventAction.java              |  13 ++-
 .../impl/actions/SetEventOccurenceCountAction.java |  18 ++--
 .../impl/actions/SetPropertyAction.java            |  15 +--
 .../ComparisonOperatorChoiceListInitializer.java   |   6 +-
 .../EventPropertyChoiceListInitializer.java        |   8 +-
 .../EventTypeIdChoiceListInitializer.java          |   8 +-
 .../SegmentsChoiceListInitializer.java             |  11 +--
 .../UserPropertyTypeChoiceListInitializer.java     |  10 +-
 .../mergers/AddPropertyMergeStrategyExecutor.java  |   8 +-
 .../DefaultPropertyMergeStrategyExecutor.java      |   8 +-
 .../MostRecentPropertyMergeStrategyExecutor.java   |   8 +-
 .../NonEmptyPropertyMergeStrategyExecutor.java     |   8 +-
 .../OldestPropertyMergeStrategyExecutor.java       |   8 +-
 .../impl/services/DefinitionsServiceImpl.java      |  22 ++---
 .../impl/services/EventServiceImpl.java            |  21 +++--
 .../impl/services/GoalsServiceImpl.java            |  35 ++++---
 .../contextserver}/impl/services/ParserHelper.java |  20 ++--
 .../impl/services/QueryServiceImpl.java            |  15 ++-
 .../impl/services/RulesServiceImpl.java            |  26 +++---
 .../impl/services/SegmentServiceImpl.java          |  36 +++----
 .../impl/services/UserServiceImpl.java             |  17 ++--
 .../actions/allEventToUserPropertiesAction.json    |   0
 .../wemi/actions/evaluateUserSegmentsAction.json   |   0
 .../wemi/actions/eventToUserPropertyAction.json    |   0
 .../wemi/actions/incrementInterestValues.json      |   0
 .../actions/mergeProfilesOnPropertyAction.json     |   0
 .../META-INF/wemi/actions/sendEventAction.json     |   0
 .../wemi/actions/setEventOccurenceCountAction.json |   4 +-
 .../META-INF/wemi/actions/setPropertyAction.json   |   0
 .../META-INF/wemi/conditions/andCondition.json     |   0
 .../META-INF/wemi/conditions/eventCondition.json   |   0
 .../wemi/conditions/eventPropertyCondition.json    |   0
 .../geoLocationByPointSessionCondition.json        |   0
 .../conditions/geoLocationSessionCondition.json    |   0
 .../wemi/conditions/goalMatchCondition.json        |   0
 .../wemi/conditions/loginEventCondition.json       |   0
 .../wemi/conditions/matchAllCondition.json         |   0
 .../multipleValuesPropertyMatchCondition.json      |   0
 .../META-INF/wemi/conditions/orCondition.json      |   0
 .../wemi/conditions/pageViewEventCondition.json    |   0
 .../conditions/sessionCreatedEventCondition.json   |   0
 .../wemi/conditions/sessionDurationCondition.json  |   0
 .../wemi/conditions/sessionPropertyCondition.json  |   0
 .../wemi/conditions/userEventCondition.json        |   0
 .../wemi/conditions/userInterestCondition.json     |   0
 .../wemi/conditions/userPropertyCondition.json     |   0
 .../wemi/conditions/userSegmentCondition.json      |   0
 .../wemi/conditions/userUpdatedEventCondition.json |   0
 .../main/resources/META-INF/wemi/goals/goal1.json  |   0
 .../main/resources/META-INF/wemi/goals/goal2.json  |   0
 .../main/resources/META-INF/wemi/goals/goal3.json  |   0
 .../wemi/mergers/addPropertyMergeStrategy.json     |   0
 .../wemi/mergers/defaultPropertyMergeStrategy.json |   0
 .../mergers/mostRecentPropertyMergeStrategy.json   |   0
 .../mergers/nonEmptyPropertyMergeStrategy.json     |   0
 .../wemi/mergers/oldestPropertyMergeStrategy.json  |   0
 .../META-INF/wemi/personas/googleBot.json          |   0
 .../META-INF/wemi/personas/nonUsVisitor.json       |   0
 .../META-INF/wemi/personas/usVisitor.json          |   0
 .../wemi/properties/users/basic/description.json   |   0
 .../wemi/properties/users/basic/email.json         |   0
 .../wemi/properties/users/basic/facebookId.json    |   0
 .../wemi/properties/users/basic/firstName.json     |   0
 .../wemi/properties/users/basic/lastName.json      |   0
 .../wemi/properties/users/basic/linkedInId.json    |   0
 .../META-INF/wemi/properties/users/basic/name.json |   0
 .../wemi/properties/users/basic/phoneNumber.json   |   0
 .../wemi/properties/users/basic/twitterId.json     |   0
 .../properties/users/behavioral/brandLoyalty.json  |   0
 .../properties/users/behavioral/lastVisit.json     |   0
 .../properties/users/behavioral/nbOfVisits.json    |   0
 .../properties/users/behavioral/usageRate.json     |   0
 .../wemi/properties/users/crm/leadAssignedTo.json  |   0
 .../wemi/properties/users/demographic/age.json     |   0
 .../wemi/properties/users/demographic/gender.json  |   0
 .../wemi/properties/users/demographic/income.json  |   0
 .../wemi/properties/users/geographic/city.json     |   0
 .../wemi/properties/users/geographic/climate.json  |   0
 .../properties/users/psychographic/activities.json |   0
 .../properties/users/psychographic/hobbies.json    |   0
 .../properties/users/psychographic/lifestyle.json  |   0
 .../properties/users/technical/deviceType.json     |   0
 .../properties/users/technical/mergedWith.json     |   0
 .../META-INF/wemi/rules/evaluateUserSegments.json  |   0
 .../META-INF/wemi/rules/facebookLogin.json         |   0
 .../META-INF/wemi/rules/incrementInterests.json    |   0
 .../main/resources/META-INF/wemi/rules/login.json  |   0
 .../resources/META-INF/wemi/rules/newSession.json  |   0
 .../resources/META-INF/wemi/rules/searchForm.json  |   0
 .../wemi/rules/sessionCurrentReferrer.json         |   0
 .../META-INF/wemi/rules/sessionReferrer.json       |   0
 .../resources/META-INF/wemi/scoring/scoring.json   |   0
 .../resources/META-INF/wemi/segments/contacts.json |   0
 .../resources/META-INF/wemi/segments/french.json   |   0
 .../META-INF/wemi/segments/goal1Reached.json       |   0
 .../resources/META-INF/wemi/segments/leads.json    |   0
 .../META-INF/wemi/segments/maleGender.json         |   0
 .../META-INF/wemi/segments/youngRich.json          |   0
 .../META-INF/wemi/tags/conditions/condition.json   |   0
 .../wemi/tags/conditions/eventCondition.json       |   0
 .../wemi/tags/conditions/sessionCondition.json     |   0
 .../wemi/tags/conditions/userCondition.json        |   0
 .../wemi/tags/conditions/userEventCondition.json   |   0
 .../resources/META-INF/wemi/tags/demographic.json  |   0
 .../main/resources/META-INF/wemi/tags/event.json   |   0
 .../resources/META-INF/wemi/tags/geographic.json   |   0
 .../main/resources/META-INF/wemi/tags/logical.json |   0
 .../META-INF/wemi/tags/properties/properties.json  |   0
 .../sessions/basicSessionProperties.json           |   0
 .../sessions/geographicSessionProperties.json      |   0
 .../properties/sessions/sessionProperties.json     |   0
 .../sessions/technicalSessionProperties.json       |   0
 .../tags/properties/users/basicUserProperties.json |   0
 .../properties/users/behavioralUserProperties.json |   0
 .../tags/properties/users/crmUserProperties.json   |   0
 .../users/demographicUserProperties.json           |   0
 .../properties/users/geographicUserProperties.json |   0
 .../users/psychographicUserProperties.json         |   0
 .../properties/users/technicalUserProperties.json  |   0
 .../wemi/tags/properties/users/userProperties.json |   0
 .../main/resources/META-INF/wemi/tags/root.json    |   0
 .../resources/META-INF/wemi/tags/userTags.json     |   0
 .../main/resources/META-INF/wemi/values/date.json  |   0
 .../main/resources/META-INF/wemi/values/email.json |   0
 .../resources/META-INF/wemi/values/integer.json    |   0
 .../resources/META-INF/wemi/values/string.json     |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  56 +++++------
 .../actions/allEventToUserPropertiesAction.html    |   0
 .../web/actions/evaluateUserSegmentsAction.html    |   0
 .../web/actions/eventToUserPropertyAction.html     |   0
 .../actions/incrementInterestsValuesAction.html    |   0
 .../web/actions/mergeProfilesOnPropertyAction.html |   0
 .../resources/web/actions/setPropertyAction.html   |   0
 .../resources/web/conditions/andCondition.html     |   0
 .../resources/web/conditions/eventCondition.html   |   0
 .../web/conditions/eventPropertyCondition.html     |   0
 .../geoLocationByPointSessionCondition.html        |   0
 .../web/conditions/loginEventCondition.html        |   0
 .../main/resources/web/conditions/matchAll.html    |   0
 .../main/resources/web/conditions/orCondition.html |   0
 .../web/conditions/pageViewEventCondition.html     |   0
 .../conditions/sessionCreatedEventCondition.html   |   0
 .../web/conditions/sessionDurationCondition.html   |   0
 .../web/conditions/sessionPropertyCondition.html   |   0
 .../web/conditions/userEventCondition.html         |   0
 .../web/conditions/userInterestCondition.html      |   0
 .../web/conditions/userPropertyCondition.html      |   0
 .../web/conditions/userSegmentCondition.html       |   0
 .../web/conditions/userUpdatedEventCondition.html  |   0
 .../src/main/resources/web/messages_en.json        |   0
 .../src/main/resources/web/messages_fr.json        |   0
 .../src/main/resources/web/values/date.html        |   0
 .../src/main/resources/web/values/email.html       |   0
 .../src/main/resources/web/values/integer.html     |   0
 .../src/main/resources/web/values/string.html      |   0
 {wemi-context-server/wab => wab}/pom.xml           |  16 ++--
 .../contextserver/web}/ContextServlet.java         |  14 +--
 .../contextserver/web}/EventsCollectorRequest.java |   4 +-
 .../contextserver/web}/EventsCollectorServlet.java |  18 ++--
 .../oasis_open/contextserver/web}/HttpUtils.java   |   6 +-
 .../contextserver/web}/PluginsCorsFilter.java      |   2 +-
 .../contextserver/web}/PluginsExtender.java        |   2 +-
 wab/src/main/resources/maven-metadata-local.xml    |  20 ++++
 .../resources/org.oasis_open.contextserver.web.cfg |   0
 .../wab => wab}/src/main/webapp/WEB-INF/beans.xml  |   0
 .../src/main/webapp/WEB-INF/javascript/base.js     |   4 +-
 .../webapp/WEB-INF/javascript/impersonateBase.js   |   4 +-
 .../wab => wab}/src/main/webapp/WEB-INF/web.xml    |   0
 .../wab => wab}/src/main/webapp/index.html         |   4 +-
 .../wab => wab}/src/main/webapp/login.jsp          |   0
 .../kar/src/main/feature/feature.xml               |  29 ------
 .../wemi/actions/setRemoteHostInfoAction.json      |   9 --
 wemi-context-server/pom.xml                        |  76 ---------------
 372 files changed, 838 insertions(+), 852 deletions(-)

commit 1161f78457497865798094f036f4de8a84eae390
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Dec 17 17:31:43 2014 +0100

    Moved request/response to api to fix test compilation

 .../org/oasis_open/wemi/context/server/api}/ContextRequest.java   | 8 ++++----
 .../org/oasis_open/wemi/context/server/api}/ContextResponse.java  | 2 +-
 .../java/org/oasis_open/wemi/context/server/itests/BasicTest.java | 4 ++--
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 3ddbcca53ef7a99b61f6379a3bfa779377016030
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Dec 17 16:25:00 2014 +0100

    Allows to get conditions form multiple tags. Pass search form name to get search events

 .../oasis_open/wemi/context/server/api/Tag.java    |  4 ---
 .../wemi/context/server/api/ValueType.java         | 17 +++++++++
 .../context/server/api/actions/ActionType.java     | 17 +++++++++
 .../server/api/conditions/ConditionType.java       | 17 +++++++++
 .../server/api/services/DefinitionsService.java    |  2 +-
 .../server/rest/DefinitionsServiceEndPoint.java    | 41 +++++++++++++---------
 .../impl/services/DefinitionsServiceImpl.java      | 13 +++----
 .../server/impl/services/UserServiceImpl.java      |  2 +-
 .../wemi/context/server/ContextServlet.java        |  3 ++
 9 files changed, 86 insertions(+), 30 deletions(-)

commit f71b2b60794404d04497c797b3f3943d5b12b6f8
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Dec 16 16:41:53 2014 +0100

    Added scope for all rules/segments/scores/goals and source for events

 .../oasis_open/wemi/context/server/api/Event.java  |  16 +-
 .../wemi/context/server/api/EventSource.java       |  34 ++++
 .../wemi/context/server/api/Metadata.java          |  34 +++-
 .../wemi/context/server/api/goals/Goal.java        |   4 +-
 .../wemi/context/server/api/rules/Rule.java        |   4 +-
 .../wemi/context/server/api/segments/Scoring.java  |   6 +-
 .../wemi/context/server/api/segments/Segment.java  |   4 +-
 .../{services => segments}/SegmentsAndScores.java  |   2 +-
 .../server/api/services/AlgorithmService.java      |   7 -
 .../context/server/api/services/GoalsService.java  |  16 +-
 .../context/server/api/services/ItemService.java   |   7 -
 .../context/server/api/services/RulesService.java  |  10 +-
 .../server/api/services/SegmentService.java        |  32 +++-
 .../context/server/rest/GoalsServiceEndPoint.java  |  50 +++---
 .../context/server/rest/RulesServiceEndPoint.java  |  33 ++--
 .../server/rest/ScoringServiceEndPoint.java        |  76 +++++++++
 .../server/rest/SegmentServiceEndPoint.java        |  58 +++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  16 ++
 .../impl/actions/EvaluateUserSegmentsAction.java   |   2 +-
 .../server/impl/actions/SendEventAction.java       |   2 +-
 .../server/impl/services/EventServiceImpl.java     |   2 +-
 .../server/impl/services/GoalsServiceImpl.java     |  44 +++--
 .../server/impl/services/RulesServiceImpl.java     |  86 ++++++----
 .../server/impl/services/SegmentServiceImpl.java   | 190 ++++++++++++---------
 .../main/resources/META-INF/wemi/goals/goal1.json  |   1 +
 .../main/resources/META-INF/wemi/goals/goal2.json  |   1 +
 .../main/resources/META-INF/wemi/goals/goal3.json  |   1 +
 .../resources/META-INF/wemi/scoring/scoring.json   |   1 +
 .../resources/META-INF/wemi/segments/french.json   |   1 +
 .../META-INF/wemi/segments/goal1Reached.json       |   1 +
 .../META-INF/wemi/segments/maleGender.json         |   1 +
 .../META-INF/wemi/segments/youngRich.json          |   1 +
 .../wemi/context/server/ContextResponse.java       |   8 +
 .../wemi/context/server/ContextServlet.java        |   8 +-
 .../context/server/EventsCollectorServlet.java     |   4 +-
 35 files changed, 502 insertions(+), 261 deletions(-)

commit 16c6c49cee88964c2c4a2584fbf309c0f19bc830
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Dec 10 15:23:28 2014 +0100

    Added scoring implementation

 .../oasis_open/wemi/context/server/api/User.java   |   7 ++
 .../wemi/context/server/api/segments/Scoring.java  |  47 +++++++++
 .../server/api/segments/ScoringElement.java        |  33 +++++++
 .../server/api/services/SegmentService.java        |   2 +-
 .../server/api/services/SegmentsAndScores.java     |  22 +++++
 .../server/rest/SegmentServiceEndPoint.java        |   5 +-
 .../impl/actions/EvaluateUserSegmentsAction.java   |  15 ++-
 .../server/impl/services/SegmentServiceImpl.java   | 106 +++++++++++++++++++--
 .../resources/META-INF/wemi/scoring/scoring.json   |  49 ++++++++++
 9 files changed, 274 insertions(+), 12 deletions(-)

commit b271975dde726240135b9ab611e5a880c4634433
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 31 18:08:00 2014 +0100

    BACKLOG-5367: use perSuite pax test strategy

 .../wemi/context/server/itests/BaseTest.java       |  86 ++++++++++++++++++
 .../wemi/context/server/itests/BasicTest.java      | 100 +--------------------
 .../wemi/context/server/itests/SegmentTest.java    |  34 +++++++
 3 files changed, 123 insertions(+), 97 deletions(-)

commit a42f2ad21cd936aba40256c63a7a816ec872d72a
Merge: 5a00fb01 99ba755b
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 31 16:33:40 2014 +0100

    Merge remote-tracking branch 'origin/master'

commit 5a00fb016d5f54946fc1d02e801087e865cb6a94
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 31 16:33:30 2014 +0100

    BACKLOG-5367: add itest for json context request

 .../wemi/context/server/itests/BasicTest.java      | 50 ++++++++++++++++------
 .../wemi/context/server/itests/TestUtils.java      | 21 +++++++++
 2 files changed, 59 insertions(+), 12 deletions(-)

commit 99ba755b8d7a5c529bec0793a97281a0701e7164
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 31 15:57:36 2014 +0100

    BACKLOG-5216 Make it work again following refactorings that broke the functionality.

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java    | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 522425c8f44336cbdffb19de2e418728181a0374
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 31 13:38:49 2014 +0100

    Improve the compileDeploy shell script to be more generic

 compileDeploy.sh | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 3b7da4497c6223674d3df0135808a3efdd8c4425
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 31 11:38:15 2014 +0100

    BACKLOG-5364: add a pure json context retrieval, map /context.json to retreive only the context as json

 .../wemi/context/server/ContextServlet.java        | 34 +++++++++++++---------
 1 file changed, 21 insertions(+), 13 deletions(-)

commit 8c5336e1e53f26c13ed4bf220bd9c47fffd6fa29
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 31 10:54:26 2014 +0100

    Clarify the building & installation process

 README.md | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit abadd62f4c9490994792352e4012eaafefc437fc
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 31 07:43:42 2014 +0100

    Documentation update

 README.md | 25 ++++++++++++++-----------
 1 file changed, 14 insertions(+), 11 deletions(-)

commit 4a09fd2f56f798882d638f9e6d24369b687cc4b3
Author: kevan <kevan@jahia.com>
Date:   Thu Oct 30 16:04:33 2014 +0100

    BACKLOG-5342: fix issue due to upgrade karaf version, also fix unit test

 .../java/org/oasis_open/wemi/context/server/itests/BasicTest.java   | 6 +++---
 .../package/src/main/resources/etc/org.ops4j.pax.url.mvn.cfg        | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8ecb584a17327e706b4ff532233f83ea266c4885
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 30 15:13:06 2014 +0100

    Make sure we add a filter even if no id or path is set on hover event

 .../events/hover/querybuilders/HoverEventConditionESQueryBuilder.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 02e63a8dfb44f727d4b730e3d70ec623461fe8e4
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 30 13:46:58 2014 +0100

    BACKLOG-5362
    - Update hover event to use new event target

 .../HoverEventConditionESQueryBuilder.java             | 18 ++++++++++++++----
 .../META-INF/wemi/conditions/hoverEventCondition.json  |  8 +++++++-
 .../resources/META-INF/wemi/rules/goal1onHover.json    |  2 +-
 .../resources/web/conditions/hoverEventCondition.html  |  8 ++++++--
 .../src/main/resources/web/messages_en.json            |  3 ++-
 .../src/main/resources/web/messages_fr.json            |  3 ++-
 6 files changed, 32 insertions(+), 10 deletions(-)

commit c81a0e011a737d131ac385417f99456db7ee7ea4
Author: kevan <kevan@jahia.com>
Date:   Thu Oct 30 12:02:59 2014 +0100

    BACKLOG-5342: upgrade to karaf 3.0.2

 wemi-context-server/itests/pom.xml            | 6 +++---
 wemi-context-server/kar/pom.xml               | 2 +-
 wemi-context-server/package/pom.xml           | 3 +--
 wemi-context-server/performance-tests/pom.xml | 6 +++---
 wemi-context-server/pom.xml                   | 4 ++--
 5 files changed, 10 insertions(+), 11 deletions(-)

commit 5c95d33879fab07777d3a954f134bdf72fc4bd7f
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 30 11:13:37 2014 +0100

    BACKLOG-5362
    - Fix minor issue in ActionExecutorDispatcher
    - Add logging for events

 .../wemi/context/server/api/EventTarget.java       | 18 +++++---
 .../impl/actions/ActionExecutorDispatcher.java     | 48 +++++++++++-----------
 .../wemi/context/server/ContextServlet.java        |  3 ++
 .../context/server/EventsCollectorServlet.java     |  1 +
 4 files changed, 41 insertions(+), 29 deletions(-)

commit bec2f4b7cc2eea84055cbe0ab53d8cca519f36a5
Merge: 047d021d b349efc0
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 29 18:27:56 2014 +0100

    Merge remote-tracking branch 'origin/master'

commit 047d021d6689fcd3e42f82f37387962b37bb3835
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 29 18:27:47 2014 +0100

    fix issue with null values in PropertyConditionEvaluator

 .../elasticsearch/conditions/PropertyConditionEvaluator.java   | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit b349efc0882503cbb97ec5fadc5e828b51d2c8af
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 29 18:12:19 2014 +0100

    BACKLOG-5362 : added target item to event

 .../context/server/impl/actions/IncrementInterestsValuesAction.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd871e343d51c4c3ad5cd7697c3780158dda3c45
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 29 18:11:38 2014 +0100

    BACKLOG-5362 : added target item to event

 .../oasis_open/wemi/context/server/api/Event.java  | 18 ++++++--
 .../wemi/context/server/api/EventTarget.java       | 51 ++++++++++++++++++++++
 .../PageViewEventConditionESQueryBuilder.java      |  2 +-
 .../actions/AllEventToUserPropertiesAction.java    | 12 ++---
 .../server/impl/actions/SendEventAction.java       | 19 ++++++--
 .../server/impl/services/EventServiceImpl.java     | 31 ++++++++-----
 .../server/impl/services/RulesServiceImpl.java     |  7 +--
 .../META-INF/wemi/rules/incrementInterests.json    |  2 +-
 .../resources/META-INF/wemi/rules/searchForm.json  |  7 ++-
 .../wemi/rules/sessionCurrentReferrer.json         |  2 +-
 .../META-INF/wemi/rules/sessionReferrer.json       |  2 +-
 .../wemi/context/server/ContextServlet.java        |  8 ++--
 .../context/server/EventsCollectorServlet.java     |  4 +-
 13 files changed, 126 insertions(+), 39 deletions(-)

commit cd7c60b0066370a45327201fbad0c726f08fe2cf
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 29 18:00:27 2014 +0100

    fix nested exception when trying to evaluate subproperties. Like test on properties.interests.foot when properties.interests is null.

 .../conditions/PropertyConditionEvaluator.java     | 57 +++++++++++-----------
 1 file changed, 29 insertions(+), 28 deletions(-)

commit 6dbbe84248349185d228cc1be7805f51f5a6b584
Merge: ec72f14b 8385d2cf
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 29 15:14:29 2014 +0100

    Merge remote-tracking branch 'origin/master'

commit ec72f14bbe9bb56277f328eef479710bbf1ea1df
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 29 15:14:18 2014 +0100

    Improve request logging to make it more compact and easier to read

 .../wemi/context/server/ContextServlet.java          |  5 +----
 .../wemi/context/server/EventsCollectorServlet.java  |  9 +++++----
 .../oasis_open/wemi/context/server/HttpUtils.java    | 20 ++++++++++++++------
 3 files changed, 20 insertions(+), 14 deletions(-)

commit 8385d2cf2f453e262bc6d602b30954b850ff788a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 29 15:14:03 2014 +0100

    BACKLOG-5338 : added documentation and config file in package

 README.md                           | 29 ++++++++++++++++-------------
 wemi-context-server/package/pom.xml | 10 ++++++++++
 2 files changed, 26 insertions(+), 13 deletions(-)

commit 4614712c36f1978cc0f4b1f0ea36996135d15eaf
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 29 14:50:35 2014 +0100

    BACKLOG-5338 : added configuration file for context server web parameters. does not include pure es nodes in context server cluster. parameters in cfg files always takes precedence over elasticsearch.yml file.

 .../kar/src/main/feature/feature.xml               |  1 +
 .../ElasticSearchPersistenceServiceImpl.java       | 89 ++++++++++++++--------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 22 +++++-
 .../core/src/main/resources/elasticsearch.yml      |  2 +-
 ...mi.context.server.persistence.elasticsearch.cfg |  3 +-
 .../contextserver/SecurityPluginService.java       |  2 +-
 wemi-context-server/wab/pom.xml                    | 24 ++++++
 .../org.oasis_open.wemi.context.server.web.cfg     |  4 +
 8 files changed, 107 insertions(+), 40 deletions(-)

commit 05ce6fe18f9dea55e457008de508344b376197e7
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 29 12:13:12 2014 +0100

    Add length check on remoteAddr parameter as in some cases we were sending an empty parameter

 .../context/server/plugins/request/actions/SetRemoteHostInfoAction.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b3c49dc851fffdada9e90e261277bd5569323875
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 28 17:21:15 2014 +0100

    Fix NPE on profile merge if property has null value

 .../wemi/context/server/impl/actions/MergeProfilesOnPropertyAction.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 75db322e6c2e823a731b091fdc439d90df9543ad
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 28 15:59:45 2014 +0100

    Process already deployed bundles

 .../wemi/context/server/impl/services/DefinitionsServiceImpl.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 9015291f706d077c0d1018257d2df8b52845c931
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 28 13:05:27 2014 +0100

    BACKLOG-5340 : fixed search form rule, use non nested properties to fix issue with dots in property names.
    Use text/plain in xhr to avoid cors preflight

 .../wemi/context/server/impl/actions/ActionExecutorDispatcher.java  | 6 ++++++
 .../services/src/main/resources/META-INF/wemi/rules/searchForm.json | 4 ++--
 wemi-context-server/wab/src/main/webapp/WEB-INF/javascript/base.js  | 2 +-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 70c6d00311efaf19c0f63b976602b35fa1df2609
Author: kevan <kevan@jahia.com>
Date:   Mon Oct 27 11:58:21 2014 +0100

    BACKLOG-5119: user interest filter

 .../impl/actions/IncrementInterestsValuesAction.java       | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit ab5485d84c844009fbf5f00eda02b765280b5962
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 24 18:45:47 2014 +0200

    BACKLOG-5340: fix remaining issues with servlet refactoring

 .../actions/IncrementInterestsValuesAction.java    | 23 ++++++++++++++--------
 1 file changed, 15 insertions(+), 8 deletions(-)

commit 90ee4f5779ecc1e9da730a15b73374e2004f96c8
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 17:34:53 2014 +0200

    Replace embedded log4j form ElasticSearch with log4j-over-slf4j so that all logging now goes into PAX Logging

 wemi-context-server/persistence-elasticsearch/core/pom.xml | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 8f08c667c2b9d5d6a9264e280e0b408ded16450d
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 17:24:05 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Add documentation on how to change the default username/password

 README.md | 5 +++++
 1 file changed, 5 insertions(+)

commit 8819ea104d01c870508ed0e5443b22eba3947338
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 17:16:18 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Improve documentation layout

 README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit a36b84d9592ce314459dfa0b673a278a2c6d73e7
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 17:14:16 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Improve security documentation

 README.md | 28 ++++++++++++++++++++++------
 1 file changed, 22 insertions(+), 6 deletions(-)

commit bed678860440691f4ceb63efc15cc44150f2eddd
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 17:06:17 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Add quick documentation on securing a context server deployment

 README.md | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 51 insertions(+)

commit 1fc9c9a3987ad4af9e2b8d551d12cb91d59d884c
Merge: cd7bd026 8f9d294e
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 16:53:15 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit cd7bd02687c1b1c907d3d2705d4a8bb04b3ca6a7
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 24 16:53:02 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Implement IP filtering, by default it allows connections from localhost and the local subnet

 .../contextserver/IPRangeMatcher.java              | 157 +++++++++++++++++++++
 .../contextserver/SecurityPluginService.java       | 115 ++++++++++++++-
 2 files changed, 268 insertions(+), 4 deletions(-)

commit 8f9d294ea0a35e84f1d0bfb5f48cddb133c557c4
Author: kevan <kevan@jahia.com>
Date:   Fri Oct 24 15:32:54 2014 +0200

    BACKLOG-5340: fix issue with property condition Query builder since the properties of event can be sub tree of props

 .../PropertyConditionESQueryBuilder.java           | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit b4f4a5e4475db784c316e67755f5a1247e96cf5e
Author: kevan <kevan@jahia.com>
Date:   Thu Oct 23 18:39:11 2014 +0200

    BACKLOG-5340: refactor the servlets to be able to send events at context loading, also add the possibility to send multiple event to the the EventsCollectorServlet

 .../oasis_open/wemi/context/server/api/Event.java  |  7 +++
 wemi-context-server/services/pom.xml               | 15 +++++
 .../impl/actions/ActionExecutorDispatcher.java     | 31 +++++----
 .../wemi/context/server/ContextRequest.java        | 10 +++
 .../wemi/context/server/ContextServlet.java        | 55 +++++++++-------
 .../context/server/EventsCollectorRequest.java     | 20 ++++++
 ...torServlet.java => EventsCollectorServlet.java} | 73 ++++++++--------------
 .../oasis_open/wemi/context/server/HttpUtils.java  | 17 +++++
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 40 ++++++++++--
 .../webapp/WEB-INF/javascript/impersonateBase.js   |  6 +-
 10 files changed, 184 insertions(+), 90 deletions(-)

commit 3987f7e37cdd9308410b8e2d6927051d7a94fbb0
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 23 17:49:06 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Fix problem due to code reformatting

 .../kar/src/main/feature/feature.xml               | 23 ++++++----------------
 1 file changed, 6 insertions(+), 17 deletions(-)

commit 1c64b6a69092f38ef0985d9c078bbb646edd8baf
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 23 17:40:58 2014 +0200

    BACKLOG-5287 Security - Secure ElasticSearch
    - Moved elasticsearch into a subproject called "core"
    - Added a new Maven "plugins" project for ES plugins
    - Started implementing an ES plugin that we will use to customize the HTTP and transport interfaces

 wemi-context-server/kar/pom.xml                    |   7 +-
 .../kar/src/main/feature/feature.xml               |  28 ++-
 wemi-context-server/package/pom.xml                |  10 +-
 .../persistence-elasticsearch/core/pom.xml         | 263 +++++++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       |  29 ++-
 .../conditions/AndConditionESQueryBuilder.java     |   4 +-
 .../conditions/AndConditionEvaluator.java          |   0
 .../conditions/ConditionContextHelper.java         |   6 +-
 .../conditions/ConditionESQueryBuilder.java        |   0
 .../ConditionESQueryBuilderDispatcher.java         |  10 +-
 .../conditions/ConditionEvaluator.java             |   0
 .../conditions/ConditionEvaluatorDispatcher.java   |   4 +-
 ...ationByPointSessionConditionESQueryBuilder.java |   0
 ...eoLocationByPointSessionConditionEvaluator.java |   7 +-
 .../GoalMatchConditionESQueryBuilder.java          |   0
 .../MatchAllConditionESQueryBuilder.java           |   4 +-
 .../conditions/MatchAllConditionEvaluator.java     |   4 +-
 ...ValuesPropertyMatchConditionESQueryBuilder.java |   0
 ...tipleValuesPropertyMatchConditionEvaluator.java |   4 -
 .../conditions/OrConditionESQueryBuilder.java      |   0
 .../conditions/OrConditionEvaluator.java           |   0
 .../PageViewEventConditionESQueryBuilder.java      |   4 +-
 .../PropertyConditionESQueryBuilder.java           |   4 +-
 .../conditions/PropertyConditionEvaluator.java     |   2 +-
 .../SessionDurationConditionESQueryBuilder.java    |   0
 .../UserEventConditionESQueryBuilder.java          |   0
 .../UserInterestConditionESQueryBuilder.java       |   6 +-
 .../resources/META-INF/wemi/mappings/event.json    |  21 ++
 .../resources/META-INF/wemi/mappings/goal.json     |  16 ++
 .../resources/META-INF/wemi/mappings/persona.json  |  16 ++
 .../META-INF/wemi/mappings/personaSession.json     |  31 +++
 .../META-INF/wemi/mappings/propertyType.json       |  16 ++
 .../resources/META-INF/wemi/mappings/rule.json     |  16 ++
 .../resources/META-INF/wemi/mappings/segment.json  |  16 ++
 .../resources/META-INF/wemi/mappings/session.json  |  31 +++
 .../resources/META-INF/wemi/mappings/user.json     |  16 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  38 +--
 .../src/main/resources/elasticsearch.yml           |   0
 ...mi.context.server.persistence.elasticsearch.cfg |   0
 .../persistence-elasticsearch/plugins/pom.xml      |  18 ++
 .../plugins/security/pom.xml                       |  83 +++++++
 .../plugins/security/src/main/assembly/plugin.xml  |  26 ++
 .../contextserver/SecurityPlugin.java              |  48 ++++
 .../contextserver/SecurityPluginModule.java        |  22 ++
 .../contextserver/SecurityPluginService.java       |  33 +++
 .../src/main/resources/es-plugin.properties        |   2 +
 .../persistence-elasticsearch/pom.xml              | 254 +-------------------
 .../resources/META-INF/wemi/mappings/event.json    |  17 --
 .../resources/META-INF/wemi/mappings/goal.json     |  14 --
 .../resources/META-INF/wemi/mappings/persona.json  |  14 --
 .../META-INF/wemi/mappings/personaSession.json     |  25 --
 .../META-INF/wemi/mappings/propertyType.json       |  14 --
 .../resources/META-INF/wemi/mappings/rule.json     |  14 --
 .../resources/META-INF/wemi/mappings/segment.json  |  14 --
 .../resources/META-INF/wemi/mappings/session.json  |  25 --
 .../resources/META-INF/wemi/mappings/user.json     |  14 --
 wemi-context-server/plugins/hover-event/pom.xml    |   4 +-
 57 files changed, 777 insertions(+), 477 deletions(-)

commit 9d0aaec5f3e198ec13fd16b5c0e5fd40bb581326
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 22 16:19:36 2014 +0200

    BACKLOG-5249 : removed propertyTypeGroup mapping

 .../META-INF/wemi/mappings/propertyTypeGroup.json          | 14 --------------
 1 file changed, 14 deletions(-)

commit 3b7995bc530d4673f8f87479f7b0a51694e4f49f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 22 15:49:32 2014 +0200

    BACKLOG-5337 : update documentation

 README.md | 17 +++++------------
 1 file changed, 5 insertions(+), 12 deletions(-)

commit 586d327396d476ff6f01bcb2aabab72b439b7fbb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 22 15:33:32 2014 +0200

    BACKLOG-5337 : add default SSL configuration with keystore

 .../src/main/resources/etc/custom.properties       |  36 +++++++++++++++++++++
 .../package/src/main/resources/etc/keystore        | Bin 0 -> 2236 bytes
 .../ElasticSearchPersistenceServiceImpl.java       |   4 +--
 3 files changed, 38 insertions(+), 2 deletions(-)

commit 0aa31189fc443fc9d3780306a2bcaf9bcf370289
Author: kevan <kevan@jahia.com>
Date:   Wed Oct 22 12:06:24 2014 +0200

    BACKLOG-5070: session referrer urls rules

 .../wemi/rules/sessionCurrentReferrer.json         | 26 +++++++++++++++
 .../META-INF/wemi/rules/sessionReferrer.json       | 39 ++++++++++++++++++++++
 2 files changed, 65 insertions(+)

commit 027f49d7ea18eb69a069c0bda695a43133fc161a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 21 18:24:55 2014 +0200

    BACKLOG-5057 : configure index name, rename to context

 README.md                                                    |  4 ++--
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java   | 12 ++++++------
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml      |  4 ++--
 .../src/main/resources/elasticsearch.yml                     |  2 +-
 ...is_open.wemi.context.server.persistence.elasticsearch.cfg |  4 ++--
 5 files changed, 13 insertions(+), 13 deletions(-)

commit 9bee943a79ee474d7fb489583918eec48cd4037f
Merge: dc151ce5 f1b1cbd9
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 17:33:33 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit dc151ce5f5c5ba5661e3e564a519d830fc3c8f63
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 17:33:16 2014 +0200

    BACKLOG-5244 Fix session loading & add resource bundle entries

 .../wemi/context/server/rest/UserServiceEndPoint.java     |  2 +-
 .../services/src/main/resources/web/messages_en.json      | 15 ++++++++++++++-
 .../services/src/main/resources/web/messages_fr.json      | 15 ++++++++++++++-
 3 files changed, 29 insertions(+), 3 deletions(-)

commit f1b1cbd9b4f0ad07fc9f6be35d00be7e5ed8690c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 21 17:29:35 2014 +0200

    BACKLOG-5334 : cleaned geolocation eval code

 ...eoLocationByPointSessionConditionEvaluator.java | 32 ++++++++++------------
 1 file changed, 15 insertions(+), 17 deletions(-)

commit 68f0f500dce4fab5b9c1aa7d328550dd85f116c5
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 21 17:20:53 2014 +0200

    BACKLOG-5334 : reuse existing conditions by declaring them in json definition, added geoloc evaluator

 ...eoLocationByPointSessionConditionEvaluator.java | 41 ++++++++++++++++++++++
 .../GeoLocationSessionConditionESQueryBuilder.java | 28 ---------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 ++++----
 .../geoLocationByPointSessionCondition.json        |  1 +
 .../conditions/geoLocationSessionCondition.json    |  9 ++++-
 5 files changed, 57 insertions(+), 36 deletions(-)

commit 7546a0075fc6ead001633a05b40e16008281b95d
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 16:32:39 2014 +0200

    Remove completed todo

 README.md | 1 -
 1 file changed, 1 deletion(-)

commit a18a77de39f7066d9c1e5db7fe3ce1e59240dd35
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 16:31:33 2014 +0200

    BACKLOG-5331
    - Document the automatic profile merging feature

 README.md | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 4c5b888c6e141d4752c813dee11a08e9eab85fb4
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 16:18:10 2014 +0200

    BACKLOG-5331
    - Properly handle user change in Event service

 .../wemi/context/server/impl/services/EventServiceImpl.java        | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 0b0fcff8ea79773a23c11a8326a4f1b3dd84bcc0
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 15:42:52 2014 +0200

    BACKLOG-5331
    - Delete the user only once we have removed references to it.

 .../wemi/context/server/impl/actions/MergeProfilesOnPropertyAction.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f94ec735b3272afce478091d605295d0b0f27650
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 15:40:10 2014 +0200

    BACKLOG-5331
    - Small optimization to avoid merging already merged profiles again

 .../context/server/impl/services/UserServiceImpl.java   | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit 27116edb2413a88b6e61a7a3b6c1b60d80684fca
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 15:20:51 2014 +0200

    BACKLOG-5331
    - Implement proper delete

 .../oasis_open/wemi/context/server/api/services/UserService.java  | 2 +-
 .../oasis_open/wemi/context/server/rest/UserServiceEndPoint.java  | 6 +++---
 .../server/impl/actions/MergeProfilesOnPropertyAction.java        | 2 +-
 .../wemi/context/server/impl/services/UserServiceImpl.java        | 8 ++++----
 .../java/org/oasis_open/wemi/context/server/ContextServlet.java   | 2 +-
 5 files changed, 10 insertions(+), 10 deletions(-)

commit eb9569e5c0e98c611cbd6416b61418d1f5590176
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 14:32:53 2014 +0200

    BACKLOG-5331
    - Make merged with property visible

 .../META-INF/wemi/properties/users/technical/mergedWith.json   | 10 ++++++++++
 .../services/src/main/resources/web/messages_en.json           |  3 ++-
 .../services/src/main/resources/web/messages_fr.json           |  3 ++-
 3 files changed, 14 insertions(+), 2 deletions(-)

commit d1b9bf32837ec76095c9d624a903de94d085d05d
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 14:12:43 2014 +0200

    BACKLOG-5331
    - Remove flushBuffer from setupCORSHeaders method that was committing the response sometimes too soon, preventing us from setting context profile ID cookie.

 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java    | 1 +
 .../java/org/oasis_open/wemi/context/server/EventCollectorServlet.java  | 1 +
 .../wab/src/main/java/org/oasis_open/wemi/context/server/HttpUtils.java | 2 +-
 .../main/java/org/oasis_open/wemi/context/server/PluginsCorsFilter.java | 1 +
 4 files changed, 4 insertions(+), 1 deletion(-)

commit 42189eaec5c9264319d90790221b0d6013f07ae4
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 11:56:08 2014 +0200

    BACKLOG-5331
    - Remove mergedWith property if the merged user doesn't exist.

 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 16ca99a2b3d03e57fffcd5ed76280c7c3312b66a
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 21 11:40:13 2014 +0200

    BACKLOG-5331
    - Fix NPE if the merged user doesn't exist

 .../oasis_open/wemi/context/server/ContextServlet.java  | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 3ab23ac4fe1f7b6dbc9a7748741d0475082c86e7
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Oct 19 15:29:33 2014 +0200

    Try to solve problem with user deletion.
    Cookies still not working properly (not being sent by browser on context load)

 .../server/impl/services/UserServiceImpl.java      |  4 +--
 .../wemi/context/server/ContextServlet.java        | 35 ++++++++++++++--------
 2 files changed, 23 insertions(+), 16 deletions(-)

commit 06bb7b79252f67a90e8c1948d323a4801cb2b614
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 17 19:25:17 2014 +0200

    BACKLOG-5334 : reuse existing conditions by declaring them in json definition.

 .../wemi/context/server/api/actions/Action.java    |  7 +++
 .../server/api/conditions/ConditionType.java       |  9 ++++
 .../conditions/AndConditionESQueryBuilder.java     |  5 +-
 .../conditions/AndConditionEvaluator.java          |  5 +-
 .../conditions/ConditionContextHelper.java         | 57 ++++++++++++++++++++
 .../conditions/ConditionESQueryBuilder.java        |  4 +-
 .../ConditionESQueryBuilderDispatcher.java         | 13 ++++-
 .../conditions/ConditionEvaluator.java             |  4 +-
 .../conditions/ConditionEvaluatorDispatcher.java   | 12 ++++-
 .../conditions/EventConditionESQueryBuilder.java   | 16 ------
 ...ationByPointSessionConditionESQueryBuilder.java |  4 +-
 .../GeoLocationSessionConditionESQueryBuilder.java |  3 +-
 .../GoalMatchConditionESQueryBuilder.java          |  4 +-
 .../LoginEventConditionESQueryBuilder.java         | 15 ------
 .../MatchAllConditionESQueryBuilder.java           |  4 +-
 .../conditions/MatchAllConditionEvaluator.java     |  6 +--
 ...aluesPropertyMatchConditionESQueryBuilder.java} | 12 +++--
 ...tipleValuesPropertyMatchConditionEvaluator.java | 55 +++++++++++++++++++
 .../conditions/OrConditionESQueryBuilder.java      |  5 +-
 .../conditions/OrConditionEvaluator.java           |  5 +-
 .../PageViewEventConditionESQueryBuilder.java      |  3 +-
 .../PropertyConditionESQueryBuilder.java           |  4 +-
 .../conditions/PropertyConditionEvaluator.java     |  5 +-
 ...SessionCreatedEventConditionESQueryBuilder.java | 15 ------
 .../SessionDurationConditionESQueryBuilder.java    |  4 +-
 .../UserEventConditionESQueryBuilder.java          |  5 +-
 .../UserInterestConditionESQueryBuilder.java       |  4 +-
 .../UserUpdatedEventConditionESQueryBuilder.java   | 15 ------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 41 ++++----------
 .../HoverEventConditionESQueryBuilder.java         |  4 +-
 .../impl/actions/ActionExecutorDispatcher.java     | 63 +++++++++++++++++++++-
 .../server/impl/actions/SendEventAction.java       | 14 +----
 .../server/impl/actions/SetPropertyAction.java     |  5 --
 .../impl/services/DefinitionsServiceImpl.java      |  5 ++
 .../META-INF/wemi/conditions/eventCondition.json   |  9 +++-
 .../wemi/conditions/loginEventCondition.json       |  9 +++-
 .../multipleValuesPropertyMatchCondition.json      | 26 +++++++++
 .../conditions/sessionCreatedEventCondition.json   |  9 +++-
 .../wemi/conditions/userSegmentCondition.json      |  9 +++-
 .../wemi/conditions/userUpdatedEventCondition.json |  9 +++-
 .../resources/META-INF/wemi/rules/newSession.json  |  4 +-
 .../resources/META-INF/wemi/rules/searchForm.json  | 12 ++---
 42 files changed, 358 insertions(+), 161 deletions(-)

commit bbde796c8f3e03785a64e9aa1846b3916db1f3a4
Merge: d5b78d84 87bde538
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 17 17:24:06 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit d5b78d841ff3b32d9254a0f72bbab617f7965b12
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 17 17:23:54 2014 +0200

    BACKLOG-5331
    - Also merge properties on Jahia login

 .../services/src/main/resources/META-INF/wemi/rules/login.json      | 6 ++++++
 1 file changed, 6 insertions(+)

commit 87bde53815361311289720cdc810cfce971ccb4d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 17 15:32:33 2014 +0200

    BACKLOG-5333 : Allows to resolve conditions directly by java code instead of querying elasticsearch

 .../server/api/conditions/ConditionType.java       |   9 ++
 .../persistence-elasticsearch/pom.xml              |  17 ++++
 .../ElasticSearchPersistenceServiceImpl.java       |  13 ++-
 .../conditions/AndConditionESQueryBuilder.java     |   2 +-
 .../conditions/AndConditionEvaluator.java          |  23 +++++
 ...ryBuilder.java => ConditionESQueryBuilder.java} |   2 +-
 .../ConditionESQueryBuilderDispatcher.java         |  11 +-
 .../conditions/ConditionEvaluator.java             |  13 +++
 .../conditions/ConditionEvaluatorDispatcher.java   |  41 ++++++++
 .../conditions/EventConditionESQueryBuilder.java   |   2 +-
 ...ationByPointSessionConditionESQueryBuilder.java |   6 +-
 .../GeoLocationSessionConditionESQueryBuilder.java |   2 +-
 .../GoalMatchConditionESQueryBuilder.java          |   2 +-
 .../LoginEventConditionESQueryBuilder.java         |   2 +-
 .../MatchAllConditionESQueryBuilder.java           |   2 +-
 .../conditions/MatchAllConditionEvaluator.java     |  17 ++++
 .../conditions/OrConditionESQueryBuilder.java      |   2 +-
 .../conditions/OrConditionEvaluator.java           |  22 ++++
 .../PageViewEventConditionESQueryBuilder.java      |   2 +-
 .../PropertyConditionESQueryBuilder.java           |   2 +-
 .../conditions/PropertyConditionEvaluator.java     | 111 +++++++++++++++++++++
 ...SessionCreatedEventConditionESQueryBuilder.java |   2 +-
 .../SessionDurationConditionESQueryBuilder.java    |   2 +-
 .../UserEventConditionESQueryBuilder.java          |   2 +-
 .../UserInterestConditionESQueryBuilder.java       |   2 +-
 .../UserSegmentConditionESQueryBuilder.java        |   2 +-
 .../UserUpdatedEventConditionESQueryBuilder.java   |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  69 ++++++++++---
 .../server/persistence/spi/CustomObjectMapper.java |   6 ++
 .../HoverEventConditionESQueryBuilder.java         |   4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +-
 .../impl/actions/ActionExecutorDispatcher.java     |   3 +
 .../server/impl/actions/SetPropertyAction.java     |   3 +-
 .../META-INF/wemi/conditions/andCondition.json     |   1 +
 .../wemi/conditions/matchAllCondition.json         |   1 +
 .../META-INF/wemi/conditions/orCondition.json      |   1 +
 .../wemi/conditions/sessionPropertyCondition.json  |   1 +
 .../wemi/conditions/userPropertyCondition.json     |   1 +
 .../META-INF/wemi/personas/googleBot.json          |   4 +-
 .../META-INF/wemi/personas/nonUsVisitor.json       |   4 +-
 .../META-INF/wemi/personas/usVisitor.json          |   4 +-
 41 files changed, 367 insertions(+), 52 deletions(-)

commit 1ae3979c6e09be26dc3a572cbbfbace3cae7b134
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 17 15:19:00 2014 +0200

    BACKLOG-5331
    - Improve request logging

 .../wemi/context/server/ContextServlet.java        |  6 +--
 .../wemi/context/server/EventCollectorServlet.java |  5 ++-
 .../oasis_open/wemi/context/server/HttpUtils.java  | 49 +++++++++-------------
 3 files changed, 25 insertions(+), 35 deletions(-)

commit 701c5d37928f29358fab3cb5cb0d2ee98b8566de
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 17 11:46:03 2014 +0200

    BACKLOG-5331
    - Merging works but still having some problems properly updating sessions and removing all "stale" user profiles.

 .../oasis_open/wemi/context/server/api/Item.java   | 19 +++++++++++--
 .../oasis_open/wemi/context/server/api/User.java   |  7 ++++-
 .../context/server/api/services/UserService.java   |  2 +-
 .../context/server/rest/UserServiceEndPoint.java   |  4 +--
 .../actions/MergeProfilesOnPropertyAction.java     |  8 +++++-
 .../mergers/AddPropertyMergeStrategyExecutor.java  | 20 ++++++++++---
 .../server/impl/services/UserServiceImpl.java      | 33 ++++++++++++++++++++--
 .../properties/users/behavioral/brandLoyalty.json  |  2 +-
 .../properties/users/behavioral/nbOfVisits.json    | 11 ++++++++
 .../wemi/context/server/ContextServlet.java        | 15 +++++++++-
 .../oasis_open/wemi/context/server/HttpUtils.java  | 22 +++++++++------
 11 files changed, 118 insertions(+), 25 deletions(-)

commit a75b3dec73683bc00522f36d1537be672116a2e3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Oct 17 08:41:28 2014 +0200

    BACKLOG-5331
    - Fix some issues with merging
    - Still not "stable", keeps merging profile, somehow the cookies are not stabilizing

 .../server/impl/actions/MergeProfilesOnPropertyAction.java     |  2 +-
 .../wemi/context/server/impl/services/UserServiceImpl.java     |  5 ++++-
 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml        | 10 +++++-----
 3 files changed, 10 insertions(+), 7 deletions(-)

commit a0353496eb265dccb3c5675b669a389aef77c10e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Oct 16 17:17:16 2014 +0200

    BACKLOG-5066 : added "missing" operator , sets a "previous visit" property in user

 .../elasticsearch/conditions/PropertyConditionESQueryBuilder.java | 2 ++
 .../initializers/ComparisonOperatorChoiceListInitializer.java     | 1 +
 .../src/main/resources/META-INF/wemi/rules/newSession.json        | 8 ++++++++
 .../src/main/resources/web/conditions/userPropertyCondition.html  | 2 +-
 .../services/src/main/resources/web/messages_en.json              | 1 +
 .../services/src/main/resources/web/messages_fr.json              | 1 +
 6 files changed, 14 insertions(+), 1 deletion(-)

commit 3cedab3f6a655019f0e5eb51b33c71a8f7857b90
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Oct 16 16:41:02 2014 +0200

    BACKLOG-5331
    - Initial implementation of profile merge

 compileDeploy.sh                                   |  1 -
 .../oasis_open/wemi/context/server/api/Event.java  |  8 ++-
 .../server/api/PropertyMergeStrategyExecutor.java  | 13 ++++
 .../server/api/PropertyMergeStrategyType.java      | 45 +++++++++++++
 .../wemi/context/server/api/PropertyType.java      |  9 +++
 .../server/api/services/DefinitionsService.java    |  4 ++
 .../context/server/api/services/UserService.java   |  2 +
 .../actions/RequestHeaderToUserPropertyAction.java |  3 +-
 .../RequestParameterToUserPropertyAction.java      |  3 +-
 .../request/actions/SetRemoteHostInfoAction.java   | 20 +++---
 .../server/rest/DefinitionsServiceEndPoint.java    | 10 +--
 .../context/server/rest/UserServiceEndPoint.java   |  5 ++
 .../actions/MergeProfilesOnPropertyAction.java     | 72 ++++++++++++++++++++
 .../mergers/AddPropertyMergeStrategyExecutor.java  | 48 ++++++++++++++
 .../DefaultPropertyMergeStrategyExecutor.java      | 21 ++++++
 .../MostRecentPropertyMergeStrategyExecutor.java   | 16 +++++
 .../NonEmptyPropertyMergeStrategyExecutor.java     | 16 +++++
 .../OldestPropertyMergeStrategyExecutor.java       | 16 +++++
 .../impl/services/DefinitionsServiceImpl.java      | 29 +++++++++
 .../server/impl/services/UserServiceImpl.java      | 76 ++++++++++++++++++++--
 .../actions/mergeProfilesOnPropertyAction.json     | 13 ++++
 .../wemi/mergers/addPropertyMergeStrategy.json     |  4 ++
 .../wemi/mergers/defaultPropertyMergeStrategy.json |  4 ++
 .../mergers/mostRecentPropertyMergeStrategy.json   |  4 ++
 .../mergers/nonEmptyPropertyMergeStrategy.json     |  4 ++
 .../wemi/mergers/oldestPropertyMergeStrategy.json  |  4 ++
 .../META-INF/wemi/rules/facebookLogin.json         |  7 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 51 +++++++++++++++
 .../web/actions/mergeProfilesOnPropertyAction.html | 12 ++++
 .../src/main/resources/web/messages_en.json        |  3 +
 .../src/main/resources/web/messages_fr.json        |  3 +
 .../wemi/context/server/ContextServlet.java        | 27 ++++----
 .../wemi/context/server/EventCollectorServlet.java |  4 +-
 .../oasis_open/wemi/context/server/HttpUtils.java  | 25 ++++---
 34 files changed, 527 insertions(+), 55 deletions(-)

commit a4e88458c22c54044998e5944be78299bd24fc5a
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 15 16:12:09 2014 +0200

    BACKLOG-5284
    - Modify URL to new name

 wemi-context-server/wab/src/main/webapp/WEB-INF/javascript/base.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92afdaa0f6a198ab503d3fd76d4a1024e6bbfad5
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 15 11:54:34 2014 +0200

    BACKLOG-5065 : index location as geo point. added coordinates location condition

 ...ationByPointSessionConditionESQueryBuilder.java | 26 ++++++++++++++++++++++
 .../META-INF/wemi/mappings/personaSession.json     |  9 +++++++-
 .../resources/META-INF/wemi/mappings/session.json  |  9 +++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++++
 .../request/actions/SetRemoteHostInfoAction.java   | 22 +++++++++++++-----
 .../geoLocationByPointSessionCondition.json        | 25 +++++++++++++++++++++
 .../META-INF/wemi/personas/googleBot.json          |  6 +++--
 .../META-INF/wemi/personas/nonUsVisitor.json       |  6 +++--
 .../META-INF/wemi/personas/usVisitor.json          |  6 +++--
 .../geoLocationByPointSessionCondition.html        | 17 ++++++++++++++
 10 files changed, 119 insertions(+), 14 deletions(-)

commit 507f6e9f81d31e29b995bb2bc6d0404d9de9bd1e
Merge: 19bc907c 6e07e562
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 15 11:02:38 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 19bc907c873f14ec4c3aca4bc8d26a3cab73ea29
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 15 11:02:21 2014 +0200

    Fixed documentation for YML settings to use proper ":" separator instead of "="

 README.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 6e07e562dbb4a22fbd92d6e8133670bd2bf84084
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 15 10:46:13 2014 +0200

    fixed npe when no payload given

 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19d7fdc79273e27a7da12cc34c1c0bebc418b8c1
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 14 18:36:35 2014 +0200

    BACKLOG-5116 : allow routing configuration

 .../ElasticSearchPersistenceServiceImpl.java       | 78 ++++++++++++++++------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +++
 .../wemi/context/server/ContextServlet.java        |  6 +-
 3 files changed, 68 insertions(+), 26 deletions(-)

commit 2ea9ed2c3c8cc45f16e7c3ca0446b40cc37767b7
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 14 17:30:19 2014 +0200

    BACKLOG-5290
    - Change default values for secure host address and port to be deactivated by default.
    - Add documentation on adding them when configuring SSL support.

 README.md                                                         | 8 ++++++--
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java        | 4 ++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 2f4a2731d62ad2bd70fda0a2e83a11a3cfa6f275
Merge: cabd3e1a ffdb0bdf
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 14 17:07:17 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit cabd3e1a36862114391861ea2ac706d4b8b93c79
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 14 17:07:08 2014 +0200

    BACKLOG-5290
    - Add configuration documentation for SSL support
    - Add cluster information for secure host address and port
    - Improve compile & deploy script

 README.md                                          | 26 +++++++++++++++++++++-
 compileDeploy.sh                                   | 11 +++++++--
 .../wemi/context/server/api/ClusterNode.java       | 18 +++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 15 +++++++++----
 4 files changed, 63 insertions(+), 7 deletions(-)

commit ffdb0bdfe95ed7ff9e415942b4d4112c5a0acb28
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 14 14:46:46 2014 +0200

    BACKLOG-5297 : send search event

 .../context/server/api/services/EventService.java  |  2 +-
 .../spi/PropertyTypedObjectDeserializer.java       |  3 ++
 .../server/impl/actions/SendEventAction.java       | 43 ++++++++++++++++++
 .../server/impl/services/EventServiceImpl.java     |  4 +-
 .../server/impl/services/RulesServiceImpl.java     |  4 +-
 .../META-INF/wemi/actions/sendEventAction.json     | 19 ++++++++
 .../resources/META-INF/wemi/rules/searchForm.json  | 51 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 ++++
 .../wemi/context/server/ContextServlet.java        |  4 +-
 .../wemi/context/server/EventCollectorServlet.java |  2 +-
 10 files changed, 132 insertions(+), 9 deletions(-)

commit 553696ebc29c0c4760e9f60ee780246d28efaf64
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 13 16:39:24 2014 +0200

    Start documenting REST API security

 README.md | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 58c9c2f5c669025b261915aa9d3df7376f6802b8
Merge: 47ada26e 4173273a
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 13 14:03:33 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 47ada26ef9765f975a0bc153a12e400f3974ba7c
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 13 14:03:25 2014 +0200

    BACKLOG-5284
    - Remove redirect to login page to prefer a 403 basic auth mechanism instead

 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml          | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 4173273a3a8ac5c03e47d3519ba46c0905e5c0a8
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Oct 13 13:58:28 2014 +0200

    BACKLOG-5231 : use objects for ContextServlet json request / response

 .../context/server/api/services/UserService.java   |   3 +-
 .../context/server/rest/UserServiceEndPoint.java   |   3 +-
 .../server/impl/services/RulesServiceImpl.java     |  19 ++--
 .../server/impl/services/UserServiceImpl.java      |  61 +++++------
 wemi-context-server/wab/pom.xml                    |   6 ++
 .../wemi/context/server/ContextRequest.java        | 118 +++++++++++++++++++++
 .../{DigitalData.java => ContextResponse.java}     |  10 +-
 .../wemi/context/server/ContextServlet.java        |  84 +++++++++------
 8 files changed, 219 insertions(+), 85 deletions(-)

commit 39d3fed16a604277d4fbac2c97ec410439a528ad
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 13 13:44:29 2014 +0200

    BACKLOG-5284
    - Setup JAAS authentication on CXF JAX-RS providers
    - Add login page

 .../src/main/resources/OSGI-INF/blueprint/blueprint.xml  | 16 ++++++++++++++++
 wemi-context-server/wab/src/main/webapp/login.jsp        | 15 +++++++++++++++
 2 files changed, 31 insertions(+)

commit 66c0bb8fd2dd88ad2e833f505ff7174585f2664f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 10 18:33:06 2014 +0200

    don't store all system events

 .../java/org/oasis_open/wemi/context/server/api/Event.java     | 10 ++++++++++
 .../wemi/context/server/impl/services/EventServiceImpl.java    |  5 ++++-
 .../wemi/context/server/impl/services/RulesServiceImpl.java    |  1 +
 .../org/oasis_open/wemi/context/server/ContextServlet.java     |  3 ++-
 4 files changed, 17 insertions(+), 2 deletions(-)

commit 342002b4f680ae9e4eed32034b416cf2d75bc5b9
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 10 16:26:15 2014 +0200

    Fixed segment with event conditions

 .../context/server/impl/actions/SetEventOccurenceCountAction.java     | 2 +-
 .../wemi/context/server/impl/services/SegmentServiceImpl.java         | 2 +-
 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java  | 4 +++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit be7bb16a2fa064f9d879b861da9ea5ecffa88188
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Oct 10 15:48:28 2014 +0200

    BACKLOG-5231 : cleaned javascript objects - use jackson for json seiralization

 .../oasis_open/wemi/context/server/api/Item.java   | 11 ----
 .../ElasticSearchPersistenceServiceImpl.java       |  3 -
 .../wemi/context/server/ContextServlet.java        | 56 ++++++++---------
 .../wemi/context/server/DigitalData.java           | 72 ++++++++++++++++++++++
 .../wemi/context/server/EventCollectorServlet.java | 18 ++----
 .../oasis_open/wemi/context/server/HttpUtils.java  | 61 ------------------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 20 +-----
 .../webapp/WEB-INF/javascript/impersonateBase.js   |  2 -
 8 files changed, 107 insertions(+), 136 deletions(-)

commit 76b4373ea1f73fce008c63f1679eb45560a89e04
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 8 17:48:08 2014 +0200

    BACKLOG-5218 : cleaned collectEvent method

 wemi-context-server/wab/src/main/webapp/WEB-INF/javascript/base.js    | 4 ++--
 .../wab/src/main/webapp/WEB-INF/javascript/impersonateBase.js         | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3dcb63adf4d806d61341253020dbad5814cb8a8d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 8 17:32:49 2014 +0200

    BACKLOG-5216 : added daily automatic purge

 .../wemi/context/server/api/ClusterNode.java       |  9 ++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 35 ++++++++++++++++++++--
 2 files changed, 41 insertions(+), 3 deletions(-)

commit 7f86ce9f6a0e067b1119adff3d802e0e50985a23
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Oct 8 16:05:30 2014 +0200

    BACKLOG-5216 : handle  persona sessions in standard index to avoid purge

 .../wemi/context/server/api/PersonaSession.java    | 14 ++++++++
 .../context/server/api/PersonaWithSessions.java    | 39 ++++++++++++++++++++++
 .../wemi/context/server/api/PredefinedPersona.java | 28 ----------------
 .../context/server/api/services/UserService.java   |  2 ++
 .../META-INF/wemi/mappings/personaSession.json     | 18 ++++++++++
 .../context/server/rest/UserServiceEndPoint.java   |  6 ++++
 .../server/impl/services/UserServiceImpl.java      | 14 +++++---
 .../wemi/context/server/ContextServlet.java        | 21 ++++++------
 8 files changed, 99 insertions(+), 43 deletions(-)

commit f9fdbad4c61383b3f7e3276229fa8601748f19a0
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 7 19:24:41 2014 +0200

    BACKLOG-5216 : added purge api. fixed loadSession by adding a date hint

 .../server/api/services/ClusterService.java        |  3 ++
 .../context/server/api/services/EventService.java  |  2 -
 .../context/server/api/services/UserService.java   |  3 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 60 +++++++++++++++++++++-
 .../server/persistence/spi/PersistenceService.java |  6 ++-
 .../server/rest/ClusterServiceEndPoint.java        | 15 +++++-
 .../context/server/rest/UserServiceEndPoint.java   |  5 +-
 .../server/impl/services/EventServiceImpl.java     |  4 --
 .../server/impl/services/UserServiceImpl.java      | 12 ++++-
 .../wemi/context/server/ContextServlet.java        |  2 +-
 .../wemi/context/server/EventCollectorServlet.java |  3 +-
 11 files changed, 97 insertions(+), 18 deletions(-)

commit be3d184dc03f14edb55084373af6a571e4a9adce
Merge: 65727227 9b06b752
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 7 16:32:23 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 657272275b566f8f4f2387f9c390e18aab0ba962
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Oct 7 16:32:14 2014 +0200

    Modify property type choicelist initializer so that it only returns user properties.

 .../wemi/context/server/api/PropertyType.java      | 39 +++++++++++++++++++++-
 .../context/server/api/services/UserService.java   |  2 +-
 .../ElasticSearchPersistenceServiceImpl.java       |  4 +++
 .../server/persistence/spi/PersistenceService.java |  2 ++
 .../context/server/rest/UserServiceEndPoint.java   |  4 +--
 ... => UserPropertyTypeChoiceListInitializer.java} |  4 +--
 .../server/impl/services/UserServiceImpl.java      | 20 +++++++++--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ++---
 8 files changed, 71 insertions(+), 12 deletions(-)

commit 9b06b75236c48c2ec34c45a3f6d1d98f638afa30
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 7 13:48:06 2014 +0200

    BACKLOG-5195 : use cluster address from configuration

 .../ElasticSearchPersistenceServiceImpl.java       | 54 +++++++++++++---------
 1 file changed, 33 insertions(+), 21 deletions(-)

commit 736479091995cd9d78be447cfe1a458779b37921
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 7 12:06:56 2014 +0200

    BACKLOG-5216 : use separate indices for session/events

 .../main/resources/META-INF/wemi/mappings/event.json   | 17 -----------------
 .../main/resources/META-INF/wemi/mappings/goal.json    | 14 --------------
 .../main/resources/META-INF/wemi/mappings/persona.json | 14 --------------
 .../resources/META-INF/wemi/mappings/propertyType.json | 14 --------------
 .../META-INF/wemi/mappings/propertyTypeGroup.json      | 14 --------------
 .../main/resources/META-INF/wemi/mappings/rule.json    | 14 --------------
 .../main/resources/META-INF/wemi/mappings/segment.json | 14 --------------
 .../main/resources/META-INF/wemi/mappings/session.json | 18 ------------------
 .../main/resources/META-INF/wemi/mappings/user.json    | 14 --------------
 9 files changed, 133 deletions(-)

commit d1ed0505841d4865c6c9345601a3abb4372fb485
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Oct 7 11:42:25 2014 +0200

    BACKLOG-5216 : use separate indices for session/events

 .../wemi/context/server/api/ClusterNode.java       |  9 +++
 .../oasis_open/wemi/context/server/api/Event.java  |  2 +-
 .../wemi/context/server/api/Session.java           | 14 ++--
 .../wemi/context/server/api/TimestampedItem.java   |  7 ++
 .../ElasticSearchPersistenceServiceImpl.java       | 91 +++++++++++++++++++---
 .../resources/META-INF/wemi/mappings/event.json    | 17 ++++
 .../resources/META-INF/wemi/mappings/goal.json     | 14 ++++
 .../resources/META-INF/wemi/mappings/persona.json  | 14 ++++
 .../META-INF/wemi/mappings/propertyType.json       | 14 ++++
 .../META-INF/wemi/mappings/propertyTypeGroup.json  | 14 ++++
 .../resources/META-INF/wemi/mappings/rule.json     | 14 ++++
 .../resources/META-INF/wemi/mappings/segment.json  | 14 ++++
 .../resources/META-INF/wemi/mappings/session.json  | 18 +++++
 .../resources/META-INF/wemi/mappings/user.json     | 14 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../server/persistence/spi/PersistenceService.java |  2 -
 .../server/rest/ClusterServiceEndPoint.java        |  9 +++
 .../impl/services/DefinitionsServiceImpl.java      | 22 ------
 .../server/impl/services/GoalsServiceImpl.java     |  6 +-
 .../server/impl/services/UserServiceImpl.java      |  2 +-
 .../META-INF/wemi/personas/googleBot.json          |  2 +-
 .../META-INF/wemi/personas/nonUsVisitor.json       |  2 +-
 .../META-INF/wemi/personas/usVisitor.json          |  2 +-
 .../wemi/context/server/ContextServlet.java        | 17 ++--
 .../oasis_open/wemi/context/server/HttpUtils.java  |  2 +-
 25 files changed, 263 insertions(+), 60 deletions(-)

commit 836e84db27912ee8e4dbdc5ccf83446a826f0e5c
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 6 16:33:22 2014 +0200

    BACKLOG-5249 Replace propertyGroups with tags
    - Provide access to sessions loading & saving in REST API
    - Add resource bundle entries for session properties & tags

 .../wemi/context/server/api/services/UserService.java   |  2 +-
 .../request/src/main/resources/web/messages_en.json     | 17 ++++++++++++++++-
 .../request/src/main/resources/web/messages_fr.json     | 17 ++++++++++++++++-
 .../wemi/context/server/rest/UserServiceEndPoint.java   | 12 +++++++-----
 .../services/src/main/resources/web/messages_en.json    |  3 +++
 .../services/src/main/resources/web/messages_fr.json    |  3 +++
 6 files changed, 46 insertions(+), 8 deletions(-)

commit b6c59a61842ce12a3e1525e616057a3762bc6da2
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Oct 6 12:03:33 2014 +0200

    BACKLOG-5249 Replace propertyGroups with tags
    - Move user properties into a new "users" sub-directory
    - Create some session properties

 .../META-INF/wemi/properties/sessions/geographic/city.json     | 10 ++++++++++
 .../wemi/properties/sessions/geographic/countryCode.json       | 10 ++++++++++
 .../wemi/properties/sessions/geographic/countryName.json       | 10 ++++++++++
 .../META-INF/wemi/properties/sessions/geographic/latitude.json | 10 ++++++++++
 .../wemi/properties/sessions/geographic/longitude.json         | 10 ++++++++++
 .../wemi/properties/sessions/technical/deviceCategory.json     | 10 ++++++++++
 .../properties/sessions/technical/operatingSystemFamily.json   | 10 ++++++++++
 .../properties/sessions/technical/operatingSystemName.json     | 10 ++++++++++
 .../wemi/properties/sessions/technical/remoteAddr.json         | 10 ++++++++++
 .../wemi/properties/sessions/technical/remoteHost.json         | 10 ++++++++++
 .../wemi/properties/sessions/technical/userAgentName.json      | 10 ++++++++++
 .../wemi/properties/sessions/technical/userAgentVersion.json   | 10 ++++++++++
 .../wemi/properties/{ => users}/basic/description.json         |  0
 .../META-INF/wemi/properties/{ => users}/basic/email.json      |  0
 .../META-INF/wemi/properties/{ => users}/basic/facebookId.json |  0
 .../META-INF/wemi/properties/{ => users}/basic/firstName.json  |  0
 .../META-INF/wemi/properties/{ => users}/basic/lastName.json   |  0
 .../META-INF/wemi/properties/{ => users}/basic/linkedInId.json |  0
 .../META-INF/wemi/properties/{ => users}/basic/name.json       |  0
 .../wemi/properties/{ => users}/basic/phoneNumber.json         |  0
 .../META-INF/wemi/properties/{ => users}/basic/twitterId.json  |  0
 .../wemi/properties/{ => users}/behavioral/brandLoyalty.json   |  0
 .../wemi/properties/{ => users}/behavioral/lastVisit.json      |  0
 .../wemi/properties/{ => users}/behavioral/usageRate.json      |  0
 .../wemi/properties/{ => users}/crm/leadAssignedTo.json        |  0
 .../META-INF/wemi/properties/{ => users}/demographic/age.json  |  0
 .../wemi/properties/{ => users}/demographic/gender.json        |  0
 .../wemi/properties/{ => users}/demographic/income.json        |  0
 .../META-INF/wemi/properties/{ => users}/geographic/city.json  |  0
 .../wemi/properties/{ => users}/geographic/climate.json        |  0
 .../wemi/properties/{ => users}/psychographic/activities.json  |  0
 .../wemi/properties/{ => users}/psychographic/hobbies.json     |  0
 .../wemi/properties/{ => users}/psychographic/lifestyle.json   |  0
 .../wemi/properties/{ => users}/technical/deviceType.json      |  0
 .../tags/properties/sessions/geographicSessionProperties.json  |  5 +++++
 .../tags/properties/sessions/technicalSessionProperties.json   |  5 +++++
 36 files changed, 130 insertions(+)

commit 255d3f90941865c036a816c632d11087b2f97ed2
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Oct 1 15:06:10 2014 +0200

    BACKLOG-5249 Replace propertyGroups with tags

 .../wemi/context/server/api/PropertyType.java      | 13 +++---
 .../oasis_open/wemi/context/server/api/Tag.java    | 46 ++++++++++++++++----
 .../context/server/api/services/UserService.java   |  4 +-
 .../META-INF/wemi/properties/goals/goal1.json      |  2 +-
 .../wemi/properties/goals/goalsPropertyGroup.json  |  4 --
 .../tags/properties/users/goalsUserProperties.json |  5 +++
 .../src/main/resources/web/messages_en.json        |  2 +-
 .../src/main/resources/web/messages_fr.json        |  2 +-
 .../context/server/rest/UserServiceEndPoint.java   | 12 ++----
 .../impl/services/DefinitionsServiceImpl.java      |  1 +
 .../server/impl/services/UserServiceImpl.java      | 50 ++--------------------
 .../wemi/properties/basic/basicPropertyGroup.json  |  4 --
 .../wemi/properties/basic/description.json         |  2 +-
 .../META-INF/wemi/properties/basic/email.json      |  2 +-
 .../META-INF/wemi/properties/basic/facebookId.json |  2 +-
 .../META-INF/wemi/properties/basic/firstName.json  |  2 +-
 .../META-INF/wemi/properties/basic/lastName.json   |  2 +-
 .../META-INF/wemi/properties/basic/linkedInId.json |  2 +-
 .../META-INF/wemi/properties/basic/name.json       |  2 +-
 .../wemi/properties/basic/phoneNumber.json         |  2 +-
 .../META-INF/wemi/properties/basic/twitterId.json  |  2 +-
 .../{behavorial => behavioral}/brandLoyalty.json   |  2 +-
 .../{behavorial => behavioral}/lastVisit.json      |  2 +-
 .../{behavorial => behavioral}/usageRate.json      |  2 +-
 .../behavorial/behavioralPropertyGroup.json        |  4 --
 .../wemi/properties/crm/crmPropertyGroup.json      |  4 --
 .../wemi/properties/crm/leadAssignedTo.json        |  2 +-
 .../META-INF/wemi/properties/demographic/age.json  |  2 +-
 .../demographic/demographicPropertyGroup.json      |  4 --
 .../wemi/properties/demographic/gender.json        |  2 +-
 .../wemi/properties/demographic/income.json        |  2 +-
 .../META-INF/wemi/properties/geographic/city.json  |  2 +-
 .../wemi/properties/geographic/climate.json        |  2 +-
 .../geographic/geographicPropertyGroup.json        |  4 --
 .../wemi/properties/psychographic/activities.json  |  2 +-
 .../wemi/properties/psychographic/hobbies.json     |  2 +-
 .../wemi/properties/psychographic/lifestyle.json   |  2 +-
 .../psychographic/psychographicPropertyGroup.json  |  4 --
 .../wemi/properties/technical/deviceType.json      |  2 +-
 .../technical/technicalPropertyGroup.json          |  4 --
 .../wemi/tags/{ => conditions}/condition.json      |  0
 .../wemi/tags/{ => conditions}/eventCondition.json |  0
 .../tags/{ => conditions}/sessionCondition.json    |  0
 .../wemi/tags/{ => conditions}/userCondition.json  |  0
 .../tags/{ => conditions}/userEventCondition.json  |  0
 .../META-INF/wemi/tags/properties/properties.json  |  4 ++
 .../sessions/basicSessionProperties.json           |  5 +++
 .../properties/sessions/sessionProperties.json     |  4 ++
 .../tags/properties/users/basicUserProperties.json |  5 +++
 .../properties/users/behavioralUserProperties.json |  5 +++
 .../tags/properties/users/crmUserProperties.json   |  5 +++
 .../users/demographicUserProperties.json           |  5 +++
 .../properties/users/geographicUserProperties.json |  5 +++
 .../users/psychographicUserProperties.json         |  5 +++
 .../properties/users/technicalUserProperties.json  |  5 +++
 .../wemi/tags/properties/users/userProperties.json |  4 ++
 .../src/main/resources/web/messages_en.json        | 17 ++++----
 .../src/main/resources/web/messages_fr.json        | 17 ++++----
 58 files changed, 153 insertions(+), 146 deletions(-)

commit f10f23c2ac7eae8f49e9262d207c131b94e82f0a
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 30 17:37:48 2014 +0200

    Add lib

 .../src/main/resources/lib/sigar/sigar-x86-winnt.lib    | Bin 0 -> 99584 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit b039b1ebe11c94e81d6954303eeb31b4927e84be
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 30 16:08:12 2014 +0200

    Add session list retrieval for users and personas

 .../context/server/api/services/UserService.java   |  4 ++++
 .../context/server/rest/UserServiceEndPoint.java   | 26 ++++++++++++++++++++--
 .../server/impl/services/UserServiceImpl.java      | 12 +++++++++-
 3 files changed, 39 insertions(+), 3 deletions(-)

commit aa4d6b57376fb7ff31d7a6832a184cb4490c1044
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 30 14:42:04 2014 +0200

    Use custom Maven settings file
    Add SpringSource Enterprise bundle repositories since it seems we still need them for some JARs on startup.

 .../package/src/main/resources/data/maven/settings.xml            | 6 ++++++
 .../package/src/main/resources/etc/org.ops4j.pax.url.mvn.cfg      | 8 +++++---
 2 files changed, 11 insertions(+), 3 deletions(-)

commit 31e4cd3c12f9b93b367d079ffa9aa73172b10a47
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 30 13:45:22 2014 +0200

    Solve startup issue by copying the configuration files manually

 .../kar/src/main/feature/feature.xml               |  5 ++-
 wemi-context-server/package/pom.xml                | 51 +++++++++++++++++++++-
 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   |  6 +--
 3 files changed, 55 insertions(+), 7 deletions(-)

commit 4ab1c07b9e1adbd1ed9ca36ee267c350e28234f0
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 30 11:34:39 2014 +0200

    Modify Pax URL configuration to use a local Maven repository inside data/localRepository instead of the default Maven repository location

 .../main/resources/etc/org.ops4j.pax.url.mvn.cfg   | 106 +++++++++++++++++++++
 1 file changed, 106 insertions(+)

commit 9330c46929c4afd4fcfeb85e757f7a87ae032626
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Sep 26 15:08:34 2014 +0200

    BACKLOG-5102 : performance sub project

 wemi-context-server/performance-tests/pom.xml      | 149 ++++++++++++++++++
 .../context/server/performancetests/BasicTest.java | 174 +++++++++++++++++++++
 wemi-context-server/pom.xml                        |   9 +-
 3 files changed, 331 insertions(+), 1 deletion(-)

commit cbe866a33025cb9f4ba41583fda91a161e4479d1
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Sep 25 12:28:48 2014 +0200

    Implement storage of property types and property mappings

 .../wemi/context/server/api/PropertyType.java      | 25 +++++----
 .../wemi/context/server/api/PropertyTypeGroup.java | 12 +----
 .../ElasticSearchPersistenceServiceImpl.java       | 32 +++++++-----
 .../server/persistence/spi/PersistenceService.java | 14 +++--
 .../impl/services/DefinitionsServiceImpl.java      | 18 +++----
 .../server/impl/services/GoalsServiceImpl.java     |  7 ++-
 .../server/impl/services/RulesServiceImpl.java     |  6 +--
 .../server/impl/services/SegmentServiceImpl.java   |  6 +--
 .../server/impl/services/UserServiceImpl.java      | 59 +++++++++-------------
 .../META-INF/wemi/mappings/propertyType.json       | 14 +++++
 .../META-INF/wemi/mappings/propertyTypeGroup.json  | 14 +++++
 11 files changed, 116 insertions(+), 91 deletions(-)

commit 41aa4aeb102d19498391502e8aa7e406252e4f22
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Sep 25 10:56:04 2014 +0200

    Added missing import

 wemi-context-server/wab/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit ab3ba03a3eeae9c199e52ba556647f4fed5b1dd2
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Sep 24 18:36:56 2014 +0200

    BACKLOG-5061 : handle bundle stopping . unregister conditions/actions and disable associated rules/segments/goals

 .../wemi/context/server/api/Metadata.java          |  36 +++++++
 .../Segment.java}                                  |  10 +-
 .../server/api/services/DefinitionsService.java    |   5 +
 .../server/api/services/SegmentService.java        |   6 +-
 .../server/rest/DefinitionsServiceEndPoint.java    |   9 ++
 .../server/rest/SegmentServiceEndPoint.java        |   8 +-
 .../impl/services/DefinitionsServiceImpl.java      |  64 ++++++++++--
 .../server/impl/services/GoalsServiceImpl.java     |  80 ++++++++++-----
 .../context/server/impl/services/ParserHelper.java |  68 +++++++++---
 .../server/impl/services/RulesServiceImpl.java     | 114 +++++++++++++++------
 .../server/impl/services/SegmentServiceImpl.java   | 108 ++++++++++++++-----
 .../server/impl/services/UserServiceImpl.java      |  44 ++++----
 .../resources/META-INF/wemi/mappings/goal.json     |  14 +++
 .../resources/META-INF/wemi/mappings/persona.json  |  14 +++
 .../resources/META-INF/wemi/mappings/rule.json     |  14 +++
 .../resources/META-INF/wemi/mappings/segment.json  |  14 +++
 .../META-INF/wemi/rules/evaluateUserSegments.json  |   3 +-
 .../resources/META-INF/wemi/rules/newSession.json  |   3 +-
 .../resources/META-INF/wemi/segments/contacts.json |   3 +-
 .../resources/META-INF/wemi/segments/leads.json    |   3 +-
 .../wemi/context/server/PluginsExtender.java       |  18 ++--
 21 files changed, 488 insertions(+), 150 deletions(-)

commit 11c4c726454288609a4d470488ecc438d866fa74
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Sep 23 18:33:35 2014 +0200

    BACKLOG-5036 : added query service and aggregation for statistics
    restored user in session
    cleaned up rules and segments
    store event when a rule is fired
    optimized rules and user updates

 .../oasis_open/wemi/context/server/api/Item.java   |   2 +
 .../wemi/context/server/api/Persona.java           |  17 ---
 .../wemi/context/server/api/PredefinedPersona.java |  28 ++++
 .../wemi/context/server/api/Session.java           |  16 ++-
 .../oasis_open/wemi/context/server/api/User.java   |   6 +-
 .../server/api/services/ClusterService.java        |   2 +-
 .../server/api/services/EventListenerService.java  |   4 +-
 .../context/server/api/services/EventService.java  |   8 +-
 .../context/server/api/services/QueryService.java  |   8 ++
 .../server/api/services/SegmentService.java        |  13 +-
 .../context/server/api/services/UserService.java   |  18 +--
 .../ElasticSearchPersistenceServiceImpl.java       | 149 ++++++++++-----------
 .../server/persistence/spi/PersistenceService.java |   6 +-
 .../context/server/rest/QueryServiceEndPoint.java  |  37 +++++
 .../context/server/rest/UserServiceEndPoint.java   |   9 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  16 +++
 .../actions/IncrementInterestsValuesAction.java    |   2 +-
 .../impl/actions/SetEventOccurenceCountAction.java |   4 +-
 .../server/impl/actions/SetPropertyAction.java     |  19 +--
 .../server/impl/services/EventServiceImpl.java     |   9 +-
 .../server/impl/services/GoalsServiceImpl.java     |  12 +-
 .../server/impl/services/QueryServiceImpl.java     |  46 +++++++
 .../server/impl/services/RulesServiceImpl.java     |   5 +
 .../server/impl/services/SegmentServiceImpl.java   |   2 +-
 .../server/impl/services/UserServiceImpl.java      |  17 ++-
 .../META-INF/wemi/personas/googleBot.json          |  22 +--
 .../META-INF/wemi/personas/nonUsVisitor.json       |  18 +--
 .../META-INF/wemi/personas/usVisitor.json          |  59 ++++----
 .../META-INF/wemi/rules/incrementInterests.json    |  18 ++-
 .../resources/META-INF/wemi/rules/lastVisit.json   |  34 -----
 .../resources/META-INF/wemi/rules/newSession.json  |  16 +++
 .../META-INF/wemi/segments/alwaysTrue.json         |  11 --
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   8 ++
 .../wemi/context/server/ContextServlet.java        |  11 +-
 34 files changed, 404 insertions(+), 248 deletions(-)

commit d3bf1cf6048ddc1fd4b7fdb04d77ba85a6b2e316
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Sep 22 10:50:32 2014 +0200

    Added scripting in setProperty action, add nbOfVisits counter

 .../context/server/impl/actions/SetPropertyAction.java   | 16 ++++++++++++++--
 .../main/resources/META-INF/wemi/rules/lastVisit.json    | 10 +++++++++-
 2 files changed, 23 insertions(+), 3 deletions(-)

commit 48ea194f81df2435f2eff1481de770921282134e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Sep 22 10:16:14 2014 +0200

    added missing coords

 .../services/src/main/resources/META-INF/wemi/personas/googleBot.json   | 2 ++
 .../src/main/resources/META-INF/wemi/personas/nonUsVisitor.json         | 2 ++
 .../services/src/main/resources/META-INF/wemi/personas/usVisitor.json   | 2 ++
 3 files changed, 6 insertions(+)

commit dd354cc5ce451ba5618fcf1aa901cb8cd02b0275
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Sep 19 17:50:57 2014 +0200

    Avoid npe for new sessions

 .../src/main/java/org/oasis_open/wemi/context/server/api/Session.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d3361a6261a83d15aa105e0d5438d9d99f5e527c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Sep 19 17:16:10 2014 +0200

    Simplified impersonification, use persistent sessions for persona

 .../wemi/context/server/api/Persona.java           |  25 +++--
 .../wemi/context/server/api/Session.java           |   8 ++
 .../actions/RequestHeaderToUserPropertyAction.java |   5 -
 .../RequestParameterToUserPropertyAction.java      |   5 -
 .../actions/AllEventToUserPropertiesAction.java    |   5 -
 .../impl/actions/EvaluateUserSegmentsAction.java   |   5 -
 .../impl/actions/EventToUserPropertyAction.java    |   4 -
 .../actions/IncrementInterestsValuesAction.java    |   5 -
 .../impl/actions/SetEventOccurenceCountAction.java |   5 -
 .../server/impl/actions/SetPropertyAction.java     |  11 +-
 .../server/impl/services/UserServiceImpl.java      |   9 ++
 .../META-INF/wemi/personas/googleBot.json          |  26 +++--
 .../META-INF/wemi/personas/nonUsVisitor.json       |  25 +++--
 .../META-INF/wemi/personas/usVisitor.json          |  24 ++++-
 .../resources/META-INF/wemi/rules/impersonate.json |  34 -------
 .../wemi/context/server/ContextServlet.java        | 101 ++++++++----------
 .../wemi/context/server/EventCollectorServlet.java |  39 +------
 .../wemi/context/server/PersonaRequestWrapper.java |  91 -----------------
 .../webapp/WEB-INF/javascript/impersonateBase.js   | 113 +++++++++++++++++++++
 19 files changed, 251 insertions(+), 289 deletions(-)

commit fd13c65e99bf424315dbe04e945fe9fc351d8717
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 18 14:01:54 2014 +0200

    Add sorting & paging to personas REST API

 .../oasis_open/wemi/context/server/api/services/UserService.java    | 2 +-
 .../oasis_open/wemi/context/server/rest/SegmentServiceEndPoint.java | 2 +-
 .../oasis_open/wemi/context/server/rest/UserServiceEndPoint.java    | 6 +++---
 .../wemi/context/server/impl/services/UserServiceImpl.java          | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit ce57535311b181f12e0b0c395bfb8e227331fca7
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 18 13:47:06 2014 +0200

    Add sorting & paging to segment matching REST API

 .../wemi/context/server/api/services/EventService.java           | 2 +-
 .../wemi/context/server/api/services/SegmentService.java         | 2 +-
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java       | 9 ++++++---
 .../wemi/context/server/persistence/spi/PersistenceService.java  | 2 +-
 .../wemi/context/server/rest/SegmentServiceEndPoint.java         | 4 ++--
 .../wemi/context/server/impl/services/EventServiceImpl.java      | 4 ++--
 .../wemi/context/server/impl/services/SegmentServiceImpl.java    | 4 ++--
 .../wemi/context/server/impl/services/UserServiceImpl.java       | 2 +-
 8 files changed, 16 insertions(+), 13 deletions(-)

commit 9559331abadd2a8e1aa922816a70802492e5082e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 18 11:35:36 2014 +0200

    Use default search type (QUERY_THEN_FETCH) instead of QUERY_AND_FETCH since QUERY_AND_FETCH retrieves size*number of shards instead of just "size" elements

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 157b44a28344b79a826a80ee10d2746353b9ffde
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 18 11:22:51 2014 +0200

    - Improve packaging of IP database configuration
    - Document the IP database installation
    - Fix a small issue in the IP lookup when retrieving the latitude and longitude

 README.md                                          | 18 +++++++++++++++
 .../kar/src/main/feature/feature.xml               |  1 +
 wemi-context-server/plugins/pom.xml                | 26 +++++++++++++++++++++-
 .../request/actions/SetRemoteHostInfoAction.java   |  4 ++--
 wemi-context-server/pom.xml                        |  5 +++--
 5 files changed, 49 insertions(+), 5 deletions(-)

commit 4883e611068add96f106f74227073bc27865503e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 18 10:17:45 2014 +0200

    Fix typo

 wemi-context-server/package/src/main/resources/bin/setenv.bat | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16fa85102e0dbd141979efce96f2d65a7046bd49
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 21:57:34 2014 +0200

    Initial support for sortBy queries

 .../wemi/context/server/api/services/UserService.java     |  2 +-
 .../ElasticSearchPersistenceServiceImpl.java              | 15 ++++++++++++---
 .../server/persistence/spi/PersistenceService.java        |  2 +-
 .../wemi/context/server/rest/UserServiceEndPoint.java     |  4 ++--
 .../context/server/impl/services/UserServiceImpl.java     |  4 ++--
 5 files changed, 18 insertions(+), 9 deletions(-)

commit 1dc36169f67b897c50bba10efe2a0ff13e3a740b
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 21:35:29 2014 +0200

    Change default size to 10, since it is multiplied by the number of shards.

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6054f21e3c91fb5449ed500534aa5e72e1e41543
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 17:35:45 2014 +0200

    Integrate new partial list object, to be able to introduce pagination (and sorting)

 .../wemi/context/server/api/PartialList.java       | 76 ++++++++++++++++++++++
 .../context/server/api/services/EventService.java  |  3 +-
 .../context/server/api/services/RulesService.java  |  1 -
 .../server/api/services/SegmentService.java        |  3 +-
 .../context/server/api/services/UserService.java   | 10 ++-
 .../ElasticSearchPersistenceServiceImpl.java       | 23 ++++---
 .../server/persistence/spi/PersistenceService.java | 10 +--
 .../server/rest/SegmentServiceEndPoint.java        |  3 +-
 .../context/server/rest/UserServiceEndPoint.java   | 10 ++-
 .../server/impl/services/EventServiceImpl.java     |  6 +-
 .../server/impl/services/GoalsServiceImpl.java     | 14 ++--
 .../server/impl/services/RulesServiceImpl.java     |  5 +-
 .../server/impl/services/SegmentServiceImpl.java   |  9 +--
 .../server/impl/services/UserServiceImpl.java      | 18 ++---
 14 files changed, 134 insertions(+), 57 deletions(-)

commit d981fbb59f366b14a30b2e6dcf9c96f4dc92abc5
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 13:31:04 2014 +0200

    Add new name and description properties

 .../java/org/oasis_open/wemi/context/server/api/Persona.java   | 10 ----------
 .../src/main/resources/META-INF/wemi/personas/googleBot.json   |  1 +
 .../main/resources/META-INF/wemi/personas/nonUsVisitor.json    |  5 +++--
 .../src/main/resources/META-INF/wemi/personas/usVisitor.json   |  1 +
 .../resources/META-INF/wemi/properties/basic/description.json  | 10 ++++++++++
 .../main/resources/META-INF/wemi/properties/basic/email.json   |  2 +-
 .../resources/META-INF/wemi/properties/basic/facebookId.json   |  2 +-
 .../resources/META-INF/wemi/properties/basic/firstName.json    |  2 +-
 .../resources/META-INF/wemi/properties/basic/lastName.json     |  2 +-
 .../resources/META-INF/wemi/properties/basic/linkedInId.json   |  2 +-
 .../main/resources/META-INF/wemi/properties/basic/name.json    | 10 ++++++++++
 .../resources/META-INF/wemi/properties/basic/phoneNumber.json  |  2 +-
 .../resources/META-INF/wemi/properties/basic/twitterId.json    |  2 +-
 .../services/src/main/resources/web/messages_en.json           |  2 ++
 .../services/src/main/resources/web/messages_fr.json           |  2 ++
 15 files changed, 36 insertions(+), 19 deletions(-)

commit f4c3684052185b6c9cac2066ffcb4334876eb2eb
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 11:01:51 2014 +0200

    - Remove user object from session as it doesn't seem to be needed
    - Fix ES 1.3.2 upgrade issue because MVEL scripting language has been deprecated and replaced by Groovy

 .../wemi/context/server/api/Session.java           | 26 +++++++---------------
 .../GoalMatchConditionESQueryBuilder.java          |  2 +-
 .../wemi/context/server/ContextServlet.java        |  2 +-
 3 files changed, 10 insertions(+), 20 deletions(-)

commit 060ee068bca3c2aa56a67e765bb543fec2daab8b
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 10:16:35 2014 +0200

    Integrate more information from the node statistics

 .../wemi/context/server/api/ClusterNode.java       | 18 +++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 23 ++++++++++++++++++++--
 2 files changed, 39 insertions(+), 2 deletions(-)

commit ace289e70895a7f822fca487a9edc27229658eee
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 09:56:44 2014 +0200

    Add instructions for installation native Sigar libraries

 README.md | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 87d5b32d23a6e378e3d7a9361629219fa0486f5a
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 17 09:51:45 2014 +0200

    Add native sigar libraries to package

 .../package/src/main/resources/bin/setenv              |   4 ++++
 .../package/src/main/resources/bin/setenv.bat          |   3 +++
 .../resources/lib/sigar/libsigar-amd64-freebsd-6.so    | Bin 0 -> 210641 bytes
 .../main/resources/lib/sigar/libsigar-amd64-linux.so   | Bin 0 -> 246605 bytes
 .../main/resources/lib/sigar/libsigar-amd64-solaris.so | Bin 0 -> 251360 bytes
 .../main/resources/lib/sigar/libsigar-ia64-linux.so    | Bin 0 -> 494929 bytes
 .../main/resources/lib/sigar/libsigar-sparc-solaris.so | Bin 0 -> 285004 bytes
 .../resources/lib/sigar/libsigar-sparc64-solaris.so    | Bin 0 -> 261896 bytes
 .../lib/sigar/libsigar-universal-macosx.dylib          | Bin 0 -> 377668 bytes
 .../lib/sigar/libsigar-universal64-macosx.dylib        | Bin 0 -> 397440 bytes
 .../main/resources/lib/sigar/libsigar-x86-freebsd-5.so | Bin 0 -> 179751 bytes
 .../main/resources/lib/sigar/libsigar-x86-freebsd-6.so | Bin 0 -> 179379 bytes
 .../src/main/resources/lib/sigar/libsigar-x86-linux.so | Bin 0 -> 233385 bytes
 .../main/resources/lib/sigar/libsigar-x86-solaris.so   | Bin 0 -> 242880 bytes
 .../src/main/resources/lib/sigar/sigar-amd64-winnt.dll | Bin 0 -> 402432 bytes
 .../src/main/resources/lib/sigar/sigar-x86-winnt.dll   | Bin 0 -> 266240 bytes
 16 files changed, 7 insertions(+)

commit 6b62bd621719cdd041ec1c4f09a37d094bbbc033
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 16 17:02:02 2014 +0200

    - Upgrade ElasticSearch to 1.3.2 (from 1.1.1)
    - Add cluster service endpoint

 .../persistence-elasticsearch/pom.xml              | 141 +++++++++++++++++++--
 .../ElasticSearchPersistenceServiceImpl.java       |  20 ++-
 .../server/rest/ClusterServiceEndPoint.java        |  40 ++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  19 ++-
 4 files changed, 202 insertions(+), 18 deletions(-)

commit 2a786716e8336af33ff411513e859ac73b575a36
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 16 11:08:48 2014 +0200

    - Persona switching now works
    - Add filter target support

 .../wemi/context/server/ContextServlet.java        | 54 ++++++++++++++--------
 1 file changed, 35 insertions(+), 19 deletions(-)

commit d0f3bbac129de777fd353467f2efd7aad7162288
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Sep 15 15:37:31 2014 +0200

    - Add impersonate rule
    - Fix stupid bug in PersonaRequestWrapper

 .../resources/META-INF/wemi/rules/impersonate.json | 34 ++++++++++++++++++++++
 .../wemi/context/server/PersonaRequestWrapper.java |  1 +
 2 files changed, 35 insertions(+)

commit 67e74c3aa15c8515a1e4b41b86a2718a391373cf
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Sep 15 14:26:47 2014 +0200

    Fix stupid bug in condition type resolver

 .../org/oasis_open/wemi/context/server/impl/services/ParserHelper.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 094d4d3cb216cde28e16db775f59d2bbf58446e1
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Sep 15 11:51:05 2014 +0200

    - Add latitude and longitude to session date
    - Add an "impersonate" event to be able to switch to a persona

 .../request/actions/SetRemoteHostInfoAction.java   |  6 ++++
 .../wemi/context/server/ContextServlet.java        | 36 +++----------------
 .../wemi/context/server/EventCollectorServlet.java | 17 +++++++--
 .../oasis_open/wemi/context/server/HttpUtils.java  | 41 ++++++++++++++++++++++
 4 files changed, 65 insertions(+), 35 deletions(-)

commit 2afc8398ca2fee2bb8d9ac68d8cafd6d8ff74ed3
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 16:42:05 2014 +0200

    Add session data to digitalData object

 .../wemi/context/server/ContextServlet.java         |  2 +-
 .../wemi/context/server/EventCollectorServlet.java  |  2 +-
 .../oasis_open/wemi/context/server/HttpUtils.java   | 21 +++++++++++++++++++--
 3 files changed, 21 insertions(+), 4 deletions(-)

commit e6982b5b8543f3e6a1ef2ced139a15251a9147ad
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 16:22:57 2014 +0200

    Deactive property writes for actions when using a persona

 .../request/actions/RequestHeaderToUserPropertyAction.java   |  5 +++++
 .../actions/RequestParameterToUserPropertyAction.java        |  5 +++++
 .../server/impl/actions/AllEventToUserPropertiesAction.java  |  5 +++++
 .../server/impl/actions/EvaluateUserSegmentsAction.java      |  5 +++++
 .../server/impl/actions/EventToUserPropertyAction.java       |  4 ++++
 .../server/impl/actions/IncrementInterestsValuesAction.java  |  9 ++++++---
 .../server/impl/actions/SetEventOccurenceCountAction.java    |  5 +++++
 .../wemi/context/server/impl/actions/SetPropertyAction.java  | 12 ++++++++----
 8 files changed, 43 insertions(+), 7 deletions(-)

commit 8eeb2a95fc591e7eaf493fc18a2f90d42a31b1b1
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 15:18:07 2014 +0200

    Add property to make it easier to detect personas

 .../services/src/main/resources/META-INF/wemi/personas/googleBot.json | 4 +++-
 .../src/main/resources/META-INF/wemi/personas/nonUsVisitor.json       | 4 +++-
 .../services/src/main/resources/META-INF/wemi/personas/usVisitor.json | 4 +++-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 1713ea09cbf7d43b1c753d298606c783744226a4
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 15:13:04 2014 +0200

    Improve reset detection of current user

 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4fed48a7ef7266738ffa4845156cd291a1f3b617
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 15:01:25 2014 +0200

    Fix minor bug in cookie detection

 .../src/main/java/org/oasis_open/wemi/context/server/ContextServlet.java | 1 -
 1 file changed, 1 deletion(-)

commit c7fec3eb3d005c12d3725dc4978dd78e5116ece4
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 14:38:29 2014 +0200

    Make sure we only set the cookie if the persona was indeed loaded.

 .../main/java/org/oasis_open/wemi/context/server/ContextServlet.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 33a5a1ef708e570a0fc3bb4e20294ae35ce16325
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 10:05:08 2014 +0200

    Start integrating persona switching in context and event collector servlets. We use request wrappers for request emulation

 .../context/server/api/services/UserService.java   |  2 +
 .../context/server/rest/UserServiceEndPoint.java   |  4 +-
 .../server/impl/services/UserServiceImpl.java      |  4 +
 .../wemi/context/server/ContextServlet.java        | 52 +++++++++++--
 .../wemi/context/server/EventCollectorServlet.java | 28 ++++++-
 .../wemi/context/server/PersonaRequestWrapper.java | 90 ++++++++++++++++++++++
 6 files changed, 171 insertions(+), 9 deletions(-)

commit eea5c12250b75e3ae7b2705dc728621fe3396f57
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 14 09:02:59 2014 +0200

    Implement predefined personas

 .../context/server/rest/UserServiceEndPoint.java   |  2 +-
 .../server/impl/services/UserServiceImpl.java      | 26 ++++++++++++++++++++++
 .../META-INF/wemi/personas/googleBot.json          | 17 ++++++++++++++
 .../META-INF/wemi/personas/nonUsVisitor.json       | 14 ++++++++++++
 .../META-INF/wemi/personas/usVisitor.json          | 14 ++++++++++++
 5 files changed, 72 insertions(+), 1 deletion(-)

commit de1bbc37a876f3b9a06ca23e0495991a1dfa944c
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Sep 13 23:11:20 2014 +0200

    Start implementing cluster node service

 .../wemi/context/server/api/ClusterNode.java       | 26 +++++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 30 +++++++++++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ++++--
 3 files changed, 61 insertions(+), 3 deletions(-)

commit 2f086fb10e9d3c239ea88ec9382b30561b46917b
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Sep 13 22:40:21 2014 +0200

    - Start implementing Persona (aka "virtual users")
    - Initial implementation of cluster service and cluster node class (only the API for the moment)

 .../wemi/context/server/api/ClusterNode.java       | 14 +++++++
 .../wemi/context/server/api/Persona.java           | 49 ++++++++++++++++++++++
 .../server/api/services/ClusterService.java        | 14 +++++++
 .../context/server/api/services/UserService.java   | 12 ++++--
 .../GeoLocationSessionConditionESQueryBuilder.java |  1 +
 .../context/server/rest/UserServiceEndPoint.java   | 44 +++++++++++++++++--
 .../server/impl/services/UserServiceImpl.java      | 17 ++++++++
 7 files changed, 143 insertions(+), 8 deletions(-)

commit 92af7143aadf3667f892aa928846dadc37684f9c
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Sep 12 14:21:49 2014 +0200

    Implement geo location session condition. For the moment only a country code detection is possible

 .../GeoLocationSessionConditionESQueryBuilder.java | 26 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++++
 .../conditions/geoLocationSessionCondition.json    | 13 +++++++++++
 3 files changed, 46 insertions(+)

commit 3bc49fd7854be07a3f8f562651c7abeaa0d69fec
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Sep 12 10:42:05 2014 +0200

    Fix NPE if a condition type doesn't exist.

 .../context/server/impl/services/ParserHelper.java  | 21 ++++++++++++++++++---
 .../server/impl/services/RulesServiceImpl.java      |  2 +-
 .../server/impl/services/UserServiceImpl.java       |  4 ++--
 3 files changed, 21 insertions(+), 6 deletions(-)

commit 49582fbbdb4998092caa1012e24b2d9bb03b9f3a
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Sep 7 22:35:59 2014 +0200

    Implement real item count methods

 .../wemi/context/server/api/services/SegmentService.java   |  8 ++++++--
 .../wemi/context/server/api/services/UserService.java      |  2 ++
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java | 14 +++++++++++---
 .../context/server/persistence/spi/PersistenceService.java |  2 ++
 .../wemi/context/server/rest/SegmentServiceEndPoint.java   |  9 ++-------
 .../wemi/context/server/rest/UserServiceEndPoint.java      |  9 ++-------
 .../context/server/impl/services/SegmentServiceImpl.java   | 11 +++++++++--
 .../wemi/context/server/impl/services/UserServiceImpl.java |  4 ++++
 8 files changed, 38 insertions(+), 21 deletions(-)

commit 22d4e8b5d478a5ae94111f1fd6e4139bcce5b2b6
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Sep 6 15:32:04 2014 +0200

    Try to fix problem with conditions by first going down into sub conditions before trying to match the rootCondition

 .../wemi/context/server/impl/services/RulesServiceImpl.java    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit dd983de6784395cee00ae4dd4c1a8f85f938e273
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Sep 6 15:08:40 2014 +0200

    Make MaxMind database reader configuration work properly

 .../plugins/request/src/main/resources/OSGI-INF/blueprint/blueprint.xml | 2 +-
 .../resources/org.oasis_open.wemi.context.server.plugins.request.cfg    | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6cfd014459be30c5cc9a6a844f57fb013a604205
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Sep 5 17:32:11 2014 +0200

    Refactor :
    - propertyType -> valueType
    - userProperty -> propertyType
    - userPropertyGroup -> propertyTypeGroup
    
    Implement database lookups in request plugin

 .../wemi/context/server/api/PropertyType.java      | 112 ++++++++++--------
 ...erPropertyGroup.java => PropertyTypeGroup.java} |  18 +--
 .../wemi/context/server/api/UserProperty.java      | 125 ---------------------
 .../wemi/context/server/api/ValueType.java         | 103 +++++++++++++++++
 .../server/api/services/DefinitionsService.java    |   8 +-
 .../context/server/api/services/UserService.java   |  12 +-
 .../wemi/{user => properties}/goals/goal1.json     |   0
 .../goals/goalsPropertyGroup.json                  |   0
 .../META-INF/wemi/actions/sendMailAction.json      |   2 +-
 wemi-context-server/plugins/request/pom.xml        |  71 +++++++++++-
 .../request/actions/SetRemoteHostInfoAction.java   | 119 +++++++++++++++++---
 .../actions/requestHeaderToUserPropertyAction.json |   2 +-
 .../requestParameterToUserPropertyAction.json      |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  31 +++--
 .../server/rest/DefinitionsServiceEndPoint.java    |  20 ++--
 .../context/server/rest/UserServiceEndPoint.java   |  22 ++--
 .../actions/AllEventToUserPropertiesAction.java    |   2 +-
 ...java => PropertyTypeChoiceListInitializer.java} |  12 +-
 .../impl/services/DefinitionsServiceImpl.java      |  64 +++++------
 .../context/server/impl/services/ParserHelper.java |  12 +-
 .../server/impl/services/UserServiceImpl.java      | 104 ++++++++---------
 .../wemi/actions/eventToUserPropertyAction.json    |   2 +-
 .../META-INF/wemi/actions/setPropertyAction.json   |   2 +-
 .../wemi/conditions/userPropertyCondition.json     |   2 +-
 .../basic/basicPropertyGroup.json                  |   0
 .../wemi/{user => properties}/basic/email.json     |   0
 .../{user => properties}/basic/facebookId.json     |   0
 .../wemi/{user => properties}/basic/firstName.json |   0
 .../wemi/{user => properties}/basic/lastName.json  |   0
 .../{user => properties}/basic/linkedInId.json     |   0
 .../{user => properties}/basic/phoneNumber.json    |   0
 .../wemi/{user => properties}/basic/twitterId.json |   0
 .../behavorial/behavioralPropertyGroup.json        |   0
 .../behavorial/brandLoyalty.json                   |   0
 .../{user => properties}/behavorial/lastVisit.json |   0
 .../{user => properties}/behavorial/usageRate.json |   0
 .../{user => properties}/crm/crmPropertyGroup.json |   0
 .../{user => properties}/crm/leadAssignedTo.json   |   0
 .../wemi/{user => properties}/demographic/age.json |   0
 .../demographic/demographicPropertyGroup.json      |   0
 .../{user => properties}/demographic/gender.json   |   0
 .../{user => properties}/demographic/income.json   |   0
 .../wemi/{user => properties}/geographic/city.json |   0
 .../{user => properties}/geographic/climate.json   |   0
 .../geographic/geographicPropertyGroup.json        |   0
 .../psychographic/activities.json                  |   0
 .../psychographic/hobbies.json                     |   0
 .../psychographic/lifestyle.json                   |   0
 .../psychographic/psychographicPropertyGroup.json  |   0
 .../{user => properties}/technical/deviceType.json |   0
 .../technical/technicalPropertyGroup.json          |   0
 .../META-INF/wemi/{properties => values}/date.json |   0
 .../wemi/{properties => values}/email.json         |   0
 .../wemi/{properties => values}/integer.json       |   0
 .../wemi/{properties => values}/string.json        |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   6 +-
 .../resources/web/{properties => values}/date.html |   0
 .../web/{properties => values}/email.html          |   0
 .../web/{properties => values}/integer.html        |   0
 .../web/{properties => values}/string.html         |   0
 60 files changed, 513 insertions(+), 340 deletions(-)

commit d2086982240cc68fc5f1bb3c7ca00ddda93dc7a8
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Sep 5 14:23:40 2014 +0200

    BACKLOG-5054 , BACKLOG-5086 : allows to use drop down to drop new condition

 .../services/src/main/resources/web/conditions/userEventCondition.html  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e999fcd775b397ca0ad92810dc4320fa4be201ec
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Sep 4 11:47:50 2014 +0200

    BACKLOG-5052 : cleaned date  and integer mapping . allows to use integer as property values

 .../oasis_open/wemi/context/server/api/Event.java  | 14 +++++------
 .../wemi/context/server/api/Session.java           | 16 ++++++------
 .../oasis_open/wemi/context/server/api/User.java   | 16 ++++++------
 .../ElasticSearchPersistenceServiceImpl.java       | 10 ++++----
 .../PropertyConditionESQueryBuilder.java           |  6 ++---
 .../SessionDurationConditionESQueryBuilder.java    | 12 ++++-----
 .../UserEventConditionESQueryBuilder.java          | 10 ++++----
 .../UserInterestConditionESQueryBuilder.java       |  2 +-
 .../persistence/spi}/CustomObjectMapper.java       | 13 +++++++++-
 .../server/persistence/spi/MapperHelper.java       | 29 ----------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +-
 .../actions/AllEventToUserPropertiesAction.java    |  2 +-
 .../actions/IncrementInterestsValuesAction.java    | 11 ++++----
 .../server/impl/actions/SetPropertyAction.java     |  2 +-
 .../impl/services/DefinitionsServiceImpl.java      | 10 ++++----
 .../server/impl/services/EventServiceImpl.java     |  2 +-
 .../server/impl/services/GoalsServiceImpl.java     |  4 +--
 .../server/impl/services/RulesServiceImpl.java     |  7 +++---
 .../server/impl/services/SegmentServiceImpl.java   |  6 ++---
 .../server/impl/services/UserServiceImpl.java      |  8 +++---
 .../wemi/conditions/sessionDurationCondition.json  |  4 +--
 .../wemi/conditions/userInterestCondition.json     |  2 +-
 .../resources/META-INF/wemi/segments/french.json   |  2 +-
 .../META-INF/wemi/segments/youngRich.json          |  4 +--
 .../wemi/context/server/EventCollectorServlet.java |  2 +-
 .../oasis_open/wemi/context/server/HttpUtils.java  |  2 +-
 26 files changed, 92 insertions(+), 106 deletions(-)

commit 34b12caf73d3ed201fb3db61c3341bde18fb8ac5
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Sep 4 11:00:16 2014 +0200

    Implement recursive loading of action/condition/properties by tag

 .../server/api/services/DefinitionsService.java    |  6 +--
 .../server/rest/DefinitionsServiceEndPoint.java    | 17 ++++----
 .../impl/services/DefinitionsServiceImpl.java      | 48 +++++++++++++++++++---
 3 files changed, 52 insertions(+), 19 deletions(-)

commit e9557b7c29d73574a86fbd9af506ca911ccc4206
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 21:24:17 2014 +0200

    Fix NPE when trying to load conditions or actions by tag

 .../wemi/context/server/rest/DefinitionsServiceEndPoint.java        | 6 ++++++
 1 file changed, 6 insertions(+)

commit 16fe9a8030ad33aa88b2231c08408b9cf1b54a93
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Sep 3 18:42:09 2014 +0200

    BACKLOG-5050 : added interest condition

 .../UserInterestConditionESQueryBuilder.java         | 20 ++++++++++++++++++++
 .../main/resources/OSGI-INF/blueprint/blueprint.xml  |  7 +++++++
 .../wemi/conditions/userInterestCondition.json       | 19 +++++++++++++++++++
 .../web/conditions/userInterestCondition.html        | 15 +++++++++++++++
 .../services/src/main/resources/web/messages_en.json |  2 ++
 5 files changed, 63 insertions(+)

commit 4bb7030e20a9dd799138eb3080206b212b9f1666
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Sep 3 17:53:27 2014 +0200

    Update labels and tags

 .../src/main/resources/META-INF/wemi/conditions/orCondition.json    | 2 +-
 .../main/resources/META-INF/wemi/conditions/userEventCondition.json | 2 +-
 .../src/main/resources/web/conditions/userEventCondition.html       | 6 +++++-
 .../services/src/main/resources/web/messages_en.json                | 3 ++-
 .../services/src/main/resources/web/messages_fr.json                | 3 ++-
 5 files changed, 11 insertions(+), 5 deletions(-)

commit d5623bcfe9319b0ecd3b9ac9513189bc13f9177f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Sep 3 17:08:20 2014 +0200

    Alllows to set number of occurences in user event condition, added tags to clean user interface, moved rule generation to segments

 .../context/server/api/services/RulesService.java  |  1 -
 .../PropertyConditionESQueryBuilder.java           |  8 +--
 .../UserEventConditionESQueryBuilder.java          |  6 +-
 .../context/server/rest/RulesServiceEndPoint.java  |  4 --
 .../impl/actions/SetEventOccurenceCountAction.java | 65 ++++++++++++++++++
 .../server/impl/services/RulesServiceImpl.java     | 77 ----------------------
 .../server/impl/services/SegmentServiceImpl.java   | 66 +++++++++++++++++--
 .../wemi/actions/setEventOccurenceCountAction.json | 15 +++++
 .../META-INF/wemi/conditions/andCondition.json     |  2 +-
 .../wemi/conditions/matchAllCondition.json         |  2 +-
 .../wemi/conditions/userEventCondition.json        |  8 ++-
 .../resources/META-INF/wemi/mappings/event.json    |  2 +-
 .../resources/META-INF/wemi/tags/demographic.json  |  2 +-
 .../main/resources/META-INF/wemi/tags/event.json   |  2 +-
 .../resources/META-INF/wemi/tags/geographic.json   |  2 +-
 .../main/resources/META-INF/wemi/tags/logical.json |  2 +-
 .../resources/META-INF/wemi/tags/userTags.json     |  4 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 +++
 .../web/conditions/userEventCondition.html         |  6 +-
 19 files changed, 180 insertions(+), 103 deletions(-)

commit cbef5500963bfdf2fadec03653cc92682ec9823d
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 16:08:04 2014 +0200

    Add a todo to optimize the segment user count

 .../org/oasis_open/wemi/context/server/rest/SegmentServiceEndPoint.java  | 1 +
 1 file changed, 1 insertion(+)

commit 3c93c3d5e94817576a0cfca116e0a22ab398752c
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 16:02:40 2014 +0200

    Add a todo to optimize the user count

 .../org/oasis_open/wemi/context/server/rest/UserServiceEndPoint.java     | 1 +
 1 file changed, 1 insertion(+)

commit 9f78d9ab24db10844c4f13c7479eb537d4fcc639
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 16:01:43 2014 +0200

    Add count endpoints to count total users as well as users in a segment

 .../wemi/context/server/rest/SegmentServiceEndPoint.java   | 14 +++++++++++++-
 .../wemi/context/server/rest/UserServiceEndPoint.java      | 12 +++++++++++-
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 1d5f02ddcf2ab58c2157874880224d2ddcbb3a56
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 15:21:31 2014 +0200

    Return void to avoid erasing current object when saving the user properties.

 .../org/oasis_open/wemi/context/server/api/services/UserService.java  | 2 +-
 .../org/oasis_open/wemi/context/server/rest/UserServiceEndPoint.java  | 4 ++--
 .../oasis_open/wemi/context/server/impl/services/UserServiceImpl.java | 3 +--
 3 files changed, 4 insertions(+), 5 deletions(-)

commit 36672e34ea2c1858cda81d45f19babb08ef21c1d
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 14:56:05 2014 +0200

    Improve property type templates

 .../services/src/main/resources/web/properties/date.html                | 2 +-
 .../services/src/main/resources/web/properties/email.html               | 2 +-
 .../services/src/main/resources/web/properties/integer.html             | 2 +-
 .../services/src/main/resources/web/properties/string.html              | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 084b7e9ae8de046c12dcd1985f9543d59c9cabaa
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Sep 3 13:54:03 2014 +0200

    BACKLOG-5095
    - Add last visit rule
    - Add resource keys for new user properties

 .../server/impl/services/SegmentServiceImpl.java   | 67 +++++++++++-----------
 .../resources/META-INF/wemi/rules/lastVisit.json   | 26 +++++++++
 .../src/main/resources/web/messages_en.json        | 10 +++-
 .../src/main/resources/web/messages_fr.json        | 10 +++-
 4 files changed, 79 insertions(+), 34 deletions(-)

commit 21c168354ab092f5b7ca4dd84f41745208e0aa54
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 2 16:49:49 2014 +0200

    BACKLOG-5041 Added new date property type and new last visit property

 .../src/main/resources/META-INF/wemi/properties/date.json      |  3 +++
 .../resources/META-INF/wemi/user/behavorial/lastVisit.json     | 10 ++++++++++
 .../resources/META-INF/wemi/user/behavorial/usageRate.json     |  2 +-
 .../services/src/main/resources/web/properties/date.html       |  1 +
 4 files changed, 15 insertions(+), 1 deletion(-)

commit 25c37e39b7e247ec04946e496d7cbaae953afbe4
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Sep 2 16:24:30 2014 +0200

    BACKLOG-5041 Introduce property types & automatically generate template, resourceBundle and pluginId on plugin deployment.

 .../wemi/context/server/api/PluginType.java        |  16 ++++
 .../wemi/context/server/api/PropertyType.java      | 103 +++++++++++++++++++++
 .../context/server/api/TemplateablePluginType.java |  12 +++
 .../wemi/context/server/api/UserProperty.java      |  39 +++++---
 .../wemi/context/server/api/UserPropertyGroup.java |  11 ++-
 .../context/server/api/actions/ActionType.java     |  13 ++-
 .../server/api/conditions/ConditionType.java       |  13 ++-
 .../server/api/services/DefinitionsService.java    |  11 ++-
 .../wemi/conditions/hoverEventCondition.json       |   2 -
 .../resources/META-INF/wemi/user/goals/goal1.json  |   4 +-
 .../wemi/user/goals/goalsPropertyGroup.json        |   3 +-
 .../server/rest/DefinitionsServiceEndPoint.java    |  27 +++++-
 .../impl/services/DefinitionsServiceImpl.java      |  73 +++++++++++++--
 .../context/server/impl/services/ParserHelper.java |  42 +++++++++
 .../server/impl/services/UserServiceImpl.java      |   3 +
 .../actions/allEventToUserPropertiesAction.json    |   2 -
 .../wemi/actions/evaluateUserSegmentsAction.json   |   2 -
 .../wemi/actions/eventToUserPropertyAction.json    |   2 -
 .../wemi/actions/incrementInterestValues.json      |   2 -
 .../META-INF/wemi/actions/setPropertyAction.json   |   2 -
 .../META-INF/wemi/conditions/andCondition.json     |   2 -
 .../META-INF/wemi/conditions/eventCondition.json   |   2 -
 .../wemi/conditions/eventPropertyCondition.json    |   2 -
 .../wemi/conditions/goalMatchCondition.json        |   2 -
 .../wemi/conditions/loginEventCondition.json       |   2 -
 .../wemi/conditions/matchAllCondition.json         |   2 -
 .../META-INF/wemi/conditions/orCondition.json      |   2 -
 .../wemi/conditions/pageViewEventCondition.json    |   2 -
 .../conditions/sessionCreatedEventCondition.json   |   2 -
 .../wemi/conditions/sessionDurationCondition.json  |  26 +++---
 .../wemi/conditions/sessionPropertyCondition.json  |   2 -
 .../wemi/conditions/userEventCondition.json        |   2 -
 .../wemi/conditions/userPropertyCondition.json     |   2 -
 .../wemi/conditions/userSegmentCondition.json      |   2 -
 .../wemi/conditions/userUpdatedEventCondition.json |   2 -
 .../resources/META-INF/wemi/properties/email.json  |   3 +
 .../META-INF/wemi/properties/integer.json          |   3 +
 .../resources/META-INF/wemi/properties/string.json |   3 +
 .../resources/META-INF/wemi/segments/contacts.json |  49 ++++++++++
 .../resources/META-INF/wemi/segments/leads.json    |  21 +++++
 .../wemi/user/basic/basicPropertyGroup.json        |   3 +-
 .../resources/META-INF/wemi/user/basic/email.json  |   4 +-
 .../META-INF/wemi/user/basic/facebookId.json       |  10 ++
 .../META-INF/wemi/user/basic/firstName.json        |   4 +-
 .../META-INF/wemi/user/basic/lastName.json         |   4 +-
 .../META-INF/wemi/user/basic/linkedInId.json       |  10 ++
 .../META-INF/wemi/user/basic/phoneNumber.json      |  10 ++
 .../META-INF/wemi/user/basic/twitterId.json        |  10 ++
 .../user/behavorial/behavioralPropertyGroup.json   |   3 +-
 .../wemi/user/behavorial/brandLoyalty.json         |   4 +-
 .../META-INF/wemi/user/behavorial/usageRate.json   |   4 +-
 .../META-INF/wemi/user/crm/crmPropertyGroup.json   |   4 +
 .../META-INF/wemi/user/crm/leadAssignedTo.json     |  10 ++
 .../META-INF/wemi/user/demographic/age.json        |   4 +-
 .../user/demographic/demographicPropertyGroup.json |   3 +-
 .../META-INF/wemi/user/demographic/gender.json     |   4 +-
 .../META-INF/wemi/user/demographic/income.json     |   4 +-
 .../META-INF/wemi/user/geographic/city.json        |   4 +-
 .../META-INF/wemi/user/geographic/climate.json     |   4 +-
 .../user/geographic/geographicPropertyGroup.json   |   3 +-
 .../wemi/user/psychographic/activities.json        |   4 +-
 .../META-INF/wemi/user/psychographic/hobbies.json  |   4 +-
 .../wemi/user/psychographic/lifestyle.json         |   4 +-
 .../psychographic/psychographicPropertyGroup.json  |   3 +-
 .../META-INF/wemi/user/technical/deviceType.json   |   4 +-
 .../user/technical/technicalPropertyGroup.json     |   3 +-
 .../services/src/main/resources/web/plugin.json    |   8 --
 67 files changed, 499 insertions(+), 152 deletions(-)

commit 813ceeb649d3ee6368739d342e409c37cdbe415e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 29 17:26:56 2014 +0200

    BACKLOG-5050 : Add option in rule to fire only once per user/session.  Added property condition on sessions and events

 .../wemi/context/server/api/rules/Rule.java        | 19 ++++++++++
 .../context/server/api/services/EventService.java  |  4 ++
 .../PageViewEventConditionESQueryBuilder.java      | 17 +++++++--
 ...r.java => PropertyConditionESQueryBuilder.java} |  4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  4 +-
 wemi-context-server/services/pom.xml               |  6 +++
 .../actions/IncrementInterestsValuesAction.java    | 32 ++++++++++++++++
 .../server/impl/services/EventServiceImpl.java     | 43 ++++++++++++++++++++++
 .../server/impl/services/RulesServiceImpl.java     | 26 +++++++++++--
 .../wemi/actions/incrementInterestValues.json      | 10 +++++
 .../wemi/conditions/eventPropertyCondition.json    | 27 ++++++++++++++
 .../wemi/conditions/sessionPropertyCondition.json  | 27 ++++++++++++++
 .../wemi/conditions/userPropertyCondition.json     |  2 +-
 .../META-INF/wemi/rules/incrementInterests.json    | 24 ++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 29 +++++++++------
 .../actions/incrementInterestsValuesAction.html    |  8 ++++
 .../web/conditions/eventPropertyCondition.html     | 18 +++++++++
 .../web/conditions/sessionPropertyCondition.html   | 18 +++++++++
 18 files changed, 293 insertions(+), 25 deletions(-)

commit f866bf505bf0e7cb8f87f62bfc3882858c4f63be
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 29 16:45:19 2014 +0200

    BACKLOG-5041 Javascript changed to array

 wemi-context-server/services/src/main/resources/web/plugin.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 05917bef064f8cf6301a8b1bdce213f6969161df
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 29 16:25:03 2014 +0200

    BACKLOG-5041 Start implementing a plugin descriptor

 wemi-context-server/services/src/main/resources/web/plugin.json | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 249511161c25b002f621766c161967eb9f42d8ff
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 29 14:00:31 2014 +0200

    BACKLOG-5041 Implement all comparison operator and add a new "exists" one.

 .../conditions/UserPropertyConditionESQueryBuilder.java    | 14 ++++++++++++++
 .../ComparisonOperatorChoiceListInitializer.java           |  1 +
 .../resources/web/conditions/userPropertyCondition.html    |  3 ++-
 .../services/src/main/resources/web/messages_en.json       |  1 +
 .../services/src/main/resources/web/messages_fr.json       |  1 +
 5 files changed, 19 insertions(+), 1 deletion(-)

commit 8a05db6b248af9957fca5429ccc77ea038c5d259
Merge: f9cf5942 026876f8
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 29 12:01:14 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit f9cf594227cdeb31529a5daaa5cf780fc50ecec3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 29 12:00:58 2014 +0200

    Fix package generation to remove the hardcoded path to the feature

 wemi-context-server/kar/pom.xml     | 27 ++++++++++++++++++++++++++-
 wemi-context-server/package/pom.xml |  5 +++--
 2 files changed, 29 insertions(+), 3 deletions(-)

commit 026876f867fdc807a66d2127426c38a7cf82227d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 29 11:52:26 2014 +0200

    moved test to datagenerator module

 .../wemi/context/server/itests/BasicTest.java      |  95 ----------
 .../itests/src/test/resources/generateLinkList.sh  |  17 --
 .../itests/src/test/resources/linklist.txt         | 202 ---------------------
 .../itests/src/test/resources/urllist.txt          | 202 ---------------------
 .../itests/src/test/resources/userAgent.txt        |  17 --
 5 files changed, 533 deletions(-)

commit bbc68fdb9d1a578e48a522b912acbbfd3518a11e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 28 17:05:37 2014 +0200

    BACKLOG-5041 Implement property mappings (not working yet)

 .../context/server/api/services/UserService.java   |   2 +
 .../context/server/rest/UserServiceEndPoint.java   |   6 ++
 .../actions/AllEventToUserPropertiesAction.java    |  15 ++-
 .../server/impl/services/UserServiceImpl.java      |  13 +++
 .../wemi/user/behavorial/brandLoyalty.json         |   2 +-
 .../META-INF/wemi/user/behavorial/usageRate.json   |   2 +-
 .../META-INF/wemi/user/geographic/climate.json     |   2 +-
 .../META-INF/wemi/user/psychographic/hobbies.json  |   2 +-
 .../wemi/user/psychographic/lifestyle.json         |   2 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 109 ++++++++++++---------
 10 files changed, 100 insertions(+), 55 deletions(-)

commit f6cba9b1e6fedc69134e66147dd9d07a174ec031
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 28 12:12:44 2014 +0200

    BACKLOG-5041 Add property groups and define some "basic" properties based on marketing field

 .../wemi/context/server/api/UserProperty.java      | 21 ++++++-
 .../wemi/context/server/api/UserPropertyGroup.java | 61 ++++++++++++++++++
 .../context/server/api/services/UserService.java   |  9 ++-
 .../resources/META-INF/wemi/user/goals/goal1.json  | 12 ++++
 .../wemi/user/goals/goalsPropertyGroup.json        |  5 ++
 .../src/main/resources/web/messages_en.json        |  5 +-
 .../src/main/resources/web/messages_fr.json        |  5 +-
 .../context/server/rest/UserServiceEndPoint.java   | 22 ++++++-
 .../UserPropertyChoiceListInitializer.java         | 10 +--
 .../server/impl/services/UserServiceImpl.java      | 72 +++++++++++++++++-----
 .../wemi/user/basic/basicPropertyGroup.json        |  5 ++
 .../resources/META-INF/wemi/user/basic/email.json  | 12 ++++
 .../META-INF/wemi/user/{ => basic}/firstName.json  |  4 +-
 .../META-INF/wemi/user/{ => basic}/lastName.json   |  4 +-
 .../user/behavorial/behavioralPropertyGroup.json   |  5 ++
 .../wemi/user/behavorial/brandLoyalty.json         | 12 ++++
 .../META-INF/wemi/user/behavorial/usageRate.json   | 12 ++++
 .../META-INF/wemi/user/demographic/age.json        | 12 ++++
 .../user/demographic/demographicPropertyGroup.json |  5 ++
 .../META-INF/wemi/user/demographic/gender.json     | 12 ++++
 .../META-INF/wemi/user/demographic/income.json     | 12 ++++
 .../main/resources/META-INF/wemi/user/email.json   | 10 ---
 .../META-INF/wemi/user/geographic/city.json        | 12 ++++
 .../META-INF/wemi/user/geographic/climate.json     | 12 ++++
 .../user/geographic/geographicPropertyGroup.json   |  5 ++
 .../wemi/user/psychographic/activities.json        | 12 ++++
 .../META-INF/wemi/user/psychographic/hobbies.json  | 12 ++++
 .../wemi/user/psychographic/lifestyle.json         | 12 ++++
 .../psychographic/psychographicPropertyGroup.json  |  5 ++
 .../META-INF/wemi/user/technical/deviceType.json   | 12 ++++
 .../user/technical/technicalPropertyGroup.json     |  5 ++
 .../src/main/resources/web/messages_en.json        | 24 +++++++-
 .../src/main/resources/web/messages_fr.json        | 23 ++++++-
 .../src/main/resources/web/properties/email.html   |  1 +
 .../src/main/resources/web/properties/integer.html |  1 +
 .../src/main/resources/web/properties/string.html  |  1 +
 36 files changed, 422 insertions(+), 42 deletions(-)

commit dbf6d4c3a0262ff25ddee77ac44973e3feaebd76
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 21:22:26 2014 +0200

    Fix missing setter for ID field

 .../src/main/java/org/oasis_open/wemi/context/server/api/User.java    | 4 ++++
 1 file changed, 4 insertions(+)

commit bbe0d91055b02d04969a959aa536a099c808eedd
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 20:25:55 2014 +0200

    Add Windows setenv.bat Karaf configuration file

 .../package/src/main/resources/bin/setenv.bat      | 63 ++++++++++++++++++++++
 1 file changed, 63 insertions(+)

commit 5ae592f5b8a74290c8b6a112f2898fd20d7c1f4c
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 17:10:25 2014 +0200

    BACKLOG-5095 Implement ranking in user property groups

 .../oasis_open/wemi/context/server/api/UserProperty.java | 16 +++++++++++++++-
 .../context/server/impl/services/UserServiceImpl.java    | 11 +++++++----
 .../src/main/resources/META-INF/wemi/user/email.json     |  3 ++-
 .../src/main/resources/META-INF/wemi/user/firstName.json |  3 ++-
 .../src/main/resources/META-INF/wemi/user/lastName.json  |  3 ++-
 5 files changed, 28 insertions(+), 8 deletions(-)

commit e4bd4f48807a4f3b428173dfb02b584bc98f8fd1
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 16:58:15 2014 +0200

    BACKLOG-5095 Add loading of user property groups

 .../oasis_open/wemi/context/server/impl/services/UserServiceImpl.java   | 2 ++
 1 file changed, 2 insertions(+)

commit e683d439fe96a0d5fd7c254bf3758608b4ebe8b1
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 16:52:45 2014 +0200

    BACKLOG-5095 Start implementing predefined user properties loading

 .../wemi/context/server/api/UserProperty.java      | 79 ++++++++++++++++++++++
 .../server/impl/services/UserServiceImpl.java      | 72 +++++++++++++++++++-
 .../main/resources/META-INF/wemi/user/email.json   |  9 +++
 .../resources/META-INF/wemi/user/firstName.json    |  9 +++
 .../resources/META-INF/wemi/user/lastName.json     |  9 +++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 +-
 6 files changed, 179 insertions(+), 2 deletions(-)

commit d6745c52a5449c7612ff203a0c243a02e95d128b
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 16:09:06 2014 +0200

    BACKLOG-5095 Set full user instead of metadata for the moment.

 .../oasis_open/wemi/context/server/api/User.java   | 14 +---
 .../context/server/api/services/UserService.java   |  7 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 91 ++++++++++++----------
 .../server/persistence/spi/PersistenceService.java |  2 +
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  5 --
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 +---
 .../context/server/rest/UserServiceEndPoint.java   | 13 +++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 37 ++++-----
 .../server/impl/services/UserServiceImpl.java      | 18 ++---
 .../wemi/context/server/ContextServlet.java        |  5 +-
 10 files changed, 97 insertions(+), 109 deletions(-)

commit 810c4f7f835076c76afeadb870c409597ae68cdf
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 27 11:42:02 2014 +0200

    BACKLOG-5095 Start implementing user service endpoint

 .../oasis_open/wemi/context/server/api/User.java   | 19 +++--
 .../context/server/api/services/UserService.java   |  4 ++
 .../context/server/rest/UserServiceEndPoint.java   | 80 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 34 ++++++---
 .../server/impl/services/UserServiceImpl.java      | 22 ++++--
 .../wemi/context/server/ContextServlet.java        |  7 +-
 6 files changed, 142 insertions(+), 24 deletions(-)

commit 67bf6c653b75dab1685bcce54b8b099d73ca9e4d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 18:46:23 2014 +0200

    cleaned aggregate api

 .../ElasticSearchPersistenceServiceImpl.java       | 58 +++++++++++++---------
 .../context/server/persistence/spi/Aggregate.java  | 23 +++++++++
 .../server/persistence/spi/PersistenceService.java |  3 +-
 .../server/impl/services/EventServiceImpl.java     |  3 +-
 .../server/impl/services/GoalsServiceImpl.java     |  9 ++--
 5 files changed, 66 insertions(+), 30 deletions(-)

commit cfbf4b9a06dcef73b2e53664173dad728d71adb3
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 17:56:34 2014 +0200

    added "missing" bucket in aggregation, fixed user mapping

 .../java/org/oasis_open/wemi/context/server/itests/BasicTest.java  | 2 +-
 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java         | 7 +++++++
 .../services/src/main/resources/META-INF/wemi/mappings/user.json   | 6 +-----
 3 files changed, 9 insertions(+), 6 deletions(-)

commit d41d48fcb087af23788bc13a474440f597e40129
Merge: 874e4a3d a9457483
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 26 17:33:00 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 874e4a3d30a063d667bd5b91bc91d3e0012e18e2
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 26 17:32:52 2014 +0200

    Remove extra line return

 .../mail/src/main/resources/META-INF/wemi/actions/sendMailAction.json   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a9457483d4caea95a60b19e46da6d54913e05820
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 17:13:08 2014 +0200

    BACKLOG-5044 : send whole digitalData object in view

 .../elasticsearch/conditions/PageViewEventConditionESQueryBuilder.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b059cc09e62544c90fde56579d9fcb896fce1cf
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 16:31:40 2014 +0200

    BACKLOG-5044 : updated test with new view event format

 .../oasis_open/wemi/context/server/itests/BasicTest.java | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 0ea91a646c47efd3aef20dab35abe0417eafa1ad
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 16:27:53 2014 +0200

    BACKLOG-5044 : added pageInfo data in view event

 .../PageViewEventConditionESQueryBuilder.java      |  2 +-
 .../server/rest/SegmentServiceEndPoint.java        |  7 +++---
 .../main/resources/META-INF/wemi/goals/goal3.json  |  6 ++---
 wemi-context-server/wab/pom.xml                    |  6 +++++
 .../wemi/context/server/ContextServlet.java        |  2 +-
 .../wemi/context/server/EventCollectorServlet.java | 28 ++++++++++++++++++++--
 .../wemi/context/server/PluginsCorsFilter.java     |  4 ++--
 7 files changed, 43 insertions(+), 12 deletions(-)

commit ca820bc0ed88b83a7e8f59b9b5de0230269bd1ba
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 26 16:00:59 2014 +0200

    - Add default value to parameter
    - Move parameter class out of condition as it is also used by actions

 README.md                                                  |  2 +-
 .../context/server/api/{conditions => }/Parameter.java     | 14 ++++++++++++--
 .../wemi/context/server/api/actions/ActionType.java        |  2 +-
 .../wemi/context/server/api/conditions/ConditionType.java  |  1 +
 .../resources/META-INF/wemi/actions/sendMailAction.json    |  3 ++-
 .../context/server/rest/DefinitionsServiceEndPoint.java    |  2 +-
 6 files changed, 18 insertions(+), 6 deletions(-)

commit 7890ea7498e3d059dc1b9714cdf0e3cc8135ba09
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 26 15:57:01 2014 +0200

    Update documentation to be more specific for Windows users

 README.md | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 547885632d382beaf08b455d8f48acd50820cb85
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 13:31:17 2014 +0200

    fixed links in tests

 .../itests/src/test/resources/urllist.txt          | 202 ++++++++++-----------
 .../main/resources/META-INF/wemi/goals/goal3.json  |   4 +-
 .../resources/META-INF/wemi/segments/french.json   |   2 +-
 3 files changed, 104 insertions(+), 104 deletions(-)

commit 21f77914f80c0ba0b8f754a3322850ebd1ec3590
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 26 12:36:33 2014 +0200

    added test data in unit test

 .../wemi/context/server/itests/BasicTest.java      | 36 +++++++++++++++++++---
 .../itests/src/test/resources/userAgent.txt        | 17 ++++++++++
 .../server/rest/SegmentServiceEndPoint.java        | 10 +++---
 .../server/impl/services/SegmentServiceImpl.java   |  4 +--
 .../main/resources/META-INF/wemi/goals/goal2.json  | 19 ++++++++++++
 .../main/resources/META-INF/wemi/goals/goal3.json  | 19 ++++++++++++
 .../resources/META-INF/wemi/segments/french.json   | 26 ++++++++++++++++
 .../wemi/context/server/EventCollectorServlet.java |  6 +++-
 8 files changed, 125 insertions(+), 12 deletions(-)

commit e29f7da79c39c08d9ee638b7c07d6947beb02c5a
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 26 12:20:22 2014 +0200

    Integrate StringTemplate for mail template

 wemi-context-server/plugins/mail/pom.xml                          | 8 +++++++-
 .../wemi/context/server/plugins/mail/actions/SendMailAction.java  | 6 +++++-
 .../mail/src/main/resources/web/actions/sendMailAction.html       | 6 ++----
 3 files changed, 14 insertions(+), 6 deletions(-)

commit ce2c0f9150844e1759b2a0f663191804090c2d89
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 25 19:19:37 2014 +0200

    Added fields in report for angular display

 .../wemi/context/server/api/goals/GoalReport.java       | 17 +++++++++++++++++
 .../context/server/impl/services/GoalsServiceImpl.java  |  2 ++
 2 files changed, 19 insertions(+)

commit 4118c6959e240dfadd39ddd06a332b8554a65bd2
Merge: ea6a2fa6 7676d8d1
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 25 16:46:26 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit ea6a2fa6b345de30befe5b5ebe5a0b1c517fa57f
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 25 16:45:59 2014 +0200

    Make send mail action work, and add OSGi configuration admin and metatype support so that it's easy to configure the mail server settings through the Felix Web Console

 .../plugins/mail/actions/SendMailAction.java       | 24 ++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 38 ++++++++++++++--------
 .../OSGI-INF/metatype/metatype.properties          | 14 ++++++++
 .../main/resources/OSGI-INF/metatype/metatype.xml  | 18 ++++++++++
 .../main/resources/web/actions/sendMailAction.html |  7 +++-
 5 files changed, 87 insertions(+), 14 deletions(-)

commit 7676d8d159f8a84a2b87ffa7eb53c8149d504979
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 25 16:14:53 2014 +0200

    BACKLOG-5102 : added test unit to fill database

 .../oasis_open/wemi/context/server/api/Event.java  |   5 +-
 .../wemi/context/server/api/Session.java           |   4 +-
 .../wemi/context/server/itests/BasicTest.java      |  74 +++++++-
 .../itests/src/test/resources/generateLinkList.sh  |  17 ++
 .../itests/src/test/resources/linklist.txt         | 202 +++++++++++++++++++++
 .../itests/src/test/resources/urllist.txt          | 202 +++++++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       |   2 +-
 .../request/actions/SetRemoteHostInfoAction.java   |  20 +-
 .../server/impl/actions/SetPropertyAction.java     |   2 +-
 .../server/impl/services/EventServiceImpl.java     |   2 +-
 .../wemi/context/server/ContextServlet.java        |  15 +-
 .../wemi/context/server/EventCollectorServlet.java |  36 ++--
 12 files changed, 543 insertions(+), 38 deletions(-)

commit f1ed87845af02970db66eda1a5126ff847daf518
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 25 12:19:35 2014 +0200

    - Fix goal on hover parameter names
    - Fix JSON format

 .../src/main/resources/META-INF/wemi/rules/goal1onHover.json       | 4 ++--
 .../main/java/org/oasis_open/wemi/context/server/HttpUtils.java    | 7 ++++++-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 464493b99007a2b83ebf4fb311b828162d20ca93
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 25 10:55:57 2014 +0200

    Create predefined login & Facebook login rules

 .../META-INF/wemi/rules/facebookLogin.json         | 28 +++++++++++++++++++++
 .../main/resources/META-INF/wemi/rules/login.json  | 29 ++++++++++++++++++++++
 2 files changed, 57 insertions(+)

commit 4f12eadb6a2eeec67d73cb5549c26dbf4aa59a18
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 25 10:40:45 2014 +0200

    Fix small typo in event condition query builder

 .../elasticsearch/conditions/EventConditionESQueryBuilder.java        | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4cf3448079074e648cd2d6c3712b2671c88b9c9e
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 22 16:07:18 2014 +0200

    Implement real dynamic event type retrieval.

 .../wemi/context/server/api/services/EventService.java |  3 ++-
 .../initializers/EventTypeIdChoiceListInitializer.java |  9 ++-------
 .../context/server/impl/services/EventServiceImpl.java | 18 ++++++++++++------
 .../main/resources/OSGI-INF/blueprint/blueprint.xml    |  9 +++++++++
 .../services/src/main/resources/web/messages_en.json   |  1 +
 .../services/src/main/resources/web/messages_fr.json   |  1 +
 6 files changed, 27 insertions(+), 14 deletions(-)

commit a016d29779308b54290282f27129ccfa902b1e87
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 22 12:22:09 2014 +0200

    BACKLOG-5082 , BACKLOG-5091 : generate rules for goals. extends persistence aggregation method to be able to generate goals reports . copy user into session for easier statistics generation

 .../wemi/context/server/api/Session.java           |  13 ++-
 .../context/server/api/conditions/Condition.java   |   4 +
 .../wemi/context/server/api/goals/GoalReport.java  |  66 ++++++++++++++
 .../context/server/api/services/GoalsService.java  |  14 ++-
 .../ElasticSearchPersistenceServiceImpl.java       | 101 +++++++++++++++++----
 .../GoalMatchConditionESQueryBuilder.java          |  25 +++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   7 ++
 .../server/persistence/spi/PersistenceService.java |   4 +-
 .../context/server/rest/GoalsServiceEndPoint.java  |  26 ++++--
 .../server/impl/actions/SetPropertyAction.java     |  12 ++-
 .../server/impl/services/GoalsServiceImpl.java     |  89 ++++++++++++++++--
 .../server/impl/services/UserServiceImpl.java      |   4 +-
 .../META-INF/wemi/actions/setPropertyAction.json   |   6 ++
 .../wemi/conditions/goalMatchCondition.json        |  15 +++
 .../resources/META-INF/wemi/mappings/event.json    |   5 +-
 .../resources/META-INF/wemi/mappings/session.json  |   6 +-
 .../wemi/context/server/ContextServlet.java        |   2 +-
 17 files changed, 349 insertions(+), 50 deletions(-)

commit 21875ad4ba6ad9f0518e5a5309d0a8deba784223
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 22 10:53:38 2014 +0200

    Look and feel and translation cleanup

 .../src/main/resources/web/messages_fr.json        |  6 ++++
 .../mail/src/main/resources/web/messages_fr.json   | 12 ++++++++
 .../actions/requestHeaderToUserPropertyAction.html |  5 ++--
 .../requestParameterToUserPropertyAction.html      |  9 +++---
 .../src/main/resources/web/messages_fr.json        | 15 ++++++++++
 .../web/actions/eventToUserPropertyAction.html     | 18 ++++++------
 .../resources/web/actions/setPropertyAction.html   |  5 ++--
 .../resources/web/conditions/eventCondition.html   |  2 +-
 .../web/conditions/userPropertyCondition.html      |  6 ++--
 .../web/conditions/userSegmentCondition.html       |  2 +-
 .../src/main/resources/web/messages_en.json        | 33 ++++++++--------------
 .../src/main/resources/web/messages_fr.json        | 33 ++++++++--------------
 12 files changed, 82 insertions(+), 64 deletions(-)

commit 62ffafbddd97687f1a528811a36ed7c35b83d54b
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 17:50:08 2014 +0200

    - Add a login event condition
    - Add a generic event condition with a choice list initializer (hardcoded for the moment)

 .../context/server/api/services/EventService.java  |  2 +
 .../conditions/EventConditionESQueryBuilder.java   | 16 ++++
 .../LoginEventConditionESQueryBuilder.java         | 15 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 97 +++++++++++++---------
 .../EventTypeIdChoiceListInitializer.java          | 36 ++++++++
 .../server/impl/services/EventServiceImpl.java     |  7 +-
 .../META-INF/wemi/conditions/eventCondition.json   | 15 ++++
 .../wemi/conditions/loginEventCondition.json       |  9 ++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  9 ++
 .../resources/web/conditions/eventCondition.html   | 15 ++++
 .../web/conditions/loginEventCondition.html        |  8 ++
 .../src/main/resources/web/messages_en.json        | 12 +++
 .../src/main/resources/web/messages_fr.json        | 10 +++
 13 files changed, 209 insertions(+), 42 deletions(-)

commit 087747ef554ed9f7491d724e024897b7eacaa646
Merge: efe615d1 e11752dc
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 16:10:18 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit efe615d169769a71c0c5be075b6a4f8b4dc045b9
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 16:10:04 2014 +0200

    - Move tag out of condition package
    - Add resource bundles on tags

 .../context/server/api/{conditions => }/Tag.java   | 29 +++++++++++++---------
 .../context/server/api/actions/ActionType.java     |  2 +-
 .../server/api/conditions/ConditionType.java       |  1 +
 .../server/api/services/DefinitionsService.java    | 10 ++++++--
 .../server/rest/DefinitionsServiceEndPoint.java    |  8 +++---
 .../impl/services/DefinitionsServiceImpl.java      |  2 +-
 .../resources/META-INF/wemi/tags/condition.json    |  6 ++---
 .../resources/META-INF/wemi/tags/demographic.json  |  6 ++---
 .../main/resources/META-INF/wemi/tags/event.json   |  6 ++---
 .../META-INF/wemi/tags/eventCondition.json         |  6 ++---
 .../resources/META-INF/wemi/tags/geographic.json   |  6 ++---
 .../main/resources/META-INF/wemi/tags/logical.json |  6 ++---
 .../main/resources/META-INF/wemi/tags/root.json    |  6 ++---
 .../META-INF/wemi/tags/sessionCondition.json       |  6 ++---
 .../META-INF/wemi/tags/userCondition.json          |  6 ++---
 .../META-INF/wemi/tags/userEventCondition.json     |  6 ++---
 .../src/main/resources/web/messages_en.json        | 21 ++++++++++++++++
 .../src/main/resources/web/messages_fr.json        | 21 ++++++++++++++++
 18 files changed, 94 insertions(+), 60 deletions(-)

commit e11752dc1add37b5de80521b598f82cce26a4e4d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 21 14:19:28 2014 +0200

    BACKLOG-5081 : added goals admin panel, rationalize api

 .../wemi/context/server/api/goals/Goal.java        |  9 +++++
 .../context/server/api/services/GoalsService.java  | 11 ++++++-
 .../context/server/rest/GoalsServiceEndPoint.java  | 38 ++++++++++++++++++----
 .../server/rest/SegmentServiceEndPoint.java        | 23 ++++++-------
 .../server/impl/services/GoalsServiceImpl.java     | 34 +++++++++++++++----
 5 files changed, 89 insertions(+), 26 deletions(-)

commit 0bf8d1605f51774dce701b6b55097ae3598c2faa
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 12:00:21 2014 +0200

    Fix some layout issues

 .../services/src/main/resources/web/actions/setPropertyAction.html    | 4 ++--
 wemi-context-server/services/src/main/resources/web/messages_fr.json  | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 91c77fd1b58f6c24d36baf46dfe76999d584a799
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 11:55:33 2014 +0200

    Remove nameKey and descriptionKey from Parameter as we don't need them (we have HTML templates that describe them)

 .../context/server/api/conditions/Parameter.java   | 18 -----------------
 .../src/main/resources/web/messages_en.json        |  3 ---
 .../mail/src/main/resources/web/messages_en.json   | 13 ------------
 .../src/main/resources/web/messages_en.json        | 15 --------------
 .../src/main/resources/web/messages_en.json        | 23 ----------------------
 .../src/main/resources/web/messages_fr.json        | 23 ----------------------
 6 files changed, 95 deletions(-)

commit f26f075bb88d8f2be94a539a7c014af87def5387
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 09:51:43 2014 +0200

    Add french resource bundle

 .../src/main/resources/web/messages_fr.json        | 102 +++++++++++++++++++++
 1 file changed, 102 insertions(+)

commit a2141198c39c201542da1c7f8054288a6df2c910
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 21 09:28:09 2014 +0200

    Add ressource keys everywhere they were missing

 .../main/resources/web/actions/sendMailAction.html | 16 +++++------
 .../mail/src/main/resources/web/messages_en.json   |  2 ++
 .../actions/requestHeaderToUserPropertyAction.html |  8 +++---
 .../requestParameterToUserPropertyAction.html      |  8 +++---
 .../web/actions/setRemoteHostInfoAction.html       |  2 +-
 .../src/main/resources/web/messages_en.json        | 10 ++++---
 .../actions/allEventToUserPropertiesAction.html    |  2 +-
 .../web/actions/eventToUserPropertyAction.html     |  8 +++---
 .../main/resources/web/conditions/matchAll.html    |  2 +-
 .../main/resources/web/conditions/orCondition.html |  5 ++--
 .../web/conditions/sessionDurationCondition.html   |  2 +-
 .../web/conditions/userEventCondition.html         |  2 +-
 .../web/conditions/userPropertyCondition.html      |  6 ++--
 .../web/conditions/userSegmentCondition.html       |  8 +++---
 .../src/main/resources/web/messages_en.json        | 33 ++++++++++++++++------
 15 files changed, 66 insertions(+), 48 deletions(-)

commit f5d4113800e1c0e4d17c541976a9a95094d3d512
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 20 19:26:44 2014 +0200

    added missing templates . add user / session conditions in rules ( BACKLOG-5051 )

 .../actions/requestHeaderToUserPropertyAction.html | 14 ++++
 .../web/actions/setRemoteHostInfoAction.html       |  8 +++
 .../SegmentsChoiceListInitializer.java             | 32 +++++++++
 .../server/impl/services/RulesServiceImpl.java     | 81 ++++++++++++++++++++--
 .../{matchAll.json => matchAllCondition.json}      |  0
 .../wemi/conditions/userSegmentCondition.json      |  4 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 31 ++++++---
 .../web/actions/evaluateUserSegmentsAction.html    |  8 +++
 .../conditions/sessionCreatedEventCondition.html   |  8 +++
 .../web/conditions/sessionDurationCondition.html   | 15 ++++
 .../web/conditions/userSegmentCondition.html       | 19 +++++
 .../web/conditions/userUpdatedEventCondition.html  |  8 +++
 12 files changed, 208 insertions(+), 20 deletions(-)

commit 8796b2c621f382093be2dce06b77690496ef1744
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 20 17:10:04 2014 +0200

    Fix property names

 .../services/src/main/resources/web/actions/setPropertyAction.html  | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8ea1e7c22b64233e82403980205c4e8c138f6cbb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 20 16:37:57 2014 +0200

    use single subcondition for userEventCondition

 .../UserEventConditionESQueryBuilder.java          | 22 ++++++++--------------
 .../server/impl/services/RulesServiceImpl.java     |  2 +-
 .../wemi/conditions/userEventCondition.json        |  4 ++--
 .../resources/web/conditions/andCondition.html     |  2 +-
 .../main/resources/web/conditions/orCondition.html |  2 +-
 .../web/conditions/userEventCondition.html         |  9 +--------
 6 files changed, 14 insertions(+), 27 deletions(-)

commit d5c0bf624b8d40fc4d0997635221a747e08ba1a6
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 20 16:31:05 2014 +0200

    I18N support for condition types and action types

 .../context/server/api/actions/ActionType.java     | 30 ++++++----
 .../server/api/conditions/ConditionType.java       | 30 ++++++----
 .../context/server/api/conditions/Parameter.java   | 24 +++++---
 .../UserEventConditionESQueryBuilder.java          |  3 +-
 .../wemi/conditions/hoverEventCondition.json       | 20 +++----
 .../web/conditions/hoverEventCondition.html        |  6 +-
 .../src/main/resources/web/messages_en.json        |  9 +++
 .../META-INF/wemi/actions/sendMailAction.json      | 70 +++++++++-------------
 .../mail/src/main/resources/web/message_en.json    |  2 -
 .../mail/src/main/resources/web/messages_en.json   | 23 +++++++
 .../actions/requestHeaderToUserPropertyAction.json | 51 +++++++---------
 .../requestParameterToUserPropertyAction.json      | 51 +++++++---------
 .../wemi/actions/setRemoteHostInfoAction.json      | 11 ++--
 .../src/main/resources/web/messages_en.json        | 28 +++++++++
 .../server/impl/actions/SetPropertyAction.java     |  4 +-
 .../server/impl/services/RulesServiceImpl.java     | 13 ++--
 .../actions/allEventToUserPropertiesAction.json    |  2 -
 .../wemi/actions/evaluateUserSegmentsAction.json   |  2 -
 .../wemi/actions/eventToUserPropertyAction.json    |  6 --
 .../META-INF/wemi/actions/setPropertyAction.json   | 10 +---
 .../META-INF/wemi/conditions/andCondition.json     |  4 --
 .../META-INF/wemi/conditions/matchAll.json         |  4 +-
 .../META-INF/wemi/conditions/orCondition.json      |  4 --
 .../wemi/conditions/pageViewEventCondition.json    |  4 --
 .../conditions/sessionCreatedEventCondition.json   |  2 -
 .../wemi/conditions/sessionDurationCondition.json  |  7 +--
 .../wemi/conditions/userEventCondition.json        |  8 +--
 .../wemi/conditions/userPropertyCondition.json     |  8 ---
 .../wemi/conditions/userSegmentCondition.json      |  6 --
 .../wemi/conditions/userUpdatedEventCondition.json |  2 -
 .../META-INF/wemi/segments/alwaysTrue.json         |  2 +-
 .../resources/web/conditions/andCondition.html     |  2 +-
 .../src/main/resources/web/messages_en.json        | 67 ++++++++++++++++++++-
 33 files changed, 279 insertions(+), 236 deletions(-)

commit a9aaf108df7cfce1caf39c0e3d3ecff500aa51df
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 20 14:14:48 2014 +0200

    BACKLOG-5118 : session duration filter

 .../wemi/context/server/api/Session.java           | 24 ++++++++++++++++++++
 .../SessionDurationConditionESQueryBuilder.java    | 25 +++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++++
 .../server/impl/services/EventServiceImpl.java     | 20 ++++++++++++-----
 .../wemi/conditions/sessionDurationCondition.json  | 26 ++++++++++++++++++++++
 5 files changed, 96 insertions(+), 6 deletions(-)

commit 83c6b3e5e2436976ab8a11b197703cb2d2df4737
Merge: ac13644c 4c76ceff
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 20 11:08:58 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit ac13644c33c60ec691dd45c2ae0d246d2ce9f9cb
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 20 11:08:50 2014 +0200

    Start integrating resource bundle system, not yet completely translated though

 .../context/server/api/actions/ActionType.java     | 11 ++++-
 .../server/api/conditions/ConditionType.java       | 13 +++++-
 .../wemi/conditions/hoverEventCondition.json       |  1 +
 .../META-INF/wemi/actions/sendMailAction.json      |  1 +
 .../mail/src/main/resources/web/message_en.json    |  2 +
 .../ComparisonOperatorChoiceListInitializer.java   | 20 ++++-----
 .../EventPropertyChoiceListInitializer.java        |  9 ++--
 .../UserPropertyChoiceListInitializer.java         |  6 ++-
 .../actions/allEventToUserPropertiesAction.json    | 13 +++---
 .../wemi/actions/evaluateUserSegmentsAction.json   | 13 +++---
 .../wemi/actions/eventToUserPropertyAction.json    | 37 ++++++++--------
 .../META-INF/wemi/actions/setPropertyAction.json   | 37 ++++++++--------
 .../META-INF/wemi/conditions/andCondition.json     | 25 +++++------
 .../META-INF/wemi/conditions/matchAll.json         | 13 +++---
 .../META-INF/wemi/conditions/orCondition.json      | 25 +++++------
 .../wemi/conditions/pageViewEventCondition.json    | 23 +++++-----
 .../conditions/sessionCreatedEventCondition.json   | 13 +++---
 .../wemi/conditions/userEventCondition.json        | 37 ++++++++--------
 .../wemi/conditions/userPropertyCondition.json     | 49 +++++++++++-----------
 .../wemi/conditions/userSegmentCondition.json      | 37 ++++++++--------
 .../wemi/conditions/userUpdatedEventCondition.json | 13 +++---
 .../resources/web/actions/setPropertyAction.html   | 14 ++++---
 .../resources/web/conditions/andCondition.html     | 11 ++---
 .../web/conditions/pageViewEventCondition.html     |  4 +-
 .../web/conditions/userPropertyCondition.html      | 18 ++++----
 .../src/main/resources/web/messages_en.json        | 22 ++++++++++
 26 files changed, 267 insertions(+), 200 deletions(-)

commit 4c76ceff85cb58291b97d733eb26911cb5e38eea
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 20 10:28:27 2014 +0200

    BACKLOG-5067 : basic implementation for last event match

 .../conditions/UserEventConditionESQueryBuilder.java     |  2 +-
 .../context/server/impl/services/UserServiceImpl.java    | 16 +++++++++++++++-
 .../oasis_open/wemi/context/server/ContextServlet.java   | 15 ---------------
 3 files changed, 16 insertions(+), 17 deletions(-)

commit 9cc3fc4797efbd7269abf01b62893398825175bd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 19 18:23:08 2014 +0200

    BACKLOG-5067 : filter by past events

 .../wemi/context/server/persistence/spi/PersistenceService.java       | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bf20916e42bbbde953fce0606a346e82af17196e
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 19 18:18:17 2014 +0200

    BACKLOG-5067 : filter by past events

 .../ElasticSearchPersistenceServiceImpl.java       | 27 +++++++++-------
 .../UserEventConditionESQueryBuilder.java          | 36 +++++++++++++++++-----
 .../wemi/conditions/hoverEventCondition.json       |  2 +-
 .../server/impl/services/UserServiceImpl.java      | 18 +++++++++--
 .../wemi/conditions/pageViewEventCondition.json    |  2 +-
 .../META-INF/wemi/tags/userEventCondition.json     |  6 ++++
 6 files changed, 68 insertions(+), 23 deletions(-)

commit f3af46225ee02d24621acf996ffbf44c1a36e4e8
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 19 10:44:06 2014 +0200

    Major refactoring - rename consequences to actions

 .../Consequence.java => actions/Action.java}       | 26 +++++------
 .../context/server/api/actions/ActionExecutor.java | 12 +++++
 .../ActionType.java}                               |  8 ++--
 .../api/consequences/ConsequenceExecutor.java      | 14 ------
 .../wemi/context/server/api/rules/Rule.java        | 13 +++---
 .../server/api/services/DefinitionsService.java    |  8 ++--
 .../wemi/context/server/itests/BasicTest.java      |  8 ++--
 .../META-INF/wemi/rules/goal1onHover.json          |  4 +-
 wemi-context-server/plugins/mail/pom.xml           |  2 +-
 .../SendMailAction.java}                           | 23 +++++-----
 .../sendMailAction.json}                           |  6 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 ++--
 .../sendMailAction.html}                           |  0
 wemi-context-server/plugins/request/pom.xml        |  2 +-
 .../RequestHeaderToUserPropertyAction.java}        | 16 +++----
 .../RequestParameterToUserPropertyAction.java}     | 16 +++----
 .../SetRemoteHostInfoAction.java}                  | 10 ++---
 .../requestHeaderToUserPropertyAction.json}        |  6 +--
 .../requestParameterToUserPropertyAction.json}     |  6 +--
 .../setRemoteHostInfoAction.json}                  |  6 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 18 ++++----
 .../requestParameterToUserPropertyAction.html}     |  2 +-
 .../server/rest/DefinitionsServiceEndPoint.java    | 42 ++++++++---------
 .../impl/actions/ActionExecutorDispatcher.java     | 43 ++++++++++++++++++
 .../AllEventToUserPropertiesAction.java}           | 10 ++---
 .../EvaluateUserSegmentsAction.java}               | 10 ++---
 .../impl/actions/EventToUserPropertyAction.java    | 22 +++++++++
 .../server/impl/actions/SetPropertyAction.java     | 35 +++++++++++++++
 .../ConsequenceExecutorDispatcher.java             | 44 ------------------
 .../EventToUserPropertyConsequence.java            | 22 ---------
 .../impl/consequences/SetPropertyConsequence.java  | 35 ---------------
 .../impl/services/DefinitionsServiceImpl.java      | 52 +++++++++++-----------
 .../context/server/impl/services/ParserHelper.java | 14 +++---
 .../server/impl/services/RulesServiceImpl.java     | 42 ++++++++---------
 .../allEventToUserPropertiesAction.json}           |  6 +--
 .../evaluateUserSegmentsAction.json}               |  6 +--
 .../eventToUserPropertyAction.json}                |  6 +--
 .../setPropertyAction.json}                        |  6 +--
 .../META-INF/wemi/rules/evaluateUserSegments.json  |  4 +-
 .../resources/META-INF/wemi/rules/newSession.json  |  6 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 28 ++++++------
 .../allEventToUserPropertiesAction.html}           |  0
 .../eventToUserPropertyAction.html}                |  4 +-
 .../setPropertyAction.html}                        |  2 +-
 44 files changed, 324 insertions(+), 329 deletions(-)

commit 69a6430fb084175ca5569f40ebb7857bf625177d
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 18 18:12:21 2014 +0200

    BACKLOG-5062 , BACKLOG-5063 : use condition for filtering

 .../context/server/api/services/UserService.java   |  1 +
 .../ElasticSearchPersistenceServiceImpl.java       | 22 ++++++++++++++--
 .../UserSegmentConditionESQueryBuilder.java        | 18 ++++++++++++-
 .../server/persistence/spi/PersistenceService.java |  2 ++
 .../context/server/impl/services/ParserHelper.java |  9 +++----
 .../server/impl/services/UserServiceImpl.java      | 24 +++++++++++++++++
 .../wemi/conditions/pageViewEventCondition.json    |  2 +-
 .../conditions/sessionCreatedEventCondition.json   |  2 +-
 .../wemi/conditions/userEventCondition.json        |  2 +-
 .../wemi/conditions/userPropertyCondition.json     |  2 +-
 ...entCondition.json => userSegmentCondition.json} | 16 +++++++++---
 .../wemi/conditions/userUpdatedEventCondition.json |  2 +-
 .../resources/META-INF/wemi/tags/condition.json    |  6 +++++
 .../META-INF/wemi/tags/eventCondition.json         |  6 +++++
 .../META-INF/wemi/tags/sessionCondition.json       |  6 +++++
 .../META-INF/wemi/tags/userCondition.json          |  6 +++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../wemi/context/server/ContextServlet.java        | 30 +++++++++++-----------
 18 files changed, 124 insertions(+), 33 deletions(-)

commit dce7b8aa51e509331c859c93e9eb5028af7cc6cd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 18 16:45:44 2014 +0200

    BACKLOG-5072 : store additional user agent info

 wemi-context-server/plugins/request/pom.xml             | 17 +++++++++++++++++
 .../consequences/SetRemoteHostInfoConsequence.java      | 15 +++++++++++++--
 2 files changed, 30 insertions(+), 2 deletions(-)

commit 3be490c31fdd4460e7beceee74b972e9bcef67df
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 18 16:22:49 2014 +0200

    BACKLOG-5072 : added geolocation info

 wemi-context-server/plugins/request/pom.xml        |  8 +++++++
 .../consequences/SetRemoteHostInfoConsequence.java | 27 ++++++++++++++++++++++
 2 files changed, 35 insertions(+)

commit 5b026733d44bccc7df6eead28240652ae44101db
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 18 15:47:52 2014 +0200

    Add an HTML template for the mail sending consequence

 .../wemi/consequences/sendMailConsequence.json     |  1 +
 .../web/consequences/sendMailConsequence.html      | 36 ++++++++++++++++++++++
 2 files changed, 37 insertions(+)

commit fb2891fd2628737998249c39931a47e62a601a85
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 18 15:03:22 2014 +0200

    Refactor plugin extender to be part of WAB project and to register a filter to configure CORS in front of all web resources

 .../impl/services/DefinitionsServiceImpl.java      | 120 +--------------------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  19 +---
 .../{PluginsFilter.java => PluginsCorsFilter.java} |   4 +-
 .../wemi/context/server/PluginsExtender.java       |  70 ++++++------
 4 files changed, 44 insertions(+), 169 deletions(-)

commit ee58465a6f5ccfa2d701e3fa01b77695423c5ab2
Merge: e8f6f62d 1626a310
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 18 14:49:06 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit e8f6f62d296a47537c16a2af4f5e5003db455c1c
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 18 14:48:57 2014 +0200

    Refactor plugin extender to be part of WAB project and to register a filter to configure CORS in front of all web resources

 .../wemi/conditions/hoverEventCondition.json       |   2 +-
 .../impl/services/DefinitionsServiceImpl.java      |   2 +-
 .../resources/web/conditions/andCondition.html     |   2 +-
 .../main/resources/web/conditions/orCondition.html |   2 +-
 .../web/conditions/userEventCondition.html         |   2 +-
 wemi-context-server/wab/pom.xml                    |   6 +
 .../wemi/context/server/PluginsExtender.java       | 201 +++++++++++++++++++++
 .../wemi/context/server/PluginsFilter.java         |  41 +++++
 8 files changed, 253 insertions(+), 5 deletions(-)

commit 1626a310937639115b92525b46c823abc046081a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 18 13:57:44 2014 +0200

    BACKLOG-5072 : store session information

 .../wemi/context/server/api/Session.java           | 16 +++++++++
 ...SessionCreatedEventConditionESQueryBuilder.java | 15 ++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 ++++++++
 .../RequestHeaderToUserPropertyConsequence.java    | 14 ++++++--
 .../RequestParameterToUserPropertyConsequence.java | 14 ++++++--
 .../consequences/SetRemoteHostInfoConsequence.java | 30 ++++++++++++++++
 .../requestHeaderToUserPropertyConsequence.json    | 42 ++++++++++++++++++++++
 .../requestParameterToUserPropertyConsequence.json |  8 +++++
 .../consequences/setRemoteHostInfoConsequence.json | 10 ++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 ++++
 .../conditions/sessionCreatedEventCondition.json   | 10 ++++++
 .../resources/META-INF/wemi/mappings/session.json  | 13 +++++--
 .../resources/META-INF/wemi/mappings/user.json     | 10 ++++++
 .../resources/META-INF/wemi/rules/newSession.json  | 29 +++++++++++++++
 14 files changed, 223 insertions(+), 9 deletions(-)

commit 46822d68a9a511e6f88466d1a5f76e90d28a6cd9
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 18 11:12:45 2014 +0200

    BACKLOG-5055 , BACKLOG-5085 : restored test segment

 .../resources/META-INF/wemi/segments/goal1Reached.json   | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit e52c569aca0eb38313f6df842b536a916111eebf
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 18 10:53:48 2014 +0200

    Minor refactoring

 .../wemi/context/server/impl/services/DefinitionsServiceImpl.java     | 4 ++++
 1 file changed, 4 insertions(+)

commit b17c1f9958d392714261f7ebbc2fc83b2580dec6
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 15 16:25:10 2014 +0200

    - Make it possible for plugins to expose web resources
    - Move all condition and consequence renderings to WEMI context server plugins

 .../context/server/api/conditions/Condition.java   |  1 -
 .../server/api/conditions/ConditionType.java       |  9 +++
 .../server/api/consequences/ConsequenceType.java   |  9 +++
 .../wemi/conditions/hoverEventCondition.json       |  1 +
 .../web/conditions/hoverEventCondition.html        | 10 +++
 wemi-context-server/plugins/pom.xml                |  1 +
 .../requestParameterToUserPropertyConsequence.json |  1 +
 .../requestParameterToUserPropertyConsequence.html | 14 ++++
 wemi-context-server/services/pom.xml               |  1 +
 .../impl/services/DefinitionsServiceImpl.java      | 90 +++++++++++++++++++---
 .../META-INF/wemi/conditions/andCondition.json     |  1 +
 .../META-INF/wemi/conditions/matchAll.json         |  1 +
 .../META-INF/wemi/conditions/orCondition.json      |  1 +
 .../wemi/conditions/pageViewEventCondition.json    |  1 +
 .../META-INF/wemi/conditions/segmentCondition.json |  1 +
 .../{userEvent.json => userEventCondition.json}    |  1 +
 .../wemi/conditions/userPropertyCondition.json     |  1 +
 .../wemi/conditions/userUpdatedEventCondition.json |  1 +
 .../allEventToUserPropertiesConsequence.json       |  1 +
 .../evaluateUserSegmentsConsequence.json           |  1 +
 .../eventToUserPropertyConsequence.json            |  1 +
 .../wemi/consequences/setPropertyConsequence.json  |  1 +
 .../resources/web/conditions/andCondition.html     | 13 ++++
 .../main/resources/web/conditions/matchAll.html    |  8 ++
 .../main/resources/web/conditions/orCondition.html | 13 ++++
 .../web/conditions/pageViewEventCondition.html     | 12 +++
 .../web/conditions/userEventCondition.html         | 16 ++++
 .../web/conditions/userPropertyCondition.html      | 16 ++++
 .../allEventToUserPropertiesConsequence.html       |  8 ++
 .../eventToUserPropertyConsequence.html            | 15 ++++
 .../web/consequences/setPropertyConsequence.html   | 14 ++++
 31 files changed, 254 insertions(+), 10 deletions(-)

commit 9d632490f44a3afac129507e845cd7de6032a236
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 15 11:27:33 2014 +0200

    - Fix send mail consequence compilation
    - Implement processing of already deployed bundles
    - Start implementing resource registration of plugins

 .../mail/consequences/SendMailConsequence.java     |  3 +-
 wemi-context-server/services/pom.xml               |  7 +++
 .../impl/services/DefinitionsServiceImpl.java      | 53 ++++++++++++++++++++--
 .../server/impl/services/GoalsServiceImpl.java     | 13 +++++-
 .../server/impl/services/RulesServiceImpl.java     | 13 +++++-
 .../server/impl/services/SegmentServiceImpl.java   |  9 ++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  2 +
 7 files changed, 92 insertions(+), 8 deletions(-)

commit abdc079b33c4f9c76d115f6318c3dd03912b3428
Merge: 598014cf da2f406c
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 15 08:30:16 2014 +0200

    Merge remote-tracking branch 'origin/master'
    
    Conflicts:
            wemi-context-server/services/src/main/java/org/oasis_open/wemi/context/server/impl/services/DefinitionsServiceImpl.java
            wemi-context-server/services/src/main/java/org/oasis_open/wemi/context/server/impl/services/GoalsServiceImpl.java
            wemi-context-server/services/src/main/java/org/oasis_open/wemi/context/server/impl/services/RulesServiceImpl.java
            wemi-context-server/services/src/main/java/org/oasis_open/wemi/context/server/impl/services/SegmentServiceImpl.java

commit da2f406c5104fb7c9f8fc7ed899c934c6a88cf19
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 14 19:04:06 2014 +0200

    BACKLOG-5055 , BACKLOG-5085 : Store segments . added rules and event when profile is updated, recalculate segments. moved segments to segment proprties of user in digitalData

 .../oasis_open/wemi/context/server/api/Event.java  |  4 ++-
 .../oasis_open/wemi/context/server/api/User.java   | 11 +++++++
 .../context/server/api/conditions/Condition.java   |  1 +
 .../api/consequences/ConsequenceExecutor.java      |  3 +-
 .../UserEventConditionESQueryBuilder.java          | 20 ++++++++++---
 .../UserSegmentConditionESQueryBuilder.java        | 19 ++++++++++++
 .../UserUpdatedEventConditionESQueryBuilder.java   | 15 ++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 +++++
 .../HoverEventConditionESQueryBuilder.java         |  2 +-
 .../RequestHeaderToUserPropertyConsequence.java    |  8 ++---
 .../RequestParameterToUserPropertyConsequence.java |  8 ++---
 .../AllEventToUserPropertiesConsequence.java       |  8 ++---
 .../ConsequenceExecutorDispatcher.java             |  8 +++--
 .../EvaluateUserSegmentsConsequence.java           | 34 ++++++++++++++++++++++
 .../EventToUserPropertyConsequence.java            |  8 ++---
 .../impl/consequences/SetPropertyConsequence.java  |  6 ++--
 .../server/impl/services/EventServiceImpl.java     |  8 ++++-
 .../server/impl/services/GoalsServiceImpl.java     |  2 +-
 .../server/impl/services/RulesServiceImpl.java     | 32 ++++++++++++++++----
 .../META-INF/wemi/conditions/segmentCondition.json | 17 +++++++++++
 .../META-INF/wemi/conditions/userEvent.json        |  2 +-
 .../wemi/conditions/userUpdatedEventCondition.json |  9 ++++++
 ...on => allEventToUserPropertiesConsequence.json} |  0
 .../evaluateUserSegmentsConsequence.json           |  9 ++++++
 .../resources/META-INF/wemi/mappings/event.json    | 17 ++++++-----
 .../META-INF/wemi/rules/evaluateUserSegments.json  | 22 ++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 +++++++
 .../wemi/context/server/ContextServlet.java        | 14 +++++++--
 .../oasis_open/wemi/context/server/HttpUtils.java  | 25 ++++++++--------
 29 files changed, 265 insertions(+), 64 deletions(-)

commit 748695a47b549779a1db189c3182c06cb36d3420
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 14 15:22:15 2014 +0200

    Start a new plugin to send mails

 wemi-context-server/kar/pom.xml                    |  5 ++
 wemi-context-server/plugins/mail/pom.xml           | 23 +++++++
 .../mail/consequences/SendMailConsequence.java     | 72 ++++++++++++++++++++++
 .../wemi/consequences/sendMailConsequence.json     | 58 +++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 26 ++++++++
 wemi-context-server/plugins/pom.xml                |  1 +
 wemi-context-server/plugins/request/pom.xml        |  1 +
 7 files changed, 186 insertions(+)

commit b5ef82178e5ff68df94a156c788d28e1801bf8fd
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 14 11:08:22 2014 +0200

    Switched to using an reference-listener to be able to listen to bind events within the same bundle

 wemi-context-server/kar/pom.xml                    |  5 -----
 .../server/impl/services/EventServiceImpl.java     | 22 ++++++++++++++++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 10 ++++++++--
 3 files changed, 26 insertions(+), 11 deletions(-)

commit 5fc5e0f49274cf5601fb88114e4e156731f14bd3
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 14 10:32:45 2014 +0200

    Moved listeners to event service

 .../oasis_open/wemi/context/server/api/Event.java  | 29 ++++++-------
 .../server/impl/services/EventServiceImpl.java     | 30 +++++++++++++-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 ++
 .../wemi/context/server/ContextServlet.java        |  9 ++--
 .../wemi/context/server/EventCollectorServlet.java | 48 +++++++---------------
 5 files changed, 63 insertions(+), 56 deletions(-)

commit fd306a0a923a4df8f9b23459574929a420e479f4
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 14 10:31:16 2014 +0200

    - Remove login plugin since we don't need it
    - Switch hover and request plugins to use OSGi Blueprint

 .../HoverEventConditionESQueryBuilder.java         | 10 ------
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 22 ++++++++++++
 wemi-context-server/plugins/login/pom.xml          | 14 --------
 .../server/plugins/LoginEventListenerService.java  | 39 --------------------
 wemi-context-server/plugins/pom.xml                | 37 -------------------
 .../plugins/request/RequestListenerService.java    | 42 ----------------------
 .../RequestHeaderToUserPropertyConsequence.java    |  9 -----
 .../RequestParameterToUserPropertyConsequence.java |  9 -----
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 33 +++++++++++++++++
 9 files changed, 55 insertions(+), 160 deletions(-)

commit 303ddf8854d5a8a85a2547b5916071af8a4cfb32
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 13 18:00:59 2014 +0200

    BACKLOG-5056 : use jackson parsing for conditions/consequences

 .../context/server/api/conditions/Parameter.java   |  10 +-
 .../wemi/context/server/api/conditions/Tag.java    |   3 +
 .../server/rest/DefinitionsServiceEndPoint.java    |   4 +-
 .../impl/services/DefinitionsServiceImpl.java      |  88 ++---------------
 .../server/impl/services/GoalsServiceImpl.java     |   8 +-
 .../context/server/impl/services/ParserHelper.java | 106 +++------------------
 .../server/impl/services/RulesServiceImpl.java     |  12 ++-
 .../server/impl/services/SegmentServiceImpl.java   |   4 +-
 8 files changed, 47 insertions(+), 188 deletions(-)

commit 26139195132a1934b0c8173465c689d08f6ee95a
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 13 17:12:39 2014 +0200

    Update hover event query builder for new format

 .../events/hover/querybuilders/HoverEventConditionESQueryBuilder.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6dc3454a45631aa1e8c5baac7124298cb2afbbcf
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 13 16:49:17 2014 +0200

    Make sure we register services under all interfaces when registering with OSGi Blueprint

 .../resources/OSGI-INF/blueprint/blueprint.xml     | 24 +++++++++++-----------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 2d381734a154d65b00173cbae4c9f5a8a80f001b
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 13 16:35:05 2014 +0200

    BACKLOG-5056 : store segments, rules and goals

 wemi-context-server/api/pom.xml                    |   9 -
 .../oasis_open/wemi/context/server/api/Event.java  |  44 +++--
 .../oasis_open/wemi/context/server/api/Item.java   |  43 ++---
 .../wemi/context/server/api/SegmentDefinition.java |  19 +-
 .../wemi/context/server/api/Session.java           |  20 +--
 .../oasis_open/wemi/context/server/api/User.java   |  21 ++-
 .../server/api/conditions/ConditionType.java       |  10 ++
 .../wemi/context/server/api/goals/Goal.java        |   6 +-
 .../wemi/context/server/api/rules/Rule.java        |  18 +-
 .../context/server/api/services/RulesService.java  |  10 +-
 .../persistence-elasticsearch/pom.xml              |   7 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 200 +++++++++++----------
 .../PageViewEventConditionESQueryBuilder.java      |   2 +-
 wemi-context-server/persistence-spi/pom.xml        |  19 ++
 .../server/persistence/spi/MapperHelper.java       |  29 +++
 .../server/persistence/spi/PersistenceService.java |  11 +-
 .../spi}/PropertyTypedObjectDeserializer.java      |   2 +-
 wemi-context-server/rest/pom.xml                   |   7 +-
 .../context/server/rest/CustomObjectMapper.java    |   2 +-
 .../context/server/rest/RulesServiceEndPoint.java  |   6 +
 .../server/impl/services/EventServiceImpl.java     |   4 +-
 .../server/impl/services/GoalsServiceImpl.java     |  49 +++--
 .../context/server/impl/services/ParserHelper.java |  18 +-
 .../server/impl/services/RulesServiceImpl.java     | 129 ++++++++-----
 .../server/impl/services/SegmentServiceImpl.java   | 124 +++----------
 .../server/impl/services/UserServiceImpl.java      |   6 +-
 .../resources/META-INF/wemi/mappings/event.json    |   5 +-
 .../resources/META-INF/wemi/mappings/user.json     |   4 +-
 .../META-INF/wemi/segments/alwaysTrue.json         |  14 +-
 .../META-INF/wemi/segments/goal1Reached.json       |  14 --
 .../wemi/segments/homeViewed.json.disabled         |  26 ---
 .../META-INF/wemi/segments/maleGender.json         |  20 ++-
 .../META-INF/wemi/segments/youngRich.json          |  33 ++--
 .../META-INF/wemi/segments/youngRich.json.jackson  |  30 ----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   1 +
 35 files changed, 476 insertions(+), 486 deletions(-)

commit 35948118301b82340cf6422738bb1bcc8f0a8ac0
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 13 14:56:12 2014 +0200

    Replace Pax CDI with OSGi Blueprint so that we avoid multiple instances of services.

 wemi-context-server/services/pom.xml               |  41 ++------
 .../ComparisonOperatorChoiceListInitializer.java   |  10 --
 .../EventPropertyChoiceListInitializer.java        |  15 +--
 .../UserPropertyChoiceListInitializer.java         |  16 +--
 .../AllEventToUserPropertiesConsequence.java       |  10 --
 .../ConsequenceExecutorDispatcher.java             |   6 +-
 .../EventToUserPropertyConsequence.java            |  10 --
 .../impl/consequences/SetPropertyConsequence.java  |   9 --
 .../impl/services/DefinitionsServiceImpl.java      |  24 ++---
 .../server/impl/services/EventServiceImpl.java     |  15 +--
 .../server/impl/services/GoalsServiceImpl.java     |  25 ++---
 .../server/impl/services/RulesServiceImpl.java     |  31 +++---
 .../server/impl/services/RulesServiceOsgi.java     |  72 -------------
 .../impl/services/RulesServiceScalaImpl.scala      |  71 -------------
 .../server/impl/services/SegmentServiceImpl.java   |  36 +++----
 .../server/impl/services/UserServiceImpl.java      |  14 +--
 .../services/src/main/resources/META-INF/beans.xml |   0
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 116 +++++++++++++++++++++
 18 files changed, 195 insertions(+), 326 deletions(-)

commit 598014cff8a270dfba450eb883d37cfaaf9910a8
Merge: 4ad7ff30 5c4a998b
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 12 14:53:43 2014 +0200

    Merge remote-tracking branch 'origin/master'
    
    Conflicts:
            wemi-context-server/services/src/main/java/org/oasis_open/wemi/context/server/impl/services/RulesServiceOsgi.java

commit 4ad7ff30da9d1c55a97b1ddedb63325cabb251e9
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 12 14:52:50 2014 +0200

    Try to fix double-instantiation of services (OSGi and internal CDI), but not working yet.

 .../UserEventConditionESQueryBuilder.java          |  1 -
 .../impl/services/DefinitionsServiceImpl.java      |  3 +-
 .../server/impl/services/GoalsServiceImpl.java     |  7 +-
 .../server/impl/services/RulesServiceImpl.java     |  9 ++-
 .../server/impl/services/RulesServiceOsgi.java     | 76 ----------------------
 .../impl/services/RulesServiceScalaImpl.scala      | 71 --------------------
 .../server/impl/services/SegmentServiceImpl.java   |  3 +-
 7 files changed, 18 insertions(+), 152 deletions(-)

commit 5c4a998b27598069a30826eff53d757df68441ec
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 12 10:00:22 2014 +0200

    BACKLOG-5054 : removed method

 .../wemi/context/server/impl/services/RulesServiceOsgi.java           | 4 ----
 1 file changed, 4 deletions(-)

commit ee0faba239d37636332648e045c16022b87b439a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Aug 11 19:03:40 2014 +0200

    BACKLOG-5054 : auto create rules on events

 .../oasis_open/wemi/context/server/api/Event.java  |   8 +-
 .../wemi/context/server/api/Session.java           |   4 +-
 .../ElasticSearchPersistenceServiceImpl.java       | 105 ++++++++++-----------
 .../ConditionESQueryBuilderDispatcher.java         |   7 +-
 .../UserEventConditionESQueryBuilder.java          |  24 +++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   7 ++
 .../impl/consequences/SetPropertyConsequence.java  |  11 ++-
 .../server/impl/services/RulesServiceImpl.java     |   7 +-
 .../server/impl/services/RulesServiceOsgi.java     |  76 +++++++++++++++
 .../impl/services/RulesServiceScalaImpl.scala      |  71 ++++++++++++++
 .../server/impl/services/SegmentServiceImpl.java   |  64 +++++++++++++
 .../META-INF/wemi/conditions/userEvent.json        |  25 +++++
 .../resources/META-INF/wemi/mappings/session.json  |   7 ++
 13 files changed, 350 insertions(+), 66 deletions(-)

commit a88aa4340d5e8188baa5112de1ae2aceaf48f346
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 11 17:01:38 2014 +0200

    Fix typo

 .../oasis_open/wemi/context/server/api/consequences/Consequence.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6655fac48d52c9d71e99f9dbca00b24e67a3a891
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 11 14:37:25 2014 +0200

    Fix small mistake on Rule REST API

 .../org/oasis_open/wemi/context/server/rest/RulesServiceEndPoint.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3cc88783e34c96303a80fdb006bf5d7f232d12a1
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Aug 10 16:08:04 2014 +0200

    Make sure we serialize the rootCondition under the name "condition"

 .../main/java/org/oasis_open/wemi/context/server/api/rules/Rule.java   | 3 +++
 1 file changed, 3 insertions(+)

commit 26f94f57f1fafc5a67390ee646c8f1bb48fcf9c7
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Aug 10 15:27:28 2014 +0200

    Fix form parameter names

 .../org/oasis_open/wemi/context/server/rest/RulesServiceEndPoint.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88a4ee288a22e2f472fb411a35d331241520ea82
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Aug 10 15:22:49 2014 +0200

    - Add rules to REST API

 .../wemi/context/server/api/rules/Rule.java        | 23 ++++++--
 .../context/server/api/services/RulesService.java  | 12 ++++
 .../META-INF/wemi/rules/goal1onHover.json          |  7 ++-
 .../context/server/rest/RulesServiceEndPoint.java  | 66 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 16 ++++++
 .../server/impl/services/RulesServiceImpl.java     | 47 ++++++++++++++-
 6 files changed, 163 insertions(+), 8 deletions(-)

commit c8fbe0e8aec307cd89edec2bb3c1f22dde19c091
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 8 21:59:36 2014 +0200

    - Implement request copying consequences
    - Improve event copying consequences by adding a consequences to copy all event properties

 .../context/server/api/services/EventService.java  |  4 +++
 .../RequestHeaderToUserPropertyConsequence.java    | 42 ++++++++++++++++++++++
 .../RequestParameterToUserPropertyConsequence.java | 22 ++++++++++--
 .../requestParameterToUserPropertyConsequence.json |  8 +++++
 .../EventPropertyChoiceListInitializer.java        | 36 +++++++++++++++++++
 .../AllEventToUserPropertiesConsequence.java       | 33 +++++++++++++++++
 .../server/impl/services/EventServiceImpl.java     |  9 +++++
 .../server/impl/services/GoalsServiceImpl.java     |  2 --
 .../consequences/allEventToUserProperties.json     |  9 +++++
 9 files changed, 161 insertions(+), 4 deletions(-)

commit 3755339abf7e74a40dd08b00e32d2eb6771171b3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 8 18:25:14 2014 +0200

    Initial commit of request copying consequences

 .../RequestParameterToUserPropertyConsequence.java | 24 +++++++++++++++++++++
 .../requestParameterToUserPropertyConsequence.json | 25 ++++++++++++++++++++++
 2 files changed, 49 insertions(+)

commit 1c3a3c93a045e48d95f2b49bc0372087822440a9
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 8 18:22:41 2014 +0200

    - Fix condition type population
    - Refactor ConsequenceExecutors into API

 .../api}/consequences/ConsequenceExecutor.java     |  2 +-
 .../ConsequenceExecutorDispatcher.java             |  4 +---
 .../EventToUserPropertyConsequence.java            |  1 +
 .../impl/consequences/SetPropertyConsequence.java  |  1 +
 .../context/server/impl/services/ParserHelper.java | 26 ++++++++++++++++++----
 .../server/impl/services/SegmentServiceImpl.java   | 16 +++++++------
 .../eventToUserPropertyConsequence.json            |  2 +-
 7 files changed, 36 insertions(+), 16 deletions(-)

commit 1ecb284bad7cf5638ff4c84d1caaadc0922a424f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 8 16:31:49 2014 +0200

    simple goals test, added aggregate query in ES service

 .../wemi/context/server/api/goals/Goal.java        |  39 ++++++++
 .../context/server/api/services/GoalsService.java  |  11 +++
 .../ElasticSearchPersistenceServiceImpl.java       |  36 ++++++-
 .../server/persistence/spi/PersistenceService.java |   2 +
 .../context/server/rest/GoalsServiceEndPoint.java  |  42 +++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  16 ++++
 .../server/impl/services/GoalsServiceImpl.java     | 104 +++++++++++++++++++++
 .../main/resources/META-INF/wemi/goals/goal1.json  |  19 ++++
 .../resources/META-INF/wemi/mappings/event.json    |   1 +
 9 files changed, 267 insertions(+), 3 deletions(-)

commit b30457215f974e89b13a0cd98f68197b2d62c5bc
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 8 16:20:38 2014 +0200

    Refactor hover events to be in a separate plugin (to test plugins too :))

 wemi-context-server/kar/pom.xml                    |  5 +++++
 .../persistence-elasticsearch/pom.xml              | 12 ++++++++++-
 .../ElasticSearchPersistenceServiceImpl.java       |  3 ---
 .../ConditionESQueryBuilderDispatcher.java         |  1 -
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  7 -------
 wemi-context-server/plugins/hover-event/pom.xml    | 24 ++++++++++++++++++++++
 .../HoverEventConditionESQueryBuilder.java         | 14 ++++++++++++-
 .../wemi/conditions/hoverEventCondition.json       |  0
 .../META-INF/wemi/rules/goal1onHover.json          |  0
 wemi-context-server/plugins/pom.xml                | 17 +++++++--------
 10 files changed, 62 insertions(+), 21 deletions(-)

commit 3e91a70770b4a541257e574012112333069b5842
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 8 13:39:30 2014 +0200

    simplified persistence calls, added query method

 .../ElasticSearchPersistenceServiceImpl.java       | 57 +++++++++++++++++-----
 .../server/persistence/spi/PersistenceService.java |  6 ++-
 .../server/impl/services/EventServiceImpl.java     |  2 +-
 .../server/impl/services/UserServiceImpl.java      |  4 +-
 4 files changed, 51 insertions(+), 18 deletions(-)

commit 68113b8360435ef8841ecf1f186139ff58e35ec4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 8 11:32:27 2014 +0200

    renamed SegmentDescription to Metadata

 .../api/{SegmentDescription.java => Metadata.java}   | 14 +++++++-------
 .../wemi/context/server/api/SegmentDefinition.java   | 14 +++++++-------
 .../context/server/api/services/SegmentService.java  |  2 +-
 .../context/server/rest/SegmentServiceEndPoint.java  |  4 ++--
 .../server/impl/services/SegmentServiceImpl.java     | 20 ++++++++++----------
 .../wemi/context/server/ContextServlet.java          |  2 --
 .../oasis_open/wemi/context/server/HttpUtils.java    |  1 -
 7 files changed, 27 insertions(+), 30 deletions(-)

commit cb4a3fe6c94cb9d870b24983fe517567f1186f01
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Aug 8 11:18:40 2014 +0200

    Changed segment id to string, fixed segment creation

 .../wemi/context/server/api/SegmentDefinition.java | 14 ++--
 .../{SegmentID.java => SegmentDescription.java}    | 14 ++--
 .../server/api/services/SegmentService.java        | 17 +++--
 .../server/rest/SegmentServiceEndPoint.java        | 32 +++++----
 .../server/impl/services/SegmentServiceImpl.java   | 77 +++++++++++-----------
 .../wemi/context/server/ContextServlet.java        |  9 +--
 .../oasis_open/wemi/context/server/HttpUtils.java  |  8 +--
 7 files changed, 81 insertions(+), 90 deletions(-)

commit ea9458c2b5e9758cfb0b0f100dfe4d11bddd4d27
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Aug 8 09:41:06 2014 +0200

    Catch settings exception on ElasticSearch startup and fallback to configure clusterName

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java          | 6 ++++++
 1 file changed, 6 insertions(+)

commit d1a87318db1894bca8b82b5a979a06a8e42ac885
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 7 19:06:19 2014 +0200

    use simplified filters

 .../wemi/context/server/ContextServlet.java        | 54 +++++++++++-----------
 1 file changed, 28 insertions(+), 26 deletions(-)

commit 178b37ac43e07de97a2cac3e1e1edd3ef0b390e8
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 7 13:54:45 2014 +0200

    changed filter to servlet

 .../server/{ScriptFilter.java => ContextServlet.java}   | 17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

commit 11e4ae30e94e3c360f904b6492521754234addcf
Merge: 139ecf71 7a0d169a
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 13:51:07 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 139ecf71c40bfba5b89c3e220f99b425c0fafba5
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 13:47:26 2014 +0200

    BACKLOG-5057 Add documentation on how to configure ElasticSearch

 README.md | 24 ++++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 7a0d169a5bf81f11371abc23083ccab8c66ec919
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Aug 7 13:35:29 2014 +0200

    fixed script when no filter is posted

 .../wemi/context/server/ScriptFilter.java          | 35 +++++++++++-----------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 12 +++++---
 2 files changed, 26 insertions(+), 21 deletions(-)

commit 666ac01c357a362366934e403a611b8ea8d30478
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 13:09:13 2014 +0200

    Add a quick comment on the cluster.name setting

 .../org.oasis_open.wemi.context.server.persistence.elasticsearch.cfg     | 1 +
 1 file changed, 1 insertion(+)

commit a78e7d923f85ed70710382bd04db7f387cb534cd
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 13:07:44 2014 +0200

    Make it possible to use an etc/elasticsearch.yml file to configure ElasticSearch

 .../kar/src/main/feature/feature.xml               |   3 +-
 .../persistence-elasticsearch/pom.xml              |   5 +
 .../ElasticSearchPersistenceServiceImpl.java       |  25 +-
 .../resources/OSGI-INF/blueprint/blueprint.xml     |   2 +
 .../src/main/resources/elasticsearch.yml           | 373 +++++++++++++++++++++
 ...mi.context.server.persistence.elasticsearch.cfg |   3 +-
 6 files changed, 408 insertions(+), 3 deletions(-)

commit 36f9c268e33eaa9f5378557162c67dd940959e0d
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 12:26:08 2014 +0200

    Make ElasticSearch cluster name and index name configurable through OSGi configuration admin.
    We will still need to find a solution for setting other ES settings, maybe by passing a URL to a settings file ?

 .../kar/src/main/feature/feature.xml               |  1 +
 .../persistence-elasticsearch/pom.xml              | 23 ++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 42 +++++++++++++---------
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  8 +++++
 ...mi.context.server.persistence.elasticsearch.cfg |  2 ++
 5 files changed, 60 insertions(+), 16 deletions(-)

commit efeddcc8c87809a86cb3cd6e254ac0a18429b7cd
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 11:19:34 2014 +0200

    Renaming:
    - visitorID -> visitorId
    - userSession -> sessionId
    - wemi-profileID (cookie name) -> wemi-profile-id

 .../oasis_open/wemi/context/server/api/Event.java  | 32 ++++++++---------
 .../resources/META-INF/wemi/mappings/event.json    |  2 +-
 .../wemi/context/server/EventCollectorServlet.java | 25 +++++++-------
 .../wemi/context/server/ScriptFilter.java          | 40 +++++++++++-----------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  2 +-
 5 files changed, 50 insertions(+), 51 deletions(-)

commit f4d4999172297e69366d265dfa0d1d9f3ce61ac0
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Aug 7 10:24:20 2014 +0200

    Add bundle listeners for deployment of conditions, rules, segments, tags, consequences

 .../impl/services/DefinitionsServiceImpl.java      | 79 ++++++++++++++++------
 .../server/impl/services/RulesServiceImpl.java     | 35 ++++++++--
 .../server/impl/services/SegmentServiceImpl.java   | 30 ++++++--
 .../{ => wemi}/conditions/andCondition.json        |  0
 .../{ => wemi}/conditions/hoverEventCondition.json |  0
 .../META-INF/{ => wemi}/conditions/matchAll.json   |  0
 .../{ => wemi}/conditions/orCondition.json         |  0
 .../conditions/pageViewEventCondition.json         |  0
 .../conditions/userPropertyCondition.json          |  0
 .../eventToUserPropertyConsequence.json            |  0
 .../consequences/setPropertyConsequence.json       |  0
 .../META-INF/{ => wemi}/mappings/event.json        |  0
 .../META-INF/{ => wemi}/mappings/user.json         |  0
 .../META-INF/{ => wemi}/rules/goal1onHover.json    |  0
 .../META-INF/{ => wemi}/segments/alwaysTrue.json   |  0
 .../META-INF/{ => wemi}/segments/goal1Reached.json |  0
 .../{ => wemi}/segments/homeViewed.json.disabled   |  0
 .../META-INF/{ => wemi}/segments/maleGender.json   |  0
 .../META-INF/{ => wemi}/segments/youngRich.json    |  0
 .../{ => wemi}/segments/youngRich.json.jackson     |  0
 .../META-INF/{ => wemi}/tags/demographic.json      |  0
 .../resources/META-INF/{ => wemi}/tags/event.json  |  0
 .../META-INF/{ => wemi}/tags/geographic.json       |  0
 .../META-INF/{ => wemi}/tags/logical.json          |  0
 .../resources/META-INF/{ => wemi}/tags/root.json   |  0
 25 files changed, 114 insertions(+), 30 deletions(-)

commit 7d281765d923d88783b2900dae4b05388d030069
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Aug 6 19:16:14 2014 +0200

    handle post in scriptfilter with json user filters . cleaned base.js to avoid having too many javascript objects created

 .../wemi/context/server/ScriptFilter.java          | 145 +++++++-------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 222 +++++++++------------
 2 files changed, 169 insertions(+), 198 deletions(-)

commit 70317a33d895e42df522eaad74fc6a318685de3b
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 6 17:08:51 2014 +0200

    Refactor ElasticSearch query builder to use OSGi services

 .../server/api/conditions/ConditionType.java       |  9 ++++
 .../persistence-elasticsearch/pom.xml              |  7 ++++
 .../ElasticSearchPersistenceServiceImpl.java       |  9 +++-
 .../conditions/AndConditionESQueryBuilder.java     |  5 +--
 .../ConditionESQueryBuilderDispatcher.java         | 34 ++++++++++-----
 .../elasticsearch/conditions/ESQueryBuilder.java   |  2 -
 .../HoverEventConditionESQueryBuilder.java         |  5 +--
 .../MatchAllConditionESQueryBuilder.java           |  5 +--
 .../conditions/OrConditionESQueryBuilder.java      | 27 ++++++++++++
 .../PageViewEventConditionESQueryBuilder.java      |  5 +--
 .../UserPropertyConditionESQueryBuilder.java       |  5 +--
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 48 ++++++++++++++++++++++
 .../impl/services/DefinitionsServiceImpl.java      |  2 +
 .../server/impl/services/SegmentServiceImpl.java   |  4 ++
 .../META-INF/conditions/andCondition.json          |  1 +
 .../META-INF/conditions/hoverEventCondition.json   |  1 +
 .../conditions/{alwaysTrue.json => matchAll.json}  |  1 +
 .../resources/META-INF/conditions/orCondition.json |  1 +
 .../conditions/pageViewEventCondition.json         |  1 +
 .../META-INF/conditions/userPropertyCondition.json |  1 +
 20 files changed, 143 insertions(+), 30 deletions(-)

commit 5fffadafa32f074a6933eec8d0249f1926927981
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 6 15:30:31 2014 +0200

    - ConsequenceExecutors are now registered through OSGi services
    - Added a new EventToUserPropertyConsequence (executor)

 .../server/api/consequences/ConsequenceType.java   | 10 ++++++
 .../consequences/AbstractConsequenceExecutor.java  | 15 ---------
 .../impl/consequences/ConsequenceExecutor.java     | 13 ++++++++
 .../ConsequenceExecutorDispatcher.java             | 39 ++++++++++++----------
 .../EventToUserPropertyConsequence.java            | 33 ++++++++++++++++++
 .../impl/consequences/SetPropertyConsequence.java  | 16 ++++++---
 .../impl/services/DefinitionsServiceImpl.java      |  3 +-
 .../server/impl/services/RulesServiceImpl.java     |  9 +++--
 .../eventToUserPropertyConsequence.json            | 25 ++++++++++++++
 .../consequences/setPropertyConsequence.json       |  2 +-
 .../wemi/context/server/EventCollectorServlet.java |  6 ++++
 11 files changed, 130 insertions(+), 41 deletions(-)

commit 33895e5aee0358fc35e496c4a0d31ecc9a0ca11c
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 6 11:57:25 2014 +0200

    Add a real test for the response of the context retrieval

 .../org/oasis_open/wemi/context/server/itests/BasicTest.java     | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 025bdd35a1a3a887c7955dadae62859e38421bbf
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Aug 6 10:24:35 2014 +0200

    - Cleanup unused import
    - Basic HttpComponent test now works !

 .../context/server/api/services/EventService.java  |   1 -
 .../wemi/context/server/itests/BasicTest.java      | 129 ++++++++++-----------
 2 files changed, 63 insertions(+), 67 deletions(-)

commit 882b2663674f2bef15a6f7027f49f2c0d044bb9f
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Aug 5 20:15:39 2014 +0200

    added session object

 .../oasis_open/wemi/context/server/api/Event.java  |  18 ++-
 .../wemi/context/server/api/Session.java           |  26 ++++
 .../context/server/api/services/EventService.java  |   1 +
 .../context/server/api/services/UserService.java   |   5 +
 .../server/impl/services/UserServiceImpl.java      |  12 ++
 .../wemi/context/server/EventCollectorServlet.java |  45 +++----
 .../wemi/context/server/ScriptFilter.java          | 147 ++++++++++++---------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |   7 +-
 8 files changed, 172 insertions(+), 89 deletions(-)

commit 8f5113d548f2fa12a2726b8611f2a11eaebebdc6
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 5 17:02:59 2014 +0200

    Try to integrate HttpComponents to test WEMI context retrieval but not yet working because of dependencies

 wemi-context-server/itests/pom.xml                 | 12 ++++++
 .../wemi/context/server/itests/BasicTest.java      | 44 ++++++++++++++++++++--
 2 files changed, 52 insertions(+), 4 deletions(-)

commit a0f67b890c9264d66608029372e83aa02a26c36e
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Aug 5 10:39:04 2014 +0200

    Improve README documentation for generated package and running integration tests

 README.md | 29 +++++++++++++++++++++++++++--
 1 file changed, 27 insertions(+), 2 deletions(-)

commit 369a583f3d1861df03e817e484bfca36530bb972
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 4 17:09:27 2014 +0200

    - Activate debug mode on Karaf Container
    - Try to fix the SLF4j startup errors, but it seems the problem might be inside Pax Exam

 wemi-context-server/itests/pom.xml                             | 10 ++--------
 .../org/oasis_open/wemi/context/server/itests/BasicTest.java   |  2 +-
 2 files changed, 3 insertions(+), 9 deletions(-)

commit de4eb72a53b1c4ab44eb559d2a1709b05034e621
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 4 15:27:58 2014 +0200

    Deactivate integration tests by default, and document how to activate the profile to activate them.

 README.md                   | 4 ++++
 wemi-context-server/pom.xml | 9 ++++++++-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit 5f94ad093694d179033656a03839c4419440f1f2
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 4 15:12:29 2014 +0200

    - Added documentation on requirements for running integration tests
    - Renamed basic test to run properly with JUnit 4

 README.md                                          | 36 +++++++++++++++++++++-
 wemi-context-server/itests/pom.xml                 |  8 -----
 .../itests/{BasicTests.java => BasicTest.java}     | 36 ++++++++++------------
 3 files changed, 51 insertions(+), 29 deletions(-)

commit 89d1871583301858260c8117214053ba2bca8f12
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 4 14:28:57 2014 +0200

    Initial work on setting up integration tests

 wemi-context-server/itests/pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit e6c4a12e50d8f1af2c76985b6a367586296e10f2
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Aug 4 14:19:55 2014 +0200

    Initial work on setting up integration tests

 wemi-context-server/itests/pom.xml                 | 137 +++++++++++++++++++++
 .../wemi/context/server/itests/BasicTests.java     | 115 +++++++++++++++++
 wemi-context-server/pom.xml                        |   2 +
 3 files changed, 254 insertions(+)

commit 0c0a83f387b623801a9287c4255e5aafac4ad592
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jul 31 17:15:03 2014 +0200

    Add mappings for user age and income

 .../services/src/main/resources/META-INF/mappings/user.json       | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 35adce679418fd43077e434efc872666cac07c8c
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jul 31 16:50:21 2014 +0200

    Add support for deleting segment definitions.

 .../context/server/api/services/SegmentService.java    |  1 +
 .../ElasticSearchPersistenceServiceImpl.java           | 18 +++++++++++++++++-
 .../server/persistence/spi/PersistenceService.java     |  4 ++--
 .../context/server/rest/SegmentServiceEndPoint.java    | 10 +++++++++-
 .../server/impl/services/SegmentServiceImpl.java       |  5 +++++
 5 files changed, 34 insertions(+), 4 deletions(-)

commit b60faf60ab61cca8863047a888a5a90dfc4d094b
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jul 31 11:27:19 2014 +0200

    Add support for creating new segments

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java         | 3 +++
 .../wemi/context/server/rest/SegmentServiceEndPoint.java           | 7 +++++++
 .../wemi/context/server/impl/services/SegmentServiceImpl.java      | 2 ++
 3 files changed, 12 insertions(+)

commit 3d27c0347fdfd1462714b3089d7ba63584cbdea6
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jul 31 09:33:36 2014 +0200

    Packaging of Karaf Server now seems to be working

 wemi-context-server/package/pom.xml                | 121 +++++++++++++++++++--
 .../package/src/main/descriptors/src.xml           |  49 +++++++++
 .../src/main/{assembly => resources/bin}/setenv    |   0
 wemi-context-server/pom.xml                        |   1 +
 4 files changed, 162 insertions(+), 9 deletions(-)

commit 92f1531ad60d978b3b9087e3d5bfc4e45560daff
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 16:46:14 2014 +0200

    Add setenv file for proper environment setup

 .../package/src/main/assembly/setenv               | 53 ++++++++++++++++++++++
 1 file changed, 53 insertions(+)

commit 3724fcf591b50e9d770d4b3b2536439ab9622073
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 16:30:58 2014 +0200

    Try to improve packaging, but we need to be able to specify a larger permGen space, not sure this will be possible.

 wemi-context-server/package/pom.xml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 8cf0948c68e702b7366d7cc47ef2855a39c137ee
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 15:15:15 2014 +0200

    Refactoring to make it possible to add builders from OSGi bundles

 .../elasticsearch/conditions/AndConditionESQueryBuilder.java        | 5 ++---
 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java | 4 ++--
 .../conditions/{AbstractESQueryBuilder.java => ESQueryBuilder.java} | 6 +++---
 .../elasticsearch/conditions/HoverEventConditionESQueryBuilder.java | 5 +----
 .../elasticsearch/conditions/MatchAllConditionESQueryBuilder.java   | 4 +---
 .../conditions/PageViewEventConditionESQueryBuilder.java            | 4 +---
 .../conditions/UserPropertyConditionESQueryBuilder.java             | 4 +---
 .../services/src/main/resources/META-INF/tags/demographic.json      | 2 +-
 8 files changed, 12 insertions(+), 22 deletions(-)

commit f0a162427b3f2d667d185b3aab860d1616af9b56
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 12:24:00 2014 +0200

    Cleanup in tag definitions and page view event condition

 .../main/resources/META-INF/conditions/pageViewEventCondition.json    | 4 ++--
 .../services/src/main/resources/META-INF/tags/demographic.json        | 2 +-
 .../services/src/main/resources/META-INF/tags/event.json              | 4 ++--
 .../services/src/main/resources/META-INF/tags/geographic.json         | 4 ++--
 .../services/src/main/resources/META-INF/tags/logical.json            | 4 ++--
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 5b85d699dc1bf8ee8ca9c6b7c740b838d0dc7e1c
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 11:47:06 2014 +0200

    Change the API to retrieve all tag information, including all sub tags

 .../wemi/context/server/api/services/DefinitionsService.java   |  2 +-
 .../wemi/context/server/rest/DefinitionsServiceEndPoint.java   |  5 +++--
 .../context/server/impl/services/DefinitionsServiceImpl.java   | 10 +++++-----
 3 files changed, 9 insertions(+), 8 deletions(-)

commit ad92273ae5525fd6ec0b05bb84c0bf12c4eb1310
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 30 10:52:58 2014 +0200

    Add proper tag support

 .../context/server/api/conditions/ConditionType.java   | 17 +++++++++++++----
 .../server/api/consequences/ConsequenceType.java       | 18 ++++++++++++++----
 .../server/impl/services/DefinitionsServiceImpl.java   |  2 ++
 3 files changed, 29 insertions(+), 8 deletions(-)

commit 48250ec3d56f1e7dd306e0f529c60ef4386645d3
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 29 17:14:48 2014 +0200

    Fix tag structure initialitation for condition and consequence types

 .../impl/services/DefinitionsServiceImpl.java      | 30 ++++++++++++----------
 1 file changed, 16 insertions(+), 14 deletions(-)

commit 572b1503fed774210e11b75a47db33404647f2a3
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 29 17:05:36 2014 +0200

    Code cleanup & renaming of some properties

 .../server/api/conditions/ConditionType.java       | 10 ++++-----
 .../server/api/consequences/Consequence.java       | 26 +++++++++++++++++-----
 .../server/api/consequences/ConsequenceType.java   | 10 ++++-----
 .../server/rest/DefinitionsServiceEndPoint.java    |  4 ++--
 .../ConsequenceExecutorDispatcher.java             |  1 +
 .../impl/consequences/SetPropertyConsequence.java  |  4 ++--
 .../impl/services/DefinitionsServiceImpl.java      |  4 ++--
 .../context/server/impl/services/ParserHelper.java |  6 ++---
 8 files changed, 41 insertions(+), 24 deletions(-)

commit fe0169769967df39b7b7fe9060c18d451de6cf1d
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 29 16:54:07 2014 +0200

    - Add tags to consequences
    - Add more REST API methods to retrieve consequences (all, by tag)

 .../server/api/services/DefinitionsService.java    | 10 ++-
 .../server/rest/DefinitionsServiceEndPoint.java    | 92 ++++++++++++++++------
 .../UserPropertyChoiceListInitializer.java         |  2 +-
 .../impl/services/DefinitionsServiceImpl.java      | 63 ++++++++++-----
 .../consequences/setPropertyConsequence.json       |  4 +-
 5 files changed, 120 insertions(+), 51 deletions(-)

commit 08af604d78d40ea4aca928cd9ef8351a27a98dcf
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 29 16:17:06 2014 +0200

    - Choicelist values are now calculated for all conditions retrieval in REST API (still need to integrated in others)
    - Added get mapping API for persistence service
    - Choicelist initializers are now OSGi services

 .../context/server/api/conditions/Parameter.java   | 23 ++++++++++++----
 .../initializers/ChoiceListInitializer.java        |  4 +--
 .../context/server/api/services/UserService.java   |  2 ++
 .../ElasticSearchPersistenceServiceImpl.java       | 22 +++++++++++++++
 .../server/persistence/spi/PersistenceService.java |  3 +++
 .../server/rest/DefinitionsServiceEndPoint.java    | 31 ++++++++++++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  1 +
 .../ComparisonOperatorChoiceListInitializer.java   | 18 +++++++++++--
 .../UserPropertyChoiceListInitializer.java         | 26 +++++++++++++++---
 .../context/server/impl/services/ParserHelper.java |  6 ++---
 .../server/impl/services/UserServiceImpl.java      |  6 +++++
 .../META-INF/conditions/andCondition.json          |  2 +-
 .../META-INF/conditions/hoverEventCondition.json   |  2 +-
 .../resources/META-INF/conditions/orCondition.json |  2 +-
 .../conditions/pageViewEventCondition.json         |  2 +-
 .../META-INF/conditions/userPropertyCondition.json |  6 ++---
 .../consequences/setPropertyConsequence.json       |  4 +--
 17 files changed, 136 insertions(+), 24 deletions(-)

commit 44b2656aeaa6439188d9404458ff0df2f9e7afaf
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 29 13:12:31 2014 +0200

    - Deactivate SOAP interfaces since we won't support them.
    - Improve definitions API for tags and conditions

 .../server/api/services/DefinitionsService.java    |  8 ++++--
 .../server/rest/DefinitionsServiceEndPoint.java    | 29 ++++++++++++++++----
 .../resources/OSGI-INF/blueprint/blueprint.xml     |  3 --
 .../impl/services/DefinitionsServiceImpl.java      | 32 ++++++++++++++++------
 4 files changed, 53 insertions(+), 19 deletions(-)

commit ed2f1ef278c527cd35307e656533ac921b1b089c
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 17:32:13 2014 +0200

    Move rule class to API to make it consistent with the rest of the code

 .../org/oasis_open/wemi/context/server/api/rules}/Rule.java    | 10 +++++-----
 .../wemi/context/server/impl/services/RulesServiceImpl.java    |  1 +
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 33063e2cb66991bff78ba9bcbd194890e961da5f
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 17:27:01 2014 +0200

    Refactoring and cleanup of deserializer code

 ...r.java => PropertyTypedObjectDeserializer.java} | 29 +++++++++++++++++-----
 .../context/server/rest/CustomObjectMapper.java    | 10 ++++----
 .../context/server/impl/services/ParserHelper.java | 13 +++-------
 3 files changed, 32 insertions(+), 20 deletions(-)

commit c9403d5626b59ded95988850834ac2bd5682ecb0
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 17:18:15 2014 +0200

    Rename segment definition JSON files and cleanup code layout

 .../resources/META-INF/segments/youngRich.json     |  6 ++---
 .../META-INF/segments/youngRich.json.jackson       | 30 ++++++++++++++++++++++
 .../segments/youngRichNewFormat.json.jackson       | 30 ----------------------
 3 files changed, 33 insertions(+), 33 deletions(-)

commit b5be79253bc79adc3b56811fcf4becb295e5fc5f
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 17:00:40 2014 +0200

    Remove parameter value class as it is no longer needed.

 .../context/server/api/conditions/Condition.java   |  6 ++---
 .../server/api/conditions/ParameterValue.java      | 29 ---------------------
 .../server/api/consequences/Consequence.java       |  8 +++---
 .../conditions/AndConditionESQueryBuilder.java     |  2 +-
 .../HoverEventConditionESQueryBuilder.java         |  2 +-
 .../PageViewEventConditionESQueryBuilder.java      |  2 +-
 .../UserPropertyConditionESQueryBuilder.java       |  6 ++---
 .../context/server/rest/CustomObjectMapper.java    |  3 ---
 .../impl/consequences/SetPropertyConsequence.java  |  4 +--
 .../context/server/impl/services/ParserHelper.java | 16 ++++++------
 .../segments/youngRichNewFormat.json.jackson       | 30 ++++++----------------
 11 files changed, 30 insertions(+), 78 deletions(-)

commit 232b8a04c979ca1c7e16df417e6d49795ac59361
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 16:21:05 2014 +0200

    - Simplify parameterValues by allowing any type of object as a value (we can probably simplify it some more)
    - Adapt existing code to support new structure

 .../server/api/conditions/ParameterValue.java      | 39 ++++------------------
 .../conditions/ParameterValueTypeIdResolver.java   | 27 ---------------
 .../conditions/AndConditionESQueryBuilder.java     |  2 +-
 .../HoverEventConditionESQueryBuilder.java         |  2 +-
 .../PageViewEventConditionESQueryBuilder.java      |  2 +-
 .../UserPropertyConditionESQueryBuilder.java       |  6 ++--
 .../impl/consequences/SetPropertyConsequence.java  |  4 +--
 .../context/server/impl/services/ParserHelper.java | 18 +++++-----
 .../segments/youngRichNewFormat.json.jackson       | 20 +----------
 9 files changed, 26 insertions(+), 94 deletions(-)

commit 5046c6aed30ab96f9cf75a60b6788007ba812721
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jul 28 15:16:20 2014 +0200

    ParameterValue deserializer now seems to work properly. We now need to fix this double value problem.

 .../wemi/context/server/rest/CustomObjectMapper.java     |  5 -----
 .../wemi/context/server/impl/services/ParserHelper.java  | 16 +++++++++++-----
 2 files changed, 11 insertions(+), 10 deletions(-)

commit 8e33f12461d63daf2b37fe17109f655c89f4d7eb
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Jul 27 16:57:33 2014 +0200

    Trying to init things properly, not there yet

 .../org/oasis_open/wemi/context/server/rest/CustomObjectMapper.java | 6 ++++++
 1 file changed, 6 insertions(+)

commit 38133f42c2ab1b7b5413ccbe68bd5e6c40b59fb8
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Jul 27 16:48:59 2014 +0200

    Already working a lot better, but not quite there yet

 .../server/api/conditions/ParameterValue.java      |  2 +-
 .../api/conditions/ParameterValueDeserializer.java | 45 +++++++++++++---------
 2 files changed, 28 insertions(+), 19 deletions(-)

commit 93e2f337b70aa0ed0dc86bb1a7ede89787461011
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Jul 26 23:52:43 2014 +0200

    Working on deserializer, really tricky to get to work

 .../server/api/conditions/ParameterValue.java      | 15 +++++++-
 .../api/conditions/ParameterValueDeserializer.java | 42 +++++++++++++++-------
 .../context/server/rest/CustomObjectMapper.java    | 14 +++++++-
 wemi-context-server/wab/pom.xml                    |  9 +++--
 4 files changed, 62 insertions(+), 18 deletions(-)

commit a8dec6e25b06174bb7dc526a71fe4ba57de66656
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 23 17:02:00 2014 +0200

    Still working on trying to solve value deserialization

 .../api/conditions/ParameterValueDeserializer.java | 53 ++++++++++++++++++++++
 1 file changed, 53 insertions(+)

commit 69ed32623afdb9d17c3b0d82c3feb9684dcf092e
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jul 23 15:47:42 2014 +0200

    Start integrating CORS in REST services

 wemi-context-server/api/pom.xml                    |  9 ++++++++
 .../server/api/conditions/ParameterValue.java      |  5 ++++
 .../conditions/ParameterValueTypeIdResolver.java   | 27 ++++++++++++++++++++++
 wemi-context-server/pom.xml                        |  6 +++++
 .../context/server/rest/CustomObjectMapper.java    | 16 +++++++++++++
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 14 +++++++++--
 wemi-context-server/services/pom.xml               | 20 ++++++++++++++++
 .../context/server/impl/services/ParserHelper.java | 19 +++++++++++++++
 .../server/impl/services/SegmentServiceImpl.java   | 12 +++++++++-
 ...on.disabled => youngRichNewFormat.json.jackson} |  0
 10 files changed, 125 insertions(+), 3 deletions(-)

commit 94ad89e22b2526509040a392fea403b728e3a7ad
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 22 21:29:07 2014 +0200

    - Simplify parameterValue by removing the id that is never used.
    - Add a example of the new format, which we will try to simplify some more.

 .../server/api/conditions/ParameterValue.java      |  7 ---
 .../segments/youngRichNewFormat.json.disabled      | 62 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 7 deletions(-)

commit 115e4f0108c0d84ebbdb73cd872c66872fbe9ee9
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jul 22 17:31:45 2014 +0200

    Working on saving segment definitions, but we need to cleanup the JSON model first to make sure it can be used everywhere and properly mapped.

 .../elasticsearch/conditions/ConditionESQueryBuilderDispatcher.java | 2 +-
 .../oasis_open/wemi/context/server/rest/SegmentServiceEndPoint.java | 6 ++----
 2 files changed, 3 insertions(+), 5 deletions(-)

commit 66766709788f112771d4eb887b981ce3ec55ae41
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jul 4 16:54:18 2014 +0200

    Add Segment ID to segment definition

 compileDeploy.sh                                          |  2 ++
 .../wemi/context/server/api/SegmentDefinition.java        | 15 +++++++++++++++
 .../org/oasis_open/wemi/context/server/api/SegmentID.java |  1 -
 .../context/server/impl/services/SegmentServiceImpl.java  |  2 +-
 4 files changed, 18 insertions(+), 2 deletions(-)

commit 40eb49a003193ab1b60eaf56fc2e4b97b41e0ebc
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jul 4 16:31:37 2014 +0200

    Simplify JSON output some more to make it easier to work with

 .../wemi/context/server/api/SegmentDefinition.java          |  6 ++++++
 .../wemi/context/server/api/conditions/Condition.java       | 13 ++++++++-----
 .../wemi/context/server/api/conditions/ConditionType.java   |  4 ++++
 .../wemi/context/server/api/conditions/Parameter.java       |  3 +++
 .../wemi/context/server/api/conditions/ParameterValue.java  | 13 ++++++++++++-
 .../conditions/AndConditionESQueryBuilder.java              |  2 +-
 .../conditions/HoverEventConditionESQueryBuilder.java       |  2 +-
 .../conditions/PageViewEventConditionESQueryBuilder.java    |  2 +-
 .../conditions/UserPropertyConditionESQueryBuilder.java     |  6 +++---
 .../wemi/context/server/impl/services/ParserHelper.java     |  2 +-
 10 files changed, 40 insertions(+), 13 deletions(-)

commit 1daf7df60fed2981f5ec294f7d6fcf9ac2b0114d
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jul 4 16:02:52 2014 +0200

    Improve JSON serialization to remove condition type serialization when serialization a condition

 .../wemi/context/server/api/conditions/Condition.java     | 15 +++++++++++++++
 .../wemi/context/server/api/services/SegmentService.java  |  1 +
 .../context/server/rest/DefinitionsServiceEndPoint.java   |  5 +++++
 .../wemi/context/server/rest/SegmentServiceEndPoint.java  | 11 +++++++----
 .../context/server/impl/services/SegmentServiceImpl.java  |  5 +++++
 5 files changed, 33 insertions(+), 4 deletions(-)

commit 590891e80f0cfe1c48c7817d833cd5553b0bad1a
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jul 1 11:12:27 2014 +0200

    use date in events, synchronize cookie everytime

 .../oasis_open/wemi/context/server/api/Event.java  | 22 +++++++++++-----------
 .../wemi/context/server/EventCollectorServlet.java |  7 ++-----
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  4 +---
 3 files changed, 14 insertions(+), 19 deletions(-)

commit 3e32d8e29c0e5551822bca075a15cbebfa529682
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 30 17:02:22 2014 +0200

    Start integrating CORS in REST services

 wemi-context-server/rest/pom.xml                                     | 5 +++++
 .../oasis_open/wemi/context/server/rest/SegmentServiceEndPoint.java  | 5 +++++
 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml         | 4 ++++
 3 files changed, 14 insertions(+)

commit 6072c025f4d990d9e95b576a6d255f8bc17ded2a
Merge: b6138a56 aa3f5faf
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 30 15:14:26 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit b6138a56066cb94bd2e72b9b38958f90e0a35573
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 30 15:14:12 2014 +0200

    Add OR condition definition

 .../main/resources/META-INF/conditions/orCondition.json  | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit aa3f5faf2bd0a904066b7c75639fb543406724c4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Mon Jun 30 11:39:51 2014 +0200

    Moved view event to component

 .../server/plugins/request/SetPropertyService.java | 26 ----------------------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  9 --------
 2 files changed, 35 deletions(-)

commit 2f592c04826050296300ce9bfb8cdacec7ad688c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 18:03:34 2014 +0200

    simplified code

 .../context/server/api/conditions/Condition.java   | 13 -------
 .../server/api/conditions/ConditionVisitor.java    | 11 ------
 .../server/api/consequences/Consequence.java       |  7 ----
 .../api/consequences/ConsequenceVisitor.java       | 12 -------
 .../ElasticSearchPersistenceServiceImpl.java       |  8 ++---
 ...torVisitor.java => AbstractESQueryBuilder.java} |  7 ++--
 ...isitor.java => AndConditionESQueryBuilder.java} | 12 +++----
 .../ConditionESQueryBuilderDispatcher.java         | 37 +++++++++++++++++++
 ...ConditionESQueryGeneratorVisitorDispatcher.java | 41 ----------------------
 .../HoverEventConditionESQueryBuilder.java         | 24 +++++++++++++
 ...HoverEventConditionESQueryGeneratorVisitor.java | 28 ---------------
 ...r.java => MatchAllConditionESQueryBuilder.java} |  8 ++---
 ...a => PageViewEventConditionESQueryBuilder.java} | 12 +++----
 ...va => UserPropertyConditionESQueryBuilder.java} | 14 ++++----
 ...sitor.java => AbstractConsequenceExecutor.java} |  4 +--
 .../ConsequenceExecutorDispatcher.java             | 36 +++++++++++++++++++
 .../ConsequenceExecutorVisitorDispatcher.java      | 40 ---------------------
 ...nceVisitor.java => SetPropertyConsequence.java} |  6 ++--
 .../server/impl/services/RulesServiceImpl.java     |  9 +++--
 19 files changed, 129 insertions(+), 200 deletions(-)

commit 8c6db5378d57e7e5958a75754defea21f65e1507
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 17:43:00 2014 +0200

    replaced all ES queries by conditions

 .../wemi/context/server/api/SegmentDefinition.java |  8 --------
 ...ConditionESQueryGeneratorVisitorDispatcher.java |  1 +
 ...HoverEventConditionESQueryGeneratorVisitor.java |  6 +++++-
 .../MatchAllConditionESQueryGeneratorVisitor.java  | 23 ++++++++++++++++++++++
 ...eViewEventConditionESQueryGeneratorVisitor.java |  5 +++++
 .../context/server/impl/services/ParserHelper.java |  2 +-
 .../server/impl/services/RulesServiceImpl.java     | 19 ++----------------
 .../server/impl/services/SegmentServiceImpl.java   | 21 ++++----------------
 .../resources/META-INF/conditions/alwaysTrue.json  |  8 ++++++++
 .../resources/META-INF/rules/goal1onHover.json     | 17 ----------------
 .../resources/META-INF/segments/alwaysTrue.json    |  8 +++-----
 11 files changed, 52 insertions(+), 66 deletions(-)

commit 6c503b7b65e60bca6ee42d8b3481ae6890c1d4b3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 27 17:28:41 2014 +0200

    Renamed ConditionTag to Tag and improve REST mappings

 .../server/api/conditions/ConditionType.java       | 10 +++---
 .../api/conditions/{ConditionTag.java => Tag.java} | 18 +++++-----
 .../server/api/consequences/ConsequenceType.java   | 12 +++----
 .../server/api/services/DefinitionsService.java    |  6 ++--
 .../server/rest/DefinitionsServiceEndPoint.java    | 14 +++-----
 .../impl/services/DefinitionsServiceImpl.java      | 39 +++++++++++-----------
 6 files changed, 47 insertions(+), 52 deletions(-)

commit c1179ac69b5ff24f2087a970426832c353b2885f
Merge: 07a0b2d9 8f147633
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 27 17:02:10 2014 +0200

    Merge remote-tracking branch 'origin/master'

commit 07a0b2d9e248c471257da90e1f85f76968b3d24a
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 27 17:02:00 2014 +0200

    Changed REST mappings to make it possible to have multiple endpoints working. You can now for example access the segments using :
    
    http://localhost:8181/wemi/segments
    
    and the definitions
    
    http://localhost:8181/wemi/definitions/conditions/tags

 .../context/server/api/services/SegmentService.java |  2 +-
 .../server/rest/DefinitionsServiceEndPoint.java     | 10 +++++-----
 .../context/server/rest/SegmentServiceEndPoint.java | 10 +++++-----
 .../main/resources/OSGI-INF/blueprint/blueprint.xml | 21 ++++++++++++++++++++-
 .../server/impl/services/SegmentServiceImpl.java    |  2 +-
 5 files changed, 32 insertions(+), 13 deletions(-)

commit 8f1476335a09c9ca487864fc3785bcd257637eeb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 17:01:23 2014 +0200

    Use same pattern for consequences as conditions

 .../server/api/consequences/Consequence.java       | 27 +++++++++-----
 .../server/api/consequences/ConsequenceType.java   |  9 -----
 .../api/consequences/ConsequenceVisitor.java       | 12 +++++++
 .../AbstractConsequenceExecutorVisitor.java        | 15 ++++++++
 .../ConsequenceExecutorVisitorDispatcher.java      | 40 +++++++++++++++++++++
 .../impl/consequences/SetPropertyConsequence.java  | 21 -----------
 .../SetPropertyConsequenceVisitor.java             | 26 ++++++++++++++
 .../impl/services/DefinitionsServiceImpl.java      | 42 ++++------------------
 .../context/server/impl/services/ParserHelper.java | 26 ++++++++++++--
 .../wemi/context/server/impl/services/Rule.java    |  6 ----
 .../server/impl/services/RulesServiceImpl.java     |  9 ++---
 11 files changed, 146 insertions(+), 87 deletions(-)

commit 49fd42c7321b1950d60087bb1b47fa91a1b82fed
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 16:33:36 2014 +0200

    Generate ElasticSearch queries from conditions

 .../server/api/conditions/ConditionVisitor.java    |  2 ++
 .../ConditionESQueryGeneratorVisitor.java          | 16 ---------
 .../ElasticSearchPersistenceServiceImpl.java       | 12 +++----
 .../AbstractESQueryGeneratorVisitor.java           | 18 ++++++++++
 .../AndConditionESQueryGeneratorVisitor.java       | 31 +++++++++++++++++
 ...ConditionESQueryGeneratorVisitorDispatcher.java | 40 ++++++++++++++++++++++
 ...HoverEventConditionESQueryGeneratorVisitor.java | 24 +++++++++++++
 ...eViewEventConditionESQueryGeneratorVisitor.java | 23 +++++++++++++
 ...erPropertyConditionESQueryGeneratorVisitor.java | 33 ++++++++++++++++++
 .../impl/services/DefinitionsServiceImpl.java      | 14 ++++----
 .../server/impl/services/RulesServiceImpl.java     |  2 +-
 .../server/impl/services/SegmentServiceImpl.java   |  2 +-
 .../resources/META-INF/segments/goal1Reached.json  | 17 ++++-----
 .../META-INF/segments/goal1ReachedFilter.json      | 20 -----------
 .../resources/META-INF/segments/maleGender.json    | 12 +++----
 .../resources/META-INF/segments/youngRich.json     |  2 +-
 16 files changed, 202 insertions(+), 66 deletions(-)

commit ebdeb09644752847b85b1c3f7e690d37dd74f3bd
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 15:26:51 2014 +0200

    Moved visitor to persistence side, renamed conditionNode to condition

 .../wemi/context/server/api/conditions/Condition.java  | 15 ++++++++++++---
 .../context/server/api/conditions/ParameterValue.java  | 10 +++++-----
 .../ConditionESQueryGeneratorVisitor.java              |  6 ++++--
 .../ElasticSearchPersistenceServiceImpl.java           |  7 +++++++
 .../server/persistence/spi/PersistenceService.java     |  3 +++
 .../server/impl/services/DefinitionsServiceImpl.java   | 18 +++++++++---------
 .../context/server/impl/services/ParserHelper.java     |  8 ++++----
 .../server/impl/services/SegmentServiceImpl.java       |  8 +++-----
 .../resources/META-INF/conditions/andCondition.json    |  6 +++---
 .../META-INF/conditions/hoverEventCondition.json       |  1 -
 .../META-INF/conditions/pageViewEventCondition.json    |  1 -
 .../main/resources/META-INF/segments/youngRich.json    |  2 +-
 12 files changed, 51 insertions(+), 34 deletions(-)

commit 251560df565ac498b3754fc920b90fa6eeb8dbb4
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 14:32:29 2014 +0200

    fixed typo

 .../services/src/main/resources/META-INF/segments/youngRich.json        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26bbbee2f8419dece2b99e1bf4e28e55e91ae11e
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 27 14:24:28 2014 +0200

    Definitions service now instantiates

 .../wemi/context/server/impl/services/DefinitionsServiceImpl.java   | 6 ++++++
 .../wemi/context/server/impl/services/RulesServiceImpl.java         | 2 --
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 9679b1063017528ff6e4d4153b3f7bd74266a601
Author: Thomas Draier <tdraier@jahia.com>
Date:   Fri Jun 27 14:09:24 2014 +0200

    Added definitions service with consequence parsing

 .../context/server/api/conditions/Condition.java   |   6 +-
 .../api/conditions/ConditionParameterValue.java    |  20 --
 .../server/api/conditions/ConditionType.java       |   6 +-
 .../{ConditionParameter.java => Parameter.java}    |   6 +-
 .../server/api/conditions/ParameterValue.java      |  32 +++
 .../server/api/consequences/Consequence.java       |  22 +-
 .../server/api/consequences/ConsequenceType.java   |  71 ++++++
 .../server/api/services/DefinitionsService.java    |  14 ++
 .../context/server/api}/services/RulesService.java |   2 +-
 .../server/api/services/SegmentService.java        |   3 -
 .../server/rest/DefinitionsServiceEndPoint.java    |  58 +++++
 .../server/rest/SegmentServiceEndPoint.java        |  17 --
 .../impl/consequences/SetPropertyConsequence.java  |  26 +--
 .../impl/services/DefinitionsServiceImpl.java      | 255 +++++++++++++++++++++
 .../context/server/impl/services/ParserHelper.java |  84 +++++++
 .../wemi/context/server/impl/services/Rule.java    |  35 +--
 .../server/impl/services/RulesServiceImpl.java     |  28 ++-
 .../server/impl/services/SegmentServiceImpl.java   | 191 +--------------
 .../{andConditionNode.json => andCondition.json}   |   2 +-
 .../META-INF/conditions/hoverEventCondition.json   |  17 ++
 .../conditions/pageViewEventCondition.json         |  17 ++
 ...nditionNode.json => userPropertyCondition.json} |   2 +-
 .../consequences/setPropertyConsequence.json       |  25 ++
 .../resources/META-INF/rules/goal1onHover.json     |  14 +-
 .../resources/META-INF/segments/youngRich.json     |   6 +-
 .../src/main/resources/META-INF/tags/event.json    |   6 +
 26 files changed, 676 insertions(+), 289 deletions(-)

commit 3f07504cf7c1ad6752d2d22e4fcbade64a4930ae
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 27 11:23:49 2014 +0200

    - Refactoring of condition classes, to make it simpler and easier to understand
    - Cleanup unused stuff

 .../wemi/context/server/api/SegmentDefinition.java | 12 ++++----
 .../context/server/api/conditions/Condition.java   | 26 ++++++++++++++--
 .../server/api/conditions/ConditionNode.java       | 36 ----------------------
 .../api/conditions/ConditionNodeVisitor.java       |  9 ------
 .../{ConditionTypeNode.java => ConditionType.java} | 10 ++----
 .../server/api/conditions/ConditionVisitor.java    |  9 ++++++
 .../server/api/services/SegmentService.java        |  4 +--
 .../server/rest/SegmentServiceEndPoint.java        |  4 +--
 .../server/impl/conditions/AndConditionNode.java   | 18 -----------
 ....java => ConditionESQueryGeneratorVisitor.java} |  8 ++---
 .../server/impl/conditions/EventConditionNode.java | 18 -----------
 .../impl/conditions/ListOperatorConditionNode.java | 33 --------------------
 .../server/impl/conditions/OrConditionNode.java    | 17 ----------
 .../impl/conditions/UserPropertyConditionNode.java | 19 ------------
 .../server/impl/services/SegmentServiceImpl.java   | 32 +++++++++----------
 .../META-INF/conditions/andConditionNode.json      |  1 -
 .../conditions/userPropertyConditionNode.json      |  1 -
 17 files changed, 64 insertions(+), 193 deletions(-)

commit 77d23025d66f155b9d943d93ef3ec80021df97cb
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jun 26 22:59:06 2014 +0200

    Parse segment conditions

 .../wemi/context/server/api/SegmentDefinition.java |  8 ++-
 .../server/impl/services/SegmentServiceImpl.java   | 59 +++++++++++++---------
 .../resources/META-INF/segments/goal1Reached.json  | 24 ---------
 .../resources/META-INF/segments/youngRich.json     | 29 +++++++++++
 4 files changed, 69 insertions(+), 51 deletions(-)

commit e0c023241e52c989c923d22cb4b35d8a6ef404bc
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jun 26 18:21:37 2014 +0200

    Added condition node parsing

 .../server/api/conditions/ConditionNode.java       | 51 ++------------
 .../api/conditions/ConditionParameterValue.java    |  4 +-
 .../server/api/conditions/ConditionTypeNode.java   | 66 ++++++++++++++++++
 .../server/api/services/SegmentService.java        |  9 +--
 .../server/rest/SegmentServiceEndPoint.java        |  9 +--
 .../server/impl/conditions/AndConditionNode.java   | 36 +++++-----
 .../server/impl/conditions/EventConditionNode.java | 36 +++++-----
 .../impl/conditions/ListOperatorConditionNode.java | 66 +++++++++---------
 .../server/impl/conditions/OrConditionNode.java    | 34 +++++-----
 .../impl/conditions/UserPropertyConditionNode.java | 38 +++++------
 .../server/impl/services/SegmentServiceImpl.java   | 79 ++++++++++++++--------
 .../META-INF/conditions/andConditionNode.json      |  2 +-
 .../resources/META-INF/segments/goal1Reached.json  | 24 +++++++
 13 files changed, 260 insertions(+), 194 deletions(-)

commit 120318bc25e319734a5510b7d2f84de40882e353
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 17:13:06 2014 +0200

    Loading of condition nodes should now work

 .../wemi/context/server/api/conditions/ConditionNode.java      |  3 +++
 .../wemi/context/server/api/conditions/ConditionTag.java       | 10 ++++------
 .../main/resources/META-INF/conditions/andConditionNode.json   |  4 ++--
 .../META-INF/conditions/userPropertyConditionNode.json         |  8 ++++----
 4 files changed, 13 insertions(+), 12 deletions(-)

commit ea8fe504e7fd091ec46e697fb16274d47347bf68
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 15:41:34 2014 +0200

    Fix JSON to make it loadable.

 .../main/resources/META-INF/conditions/userPropertyConditionNode.json   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 633e8cea85db68e54d7df848909b191ec413386f
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 15:34:57 2014 +0200

    Fix JSON to make it loadable.

 wemi-context-server/services/src/main/resources/META-INF/tags/root.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e1038579df70c568093f9920fc38c2c829394e7b
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 15:23:47 2014 +0200

    Implement loading of predefined tags and conditions (not working yet).

 .../server/api/conditions/ConditionNode.java       |  16 ++-
 .../server/api/conditions/ConditionParameter.java  |  40 +++++-
 .../server/api/conditions/ConditionTag.java        |  49 ++++---
 .../server/api/services/SegmentService.java        |   5 +-
 .../ElasticSearchPersistenceServiceImpl.java       |   7 +
 .../server/rest/SegmentServiceEndPoint.java        |   7 +-
 .../server/impl/services/SegmentServiceImpl.java   | 153 ++++++++++++++++++++-
 7 files changed, 239 insertions(+), 38 deletions(-)

commit d8b6b158a719bd3d7e43c148d63989652042af08
Author: Thomas Draier <tdraier@jahia.com>
Date:   Thu Jun 26 15:13:14 2014 +0200

    Added rules service

 .gitignore                                         |  10 ++
 .../oasis_open/wemi/context/server/api/Event.java  |  28 ++----
 .../oasis_open/wemi/context/server/api/Item.java   |  16 ++-
 .../oasis_open/wemi/context/server/api/User.java   |   4 +-
 .../server/api/consequences/Consequence.java       |  10 ++
 .../ElasticSearchPersistenceServiceImpl.java       |  25 +++--
 .../impl/consequences/SetPropertyConsequence.java  |  37 +++++++
 .../wemi/context/server/impl/services/Rule.java    |  36 +++++++
 .../context/server/impl/services/RulesService.java |   7 ++
 .../server/impl/services/RulesServiceImpl.java     | 107 +++++++++++++++++++++
 .../resources/META-INF/rules/goal1onHover.json     |  43 +++++++++
 .../META-INF/segments/homeViewed.json.disabled     |  26 +++++
 12 files changed, 313 insertions(+), 36 deletions(-)

commit c9df5945ea712873373656f845679e42a6ccd46a
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 12:08:35 2014 +0200

    Start working on choicelist initializers

 .../initializers/ChoiceListInitializer.java        |  2 +-
 .../conditions/initializers/ChoiceListValue.java   | 23 ++++++++++++++++++++++
 .../server/impl/conditions/AndConditionNode.java   |  2 +-
 .../server/impl/conditions/OrConditionNode.java    |  4 ++--
 .../ComparisonOperatorChoiceListInitializer.java   | 13 ++++++++++--
 .../UserPropertyChoiceListInitializer.java         |  3 ++-
 6 files changed, 40 insertions(+), 7 deletions(-)

commit 4cedc2f5310de10437cc1f0ad5e6e0e136e657a2
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 26 11:57:32 2014 +0200

    - Refactor conditions to add visitors instead of evaluating them
    - Move tags and parameters to condition nodes
    - Add pre-defined JSON files for tags
    - Add a JSON definition for user property condition node

 .../context/server/api/conditions/Condition.java   |  3 +-
 .../server/api/conditions/ConditionNode.java       | 46 ++++++++++++++++++++--
 .../api/conditions/ConditionNodeVisitor.java       |  9 +++++
 .../api/conditions/ConditionParameterValue.java    | 10 ++---
 .../server/impl/conditions/AndConditionNode.java   | 19 +--------
 .../ConditionNodeESQueryGeneratorVisitor.java      | 14 +++++++
 .../server/impl/conditions/EventConditionNode.java | 13 +-----
 .../impl/conditions/ListOperatorConditionNode.java | 16 +++++++-
 .../server/impl/conditions/OrConditionNode.java    | 22 +----------
 .../impl/conditions/UserPropertyConditionNode.java | 17 +-------
 .../META-INF/conditions/andConditionNode.json      | 14 ++-----
 .../conditions/userPropertyConditionNode.json      | 33 ++++++++++++++++
 .../main/resources/META-INF/tags/demographic.json  |  6 +++
 .../main/resources/META-INF/tags/geographic.json   |  6 +++
 .../src/main/resources/META-INF/tags/logical.json  |  6 +++
 .../src/main/resources/META-INF/tags/root.json     |  6 +++
 16 files changed, 154 insertions(+), 86 deletions(-)

commit 7a8ea291612ea2e05d478059aa7e8fa1a7badb25
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 25 22:17:53 2014 +0200

    Remove hardcoded event type

 .../persistence/elasticsearch/ElasticSearchPersistenceServiceImpl.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4eec82ee8bec79d5a08a79395d85cd52c4870ca7
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Jun 25 18:31:48 2014 +0200

    restored code removed by git merge

 .../context/server/impl/services/SegmentServiceImpl.java | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit b41f8cacbaa3e6941d510acd17c8c773b2982289
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Jun 25 18:10:49 2014 +0200

    Missing imports

 .../context/server/impl/services/SegmentServiceImpl.java    | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 3a0c006bc988976503c2e12da784163dab4dea6c
Author: Thomas Draier <tdraier@jahia.com>
Date:   Wed Jun 25 18:07:37 2014 +0200

    Added filter query example. Added type mapping initialization

 .../ElasticSearchPersistenceServiceImpl.java         | 13 +++++++++++++
 .../server/persistence/spi/PersistenceService.java   |  2 ++
 .../server/impl/services/SegmentServiceImpl.java     | 12 ++++++------
 .../src/main/resources/META-INF/mappings/event.json  |  9 +++++++++
 .../META-INF/segments/goal1ReachedFilter.json        | 20 ++++++++++++++++++++
 5 files changed, 50 insertions(+), 6 deletions(-)

commit 82fc9200cb76c3a4155d1c8a2a3c3eebc9967ad0
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 25 16:47:51 2014 +0200

    Add an event condition node, that can be used to match segments or rules to execute upon event triggering

 .../server/impl/conditions/EventConditionNode.java | 27 ++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit c7af2df76973c7e7487bed84e0d839f50235c14a
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 25 16:29:24 2014 +0200

    Work on condition nodes, trying to find a model that works.

 .../context/server/api/ConditionParameter.java     | 13 ---------
 .../wemi/context/server/api/SegmentDefinition.java |  1 +
 .../server/api/{ => conditions}/Condition.java     |  2 +-
 .../server/api/{ => conditions}/ConditionNode.java |  7 +++--
 .../server/api/conditions/ConditionParameter.java  | 21 ++++++++++++++
 .../api/conditions/ConditionParameterValue.java    | 20 ++++++++++++++
 .../server/api/{ => conditions}/ConditionTag.java  |  2 +-
 .../initializers/ChoiceListInitializer.java        | 11 ++++++++
 .../server/api/services/SegmentService.java        |  3 ++
 .../server/rest/SegmentServiceEndPoint.java        |  3 ++
 .../server/impl/conditions}/AndConditionNode.java  | 15 ++++++++--
 .../conditions}/ListOperatorConditionNode.java     |  4 ++-
 .../server/impl/conditions}/OrConditionNode.java   | 15 ++++++++--
 .../impl/conditions/UserPropertyConditionNode.java | 32 ++++++++++++++++++++++
 .../ComparisonOperatorChoiceListInitializer.java   | 15 ++++++++++
 .../UserPropertyChoiceListInitializer.java         | 15 ++++++++++
 .../server/impl/services/SegmentServiceImpl.java   |  9 ++----
 .../META-INF/conditions/andConditionNode.json      | 23 ++++++++++++++++
 wemi-context-server/wab/pom.xml                    |  1 +
 19 files changed, 181 insertions(+), 31 deletions(-)

commit 7e9e8ecaa0d37a36fb78e502d4c81440c360f031
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 25 15:09:56 2014 +0200

    More code clean up

 .../wemi/context/server/plugins/request/SetPropertyService.java        | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 7aa2d59581b7e798a851c987dd5afd61cb1a4aeb
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 25 15:07:55 2014 +0200

    - Clean up ElasticSearch persistence service impl
    - Replace SegmentService System.out with SLF4j logging

 .../persistence-elasticsearch/pom.xml              |   6 -
 .../ElasticSearchPersistenceServiceImpl.java       | 304 +++++++++++----------
 wemi-context-server/pom.xml                        |   9 +
 .../server/impl/services/SegmentServiceImpl.java   |  81 +++---
 4 files changed, 203 insertions(+), 197 deletions(-)

commit 09d15534969c14c43dd047d4ab8f2c9e545e0a42
Author: Thomas Draier <tdraier@jahia.com>
Date:   Tue Jun 24 19:10:07 2014 +0200

    Improved event handling , allows to update context through event. removed contextloaded event.
    Changed mappings for SegmentServiceEndPoint

 .../server/api/services/SegmentService.java        |  2 +-
 .../server/plugins/LoginEventListenerService.java  | 24 +++-------
 .../plugins/request/RequestListenerService.java    | 14 +-----
 .../server/plugins/request/SetPropertyService.java | 27 +++++++++++
 .../server/rest/SegmentServiceEndPoint.java        |  6 +--
 .../server/impl/services/SegmentServiceImpl.java   | 20 +++-----
 .../resources/META-INF/segments/goal1Reached.json  | 10 +++-
 .../wemi/context/server/EventCollectorServlet.java | 43 +++++++++++++++--
 .../oasis_open/wemi/context/server/HttpUtils.java  | 43 +++++++++++++++++
 .../wemi/context/server/ScriptFilter.java          | 55 +---------------------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 18 ++++++-
 11 files changed, 156 insertions(+), 106 deletions(-)

commit 42df5f143f09b2beeb6a83021881564793e3f22a
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:56:49 2014 +0200

    Update todo

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 93db051252b4a151a8a98cf16b7ad832988038be
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:51:24 2014 +0200

    Documentation reformatting

 README.md | 73 +++++++++++++++++++++++++++++----------------------------------
 1 file changed, 34 insertions(+), 39 deletions(-)

commit 678ce01ded75471820bb9e9065924f5ed1a139f3
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:45:24 2014 +0200

    Documentation cleanup

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a2418411a009c297f77f3fc0b100c6a0d6db69e4
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:44:34 2014 +0200

    Documentation cleanup

 README.md | 5 +++++
 1 file changed, 5 insertions(+)

commit 01d3d920295105b9d89d45fe646a25282b22a9ea
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:40:26 2014 +0200

    Documentation cleanup

 README.md | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 1740daf90ca5655d3e6d4ea8a89b4677738e5fa2
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 15:38:48 2014 +0200

    Add documentation for cluster setup

 README.md | 91 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 91 insertions(+)

commit 2241b8ed1e38604d519d93099827ba743fde6674
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 24 14:53:24 2014 +0200

    ElasticSearch Percolate API integrated to use for segment matching.

 .../ElasticSearchPersistenceServiceImpl.java          | 19 +++++++++++++++----
 .../server/persistence/spi/PersistenceService.java    |  2 +-
 .../server/impl/services/SegmentServiceImpl.java      | 11 ++++++++++-
 .../main/resources/META-INF/segments/maleGender.json  |  2 +-
 4 files changed, 27 insertions(+), 7 deletions(-)

commit e4a33c40656a1dd7346a91232ad1dc1806d0637d
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 23 17:07:34 2014 +0200

    Segments are now properly stored as percolation (saved) ElasticSearch queries. Next step will be using the percolation API to match them against documents.

 .../ElasticSearchPersistenceServiceImpl.java       | 45 ++++++++++++++++++++++
 .../server/persistence/spi/PersistenceService.java |  4 ++
 .../server/impl/services/SegmentServiceImpl.java   |  7 ++++
 .../resources/META-INF/segments/alwaysTrue.json    |  4 +-
 4 files changed, 59 insertions(+), 1 deletion(-)

commit 4e61002256ab165808d08625411a0b7141589c6e
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 23 14:46:39 2014 +0200

    Document ElasticSearch property for native library path

 README.md | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit aeeb16cfde98b0db5e2d66dc780940b42c723e24
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 23 12:04:03 2014 +0200

    Fix property

 .../services/src/main/resources/META-INF/segments/maleGender.json       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9131e7fe1a1c71237370554fb04795c6f7a6be6f
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Jun 21 22:07:25 2014 +0200

    Add view event for page view

 .../java/org/oasis_open/wemi/context/server/HttpUtils.java | 14 +++++++++++++-
 .../org/oasis_open/wemi/context/server/ScriptFilter.java   | 13 ++++++++-----
 .../wab/src/main/webapp/WEB-INF/javascript/base.js         | 12 +++++++++++-
 3 files changed, 32 insertions(+), 7 deletions(-)

commit a394af6a1d95f3ffd2c01f3d2642004efd43b468
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 22:50:26 2014 +0200

    - Login event listener now works
    - Added code to set cookie on document so that it can be then re-used in calls from the CMS
    - Request listener now works too.

 .../server/plugins/LoginEventListenerService.java  |  4 +++
 wemi-context-server/plugins/pom.xml                |  1 +
 .../plugins/request/RequestListenerService.java    |  4 +++
 .../wemi/context/server/EventCollectorServlet.java |  2 +-
 .../wemi/context/server/ScriptFilter.java          |  2 +-
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 31 ++++++++++++++++++++++
 6 files changed, 42 insertions(+), 2 deletions(-)

commit 0ea1bb6ce42b770fd27e3e6a7f8442e652dc6818
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 17:59:30 2014 +0200

    Add new plugins to KAR archive

 wemi-context-server/kar/pom.xml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit b710d21212a10fcc6276e47ca4149534b6aa8f72
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 17:54:07 2014 +0200

    - Login plugin should now merge properties from the event
    - Skeleton for request listener now in place, no request attributes are being copied yet.

 .../server/plugins/LoginEventListenerService.java  | 16 +++++++++++--
 wemi-context-server/plugins/request/pom.xml        |  9 ++++++++
 .../plugins/request/RequestListenerService.java    | 27 +++++++++++++++++++++-
 3 files changed, 49 insertions(+), 3 deletions(-)

commit 467d8c215040c4a1ef72c7faeb5054c93d372be3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 17:36:11 2014 +0200

    Work on plugins that listen to context server events

 .../oasis_open/wemi/context/server/api/Event.java  | 76 ++++++++++++++++++--
 .../oasis_open/wemi/context/server/api/Item.java   |  3 +-
 .../server/api/services/EventListenerService.java  |  4 ++
 wemi-context-server/plugins/login/pom.xml          | 14 ++++
 .../server/plugins/LoginEventListenerService.java  | 33 +++++++++
 wemi-context-server/plugins/pom.xml                | 84 ++++++++++++++++++++++
 wemi-context-server/plugins/request/pom.xml        | 14 ++++
 .../plugins/request/RequestListenerService.java    | 23 ++++++
 wemi-context-server/pom.xml                        | 18 +++++
 .../wemi/context/server/EventCollectorServlet.java | 29 ++++++--
 .../wemi/context/server/ScriptFilter.java          | 26 ++++++-
 11 files changed, 312 insertions(+), 12 deletions(-)

commit dfdbeafe20cf65f2d96c0926687a18e2d1cec1f3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 14:31:49 2014 +0200

    Improve logging of requests

 .../main/java/org/oasis_open/wemi/context/server/HttpUtils.java  | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 41fdc0e4931e5c64a5fc833da696c1ee9d72ced3
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 20 10:40:05 2014 +0200

    Add goal1 segment definition and add definition types and related handling on load.

 .../server/impl/services/SegmentServiceImpl.java    | 21 ++++++++++++++-------
 .../resources/META-INF/segments/alwaysTrue.json     |  2 +-
 .../resources/META-INF/segments/goal1Reached.json   |  7 +++++++
 .../resources/META-INF/segments/maleGender.json     |  2 +-
 .../main/resources/META-INF/segments/segmentA.mvel  |  0
 5 files changed, 23 insertions(+), 9 deletions(-)

commit ad02d516da8f6eaed8faeb2cac15563fbbe5bd7d
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 19 16:39:00 2014 +0200

    Fixed segment service initialization to properly load queries from JSON definitions

 .../wemi/context/server/impl/services/SegmentServiceImpl.java    | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit c3620fc8546c999771a79f7175a8d4c65c245e25
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 19 16:32:00 2014 +0200

    Segment queries are now loaded properly but for some strange reason the CDI container instantiates two instances of the SegmentService, and only the first one (not fully initialized) is used.

 wemi-context-server/services/pom.xml               |  6 ++
 .../server/impl/services/SegmentServiceImpl.java   | 88 +++++++++++++++++++++-
 .../resources/META-INF/segments/alwaysTrue.json    |  9 +++
 .../resources/META-INF/segments/maleGender.json    | 13 ++++
 4 files changed, 113 insertions(+), 3 deletions(-)

commit 0aaa7cc628c94042b46700b2a1efe516cb125c9b
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 19 11:00:41 2014 +0200

    Start integrating requirements for WEMI Context server but it's not working yet.

 pom.xml                             | 46 +++++++++++++++++++++++--------------
 wemi-context-server/package/pom.xml | 24 +++++++++++++++++++
 2 files changed, 53 insertions(+), 17 deletions(-)

commit ad91ee27671c78eaf328452276d1dfb90c8b96d3
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 19 10:30:53 2014 +0200

    Start integrating Karaf Assembly system, but not yet doing much

 wemi-context-server/package/pom.xml | 62 ++++++++++++++++++++++++++++++-------
 1 file changed, 50 insertions(+), 12 deletions(-)

commit 9d774787e31aa5be3c45aa2a44d2fb90c7d0b054
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 17 17:47:26 2014 +0200

    - Properly update digitalData object after saving it
    - Properly call registered update callbacks after save

 .../server/impl/services/SegmentServiceImpl.java   |  1 +
 .../wemi/context/server/ScriptFilter.java          | 72 +++++++++++++---------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  5 ++
 3 files changed, 48 insertions(+), 30 deletions(-)

commit 81a8222be554ede7818b4db514b27197de40e28c
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 17 16:31:31 2014 +0200

    - Make eventcollector work properly
    - Don't include base script in POST requests
    - Improve logging in Javascript base script

 .../org/oasis_open/wemi/context/server/EventCollectorServlet.java | 8 ++------
 .../java/org/oasis_open/wemi/context/server/ScriptFilter.java     | 8 +++++---
 .../wab/src/main/webapp/WEB-INF/javascript/base.js                | 6 +++---
 3 files changed, 10 insertions(+), 12 deletions(-)

commit 6f243f565a90bc59a1aab3c14c038f31033062b1
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 17 15:49:14 2014 +0200

    Fixing some issues with index initial creation and avoiding to store invalid properties

 .../elasticsearch/ElasticSearchPersistenceServiceImpl.java |  3 +++
 .../org/oasis_open/wemi/context/server/ScriptFilter.java   | 14 +++++++++-----
 2 files changed, 12 insertions(+), 5 deletions(-)

commit dd6bb1b85a7207cf5ec4bd48128a9725c9295de8
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 17 07:51:54 2014 +0200

    Move Jahia modules to different git project

 pom.xml | 13 -------------
 1 file changed, 13 deletions(-)

commit 576171d1dd443c8db3949cdc59f9981d9bd81e40
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 17 07:47:54 2014 +0200

    Moving Jahia-specific modules to seperate project

 jahia-modules/pom.xml                              | 117 -------------
 jahia-modules/wem-admin/pom.xml                    |  30 ----
 .../src/main/resources/META-INF/definitions.cnd    |  10 --
 .../resources/css/twin-col-tree-nav-directive.css  |  50 ------
 .../wem-admin/src/main/resources/css/wem.css       |  45 -----
 .../src/main/resources/javascript/draganddrop.js   | 166 ------------------
 .../main/resources/javascript/manage-segments.js   |  72 --------
 .../javascript/twin-col-tree-nav-directive.js      | 156 -----------------
 .../html/serverSettingsManageSegments.jsp          |  41 -----
 .../src/main/resources/segment-editor.html         | 189 ---------------------
 jahia-modules/wem-components/pom.xml               |  77 ---------
 .../wemi/WemSegmentChoiceListInitializer.java      |  74 --------
 .../org/jahia/modules/wemi/WemSegmentFilter.java   |  68 --------
 .../modules/wemi/WemiApplicationListener.java      |  71 --------
 .../org/jahia/modules/wemi/WemiScriptFilter.java   | 150 ----------------
 .../org/jahia/modules/wemi/WemiWrapperFilter.java  |  28 ---
 .../src/main/resources/META-INF/definitions.cnd    |  56 ------
 .../META-INF/scripts/wemFacebookLogin.groovy       | 106 ------------
 .../META-INF/scripts/wemiContextServer.groovy      |  15 --
 .../resources/META-INF/spring/wem-components.xml   |  81 ---------
 .../wem-components/src/main/resources/css/wem.css  |  21 ---
 .../src/main/resources/javascript/wem.js           |  36 ----
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 101 -----------
 .../html/wemSetProperty.wemWrapper.jsp             |  35 ----
 .../html/wemFacebookLoginButton.jsp                |   5 -
 .../resources/WemComponents_en.properties          |  10 --
 26 files changed, 1810 deletions(-)

commit b5c274abecb52efebedaaba9007bf706e86d82b8
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 16 11:47:06 2014 +0200

    Rename properties to avoid conflicts when we activate multiple mixins at the same time

 .../src/main/resources/META-INF/definitions.cnd              | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 376b14bb33b4b5354d4fd0e720a33512a111aafd
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 10 17:40:38 2014 +0200

    - Get property set to work.

 .../src/main/resources/META-INF/definitions.cnd               |  4 ++--
 .../jmix_wemSetProperty/html/wemSetProperty.wemWrapper.jsp    | 11 +++++------
 2 files changed, 7 insertions(+), 8 deletions(-)

commit 443ca92b4ed6b297997aee10662cb6a824c19049
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 10 17:30:25 2014 +0200

    - Add new WrapperFilter to be able to easily add wrapper for mixin types
    - Move common Javascript method into module Javascript resource
    - Introduce new mixin type to set a WEMI user profile property (not yet working)
    - Start implementing WEMI context server event collector (not tested yet) as well as EventListener OSGi services
    - Added WEMI DigitalData update Javascript callbacks

 .../modules/wemi/WemiApplicationListener.java      |  3 +
 .../org/jahia/modules/wemi/WemiWrapperFilter.java  | 28 +++++++
 .../src/main/resources/META-INF/definitions.cnd    | 16 +++-
 .../resources/META-INF/spring/wem-components.xml   |  9 +++
 .../src/main/resources/javascript/wem.js           | 36 +++++++++
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 40 +---------
 .../html/wemSetProperty.wemWrapper.jsp             | 36 +++++++++
 .../oasis_open/wemi/context/server/api/Event.java  | 21 ++++-
 .../server/api/services/EventListenerService.java  | 12 +++
 .../context/server/api/services/EventService.java  |  7 ++
 .../server/impl/services/EventServiceImpl.java     | 34 +++++++++
 .../wemi/context/server/EventCollectorServlet.java | 89 ++++++++++++++++++++++
 .../oasis_open/wemi/context/server/HttpUtils.java  | 74 ++++++++++++++++++
 .../wemi/context/server/ScriptFilter.java          | 62 ++-------------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 14 ++++
 15 files changed, 384 insertions(+), 97 deletions(-)

commit 7faf5f7f3bc926b42720ad9d248ca877ecb6e929
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 10 11:55:51 2014 +0200

    - Add onUpdate callbacks when WEMI profile is sent successfully to the server
    - Add new definitions for content views, clicks and hovering

 jahia-modules/pom.xml                              |  1 +
 .../src/main/resources/META-INF/definitions.cnd    | 17 +++-
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 90 +++++++++++++++-------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  8 +-
 4 files changed, 86 insertions(+), 30 deletions(-)

commit c223a5ff8ca9b90aad1c5809068cfb5ae40eb31e
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Jun 7 16:57:28 2014 +0200

    Working on Login/Logout listeners to populate context server with Jahia user data

 .../modules/wemi/WemiApplicationListener.java      | 68 ++++++++++++++++++++++
 .../resources/META-INF/spring/wem-components.xml   |  4 ++
 2 files changed, 72 insertions(+)

commit 8514127cb1728a23427895c851a6f76bbd21cb9a
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Jun 7 15:35:38 2014 +0200

    - Introduce callback mechanism for digital data loading
    - Removing request header and cookie dumping since it now works

 .../META-INF/scripts/wemFacebookLogin.groovy       | 15 +++-
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 25 ++++---
 .../wemi/context/server/ScriptFilter.java          | 79 ++++++++++++----------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 11 ++-
 4 files changed, 82 insertions(+), 48 deletions(-)

commit f8d4cbbf131cb2516209a8c2ef6b8cf9282e6db1
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Jun 7 09:07:20 2014 +0200

    Add merge function

 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 60 ++++++++++++++++------
 1 file changed, 43 insertions(+), 17 deletions(-)

commit cb0f87229104d49b38510e657e60f2523f88d644
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 6 23:29:16 2014 +0200

    Fix user type, we now have proper saving and loading of user data.

 .../api/src/main/java/org/oasis_open/wemi/context/server/api/User.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 2a3b94af0a3c438a7d5e98d54862847ce5acf089
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 6 17:53:36 2014 +0200

    CORS communication now seems to work, we now have to solve ElasticSearch serialization issues

 .../html/wemSegmentFilter.segmentWrapper.jsp       | 10 ++-
 .../wemi/context/server/ScriptFilter.java          | 85 ++++++++++++++++------
 .../wab/src/main/webapp/WEB-INF/javascript/base.js | 46 ++++++++----
 3 files changed, 102 insertions(+), 39 deletions(-)

commit 061e9232bc9a680504e7bc2bca9f268ccf6c8902
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Jun 6 11:35:43 2014 +0200

    Working on CORS issues

 .../wemi/context/server/ScriptFilter.java          | 90 +++++++++++++---------
 1 file changed, 52 insertions(+), 38 deletions(-)

commit a5b3fb278907ac08232cc2efef70e0214671465a
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 17:02:56 2014 +0200

    Add Facebook login button and add CORS support

 .../wem-components/src/main/resources/META-INF/definitions.cnd       | 3 +++
 .../src/main/resources/META-INF/scripts/wemFacebookLogin.groovy      | 2 +-
 .../jnt_wemFacebookLoginButton/html/wemFacebookLoginButton.jsp       | 5 +++++
 .../src/main/resources/resources/WemComponents_en.properties         | 3 ++-
 .../main/java/org/oasis_open/wemi/context/server/ScriptFilter.java   | 5 +++++
 5 files changed, 16 insertions(+), 2 deletions(-)

commit 61a39b2bd064785156b5aa6ea88983fdbab84dac
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 16:21:49 2014 +0200

    Add CSS rendering for edit mode

 .../src/main/resources/META-INF/definitions.cnd    |  4 +
 .../META-INF/scripts/wemFacebookLogin.groovy       | 95 ++++++++++++++++++++++
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 23 ++++--
 .../resources/WemComponents_en.properties          |  6 +-
 4 files changed, 119 insertions(+), 9 deletions(-)

commit 5e39e2c2488cc67a287d5468bd448dbc7b39ac83
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 15:19:51 2014 +0200

    Add CSS rendering for edit mode

 .../wem-components/src/main/resources/css/wem.css   | 21 +++++++++++++++++++++
 .../html/wemSegmentFilter.segmentWrapper.jsp        |  7 +++++--
 2 files changed, 26 insertions(+), 2 deletions(-)

commit 6aaa2d34cd11d099c563579d72945e713b543360
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 15:04:44 2014 +0200

    Very hacking but the personalization using segments now seems to work. We will need to improve the wait system with some kind of callback mechanism

 .../jmix_wemSegmentFilter/html/wemSegmentFilter.segmentWrapper.jsp | 7 +++++++
 1 file changed, 7 insertions(+)

commit 7a74f3682a823401693e4657efb4708c40f08634
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 14:59:47 2014 +0200

    Very hacking but the personalization using segments now seems to work. We will need to improve the wait system with some kind of callback mechanism

 .../org/jahia/modules/wemi/WemSegmentFilter.java   |  1 -
 .../org/jahia/modules/wemi/WemiScriptFilter.java   |  2 +-
 .../resources/META-INF/spring/wem-components.xml   |  2 +-
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 68 +++++++++++++++++++---
 .../wemi/context/server/ScriptFilter.java          |  1 +
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  4 +-
 wemi-context-server/wab/src/main/webapp/index.html |  8 +--
 7 files changed, 71 insertions(+), 15 deletions(-)

commit 38c2efc8651d218c89ecf00b2ec7e943c680b8cf
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Jun 5 12:17:35 2014 +0200

    Segment filtering wrapper is in place, all we need is to implement the Javascript now :)

 jahia-modules/wem-components/pom.xml               |  7 ++
 .../wemi/WemSegmentChoiceListInitializer.java      | 12 ++-
 .../org/jahia/modules/wemi/WemSegmentFilter.java   | 69 +++++++++++++++
 .../org/jahia/modules/wemi/WemiScriptFilter.java   | 97 ++++++++++++++--------
 .../src/main/resources/META-INF/definitions.cnd    |  7 +-
 ...text-script.groovy => wemiContextServer.groovy} |  0
 .../resources/META-INF/spring/wem-components.xml   | 52 +++++++++++-
 .../html/wemSegmentFilter.segmentWrapper.jsp       | 17 ++++
 .../resources/WemComponents_en.properties          |  5 ++
 9 files changed, 227 insertions(+), 39 deletions(-)

commit 0238c0f54550d39a662f44a84ea1036eb76f2a2e
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 4 17:17:48 2014 +0200

    Add a name and description to the SegmentID

 .../wemi/WemSegmentChoiceListInitializer.java      |  3 ---
 .../wemi/context/server/api/SegmentID.java         | 24 ++++++++++++++++++++++
 .../server/impl/services/SegmentServiceImpl.java   |  4 ++--
 3 files changed, 26 insertions(+), 5 deletions(-)

commit b4508496b0a2eb0cffce10ee8370ba11fdf2f482
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Jun 4 17:09:38 2014 +0200

    - Choice list initializer now works
    - Context script is now properly loaded from the WEMI server

 jahia-modules/pom.xml                              | 129 ++++++++++++++++++---
 jahia-modules/wem-components/pom.xml               |  23 ++--
 .../wemi/WemSegmentChoiceListInitializer.java      |  28 ++---
 .../META-INF/scripts/wemi-context-script.groovy    |   2 +-
 4 files changed, 143 insertions(+), 39 deletions(-)

commit eb180f492dd09c590619655e4f3f94235273b778
Author: Serge Huber <shuber@jahia.com>
Date:   Tue Jun 3 15:18:51 2014 +0200

    Make segment ID retrieval work

 .../org/oasis_open/wemi/context/server/api/ConditionTag.java | 11 +++++++++++
 wemi-context-server/kar/src/main/feature/feature.xml         |  6 ++++++
 wemi-context-server/rest/pom.xml                             |  5 +++++
 .../wemi/context/server/rest/SegmentServiceEndPoint.java     | 12 ++++++++++++
 .../rest/src/main/resources/OSGI-INF/blueprint/blueprint.xml |  4 ++++
 5 files changed, 38 insertions(+)

commit d692a768a1a0b37bfd6ae16e6c216ace6ff1f852
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 2 16:56:16 2014 +0200

    - Some cleanups
    - Start implementing choice list initializer for WEM segments
    - Start working on more Jahia components for conditional rendering based on segments

 .../main/resources/javascript/manage-segments.js   | 46 +++------------
 jahia-modules/wem-components/pom.xml               | 18 ++++++
 .../wemi/WemSegmentChoiceListInitializer.java      | 69 ++++++++++++++++++++++
 .../org/jahia/modules/wemi/WemiScriptFilter.java   |  2 +-
 .../src/main/resources/META-INF/definitions.cnd    | 10 ++++
 .../resources/META-INF/spring/wem-components.xml   |  5 ++
 pom.xml                                            |  1 +
 7 files changed, 112 insertions(+), 39 deletions(-)

commit bf94e7e83e9768c7cc3875ccbb3074bfcaf16fef
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Jun 2 14:41:29 2014 +0200

    Add drop target highlighting

 jahia-modules/wem-admin/src/main/resources/css/wem.css         | 10 ++++++++++
 .../wem-admin/src/main/resources/javascript/draganddrop.js     |  2 ++
 .../main/resources/javascript/twin-col-tree-nav-directive.js   |  2 +-
 jahia-modules/wem-components/pom.xml                           |  6 ++++++
 wemi-context-server/wab/src/main/webapp/index.html             |  2 --
 5 files changed, 19 insertions(+), 3 deletions(-)

commit 6b2446971192bc4b84aa532e53c23ead6bb1ab6b
Author: Serge Huber <shuber@jahia.com>
Date:   Sat May 31 18:40:11 2014 +0200

    - Work on filter to make it functional
    - Integrate rendering script

 .../org/jahia/modules/wemi/WemiScriptFilter.java   | 39 +++++++++++-----------
 .../META-INF/scripts/wemi-context-script.groovy    | 29 ++++++++--------
 .../resources/META-INF/spring/wem-components.xml   |  2 +-
 wemi-context-server/wab/src/main/webapp/index.html | 10 +++---
 4 files changed, 40 insertions(+), 40 deletions(-)

commit 8d22b8904c93f1e8d5e169ae577e47978bbe0b9b
Author: Serge Huber <shuber@jahia.com>
Date:   Sat May 31 18:31:14 2014 +0200

    Start integrating WEMI context server script based on what we have done for our Google Analytics filter

 jahia-modules/wem-components/pom.xml               |   9 ++
 .../org/jahia/modules/wemi/WemiScriptFilter.java   | 120 +++++++++++++++++++++
 .../src/main/resources/META-INF/definitions.cnd    |  11 ++
 .../META-INF/scripts/wemi-context-script.groovy    |  16 +++
 .../resources/META-INF/spring/wem-components.xml   |  13 +++
 5 files changed, 169 insertions(+)

commit 0a8d387b972e494585bd02b99b1f3a0768a4620b
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 28 22:21:41 2014 +0200

    Use badge CSS class for list arrow

 .../src/main/resources/javascript/twin-col-tree-nav-directive.js      | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ab1bb6202362f89c8dfd13099bf43b23ea40bcba
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 28 22:14:41 2014 +0200

    Fix drill down

 .../wem-admin/src/main/resources/javascript/manage-segments.js     | 2 +-
 .../src/main/resources/javascript/twin-col-tree-nav-directive.js   | 7 +++++++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit d2941a7280a6d6052ecf028ea6b49c9e319abbd6
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 28 16:59:56 2014 +0200

    Start building condition tree but not yet fully working.

 .../main/resources/javascript/manage-segments.js   | 48 ++++++++++++++++++++++
 .../src/main/resources/segment-editor.html         |  2 +-
 2 files changed, 49 insertions(+), 1 deletion(-)

commit fcabd8ba742e3a45ecacdae78d2e1b5f54eb8552
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 28 16:08:23 2014 +0200

    Start populating with real looking conditions

 .../main/resources/javascript/manage-segments.js   | 75 +++++++++++-----------
 .../javascript/twin-col-tree-nav-directive.js      |  2 +-
 .../src/main/resources/segment-editor.html         | 68 +++++++++++++++-----
 3 files changed, 91 insertions(+), 54 deletions(-)

commit 4fbdaea4e59d2457f3ff4e1c336d36b78737b1a7
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 28 15:55:45 2014 +0200

    Working on segment editing UI, implementing a prototype using AngularJS, drag and drop and Miller column navigation

 .../resources/css/twin-col-tree-nav-directive.css  |  50 +++++++
 .../src/main/resources/javascript/draganddrop.js   | 164 +++++++++++++++++++++
 .../main/resources/javascript/manage-segments.js   |  51 +++++++
 .../javascript/twin-col-tree-nav-directive.js      | 149 +++++++++++++++++++
 .../src/main/resources/segment-editor.html         | 155 +++++++++++++++++++
 5 files changed, 569 insertions(+)

commit cd8aef608419275bcb51ae62a451af204050ff0f
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 27 16:49:04 2014 +0200

    Started Jahia modules to administer and use the WEMI context server

 jahia-modules/pom.xml                              | 19 ++++++++++
 jahia-modules/wem-admin/pom.xml                    | 30 ++++++++++++++++
 .../src/main/resources/META-INF/definitions.cnd    | 10 ++++++
 .../wem-admin/src/main/resources/css/wem.css       | 35 ++++++++++++++++++
 .../html/serverSettingsManageSegments.jsp          | 41 ++++++++++++++++++++++
 jahia-modules/wem-components/pom.xml               | 30 ++++++++++++++++
 pom.xml                                            |  1 +
 7 files changed, 166 insertions(+)

commit 6cc04b9cd5694b60e8c85752ddd65f13a774e536
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 27 10:12:17 2014 +0200

    Initial work on ConditionNodes

 README.md                                          |  7 +++-
 .../wemi/context/server/api/AndConditionNode.java  | 26 ++++++++++++
 .../wemi/context/server/api/Condition.java         | 12 +++++-
 .../wemi/context/server/api/ConditionNode.java     | 27 ++++++++++++
 .../context/server/api/ConditionParameter.java     |  8 +++-
 .../wemi/context/server/api/ConditionTag.java      | 48 +++++++++++++++++++++-
 .../server/api/ListOperatorConditionNode.java      | 19 +++++++++
 .../wemi/context/server/api/OrConditionNode.java   | 26 ++++++++++++
 .../wemi/context/server/api/SegmentDefinition.java |  1 +
 .../wemi/context/server/ScriptFilter.java          |  2 +
 10 files changed, 171 insertions(+), 5 deletions(-)

commit 3cfa13c06569e60cc0a120fccbdc84cc80f1f755
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 23 16:20:40 2014 +0200

    Re-use existing visitorID if there is one when creating the user.

 .../org/oasis_open/wemi/context/server/ScriptFilter.java     | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit add15a780c24d7596159b090c0cf3e2c6b96161a
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 23 10:38:04 2014 +0200

    Retrieve user segments at page load time

 .../wemi/context/server/api/SegmentID.java         |  4 ++
 .../ElasticSearchPersistenceServiceImpl.java       |  3 ++
 .../wemi/context/server/ScriptFilter.java          | 50 +++++++++++++++++-----
 3 files changed, 47 insertions(+), 10 deletions(-)

commit 7ccf6fc8144aa83610753c4ed1712c4b1b425f4d
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 20 17:14:10 2014 +0200

    Added null-safe expression. Now matches properly but we still have an issue when rendering the output. We need to switch to Jackson for JSON mappings to work properly with collections

 .../wemi/context/server/impl/services/SegmentServiceImpl.java           | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f0de1b5eed011dd61a8c5ace4dbd94e84d22781
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 20 16:49:16 2014 +0200

    Working on accessing user properties from MVEL, but it's not working yet.

 .../wemi/context/server/impl/services/SegmentServiceImpl.java           | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54f1e4b0e56648038da2e8ce7ce69e85101d91d4
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 20 16:37:04 2014 +0200

    Start implementing WEMI segments as MVEL conditions (for the moment hardcoded)

 README.md                                          |  6 ++--
 .../wemi/context/server/api/SegmentDefinition.java | 17 ++++++++++
 .../wemi/context/server/api/SegmentID.java         | 27 ++++++++++++++-
 wemi-context-server/services/pom.xml               | 10 ++++++
 .../server/impl/services/SegmentServiceImpl.java   | 38 +++++++++++++++++++---
 .../main/resources/META-INF/segments/segmentA.mvel |  0
 6 files changed, 89 insertions(+), 9 deletions(-)

commit e8dee8b0afb3b9701aa3c17ea85119cc295170cd
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 14 16:30:34 2014 +0200

    Change default cookie name

 .../main/java/org/oasis_open/wemi/context/server/ScriptFilter.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7b581565c0d1c08edba52fa795ce2f5f6d01a943
Author: Serge Huber <shuber@jahia.com>
Date:   Wed May 14 16:29:27 2014 +0200

    Initial storage and retrieval of profile information, although using a very basic structure for the moment (no nested JSON structures allowed for the moment.

 .../ElasticSearchPersistenceServiceImpl.java       |  6 ++---
 .../wemi/context/server/ScriptFilter.java          | 26 +++++++++++++++++++---
 wemi-context-server/wab/src/main/webapp/index.html |  4 +++-
 3 files changed, 29 insertions(+), 7 deletions(-)

commit 3d61130b8df9316c54638a23bd52c8b7816db759
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 13 17:35:58 2014 +0200

    Integrate JSON parser to be able to update user info

 wemi-context-server/persistence-elasticsearch/pom.xml   |  6 ++++++
 .../ElasticSearchPersistenceServiceImpl.java            |  5 +++++
 wemi-context-server/wab/pom.xml                         | 17 +++++++++++++++++
 .../oasis_open/wemi/context/server/ScriptFilter.java    | 10 +++++++++-
 .../wab/src/main/webapp/WEB-INF/javascript/base.js      |  2 +-
 5 files changed, 38 insertions(+), 2 deletions(-)

commit 6a1af151a537068f6ba4666b860153546b375161
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 6 17:34:06 2014 +0200

    Start working on saving submitted digitalData JS object.

 .../main/java/org/oasis_open/wemi/context/server/ScriptFilter.java    | 4 ++++
 1 file changed, 4 insertions(+)

commit c45ca187b256205b2f2f98dc67341d02ad8c76b5
Author: Serge Huber <shuber@jahia.com>
Date:   Tue May 6 17:28:51 2014 +0200

    Start working on saving submitted digitalData JS object.

 .../java/org/oasis_open/wemi/context/server/ScriptFilter.java | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 65900c5f78fb775b8eb6a2badf71422123486adc
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 12:16:10 2014 +0200

    Start integrating WEMI context saving

 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  55 +++++--
 wemi-context-server/wab/src/main/webapp/index.html | 180 +++++++++++----------
 2 files changed, 134 insertions(+), 101 deletions(-)

commit 75cfe931f3672cd84fa6508fbd39928c7a85bdd0
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 10:20:36 2014 +0200

    Try to fix code indentation

 README.md | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 838b6798b225e4670e4fbe2f24c284c8bcc10abc
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 10:19:29 2014 +0200

    Try to fix code indentation

 README.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit df5250d02626f50481bc0b293142dd37cd424e03
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 10:15:12 2014 +0200

    Document example page.

 README.md | 51 ++++++++++++++++++++++++++++++++-------------------
 1 file changed, 32 insertions(+), 19 deletions(-)

commit 2aa73de59893960c4bd38ef68faba46d657b74ba
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 10:12:26 2014 +0200

    Fix typo

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6871b0717914743cbc75392b607b6909ce5934bf
Author: Serge Huber <shuber@jahia.com>
Date:   Mon May 5 10:12:02 2014 +0200

    Update README to indicate JVM parameter changes

 README.md | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 0c8852963d0b287b10ca90a704108bbf2f88f0bd
Author: Serge Huber <shuber@jahia.com>
Date:   Sun May 4 22:00:43 2014 +0200

    Actually store and retrieve items from the Elastic Search persistence store

 .../oasis_open/wemi/context/server/api/Item.java   | 12 ++++
 .../oasis_open/wemi/context/server/api/User.java   |  9 +++
 .../context/server/api/services/UserService.java   |  2 +
 .../ElasticSearchPersistenceServiceImpl.java       | 68 +++++++++++++++++++---
 .../server/persistence/spi/PersistenceService.java |  6 +-
 .../server/impl/services/UserServiceImpl.java      | 12 ++++
 .../wemi/context/server/ScriptFilter.java          | 44 +++++++-------
 7 files changed, 120 insertions(+), 33 deletions(-)

commit d38f0a1d6fb7559320c7e9e5cb6b130fdcdc169c
Author: Serge Huber <shuber@jahia.com>
Date:   Sat May 3 16:52:08 2014 +0200

    Start implementing persistence service

 .../oasis_open/wemi/context/server/api/Item.java   |  4 +++
 .../ElasticSearchPersistenceServiceImpl.java       | 40 ++++++++++++++++++++++
 2 files changed, 44 insertions(+)

commit d4ed026f01050ba1dac89f91eb1e636b4375a155
Author: Serge Huber <shuber@jahia.com>
Date:   Sat May 3 16:33:05 2014 +0200

    Elastic search now starts up

 wemi-context-server/kar/pom.xml                    |  5 +++++
 .../kar/src/main/feature/feature.xml               | 18 +----------------
 .../persistence-elasticsearch/pom.xml              |  1 +
 .../ElasticSearchPersistenceServiceImpl.java       | 20 ++++++++++++++++---
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 23 ++++++++++++++++++++++
 wemi-context-server/services/pom.xml               |  4 ++++
 6 files changed, 51 insertions(+), 20 deletions(-)

commit 2028b80934f311973618c0fe81ad658ecd2ba150
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 2 23:24:22 2014 +0200

    Copy Facebook data to common WEMI data object

 wemi-context-server/wab/src/main/webapp/index.html | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 0239f06f0e2d780f1640a2774f58c67bd1730f5f
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 2 23:10:19 2014 +0200

    Make WEMI context server script load asynchronously too

 wemi-context-server/wab/src/main/webapp/index.html | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit fd7c99b9552a910bc6d7312e025eab00f0117115
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 2 23:05:43 2014 +0200

    Start integration with Facebook login

 wemi-context-server/wab/src/main/webapp/index.html | 93 ++++++++++++++++++++++
 1 file changed, 93 insertions(+)

commit 8fe51f2dcc0fbbe53ed06749616566fca426c91a
Author: Serge Huber <shuber@jahia.com>
Date:   Fri May 2 22:46:21 2014 +0200

    - Added persistence SPI interface to provide pluggeable backend persistence providers
    - Started elastic search provider
    - Improved context.js javascript and filter to actually create a cookie and a visitorID

 .../oasis_open/wemi/context/server/api/Item.java   | 23 ++++++
 wemi-context-server/kar/pom.xml                    |  8 ++
 .../kar/src/main/feature/feature.xml               | 19 +++++
 .../persistence-elasticsearch/pom.xml              | 86 ++++++++++++++++++++++
 .../ElasticSearchPersistenceServiceImpl.java       | 41 +++++++++++
 wemi-context-server/persistence-spi/pom.xml        | 39 ++++++++++
 .../server/persistence/spi/PersistenceService.java | 17 +++++
 wemi-context-server/pom.xml                        |  2 +
 wemi-context-server/services/pom.xml               |  7 ++
 .../wemi/context/server/ScriptFilter.java          | 49 +++++++++---
 10 files changed, 281 insertions(+), 10 deletions(-)

commit b164edf9ea31108745c62d8340e11f1e982f8b0c
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 1 22:22:54 2014 +0200

    Start work on HTML and Javascript to be able to interact with REST services and perform basic tracking examples

 .../wab/src/main/webapp/WEB-INF/javascript/base.js      | 17 +++++++++++++++++
 wemi-context-server/wab/src/main/webapp/index.html      | 10 ++++++++++
 2 files changed, 27 insertions(+)

commit d2afc64ed51b805e2197f33008176ef96e84fafd
Author: Serge Huber <shuber@jahia.com>
Date:   Thu May 1 09:54:47 2014 +0200

    Change CXF end point exposition using OSGi Blueprint instead of PAX CDI
    We now have SOAP and REST APIs working properly

 .../oasis_open/wemi/context/server/api/Item.java   |  3 +
 .../wemi/context/server/api/SegmentID.java         |  4 ++
 .../oasis_open/wemi/context/server/api/User.java   |  4 ++
 wemi-context-server/rest/pom.xml                   | 25 --------
 .../wemi/context/server/rest/BusFactory.java       | 15 -----
 .../wemi/context/server/rest/CXFEndPoint.java      | 16 -----
 .../context/server/rest/EndPointPublisher.java     | 72 ----------------------
 .../server/rest/SegmentServiceEndPoint.java        | 10 +--
 .../wemi/context/server/rest/WemiServlet.java      | 45 --------------
 .../rest/src/main/resources/META-INF/beans.xml     |  0
 .../resources/OSGI-INF/blueprint/blueprint.xml     | 35 +++++++++++
 11 files changed, 52 insertions(+), 177 deletions(-)

commit 7c1210c478a9daa0ffbab922825734b3e1dee835
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 30 17:08:55 2014 +0200

    REST services seems to work but strangely they are mapped on the /cxf path instead of /wemi

 .../org/oasis_open/wemi/context/server/api/Item.java |  6 ++++++
 .../wemi/context/server/api/SegmentID.java           |  6 ++++++
 .../org/oasis_open/wemi/context/server/api/User.java |  3 +++
 .../wemi/context/server/rest/EndPointPublisher.java  |  1 +
 .../context/server/rest/SegmentServiceEndPoint.java  | 20 +++++++++++++++-----
 5 files changed, 31 insertions(+), 5 deletions(-)

commit 2bec47c636aa3b64569e8e17a7d70cfc01cde2e7
Author: Serge Huber <shuber@jahia.com>
Date:   Mon Apr 28 17:06:51 2014 +0200

    Remove embedding of API class

 .../wemi/context/server/rest/EndPointPublisher.java          | 12 ++++++++++--
 .../org/oasis_open/wemi/context/server/rest/WemiServlet.java |  9 +++++++++
 .../wemi/context/server/impl/services/UserServiceImpl.java   |  2 ++
 3 files changed, 21 insertions(+), 2 deletions(-)

commit 56933becce0a34697332369fcb95434663913b8a
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Apr 27 22:54:12 2014 +0200

    Split services and rest into two bundles, hoping this will resolve CDI startup, but it didn't :(

 .../kar/src/main/feature/feature.xml               |   1 +
 wemi-context-server/pom.xml                        |   1 +
 wemi-context-server/rest/pom.xml                   | 104 +++++++++++++++++++++
 .../wemi/context/server/rest}/BusFactory.java      |   2 +-
 .../wemi/context/server/rest}/CXFEndPoint.java     |   2 +-
 .../context/server/rest/EndPointPublisher.java     |  63 +++++++++++++
 .../server/rest}/SegmentServiceEndPoint.java       |   8 +-
 .../wemi/context/server/rest}/WemiServlet.java     |   2 +-
 .../rest/src/main/resources/META-INF/beans.xml     |   0
 .../server/impl/services/SegmentServiceImpl.java   |   5 +
 10 files changed, 183 insertions(+), 5 deletions(-)

commit 4cf6a25357125eb6ed9ae8fa9998922a615ceb4a
Author: Serge Huber <shuber@jahia.com>
Date:   Sun Apr 27 22:12:39 2014 +0200

    Trying to setup CDI injection properly, but not yet working

 .../wemi/context/server/impl/services/SegmentServiceImpl.java         | 2 ++
 .../oasis_open/wemi/context/server/impl/services/UserServiceImpl.java | 4 ++++
 .../context/server/impl/services/cxf/cdi/SegmentServiceEndPoint.java  | 1 -
 .../wemi/context/server/impl/services/cxf/cdi/WemiServlet.java        | 3 ++-
 4 files changed, 8 insertions(+), 2 deletions(-)

commit 79282e81816b02c1a94c9a9bf76cab67673d65e3
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Apr 26 16:16:45 2014 +0200

    Start setting up a first JAX WS service endpoint

 .../oasis_open/wemi/context/server/api/Event.java  |  2 +-
 .../oasis_open/wemi/context/server/api/Item.java   |  2 +-
 .../oasis_open/wemi/context/server/api/User.java   |  2 +-
 .../server/impl/services/SegmentServiceImpl.java   | 48 +++++++++++++++++++
 .../services/cxf/cdi/SegmentServiceEndPoint.java   | 54 ++++++++++++++++++++++
 5 files changed, 105 insertions(+), 3 deletions(-)

commit ed4c3ba987c58bcb06b5348cd94062d4109b3715
Author: Serge Huber <shuber@jahia.com>
Date:   Sat Apr 26 16:00:21 2014 +0200

    Integrate PAX CXF and CDI to register services. For the moment only JAX WS is integrated, will have to also implement JAX RS support in EndPointPublisher

 pom.xml                                            | 42 ++++++++++++++++++++++
 wemi-context-server/services/pom.xml               | 32 +++++++++++++++++
 .../server/impl/services/cxf/cdi/BusFactory.java   | 15 ++++++++
 .../server/impl/services/cxf/cdi/CXFEndPoint.java  | 16 +++++++++
 .../server/impl/services/cxf/cdi/WemiServlet.java  | 35 ++++++++++++++++++
 5 files changed, 140 insertions(+)

commit def7a0c38581c4c90b6cd3b0bcf60035a90bfe91
Author: Serge Huber <shuber@jahia.com>
Date:   Fri Apr 25 15:49:32 2014 +0200

    Manually set import package since BND somehow fails to see it !

 wemi-context-server/wab/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 880b45213e1af6cd9a4484ac5a70b3d76da222b2
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Apr 24 22:06:37 2014 +0200

    Add start levels to make sure that the service is available because of a re-entrant bug in PAX CDI

 wemi-context-server/kar/src/main/feature/feature.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ea7b9f08aa4f715fe579b3c99b16d9369070c56e
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Apr 24 17:12:06 2014 +0200

    Remove embedding of API class

 README.md                            | 5 +++--
 wemi-context-server/kar/pom.xml      | 5 +++++
 wemi-context-server/services/pom.xml | 1 +
 wemi-context-server/wab/pom.xml      | 1 +
 4 files changed, 10 insertions(+), 2 deletions(-)

commit daeb5827be1f79e3bdcd1ae8aa1de0ef5780dea0
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Apr 24 14:10:35 2014 +0200

    - Start using CDI for injection (not working yet)

 README.md                                          |  9 +++---
 .../kar/src/main/feature/feature.xml               |  2 ++
 wemi-context-server/services/pom.xml               | 33 ++++++++++++++++++++++
 .../server/impl/services/UserServiceImpl.java      |  4 +++
 .../services/src/main/resources/META-INF/beans.xml |  0
 wemi-context-server/wab/pom.xml                    | 33 ++++++++++++++++++++++
 .../wemi/context/server/ScriptFilter.java          | 22 +++++++++++++++
 .../wab/src/main/webapp/WEB-INF/beans.xml          |  0
 8 files changed, 99 insertions(+), 4 deletions(-)

commit 65393cefb10431564e410a7e1c567b79d5c961b3
Author: Serge Huber <shuber@jahia.com>
Date:   Thu Apr 24 10:50:40 2014 +0200

    - Start work on the WEMI context server services and API
    - Add a Karaf feature to make deployment easier

 README.md                                          | 11 +++--
 wemi-context-server/api/pom.xml                    | 30 ++++++++++++++
 .../wemi/context/server/api/Condition.java         |  7 ++++
 .../context/server/api/ConditionParameter.java     |  7 ++++
 .../wemi/context/server/api/ConditionTag.java      |  7 ++++
 .../oasis_open/wemi/context/server/api/Event.java  |  7 ++++
 .../oasis_open/wemi/context/server/api/Item.java   |  7 ++++
 .../wemi/context/server/api/SegmentDefinition.java |  7 ++++
 .../wemi/context/server/api/SegmentID.java         |  7 ++++
 .../oasis_open/wemi/context/server/api/User.java   |  7 ++++
 .../server/api/services/AlgorithmService.java      |  7 ++++
 .../context/server/api/services/EventService.java  |  7 ++++
 .../context/server/api/services/ItemService.java   |  7 ++++
 .../context/server/api/services/QueryService.java  |  7 ++++
 .../server/api/services/SegmentService.java        | 22 ++++++++++
 .../context/server/api/services/UserService.java   | 16 ++++++++
 wemi-context-server/kar/pom.xml                    | 47 ++++++++++++++++++++++
 .../kar/src/main/feature/feature.xml               | 11 +++++
 wemi-context-server/pom.xml                        |  3 ++
 wemi-context-server/services/pom.xml               | 38 +++++++++++++++++
 .../server/impl/services/UserServiceImpl.java      | 21 ++++++++++
 wemi-context-server/wab/pom.xml                    |  5 +++
 22 files changed, 285 insertions(+), 3 deletions(-)

commit 4ad114bccc3d409f151acbc7eaccae5d02370889
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 23 17:06:03 2014 +0200

    Document Javascript integration (not tested yet)

 README.md | 21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 57316efa60dfcb9647a6ffe2715582e953da12e4
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 23 15:33:57 2014 +0200

    Quick documentation on how to build and deploy

 README.md | 29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit cf20b7c74a9740a59c32a86790fbfd2b2af6a233
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 23 15:23:57 2014 +0200

    First implementation of an OSGi WAB servlet filter using servlet API 3.0 running in Karaf 3.0.1

 wemi-context-server/wab/pom.xml                    | 72 +++++++++++++---------
 .../wemi/context/server/ScriptFilter.java          | 54 ++++++++++++++++
 .../wab/src/main/webapp/WEB-INF/javascript/base.js |  1 +
 3 files changed, 99 insertions(+), 28 deletions(-)

commit 77bb6d7fbd422b9496958d9dfedab0a0432f655c
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 23 10:49:06 2014 +0200

    Initial project structure

 pom.xml                                            | 21 +++++++++++++++
 wemi-context-server/package/pom.xml                | 14 ++++++++++
 wemi-context-server/pom.xml                        | 19 +++++++++++++
 wemi-context-server/wab/pom.xml                    | 31 ++++++++++++++++++++++
 .../wab/src/main/webapp/WEB-INF/web.xml            |  5 ++++
 5 files changed, 90 insertions(+)

commit ea888826c6ba29b8ccd4bfa28524a194655b5e99
Author: Serge Huber <shuber@jahia.com>
Date:   Wed Apr 23 01:06:35 2014 -0700

    Initial commit

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

