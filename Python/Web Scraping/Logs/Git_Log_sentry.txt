commit 8b536800d20b70b6aa286cb1e7c6decec645a6af
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Nov 7 11:33:48 2019 -0600

    SENTRY-2535: SentryKafkaAuthorizer throws Exception when describing ACLs (Gergo Wilder, reviewed by Kalyan Kumar Kalvagadda)

 .../java/org/apache/sentry/kafka/ConvertUtil.java  | 15 +++++--
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  9 ++--
 .../sentry/kafka/authorizer/ConvertUtilTest.java   | 51 +++++++++++++++++++++-
 .../sentry/tests/e2e/kafka/TestAclsCrud.java       | 46 +++++++++++++++++++
 4 files changed, 111 insertions(+), 10 deletions(-)

commit be2e6e8ee17bc9e50bf55f39fea94c3826c64f44
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 18 12:36:01 2019 -0500

    SENTRY-2276 Sentry-Kafka integration does not support Kafka's Alter/DescribeConfigs and IdempotentWrite operations (Gergo Wilder reviewed by Kalyan Kumar Kalvagadda)
    
    Change-Id: Ie0b7add60affe9901765339344abaa3944b8fc7a

 .../sentry/kafka/authorizer/ConvertUtilTest.java   |  18 ++
 .../authorizer/SentryKafkaAuthorizerTest.java      |  28 ++-
 .../kafka/AbstractTestKafkaPolicyEngine.java       |  47 ++++-
 ...TestKafkaAuthorizationProviderGeneralCases.java |  72 +++++++-
 .../policy/kafka/TestKafkaModelAuthorizables.java  |   4 +
 .../policy/kafka/TestKafkaPrivilegeValidator.java  |  21 +++
 .../resources/kafka-policy-test-authz-provider.ini |  14 +-
 .../src/test/resources/sentry-site.xml             |   2 +-
 .../src/test/resources/test-authz-provider.ini     |  38 ----
 .../core/model/kafka/KafkaActionConstant.java      |   3 +
 .../core/model/kafka/KafkaActionFactory.java       |   6 +-
 .../sentry/core/model/kafka/KafkaAuthorizable.java |   6 +-
 .../core/model/kafka/KafkaModelAuthorizables.java  |   2 +
 .../core/model/kafka/KafkaPrivilegeModel.java      |   2 +
 .../sentry/core/model/kafka/TransactionalId.java   |  61 +++++++
 .../sentry/core/model/kafka/TestKafkaAction.java   | 197 ++++++++++-----------
 .../core/model/kafka/TestKafkaAuthorizable.java    |   6 +
 17 files changed, 374 insertions(+), 153 deletions(-)

commit 943b3e00ba4771e4005bc7eb25014b8bc640f0c8
Author: amishra <amishra@cloudera.com>
Date:   Tue Jul 9 14:31:22 2019 -0500

    SENTRY-2528: Format exception when fetching a full snapshot (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../org/apache/sentry/service/thrift/FullUpdateInitializer.java     | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 941ce0443de53938d7f9085a05ab928fd4c180b1
Author: amishra <amishra@cloudera.com>
Date:   Fri Jun 14 13:37:43 2019 -0500

    SENTRY-2240: User can DROP function under a database that he/she has no access (Arjun Mishra reviewed by Na Li)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  8 +--
 .../hive/authz/HiveAuthzBindingHookBase.java       |  5 ++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 12 +++-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 81 ++++++++++++++++++----
 4 files changed, 85 insertions(+), 21 deletions(-)

commit b71a78ed960702536b35e1f048dc40dfc79992d4
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Mon Jun 10 22:43:28 2019 -0700

    SENTRY-2523: Fix response of list_sentry_privileges_by_authorizable_and_user API (Hao Hao reviewed by Arjun Mishra)
    
    Change-Id: Idba4cda1a78cf7468e1a0c9f6c1c3223984f00f2

 .../TListSentryPrivilegesByAuthUserResponse.java   | 111 +++++++++++----------
 .../main/resources/sentry_policy_service.thrift    |   2 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |  12 ++-
 3 files changed, 72 insertions(+), 53 deletions(-)

commit 148ba6c225ac785844476213f3d70ccbf637e9ba
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Thu Jun 6 23:33:36 2019 -0700

    SENTRY-2522: Add a new thrift API for getting all privileges a user has for a given set of authorizable (Hao Hao reviewed by Arjun Mishra)
    
    Change-Id: Ie49d8ee57b840f21e3e8276914fcb6c950399aee

 .../api/service/thrift/SentryPolicyService.java    | 858 +++++++++++++++++++++
 .../TListSentryPrivilegesByAuthUserRequest.java    | 746 ++++++++++++++++++
 .../TListSentryPrivilegesByAuthUserResponse.java   | 598 ++++++++++++++
 .../main/resources/sentry_policy_service.thrift    |  19 +
 .../sentry/api/service/thrift/SentryMetrics.java   |   2 +
 .../service/thrift/SentryPolicyStoreProcessor.java |  94 +++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 127 ++-
 7 files changed, 2442 insertions(+), 2 deletions(-)

commit 505b42e81a9d85c4ebe8db3f48ad7a6e824a5db5
Author: amishra <amishra@cloudera.com>
Date:   Fri Mar 29 14:53:15 2019 -0400

    SENTRY-2511: Debug level logging on HMSPaths significantly affects performance (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 145 +++++++++++++++------
 1 file changed, 104 insertions(+), 41 deletions(-)

commit f859446b65bbc274bc4899464892151eec8217c6
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Feb 27 13:23:25 2019 -0600

    SENTRY-2503: Failed to revoke the privilege from impala-shell if the privilege added from beeline cli.

 .../db/service/persistent/QueryParamBuilder.java   |  19 +++
 .../db/service/persistent/SentryStore.java         |  44 +++--
 .../db/service/persistent/TestSentryStore.java     | 181 +++++++++++++++++++++
 3 files changed, 233 insertions(+), 11 deletions(-)

commit 6aaacd957df1c005e00064cc2e8c5c7d3fff99bc
Author: amishra <amishra@cloudera.com>
Date:   Mon Mar 4 12:10:34 2019 -0600

    SENTRY-2505: Fix TestRollingFileWithoutDeleteAppender test case testFileNamePattern (Arjun Mishra reviewed by Haley Reeve)

 .../db/log/appender/TestRollingFileWithoutDeleteAppender.java  | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 9820281569d0da85db58c8de06a18a99efd09b8b
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Feb 25 12:10:47 2019 -0600

    SENTRY-2496: Support multi-field attribute based document level controls for Solr. (Tristan Stevens reviewed by Hrishikesh Gadre and Kalyan Kumar Kalvagadda)
    
    Change-Id: Id4b3ebc7175634b915ec49f08783c9d83e9da270

 sentry-solr/solr-sentry-handlers/pom.xml           |   28 +-
 .../component/CachingUserAttributeSource.java      |   91 ++
 .../handler/component/FieldToAttributeMapping.java |  103 ++
 .../handler/component/LdapUserAttributeSource.java |  283 ++++
 .../component/LdapUserAttributeSourceParams.java   |  227 +++
 .../handler/component/SolrAttrBasedFilter.java     |  325 ++++
 .../handler/component/UserAttributeSource.java     |   45 +
 .../component/UserAttributeSourceParams.java       |   31 +
 .../component/CachingUserAttributeSourceTest.java  |  154 ++
 .../solr/handler/component/LdapRegexTest.java      |  130 ++
 .../handler/component/MockUserAttributeSource.java |   55 +
 sentry-tests/sentry-tests-solr/pom.xml             |    6 +
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  |   27 +
 .../sentry/tests/e2e/solr/TestAbacOperations.java  |  465 ++++++
 .../src/test/resources/ldap/ldap.ldiff             |  342 ++++
 .../src/test/resources/ldap/ldap.schema            | 1692 ++++++++++++++++++++
 .../cloud-minimal_abac/conf/enumsConfig.xml        |   39 +
 .../configsets/cloud-minimal_abac/conf/schema.xml  |   40 +
 .../cloud-minimal_abac/conf/solrconfig.xml         |  112 ++
 19 files changed, 4194 insertions(+), 1 deletion(-)

commit 2005d56bb868e2913bacbaa28eaf10454496cc70
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Feb 25 15:16:28 2019 -0600

    SENTRY-2497: show grant role results should handle case where URI doesn't have a defined scheme. (Haley Reeve reviewed by Na Li).
    
    Change-Id: I97bb61695ec12092afdb6df0898939ef04c08de5

 .../org/apache/sentry/binding/util/SentryAuthorizerUtil.java     | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 850b82b514082059eb440c075fef7b5e65f15f02
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Feb 22 23:26:44 2019 -0600

    SENTRY-2502: Sentry NN plug-in stops fetching updates from sentry server.(Kalyan Kumar Kalvagadda reviewed by Na Li)
    
    Change-Id: I4bc91802c53a45f3874a3f873b744e9cfef4f60f

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 19 +++++---
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  2 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java | 54 ++++++++++++++++++++++
 3 files changed, 68 insertions(+), 7 deletions(-)

commit 312add87b8aeeba0cf5876cf77604b7451e98158
Author: lina.li <lina.li@cloudera.com>
Date:   Tue Feb 19 15:45:26 2019 -0600

    SENTRY-2501: Add cache for HMS server filtering hook (Na Li, reviewed by Kalyan Kumar Kalvagadda)

 .../metastore/MetastoreAuthzBindingBase.java       | 43 ++++++++++++++++++++++
 .../metastore/SentryMetaStoreFilterHook.java       | 21 +++++++----
 2 files changed, 56 insertions(+), 8 deletions(-)

commit 33db3ca694a58e9bd85f5f9303627172f8b277e2
Author: lina.li <lina.li@cloudera.com>
Date:   Tue Feb 19 09:56:29 2019 -0600

    SENTRY-2500: CREATE on server does not provide HMS server side read authorization for get_all_tables(database_name)

 .../hive/authz/MetastoreAuthzObjectFilter.java     |  22 +-
 .../hive/authz/TestMetastoreAuthzObjectFilter.java |  44 ++--
 .../metastore/TestSentryMetaStoreFilterHook.java   |  42 ++-
 .../hive/AbstractTestWithStaticConfiguration.java  |   9 +
 .../sentry/tests/e2e/hive/StaticUserGroup.java     |   5 +-
 .../tests/e2e/hive/TestShowMetadataPrivileges.java |   2 +-
 ...stractMetastoreTestWithStaticConfiguration.java |  12 +
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 281 +++++++++++++++++++++
 8 files changed, 368 insertions(+), 49 deletions(-)

commit a00cc807728f02329f332b4f8d052de11ae85900
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Feb 14 17:26:50 2019 -0600

    SENTRY-2498: Exception while deleting paths that does't exist (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra)
    
    Change-Id: Iaa689448b10e555e1c098254a0128e430e2c2f56

 .../src/main/java/org/apache/sentry/hdfs/HMSPaths.java                  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d5acd57fab39c9dc0edd269a16d2cb15a7a5f4c4
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Feb 15 11:55:44 2019 -0600

    SENTRY-2495: Support Conjunctive Matching in Solr QueryDocAuthorizationComponent (Tristan Stevens reviewed by Hrishikesh Gadre and Kalyan Kumar Kalvagadda)
    
    Change-Id: I7c9e8f17420c81c47da63961f6651b937e36eb20

 .../component/DocAuthorizationComponent.java       | 102 ++++
 .../component/QueryDocAuthorizationComponent.java  | 161 +++---
 .../solr/handler/component/SubsetQueryPlugin.java  |  94 ++++
 .../solr/handler/component/SubsetQueryTest.java    | 329 ++++++++++++
 .../collection1/schema-docValuesSubsetMatch.xml    |  30 ++
 .../solrconfig-subsetmatchcomponent.xml            |  41 ++
 .../solr/collection1/solrconfig-subsetquery.xml    |  28 +
 .../solrconfig.snippet.randomindexconfig.xml       |  49 ++
 .../tests/e2e/solr/AbstractSolrSentryTestCase.java |  13 +
 .../sentry/tests/e2e/solr/DocLevelGenerator.java   |  30 ++
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  |  18 +
 .../tests/e2e/solr/TestDocLevelOperations.java     |   9 +-
 .../tests/e2e/solr/TestSubsetQueryOperations.java  | 566 +++++++++++++++++++++
 .../src/test/resources/log4j.properties            |   1 +
 .../cloud-minimal_subset_match/conf/schema.xml     |  30 ++
 .../cloud-minimal_subset_match/conf/solrconfig.xml |  88 ++++
 .../conf/schema.xml                                |  31 ++
 .../conf/solrconfig.xml                            |  88 ++++
 18 files changed, 1612 insertions(+), 96 deletions(-)

commit 83c9748ebf03eb552f1d7287c69bdad5b8e24c17
Author: amishra <amishra@cloudera.com>
Date:   Thu Feb 14 10:17:28 2019 -0600

    SENTRY-2492: Consecutive ALL grants get deleted when multiple roles have ALL grants on that object (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra)

 .../db/service/persistent/SentryStore.java         |  8 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 90 ++++++++++++++++++++++
 2 files changed, 96 insertions(+), 2 deletions(-)

commit d818793374978f07c02b818a8a2ec23572e2c707
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Thu Feb 7 15:35:24 2019 -0800

    SENTRY-2440: Add a new thrift API for checking if a user is in admin group (Hao Hao, reviewed by Na Li)

 .../api/service/thrift/SentryPolicyService.java    | 858 +++++++++++++++++++++
 .../api/service/thrift/TIsSentryAdminRequest.java  | 490 ++++++++++++
 .../api/service/thrift/TIsSentryAdminResponse.java | 493 ++++++++++++
 .../service/thrift/SentryPolicyServiceClient.java  |   1 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  15 +
 .../main/resources/sentry_policy_service.thrift    |  12 +
 .../sentry/api/service/thrift/SentryMetrics.java   |   3 +
 .../service/thrift/SentryPolicyStoreProcessor.java |  28 +
 .../thrift/TestSentryServiceIntegration.java       |  20 +
 9 files changed, 1920 insertions(+)

commit 6b070c55341a4a62ae2619d51ce87892056a7351
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Sun Dec 9 16:53:05 2018 -0800

    SENTRY-2471: Table rename should sync Sentry privilege even without location information (Hao Hao, reviewed by Na Li)

 .../service/persistent/NotificationProcessor.java  | 51 ++++++++++++----------
 .../persistent/TestNotificationProcessor.java      | 45 +++++++++++++++++++
 2 files changed, 73 insertions(+), 23 deletions(-)

commit a9326c813ace760b01c19c0ef52a7531cee0dfbb
Author: amishra <amishra@cloudera.com>
Date:   Mon Feb 11 15:45:04 2019 -0600

    SENTRY-2494: Fix TestRollingFileWithoutDeleteAppender test case testFileNamePattern (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../db/log/appender/TestRollingFileWithoutDeleteAppender.java        | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6842d1da7d57922dd81c1bd0e2469237666e7f35
Author: amishra <amishra@cloudera.com>
Date:   Sun Feb 10 09:00:04 2019 -0600

    SENTRY-2146: Add better error handling to ResourceAuthorizationProvider and improve logging in related classes (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../binding/hive/authz/HiveAuthzBinding.java       | 18 ++++++------
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  5 ++++
 .../hive/authz/HiveAuthzBindingHookBase.java       | 14 ++++++++-
 .../apache/sentry/core/common/utils/KeyValue.java  |  4 +--
 .../sentry/policy/common/CommonPrivilege.java      |  6 ++++
 .../common/ResourceAuthorizationProvider.java      | 33 ++++++++++++----------
 6 files changed, 52 insertions(+), 28 deletions(-)

commit 8701ac1d256505d8bc67ac3f8d4aaa5766bc2cd3
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Feb 7 07:54:41 2019 -0600

    SENTRY-2493: Sentry store api's for path mapping should handle empty/null paths.(Kalyan Kumar Kalvagadda reviewed by Arjun Mishra)
    
    Change-Id: I4e6143878febb429864331dcb5219e46a66f4491

 .../db/service/model/MAuthzPathsMapping.java       | 15 ++++---
 .../service/persistent/NotificationProcessor.java  | 12 +++++-
 .../db/service/persistent/QueryParamBuilder.java   |  5 ++-
 .../db/service/persistent/SentryStore.java         |  5 ++-
 .../service/persistent/SentryStoreInterface.java   |  2 +-
 .../db/service/persistent/TestSentryStore.java     | 46 ++++++++++++++++++++++
 6 files changed, 73 insertions(+), 12 deletions(-)

commit 3edbd2e8c239e6eb148722043033202346bbe66e
Author: amishra <amishra@cloudera.com>
Date:   Wed Feb 6 13:05:02 2019 -0600

    SENTRY-2477: When requesting for deltas check if nn seq num is 1 more than latest sequence num (Arjun Mishra reviewed by Na Li)

 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |  2 +-
 .../apache/sentry/hdfs/TestDBUpdateForwarder.java  | 24 ++++++++++++++++++++++
 2 files changed, 25 insertions(+), 1 deletion(-)

commit 27ad7a74d7511b0ca0375031894ee565b3323316
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Feb 6 09:55:01 2019 -0600

    SENTRY-2205: Improve Sentry NN Logging. (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra)
    
    Change-Id: I20982f62f01bf4190ceee4f108191444fec50177

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 55 ++++++++++++++++------
 .../org/apache/sentry/hdfs/SentryAuthzUpdate.java  |  4 +-
 .../java/org/apache/sentry/hdfs/Updateable.java    |  4 ++
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   | 11 +++++
 .../sentry/hdfs/SentryAuthorizationInfo.java       | 30 ++++++------
 .../sentry/hdfs/UpdateableAuthzPermissions.java    | 35 ++++++++++++++
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |  6 ++-
 7 files changed, 111 insertions(+), 34 deletions(-)

commit 677656fddacb628315f0c6aa8bbf1442be246917
Author: amishra <amishra@cloudera.com>
Date:   Wed Feb 6 09:49:01 2019 -0600

    SENTRY-2301: Log where sentry stands in the snapshot fetching process, periodically (Arjun Mishra reviewed by Na Li, Kalyan Kumar Kalvagadda)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |   3 +
 .../sentry/api/service/thrift/SentryMetrics.java   |  16 ++++
 .../service/thrift/FullUpdateInitializer.java      | 102 ++++++++++++++++-----
 .../sentry/service/thrift/SentryHMSClient.java     |   9 +-
 4 files changed, 100 insertions(+), 30 deletions(-)

commit 0067d477ff83970246f81ed5badd738e9d0f8319
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Jan 28 16:05:23 2019 -0600

    SENTRY-2483: Implement HMS PreReadEvent support in MetastoreAuthzBinding (Na Li, reviewed by Arjun Mishra, Kalyan Kumar Kalvagadda)

 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  2 +
 .../metastore/MetastoreAuthzBindingBase.java       | 48 ++++++++++--
 sentry-tests/sentry-tests-hive/pom.xml             |  4 +
 .../hive/AbstractTestWithStaticConfiguration.java  | 16 +++-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  2 -
 ...stractMetastoreTestWithStaticConfiguration.java |  1 -
 .../e2e/metastore/TestAuthorizingObjectStore.java  | 45 +++++++++++-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 85 ++++++++++++++++++++++
 8 files changed, 192 insertions(+), 11 deletions(-)

commit 1b8127eab26fa2fc146f13663e056b8f4f5409d0
Author: amishra <amishra@cloudera.com>
Date:   Tue Jan 29 22:31:09 2019 -0600

    SENTRY-2488: Add privilege cache to sentry hive bindings in DefaultAccessValidator (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../binding/hive/authz/DefaultSentryValidator.java | 28 ++++++++++++++++------
 .../hive/authz/HiveAuthzBindingHookBase.java       |  2 +-
 .../provider/cache/SimplePrivilegeCache.java       |  3 ++-
 3 files changed, 24 insertions(+), 9 deletions(-)

commit 72ac123228cb059ff5448df86ca46f1a33a6748e
Author: amishra <amishra@cloudera.com>
Date:   Tue Jan 29 11:15:22 2019 -0600

    SENTRY-2490: When building a full perm update for each object we only build 1 privilege per role (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)

 .../db/service/persistent/SentryStore.java         | 15 +++----
 .../db/service/persistent/TestSentryStore.java     | 49 ++++++++++++++++++++++
 2 files changed, 55 insertions(+), 9 deletions(-)

commit 63f7f8939bc9a02272a4033b07ee4cb95d8d4785
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Jan 28 14:58:09 2019 -0600

    SENTRY-2486: Wrong user name when sentry HMSFollower gets full snapshot from HMS at insecure mode (Na Li, reviewed by Arjun Mishra, Kalyan Kumar Kalvagadda)

 .../service/thrift/HiveSimpleConnectionFactory.java       | 10 +++++++---
 .../provider/db/service/persistent/TestHMSFollower.java   |  2 ++
 .../sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 15 +++++++++++----
 3 files changed, 20 insertions(+), 7 deletions(-)

commit 6bfd755ced7a402eb564c15048b21f04910a144b
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Jan 28 14:40:18 2019 -0600

    SENTRY-2491: Sentry High availability unit tests run into deadlock sometimes (Na Li, reviewed by Arjun Mishra, Kalyan Kumar Kalvagadda)

 .../tests/e2e/minisentry/InternalSentrySrv.java    | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 447e643fd55ff193f544341e0341fd909f818f34
Author: amishra <amishra@cloudera.com>
Date:   Thu Jan 24 11:09:27 2019 -0600

    SENTRY-1797: SentryKerberosContext should use periodic executor instead of managing periodic execution via run() method. (Haley Reeve reviewed by Arjun Mishra)
    
    Change-Id: I0fa43f2fcc9c84688e216dfc181845edd73e3d9d

 .../service/thrift/SentryKerberosContext.java      | 52 +++++++++-------------
 1 file changed, 20 insertions(+), 32 deletions(-)

commit 9a1f1be9022313eef3e586da76a894ba2110ba9a
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Sun Jan 20 11:31:20 2019 +0000

    Updating NOTICE

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b398a721fe0051e81b02ea2bee84758cf202845b
Author: amishra <amishra@cloudera.com>
Date:   Fri Jan 18 19:37:56 2019 -0600

    SENTRY-2469: Fix bugs in RoleServlet (Hongtaq Zhao reviewed by Arjun Mishra)
    
    Change-Id: I87fbb2e1cd1bb6cc22c93a2069316f9701b6ea26

 .../main/java/org/apache/sentry/api/service/thrift/RolesServlet.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 365e73b09c8b95c510250866a11039fde77a5039
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Jan 18 13:23:48 2019 -0600

    SENTRY-2454: Add new sentry store api to gather the privileges for a list of authorizables. (Kalyan Kumar Kalvagadda reviewed by Na Li)

 .../db/service/persistent/SentryStore.java         |  64 +++++++++
 .../service/persistent/SentryStoreInterface.java   |  11 ++
 .../db/service/persistent/TestSentryStore.java     | 157 +++++++++++++++++++++
 3 files changed, 232 insertions(+)

commit 3ba5998b87595ea158d1d3b71b00cbcdb4092a0a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 21 08:53:39 2018 -0600

    SENTRY-2481: Filter HMS server-side objects based on HMS user authorization (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .gitignore                                         |   1 +
 pom.xml                                            |   8 +
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  42 +++
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   7 +
 sentry-binding/sentry-binding-hive/pom.xml         |   5 +
 .../binding/hive/authz/DefaultSentryValidator.java | 127 ++------
 .../hive/authz/MetastoreAuthzObjectFilter.java     | 189 ++++++++++++
 .../binding/metastore/AuthorizingObjectStore.java  |  44 ++-
 .../metastore/AuthorizingObjectStoreBase.java      |  44 ++-
 .../binding/metastore/HiveAuthzBindingFactory.java |  30 ++
 .../metastore/MetastoreAuthzBindingBase.java       |   2 +-
 .../metastore/SentryHiveMetaStoreClient.java       |  41 ++-
 .../metastore/SentryMetaStoreFilterHook.java       | 227 +++++++++++----
 .../hive/authz/TestMetastoreAuthzObjectFilter.java | 323 +++++++++++++++++++++
 .../metastore/TestSentryMetaStoreFilterHook.java   | 219 ++++++++++++++
 .../org/apache/sentry/core/common/Subject.java     |  18 ++
 17 files changed, 1144 insertions(+), 185 deletions(-)

commit 5bfa963b76db3f3ae08c63767627e739d0dbbf01
Author: amishra <amishra@cloudera.com>
Date:   Mon Dec 17 15:46:37 2018 -0600

    SENTRY-2480: Change processDropDatabase to call removeAllPaths (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda)
    
    Change-Id: Iea90a22351e32fa44a3f986481e1dda745493997

 .../provider/db/service/persistent/NotificationProcessor.java      | 4 +---
 .../provider/db/service/persistent/TestNotificationProcessor.java  | 7 +++----
 2 files changed, 4 insertions(+), 7 deletions(-)

commit afdf7bd5cc4163c658b5ac577a5203015f00357b
Author: amishra <amishra@cloudera.com>
Date:   Fri Dec 14 11:25:53 2018 -0600

    SENTRY-1679: HDFS tests configure MetastorePlugin which is gone (Haley Reeve reviewed by Arjun Mishra and Na Li)
    
    Change-Id: I6fa7a58ec2ae9e7adfd88d2ba3c8c29157d57629

 .../java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java   | 1 -
 1 file changed, 1 deletion(-)

commit d7fe398693ac5bfc9e450c27e9afdc9d9de3dd62
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Dec 14 09:47:28 2018 -0600

    SENTRY-2249: Enable batch insert of HMS paths in Full Snapshot. (Kalyan Kumar Kalvagadda reviewed by Sergio Pena, Na Li and Arjun Mishra)

 .../sentry/core/common/utils/SentryConstants.java  |   3 +
 .../sentry/service/common/ServiceConstants.java    |   6 +
 .../db/service/model/MAuthzPathsMapping.java       | 164 +++++++++++++++++----
 .../sentry/provider/db/service/model/MPath.java    |   8 +
 .../sentry/provider/db/service/model/package.jdo   |  28 +++-
 .../db/service/persistent/QueryParamBuilder.java   |  19 +++
 .../db/service/persistent/SentryStore.java         | 109 ++++++++------
 .../db/service/persistent/TestSentryStore.java     |  58 +++++++-
 8 files changed, 315 insertions(+), 80 deletions(-)

commit 41b090fbe578f5e3cab4907883bc39dba50cee1d
Author: amishra <amishra@cloudera.com>
Date:   Wed Dec 12 15:32:52 2018 -0600

    SENTRY-2466: Create generic sentry store metrics (Arjun Mishra reviewed by Na Li, Haley Reeve)
    
    Change-Id: Ib00fc0fe1105cce25829f62ad016fb38dfd7359e

 .../java/org/apache/sentry/api/service/thrift/SentryMetrics.java   | 2 ++
 .../apache/sentry/provider/db/service/persistent/SentryStore.java  | 7 +++++++
 .../provider/db/service/persistent/SentryStoreInterface.java       | 5 +++++
 .../sentry/api/service/thrift/TestSentryPolicyStoreProcessor.java  | 6 ++++++
 4 files changed, 20 insertions(+)

commit 097cf0b05d52c291868debfb2a52afa02aa32eca
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Dec 10 13:51:43 2018 -0600

    SENTRY-2452: Change the thrift interface to send the list of authorizable to sentry server. (Kalyan Kumar Kalvagadda reviewed by Sergio Pena and Na Li)

 .../sentry/core/common/utils/SentryConstants.java  |   1 +
 .../service/thrift/TPrivilegePrincipalType.java    |   2 +-
 .../thrift/TSentryExportMappingDataRequest.java    | 170 ++++++++++++++-------
 .../service/thrift/TSentryPrivilegesResponse.java  |  76 ++++-----
 .../sentry/api/common/SentryServiceUtil.java       |  68 ++++++---
 .../SentryPolicyServiceClientDefaultImpl.java      |   7 +-
 .../main/resources/sentry_policy_service.thrift    |   2 +-
 .../sentry/api/common/TestSentryServiceUtil.java   |  59 +++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  18 ++-
 .../thrift/TestSentryServiceImportExport.java      |   7 +-
 10 files changed, 280 insertions(+), 130 deletions(-)

commit 7a43209685506b8b8a869bab00086d367a524ebf
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Dec 7 09:18:39 2018 -0600

    SENTRY-2460: Export sentry permission information to HDFS location. (Kalyan Kumar Kalvagadda reviewed by Sergio Pena)

 .../binding/hive/SentryIniPolicyFileFormatter.java |  46 ++++++--
 .../binding/hive/SentryPolicyFileFormatter.java    |   2 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../hive/TestSentryIniPolicyFileFormatter.java     | 124 ++++++++++++++++++---
 .../sentry/service/common/ServiceConstants.java    |   5 +
 .../thrift/TestSentryServiceImportExport.java      |   5 +
 .../persistent/TestSentryStoreImportExport.java    |   3 +
 .../tests/e2e/hive/TestPolicyImportExport.java     |  61 ++++++++++
 8 files changed, 217 insertions(+), 31 deletions(-)

commit ea7a33b77cb5ea6a26477289f594358c780a6e4b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Dec 4 16:03:05 2018 -0600

    SENTRY-2458: Separate Web UI and service from service-server to prevent circular dependencies (Brian Towels, reviewed by Na Li, Stephen Moist, kalyan kumar kalvagadda)

 pom.xml                                            |    3 +
 sentry-dist/pom.xml                                |   45 +
 sentry-dist/src/license/THIRD-PARTY.properties     |    9 +-
 sentry-dist/src/main/assembly/bin.xml              |    1 +
 sentry-provider/sentry-provider-db/pom.xml         |    6 +
 sentry-service/pom.xml                             |    2 +
 sentry-service/sentry-service-providers/pom.xml    |   58 +
 .../server/provider/webservice/AttributeDesc.java  |   33 +
 .../server/provider/webservice/FilterDesc.java     |   37 +
 .../server/provider/webservice/ServletDesc.java    |   34 +
 .../provider/webservice/WebServiceProvider.java    |   47 +
 .../webservice/WebServiceProviderFactory.java      |   30 +
 .../server/provider/webservice/WebServiceSpi.java  |   48 +
 .../META-INF/services/org.apache.sentry.spi.Spi    |   20 +
 sentry-service/sentry-service-server/pom.xml       |   38 +-
 .../sentry/api/service/thrift/RolesServlet.java    |   64 +
 .../api/service/thrift/SentryAdminServlet.java     |  132 -
 .../thrift/SentryServiceWebServiceProvider.java    |   89 +
 .../sentry/api/service/thrift/SentryWebServer.java |  240 -
 .../sentry/service/thrift/SentryService.java       |   19 +-
 ...r.provider.webservice.WebServiceProviderFactory |   20 +
 .../src/main/webapp/css/bootstrap-theme.min.css    |   10 -
 .../src/main/webapp/css/bootstrap.min.css          |    9 -
 .../thrift/TestSentryWebServerWithoutSecurity.java |    1 +
 sentry-service/sentry-service-web/pom.xml          |  118 +
 .../apache/sentry/service/web}/ConfServlet.java    |    7 +-
 .../service/web/DefaultWebServicesProvider.java    |  168 +
 .../sentry/service/web}/LogLevelServlet.java       |   11 +-
 .../apache/sentry/service/web}/PubSubServlet.java  |   11 +-
 .../sentry/service/web}/SentryAuthFilter.java      |    5 +-
 .../apache/sentry/service/web/SentryWebServer.java |  180 +
 ...r.provider.webservice.WebServiceProviderFactory |   20 +
 .../sentry-service-web/src/main/webapp/index.html  |   84 +
 .../static/bootstrap/css/bootstrap-3.3.7.min.css   |   19 +
 .../bootstrap/css/bootstrap-theme-3.3.7.min.css    |   19 +
 .../fonts/glyphicons-halflings-regular.svg         |  288 +
 .../webapp/static/bootstrap/js/bootstrap-3.3.7.js  | 2390 +++++
 .../static/bootstrap/js/bootstrap-3.3.7.min.js     |   20 +
 .../src/main/webapp/static/bootstrap/js/npm.js     |   32 +
 .../src/main/webapp/static}/css/sentry.css         |    0
 .../src/main/webapp/static/images}/sentry.png      |  Bin
 .../materialdesign/css/materialdesignicons.min.css |   21 +
 .../fonts/materialdesignicons-webfont.svg          | 9129 ++++++++++++++++++++
 43 files changed, 13061 insertions(+), 456 deletions(-)

commit aeeb8ab5aaa749a12f43fcf639f95846985112e0
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Dec 3 10:08:53 2018 -0600

    SENTRY-2444: SigUtils signal handler needs a way to unregister functions. (Brian Towles, reviewed by Sergio Pena, Stephen Moist)

 .../apache/sentry/core/common/utils/SigUtils.java  | 24 +++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit 0a609faba761daa62a330cab5e2c74d70105419b
Author: amishra <amishra@cloudera.com>
Date:   Wed Nov 28 14:49:59 2018 -0600

    SENTRY-2464: Catch exception thrown on first reload for UpdatableCache (Arjun Mishra reviewed by Na Li, Sergio Pena, and Haley Reeve)
    
    Change-Id: Ia114d6881870960d60fe5b72e19276f6583bedad

 .../org/apache/sentry/provider/db/generic/UpdatableCache.java    | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 987c692d66dbada1f898e28118214289a11ce73e
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Nov 16 13:37:08 2018 -0600

    SENTRY-2457: Reuse connection objects on TestConcurrentClients#testConcurrentHS2Client (Sergio Pena, reviewed by Arjun Mishra)

 .../e2e/dbprovider/TestConcurrentClients.java      | 79 +++++++++-------------
 1 file changed, 33 insertions(+), 46 deletions(-)

commit 374d55a62f402c375779163ad3fe0aff0753fe83
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Nov 7 11:13:28 2018 -0600

    SENTRY-2441: When MAuthzPathsMapping is deleted all associated MPaths should be deleted automatically.. (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra and Na Li)

 .../sentry/provider/db/service/model/package.jdo   |  5 ++-
 .../db/service/persistent/SentryStore.java         |  7 ++--
 .../db/service/persistent/TestSentryStore.java     | 37 ++++++++++++++++++++++
 3 files changed, 43 insertions(+), 6 deletions(-)

commit 12429f12578be31f58bf5a30cc133119b38b7678
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 7 08:30:02 2018 -0600

    SENTRY-2436: Add annotations for classes that are used in binding as public (Xinran Tinney, reviewed by Sergio Pena)

 .../src/main/java/org/apache/sentry/core/common/ActiveRoleSet.java     | 2 ++
 .../src/main/java/org/apache/sentry/core/common/Subject.java           | 3 +++
 .../src/main/java/org/apache/sentry/core/model/db/Column.java          | 2 ++
 .../src/main/java/org/apache/sentry/core/model/db/DBModelAction.java   | 2 ++
 .../main/java/org/apache/sentry/core/model/db/DBModelAuthorizable.java | 2 ++
 .../src/main/java/org/apache/sentry/core/model/db/Database.java        | 2 ++
 .../src/main/java/org/apache/sentry/core/model/db/Server.java          | 3 +++
 .../src/main/java/org/apache/sentry/core/model/db/Table.java           | 3 +++
 .../java/org/apache/sentry/provider/common/AuthorizationProvider.java  | 2 ++
 .../main/java/org/apache/sentry/provider/common/ProviderBackend.java   | 2 ++
 10 files changed, 23 insertions(+)

commit d4c622845b9d32f214d1704e81fe443ce8c63290
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Nov 5 13:58:48 2018 -0600

    SENTRY-2329: Integrate sentry with Hadoop 3.1.1 (kalyan kumar kalvagadda, reviewed by Sergio Pena)
    
    This integration is compatible with old Hadoop 2.x versions. You can compile with Hadoop 2.x by
    changing the pom.xml or you can add the Sentry/HDFS binding jars built with Hadoop3 in the
    Hadoop 2 classpath. Both ways are verified and working.

 pom.xml                                            | 22 +++++++++++++++++++++-
 sentry-binding/sentry-binding-solr/pom.xml         | 16 ++++++++++++++++
 sentry-hdfs/sentry-hdfs-common/pom.xml             |  6 ++++++
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  8 +++-----
 .../sentry/hdfs/SentryINodeAttributesProvider.java |  5 +++++
 .../thrift/TestSentryWebServerWithKerberos.java    | 21 ++++++++++++++++++---
 6 files changed, 69 insertions(+), 9 deletions(-)

commit 5d4465284b7b80e2683d162e462ff546fbfac7a6
Author: amishra <amishra@cloudera.com>
Date:   Tue Oct 30 15:45:42 2018 -0500

    SENTRY-2437: When granting privileges a single transaction per grant causes long delays (Arjun Mishra reviewed by Na Li, Kalyan Kumar Kalvagadda)
    
    Change-Id: I30544aacda5e02d49e918b551a09f75ffa7583d6

 .../db/service/persistent/SentryStore.java         | 116 +++++++---
 .../service/persistent/SentryStoreInterface.java   |   2 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |  17 +-
 .../db/service/persistent/TestSentryStore.java     | 256 ++++++++++-----------
 4 files changed, 216 insertions(+), 175 deletions(-)

commit 4e473e9d3965c28d9b120776e48c0d4593d719b2
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Oct 25 16:50:30 2018 -0500

    SENTRY-2433: Dropping object privileges does not include update of dropping user privileges (Na Li, reviewed by Kalyan Kumar Kalvagadda)

 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  8 ++-
 .../service/persistent/NotificationProcessor.java  |  8 ++-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 60 ++++++++++++++++++++++
 4 files changed, 73 insertions(+), 5 deletions(-)

commit 8e0505703eaf7c75c268593f5f31a3e66bb04a56
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sat Oct 27 10:00:59 2018 -0500

    SENTRY-2372: SentryStore should not implement grantOptionCheck (Sergio Pena, reviewed by Na Li)

 .../sentry/core/common/utils/SentryUtils.java      |  12 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |   6 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  77 ++-
 .../api/service/thrift/SentryPolicyStoreUtils.java |  93 +++
 .../db/service/model/MSentryPrivilege.java         |   3 +-
 .../db/service/persistent/SentryStore.java         | 288 +-------
 .../service/persistent/SentryStoreInterface.java   |  18 +-
 .../SentryPolicyStoreProcessorTestUtils.java       | 238 +++++++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 159 +++++
 .../TestHMSFollowerSentryStoreIntegration.java     |  18 +-
 .../db/service/persistent/TestSentryStore.java     | 741 ++++-----------------
 11 files changed, 763 insertions(+), 890 deletions(-)

commit 6734686acf9345c7adb5604bd48b1561fc71194b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Oct 25 13:25:36 2018 -0500

    SENTRY-2431: Update Solr permission mapping to include Metric history reading permission (Mano Kovacs, reviewed by Sergio Pena)

 pom.xml                                              |  2 +-
 sentry-binding/sentry-binding-solr/pom.xml           | 20 ++++++++++++++++++++
 .../binding/solr/authz/SentrySolrPluginImpl.java     |  1 +
 sentry-tests/sentry-tests-solr/pom.xml               |  2 +-
 4 files changed, 23 insertions(+), 2 deletions(-)

commit a7550a0b6d4ac158e45274c51a89e536d5f0e42f
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Oct 22 16:59:55 2018 -0500

    SENTRY-2432: The case of a username is ignored when determining object ownership (Na Li, reviewed by Fredy Wijaya, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../db/service/persistent/QueryParamBuilder.java   |   9 +-
 .../db/service/persistent/SentryStore.java         |  34 ++-
 .../db/service/persistent/TestSentryStore.java     |   2 +-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 297 ++++++++++++++++++++-
 4 files changed, 319 insertions(+), 23 deletions(-)

commit bd0583db9d52cfc03e8c75a3ac1eaac8fd535695
Author: amishra <amishra@cloudera.com>
Date:   Fri Oct 19 18:39:40 2018 -0500

    SENTRY-2428: Skip null partitions or partitions with null sds entries (Arjun Mishra reviewed by Na Li)
    
    Change-Id: I3ad372400d482706f79d4570817e296332bb23c4

 .../org/apache/sentry/service/thrift/FullUpdateInitializer.java    | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 985b7088742906b266f0c1af393916e1d58ddd0e
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Oct 18 15:18:00 2018 -0500

    SENTRY-2429: Transfer database owner drops table owner

 .../db/service/persistent/SentryStore.java         |  32 ++++-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 141 +++++++++++++++++++++
 2 files changed, 172 insertions(+), 1 deletion(-)

commit 542e984ba844b33d452e80946b87ae3cefde4be6
Author: amishra <amishra@cloudera.com>
Date:   Wed Oct 17 17:21:10 2018 -0500

    SENTRY-2427: Use Hadoop KerberosName class to derive shortName (Arjun Mishra reviewed by Na Li and Sergio Pena)
    
    Change-Id: Iab39a07c68d651e4d779fd33a4bccceb0de04b14

 .../apache/sentry/service/thrift/GSSCallback.java  | 28 +++++++-
 .../sentry/service/thrift/TestGSSCallback.java     | 75 ++++++++++++++++++++++
 2 files changed, 102 insertions(+), 1 deletion(-)

commit 170b0c38b5e9011cb739f1ebf01eb68424685ff9
Author: amishra <amishra@cloudera.com>
Date:   Wed Oct 17 17:12:35 2018 -0500

    SENTRY-2419: Log where sentry stands in the process of persisting the snpashot (Arjun Mishra reviewed by Na Li and Sergio Pena)
    
    Change-Id: I0fa1af7ab45a3a27d9c9984fa96634f89f28316c

 .../sentry/api/service/thrift/SentryMetrics.java   |  6 +-
 .../db/service/persistent/HMSFollower.java         |  2 +-
 .../db/service/persistent/SentryStore.java         | 68 ++++++++++++++++++++++
 .../service/persistent/SentryStoreInterface.java   | 10 ++++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 12 ++++
 5 files changed, 96 insertions(+), 2 deletions(-)

commit 74676535b066b48939ae9ad9c1a1061986450f3d
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Oct 9 09:32:49 2018 -0500

    SENTRY-2423: Increase the allocation size for auto-increment of id's for Snapshot tables. (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra and Sergio Pena)

 .../sentry/service/common/ServiceConstants.java    |  8 ++++++
 .../sentry/provider/db/service/model/package.jdo   |  4 +--
 .../db/service/persistent/SentryStore.java         |  3 +++
 .../db/service/persistent/TestSentryStore.java     | 30 ++++++++++++++++++++++
 4 files changed, 43 insertions(+), 2 deletions(-)

commit 2c9a927a9e87cba0e4c0f34fc0b55887c6636927
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Sep 19 23:09:33 2018 -0500

    SENTRY-2409: ALTER TABLE SET OWNER does not allow to change the table if using only the table name

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  12 ++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   2 +-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 181 ++++++++++++++++++++-
 3 files changed, 188 insertions(+), 7 deletions(-)

commit a7b68f62c5dfa7f8a2a3b81772d1d279962ecbc7
Author: amishra <amishra@cloudera.com>
Date:   Wed Sep 26 15:10:18 2018 -0500

    SENTRY-2406: Make sure inputHierarchy and outputHierarchy have unique values (Arjun Mishra reviewed by Na Li)
    
    Change-Id: I3c9f4da47f7da2317a2e8debb72bde5d9849a679

 .../binding/hive/authz/HiveAuthzBinding.java       |  12 +-
 .../binding/hive/authz/DefaultSentryValidator.java |  17 +-
 .../hive/authz/HiveAuthzBindingHookBase.java       |  21 +-
 .../binding/metastore/MetastoreAuthzBinding.java   |   5 +-
 .../metastore/MetastoreAuthzBindingBase.java       |  11 +-
 .../sentry/binding/util/SentryAuthorizerUtil.java  |   5 +-
 .../binding/hive/TestHiveAuthzBindingHookBase.java | 246 +++++++++++++++++++++
 .../sentry/binding/hive/TestHiveAuthzBindings.java |   6 +-
 .../org/apache/sentry/core/model/db/AccessURI.java |  23 ++
 .../org/apache/sentry/core/model/db/Column.java    |  23 ++
 .../org/apache/sentry/core/model/db/Database.java  |  23 ++
 .../org/apache/sentry/core/model/db/Server.java    |  23 ++
 .../org/apache/sentry/core/model/db/Table.java     |  23 ++
 .../java/org/apache/sentry/core/model/db/View.java |  23 ++
 14 files changed, 427 insertions(+), 34 deletions(-)

commit 8315949073ebca169ef18791a3e750cbfdfbb252
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Wed Sep 26 11:39:50 2018 -0700

    SENTRY-2417: LocalGroupMappingService class docs do not accurately reflect required INI format (Dan Burkert reviewed by Na Li, Sergio Pena)

 .../provider/file/LocalGroupMappingService.java    | 26 +++++++++-------------
 1 file changed, 11 insertions(+), 15 deletions(-)

commit e90ab35db32e34eb359f39cd94a9ca48b8c7aeda
Author: Hao Hao <hao.hao@cloudera.com>
Date:   Tue Sep 25 14:10:41 2018 -0700

    SENTRY-2371: Add a new thrift API for getting all privileges a user has (Hao Hao, reviewed by Na Li, Sergio Pena)

 .../api/service/thrift/SentryPolicyService.java    | 858 +++++++++++++++++++++
 .../main/resources/sentry_policy_service.thrift    |  10 +-
 .../sentry/api/service/thrift/SentryMetrics.java   |   2 +
 .../service/thrift/SentryPolicyStoreProcessor.java |  73 +-
 .../db/service/persistent/SentryStore.java         |  35 +-
 .../service/persistent/SentryStoreInterface.java   |  32 +-
 .../db/service/persistent/TestSentryStore.java     |  43 ++
 7 files changed, 1032 insertions(+), 21 deletions(-)

commit c7c5df28628049932db7f75e1b970bffe75522ae
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Sep 25 14:29:39 2018 -0500

    SENTRY-2413: Provide a configuration option to permit specific DB privileges to be granted explicitly (Sergio Pena, reviewed by Na Li, kalyan kumar kalvagadda)

 .../sentry/service/common/ServiceConstants.java    |  6 ++
 .../sentry/api/common/SentryServiceUtil.java       | 65 +++++++++++++++++
 .../sentry/api/common/TestSentryServiceUtil.java   | 85 ++++++++++++++++++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  4 +
 .../thrift/TestSentryPolicyStoreProcessor.java     | 52 +++++++++++++
 5 files changed, 212 insertions(+)

commit b31210701ab73eda7cd0ac53097f9963c3bc0e64
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Sep 19 22:33:10 2018 -0500

    SENTRY-2407: SentrySchemaInfo and SQL scripts do not have the new 2.2.0 version (Na Li, reviewed by Sergio Pena)

 .../src/main/resources/sentry-db2-2.2.0.sql        | 273 ++++++++++++++++++
 .../src/main/resources/sentry-derby-2.2.0.sql      | 276 ++++++++++++++++++
 .../src/main/resources/sentry-mysql-2.2.0.sql      | 311 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-2.2.0.sql     | 291 +++++++++++++++++++
 .../src/main/resources/sentry-postgres-2.2.0.sql   | 301 ++++++++++++++++++++
 .../sentry-upgrade-db2-2.1.0-to-2.2.0.sql          |   2 +
 .../sentry-upgrade-derby-2.1.0-to-2.2.0.sql        |   2 +
 .../sentry-upgrade-mysql-2.1.0-to-2.2.0.sql        |   5 +
 .../sentry-upgrade-oracle-2.1.0-to-2.2.0.sql       |   6 +
 .../sentry-upgrade-postgres-2.1.0-to-2.2.0.sql     |   6 +
 .../src/main/resources/upgrade.order.db2           |   3 +-
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 .../service/persistent/SentryStoreSchemaInfo.java  |   2 +-
 16 files changed, 1480 insertions(+), 2 deletions(-)

commit 44ada78c356aa70c875357472a6711e80acc905a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Sep 18 09:32:54 2018 -0500

    SENTRY-2403: Incorrect naming in RollingFileWithoutDeleteAppender (Peter Somogyi, reviewed by Sergio Pena)

 .../appender/RollingFileWithoutDeleteAppender.java   | 20 +++++++++++++++++---
 .../TestRollingFileWithoutDeleteAppender.java        | 19 +++++++++----------
 2 files changed, 26 insertions(+), 13 deletions(-)

commit e38d8b017d046174c8c056c58fcf03762a669773
Author: lina.li <lina.li@cloudera.com>
Date:   Fri Sep 14 13:49:41 2018 -0500

    SENTRY-2388: Preparing for 2.2.0-SNAPSHOT release (Na Li, Reviewed by Sergion Pena)

 pom.xml                                             | 2 +-
 sentry-binding/pom.xml                              | 2 +-
 sentry-binding/sentry-binding-hbase-indexer/pom.xml | 2 +-
 sentry-binding/sentry-binding-hive-common/pom.xml   | 2 +-
 sentry-binding/sentry-binding-hive-conf/pom.xml     | 2 +-
 sentry-binding/sentry-binding-hive-follower/pom.xml | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml          | 2 +-
 sentry-binding/sentry-binding-kafka/pom.xml         | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml          | 2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml         | 2 +-
 sentry-core/pom.xml                                 | 2 +-
 sentry-core/sentry-core-common/pom.xml              | 2 +-
 sentry-core/sentry-core-model-db/pom.xml            | 2 +-
 sentry-core/sentry-core-model-indexer/pom.xml       | 2 +-
 sentry-core/sentry-core-model-kafka/pom.xml         | 2 +-
 sentry-core/sentry-core-model-solr/pom.xml          | 2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml         | 2 +-
 sentry-dist/pom.xml                                 | 2 +-
 sentry-hdfs/pom.xml                                 | 2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml              | 2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml                | 2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml     | 2 +-
 sentry-hdfs/sentry-hdfs-service/pom.xml             | 2 +-
 sentry-policy/pom.xml                               | 2 +-
 sentry-policy/sentry-policy-common/pom.xml          | 2 +-
 sentry-policy/sentry-policy-engine/pom.xml          | 2 +-
 sentry-provider/pom.xml                             | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml       | 2 +-
 sentry-provider/sentry-provider-common/pom.xml      | 2 +-
 sentry-provider/sentry-provider-db/pom.xml          | 2 +-
 sentry-provider/sentry-provider-file/pom.xml        | 2 +-
 sentry-service/pom.xml                              | 2 +-
 sentry-service/sentry-service-api/pom.xml           | 2 +-
 sentry-service/sentry-service-client/pom.xml        | 2 +-
 sentry-service/sentry-service-server/pom.xml        | 2 +-
 sentry-solr/pom.xml                                 | 2 +-
 sentry-solr/solr-sentry-handlers/pom.xml            | 2 +-
 sentry-spi/pom.xml                                  | 4 ++--
 sentry-tests/pom.xml                                | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml              | 2 +-
 sentry-tests/sentry-tests-kafka/pom.xml             | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml              | 2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml             | 2 +-
 sentry-thirdparty/pom.xml                           | 2 +-
 sentry-thirdparty/sentry-shaded/pom.xml             | 2 +-
 sentry-tools/pom.xml                                | 4 ++--
 46 files changed, 48 insertions(+), 48 deletions(-)

commit 65eceff0863bc1a06a5c09c62b46e97675ca7421
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Sep 13 11:29:16 2018 -0500

    SENTRY-2398: Support multiple target versions on single source versions during schema upgrades (Sergio Pena, reviewed by Na Li)

 .../service/persistent/SentryStoreSchemaInfo.java  |  45 ++---
 .../db/service/persistent/SentryUpgradeOrder.java  | 167 ++++++++++++++++++
 .../service/persistent/TestSentryUpgradeOrder.java | 187 +++++++++++++++++++++
 3 files changed, 372 insertions(+), 27 deletions(-)

commit 1fbb0aa4177cf80760f6b16952d4eb67265c50a7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Sep 10 14:19:22 2018 -0500

    SENTRY-2395: ALTER VIEW AS SELECT is asking for CREATE privileges instead of ALTER (Sergio Pena, reviewed by Na Li, kalyan kumar kalvagadda)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  8 ++++++
 .../hive/authz/HiveAuthzBindingHookBase.java       | 33 ++++++++++++++++++++--
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  9 +++++-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java |  6 ++--
 4 files changed, 50 insertions(+), 6 deletions(-)

commit 2fc3374b958c728df133befae428186d2824240e
Author: lina.li <lina.li@cloudera.com>
Date:   Fri Sep 7 16:13:14 2018 -0500

    SENTRY-2367: Implement subsystem to allow for pluggable attribute providers and transports (Brian Towles, reviewed Steve Moist, by Na Li)

 pom.xml                                            |   1 +
 sentry-spi/pom.xml                                 |  56 +++++++
 .../apache/sentry/spi/DefaultProviderLoader.java   |  59 +++++++
 .../main/java/org/apache/sentry/spi/Provider.java  |  37 +++++
 .../org/apache/sentry/spi/ProviderFactory.java     |  42 +++++
 .../java/org/apache/sentry/spi/ProviderLoader.java |  48 ++++++
 .../org/apache/sentry/spi/ProviderManager.java     | 109 +++++++++++++
 .../src/main/java/org/apache/sentry/spi/Spi.java   |  38 +++++
 .../java/org/apache/sentry/spi/package-info.java   | 173 +++++++++++++++++++++
 .../org/apache/sentry/spi/SomeTestProvider.java    |  27 ++++
 .../apache/sentry/spi/SomeTestProviderFactory.java |  27 ++++
 .../apache/sentry/spi/SomeTestProviderImplA.java   |  41 +++++
 .../apache/sentry/spi/SomeTestProviderImplB.java   |  41 +++++
 .../sentry/spi/SomeTestProviderImplNotLoaded.java  |  41 +++++
 .../java/org/apache/sentry/spi/SomeTestSpi.java    |  43 +++++
 .../org/apache/sentry/spi/TestProviderManager.java |  60 +++++++
 .../org.apache.sentry.spi.SomeTestProviderFactory  |  20 +++
 .../META-INF/services/org.apache.sentry.spi.Spi    |  20 +++
 18 files changed, 883 insertions(+)

commit d6122850313c731de76a0d682bece2920a2aed2a
Author: lina.li <lina.li@cloudera.com>
Date:   Fri Sep 7 12:26:04 2018 -0500

    SENTRY-2311: Intellij is broken by shaded jars (Steve Moist, reviewed by Na Li)

 pom.xml                                            |   1 +
 sentry-dist/pom.xml                                |  26 +++++
 sentry-dist/src/main/assembly/bin.xml              |  12 +++
 .../org/apache/sentry/hdfs/PathDeltaRetriever.java |   2 +-
 .../org/apache/sentry/hdfs/PathImageRetriever.java |   2 +-
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |   2 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |   2 +-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |   2 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |   8 +-
 sentry-provider/sentry-provider-db/pom.xml         |  24 -----
 sentry-service/sentry-service-server/pom.xml       |   9 --
 sentry-thirdparty/pom.xml                          |  37 +++++++
 sentry-thirdparty/sentry-shaded/pom.xml            | 108 +++++++++++++++++++++
 13 files changed, 193 insertions(+), 42 deletions(-)

commit 6b078d8720a00df765d45a1789c80f4bbbb191c7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Sep 7 08:18:18 2018 -0500

    SENTRY-2394: Typo in sentry-site.xml.service.template (Morio Ramdenbourg, reviewed by Sergio Pena)

 conf/sentry-site.xml.service.template | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aefaa029dcb532fe3fd1740efa255a90ef63da35
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Sep 6 14:05:05 2018 -0500

    SENTRY-2392: Add metrics statistics to list_user_privileges and list_role_privileges API (Sergio Pena, reviewed by Na Li)

 .../main/java/org/apache/sentry/api/service/thrift/SentryMetrics.java | 4 ++++
 .../apache/sentry/api/service/thrift/SentryPolicyStoreProcessor.java  | 4 ++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 4e6305e891442e55db6e9c0e463f789a53959b6a
Author: amishra <amishra@cloudera.com>
Date:   Thu Sep 6 09:10:57 2018 -0500

    SENTRY-2375: Fix API typos on SentryPolicyServiceClient (Morio Ramdenbourg reviewed by Arjun Mishra)
    
    Change-Id: I43f5e354ce6b9c01d5a23fa64799a2b8ad6d67a1

 .../hive/authz/DefaultSentryAccessController.java  |  6 ++--
 .../service/thrift/SentryPolicyServiceClient.java  |  6 ++--
 .../SentryPolicyServiceClientDefaultImpl.java      |  8 ++---
 .../thrift/TestSentryServiceIntegration.java       | 38 +++++++++++-----------
 4 files changed, 29 insertions(+), 29 deletions(-)

commit 2492be15d2140658e7aca39c78d4719659992553
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 5 16:06:52 2018 -0500

    SENTRY-2315: The grant all operation is not dropping the create/alter/drop/index/lock privileges (Sergio Pena, reviewed by Na Li)

 .../db/service/persistent/SentryStore.java         | 51 ++++++++-----
 .../db/service/persistent/TestSentryStore.java     | 83 ++++++++++++++++++++++
 2 files changed, 118 insertions(+), 16 deletions(-)

commit d9cc5c9fd0f930d3fad74c6427aef1bfcda408f7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 5 10:17:13 2018 -0500

    SENTRY-2376: Bump Jackson libraries versions to 1.9.13 and 2.9.6 (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 pom.xml                                | 54 ++++++++++++++++++++++++++++++++--
 sentry-tests/sentry-tests-hive/pom.xml |  8 +++++
 2 files changed, 59 insertions(+), 3 deletions(-)

commit 2cf239a2139af8941fee0c0307d5897cebd4dc07
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Sep 4 09:36:17 2018 -0500

    SENTRY-2374: Add dependencies for Lombok development assistance (Brian Towles, reviewed by Sergio Pena)

 lombok.config | 10 ++++++++++
 pom.xml       |  9 +++++++++
 2 files changed, 19 insertions(+)

commit cb1cd1f80332b449000f28913e6086aea7fa1356
Author: amishra <amishra@cloudera.com>
Date:   Fri Aug 31 14:38:03 2018 -0500

    SENTRY-2373: Incorrect WARN message when processing add partition messages (Arjun Mishra reviewed by Lina li)
    
    Change-Id: I1c99074096a0c3940cd42b0c31125ed9d2c559a8

 .../sentry/provider/db/service/persistent/NotificationProcessor.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c37d83816a38677ba5eb95faa6e97909851dc59
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Aug 27 08:25:46 2018 -0500

    SENTRY-2366: Exclude jackson transitive dependencies (Sergio Pena, reviewed by Kalyan Kumar Kalvagadda)

 pom.xml                                      | 138 ++++++++++++++++++++++++++-
 sentry-provider/sentry-provider-db/pom.xml   |   5 +
 sentry-service/sentry-service-server/pom.xml |   6 ++
 sentry-tests/sentry-tests-hive/pom.xml       |  12 +++
 4 files changed, 160 insertions(+), 1 deletion(-)

commit 85cf7f2964f5c4be7b9f21ea4ffec46ec2ca3fdb
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Aug 24 12:15:31 2018 -0500

    SENTRY-2233: Add e2e tests for testing HDFS sync for owner privileges. (Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../dbprovider/TestHmsNotificationProcessing.java  |   4 +-
 ...stHmsNotificationProcessingWithOutHdfsSync.java |  10 +-
 ...sNotificationProcessingWithOutSyncOnCreate.java |   4 +-
 ...HmsNotificationProcessingWithOutSyncOnDrop.java |   4 +-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 302 ++++++++++++++-------
 .../TestOwnerPrivilegesWithGrantOption.java        |  46 ++--
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  72 ++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  76 ++++--
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java | 176 ++++++------
 .../e2e/hdfs/TestHDFSIntegrationTogglingConf.java  |  28 +-
 10 files changed, 430 insertions(+), 292 deletions(-)

commit 50e1d23e4d07d27b0e3917e84b23b4a054d1b438
Author: amishra <amishra@cloudera.com>
Date:   Thu Aug 23 15:10:04 2018 -0500

    SENTRY-1896: Optimize retrieving entities by other entity types (Arjun Mishra reviewed by Na Li and Kalyan Kumar Kalvagadda)
    
    Change-Id: I6c6a85426ae96b59f8a649cdd5f6aef2f15ba176

 .../db/service/persistent/SentryStore.java         | 95 +++++++++++++++++++++-
 1 file changed, 91 insertions(+), 4 deletions(-)

commit f255c34218a0a07d46ecab3166e5c996dc07960d
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Aug 22 11:57:59 2018 -0500

    SENTRY-2359: Object owner is unable to grant privileges: SentryAccessDeniedException (Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../db/service/model/MSentryPrivilege.java         |  1 +
 .../db/service/persistent/SentryStore.java         | 38 ++++++++++-----
 .../TestOwnerPrivilegesWithGrantOption.java        | 54 ++++++++++++++++++++++
 3 files changed, 81 insertions(+), 12 deletions(-)

commit 8028cef7efb6c1a2e8c493ed1d1566aae176912d
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Aug 22 11:50:34 2018 -0500

    SENTRY-2307: Avoid HMS event synchronization while sentry is fetching full snapshot (Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../service/thrift/SentryPolicyStoreProcessor.java | 11 +++++-
 .../service/thrift/FullUpdateInitializerState.java | 42 +++++++++++++++++++++
 .../sentry/service/thrift/SentryHMSClient.java     |  3 ++
 .../sentry/service/thrift/SentryStateBank.java     | 24 ++++++++++++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 43 ++++++++++++++++++++++
 .../sentry/service/thrift/TestSentryHMSClient.java | 25 ++++++++++++-
 6 files changed, 146 insertions(+), 2 deletions(-)

commit 2c5723e15cdee96ea3a60a1757e27828c84abe8b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Aug 20 15:18:00 2018 -0500

    SENTRY-2355: Merge the DB owner privileges configurations into one enum configuration (Sergio Pena, reviewed by Na Li)

 .../service/common/SentryOwnerPrivilegeType.java   | 52 ++++++++++++++++++++++
 .../sentry/service/common/ServiceConstants.java    | 14 +-----
 .../service/thrift/SentryPolicyStoreProcessor.java | 11 +++--
 .../db/service/persistent/SentryStore.java         |  5 ++-
 .../thrift/TestSentryPolicyStoreProcessor.java     | 14 +++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 14 ++++--
 6 files changed, 80 insertions(+), 30 deletions(-)

commit f099f0abdbeae094fa78d612812cc49b443b48df
Author: amishra <amishra@cloudera.com>
Date:   Sat Aug 18 08:20:20 2018 -0400

    SENTRY-1944: Optimize DelegateSentryStore.getGroupsByRoles() and update SentryGenericPolicyProcessor to retrieve roles to group mapping in a single transaction (Arjun Mishra reveiwed by Na Li and Sergio Pena)
    
    Change-Id: If044f0c9edcca077a4633db8274724dbd0bcb2e8

 .../thrift/SentryGenericPolicyProcessor.java       |  7 +-
 .../service/persistent/DelegateSentryStore.java    | 86 ++++++++++++++-------
 .../service/persistent/SentryStoreLayer.java       | 10 +++
 .../db/service/persistent/SentryStore.java         |  2 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |  7 ++
 .../persistent/TestDelegateSentryStore.java        | 89 ++++++++++++++++++----
 6 files changed, 155 insertions(+), 46 deletions(-)

commit e0d99fef5c23e34613a0d90705fa61346816cb78
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Aug 17 12:15:24 2018 -0500

    SENTRY-2308: Create privilege on table has no use case (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  58 ++++++++--
 .../hive/authz/DefaultSentryAccessController.java  |   8 ++
 .../tests/e2e/hive/TestAllowedGrantPrivileges.java | 125 +++++++++++++++++++++
 .../e2e/hive/TestDescribeMetadataPrivileges.java   |   5 +
 4 files changed, 189 insertions(+), 7 deletions(-)

commit f0f9d620af09013e6ce6ab97db944ab73a6e4ef9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Aug 17 11:41:28 2018 -0500

    SENTRY-2296: Add PermissionsUpdate for adding owner privilege on owner transfer. (Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../service/thrift/SentryPolicyStoreProcessor.java | 56 ++++++++++++++--------
 1 file changed, 36 insertions(+), 20 deletions(-)

commit 260d11abf85fa3f36952c05dae82ba706269e297
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Aug 17 11:35:54 2018 -0500

    SENTRY-2312: Update owner privileges for table when owner is changed. (Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../java/org/apache/sentry/binding/metastore/SentryHmsEvent.java    | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c6d139762e941fa896c0395eb06e36749c9cd67d
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Aug 14 15:30:12 2018 -0500

    SENTRY-2352: User roles with ALTER on a table can not show or describe the table on which they have ALTER (Sergio Pena, reviewed by Na Li)

 .../binding/hive/authz/DefaultSentryValidator.java |   3 +-
 .../hive/authz/HiveAuthzBindingHookBase.java       |   2 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   6 +-
 .../e2e/hive/TestDescribeMetadataPrivileges.java   | 148 ++++++++++++++++++++
 .../tests/e2e/hive/TestShowMetadataPrivileges.java | 154 +++++++++++++++++++++
 5 files changed, 309 insertions(+), 4 deletions(-)

commit 3d062f39ce6a047138660a7b3d0024bde916c5b4
Author: amishra <amishra@cloudera.com>
Date:   Fri Aug 10 21:54:45 2018 -0500

    SENTRY-2333: Create index AUTHZ_PATH_FK_IDX at table AUTHZ_PATH for Postgres only when it does not exist (Arjun Mishra reviewed by Na Li)
    
    Change-Id: I69caafa59d902d3231576f177d38a513c09a39f5

 .../src/main/resources/010-SENTRY-2210.postgres.sql           | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 8446e8f17183d9ad3c55c53cf846028e5d821497
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Aug 9 18:25:31 2018 -0500

    SENTRY-2330: Change sentry-service-server to use project.version  (Steve Moist, reviewed by Na Li)

 sentry-service/sentry-service-api/pom.xml    | 2 +-
 sentry-service/sentry-service-server/pom.xml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7c5be79b4fdcc32afee95e56899a55786d8952a8
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Aug 9 18:14:00 2018 -0500

    SENTRY-2335: Allow sentry to have multiple handlers for a Signal (Brian Towles, reviewed by Na Li)

 .../apache/sentry/core/common/utils/SigUtils.java  | 46 +++++++++++++++-------
 1 file changed, 31 insertions(+), 15 deletions(-)

commit 8f600a6a6fea26d13a0e7ec17028fc5da004ddd1
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Aug 9 11:31:30 2018 -0500

    SENTRY-2313: alter database set owner command can be executed only by user with proper privilege (Na Li, reviewed by Kalyan Kumar Kalvagadda)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   4 +
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   8 +-
 .../sentry/binding/metastore/SentryHmsEvent.java   |  22 +++
 ...entrySyncHMSNotificationsPostEventListener.java |  19 +++
 .../service/thrift/SentryPolicyStoreProcessor.java |   4 +-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 176 +++++++++++++++++----
 .../TestOwnerPrivilegesWithGrantOption.java        |  70 ++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   6 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java |   4 +-
 9 files changed, 276 insertions(+), 37 deletions(-)

commit 03236072c606d305fb4a9975fdfa7bbfbdbfb82e
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Aug 9 08:54:01 2018 -0500

    SENTRY-2157: Update audit log to grant/revoke owner privileges (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .../service/thrift/SentryPolicyStoreProcessor.java | 133 ++++-------
 .../provider/db/audit/SentryAuditLogger.java       | 261 +++++++++++++++++++++
 .../db/log/entity/JsonLogEntityFactory.java        |  53 ++++-
 .../sentry/provider/db/log/util/CommandUtil.java   |  47 +++-
 .../sentry/provider/db/log/util/Constants.java     |   2 +
 .../db/log/entity/TestJsonLogEntityFactory.java    |   8 +-
 6 files changed, 407 insertions(+), 97 deletions(-)

commit acdb36df38bfa2ebb978d879fd796b9933aa8bd0
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Aug 9 08:07:11 2018 -0500

    SENTRY-2337: [REVERT] SENTRY-2295: Owner privileges should not be granted to sentry admin users( Kalyan Kumar Kalvagadda reviewed by Lina li)

 .../service/thrift/SentryPolicyStoreProcessor.java | 35 ++-----------------
 .../db/service/persistent/SentryStore.java         |  3 +-
 .../service/persistent/SentryStoreInterface.java   |  8 -----
 .../thrift/TestSentryPolicyStoreProcessor.java     | 38 +++++++++-----------
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 40 +++++++++-------------
 5 files changed, 38 insertions(+), 86 deletions(-)

commit c30d5611194d852df76ea34d3b6c3dd3676ccf34
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Aug 8 15:27:42 2018 -0500

    SENTRY-2255: alter table set owner command can be executed only by user with proper privilege (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../binding/hive/authz/HiveAuthzBinding.java       |   6 +-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  24 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  12 +-
 .../sentry/policy/common/CommonPrivilege.java      |  31 ++-
 .../provider/common/AuthorizationProvider.java     |  16 ++
 .../provider/common/NoAuthorizationProvider.java   |   6 +
 .../common/ResourceAuthorizationProvider.java      |  26 +-
 .../db/service/persistent/SentryStore.java         |   8 +
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 282 +++++++++++++++++++--
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   1 +
 10 files changed, 380 insertions(+), 32 deletions(-)

commit fb7bb7bc6cdd5ea6f12e28c5e81001a0b5cce60b
Author: amishra <amishra@cloudera.com>
Date:   Mon Aug 6 10:33:59 2018 -0500

    SENTRY-2316: Rename any 'entity' word for 'principal' to be consistent with Hive principal name and type (Arjun Mishra reviewed by Sergio Pena and Kalyan Kumar Kalvagadda)
    
    Change-Id: Ib89356952e98d58611e1c31e8f162d3666180bfb

 .../sentry/binding/metastore/SentryHmsEvent.java   |  18 +-
 ...entrySyncHMSNotificationsPostEventListener.java |  18 +-
 .../java/org/apache/sentry/SentryOwnerInfo.java    |  10 +-
 .../sentry/service/common/ServiceConstants.java    |   2 +-
 .../hdfs/service/thrift/TPrivilegeChanges.java     |  80 ++---
 ...ivilegeEntity.java => TPrivilegePrincipal.java} |  76 ++--
 ...ntityType.java => TPrivilegePrincipalType.java} |   6 +-
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |   4 +-
 .../src/main/resources/sentry_hdfs_service.thrift  |  14 +-
 .../apache/sentry/hdfs/TestPermissionUpdate.java   |   8 +-
 .../org/apache/sentry/hdfs/SentryPermissions.java  |  30 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  22 +-
 .../apache/sentry/hdfs/TestSentryPermissions.java  |  14 +-
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |   6 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  10 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  28 +-
 .../org/apache/sentry/hdfs/TestDeltaRetriever.java |  14 +-
 .../org/apache/sentry/hdfs/TestImageRetriever.java |  14 +-
 .../hdfs/TestSentryHDFSServiceProcessor.java       |   6 +-
 .../thrift/TListSentryPrivilegesRequest.java       | 112 +++---
 .../thrift/TSentryHmsEventNotification.java        |  20 +-
 ...ectOwnerType.java => TSentryPrincipalType.java} |   9 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |   8 +-
 .../main/resources/sentry_policy_service.thrift    |  11 +-
 .../TestSentryPolicyServiceClientDefaultImpl.java  |   4 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  36 +-
 .../db/service/model/MSentryPrivilege.java         |  30 +-
 .../provider/db/service/model/MSentryRole.java     |  16 +-
 .../provider/db/service/model/MSentryUser.java     |  12 +-
 .../service/persistent/NotificationProcessor.java  |  10 +-
 .../db/service/persistent/PermissionsImage.java    |   8 +-
 ...rivilegeEntity.java => PrivilegePrincipal.java} |   8 +-
 .../db/service/persistent/SentryStore.java         | 218 ++++++------
 .../service/persistent/SentryStoreInterface.java   |   8 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |  50 +--
 .../generic/service/persistent/TestSentryRole.java |  16 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |  16 +-
 .../db/service/persistent/TestSentryStore.java     | 386 ++++++++++-----------
 39 files changed, 682 insertions(+), 678 deletions(-)

commit f3f238ab991cd82ae7f468f9658ddef1e273ac1e
Author: amishra <amishra@cloudera.com>
Date:   Fri Aug 3 10:52:38 2018 -0500

    SENTRY-2332: Load hadoop default configuration when starting sentry service (Arjun Mishra reviewed by Lina Li)
    
    Change-Id: I61896ad01b49271202e3857b13f7e0faa6fd1ac0

 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java | 2 +-
 .../sentry/api/service/thrift/TestNotificationHandlerInvoker.java     | 2 +-
 .../sentry/api/service/thrift/TestSentryPolicyStoreProcessor.java     | 2 +-
 .../db/generic/service/persistent/SentryStoreIntegrationBase.java     | 2 +-
 .../db/service/persistent/TestHMSFollowerSentryStoreIntegration.java  | 2 +-
 .../apache/sentry/provider/db/service/persistent/TestSentryStore.java | 2 +-
 .../provider/db/service/persistent/TestSentryStoreImportExport.java   | 2 +-
 .../sentry/provider/db/service/persistent/TestSentryVersion.java      | 2 +-
 .../apache/sentry/service/thrift/SentryServiceIntegrationBase.java    | 2 +-
 .../sentry/tests/e2e/dbprovider/AbstractTestWithDbProvider.java       | 2 +-
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java     | 2 +-
 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java    | 4 ++--
 .../test/java/org/apache/sentry/tests/e2e/solr/TestSentryServer.java  | 4 ++--
 13 files changed, 15 insertions(+), 15 deletions(-)

commit 049da445fd5f1320f7b4cde888d8f3433e20e4ba
Author: amishra <amishra@cloudera.com>
Date:   Thu Aug 2 11:30:16 2018 -0500

    SENTRY-2324: Allow sentry to fetch configurable notifications from HMS (Arjun Mishra reviewed by  Kalyan Kumar Kalvagadda and  Lina li)
    
    Change-Id: I0272a0f53e5387e21f9cd7c08a64177467edbafe

 .../org/apache/sentry/hdfs/ServiceConstants.java   |  3 +
 .../db/service/persistent/HMSFollower.java         | 22 ++++++-
 .../service/thrift/HiveNotificationFetcher.java    |  2 +-
 .../db/service/persistent/TestHMSFollower.java     | 69 ++++++++++++++++++++++
 .../thrift/TestHiveNotificationFetcher.java        | 33 +++++++++++
 5 files changed, 126 insertions(+), 3 deletions(-)

commit 3dab053e18b4197e97f4a654e2707cb1eb673047
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jul 25 16:18:20 2018 -0500

    SENTRY-2309: Add relevant full snapshot timeline messages to std.out. ( Arjun Mishra reviewed by  Kalyan Kumar Kalvagadda and  Lina li)

 .../sentry/hdfs/SentryAuthorizationInfo.java       |  7 +++--
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  | 20 ++++++++++++---
 .../sentry/api/common/SentryServiceUtil.java       | 12 +++++++++
 .../db/service/persistent/HMSFollower.java         | 30 ++++++++++++++--------
 .../service/thrift/FullUpdateInitializer.java      | 19 +++++++++-----
 .../sentry/service/thrift/SentryHMSClient.java     | 10 ++++++--
 6 files changed, 73 insertions(+), 25 deletions(-)

commit a3a1999950d6dc8292651494491302cc808dbba1
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 23 10:47:38 2018 -0500

    SENTRY-2310: Sentry is not be able to fetch full update subsequently, when there is HMS restart in the snapshot process. (Kalyan Kumar Kalvagadda reviewed by Sergio Pena, Lina li and Arjun Mishra)

 .../sentry/service/thrift/SentryHMSClient.java     | 44 +++++++++++++---------
 1 file changed, 26 insertions(+), 18 deletions(-)

commit 061ef73fefedf4dc60a6c2ffb2d3973c3dddee33
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 23 10:45:09 2018 -0500

     Revert SENTRY-2283 Multiple versions of metrics on the classpath causes Sentry to not startup (Kalyan Kumar Kalvagadda reviewed by Sergio Pena, Lina li and Arjun Mishra)
    
     Reverting the patch as it was committed with wrong description.

 .../sentry/service/thrift/SentryHMSClient.java     | 44 +++++++++-------------
 1 file changed, 18 insertions(+), 26 deletions(-)

commit ef90f311f9138ecc35f8e6faf487d5b019bbf0af
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 16 17:46:30 2018 -0500

    SENTRY-2190: Have verbose debug logs in CounterWait class (Kalyan Kumar Kalvagadda reviewed by  Lina li and Steve Moist)

 .../apache/sentry/provider/db/service/persistent/CounterWait.java   | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4a75a39314ec772d13e56a9b53de5d6603327493
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 16 16:43:03 2018 -0500

    SENTRY-2283 Multiple versions of metrics on the classpath causes Sentry to not startup (Kalyan Kumar Kalvagadda reviewed by Sergio Pena, Lina li and Arjun Mishra)

 .../sentry/service/thrift/SentryHMSClient.java     | 44 +++++++++++++---------
 1 file changed, 26 insertions(+), 18 deletions(-)

commit 13010b0b600c4f2e7a7ea7f0ec8dcae87632950a
Author: lina.li <lina.li@cloudera.com>
Date:   Fri Jul 13 15:10:52 2018 -0500

    SENTRY-2299: NPE In Sentry HDFS Sync Plugin (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java |  8 ++++++-
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  | 28 ++++++++++++++++++++++
 2 files changed, 35 insertions(+), 1 deletion(-)

commit 4d9665f60c240eba17356c6c91646c1c357a62d5
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jul 10 09:38:21 2018 -0500

    SENTRY-2283 Multiple versions of metrics on the classpath causes Sentry to not startup (Steve Moist reviewed by Kalyan Kumar Kalvagadda)

 pom.xml                                            | 14 +++++++-
 sentry-binding/sentry-binding-kafka/pom.xml        |  6 ++++
 sentry-dist/src/license/THIRD-PARTY.properties     |  2 +-
 sentry-dist/src/main/assembly/bin.xml              |  2 ++
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |  2 +-
 .../org/apache/sentry/hdfs/PathDeltaRetriever.java |  2 +-
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  2 +-
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |  2 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  2 +-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  2 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |  8 ++---
 sentry-provider/sentry-provider-db/pom.xml         | 16 ++++++++--
 sentry-service/sentry-service-server/pom.xml       | 11 ++++++-
 sentry-tests/sentry-tests-solr/pom.xml             | 37 ----------------------
 sentry-tests/sentry-tests-sqoop/pom.xml            |  1 +
 15 files changed, 57 insertions(+), 52 deletions(-)

commit dbf83ab2b31219b9d3d1e94265917ae1a292cc69
Author: lina.li <lina.li@cloudera.com>
Date:   Fri Jul 6 11:22:33 2018 -0500

    SENTRY-2247: Add e2e tests to verify owner privileges (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../service/thrift/SentryPolicyStoreProcessor.java |   1 +
 .../db/service/persistent/SentryStore.java         | 125 +++---
 .../thrift/TestSentryPolicyStoreProcessor.java     |  11 +-
 .../tests/e2e/dbprovider/TestOwnerPrivileges.java  | 469 +++++++++++++++++++++
 .../TestOwnerPrivilegesWithGrantOption.java        |  30 ++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  12 +-
 6 files changed, 575 insertions(+), 73 deletions(-)

commit 702495b404fd6b55587f23de14e1feedd9cb64ce
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jul 3 15:30:10 2018 -0500

    SENTRY-2295: Owner privileges should not be granted to sentry admin users (Kalyan Kumar Kalvagadda reviewed by Arjun Mishra and Lina Li)

 .../service/thrift/SentryPolicyStoreProcessor.java | 35 ++++++++++-
 .../db/service/persistent/SentryStore.java         |  3 +-
 .../service/persistent/SentryStoreInterface.java   |  8 +++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 72 +++++++++++++++++++++-
 4 files changed, 110 insertions(+), 8 deletions(-)

commit 9eea789b589b4a4a32a6170a59aad62c19b715cc
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Jul 2 22:09:50 2018 -0500

    SENTRY-2293: Fix logging parameters on SentryHDFSServiceProcessor (Arjun Mishra, reviewed by Na Li)

 .../main/java/org/apache/sentry/hdfs/SentryHDFSServiceProcessor.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 03ef821ec4d2948020eb0fdf4b1bdbd5bf807a20
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Jun 29 15:56:31 2018 -0500

    SENTRY-2294: Add requestorUsername to client.notifyHmsEvent() method (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .../sentry/binding/metastore/SentryHmsEvent.java   |  30 ++--
 ...entrySyncHMSNotificationsPostEventListener.java |  23 ++-
 ...entrySyncHMSNotificationsPostEventListener.java | 161 +++++++--------------
 .../thrift/TSentryHmsEventNotification.java        | 141 +++++++++++++++---
 .../service/thrift/SentryPolicyServiceClient.java  |  13 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  13 +-
 .../main/resources/sentry_policy_service.thrift    |  11 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +-
 8 files changed, 235 insertions(+), 163 deletions(-)

commit 00274ccd676b8378b9cf80f414c6a643a46655b5
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Jun 29 17:06:16 2018 -0500

    SENTRY-2277: Add to SentryStore testURI test case testing with multiple URI privileges (Arjun Mishra reviewed by Kalyan Kumar Kalvagadda and Lina Li)

 .../db/service/persistent/TestSentryStore.java     | 71 ++++++++++++++++------
 1 file changed, 52 insertions(+), 19 deletions(-)

commit d0536f55cbb64dfb1d1f69831e4fedf14ec8447b
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Jun 28 15:25:01 2018 -0500

    SENTRY-2280: The request received in SentryPolicyStoreProcessor.sentry_notify_hms_event is null  (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../sentry/binding/metastore/SentryHmsEvent.java   |  39 +--
 ...entrySyncHMSNotificationsPostEventListener.java |  23 +-
 ...entrySyncHMSNotificationsPostEventListener.java |  21 +-
 .../thrift/TSentryHmsEventNotification.java        | 282 +++++++++++----------
 .../main/resources/sentry_policy_service.thrift    |   7 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +
 6 files changed, 212 insertions(+), 166 deletions(-)

commit 7bbcec262ee57ab9097b14d1eeae5e18f251014f
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Jun 28 14:36:46 2018 -0500

    SENTRY-2285: Add a profile '-Pdist' to package Sentry binaries (Sergio Pena, reviewed by Colm O hEigeartaigh, kalyan kumar kalvagadda)

 sentry-dist/pom.xml | 204 +++++++++++++++++++++++++++-------------------------
 1 file changed, 105 insertions(+), 99 deletions(-)

commit 96a473390aaeafc145ecc466a94879d0f0b809ab
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 27 16:45:07 2018 -0500

    SENTRY-2284: Add two client API to get all roles or users privileges mapping (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .../api/service/thrift/SentryPolicyService.java    | 1716 ++++++++++++++++++++
 .../service/thrift/TSentryPrivilegesRequest.java   |  494 ++++++
 .../service/thrift/TSentryPrivilegesResponse.java  |  604 +++++++
 .../service/thrift/SentryPolicyServiceClient.java  |   21 +
 .../SentryPolicyServiceClientDefaultImpl.java      |   34 +
 .../main/resources/sentry_policy_service.thrift    |   27 +
 .../TestSentryPolicyServiceClientDefaultImpl.java  |   75 +
 .../service/thrift/SentryPolicyStoreProcessor.java |   68 +
 .../db/service/persistent/SentryStore.java         |   69 +
 .../service/persistent/SentryStoreInterface.java   |   18 +
 .../thrift/TestSentryPolicyStoreProcessor.java     |  100 ++
 .../db/service/persistent/TestSentryStore.java     |  109 ++
 12 files changed, 3335 insertions(+)

commit 8e64b2fa5fc84c4683d59097229355329dd06526
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 27 13:34:14 2018 -0500

    SENTRY-2273: Create the SHOW GRANT USER task for Hive (Arjun Mishra, reviewed by Sergio Pena, Na Li)

 .../binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java   |  2 +-
 .../binding/hive/TestSentryHiveAuthorizationTaskFactory.java   | 10 ++++++++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit e358fde7f7a22f6848f464d55644d6eec89b5f88
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 27 11:44:47 2018 -0500

    SENTRY-2282: Remove hive-authzv2 binding and tests modules completely (Sergio Pena, reviewed by Na Li)

 sentry-binding/pom.xml                             |   22 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml      |  163 --
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   |  162 --
 .../binding/hive/authz/SentryConfigTool.java       |  643 ------
 .../hive/v2/HiveAuthzBindingHookBaseV2.java        |  880 --------
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    |  157 --
 .../hive/v2/HiveAuthzBindingSessionHookV2.java     |  129 --
 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  |  327 ---
 .../binding/hive/v2/SentryAuthorizerFactory.java   |  164 --
 .../SentryHiveAuthorizationTaskFactoryImplV2.java  |   64 -
 .../binding/hive/v2/SentryHivePrivilegeObject.java |   32 -
 .../authorizer/DefaultSentryAccessController.java  |  564 -----
 .../hive/v2/authorizer/DefaultSentryValidator.java |  477 -----
 .../v2/authorizer/SentryHiveAccessController.java  |  200 --
 .../SentryHiveAuthorizationValidator.java          |   58 -
 .../hive/v2/authorizer/SentryHiveAuthorizer.java   |  192 --
 .../v2/metastore/AuthorizingObjectStoreBaseV2.java |  412 ----
 .../v2/metastore/AuthorizingObjectStoreV2.java     |  412 ----
 .../v2/metastore/MetastoreAuthzBindingBaseV2.java  |  459 ----
 .../hive/v2/metastore/MetastoreAuthzBindingV2.java |   99 -
 .../v2/metastore/SentryHiveMetaStoreClientV2.java  |  161 --
 .../v2/metastore/SentryMetaStoreFilterHook.java    |  201 --
 .../SentryMetastorePostEventListenerBaseV2.java    |  416 ----
 .../SentryMetastorePostEventListenerV2.java        |   73 -
 .../binding/hive/v2/util/SentryAuthorizerUtil.java |  362 ----
 .../hive/v2/util/SimpleSemanticAnalyzer.java       |  372 ----
 .../hive/v2/DummyHiveAuthenticationProvider.java   |   63 -
 sentry-tests/sentry-tests-hive-v2/pom.xml          |  530 -----
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  166 --
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  417 ----
 .../e2e/dbprovider/TestConcurrentClients.java      |  343 ---
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 2215 --------------------
 .../dbprovider/TestDbColumnLevelMetaDataOps.java   |  374 ----
 .../tests/e2e/dbprovider/TestDbComplexView.java    |  314 ---
 .../tests/e2e/dbprovider/TestDbConnections.java    |  150 --
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |   40 -
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    |  293 ---
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  251 ---
 .../dbprovider/TestDbExportImportPrivileges.java   |   44 -
 .../tests/e2e/dbprovider/TestDbJDBCInterface.java  |   45 -
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |   44 -
 .../e2e/dbprovider/TestDbMetadataPermissions.java  |   39 -
 .../e2e/dbprovider/TestDbMovingToProduction.java   |   38 -
 .../tests/e2e/dbprovider/TestDbOperations.java     |   37 -
 .../e2e/dbprovider/TestDbPrivilegeAtTransform.java |   38 -
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  354 ----
 .../dbprovider/TestDbPrivilegesAtColumnScope.java  |   38 -
 .../TestDbPrivilegesAtDatabaseScope.java           |   46 -
 .../TestDbPrivilegesAtFunctionScope.java           |   39 -
 .../dbprovider/TestDbPrivilegesAtTableScope.java   |   39 -
 .../dbprovider/TestDbRuntimeMetadataRetrieval.java |   46 -
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     |   49 -
 .../TestDbSentryOnFailureHookLoading.java          |  271 ---
 .../tests/e2e/dbprovider/TestDbUriPermissions.java |   45 -
 .../tests/e2e/dbprovider/TestGrantUserToRole.java  |  261 ---
 .../dbprovider/TestPrivilegeWithGrantOption.java   |  379 ----
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |  160 --
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 1932 -----------------
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |   28 -
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |   94 -
 .../hive/AbstractTestWithStaticConfiguration.java  |  723 -------
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  321 ---
 .../tests/e2e/hive/DummySentryOnFailureHook.java   |   44 -
 .../sentry/tests/e2e/hive/PolicyFileEditor.java    |   78 -
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  |  124 --
 .../sentry/tests/e2e/hive/StaticUserGroup.java     |   55 -
 .../sentry/tests/e2e/hive/TestConfigTool.java      |  346 ---
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  669 ------
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  |  120 --
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  128 --
 .../tests/e2e/hive/TestExportImportPrivileges.java |  162 --
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   |  228 --
 .../sentry/tests/e2e/hive/TestLockPrivileges.java  |  214 --
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  501 -----
 .../tests/e2e/hive/TestMetadataPermissions.java    |  128 --
 .../tests/e2e/hive/TestMovingToProduction.java     |  220 --
 .../sentry/tests/e2e/hive/TestOperations.java      | 1289 ------------
 .../tests/e2e/hive/TestPerDBConfiguration.java     |  408 ----
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  118 --
 .../tests/e2e/hive/TestPolicyImportExport.java     |  196 --
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  118 --
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |  518 -----
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  399 ----
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  262 ---
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  662 ------
 .../tests/e2e/hive/TestReloadPrivileges.java       |   54 -
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  429 ----
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  529 -----
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |  134 --
 .../tests/e2e/hive/TestServerConfiguration.java    |  265 ---
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  262 ---
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  383 ----
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  |  138 --
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      |   87 -
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |   69 -
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   |   32 -
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |   49 -
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |   94 -
 .../e2e/hive/hiveserver/AbstractHiveServer.java    |   95 -
 .../e2e/hive/hiveserver/EmbeddedHiveServer.java    |   60 -
 .../e2e/hive/hiveserver/ExternalHiveServer.java    |  124 --
 .../tests/e2e/hive/hiveserver/HiveServer.java      |   34 -
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  296 ---
 .../e2e/hive/hiveserver/InternalHiveServer.java    |   47 -
 .../hive/hiveserver/InternalMetastoreServer.java   |   80 -
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |  113 -
 ...stractMetastoreTestWithStaticConfiguration.java |  218 --
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  165 --
 .../e2e/metastore/TestAuthorizingObjectStore.java  | 1106 ----------
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |  113 -
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  628 ------
 .../tests/e2e/minisentry/InternalSentrySrv.java    |  235 ---
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |   86 -
 .../tests/e2e/minisentry/SentrySrvFactory.java     |   45 -
 .../test/resources/core-site-for-sentry-test.xml   |   34 -
 .../src/test/resources/emp.dat                     |   12 -
 .../sentry-tests-hive-v2/src/test/resources/hadoop |  107 -
 .../src/test/resources/kv1.dat                     |  500 -----
 .../src/test/resources/log4j.properties            |   35 -
 .../src/test/resources/log4j2.properties           |   53 -
 .../src/test/resources/sentry-provider.ini         |   25 -
 .../src/test/resources/sentry-site.xml             |   33 -
 .../src/test/resources/testPolicyImport.ini        |   25 -
 .../src/test/resources/testPolicyImportAdmin.ini   |   22 -
 .../src/test/resources/testPolicyImportError.ini   |   21 -
 .../scripts/scale-test/create-many-dbs-tables.sh   |  277 ---
 126 files changed, 1 insertion(+), 31567 deletions(-)

commit 0397fc5e3f6956ff5d56bb32acbb8670c18d0659
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 27 11:37:34 2018 -0500

    SENTRY-2272: Fix the sentry store logic for listing user privileges (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 .../hive/authz/DefaultSentryAccessController.java  | 30 +++++++++++++++++++---
 1 file changed, 26 insertions(+), 4 deletions(-)

commit cfd1036fea2d66d39c29587e22d44861aadcba1f
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jun 26 15:21:31 2018 -0500

    SENTRY-2281: list_privileges_by_user() fails with a JDODetachedFieldAccessException (Arjun Mishra, reviewed by Sergio Pena, Na Li)

 .../db/service/persistent/SentryStore.java         | 15 +++++++++---
 .../db/service/persistent/TestSentryStore.java     | 28 ++++++++++++++++++++++
 2 files changed, 40 insertions(+), 3 deletions(-)

commit 9aeb2e236045c960aa90eea4a36ff050cc78c1d8
Author: lina.li <lina.li@cloudera.com>
Date:   Tue Jun 26 13:22:12 2018 -0500

    SENTRY-2264: It is possible to elevate privileges from DROP using alter table rename (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  2 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 92 +++++++++++++++++++---
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 56 ++++++++++---
 3 files changed, 125 insertions(+), 25 deletions(-)

commit 3ae60f6b8dc21887517e8b5a6a20a279e8d699bf
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jun 26 09:38:40 2018 -0500

    SENTRY-2238: Explicitly set Database on SentryHivePrivilegeObjectDesc (Arjun Mishra, reviewed by Sergio Pena, Na Li)

 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |  9 ++++++++
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  4 ++++
 .../TestSentryHiveAuthorizationTaskFactory.java    | 26 ++++++++++++++++++++--
 3 files changed, 37 insertions(+), 2 deletions(-)

commit 9caa0d1d05871028ae1fc53bfc945c37e9c6eadc
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jun 25 21:38:39 2018 -0500

    SENTRY-2269: Make SentryStore pluggable. (Fahd Siddiqui reviewed by Kalyan Kumar Kalvagadda )

 .../sentry/core/common/utils/SentryConstants.java  |  27 +
 .../sentry/service/common/ServiceConstants.java    |   3 +
 .../org/apache/sentry/hdfs/PathDeltaRetriever.java |   6 +-
 .../org/apache/sentry/hdfs/PathImageRetriever.java |   6 +-
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |   6 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |   6 +-
 .../hdfs/SentryHDFSServiceProcessorFactory.java    |   4 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |   3 +-
 .../apache/sentry/hdfs/TestDBUpdateForwarder.java  |  12 +-
 .../SentryGenericPolicyProcessorFactory.java       |   4 +-
 .../sentry/api/service/thrift/SentryMetrics.java   |   3 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  11 +-
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   4 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../persistent/PrivilegeOperatePersistence.java    |   3 +-
 .../service/classification/InterfaceAudience.java  |  47 ++
 .../db/service/persistent/HMSFollower.java         |  11 +-
 .../service/persistent/NotificationProcessor.java  |  11 +-
 .../db/service/persistent/QueryParamBuilder.java   |   6 +-
 .../db/service/persistent/SentryStore.java         |  49 +-
 .../service/persistent/SentryStoreInterface.java   | 785 +++++++++++++++++++++
 .../apache/sentry/service/thrift/DynamicProxy.java |  72 ++
 .../service/thrift/HiveNotificationFetcher.java    |   9 +-
 .../sentry/service/thrift/ProcessorFactory.java    |   6 +-
 .../sentry/service/thrift/SentryHMSClient.java     |  16 +-
 .../sentry/service/thrift/SentryService.java       |  34 +-
 .../generic/service/persistent/TestSentryRole.java |  22 +-
 .../db/service/persistent/TestHMSFollower.java     |  13 +-
 .../db/service/persistent/TestSentryStore.java     |   3 +-
 .../persistent/TestSentryStoreImportExport.java    |  35 +-
 30 files changed, 1093 insertions(+), 128 deletions(-)

commit 74842080936b93a8ef9b874774fd841764adc42c
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jun 25 09:32:24 2018 -0500

    SENTRY-2235: Add hive tests to verify column privileges for views. (Kalyan Kumar Kalvagadda reviewed by Sergio Pena)

 .../tests/e2e/dbprovider/TestDbComplexView.java    | 68 ++++++++++++++++++++++
 1 file changed, 68 insertions(+)

commit 3278c714c490d505b84b798bb9b77732f7f7ef7f
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Jun 22 15:17:55 2018 -0500

    SENTRY-2251: Update user privileges based on changes to authorizables (Kalyan Kumar Kalvagadda reviewed by Sergio Pena and Arjun Mishra)

 .../db/service/persistent/SentryStore.java         | 78 ++++++++++++----------
 .../db/service/persistent/TestSentryStore.java     | 42 +++++++++++-
 2 files changed, 80 insertions(+), 40 deletions(-)

commit 4d9bc9cea94f13b7994817d33c016c776fa7dcda
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jun 21 15:59:05 2018 -0500

    SENTRY-2274: Grant and revoke owner privileges based on HMS updates(server-side) (Kalyan Kumar Kalvagadda reviewed by Sergio Pena)

 .../java/org/apache/sentry/SentryOwnerInfo.java    |  84 ++++++++
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 ++--
 .../sentry/api/service/thrift/SentryMetrics.java   |   2 +
 .../service/thrift/SentryPolicyStoreProcessor.java | 227 ++++++++++++++++++++-
 .../provider/db/SentryPolicyStorePlugin.java       |  22 +-
 .../db/service/persistent/CounterWait.java         |   4 +-
 .../db/service/persistent/SentryStore.java         | 208 ++++++++++++++++++-
 .../thrift/TestSentryPolicyStoreProcessor.java     | 125 +++++++++++-
 .../db/service/persistent/TestSentryStore.java     | 204 ++++++++++++++++++
 9 files changed, 869 insertions(+), 47 deletions(-)

commit f330be532b8425bb2b6ba6d9ca64f99bf951e764
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jun 21 15:47:58 2018 -0500

    SENTRY-2209: Incorrect class in SentryHdfsMetricsUtil.java. (Arjun Mishra, reviewed by Kalyan Kumar Kalvagadda)

 .../src/main/java/org/apache/sentry/hdfs/SentryHdfsMetricsUtil.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ca6de57e5c132d79686ff9b0eada2567e37165de
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Jun 21 15:15:15 2018 -0500

    SENTRY-2231: Fix URI check on List Privileges by Provider in SentryStore (Arjun Mishra, reviewed by Sergio Pena)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java  | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 47d339a011e73587009e8d38547eb6c08b519c71
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Jun 21 15:14:33 2018 -0500

    SENTRY-2199: Bump Hive version from 2.3.2 to 2.3.3 (Arjun Mishra, reviewed by Sergio Pena)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e9c6626f3b9a40e9cdbfce712953168bffa530a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 20 10:10:08 2018 -0500

    SENTRY-2271: Wrong log messages/method names in SentrySchema related classes. (Arjun Mishra, reviewed by Sergio Pena)

 .../service/persistent/SentryStoreSchemaInfo.java  |  2 +-
 .../apache/sentry/cli/tools/SentrySchemaTool.java  | 28 +++++++++++-----------
 2 files changed, 15 insertions(+), 15 deletions(-)

commit 86c12d64ee47d2644a7bcda7277bedcae98c8aba
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jun 20 07:22:36 2018 -0500

    SENTRY-2275: Grant and revoke owner privileges based on HMS updates(client-side). (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)

 .../sentry/binding/metastore/SentryHmsEvent.java   | 221 ++++++++++++++
 ...entrySyncHMSNotificationsPostEventListener.java | 174 +++++++----
 ...entrySyncHMSNotificationsPostEventListener.java | 337 +++++++++++++++++++--
 .../service/thrift/SentryPolicyServiceClient.java  |   9 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  11 +
 5 files changed, 662 insertions(+), 90 deletions(-)

commit bee44c28adac869ccf9972854d31e88adcc5f251
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jun 19 17:43:28 2018 -0500

    SENTRY-2224: Support SHOW GRANT on HIVE_OBJECT (Arjun Mishra, reviewed by Sergio Pena)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  59 ++++--
 .../hive/authz/DefaultSentryAccessController.java  |  78 +++++++
 .../TestSentryHiveAuthorizationTaskFactory.java    |  46 +++++
 .../api/service/thrift/SentryObjectPrivileges.java |  54 +++++
 .../service/thrift/SentryPolicyServiceClient.java  |  22 ++
 .../SentryPolicyServiceClientDefaultImpl.java      |  33 ++-
 .../tests/e2e/dbprovider/TestShowGrants.java       | 227 +++++++++++++++++++++
 7 files changed, 500 insertions(+), 19 deletions(-)

commit 6d2ad5fa59810038f1649c7216741082c4e3171b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jun 19 13:16:04 2018 -0500

    SENTRY-2265: Translate owner privilege in sentry binding for authorization (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 .../main/java/org/apache/sentry/core/model/db/HiveActionFactory.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 9c3614bcebd84b4218ec3195201483cc88d8be4a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Jun 15 11:32:54 2018 -0500

    SENTRY-2270: Illegal privileges on columns can be granted on Hive (Sergio Pena, reviewd by Arjun Mishra)

 .../sentry/binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java   | 4 ++--
 .../sentry/binding/hive/authz/DefaultSentryAccessController.java      | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 035333a4da12681d4a4406da101915b976a2cdc9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jun 13 10:10:26 2018 -0500

    SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins. (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)

 dev-support/test-patch.py | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit 64292b85094db8d9dbbaf9113e7c777d2233f920
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jun 13 10:09:10 2018 -0500

    Revert SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins. (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)
    
    Reverting the change as there was issue while running tests.

 dev-support/test-patch.py | 21 ++++++---------------
 1 file changed, 6 insertions(+), 15 deletions(-)

commit 25f025f3ca89b1e4b4ce7adee8477b4d130214d7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Jun 13 09:27:06 2018 -0500

    SENTRY-2267: Listing user privileges fails because roleName field is required on Thrift (Sergio Pena, reviewed by Na Li, Arjun Mishra)

 .../sentry/api/service/thrift/SentryPolicyServiceClientDefaultImpl.java | 2 ++
 1 file changed, 2 insertions(+)

commit 3f32313d196c5ff9844530450a301392c7d4eb4d
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jun 12 15:51:22 2018 -0500

    SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins. (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)

 dev-support/test-patch.py | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit d41696d6ae32dec16767d15d0d8d31b9e34f38fd
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jun 12 15:49:50 2018 -0500

    Revert SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins. (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)

 dev-support/test-patch.py | 22 ++++++----------------
 1 file changed, 6 insertions(+), 16 deletions(-)

commit 283fe7c5ad520733f334735c8d3eb70f6907833a
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jun 12 15:30:03 2018 -0500

    SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins. (Kalyan Kumar kalvagadda, reviewed-by Sergio Pena)

 dev-support/test-patch.py | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit cfd4962c851b896c263de6ed05c5abf5a3a0e59b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jun 12 13:18:18 2018 -0500

    SENTRY-2262: Sentry client is not compatible when connecting to Sentry 2.0 (Sergio Pena, reviewed by Na Li)

 .../api/service/thrift/SentryPolicyServiceClientDefaultImpl.java | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 4f75cc1c4be7e10f48abf42caeee6e500808cee8
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jun 12 10:02:41 2018 -0500

    SENTRY-2260: Update HDFS ACL's based on owner privileges. (Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  | 20 ++++++++
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |  6 +++
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  5 +-
 .../org/apache/sentry/hdfs/TestDeltaRetriever.java | 56 ++++++++++++++++++++++
 .../org/apache/sentry/hdfs/TestImageRetriever.java | 41 ++++++++++++++++
 5 files changed, 126 insertions(+), 2 deletions(-)

commit 112cdcd4f671bd9554f68752ecafdb943cd1e163
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Jun 8 15:20:02 2018 -0500

    SENTRY-2252: Normalize the Sentry store API's to handle both user/role privileges (Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../db/service/model/MSentryPrivilege.java         |  32 +-
 .../provider/db/service/model/MSentryRole.java     |  23 +-
 .../provider/db/service/model/MSentryUser.java     |  19 +-
 .../db/service/persistent/PrivilegeEntity.java     |  48 ++
 .../db/service/persistent/SentryStore.java         | 579 +++++----------------
 .../generic/service/persistent/TestSentryRole.java |  16 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |  17 +-
 .../db/service/persistent/TestSentryStore.java     | 294 +++++------
 8 files changed, 404 insertions(+), 624 deletions(-)

commit 097948e320f71912f195bbbeb834fddb8fc9c85c
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Jun 7 16:38:41 2018 -0500

    SENTRY-2259: SQL CONSTRAINT name is too long for Oracle 11.2 (Na Li, reviewed by Sergio Pena)

 .../sentry-provider-db/src/main/resources/011-SENTRY-2154.derby.sql | 4 ++--
 .../sentry-provider-db/src/main/resources/011-SENTRY-2154.mysql.sql | 4 ++--
 .../src/main/resources/011-SENTRY-2154.oracle.sql                   | 6 +++---
 .../src/main/resources/011-SENTRY-2154.postgres.sql                 | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-db2-2.1.0.sql      | 6 +++---
 .../sentry-provider-db/src/main/resources/sentry-derby-2.1.0.sql    | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.1.0.sql    | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.1.0.sql   | 6 +++---
 .../sentry-provider-db/src/main/resources/sentry-postgres-2.1.0.sql | 2 +-
 .../src/main/resources/sentry-upgrade-db2-2.0.0-to-2.1.0.sql        | 6 +++---
 10 files changed, 23 insertions(+), 23 deletions(-)

commit 212eb0ccd43c63ba1b5b4846ecaa4ae1c48c9e9d
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu May 31 17:42:42 2018 -0500

    SENTRY-2162: Retrieve and list user privileges for authorization (Sergio Pena, reviewed by Na Li, kalyan kumar kalvagadda)

 .../hive/authz/DefaultSentryAccessController.java  |  26 +++-
 sentry-service/sentry-service-api/pom.xml          |   5 +
 .../service/thrift/SentryPolicyServiceClient.java  |  46 ++++++
 .../SentryPolicyServiceClientDefaultImpl.java      |  58 +++++++-
 .../TestSentryPolicyServiceClientDefaultImpl.java  | 162 +++++++++++++++++++++
 .../sentry/api/service/thrift/SentryMetrics.java   |   2 +
 .../service/thrift/SentryPolicyStoreProcessor.java | 109 +++++++++++++-
 .../service/thrift/MockGroupMappingService.java    |  48 ++++++
 .../thrift/TestSentryPolicyStoreProcessor.java     |  97 +++++++++++-
 9 files changed, 538 insertions(+), 15 deletions(-)

commit 315a8913aa9dfc5fad7a9863c766267fd6f7877b
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Jun 6 15:18:31 2018 -0500

    SENTRY-2245: Remove privileges that do not associate with a role or a user (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../db/service/persistent/SentryStore.java         | 67 ++++++++--------------
 .../db/service/persistent/TestSentryStore.java     | 10 ++++
 2 files changed, 34 insertions(+), 43 deletions(-)

commit 360e9c304cf67beb63a02f9b33417730456f04a5
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Jun 6 14:51:39 2018 -0500

    SENTRY-2258: Remove user when it is not associated with other objects (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../db/service/persistent/SentryStore.java         | 39 +++++++++++++++++++---
 .../db/service/persistent/TestSentryStore.java     | 20 +++++++----
 2 files changed, 49 insertions(+), 10 deletions(-)

commit 10217aab572eddae40cd2fa623a3b201839e2c9b
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Jun 6 13:22:20 2018 -0500

    SENTRY-2244: Alter sentry role or user at granting privilege can avoid extra query to database (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../db/service/persistent/SentryStore.java         | 67 ++++++++++++++++------
 1 file changed, 50 insertions(+), 17 deletions(-)

commit 74f130fe579f6655b4f33be60408f7f7f359249a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Jun 4 10:36:00 2018 -0500

    SENTRY-2256: Make thrift API changes to get user privileges from Sentry (Sergio Pena, reviewed by Na Li)

 .../api/service/thrift/SentryPolicyService.java    | 858 +++++++++++++++++++++
 .../thrift/TListSentryPrivilegesByAuthRequest.java | 205 ++++-
 .../TListSentryPrivilegesByAuthResponse.java       | 233 +++++-
 .../thrift/TListSentryPrivilegesRequest.java       | 114 ++-
 .../api/service/thrift/TSentryMappingData.java     | 220 +++---
 .../main/resources/sentry_policy_service.thrift    |  24 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +
 7 files changed, 1488 insertions(+), 172 deletions(-)

commit 60f95b3d74ef524fe17c42e671e70f5461640681
Author: lina.li <lina.li@cloudera.com>
Date:   Sun Jun 3 20:57:06 2018 -0500

    SENTRY-2143: Table renames should synchronize with Sentry (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Alexander Kolbasov)

 ...entrySyncHMSNotificationsPostEventListener.java | 33 ++++++++++-
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 68 +++++++++++++++++++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  6 +-
 3 files changed, 95 insertions(+), 12 deletions(-)

commit f462149080a77ca96c752be578062073e632e93f
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu May 31 14:02:03 2018 -0500

    SENTRY-2243: Extend the thrift definition for policy service to learn owner information (Kalyan Kumar kalvagadda, reviewed-by Na Li, Sergio Pena)

 .../api/service/thrift/SentryPolicyService.java    | 858 +++++++++++++++++++
 .../thrift/TSentryHmsEventNotification.java        | 905 +++++++++++++++++++++
 .../TSentryHmsEventNotificationResponse.java       | 493 +++++++++++
 .../api/service/thrift/TSentryObjectOwnerType.java |  45 +
 .../main/resources/sentry_policy_service.thrift    |  32 +
 .../service/thrift/SentryPolicyStoreProcessor.java |   9 +
 6 files changed, 2342 insertions(+)

commit e6703a5802962689ef60dd8f952cb09b988dbced
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu May 31 11:20:38 2018 -0500

    SENTRY-2246: Construct owner privilege (TSentryPrivilege) (Kalyan Kumar kalvagadda, reviewed-by Na Li, Sergio Pena)

 .../sentry/service/common/ServiceConstants.java    |  13 +++
 .../service/thrift/SentryPolicyStoreProcessor.java |  34 +++++++
 .../thrift/TestSentryPolicyStoreProcessor.java     | 112 ++++++++++++++++++++-
 3 files changed, 158 insertions(+), 1 deletion(-)

commit 7db84b2fec3c8f51c5c78dc1c52718295dd42cd7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed May 30 22:27:19 2018 -0500

    SENTRY-2208: Refactor out Sentry service into own module from sentry-provider-db (Anthony Young-Garner, reviewed by Sergio Pena, Steve Moist, Na Li)
    
    Applied patch with smart-apply-patch.sh

 sentry-hdfs/sentry-hdfs-service/pom.xml            |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |  64 +---
 sentry-service/pom.xml                             |   2 +
 sentry-service/sentry-service-client/pom.xml       |  69 +++++
 .../service/thrift/SentryServiceClientFactory.java |   0
 sentry-service/sentry-service-server/pom.xml       | 321 +++++++++++++++++++++
 .../thrift/SentryGenericPolicyProcessor.java       |   0
 .../SentryGenericPolicyProcessorFactory.java       |   0
 .../sentry/api/service/thrift/ConfServlet.java     |   0
 .../sentry/api/service/thrift/LogLevelServlet.java |   0
 .../sentry/api/service/thrift/PubSubServlet.java   |   0
 .../api/service/thrift/SentryAdminServlet.java     |   0
 .../api/service/thrift/SentryAuthFilter.java       |   0
 .../SentryHealthCheckServletContextListener.java   |   0
 .../sentry/api/service/thrift/SentryMetrics.java   |   0
 .../SentryMetricsServletContextListener.java       |   0
 .../service/thrift/SentryPolicyStoreProcessor.java |   0
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   0
 .../sentry/api/service/thrift/SentryWebServer.java |   0
 .../provider/db/SentryPolicyStorePlugin.java       |   0
 .../service/persistent/DelegateSentryStore.java    |   0
 .../service/persistent/PrivilegeObject.java        |   0
 .../persistent/PrivilegeOperatePersistence.java    |  14 +-
 .../service/persistent/SentryStoreLayer.java       |   0
 .../generic/tools/GenericPrivilegeConverter.java   |   0
 .../generic/tools/TSentryPrivilegeConverter.java   |   0
 .../db/log/appender/AuditLoggerTestAppender.java   |   0
 .../appender/RollingFileWithoutDeleteAppender.java |   0
 .../db/log/entity/AuditMetadataLogEntity.java      |   0
 .../db/log/entity/DBAuditMetadataLogEntity.java    |   0
 .../db/log/entity/GMAuditMetadataLogEntity.java    |   0
 .../provider/db/log/entity/JsonLogEntity.java      |   0
 .../db/log/entity/JsonLogEntityFactory.java        |   0
 .../sentry/provider/db/log/util/CommandUtil.java   |   0
 .../sentry/provider/db/log/util/Constants.java     |   0
 .../db/service/model/MAuthzPathsMapping.java       |   0
 .../db/service/model/MAuthzPathsSnapshotId.java    |   0
 .../sentry/provider/db/service/model/MPath.java    |   0
 .../provider/db/service/model/MSentryChange.java   |   0
 .../db/service/model/MSentryGMPrivilege.java       |   0
 .../provider/db/service/model/MSentryGroup.java    |   0
 .../db/service/model/MSentryHmsNotification.java   |   0
 .../db/service/model/MSentryPathChange.java        |   0
 .../db/service/model/MSentryPermChange.java        |   0
 .../db/service/model/MSentryPrivilege.java         |   0
 .../provider/db/service/model/MSentryRole.java     |   0
 .../provider/db/service/model/MSentryUser.java     |   0
 .../provider/db/service/model/MSentryUtil.java     |   0
 .../provider/db/service/model/MSentryVersion.java  |   0
 .../sentry/provider/db/service/model/package.jdo   |   0
 .../db/service/persistent/CounterWait.java         |   0
 .../service/persistent/DeltaTransactionBlock.java  |   0
 .../persistent/FixedJsonInstanceSerializer.java    |   0
 .../provider/db/service/persistent/HAContext.java  |   0
 .../db/service/persistent/HMSFollower.java         |   0
 .../db/service/persistent/LeaderStatusMonitor.java |   0
 .../service/persistent/NotificationProcessor.java  |   4 +-
 .../provider/db/service/persistent/PathsImage.java |   0
 .../db/service/persistent/PermissionsImage.java    |   0
 .../db/service/persistent/QueryParamBuilder.java   |   0
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/persistent/SentryStoreSchemaInfo.java  |   0
 .../db/service/persistent/TransactionBlock.java    |   0
 .../db/service/persistent/TransactionManager.java  |   0
 .../service/thrift/FullUpdateInitializer.java      |   0
 .../sentry/service/thrift/FullUpdateModifier.java  |   0
 .../apache/sentry/service/thrift/GSSCallback.java  |   0
 .../apache/sentry/service/thrift/HMSClient.java    |   0
 .../sentry/service/thrift/HMSFollowerState.java    |   0
 .../service/thrift/HiveConnectionFactory.java      |   0
 .../service/thrift/HiveNotificationFetcher.java    |   0
 .../thrift/HiveSimpleConnectionFactory.java        |   0
 .../sentry/service/thrift/JaasConfiguration.java   |   0
 .../service/thrift/KerberosConfiguration.java      |   0
 .../sentry/service/thrift/ProcessorFactory.java    |   0
 .../sentry/service/thrift/SentryHMSClient.java     |   0
 .../service/thrift/SentryKerberosContext.java      |   0
 .../sentry/service/thrift/SentryService.java       |   0
 .../service/thrift/SentryServiceFactory.java       |   0
 .../sentry/service/thrift/SentryServiceState.java  |   0
 .../apache/sentry/service/thrift/SentryState.java  |   0
 .../sentry/service/thrift/SentryStateBank.java     |   0
 .../src/main/webapp/SentryService.html             |   0
 .../src/main/webapp/css/bootstrap-theme.min.css    |   0
 .../src/main/webapp/css/bootstrap.min.css          |   0
 .../src/main/webapp/css/sentry.css                 |   0
 .../src/main/webapp/sentry.png                     | Bin
 .../SentryGenericServiceIntegrationBase.java       |   0
 .../TestAuditLogForSentryGenericService.java       |  16 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   0
 .../thrift/TestSentryGenericServiceClient.java     |  19 +-
 .../TestSentryGenericServiceIntegration.java       |   0
 .../api/service/thrift/SentryMiniKdcTestcase.java  |   0
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   4 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   0
 .../thrift/TestNotificationHandlerInvoker.java     |   0
 .../thrift/TestSentryPolicyServiceClient.java      |  18 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   0
 .../TestSentryServerForPoolWithoutKerberos.java    |   0
 .../service/thrift/TestSentryServerLogLevel.java   |   0
 .../api/service/thrift/TestSentryServerPubSub.java |   0
 .../thrift/TestSentryServerWithoutKerberos.java    |   0
 .../thrift/TestSentryServiceClientPool.java        |  16 +-
 .../thrift/TestSentryServiceFailureCase.java       |   0
 .../TestSentryServiceForPoolWithKerberos.java      |   0
 .../thrift/TestSentryServiceImportExport.java      |   0
 .../thrift/TestSentryServiceIntegration.java       |   0
 .../service/thrift/TestSentryServiceMetrics.java   |   0
 .../TestSentryServiceWithInvalidMsgSize.java       |  32 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   0
 .../thrift/TestSentryWebServerWithKerberos.java    |  34 +--
 .../service/thrift/TestSentryWebServerWithSSL.java |   0
 .../thrift/TestSentryWebServerWithoutSecurity.java |   0
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../persistent/SentryStoreIntegrationBase.java     |   0
 .../persistent/TestDelegateSentryStore.java        |   0
 .../TestPrivilegeOperatePersistence.java           |   0
 .../service/persistent/TestSentryGMPrivilege.java  |   0
 .../generic/service/persistent/TestSentryRole.java |   0
 .../TestRollingFileWithoutDeleteAppender.java      |   0
 .../log/entity/TestDbAuditMetadataLogEntity.java   |   0
 .../log/entity/TestGMAuditMetadataLogEntity.java   |   0
 .../db/log/entity/TestJsonLogEntityFactory.java    |   0
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |   0
 .../provider/db/log/util/TestCommandUtil.java      |   0
 .../provider/db/service/model/TestMSentryUtil.java |   0
 .../db/service/persistent/TestCounterWait.java     |   0
 .../db/service/persistent/TestHMSFollower.java     |   0
 .../TestHMSFollowerSentryStoreIntegration.java     |   0
 .../persistent/TestLeaderStatusMonitor.java        |   0
 .../persistent/TestNotificationProcessor.java      |   0
 .../db/service/persistent/TestSentryPrivilege.java |   0
 .../db/service/persistent/TestSentryStore.java     |   0
 .../persistent/TestSentryStoreImportExport.java    |   0
 .../persistent/TestSentryStoreToAuthorizable.java  |   0
 .../db/service/persistent/TestSentryVersion.java   |   0
 .../thrift/SentryServiceIntegrationBase.java       |   8 +-
 .../service/thrift/SentryStateBankTestHelper.java  |   0
 .../service/thrift/SentryWebMetricParser.java      |   0
 .../service/thrift/TestFullUpdateInitializer.java  |   0
 .../service/thrift/TestFullUpdateModifier.java     |   0
 .../thrift/TestHiveNotificationFetcher.java        |   0
 .../sentry/service/thrift/TestSentryHMSClient.java |   0
 .../sentry/service/thrift/TestSentryStateBank.java |   0
 .../src/test/resources/cacerts.jks                 | Bin 0 -> 954 bytes
 .../src/test/resources/keystore.jks                | Bin 0 -> 2245 bytes
 .../src/test/resources/log4j.properties            |  34 +++
 sentry-tests/sentry-tests-hive/pom.xml             |   3 +-
 sentry-tests/sentry-tests-kafka/pom.xml            |   3 +-
 sentry-tests/sentry-tests-solr/pom.xml             |  53 +++-
 sentry-tests/sentry-tests-sqoop/pom.xml            |   3 +-
 sentry-tools/pom.xml                               |   7 +-
 152 files changed, 585 insertions(+), 160 deletions(-)

commit 9351d19de9526dc281c7304fe636468bc7afcaff
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed May 30 22:26:04 2018 -0500

    Revert "SENTRY-2208: Refactor out Sentry service into own module from sentry-provider-db (Anthony Young-Garner, reviewed by Sergio Pena, Steve Moist, Na Li)"
    
    This reverts commit b97f5c7aa89d3c9061dd1b6655fc0702caa93f1f.

 sentry-hdfs/sentry-hdfs-service/pom.xml            |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |  64 +++-
 .../thrift/SentryGenericPolicyProcessor.java       |   0
 .../SentryGenericPolicyProcessorFactory.java       |   0
 .../sentry/api/service/thrift/ConfServlet.java     |   0
 .../sentry/api/service/thrift/LogLevelServlet.java |   0
 .../sentry/api/service/thrift/PubSubServlet.java   |   0
 .../api/service/thrift/SentryAdminServlet.java     |   0
 .../api/service/thrift/SentryAuthFilter.java       |   0
 .../SentryHealthCheckServletContextListener.java   |   0
 .../sentry/api/service/thrift/SentryMetrics.java   |   0
 .../SentryMetricsServletContextListener.java       |   0
 .../service/thrift/SentryPolicyStoreProcessor.java |   0
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   0
 .../sentry/api/service/thrift/SentryWebServer.java |   0
 .../provider/db/SentryPolicyStorePlugin.java       |   0
 .../service/persistent/DelegateSentryStore.java    |   0
 .../service/persistent/PrivilegeObject.java        |   0
 .../persistent/PrivilegeOperatePersistence.java    |  14 +-
 .../service/persistent/SentryStoreLayer.java       |   0
 .../generic/tools/GenericPrivilegeConverter.java   |   0
 .../generic/tools/TSentryPrivilegeConverter.java   |   0
 .../db/log/appender/AuditLoggerTestAppender.java   |   0
 .../appender/RollingFileWithoutDeleteAppender.java |   0
 .../db/log/entity/AuditMetadataLogEntity.java      |   0
 .../db/log/entity/DBAuditMetadataLogEntity.java    |   0
 .../db/log/entity/GMAuditMetadataLogEntity.java    |   0
 .../provider/db/log/entity/JsonLogEntity.java      |   0
 .../db/log/entity/JsonLogEntityFactory.java        |   0
 .../sentry/provider/db/log/util/CommandUtil.java   |   0
 .../sentry/provider/db/log/util/Constants.java     |   0
 .../db/service/model/MAuthzPathsMapping.java       |   0
 .../db/service/model/MAuthzPathsSnapshotId.java    |   0
 .../sentry/provider/db/service/model/MPath.java    |   0
 .../provider/db/service/model/MSentryChange.java   |   0
 .../db/service/model/MSentryGMPrivilege.java       |   0
 .../provider/db/service/model/MSentryGroup.java    |   0
 .../db/service/model/MSentryHmsNotification.java   |   0
 .../db/service/model/MSentryPathChange.java        |   0
 .../db/service/model/MSentryPermChange.java        |   0
 .../db/service/model/MSentryPrivilege.java         |   0
 .../provider/db/service/model/MSentryRole.java     |   0
 .../provider/db/service/model/MSentryUser.java     |   0
 .../provider/db/service/model/MSentryUtil.java     |   0
 .../provider/db/service/model/MSentryVersion.java  |   0
 .../sentry/provider/db/service/model/package.jdo   |   0
 .../db/service/persistent/CounterWait.java         |   0
 .../service/persistent/DeltaTransactionBlock.java  |   0
 .../persistent/FixedJsonInstanceSerializer.java    |   0
 .../provider/db/service/persistent/HAContext.java  |   0
 .../db/service/persistent/HMSFollower.java         |   0
 .../db/service/persistent/LeaderStatusMonitor.java |   0
 .../service/persistent/NotificationProcessor.java  |   4 +-
 .../provider/db/service/persistent/PathsImage.java |   0
 .../db/service/persistent/PermissionsImage.java    |   0
 .../db/service/persistent/QueryParamBuilder.java   |   0
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/persistent/SentryStoreSchemaInfo.java  |   0
 .../db/service/persistent/TransactionBlock.java    |   0
 .../db/service/persistent/TransactionManager.java  |   0
 .../service/thrift/FullUpdateInitializer.java      |   0
 .../sentry/service/thrift/FullUpdateModifier.java  |   0
 .../apache/sentry/service/thrift/GSSCallback.java  |   0
 .../apache/sentry/service/thrift/HMSClient.java    |   0
 .../sentry/service/thrift/HMSFollowerState.java    |   0
 .../service/thrift/HiveConnectionFactory.java      |   0
 .../service/thrift/HiveNotificationFetcher.java    |   0
 .../thrift/HiveSimpleConnectionFactory.java        |   0
 .../sentry/service/thrift/JaasConfiguration.java   |   0
 .../service/thrift/KerberosConfiguration.java      |   0
 .../sentry/service/thrift/ProcessorFactory.java    |   0
 .../sentry/service/thrift/SentryHMSClient.java     |   0
 .../service/thrift/SentryKerberosContext.java      |   0
 .../sentry/service/thrift/SentryService.java       |   0
 .../service/thrift/SentryServiceClientFactory.java |   0
 .../service/thrift/SentryServiceFactory.java       |   0
 .../sentry/service/thrift/SentryServiceState.java  |   0
 .../apache/sentry/service/thrift/SentryState.java  |   0
 .../sentry/service/thrift/SentryStateBank.java     |   0
 .../src/main/webapp/SentryService.html             |   0
 .../src/main/webapp/css/bootstrap-theme.min.css    |   0
 .../src/main/webapp/css/bootstrap.min.css          |   0
 .../src/main/webapp/css/sentry.css                 |   0
 .../sentry-provider-db}/src/main/webapp/sentry.png | Bin
 .../SentryGenericServiceIntegrationBase.java       |   0
 .../TestAuditLogForSentryGenericService.java       |  16 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   0
 .../thrift/TestSentryGenericServiceClient.java     |  19 +-
 .../TestSentryGenericServiceIntegration.java       |   0
 .../api/service/thrift/SentryMiniKdcTestcase.java  |   0
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   4 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   0
 .../thrift/TestNotificationHandlerInvoker.java     |   0
 .../thrift/TestSentryPolicyServiceClient.java      |  18 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   0
 .../TestSentryServerForPoolWithoutKerberos.java    |   0
 .../service/thrift/TestSentryServerLogLevel.java   |   0
 .../api/service/thrift/TestSentryServerPubSub.java |   0
 .../thrift/TestSentryServerWithoutKerberos.java    |   0
 .../thrift/TestSentryServiceClientPool.java        |  16 +-
 .../thrift/TestSentryServiceFailureCase.java       |   0
 .../TestSentryServiceForPoolWithKerberos.java      |   0
 .../thrift/TestSentryServiceImportExport.java      |   0
 .../thrift/TestSentryServiceIntegration.java       |   0
 .../service/thrift/TestSentryServiceMetrics.java   |   0
 .../TestSentryServiceWithInvalidMsgSize.java       |  32 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   0
 .../thrift/TestSentryWebServerWithKerberos.java    |  34 +--
 .../service/thrift/TestSentryWebServerWithSSL.java |   0
 .../thrift/TestSentryWebServerWithoutSecurity.java |   0
 .../persistent/SentryStoreIntegrationBase.java     |   0
 .../persistent/TestDelegateSentryStore.java        |   0
 .../TestPrivilegeOperatePersistence.java           |   0
 .../service/persistent/TestSentryGMPrivilege.java  |   0
 .../generic/service/persistent/TestSentryRole.java |   0
 .../TestRollingFileWithoutDeleteAppender.java      |   0
 .../log/entity/TestDbAuditMetadataLogEntity.java   |   0
 .../log/entity/TestGMAuditMetadataLogEntity.java   |   0
 .../db/log/entity/TestJsonLogEntityFactory.java    |   0
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |   0
 .../provider/db/log/util/TestCommandUtil.java      |   0
 .../provider/db/service/model/TestMSentryUtil.java |   0
 .../db/service/persistent/TestCounterWait.java     |   0
 .../db/service/persistent/TestHMSFollower.java     |   0
 .../TestHMSFollowerSentryStoreIntegration.java     |   0
 .../persistent/TestLeaderStatusMonitor.java        |   0
 .../persistent/TestNotificationProcessor.java      |   0
 .../db/service/persistent/TestSentryPrivilege.java |   0
 .../db/service/persistent/TestSentryStore.java     |   0
 .../persistent/TestSentryStoreImportExport.java    |   0
 .../persistent/TestSentryStoreToAuthorizable.java  |   0
 .../db/service/persistent/TestSentryVersion.java   |   0
 .../thrift/SentryServiceIntegrationBase.java       |   8 +-
 .../service/thrift/SentryStateBankTestHelper.java  |   0
 .../service/thrift/SentryWebMetricParser.java      |   0
 .../service/thrift/TestFullUpdateInitializer.java  |   0
 .../service/thrift/TestFullUpdateModifier.java     |   0
 .../thrift/TestHiveNotificationFetcher.java        |   0
 .../sentry/service/thrift/TestSentryHMSClient.java |   0
 .../sentry/service/thrift/TestSentryStateBank.java |   0
 sentry-service/pom.xml                             |   2 -
 sentry-service/sentry-service-client/pom.xml       |  69 -----
 sentry-service/sentry-service-server/pom.xml       | 321 ---------------------
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../src/test/resources/cacerts.jks                 |   0
 .../src/test/resources/keystore.jks                |   0
 .../src/test/resources/log4j.properties            |  34 ---
 sentry-tests/sentry-tests-hive/pom.xml             |   3 +-
 sentry-tests/sentry-tests-kafka/pom.xml            |   3 +-
 sentry-tests/sentry-tests-solr/pom.xml             |  53 +---
 sentry-tests/sentry-tests-sqoop/pom.xml            |   3 +-
 sentry-tools/pom.xml                               |   7 +-
 152 files changed, 160 insertions(+), 585 deletions(-)

commit b97f5c7aa89d3c9061dd1b6655fc0702caa93f1f
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue May 29 13:05:25 2018 -0500

    SENTRY-2208: Refactor out Sentry service into own module from sentry-provider-db (Anthony Young-Garner, reviewed by Sergio Pena, Steve Moist, Na Li)
    
    Change-Id: I78a047b5c1900e4c6f4de693ad80b9d5b781e9ea

 sentry-hdfs/sentry-hdfs-service/pom.xml            |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |  64 +---
 sentry-service/pom.xml                             |   2 +
 sentry-service/sentry-service-client/pom.xml       |  69 +++++
 .../service/thrift/SentryServiceClientFactory.java |   0
 sentry-service/sentry-service-server/pom.xml       | 321 +++++++++++++++++++++
 .../thrift/SentryGenericPolicyProcessor.java       |   0
 .../SentryGenericPolicyProcessorFactory.java       |   0
 .../sentry/api/service/thrift/ConfServlet.java     |   0
 .../sentry/api/service/thrift/LogLevelServlet.java |   0
 .../sentry/api/service/thrift/PubSubServlet.java   |   0
 .../api/service/thrift/SentryAdminServlet.java     |   0
 .../api/service/thrift/SentryAuthFilter.java       |   0
 .../SentryHealthCheckServletContextListener.java   |   0
 .../sentry/api/service/thrift/SentryMetrics.java   |   0
 .../SentryMetricsServletContextListener.java       |   0
 .../service/thrift/SentryPolicyStoreProcessor.java |   0
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   0
 .../sentry/api/service/thrift/SentryWebServer.java |   0
 .../provider/db/SentryPolicyStorePlugin.java       |   0
 .../service/persistent/DelegateSentryStore.java    |   0
 .../service/persistent/PrivilegeObject.java        |   0
 .../persistent/PrivilegeOperatePersistence.java    |  14 +-
 .../service/persistent/SentryStoreLayer.java       |   0
 .../generic/tools/GenericPrivilegeConverter.java   |   0
 .../generic/tools/TSentryPrivilegeConverter.java   |   0
 .../db/log/appender/AuditLoggerTestAppender.java   |   0
 .../appender/RollingFileWithoutDeleteAppender.java |   0
 .../db/log/entity/AuditMetadataLogEntity.java      |   0
 .../db/log/entity/DBAuditMetadataLogEntity.java    |   0
 .../db/log/entity/GMAuditMetadataLogEntity.java    |   0
 .../provider/db/log/entity/JsonLogEntity.java      |   0
 .../db/log/entity/JsonLogEntityFactory.java        |   0
 .../sentry/provider/db/log/util/CommandUtil.java   |   0
 .../sentry/provider/db/log/util/Constants.java     |   0
 .../db/service/model/MAuthzPathsMapping.java       |   0
 .../db/service/model/MAuthzPathsSnapshotId.java    |   0
 .../sentry/provider/db/service/model/MPath.java    |   0
 .../provider/db/service/model/MSentryChange.java   |   0
 .../db/service/model/MSentryGMPrivilege.java       |   0
 .../provider/db/service/model/MSentryGroup.java    |   0
 .../db/service/model/MSentryHmsNotification.java   |   0
 .../db/service/model/MSentryPathChange.java        |   0
 .../db/service/model/MSentryPermChange.java        |   0
 .../db/service/model/MSentryPrivilege.java         |   0
 .../provider/db/service/model/MSentryRole.java     |   0
 .../provider/db/service/model/MSentryUser.java     |   0
 .../provider/db/service/model/MSentryUtil.java     |   0
 .../provider/db/service/model/MSentryVersion.java  |   0
 .../sentry/provider/db/service/model/package.jdo   |   0
 .../db/service/persistent/CounterWait.java         |   0
 .../service/persistent/DeltaTransactionBlock.java  |   0
 .../persistent/FixedJsonInstanceSerializer.java    |   0
 .../provider/db/service/persistent/HAContext.java  |   0
 .../db/service/persistent/HMSFollower.java         |   0
 .../db/service/persistent/LeaderStatusMonitor.java |   0
 .../service/persistent/NotificationProcessor.java  |   4 +-
 .../provider/db/service/persistent/PathsImage.java |   0
 .../db/service/persistent/PermissionsImage.java    |   0
 .../db/service/persistent/QueryParamBuilder.java   |   0
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/persistent/SentryStoreSchemaInfo.java  |   0
 .../db/service/persistent/TransactionBlock.java    |   0
 .../db/service/persistent/TransactionManager.java  |   0
 .../service/thrift/FullUpdateInitializer.java      |   0
 .../sentry/service/thrift/FullUpdateModifier.java  |   0
 .../apache/sentry/service/thrift/GSSCallback.java  |   0
 .../apache/sentry/service/thrift/HMSClient.java    |   0
 .../sentry/service/thrift/HMSFollowerState.java    |   0
 .../service/thrift/HiveConnectionFactory.java      |   0
 .../service/thrift/HiveNotificationFetcher.java    |   0
 .../thrift/HiveSimpleConnectionFactory.java        |   0
 .../sentry/service/thrift/JaasConfiguration.java   |   0
 .../service/thrift/KerberosConfiguration.java      |   0
 .../sentry/service/thrift/ProcessorFactory.java    |   0
 .../sentry/service/thrift/SentryHMSClient.java     |   0
 .../service/thrift/SentryKerberosContext.java      |   0
 .../sentry/service/thrift/SentryService.java       |   0
 .../service/thrift/SentryServiceFactory.java       |   0
 .../sentry/service/thrift/SentryServiceState.java  |   0
 .../apache/sentry/service/thrift/SentryState.java  |   0
 .../sentry/service/thrift/SentryStateBank.java     |   0
 .../src/main/webapp/SentryService.html             |   0
 .../src/main/webapp/css/bootstrap-theme.min.css    |   0
 .../src/main/webapp/css/bootstrap.min.css          |   0
 .../src/main/webapp/css/sentry.css                 |   0
 .../src/main/webapp/sentry.png                     | Bin
 .../SentryGenericServiceIntegrationBase.java       |   0
 .../TestAuditLogForSentryGenericService.java       |  16 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   0
 .../thrift/TestSentryGenericServiceClient.java     |  19 +-
 .../TestSentryGenericServiceIntegration.java       |   0
 .../api/service/thrift/SentryMiniKdcTestcase.java  |   0
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   4 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   0
 .../thrift/TestNotificationHandlerInvoker.java     |   0
 .../thrift/TestSentryPolicyServiceClient.java      |  18 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   0
 .../TestSentryServerForPoolWithoutKerberos.java    |   0
 .../service/thrift/TestSentryServerLogLevel.java   |   0
 .../api/service/thrift/TestSentryServerPubSub.java |   0
 .../thrift/TestSentryServerWithoutKerberos.java    |   0
 .../thrift/TestSentryServiceClientPool.java        |  16 +-
 .../thrift/TestSentryServiceFailureCase.java       |   0
 .../TestSentryServiceForPoolWithKerberos.java      |   0
 .../thrift/TestSentryServiceImportExport.java      |   0
 .../thrift/TestSentryServiceIntegration.java       |   0
 .../service/thrift/TestSentryServiceMetrics.java   |   0
 .../TestSentryServiceWithInvalidMsgSize.java       |  32 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   0
 .../thrift/TestSentryWebServerWithKerberos.java    |  34 +--
 .../service/thrift/TestSentryWebServerWithSSL.java |   0
 .../thrift/TestSentryWebServerWithoutSecurity.java |   0
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../persistent/SentryStoreIntegrationBase.java     |   0
 .../persistent/TestDelegateSentryStore.java        |   0
 .../TestPrivilegeOperatePersistence.java           |   0
 .../service/persistent/TestSentryGMPrivilege.java  |   0
 .../generic/service/persistent/TestSentryRole.java |   0
 .../TestRollingFileWithoutDeleteAppender.java      |   0
 .../log/entity/TestDbAuditMetadataLogEntity.java   |   0
 .../log/entity/TestGMAuditMetadataLogEntity.java   |   0
 .../db/log/entity/TestJsonLogEntityFactory.java    |   0
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |   0
 .../provider/db/log/util/TestCommandUtil.java      |   0
 .../provider/db/service/model/TestMSentryUtil.java |   0
 .../db/service/persistent/TestCounterWait.java     |   0
 .../db/service/persistent/TestHMSFollower.java     |   0
 .../TestHMSFollowerSentryStoreIntegration.java     |   0
 .../persistent/TestLeaderStatusMonitor.java        |   0
 .../persistent/TestNotificationProcessor.java      |   0
 .../db/service/persistent/TestSentryPrivilege.java |   0
 .../db/service/persistent/TestSentryStore.java     |   0
 .../persistent/TestSentryStoreImportExport.java    |   0
 .../persistent/TestSentryStoreToAuthorizable.java  |   0
 .../db/service/persistent/TestSentryVersion.java   |   0
 .../thrift/SentryServiceIntegrationBase.java       |   8 +-
 .../service/thrift/SentryStateBankTestHelper.java  |   0
 .../service/thrift/SentryWebMetricParser.java      |   0
 .../service/thrift/TestFullUpdateInitializer.java  |   0
 .../service/thrift/TestFullUpdateModifier.java     |   0
 .../thrift/TestHiveNotificationFetcher.java        |   0
 .../sentry/service/thrift/TestSentryHMSClient.java |   0
 .../sentry/service/thrift/TestSentryStateBank.java |   0
 .../src/test/resources/cacerts.jks                 |   0
 .../src/test/resources/keystore.jks                |   0
 .../src/test/resources/log4j.properties            |  34 +++
 sentry-tests/sentry-tests-hive/pom.xml             |   3 +-
 sentry-tests/sentry-tests-kafka/pom.xml            |   3 +-
 sentry-tests/sentry-tests-solr/pom.xml             |  53 +++-
 sentry-tests/sentry-tests-sqoop/pom.xml            |   3 +-
 sentry-tools/pom.xml                               |   7 +-
 152 files changed, 585 insertions(+), 160 deletions(-)

commit 97f666345c1c068fed56a29512f9dcea77e44c8a
Author: lina.li <lina.li@cloudera.com>
Date:   Thu May 24 11:57:30 2018 -0500

    SENTRY-2156: Update provider-db backend code to grant privileges to user (Na Li, reviewed by Alexander Kolbasov, Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../sentry/service/common/ServiceConstants.java    |   5 +
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../db/service/persistent/QueryParamBuilder.java   |  23 +
 .../db/service/persistent/SentryStore.java         | 927 ++++++++++++++++++---
 .../db/service/persistent/TestSentryStore.java     | 377 +++++++--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  12 +-
 6 files changed, 1184 insertions(+), 165 deletions(-)

commit a06e656394672f67c648de73a6e8965478dadde6
Author: lina.li <lina.li@cloudera.com>
Date:   Fri May 18 17:22:49 2018 -0500

    SENTRY-2144: Table Rename Cross Database should update permission correctly. (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra, Alexander Kolbasov)

 .../db/service/persistent/SentryStore.java         |  2 +
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 60 +++++++++++++++++++++-
 2 files changed, 60 insertions(+), 2 deletions(-)

commit 266857472e49bccb02a70328a3d1f45eb01863a4
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu May 17 12:01:15 2018 -0500

    SENTRY-2174: Sentry authorization provider should now generate ACL for users. (Kalyan Kumar kalvagadda, reviewed-by Na Li and Sergio Pena)

 .../org/apache/sentry/hdfs/SentryPermissions.java  | 164 ++++++++++++++++++---
 .../apache/sentry/hdfs/TestSentryPermissions.java  | 118 +++++++++++++++
 2 files changed, 260 insertions(+), 22 deletions(-)

commit 48422f4cc0995d5e0fd0d9705fba7cc3f8e13a40
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue May 15 16:39:29 2018 -0500

    SENTRY-2206: Refactor out sentry api from sentry-provider-db to own module (Steve Moist, reviewed by Sergio Pena)
    
    I had to revert this patch previously in order to remove some files that were removed after I committed this patch before.
    
    Change-Id: I75de264e145653d18b75c0be9619f8967102c49f

 pom.xml                                            |   5 +-
 .../authz/HBaseIndexerAuthzBinding.java            |   4 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../authorizer/DefaultSentryAccessController.java  |   6 +-
 .../SentryMetastorePostEventListenerBaseV2.java    |   2 +-
 .../binding/hive/v2/util/SentryAuthorizerUtil.java |   6 +-
 .../hive/authz/DefaultSentryAccessController.java  |   6 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/binding/util/SentryAuthorizerUtil.java  |  12 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  25 +--
 .../binding/solr/authz/SolrAuthzBinding.java       |  12 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  20 +--
 .../org/apache/sentry/api/common/ApiConstants.java |  90 ++++++++++
 .../sentry/service/common}/ServiceConstants.java   |  83 +--------
 sentry-dist/src/license/THIRD-PARTY.properties     |   3 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |   2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  22 +--
 sentry-provider/sentry-provider-db/pom.xml         | 100 +----------
 .../thrift/SentryGenericPolicyProcessor.java       |  14 +-
 .../SentryGenericPolicyProcessorFactory.java       |   5 +-
 .../db => api}/service/thrift/ConfServlet.java     |   2 +-
 .../db => api}/service/thrift/LogLevelServlet.java |   2 +-
 .../db => api}/service/thrift/PubSubServlet.java   |   2 +-
 .../service/thrift/SentryAdminServlet.java         |   2 +-
 .../service/thrift/SentryAuthFilter.java           |   4 +-
 .../SentryHealthCheckServletContextListener.java   |   2 +-
 .../db => api}/service/thrift/SentryMetrics.java   |   8 +-
 .../SentryMetricsServletContextListener.java       |   2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  26 ++-
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   7 +-
 .../db => api}/service/thrift/SentryWebServer.java |   4 +-
 .../provider/db/SentryPolicyStorePlugin.java       |  16 +-
 .../provider/db/SimpleDBProviderBackend.java       |   8 +-
 .../db/generic/SentryGenericProviderBackend.java   |  24 +--
 .../sentry/provider/db/generic/UpdatableCache.java |  10 +-
 .../service/persistent/DelegateSentryStore.java    |   8 +-
 .../persistent/PrivilegeOperatePersistence.java    |   2 +-
 .../generic/tools/GenericPrivilegeConverter.java   |   6 +-
 .../generic/tools/TSentryPrivilegeConverter.java   |   2 +-
 .../db/log/entity/JsonLogEntityFactory.java        |  66 +++----
 .../sentry/provider/db/log/util/CommandUtil.java   |  20 +--
 .../sentry/provider/db/log/util/Constants.java     |  26 +--
 .../provider/db/service/persistent/HAContext.java  |   2 +-
 .../db/service/persistent/HMSFollower.java         |   2 +-
 .../db/service/persistent/LeaderStatusMonitor.java |   2 +-
 .../service/persistent/NotificationProcessor.java  |   6 +-
 .../db/service/persistent/SentryStore.java         |  22 +--
 .../db/service/persistent/TransactionManager.java  |   4 +-
 .../service/thrift/FullUpdateInitializer.java      |   2 +-
 .../apache/sentry/service/thrift/GSSCallback.java  |   2 +-
 .../thrift/HiveSimpleConnectionFactory.java        |   2 +-
 .../sentry/service/thrift/SentryHMSClient.java     |   2 +-
 .../sentry/service/thrift/SentryService.java       |  14 +-
 .../service/thrift/SentryServiceClientFactory.java |   4 +-
 .../SentryGenericServiceIntegrationBase.java       |   2 +-
 .../TestAuditLogForSentryGenericService.java       |   2 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   6 +-
 .../thrift/TestSentryGenericServiceClient.java     |   2 +-
 .../TestSentryGenericServiceIntegration.java       |   2 +-
 .../service/thrift/SentryMiniKdcTestcase.java      |   2 +-
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   2 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   4 +-
 .../thrift/TestNotificationHandlerInvoker.java     |   2 +-
 .../thrift/TestSentryPolicyServiceClient.java      |   2 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   8 +-
 .../TestSentryServerForPoolWithoutKerberos.java    |   2 +-
 .../service/thrift/TestSentryServerLogLevel.java   |   2 +-
 .../service/thrift/TestSentryServerPubSub.java     |   2 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |   2 +-
 .../thrift/TestSentryServiceClientPool.java        |   2 +-
 .../thrift/TestSentryServiceFailureCase.java       |   4 +-
 .../TestSentryServiceForPoolWithKerberos.java      |   2 +-
 .../thrift/TestSentryServiceImportExport.java      |   2 +-
 .../thrift/TestSentryServiceIntegration.java       |   2 +-
 .../service/thrift/TestSentryServiceMetrics.java   |   2 +-
 .../TestSentryServiceWithInvalidMsgSize.java       |   7 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   2 +-
 .../thrift/TestSentryWebServerWithKerberos.java    |   2 +-
 .../service/thrift/TestSentryWebServerWithSSL.java |   2 +-
 .../thrift/TestSentryWebServerWithoutSecurity.java |   2 +-
 .../generic/TestSentryGenericProviderBackend.java  |   8 +-
 .../persistent/SentryStoreIntegrationBase.java     |   2 +-
 .../TestPrivilegeOperatePersistence.java           |   2 +-
 .../generic/service/persistent/TestSentryRole.java |   2 +-
 .../db/log/entity/TestJsonLogEntityFactory.java    |  34 ++--
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |  32 ++--
 .../provider/db/log/util/TestCommandUtil.java      |  38 ++--
 .../db/service/persistent/TestHMSFollower.java     |   4 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |   4 +-
 .../persistent/TestLeaderStatusMonitor.java        |   2 +-
 .../persistent/TestNotificationProcessor.java      |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  18 +-
 .../persistent/TestSentryStoreImportExport.java    |  12 +-
 .../db/service/persistent/TestSentryVersion.java   |   4 +-
 .../thrift/SentryServiceIntegrationBase.java       |  17 +-
 sentry-service/pom.xml                             |  36 ++++
 sentry-service/sentry-service-api/pom.xml          | 200 +++++++++++++++++++++
 .../thrift/SentryGenericPolicyService.java         |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../sentry/api/generic}/thrift/TAuthorizable.java  |   2 +-
 .../generic}/thrift/TCreateSentryRoleRequest.java  |   2 +-
 .../generic}/thrift/TCreateSentryRoleResponse.java |   2 +-
 .../generic}/thrift/TDropPrivilegesRequest.java    |   2 +-
 .../generic}/thrift/TDropPrivilegesResponse.java   |   2 +-
 .../generic}/thrift/TDropSentryRoleRequest.java    |   2 +-
 .../generic}/thrift/TDropSentryRoleResponse.java   |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../generic}/thrift/TListSentryRolesRequest.java   |   2 +-
 .../generic}/thrift/TListSentryRolesResponse.java  |   2 +-
 .../generic}/thrift/TRenamePrivilegesRequest.java  |   2 +-
 .../generic}/thrift/TRenamePrivilegesResponse.java |   2 +-
 .../api/generic}/thrift/TSentryActiveRoleSet.java  |   2 +-
 .../api/generic}/thrift/TSentryGrantOption.java    |   2 +-
 .../api/generic}/thrift/TSentryPrivilege.java      |  10 +-
 .../api/generic}/thrift/TSentryPrivilegeMap.java   |   2 +-
 .../sentry/api/generic}/thrift/TSentryRole.java    |   2 +-
 .../api}/service/thrift/SentryPolicyService.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   2 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   2 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   2 +-
 .../service/thrift/TDropPrivilegesRequest.java     |   2 +-
 .../service/thrift/TDropPrivilegesResponse.java    |   2 +-
 .../service/thrift/TDropSentryRoleRequest.java     |   2 +-
 .../service/thrift/TDropSentryRoleResponse.java    |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../thrift/TListSentryRolesForUserRequest.java     |   2 +-
 .../service/thrift/TListSentryRolesRequest.java    |   2 +-
 .../service/thrift/TListSentryRolesResponse.java   |   2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   2 +-
 .../api}/service/thrift/TSentryActiveRoleSet.java  |   2 +-
 .../api}/service/thrift/TSentryAuthorizable.java   |   2 +-
 .../service/thrift/TSentryConfigValueRequest.java  |   2 +-
 .../service/thrift/TSentryConfigValueResponse.java |   2 +-
 .../thrift/TSentryExportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryExportMappingDataResponse.java   |   2 +-
 .../api}/service/thrift/TSentryGrantOption.java    |   2 +-
 .../sentry/api}/service/thrift/TSentryGroup.java   |   2 +-
 .../thrift/TSentryImportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryImportMappingDataResponse.java   |   2 +-
 .../api}/service/thrift/TSentryMappingData.java    |   2 +-
 .../api}/service/thrift/TSentryPrivilege.java      |  10 +-
 .../api}/service/thrift/TSentryPrivilegeMap.java   |   2 +-
 .../sentry/api}/service/thrift/TSentryRole.java    |   2 +-
 .../api}/service/thrift/TSentrySyncIDRequest.java  |   2 +-
 .../api}/service/thrift/TSentrySyncIDResponse.java |   2 +-
 .../service/thrift/TSentryResponseStatus.java      |   0
 .../thrift/sentry_common_serviceConstants.java     |   0
 .../sentry/api/common}/SentryServiceUtil.java      |  32 ++--
 .../java/org/apache/sentry/api/common}/Status.java |   9 +-
 .../apache/sentry/api/common/ThriftConstants.java  |  30 ++++
 .../api/generic}/thrift/NotificationHandler.java   |   2 +-
 .../thrift/NotificationHandlerInvoker.java         |   2 +-
 .../SentryGenericPolicyProcessorWrapper.java       |   2 +-
 .../thrift/SentryGenericServiceClient.java         |   2 +-
 .../SentryGenericServiceClientDefaultImpl.java     |  11 +-
 .../thrift/SentryGenericServiceClientFactory.java  |   2 +-
 .../api}/service/thrift/NotificationHandler.java   |   2 +-
 .../service/thrift/NotificationHandlerInvoker.java |   2 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  17 +-
 .../service/thrift/SentryProcessorWrapper.java     |   2 +-
 .../validator/GrantPrivilegeRequestValidator.java  |   8 +-
 .../validator/RevokePrivilegeRequestValidator.java |   4 +-
 .../api/tools/GenericPrivilegeConverter.java       | 190 ++++++++++++++++++++
 .../api/tools/TSentryPrivilegeConverter.java       |  34 ++++
 .../main/resources/sentry_common_service.thrift    |   0
 .../resources/sentry_generic_policy_service.thrift |   6 +-
 .../main/resources/sentry_policy_service.thrift    |   6 +-
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   4 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   6 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   4 +-
 .../e2e/hdfs/TestHDFSIntegrationTogglingConf.java  |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   6 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../tests/e2e/minisentry/InternalSentrySrv.java    |   2 +-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  12 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   8 +-
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  |   8 +-
 .../sentry/tests/e2e/solr/TestSentryServer.java    |  12 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  16 +-
 .../cli/tools/PermissionsMigrationToolCommon.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolIndexer.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolSolr.java     |   6 +-
 .../apache/sentry/cli/tools/SentrySchemaTool.java  |   2 +-
 .../sentry/cli/tools/SentryShellGeneric.java       |   8 +-
 .../apache/sentry/cli/tools/SentryShellHive.java   |   2 +-
 .../sentry/cli/tools/SentryShellIndexer.java       |   4 +-
 .../cli/tools/command/GenericShellCommand.java     |   8 +-
 .../sentry/cli/tools/command/hive/CommandUtil.java |  14 +-
 .../cli/tools/command/hive/HiveShellCommand.java   |  10 +-
 .../java/org/apache/sentry/shell/SentryCli.java    |  14 +-
 .../org/apache/sentry/shell/TopLevelShell.java     |   8 +-
 .../tools/TestPermissionsMigrationToolSolr.java    |  11 +-
 .../cli/tools/TestSentryConfigToolIndexer.java     |  12 +-
 .../sentry/cli/tools/TestSentryConfigToolSolr.java |   9 +-
 .../sentry/cli/tools/TestSentrySchemaTool.java     |   2 +-
 .../sentry/cli/tools/TestSentryShellHive.java      |   4 +-
 .../sentry/cli/tools/TestSentryShellIndexer.java   |  10 +-
 .../sentry/cli/tools/TestSentryShellKafka.java     |   6 +-
 .../sentry/cli/tools/TestSentryShellSolr.java      |   6 +-
 .../sentry/cli/tools/TestSentryShellSqoop.java     |   6 +-
 238 files changed, 1231 insertions(+), 792 deletions(-)

commit edd8a7aee911a13d3815c611c50da53bbb99ce24
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue May 15 16:38:40 2018 -0500

    Revert "SENTRY-2206: Refactor out sentry api from sentry-provider-db to own module (Steve Moist, reviewed by Sergio Pena)"
    
    This reverts commit af8ea0ac16852cd370efb5d76f881c81e327fa6c.

 pom.xml                                            |   5 +-
 .../authz/HBaseIndexerAuthzBinding.java            |   4 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../authorizer/DefaultSentryAccessController.java  |   6 +-
 .../SentryMetastorePostEventListenerBaseV2.java    |   2 +-
 .../binding/hive/v2/util/SentryAuthorizerUtil.java |   6 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 741 ---------------------
 .../hive/authz/DefaultSentryAccessController.java  |   6 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/binding/util/SentryAuthorizerUtil.java  |  12 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  25 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  12 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  20 +-
 .../org/apache/sentry/api/common/ApiConstants.java |  90 ---
 sentry-dist/src/license/THIRD-PARTY.properties     |   3 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |   2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  22 +-
 sentry-provider/sentry-provider-db/pom.xml         | 100 ++-
 .../thrift/SentryGenericPolicyService.java         |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../db/generic/service}/thrift/TAuthorizable.java  |   2 +-
 .../service}/thrift/TCreateSentryRoleRequest.java  |   2 +-
 .../service}/thrift/TCreateSentryRoleResponse.java |   2 +-
 .../service}/thrift/TDropPrivilegesRequest.java    |   2 +-
 .../service}/thrift/TDropPrivilegesResponse.java   |   2 +-
 .../service}/thrift/TDropSentryRoleRequest.java    |   2 +-
 .../service}/thrift/TDropSentryRoleResponse.java   |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../service}/thrift/TListSentryRolesRequest.java   |   2 +-
 .../service}/thrift/TListSentryRolesResponse.java  |   2 +-
 .../service}/thrift/TRenamePrivilegesRequest.java  |   2 +-
 .../service}/thrift/TRenamePrivilegesResponse.java |   2 +-
 .../service}/thrift/TSentryActiveRoleSet.java      |   2 +-
 .../service/thrift/TSentryGrantOption.java         |   2 +-
 .../generic/service}/thrift/TSentryPrivilege.java  |  10 +-
 .../service}/thrift/TSentryPrivilegeMap.java       |   2 +-
 .../db/generic/service}/thrift/TSentryRole.java    |   2 +-
 .../db}/service/thrift/SentryPolicyService.java    |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   2 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   2 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   2 +-
 .../db}/service/thrift/TDropPrivilegesRequest.java |   2 +-
 .../service/thrift/TDropPrivilegesResponse.java    |   2 +-
 .../db}/service/thrift/TDropSentryRoleRequest.java |   2 +-
 .../service/thrift/TDropSentryRoleResponse.java    |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../thrift/TListSentryRolesForUserRequest.java     |   2 +-
 .../service/thrift/TListSentryRolesRequest.java    |   2 +-
 .../service/thrift/TListSentryRolesResponse.java   |   2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   2 +-
 .../db}/service/thrift/TSentryActiveRoleSet.java   |   2 +-
 .../db}/service/thrift/TSentryAuthorizable.java    |   2 +-
 .../service/thrift/TSentryConfigValueRequest.java  |   2 +-
 .../service/thrift/TSentryConfigValueResponse.java |   2 +-
 .../thrift/TSentryExportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryExportMappingDataResponse.java   |   2 +-
 .../db/service}/thrift/TSentryGrantOption.java     |   2 +-
 .../provider/db}/service/thrift/TSentryGroup.java  |   2 +-
 .../thrift/TSentryImportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryImportMappingDataResponse.java   |   2 +-
 .../db}/service/thrift/TSentryMappingData.java     |   2 +-
 .../db}/service/thrift/TSentryPrivilege.java       |  10 +-
 .../db}/service/thrift/TSentryPrivilegeMap.java    |   2 +-
 .../provider/db}/service/thrift/TSentryRole.java   |   2 +-
 .../db}/service/thrift/TSentrySyncIDRequest.java   |   2 +-
 .../db}/service/thrift/TSentrySyncIDResponse.java  |   2 +-
 .../service/thrift/TSentryResponseStatus.java      |   0
 .../thrift/sentry_common_serviceConstants.java     |   0
 .../provider/db/SentryPolicyStorePlugin.java       |  16 +-
 .../provider/db/SimpleDBProviderBackend.java       |   8 +-
 .../db/generic/SentryGenericProviderBackend.java   |  24 +-
 .../sentry/provider/db/generic/UpdatableCache.java |  10 +-
 .../service/persistent/DelegateSentryStore.java    |   8 +-
 .../persistent/PrivilegeOperatePersistence.java    |   2 +-
 .../service}/thrift/NotificationHandler.java       |   2 +-
 .../thrift/NotificationHandlerInvoker.java         |   2 +-
 .../thrift/SentryGenericPolicyProcessor.java       |  14 +-
 .../SentryGenericPolicyProcessorFactory.java       |   5 +-
 .../SentryGenericPolicyProcessorWrapper.java       |   2 +-
 .../thrift/SentryGenericServiceClient.java         |   2 +-
 .../SentryGenericServiceClientDefaultImpl.java     |  11 +-
 .../thrift/SentryGenericServiceClientFactory.java  |   2 +-
 .../generic/tools/GenericPrivilegeConverter.java   |   6 +-
 .../generic/tools/TSentryPrivilegeConverter.java   |   2 +-
 .../db/log/entity/JsonLogEntityFactory.java        |  66 +-
 .../sentry/provider/db/log/util/CommandUtil.java   |  20 +-
 .../sentry/provider/db/log/util/Constants.java     |  26 +-
 .../provider/db/service/persistent/HAContext.java  |   2 +-
 .../db/service/persistent/HMSFollower.java         |   2 +-
 .../db/service/persistent/LeaderStatusMonitor.java |   2 +-
 .../service/persistent/NotificationProcessor.java  |   6 +-
 .../db/service/persistent/SentryStore.java         |  22 +-
 .../db/service/persistent/TransactionManager.java  |   4 +-
 .../db}/service/thrift/ConfServlet.java            |   2 +-
 .../db}/service/thrift/LogLevelServlet.java        |   2 +-
 .../db}/service/thrift/NotificationHandler.java    |   2 +-
 .../service/thrift/NotificationHandlerInvoker.java |   2 +-
 .../db}/service/thrift/PubSubServlet.java          |   2 +-
 .../db}/service/thrift/SentryAdminServlet.java     |   2 +-
 .../db}/service/thrift/SentryAuthFilter.java       |   4 +-
 .../SentryHealthCheckServletContextListener.java   |   2 +-
 .../db}/service/thrift/SentryMetrics.java          |   8 +-
 .../SentryMetricsServletContextListener.java       |   2 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  17 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  26 +-
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   7 +-
 .../db}/service/thrift/SentryProcessorWrapper.java |   2 +-
 .../db}/service/thrift/SentryWebServer.java        |   4 +-
 .../validator/GrantPrivilegeRequestValidator.java  |   8 +-
 .../validator/RevokePrivilegeRequestValidator.java |   4 +-
 .../service/thrift/FullUpdateInitializer.java      |   2 +-
 .../apache/sentry/service/thrift/GSSCallback.java  |   2 +-
 .../thrift/HiveSimpleConnectionFactory.java        |   2 +-
 .../sentry/service/thrift/SentryHMSClient.java     |   2 +-
 .../sentry/service/thrift/SentryService.java       |  14 +-
 .../service/thrift/SentryServiceClientFactory.java |   4 +-
 .../sentry/service/thrift}/SentryServiceUtil.java  |  32 +-
 .../sentry/service/thrift}/ServiceConstants.java   |  83 ++-
 .../org/apache/sentry/service/thrift}/Status.java  |   9 +-
 .../main/resources/sentry_common_service.thrift    |   0
 .../resources/sentry_generic_policy_service.thrift |   6 +-
 .../main/resources/sentry_policy_service.thrift    |   6 +-
 .../generic/TestSentryGenericProviderBackend.java  |   8 +-
 .../persistent/SentryStoreIntegrationBase.java     |   2 +-
 .../TestPrivilegeOperatePersistence.java           |   2 +-
 .../generic/service/persistent/TestSentryRole.java |   2 +-
 .../SentryGenericServiceIntegrationBase.java       |   2 +-
 .../TestAuditLogForSentryGenericService.java       |   2 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   6 +-
 .../thrift/TestSentryGenericServiceClient.java     |   2 +-
 .../TestSentryGenericServiceIntegration.java       |   2 +-
 .../db/log/entity/TestJsonLogEntityFactory.java    |  34 +-
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |  32 +-
 .../provider/db/log/util/TestCommandUtil.java      |  38 +-
 .../db/service/persistent/TestHMSFollower.java     |   4 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |   4 +-
 .../persistent/TestLeaderStatusMonitor.java        |   2 +-
 .../persistent/TestNotificationProcessor.java      |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  18 +-
 .../persistent/TestSentryStoreImportExport.java    |  12 +-
 .../db/service/persistent/TestSentryVersion.java   |   4 +-
 .../db}/service/thrift/SentryMiniKdcTestcase.java  |   2 +-
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   2 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   4 +-
 .../thrift/TestNotificationHandlerInvoker.java     |   2 +-
 .../thrift/TestSentryPolicyServiceClient.java      |   2 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   8 +-
 .../TestSentryServerForPoolWithoutKerberos.java    |   2 +-
 .../service/thrift/TestSentryServerLogLevel.java   |   2 +-
 .../db}/service/thrift/TestSentryServerPubSub.java |   2 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |   2 +-
 .../thrift/TestSentryServiceClientPool.java        |   2 +-
 .../thrift/TestSentryServiceFailureCase.java       |   4 +-
 .../TestSentryServiceForPoolWithKerberos.java      |   2 +-
 .../thrift/TestSentryServiceImportExport.java      |   2 +-
 .../thrift/TestSentryServiceIntegration.java       |   2 +-
 .../service/thrift/TestSentryServiceMetrics.java   |   2 +-
 .../TestSentryServiceWithInvalidMsgSize.java       |   7 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   2 +-
 .../thrift/TestSentryWebServerWithKerberos.java    |   2 +-
 .../service/thrift/TestSentryWebServerWithSSL.java |   2 +-
 .../thrift/TestSentryWebServerWithoutSecurity.java |   2 +-
 .../thrift/SentryServiceIntegrationBase.java       |  17 +-
 sentry-service/pom.xml                             |  36 -
 sentry-service/sentry-service-api/pom.xml          | 200 ------
 .../apache/sentry/api/common/ThriftConstants.java  |  30 -
 .../api/tools/GenericPrivilegeConverter.java       | 190 ------
 .../api/tools/TSentryPrivilegeConverter.java       |  34 -
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   4 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   6 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   4 +-
 .../e2e/hdfs/TestHDFSIntegrationTogglingConf.java  |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   6 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../tests/e2e/minisentry/InternalSentrySrv.java    |   2 +-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  12 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   8 +-
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  |   8 +-
 .../sentry/tests/e2e/solr/TestSentryServer.java    |  12 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  16 +-
 .../cli/tools/PermissionsMigrationToolCommon.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolIndexer.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolSolr.java     |   6 +-
 .../apache/sentry/cli/tools/SentrySchemaTool.java  |   2 +-
 .../sentry/cli/tools/SentryShellGeneric.java       |   8 +-
 .../apache/sentry/cli/tools/SentryShellHive.java   |   2 +-
 .../sentry/cli/tools/SentryShellIndexer.java       |   4 +-
 .../cli/tools/command/GenericShellCommand.java     |   8 +-
 .../sentry/cli/tools/command/hive/CommandUtil.java |  14 +-
 .../cli/tools/command/hive/HiveShellCommand.java   |  10 +-
 .../java/org/apache/sentry/shell/SentryCli.java    |  14 +-
 .../org/apache/sentry/shell/TopLevelShell.java     |   8 +-
 .../tools/TestPermissionsMigrationToolSolr.java    |  11 +-
 .../cli/tools/TestSentryConfigToolIndexer.java     |  12 +-
 .../sentry/cli/tools/TestSentryConfigToolSolr.java |   9 +-
 .../sentry/cli/tools/TestSentrySchemaTool.java     |   2 +-
 .../sentry/cli/tools/TestSentryShellHive.java      |   4 +-
 .../sentry/cli/tools/TestSentryShellIndexer.java   |  10 +-
 .../sentry/cli/tools/TestSentryShellKafka.java     |   6 +-
 .../sentry/cli/tools/TestSentryShellSolr.java      |   6 +-
 .../sentry/cli/tools/TestSentryShellSqoop.java     |   6 +-
 239 files changed, 792 insertions(+), 1972 deletions(-)

commit 71b868b4353932348b26a2aa542ac9be99d835be
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon May 14 12:45:46 2018 -0500

    SENTRY-2218: Sentry-plug-in should have API's to handle grant/revoke privileges to users. (Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 77 +++++++++++++++++++---
 .../provider/db/SentryPolicyStorePlugin.java       | 21 ++++++
 2 files changed, 88 insertions(+), 10 deletions(-)

commit b65f5b2b4fe31a5a700122bf5d174d199fa8bd4f
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri May 11 15:07:08 2018 -0500

    SENTRY-2171: Permission full snapshot should include owner privileges. (Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../sentry/core/model/db/AccessConstants.java      |  1 +
 .../db/service/persistent/SentryStore.java         | 34 +++++++++++++++++-----
 .../db/service/persistent/TestSentryStore.java     | 16 ++++++++++
 3 files changed, 43 insertions(+), 8 deletions(-)

commit 7ac2b05e5681e902dc01fc0d4cc21ac9eb13ae43
Author: lina.li <lina.li@cloudera.com>
Date:   Fri May 11 11:17:09 2018 -0500

    SENTRY-2226: Support Hive operation ALTER TABLE EXCHANGE. (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  12 ++
 .../dbprovider/TestDbColumnLevelMetaDataOps.java   | 124 +++++++++++++++++++++
 2 files changed, 136 insertions(+)

commit af8ea0ac16852cd370efb5d76f881c81e327fa6c
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed May 9 17:11:14 2018 -0700

    SENTRY-2206: Refactor out sentry api from sentry-provider-db to own module (Steve Moist, reviewed by Sergio Pena)
    
    Change-Id: I2057d7f6eeb1e04b7b45716997077c7c2032adde

 pom.xml                                            |   5 +-
 .../authz/HBaseIndexerAuthzBinding.java            |   4 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../authorizer/DefaultSentryAccessController.java  |   6 +-
 .../SentryMetastorePostEventListenerBaseV2.java    |   2 +-
 .../binding/hive/v2/util/SentryAuthorizerUtil.java |   6 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 741 +++++++++++++++++++++
 .../hive/authz/DefaultSentryAccessController.java  |   6 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/binding/util/SentryAuthorizerUtil.java  |  12 +-
 ...entrySyncHMSNotificationsPostEventListener.java |   2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  25 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  12 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  20 +-
 .../org/apache/sentry/api/common/ApiConstants.java |  90 +++
 .../sentry/service/common}/ServiceConstants.java   |  83 +--
 sentry-dist/src/license/THIRD-PARTY.properties     |   3 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |   2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  22 +-
 sentry-provider/sentry-provider-db/pom.xml         | 100 +--
 .../thrift/SentryGenericPolicyProcessor.java       |  14 +-
 .../SentryGenericPolicyProcessorFactory.java       |   5 +-
 .../db => api}/service/thrift/ConfServlet.java     |   2 +-
 .../db => api}/service/thrift/LogLevelServlet.java |   2 +-
 .../db => api}/service/thrift/PubSubServlet.java   |   2 +-
 .../service/thrift/SentryAdminServlet.java         |   2 +-
 .../service/thrift/SentryAuthFilter.java           |   4 +-
 .../SentryHealthCheckServletContextListener.java   |   2 +-
 .../db => api}/service/thrift/SentryMetrics.java   |   8 +-
 .../SentryMetricsServletContextListener.java       |   2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  26 +-
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   7 +-
 .../db => api}/service/thrift/SentryWebServer.java |   4 +-
 .../provider/db/SentryPolicyStorePlugin.java       |  16 +-
 .../provider/db/SimpleDBProviderBackend.java       |   8 +-
 .../db/generic/SentryGenericProviderBackend.java   |  24 +-
 .../sentry/provider/db/generic/UpdatableCache.java |  10 +-
 .../service/persistent/DelegateSentryStore.java    |   8 +-
 .../persistent/PrivilegeOperatePersistence.java    |   2 +-
 .../generic/tools/GenericPrivilegeConverter.java   |   6 +-
 .../generic/tools/TSentryPrivilegeConverter.java   |   2 +-
 .../db/log/entity/JsonLogEntityFactory.java        |  66 +-
 .../sentry/provider/db/log/util/CommandUtil.java   |  20 +-
 .../sentry/provider/db/log/util/Constants.java     |  26 +-
 .../provider/db/service/persistent/HAContext.java  |   2 +-
 .../db/service/persistent/HMSFollower.java         |   2 +-
 .../db/service/persistent/LeaderStatusMonitor.java |   2 +-
 .../service/persistent/NotificationProcessor.java  |   6 +-
 .../db/service/persistent/SentryStore.java         |  22 +-
 .../db/service/persistent/TransactionManager.java  |   4 +-
 .../service/thrift/FullUpdateInitializer.java      |   2 +-
 .../apache/sentry/service/thrift/GSSCallback.java  |   2 +-
 .../thrift/HiveSimpleConnectionFactory.java        |   2 +-
 .../sentry/service/thrift/SentryHMSClient.java     |   2 +-
 .../sentry/service/thrift/SentryService.java       |  14 +-
 .../service/thrift/SentryServiceClientFactory.java |   4 +-
 .../SentryGenericServiceIntegrationBase.java       |   2 +-
 .../TestAuditLogForSentryGenericService.java       |   2 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   6 +-
 .../thrift/TestSentryGenericServiceClient.java     |   2 +-
 .../TestSentryGenericServiceIntegration.java       |   2 +-
 .../service/thrift/SentryMiniKdcTestcase.java      |   2 +-
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   2 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |   4 +-
 .../thrift/TestNotificationHandlerInvoker.java     |   2 +-
 .../thrift/TestSentryPolicyServiceClient.java      |   2 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |   8 +-
 .../TestSentryServerForPoolWithoutKerberos.java    |   2 +-
 .../service/thrift/TestSentryServerLogLevel.java   |   2 +-
 .../service/thrift/TestSentryServerPubSub.java     |   2 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |   2 +-
 .../thrift/TestSentryServiceClientPool.java        |   2 +-
 .../thrift/TestSentryServiceFailureCase.java       |   4 +-
 .../TestSentryServiceForPoolWithKerberos.java      |   2 +-
 .../thrift/TestSentryServiceImportExport.java      |   2 +-
 .../thrift/TestSentryServiceIntegration.java       |   2 +-
 .../service/thrift/TestSentryServiceMetrics.java   |   2 +-
 .../TestSentryServiceWithInvalidMsgSize.java       |   7 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   2 +-
 .../thrift/TestSentryWebServerWithKerberos.java    |   2 +-
 .../service/thrift/TestSentryWebServerWithSSL.java |   2 +-
 .../thrift/TestSentryWebServerWithoutSecurity.java |   2 +-
 .../generic/TestSentryGenericProviderBackend.java  |   8 +-
 .../persistent/SentryStoreIntegrationBase.java     |   2 +-
 .../TestPrivilegeOperatePersistence.java           |   2 +-
 .../generic/service/persistent/TestSentryRole.java |   2 +-
 .../db/log/entity/TestJsonLogEntityFactory.java    |  34 +-
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |  32 +-
 .../provider/db/log/util/TestCommandUtil.java      |  38 +-
 .../db/service/persistent/TestHMSFollower.java     |   4 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |   4 +-
 .../persistent/TestLeaderStatusMonitor.java        |   2 +-
 .../persistent/TestNotificationProcessor.java      |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  18 +-
 .../persistent/TestSentryStoreImportExport.java    |  12 +-
 .../db/service/persistent/TestSentryVersion.java   |   4 +-
 .../thrift/SentryServiceIntegrationBase.java       |  17 +-
 sentry-service/pom.xml                             |  36 +
 sentry-service/sentry-service-api/pom.xml          | 200 ++++++
 .../thrift/SentryGenericPolicyService.java         |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../sentry/api/generic}/thrift/TAuthorizable.java  |   2 +-
 .../generic}/thrift/TCreateSentryRoleRequest.java  |   2 +-
 .../generic}/thrift/TCreateSentryRoleResponse.java |   2 +-
 .../generic}/thrift/TDropPrivilegesRequest.java    |   2 +-
 .../generic}/thrift/TDropPrivilegesResponse.java   |   2 +-
 .../generic}/thrift/TDropSentryRoleRequest.java    |   2 +-
 .../generic}/thrift/TDropSentryRoleResponse.java   |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../generic}/thrift/TListSentryRolesRequest.java   |   2 +-
 .../generic}/thrift/TListSentryRolesResponse.java  |   2 +-
 .../generic}/thrift/TRenamePrivilegesRequest.java  |   2 +-
 .../generic}/thrift/TRenamePrivilegesResponse.java |   2 +-
 .../api/generic}/thrift/TSentryActiveRoleSet.java  |   2 +-
 .../api/generic}/thrift/TSentryGrantOption.java    |   2 +-
 .../api/generic}/thrift/TSentryPrivilege.java      |  10 +-
 .../api/generic}/thrift/TSentryPrivilegeMap.java   |   2 +-
 .../sentry/api/generic}/thrift/TSentryRole.java    |   2 +-
 .../api}/service/thrift/SentryPolicyService.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   2 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   2 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   2 +-
 .../service/thrift/TDropPrivilegesRequest.java     |   2 +-
 .../service/thrift/TDropPrivilegesResponse.java    |   2 +-
 .../service/thrift/TDropSentryRoleRequest.java     |   2 +-
 .../service/thrift/TDropSentryRoleResponse.java    |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../thrift/TListSentryRolesForUserRequest.java     |   2 +-
 .../service/thrift/TListSentryRolesRequest.java    |   2 +-
 .../service/thrift/TListSentryRolesResponse.java   |   2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   2 +-
 .../api}/service/thrift/TSentryActiveRoleSet.java  |   2 +-
 .../api}/service/thrift/TSentryAuthorizable.java   |   2 +-
 .../service/thrift/TSentryConfigValueRequest.java  |   2 +-
 .../service/thrift/TSentryConfigValueResponse.java |   2 +-
 .../thrift/TSentryExportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryExportMappingDataResponse.java   |   2 +-
 .../api}/service/thrift/TSentryGrantOption.java    |   2 +-
 .../sentry/api}/service/thrift/TSentryGroup.java   |   2 +-
 .../thrift/TSentryImportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryImportMappingDataResponse.java   |   2 +-
 .../api}/service/thrift/TSentryMappingData.java    |   2 +-
 .../api}/service/thrift/TSentryPrivilege.java      |  10 +-
 .../api}/service/thrift/TSentryPrivilegeMap.java   |   2 +-
 .../sentry/api}/service/thrift/TSentryRole.java    |   2 +-
 .../api}/service/thrift/TSentrySyncIDRequest.java  |   2 +-
 .../api}/service/thrift/TSentrySyncIDResponse.java |   2 +-
 .../service/thrift/TSentryResponseStatus.java      |   0
 .../thrift/sentry_common_serviceConstants.java     |   0
 .../sentry/api/common}/SentryServiceUtil.java      |  32 +-
 .../java/org/apache/sentry/api/common}/Status.java |   9 +-
 .../apache/sentry/api/common/ThriftConstants.java  |  30 +
 .../api/generic}/thrift/NotificationHandler.java   |   2 +-
 .../thrift/NotificationHandlerInvoker.java         |   2 +-
 .../SentryGenericPolicyProcessorWrapper.java       |   2 +-
 .../thrift/SentryGenericServiceClient.java         |   2 +-
 .../SentryGenericServiceClientDefaultImpl.java     |  11 +-
 .../thrift/SentryGenericServiceClientFactory.java  |   2 +-
 .../api}/service/thrift/NotificationHandler.java   |   2 +-
 .../service/thrift/NotificationHandlerInvoker.java |   2 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  17 +-
 .../service/thrift/SentryProcessorWrapper.java     |   2 +-
 .../validator/GrantPrivilegeRequestValidator.java  |   8 +-
 .../validator/RevokePrivilegeRequestValidator.java |   4 +-
 .../api/tools/GenericPrivilegeConverter.java       | 190 ++++++
 .../api/tools/TSentryPrivilegeConverter.java       |  34 +
 .../main/resources/sentry_common_service.thrift    |   0
 .../resources/sentry_generic_policy_service.thrift |   6 +-
 .../main/resources/sentry_policy_service.thrift    |   6 +-
 .../TestSentryWebServiceForAuthTypeNone.java       |   2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   4 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   6 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   4 +-
 .../e2e/hdfs/TestHDFSIntegrationTogglingConf.java  |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   6 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   4 +-
 .../tests/e2e/minisentry/InternalSentrySrv.java    |   2 +-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  12 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   8 +-
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  |   8 +-
 .../sentry/tests/e2e/solr/TestSentryServer.java    |  12 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  16 +-
 .../cli/tools/PermissionsMigrationToolCommon.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolIndexer.java  |  10 +-
 .../sentry/cli/tools/SentryConfigToolSolr.java     |   6 +-
 .../apache/sentry/cli/tools/SentrySchemaTool.java  |   2 +-
 .../sentry/cli/tools/SentryShellGeneric.java       |   8 +-
 .../apache/sentry/cli/tools/SentryShellHive.java   |   2 +-
 .../sentry/cli/tools/SentryShellIndexer.java       |   4 +-
 .../cli/tools/command/GenericShellCommand.java     |   8 +-
 .../sentry/cli/tools/command/hive/CommandUtil.java |  14 +-
 .../cli/tools/command/hive/HiveShellCommand.java   |  10 +-
 .../java/org/apache/sentry/shell/SentryCli.java    |  14 +-
 .../org/apache/sentry/shell/TopLevelShell.java     |   8 +-
 .../tools/TestPermissionsMigrationToolSolr.java    |  11 +-
 .../cli/tools/TestSentryConfigToolIndexer.java     |  12 +-
 .../sentry/cli/tools/TestSentryConfigToolSolr.java |   9 +-
 .../sentry/cli/tools/TestSentrySchemaTool.java     |   2 +-
 .../sentry/cli/tools/TestSentryShellHive.java      |   4 +-
 .../sentry/cli/tools/TestSentryShellIndexer.java   |  10 +-
 .../sentry/cli/tools/TestSentryShellKafka.java     |   6 +-
 .../sentry/cli/tools/TestSentryShellSolr.java      |   6 +-
 .../sentry/cli/tools/TestSentryShellSqoop.java     |   6 +-
 239 files changed, 1972 insertions(+), 792 deletions(-)

commit b2314682606cc36cd54138e3a8376d69e46895cf
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed May 9 15:13:16 2018 -0500

    SENTRY-2173: Extend PrivilegeInfo to hold user privileges. (Kalyan Kumar kalvagadda, reviewed-by Na Li and Sergio Pena)

 .../org/apache/sentry/hdfs/SentryPermissions.java  | 30 +++++++++++++---------
 .../sentry/hdfs/UpdateableAuthzPermissions.java    | 21 ++++++++-------
 2 files changed, 28 insertions(+), 23 deletions(-)

commit 135f764ba8f661776b8b4e332c79add09eb213d9
Author: lina.li <lina.li@cloudera.com>
Date:   Wed May 9 13:50:48 2018 -0500

    SENTRY-2155: Update JDO to grant privileges to user (Na Li, Sergio Pena)

 .../db/service/model/MSentryGMPrivilege.java       | 116 ++++++++++-----------
 .../db/service/model/MSentryPrivilege.java         |  19 +++-
 .../provider/db/service/model/MSentryUser.java     |  44 +++++++-
 .../sentry/provider/db/service/model/package.jdo   |  12 +++
 4 files changed, 131 insertions(+), 60 deletions(-)

commit e4791a029a27506afa4caf37552041216ad0a43b
Author: lina.li <lina.li@cloudera.com>
Date:   Wed May 9 11:04:49 2018 -0500

    SENTRY-2219: Create index AUTHZ_PATH_FK_IDX at table AUTHZ_PATH only when it does not exist for Oracle (Na Li, reviewed by Rajan Santhanam, Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../src/main/resources/010-SENTRY-2210.oracle.sql         | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit e94c5d6d0fafb821211eecb74575df32a5388576
Author: lina.li <lina.li@cloudera.com>
Date:   Tue May 8 18:01:40 2018 -0500

    SENTRY-2214: Sentry should not allow URI grants to EMPTY or NULL locations (Arjun Mishra, reviewed by Na Li, Sergio Pena, Benjamin Iglauer)

 .../hive/authz/DefaultSentryAccessController.java  |  4 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  3 +-
 .../db/service/persistent/SentryStore.java         | 90 ++++++++++++----------
 .../db/service/persistent/TestSentryStore.java     | 25 ++++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 30 ++++++++
 5 files changed, 111 insertions(+), 41 deletions(-)

commit 4c49a3fb094223f5801239d9aaaa8c420b696fa7
Author: lina.li <lina.li@cloudera.com>
Date:   Tue May 8 13:44:21 2018 -0500

    SENTRY-2154: Update schema to grant privileges to user (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra)

 .../src/main/resources/011-SENTRY-2154.derby.sql   | 21 +++++++++++++++++++
 .../src/main/resources/011-SENTRY-2154.mysql.sql   | 21 +++++++++++++++++++
 .../src/main/resources/011-SENTRY-2154.oracle.sql  | 20 ++++++++++++++++++
 .../main/resources/011-SENTRY-2154.postgres.sql    | 21 +++++++++++++++++++
 .../src/main/resources/sentry-db2-2.1.0.sql        | 21 ++++++++++++++++++-
 .../src/main/resources/sentry-derby-2.1.0.sql      | 22 ++++++++++++++++++++
 .../src/main/resources/sentry-mysql-2.1.0.sql      | 24 +++++++++++++++++++++-
 .../src/main/resources/sentry-oracle-2.1.0.sql     | 24 +++++++++++++++++++++-
 .../src/main/resources/sentry-postgres-2.1.0.sql   | 22 ++++++++++++++++++++
 .../sentry-upgrade-db2-2.0.0-to-2.1.0.sql          | 19 +++++++++++++++++
 .../sentry-upgrade-derby-2.0.0-to-2.1.0.sql        |  1 +
 .../sentry-upgrade-mysql-2.0.0-to-2.1.0.sql        |  1 +
 .../sentry-upgrade-oracle-2.0.0-to-2.1.0.sql       |  1 +
 .../sentry-upgrade-postgres-2.0.0-to-2.1.0.sql     |  1 +
 14 files changed, 216 insertions(+), 3 deletions(-)

commit 1efc5562889c264ab980472990b35870e1dd1f65
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue May 8 11:02:01 2018 -0700

    SENTRY-2183: Increase default sentry-hdfs rpc timeout to 20 mins (Arjun Mishra, reviewed by Na Li)
    
    Change-Id: I0dc512177956fd3c423b66a72902c769cea1dd8b

 .../sentry/core/common/transport/SentryClientTransportConstants.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 902c90b3fa30cb4947258e324917c8a3d74997d7
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon May 7 22:18:40 2018 -0700

    SENTRY-2215: Remove unused SentryGrantRevokeTask class (Sergio Pena, reviewed by Na Li, Arjun Mishra)
    
    Change-Id: Ia24ab1dc9c706621c1bc7c7c93f97bb438154028

 sentry-binding/sentry-binding-hive-common/pom.xml  |   1 -
 sentry-binding/sentry-binding-hive/pom.xml         |   1 -
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 741 ---------------------
 3 files changed, 743 deletions(-)

commit 912b1dbe85fba5bbe7f7fa5c8eb9befc7a081c44
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri May 4 15:15:57 2018 -0500

    SENTRY-2170: Update the Sentry-HDFS thrift for user level privileges. (Kalyan Kumar kalvagadda, reviewed-by Na Li and Sergio Pena)

 .../hdfs/service/thrift/TPrivilegeChanges.java     | 110 +++--
 .../hdfs/service/thrift/TPrivilegeEntity.java      | 502 +++++++++++++++++++++
 .../hdfs/service/thrift/TPrivilegeEntityType.java  |  48 ++
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |   3 +-
 .../src/main/resources/sentry_hdfs_service.thrift  |  19 +-
 .../apache/sentry/hdfs/TestPermissionUpdate.java   |   6 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  39 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  11 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  19 +-
 .../hdfs/TestSentryHDFSServiceProcessor.java       |   5 +-
 .../service/persistent/NotificationProcessor.java  |   9 +-
 .../db/service/persistent/PermissionsImage.java    |  12 +-
 .../db/service/persistent/SentryStore.java         |  16 +-
 .../db/service/persistent/TestSentryStore.java     |  19 +-
 14 files changed, 723 insertions(+), 95 deletions(-)

commit 6e78a486f18fcca9dbc26baee9bc15c4d71ebeec
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Apr 30 13:51:25 2018 -0500

    SENTRY-2210: AUTHZ_PATH should have index on the foreign key AUTHZ_OBJ_ID

 .../sentry-provider-db/src/main/resources/010-SENTRY-2210.derby.sql   | 3 +++
 .../sentry-provider-db/src/main/resources/010-SENTRY-2210.mysql.sql   | 2 ++
 .../sentry-provider-db/src/main/resources/010-SENTRY-2210.oracle.sql  | 2 ++
 .../src/main/resources/010-SENTRY-2210.postgres.sql                   | 2 ++
 .../sentry-provider-db/src/main/resources/sentry-db2-2.1.0.sql        | 2 ++
 .../sentry-provider-db/src/main/resources/sentry-derby-2.1.0.sql      | 2 ++
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.1.0.sql      | 2 ++
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.1.0.sql     | 2 ++
 .../sentry-provider-db/src/main/resources/sentry-postgres-2.1.0.sql   | 2 ++
 .../src/main/resources/sentry-upgrade-db2-2.0.0-to-2.1.0.sql          | 4 ++++
 .../src/main/resources/sentry-upgrade-derby-2.0.0-to-2.1.0.sql        | 1 +
 .../src/main/resources/sentry-upgrade-mysql-2.0.0-to-2.1.0.sql        | 1 +
 .../src/main/resources/sentry-upgrade-oracle-2.0.0-to-2.1.0.sql       | 2 +-
 .../src/main/resources/sentry-upgrade-postgres-2.0.0-to-2.1.0.sql     | 2 +-
 14 files changed, 27 insertions(+), 2 deletions(-)

commit 6752f14aafad2f9ead0198f2f840db120182b268
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Apr 30 17:34:56 2018 +0100

    SENTRY-2207 Refactor out Sentry CLI from sentry-provider-db into own module. Steve Moist, reviewed by Colm O hEigeartaigh.

 bin/sentryShell                                    |  10 ++---
 pom.xml                                            |   2 +-
 sentry-provider/sentry-provider-db/pom.xml         |  13 ++++++
 .../db/generic/SentryGenericProviderBackend.java   |   2 +-
 .../sentry/provider/db/generic/UpdatableCache.java |   2 +-
 .../generic/tools/GenericPrivilegeConverter.java   |   6 +--
 .../{command => }/TSentryPrivilegeConverter.java   |   7 ++--
 sentry-tools/pom.xml                               |  44 +++++++++++++++++----
 .../main/java/org/apache/sentry/SentryMain.java    |   2 +-
 .../cli}/tools/PermissionsMigrationToolCommon.java |   3 +-
 .../cli}/tools/PermissionsMigrationToolSolr.java   |   2 +-
 .../sentry/cli}/tools/SentryConfigToolCommon.java  |   2 +-
 .../sentry/cli}/tools/SentryConfigToolIndexer.java |   3 +-
 .../sentry/cli}/tools/SentryConfigToolSolr.java    |   3 +-
 .../sentry/cli}/tools/SentrySchemaHelper.java      |   2 +-
 .../apache/sentry/cli}/tools/SentrySchemaTool.java |   4 +-
 .../sentry/cli}/tools/SentryShellCommon.java       |   2 +-
 .../sentry/cli}/tools/SentryShellGeneric.java      |   9 ++---
 .../apache/sentry/cli}/tools/SentryShellHive.java  |   4 +-
 .../sentry/cli}/tools/SentryShellIndexer.java      |   2 +-
 .../org/apache/sentry/cli}/tools/ShellCommand.java |   2 +-
 .../cli}/tools/command/GenericShellCommand.java    |   5 ++-
 .../cli}/tools/command/hive/CommandUtil.java       |   2 +-
 .../cli}/tools/command/hive/HiveShellCommand.java  |   4 +-
 .../java/org/apache/sentry/shell/GroupShell.java   |   2 +-
 .../java/org/apache/sentry/shell/PrivsShell.java   |   2 +-
 .../java/org/apache/sentry/shell/RolesShell.java   |   2 +-
 .../org/apache/sentry/shell/TopLevelShell.java     |   8 ++--
 .../tools/TestPermissionsMigrationToolSolr.java    |   4 +-
 .../cli}/tools/TestSentryConfigToolIndexer.java    |  10 ++---
 .../cli}/tools/TestSentryConfigToolSolr.java       |  11 +++---
 .../sentry/cli}/tools/TestSentrySchemaTool.java    |  25 ++++++++++--
 .../sentry/cli}/tools/TestSentryShellHive.java     |   2 +-
 .../sentry/cli}/tools/TestSentryShellIndexer.java  |   3 +-
 .../sentry/cli}/tools/TestSentryShellKafka.java    |   3 +-
 .../sentry/cli}/tools/TestSentryShellSolr.java     |   3 +-
 .../sentry/cli}/tools/TestSentryShellSqoop.java    |   3 +-
 sentry-tools/src/test/resources/cacerts.jks        | Bin 0 -> 954 bytes
 .../src/test/resources/indexer_case.ini            |   0
 .../test/resources/indexer_config_import_tool.ini  |   0
 .../src/test/resources/indexer_invalid.ini         |   0
 sentry-tools/src/test/resources/keystore.jks       | Bin 0 -> 2245 bytes
 sentry-tools/src/test/resources/log4j.properties   |  34 ++++++++++++++++
 .../src/test/resources/solr_case.ini               |   0
 .../src/test/resources/solr_config_import_tool.ini |   0
 .../src/test/resources/solr_invalid.ini            |   0
 46 files changed, 172 insertions(+), 77 deletions(-)

commit 0668237aa703e24602afb75a90e127839fb67e15
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Apr 30 10:25:54 2018 -0500

    SENTRY-2212: smart-apply-patch.sh isn't so smart, won't apply changes when files have been moved or renamed (Steve Moist, reviewed by Sergio Pena)
    
    Change-Id: I458fd0d5261ffacc2afb1dcea9fcf52f1d8058ac

 dev-support/smart-apply-patch.sh | 35 +++++++++++++++--------------------
 1 file changed, 15 insertions(+), 20 deletions(-)

commit 68f568a69dea04cfefdc6b22433c2f408aaf535f
Author: lina.li <lina.li@cloudera.com>
Date:   Thu Apr 26 15:04:49 2018 -0500

    SENTRY-2213: Increase schema version from 2.0.0 to 2.1.0

 .../service/persistent/SentryStoreSchemaInfo.java  |   2 +-
 .../src/main/resources/sentry-db2-2.1.0.sql        | 252 ++++++++++++++++++
 .../src/main/resources/sentry-derby-2.1.0.sql      | 252 ++++++++++++++++++
 .../src/main/resources/sentry-mysql-2.1.0.sql      | 287 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-2.1.0.sql     | 267 +++++++++++++++++++
 .../src/main/resources/sentry-postgres-2.1.0.sql   | 277 ++++++++++++++++++++
 .../sentry-upgrade-db2-2.0.0-to-2.1.0.sql          |   2 +
 .../sentry-upgrade-derby-2.0.0-to-2.1.0.sql        |   3 +
 .../sentry-upgrade-mysql-2.0.0-to-2.1.0.sql        |   5 +
 .../sentry-upgrade-oracle-2.0.0-to-2.1.0.sql       |   6 +
 .../sentry-upgrade-postgres-2.0.0-to-2.1.0.sql     |   6 +
 .../src/main/resources/upgrade.order.db2           |   3 +-
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 16 files changed, 1364 insertions(+), 2 deletions(-)

commit 514a3b1bfdb7d2f2b7967f779dd91bc24af1bd79
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Apr 20 13:21:54 2018 -0500

    SENTRY-2200: Migrate 3.x Datanucleus unsupported configurations to 4.1 Datanucleus (Xinran Tinney, reviewed by Sergio Pena)
    
    Change-Id: Ic13ee08549be15248bde8e2c21ec72050e51e164

 .../apache/sentry/provider/db/service/persistent/SentryStore.java | 2 --
 .../java/org/apache/sentry/service/thrift/ServiceConstants.java   | 8 +++-----
 .../provider/db/generic/service/persistent/TestSentryRole.java    | 2 --
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java | 3 +--
 4 files changed, 4 insertions(+), 11 deletions(-)

commit 1c77f5d3bdba0a6327e6bbe87abf542610f50f06
Author: kalyan kumar kalvagadda <kkalyan@cloudera.com>
Date:   Tue Apr 17 10:26:22 2018 -0500

    SENTRY-2167: Change ignored logging messages to debug level in NotificationProcessor (kalyan kumar kalvagadda, reviewed by Sergio Pena, Xinran Tinney)
    
    Change-Id: Ie349de78bcc862efd70a211a5d868977c0e4f7a5

 .../provider/db/service/persistent/NotificationProcessor.java      | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 535e186fc699b2fb3f8b57ebd55c9f93dfc81f62
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Apr 10 15:22:53 2018 -0500

    SENTRY-2192: supress date value in @Generated annotation generated by thrift.(Kalyan Kumar kalvagadda, reviewed-by Na Li)

 sentry-hdfs/sentry-hdfs-common/pom.xml                                  | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/SentryHDFSService.java        | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TAuthzUpdateRequest.java      | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TAuthzUpdateResponse.java     | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TPathChanges.java             | 2 +-
 .../gen-javabean/org/apache/sentry/hdfs/service/thrift/TPathEntry.java  | 2 +-
 .../gen-javabean/org/apache/sentry/hdfs/service/thrift/TPathsDump.java  | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TPathsUpdate.java             | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TPermissionsUpdate.java       | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TPrivilegeChanges.java        | 2 +-
 .../org/apache/sentry/hdfs/service/thrift/TRoleChanges.java             | 2 +-
 sentry-provider/sentry-provider-db/pom.xml                              | 2 +-
 .../provider/db/generic/service/thrift/SentryGenericPolicyService.java  | 2 +-
 .../db/generic/service/thrift/TAlterSentryRoleAddGroupsRequest.java     | 2 +-
 .../db/generic/service/thrift/TAlterSentryRoleAddGroupsResponse.java    | 2 +-
 .../db/generic/service/thrift/TAlterSentryRoleDeleteGroupsRequest.java  | 2 +-
 .../db/generic/service/thrift/TAlterSentryRoleDeleteGroupsResponse.java | 2 +-
 .../generic/service/thrift/TAlterSentryRoleGrantPrivilegeRequest.java   | 2 +-
 .../generic/service/thrift/TAlterSentryRoleGrantPrivilegeResponse.java  | 2 +-
 .../generic/service/thrift/TAlterSentryRoleRevokePrivilegeRequest.java  | 2 +-
 .../generic/service/thrift/TAlterSentryRoleRevokePrivilegeResponse.java | 2 +-
 .../apache/sentry/provider/db/generic/service/thrift/TAuthorizable.java | 2 +-
 .../provider/db/generic/service/thrift/TCreateSentryRoleRequest.java    | 2 +-
 .../provider/db/generic/service/thrift/TCreateSentryRoleResponse.java   | 2 +-
 .../provider/db/generic/service/thrift/TDropPrivilegesRequest.java      | 2 +-
 .../provider/db/generic/service/thrift/TDropPrivilegesResponse.java     | 2 +-
 .../provider/db/generic/service/thrift/TDropSentryRoleRequest.java      | 2 +-
 .../provider/db/generic/service/thrift/TDropSentryRoleResponse.java     | 2 +-
 .../db/generic/service/thrift/TListSentryPrivilegesByAuthRequest.java   | 2 +-
 .../db/generic/service/thrift/TListSentryPrivilegesByAuthResponse.java  | 2 +-
 .../generic/service/thrift/TListSentryPrivilegesForProviderRequest.java | 2 +-
 .../service/thrift/TListSentryPrivilegesForProviderResponse.java        | 2 +-
 .../db/generic/service/thrift/TListSentryPrivilegesRequest.java         | 2 +-
 .../db/generic/service/thrift/TListSentryPrivilegesResponse.java        | 2 +-
 .../provider/db/generic/service/thrift/TListSentryRolesRequest.java     | 2 +-
 .../provider/db/generic/service/thrift/TListSentryRolesResponse.java    | 2 +-
 .../provider/db/generic/service/thrift/TRenamePrivilegesRequest.java    | 2 +-
 .../provider/db/generic/service/thrift/TRenamePrivilegesResponse.java   | 2 +-
 .../sentry/provider/db/generic/service/thrift/TSentryActiveRoleSet.java | 2 +-
 .../sentry/provider/db/generic/service/thrift/TSentryPrivilege.java     | 2 +-
 .../sentry/provider/db/generic/service/thrift/TSentryPrivilegeMap.java  | 2 +-
 .../apache/sentry/provider/db/generic/service/thrift/TSentryRole.java   | 2 +-
 .../apache/sentry/provider/db/service/thrift/SentryPolicyService.java   | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleAddGroupsRequest.java    | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleAddGroupsResponse.java   | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleAddUsersRequest.java     | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleAddUsersResponse.java    | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleDeleteGroupsRequest.java | 2 +-
 .../db/service/thrift/TAlterSentryRoleDeleteGroupsResponse.java         | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleDeleteUsersRequest.java  | 2 +-
 .../provider/db/service/thrift/TAlterSentryRoleDeleteUsersResponse.java | 2 +-
 .../db/service/thrift/TAlterSentryRoleGrantPrivilegeRequest.java        | 2 +-
 .../db/service/thrift/TAlterSentryRoleGrantPrivilegeResponse.java       | 2 +-
 .../db/service/thrift/TAlterSentryRoleRevokePrivilegeRequest.java       | 2 +-
 .../db/service/thrift/TAlterSentryRoleRevokePrivilegeResponse.java      | 2 +-
 .../sentry/provider/db/service/thrift/TCreateSentryRoleRequest.java     | 2 +-
 .../sentry/provider/db/service/thrift/TCreateSentryRoleResponse.java    | 2 +-
 .../sentry/provider/db/service/thrift/TDropPrivilegesRequest.java       | 2 +-
 .../sentry/provider/db/service/thrift/TDropPrivilegesResponse.java      | 2 +-
 .../sentry/provider/db/service/thrift/TDropSentryRoleRequest.java       | 2 +-
 .../sentry/provider/db/service/thrift/TDropSentryRoleResponse.java      | 2 +-
 .../provider/db/service/thrift/TListSentryPrivilegesByAuthRequest.java  | 2 +-
 .../provider/db/service/thrift/TListSentryPrivilegesByAuthResponse.java | 2 +-
 .../db/service/thrift/TListSentryPrivilegesForProviderRequest.java      | 2 +-
 .../db/service/thrift/TListSentryPrivilegesForProviderResponse.java     | 2 +-
 .../sentry/provider/db/service/thrift/TListSentryPrivilegesRequest.java | 2 +-
 .../provider/db/service/thrift/TListSentryPrivilegesResponse.java       | 2 +-
 .../provider/db/service/thrift/TListSentryRolesForUserRequest.java      | 2 +-
 .../sentry/provider/db/service/thrift/TListSentryRolesRequest.java      | 2 +-
 .../sentry/provider/db/service/thrift/TListSentryRolesResponse.java     | 2 +-
 .../sentry/provider/db/service/thrift/TRenamePrivilegesRequest.java     | 2 +-
 .../sentry/provider/db/service/thrift/TRenamePrivilegesResponse.java    | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentryActiveRoleSet.java  | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentryAuthorizable.java   | 2 +-
 .../sentry/provider/db/service/thrift/TSentryConfigValueRequest.java    | 2 +-
 .../sentry/provider/db/service/thrift/TSentryConfigValueResponse.java   | 2 +-
 .../provider/db/service/thrift/TSentryExportMappingDataRequest.java     | 2 +-
 .../provider/db/service/thrift/TSentryExportMappingDataResponse.java    | 2 +-
 .../org/apache/sentry/provider/db/service/thrift/TSentryGroup.java      | 2 +-
 .../provider/db/service/thrift/TSentryImportMappingDataRequest.java     | 2 +-
 .../provider/db/service/thrift/TSentryImportMappingDataResponse.java    | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentryMappingData.java    | 2 +-
 .../org/apache/sentry/provider/db/service/thrift/TSentryPrivilege.java  | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentryPrivilegeMap.java   | 2 +-
 .../org/apache/sentry/provider/db/service/thrift/TSentryRole.java       | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentrySyncIDRequest.java  | 2 +-
 .../apache/sentry/provider/db/service/thrift/TSentrySyncIDResponse.java | 2 +-
 .../org/apache/sentry/service/thrift/TSentryResponseStatus.java         | 2 +-
 88 files changed, 88 insertions(+), 88 deletions(-)

commit 66665515a106ee6e12080c49d49395e6768444de
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Apr 10 08:52:47 2018 -0500

    SENTRY-2193: Synchronize thrift definition with the generated sources.(Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../hdfs/service/thrift/SentryHDFSService.java     | 74 ++++++++--------
 .../hdfs/service/thrift/TAuthzUpdateRequest.java   |  2 +-
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  | 74 ++++++++--------
 .../sentry/hdfs/service/thrift/TPathChanges.java   |  2 +-
 .../sentry/hdfs/service/thrift/TPathEntry.java     |  2 +-
 .../sentry/hdfs/service/thrift/TPathsDump.java     |  2 +-
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   | 38 ++++-----
 .../hdfs/service/thrift/TPermissionsUpdate.java    | 98 +++++++++++-----------
 .../hdfs/service/thrift/TPrivilegeChanges.java     | 90 ++++++++++----------
 .../sentry/hdfs/service/thrift/TRoleChanges.java   | 66 +++++++--------
 .../service/thrift/SentryGenericPolicyService.java |  2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |  2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |  2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |  2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |  2 +-
 .../db/generic/service/thrift/TAuthorizable.java   |  2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |  2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |  2 +-
 .../service/thrift/TDropPrivilegesRequest.java     |  2 +-
 .../service/thrift/TDropPrivilegesResponse.java    |  2 +-
 .../service/thrift/TDropSentryRoleRequest.java     |  2 +-
 .../service/thrift/TDropSentryRoleResponse.java    |  2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |  2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |  2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |  2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |  2 +-
 .../service/thrift/TListSentryRolesRequest.java    |  2 +-
 .../service/thrift/TListSentryRolesResponse.java   |  2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |  2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |  2 +-
 .../service/thrift/TSentryActiveRoleSet.java       |  2 +-
 .../generic/service/thrift/TSentryPrivilege.java   |  2 +-
 .../service/thrift/TSentryPrivilegeMap.java        |  2 +-
 .../db/generic/service/thrift/TSentryRole.java     |  2 +-
 .../db/service/thrift/SentryPolicyService.java     |  2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |  2 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |  2 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |  2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |  2 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |  2 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |  2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |  2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |  2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |  2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |  2 +-
 .../db/service/thrift/TDropPrivilegesRequest.java  |  2 +-
 .../db/service/thrift/TDropPrivilegesResponse.java |  2 +-
 .../db/service/thrift/TDropSentryRoleRequest.java  |  2 +-
 .../db/service/thrift/TDropSentryRoleResponse.java |  2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |  2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |  2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |  2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |  2 +-
 .../thrift/TListSentryRolesForUserRequest.java     |  2 +-
 .../db/service/thrift/TListSentryRolesRequest.java |  2 +-
 .../service/thrift/TListSentryRolesResponse.java   |  2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |  2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |  2 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |  2 +-
 .../db/service/thrift/TSentryAuthorizable.java     |  2 +-
 .../service/thrift/TSentryConfigValueRequest.java  |  2 +-
 .../service/thrift/TSentryConfigValueResponse.java |  2 +-
 .../thrift/TSentryExportMappingDataRequest.java    |  2 +-
 .../thrift/TSentryExportMappingDataResponse.java   |  2 +-
 .../provider/db/service/thrift/TSentryGroup.java   |  2 +-
 .../thrift/TSentryImportMappingDataRequest.java    |  2 +-
 .../thrift/TSentryImportMappingDataResponse.java   |  2 +-
 .../db/service/thrift/TSentryMappingData.java      |  2 +-
 .../db/service/thrift/TSentryPrivilege.java        |  2 +-
 .../db/service/thrift/TSentryPrivilegeMap.java     |  2 +-
 .../provider/db/service/thrift/TSentryRole.java    |  2 +-
 .../db/service/thrift/TSentrySyncIDRequest.java    |  2 +-
 .../db/service/thrift/TSentrySyncIDResponse.java   |  2 +-
 .../service/thrift/TSentryResponseStatus.java      |  2 +-
 86 files changed, 300 insertions(+), 300 deletions(-)

commit e4dcc8ed2d61c654fff80fb23da0b41e3b451765
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Apr 9 15:45:56 2018 -0500

    SENTRY-2194: Upgrade Sentry hadoop-version dependency to 2.7.5 (Arjun Mishra, reviewed by Na Li, Kalyan kumar kalvagadda)

 pom.xml                                                                 | 2 +-
 .../sentry/binding/hbaseindexer/authz/HBaseIndexerAuthzBinding.java     | 2 +-
 .../apache/sentry/binding/hbaseindexer/conf/HBaseIndexerAuthzConf.java  | 2 +-
 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java    | 2 +-
 .../src/main/java/org/apache/sentry/kafka/conf/KafkaAuthConf.java       | 2 +-
 .../main/java/org/apache/sentry/binding/solr/conf/SolrAuthzConf.java    | 2 +-
 .../src/main/java/org/apache/sentry/sqoop/conf/SqoopAuthConf.java       | 2 +-
 .../main/java/org/apache/sentry/hdfs/SentryINodeAttributesProvider.java | 2 +-
 .../org/apache/sentry/provider/common/HadoopGroupMappingService.java    | 2 +-
 .../provider/db/generic/tools/PermissionsMigrationToolCommon.java       | 2 +-
 .../sentry/provider/db/generic/tools/SentryConfigToolIndexer.java       | 2 +-
 .../apache/sentry/provider/db/generic/tools/SentryConfigToolSolr.java   | 2 +-
 .../org/apache/sentry/provider/db/generic/tools/SentryShellGeneric.java | 2 +-
 .../main/java/org/apache/sentry/provider/db/tools/SentryShellHive.java  | 2 +-
 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java   | 2 +-
 .../org/apache/sentry/tests/e2e/tools/CreateSentryTestScaleData.java    | 2 +-
 sentry-tools/src/main/java/org/apache/sentry/shell/SentryCli.java       | 2 +-
 17 files changed, 17 insertions(+), 17 deletions(-)

commit 252c1e0a9e76281318887e677cbdf588e052e82f
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Apr 5 09:26:43 2018 +0100

    SENTRY-2198 - Update to Kafka 1.0.0. Colm O hEigeartaigh, reviewed by kalyan kumar kalvagadda
    .

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d817d4d301dcacb21d2d135e5ffa6ed9aaddbf47
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Mar 30 08:44:15 2018 -0500

    SENTRY-2168: Altering table will not update sentry permissions when HDFS sync is disabled (Kalyan Kumar kalvagadda, reviewed-by Na Li)

 .../service/persistent/NotificationProcessor.java  |  8 ++--
 .../db/service/persistent/TestHMSFollower.java     |  4 +-
 .../TestHmsNotificationProcessingBase.java         |  3 +-
 ...stHmsNotificationProcessingWithOutHdfsSync.java | 55 +++++++++++++++++++++-
 4 files changed, 62 insertions(+), 8 deletions(-)

commit 4e2009104cf6bdc65b7ddd27e35ed5068f7b3d21
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Mar 28 16:59:10 2018 +0100

    SENTRY-2145 - Some misc code cleanups. Colm O hEigeartaigh, reviewed by Sergio Pena.

 .../sentry/binding/hive/authz/DefaultSentryValidator.java  |  9 +++++----
 .../org/apache/sentry/kafka/binding/KafkaAuthBinding.java  |  6 +++---
 .../org/apache/sentry/core/model/solr/AdminOperation.java  | 14 +++++++-------
 sentry-dist/src/license/THIRD-PARTY.properties             |  3 ++-
 4 files changed, 17 insertions(+), 15 deletions(-)

commit 51c02fa2456cd72b1088ac5662e2f17681aebd3a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Mar 27 10:35:33 2018 -0500

    SENTRY-2165: NotificationProcesser process notification methods have logs wrongly flagged as ERROR (Arjun Mishra, reviewed by Na Li, Steve Moist, Sergio Pena)
    
    Change-Id: Ifafb67c16b59483358e8a46c81d6167312be15e5

 .../db/service/persistent/NotificationProcessor.java   | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5db336d79b6f637840fc92427ae0648117f383ca
Author: lina.li <lina.li@cloudera.com>
Date:   Wed Mar 21 15:44:14 2018 -0500

    SENTRY-2184: Performance Issue: MPath is queried for each MAuthzPathsMapping in full snapshot (Na Li, reviewed by Brian Towles, Alexander Kolbasov, Kalyan Kumar Kalvagadda).

 .../java/org/apache/sentry/provider/db/service/model/package.jdo     | 3 +++
 .../apache/sentry/provider/db/service/persistent/SentryStore.java    | 5 ++++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit a8646b256a85d0b4a42dfdbf69288bf84e3583cb
Author: lina.li <lina.li@cloudera.com>
Date:   Tue Mar 20 10:46:02 2018 -0500

    Revert "SENTRY-2184: Performance Issue: MPath is queried for each MAuthzPathsMapping in full snapshot (Na Li, reviewed by Brian Towles)"
    
    This reverts commit 0ec31c0f786a4c8eaca3901eb716297f74cab4ea.

 .../java/org/apache/sentry/provider/db/service/model/package.jdo | 6 ------
 .../sentry/provider/db/service/persistent/SentryStore.java       | 9 +--------
 2 files changed, 1 insertion(+), 14 deletions(-)

commit 0ec31c0f786a4c8eaca3901eb716297f74cab4ea
Author: lina.li <lina.li@cloudera.com>
Date:   Mon Mar 19 13:32:36 2018 -0500

    SENTRY-2184: Performance Issue: MPath is queried for each MAuthzPathsMapping in full snapshot (Na Li, reviewed by Brian Towles)

 .../java/org/apache/sentry/provider/db/service/model/package.jdo | 6 ++++++
 .../sentry/provider/db/service/persistent/SentryStore.java       | 9 ++++++++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit d3aef7c8aae7403c637b0b146d32d656b608a20d
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Mar 14 11:12:46 2018 -0500

    SENTRY-2178: Sentry permissions for Solr are deleted as part of migration process (Hrishikesh Gadre, reviewed by Sergio Pena, Na Li)
    
    Change-Id: Iab66bb3479e92b63cf97693bc88a1d143c870b18

 .../tools/PermissionsMigrationToolCommon.java      | 41 ++++++++++++----------
 1 file changed, 23 insertions(+), 18 deletions(-)

commit f557a0380cf0ddc250010d4eb1b49e127f86f271
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Mar 7 16:57:35 2018 -0800

    SENTRY-2164: Convert uses of TransactionBlock to lambdas (Alex Kolbasov, reviewed by Na Li and Steve Moist)

 .../service/persistent/DelegateSentryStore.java    |  273 ++--
 .../db/service/persistent/SentryStore.java         | 1702 +++++++++-----------
 .../db/service/persistent/TransactionBlock.java    |    1 +
 3 files changed, 871 insertions(+), 1105 deletions(-)

commit 4cd3f1e983d8eb0559d52db0db08aaa5237935b6
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Mar 7 09:48:02 2018 +0000

    SENTRY-2150 - Update Apache parent pom version. Colm O hEigeartaigh, reviewed by Sergio Pena and Na Li.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 936be4e7cd08f33616fe1e296af63ed4325195bf
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Tue Mar 6 10:46:31 2018 +0000

    SENTRY-2147 - Fix Javadoc for SentryHiveAuthorizerFactory. Colm O hEigeartaigh, reviewed by kalyan kumar kalvagadda + Steve Moist.

 .../apache/sentry/binding/hive/authz/SentryHiveAuthorizerFactory.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94cfb1b425b64285385fcb716a1c12877c24d6d0
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Feb 22 07:38:19 2018 -0600

    SENTRY-2115: Incorrect behavior of HMsFollower when HDFSSync feature is disabled.(Kalyan Kumar kalvagadda, reviewed-by Na Li, Sergio Pena and Xinran Tinney)

 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |   1 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |   4 +-
 .../db/service/persistent/HMSFollower.java         |  67 +++--
 .../service/persistent/NotificationProcessor.java  |   2 +-
 .../db/service/persistent/SentryStore.java         |  25 +-
 .../sentry/service/thrift/SentryService.java       |  11 +
 .../db/service/persistent/TestHMSFollower.java     | 308 ++++++++++++++++++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   2 +-
 .../e2e/hdfs/TestHDFSIntegrationTogglingConf.java  | 211 ++++++++++++++
 .../tests/e2e/minisentry/InternalSentrySrv.java    |  11 +
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  10 +
 11 files changed, 591 insertions(+), 61 deletions(-)

commit b002854868f4179519558f8f9e2cc13e5c7d2fd9
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Feb 21 12:27:14 2018 -0600

    SENTRY-853: Handle show grant on <auth> failure correctly (Steve Moist, reviewed by Sergio Pena)
    
    Change-Id: If87647271855a73ef01dfbee590a74f105af62ac

 .../src/main/java/org/apache/hadoop/hive/SentryHiveConstants.java   | 1 +
 .../sentry/binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java | 4 ++--
 .../sentry/binding/hive/authz/DefaultSentryAccessController.java    | 4 ++--
 .../sentry/binding/hive/TestSentryHiveAuthorizationTaskFactory.java | 6 +++---
 4 files changed, 8 insertions(+), 7 deletions(-)

commit ea50feb565d40d49cf4274881d8b6cb448429c12
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Feb 21 12:18:52 2018 -0600

    SENTRY-1572: SentryMain() shouldn't dynamically load tool class (Xinran Tinney, reviewed by Sergio Pena)
    
    Change-Id: Iae50bca5cf664e3764e41a3dcb240afa470f4f2d

 bin/sentry                                         |   2 +-
 .../main/java/org/apache/sentry/SentryMain.java    | 138 ---------------------
 sentry-tools/pom.xml                               |   8 +-
 .../main/java/org/apache/sentry/SentryMain.java    | 138 +++++++++++++++++++++
 4 files changed, 141 insertions(+), 145 deletions(-)

commit 76b65ee1d205bb700e1894a1bb75a19a3c87f2d8
Author: lina.li <lina.li@cloudera.com>
Date:   Tue Feb 20 14:55:35 2018 -0600

    SENTRY-2141: Sentry Privilege TimeStamp is not converted to grantTime in HivePrivilegeInfo correctly (Na Li, reviewed by Sergio Pena, Kalyan Kumar Kalvagadda, Arjun Mishra, Steve Moist, Alexander Kolbasov, Liam Sargent, Xinran Tinney)

 .../org/apache/sentry/binding/util/SentryAuthorizerUtil.java   | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 5a5a9d8831a28c185464cb2f3d78b4fc5e6c7bd1
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Feb 8 10:15:19 2018 -0600

    SENTRY-2136: Bump metrics dependency to new namespace and version used by the rest of Hadoop (Liam Sargent, reviewed by Sergio Pena, Steve Moist, Xinran Tinney)
    
    Change-Id: I791878ecb858ae4a98737e70a669b1b408fea0d6

 pom.xml                                    | 8 ++++----
 sentry-provider/sentry-provider-db/pom.xml | 6 +++---
 sentry-tests/sentry-tests-solr/pom.xml     | 6 +++---
 3 files changed, 10 insertions(+), 10 deletions(-)

commit a178d7ed86a48be937e780487333103870a70064
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Feb 2 15:13:24 2018 -0600

    Revert "SENTRY-2109: Fix the logic of identifying HMS out of Sync and handle gaps and out-of-sequence notifications.(Kalyan Kumar kalvagadda, reviewed-by Vadim Spector, Na Li and Arjun Mishra)"
    Reverting the patch as it needs some more reviewers to look into it.
    
    This reverts commit afcaa4997afae428522e7f0d7fb5917e9e58580d.

 .../common/exception/SentryOutOfSyncException.java |  26 ---
 .../db/service/persistent/HMSFollower.java         | 104 ++++++----
 .../db/service/persistent/SentryStore.java         |  30 +--
 .../service/thrift/HiveNotificationFetcher.java    | 204 +++----------------
 .../sentry/service/thrift/SentryService.java       |   4 -
 .../sentry/service/thrift/ServiceConstants.java    |   6 -
 .../db/service/persistent/TestHMSFollower.java     |  86 ++++----
 .../TestHMSFollowerSentryStoreIntegration.java     |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  32 +--
 .../thrift/TestHiveNotificationFetcher.java        | 222 ++-------------------
 .../thrift/TestHiveNotificationFetcherCache.java   | 203 -------------------
 .../tests/e2e/dbprovider/TestSnapshotCreation.java |  87 --------
 ...TestSnapshotCreationWithShorterHMSEventTtl.java | 105 ----------
 ...napshotWithLongerHMSFollowerLongerInterval.java | 114 -----------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  43 +---
 15 files changed, 163 insertions(+), 1107 deletions(-)

commit afcaa4997afae428522e7f0d7fb5917e9e58580d
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Feb 1 16:52:15 2018 -0600

    SENTRY-2109: Fix the logic of identifying HMS out of Sync and handle gaps and out-of-sequence notifications.(Kalyan Kumar kalvagadda, reviewed-by Vadim Spector, Na Li and Arjun Mishra)

 .../common/exception/SentryOutOfSyncException.java |  26 +++
 .../db/service/persistent/HMSFollower.java         | 104 ++++------
 .../db/service/persistent/SentryStore.java         |  30 ++-
 .../service/thrift/HiveNotificationFetcher.java    | 204 ++++++++++++++++---
 .../sentry/service/thrift/SentryService.java       |   4 +
 .../sentry/service/thrift/ServiceConstants.java    |   6 +
 .../db/service/persistent/TestHMSFollower.java     |  86 ++++----
 .../TestHMSFollowerSentryStoreIntegration.java     |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  32 +--
 .../thrift/TestHiveNotificationFetcher.java        | 222 +++++++++++++++++++--
 .../thrift/TestHiveNotificationFetcherCache.java   | 203 +++++++++++++++++++
 .../tests/e2e/dbprovider/TestSnapshotCreation.java |  87 ++++++++
 ...TestSnapshotCreationWithShorterHMSEventTtl.java | 105 ++++++++++
 ...napshotWithLongerHMSFollowerLongerInterval.java | 114 +++++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  43 +++-
 15 files changed, 1107 insertions(+), 163 deletions(-)

commit 1b71cfb04cd2799c269e92b9220ad41309afbe8b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Jan 29 11:21:03 2018 -0600

    SENTRY-2124: LeaderStatusMonitor.toString() throws IllegalFormatConversionException with AtomicLong (Xinran Tinney, reviewed by Sergio Pena)

 .../sentry/provider/db/service/persistent/LeaderStatusMonitor.java      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 604ed84c41442765d2b7f05feb9e544c9f3c758c
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Jan 26 09:37:31 2018 -0600

    SENTRY-2127: Fix unstable unit test TestColumnEndToEnd.testCrossDbTableOperations (Na Li, reviewed by Sergio Pena)

 .../java/org/apache/sentry/tests/e2e/dbprovider/TestColumnEndToEnd.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f1b8bf783626038a58c7bd31a9d7e25dab3e86d5
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Jan 19 15:36:58 2018 -0600

    SENTRY-2123: Specify code path of auth-generated thrift files for Javadoc and exclude them from Javadoc generation (Na Li, reviewed by Sergio Pena)

 sentry-hdfs/sentry-hdfs-common/pom.xml     | 14 ++++++++++++++
 sentry-provider/sentry-provider-db/pom.xml | 14 ++++++++++++++
 2 files changed, 28 insertions(+)

commit c4226f649d71697e24ca9540907cdecd9bcdb9f5
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Jan 18 09:58:17 2018 -0600

    SENTRY-1819: HMSFollower and friends do not belong in sentry.service.thrift (Xinran Tinney, reviewed by Sergio Pena, kalyan kumar kalvagadda, Na Li, Steve Moist)

 .../src/main/java/org/apache/sentry/hdfs/SentryPlugin.java  |  2 +-
 .../db/service/persistent}/CounterWait.java                 |  2 +-
 .../db/service/persistent}/HMSFollower.java                 | 13 +++++++++----
 .../db/service/persistent}/LeaderStatusMonitor.java         | 13 ++++++-------
 .../db/service/persistent}/NotificationProcessor.java       |  4 ++--
 .../sentry/provider/db/service/persistent/SentryStore.java  |  1 -
 .../java/org/apache/sentry/service/thrift/HMSClient.java    |  4 ++--
 .../sentry/service/thrift/HiveNotificationFetcher.java      |  6 +++---
 .../sentry/service/thrift/HiveSimpleConnectionFactory.java  |  2 +-
 .../org/apache/sentry/service/thrift/SentryHMSClient.java   |  8 ++++----
 .../org/apache/sentry/service/thrift/SentryService.java     |  2 ++
 .../db/service/persistent}/TestCounterWait.java             |  2 +-
 .../db/service/persistent}/TestHMSFollower.java             |  9 ++++++---
 .../persistent/TestHMSFollowerSentryStoreIntegration.java   |  1 -
 .../db/service/persistent}/TestLeaderStatusMonitor.java     |  3 +--
 .../db/service/persistent}/TestNotificationProcessor.java   |  4 ++--
 16 files changed, 41 insertions(+), 35 deletions(-)

commit b87651cf9b140f03d44297129fbe68b82052da8e
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jan 16 14:08:54 2018 -0600

    SENTRY-2034: Add e2e tests for testing HMS notification processing.(Kalyan Kumar Kalvagadda, reviewed by Sergio Pena, Lina Li)

 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  40 ++------
 .../dbprovider/TestHmsNotificationProcessing.java  |  92 +++++++++++++++++++
 .../TestHmsNotificationProcessingBase.java         |  79 ++++++++++++++++
 ...stHmsNotificationProcessingWithOutHdfsSync.java | 101 +++++++++++++++++++++
 ...sNotificationProcessingWithOutSyncOnCreate.java |  96 ++++++++++++++++++++
 ...HmsNotificationProcessingWithOutSyncOnDrop.java |  92 +++++++++++++++++++
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |   6 ++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 100 ++++++++++++++------
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |   7 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |   1 +
 10 files changed, 551 insertions(+), 63 deletions(-)

commit 5a7b076435dfe54f9d093fbf892d4b7141634d66
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jan 16 14:29:31 2018 -0600

    SENTRY-2023: Add sentry-shell support for hbase-indexer permissions (Mano Kovacs, reviewed by Sergio Pena)

 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../persistent/PrivilegeOperatePersistence.java    |   2 +
 .../generic/tools/GenericPrivilegeConverter.java   |  10 +-
 .../db/generic/tools/SentryConfigToolIndexer.java  | 340 +++++++++++++
 .../db/generic/tools/SentryShellGeneric.java       |  17 +-
 .../db/generic/tools/SentryShellIndexer.java       | 124 +++++
 .../provider/db/tools/SentryShellCommon.java       | 224 +++++----
 .../generic/tools/TestSentryConfigToolIndexer.java | 263 +++++++++++
 .../db/generic/tools/TestSentryShellIndexer.java   | 526 +++++++++++++++++++++
 .../src/test/resources/indexer_case.ini            |  26 +
 .../test/resources/indexer_config_import_tool.ini  |  29 ++
 .../src/test/resources/indexer_invalid.ini         |  21 +
 12 files changed, 1477 insertions(+), 109 deletions(-)

commit 01c76e79ef5d2dd3fac2df1206918a91de8a7b01
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jan 16 14:29:03 2018 -0600

    Revert "SENTRY-2023: Add sentry-shell support for hbase-indexer permissions (Mano Kovacs, reviewed by Sergio Pena)"
    
    Incorrect patch was committed.
    
    This reverts commit b5910d24bfeb7dc42ec098080b3faafc50537250.

 bin/sentryShell                                    |   6 +-
 .../core/common/AbstractAuthorizableFactory.java   |  72 -------
 .../sentry/core/common/AuthorizableFactory.java    |  50 -----
 .../sentry/core/common/AuthorizableType.java       |  21 --
 .../sentry/core/model/kafka/KafkaAuthorizable.java |   2 +-
 .../core/model/kafka/KafkaModelAuthorizables.java  |  27 +--
 .../core/model/solr/SolrModelAuthorizable.java     |   6 +-
 .../core/model/solr/SolrModelAuthorizables.java    |  52 ++---
 .../sentry/core/model/sqoop/SqoopAuthorizable.java |   2 +-
 .../core/model/sqoop/SqoopModelAuthorizables.java  |  50 +++--
 .../generic/tools/GenericPrivilegeConverter.java   |  96 +++++----
 .../db/generic/tools/SentryConfigToolSolr.java     |   9 +-
 .../db/generic/tools/SentryShellGeneric.java       |  51 +++--
 .../db/generic/tools/SentryShellKafka.java         |  71 -------
 .../provider/db/generic/tools/SentryShellSolr.java |  52 -----
 .../db/generic/tools/SentryShellSqoop.java         |  52 -----
 .../db/generic/tools/TestSentryConfigToolSolr.java |   9 +-
 .../db/generic/tools/TestSentryShellKafka.java     | 207 ++++++++++---------
 .../db/generic/tools/TestSentryShellSolr.java      | 224 +++++++++++----------
 .../db/generic/tools/TestSentryShellSqoop.java     | 164 +++++++--------
 20 files changed, 473 insertions(+), 750 deletions(-)

commit b5910d24bfeb7dc42ec098080b3faafc50537250
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Jan 16 12:55:17 2018 -0600

    SENTRY-2023: Add sentry-shell support for hbase-indexer permissions (Mano Kovacs, reviewed by Sergio Pena)

 bin/sentryShell                                    |   6 +-
 .../core/common/AbstractAuthorizableFactory.java   |  72 +++++++
 .../sentry/core/common/AuthorizableFactory.java    |  50 +++++
 .../sentry/core/common/AuthorizableType.java       |  21 ++
 .../sentry/core/model/kafka/KafkaAuthorizable.java |   2 +-
 .../core/model/kafka/KafkaModelAuthorizables.java  |  27 ++-
 .../core/model/solr/SolrModelAuthorizable.java     |   6 +-
 .../core/model/solr/SolrModelAuthorizables.java    |  52 +++--
 .../sentry/core/model/sqoop/SqoopAuthorizable.java |   2 +-
 .../core/model/sqoop/SqoopModelAuthorizables.java  |  50 ++---
 .../generic/tools/GenericPrivilegeConverter.java   |  96 ++++-----
 .../db/generic/tools/SentryConfigToolSolr.java     |   9 +-
 .../db/generic/tools/SentryShellGeneric.java       |  51 ++---
 .../db/generic/tools/SentryShellKafka.java         |  71 +++++++
 .../provider/db/generic/tools/SentryShellSolr.java |  52 +++++
 .../db/generic/tools/SentryShellSqoop.java         |  52 +++++
 .../db/generic/tools/TestSentryConfigToolSolr.java |   9 +-
 .../db/generic/tools/TestSentryShellKafka.java     | 207 +++++++++----------
 .../db/generic/tools/TestSentryShellSolr.java      | 224 ++++++++++-----------
 .../db/generic/tools/TestSentryShellSqoop.java     | 164 +++++++--------
 20 files changed, 750 insertions(+), 473 deletions(-)

commit 6cfd35716fbfb89e014692414103b353b7ee2c49
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Jan 12 16:22:21 2018 -0600

    SENTRY-2120: Escape input string for error response message in LogLevelServlet (Na Li, reviewed by Colm O hEigeartaigh, Sergio Pena)

 .../apache/sentry/provider/db/service/thrift/LogLevelServlet.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6b644c97a5ddb39b0848abd954017a8585430723
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Jan 11 11:04:44 2018 -0600

    SENTRY-641: Add binding for lily hbase indexer (Mano Kovacs, reviewed by Sergio Pena)

 pom.xml                                            |  10 +-
 sentry-binding/pom.xml                             |   1 +
 .../sentry-binding-hbase-indexer}/pom.xml          |  51 +---
 .../authz/HBaseIndexerAuthzBinding.java            | 219 +++++++++++++++
 .../hbaseindexer/conf/HBaseIndexerAuthzConf.java   |  84 ++++++
 .../hbaseindexer/TestHBaseIndexerAuthzBinding.java | 309 +++++++++++++++++++++
 .../src/test/resources/log4j.properties            |   0
 .../src/test/resources/sentry-site-service.xml     |  29 ++
 .../src/test/resources/sentry-site.xml             |  29 ++
 .../src/test/resources/test-authz-provider.ini     |  28 +-
 sentry-dist/pom.xml                                |   8 +-
 sentry-dist/src/license/THIRD-PARTY.properties     |   9 +-
 sentry-policy/pom.xml                              |   1 -
 .../policy/indexer/IndexerWildcardPrivilege.java   | 159 -----------
 .../policy/indexer/SimpleIndexerPolicyEngine.java  | 110 --------
 .../indexer/AbstractTestIndexerPolicyEngine.java   | 129 ---------
 .../sentry/policy/indexer/IndexPolicyTestUtil.java |  44 ---
 .../indexer/TestCommonPrivilegeForIndexer.java     | 221 ---------------
 ...stIndexerAuthorizationProviderGeneralCases.java | 179 ------------
 ...stIndexerAuthorizationProviderSpecialCases.java |  84 ------
 .../indexer/TestIndexerModelAuthorizables.java     |  54 ----
 .../policy/indexer/TestIndexerPolicyEngineDFS.java |  74 -----
 .../indexer/TestIndexerPolicyEngineLocalFS.java    |  43 ---
 .../policy/indexer/TestIndexerPolicyNegative.java  | 101 -------
 .../policy/indexer/TestIndexerRequiredInRole.java  |  64 -----
 .../provider/common/AuthorizationComponent.java    |   1 +
 26 files changed, 712 insertions(+), 1329 deletions(-)

commit 4dc017163c18d941ee06d160ec0e83f8e60620f1
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jan 3 16:55:34 2018 -0600

    SENTRY-2085: Sentry error handling exposes SentryGroupNotFoundException externally. (Zachary Amsden, reviewed by Kalyan Kumar Kalvagadda, Lina Li)

 .../binding/hive/authz/HiveAuthzBinding.java       |  2 +-
 .../hive/authz/HiveAuthzBindingHookBase.java       | 22 +++++--
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  3 +-
 .../binding/solr/authz/SentrySolrPluginImpl.java   |  5 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  6 +-
 .../sentry/binding/solr/TestSolrAuthzBinding.java  |  9 +--
 .../exception/SentryGroupNotFoundException.java    | 35 +++-------
 .../provider/common/AuthorizationProvider.java     |  4 +-
 .../provider/common/GroupMappingService.java       |  5 +-
 .../provider/common/HadoopGroupMappingService.java |  2 +-
 .../common/ResourceAuthorizationProvider.java      | 19 ++++--
 .../common/TestNoAuthorizationProvider.java        | 12 +++-
 .../service/thrift/SentryPolicyStoreProcessor.java | 77 ++++++++++++++++++++--
 .../thrift/TestSentryGenericPolicyProcessor.java   | 48 +++++++++++++-
 .../provider/file/LocalGroupMappingService.java    |  2 +-
 .../provider/file/TestLocalGroupMapping.java       | 14 +++-
 .../component/QueryDocAuthorizationComponent.java  | 10 ++-
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 21 ++----
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 21 ++----
 19 files changed, 211 insertions(+), 106 deletions(-)

commit 23bc2159ae3754d2b09fc058f8a9cab62daa9d38
Author: Vadim Spector <vspec@cloudera.com>
Date:   Wed Dec 20 11:00:17 2017 -0800

    SENTRY-2019: Improve logging in SentryPlugin (Vadim Spector, Reviewed by Arjun Mishra, Alexander Kolbasov, Liam Sargent)

 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 52 ++++++++++++++++++++++
 1 file changed, 52 insertions(+)

commit a4924edc79b26f937e3e5ea3584f0b4307dd4135
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 15 10:47:23 2017 -0600

    SENTRY-2096: Fail unit tests at end during test-patch.py execution (Na Li, reviewed by Sergio Pena)

 dev-support/test-patch.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a768a8c7d2867018b1d77c0ae031a3c1c124e19
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Dec 14 12:14:53 2017 -0600

    SENTRY-1662: Constants java uses mutable collection (Steve Moist, reviewed by Alexander Kolbasov, Na Li)

 .../sentry/provider/db/log/util/Constants.java     | 196 ++++++++-------------
 1 file changed, 75 insertions(+), 121 deletions(-)

commit f2e566a050c700ac3692b30e6c84f5454e24f8d5
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Dec 13 23:11:37 2017 -0800

    SENTRY-2078: Have sentry server print an obvious INFO level log message when it becomes the writer (Arjun Mishra, reviewed by Vadim Spector and Alex Kolbasov)

 .../sentry/service/thrift/LeaderStatusMonitor.java | 27 +++++++++++++---------
 1 file changed, 16 insertions(+), 11 deletions(-)

commit 71283bda28927e59ab7d85f3e081776c190db86a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Dec 12 14:36:04 2017 -0600

    SENTRY-1951: Old SentryStore.retrieveFullPathsImage() should be removed (Arjun Mishra, reviewed by Alexander Kolbasov, Vadim Spector)

 .../org/apache/sentry/hdfs/TestImageRetriever.java |   5 +-
 .../hdfs/TestSentryHDFSServiceProcessor.java       |  11 +-
 .../db/service/persistent/SentryStore.java         |  61 -----
 .../db/service/persistent/TestSentryStore.java     | 284 ++++++++++++++++++---
 4 files changed, 250 insertions(+), 111 deletions(-)

commit 129f4ed9a9300c732f556d842a20f2ec1d1c188b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 8 16:02:26 2017 -0600

    SENTRY-2094: Enable TestHDFSIntegrationWithHA tests (Sergio Pena, reviewed by Na Li)

 sentry-tests/sentry-tests-hive-v2/pom.xml                             | 4 ----
 sentry-tests/sentry-tests-hive/pom.xml                                | 4 ----
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java  | 3 +--
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationWithHA.java   | 4 +---
 4 files changed, 2 insertions(+), 13 deletions(-)

commit 72be6e755374b04709ae83fbfa9f1ebed4d84dcb
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 8 09:47:45 2017 -0600

    SENTRY-2040: When getting Snapshots from HMS we need more logging around cases when a snapshot is not being received (Arjun Mishra, reviewed by Sergio Pena, Na Li, Vadim Spector, kalyan kumar kalvagadda)

 .../db/service/persistent/SentryStore.java         |  3 +-
 .../apache/sentry/service/thrift/CounterWait.java  |  5 +++-
 .../apache/sentry/service/thrift/HMSFollower.java  | 33 +++++++++++++++-------
 .../sentry/service/thrift/SentryHMSClient.java     | 12 +++++++-
 4 files changed, 40 insertions(+), 13 deletions(-)

commit 71daaf0372f8c418ad8035bdc6969e12303aacc4
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Dec 7 10:53:51 2017 -0600

    SENTRY-2092: Drop Role log message shows "Creating role" (Na Li, reviewed by Alexander Kolbasov)

 .../binding/hive/v2/authorizer/DefaultSentryAccessController.java     | 4 ++--
 .../sentry/binding/hive/authz/DefaultSentryAccessController.java      | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 344be54e8d057eae60e86a001bae10b5d15a448c
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Dec 4 17:35:48 2017 +0000

    SENTRY-2086 - Sentry distribution source does not build due to missing modules. Colm O hEigeartaigh, reviewed by Sergio Pena.

 sentry-dist/src/main/assembly/src.xml | 2 ++
 1 file changed, 2 insertions(+)

commit 10de29b392f7ba86e1f71867d27dda3cda958a7e
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Dec 1 17:39:42 2017 -0600

    SENTRY-2081: Automate the generation LICENSE.txt based on distributed jars. (Kalyan Kumar Kalvagadda, reviewed by Sergio Pena, Colm O hEigeartaigh, Alexander Kolbasov)

 LICENSE.txt                                        |  66 +-
 README_license.txt                                 |  66 ++
 pom.xml                                            |   4 +
 sentry-dist/pom.xml                                |  71 +-
 sentry-dist/src/license/THIRD-PARTY.ftl            |  54 ++
 sentry-dist/src/license/THIRD-PARTY.properties     |  44 ++
 .../src/license/override-THIRD-PARTY.properties    |  18 +
 sentry-dist/src/main/assembly/bin.xml              |  16 +-
 .../src/main/resources/licences/BSD_2-clause.txt   |   8 +
 .../src/main/resources/licences/BSD_License.txt    |   7 +
 .../src/main/resources/licences/CDDL_1_0.txt       | 308 ++++++++
 .../src/main/resources/licences/CDDL_1_1.txt       | 797 +++++++++++++++++++++
 sentry-dist/src/main/resources/licences/CDDL_2.txt |   1 +
 .../Eclipse_Public_License_-_Version_1_0.txt       |  70 ++
 .../src/main/resources/licences/MIT_License.txt    |  21 +
 .../Mozilla_Public_License_Version_1_1.txt         | 183 +++++
 .../licences/The_BSD_3-Clause_License.txt          |  13 +
 17 files changed, 1684 insertions(+), 63 deletions(-)

commit 3fe0dfa96bcac59c371de240adb5912d71be617b
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Dec 1 17:44:50 2017 -0600

    SENTRY-2084: Exclude javax.jms:jms from sentry distribution. (Kalyan Kumar Kalvagadda, reviewed by Sergio Pena, Alexander Kolbasov)

 pom.xml | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 4583c26ad5dbd73119b861c6bded2ff486474de6
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 1 09:46:51 2017 -0600

    Add dependency-reduced-pom.xml to the .gitignore file

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 0becb24e8df7facd85fbfe1144e952ce71124fd5
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 1 09:46:09 2017 -0600

    SENTRY-2079: Sentry HA leader monitor does not work due to a mix of curator versions in the classpath (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 pom.xml                                    | 39 ++++++++----------------------
 sentry-binding/sentry-binding-solr/pom.xml |  6 +++++
 sentry-provider/sentry-provider-db/pom.xml | 37 ++++++++++++++++++++++++++++
 sentry-tests/sentry-tests-solr/pom.xml     |  1 +
 4 files changed, 54 insertions(+), 29 deletions(-)

commit da879a0cc4a960636f02084f3ed1f0ae66b885da
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Dec 1 09:42:49 2017 -0600

    Revert "SENTRY-2079: Sentry HA leader monitor does not work due to a mix of curator versions in the classpath (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)"
    
    This reverts commit 989cb7f3551ebd895fbda668665778104e4d6db9.

 pom.xml                                            |  39 +-
 sentry-binding/sentry-binding-solr/pom.xml         |   6 -
 .../sentry-provider-db/dependency-reduced-pom.xml  | 624 ---------------------
 sentry-provider/sentry-provider-db/pom.xml         |  37 --
 sentry-tests/sentry-tests-solr/pom.xml             |   1 -
 5 files changed, 29 insertions(+), 678 deletions(-)

commit 35e9d48cd239a5e49c2127cd6e61989ee83cb9d4
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Nov 30 21:26:38 2017 -0600

    SENTRY-2082: Exclude javax.servlet-3.0.0.v201112011016.jar from Sentry dist (Sergio Pena, reviewed by Alexander Kolbasov, kalyan kumar kalvagadda)

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 989cb7f3551ebd895fbda668665778104e4d6db9
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Nov 30 20:14:52 2017 -0600

    SENTRY-2079: Sentry HA leader monitor does not work due to a mix of curator versions in the classpath (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 pom.xml                                            |  39 +-
 sentry-binding/sentry-binding-solr/pom.xml         |   6 +
 .../sentry-provider-db/dependency-reduced-pom.xml  | 624 +++++++++++++++++++++
 sentry-provider/sentry-provider-db/pom.xml         |  37 ++
 sentry-tests/sentry-tests-solr/pom.xml             |   1 +
 5 files changed, 678 insertions(+), 29 deletions(-)

commit b165c691431ae85c8cec149fea74ca72375d65ca
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Nov 28 07:19:50 2017 -0600

    SENTRY-2072: log4j2 dependencies brought by Hive 2 are causing conflicts with Sentry log4j (Kalyan Kumar Kalvagadda reviewed by Sergio Pena and Lina Li)

 pom.xml                                | 86 ++++++++++++++++++++++++++++++++++
 sentry-tests/sentry-tests-hive/pom.xml |  6 +++
 2 files changed, 92 insertions(+)

commit 297088b579d19d2f698bad8ba258a63c96f245ff
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Nov 29 19:53:21 2017 +0000

    SENTRY-2076 - Some test artifacts are not defined at test scope. Colm O hEigeartaigh, reviewed by Sergio Pena.

 sentry-binding/sentry-binding-solr/pom.xml | 1 +
 sentry-solr/solr-sentry-handlers/pom.xml   | 1 +
 2 files changed, 2 insertions(+)

commit 7f3084bea616e311b3d993d636ff8d0182bf6cfa
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 29 11:44:29 2017 -0600

    SENTRY-2049: Remove hive-authz2 profile from the sentry-dist module (Steve Moist, reviewed by Sergio Pena)

 sentry-dist/pom.xml | 30 ++++--------------------------
 1 file changed, 4 insertions(+), 26 deletions(-)

commit 2488be5bf5a8dfc0e41b39a5d9e550aa53615fb9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Nov 27 08:10:40 2017 -0600

    SENTRY-2055: Update the pom file on master with the 2.1.0-SNAPSHOT.

 pom.xml                                             | 2 +-
 sentry-binding/pom.xml                              | 2 +-
 sentry-binding/sentry-binding-hive-common/pom.xml   | 2 +-
 sentry-binding/sentry-binding-hive-conf/pom.xml     | 2 +-
 sentry-binding/sentry-binding-hive-follower/pom.xml | 2 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml       | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml          | 2 +-
 sentry-binding/sentry-binding-kafka/pom.xml         | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml          | 2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml         | 2 +-
 sentry-core/pom.xml                                 | 2 +-
 sentry-core/sentry-core-common/pom.xml              | 2 +-
 sentry-core/sentry-core-model-db/pom.xml            | 2 +-
 sentry-core/sentry-core-model-indexer/pom.xml       | 2 +-
 sentry-core/sentry-core-model-kafka/pom.xml         | 2 +-
 sentry-core/sentry-core-model-solr/pom.xml          | 2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml         | 2 +-
 sentry-dist/pom.xml                                 | 2 +-
 sentry-hdfs/pom.xml                                 | 2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml              | 2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml                | 2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml     | 2 +-
 sentry-hdfs/sentry-hdfs-service/pom.xml             | 2 +-
 sentry-policy/pom.xml                               | 2 +-
 sentry-policy/sentry-policy-common/pom.xml          | 2 +-
 sentry-policy/sentry-policy-engine/pom.xml          | 2 +-
 sentry-policy/sentry-policy-indexer/pom.xml         | 2 +-
 sentry-provider/pom.xml                             | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml       | 2 +-
 sentry-provider/sentry-provider-common/pom.xml      | 2 +-
 sentry-provider/sentry-provider-db/pom.xml          | 2 +-
 sentry-provider/sentry-provider-file/pom.xml        | 2 +-
 sentry-solr/pom.xml                                 | 2 +-
 sentry-solr/solr-sentry-handlers/pom.xml            | 2 +-
 sentry-tests/pom.xml                                | 2 +-
 sentry-tests/sentry-tests-hive-v2/pom.xml           | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml              | 2 +-
 sentry-tests/sentry-tests-kafka/pom.xml             | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml              | 2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml             | 2 +-
 sentry-tools/pom.xml                                | 2 +-
 41 files changed, 41 insertions(+), 41 deletions(-)

commit 2de4adff96110ed3fa4ed13e0a2f3172448a8cc8
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 18:00:03 2017 -0600

    SENTRY-2062: Support the new Hive 2.3.2 DbNotificationListener (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 .../json/SentryJSONAddPartitionMessage.java        |  18 +-
 .../json/SentryJSONAlterPartitionMessage.java      |  38 +-
 .../json/SentryJSONAlterTableMessage.java          |  16 +-
 .../json/SentryJSONCreateDatabaseMessage.java      |   2 +-
 .../json/SentryJSONCreateTableMessage.java         |   9 +-
 .../json/SentryJSONDropDatabaseMessage.java        |   2 +-
 .../json/SentryJSONDropPartitionMessage.java       |  20 +-
 .../messaging/json/SentryJSONDropTableMessage.java |   2 +-
 .../json/SentryJSONMessageDeserializer.java        |  20 +-
 .../messaging/json/SentryJSONMessageFactory.java   |  92 +++--
 .../SentryMetastorePostEventListener.java          | 431 ---------------------
 .../SentryMetastorePostEventListenerBase.java      | 417 --------------------
 ...yMetastorePostEventListenerNotificationLog.java | 396 -------------------
 .../sentry/service/thrift/FullUpdateModifier.java  |   8 +-
 .../service/thrift/NotificationProcessor.java      |   2 +-
 .../sentry/service/thrift/SentryHMSClient.java     |   3 +-
 .../TestHMSFollowerSentryStoreIntegration.java     |   6 +-
 .../service/thrift/TestFullUpdateModifier.java     |  63 ++-
 .../sentry/service/thrift/TestHMSFollower.java     |  52 +--
 .../service/thrift/TestNotificationProcessor.java  |  37 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   4 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  17 +-
 ...tDBNotificationListenerInBuiltDeserializer.java |  52 +--
 ...stDbNotificationListenerSentryDeserializer.java |  39 --
 .../TestSentryListenerInBuiltDeserializer.java     |  37 --
 .../TestSentryListenerSentryDeserializer.java      | 401 -------------------
 26 files changed, 267 insertions(+), 1917 deletions(-)

commit 782d132ce4f45ac05d1c26d2f77030ddd5f1d997
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 15:22:03 2017 -0600

    Revert "SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins (Sergio Pena, reviewed by kalyan kumar kalvagadda)"
    
    This reverts commit a3a20a195cc54c3b414cd0b5734d854332096db2.

 dev-support/test-patch.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit a3a20a195cc54c3b414cd0b5734d854332096db2
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 15:20:08 2017 -0600

    SENTRY-2056: Display test-patch.py output on the standard console to see progress on Jenkins (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 dev-support/test-patch.py | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 6f398378c549e0aa0f681a538d575510694d39ad
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 15:18:26 2017 -0600

    SENTRY-2068: Disable HTTP TRACE method from the Sentry Web Server (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)

 .../db/service/thrift/SentryWebServer.java         | 31 +++++++++++++++++++++-
 .../thrift/TestSentryWebServerWithKerberos.java    |  8 ++++++
 .../service/thrift/TestSentryWebServerWithSSL.java | 12 +++++++++
 .../thrift/TestSentryWebServerWithoutSecurity.java |  8 ++++++
 4 files changed, 58 insertions(+), 1 deletion(-)

commit 03a8729237d46d9677ae5b55644b035551dc7b6c
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 15:13:43 2017 -0600

    SENTRY-2024: Drop Index that includes AUTHZ_OBJ_NAME (Na Li, reviewed by Sergio Pena)

 .../main/java/org/apache/sentry/provider/db/service/model/package.jdo  | 3 +--
 .../sentry-provider-db/src/main/resources/007-SENTRY-1365.derby.sql    | 2 +-
 .../sentry-provider-db/src/main/resources/007-SENTRY-1365.mysql.sql    | 2 +-
 .../sentry-provider-db/src/main/resources/007-SENTRY-1365.oracle.sql   | 2 +-
 .../sentry-provider-db/src/main/resources/007-SENTRY-1365.postgres.sql | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-db2-2.0.0.sql         | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-derby-2.0.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.0.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.0.0.sql      | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-postgres-2.0.0.sql    | 2 +-
 .../src/main/resources/sentry-upgrade-db2-1.8.0-to-2.0.0.sql           | 2 +-
 11 files changed, 11 insertions(+), 12 deletions(-)

commit b9d2107f47128bd62ee0d8cf268366c71f065d2d
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 22 10:23:34 2017 -0600

    SENTRY-2021: MR session ACLs in Hive binding does not handle all types of ACLs (Wilfred Spiegelenburg, reviewed by Sergio Pena)

 .../hive/v2/HiveAuthzBindingSessionHookV2.java     | 26 ++++++++++++++++++--
 .../binding/hive/HiveAuthzBindingSessionHook.java  | 28 ++++++++++++++++++++--
 2 files changed, 50 insertions(+), 4 deletions(-)

commit ef81e090782ea9188f66ddfb713b61f6931c074f
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Nov 22 15:49:56 2017 +0000

    Minor fixes

 .../src/main/java/org/apache/sentry/shell/TopLevelShell.java        | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b8cc95a0b62bf0e4bc1c6463849940baa72bc4c9
Merge: 332bc1b7 9fd29f9d
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Nov 22 15:19:39 2017 +0000

    Merge branch 'master' into akolb-cli

commit 332bc1b741788992ca537a76e2d5f8b3c97b480f
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Nov 22 15:19:04 2017 +0000

    Adding Alexander's comments

 bin/sentryCli                                      | 16 +++----
 .../java/org/apache/sentry/shell/SentryCli.java    | 22 ----------
 .../org/apache/sentry/shell/TopLevelShell.java     | 50 ++++++++++++++--------
 3 files changed, 38 insertions(+), 50 deletions(-)

commit 9fd29f9dfbe621c498461227472824a087845ac6
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Nov 22 07:12:32 2017 -0600

    SENTRY-1480: A upgrade tool to migrate Solr/Sentry permissions. (Hrishikesh Gadre,  reviewed by Kalyan Kumar Kalvagadda)

 .../core/common/utils/PolicyFileConstants.java     |   8 +
 .../sentry/core/common/utils/PolicyFiles.java      |  48 +++
 .../core/common/utils/StrictStringTokenizer.java   |  59 ++++
 .../apache/sentry/core/common/utils/Version.java   | 239 ++++++++++++++
 .../sentry/policy/common/PrivilegeUtils.java       |  11 +-
 .../tools/PermissionsMigrationToolCommon.java      | 343 +++++++++++++++++++
 .../tools/PermissionsMigrationToolSolr.java        | 109 +++++++
 .../tools/TestPermissionsMigrationToolSolr.java    | 362 +++++++++++++++++++++
 8 files changed, 1178 insertions(+), 1 deletion(-)

commit b85b323fbf17f0d0a1fffbc3be7ef95fe79583fa
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Nov 21 18:15:48 2017 -0600

    SENTRY-2066: DB name is not set for AlterTable (Na Li, reviewed by Sergio Pena, Arjun Mishra)

 .../apache/sentry/binding/hive/HiveAuthzBindingHook.java  |  4 ++--
 .../e2e/dbprovider/TestDbSentryOnFailureHookLoading.java  | 15 ++++-----------
 2 files changed, 6 insertions(+), 13 deletions(-)

commit 3dc8d2f90e4336e736dbe1a73bb70ad1c77f95c1
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Nov 21 15:50:43 2017 -0600

    SENTRY-2046: Create a full snapshot if AUTHZ_PATHS_SNAPSHOT_ID is empty, even if HMS and Sentry Notifications are in sync (Arjun Mishra, reviewed by Sergio Pena, Na Li, kalyan kumar kalvagadda)

 .../db/service/persistent/SentryStore.java         | 17 ++++
 .../apache/sentry/service/thrift/HMSFollower.java  | 11 ++-
 .../sentry/service/thrift/TestHMSFollower.java     | 95 ++++++++++++++++++++++
 3 files changed, 122 insertions(+), 1 deletion(-)

commit f3e93a4758266bab77d6359bc2f7c8c7ddfc1b32
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Nov 21 12:53:03 2017 -0600

    SENTRY-2059: Fix the tests to use transaction listeners for handling HMS Notifications. (Kalyan Kumar Kalvagadda,  reviewed by Sergio Pena)

 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java     | 2 +-
 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1860b946b90f8fa3c17d00a6b419deb583fd538f
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Nov 20 17:44:55 2017 -0600

    SENTRY-2052: Reduce TestSentryStore time by setting transaction retries to 1 and other refactors (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 .../db/service/persistent/TestSentryStore.java         | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 755e94250e430e290a0642bcb5a575d29f190b4c
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Nov 20 16:10:23 2017 -0600

    SENTRY-2042: Support file based Sentry provider for Solr plugin. (Hrishikesh Gadre, reviewed by Kalyan Kumar Kalvagadda)

 sentry-binding/sentry-binding-solr/pom.xml         |   1 -
 .../binding/solr/authz/SentrySolrPluginImpl.java   |  54 ++++-
 sentry-tests/sentry-tests-solr/pom.xml             |   4 +-
 .../tests/e2e/solr/AbstractSolrSentryTestCase.java | 265 +++++----------------
 .../tests/e2e/solr/SolrSentryServiceTestBase.java  | 211 ++++++++++++++++
 .../tests/e2e/solr/TestDocLevelOperations.java     |   2 +-
 .../tests/e2e/solr/TestSolrAdminOperations.java    |  19 +-
 .../e2e/solr/TestSolrCollectionOperations.java     |  57 +----
 .../tests/e2e/solr/TestSolrConfigOperations.java   |   2 +-
 .../tests/e2e/solr/TestSolrSchemaOperations.java   |   2 +-
 .../TestSolrWithSimpleFileProviderBackend.java     | 127 ++++++++++
 .../resources/solr/sentry/test-authz-provider.ini  | 104 +-------
 12 files changed, 466 insertions(+), 382 deletions(-)

commit b882eb496c9060e8dfeb0f648b2fd126384d077b
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Nov 20 14:53:07 2017 +0000

    Removing validators now that SENTRY-2012 is not going to make it into Sentry 2.0.0

 .../org/apache/sentry/shell/TopLevelShell.java     | 60 +---------------------
 1 file changed, 2 insertions(+), 58 deletions(-)

commit fe3ef2370c64f221d45f4156d1d25e0ffecb0b56
Merge: 81128e6b 372ffc9b
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Nov 20 14:47:11 2017 +0000

    Merge branch 'master' into akolb-cli

commit 372ffc9b4c662b0d076940b7526d2fe58c8a6a09
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Nov 19 15:12:39 2017 -0600

    SENTRY-1640: Implement HMS Notification barrier on the HMS plugin side (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 ...entrySyncHMSNotificationsPostEventListener.java | 230 +++++++++++++++++++++
 ...entrySyncHMSNotificationsPostEventListener.java | 161 +++++++++++++++
 .../service/thrift/SentryPolicyServiceClient.java  |   9 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  13 ++
 4 files changed, 413 insertions(+)

commit 5f64fe9f34fb857ccca5a5b09b9ff46300c98674
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Nov 19 10:47:09 2017 -0600

    SENTRY-2048: Bump Hive version to 2.3.2 (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 pom.xml                                            |  2 +-
 .../json/SentryJSONMessageDeserializer.java        | 79 +++++++++++++++++++++-
 .../messaging/json/SentryJSONMessageFactory.java   | 48 +++++++++++++
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   |  9 ++-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  7 +-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  2 +-
 .../binding/hive/authz/DefaultSentryValidator.java | 17 +++++
 .../hive/authz/HiveAuthzBindingHookBase.java       | 10 ---
 .../hive/authz/SentryHiveAuthorizerImpl.java       | 13 ++++
 .../metastore/SentryHiveMetaStoreClient.java       |  2 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    | 16 +++--
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  9 ++-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  4 ++
 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 31 +++++----
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 10 +++
 ...stractMetastoreTestWithStaticConfiguration.java |  3 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  6 +-
 sentry-tests/sentry-tests-solr/pom.xml             |  8 +++
 18 files changed, 230 insertions(+), 46 deletions(-)

commit a355979914bd50cfb68fe9f45dcf471a33e5f9c4
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Nov 19 08:43:13 2017 -0600

    SENTRY-2057: Set hadoop.tmp.dir to the maven build directory configured on java.io.tmpdir (Sergio Pena, no reviewed)
    
    This patch allows the sentry tests to use the target/ directory of the maven build directory to be used as a temporary place for MR jobs.
    This helps on the current test issues found on Jenkins where the /tmp is cleaned up after sometime for an unknown reason.

 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 5 +++++
 .../apache/sentry/tests/e2e/hive/hiveserver/HiveServerFactory.java   | 5 +++++
 2 files changed, 10 insertions(+)

commit 0b487f3787286e334e8157e4dc31c0bba83b7bbb
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sat Nov 18 08:16:22 2017 -0600

    SENTRY-2054: Unit tests must create temporary files under the Maven target directory (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 pom.xml | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 832e8da0f30f8db9131e30fabad5dca9f8631d21
Author: Vadim Spector <vspec@cloudera.com>
Date:   Fri Nov 17 08:58:27 2017 -0800

    SENTRY-2047: isTableEmptyCore method in SentryStore has references to MAuthzPathsMapping when it should be generic (Arjun Mishra, reviewed by Vadim Spector)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c541adf15194c44800555f0fb161463df68feac
Author: Vadim Spector <vspec@cloudera.com>
Date:   Fri Nov 17 08:51:41 2017 -0800

    SENTRY-2032: Leading Slashes need to removed when creating HMS path entries (Arjun Mishra, reviewed by Alexander Kolbasov, Vadim Spector)

 .../apache/sentry/core/common/utils/PathUtils.java |  8 ++-
 .../sentry/core/common/utils/TestPathUtils.java    | 27 ++++++++++
 .../db/service/persistent/TestSentryStore.java     | 57 ++++++++++++++++++++++
 3 files changed, 90 insertions(+), 2 deletions(-)

commit 5fc1e97790936ff0002fbebc156fccd06b4a9014
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Nov 17 13:12:33 2017 +0000

    Revert "SENTRY-2012 - Make SentryShellGeneric extendible. Mano Kovacs, reviewed by Colm O hEigeartaigh."
    
    This reverts commit 2314e465496114444d83cec7dced60f482670179.

 bin/sentryShell                                    |   6 +-
 .../core/common/AbstractAuthorizableFactory.java   |  72 -------
 .../sentry/core/common/AuthorizableFactory.java    |  50 -----
 .../sentry/core/common/AuthorizableType.java       |  21 --
 .../sentry/core/model/kafka/KafkaAuthorizable.java |   2 +-
 .../core/model/kafka/KafkaModelAuthorizables.java  |  27 +--
 .../core/model/solr/SolrModelAuthorizable.java     |   6 +-
 .../core/model/solr/SolrModelAuthorizables.java    |  52 ++---
 .../sentry/core/model/sqoop/SqoopAuthorizable.java |   2 +-
 .../core/model/sqoop/SqoopModelAuthorizables.java  |  50 +++--
 .../generic/tools/GenericPrivilegeConverter.java   |  96 +++++----
 .../db/generic/tools/SentryConfigToolSolr.java     |   9 +-
 .../db/generic/tools/SentryShellGeneric.java       |  51 +++--
 .../db/generic/tools/SentryShellKafka.java         |  71 -------
 .../provider/db/generic/tools/SentryShellSolr.java |  52 -----
 .../db/generic/tools/SentryShellSqoop.java         |  52 -----
 .../db/generic/tools/TestSentryConfigToolSolr.java |   9 +-
 .../db/generic/tools/TestSentryShellKafka.java     | 207 ++++++++++---------
 .../db/generic/tools/TestSentryShellSolr.java      | 224 +++++++++++----------
 .../db/generic/tools/TestSentryShellSqoop.java     | 164 +++++++--------
 20 files changed, 473 insertions(+), 750 deletions(-)

commit 81128e6bc96009ed77ec04e2afceab45aa70885f
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Nov 17 11:20:57 2017 +0000

    Fixing branch following changes for SENTRY-2012

 .../org/apache/sentry/shell/TopLevelShell.java     | 61 +++++++++++++++++++++-
 1 file changed, 59 insertions(+), 2 deletions(-)

commit a689c65f03b82b75c7a23b5f974c8d7c7a3d4c97
Merge: 8fdfad8f 2314e465
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Nov 17 11:01:48 2017 +0000

    Merge branch 'master' into akolb-cli

commit 2314e465496114444d83cec7dced60f482670179
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Nov 17 10:36:27 2017 +0000

    SENTRY-2012 - Make SentryShellGeneric extendible. Mano Kovacs, reviewed by Colm O hEigeartaigh.

 bin/sentryShell                                    |   6 +-
 .../core/common/AbstractAuthorizableFactory.java   |  72 +++++++
 .../sentry/core/common/AuthorizableFactory.java    |  50 +++++
 .../sentry/core/common/AuthorizableType.java       |  21 ++
 .../sentry/core/model/kafka/KafkaAuthorizable.java |   2 +-
 .../core/model/kafka/KafkaModelAuthorizables.java  |  27 ++-
 .../core/model/solr/SolrModelAuthorizable.java     |   6 +-
 .../core/model/solr/SolrModelAuthorizables.java    |  52 +++--
 .../sentry/core/model/sqoop/SqoopAuthorizable.java |   2 +-
 .../core/model/sqoop/SqoopModelAuthorizables.java  |  50 ++---
 .../generic/tools/GenericPrivilegeConverter.java   |  96 ++++-----
 .../db/generic/tools/SentryConfigToolSolr.java     |   9 +-
 .../db/generic/tools/SentryShellGeneric.java       |  51 ++---
 .../db/generic/tools/SentryShellKafka.java         |  71 +++++++
 .../provider/db/generic/tools/SentryShellSolr.java |  52 +++++
 .../db/generic/tools/SentryShellSqoop.java         |  52 +++++
 .../db/generic/tools/TestSentryConfigToolSolr.java |   9 +-
 .../db/generic/tools/TestSentryShellKafka.java     | 207 +++++++++----------
 .../db/generic/tools/TestSentryShellSolr.java      | 224 ++++++++++-----------
 .../db/generic/tools/TestSentryShellSqoop.java     | 164 +++++++--------
 20 files changed, 750 insertions(+), 473 deletions(-)

commit 8fdfad8ff5e2b5d654e1a16c2b1c853286f3d8e1
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Nov 16 11:22:17 2017 +0000

    Removing file that has nothing to do with CLI

 .../db/service/thrift/TestSentryMetrics.java       | 96 ----------------------
 1 file changed, 96 deletions(-)

commit 3dc878e1ca440ad4bfe9250c43384971bd344c3b
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Nov 16 11:10:59 2017 +0000

    Added support to use the CLI tool with kafka, solr, sqoop

 .../java/org/apache/sentry/shell/GroupShell.java   |  65 ++--
 .../java/org/apache/sentry/shell/PrivsShell.java   |  80 +++--
 .../java/org/apache/sentry/shell/RolesShell.java   |  90 ++++--
 .../java/org/apache/sentry/shell/SentryCli.java    | 291 +++++++++---------
 .../java/org/apache/sentry/shell/ShellUtil.java    | 134 ---------
 .../org/apache/sentry/shell/TopLevelShell.java     | 335 +++++++++++++++------
 6 files changed, 542 insertions(+), 453 deletions(-)

commit d38478787d36ac6b2c87eaebeb3c7face43cf0d7
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Nov 16 10:19:05 2017 +0000

    Adding listGroupRoles functionality from master

 .../java/org/apache/sentry/shell/ShellUtil.java    | 66 +++-------------------
 1 file changed, 8 insertions(+), 58 deletions(-)

commit f951f0944b9e4b3ff4422b7c57b50c516a93d132
Merge: cd4c80d4 24d82438
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Nov 16 09:56:29 2017 +0000

    Merge branch 'master' into akolb-cli

commit 24d8243807cfe274963cf08934515345c7d17eb0
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Nov 16 09:53:23 2017 +0000

    SENTRY-2038 - Some ShellCommand improvements. Colm O hEigeartaigh, reviewed by Sergio Pena.

 .../db/generic/tools/SentryShellGeneric.java       | 16 +++++-
 .../generic/tools/command/GenericShellCommand.java | 63 +++++++++++++++++----
 .../provider/db/tools/SentryShellCommon.java       |  8 +++
 .../sentry/provider/db/tools/SentryShellHive.java  | 16 +++++-
 .../sentry/provider/db/tools/ShellCommand.java     | 19 ++++---
 .../db/tools/command/hive/HiveShellCommand.java    | 64 ++++++++++++++++++----
 .../db/generic/tools/TestSentryShellKafka.java     |  9 +++
 .../db/generic/tools/TestSentryShellSolr.java      |  9 +++
 .../db/generic/tools/TestSentryShellSqoop.java     |  9 +++
 .../provider/db/tools/TestSentryShellHive.java     |  9 +++
 10 files changed, 188 insertions(+), 34 deletions(-)

commit 151ba5358697fd600c20f9fab8ea053b12d95bd9
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Nov 14 11:08:36 2017 -0600

    Revert "SENTRY-2039: KeyValue is case sensitive and it causes incompatibility issues with external components (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)"
    
    The case-sensitive issue is solved by each of the external components by using a specific model and using the CommonPrivilege interface. My old tests were based
    on a different Privilege interace (such asIndexerWildcardPrivilege), so my tests were failing, but I learned tha kafka,solr,hive,sqoop uses the same CommonPrivilege
    and they work.
    
    This reverts commit a001d43992eab3d543927580da1f7533a3279897.

 .../org/apache/sentry/core/common/utils/KeyValue.java     | 15 ++-------------
 .../org/apache/sentry/core/common/utils/TestKeyValue.java |  7 -------
 .../apache/sentry/policy/common/TestCommonPrivilege.java  | 15 +++++++++++++++
 3 files changed, 17 insertions(+), 20 deletions(-)

commit a001d43992eab3d543927580da1f7533a3279897
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Nov 13 11:09:04 2017 -0600

    SENTRY-2039: KeyValue is case sensitive and it causes incompatibility issues with external components (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)

 .../org/apache/sentry/core/common/utils/KeyValue.java     | 15 +++++++++++++--
 .../org/apache/sentry/core/common/utils/TestKeyValue.java |  7 +++++++
 .../apache/sentry/policy/common/TestCommonPrivilege.java  | 15 ---------------
 3 files changed, 20 insertions(+), 17 deletions(-)

commit 598b203c8cf91897a970ad086461f4c75897c74c
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Nov 13 11:03:38 2017 -0600

    SENTRY-2037: Remove not needed sentry-binding-hive-v2 dependency from the main pom.xml (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)

 pom.xml | 5 -----
 1 file changed, 5 deletions(-)

commit e62fa28d0fe342a8a154e0f50221cf34a658a045
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Nov 13 08:37:22 2017 -0600

    SENTRY-1475: Integrate Sentry with Solr 7 authorization framework. (Hrishikesh Gadre, reviewed by Kalyan Kumar Kalvagadda)

 pom.xml                                            |  12 +-
 sentry-binding/sentry-binding-solr/pom.xml         |  11 +-
 .../binding/solr/authz/SentrySolrPluginImpl.java   | 408 +++++++++
 .../binding/solr/authz/SolrAuthzBinding.java       | 268 ++----
 .../sentry/binding/solr/authz/SolrAuthzUtil.java   | 271 ++++++
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |  14 +-
 .../java/org/apache/solr/sentry/AuditLogger.java   |  11 +-
 .../sentry/RollingFileWithoutDeleteAppender.java   |  11 +-
 .../apache/sentry/binding/solr/HdfsTestUtil.java   |  50 +-
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 338 ++++----
 ...gine.java => AbstractTestSolrPolicyEngine.java} |   2 +-
 ...PolicyTestUtil.java => SolrPolicyTestUtil.java} |   6 +-
 .../policy/solr/TestCollectionRequiredInRole.java  |  64 --
 ...TestSolrAuthorizationProviderGeneralCases.java} |  59 +-
 ...TestSolrAuthorizationProviderSpecialCases.java} |  22 +-
 ...zables.java => TestSolrModelAuthorizables.java} |  16 +-
 ...EngineDFS.java => TestSolrPolicyEngineDFS.java} |   4 +-
 ...calFS.java => TestSolrPolicyEngineLocalFS.java} |   4 +-
 ...cyNegative.java => TestSolrPolicyNegative.java} |  10 +-
 .../solr/TestCommonPrivilegeForSearch.java         | 221 -----
 .../privilege/solr/TestCommonPrivilegeForSolr.java | 293 +++++++
 .../src/test/resources/test-authz-provider.ini     |   4 +-
 sentry-core/pom.xml                                |   2 +-
 .../sentry/core/model/search/Collection.java       |  51 --
 .../core/model/search/SearchModelAuthorizable.java |  29 -
 .../AbstractSearchPrivilegeValidator.java          |  52 --
 .../validator/CollectionRequiredInPrivilege.java   |  43 -
 .../pom.xml                                        |   4 +-
 .../sentry/core/model/solr/AdminOperation.java     |  42 +
 .../apache/sentry/core/model/solr/Collection.java  |  14 +-
 .../org/apache/sentry/core/model/solr/Config.java  |  27 +
 .../org/apache/sentry/core/model/solr/Field.java   |  30 +
 .../org/apache/sentry/core/model/solr/Schema.java  |  27 +
 .../sentry/core/model/solr/SolrActionFactory.java} |  34 +-
 .../sentry/core/model/solr/SolrConstants.java}     |  20 +-
 .../sentry/core/model/solr/SolrModelAction.java}   |  14 +-
 .../core/model/solr/SolrModelAuthorizable.java}    |  46 +-
 .../core/model/solr/SolrModelAuthorizables.java}   |  42 +-
 .../core/model/solr/SolrPrivilegeModel.java}       |  28 +-
 .../solr/validator/SolrPrivilegeValidator.java     | 101 +++
 .../apache/sentry/core/solr}/TestCollection.java   |   5 +-
 .../sentry/core/solr/TestSolrBitFieldAction.java}  |  42 +-
 sentry-dist/pom.xml                                |  14 +-
 sentry-provider/sentry-provider-db/pom.xml         |  15 +-
 .../persistent/PrivilegeOperatePersistence.java    |   4 +-
 .../generic/tools/GenericPrivilegeConverter.java   |   8 +-
 .../db/generic/tools/SentryConfigToolSolr.java     |   4 +-
 .../TestPrivilegeOperatePersistence.java           | 108 +--
 .../service/persistent/TestSentryGMPrivilege.java  |  54 +-
 .../generic/service/persistent/TestSentryRole.java |   2 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |  14 +-
 .../TestSentryGenericServiceIntegration.java       |  36 +-
 .../db/generic/tools/TestSentryConfigToolSolr.java |   2 +-
 .../db/generic/tools/TestSentryShellSolr.java      |   2 +-
 sentry-solr/pom.xml                                |   1 -
 sentry-solr/solr-sentry-core/pom.xml               |  58 --
 .../solr/sentry/SecureRequestHandlerUtil.java      |  83 --
 .../sentry/SentryIndexAuthorizationSingleton.java  | 255 ------
 sentry-solr/solr-sentry-handlers/pom.xml           |  10 +-
 .../SecureDocumentAnalysisRequestHandler.java      |  33 -
 .../handler/SecureFieldAnalysisRequestHandler.java |  33 -
 .../solr/handler/SecureRealTimeGetHandler.java     |  36 -
 .../solr/handler/SecureReplicationHandler.java     |  38 -
 .../solr/handler/admin/SecureAdminHandlers.java    | 183 ----
 .../handler/admin/SecureCollectionsHandler.java    |  89 --
 .../solr/handler/admin/SecureCoreAdminHandler.java | 181 ----
 .../solr/handler/admin/SecureInfoHandler.java      |  36 -
 .../component/QueryDocAuthorizationComponent.java  | 116 +--
 .../QueryIndexAuthorizationComponent.java          |  79 --
 .../component/SecureRealTimeGetComponent.java      | 356 --------
 .../UpdateIndexAuthorizationProcessor.java         | 103 ---
 .../UpdateIndexAuthorizationProcessorFactory.java  |  41 -
 .../lib/classes/empty-file-main-lib.txt            |   1 -
 .../solr/handler/TestSecureAnalysisHandlers.java   |  82 --
 .../solr/handler/TestSecureReplicationHandler.java |  63 --
 .../handler/admin/SecureAdminHandlersTest.java     | 176 ----
 .../admin/SecureCollectionsHandlerTest.java        |  84 --
 .../handler/admin/SecureCoreAdminHandlerTest.java  | 209 -----
 .../solr/handler/admin/SecureInfoHandlerTest.java  | 101 ---
 .../QueryDocAuthorizationComponentTest.java        | 265 ------
 .../QueryIndexAuthorizationComponentTest.java      | 127 ---
 .../SentryIndexAuthorizationSingletonTest.java     | 256 ------
 .../solr/sentry/SentrySingletonTestInstance.java   |  93 ---
 .../org/apache/solr/sentry/SentryTestBase.java     | 187 -----
 .../UpdateIndexAuthorizationProcessorTest.java     | 193 -----
 sentry-tests/sentry-tests-solr/pom.xml             | 211 ++++-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 923 ---------------------
 .../tests/e2e/solr/AbstractSolrSentryTestCase.java | 600 ++++++++++++++
 .../sentry/tests/e2e/solr/DocLevelGenerator.java   |  16 +-
 .../sentry/tests/e2e/solr/DummyAuthPluginImpl.java |  68 ++
 .../solr/ModifiableUserAuthenticationFilter.java   |  73 --
 .../e2e/solr/TestCollAdminCoreOperations.java      | 145 ----
 .../tests/e2e/solr/TestDocLevelOperations.java     | 400 ++++-----
 .../sentry/tests/e2e/solr/TestQueryOperations.java |  78 --
 .../sentry/tests/e2e/solr/TestRealTimeGet.java     | 476 -----------
 .../sentry/tests/e2e/solr/TestSentryServer.java    | 144 ++++
 .../tests/e2e/solr/TestSolrAdminOperations.java    | 188 +++++
 .../e2e/solr/TestSolrCollectionOperations.java     | 141 ++++
 .../tests/e2e/solr/TestSolrConfigOperations.java   | 232 ++++++
 .../tests/e2e/solr/TestSolrSchemaOperations.java   | 146 ++++
 .../tests/e2e/solr/TestUpdateOperations.java       | 168 ----
 .../AbstractSolrSentryTestWithDbProvider.java      | 324 --------
 .../db/integration/TestSolrAdminOperations.java    | 242 ------
 .../db/integration/TestSolrDocLevelOperations.java | 204 -----
 .../db/integration/TestSolrQueryOperations.java    |  96 ---
 .../db/integration/TestSolrUpdateOperations.java   | 100 ---
 .../configsets/cloud-managed/conf/managed-schema   |  27 +
 .../configsets/cloud-managed/conf/solrconfig.xml   |  51 ++
 .../solr/configsets/cloud-minimal/conf/schema.xml  |  28 +
 .../configsets/cloud-minimal/conf/solrconfig.xml   |  47 ++
 .../conf/schema.xml                                |  29 +
 .../conf/solrconfig.xml                            |  82 ++
 .../src/test/resources/solr/security/security.json |  18 +
 113 files changed, 4115 insertions(+), 7725 deletions(-)

commit 8a80d60bb61a0d39154ca23776e57640b8573e09
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Nov 9 12:51:24 2017 -0600

    SENTRY-2018: Remove SentryMetastorePostEventListener and SentryMetastorePostEventListenerBase classes. (Kalyan Kumar Kalvagadda, reviewed-by: Sergio Pena)

 .../tests/e2e/hive/AbstractTestWithStaticConfiguration.java    | 10 ++--------
 .../e2e/metastore/TestSentryListenerInBuiltDeserializer.java   |  1 -
 .../e2e/metastore/TestSentryListenerSentryDeserializer.java    |  1 -
 3 files changed, 2 insertions(+), 10 deletions(-)

commit fe48f482ea8687bf34f91e572cfcc2db01cff0ad
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Nov 8 16:00:36 2017 -0800

    SENTRY-2036: sentry_sync_notifications() should set ID when it returns errors (Alex Kolbasov, reviewed by: Sergio Pena)

 .../sentry/provider/db/service/thrift/SentryPolicyStoreProcessor.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8de33e0855f5254595efebe2c2d593eea0fe13b3
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Nov 8 16:58:40 2017 -0600

    SENTRY-2017: Fix Sentry e2e tests to use SentryMetastorePostEventListenerNotificationLog. (Kalyan Kumar Kalvagadda, reviewed-by Sergio Pena and Na Li)

 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit cdd0314eeb832ee7a6aeb49fbbed282b2d631353
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Nov 7 19:21:39 2017 -0600

    SENTRY-2033: Fix TestDbPrivilegeCleanupOnDrop to use SentryMetastorePostEventListenerNotificationLog. ( Kalyan Kumar Kalvagadda, reviewed-by Sergio Pena)

 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 142 +++++++++++----------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   2 +
 2 files changed, 74 insertions(+), 70 deletions(-)

commit 36128ec2f64fc31dc215808fdb00b4516d0aa1ff
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Nov 7 19:18:14 2017 -0600

    Revert "CDH-61466: Failed to upgrade CDH5.13.0 to CDH6 with message "The Sentry store schema version 1.5.0-cdh5 is different from distribution version 2.0.0"( Kalyan Kumar Kalvagadda, reviewed-by Sergio Pena)"
    
    This reverts commit 0c4f5e78fd59ea8f756535352b71f2f9eb76dacc.

 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 142 ++++++++++-----------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   2 -
 2 files changed, 70 insertions(+), 74 deletions(-)

commit 913be9a9d38fe737a89835fe39799a68c427fa75
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Nov 7 17:09:18 2017 -0800

    SENTRY-2035: Metrics should move to destination atomically (Alex Kolbasov, reviewed by Sergio Pena and Kalyan Kalvagadda)

 .../org/apache/sentry/provider/db/service/thrift/SentryMetrics.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 0c4f5e78fd59ea8f756535352b71f2f9eb76dacc
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Nov 7 16:57:57 2017 -0600

    CDH-61466: Failed to upgrade CDH5.13.0 to CDH6 with message "The Sentry store schema version 1.5.0-cdh5 is different from distribution version 2.0.0"( Kalyan Kumar Kalvagadda, reviewed-by Sergio Pena)

 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 142 +++++++++++----------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   2 +
 2 files changed, 74 insertions(+), 70 deletions(-)

commit e23fc4ef88b1ba2170d97aaa563bedc9ba521c7e
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Tue Nov 7 16:56:45 2017 +0000

    SENTRY-1997 - Bump sqoop dependency version to 1.99.7. Colm O hEigeartaigh, reviewed by Sergio Pena.

 pom.xml                                            |   2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml            |  69 ++---
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |   7 +-
 .../sentry/tests/e2e/sqoop/JettySqoopRunner.java   | 239 ++++++++++++++++
 .../tests/e2e/sqoop/TestConnectorEndToEnd.java     |  11 +-
 .../sentry/tests/e2e/sqoop/TestGrantPrivilege.java |  70 ++---
 .../sentry/tests/e2e/sqoop/TestJobEndToEnd.java    | 139 +++++----
 .../sentry/tests/e2e/sqoop/TestLinkEndToEnd.java   |  96 ++++---
 .../sentry/tests/e2e/sqoop/TestOwnerPrivilege.java |  59 ++--
 .../tests/e2e/sqoop/TestRevokePrivilege.java       |  56 ++--
 .../tests/e2e/sqoop/TestServerScopeEndToEnd.java   |  75 +++--
 .../sentry/tests/e2e/sqoop/TestShowPrivilege.java  |  14 +-
 .../sentry/tests/e2e/sqoop/TomcatSqoopRunner.java  | 318 ---------------------
 13 files changed, 553 insertions(+), 602 deletions(-)

commit a001e445598f62bbf1551282f64d3d600c4775a3
Author: Vadim Spector <vspec@cloudera.com>
Date:   Mon Nov 6 10:44:32 2017 -0800

    SENTRY-2031: Add trigger mechanism for Sentry to pull full path snapshot from HMS (Vadim Spector, reviewed by Sergio Pena)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |  2 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 32 ++++++-
 .../sentry/service/thrift/TestHMSFollower.java     | 98 ++++++++++++++++++++++
 3 files changed, 130 insertions(+), 2 deletions(-)

commit cd4c80d48547d75320b4832a127978569f8b2743
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Nov 6 17:13:28 2017 +0000

    Making use of the refactored Command implementations in ShellUtil

 .../java/org/apache/sentry/shell/GroupShell.java   |   5 -
 .../java/org/apache/sentry/shell/PrivsShell.java   |   5 -
 .../java/org/apache/sentry/shell/ShellUtil.java    | 137 +++++----------------
 .../org/apache/sentry/shell/TopLevelShell.java     |   5 -
 4 files changed, 30 insertions(+), 122 deletions(-)

commit 5aea068eb7bddd9343b66b9242123c8a31ea1f18
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Nov 6 09:59:52 2017 -0600

    SENTRY-2028: Avoid datanucleus to create/update database schema (Kalyan Kumar Kalvagadda, reviewed by Na li and Sergio Pena)

 .../apache/sentry/provider/db/service/persistent/SentryStore.java   | 6 ++++++
 .../java/org/apache/sentry/service/thrift/ServiceConstants.java     | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 5b8cec9cdcc42f507dd937848f8762dbfb13f5d0
Merge: 3a97427d 0235d595
Author: Vadim Spector <vspec@cloudera.com>
Date:   Fri Nov 3 10:10:51 2017 -0700

    Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/sentry

commit 3a97427db410473189e8c0fe05cb2d6815978a56
Author: Vadim Spector <vspec@cloudera.com>
Date:   Fri Nov 3 10:06:56 2017 -0700

    SENTRY-1712: Add trigger mechanism for Sentry to push full path snapshot to Name Node. (Vadim Spector, reviewed by Sergio Pena)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |  1 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 57 +++++++++++++++++-----
 .../hdfs/TestSentryHDFSServiceProcessor.java       | 46 ++++++++++++++++-
 3 files changed, 90 insertions(+), 14 deletions(-)

commit 0235d595930ecdd12e48da1b7e090f8eb801ef2a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Nov 3 09:49:11 2017 -0500

    Revert "SENTRY-2017: Fix Sentry e2e tests to use SentryMetastorePostEventListenerNotificationLog."
    
    It is causing some unit tests to fail.
    
    This reverts commit 99efc7fc960d5680fc7605400e0375a7883bae37.

 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 64476a7478c8f9aec1ba0ad4388d15b0bb6db352
Author: Vadim Spector <vspec@cloudera.com>
Date:   Thu Nov 2 11:25:14 2017 -0700

    SENTRY-2027: Create mechanism of delivering commands via WebUI (Vadim Spector, reviewed by Sergio Pena and Arjun Mishra)

 .../apache/sentry/core/common/utils/PubSub.java    | 178 ++++++++++++++++++++
 .../provider/db/service/thrift/PubSubServlet.java  | 128 +++++++++++++++
 .../db/service/thrift/SentryWebServer.java         |   5 +
 .../sentry/service/thrift/ServiceConstants.java    |   3 +
 .../db/service/thrift/TestSentryServerPubSub.java  | 181 +++++++++++++++++++++
 .../thrift/SentryServiceIntegrationBase.java       |   1 +
 6 files changed, 496 insertions(+)

commit c6723a80c0d7b08eda4093cd0d755c3f04adfd80
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Nov 1 16:36:27 2017 -0500

    Revert "SENTRY-2026: Bump Hadoop version from 2.7.2 to 2.7.4 (Na Li, reviewed by Sergio Pena)"
    
    2.7.4 is causing some test failures with Solr. Once Solr is bumped to Solr 7, then we can commit this.
    
    This reverts commit 1944cca83c1af4a87ffd98f4df2aaedf389033d9.

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1944cca83c1af4a87ffd98f4df2aaedf389033d9
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Oct 31 16:05:07 2017 -0500

    SENTRY-2026: Bump Hadoop version from 2.7.2 to 2.7.4 (Na Li, reviewed by Sergio Pena)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 54fbb9a9449b87c4981f3d481cb25714eb217f49
Author: Mano Kovacs <manokovacs@gmail.com>
Date:   Tue Oct 24 17:29:37 2017 +0200

    SENTRY-1992 Improve parameter handling for SentryGenericProviderBackend
    
    Signed-off-by: Colm O hEigeartaigh <coheigea@apache.org>

 .../db/generic/SentryGenericProviderBackend.java   |  7 ++++
 .../sentry/service/thrift/ServiceConstants.java    |  3 ++
 .../generic/TestSentryGenericProviderBackend.java  | 47 ++++++++++++++++++++++
 3 files changed, 57 insertions(+)

commit 8be62797b1e6e476f1d012eb6a35feb128a708c2
Merge: 99f03c35 6fa02888
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Oct 27 10:22:15 2017 +0100

    Merge branch 'master' into akolb-cli

commit 6fa02888fc6b5bc866f9ece344e03ce95e9ebf86
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Oct 26 12:25:23 2017 -0500

    SENTRY-2020: Fix testConsumeCycleWithInsufficientPrivileges test failure in kafka e2e tests.

 .../sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java  | 12 ++++++++++++
 .../org/apache/sentry/tests/e2e/kafka/TestAuthorize.java     |  3 ++-
 2 files changed, 14 insertions(+), 1 deletion(-)

commit 99efc7fc960d5680fc7605400e0375a7883bae37
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Oct 23 15:37:10 2017 -0500

    SENTRY-2017: Fix Sentry e2e tests to use SentryMetastorePostEventListenerNotificationLog.

 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit cfa8abb07f460a9021b70694c1d63a0892db01d9
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Oct 25 12:11:13 2017 +0100

    SENTRY-2013 - Align the SentryGenericServiceClient and SentryPolicyServiceClient a bit more closely
     - Signed off by Kalyan.

 .../authorizer/DefaultSentryAccessController.java  |  2 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  2 +-
 .../hive/authz/DefaultSentryAccessController.java  |  2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  6 +--
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  8 ++--
 .../sentry/provider/db/generic/UpdatableCache.java |  2 +-
 .../service/thrift/SentryGenericServiceClient.java | 14 +++----
 .../SentryGenericServiceClientDefaultImpl.java     | 12 +++---
 .../db/generic/tools/SentryConfigToolSolr.java     |  2 +-
 .../generic/tools/command/GenericShellCommand.java |  6 +--
 .../service/thrift/SentryPolicyServiceClient.java  |  2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  2 +-
 .../db/tools/command/hive/HiveShellCommand.java    |  2 +-
 .../TestAuditLogForSentryGenericService.java       |  8 ++--
 .../TestSentryGenericServiceIntegration.java       | 48 +++++++++++-----------
 .../db/generic/tools/TestSentryConfigToolSolr.java |  4 +-
 .../db/generic/tools/TestSentryShellKafka.java     |  2 +-
 .../db/generic/tools/TestSentryShellSolr.java      |  2 +-
 .../db/generic/tools/TestSentryShellSqoop.java     |  2 +-
 .../thrift/TestSentryPolicyServiceClient.java      |  4 +-
 .../thrift/TestSentryServiceClientPool.java        |  6 +--
 .../thrift/TestSentryServiceFailureCase.java       |  2 +-
 .../thrift/TestSentryServiceIntegration.java       |  8 ++--
 .../TestSentryServiceWithInvalidMsgSize.java       | 10 ++---
 .../provider/db/tools/TestSentryShellHive.java     |  2 +-
 .../thrift/SentryServiceIntegrationBase.java       |  2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |  2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |  2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  2 +-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  2 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |  2 +-
 .../AbstractSolrSentryTestWithDbProvider.java      |  4 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  2 +-
 34 files changed, 90 insertions(+), 90 deletions(-)

commit 6d44cfd9b5c8ec12fdf5310bb86cfa09e7b84562
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Oct 25 09:27:44 2017 +0100

    SENTRY-2015 - Refactor Command implementations
     - Reviewed by Sergio Pena

 .../generic/tools/GenericPrivilegeConverter.java   |  13 +--
 .../db/generic/tools/SentryShellGeneric.java       |  58 +++++------
 .../generic/tools/command/AddRoleToGroupCmd.java   |  46 ---------
 .../provider/db/generic/tools/command/Command.java |  27 -----
 .../db/generic/tools/command/CreateRoleCmd.java    |  39 -------
 .../tools/command/DeleteRoleFromGroupCmd.java      |  46 ---------
 .../db/generic/tools/command/DropRoleCmd.java      |  39 -------
 .../generic/tools/command/GenericShellCommand.java | 112 +++++++++++++++++++++
 .../tools/command/GrantPrivilegeToRoleCmd.java     |  47 ---------
 .../tools/command/ListPrivilegesByRoleCmd.java     |  54 ----------
 .../db/generic/tools/command/ListRolesCmd.java     |  53 ----------
 .../tools/command/RevokePrivilegeFromRoleCmd.java  |  47 ---------
 .../tools/command/TSentryPrivilegeConverter.java   |   3 +-
 .../sentry/provider/db/tools/SentryShellHive.java  |  42 ++++----
 .../sentry/provider/db/tools/ShellCommand.java     |  44 ++++++++
 .../provider/db/tools/command/hive/Command.java    |  27 -----
 .../db/tools/command/hive/CommandUtil.java         |   2 +-
 .../db/tools/command/hive/CreateRoleCmd.java       |  37 -------
 .../db/tools/command/hive/DropRoleCmd.java         |  37 -------
 .../command/hive/GrantPrivilegeToRoleCmd.java      |  43 --------
 .../tools/command/hive/GrantRoleToGroupsCmd.java   |  44 --------
 .../db/tools/command/hive/HiveShellCommand.java    | 108 ++++++++++++++++++++
 .../db/tools/command/hive/ListPrivilegesCmd.java   |  49 ---------
 .../db/tools/command/hive/ListRolesCmd.java        |  51 ----------
 .../command/hive/RevokePrivilegeFromRoleCmd.java   |  44 --------
 .../command/hive/RevokeRoleFromGroupsCmd.java      |  43 --------
 26 files changed, 324 insertions(+), 831 deletions(-)

commit 7dbadfe859ae7caf06fcd3aca6e81d20636515d8
Author: Vadim Spector <vspec@cloudera.com>
Date:   Tue Oct 24 09:57:13 2017 -0700

    SENTRY-2014: incorrect handling of HDFS paths with multiple forward slashes (Vadim Spector, reviewed by Sergio Pena and Arjun Mishra)

 .../apache/sentry/core/common/utils/PathUtils.java |  9 ++++++
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  9 ++++--
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    | 32 ++++++++++++++++------
 .../db/service/persistent/SentryStore.java         |  3 +-
 .../service/thrift/NotificationProcessor.java      |  3 +-
 5 files changed, 44 insertions(+), 12 deletions(-)

commit 99f03c35dc53bb5076b015faa27375829b2f2c38
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Oct 23 10:30:43 2017 +0100

    Use CommmandUtil to validate the privilege hierarchy

 .../db/tools/command/hive/CommandUtil.java         |   2 +-
 .../java/org/apache/sentry/shell/ShellUtil.java    | 113 ++++-----------------
 2 files changed, 21 insertions(+), 94 deletions(-)

commit 36fb263c1383e6eafe61d1606378dbe5d0175595
Merge: db7cedcf 1f77657c
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Oct 23 09:45:46 2017 +0100

    Merge branch 'master' into akolb-cli

commit 1f77657c9d8f97cad48de614663c9d664cd698d6
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Oct 22 15:56:40 2017 -0500

    SENTRY-1667: Switching to Jetty v9 library (Sergio Pena, reviewed by Colm O hEigeartaigh and kalyan kumar kalvagadda)

 pom.xml                                            | 24 ++++++++++++++++---
 sentry-binding/sentry-binding-solr/pom.xml         | 22 +++++++++++++++++
 sentry-provider/sentry-provider-db/pom.xml         |  4 ++--
 .../db/service/thrift/SentryWebServer.java         | 28 +++++++++++++++++-----
 sentry-tests/sentry-tests-solr/pom.xml             | 10 ++++++++
 sentry-tests/sentry-tests-sqoop/pom.xml            |  4 ++--
 6 files changed, 79 insertions(+), 13 deletions(-)

commit fa78d2590d24618f4eb8090742869e953538e9b1
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Oct 20 11:27:55 2017 -0500

    SENTRY-1989: Bump Kafka version from 0.9 to 0.11.1
    
    Bump Kafka version to the latest version available. 0.9 was released last year (2016) and 0.11.1 is new in 2017
    
    Here is the summary of code changes
    1. Fixed the API incomatability
    2. updated pom files to user updated version of kafka
    3. Added new property to kafka server.
    3. Refatored the the tests and commented one of the tests becausae of the known issue with the latest version of kafka.

 pom.xml                                            |   2 +-
 sentry-tests/sentry-tests-kafka/pom.xml            |   2 +-
 .../sentry/tests/e2e/kafka/KafkaTestServer.java    |   1 +
 .../sentry/tests/e2e/kafka/TestAclsCrud.java       |   7 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      | 225 +++++++++++++++++----
 5 files changed, 192 insertions(+), 45 deletions(-)

commit db7cedcfa7a586ff5ee817012f8baddab6e14acb
Merge: 922b3169 e5381cdc
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Oct 20 12:32:44 2017 +0100

    Merge branch 'master' into akolb-cli

commit e5381cdcf450d7f31ca2b4bbd2436ac731364e32
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Oct 20 09:39:09 2017 +0100

    SENTRY-2009 - Upgrade Surefire plugin
     - Revied by Sergio Pena

 pom.xml | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 800584a164d99567dfb75b5f422efe50e690233b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Oct 19 20:57:18 2017 -0500

    SENTRY-1980: Move the hive-authz2 HMS client filtering implementation into the sentry-binding-hive module (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 .../binding/hive/authz/DefaultSentryValidator.java | 472 +++++++++++++++++++++
 .../authz/SentryHiveAuthorizationValidator.java    |  57 +++
 .../hive/authz/SentryHiveAuthorizerFactory.java    |   8 +-
 .../hive/authz/SentryHiveAuthorizerImpl.java       |  66 +--
 .../binding/util/SimpleSemanticAnalyzer.java       | 373 ++++++++++++++++
 5 files changed, 918 insertions(+), 58 deletions(-)

commit 922b3169615a0e42f6469135d6f95bcec17f01b7
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 12:15:44 2017 +0100

    Switching remove role (rm) to drop role (dr) for consistency with the shell scripts

 .../src/main/java/org/apache/sentry/shell/RolesShell.java         | 6 +++---
 sentry-tools/src/main/java/org/apache/sentry/shell/ShellUtil.java | 4 ++--
 .../src/main/java/org/apache/sentry/shell/TopLevelShell.java      | 8 ++++----
 3 files changed, 9 insertions(+), 9 deletions(-)

commit c649777d670133d011439f97114552354227f86a
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 11:51:43 2017 +0100

    Adding sentry-tools jar to the dist

 pom.xml             | 5 +++++
 sentry-dist/pom.xml | 4 ++++
 2 files changed, 9 insertions(+)

commit 3c8c72ca25627b20771f04fbba441550122d71a3
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 11:49:36 2017 +0100

    Adding License for cliche

 LICENSE.txt | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 10dec6b605678faef8a491191fa4a7ef788ddeb1
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 11:48:26 2017 +0100

    Adding Script to run the CLI + adding sentry-tools to build cycle

 bin/sentryCli        | 59 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 pom.xml              |  1 +
 sentry-tools/pom.xml |  2 +-
 3 files changed, 61 insertions(+), 1 deletion(-)

commit d9dbe56ca257f89652ffa430bfc4c594f35e3557
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 11:43:48 2017 +0100

    Some minor refactoring

 .../main/java/org/apache/sentry/shell/GroupShell.java   | 16 ++++++++--------
 .../main/java/org/apache/sentry/shell/PrivsShell.java   |  8 ++++----
 .../main/java/org/apache/sentry/shell/RolesShell.java   | 15 +++++++--------
 .../main/java/org/apache/sentry/shell/SentryCli.java    |  1 -
 .../main/java/org/apache/sentry/shell/ShellUtil.java    | 17 ++++++++---------
 5 files changed, 27 insertions(+), 30 deletions(-)

commit 6000ca9976253dcef03e19fd964a7b30be91e957
Merge: 44c5d9f4 436787cb
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 19 09:42:26 2017 +0100

    Merge branch 'master' into akolb-cli

commit 436787cb6745da67f296984230949b07e28f00ca
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Oct 18 17:08:35 2017 -0500

    SENTRY-1453: Enable passing sentry client cache configs from kafka conf (Ashish Singh, reviewed by Sravya Tirukkovalur)

 .../sentry/kafka/binding/KafkaAuthBinding.java     | 28 +++++++++++++++++++---
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |  8 ++++++-
 .../sentry/tests/e2e/kafka/KafkaTestServer.java    |  7 +++++-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  6 ++---
 4 files changed, 40 insertions(+), 9 deletions(-)

commit 09761c709a08473a2c34f054218d0c34bd192492
Author: Vadim Spector <vspec@cloudera.com>
Date:   Wed Oct 18 11:04:26 2017 -0700

    SENTRY-1993: StringIndexOutOfBoundsException in HMSPathsDumper.java (Misha Dmitriev, reviewed by Alexander Kolbasov, Sergio Pena, Vadim Spector)

 .../src/main/java/org/apache/sentry/hdfs/HMSPathsDumper.java          | 3 ++-
 .../src/test/java/org/apache/sentry/hdfs/TestHMSPathsFullDump.java    | 4 +++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit 6e1651fab00bdc9bb5f713d1a04fddecdd7b7d27
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Oct 18 11:32:29 2017 +0100

    SENTRY-1996 - Rename Sqoop SentryAuthorizationHander

 .../main/java/org/apache/sentry/sqoop/SentrySqoopError.java  | 12 ++++++------
 .../apache/sentry/sqoop/authz/SentryAccessController.java    |  2 +-
 ...horizationHander.java => SentryAuthorizationHandler.java} |  2 +-
 .../sentry/sqoop/binding/SqoopAuthBindingSingleton.java      |  2 +-
 ...zationHander.java => TestSentryAuthorizationHandler.java} |  2 +-
 .../org/apache/sentry/tests/e2e/sqoop/TomcatSqoopRunner.java |  2 +-
 6 files changed, 11 insertions(+), 11 deletions(-)

commit e0bdf3e65c0e999d2190269ae497a3c03a449462
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Oct 17 12:42:52 2017 -0500

    SENTRY-1231: Sentry doesn't secure index location uri, when do "CREATE INDEX LOCATION ''/uri" (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  1 +
 .../hive/authz/HiveAuthzBindingHookBase.java       | 23 +++++++++++++++++++++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  2 ++
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 24 ++++++++++++++++++++++
 4 files changed, 50 insertions(+)

commit 74d7d3ad7f33245fb2467b0d8e8be2105c218438
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Oct 17 10:05:44 2017 -0500

    SENTRY-1995: Bump Derby dependency version to 10.13.1.1 (Sergio Pena, reviewed by Alexander Kolbasov)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2cd0f76071c4150f6a2646fdc694f68ff5f56a73
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Oct 17 10:04:40 2017 -0500

    SENTRY-1994: Bump Shiro dependency version to 1.4.0 (Sergio Pena, reviewed by Alexander Kolbasov)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd3a60abf10d526b6cc5ee2d4cec3c2709fe5b24
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Tue Oct 17 09:46:29 2017 +0100

    SENTRY-1979 - Consolidate code for converting Hive privilege objects to Strings

 .../db/tools/command/hive/CommandUtil.java         | 60 +---------------------
 .../command/hive/GrantPrivilegeToRoleCmd.java      |  4 +-
 .../db/tools/command/hive/ListPrivilegesCmd.java   | 56 ++------------------
 .../command/hive/RevokePrivilegeFromRoleCmd.java   |  6 ++-
 .../provider/db/tools/TestSentryShellHive.java     | 12 ++---
 5 files changed, 17 insertions(+), 121 deletions(-)

commit e901041d810635e5f8e36ae0438e43017012e274
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Oct 16 15:10:28 2017 -0500

    SENTRY-1978: Move the hive-authz2 grant/revoke implementation into the sentry-binding-hive module (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  16 -
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  21 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  12 +-
 .../binding/hive/SentryHivePrivilegeObject.java    |  32 ++
 .../hive/authz/DefaultSentryAccessController.java  | 561 +++++++++++++++++++++
 .../hive/authz/SentryHiveAccessController.java     | 199 ++++++++
 .../hive/authz/SentryHiveAuthorizerFactory.java    |  27 +-
 .../hive/authz/SentryHiveAuthorizerImpl.java       |  86 +++-
 .../sentry/binding/util/SentryAuthorizerUtil.java  | 360 +++++++++++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  12 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   2 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   6 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   2 +-
 13 files changed, 1281 insertions(+), 55 deletions(-)

commit ce049714b529df02e795ffd3575ae1d33646329a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Oct 16 13:20:32 2017 -0500

    SENTRY-1985: Sentry should log in stdout when it is ready to serve requests (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)

 .../main/java/org/apache/sentry/service/thrift/HMSFollower.java  | 9 +++++++++
 .../java/org/apache/sentry/service/thrift/SentryService.java     | 3 +++
 2 files changed, 12 insertions(+)

commit 2ec0f3f825e915b928268c6623c9be554934dcc4
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Oct 16 12:22:40 2017 -0500

    SENTRY-1987: Remove pom code related to non-existing TestSentryAuthorizationProvider class (Sergio Pena, reviewed by kalyan kumar kalvagadda, Na Li)

 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml | 13 -------------
 1 file changed, 13 deletions(-)

commit dbfd7fa867ab3a7056a37ce0a1a385097388fd21
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Oct 16 10:54:52 2017 -0500

    SENTRY-1984: Decrease number of max idle connections for Sentry clients (Sergio Pena, reviewed by Alexander Kolbasov)

 .../sentry/core/common/transport/SentryClientTransportConstants.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9927bc4a3a5d993b4e20d9855f8f5b16d1dbdfbb
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Oct 16 10:31:00 2017 +0100

    SENTRY-1975 - Add sqoop support to SentryShellGeneric.
    Signed off by Sergio Pena.

 bin/sentryShell                                    |   1 +
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |   7 +
 .../generic/tools/GenericPrivilegeConverter.java   |   8 +-
 .../db/generic/tools/SentryShellGeneric.java       |   5 +
 .../provider/db/tools/SentryShellCommon.java       |   2 +-
 .../db/generic/tools/TestSentryShellSqoop.java     | 523 +++++++++++++++++++++
 6 files changed, 544 insertions(+), 2 deletions(-)

commit c3810a661f0b466f086f4005fc6b09f0d23066c0
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Oct 15 10:18:30 2017 -0500

    SENTRY-1988: Bump slf4j version from 1.6.0 to 1.7.25 (latest version) (Sergio Pena, reviewed by Alexander Kolbasov, Na Li, kalyan kumar kalvagadda)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f73b1a8d998528c9af649ac8c3821cf0335f9a54
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sun Oct 15 10:16:52 2017 -0500

    SENTRY-1990: Use same hadoop.version to hadoop-aws dependencies (Sergio Pena, reviewed by Alexander Kolbasov, Na Li)

 pom.xml                                | 1 -
 sentry-tests/sentry-tests-hive/pom.xml | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit bbedb2ad660cc1b11b04d73d94953052fc325823
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Oct 13 17:07:47 2017 -0500

    SENTRY-1893: Bump the minimum java version to 8 (Sergio Pena and Hrishikesh Gadre, reviewed by Alexander Kolbasov)

 pom.xml | 29 +++--------------------------
 1 file changed, 3 insertions(+), 26 deletions(-)

commit 6aacd830af046d69680ed31bfc0510dbe0c62a8c
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Oct 13 09:39:36 2017 -0500

    SENTRY-1981: Bump codehale metrics version to latest 3.0.2 version (Sergio Pena, reviewed by Alexander Kolbasov, kalyan kumar kalvagadda
    )

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b4a593ef50fd25526f910d0083be1cc3032c41b3
Author: Ashish Singh <singhashish.osu@gmail.com>
Date:   Fri Oct 13 09:35:25 2017 -0500

    SENTRY-1416: kafka-sentry tool's service name's default is different from KafkaSentryAuthorizer's default service name (Ashish Singh, reviewed by Sravya Tirukkovalur)

 .../org/apache/sentry/provider/db/generic/tools/SentryShellGeneric.java | 2 +-
 .../apache/sentry/provider/db/generic/tools/TestSentryShellKafka.java   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 18634c182f7900d3e672113be4282650c31c7a41
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Oct 13 09:32:35 2017 -0500

    SENTRY-1983: Several commit/rollback errors happen in oracle12c-r1 due to current isolation level (Sergio Pena, reviewed by Alexander Kolbasov)

 .../sentry/provider/db/service/persistent/SentryStore.java    | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 3d0f470529ebc2dc2df7e17f20ba3c13aa13b4d2
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Oct 6 15:56:06 2017 +0100

    SENTRY-1974 - Consolidate the Solr + Kafka PrivilegeValidators into a single GenericPrivilegeValidator.
     - Reviewed by kalyan kumar kalvagadda.

 .../sentry/kafka/binding/KafkaAuthBinding.java     |   4 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |   4 +-
 ...nverter.java => GenericPrivilegeConverter.java} |  92 ++++++++++----
 .../db/generic/tools/SentryConfigToolSolr.java     |   2 +-
 .../db/generic/tools/SentryShellGeneric.java       |  17 +--
 .../tools/SolrTSentryPrivilegeConverter.java       | 137 ---------------------
 .../db/generic/tools/TestSentryConfigToolSolr.java |   2 +-
 7 files changed, 80 insertions(+), 178 deletions(-)

commit 06073221d466b1079457ff6b697a648237b35c23
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Oct 5 09:53:01 2017 +0100

    SENTRY-1973 - Use KafkaPrivilegeModel to retrieve Kafka validators

 .../db/generic/tools/KafkaTSentryPrivilegeConverter.java | 16 +++++++++++++---
 .../db/generic/tools/SolrTSentryPrivilegeConverter.java  |  2 +-
 .../provider/db/generic/tools/TestSentryShellKafka.java  |  7 +++----
 3 files changed, 17 insertions(+), 8 deletions(-)

commit d7a6667cb7d5c40bab753c254d01a5d4ba68de2e
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Oct 4 10:13:50 2017 +0100

    SENTRY-1210 - Refactor the SentryShellSolr and SentryShellKafka

 bin/sentryShell                                    |   4 +-
 ...ntryShellKafka.java => SentryShellGeneric.java} |  64 ++++++--
 .../provider/db/generic/tools/SentryShellSolr.java | 114 --------------
 .../provider/db/tools/SentryShellCommon.java       |  51 ++++---
 .../db/generic/tools/TestSentryShellKafka.java     | 164 ++++++++++-----------
 .../db/generic/tools/TestSentryShellSolr.java      | 162 ++++++++++----------
 6 files changed, 245 insertions(+), 314 deletions(-)

commit 1749f7ebe85e5d6a515ad264e69fad27b0624f06
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Oct 3 17:19:31 2017 -0700

    SENTRY-1963: Sentry JSON reporter should use regular implementation for local file system (Alex Kolbasov, reviewed by Na Li and Kalyan Kalvagadda)

 .../provider/db/service/thrift/SentryMetrics.java  | 144 +++++++++++++++------
 1 file changed, 103 insertions(+), 41 deletions(-)

commit 19efc0e44ad71e796c8fc8cac1cbd30b988f8ebb
Author: Vadim Spector <vspec@cloudera.com>
Date:   Tue Oct 3 12:29:05 2017 -0700

    SENTRY-1966: Improve logging of HMS sync data (paths and permissions) flowing from Sentry to NameNode (Vadim Spector, reviewed by Arjun Mishra)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 142 +++++++++++++++++----
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |   6 +
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |   6 +
 .../org/apache/sentry/hdfs/SentryAuthzUpdate.java  |  27 ++++
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |   9 ++
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  59 ++++++---
 .../sentry/hdfs/SentryINodeAttributesProvider.java |   2 +-
 .../org/apache/sentry/hdfs/SentryPermissions.java  |  25 ++++
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |   9 ++
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |  23 ++++
 10 files changed, 266 insertions(+), 42 deletions(-)

commit 186e75543a23f286e24c56f73859099405b7b73a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Sep 28 14:20:53 2017 -0500

    SENTRY-1962: Merge hive 2.0 authz1/authz2 profile dependencies (Sergio Pena, reviewed by Na Li, Colm O hEligeartaigh)

 pom.xml | 301 ++++++++++++++++++++--------------------------------------------
 1 file changed, 93 insertions(+), 208 deletions(-)

commit 1abb1f90303342aa94f9752881330d5ea470491a
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 27 17:00:07 2017 -0500

    SENTRY-1968: Remove sentry-binding-hive-hmsfollower-v2 module after Hive 2.0 version bump (Sergio Pena, reviewed by kalyan kumar kalvagadda)

 sentry-binding/pom.xml                             |   4 +-
 .../sentry-binding-hive-follower-v2/pom.xml        |  65 ---------
 .../json/SentryJSONAddPartitionMessage.java        |  48 -------
 .../json/SentryJSONAlterPartitionMessage.java      |  79 -----------
 .../json/SentryJSONAlterTableMessage.java          |  54 --------
 .../json/SentryJSONCreateDatabaseMessage.java      |  44 ------
 .../json/SentryJSONCreateTableMessage.java         |  44 ------
 .../json/SentryJSONDropDatabaseMessage.java        |  44 ------
 .../json/SentryJSONDropPartitionMessage.java       |  51 -------
 .../messaging/json/SentryJSONDropTableMessage.java |  45 ------
 .../json/SentryJSONMessageDeserializer.java        | 154 ---------------------
 .../messaging/json/SentryJSONMessageFactory.java   | 146 -------------------
 sentry-provider/sentry-provider-db/pom.xml         |  31 +----
 13 files changed, 6 insertions(+), 803 deletions(-)

commit 44c5d9f4a744bd71047bab773cdb783ee3b89b44
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Sep 27 13:28:46 2017 -0500

    SENTRY-1812: Provide interactive Sentry CLI

 .../db/service/thrift/TestSentryMetrics.java       |  96 ++++++
 sentry-tools/pom.xml                               |  63 ++++
 .../java/org/apache/sentry/shell/GroupShell.java   |  65 ++++
 .../java/org/apache/sentry/shell/PrivsShell.java   |  73 +++++
 .../java/org/apache/sentry/shell/RolesShell.java   |  72 +++++
 .../java/org/apache/sentry/shell/SentryCli.java    | 205 +++++++++++++
 .../java/org/apache/sentry/shell/ShellUtil.java    | 335 +++++++++++++++++++++
 .../org/apache/sentry/shell/TopLevelShell.java     | 161 ++++++++++
 8 files changed, 1070 insertions(+)

commit da1863f3479026ee2cccade53ef422c2ccc9ff91
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Sep 21 16:57:47 2017 -0500

    SENTRY-1958: Bump to Hive version 2.0 (Sergio Pena, reviewed by Alexander Kolbasov)

 dev-support/test-patch.py                          |   2 +-
 pom.xml                                            |  15 +-
 .../sentry-binding-hive-follower-v2/pom.xml        |   6 -
 .../sentry-binding-hive-follower/pom.xml           |   6 -
 .../json/SentryJSONAlterPartitionMessage.java      |   9 +-
 .../json/SentryJSONDropPartitionMessage.java       |   1 +
 .../json/SentryJSONMessageDeserializer.java        |  16 ++
 .../messaging/json/SentryJSONMessageFactory.java   | 118 ++++++-------
 sentry-binding/sentry-binding-hive-v2/pom.xml      |   7 -
 sentry-binding/sentry-binding-hive/pom.xml         |   6 -
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   7 +-
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  37 +---
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   2 -
 .../hive/authz/SentryHiveAuthorizerFactory.java    |  45 +++++
 .../hive/authz/SentryHiveAuthorizerImpl.java       | 196 +++++++++++++++++++++
 .../binding/metastore/AuthorizingObjectStore.java  |   2 +-
 .../metastore/AuthorizingObjectStoreBase.java      |   2 +-
 .../metastore/MetastoreAuthzBindingBase.java       |  22 ++-
 .../SentryMetastorePostEventListener.java          |  17 +-
 .../SentryMetastorePostEventListenerBase.java      |  18 +-
 ...yMetastorePostEventListenerNotificationLog.java |   7 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    |   1 +
 .../org/apache/sentry/binding/hive/TestURI.java    |   1 +
 .../src/test/resources/log4j2.properties           |  50 ++++++
 sentry-provider/sentry-provider-db/pom.xml         | 100 +++--------
 .../service/thrift/SentryPolicyStoreProcessor.java |   7 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  19 ++
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    |   2 +-
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |   2 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  14 ++
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |   3 +
 .../hive/AbstractTestWithStaticConfiguration.java  |   1 +
 .../e2e/hive/TestMetadataObjectRetrieval.java      |   2 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java |  41 ++---
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  30 ----
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  23 ++-
 ...tDBNotificationListenerInBuiltDeserializer.java |   4 +-
 .../TestSentryListenerSentryDeserializer.java      |   9 +-
 .../src/test/resources/log4j2.properties           |  53 ++++++
 sentry-tests/sentry-tests-kafka/pom.xml            |  84 +++------
 sentry-tests/sentry-tests-solr/pom.xml             |  84 +++------
 sentry-tests/sentry-tests-sqoop/pom.xml            |  82 +++------
 42 files changed, 663 insertions(+), 490 deletions(-)

commit 59684194900b0b8b030c8387342bcb4d54cd147d
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 20 15:36:23 2017 -0500

    SENTRY-1942: Bump BoneCP version from 0.7.1 to 0.8.0 (Sergio Pena, reviewed by Alexander Kolbasov, kalyan kumar kalvagadda, Na Li)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b107cae11cf3bbb676ac84f98a4120e51b159b41
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Sep 19 09:52:53 2017 -0500

    SENTRY-1943: Update Guava to 14.0 (Sergio Pena, reviewed by Alexander Kolbasov)

 pom.xml                                                                 | 2 +-
 .../src/main/java/org/apache/sentry/policy/common/PolicyEngine.java     | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d4172ba9f957610637978da5dfa4032464d4aafc
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Sep 13 14:40:20 2017 -0700

    SENTRY-1938: Sentry logs to provide more relevant information (Arjun
    Mishra, Reviewed by: Vamsee Yarlagadda, Alexander Kolbasov)

 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  | 34 +++++++++++++++-------
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 12 ++++----
 .../service/thrift/NotificationProcessor.java      |  2 +-
 3 files changed, 32 insertions(+), 16 deletions(-)

commit 213a37092b2b32f78208666358d3585d99574dac
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Sep 13 16:21:13 2017 -0700

    SENTRY-1937: Optimize performance for listing sentry roles by group name (Alex Kolbasov, reviewed by Vamsee Yarlagadda, Misha Dmitriev, Arjun Mishra and Na Li)

 .../db/service/persistent/SentryStore.java         | 148 +++++++++++----------
 1 file changed, 81 insertions(+), 67 deletions(-)

commit 342025640a61567df3a7628b701efb1c9590ef24
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Sep 11 17:43:24 2017 -0700

    SENTRY-1946: getPathsUpdatesFrom() got its boolean logic inversed which results in sending two snapshots at the same time (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov)

 .../main/java/org/apache/sentry/hdfs/SentryHDFSServiceProcessor.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b38267765be842ca30b0bfa86f1e47bce6fdd313
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Sep 11 16:24:19 2017 -0700

    SENTRY-1940: Sentry should time out threads waiting for notifications (Alex Kolbasov, reviewd by Vamsee Yarlagadda and Sergio Pena)

 .../db/service/persistent/SentryStore.java         |  6 ++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  6 +++
 .../apache/sentry/service/thrift/CounterWait.java  | 57 ++++++++++++++++++----
 .../sentry/service/thrift/ServiceConstants.java    |  6 +++
 .../sentry/service/thrift/TestCounterWait.java     | 11 ++++-
 5 files changed, 75 insertions(+), 11 deletions(-)

commit bbf5ce1fd7f4cc57af6bf8291c2455685a0e33f7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Sep 11 15:44:04 2017 -0700

    SENTRY-1932: Improve logging for HMSPath (Arjun Mishra, reviewed by Brian Towles and Alex Kolbasov)

 .../src/main/java/org/apache/sentry/hdfs/HMSPaths.java               | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit b75b9d96882570d9b0736e464efa081988c16f8e
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Sep 11 13:39:15 2017 -0500

    SENTRY-1941: Add log4j2.properties file to sentry-hive-tests-v2 (Sergio Pena, reviewed by Alexander Kolbasov)

 .../src/test/resources/log4j2.properties           | 53 ++++++++++++++++++++++
 1 file changed, 53 insertions(+)

commit 4031003719edb820edcf1e5f18ee03fb6810cef1
Author: Jan Hentschel <jan.hentschel@ultratendency.com>
Date:   Mon Sep 11 09:36:17 2017 -0500

    SENTRY-1921: Make SentryServiceFactory.create static and all calling instances use the static call (Jan Hentschel, reviewed by Sergio Pena)

 .../java/org/apache/sentry/service/thrift/SentryServiceFactory.java  | 5 ++---
 .../db/generic/service/thrift/TestSentryGenericServiceClient.java    | 2 +-
 .../provider/db/service/thrift/TestSentryPolicyServiceClient.java    | 2 +-
 .../provider/db/service/thrift/TestSentryServiceClientPool.java      | 2 +-
 .../db/service/thrift/TestSentryServiceWithInvalidMsgSize.java       | 2 +-
 .../apache/sentry/service/thrift/SentryServiceIntegrationBase.java   | 2 +-
 .../sentry/tests/e2e/dbprovider/AbstractTestWithDbProvider.java      | 4 ++--
 .../org/apache/sentry/tests/e2e/minisentry/InternalSentrySrv.java    | 2 +-
 .../apache/sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java   | 2 +-
 .../solr/db/integration/AbstractSolrSentryTestWithDbProvider.java    | 2 +-
 .../apache/sentry/tests/e2e/sqoop/AbstractSqoopSentryTestBase.java   | 2 +-
 11 files changed, 13 insertions(+), 14 deletions(-)

commit ea524f1bdf41775a3bbdc205af850d600517904b
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Mon Sep 11 09:30:08 2017 -0500

    SENTRY-1934: SQL Index name is too long for Oracle 11.2 (Na Li, reviewed by Alexander Kolbasov)

 .../main/java/org/apache/sentry/provider/db/service/model/package.jdo   | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.derby.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.mysql.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.oracle.sql    | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.postgres.sql  | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-db2-2.0.0.sql          | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-derby-2.0.0.sql        | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.0.0.sql        | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.0.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-postgres-2.0.0.sql     | 2 +-
 .../src/main/resources/sentry-upgrade-db2-1.8.0-to-2.0.0.sql            | 2 +-
 11 files changed, 11 insertions(+), 11 deletions(-)

commit 25c1c6063dc8ae9c75fa7c800589b2e7bb737b84
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sat Sep 9 12:26:00 2017 -0500

    SENTRY-1933: hive-authz2 build fails because SentryJSONAlterPartitionMessage is not compatible (Sergio Pena, reviewed by Alexander Kolbasov)

 .../messaging/json/SentryJSONAlterPartitionMessage.java      | 12 ++++++++++++
 .../messaging/json/SentryJSONAlterPartitionMessage.java      | 12 ++++++++++++
 .../apache/sentry/service/thrift/TestFullUpdateModifier.java |  3 +--
 .../apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java    |  2 ++
 4 files changed, 27 insertions(+), 2 deletions(-)

commit bab5063c637ad0b258afc21ac217b5eb42bb11e7
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Sat Sep 9 00:15:33 2017 -0700

    SENTRY-1939 Resetting the CounterWait during full snapshot has to be handled across all sentry servers (Vamsee Yarlagadda, reviewed by Alex Kolbasov)

 .../apache/sentry/service/thrift/HMSFollower.java  | 43 ++++++++++++++--------
 1 file changed, 27 insertions(+), 16 deletions(-)

commit a7a2d69c798d562bb1dbc94f73761d0a3d6ee214
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Sep 8 17:26:12 2017 -0500

    SENTRY-1918: NN snapshot should not be served while HMS snapshot is collected (Brian Towles, reviewed by Alexander Kolbasov, Sergio Pena, Na Li)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |   2 +
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |  32 +++--
 .../apache/sentry/hdfs/TestDBUpdateForwarder.java  |  45 ++++++
 .../apache/sentry/service/thrift/HMSFollower.java  | 112 +++++++++------
 .../sentry/service/thrift/HMSFollowerState.java    |  43 ++++++
 .../sentry/service/thrift/SentryService.java       |   2 +
 .../sentry/service/thrift/SentryServiceState.java  |  44 ++++++
 .../apache/sentry/service/thrift/SentryState.java  |  27 ++++
 .../sentry/service/thrift/SentryStateBank.java     | 159 +++++++++++++++++++++
 .../service/thrift/SentryStateBankTestHelper.java  |  29 ++++
 .../sentry/service/thrift/TestSentryStateBank.java |  84 +++++++++++
 11 files changed, 523 insertions(+), 56 deletions(-)

commit 398a8a9378cb43fea7f66153df917b9eb3abd40c
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Thu Sep 7 18:15:57 2017 -0700

    SENTRY-1931: NameNode only gets full snapshot once (Sergio Pena, Reviewed by: Alexander Kolbasov, Vamsee Yarlagadda)

 .../src/main/java/org/apache/sentry/hdfs/DeltaRetriever.java        | 6 ++++--
 .../src/main/java/org/apache/sentry/hdfs/PathsUpdate.java           | 5 +++++
 .../src/main/java/org/apache/sentry/hdfs/PermissionsUpdate.java     | 5 +++++
 .../src/main/java/org/apache/sentry/hdfs/Updateable.java            | 2 ++
 .../src/main/java/org/apache/sentry/hdfs/UpdateableAuthzPaths.java  | 6 +++++-
 .../src/main/java/org/apache/sentry/hdfs/DBUpdateForwarder.java     | 2 +-
 .../src/main/java/org/apache/sentry/hdfs/PathDeltaRetriever.java    | 3 ++-
 .../src/main/java/org/apache/sentry/hdfs/PermDeltaRetriever.java    | 2 +-
 .../src/test/java/org/apache/sentry/hdfs/TestDBUpdateForwarder.java | 2 +-
 .../src/test/java/org/apache/sentry/hdfs/TestDeltaRetriever.java    | 6 ++++--
 10 files changed, 30 insertions(+), 9 deletions(-)

commit c302da78189790d48191856cfaee2db6fcf7e9c7
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Thu Sep 7 17:00:50 2017 -0700

    SENTRY-1929: When full HMS snapshot is created all higher notifications should be purged (Alex Kolbasov, reviewed by Vamsee Yarlaga and Na Li)

 .../db/service/persistent/SentryStore.java         | 53 ++++++++++++++++++++--
 .../apache/sentry/service/thrift/CounterWait.java  | 22 +++++++++
 .../apache/sentry/service/thrift/HMSFollower.java  | 19 +++++++-
 .../sentry/service/thrift/TestHMSFollower.java     |  2 +-
 4 files changed, 89 insertions(+), 7 deletions(-)

commit 1275be7e3ed9cb31959fc5e9424576bb03e2fc02
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 6 22:38:58 2017 -0500

    SENTRY-1928: HMSFollower should close HMS connections when an error to HMS occurs (Sergio Pena, reviewed by Alexander Kolbasov, Vamsee Yarlagadda)

 .../org/apache/sentry/service/thrift/HMSFollower.java | 17 +++++------------
 .../service/thrift/HiveNotificationFetcher.java       | 19 ++++++++++++++++---
 2 files changed, 21 insertions(+), 15 deletions(-)

commit 2ef77fc017853f67509360a33859a949fd0046aa
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Sep 6 17:43:51 2017 -0700

    SENTRY-1915: Sentry is doing a lot of work to convert list of paths to HMSPaths structure (Alex Kolbasov, reviewed by Sergio Pena)

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  2 +-
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  7 ++-
 .../org/apache/sentry/hdfs/PathImageRetriever.java | 55 ++---------------
 .../org/apache/sentry/hdfs/TestImageRetriever.java | 15 +----
 .../hdfs/TestSentryHDFSServiceProcessor.java       |  3 +
 .../db/service/persistent/SentryStore.java         | 72 +++++++++++++++++++++-
 .../db/service/persistent/TestSentryStore.java     | 59 ++++++++++++++++++
 7 files changed, 145 insertions(+), 68 deletions(-)

commit d02c48754e843a13f88b0db4eb89deca8b91b2c5
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Sep 6 14:30:05 2017 -0700

    SENTRY-1927: PathImageRetriever should minimize size of the serialized message when creating path (Arjun Mishra, reviewed by Vamsee Yarlagadda and Mat Crocker)

 .../src/main/java/org/apache/sentry/hdfs/PathImageRetriever.java      | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit fab09a73b62ffb50e6a88966da62aa309190b7fd
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Wed Sep 6 09:52:10 2017 -0500

    SENTRY-1919: Sentry should prevent two snapshots from being sent to HDFS (Sergio Pena, reviewed by Na Li, Alexander Kolbasov, Vamsee Yarlagadda)

 .../sentry/hdfs/SentryHDFSServiceProcessor.java    | 117 ++++++++++++++-------
 1 file changed, 78 insertions(+), 39 deletions(-)

commit efe2e01b096b439ad1eee195d4e5604828f57ff3
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Tue Sep 5 21:15:33 2017 -0700

    SENTRY-1916: Sentry should not store paths outside of the prefix (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../org/apache/sentry/hdfs/ServiceConstants.java   | 45 +++++++---------------
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  8 ++--
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  8 +++-
 .../org/apache/sentry/hdfs/TestImageRetriever.java |  5 ++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  5 ++-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  7 +++-
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java | 44 +++++++++++++++++++++
 7 files changed, 83 insertions(+), 39 deletions(-)

commit d0b12a4baba02868ba0bb7beeefe91a2f88361c4
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Aug 8 10:49:37 2016 +0800

    SENTRY-1438: Move PolicyFiles from sentry-provider-file to sentry-core-common in V2 (Ke Jia via Dapeng Sun)
    
    Re-applied by Sergio Pena.

 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestSandboxOps.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afbd8975070f25b517b7700cb314fc17c0c5de46
Author: Colin Ma <colin@apache.org>
Date:   Wed Aug 3 11:14:25 2016 +0800

    SENTRY-1436: Move PolicyFiles from sentry-provider-file to sentry-core-common(Colin Ma, reviewed by Dapeng Sun)
    
    Re-applied by Sergio Pena.

 .../org/apache/sentry/binding/hive/SentryIniPolicyFileFormatter.java    | 2 +-
 .../test/java/org/apache/sentry/binding/hive/TestHiveAuthzBindings.java | 2 +-
 .../policy/hive/TestResourceAuthorizationProviderGeneralCases.java      | 2 +-
 .../java/org/apache/sentry/policy/hive/TestSimpleDBPolicyEngineDFS.java | 2 +-
 .../org/apache/sentry/policy/hive/TestSimpleDBPolicyEngineLocalFS.java  | 2 +-
 .../sentry/policy/kafka/TestKafkaAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/kafka/TestKafkaPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/kafka/TestKafkaPolicyEngineLocalFS.java    | 2 +-
 .../test/java/org/apache/sentry/binding/solr/TestSolrAuthzBinding.java  | 2 +-
 .../sentry/policy/solr/TestSearchAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/solr/TestSearchPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/solr/TestSearchPolicyEngineLocalFS.java    | 2 +-
 .../sentry/policy/sqoop/TestSqoopAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/sqoop/TestSqoopPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/sqoop/TestSqoopPolicyEngineLocalFS.java    | 2 +-
 .../java/org/apache/sentry/sqoop/TestSentryAuthorizationHander.java     | 2 +-
 .../src/main/java/org/apache/sentry/core/common/utils}/PolicyFiles.java | 2 +-
 .../policy/indexer/TestIndexerAuthorizationProviderGeneralCases.java    | 2 +-
 .../org/apache/sentry/policy/indexer/TestIndexerPolicyEngineDFS.java    | 2 +-
 .../apache/sentry/policy/indexer/TestIndexerPolicyEngineLocalFS.java    | 2 +-
 .../java/org/apache/sentry/provider/cache/PrivilegeCacheTestImpl.java   | 2 +-
 .../java/org/apache/sentry/provider/file/LocalGroupMappingService.java  | 1 +
 .../java/org/apache/sentry/provider/file/SimpleFileProviderBackend.java | 1 +
 .../java/org/apache/sentry/provider/file/TestLocalGroupMapping.java     | 1 +
 .../org/apache/sentry/provider/file/TestSimpleFileProvderBackend.java   | 1 +
 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestSandboxOps.java  | 2 +-
 26 files changed, 26 insertions(+), 22 deletions(-)

commit e3eccaaa140977517df035ab90fc6c7754444cfe
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Sep 1 15:20:53 2017 -0700

    SENTRY-1913: Incorrect constraints on AUTHZ_PATHS_MAPPING.AUTHZ_OBJ_NAME
    (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov)

 .../java/org/apache/sentry/provider/db/service/model/package.jdo   | 7 +++++--
 .../src/main/resources/007-SENTRY-1365.derby.sql                   | 4 ++--
 .../src/main/resources/007-SENTRY-1365.mysql.sql                   | 2 +-
 .../src/main/resources/007-SENTRY-1365.oracle.sql                  | 4 ++--
 .../src/main/resources/007-SENTRY-1365.postgres.sql                | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-db2-2.0.0.sql     | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-derby-2.0.0.sql   | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.0.0.sql   | 4 ++--
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.0.0.sql  | 4 ++--
 .../src/main/resources/sentry-postgres-2.0.0.sql                   | 4 ++--
 10 files changed, 22 insertions(+), 19 deletions(-)

commit f0fffa2792c117354c39c5d937e2eabc9b8f2283
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Sat Sep 2 10:01:42 2017 -0500

    SENTRY-1886: Add 1.8.0 -> 2.0.0 upgrade SQL scripts (Sergio Pena, reviewed by Na Li)

 .../src/main/resources/sentry-db2-1.8.0.sql        | 183 +++++++++++++++++
 .../src/main/resources/sentry-derby-1.8.0.sql      | 184 +++++++++++++++++
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 223 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 197 ++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 211 +++++++++++++++++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          |  31 +++
 ...0.sql => sentry-upgrade-db2-1.8.0-to-2.0.0.sql} |  29 ---
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |   4 +
 ...sql => sentry-upgrade-derby-1.8.0-to-2.0.0.sql} |   1 -
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |   6 +
 ...sql => sentry-upgrade-mysql-1.8.0-to-2.0.0.sql} |   5 +-
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |   6 +
 ...ql => sentry-upgrade-oracle-1.8.0-to-2.0.0.sql} |   5 +-
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |   6 +
 ... => sentry-upgrade-postgres-1.8.0-to-2.0.0.sql} |   5 +-
 .../src/main/resources/upgrade.order.db2           |   3 +-
 .../src/main/resources/upgrade.order.derby         |   3 +-
 .../src/main/resources/upgrade.order.mysql         |   3 +-
 .../src/main/resources/upgrade.order.oracle        |   3 +-
 .../src/main/resources/upgrade.order.postgres      |   3 +-
 20 files changed, 1067 insertions(+), 44 deletions(-)

commit 7d18d1bf79efd6f27319b99de9f7635d98f6846b
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Fri Sep 1 18:35:44 2017 -0700

    SENTRY-1909: Improvements for memory usage when full path snapshot is sent from Sentry to NN (Alex Kolbasov, reviewed by Misha Dmitriev, Sergio Pena and Vamsee Yarlagadda)

 .../org/apache/sentry/hdfs/PathImageRetriever.java |   6 +-
 .../org/apache/sentry/hdfs/TestImageRetriever.java |  10 +-
 .../hdfs/TestSentryHDFSServiceProcessor.java       |   4 +-
 .../db/service/model/MAuthzPathsMapping.java       |  18 +--
 .../provider/db/service/persistent/PathsImage.java |   8 +-
 .../db/service/persistent/SentryStore.java         |  11 +-
 .../service/thrift/FullUpdateInitializer.java      |   6 +-
 .../sentry/service/thrift/FullUpdateModifier.java  |  53 ++++-----
 .../sentry/service/thrift/SentryHMSClient.java     |  33 +++---
 .../db/service/persistent/TestSentryStore.java     | 126 +++++++++++----------
 .../service/thrift/TestFullUpdateInitializer.java  |   6 +-
 .../service/thrift/TestFullUpdateModifier.java     |  35 +++---
 .../sentry/service/thrift/TestHMSFollower.java     |  11 +-
 13 files changed, 164 insertions(+), 163 deletions(-)

commit bfb07b4a54ac9a69b1fbea1a44751008e70bd9d5
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Fri Sep 1 09:54:34 2017 -0500

    SENTRY-1888: Sentry might not fetch all HMS duplicated events IDs when requested (Sergio Pena, reviewed by Alexander Kolbasov)

 .../org/apache/sentry/hdfs/UniquePathsUpdate.java  |   2 +-
 .../db/service/persistent/SentryStore.java         |  23 +++
 .../apache/sentry/service/thrift/HMSFollower.java  |  50 +++---
 .../service/thrift/HiveNotificationFetcher.java    | 198 +++++++++++++++++++++
 .../sentry/service/thrift/SentryHMSClient.java     |  59 ------
 .../sentry/service/thrift/TestHMSFollower.java     |  58 ++++--
 .../thrift/TestHiveNotificationFetcher.java        | 163 +++++++++++++++++
 .../sentry/service/thrift/TestSentryHMSClient.java | 125 -------------
 8 files changed, 460 insertions(+), 218 deletions(-)

commit 24ea4a412355a4d839ca8357adee301441de6da2
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Thu Aug 31 14:17:03 2017 -0500

    SENTRY-967: Use the Maven Dependency Plugin to download artifacts for the Sqoop tests (Brian Towles, reviewd by Colm O hEigeartaigh)

 sentry-tests/sentry-tests-sqoop/pom.xml            | 111 ++++++++++-----------
 .../sentry/tests/e2e/sqoop/TomcatSqoopRunner.java  |   8 +-
 2 files changed, 54 insertions(+), 65 deletions(-)

commit 8474ec7de7d973895ffaa603b2adb94ae43820d8
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Tue Aug 29 18:27:07 2017 -0700

    SENTRY-1906: Sentry clients to retry connections to server with delay to avoid failing fast (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Na Li)

 .../transport/RetryClientInvocationHandler.java    | 11 ++++++++++
 .../SentryClientTransportConfigInterface.java      |  7 ++++++
 .../transport/SentryClientTransportConstants.java  | 25 +++++++++++++++++++---
 .../transport/SentryHDFSClientTransportConfig.java |  5 +++++
 .../SentryPolicyClientTransportConfig.java         |  5 +++++
 5 files changed, 50 insertions(+), 3 deletions(-)

commit 1e29fa981c1e1a6477f0f2400b6d9b77283d8731
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Aug 30 10:19:21 2017 -0700

    SENTRY-1907 Potential memory optimization when handling big full snapshots. (Alex Kolbasov, reviewed by Misha Dmitriev, Sergio Pena, Na Li)

 .../java/org/apache/sentry/hdfs/DBUpdateForwarder.java     |  6 +++---
 .../java/org/apache/sentry/hdfs/PathImageRetriever.java    | 14 +++++++++++---
 2 files changed, 14 insertions(+), 6 deletions(-)

commit 6cf5efdb984750e14e48d7857cf3b1f41008ebaf
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Aug 30 10:16:27 2017 -0700

    SENTRY-1903 TransactionManager shows retried transactions starting from 0 (Alex Kolbasov, reviewed by Sergio Pena)

 .../sentry/provider/db/service/persistent/TransactionManager.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9c28d202a8eb692ef58c76f2a9e145c6d912d183
Author: Donghui Xu <xu.donghui@zte.com.cn>
Date:   Mon Jul 24 15:21:12 2017 +0800

    SENTRY-1844 - When setting web authentication type to none, sentry fails to start
     - Reviewed by: Dapeng Sun.
    
    Re-applied by Sergio Pena.

 .../db/service/thrift/SentryWebServer.java         |  4 +-
 .../TestSentryWebServiceForAuthTypeNone.java       | 64 ++++++++++++++++++++++
 2 files changed, 66 insertions(+), 2 deletions(-)

commit 49e4958f3d64af1563ce65ccc85b2896d55a0038
Author: Donghui Xu <xu.donghui@zte.com.cn>
Date:   Mon Jul 24 15:25:35 2017 +0800

    SENTRY-1836 - Add sentry web service config in service template
     - Reviewed by: Dapeng Sun.

 conf/sentry-site.xml.service.template | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit d30febf1a84760f52219a68baebd8b8132082442
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu May 18 10:09:31 2017 +0100

    SENTRY-1516 - Add gpg configuration to the root pom to enable deployment to Maven Central
     - Signed off by Sergio Pena
    
    Re-applied by Sergio Pena.

 pom.xml | 50 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 48 insertions(+), 2 deletions(-)

commit ab906afa2bba09fd007172d522ff808d7257ef32
Author: Sergio Pena <sergio.pena@cloudera.com>
Date:   Tue Aug 29 11:14:07 2017 -0500

    SENTRY-1895: Sentry should handle the case of multiple notifications with the same ID (Sergio Pena, reviewed by Na Li, Alexander Kolbasov)

 .../org/apache/sentry/hdfs/UniquePathsUpdate.java  | 62 +++++++++++++++++++++
 .../org/apache/sentry/hdfs/TestDeltaRetriever.java |  4 +-
 .../hdfs/TestSentryHDFSServiceProcessor.java       |  2 +-
 .../db/service/model/MSentryPathChange.java        | 27 ++++++---
 .../sentry/provider/db/service/model/package.jdo   | 14 ++++-
 .../service/persistent/DeltaTransactionBlock.java  |  6 +-
 .../db/service/persistent/SentryStore.java         | 13 +++--
 .../service/thrift/NotificationProcessor.java      | 64 +++++++++++-----------
 .../src/main/resources/008-SENTRY-1569.derby.sql   |  5 +-
 .../src/main/resources/008-SENTRY-1569.mysql.sql   |  9 ++-
 .../src/main/resources/008-SENTRY-1569.oracle.sql  |  7 ++-
 .../main/resources/008-SENTRY-1569.postgres.sql    |  7 ++-
 .../src/main/resources/sentry-db2-2.0.0.sql        |  7 ++-
 .../src/main/resources/sentry-derby-2.0.0.sql      |  6 +-
 .../src/main/resources/sentry-mysql-2.0.0.sql      |  7 ++-
 .../src/main/resources/sentry-oracle-2.0.0.sql     |  7 ++-
 .../src/main/resources/sentry-postgres-2.0.0.sql   |  7 ++-
 .../sentry-upgrade-db2-1.7.0-to-2.0.0.sql          |  5 +-
 .../provider/db/service/model/TestMSentryUtil.java | 12 ++--
 .../db/service/persistent/TestSentryStore.java     | 43 ++++++++-------
 .../sentry/service/thrift/TestHMSFollower.java     | 26 ++++-----
 .../service/thrift/TestNotificationProcessor.java  | 30 +++++-----
 22 files changed, 248 insertions(+), 122 deletions(-)

commit 19a70338abd63bac2124d3f09ca382257c28ea29
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu May 18 15:55:58 2017 +0100

    SENTRY-1235 - Some pom changes
     - Signed off by Alexander Kolbasov
    
    Commit reapplied by Sergio Pena.

 pom.xml                                         | 4 ++--
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml | 1 -
 sentry-tests/sentry-tests-sqoop/pom.xml         | 1 +
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 24c1db670a0af4d97b9552fdca91b8ed5da953c9
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Aug 28 17:11:19 2017 +0100

    SENTRY-1458 - Remove unused file from Kafka tests.
    
    Reviewed by akolb.

 .../tests/e2e/kafka/CustomPrincipalBuilder.java    | 47 ----------------------
 1 file changed, 47 deletions(-)

commit 8ee4f4b851b3bd62ba11552cfef4e4316b8cf093
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Aug 23 21:02:30 2017 -0700

    SENTRY-1822: Allow multiple Sentry reporters (ALex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../provider/db/service/thrift/SentryMetrics.java  | 117 +++++++++++++--------
 1 file changed, 71 insertions(+), 46 deletions(-)

commit c659a3e684df6ef8020be0da77d70429245aa368
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Aug 23 19:43:49 2017 -0700

    SENTRY-1898: Sentry no longer supports creating more than ~15 partitions at once (Na Li, reviewed by ALex Kolbasov)

 .../main/java/org/apache/sentry/provider/db/service/model/package.jdo   | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.derby.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.mysql.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.oracle.sql    | 2 +-
 .../sentry-provider-db/src/main/resources/008-SENTRY-1569.postgres.sql  | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-db2-2.0.0.sql          | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-derby-2.0.0.sql        | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-mysql-2.0.0.sql        | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-2.0.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-postgres-2.0.0.sql     | 2 +-
 .../src/main/resources/sentry-upgrade-db2-1.7.0-to-2.0.0.sql            | 2 +-
 11 files changed, 11 insertions(+), 11 deletions(-)

commit 201808de059b9cda38a34c3aefb4253b402b891d
Author: Alexander Kolbasov <akolb1@gmail.com>
Date:   Wed Aug 23 17:02:58 2017 -0700

    SENTRY-1892: Reduce memory consumption of HMSPath$Entry and TPathEntry (Misha Dmitriev, reviewed by Alex Kolbasov and Vadim Spector)

 .../sentry/hdfs/service/thrift/TPathEntry.java     |  76 +++++++--------
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 106 ++++++++++++++++-----
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  28 ++++--
 .../src/main/resources/sentry_hdfs_service.thrift  |   4 +-
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  13 +++
 5 files changed, 157 insertions(+), 70 deletions(-)

commit a41a1447b206abe2129a1656faf7d28e2b9d4176
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Aug 23 13:53:22 2017 -0700

    SENTRY-1853: Add the log level access mechanism (Donghui Xu, reviewed by Alex Kolbasov)

 .../db/service/thrift/LogLevelServlet.java         | 122 +++++++++++++++++++++
 .../db/service/thrift/SentryWebServer.java         |   7 +-
 .../service/thrift/TestSentryServerLogLevel.java   | 100 +++++++++++++++++
 3 files changed, 226 insertions(+), 3 deletions(-)

commit ebb94b1897e74fd4ce98b848845b441da6f99672
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jul 17 16:39:52 2017 -0800

    SENTRY-1897: Rename sentry property to provide the list of sentry servers (Vamsee Yarlagadda, Reviewed by: Na Li, Alexander Kolbasov)

 conf/sentry-site.xml.hive-client.example                            | 2 +-
 conf/sentry-site.xml.hive-client.template                           | 2 +-
 .../core/common/transport/SentryClientTransportConstants.java       | 4 ++--
 .../src/main/java/org/apache/sentry/hdfs/ServiceConstants.java      | 2 +-
 .../java/org/apache/sentry/service/thrift/ServiceConstants.java     | 2 +-
 .../java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java  | 6 +++---
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java   | 6 +++---
 7 files changed, 12 insertions(+), 12 deletions(-)

commit 5eae90ea99d7c43da2974c11549967bfa89f117a
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Aug 18 13:52:42 2017 -0700

    SENTRY-1890: HMSFollower keep getting full snapshot when HDFS is disabled. (Na Li, Reviewed by: Vamsee Yarlagadda)
    
    Change-Id: I10a4723edda0bb952129dbc4229c955fc96e5ada

 .../provider/db/service/persistent/SentryStore.java     | 17 ++++++++---------
 .../org/apache/sentry/service/thrift/HMSFollower.java   |  2 +-
 .../provider/db/service/persistent/TestSentryStore.java |  2 +-
 .../apache/sentry/service/thrift/TestHMSFollower.java   |  6 +++++-
 4 files changed, 15 insertions(+), 12 deletions(-)

commit 2fa149d19eff8f56414e916955b76a3c73135686
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Aug 18 11:09:20 2017 -0400

    SENTRY-1889: HMSFollower should log better detailed error message if it cannot connect to HMS (Sergio Pena via Vamsee Yarlagadda)

 .../org/apache/sentry/service/thrift/SentryHMSClient.java | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit 7bac9f4f979e7d5e06f55dc6a7c0714ee3655ee7
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Aug 16 14:32:57 2017 -0700

    SENTRY-1803: HMSFollower should handle the case of multiple notifications with the same ID (Sergio Pena via Vamsee Yarlagadda)

 .../sentry/provider/db/service/model/package.jdo   |  5 +-
 .../src/main/resources/008-SENTRY-1569.derby.sql   |  5 --
 .../src/main/resources/008-SENTRY-1569.mysql.sql   |  6 +--
 .../src/main/resources/008-SENTRY-1569.oracle.sql  |  6 +--
 .../main/resources/008-SENTRY-1569.postgres.sql    |  6 +--
 .../src/main/resources/sentry-db2-2.0.0.sql        |  6 +--
 .../src/main/resources/sentry-derby-2.0.0.sql      |  4 --
 .../src/main/resources/sentry-mysql-2.0.0.sql      |  6 +--
 .../src/main/resources/sentry-oracle-2.0.0.sql     |  6 +--
 .../src/main/resources/sentry-postgres-2.0.0.sql   |  6 +--
 .../sentry-upgrade-db2-1.7.0-to-2.0.0.sql          |  4 --
 .../db/service/persistent/TestSentryStore.java     | 56 ++++++++++++++++++++++
 12 files changed, 65 insertions(+), 51 deletions(-)

commit b2107fc164fedcfe8f7cb39088111a20b9fbb8c6
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Aug 14 16:42:33 2017 -0700

    SENTRY-1881: PrivilegeOperatePersistence throws wrong type of exceptions (Sergio Pena via Vamsee Yarlagadda)

 .../sqoop/authz/SentryAuthorizationValidator.java  | 11 ++-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  2 +-
 ...TestSqoopAuthorizationProviderGeneralCases.java |  8 +--
 .../sentry/core/common/BitFieldActionFactory.java  |  6 +-
 .../core/model/sqoop/SqoopActionFactory.java       | 17 ++---
 .../sentry/core/model/sqoop/TestSqoopAction.java   |  3 +-
 .../sentry/policy/common/CommonPrivilege.java      | 13 +++-
 .../persistent/PrivilegeOperatePersistence.java    | 78 +++++++++++-----------
 8 files changed, 79 insertions(+), 59 deletions(-)

commit 5842648ccd01e143571b6950ca50f0abbffada84
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Aug 14 12:25:29 2017 -0700

    SENTRY-1856: Persisting HMS snapshot and the notification-id to database in same transaction (Na Li via Vamsee Yarlagadda)

 .../db/service/persistent/SentryStore.java         | 11 +++-
 .../apache/sentry/service/thrift/HMSFollower.java  |  8 +--
 .../db/service/persistent/TestSentryStore.java     | 74 ++++++++++++++--------
 .../sentry/service/thrift/TestHMSFollower.java     | 22 ++++---
 4 files changed, 73 insertions(+), 42 deletions(-)

commit 4a1b78e712bd79f6095e2e7e9507e8d956b16fad
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Aug 14 12:12:53 2017 -0700

    SENTRY-1874: Do not require quiet HMS when taking initial HMS snapshot (Alexander Kolbasov via Vamsee Yarlagadda)

 .../service/thrift/FullUpdateInitializer.java      |   2 +-
 .../sentry/service/thrift/FullUpdateModifier.java  | 605 +++++++++++++++++++++
 .../apache/sentry/service/thrift/HMSFollower.java  |  19 +-
 .../sentry/service/thrift/SentryHMSClient.java     |  72 ++-
 .../service/thrift/TestFullUpdateModifier.java     | 453 +++++++++++++++
 5 files changed, 1125 insertions(+), 26 deletions(-)

commit 9681099b330eadc498aff4d368129179c793f923
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Aug 10 16:21:29 2017 +0100

    Exclude TooManyStaticImports from PMD ruleset

 build-tools/sentry-pmd-ruleset.xml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 92a183f663c16fc8daf806dcb4a0b264dc811376
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Aug 9 09:31:00 2017 +0100

    SENTRY-1873 - Upgrade PMD plugin and fix related issues
    Reviewed by Alexander Kolbasov.

 build-tools/sentry-pmd-ruleset.xml                 |  1 +
 pom.xml                                            |  4 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  3 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  9 +--
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  4 --
 .../policy/indexer/IndexerWildcardPrivilege.java   |  1 -
 .../service/persistent/DelegateSentryStore.java    |  1 -
 .../thrift/SentryGenericPolicyProcessor.java       |  1 -
 .../db/service/model/MAuthzPathsMapping.java       |  2 -
 .../db/service/persistent/SentryStore.java         | 18 -----
 .../db/service/thrift/SentryAdminServlet.java      |  1 -
 .../sentry/service/thrift/ServiceConstants.java    |  2 +-
 .../provider/db/service/model/TestMSentryUtil.java |  1 -
 .../TestHMSFollowerSentryStoreIntegration.java     | 36 ----------
 .../db/service/persistent/TestSentryStore.java     |  5 +-
 .../sentry/service/thrift/TestCounterWait.java     |  8 ++-
 .../sentry/service/thrift/TestHMSFollower.java     | 82 +++++++++++-----------
 .../component/SecureRealTimeGetComponent.java      | 18 ++---
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 55 +++++++--------
 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      | 33 ++++-----
 .../tests/e2e/hdfs/TestDbHdfsExtMaxGroups.java     |  1 -
 .../sentry/tests/e2e/hdfs/TestDbHdfsMaxGroups.java |  1 -
 .../hive/AbstractTestWithStaticConfiguration.java  |  2 +-
 .../e2e/hive/fs/TestHiveWarehouseOnExtFs.java      |  3 -
 .../TestSentryListenerSentryDeserializer.java      | 28 ++++----
 .../tests/e2e/tools/CreateSentryTestScaleData.java | 18 ++---
 26 files changed, 132 insertions(+), 206 deletions(-)

commit 1a97f5ab0c222cdb5bc33461e4f934b530462871
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Aug 7 17:10:50 2017 -0500

    SENTRY-1854: HMSFollower should handle notifications even if HDFS sync is disabled. (Na Li Reviewed by Vamsee Yarlagadda, Sergio Pena, kalyan kumar kalvagadda)

 .../service/persistent/DelegateSentryStore.java    |  1 +
 .../db/service/persistent/SentryStore.java         | 57 ++++++++-------
 .../db/service/thrift/SentryAdminServlet.java      |  1 +
 .../apache/sentry/service/thrift/HMSFollower.java  |  9 ++-
 .../service/thrift/NotificationProcessor.java      | 66 +++++++++++++----
 .../sentry/service/thrift/SentryService.java       | 14 ++--
 .../sentry/service/thrift/SentryServiceUtil.java   | 67 +++++++++++++++--
 .../TestHMSFollowerSentryStoreIntegration.java     | 13 +---
 .../db/service/persistent/TestSentryStore.java     | 74 +++++++++++++++++++
 .../persistent/TestSentryStoreImportExport.java    |  3 +
 .../db/service/persistent/TestSentryVersion.java   |  6 ++
 .../sentry/service/thrift/TestHMSFollower.java     | 83 ++++++++++++++++++++++
 .../service/thrift/TestNotificationProcessor.java  | 20 ++++++
 13 files changed, 350 insertions(+), 64 deletions(-)

commit 67d64d0d57ebf108b2be62b674dfac89aaf8d0c9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Aug 3 09:07:33 2017 -0500

    SENTRY-1847: Integrate sentry with Hive 2.0.0. (kalyan kumar kalvagadda reviewed by Colm O hEigeartaigh)

 .../json/SentryJSONAlterPartitionMessage.java      |   7 +-
 .../json/SentryJSONMessageDeserializer.java        |  16 ++++
 .../messaging/json/SentryJSONMessageFactory.java   | 101 +++++++++------------
 .../messaging/json/SentryJSONMessageFactory.java   |   4 +
 .../authorizer/DefaultSentryAccessController.java  |   9 +-
 .../v2/metastore/MetastoreAuthzBindingBaseV2.java  |  22 +++--
 .../SentryMetastorePostEventListenerBaseV2.java    |  15 ++-
 .../sentry/service/thrift/TestHMSFollower.java     |   6 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   5 -
 9 files changed, 102 insertions(+), 83 deletions(-)

commit a68386e3a2af834b7679129c76a168c5402727af
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Aug 2 13:11:38 2017 -0500

    SENTRY-1843: Fork sentry-binding-hive-follower package to support Hive 2.x,  (kalyan kumar kalvagadda reviewed by Colm O hEigeartaigh)

 sentry-binding/pom.xml                             |   3 +-
 .../sentry-binding-hive-follower-v2/pom.xml        |  71 ++++++
 .../json/SentryJSONAddPartitionMessage.java        |  48 ++++
 .../json/SentryJSONAlterPartitionMessage.java      |  66 ++++++
 .../json/SentryJSONAlterTableMessage.java          |  54 +++++
 .../json/SentryJSONCreateDatabaseMessage.java      |  44 ++++
 .../json/SentryJSONCreateTableMessage.java         |  44 ++++
 .../json/SentryJSONDropDatabaseMessage.java        |  44 ++++
 .../json/SentryJSONDropPartitionMessage.java       |  51 +++++
 .../messaging/json/SentryJSONDropTableMessage.java |  45 ++++
 .../json/SentryJSONMessageDeserializer.java        | 138 +++++++++++
 .../messaging/json/SentryJSONMessageFactory.java   | 161 +++++++++++++
 .../json/SentryJSONAddPartitionMessage.java        |  43 ++--
 .../json/SentryJSONAlterPartitionMessage.java      |  66 +++---
 .../json/SentryJSONAlterTableMessage.java          |  59 ++---
 .../json/SentryJSONCreateDatabaseMessage.java      |  32 +--
 .../json/SentryJSONCreateTableMessage.java         |  33 ++-
 .../json/SentryJSONDropDatabaseMessage.java        |  34 +--
 .../json/SentryJSONDropPartitionMessage.java       |  47 ++--
 .../messaging/json/SentryJSONDropTableMessage.java |  32 +--
 .../json/SentryJSONMessageDeserializer.java        | 187 ++++++++-------
 .../messaging/json/SentryJSONMessageFactory.java   | 251 +++++++++++----------
 sentry-provider/sentry-provider-db/pom.xml         |  33 ++-
 23 files changed, 1187 insertions(+), 399 deletions(-)

commit b19cb01b4df53a4aa2d1bc269ce3e24a8b265ba9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 31 06:36:05 2017 -0500

    SENTRY-1839: Fork files from sentry-binding-hive-common package to sentry-binding-hive and sentry-binding-hive-v2 packages. (kalyan kumar kalvagadda reviewed by Colm O hEigeartaigh)

 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   | 162 ++++
 .../binding/hive/authz/SentryConfigTool.java       |   4 +-
 .../hive/v2/HiveAuthzBindingHookBaseV2.java}       |   6 +-
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    |   4 +-
 .../hive/v2/HiveAuthzBindingSessionHookV2.java     |   4 +-
 .../binding/hive/v2/SentryAuthorizerFactory.java   |   4 +-
 .../v2/metastore/AuthorizingObjectStoreBaseV2.java | 412 ++++++++++
 .../v2/metastore/AuthorizingObjectStoreV2.java     |   6 +-
 .../v2/metastore/MetastoreAuthzBindingBaseV2.java  | 453 +++++++++++
 .../hive/v2/metastore/MetastoreAuthzBindingV2.java |   4 +-
 .../v2/metastore/SentryHiveMetaStoreClientV2.java  | 161 ++++
 .../v2/metastore/SentryMetaStoreFilterHook.java    | 201 +++++
 .../SentryMetastorePostEventListenerBaseV2.java    | 409 ++++++++++
 .../SentryMetastorePostEventListenerV2.java        |   4 +-
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   |  15 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   2 +-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   1 +
 .../binding/hive/HiveAuthzBindingSessionHook.java  |   2 +-
 .../hive/authz/HiveAuthzBindingHookBase.java       | 880 +++++++++++++++++++++
 .../binding/hive/authz/SentryConfigTool.java       | 642 +++++++++++++++
 .../binding/metastore/AuthorizingObjectStore.java  |   2 +-
 .../metastore/AuthorizingObjectStoreBase.java      |  22 +-
 .../metastore/MetastoreAuthzBindingBase.java       |  24 +-
 .../metastore/SentryHiveMetaStoreClient.java       |  10 +-
 .../metastore/SentryMetaStoreFilterHook.java       |  12 +-
 .../SentryMetastorePostEventListenerBase.java      |  10 +-
 .../org/apache/sentry/binding/hive/TestURI.java    |   1 +
 .../tests/e2e/minisentry/InternalSentrySrv.java    |   1 -
 28 files changed, 3387 insertions(+), 71 deletions(-)

commit 3965d17a3d4d228c4c066253cad1abf435cb68b0
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Sat Jul 29 10:32:26 2017 +0100

    SENTRY-1870 - Update 1.8.0 NOTICE.txt file to reflect 2017 copyright. Thanks to Sergio Pena.

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6b0b42dbb0a1111d10cbed0d86d3aad510d5583
Merge: c2f6fa60 b7e4906a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jul 28 19:05:06 2017 +0200

    Merge remote-tracking branch 'origin/master' into sentry-ha-redesign

commit c2f6fa609cb73416722d96447d955f2e399e93f7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Jul 27 19:55:30 2017 +0200

    SENTRY-1869: Try to use pool with idle connections first (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../core/common/transport/SentryTransportPool.java | 60 ++++++++++++++--------
 1 file changed, 40 insertions(+), 20 deletions(-)

commit 74e3913d72dbffc34b7886c9ea76427dc11bf98d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Jul 27 19:48:27 2017 +0200

    SENTRY-1868: SentryStore should set loadResultsAtCommit to false when query result isn't needed (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../db/service/persistent/SentryStore.java         | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit b7e4906a013154f9d37d411a53ddeff7013f22e6
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jul 26 13:37:54 2017 -0500

    SENTRY-1860: Update CHANGELOG on master to reflect 1.8.0 changes (Sergio Pea, Reviewed by Kalyan Kalvagadda)

 CHANGELOG.txt | 298 +++++++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 253 insertions(+), 45 deletions(-)

commit 04e30c62186e580f517495257674e57fdfebd675
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 26 17:31:22 2017 +0100

    SENTRY-1860 - Update CHANGELOG on master to reflect 1.8.0 changes. Thanks to Sergio Pena.

 CHANGELOG.txt | 298 +++++++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 253 insertions(+), 45 deletions(-)

commit de7698b48077e7b6e07f41f7ee793982e1411771
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jul 25 23:40:04 2017 +0200

    SENTRY-1755: Add HMSFollower per-operation metrics (Alex Kolbasov, reviewed by Na Li, Vadim Spector, Brian Towles)

 .../service/thrift/NotificationProcessor.java      | 73 +++++++++++++---------
 1 file changed, 44 insertions(+), 29 deletions(-)

commit 66686420bb6fbca4c8922c4b502266da1e6551c1
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jul 24 21:25:28 2017 +0200

    SENTRY-1825: Dropping a Hive database/table doesn't cleanup the permissions associated with it (Na Li, reviewed by Alex Kolbasov)

 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  |  27 +-
 .../thrift/HiveSimpleConnectionFactory.java        |   2 +-
 .../service/thrift/NotificationProcessor.java      |   5 +
 .../TestHMSFollowerSentryStoreIntegration.java     | 304 +++++++++++++++++++++
 .../sentry/service/thrift/TestHMSFollower.java     |  66 ++++-
 6 files changed, 395 insertions(+), 14 deletions(-)

commit b7a952cac04fb87cf58c91ed8fe421beb3daa43d
Author: Donghui Xu <xu.donghui@zte.com.cn>
Date:   Mon Jul 24 15:25:35 2017 +0800

    SENTRY-1836 - Add sentry web service config in service template
     - Reviewed by: Dapeng Sun.

 conf/sentry-site.xml.service.template | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit b6239b2bad38399d356f3dccb703e4d80250bdb2
Author: Donghui Xu <xu.donghui@zte.com.cn>
Date:   Mon Jul 24 15:21:12 2017 +0800

    SENTRY-1844 - When setting web authentication type to none, sentry fails to start
     - Reviewed by: Dapeng Sun.

 .../db/service/thrift/SentryWebServer.java         |  2 +-
 .../TestSentryWebServiceForAuthTypeNone.java       | 64 ++++++++++++++++++++++
 2 files changed, 65 insertions(+), 1 deletion(-)

commit ad7837f92dc0b8dbb98753409a64637b640629fa
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Jul 20 19:44:11 2017 +0200

    SENTRY-1827: Minimize TPathsDump thrift message used in HDFS sync (Misha Dmitriev, reviewed by Alex Kolbasov)

 .../sentry/hdfs/service/thrift/TPathsDump.java     | 193 +++++++++++++++++++--
 .../org/apache/sentry/hdfs/AuthzPathsDumper.java   |  16 +-
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     | 178 +++++++++++++++++--
 .../java/org/apache/sentry/hdfs/Updateable.java    |   9 -
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  14 +-
 .../src/main/resources/sentry_hdfs_service.thrift  |   1 +
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  63 +++++--
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |   4 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |   5 -
 .../org/apache/sentry/hdfs/PathImageRetriever.java |   3 +-
 10 files changed, 413 insertions(+), 73 deletions(-)

commit ca315fe971d32a9ca87183746c9dd1744a76e8d4
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Jul 20 19:37:28 2017 +0200

    SENTRY-1760: HMSFollower should detect when a full snapshot from HMS is required (Sergio Pena, reviewed by Alex Kolbasov, Brian Towels)

 .../apache/sentry/service/thrift/HMSFollower.java  | 118 +++++++++++++++--
 .../sentry/service/thrift/SentryHMSClient.java     |  38 ++++--
 .../sentry/service/thrift/TestHMSFollower.java     | 146 +++++++++++++++++++++
 3 files changed, 278 insertions(+), 24 deletions(-)

commit eed5383a47209c5010843d63165a26bfb99244fb
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 19 13:54:22 2017 +0100

    SENTRY-1846 - Use a consistent configuration variable for the sentry provider property
     - Reviewed by Sergio Pena, Brian Towles, Na Li.

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit bcb7ffeb00b24f0e5fbfefb7d167f17278dc39a9
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 19 13:54:22 2017 +0100

    SENTRY-1846 - Use a consistent configuration variable for the sentry provider property
     - Reviewed by Sergio Pena, Brian Towles, Na Li.

 conf/sentry-site.xml.hive-client.template          |  2 +-
 conf/sentry-site.xml.solr-client.example           |  2 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 41 ++++++++++++++--------
 .../authorizer/DefaultSentryAccessController.java  |  2 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    | 29 +++++++++++++--
 5 files changed, 56 insertions(+), 20 deletions(-)

commit adbf1ae832d853bb4392ea5af48d734907eb725d
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 19 13:54:22 2017 +0100

    SENTRY-1846 - Use a consistent configuration variable for the sentry provider property
     - Reviewed by Sergio Pena, Brian Towles, Na Li.

 conf/sentry-site.xml.hive-client.template          |  2 +-
 conf/sentry-site.xml.solr-client.example           |  2 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 45 +++++++++++++++-------
 .../authorizer/DefaultSentryAccessController.java  |  2 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    | 29 ++++++++++++--
 5 files changed, 60 insertions(+), 20 deletions(-)

commit 5b7cccccf245252e1f972f360e3fba294b102a01
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jul 18 18:23:39 2017 -0500

    SENTRY-1849: Fix the pom file to use appropriate hive dependencies based on hive-authz profile (kalyan kumar kalvagadda Reviewed by: Colm O hEigeartaigh, Sergio Pena)

 pom.xml                                            | 304 ++++++++++++++-------
 sentry-binding/sentry-binding-hive-common/pom.xml  |   2 +
 sentry-binding/sentry-binding-hive-conf/pom.xml    |   2 +
 .../sentry-binding-hive-follower/pom.xml           |   1 +
 sentry-binding/sentry-binding-hive-v2/pom.xml      |  12 +-
 sentry-binding/sentry-binding-hive/pom.xml         |   2 +
 sentry-hdfs/sentry-hdfs-common/pom.xml             |   1 +
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |   4 -
 sentry-provider/sentry-provider-db/pom.xml         |  29 +-
 .../service/thrift/NotificationProcessor.java      |   2 -
 sentry-tests/sentry-tests-hive-v2/pom.xml          |  26 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  12 +
 12 files changed, 257 insertions(+), 140 deletions(-)

commit 073b9e9f8c1d6a8423c4d29410cc1e0ffa31c8e5
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 19 11:25:40 2017 +0100

    SENTRY-1845 - LOAD + OVERWRITE not supported in Hive v2. plugin
     - Reviewed by Na Li, Brian Towles, Sergio Pena.

 .../binding/hive/v2/util/SimpleSemanticAnalyzer.java       | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 0659a2a8b3c9ea9dfdea5d8c387d600c473a78d9
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jul 19 11:25:40 2017 +0100

    SENTRY-1845 - LOAD + OVERWRITE not supported in Hive v2. plugin
     - Reviewed by Na Li, Brian Towles, Sergio Pena.

 .../binding/hive/v2/util/SimpleSemanticAnalyzer.java       | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 4cdb506c15ab393cc15c0516032010cc5c340b50
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Tue Jul 18 09:29:52 2017 -0500

    SENTRY-1852: Refactor HMSFollower without renaming files (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  36 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MSentryHmsNotification.java   |   4 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |   5 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 706 +++++----------------
 .../service/thrift/NotificationProcessor.java      | 569 +++++++++++++----
 .../sentry/service/thrift/SentryHMSClient.java     | 244 +++++++
 .../sentry/service/thrift/SentryService.java       |   3 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../db/service/persistent/TestSentryStore.java     |   1 -
 .../sentry/service/thrift/TestHMSFollower.java     | 348 +++++++---
 .../service/thrift/TestNotificationProcessor.java  | 465 ++++++++++++++
 .../sentry/service/thrift/TestSentryHMSClient.java | 469 ++++++++++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   2 +-
 17 files changed, 2122 insertions(+), 797 deletions(-)

commit 07d3ec17013e17c45690410f4c2169452a48fc06
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 17 17:20:52 2017 -0500

    SENTRY-1851: Revert "SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)"
    
    This reverts commit 024d99de2663b6bdb741498f03862cd9337d9ad3.

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 641 +++++++++++++++++++++
 .../apache/sentry/service/thrift/HmsFollower.java  | 275 ---------
 .../service/thrift/NotificationProcessor.java      | 571 ++++--------------
 .../sentry/service/thrift/SentryHmsClient.java     | 244 --------
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 +
 .../{TestHmsFollower.java => TestHMSFollower.java} | 348 ++++-------
 .../service/thrift/TestNotificationProcessor.java  | 465 ---------------
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 ---------------
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 20 files changed, 921 insertions(+), 2247 deletions(-)

commit f2ac38363c5dfef70732a50f8378079465fad0ad
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 17 11:58:19 2017 -0500

    SENTRY-1834: Fix build failures when hive-authz2 profile is enabled (kalyan kumar kalvagadda reviewed by Colm O hEigeartaigh)

 .../authorizer/DefaultSentryAccessController.java  | 46 +++++++++-------------
 sentry-tests/pom.xml                               |  3 ++
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  8 ++--
 3 files changed, 25 insertions(+), 32 deletions(-)

commit a656d39f0df03d22145db04ae593bf7474da3fd8
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Jul 17 17:57:43 2017 +0100

    SENTRY-1850 - Duplicate dependency in the sentry-binding-hive pom
     - Reviewed by Na Li.

 sentry-binding/sentry-binding-hive/pom.xml | 5 -----
 1 file changed, 5 deletions(-)

commit 3112d2b619888c900a5e1e1f43e6d1e4d07cbea0
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Jul 14 16:57:37 2017 +0100

    Fixing hard-coded project version

 sentry-binding/sentry-binding-hive-common/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 024d99de2663b6bdb741498f03862cd9337d9ad3
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 13 19:57:03 2017 -0500

    SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 641 ---------------------
 .../apache/sentry/service/thrift/HmsFollower.java  | 275 +++++++++
 .../service/thrift/NotificationProcessor.java      | 571 ++++++++++++++----
 .../sentry/service/thrift/SentryHmsClient.java     | 244 ++++++++
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 -
 .../{TestHMSFollower.java => TestHmsFollower.java} | 348 +++++++----
 .../service/thrift/TestNotificationProcessor.java  | 465 +++++++++++++++
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 +++++++++++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 20 files changed, 2247 insertions(+), 921 deletions(-)

commit 3a7b54fab53d86b713ae9f1f4169fcdde3b254f8
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 13 19:54:35 2017 -0500

    Revert "SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)"
    
    This reverts commit 8b897d8ee3554e7e799f6d7e68b44088efb801f9.

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 714 ++++++++++++++++-----
 .../service/thrift/NotificationProcessor.java      | 571 ++++------------
 .../sentry/service/thrift/SentryHmsClient.java     | 244 -------
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 +
 .../sentry/service/thrift/TestHMSFollower.java     | 348 +++-------
 .../service/thrift/TestNotificationProcessor.java  | 465 --------------
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 --------------
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 19 files changed, 820 insertions(+), 2146 deletions(-)

commit 8b897d8ee3554e7e799f6d7e68b44088efb801f9
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 13 19:04:53 2017 -0500

    SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 714 +++++----------------
 .../service/thrift/NotificationProcessor.java      | 571 ++++++++++++----
 .../sentry/service/thrift/SentryHmsClient.java     | 244 +++++++
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 -
 .../sentry/service/thrift/TestHMSFollower.java     | 348 +++++++---
 .../service/thrift/TestNotificationProcessor.java  | 465 ++++++++++++++
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 ++++++++++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 19 files changed, 2146 insertions(+), 820 deletions(-)

commit c56f48cc62e5b346d6c8432ccfa07d7f9fa4f110
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 13 18:57:20 2017 -0500

    Revert "SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)"
    
    This reverts commit e5bb466efc621318c69f4a929dea3e39a77962af.

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 714 ++++++++++++++++-----
 .../service/thrift/NotificationProcessor.java      | 571 ++++------------
 .../sentry/service/thrift/SentryHmsClient.java     | 244 -------
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 +
 .../sentry/service/thrift/TestHMSFollower.java     | 348 +++-------
 .../service/thrift/TestNotificationProcessor.java  | 465 --------------
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 --------------
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 19 files changed, 820 insertions(+), 2146 deletions(-)

commit e5bb466efc621318c69f4a929dea3e39a77962af
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Thu Jul 13 14:50:21 2017 -0500

    SENTRY-1769 Refactor HMSFollower Class (Kalyan Kumar Kalvagadda reviewed by Vamsee Yarlagadda, Na Li, Sergio Pena and  Alexander Kolbasov)

 .../org/apache/sentry/hdfs/PathImageRetriever.java |  13 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  40 +-
 .../provider/db/SentryPolicyStorePlugin.java       |   4 +-
 .../db/service/model/MAuthzPathsSnapshotId.java    |   2 +-
 .../db/service/model/MSentryHmsNotification.java   |   8 +-
 .../provider/db/service/persistent/PathsImage.java |  10 +-
 .../db/service/persistent/SentryStore.java         |  13 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 714 +++++----------------
 .../service/thrift/NotificationProcessor.java      | 571 ++++++++++++----
 .../sentry/service/thrift/SentryHmsClient.java     | 244 +++++++
 .../sentry/service/thrift/SentryService.java       |  17 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  35 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../db/service/persistent/TestSentryStore.java     |   1 -
 .../sentry/service/thrift/TestHMSFollower.java     | 348 +++++++---
 .../service/thrift/TestNotificationProcessor.java  | 465 ++++++++++++++
 .../sentry/service/thrift/TestSentryHmsClient.java | 470 ++++++++++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   4 +-
 19 files changed, 2146 insertions(+), 820 deletions(-)

commit 50a127bf39cccf8a0e5232b0182aa6c35e179980
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Jul 13 17:27:57 2017 +0100

    SENTRY-418 - org.mortbay.log package accidentally picked up in a few test classes
     - Reviewed by: Na Li.

 .../sentry/tests/e2e/metastore/SentryPolicyProviderForDb.java       | 6 ++++--
 .../sentry/tests/e2e/metastore/SentryPolicyProviderForDb.java       | 6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 2664dbb934a8efcd56a2ebdd16528532c6da967a
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Jul 13 17:27:57 2017 +0100

    SENTRY-418 - org.mortbay.log package accidentally picked up in a few test classes
     - Reviewed by: Na Li.

 .../sentry/tests/e2e/metastore/SentryPolicyProviderForDb.java       | 6 ++++--
 .../sentry/tests/e2e/metastore/SentryPolicyProviderForDb.java       | 6 ++++--
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 72c21872a8c025a9963fd4a3c5439ff277b3d7a7
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Jul 13 15:07:05 2017 +0100

    Fixing hive v2 systests compilation failure

 .../test/java/org/apache/sentry/tests/e2e/hive/PrivilegeResultSet.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bc91c38dee1b44ea0dbb43628eb5e6fd322570f3
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Jul 13 15:07:05 2017 +0100

    Fixing hive v2 systests compilation failure

 .../test/java/org/apache/sentry/tests/e2e/hive/PrivilegeResultSet.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e4936efdc4cb1f7bcffd4c0b23835088e81f1af3
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jul 12 21:37:06 2017 +0200

    SENTRY-1697: Deprecate feature flag for enabling notification log (Alex Kolbasov, reviewed by Vamsee Yarlagadda, Kalyan Kalvagadda and Na Li)

 .../java/org/apache/sentry/service/thrift/SentryService.java   | 10 +---------
 .../org/apache/sentry/service/thrift/ServiceConstants.java     |  2 --
 .../apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java  |  1 -
 3 files changed, 1 insertion(+), 12 deletions(-)

commit 0c7256686ff2d93da37821278547b00c14feb787
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jul 12 21:14:16 2017 +0200

    SENTRY-1798: Provide names for HMSFollower and cleaner threads (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../sentry/hdfs/SentryAuthorizationInfo.java       | 43 +++++++++----------
 .../provider/db/service/persistent/HAContext.java  | 20 ++++++---
 .../service/thrift/FullUpdateInitializer.java      | 12 +++++-
 .../service/thrift/SentryKerberosContext.java      | 15 ++++---
 .../sentry/service/thrift/SentryService.java       | 49 +++++++++++++---------
 5 files changed, 86 insertions(+), 53 deletions(-)

commit d4b64faa307aa17776ac6b5011f0a580b12b8074
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Wed Jul 12 13:53:23 2017 -0500

    SENTRY-1762: notification id's in SENTRY_HMS_NOTIFICATION_ID should be purged periodically (kalyan kumar kalvagadda, Reviewed by Na Li, Alexander Kolbasov, Sergio Pena)

 .../db/service/persistent/SentryStore.java         | 82 +++++++++++++++++++++-
 .../sentry/service/thrift/SentryService.java       |  1 +
 .../sentry/service/thrift/ServiceConstants.java    |  6 ++
 .../db/service/persistent/TestSentryStore.java     | 36 +++++++++-
 4 files changed, 123 insertions(+), 2 deletions(-)

commit 2fcd69aa2ed6b0f80c5c0e91a6a84ce24459a336
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jul 12 19:45:52 2017 +0200

    SENTRY-1696: Expose time spent creating the initial snapshot as a metric (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../service/thrift/FullUpdateInitializer.java      | 24 +++++++++++++++++++++-
 .../apache/sentry/service/thrift/HMSFollower.java  | 17 ++++++++++++++-
 2 files changed, 39 insertions(+), 2 deletions(-)

commit 03705977464e8ff596aa6652b798cada4c0a5a72
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jul 11 23:38:06 2017 +0200

    SENTRY-1833: Expose current set of IDs as Sentry metrics (Alex Kolbasov, reviewed by: Na Li, Vamsee Yarlagadda, Kalyan Kalvagadda)

 .../db/service/persistent/SentryStore.java         | 122 ++++++++++++++++-----
 .../provider/db/service/thrift/SentryMetrics.java  |   9 +-
 2 files changed, 104 insertions(+), 27 deletions(-)

commit 747c226013f31d02e623b82902f2bc62a87fc4e9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jul 11 22:20:09 2017 +0200

    SENTRY-1630: out of sequence error in HMSFollower (Alex Kolbasov, reviewed by Vamsee Yarlagadda and Na Li)

 .../service/thrift}/FullUpdateInitializer.java     | 166 ++++++++++++--------
 .../apache/sentry/service/thrift/HMSClient.java    |  56 +++++++
 .../apache/sentry/service/thrift/HMSFollower.java  | 168 +++++----------------
 .../service/thrift/HiveConnectionFactory.java      |  35 +++++
 .../thrift/HiveSimpleConnectionFactory.java        | 129 ++++++++++++++++
 .../service/thrift/SentryKerberosContext.java      |   6 +-
 .../sentry/service/thrift/SentryService.java       |  21 ++-
 .../service/thrift}/TestFullUpdateInitializer.java |  42 +++++-
 8 files changed, 413 insertions(+), 210 deletions(-)

commit 5c1d559930c3baaa943e2a220e8c89b1f7b51118
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jul 11 20:00:11 2017 +0200

    SENTRY-1817: Deprecate SENTRY_HA_ENABLED and all tests that use it (Na Li, reviewed by Alex Kolbasov and Sergio Pena)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |  14 --
 .../sentry/service/thrift/ServiceConstants.java    |   3 -
 .../TestSentryServerForPoolWithoutKerberos.java    |   1 -
 .../TestSentryServiceForPoolWithKerberos.java      |   1 -
 .../thrift/SentryServiceIntegrationBase.java       |  53 +------
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  15 +-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |   1 -
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  | 171 ---------------------
 .../hive/AbstractTestWithStaticConfiguration.java  |  14 +-
 .../tests/e2e/minisentry/InternalSentrySrv.java    |  34 ----
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  14 --
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  15 +-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |   1 -
 .../apache/sentry/tests/e2e/ha/TestFailover.java   |  49 ------
 .../hive/AbstractTestWithStaticConfiguration.java  |  14 +-
 .../tests/e2e/minisentry/InternalSentrySrv.java    |  36 +----
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  14 --
 17 files changed, 9 insertions(+), 441 deletions(-)

commit b9eca2144cb78062294f995a36f5f56d4c516ca5
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jul 11 01:02:34 2017 +0200

    SENTRY-1815: Send new HMS snapshots to HDFS requesting an old generation ID (Sergio Pena, reviewed by Alex Kolbasov and Na Li)

 .../org/apache/sentry/hdfs/ImageRetriever.java     |   5 +
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  15 ++-
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |   6 +
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   9 ++
 .../java/org/apache/sentry/hdfs/Updateable.java    |  17 +++
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  22 +++-
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  40 +++---
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |   3 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  15 ++-
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |  64 +++++++--
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  10 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |   5 +
 .../sentry/hdfs/SentryHDFSServiceClient.java       |  13 ++
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |  10 +-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  19 +--
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  89 ++++++-------
 .../apache/sentry/hdfs/TestDBUpdateForwarder.java  | 143 ++++++++++++++++++++
 .../org/apache/sentry/hdfs/TestDeltaRetriever.java |  74 +++++++++++
 .../org/apache/sentry/hdfs/TestImageRetriever.java |  99 ++++++++++++++
 .../hdfs/TestSentryHDFSServiceProcessor.java       | 146 +++++++++++++++++++++
 .../provider/db/service/persistent/PathsImage.java |  12 +-
 .../db/service/persistent/PermissionsImage.java    |   4 +-
 .../db/service/persistent/SentryStore.java         |  23 +++-
 .../db/service/persistent/TestSentryStore.java     |   7 +-
 24 files changed, 740 insertions(+), 110 deletions(-)

commit c8d0f24a23186eac015292214d025ac7d9e9e415
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Mon Jul 10 17:46:53 2017 -0500

    SENTRY-1828 Rename version in sentry-ha-redesign branch to 2.0.0-SNAPSHOT(kalyan kumar kalvagadda, Reviewed by Na Li, Alexander Kolbasov)

 pom.xml                                                        |  2 +-
 sentry-binding/pom.xml                                         |  2 +-
 sentry-binding/sentry-binding-hive-common/pom.xml              |  4 ++--
 sentry-binding/sentry-binding-hive-conf/pom.xml                |  2 +-
 sentry-binding/sentry-binding-hive-follower/pom.xml            |  2 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml                  |  2 +-
 sentry-binding/sentry-binding-hive/pom.xml                     |  2 +-
 sentry-binding/sentry-binding-kafka/pom.xml                    |  2 +-
 sentry-binding/sentry-binding-solr/pom.xml                     |  2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml                    |  2 +-
 sentry-core/pom.xml                                            |  2 +-
 sentry-core/sentry-core-common/pom.xml                         |  2 +-
 sentry-core/sentry-core-model-db/pom.xml                       |  2 +-
 sentry-core/sentry-core-model-indexer/pom.xml                  |  2 +-
 sentry-core/sentry-core-model-kafka/pom.xml                    |  2 +-
 sentry-core/sentry-core-model-search/pom.xml                   |  2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml                    |  2 +-
 sentry-dist/pom.xml                                            |  2 +-
 sentry-hdfs/pom.xml                                            |  2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml                         |  2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml                           |  2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml                |  4 ++--
 sentry-hdfs/sentry-hdfs-service/pom.xml                        |  2 +-
 sentry-policy/pom.xml                                          |  2 +-
 sentry-policy/sentry-policy-common/pom.xml                     |  2 +-
 sentry-policy/sentry-policy-engine/pom.xml                     |  2 +-
 sentry-policy/sentry-policy-indexer/pom.xml                    |  2 +-
 sentry-provider/pom.xml                                        |  2 +-
 sentry-provider/sentry-provider-cache/pom.xml                  |  2 +-
 sentry-provider/sentry-provider-common/pom.xml                 |  2 +-
 sentry-provider/sentry-provider-db/pom.xml                     | 10 +++++-----
 .../provider/db/service/persistent/SentryStoreSchemaInfo.java  |  2 +-
 .../resources/{sentry-db2-1.8.0.sql => sentry-db2-2.0.0.sql}   |  2 +-
 .../{sentry-derby-1.8.0.sql => sentry-derby-2.0.0.sql}         |  2 +-
 .../{sentry-mysql-1.8.0.sql => sentry-mysql-2.0.0.sql}         |  2 +-
 .../{sentry-oracle-1.8.0.sql => sentry-oracle-2.0.0.sql}       |  2 +-
 .../{sentry-postgres-1.8.0.sql => sentry-postgres-2.0.0.sql}   |  2 +-
 ....7.0-to-1.8.0.sql => sentry-upgrade-db2-1.7.0-to-2.0.0.sql} |  2 +-
 ....0-to-1.8.0.sql => sentry-upgrade-derby-1.7.0-to-2.0.0.sql} |  2 +-
 .../src/main/resources/sentry-upgrade-mysql-1.7.0-to-1.8.0.sql |  9 ---------
 .../src/main/resources/sentry-upgrade-mysql-1.7.0-to-2.0.0.sql |  9 +++++++++
 .../main/resources/sentry-upgrade-oracle-1.7.0-to-1.8.0.sql    |  9 ---------
 .../main/resources/sentry-upgrade-oracle-1.7.0-to-2.0.0.sql    |  9 +++++++++
 .../main/resources/sentry-upgrade-postgres-1.7.0-to-1.8.0.sql  |  9 ---------
 .../main/resources/sentry-upgrade-postgres-1.7.0-to-2.0.0.sql  |  9 +++++++++
 .../sentry-provider-db/src/main/resources/upgrade.order.db2    |  2 +-
 .../sentry-provider-db/src/main/resources/upgrade.order.derby  |  2 +-
 .../sentry-provider-db/src/main/resources/upgrade.order.mysql  |  2 +-
 .../sentry-provider-db/src/main/resources/upgrade.order.oracle |  2 +-
 .../src/main/resources/upgrade.order.postgres                  |  2 +-
 .../sentry-provider-db/src/main/webapp/SentryService.html      |  2 +-
 sentry-provider/sentry-provider-file/pom.xml                   |  2 +-
 sentry-solr/pom.xml                                            |  2 +-
 sentry-solr/solr-sentry-core/pom.xml                           |  2 +-
 sentry-solr/solr-sentry-handlers/pom.xml                       |  2 +-
 sentry-tests/pom.xml                                           |  2 +-
 sentry-tests/sentry-tests-hive-v2/pom.xml                      |  2 +-
 sentry-tests/sentry-tests-hive/pom.xml                         |  2 +-
 sentry-tests/sentry-tests-kafka/pom.xml                        |  2 +-
 sentry-tests/sentry-tests-solr/pom.xml                         |  2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml                        |  2 +-
 61 files changed, 88 insertions(+), 88 deletions(-)

commit d9d5b4e49e18f8f6a6b20833196f990bd2acbf37
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jul 10 22:42:10 2017 +0200

    SENTRY-1827: Minimize TPathsDump thrift message used in HDFS sync (Misha Dmitriev, reviewed by Alex Kolbasov)

 .../sentry/hdfs/service/thrift/TPathsDump.java     | 193 +++++++++++++++++++--
 .../org/apache/sentry/hdfs/AuthzPathsDumper.java   |  16 +-
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     | 178 +++++++++++++++++--
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |   7 +-
 .../src/main/resources/sentry_hdfs_service.thrift  |   1 +
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  63 +++++--
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |   4 +-
 7 files changed, 410 insertions(+), 52 deletions(-)

commit b5fadbb1ef754aa3ce844f4c6df23deae5642695
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Sun Jul 9 21:09:30 2017 +0200

    SENTRY-1665: cross-site scripting vulnerability in ConfServlet (Brian Towles, reviewed by: Alex Kolbasov, Vamsee Yarlagadda and Na Li)

 .../org/apache/sentry/provider/db/service/thrift/ConfServlet.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1b3535ea45fee98691c00ede39fb2df4a6375c39
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jul 7 00:04:28 2017 +0200

    SENTRY-1665: cross-site scripting vulnerability in ConfServlet (Brian Towles, reviewed by: Alex Kolbasov, Vamsee Yarlagadda and Na Li)

 sentry-provider/sentry-provider-db/pom.xml                            | 4 ++++
 .../org/apache/sentry/provider/db/service/thrift/ConfServlet.java     | 4 +++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 6164b27502d6e2a243ad2e35444bbfa665e3a063
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Jun 30 09:40:40 2017 +0100

    SENTRY-1823 -  Fix the sentryShell script to support other types
     - Signed off by Alexander Kolbasov + Na Li.

 bin/sentryShell | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit 1e1499d8e5d553a5524394334d0eafa3795be7d0
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Fri Jun 30 09:40:40 2017 +0100

    SENTRY-1823 -  Fix the sentryShell script to support other types
     - Signed off by Alexander Kolbasov + Na Li.

 bin/sentryShell | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit a2892aa736666514b6ffdd14824ade7f097d9cf6
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Jun 29 15:01:15 2017 -0700

    SENTRY-1824: SentryStore may serialize transactions that rely on unique key (Na Li, reviewed by Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         | 32 +++++++++++++++++-----
 1 file changed, 25 insertions(+), 7 deletions(-)

commit f5b4a15763b5a181cb5fa89007b144a5a7ba4cfd
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 28 20:54:24 2017 -0700

    SENTRY-1820: Add JSON file reporter for Sentry metrics (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../provider/db/service/thrift/SentryMetrics.java  | 114 +++++++++++++++++++--
 .../sentry/service/thrift/SentryServiceUtil.java   |   2 +-
 .../sentry/service/thrift/ServiceConstants.java    |   5 +-
 3 files changed, 110 insertions(+), 11 deletions(-)

commit 4d7c4cedeef370a60dcfee1cc8a2907bc738e08e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 28 11:31:25 2017 -0700

    SENTRY-1821: Transactions could fail to commit to the database under load (Alex Kolbasov, reviewed by: Vamsee Yarlagadda ana Na Li)

 .../db/service/persistent/TransactionManager.java  | 140 ++++++++++++---------
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 2 files changed, 82 insertions(+), 60 deletions(-)

commit 79983e00bcda78a36cb855ccaa5d863250308abd
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jun 27 14:14:10 2017 -0700

    SENTRY-1814: Provide unit test for LeaderStatusMonitor (Alex Kolbasov, Reviewed by Vamsee Yarlagadda)

 .../provider/db/service/persistent/HAContext.java  |  21 ++-
 .../sentry/service/thrift/LeaderStatusMonitor.java |  25 ++-
 .../provider/db/service/thrift/TestActivator.java  |  45 -----
 .../service/thrift/TestLeaderStatusMonitor.java    | 201 +++++++++++++++++++++
 4 files changed, 243 insertions(+), 49 deletions(-)

commit 627469f314444fe52dfce20c07b49acfa1830edf
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jun 27 13:41:00 2017 -0700

    SENTRY-1781: Persist new HMS snapshots with a new generation ID (Sergio Pena, reviewed by Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         | 158 ++++++++++++++-------
 .../db/service/persistent/TestSentryStore.java     | 142 ++++++++++++++++++
 2 files changed, 249 insertions(+), 51 deletions(-)

commit 3105a1bfbf2134daa6394a09f9b380a2a521a79d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 23 16:07:16 2017 -0700

    SENTRY-1811: Optimize data structures used in HDFS sync (Misha Dmitriev, reviewed by Alex Kolbasov)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 107 ++++++++++++++-------
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  15 +--
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  16 +--
 3 files changed, 91 insertions(+), 47 deletions(-)

commit 8d53da5fbd70236728c69e3f2faada1cdc73cbb5
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 23 16:05:40 2017 -0700

    SENTRY-1811: Optimize data structures used in HDFS sync (Misha Dmitriev, reviewed by Alex Kolbasov)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 109 ++++++++++++++-------
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  15 +--
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  16 +--
 3 files changed, 91 insertions(+), 49 deletions(-)

commit efb2a059a7647d87dfec8242ff527146a6e8ef35
Author: Kalyan Kumar Kalvagadda <kkalyan@cloudera.com>
Date:   Fri Jun 23 10:54:16 2017 -0500

    SENTRY-1805 Define a DB schema for HMS generation IDs(Sergio Pena, Reviewed by Alexander Kolbasov, kalyan kumar kalvagadda)

 .../db/service/model/MAuthzPathsMapping.java       | 14 +++--
 .../db/service/model/MAuthzPathsSnapshotId.java    | 63 ++++++++++++++++++++++
 .../sentry/provider/db/service/model/package.jdo   |  9 ++++
 .../db/service/persistent/SentryStore.java         |  9 ++--
 .../src/main/resources/007-SENTRY-1365.derby.sql   |  3 +-
 .../src/main/resources/007-SENTRY-1365.mysql.sql   |  2 +-
 .../src/main/resources/007-SENTRY-1365.oracle.sql  |  3 +-
 .../main/resources/007-SENTRY-1365.postgres.sql    |  1 +
 .../src/main/resources/009-SENTRY-1805.derby.sql   |  8 +++
 .../src/main/resources/009-SENTRY-1805.mysql.sql   |  6 +++
 .../src/main/resources/009-SENTRY-1805.oracle.sql  |  8 +++
 .../main/resources/009-SENTRY-1805.postgres.sql    |  6 +++
 .../src/main/resources/sentry-db2-1.8.0.sql        | 16 +++++-
 .../src/main/resources/sentry-derby-1.8.0.sql      | 12 ++++-
 .../src/main/resources/sentry-mysql-1.8.0.sql      |  8 +++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 12 ++++-
 .../src/main/resources/sentry-postgres-1.8.0.sql   |  8 +++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 17 +++++-
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |  1 +
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |  1 +
 22 files changed, 195 insertions(+), 14 deletions(-)

commit c3e92f2f7e7361ee9f686b055949f85e63cbd96a
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jun 21 11:10:57 2017 +0100

    SENTRY-1809 - Use Apache Curator in the Kafka tests

 sentry-tests/sentry-tests-kafka/pom.xml            |  5 ++
 .../sentry/tests/e2e/kafka/EmbeddedZkServer.java   | 71 ----------------------
 .../sentry/tests/e2e/kafka/KafkaTestServer.java    | 13 ++--
 3 files changed, 11 insertions(+), 78 deletions(-)

commit 28f9610a8973e79dbf1faa0b0c06f1b930cc4ddf
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed Jun 21 11:10:57 2017 +0100

    SENTRY-1809 - Use Apache Curator in the Kafka tests

 sentry-tests/sentry-tests-kafka/pom.xml            |  5 ++
 .../sentry/tests/e2e/kafka/EmbeddedZkServer.java   | 71 ----------------------
 .../sentry/tests/e2e/kafka/KafkaTestServer.java    | 13 ++--
 3 files changed, 11 insertions(+), 78 deletions(-)

commit a785d29c9045842e8f9a502d7b102f5ece2ccf99
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jun 20 16:48:57 2017 -0700

    SENTRY-1806: Improve memory handling for HDFS sync (Alex Kolbasov, reviewed by Vamsee Yarlagadda, Misha Dmitriev, Kalyan Kalvagadda)

 .../exception/SentryHdfsServiceException.java      |   7 +-
 .../org/apache/sentry/hdfs/DeltaRetriever.java     |   8 +-
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  10 +-
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |  12 +--
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |   5 +-
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |  36 +++----
 .../org/apache/sentry/hdfs/PathDeltaRetriever.java |  17 ++--
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |   9 +-
 .../org/apache/sentry/hdfs/PermImageRetriever.java |   8 +-
 .../sentry/hdfs/SentryHDFSServiceClient.java       |  18 +++-
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |  28 ++++--
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    | 104 +++++++++++----------
 .../db/service/model/MAuthzPathsMapping.java       |   5 +-
 .../db/service/persistent/SentryStore.java         |   9 +-
 14 files changed, 148 insertions(+), 128 deletions(-)

commit 688c116682fb5bb5d31c03e5b067829b9b2a5408
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 16 16:00:47 2017 -0700

    SENTRY-1782: Add an HMS image ID to the thrift schema definition for hdfs/sentry requests (Sergio Pena, reviewed by Alex Kolbasov)

 .../hdfs/service/thrift/SentryHDFSService.java     | 860 ++++++++++++++++++++-
 .../hdfs/service/thrift/TAuthzUpdateRequest.java   | 577 ++++++++++++++
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   | 111 ++-
 .../thrift/sentry_hdfs_serviceConstants.java       |  41 +
 .../src/main/resources/sentry_hdfs_service.thrift  |  11 +
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |   6 +-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  18 +-
 7 files changed, 1612 insertions(+), 12 deletions(-)

commit a29596e5fdc2d23bb84ad6a2223724934f0e7069
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 14 14:22:13 2017 -0700

    SENTRY-1801: Sentry Namenode Plugin should handle unknown permissions (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../sentry/hdfs/UpdateableAuthzPermissions.java      | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit a2cff586da31cedf497ad4f6b6ebd901ac0b0eb3
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 14 14:21:18 2017 -0700

    SENTRY-1801: Sentry Namenode Plugin should handle unknown permissions (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../sentry/hdfs/UpdateableAuthzPermissions.java      | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 2d6179cdbbed8dd441e87fe148d40878fcc6bbcf
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 14 14:19:34 2017 -0700

    SENTRY-1801

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 46c806912bfe37c4901555f5ae09c7c3defb63d3
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 14 00:51:17 2017 -0700

    SENTRY-1791: Sentry Clients failover not working with kerberos enabled (Kalyan Kalvagadda, reviewed by Alex Kolbasov)

 .../transport/RetryClientInvocationHandler.java    | 27 +++++++++++-----------
 .../common/transport/SentryTransportFactory.java   | 23 ++++++++----------
 .../core/common/transport/TransportFactory.java    |  6 ++---
 .../thrift/TestSentryServiceFailureCase.java       |  3 +--
 4 files changed, 25 insertions(+), 34 deletions(-)

commit 9e6d970ce1ce5d5c16b24252f609e86d04543876
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Jun 14 00:34:55 2017 -0700

    SENTRY-1794: HMSFollower not persisting last processed notifications when partition is altered (Kalyan Kalvagadda, reviewed by Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         |   8 +-
 .../apache/sentry/service/thrift/HMSFollower.java  |  15 +-
 .../service/thrift/NotificationProcessor.java      |   6 +
 .../sentry/service/thrift/TestHMSFollower.java     | 236 ++++++++++++++++++++-
 4 files changed, 250 insertions(+), 15 deletions(-)

commit acf5debe3c6dffd2c519f2394b1c27d1b1429379
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jun 7 18:00:49 2017 -0700

    SENTRY-1796: Add better debug logging for retrieving the delta changes
    (Vamsee Yarlagadda, Reviewed by: Alex Kolbasov)

 .../sentry/core/common/utils/SentryUtils.java      |  77 +++++++++++++++
 .../sentry/core/common/utils/TestSentryUtils.java  |  60 ++++++++++++
 .../provider/db/service/model/MSentryChange.java   |   1 +
 .../provider/db/service/model/MSentryUtil.java     |  58 ++++++++++-
 .../db/service/persistent/SentryStore.java         |  96 +++++++++++-------
 .../provider/db/service/model/TestMSentryUtil.java | 107 +++++++++++++++++++++
 6 files changed, 364 insertions(+), 35 deletions(-)

commit e44fa87e95872107af176dafd9a722cb122a4657
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jun 13 15:43:34 2017 -0700

    SENTRY-1799: Fix flaky HDFS END2END tests (Kalyan Kalvagadda, reviewed by: Alex Kolbasov)

 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationAdvanced.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5dc6b2855e6d3d7f0c2b7b7acaa0a6c179644632
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 9 23:47:31 2017 -0700

    SENTRY-1580: Provide pooled client connection model with HA (Alex Kolbasov, reviewed by Vamsee Yarlagadda, Kalyan Kalvagadda)
    SENTRY-1800: Flaky testConcurrentUpdateChanges test
    SENTRY-1724: Remove old PoolClientInvocationHandler
    SENTRY-1739: Sentry Kafka tests do not stop periodic update after the test end
    SENTRY-1735: Sentry Clients should not log every connection request
    SENTRY-1738: Inefficient connection management by retrying invocation handler
    SENTRY-1737: SentryTransportFactory may use incorrect kerberos principal

 pom.xml                                            |   2 +-
 .../binding/hive/authz/SentryConfigTool.java       |  28 +-
 .../SentryMetastorePostEventListenerBase.java      |  20 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  13 +-
 .../SentryMetastorePostEventListener.java          |  17 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |   8 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |   8 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |   8 +-
 sentry-core/sentry-core-common/pom.xml             |   4 +
 .../transport/RetryClientInvocationHandler.java    | 117 ++++----
 .../SentryClientTransportConfigInterface.java      |  91 +++---
 .../transport/SentryClientTransportConstants.java  |  91 ++++--
 ...tryServiceClient.java => SentryConnection.java} |  33 ++-
 .../transport/SentryHDFSClientTransportConfig.java |  71 +++--
 .../SentryPolicyClientTransportConfig.java         |  67 +++--
 .../common/transport/SentryTransportFactory.java   | 311 +++++++--------------
 .../core/common/transport/SentryTransportPool.java | 306 ++++++++++++++++++++
 .../core/common/transport/TTransportWrapper.java   |  89 ++++++
 .../core/common/transport/TransportFactory.java    |  39 +++
 .../transport/UserGroupInformationInitializer.java |  53 ----
 .../sentry/core/common/utils/ThriftUtil.java       |  10 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |   3 +-
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |   6 +-
 .../sentry/hdfs/SentryHDFSServiceClient.java       |  14 +-
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   | 107 +++----
 .../hdfs/SentryHDFSServiceClientFactory.java       |  83 +++++-
 .../hdfs/SentryHdfsServiceIntegrationBase.java     |   5 +-
 .../hdfs/TestSentryHDFSServiceClientForUgi.java    |  70 -----
 .../provider/db/SimpleDBProviderBackend.java       |   9 +-
 .../db/generic/SentryGenericProviderBackend.java   |  17 +-
 .../sentry/provider/db/generic/UpdatableCache.java |  55 +++-
 .../service/thrift/SentryGenericServiceClient.java |   4 +-
 .../SentryGenericServiceClientDefaultImpl.java     | 108 ++++---
 .../thrift/SentryGenericServiceClientFactory.java  |  89 +++++-
 .../db/generic/tools/SentryConfigToolSolr.java     |  12 +-
 .../db/generic/tools/SentryShellKafka.java         |  62 ++--
 .../provider/db/generic/tools/SentryShellSolr.java |  62 ++--
 .../service/thrift/SentryPolicyServiceClient.java  |   4 +-
 .../SentryPolicyServiceClientDefaultImpl.java      | 220 +++++++--------
 .../sentry/provider/db/tools/SentryShellHive.java  |  57 ++--
 .../thrift/PoolClientInvocationHandler.java        | 294 -------------------
 .../sentry/service/thrift/SentryService.java       |   5 +-
 .../service/thrift/SentryServiceClientFactory.java |  95 +++++--
 .../thrift/SentryServiceClientPoolFactory.java     |  72 -----
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../TestSentryGenericServiceClientForUgi.java      |  68 -----
 .../db/service/persistent/TestSentryStore.java     |   8 +-
 .../TestSentryPolicyServiceClientForUgi.java       |  71 -----
 .../TestSentryServiceWithInvalidMsgSize.java       |   2 +
 .../thrift/TestPoolClientInvocationHandler.java    |  79 ------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   7 +
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  21 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   6 +
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  11 +-
 54 files changed, 1535 insertions(+), 1579 deletions(-)

commit 2f70aac336da7bc5f57d07967f56250e0c3f3804
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jun 7 15:16:10 2017 -0700

    SENTRY-1792: Ensure DB to sort delta changes by CHANGE_ID (Vamsee
    Yarlagadda, Reviewed by: Alex Kolbasov)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java    | 1 +
 1 file changed, 1 insertion(+)

commit 768f460303df44db38bf7a2218648b39e07b498c
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Tue Jun 6 18:38:53 2017 -0700

    SENTRY-1795: Delta tables should not have holes (Lei(Eddy) Xu, Reviewed by: Alex Kolbasov, Vamsee Yarlagadda)

 .../apache/sentry/provider/db/service/model/MSentryPathChange.java  | 6 ++----
 .../apache/sentry/provider/db/service/model/MSentryPermChange.java  | 5 ++---
 .../java/org/apache/sentry/provider/db/service/model/package.jdo    | 4 ++--
 .../provider/db/service/persistent/DeltaTransactionBlock.java       | 6 ++++--
 .../sentry/provider/db/service/persistent/TestSentryStore.java      | 3 ++-
 5 files changed, 12 insertions(+), 12 deletions(-)

commit 732561bddbaf1002e23cfec42212375beb000616
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jun 5 21:34:46 2017 -0700

    SENTRY-1793: Reenable ignored unit tests from TestHDFSIntegrationEnd2End
    (Vamsee Yarlagadda, Reviewed by: Alex Kolbasov, Kalyan Kalvagadda, Mat
    Crocker)

 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java    | 2 --
 1 file changed, 2 deletions(-)

commit 42b092a56f51c301191f0296fb5045bc16dd6b3d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jun 5 23:30:17 2017 -0700

    SENTRY-1780: FullUpdateInitializer does not kill the threads whenever getFullHMSSnapshot throws an exception (Alex Kolbasov, reviewed by Na Li and Vamsee Yarlagadda)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 80 +++++++++++-----------
 .../apache/sentry/service/thrift/HMSFollower.java  | 17 +++--
 2 files changed, 49 insertions(+), 48 deletions(-)

commit 4a1365de92281f87792a75a4829a5a3292446dda
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jun 5 13:59:18 2017 -0700

    SENTRY-1773: Delta change cleaner should leave way more then a single entry intact (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../sentry/provider/db/service/persistent/SentryStore.java   | 12 ++++++++----
 .../org/apache/sentry/service/thrift/ServiceConstants.java   |  8 ++++++++
 .../provider/db/service/persistent/TestSentryStore.java      |  7 +++++--
 3 files changed, 21 insertions(+), 6 deletions(-)

commit dc7f2cf5373ca560df9ee3d532dc71dfc21659b8
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 2 18:18:29 2017 -0700

    SENTRY-1743: Two SentryStore instances are one too many (Alex Kolbasov, reviewed by: Sergio Pena and Vamsee Yarlagadda)

 .../service/persistent/DelegateSentryStore.java    |  4 +-
 .../db/service/persistent/SentryStore.java         | 57 ++++++++++++++++++++--
 .../db/service/thrift/SentryAdminServlet.java      |  2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  6 +--
 .../db/service/persistent/TestSentryStore.java     |  2 +-
 .../persistent/TestSentryStoreImportExport.java    |  2 +-
 .../db/service/persistent/TestSentryVersion.java   |  2 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  2 +
 8 files changed, 63 insertions(+), 14 deletions(-)

commit 445eeae674928db87d1e08faf896e1c6524ce259
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 2 16:47:56 2017 -0700

    SENTRY-1744: Simplify creation of DelegateSentryStore (Alex Kolbasov, reviewed by Vamsee Yarlagadda and Na Li)

 .../core/common/utils/PolicyStoreConstants.java    |  3 --
 .../service/persistent/DelegateSentryStore.java    |  2 +-
 .../thrift/SentryGenericPolicyProcessor.java       | 47 ++++++++--------------
 .../thrift/TestSentryGenericPolicyProcessor.java   |  7 ----
 4 files changed, 17 insertions(+), 42 deletions(-)

commit 2c56790067cebf635bc207c2fb2635f8c4fd4831
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 2 16:45:39 2017 -0700

    SENTRY-1744: Simplify creation of DelegateSentryStore (Alex Kolbasov, reviewed by Vamsee Yarlagadda and Na Li)

 .../service/persistent/DelegateSentryStore.java    |  2 +-
 .../thrift/SentryGenericPolicyProcessor.java       | 47 ++++++++--------------
 .../db/service/thrift/PolicyStoreConstants.java    |  3 --
 .../thrift/TestSentryGenericPolicyProcessor.java   |  7 ----
 4 files changed, 17 insertions(+), 42 deletions(-)

commit 5d09e7e25aa93e5b01f3e610e1cebbc3dc1dc233
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Jun 2 16:31:39 2017 -0700

    SENTRY-1788: Sentry Store may use JDO object after the associated data is removed in DB (Kalyan Kalvagadda, reviewed by Vamsee Yarlagadda and Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         | 53 ++++++++++++----------
 1 file changed, 29 insertions(+), 24 deletions(-)

commit afdcfa4358f9380902d2153c7d19c9f4df0de117
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 31 16:19:52 2017 -0700

    SENTRY-1788: Sentry Store may use JDO object after the associated data is removed in DB (Kalyan Kalvagadda, reviewed by Vamsee Yarlagadda and Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         | 53 ++++++++++++----------
 1 file changed, 29 insertions(+), 24 deletions(-)

commit cc923c8db0d7d909148e47f7290d2e5217d88f90
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri May 26 17:20:28 2017 -0700

    SENTRY-1774: HMSFollower should always depend on persisted information to decide is full snapshot is needed (Kalyan Kalvagadda, reviewed by Vamsee Yarlagadda, Sergio Pena and Alex Kolbasov)

 .../db/service/persistent/SentryStore.java         | 36 ++++++++++++++++++++++
 .../apache/sentry/service/thrift/HMSFollower.java  | 19 ++----------
 .../db/service/persistent/TestSentryStore.java     | 23 ++++++++++++++
 3 files changed, 62 insertions(+), 16 deletions(-)

commit 9c11c32c6a571d710c9317f61679d0de99ff7d04
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 25 23:24:47 2017 -0700

    SENTRY-1783: alterSentryRoleGrantPrivilegeCore does more persistence work than required (Alex Kolbasov, reviewed by: Kalyan Kalvagadda, Na Li, Vamsee Yarlagadda)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java    | 1 -
 1 file changed, 1 deletion(-)

commit f1bae505e18ef73dd20c401195dc4b9de70a671f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 25 23:13:29 2017 -0700

    SENTRY-1783: alterSentryRoleGrantPrivilegeCore does more persistence work than required (Alex Kolbasov, reviewed by: Kalyan Kalvagadda, Na Li, Vamsee Yarlagadda)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java    | 1 -
 1 file changed, 1 deletion(-)

commit 75a8faf15e8b6c340774145bde0e5f080f68b7fd
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 25 20:10:15 2017 -0700

    SENTRY-1785: Fix TestKrbConnectionTimeout test (Kalyan Kalvagadda, reviewed by: Na Li, Vamsee Yarlagadda, Alex Kolbasov)

 .../test/java/org/apache/sentry/hdfs/TestKrbConnectionTimeout.java   | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit d360d08e360a817f165e1c8b49f27d878a4f996b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 25 20:08:07 2017 -0700

    SENTRY-1785: Fix TestKrbConnectionTimeout test (Kalyan Kalvagadda, reviewed by: Na Li, Vamsee Yarlagadda, Alex Kolbasov)

 .../test/java/org/apache/sentry/hdfs/TestKrbConnectionTimeout.java   | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit f30b80b286bfec05a76fad189899d849b451c6de
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon May 22 11:29:47 2017 -0700

    SENTRY-1777: Generic service client should support Kerberos(Continuation Fix) (Kalyan Kalvagadda, Reviewed by: Vamsee Yarlagadda)

 .../common/transport/SentryTransportFactory.java   |  8 ++-
 .../hdfs/TestSentryHDFSServiceClientForUgi.java    | 70 +++++++++++++++++++++
 .../TestSentryGenericServiceClientForUgi.java      | 68 +++++++++++++++++++++
 .../TestSentryPolicyServiceClientForUgi.java       | 71 ++++++++++++++++++++++
 4 files changed, 214 insertions(+), 3 deletions(-)

commit 172b1485631e696599534eeef61b228ea4c4d3c4
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri May 19 08:24:38 2017 -0700

    SENTRY-1776 SentryStore should clear SENTRY_HMS_NOTIFICATION_ID while clearing store (Kalyan Kalvagadda, reviewed by Sergio Pena and Alex Kolbasov)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java    | 1 +
 1 file changed, 1 insertion(+)

commit 71de208d8eed1f3a949530877c3778985245f2d3
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 18 23:27:48 2017 -0700

    SENTRY-1705: Do not start HMSFollower if Hive isn't configured (Na Li, reviewed by Alex Kolbasov)

 .../apache/sentry/service/thrift/HMSFollower.java  | 14 +-------
 .../sentry/service/thrift/SentryService.java       | 16 +++++++++
 .../sentry/service/thrift/SentryServiceUtil.java   |  7 ++++
 .../hive/AbstractTestWithStaticConfiguration.java  | 41 ++++++++++++++++++++++
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 10 ++++--
 5 files changed, 72 insertions(+), 16 deletions(-)

commit 81eed11a91139cd9f4e0582e8f2daa3d839df61b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 18 23:15:08 2017 -0700

    SENTRY-1669: HMSFollower should read current processed notification ID from database every time it runs (Kalyan Kalvagadda, reviewed by Sergio Pena and Alex Kolbasov)

 .../db/service/model/MSentryHmsNotification.java   |  81 ++++
 .../db/service/model/MSentryPathChange.java        |   1 +
 .../db/service/model/MSentryPermChange.java        |   1 +
 .../sentry/provider/db/service/model/package.jdo   |   9 +-
 .../service/persistent/DeltaTransactionBlock.java  |  10 +-
 .../db/service/persistent/SentryStore.java         |  41 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 438 ++++++++++++---------
 .../service/thrift/NotificationProcessor.java      |   8 +-
 .../db/service/persistent/TestSentryStore.java     |  81 +++-
 9 files changed, 457 insertions(+), 213 deletions(-)

commit 5a2322338749cf5cf3f1a2b7e87645926ce469f1
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 18 23:03:10 2017 -0700

    SENTRY-1772: Permissions created before table creation are not reflected in HDFS ACLs (Alex Kolbasov, reviewed by: Vamsee Yarlagadda)

 .../java/org/apache/sentry/service/thrift/HMSFollower.java |  2 +-
 .../sentry/service/thrift/NotificationProcessor.java       |  2 +-
 .../org/apache/sentry/service/thrift/TestHMSFollower.java  | 14 +++++++-------
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 68ed22c15c7716f96555f2c832ac16d3eb9465b7
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Thu May 18 19:06:08 2017 -0700

    SENTRY-1736: Generic service client should support Kerberos (Kalyan Kalvagadda, Reviewed by: Alexander Kolbasov, Vadim Spector, Vamsee Yarlagadda)

 .../common/transport/SentryTransportFactory.java   |  5 +-
 .../transport/UserGroupInformationInitializer.java | 53 ++++++++++++++++++++++
 .../SentryGenericServiceClientDefaultImpl.java     | 11 +----
 3 files changed, 56 insertions(+), 13 deletions(-)

commit 7c43d760a67e28aa4583ec716173fc6214558541
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu May 18 15:55:58 2017 +0100

    SENTRY-1235 - Some pom changes
     - Signed off by Alexander Kolbasov

 pom.xml                                         | 3 +--
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml | 1 -
 sentry-tests/sentry-tests-sqoop/pom.xml         | 1 +
 3 files changed, 2 insertions(+), 3 deletions(-)

commit afa4a6ebcd8c6c2b98771499af0a36579acd6cb4
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu May 18 10:09:31 2017 +0100

    SENTRY-1516 - Add gpg configuration to the root pom to enable deployment to Maven Central
     - Signed off by Sergio Pena

 pom.xml | 50 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 48 insertions(+), 2 deletions(-)

commit d8df7827918761e941fc8dc9c2079edecc0633b0
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 17 17:39:55 2017 -0700

    SENTRY-1770: Avoid more detaches on commit (Alex Kolbasov, reviewed by Vamsee Yarlagadda)

 .../service/persistent/DelegateSentryStore.java    |  6 ++++
 .../db/service/persistent/SentryStore.java         | 42 +++++++++++++++++-----
 2 files changed, 39 insertions(+), 9 deletions(-)

commit 04db24b219f2547c096f2980a500134064007b0e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 17 15:39:30 2017 -0700

    SENTRY-1757: Avoid using local hive meta store with wrong configuration (Na Li, reviewed by Alex Kolbasov and Vamsee Yarlagadda)

 .../apache/sentry/service/thrift/HMSFollower.java  |  22 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 291 ++++++++++++++-------
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  20 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 122 +++++++--
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |   2 +-
 5 files changed, 324 insertions(+), 133 deletions(-)

commit 3c32f29c868983fae517c51a636aa99b14ee9b15
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 17 13:00:46 2017 -0700

    SENTRY-1768: Avoid detaching object on transaction exit when it isn't needed (Alex Kolbasov, reviewed by Na Li and Vamsee Yarlagadda)

 .../service/persistent/DeltaTransactionBlock.java  |  1 +
 .../db/service/persistent/SentryStore.java         | 60 +++++++++++++++-------
 2 files changed, 42 insertions(+), 19 deletions(-)

commit d5848ef3edc5b5c5ab277fb8e851c90ca15eff50
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue May 16 08:22:15 2017 -0700

    SENTRY-1716: HMSFollower doesn't need to save path info when HDFS sync is disabled (Sergio Pena, reviewed by: Na Li and Alex Kolbasov)

 .../apache/sentry/service/thrift/SentryService.java  | 10 +++++++++-
 .../sentry/service/thrift/SentryServiceUtil.java     | 20 ++++++++++++++++++++
 2 files changed, 29 insertions(+), 1 deletion(-)

commit 17a8c4985738b53e88e2816ce5da01584a14bf05
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 15 21:03:03 2017 -0700

    SENTRY-1751: HMSFollower should not persist empty full snapshot (Kalyan Kalvagadda, reviewed by: Na Li, Sergio Pena and Alex Kolbasov)

 .../src/main/java/org/apache/sentry/service/thrift/HMSFollower.java   | 4 ++++
 1 file changed, 4 insertions(+)

commit ed47850a797f14c20c47dccf99cb02ef5aaad635
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 15 18:37:30 2017 -0700

    SENTRY-1758: Improve Sentry memory usage by interning object names (Alex Kolbasov, reviewed by: Vamsee Yarlagadda and Misha Dmitriev)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 31 +++++++++++++-------
 .../db/service/model/MAuthzPathsMapping.java       |  2 +-
 .../sentry/provider/db/service/model/MPath.java    |  2 +-
 .../db/service/model/MSentryGMPrivilege.java       | 14 ++++-----
 .../provider/db/service/model/MSentryGroup.java    |  6 +---
 .../db/service/model/MSentryPrivilege.java         | 34 ++++++++++------------
 .../provider/db/service/model/MSentryRole.java     | 10 +++----
 .../provider/db/service/model/MSentryUser.java     |  6 +---
 .../provider/db/service/model/MSentryUtil.java     | 33 +++++++++++++++++++++
 .../provider/db/service/model/MSentryVersion.java  |  4 +--
 10 files changed, 86 insertions(+), 56 deletions(-)

commit 60e6244f21245c98afa85008f2df458db93baf7b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 15 17:58:05 2017 -0700

    SENTRY-1646 Unable to truncate table <database>.<tablename>; from "default" databases (Yongzhi Chen, reviewed by: Hao Hao and Sergio Pena)

 .../apache/sentry/binding/hive/HiveAuthzBindingHook.java   | 14 +++++++++++---
 .../tests/e2e/hive/TestPrivilegesAtTableScopePart2.java    |  4 ++++
 2 files changed, 15 insertions(+), 3 deletions(-)

commit 306ccb390b7579f015caadc0e604648e59b3a32b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 15 17:54:42 2017 -0700

    SENTRY-1646 Unable to truncate table <database>.<tablename>; from "default" databases (Yongzhi Chen, reviewed by: Hao Hao and Sergio Pena)

 .../apache/sentry/binding/hive/HiveAuthzBindingHook.java   | 14 +++++++++++---
 .../tests/e2e/hive/TestPrivilegesAtTableScopePart2.java    |  4 ++++
 2 files changed, 15 insertions(+), 3 deletions(-)

commit d2eb8a440d1bb6edab120e980aee40e91cc6423f
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri May 12 15:56:51 2017 -0700

    SENTRY-1745: Bundle sentry-core-common into sentry-hdfs-dist to avoid NN failing with NoClassDefFoundError (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Na Li)

 sentry-hdfs/sentry-hdfs-dist/pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 101bc048ca11af6f142ef0ecbf5a6e1e17028457
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri May 12 15:40:33 2017 -0700

    SENTRY-1765: CounterWait.update throw exception when input is old (ALex Kolbasov, reviewed by Na Li, Kalyan Kalvagadda and Vamsee Yarlagadda)

 .../apache/sentry/service/thrift/CounterWait.java  | 28 +++++++++++++++-------
 1 file changed, 19 insertions(+), 9 deletions(-)

commit 829bf171706cca45dce153849aec7001ae17661f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri May 12 09:55:52 2017 -0700

    SENTRY-1763: Fix the config string for server load balancing (Kalyan Kalvagadda, reviewed by Alex Kolbasov)

 .../sentry/core/common/transport/SentryClientTransportConstants.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7da5d5e571376c3b8ae399b92d7db6e97dc66b41
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 11 21:48:00 2017 -0700

    SENTRY-1717: Sentry should emit log messages when it is ready to serve requests (Na Li, reviewed by Alex Kolbasov)

 .../main/java/org/apache/sentry/service/thrift/HMSFollower.java   | 8 ++++++++
 .../main/java/org/apache/sentry/service/thrift/SentryService.java | 4 ++++
 2 files changed, 12 insertions(+)

commit 0acd85384d0a6d066336122001c71970f8e3138d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 11 21:24:19 2017 -0700

    SENTRY-1726: sql changes to store last notification-id processed (Kalyan Kalvagadda, reviewed by: Hao Hao, Vamsee Yarlagadda, Na Li and Lei Xu)

 .../src/main/resources/008-SENTRY-1569.derby.sql             | 12 +++++++++++-
 .../src/main/resources/008-SENTRY-1569.mysql.sql             |  9 ++++++++-
 .../src/main/resources/008-SENTRY-1569.oracle.sql            |  9 +++++++++
 .../src/main/resources/008-SENTRY-1569.postgres.sql          |  7 +++++++
 .../src/main/resources/sentry-db2-1.8.0.sql                  | 11 ++++++++++-
 .../src/main/resources/sentry-derby-1.8.0.sql                | 10 ++++++++++
 .../src/main/resources/sentry-mysql-1.8.0.sql                |  9 ++++++++-
 .../src/main/resources/sentry-oracle-1.8.0.sql               |  9 +++++++++
 .../src/main/resources/sentry-postgres-1.8.0.sql             |  7 +++++++
 .../src/main/resources/sentry-upgrade-db2-1.7.0-to-1.8.0.sql |  9 +++++++++
 10 files changed, 88 insertions(+), 4 deletions(-)

commit 6d7677d94f8681d9ffa63ca02ba91334f577b003
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 10 18:00:28 2017 -0700

    SENTRY-1756: Passive nodes should still follow latest notification ID (Sergio Pena, reviewed by Alex Kolbasov)

 .../apache/sentry/service/thrift/HMSFollower.java  | 45 +++++++++++++++++++---
 1 file changed, 39 insertions(+), 6 deletions(-)

commit d926483b7b985a66e6580c50c01a1e7e18ba514a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 10 16:54:30 2017 -0700

    SENTRY-1733: Add log message for key store file path (Na Li, reviewed by: Alex Kolbasov)

 .../apache/sentry/service/thrift/SentryServiceIntegrationBase.java  | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 4ccc15fe7ad91c546b8bee70c2a0ebc4f86114e8
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 10 10:26:16 2017 -0700

    SENTRY-1730: Remove FileInputStream/FileOutputStream - Reviewed by Na Li

 .../src/main/java/org/apache/sentry/SentryMain.java           | 10 ++++++----
 .../java/org/apache/sentry/provider/file/PolicyFiles.java     | 11 ++++++-----
 2 files changed, 12 insertions(+), 9 deletions(-)

commit 39d7b61665ead6ca7bd9d3a778c2ab6a3441b714
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 10 09:41:30 2017 -0700

    SENTRY-1759: UpdatableCache leaks connections (Alex Kolbasov, reviewed by: Vamsee Yarlagadda, Na Li, Sergio Pena and Kalyan Kalvagadda)

 .../sentry/provider/db/generic/UpdatableCache.java | 35 +++++++++++++---------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 3834e3b15471259081b547b95be5f4f07393dd1f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 10 09:38:21 2017 -0700

    SENTRY-1759: UpdatableCache leaks connections (Alex Kolbasov, reviewed by: Vamsee Yarlagadda, Na Li, Sergio Pena and Kalyan Kalvagadda)

 .../sentry/provider/db/generic/UpdatableCache.java | 35 +++++++++++++---------
 1 file changed, 21 insertions(+), 14 deletions(-)

commit 18998c04ed84895d5fc5f3b292ef3e2595005a63
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri May 5 20:22:29 2017 -0700

    SENTRY-1649: Initialize HMSFollower when sentry server actually starts (Na Li, reviewed by: Alex Kolbasov)

 .../apache/sentry/service/thrift/HMSFollower.java  |  24 ++-
 .../sentry/service/thrift/SentryService.java       | 170 ++++++++++++++-------
 .../sentry/service/thrift/SentryServiceUtil.java   |  41 +++++
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   4 +-
 .../TestDbSentryOnFailureHookLoading.java          |  10 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   7 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |  20 ++-
 8 files changed, 208 insertions(+), 70 deletions(-)

commit ab94c439a018509966de70d3fdb8c27463bee647
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu May 4 21:38:01 2017 -0700

    SENTRY-1709: Avoid randomizing the servers at client side based on configuration. (Kalyan kalvagadda), reviewed by: Alex Kolbasov)

 .../SentryClientTransportConfigInterface.java          |  9 +++++++++
 .../transport/SentryClientTransportConstants.java      |  8 ++++++++
 .../transport/SentryHDFSClientTransportConfig.java     |  6 ++++++
 .../transport/SentryPolicyClientTransportConfig.java   |  6 ++++++
 .../core/common/transport/SentryTransportFactory.java  | 18 +++++++++---------
 5 files changed, 38 insertions(+), 9 deletions(-)

commit 48fea20427ce8daad6aa3fa2658d06c624bdb7d6
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed May 3 21:55:50 2017 -0700

    SENTRY-1749: Sentry to use keytab supplied instead of local unix user tgt for connecting to HMS (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Kalyan Kalvagadda)

 .../java/org/apache/sentry/service/thrift/HMSFollower.java  | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 80070f2775652b2d3dd9a7e060519a96ef093b01
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed May 3 12:43:47 2017 -0700

    SENTRY-1695: Waiting for HMS notifications from Thrift should be interruptible (Alex Kolbasov, reviewed by: Hao Hao and Sergio Pena)

 .../db/service/thrift/SentryPolicyStoreProcessor.java    |  9 +++++++--
 .../org/apache/sentry/service/thrift/CounterWait.java    |  9 +++++----
 .../apache/sentry/service/thrift/TestCounterWait.java    | 16 ++++++++++------
 3 files changed, 22 insertions(+), 12 deletions(-)

commit d128f8396a04e84454eb8661e7659a7b1c58a1f5
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Wed May 3 16:49:40 2017 +0100

    SENTRY-1730 - Remove FileInputStream/FileOutputStream
     - Reviewed by Na Li

 .../src/main/java/org/apache/sentry/SentryMain.java           | 10 ++++++----
 .../java/org/apache/sentry/core/common/utils/PolicyFiles.java | 11 ++++++-----
 2 files changed, 12 insertions(+), 9 deletions(-)

commit 5a8e38a86a29e371cccc8806c6fedc8c3afc2867
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 1 22:49:14 2017 -0700

    SENTRY-1742: Upgrade to Maven surefire plugin v2.2 (Jan Hentschel, reviewed by: Alex Kolbasov)

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c625dfe946b5a79c02eea660b4a190159a778080
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon May 1 22:46:03 2017 -0700

    SENTRY-1742: Upgrade to Maven surefire plugin v2.2 (Jan Hentschel, reviewed by: Alex Kolbasov)

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 05bc5a6e415005008ed5ed4a003e8607e2d6a5ec
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Sun Apr 30 18:45:23 2017 -0700

    SENTRY-1734: Create/Alter/Drop database/table should check corresponding property before drop privileges (Alex Kolbasov, reviewed by: Hao Hao)

 .../apache/sentry/service/thrift/HMSFollower.java  | 105 ++++++++++++---------
 1 file changed, 60 insertions(+), 45 deletions(-)

commit 3722abec4ea077566c46b8221f3b050d2e0dbf86
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Apr 28 16:12:58 2017 -0700

    SENTRY-1718:  TestSentryStore often fails in setup() (Na Li, reviewed by: Alex Kolbasov)

 .../provider/db/service/persistent/TestSentryStore.java    | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit 14b3b904a83b3b4bb5c245bff9e839a7e40836f7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 27 21:59:00 2017 -0700

    SENTRY-1593: Implement client failover for Generic and NN clients (Kalyan Kalvagadda, reviewed by ALex Kolbasov)

 sentry-core/sentry-core-common/pom.xml             |   4 +
 .../exception}/SentryHdfsServiceException.java     |   2 +-
 .../transport}/RetryClientInvocationHandler.java   |  97 +--
 .../transport}/SentryClientInvocationHandler.java  |   4 +-
 .../SentryClientTransportConfigInterface.java      |   7 +
 .../transport/SentryClientTransportConstants.java  |   1 +
 .../transport/SentryHDFSClientTransportConfig.java |   5 +
 .../SentryPolicyClientTransportConfig.java         |   5 +
 .../core/common/transport/SentryServiceClient.java |  43 ++
 .../common/transport/SentryTransportFactory.java   | 309 +++++++++
 .../core/common/utils}/PolicyStoreConstants.java   |   2 +-
 .../sentry/core/common/utils}/ThriftUtil.java      |   2 +-
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   5 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |   4 +
 .../sentry/hdfs/SentryHDFSServiceClient.java       |   2 +
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   | 182 ++---
 .../hdfs/SentryHDFSServiceClientFactory.java       |  25 +-
 .../hdfs/SentryHDFSServiceProcessorFactory.java    |   2 +-
 .../thrift/SentryGenericPolicyProcessor.java       |   2 +-
 .../SentryGenericPolicyProcessorWrapper.java       |   2 +-
 .../SentryGenericServiceClientDefaultImpl.java     | 330 ++++-----
 .../thrift/SentryGenericServiceClientFactory.java  |  20 +-
 .../db/log/entity/JsonLogEntityFactory.java        |   2 +-
 .../db/service/persistent/TransactionManager.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      | 747 +++++++++------------
 .../service/thrift/SentryPolicyStoreProcessor.java |   2 +-
 .../db/service/thrift/SentryProcessorWrapper.java  |   1 +
 .../thrift/PoolClientInvocationHandler.java        |   3 +-
 .../service/thrift/SentryServiceClientFactory.java |  25 +-
 .../sentry/service/thrift/ServiceConstants.java    |  19 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |   2 +-
 .../thrift/TestSentryGenericServiceClient.java     |  61 ++
 .../db/log/entity/TestJsonLogEntityFactory.java    |   2 +-
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |   2 +-
 .../thrift/TestSentryPolicyServiceClient.java      |  64 ++
 .../thrift/TestSentryPolicyStoreProcessor.java     |   2 +-
 .../thrift/TestPoolClientInvocationHandler.java    |   2 +-
 37 files changed, 1135 insertions(+), 856 deletions(-)

commit ec1e01d450422af380c17a8786289deb933a0441
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 27 16:56:44 2017 -0700

    SENTRY-1721: Unit test failures in TestSentryStore due to changeId miscount (Na Li, reviewed by Alex Kolbasov)

 .../apache/sentry/provider/db/service/persistent/TestSentryStore.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c2a8a2e5c6badb96359d3cdb28c07e31682f1f9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 27 16:12:09 2017 -0700

    SENTRY-1725: Include response status in TSentrySyncIDResponse (Alex Kolbasov, reviewed by: Vamsee Yarlagadda)

 pom.xml                                            |   1 +
 .../hdfs/service/thrift/SentryHDFSService.java     |   2 +-
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  |   2 +-
 .../sentry/hdfs/service/thrift/TPathChanges.java   |   2 +-
 .../sentry/hdfs/service/thrift/TPathEntry.java     |   2 +-
 .../sentry/hdfs/service/thrift/TPathsDump.java     |   2 +-
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   |   2 +-
 .../hdfs/service/thrift/TPermissionsUpdate.java    |   2 +-
 .../hdfs/service/thrift/TPrivilegeChanges.java     |   2 +-
 .../sentry/hdfs/service/thrift/TRoleChanges.java   |   2 +-
 .../service/thrift/SentryGenericPolicyService.java |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../db/generic/service/thrift/TAuthorizable.java   |   2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   2 +-
 .../service/thrift/TDropPrivilegesRequest.java     |   2 +-
 .../service/thrift/TDropPrivilegesResponse.java    |   2 +-
 .../service/thrift/TDropSentryRoleRequest.java     |   2 +-
 .../service/thrift/TDropSentryRoleResponse.java    |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../service/thrift/TListSentryRolesRequest.java    |   2 +-
 .../service/thrift/TListSentryRolesResponse.java   |   2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   2 +-
 .../service/thrift/TSentryActiveRoleSet.java       |   2 +-
 .../generic/service/thrift/TSentryPrivilege.java   |   2 +-
 .../service/thrift/TSentryPrivilegeMap.java        |   2 +-
 .../db/generic/service/thrift/TSentryRole.java     |   2 +-
 .../db/service/thrift/SentryPolicyService.java     |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   2 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   2 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   2 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   2 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   2 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   2 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   2 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |   2 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   2 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   2 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   2 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   2 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   2 +-
 .../db/service/thrift/TDropPrivilegesRequest.java  |   2 +-
 .../db/service/thrift/TDropPrivilegesResponse.java |   2 +-
 .../db/service/thrift/TDropSentryRoleRequest.java  |   2 +-
 .../db/service/thrift/TDropSentryRoleResponse.java |   2 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   2 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   2 +-
 .../TListSentryPrivilegesForProviderRequest.java   |   2 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   2 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   2 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   2 +-
 .../thrift/TListSentryRolesForUserRequest.java     |   2 +-
 .../db/service/thrift/TListSentryRolesRequest.java |   2 +-
 .../service/thrift/TListSentryRolesResponse.java   |   2 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   2 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   2 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |   2 +-
 .../db/service/thrift/TSentryAuthorizable.java     |   2 +-
 .../service/thrift/TSentryConfigValueRequest.java  |   2 +-
 .../service/thrift/TSentryConfigValueResponse.java |   2 +-
 .../thrift/TSentryExportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryExportMappingDataResponse.java   |   2 +-
 .../provider/db/service/thrift/TSentryGroup.java   |   2 +-
 .../thrift/TSentryImportMappingDataRequest.java    |   2 +-
 .../thrift/TSentryImportMappingDataResponse.java   |   2 +-
 .../db/service/thrift/TSentryMappingData.java      |   2 +-
 .../db/service/thrift/TSentryPrivilege.java        |   2 +-
 .../db/service/thrift/TSentryPrivilegeMap.java     |   2 +-
 .../provider/db/service/thrift/TSentryRole.java    |   2 +-
 .../db/service/thrift/TSentrySyncIDRequest.java    |   2 +-
 .../db/service/thrift/TSentrySyncIDResponse.java   | 116 ++++++++++++++++++++-
 .../service/thrift/TSentryResponseStatus.java      |   2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   1 +
 .../main/resources/sentry_policy_service.thrift    |   3 +-
 88 files changed, 199 insertions(+), 90 deletions(-)

commit a81591e6ea33047daab600b726ebbdee152fb022
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Apr 27 13:29:11 2017 -0700

    SENTRY-1727: HMSPathsDumper.cloneToEntry should set authzObjToEntries properly (Lei Xu, Reviewed by: Hao Hao)
    
    Change-Id: Ic73bcacca592b958c0023a69da5d2907ffb1184b

 .../src/main/java/org/apache/sentry/hdfs/HMSPathsDumper.java           | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2199b74fb8af4715941c87893518c8288365f4ae
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Apr 27 13:29:11 2017 -0700

    SENTRY-1727: HMSPathsDumper.cloneToEntry should set authzObjToEntries properly (Lei Xu, Reviewed by: Hao Hao)
    
    Change-Id: Ic73bcacca592b958c0023a69da5d2907ffb1184b

 .../src/main/java/org/apache/sentry/hdfs/HMSPathsDumper.java           | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit bfb0456fc3575a97e81886b4a9e2c5cb2f86b7e4
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Apr 26 11:12:52 2017 -0700

    SENTRY-1687: FullUpdateInitializer can be more efficient (Alex Kolbasov, reviewed by: Hao Hao, Vamsee Yarlagadda and Na Li)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 383 +++++++++++++--------
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   | 128 +++----
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   2 -
 .../sentry/hdfs/TestFullUpdateInitializer.java     | 357 +++++++++++++------
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    |  33 +-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  16 +-
 .../org/apache/sentry/hdfs/PathImageRetriever.java |   7 +-
 .../db/service/persistent/SentryStore.java         |   8 +-
 .../apache/sentry/service/thrift/HMSFollower.java  |  30 +-
 .../service/thrift/NotificationProcessor.java      | 100 +++---
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |   2 +-
 11 files changed, 650 insertions(+), 416 deletions(-)

commit a13f2fb83c3bdabae22e99973fa4cfc21852498c
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Apr 26 00:09:07 2017 -0700

    SENTRY-1489: Categorize e2e tests into slow and regular tests, so that can adapt the timeout and etc. (Anne Yu, reviewed by LiLi)

 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  8 ---
 .../e2e/dbprovider/TestDbCrossOperations.java      |  6 +-
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |  2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  | 41 +------------
 .../sentry/tests/e2e/hive/RulesForE2ETest.java     | 68 ++++++++++++++++++++++
 .../apache/sentry/tests/e2e/hive/SlowE2ETest.java  | 26 +++++++++
 6 files changed, 99 insertions(+), 52 deletions(-)

commit 618260530e190d01dd3c1412b81703e514725e4f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Apr 24 09:14:29 2017 -0700

    SENTRY-1691: TransactionManager should use try-with-resource for timers (Sergio Pena, reviewed by: Alex Kolbasov and Na Li)

 .../provider/db/service/persistent/TransactionManager.java     | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit a5e772b516579ad65ce9b759389ed695dc88bffe
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Apr 20 19:17:21 2017 -0700

    SENTRY-1587: Refactor SentryStore transaction to persist a single path transcation bundled with corresponding delta path change (Hao Hao, Reviewed by: Alexander Kolbasov and Na Li)
    
    Change-Id: I3d083b8d73c45551ecfdd06f26327aa57be8710d

 .../apache/sentry/hdfs/FullUpdateInitializer.java  |   2 +-
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |   2 +-
 .../db/service/model/MAuthzPathsMapping.java       |  24 ++
 .../db/service/persistent/SentryStore.java         | 329 +++++++++++++++++-
 .../apache/sentry/service/thrift/HMSFollower.java  | 241 +++++++------
 .../service/thrift/NotificationProcessor.java      | 377 +++++++++++++++++++++
 .../db/service/persistent/TestSentryStore.java     | 195 ++++++++---
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |   5 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   5 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |   2 +-
 10 files changed, 1016 insertions(+), 166 deletions(-)

commit d3aeb958a51c029c5c309768352c5bed3c18fdeb
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 20 18:13:35 2017 -0700

    SENTRY-1674: HMSFollower shouldn't print the same value of notification ID multiple times (Na Li, reviewed by Alex Kolbasov, Hao Hao and Kalyan Kalvagadda)

 .../org/apache/sentry/service/thrift/HMSFollower.java  | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 6835fa95bf47372f16adb9363577244201587398
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 20 17:42:15 2017 -0700

    SENTRY-1710: Reduce datanucleus key cache size for MSentryPermChange and MSentryPathChange tables (Lei Xu, reviewed by Alex Kolbasov, Hao Hao and Na Li)

 .../apache/sentry/provider/db/service/model/MSentryPathChange.java  | 3 +--
 .../apache/sentry/provider/db/service/model/MSentryPermChange.java  | 3 +--
 .../java/org/apache/sentry/provider/db/service/model/package.jdo    | 4 ++--
 .../provider/db/service/persistent/DeltaTransactionBlock.java       | 6 ++----
 4 files changed, 6 insertions(+), 10 deletions(-)

commit ff369db20e3f1928c8d6b98f6b8ec4842390e7f8
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Apr 14 15:37:51 2017 -0700

    SENTRY-1548: Setting GrantOption to UNSET upsets Sentry (Added missing files)

 .../validator/GrantPrivilegeRequestValidator.java  | 91 ++++++++++++++++++++++
 .../validator/RevokePrivilegeRequestValidator.java | 46 +++++++++++
 2 files changed, 137 insertions(+)

commit ff79cf27103d79d019cd360ed45336f7fc8fd182
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Apr 14 15:23:34 2017 -0700

    SENTRY-1548: Setting GrantOption to UNSET upsets Sentry (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov)

 .../db/service/thrift/SentryPolicyStoreProcessor.java    | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 7d28a41a000b4f2b5006047f4c04bc86dbcc6d3d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Apr 14 15:21:07 2017 -0700

    SENTRY-1556: Simplify privilege cleaning (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov)

 .../service/persistent/DelegateSentryStore.java    |   2 -
 .../provider/db/service/model/MSentryRole.java     |  12 +-
 .../db/service/persistent/SentryStore.java         | 391 ++++++++-------------
 .../sentry/service/thrift/ServiceConstants.java    |   2 -
 .../generic/service/persistent/TestSentryRole.java | 172 +++++++++
 .../db/service/persistent/TestSentryStore.java     | 204 ++++++++++-
 6 files changed, 521 insertions(+), 262 deletions(-)

commit 7748003430b94cc1b403690f9bb4d1e68d40ac86
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 13 14:52:45 2017 -0700

    SENTRY-1638: Update SQL script of MSentryPathChange table to add a column for notification ID (Kalyan Kalvagadda, reviewed by: Hao Hao, Alex Kolbasov and Na Li)
    
    UpdateD SQL script of MSentryPathChange table to add a column for notification ID.
    Tested it against derby, oracle, postgres, mysql and db2.

 .../sentry/provider/db/service/model/package.jdo   |  1 +
 .../src/main/resources/007-SENTRY-1365.mysql.sql   |  2 +-
 .../src/main/resources/008-SENTRY-1569.derby.sql   |  4 ++++
 .../src/main/resources/008-SENTRY-1569.mysql.sql   |  4 ++++
 .../src/main/resources/008-SENTRY-1569.oracle.sql  |  3 +++
 .../main/resources/008-SENTRY-1569.postgres.sql    |  4 ++++
 .../src/main/resources/sentry-db2-1.8.0.sql        | 24 ++++++++++++----------
 .../src/main/resources/sentry-derby-1.8.0.sql      |  4 +++-
 .../src/main/resources/sentry-mysql-1.8.0.sql      |  4 ++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     |  3 +++
 .../src/main/resources/sentry-postgres-1.8.0.sql   |  4 ++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 13 +++++++-----
 12 files changed, 52 insertions(+), 18 deletions(-)

commit c94cfa6ed4de85ae8e88cca649e583db5cfb0cc7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 11 16:09:34 2017 -0700

    SENTRY-1629: Current MAuthzPathsMapping table definition may cause error 'Duplicate entry XX for key PRIMARY' (Kalyan Kalvagadda, reviewed by Hao Hao and Alex Kolbasov)
    
    - Changed the JDO definition to have Path as separate entity.
    - SQL changes needed for the handle the new JDO definition.
    - Application changes to use new JDO definition.
    - Updated unit test cases to test the case where an authz object is associated with more than one path.
    
    Testing done:
    1. Tested the sql changes with derby, mysql, oracle, postgres and db2.
    2. Added unit tests to be sure that the actual issues is addressed.

 .../db/service/model/MAuthzPathsMapping.java       | 28 +++++++--
 .../sentry/provider/db/service/model/MPath.java    | 69 ++++++++++++++++++++++
 .../sentry/provider/db/service/model/package.jdo   | 20 +++++--
 .../db/service/persistent/SentryStore.java         | 11 ++--
 .../src/main/resources/007-SENTRY-1365.derby.sql   | 25 ++++----
 .../src/main/resources/007-SENTRY-1365.mysql.sql   | 24 ++++----
 .../src/main/resources/007-SENTRY-1365.oracle.sql  | 25 ++++----
 .../main/resources/007-SENTRY-1365.postgres.sql    | 24 ++++----
 .../src/main/resources/sentry-db2-1.8.0.sql        | 22 ++++---
 .../src/main/resources/sentry-derby-1.8.0.sql      | 25 ++++----
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 24 ++++----
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 27 +++++----
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 25 ++++----
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 22 ++++---
 .../db/service/persistent/TestSentryStore.java     | 52 ++++++++++++++--
 15 files changed, 293 insertions(+), 130 deletions(-)

commit a21a41971c229a8f0c2379716bf928cd17fc429f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 11 14:12:35 2017 -0700

    SENTRY-1643: AutoIncrement ChangeID of MSentryPermChange/MSentryPathChange may be error-prone (Lei Xu, reviewed by Hao Hao, Alex Kolbasov, Na Li)

 .../db/service/model/MSentryPathChange.java        |  6 +-
 .../db/service/model/MSentryPermChange.java        |  5 +-
 .../service/persistent/DeltaTransactionBlock.java  |  6 +-
 .../db/service/persistent/SentryStore.java         |  2 +-
 .../db/service/persistent/TestSentryStore.java     | 67 ++++++++++++++++++++++
 5 files changed, 81 insertions(+), 5 deletions(-)

commit 57ded0a9e8eba50192b09813bfebcbb3ea1d0508
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Apr 6 17:03:18 2017 -0700

    SENTRY-1684: FullUpdateInitializer has a race condition in handling results list (Alex Kolbasov, reviewed by Hao Hao)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 45 +++++++++++-----------
 1 file changed, 22 insertions(+), 23 deletions(-)

commit 64b175ddb72950019183c2705fdff3c22de47aac
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Apr 5 13:26:42 2017 -0700

    SENTRY-1644: Partition ACLs disappear after renaming Hive table with partitions (Lei (Eddy) Xu, reviewed by Alex Kolbasov)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 215 ++++++++++++++-------
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  24 ++-
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  49 +++++
 3 files changed, 211 insertions(+), 77 deletions(-)

commit ed27522584773075a484a4828fe9b7aeb0922961
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Apr 5 10:55:36 2017 -0700

    SENTRY-1676: FullUpdateInitializer#createInitialUpdate should not throw RuntimeException (Alex Kolbasov, reviewed by Sergio Pena)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 71 +++++++++++-----------
 .../apache/sentry/service/thrift/HMSFollower.java  |  6 +-
 2 files changed, 37 insertions(+), 40 deletions(-)

commit f0f77668b3e8468d00f61de10897db80ce382929
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 19:18:56 2017 -0700

    SENTRY-1692: ZK namespace configuration doesn't work (Alex Kolbasov, reviewed by Na Li)

 .../apache/sentry/provider/db/service/persistent/HAContext.java  | 7 +++++--
 .../org/apache/sentry/service/thrift/LeaderStatusMonitor.java    | 9 ++-------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 0773053d6ff3549c450fcbee8871cc7cb145cca9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 15:46:58 2017 -0700

    SENTRY-1644: Partition ACLs disappear after renaming Hive table with partitions (Lei (Eddy) Xu, reviewed by Alex Kolbasov)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 217 ++++++++++++++-------
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  24 ++-
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  55 +++++-
 3 files changed, 216 insertions(+), 80 deletions(-)

commit 9739dd80a1635dc07f71f05857b5d3278872d1ca
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 15:40:46 2017 -0700

    SENTRY-1677: Add metrics to measure how much time to get Delta Path/Perm Updates (Alex Kolabsov, reviewed by Na Li)

 .../org/apache/sentry/hdfs/PathDeltaRetriever.java | 45 +++++++++++++---------
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java | 41 ++++++++++++--------
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  | 37 +++++++++++++-----
 3 files changed, 78 insertions(+), 45 deletions(-)

commit 15613a1cc26fc9ea1962026d40b05a4a9d4ab82a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 15:30:51 2017 -0700

    SENTRY-1680: MetastoreCacheInitializer is lo longer used and should be removed (Jan Hentschel, reviewed by Alex Kolbasov)
    
      This is the actual fix for SENTRY-1680

 .../sentry/hdfs/MetastoreCacheInitializer.java     | 391 ---------------------
 .../sentry/hdfs/TestMetastoreCacheInitializer.java | 261 --------------
 2 files changed, 652 deletions(-)

commit ddb4fcaf40cb081b98bd2ec9c27a224d4073184a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 15:23:05 2017 -0700

    SENTRY-1670: Expose current HMS notification ID as a Sentry gauge (metric) (Alex Kolbasov, Reviewed by Hao Hao and Na Li)
    
    This is a dummy commit used to mark the fix for SENTRY-1670.
    The actual change is in the previous changeset which is incorrectly marked as SENTRY-1680.

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 085b1c2d181a2a83251d0886e799393bd47f8970
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Apr 4 13:37:18 2017 -0700

    SENTRY-1680: MetastoreCacheInitializer is lo longer used and should be removed (Alex Kolbasov, Reviewed by Hao Hao and Na Li)

 .../db/service/persistent/SentryStore.java         | 36 +++++++++++++++++-----
 .../provider/db/service/thrift/SentryMetrics.java  |  3 +-
 2 files changed, 31 insertions(+), 8 deletions(-)

commit 1992e5bdebefe019820c2a2219efe32e63fd44ec
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 31 17:14:22 2017 -0700

    SENTRY-1683: MetastoreCacheInitializer has a race condition in handling results list (Alex Kolbasov, Reviewed by: Hao Hao)

 .../sentry/hdfs/MetastoreCacheInitializer.java       | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 7b3878cf321b31dcaf4e96cb9f6a3dbe72c980ae
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 31 10:02:39 2017 -0700

    SENTRY-1497: create a sentry scale test tool to add various objects and privileges into Sentry and HMS. (Anne Yu, reviewed by Haohao, Lili and Sravya Tirukkovalur)

 pom.xml                                            |   3 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  31 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   1 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |  10 +-
 .../tests/e2e/tools/CreateSentryTestScaleData.java | 542 +++++++++++++++++++++
 .../apache/sentry/tests/e2e/tools/TestTools.java   |  81 +++
 .../tests/e2e/tools/sentry_scale_test_config.xml   | 119 +++++
 .../scripts/scale-test/create-many-dbs-tables.sh   | 277 -----------
 8 files changed, 781 insertions(+), 283 deletions(-)

commit 2811311ea6dfe2e26af67a545333486ca0e89092
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Mar 23 17:51:15 2017 -0700

    SENTRY-1613: Add propagating logic for Perm/Path updates in Sentry service (Hao Hao, Reviewed by: Alexander Kolbasov and Lei Xu)
    
    Change-Id: I1223a45df8ab1c169772b2ffe92762f0dcc4e82e

 .../org/apache/sentry/hdfs/DeltaRetriever.java     |  67 ++++
 .../org/apache/sentry/hdfs/ImageRetriever.java     |   7 +-
 .../org/apache/sentry/hdfs/ThriftSerializer.java   |  10 +-
 .../org/apache/sentry/hdfs/DBUpdateForwarder.java  |  88 +++++
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 397 ---------------------
 .../org/apache/sentry/hdfs/PathDeltaRetriever.java |  76 ++++
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  26 +-
 .../org/apache/sentry/hdfs/PermDeltaRetriever.java |  76 ++++
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  14 +-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  29 +-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |  19 -
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 168 +++------
 .../org/apache/sentry/hdfs/UpdateForwarder.java    | 335 -----------------
 .../apache/sentry/hdfs/UpdateablePermissions.java  |  63 ----
 .../apache/sentry/hdfs/TestUpdateForwarder.java    | 359 -------------------
 .../db/service/persistent/SentryStore.java         | 176 ++++++++-
 .../apache/sentry/service/thrift/HMSFollower.java  |   2 -
 .../db/service/persistent/TestSentryStore.java     |  13 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   2 +-
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |   1 +
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |   3 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |   1 +
 22 files changed, 572 insertions(+), 1360 deletions(-)

commit a913b9d0ed66f2ebbc81712e88605a3b7fb4fa8c
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Mar 23 17:52:12 2017 -0700

    SENTRY-1556: Simplify privilege cleaning (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov)

 .../sentry/service/thrift/ServiceConstants.java    |   2 -
 .../service/persistent/DelegateSentryStore.java    |   2 -
 .../provider/db/service/model/MSentryRole.java     |  12 +-
 .../db/service/persistent/SentryStore.java         | 388 ++++++++-------------
 .../generic/service/persistent/TestSentryRole.java | 172 +++++++++
 .../db/service/persistent/TestSentryStore.java     | 199 ++++++++++-
 6 files changed, 515 insertions(+), 260 deletions(-)

commit 268ee50ef05f3863184f139f0b6ccb867823b604
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Thu Mar 23 11:59:58 2017 -0700

    SENTRY-1639: Refactor thrift clients configuration constants (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov and Vadim Spector)

 .../exception/MissingConfigurationException.java   |  28 ++++
 .../SentryClientTransportConfigInterface.java      |  96 ++++++++++++
 .../transport/SentryClientTransportConstants.java  | 163 +++++++++++++++++++++
 .../transport/SentryHDFSClientTransportConfig.java |  83 +++++++++++
 .../SentryPolicyClientTransportConfig.java         |  83 +++++++++++
 .../sentry/core/common/utils/SentryConstants.java  |   3 +
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |   4 +
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |   2 +-
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |  60 ++++----
 .../SentryGenericServiceClientDefaultImpl.java     |  77 +++++-----
 .../SentryPolicyServiceClientDefaultImpl.java      | 116 ++++++++-------
 .../thrift/RetryClientInvocationHandler.java       |   6 +-
 12 files changed, 601 insertions(+), 120 deletions(-)

commit fd16d74abcd602b758ef06fea44248ffa4665924
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 15 16:38:58 2017 -0700

    SENTRY-1658: Null pointer dereference in SentryShellHive (Jan Hentschel, Reviewed by: Alexander Kolbasov and Hao Hao)
    
    Change-Id: Ie929463f6edec99720a0b62dbb855998288189b2

 .../java/org/apache/sentry/provider/db/tools/SentryShellHive.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 4ccc453200c53e984a5eeecff8d3f7a7cb6de928
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 15 16:38:58 2017 -0700

    SENTRY-1658: Null pointer dereference in SentryShellHive (Jan Hentschel, Reviewed by: Alexander Kolbasov and Hao Hao)
    
    Change-Id: Ie929463f6edec99720a0b62dbb855998288189b2

 .../java/org/apache/sentry/provider/db/tools/SentryShellHive.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 2a4d9c50fb4b347c1dc61669d58b4b53c0d96170
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 15 16:18:17 2017 -0700

    SENTRY-1663: UpdateableAuthzPermissions has mutable static fields (Jan Hentschel, Reviewed by: Alexander Kolbasov and Hao Hao)
    
    Change-Id: I078c8536b0135766cc570ea09ce638b6ef0bb240

 .../sentry/hdfs/UpdateableAuthzPermissions.java      | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 8fa5fa54fd022c2cd6db9d53a42598ee10966906
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 15 16:18:17 2017 -0700

    SENTRY-1663: UpdateableAuthzPermissions has mutable static fields (Jan Hentschel, Reviewed by: Alexander Kolbasov and Hao Hao)
    
    Change-Id: I078c8536b0135766cc570ea09ce638b6ef0bb240

 .../sentry/hdfs/UpdateableAuthzPermissions.java      | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 8aaa73de7585eb1e28080eb48ae7c06906cedcff
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 13 16:21:37 2017 -0700

    SENTRY-1459: Alter view with HMS Client fails with "java.lang.IllegalArgumentException: Can not create a Path from a null string" (Ankur Gupta, Reviewed by: Sravya Tirukkovalur)

 .../metastore/MetastoreAuthzBindingBase.java       | 19 +++++++++++--------
 ...stractMetastoreTestWithStaticConfiguration.java |  9 +++++++++
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 22 ++++++++++++++++++++++
 3 files changed, 42 insertions(+), 8 deletions(-)

commit 0613eb62be0ecb7767f2e473662b74405a7c0764
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 13 15:38:17 2017 -0700

    SENTRY-1471: TestHDFSIntegrationBase.java implements HDFS ACL checking and query verification incorrectly. Also disable testAuthzObjOnPartitionMultipleTables until it gets fixed. ( Vadim Spector, reviewed by Anne Yu)

 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      | 15 ++++++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 37 ++++++++++------------
 2 files changed, 27 insertions(+), 25 deletions(-)

commit fea27d419cb2725eb56769b97ff630a020cda07c
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 13 11:39:08 2017 -0700

    SENTRY-1464: fix Sentry e2e test failure in org.apache.sentry.tests.e2e.dbprovider.TestDbUriPermissions.testAlterPartitionLocationPrivileges; and print out key queries for triaging test failures on jenkins job's outputs. (Anne Yu, reviewed by Hao Hao).

 .../tests/e2e/hive/TestMetadataPermissions.java    |  10 +-
 .../e2e/dbprovider/TestDbCrossOperations.java      |  32 +++--
 .../hive/AbstractTestWithStaticConfiguration.java  |  50 ++++----
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   1 +
 .../tests/e2e/hive/TestExportImportPrivileges.java |  25 ++--
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 136 ++++++++++-----------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  34 +++---
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  80 ++++++------
 .../e2e/hive/fs/TestHiveWarehouseOnExtFs.java      |   2 +-
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |   8 +-
 10 files changed, 193 insertions(+), 185 deletions(-)

commit 7ff19b555a43a32ca372a670acaa58a196d069f6
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 13 01:25:13 2017 -0700

    SENTRY-1429, SENTRY-1454: fix flaky TestHDFSIntegration, refactor this huge test class, improve its cleanUp and setUp for temp HDFS dirs; divide test class into smoke test class and p2 test class; in post commit run, we will only run smoke tests. (Anne Yu, reviewed by Sravya Tirukkovalur and Hao Hao)
    SENTRY-1454:Fix intermittent time out issue for TestHDFSIntegration (Anne Yu, reviewed by Sravya Tirukkovalur)
    SENTRY-1456: SENTRY-1454 follow up: Commit message and rat check failure. (Anne Yu, reviewed by
     Sravya Tirukkovalur).
    Using project.version instead of version (Colm O hEigeartaigh)
     # Please enter the commit message for your changes. Lines starting

 pom.xml                                            |    1 +
 sentry-provider/sentry-provider-db/pom.xml         |    2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |    2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 2102 --------------------
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  793 ++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  779 ++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |  549 +++++
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |    6 +-
 8 files changed, 2127 insertions(+), 2107 deletions(-)

commit f88f82ae99b9b1004a742aed61b6dc9e5eeaf6a9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 23:59:18 2017 -0800

    SENTRY-1404: Use the new INodeAttributesProvider API in sentry-hdfs (Hao Hao, Reviewed by: Anne Yu)

 pom.xml                                            |   2 +-
 sentry-binding/sentry-binding-solr/pom.xml         |   9 +
 .../server/namenode/AuthorizationProvider.java     | 411 -------------------
 .../sentry/hdfs/SentryAuthorizationConstants.java  |  14 +-
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 437 ---------------------
 .../sentry/hdfs/SentryINodeAttributesProvider.java | 386 ++++++++++++++++++
 ...java => MockSentryINodeAttributesProvider.java} |   6 +-
 ...java => TestSentryINodeAttributesProvider.java} |  12 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   9 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  40 +-
 10 files changed, 440 insertions(+), 886 deletions(-)

commit f19a68cb69e72a9df3dbd3cefeb3a51535c71360
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 22:03:46 2017 -0800

    SENTRY-1360: Refactor grantPrivilege of Sentry Client (Dapeng Sun, reviewed by Colin Ma)

 .../service/thrift/SentryPolicyServiceClient.java  |  7 ++
 .../SentryPolicyServiceClientDefaultImpl.java      | 80 ++++++++++++----------
 .../db/tools/command/hive/CommandUtil.java         |  4 +-
 .../command/hive/GrantPrivilegeToRoleCmd.java      | 22 +-----
 4 files changed, 56 insertions(+), 57 deletions(-)

commit 3a02a62825d52248764b6103a248223fd2fa848f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 23:52:17 2017 -0800

    SENTRY-1209: Sentry does not block Hive's cross-schema table renames(Colin Ma, reviewed by Sravya Tirukkovalur)

 .../binding/hive/HiveAuthzBindingHookBase.java     | 10 ++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  8 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  4 +-
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 10 +--
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 14 ++--
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 94 +++++++++++++++-------
 6 files changed, 97 insertions(+), 43 deletions(-)

commit b15b95ed6e6920225db0b077b197aa2baeabcd07
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 23:41:59 2017 -0800

    SENTRY-1358: Implement Grant role_name To User user_name in V2 (Ke Jia via Dapeng Sun)

 .../authorizer/DefaultSentryAccessController.java  | 24 +++++++++++++++++-----
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 15 ++++++++++++++
 2 files changed, 34 insertions(+), 5 deletions(-)

commit 0bec6c728727638469b955589e9f167da4024ba7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 23:37:15 2017 -0800

    SENTRY-320: show role grant group groupname should not throw an exception if group doesnt exist in db (Ke Jia via Dapeng Sun)

 .../SentryPolicyServiceClientDefaultImpl.java      |  4 ++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 13 ++++++++++--
 .../tests/e2e/dbprovider/TestGrantUserToRole.java  | 24 ++++++++++++++++++++++
 3 files changed, 39 insertions(+), 2 deletions(-)

commit 218be0c59efb7d4f57bcb64e8d5fef8c51e06556
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 21:50:32 2017 -0800

    SENTRY-1376: Fix alter property case correctly - Deletes ACLS on the table (Sravya Tirukkovalur, Reviewed by: Hao Hao)

 .../sentry/binding/metastore/SentryMetastorePostEventListener.java    | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 65568d3c0e75c2a71e303877ced0e5e80b7e4301
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 21:49:33 2017 -0800

    SENTRY-1345: ACLS on table folder disappear after insert for unpartitioned tables (Sravya Tirukkovalur, Reviewed by: Hao Hao and Anne Yu)

 .../SentryMetastorePostEventListener.java          |  4 ++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 29 ++++++++++++++++++++++
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 27117ac612eeccd4890915647b96f1ed31f2ba1a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:22:12 2017 -0800

    SENTRY-1391: Add more test cases for perm and temp UDF - fixed build (Hao Hao, Reviewed by: Anne Yu)

 .../apache/sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3cbaa91cfd3a007e276a4b522145d98f6e278167
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:16:59 2017 -0800

    SENTRY-1564: Improve error detection and reporting in MetastoreCacheInitializer.java (Vadim Spector, Reviewed by: Hao Hao)

 .../sentry/hdfs/MetastoreCacheInitializer.java     | 38 ++++++++++++++++++----
 1 file changed, 31 insertions(+), 7 deletions(-)

commit 5994ec3a1726754b659eee3d7d2eac308b5eada6
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:15:20 2017 -0800

    Some trivial logging changes

 .../src/main/java/org/apache/sentry/core/common/ActiveRoleSet.java      | 2 +-
 .../apache/sentry/provider/common/ResourceAuthorizationProvider.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f2176bbf6f7392392d812fbe75804e373660f6b7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:15:00 2017 -0800

    Some trivial typos + changes to the Kafka tests

 .../sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java       | 7 ++++---
 .../test/java/org/apache/sentry/tests/e2e/kafka/TestAclsCrud.java | 5 +----
 .../java/org/apache/sentry/tests/e2e/kafka/TestAuthorize.java     | 8 ++++----
 3 files changed, 9 insertions(+), 11 deletions(-)

commit f407a680a10fe233ff4fb209134d6ef876a69624
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:13:43 2017 -0800

    SENTRY-1402: Add TestGrantUserToRole to V2

 .../tests/e2e/dbprovider/TestGrantUserToRole.java  | 261 +++++++++++++++++++++
 1 file changed, 261 insertions(+)

commit f6d31428fc6013528002c586f2d3cf21d27a70f5
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:13:06 2017 -0800

    SENTRY-1450: Have privilege converter set by Kafka binding (Ashish K Singh, Reviewed by: Hao Hao and Dapeng Sun)

 .../main/java/org/apache/sentry/kafka/binding/KafkaAuthBinding.java | 6 ++++++
 .../apache/sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java  | 2 --
 2 files changed, 6 insertions(+), 2 deletions(-)

commit df7c7dd40ad67af7a4a2fc2a802d8ddcd6fed1ff
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:11:52 2017 -0800

    SENTRY-1359: Implement SHOW ROLE GRANT USER user_name in V2 (Ke Jia via Dapeng Sun)

 .../authorizer/DefaultSentryAccessController.java  | 10 +++++---
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 29 ++++++++++++++++++++++
 2 files changed, 35 insertions(+), 4 deletions(-)

commit c34ce7298b8cba046c82c8be3561f9d60f2bc468
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:10:54 2017 -0800

    SENTRY-1405: Add test for "show grant role on all " command in V2 (Ke, Jia via Dapeng Sun)

 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 24 ++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit c8de9a907f06c5ab08836e816176cb2a1598199b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:10:03 2017 -0800

    SENTRY-1390: Add test cases to ensure usability of URI privileges for HMS binding (Hao Hao, Reviewed by: Sravya Tirukkovalur)

 .../hive/AbstractTestWithStaticConfiguration.java  |   5 +
 .../tests/e2e/metastore/TestURIMetastore.java      | 178 +++++++++++++++++++++
 2 files changed, 183 insertions(+)

commit f71e2e825b30fcd72fb0b217c3a11105b254880d
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:09:10 2017 -0800

    SENTRY-1401: In V2, show role grant group groupname should not throw an exception if group doesnt exist in db (Ke Jia via Dapeng Sun)

 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 7868f80c2b07ad7eae62d58de24cfa0246b28744
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:07:38 2017 -0800

    SENTRY-1327: Enable show grant role roleName on all command (Ke Jia via Dapeng Sun)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  3 +++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 22 ++++++++++++++++++++++
 2 files changed, 25 insertions(+)

commit 63352d834387588547c7e0a5f284533c2e54aa99
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:06:40 2017 -0800

    SENTRY-1357: SentryMetastorePostEventListenerBase.onAlterTable should check for null dereference (Ke Jia via Dapeng Sun)

 .../SentryMetastorePostEventListenerBase.java      | 23 +++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit 1e031de81dd3f64bc6efff95b53a31a13efa135c
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:05:35 2017 -0800

    SENTRY-1352: Enable CREATEMACRO and DROPMACRO operations in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  | 14 +++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  3 +-
 .../sentry/tests/e2e/hive/TestOperations.java      | 70 ++++++++++++++++++++++
 3 files changed, 86 insertions(+), 1 deletion(-)

commit f40831d709e84ec6ad7b7e8a31b0067ef32a1d97
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:04:25 2017 -0800

    SENTRY-1351: Enable alter table operation without outputs in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  |  9 +++
 .../sentry/tests/e2e/hive/TestOperations.java      | 76 ++++++++++++++++++++++
 2 files changed, 85 insertions(+)

commit b2121119bee5b7b6d70080c5bf07ab77405d75da
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:02:50 2017 -0800

    SENTRY-1334: [column level privileges] test and add test for CTAS and Create View AS SELECT (cross databases cases) (Ke Jia, reviewed by Anne Yu)

 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   | 62 ++++++++++++++++++++++
 1 file changed, 62 insertions(+)

commit 86f67e606acd2c1b8a357b50ab82b1ced62e3c2a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 18:01:26 2017 -0800

    SENTRY-1391: Add more test cases for perm and temp UDF (Hao Hao, Reviewed by: Anne Yu)

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 87 ++++++++++++++++++++--
 1 file changed, 82 insertions(+), 5 deletions(-)

commit b385440ed9d23d39af5da784ca715d61c23e0638
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:59:45 2017 -0800

    SENTRY-1349: Add permission check and test case for alter db set owner in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  |  1 +
 .../sentry/tests/e2e/hive/TestOperations.java      | 27 ++++++++++++++++++++++
 2 files changed, 28 insertions(+)

commit dbf72f5ae908fc1ff78b209048d5470c1dbe4aaf
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:58:17 2017 -0800

    SENTRY-1354: add column level test cases for select ... group by, order by and where in V2 (Ke Jia via Dapeng Sun)

 .../dbprovider/TestPrivilegeWithGrantOption.java   | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit 51209d98f50bf63522162427858c29eb24870b0f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:56:57 2017 -0800

    SENTRY-1376: Fix alter property case correctly - Deletes ACLS on the table (Sravya Tirukkovalur, Reviewed by: Hao Hao)

 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   | 23 ++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit b850bbb0c079922d34302b514bc2b0dc17a44482
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:53:02 2017 -0800

    SENTRY-1361: Refactor revokePrivilege of Sentry Client (Ke Jia via Dapeng Sun)

 .../service/thrift/SentryPolicyServiceClient.java  |  6 ++++
 .../SentryPolicyServiceClientDefaultImpl.java      | 40 ++++++++++++++++------
 .../command/hive/RevokePrivilegeFromRoleCmd.java   | 22 +-----------
 3 files changed, 36 insertions(+), 32 deletions(-)

commit 62b00232123c285d2bc856d43682e02984060337
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:51:39 2017 -0800

    SENTRY-1311: Improve usability of URI privileges by supporting mixed use of URIs with and without scheme - fixed mismerge (Vadim Spector, Reviewed by Hao Hao)

 sentry-binding/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 94ec0b44c40b7a72c3c7292df47047aa390feab7
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:45:52 2017 -0800

    SENTRY-1311: Improve usability of URI privileges by supporting mixed use of URIs with and without scheme (Vadim Spector, Reviewed by Hao Hao)

 sentry-binding/pom.xml                             |   4 +-
 .../apache/sentry/core/common/utils/PathUtils.java |  94 ++++++++-----
 .../sentry/core/common/utils/TestPathUtils.java    |  42 +++++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 150 +++++++++++++++++++++
 4 files changed, 250 insertions(+), 40 deletions(-)

commit 5b1a89ea36fafa9fae25953eddb3690ba0683c65
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:39:13 2017 -0800

    SENTRY-1302: Update Hive V2 after moving Exception to sentry-core-common module (Ke Jia via Dapeng Sun)

 sentry-binding/sentry-binding-hive-v2/pom.xml              |  2 +-
 .../hive/v2/authorizer/DefaultSentryAccessController.java  |  4 ++--
 .../binding/hive/v2/metastore/MetastoreAuthzBindingV2.java |  2 +-
 sentry-tests/sentry-tests-hive-v2/pom.xml                  |  2 +-
 .../sentry/tests/e2e/dbprovider/TestColumnEndToEnd.java    |  2 +-
 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java  |  6 +++---
 .../sentry/tests/e2e/dbprovider/TestDbConnections.java     |  4 ++--
 .../apache/sentry/tests/e2e/dbprovider/TestDbEndToEnd.java |  2 +-
 .../e2e/dbprovider/TestDbSentryOnFailureHookLoading.java   |  2 +-
 .../tests/e2e/dbprovider/TestPrivilegeWithGrantOption.java |  2 +-
 .../e2e/dbprovider/TestPrivilegeWithHAGrantOption.java     |  2 +-
 .../java/org/apache/sentry/tests/e2e/ha/TestHaEnd2End.java |  2 +-
 .../apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java  |  2 +-
 .../e2e/hive/AbstractTestWithStaticConfiguration.java      |  8 ++++----
 .../org/apache/sentry/tests/e2e/hive/TestConfigTool.java   |  2 +-
 .../sentry/tests/e2e/hive/TestPerDBConfiguration.java      | 10 +++++-----
 .../sentry/tests/e2e/hive/TestPolicyImportExport.java      |  9 +++++----
 .../tests/e2e/metastore/SentryPolicyProviderForDb.java     | 14 +++++++-------
 18 files changed, 39 insertions(+), 38 deletions(-)

commit f0e1dfbd0c6eb21219993c84eff49d4ad3da0e5e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:26:41 2017 -0800

    SENTRY-1504 - NPE in log4j.properties parsing

 .../sentry-core-common/src/main/java/org/apache/sentry/SentryMain.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 2fbaacc8e11dbd5a63922ec8051854b39857b85b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 10 17:23:16 2017 -0800

    SENTRY-1377: improve handling of failures, both in tests and after-test cleanup, in TestHDFSIntegration.java (Vadim Spector, Reviewed by: Sravya Tirukkovalur and Hao Hao)

 .../java/org/apache/sentry/hdfs/UpdateableAuthzPermissions.java  | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 8f5c17dbce6417b0c98ba6c2c31fa9c7fd8b222f
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Mar 9 15:37:38 2017 -0800

    SENTRY-1566: Make full Perm/Path snapshot available for NN plugin (Hao Hao, Reviewed by: Alexander Kolbasov and Lei Xu)
    
    Change-Id: I2788046192b71a3988f5d8bf1fa903eff18a7c8d

 .../org/apache/sentry/hdfs/ImageRetriever.java     |  45 +++++
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |   3 +-
 .../org/apache/sentry/hdfs/PathImageRetriever.java |  72 +++++++
 .../org/apache/sentry/hdfs/PermImageRetriever.java |  93 +++++++++
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |  27 ++-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  53 +----
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |  32 ++-
 .../apache/sentry/hdfs/UpdateablePermissions.java  |   7 +-
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |  15 +-
 .../provider/db/service/persistent/PathsImage.java |  48 +++++
 .../db/service/persistent/PermissionsImage.java    |  57 ++++++
 .../db/service/persistent/SentryStore.java         | 219 +++++++++++++--------
 .../db/service/persistent/TestSentryStore.java     |  56 +++++-
 13 files changed, 545 insertions(+), 182 deletions(-)

commit 731a5d15eb78178e6ffdcd1f7444f8c4172bf663
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 6 17:31:48 2017 -0800

    SENTRY-1546: Generic Policy provides bad error messages for Sentry exceptions (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov)

 .../core/common/exception/SentryAlreadyExistsException.java       | 3 ++-
 .../sentry/core/common/exception/SentryNoSuchObjectException.java | 3 ++-
 .../db/generic/service/persistent/DelegateSentryStore.java        | 4 ++--
 .../apache/sentry/provider/db/service/persistent/SentryStore.java | 7 ++++---
 .../provider/db/service/thrift/SentryPolicyStoreProcessor.java    | 2 +-
 .../generic/service/thrift/TestSentryGenericPolicyProcessor.java  | 8 ++++----
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java     | 2 +-
 7 files changed, 16 insertions(+), 13 deletions(-)

commit afdfd86b0ed9756a10ace04ce7439429b1153e32
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Sat Mar 4 03:48:17 2017 +0530

    SENTRY-1388: Make HiveConf and Hive client jars available to Sentry deamon (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Hao Hao)

 bin/sentry | 3 +++
 1 file changed, 3 insertions(+)

commit 6f4a88bd112260866b6140475676b5f1ab74f7f9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 6 13:38:40 2017 -0800

    SENTRY-1546: Generic Policy provides bad error messages for Sentry exceptions

 .../core/common/exception/SentryAlreadyExistsException.java       | 3 ++-
 .../sentry/core/common/exception/SentryNoSuchObjectException.java | 3 ++-
 .../db/generic/service/persistent/DelegateSentryStore.java        | 4 ++--
 .../apache/sentry/provider/db/service/persistent/SentryStore.java | 7 ++++---
 .../provider/db/service/thrift/SentryPolicyStoreProcessor.java    | 2 +-
 .../generic/service/thrift/TestSentryGenericPolicyProcessor.java  | 8 ++++----
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java     | 2 +-
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegrationBase.java | 2 +-
 8 files changed, 17 insertions(+), 14 deletions(-)

commit 48ec01dd7db3d345976db9a3ea8c60162c72501e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 6 13:18:07 2017 -0800

    SENTRY-1569: Upgrading SQL scripts for persist Perm/Path change - added missing files (Kalyan Kumar Kalvagadda, Reviewed by: Hao Hao)

 .../src/main/resources/008-SENTRY-1569.mysql.sql   | 17 ++++++++++++++++
 .../src/main/resources/008-SENTRY-1569.oracle.sql  | 19 ++++++++++++++++++
 .../main/resources/008-SENTRY-1569.postgres.sql    | 17 ++++++++++++++++
 .../src/main/resources/sentry-db2-1.8.0.sql        | 23 +++++++++++++++++++++-
 .../src/main/resources/sentry-derby-1.8.0.sql      | 23 +++++++++++++++++++++-
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 18 +++++++++++++++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 22 ++++++++++++++++++++-
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 18 +++++++++++++++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 22 ++++++++++++++++++++-
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |  1 +
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |  1 +
 13 files changed, 179 insertions(+), 4 deletions(-)

commit e35d36cd278dcb496cbf0da142a637d3c2c0034f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 6 13:03:23 2017 -0800

    SENTRY-1569: Upgrading SQL scripts for persist Perm/Path change (Kalyan Kumar Kalvagadda, Reviewed by: Hao Hao)

 .../src/main/resources/008-SENTRY-1569.derby.sql      | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 5f850cc8ac4800995bb31ed2fc61d8341d8efcdc
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Mar 6 12:03:51 2017 -0800

    SENTRY-1548: Setting GrantOption to UNSET upsets Sentry (Kalyan Kumar Kalvagadda, Reviewed by: Alex Kolbasov)

 .../service/thrift/SentryPolicyStoreProcessor.java | 15 ++--
 .../validator/GrantPrivilegeRequestValidator.java  | 91 ++++++++++++++++++++++
 .../validator/RevokePrivilegeRequestValidator.java | 46 +++++++++++
 3 files changed, 145 insertions(+), 7 deletions(-)

commit af5c004b6f7925be291dae95e8ba592d651aa1f8
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Sun Mar 5 21:23:47 2017 -0800

    SENTRY-1642 Integrate Sentry build with Error Prone (Alex Kolbasov, reviewed by: Lei Xu)

 pom.xml                                            | 23 ++++++++++++++++++++++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  2 +-
 .../provider/db/service/thrift/SentryMetrics.java  |  1 +
 .../sentry/service/thrift/LeaderStatusMonitor.java |  2 --
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  2 +-
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  |  2 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 13 +++++-------
 .../sentry/tests/e2e/solr/TestRealTimeGet.java     |  2 +-
 8 files changed, 33 insertions(+), 14 deletions(-)

commit aecf3f281e4c87feb4063d87e02373f4ae747a1b
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 3 21:54:55 2017 -0800

    SENTRY-1601 Implement HMS Notification barrier on the server side (Alex Kolbasov, Reviewed by: Misha Dmitriev, Vadim Spector)

 .../db/service/persistent/SentryStore.java         |  28 +++
 .../provider/db/service/thrift/SentryMetrics.java  |   1 +
 .../service/thrift/SentryPolicyStoreProcessor.java |  17 +-
 .../apache/sentry/service/thrift/CounterWait.java  | 266 +++++++++++++++++++++
 .../apache/sentry/service/thrift/HMSFollower.java  |   9 +-
 .../sentry/service/thrift/TestCounterWait.java     |  90 +++++++
 6 files changed, 407 insertions(+), 4 deletions(-)

commit c2013f236c9d4d92d813c962f4dc5ab85ce89749
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Mar 3 17:37:05 2017 -0800

    SENTRY-1642 Integrate Sentry build with Error Prone (Alex Kolbasov, reviewed by: Lei Xu)

 pom.xml                                            | 23 ++++++++++++++++++++++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  2 +-
 .../sentry/hdfs/SentryINodeAttributesProvider.java |  2 +-
 .../provider/db/service/thrift/SentryMetrics.java  |  1 +
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  2 +-
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  |  2 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 17 +++++++---------
 .../tests/e2e/tools/CreateSentryTestScaleData.java |  1 +
 .../sentry/tests/e2e/solr/TestRealTimeGet.java     |  2 +-
 9 files changed, 37 insertions(+), 15 deletions(-)

commit 1c6ba5ebe4a4374b2472633dd21435eec9933d6f
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 1 18:01:50 2017 -0800

    SENTRY-1612: HMSFollower should persist full HMS snapshot into SentryDB if there is not one. (Hao Hao, Reviewed by: Alexander Kolbasov)
    
    Change-Id: I375ea19277fa3092f1825476f1670652e4c981c4

 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 44 ++++++++++++++++++----
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   | 24 ++++++++++++
 .../sentry/hdfs/TestFullUpdateInitializer.java     | 31 ++++++---------
 .../db/service/model/MSentryPathChange.java        |  4 ++
 .../db/service/persistent/SentryStore.java         | 44 +++++++++++++++++++++-
 .../apache/sentry/service/thrift/HMSFollower.java  | 40 +++++++++++++++-----
 .../db/service/persistent/TestSentryStore.java     | 14 ++++---
 7 files changed, 157 insertions(+), 44 deletions(-)

commit 7aac09ec6351b7c7f8281ce6032efbb1239f5ad6
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Mar 1 14:50:53 2017 -0800

    Revert "SENTRY-1638: Update MSentryPermChange table to add a column for notification ID (Lei Xu, Reviewed by: Alex Kolbasov)"
    
    This reverts commit 5209076418d93c12404057ac52bf5c21c783fea9.
      Issues discovered during code review.

 .../provider/db/service/model/MSentryPermChange.java   | 18 +++---------------
 .../sentry/provider/db/service/model/package.jdo       |  5 -----
 2 files changed, 3 insertions(+), 20 deletions(-)

commit 5209076418d93c12404057ac52bf5c21c783fea9
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Mar 1 14:41:41 2017 -0800

    SENTRY-1638: Update MSentryPermChange table to add a column for notification ID (Lei Xu, Reviewed by: Alex Kolbasov)

 .../provider/db/service/model/MSentryPermChange.java   | 18 +++++++++++++++---
 .../sentry/provider/db/service/model/package.jdo       |  5 +++++
 2 files changed, 20 insertions(+), 3 deletions(-)

commit c0333a9cf119c8792130ff8bbf67d7cf041a2a66
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 28 21:43:03 2017 -0800

    SENTRY-1637: Periodically purge Delta change tables. (Lei Xu, Reviewed by: Alex Kolbasov)

 .../hdfs/SentryHDFSServiceProcessorFactory.java    |  4 +-
 .../SentryGenericPolicyProcessorFactory.java       |  7 +++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  8 ++--
 .../thrift/SentryPolicyStoreProcessorFactory.java  |  9 +++--
 .../apache/sentry/service/thrift/HMSFollower.java  |  4 +-
 .../sentry/service/thrift/ProcessorFactory.java    | 11 +++++-
 .../sentry/service/thrift/SentryService.java       | 44 +++++++++++++++++++++-
 .../sentry/service/thrift/ServiceConstants.java    |  3 ++
 8 files changed, 75 insertions(+), 15 deletions(-)

commit f783277f821dd7698fc143a78858459181328318
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 28 14:21:12 2017 -0800

    SENTRY-1600: Define Thrift API for HMS to Sentry notification barrier (Alex Kolbasov, Reviewed by: Hao Hao and Kalyan Kalvagadda)

 .../db/service/thrift/SentryPolicyService.java     | 860 ++++++++++++++++++++-
 .../db/service/thrift/TSentrySyncIDRequest.java    | 484 ++++++++++++
 .../db/service/thrift/TSentrySyncIDResponse.java   | 387 ++++++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |   5 +
 .../main/resources/sentry_policy_service.thrift    |  34 +
 5 files changed, 1769 insertions(+), 1 deletion(-)

commit 71f47698586916f2f4e3713346d10cf41485284e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Feb 24 16:33:22 2017 -0800

    SENTRY-1625: PrivilegeOperatePersistence can use QueryParamBuilder (Alex Kolbasov, Reviewed by: Hao Hao abd Vadim Spector)

 .../persistent/PrivilegeOperatePersistence.java    | 195 +++++++---
 .../db/service/model/MSentryGMPrivilege.java       |  69 +---
 .../provider/db/service/model/MSentryRole.java     |   6 +-
 .../db/service/persistent/QueryParamBuilder.java   | 406 +++++++++++++++++++++
 .../db/service/persistent/SentryStore.java         | 377 +++----------------
 .../db/service/persistent/TestSentryStore.java     |  19 +-
 6 files changed, 610 insertions(+), 462 deletions(-)

commit fc8c626eeea9889d2108764c8023e4320e41204e
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Fri Feb 24 15:32:04 2017 -0800

    SENTRY-1625: PrivilegeOperatePersistence can use QueryParamBuilder (Alex Kolbasov, Reviewed by: Hao Hao abd Vadim Spector)

 .../persistent/PrivilegeOperatePersistence.java    | 195 +++++++---
 .../db/service/model/MSentryGMPrivilege.java       |  69 +---
 .../provider/db/service/model/MSentryRole.java     |   6 +-
 .../db/service/persistent/QueryParamBuilder.java   | 406 +++++++++++++++++++++
 .../db/service/persistent/SentryStore.java         | 358 ++----------------
 .../db/service/persistent/TestSentryStore.java     |  14 +-
 6 files changed, 592 insertions(+), 456 deletions(-)

commit b596fe9b884db583215a58a3309677590969b71f
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Feb 22 11:28:49 2017 -0800

    SENTRY-1611: Purge MSentryPerm/PathChange tables (Lei (Eddy) Xu, Reviewed by: Hao Hao and Alexander Kolbasov)
    
    Change-Id: I59ec5b83abd7f86cadc434e46caf9be142dd3ab6

 .../provider/db/service/model/MSentryChange.java   |  24 +++++
 .../db/service/model/MSentryPathChange.java        |   2 +-
 .../db/service/model/MSentryPermChange.java        |   2 +-
 .../db/service/persistent/SentryStore.java         | 117 ++++++++++++++++++---
 .../db/service/persistent/TestSentryStore.java     |  33 ++++++
 5 files changed, 162 insertions(+), 16 deletions(-)

commit 3817f18befe5d081b80af42f527d23579fb8b2ce
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Feb 22 10:07:23 2017 -0600

    [2/2] SENTRY-1635: Limit HMS connections only to the leader of the sentry servers (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Hao Hao)

 .../main/java/org/apache/sentry/service/thrift/HMSFollower.java    | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 21fbb9d43fa850cdac536958732ecd50149701ac
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Feb 17 11:52:13 2017 -0600

    SENTRY-1635: Limit HMS connections only to the leader of the sentry servers

 .../apache/sentry/service/thrift/HMSFollower.java  | 43 +++++++++++++---------
 1 file changed, 26 insertions(+), 17 deletions(-)

commit 33d9f6fe45d7b5149ee2ea472b58045b1eccbed2
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Feb 21 16:35:36 2017 -0800

    SENTRY-1448: Store processed notification sequence ID in database (Hao Hao, Reviewed by: Vamsee Yarlagadda)
    
    Change-Id: Ib47f2b37e82e7306e78809b8340b17e0b8cab930

 .../provider/db/service/model/MSentryPathChange.java   | 18 +++++++++++++++---
 .../sentry/provider/db/service/model/package.jdo       |  3 +++
 2 files changed, 18 insertions(+), 3 deletions(-)

commit e3aaa7fb73a1e83af37424b51403f6e28cd0cd22
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 21 11:13:32 2017 -0600

    SENTRY-1636: Remove thrift dependency on fb303 (Alex Kolbasov, Reviewed by: Vamsee Yarlagadda)

 pom.xml                                                             | 6 ------
 .../src/main/resources/sentry_hdfs_service.thrift                   | 2 --
 sentry-hdfs/sentry-hdfs-service/pom.xml                             | 4 ----
 sentry-provider/sentry-provider-db/pom.xml                          | 4 ----
 .../src/main/resources/sentry_common_service.thrift                 | 2 --
 .../src/main/resources/sentry_generic_policy_service.thrift         | 1 -
 .../src/main/resources/sentry_policy_service.thrift                 | 1 -
 .../java/org/apache/sentry/tests/e2e/sqoop/TomcatSqoopRunner.java   | 1 -
 8 files changed, 21 deletions(-)

commit 797740292164b0200dc620f0d198aa039b68ca6a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 21 11:04:39 2017 -0600

    SENTRY-1636 Remove thrift dependency on fb303 (Alex Kolbasov, Reviewed by: Vamsee Yarlagadda)

 .../sentry-hdfs-common/src/main/resources/sentry_hdfs_service.thrift  | 2 --
 sentry-hdfs/sentry-hdfs-service/pom.xml                               | 4 ----
 sentry-service/sentry-service-common/pom.xml                          | 4 ----
 .../src/main/resources/sentry_common_service.thrift                   | 2 --
 .../src/main/resources/sentry_generic_policy_service.thrift           | 1 -
 .../src/main/resources/sentry_policy_service.thrift                   | 1 -
 sentry-service/sentry-service-server/pom.xml                          | 4 ----
 .../java/org/apache/sentry/tests/e2e/sqoop/TomcatSqoopRunner.java     | 1 -
 8 files changed, 19 deletions(-)

commit 3f99bbdb3a75637f070cd51910853fb82ae34a49
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Feb 17 11:41:12 2017 -0800

    SENTRY-1632: Make HMSFollower initialDelay and run period configurable (Hao Hao, Reviewed by: Vamsee Yarlagadda)
    
    Change-Id: If62bf25f65324fcd0c7dfd252066e59069a292c9

 .../main/java/org/apache/sentry/service/thrift/SentryService.java   | 6 +++++-
 .../java/org/apache/sentry/service/thrift/ServiceConstants.java     | 6 ++++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 0a1a736475493bad96fccd41f35ecf9057c845c1
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Feb 17 11:11:48 2017 -0800

    SENTRY-1634: HMSFollower should not check isLoadMetastoreConfig when trying to connect to HMS (Vamsee Yarlagadda, Reviewed by: Hao Hao)
    
    Change-Id: I805eaa7a99ccbbdf4257ff1836f875aeb6bb75e9

 .../main/java/org/apache/sentry/service/thrift/HMSFollower.java   | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 72841bff7f3feb761332040540662afef053a8ff
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Feb 17 11:10:06 2017 -0800

    SENTRY-1628: In HMSFollower failing of catching error causes the executor to halt (Hao Hao, Reviewed by: Vamsee Yarlagadda)
    
    Change-Id: Ieaff2d45f6d90df9a180019ba01f69cd1260e430

 .../main/java/org/apache/sentry/service/thrift/HMSFollower.java    | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8da7208e79f49ddf941bca2022709cc313dcb885
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Feb 16 22:19:31 2017 -0800

    SENTRY-1633: Disable mvn failIfNotTest flag (Lei (Eddy) Xu, Reviewed by: Hao Hao)
    
    Change-Id: Ia43da78a1b5db4e979f0f08f957bb012257935ed

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 322c281afedefcdd7b0c5dbad19782f140c30454
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Feb 16 22:19:31 2017 -0800

    SENTRY-1633: Disable mvn failIfNotTest flag (Lei (Eddy) Xu, Reviewed by: Hao Hao)
    
    Change-Id: Ia43da78a1b5db4e979f0f08f957bb012257935ed

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit dc03ed502f53d8c31b69f7cf346909a9bd36ef2b
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Feb 15 12:05:33 2017 -0800

    SENTRY-1623: Typo for notification log feature flag (Hao Hao, Reviewed by: Vamsee Yarlagadda)
    
    Change-Id: I2bdbd4ad2b8f0e8d1e240cd7ceaf21852752979f

 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5849ab0e530a8e3a250b7e58fde211842960288f
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Feb 8 12:29:52 2017 -0800

    SENTRY-1609: DelegateSentryStore is subject to JDQL injection (Alex Kolbasov, Review by: Vamsee Yarlagadda and kalyan kumar kalvagadda)
    
    The fix re-implements getGroupsByRoles() using SentryStore methods instead of directly issuing queries.

 .../service/persistent/DelegateSentryStore.java    | 51 +++++++++-------------
 .../db/service/persistent/SentryStore.java         |  2 +-
 2 files changed, 22 insertions(+), 31 deletions(-)

commit 60a05f618cd192c564a519f1437173d6dd60749a
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Feb 8 12:23:35 2017 -0800

    SENTRY-1609: DelegateSentryStore is subject to JDQL injection (Alex Kolbasov, Review by: Vamsee Yarlagadda and kalyan kumar kalvagadda)
    
    The fix re-implements getGroupsByRoles() using SentryStore methods instead of directly issuing queries.

 .../service/persistent/DelegateSentryStore.java    | 51 +++++++++-------------
 .../db/service/persistent/SentryStore.java         |  2 +-
 2 files changed, 22 insertions(+), 31 deletions(-)

commit a79f923dc61d050ddf88dafc87399c9b00577fc2
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Feb 8 12:18:10 2017 -0800

    SENTRY-1604: Sentry JSON message factory: Need more information in alter partition event (Nachiket Vaidya, Review by: Hao Hao, Vamsee Yarlagadda
     and Alex Kolbasov)
    
     Currently, message factory for alter partition does not store new partition values. It just stores old values.
     For alter partition with partition change, we need both values.
     In this fix:
       - sentry message factory stores also new partition values in alter partition message in addition to old values.
       - Added unit test cases for the same.
       - Added new field "newValues" to store new partition values in SentryJSONAlterPartitionMessage.
    
     Testing done: Added unit test cases.

 .../json/SentryJSONAlterPartitionMessage.java      |  9 ++++++++-
 .../messaging/json/SentryJSONMessageFactory.java   |  2 +-
 ...stractMetastoreTestWithStaticConfiguration.java |  5 +++++
 ...tDBNotificationListenerInBuiltDeserializer.java | 23 +++++++++++++++++++++-
 .../TestSentryListenerSentryDeserializer.java      | 17 ++++++++++++++++
 5 files changed, 53 insertions(+), 3 deletions(-)

commit e840bdb1572d597205d9bbd85b80ff0f3a9f7c8c
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Wed Feb 8 12:08:23 2017 -0800

    SENTRY-1387: Add HDFS sync tests for drop partition for external/implicit locations (Nachiket Vaidya, Review by kalyan kumar kalvagadda, Alex Kolbasov and Hao Hao)
    
    Root cause: makeMetastoreBasePartitionObject() assigns the table location in partition.
    There are two versions of makeMetastorePartitionObject() that call makeMetastoreBasePartitionObject().
    One sets given location and other keeps the location unchanged (which is table location).
    To fix this: set the partition location to null in makeMetastoreBasePartitionObject().
    It will auto-generated by Hive in the format : <part_column>=<part_value>.
    
    Testing done:
      * ran complete test cases of sentry
      * modified unit test case.

 .../AbstractMetastoreTestWithStaticConfiguration.java    |  1 +
 .../metastore/TestSentryListenerSentryDeserializer.java  | 16 ++++++++++------
 2 files changed, 11 insertions(+), 6 deletions(-)

commit 183af2c9bc56a77ea3b718e3f7e3b0f767119303
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 7 23:27:48 2017 -0800

    SENTRY-1624: DefaultSentryValidator doesn't correctly construct SentryOnFailureHookContextImpl (Alex Kolbasov, Reviewed by: Nachiket Vaidya)

 .../sentry/binding/hive/v2/authorizer/DefaultSentryValidator.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 938b2c2baded5542365f5d77cab72ce25d8077f6
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 7 23:26:33 2017 -0800

    SENTRY-1624: DefaultSentryValidator doesn't correctly construct SentryOnFailureHookContextImpl (Alex Kolbasov, Reviewed by: Nachiket Vaidya)

 .../sentry/binding/hive/v2/authorizer/DefaultSentryValidator.java  | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit c4afd37b4a31e04c815896f8e3dc7c0c881b2808
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Feb 7 14:50:49 2017 -0800

    SENTRY-1605: SENTRY-1508 need to be fixed because of Kerberos initialization issue (Vadim Spector, Reviewed by: Vamsee Yarlagadda and Hao Hao)
    
    Change-Id: Ib0ae80e75256f0d3156ef6c60384bf129b553206

 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 122 +++++++++++++++------
 1 file changed, 90 insertions(+), 32 deletions(-)

commit 3ada8a36e08b14fd6c86a879867cc2748e97e693
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Feb 7 08:16:18 2017 -0800

    SENTRY-1615 SentryStore should not allocate empty objects that are immediately returned (Alexander Kolbasov, Reviewed by: Misha Dmitriev)

 .../service/persistent/DelegateSentryStore.java    |  86 ++++---
 .../db/service/persistent/SentryStore.java         | 248 +++++++++++----------
 2 files changed, 170 insertions(+), 164 deletions(-)

commit 9f09f305afd7abbabea0ecfc1a1d0b8edc2922bc
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Feb 7 11:27:08 2017 -0800

    SENTRY-1487: Renaming SQL script for HMSPaths persistence (Kalyan Kumar Kalvagadda, Reviewed by: Hao Hao)
    
    Change-Id: I6265d62e0fb94cfe31fff608a32d5623c723ce6d

 .../resources/{007-SENTRY-872.derby.sql => 007-SENTRY-1365.derby.sql} | 0
 .../resources/{007-SENTRY-872.mysql.sql => 007-SENTRY-1365.mysql.sql} | 0
 .../{007-SENTRY-872.oracle.sql => 007-SENTRY-1365.oracle.sql}         | 0
 .../{007-SENTRY-872.postgres.sql => 007-SENTRY-1365.postgres.sql}     | 0
 .../src/main/resources/sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 4 ++--
 .../src/main/resources/sentry-upgrade-derby-1.7.0-to-1.8.0.sql        | 4 ++--
 .../src/main/resources/sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        | 4 ++--
 .../src/main/resources/sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       | 4 ++--
 .../src/main/resources/sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     | 4 ++--
 9 files changed, 10 insertions(+), 10 deletions(-)

commit 17bf43f388763a933823a602c097c777274f0743
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Feb 6 22:39:00 2017 -0800

    SENTRY-1615 SentryStore should not allocate empty objects that are immediately returned (Alexander Kolbasov, Reviewed by: Misha Dmitriev)

 .../service/persistent/DelegateSentryStore.java    |  88 ++++----
 .../db/service/persistent/SentryStore.java         | 249 +++++++++++----------
 2 files changed, 171 insertions(+), 166 deletions(-)

commit 5d17ebb17d8069a7c9c90d8b9bd470005c3ae9af
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Feb 6 15:53:10 2017 -0800

    SENTRY-1602: Code cleanup for Sentry JSON message factory for hive notifications (Nachiket Vaidya, Reviewed by: Alexander Kolbasov, Hao Hao and Vamsee Yarlagadda)
    
    Change-Id: I6c8c50e5a9e2b1f8d38cab57720fb0665dda14b0

 .../messaging/json/JSONAlterPartitionMessage.java  | 78 -------------------
 .../messaging/json/JSONAlterTableMessage.java      | 68 -----------------
 .../json/SentryJSONAddPartitionMessage.java        |  2 +-
 .../json/SentryJSONAlterPartitionMessage.java      | 22 ++++--
 .../json/SentryJSONAlterTableMessage.java          | 17 +++--
 .../json/SentryJSONCreateDatabaseMessage.java      |  2 +-
 .../json/SentryJSONCreateTableMessage.java         |  2 +-
 .../json/SentryJSONDropDatabaseMessage.java        |  2 +-
 .../json/SentryJSONDropPartitionMessage.java       | 14 ++--
 .../messaging/json/SentryJSONDropTableMessage.java |  2 +-
 .../json/SentryJSONMessageDeserializer.java        | 87 ++++++++++++++--------
 .../messaging/json/SentryJSONMessageFactory.java   | 67 ++++++-----------
 .../apache/sentry/service/thrift/HMSFollower.java  |  2 +-
 .../TestSentryListenerSentryDeserializer.java      | 12 +--
 14 files changed, 126 insertions(+), 251 deletions(-)

commit 4cfc08be4c6b30345867ab3210b6a6dd76e190db
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Feb 6 15:14:26 2017 -0800

    SENTRY-1599: Remove fencing suppor (Reviewed by Vamsee Yarlagadda)

 .../provider/db/service/persistent/Fencer.java     | 262 -----------------
 .../db/service/persistent/SqlAccessor.java         | 309 ---------------------
 .../provider/db/service/persistent/TestFencer.java |  87 ------
 3 files changed, 658 deletions(-)

commit 7770b6ea0cc227a778894c51d43e92d50e7f663f
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Thu Feb 2 20:29:51 2017 -0800

    SENTRY-1621: HMSFollower to retry connecting to HMS upon connection loss
    (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov, Hao Hao)

 .../apache/sentry/hdfs/FullUpdateInitializer.java  |  3 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 44 +++++++++++++++-------
 2 files changed, 32 insertions(+), 15 deletions(-)

commit 2911c532bb83e75f60902fa75bb2097688881947
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Feb 2 21:28:44 2017 -0800

    SENTRY-1536: Refactor SentryStore transaction management to allow for extra transactions for a single permission update (Hao Hao, Reviewed by: Alexander Kolbasov, Kalyan Kumar Kalvagadda and Lei Xu)
    
    Change-Id: I655363d7a65f5eb6a3f662793e719c8c482c64a0

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  26 +
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |  27 +
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |   1 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 106 ++--
 .../provider/db/SentryPolicyStorePlugin.java       |  30 +-
 .../service/persistent/DelegateSentryStore.java    |  59 +--
 .../db/service/model/MSentryPathChange.java        |  35 +-
 .../db/service/model/MSentryPermChange.java        |  33 +-
 .../sentry/provider/db/service/model/package.jdo   |   4 +-
 .../service/persistent/DeltaTransactionBlock.java  |  94 ++++
 .../db/service/persistent/SentryStore.java         | 574 ++++++++++++++++++---
 .../db/service/persistent/TransactionManager.java  |  95 +++-
 .../service/thrift/SentryPolicyStoreProcessor.java | 143 +++--
 .../apache/sentry/service/thrift/HMSFollower.java  |  49 +-
 .../db/service/persistent/TestSentryStore.java     | 208 ++++++++
 .../sentry/service/thrift/TestHMSFollower.java     |  13 +-
 16 files changed, 1254 insertions(+), 243 deletions(-)

commit b98b587e9e3d8a4598108d1c4887a74e5b116aae
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Feb 1 20:56:04 2017 -0800

    SENTRY-1619: Fix the secure HMS connection code in HMSFollower (Vamsee
    Yarlagadda, Reviewed by: Alexander Kolbasov, Kalyan Kumar Kalvagadda,
    Hao Hao)

 .../apache/sentry/service/thrift/HMSFollower.java  | 80 +++++++++++-----------
 1 file changed, 39 insertions(+), 41 deletions(-)

commit d5176b2ea2e80d51f49d9e13075d794436fbe504
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Tue Jan 24 22:23:19 2017 -0800

    SENTRY-1577: Support "create function using jar" for hive when Sentry is enabled (Aihua Xu, Reviewed by: Hao Hao, Alexander Kolbasov)

 .../binding/hive/HiveAuthzBindingHookBase.java     |  38 +++++++++++--
 .../binding/hive/SentryOnFailureHookContext.java   |   5 +-
 .../hive/SentryOnFailureHookContextImpl.java       |  13 ++---
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    |  14 ++++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  14 ++++-
 sentry-tests/data/xudf.jar                         | Bin 0 -> 2430 bytes
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  60 +++++++++++++++++++--
 7 files changed, 124 insertions(+), 20 deletions(-)

commit 78bd5ded70340d1724469a75e443e4ac9b5f6a67
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jan 23 10:29:10 2017 -0800

    SENTRY-1599: CloseablePersistenceManager is no longer needed (Alexander Kolbasov, Reviewed by: Hao Hao)

 .../db/service/persistent/TransactionManager.java  | 27 ++++------------------
 1 file changed, 4 insertions(+), 23 deletions(-)

commit 9652979cfa3d25b491cc168f109395f7e8ab9527
Author: Alexander Kolbasov <akolb@cloudera.com>
Date:   Mon Jan 23 10:24:46 2017 -0800

    SENTRY-1134: Add user defined udf test case (Ke Jia, reviewed Dapeng Sun, Anne Yu)

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 32 +++++++++++++++++++++-
 .../org/apache/sentry/tests/e2e/hive/TestUDF.java  | 29 ++++++++++++++++++++
 2 files changed, 60 insertions(+), 1 deletion(-)

commit 6d8214e70476ba6cb2e09aef6cf47eb24a2316bf
Author: hahao <hao.hao@cloudera.com>
Date:   Sun Jan 22 23:05:03 2017 -0800

    SENTRY-1507: Sentry should use Datanucleus version of javax.jdo (Alexander Kolbasov, Reviewed by: Hao Hao, Li Li and Colm O hEigeartaigh)
    
    Change-Id: Ie272a88e9741044e151cdd2cd847bc939d47c633

 sentry-provider/sentry-provider-db/pom.xml | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 91168c6234f6aee63728202d6571d7d590d16e85
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Jan 20 14:27:54 2017 -0800

    SENTRY-1596: Hive tests failing for sentry-ha-redesign branch (Hao Hao, Reviewed by: Alexander Kolbasov)
    
    Change-Id: Id628aa8f8bba985e591a9375608cd4dbdb1ccf3d

 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 36 ++++++++++++++--------
 1 file changed, 24 insertions(+), 12 deletions(-)

commit 963d5e643e8b575ff22cce11cd0659f4e4774334
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Jan 20 11:36:28 2017 -0800

    SENTRY-1599: CloseablePersistenceManager is no longer needed (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Iab72b0af21cd8280c6c3a24e101b25a22d0d3f00

 .../db/service/persistent/TransactionManager.java  | 25 +++-------------------
 1 file changed, 3 insertions(+), 22 deletions(-)

commit c4d3b5eae26f615cee02f7e77c642ff6dd7f0706
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Jan 20 11:31:26 2017 -0800

    SENTRY-1428: Only leader should follow HMS updates (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: I158608d917241fe01ad7a12b2c4ad8e633b6a23d

 .../apache/sentry/service/thrift/HMSFollower.java  | 57 +++++++++++-----------
 .../sentry/service/thrift/SentryService.java       |  2 +-
 2 files changed, 30 insertions(+), 29 deletions(-)

commit d44e6702751ec2b316d16498a646c51a07065d8f
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Jan 19 16:45:47 2017 -0800

    SENTRY-1507: Sentry should use Datanucleus version of javax.jdo (Alexander Kolbasov, Reviewed by: Hao Hao, Li Li and Colm O hEigeartaigh)
    
    Change-Id: I35058d9a98f67d4d01c7518d5d48324c9b32395b

 sentry-service/sentry-service-server/pom.xml | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 79cbd178a8fbd6d742294a79236dec3b27811585
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jan 17 11:35:58 2017 -0800

    SENTRY-1594: TransactionBlock should become generic (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ie5c7d2b89feb3b003d6d06fac6ca8020406fcb24

 .../service/persistent/DelegateSentryStore.java    | 184 +++++----
 .../db/service/persistent/SentryStore.java         | 423 +++++++++++----------
 .../db/service/persistent/TransactionBlock.java    |  17 +-
 .../db/service/persistent/TransactionManager.java  |  32 +-
 4 files changed, 331 insertions(+), 325 deletions(-)

commit 62bdcbfe90e85dba65ee6992c3e7c6ad9ed985e9
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jan 17 11:05:52 2017 -0800

    SENTRY-1594: TransactionBlock should become generic (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ib5a00f92c45c8be652c4c1cff268602213f2e53e

 .../service/persistent/DelegateSentryStore.java    | 181 ++++-----
 .../db/service/persistent/SentryStore.java         | 423 +++++++++++----------
 .../db/service/persistent/TransactionBlock.java    |  15 +-
 .../db/service/persistent/TransactionManager.java  |  32 +-
 4 files changed, 330 insertions(+), 321 deletions(-)

commit 58d76b93a0765f906ac4246d0a252baa8c807bae
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Jan 11 14:25:37 2017 -0800

    SENTRY-1577: Support "create function using jar" for hive when Sentry is enabled (Aihua Xu, Reviewed by: Hao Hao, Alexander Kolbasov)
    
    Change-Id: I1862b5b6ac919d2d3ccf8179b7710a8df24a09e7

 .../binding/hive/HiveAuthzBindingHookBase.java     |  38 +++++++++++--
 .../binding/hive/SentryOnFailureHookContext.java   |   5 +-
 .../hive/SentryOnFailureHookContextImpl.java       |  13 ++---
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    |  14 ++++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  14 ++++-
 sentry-tests/data/xudf.jar                         | Bin 0 -> 2430 bytes
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  60 +++++++++++++++++++--
 7 files changed, 124 insertions(+), 20 deletions(-)

commit aba45daf7825abad87e27d66284a32f3f3e37cc0
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jan 11 18:30:08 2017 -0800

    SENTRY-1532: Sentry Web UI isn't working (Alexander Kolbasov via Vamsee Yarlagadda, Reviewed by: Vamsee Yarlagadda, Mat Crocker, Hao Hao)

 sentry-service/sentry-service-server/pom.xml | 10 ++++++++++
 sentry-tests/sentry-tests-solr/pom.xml       | 10 ++++++++++
 2 files changed, 20 insertions(+)

commit cb0f1003600b3101918f11863d830f985b63cee5
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jan 11 18:27:45 2017 -0800

    SENTRY-1532: Sentry Web UI isn't working (Alexander Kolbasov via Vamsee Yarlagadda, Reviewed by: Vamsee Yarlagadda, Mat Crocker, Hao Hao)

 sentry-provider/sentry-provider-db/pom.xml | 10 ++++++++++
 sentry-tests/sentry-tests-solr/pom.xml     | 10 ++++++++++
 2 files changed, 20 insertions(+)

commit 6df0a66d7d914df2bbafb0b9d6a328dd6966bc41
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jan 10 17:10:24 2017 -0800

    SENTRY-1538: Create schema for storing HMS path change and Sentry permission change. (Hao Hao, Reviewed by: Alexander Kolbasov, Kalyan Kalvagadda and Vamsee Yarlagadda)
    
    Change-Id: I63e9fe7dc4795a98fd82dfc66276ab88fe484c84

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  11 ++
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |  11 ++
 .../org/apache/sentry/hdfs/ThriftSerializer.java   |  17 +++
 .../java/org/apache/sentry/hdfs/Updateable.java    |  18 +++
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    |  15 +++
 .../apache/sentry/hdfs/TestPermissionUpdate.java   |  41 ++++++
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |   2 +-
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |  11 ++
 .../db/service/model/MSentryPathChange.java        | 139 +++++++++++++++++++++
 .../db/service/model/MSentryPermChange.java        | 137 ++++++++++++++++++++
 .../sentry/provider/db/service/model/package.jdo   |  24 ++++
 11 files changed, 425 insertions(+), 1 deletion(-)

commit 1458d1a3b2e6733be20f54917c4d4dbc4d90bcc1
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jan 10 14:43:07 2017 -0800

    SENTRY-1581: Provide Log4J metrics reporter (Alexander Kolbasov, Reviewed by: Hao Hao, Vamsee Yarlagadda)
    
    Change-Id: I6aab2a7c3e7ec565046c678069049daeacbb7fa3

 .../provider/db/service/thrift/SentryMetrics.java  | 42 ++++++++++++----------
 .../service/thrift/SentryPolicyStoreProcessor.java | 14 +-------
 2 files changed, 25 insertions(+), 31 deletions(-)

commit 2a89d2bfe33eff2d861469caf9058b4062c85d98
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jan 10 14:30:30 2017 -0800

    SENTRY-1581: Provide Log4J metrics reporter (Alexander Kolbasov, Reviewed by: Hao Hao, Vamsee Yarlagadda)
    
    Change-Id: I6f157bba9a35610f5d4e5e032f24f09a12624239

 .../provider/db/service/thrift/SentryMetrics.java  | 42 ++++++++++++----------
 .../service/thrift/SentryPolicyStoreProcessor.java | 14 +-------
 2 files changed, 25 insertions(+), 31 deletions(-)

commit 56b0f19a5a53d75b6d9bc28ff663a37f7cd182af
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jan 9 19:39:36 2017 -0800

    SENTRY-1515: Cleanup exception handling in SentryStore (Alexander Kolbasov via Vamsee Yarlagadda, Reviewed by: Mat Crocker, Hao Hao, Vamsee Yarlagadda, Vadim Spector, Kalyan Kalvagadda)

 .../java/org/apache/sentry/hdfs/Updateable.java    |   2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  61 +--
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |  31 +-
 .../apache/sentry/hdfs/UpdateablePermissions.java  |   2 +-
 .../service/persistent/DelegateSentryStore.java    |   2 +-
 .../service/persistent/SentryStoreLayer.java       |   2 +-
 .../db/service/persistent/SentryStore.java         | 517 +++++++++------------
 7 files changed, 272 insertions(+), 345 deletions(-)

commit 854934cb218cf113bd089f51ca4fdfe72ecef0ee
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jan 9 19:39:36 2017 -0800

    SENTRY-1515: Cleanup exception handling in SentryStore (Alexander Kolbasov via Vamsee Yarlagadda, Reviewed by: Mat Crocker, Hao Hao, Vamsee Yarlagadda, Vadim Spector, Kalyan Kalvagadda)

 .../java/org/apache/sentry/hdfs/Updateable.java    |   2 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  61 +--
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |  31 +-
 .../apache/sentry/hdfs/UpdateablePermissions.java  |   2 +-
 .../service/persistent/DelegateSentryStore.java    |   2 +-
 .../service/persistent/SentryStoreLayer.java       |   2 +-
 .../db/service/persistent/SentryStore.java         | 517 +++++++++------------
 7 files changed, 272 insertions(+), 345 deletions(-)

commit b34a736a64a60790651b39fd77d0a9ce39cd3c2a
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jan 9 15:52:29 2017 -0800

    SENTRY-1499: Add feature flag for using NotificationLog (Hao Hao, Reviewed by: Sravya Tirukkovalur, Kalyan Kalvagadda, Alexander Kolbasov and Vamsee Yarlagadda)
    
    Change-Id: I8e817357b9c833f0aed0e3732b159c866d952f97

 .../SentryMetastorePostEventListener.java          | 523 +++++++++++----------
 ...yMetastorePostEventListenerNotificationLog.java | 395 ++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |  22 +-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  16 +-
 .../TestSentryListenerInBuiltDeserializer.java     |   1 +
 .../TestSentryListenerSentryDeserializer.java      |   1 +
 7 files changed, 702 insertions(+), 258 deletions(-)

commit 5e6da0cabb968160d41425a6808bcab37b27c368
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jan 9 15:20:18 2017 -0800

    SENTRY-1534: Oracle supports serializable instead of repeatable-read (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Id74d6e809fc0055b016b70ddb705506fee0cf8ba

 .../db/service/persistent/SentryStore.java         | 25 ++++++++++++++++++++++
 .../sentry/service/thrift/ServiceConstants.java    |  5 ++++-
 2 files changed, 29 insertions(+), 1 deletion(-)

commit 1a238c0ecf1788a7bda93ae99b7744dac67f5c43
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jan 9 15:07:00 2017 -0800

    SENTRY-1534: Oracle supports serializable instead of repeatable-read (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: I2309be2b8f081d0d87e6caa6993cec81faead1b4

 .../sentry/service/thrift/ServiceConstants.java    |  5 ++++-
 .../db/service/persistent/SentryStore.java         | 26 ++++++++++++++++++++++
 2 files changed, 30 insertions(+), 1 deletion(-)

commit 6125ac9bd541cb141beafa844fc7e32157c532d0
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Jan 6 20:44:34 2017 -0800

    SENTRY-1583: Refactor ZK/Curator code (Alexander Kolbasov via Vamsee Yarlagadda, Reviewed by: Misha Dmitriev, Vamsee Yarlagadda)

 pom.xml                                            |   2 +-
 .../sentry/core/common/utils/SentryConstants.java  |   1 -
 .../provider/db/service/persistent/HAContext.java  | 270 +++++++++++++++++++++
 .../provider/db/service/thrift/SentryMetrics.java  |   2 +-
 .../apache/sentry/service/thrift/Activator.java    | 151 ------------
 .../apache/sentry/service/thrift/Activators.java   |  75 ------
 .../apache/sentry/service/thrift/LeaderStatus.java | 181 --------------
 .../sentry/service/thrift/LeaderStatusAdaptor.java | 207 ----------------
 .../sentry/service/thrift/LeaderStatusMonitor.java | 270 +++++++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |  85 +++----
 .../sentry/service/thrift/ServiceConstants.java    |   6 +-
 .../provider/db/service/thrift/TestActivator.java  |   8 -
 .../service/thrift/TestSentryServiceMetrics.java   |   1 -
 .../sentry/service/thrift/TestLeaderStatus.java    | 245 -------------------
 14 files changed, 587 insertions(+), 917 deletions(-)

commit cf8a16f2ae2c7aa5a0cf49d81e8de13f598c3c10
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jan 4 17:14:32 2017 -0800

    SENTRY-1586: [unit test] Race condition between metastore server/client could cause connection refused errors (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov)

 .../e2e/hive/hiveserver/InternalMetastoreServer.java  | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 99aea6fcc3b92345e4cdf82f6f1eb9677e89b5cf
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Jan 4 17:14:32 2017 -0800

    SENTRY-1586: [unit test] Race condition between metastore server/client could cause connection refused errors (Vamsee Yarlagadda, Reviewed by: Alexander Kolbasov)

 .../e2e/hive/hiveserver/InternalMetastoreServer.java  | 19 ++++++++++++++++++-
 1 file changed, 18 insertions(+), 1 deletion(-)

commit 31cd4d0d44230d304f51e22ff7b3fd3d27b5a602
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Tue Jan 3 11:03:44 2017 -0800

    SENTRY-1582: Additional comments to clarify the intent of string manipulation methods in SentryStore.java (Vamsee Yarlagadda, Reviewed by: Hao Hao, Kalyan Kalvagadda, Alexander Kolbasov)

 .../db/service/persistent/SentryStore.java         | 41 ++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 3c11bb2dd7704bee0c2376958031abea6bfea53f
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Tue Jan 3 11:03:44 2017 -0800

    SENTRY-1582: Additional comments to clarify the intent of string manipulation methods in SentryStore.java (Vamsee Yarlagadda, Reviewed by: Hao Hao, Kalyan Kalvagadda, Alexander Kolbasov)

 .../db/service/persistent/SentryStore.java         | 41 ++++++++++++++++++++++
 1 file changed, 41 insertions(+)

commit 3d88779068ff20a31f842e70caa624a47fd1e34b
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Dec 16 12:39:45 2016 -0800

    SENTRY-1526: Sentry processed stays alive after being killed (Fixing Mismerge) (Alexander Kolbasov via Vamsee Yarlagadda)

 .../main/java/org/apache/sentry/service/thrift/SentryService.java   | 6 ------
 1 file changed, 6 deletions(-)

commit 0bf0a99908ebefd6203eb61bc5fc9f2c2646c2ee
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Dec 16 10:53:19 2016 -0800

    SENTRY-1526: Sentry processed stays alive after being killed (Alexander Kolbasov via Vamsee Yarlagadda)

 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 55d2721c866f0820f03162d92b0a62768eea2d1b
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Dec 16 10:53:19 2016 -0800

    Sentry processed stays alive after being killed (Alexander Kolbasov via Vamsee Yarlagadda)

 .../java/org/apache/sentry/service/thrift/SentryService.java  | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 2a812120c88e99964b1166626ebfab55a16db91c
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 14 16:05:25 2016 -0800

    SENTRY-1476: SentryStore is subject to JDQL injection (Alexander Kolbasov via Vamsee Yarlagadda)

 pom.xml                                            |   2 +
 .../db/service/persistent/SentryStore.java         | 674 ++++++++++++++++-----
 .../db/service/persistent/TestSentryStore.java     |  68 +++
 3 files changed, 576 insertions(+), 168 deletions(-)

commit f48da48f4a1cab221a9ddb81b701114af8c681f7
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 14 16:05:25 2016 -0800

    SENTRY-1476: SentryStore is subject to JDQL injection

 pom.xml                                            |   2 +
 .../db/service/persistent/SentryStore.java         | 675 +++++++++++++++------
 .../db/service/persistent/TestSentryStore.java     |  70 +++
 3 files changed, 578 insertions(+), 169 deletions(-)

commit 55947a5d7944b45d967b3e40fe3741bd9ca9f73a
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Dec 13 15:04:17 2016 -0800

    SENTRY-1564: Improve error detection and reporting in MetastoreCacheInitializer.java (Vadim Spector, Reviewed by: Hao Hao)
    
    Change-Id: I257c31033a748ee9dd23961441ab937d505ce51c

 .../sentry/hdfs/MetastoreCacheInitializer.java     | 38 ++++++++++++++++++----
 1 file changed, 31 insertions(+), 7 deletions(-)

commit 4abd1869fbb86fb3b5dd07c4898f9926f40bcd44
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Dec 13 11:30:21 2016 -0800

    SENTRY-1377: improve handling of failures, both in tests and after-test cleanup, in TestHDFSIntegration.java (Vadim Spector, Reviewed by: Sravya Tirukkovalur and Hao Hao)
    
    Change-Id: I766a1d0e993e3158377205cd3b81ca34256aa014

 .../sentry/hdfs/UpdateableAuthzPermissions.java    |   9 +-
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      | 969 ++++++++++-----------
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 181 ++--
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java | 195 ++---
 4 files changed, 672 insertions(+), 682 deletions(-)

commit b479df4ba383a8920661b1b20d086e40a8ac2e1c
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Dec 12 16:05:11 2016 -0800

    SENTRY-1508: MetastorePlugin.java does not handle properly initialization failure (Vadim Spector, Reviewed by: Sravya Tirukkovalur, Alexander Kolbasov and Hao Hao)
    
    Change-Id: I95c00a92257553da56ee1cae4ae5c8f8d04a2409

 .../org/apache/sentry/hdfs/ServiceConstants.java   |   2 -
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 634 ++++++++++++++-------
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |   2 +-
 3 files changed, 442 insertions(+), 196 deletions(-)

commit 7c345602033dcad6f6470d2b990aeeaf49fd630e
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 7 23:42:36 2016 -0800

    SENTRY-1557: getRolesForGroups(),getRolesForUsers() does too many trips to the the DB (Vamsee Yarlagadda, reviewed by Alexander Kolbasov)

 .../db/service/persistent/SentryStore.java         | 20 ++---
 .../db/service/persistent/TestSentryStore.java     | 96 ++++++++++++++++++++++
 2 files changed, 104 insertions(+), 12 deletions(-)

commit ff623a9444a711ddcf3b8ed558530709ddbf0623
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 7 23:42:36 2016 -0800

    SENTRY-1557: getRolesForGroups(),getRolesForUsers() does too many trips to the the DB (Vamsee Yarlagadda, reviewed by Alexander Kolbasov)

 .../db/service/persistent/SentryStore.java         | 20 ++---
 .../db/service/persistent/TestSentryStore.java     | 96 ++++++++++++++++++++++
 2 files changed, 104 insertions(+), 12 deletions(-)

commit 7ed5c486494408a8e9a4e4b7942fd79581104698
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 7 18:13:20 2016 -0800

    SENTRY-1525: Provide script to run Sentry directly from the repo (Alexander Kolbasov via Vamsee Yarlagadda)

 bin/run_sentry.sh | 39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit 0af1aafce65066c15ed122d19db0537276e5436d
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Dec 7 18:13:20 2016 -0800

    SENTRY-1525: Provide script to run Sentry directly from the repo (Alexander Kolbasov via Vamsee Yarlagadda)

 bin/run_sentry.sh | 39 +++++++++++++++++++++++++++++++++++++++
 1 file changed, 39 insertions(+)

commit ee0040a84c2a52fc670a41c22d08dd7588b21ffe
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Dec 2 10:50:19 2016 -0800

    SENTRY-1518: Add metrics for SentryStore transactions (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: I89c176b97dc84b4c77ad03001d7f872f4d751883

 .../db/service/persistent/TransactionManager.java  | 68 +++++++++++++++++-----
 1 file changed, 54 insertions(+), 14 deletions(-)

commit 5eb2d42af100153bea90d8132b0261d5f6d0f616
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Dec 2 10:47:09 2016 -0800

    SENTRY-1517: SentryStore should actually use function getMSentryRole to get roles (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ic3f8bc8057728ec870a3f6a852c94d4557ebeae0

 .../service/persistent/DelegateSentryStore.java    |  23 +-
 .../provider/db/service/model/MSentryRole.java     |   4 +
 .../db/service/persistent/SentryStore.java         | 511 ++++++++++++---------
 .../persistent/TestDelegateSentryStore.java        |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  80 +++-
 5 files changed, 351 insertions(+), 271 deletions(-)

commit 9f0b14db938d2d3ecf38a8a619b0cedd81fba3d3
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Dec 1 17:36:02 2016 -0800

    SENTRY-1518: Add metrics for SentryStore transactions (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Id1d608eb4055f121aa97d2c6bab0147733c0c4e3

 .../db/service/persistent/TransactionManager.java  | 68 +++++++++++++++++-----
 1 file changed, 54 insertions(+), 14 deletions(-)

commit d9ab452f0ba86177e741ccf147a16da551d01da7
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Dec 1 13:31:47 2016 -0800

    SENTRY-1517: SentryStore should actually use function getMSentryRole to get roles (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: I7a2973d69ea8afd8ecbd67ff88e638538016fbd2

 .../service/persistent/DelegateSentryStore.java    |  23 +-
 .../provider/db/service/model/MSentryRole.java     |   4 +
 .../db/service/persistent/SentryStore.java         | 481 ++++++++++++---------
 .../persistent/TestDelegateSentryStore.java        |   4 +-
 .../db/service/persistent/TestSentryStore.java     |  80 +++-
 5 files changed, 336 insertions(+), 256 deletions(-)

commit 1911c49065c46be976dd5bf35b417bb307a4f75d
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Nov 30 11:22:42 2016 -0800

    SENTRY-1533: Sentry console metrics reporting interval should be configurable (Alexander Kolbasov, Reviewed by: Hao Hao and Vadim Spector)
    
    Change-Id: I7364f9a422619fdf3ff55a225f9c9a4e9675cc50

 .../provider/db/service/thrift/SentryMetrics.java  | 159 +++++++++++++--------
 .../service/thrift/SentryPolicyStoreProcessor.java |   2 +-
 .../sentry/service/thrift/ServiceConstants.java    |  10 +-
 3 files changed, 108 insertions(+), 63 deletions(-)

commit fcce5667024b47d2b986395262b402d4cd893666
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Nov 28 10:58:47 2016 -0800

    SENTRY-1524: sentry-dist is missing dependency on sentry-hdfs-dist (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ief41cb4885108fa7522ec8b584a71453dc0ffd1a

 sentry-dist/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 9e5508ea87b777016d35a70ed5f96dec4ee3699b
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Nov 28 10:58:47 2016 -0800

    SENTRY-1524: sentry-dist is missing dependency on sentry-hdfs-dist (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ief41cb4885108fa7522ec8b584a71453dc0ffd1a

 sentry-dist/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit d9763f6b98b4440f72883991467c0ad96b20952d
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Nov 28 10:33:56 2016 -0800

    SENTRY-1533: Sentry console metrics reporting interval should be configurable (Alexander Kolbasov, Reviewed by: Hao Hao and Vadim Spector)
    
    Change-Id: Ide3871402e5900c0df0b72542dfcbd5d561230ba

 .../sentry/service/thrift/ServiceConstants.java    |   6 +
 .../provider/db/service/thrift/SentryMetrics.java  | 159 +++++++++++++--------
 .../service/thrift/SentryPolicyStoreProcessor.java |   2 +-
 3 files changed, 106 insertions(+), 61 deletions(-)

commit 12fe979dca6148246d439819bbeec4e328efc061
Author: hahao <hao.hao@cloudera.com>
Date:   Sun Nov 27 22:13:03 2016 -0800

    SENTRY-1520: Provide mechanism for triggering HMS full snapshot (Vadim Spector, Reviewed by: Sravya Tirukkovalur, Alexander Kolbasov, Kalyan Kalvagadda and Hao Hao)
    
    Change-Id: Ic712010eabfc891ecad72d907a56dc6151ebece3

 .../apache/sentry/core/common/utils/SigUtils.java  |  97 ++++++++++++
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   1 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 167 ++++++++++++++++++++-
 3 files changed, 260 insertions(+), 5 deletions(-)

commit 73a5eabeaef5f9b76a9366bc74d5cbd99a32bc3f
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Nov 22 15:51:23 2016 -0800

    SENTRY-1520: Provide mechanism for triggering HMS full snapshot (Vadim Spector, Reviewed by: Sravya Tirukkovalur, Alexander Kolbasov, Kalyan Kalvagadda and Hao Hao)
    
    Change-Id: I026e55a464c8967a6d41a4aff40ad902c52fc090

 .../apache/sentry/core/common/utils/SigUtils.java  |  97 ++++++++++++
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   1 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 167 ++++++++++++++++++++-
 3 files changed, 260 insertions(+), 5 deletions(-)

commit d8425a8d89ad7b9a8d9e597322b456909d60cfa8
Author: Li Li <lili@apache.org>
Date:   Tue Nov 8 21:11:13 2016 -0800

    SENTRY-1477: Sentry clients should retry with another server when they get connection errors (Li Li, reviewed by Alexander Kolbasov, Hao Hao)

 .../SentryPolicyServiceClientDefaultImpl.java      | 124 +++++++++++++++---
 .../provider/db/service/thrift/ThriftUtil.java     |  15 +++
 .../thrift/PoolClientInvocationHandler.java        |  87 +++----------
 .../thrift/RetryClientInvocationHandler.java       | 142 +++++++++++++++++++++
 .../thrift/SentryClientInvocationHandler.java      |   2 +-
 .../service/thrift/SentryServiceClientFactory.java |   5 +-
 .../sentry/service/thrift/ServiceConstants.java    |  15 +++
 .../thrift/TestPoolClientInvocationHandler.java    |  20 ++-
 .../tests/e2e/hive/TestPolicyImportExport.java     |   4 +-
 9 files changed, 319 insertions(+), 95 deletions(-)

commit 97c9f7398fab3444edd46704a33d58d9be5673d6
Author: lili <lili@cloudera.com>
Date:   Tue Nov 8 13:24:20 2016 -0800

    SENTRY-1522: Port SENTRY-1505 to sentry-ha_redesign branch (Alexander Kolbasov, reviewed by Li Li)
    
    Change-Id: I64365c66d161a420e8930113bd7b861d3cc48687

 .../service/persistent/DelegateSentryStore.java    |  65 +++++++------
 .../service/persistent/SentryStoreLayer.java       |  25 ++---
 .../service/thrift/NotificationHandler.java        |  20 ++--
 .../service/thrift/NotificationHandlerInvoker.java |  45 +++++----
 .../thrift/SentryGenericPolicyProcessor.java       |  91 +++++++++--------
 .../db/service/persistent/CommitContext.java       |  42 --------
 .../db/service/persistent/SentryStore.java         | 108 ++++++++-------------
 .../db/service/thrift/NotificationHandler.java     |  32 +++---
 .../service/thrift/NotificationHandlerInvoker.java |  62 +++++-------
 .../service/thrift/SentryPolicyStoreProcessor.java |  48 +++++----
 .../thrift/TestSentryGenericPolicyProcessor.java   |  26 -----
 .../db/service/persistent/TestSentryStore.java     |   5 +-
 .../thrift/TestNotificationHandlerInvoker.java     |  40 +++-----
 13 files changed, 245 insertions(+), 364 deletions(-)

commit 441a4f64aa624310d180eae821c12fea1c2f437b
Author: lili <lili@cloudera.com>
Date:   Fri Nov 4 15:22:47 2016 -0700

    SENTRY-1505: CommitContext isn't used by anything and should be removed (Alexander Kolbasov, reviewed by Li Li, Colin Ma)
    
    Change-Id: I7e0ccf13da1155602865755da2444d730c521916

 .../service/persistent/DelegateSentryStore.java    | 55 ++++++-------
 .../service/persistent/SentryStoreLayer.java       | 25 ++----
 .../service/thrift/NotificationHandler.java        | 20 +++--
 .../service/thrift/NotificationHandlerInvoker.java | 45 ++++++-----
 .../thrift/SentryGenericPolicyProcessor.java       | 91 ++++++++++++----------
 .../db/service/persistent/CommitContext.java       | 42 ----------
 .../db/service/persistent/SentryStore.java         | 84 ++++++++------------
 .../db/service/thrift/NotificationHandler.java     | 32 ++++----
 .../service/thrift/NotificationHandlerInvoker.java | 62 ++++++---------
 .../service/thrift/SentryPolicyStoreProcessor.java | 48 ++++++------
 .../thrift/TestSentryGenericPolicyProcessor.java   | 26 -------
 .../thrift/TestNotificationHandlerInvoker.java     | 40 ++++------
 12 files changed, 225 insertions(+), 345 deletions(-)

commit 844b037223ab8e3d73dcdaa8b919296424a79ebd
Author: Colin Ma <colin@apache.org>
Date:   Tue Nov 1 10:07:05 2016 +0800

    SENTRY-1512: Refactor the database transaction management (Colin Ma, reviewed by Alexander Kolbasov, Dapeng Sun)

 .../sentry/service/thrift/ServiceConstants.java    |    9 +
 .../service/persistent/DelegateSentryStore.java    |  497 +++----
 .../service/persistent/SentryStoreLayer.java       |   55 +-
 .../db/service/persistent/SentryStore.java         | 1521 +++++++++-----------
 .../db/service/persistent/TransactionBlock.java    |   37 +
 .../db/service/persistent/TransactionManager.java  |  134 ++
 .../persistent/SentryStoreIntegrationBase.java     |    2 +-
 .../TestPrivilegeOperatePersistence.java           |    9 +-
 8 files changed, 1110 insertions(+), 1154 deletions(-)

commit 9e153050b18ea299c6620f31158df540b75d12eb
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Aug 23 12:16:41 2016 -0700

    SENTRY-1447: When s3 is configured as HDFS defaultFS and Hive Warehouse Dir, need to fix some e2e test failures. For example, TestDbHdfsMaxGroups.java. (Anne Yu, reviewed by Hao Hao).

 sentry-tests/sentry-tests-hive/pom.xml             |   1 +
 .../e2e/dbprovider/TestDbCrossOperations.java      | 130 +++++++++++++++++++++
 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      |   6 +
 .../tests/e2e/hive/TestExportImportPrivileges.java |   4 +
 .../sentry/tests/e2e/hive/TestOperationsPart2.java |   5 +
 5 files changed, 146 insertions(+)

commit b124675c0d571a4b85026d5390a7758092e04842
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri Oct 28 13:44:06 2016 -0700

    SENTRY-1489: Categorize e2e tests into slow and regular tests, so that can adapt the timeout and etc. (Anne Yu, reviewed by LiLi)

 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  8 ---
 .../e2e/dbprovider/TestDbCrossOperations.java      |  6 +-
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |  2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  | 41 +------------
 .../sentry/tests/e2e/hive/RulesForE2ETest.java     | 68 ++++++++++++++++++++++
 .../apache/sentry/tests/e2e/hive/SlowE2ETest.java  | 26 +++++++++
 6 files changed, 99 insertions(+), 52 deletions(-)

commit 1024efb4de784e8a6bc952633dd0a52ae1599176
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 15:00:23 2016 -0700

    SENTRY-1260: Improve error handling - ArrayIndexOutOfBoundsException in PathsUpdate.parsePath can cause MetastoreCacheInitializer intialization to fail(Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: I76ce7333518e8b1c2fe15677124281d3fa6972c5

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  37 ++++---
 .../sentry/hdfs/SentryMalformedPathException.java  |  38 +++++++
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    |  31 +++++-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |   4 +-
 .../sentry/hdfs/MetastoreCacheInitializer.java     |  36 ++++--
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  40 ++++++-
 .../sentry/hdfs/TestMetastoreCacheInitializer.java | 122 +++++++++++++++++----
 7 files changed, 260 insertions(+), 48 deletions(-)

commit a8c405a9ab6910fd6341588db76ccb78c5bcb535
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 13:25:11 2016 -0700

    SENTRY-1270: Improve error handling - Database with malformed URI causes NPE in HMS plugin during DDL (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)
    
    Change-Id: I11da6179300ff50e892b7d7c0d290d4213be55a9

 .../main/java/org/apache/sentry/hdfs/MetastorePlugin.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit caf924b5fe7862932443d445bdf46de1bedd2a61
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 12:21:37 2016 -0700

    SENTRY-1313: Database prefix is not honoured when executing grant statement (Sravya Tirukkovalur, Reviewed by: Hao Hao and Alexander Kolbasov)
    
    Change-Id: I7c39724cd8b8f89d96499fdaed70fffad75728aa

 .../binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java  |  4 ++--
 .../binding/hive/TestSentryHiveAuthorizationTaskFactory.java  | 11 +++++++++++
 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java     |  2 +-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 7d39a6ef87ab5e76c5cc162ab95efdae5e3f4b5c
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 15:00:23 2016 -0700

    SENTRY-1260: Improve error handling - ArrayIndexOutOfBoundsException in PathsUpdate.parsePath can cause MetastoreCacheInitializer intialization to fail(Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: I76ce7333518e8b1c2fe15677124281d3fa6972c5

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  37 ++++---
 .../sentry/hdfs/SentryMalformedPathException.java  |  38 +++++++
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    |  31 +++++-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |   4 +-
 .../sentry/hdfs/MetastoreCacheInitializer.java     |  36 ++++--
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  40 ++++++-
 .../sentry/hdfs/TestMetastoreCacheInitializer.java | 122 +++++++++++++++++----
 7 files changed, 260 insertions(+), 48 deletions(-)

commit b8be26f84277644ddfd5d0e8512404857dc89ab1
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 13:25:11 2016 -0700

    SENTRY-1270: Improve error handling - Database with malformed URI causes NPE in HMS plugin during DDL (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)
    
    Change-Id: I11da6179300ff50e892b7d7c0d290d4213be55a9

 .../main/java/org/apache/sentry/hdfs/MetastorePlugin.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit 44dc1598e5e6a98137a84b51005cafac36ad3272
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 27 12:21:37 2016 -0700

    SENTRY-1313: Database prefix is not honoured when executing grant statement (Sravya Tirukkovalur, Reviewed by: Hao Hao and Alexander Kolbasov)
    
    Change-Id: I7c39724cd8b8f89d96499fdaed70fffad75728aa

 .../binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java  |  4 ++--
 .../binding/hive/TestSentryHiveAuthorizationTaskFactory.java  | 11 +++++++++++
 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java     |  2 +-
 3 files changed, 14 insertions(+), 3 deletions(-)

commit 13c3305de5d13d02fda9cfb149843697280518f9
Author: Colin Ma <colin@apache.org>
Date:   Thu Oct 27 13:41:15 2016 +0800

    SENTRY-1422: JDO deadlocks while processing grant while a background thread processes Notificationlogs (Colin Ma, Reviewed by Alexander Kolbasov, Hao Hao)

 .../service/persistent/DelegateSentryStore.java    |  499 +++----
 .../service/persistent/SentryStoreLayer.java       |   55 +-
 .../db/service/persistent/SentryStore.java         | 1578 +++++++++-----------
 .../db/service/persistent/TransactionBlock.java    |   37 +
 .../db/service/persistent/TransactionManager.java  |  134 ++
 .../apache/sentry/service/thrift/HMSFollower.java  |   23 +-
 .../sentry/service/thrift/ServiceConstants.java    |    9 +
 .../persistent/SentryStoreIntegrationBase.java     |    2 +-
 .../TestPrivilegeOperatePersistence.java           |    9 +-
 9 files changed, 1141 insertions(+), 1205 deletions(-)

commit 049308d9ebef235e6a23e939969e7287a053ba5d
Author: lili <lili@cloudera.com>
Date:   Mon Oct 24 17:22:19 2016 -0700

    SENTRY-1510: Add option to use non pool model for sentry client (Li Li, Reviewed by Hao Hao)
    
    Change-Id: I53fd629e402da4b4f4e3ef17a91fdcb14bc49394

 .../sentry/service/thrift/PoolClientInvocationHandler.java    |  3 +++
 .../sentry/service/thrift/SentryServiceClientFactory.java     | 11 +++++++++--
 .../db/service/thrift/TestSentryServiceFailureCase.java       |  3 +--
 .../apache/sentry/tests/e2e/hive/TestPolicyImportExport.java  |  4 +---
 4 files changed, 14 insertions(+), 7 deletions(-)

commit e96151ad36f92c1c54427906f6c5a6484b60a9cd
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Oct 24 16:21:51 2016 -0700

    SENTRY-1463: Ensure HMS point-in-time snapshot consistency(Hao Hao, Reviewed by: Sravya Tirukkovalur, Li Li)
    
    Change-Id: I3aad74e572fed5b0ced7104457cd2441d0a7b754

 .../apache/sentry/service/thrift/HMSFollower.java  | 88 +++++++++++++++-------
 .../sentry/service/thrift/SentryService.java       |  4 +-
 2 files changed, 61 insertions(+), 31 deletions(-)

commit a43f7dff0ea999c57e8135f581ee0735bef7996f
Author: Anne Yu <anneyu@cloudera.com>
Date:   Sun Oct 9 23:41:44 2016 -0700

    SENTRY-1497: create a sentry scale test tool to add various objects and privileges into Sentry and HMS. (Anne Yu, reviewed by Haohao, Lili and Sravya Tirukkovalur)

 pom.xml                                            |   3 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  31 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   1 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |  10 +-
 .../tests/e2e/tools/CreateSentryTestScaleData.java | 542 +++++++++++++++++++++
 .../apache/sentry/tests/e2e/tools/TestTools.java   |  81 +++
 .../tests/e2e/tools/sentry_scale_test_config.xml   | 119 +++++
 .../scripts/scale-test/create-many-dbs-tables.sh   | 277 -----------
 8 files changed, 781 insertions(+), 283 deletions(-)

commit 0b8301f2808cdd15278786dd33253df6018e04f5
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Oct 20 11:04:46 2016 -0700

    SENTRY-1503: Remove all sequence ID checks from TestSentryStore (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ib1cccf07568a0441658fe4d2568e8a1e97c843de

 .../persistent/TestDelegateSentryStore.java        |   4 +-
 .../db/service/persistent/TestSentryStore.java     | 151 ++++++++-------------
 2 files changed, 61 insertions(+), 94 deletions(-)

commit 59dbe626c9e4553e03ebafe7c37d7017ede68758
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Oct 20 10:58:20 2016 -0700

    SENTRY-1503: Remove all sequence ID checks from TestSentryStore (Alexander Kolbasov, Reviewed by: Hao Hao)
    
    Change-Id: Ic0869378506b7e932d099c05333925d1324e1a38

 .../persistent/TestDelegateSentryStore.java        |   4 +-
 .../db/service/persistent/TestSentryStore.java     | 151 ++++++++-------------
 2 files changed, 61 insertions(+), 94 deletions(-)

commit 7138db63c7341f60b11e683022cd8a4ffc42a962
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Oct 17 11:08:55 2016 +0100

    SENTRY-1504 - NPE in log4j.properties parsing

 .../sentry-core-common/src/main/java/org/apache/sentry/SentryMain.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1e6ea0ea2b8a1294d28990c35be95bcbe064f463
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Tue Oct 11 09:45:38 2016 -0700

    SENTRY-1459: Alter view with HMS Client fails with "java.lang.IllegalArgumentException: Can not create a Path from a null string" (Ankur Gupta, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I1761eb3b33e115de6cba17100d9af85bc0cb2b80

 .../metastore/MetastoreAuthzBindingBase.java       | 19 +++++++++++--------
 ...stractMetastoreTestWithStaticConfiguration.java |  9 +++++++++
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 22 ++++++++++++++++++++++
 3 files changed, 42 insertions(+), 8 deletions(-)

commit b7500ec237a02b2afb5ec50d4146e2a9289a01df
Author: lili <lili@cloudera.com>
Date:   Mon Oct 10 11:49:40 2016 -0700

    SENTRY-1498: Move SentryAdminServlet from sentry-service to sentry-provider (Li Li, Reviewed by Anne Yu)
    
    Change-Id: I20f7df17f0b7e8c25444504863fe41eed06a47e0

 .../org/apache/sentry/provider/db/service/thrift/SentryAdminServlet.java  | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit ab2c4a3d5ac666ec72a13eabd30f29aafd99c053
Author: lili <lili@cloudera.com>
Date:   Tue Oct 4 14:45:25 2016 -0700

    SENTRY-1120: Show role / privileges info in Sentry Service Webpage (Li Li, Reviewed by Anne Yu)
    
    Change-Id: I44a733edf2beecfd39d6d15b06d7ad337b73685c

 .../db/service/thrift/SentryWebServer.java         |  11 +-
 .../sentry/service/thrift/ServiceConstants.java    |   4 +
 .../db/service/thrift/SentryAdminServlet.java      | 132 +++++++++++++++++++++
 3 files changed, 144 insertions(+), 3 deletions(-)

commit e77ec8a6e7374db40b8389a9106a2db8090db780
Author: lili <lili@cloudera.com>
Date:   Tue Oct 4 14:45:25 2016 -0700

    SENTRY-1120: Show role / privileges info in Sentry Service Webpage (Li Li, Reviewed by Anne Yu)
    
    Change-Id: I44a733edf2beecfd39d6d15b06d7ad337b73685c

 .../sentry/service/thrift/ServiceConstants.java    |   4 +
 .../db/service/thrift/SentryAdminServlet.java      | 132 +++++++++++++++++++++
 .../db/service/thrift/SentryWebServer.java         |  11 +-
 3 files changed, 144 insertions(+), 3 deletions(-)

commit ad929e81897b015db7a4b52a2e76a89d02e52e31
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 6 16:46:29 2016 -0700

    SENTRY-1486: Sentry should use repeatable-read consistency level (Alexander Kolbasov, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: If2d51c7aafc10d0f0376e19474cab0025a01403d

 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8fd2e0effedbf5e427a1b1383c263acc3a716d2
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Oct 6 16:46:29 2016 -0700

    SENTRY-1486: Sentry should use repeatable-read consistency level (Alexander Kolbasov, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: If2d51c7aafc10d0f0376e19474cab0025a01403d

 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f048132a7e7e111ea0d2f28220cc992b66ed95f8
Author: lili <lili@cloudera.com>
Date:   Thu Sep 22 17:01:30 2016 -0700

    SENTRY-1478: Disable fencing in Sentry store for Active/Active  (Li Li, Reviewed by: Hao Hao)
    
    Change-Id: Idfd6e3f783fd0b4d81fdee109306be0d74df5440

 .../service/persistent/DelegateSentryStore.java    | 24 ++------
 .../service/persistent/SentryStoreLayer.java       |  9 ++-
 .../db/service/persistent/SentryStore.java         | 62 +++++----------------
 .../apache/sentry/service/thrift/Activator.java    |  4 +-
 .../apache/sentry/service/thrift/HMSFollower.java  | 32 ++---------
 .../thrift/PoolClientInvocationHandler.java        | 34 +++---------
 .../sentry/service/thrift/SentryService.java       | 19 +------
 .../persistent/SentryStoreIntegrationBase.java     | 14 -----
 .../TestPrivilegeOperatePersistence.java           | 19 +------
 .../provider/db/service/persistent/TestFencer.java | 64 ----------------------
 .../db/service/persistent/TestSentryStore.java     | 16 +-----
 .../persistent/TestSentryStoreImportExport.java    | 16 +-----
 .../db/service/persistent/TestSentryVersion.java   | 17 ------
 .../apache/sentry/tests/e2e/ha/TestFailover.java   | 34 +-----------
 14 files changed, 48 insertions(+), 316 deletions(-)

commit cbc7efcfb9cc8d254a4733dc07385d1ef49d756d
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Tue Sep 27 16:03:15 2016 +0100

    Some trivial logging changes

 .../src/main/java/org/apache/sentry/core/common/ActiveRoleSet.java      | 2 +-
 .../apache/sentry/provider/common/ResourceAuthorizationProvider.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 164ea5f1a66889cf2b7cfe3cacaa83ae645f557c
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Thu Sep 22 11:49:19 2016 +0100

    Using project.version instead of version

 sentry-service/sentry-service-server/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5acaa8ee265e8c83926013b208b786aa4083f5f5
Author: Anne Yu <anneyu@cloudera.com>
Date:   Thu Sep 15 21:40:14 2016 -0700

    SENTRY-1471: TestHDFSIntegrationBase.java implements HDFS ACL checking and query verification incorrectly. Also disable testAuthzObjOnPartitionMultipleTables until it gets fixed. ( Vadim Spector, reviewed by Anne Yu)

 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      | 15 ++++++---
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    | 37 ++++++++++------------
 2 files changed, 27 insertions(+), 25 deletions(-)

commit ed965d8712ae087bff3fddd6d74b4d475a541349
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon Sep 12 11:14:05 2016 +0100

    Some trivial typos + changes to the Kafka tests

 .../sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java       | 7 ++++---
 .../test/java/org/apache/sentry/tests/e2e/kafka/TestAclsCrud.java | 5 +----
 .../java/org/apache/sentry/tests/e2e/kafka/TestAuthorize.java     | 8 ++++----
 3 files changed, 9 insertions(+), 11 deletions(-)

commit a5ed6d912d1cac5f2239a629a34ce063ac97e6a4
Author: Anne Yu <anneyu@cloudera.com>
Date:   Thu Sep 8 14:44:25 2016 -0700

    SENTRY-1464: fix Sentry e2e test failure in org.apache.sentry.tests.e2e.dbprovider.TestDbUriPermissions.testAlterPartitionLocationPrivileges; and print out key queries for triaging test failures on jenkins job's outputs. (Anne Yu, reviewed by Hao Hao).

 .../tests/e2e/hive/TestMetadataPermissions.java    |  10 +-
 .../e2e/dbprovider/TestDbCrossOperations.java      |  32 +++--
 .../hive/AbstractTestWithStaticConfiguration.java  |  50 ++++----
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   1 +
 .../tests/e2e/hive/TestExportImportPrivileges.java |  25 ++--
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 136 ++++++++++-----------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  34 +++---
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  80 ++++++------
 .../e2e/hive/fs/TestHiveWarehouseOnExtFs.java      |   2 +-
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |   8 +-
 10 files changed, 193 insertions(+), 185 deletions(-)

commit cf93a3a3e66ac7e21f92a1232b63a2a50cf8f86a
Author: Jia Ke <ke.a.jia@intel.com>
Date:   Wed Sep 7 09:17:14 2016 +0800

    SENTRY-1402: Add TestGrantUserToRole to V2

 .../tests/e2e/dbprovider/TestGrantUserToRole.java  | 261 +++++++++++++++++++++
 1 file changed, 261 insertions(+)

commit 92ebf1d465493efdf85771ef6c16329dccab5b35
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Sep 2 16:29:45 2016 -0700

    SENTRY-1413: Changes to get the Fencer working with Oracle and MySQL (Rahul Sharma, Reviewed by: Hao Hao)
    
    Change-Id: Ic447a933b13a75fd7f7a4eb44ea1c83547cd741f

 .../apache/sentry/provider/db/service/persistent/SqlAccessor.java   | 6 +++---
 .../main/java/org/apache/sentry/service/thrift/LeaderStatus.java    | 6 +++++-
 .../java/org/apache/sentry/service/thrift/TestLeaderStatus.java     | 4 ++--
 3 files changed, 10 insertions(+), 6 deletions(-)

commit 4f9b61fe517884f056f76c16cf2c4ed3c72c494e
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri Sep 2 10:59:45 2016 -0700

    SENTRY-1456: SENTRY-1454 follow up: Commit message and rat check failure. (Anne Yu, reviewed by Sravya Tirukkovalur).

 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java    | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit e84890aede5560a0d8c005ad00bda54117d3ecb1
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri Aug 26 17:04:19 2016 -0700

    SENTRY-1429, SENTRY-1454: fix flaky TestHDFSIntegration, refactor this huge test class, improve its cleanUp and setUp for temp HDFS dirs; divide test class into smoke test class and p2 test class; in post commit run, we will only run smoke tests. (Anne Yu, reviewed by Sravya Tirukkovalur and Hao Hao)

 pom.xml                                            |    1 +
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |    2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 2101 --------------------
 .../e2e/hdfs/TestHDFSIntegrationAdvanced.java      |  793 ++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationBase.java    |  778 ++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationEnd2End.java |  530 +++++
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |    6 +-
 7 files changed, 2106 insertions(+), 2105 deletions(-)

commit df2b27364753cf146d34d912ff9d9037c4cca9aa
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Aug 25 16:39:37 2016 -0700

    SENTRY-1450: Have privilege converter set by Kafka binding (Ashish K Singh, Reviewed by: Hao Hao and Dapeng Sun)

 .../main/java/org/apache/sentry/kafka/binding/KafkaAuthBinding.java | 6 ++++++
 .../apache/sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java  | 2 --
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 53dc2d6f41633b55711f0aff8d5e4c9be301255d
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Aug 23 12:16:41 2016 -0700

    SENTRY-1447: When s3 is configured as HDFS defaultFS and Hive Warehouse Dir, need to fix some e2e test failures. For example, TestDbHdfsMaxGroups.java. (Anne Yu, reviewed by Hao Hao).

 sentry-tests/sentry-tests-hive/pom.xml             |   1 +
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  62 ----------
 .../e2e/dbprovider/TestDbCrossOperations.java      | 130 +++++++++++++++++++++
 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      |   6 +
 .../tests/e2e/hive/TestExportImportPrivileges.java |   4 +
 .../sentry/tests/e2e/hive/TestOperationsPart2.java |   5 +
 6 files changed, 146 insertions(+), 62 deletions(-)

commit e3f0a9f87ca16723a8c1fba4a6fe19adf28c01c9
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Aug 23 11:01:47 2016 -0700

    SENTRY-1371: Rework Sentry start up and Hive state fetch (Hao Hao, Reviewed by: Sravya Tirukkovalur)

 sentry-hdfs/sentry-hdfs-common/pom.xml             |   6 +
 .../apache/sentry/hdfs/FullUpdateInitializer.java  | 335 +++++++++++++++++++++
 .../sentry/hdfs/TestFullUpdateInitializer.java     | 170 +++++++++++
 sentry-provider/sentry-provider-db/pom.xml         |  14 +
 .../apache/sentry/service/thrift/HMSFollower.java  |  75 ++++-
 .../sentry/service/thrift/SentryService.java       |   4 +-
 6 files changed, 587 insertions(+), 17 deletions(-)

commit c0ddd6121c2eec30ab43ef7b9511a5114507f773
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Aug 22 15:24:00 2016 -0700

    SENTRY-1411: The sentry client should retry RPCs if it gets a SentryStandbyException (SentryPolicyServiceClient - pool version) (Hao Hao, Reviewed by: Sravya Tirukkovalur)

 .../common/exception/SentryStandbyException.java   |   4 +
 sentry-hdfs/sentry-hdfs-common/pom.xml             |   5 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  12 +-
 .../thrift/PoolClientInvocationHandler.java        | 305 +++++++++++++++++----
 .../service/thrift/SentryServiceClientFactory.java |  11 +-
 .../thrift/SentryServiceClientPoolFactory.java     |  11 +-
 .../thrift/TestSentryServiceFailureCase.java       |   5 +-
 .../TestSentryServiceWithInvalidMsgSize.java       |   2 +-
 .../thrift/TestPoolClientInvocationHandler.java    |  69 +++++
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 .../tests/e2e/hive/TestPolicyImportExport.java     |   4 +-
 11 files changed, 361 insertions(+), 69 deletions(-)

commit 5a96dcdae86f99ed5218e1443daf47411cec536e
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Aug 18 16:36:37 2016 -0700

    SENTRY-1321: Implement HMSFollower in Sentry service which reads the NotificationLog entries (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: Ibf06dcad6b68d900c5471ed092f2e3f3c820b8bb

 sentry-binding/pom.xml                             |   3 +
 sentry-binding/sentry-binding-hive-common/pom.xml  |   5 +
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 269 --------------
 sentry-binding/sentry-binding-hive-conf/pom.xml    |  62 ++++
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 269 ++++++++++++++
 .../sentry-binding-hive-follower/pom.xml           |  71 ++++
 .../messaging/json/JSONAlterPartitionMessage.java  |   0
 .../messaging/json/JSONAlterTableMessage.java      |   0
 .../json/SentryJSONAddPartitionMessage.java        |   0
 .../json/SentryJSONAlterPartitionMessage.java      |   0
 .../json/SentryJSONAlterTableMessage.java          |   0
 .../json/SentryJSONCreateDatabaseMessage.java      |   0
 .../json/SentryJSONCreateTableMessage.java         |   0
 .../json/SentryJSONDropDatabaseMessage.java        |   0
 .../json/SentryJSONDropPartitionMessage.java       |   0
 .../messaging/json/SentryJSONDropTableMessage.java |   0
 .../json/SentryJSONMessageDeserializer.java        |   0
 .../messaging/json/SentryJSONMessageFactory.java   |   0
 .../exception/SentryInvalidHMSEventException.java  |  31 ++
 .../exception/SentryInvalidInputException.java     |   3 +
 sentry-provider/sentry-provider-db/pom.xml         |  31 ++
 .../apache/sentry/service/thrift/HMSFollower.java  | 411 +++++++++++++++++++++
 .../service/thrift/SentryKerberosContext.java      |  10 +-
 .../sentry/service/thrift/SentryService.java       |  22 +-
 .../sentry/service/thrift/TestHMSFollower.java     | 165 +++++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  25 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   7 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   4 +
 28 files changed, 1100 insertions(+), 288 deletions(-)

commit f45727ab1a70a8e108c326da38aab2d00ba00f75
Author: Colin Ma <colin@apache.org>
Date:   Mon Aug 15 15:30:34 2016 +0800

    SENTRY-1406:Refactor: move AuthorizationProvider out of sentry-provider-common(Colin Ma, reviewed by Dapeng Sun, Ke Jia)

 pom.xml                                            |  5 +++
 sentry-binding/sentry-binding-hive-common/pom.xml  |  4 ++
 sentry-binding/sentry-binding-kafka/pom.xml        |  4 ++
 sentry-binding/sentry-binding-solr/pom.xml         |  4 ++
 sentry-binding/sentry-binding-sqoop/pom.xml        |  4 ++
 sentry-dist/pom.xml                                |  4 ++
 sentry-policy/sentry-policy-common/pom.xml         |  4 --
 sentry-policy/sentry-policy-engine/pom.xml         |  4 ++
 sentry-policy/sentry-policy-indexer/pom.xml        |  5 +++
 sentry-provider/pom.xml                            |  1 +
 .../sentry-authorization-provider/pom.xml          | 45 ++++++++++++++++++++++
 .../provider/common/AuthorizationProvider.java     |  0
 .../HadoopGroupResourceAuthorizationProvider.java  |  0
 .../provider/common/NoAuthorizationProvider.java   |  0
 .../common/ResourceAuthorizationProvider.java      |  0
 .../HadoopGroupResourceAuthorizationProvider.java  |  0
 .../provider/file/LocalGroupMappingService.java    |  0
 .../LocalGroupResourceAuthorizationProvider.java   |  0
 .../provider/common/TestGetGroupMapping.java       |  0
 .../common/TestNoAuthorizationProvider.java        | 12 +++---
 .../provider/file/TestLocalGroupMapping.java       |  0
 .../src/test/resources/log4j.properties            | 31 +++++++++++++++
 .../test-authz-provider-local-group-mapping.ini    | 33 ++++++++++++++++
 sentry-provider/sentry-provider-cache/pom.xml      |  4 ++
 sentry-provider/sentry-provider-common/pom.xml     |  7 +---
 .../provider/file/SimpleFileProviderBackend.java   |  4 +-
 sentry-service/sentry-service-server/pom.xml       |  5 +++
 27 files changed, 161 insertions(+), 19 deletions(-)

commit ddae7c04e3bd41a21223bdc1c59f6a12720423e6
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Aug 10 14:34:36 2016 +0800

    SENTRY-1359: Implement SHOW ROLE GRANT USER user_name in V2 (Ke Jia via Dapeng Sun)

 .../authorizer/DefaultSentryAccessController.java  | 10 +++++---
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 29 ++++++++++++++++++++++
 2 files changed, 35 insertions(+), 4 deletions(-)

commit 64fb094abef815ea87cc79056bbcc4e65faaced1
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Aug 10 14:33:14 2016 +0800

    SENTRY-1405: Add test for "show grant role on all " command in V2 (Ke, Jia via Dapeng Sun)

 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 24 ++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 985f4ad59e87d065a961e950be49fb29c7cd1302
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Aug 8 10:49:37 2016 +0800

    SENTRY-1438: Move PolicyFiles from sentry-provider-file to sentry-core-common in V2 (Ke Jia via Dapeng Sun)

 .../test/java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 2 +-
 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestSandboxOps.java  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 9da220abce69fbb2bb4e4467edab59622f96a241
Author: Colin Ma <colin@apache.org>
Date:   Wed Aug 3 11:14:25 2016 +0800

    SENTRY-1436: Move PolicyFiles from sentry-provider-file to sentry-core-common(Colin Ma, reviewed by Dapeng Sun)

 .../org/apache/sentry/binding/hive/SentryIniPolicyFileFormatter.java    | 2 +-
 .../test/java/org/apache/sentry/binding/hive/TestHiveAuthzBindings.java | 2 +-
 .../policy/hive/TestResourceAuthorizationProviderGeneralCases.java      | 2 +-
 .../java/org/apache/sentry/policy/hive/TestSimpleDBPolicyEngineDFS.java | 2 +-
 .../org/apache/sentry/policy/hive/TestSimpleDBPolicyEngineLocalFS.java  | 2 +-
 .../sentry/policy/kafka/TestKafkaAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/kafka/TestKafkaPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/kafka/TestKafkaPolicyEngineLocalFS.java    | 2 +-
 .../test/java/org/apache/sentry/binding/solr/TestSolrAuthzBinding.java  | 2 +-
 .../sentry/policy/solr/TestSearchAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/solr/TestSearchPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/solr/TestSearchPolicyEngineLocalFS.java    | 2 +-
 .../sentry/policy/sqoop/TestSqoopAuthorizationProviderGeneralCases.java | 2 +-
 .../java/org/apache/sentry/policy/sqoop/TestSqoopPolicyEngineDFS.java   | 2 +-
 .../org/apache/sentry/policy/sqoop/TestSqoopPolicyEngineLocalFS.java    | 2 +-
 .../java/org/apache/sentry/sqoop/TestSentryAuthorizationHander.java     | 2 +-
 .../src/main/java/org/apache/sentry/core/common/utils}/PolicyFiles.java | 2 +-
 .../policy/indexer/TestIndexerAuthorizationProviderGeneralCases.java    | 2 +-
 .../org/apache/sentry/policy/indexer/TestIndexerPolicyEngineDFS.java    | 2 +-
 .../apache/sentry/policy/indexer/TestIndexerPolicyEngineLocalFS.java    | 2 +-
 .../java/org/apache/sentry/provider/cache/PrivilegeCacheTestImpl.java   | 2 +-
 .../java/org/apache/sentry/provider/file/LocalGroupMappingService.java  | 1 +
 .../java/org/apache/sentry/provider/file/SimpleFileProviderBackend.java | 1 +
 .../java/org/apache/sentry/provider/file/TestLocalGroupMapping.java     | 1 +
 .../org/apache/sentry/provider/file/TestSimpleFileProvderBackend.java   | 1 +
 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestSandboxOps.java  | 2 +-
 26 files changed, 26 insertions(+), 22 deletions(-)

commit 3bff594d87249e90d226d0953539d4ed4335d95a
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Aug 2 13:34:40 2016 -0700

    SENTRY-1404: Use the new INodeAttributesProvider API in sentry-hdfs (Hao Hao, Reviewed by: Anne Yu)

 pom.xml                                            |   2 +-
 sentry-binding/sentry-binding-solr/pom.xml         |   9 +
 .../server/namenode/AuthorizationProvider.java     | 411 -------------------
 .../sentry/hdfs/SentryAuthorizationConstants.java  |  14 +-
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 437 ---------------------
 .../sentry/hdfs/SentryINodeAttributesProvider.java | 386 ++++++++++++++++++
 ...java => MockSentryINodeAttributesProvider.java} |   6 +-
 ...java => TestSentryINodeAttributesProvider.java} |  12 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   8 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  40 +-
 10 files changed, 439 insertions(+), 886 deletions(-)

commit 39c473c1f47ae73a131bc3ab607d4400a4aabe54
Author: Anne Yu <anneyu@cloudera.com>
Date:   Thu Jul 28 15:11:59 2016 -0700

    SENTRY-1415: Provide a hook to stop the active sentry sevice. (Rahul Sharma, reviewed by Anne Yu).

 .../apache/sentry/service/thrift/Activator.java    |  9 +++
 .../apache/sentry/service/thrift/LeaderStatus.java | 20 ++++++
 .../sentry/service/thrift/SentryService.java       | 35 ++++++++++
 .../provider/db/service/thrift/TestActivator.java  | 53 ++++++++++++++
 .../apache/sentry/tests/e2e/ha/TestFailover.java   | 81 ++++++++++++++++++++++
 5 files changed, 198 insertions(+)

commit 2ce6bb275f41662ba5b7b98563d3e05fa442fd90
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Jul 25 21:16:23 2016 -0700

    SENTRY-1331: Add a kerberos end to end test case to access isActive and isHa metrics. (Rahul Sharma, reviewed by Anne Yu)

 .../service/thrift/TestSentryServiceMetrics.java   | 39 ++++++++--
 .../service/thrift/SentryWebMetricParser.java      | 86 ++++++++++++++++++++++
 2 files changed, 120 insertions(+), 5 deletions(-)

commit f13323008c46283796952fe8b71bc40ed4dc6523
Author: Colin Ma <colin@apache.org>
Date:   Thu Jul 21 13:55:58 2016 +0800

    SENTRY-1205: Refactor the code for sentry-provider-db and create sentry-service module(Colin Ma, reviewed by Dapeng Sun)

 pom.xml                                            |  30 +-
 sentry-binding/sentry-binding-hive-common/pom.xml  |  12 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml      |  20 --
 .../hive/v2/metastore/MetastoreAuthzBindingV2.java |   2 +-
 sentry-binding/sentry-binding-hive/pom.xml         |  29 --
 .../binding/hive/MockUserToGroupMapping.java       |   2 +-
 .../policy/hive/TestPolicyParsingNegative.java     |   2 +-
 ...tResourceAuthorizationProviderGeneralCases.java |   2 +-
 ...tResourceAuthorizationProviderSpecialCases.java |   2 +-
 .../policy/hive/TestSimpleDBPolicyEngineDFS.java   |   2 +-
 sentry-binding/sentry-binding-kafka/pom.xml        |  14 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |   2 +-
 .../kafka/MockGroupMappingServiceProvider.java     |   2 +-
 ...TestKafkaAuthorizationProviderSpecialCases.java |   2 +-
 sentry-binding/sentry-binding-solr/pom.xml         |  12 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |   4 +-
 ...estSearchAuthorizationProviderGeneralCases.java |   2 +-
 ...estSearchAuthorizationProviderSpecialCases.java |   2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml        |  10 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |   2 +-
 ...TestSqoopAuthorizationProviderGeneralCases.java |   2 +-
 ...TestSqoopAuthorizationProviderSpecialCases.java |   2 +-
 .../core/common/service}/GroupMappingService.java  |   2 +-
 .../common/service}/HadoopGroupMappingService.java |   2 +-
 .../service}/MockGroupMappingServiceProvider.java  |   2 +-
 .../common/service}/NoGroupMappingService.java     |   2 +-
 .../core/common/utils}/AuthorizationComponent.java |   2 +-
 .../sentry/core/common/utils}/PolicyFile.java      |   2 +-
 sentry-dist/pom.xml                                |  12 +
 sentry-dist/src/main/assembly/bin.xml              |   5 +-
 sentry-dist/src/main/assembly/src.xml              |   1 +
 sentry-hdfs/sentry-hdfs-common/pom.xml             |  19 +-
 ...stIndexerAuthorizationProviderGeneralCases.java |   2 +-
 ...stIndexerAuthorizationProviderSpecialCases.java |   2 +-
 sentry-provider/sentry-provider-cache/pom.xml      |   4 -
 sentry-provider/sentry-provider-common/pom.xml     |   5 -
 .../provider/common/AuthorizationProvider.java     |   1 +
 .../HadoopGroupResourceAuthorizationProvider.java  |   2 +
 .../provider/common/NoAuthorizationProvider.java   |   2 +
 .../common/ResourceAuthorizationProvider.java      |   1 +
 .../HadoopGroupResourceAuthorizationProvider.java  |   2 +-
 .../provider/common/TestGetGroupMapping.java       |   1 +
 .../common/TestNoAuthorizationProvider.java        |   1 +
 sentry-provider/sentry-provider-db/pom.xml         | 354 +--------------------
 sentry-provider/sentry-provider-file/pom.xml       |  17 -
 .../provider/file/LocalGroupMappingService.java    |   2 +-
 sentry-service/pom.xml                             |  38 +++
 sentry-service/sentry-service-client/pom.xml       |  57 ++++
 .../service/thrift/SentryGenericServiceClient.java |   0
 .../SentryGenericServiceClientDefaultImpl.java     |  10 +-
 .../thrift/SentryGenericServiceClientFactory.java  |   0
 .../tools/KafkaTSentryPrivilegeConverter.java      |   0
 .../db/generic/tools/SentryConfigToolCommon.java   |   0
 .../db/generic/tools/SentryConfigToolSolr.java     |   0
 .../db/generic/tools/SentryShellKafka.java         |   2 +-
 .../provider/db/generic/tools/SentryShellSolr.java |   0
 .../tools/SolrTSentryPrivilegeConverter.java       |   0
 .../generic/tools/command/AddRoleToGroupCmd.java   |   0
 .../provider/db/generic/tools/command/Command.java |   0
 .../db/generic/tools/command/CreateRoleCmd.java    |   0
 .../tools/command/DeleteRoleFromGroupCmd.java      |   0
 .../db/generic/tools/command/DropRoleCmd.java      |   0
 .../tools/command/GrantPrivilegeToRoleCmd.java     |   0
 .../tools/command/ListPrivilegesByRoleCmd.java     |   0
 .../db/generic/tools/command/ListRolesCmd.java     |   0
 .../tools/command/RevokePrivilegeFromRoleCmd.java  |   0
 .../tools/command/TSentryPrivilegeConverter.java   |   0
 .../db/service/persistent/ServiceManager.java      |   0
 .../service/thrift/SentryPolicyServiceClient.java  |   0
 .../SentryPolicyServiceClientDefaultImpl.java      |  21 +-
 .../provider/db/tools/SentryShellCommon.java       |   0
 .../sentry/provider/db/tools/SentryShellHive.java  |   0
 .../provider/db/tools/command/hive/Command.java    |   0
 .../db/tools/command/hive/CommandUtil.java         |   0
 .../db/tools/command/hive/CreateRoleCmd.java       |   0
 .../db/tools/command/hive/DropRoleCmd.java         |   0
 .../command/hive/GrantPrivilegeToRoleCmd.java      |   0
 .../tools/command/hive/GrantRoleToGroupsCmd.java   |   0
 .../db/tools/command/hive/ListPrivilegesCmd.java   |   0
 .../db/tools/command/hive/ListRolesCmd.java        |   0
 .../command/hive/RevokePrivilegeFromRoleCmd.java   |   0
 .../command/hive/RevokeRoleFromGroupsCmd.java      |   0
 .../service/thrift/HAClientInvocationHandler.java  |   0
 .../thrift/PoolClientInvocationHandler.java        |   0
 .../thrift/SentryClientInvocationHandler.java      |   0
 .../service/thrift/SentryServiceClientFactory.java |   0
 .../thrift/SentryServiceClientPoolFactory.java     |   0
 sentry-service/sentry-service-common/pom.xml       | 159 +++++++++
 .../service/thrift/SentryGenericPolicyService.java |   0
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   0
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   0
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   0
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   0
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   0
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   0
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   0
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   0
 .../db/generic/service/thrift/TAuthorizable.java   |   0
 .../service/thrift/TCreateSentryRoleRequest.java   |   0
 .../service/thrift/TCreateSentryRoleResponse.java  |   0
 .../service/thrift/TDropPrivilegesRequest.java     |   0
 .../service/thrift/TDropPrivilegesResponse.java    |   0
 .../service/thrift/TDropSentryRoleRequest.java     |   0
 .../service/thrift/TDropSentryRoleResponse.java    |   0
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   0
 .../TListSentryPrivilegesByAuthResponse.java       |   0
 .../TListSentryPrivilegesForProviderRequest.java   |   0
 .../TListSentryPrivilegesForProviderResponse.java  |   0
 .../thrift/TListSentryPrivilegesRequest.java       |   0
 .../thrift/TListSentryPrivilegesResponse.java      |   0
 .../service/thrift/TListSentryRolesRequest.java    |   0
 .../service/thrift/TListSentryRolesResponse.java   |   0
 .../service/thrift/TRenamePrivilegesRequest.java   |   0
 .../service/thrift/TRenamePrivilegesResponse.java  |   0
 .../service/thrift/TSentryActiveRoleSet.java       |   0
 .../generic/service/thrift/TSentryGrantOption.java |   0
 .../generic/service/thrift/TSentryPrivilege.java   |   0
 .../service/thrift/TSentryPrivilegeMap.java        |   0
 .../db/generic/service/thrift/TSentryRole.java     |   0
 .../db/service/thrift/SentryPolicyService.java     |   0
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   0
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   0
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   0
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   0
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   0
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   0
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   0
 .../TAlterSentryRoleDeleteUsersResponse.java       |   0
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   0
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   0
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   0
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   0
 .../service/thrift/TCreateSentryRoleRequest.java   |   0
 .../service/thrift/TCreateSentryRoleResponse.java  |   0
 .../db/service/thrift/TDropPrivilegesRequest.java  |   0
 .../db/service/thrift/TDropPrivilegesResponse.java |   0
 .../db/service/thrift/TDropSentryRoleRequest.java  |   0
 .../db/service/thrift/TDropSentryRoleResponse.java |   0
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   0
 .../TListSentryPrivilegesByAuthResponse.java       |   0
 .../TListSentryPrivilegesForProviderRequest.java   |   0
 .../TListSentryPrivilegesForProviderResponse.java  |   0
 .../thrift/TListSentryPrivilegesRequest.java       |   0
 .../thrift/TListSentryPrivilegesResponse.java      |   0
 .../thrift/TListSentryRolesForUserRequest.java     |   0
 .../db/service/thrift/TListSentryRolesRequest.java |   0
 .../service/thrift/TListSentryRolesResponse.java   |   0
 .../service/thrift/TRenamePrivilegesRequest.java   |   0
 .../service/thrift/TRenamePrivilegesResponse.java  |   0
 .../db/service/thrift/TSentryActiveRoleSet.java    |   0
 .../db/service/thrift/TSentryAuthorizable.java     |   0
 .../service/thrift/TSentryConfigValueRequest.java  |   0
 .../service/thrift/TSentryConfigValueResponse.java |   0
 .../thrift/TSentryExportMappingDataRequest.java    |   0
 .../thrift/TSentryExportMappingDataResponse.java   |   0
 .../db/service/thrift/TSentryGrantOption.java      |   0
 .../provider/db/service/thrift/TSentryGroup.java   |   0
 .../thrift/TSentryImportMappingDataRequest.java    |   0
 .../thrift/TSentryImportMappingDataResponse.java   |   0
 .../db/service/thrift/TSentryMappingData.java      |   0
 .../db/service/thrift/TSentryPrivilege.java        |   0
 .../db/service/thrift/TSentryPrivilegeMap.java     |   0
 .../provider/db/service/thrift/TSentryRole.java    |   0
 .../service/thrift/TSentryResponseStatus.java      |   0
 .../thrift/sentry_common_serviceConstants.java     |   0
 .../persistent/FixedJsonInstanceSerializer.java    |   0
 .../provider/db/service/persistent/HAContext.java  |   0
 .../sentry/service/thrift/JaasConfiguration.java   |   0
 .../sentry/service/thrift/SentryServiceUtil.java   |   0
 .../sentry/service/thrift/ServiceConstants.java    |   6 +-
 .../org/apache/sentry/service/thrift/Status.java   |   0
 .../main/resources/sentry_common_service.thrift    |   0
 .../resources/sentry_generic_policy_service.thrift |   0
 .../main/resources/sentry_policy_service.thrift    |   0
 sentry-service/sentry-service-server/pom.xml       | 279 ++++++++++++++++
 .../provider/db/SentryPolicyStorePlugin.java       |   0
 .../service/persistent/DelegateSentryStore.java    |   2 +-
 .../service/persistent/PrivilegeObject.java        |   0
 .../persistent/PrivilegeOperatePersistence.java    |   6 +-
 .../service/persistent/SentryStoreLayer.java       |   0
 .../service/thrift/NotificationHandler.java        |   0
 .../service/thrift/NotificationHandlerInvoker.java |   0
 .../thrift/SentryGenericPolicyProcessor.java       |   3 +-
 .../SentryGenericPolicyProcessorFactory.java       |   3 +-
 .../SentryGenericPolicyProcessorWrapper.java       |   0
 .../db/log/appender/AuditLoggerTestAppender.java   |   0
 .../appender/RollingFileWithoutDeleteAppender.java |   0
 .../db/log/entity/AuditMetadataLogEntity.java      |   0
 .../db/log/entity/DBAuditMetadataLogEntity.java    |   0
 .../db/log/entity/GMAuditMetadataLogEntity.java    |   0
 .../provider/db/log/entity/JsonLogEntity.java      |   0
 .../db/log/entity/JsonLogEntityFactory.java        |   0
 .../sentry/provider/db/log/util/CommandUtil.java   |   2 +-
 .../sentry/provider/db/log/util/Constants.java     |   0
 .../db/service/model/MSentryGMPrivilege.java       |   0
 .../provider/db/service/model/MSentryGroup.java    |   0
 .../db/service/model/MSentryPrivilege.java         |   0
 .../provider/db/service/model/MSentryRole.java     |   0
 .../provider/db/service/model/MSentryUser.java     |   0
 .../provider/db/service/model/MSentryVersion.java  |   0
 .../sentry/provider/db/service/model/package.jdo   |   0
 .../db/service/persistent/CommitContext.java       |   0
 .../db/service/persistent/SentryStore.java         |  10 +-
 .../service/persistent/SentryStoreSchemaInfo.java  |   0
 .../db/service/persistent/ServiceRegister.java     |   0
 .../provider/db/service/thrift/ConfServlet.java    |   0
 .../db/service/thrift/NotificationHandler.java     |   0
 .../service/thrift/NotificationHandlerInvoker.java |   0
 .../db/service/thrift/PolicyStoreConstants.java    |   0
 .../db/service/thrift/SentryAuthFilter.java        |   0
 .../SentryHealthCheckServletContextListener.java   |   0
 .../provider/db/service/thrift/SentryMetrics.java  |   0
 .../SentryMetricsServletContextListener.java       |   0
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +-
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   5 +-
 .../db/service/thrift/SentryProcessorWrapper.java  |   0
 .../db/service/thrift/SentryWebServer.java         |   0
 .../provider/db/service/thrift/ThriftUtil.java     |   0
 .../provider/db/tools/SentrySchemaHelper.java      |   0
 .../sentry/provider/db/tools/SentrySchemaTool.java |   0
 .../apache/sentry/service/thrift/GSSCallback.java  |   0
 .../service/thrift/KerberosConfiguration.java      |   0
 .../sentry/service/thrift/ProcessorFactory.java    |   0
 .../service/thrift/SentryKerberosContext.java      |   0
 .../sentry/service/thrift/SentryService.java       |   0
 .../service/thrift/SentryServiceFactory.java       |   0
 .../src/main/resources/001-SENTRY-327.derby.sql    |   0
 .../src/main/resources/001-SENTRY-327.mysql.sql    |   0
 .../src/main/resources/001-SENTRY-327.oracle.sql   |   0
 .../src/main/resources/001-SENTRY-327.postgres.sql |   0
 .../src/main/resources/002-SENTRY-339.derby.sql    |   0
 .../src/main/resources/002-SENTRY-339.mysql.sql    |   0
 .../src/main/resources/002-SENTRY-339.oracle.sql   |   0
 .../src/main/resources/002-SENTRY-339.postgres.sql |   0
 .../src/main/resources/003-SENTRY-380.derby.sql    |   0
 .../src/main/resources/003-SENTRY-380.mysql.sql    |   0
 .../src/main/resources/003-SENTRY-380.oracle.sql   |   0
 .../src/main/resources/003-SENTRY-380.postgres.sql |   0
 .../src/main/resources/004-SENTRY-74.derby.sql     |   0
 .../src/main/resources/004-SENTRY-74.mysql.sql     |   0
 .../src/main/resources/004-SENTRY-74.oracle.sql    |   0
 .../src/main/resources/004-SENTRY-74.postgres.sql  |   0
 .../src/main/resources/005-SENTRY-398.derby.sql    |   0
 .../src/main/resources/005-SENTRY-398.mysql.sql    |   0
 .../src/main/resources/005-SENTRY-398.oracle.sql   |   0
 .../src/main/resources/005-SENTRY-398.postgres.sql |   0
 .../src/main/resources/006-SENTRY-711.derby.sql    |   0
 .../src/main/resources/006-SENTRY-711.mysql.sql    |   0
 .../src/main/resources/006-SENTRY-711.oracle.sql   |   0
 .../src/main/resources/006-SENTRY-711.postgres.sql |   0
 .../src/main/resources/sentry-db2-1.4.0.sql        |   0
 .../src/main/resources/sentry-db2-1.5.0.sql        |   0
 .../src/main/resources/sentry-db2-1.6.0.sql        |   0
 .../src/main/resources/sentry-db2-1.7.0.sql        |   0
 .../src/main/resources/sentry-db2-1.8.0.sql        |   0
 .../src/main/resources/sentry-derby-1.4.0.sql      |   0
 .../src/main/resources/sentry-derby-1.5.0.sql      |   0
 .../src/main/resources/sentry-derby-1.6.0.sql      |   0
 .../src/main/resources/sentry-derby-1.7.0.sql      |   0
 .../src/main/resources/sentry-derby-1.8.0.sql      |   0
 .../src/main/resources/sentry-mysql-1.4.0.sql      |   0
 .../src/main/resources/sentry-mysql-1.5.0.sql      |   0
 .../src/main/resources/sentry-mysql-1.6.0.sql      |   0
 .../src/main/resources/sentry-mysql-1.7.0.sql      |   0
 .../src/main/resources/sentry-mysql-1.8.0.sql      |   0
 .../src/main/resources/sentry-oracle-1.4.0.sql     |   0
 .../src/main/resources/sentry-oracle-1.5.0.sql     |   0
 .../src/main/resources/sentry-oracle-1.6.0.sql     |   0
 .../src/main/resources/sentry-oracle-1.7.0.sql     |   0
 .../src/main/resources/sentry-oracle-1.8.0.sql     |   0
 .../src/main/resources/sentry-postgres-1.4.0.sql   |   0
 .../src/main/resources/sentry-postgres-1.5.0.sql   |   0
 .../src/main/resources/sentry-postgres-1.6.0.sql   |   0
 .../src/main/resources/sentry-postgres-1.7.0.sql   |   0
 .../src/main/resources/sentry-postgres-1.8.0.sql   |   0
 .../sentry-upgrade-db2-1.4.0-to-1.5.0.sql          |   0
 .../sentry-upgrade-db2-1.5.0-to-1.6.0.sql          |   0
 .../sentry-upgrade-db2-1.6.0-to-1.7.0.sql          |   0
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          |   0
 .../sentry-upgrade-derby-1.4.0-to-1.5.0.sql        |   0
 .../sentry-upgrade-derby-1.5.0-to-1.6.0.sql        |   0
 .../sentry-upgrade-derby-1.6.0-to-1.7.0.sql        |   0
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |   0
 .../sentry-upgrade-mysql-1.4.0-to-1.5.0.sql        |   0
 .../sentry-upgrade-mysql-1.5.0-to-1.6.0.sql        |   0
 .../sentry-upgrade-mysql-1.6.0-to-1.7.0.sql        |   0
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |   0
 .../sentry-upgrade-oracle-1.4.0-to-1.5.0.sql       |   0
 .../sentry-upgrade-oracle-1.5.0-to-1.6.0.sql       |   0
 .../sentry-upgrade-oracle-1.6.0-to-1.7.0.sql       |   0
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |   0
 .../sentry-upgrade-postgres-1.4.0-to-1.5.0.sql     |   0
 .../sentry-upgrade-postgres-1.5.0-to-1.6.0.sql     |   0
 .../sentry-upgrade-postgres-1.6.0-to-1.7.0.sql     |   0
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |   0
 .../src/main/resources/upgrade.order.db2           |   0
 .../src/main/resources/upgrade.order.derby         |   0
 .../src/main/resources/upgrade.order.mysql         |   0
 .../src/main/resources/upgrade.order.oracle        |   0
 .../src/main/resources/upgrade.order.postgres      |   0
 .../src/main/webapp/SentryService.html             |   0
 .../src/main/webapp/css/bootstrap-theme.min.css    |   0
 .../src/main/webapp/css/bootstrap.min.css          |   0
 .../src/main/webapp/css/sentry.css                 |   0
 .../src/main/webapp/sentry.png                     | Bin
 .../persistent/SentryStoreIntegrationBase.java     |   2 +-
 .../persistent/TestDelegateSentryStore.java        |   2 +-
 .../TestPrivilegeOperatePersistence.java           |   2 +-
 .../service/persistent/TestSentryGMPrivilege.java  |   0
 .../generic/service/persistent/TestSentryRole.java |   0
 .../SentryGenericServiceIntegrationBase.java       |  12 +-
 .../TestAuditLogForSentryGenericService.java       |  16 +-
 .../thrift/TestSentryGenericPolicyProcessor.java   |  66 ++--
 .../TestSentryGenericServiceIntegration.java       |   0
 .../db/generic/tools/TestSentryConfigToolSolr.java |   0
 .../db/generic/tools/TestSentryShellKafka.java     |   0
 .../db/generic/tools/TestSentryShellSolr.java      |   0
 .../TestRollingFileWithoutDeleteAppender.java      |  23 +-
 .../log/entity/TestDbAuditMetadataLogEntity.java   |   8 +-
 .../log/entity/TestGMAuditMetadataLogEntity.java   |   8 +-
 .../db/log/entity/TestJsonLogEntityFactory.java    |   8 +-
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  |   0
 .../provider/db/log/util/TestCommandUtil.java      |  60 ++--
 .../db/service/persistent/TestSentryPrivilege.java |   0
 .../persistent/TestSentryServiceDiscovery.java     |   0
 .../db/service/persistent/TestSentryStore.java     |   2 +-
 .../persistent/TestSentryStoreImportExport.java    |   2 +-
 .../persistent/TestSentryStoreToAuthorizable.java  |   0
 .../db/service/persistent/TestSentryVersion.java   |   1 -
 .../db/service/thrift/SentryMiniKdcTestcase.java   |   0
 .../TestAuthorizingDDLAuditLogWithKerberos.java    |   4 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |  16 +-
 .../thrift/TestNotificationHandlerInvoker.java     |   0
 .../thrift/TestSentryPolicyStoreProcessor.java     |   0
 .../TestSentryServerForHaWithoutKerberos.java      |  62 ++--
 .../TestSentryServerForPoolHAWithoutKerberos.java  |   0
 .../TestSentryServerForPoolWithoutKerberos.java    |  15 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |  60 ++--
 .../thrift/TestSentryServiceClientPool.java        |  16 +-
 .../thrift/TestSentryServiceFailureCase.java       |  12 +-
 .../thrift/TestSentryServiceForHAWithKerberos.java |  24 +-
 .../TestSentryServiceForPoolHAWithKerberos.java    |  19 +-
 .../TestSentryServiceForPoolWithKerberos.java      |  15 +-
 .../thrift/TestSentryServiceImportExport.java      |  74 ++---
 .../thrift/TestSentryServiceIntegration.java       |  76 ++---
 .../TestSentryServiceWithInvalidMsgSize.java       |  32 +-
 .../thrift/TestSentryServiceWithKerberos.java      |   2 +-
 .../thrift/TestSentryWebServerWithKerberos.java    |  22 +-
 .../service/thrift/TestSentryWebServerWithSSL.java |   8 +-
 .../thrift/TestSentryWebServerWithoutSecurity.java |  14 +-
 .../provider/db/tools/TestSentrySchemaTool.java    |   0
 .../provider/db/tools/TestSentryShellHive.java     |   0
 .../thrift/SentryServiceIntegrationBase.java       |   2 +-
 .../src/test/resources/cacerts.jks                 | Bin
 .../src/test/resources/keystore.jks                | Bin
 .../src/test/resources/log4j.properties            |   0
 .../src/test/resources/solr_case.ini               |   0
 .../src/test/resources/solr_config_import_tool.ini |   0
 .../src/test/resources/solr_invalid.ini            |   0
 sentry-solr/solr-sentry-core/pom.xml               |   4 -
 sentry-solr/solr-sentry-handlers/pom.xml           |   4 -
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   2 +-
 .../tests/e2e/dbprovider/TestDbComplexView.java    |   2 +-
 .../tests/e2e/dbprovider/TestDbConnections.java    |   2 +-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   2 +-
 .../TestDbSentryOnFailureHookLoading.java          |   4 +-
 .../dbprovider/TestPrivilegeWithGrantOption.java   |   3 +-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |   3 +-
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |   2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   5 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   3 +-
 .../sentry/tests/e2e/hive/TestConfigTool.java      |   2 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |   2 +-
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  |   2 +-
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |   2 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java |   2 +-
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   |   2 +-
 .../sentry/tests/e2e/hive/TestLockPrivileges.java  |   2 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |   2 +-
 .../tests/e2e/hive/TestMetadataPermissions.java    |   2 +-
 .../tests/e2e/hive/TestMovingToProduction.java     |   2 +-
 .../sentry/tests/e2e/hive/TestOperations.java      |   2 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   2 +-
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |   2 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |   2 +-
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |   2 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |   2 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |   2 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |   2 +-
 .../tests/e2e/hive/TestReloadPrivileges.java       |   2 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |   2 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |   2 +-
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |   2 +-
 .../tests/e2e/hive/TestServerConfiguration.java    |   2 +-
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |   2 +-
 .../sentry/tests/e2e/hive/TestUserManagement.java  |   2 +-
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  |   2 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   2 +-
 .../e2e/metastore/TestAuthorizingObjectStore.java  |   2 +-
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |   2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   2 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   2 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   2 +-
 .../e2e/dbprovider/TestConcurrentClients.java      |   2 +-
 .../tests/e2e/dbprovider/TestDbComplexView.java    |   2 +-
 .../tests/e2e/dbprovider/TestDbConnections.java    |   2 +-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   2 +-
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |   2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 .../sentry/tests/e2e/hive/TestConfigTool.java      |   2 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |   2 +-
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  |   2 +-
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |   2 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java |   2 +-
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   |   2 +-
 .../sentry/tests/e2e/hive/TestLockPrivileges.java  |   2 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |   2 +-
 .../tests/e2e/hive/TestMetadataPermissions.java    |   2 +-
 .../tests/e2e/hive/TestMovingToProduction.java     |   2 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java |   2 +-
 .../sentry/tests/e2e/hive/TestOperationsPart2.java |   2 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   2 +-
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |   2 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |   2 +-
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |   2 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |   2 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |   2 +-
 .../e2e/hive/TestPrivilegesAtTableScopePart1.java  |   2 +-
 .../e2e/hive/TestPrivilegesAtTableScopePart2.java  |   2 +-
 .../tests/e2e/hive/TestReloadPrivileges.java       |   2 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |   2 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |   2 +-
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |   2 +-
 .../tests/e2e/hive/TestServerConfiguration.java    |   2 +-
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |   2 +-
 .../sentry/tests/e2e/hive/TestUserManagement.java  |   2 +-
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  |   2 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   2 +-
 .../e2e/metastore/TestAuthorizingObjectStore.java  |   2 +-
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |   2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   2 +-
 .../tests/e2e/metastore/TestURIMetastore.java      |   2 +-
 sentry-tests/sentry-tests-kafka/pom.xml            |   3 +-
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |   2 +-
 sentry-tests/sentry-tests-solr/pom.xml             |   2 +-
 .../AbstractSolrSentryTestWithDbProvider.java      |   2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml            |   2 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |   2 +-
 452 files changed, 1098 insertions(+), 999 deletions(-)

commit 5cdd7cdfc5d363964ee6fd5336006e95ee7d8628
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Tue Jul 19 13:55:16 2016 -0700

    SENTRY-1399: Integrate Fencer with SentryStore (Colin P. McCabe , Reviewed by: Hao Hao and Sravya Tirukkovalur)
    
    Change-Id: If73be3cb424cf16b150e67d5f8536499d86448e7

 .../common/exception/SentryStandbyException.java   |   4 +
 .../service/persistent/DelegateSentryStore.java    |  32 +++--
 .../service/persistent/SentryStoreLayer.java       |   9 +-
 .../provider/db/service/persistent/Fencer.java     |  36 +++--
 .../db/service/persistent/SentryStore.java         |  77 +++++++----
 .../apache/sentry/service/thrift/Activator.java    |  34 ++++-
 .../apache/sentry/service/thrift/Activators.java   |   8 +-
 .../sentry/service/thrift/SentryService.java       |   3 +-
 .../persistent/SentryStoreIntegrationBase.java     |   3 +-
 .../TestPrivilegeOperatePersistence.java           |   9 +-
 .../provider/db/service/persistent/TestFencer.java | 151 +++++++++++++++++++++
 .../db/service/persistent/TestSentryStore.java     |   6 +-
 .../persistent/TestSentryStoreImportExport.java    |   6 +-
 .../db/service/persistent/TestSentryVersion.java   |   3 +-
 14 files changed, 313 insertions(+), 68 deletions(-)

commit 17ed7cb7fa02b67b0c9dd4c0097a981fb977af2f
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jul 18 13:59:17 2016 -0700

    SENTRY-1378: Login fails for a secure Sentry Web UI (Rahul Sharma, Reviewd by: Sravya Tirukkovalur and Hao Hao)
    
    Change-Id: Ib02a8f848d903d7d93ec907bee647143e5728667

 .../db/service/thrift/SentryAuthFilter.java        |  7 ++---
 .../thrift/TestSentryWebServerWithKerberos.java    | 31 ++++++++++++++++++++++
 .../thrift/SentryServiceIntegrationBase.java       |  2 ++
 3 files changed, 35 insertions(+), 5 deletions(-)

commit 170c2a1b585be883eb5b8fefdc4d5b7a7497ea9d
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Jul 15 12:19:18 2016 -0700

    SENTRY-1390: Add test cases to ensure usability of URI privileges for HMS binding (Hao Hao, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I921fbdaa806b1349da386d81bf3dd88a05e56e49

 .../hive/AbstractTestWithStaticConfiguration.java  |   5 +
 .../tests/e2e/metastore/TestURIMetastore.java      | 178 +++++++++++++++++++++
 2 files changed, 183 insertions(+)

commit 8f67cf568a1e7f7ca301ad4374797075e59c537a
Author: Colin Ma <colin@apache.org>
Date:   Fri Jul 15 09:53:50 2016 +0800

    SENTRY-1209: Sentry does not block Hive's cross-schema table renames(Colin Ma, reviewed by Sravya Tirukkovalur)

 .../binding/hive/HiveAuthzBindingHookBase.java     | 10 ++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  8 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  4 +-
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 10 +--
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 14 ++--
 .../sentry/tests/e2e/hive/TestOperationsPart2.java | 94 +++++++++++++++-------
 6 files changed, 97 insertions(+), 43 deletions(-)

commit a62664153e51256ad38d6aaf9e717e52230d15a0
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Jul 14 15:00:21 2016 -0700

    SENTRY-1403: Move SentryHDFSServiceClient code from hdfs-common into hdfs-service (Hao Hao, Reviewed by: Colin P. McCabe and Anne Yu)
    
    Change-Id: I03169a5bc1127ccb3248b286dc45b669ac2b8605

 sentry-hdfs/sentry-hdfs-common/pom.xml                        | 11 -----------
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml               |  4 ++++
 sentry-hdfs/sentry-hdfs-service/pom.xml                       |  6 ++++++
 .../java/org/apache/sentry/hdfs/SentryHDFSServiceClient.java  |  0
 .../sentry/hdfs/SentryHDFSServiceClientDefaultImpl.java       |  0
 .../apache/sentry/hdfs/SentryHDFSServiceClientFactory.java    |  0
 .../org/apache/sentry/hdfs/SentryHdfsServiceException.java    |  0
 .../apache/sentry/hdfs/SentryHdfsServiceIntegrationBase.java  |  0
 .../java/org/apache/sentry/hdfs/TestKrbConnectionTimeout.java |  0
 9 files changed, 10 insertions(+), 11 deletions(-)

commit 6f298b0f71efb9c26ee21ea27a514b4ebca02cd8
Author: Anne Yu <anneyu@cloudera.com>
Date:   Thu Jul 14 11:52:36 2016 -0700

    SENTRY-1398: Fix TestLeaderStatus#testRacingClients time out issue. ( Colin P. McCabe, reviewed by Anne Yu)

 .../java/org/apache/sentry/service/thrift/LeaderStatusAdaptor.java    | 2 +-
 .../test/java/org/apache/sentry/service/thrift/TestLeaderStatus.java  | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7deefdb1d96aafe3085d901760b0611672bbdd4d
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 10:56:33 2016 +0800

    SENTRY-1094: SentryMetastorePostEventListener.onAlterTable should check for null dereference (Ke Jia via Dapeng Sun)

 .../SentryMetastorePostEventListener.java          | 24 ++++++++++++++++------
 1 file changed, 18 insertions(+), 6 deletions(-)

commit b72221b8dae93d9d1c50d7ce9a2f1192b39df34c
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 10:23:10 2016 +0800

    SENTRY-1401: In V2, show role grant group groupname should not throw an exception if group doesnt exist in db (Ke Jia via Dapeng Sun)

 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

commit a53b20ad4aae6a9f2037e87addea2f7c93bbed17
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 10:21:38 2016 +0800

    SENTRY-1327: Enable show grant role roleName on all command (Ke Jia via Dapeng Sun)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  3 +++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 22 ++++++++++++++++++++++
 2 files changed, 25 insertions(+)

commit 29e5fd0253e9b2f63dbcc21a65f7ebbcde118007
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 10:12:48 2016 +0800

    SENTRY-1357: SentryMetastorePostEventListenerBase.onAlterTable should check for null dereference (Ke Jia via Dapeng Sun)

 .../SentryMetastorePostEventListenerBase.java      | 23 +++++++++++++++-------
 1 file changed, 16 insertions(+), 7 deletions(-)

commit c6c9fabb48ec896904bc0370e69540b7cb2bc3cb
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 10:11:18 2016 +0800

    SENTRY-1358: Implement Grant role_name To User user_name in V2 (Ke Jia via Dapeng Sun)

 .../authorizer/DefaultSentryAccessController.java  | 24 +++++++++++++++++-----
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 15 ++++++++++++++
 2 files changed, 34 insertions(+), 5 deletions(-)

commit d6d4bf280492716b6551242fa57a6dfd4c5e75f3
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 09:54:36 2016 +0800

    SENTRY-1352: Enable CREATEMACRO and DROPMACRO operations in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  | 14 +++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  3 +-
 .../sentry/tests/e2e/hive/TestOperations.java      | 70 ++++++++++++++++++++++
 3 files changed, 86 insertions(+), 1 deletion(-)

commit a381e5bcd94ceefc58d3b6e48d232618119fb927
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 14 09:47:55 2016 +0800

    SENTRY-1351: Enable alter table operation without outputs in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  |  9 +++
 .../sentry/tests/e2e/hive/TestOperations.java      | 76 ++++++++++++++++++++++
 2 files changed, 85 insertions(+)

commit 73d77bcd0ce12ba5109a903fb51bf122df20c2db
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Tue Jun 14 16:30:51 2016 -0700

    SENTRY-1329: Adapt SentryMetaStorePostEventListener to write HMS notification logs (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Also,
    1. Implementing the SentryJSONMessageFactory to add custom information in the notification log entry message, which includes
     1.1. Implementing Message class for each message type
     1.2. Implementing a deserializer
    2. Implementing JSONAlterPartitionMessage and JSONAlterTableMessage to work around the issue in Hive 1.1.0. These classes do not have required default constructor.
    3. Testing:
     3.1. Sentry functionality: TestSentryListenerSentryDeserializer to verify functionality using Sentry's SentryMetastorePostEventListener and Sentry Notification log deserializer.
     3.2. TestDbNotificationListenerSentryDeserializer uses Hive's DbNotificationListener and Sentry's JSON deserializeri. This would make sure Sentry is able to read the Notification logs written by Hive's DBNotificationListener
     3.3. TestSentryListenerInBuiltDeserializer uses Sentry's SentryMetastorePostEventListener and Hive's inbuilt Notification log deserializer: This would make sure Sentry is not breaking other users of NotificationLog who might be using Hive's in built serializer
    
    Change-Id: I680beb6db4e534bb0a9e6ee042ea0d4f33f0943f

 sentry-binding/sentry-binding-hive/pom.xml         |   6 +
 .../SentryMetastorePostEventListener.java          | 518 ++++++++++-----------
 .../messaging/json/JSONAlterPartitionMessage.java  |  78 ++++
 .../messaging/json/JSONAlterTableMessage.java      |  68 +++
 .../json/SentryJSONAddPartitionMessage.java        |  49 ++
 .../json/SentryJSONAlterPartitionMessage.java      |  53 +++
 .../json/SentryJSONAlterTableMessage.java          |  50 ++
 .../json/SentryJSONCreateDatabaseMessage.java      |  44 ++
 .../json/SentryJSONCreateTableMessage.java         |  45 ++
 .../json/SentryJSONDropDatabaseMessage.java        |  44 ++
 .../json/SentryJSONDropPartitionMessage.java       |  49 ++
 .../messaging/json/SentryJSONDropTableMessage.java |  45 ++
 .../json/SentryJSONMessageDeserializer.java        | 110 +++++
 .../messaging/json/SentryJSONMessageFactory.java   | 177 +++++++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |   7 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   3 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   5 +
 ...DBNotificationListenerInBuiltDeserializer.java} |  42 +-
 ...stDbNotificationListenerSentryDeserializer.java |  39 ++
 .../TestSentryListenerInBuiltDeserializer.java     |  37 ++
 .../TestSentryListenerSentryDeserializer.java      | 375 +++++++++++++++
 21 files changed, 1555 insertions(+), 289 deletions(-)

commit a70cff999180486183e68fd9229818970f6b8fc1
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Tue Jul 12 13:03:23 2016 -0700

    SENTRY-1317: Implement fencing required for active/standby (Colin P. McCabe , Reviewed by: Hao Hao and Sravya Tirukkovalur)
    
    New fencing and active/passive code
    - Activator to store the state about whether the daemon is active or not, as well as manage fencing
    - Create Fencer to implement SQL fencing.
    - Add SqlAccessor to talk directly to SQL databases
    LeaderStatus: generate shorter incarnation IDs by using base64.
    LeaderStatusAdaptor: implement close()
    Remove old code which is no longer used
    - HAContext
    - PluginCacheSyncUtil
    - TestHAUpdateForwarder
    - ServiceRegister
    SentryStore
    - move DataNucleus properties setup into a utility function
    - Remove unused DEFAULT_DATA_DIR variable (it's not used anywhere in the code)
    - SentryStore should maintain a reference to the Activator
    Add SentryStandbyException to indicate that the daemon is currently standby
    Move SENTRY_ZK_JAAS_NAME from HAContext to SentryConstants
    DelegateSentryStore: make some fields final
    
    Change-Id: Ic41711ecbc218bb21e3ca3120998866d65e16493

 .../common/exception/SentryStandbyException.java   |  33 +++
 .../sentry/core/common/utils/SentryConstants.java  |   3 +
 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    | 251 -----------------
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |   8 -
 .../apache/sentry/hdfs/TestHAUpdateForwarder.java  |  66 -----
 .../provider/db/service/persistent/Fencer.java     | 242 ++++++++++++++++
 .../provider/db/service/persistent/HAContext.java  | 262 -----------------
 .../db/service/persistent/SentryStore.java         |  32 ++-
 .../db/service/persistent/ServiceRegister.java     |  52 ----
 .../db/service/persistent/SqlAccessor.java         | 309 +++++++++++++++++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  31 +--
 .../apache/sentry/service/thrift/Activator.java    | 112 ++++++++
 .../apache/sentry/service/thrift/Activators.java   |  69 +++++
 .../apache/sentry/service/thrift/LeaderStatus.java |  31 ++-
 .../sentry/service/thrift/LeaderStatusAdaptor.java |  41 ++-
 .../sentry/service/thrift/SentryService.java       |  33 +--
 .../sentry/service/thrift/ServiceConstants.java    |   4 +
 .../persistent/SentryStoreIntegrationBase.java     |  15 +
 .../TestPrivilegeOperatePersistence.java           |  22 +-
 .../db/service/persistent/TestSentryStore.java     |  14 +
 .../persistent/TestSentryStoreImportExport.java    |  16 +-
 .../db/service/persistent/TestSentryVersion.java   |  18 ++
 .../thrift/SentryServiceIntegrationBase.java       |   3 +-
 .../sentry/service/thrift/TestLeaderStatus.java    |  26 ++
 24 files changed, 982 insertions(+), 711 deletions(-)

commit de7c26a8a13bdf102fd713a4fd3903ade0f1e835
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jul 11 13:35:26 2016 -0700

    SENTRY-1365: Upgrading SQL script for HMSPaths persistence (Hao Hao, Reviewed by: Anne Yu and Sravya Tirukkovalur)
    
    Change-Id: I92f7c60ecb031ec2053352de1e898461bd20ae7d

 .../src/main/resources/007-SENTRY-872.derby.sql    | 30 ++++++++++++++++++++++
 .../src/main/resources/007-SENTRY-872.mysql.sql    | 27 +++++++++++++++++++
 .../src/main/resources/007-SENTRY-872.oracle.sql   | 29 +++++++++++++++++++++
 .../src/main/resources/007-SENTRY-872.postgres.sql | 27 +++++++++++++++++++
 .../src/main/resources/sentry-db2-1.8.0.sql        | 20 ++++++++++++++-
 .../src/main/resources/sentry-derby-1.8.0.sql      | 26 +++++++++++++++++++
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 24 +++++++++++++++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 27 +++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 25 ++++++++++++++++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 19 ++++++++++++++
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |  1 +
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |  1 +
 14 files changed, 257 insertions(+), 1 deletion(-)

commit 8256776bc6f0acb1644b8d058f7f8a1d08ba6402
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Jul 11 11:19:54 2016 -0700

    SENTRY-1334: [column level privileges] test and add test for CTAS and Create View AS SELECT (cross databases cases) (Ke Jia, reviewed by Anne Yu)

 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   | 62 ++++++++++++++++++++++
 1 file changed, 62 insertions(+)

commit 09a8dcb0127c38b0c53bb8874bfa00aece9ce7da
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Jul 11 00:09:40 2016 -0700

    SENTRY-1391: Add more test cases for perm and temp UDF (Hao Hao, Reviewed by: Anne Yu)
    
    Change-Id: I872d4f929822769d86107e411ce170e39b40eac5

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 87 ++++++++++++++++++++--
 1 file changed, 82 insertions(+), 5 deletions(-)

commit 1b65698cdf8bac61785c820a1df1d1b45a6f2354
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Fri Jun 10 16:17:26 2016 -0700

    SENTRY-1324: Add sentry specific test cases to use NotificationLog (Sravya Tirukkovalur, Reviewed by: Hao  Hao)
    
    Change-Id: Ifd1ea9a6101465be741ac1579356150b643e58bf

 sentry-tests/sentry-tests-hive/pom.xml             |   6 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  21 +-
 ...stractMetastoreTestWithStaticConfiguration.java |  34 +-
 ...NotificationLogUsingDBNotificationListener.java | 351 +++++++++++++++++++++
 4 files changed, 403 insertions(+), 9 deletions(-)

commit 915b80248a2504c1f98a6b13f8c1480417fee937
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jul 4 10:35:54 2016 +0800

    SENTRY-1349: Add permission check and test case for alter db set owner in V2 (Ke Jia via Dapeng Sun)

 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  |  1 +
 .../sentry/tests/e2e/hive/TestOperations.java      | 27 ++++++++++++++++++++++
 2 files changed, 28 insertions(+)

commit ef8902178141eba2959cfda438a51faa908135aa
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jul 4 10:26:53 2016 +0800

    SENTRY-1354: add column level test cases for select ... group by, order by and where in V2 (Ke Jia via Dapeng Sun)

 .../dbprovider/TestPrivilegeWithGrantOption.java   | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit 528f34a899482a7726df0e3eacc35d98741b7a9e
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jul 4 10:05:32 2016 +0800

    SENTRY-320: show role grant group groupname should not throw an exception if group doesnt exist in db (Ke Jia via Dapeng Sun)

 .../SentryPolicyServiceClientDefaultImpl.java      |  6 ++++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 13 ++++++++++--
 .../tests/e2e/dbprovider/TestGrantUserToRole.java  | 24 ++++++++++++++++++++++
 3 files changed, 41 insertions(+), 2 deletions(-)

commit 312ed27fe2d892b4225d30cc763b5800c36cff6c
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Jun 30 14:29:05 2016 -0700

    SENTRY-1376: Fix alter property case correctly - Deletes ACLS on the table (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: I6ea6aba2aad688519a8ca60b1ec93ee8a4abcf90

 .../SentryMetastorePostEventListener.java          |  4 +---
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   | 23 ++++++++++++++++++----
 2 files changed, 20 insertions(+), 7 deletions(-)

commit 6fbff11fa45d8962fda706c8a823909f71ef1f2c
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Jun 29 14:41:44 2016 +0800

    SENTRY-1361: Refactor revokePrivilege of Sentry Client (Ke Jia via Dapeng Sun)

 .../service/thrift/SentryPolicyServiceClient.java  |  6 ++++
 .../SentryPolicyServiceClientDefaultImpl.java      | 40 ++++++++++++++++------
 .../command/hive/RevokePrivilegeFromRoleCmd.java   | 22 +-----------
 3 files changed, 36 insertions(+), 32 deletions(-)

commit 79659ad986bc5b9641182d8c02a95d3fd910ae52
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Jun 29 14:38:07 2016 +0800

    SENTRY-1360: Refactor grantPrivilege of Sentry Client (Dapeng Sun, reviewed by Colin Ma)

 .../service/thrift/SentryPolicyServiceClient.java  |   7 ++
 .../SentryPolicyServiceClientDefaultImpl.java      | 103 +++++++++++----------
 .../db/tools/command/hive/CommandUtil.java         |   4 +-
 .../command/hive/GrantPrivilegeToRoleCmd.java      |  22 +----
 4 files changed, 67 insertions(+), 69 deletions(-)

commit e7ec257a76c7175a49e95b17ca4676dbd74a8d67
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Jun 24 15:18:24 2016 -0700

    SENTRY-1325: Store HMSPaths in Sentry DB to allow fast failover (Hao Hao, Reviewed by Colin Patrick McCabe and Anne Yu)
    
    Change-Id: Idc4bb72436b6b4be098496ef074a05a9390ae135

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java |  93 +++++++++++++++----
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |   2 +-
 .../db/service/model/MAuthzPathsMapping.java       | 102 +++++++++++++++++++++
 .../sentry/provider/db/service/model/package.jdo   |  25 +++++
 .../db/service/persistent/SentryStore.java         |  71 ++++++++++++++
 .../db/service/persistent/TestSentryStore.java     |  12 +++
 6 files changed, 287 insertions(+), 18 deletions(-)

commit 5630fc5cecfa7720c372f84ebb0bdc059ebc2c2e
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Jun 23 12:22:15 2016 -0700

    SENTRY-1316: Implement Sentry leadership election (Colin Patrick McCabe, Reviewed by Sravya Tirukkovalur, Hao Hao)
    
    Change-Id: Ib7dc6470694a2f06def90039f321c28cd72952ae

 .../hdfs/SentryHDFSServiceClientFactory.java       |  14 +-
 .../hdfs/ha/HdfsHAClientInvocationHandler.java     | 142 -------------
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |  99 ----------
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |  10 +-
 .../apache/sentry/hdfs/UpdateForwarderWithHA.java  | 130 ------------
 .../apache/sentry/hdfs/TestPluginCacheSync.java    | 151 --------------
 .../db/service/persistent/ServiceManager.java      |  97 ---------
 .../service/thrift/HAClientInvocationHandler.java  | 139 -------------
 .../apache/sentry/service/thrift/LeaderStatus.java | 134 +++++++++++++
 .../sentry/service/thrift/LeaderStatusAdaptor.java | 170 ++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |  25 ++-
 .../service/thrift/SentryServiceClientFactory.java |   8 +-
 .../thrift/SentryServiceClientPoolFactory.java     |  13 +-
 .../sentry/service/thrift/ServiceConstants.java    |   8 +-
 .../persistent/TestSentryServiceDiscovery.java     | 123 ------------
 .../TestSentryServerForHaWithoutKerberos.java      | 219 ---------------------
 .../TestSentryServerForPoolHAWithoutKerberos.java  |  36 ----
 .../thrift/TestSentryServiceForHAWithKerberos.java |  75 -------
 .../TestSentryServiceForPoolHAWithKerberos.java    |  36 ----
 .../sentry/service/thrift/TestLeaderStatus.java    | 219 +++++++++++++++++++++
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  | 171 ----------------
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +-
 22 files changed, 555 insertions(+), 1466 deletions(-)

commit ca8137e89dc7c1354e50dff852fe7c76e4f426b9
Author: hahao <hao.hao@cloudera.com>
Date:   Thu Jun 23 12:00:04 2016 -0700

    SENTRY-1311: Improve usability of URI privileges by supporting mixed use of URIs with and without scheme (Vadim Spector, Reviewed by Hao Hao)
    
    Change-Id: I272da41e7d8b963e6d20d1b1c5c36e388d9b28fe

 .../apache/sentry/core/common/utils/PathUtils.java |  94 ++++++++-----
 .../sentry/core/common/utils/TestPathUtils.java    |  42 +++++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 150 +++++++++++++++++++++
 3 files changed, 248 insertions(+), 38 deletions(-)

commit 24b686edecfc7ee61765278a259f043ad00a9c5d
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Jun 20 17:16:41 2016 -0700

    SENTRY-1346: add a test case into hdfs acl e2e suite to test a db.tbl wit out partition, can take more than certain number groups. (Anne Yu, reviewed by Haohao).

 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      | 28 +++++++++++++++--
 .../sentry/tests/e2e/hdfs/TestDbHdfsMaxGroups.java | 35 ++++++++++++++++++++++
 2 files changed, 61 insertions(+), 2 deletions(-)

commit caa630c97438c29c8d43e345431bddd4ed3cf9ef
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Jun 21 13:23:50 2016 -0700

    SENTRY-1345: ACLS on table folder disappear after insert for unpartitioned tables (Sravya Tirukkovalur, Reviewed by: Hao Hao and Anne Yu)
    
    Change-Id: I716000e5e49714169e87c8d3ffcef9ae3da8a796

 .../SentryMetastorePostEventListener.java          |  6 +++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 29 ++++++++++++++++++++++
 2 files changed, 33 insertions(+), 2 deletions(-)

commit 3dbfe881130a81b14ad57d298fc361cd8f5c5d76
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Jun 20 17:16:41 2016 -0700

    SENTRY-1346: add a test case into hdfs acl e2e suite to test a db.tbl wit out partition, can take more than certain number groups. (Anne Yu, reviewed by Haohao).

 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      | 28 +++++++++++++++--
 .../sentry/tests/e2e/hdfs/TestDbHdfsMaxGroups.java | 35 ++++++++++++++++++++++
 2 files changed, 61 insertions(+), 2 deletions(-)

commit 8b8442bb2fec8af75335451ef3a63f95064e7c12
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Jun 21 11:24:45 2016 +0800

    SENTRY-1302: Update Hive V2 after moving Exception to sentry-core-common module (Ke Jia via Dapeng Sun)

 sentry-binding/sentry-binding-hive-v2/pom.xml              |  2 +-
 .../hive/v2/authorizer/DefaultSentryAccessController.java  |  4 ++--
 .../binding/hive/v2/metastore/MetastoreAuthzBindingV2.java |  2 +-
 sentry-tests/sentry-tests-hive-v2/pom.xml                  |  2 +-
 .../sentry/tests/e2e/dbprovider/TestColumnEndToEnd.java    |  2 +-
 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java  |  6 +++---
 .../sentry/tests/e2e/dbprovider/TestDbConnections.java     |  4 ++--
 .../apache/sentry/tests/e2e/dbprovider/TestDbEndToEnd.java |  2 +-
 .../e2e/dbprovider/TestDbSentryOnFailureHookLoading.java   |  2 +-
 .../tests/e2e/dbprovider/TestPrivilegeWithGrantOption.java |  2 +-
 .../e2e/dbprovider/TestPrivilegeWithHAGrantOption.java     |  2 +-
 .../java/org/apache/sentry/tests/e2e/ha/TestHaEnd2End.java |  2 +-
 .../apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java  |  2 +-
 .../e2e/hive/AbstractTestWithStaticConfiguration.java      |  8 ++++----
 .../org/apache/sentry/tests/e2e/hive/TestConfigTool.java   |  2 +-
 .../sentry/tests/e2e/hive/TestPerDBConfiguration.java      | 10 +++++-----
 .../sentry/tests/e2e/hive/TestPolicyImportExport.java      |  9 +++++----
 .../tests/e2e/metastore/SentryPolicyProviderForDb.java     | 14 +++++++-------
 18 files changed, 39 insertions(+), 38 deletions(-)

commit 8cd392b55560e6c109469e5efabc2d96053f741e
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Jun 21 11:09:28 2016 +0800

    SENTRY-1134: Add user defined udf test case (Ke Jia, reviewed Dapeng Sun, Anne Yu)

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 32 +++++++++++++++++++++-
 .../org/apache/sentry/tests/e2e/hive/TestUDF.java  | 29 ++++++++++++++++++++
 2 files changed, 60 insertions(+), 1 deletion(-)

commit 08b2212bbce3a9e672734ceeed01832fd3fdbd6e
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri Jun 17 10:58:43 2016 -0700

    SENTRY-1336: Fix PMD violation in testSentryServiceGauges (Rahul Sharma, reviewed by Anne Yu)

 .../sentry/provider/db/service/thrift/TestSentryServiceMetrics.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 81990992b42690ed064564fc67aa7c6c840a9b46
Author: Anne Yu <anneyu@cloudera.com>
Date:   Wed Jun 15 14:07:14 2016 -0700

    SENTRY-1319: Add metrics for isActive and isHA ( Rahul Sharma, reviewed by Colin Patrick McCabe, Sravya Tirukkovalur, Hao Hao and Anne Yu)

 .../provider/db/service/thrift/SentryMetrics.java  |  9 ++++
 .../sentry/service/thrift/SentryService.java       | 33 ++++++++++++
 .../service/thrift/TestSentryServiceMetrics.java   | 58 ++++++++++++++++++++++
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  1 +
 4 files changed, 101 insertions(+)

commit 38098b46167204761a24ca39f1e8bca2038156cc
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Fri Jun 10 10:43:14 2016 -0700

    SENTRY-1320: truncate table db_name.table_name fails (Vihang Karajgaonkar, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I32be718e9a25ac30aaedc0f3773853dc9d1cc27e

 .../apache/sentry/binding/hive/HiveAuthzBindingHook.java   |  2 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScopePart2.java    | 14 ++++++++++++++
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 170eb22f62733483cb17cb269ee21e893a182f1b
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Mon Jun 6 14:19:55 2016 -0700

    SENTRY-858: Add a test case for - Database prefix is not honoured when executing grant statement  ( Rahul Sharma, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I5ad9dc38c3ace4454ea2e51772824a8693c32656

 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 37 ++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 79204bc2cc886dafc30818dd1bf4b3727c5d09fc
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jun 6 10:32:49 2016 +0800

    SENTRY-950: add column level test cases for select ... group by, order by and where (Ke Jia, reviewed by Colin Ma, Anne Yu)

 .../dbprovider/TestPrivilegeWithGrantOption.java   | 66 ++++++++++++++++++++++
 1 file changed, 66 insertions(+)

commit 26fbeba799979f5bf49426ad2316c7d0af56a078
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jun 6 10:29:55 2016 +0800

    SENTRY-1304: Enable CREATEMACRO and DROPMACRO operations in hive binding (Ke Jia via Dapeng Sun)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 13 +++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  3 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 68 ++++++++++++++++++++++
 3 files changed, 83 insertions(+), 1 deletion(-)

commit e5b6d4b3e7aa63b8e1c4f2edd4b3eb6e98e55667
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Thu Jun 2 17:09:49 2016 -0700

    SENTRY-947: Improve error message in HDFS NN Plugin when unable to connect to Sentry ( Venkatesh Ramasamy, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I89cabd4277daa926a5140b8e55f24b33aa84ae3a

 .../src/main/java/org/apache/sentry/hdfs/SentryUpdater.java             | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 24f7c2d95184ec4cea9196574342159319f96533
Author: Colin Ma <colin@apache.org>
Date:   Thu Jun 2 10:29:41 2016 +0800

    SENTRY-1299: Add a test case to verify SentryStore#verifySentryStoreSchema works(Colin Ma, reviewed by Dapeng Sun)

 .../db/service/persistent/SentryStore.java         |  2 +-
 .../db/service/persistent/TestSentryStore.java     | 22 ++++++++++++++++++++++
 2 files changed, 23 insertions(+), 1 deletion(-)

commit e67bde0daed57eeaf778510f72b8082f99588c7d
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Wed Jun 1 15:01:53 2016 -0700

    SENTRY-1236: Bump thrift version to 0.9.3 (Sravya Tirukkovalur, Reviewed by: Lenni Kuff and Hao Hao)
    
    Change-Id: I204c83de02c8709f2ea72dd846a5b72e4987f5ad

 pom.xml                                            |    4 +-
 .../hdfs/service/thrift/SentryHDFSService.java     |  449 ++++--
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  |   78 +-
 .../sentry/hdfs/service/thrift/TPathChanges.java   |  118 +-
 .../sentry/hdfs/service/thrift/TPathEntry.java     |   94 +-
 .../sentry/hdfs/service/thrift/TPathsDump.java     |   64 +-
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   |   76 +-
 .../hdfs/service/thrift/TPermissionsUpdate.java    |  112 +-
 .../hdfs/service/thrift/TPrivilegeChanges.java     |  114 +-
 .../sentry/hdfs/service/thrift/TRoleChanges.java   |   82 +-
 .../service/thrift/SentryGenericPolicyService.java | 1104 ++++++++++---
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   79 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   24 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   79 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   24 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   58 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   24 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   58 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   24 +-
 .../db/generic/service/thrift/TAuthorizable.java   |   32 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   50 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   24 +-
 .../service/thrift/TDropPrivilegesRequest.java     |   50 +-
 .../service/thrift/TDropPrivilegesResponse.java    |   24 +-
 .../service/thrift/TDropSentryRoleRequest.java     |   50 +-
 .../service/thrift/TDropSentryRoleResponse.java    |   24 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  118 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   64 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  111 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   53 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   90 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   56 +-
 .../service/thrift/TListSentryRolesRequest.java    |   52 +-
 .../service/thrift/TListSentryRolesResponse.java   |   56 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |  110 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   24 +-
 .../service/thrift/TSentryActiveRoleSet.java       |   55 +-
 .../generic/service/thrift/TSentryGrantOption.java |    2 +-
 .../generic/service/thrift/TSentryPrivilege.java   |  102 +-
 .../service/thrift/TSentryPrivilegeMap.java        |   72 +-
 .../db/generic/service/thrift/TSentryRole.java     |   53 +-
 .../db/service/thrift/SentryPolicyService.java     | 1644 ++++++++++++++++----
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |   72 +-
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |   24 +-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |   71 +-
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |   24 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   72 +-
 .../TAlterSentryRoleDeleteGroupsResponse.java      |   24 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |   71 +-
 .../TAlterSentryRoleDeleteUsersResponse.java       |   24 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   82 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   64 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   82 +-
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |   24 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |   42 +-
 .../service/thrift/TCreateSentryRoleResponse.java  |   24 +-
 .../db/service/thrift/TDropPrivilegesRequest.java  |   42 +-
 .../db/service/thrift/TDropPrivilegesResponse.java |   24 +-
 .../db/service/thrift/TDropSentryRoleRequest.java  |   42 +-
 .../db/service/thrift/TDropSentryRoleResponse.java |   24 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  103 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   68 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  102 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   53 +-
 .../thrift/TListSentryPrivilegesRequest.java       |   52 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   56 +-
 .../thrift/TListSentryRolesForUserRequest.java     |   42 +-
 .../db/service/thrift/TListSentryRolesRequest.java |   44 +-
 .../service/thrift/TListSentryRolesResponse.java   |   56 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |   50 +-
 .../service/thrift/TRenamePrivilegesResponse.java  |   24 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |   55 +-
 .../db/service/thrift/TSentryAuthorizable.java     |   58 +-
 .../service/thrift/TSentryConfigValueRequest.java  |   44 +-
 .../service/thrift/TSentryConfigValueResponse.java |   34 +-
 .../thrift/TSentryExportMappingDataRequest.java    |  132 +-
 .../thrift/TSentryExportMappingDataResponse.java   |   32 +-
 .../db/service/thrift/TSentryGrantOption.java      |    2 +-
 .../provider/db/service/thrift/TSentryGroup.java   |   24 +-
 .../thrift/TSentryImportMappingDataRequest.java    |   52 +-
 .../thrift/TSentryImportMappingDataResponse.java   |   24 +-
 .../db/service/thrift/TSentryMappingData.java      |  282 ++--
 .../db/service/thrift/TSentryPrivilege.java        |   96 +-
 .../db/service/thrift/TSentryPrivilegeMap.java     |   72 +-
 .../provider/db/service/thrift/TSentryRole.java    |   62 +-
 .../service/thrift/TSentryResponseStatus.java      |   44 +-
 .../thrift/sentry_common_serviceConstants.java     |    7 +-
 87 files changed, 5070 insertions(+), 3013 deletions(-)

commit 42744cc97918fdd528a53745b7518957edd1506d
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Jun 1 14:40:49 2016 -0700

    SENTRY-1291: SimpleCacheProviderBackend.getPrivileges should return the permission based on authorizationhierarchy (Hao Hao, Reviewed by: Lenni Kuff, Colin Ma)
    
    Change-Id: I8e69f9f55c2a63a718eb5e63bd75ee2070735cab

 .../privilege/hive/TestCommonPrivilegeForHive.java |  19 ++-
 .../kafka/TestKafkaWildcardPrivilege.java          |   7 +
 .../solr/TestCommonPrivilegeForSearch.java         |   7 +
 .../sqoop/TestCommonPrivilegeForSqoop.java         |   7 +
 .../sentry/policy/common/CommonPrivilege.java      |  18 +++
 .../org/apache/sentry/policy/common/Privilege.java |  14 ++
 .../policy/engine/common/CommonPolicyEngine.java   |   4 +-
 .../policy/indexer/IndexerWildcardPrivilege.java   |  15 ++
 .../indexer/TestCommonPrivilegeForIndexer.java     |   7 +
 .../sentry/provider/cache/PrivilegeCache.java      |  11 +-
 .../provider/cache/SimpleCacheProviderBackend.java |   2 +-
 .../provider/cache/SimplePrivilegeCache.java       | 162 ++++++++++++++++++++-
 .../provider/cache/PrivilegeCacheTestImpl.java     |   7 +
 .../provider/cache/TestSimplePrivilegeCache.java   |  90 ++++++++++++
 .../db/generic/SentryGenericProviderBackend.java   |   2 +-
 15 files changed, 363 insertions(+), 9 deletions(-)

commit 8f453adfc29bc6cbc357e0fdb769591861469ad1
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Jun 1 10:16:52 2016 +0800

    SENTRY-1283: Enable alter table operation without outputs in hive binding (Ke Jia via Dapeng Sun)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  9 +++
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 70 ++++++++++++++++++++++
 2 files changed, 79 insertions(+)

commit bc2929096a607dbea90be3e82a833a969f7aa432
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Jun 1 10:11:43 2016 +0800

    SENTRY-1272: Enable ALTERVIEW_RENAME and ALTERVIEW_AS operation in hive binding (Ke Jia via Dapeng Sun)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  1 +
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  3 +
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 80 ++++++++++++++++++++++
 3 files changed, 84 insertions(+)

commit ee15429a57dc8328227a902e7bd8e73a027ef32f
Author: Colin Ma <colin@apache.org>
Date:   Thu May 26 17:24:33 2016 +0800

    SENTRY-1297: wget is not a default command on mac(Zephyr Guo via Colin Ma)

 sentry-tests/sentry-tests-sqoop/pom.xml | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 47b437544ad1c5524a98f76390063396adc6abd5
Author: hahao <hao.hao@cloudera.com>
Date:   Tue May 24 13:14:49 2016 -0700

    SENTRY-1292: Reorder DBModelAction EnumSet (Hao Hao, Reviewed by: Lenni Kuff)
    
    Change-Id: Id491beab4a37d3112cab9adb2ee32fad92ca3026

 .../src/main/java/org/apache/sentry/core/model/db/DBModelAction.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f222f3ec38b8cdfabad3ba0fad9206615a09e96c
Author: hahao <hao.hao@cloudera.com>
Date:   Tue May 24 11:14:30 2016 -0700

    SENTRY-1293: Avoid converting string permission to Privilege object (Hao Hao, Reviewed by: Lenni Kuff)
    
    Change-Id: I7aba74fc9789b33945bc6326075accbe6c17d900

 .../apache/sentry/provider/common/ResourceAuthorizationProvider.java   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 78e0393a3185eb452cf6a97554b360d44ad49039
Author: Colin Ma <colin@apache.org>
Date:   Tue May 24 10:42:20 2016 +0800

    SENTRY-1294: Fix the management problem for dependency's version(Colin Ma, reviewed by Dapeng Sun)

 pom.xml                                    | 25 +++++++++++++++++++++++++
 sentry-provider/sentry-provider-db/pom.xml |  5 -----
 2 files changed, 25 insertions(+), 5 deletions(-)

commit b4a64f976dd3b98225bbbe8fcf4bf8d7ecddce90
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri May 20 16:00:50 2016 -0700

    SENTRY-1230: Add filesystem tests to test Sentry with user data storage on S3. The tests can also be run on other types of fileSystems (ms azure, hdfs). Just ensure pass correct parameters. (Anne Yu, reviewed by Haohao)
    
    For example,
       -Dsentry.e2etest.DFSType=S3DFS
       -Dsentry.e2etest.storage.uri=s3a://sentry-s3
       -Dfs.s3a.access.key=a
       -Dfs.s3a.secret.key=s
       export HIVE_CONF_DIR=/etc/hive/conf/hite-site.xml

 pom.xml                                            |   1 +
 sentry-tests/sentry-tests-hive/pom.xml             |  13 +-
 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      |  12 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   5 +-
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      |  10 +-
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |   7 +-
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   |   2 +
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |   9 +-
 .../org/apache/sentry/tests/e2e/hive/fs/S3DFS.java |  49 +++++
 .../sentry/tests/e2e/hive/fs/TestFSBase.java       | 216 +++++++++++++++++++++
 .../sentry/tests/e2e/hive/fs/TestFSContants.java   |  33 ++++
 .../e2e/hive/fs/TestHiveWarehouseOnExtFs.java      |  95 +++++++++
 .../sentry/tests/e2e/hive/fs/TestTableOnExtFS.java | 107 ++++++++++
 .../e2e/hive/hiveserver/AbstractHiveServer.java    |   5 +
 .../e2e/hive/hiveserver/EmbeddedHiveServer.java    |   5 +
 .../tests/e2e/hive/hiveserver/HiveServer.java      |   1 +
 .../e2e/hive/hiveserver/InternalHiveServer.java    |   5 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |   6 +
 18 files changed, 562 insertions(+), 19 deletions(-)

commit f6f730c32874dd70062c283eeb80632c7fe5282b
Author: Colin Ma <colin@apache.org>
Date:   Mon May 23 16:21:21 2016 +0800

    SENTRY-1289: Move exception to sentry-core-common module (Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/SentryIniPolicyFileFormatter.java |  2 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  2 +-
 .../binding/hive/authz/SentryConfigTool.java       |  2 +-
 .../SentryMetastorePostEventListenerBase.java      |  2 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  4 ++--
 .../binding/metastore/MetastoreAuthzBinding.java   |  2 +-
 .../SentryMetastorePostEventListener.java          |  2 +-
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |  2 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  2 +-
 .../sentry/binding/solr/TestSolrAuthzBinding.java  |  2 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  2 +-
 .../exception}/ConnectionDeniedException.java      |  2 +-
 .../exception}/SentryAccessDeniedException.java    |  4 +---
 .../exception}/SentryAlreadyExistsException.java   |  4 +---
 .../SentryConfigurationException.java              |  2 +-
 .../exception}/SentryGrantDeniedException.java     |  2 +-
 .../exception}/SentryGroupNotFoundException.java   |  2 +-
 .../exception}/SentryInvalidInputException.java    |  4 +---
 .../exception}/SentryNoSuchObjectException.java    |  4 +---
 .../SentrySiteConfigurationException.java          | 10 ++++-----
 .../SentryThriftAPIMismatchException.java          |  4 +---
 .../common/exception}/SentryUserException.java     |  2 +-
 .../validator/IndexerRequiredInPrivilege.java      |  2 +-
 .../validator/CollectionRequiredInPrivilege.java   |  2 +-
 .../apache/sentry/policy/common/PolicyEngine.java  |  2 +-
 .../policy/engine/common/CommonPolicyEngine.java   |  2 +-
 .../policy/indexer/SimpleIndexerPolicyEngine.java  |  2 +-
 .../provider/cache/SimpleCacheProviderBackend.java |  2 +-
 .../provider/common/AuthorizationProvider.java     |  2 +-
 .../provider/common/HadoopGroupMappingService.java |  1 +
 .../provider/common/NoAuthorizationProvider.java   |  2 +-
 .../sentry/provider/common/ProviderBackend.java    |  2 +-
 .../common/ResourceAuthorizationProvider.java      |  2 +-
 .../provider/common/TestGetGroupMapping.java       |  2 +-
 .../provider/db/SentryPolicyStorePlugin.java       |  2 +-
 .../provider/db/SimpleDBProviderBackend.java       |  2 +-
 .../db/generic/SentryGenericProviderBackend.java   |  4 ++--
 .../service/persistent/DelegateSentryStore.java    | 16 +++++++--------
 .../persistent/PrivilegeOperatePersistence.java    |  2 +-
 .../service/persistent/SentryStoreLayer.java       |  6 +++---
 .../thrift/SentryGenericPolicyProcessor.java       | 24 +++++++++++-----------
 .../service/thrift/SentryGenericServiceClient.java |  2 +-
 .../SentryGenericServiceClientDefaultImpl.java     |  2 +-
 .../db/generic/tools/SentryConfigToolSolr.java     |  2 +-
 .../db/service/persistent/SentryStore.java         | 18 ++++++++--------
 .../service/persistent/SentryStoreSchemaInfo.java  |  2 +-
 .../service/thrift/SentryPolicyServiceClient.java  |  2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java | 23 +++++++++++----------
 .../sentry/provider/db/tools/SentrySchemaTool.java |  6 +++---
 .../apache/sentry/service/thrift/GSSCallback.java  |  1 +
 .../service/thrift/HAClientInvocationHandler.java  |  2 +-
 .../thrift/PoolClientInvocationHandler.java        |  2 +-
 .../org/apache/sentry/service/thrift/Status.java   | 12 +++++------
 .../persistent/TestDelegateSentryStore.java        |  4 ++--
 .../TestPrivilegeOperatePersistence.java           |  4 ++--
 .../thrift/TestSentryGenericPolicyProcessor.java   | 14 ++++++-------
 .../TestSentryGenericServiceIntegration.java       |  2 +-
 .../db/generic/tools/TestSentryConfigToolSolr.java |  2 +-
 .../db/generic/tools/TestSentryShellKafka.java     |  2 +-
 .../db/generic/tools/TestSentryShellSolr.java      |  2 +-
 .../db/service/persistent/TestSentryStore.java     |  6 +++---
 .../db/service/persistent/TestSentryVersion.java   |  2 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     |  9 ++++----
 .../thrift/TestSentryServiceClientPool.java        |  2 +-
 .../thrift/TestSentryServiceIntegration.java       |  2 +-
 .../TestSentryServiceWithInvalidMsgSize.java       |  2 +-
 .../provider/db/tools/TestSentrySchemaTool.java    |  2 +-
 .../provider/db/tools/TestSentryShellHive.java     |  2 +-
 .../provider/file/LocalGroupMappingService.java    |  2 +-
 .../provider/file/SimpleFileProviderBackend.java   |  2 +-
 .../provider/file/TestLocalGroupMapping.java       |  2 +-
 .../SentryIndexAuthorizationSingletonTest.java     |  2 +-
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  2 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  9 +++-----
 .../tests/e2e/dbprovider/TestDbConnections.java    |  4 ++--
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  2 +-
 .../TestDbSentryOnFailureHookLoading.java          |  2 +-
 .../dbprovider/TestPrivilegeWithGrantOption.java   |  2 +-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |  2 +-
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |  2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  2 +-
 .../sentry/tests/e2e/hive/TestConfigTool.java      |  2 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  2 +-
 .../AbstractSolrSentryTestWithDbProvider.java      |  2 +-
 86 files changed, 154 insertions(+), 165 deletions(-)

commit 6c453a0980f1e8621285c348e78d72c6a4d8e66e
Author: Jia Ke <ke.a.jia@intel.com>
Date:   Mon May 23 10:28:57 2016 +0800

    SENTRY-1254: Upgrading SQL script for implement grant user to role (Jia Ke via Dapeng Sun)

 .../src/main/resources/006-SENTRY-711.derby.sql    | 27 +++++++++++++++++++
 .../src/main/resources/006-SENTRY-711.mysql.sql    | 28 ++++++++++++++++++++
 .../src/main/resources/006-SENTRY-711.oracle.sql   | 28 ++++++++++++++++++++
 .../src/main/resources/006-SENTRY-711.postgres.sql | 28 ++++++++++++++++++++
 .../src/main/resources/sentry-db2-1.8.0.sql        | 28 ++++++++++++++++++++
 .../src/main/resources/sentry-derby-1.8.0.sql      | 29 +++++++++++++++++++++
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 30 ++++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 29 +++++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 29 +++++++++++++++++++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          | 29 +++++++++++++++++++++
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |  2 ++
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |  1 +
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |  1 +
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |  1 +
 14 files changed, 290 insertions(+)

commit c29f19bda26dfdffc5cc37862c12caddcc1c68ad
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Fri May 20 14:24:14 2016 -0700

    SENTRY-1265: Sentry service should not require a TGT as it is not talking to other kerberos services as a client ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff, Hao Hao)
    
    Change-Id: Ia3e3bda0f7131da89d93a7729dc814aec0b8852d

 .../service/thrift/SentryKerberosContext.java      | 15 +++++++--
 .../sentry/service/thrift/SentryService.java       |  3 +-
 .../sentry/service/thrift/ServiceConstants.java    |  6 ++++
 .../SentryGenericServiceIntegrationBase.java       |  4 +--
 .../TestAuditLogForSentryGenericService.java       |  5 +--
 .../db/generic/tools/TestSentryConfigToolSolr.java |  2 +-
 .../db/generic/tools/TestSentryShellKafka.java     |  2 +-
 .../db/generic/tools/TestSentryShellSolr.java      |  2 +-
 .../thrift/TestConnectionWithTicketTimeout.java    |  8 +++--
 .../thrift/TestSentryServiceClientPool.java        |  4 +--
 .../thrift/TestSentryServiceFailureCase.java       |  6 ++--
 .../thrift/TestSentryWebServerWithKerberos.java    |  5 +--
 .../provider/db/tools/TestSentryShellHive.java     |  2 +-
 .../thrift/SentryServiceIntegrationBase.java       | 39 +++++++---------------
 14 files changed, 50 insertions(+), 53 deletions(-)

commit 6888f4a137355be527576a78988c1cf203a7d8cc
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed May 18 16:34:18 2016 -0700

    SENTRY-1269: Converter vs Convertor is inconsistent (Gregory Chanan, Reviewed By: Sravya Tirukkovalur)

 .../org/apache/sentry/binding/solr/authz/SolrAuthzBinding.java |  7 +++++++
 .../provider/db/generic/SentryGenericProviderBackend.java      |  8 ++++----
 .../org/apache/sentry/provider/db/generic/UpdatableCache.java  | 10 +++++-----
 ...ilegeConvertor.java => KafkaTSentryPrivilegeConverter.java} |  6 +++---
 .../sentry/provider/db/generic/tools/SentryConfigToolSolr.java |  4 ++--
 .../sentry/provider/db/generic/tools/SentryShellKafka.java     |  6 +++---
 .../sentry/provider/db/generic/tools/SentryShellSolr.java      |  6 +++---
 ...vilegeConvertor.java => SolrTSentryPrivilegeConverter.java} |  8 ++++----
 .../db/generic/tools/command/GrantPrivilegeToRoleCmd.java      |  8 ++++----
 .../db/generic/tools/command/ListPrivilegesByRoleCmd.java      |  8 ++++----
 .../db/generic/tools/command/RevokePrivilegeFromRoleCmd.java   |  8 ++++----
 ...yPrivilegeConvertor.java => TSentryPrivilegeConverter.java} |  2 +-
 .../provider/db/generic/tools/TestSentryConfigToolSolr.java    |  2 +-
 .../sentry/tests/e2e/kafka/AbstractKafkaSentryTestBase.java    |  3 ++-
 14 files changed, 47 insertions(+), 39 deletions(-)

commit 463aafc173a3ee2b03bedefcca9635030824d6cf
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed May 18 09:38:38 2016 +0800

    SENTRY-1086: Add permission check and test case for alter db set owner (Ke Jia, reviewed by Dapeng Sun)

 .../apache/sentry/binding/hive/authz/HiveAuthzPrivilegesMap.java    | 1 +
 .../java/org/apache/sentry/tests/e2e/hive/TestOperationsPart1.java  | 6 ++++++
 2 files changed, 7 insertions(+)

commit c2c7af7e3f38b6f707a0949440c2e4f2b28c3a04
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue May 17 14:48:56 2016 -0700

    SENTRY-1266: Add ConfigTool tests to skipSlowAndNotThreadSafeTests blacklist (Gregory Chanan, Reviewed by: Anne Yu)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2109f42945cb132c4bf738649abf2935288d1e20
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue May 17 14:15:51 2016 +0800

    SENTRY-1026: Fix PMD tag for unused field.(Ke Jia, reviewed by Dapeng Sun)

 .../main/java/org/apache/sentry/core/model/kafka/KafkaAuthorizable.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8a99bd22cb934c2ff9fe85181a9d3fadf844083f
Author: hahao <hao.hao@cloudera.com>
Date:   Mon May 16 19:03:35 2016 -0700

    SENTRY-1252: grantServerPrivilege and revokeServerPrivilege should treat "*" and "ALL" as synonyms when action is not explicitly specified (Hao Hao, Reviewed by: Anne Yu)
    
    Change-Id: I62e54dbb793d32a07684f748be88022f21faccde

 .../SentryPolicyServiceClientDefaultImpl.java      | 36 ++++++++++++++++++++--
 .../thrift/TestSentryServiceIntegration.java       | 25 +++++++++++++++
 2 files changed, 59 insertions(+), 2 deletions(-)

commit 36cb81a8e83b0d9e0e6a2e5e2b242bce6a41f880
Author: Colm O hEigeartaigh <coheigea@apache.org>
Date:   Mon May 16 17:21:23 2016 +0100

    SENTRY-1168 - Fix some "major" issues identified by Sonarqube
    
    Colm O hEigeartaigh (Reviewed by: Anne Yu)

 .../apache/hadoop/hive/SentryHiveConstants.java    |  6 +-
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   | 10 +--
 .../hive/SentryPolicyFileFormatFactory.java        |  4 ++
 .../binding/hive/authz/HiveAuthzBinding.java       |  5 +-
 .../binding/hive/authz/SentryConfigTool.java       | 22 +++----
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  2 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  8 ++-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  4 ++
 .../binding/metastore/AuthorizingObjectStore.java  |  4 +-
 .../binding/metastore/MetastoreAuthzBinding.java   |  4 +-
 .../org/apache/sentry/sqoop/SentrySqoopError.java  |  6 +-
 .../sqoop/binding/SqoopAuthBindingSingleton.java   | 12 ++--
 .../main/java/org/apache/sentry/SentryMain.java    |  5 ++
 .../org/apache/sentry/SentryUserException.java     |  2 +-
 .../java/org/apache/sentry/SentryVersionInfo.java  |  4 ++
 .../apache/sentry/core/common/utils/PathUtils.java |  8 ++-
 .../core/common/utils/PolicyFileConstants.java     |  4 ++
 .../sentry/core/model/db/AccessConstants.java      |  6 +-
 .../sentry/core/model/db/DBModelAuthorizables.java |  4 ++
 .../core/model/indexer/IndexerConstants.java       |  5 +-
 .../model/indexer/IndexerModelAuthorizables.java   |  4 ++
 .../sentry/core/model/search/SearchConstants.java  |  6 +-
 .../model/search/SearchModelAuthorizables.java     |  4 ++
 .../org/apache/sentry/core/model/sqoop/Job.java    |  2 +-
 .../org/apache/sentry/core/model/sqoop/Link.java   |  2 +-
 .../org/apache/sentry/core/model/sqoop/Server.java |  2 +-
 .../core/model/sqoop/SqoopActionConstant.java      |  6 +-
 .../core/model/sqoop/SqoopModelAuthorizables.java  |  5 ++
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 21 +++---
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     | 14 ++--
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  2 +-
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  | 10 +--
 .../hdfs/SentryHDFSServiceClientFactory.java       |  5 ++
 .../org/apache/sentry/hdfs/ServiceConstants.java   | 12 ++--
 .../org/apache/sentry/hdfs/ThriftSerializer.java   |  3 +
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  3 +-
 .../server/namenode/AuthorizationProvider.java     |  2 +-
 .../sentry/hdfs/SentryAuthorizationConstants.java  |  6 +-
 .../sentry/hdfs/SentryAuthorizationInfo.java       | 31 ++++-----
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 44 ++++++-------
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |  2 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  6 +-
 .../sentry/hdfs/MetastoreCacheInitializer.java     |  4 +-
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 22 +++----
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  |  4 ++
 .../sentry/policy/common/PrivilegeUtils.java       |  4 ++
 .../provider/common/AuthorizationComponent.java    |  4 ++
 .../provider/common/ProviderBackendContext.java    |  5 +-
 .../service/persistent/DelegateSentryStore.java    | 38 +++++------
 .../service/persistent/PrivilegeObject.java        |  2 +-
 .../service/thrift/NotificationHandlerInvoker.java |  2 +-
 .../thrift/SentryGenericPolicyProcessor.java       | 20 +++---
 .../thrift/SentryGenericServiceClientFactory.java  |  2 +-
 .../db/log/appender/AuditLoggerTestAppender.java   |  2 +-
 .../db/log/entity/AuditMetadataLogEntity.java      | 20 +++---
 .../db/log/entity/DBAuditMetadataLogEntity.java    | 18 ++---
 .../db/log/entity/GMAuditMetadataLogEntity.java    | 20 +++---
 .../db/log/entity/JsonLogEntityFactory.java        |  4 +-
 .../sentry/provider/db/log/util/CommandUtil.java   |  6 +-
 .../sentry/provider/db/log/util/Constants.java     |  7 +-
 .../db/service/model/MSentryGMPrivilege.java       |  8 +--
 .../provider/db/service/persistent/HAContext.java  | 10 +--
 .../db/service/persistent/SentryStore.java         | 77 +++++++++++-----------
 .../service/persistent/SentryStoreSchemaInfo.java  | 17 ++---
 .../db/service/thrift/PolicyStoreConstants.java    |  6 +-
 .../db/service/thrift/SentryAuthFilter.java        |  9 +--
 .../provider/db/service/thrift/SentryMetrics.java  | 10 +--
 .../service/thrift/SentryPolicyStoreProcessor.java | 14 ++--
 .../db/service/thrift/SentryWebServer.java         |  4 +-
 .../provider/db/service/thrift/ThriftUtil.java     |  6 +-
 .../provider/db/tools/SentrySchemaHelper.java      | 26 ++++----
 .../sentry/provider/db/tools/SentrySchemaTool.java | 53 ++++++++-------
 .../db/tools/command/hive/CommandUtil.java         |  6 +-
 .../command/hive/RevokePrivilegeFromRoleCmd.java   |  2 +-
 .../sentry/service/thrift/JaasConfiguration.java   |  2 +-
 .../thrift/PoolClientInvocationHandler.java        |  4 +-
 .../sentry/service/thrift/SentryService.java       | 18 ++---
 .../service/thrift/SentryServiceClientFactory.java |  2 +-
 .../service/thrift/SentryServiceFactory.java       |  3 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |  7 +-
 .../sentry/service/thrift/ServiceConstants.java    |  8 +--
 .../apache/sentry/provider/file/PolicyFile.java    |  8 +--
 .../apache/sentry/provider/file/PolicyFiles.java   |  5 +-
 .../sentry/SentryIndexAuthorizationSingleton.java  | 27 ++++----
 .../solr/handler/admin/SecureAdminHandlers.java    |  4 +-
 .../component/QueryDocAuthorizationComponent.java  | 16 ++---
 .../component/SecureRealTimeGetComponent.java      | 10 +--
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  4 +-
 88 files changed, 489 insertions(+), 378 deletions(-)

commit eceaaf8e0f83930a28e81d9380e5f75e3ebc4019
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Sun May 15 19:14:57 2016 -0700

    SENTRY-1229: Add caching to SentryGenericProviderBackend (Ashish K Singh, Reviewed By: Gregory Chanan)

 .../sentry/provider/common/CacheProvider.java      |  68 ++++++++
 .../sentry/provider/common/ProviderBackend.java    |   2 +-
 .../apache/sentry/provider/common/TableCache.java  |  25 +++
 .../db/generic/SentryGenericProviderBackend.java   | 118 +++++++++-----
 .../sentry/provider/db/generic/UpdatableCache.java | 171 +++++++++++++++++++++
 .../service/thrift/SentryGenericServiceClient.java |   3 +-
 .../SentryGenericServiceClientDefaultImpl.java     |   1 -
 .../sentry/service/thrift/ServiceConstants.java    |   9 ++
 .../provider/file/SimpleFileProviderBackend.java   | 105 ++++---------
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     |  13 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   1 +
 11 files changed, 393 insertions(+), 123 deletions(-)

commit 1cbf44ade98a96985ec260c623ff6fd9122ad953
Author: Ashish K Singh <asingh@cloudera.com>
Date:   Fri May 13 11:10:55 2016 +0800

    SENTRY-1253: SentryShellKafka is incorrectly setting component as "KAFKA"  (Ashish K Singh, reviewed by Sravya Tirukkovalur and Dapeng Sun)

 .../org/apache/sentry/provider/db/generic/tools/SentryShellKafka.java  | 3 ++-
 .../apache/sentry/provider/db/generic/tools/TestSentryShellKafka.java  | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit afb6d9ae11c80d037015a75c698d02f8bdf74af8
Author: Ashish K Singh <asingh@cloudera.com>
Date:   Fri May 13 10:59:42 2016 +0800

    SENTRY-1208: Make HOST implied in privileges if not specified explicitly. (Ashish K Singh, reviewed by Dapeng Sun)

 .../db/generic/tools/KafkaTSentryPrivilegeConvertor.java         | 9 +++++++++
 .../sentry/provider/db/generic/tools/TestSentryShellKafka.java   | 4 +++-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit e82a8c652a8f1d2a106f5cdf2df965058f937d8e
Author: Colin Ma <colin@apache.org>
Date:   Thu May 12 09:54:50 2016 +0800

    SENTRY-1251: Move PolicyFileConstants to sentry-core-common(Colin Ma, reviewed by Dapeng Sun)

 .../apache/sentry/binding/hive/SentryIniPolicyFileFormatter.java  | 2 +-
 .../sentry/binding/hive/TestSentryIniPolicyFileFormatter.java     | 2 +-
 .../org/apache/sentry/core/common/utils}/PolicyFileConstants.java | 2 +-
 .../provider/db/generic/tools/KafkaTSentryPrivilegeConvertor.java | 2 +-
 .../provider/db/generic/tools/SolrTSentryPrivilegeConvertor.java  | 2 +-
 .../db/service/thrift/SentryPolicyServiceClientDefaultImpl.java   | 2 +-
 .../provider/db/service/thrift/SentryPolicyStoreProcessor.java    | 2 +-
 .../apache/sentry/provider/db/tools/command/hive/CommandUtil.java | 2 +-
 .../sentry/provider/db/tools/command/hive/ListPrivilegesCmd.java  | 2 +-
 .../java/org/apache/sentry/service/thrift/SentryServiceUtil.java  | 2 +-
 .../provider/db/service/thrift/TestSentryServiceImportExport.java | 2 +-
 .../org/apache/sentry/provider/file/LocalGroupMappingService.java | 2 +-
 .../src/main/java/org/apache/sentry/provider/file/PolicyFile.java | 8 ++++----
 .../apache/sentry/provider/file/SimpleFileProviderBackend.java    | 2 +-
 .../org/apache/sentry/tests/e2e/hive/TestPolicyImportExport.java  | 2 +-
 15 files changed, 18 insertions(+), 18 deletions(-)

commit fd1fbf70d247e4eefa50f9621faeb85db03645dd
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed May 4 19:09:09 2016 -0700

    SENTRY-1233: Logging improvements to SentryConfigToolSolr (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 .../db/generic/tools/SentryConfigToolSolr.java     | 78 +++++++++++++---------
 1 file changed, 45 insertions(+), 33 deletions(-)

commit 0db74b863824c03a2d0164b86c7a1330afc76b97
Author: Colin Ma <colin@apache.org>
Date:   Sun May 8 19:27:42 2016 +0800

    SENTRY-1222: Improve SentryIniPolicyFileFormatter to support user section in .ini file(Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/SentryIniPolicyFileFormatter.java | 80 ++++++++++++----------
 .../hive/TestSentryIniPolicyFileFormatter.java     | 40 ++++++++++-
 .../provider/common/PolicyFileConstants.java       |  1 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  4 +-
 .../thrift/TestSentryServiceImportExport.java      |  6 +-
 5 files changed, 88 insertions(+), 43 deletions(-)

commit d89955bd6c5002b30a49a0832e0f3ac7b27af63a
Author: hahao <hao.hao@cloudera.com>
Date:   Thu May 5 13:26:54 2016 -0700

    SENTRY-1234: JDO exception for list_sentry_privileges_by_authorizable (Hao Hao, Reviewed by: Anne Yu)
    
    Change-Id: Ifb1d9810577bf687ba83be8d0807aee64550742a

 .../service/persistent/DelegateSentryStore.java    | 22 ++++++--
 .../thrift/SentryGenericPolicyProcessor.java       | 25 +++------
 .../service/thrift/SentryGenericServiceClient.java | 20 +++++++
 .../SentryGenericServiceClientDefaultImpl.java     | 21 ++-----
 .../TestSentryGenericServiceIntegration.java       | 64 ++++++++++++++++++++++
 5 files changed, 114 insertions(+), 38 deletions(-)

commit c523c46ee66fb005be47a1646b0665038b3aa9d1
Author: Colin Ma <colin@apache.org>
Date:   Thu May 5 17:21:07 2016 +0800

    SENTRY-1225: Improve SentryPolicyServiceClientDefaultImpl to support user section with import/export(Colin Ma, reviewed by Dapeng Sun)

 .../SentryPolicyServiceClientDefaultImpl.java      |  2 +
 .../thrift/TestSentryServiceImportExport.java      | 55 +++++++++++++++++++---
 2 files changed, 51 insertions(+), 6 deletions(-)

commit d4165e423d57a230f8982c8dd795ac1d9dd48d0d
Author: Anne Yu <anneyu@cloudera.com>
Date:   Thu Apr 21 11:29:37 2016 -0700

    SENTRY-583: Add boundary condition test coverage to HDFS synchronization test suite around max #of groups. (Anne Yu, reviewed by Haohao)

 .../sentry/tests/e2e/hdfs/TestDbHdfsBase.java      | 341 +++++++++++++++++++++
 .../tests/e2e/hdfs/TestDbHdfsExtMaxGroups.java     | 102 ++++++
 .../sentry/tests/e2e/hdfs/TestDbHdfsMaxGroups.java | 197 ++++++++++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  10 +-
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  |   7 +-
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |   9 +-
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |  14 +-
 7 files changed, 673 insertions(+), 7 deletions(-)

commit 0adf29344633d57654800174b01816ea85e3141c
Author: Colin Ma <colin@apache.org>
Date:   Wed May 4 14:11:23 2016 +0800

    SENTRY-1221: Improve the SentryStore and thrift api for import/export with user scope(Colin Ma, reviewed by Dapeng Sun)

 .../db/service/thrift/TSentryMappingData.java      | 373 ++++++++++++++++-----
 .../db/service/persistent/SentryStore.java         | 208 +++++++++---
 .../service/thrift/SentryPolicyStoreProcessor.java |   7 +-
 .../main/resources/sentry_policy_service.thrift    |   5 +-
 .../persistent/TestSentryStoreImportExport.java    | 240 +++++++++----
 5 files changed, 628 insertions(+), 205 deletions(-)

commit 793cb5d245274c9ccd490383c7ef9c1cd993e09a
Author: Ashish K Singh <asingh@cloudera.com>
Date:   Tue May 3 16:08:24 2016 +0800

    SENTRY-1070: Rename kafka.superusers -> super.users based on kafka docs (Ashish K Singh via Dapeng Sun)

 .../src/main/java/org/apache/sentry/kafka/conf/KafkaAuthConf.java       | 2 +-
 .../main/java/org/apache/sentry/tests/e2e/kafka/KafkaTestServer.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fc5cd5a477860d0afe5e583f66f10a506bddccb8
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Mon May 2 14:37:33 2016 -0700

    SENTRY-1228: SimpleFileProviderBackend error message missing spaces (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 .../java/org/apache/sentry/provider/file/SimpleFileProviderBackend.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51475b0c03bcff96b9f88bcce0b1af632e8e6fb0
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Mon May 2 13:09:53 2016 -0700

    SENTRY-1121: Update Jetty version (Colm O hEigeartaigh, Reviewed by:Sravya Tirukkovalur)
    
    Change-Id: I1ac09f104e929d7a84200191910b5f0f1d22820a

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df4524e97d2e92f66bc7d619ea8c4932a8b7ca1d
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Mon May 2 12:10:18 2016 -0700

    SENTRY-1201: Sentry ignores database prefix for MSCK statement (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)
    
    Change-Id: Id6ebd465a31a2306a11cb2a878b972b649ecf6c0

 .../binding/hive/HiveAuthzBindingHookBase.java     | 12 +++++++++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  6 +----
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 27 ++++++++++++++++++++++
 3 files changed, 39 insertions(+), 6 deletions(-)

commit dd8828cade1c47b038ae96e918f644bd2b913438
Author: Colin Ma <colin@apache.org>
Date:   Fri Apr 29 09:55:23 2016 +0800

    SENTRY-1214: Make Kafka resources/ Kafka Model case sensitive(Ashish K Singh via Colin Ma)

 .../core/model/kafka/KafkaPrivilegeModel.java      |  4 +--
 .../sentry/tests/e2e/kafka/TestAclsCrud.java       |  2 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      | 33 +++++++++++-----------
 3 files changed, 19 insertions(+), 20 deletions(-)

commit 3f79a5d74136ba635aa8c2594aec9c5666827603
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Wed Apr 27 22:38:36 2016 -0700

    SENTRY-1076: Add SSL support, print version info on Sentry Service webpage (Li Li, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: Ic9bcaa7fb261447cba0b28e8d0d973d444482a5e

 sentry-provider/sentry-provider-db/pom.xml         |  23 +++++++++
 .../db/service/thrift/SentryWebServer.java         |  34 ++++++++++++--
 .../sentry/service/thrift/ServiceConstants.java    |   8 ++++
 .../src/main/webapp/SentryService.html             |   7 +++
 .../src/main/webapp/css/sentry.css                 |  35 +++++++++++++-
 .../service/thrift/TestSentryWebServerWithSSL.java |  52 +++++++++++++++++++++
 .../thrift/SentryServiceIntegrationBase.java       |   9 ++++
 .../src/test/resources/cacerts.jks                 | Bin 0 -> 954 bytes
 .../src/test/resources/keystore.jks                | Bin 0 -> 2245 bytes
 9 files changed, 163 insertions(+), 5 deletions(-)

commit 6bc9ce703091bd5780e926e3cdd186f23d33f128
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Apr 26 16:56:40 2016 -0700

    SENTRY-1218: [unit test failure] some of TestPrivilegesAtFunctionScope test cases take more than 180s to finish so keep failing the pre (post) commit job. So splitted test into more smaller tests. (Anne Yu, reviewed by HaoHao).

 pom.xml                                            | 36 ++++++++++++++-----
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  4 ++-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |  2 ++
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 40 +++++++++++++---------
 4 files changed, 56 insertions(+), 26 deletions(-)

commit 370fab099b93d4265f25af01d1d864b7a829d86d
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Apr 25 21:12:57 2016 -0700

    SENTRY-1217: NPE for list_sentry_privileges_by_authorizable when activeRoleSet is not set (Hao Hao, Reviewed by: Lenni Kuff)
    
    Change-Id: I8a59320d737209234fe6105a7ba734fd1df45566

 .../thrift/SentryGenericPolicyProcessor.java       | 25 ++++++++++++++++------
 .../TestPrivilegeOperatePersistence.java           |  2 ++
 .../thrift/TestSentryGenericPolicyProcessor.java   | 12 ++++++++++-
 3 files changed, 32 insertions(+), 7 deletions(-)

commit 66b32afa87fab816af972d68b253f46c53ec7f58
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Apr 25 15:04:09 2016 -0700

    SENTRY-1216: disable sentry ha tests for now; add time out for each test class/method; fix trainsient junit time out issue. (Anne Yu, reviewed by HaoHao).

 sentry-tests/sentry-tests-hive/pom.xml             |   6 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |   8 +
 .../tests/e2e/dbprovider/TestDbConnections.java    |   4 +
 .../e2e/dbprovider/TestDbOperationsPart1.java      |  40 ++
 ...bOperations.java => TestDbOperationsPart2.java} |   8 +-
 ...java => TestDbPrivilegesAtTableScopePart1.java} |   4 +-
 .../TestDbPrivilegesAtTableScopePart2.java         |  39 ++
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  12 +-
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |   2 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  42 +-
 .../sentry/tests/e2e/hive/TestOperationsPart1.java | 566 +++++++++++++++++++++
 ...estOperations.java => TestOperationsPart2.java} | 506 +-----------------
 ...e.java => TestPrivilegesAtTableScopePart1.java} | 258 +---------
 .../e2e/hive/TestPrivilegesAtTableScopePart2.java  | 337 ++++++++++++
 14 files changed, 1078 insertions(+), 754 deletions(-)

commit a051630adf3a39d289f7d8379e22d7d75a6e2b4c
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Apr 26 09:42:46 2016 +0800

    SENTRY-1193: Add SQL upgrade script for 1.8.0 (Dapeng Sun, reviewed by Colin Ma)

 .../service/persistent/SentryStoreSchemaInfo.java  |   2 +-
 .../src/main/resources/sentry-db2-1.8.0.sql        | 155 +++++++++++++++++
 .../src/main/resources/sentry-derby-1.8.0.sql      | 155 +++++++++++++++++
 .../src/main/resources/sentry-mysql-1.8.0.sql      | 193 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.8.0.sql     | 168 ++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.8.0.sql   | 182 +++++++++++++++++++
 .../sentry-upgrade-db2-1.7.0-to-1.8.0.sql          |   2 +
 .../sentry-upgrade-derby-1.7.0-to-1.8.0.sql        |   2 +
 .../sentry-upgrade-mysql-1.7.0-to-1.8.0.sql        |   5 +
 .../sentry-upgrade-oracle-1.7.0-to-1.8.0.sql       |   5 +
 .../sentry-upgrade-postgres-1.7.0-to-1.8.0.sql     |   5 +
 .../src/main/resources/upgrade.order.db2           |   1 +
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 16 files changed, 878 insertions(+), 1 deletion(-)

commit ca4968cfeadb0c30abaf1fd4b40705b62b09d44d
Author: Colin Ma <colin@apache.org>
Date:   Tue Apr 26 09:51:19 2016 +0800

    SENTRY-1215: Sentry's db provider makes privileges case insensitive.(Ashish K Singh via Colin Ma)

 .../sentry/provider/db/generic/service/persistent/PrivilegeObject.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a11cf624d79f29adf8a6fe509271406003ffdde8
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Apr 22 21:47:41 2016 -0700

    SENTRY-1175: Improve usability of URI privileges when granting URIs (Hao Hao, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I9f6f62b999afdc9d2e734b61065a1bf44d710bf1

 .../apache/sentry/core/common/utils/PathUtils.java | 38 +++++++++++++++++-
 .../org/apache/sentry/core/model/db/AccessURI.java |  7 +++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 46 ++++++++++++++++++++++
 3 files changed, 88 insertions(+), 3 deletions(-)

commit 383cfd3ca9f71068a328974a6c280a560999ea61
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Apr 22 21:44:34 2016 -0700

    SENTRY-1153: Ensure AccessURI work with S3 (Hao Hao, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I8d0ee3e13ce602c3e0938b9c7ad5e9c717e756ac

 .../sentry/binding/hive/HiveAuthzBindingHookBase.java       |  8 ++++++--
 .../test/java/org/apache/sentry/binding/hive/TestURI.java   |  8 ++++++++
 .../src/test/java/org/apache/sentry/core/db/TestURI.java    | 13 +++++++++++++
 3 files changed, 27 insertions(+), 2 deletions(-)

commit ed39dc855afc9beee3491c8c50fbffecfaee2e1c
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Apr 21 17:54:48 2016 -0700

    SENTRY-1212: Small authorization and compatibility checking bugs in Sentry conversion tool

 .../db/generic/tools/SentryConfigToolSolr.java     | 24 +++++++++++++---------
 .../db/generic/tools/TestSentryConfigToolSolr.java | 15 +++++++++++++-
 2 files changed, 28 insertions(+), 11 deletions(-)

commit 89d64b6609229c48a250682091ed47c49bf7ffa1
Author: Colin Ma <colin@apache.org>
Date:   Fri Apr 22 15:14:41 2016 +0800

    SENTRY-1190: IMPORT TABLE silently fails if Sentry is enabled(Reuben Kuhnert via Colin Ma)

 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   | 23 ++++++++++++++++++++++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 13 +++++++-----
 2 files changed, 31 insertions(+), 5 deletions(-)

commit c49ea3a8ef04bff8d6766d26a9eb212cc382d965
Author: Colin Ma <colin@apache.org>
Date:   Fri Apr 22 15:09:07 2016 +0800

    SENTRY-1213: Remove unnecessary file (Colin Ma, reviewed by Dapeng Sun)

 SENTRY-999.001.patch | 18685 -------------------------------------------------
 1 file changed, 18685 deletions(-)

commit d94e900af45342d20f0f3c8a56b18240340755f4
Author: Colin Ma <colin@apache.org>
Date:   Fri Apr 22 14:58:28 2016 +0800

    SENTRY-999: Refactor the sentry to integrate with external components quickly (Colin Ma, reviewed by Dapeng Sun)

 SENTRY-999.001.patch                               | 18685 +++++++++++++++++++
 pom.xml                                            |    17 +-
 sentry-binding/sentry-binding-hive-common/pom.xml  |     4 -
 .../binding/hive/SentryIniPolicyFileFormatter.java |     6 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |    43 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |     2 +-
 sentry-binding/sentry-binding-hive/pom.xml         |    30 +
 .../hive/TestSentryIniPolicyFileFormatter.java     |     6 +-
 .../hive}/AbstractTestSimplePolicyEngine.java      |     2 +-
 .../sentry/policy/hive/DBPolicyTestUtil.java       |    45 +
 .../policy/hive}/TestDBModelAuthorizables.java     |    10 +-
 .../policy/hive}/TestDatabaseRequiredInRole.java   |     5 +-
 .../policy/hive}/TestPolicyParsingNegative.java    |    20 +-
 ...tResourceAuthorizationProviderGeneralCases.java |    29 +-
 ...tResourceAuthorizationProviderSpecialCases.java |    12 +-
 .../policy/hive}/TestSimpleDBPolicyEngineDFS.java  |    13 +-
 .../hive}/TestSimpleDBPolicyEngineLocalFS.java     |     8 +-
 .../privilege/hive/TestCommonPrivilegeForHive.java |   344 +
 ...hive-policy-test-authz-provider-other-group.ini |     0
 .../resources/hive-policy-test-authz-provider.ini  |     2 +-
 sentry-binding/sentry-binding-kafka/pom.xml        |     9 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     |   891 +-
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |     4 +-
 .../kafka}/AbstractTestKafkaPolicyEngine.java      |     2 +-
 .../sentry/policy/kafka/KafkaPolicyTestUtil.java   |    48 +
 .../kafka/MockGroupMappingServiceProvider.java     |     0
 ...TestKafkaAuthorizationProviderGeneralCases.java |    12 +-
 ...TestKafkaAuthorizationProviderSpecialCases.java |    10 +-
 .../policy/kafka/TestKafkaModelAuthorizables.java  |     3 +-
 .../policy/kafka}/TestKafkaPolicyEngineDFS.java    |     9 +-
 .../kafka}/TestKafkaPolicyEngineLocalFS.java       |     8 +-
 .../policy/kafka}/TestKafkaPolicyNegative.java     |    11 +-
 .../policy/kafka/TestKafkaPrivilegeValidator.java  |     3 +-
 .../kafka/TestKafkaWildcardPrivilege.java          |   133 +-
 .../resources/kafka-policy-test-authz-provider.ini |     0
 .../src/test/resources/sentry-site.xml             |     2 +-
 sentry-binding/sentry-binding-solr/pom.xml         |     4 -
 .../binding/solr/authz/SolrAuthzBinding.java       |    37 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |     2 +-
 .../solr}/AbstractTestSearchPolicyEngine.java      |     2 +-
 .../sentry/policy/solr/SearchPolicyTestUtil.java   |    45 +
 .../policy/solr}/TestCollectionRequiredInRole.java |     5 +-
 ...estSearchAuthorizationProviderGeneralCases.java |    27 +-
 ...estSearchAuthorizationProviderSpecialCases.java |     8 +-
 .../policy/solr}/TestSearchModelAuthorizables.java |     9 +-
 .../policy/solr}/TestSearchPolicyEngineDFS.java    |     8 +-
 .../solr}/TestSearchPolicyEngineLocalFS.java       |     6 +-
 .../policy/solr}/TestSearchPolicyNegative.java     |     8 +-
 .../solr/TestCommonPrivilegeForSearch.java         |   214 +
 .../resources/solr-policy-test-authz-provider.ini  |     0
 sentry-binding/sentry-binding-sqoop/pom.xml        |    17 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |    26 +-
 .../apache/sentry/sqoop/conf/SqoopAuthConf.java    |     2 +-
 .../sqoop/AbstractTestSqoopPolicyEngine.java       |     0
 .../sentry/policy/sqoop/SqoopPolicyTestUtil.java   |    45 +
 .../policy/sqoop/TestServerNameRequiredMatch.java  |     3 +-
 ...TestSqoopAuthorizationProviderGeneralCases.java |    22 +-
 ...TestSqoopAuthorizationProviderSpecialCases.java |     6 +-
 .../policy/sqoop/TestSqoopModelAuthorizables.java  |     3 +-
 .../policy/sqoop/TestSqoopPolicyEngineDFS.java     |     6 +-
 .../policy/sqoop/TestSqoopPolicyEngineLocalFS.java |     5 +-
 .../policy/sqoop/TestSqoopPolicyNegative.java      |    10 +-
 .../sqoop/TestCommonPrivilegeForSqoop.java         |   196 +
 .../resources/sqoop-policy-test-authz-provider.ini |     0
 .../apache/sentry/core/common/BitFieldAction.java  |     2 +-
 .../apache/sentry/core/common/ImplyMethodType.java |    16 +-
 .../java/org/apache/sentry/core/common/Model.java  |    17 +-
 .../org/apache/sentry/core/common/Resource.java    |    26 +
 .../apache/sentry/core/common/utils}/KeyValue.java |    10 +-
 .../sentry/core/common/utils/SentryConstants.java  |    11 +-
 .../core/common/validator}/PrivilegeValidator.java |     2 +-
 .../validator}/PrivilegeValidatorContext.java      |     2 +-
 .../sentry/core/common/utils}/TestKeyValue.java    |    32 +-
 .../core/model}/db/DBModelAuthorizables.java       |    11 +-
 .../sentry/core/model/db/HiveActionFactory.java    |    73 +
 .../sentry/core/model/db/HivePrivilegeModel.java   |    68 +
 .../validator}/AbstractDBPrivilegeValidator.java   |     9 +-
 .../model/db/validator}/DatabaseMustMatch.java     |     4 +-
 .../db/validator}/DatabaseRequiredInPrivilege.java |     7 +-
 .../model/db/validator}/ServerNameMustMatch.java   |     4 +-
 .../model/db/validator}/ServersAllIsInvalid.java   |     4 +-
 .../model}/indexer/IndexerModelAuthorizables.java  |     6 +-
 .../core/model/indexer/IndexerPrivilegeModel.java  |    59 +
 .../AbstractIndexerPrivilegeValidator.java         |     9 +-
 .../validator}/IndexerRequiredInPrivilege.java     |     4 +-
 .../core/model/kafka/KafkaActionFactory.java       |     4 +-
 .../core/model}/kafka/KafkaModelAuthorizables.java |     9 +-
 .../core/model/kafka/KafkaPrivilegeModel.java      |    69 +
 .../kafka/validator}/KafkaPrivilegeValidator.java  |    11 +-
 .../model}/search/SearchModelAuthorizables.java    |     6 +-
 .../core/model/search/SearchPrivilegeModel.java    |    60 +
 .../AbstractSearchPrivilegeValidator.java          |     9 +-
 .../validator}/CollectionRequiredInPrivilege.java  |     4 +-
 .../core/model}/sqoop/SqoopModelAuthorizables.java |     9 +-
 .../core/model/sqoop/SqoopPrivilegeModel.java      |    63 +
 .../sqoop/validator}/ServerNameRequiredMatch.java  |    11 +-
 sentry-dist/pom.xml                                |    16 -
 sentry-policy/pom.xml                              |     5 +-
 sentry-policy/sentry-policy-common/pom.xml         |     5 +
 .../sentry/policy/common/CommonPrivilege.java      |   176 +
 .../org/apache/sentry/policy/common/Privilege.java |     4 +-
 .../apache/sentry/policy/common/ModelForTest.java  |    87 +
 .../sentry/policy/common/TestCommonPrivilege.java  |   147 +
 sentry-policy/sentry-policy-db/pom.xml             |    98 -
 .../sentry/policy/db/DBWildcardPrivilege.java      |   164 -
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |   121 -
 .../sentry/policy/db/TestDBWildcardPrivilege.java  |   335 -
 .../src/test/resources/log4j.properties            |    31 -
 sentry-policy/sentry-policy-engine/pom.xml         |    53 +
 .../policy/engine/common/CommonPolicyEngine.java}  |    59 +-
 .../engine/common/CommonPrivilegeFactory.java}     |    15 +-
 sentry-policy/sentry-policy-indexer/pom.xml        |     4 +
 .../policy/indexer/IndexerWildcardPrivilege.java   |    13 +-
 .../policy/indexer/SimpleIndexerPolicyEngine.java  |    13 +-
 .../sentry/policy/indexer/IndexPolicyTestUtil.java |    44 +
 .../indexer/TestCommonPrivilegeForIndexer.java     |   214 +
 ...stIndexerAuthorizationProviderGeneralCases.java |     5 +-
 ...stIndexerAuthorizationProviderSpecialCases.java |     6 +-
 .../indexer/TestIndexerModelAuthorizables.java     |     3 +-
 .../policy/indexer/TestIndexerPolicyEngineDFS.java |     2 +-
 .../indexer/TestIndexerPolicyEngineLocalFS.java    |     2 +-
 .../policy/indexer/TestIndexerPolicyNegative.java  |     6 +-
 .../policy/indexer/TestIndexerRequiredInRole.java  |     3 +-
 .../indexer/TestIndexerWildcardPrivilege.java      |   203 -
 sentry-policy/sentry-policy-kafka/pom.xml          |    80 -
 .../policy/kafka/KafkaWildcardPrivilege.java       |   146 -
 .../policy/kafka/SimpleKafkaPolicyEngine.java      |   107 -
 .../kafka/KafkaPolicyFileProviderBackend.java      |    34 -
 .../src/test/resources/log4j.properties            |    31 -
 sentry-policy/sentry-policy-search/pom.xml         |    87 -
 .../policy/search/SearchWildcardPrivilege.java     |   144 -
 .../policy/search/TestSearchWildcardPrivilege.java |   203 -
 .../src/test/resources/log4j.properties            |    31 -
 sentry-policy/sentry-policy-sqoop/pom.xml          |    80 -
 .../policy/sqoop/SimpleSqoopPolicyEngine.java      |   105 -
 .../policy/sqoop/SqoopWildcardPrivilege.java       |   122 -
 .../sqoop/MockGroupMappingServiceProvider.java     |    39 -
 .../sqoop/SqoopPolicyFileProviderBackend.java      |    35 -
 .../policy/sqoop/TestSqoopWildcardPrivilege.java   |   176 -
 .../src/test/resources/log4j.properties            |    31 -
 .../HadoopGroupResourceAuthorizationProvider.java  |    15 +-
 .../provider/common/ProviderBackendContext.java    |     2 +-
 .../common/ResourceAuthorizationProvider.java      |    15 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |    14 +-
 .../provider/common/TestGetGroupMapping.java       |     2 +-
 sentry-provider/sentry-provider-db/pom.xml         |     6 +-
 .../service/persistent/PrivilegeObject.java        |     4 +-
 .../thrift/SentryGenericPolicyProcessor.java       |    14 +-
 .../tools/KafkaTSentryPrivilegeConvertor.java      |    20 +-
 .../db/generic/tools/SentryConfigToolSolr.java     |    10 +-
 .../tools/SolrTSentryPrivilegeConvertor.java       |    24 +-
 .../db/service/model/MSentryGMPrivilege.java       |     4 +-
 .../db/service/persistent/SentryStore.java         |     8 +-
 .../db/tools/command/hive/CommandUtil.java         |     6 +-
 .../db/tools/command/hive/ListPrivilegesCmd.java   |    18 +-
 .../sentry/service/thrift/SentryServiceUtil.java   |    24 +-
 .../db/generic/tools/TestSentryShellKafka.java     |     2 +-
 .../thrift/TestSentryServiceImportExport.java      |     6 +-
 .../provider/file/LocalGroupMappingService.java    |     4 +-
 .../LocalGroupResourceAuthorizationProvider.java   |    11 +-
 .../provider/file/SimpleFileProviderBackend.java   |     6 +-
 sentry-solr/solr-sentry-handlers/pom.xml           |     4 -
 sentry-tests/sentry-tests-hive/pom.xml             |     5 -
 .../hive/AbstractTestWithStaticConfiguration.java  |     8 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |    10 +-
 .../tests/e2e/hive/TestPolicyImportExport.java     |     6 +-
 .../e2e/metastore/SentryPolicyProviderForDb.java   |     8 +-
 167 files changed, 21891 insertions(+), 3425 deletions(-)

commit 6d79016aaf2c9179bea9171c393990a466248753
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Apr 15 17:35:19 2016 -0700

    SENTRY-1188: Fixes to get kerberos auth work. (Ashish K Singh, Reviewed by: Hao Hao)

 .../kafka/authorizer/SentryKafkaAuthorizer.java    |  2 +-
 .../sentry/kafka/binding/KafkaAuthBinding.java     | 66 +++++++++++++++++++++-
 .../kafka/binding/KafkaAuthBindingSingleton.java   |  5 +-
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |  8 ++-
 .../policy/kafka/KafkaWildcardPrivilege.java       |  2 +-
 5 files changed, 77 insertions(+), 6 deletions(-)

commit 70d0eccef8b25d9db16001f9e4200aecca5542a5
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Apr 15 17:30:31 2016 -0700

    SENTRY-1162: Add shell for Sentry Kafka integration (Ashish K Singh, Reviewed by:Hao Hao)

 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../tools/KafkaTSentryPrivilegeConvertor.java      | 109 +++++
 .../db/generic/tools/SentryShellKafka.java         | 112 +++++
 .../db/generic/tools/TestSentryShellKafka.java     | 540 +++++++++++++++++++++
 4 files changed, 765 insertions(+)

commit 65f5ffe45f3dcd547d7f3306f398067853bfb2c4
Author: hahao <hao.hao@cloudera.com>
Date:   Fri Apr 15 17:40:19 2016 -0700

    SENTRY-1173: Sentry TLP: Update pom.xml to new git location (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: I5c4aee07248be60827766f5cc3fd0ce053529182

 DISCLAIMER.txt | 16 ----------------
 LICENSE.txt    |  2 +-
 pom.xml        |  6 +++---
 3 files changed, 4 insertions(+), 20 deletions(-)

commit 89aa9b4c18c652076bd26f4b7d73936dd94c2fe5
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Apr 5 18:18:27 2016 -0700

    SENTRY-480: Create import tool that will load policy file about Solr into the DB store (Gregory Chanan, guoquanshen, reviewed by Vamsee Yarlagadda)

 sentry-provider/sentry-provider-db/pom.xml         |   1 -
 .../db/generic/tools/SentryConfigToolCommon.java   | 152 +++++++++++++
 .../db/generic/tools/SentryConfigToolSolr.java     | 246 ++++++++++++++++++++
 .../tools/SolrTSentryPrivilegeConvertor.java       |  11 +-
 .../db/generic/tools/TestSentryConfigToolSolr.java | 248 +++++++++++++++++++++
 .../src/test/resources/solr_case.ini               |  26 +++
 .../src/test/resources/solr_config_import_tool.ini |  29 +++
 .../src/test/resources/solr_invalid.ini            |  21 ++
 8 files changed, 732 insertions(+), 2 deletions(-)

commit d540e3b5af3f74360777945e27004471732620d4
Author: Colin Ma <colin@apache.org>
Date:   Thu Apr 14 12:14:31 2016 +0800

    SENTRY-1179: Update Sentry config tool for export with specific auth object(Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/authz/SentryConfigTool.java       | 19 +++++++++-
 .../tests/e2e/hive/TestPolicyImportExport.java     | 42 +++++++++++++++++++---
 2 files changed, 56 insertions(+), 5 deletions(-)

commit 68949951e97b206766bf3e07d24399d80799e7af
Author: Colin Ma <colin@apache.org>
Date:   Wed Apr 13 15:03:56 2016 +0800

    SENTRY-711: Implement grant user to role (Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/HiveAuthzBindingHookBase.java     |    8 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   29 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |    4 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    |   50 +-
 .../apache/sentry/policy/common/PolicyEngine.java  |   29 +
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |   21 +
 .../policy/indexer/SimpleIndexerPolicyEngine.java  |   21 +-
 .../policy/kafka/SimpleKafkaPolicyEngine.java      |   20 +
 .../policy/search/SimpleSearchPolicyEngine.java    |   21 +-
 .../policy/sqoop/SimpleSqoopPolicyEngine.java      |   19 +
 .../sentry/provider/cache/PrivilegeCache.java      |    7 +
 .../provider/cache/SimpleCacheProviderBackend.java |   11 +
 .../provider/cache/SimplePrivilegeCache.java       |    8 +
 .../provider/cache/PrivilegeCacheTestImpl.java     |    5 +
 .../sentry/provider/common/ProviderBackend.java    |    8 +-
 .../common/ResourceAuthorizationProvider.java      |   13 +-
 .../provider/common/TestGetGroupMapping.java       |   19 +-
 .../db/service/thrift/SentryPolicyService.java     | 2564 +++++++++++++++++++-
 .../thrift/TAlterSentryRoleAddUsersRequest.java    |  740 ++++++
 .../thrift/TAlterSentryRoleAddUsersResponse.java   |  390 +++
 .../TAlterSentryRoleDeleteGroupsRequest.java       |   36 +-
 .../thrift/TAlterSentryRoleDeleteUsersRequest.java |  740 ++++++
 .../TAlterSentryRoleDeleteUsersResponse.java       |  390 +++
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |   36 +-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |   36 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |   36 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |   68 +-
 .../TListSentryPrivilegesByAuthResponse.java       |   52 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  198 +-
 .../TListSentryPrivilegesForProviderResponse.java  |   32 +-
 .../thrift/TListSentryPrivilegesResponse.java      |   36 +-
 .../thrift/TListSentryRolesForUserRequest.java     |  587 +++++
 .../service/thrift/TListSentryRolesResponse.java   |   36 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |   32 +-
 .../db/service/thrift/TSentryMappingData.java      |  148 +-
 .../db/service/thrift/TSentryPrivilegeMap.java     |   76 +-
 .../provider/db/service/thrift/TSentryRole.java    |   36 +-
 .../provider/db/SimpleDBProviderBackend.java       |   15 +-
 .../db/generic/SentryGenericProviderBackend.java   |    7 +
 .../db/log/entity/JsonLogEntityFactory.java        |   40 +
 .../sentry/provider/db/log/util/CommandUtil.java   |   28 +-
 .../sentry/provider/db/log/util/Constants.java     |   22 +-
 .../provider/db/service/model/MSentryRole.java     |   29 +-
 .../provider/db/service/model/MSentryUser.java     |  116 +
 .../sentry/provider/db/service/model/package.jdo   |   78 +-
 .../db/service/persistent/SentryStore.java         |  254 +-
 .../db/service/thrift/NotificationHandler.java     |    8 +
 .../service/thrift/NotificationHandlerInvoker.java |   30 +
 .../service/thrift/SentryPolicyServiceClient.java  |   19 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |   79 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  155 +-
 .../main/resources/sentry_policy_service.thrift    |   37 +-
 .../provider/db/log/util/TestCommandUtil.java      |   42 +-
 .../db/service/persistent/TestSentryStore.java     |  461 +++-
 .../TestSentryServerForHaWithoutKerberos.java      |   60 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |   59 +-
 .../thrift/TestSentryServiceIntegration.java       |  226 ++
 .../provider/file/SimpleFileProviderBackend.java   |    7 +
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    |   18 +
 .../tests/e2e/dbprovider/TestGrantUserToRole.java  |  237 ++
 60 files changed, 7938 insertions(+), 651 deletions(-)

commit 04881fa7acbf11ab3118c5402f2473c5f1fc15b5
Author: Colin Ma <colin@apache.org>
Date:   Thu Apr 14 09:52:03 2016 +0800

    SENTRY-1178: Update Sentry Policy Service for export with specific auth object (Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |   5 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  24 ++-
 .../sentry/service/thrift/SentryServiceUtil.java   |  26 +++
 .../thrift/TestSentryServiceImportExport.java      | 188 ++++++++++++++++++++-
 6 files changed, 232 insertions(+), 15 deletions(-)

commit a3f7510bb57a85265ea1a6e829b857652ff95165
Author: Colin Ma <colin@apache.org>
Date:   Wed Apr 13 15:17:20 2016 +0800

    SENTRY-1177: Update SentryStore for export with specific auth object(Colin Ma, reviewed by Dapeng Sun)

 .../db/service/persistent/SentryStore.java         | 113 +++++++++++-----
 .../persistent/TestSentryStoreImportExport.java    | 143 +++++++++++++++++++++
 2 files changed, 227 insertions(+), 29 deletions(-)

commit e0ae5400bdca5102e3aa962d1307a8e2971f6010
Author: Colin Ma <colin@apache.org>
Date:   Wed Apr 13 15:14:13 2016 +0800

    SENTRY-1176: Update thrift API for export with specific auth object(Colin Ma, reviewed by Dapeng Sun)

 .../thrift/TSentryExportMappingDataRequest.java    | 174 +++++++++++++++++----
 .../main/resources/sentry_policy_service.thrift    |   3 +-
 2 files changed, 144 insertions(+), 33 deletions(-)

commit f4a9ad51f5056696f7b14d821b30b3613a66af25
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Wed Apr 6 12:06:46 2016 -0700

    SENTRY-1184: Clean up HMSPaths.renameAuthzObject ( Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: I551a7310d077cfd7b338f7676bffeb89cf331aab

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 90 ++++++++++++++--------
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   | 13 ++--
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  | 45 ++++++++++-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      | 13 ++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 25 +++++-
 5 files changed, 140 insertions(+), 46 deletions(-)

commit c4b0573107b889a8a694127a197695a443e23e5e
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Apr 13 10:05:17 2016 +0800

    SENTRY-1160: Enable dist for kafka-binding. (Dapeng Sun, reviewed by Hao Hao)

 sentry-dist/pom.xml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 9b0614cfa9e2d4f6e4638117900d29b552f59189
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Apr 12 18:09:38 2016 -0700

    SENTRY-1192: Add SQL upgrade script for 1.7.0. (Dapeng Sun, reviewed by Anne Yu).

 .../service/persistent/SentryStoreSchemaInfo.java  |   2 +-
 .../src/main/resources/sentry-db2-1.7.0.sql        | 155 +++++++++++++++++
 .../src/main/resources/sentry-derby-1.7.0.sql      | 155 +++++++++++++++++
 .../src/main/resources/sentry-mysql-1.7.0.sql      | 193 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.7.0.sql     | 168 ++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.7.0.sql   | 182 +++++++++++++++++++
 .../sentry-upgrade-db2-1.6.0-to-1.7.0.sql          |   2 +
 .../sentry-upgrade-derby-1.6.0-to-1.7.0.sql        |   2 +
 .../sentry-upgrade-mysql-1.6.0-to-1.7.0.sql        |   5 +
 .../sentry-upgrade-oracle-1.6.0-to-1.7.0.sql       |   5 +
 .../sentry-upgrade-postgres-1.6.0-to-1.7.0.sql     |   5 +
 .../src/main/resources/upgrade.order.db2           |   1 +
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 16 files changed, 878 insertions(+), 1 deletion(-)

commit 6ecf48ddee24524c89d838f10df87d33c70e61a1
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Apr 13 09:31:59 2016 +0800

    SENTRY-589: Enable dist for authorization V2 (Dapeng Sun, reviewed by Colin Ma)

 sentry-dist/pom.xml | 31 ++++++++++++++++++++++++++-----
 1 file changed, 26 insertions(+), 5 deletions(-)

commit 2387ddb96a21822e099b9e389669b1f3634271bf
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Apr 12 15:23:24 2016 -0700

    SENTRY-933: Some UTs in TestPrivilegesAtFunctionScope should have two arguments for org.apache.hadoop.hive.ql.udf.generic.GenericUDFPrintf. (Dapeng Sun, reviewed by Anne Yu).

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 93 +++++++++++++++-------
 1 file changed, 65 insertions(+), 28 deletions(-)

commit d7cc6e69ea54ddaafc59bc3568a9bfc0ac765db3
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Apr 12 16:31:03 2016 -0700

    SENTRY-1108: Improve surefire execution to run tests concurrently. Could be used a test run profile for pre-commit job. (Anne Yu, reviewed by HaoHao).

 pom.xml | 44 ++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 42 insertions(+), 2 deletions(-)

commit 95db288b9c01735580fb08e6562920af0628b031
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Apr 12 15:53:26 2016 -0700

    SENTRY-1197: Update the version to 1.8.0-SNAPSHOT on trunk after branch-1.7.0 created (Hao Hao: Reviewed by Anne Yu)

 pom.xml                                           | 2 +-
 sentry-binding/pom.xml                            | 2 +-
 sentry-binding/sentry-binding-hive-common/pom.xml | 2 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml     | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml        | 2 +-
 sentry-binding/sentry-binding-kafka/pom.xml       | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml        | 2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml       | 2 +-
 sentry-core/pom.xml                               | 2 +-
 sentry-core/sentry-core-common/pom.xml            | 2 +-
 sentry-core/sentry-core-model-db/pom.xml          | 2 +-
 sentry-core/sentry-core-model-indexer/pom.xml     | 2 +-
 sentry-core/sentry-core-model-kafka/pom.xml       | 2 +-
 sentry-core/sentry-core-model-search/pom.xml      | 2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml       | 2 +-
 sentry-dist/pom.xml                               | 2 +-
 sentry-hdfs/pom.xml                               | 2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml            | 2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml              | 2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml   | 4 ++--
 sentry-hdfs/sentry-hdfs-service/pom.xml           | 2 +-
 sentry-policy/pom.xml                             | 2 +-
 sentry-policy/sentry-policy-common/pom.xml        | 2 +-
 sentry-policy/sentry-policy-db/pom.xml            | 2 +-
 sentry-policy/sentry-policy-indexer/pom.xml       | 2 +-
 sentry-policy/sentry-policy-kafka/pom.xml         | 2 +-
 sentry-policy/sentry-policy-search/pom.xml        | 2 +-
 sentry-policy/sentry-policy-sqoop/pom.xml         | 2 +-
 sentry-provider/pom.xml                           | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml     | 2 +-
 sentry-provider/sentry-provider-common/pom.xml    | 2 +-
 sentry-provider/sentry-provider-db/pom.xml        | 2 +-
 sentry-provider/sentry-provider-file/pom.xml      | 2 +-
 sentry-solr/pom.xml                               | 2 +-
 sentry-solr/solr-sentry-core/pom.xml              | 2 +-
 sentry-solr/solr-sentry-handlers/pom.xml          | 2 +-
 sentry-tests/pom.xml                              | 2 +-
 sentry-tests/sentry-tests-hive-v2/pom.xml         | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml            | 2 +-
 sentry-tests/sentry-tests-kafka/pom.xml           | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml            | 2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml           | 2 +-
 42 files changed, 43 insertions(+), 43 deletions(-)

commit a902c2856f03f7f8dd7481918e57c29ba8fa23c7
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Apr 11 13:35:43 2016 -0700

    SENTRY-1156: TestDbColumnLevelMetaDataOps should add `use database` for user session created (Dapeng Sun, reviewed by Anne Yu).

 .../sentry/tests/e2e/dbprovider/TestDbColumnLevelMetaDataOps.java    | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit e7d633c22ae5ae7187c9401f68410299a1a3c5a6
Author: Anne Yu <anneyu@cloudera.com>
Date:   Mon Apr 11 13:23:49 2016 -0700

    SENTRY-1085: Standardize sentry generic model code's exception message. (Anne Yu, reviewed by Hao Hao).

 .../service/persistent/PrivilegeOperatePersistence.java    |  4 ++--
 .../service/thrift/SentryGenericPolicyProcessor.java       | 14 +++++++-------
 .../thrift/SentryGenericServiceClientDefaultImpl.java      |  6 +++---
 .../db/log/appender/RollingFileWithoutDeleteAppender.java  |  2 +-
 .../provider/db/log/entity/DBAuditMetadataLogEntity.java   |  2 ++
 .../provider/db/log/entity/GMAuditMetadataLogEntity.java   |  2 ++
 6 files changed, 17 insertions(+), 13 deletions(-)

commit 33afaefcdc2d8308fd2da402b5db813ae4dde514
Author: Sravya Tirukkovalur <sravya@apache.org>
Date:   Mon Apr 11 12:58:33 2016 -0700

    SENTRY-1128: Add metastore_db to .gitignore (Bhooshan Mogal, Reviewed by: Dapeng Sun and Sravya Tirukkovalur)
    
    Change-Id: Ic2f33f36f3048f59432f5e6f236ae9f451c7550e

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 812159d9608c7ccd5c777a877ea678642a17437b
Author: Anne Yu <anneyu@apache.org>
Date:   Mon Apr 4 17:04:36 2016 -0700

    SENTRY-1155: Add waiting time for getMetastoreClient for avoiding metastore isn't ready (Dapeng Sun, reviewed by Anne Yu).

 .../org/apache/sentry/tests/e2e/hive/Context.java  | 26 ++++++++++++++++------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit fd047665bc7b92c282ac2d569ec52d763d6d00ff
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Apr 4 15:18:33 2016 -0700

    SENTRY-1169: MetastorePlugin#renameAuthzObject log message prints oldpathname as newpathname (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: Ifabdd2387774a277940c8d8598fb006298d57415

 .../src/main/java/org/apache/sentry/hdfs/MetastorePlugin.java           | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b0596142ddc93523c2edd91c8179489e9aea759
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Mar 29 16:29:50 2016 -0700

    SENTRY-1164: fix testCaseSensitivity test failure on a real cluster and also a minor improvements to testConcurrentClients to run locally. (Anne Yu, reviewed by Haohao).

 .../e2e/dbprovider/TestConcurrentClients.java      | 96 ++++++++++++++++++----
 .../hive/AbstractTestWithStaticConfiguration.java  |  4 +-
 .../sentry/tests/e2e/hive/TestOperations.java      | 20 ++++-
 3 files changed, 97 insertions(+), 23 deletions(-)

commit bfb354f2b3226c28a7750124acf38e48c6009645
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Mar 30 09:28:15 2016 +0800

    SENTRY-514: Enable e2e tests for authorization V2 (Dapeng Sun, reviewed by Anne Yu)

 sentry-tests/sentry-tests-hive-v2/pom.xml          |  505 +++++
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  179 ++
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  417 ++++
 .../e2e/dbprovider/TestConcurrentClients.java      |  343 +++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 2180 ++++++++++++++++++++
 .../dbprovider/TestDbColumnLevelMetaDataOps.java   |  374 ++++
 .../tests/e2e/dbprovider/TestDbComplexView.java    |  314 +++
 .../tests/e2e/dbprovider/TestDbConnections.java    |  150 ++
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |   40 +
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    |  293 +++
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  251 +++
 .../dbprovider/TestDbExportImportPrivileges.java   |   44 +
 .../tests/e2e/dbprovider/TestDbJDBCInterface.java  |   45 +
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |   44 +
 .../e2e/dbprovider/TestDbMetadataPermissions.java  |   39 +
 .../e2e/dbprovider/TestDbMovingToProduction.java   |   38 +
 .../tests/e2e/dbprovider/TestDbOperations.java     |   37 +
 .../e2e/dbprovider/TestDbPrivilegeAtTransform.java |   38 +
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  354 ++++
 .../dbprovider/TestDbPrivilegesAtColumnScope.java  |   38 +
 .../TestDbPrivilegesAtDatabaseScope.java           |   46 +
 .../TestDbPrivilegesAtFunctionScope.java           |   39 +
 .../dbprovider/TestDbPrivilegesAtTableScope.java   |   39 +
 .../dbprovider/TestDbRuntimeMetadataRetrieval.java |   46 +
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     |   49 +
 .../TestDbSentryOnFailureHookLoading.java          |  271 +++
 .../tests/e2e/dbprovider/TestDbUriPermissions.java |   45 +
 .../dbprovider/TestPrivilegeWithGrantOption.java   |  269 +++
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |  161 ++
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |  171 ++
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 1836 +++++++++++++++++
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |   28 +
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |   94 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  730 +++++++
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  321 +++
 .../tests/e2e/hive/DummySentryOnFailureHook.java   |   44 +
 .../sentry/tests/e2e/hive/PolicyFileEditor.java    |   78 +
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  |  124 ++
 .../sentry/tests/e2e/hive/StaticUserGroup.java     |   55 +
 .../sentry/tests/e2e/hive/TestConfigTool.java      |  346 ++++
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  669 ++++++
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  |  120 ++
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  128 ++
 .../tests/e2e/hive/TestExportImportPrivileges.java |  162 ++
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   |  228 ++
 .../sentry/tests/e2e/hive/TestLockPrivileges.java  |  214 ++
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  501 +++++
 .../tests/e2e/hive/TestMetadataPermissions.java    |  128 ++
 .../tests/e2e/hive/TestMovingToProduction.java     |  220 ++
 .../sentry/tests/e2e/hive/TestOperations.java      | 1116 ++++++++++
 .../tests/e2e/hive/TestPerDBConfiguration.java     |  408 ++++
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  118 ++
 .../tests/e2e/hive/TestPolicyImportExport.java     |  195 ++
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  118 ++
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |  518 +++++
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  399 ++++
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  262 +++
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  662 ++++++
 .../tests/e2e/hive/TestReloadPrivileges.java       |   54 +
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  429 ++++
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  529 +++++
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |  134 ++
 .../tests/e2e/hive/TestServerConfiguration.java    |  265 +++
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  262 +++
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  396 ++++
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  |  138 ++
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      |   87 +
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |   69 +
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   |   32 +
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |   49 +
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |   94 +
 .../e2e/hive/hiveserver/AbstractHiveServer.java    |   95 +
 .../e2e/hive/hiveserver/EmbeddedHiveServer.java    |   60 +
 .../e2e/hive/hiveserver/ExternalHiveServer.java    |  124 ++
 .../tests/e2e/hive/hiveserver/HiveServer.java      |   34 +
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  296 +++
 .../e2e/hive/hiveserver/InternalHiveServer.java    |   47 +
 .../hive/hiveserver/InternalMetastoreServer.java   |   80 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |  113 +
 ...stractMetastoreTestWithStaticConfiguration.java |  218 ++
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  163 ++
 .../e2e/metastore/TestAuthorizingObjectStore.java  | 1106 ++++++++++
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |  113 +
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  628 ++++++
 .../tests/e2e/minisentry/InternalSentrySrv.java    |  270 +++
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  100 +
 .../tests/e2e/minisentry/SentrySrvFactory.java     |   45 +
 .../test/resources/core-site-for-sentry-test.xml   |   34 +
 .../src/test/resources/emp.dat                     |   12 +
 .../sentry-tests-hive-v2/src/test/resources/hadoop |  107 +
 .../src/test/resources/kv1.dat                     |  500 +++++
 .../src/test/resources/log4j.properties            |   35 +
 .../src/test/resources/sentry-provider.ini         |   25 +
 .../src/test/resources/sentry-site.xml             |   33 +
 .../src/test/resources/testPolicyImport.ini        |   25 +
 .../src/test/resources/testPolicyImportAdmin.ini   |   22 +
 .../src/test/resources/testPolicyImportError.ini   |   21 +
 .../scripts/scale-test/create-many-dbs-tables.sh   |  277 +++
 98 files changed, 23802 insertions(+)

commit 30f680774c17a3696b40c59a06b5b11d9e01f45e
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Mar 28 17:01:16 2016 +0800

    SENTRY-1163: Enable Jenkins for Hive Authz2 (Dapeng Sun, reviewed by Colin Ma)

 dev-support/test-patch.py | 37 +++++++++++++++++++++++++++----------
 1 file changed, 27 insertions(+), 10 deletions(-)

commit 0702f54b4e32ad952514cc1041447632b20a8e52
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Mar 25 10:42:17 2016 +0800

    SENTRY-1137: Update hive dependence to 2.0.0 (Dapeng Sun, reviewed by Colin Ma)

 pom.xml                                            |   2 +-
 sentry-binding/sentry-binding-hive-v2/pom.xml      |  27 ++
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    | 103 +++++--
 .../hive/v2/HiveAuthzBindingSessionHookV2.java     |   6 +-
 .../binding/hive/v2/HiveAuthzPrivilegesMapV2.java  | 303 +++++++++++++++++++++
 .../binding/hive/v2/SentryAuthorizerFactory.java   |   4 +-
 .../hive/v2/authorizer/DefaultSentryValidator.java |  11 +-
 .../v2/metastore/AuthorizingObjectStoreV2.java     |   6 +-
 .../hive/v2/metastore/MetastoreAuthzBindingV2.java |  49 +++-
 .../SentryMetastorePostEventListenerV2.java        |   4 +-
 .../hive/v2/util/SimpleSemanticAnalyzer.java       |  11 +-
 11 files changed, 478 insertions(+), 48 deletions(-)

commit 3be4330c22495648084c5b4e7bc819ef8323f0f6
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Mar 24 13:58:29 2016 +0800

    SENTRY-1159: Decouple datanucleus dependences for hive-binding V1 and V2 (Dapeng Sun, reviewed by Colin Ma)

 pom.xml                                            | 18 ------
 sentry-binding/sentry-binding-hive/pom.xml         | 21 ++++++
 sentry-provider/sentry-provider-db/pom.xml         | 74 ++++++++++++++++++----
 .../db/service/persistent/SentryStore.java         |  1 +
 .../sentry/service/thrift/ServiceConstants.java    |  1 +
 .../generic/service/persistent/TestSentryRole.java |  1 +
 sentry-tests/pom.xml                               | 22 ++++++-
 sentry-tests/sentry-tests-hive-v2/pom.xml          | 29 +++++++++
 sentry-tests/sentry-tests-hive/pom.xml             | 20 ++++++
 sentry-tests/sentry-tests-kafka/pom.xml            | 66 ++++++++++++++++++-
 sentry-tests/sentry-tests-solr/pom.xml             | 65 ++++++++++++++++++-
 sentry-tests/sentry-tests-sqoop/pom.xml            | 62 ++++++++++++++++++
 12 files changed, 347 insertions(+), 33 deletions(-)

commit 7a30c819cf66fcff833db2da7993899b03a9d664
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Mar 23 10:19:02 2016 +0800

    SENTRY-1138: Extract common classes for binding-hive-v1 and binding-hive-v2 (Dapeng Sun, reviewed by Colin Ma)

 pom.xml                                            |   5 +
 sentry-binding/pom.xml                             |  11 +-
 sentry-binding/sentry-binding-hive-common/pom.xml  | 102 +++
 .../apache/hadoop/hive/SentryHiveConstants.java    |   0
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   |   4 +-
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |   0
 .../binding/hive/HiveAuthzBindingHookBase.java     | 826 +++++++++++++++++++++
 .../binding/hive/SentryIniPolicyFileFormatter.java |   6 +-
 .../sentry/binding/hive/SentryOnFailureHook.java   |   0
 .../binding/hive/SentryOnFailureHookContext.java   |   0
 .../hive/SentryOnFailureHookContextImpl.java       |   0
 .../hive/SentryPolicyFileFormatFactory.java        |   0
 .../binding/hive/SentryPolicyFileFormatter.java    |   0
 .../binding/hive/authz/HiveAuthzBinding.java       |   0
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   0
 .../binding/hive/authz/SentryConfigTool.java       |  10 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   0
 .../hive/conf/InvalidConfigurationException.java   |   0
 .../metastore/AuthorizingObjectStoreBase.java      | 412 ++++++++++
 .../metastore/MetastoreAuthzBindingBase.java       | 450 +++++++++++
 .../metastore/SentryHiveMetaStoreClient.java       |  12 +-
 .../metastore/SentryMetaStoreFilterHook.java       |   6 +-
 .../SentryMetastorePostEventListenerBase.java      | 404 ++++++++++
 sentry-binding/sentry-binding-hive-v2/pom.xml      |  17 +-
 sentry-binding/sentry-binding-hive/pom.xml         |  40 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   4 +-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 716 +-----------------
 .../binding/hive/HiveAuthzBindingSessionHook.java  |   2 +-
 .../binding/metastore/AuthorizingObjectStore.java  |   6 +-
 .../binding/metastore/MetastoreAuthzBinding.java   | 404 +---------
 .../org/apache/sentry/binding/hive/TestURI.java    |  12 +-
 sentry-hdfs/sentry-hdfs-service/pom.xml            |   3 +-
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |   6 +-
 33 files changed, 2255 insertions(+), 1203 deletions(-)

commit 4643f988a5e0ce2b9749e6365edea3a16482de86
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Mar 22 18:40:15 2016 +0800

    SENTRY-1157: Fix Unit Tests TestAclsCrud&TestAuthorize failed (Dapeng Sun, reviewed by Colin Ma)

 .../main/java/org/apache/sentry/tests/e2e/kafka/KafkaTestServer.java  | 4 ++--
 .../src/main/java/org/apache/sentry/tests/e2e/kafka/TestUtils.java    | 4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 5720b64d277417e511bfe230f260503016f7b7cb
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 21 23:54:43 2016 -0700

    SENTRY-1088: PathsUpdate should log invalid paths to make troubleshooting easier (Ryan Pridgeon via Hao Hao)
    
    Change-Id: I33f86e47624e1d20c227ad70acb01c8009e73386

 .../src/main/java/org/apache/sentry/hdfs/PathsUpdate.java        | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 07df5fbadb09975bfd5c5bd609479b44c23b2d0c
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 21 23:05:16 2016 -0700

    SENTRY-1142: Rebase on master (Ashish K Singh via Hao Hao)
    
    Change-Id: If050cf5187021fc5a428f6e8cf8a3c405431d8b7

 .../sentry/core/model/kafka/TestKafkaAction.java   |   2 --
 .../policy/kafka/KafkaModelAuthorizables.java      |   2 +-
 .../policy/kafka/KafkaPrivilegeValidator.java      |   5 ++--
 .../policy/kafka/KafkaWildcardPrivilege.java       |   4 ++--
 .../kafka/KafkaPolicyFileProviderBackend.java      |   1 -
 .../policy/kafka/TestKafkaModelAuthorizables.java  |   2 +-
 .../policy/kafka/TestKafkaWildcardPrivilege.java   |  26 +++++++--------------
 ...TestKafkaAuthorizationProviderGeneralCases.java |  18 +++++++++-----
 .../sentry/tests/e2e/kafka/TestAuthorize.java      |   5 ++--
 .../src/test/resources/user1.keystore.jks          | Bin 0 -> 2060 bytes
 .../src/test/resources/user1.truststore.jks        | Bin 0 -> 1513 bytes
 .../src/test/resources/user2.keystore.jks          | Bin 0 -> 2058 bytes
 .../src/test/resources/user2.truststore.jks        | Bin 0 -> 1513 bytes
 13 files changed, 30 insertions(+), 35 deletions(-)

commit 00a14d92a676ff01b6150f7ec7af7009bc415f8c
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 9 23:24:15 2016 -0800

    SENTRY-1014: Add end-to-end tests for Kafka (Ashish K Singh, Reviewed by: Hao Hao, Anne Yu and Dapeng Sun)
    
    Change-Id: I4398811da2f80e56ab9fa6ae7a9967e4c22d0558

 .../sentry/tests/e2e/kafka/KafkaTestServer.java    |   4 +-
 .../sentry/tests/e2e/kafka/TestAuthorize.java      | 297 +++++++++++++++++++++
 2 files changed, 299 insertions(+), 2 deletions(-)

commit 9b43369ac5bbd16d08d34d8c6f8294a695d6e03d
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 7 13:51:03 2016 -0800

    SENTRY-1113: Fix test failures due to missing files.
    
    Change-Id: Ib22222f41e6433cd1531ead43bac7ba2e68adc62

 .../src/test/resources/test.keystore.jks                 | Bin 0 -> 2067 bytes
 .../src/test/resources/test.truststore.jks               | Bin 0 -> 2250 bytes
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 01ed1243857cb9334b92a94c5aa825dd56e10fd9
Author: hahao <hao.hao@cloudera.com>
Date:   Sat Mar 5 15:42:45 2016 -0800

    SENTRY-1057: Add implementations for acls' CRUD (Ashish K Singh, reviewed by: Dapeng Sun and Hao Hao)
    
    Change-Id: Iff5f23cee47bef256db387ceb032c1a6ea5c9124

 .gitignore                                         |   1 +
 pom.xml                                            |   3 +
 .../kafka/authorizer/SentryKafkaAuthorizer.java    |  56 +++-
 .../sentry/kafka/binding/KafkaAuthBinding.java     | 369 ++++++++++++++++++++-
 .../kafka/binding/KafkaAuthBindingSingleton.java   |   4 +-
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |   4 +-
 .../authorizer/SentryKafkaAuthorizerTest.java      |   1 -
 .../core/model/kafka/KafkaActionFactory.java       |   3 +
 .../core/model/kafka/TestKafkaAuthorizable.java    |   4 -
 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../persistent/PrivilegeOperatePersistence.java    |   2 +
 sentry-tests/pom.xml                               |   1 +
 sentry-tests/sentry-tests-kafka/pom.xml            |  64 ++++
 .../tests/e2e/kafka/CustomPrincipalBuilder.java    |  47 +++
 .../sentry/tests/e2e/kafka/EmbeddedZkServer.java   |  71 ++++
 .../sentry/tests/e2e/kafka/KafkaTestServer.java    | 124 +++++++
 .../apache/sentry/tests/e2e/kafka/TestUtils.java   |  29 ++
 .../e2e/kafka/AbstractKafkaSentryTestBase.java     | 227 +++++++++++++
 .../tests/e2e/kafka/StaticUserGroupRole.java       |  57 ++++
 .../sentry/tests/e2e/kafka/TestAclsCrud.java       | 328 ++++++++++++++++++
 .../src/test/resources/log4j.properties            |  38 +++
 .../sentry-tests-kafka/src/test/resources/test.crt |  15 +
 .../src/test/resources/user1.crt                   |  15 +
 .../src/test/resources/user2.crt                   |  15 +
 24 files changed, 1449 insertions(+), 33 deletions(-)

commit 734e190526aebfd1f199b705e16ebc6f40d31f32
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 2 10:55:05 2016 -0800

    SENTRY-1030: Restrict Kafka Cluster authorizable to only have "kafka-cluster" as authorizable's name. (Ashish K Singh, reviewed by: Dapeng Sun and Hao Hao)
    
    Change-Id: I0be60422a85ba783a825a71cd677820dbbc388fa

 .../org/apache/sentry/core/model/kafka/Cluster.java    | 15 +++------------
 .../sentry/core/model/kafka/TestKafkaAuthorizable.java |  6 +++---
 .../sentry/policy/kafka/KafkaModelAuthorizables.java   | 15 ++++++++++-----
 .../policy/kafka/TestKafkaModelAuthorizables.java      | 18 ++++++++++++++++--
 .../policy/kafka/TestKafkaPrivilegeValidator.java      |  8 ++++----
 .../TestKafkaAuthorizationProviderGeneralCases.java    |  2 +-
 6 files changed, 37 insertions(+), 27 deletions(-)

commit 51f4e8d46445b83debfd3984620b2953378a82e0
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 2 10:44:28 2016 -0800

    SENTRY-1056: Get service name from Kafka's server properties. (Ashish K Singh, reviewed by: Dapeng Sun and Hao Hao)
    
    Change-Id: Ibb0abb9c01d50c05dc178e31d08295c0b3efb9b1

 .../apache/sentry/kafka/authorizer/SentryKafkaAuthorizer.java    | 7 ++++++-
 .../java/org/apache/sentry/kafka/binding/KafkaAuthBinding.java   | 9 ++++-----
 .../apache/sentry/kafka/binding/KafkaAuthBindingSingleton.java   | 4 ++--
 .../main/java/org/apache/sentry/kafka/conf/KafkaAuthConf.java    | 6 +++---
 4 files changed, 15 insertions(+), 11 deletions(-)

commit c117c65ba9dadc0a2ae7d52f40ec5d20b559ed9c
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 2 10:21:13 2016 -0800

    SENTRY-1098: Make Kafka dependency as provided (Ashish K Singh, reviewed by: Dapeng Sun and Hao Hao)
    
    Change-Id: I64c3d4178a71037de860a61de32db8380445666b

 sentry-binding/sentry-binding-kafka/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 184a32d68fd319ff00e187d5d3558bc330d3c560
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Feb 16 15:02:55 2016 -0800

    SENTRY-1029: Address review comments for Kafka model that came after patch got committed. (Ashish K Singh, reviewed by Hao Hao, via Anne Yu)

 dev-support/smart-apply-patch.sh                   |   0
 .../sentry/kafka/binding/KafkaAuthBinding.java     |   2 +-
 .../src/test/resources/test-authz-provider.ini     |   4 +-
 .../apache/sentry/core/model/kafka/Cluster.java    |  29 ++++--
 .../sentry/core/model/kafka/ConsumerGroup.java     |  24 ++++-
 .../org/apache/sentry/core/model/kafka/Host.java   |  26 ++++-
 .../core/model/kafka/KafkaActionConstant.java      |   6 +-
 .../core/model/kafka/KafkaActionFactory.java       | 109 ++++++++++++++++++---
 .../sentry/core/model/kafka/KafkaAuthorizable.java |  30 +++++-
 .../org/apache/sentry/core/model/kafka/Topic.java  |  24 ++++-
 .../sentry/core/model/kafka/TestKafkaAction.java   |  27 ++---
 .../core/model/kafka/TestKafkaAuthorizable.java    |   5 +-
 .../policy/kafka/KafkaModelAuthorizables.java      |   2 +-
 .../policy/kafka/KafkaPrivilegeValidator.java      |  97 +++++++++++++-----
 .../policy/kafka/KafkaWildcardPrivilege.java       |  29 ++++--
 .../policy/kafka/TestKafkaModelAuthorizables.java  |  18 ++++
 .../policy/kafka/TestKafkaPrivilegeValidator.java  |  75 +++++++++++---
 .../policy/kafka/TestKafkaWildcardPrivilege.java   |   4 +
 .../engine/AbstractTestKafkaPolicyEngine.java      |   4 +-
 .../kafka/provider/TestKafkaPolicyNegative.java    |   2 +-
 .../src/test/resources/test-authz-provider.ini     |   4 +-
 21 files changed, 419 insertions(+), 102 deletions(-)

commit 7ce037351b7060d9c46b5578669839caf62cadcd
Author: Anne Yu <anneyu@cloudera.com>
Date:   Tue Feb 9 16:59:58 2016 -0800

    SENTRY-1011: Add Kafka binding (Ashish K Singh, reviewed by HaoHao and Dapeng Sun, via Anne Yu)
    
    Change-Id: I4e54d5d519448bac24896b2c76fd875978ec655a

 pom.xml                                            |  12 ++
 sentry-binding/pom.xml                             |   1 +
 sentry-binding/sentry-binding-kafka/pom.xml        |  76 +++++++++++
 .../java/org/apache/sentry/kafka/ConvertUtil.java  |  55 ++++++++
 .../kafka/authorizer/SentryKafkaAuthorizer.java    | 137 +++++++++++++++++++
 .../sentry/kafka/binding/KafkaAuthBinding.java     | 152 +++++++++++++++++++++
 .../kafka/binding/KafkaAuthBindingSingleton.java   |  87 ++++++++++++
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |  78 +++++++++++
 .../kafka/MockGroupMappingServiceProvider.java     |  46 +++++++
 .../sentry/kafka/authorizer/ConvertUtilTest.java   |  85 ++++++++++++
 .../authorizer/SentryKafkaAuthorizerTest.java      | 126 +++++++++++++++++
 .../src/test/resources/core-site.xml               |  26 ++++
 .../src/test/resources/log4j.properties            |  30 ++++
 .../src/test/resources/sentry-site.xml             |  42 ++++++
 .../src/test/resources/test-authz-provider.ini     |  38 ++++++
 .../provider/common/AuthorizationComponent.java    |   1 +
 16 files changed, 992 insertions(+)

commit 2575adde2a1fddc2594ecd0f3cdce7e5866cd228
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Feb 1 09:19:21 2016 +0800

    SENTRY-1013: Add policy engine for Kafka (Ashish K Singh via Dapeng Sun)
    
    Change-Id: I157bd09d6c053866e2c655383eeedee0fbc8fd50

 pom.xml                                            |   5 +
 sentry-policy/pom.xml                              |   1 +
 sentry-policy/sentry-policy-kafka/pom.xml          |  80 ++++++++
 .../policy/kafka/KafkaModelAuthorizables.java      |  57 ++++++
 .../policy/kafka/KafkaPrivilegeValidator.java      |  68 +++++++
 .../policy/kafka/KafkaWildcardPrivilege.java       | 131 +++++++++++++
 .../policy/kafka/SimpleKafkaPolicyEngine.java      |  87 +++++++++
 .../kafka/KafkaPolicyFileProviderBackend.java      |  35 ++++
 .../kafka/MockGroupMappingServiceProvider.java     |  39 ++++
 .../policy/kafka/TestKafkaModelAuthorizables.java  |  54 ++++++
 .../policy/kafka/TestKafkaPrivilegeValidator.java  | 118 ++++++++++++
 .../policy/kafka/TestKafkaWildcardPrivilege.java   | 179 +++++++++++++++++
 .../engine/AbstractTestKafkaPolicyEngine.java      | 163 ++++++++++++++++
 .../kafka/engine/TestKafkaPolicyEngineDFS.java     |  76 ++++++++
 .../kafka/engine/TestKafkaPolicyEngineLocalFS.java |  47 +++++
 ...TestKafkaAuthorizationProviderGeneralCases.java | 212 +++++++++++++++++++++
 ...TestKafkaAuthorizationProviderSpecialCases.java |  88 +++++++++
 .../kafka/provider/TestKafkaPolicyNegative.java    | 105 ++++++++++
 .../src/test/resources/log4j.properties            |  31 +++
 .../src/test/resources/test-authz-provider.ini     |  38 ++++
 20 files changed, 1614 insertions(+)

commit ac6c0f0cbd0d314fabd08ffe8d055dc5688eb550
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Jan 26 09:11:07 2016 +0800

    SENTRY-1012: Add core model for Kafka (Ashish K Singh via Dapeng Sun)
    
    Change-Id: I92c8612c4b0e4f6cd359ddabe1ac6717ba4e218a

 pom.xml                                            |   5 +
 sentry-core/pom.xml                                |   1 +
 sentry-core/sentry-core-model-kafka/pom.xml        |  43 +++++
 .../apache/sentry/core/model/kafka/Cluster.java    |  48 ++++++
 .../sentry/core/model/kafka/ConsumerGroup.java     |  46 ++++++
 .../org/apache/sentry/core/model/kafka/Host.java   |  48 ++++++
 .../core/model/kafka/KafkaActionConstant.java      |  32 ++++
 .../core/model/kafka/KafkaActionFactory.java       | 105 ++++++++++++
 .../sentry/core/model/kafka/KafkaAuthorizable.java |  35 ++++
 .../org/apache/sentry/core/model/kafka/Topic.java  |  46 ++++++
 .../sentry/core/model/kafka/TestKafkaAction.java   | 180 +++++++++++++++++++++
 .../core/model/kafka/TestKafkaAuthorizable.java    |  61 +++++++
 12 files changed, 650 insertions(+)

commit 326c38dc6ec59719f7612625028566e12695c119
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Mar 21 14:42:50 2016 -0700

    SENTRY-1135: Remove deprecated junit.framework dependencies (Colm O hEigeartaigh, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I65ce09cd4933ac9f206846e7899c2e6c1e9bbf39

 .../org/apache/sentry/binding/hive/TestHiveAuthzBindings.java  |  2 +-
 .../binding/hive/TestSentryHiveAuthorizationTaskFactory.java   |  2 +-
 .../sentry/binding/hive/TestSentryIniPolicyFileFormatter.java  |  4 ++--
 .../org/apache/sentry/binding/solr/TestSolrAuthzBinding.java   |  6 +++---
 .../org/apache/sentry/sqoop/TestSentryAuthorizationHander.java |  2 +-
 .../org/apache/sentry/core/common/utils/TestPathUtils.java     |  6 +++---
 .../test/java/org/apache/sentry/core/indexer/TestIndexer.java  |  2 +-
 .../apache/sentry/core/indexer/TestIndexerBitFieldAction.java  |  6 +++---
 .../java/org/apache/sentry/core/search/TestCollection.java     |  2 +-
 .../apache/sentry/core/search/TestSearchBitFieldAction.java    |  6 +++---
 .../org/apache/sentry/core/model/sqoop/TestSqoopAction.java    |  6 +++---
 .../apache/sentry/core/model/sqoop/TestSqoopAuthorizable.java  |  2 +-
 .../test/java/org/apache/sentry/hdfs/TestHMSPathsFullDump.java |  2 +-
 .../src/test/java/org/apache/sentry/hdfs/TestPathsUpdate.java  |  2 +-
 .../test/java/org/apache/sentry/hdfs/TestUpdateForwarder.java  |  2 +-
 .../java/org/apache/sentry/policy/common/TestKeyValue.java     |  4 ++--
 .../sentry/policy/db/AbstractTestSimplePolicyEngine.java       |  2 +-
 .../org/apache/sentry/policy/db/TestDBModelAuthorizables.java  |  4 ++--
 .../org/apache/sentry/policy/db/TestDBWildcardPrivilege.java   |  2 +-
 .../apache/sentry/policy/db/TestDatabaseRequiredInRole.java    |  2 +-
 .../org/apache/sentry/policy/db/TestPolicyParsingNegative.java |  2 +-
 .../db/TestResourceAuthorizationProviderGeneralCases.java      |  2 +-
 .../db/TestResourceAuthorizationProviderSpecialCases.java      |  2 +-
 .../apache/sentry/policy/db/TestSimpleDBPolicyEngineDFS.java   |  2 +-
 .../sentry/policy/db/TestSimpleDBPolicyEngineLocalFS.java      |  2 +-
 .../sentry/policy/indexer/AbstractTestIndexerPolicyEngine.java |  2 +-
 .../indexer/TestIndexerAuthorizationProviderGeneralCases.java  |  2 +-
 .../indexer/TestIndexerAuthorizationProviderSpecialCases.java  |  2 +-
 .../sentry/policy/indexer/TestIndexerModelAuthorizables.java   |  4 ++--
 .../sentry/policy/indexer/TestIndexerPolicyEngineDFS.java      |  2 +-
 .../sentry/policy/indexer/TestIndexerPolicyEngineLocalFS.java  |  2 +-
 .../sentry/policy/indexer/TestIndexerPolicyNegative.java       |  2 +-
 .../sentry/policy/indexer/TestIndexerRequiredInRole.java       |  2 +-
 .../sentry/policy/indexer/TestIndexerWildcardPrivilege.java    |  2 +-
 .../sentry/policy/search/AbstractTestSearchPolicyEngine.java   |  2 +-
 .../sentry/policy/search/TestCollectionRequiredInRole.java     |  2 +-
 .../search/TestSearchAuthorizationProviderGeneralCases.java    |  2 +-
 .../search/TestSearchAuthorizationProviderSpecialCases.java    |  2 +-
 .../sentry/policy/search/TestSearchModelAuthorizables.java     |  4 ++--
 .../apache/sentry/policy/search/TestSearchPolicyEngineDFS.java |  2 +-
 .../sentry/policy/search/TestSearchPolicyEngineLocalFS.java    |  2 +-
 .../apache/sentry/policy/search/TestSearchPolicyNegative.java  |  2 +-
 .../sentry/policy/search/TestSearchWildcardPrivilege.java      |  2 +-
 .../sentry/policy/sqoop/AbstractTestSqoopPolicyEngine.java     |  2 +-
 .../sentry/policy/sqoop/TestServerNameRequiredMatch.java       |  2 +-
 .../sqoop/TestSqoopAuthorizationProviderGeneralCases.java      |  2 +-
 .../sqoop/TestSqoopAuthorizationProviderSpecialCases.java      |  2 +-
 .../sentry/policy/sqoop/TestSqoopModelAuthorizables.java       |  4 ++--
 .../apache/sentry/policy/sqoop/TestSqoopPolicyEngineDFS.java   |  2 +-
 .../sentry/policy/sqoop/TestSqoopPolicyEngineLocalFS.java      |  2 +-
 .../apache/sentry/policy/sqoop/TestSqoopPolicyNegative.java    |  2 +-
 .../apache/sentry/policy/sqoop/TestSqoopWildcardPrivilege.java |  2 +-
 .../org/apache/sentry/provider/cache/TestCacheProvider.java    |  2 +-
 .../db/generic/service/persistent/TestDelegateSentryStore.java |  4 ++--
 .../service/persistent/TestPrivilegeOperatePersistence.java    |  4 ++--
 .../db/generic/service/persistent/TestSentryGMPrivilege.java   |  6 +++---
 .../provider/db/generic/service/persistent/TestSentryRole.java |  6 +++---
 .../service/thrift/TestSentryGenericPolicyProcessor.java       |  2 +-
 .../service/thrift/TestSentryGenericServiceIntegration.java    |  2 +-
 .../sentry/provider/db/generic/tools/TestSentryShellSolr.java  |  2 +-
 .../db/log/appender/TestRollingFileWithoutDeleteAppender.java  |  4 ++--
 .../provider/db/log/entity/TestDbAuditMetadataLogEntity.java   |  4 ++--
 .../provider/db/log/entity/TestGMAuditMetadataLogEntity.java   |  4 ++--
 .../provider/db/log/entity/TestJsonLogEntityFactory.java       |  2 +-
 .../provider/db/log/entity/TestJsonLogEntityFactoryGM.java     |  2 +-
 .../apache/sentry/provider/db/log/util/TestCommandUtil.java    |  4 ++--
 .../provider/db/service/persistent/TestSentryPrivilege.java    |  4 ++--
 .../db/service/persistent/TestSentryServiceDiscovery.java      |  2 +-
 .../sentry/provider/db/service/persistent/TestSentryStore.java |  2 +-
 .../db/service/persistent/TestSentryStoreImportExport.java     |  4 ++--
 .../db/service/persistent/TestSentryStoreToAuthorizable.java   |  2 +-
 .../provider/db/service/persistent/TestSentryVersion.java      |  2 +-
 .../db/service/thrift/TestSentryPolicyStoreProcessor.java      |  2 +-
 .../service/thrift/TestSentryServerForHaWithoutKerberos.java   |  2 +-
 .../db/service/thrift/TestSentryServerWithoutKerberos.java     |  2 +-
 .../db/service/thrift/TestSentryServiceImportExport.java       |  4 ++--
 .../db/service/thrift/TestSentryServiceIntegration.java        |  2 +-
 .../apache/sentry/provider/db/tools/TestSentryShellHive.java   |  2 +-
 .../sentry/provider/file/TestSimpleFileProvderBackend.java     |  4 ++--
 .../tests/e2e/dbprovider/TestDbSentryOnFailureHookLoading.java |  2 +-
 .../tests/e2e/dbprovider/TestPrivilegeWithGrantOption.java     |  2 +-
 .../tests/e2e/dbprovider/TestPrivilegeWithHAGrantOption.java   |  2 +-
 .../org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java  |  2 +-
 .../sentry/tests/e2e/hive/AbstractTestWithHiveServer.java      |  2 +-
 .../tests/e2e/hive/AbstractTestWithStaticConfiguration.java    |  2 +-
 .../test/java/org/apache/sentry/tests/e2e/hive/Context.java    |  2 +-
 .../java/org/apache/sentry/tests/e2e/hive/TestCrossDbOps.java  |  2 +-
 .../apache/sentry/tests/e2e/hive/TestMetadataPermissions.java  |  2 +-
 .../apache/sentry/tests/e2e/hive/TestPolicyImportExport.java   |  4 ++--
 .../sentry/tests/e2e/hive/TestPrivilegesAtColumnScope.java     |  2 +-
 .../sentry/tests/e2e/hive/TestPrivilegesAtDatabaseScope.java   |  2 +-
 .../sentry/tests/e2e/hive/TestPrivilegesAtTableScope.java      |  2 +-
 .../sentry/tests/e2e/hive/TestSentryOnFailureHookLoading.java  |  2 +-
 .../org/apache/sentry/tests/e2e/hive/TestUriPermissions.java   |  2 +-
 .../org/apache/sentry/tests/e2e/hive/TestViewPrivileges.java   | 10 +++++-----
 .../java/org/apache/sentry/tests/e2e/hive/fs/AbstractDFS.java  |  2 +-
 .../test/java/org/apache/sentry/tests/e2e/hive/fs/MiniDFS.java |  2 +-
 .../sentry/tests/e2e/metastore/TestMetastoreEndToEnd.java      |  2 +-
 98 files changed, 133 insertions(+), 133 deletions(-)

commit 1434d15b0d585ec29c09c9245d64349d96edc904
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Mar 21 12:34:44 2016 -0700

    SENTRY-869: Add a test where we have multiple column level privileges for a given role (Sravya Tirukkovalur, Reviewed by: Colin Ma, Anne Yu)
    
    Change-Id: I6d5eaa6d19218dbe295a7af69bbf29cc3af4f833

 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit bc5c43450dddced02e61dc61cae1960c8132cd41
Author: Dapeng Sun <sdp@apache.org>
Date:   Wed Mar 16 13:14:30 2016 +0800

    SENTRY-1071: Update thrift gen-file with maven plugin (Dapeng Sun, reviewed by Colin Ma)

 .../hdfs/service/thrift/SentryHDFSService.java     | 139 +++++++++++++--------
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  |  27 ++--
 .../sentry/hdfs/service/thrift/TPathChanges.java   |  52 +++++---
 .../sentry/hdfs/service/thrift/TPathEntry.java     |  65 ++++++----
 .../sentry/hdfs/service/thrift/TPathsDump.java     |  40 +++---
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   |  68 ++++++----
 .../hdfs/service/thrift/TPermissionsUpdate.java    |  73 +++++++----
 .../hdfs/service/thrift/TPrivilegeChanges.java     |  52 +++++---
 .../sentry/hdfs/service/thrift/TRoleChanges.java   |  52 +++++---
 .../service/thrift/SentryGenericPolicyService.java |  12 +-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  34 ++---
 .../TListSentryPrivilegesByAuthResponse.java       |  14 +--
 .../service/thrift/TSentryPrivilegeMap.java        |  12 +-
 13 files changed, 400 insertions(+), 240 deletions(-)

commit c330a21c4488a15b12fa3f82b451ee370ab05f25
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Mar 15 13:15:02 2016 -0700

    SENTRY-1136: Remove /Ping and /HealthCheck from Sentry Service Webpage (Li Li, Reviewed by: Hao Hao)
    
    Change-Id: Id6da1aaa1b117048f11a92c60378e0d0e7a5997a

 sentry-provider/sentry-provider-db/src/main/webapp/SentryService.html | 4 ----
 1 file changed, 4 deletions(-)

commit e3b77f06eeb9f64a413a51df1294d7e881d315f9
Author: Colin Ma <colin@apache.org>
Date:   Fri Mar 11 15:27:55 2016 +0800

    SENTRY-1119: Allow data engines to specify the ActionFactory from configuration(Bhooshan Mogal via Colin Ma, reviewed by Colin Ma, Sravya Tirukkovalur)

 .../service/persistent/DelegateSentryStore.java    |   2 +-
 .../persistent/PrivilegeOperatePersistence.java    |  56 +++++-
 .../sentry/service/thrift/ServiceConstants.java    |   4 +
 .../persistent/SentryStoreIntegrationBase.java     |   2 +-
 .../TestPrivilegeOperatePersistence.java           | 214 ++++++++++++++++-----
 5 files changed, 227 insertions(+), 51 deletions(-)

commit 0619d8a1a0860674bae2fcc035148ce3d23d009f
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Mar 10 17:18:03 2016 -0800

    SENTRY-922: INSERT OVERWRITE DIRECTORY permission not working correctly (Yibing Shi, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I9bc565506e544ee747a7ce5f7cc9b84a56786ec2

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 7 +++++++
 .../src/test/java/org/apache/sentry/binding/hive/TestURI.java    | 9 +++++++++
 2 files changed, 16 insertions(+)

commit baad976f0ea6d3808dc0487af0aaaba2c25a1cce
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Mar 8 15:47:15 2016 -0800

    SENTRY-1122: Allow Solr Audit Log to Read Impersonator Info (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 .../sentry/SentryIndexAuthorizationSingleton.java  | 24 ++++++++++++++++++++--
 .../org/apache/solr/sentry/SentryTestBase.java     | 14 +++++++++----
 2 files changed, 32 insertions(+), 6 deletions(-)

commit 3d05db9b06fb63194ce4373b57623d6c499ac2e1
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 9 23:20:40 2016 -0800

    SENTRY-1111: Apache Sentry should depend on the same version of metrics-core as hadoop (Bhooshan Mogal, Reviewed by: Hao Hao and Sravya Tirukkovalur)
    
    Change-Id: I480c70e711add9cfdd4f32421100cf115aea83ac

 pom.xml                                    | 2 +-
 sentry-provider/sentry-provider-db/pom.xml | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f5989d28d297d083f71ca4eaf1f996e82dce2024
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 9 23:17:17 2016 -0800

    SENTRY-1114: Wrong classname and incorrect _CMD_JAR var in sentryShell (Bhooshan Mogal, Reviewed by: Hao Hao and Sravya Tirukkovalur)
    
    Change-Id: I5ce544ea6d07c99bff07702bb8001a6b9f47e5a2

 bin/sentryShell | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b095b5b991a164983163390f0c8c6f78557d017e
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 7 20:23:48 2016 -0800

    SENTRY-1078: Add servlet for dumping configurations (Li Li, Reviewed by: Hao Hao)
    )
    
    Change-Id: I88bad89b99fcdded2a74c61471a1433f86549e18

 .../provider/db/service/thrift/ConfServlet.java    | 69 ++++++++++++++++++++++
 .../db/service/thrift/SentryWebServer.java         |  7 ++-
 .../src/main/webapp/SentryService.html             |  2 +
 .../thrift/TestSentryWebServerWithoutSecurity.java | 29 +++++++++
 4 files changed, 106 insertions(+), 1 deletion(-)

commit 36db9ba134444dab2d9cb06588a00186484063c4
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 7 13:45:03 2016 -0800

    SENTRY-1116: Fix PMD violation for Sentry tests after missing commits
    
    Change-Id: I8c303dca3e9358ae1cba07040a41867eefff67ed

 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  4 +--
 .../e2e/dbprovider/TestConcurrentClients.java      |  7 ++--
 .../dbprovider/TestDbColumnLevelMetaDataOps.java   |  5 +--
 .../tests/e2e/dbprovider/TestDbComplexView.java    | 18 +++++------
 .../tests/e2e/dbprovider/TestDbConnections.java    |  3 +-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  4 +--
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  5 ---
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     |  2 --
 .../TestDbSentryOnFailureHookLoading.java          |  7 ++--
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 12 +++----
 .../dbprovider/TestPrivilegeWithHAGrantOption.java |  7 ++--
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |  3 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 37 ++++++++--------------
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |  2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  | 13 ++++----
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  7 ++--
 .../tests/e2e/hive/DummySentryOnFailureHook.java   |  3 --
 .../sentry/tests/e2e/hive/TestConfigTool.java      |  1 -
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  |  4 ++-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  2 +-
 .../sentry/tests/e2e/hive/TestOperations.java      |  8 +++--
 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 26 ++++++---------
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  5 ---
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 26 +++++++--------
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  6 ----
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  |  2 +-
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   | 12 +++----
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |  2 --
 .../tests/e2e/hive/hiveserver/HiveServer.java      | 10 +++---
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 25 +++++++--------
 .../e2e/hive/hiveserver/InternalHiveServer.java    |  2 --
 .../hive/hiveserver/InternalMetastoreServer.java   |  1 -
 ...stractMetastoreTestWithStaticConfiguration.java |  5 +--
 .../e2e/metastore/SentryPolicyProviderForDb.java   | 25 +++++++--------
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  4 +--
 .../sentry/tests/e2e/minisentry/SentrySrv.java     | 24 +++++++-------
 36 files changed, 129 insertions(+), 200 deletions(-)

commit cfaa570f0e3b802407e690e630ca50572e2ffc3e
Author: hahao <hao.hao@cloudera.com>
Date:   Mon Mar 7 00:01:53 2016 -0800

    SENTRY-1021: Add PMD to Sentry tests (Colm O hEigeartaigh, Reviewed by: Hao Hao)
    
    Change-Id: Ie7a5b71b30efce23d98e9fb3fc0f951a9fe157ef

 build-tools/sentry-pmd-ruleset.xml                 | 11 ++++-
 pom.xml                                            |  1 +
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  2 -
 .../sentry/binding/solr/TestSolrAuthzBinding.java  |  2 -
 .../core/model/sqoop/TestSqoopAuthorizable.java    |  4 --
 .../sentry/hdfs/TestKrbConnectionTimeout.java      |  2 +-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  1 -
 .../sentry/hdfs/TestMetastoreCacheInitializer.java |  2 +-
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |  2 -
 .../sentry/policy/db/TestDBWildcardPrivilege.java  |  5 +-
 .../policy/db/TestDatabaseRequiredInRole.java      |  2 +-
 ...stIndexerAuthorizationProviderGeneralCases.java |  1 -
 .../policy/indexer/TestIndexerRequiredInRole.java  |  4 +-
 .../indexer/TestIndexerWildcardPrivilege.java      |  4 +-
 .../search/TestCollectionRequiredInRole.java       |  4 +-
 .../policy/search/TestSearchWildcardPrivilege.java |  4 +-
 ...TestSqoopAuthorizationProviderGeneralCases.java | 10 ++--
 .../policy/sqoop/TestSqoopWildcardPrivilege.java   |  4 +-
 .../provider/common/TestGetGroupMapping.java       |  3 --
 .../service/persistent/TestSentryGMPrivilege.java  |  6 +--
 .../generic/service/persistent/TestSentryRole.java |  2 -
 .../SentryGenericServiceIntegrationBase.java       |  1 -
 .../thrift/TestSentryGenericPolicyProcessor.java   | 53 ++++++++++------------
 .../TestSentryGenericServiceIntegration.java       |  4 --
 .../db/generic/tools/TestSentryShellSolr.java      |  8 ----
 .../TestRollingFileWithoutDeleteAppender.java      |  2 -
 .../db/log/entity/TestJsonLogEntityFactory.java    | 24 ++++------
 .../persistent/TestSentryServiceDiscovery.java     |  1 -
 .../db/service/persistent/TestSentryStore.java     | 26 ++++-------
 .../persistent/TestSentryStoreImportExport.java    | 48 +++++++++++++-------
 .../db/service/persistent/TestSentryVersion.java   |  4 +-
 .../TestSentryServerForHaWithoutKerberos.java      | 12 ++---
 .../thrift/TestSentryServerWithoutKerberos.java    | 12 ++---
 .../provider/db/tools/TestSentryShellHive.java     |  6 +--
 .../thrift/SentryServiceIntegrationBase.java       |  2 +-
 .../handler/admin/SecureCoreAdminHandlerTest.java  |  6 +--
 .../QueryDocAuthorizationComponentTest.java        |  1 -
 .../QueryIndexAuthorizationComponentTest.java      |  1 -
 .../SentryIndexAuthorizationSingletonTest.java     |  8 +++-
 .../solr/sentry/SentrySingletonTestInstance.java   |  1 -
 .../org/apache/solr/sentry/SentryTestBase.java     |  4 +-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 26 +++++++----
 .../sentry/tests/e2e/solr/DocLevelGenerator.java   |  4 +-
 .../solr/ModifiableUserAuthenticationFilter.java   |  4 --
 .../tests/e2e/solr/TestDocLevelOperations.java     | 17 +++----
 .../sentry/tests/e2e/solr/TestQueryOperations.java |  3 --
 .../sentry/tests/e2e/solr/TestRealTimeGet.java     | 28 ++++++------
 .../AbstractSolrSentryTestWithDbProvider.java      |  7 ++-
 .../db/integration/TestSolrAdminOperations.java    |  5 +-
 .../db/integration/TestSolrQueryOperations.java    |  5 +-
 .../db/integration/TestSolrUpdateOperations.java   |  5 +-
 .../tests/e2e/sqoop/TestConnectorEndToEnd.java     |  3 --
 .../sentry/tests/e2e/sqoop/TestOwnerPrivilege.java |  2 -
 .../sentry/tests/e2e/sqoop/TestShowPrivilege.java  |  1 -
 .../sentry/tests/e2e/sqoop/TomcatSqoopRunner.java  |  1 -
 55 files changed, 180 insertions(+), 231 deletions(-)

commit 1c32c13ad75f6b299f9047e68615f3d0aaee399b
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Mar 5 01:29:41 2016 -0800

    SENTRY-1112: Change default value of "sentry.hive.server" to "server1" (Li Li via Lenni Kuff)
    
    Change-Id: I59a047d762301940740adbe43d6e640b4963b0e3

 .../java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java     | 4 ++--
 .../test/java/org/apache/sentry/binding/hive/TestHiveAuthzConf.java | 6 ++++++
 .../sentry-binding-hive/src/test/resources/sentry-site.xml          | 4 ----
 3 files changed, 8 insertions(+), 6 deletions(-)

commit a962e24254cc0ca31d18e36b18891390183f9630
Author: Anne Yu <anneyu@apache.org>
Date:   Thu Mar 3 11:55:59 2016 -0800

    SENTRY-1065: Make SentryNoSuchObjectException exception error message consistent across all files (Anne Yu via Hao Hao).

 .../sentry/hdfs/SentryAuthorizationProvider.java   |  2 +-
 .../service/persistent/DelegateSentryStore.java    |  6 ++--
 .../thrift/SentryGenericPolicyProcessor.java       | 14 ++++++----
 .../db/service/persistent/SentryStore.java         | 16 +++++------
 .../service/thrift/SentryPolicyStoreProcessor.java |  8 +++---
 .../persistent/TestDelegateSentryStore.java        |  4 +--
 .../thrift/TestSentryGenericPolicyProcessor.java   | 32 +++++++++++++---------
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |  2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  2 +-
 .../sentry/tests/e2e/sqoop/TestRoleOperation.java  |  2 +-
 10 files changed, 49 insertions(+), 39 deletions(-)

commit 36125fddc098e7d08cf7f8207e1adfa1352162d3
Author: hahao <hao.hao@cloudera.com>
Date:   Wed Mar 2 12:11:23 2016 -0800

    SENTRY-1105: Fix unittest TestMetastoreEndToEnd.testAddPartion (Sravya Tirukkovalur, Reviewed by Hao Hao)
    
    Change-Id: I2d990d29cb354a4125b06f38b71e5ba7c420978b

 .../org/apache/sentry/tests/e2e/metastore/TestMetastoreEndToEnd.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13a61bf9153029725fc323b29098e9d06cf61ddc
Author: Anne Yu <anneyu@apache.org>
Date:   Wed Mar 2 12:00:38 2016 -0800

    SENTRY-1058: remove duplicate junit versions in the root pom and resorted properties alphabetically. (Colm O hEigeartaigh via Anne Yu)

 pom.xml | 51 +++++++++++++++++++++++++--------------------------
 1 file changed, 25 insertions(+), 26 deletions(-)

commit 34b5afc36feaaea19ea129e985c0cad95629c4e5
Author: hahao <hao.hao@cloudera.com>
Date:   Tue Mar 1 17:18:29 2016 -0800

    SENTRY-1087:Capture URI when using Hive Serdes (Hao Hao, Reviewed by: Sravya Tirukkovalur and Lenni Kuff)
    
    Change-Id: I06d19ffc8e5dfc8fd16c6c5a79ea40270580fb72

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  92 ++++++++++++++++-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   3 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   8 ++
 .../tests/e2e/hive/TestCustomSerdePrivileges.java  | 115 +++++++++++++++++++++
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  34 ++++++
 5 files changed, 250 insertions(+), 2 deletions(-)

commit f727a0cf597fba3266ef24ca6782f8e29da1e650
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Mar 1 18:17:44 2016 -0800

    SENTRY-1099: JDK8 autoboxing compilation failure for SecureRealTimeGetComponent.java (Colm O hEigeartaigh, via Anne Yu)

 .../org/apache/solr/handler/component/SecureRealTimeGetComponent.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a0215eea16c032650a43c3694cc460ec26b37c80
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Mar 1 17:15:54 2016 -0800

    SENTRY-520: Use the twitter Bootstrap kit (or similar) to beautify the Sentry Service webpage (Li Li via Lenni Kuff)
    
    Change-Id: Ia8536c955b6c18e81dbfd4bb01b99cd1e5b4dd0f

 sentry-provider/sentry-provider-db/pom.xml         |   7 +++
 .../db/service/thrift/SentryWebServer.java         |  28 ++++++++++-
 .../src/main/webapp/SentryService.html             |  56 +++++++++++++++++++++
 .../src/main/webapp/css/bootstrap-theme.min.css    |  10 ++++
 .../src/main/webapp/css/bootstrap.min.css          |   9 ++++
 .../src/main/webapp/css/sentry.css                 |  21 ++++++++
 .../sentry-provider-db/src/main/webapp/sentry.png  | Bin 0 -> 3223 bytes
 7 files changed, 129 insertions(+), 2 deletions(-)

commit bbef55f965a2c8d10234c1d75ca2aa9229af5ca1
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Mar 1 14:18:10 2016 -0800

    SENTRY-1109: Fix mvn clean install fails with PMD validation: Unnecessary use of fully qualified name 'org.apache.hadoop.hive.metastore.api.Partition' due to existing import 'org.apache.hadoop.hive.metastore.api.Partition. (Dapeng Sun, reviewed by Sravya Tirukkovalur and Anne Yu)

 pom.xml                                                                 | 1 +
 .../java/org/apache/sentry/binding/metastore/MetastoreAuthzBinding.java | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 8669f8ae70d9646e270c90a1b56fbcdf1f1db840
Author: Anne Yu <anneyu@apache.org>
Date:   Mon Feb 22 17:22:48 2016 -0800

    SENTRY-1096: Fix TestDbOperations#testCaseSensitivity failure on a real cluster. (Anne Yu, reviewed by Hao Hao).

 .../apache/sentry/tests/e2e/hive/TestOperations.java   | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit 219534765e3f285d30d2a8fd40f0914381301288
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Feb 24 15:32:31 2016 -0800

    SENTRY-1095: Insert into requires URI privilege on partition location under table. (Sravya Tirukkovalur, Reviewed by: Hao Hao)
    
    Change-Id: Iddd43e74cadf2badcd3ff3b0c0345a5d8e55eb06

 .../binding/metastore/MetastoreAuthzBinding.java   | 21 ++++++++++++++-------
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 22 ++++++++++++++++++++--
 2 files changed, 34 insertions(+), 9 deletions(-)

commit cee62333935d8e85143a65b67e553e12e6867849
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Feb 23 13:04:15 2016 +0800

    SENTRY-1097: Fix compilation errors from SentryGenericPolicyProcessor (Dapeng Sun, reviewed by Hao Hao)

 .../db/generic/service/persistent/DelegateSentryStore.java |  4 ++--
 .../service/thrift/SentryGenericPolicyProcessor.java       | 14 +++++++-------
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 59bbfdc7983c5aec465b643d2584ad888432e48b
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Feb 18 16:20:52 2016 -0800

    SENTRY-989: RealTimeGet with explicit ids can bypass document level authorization (Gregory Chanan, reviewed by Hao Hao)

 .../solr/handler/SecureRealTimeGetHandler.java     |  36 ++
 .../component/QueryDocAuthorizationComponent.java  |  55 ++-
 .../component/SecureRealTimeGetComponent.java      | 356 +++++++++++++++
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |  76 +++-
 .../sentry/tests/e2e/solr/DocLevelGenerator.java   |  72 ++++
 .../tests/e2e/solr/TestDocLevelOperations.java     | 237 +++++-----
 .../sentry/tests/e2e/solr/TestRealTimeGet.java     | 476 +++++++++++++++++++++
 .../resources/solr/collection1/conf/schema.xml     |   1 +
 .../solr/collection1/conf/solrconfig-doclevel.xml  |  19 +-
 .../resources/solr/sentry/test-authz-provider.ini  |   2 +-
 10 files changed, 1197 insertions(+), 133 deletions(-)

commit 03b2f18823e23200d100c1610b5a53c4e641ca46
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Feb 22 13:14:26 2016 -0800

    SENTRY-1035: Generic service does not handle group name casing correctly (Sravya Tirukkovalur, Reviewed by: Hao Hao and Lenni Kuff)
    
    Change-Id: I4479b18676b6e8f5ac044a7e74927092db36a9a8

 .../service/persistent/DelegateSentryStore.java    | 39 ++++++++++++++--------
 .../thrift/SentryGenericPolicyProcessor.java       | 22 ++++++++----
 .../db/generic/tools/TestSentryShellSolr.java      | 36 +++++++++++++++++---
 .../sentry/tests/e2e/hive/TestOperations.java      | 35 +++++++++++++++++--
 4 files changed, 104 insertions(+), 28 deletions(-)

commit e6f6c1fbcc7539c5f79d8c52542fbc303fbc1ad5
Author: Anne Yu <anneyu@apache.org>
Date:   Wed Feb 17 18:54:24 2016 -0800

    SENTRY-974: create a script to generate large size of sentry and hive metadata(databases, tables, roles, permissions and groups). (Anne Yu, reviewed by Colin Ma and Hao Hao)

 .../scripts/scale-test/create-many-dbs-tables.sh   | 277 +++++++++++++++++++++
 1 file changed, 277 insertions(+)

commit 219f6bc9d2c9b240b21c72fef456a2bb357d8229
Author: Anne Yu <anneyu@apache.org>
Date:   Wed Feb 17 13:10:51 2016 -0800

    SENTRY-1066: fix Sentry oracle upgrade script failed with ORA-0955 duplicate name issue by drop implicit index explicitly. (Anne Yu, reviewed by Lenni Kuff and Colin Ma)

 .../sentry-provider-db/src/main/resources/002-SENTRY-339.oracle.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/004-SENTRY-74.oracle.sql      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5a352bf724f769d491ad79fab4ef21294930e091
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Feb 16 17:38:45 2016 -0800

    SENTRY-1055: Sentry service solr constants refer to clusters rather than services (Gregory Chanan, reviewed by Hao Hao)

 .../binding/solr/authz/SolrAuthzBinding.java       | 10 +++++-----
 .../sentry/core/model/search/SearchConstants.java  | 10 +++++-----
 .../AbstractSolrSentryTestWithDbProvider.java      |  4 ++--
 .../db/integration/TestSolrAdminOperations.java    | 22 +++++++++++-----------
 .../db/integration/TestSolrQueryOperations.java    |  2 +-
 5 files changed, 24 insertions(+), 24 deletions(-)

commit 65eda014575f1836da7b7beb1f8b9935adb992c3
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Feb 12 17:41:35 2016 -0800

    SENTRY-1064: Fix TestDbOperations#testCaseSensitivity ( Anne Yu, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: Iaf20b21494de63f636d9e5cf32e686b93b775181

 .../test/java/org/apache/sentry/tests/e2e/hive/TestOperations.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1665b93d04be174bf43ad5367fa7b686b2413b70
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Feb 10 16:26:45 2016 -0800

    SENTRY-1048: Fix "Critical" issues identified by analysis.apache.org (Colm O hEigeartaigh, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I1a4a4351a5b86d2e7893cb30ce34d3656c456e40

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  9 ++--
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  6 ++-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  2 +-
 .../binding/hive/SentryIniPolicyFileFormatter.java |  6 +--
 .../binding/hive/authz/HiveAuthzBinding.java       |  7 +--
 .../SentryMetastorePostEventListener.java          | 21 +++++----
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java |  3 +-
 .../sentry/hdfs/SentryAuthorizationProvider.java   |  2 +-
 .../org/apache/sentry/hdfs/SentryPermissions.java  | 11 ++---
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 14 ++++--
 .../service/persistent/DelegateSentryStore.java    | 12 +++--
 .../provider/db/generic/tools/SentryShellSolr.java |  9 ++--
 .../provider/db/service/persistent/HAContext.java  |  2 +-
 .../db/service/persistent/SentryStore.java         | 51 ++++++++++++----------
 .../service/persistent/SentryStoreSchemaInfo.java  |  4 +-
 .../SentryPolicyServiceClientDefaultImpl.java      | 12 ++---
 .../service/thrift/SentryKerberosContext.java      |  2 +-
 .../apache/sentry/provider/file/PolicyFile.java    | 11 ++---
 .../apache/sentry/provider/file/PolicyFiles.java   | 13 +++---
 .../sentry/SentryIndexAuthorizationSingleton.java  |  4 +-
 .../handler/admin/SecureCollectionsHandler.java    |  2 +-
 21 files changed, 115 insertions(+), 88 deletions(-)

commit 5659d39d6c832da1e8261710798832601348d4b1
Author: Anne Yu <anneyu@apache.org>
Date:   Wed Feb 10 16:37:59 2016 -0800

    SENTRY-1060: Improve the SentryAuthFilter error message when authentication failure (Hao Hao via Anne Yu)

 .../org/apache/sentry/provider/db/service/thrift/SentryAuthFilter.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c2597de003310ea69f159acfba2bb75476492f4
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Feb 10 16:04:36 2016 -0800

    SENTRY-993: list_sentry_privileges_by_authorizable() gone in API v2 ( Hao Hao, Reviewed by: Colin Ma and Lenni Kuff)
    
    Change-Id: If47467956f59959d41ff6a17a068baac7bc8a3c6

 .../service/thrift/SentryGenericPolicyService.java |  806 ++++++++++++++
 .../thrift/TListSentryPrivilegesByAuthRequest.java | 1114 ++++++++++++++++++++
 .../TListSentryPrivilegesByAuthResponse.java       |  565 ++++++++++
 .../service/thrift/TSentryPrivilegeMap.java        |  486 +++++++++
 .../service/persistent/DelegateSentryStore.java    |   40 +
 .../persistent/PrivilegeOperatePersistence.java    |   14 +
 .../service/persistent/SentryStoreLayer.java       |   25 +-
 .../thrift/SentryGenericPolicyProcessor.java       |  217 +++-
 .../SentryGenericServiceClientDefaultImpl.java     |   64 +-
 .../db/service/persistent/SentryStore.java         |   23 +
 .../resources/sentry_generic_policy_service.thrift |   48 +
 .../TestPrivilegeOperatePersistence.java           |   56 +
 .../thrift/TestSentryGenericPolicyProcessor.java   |   34 +-
 13 files changed, 3460 insertions(+), 32 deletions(-)

commit 8a669304b43d294dcc575d8de4e67c9365c443c0
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Feb 10 16:00:43 2016 -0800

    SENTRY-1054: Updated Apache Shiro dependency ( Hao Hao, Reviewed by: Lenni Kuff)
    
    Change-Id: I4971191f73e7c2b25bd53aa784cc43f8d2b4b756

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89828a244ff62afb099f84291f8f78ef9a805dbb
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Feb 9 16:10:43 2016 -0800

    Revert "SENTRY-1011: Add Kafka binding (Ashish K Singh, reviewed by HaoHao and Dapeng Sun, via Anne Yu)"
    
    This reverts commit f49fb8d5303b1adc6cd21fec84acb6a3261c299e.

 pom.xml                                            |  12 --
 sentry-binding/pom.xml                             |   1 -
 sentry-binding/sentry-binding-kafka/pom.xml        |  76 -----------
 .../java/org/apache/sentry/kafka/ConvertUtil.java  |  55 --------
 .../kafka/authorizer/SentryKafkaAuthorizer.java    | 137 -------------------
 .../sentry/kafka/binding/KafkaAuthBinding.java     | 152 ---------------------
 .../kafka/binding/KafkaAuthBindingSingleton.java   |  87 ------------
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |  78 -----------
 .../kafka/MockGroupMappingServiceProvider.java     |  46 -------
 .../sentry/kafka/authorizer/ConvertUtilTest.java   |  85 ------------
 .../authorizer/SentryKafkaAuthorizerTest.java      | 126 -----------------
 .../src/test/resources/core-site.xml               |  26 ----
 .../src/test/resources/log4j.properties            |  30 ----
 .../src/test/resources/sentry-site.xml             |  42 ------
 .../src/test/resources/test-authz-provider.ini     |  38 ------
 .../provider/common/AuthorizationComponent.java    |   1 -
 16 files changed, 992 deletions(-)

commit f49fb8d5303b1adc6cd21fec84acb6a3261c299e
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Feb 9 13:37:27 2016 -0800

    SENTRY-1011: Add Kafka binding (Ashish K Singh, reviewed by HaoHao and Dapeng Sun, via Anne Yu)

 pom.xml                                            |  12 ++
 sentry-binding/pom.xml                             |   1 +
 sentry-binding/sentry-binding-kafka/pom.xml        |  76 +++++++++++
 .../java/org/apache/sentry/kafka/ConvertUtil.java  |  55 ++++++++
 .../kafka/authorizer/SentryKafkaAuthorizer.java    | 137 +++++++++++++++++++
 .../sentry/kafka/binding/KafkaAuthBinding.java     | 152 +++++++++++++++++++++
 .../kafka/binding/KafkaAuthBindingSingleton.java   |  87 ++++++++++++
 .../apache/sentry/kafka/conf/KafkaAuthConf.java    |  78 +++++++++++
 .../kafka/MockGroupMappingServiceProvider.java     |  46 +++++++
 .../sentry/kafka/authorizer/ConvertUtilTest.java   |  85 ++++++++++++
 .../authorizer/SentryKafkaAuthorizerTest.java      | 126 +++++++++++++++++
 .../src/test/resources/core-site.xml               |  26 ++++
 .../src/test/resources/log4j.properties            |  30 ++++
 .../src/test/resources/sentry-site.xml             |  42 ++++++
 .../src/test/resources/test-authz-provider.ini     |  38 ++++++
 .../provider/common/AuthorizationComponent.java    |   1 +
 16 files changed, 992 insertions(+)

commit cd4e14225104f0be3b1325ed4d10db734de1def6
Author: Anne Yu <anneyu@apache.org>
Date:   Tue Feb 9 11:25:07 2016 -0800

    SENTRY-1050: Improve clearAll method to avoid throwing exceptions because can't delete objects managed by external processes. (Anne Yu via Hao Hao)

 .../hive/AbstractTestWithStaticConfiguration.java  | 76 +++++++++++++---------
 1 file changed, 45 insertions(+), 31 deletions(-)

commit fba126789702ced8944b2ebe68a53972e0c7d8fb
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Feb 4 16:23:50 2016 -0800

    SENTRY-1052: Sentry shell should use kerberos requestor and give better error messages for kerberos failures

 .../provider/db/generic/tools/SentryShellSolr.java       | 15 ++++++++++-----
 .../apache/sentry/provider/db/tools/SentryShellHive.java | 16 +++++++++++-----
 2 files changed, 21 insertions(+), 10 deletions(-)

commit 25f88cb88329823b1474ab4189e477b26537a74a
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed Jan 27 13:08:08 2016 -0800

    SENTRY-1032: Rename shell command group/role shell commands and implement with solr shell (Gregory Chanan, reviewed by: Sravya Tirukkovalur)

 .../provider/db/generic/tools/SentryShellSolr.java |   4 +-
 .../generic/tools/command/AddRoleToGroupCmd.java   |  46 ++++++
 .../tools/command/DeleteRoleFromGroupCmd.java      |  46 ++++++
 .../db/generic/tools/command/ListRolesCmd.java     |   2 +-
 .../provider/db/tools/SentryShellCommon.java       |  10 +-
 .../tools/command/hive/GrantRoleToGroupsCmd.java   |   3 +-
 .../db/generic/tools/TestSentryShellSolr.java      | 172 ++++++++++++---------
 .../provider/db/tools/TestSentryShellHive.java     |  66 ++++----
 8 files changed, 233 insertions(+), 116 deletions(-)

commit 488f8806180c22d4a3cfd7be926e147f16e7bc58
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Feb 2 17:39:46 2016 -0800

    SENTRY-1047: Use existing validators in SentryShellSolr (Gregory Chanan, reviewed by Lenni Kuff)

 .../tools/SolrTSentryPrivilegeConvertor.java       | 30 ++++++++++------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit cda611aee5f93862e1e3db3f27aa6e37672d1d91
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Feb 3 09:50:55 2016 +0800

    SENTRY-997: Update HiveAuthorizer of Sentry after HiveAuthorizer interface changes (Dapeng Sun, reviewed by Colin Ma)

 .../hive/v2/authorizer/SentryHiveAuthorizer.java   | 53 ++++++++++------------
 1 file changed, 25 insertions(+), 28 deletions(-)

commit 7f123002cdd031fe8a821eb869fc83152539b6c5
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Feb 3 09:48:42 2016 +0800

    Fix PMD error for unused field when enable Hive authz V2 (Dapeng Sun, reviewed by Colin Ma)

 .../authorizer/DefaultSentryAccessController.java   | 21 ++++++++-------------
 1 file changed, 8 insertions(+), 13 deletions(-)

commit 597a3cdd319be84f2417c96d24db01553f264551
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Mon Feb 1 11:53:38 2016 -0800

    SENTRY-1038: More strict checking of SOLR actions in shell (Gregory Chanan, reviewed By Lenni Kuff, Colin Ma)

 .../sentry/provider/db/generic/tools/SentryShellSolr.java  |  3 ++-
 .../db/generic/tools/SolrTSentryPrivilegeConvertor.java    |  4 ++++
 .../provider/db/generic/tools/TestSentryShellSolr.java     | 14 ++++++++++++--
 3 files changed, 18 insertions(+), 3 deletions(-)

commit a442fa679e4070dd01aef8fead08571f5482f7fc
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Sat Jan 30 19:29:29 2016 -0800

    SENTRY-1039: Sentry shell tests assume order of option group privileges (Gregory Chanan, reviewed by Lenni Kuff)

 .../db/generic/tools/TestSentryShellSolr.java      | 37 +++++++++++++++++++---
 .../provider/db/tools/TestSentryShellHive.java     | 37 +++++++++++++++++++---
 2 files changed, 66 insertions(+), 8 deletions(-)

commit 39d07318d75511144498fdf585707806b0034211
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Feb 1 19:16:30 2016 -0800

    SENTRY-1044: Tables with non-hdfs locations breaks HMS startup ( Harsh J, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I56233e434466b2c03e3a759cafda95c9d46a2e44

 .../main/java/org/apache/sentry/hdfs/MetastoreCacheInitializer.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6ed0a17012fb1ff352fdbbd395cddd9018e26573
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Jan 29 23:21:42 2016 -0800

    SENTRY-1007: Sentry column-level performance for wide tables (Dapeng Sun via Lenni Kuff)
    
    Change-Id: I2299d0d45f33d082ee35a7e6a5e81a1587e5042b

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit a01a7501114ca0934255a0fb5e2635214f8ce887
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Jan 28 16:35:05 2016 -0800

    SENTRY-1037: Set "hadoop.security.authentication" to "kerberos" in the Generic Client (Gregory Chanan, reviewed by Sravya Tirukkovalur)

 .../thrift/SentryGenericServiceClientDefaultImpl.java      | 14 +++++++++++---
 .../sentry/provider/db/generic/tools/SentryShellSolr.java  |  4 +++-
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 20f3960cead3cf5c357596cc7d11e29e55254837
Author: Colin Ma <colin@apache.org>
Date:   Fri Jan 29 17:08:24 2016 +0800

    SENTRY-1036: Move ProviderConstants from sentry-provider-common to sentry-policy-common (Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/SentryIniPolicyFileFormatter.java |  6 +++---
 .../hive/TestSentryIniPolicyFileFormatter.java     |  6 +++---
 sentry-policy/sentry-policy-common/pom.xml         |  5 +++++
 .../org/apache/sentry/policy}/common/KeyValue.java |  9 +++------
 .../sentry/policy/common/PolicyConstants.java      |  4 ++--
 .../apache/sentry/policy}/common/TestKeyValue.java |  4 ++--
 .../policy/db/AbstractDBPrivilegeValidator.java    |  4 ++--
 .../sentry/policy/db/DBModelAuthorizables.java     |  2 +-
 .../sentry/policy/db/DBWildcardPrivilege.java      | 12 ++++++------
 .../sentry/policy/db/TestDBWildcardPrivilege.java  |  8 ++++----
 .../indexer/AbstractIndexerPrivilegeValidator.java |  4 ++--
 .../policy/indexer/IndexerModelAuthorizables.java  |  2 +-
 .../policy/indexer/IndexerWildcardPrivilege.java   | 10 +++++-----
 .../indexer/TestIndexerWildcardPrivilege.java      |  8 ++++----
 .../search/AbstractSearchPrivilegeValidator.java   |  4 ++--
 .../policy/search/SearchModelAuthorizables.java    |  2 +-
 .../policy/search/SearchWildcardPrivilege.java     | 10 +++++-----
 .../policy/search/TestSearchWildcardPrivilege.java |  8 ++++----
 .../policy/sqoop/ServerNameRequiredMatch.java      |  4 ++--
 .../policy/sqoop/SqoopModelAuthorizables.java      |  2 +-
 .../policy/sqoop/SqoopWildcardPrivilege.java       |  4 ++--
 .../policy/sqoop/TestSqoopWildcardPrivilege.java   |  8 ++++----
 .../common/ResourceAuthorizationProvider.java      |  8 ++++----
 .../service/persistent/PrivilegeObject.java        |  4 ++--
 .../thrift/SentryGenericPolicyProcessor.java       |  4 ++--
 .../tools/SolrTSentryPrivilegeConvertor.java       | 14 +++++++-------
 .../db/service/model/MSentryGMPrivilege.java       |  4 ++--
 .../db/service/persistent/SentryStore.java         |  8 ++++----
 .../db/tools/command/hive/CommandUtil.java         |  6 +++---
 .../db/tools/command/hive/ListPrivilegesCmd.java   | 18 +++++++++---------
 .../sentry/service/thrift/SentryServiceUtil.java   | 22 +++++++++++-----------
 .../thrift/TestSentryServiceImportExport.java      |  6 +++---
 .../provider/file/LocalGroupMappingService.java    |  4 ++--
 .../provider/file/SimpleFileProviderBackend.java   |  2 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  6 +++---
 .../tests/e2e/hive/TestPolicyImportExport.java     |  6 +++---
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  6 +++---
 37 files changed, 123 insertions(+), 121 deletions(-)

commit d96f95160fd3dfa30c27b82d09fb5cc2c348b483
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Jan 28 11:15:28 2016 -0800

    SENTRY-1002: PathsUpdate.parsePath(path) will throw an NPE when parsing relative paths (Hao Hao via Lenni Kuff)
    
    Change-Id: I8882078abeed37c17734b04d09f6fb2b298861b9

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   | 23 +++++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 78 ++++++++++++++++++++--
 2 files changed, 92 insertions(+), 9 deletions(-)

commit 8529f8e121144d715986a485abb204aa036caa19
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed Jan 20 15:34:10 2016 -0800

    SENTRY-995: Simple Solr Shell (Gregory Chanan, reviewed by Colin Ma, Sravya Tirukkovalur)

 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../provider/db/generic/tools/SentryShellSolr.java | 101 +++++
 .../tools/SolrTSentryPrivilegeConvertor.java       | 128 ++++++
 .../provider/db/generic/tools/command/Command.java |  27 ++
 .../db/generic/tools/command/CreateRoleCmd.java    |  39 ++
 .../db/generic/tools/command/DropRoleCmd.java      |  39 ++
 .../tools/command/GrantPrivilegeToRoleCmd.java     |  47 +++
 .../tools/command/ListPrivilegesByRoleCmd.java     |  54 +++
 .../db/generic/tools/command/ListRolesCmd.java     |  53 +++
 .../tools/command/RevokePrivilegeFromRoleCmd.java  |  47 +++
 .../tools/command/TSentryPrivilegeConvertor.java   |  33 ++
 .../provider/db/tools/SentryShellCommon.java       |   7 +-
 .../SentryGenericServiceIntegrationBase.java       |  76 ++++
 .../TestSentryGenericServiceIntegration.java       |  53 +--
 .../db/generic/tools/TestSentryShellSolr.java      | 446 +++++++++++++++++++++
 15 files changed, 1101 insertions(+), 53 deletions(-)

commit 0f0fd359b17f3460c5254fbd617c5f417a2f2d6b
Author: Anne Yu <anneyu@apache.org>
Date:   Mon Jan 25 13:32:01 2016 -0800

    SENTRY-1003: Support "reload" by updating the classpath of Sentry function aux jar path during runtime. (Dapeng Sun via Anne Yu)

 .../java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ef9b73884896fe63ec8182cc0f7fa428389cf43d
Author: Anne Yu <anneyu@apache.org>
Date:   Thu Jan 21 14:24:15 2016 -0800

    Sentry-1009: Improve TestDatabaseProvider to validate test object names instead of validating vague numbers. (Anne Yu, reviewed by Lenni Kuff>)

 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 85 ++++++++++++++++------
 1 file changed, 61 insertions(+), 24 deletions(-)

commit 0ce626c1139e52a6e9db1edabb5ec68b43999fb9
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Jan 22 11:54:34 2016 -0800

    SENTRY-1018: HiveServer is not properly shutdown cause BindException in TestServerConfiguration ( Hao Hao, Reviewed by: Sravya Tirukkovalur and Anne Yu)
    
    Change-Id: I2824f1158c1dee71a239ee667bbbcf6a53e7068d

 .../tests/e2e/hive/TestServerConfiguration.java    | 34 ++++++++++++----------
 1 file changed, 18 insertions(+), 16 deletions(-)

commit 2ae1befdad80a5d23f4efe25d29555d767c592d8
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Jan 21 12:40:52 2016 -0800

    SENTRY-1008: Path should be not be updated if the create/drop table/partition event fails (Hao Hao via Lenni Kuff)
    
    Change-Id: I0b83686612ea10ea7c678f70c16ca975fc7c338e

 .../SentryMetastorePostEventListener.java          |  84 ++++++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 232 +++++++++++++++++++++
 2 files changed, 299 insertions(+), 17 deletions(-)

commit 1b6fe629c9049b2246adf4913dd448afa4abf398
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Jan 21 12:35:37 2016 -0800

    SENTRY-991: Roles of Sentry Permission needs to be case insensitive (Hao Hao via Lenni Kuff)
    
    Change-Id: Id1d883e897a1f1f2345a5c8d7566ce45ebf45706

 .../org/apache/sentry/hdfs/SentryPermissions.java  |  4 +--
 .../apache/sentry/hdfs/TestSentryPermissions.java  | 40 ++++++++++++++++++++++
 2 files changed, 42 insertions(+), 2 deletions(-)

commit cb92ceb3bb45b100538642038567640797553a3d
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Jan 20 23:29:51 2016 -0800

    SENTRY-1015: Improve Sentry + Hive error message when user has insufficient privileges (Hao Hao via Lenni Kuff)
    
    Change-Id: Ic10a06bade1fd3a00519a5abeba1a278ceae2c8e

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95b1e40e7062343f05e131afaea0a97bbf71ba4f
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Jan 20 22:50:42 2016 -0800

    SENTRY-986: Apply PMD plugin to Sentry source (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: Ied167f439bdf9c3bdfea7853801ed4f21d7aaede

 build-tools/sentry-pmd-ruleset.xml                 | 39 +++++++++
 pom.xml                                            | 60 ++++++++++++++
 .../hive/v2/authorizer/DefaultSentryValidator.java |  6 +-
 .../v2/metastore/AuthorizingObjectStoreV2.java     |  1 -
 .../SentryMetastorePostEventListenerV2.java        |  4 +-
 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   |  1 -
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 22 +++---
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |  3 -
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 33 ++------
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  1 -
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  7 +-
 .../binding/hive/SentryOnFailureHookContext.java   | 24 +++---
 .../binding/hive/SentryPolicyFileFormatter.java    |  4 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  2 -
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  7 --
 .../binding/hive/authz/SentryConfigTool.java       |  7 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  1 -
 .../binding/metastore/AuthorizingObjectStore.java  |  1 -
 .../binding/metastore/MetastoreAuthzBinding.java   |  6 +-
 .../metastore/SentryHiveMetaStoreClient.java       |  3 -
 .../metastore/SentryMetaStoreFilterHook.java       |  7 +-
 .../SentryMetastorePostEventListener.java          |  6 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  4 +-
 .../sqoop/authz/SentryAuthorizationValidator.java  |  2 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  4 +-
 .../src/main/java/org/apache/sentry/Command.java   |  2 +-
 .../main/java/org/apache/sentry/SentryMain.java    |  7 +-
 .../java/org/apache/sentry/core/common/Action.java |  4 +-
 .../apache/sentry/core/common/Authorizable.java    |  4 +-
 .../apache/sentry/core/common/BitFieldAction.java  |  2 +-
 .../apache/sentry/core/common/utils/PathUtils.java |  9 +--
 .../sentry/core/model/db/DBModelAuthorizable.java  |  2 +-
 .../model/indexer/IndexerModelAuthorizable.java    |  2 +-
 .../core/indexer/TestIndexerBitFieldAction.java    |  2 -
 .../core/model/search/SearchModelAuthorizable.java |  2 +-
 .../core/search/TestSearchBitFieldAction.java      |  2 -
 .../core/model/sqoop/SqoopActionFactory.java       |  3 +-
 .../sentry/core/model/sqoop/SqoopAuthorizable.java |  4 +-
 .../org/apache/sentry/hdfs/AuthzPathsDumper.java   |  4 +-
 .../org/apache/sentry/hdfs/AuthzPermissions.java   |  2 +-
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 24 +++---
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  4 +-
 .../sentry/hdfs/SentryHDFSServiceClient.java       | 12 ++-
 .../java/org/apache/sentry/hdfs/Updateable.java    | 12 +--
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   | 18 ++---
 .../hdfs/ha/HdfsHAClientInvocationHandler.java     | 68 ++++++++--------
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  4 -
 .../sentry/hdfs/TestKrbConnectionTimeout.java      |  9 ---
 .../server/namenode/AuthorizationProvider.java     | 20 ++---
 .../sentry/hdfs/SentryAuthorizationConstants.java  |  2 +-
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  5 +-
 .../sentry/hdfs/SentryAuthorizationProvider.java   |  2 +-
 .../org/apache/sentry/hdfs/SentryPermissions.java  |  4 +-
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |  1 -
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  1 -
 .../sentry/hdfs/MetastoreCacheInitializer.java     | 23 +++---
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  4 +-
 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    |  4 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  5 --
 .../org/apache/sentry/hdfs/UpdateForwarder.java    | 17 ++--
 .../apache/sentry/hdfs/UpdateForwarderWithHA.java  | 10 ---
 .../apache/sentry/hdfs/UpdateablePermissions.java  |  2 -
 .../apache/sentry/hdfs/TestHAUpdateForwarder.java  |  2 -
 .../apache/sentry/policy/common/PolicyEngine.java  | 11 ++-
 .../org/apache/sentry/policy/common/Privilege.java |  2 +-
 .../sentry/policy/common/PrivilegeValidator.java   |  2 +-
 .../sentry/policy/db/DBWildcardPrivilege.java      |  4 -
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |  3 +-
 ...estSearchAuthorizationProviderGeneralCases.java |  1 -
 .../policy/sqoop/ServerNameRequiredMatch.java      |  2 +-
 .../sentry/provider/cache/PrivilegeCache.java      |  4 +-
 .../provider/cache/SimpleCacheProviderBackend.java |  8 +-
 .../provider/common/AuthorizationProvider.java     | 18 ++---
 .../provider/common/GroupMappingService.java       |  2 +-
 .../provider/common/HadoopGroupMappingService.java |  4 -
 .../HadoopGroupResourceAuthorizationProvider.java  |  4 +-
 .../apache/sentry/provider/common/KeyValue.java    | 21 +++--
 .../provider/common/NoAuthorizationProvider.java   |  1 -
 .../sentry/provider/common/ProviderBackend.java    | 10 +--
 .../common/ResourceAuthorizationProvider.java      | 27 +++----
 .../provider/common/TestGetGroupMapping.java       |  1 -
 .../provider/db/SentryPolicyStorePlugin.java       | 18 ++---
 .../provider/db/SimpleDBProviderBackend.java       |  6 +-
 .../db/generic/SentryGenericProviderBackend.java   |  2 +-
 .../service/persistent/DelegateSentryStore.java    |  8 +-
 .../service/persistent/PrivilegeObject.java        | 36 ++++++---
 .../persistent/PrivilegeOperatePersistence.java    | 26 +++---
 .../service/persistent/SentryStoreLayer.java       | 26 +++---
 .../service/thrift/NotificationHandler.java        | 32 ++------
 .../service/thrift/NotificationHandlerInvoker.java | 16 ----
 .../thrift/SentryGenericPolicyProcessor.java       | 13 +--
 .../service/thrift/SentryGenericServiceClient.java | 34 ++++----
 .../SentryGenericServiceClientDefaultImpl.java     |  8 +-
 .../appender/RollingFileWithoutDeleteAppender.java |  1 -
 .../provider/db/log/entity/JsonLogEntity.java      |  2 +-
 .../db/service/model/MSentryGMPrivilege.java       | 61 ++++++++------
 .../provider/db/service/model/MSentryGroup.java    | 20 +++--
 .../db/service/model/MSentryPrivilege.java         | 57 +++++++++-----
 .../provider/db/service/model/MSentryRole.java     | 15 ++--
 .../persistent/FixedJsonInstanceSerializer.java    |  4 +-
 .../provider/db/service/persistent/HAContext.java  |  5 --
 .../db/service/persistent/SentryStore.java         | 81 ++++++++++---------
 .../db/service/persistent/ServiceManager.java      |  2 -
 .../db/service/persistent/ServiceRegister.java     |  1 -
 .../service/thrift/SentryPolicyServiceClient.java  | 92 +++++++++++-----------
 .../SentryPolicyServiceClientDefaultImpl.java      | 12 +--
 .../service/thrift/SentryPolicyStoreProcessor.java | 31 ++++----
 .../db/service/thrift/SentryWebServer.java         |  2 +-
 .../provider/db/tools/SentrySchemaHelper.java      | 29 ++++---
 .../sentry/provider/db/tools/SentrySchemaTool.java |  6 +-
 .../provider/db/tools/command/hive/Command.java    |  2 +-
 .../db/tools/command/hive/CommandUtil.java         |  7 +-
 .../service/thrift/HAClientInvocationHandler.java  | 52 ++++++------
 .../thrift/PoolClientInvocationHandler.java        |  4 +-
 .../sentry/service/thrift/ServiceConstants.java    |  2 +-
 .../persistent/TestSentryStoreToAuthorizable.java  | 22 +++---
 .../apache/sentry/provider/file/PolicyFiles.java   |  1 -
 .../provider/file/SimpleFileProviderBackend.java   | 31 ++++----
 .../sentry/RollingFileWithoutDeleteAppender.java   |  1 -
 .../solr/sentry/SecureRequestHandlerUtil.java      |  1 -
 .../sentry/SentryIndexAuthorizationSingleton.java  |  4 +-
 .../solr/handler/admin/SecureAdminHandlers.java    |  3 -
 .../handler/admin/SecureCollectionsHandler.java    |  2 -
 .../solr/handler/admin/SecureInfoHandler.java      |  3 -
 .../component/QueryDocAuthorizationComponent.java  | 10 +--
 .../QueryIndexAuthorizationComponent.java          |  4 -
 .../UpdateIndexAuthorizationProcessor.java         |  6 +-
 .../UpdateIndexAuthorizationProcessorFactory.java  |  1 -
 .../solr/handler/TestSecureReplicationHandler.java |  1 -
 .../handler/admin/SecureAdminHandlersTest.java     |  6 --
 .../handler/admin/SecureCoreAdminHandlerTest.java  |  2 -
 .../solr/handler/admin/SecureInfoHandlerTest.java  |  4 -
 .../UpdateIndexAuthorizationProcessorTest.java     |  2 +-
 133 files changed, 739 insertions(+), 762 deletions(-)

commit 5a827f6db54b1c0d3e310e98c1a35298c23ec114
Author: Anne Yu <anneyu@cloudera.com>
Date:   Fri Jan 15 14:49:12 2016 -0800

    SENTRY-906: Add concurrency sentry client tests. (Anne Yu, reviewed by Hao Hao)
     (to run it: -Dsentry.scaletest.oncluster=true, -Dsentry.host=${SENTRY_HOST}, -Dhive.server2.thrift.bind.host=${HS2_HOST})

 sentry-tests/sentry-tests-hive/pom.xml             |   1 +
 .../e2e/dbprovider/TestConcurrentClients.java      | 344 +++++++++++++++++++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  86 +++++-
 3 files changed, 430 insertions(+), 1 deletion(-)

commit 67031139f0db369ed4969a23e97308c941a8c953
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Jan 10 00:04:40 2016 -0800

    SENTRY-826: TRUNCATE on empty partitioned table in Hive fails (Li Li via Lenni Kuff)
    
    Change-Id: I1a1969e169ad014915473435ae62b4c1e054bac7

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  14 ++
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 149 +++++++++++++++++----
 2 files changed, 136 insertions(+), 27 deletions(-)

commit 3ee3e9320457a2df7cdd807183fb2700617de23c
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Jan 6 11:38:32 2016 -0800

    SENTRY-994: SentryAuthorizationInfoX should override isSentryManaged (Sravya Tirukkovalur via Lenni Kuff)
    
    Change-Id: Idf57ab092b74dce3a4972c6aaacef528ecb5a2bd

 .../test/java/org/apache/sentry/hdfs/SentryAuthorizationInfoX.java   | 5 +++++
 1 file changed, 5 insertions(+)

commit 0adfc7384f531f93ff0a5d2a0b1470876fc10855
Author: Colin Ma <colin@apache.org>
Date:   Mon Jan 4 14:56:50 2016 +0800

    SENTRY-749: Create simple shell for sentry(Colin Ma, reviewed by Hao Hao, Gregory Chanan, Lenni Kuff)

 bin/sentryShell                                    |  71 +++
 .../provider/db/tools/SentryShellCommon.java       | 242 +++++++++
 .../sentry/provider/db/tools/SentryShellHive.java  |  92 ++++
 .../provider/db/tools/command/hive/Command.java    |  27 +
 .../db/tools/command/hive/CommandUtil.java         | 114 ++++
 .../db/tools/command/hive/CreateRoleCmd.java       |  37 ++
 .../db/tools/command/hive/DropRoleCmd.java         |  37 ++
 .../command/hive/GrantPrivilegeToRoleCmd.java      |  61 +++
 .../tools/command/hive/GrantRoleToGroupsCmd.java   |  43 ++
 .../db/tools/command/hive/ListPrivilegesCmd.java   |  97 ++++
 .../db/tools/command/hive/ListRolesCmd.java        |  51 ++
 .../command/hive/RevokePrivilegeFromRoleCmd.java   |  62 +++
 .../command/hive/RevokeRoleFromGroupsCmd.java      |  43 ++
 .../provider/db/tools/TestSentryShellHive.java     | 583 +++++++++++++++++++++
 .../thrift/SentryServiceIntegrationBase.java       |   6 -
 15 files changed, 1560 insertions(+), 6 deletions(-)

commit a661c182879dcabdb05366d1125c1d5c7fa56a5c
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Dec 31 09:03:20 2015 +0800

    SENTRY-832: Clean dependences of sentry-provider-db (Dapeng Sun, reviewed by Colin Ma)

 sentry-provider/sentry-provider-db/pom.xml | 9 ---------
 1 file changed, 9 deletions(-)

commit aca4d0e9ca2c5956a8f59ee3885f92a63af2f65e
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Dec 15 15:33:07 2015 -0800

    SENTRY-987: Move general (non specific handler) solr-sentry code to solr-sentry-core package

 pom.xml                                            |  5 ++
 sentry-dist/pom.xml                                |  4 ++
 sentry-solr/pom.xml                                |  1 +
 sentry-solr/solr-sentry-core/pom.xml               | 58 ++++++++++++++++++++++
 .../java/org/apache/solr/sentry/AuditLogger.java   |  0
 .../sentry/RollingFileWithoutDeleteAppender.java   |  0
 .../solr/sentry}/SecureRequestHandlerUtil.java     |  3 +-
 .../sentry/SentryIndexAuthorizationSingleton.java  |  0
 sentry-solr/solr-sentry-handlers/pom.xml           | 10 +---
 .../SecureDocumentAnalysisRequestHandler.java      |  1 +
 .../handler/SecureFieldAnalysisRequestHandler.java |  1 +
 .../solr/handler/SecureReplicationHandler.java     |  1 +
 .../solr/handler/admin/SecureAdminHandlers.java    |  2 +-
 .../handler/admin/SecureCollectionsHandler.java    |  2 +-
 .../solr/handler/admin/SecureCoreAdminHandler.java |  2 +-
 .../solr/sentry/SentrySingletonTestInstance.java   |  2 +-
 16 files changed, 77 insertions(+), 15 deletions(-)

commit f1a2efac1d26d126e5cf0e395ef2c2b2d1751add
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Dec 18 17:32:47 2015 -0800

    SENTRY-968: Uri check needs to be case sensitive (Li Li via Lenni Kuff)
    
    Change-Id: I60c0dddb0f0e47f7ea29be1e59ebcd506a486014

 .../sentry/policy/db/DBWildcardPrivilege.java      |  4 ++--
 .../sentry/tests/e2e/hive/TestOperations.java      | 24 ++++++++++++++++++++++
 2 files changed, 26 insertions(+), 2 deletions(-)

commit 06688cee637a86c99c6bf9c8ec22534e1d628b80
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Dec 17 15:01:10 2015 -0800

    SENTRY-988: It's better to let SentryAuthorization setter path always fall through and update HDFS (Yongjun Zhang, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: I6f868ad1b3f72ff0e8bdc06e945b56b406dbf062

 .../sentry/hdfs/SentryAuthorizationInfo.java       |  17 ++-
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 166 +++++++++++----------
 .../sentry/hdfs/SentryAuthorizationInfoX.java      |   2 +-
 3 files changed, 103 insertions(+), 82 deletions(-)

commit 4b33ad92988a8bc0e0bc6d03962dbc7cda58827e
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Dec 16 22:42:41 2015 -0800

    SENTRY-953: External Partitions which are referenced by more than one table can cause some unexpected behavior with Sentry HDFS sync ( Hao Hao, Reviewed by: Sravya Tirukkovalur)
    
    Change-Id: Ibcda4929bb008f518e4fd2bc4abb95406423488c

 .../hdfs/service/thrift/SentryHDFSService.java     | 211 ++++++--------
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  |  99 +++----
 .../sentry/hdfs/service/thrift/TPathChanges.java   |  52 ++--
 .../sentry/hdfs/service/thrift/TPathEntry.java     | 317 ++++++++++++---------
 .../sentry/hdfs/service/thrift/TPathsDump.java     |  88 +++---
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   | 104 +++----
 .../hdfs/service/thrift/TPermissionsUpdate.java    | 169 +++++------
 .../hdfs/service/thrift/TPrivilegeChanges.java     | 140 ++++-----
 .../sentry/hdfs/service/thrift/TRoleChanges.java   | 116 ++++----
 .../java/org/apache/sentry/hdfs/AuthzPaths.java    |  41 +--
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 196 +++++++++----
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  24 +-
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |   3 +
 .../java/org/apache/sentry/hdfs/Updateable.java    |   2 +-
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |   7 +-
 .../src/main/resources/sentry_hdfs_service.thrift  |  36 ++-
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  36 ++-
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  36 +--
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  69 ++---
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  26 +-
 .../org/apache/sentry/hdfs/SentryPermissions.java  |  15 +-
 .../sentry/hdfs/TestMetastoreCacheInitializer.java |  16 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 207 +++++++++++++-
 23 files changed, 1133 insertions(+), 877 deletions(-)

commit 9fe720232120b27ada196a7693e57c2127db80ee
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Dec 13 00:12:17 2015 -0800

    SENTRY-957: Exceptions in MetastoreCacheInitializer should probably not prevent HMS from starting up (Hao Hao via Lenni Kuff)
    
    Change-Id: I13207ed65366b2b22a6f21de5dc9888b50f96091

 .../org/apache/sentry/hdfs/ServiceConstants.java   |   6 +
 .../sentry/hdfs/MetastoreCacheInitializer.java     | 125 ++++++++++++++++++---
 .../sentry/hdfs/TestMetastoreCacheInitializer.java |   2 +
 3 files changed, 115 insertions(+), 18 deletions(-)

commit 8624435bc7a968b74a568b7fe5b2e77744863dfe
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Dec 13 00:05:08 2015 -0800

    SENTRY-973: Bump hamcrest version (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: I5865c315632cbca20ed9b625963a29ba330563b1

 pom.xml                                 | 6 ++++++
 sentry-tests/sentry-tests-hive/pom.xml  | 1 -
 sentry-tests/sentry-tests-sqoop/pom.xml | 1 -
 3 files changed, 6 insertions(+), 2 deletions(-)

commit 8a7b62194c5e858b4615100a3fcfcc9fbb3eba5e
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Dec 12 23:58:37 2015 -0800

    SENTRY-979: Speed up the build by avoiding a fork for every test (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: I4428c753cd7fa2b6c8714f5a754b890a3ac530da

 pom.xml                                    |  1 -
 sentry-provider/sentry-provider-db/pom.xml |  7 +++++++
 sentry-tests/sentry-tests-hive/pom.xml     |  1 +
 sentry-tests/sentry-tests-solr/pom.xml     | 12 ++++++++++++
 4 files changed, 20 insertions(+), 1 deletion(-)

commit 422a175517ad3cce3acd0213d10f9eddb24e8eff
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Dec 11 09:52:50 2015 +0800

    SENTRY-932: TestColumnEndToEnd error check should non-case sensitive (Dapeng Sun, reviewed by Anne Yu)

 .../org/apache/sentry/tests/e2e/dbprovider/TestColumnEndToEnd.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7d6390e2cb833b4d3496971ee879cf008aae3fd1
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Dec 9 00:35:13 2015 -0800

    SENTRY-972: Include sentry-tests-hive hadoop test script in maven project (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: I8f7e7c99be0acc9c136fe0a4263b6224df163a12

 sentry-tests/sentry-tests-hive/pom.xml             | 39 ----------------------
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 10 +++++-
 .../{testutil => src/test/resources}/hadoop        |  0
 3 files changed, 9 insertions(+), 40 deletions(-)

commit 0e2e678e6941edb5c5b05696f1ce537a9a53d548
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Dec 9 00:33:08 2015 -0800

    Revert "SENTRY-972: Include sentry-tests-hive hadoop test script in maven project (Colm O hEigeartaigh via Lenni Kuff)"
    
    This reverts commit 0c6062b412f164453b99291824481a32b3dbb959.

 sentry-tests/sentry-tests-hive/pom.xml             |  39 ++++++++
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  10 +-
 sentry-tests/sentry-tests-hive/testutil/hadoop     | 107 +++++++++++++++++++++
 3 files changed, 147 insertions(+), 9 deletions(-)

commit 0c6062b412f164453b99291824481a32b3dbb959
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Dec 5 16:11:16 2015 -0800

    SENTRY-972: Include sentry-tests-hive hadoop test script in maven project (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: I537381fd8909f3a73688c68d5718b69c1302b64d

 sentry-tests/sentry-tests-hive/pom.xml             |  39 --------
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  10 +-
 sentry-tests/sentry-tests-hive/testutil/hadoop     | 107 ---------------------
 3 files changed, 9 insertions(+), 147 deletions(-)

commit c2747d9e82d03724100f01d0f24b316de400f3fe
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Dec 3 13:04:22 2015 -0800

    SENTRY-835: Drop table leaves a connection open when using metastorelistener (Hao Hao via Lenni Kuff)
    
    Change-Id: If7a018d5f4d129dae7944cf87cd0d4d5fd103b7e

 .../SentryMetastorePostEventListener.java          | 11 +++-
 .../tests/e2e/dbprovider/TestDbConnections.java    | 58 +++++++++++-----------
 2 files changed, 39 insertions(+), 30 deletions(-)

commit d2a512ea30db126e5fb8bc72dc65e309b88d08b3
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed Nov 18 17:47:53 2015 -0800

    SENTRY-965: Solr /terms request handler broken because of components declaration (Gregory Chanan, reviewed by Lenni Kuff)

 .../src/test/resources/solr/collection1/conf/solrconfig-doclevel.xml  | 4 +---
 .../src/test/resources/solr/collection1/conf/solrconfig.xml           | 4 +---
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 6052eb2d8b33bed1cb302fd09f360fc3ef13797f
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Nov 27 09:48:50 2015 +0800

    SENTRY-966: SqoopAuthBindingSingleton uses bad double check locking idiom (Colm O hEigeartaigh via Dapeng Sun)

 .../sentry/sqoop/binding/SqoopAuthBindingSingleton.java  | 16 ++++++----------
 1 file changed, 6 insertions(+), 10 deletions(-)

commit d2913b8d55607ece2076a29ac93b30627a31916f
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Nov 27 09:14:18 2015 +0800

    SENTRY-970: Use random free port for Sqoop tests (Colm O hEigeartaigh via Dapeng Sun)

 .../apache/sentry/tests/e2e/sqoop/AbstractSqoopSentryTestBase.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 80b543fcaa5a74bc8aa8317ba09b68bc8a2407ba
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Nov 27 09:09:37 2015 +0800

    SENTRY-971: Add profile to enable Hive AuthZ v2 (Dapeng Sun, reviewed by Colin Ma)

 sentry-binding/pom.xml | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 5e58f3fe6aab426e58085bb93fcf6efc9380bd5f
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Nov 26 10:21:02 2015 +0800

    SENTRY-498: Sentry integration with Hive authorization framework V2 (Dapeng Sun, reviewed by Colin Ma)

 pom.xml                                            |   6 +
 sentry-binding/pom.xml                             |   1 +
 sentry-binding/sentry-binding-hive-v2/pom.xml      | 158 ++++++
 .../binding/hive/v2/HiveAuthzBindingHookV2.java    |  94 ++++
 .../hive/v2/HiveAuthzBindingSessionHookV2.java     | 107 ++++
 .../binding/hive/v2/SentryAuthorizerFactory.java   | 164 ++++++
 .../SentryHiveAuthorizationTaskFactoryImplV2.java  |  64 +++
 .../binding/hive/v2/SentryHivePrivilegeObject.java |  32 ++
 .../authorizer/DefaultSentryAccessController.java  | 558 +++++++++++++++++++++
 .../hive/v2/authorizer/DefaultSentryValidator.java | 481 ++++++++++++++++++
 .../v2/authorizer/SentryHiveAccessController.java  | 200 ++++++++
 .../SentryHiveAuthorizationValidator.java          |  58 +++
 .../hive/v2/authorizer/SentryHiveAuthorizer.java   | 195 +++++++
 .../v2/metastore/AuthorizingObjectStoreV2.java     | 413 +++++++++++++++
 .../hive/v2/metastore/MetastoreAuthzBindingV2.java |  54 ++
 .../SentryMetastorePostEventListenerV2.java        |  73 +++
 .../binding/hive/v2/util/SentryAuthorizerUtil.java | 362 +++++++++++++
 .../hive/v2/util/SimpleSemanticAnalyzer.java       | 369 ++++++++++++++
 .../hive/v2/DummyHiveAuthenticationProvider.java   |  63 +++
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |   4 +
 .../binding/hive/authz/SentryConfigTool.java       |   5 +-
 .../binding/metastore/AuthorizingObjectStore.java  |   4 +-
 .../binding/metastore/MetastoreAuthzBinding.java   |   6 +-
 .../metastore/SentryMetaStoreFilterHook.java       |   2 +-
 .../SentryMetastorePostEventListener.java          |   2 +-
 .../org/apache/sentry/core/model/db/Column.java    |   2 +
 26 files changed, 3468 insertions(+), 9 deletions(-)

commit b2d71a8c5716f37eb26510d97f654c31d1c4bf53
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Nov 24 22:16:52 2015 -0800

    SENTRY-565: Improve performance of filtering Hive SHOW commands (Colin Ma via Lenni Kuff)
    
    Change-Id: I4c8875338b4a67ab66c8f29ac5916bb8679f2f04

 sentry-binding/sentry-binding-hive/pom.xml         |  4 ++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 44 ++++++++++++++---
 .../binding/hive/authz/HiveAuthzBinding.java       | 57 +++++++++++++++++++++-
 .../provider/cache/SimplePrivilegeCache.java       | 51 +++++++++++++++++++
 .../provider/common/AuthorizationProvider.java     |  6 +++
 .../provider/common/NoAuthorizationProvider.java   |  8 +++
 .../common/ResourceAuthorizationProvider.java      |  5 ++
 .../tests/e2e/dbprovider/TestDbConnections.java    |  8 +--
 8 files changed, 168 insertions(+), 15 deletions(-)

commit 0b18f454d3fdca7176a66152a78cbcae17c0164f
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Nov 23 19:50:08 2015 -0800

    SENTRY-960: Blacklist reflect,java_method using hive.server2.builtin.udf.blacklist ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff)
    
    Change-Id: I5fcd930cb272a9f9272e5ce45c35792d617370aa

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  3 ++
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 51 +++++++++++-----------
 .../sentry/binding/hive/TestHiveAuthzConf.java     |  2 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  1 -
 4 files changed, 29 insertions(+), 28 deletions(-)

commit a83c094f2025928cd59cfc53a3b11a3123606154
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Nov 19 22:03:14 2015 -0800

    SENTRY-958: TestGrantPrivilege fails on JDK8 (Colm O hEigeartaigh via Lenni Kuff)
    
    Change-Id: I73bec3c587bb8520d370e1519fb3cb6e5f9a6523

 .../java/org/apache/sentry/tests/e2e/sqoop/TestGrantPrivilege.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 439d5f29a51021f6b02af04b2539908133f3f92c
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Nov 18 13:02:18 2015 +0800

    SENTRY-962: Fix SentryStore getPrivileges when column require some (Dapeng Sun, reviewed by Guoquan Shen)

 .../db/service/persistent/SentryStore.java         |  7 ++--
 .../db/service/persistent/TestSentryStore.java     | 41 ++++++++++++++++++++++
 2 files changed, 45 insertions(+), 3 deletions(-)

commit e6e7d7311174c83c02b5074a0d959b3326f8223c
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Nov 13 23:14:18 2015 -0800

    SENTRY-945: Avoid logging all DataNucleus queries when debug logging is enabled (Li Li via Lenni Kuff)
    
    Change-Id: I5b9fc7f266f05456387980e9c6c734d30a5dca7c

 .../main/java/org/apache/sentry/SentryMain.java    | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit f0b9367519f6db39ed6dcb3165b8c7fa01501422
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Nov 12 10:22:01 2015 +0800

    Revert: "filterIndexNames should return the whole indexList"
    
      This reverts commit 774afb70f8c0bd0842331048d7de0fd053ed6c79

 .../org/apache/sentry/binding/metastore/SentryMetaStoreFilterHook.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 774afb70f8c0bd0842331048d7de0fd053ed6c79
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Nov 12 09:40:39 2015 +0800

    filterIndexNames should return the whole indexList

 .../org/apache/sentry/binding/metastore/SentryMetaStoreFilterHook.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 25d0fefb4161ce886459d816caff576415fc2a3f
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Nov 12 09:34:25 2015 +0800

    SENTRY-923: Fix SentryStore getPrivileges when table require some (Dapeng Sun, reviewed by Guoquan Shen)

 .../db/service/persistent/SentryStore.java         |  7 +++--
 .../db/service/persistent/TestSentryStore.java     | 36 ++++++++++++++++++++++
 2 files changed, 40 insertions(+), 3 deletions(-)

commit d3793ed21dc660f7d7070de0261925b8dd5ad05b
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Nov 9 14:26:32 2015 -0800

    SENTRY-955: Add more meta data operation tests for column level privilege ( Sravya Tirukkovalur, Reviewed by: Anne Yu, Hao Hao)

 .../dbprovider/TestDbColumnLevelMetaDataOps.java   | 145 ++++++++++++++-------
 1 file changed, 101 insertions(+), 44 deletions(-)

commit 17a4c97f760fe3795a17505409b6cec67767d0a0
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Nov 9 14:07:02 2015 -0800

    SENTRY-944: Setting HDFS rules on Sentry managed hdfs paths should not affect original hdfs rules ( Hao Hao, Reviewed by: Sravya Tirukkovalur)

 .../sentry/hdfs/SentryAuthorizationProvider.java   | 54 +++++++++++++++++++---
 .../hdfs/TestSentryAuthorizationProvider.java      | 44 ++++++++++++++++++
 2 files changed, 92 insertions(+), 6 deletions(-)

commit f0aebaa949287b830f612972f6a5901cc15194f4
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Nov 9 09:37:01 2015 +0800

    SENTRY-952: Update source to JDK 7 (Colm O hEigeartaigh via Dapeng Sun)

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3d6d69e09435ccef39e5868318cff08aa3bf22a7
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Nov 6 10:27:28 2015 -0800

    SENTRY-742: Add describe, show/compute stats tests for column level privileges ( Anne yu, Reviewed by: Sravya Tirukkovalur)

 .../dbprovider/TestDbColumnLevelMetaDataOps.java   | 317 +++++++++++++++++++++
 1 file changed, 317 insertions(+)

commit 0b5ff1054333deafec55e85da58489a8b8ddaefa
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Nov 5 15:49:02 2015 -0800

    SENTRY-742: Add describe, show/compute stats tests for column level privileges ( Anne yu, Reviewed by: Sravya Tirukkovalur)

 .../java/org/apache/sentry/tests/e2e/hive/PrivilegeResultSet.java   | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2bd258105eb5395a83b14b6830f975342b8c1333
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Mon Nov 2 22:54:50 2015 -0800

    SENTRY-510: Metrics collection for Sentry HDFS plugin (Li Li via Lenni Kuff)
    
    Change-Id: Ied49f6872265e2d6319f3bc6b911e8278a1662d0

 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  11 +++
 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    |  14 ++-
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  23 ++++-
 .../apache/sentry/hdfs/SentryHdfsMetricsUtil.java  | 101 +++++++++++++++++++++
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |   8 ++
 .../provider/db/service/thrift/SentryMetrics.java  |  23 +++++
 6 files changed, 177 insertions(+), 3 deletions(-)

commit cccebe099e2a7b54734aef4fc91cd212edde6a4d
Author: Colin Ma <colin@apache.org>
Date:   Tue Nov 3 09:02:40 2015 +0800

    SENTRY-902: SimpleDBProviderBackend should retry the authrization process properly (Yibing Shi via Colin Ma, Reviewed by Colin Ma, Sravya Tirukkovalur)

 .../provider/db/SimpleDBProviderBackend.java       | 37 ++++++++++++++--------
 .../sentry/service/thrift/ServiceConstants.java    |  6 ++++
 2 files changed, 30 insertions(+), 13 deletions(-)

commit a1feebe2e3a99fb679f6d1972b24acbbd17221ce
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Nov 2 15:32:17 2015 -0800

    SENTRY-934: Update plugin versions (  Colm O hEigeartaigh, Reviewed by: Sravya Tirukkovalur)

 pom.xml                                        | 10 +++++-----
 sentry-binding/sentry-binding-solr/pom.xml     |  2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml           |  2 +-
 sentry-provider/sentry-provider-common/pom.xml |  2 +-
 4 files changed, 8 insertions(+), 8 deletions(-)

commit 9615cc58b680e1153bd475e8549438d460c90f05
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Oct 29 18:33:32 2015 -0700

    SENTRY-936: getGroup and getUser should always return orginal hdfs values for paths in prefix which are not sentry managed (Sravya Tirukkovalur, Reviewed by Lenni Kuff)

 .../sentry/hdfs/SentryAuthorizationProvider.java   | 51 +++++++---------------
 .../sentry/hdfs/SentryAuthorizationInfoX.java      |  4 +-
 .../hdfs/TestSentryAuthorizationProvider.java      | 14 +++++-
 3 files changed, 31 insertions(+), 38 deletions(-)

commit 52ec19483edf8ce8b5b7468edda77455cff833f4
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Oct 28 13:26:21 2015 +0800

    SENTRY-915: Improve Hive E2E tests for keep consistent with Hive metadata (Dapeng Sun, reviewed by Guoquan Shen)

 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   8 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |   1 +
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  22 ++-
 .../tests/e2e/hive/TestMetadataPermissions.java    |  16 +-
 .../sentry/tests/e2e/hive/TestOperations.java      |  23 +--
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |   8 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  15 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 188 +++++++++++----------
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |   3 +
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |   5 +-
 10 files changed, 166 insertions(+), 123 deletions(-)

commit 4a4bfecfe77aca0c8152ad3357d92d19812fae0c
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Oct 27 09:14:40 2015 +0800

    SENTRY-931: Improve TestDatabaseProvider for keep consistent with Hive metadata.(Dapeng Sun, reviewed by Colin Ma)

 .../apache/sentry/tests/e2e/dbprovider/TestDatabaseProvider.java   | 7 +++++++
 1 file changed, 7 insertions(+)

commit 695d60d075c4c735a555f350f2d953761c219cdf
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Oct 27 09:13:12 2015 +0800

    SENTRY-930: Improve TestDbDDLAuditLog for keep consistent with Hive metadata.(Dapeng Sun, reviewed by Colin Ma)

 .../java/org/apache/sentry/tests/e2e/dbprovider/TestDbDDLAuditLog.java | 3 +++
 1 file changed, 3 insertions(+)

commit b5bbcf94e37f22616e1e8966dd4be87468e3ca46
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Oct 27 09:00:08 2015 +0800

    SENTRY-928: Improve TestDbSentryOnFailureHookLoading for keeping database policies consistent with Hive metadata (Dapeng Sun, reviewed by Colin Ma)

 .../TestDbSentryOnFailureHookLoading.java          | 23 +++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 8695570e4ec0de1f53c56f602d3db7fb77785410
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Oct 26 11:03:41 2015 +0800

    SENTRY-917: Improve TestRuntimeMetadataRetrieval for keeping database policis consistent with Hive metadata. (Dapeng Sun, reviewed by Guoquan Shen)

 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 23 +++++++++++-----------
 1 file changed, 12 insertions(+), 11 deletions(-)

commit 11f25c12f806f171ddea141a5d33022774bfc8c6
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Oct 23 17:29:48 2015 -0700

    SENTRY-748: Improve test coverage of Sentry + Hive using complex views ( Anne Yu, Reviewed by: Sravya Tirukkovalur)

 .../tests/e2e/dbprovider/TestDbComplexView.java    | 314 +++++++++++++++++++++
 1 file changed, 314 insertions(+)

commit fd8413952bfb0746c2a66e4f098b13fdfa094b6a
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Oct 23 15:47:56 2015 -0700

    SENTRY-748: Improve test coverage of Sentry + Hive using complex views ( Anne Yu, Reviewed by: Sravya Tirukkovalur)

 sentry-tests/sentry-tests-hive/pom.xml             |  1 +
 .../hive/AbstractTestWithStaticConfiguration.java  | 49 ++++++++++++++++++++--
 2 files changed, 46 insertions(+), 4 deletions(-)

commit 0263cd4a53638974110053804340704431354e33
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Oct 22 09:56:05 2015 +0800

    SENTRY-914: Sentry default webserver port needs to change out of ephemeral port range. (Dapeng Sun, reviewed by Lenni Kuff and Guoquan Shen)

 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c7c5f6d15ac4601cb07a0ca441c0bc4acd9e11e
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Wed Oct 21 13:53:02 2015 -0700

    SENTRY-904: Set max message size for thrift messages ( Li Li, Reviewed by: Sravya Tirukkovalur)

 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   |   6 +-
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   4 +
 .../org/apache/sentry/hdfs/ThriftSerializer.java   |  16 +--
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  76 ++++++++++---
 .../SentryGenericServiceClientDefaultImpl.java     |   7 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |   7 +-
 .../sentry/service/thrift/SentryService.java       |   5 +-
 .../sentry/service/thrift/ServiceConstants.java    |   7 ++
 .../TestSentryServiceWithInvalidMsgSize.java       | 119 +++++++++++++++++++++
 9 files changed, 218 insertions(+), 29 deletions(-)

commit 7fe082a65c56a8d87ecc223998977e5004947eeb
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Oct 14 15:59:59 2015 +0800

    SENTRY-913: Thread safe improvement for sqoop binding singleton (Dapeng Sun, reviewed by Guoquan Shen)

 .../apache/sentry/sqoop/binding/SqoopAuthBindingSingleton.java   | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 557c81834e3909f9b0d7325751b21e38129961df
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Sun Oct 11 22:31:10 2015 -0700

    SENTRY-769: [Improve error handling] Make sure groups in list_sentry_privileges_for_provider is not empty ( Colin Ma, Reviewed by: Sravya Tirukkovalur)

 .../sentry/binding/hive/TestHiveAuthzBindings.java |  4 +-
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 65 +++++++++++++++++-----
 .../provider/common/HadoopGroupMappingService.java | 14 +++--
 .../common/SentryGroupNotFoundException.java       | 61 ++++++++++++++++++++
 .../provider/file/LocalGroupMappingService.java    | 10 ++--
 .../provider/file/TestLocalGroupMapping.java       |  8 ++-
 .../sentry-handlers/sentry/test-authz-provider.ini |  1 +
 .../SentryIndexAuthorizationSingletonTest.java     | 34 ++++++++---
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 46 ++++++++++++++-
 .../e2e/metastore/TestAuthorizingObjectStore.java  | 44 ++++++---------
 .../resources/solr/sentry/test-authz-provider.ini  |  4 +-
 11 files changed, 227 insertions(+), 64 deletions(-)

commit b20f200c5c095001049a8a235f75aa555d4d0099
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Oct 9 16:17:37 2015 -0700

    SENTRY-888: Exceptions in Callable tasks in MetaStoreCacheInitializer are being dropped ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../sentry/hdfs/MetastoreCacheInitializer.java     | 11 +++---
 .../sentry/hdfs/TestMetastoreCacheInitializer.java | 42 ++++++++++++++++++++++
 2 files changed, 48 insertions(+), 5 deletions(-)

commit 00f74f32a816082e07eb6c5984c63e97640310ae
Author: Colin Ma <colin@apache.org>
Date:   Thu Oct 8 14:06:07 2015 +0800

    SENTRY-570: Bug fixing for the test case TestMetaStoreWithPigHCat (Colin Ma, Reviewed by: Lenni Kuff)

 .../e2e/metastore/TestMetaStoreWithPigHCat.java    | 38 ++++++++++------------
 1 file changed, 18 insertions(+), 20 deletions(-)

commit 66b7096cb14a6f52d16ea3e6efef1f1af65e35b2
Author: Colin Ma <colin@apache.org>
Date:   Tue Sep 29 15:30:34 2015 +0800

    SENTRY-812: Generate audit trail for Sentry generic model when authorization metadata change (Colin Ma, Reviewed by: Dapeng Sun)

 .../thrift/SentryGenericPolicyProcessor.java       |  60 ++++-
 .../SentryGenericPolicyProcessorFactory.java       |   5 +-
 .../SentryGenericPolicyProcessorWrapper.java       |  39 +++
 .../db/log/entity/AuditMetadataLogEntity.java      | 137 ++--------
 .../db/log/entity/DBAuditMetadataLogEntity.java    | 122 +++++++++
 .../db/log/entity/GMAuditMetadataLogEntity.java    |  95 +++++++
 .../provider/db/log/entity/JsonLogEntity.java      |   2 +-
 .../db/log/entity/JsonLogEntityFactory.java        | 198 ++++++++++++--
 .../sentry/provider/db/log/util/CommandUtil.java   |  89 ++++--
 .../sentry/provider/db/log/util/Constants.java     |  48 ++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  68 +++--
 .../TestAuditLogForSentryGenericService.java       | 299 +++++++++++++++++++++
 ...tity.java => TestDbAuditMetadataLogEntity.java} |  12 +-
 .../log/entity/TestGMAuditMetadataLogEntity.java   |  74 +++++
 .../db/log/entity/TestJsonLogEntityFactory.java    |  75 ++----
 .../db/log/entity/TestJsonLogEntityFactoryGM.java  | 259 ++++++++++++++++++
 .../provider/db/log/util/TestCommandUtil.java      | 118 +++++---
 17 files changed, 1409 insertions(+), 291 deletions(-)

commit cedfc573c16d025cb928ac327003fb09d2a781e2
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Sep 25 15:06:29 2015 +0800

    SENTRY-900: User could access sentry metric info by curl without authorization (Dapeng Sun, reviewed by Colin Ma)

 .../org/apache/sentry/provider/db/service/thrift/SentryAuthFilter.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3c3fc5a7617d1bf331889b8707ed4741fc5279ad
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Sep 24 14:47:12 2015 -0500

    SENTRY-893: Synchronize calls in SentryClient and create sentry client once per request in SimpleDBProvider ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../metastore/SentryMetaStoreFilterHook.java       |  2 +-
 .../provider/db/SimpleDBProviderBackend.java       | 77 ++++++--------------
 .../SentryPolicyServiceClientDefaultImpl.java      | 83 ++++++++++++----------
 .../tests/e2e/dbprovider/TestDbConnections.java    |  8 ++-
 4 files changed, 75 insertions(+), 95 deletions(-)

commit dd074b9fa1fc173733913ccb955c78927657595c
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Tue Sep 22 09:31:25 2015 -0500

    SENTRY-892: parsePath should handle empty paths well ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff and Colin Ma)

 .../src/main/java/org/apache/sentry/hdfs/PathsUpdate.java             | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 5f19d33e22a868be5bc54f898437da3b03f77207
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Fri Sep 11 13:59:13 2015 -0700

    SENTRY-885: DB name should be case insensitive in HDFS sync plugin ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../sentry/hdfs/MetastoreCacheInitializer.java     | 20 ++++++++++--------
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 22 ++++++++++++--------
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  4 ++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 24 ++++++++++++++++++++++
 4 files changed, 52 insertions(+), 18 deletions(-)

commit 9ab8daaa7ea584e6616e5b8b88da92a55a056b98
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Sep 15 00:42:48 2015 -0700

    SENTRY-886: HDFSIntegration test testAccessToTableDirectory should wait for cache refresh before verification (Sravya Tirukkovalur via Lenni Kuff)

 .../test/java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c9e47c8cadce0cc6300a46d02fe2224eec6cc882
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Sep 14 17:15:56 2015 -0700

    SENTRY-881: Allow some metadata operations with column-level privileges ( Lenni Kuff, Reviewed by: Sravya Tirukkovalur)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 28 ++++++++-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  5 +-
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   | 68 +++++++++++++++++++++-
 .../e2e/hive/TestMetadataObjectRetrieval.java      | 26 ++++++++-
 4 files changed, 118 insertions(+), 9 deletions(-)

commit 6203a7a6554d49c2ae476d191a30633657d41887
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Sep 13 00:48:57 2015 -0700

    SENTRY-884: Give execute permission by default to paths managed by sentry (Sravya Tirukkovalur via Lenni Kuff)

 .../sentry/hdfs/SentryAuthorizationConstants.java  |  2 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 87 ++++++++++++++++++----
 2 files changed, 73 insertions(+), 16 deletions(-)

commit 9129d6ff3c788e17a1f89d649b41bcf5170534b3
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Sep 9 16:19:19 2015 -0700

    SENTRY-878: collect_list missing from HIVE_UDF_WHITE_LIST (Li Li via Lenni Kuff)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3d53d254ac1c569e339515db4e8a04491bc27309
Author: Sun Dapeng <sdp@apache.org>
Date:   Sun Sep 6 09:15:49 2015 +0800

    SENTRY-841: Revoke on SERVER scope breaks Client API, allows any string to be passed in (Ryan P via Dapeng Sun, Reviewed by Colin Ma)

 .../service/thrift/SentryPolicyServiceClient.java  |  3 +++
 .../SentryPolicyServiceClientDefaultImpl.java      |  7 ++++++
 .../thrift/TestSentryServiceIntegration.java       | 28 ++++++++++++++++++++++
 3 files changed, 38 insertions(+)

commit f0714a244a9bd054997c539a3ff76b04c490ca29
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Sep 1 14:16:46 2015 +0800

    SENTRY-864: Update the version to 1.7.0-incubating-SNAPSHOT on trunk after branch-1.6.0 created (Dapeng Sun, Reviewed by Guoquan Shen)

 pom.xml                                         | 2 +-
 sentry-binding/pom.xml                          | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml      | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml      | 2 +-
 sentry-binding/sentry-binding-sqoop/pom.xml     | 2 +-
 sentry-core/pom.xml                             | 2 +-
 sentry-core/sentry-core-common/pom.xml          | 2 +-
 sentry-core/sentry-core-model-db/pom.xml        | 2 +-
 sentry-core/sentry-core-model-indexer/pom.xml   | 2 +-
 sentry-core/sentry-core-model-search/pom.xml    | 2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml     | 2 +-
 sentry-dist/pom.xml                             | 2 +-
 sentry-hdfs/pom.xml                             | 2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml          | 2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml            | 2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml | 4 ++--
 sentry-hdfs/sentry-hdfs-service/pom.xml         | 2 +-
 sentry-policy/pom.xml                           | 2 +-
 sentry-policy/sentry-policy-common/pom.xml      | 2 +-
 sentry-policy/sentry-policy-db/pom.xml          | 2 +-
 sentry-policy/sentry-policy-indexer/pom.xml     | 2 +-
 sentry-policy/sentry-policy-search/pom.xml      | 2 +-
 sentry-policy/sentry-policy-sqoop/pom.xml       | 2 +-
 sentry-provider/pom.xml                         | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml   | 2 +-
 sentry-provider/sentry-provider-common/pom.xml  | 2 +-
 sentry-provider/sentry-provider-db/pom.xml      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml    | 2 +-
 sentry-solr/pom.xml                             | 2 +-
 sentry-solr/solr-sentry-handlers/pom.xml        | 2 +-
 sentry-tests/pom.xml                            | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml          | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml          | 2 +-
 sentry-tests/sentry-tests-sqoop/pom.xml         | 2 +-
 34 files changed, 35 insertions(+), 35 deletions(-)

commit d4e6bbf7e8e355cc05777033f9318673022b53fc
Author: Colin Ma <colin@apache.org>
Date:   Mon Aug 31 08:31:09 2015 +0800

    SENTRY-860: Fix intermittent test failure for TestPrivilegesAtFunctionScope.testFuncPrivileges1 (Anne Yu Via Colin Ma)

 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 26 ++++++++++++++++++----
 1 file changed, 22 insertions(+), 4 deletions(-)

commit b99fa755918cb8655569c000a72de945ada6507c
Author: Colin Ma <colin@apache.org>
Date:   Mon Aug 31 08:25:57 2015 +0800

    SENTRY-746: After revoke select from view, select fails with a confusing error message(Colin Ma, reviewed by: Dapeng Sun)

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit e90a1b663897cc445faecb8a53e179923c7f7cf1
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Fri Aug 28 18:06:25 2015 +0800

    SENTRY-847: [column level privilege] if grant column level privilege to user, show columns in table shouldn't require extra table level privilege (Guoquan Shen, Reviewed by: Colin Ma)

 .../hadoop/hive/ql/exec/SentryFilterDDLTask.java   | 138 +++++++++++++++++++++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  70 ++++++++++-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   3 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  10 +-
 .../provider/file/SimpleFileProviderBackend.java   |   2 +-
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |  82 ++++++++++++
 6 files changed, 301 insertions(+), 4 deletions(-)

commit 0a93259cb738a0b256100e769c3f0426dac2b623
Author: Colin Ma <colin@apache.org>
Date:   Wed Aug 26 13:30:14 2015 +0800

    SENTRY-739: when user doesn't have admin privileges, show grant throw exception, better improve error message (Colin Ma, Reviewed by: Anne Yu)

 .../java/org/apache/hadoop/hive/ql/exec/SentryGrantRevokeTask.java   | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d8063f5efe7e3209f112c5cbbfc4be21efb38ecf
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Aug 22 13:22:23 2015 -0700

    SENTRY-839: posexplode() missing from HIVE_UDF_WHITE_LIST (Li Li via Lenni Kuff)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd293e117a31f7d1d1b6994b6a3a026e5d2abfe4
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Aug 20 13:47:38 2015 +0800

    SENTRY-590: Client factory for generic authorization model (Dapeng Sun, Reviewed by: Guoquan Shen)

 .../binding/solr/authz/SolrAuthzBinding.java       |   3 +-
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |   3 +-
 .../db/generic/SentryGenericProviderBackend.java   |   3 +-
 .../service/thrift/SentryGenericServiceClient.java | 405 +---------------
 .../SentryGenericServiceClientDefaultImpl.java     | 538 +++++++++++++++++++++
 .../thrift/SentryGenericServiceClientFactory.java  |  34 ++
 .../TestSentryGenericServiceIntegration.java       |   5 +-
 .../AbstractSolrSentryTestWithDbProvider.java      |   3 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |   3 +-
 9 files changed, 608 insertions(+), 389 deletions(-)

commit e11062d3fc9f2cce0d706f575f98b1c5e3a17f9b
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Tue Aug 18 13:38:12 2015 -0700

    SENTRY-850: Fix dbprovider test failures when run on a real cluster or setMetastoreListener = true, when db/tab gets recreated their associated privileges will be deleted. ( Anne Yu, Reviewed By: Sravya Tirukkovalur)

 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   |   8 +-
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |   3 -
 .../dbprovider/TestDbExportImportPrivileges.java   |   2 -
 .../tests/e2e/dbprovider/TestDbJDBCInterface.java  |   2 -
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |   2 -
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  21 +++-
 .../TestDbPrivilegesAtDatabaseScope.java           |   8 +-
 .../dbprovider/TestDbPrivilegesAtTableScope.java   |   2 +-
 .../dbprovider/TestDbRuntimeMetadataRetrieval.java |   7 ++
 .../TestDbSentryOnFailureHookLoading.java          |   5 +
 .../tests/e2e/dbprovider/TestDbUriPermissions.java |   8 ++
 .../hive/AbstractTestWithStaticConfiguration.java  |  18 ++-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  14 +--
 .../tests/e2e/hive/TestExportImportPrivileges.java |  11 +-
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   |  12 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  12 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   9 +-
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |  15 +--
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 133 +++++++++------------
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  21 ++--
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 117 +++++++++---------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 131 ++++++++------------
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  67 ++++++-----
 .../sentry/tests/e2e/hive/TestUserManagement.java  |   5 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   2 +-
 .../e2e/metastore/TestAuthorizingObjectStore.java  |  68 ++++++-----
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  51 ++++----
 27 files changed, 362 insertions(+), 392 deletions(-)

commit 5303089212752a410696cd3b5ad7b930f5a975ae
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Aug 13 14:04:27 2015 -0700

    SENTRY-836

 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 57 ++++------------------
 .../hive/AbstractTestWithStaticConfiguration.java  | 12 +++--
 2 files changed, 18 insertions(+), 51 deletions(-)

commit a9c8d904d795826d43000f81523fe1966aa775b6
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Thu Aug 13 12:02:14 2015 -0700

    SENTRY-758: Add test cases for partition columns with column level privileges
    
    - Also added tests for select *, select col(*) and select col(1)

 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   | 60 +++++++++++++++-------
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 26 ++++++++++
 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 49 ++++++++++++++++++
 3 files changed, 116 insertions(+), 19 deletions(-)

commit 2265ab80917a66b19c10a036185aa45aff0be9fa
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Wed Aug 12 08:44:29 2015 +0800

    SENTRY-843: Add the link of wiki page in README.md ( Guoquan Shen, Reviewed by: Colin Ma)

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit 35c62ffc6614ad97ecc537bd48da0cbf123269cc
Author: Colin Ma <colin@apache.org>
Date:   Wed Aug 12 08:35:21 2015 +0800

    SENTRY-828: Cleanup the unnecessary ProviderBackend (Colin Ma, Reviewed by: Guoquan Shen)

 .../binding/solr/authz/SolrAuthzBinding.java       |  50 +++++--
 .../sentry/sqoop/binding/SqoopAuthBinding.java     |  20 ++-
 .../sentry/sqoop/binding/SqoopProviderBackend.java |  44 ------
 .../apache/sentry/sqoop/conf/SqoopAuthConf.java    |   5 +-
 .../sentry/core/model/search/SearchConstants.java  |   2 +-
 .../db/generic/SentryGenericProviderBackend.java   |  40 +++---
 .../service/thrift/SearchPolicyServiceClient.java  | 159 ---------------------
 .../service/thrift/SearchProviderBackend.java      | 141 ------------------
 .../AbstractSolrSentryTestWithDbProvider.java      |  64 +++++++--
 .../db/integration/TestSolrAdminOperations.java    |  71 +++++----
 .../db/integration/TestSolrDocLevelOperations.java |  10 +-
 .../db/integration/TestSolrQueryOperations.java    |  21 +--
 .../db/integration/TestSolrUpdateOperations.java   |  14 +-
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  14 +-
 14 files changed, 206 insertions(+), 449 deletions(-)

commit 1712142b3fd22e623b667e500851d9c872dda4d0
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Aug 11 16:07:01 2015 +0800

    SENTRY-842: Fix typos in pom.xml (Dapeng Sun, reviewed by Guoquan Shen)

 sentry-core/pom.xml                     | 2 +-
 sentry-hdfs/sentry-hdfs-service/pom.xml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7dd02191cb7254f1165081da43ea9be45d14c5a0
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Sun Aug 9 13:37:52 2015 -0700

    SENTRY-824: Enable column level privileges e2e tests on real cluster runs ( Sravya Tirukkovalur , Reviewed by: Colin Ma)

 sentry-tests/sentry-tests-hive/pom.xml | 3 +++
 1 file changed, 3 insertions(+)

commit 30c2eaf5c6d6fecf87ba52a78395d8031a745f63
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Sun Aug 9 12:10:21 2015 -0700

    SENTRY-780: HDFS Plugin should not execute path callbacks for views (Ryan Pridgeon via Sravya Tirukkovalur)

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   | 11 ++++++-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 36 ++++++++++++++++++++++
 2 files changed, 46 insertions(+), 1 deletion(-)

commit 6adcf783cb578ef54193d1dee0290a9126e68952
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Aug 9 07:35:04 2015 -0700

    SENTRY-834: Fix hive e2e real cluster failures in TestDbConnections, TestDbExportImportPrivileges, TestDbJDBCInterface (Anne Yu via Lenni Kuff)

 .../tests/e2e/dbprovider/TestDbConnections.java    |  33 ++---
 .../dbprovider/TestDbExportImportPrivileges.java   |   8 ++
 .../tests/e2e/dbprovider/TestDbJDBCInterface.java  |   9 +-
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |   9 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  25 +++-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |   8 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java |  36 ++++--
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   | 134 ++++++++++++---------
 .../e2e/hive/TestMetadataObjectRetrieval.java      | 116 +++++++++++-------
 9 files changed, 242 insertions(+), 136 deletions(-)

commit 19bbaacd1de4d3e7e23083a85ac8466f3e26fab9
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Aug 5 00:57:50 2015 -0700

    SENTRY-829: Fix Sentry Hive Test Failures in TestDbCrossDb class when running E2E (Anne Yu via Lenni Kuff)

 .../tests/e2e/dbprovider/TestDatabaseProvider.java |   3 +-
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |   4 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  65 +++-
 .../sentry/tests/e2e/hive/PrivilegeResultSet.java  | 124 +++++++
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 380 +++++++++++++++------
 .../sentry/tests/e2e/hive/TestUserManagement.java  |   2 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   7 +-
 7 files changed, 448 insertions(+), 137 deletions(-)

commit 1e26d56ef36af04dc1b58d549dea95141be243a2
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Aug 5 00:52:35 2015 -0700

    SENTRY-827: Server scope always grants ALL (Ryan P via Lenni Kuff)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  3 +-
 .../service/thrift/SentryPolicyServiceClient.java  |  6 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |  8 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 93 ++++++++++++++++++++--
 4 files changed, 95 insertions(+), 15 deletions(-)

commit 7613ede9c6b940fe132e6cc7657bac9b0cf236b2
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Aug 5 00:46:04 2015 -0700

    SENTRY-810: CTAS without location is not verified properly (Ryan P via Lenni Kuff)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  2 ++
 .../sentry/tests/e2e/hive/TestOperations.java      | 38 +++++++++++++++++-----
 2 files changed, 32 insertions(+), 8 deletions(-)

commit 4440314741edd9b80032777ee3d10679b7ce2ec0
Author: Sravya Tirukkovalur <sravya@cloudera.com>
Date:   Mon Aug 3 10:46:54 2015 -0700

    Clean up roles properly in TestHDFSIntegration

 .../test/java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 789af33b110919fd393fecb4e5821000cb3c805e
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Fri Jul 31 13:19:02 2015 -0700

    SENTRY-825: SecureAdminHandler no longer pulls collection name for create correctly (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 .../solr/handler/admin/SecureCoreAdminHandler.java |  9 +++-
 .../handler/admin/SecureCoreAdminHandlerTest.java  | 61 ++++++++++++++++++----
 2 files changed, 58 insertions(+), 12 deletions(-)

commit 4622aa4bd946a9cfcc9fe21740c00c87d0fca9b4
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 30 09:14:51 2015 +0800

    SENTRY-821: Add thrift protocol version check for generic model (Dapeng Sun, reviewed by Guoquan Shen)

 .../thrift/SentryGenericPolicyProcessor.java       | 28 +++++++++++++++++++++-
 1 file changed, 27 insertions(+), 1 deletion(-)

commit 92cde111f232a98bbce4b320100d408668cc444c
Author: Colin Ma <colin@apache.org>
Date:   Thu Jul 30 08:38:57 2015 +0800

    SENTRY-197: Create tool to dump and load of entire Sentry service (Colin Ma, Reviewed by:Sravya Tirukkovalur, Guoquan Shen, Dapeng Sun, Anne Yu)

 .../binding/hive/SentryIniPolicyFileFormatter.java |  161 ++
 .../hive/SentryPolicyFileFormatFactory.java        |   44 +
 .../binding/hive/SentryPolicyFileFormatter.java    |   39 +
 .../binding/hive/authz/SentryConfigTool.java       |  234 ++-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   14 +-
 .../hive/TestSentryIniPolicyFileFormatter.java     |  220 +++
 .../db/service/thrift/SentryPolicyService.java     | 1612 ++++++++++++++++++++
 .../thrift/TSentryExportMappingDataRequest.java    |  486 ++++++
 .../thrift/TSentryExportMappingDataResponse.java   |  496 ++++++
 .../thrift/TSentryImportMappingDataRequest.java    |  689 +++++++++
 .../thrift/TSentryImportMappingDataResponse.java   |  390 +++++
 .../db/service/thrift/TSentryMappingData.java      |  695 +++++++++
 .../db/service/persistent/SentryStore.java         |  458 +++++-
 .../service/thrift/SentryPolicyServiceClient.java  |    8 +
 .../SentryPolicyServiceClientDefaultImpl.java      |  111 ++
 .../service/thrift/SentryPolicyStoreProcessor.java |   53 +
 .../sentry/service/thrift/SentryServiceUtil.java   |  127 ++
 .../main/resources/sentry_policy_service.thrift    |   41 +-
 .../persistent/TestSentryStoreImportExport.java    |  899 +++++++++++
 .../thrift/TestSentryServiceImportExport.java      |  538 +++++++
 .../sentry/tests/e2e/hive/TestPolicyImport.java    |  199 ---
 .../tests/e2e/hive/TestPolicyImportExport.java     |  195 +++
 .../src/test/resources/testPolicyImport.ini        |   25 +
 .../src/test/resources/testPolicyImportAdmin.ini   |   22 +
 .../src/test/resources/testPolicyImportError.ini   |   21 +
 25 files changed, 7362 insertions(+), 415 deletions(-)

commit 6c3184acc1666f3ebcd6e9c73e9bef816121e032
Author: Colin Ma <colin@apache.org>
Date:   Tue Jul 28 10:56:10 2015 +0800

    SENTRY-822: OutOfMemory in hive e2e test (Colin Ma, Reviewed by Dapeng Sun)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a5c9c2c9052e6e87ccab39c9f9a73468407b188
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jul 27 09:26:18 2015 +0800

    SENTRY-684: Upgrade to Apache Curator 2.7.1 (Dapeng Sun, reviewed by Guoquan Shen)

 pom.xml | 25 +++++++++++++++++++++++--
 1 file changed, 23 insertions(+), 2 deletions(-)

commit 4da9dc22efc312719397a67448d78fee88f05a13
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 24 17:26:03 2015 -0700

    SENTRY-808: Change default protocol version to V2 (Sravya Tirukkovalur, Reviewed by:Lenni Kuff)

 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  4 ++--
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  4 ++--
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  4 ++--
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  4 ++--
 .../service/thrift/TCreateSentryRoleRequest.java   |  4 ++--
 .../db/service/thrift/TDropPrivilegesRequest.java  |  4 ++--
 .../db/service/thrift/TDropSentryRoleRequest.java  |  4 ++--
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  4 ++--
 .../TListSentryPrivilegesForProviderRequest.java   |  4 ++--
 .../thrift/TListSentryPrivilegesRequest.java       |  4 ++--
 .../db/service/thrift/TListSentryRolesRequest.java |  4 ++--
 .../service/thrift/TRenamePrivilegesRequest.java   |  4 ++--
 .../service/thrift/TSentryConfigValueRequest.java  |  4 ++--
 .../main/resources/sentry_common_service.thrift    |  2 ++
 .../main/resources/sentry_policy_service.thrift    | 28 +++++++++++-----------
 15 files changed, 42 insertions(+), 40 deletions(-)

commit a5b37c7e122d0126a4d2a4f57ecf0359feadf0d5
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 24 13:35:23 2015 -0700

    SENTRY-755: HDFS access of data files should be disabled for user with privileges only on some columns (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../sentry/hdfs/SentryAuthorizationProvider.java   |  10 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |   8 +-
 .../SentryPolicyServiceClientDefaultImpl.java      |   8 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 138 ++++++++++++++++++++-
 4 files changed, 153 insertions(+), 11 deletions(-)

commit 100e2397e5e30d8291a6c79329ff8778f8ddf21e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jul 21 14:58:03 2015 -0700

    SENTRY-790: Remove MetaStoreClient interface ( Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../org/apache/sentry/hdfs/MetastoreClient.java    |  38 --------
 .../sentry/hdfs/ExtendedMetastoreClient.java       | 108 ---------------------
 2 files changed, 146 deletions(-)

commit 18ba71baf63e1a1a1a3650ac539061800626630e
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Fri Jul 24 14:42:24 2015 +0800

    SENTRY-801: Update README: Does not compile with JDK8 (Colin Ma via Guoquan Shen)

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7469a12cc1748904d55e423201db7dc9b7b5f8b
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Jul 23 13:02:32 2015 -0700

    SENTRY-799: Fix sentry unit test error: testNonDefault - drop table/dbs before creating (Anne Yu via Lenni Kuff)

 .../java/org/apache/sentry/tests/e2e/dbprovider/TestDbEndToEnd.java    | 3 +++
 1 file changed, 3 insertions(+)

commit 09d1a927939b5d69539726d81001507ee6d4f701
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Jul 23 12:54:57 2015 -0700

    SENTRY-806: Fix unit test failure: TestMetastoreEndToEnd.testPartionInsert - java.lang.RuntimeException: Cannot make directory (Anne Yu via Lenni Kuff)

 .../tests/e2e/hive/AbstractTestWithStaticConfiguration.java      | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 806953c3d4a9ccfe985cdf90b5e868787f66ac5f
Author: Colin Ma <colin@apache.org>
Date:   Wed Jul 22 09:23:02 2015 +0800

    SENTRY-485: Add test coverage for auditing in E2E, secure environment (Colin Ma, Reviewed by: Guoquan Shen)

 .../hdfs/SentryHDFSServiceProcessorFactory.java    |  51 +---
 .../db/log/appender/AuditLoggerTestAppender.java   |  52 ++++
 .../db/log/entity/JsonLogEntityFactory.java        |   5 +-
 .../sentry/provider/db/log/util/CommandUtil.java   |  46 ++--
 .../db/service/thrift/SentryProcessorWrapper.java  |  55 +---
 .../provider/db/service/thrift/ThriftUtil.java     | 108 ++++++++
 .../db/log/entity/TestJsonLogEntityFactory.java    |   8 +-
 .../TestAuthorizingDDLAuditLogWithKerberos.java    | 295 +++++++++++++++++++++
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    |  65 +++--
 9 files changed, 517 insertions(+), 168 deletions(-)

commit 0dc5aa49fa769aebe64e18ce5cef7fbabb3fe7a4
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jul 21 13:56:58 2015 -0700

    SENTRY-530: Add thrift protocol version check ( Dapeng Sun, Reviewed by: Sravya Tirukkovalur)

 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  4 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  4 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  4 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  4 +-
 .../service/thrift/TCreateSentryRoleRequest.java   |  4 +-
 .../service/thrift/TDropPrivilegesRequest.java     |  4 +-
 .../service/thrift/TDropSentryRoleRequest.java     |  4 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  4 +-
 .../thrift/TListSentryPrivilegesRequest.java       |  4 +-
 .../service/thrift/TListSentryRolesRequest.java    |  4 +-
 .../service/thrift/TRenamePrivilegesRequest.java   |  4 +-
 .../thrift/sentry_common_serviceConstants.java     |  4 +-
 .../db/SentryThriftAPIMismatchException.java       | 30 ++++++++
 .../service/thrift/SentryPolicyStoreProcessor.java | 80 ++++++++++++++++++----
 .../sentry/service/thrift/ServiceConstants.java    |  2 +-
 .../org/apache/sentry/service/thrift/Status.java   |  7 ++
 .../main/resources/sentry_common_service.thrift    |  3 +-
 .../thrift/TestSentryPolicyStoreProcessor.java     | 11 ++-
 18 files changed, 143 insertions(+), 38 deletions(-)

commit 58a8358ca626877a2f7bd24d07274ee5eeaa0a1a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jul 21 13:48:25 2015 -0700

    SENTRY-741: Add a test case for hive query which creates dummy partition (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 29 ++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 412eea346dea9c65866fc4cbf0a88df21250a598
Author: Colin Ma <colin@apache.org>
Date:   Tue Jul 21 09:42:50 2015 +0800

    SENTRY-796: Fix log levels in SentryAuthorizationInfo (Colin Ma, Reviewed by: Dapeng Sun)

 .../java/org/apache/sentry/hdfs/SentryAuthorizationInfo.java  | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit f5445bbc602ede901ed4cc707e2ce11ee8961a31
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jul 20 15:20:00 2015 -0700

    SENTRY-804: Add Audit Log Support for Solr Sentry Handlers (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 sentry-solr/solr-sentry-handlers/pom.xml           |   1 -
 .../SecureDocumentAnalysisRequestHandler.java      |   2 +-
 .../handler/SecureFieldAnalysisRequestHandler.java |   2 +-
 .../solr/handler/SecureReplicationHandler.java     |   2 +-
 .../solr/handler/SecureRequestHandlerUtil.java     |  17 +-
 .../solr/handler/admin/SecureAdminHandlers.java    |  16 +-
 .../handler/admin/SecureCollectionsHandler.java    |   2 +-
 .../solr/handler/admin/SecureCoreAdminHandler.java |  34 +++-
 .../QueryIndexAuthorizationComponent.java          |   5 +-
 .../java/org/apache/solr/sentry/AuditLogger.java   |  97 ++++++++++++
 .../sentry/RollingFileWithoutDeleteAppender.java   | 176 +++++++++++++++++++++
 .../sentry/SentryIndexAuthorizationSingleton.java  |  40 ++++-
 .../UpdateIndexAuthorizationProcessor.java         |  26 +--
 .../src/main/resources/log4j.properties            |  13 ++
 .../SentryIndexAuthorizationSingletonTest.java     |  11 +-
 .../UpdateIndexAuthorizationProcessorTest.java     |  36 +++--
 16 files changed, 416 insertions(+), 64 deletions(-)

commit 7eb7c7dabd5ec6034d30872f001752cc64e643b4
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 17 11:18:18 2015 -0700

    SENTRY-778: CredentialProvider for Sentry DB password ( Sravya Tirukkovalur, Reviewed by: Colin Ma)

 .../service/persistent/DelegateSentryStore.java    |  4 +++-
 .../db/service/persistent/SentryStore.java         | 17 ++++++++++++---
 .../sentry/provider/db/tools/SentrySchemaTool.java | 17 +++++++++++----
 .../sentry/service/thrift/ServiceConstants.java    |  1 -
 .../persistent/SentryStoreIntegrationBase.java     |  1 +
 .../db/service/persistent/TestSentryStore.java     | 24 +++++++++++++++++++++-
 .../db/service/persistent/TestSentryVersion.java   |  1 +
 .../provider/db/tools/TestSentrySchemaTool.java    |  2 ++
 .../thrift/SentryServiceIntegrationBase.java       |  1 +
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  1 +
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  1 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  1 +
 .../AbstractSolrSentryTestWithDbProvider.java      |  1 +
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     |  1 +
 14 files changed, 63 insertions(+), 10 deletions(-)

commit 7c2da749d3de908f77178a2ea2f409f45f640169
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Mon Jul 20 11:06:07 2015 -0700

    SENTRY-805: Reclassify CoreAdminHandler Actions (Gregory Chanan, Reviewed by: Vamsee Yarlagadda)

 .../solr/handler/admin/SecureCoreAdminHandler.java    | 19 ++++++++++---------
 .../handler/admin/SecureCoreAdminHandlerTest.java     | 15 +++++++--------
 2 files changed, 17 insertions(+), 17 deletions(-)

commit 77ac9953a49d58467e4b88cb45c87940bee88ee5
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Jul 15 23:40:36 2015 -0700

    SENTRY-803: Fix role cleanup for Sqoop test - fails with SentryAlreadyExistsException: Role (Anne Yu via Lenni Kuff)

 .../sentry/tests/e2e/sqoop/TestLinkEndToEnd.java   | 25 +++++++++++++++++-----
 1 file changed, 20 insertions(+), 5 deletions(-)

commit 9dff149d657632a533f939f8c2541c9f190439f2
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jul 13 13:32:25 2015 -0700

    SENTRY-802: SentryService: Log error if you processor cannot be registered (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../org/apache/sentry/hdfs/SentryHDFSServiceProcessorFactory.java  | 3 ++-
 .../java/org/apache/sentry/service/thrift/ProcessorFactory.java    | 5 ++---
 .../main/java/org/apache/sentry/service/thrift/SentryService.java  | 7 ++++++-
 3 files changed, 10 insertions(+), 5 deletions(-)

commit fe8e7d99ba5da781048304df859a70e1162e8859
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jul 13 12:19:46 2015 -0700

    SENTRY-792: Throw underlying exception if SentryService start fails (Sravya Tirukkovalur, Reviewed by: Colin Ma)

 .../java/org/apache/sentry/service/thrift/SentryService.java   | 10 +++-------
 .../apache/sentry/tests/e2e/minisentry/InternalSentrySrv.java  |  3 ---
 2 files changed, 3 insertions(+), 10 deletions(-)

commit c9276faef6803b88f8df6a67c62398fe5e2b912d
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jul 13 11:34:24 2015 -0700

    SENTRY-800: Oracle: first run A1.Scope invalid identifier (Sravya Tirukkovalur, Reviewed by:Lenni Kuff)

 .../sentry-provider-db/src/main/resources/005-SENTRY-398.oracle.sql     | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-1.5.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-1.6.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-postgres-1.5.0.sql     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 8bd827b28b8a6df69f2d075ffbc10b305fc98380
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jul 9 15:07:18 2015 -0700

    SENTRY-797: TestHDFSIntegration#testEngToEnd is flaky (Sravya Tirukkovalur, Reviewed by: Colin Ma)

 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 38 +++++++++++++++-------
 1 file changed, 27 insertions(+), 11 deletions(-)

commit 499074e3891da4324102568e8a4f3ae0bc003965
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jul 7 11:24:45 2015 -0700

    SENTRY-794: TestHDFSIntegrationWithHA#testEnd2End fails( Sravya Tirukkovalur, Reviewed by Lenni Kuff)

 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 156 ++++++++++-----------
 1 file changed, 71 insertions(+), 85 deletions(-)

commit 987618115b39d33937a44c0bdcdde3ff0c6be2f3
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Thu Jul 9 12:43:19 2015 +0800

    SENTRY-647: Add e2e tests for Sqoop Sentry integration (Guoquan Shen,reviewed by Dapeng Sun)

 pom.xml                                            |   1 +
 sentry-tests/pom.xml                               |   1 +
 sentry-tests/sentry-tests-sqoop/pom.xml            | 153 ++++++++++
 .../e2e/sqoop/AbstractSqoopSentryTestBase.java     | 225 +++++++++++++++
 .../tests/e2e/sqoop/StaticUserGroupRole.java       |  62 ++++
 .../tests/e2e/sqoop/TestConnectorEndToEnd.java     | 111 +++++++
 .../sentry/tests/e2e/sqoop/TestGrantPrivilege.java | 215 ++++++++++++++
 .../sentry/tests/e2e/sqoop/TestJobEndToEnd.java    | 305 ++++++++++++++++++++
 .../sentry/tests/e2e/sqoop/TestLinkEndToEnd.java   | 238 +++++++++++++++
 .../sentry/tests/e2e/sqoop/TestOwnerPrivilege.java | 156 ++++++++++
 .../tests/e2e/sqoop/TestRevokePrivilege.java       | 175 +++++++++++
 .../sentry/tests/e2e/sqoop/TestRoleOperation.java  | 209 ++++++++++++++
 .../tests/e2e/sqoop/TestServerScopeEndToEnd.java   | 185 ++++++++++++
 .../sentry/tests/e2e/sqoop/TestShowPrivilege.java  |  92 ++++++
 .../sentry/tests/e2e/sqoop/TomcatSqoopRunner.java  | 320 +++++++++++++++++++++
 15 files changed, 2448 insertions(+)

commit c8d5fcef924bb04ba2029d7c03482aa60de20da0
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jul 7 23:48:22 2015 -0700

    SENTRY-791: java.lang.AbstractMethodError when using HDFS sync (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../main/java/org/apache/sentry/service/thrift/ProcessorFactory.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ce60020b9b8ebdc933c6158502e39651703ec888
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jul 2 15:18:34 2015 -0700

    SENTRY-788: Fix mysql and postgres scripts of generalized model (Sravya Tirukkovalur, Reviewed by: Lenni Kuff)

 .../sentry-provider-db/src/main/resources/005-SENTRY-398.mysql.sql     | 3 ++-
 .../sentry-provider-db/src/main/resources/005-SENTRY-398.postgres.sql  | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-mysql-1.6.0.sql       | 3 ++-
 .../sentry-provider-db/src/main/resources/sentry-postgres-1.6.0.sql    | 2 +-
 4 files changed, 6 insertions(+), 4 deletions(-)

commit 17fcc4d46e5a1eafd4c9780723aeecf84c0215dc
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Jul 2 15:19:47 2015 +0800

    SENTRY-789: Jenkins should support test branch with special character (Dapeng Sun, reviewed by Guoquan Shen)

 dev-support/test-patch.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1556781c49361b821b8db55b28d9e5de5394565e
Author: Sun Dapeng <sdp@apache.org>
Date:   Mon Jun 29 15:52:00 2015 +0800

    SENTRY-777: SentryServiceIntegrationBase#after() should be run under client subject (Dapeng Sun, reviewed by Guoquan Shen)

 .../hdfs/SentryHdfsServiceIntegrationBase.java     |  3 +-
 .../TestSentryGenericServiceIntegration.java       | 30 +++++++++++-----
 .../thrift/TestSentryServiceFailureCase.java       |  3 +-
 .../thrift/TestSentryServiceForHAWithKerberos.java | 41 ++++++++++++++--------
 .../thrift/TestSentryServiceWithKerberos.java      |  3 +-
 .../thrift/TestSentryWebServerWithKerberos.java    |  3 +-
 .../thrift/TestSentryWebServerWithoutSecurity.java |  3 +-
 .../thrift/SentryServiceIntegrationBase.java       | 29 +++++++++------
 8 files changed, 72 insertions(+), 43 deletions(-)

commit 9943a33f71f1257f95bb4ee956f94e2d3c85cb84
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 29 11:22:04 2015 -0700

    SENTRY-776: Sentry client should support cache based kerberos ticket for secure zookeeper connection (Prasad Mujumdar via Sravya Tirukkovalur)

 .../provider/db/service/persistent/HAContext.java  | 22 ++++++++++++++++++----
 .../sentry/service/thrift/JaasConfiguration.java   | 18 +++++++++++++++++-
 .../sentry/service/thrift/ServiceConstants.java    |  2 ++
 .../thrift/SentryServiceIntegrationBase.java       |  6 ++++--
 4 files changed, 41 insertions(+), 7 deletions(-)

commit c56f1d26042defa06286910952a3c9c87e0dd124
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Jun 23 14:28:00 2015 +0800

    SENTRY-774: *.rej files should be added to rat ignore list (Dapeng Sun, reviewed by Guoquan Shen)

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 4e03bdb24145eb56378c29aa6db23d7ac1d25d62
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 18 10:34:54 2015 -0700

    SENTRY-767: SENTRY jenkins support test the patch for branch ( Dapeng Sun via Sravya Tirukkovalur)

 dev-support/test-patch.py | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 198bef5dd6061260c7c2f34fea27e434be4985ec
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Jun 12 16:24:29 2015 -0700

    SENTRY-721: HDFS Cascading permissions not applied to child file ACLs if a direct grant exists (Prasad Mujumdar, reviewed by Arun Suresh and Lenni Kuff)

 .../org/apache/sentry/hdfs/SentryPermissions.java  | 24 +++++++---------------
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 17 +++++++++++++++
 2 files changed, 24 insertions(+), 17 deletions(-)

commit ee9039389939be0bb16ad1c2850739f03b5b7e03
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 11 13:03:23 2015 -0700

    SENTRY-764: Update the LICENSE file (Sravya Tirukkovalur, Reviewed by: Prasad Mujumdar)

 LICENSE.txt | 67 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 6baaa612917bfab0ff883ff8e2c5d59cf7292367
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 9 13:00:15 2015 -0700

    SENTRY-763: Remove multiple .gitignore files (Sravya Tirukkovalur , Reviewed by: Prasad Mujumdar)

 .gitignore                                         |  1 +
 sentry-hdfs/sentry-hdfs-common/.gitignore          | 18 ------------------
 sentry-hdfs/sentry-hdfs-namenode-plugin/.gitignore | 18 ------------------
 sentry-hdfs/sentry-hdfs-service/.gitignore         | 18 ------------------
 sentry-provider/sentry-provider-db/.gitignore      |  2 --
 sentry-tests/sentry-tests-hive/.gitignore          |  4 ----
 6 files changed, 1 insertion(+), 60 deletions(-)

commit 42dfe9c8e3422a68bea6b49c40be8f349760c6ec
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 4 12:13:48 2015 -0700

    SENTRY-752: Sentry service audit log file name format should be consistent (Prasad Mujumdar via Sravya Tirukkovalur)

 .../appender/RollingFileWithoutDeleteAppender.java | 57 ++++++++--------------
 .../TestRollingFileWithoutDeleteAppender.java      | 25 ++++++++++
 2 files changed, 44 insertions(+), 38 deletions(-)

commit 4d0e2e7c347f5e247b553aff3ddec8524ba221f1
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Wed Jun 3 08:20:19 2015 +0800

    SENTRY-750: Use the Sqoop Server principal as the requester when removing the Sqoop resource (GuoquanShen, reviewed by Colin Ma)

 .../org/apache/sentry/sqoop/authz/SentryAccessController.java    | 2 +-
 .../java/org/apache/sentry/sqoop/binding/SqoopAuthBinding.java   | 9 +++++++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 67b2146e3b3914a44f45dd92092f835ba99362fd
Author: Colin Ma <colin@apache.org>
Date:   Tue Jun 2 12:33:09 2015 +0800

    SENTRY-740: Move the class PolicyFileConstants and KeyValue to provider-common (Colin Ma, reviewed by Dapeng Sun)

 .../binding/hive/authz/SentryConfigTool.java       | 25 +++++-----
 .../policy/db/AbstractDBPrivilegeValidator.java    |  4 +-
 .../sentry/policy/db/DBModelAuthorizables.java     |  2 +-
 .../sentry/policy/db/DBWildcardPrivilege.java      | 16 +++----
 .../sentry/policy/db/TestDBWildcardPrivilege.java  |  8 ++--
 .../indexer/AbstractIndexerPrivilegeValidator.java |  4 +-
 .../policy/indexer/IndexerModelAuthorizables.java  |  2 +-
 .../policy/indexer/IndexerWildcardPrivilege.java   | 14 +++---
 .../indexer/TestIndexerWildcardPrivilege.java      |  8 ++--
 .../search/AbstractSearchPrivilegeValidator.java   |  4 +-
 .../policy/search/SearchModelAuthorizables.java    |  2 +-
 .../policy/search/SearchWildcardPrivilege.java     | 14 +++---
 .../policy/search/TestSearchWildcardPrivilege.java |  8 ++--
 .../policy/sqoop/SqoopModelAuthorizables.java      |  2 +-
 .../policy/sqoop/SqoopWildcardPrivilege.java       |  2 +-
 .../policy/sqoop/TestSqoopWildcardPrivilege.java   |  8 ++--
 .../apache/sentry/provider/common}/KeyValue.java   | 18 +++++---
 .../provider/common}/PolicyFileConstants.java      | 15 +++---
 .../sentry/provider/common}/TestKeyValue.java      | 36 +++++++--------
 .../provider/file/LocalGroupMappingService.java    |  6 ++-
 .../apache/sentry/provider/file/PolicyFile.java    |  8 ++--
 .../apache/sentry/provider/file/PolicyFiles.java   | 23 ++++-----
 .../provider/file/SimpleFileProviderBackend.java   | 54 +++++++++++-----------
 23 files changed, 144 insertions(+), 139 deletions(-)

commit 0416dc016b9f594f89cf3cfbe9702592c21bf6da
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu May 28 15:54:17 2015 -0700

    SENTRY-744: DB provider client should support grantServerPrivilege() method without action for backward compatibility ( Prasad Mujumdar, Reviewed by: Colin Ma)

 .../provider/db/service/thrift/SentryPolicyServiceClient.java |  3 +++
 .../service/thrift/SentryPolicyServiceClientDefaultImpl.java  | 11 +++++++++++
 2 files changed, 14 insertions(+)

commit 9dba28bd693627c07523d9c29d3145fae2dd9de9
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu May 21 12:29:08 2015 -0700

    SENTRY-695: Sentry service should read the hadoop group mapping properties from core-site ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../provider/common/HadoopGroupMappingService.java       | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit 024faee9165efd20d63d630f2d455001bca50fd8
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed May 20 12:40:20 2015 -0700

    SENTRY-227: Fix for "Unsupported entity type DUMMYPARTITION" (Lars Francke via Sravya Tirukkovalur)

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java   | 1 +
 1 file changed, 1 insertion(+)

commit 14e6bdaba7b1bf2cd1c342f908c00c005e14521f
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Fri May 15 11:43:08 2015 +0800

    SENTRY-736: Add a new constructor to HadoopGroupMappingService (GuoquanShen, reviewed by Dapeng Sun)

 .../org/apache/sentry/provider/common/HadoopGroupMappingService.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit a48cc8c43ee813c73c2aa8d9f603e96350c641e5
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue May 12 15:32:07 2015 +0800

    SENTRY-723: Clean unused methods in HiveAuthzBindingHook (Dapeng Sun, reviewed by Guoquan Shen)

 .../sentry/binding/hive/HiveAuthzBindingHook.java       | 17 -----------------
 1 file changed, 17 deletions(-)

commit 357d83fbc619ba14bb63a6dce0200c5560e18376
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Tue May 12 14:43:06 2015 +0800

    SENTRY-612: Sqoop2 integration with sentry (Guoquan Shen, reviewed by Prasad Mujumdar)

 pom.xml                                            |  26 ++
 sentry-binding/pom.xml                             |   1 +
 sentry-binding/sentry-binding-sqoop/pom.xml        |  80 +++++
 .../org/apache/sentry/sqoop/PrincipalDesc.java     |  50 +++
 .../org/apache/sentry/sqoop/SentrySqoopError.java  |  32 ++
 .../sentry/sqoop/authz/SentryAccessController.java | 192 ++++++++++
 .../sqoop/authz/SentryAuthorizationHander.java     | 117 ++++++
 .../sqoop/authz/SentryAuthorizationValidator.java  |  63 ++++
 .../sentry/sqoop/binding/SqoopAuthBinding.java     | 393 +++++++++++++++++++++
 .../sqoop/binding/SqoopAuthBindingSingleton.java   |  96 +++++
 .../sentry/sqoop/binding/SqoopProviderBackend.java |  44 +++
 .../apache/sentry/sqoop/conf/SqoopAuthConf.java    |  75 ++++
 .../sentry/sqoop/MockAuthenticationProvider.java   |  32 ++
 .../sqoop/TestSentryAuthorizationHander.java       |  74 ++++
 .../org/apache/sentry/sqoop/TestSqoopAuthConf.java |  62 ++++
 .../test/resources/no-configure-sentry-site.xml    |  22 ++
 .../src/test/resources/sentry-site.xml             |  38 ++
 .../src/test/resources/test-authz-provider.ini     |  40 +++
 sentry-dist/pom.xml                                |   4 +
 .../provider/common/AuthorizationComponent.java    |   1 +
 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../db/generic/SentryGenericProviderBackend.java   | 153 ++++++++
 .../persistent/PrivilegeOperatePersistence.java    |   2 +
 .../thrift/SentryGenericPolicyProcessor.java       |   9 +
 24 files changed, 1610 insertions(+)

commit 6498ce90dd1140b67064c244b27005d0df819355
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri May 8 11:12:54 2015 +0800

    SENTRY-720: Patch related files should be excluded form version control (Dapeng Sun, reviewed by Colin Ma)

 .gitignore | 3 +++
 1 file changed, 3 insertions(+)

commit 06ba44c7ac84d7b0d58d8315f45bf268f260c673
Author: Colin Ma <colin@apache.org>
Date:   Thu May 7 15:02:20 2015 +0800

    SENTRY-717: Fix the UDF whitelist format for functions row_number and unbase64 (Colin Ma, reviewed by Prasad Mujumdar)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java   | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 0b8d822ba3b88998aca0046780fe4f28bbcba48a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Apr 30 00:37:46 2015 -0700

    SENTRY-702: Hive binding should support RELOAD command (Dapeng Sun via Prasad Mujumdar)

 .../binding/hive/HiveAuthzBindingSessionHook.java  |  9 +++-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  4 ++
 .../tests/e2e/hive/TestReloadPrivileges.java       | 54 ++++++++++++++++++++++
 3 files changed, 65 insertions(+), 2 deletions(-)

commit 16ef2c3bd502ccdcf63b8bb1090c213c21f75e03
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Apr 28 09:31:32 2015 -0700

    SENTRY-699: Memory leak when running Sentry w/ HiveServer2 (Prasad Mujumdar, reviewed by Colin Ma)

 .../provider/common/ResourceAuthorizationProvider.java     | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 9195cb9f512579bfd56a6894319ce739332b4cff
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Apr 24 23:51:59 2015 -0700

    SENTRY-692: Add schema creation scripts for 1.6.0 version (Colin Ma via Prasad Mujumdar)

 .../service/persistent/SentryStoreSchemaInfo.java  |   2 +-
 .../src/main/resources/sentry-db2-1.6.0.sql        | 155 +++++++++++++++++
 .../src/main/resources/sentry-derby-1.6.0.sql      | 155 +++++++++++++++++
 .../src/main/resources/sentry-mysql-1.6.0.sql      | 192 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.6.0.sql     | 168 ++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.6.0.sql   | 182 +++++++++++++++++++
 .../sentry-upgrade-db2-1.5.0-to-1.6.0.sql          |   2 +
 .../sentry-upgrade-derby-1.5.0-to-1.6.0.sql        |   2 +
 .../sentry-upgrade-mysql-1.5.0-to-1.6.0.sql        |   5 +
 .../sentry-upgrade-oracle-1.5.0-to-1.6.0.sql       |   5 +
 .../sentry-upgrade-postgres-1.5.0-to-1.6.0.sql     |   5 +
 .../src/main/resources/upgrade.order.db2           |   1 +
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 16 files changed, 877 insertions(+), 1 deletion(-)

commit 850bdb22262f79fb58cb559bce3073f5ddb3229a
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Apr 23 13:01:45 2015 -0700

    SENTRY-678: Sentry-Solr Binding may not load group mapping service correctly

 .../binding/solr/authz/SolrAuthzBinding.java       | 17 +++++++++--
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 34 ++++++++++++++++++++++
 .../provider/common/HadoopGroupMappingService.java |  4 ---
 .../HadoopGroupResourceAuthorizationProvider.java  | 18 +++++++++---
 4 files changed, 62 insertions(+), 11 deletions(-)

commit a3adbb39151aa67ed0117897242743ecc6a97cf3
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Apr 22 09:11:09 2015 -0700

    SENTRY-703: Calls to add_partition fail when passed a Partition object with a null location (Prasad Mujumdar, reviewed by Dapeng Sun)

 .../binding/metastore/MetastoreAuthzBinding.java   |  5 ++-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 36 ++++++++++++++++++++++
 2 files changed, 40 insertions(+), 1 deletion(-)

commit 7ae7fc375e3458e77f55e5e4feff45ef1f9a18e0
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Apr 21 16:17:43 2015 +0800

    SENTRY-296: Sentry Service Client does not allow for connection pooling (Dapeng Sun and Colin Ma, reviewed by Prasad Mujumdar)

 pom.xml                                            |   6 +
 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../service/thrift/HAClientInvocationHandler.java  |  18 +--
 .../thrift/PoolClientInvocationHandler.java        | 154 +++++++++++++++++++++
 .../thrift/SentryClientInvocationHandler.java      |  54 ++++++++
 .../service/thrift/SentryServiceClientFactory.java |  12 +-
 .../thrift/SentryServiceClientPoolFactory.java     |  78 +++++++++++
 .../sentry/service/thrift/ServiceConstants.java    |  19 ++-
 .../TestSentryServerForPoolHAWithoutKerberos.java  |  36 +++++
 .../TestSentryServerForPoolWithoutKerberos.java    |  36 +++++
 .../thrift/TestSentryServiceClientPool.java        | 113 +++++++++++++++
 .../TestSentryServiceForPoolHAWithKerberos.java    |  36 +++++
 .../TestSentryServiceForPoolWithKerberos.java      |  36 +++++
 .../thrift/SentryServiceIntegrationBase.java       |  12 +-
 14 files changed, 600 insertions(+), 14 deletions(-)

commit 24487610038e4be8eec0f320a0e20d2b79a2b035
Author: Colin Ma <colin@apache.org>
Date:   Mon Apr 20 09:58:00 2015 +0800

    SENTRY-698: Uncaught OutOfMemoryError (Colin Ma, reviewed by Guoquan Shen)

 .../tests/e2e/dbprovider/TestDbJDBCInterface.java  |  40 ++++
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 162 +---------------
 .../sentry/tests/e2e/hive/TestJDBCInterface.java   | 214 +++++++++++++++++++++
 3 files changed, 255 insertions(+), 161 deletions(-)

commit fd31d2cd4b7d0d63dc6f8a61d2cf6b3cf4d4d72e
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Apr 18 10:05:39 2015 -0700

    SENTRY-696: Improve Metastoreplugin Cache Initialization time (Arun Suresh via Prasad Mujumdar)

 .../org/apache/sentry/hdfs/ServiceConstants.java   |   8 +
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml    |   4 +
 sentry-hdfs/sentry-hdfs-service/pom.xml            |   5 +
 .../sentry/hdfs/MetastoreCacheInitializer.java     | 252 +++++++++++++++++++++
 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 150 +++++++-----
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |   2 +-
 .../sentry/hdfs/TestMetastoreCacheInitializer.java | 133 +++++++++++
 7 files changed, 498 insertions(+), 56 deletions(-)

commit 8e16e87ce019f719df0be830c8ccec4069a52ba5
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Fri Apr 17 10:06:42 2015 +0800

    SENTRY-646: Add Sqoop policy engine for sentry authorization (Guoquan Shen, reviewed by Prasad Mujumdar)

 pom.xml                                            |   5 +
 sentry-dist/pom.xml                                |   4 +
 sentry-policy/pom.xml                              |   1 +
 sentry-policy/sentry-policy-sqoop/pom.xml          |  80 ++++++++
 .../policy/sqoop/ServerNameRequiredMatch.java      |  69 +++++++
 .../policy/sqoop/SimpleSqoopPolicyEngine.java      |  86 ++++++++
 .../policy/sqoop/SqoopModelAuthorizables.java      |  57 ++++++
 .../policy/sqoop/SqoopWildcardPrivilege.java       | 122 +++++++++++
 .../sqoop/AbstractTestSqoopPolicyEngine.java       | 145 ++++++++++++++
 .../sqoop/MockGroupMappingServiceProvider.java     |  39 ++++
 .../sqoop/SqoopPolicyFileProviderBackend.java      |  35 ++++
 .../policy/sqoop/TestServerNameRequiredMatch.java  |  56 ++++++
 ...TestSqoopAuthorizationProviderGeneralCases.java | 223 +++++++++++++++++++++
 ...TestSqoopAuthorizationProviderSpecialCases.java |  87 ++++++++
 .../policy/sqoop/TestSqoopModelAuthorizables.java  |  53 +++++
 .../policy/sqoop/TestSqoopPolicyEngineDFS.java     |  75 +++++++
 .../policy/sqoop/TestSqoopPolicyEngineLocalFS.java |  44 ++++
 .../policy/sqoop/TestSqoopPolicyNegative.java      | 121 +++++++++++
 .../policy/sqoop/TestSqoopWildcardPrivilege.java   | 178 ++++++++++++++++
 .../src/test/resources/log4j.properties            |  31 +++
 .../src/test/resources/test-authz-provider.ini     |  40 ++++
 21 files changed, 1551 insertions(+)

commit 58adbe44e9e69a049e450f1bc5342135c8f92b3a
Author: Colin Ma <colin@apache.org>
Date:   Wed Apr 15 08:50:51 2015 +0800

    SENTRY-537: Refactor AbstractTestWithHiveServer to cut down some test cases runtime (Colin Ma, reviewed by Dapeng Sun)

 .../e2e/dbprovider/AbstractTestWithDbProvider.java | 51 ++++++++++------------
 .../TestDbSentryOnFailureHookLoading.java          | 43 +++++++++++++-----
 .../dbprovider/TestPrivilegeWithHAGrantOption.java | 24 +++++-----
 .../tests/e2e/hive/AbstractTestWithHiveServer.java | 32 +++++++-------
 .../tests/e2e/hive/TestServerConfiguration.java    | 50 +++++++++++----------
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  | 21 +++++----
 6 files changed, 124 insertions(+), 97 deletions(-)

commit 8cc22bee519cc24d56c4a06d5519616f11ece5c0
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Tue Apr 7 08:50:06 2015 +0800

    SENTRY-693: The generic model has not successfully revoke part of privileges from existed ALL privilege (Guoquan Shen, reviewed by Colin Ma)

 .../persistent/PrivilegeOperatePersistence.java    | 20 +++++---
 .../TestPrivilegeOperatePersistence.java           | 54 +++++++++++++++++++++-
 2 files changed, 67 insertions(+), 7 deletions(-)

commit 0d3a8f60716a42b48c7e6f5f9f8cce38520d9e1c
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Fri Apr 3 00:18:01 2015 -0700

    SENTRY-681: Update the versions on trunk after branching (guoquan via Prasad Mujumdar)

 pom.xml                                         | 2 +-
 sentry-binding/pom.xml                          | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml      | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml      | 2 +-
 sentry-core/pom.xml                             | 2 +-
 sentry-core/sentry-core-common/pom.xml          | 2 +-
 sentry-core/sentry-core-model-db/pom.xml        | 2 +-
 sentry-core/sentry-core-model-indexer/pom.xml   | 2 +-
 sentry-core/sentry-core-model-search/pom.xml    | 2 +-
 sentry-core/sentry-core-model-sqoop/pom.xml     | 2 +-
 sentry-dist/pom.xml                             | 2 +-
 sentry-hdfs/pom.xml                             | 2 +-
 sentry-hdfs/sentry-hdfs-common/pom.xml          | 2 +-
 sentry-hdfs/sentry-hdfs-dist/pom.xml            | 2 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml | 4 ++--
 sentry-hdfs/sentry-hdfs-service/pom.xml         | 2 +-
 sentry-policy/pom.xml                           | 2 +-
 sentry-policy/sentry-policy-common/pom.xml      | 2 +-
 sentry-policy/sentry-policy-db/pom.xml          | 2 +-
 sentry-policy/sentry-policy-indexer/pom.xml     | 2 +-
 sentry-policy/sentry-policy-search/pom.xml      | 2 +-
 sentry-provider/pom.xml                         | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml   | 2 +-
 sentry-provider/sentry-provider-common/pom.xml  | 2 +-
 sentry-provider/sentry-provider-db/pom.xml      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml    | 2 +-
 sentry-solr/pom.xml                             | 2 +-
 sentry-solr/solr-sentry-handlers/pom.xml        | 2 +-
 sentry-tests/pom.xml                            | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml          | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml          | 2 +-
 31 files changed, 32 insertions(+), 32 deletions(-)

commit b4e607a58c252b4a2b6c3f499654a29fcf5165d1
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Thu Apr 2 19:12:56 2015 -0700

    SENTRY-500: 1.4 to 1.5 upgrade needs to handle empty strings with __NULL__

 .../src/main/resources/001-SENTRY-327.postgres.sql |  2 +-
 .../src/main/resources/002-SENTRY-339.derby.sql    |  8 +++++++
 .../src/main/resources/002-SENTRY-339.mysql.sql    |  9 +++++++
 .../src/main/resources/002-SENTRY-339.oracle.sql   |  9 +++++++
 .../src/main/resources/002-SENTRY-339.postgres.sql | 15 +++++++++---
 .../src/main/resources/003-SENTRY-380.postgres.sql | 10 ++++----
 .../src/main/resources/004-SENTRY-74.derby.sql     |  2 +-
 .../src/main/resources/004-SENTRY-74.mysql.sql     |  2 +-
 .../src/main/resources/004-SENTRY-74.oracle.sql    |  2 +-
 .../src/main/resources/004-SENTRY-74.postgres.sql  |  6 ++---
 .../src/main/resources/005-SENTRY-398.derby.sql    | 18 +++++++-------
 .../src/main/resources/005-SENTRY-398.mysql.sql    | 20 ++++++++--------
 .../src/main/resources/005-SENTRY-398.oracle.sql   | 24 +++++++++----------
 .../src/main/resources/005-SENTRY-398.postgres.sql | 24 +++++++++----------
 .../src/main/resources/sentry-derby-1.5.0.sql      | 24 +++++++++----------
 .../src/main/resources/sentry-mysql-1.5.0.sql      | 24 +++++++++----------
 .../src/main/resources/sentry-oracle-1.5.0.sql     | 28 +++++++++++-----------
 .../src/main/resources/sentry-postgres-1.5.0.sql   | 24 +++++++++----------
 .../sentry-upgrade-postgres-1.4.0-to-1.5.0.sql     |  2 +-
 19 files changed, 144 insertions(+), 109 deletions(-)

commit 0ca68838338ff1418495a442249323c7da0ccbba
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Wed Apr 1 15:06:07 2015 -0700

    SENTRY-687: Handle authorization for 'select <expr>' hive queries (Yibing Shi via Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 10 +++++--
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 33 ++++++++++++++++++++++
 2 files changed, 41 insertions(+), 2 deletions(-)

commit 80dc59287b0394efc727643e8d2e3d275977e6e1
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Tue Mar 31 12:04:17 2015 -0700

    SENTRY-670: Fix the Sentry build to remove snapshot and non apache dependencies. (Prasad Mujumdar, reviewed by Colin Ma)

 README.md                                          |   5 +-
 conf/sentry-site.xml.hive-client.example           |   2 +-
 conf/sentry-site.xml.hive-client.template          |   4 +-
 pom.xml                                            |  21 +-
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml    |  13 +
 .../server/namenode/AuthorizationProvider.java     | 411 +++++++++++++++++++++
 .../sentry/hdfs/SentryAuthorizationProvider.java   |  15 +-
 .../hdfs/TestSentryAuthorizationProvider.java      |   5 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   4 +
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |   4 +-
 10 files changed, 447 insertions(+), 37 deletions(-)

commit a9a6c6f4a1d88a8aca5a541218deff2ce47fcd5f
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Tue Mar 31 10:32:52 2015 -0700

    SENTRY-676: Address Sentry HA issues in secure cluster. (Prasad Mujudmar, reviewed by Colin Ma)

 .../SentryMetastorePostEventListener.java          |   6 +-
 sentry-dist/src/main/assembly/bin.xml              |  10 +
 sentry-hdfs/sentry-hdfs-common/pom.xml             |   7 +-
 .../org/apache/sentry/hdfs/SentryAuthzUpdate.java  |  41 ++++
 .../sentry/hdfs/SentryHDFSServiceClient.java       | 217 +--------------------
 .../hdfs/SentryHDFSServiceClientDefaultImpl.java   | 213 ++++++++++++++++++++
 .../hdfs/SentryHDFSServiceClientFactory.java       |  43 ++++
 .../sentry/hdfs/SentryHdfsServiceException.java    |  33 ++++
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   3 +-
 .../hdfs/ha/HdfsHAClientInvocationHandler.java     | 144 ++++++++++++++
 .../hdfs/SentryHdfsServiceIntegrationBase.java     |   4 +-
 .../sentry/hdfs/SentryAuthorizationInfo.java       |   2 +-
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |   4 +-
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  27 ++-
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |  22 ++-
 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    |  15 +-
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |   8 +
 .../provider/db/service/persistent/HAContext.java  |  51 +++--
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +-
 19 files changed, 604 insertions(+), 252 deletions(-)

commit 51f9d262f8c03d24b7b3cb3df47bcc15e20fb45a
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Sun Mar 29 23:42:43 2015 -0700

    SENTRY-683: HDFS service client should ensure the kerberos ticket validity before new service connection (Prasad Mujumdar, reviewed by Arun Suresh)

 pom.xml                                            |  6 ++
 sentry-hdfs/sentry-hdfs-common/pom.xml             | 21 ++++++
 .../sentry/hdfs/SentryHDFSServiceClient.java       |  7 ++
 .../hdfs/SentryHdfsServiceIntegrationBase.java     | 82 ++++++++++++++++++++++
 .../sentry/hdfs/TestKrbConnectionTimeout.java      | 60 ++++++++++++++++
 sentry-provider/sentry-provider-db/pom.xml         | 11 +++
 6 files changed, 187 insertions(+)

commit da98b3db06c8aca1df318d842acd8edfb14ec153
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Wed Mar 25 09:36:24 2015 +0800

    SENTRY-645: Add sqoop authorizable model for sentry authorization (Guoquan Shen, reviewed by Prasad Mujumdar)

 pom.xml                                            |  5 ++
 sentry-core/pom.xml                                |  1 +
 sentry-core/sentry-core-model-sqoop/pom.xml        | 43 ++++++++++
 .../apache/sentry/core/model/sqoop/Connector.java  | 48 +++++++++++
 .../org/apache/sentry/core/model/sqoop/Job.java    | 46 ++++++++++
 .../org/apache/sentry/core/model/sqoop/Link.java   | 46 ++++++++++
 .../org/apache/sentry/core/model/sqoop/Server.java | 47 +++++++++++
 .../core/model/sqoop/SqoopActionConstant.java      | 25 ++++++
 .../core/model/sqoop/SqoopActionFactory.java       | 98 ++++++++++++++++++++++
 .../sentry/core/model/sqoop/SqoopAuthorizable.java | 35 ++++++++
 .../sentry/core/model/sqoop/TestSqoopAction.java   | 78 +++++++++++++++++
 .../core/model/sqoop/TestSqoopAuthorizable.java    | 61 ++++++++++++++
 sentry-dist/pom.xml                                |  4 +
 13 files changed, 537 insertions(+)

commit f1f7812ff73b05799e058891d826c6502c28e8a5
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Mar 19 16:41:49 2015 +0800

    SENTRY-673: Keep consistent version of hadoop dependence (Dapeng Sun, reviewed by Guoquan Shen)

 pom.xml                                    | 5 +++++
 sentry-hdfs/sentry-hdfs-common/pom.xml     | 2 --
 sentry-provider/sentry-provider-db/pom.xml | 1 -
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 4ade98ac6dd41f14b238c96f46c979dd31a1afe7
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Mar 19 14:56:12 2015 +0800

    SENTRY-674: Update Apache Hive dependency to new release 1.1.0 (Prasad Mujumdar via Dapeng Sun)

 pom.xml                                                               | 2 +-
 .../apache/sentry/tests/e2e/metastore/TestMetaStoreWithPigHCat.java   | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit fd221580ad11998266f3e2436f7ccfd68317cbfb
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Wed Mar 18 09:37:08 2015 -0700

    SENTRY-669: Drop database Hive statement removes the DB privileges even if the operation fails (Ryan P via Prasad Mujumdar)

 .../sentry/binding/metastore/SentryMetastorePostEventListener.java       | 1 -
 1 file changed, 1 deletion(-)

commit 49cf58b334a87082791bd70c6732d3dd0129e724
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Tue Mar 17 16:19:52 2015 -0700

    SENTRY-654: Calls to append_partition fail when Sentry is enabled (Ryan P via Prasad Mujumdar)

 .../binding/metastore/MetastoreAuthzBinding.java   |  8 +++--
 ...stractMetastoreTestWithStaticConfiguration.java | 42 ++++++++++++++++------
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 21 +++++++++--
 3 files changed, 55 insertions(+), 16 deletions(-)

commit f5a99962ab8fb8a333d270f4b5059b2c791293b1
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Thu Mar 12 12:42:05 2015 +0800

    SENTRY-577: Orphan cleaner should remove privilege is not ALL, SELECT or INSERT (Xiaomeng Huang, reviewed by Guoquan Shen)

 .../apache/sentry/provider/db/service/persistent/SentryStore.java | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 925afae8964ebae76f61eba73d955bf0a7a787c2
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Mar 11 09:28:42 2015 +0800

    SENTRY-599: Sentry service may report incorrect status when service is restarting (Dapeng Sun, reviewed by Colin Ma)

 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 90ea9aca11cc36de90c081d70588b43386b3148a
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Mar 5 08:59:47 2015 -0800

    SENTRY-665: PathsUpdate.parsePath needs to handle special characters (Ryan P via Lenni Kuff)

 .../src/main/java/org/apache/sentry/hdfs/PathsUpdate.java           | 6 +++++-
 .../src/test/java/org/apache/sentry/hdfs/TestPathsUpdate.java       | 2 +-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit feb8cbee60e2d8d36667737d527c602de3e15d13
Author: Arun Suresh <Arun Suresh>
Date:   Wed Mar 4 11:52:53 2015 -0800

    SENTRY-664: Fix to ensure path updates are synced after namenode restart (Reviewed by Prasad)

 .../sentry/hdfs/SentryAuthorizationInfo.java       | 24 +++++++++++++++-------
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  9 ++++----
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 12 +++++++++++
 3 files changed, 33 insertions(+), 12 deletions(-)

commit dd9edc666b9f013f3c98094d47b63bc0a896855e
Author: Sun Dapeng <sdp@apache.org>
Date:   Sat Feb 28 10:41:10 2015 +0800

    SENTRY-578: Print detail error for TestHDFSIntegration when test failed (Dapeng Sun, reviewed by Xiaomeng Huang)

 .../java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 65470412038ab4e5f01b6dcaa78eeda79b23fb74
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Fri Feb 27 14:19:31 2015 -0800

    SENTRY-659: Periodic cleanup of ZK nodes (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    |  85 +++++++++++-
 .../apache/sentry/hdfs/TestPluginCacheSync.java    | 151 +++++++++++++++++++++
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |   2 +-
 3 files changed, 232 insertions(+), 6 deletions(-)

commit e52a24d313bcfc356732ce79f7768074efa690be
Author: Colin Ma <colin@apache.org>
Date:   Fri Feb 27 11:29:29 2015 +0800

    SENTRY-630: Improve test cases in TestViewPrivileges (reviewed by Prasad Mujumdar)

 .../sentry/tests/e2e/hive/TestViewPrivileges.java  | 89 +++++-----------------
 1 file changed, 20 insertions(+), 69 deletions(-)

commit fb783e930f12f5d57cecfcfcfd2ca5eb33502605
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Thu Feb 26 12:01:46 2015 -0800

    SENTRY-660: Support client principal and keytab configuration properties for Sentry HA to work with secure zookeeper. (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../org/apache/sentry/SentryUserException.java     |  1 +
 .../provider/db/service/persistent/HAContext.java  |  6 ++---
 .../service/thrift/HAClientInvocationHandler.java  | 30 ++++++++++++++--------
 .../sentry/service/thrift/ServiceConstants.java    |  5 +++-
 .../thrift/SentryServiceIntegrationBase.java       |  4 +++
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  |  5 ++--
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  8 +++---
 7 files changed, 40 insertions(+), 19 deletions(-)

commit 0f8e5e452572c4f6afbcd6a26733d2d682f178a9
Author: Colin Ma <colin@apache.org>
Date:   Thu Feb 26 14:05:28 2015 +0800

    SENTRY-638: Improve test cases in TestSentryStore (Reviewed by Dapeng Sun)

 .../db/service/persistent/SentryStore.java         | 18 ++++++++++++
 .../db/service/persistent/TestSentryStore.java     | 34 +++++++++++++---------
 2 files changed, 39 insertions(+), 13 deletions(-)

commit 124b6f5ca4b79765d25f3630af040b5ee58326a6
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Thu Feb 26 12:37:51 2015 +0800

    SENTRY-624: Add upgrade scripts for general privilege model (Reviewed by Colin Ma)

 .../src/main/resources/005-SENTRY-398.derby.sql    | 43 +++++++++++++++
 .../src/main/resources/005-SENTRY-398.mysql.sql    | 61 +++++++++++++++++++++
 .../src/main/resources/005-SENTRY-398.oracle.sql   | 55 +++++++++++++++++++
 .../src/main/resources/005-SENTRY-398.postgres.sql | 54 +++++++++++++++++++
 .../src/main/resources/sentry-db2-1.5.0.sql        | 43 +++++++++++++++
 .../src/main/resources/sentry-derby-1.5.0.sql      | 43 +++++++++++++++
 .../src/main/resources/sentry-mysql-1.5.0.sql      | 63 ++++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.5.0.sql     | 56 +++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.5.0.sql   | 56 +++++++++++++++++++
 .../sentry-upgrade-db2-1.4.0-to-1.5.0.sql          | 38 +++++++++++++
 .../sentry-upgrade-derby-1.4.0-to-1.5.0.sql        |  1 +
 .../sentry-upgrade-mysql-1.4.0-to-1.5.0.sql        |  1 +
 .../sentry-upgrade-oracle-1.4.0-to-1.5.0.sql       |  1 +
 .../sentry-upgrade-postgres-1.4.0-to-1.5.0.sql     |  1 +
 14 files changed, 516 insertions(+)

commit 5868e65e3b0f6d0ac24b9683fb4969415058194b
Author: Colin Ma <colin@apache.org>
Date:   Wed Feb 25 11:13:50 2015 +0800

    SENTRY-655: Improve test cases in SentryStoreIntegrationBase (Reviewed by Guoquan Shen)

 .../service/persistent/DelegateSentryStore.java    | 20 +++++++++
 .../persistent/SentryStoreIntegrationBase.java     | 47 ++++++++++------------
 .../persistent/TestDelegateSentryStore.java        | 15 +++++--
 .../TestPrivilegeOperatePersistence.java           | 16 +++-----
 4 files changed, 57 insertions(+), 41 deletions(-)

commit 3893e22dd879542419fd9da81fe548361f0821db
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Wed Feb 25 09:47:17 2015 +0800

    SENTRY-478: Solr Sentry plug-in integration with DB store (Guoquan Shen, reviewed by Lenni Kuff)

 sentry-binding/sentry-binding-solr/pom.xml         |   4 +
 .../binding/solr/authz/SolrAuthzBinding.java       |  46 ++++
 .../sentry/core/model/search/SearchConstants.java  |   8 +-
 .../policy/search/SimpleSearchPolicyEngine.java    |   2 +-
 .../provider/common/AuthorizationComponent.java    |  24 ++
 .../service/thrift/SearchPolicyServiceClient.java  | 159 ++++++++++++
 .../service/thrift/SearchProviderBackend.java      | 141 +++++++++++
 .../solr/handler/SecureRequestHandlerUtil.java     |  12 +
 .../handler/admin/SecureCollectionsHandler.java    |  10 +
 .../sentry/SentryIndexAuthorizationSingleton.java  |  13 +
 sentry-tests/sentry-tests-solr/pom.xml             |   5 +
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |  41 ++-
 .../AbstractSolrSentryTestWithDbProvider.java      | 275 +++++++++++++++++++++
 .../db/integration/TestSolrAdminOperations.java    | 236 ++++++++++++++++++
 .../db/integration/TestSolrDocLevelOperations.java | 204 +++++++++++++++
 .../db/integration/TestSolrQueryOperations.java    |  96 +++++++
 .../db/integration/TestSolrUpdateOperations.java   | 105 ++++++++
 17 files changed, 1356 insertions(+), 25 deletions(-)

commit 603ca89985db8623ff899d0f685c2c14b860c99e
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Wed Feb 25 09:43:58 2015 +0800

    SENTRY-636: Inaccurate log level in HiveServerFactory.java (Dapeng Sun via Guoquan Shen)

 .../apache/sentry/tests/e2e/hive/hiveserver/HiveServerFactory.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 36aae7ad78456a950a4ec65d00c958ec446d9708
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Tue Feb 24 08:44:04 2015 -0800

    SENTRY-658: Connection leak in Hive biding with Sentry service (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   3 +
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  14 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  49 +------
 .../metastore/SentryMetaStoreFilterHook.java       |  10 ++
 .../sentry/service/thrift/SentryService.java       |  19 +++
 .../tests/e2e/dbprovider/TestDbConnections.java    | 144 +++++++++++++++++++++
 .../tests/e2e/minisentry/InternalSentrySrv.java    | 109 ++++++++++++++++
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  21 +++
 8 files changed, 317 insertions(+), 52 deletions(-)

commit 0693dfb21866bdf4cea6a58be00548d241d96445
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Sat Feb 21 18:14:25 2015 -0800

    SENTRY-632: Support Sentry cache sync via ZK (Prasad Mujumdar, reviewed by Arun Suresh

 .../binding/metastore/MetastoreAuthzBinding.java   |  15 ++
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  20 ++-
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |  15 ++
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   6 +-
 .../org/apache/sentry/hdfs/ThriftSerializer.java   |  56 ++++++++
 .../java/org/apache/sentry/hdfs/Updateable.java    |  14 +-
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  10 +-
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  11 +-
 sentry-hdfs/sentry-hdfs-service/pom.xml            |   4 +
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |   5 +-
 .../apache/sentry/hdfs/MetastorePluginWithHA.java  |  93 +++++++++++++
 .../apache/sentry/hdfs/PluginCacheSyncUtil.java    | 151 +++++++++++++++++++++
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |   6 +-
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  34 +++--
 .../org/apache/sentry/hdfs/UpdateForwarder.java    | 113 ++++++++++-----
 .../apache/sentry/hdfs/UpdateForwarderWithHA.java  | 140 +++++++++++++++++++
 .../apache/sentry/hdfs/UpdateablePermissions.java  |   6 +
 .../apache/sentry/hdfs/TestHAUpdateForwarder.java  |  68 ++++++++++
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |  70 +++++++---
 .../provider/db/service/persistent/HAContext.java  |  47 ++++++-
 .../db/service/persistent/ServiceManager.java      |   8 +-
 .../db/service/persistent/ServiceRegister.java     |   4 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   4 +-
 .../service/thrift/HAClientInvocationHandler.java  |   4 +-
 .../sentry/service/thrift/ServiceConstants.java    |  40 +++---
 .../persistent/TestSentryServiceDiscovery.java     |   6 +-
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  15 ++
 .../tests/e2e/hdfs/TestHDFSIntegrationWithHA.java  |  28 ++++
 28 files changed, 877 insertions(+), 116 deletions(-)

commit 169d337f1ed5febb89be0263071265ae8eb68246
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Feb 20 12:48:56 2015 -0800

    SENTRY-652: Sentry fails to parse spaces when HDFS ACL sync enabled (Ryan P via Lenni Kuff)

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  2 +-
 .../org/apache/sentry/hdfs/TestPathsUpdate.java    | 33 ++++++++++++++++++++++
 2 files changed, 34 insertions(+), 1 deletion(-)

commit 36274c25c14370917981a53f63d8348a0c4a8bc4
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Fri Feb 20 00:38:32 2015 -0800

    SENTRY-648: Add e2e tests for Sentry HA (Prasad Mujumdar reviewed by Lenni Kuff)

 .../db/service/persistent/ServiceManager.java      |  24 ++-
 .../service/thrift/HAClientInvocationHandler.java  |  50 +++---
 .../sentry/service/thrift/SentryService.java       |  24 ++-
 .../sentry/service/thrift/ServiceConstants.java    |   2 +-
 .../apache/sentry/tests/e2e/ha/TestHaEnd2End.java  | 171 +++++++++++++++++++++
 .../hive/AbstractTestWithStaticConfiguration.java  |  62 ++++----
 .../tests/e2e/minisentry/InternalSentrySrv.java    | 164 ++++++++++++++++++++
 .../sentry/tests/e2e/minisentry/SentrySrv.java     |  79 ++++++++++
 .../tests/e2e/minisentry/SentrySrvFactory.java     |  45 ++++++
 9 files changed, 564 insertions(+), 57 deletions(-)

commit 427705ff8a7acb3ccdfb195a3ff0a24d26135438
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Feb 10 15:57:13 2015 -0800

    SENTRY-651: Add policy engine for lily hbase indexer

 pom.xml                                            |   5 +
 sentry-dist/pom.xml                                |   4 +
 sentry-policy/pom.xml                              |   1 +
 sentry-policy/sentry-policy-indexer/pom.xml        |  87 +++++++++
 .../indexer/AbstractIndexerPrivilegeValidator.java |  50 +++++
 .../policy/indexer/IndexerModelAuthorizables.java  |  48 +++++
 .../policy/indexer/IndexerRequiredInPrivilege.java |  43 +++++
 .../policy/indexer/IndexerWildcardPrivilege.java   | 146 +++++++++++++++
 .../policy/indexer/SimpleIndexerPolicyEngine.java  | 102 ++++++++++
 .../indexer/AbstractTestIndexerPolicyEngine.java   | 129 +++++++++++++
 .../policy/indexer/IndexerPolicyFileBackend.java   |  28 +++
 ...stIndexerAuthorizationProviderGeneralCases.java | 179 ++++++++++++++++++
 ...stIndexerAuthorizationProviderSpecialCases.java |  82 +++++++++
 .../indexer/TestIndexerModelAuthorizables.java     |  53 ++++++
 .../policy/indexer/TestIndexerPolicyEngineDFS.java |  74 ++++++++
 .../indexer/TestIndexerPolicyEngineLocalFS.java    |  43 +++++
 .../policy/indexer/TestIndexerPolicyNegative.java  | 101 ++++++++++
 .../policy/indexer/TestIndexerRequiredInRole.java  |  63 +++++++
 .../indexer/TestIndexerWildcardPrivilege.java      | 205 +++++++++++++++++++++
 .../src/test/resources/log4j.properties            |  31 ++++
 .../src/test/resources/test-authz-provider.ini     |  31 ++++
 .../search/TestSearchModelAuthorizables.java       |   2 +-
 22 files changed, 1506 insertions(+), 1 deletion(-)

commit 149b4dc75c2cee9a7b842591a0ddea11493b6e34
Author: Colin Ma <colin@apache.org>
Date:   Sun Feb 15 08:56:12 2015 +0800

    SENTRY-629: Improve test cases in TestPrivilegesAtTableScope (Reviewed by Xiaomeng)

 .../dbprovider/TestDbPrivilegesAtTableScope.java   |   2 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 408 ++++-----------------
 2 files changed, 80 insertions(+), 330 deletions(-)

commit 155d8d630b3e369b2563edd0ec0ffca7fce6cc45
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Feb 12 13:12:29 2015 -0800

    SENTRY-653: Add simple Indexer model object test for sentry-core-model-indexer

 .../apache/sentry/core/indexer/TestIndexer.java    | 50 ++++++++++++++++++++++
 1 file changed, 50 insertions(+)

commit 1190a792bef043a7d94bbe0b5f873b6e7008761a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Feb 12 00:50:32 2015 -0800

    SENTRY-650: Support drop privilege for truncate table (Prasad Mujumdar, reviewed by Colin Ma)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  7 ++
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 87 ++++++++++++++++++++++
 2 files changed, 94 insertions(+)

commit a4ca17d57605ba33af4ed541d5f4b1b5ec01bdbd
Author: Colin Ma <colin@apache.org>
Date:   Thu Feb 12 15:46:01 2015 +0800

    SENTRY-635: Improve test cases in TestPerDBConfiguration (Reviewed by Xiaomeng)

 .../hive/AbstractTestWithStaticConfiguration.java  |   6 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     | 273 ++++++++-------------
 .../e2e/hive/TestPrivilegesAtColumnScope.java      |  14 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   7 +-
 4 files changed, 107 insertions(+), 193 deletions(-)

commit 3f98471282f002f641b3e0854a83cecb1273bd2b
Author: Sun Dapeng <sdp@apache.org>
Date:   Thu Feb 12 09:48:58 2015 +0800

    SENTRY-609: [Unit Test] Many tests failing with error "The root scratch dir: /tmp/hive on HDFS should be writable. Current permissions are: rwxr-xr-x" (Reviewed by Colin Ma)

 pom.xml                                                |  3 +++
 .../hive/TestSentryHiveAuthorizationTaskFactory.java   | 17 +++++++++++++++++
 .../java/org/apache/sentry/binding/hive/TestURI.java   | 18 ++++++++++++++++++
 .../tests/e2e/hive/hiveserver/HiveServerFactory.java   | 15 +++++++++++++++
 .../tests/e2e/hive/hiveserver/InternalHiveServer.java  |  4 +++-
 5 files changed, 56 insertions(+), 1 deletion(-)

commit adf02be4cc3ea8d77cdf2ffbcff8388674b25681
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Tue Feb 10 15:29:11 2015 -0800

    SENTRY-640: Add core model for lily hbase indexer

 pom.xml                                            |  5 ++
 sentry-core/pom.xml                                |  1 +
 sentry-core/sentry-core-model-indexer/pom.xml      | 43 ++++++++++++
 .../apache/sentry/core/model/indexer/Indexer.java  | 51 ++++++++++++++
 .../core/model/indexer/IndexerActionFactory.java   | 80 ++++++++++++++++++++++
 .../core/model/indexer/IndexerConstants.java       | 25 +++++++
 .../core/model/indexer/IndexerModelAction.java     | 39 +++++++++++
 .../model/indexer/IndexerModelAuthorizable.java    | 28 ++++++++
 .../core/indexer/TestIndexerBitFieldAction.java    | 75 ++++++++++++++++++++
 sentry-core/sentry-core-model-search/pom.xml       |  2 +-
 sentry-dist/pom.xml                                |  4 ++
 11 files changed, 352 insertions(+), 1 deletion(-)

commit 08adb2cbc16b2e49721a0eed23bd687490eb2b8f
Author: Guoquan Shen <guoquan.shen@intel.com>
Date:   Tue Feb 10 13:24:05 2015 +0800

    SENTRY-357: Not able to read policy files on HDFS for Solr (Reviewed by Gregory Chanan)

 pom.xml                                            |  6 ++++
 sentry-binding/sentry-binding-solr/pom.xml         | 22 ++++++++++++++
 .../binding/solr/authz/SolrAuthzBinding.java       |  4 +--
 .../apache/sentry/binding}/solr/HdfsTestUtil.java  | 28 ++++++------------
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 34 ++++++++++++++++++++++
 .../HadoopGroupResourceAuthorizationProvider.java  |  5 ++++
 .../HadoopGroupResourceAuthorizationProvider.java  |  5 ++++
 .../LocalGroupResourceAuthorizationProvider.java   |  5 ++++
 sentry-tests/sentry-tests-solr/pom.xml             | 20 ++++---------
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |  1 +
 10 files changed, 94 insertions(+), 36 deletions(-)

commit 2f579e9e50a12f68ae32237661e5a1c1e2815a83
Author: Sun Dapeng <sdp@apache.org>
Date:   Wed Feb 4 10:55:28 2015 +0800

    SENTRY-571: Enable TestPrivilegesAtFunctionScope (Reviewed by Lenni Kuff)

 .../org/apache/sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java | 2 --
 1 file changed, 2 deletions(-)

commit c80ea5c404321884ed749a5c4a151264c8821116
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Wed Feb 4 10:21:24 2015 +0800

    SENTRY-617: Improve grant role to groups (Reviewed by Colin Ma)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 20 ++++---
 .../service/thrift/SentryPolicyServiceClient.java  | 10 +++-
 .../SentryPolicyServiceClientDefaultImpl.java      | 42 +++++++++++---
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 66 ++++++++++++++++++++++
 4 files changed, 121 insertions(+), 17 deletions(-)

commit 5b6a7aeae1fcf031356e3b20f4273f3181741685
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Wed Feb 4 10:14:50 2015 +0800

    SENTRY-633: Refactor SentryServiceIntegrationBase to reduce test time (Reviewed by Colina Ma)

 .../TestSentryGenericServiceIntegration.java       |  27 +++--
 .../db/service/thrift/SentryMiniKdcTestcase.java   |  20 ++--
 .../thrift/TestConnectionWithTicketTimeout.java    |  12 ++-
 .../TestSentryServerForHaWithoutKerberos.java      |  14 ++-
 .../thrift/TestSentryServerWithoutKerberos.java    |  11 +-
 .../thrift/TestSentryServiceFailureCase.java       |  20 +++-
 .../thrift/TestSentryServiceForHAWithKerberos.java |  24 ++++-
 .../thrift/TestSentryServiceIntegration.java       |  13 +--
 .../thrift/TestSentryServiceWithKerberos.java      |  26 +++--
 .../thrift/TestSentryWebServerWithKerberos.java    |  19 +++-
 .../thrift/TestSentryWebServerWithoutSecurity.java |  19 +++-
 .../thrift/SentryServiceIntegrationBase.java       | 116 ++++++++++++---------
 12 files changed, 209 insertions(+), 112 deletions(-)

commit f418035616c3afc659caf0cdd243527e30ef9095
Author: Colin Ma <colin@apache.org>
Date:   Wed Feb 4 09:11:49 2015 +0800

    SENTRY-625: Improve test cases in TestPrivilegesAtColumnScope (Reviewed by Xiaomeng)

 .../dbprovider/TestDbPrivilegesAtColumnScope.java  |   7 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  47 +-
 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 693 +++------------------
 3 files changed, 110 insertions(+), 637 deletions(-)

commit 4d6f6387672f5ba6da3aa61cc7b0a71088b2b70b
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Thu Jan 29 15:26:24 2015 +0800

    SENTRY-591: create table should have output privilege in DB scope (Reviewed by Prasad Mujumdar)

 .../org/apache/sentry/binding/hive/authz/HiveAuthzPrivilegesMap.java  | 2 +-
 .../java/org/apache/sentry/binding/hive/TestHiveAuthzBindings.java    | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c7c52424ffa3f065820d036ef5ddc92370eb3390
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Thu Jan 29 15:19:14 2015 +0800

    SENTRY-563: The interface listPrivilegesByRoleName may throw thrift exception if Authorizable is empty (Reviewed by Guoquan shen)

 .../db/service/thrift/SentryPolicyServiceClientDefaultImpl.java  | 2 +-
 .../db/service/thrift/TestSentryServerWithoutKerberos.java       | 9 ++++++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit 4ef1792c097dac4ddc08343e2ab0a9c3c810a8dc
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Mon Jan 26 14:44:22 2015 +0800

    SENTRY-576: Enable unit test TestSentryServiceIntegration.testListByAuthDB (Reviewed by Dapeng sun)

 .../provider/db/service/thrift/TestSentryServiceIntegration.java   | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 78eceb8fbd7f7958bafdc4c4d00f814aea6c82fd
Author: Sun Dapeng <sdp@apache.org>
Date:   Fri Jan 23 16:14:07 2015 +0800

    SENTRY-615: [Unit Test] Fix TestSentryWebServerWithKerberos#testPingWithUnauthorizedUser failed occasionally (Reviewed by Xiaomeng Huang)

 .../provider/db/service/thrift/SentryAuthFilter.java       |  2 +-
 .../db/service/thrift/TestSentryWebServerWithKerberos.java | 14 +++++++++++---
 2 files changed, 12 insertions(+), 4 deletions(-)

commit 86e18a10f3ddd29fde7f05afa9c0096775ec8240
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Fri Jan 23 10:24:54 2015 +0800

    SENTRY-594: Alter database should check output privilege instead of input (Reviewed by Lenni Kuff)

 .../org/apache/sentry/binding/hive/authz/HiveAuthzPrivilegesMap.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 382a93318fa78ceb0d43c0991af467710e8fe68b
Author: Ma Junjie <junjie.ma@intel.com>
Date:   Wed Jan 21 15:38:22 2015 +0800

    SENTRY-494: UNLOCK TABLE is not allowed (Reviewed by:Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   3 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  16 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  12 +-
 .../sentry/tests/e2e/hive/TestLockPrivileges.java  | 214 +++++++++++++++++++++
 4 files changed, 237 insertions(+), 8 deletions(-)

commit 56802bba0e420936a0c39467076b6e41f3139ed8
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Jan 20 09:02:21 2015 -0800

    SENTRY-614: Add Kerberos authentication and simple authorization support to Sentry webserver (Dapeng Sun via Lenni Kuff)
    
    Adds Kerberos authentication and simple authorization support to the Sentry webserver.
    New config options introduced are:
    
    Authentication:
    sentry.service.web.authentication.type - Selects authentication types (NONE/KERBEROS)
    sentry.service.web.authentication.kerberos.principal - The principal name
    sentry.service.web.authentication.kerberos.keytab - Path to the keytab file
    
    Authorization:
    sentry.service.web.authentication.allow.connect.users - Comma-separated list of users
    allowed to connect.

 .../db/service/thrift/SentryAuthFilter.java        |  90 ++++++++++++++++
 .../db/service/thrift/SentryWebServer.java         |  73 ++++++++++++-
 .../sentry/service/thrift/SentryService.java       |   2 +-
 .../sentry/service/thrift/ServiceConstants.java    |   9 +-
 .../thrift/TestSentryWebServerWithKerberos.java    | 113 +++++++++++++++++++++
 .../thrift/TestSentryWebServerWithoutSecurity.java |  44 ++++++++
 .../thrift/SentryServiceIntegrationBase.java       |  24 +++++
 7 files changed, 352 insertions(+), 3 deletions(-)

commit 1f8ba5f7b1b5d09be00014fd984fd921f15bc829
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Tue Jan 20 14:38:55 2015 +0800

    Seperate udfuri privilege from anyPrivilege model (Xiaomeng Huang via Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 39 +++++++++++-----------
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  2 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 17 +++++++---
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  8 ++---
 4 files changed, 36 insertions(+), 30 deletions(-)

commit ca09fe03d9d0a95694a3f67e1b34f6f95d0e49c2
Author: Sun Dapeng <sdp@apache.org>
Date:   Tue Jan 20 10:53:02 2015 +0800

    test commit

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1daf731af3af522b4a8b4c5a41f24b9b21a7e91e
Author: Ma Junjie <junjie.ma@intel.com>
Date:   Tue Jan 20 10:35:02 2015 +0800

    test commit

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 365b2421fa75830a224e2abcca02e8e72672c535
Author: Huang Xiaomeng <xiaomeng.huang@intel.com>
Date:   Tue Jan 20 10:28:24 2015 +0800

    test commit

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 36ac1ec911aa7a0f05532c63210db8eed61d8ee2
Author: guoquans <guoquan.shen@intel.com>
Date:   Tue Jan 20 10:24:26 2015 +0800

    test commit

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 78b61c9af900ee194ad733befd43e40602a5822f
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Mon Jan 12 09:21:38 2015 -0800

    SENTRY-595: [UnitTest] In Kerberos mode, client should run under clientSubject (Dapeng Sun via Lenni Kuff)

 .../TestSentryGenericServiceIntegration.java       |  593 +++++----
 .../thrift/TestSentryServiceIntegration.java       | 1346 ++++++++++----------
 .../thrift/SentryServiceIntegrationBase.java       |   17 +
 3 files changed, 1037 insertions(+), 919 deletions(-)

commit 6cb65f9f3bb282c2c0086649fbc7fe168972bf75
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Jan 9 15:06:43 2015 -0800

    SENTRY-604: Clean duplicate dependencies in poms (Dapeng Sun via Lenni Kuff)

 pom.xml                                    | 5 -----
 sentry-provider/sentry-provider-db/pom.xml | 4 ----
 sentry-tests/sentry-tests-hive/pom.xml     | 6 ------
 3 files changed, 15 deletions(-)

commit 890456b9c6312b3f7663b636b28e5d079e13c410
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Dec 24 17:01:22 2014 -0800

    SENTRY-602: Pre commit build script should update the snapshot dependencies (Reviewed by:Prasad Mujumdar)

 dev-support/test-patch.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd2c5514b79e599f1564f13e11845434abb8dab7
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Dec 24 16:59:29 2014 -0800

    SENTRY-598: Hive binding should support enforcing URI privilege for transforms ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  3 +-
 .../binding/hive/HiveAuthzBindingPreExecHook.java  | 72 ----------------------
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  5 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  9 +--
 .../apache/sentry/core/common/utils/PathUtils.java |  1 +
 .../sentry/core/common/utils/TestPathUtils.java    |  4 --
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   | 20 ++++--
 .../tests/e2e/hive/TestServerConfiguration.java    |  4 +-
 8 files changed, 23 insertions(+), 95 deletions(-)

commit bf3eb482e55f8cf29f9b87a190ee585e3e5f7e2f
Author: Arun Suresh <Arun Suresh>
Date:   Thu Dec 18 21:01:48 2014 -0800

    SENTRY-398: Generic authorization model for Sentry (shenguoquan via Arun Suresh)

 .../java/org/apache/sentry/core/common/Action.java |    1 +
 .../apache/sentry/core/common/BitFieldAction.java  |   75 +
 .../sentry/core/common/BitFieldActionFactory.java  |   37 +
 .../org/apache/sentry/core/model/search/Field.java |   54 +
 .../core/model/search/SearchActionFactory.java     |   80 +
 .../core/model/search/SearchModelAuthorizable.java |    3 +-
 .../core/search/TestSearchBitFieldAction.java      |   75 +
 sentry-provider/sentry-provider-db/pom.xml         |    8 +
 .../service/thrift/SentryGenericPolicyService.java | 8966 ++++++++++++++++++++
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  841 ++
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |  387 +
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  841 ++
 .../TAlterSentryRoleDeleteGroupsResponse.java      |  387 +
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  794 ++
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |  387 +
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  794 ++
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |  387 +
 .../db/generic/service/thrift/TAuthorizable.java   |  486 ++
 .../service/thrift/TCreateSentryRoleRequest.java   |  688 ++
 .../service/thrift/TCreateSentryRoleResponse.java  |  387 +
 .../service/thrift/TDropPrivilegesRequest.java     |  693 ++
 .../service/thrift/TDropPrivilegesResponse.java    |  387 +
 .../service/thrift/TDropSentryRoleRequest.java     |  688 ++
 .../service/thrift/TDropSentryRoleResponse.java    |  387 +
 .../TListSentryPrivilegesForProviderRequest.java   | 1010 +++
 .../TListSentryPrivilegesForProviderResponse.java  |  540 ++
 .../thrift/TListSentryPrivilegesRequest.java       |  953 +++
 .../thrift/TListSentryPrivilegesResponse.java      |  551 ++
 .../service/thrift/TListSentryRolesRequest.java    |  697 ++
 .../service/thrift/TListSentryRolesResponse.java   |  551 ++
 .../service/thrift/TRenamePrivilegesRequest.java   |  998 +++
 .../service/thrift/TRenamePrivilegesResponse.java  |  387 +
 .../service/thrift/TSentryActiveRoleSet.java       |  536 ++
 .../generic/service/thrift/TSentryGrantOption.java |   48 +
 .../generic/service/thrift/TSentryPrivilege.java   | 1076 +++
 .../db/generic/service/thrift/TSentryRole.java     |  538 ++
 .../thrift/sentry_common_serviceConstants.java     |    2 +
 .../service/persistent/DelegateSentryStore.java    |  447 +
 .../service/persistent/PrivilegeObject.java        |  221 +
 .../persistent/PrivilegeOperatePersistence.java    |  413 +
 .../service/persistent/SentryStoreLayer.java       |  175 +
 .../service/thrift/NotificationHandler.java        |   63 +
 .../service/thrift/NotificationHandlerInvoker.java |  180 +
 .../thrift/SentryGenericPolicyProcessor.java       |  549 ++
 .../SentryGenericPolicyProcessorFactory.java       |   41 +
 .../service/thrift/SentryGenericServiceClient.java |  536 ++
 .../db/service/model/MSentryGMPrivilege.java       |  484 ++
 .../provider/db/service/model/MSentryRole.java     |   36 +-
 .../sentry/provider/db/service/model/package.jdo   |   88 +-
 .../db/service/persistent/SentryStore.java         |   14 +-
 .../db/service/thrift/PolicyStoreConstants.java    |    5 +-
 .../sentry/service/thrift/ServiceConstants.java    |    5 +-
 .../main/resources/sentry_common_service.thrift    |    1 +
 .../resources/sentry_generic_policy_service.thrift |  231 +
 .../persistent/SentryStoreIntegrationBase.java     |   95 +
 .../persistent/TestDelegateSentryStore.java        |  175 +
 .../TestPrivilegeOperatePersistence.java           |  909 ++
 .../service/persistent/TestSentryGMPrivilege.java  |  207 +
 .../generic/service/persistent/TestSentryRole.java |  373 +
 .../thrift/TestSentryGenericPolicyProcessor.java   |  316 +
 .../TestSentryGenericServiceIntegration.java       |  439 +
 61 files changed, 31705 insertions(+), 18 deletions(-)

commit 60bb10037aa0f5fc197262316e7c5040987874c1
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed Dec 17 18:06:28 2014 -0800

    SENTRY-574: Add Sentry solr handler (Prasad Mujumdar via Gregory Chanan)

 pom.xml                                            |  45 +-
 sentry-dist/pom.xml                                |   4 +
 sentry-dist/src/main/assembly/bin.xml              |   1 +
 sentry-dist/src/main/assembly/src.xml              |   2 +
 sentry-solr/pom.xml                                |  36 ++
 sentry-solr/solr-sentry-handlers/pom.xml           | 118 +++++
 .../SecureDocumentAnalysisRequestHandler.java      |  32 ++
 .../handler/SecureFieldAnalysisRequestHandler.java |  32 ++
 .../solr/handler/SecureReplicationHandler.java     |  37 ++
 .../solr/handler/SecureRequestHandlerUtil.java     |  72 +++
 .../solr/handler/admin/SecureAdminHandlers.java    | 186 ++++++++
 .../handler/admin/SecureCollectionsHandler.java    |  81 ++++
 .../solr/handler/admin/SecureCoreAdminHandler.java | 155 +++++++
 .../solr/handler/admin/SecureInfoHandler.java      |  39 ++
 .../component/QueryDocAuthorizationComponent.java  | 118 +++++
 .../QueryIndexAuthorizationComponent.java          |  82 ++++
 .../sentry/SentryIndexAuthorizationSingleton.java  | 193 ++++++++
 .../UpdateIndexAuthorizationProcessor.java         |  97 ++++
 .../UpdateIndexAuthorizationProcessorFactory.java  |  42 ++
 .../src/main/resources/log4j.properties            |  29 ++
 .../sentry-handlers/sentry/test-authz-provider.ini |  35 ++
 .../solr/collection1/conf/schema-minimal.xml       |  25 ++
 .../collection1/conf/solrconfig-secureadmin.xml    | 494 +++++++++++++++++++++
 .../solr/collection1/conf/solrconfig.xml           | 436 ++++++++++++++++++
 .../sentry-handlers/solr/collection1/lib/README    |  18 +
 .../lib/classes/empty-file-main-lib.txt            |   1 +
 .../solr/handler/TestSecureAnalysisHandlers.java   |  82 ++++
 .../solr/handler/TestSecureReplicationHandler.java |  64 +++
 .../handler/admin/SecureAdminHandlersTest.java     | 182 ++++++++
 .../admin/SecureCollectionsHandlerTest.java        |  84 ++++
 .../handler/admin/SecureCoreAdminHandlerTest.java  | 173 ++++++++
 .../solr/handler/admin/SecureInfoHandlerTest.java  | 105 +++++
 .../QueryDocAuthorizationComponentTest.java        | 266 +++++++++++
 .../QueryIndexAuthorizationComponentTest.java      | 128 ++++++
 .../SentryIndexAuthorizationSingletonTest.java     | 235 ++++++++++
 .../solr/sentry/SentrySingletonTestInstance.java   |  94 ++++
 .../org/apache/solr/sentry/SentryTestBase.java     | 179 ++++++++
 .../UpdateIndexAuthorizationProcessorTest.java     | 181 ++++++++
 sentry-tests/sentry-tests-solr/pom.xml             |   2 +-
 39 files changed, 4179 insertions(+), 6 deletions(-)

commit 4796ec9b4d7a7004487408d3843792846587f629
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Dec 16 20:51:07 2014 -0800

    SENTRY-586: Remove remaining cdh hive dependence in pom.xml (Dapeng Sun via Prasad Mujumdar)

 sentry-provider/sentry-provider-db/pom.xml | 1 -
 1 file changed, 1 deletion(-)

commit 66eef78f2b3207c72cfb399918d0d09a9c3f72c8
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Dec 12 18:21:23 2014 -0800

    Change Hive version to Apache Hive 0.15 for authorization V2 (Prasad Mujumdar, reviewed by Lenni Kuff)

 pom.xml                                            |  53 +++++-
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |   9 -
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  41 ++---
 .../binding/hive/HiveAuthzBindingSessionHook.java  |   9 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  36 ++--
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   6 +-
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   4 +-
 .../binding/metastore/AuthorizingObjectStore.java  |   4 +-
 .../binding/metastore/MetastoreAuthzBinding.java   |   4 +-
 .../metastore/SentryMetaStoreFilterHook.java       | 196 +++++++++++++++++++++
 .../binding/hive/TestHiveAuthzBindingHook.java     |  86 ---------
 .../sentry/binding/hive/TestHiveAuthzBindings.java |   4 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    |  46 +++++
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |   4 -
 sentry-provider/sentry-provider-db/.gitignore      |   1 +
 sentry-tests/sentry-tests-hive/pom.xml             | 109 +++++-------
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   8 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |   9 +-
 .../sentry/tests/e2e/hive/TestOperations.java      |  10 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |   8 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  25 ++-
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |  10 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  20 ++-
 .../e2e/hive/hiveserver/InternalHiveServer.java    |   9 +-
 .../hive/hiveserver/InternalMetastoreServer.java   |   5 -
 ...stractMetastoreTestWithStaticConfiguration.java |   3 +-
 .../e2e/metastore/TestAuthorizingObjectStore.java  |  85 ++++-----
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |   6 +
 sentry-tests/sentry-tests-hive/testutil/hadoop     | 107 +++++++++++
 30 files changed, 604 insertions(+), 315 deletions(-)

commit d3ff8d05197837972dbf612e5bf88b98f269b2c2
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Dec 12 09:46:42 2014 -0800

    SENTRY-579: Clean duplicate declaration of dependences in poms (Dapeng Sun via Lenni Kuff)

 pom.xml                                       | 5 -----
 sentry-binding/sentry-binding-hive/pom.xml    | 8 --------
 sentry-provider/sentry-provider-cache/pom.xml | 4 ----
 sentry-provider/sentry-provider-db/pom.xml    | 4 ----
 sentry-tests/sentry-tests-hive/pom.xml        | 8 --------
 5 files changed, 29 deletions(-)

commit 02f46d227a69bc1a43cabb451f75c84b5562d0c0
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Wed Dec 10 19:16:41 2014 -0800

    SENTRY-575: Table GRANTS should not Override Database GRANT in the Sentry HDFS Namenode plugin (Reviewed by Lenni Kuff)

 .../src/main/java/org/apache/sentry/hdfs/SentryPermissions.java     | 6 ++----
 .../java/org/apache/sentry/tests/e2e/hdfs/TestHDFSIntegration.java  | 4 ++++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 71b889ad90a31ce992f587799f6f190a4a89bb3a
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Mon Dec 8 19:13:52 2014 -0800

    SENTRY-573: Fix NPE caused when rename op is applied on authzObject with no explicit permissions

 .../sentry/hdfs/UpdateableAuthzPermissions.java    | 23 ++++++++++++++--------
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 10 ++++++++++
 2 files changed, 25 insertions(+), 8 deletions(-)

commit 2ad16d05577ccef77b509da75c77bf040ba9b234
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Dec 8 16:51:56 2014 -0800

    SENTRY-501: High availability for the SENTRY service(Zookeeper part) (Dapeng Sun via Prasad Mujumdar)

 pom.xml                                            |  21 +
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  14 +-
 .../binding/hive/authz/SentryConfigTool.java       |   3 +-
 .../SentryMetastorePostEventListener.java          |   4 +-
 sentry-provider/sentry-provider-db/pom.xml         |  12 +
 .../provider/db/SimpleDBProviderBackend.java       |  10 +-
 .../persistent/FixedJsonInstanceSerializer.java    | 163 ++++
 .../provider/db/service/persistent/HAContext.java  | 183 +++++
 .../db/service/persistent/ServiceManager.java      |  83 ++
 .../db/service/persistent/ServiceRegister.java     |  55 ++
 .../service/thrift/SentryPolicyServiceClient.java  | 854 +++------------------
 .../SentryPolicyServiceClientDefaultImpl.java      | 782 +++++++++++++++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  21 +-
 .../service/thrift/HAClientInvocationHandler.java  | 121 +++
 .../sentry/service/thrift/JaasConfiguration.java   | 117 +++
 .../sentry/service/thrift/SentryService.java       |   1 +
 .../service/thrift/SentryServiceClientFactory.java |  22 +-
 .../sentry/service/thrift/ServiceConstants.java    |  21 +
 .../persistent/TestSentryServiceDiscovery.java     | 126 +++
 .../TestSentryServerForHaWithoutKerberos.java      | 177 +++++
 .../thrift/TestSentryServiceForHAWithKerberos.java |  50 ++
 .../thrift/TestSentryServiceIntegration.java       |  10 +-
 .../thrift/SentryServiceIntegrationBase.java       |  56 +-
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  84 +-
 .../dbprovider/TestPrivilegeWithHAGrantOption.java | 166 ++++
 .../hive/AbstractTestWithStaticConfiguration.java  |   3 +-
 .../sentry/tests/e2e/hive/TestPolicyImport.java    |   3 +-
 27 files changed, 2370 insertions(+), 792 deletions(-)

commit b376c9ab76191dcc9e18eb3d23ceaf2d9dc10738
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Mon Dec 8 14:42:16 2014 -0800

    SENTRY-572: Upgrade solr version to 4.10.2 (Reviewed by Prasad Mujumdar)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 297e6dadc7ad4180a6439b6950ec285f1174183e
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sun Dec 7 23:53:33 2014 -0800

    SENTRY-549: SentryStore should support more actions for drop/rename (Xiaomeng Huang via Lenni Kuff)

 .../db/service/persistent/SentryStore.java         | 54 ++++++++++-----
 .../db/service/persistent/TestSentryStore.java     | 76 +++++++++++++++++++++-
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   | 66 ++++++++++++++++++-
 3 files changed, 176 insertions(+), 20 deletions(-)

commit a2b6184d2e6cf05f039140684b64e52271330505
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Dec 6 00:36:12 2014 -0800

    SENTRY-422: The URI object handling needs to be more robust (Colin Ma via Lenni Kuff)

 sentry-core/sentry-core-model-db/pom.xml           |  5 ++++-
 .../org/apache/sentry/core/model/db/AccessURI.java | 22 +++++++++++++++++-----
 .../java/org/apache/sentry/core/db/TestURI.java    | 11 +++++++++++
 3 files changed, 32 insertions(+), 6 deletions(-)

commit 2d3ff339c08b511be33a25645bd2f13992113640
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Dec 6 00:29:23 2014 -0800

    SENTRY-442: Follow on review comments from SENTRY-331: Add more granular privs (Sravya Tirukkovalur via Lenni Kuff)

 .../apache/hadoop/hive/SentryHiveConstants.java    |  4 +---
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 26 +++++++++++-----------
 .../e2e/metastore/SentryPolicyProviderForDb.java   |  1 -
 3 files changed, 14 insertions(+), 17 deletions(-)

commit ea8663e98569d3919888ae8054ab1df0c7ae0423
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Sat Dec 6 00:18:04 2014 -0800

    SENTRY-547: Drop table may deadlock, getChildPrivileges should be in one transaction with revoke (Xiaomeng Huang via Lenni Kuff)

 .../db/service/persistent/SentryStore.java         | 108 ++++++++++-----------
 .../db/service/persistent/TestSentryStore.java     |  40 ++++++++
 2 files changed, 90 insertions(+), 58 deletions(-)

commit eb53de39e4d700f124e70526dc0ac63a696001d0
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Fri Dec 5 14:34:32 2014 -0800

    SENTRY-544: Do not add non HDFS path updates in Hive meta store Sentry plugin for HDFS sync (Sravya Tirukkovalur via Lenni Kuff)

 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |  20 +-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  10 +-
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  42 +++--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 209 ++++++++++++++++++---
 .../sentry/tests/e2e/hive/TestOperations.java      |   2 +
 5 files changed, 239 insertions(+), 44 deletions(-)

commit 58efe72a1bbd7706ffa470a6b084ec96f1916925
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Dec 4 16:59:37 2014 -0800

    SENTRY-564: Sentry metastore upgrade order is computed incorrectly (Sravya Tirukkovalur via Lenni Kuff)

 .../provider/db/service/persistent/SentryStoreSchemaInfo.java       | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 3cec83721319ba6d7ff9dc7ca1135bcd9aeb9c4a
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Dec 4 11:28:17 2014 -0800

    SENTRY-471: mvn eclipse:eclipse shouldn't default download the javadocs and source jars (shenguoquan via Lenni Kuff)

 pom.xml | 2 --
 1 file changed, 2 deletions(-)

commit 9da6a67330f179636d20f5719cd514e6fd8fe892
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Tue Dec 2 22:42:15 2014 -0800

    SENTRY-560: Sentry HDFS Syncup applies duplicate ACLs for the same scope, group and type (Reviewed by Lenni Kuff)

 .../sentry/hdfs/SentryAuthorizationInfo.java       | 10 ++++-
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 48 ++++++++++++++++------
 .../hdfs/TestSentryAuthorizationProvider.java      |  1 -
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 18 ++++++++
 4 files changed, 61 insertions(+), 16 deletions(-)

commit 02041c56dc1d2ef3a47cf6a2966c0850d3947236
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Tue Dec 2 14:40:07 2014 -0800

    SENTRY-559: Allow prefix paths to be associated with authorizable objects (Reviewed by Lenni Kuff)

 .../main/java/org/apache/sentry/hdfs/HMSPaths.java | 12 ++++++---
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  5 ++++
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  5 +++-
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  7 +++++
 .../sentry/hdfs/SentryAuthorizationInfo.java       | 26 ++++++++++++++++++-
 .../sentry/hdfs/SentryAuthorizationProvider.java   | 18 ++++++++++---
 .../sentry/hdfs/SentryAuthorizationInfoX.java      |  3 +--
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 30 ++++++++++++++++++++++
 8 files changed, 95 insertions(+), 11 deletions(-)

commit d88c157d83c10fdf66b76ead7b7c16fe60d82e26
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Dec 2 00:30:22 2014 -0800

    SENTRY-552: Sentry Store recursive revoke of privilege levels < ALL does not properly downgrade child privileges (Dapeng Sun via Lenni Kuff)

 .../db/service/model/MSentryPrivilege.java         |   5 +
 .../db/service/persistent/SentryStore.java         |  18 ++
 .../db/service/persistent/TestSentryStore.java     | 203 ++++++++++++++++++++-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  37 +++-
 4 files changed, 251 insertions(+), 12 deletions(-)

commit 437f6d96c3cfc6764668b56ef46f88c6e8f2ae80
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Dec 1 15:04:17 2014 -0800

    SENTRY-555: Make Metastore sync time period configurable (Arun Suresh via Lenni Kuff and Sravya Tirukkovalur)

 .../src/main/java/org/apache/sentry/hdfs/ServiceConstants.java        | 2 ++
 .../src/main/java/org/apache/sentry/hdfs/MetastorePlugin.java         | 4 +++-
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 5d2a0ce7f19f1ba86f67f5efb9523d9edf9525b8
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Mon Dec 1 13:36:44 2014 -0800

    SENTRY-553: Privilege implies() failed if parent is server privilge and child privilge is URI privilge (Xiaomeng Huang via Lenni Kuff)

 .../sentry/provider/db/service/model/MSentryPrivilege.java  |  4 ++--
 .../provider/db/service/persistent/TestSentryPrivilege.java | 13 +++++++++++++
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 86b20eba0670d6af5d5e0919ac780dc5ce5765ea
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Mon Dec 1 13:36:44 2014 -0800

    SENTRY-557: Handle Situation when Metastore restarts Listeners thereby resetting the sequenceCounter (Reviewed by : Lenni Kuff)

 .../org/apache/sentry/hdfs/MetastorePlugin.java    | 105 +++++++++++----------
 1 file changed, 57 insertions(+), 48 deletions(-)

commit c5cc86a802ba5e17e78df9ee7671ca42bb1fe465
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Mon Dec 1 13:35:44 2014 -0800

    SENTRY-556: Remove NPE logging when Sentry Service is not reachable (Reviewed by: Lenni Kuff)

 .../sentry/hdfs/SentryAuthorizationInfo.java       | 63 +++++++++++++---------
 1 file changed, 38 insertions(+), 25 deletions(-)

commit 3d3f96ca7939e687944f1426419db673f8797f3e
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Mon Dec 1 12:02:06 2014 -0800

    SENTRY-545: Disable privilege cleanup by default (Mike Yoder via Lenni Kuff)

 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java   | 2 +-
 .../apache/sentry/provider/db/service/persistent/TestSentryStore.java  | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 1a697a0909f1e43334bd36cf79c82b8c98b6f18a
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Mon Dec 1 10:49:29 2014 -0800

    SENTRY-555: Ensure groupName returned for dir objects within prefix but not associated with an authz object is not null

 .../sentry/hdfs/SentryAuthorizationProvider.java   | 29 ++++++++++------------
 1 file changed, 13 insertions(+), 16 deletions(-)

commit ac919b28dfb12730b22c27de0209d3da7897fccc
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Mon Nov 24 23:53:39 2014 -0800

    SENTRY-140: Orphaned privileges should be garbage collected (Mike Yoder via Lenni Kuff)

 .../db/service/persistent/SentryStore.java         | 236 ++++++++++++++++++++-
 .../sentry/service/thrift/ServiceConstants.java    |   5 +-
 .../db/service/persistent/TestSentryStore.java     | 102 +++++++++
 3 files changed, 341 insertions(+), 2 deletions(-)

commit 7701fd8e35779f8dd985c6eabe7b750224779f30
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Sun Nov 23 10:13:25 2014 -0800

    SENTRY-540: Fix Sentry test validating special chars in username due to HIVE-8916

 .../java/org/apache/sentry/tests/e2e/hive/TestUserManagement.java     | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dd971a1cd49b2e37e3bee966d47ca7e5145657bc
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Fri Nov 21 13:03:14 2014 -0800

    SENTRY-528: Dependent on multiple versions of servlet-api jars lead to throw an SecurityException when running solr e2e test in eclipse (guoquanshen via Gregory Chanan)

 sentry-tests/sentry-tests-solr/pom.xml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 06d6f3e54648a9da7a334f2ea695c38f5eced332
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Nov 20 15:31:49 2014 -0800

    SENTRY-536: Disable TestDPrivilegesAtFunctionScope from the cluster run profile (Prasad Mujumdar via Lenni Kuff)

 sentry-tests/sentry-tests-hive/pom.xml | 2 --
 1 file changed, 2 deletions(-)

commit 4bf55b881376abe1257678476150ca4c37c48596
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Nov 20 11:11:55 2014 -0800

    SENTRY-534: TestRuntimeMetadataRetrieval fails intermittently

 .../apache/sentry/provider/file/PolicyFile.java    |  1 -
 .../hive/AbstractTestWithStaticConfiguration.java  | 23 +++++++++++-----------
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  2 +-
 .../sentry/tests/e2e/hive/TestOperations.java      |  1 -
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  4 +++-
 5 files changed, 15 insertions(+), 16 deletions(-)

commit a8c878ab5f1b9fbfb28f7d985946913b155ebd64
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Wed Nov 19 21:53:21 2014 -0800

    SENTRY-526: Fix SentryStore so that Duplicate grant with same privilge but different case is handled correctly

 .../db/service/persistent/SentryStore.java         | 27 ++++++++++----------
 .../db/service/persistent/TestSentryStore.java     | 29 ++++++++++++++++++++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 15 +++++++++++
 3 files changed, 58 insertions(+), 13 deletions(-)

commit fa26a0b4f53345974c9339a4f37bf6e85f78d69c
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Nov 19 17:28:19 2014 -0800

    SENTRY-529: Test]org.apache.sentry.tests.e2e.hdfs.TestHDFSIntegrationtestEnd2End test fails after SENTRY-74 (Dapeng Sun via Prasad Mujumdar)

 .../java/org/apache/sentry/hdfs/SentryPlugin.java  | 28 ++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit d540ad385d77d9847c3e9ddccc81c48e589ee833
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Tue Nov 18 23:26:08 2014 -0800

    SENTRY-525: Fix TestHDFSIntegration test failure

 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java | 82 ++++++++++++++++------
 1 file changed, 59 insertions(+), 23 deletions(-)

commit 32e6715594a7a198d04f9dc4321288f5bd15b3e4
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Nov 18 10:38:17 2014 -0800

    SENTRY-328: Need to update DataNucleus version to support proper SQL generation for DB2 ( Tuong Truong via Sravya Tirukkovalur)

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 13e83d6e524e696ef973f251577e93f236e39cd9
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Nov 18 00:47:09 2014 -0800

    SENTRY-74: Add column-level privileges for Hive/Impala (Dapeng Sun and Xiaomeng Huang via Prasad Mujumdar)

 .../apache/hadoop/hive/SentryHiveConstants.java    |   1 -
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  52 +-
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |  12 +
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 109 ++-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  35 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   4 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   6 +-
 .../binding/hive/authz/SentryConfigTool.java       |  15 +
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  18 +-
 .../org/apache/sentry/core/model/db/Column.java    |  51 ++
 .../sentry/core/model/db/DBModelAuthorizable.java  |   1 +
 .../sentry/policy/db/DBModelAuthorizables.java     |   3 +
 .../common/ResourceAuthorizationProvider.java      |   5 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     | 217 ++++-
 .../TAlterSentryRoleGrantPrivilegeResponse.java    | 168 +++-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    | 217 ++++-
 .../thrift/TListSentryPrivilegesByAuthRequest.java |  68 +-
 .../TListSentryPrivilegesByAuthResponse.java       |  52 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  32 +-
 .../TListSentryPrivilegesForProviderResponse.java  |  32 +-
 .../thrift/TListSentryPrivilegesResponse.java      |  36 +-
 .../service/thrift/TListSentryRolesResponse.java   |  36 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |  32 +-
 .../db/service/thrift/TSentryAuthorizable.java     | 114 ++-
 .../db/service/thrift/TSentryPrivilege.java        | 117 ++-
 .../db/service/thrift/TSentryPrivilegeMap.java     |  76 +-
 .../provider/db/service/thrift/TSentryRole.java    |  36 +-
 .../db/log/entity/AuditMetadataLogEntity.java      |  15 +-
 .../db/log/entity/JsonLogEntityFactory.java        |  37 +-
 .../sentry/provider/db/log/util/CommandUtil.java   |  20 +-
 .../sentry/provider/db/log/util/Constants.java     |   1 +
 .../db/service/model/MSentryPrivilege.java         | 151 ++--
 .../sentry/provider/db/service/model/package.jdo   |   4 +
 .../db/service/persistent/SentryStore.java         | 148 ++-
 .../service/thrift/SentryPolicyServiceClient.java  | 230 ++++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  72 +-
 .../src/main/resources/004-SENTRY-74.derby.sql     |   4 +
 .../src/main/resources/004-SENTRY-74.mysql.sql     |   4 +
 .../src/main/resources/004-SENTRY-74.oracle.sql    |   4 +
 .../src/main/resources/004-SENTRY-74.postgres.sql  |   4 +
 .../src/main/resources/sentry-db2-1.5.0.sql        |   3 +-
 .../src/main/resources/sentry-derby-1.5.0.sql      |   3 +-
 .../src/main/resources/sentry-mysql-1.5.0.sql      |   6 +-
 .../src/main/resources/sentry-oracle-1.5.0.sql     |   5 +-
 .../src/main/resources/sentry-postgres-1.5.0.sql   |   5 +-
 .../sentry-upgrade-db2-1.4.0-to-1.5.0.sql          |   5 +
 .../sentry-upgrade-derby-1.4.0-to-1.5.0.sql        |   2 +
 .../sentry-upgrade-mysql-1.4.0-to-1.5.0.sql        |   1 +
 .../sentry-upgrade-oracle-1.4.0-to-1.5.0.sql       |   1 +
 .../sentry-upgrade-postgres-1.4.0-to-1.5.0.sql     |   1 +
 .../main/resources/sentry_policy_service.thrift    |   9 +-
 .../db/log/entity/TestAuditMetadataLogEntity.java  |   3 +-
 .../db/log/entity/TestJsonLogEntityFactory.java    |  58 +-
 .../provider/db/log/util/TestCommandUtil.java      |  50 +-
 .../db/service/persistent/TestSentryPrivilege.java |  47 +
 .../db/service/persistent/TestSentryStore.java     | 296 ++++++
 .../persistent/TestSentryStoreToAuthorizable.java  |  22 +-
 .../thrift/TestSentryServiceIntegration.java       |  64 ++
 .../tests/e2e/dbprovider/TestColumnEndToEnd.java   | 247 +++++
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 141 ++-
 .../dbprovider/TestDbPrivilegesAtColumnScope.java  |  39 +
 .../hive/AbstractTestWithStaticConfiguration.java  |  10 +-
 .../sentry/tests/e2e/hive/TestConfigTool.java      |  68 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java |  10 +
 .../sentry/tests/e2e/hive/TestPolicyImport.java    |  40 +-
 .../e2e/hive/TestPrivilegesAtColumnScope.java      | 992 +++++++++++++++++++++
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   1 +
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   9 +-
 68 files changed, 3826 insertions(+), 551 deletions(-)

commit aab78731a7a7e8de1ed5344bef94152ac83d6207
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Nov 13 09:38:03 2014 -0800

    SENTRY-408: The URI permission should support more filesystem prefixes (Colin Ma via Lenni Kuff)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   2 +-
 sentry-core/sentry-core-common/pom.xml             |   5 +
 .../apache/sentry/core/common/utils/PathUtils.java | 118 ++++++++++-----------
 .../sentry/core/common/utils/TestPathUtils.java    |  42 ++++++++
 4 files changed, 103 insertions(+), 64 deletions(-)

commit a79e39a53e0311f98f5a5d08fe156beda8b669d4
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Thu Nov 13 09:12:53 2014 -0800

    SENTRY-523: Add maven-thrift-plugin back into provider-db pom.xml (Dapeng Sun via Arun Suresh)

 sentry-provider/sentry-provider-db/pom.xml | 64 +++++++++++++++++++++++++++++-
 1 file changed, 63 insertions(+), 1 deletion(-)

commit 2e509e4bc4f06e1c207d5702aad55b290ef390a4
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Nov 12 22:58:53 2014 -0800

    SENTRY-432: Synchronization of HDFS permissions to Sentry permissions (Arun Suresh via Lenni Kuff)
    
    This change adds support for synchronizing HDFS permissions with permissions stored in
    Sentry. This makes it easy to share data across components (Hive/Impala, MR, Spark, etc)
    while managing all privileges in a centralized location - Sentry. This is done using new
    plugins to the HMS, HDFS, and Sentry. The HMS plugin pushes table/partition path information
    to the Sentry Service, the Sentry Service forwards the path information and all privilege
    updates, to the HDFS NameNode plugin, which caches this information and updates the ACLs
    accordingly.
    
    The mapping of Sentry privileges to HDFS privileges is:
    ALL -> Read/Write access to data files
    SELECT -> Read access to data files
    INSERT -> Write access to data files

 bin/sentry                                         |    3 +
 pom.xml                                            |   61 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |   14 +
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |    4 +-
 .../SentryMetastorePostEventListener.java          |  159 +-
 sentry-dist/pom.xml                                |    1 +
 sentry-dist/src/main/assembly/bin.xml              |   24 +-
 sentry-hdfs/pom.xml                                |   38 +
 sentry-hdfs/sentry-hdfs-common/.gitignore          |   18 +
 sentry-hdfs/sentry-hdfs-common/pom.xml             |  148 +
 .../hdfs/service/thrift/SentryHDFSService.java     | 3483 ++++++++++++++++++++
 .../hdfs/service/thrift/TAuthzUpdateResponse.java  |  603 ++++
 .../sentry/hdfs/service/thrift/TPathChanges.java   |  765 +++++
 .../sentry/hdfs/service/thrift/TPathEntry.java     |  747 +++++
 .../sentry/hdfs/service/thrift/TPathsDump.java     |  549 +++
 .../sentry/hdfs/service/thrift/TPathsUpdate.java   |  748 +++++
 .../hdfs/service/thrift/TPermissionsUpdate.java    |  810 +++++
 .../hdfs/service/thrift/TPrivilegeChanges.java     |  713 ++++
 .../sentry/hdfs/service/thrift/TRoleChanges.java   |  691 ++++
 .../java/org/apache/sentry/hdfs/AuthzPaths.java    |   58 +
 .../org/apache/sentry/hdfs/AuthzPathsDumper.java   |   28 +
 .../org/apache/sentry/hdfs/AuthzPermissions.java   |   28 +
 .../main/java/org/apache/sentry/hdfs/HMSPaths.java |  510 +++
 .../org/apache/sentry/hdfs/HMSPathsDumper.java     |  126 +
 .../org/apache/sentry/hdfs/MetastoreClient.java    |   38 +
 .../java/org/apache/sentry/hdfs/PathsUpdate.java   |   88 +
 .../org/apache/sentry/hdfs/PermissionsUpdate.java  |   94 +
 .../sentry/hdfs/SentryHDFSServiceClient.java       |  229 ++
 .../org/apache/sentry/hdfs/ServiceConstants.java   |   70 +
 .../java/org/apache/sentry/hdfs/Updateable.java    |   67 +
 .../apache/sentry/hdfs/UpdateableAuthzPaths.java   |  153 +
 .../src/main/resources/sentry_hdfs_service.thrift  |   87 +
 .../java/org/apache/sentry/hdfs/TestHMSPaths.java  |  357 ++
 .../apache/sentry/hdfs/TestHMSPathsFullDump.java   |  112 +
 .../sentry/hdfs/TestUpdateableAuthzPaths.java      |  156 +
 .../src/test/resources/hdfs-sentry.xml             |   22 +
 sentry-hdfs/sentry-hdfs-dist/pom.xml               |   79 +
 sentry-hdfs/sentry-hdfs-namenode-plugin/.gitignore |   18 +
 sentry-hdfs/sentry-hdfs-namenode-plugin/pom.xml    |   63 +
 .../sentry/hdfs/SentryAuthorizationConstants.java  |   55 +
 .../sentry/hdfs/SentryAuthorizationInfo.java       |  237 ++
 .../sentry/hdfs/SentryAuthorizationProvider.java   |  372 +++
 .../org/apache/sentry/hdfs/SentryPermissions.java  |  220 ++
 .../java/org/apache/sentry/hdfs/SentryUpdater.java |   61 +
 .../sentry/hdfs/UpdateableAuthzPermissions.java    |  230 ++
 .../hdfs/MockSentryAuthorizationProvider.java      |   26 +
 .../sentry/hdfs/SentryAuthorizationInfoX.java      |   85 +
 .../hdfs/TestSentryAuthorizationProvider.java      |  164 +
 .../src/test/resources/hdfs-sentry.xml             |   33 +
 sentry-hdfs/sentry-hdfs-service/.gitignore         |   18 +
 sentry-hdfs/sentry-hdfs-service/pom.xml            |  104 +
 .../sentry/hdfs/ExtendedMetastoreClient.java       |  108 +
 .../org/apache/sentry/hdfs/MetastorePlugin.java    |  257 ++
 .../sentry/hdfs/SentryHDFSServiceProcessor.java    |  118 +
 .../hdfs/SentryHDFSServiceProcessorFactory.java    |  108 +
 .../java/org/apache/sentry/hdfs/SentryPlugin.java  |  247 ++
 .../org/apache/sentry/hdfs/UpdateForwarder.java    |  292 ++
 .../apache/sentry/hdfs/UpdateablePermissions.java  |   62 +
 .../apache/sentry/hdfs/TestUpdateForwarder.java    |  307 ++
 sentry-provider/sentry-provider-db/pom.xml         |   78 +-
 .../provider/db/SentryMetastoreListenerPlugin.java |   48 +
 .../provider/db/SentryPolicyStorePlugin.java       |   60 +
 .../provider/db/SimpleDBProviderBackend.java       |   40 +-
 .../db/service/persistent/SentryStore.java         |   81 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   72 +-
 .../sentry/service/thrift/SentryService.java       |    1 +
 .../sentry/service/thrift/ServiceConstants.java    |    7 +
 .../thrift/TestSentryPolicyStoreProcessor.java     |    1 +
 .../thrift/TestSentryServerWithoutKerberos.java    |    4 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   17 +
 .../sentry/tests/e2e/hdfs/TestHDFSIntegration.java |  787 +++++
 .../sentry/tests/e2e/hive/StaticUserGroup.java     |    2 +
 ...stractMetastoreTestWithStaticConfiguration.java |    2 +
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   49 +-
 74 files changed, 16202 insertions(+), 113 deletions(-)

commit 49e6086c23d661205a29dbd77bb6f65066acbe77
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Wed Nov 12 12:54:46 2014 -0800

    SENTRY-515: Disable flaky test testConnectionAfterTicketTimeout (Sravya Tirukkovalur via Lenni Kuff)

 .../db/service/thrift/TestConnectionWithTicketTimeout.java        | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d9b375b9a8749989b7cfd2c9a79f518598056ac1
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Tue Nov 11 10:10:41 2014 -0800

    SENTRY-509: upgrade HIVE version to 0.13.1-cdh5.3.0-SNAPSHOT in SENTRY

 pom.xml                                                          | 2 +-
 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 3 +++
 .../sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java     | 9 ++++-----
 3 files changed, 8 insertions(+), 6 deletions(-)

commit 542246cce23e602cc79362fdd28777b79031f91a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Nov 10 14:58:13 2014 -0800

    SENTRY-517: MSCK REPAIR TABLE statements are not authorized (Lenni Kuff via Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  6 ++++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  2 ++
 .../sentry/binding/hive/TestHiveAuthzBindings.java | 33 ++++++++++++++++++++++
 .../sentry/tests/e2e/hive/TestOperations.java      |  2 ++
 4 files changed, 43 insertions(+)

commit 170112904d56bef33a47a45b9f85c7dad7a8c9c6
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Nov 8 10:37:18 2014 -0800

    SENTRY-512: Revert back to maven.compiler to java 6 (Sravya Tirukkovalur via Prasad Mujumdar)

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9dc278379625a3a0f00fcbeea69daa7772190311
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Nov 5 13:15:50 2014 -0800

    SENTRY-513: Sentry web service may not be stoped completely (Dapeng Sun via Sravya Tirukkovalur)

 .../db/service/thrift/SentryWebServer.java         |  3 ++
 .../sentry/service/thrift/SentryService.java       | 52 ++++++++++++++++++----
 2 files changed, 46 insertions(+), 9 deletions(-)

commit f81a224fc757c6204adf1aa9b7700cae38b05343
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Thu Oct 30 22:15:07 2014 -0700

    SENTRY-511: Always enable metric collection and do not fail when all metric reporters are disabled (Sravya Tirukkovalur via Lenni Kuff)

 .../sentry/provider/db/service/thrift/SentryMetrics.java  | 10 +++++++---
 .../db/service/thrift/SentryPolicyStoreProcessor.java     | 15 ++++++++-------
 .../org/apache/sentry/service/thrift/SentryService.java   | 15 +++++++++------
 .../apache/sentry/service/thrift/ServiceConstants.java    |  8 +++++---
 .../e2e/hive/AbstractTestWithStaticConfiguration.java     |  1 -
 5 files changed, 29 insertions(+), 20 deletions(-)

commit de0cc9e7f62c1a44474b196d521b87d1ff902f0e
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Oct 29 11:42:28 2014 -0700

    SENTRY-477: Sentry service should expose metrics (Sravya Tirukkovalur via Prasad Mujumdar)

 pom.xml                                            |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |  25 ++++
 .../db/service/persistent/SentryStore.java         |  42 +++++++
 .../SentryHealthCheckServletContextListener.java   |  35 ++++++
 .../provider/db/service/thrift/SentryMetrics.java  | 135 +++++++++++++++++++++
 .../SentryMetricsServletContextListener.java       |  32 +++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  56 +++++++++
 .../db/service/thrift/SentryWebServer.java         |  55 +++++++++
 .../sentry/service/thrift/SentryService.java       |  30 ++++-
 .../sentry/service/thrift/ServiceConstants.java    |   8 ++
 .../db/service/persistent/TestSentryStore.java     |  65 ++++++++++
 .../hive/AbstractTestWithStaticConfiguration.java  |   2 +
 12 files changed, 486 insertions(+), 5 deletions(-)

commit e4dc61d52b159b21ab2cced635a789c2b1e551d6
Author: Lenni Kuff <lskuff@cloudera.com>
Date:   Tue Oct 28 15:02:06 2014 -0700

    SENTRY-507: Ban additional configs in getConfigVal() (Mike Yoder via Lenni Kuff)

 .../service/thrift/SentryPolicyStoreProcessor.java |  7 +++-
 .../thrift/TestSentryServiceIntegration.java       | 49 ++++++++++++----------
 2 files changed, 31 insertions(+), 25 deletions(-)

commit 2fb35eb9c51831eb6d54d25199b21cd4ebf15a2b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Oct 27 14:30:15 2014 -0700

    SENTRY-415: Add API to Sentry Service that allows clients to read the service's config values. (Mike Yoder via Prasad Mujumdar)

 .../db/service/thrift/SentryPolicyService.java     | 806 +++++++++++++++++++++
 .../service/thrift/TSentryConfigValueRequest.java  | 596 +++++++++++++++
 .../service/thrift/TSentryConfigValueResponse.java | 500 +++++++++++++
 .../service/thrift/SentryPolicyServiceClient.java  |  28 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  31 +
 .../main/resources/sentry_policy_service.thrift    |  13 +
 .../thrift/TestSentryServiceIntegration.java       |  59 ++
 7 files changed, 2032 insertions(+), 1 deletion(-)

commit 58f5f529f5111a671be250d2f1db7512b9dfd232
Author: Arun Suresh <asuresh@cloudera.com>
Date:   Wed Oct 22 22:00:58 2014 -0700

    Updating copyright message

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 95645f645499533ba5fec9ef7729aaf901dbe3a2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Oct 12 10:48:07 2014 -0700

    SENTRY-355: Support metadata read privilege enforcement for Metastore pluging (Colin Ma via Prasad Mujumdar)

 .../binding/metastore/AuthorizingObjectStore.java  |  413 ++++++++
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   16 +-
 ...stractMetastoreTestWithStaticConfiguration.java |   10 +-
 .../e2e/metastore/TestAuthorizingObjectStore.java  | 1098 ++++++++++++++++++++
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |   19 +-
 5 files changed, 1538 insertions(+), 18 deletions(-)

commit ac3426ef30e5b689c06bb2763276f951c428efeb
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Oct 10 14:43:28 2014 -0700

    SENTRY-496: Sentry 1.5 postgres upgrade script has contains incorrect upgrade file name

 .../src/main/resources/sentry-upgrade-postgres-1.4.0-to-1.5.0.sql       | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfd7d10728c1184d3431c26de2f64eb180fb7af3
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Oct 4 23:26:10 2014 -0700

    SENTRY-470: When the parameter of hive.sentry.server is uppercase string, the command use default will cause an error in Hive Server2 side (guoquanshen via Prasad Mujumdar)

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af221d152a224481a86d79d866f1b35e50ba09c0
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Oct 4 01:47:37 2014 -0700

    SENTRY-489: Sentry DB upgrade fails on Oracle with ORA-00905: missing keyword (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../src/main/resources/002-SENTRY-339.oracle.sql               |  2 +-
 .../src/main/resources/003-SENTRY-380.oracle.sql               | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 561b3c8a9620aa070030440ebdce045c9c23fd33
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Oct 4 01:38:02 2014 -0700

    SENTRY-488: Sentry list_sentry_privileges_by_authorizable API does not filter out roles/privileges for some cases. (Arun Suresh via Prasad Mujumdar)

 .../db/service/persistent/SentryStore.java         | 33 +++++++++++++---------
 .../service/thrift/SentryPolicyStoreProcessor.java |  3 +-
 .../thrift/TestSentryServiceIntegration.java       | 16 +++++++++++
 3 files changed, 38 insertions(+), 14 deletions(-)

commit 64203710529cd301018faa12e92bd7df24065faa
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Oct 2 11:07:37 2014 -0700

    SENTRY-487: TestPrivilegesAtFunctionScope fails on the real cluster (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../apache/sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 1cd88220831ebcd95cb42150dbbfd186f9573447
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Oct 1 14:39:59 2014 -0700

    SENTRY-484: Sentry Service has does not audit ip address in secure environments (Lenni Kuff via Prasad Mujumdar)

 .../db/service/thrift/SentryProcessorWrapper.java   | 21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 1e0bbb733f94f7c8ec7cffa81f34d3faa02cc434
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 30 16:09:14 2014 -0700

    SENTRY-483: Sentry schema upgrade script for oracle missing terminating char for nested scripts (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../src/main/resources/sentry-upgrade-oracle-1.4.0-to-1.5.0.sql     | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e916f17cc56bebcfe326d4d3d5fdb5d3acce75dd
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 30 13:29:43 2014 -0700

    SENTRY-482: Fix typo in Sentry Audit logs (Lenni Kuff via Prasad Mujumdar)

 .../src/main/java/org/apache/sentry/provider/db/log/util/Constants.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f31450c93e564cbcbc7f9a2c264887d056b2aecf
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 30 11:20:10 2014 -0700

    SENTRY-445: WITH GRANT OPTION does not allow delegated user to grant less permissive privileges (Prasad Mujumdar, reviewed by Linni Kuff

 .../sentry/core/model/db/AccessConstants.java      |  1 +
 .../db/service/model/MSentryPrivilege.java         |  6 ++-
 .../db/service/persistent/TestSentryPrivilege.java | 49 +++++++++++++++-------
 3 files changed, 38 insertions(+), 18 deletions(-)

commit 977d69f2263ba6d8c6866fc07153485ab62cc54e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Sep 29 17:11:27 2014 +0530

    SENTRY-472: Hive binding should validate URI privileges on permenant function resource URI( Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  6 +++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  1 +
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 52 +++++++++++++++++++---
 3 files changed, 54 insertions(+), 5 deletions(-)

commit 2982e3d1cb230fcbc5134c62c402aad98cb3d33f
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Sep 28 23:59:56 2014 -0700

    SENTRY-475: SHOW GRANT ROLE from Hive always report with grant option as false (Prasad Mujumdar, reviewed by Lenni Kuff)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  4 ++-
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 34 ++++++++++++++++++++--
 2 files changed, 34 insertions(+), 4 deletions(-)

commit f6fc0422b61c88922d4e40db8e76d4ff89e8120b
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Sep 24 20:35:59 2014 -0700

    SENTRY-469: TListSentryPrivilegesByAuthRequest API should support impersonation ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../thrift/TListSentryPrivilegesByAuthRequest.java | 125 ++++++++++++++++++--
 .../TListSentryPrivilegesByAuthResponse.java       |  91 ++++++++-------
 .../service/thrift/SentryPolicyServiceClient.java  |   8 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  36 +++++-
 .../main/resources/sentry_policy_service.thrift    |   9 +-
 .../thrift/TestSentryServiceIntegration.java       | 128 +++++++++++++++++++--
 6 files changed, 327 insertions(+), 70 deletions(-)

commit 60db85bab7f796c716545d72ab65802247c2a9ac
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Sep 24 19:16:33 2014 -0700

    SENTRY-468: Rename the oracle and postgre upgrade scripts to <jira-id>.<db-vendoer>.sql format ( Committing missing files)

 .../sentry-provider-db/src/main/resources/003-SENTRY-380.derby.sql | 7 +++++++
 .../src/main/resources/003-SENTRY-380.oracle.sql                   | 7 +++++++
 .../src/main/resources/003-SENTRY-380.postgres.sql                 | 7 +++++++
 3 files changed, 21 insertions(+)

commit a8f0c08ab6ee5dba84afe363e3330cb20821f147
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Sep 24 16:13:38 2014 -0700

    SENTRY-468: Rename the oracle and postgre upgrade scripts to <jira-id>.<db-vendoer>.sql format ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry-provider-db/src/main/resources/003-SENTRY-380-derby.sql | 7 -------
 .../src/main/resources/003-SENTRY-380-oracle.sql                   | 7 -------
 .../src/main/resources/003-SENTRY-380-postgres.sql                 | 7 -------
 3 files changed, 21 deletions(-)

commit 805a1c988d95597185c36be7f7f3adcc94395f84
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 23 18:33:07 2014 -0700

    SENTRY-466: Return failure code when SentryClient was not successfully instantiated (Sravya Tirukkovalur via Prasad Mujumdar)

 .../java/org/apache/hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 128a23401fb872a4ffb2b39ee3e09e4f5b863364
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 23 18:12:59 2014 -0700

    SENTRY-447: Fix thrift generated code related to grantor principal cleanup (Sravya Tirukkovalur via Prasad Mujumdar)

 .../provider/db/service/thrift/TSentryRole.java    | 105 ++++++++++++++++++++-
 .../db/service/persistent/SentryStore.java         |   1 +
 2 files changed, 104 insertions(+), 2 deletions(-)

commit ff19448eec13a121d658dde35b9bd46eeb3b7c31
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 23 11:12:29 2014 -0700

    SENTRY-396: The logic of Thrift multiplexedProcessor registers mutil processor isn't correct (guoquanshen via Prasad Mujumdar)

 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java  | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 48b883f4c05217e65dc0eef57a0391a58e8b6c74
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 23 11:03:12 2014 -0700

    SENTRY-409: Do not print stack traces for SentryUserExceptions in Hive (Sravya Tirukkovalur via Prasad Mujumdar)

 .../org/apache/hadoop/hive/ql/exec/SentryGrantRevokeTask.java    | 8 ++++----
 .../org/apache/sentry/binding/hive/authz/HiveAuthzBinding.java   | 4 +++-
 .../src/main/java/org/apache/sentry/SentryUserException.java     | 9 +++++++++
 .../apache/sentry/provider/db/SentryAccessDeniedException.java   | 3 +++
 .../apache/sentry/provider/db/SentryAlreadyExistsException.java  | 3 +++
 .../apache/sentry/provider/db/SentryInvalidInputException.java   | 3 +++
 .../apache/sentry/provider/db/SentryNoSuchObjectException.java   | 3 +++
 .../src/main/java/org/apache/sentry/service/thrift/Status.java   | 8 ++++----
 8 files changed, 32 insertions(+), 9 deletions(-)

commit b18457d2600a412746d3a2ebb03b66c6ed183188
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Sep 23 10:09:56 2014 -0700

    SENTRY-383: Add TestPrivilegeWithGrantOption to cluster test profile (Prasad Mujumdar via Sravya Tirukkovalur)

 sentry-tests/sentry-tests-hive/pom.xml             |   1 +
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 153 ++++++++++++++++-----
 2 files changed, 122 insertions(+), 32 deletions(-)

commit a8cd4fbc65417ee28d0d8e86a6d166f78429cdba
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Sep 22 13:43:47 2014 -0700

    SENTRY-444: Update the schema upgrade scripts per the grantor principal changes (Sravya Tirukkovalur via Prasad Mujumdar)

 .../src/main/resources/003-SENTRY-380-derby.sql                   | 7 +++++++
 .../src/main/resources/003-SENTRY-380-oracle.sql                  | 7 +++++++
 .../src/main/resources/003-SENTRY-380-postgres.sql                | 7 +++++++
 .../src/main/resources/003-SENTRY-380.mysql.sql                   | 7 +++++++
 .../src/main/resources/sentry-upgrade-db2-1.4.0-to-1.5.0.sql      | 8 ++++++++
 .../src/main/resources/sentry-upgrade-derby-1.4.0-to-1.5.0.sql    | 2 +-
 .../src/main/resources/sentry-upgrade-mysql-1.4.0-to-1.5.0.sql    | 1 +
 .../src/main/resources/sentry-upgrade-oracle-1.4.0-to-1.5.0.sql   | 1 +
 .../src/main/resources/sentry-upgrade-postgres-1.4.0-to-1.5.0.sql | 2 ++
 9 files changed, 41 insertions(+), 1 deletion(-)

commit c57e65c5820b49657b9d059b5f039e71e90c3e77
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Sep 22 10:52:41 2014 -0700

    SENTRY-455: Fixed Unit Tests: TestDbOperations#testIndexTable ( Dapeng Sun via Sravya Tirukkovalur)

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java   | 1 +
 1 file changed, 1 insertion(+)

commit 630be6b5fbf5e441a72af3008b2a31266cf5ccac
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Sep 19 16:13:01 2014 -0700

    SENTRY-454: Hive metadata changes syncup with Sentry store should not run in error cases ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../SentryMetastorePostEventListener.java          | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit f7f40b94428181bd06431f1bc60118d052f40f12
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 19 15:27:57 2014 -0700

    SENTRY-452: Uri tests failing on real cluster (Sravya Tirukkovalur via Prasad Mujumdar)

 .../src/main/java/org/apache/sentry/core/common/utils/PathUtils.java    | 2 ++
 1 file changed, 2 insertions(+)

commit d93ec7c1a9be0dd21e89ebbb37e2e62773fd366d
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Sep 19 15:11:26 2014 -0700

    SENTRY-450: Add new Hive UDFs to the whitelist ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../src/main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java | 1 +
 1 file changed, 1 insertion(+)

commit 692ff834e2059ec2dec2ab35f05f5b77c207bc20
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Sep 19 15:01:04 2014 -0700

    SENTRY-451: CAST is still broken after SENTRY-118 patch (Grisha Trubetskoy via Sravya Tirukkovalur)

 .../src/main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java | 1 +
 1 file changed, 1 insertion(+)

commit 7a2b218527aed314db64865265550b3d809bae11
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Sep 18 22:51:41 2014 -0700

    SENTRY-430: Sentry Service does not use correct classpath when HIVE_HOME environment var is defined (Prasad Mujumdar reviewed by Lenni Kuff, Sravya Tirukkovalur)

 bin/config_tool | 56 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 bin/sentry      | 29 ++++++++++++-----------------
 2 files changed, 68 insertions(+), 17 deletions(-)

commit 1e5826f85601319a2ef9c4bdab999ff1db697668
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Sep 18 22:48:56 2014 -0700

    SENTRY-423: Hive command "SHOW TABLE EXTENDED LIKE... " failed with NPE (Chaoyu Tang via Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 15 +++++-
 .../sentry/tests/e2e/hive/TestOperations.java      |  7 +++
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 62 ++++++++++++++++++++++
 3 files changed, 83 insertions(+), 1 deletion(-)

commit fa5f81c7734f8af8e1bdc669d6cbe2e5951e2bac
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Sep 17 16:00:24 2014 -0700

    SENTRY-359: Support Sentry service API to retrieve applicable privileges for a given authorizable object (Prasad Mujumdar via Arun and Sravya)

 .../db/service/thrift/SentryPolicyService.java     | 806 ++++++++++++++++++++
 .../TAlterSentryRoleGrantPrivilegeResponse.java    | 117 ++-
 .../thrift/TListSentryPrivilegesByAuthRequest.java | 813 +++++++++++++++++++++
 .../TListSentryPrivilegesByAuthResponse.java       | 558 ++++++++++++++
 .../db/service/thrift/TSentryPrivilegeMap.java     | 486 ++++++++++++
 .../db/service/persistent/SentryStore.java         | 115 ++-
 .../service/thrift/SentryPolicyServiceClient.java  |  71 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |  25 +
 .../main/resources/sentry_policy_service.thrift    |  19 +
 .../thrift/TestSentryServiceIntegration.java       | 223 ++++++
 10 files changed, 3204 insertions(+), 29 deletions(-)

commit d1d2fd3dcb88c160803cecb02de104618838585d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Sep 17 11:50:02 2014 -0700

    SENTRY-446: Missing comma in mysql 1.5 script (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry-provider-db/src/main/resources/sentry-mysql-1.5.0.sql        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 58be76016768fdb38f2cdb7e4b0acd7d8e468d0d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Sep 17 09:36:49 2014 -0700

    SENTRY-441: Improve the message for SemanticException (Sravya Tirukkovalur via Prasad Mujumdar)

 .../java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b8f0622ff6a73af2b4764f43165e105442965d3b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 16 23:03:24 2014 -0700

    SENTRY-443: Show roles regressed after Sentry-417. (Sravya Tirukkovalur via Prasad Mujumdar)

 .../db/service/thrift/SentryPolicyStoreProcessor.java       | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit dbcdb6d6430fd5cde17df1cf3bd0f805795da2d7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Sep 16 23:00:33 2014 -0700

    SENTRY-380: Clean up some grantorPrincipal semantics (Sravya Tirukkovalur via Prasad Mujumdar)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   4 +-
 .../db/service/thrift/TSentryPrivilege.java        | 122 ++--------------
 .../provider/db/service/thrift/TSentryRole.java    | 105 +-------------
 .../provider/db/service/model/MSentryGroup.java    |  16 +--
 .../db/service/model/MSentryPrivilege.java         |  11 +-
 .../provider/db/service/model/MSentryRole.java     |  15 +-
 .../sentry/provider/db/service/model/package.jdo   |  11 +-
 .../db/service/persistent/SentryStore.java         |  44 +++---
 .../service/thrift/SentryPolicyServiceClient.java  |   2 -
 .../service/thrift/SentryPolicyStoreProcessor.java |  13 +-
 .../src/main/resources/sentry-db2-1.5.0.sql        |   9 +-
 .../src/main/resources/sentry-derby-1.5.0.sql      |   9 +-
 .../src/main/resources/sentry-mysql-1.5.0.sql      |  15 +-
 .../src/main/resources/sentry-oracle-1.5.0.sql     |  13 +-
 .../src/main/resources/sentry-postgres-1.5.0.sql   |  13 +-
 .../main/resources/sentry_policy_service.thrift    |   5 +-
 .../db/service/persistent/TestSentryStore.java     | 155 +++++++++------------
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  34 ++---
 .../tests/e2e/hive/TestMovingToProduction.java     |   2 +-
 .../sentry/tests/e2e/hive/TestPolicyImport.java    |   1 -
 20 files changed, 151 insertions(+), 448 deletions(-)

commit fd704487df49428cba258c8ef26db970dbc9d211
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Sep 16 09:59:12 2014 -0700

    SENTRY-417: Allow all users "Show role GRANT" as long as they belong to that group ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../service/thrift/SentryPolicyStoreProcessor.java | 13 ++++--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 54 ++++++++++++++++++++++
 2 files changed, 62 insertions(+), 5 deletions(-)

commit 89a9243fd3a11f0852c303533b92013633cd6c23
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Sep 15 17:27:37 2014 -0700

    SENTRY-421: Metastore binding is not constructing in fully qualified URI sentry recognizable format (Prasad Mujumdar via Sravya Tirukkovalur)

 .../binding/metastore/MetastoreAuthzBinding.java    | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 00a5eba1f645991d3eb2bf7365057c045f86a25f
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Sep 15 10:25:40 2014 -0700

    SENTRY-424: Rat check occasionally failing after derby upgrade (Prasad Mujumdar via Sravya Tirukkovalur)

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 218b1ea8e77132801bbcfd46c1539edc98909f4b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 12 10:38:43 2014 -0700

    SENTRY-425: Reduce logging verbosity in SentryPolicyServiceClient when creating new connections (Lenni Kuff via Prasad Mujumdar)

 .../provider/db/service/thrift/SentryPolicyServiceClient.java       | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bdb11123b989cd97aa7ca14aba099b9343025e14
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 12 10:31:52 2014 -0700

    SENTRY-420: TestMovingtoProduction fails on real cluster (Sravya Tirukkovalur via Prasad Mujumdar)

 .../tests/e2e/hive/TestMovingToProduction.java     | 32 +++++++++++-----------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 14a86ba9b623ebe4b6c2428c03e033f5ec6eddac
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Sep 11 22:38:50 2014 -0700

    SENTRY-412: Sentry script should support an option to print product version (Prasad Mujumdar reviewed by Sravya Tirukkovalur and Arun Suresh)

 .gitignore                                         |   1 +
 sentry-core/sentry-core-common/pom.xml             |  44 +++++++++
 .../main/java/org/apache/sentry/SentryMain.java    |  13 +++
 .../org/apache/sentry/SentryVersionAnnotation.java |  75 ++++++++++++++
 .../java/org/apache/sentry/SentryVersionInfo.java  | 109 +++++++++++++++++++++
 .../sentry-core-common/src/scripts/saveVersion.sh  |  89 +++++++++++++++++
 6 files changed, 331 insertions(+)

commit 67f84187c3c04af33a938c5be6a2086632c79385
Author: Brock Noland <brock@apache.org>
Date:   Thu Sep 11 14:19:20 2014 -0700

    SENTRY-431 - Sentry db provider client should attempt to refresh kerberos ticket before connection (Prasad via Brock)

 .../sentry/provider/db/service/thrift/SentryPolicyServiceClient.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 70c47e803512efbec51dc5ec5c5d725a5dfa04c3
Author: Brock Noland <brock@apache.org>
Date:   Wed Sep 10 19:12:17 2014 -0700

    SENTRY-428 - Sentry service should periodically renew the server kerberos ticket (Prasad via Brock)

 .../service/thrift/SentryKerberosContext.java      | 148 +++++++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |  29 ++--
 .../db/service/thrift/SentryMiniKdcTestcase.java   |  70 ++++++++++
 .../thrift/TestConnectionWithTicketTimeout.java    |  45 +++++++
 .../thrift/TestSentryServiceWithKerberos.java      |   6 +-
 .../thrift/SentryServiceIntegrationBase.java       |  10 +-
 6 files changed, 285 insertions(+), 23 deletions(-)

commit f7237c8070e828de3a6223ac1a37c897a1ebe936
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Sep 10 16:41:13 2014 -0700

    SENTRY-407: Add schema upgrade script to handle schema changes in 1.5 (Prasad Mujumdar reviewed by Arun Suresh, Sravya Tirukkovalur)

 .../service/persistent/SentryStoreSchemaInfo.java  |  35 +++++-
 .../src/main/resources/001-SENTRY-327.derby.sql    |   2 +
 .../src/main/resources/001-SENTRY-327.mysql.sql    |   2 +
 .../src/main/resources/001-SENTRY-327.oracle.sql   |   2 +
 .../src/main/resources/001-SENTRY-327.postgres.sql |   2 +
 .../src/main/resources/002-SENTRY-339.derby.sql    |   5 +
 .../src/main/resources/002-SENTRY-339.mysql.sql    |   4 +
 .../src/main/resources/002-SENTRY-339.oracle.sql   |   4 +
 .../src/main/resources/002-SENTRY-339.postgres.sql |   4 +
 .../src/main/resources/sentry-db2-1.4.0.sql        |   6 +-
 .../src/main/resources/sentry-db2-1.5.0.sql        | 112 ++++++++++++++++++
 .../src/main/resources/sentry-derby-1.4.0.sql      |   6 +-
 .../src/main/resources/sentry-derby-1.5.0.sql      | 112 ++++++++++++++++++
 .../src/main/resources/sentry-mysql-1.4.0.sql      |   6 +-
 .../src/main/resources/sentry-mysql-1.5.0.sql      | 126 +++++++++++++++++++++
 .../src/main/resources/sentry-oracle-1.4.0.sql     |   6 +-
 .../src/main/resources/sentry-oracle-1.5.0.sql     | 110 ++++++++++++++++++
 .../src/main/resources/sentry-postgres-1.4.0.sql   |   6 +-
 .../src/main/resources/sentry-postgres-1.5.0.sql   | 124 ++++++++++++++++++++
 .../sentry-upgrade-db2-1.4.0-to-1.5.0.sql          |  10 ++
 .../sentry-upgrade-derby-1.4.0-to-1.5.0.sql        |   5 +
 .../sentry-upgrade-mysql-1.4.0-to-1.5.0.sql        |   7 ++
 .../sentry-upgrade-oracle-1.4.0-to-1.5.0.sql       |   6 +
 .../sentry-upgrade-postgres-1.4.0-to-1.5.0.sql     |   5 +
 .../src/main/resources/upgrade.order.db2           |   1 +
 .../src/main/resources/upgrade.order.derby         |   1 +
 .../src/main/resources/upgrade.order.mysql         |   1 +
 .../src/main/resources/upgrade.order.oracle        |   1 +
 .../src/main/resources/upgrade.order.postgres      |   1 +
 .../provider/db/tools/TestSentrySchemaTool.java    |   4 +-
 30 files changed, 694 insertions(+), 22 deletions(-)

commit 7a8645f0c459b6e091135fc45b343fdf5b2c8251
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Sep 7 10:47:11 2014 -0700

    SENTRY-416: TestConfigTool.testQueryPermissions regressed (Sravya Tirukkovalur via Prasad Mujumdar)

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 05a239dadf27fd066a9ae1e2fdf961c2d7ee56e1
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 5 16:49:09 2014 -0700

    SENTRY-331: Add more granular privileges to the DBModel (Sravya Tirukkovalur via Prasad Mujumdar)

 .../apache/hadoop/hive/SentryHiveConstants.java    |   3 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  24 +-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   4 +
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 179 +++---
 .../binding/hive/authz/SentryConfigTool.java       |   2 +-
 .../sentry/core/model/db/AccessConstants.java      |   6 +
 .../apache/sentry/core/model/db/DBModelAction.java |   5 +
 .../sentry/policy/db/TestDBWildcardPrivilege.java  |  52 ++
 .../service/thrift/SentryPolicyServiceClient.java  |   8 +-
 .../sentry/tests/e2e/hive/TestOperations.java      | 636 +++++++++++++++------
 .../e2e/metastore/SentryPolicyProviderForDb.java   |   2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   2 +-
 12 files changed, 664 insertions(+), 259 deletions(-)

commit 416ca064404ef85ff5dd7de5a302592ca2569aa4
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 5 11:55:07 2014 -0700

    SENTRY-318: Allow all users Show GRANT as long as they have the grant on that role. (Sravya Tirukkovalur via Prasad Mujumdar)

 .../db/service/persistent/SentryStore.java         | 41 ++----------
 .../service/thrift/SentryPolicyStoreProcessor.java | 23 +++++--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 74 +++++++++++++---------
 .../TestDbSentryOnFailureHookLoading.java          |  5 +-
 4 files changed, 68 insertions(+), 75 deletions(-)

commit 467915c6168c0b6e7712e1a39bd10884b757130a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Sep 5 09:47:18 2014 -0700

    SENTRY-208: [flaky tests] Tests in TestSentryServiceIntegration and TestSentryStore often fail with No current connection (Sravya Tirukkovalur via Prasad Mujumdar)

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94118851fe2675ed1916b930a751415bbc6acf95
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Aug 29 11:48:02 2014 -0700

    SENTRY-338: Sentry policy import tool adds non-compatible comments to grant privilege statements (Ashish Kumar Singh via Sravya Tirukkovalur)

 .../sentry/binding/hive/authz/SentryConfigTool.java | 21 +++++++++++++++------
 1 file changed, 15 insertions(+), 6 deletions(-)

commit 7dc84d72d9df267af20d9ac3746390bb333dc409
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Aug 28 11:09:21 2014 -0700

    SENTRY-411: Alter table set location does not strictly check for URI privileges (Sravya Tirukkovalur via Prasad Mujumdar)

 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  2 +-
 .../binding/metastore/MetastoreAuthzBinding.java   | 41 ++++++++++++----------
 .../hive/AbstractTestWithStaticConfiguration.java  |  2 ++
 .../sentry/tests/e2e/hive/TestOperations.java      | 15 ++++++--
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 12 +++----
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  2 +-
 6 files changed, 44 insertions(+), 30 deletions(-)

commit b6c62f791de852608c4d292a0a13269fef097280
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Aug 21 17:59:45 2014 -0700

    SENTRY-47: Tests need to clean up the databases and tables it creates (Sravya Tirukkovalur via Prasad Mujumdar)

 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  25 ----
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 158 ++++++++++----------
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  48 +++---
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  46 +++---
 .../hive/AbstractTestWithStaticConfiguration.java  |  16 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 116 ++++++++-------
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  40 +++--
 .../tests/e2e/hive/TestMetadataPermissions.java    |  22 ++-
 .../tests/e2e/hive/TestMovingToProduction.java     |  76 +++++-----
 .../sentry/tests/e2e/hive/TestOperations.java      | 161 ++++++++++-----------
 .../tests/e2e/hive/TestPerDBConfiguration.java     | 140 +++++++++---------
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  12 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  19 ++-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  96 ++++++------
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  36 +++--
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  36 ++---
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 145 ++++++++-----------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  80 +++++-----
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  56 ++++---
 19 files changed, 625 insertions(+), 703 deletions(-)

commit 49e682fdd444db1fe440240944d1191a91d6d3ca
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Aug 21 13:36:52 2014 -0700

    SENTRY-406: Support "WITH GRANT OPTION" for the audit log ( Colin Ma via Sravya Tirukkovalur)

 .../sentry/provider/db/log/util/CommandUtil.java    |  5 +++++
 .../provider/db/log/util/TestCommandUtil.java       | 21 +++++++++++++++++++++
 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java     |  5 +++--
 3 files changed, 29 insertions(+), 2 deletions(-)

commit 117c60136b18f8d33629276133dfdce09050d3e1
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Aug 19 10:55:27 2014 -0700

    SENTRY-367: Add end to end tests for audit log ( Colin Ma via Sravya Tirukkovalur)

 .../tests/e2e/dbprovider/TestDbDDLAuditLog.java    | 290 +++++++++++++++++++++
 1 file changed, 290 insertions(+)

commit 63845fd384330ec02eb7393288ac2a60bf734b31
Author: Vamsee Yarlagadda <vamsee@cloudera.com>
Date:   Wed Aug 13 14:17:17 2014 -0700

    SENTRY-388: Solr Binding initKerberos should use supplied Configuration (Gregory Chanan via Vamsee Yarlagadda)

 .../sentry/binding/solr/authz/SolrAuthzBinding.java     | 17 +++++++++++++----
 1 file changed, 13 insertions(+), 4 deletions(-)

commit 3be10df92c92e39e4d91ff2114f3f72783926e82
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Aug 6 18:19:18 2014 -0700

    SENTRY-346: Create new FileAppender used in log4j to keep all the logs ( Colin Ma via Sravya Tirukkovalur)

 .../appender/RollingFileWithoutDeleteAppender.java | 195 +++++++++++++++++++++
 .../TestRollingFileWithoutDeleteAppender.java      |  83 +++++++++
 2 files changed, 278 insertions(+)

commit 7e3f287ca9413cb2dd0c4c76ea352fb18048f295
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Aug 4 13:37:23 2014 -0700

    SENTRY-368: Remove unused field in SentryPolicyServiceClient.java (Dapeng Sun via Sravya Tirukkovalur)

 .../sentry/provider/db/service/thrift/SentryPolicyServiceClient.java   | 3 ---
 1 file changed, 3 deletions(-)

commit 7b17cef735e4d35070deb40c2f535c317a1b14ab
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Aug 4 11:37:59 2014 -0700

    SENTRY-327: Support auth admin delegation via SQL construct 'with grant option' ( Xiaomeng Huang/ Dapeng Sun via Sravya Tirukkovalur)

 .../apache/hadoop/hive/SentryHiveConstants.java    |   1 -
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  27 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |   6 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    |  19 +-
 sentry-core/sentry-core-common/pom.xml             |   4 +
 .../apache/sentry/core/common/utils/PathUtils.java |  25 ++
 .../sentry/policy/db/DBWildcardPrivilege.java      |  26 +-
 .../db/service/thrift/TSentryGrantOption.java      |  48 +++
 .../db/service/thrift/TSentryPrivilege.java        | 129 +++++++-
 .../provider/db/SentryGrantDeniedException.java    |  25 ++
 .../db/service/model/MSentryPrivilege.java         |  98 +++++-
 .../sentry/provider/db/service/model/package.jdo   |   4 +
 .../db/service/persistent/SentryStore.java         | 134 +++++++-
 .../service/thrift/SentryPolicyServiceClient.java  |  86 ++++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  73 ++---
 .../src/main/resources/sentry-db2-1.4.0.sql        |   5 +-
 .../src/main/resources/sentry-derby-1.4.0.sql      |   5 +-
 .../src/main/resources/sentry-mysql-1.4.0.sql      |   5 +-
 .../src/main/resources/sentry-oracle-1.4.0.sql     |   5 +-
 .../src/main/resources/sentry-postgres-1.4.0.sql   |   5 +-
 .../main/resources/sentry_policy_service.thrift    |  12 +-
 .../db/service/persistent/TestSentryPrivilege.java | 168 ++++++++++
 .../db/service/persistent/TestSentryStore.java     | 357 ++++++++++++++++++++-
 .../thrift/TestSentryServiceIntegration.java       |  54 +++-
 sentry-provider/sentry-provider-file/pom.xml       |   4 -
 .../dbprovider/TestPrivilegeWithGrantOption.java   | 156 +++++++++
 26 files changed, 1368 insertions(+), 113 deletions(-)

commit 46c506d96d49df9afd750347cb7a12ccac0f1e46
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Fri Aug 1 18:29:55 2014 -0700

    SENTRY-381: Define jackson.version
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit a170f53bde4a3947243ca0439544b2769c9240ee
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Aug 1 14:14:17 2014 -0700

    SENTRY-347: Generate the audit log in Json format (Colin Ma via Sravya Tirukkovalur)

 pom.xml                                            |  12 +
 .../db/log/entity/AuditMetadataLogEntity.java      | 227 +++++++++++++++
 .../provider/db/log/entity/JsonLogEntity.java      |  25 ++
 .../db/log/entity/JsonLogEntityFactory.java        | 143 ++++++++++
 .../sentry/provider/db/log/util/CommandUtil.java   | 169 ++++++++++++
 .../sentry/provider/db/log/util/Constants.java     |  98 +++++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  19 ++
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   2 +-
 .../db/service/thrift/SentryProcessorWrapper.java  |  83 ++++++
 .../sentry/service/thrift/ServiceConstants.java    |   3 +
 .../db/log/entity/TestAuditMetadataLogEntity.java  |  68 +++++
 .../db/log/entity/TestJsonLogEntityFactory.java    | 293 ++++++++++++++++++++
 .../provider/db/log/util/TestCommandUtil.java      | 303 +++++++++++++++++++++
 13 files changed, 1444 insertions(+), 1 deletion(-)

commit c643db28dcf385f7f2be553480c55241d252ecb1
Author: Vamsee <vamsee@cloudera.com>
Date:   Mon Jul 28 16:31:40 2014 -0700

    SENTRY-327: Trivial fix after Sentry-326 (Sravya Tirukkovalur via Vamsee Yarlagadda)

 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestOperations.java   | 1 +
 1 file changed, 1 insertion(+)

commit 5a107094482e065ddc24143aba16cfee0b4fe500
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jul 28 16:00:06 2014 -0700

    SENTRY-326: Add support for Hive 0.13 ( Prasad Mujumdar via Sravya Tirukkovalur)

 pom.xml                                            |   2 +-
 .../apache/hadoop/hive/SentryHiveConstants.java    |   2 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   2 +-
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |   5 +
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  54 ++-----
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  43 +++++-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  33 ++++-
 .../binding/hive/authz/HiveAuthzBinding.java       |   7 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   3 +
 .../binding/metastore/MetastoreAuthzBinding.java   |  54 +++----
 .../metastore/SentryHiveMetaStoreClient.java       | 164 +++++++++++++++++++++
 .../sentry/tests/e2e/hive/TestOperations.java      |  19 ++-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |   1 -
 .../tests/e2e/hive/TestServerConfiguration.java    |  31 ++--
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   3 +
 .../e2e/hive/hiveserver/InternalHiveServer.java    |   6 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   4 +-
 17 files changed, 319 insertions(+), 114 deletions(-)

commit c092f7dfe767d1a8cb5e79ee7b66b37190b98c7f
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Mon Jul 28 13:24:32 2014 -0700

    SENTRY-362: When sentry integrate into solr, the create instance of backend needs configure parameters from solrAuthzConf not hadoopConf (guoquanshen via Gregory Chanan)

 .../org/apache/sentry/binding/solr/authz/SolrAuthzBinding.java    | 8 +++-----
 .../java/org/apache/sentry/binding/solr/conf/SolrAuthzConf.java   | 2 +-
 2 files changed, 4 insertions(+), 6 deletions(-)

commit d6b1eb6e8f74b95e3a1098c1a0e6e17b049fb102
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jul 28 15:00:46 2014 -0700

    SENTRY-339: Remove PrivilegeName column and constructPrivilegeName() function (Arun Suresh via Sravya Tirukkovalur)

 .../db/service/thrift/TSentryPrivilege.java        | 150 +++-------------
 .../db/service/model/MSentryPrivilege.java         | 120 +++++++------
 .../sentry/provider/db/service/model/package.jdo   |  11 +-
 .../db/service/persistent/SentryStore.java         | 197 +++++++--------------
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +-
 .../src/main/resources/sentry-db2-1.4.0.sql        |   3 +-
 .../src/main/resources/sentry-derby-1.4.0.sql      |   3 +-
 .../src/main/resources/sentry-mysql-1.4.0.sql      |   3 +-
 .../src/main/resources/sentry-oracle-1.4.0.sql     |   3 +-
 .../src/main/resources/sentry-postgres-1.4.0.sql   |   3 +-
 .../main/resources/sentry_policy_service.thrift    |   9 +-
 .../db/service/persistent/TestSentryStore.java     |  30 +---
 .../thrift/TestSentryServerWithoutKerberos.java    |   4 +-
 .../thrift/TestSentryServiceIntegration.java       |   4 -
 .../sentry/tests/e2e/hive/TestPolicyImport.java    |   1 -
 15 files changed, 184 insertions(+), 363 deletions(-)

commit 5c5b87ce12988f5d8e16d148b23fd6d641c54a24
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat Jul 26 07:42:54 2014 -0700

    SENTRY-363: CTAS from view is requiring select on underlying table
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  6 ++++-
 .../sentry/tests/e2e/hive/TestOperations.java      | 28 +++++++++++++++++++---
 2 files changed, 30 insertions(+), 4 deletions(-)

commit 6ab2a681e167c7899f3c26f9b5e97e4781111efa
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 25 14:54:37 2014 -0700

    SENTRY-366: Update the versions on trunk after branching (Tuong Truong via Sravya Tirukkovalur)

 pom.xml                                        | 2 +-
 sentry-binding/pom.xml                         | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml     | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml     | 2 +-
 sentry-core/pom.xml                            | 2 +-
 sentry-core/sentry-core-common/pom.xml         | 2 +-
 sentry-core/sentry-core-model-db/pom.xml       | 2 +-
 sentry-core/sentry-core-model-search/pom.xml   | 2 +-
 sentry-dist/pom.xml                            | 2 +-
 sentry-policy/pom.xml                          | 2 +-
 sentry-policy/sentry-policy-common/pom.xml     | 2 +-
 sentry-policy/sentry-policy-db/pom.xml         | 2 +-
 sentry-policy/sentry-policy-search/pom.xml     | 2 +-
 sentry-provider/pom.xml                        | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml  | 2 +-
 sentry-provider/sentry-provider-common/pom.xml | 2 +-
 sentry-provider/sentry-provider-db/pom.xml     | 2 +-
 sentry-provider/sentry-provider-file/pom.xml   | 2 +-
 sentry-tests/pom.xml                           | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml         | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml         | 2 +-
 21 files changed, 21 insertions(+), 21 deletions(-)

commit 1abc8db22b55d8c0e090080dda6c70c144b09e59
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Fri Jul 25 14:42:13 2014 -0700

    SENTRY-336: Fix test failures on real cluster
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../hive/AbstractTestWithStaticConfiguration.java  | 22 +++++++++++-
 .../tests/e2e/hive/TestExportImportPrivileges.java | 14 ++++----
 .../sentry/tests/e2e/hive/TestOperations.java      | 10 +++++-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 30 +++++++++--------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 35 ++++++++-----------
 .../sentry/tests/e2e/hive/TestUriPermissions.java  | 39 ++++++++++++----------
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  2 +-
 7 files changed, 89 insertions(+), 63 deletions(-)

commit 437e6c4dc3fb963f81a82ee4ab653cd84e48005d
Author: Vamsee <vamsee@cloudera.com>
Date:   Fri Jul 25 14:40:29 2014 -0700

    SENTRY-354: Test for update.distrib phase overriding (Gregory Chanan via Vamsee Yarlagadda)

 pom.xml                                            |  2 +-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 23 ++++++---
 .../tests/e2e/solr/TestUpdateOperations.java       | 54 ++++++++++++++++++++++
 .../resources/solr/sentry/test-authz-provider.ini  |  2 +-
 4 files changed, 72 insertions(+), 9 deletions(-)

commit 0ec663f51bf1b1f238f3a7f8e94692589a542bbb
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 25 10:59:29 2014 -0700

    SENTRY-333: Add conf directory to sentry distribution- applying the patch correctly (Tuong Truong via Sravya Tirukkovalur)

 conf/sentry-site.xml.hive-client.example  |  72 +++++++++++++++++
 conf/sentry-site.xml.hive-client.template | 100 ++++++++++++++++++++++++
 conf/sentry-site.xml.service.example      |  65 +++++++++++++++
 conf/sentry-site.xml.service.template     | 126 ++++++++++++++++++++++++++++++
 conf/sentry-site.xml.solr-client.example  |  36 +++++++++
 5 files changed, 399 insertions(+)

commit b17da44ef2e1e217da53bf3ea6e9290c3bb7df9b
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jul 25 10:57:42 2014 -0700

    Revert "SENTRY-333: Add conf directory to sentry distribution (Tuong Truong via Prasad Mujumdar)"
    
    This reverts commit 1411e3739ab6f161fe7094dbab99ee828af48dd5.

 sentry-site.xml.hive-client.example  |  72 --------------------
 sentry-site.xml.hive-client.template | 100 ---------------------------
 sentry-site.xml.service.example      |  65 ------------------
 sentry-site.xml.service.template     | 126 -----------------------------------
 sentry-site.xml.solr-client.example  |  36 ----------
 5 files changed, 399 deletions(-)

commit 5862bbe6e12248b2dd9c8c1ef26a7c25a2fefd0a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Jul 23 10:04:40 2014 -0700

    SENTRY-257: Upgrade master to use version 1.4.0-incubating-SNAPSHOT ( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 pom.xml                                        | 2 +-
 sentry-binding/pom.xml                         | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml     | 2 +-
 sentry-binding/sentry-binding-solr/pom.xml     | 2 +-
 sentry-core/pom.xml                            | 2 +-
 sentry-core/sentry-core-common/pom.xml         | 2 +-
 sentry-core/sentry-core-model-db/pom.xml       | 2 +-
 sentry-core/sentry-core-model-search/pom.xml   | 2 +-
 sentry-dist/pom.xml                            | 2 +-
 sentry-policy/pom.xml                          | 2 +-
 sentry-policy/sentry-policy-common/pom.xml     | 2 +-
 sentry-policy/sentry-policy-db/pom.xml         | 2 +-
 sentry-policy/sentry-policy-search/pom.xml     | 2 +-
 sentry-provider/pom.xml                        | 2 +-
 sentry-provider/sentry-provider-cache/pom.xml  | 2 +-
 sentry-provider/sentry-provider-common/pom.xml | 2 +-
 sentry-provider/sentry-provider-db/pom.xml     | 2 +-
 sentry-provider/sentry-provider-file/pom.xml   | 2 +-
 sentry-tests/pom.xml                           | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml         | 2 +-
 sentry-tests/sentry-tests-solr/pom.xml         | 2 +-
 21 files changed, 21 insertions(+), 21 deletions(-)

commit 1411e3739ab6f161fe7094dbab99ee828af48dd5
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jul 21 19:13:54 2014 -0700

    SENTRY-333: Add conf directory to sentry distribution (Tuong Truong via Prasad Mujumdar)

 sentry-site.xml.hive-client.example  |  72 ++++++++++++++++++++
 sentry-site.xml.hive-client.template | 100 +++++++++++++++++++++++++++
 sentry-site.xml.service.example      |  65 ++++++++++++++++++
 sentry-site.xml.service.template     | 126 +++++++++++++++++++++++++++++++++++
 sentry-site.xml.solr-client.example  |  36 ++++++++++
 5 files changed, 399 insertions(+)

commit 924f0b038f351c26b1df72e21ad7e5dedbdb525e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Jul 16 15:28:23 2014 -0700

    SENTRY-337: When the parameter sentry.metastore.service.users isn't set or set empty, starting metastore will throw java.lang.NullPointerException (Guoquan Shen via Sravya Tirukkovalur)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6465503be6a4268f7ff4a2d787ecf4a4ad174988
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jul 14 19:57:13 2014 -0700

    SENTRY-332: A role may got empty privilege, although the role have some privileges (Dapeng Sun via Prasad Mujumdar)

 .../main/java/org/apache/sentry/provider/db/service/model/package.jdo   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 26b208ed3032f6979ad92e978cd9f71328c0be99
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jul 10 14:01:37 2014 -0700

    SENTRY-329: Alter table rename fails when we enable data objects and privileges syncing via hive meta store (Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/provider/db/service/persistent/SentryStore.java  | 13 ++++++++++---
 .../db/service/thrift/SentryPolicyStoreProcessor.java       |  2 +-
 .../provider/db/service/persistent/TestSentryStore.java     |  4 +++-
 3 files changed, 14 insertions(+), 5 deletions(-)

commit 56d4f563bc251e22cc1ee529b265f5b2b52b0258
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jul 7 18:15:36 2014 -0700

    SENTRY-260: Add support to use DB2 as database for sentry metastore (Ruiming Zhou via Prasad Mujumdar)

 .../provider/db/tools/SentrySchemaHelper.java      |  21 +++-
 .../sentry/provider/db/tools/SentrySchemaTool.java |   8 +-
 .../src/main/resources/sentry-db2-1.4.0.sql        | 112 +++++++++++++++++++++
 .../src/main/resources/upgrade.order.db2           |   0
 4 files changed, 137 insertions(+), 4 deletions(-)

commit d1727c5125fcb68e89d2fc63743cc142a82ffba7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jun 30 18:50:08 2014 -0700

    SENTRY-321: SentryMetastorePostEventListener should use sentry config to create SentryClient (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry/binding/metastore/SentryMetastorePostEventListener.java    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit bbec68b5837ad7015ef6dcfabb60e112c447bdf0
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Jun 30 13:53:10 2014 -0700

    SENTRY-319: group names should be case sensitive.
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../provider/db/service/persistent/SentryStore.java  | 14 +++++++-------
 .../db/service/persistent/TestSentryStore.java       |  2 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java   | 20 ++++++++++++++++++++
 3 files changed, 28 insertions(+), 8 deletions(-)

commit 0c3954045c2b92816ce9674305e30b3eb79e6b72
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Jun 27 15:25:10 2014 -0700

    SENTRY-317: Fix TestDbOperations.testLoad test (Sravya Tirukkovalur via Prasad Mujumdar)

 .../src/test/java/org/apache/sentry/tests/e2e/hive/TestOperations.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a14264fd3014388a881f6b7928f75bcf4060f0f
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jun 27 14:19:59 2014 -0700

    SENTRY-315: SHOW CURRENT ROLE fails if the one of the groups doesn't have any roles granted (Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/provider/db/service/persistent/SentryStore.java  | 13 ++++++++++---
 .../db/service/thrift/SentryPolicyStoreProcessor.java       |  4 +++-
 .../provider/db/service/persistent/TestSentryStore.java     |  9 ++++++---
 .../sentry/tests/e2e/dbprovider/TestDatabaseProvider.java   |  7 +++++++
 4 files changed, 26 insertions(+), 7 deletions(-)

commit 1785f0ee59dacd6e26eb4596b79907f6b778d3d8
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 26 14:51:59 2014 -0700

    SENTRY-314: Metastore plugin should verify the storage descriptor before referencing ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../binding/metastore/MetastoreAuthzBinding.java   | 48 ++++++++++++++-------
 ...stractMetastoreTestWithStaticConfiguration.java |  2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 49 ++++++++++++++++++++++
 3 files changed, 83 insertions(+), 16 deletions(-)

commit 66e425f20606233fa6753887c4d06f57c16672eb
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Jun 24 23:41:28 2014 -0700

    SENTRY-313: Fix some uri failing tests (Sravya Tirukkovalur via Prasad Mujumdar)

 .../org/apache/sentry/tests/e2e/hive/StaticUserGroup.java |  6 ++++--
 .../org/apache/sentry/tests/e2e/hive/TestOperations.java  | 10 +++++-----
 .../apache/sentry/tests/e2e/hive/TestUriPermissions.java  | 15 ++++++++-------
 3 files changed, 17 insertions(+), 14 deletions(-)

commit c737e3803b3e3a957eb8af3b4998bcf60597f9e7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Jun 24 13:38:17 2014 -0700

    SENTRY-312: Add 'decimal' and 'date' to default UDF whitelist (Arun Suresh via Prasad Mujumdar)

 .../src/main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java | 1 +
 1 file changed, 1 insertion(+)

commit 5df60185b402b2246590151252b38e178d46f28e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 23 15:31:32 2014 -0700

    SENTRY-311: Metastore plugin needs to be changed to updated privilege model ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../binding/metastore/MetastoreAuthzBinding.java   |  84 ++++++++---
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 167 +++++++++++++++------
 2 files changed, 187 insertions(+), 64 deletions(-)

commit 0ebbb3775dc563bbd6f042e414f5ac3b6fdd973b
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 23 14:57:57 2014 -0700

    SENTRY-309-addendum: Adding new files

 .../e2e/metastore/SentryPolicyProviderForDb.java   | 160 +++++++++++++++++++++
 .../test/resources/core-site-for-sentry-test.xml   |  34 +++++
 2 files changed, 194 insertions(+)

commit 07b0c9b86c8923dcec18d8797e395188c1607584
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 23 14:39:39 2014 -0700

    SENTRY-309: Metastore binding should use fully qualified URI for validating alter table operations ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  2 +-
 .../binding/metastore/MetastoreAuthzBinding.java   | 36 +++++++++++++++-------
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  3 +-
 .../hive/AbstractTestWithStaticConfiguration.java  | 12 +++++++-
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |  7 +++--
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |  6 +++-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  1 +
 .../hive/hiveserver/InternalMetastoreServer.java   |  5 +++
 ...stractMetastoreTestWithStaticConfiguration.java | 18 +++++++++++
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |  2 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |  6 ++--
 11 files changed, 78 insertions(+), 20 deletions(-)

commit b41d9ee37cc705cc4a5eb86a9a7d04b2082a6458
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jun 23 14:20:17 2014 -0700

    SENTRY-310: Make Hive operation to required privileges more granular (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 187 +++---
 .../binding/hive/HiveAuthzBindingPreExecHook.java  |   2 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  86 ++-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 141 +++--
 .../sentry/binding/hive/TestHiveAuthzBindings.java |   8 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   2 +
 .../tests/e2e/dbprovider/TestDbOperations.java     |  37 ++
 .../hive/AbstractTestWithStaticConfiguration.java  |  12 +-
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  11 +
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |   4 -
 .../sentry/tests/e2e/hive/TestOperations.java      | 672 +++++++++++++++++++++
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |   2 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  18 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |   4 -
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  18 +-
 15 files changed, 984 insertions(+), 220 deletions(-)

commit b11f5aab9970b56886c8c9a04f7598ba3b50879c
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 23 12:21:36 2014 -0700

    SENTRY-162: Cleanup DB store privilege metadata on Hive DDL statements ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/binding/hive/conf/HiveAuthzConf.java    |    3 +
 .../SentryMetastorePostEventListener.java          |  206 +++
 .../db/service/thrift/SentryPolicyService.java     | 1612 ++++++++++++++++++++
 .../db/service/thrift/TDropPrivilegesRequest.java  |  592 +++++++
 .../db/service/thrift/TDropPrivilegesResponse.java |  390 +++++
 .../service/thrift/TRenamePrivilegesRequest.java   |  698 +++++++++
 .../service/thrift/TRenamePrivilegesResponse.java  |  390 +++++
 .../db/service/model/MSentryPrivilege.java         |    4 +
 .../db/service/persistent/SentryStore.java         |  316 +++-
 .../service/thrift/SentryPolicyServiceClient.java  |   87 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   42 +
 .../main/resources/sentry_policy_service.thrift    |   26 +
 .../db/service/persistent/TestSentryStore.java     |  189 +++
 .../dbprovider/TestDbPrivilegeCleanupOnDrop.java   |  292 ++++
 .../hive/AbstractTestWithStaticConfiguration.java  |   15 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |    1 +
 16 files changed, 4757 insertions(+), 106 deletions(-)

commit 5988495099432a977de9f161843b97e72c97cc98
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat Jun 21 11:31:15 2014 -0700

    SENTRY-244: Sentry deprecated properties do not work
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java   | 8 ++++++++
 .../java/org/apache/sentry/binding/hive/TestHiveAuthzConf.java    | 2 ++
 2 files changed, 10 insertions(+)

commit 184968e814ecdf1a161847f8b4831638fdbdb45b
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Fri Jun 20 16:38:11 2014 -0700

    SENTRY-199: Create tool that will convert policy file into into DB store
    
    (Joey Echeverria via Jarek Jarcec Cecho)

 sentry-binding/sentry-binding-hive/pom.xml         |   2 -
 .../binding/hive/authz/SentryConfigTool.java       | 140 +++++++++++++++++-
 .../main/java/org/apache/sentry/SentryMain.java    |   2 +
 .../provider/file/SimpleFileProviderBackend.java   |   4 +
 .../sentry/tests/e2e/hive/TestPolicyImport.java    | 164 +++++++++++++++++++++
 5 files changed, 309 insertions(+), 3 deletions(-)

commit e0267df7c4777254228906efec2ec5f64290caca
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 19 11:21:25 2014 -0700

    SENTRY-305: SHOW CURRENT ROLES shouldn't require admin privileges ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  6 +-
 .../binding/hive/authz/HiveAuthzBinding.java       | 28 ++++++--
 .../db/service/persistent/SentryStore.java         |  9 ++-
 .../service/thrift/SentryPolicyServiceClient.java  |  7 +-
 .../service/thrift/SentryPolicyStoreProcessor.java | 13 +++-
 .../db/service/persistent/TestSentryStore.java     | 25 +++++--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 78 ++++++++++++++++++++++
 7 files changed, 146 insertions(+), 20 deletions(-)

commit f42bc7734c709ad5d96160271f8e62660574e133
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Jun 18 19:10:12 2014 -0700

    SENTRY-303: Allow users to grant/revoke SELECT/INSERT to ALL tables in a Database ( Arun Suresh via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  29 +++++-
 .../sentry/policy/db/DBWildcardPrivilege.java      |   7 +-
 .../db/service/persistent/SentryStore.java         |   7 +-
 .../service/thrift/SentryPolicyServiceClient.java  |  10 +-
 .../thrift/TestSentryServerWithoutKerberos.java    |   9 +-
 .../thrift/TestSentryServiceIntegration.java       |   5 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 110 +++++++++++++++++++++
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  29 ++++++
 8 files changed, 187 insertions(+), 19 deletions(-)

commit eefdec94a251e6d7bbf0dcb32b487961c665ba69
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Jun 18 14:08:54 2014 -0700

    SENTRY-307: Unqualified URIs should be reconstructed in a standard way (Sravya Tirukkovalur via Prasad Mujumdar)

 .../apache/hadoop/hive/ql/exec/SentryGrantRevokeTask.java  |  9 ++++++++-
 .../sentry/binding/metastore/MetastoreAuthzBinding.java    | 14 ++++++++++++--
 2 files changed, 20 insertions(+), 3 deletions(-)

commit 5134a092a0d45d608cdbef7a1763bc9092d7c4ca
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Jun 18 12:05:39 2014 -0700

    SENTRY-281: Revoking a parent privilege should revoke all child privileges ( Arun Suresh via Sravya Tirukkovalur)

 .../db/service/persistent/SentryStore.java         | 202 ++++--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 731 ++++++++++++++++++++-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   9 +-
 3 files changed, 890 insertions(+), 52 deletions(-)

commit c248a3dc10ebda552f5e10ca9173b3e9fd11a1a2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Jun 17 18:18:36 2014 -0700

    SENTRY-304: Limit on index key in MYSQL (innoDB ) is 767 bytes (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry-provider-db/src/main/resources/sentry-mysql-1.4.0.sql        | 2 +-
 sentry-tests/sentry-tests-hive/pom.xml                                  | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 282b79dd71c924f3b573f40f5c84e9fffdad0032
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jun 16 13:52:58 2014 -0700

    SENTRY-300: HiveAuthzBinding checks for Hive server2 config which is not available when using Sentry with Hive meta store server (Sravya Tirukkovalur via Prasad Mujumdar)

 .../binding/hive/authz/HiveAuthzBinding.java       | 60 +++++++++++++++++++---
 .../binding/metastore/MetastoreAuthzBinding.java   |  2 +-
 .../sentry/binding/hive/TestHiveAuthzBindings.java | 45 +++++++++++++---
 .../org/apache/sentry/tests/e2e/hive/Context.java  | 21 ++++++--
 .../tests/e2e/hive/TestServerConfiguration.java    | 20 +++-----
 5 files changed, 116 insertions(+), 32 deletions(-)

commit 4c2ce79385866f086799deae82f4db5d9aab3099
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jun 13 11:46:38 2014 -0700

    SENTRY-301: Sentry plugin fails access service from secure Hive Metastore ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../sentry/provider/db/service/thrift/SentryPolicyServiceClient.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19b9afa5f7c86ad3957aba4fb430fcd5264ea685
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Jun 12 23:55:48 2014 -0700

     SENTRY-297: Increase privilege_name to 4000 in mysql to be consistent with other dbs (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry-provider-db/src/main/resources/sentry-mysql-1.4.0.sql        | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c53934070c07d337118c53eb0b19d6675202d26f
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Jun 12 23:51:51 2014 -0700

    SENTRY-293: Create a new mvn cluster test profile for provider db tests (Sravya Tirukkovalur via Prasad Mujumdar)

 .../apache/sentry/provider/file/PolicyFile.java    |   6 +
 sentry-tests/sentry-tests-hive/pom.xml             |  63 +++++++
 .../e2e/dbprovider/PolicyProviderForTest.java      | 157 -----------------
 .../tests/e2e/dbprovider/TestDatabaseProvider.java |  97 ++++++++++-
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |  11 +-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  15 +-
 .../dbprovider/TestDbExportImportPrivileges.java   |   9 +-
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |  10 +-
 .../e2e/dbprovider/TestDbMetadataPermissions.java  |  10 +-
 .../e2e/dbprovider/TestDbMovingToProduction.java   |  10 +-
 .../e2e/dbprovider/TestDbPrivilegeAtTransform.java |  10 +-
 .../TestDbPrivilegesAtDatabaseScope.java           |  10 +-
 .../TestDbPrivilegesAtFunctionScope.java           |  10 +-
 .../dbprovider/TestDbPrivilegesAtTableScope.java   |  10 +-
 .../dbprovider/TestDbRuntimeMetadataRetrieval.java |  10 +-
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     |  11 +-
 .../tests/e2e/dbprovider/TestDbUriPermissions.java |  10 +-
 .../tests/e2e/dbprovider/TestDbUserManagement.java |  31 ----
 .../hive/AbstractTestWithStaticConfiguration.java  | 194 ++++++++++++++++++---
 .../sentry/tests/e2e/hive/TestConfigTool.java      |   8 -
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  15 +-
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |   9 -
 .../tests/e2e/hive/TestExportImportPrivileges.java |  15 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  15 +-
 .../tests/e2e/hive/TestMetadataPermissions.java    |  16 +-
 .../tests/e2e/hive/TestMovingToProduction.java     |  23 +--
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   6 +-
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  10 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  12 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  16 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  15 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  16 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  17 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  14 +-
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  21 +--
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  35 ++--
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |   1 +
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   1 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |   1 +
 ...stractMetastoreTestWithStaticConfiguration.java |   3 -
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    |   7 +-
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java |   7 +-
 .../src/test/resources/core-site.xml               |  33 ----
 43 files changed, 501 insertions(+), 499 deletions(-)

commit b08717243372973d2b264617314de629065278cb
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Jun 12 15:38:17 2014 -0700

    SENTRY-294: The Sentry service client should execute UGI privilege action by default ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 2 --
 .../sentry/provider/db/service/thrift/SentryPolicyServiceClient.java    | 2 +-
 .../main/java/org/apache/sentry/service/thrift/ServiceConstants.java    | 2 +-
 .../org/apache/sentry/service/thrift/SentryServiceIntegrationBase.java  | 1 +
 4 files changed, 3 insertions(+), 4 deletions(-)

commit 39818322830827cc1ddf2ffef22a456688e4c40d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Jun 10 22:47:53 2014 -0700

    SENTRY-288: Dissable MetastoreBinding for test cases that do not require it (Arun Suresh via Prasad Mujumdar)

 .../sentry/tests/e2e/hive/hiveserver/HiveServerFactory.java       | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ef624165b1b38d81b65b1df25da42486d7e7242f
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 22:37:03 2014 -0700

    SENTRY-291: Remove duplicate testSameGrantTwice
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../db/service/thrift/TestSentryServiceIntegration.java   | 15 ---------------
 1 file changed, 15 deletions(-)

commit e8eb0120339069c8add074e7e7919bc904fce8cb
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 22:25:42 2014 -0700

    SENTRY-279: Revert back using lowercase for uri label

 .../org/apache/sentry/provider/db/service/persistent/SentryStore.java   | 2 +-
 .../apache/sentry/provider/db/service/persistent/TestSentryStore.java   | 2 +-
 .../test/java/org/apache/sentry/tests/e2e/hive/TestUriPermissions.java  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 439cd651ac83ae90f7ee0f45027254e9f90c18b2
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 10 22:18:44 2014 -0700

    SENTRY-181: Add a test case for duplicate privileges ( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../db/service/thrift/TestSentryServiceIntegration.java   | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit af23684612837c6277e2cd645d15bb4efd4db7fd
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 10 22:16:28 2014 -0700

    SENTRY-274: MySQL init scripts contains invalid comments ( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../src/main/resources/sentry-mysql-1.4.0.sql      | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit d454f842072626aaf466b458db0ae56f2a2afb0a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 10 21:55:03 2014 -0700

    SENTRY-212: Restrict access to hive config property hive.sentry.active.role.set which is set by Sentry Hive binding (Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../org/apache/sentry/binding/hive/HiveAuthzBindingSessionHook.java   | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit d37830c9a9b5c8bd571b87e676eb38627b38a139
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 21:37:25 2014 -0700

    SENTRY-289: Kerberos based connection from HS2 and Metastore to Sentry service fails
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  2 +
 .../service/thrift/SentryPolicyServiceClient.java  | 64 ++++++++++++++++++++--
 .../service/thrift/KerberosConfiguration.java      |  4 --
 .../sentry/service/thrift/ServiceConstants.java    |  1 +
 .../thrift/SentryServiceIntegrationBase.java       |  6 +-
 5 files changed, 65 insertions(+), 12 deletions(-)

commit 066b1c404df3a81ffe7eb293a54f03aed1d97f05
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 21:11:08 2014 -0700

    SENTRY-287: Add test case for giving select privieleges on a table in a non default database
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../sentry/tests/e2e/dbprovider/TestDbEndToEnd.java  | 20 ++++++++++++++++++++
 1 file changed, 20 insertions(+)

commit 13587ef40e72e8fc16821890bfa97ebe568dfc34
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 20:59:14 2014 -0700

    SENTRY-284: Create test for creating external partition
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../org/apache/sentry/binding/metastore/MetastoreAuthzBinding.java     | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b8fd11f4cb2ce66bee1a506439d16ada5350d956
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 10 17:18:14 2014 -0700

    SENTRY-290: Handle null pointer in SentryPolicyProcessor(Arun Suresh via Sravya Tirukkovalur)

 .../service/thrift/SentryPolicyStoreProcessor.java |  2 +-
 .../thrift/TestSentryServerWithoutKerberos.java    | 72 ++++++++++++++++++++-
 .../thrift/TestSentryServiceIntegration.java       | 75 ++--------------------
 3 files changed, 77 insertions(+), 72 deletions(-)

commit f741870c2145dd7a060e6408d6e73ca26a175943
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 10 16:35:08 2014 -0700

    SENTRY-247: Go back to using filter push down once the bugs are fixed (Arun Suresh via Sravya Tirukkovalur)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 11 +++--
 .../sentry/core/model/db/AccessConstants.java      |  1 +
 .../org/apache/sentry/core/model/db/Table.java     |  1 +
 .../sentry/policy/db/DBModelAuthorizables.java     |  8 ++-
 .../sentry/policy/db/DBWildcardPrivilege.java      |  4 ++
 .../common/ResourceAuthorizationProvider.java      | 34 +++++++++++--
 .../provider/db/SimpleDBProviderBackend.java       |  2 +-
 .../db/service/persistent/SentryStore.java         | 57 ++++++++++++++++++++--
 .../service/thrift/SentryPolicyStoreProcessor.java | 19 +++++++-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       | 26 ++--------
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     | 12 +++++
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  4 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 10 +++-
 13 files changed, 149 insertions(+), 40 deletions(-)

commit 38c4294ba398f85d8d0f1ad5b38ae48167d876f7
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 07:19:52 2014 -0700

    SENTRY-283: Secure connection from HS2 to Sentry service fails
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../main/java/org/apache/sentry/service/thrift/GSSCallback.java   | 8 +++++++-
 .../org/apache/sentry/service/thrift/KerberosConfiguration.java   | 4 ++++
 2 files changed, 11 insertions(+), 1 deletion(-)

commit 3071da2fca0a5e9123622334cdab8de22c5cee89
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 10 07:04:59 2014 -0700

    SENTRY-277: Add Pig+HCat test for Metastore auth plugin
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 pom.xml                                            |  16 +++
 .../binding/metastore/MetastoreAuthzBinding.java   |  18 +++-
 sentry-tests/sentry-tests-hive/pom.xml             |  15 +++
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  25 ++++-
 ...stractMetastoreTestWithStaticConfiguration.java |  31 ++++++
 .../e2e/metastore/TestMetaStoreWithPigHCat.java    | 113 +++++++++++++++++++++
 6 files changed, 211 insertions(+), 7 deletions(-)

commit c57c531798501a4bec4507b9d0ec93d43d4c1c1a
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Jun 9 19:59:43 2014 -0700

    SENTRY-269: Add a test case for Denied Alter table, should fire SentryOnFailureHook
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../TestDbSentryOnFailureHookLoading.java          | 22 ++++++++++------------
 1 file changed, 10 insertions(+), 12 deletions(-)

commit 8e7657a7ee3adb95cad9afb37a6b53dfa5b86d8f
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Jun 9 19:53:39 2014 -0700

    SENTRY-278: TestSearchModelAuthorizables.testTooManyKV and TestDBModelAuthorizables.testTooManyKV fail
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../java/org/apache/sentry/policy/db/TestDBModelAuthorizables.java   | 4 ----
 .../apache/sentry/policy/search/TestSearchModelAuthorizables.java    | 5 -----
 2 files changed, 9 deletions(-)

commit 834033ad4566f9d4b8aaa5f215f9242dfeae5b59
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Jun 9 19:46:32 2014 -0700

    SENTRY-280: Sentry-202 missing changes
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../thrift/TestSentryServiceIntegration.java       | 17 +++++++-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 46 +++++++++++-----------
 .../sentry/tests/e2e/hive/TestUriPermissions.java  | 21 +++++++---
 3 files changed, 54 insertions(+), 30 deletions(-)

commit c04138d38fc4cb6ba23d8220bb40964fed653cc2
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 9 14:59:45 2014 -0700

    SENTRY-259: Implement Hive metastore plugin ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   1 +
 .../binding/metastore/MetastoreAuthzBinding.java   | 338 ++++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |   2 +-
 .../thrift/SentryServiceIntegrationBase.java       |   1 -
 .../e2e/dbprovider/PolicyProviderForTest.java      |   2 +-
 .../TestDbSentryOnFailureHookLoading.java          |  12 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |  13 +-
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  26 +-
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |   4 +-
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |  32 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  44 ++-
 .../hive/hiveserver/InternalMetastoreServer.java   |  81 +++++
 ...stractMetastoreTestWithStaticConfiguration.java | 156 +++++++++
 .../tests/e2e/metastore/TestMetastoreEndToEnd.java | 387 +++++++++++++++++++++
 .../src/test/resources/core-site.xml               |  33 ++
 16 files changed, 1108 insertions(+), 26 deletions(-)

commit 9afc663d0d2e746180b3bf26315d32d64e7c7c1c
Author: Brock Noland <brock@apache.org>
Date:   Sun Jun 8 15:58:09 2014 -0700

    SENTRY-166 - Sentry does not accept URIs with an equals sign (=) in path. Fails with llegalArgumentException: Invalid key value (Jarcec via Brock)

 .../thrift/TestSentryServiceIntegration.java       | 29 ++++++++++++++++++++++
 .../org/apache/sentry/provider/file/KeyValue.java  |  3 ++-
 .../apache/sentry/provider/file/TestKeyValue.java  | 11 +++++---
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 28 +++++++++++++++++++++
 4 files changed, 67 insertions(+), 4 deletions(-)

commit fcb561e282db9913bd7b3f26bfa9f3aa40d45992
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sun Jun 8 13:33:22 2014 -0700

    SENTRY-251: PolicyProviderForTest.addPrivilege breaks in some cases
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../e2e/dbprovider/PolicyProviderForTest.java      | 69 +++++++++++-----------
 1 file changed, 36 insertions(+), 33 deletions(-)

commit 42e2453a8427edce11dcb6439f559a0d7f73ad44
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Sun Jun 8 13:07:48 2014 -0700

    SENTRY-273: org.apache.sentry.tests.e2e.dbprovider.TestDbUriPermissions is failing( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../test/java/org/apache/sentry/tests/e2e/hive/TestUriPermissions.java | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 47dec01df2b57db165e49f03e2002023c5a2a104
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Sun Jun 8 12:36:31 2014 -0700

    SENTRY-276: SentryService tests are currently timing out (Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../org/apache/sentry/service/thrift/SentryService.java  | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 23134c6312035e6a7073d8e58d0332c1da60d913
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Jun 8 12:13:51 2014 -0700

    SENTRY-266: Implement _HOST substitution in principal (Jarek Jarcec Cecho via Prasad Mujumdar)

 .../service/thrift/SentryPolicyServiceClient.java  | 10 +++--
 .../sentry/service/thrift/SentryService.java       | 12 +++++-
 .../thrift/TestSentryServiceWithKerberos.java      | 47 ++++++++++++++++++++++
 .../thrift/SentryServiceIntegrationBase.java       | 20 ++++-----
 4 files changed, 71 insertions(+), 18 deletions(-)

commit 546617be36504d1cfccbca5acd6a2a9d203f0bc4
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Jun 8 10:34:52 2014 -0700

    SENTRY-275: Fix compilation error in SentryService (Jarek Jarcec Cecho via Prasad Mujumdar)

 .../src/main/java/org/apache/sentry/service/thrift/SentryService.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1e96a028b981c0bd7e44f76822a8ff29be65fe00
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat Jun 7 19:53:51 2014 -0700

    SENTRY-207: Sentry script should return non-zero exist status in error conditions
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../apache/sentry/service/thrift/SentryService.java   | 19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 5f91a3e585a85bd84ad4fe6c222b487ad3ab4dea
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat Jun 7 14:34:29 2014 -0700

    SENTRY-262: Updating patch for SENTRY-178
    
    (Arun Suresh via Jarek Jarcec Cecho)

 .../sentry/provider/db/service/model/MSentryPrivilege.java   |  4 +---
 .../src/main/resources/sentry-mysql-1.4.0.sql                | 12 ++++++++++++
 .../src/main/resources/sentry-oracle-1.4.0.sql               |  8 ++++++++
 .../src/main/resources/sentry-postgres-1.4.0.sql             |  8 ++++++++
 4 files changed, 29 insertions(+), 3 deletions(-)

commit c6a6dff6856d184f1bd6eb7f25ac1cb555148d4b
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat Jun 7 08:28:34 2014 -0700

    SENTRY-261: Improve test coverage for grant/revoke statements in Hive e2e tests
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   4 +-
 .../thrift/TListSentryPrivilegesResponse.java      |  81 ++++---
 .../service/thrift/TListSentryRolesResponse.java   |  81 ++++---
 .../service/thrift/SentryPolicyServiceClient.java  |   2 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   6 +
 .../main/resources/sentry_policy_service.thrift    |   4 +-
 .../thrift/TestSentryServiceIntegration.java       |   6 +-
 .../e2e/dbprovider/PolicyProviderForTest.java      |   2 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 265 ++++++++++++++++++---
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   4 +-
 .../TestDbSentryOnFailureHookLoading.java          | 140 ++++++-----
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   7 +-
 .../tests/e2e/hive/DummySentryOnFailureHook.java   |  21 +-
 13 files changed, 438 insertions(+), 185 deletions(-)

commit 6e0def2cbc09872c3500bdbdb68ec1b796a2d620
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jun 6 19:12:53 2014 -0700

    SENTRY-271: Test TestSentryServiceIntegration is flaky(  Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../service/thrift/SentryServiceIntegrationBase.java       | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 7598d6829ef590f8f026c4a64e3cc3ef46c384d5
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jun 6 17:20:31 2014 -0700

    SENTRY-258: Increase field PRIVILEGE_NAME to 4000 characters to enable long URIs( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../main/java/org/apache/sentry/provider/db/service/model/package.jdo   | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-derby-1.4.0.sql        | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-oracle-1.4.0.sql       | 2 +-
 .../sentry-provider-db/src/main/resources/sentry-postgres-1.4.0.sql     | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit cdc25da32c714b53a23228946cc0d1e4fe3e45c3
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Fri Jun 6 17:10:28 2014 -0700

    SENTRY-246: Load command does not seem to work with filter push down
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../db/service/persistent/SentryStore.java         |  2 +-
 .../db/service/persistent/TestSentryStore.java     | 42 ++++++++++++++++++++++
 2 files changed, 43 insertions(+), 1 deletion(-)

commit 7cfcc30025f881284d4b4f1e7d77a6f2f1f4a71e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Jun 6 09:17:03 2014 -0700

    SENTRY-263: Remove usage of getHostString() from AbstractTestWithStaticConfiguration ( Jarek Jarcec Cecho via Sravya Tirukkovalur)

 .../sentry/tests/e2e/hive/AbstractTestWithStaticConfiguration.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ff30d7ff5cc83bcaa69cb2214e4f7af0016639af
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Thu Jun 5 16:49:57 2014 -0700

    SENTRY-231: Fix JDK 6 build
    
    (Ruiming Zhou via Jarek Jarcec Cecho)

 pom.xml                                                  |  4 ++--
 .../provider/db/service/persistent/SentryStore.java      |  2 +-
 .../db/service/thrift/SentryPolicyServiceClient.java     |  2 +-
 .../db/service/thrift/SentryPolicyStoreProcessor.java    | 16 +++++++++++++---
 .../sentry/provider/db/tools/SentrySchemaTool.java       |  9 ++++++++-
 .../service/thrift/SentryServiceIntegrationBase.java     |  2 +-
 .../sentry/provider/file/SimpleFileProviderBackend.java  |  4 ++--
 .../tests/e2e/dbprovider/AbstractTestWithDbProvider.java |  2 +-
 8 files changed, 29 insertions(+), 12 deletions(-)

commit 7a9fd90c345a6e3f9656366773d452f18e0d5b15
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Jun 4 01:13:11 2014 -0700

    SENTRY-243: The operation type needs to be set in the grant/revoke task context for the failure hook ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 11 ++++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  1 +
 .../TestDbSentryOnFailureHookLoading.java          | 53 +++++++++++++++++++---
 3 files changed, 56 insertions(+), 9 deletions(-)

commit bc755d77d28691f1ff522b53633adb5da83c3e1a
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 3 19:59:01 2014 -0700

    SENTRY-255: Revoke on Server privilege fails
    
    (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   6 +-
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 121 +++++++++++++++++++++
 2 files changed, 126 insertions(+), 1 deletion(-)

commit 112dd60bc6ca7948a6f3d75cb9c7c0d72e70f841
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Jun 3 15:18:00 2014 -0700

    SENTRY-248: The sentry-provider-cache dependency is not correctly set
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 pom.xml             | 5 +++++
 sentry-dist/pom.xml | 4 ++++
 2 files changed, 9 insertions(+)

commit 600f0f15eac08f63ef76eb1c2e66ee761f560cb0
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue Jun 3 12:42:56 2014 -0700

    SENTRY-153: Add Hive e2e test with grant/revoke statements (Prasad Mujumdar via Sravya Tirukkovalur)

 pom.xml                                            |   4 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  14 +-
 .../provider/db/SimpleDBProviderBackend.java       |   2 +-
 .../db/service/persistent/SentryStore.java         |   8 +-
 .../service/thrift/SentryPolicyServiceClient.java  |   9 +-
 .../sentry/service/thrift/SentryService.java       |   4 +
 .../apache/sentry/provider/file/PolicyFile.java    |  11 +-
 .../e2e/dbprovider/PolicyProviderForTest.java      | 154 +++++++++++++++++++++
 .../tests/e2e/dbprovider/TestDbCrossDbOps.java     |  36 +++++
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |   6 +-
 .../dbprovider/TestDbExportImportPrivileges.java   |  33 +++++
 .../dbprovider/TestDbMetadataObjectRetrieval.java  |  33 +++++
 .../e2e/dbprovider/TestDbMetadataPermissions.java  |  33 +++++
 .../e2e/dbprovider/TestDbMovingToProduction.java   |  32 +++++
 .../e2e/dbprovider/TestDbPrivilegeAtTransform.java |  32 +++++
 .../TestDbPrivilegesAtDatabaseScope.java           |  34 +++++
 .../TestDbPrivilegesAtFunctionScope.java           |  33 +++++
 .../dbprovider/TestDbPrivilegesAtTableScope.java   |  33 +++++
 .../dbprovider/TestDbRuntimeMetadataRetrieval.java |  33 +++++
 .../tests/e2e/dbprovider/TestDbSandboxOps.java     |  32 +++++
 .../tests/e2e/dbprovider/TestDbUriPermissions.java |  31 +++++
 .../tests/e2e/dbprovider/TestDbUserManagement.java |  31 +++++
 .../hive/AbstractTestWithStaticConfiguration.java  | 109 +++++++++++++--
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   5 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  27 ++--
 .../tests/e2e/hive/TestExportImportPrivileges.java |   6 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |   8 +-
 .../tests/e2e/hive/TestMetadataPermissions.java    |   7 +-
 .../tests/e2e/hive/TestMovingToProduction.java     |   6 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |   7 +-
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |   6 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |   7 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |   7 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |   8 +-
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |   7 +-
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  27 ++--
 .../e2e/hive/hiveserver/AbstractHiveServer.java    |  13 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  20 +--
 38 files changed, 806 insertions(+), 102 deletions(-)

commit ac70d73c6de06e2d912122770fae5a6e09fd1c8e
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 2 20:05:58 2014 -0700

    SENTRY-237: Support log4j configuration for Sentry service ( Arun Suresh via Sravya Tirukkovalur)

 sentry-core/sentry-core-common/pom.xml                    |  8 ++++++++
 .../src/main/java/org/apache/sentry/SentryMain.java       | 15 ++++++++++++++-
 2 files changed, 22 insertions(+), 1 deletion(-)

commit f24db42b576c67c1b6caa8be6f8ead6b949d086a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 2 19:33:31 2014 -0700

    SENTRY-219: Sentry Cache Backend Provider initialization does not work as expected ( Lenni Kuff via Sravya Tirukkovalur)

 .../apache/sentry/provider/cache/SimpleCacheProviderBackend.java | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 12d6c965feda9e3a134c5877c5cb83dacd574834
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Jun 2 18:20:38 2014 -0700

    SENTRY-241: Sentry GrantRevokeTask should fire the sentry failure look (Prasad Mujumdar via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  67 +++++---
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  38 +++--
 .../e2e/dbprovider/AbstractTestWithDbProvider.java |  14 +-
 .../TestDbSentryOnFailureHookLoading.java          | 177 +++++++++++++++++++++
 .../tests/e2e/hive/DummySentryOnFailureHook.java   |  16 +-
 5 files changed, 278 insertions(+), 34 deletions(-)

commit 8525fe62eee72a42178b8e8a64e60dffc9953401
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jun 2 15:20:52 2014 -0700

    SENTRY-215: SHOW GRANT ROLE xxx ON [SERVER, DATABASE, TABLE, URI] xxx (Sravya Tirukkovalur via Prasad Mujumdar)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  73 ++++++--
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  21 +--
 .../tests/e2e/dbprovider/TestDatabaseProvider.java | 186 +++++++++++++++++++--
 3 files changed, 233 insertions(+), 47 deletions(-)

commit 2f4819395bcaec9e244da7d5ddcf13de3e518012
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri May 30 19:43:10 2014 -0700

    SENTRY-188: Reduce the logging level during per-db policy loading ( Ruiming Zhou via Sravya Tirukkovalur)

 .../java/org/apache/sentry/provider/file/SimpleFileProviderBackend.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2fcffe618ec9c9b922f0fc390cdada0557894c1
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri May 30 19:40:44 2014 -0700

    SENTRY-236: Sentry PolicyFile provider incorrectly logs error messages when reading policy file ( Lenni Kuff via Sravya Tirukkovalur)

 .../src/main/java/org/apache/sentry/provider/file/PolicyFiles.java       | 1 -
 1 file changed, 1 deletion(-)

commit a7b45622309cc1753fa082be0c52d5e3e90faa42
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri May 30 19:24:15 2014 -0700

    SENTRY-157: Support filter pushdown in DB Store client to reduce data transfer from DB Store service ( Arun Suresh via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |   2 +-
 .../apache/sentry/policy/common/PolicyEngine.java  |  18 +-
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |  14 +-
 .../policy/db/AbstractTestSimplePolicyEngine.java  |  14 +-
 .../policy/db/TestPolicyParsingNegative.java       |  20 +-
 .../policy/db/TestSimpleDBPolicyEngineDFS.java     |   2 +-
 .../policy/search/SimpleSearchPolicyEngine.java    |  13 +-
 .../provider/cache/SimpleCacheProviderBackend.java |   3 +-
 .../sentry/provider/common/ProviderBackend.java    |   3 +-
 .../common/ResourceAuthorizationProvider.java      |  10 +-
 .../provider/common/TestGetGroupMapping.java       |  14 +-
 .../TListSentryPrivilegesForProviderRequest.java   | 117 +++-
 .../thrift/TListSentryPrivilegesRequest.java       | 123 +++-
 .../db/service/thrift/TSentryAuthorizable.java     | 707 +++++++++++++++++++++
 .../provider/db/SimpleDBProviderBackend.java       |   8 +-
 .../db/service/model/MSentryPrivilege.java         |   2 +-
 .../db/service/persistent/SentryStore.java         | 178 +++++-
 .../service/thrift/SentryPolicyServiceClient.java  |  53 +-
 .../service/thrift/SentryPolicyStoreProcessor.java |   9 +-
 .../main/resources/sentry_policy_service.thrift    |  11 +-
 .../db/service/persistent/TestSentryStore.java     |  28 +-
 .../thrift/TestSentryServiceIntegration.java       | 136 ++--
 .../provider/file/SimpleFileProviderBackend.java   |   5 +-
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       |  31 +-
 24 files changed, 1384 insertions(+), 137 deletions(-)

commit a989b17b44e194b39fda03371fca9a91a09d3fb6
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 29 15:56:09 2014 -0700

    SENTRY-202: Sentry end to end tests which use ClusterDFS will need to explicitly add the policy file to HDFS (Sravya Tirukkovalur via Prasad Mujumdar)

 .../hive/AbstractTestWithStaticConfiguration.java  | 11 +++
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 41 +++++------
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java | 10 ++-
 .../tests/e2e/hive/TestExportImportPrivileges.java |  8 +--
 .../e2e/hive/TestMetadataObjectRetrieval.java      | 82 ++++++++++++----------
 .../tests/e2e/hive/TestMetadataPermissions.java    |  5 +-
 .../tests/e2e/hive/TestMovingToProduction.java     | 28 ++++----
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  | 12 ++--
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  9 ++-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 19 ++---
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  9 ++-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 29 ++++----
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 33 ++++-----
 .../sentry/tests/e2e/hive/TestUriPermissions.java  | 17 +++--
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 45 ++++++------
 15 files changed, 178 insertions(+), 180 deletions(-)

commit 0cd62512a2c10e3521c27cf8eb2943f5d6e66e01
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 29 15:55:22 2014 -0700

    SENTRY-235: Change tests in TestSentryServerWithoutKerberos to use new Sentry service APIs (Sravya Tirukkovalur via Prasad Mujumdar)

 .../thrift/TestSentryServerWithoutKerberos.java    | 38 ++++------
 .../e2e/dbprovider/AbstractTestWithDbProvider.java | 52 ++++++++------
 .../{hive => dbprovider}/TestDatabaseProvider.java | 83 ++--------------------
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       | 13 +---
 4 files changed, 50 insertions(+), 136 deletions(-)

commit 61a67cb956fe5552b15b335c2b9fb8fc4b8d2620
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed May 28 23:38:11 2014 -0700

    SENTRY-191: Sentry Policy Service should not require passing the RPC requestor's user/group information ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  54 +++---
 .../provider/common/AuthorizationProvider.java     |   2 +
 .../provider/common/HadoopGroupMappingService.java |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |   5 +
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   | 197 +++------------------
 .../TAlterSentryRoleDeleteGroupsRequest.java       | 197 +++------------------
 .../TAlterSentryRoleGrantPrivilegeRequest.java     | 161 +----------------
 .../TAlterSentryRoleRevokePrivilegeRequest.java    | 161 +----------------
 .../service/thrift/TCreateSentryRoleRequest.java   | 161 +----------------
 .../db/service/thrift/TDropSentryRoleRequest.java  | 161 +----------------
 .../TListSentryPrivilegesForProviderRequest.java   |  32 ++--
 .../TListSentryPrivilegesForProviderResponse.java  |  32 ++--
 .../thrift/TListSentryPrivilegesRequest.java       | 161 +----------------
 .../thrift/TListSentryPrivilegesResponse.java      |  36 ++--
 .../db/service/thrift/TListSentryRolesRequest.java | 163 +----------------
 .../service/thrift/TListSentryRolesResponse.java   |  36 ++--
 .../db/service/thrift/TSentryActiveRoleSet.java    |  32 ++--
 .../provider/db/service/thrift/TSentryRole.java    |  36 ++--
 .../service/thrift/SentryPolicyServiceClient.java  |  84 +++++----
 .../service/thrift/SentryPolicyStoreProcessor.java |  56 +++++-
 .../sentry/service/thrift/ServiceConstants.java    |   6 +
 .../main/resources/sentry_policy_service.thrift    |  26 +--
 .../thrift/TestSentryServerWithoutKerberos.java    |   8 +-
 .../thrift/TestSentryServiceIntegration.java       | 125 +++++++------
 .../thrift/SentryServiceIntegrationBase.java       |  20 +++
 .../provider/file/LocalGroupMappingService.java    |   9 +-
 .../apache/sentry/provider/file/PolicyFile.java    |  30 ++--
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   6 +-
 .../tests/e2e/hive/TestDatabaseProvider.java       |  81 +++++----
 29 files changed, 481 insertions(+), 1603 deletions(-)

commit af795c024fd3d43ca3f7d6048d47cf4d0a485398
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sun May 25 07:19:40 2014 -0700

    SENTRY-183: Sentry Policy Service goes into an unusable state when granting privileges. Subsequent access fail with a DataNucleusException: "Iteration request failed: SELECT ... (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../db/service/model/MSentryPrivilege.java         |  5 +-
 .../provider/db/service/model/MSentryRole.java     |  9 ++--
 .../db/service/persistent/SentryStore.java         |  3 +-
 .../thrift/TestSentryServerWithoutKerberos.java    | 55 ++++++++++++++++++++++
 4 files changed, 64 insertions(+), 8 deletions(-)

commit c9bc1e1f33401007de68a8d495c6ec904f0965fe
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sat May 24 08:07:17 2014 -0700

    SENTRY-229: SentrySchemaTool initSchema does not work with postgres 8.1and oracle (Arun Suresh via Jarek Jarcec Cecho)

 .../java/org/apache/sentry/provider/db/tools/SentrySchemaHelper.java   | 3 ++-
 .../sentry-provider-db/src/main/resources/sentry-oracle-1.4.0.sql      | 2 +-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit c6f50f122d63b44dfae29cbed470bbf5b41f83f2
Author: Gregory Chanan <gregchanan@gmail.com>
Date:   Fri May 23 16:07:15 2014 -0700

    SENTRY-230: e2e test for doc level security to cover failure scenarios around Index level auth (Vamsee Yarlagadda via Gregory Chanan)

 .../tests/e2e/solr/TestDocLevelOperations.java     | 70 +++++++++++++++-------
 .../resources/solr/sentry/test-authz-provider.ini  |  2 +-
 2 files changed, 48 insertions(+), 24 deletions(-)

commit 3ea19d86d7108ae47dde462871d97e8249f3a2fe
Author: Vamsee <vamsee@cloudera.com>
Date:   Fri May 23 15:54:55 2014 -0700

    SENTRY-233: Disable hdfs blockcache during solr e2e tests (Gregory Chanan via Vamsee Yarlagadda)

 .../org/apache/sentry/tests/e2e/solr/AbstractSolrSentryTestBase.java  | 4 ++++
 1 file changed, 4 insertions(+)

commit afe33c981062ad60320b06629c473ed16273d9de
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu May 22 16:28:15 2014 -0700

    SENTRY-224: Provider resource should not be required for DB provider backend (Prasad Mujumdar via Sravya Tirukkovalur)

 .../org/apache/sentry/provider/db/SimpleDBProviderBackend.java     | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 7d214749a349567f258e3f83c554ae73cd5c0781
Author: Vamsee <vamsee@cloudera.com>
Date:   Wed May 21 18:21:20 2014 -0700

    SENTRY-223: Add a test for updates with doc-level security (Gregory Chanan via Vamsee Yarlagadda)

 .../tests/e2e/solr/TestDocLevelOperations.java     | 291 +++++++++++++++------
 .../resources/solr/sentry/test-authz-provider.ini  |   6 +-
 2 files changed, 220 insertions(+), 77 deletions(-)

commit 3226ce992a32c52e76dd3ae5fdb1c9e870b0214f
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 21 14:33:39 2014 -0700

    SENTRY-216: Support SHOW CURRENT ROLES (Sravya Tirukkovalur via Prasad Mujumdar)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 31 +++++++++++++---
 .../binding/hive/authz/HiveAuthzBinding.java       |  4 +++
 .../tests/e2e/hive/TestDatabaseProvider.java       | 42 +++++++++++++++++-----
 3 files changed, 65 insertions(+), 12 deletions(-)

commit 540424d50f84c3ad0bd65370374e3d70c352bb72
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed May 21 13:25:31 2014 -0700

    SENTRY-217: Add Insert and URI tests for Sentry DB provider (Prasad Mujumdar via Sravya Tirukkovalur)

 .../apache/hadoop/hive/SentryHiveConstants.java    |   4 +-
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java |  53 +++--
 .../ql/exec/SentryHivePrivilegeObjectDesc.java     |  42 ++++
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |  20 +-
 .../db/service/persistent/SentryStore.java         |   4 +-
 .../db/service/persistent/TestSentryStore.java     |   6 +-
 .../persistent/TestSentryStoreToAuthorizable.java  |   8 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  85 ++++----
 .../e2e/dbprovider/AbstractTestWithDbProvider.java | 155 +++++++++++++++
 .../tests/e2e/dbprovider/TestDbEndToEnd.java       | 218 +++++++++++++++++++++
 10 files changed, 532 insertions(+), 63 deletions(-)

commit afe8cd8dfed8f0118a97c1d9377eef262717d9ea
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 21 13:26:06 2014 -0700

    SENTRY-178: Poor performance for Sentry Policy Service as #of privileges is scaled up (Arun Suresh via Prasad Mujumdar)

 .../db/service/model/MSentryPrivilege.java         |  5 +-
 .../provider/db/service/model/MSentryRole.java     |  3 +-
 .../db/service/persistent/SentryStore.java         |  4 +-
 .../thrift/TestSentryServiceIntegration.java       | 56 ++++++++++++++++++----
 4 files changed, 52 insertions(+), 16 deletions(-)

commit 5743455f99b400b0be6f75e5f0f753c2a044d86d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 21 01:04:30 2014 -0700

    SENTRY-220: Trivial fix to SentrySchemaTool to set default driver (Sravya Tirukkovalur via Prasad Mujumdar)

 .../java/org/apache/sentry/provider/db/tools/SentrySchemaTool.java    | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c7f7fa57aa406cd148f21c09d498b1468c1ce663
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 21 00:51:29 2014 -0700

    SENTRY-221: Privilege scope is case sensitive (Sravya Tirukkovalur via Prasad Mujumdar)

 .../sentry/provider/db/service/persistent/SentryStore.java     |  3 ++-
 .../sentry/provider/db/service/persistent/TestSentryStore.java | 10 +++++++++-
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 37d8e84572183b980663255ed0cdd8a89b06f963
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 19 07:34:52 2014 -0700

    SENTRY-218: Use defaults for user, password and driver in SchemaTool (Sravya Tirukkovalur via Prasad Mujumdar)

 .../service/persistent/SentryStoreSchemaInfo.java  |  2 +-
 .../sentry/provider/db/tools/SentrySchemaTool.java | 84 ++++++++++++----------
 .../provider/db/tools/TestSentrySchemaTool.java    | 24 +++++--
 3 files changed, 65 insertions(+), 45 deletions(-)

commit a27f633d225fe1f56528a36f3d8e91cddb33c1bc
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon May 19 15:19:51 2014 -0700

    SENTRY-214: Sentry Service does not allow the same Privilege to be associated to multiple Roles(Arun Suresh via Sravya Tirukkovalur)

 .../db/service/persistent/SentryStore.java         | 34 ++++++++++++++--------
 .../thrift/TestSentryServiceIntegration.java       | 33 +++++++++++++++++----
 2 files changed, 50 insertions(+), 17 deletions(-)

commit 7c71b0c88cb5ed9d4f6acf7337104245a51a58c2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 19 05:46:50 2014 -0700

    SENTRY-209: Empty list returned when calling listPrivilegesByRoleName (Arun Suresh via Prasad Mujumdar)

 .../src/main/resources/sentry-mysql-1.4.0.sql              | 14 ++++++--------
 .../src/main/resources/sentry-oracle-1.4.0.sql             | 14 ++++++--------
 .../src/main/resources/sentry-postgres-1.4.0.sql           | 14 ++++++--------
 3 files changed, 18 insertions(+), 24 deletions(-)

commit 953185014ddedbb9d099845107e948bf4d33003c
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon May 19 10:11:53 2014 -0700

    SENTRY-213: Sentry schema tool doesn't handle sentry.javax.jdo.* properties ( Prasad  Mujumdar via Sravya Tirukkovalur)

 .../sentry/provider/db/service/persistent/SentryStore.java    |  3 +++
 .../org/apache/sentry/provider/db/tools/SentrySchemaTool.java | 11 +++--------
 .../org/apache/sentry/service/thrift/ServiceConstants.java    |  5 +++--
 .../apache/sentry/provider/db/tools/TestSentrySchemaTool.java |  4 ++--
 4 files changed, 11 insertions(+), 12 deletions(-)

commit cbbb3bd7ae1053ae3794fada66160aee10664014
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon May 19 08:23:54 2014 -0700

    SENTRY-158: Hive bindings should enable MR level ACLs for session user
    
    (Prasad Mujumdar via Jarek Jarcec Cecho)

 .../binding/hive/HiveAuthzBindingSessionHook.java  | 24 +++++++++++++++-------
 .../org/apache/sentry/tests/e2e/hive/Context.java  | 22 ++++++++++++++++++++
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 10 +++++++++
 3 files changed, 49 insertions(+), 7 deletions(-)

commit 5fc968e6caa2a7a3c4b7a75de6c93ff0dba89c9b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 16 19:22:37 2014 -0700

    SENTRY-205: Sentry throws Exception when trying to revoke Table level privileges (Arun Suresh via Prasad Mujumdar)

 .../db/service/thrift/SentryPolicyServiceClient.java   |  1 +
 .../service/thrift/TestSentryServiceIntegration.java   | 18 ++++++++++++++++++
 2 files changed, 19 insertions(+)

commit b3ee46494335fd4a8ab0c444ec1508b1b5962593
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 16 17:07:07 2014 -0700

    SENTRY-150: Support various SHOW commands (Sravya Tirukkovalur via Prasad Mujumdar)

 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 253 ++++++++++-----------
 .../SentryHiveAuthorizationTaskFactoryImpl.java    |   6 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   6 +
 .../tests/e2e/hive/TestDatabaseProvider.java       | 173 +++++++++++++-
 .../e2e/hive/hiveserver/AbstractHiveServer.java    |  16 +-
 5 files changed, 306 insertions(+), 148 deletions(-)

commit b1d4dde5e6eb352e5b7b2386a1e03551978945a4
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 16 13:27:49 2014 -0700

    SENTRY-203: Column name mismatch causes DataNucleus to throw exceptions ( Arun Suresh via Prasad Mujumdar)

 .../sentry-provider-db/src/main/resources/sentry-mysql-1.4.0.sql    | 6 +++---
 .../sentry-provider-db/src/main/resources/sentry-oracle-1.4.0.sql   | 6 +++---
 .../sentry-provider-db/src/main/resources/sentry-postgres-1.4.0.sql | 6 +++---
 3 files changed, 9 insertions(+), 9 deletions(-)

commit 0d5e43581d395cf26cc9ccde967065f4382623e3
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri May 16 12:53:26 2014 -0700

    SENTRY-200: Remove sentry-provider dependencies on hive ( Prasad Mujumdar via Sravya Tirukkovalur)

 sentry-provider/sentry-provider-db/pom.xml         |  5 ---
 .../service/persistent/SentryStoreSchemaInfo.java  |  2 +-
 .../sentry/provider/db/tools/SentrySchemaTool.java | 41 +++++++++++-----------
 3 files changed, 21 insertions(+), 27 deletions(-)

commit 3339536df3ddce70a0fff0f46664e037386cf5e1
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri May 16 11:12:10 2014 -0700

    SENTRY-156: Support local privilege validation APIs ( Prasad Mujumdar via Sravya Tirukkovalur)

 sentry-provider/pom.xml                            |   1 +
 sentry-provider/sentry-provider-cache/pom.xml      |  96 +++++++++++++++++++
 .../sentry/provider/cache/PrivilegeCache.java      |  33 +++++++
 .../provider/cache/SimpleCacheProviderBackend.java |  86 +++++++++++++++++
 .../provider/cache/PrivilegeCacheTestImpl.java     |  63 +++++++++++++
 .../sentry/provider/cache/TestCacheProvider.java   | 105 +++++++++++++++++++++
 .../test-authz-provider-local-group-mapping.ini    |  33 +++++++
 .../provider/common/ProviderBackendContext.java    |  10 ++
 .../service/persistent/SentryStoreSchemaInfo.java  |   1 -
 9 files changed, 427 insertions(+), 1 deletion(-)

commit f764ea93d273038bc239eadc9f1a390551e3f724
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 16 10:14:09 2014 -0700

    SENTRY-204: Test cases extending SentryServiceIntegrationBase are failing

 .../org/apache/sentry/service/thrift/SentryServiceIntegrationBase.java   | 1 +
 1 file changed, 1 insertion(+)

commit d75c053164619e79cfca5617d34226ac8db9ac65
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu May 15 16:49:44 2014 -0700

    SENTRY-201: TestDatabaseProvider tests fail after Sentry schema tool was added. ( Prasad Mujumdar via Sravya Tirukkovalur)

 .../test/java/org/apache/sentry/tests/e2e/hive/TestDatabaseProvider.java | 1 +
 1 file changed, 1 insertion(+)

commit b3ec119995f86bbd3bb06ff6e04f991ba611bf61
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Tue May 13 08:25:39 2014 -0700

    SENTRY-194: Sentry script should not use Hive script by default for service and tool execution ( Prasad Mujumdar via Sravya Tirukkovalur)

 bin/sentry                                     | 38 ++++++++++++++++++++------
 sentry-binding/sentry-binding-hive/pom.xml     |  4 +++
 sentry-binding/sentry-binding-solr/pom.xml     |  1 +
 sentry-dist/src/main/assembly/bin.xml          | 20 +++++++++++++-
 sentry-dist/src/main/assembly/src.xml          |  7 -----
 sentry-policy/sentry-policy-db/pom.xml         |  1 +
 sentry-policy/sentry-policy-search/pom.xml     |  1 +
 sentry-provider/sentry-provider-common/pom.xml |  1 +
 sentry-provider/sentry-provider-db/pom.xml     |  1 +
 sentry-provider/sentry-provider-file/pom.xml   |  1 +
 10 files changed, 58 insertions(+), 17 deletions(-)

commit eb772e637d461ddb498fdf3236b33e0a4efdee2a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun May 11 18:36:57 2014 -0700

    SENTRY-195: Sentry schema tool can't process comments inside statement (Jarek Jarcec Cecho via Prasad Mujumdar)

 .../src/main/resources/sentry-mysql-1.4.0.sql            | 16 ++++++++--------
 .../src/main/resources/sentry-oracle-1.4.0.sql           | 16 ++++++++--------
 .../src/main/resources/sentry-postgres-1.4.0.sql         | 16 ++++++++--------
 3 files changed, 24 insertions(+), 24 deletions(-)

commit 7fb9ac4fecc231473004a325fcce5de2916570c8
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sun May 11 07:55:51 2014 -0700

    SENTRY-193: Add schematool for creating Sentry store schema from the SQL scripts (Prasad Mujumdar via Jarek Jarcec Cecho)

 pom.xml                                            |  30 ++
 .../main/java/org/apache/sentry/SentryMain.java    |   2 +
 sentry-dist/src/main/assembly/bin.xml              |   7 +
 sentry-dist/src/main/assembly/src.xml              |   7 +
 sentry-policy/sentry-policy-db/pom.xml             |   5 +
 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../provider/db/service/model/MSentryVersion.java  |  66 +++
 .../sentry/provider/db/service/model/package.jdo   |  11 +
 .../db/service/persistent/SentryStore.java         | 153 +++++-
 .../service/persistent/SentryStoreSchemaInfo.java  | 120 +++++
 .../service/thrift/SentryPolicyStoreProcessor.java |  21 +-
 .../provider/db/tools/SentrySchemaHelper.java      | 296 +++++++++++
 .../sentry/provider/db/tools/SentrySchemaTool.java | 574 +++++++++++++++++++++
 .../sentry/service/thrift/SentryService.java       |  60 ++-
 .../sentry/service/thrift/ServiceConstants.java    |  19 +-
 .../src/main/resources/sentry-derby-1.4.0.sql      | 112 ++++
 .../src/main/resources/sentry-oracle-1.4.0.sql     |   2 +-
 .../src/main/resources/upgrade.order.derby         |   0
 .../src/main/resources/upgrade.order.mysql         |   0
 .../src/main/resources/upgrade.order.oracle        |   0
 .../src/main/resources/upgrade.order.postgres      |   0
 .../db/service/persistent/TestSentryStore.java     |  23 +-
 .../db/service/persistent/TestSentryVersion.java   |  84 +++
 .../provider/db/tools/TestSentrySchemaTool.java    |  80 +++
 24 files changed, 1605 insertions(+), 71 deletions(-)

commit 4adf59a691e83fa625fb7b1d24b7934c323a5a02
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Thu May 8 08:57:05 2014 -0700

    SENTRY-176: Not able to read policy files on HDFS (Regression) (Sravya Tirukkovalur via Jarek Jarcec Cecho)

 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 16 ++---
 .../apache/sentry/provider/file/PolicyFile.java    | 70 ++++------------------
 .../apache/sentry/provider/file/PolicyFiles.java   | 19 +++---
 .../provider/file/SimpleFileProviderBackend.java   | 55 +++++++++--------
 .../tests/e2e/hive/AbstractTestWithHiveServer.java | 10 ++--
 .../hive/AbstractTestWithStaticConfiguration.java  | 32 ++++++----
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 35 +++++++----
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  | 14 ++---
 .../tests/e2e/hive/TestServerConfiguration.java    | 32 +++++-----
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      | 20 ++++++-
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |  7 +--
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   |  4 ++
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   | 10 ++--
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 34 ++++-------
 14 files changed, 169 insertions(+), 189 deletions(-)

commit 1a72f619712ee24e0bfb3e5c97856024f3c82a2c
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 7 19:02:20 2014 -0700

    SENTRY-175: sentry script throws error for the dbstore service invocation. (Sravya Tirukkovalur via Prasad Mujumdar)

 bin/sentry                                         |  4 +-
 .../binding/hive/authz/SentryConfigTool.java       | 19 ++++-----
 .../main/java/org/apache/sentry/SentryMain.java    | 26 +++++++-----
 .../sentry/service/thrift/SentryService.java       | 48 +++++++++++-----------
 .../sentry/service/thrift/ServiceConstants.java    | 14 +++----
 5 files changed, 59 insertions(+), 52 deletions(-)

commit 0fea11ab366eb0e4d3aa090d470e4523ec987fd7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 7 16:06:15 2014 -0700

    Add Sentry service APIs to query roles and privileges (Sravya Tirukkovalur via Prasad Mujumdar)

 .../db/service/thrift/SentryPolicyService.java     | 208 +++---
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  68 +-
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  68 +-
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  32 +-
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  32 +-
 .../TListSentryPrivilegesForProviderRequest.java   |  32 +-
 .../TListSentryPrivilegesForProviderResponse.java  |  32 +-
 .../thrift/TListSentryPrivilegesRequest.java       | 740 +++++++++++++++++++++
 .../thrift/TListSentryPrivilegesResponse.java      | 545 +++++++++++++++
 .../db/service/thrift/TListSentryRolesRequest.java | 292 ++++----
 .../service/thrift/TListSentryRolesResponse.java   |  36 +-
 .../db/service/thrift/TSentryActiveRoleSet.java    |  32 +-
 .../provider/db/service/thrift/TSentryRole.java    | 166 ++---
 .../provider/db/SimpleDBProviderBackend.java       |   2 +-
 .../provider/db/service/model/MSentryRole.java     |  22 +-
 .../db/service/persistent/SentryStore.java         | 168 ++++-
 .../service/thrift/SentryPolicyServiceClient.java  |  95 ++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  54 +-
 .../main/resources/sentry_policy_service.thrift    |  54 +-
 .../thrift/TestSentryServiceIntegration.java       |  95 +--
 20 files changed, 2135 insertions(+), 638 deletions(-)

commit 8f1ef00bec397ecd83979e0fdbccc04a4829d3f1
Author: Vamsee <vamsee@cloudera.com>
Date:   Tue May 6 12:40:59 2014 -0700

    SENTRY-192: Convert solr doc-level e2e test to be based on roles rather than groups (Gregory Chanan via Vamsee Yarlagadda)

 .../tests/e2e/solr/TestDocLevelOperations.java     | 56 +++++++++++-----------
 .../solr/collection1/conf/solrconfig-doclevel.xml  | 12 ++---
 .../resources/solr/collection1/conf/solrconfig.xml | 21 +++++++-
 .../resources/solr/sentry/test-authz-provider.ini  |  4 +-
 4 files changed, 54 insertions(+), 39 deletions(-)

commit 071861d30a638dbd4cef05ab0d8bf4bd59c376e5
Author: Vamsee <vamsee@cloudera.com>
Date:   Mon May 5 13:44:32 2014 -0700

    SENTRY-190: Support for getting set of roles from ProviderBackend (Gregory Chanan via Vamsee Yarlagadda)

 .../binding/solr/authz/SolrAuthzBinding.java       | 14 ++++++++-
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 34 ++++++++++++++++++++++
 .../src/test/resources/test-authz-provider.ini     |  6 +++-
 .../sentry/provider/common/ProviderBackend.java    |  5 ++++
 .../provider/db/SimpleDBProviderBackend.java       |  9 ++++++
 .../provider/file/SimpleFileProviderBackend.java   | 22 ++++++++++++++
 6 files changed, 88 insertions(+), 2 deletions(-)

commit 1d6f38c081e862d9c2d59638aaf22a3bb27858e5
Author: Vamsee <vamsee@cloudera.com>
Date:   Tue Apr 29 14:20:30 2014 -0700

    SENTRY-187: Use invariants rather than default for specification of update index level authorization (Gregory Chanan via Vamsee Yarlagadda)

 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 80 ++++++++++++++++++++++
 .../tests/e2e/solr/TestDocLevelOperations.java     | 56 +--------------
 .../tests/e2e/solr/TestUpdateOperations.java       | 26 +++++++
 .../solr/collection1/conf/solrconfig-doclevel.xml  |  6 +-
 .../resources/solr/collection1/conf/solrconfig.xml | 14 +++-
 .../resources/solr/sentry/test-authz-provider.ini  |  2 +-
 6 files changed, 128 insertions(+), 56 deletions(-)

commit b4c39a1e89bd1f640d01e31d83d4833602e17a25
Author: Vamsee <vamsee@cloudera.com>
Date:   Tue Apr 29 13:56:44 2014 -0700

    SENTRY-186: e2e tests for solr document-level security (Gregory Chanan via Vamsee Yarlagadda)

 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |   20 +-
 .../tests/e2e/solr/TestDocLevelOperations.java     |  289 +++
 .../resources/solr/collection1/conf/schema.xml     |    2 +
 .../solr/collection1/conf/solrconfig-doclevel.xml  | 1881 ++++++++++++++++++++
 .../resources/solr/sentry/test-authz-provider.ini  |    7 +-
 5 files changed, 2193 insertions(+), 6 deletions(-)

commit 574a6855dbfdce3ab7934ffc0b1d8a3138def674
Author: Vamsee <vamsee@cloudera.com>
Date:   Tue Apr 29 13:17:00 2014 -0700

    SENTRY-159: Convert AbstractSolrSentryTestBase to use MiniSolrCloudCluster rather than Lucene test hierarchy (Gregory Chanan via Vamsee Yarlagadda)

 pom.xml                                            |   2 +-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 142 ++++++++++++++-------
 .../e2e/solr/TestCollAdminCoreOperations.java      |  21 ++-
 .../sentry/tests/e2e/solr/TestQueryOperations.java |  15 +--
 .../tests/e2e/solr/TestUpdateOperations.java       |  23 ++--
 5 files changed, 126 insertions(+), 77 deletions(-)

commit 0e07e9bf90a6101d13135d94d82a3dfc55b63151
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Apr 22 09:15:26 2014 -0700

    SENTRY-177: Sentry Policy Service does not treat role names as case insensitive (Sravya Tirukkovalur via Prasad Mujumdar)

 .../db/service/persistent/SentryStore.java         | 55 +++++++++++-----------
 .../db/service/persistent/TestSentryStore.java     | 46 +++++++++++++-----
 2 files changed, 63 insertions(+), 38 deletions(-)

commit a337480eb2cbf7f61716aaed6c31b4e11b63bb4a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Mon Apr 14 18:31:15 2014 -0700

    SENTRY-165: Implement createShowRolesTask() in SentryHiveAuthorizationTaskFactoryImpl (Sravya Tirukkovalur via Brock Noland)

 .../SentryHiveAuthorizationTaskFactoryImpl.java    | 31 +++++++++++++---------
 .../TestSentryHiveAuthorizationTaskFactory.java    | 30 +++++++++++++++++----
 2 files changed, 43 insertions(+), 18 deletions(-)

commit 197164e0624e3add1f1a7dd96c614d03f6df87c6
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Apr 11 09:36:01 2014 -0700

    SENTRY-152: Sentry checks permissions on underlying partitioned table when accessing a view

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   2 +-
 .../sentry/tests/e2e/hive/TestViewPrivileges.java  | 180 +++++++++++++++++++++
 2 files changed, 181 insertions(+), 1 deletion(-)

commit e0e70e2cd36daeac6fb2982728100d1d40def841
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Thu Apr 10 11:09:16 2014 -0700

    SENTRY-168: Trivial fixes to README and pom.xml (Sravya Tirukkovalur via Prasad Mujumdar)
    
    Conflicts:
            pom.xml

 README.md |  7 +++++--
 pom.xml   | 29 ++++++++++++++++++-----------
 2 files changed, 23 insertions(+), 13 deletions(-)

commit d40e5c4fb9a50e2d4f58cde82636c993ff468348
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Apr 9 11:04:47 2014 -0700

    SENTRY-169: JAAS login options not compatible with IBM JDK (Tuong Truong via Prasad Mujumdar)

 .../service/thrift/KerberosConfiguration.java      | 57 ++++++++++++++++------
 1 file changed, 43 insertions(+), 14 deletions(-)

commit b8cd5b1690603993393cf6046bf36adb4abe0f9a
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Wed Apr 2 14:21:41 2014 -0700

    SENTRY-164: Missing implementation for HiveAuthorizationTaskFactory: createShowRolesTask()(Tuong Truong via Sravya Tirukkovalur)

 .../binding/hive/SentryHiveAuthorizationTaskFactoryImpl.java       | 7 +++++++
 1 file changed, 7 insertions(+)

commit 97e91887d33a2bf1f4e5b89d15ef661098317da4
Author: Brock Noland <brock@apache.org>
Date:   Mon Mar 31 13:30:03 2014 -0700

    SENTRY-138 - Use server timestamp for createTime for role, privilege and group (Shreepadma via Brock)

 .../apache/sentry/provider/db/service/model/package.jdo  | 16 ++++++++--------
 .../provider/db/service/persistent/SentryStore.java      |  5 +++--
 2 files changed, 11 insertions(+), 10 deletions(-)

commit a6821a611c0a9a99ad92b4bee362c1402264c9f7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Mar 27 09:41:32 2014 -0700

    SENTRY-149: Support SET ROLE (Brock Noland via Prasad Mujumdar)

 pom.xml                                            |  8 ++---
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 23 ++++++++++---
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  1 +
 .../SentryHiveAuthorizationTaskFactoryImpl.java    | 31 +++++++++++++++--
 .../binding/hive/authz/HiveAuthzBinding.java       | 39 ++++++++++++++++++++--
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  5 +++
 .../TestSentryHiveAuthorizationTaskFactory.java    | 20 +++++------
 .../sentry/core/model/db/AccessConstants.java      |  6 ++++
 .../tests/e2e/hive/TestDatabaseProvider.java       | 11 +++++-
 9 files changed, 119 insertions(+), 25 deletions(-)

commit 369e241fb3fdb866491f205de11c143b6e91fc05
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Mar 26 22:08:19 2014 -0700

    SENTRY-161: Sentry master branch is trying to download Hadoop tarball from nonexisting URL (Jarek Jarcec Cecho via Prasad Mujumdar)

 sentry-tests/sentry-tests-hive/pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 04c4041bf470a8657ce25b8e8759ee1823e25141
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Mar 26 17:21:58 2014 -0700

    SENTRY-145: Store needs to handle privilege normalization (Brock Noland via Prasad Mujumdar)

 .../db/service/persistent/SentryStore.java         | 138 +++++++++++++++++++--
 .../service/thrift/SentryPolicyStoreProcessor.java |  80 +-----------
 .../db/service/persistent/TestSentryStore.java     |  31 +++--
 3 files changed, 154 insertions(+), 95 deletions(-)

commit 4247d21fa036685a098baac84262aa08693d1d82
Author: Brock Noland <brock@apache.org>
Date:   Tue Mar 25 21:13:15 2014 -0700

    SENTRY-137 - Validate privilege scope in sentry service (Prasad via Brock)

 .../service/thrift/SentryPolicyServiceClient.java  | 38 ++++++++++++----------
 .../service/thrift/SentryPolicyStoreProcessor.java | 38 +++++++++++++++++++---
 .../sentry/service/thrift/ServiceConstants.java    |  9 +++++
 3 files changed, 63 insertions(+), 22 deletions(-)

commit 63c134f360760a17434b33c26a612a846271523a
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Mar 18 16:29:40 2014 -0700

    SENTRY-129: Implement Hive Sentry Authz DDL Task Factory (Brock Noland via Shreepadma Venugopalan)

 pom.xml                                            |  10 +-
 sentry-binding/sentry-binding-hive/pom.xml         |  10 +
 .../apache/hadoop/hive/SentryHiveConstants.java    |  34 ++
 .../hadoop/hive/ql/exec/SentryGrantRevokeTask.java | 496 +++++++++++++++++++++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  15 +-
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  41 +-
 .../SentryHiveAuthorizationTaskFactoryImpl.java    | 330 ++++++++++++++
 .../binding/hive/authz/HiveAuthzBinding.java       |   9 +-
 .../TestSentryHiveAuthorizationTaskFactory.java    | 374 ++++++++++++++++
 .../sentry/policy/db/DBPolicyFileBackend.java      |   3 +-
 .../policy/search/SearchPolicyFileBackend.java     |   3 +-
 .../thrift/sentry_common_serviceConstants.java     |   2 +
 .../provider/db/SentryAccessDeniedException.java   |  27 ++
 .../provider/db/SimpleDBProviderBackend.java       |   4 -
 .../service/thrift/SentryPolicyServiceClient.java  |  51 ++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  49 ++
 .../apache/sentry/service/thrift/GSSCallback.java  |   5 +-
 .../sentry/service/thrift/SentryService.java       | 150 ++++---
 .../sentry/service/thrift/ServiceConstants.java    |   7 +
 .../org/apache/sentry/service/thrift/Status.java   |   7 +
 .../main/resources/sentry_common_service.thrift    |   1 +
 .../thrift/TestSentryServerWithoutKerberos.java    |  45 ++
 .../thrift/TestSentryServiceFailureCase.java       |  26 +-
 .../thrift/TestSentryServiceIntegration.java       |   8 +-
 .../thrift/SentryServiceIntegrationBase.java       |  60 ++-
 .../provider/file/SimpleFileProviderBackend.java   |   4 -
 .../file/TestSimpleFileProvderBackend.java         |   4 +-
 sentry-tests/sentry-tests-hive/pom.xml             |   5 +
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  18 +-
 .../tests/e2e/hive/TestDatabaseProvider.java       | 124 ++++++
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |   1 -
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   1 +
 32 files changed, 1773 insertions(+), 151 deletions(-)

commit fbf042e664aee35296a0280ba0223bf43749a1cf
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Mon Mar 17 13:26:06 2014 -0700

    SENTRY-134: Use BoneCP, add unique constraint to GROUP_NAME, and expose jdo/datanucleus properties (Brock Noland via Shreepadma Venugopalan)

 pom.xml                                                 |  6 ++++++
 sentry-provider/sentry-provider-db/pom.xml              |  4 ++++
 .../provider/db/service/persistent/SentryStore.java     | 17 ++++++++++++++++-
 .../apache/sentry/service/thrift/ServiceConstants.java  | 15 +++++++++++++--
 .../src/main/resources/sentry-mysql-1.4.0.sql           |  3 +++
 .../src/main/resources/sentry-oracle-1.4.0.sql          |  3 +++
 .../src/main/resources/sentry-postgres-1.4.0.sql        |  3 +++
 7 files changed, 48 insertions(+), 3 deletions(-)

commit 90cdbefd57b46281a593894b3a9fbf4686669228
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Mar 14 12:08:30 2014 -0700

    SENTRY-142: Create database backed ProviderBackend (Brock Noland via Shreepadma Venugopalan)

 .../binding/hive/HiveAuthzBindingPreExecHook.java  |   2 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  21 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |   2 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |   2 +-
 .../apache/sentry/core/common/ActiveRoleSet.java   |   8 +
 .../apache/sentry/policy/common/PolicyEngine.java  |   2 +
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |   7 +
 ...tResourceAuthorizationProviderGeneralCases.java |   2 +-
 .../policy/search/SimpleSearchPolicyEngine.java    |   7 +
 ...estSearchAuthorizationProviderGeneralCases.java |   2 +-
 sentry-provider/sentry-provider-common/pom.xml     |   4 +
 .../provider/common/AuthorizationProvider.java     |   5 +
 .../common}/HadoopGroupMappingService.java         |   2 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |   3 +-
 .../provider/common/NoAuthorizationProvider.java   |   4 +
 .../sentry/provider/common/ProviderBackend.java    |   2 +
 .../sentry/provider/common/ProviderConstants.java  |  38 +
 .../common}/ResourceAuthorizationProvider.java     |  17 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |  44 ++
 .../provider/common}/TestGetGroupMapping.java      |   6 +-
 sentry-provider/sentry-provider-db/pom.xml         |   4 +
 .../db/service/thrift/SentryPolicyService.java     | 806 +++++++++++++++++++++
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   | 302 ++++----
 .../TAlterSentryRoleDeleteGroupsRequest.java       | 414 +++++++++--
 .../TAlterSentryRoleGrantPrivilegeRequest.java     | 246 +++----
 .../TAlterSentryRoleRevokePrivilegeRequest.java    | 246 +++----
 .../service/thrift/TCreateSentryRoleRequest.java   | 297 ++++----
 .../db/service/thrift/TDropSentryRoleRequest.java  | 268 +++----
 .../TListSentryPrivilegesForProviderRequest.java   | 644 ++++++++++++++++
 .../TListSentryPrivilegesForProviderResponse.java  | 543 ++++++++++++++
 .../db/service/thrift/TListSentryRolesRequest.java | 269 ++-----
 .../db/service/thrift/TSentryActiveRoleSet.java    | 536 ++++++++++++++
 .../provider/db/service/thrift/TSentryRole.java    | 143 +---
 .../SentryAlreadyExistsException.java              |   2 +-
 .../SentryInvalidInputException.java               |   2 +-
 .../SentryNoSuchObjectException.java               |   2 +-
 .../provider/db/SimpleDBProviderBackend.java       | 108 +++
 .../provider/db/service/model/MSentryGroup.java    |  17 +-
 .../db/service/model/MSentryPrivilege.java         |  75 +-
 .../provider/db/service/model/MSentryRole.java     |  28 +-
 .../db/service/persistent/SentryStore.java         | 203 ++++--
 .../service/thrift/SentryPolicyServiceClient.java  | 209 +++++-
 .../service/thrift/SentryPolicyStoreProcessor.java |  39 +-
 .../sentry/service/thrift/ServiceConstants.java    |  29 +
 .../org/apache/sentry/service/thrift/Status.java   |  34 +
 .../main/resources/sentry_policy_service.thrift    | 109 +--
 .../db/service/persistent/TestSentryStore.java     | 154 +++-
 .../persistent/TestSentryStoreToAuthorizable.java  |  86 +++
 .../thrift/TestSentryServiceIntegration.java       | 171 ++---
 .../thrift/SentryServiceIntegrationBase.java       |   9 +
 .../LocalGroupResourceAuthorizationProvider.java   |   1 +
 .../sentry/provider/file/PolicyFileConstants.java  |  19 +-
 .../provider/file/SimpleFileProviderBackend.java   |   5 +
 53 files changed, 4700 insertions(+), 1500 deletions(-)

commit 644e8be346a152e43fa435b9adbb47ce6b3e3e91
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Mar 13 14:20:19 2014 -0700

    SENTRY-143: Merge db_policy_store branch into master (Brock Noland via Shreepadma Venugopalan)

 .gitignore                                         |    3 +-
 bin/config-tool.sh                                 |   25 -
 bin/sentry                                         |   59 +-
 pom.xml                                            |  123 +-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   28 +-
 .../binding/hive/HiveAuthzBindingPreExecHook.java  |    2 +-
 .../binding/hive/SentryOnFailureHookContext.java   |   13 +-
 .../hive/SentryOnFailureHookContextImpl.java       |   13 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   40 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |    1 -
 .../binding/hive/authz/SentryConfigTool.java       |  107 +-
 .../binding/hive/MockUserToGroupMapping.java       |    8 +-
 .../sentry/binding/hive/TestHiveAuthzConf.java     |    1 +
 .../org/apache/sentry/binding/hive/TestURI.java    |    1 -
 .../authz/SentrySolrAuthorizationException.java    |    2 +
 .../binding/solr/authz/SolrAuthzBinding.java       |   12 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |    4 -
 .../sentry/binding/solr/TestSolrAuthzBinding.java  |   39 +-
 sentry-core/sentry-core-common/pom.xml             |    4 +
 .../src/main/java/org/apache/sentry/Command.java   |   23 +
 .../main/java/org/apache/sentry/SentryMain.java    |   73 +
 .../org/apache/sentry/SentryUserException.java     |   28 +
 .../apache/sentry/core/common/ActiveRoleSet.java   |   71 +
 .../core/common/SentryConfigurationException.java  |    1 +
 .../apache/sentry/core/common/utils/PathUtils.java |    4 +-
 .../sentry/core/common/utils/TestPathUtils.java    |    1 +
 .../apache/sentry/core/search/TestCollection.java  |    3 +-
 sentry-dist/pom.xml                                |    4 +
 sentry-dist/src/main/assembly/src.xml              |    1 -
 .../apache/sentry/policy/common/PolicyEngine.java  |   39 +-
 .../org/apache/sentry/policy/common/Privilege.java |   21 +
 ...ermissionFactory.java => PrivilegeFactory.java} |    8 +-
 .../sentry/policy/common/PrivilegeUtils.java       |   27 +
 ...{RoleValidator.java => PrivilegeValidator.java} |    6 +-
 .../policy/common/PrivilegeValidatorContext.java   |   38 +
 ...ator.java => AbstractDBPrivilegeValidator.java} |    6 +-
 ...ardPermission.java => DBWildcardPrivilege.java} |   36 +-
 .../apache/sentry/policy/db/DatabaseMustMatch.java |   11 +-
 ...nRole.java => DatabaseRequiredInPrivilege.java} |   17 +-
 .../sentry/policy/db/ServerNameMustMatch.java      |   12 +-
 .../sentry/policy/db/ServersAllIsInvalid.java      |   12 +-
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |  125 +-
 .../policy/db/AbstractTestSimplePolicyEngine.java  |   27 +-
 .../sentry/policy/db/DBPolicyFileBackend.java      |    3 +-
 .../sentry/policy/db/TestDBModelAuthorizables.java |    2 -
 ...ermission.java => TestDBWildcardPrivilege.java} |   78 +-
 .../policy/db/TestDatabaseRequiredInRole.java      |   13 +-
 .../policy/db/TestPolicyParsingNegative.java       |   94 +-
 ...tResourceAuthorizationProviderGeneralCases.java |    8 +-
 ...tResourceAuthorizationProviderSpecialCases.java |   19 +-
 .../policy/db/TestSimpleDBPolicyEngineDFS.java     |   24 +-
 .../policy/db/TestSimpleDBPolicyEngineLocalFS.java |    3 +-
 ....java => AbstractSearchPrivilegeValidator.java} |    9 +-
 ...ole.java => CollectionRequiredInPrivilege.java} |   17 +-
 ...ermission.java => SearchWildcardPrivilege.java} |   38 +-
 .../policy/search/SimpleSearchPolicyEngine.java    |   88 +-
 .../search/AbstractTestSearchPolicyEngine.java     |   18 +-
 .../policy/search/SearchPolicyFileBackend.java     |    1 +
 .../search/TestCollectionRequiredInRole.java       |   19 +-
 ...estSearchAuthorizationProviderGeneralCases.java |    6 +-
 ...estSearchAuthorizationProviderSpecialCases.java |    5 +-
 .../search/TestSearchModelAuthorizables.java       |    2 -
 .../policy/search/TestSearchPolicyEngineDFS.java   |   11 +-
 .../policy/search/TestSearchPolicyNegative.java    |   34 +-
 ...ssion.java => TestSearchWildcardPrivilege.java} |   57 +-
 sentry-provider/pom.xml                            |    1 +
 .../provider/common/AuthorizationProvider.java     |   19 +-
 .../provider/common/GroupMappingService.java       |    9 +-
 .../provider/common/NoAuthorizationProvider.java   |    9 +-
 .../provider/common/NoGroupMappingService.java     |    8 +-
 .../sentry/provider/common/ProviderBackend.java    |   37 +-
 .../provider/common/ProviderBackendContext.java    |   50 +
 .../org/apache/sentry/provider/common/Roles.java   |   50 -
 .../common/MockGroupMappingServiceProvider.java    |    9 +-
 .../common/TestNoAuthorizationProvider.java        |    6 +-
 sentry-provider/sentry-provider-db/.gitignore      |    1 +
 sentry-provider/sentry-provider-db/pom.xml         |  243 +
 .../db/service/thrift/SentryPolicyService.java     | 6548 ++++++++++++++++++++
 .../thrift/TAlterSentryRoleAddGroupsRequest.java   |  895 +++
 .../thrift/TAlterSentryRoleAddGroupsResponse.java  |  390 ++
 .../TAlterSentryRoleDeleteGroupsRequest.java       |  639 ++
 .../TAlterSentryRoleDeleteGroupsResponse.java      |  390 ++
 .../TAlterSentryRoleGrantPrivilegeRequest.java     |  846 +++
 .../TAlterSentryRoleGrantPrivilegeResponse.java    |  390 ++
 .../TAlterSentryRoleRevokePrivilegeRequest.java    |  846 +++
 .../TAlterSentryRoleRevokePrivilegeResponse.java   |  390 ++
 .../service/thrift/TCreateSentryRoleRequest.java   |  745 +++
 .../service/thrift/TCreateSentryRoleResponse.java  |  390 ++
 .../db/service/thrift/TDropSentryRoleRequest.java  |  740 +++
 .../db/service/thrift/TDropSentryRoleResponse.java |  390 ++
 .../db/service/thrift/TListSentryRolesRequest.java |  850 +++
 .../service/thrift/TListSentryRolesResponse.java   |  545 ++
 .../provider/db/service/thrift/TSentryGroup.java   |  385 ++
 .../db/service/thrift/TSentryPrivilege.java        | 1224 ++++
 .../provider/db/service/thrift/TSentryRole.java    |  740 +++
 .../service/thrift/TSentryResponseStatus.java      |  594 ++
 .../thrift/sentry_common_serviceConstants.java     |   48 +
 .../provider/db/service/model/MSentryGroup.java    |  131 +
 .../db/service/model/MSentryPrivilege.java         |  247 +
 .../provider/db/service/model/MSentryRole.java     |  179 +
 .../sentry/provider/db/service/model/package.jdo   |  125 +
 .../db/service/persistent/CommitContext.java       |   42 +
 .../persistent/SentryAlreadyExistsException.java   |   27 +
 .../persistent/SentryInvalidInputException.java    |   27 +
 .../persistent/SentryNoSuchObjectException.java    |   27 +
 .../db/service/persistent/SentryStore.java         |  461 ++
 .../db/service/thrift/NotificationHandler.java     |   71 +
 .../service/thrift/NotificationHandlerInvoker.java |  146 +
 .../db/service/thrift/PolicyStoreConstants.java    |   25 +
 .../thrift/SentryConfigurationException.java       |   30 +
 .../service/thrift/SentryPolicyServiceClient.java  |  110 +
 .../service/thrift/SentryPolicyStoreProcessor.java |  344 +
 .../thrift/SentryPolicyStoreProcessorFactory.java  |   39 +
 .../service/thrift/ConnectionDeniedException.java  |   36 +
 .../apache/sentry/service/thrift/GSSCallback.java  |  102 +
 .../service/thrift/KerberosConfiguration.java      |   78 +
 .../sentry/service/thrift/ProcessorFactory.java    |   30 +
 .../sentry/service/thrift/SentryService.java       |  272 +
 .../service/thrift/SentryServiceClientFactory.java |   30 +
 .../service/thrift/SentryServiceFactory.java       |   29 +
 .../sentry/service/thrift/ServiceConstants.java    |   78 +
 .../org/apache/sentry/service/thrift/Status.java   |   84 +
 .../src/main/resources/sentry-mysql-1.4.0.sql      |  113 +
 .../src/main/resources/sentry-oracle-1.4.0.sql     |  101 +
 .../src/main/resources/sentry-postgres-1.4.0.sql   |  115 +
 .../main/resources/sentry_common_service.thrift    |   41 +
 .../main/resources/sentry_policy_service.thrift    |  150 +
 .../db/service/persistent/TestSentryStore.java     |  145 +
 .../thrift/TestNotificationHandlerInvoker.java     |  112 +
 .../thrift/TestSentryPolicyStoreProcessor.java     |   70 +
 .../thrift/TestSentryServiceFailureCase.java       |   45 +
 .../thrift/TestSentryServiceIntegration.java       |  170 +
 .../thrift/SentryServiceIntegrationBase.java       |  172 +
 .../src/test/resources/log4j.properties            |   34 +
 .../provider/file/HadoopGroupMappingService.java   |    9 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |    3 -
 .../provider/file/LocalGroupMappingService.java    |   14 +-
 .../LocalGroupResourceAuthorizationProvider.java   |    4 +-
 .../apache/sentry/provider/file/PolicyFile.java    |   10 +-
 .../apache/sentry/provider/file/PolicyFiles.java   |    2 +-
 .../file/ResourceAuthorizationProvider.java        |   76 +-
 .../provider/file/SimpleFileProviderBackend.java   |  248 +-
 .../sentry/provider/file/TestGetGroupMapping.java  |   34 +-
 .../apache/sentry/provider/file/TestKeyValue.java  |    1 -
 .../provider/file/TestLocalGroupMapping.java       |   22 +-
 .../file/TestSimpleFileProvderBackend.java         |  120 +
 sentry-tests/sentry-tests-hive/.gitignore          |    1 +
 sentry-tests/sentry-tests-hive/pom.xml             |   33 +-
 .../hive/AbstractTestWithStaticConfiguration.java  |   10 +-
 .../org/apache/sentry/tests/e2e/hive/Context.java  |    1 -
 .../sentry/tests/e2e/hive/TestConfigTool.java      |   27 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   12 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |    4 +-
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |   21 +-
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      |    5 +-
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       |    7 +-
 .../org/apache/sentry/tests/e2e/hive/fs/DFS.java   |    2 -
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |    4 +-
 .../apache/sentry/tests/e2e/hive/fs/MiniDFS.java   |    6 +-
 .../e2e/hive/hiveserver/EmbeddedHiveServer.java    |    6 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |    2 +-
 .../e2e/hive/hiveserver/InternalHiveServer.java    |    1 +
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   |   12 +-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |    3 -
 .../apache/sentry/tests/e2e/solr/HdfsTestUtil.java |    1 -
 .../solr/ModifiableUserAuthenticationFilter.java   |    1 -
 .../e2e/solr/TestCollAdminCoreOperations.java      |   12 +-
 .../sentry/tests/e2e/solr/TestQueryOperations.java |   11 +-
 .../tests/e2e/solr/TestUpdateOperations.java       |   11 +-
 169 files changed, 23720 insertions(+), 1109 deletions(-)

commit 0341d51b9f6f128b80b47678f7f1c5087b645a77
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Fri Mar 7 10:18:39 2014 -0800

    SENTRY-133: Alter table create partition if not exists - results in error (Brock Noland via Jarek Jarcec Cecho)

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 14 +++-
 .../binding/hive/TestHiveAuthzBindingHook.java     | 86 ++++++++++++++++++++++
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  7 +-
 3 files changed, 102 insertions(+), 5 deletions(-)

commit 3db29d19f850e3dcced09b6c3cac594d03ee9386
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Mar 5 15:36:13 2014 -0800

    SENTRY-131: bin/sentry script doesn't find config-tool.sh under some circumstances (Mark Grover via Prasad Mujumdar)

 bin/sentry | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77554a09be7cc6fe9851106aa58c50182a8503da
Author: Brock Noland <brock@apache.org>
Date:   Thu Feb 27 14:15:49 2014 -0600

    SENTRY-106 - Make solr testing work against apache 4.7 version (Gregory via Brock)

 pom.xml                                                    | 14 ++++++++++++--
 .../sentry/tests/e2e/solr/AbstractSolrSentryTestBase.java  |  2 +-
 .../tests/e2e/solr/ModifiableUserAuthenticationFilter.java |  3 +--
 .../sentry/tests/e2e/solr/TestCollAdminCoreOperations.java |  5 +++++
 .../apache/sentry/tests/e2e/solr/TestQueryOperations.java  |  5 +++++
 .../apache/sentry/tests/e2e/solr/TestUpdateOperations.java |  5 +++++
 .../src/test/resources/solr/solr-no-core.xml               |  3 +++
 7 files changed, 32 insertions(+), 5 deletions(-)

commit a4819f5b7b8ce5fb9f3c9b94c6dbb1e2dfbe1f78
Author: Brock Noland <brock@apache.org>
Date:   Mon Feb 24 17:06:07 2014 -0600

    SENTRY-3: Create a diagnostics tool for configuration validation (Prasad via Brock)

 bin/config-tool.sh                                 |  25 +
 bin/sentry                                         |  65 +++
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  12 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   9 +-
 .../binding/hive/authz/SentryConfigTool.java       | 510 +++++++++++++++++++++
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  51 +++
 sentry-core/sentry-core-common/pom.xml             |   4 +
 .../core/common/SentryConfigurationException.java  |  67 +++
 .../apache/sentry/policy/common/PolicyEngine.java  |  13 +-
 .../sentry/policy/db/SimpleDBPolicyEngine.java     |  37 +-
 .../policy/search/SimpleSearchPolicyEngine.java    |  22 +-
 .../provider/common/AuthorizationProvider.java     |  30 ++
 .../provider/common/NoAuthorizationProvider.java   |  26 ++
 .../sentry/provider/common/ProviderBackend.java    |   7 +
 .../file/ResourceAuthorizationProvider.java        |  57 ++-
 .../provider/file/SimpleFileProviderBackend.java   |  79 +++-
 .../sentry/provider/file/TestGetGroupMapping.java  |  21 +
 .../org/apache/sentry/tests/e2e/hive/Context.java  |   6 +-
 .../sentry/tests/e2e/hive/TestConfigTool.java      | 304 ++++++++++++
 19 files changed, 1315 insertions(+), 30 deletions(-)

commit cf798ac71a5e0b2d9839fac9c08538bad4f05307
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Feb 24 14:24:48 2014 -0800

    SENTRY-124: Create bin packaging (Brock Noland via Prasad Mujumdar)

 sentry-dist/pom.xml                   |  1 +
 sentry-dist/src/main/assembly/bin.xml | 82 +++++++++++++++++++++++++++++++++++
 2 files changed, 83 insertions(+)

commit 06d2b34915a86fb4dcf6b312056a8e7c8475aa48
Author: Gregory Chanan <gregchanan@gmail.com>
Date:   Thu Feb 20 16:27:44 2014 -0800

    SENTRY-119 - Reduce tarball size by excluding third party directory (Brock Noland via Gregory Chanan)

 sentry-dist/pom.xml                   |  2 +-
 sentry-dist/src/main/assembly/src.xml | 91 +++++++----------------------------
 2 files changed, 19 insertions(+), 74 deletions(-)

commit 87f476cecee50701d31aff02aec3afe01326ea9d
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Wed Feb 19 17:50:06 2014 -0800

    SENTRY-118: cast udf should be added to sentry udf whitelist for hive (Shreepadma Venugopalan via Jarek Jarcec Cecho)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 796b4cb567e9c9d8616d94a284ef2bae69e0a668
Author: Brock Noland <brock@apache.org>
Date:   Thu Feb 13 08:21:25 2014 -0800

    SENTRY-115: Give bindings the ability to access the group mappings (Gregory Chanan via Brock)

 .../binding/solr/authz/SolrAuthzBinding.java       | 13 ++++++
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 28 +++++++++++
 .../src/test/resources/test-authz-provider.ini     |  2 +-
 sentry-provider/sentry-provider-common/pom.xml     |  5 ++
 .../provider/common/AuthorizationProvider.java     |  6 +++
 .../provider/common/NoAuthorizationProvider.java   |  5 ++
 .../provider/common/NoGroupMappingService.java     | 33 +++++++++++++
 .../common/TestNoAuthorizationProvider.java        | 39 ++++++++++++++++
 .../file/ResourceAuthorizationProvider.java        |  5 ++
 .../sentry/provider/file/TestGetGroupMapping.java  | 54 ++++++++++++++++++++++
 10 files changed, 189 insertions(+), 1 deletion(-)

commit 7e1ce212fb851b8233f0f5af9d23c9a82257b6cb
Author: Gregory Chanan <gregchanan@gmail.com>
Date:   Fri Feb 7 16:06:19 2014 -0800

    SENTRY-113: Fix Sentry Precommit tests (Brock Noland via Gregory Chanan)

 .gitignore                       |  1 +
 dev-support/smart-apply-patch.sh | 99 ++++++++++++++++++++++++++++++++++++++++
 dev-support/test-patch.py        | 73 ++++++++++++++---------------
 pom.xml                          |  2 +
 4 files changed, 137 insertions(+), 38 deletions(-)

commit 55ca6c7c27b42c1cfcdf54ed0175adc7f4eab855
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Feb 6 14:10:33 2014 -0800

    SENTRY-112: Add test-output directory to .gitignore (Brock Noland via Shreepadma Venugopalan)

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit c6e23e9e5b8c9f6d4e5eae2fc60df0196c4c66c2
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Feb 4 14:39:26 2014 -0800

    SENTRY-111: Setup automated patch testing (Brock Noland via Shreepadma Venugopalan)

 dev-support/test-patch.py | 308 ++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 308 insertions(+)

commit 3409c16703aeffde9122beca089ed72fc98d8a93
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Feb 4 14:37:23 2014 -0800

    SENTRY-108: Add eclipse formatter to pom.xml(Brock Noland via Shreepadma Venugopalan)

 pom.xml | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit a39b2325e4460faa9187d68b875f4342f8768256
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Jan 31 15:41:48 2014 -0800

    SENTRY-107: Upgrade hadoop on master (Brock Noland via Shreepadma Venugopalan)

 pom.xml                                            | 110 ++++++++++-----------
 sentry-binding/sentry-binding-hive/pom.xml         |   4 -
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |   8 +-
 .../binding/hive/HiveAuthzBindingSessionHook.java  |   5 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../sentry/binding/hive/TestHiveAuthzBindings.java |   6 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  24 +----
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |   2 +-
 .../tests/e2e/hive/TestServerConfiguration.java    |   4 +-
 9 files changed, 66 insertions(+), 99 deletions(-)

commit 2a5fb34b8df0c9e4a6d911fc5d8c8913ea41da30
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Jan 31 15:20:24 2014 -0600

    SENTRY-102: Remove download-hadoop profile requirement and cache downloads (Brock via Shreepadma)

 sentry-tests/sentry-tests-hive/.gitignore |  1 +
 sentry-tests/sentry-tests-hive/pom.xml    | 98 +++++++++++++++----------------
 2 files changed, 47 insertions(+), 52 deletions(-)

commit a9f9790ba1f0a606e286e3ab813b2b2f319b70a8
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Mon Jan 20 13:58:41 2014 -0800

    SENTRY-90: Normalize scratch path for comparison (Brock Noland via Shreepadma Venugopalan)

 pom.xml                                            |  27 +++--
 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  63 +++-------
 sentry-core/sentry-core-common/pom.xml             |  12 ++
 .../apache/sentry/core/common/utils/PathUtils.java | 131 +++++++++++++++++++++
 .../sentry/core/common/utils/TestPathUtils.java    |  76 ++++++++++++
 .../sentry/policy/db/DBWildcardPermission.java     |  54 ++-------
 sentry-provider/sentry-provider-file/pom.xml       |   4 +
 sentry-tests/sentry-tests-hive/.gitignore          |   2 +
 8 files changed, 271 insertions(+), 98 deletions(-)

commit 8fc91c54f6d412dd404825f35b77805784d51d5d
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Jan 16 11:14:13 2014 -0800

    SENTRY-89: Sentry WildCardPermission always ends a / to the URI (Brock Noland via Shreepadma Venugopalan)

 .../apache/sentry/policy/db/DBWildcardPermission.java  | 18 ++++++++++++++++--
 .../sentry/policy/db/TestDBWildcardPermission.java     |  5 ++++-
 2 files changed, 20 insertions(+), 3 deletions(-)

commit a93fb4161972a7ab75cb9b36de6f043c177f2461
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Wed Jan 15 22:34:27 2014 -0800

    SENTRY-88: Solr Collection Admin tests (CREATE,DELETE,RELOAD) (Vamsee Yarlagadda via Gregory Chanan)

 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 151 +++++++++++++++++++--
 .../e2e/solr/TestCollAdminCoreOperations.java      | 145 ++++++++++++++++++++
 .../sentry/tests/e2e/solr/TestQueryOperations.java |   4 +
 .../tests/e2e/solr/TestUpdateOperations.java       |   4 +
 .../resources/solr/sentry/test-authz-provider.ini  | 109 +++++++++++----
 5 files changed, 381 insertions(+), 32 deletions(-)

commit 07b8010c3febaf1bd49e132ed7e98605287bc50f
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Jan 15 11:33:05 2014 -0800

    SENTRY-87: Sentry depends on SNAPSHOT release of Hadoop that is no longer available (Jarek Jarcec Cecho via Shreepadma Venugopalan)

 pom.xml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 27c8293eda947638f7073f073826499342211ec8
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Mon Jan 13 14:31:52 2014 -0800

    SENTRY-83: Sentry Solr Tests should have a dependency on solr-sentry-handlers(Gregory Chanan via Shreepadma Venugopalan)

 pom.xml                                | 6 ++++++
 sentry-tests/sentry-tests-solr/pom.xml | 4 ++++
 2 files changed, 10 insertions(+)

commit 1a4a7b49820c3aa3ebcb52d2d3d4881473ea7d09
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Thu Jan 9 16:39:56 2014 -0800

    SENTRY-86: Additional logging for Solr/Sentry end to end tests (Vamsee Yarlagadda via Gregory Chanan)

 .../org/apache/sentry/tests/e2e/solr/TestQueryOperations.java | 11 ++++++++---
 .../apache/sentry/tests/e2e/solr/TestUpdateOperations.java    | 11 ++++++++---
 2 files changed, 16 insertions(+), 6 deletions(-)

commit c5ff1c3faa61344c89bea15b6babf9574637a434
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Jan 9 16:14:28 2014 -0800

    SENTRY-85: The JDBC connection from hive test framework should use a userid that's supported by default test resource (Prasad Mujumdar via Shreepadma Venugopalan)

 .../org/apache/sentry/tests/e2e/hive/hiveserver/AbstractHiveServer.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee9565f046c967fb379e293b4f85da2a0161f997
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Fri Jan 3 16:26:17 2014 -0800

    SENTRY-70: Solr Query authorization tests for Sentry (Vamsee Yarlagadda via Gregory Chanan)

 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 307 ++++++++++++++-------
 .../solr/ModifiableUserAuthenticationFilter.java   |   8 +
 .../sentry/tests/e2e/solr/TestQueryOperations.java |  69 +++++
 .../tests/e2e/solr/TestUpdateOperations.java       |   1 -
 4 files changed, 281 insertions(+), 104 deletions(-)

commit 09f0e580e7a957ddedcbc6fd03abb908a0f97c33
Author: Gregory Chanan <gregchanan@gmail.com>
Date:   Mon Dec 30 13:39:37 2013 -0800

    SENTRY-79: Solr/Sentry test filter should pass request headers ((Vamsee Yarlagadda via  Gregory Chanan)

 .../sentry/tests/e2e/solr/ModifiableUserAuthenticationFilter.java      | 3 +++
 1 file changed, 3 insertions(+)

commit c8c170324c06709e74e282b6117c0f9313a35bdb
Author: Brock Noland <brock@apache.org>
Date:   Mon Dec 30 15:11:22 2013 -0600

    SENTRY-78 - UDFs can't be referenced in a CTAS when Sentry is enabled for Hive (Shreepadma via Brock)

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 9 +++++++++
 .../sentry/tests/e2e/hive/TestPrivilegesAtDatabaseScope.java     | 4 ++++
 2 files changed, 13 insertions(+)

commit 72b437564759e552e33f806de939c4b300180915
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Dec 26 16:09:45 2013 -0800

    SENTRY-73: solrconfig.xml should specify SecureAdminHandlers (Gregory Chanan via Shreepadma Venugopalan)

 .../src/test/resources/solr/collection1/conf/solrconfig.xml             | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 319d64a4a31182dd73a7368d69fd1924f07bb968
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Dec 26 16:42:08 2013 -0800

    Revert commit of SENTRY-78

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 9 ---------
 .../sentry/tests/e2e/hive/TestPrivilegesAtDatabaseScope.java     | 4 ----
 2 files changed, 13 deletions(-)

commit 4baffe9b4182d54a69a7ff7c3765212bb92becd8
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Dec 26 15:53:51 2013 -0800

    SENTRY-78: UDFs can't be referenced in a CTAS when Sentry is enabled for Hive

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java     | 9 +++++++++
 .../sentry/tests/e2e/hive/TestPrivilegesAtDatabaseScope.java     | 4 ++++
 2 files changed, 13 insertions(+)

commit 5601cdd18c4a89b468c1c0cdde3b68fbabf28ceb
Author: Gregory Chanan <gchanan@cloudera.com>
Date:   Mon Dec 23 15:44:01 2013 -0800

    SENTRY-71: Solr Update authorization tests for Sentry (Vamsee Yarlagadda via  Gregory Chanan)

 sentry-tests/sentry-tests-solr/pom.xml             |  15 +-
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java | 335 ++++++++++++++++++++-
 ...ava => ModifiableUserAuthenticationFilter.java} |  21 +-
 .../e2e/solr/TestSimpleUpdatePositiveTest.java     |  44 ---
 .../tests/e2e/solr/TestUpdateOperations.java       |  79 +++++
 .../resources/solr/sentry/test-authz-provider.ini  |  35 ++-
 6 files changed, 470 insertions(+), 59 deletions(-)

commit b9aa0b7a0ea944493e5b681d3fa2cfa9e5a1a1d2
Author: Brock Noland <brock@apache.org>
Date:   Tue Dec 17 12:58:43 2013 -0600

    SENTRY-66: Allow Sentry e2e tests to use HS2 LDAP authentication in cluster mode (Sravya Tirukkovalur via Brock Noland)

 .../hive/AbstractTestWithStaticConfiguration.java  |  6 +--
 .../org/apache/sentry/tests/e2e/hive/Context.java  |  4 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      | 34 +++++++--------
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  8 ++--
 .../tests/e2e/hive/TestExportImportPrivileges.java | 14 +++----
 .../e2e/hive/TestMetadataObjectRetrieval.java      | 22 +++++-----
 .../tests/e2e/hive/TestMetadataPermissions.java    | 10 ++---
 .../tests/e2e/hive/TestMovingToProduction.java     | 16 ++++----
 .../tests/e2e/hive/TestPerDBConfiguration.java     | 43 ++++++++++---------
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  4 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  4 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 31 +++++++-------
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    | 12 +++---
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java | 48 +++++++++++-----------
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 28 ++++++-------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 32 +++++++--------
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |  6 +--
 .../tests/e2e/hive/TestServerConfiguration.java    | 20 ++++-----
 .../sentry/tests/e2e/hive/TestUriPermissions.java  | 28 ++++++-------
 .../sentry/tests/e2e/hive/TestUserManagement.java  | 18 ++++----
 20 files changed, 194 insertions(+), 194 deletions(-)

commit c5dd7da9f313f974d1dfa43518aee4e0d7eebd33
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Dec 13 17:19:42 2013 -0800

    SENTRY-69: Solr Sentry e2e test framework and simple test (Gregory Chanan via Shreepadma Venugopalan)

 pom.xml                                            |   15 +
 sentry-tests/pom.xml                               |    1 +
 sentry-tests/sentry-tests-solr/pom.xml             |   52 +
 .../tests/e2e/solr/AbstractSolrSentryTestBase.java |  150 +
 .../apache/sentry/tests/e2e/solr/HdfsTestUtil.java |   96 +
 .../tests/e2e/solr/JunitAuthenticationFilter.java  |   55 +
 .../e2e/solr/TestSimpleUpdatePositiveTest.java     |   44 +
 .../src/test/resources/log4j.properties            |   35 +
 .../solr/collection1/conf/admin-extra.html         |   24 +
 .../collection1/conf/admin-extra.menu-bottom.html  |   25 +
 .../collection1/conf/admin-extra.menu-top.html     |   25 +
 .../resources/solr/collection1/conf/currency.xml   |   67 +
 .../resources/solr/collection1/conf/elevate.xml    |   38 +
 .../solr/collection1/conf/lang/contractions_ca.txt |    8 +
 .../solr/collection1/conf/lang/contractions_fr.txt |   15 +
 .../solr/collection1/conf/lang/contractions_ga.txt |    5 +
 .../solr/collection1/conf/lang/contractions_it.txt |   23 +
 .../solr/collection1/conf/lang/hyphenations_ga.txt |    5 +
 .../solr/collection1/conf/lang/stemdict_nl.txt     |    6 +
 .../solr/collection1/conf/lang/stoptags_ja.txt     |  420 +++
 .../solr/collection1/conf/lang/stopwords_ar.txt    |  125 +
 .../solr/collection1/conf/lang/stopwords_bg.txt    |  193 +
 .../solr/collection1/conf/lang/stopwords_ca.txt    |  220 ++
 .../solr/collection1/conf/lang/stopwords_cz.txt    |  172 +
 .../solr/collection1/conf/lang/stopwords_da.txt    |  108 +
 .../solr/collection1/conf/lang/stopwords_de.txt    |  292 ++
 .../solr/collection1/conf/lang/stopwords_el.txt    |   78 +
 .../solr/collection1/conf/lang/stopwords_en.txt    |   54 +
 .../solr/collection1/conf/lang/stopwords_es.txt    |  354 ++
 .../solr/collection1/conf/lang/stopwords_eu.txt    |   99 +
 .../solr/collection1/conf/lang/stopwords_fa.txt    |  313 ++
 .../solr/collection1/conf/lang/stopwords_fi.txt    |   95 +
 .../solr/collection1/conf/lang/stopwords_fr.txt    |  184 +
 .../solr/collection1/conf/lang/stopwords_ga.txt    |  110 +
 .../solr/collection1/conf/lang/stopwords_gl.txt    |  161 +
 .../solr/collection1/conf/lang/stopwords_hi.txt    |  235 ++
 .../solr/collection1/conf/lang/stopwords_hu.txt    |  209 ++
 .../solr/collection1/conf/lang/stopwords_hy.txt    |   46 +
 .../solr/collection1/conf/lang/stopwords_id.txt    |  359 ++
 .../solr/collection1/conf/lang/stopwords_it.txt    |  301 ++
 .../solr/collection1/conf/lang/stopwords_ja.txt    |  127 +
 .../solr/collection1/conf/lang/stopwords_lv.txt    |  172 +
 .../solr/collection1/conf/lang/stopwords_nl.txt    |  117 +
 .../solr/collection1/conf/lang/stopwords_no.txt    |  192 +
 .../solr/collection1/conf/lang/stopwords_pt.txt    |  251 ++
 .../solr/collection1/conf/lang/stopwords_ro.txt    |  233 ++
 .../solr/collection1/conf/lang/stopwords_ru.txt    |  241 ++
 .../solr/collection1/conf/lang/stopwords_sv.txt    |  131 +
 .../solr/collection1/conf/lang/stopwords_th.txt    |  119 +
 .../solr/collection1/conf/lang/stopwords_tr.txt    |  212 ++
 .../solr/collection1/conf/lang/userdict_ja.txt     |   29 +
 .../solr/collection1/conf/mapping-FoldToASCII.txt  | 3813 ++++++++++++++++++++
 .../collection1/conf/mapping-ISOLatin1Accent.txt   |  246 ++
 .../resources/solr/collection1/conf/protwords.txt  |   21 +
 .../resources/solr/collection1/conf/schema.xml     | 1118 ++++++
 .../resources/solr/collection1/conf/scripts.conf   |   24 +
 .../resources/solr/collection1/conf/solrconfig.xml | 1857 ++++++++++
 .../resources/solr/collection1/conf/spellings.txt  |    2 +
 .../resources/solr/collection1/conf/stopwords.txt  |   14 +
 .../resources/solr/collection1/conf/synonyms.txt   |   29 +
 .../solr/collection1/conf/update-script.js         |   53 +
 .../solr/collection1/conf/velocity/README.txt      |  101 +
 .../collection1/conf/velocity/VM_global_library.vm |  175 +
 .../solr/collection1/conf/velocity/browse.vm       |   33 +
 .../solr/collection1/conf/velocity/cluster.vm      |   19 +
 .../collection1/conf/velocity/cluster_results.vm   |   31 +
 .../solr/collection1/conf/velocity/debug.vm        |   28 +
 .../solr/collection1/conf/velocity/did_you_mean.vm |    9 +
 .../solr/collection1/conf/velocity/error.vm        |   11 +
 .../solr/collection1/conf/velocity/facet_fields.vm |   23 +
 .../solr/collection1/conf/velocity/facet_pivot.vm  |   12 +
 .../collection1/conf/velocity/facet_queries.vm     |   12 +
 .../solr/collection1/conf/velocity/facet_ranges.vm |   23 +
 .../solr/collection1/conf/velocity/facets.vm       |   10 +
 .../solr/collection1/conf/velocity/footer.vm       |   43 +
 .../solr/collection1/conf/velocity/head.vm         |   35 +
 .../solr/collection1/conf/velocity/header.vm       |    7 +
 .../solr/collection1/conf/velocity/hit.vm          |   25 +
 .../solr/collection1/conf/velocity/hit_grouped.vm  |   43 +
 .../solr/collection1/conf/velocity/hit_plain.vm    |   25 +
 .../solr/collection1/conf/velocity/join_doc.vm     |   20 +
 .../conf/velocity/jquery.autocomplete.css          |   48 +
 .../conf/velocity/jquery.autocomplete.js           |  763 ++++
 .../solr/collection1/conf/velocity/layout.vm       |   24 +
 .../solr/collection1/conf/velocity/main.css        |  230 ++
 .../collection1/conf/velocity/mime_type_lists.vm   |   68 +
 .../collection1/conf/velocity/pagination_bottom.vm |   22 +
 .../collection1/conf/velocity/pagination_top.vm    |   29 +
 .../solr/collection1/conf/velocity/product_doc.vm  |   32 +
 .../solr/collection1/conf/velocity/query.vm        |   42 +
 .../solr/collection1/conf/velocity/query_form.vm   |   64 +
 .../solr/collection1/conf/velocity/query_group.vm  |   43 +
 .../collection1/conf/velocity/query_spatial.vm     |   75 +
 .../solr/collection1/conf/velocity/results_list.vm |   22 +
 .../solr/collection1/conf/velocity/richtext_doc.vm |  153 +
 .../solr/collection1/conf/velocity/suggest.vm      |    8 +
 .../solr/collection1/conf/velocity/tabs.vm         |   50 +
 .../solr/collection1/conf/xslt/example.xsl         |  132 +
 .../solr/collection1/conf/xslt/example_atom.xsl    |   67 +
 .../solr/collection1/conf/xslt/example_rss.xsl     |   66 +
 .../resources/solr/collection1/conf/xslt/luke.xsl  |  337 ++
 .../solr/collection1/conf/xslt/updateXml.xsl       |   70 +
 .../resources/solr/sentry/test-authz-provider.ini  |   25 +
 .../src/test/resources/solr/solr-no-core.xml       |   39 +
 104 files changed, 16912 insertions(+)

commit f9adb0b26b497de3eb16264ec3b22950c1308d5c
Author: Brock Noland <brock@apache.org>
Date:   Thu Dec 5 10:25:06 2013 -0600

    SENTRY-68 - Give sentry-solr-binding the ability to authenticate via kerberos (Gregory Chanan via Brock Noland)

 .../binding/solr/authz/SolrAuthzBinding.java       | 44 ++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit b00ccf5871c74cbc405a2be9b3b7d8b809c438d0
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Mon Nov 18 18:09:03 2013 -0800

    SENTRY-65: End to end test should set JDBC login timeout

 .../org/apache/sentry/tests/e2e/hive/hiveserver/AbstractHiveServer.java | 2 ++
 .../org/apache/sentry/tests/e2e/hive/hiveserver/EmbeddedHiveServer.java | 1 +
 2 files changed, 3 insertions(+)

commit 45cf5fb4fb6a01d3035d370cdcdb0ee00c2669d9
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Nov 15 13:10:44 2013 -0800

    SENTRY-64: Break Circular dependency between sentry-binding-solr and sentry-core (Gregory Chanan via Shreepadma Venugopalan)

 pom.xml                                            |  7 ------
 sentry-binding/sentry-binding-solr/pom.xml         |  4 ---
 .../binding/solr/authz/SolrAuthzBinding.java       | 29 ++++++++++++++++------
 3 files changed, 21 insertions(+), 19 deletions(-)

commit 68998d011b58c089a419e047962f8fc2a7ca361c
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Nov 14 15:53:03 2013 -0800

    SENTRY-63: Hive queries with temporary UDF return error UnsupportedOperationException (Prasad Mujumdar via Shreepadma Venugopalan)

 .../org/apache/sentry/binding/hive/HiveAuthzBindingHook.java   | 10 ++++++++--
 .../sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java   |  2 ++
 2 files changed, 10 insertions(+), 2 deletions(-)

commit dc3a62145a251f53df47e4901fba79751590ed11
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Mon Nov 11 12:17:05 2013 -0800

    SENTRY-52: E2E tests need to use fully qualified URI while creating test base directories (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../src/test/java/org/apache/sentry/tests/e2e/hive/fs/ClusterDFS.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7d1f14b326b057fecc2260953d08843d0b1a5413
Author: Brock Noland <brock@apache.org>
Date:   Fri Nov 8 16:05:39 2013 -0600

    SENTRY-62 - Solr binding should create a solr-usable Configuration to pass to the BackendProvider (Gregory Chanan via Brock Noland)

 pom.xml                                             |  7 +++++++
 sentry-binding/sentry-binding-solr/pom.xml          |  4 ++++
 .../sentry/binding/solr/authz/SolrAuthzBinding.java | 21 +++++++++++++++++++--
 .../provider/file/SimpleFileProviderBackend.java    |  6 +++++-
 4 files changed, 35 insertions(+), 3 deletions(-)

commit a41617c814ced681d4feafa78ab748f520999bf8
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Nov 6 18:39:40 2013 -0800

    SENTRY-53: Fix test failures caused by SENTRY-41 (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../org/apache/sentry/tests/e2e/hive/TestUriPermissions.java  | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

commit 14f10a14c10f94de18c9fc90161d7c04d8a58ce6
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Nov 5 17:19:27 2013 -0800

    SENTRY-60: TestSolrAuthzBinding does not properly test negative cases (Gregory Chanan via Shreepadma Venugopalan)

 .../test/java/org/apache/sentry/binding/solr/TestSolrAuthzBinding.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 626149e913eafefb0fe82f8094c96a8a1dd2ac53
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Nov 5 14:03:49 2013 -0800

    SENTRY-51: kinit before hdfs file system operations does not work in hive e2e tests (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       | 24 ++++++++++------------
 1 file changed, 11 insertions(+), 13 deletions(-)

commit 1001b70e11940d103ca5b38be9962abcbd3dda79
Author: Sravya Tirukkovalur <sravya@clouera.com>
Date:   Fri Nov 1 16:48:06 2013 -0700

    SENTRY-58: Fix compilation error in TestURI.java (Shreepadma Venugopalan via Sravya Tirukkovalur)

 .../src/test/java/org/apache/sentry/core/db/TestURI.java                | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fbcf8bdf731245ea9ed79c1891b58c04e3f11d6e
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Oct 30 07:38:47 2013 -0700

    SENTRY-49: Fix spacing in InvalidConfigurationException (Gregory Chanan via Shreepadma Venugopalan)

 .../hive/conf/InvalidConfigurationException.java       | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit af0d6e7e6db9bc8e903248d5c6d366d1983830ff
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 30 15:17:27 2013 -0500

    SENTRY-54: Fix TestPrivilegesAtFunctionScope.testFuncPrivileges1 (Sravya Tirukkovalur via Brock Noland)

 .../apache/sentry/tests/e2e/hive/TestPrivilegesAtFunctionScope.java | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 2a946005c31df81e4b8489bd0e0741ec8ed6913c
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Oct 23 15:24:47 2013 -0700

    SENTRY-41: Enable sentry end to end tests to run on a real cluster (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../apache/sentry/provider/file/PolicyFile.java    | 21 +++----
 sentry-tests/sentry-tests-hive/pom.xml             | 73 +++++++++++++++++++++-
 .../hive/AbstractTestWithStaticConfiguration.java  |  4 +-
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  3 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java | 10 +--
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  2 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     | 26 +++++---
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  2 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     | 35 ++++++-----
 .../sentry/tests/e2e/hive/TestSandboxOps.java      |  2 +
 .../sentry/tests/e2e/hive/TestUriPermissions.java  | 11 +++-
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      | 10 ++-
 .../sentry/tests/e2e/hive/fs/ClusterDFS.java       | 72 +++++++++++++++++++++
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       |  7 ++-
 .../e2e/hive/hiveserver/HiveServerFactory.java     | 27 ++++----
 .../e2e/hive/hiveserver/UnmanagedHiveServer.java   | 70 +++++++++++++--------
 .../src/test/resources/hive-site.xml               | 45 -------------
 ...test-authz-provider.ini => sentry-provider.ini} |  0
 18 files changed, 287 insertions(+), 133 deletions(-)

commit 77ac2593fd70fe232ee23eb7208f0595c5ad4cdc
Author: Brock Noland <brock@apache.org>
Date:   Tue Oct 22 14:21:49 2013 -0500

    SENTRY-43 - Refactor into policy specific modules (Gregory Chanan via Brock Noland)

 pom.xml                                            | 11 +++++-
 sentry-binding/sentry-binding-hive/pom.xml         |  2 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  6 +--
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  2 +-
 sentry-binding/sentry-binding-solr/pom.xml         |  3 +-
 .../binding/solr/authz/SolrAuthzBinding.java       |  4 +-
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |  2 +-
 sentry-dist/pom.xml                                |  8 +++-
 sentry-dist/src/main/assembly/src.xml              |  7 +++-
 sentry-policy/pom.xml                              | 38 ++++++++++++++++++
 sentry-policy/sentry-policy-common/pom.xml         | 45 ++++++++++++++++++++++
 .../sentry/policy}/common/PermissionFactory.java   |  2 +-
 .../apache/sentry/policy}/common/PolicyEngine.java |  2 +-
 .../sentry/policy}/common/RoleValidator.java       |  2 +-
 .../sentry-policy-db}/pom.xml                      |  6 +--
 .../sentry/policy}/db/AbstractDBRoleValidator.java |  4 +-
 .../sentry/policy}/db/DBModelAuthorizables.java    |  2 +-
 .../sentry/policy}/db/DBWildcardPermission.java    |  4 +-
 .../sentry/policy}/db/DatabaseMustMatch.java       |  2 +-
 .../sentry/policy}/db/DatabaseRequiredInRole.java  |  2 +-
 .../sentry/policy}/db/ServerNameMustMatch.java     |  2 +-
 .../sentry/policy}/db/ServersAllIsInvalid.java     |  2 +-
 .../sentry/policy}/db/SimpleDBPolicyEngine.java    |  8 ++--
 .../policy}/db/AbstractTestSimplePolicyEngine.java |  4 +-
 .../sentry/policy}/db/DBPolicyFileBackend.java     |  2 +-
 .../policy}/db/TestDBModelAuthorizables.java       |  4 +-
 .../policy}/db/TestDBWildcardPermission.java       |  2 +-
 .../policy}/db/TestDatabaseRequiredInRole.java     |  2 +-
 .../policy}/db/TestPolicyParsingNegative.java      |  4 +-
 ...tResourceAuthorizationProviderGeneralCases.java |  2 +-
 ...tResourceAuthorizationProviderSpecialCases.java |  4 +-
 .../policy}/db/TestSimpleDBPolicyEngineDFS.java    |  2 +-
 .../db/TestSimpleDBPolicyEngineLocalFS.java        |  2 +-
 .../src/test/resources/log4j.properties            |  0
 .../resources/test-authz-provider-other-group.ini  |  0
 .../src/test/resources/test-authz-provider.ini     |  0
 .../sentry-policy-search}/pom.xml                  |  6 +--
 .../search/AbstractSearchRoleValidator.java        |  4 +-
 .../policy}/search/CollectionRequiredInRole.java   |  2 +-
 .../policy}/search/SearchModelAuthorizables.java   |  2 +-
 .../policy}/search/SearchWildcardPermission.java   |  4 +-
 .../policy}/search/SimpleSearchPolicyEngine.java   |  8 ++--
 .../search/AbstractTestSearchPolicyEngine.java     |  4 +-
 .../policy}/search/SearchPolicyFileBackend.java    |  2 +-
 .../search/TestCollectionRequiredInRole.java       |  2 +-
 ...estSearchAuthorizationProviderGeneralCases.java |  2 +-
 ...estSearchAuthorizationProviderSpecialCases.java |  4 +-
 .../search/TestSearchModelAuthorizables.java       |  4 +-
 .../policy}/search/TestSearchPolicyEngineDFS.java  |  2 +-
 .../search/TestSearchPolicyEngineLocalFS.java      |  2 +-
 .../policy}/search/TestSearchPolicyNegative.java   |  4 +-
 .../search/TestSearchWildcardPermission.java       |  2 +-
 .../src/test/resources/log4j.properties            |  0
 .../src/test/resources/test-authz-provider.ini     |  0
 sentry-provider/pom.xml                            |  2 -
 sentry-provider/sentry-provider-common/pom.xml     |  4 +-
 .../provider}/common/AuthorizationProvider.java    |  5 ++-
 .../provider}/common/NoAuthorizationProvider.java  |  6 ++-
 .../sentry/provider/common/ProviderBackend.java    |  1 +
 .../HadoopGroupResourceAuthorizationProvider.java  |  3 +-
 .../LocalGroupResourceAuthorizationProvider.java   |  2 +-
 .../file/ResourceAuthorizationProvider.java        |  6 +--
 .../provider/file/SimpleFileProviderBackend.java   |  2 +-
 sentry-tests/sentry-tests-hive/pom.xml             |  2 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |  2 +-
 65 files changed, 193 insertions(+), 90 deletions(-)

commit 44f44e1b1131ae11ca93587b77f8c7851b02899a
Author: Brock Noland <brock@apache.org>
Date:   Thu Oct 17 10:03:29 2013 -0500

    SENTRY-36 - Create sentry-binding-solr module (Gregory Chanan via Brock Noland)

 pom.xml                                            |   6 +
 sentry-binding/pom.xml                             |   1 +
 sentry-binding/sentry-binding-solr/pom.xml         |  65 +++++
 .../authz/SentrySolrAuthorizationException.java    |  23 ++
 .../binding/solr/authz/SolrAuthzBinding.java       | 103 ++++++++
 .../sentry/binding/solr/conf/SolrAuthzConf.java    |  82 +++++++
 .../sentry/binding/solr/TestSolrAuthzBinding.java  | 265 +++++++++++++++++++++
 .../src/test/resources/log4j.properties            |  31 +++
 .../src/test/resources/sentry-site.xml             |  29 +++
 .../src/test/resources/test-authz-provider.ini     |  33 +++
 sentry-dist/pom.xml                                |   4 +
 sentry-dist/src/main/assembly/src.xml              |   1 +
 .../file/ResourceAuthorizationProvider.java        |   2 +-
 13 files changed, 644 insertions(+), 1 deletion(-)

commit 1824f780837c9e616af5b9e0ae4f1f82c46df6fa
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Oct 15 17:25:04 2013 -0700

    SENTRY-35: Create sentry-provider-policy-search module (Gregory Chanan via Shreepadma Venugopalan)

 .../sentry-provider-policy-search/pom.xml          |  20 +++
 .../provider/search/SimpleSearchPolicyEngine.java  | 114 +++++++++++++
 .../search/AbstractTestSearchPolicyEngine.java     | 133 +++++++++++++++
 .../provider/search/SearchPolicyFileBackend.java   |  26 +++
 ...estSearchAuthorizationProviderGeneralCases.java | 179 +++++++++++++++++++++
 ...estSearchAuthorizationProviderSpecialCases.java |  81 ++++++++++
 .../provider/search/TestSearchPolicyEngineDFS.java |  81 ++++++++++
 .../search/TestSearchPolicyEngineLocalFS.java      |  43 +++++
 .../provider/search/TestSearchPolicyNegative.java  | 111 +++++++++++++
 .../src/test/resources/log4j.properties            |  31 ++++
 .../src/test/resources/test-authz-provider.ini     |  31 ++++
 11 files changed, 850 insertions(+)

commit fe5fb70f65c8400a2bba82e8c7399085246e81ef
Author: Brock Noland <brock@apache.org>
Date:   Mon Oct 14 17:20:27 2013 -0500

    SENTRY-27: Refactor to be able to support different provider backends (e.g. db vs file) (Gregory Chanan via Brock Noland)

 pom.xml                                            |  7 ++-
 sentry-binding/sentry-binding-hive/pom.xml         |  4 ++
 .../binding/hive/authz/HiveAuthzBinding.java       | 28 ++++++++--
 .../sentry/binding/hive/conf/HiveAuthzConf.java    |  2 +
 .../binding/hive/MockUserToGroupMapping.java       |  2 +-
 .../sentry/binding/hive/TestHiveAuthzBindings.java | 27 +++++++++-
 sentry-dist/pom.xml                                |  4 ++
 sentry-dist/src/main/assembly/src.xml              |  1 +
 sentry-provider/pom.xml                            |  1 +
 sentry-provider/sentry-provider-common/pom.xml     | 62 ++++++++++++++++++++++
 .../provider/common}/GroupMappingService.java      |  2 +-
 .../sentry/provider/common}/PermissionFactory.java |  2 +-
 .../sentry/provider/common}/PolicyEngine.java      | 11 +++-
 .../sentry/provider/common/ProviderBackend.java    | 38 +++++++++++++
 .../sentry/provider/common}/RoleValidator.java     |  2 +-
 .../org/apache/sentry/provider/common}/Roles.java  |  2 +-
 .../common}/MockGroupMappingServiceProvider.java   |  4 +-
 sentry-provider/sentry-provider-file/pom.xml       | 20 +------
 .../provider/file/HadoopGroupMappingService.java   |  1 +
 .../HadoopGroupResourceAuthorizationProvider.java  | 15 +++---
 .../provider/file/LocalGroupMappingService.java    |  1 +
 .../LocalGroupResourceAuthorizationProvider.java   |  9 ++--
 .../file/ResourceAuthorizationProvider.java        | 12 ++---
 ...yParser.java => SimpleFileProviderBackend.java} | 50 +++++++++--------
 sentry-provider/sentry-provider-policy-db/pom.xml  |  6 ++-
 .../provider/db/AbstractDBRoleValidator.java       |  2 +-
 .../sentry/provider/db/DBWildcardPermission.java   |  2 +-
 .../sentry/provider/db/SimpleDBPolicyEngine.java   | 32 ++++++-----
 .../db}/AbstractTestSimplePolicyEngine.java        |  3 +-
 .../sentry/provider/db/DBPolicyFileBackend.java    | 26 +++++++++
 .../provider/db/TestPolicyParsingNegative.java     | 20 +++----
 ...tResourceAuthorizationProviderGeneralCases.java |  5 +-
 ...tResourceAuthorizationProviderSpecialCases.java |  8 +--
 .../provider/db/TestSimpleDBPolicyEngineDFS.java   |  7 ++-
 .../db/TestSimpleDBPolicyEngineLocalFS.java        |  3 +-
 .../search/AbstractSearchRoleValidator.java        |  2 +-
 .../provider/search/SearchWildcardPermission.java  |  2 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  2 +-
 38 files changed, 312 insertions(+), 115 deletions(-)

commit ed7b7539f1fc8f18784a4a5b6222e73253f57769
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 9 23:13:10 2013 -0500

    SENTRY-42 - Create sentry-provider-policy-search module - RoleValidators, Permissions, Authorizables (Gregory Chanan via Brock Noland)

 pom.xml                                            |   5 +
 sentry-dist/pom.xml                                |   4 +
 sentry-dist/src/main/assembly/src.xml              |   1 +
 sentry-provider/pom.xml                            |   1 +
 .../sentry-provider-policy-search/pom.xml          |  66 +++++++
 .../search/AbstractSearchRoleValidator.java        |  50 +++++
 .../provider/search/CollectionRequiredInRole.java  |  44 +++++
 .../provider/search/SearchModelAuthorizables.java  |  48 +++++
 .../provider/search/SearchWildcardPermission.java  | 152 +++++++++++++++
 .../search/TestCollectionRequiredInRole.java       |  62 +++++++
 .../search/TestSearchModelAuthorizables.java       |  60 ++++++
 .../search/TestSearchWildcardPermission.java       | 206 +++++++++++++++++++++
 12 files changed, 699 insertions(+)

commit 224aa8c8b631fa049d9ed6f1162f8ed8af9bd6e7
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 9 17:49:53 2013 -0500

    SENTRY-39 - Rename class in "search" module to Search (Gregory Chanan via Brock Noland)

 .../java/org/apache/sentry/core/model/search/Collection.java |  4 ++--
 .../search/{SolrConstants.java => SearchConstants.java}      |  2 +-
 .../search/{SolrModelAction.java => SearchModelAction.java}  | 12 ++++++------
 ...lrModelAuthorizable.java => SearchModelAuthorizable.java} |  2 +-
 4 files changed, 10 insertions(+), 10 deletions(-)

commit d1b14ba295f888156c3c2b07d28d10101e8184b1
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 9 17:18:20 2013 -0500

    SENTRY-34 - Create sentry-core-model-search module (Gregory Chanan via Brock Noland)

 pom.xml                                            |  5 +++
 sentry-core/pom.xml                                |  1 +
 sentry-core/sentry-core-model-search/pom.xml       | 43 ++++++++++++++++++
 .../sentry/core/model/search/Collection.java       | 51 ++++++++++++++++++++++
 .../sentry/core/model/search/SolrConstants.java    | 25 +++++++++++
 .../sentry/core/model/search/SolrModelAction.java  | 39 +++++++++++++++++
 .../core/model/search/SolrModelAuthorizable.java   | 28 ++++++++++++
 .../apache/sentry/core/search/TestCollection.java  | 49 +++++++++++++++++++++
 sentry-dist/pom.xml                                |  4 ++
 sentry-dist/src/main/assembly/src.xml              |  1 +
 10 files changed, 246 insertions(+)

commit 1b2bbeb6734b0536499a6236a71cd5606a5aade9
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 9 17:00:30 2013 -0500

    SENTRY-38 - Cleanup Roles/DBRoles (Gregory Chanan via Brock Noland)

 .../org/apache/sentry/provider/file/Roles.java     |  30 +++++-
 .../apache/sentry/provider/file/RolesFactory.java  |  30 ------
 .../sentry/provider/file/SimplePolicyParser.java   |  18 ++--
 .../org/apache/sentry/provider/db/DBRoles.java     | 102 ---------------------
 .../sentry/provider/db/SimpleDBPolicyEngine.java   |  52 ++++++++++-
 5 files changed, 83 insertions(+), 149 deletions(-)

commit 5950ba8b1ff79c0baa2cdf883d4b3005117dc01b
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Mon Oct 7 18:27:42 2013 -0700

    SENTRY-10: Change the inheritance model of Abstract FileSystem classes to composition along with a Factory class, which allows us to use different FS implementations (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../tests/e2e/hive/AbstractTestWithHiveServer.java |  1 +
 .../hive/AbstractTestWithStaticConfiguration.java  | 26 +++++++--
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  2 +-
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  2 +-
 .../tests/e2e/hive/TestExportImportPrivileges.java |  2 +-
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  2 +-
 .../tests/e2e/hive/TestMetadataPermissions.java    |  3 +-
 .../tests/e2e/hive/TestMovingToProduction.java     |  6 +-
 .../tests/e2e/hive/TestPerDBConfiguration.java     |  2 +-
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  2 +-
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  2 +-
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    | 58 +------------------
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  6 +-
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  2 +-
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  2 +-
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 10 ++--
 .../tests/e2e/hive/TestServerConfiguration.java    | 51 +++++++++++++++++
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  4 +-
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  2 +-
 .../sentry/tests/e2e/hive/fs/AbstractDFS.java      | 66 ++++++++++++++++++++++
 .../DFS.java}                                      | 29 ++++------
 .../sentry/tests/e2e/hive/fs/DFSFactory.java       | 45 +++++++++++++++
 .../MiniDFS.java}                                  | 49 ++++++----------
 .../e2e/hive/hiveserver/HiveServerFactory.java     |  2 +-
 24 files changed, 239 insertions(+), 137 deletions(-)

commit ef54e13273574119974aeb3533d0bbc2dcf32b9d
Author: Brock Noland <brock@apache.org>
Date:   Fri Oct 4 14:40:30 2013 -0500

    SENTRY-26: Separate sentry-core to hive specific and non-specific packages (Gregory Chanan via Brock Noland)

 pom.xml                                            |  7 ++-
 sentry-binding/sentry-binding-hive/pom.xml         |  6 ++-
 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 57 +++++++++++-----------
 .../binding/hive/HiveAuthzBindingPreExecHook.java  | 10 ++--
 .../binding/hive/SentryOnFailureHookContext.java   |  6 +--
 .../hive/SentryOnFailureHookContextImpl.java       |  6 +--
 .../binding/hive/authz/HiveAuthzBinding.java       | 32 ++++++------
 .../binding/hive/authz/HiveAuthzPrivileges.java    | 34 ++++++-------
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 55 +++++++++++----------
 .../sentry/binding/hive/TestHiveAuthzBindings.java | 32 ++++++------
 sentry-core/pom.xml                                | 12 ++---
 sentry-core/sentry-core-common/pom.xml             | 30 ++++++++++++
 .../java/org/apache/sentry/core/common/Action.java | 21 ++++++++
 .../apache/sentry/core/common/Authorizable.java    | 23 +++++++++
 .../sentry/core/common}/AuthorizationProvider.java | 19 ++------
 .../core/common/NoAuthorizationProvider.java       | 30 ++++++++++++
 .../org/apache/sentry/core/common}/Subject.java    |  2 +-
 sentry-core/sentry-core-model-db/pom.xml           | 43 ++++++++++++++++
 .../sentry/core/model/db}/AccessConstants.java     |  2 +-
 .../apache/sentry/core/model/db}/AccessURI.java    | 12 +++--
 .../sentry/core/model/db/DBModelAction.java}       | 12 +++--
 .../sentry/core/model/db/DBModelAuthorizable.java} |  8 +--
 .../org/apache/sentry/core/model/db}/Database.java |  9 +++-
 .../org/apache/sentry/core/model/db}/Server.java   |  9 +++-
 .../sentry/core/model/db}/ServerResource.java      |  2 +-
 .../org/apache/sentry/core/model/db}/Table.java    |  7 ++-
 .../apache/sentry/core/model/db}/TableOrView.java  |  4 +-
 .../org/apache/sentry/core/model/db}/View.java     |  7 ++-
 .../java/org/apache/sentry/core/db}/TestURI.java   |  4 +-
 .../sentry/core/NoAuthorizationProvider.java       | 44 -----------------
 sentry-dist/pom.xml                                |  6 ++-
 sentry-dist/src/main/assembly/src.xml              |  2 +
 sentry-provider/sentry-provider-file/pom.xml       |  6 ++-
 .../apache/sentry/provider/file/PolicyEngine.java  |  4 +-
 .../file/ResourceAuthorizationProvider.java        | 44 ++++++-----------
 .../sentry/provider/file/SimplePolicyParser.java   |  6 +--
 .../file/AbstractTestSimplePolicyEngine.java       |  4 +-
 sentry-provider/sentry-provider-policy-db/pom.xml  |  6 ++-
 .../provider/db/AbstractDBRoleValidator.java       |  8 +--
 ...uthorizables.java => DBModelAuthorizables.java} | 22 ++++-----
 .../org/apache/sentry/provider/db/DBRoles.java     |  2 +-
 .../sentry/provider/db/DBWildcardPermission.java   |  4 +-
 .../sentry/provider/db/DatabaseMustMatch.java      |  8 +--
 .../sentry/provider/db/DatabaseRequiredInRole.java | 10 ++--
 .../sentry/provider/db/ServerNameMustMatch.java    |  8 +--
 .../sentry/provider/db/ServersAllIsInvalid.java    |  8 +--
 .../sentry/provider/db/SimpleDBPolicyEngine.java   |  8 +--
 ...rizables.java => TestDBModelAuthorizables.java} | 35 ++++++-------
 .../provider/db/TestDBWildcardPermission.java      |  2 +-
 .../provider/db/TestPolicyParsingNegative.java     |  6 +--
 ...tResourceAuthorizationProviderGeneralCases.java | 26 +++++-----
 ...tResourceAuthorizationProviderSpecialCases.java | 24 ++++-----
 .../provider/db/TestSimpleDBPolicyEngineDFS.java   |  6 +--
 sentry-tests/sentry-tests-hive/pom.xml             |  4 --
 54 files changed, 466 insertions(+), 338 deletions(-)

commit d7cbc64b539a69897d84d877460ac4e52cc2a4a5
Author: Prasad Mujumdar <prasadm@apache.org>
Date:   Thu Oct 3 22:47:15 2013 -0700

    SENTRY-33: Add new Hive UDFs to Sentry whitelist (Shreepadma Venugopalan via Prasad Mujumdar)

 .../main/java/org/apache/sentry/binding/hive/conf/HiveAuthzConf.java  | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9c7cd3731b8341d79b00d2c68a1bdf9bbe1e0b27
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Oct 3 16:52:51 2013 -0700

    SENTRY-12: Write the policy file to hdfs when using UnmanagedHiveServer (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../apache/sentry/provider/file/PolicyFile.java    | 52 +++++++++++++++++++++-
 1 file changed, 50 insertions(+), 2 deletions(-)

commit 6407c6a2449bd73a6708c8d99d29857f3a1e2b0c
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Thu Oct 3 14:15:48 2013 -0700

    SENTRY-23: CREATE TEMPORARY FUNCTION fails when Hive warehouse is on hdfs (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../main/java/org/apache/sentry/binding/hive/HiveAuthzBindingHook.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 172631be950a794ae86f22952e70065fcb906bbd
Author: Brock Noland <brock@apache.org>
Date:   Wed Oct 2 14:47:48 2013 -0500

    SENTRY-17: Separate sentry-provider to hive specific and non-specific packages

 pom.xml                                            |   5 +
 sentry-binding/sentry-binding-hive/pom.xml         |   5 +
 .../sentry/binding/hive/TestHiveAuthzBindings.java |   2 +-
 sentry-dist/pom.xml                                |   4 +
 sentry-dist/src/main/assembly/src.xml              |   1 +
 sentry-provider/pom.xml                            |   1 +
 sentry-provider/sentry-provider-file/pom.xml       |  25 +++--
 .../sentry/provider/file/PermissionFactory.java    |  26 ++++++
 .../file/ResourceAuthorizationProvider.java        |   9 +-
 .../org/apache/sentry/provider/file/Roles.java     |  70 ++------------
 .../apache/sentry/provider/file/RolesFactory.java  |  30 ++++++
 ...lePolicyEngine.java => SimplePolicyParser.java} |  64 ++++---------
 sentry-provider/sentry-provider-policy-db/pom.xml  |  84 +++++++++++++++++
 .../provider/db/AbstractDBRoleValidator.java}      |   7 +-
 .../sentry/provider/db/DBAuthorizables.java}       |   5 +-
 .../org/apache/sentry/provider/db/DBRoles.java     | 102 +++++++++++++++++++++
 .../sentry/provider/db/DBWildcardPermission.java}  |  29 ++++--
 .../sentry/provider/db}/DatabaseMustMatch.java     |   4 +-
 .../provider/db}/DatabaseRequiredInRole.java       |   6 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |  10 +-
 .../LocalGroupResourceAuthorizationProvider.java   |   7 +-
 .../sentry/provider/db}/ServerNameMustMatch.java   |   4 +-
 .../sentry/provider/db}/ServersAllIsInvalid.java   |   4 +-
 .../sentry/provider/db/SimpleDBPolicyEngine.java   |  88 ++++++++++++++++++
 .../sentry/provider/db/TestDBAuthorizables.java}   |  26 +++---
 .../provider/db/TestDBWildcardPermission.java}     |  37 ++++----
 .../provider/db}/TestDatabaseRequiredInRole.java   |   6 +-
 .../provider/db}/TestPolicyParsingNegative.java    |  22 +++--
 ...tResourceAuthorizationProviderGeneralCases.java |   7 +-
 ...tResourceAuthorizationProviderSpecialCases.java |   4 +-
 .../provider/db/TestSimpleDBPolicyEngineDFS.java}  |  15 +--
 .../db/TestSimpleDBPolicyEngineLocalFS.java}       |   8 +-
 .../src/test/resources/log4j.properties            |  31 +++++++
 .../resources/test-authz-provider-other-group.ini  |   0
 .../src/test/resources/test-authz-provider.ini     |   0
 sentry-tests/sentry-tests-hive/pom.xml             |   6 ++
 .../tests/e2e/hive/TestPerDBConfiguration.java     |   6 +-
 .../e2e/hive/hiveserver/HiveServerFactory.java     |   2 +-
 38 files changed, 547 insertions(+), 215 deletions(-)

commit fb21cc305f08210b2c69c6355dd67397d58c5ba3
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Oct 2 12:17:45 2013 -0700

    SENTRY-30: StaticUserGroup lacks license header (Gregory Chanan via Shreepadma Venugopalan)

 .../apache/sentry/tests/e2e/hive/StaticUserGroup.java    | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 6396ccb1feeb100b5ae9af2e0ad42bddd94d2e36
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Oct 2 09:05:27 2013 -0700

    SENTRY-11: Normalize the user:group mapping for end to end tests (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../apache/sentry/provider/file/PolicyFile.java    |  23 +++--
 .../provider/file/TestPolicyParsingNegative.java   |   6 +-
 .../provider/file/TestSimplePolicyEngineDFS.java   |   1 +
 .../tests/e2e/hive/AbstractTestWithHiveServer.java |   8 ++
 .../hive/AbstractTestWithStaticConfiguration.java  |  17 +++-
 .../sentry/tests/e2e/hive/StaticUserGroup.java     |  35 +++++++
 .../sentry/tests/e2e/hive/TestCrossDbOps.java      |  80 ++++++++-------
 .../apache/sentry/tests/e2e/hive/TestEndToEnd.java |  42 ++++----
 .../tests/e2e/hive/TestExportImportPrivileges.java |  34 +++----
 .../e2e/hive/TestMetadataObjectRetrieval.java      |  82 ++++++++--------
 .../tests/e2e/hive/TestMetadataPermissions.java    |  35 ++-----
 .../tests/e2e/hive/TestMovingToProduction.java     |  28 +++---
 .../tests/e2e/hive/TestPerDBConfiguration.java     |  81 +++++++---------
 .../tests/e2e/hive/TestPerDatabasePolicyFile.java  |  12 +--
 .../tests/e2e/hive/TestPrivilegeAtTransform.java   |  16 +--
 .../e2e/hive/TestPrivilegesAtDatabaseScope.java    |  86 ++++++++---------
 .../e2e/hive/TestPrivilegesAtFunctionScope.java    |  32 +++---
 .../tests/e2e/hive/TestPrivilegesAtTableScope.java |  76 +++++++--------
 .../e2e/hive/TestRuntimeMetadataRetrieval.java     |  57 +++++------
 .../sentry/tests/e2e/hive/TestSandboxOps.java      | 107 ++++++++++-----------
 .../e2e/hive/TestSentryOnFailureHookLoading.java   |  12 +--
 .../tests/e2e/hive/TestServerConfiguration.java    |  32 +++---
 .../sentry/tests/e2e/hive/TestUriPermissions.java  |  61 ++++++------
 .../sentry/tests/e2e/hive/TestUserManagement.java  |  51 ++++++----
 24 files changed, 513 insertions(+), 501 deletions(-)

commit fa43b28c8b2379c165caa120b481cc9a1d372658
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Oct 1 13:51:19 2013 -0700

    SENTRY-29: InvalidConfigurationException lacks license header, rat check fails (Gregory Chanan via Shreepadma Venugopalan)

 .../binding/hive/conf/InvalidConfigurationException.java | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 7649aad99655c306948d2b1b520d2d151e604b5c
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Sep 27 14:49:50 2013 -0700

    SENTRY-4: Rename Configuration properties that mention hive but are sentry related (Gregory Chanan via Shreepadma Venugopalan)

 .../binding/hive/authz/HiveAuthzBinding.java       |  2 +-
 .../sentry/binding/hive/conf/HiveAuthzConf.java    | 69 +++++++++++-----------
 .../sentry/binding/hive/TestHiveAuthzBindings.java |  2 +-
 .../sentry/binding/hive/TestHiveAuthzConf.java     | 45 ++++++++++----
 .../src/test/resources/access-site.xml             | 34 -----------
 .../src/test/resources/sentry-site.xml             |  6 +-
 .../src/test/resources/sentry-site.xml             |  6 +-
 7 files changed, 76 insertions(+), 88 deletions(-)

commit 055e0146f83522a4668c2d20a04e7ba67dad085a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Sep 23 23:22:27 2013 -0700

    SENTRY-20: Sentry should throw an exception if testing.mode is not set on non-secure cluster (Shreepadma Venugopalan vi Prasad Mujumdar)

 .../sentry/binding/hive/authz/HiveAuthzBinding.java |  7 ++++---
 .../sentry/binding/hive/conf/HiveAuthzConf.java     |  6 +++---
 .../hive/conf/InvalidConfigurationException.java    | 15 +++++++++++++++
 .../sentry/binding/hive/TestHiveAuthzBindings.java  | 21 ++++++++++++++++++---
 .../e2e/hive/hiveserver/HiveServerFactory.java      |  2 +-
 5 files changed, 41 insertions(+), 10 deletions(-)

commit 3ce50d56cea406e77c879043d893421b1c6a925e
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Sep 20 17:13:46 2013 -0700

    SENTRY-18: Add sentry-tests-hive to assembly src (Gregory Chanan via Shreepadma Venugopalan)

 sentry-dist/src/main/assembly/src.xml | 1 +
 1 file changed, 1 insertion(+)

commit aef404c6091785cd1e8879e7279b9eb45678c5d5
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Sep 20 16:38:07 2013 -0700

    SENTRY-16: Move sentry-tests to sentry-tests-hive package (Gregory Chanan via Shreepadma Venugopalan)

 .../src/test/resources/sentry-deprecated-site.xml  |  32 +-
 sentry-tests/pom.xml                               | 312 +------------------
 sentry-tests/sentry-tests-hive/pom.xml             | 334 +++++++++++++++++++++
 .../e2e/hive}/AbstractTestWithHiveServer.java      |   6 +-
 .../hive}/AbstractTestWithStaticConfiguration.java |   6 +-
 .../tests/e2e/hive}/AbstractTestWithStaticDFS.java |   4 +-
 .../e2e/hive}/AbstractTestWithStaticLocalFS.java   |   4 +-
 .../org/apache/sentry/tests/e2e/hive}/Context.java |   4 +-
 .../tests/e2e/hive}/DummySentryOnFailureHook.java  |   2 +-
 .../sentry/tests/e2e/hive}/PolicyFileEditor.java   |   2 +-
 .../sentry/tests/e2e/hive}/TestCrossDbOps.java     |   2 +-
 .../sentry/tests/e2e/hive}/TestEndToEnd.java       |   2 +-
 .../e2e/hive}/TestExportImportPrivileges.java      |   2 +-
 .../e2e/hive}/TestMetadataObjectRetrieval.java     |   2 +-
 .../tests/e2e/hive}/TestMetadataPermissions.java   |   2 +-
 .../tests/e2e/hive}/TestMovingToProduction.java    |   2 +-
 .../tests/e2e/hive}/TestPerDBConfiguration.java    |   2 +-
 .../tests/e2e/hive}/TestPerDatabasePolicyFile.java |   2 +-
 .../tests/e2e/hive}/TestPrivilegeAtTransform.java  |   2 +-
 .../e2e/hive}/TestPrivilegesAtDatabaseScope.java   |   2 +-
 .../e2e/hive}/TestPrivilegesAtFunctionScope.java   |   2 +-
 .../e2e/hive}/TestPrivilegesAtTableScope.java      |   2 +-
 .../e2e/hive}/TestRuntimeMetadataRetrieval.java    |   2 +-
 .../sentry/tests/e2e/hive}/TestSandboxOps.java     |   2 +-
 .../e2e/hive}/TestSentryOnFailureHookLoading.java  |   4 +-
 .../tests/e2e/hive}/TestServerConfiguration.java   |   4 +-
 .../sentry/tests/e2e/hive}/TestUriPermissions.java |   4 +-
 .../sentry/tests/e2e/hive}/TestUserManagement.java |   2 +-
 .../e2e/hive}/hiveserver/AbstractHiveServer.java   |   2 +-
 .../e2e/hive}/hiveserver/EmbeddedHiveServer.java   |   2 +-
 .../e2e/hive}/hiveserver/ExternalHiveServer.java   |   2 +-
 .../tests/e2e/hive}/hiveserver/HiveServer.java     |   2 +-
 .../e2e/hive}/hiveserver/HiveServerFactory.java    |   2 +-
 .../e2e/hive}/hiveserver/InternalHiveServer.java   |   2 +-
 .../e2e/hive}/hiveserver/UnmanagedHiveServer.java  |   2 +-
 .../src/test/resources/emp.dat                     |   0
 .../src/test/resources/hive-site.xml               |   0
 .../src/test/resources/kv1.dat                     |   0
 .../src/test/resources/log4j.properties            |   0
 .../src/test/resources/sentry-site.xml             |   0
 .../src/test/resources/test-authz-provider.ini     |   0
 41 files changed, 408 insertions(+), 354 deletions(-)

commit 3c232e191ab0f18d00b503febc409da920382acc
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Sep 20 14:27:07 2013 -0700

    SENTRY-13: Move createConnection to HiveServer Implementation (from Context) (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../java/org/apache/sentry/tests/e2e/Context.java  |  3 +-
 .../tests/e2e/hiveserver/AbstractHiveServer.java   |  6 ++
 .../tests/e2e/hiveserver/EmbeddedHiveServer.java   |  9 +++
 .../sentry/tests/e2e/hiveserver/HiveServer.java    |  4 ++
 .../tests/e2e/hiveserver/HiveServerFactory.java    |  2 +-
 .../tests/e2e/hiveserver/UnmanagedHiveServer.java  | 68 ++++++++++++++++++++--
 6 files changed, 85 insertions(+), 7 deletions(-)

commit 2dbf28a498ed9038a8b7a2141a5a4d4321df9a1f
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Sep 18 16:53:47 2013 -0700

    Update CHANGELOG.txt

 CHANGELOG.txt | 1 +
 1 file changed, 1 insertion(+)

commit 58efee39e04b998078da587e686d3cae1fd41254
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Sep 18 10:33:10 2013 -0700

    SENTRY-15: log4j.properties file under sentry-tests references the old access package

 sentry-tests/src/test/resources/log4j.properties | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit fc9e8839191fab3f7b38aa47755eeea8e71b734a
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Wed Sep 18 11:10:22 2013 -0700

    SENTRY-6: Use one policy editor exclusively in all the end to end tests (Sravya Tirukkovalur via Shreepadma Venugopalan

 .../apache/sentry/tests/e2e/TestCrossDbOps.java    | 147 ++++-----
 .../org/apache/sentry/tests/e2e/TestEndToEnd.java  |  27 +-
 .../tests/e2e/TestExportImportPrivileges.java      |  57 ++--
 .../sentry/tests/e2e/TestMetadataPermissions.java  |  18 +-
 .../sentry/tests/e2e/TestMovingToProduction.java   |  59 ++--
 .../sentry/tests/e2e/TestPerDBConfiguration.java   | 352 +++++++--------------
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 179 +++++------
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   |  52 ++-
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 221 +++++--------
 .../tests/e2e/TestRuntimeMetadataRetrieval.java    | 112 +++----
 .../apache/sentry/tests/e2e/TestSandboxOps.java    | 127 +++-----
 .../tests/e2e/TestSentryOnFailureHookLoading.java  |  30 +-
 .../sentry/tests/e2e/TestServerConfiguration.java  |  37 +--
 .../sentry/tests/e2e/TestUriPermissions.java       | 117 +++----
 .../sentry/tests/e2e/TestUserManagement.java       | 183 ++++++-----
 15 files changed, 702 insertions(+), 1016 deletions(-)

commit 629904ff59127e23d13332b4a3b822224950cb3a
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Sep 17 16:19:13 2013 -0700

    Preparing for release 1.3.0 development

 pom.xml                                      | 2 +-
 sentry-binding/pom.xml                       | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml   | 2 +-
 sentry-core/pom.xml                          | 2 +-
 sentry-dist/pom.xml                          | 2 +-
 sentry-provider/pom.xml                      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml | 2 +-
 sentry-tests/pom.xml                         | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 08a7ab6429a403c1207c74d6779c39fb2516467c
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Sep 17 15:55:28 2013 -0700

    Preparing for release 1.2.0

 pom.xml                                      | 2 +-
 sentry-binding/pom.xml                       | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml   | 2 +-
 sentry-core/pom.xml                          | 2 +-
 sentry-dist/pom.xml                          | 2 +-
 sentry-provider/pom.xml                      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml | 2 +-
 sentry-tests/pom.xml                         | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit b632d94e53c34dde24bfae1c7c897c22f8a7ef55
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Sep 17 15:49:45 2013 -0700

    Remove com.cloudera.cdh references

 sentry-dist/src/main/assembly/src.xml | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 902302c96ee6f5dc25661dfe542f03fc3253f7e9
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Tue Sep 17 14:44:19 2013 -0700

    Fix NOTICE, README, pom.xml; Add DISCLAIMER, CHANGELOG

 CHANGELOG.txt  | 52 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 DISCLAIMER.txt | 16 ++++++++++++++++
 NOTICE         |  6 ------
 NOTICE.txt     |  9 +++++++++
 README.md      | 34 +++++++++++++++++++++++++++++++---
 pom.xml        |  7 +++++++
 6 files changed, 115 insertions(+), 9 deletions(-)

commit ecc85161f73e11da54dba35822f284083a1c57de
Author: Shreepadma Venugopalan <shreepadma@apache.org>
Date:   Fri Sep 6 15:35:42 2013 -0700

    SENTRY-1: use default on HiveServer2 fails with invalid privileges exception (Prasad Mujumdar via Shreepadma Venugopalan)

 .../org/apache/sentry/provider/file/Roles.java     |  16 +-
 .../file/AbstractTestSimplePolicyEngine.java       |  22 ++-
 .../sentry/tests/e2e/TestPerDBConfiguration.java   | 173 +++++++++++++++++++++
 3 files changed, 207 insertions(+), 4 deletions(-)

commit c98ac0c37032b90b2452f16571435d72a570094e
Author: Olivier Lamy <olamy@apache.org>
Date:   Thu Sep 5 22:50:59 2013 +1000

    use org.apache.sentry groupId

 pom.xml                                      | 19 +++++++++++--------
 sentry-binding/pom.xml                       |  8 ++++----
 sentry-binding/sentry-binding-hive/pom.xml   | 11 +++++------
 sentry-core/pom.xml                          |  5 ++---
 sentry-dist/pom.xml                          | 10 +++++-----
 sentry-provider/pom.xml                      |  8 ++++----
 sentry-provider/sentry-provider-file/pom.xml |  7 +++----
 sentry-tests/pom.xml                         | 22 +++++++++++++++++-----
 8 files changed, 51 insertions(+), 39 deletions(-)

commit 2f037b5d5395bb4a04f3bdb1d80c3f91423bb949
Author: Olivier Lamy <olamy@apache.org>
Date:   Thu Sep 5 16:20:55 2013 +1000

    inherit from Apache parent and use Apache reference (jira, git)

 pom.xml | 29 ++++++++---------------------
 1 file changed, 8 insertions(+), 21 deletions(-)

commit a5262c6e960798de30b5b3278daa0a9e0590217a
Author: Olivier Lamy <olamy@apache.org>
Date:   Thu Sep 5 15:51:20 2013 +1000

    ignore idea files

 .gitignore | 2 ++
 1 file changed, 2 insertions(+)

commit 4bfd2dc89b7c7947a6456e4e01710681b21c1093
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Wed Sep 4 15:16:27 2013 -0700

    SENTRY-5: Normalize the usernames used in the end to end tests (Sravya Tirukkovalur via Shreepadma Venugopalan)

 .../apache/sentry/tests/e2e/TestCrossDbOps.java    | 44 +++++++-------
 .../sentry/tests/e2e/TestPerDBConfiguration.java   | 32 +++++-----
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 68 +++++++++++-----------
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 46 +++++++--------
 .../tests/e2e/TestRuntimeMetadataRetrieval.java    | 10 ++--
 .../apache/sentry/tests/e2e/TestSandboxOps.java    | 32 +++++-----
 .../tests/e2e/TestSentryOnFailureHookLoading.java  |  6 +-
 7 files changed, 119 insertions(+), 119 deletions(-)

commit 7539491cc7f67c31faf32f8801768433eec2b3b9
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Wed Aug 21 10:33:51 2013 -0700

    ACCESS-237: Fix TestObjectMetadataRetrieval

 .../tests/e2e/TestMetadataObjectRetrieval.java      | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 4d9b6a5503122f0705ebd44d6e59aac1cfabcaef
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon Aug 19 17:24:21 2013 -0700

    ACCESS-236. Disable Hive Impersonation in test setup

 .../java/org/apache/sentry/tests/e2e/hiveserver/HiveServerFactory.java  | 2 ++
 1 file changed, 2 insertions(+)

commit 8fddf0610e3a1dc953bc86dd16e6064f39274111
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Aug 14 12:22:06 2013 -0700

    ACCESS-235: Format unqualified URI as DFS uri by default

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 31 ++++++++++++++++------
 1 file changed, 23 insertions(+), 8 deletions(-)

commit 12200196b07d366fa2ddcbec8cf7969113eab7d8
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Aug 13 11:46:03 2013 -0700

    ACCESS-233: The URI permission checks should append path separator before checking the parent path

 .../sentry/binding/hive/HiveAuthzBindingHook.java  | 22 +++++++++++++++-------
 .../sentry/provider/file/WildcardPermission.java   |  5 ++++-
 .../provider/file/TestWildcardPermission.java      |  5 +++--
 .../java/org/apache/sentry/tests/e2e/Context.java  |  4 ++++
 .../tests/e2e/TestExportImportPrivileges.java      | 10 ++++++++++
 5 files changed, 36 insertions(+), 10 deletions(-)

commit e08d75b8ef9a4624297013f4a38e97058cb70b6a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Aug 9 16:19:52 2013 -0700

    ACCESS-232: The per-db policy fies can't be accessed if they are not in the same file system as the global policy file.

 .../apache/sentry/provider/file/PolicyFiles.java   | 11 +++
 .../sentry/provider/file/SimplePolicyEngine.java   |  4 +-
 .../provider/file/TestSimplePolicyEngineDFS.java   | 47 +++++++++++-
 .../apache/sentry/tests/e2e/TestSandboxOps.java    | 85 ++++++++++++++++++++++
 4 files changed, 144 insertions(+), 3 deletions(-)

commit 5a7f87a59d92fdcc30662ce1a2f60e7e529524e9
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Aug 9 01:17:11 2013 -0700

    ACCESS-231: ALTER TABLE SET TBLPROPERTIES allows updates to tables even when the user doesn't have the right privileges

 .../org/apache/sentry/binding/hive/authz/HiveAuthzPrivilegesMap.java    | 1 +
 .../src/test/java/org/apache/sentry/tests/e2e/TestSandboxOps.java       | 2 ++
 2 files changed, 3 insertions(+)

commit 0ce0f220542f0ec28416ecdd30d8daea8401191e
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Aug 9 00:25:38 2013 -0700

    ACCESS-230: CREATE TABLE AS works even if user does not have DB-level access

 .../apache/sentry/binding/hive/authz/HiveAuthzPrivilegesMap.java   | 4 ++--
 .../src/test/java/org/apache/sentry/tests/e2e/TestSandboxOps.java  | 7 ++++++-
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 27feebca20b9cbbbd019d24d44025f47dc0c1065
Author: mohit <mohit@cloudera.com>
Date:   Wed Jul 24 18:43:20 2013 -0700

    ACCESS-227: Add config and operation to OnFailureHookContext
    
    CM implementation of SentryOnFailureHook needs the config and hive operation
    to construct audit events.

 .../sentry/binding/hive/HiveAuthzBindingHook.java  |  8 +++----
 .../binding/hive/SentryOnFailureHookContext.java   | 12 +++++++++++
 .../hive/SentryOnFailureHookContextImpl.java       | 25 ++++++++++++++++++----
 3 files changed, 37 insertions(+), 8 deletions(-)

commit bf2cc60f155cef0876b231d9ee419b18a05eab33
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Thu Jul 18 18:33:59 2013 -0700

    ACCESS-226. Authorization doesn't work with db qualified name for LOAD statement

 .../apache/sentry/binding/hive/HiveAuthzBindingHook.java   |  4 ++++
 .../sentry/tests/e2e/TestPrivilegesAtDatabaseScope.java    | 14 +++++++-------
 2 files changed, 11 insertions(+), 7 deletions(-)

commit 8e1753de1d0a8c9155d072d26d1bbe592f3154df
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Jul 17 12:05:00 2013 -0700

    ACCESS-225: Update master branch version to 1.2.0-SNAPSHOT

 pom.xml                                      | 2 +-
 sentry-binding/pom.xml                       | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml   | 2 +-
 sentry-core/pom.xml                          | 2 +-
 sentry-dist/pom.xml                          | 2 +-
 sentry-provider/pom.xml                      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml | 2 +-
 sentry-tests/pom.xml                         | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit d32d891ea15d95b3f01821b86f8451f740be9c93
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Jul 15 21:01:38 2013 -0700

    ACCESS-214: Rename Access package to Sentry. Update maven module names and descriptions

 pom.xml                                      | 4 ++--
 sentry-binding/pom.xml                       | 2 +-
 sentry-binding/sentry-binding-hive/pom.xml   | 2 +-
 sentry-core/pom.xml                          | 2 +-
 sentry-dist/pom.xml                          | 4 ++--
 sentry-provider/pom.xml                      | 2 +-
 sentry-provider/sentry-provider-file/pom.xml | 2 +-
 sentry-tests/pom.xml                         | 2 +-
 8 files changed, 10 insertions(+), 10 deletions(-)

commit 0dbde2831c3383630e0cdf6faff05afb68d2f2c5
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sun Jul 14 18:12:24 2013 -0700

    ACCESS-214: Rename Access package to Sentry
    Includes refactored commits of following patches :-
    ACCESS-219. Fix end to end test failures for Hive binding
    ACCESS-220:A badly formatted db level policy file shouldn't impact access to rest of the databases
    ACCESS-217. Support for URIs in per DB policy file
    ACCESS-208: Add interface for on failure hooks

 README.md                                          |   4 +-
 .../access/tests/e2e/TestPerDBConfiguration.java   | 166 --------
 pom.xml                                            |  34 +-
 {access-binding => sentry-binding}/pom.xml         |   6 +-
 .../sentry-binding-hive}/pom.xml                   |  24 +-
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  37 ++
 .../sentry}/binding/hive/HiveAuthzBindingHook.java | 118 +++++-
 .../binding/hive/HiveAuthzBindingPreExecHook.java  |  12 +-
 .../binding/hive/HiveAuthzBindingSessionHook.java  |  29 +-
 .../sentry/binding/hive/SentryOnFailureHook.java   |  38 ++
 .../binding/hive/SentryOnFailureHookContext.java   |  89 +++++
 .../hive/SentryOnFailureHookContextImpl.java       | 111 ++++++
 .../binding/hive/authz/HiveAuthzBinding.java       |  20 +-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   6 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  12 +-
 .../sentry}/binding/hive/conf/HiveAuthzConf.java   |  63 ++-
 .../binding/hive/MockUserToGroupMapping.java       |   4 +-
 .../binding/hive/TestHiveAuthzBindings.java        |  30 +-
 .../sentry}/binding/hive/TestHiveAuthzConf.java    |  26 +-
 .../org/apache/sentry}/binding/hive/TestURI.java   |   3 +-
 .../src/test/resources/access-site.xml             |   2 +-
 .../src/test/resources/log4j.properties            |   0
 .../src/test/resources/sentry-site.xml             |  34 ++
 .../src/test/resources/test-authz-provider.ini     |   0
 {access-core => sentry-core}/pom.xml               |   4 +-
 .../org/apache/sentry}/core/AccessConstants.java   |   2 +-
 .../java/org/apache/sentry}/core/AccessURI.java    |   2 +-
 .../main/java/org/apache/sentry}/core/Action.java  |   2 +-
 .../java/org/apache/sentry}/core/Authorizable.java |   2 +-
 .../apache/sentry}/core/AuthorizationProvider.java |   2 +-
 .../java/org/apache/sentry}/core/Database.java     |   2 +-
 .../sentry}/core/NoAuthorizationProvider.java      |   2 +-
 .../main/java/org/apache/sentry}/core/Server.java  |   2 +-
 .../org/apache/sentry}/core/ServerResource.java    |   2 +-
 .../main/java/org/apache/sentry}/core/Subject.java |   2 +-
 .../main/java/org/apache/sentry}/core/Table.java   |   2 +-
 .../java/org/apache/sentry}/core/TableOrView.java  |   2 +-
 .../main/java/org/apache/sentry}/core/View.java    |   2 +-
 .../test/java/org/apache/sentry}/core/TestURI.java |   3 +-
 {access-dist => sentry-dist}/pom.xml               |  12 +-
 .../src/main/assembly/src.xml                      |  26 +-
 {access-provider => sentry-provider}/pom.xml       |   6 +-
 .../sentry-provider-file}/pom.xml                  |   6 +-
 .../provider/file/AbstractRoleValidator.java       |   8 +-
 .../sentry}/provider/file/Authorizables.java       |  16 +-
 .../sentry}/provider/file/DatabaseMustMatch.java   |   6 +-
 .../provider/file/DatabaseRequiredInRole.java      |  31 +-
 .../sentry}/provider/file/GroupMappingService.java |   2 +-
 .../provider/file/HadoopGroupMappingService.java   |   2 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |   2 +-
 .../org/apache/sentry}/provider/file/KeyValue.java |   6 +-
 .../provider/file/LocalGroupMappingService.java    |   2 +-
 .../LocalGroupResourceAuthorizationProvider.java   |   2 +-
 .../apache/sentry}/provider/file/PolicyEngine.java |   4 +-
 .../apache/sentry}/provider/file/PolicyFile.java   |   8 +-
 .../sentry}/provider/file/PolicyFileConstants.java |   2 +-
 .../apache/sentry}/provider/file/PolicyFiles.java  |   2 +-
 .../file/ResourceAuthorizationProvider.java        |  24 +-
 .../sentry}/provider/file/RoleValidator.java       |   2 +-
 .../org/apache/sentry}/provider/file/Roles.java    |  18 +-
 .../sentry}/provider/file/ServerNameMustMatch.java |   6 +-
 .../sentry}/provider/file/ServersAllIsInvalid.java |   6 +-
 .../sentry}/provider/file/SimplePolicyEngine.java  |  27 +-
 .../sentry}/provider/file/WildcardPermission.java  |  10 +-
 .../file/AbstractTestSimplePolicyEngine.java       |   7 +-
 .../file/MockGroupMappingServiceProvider.java      |   3 +-
 .../sentry}/provider/file/TestAuthorizables.java   |  13 +-
 .../provider/file/TestDatabaseRequiredInRole.java  |  48 +++
 .../apache/sentry}/provider/file/TestKeyValue.java |   5 +-
 .../provider/file/TestLocalGroupMapping.java       |   4 +-
 .../provider/file/TestPolicyParsingNegative.java   |  72 +++-
 ...tResourceAuthorizationProviderGeneralCases.java |  20 +-
 ...tResourceAuthorizationProviderSpecialCases.java |  16 +-
 .../provider/file/TestSimplePolicyEngineDFS.java   |   4 +-
 .../file/TestSimplePolicyEngineLocalFS.java        |   4 +-
 .../provider/file/TestWildcardPermission.java      |  12 +-
 .../src/test/resources/log4j.properties            |   0
 .../test-authz-provider-local-group-mapping.ini    |   0
 .../resources/test-authz-provider-other-group.ini  |   0
 .../src/test/resources/test-authz-provider.ini     |   0
 {access-tests => sentry-tests}/pom.xml             |  28 +-
 .../tests/e2e/AbstractTestWithHiveServer.java      |   6 +-
 .../e2e/AbstractTestWithStaticConfiguration.java   |   6 +-
 .../tests/e2e/AbstractTestWithStaticDFS.java       |   4 +-
 .../tests/e2e/AbstractTestWithStaticLocalFS.java   |   4 +-
 .../java/org/apache/sentry}/tests/e2e/Context.java |   4 +-
 .../sentry/tests/e2e/DummySentryOnFailureHook.java |  32 ++
 .../apache/sentry}/tests/e2e/PolicyFileEditor.java |   2 +-
 .../apache/sentry}/tests/e2e/TestCrossDbOps.java   |   8 +-
 .../org/apache/sentry}/tests/e2e/TestEndToEnd.java |   2 +-
 .../tests/e2e/TestExportImportPrivileges.java      |   2 +-
 .../tests/e2e/TestMetadataObjectRetrieval.java     |   4 +-
 .../sentry}/tests/e2e/TestMetadataPermissions.java |   2 +-
 .../sentry}/tests/e2e/TestMovingToProduction.java  |   2 +-
 .../sentry/tests/e2e/TestPerDBConfiguration.java   | 423 +++++++++++++++++++++
 .../tests/e2e/TestPerDatabasePolicyFile.java       |   4 +-
 .../tests/e2e/TestPrivilegeAtTransform.java        |   4 +-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   |   4 +-
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   |   2 +-
 .../tests/e2e/TestPrivilegesAtTableScope.java      |   2 +-
 .../tests/e2e/TestRuntimeMetadataRetrieval.java    |   2 +-
 .../apache/sentry}/tests/e2e/TestSandboxOps.java   |   4 +-
 .../tests/e2e/TestSentryOnFailureHookLoading.java  | 133 +++++++
 .../sentry}/tests/e2e/TestServerConfiguration.java |  10 +-
 .../sentry}/tests/e2e/TestUriPermissions.java      |   4 +-
 .../sentry}/tests/e2e/TestUserManagement.java      |   2 +-
 .../tests/e2e/hiveserver/AbstractHiveServer.java   |   2 +-
 .../tests/e2e/hiveserver/EmbeddedHiveServer.java   |   2 +-
 .../tests/e2e/hiveserver/ExternalHiveServer.java   |   8 +-
 .../sentry}/tests/e2e/hiveserver/HiveServer.java   |   2 +-
 .../tests/e2e/hiveserver/HiveServerFactory.java    |  22 +-
 .../tests/e2e/hiveserver/InternalHiveServer.java   |   2 +-
 .../tests/e2e/hiveserver/UnmanagedHiveServer.java  |   2 +-
 .../src/test/resources/access-site.xml             |   0
 .../src/test/resources/emp.dat                     |   0
 .../src/test/resources/hive-site.xml               |   0
 .../src/test/resources/kv1.dat                     |   0
 .../src/test/resources/log4j.properties            |   0
 sentry-tests/src/test/resources/sentry-site.xml    |  33 ++
 .../src/test/resources/test-authz-provider.ini     |   0
 120 files changed, 1621 insertions(+), 497 deletions(-)

commit d4f7e6bd169488ae8e0e18f4313da3240033e23f
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Jul 2 17:17:08 2013 -0700

    ACCESS-213:Allow authorization to run with HiveServer2 impersonation

 .../binding/hive/authz/HiveAuthzBinding.java       | 12 ++++---
 .../access/binding/hive/conf/HiveAuthzConf.java    |  1 +
 .../access/binding/hive/TestHiveAuthzBindings.java | 38 ++++++++++++++++++++++
 3 files changed, 46 insertions(+), 5 deletions(-)

commit 7d6bf5ec585af1eac33d4a4f8e9118220bcd6408
Author: Brock Noland <noland@localhost.localdomain>
Date:   Tue Jun 4 07:38:24 2013 -0700

    ACCESS-207: Create additional tests for managed tables and partitions

 .../apache/access/tests/e2e/TestUriPermissions.java | 21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 6cccc92eaebec970d650a6462dd4b7366b74f7f2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 31 09:39:03 2013 -0700

    ACCESS-205: Store the subject information in the session configuration

 .../binding/hive/HiveAuthzBindingSessionHook.java   |  7 ++++++-
 .../access/binding/hive/conf/HiveAuthzConf.java     |  1 +
 .../access/tests/e2e/TestServerConfiguration.java   | 21 ++++++++++++---------
 3 files changed, 19 insertions(+), 10 deletions(-)

commit bdf3f2715b89d9882e9f6ca30d647f010a45f15d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 30 20:29:47 2013 -0700

    ACCESS-204: Include the LICENSE.txt in the distribution tarball

 NOTICE | 3 +++
 1 file changed, 3 insertions(+)

commit 6a969559e202d059308af1730cb25a5521dfe7fb
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 30 12:05:47 2013 -0700

    ACCESS-204: Include the LICENSE.txt in the distribution tarball

 NOTICE                                | 3 +++
 access-dist/src/main/assembly/src.xml | 2 ++
 2 files changed, 5 insertions(+)

commit c4bddd673d2c8069c873fcdebbcf9377a18247c2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 30 10:09:04 2013 -0700

    ACCESS-203: Update trunk version to 1.1 and update dependencies

 access-binding/access-binding-hive/pom.xml   | 2 +-
 access-binding/pom.xml                       | 2 +-
 access-core/pom.xml                          | 2 +-
 access-dist/pom.xml                          | 2 +-
 access-provider/access-provider-file/pom.xml | 2 +-
 access-provider/pom.xml                      | 2 +-
 access-tests/pom.xml                         | 2 +-
 pom.xml                                      | 8 ++++----
 8 files changed, 11 insertions(+), 11 deletions(-)

commit a145775a949295ab8dc261f756eb28406ae6873d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue May 28 22:41:51 2013 -0700

    ACCESS-202: Update CDH dependencies in access POM from 4.3-SNAPSHOT to 4.3

 pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit ec16e2b2c0d9a9e4e70cfa56a4a2b1e667c3716d
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 20 18:45:14 2013 -0700

    ACCESS-193: Set hive.scratch.dir.permission and add that to the restrict list from the access session hook

 .../org/apache/access/binding/hive/HiveAuthzBindingSessionHook.java   | 4 ++++
 .../java/org/apache/access/tests/e2e/TestServerConfiguration.java     | 1 +
 2 files changed, 5 insertions(+)

commit 44c45716a50150982a26430f9700b9632dc29114
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri May 17 11:59:04 2013 -0700

    ACCESS-190: HiveAuthzBindingSessionHook adds restricted configuration items to HiveConf but they are not added to internal restrictedList

 .../binding/hive/HiveAuthzBindingSessionHook.java     | 19 +++++++++++++++++--
 .../access/tests/e2e/TestServerConfiguration.java     | 17 ++---------------
 2 files changed, 19 insertions(+), 17 deletions(-)

commit daaf53e607d98419edf7434b5a881d4eca06dd97
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 16 13:42:55 2013 -0500

    ACCESS-189: java_method should be removed from the UDF whitelist

 .../java/org/apache/access/binding/hive/HiveAuthzBindingHook.java   | 3 ++-
 .../java/org/apache/access/binding/hive/authz/HiveAuthzBinding.java | 6 ++++++
 .../java/org/apache/access/binding/hive/conf/HiveAuthzConf.java     | 5 +++--
 .../org/apache/access/tests/e2e/TestPrivilegesAtFunctionScope.java  | 2 ++
 4 files changed, 13 insertions(+), 3 deletions(-)

commit d02b8ce1b2cc62b9c7c1c01689852049094acc3d
Author: Brock Noland <brock@cloudera.com>
Date:   Wed May 15 16:43:12 2013 -0500

    ACCESS-178: Space is not trimmed thoroughly from all parts of the policy file

 .../provider/file/LocalGroupMappingService.java    | 19 +++++++-------
 .../apache/access/provider/file/PolicyFile.java    | 30 ++++++++++++++--------
 .../access/provider/file/WildcardPermission.java   |  5 ++--
 ...tResourceAuthorizationProviderSpecialCases.java | 17 ++++++++++++
 .../access/tests/e2e/TestUriPermissions.java       |  3 ++-
 5 files changed, 50 insertions(+), 24 deletions(-)

commit d8cff663f32f85fd07773da1ee5323cd0a79c833
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue May 14 09:45:17 2013 -0700

    ACCESS-187:Use hiveserver2 session hook to setup per sesion access configuration

 access-binding/access-binding-hive/pom.xml         |  4 ++
 .../access/binding/hive/HiveAuthzBindingHook.java  |  2 -
 .../binding/hive/HiveAuthzBindingSessionHook.java  | 70 ++++++++++++++++++++++
 access-tests/pom.xml                               | 44 ++++++++++++++
 .../java/org/apache/access/tests/e2e/Context.java  |  3 -
 .../apache/access/tests/e2e/TestSandboxOps.java    | 39 +++++++++++-
 .../access/tests/e2e/TestServerConfiguration.java  | 47 ++++++++++++++-
 .../tests/e2e/hiveserver/HiveServerFactory.java    |  2 +
 pom.xml                                            |  3 +
 9 files changed, 207 insertions(+), 7 deletions(-)

commit 29486529949074649727a89c13a70ef9045cc933
Author: Brock Noland <brock@cloudera.com>
Date:   Wed May 15 09:39:18 2013 -0500

    ACCESS-183: Per-db policy files should be better validated

 .../org/apache/access/provider/file/KeyValue.java  |  2 +-
 .../provider/file/LocalGroupMappingService.java    |  5 ++-
 .../apache/access/provider/file/PolicyFile.java    |  3 +-
 .../access/provider/file/PolicyFileConstants.java  |  1 +
 .../access/provider/file/SimplePolicyEngine.java   | 10 +++++-
 .../provider/file/TestPolicyParsingNegative.java   | 36 ++++++++++++++++++++++
 6 files changed, 50 insertions(+), 7 deletions(-)

commit b48d2c554430329f6462b606725e6485b76888a9
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 13 13:35:56 2013 -0700

    ACCESS-176: DBDDLPrivilege should validate whether user has INSERT on URI

 .../access/binding/hive/authz/HiveAuthzPrivilegesMap.java      | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 52c5aed421b3828e35342214874da7c21d4a65aa
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue May 14 19:02:52 2013 -0700

    ACCESS-188: Update access distribution to include all the source directories

 access-dist/pom.xml                                | 2 +-
 access-dist/src/main/assembly/{bin.xml => src.xml} | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 0ac559b39769e5b80653845ebae5ea3490907ef7
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 14 13:48:59 2013 -0500

    ACCESS-138: fix the FUNCTION related test cases

 .../access/binding/hive/TestHiveAuthzBindings.java | 47 ++++++++++++++++------
 .../src/test/resources/test-authz-provider.ini     | 12 ++----
 2 files changed, 37 insertions(+), 22 deletions(-)

commit c807e3835deeb8dd8bd783e8d412a6b1abbd426a
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 14 11:24:20 2013 -0500

    ACCESS-186: HiveAuthzBindingHook should get HiveConf from SessionState

 .../org/apache/access/binding/hive/HiveAuthzBindingHook.java     | 9 ++++++++-
 .../apache/access/tests/e2e/hiveserver/HiveServerFactory.java    | 1 -
 2 files changed, 8 insertions(+), 2 deletions(-)

commit e0f11af3b9dbe64bcf4e699ff0bdb154f046a598
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 14 11:15:20 2013 -0500

    ACCESS-185: Builds failing due to lack of hadoop command in path

 access-tests/pom.xml                                   |  1 +
 .../access/tests/e2e/hiveserver/HiveServerFactory.java | 18 +++++++++++++++++-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit 4a582eb5c18c6644fe154ca5b105c17f2261a02a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 13 10:18:36 2013 -0700

    ACCESS-163: Load the access-site.xml using the specified full path in hive-site.
    Checkin on Brock's behalf

 .../access/binding/hive/HiveAuthzBindingHook.java  | 48 ++++++++++++-------
 .../binding/hive/HiveAuthzBindingPreExecHook.java  |  7 +--
 .../binding/hive/authz/HiveAuthzBinding.java       | 16 +++----
 .../access/binding/hive/conf/HiveAuthzConf.java    | 36 ++++++---------
 .../access/binding/hive/TestHiveAuthzBindings.java |  7 ++-
 .../access/binding/hive/TestHiveAuthzConf.java     |  4 +-
 .../tests/e2e/AbstractTestWithHiveServer.java      |  4 +-
 .../e2e/AbstractTestWithStaticConfiguration.java   |  2 +
 .../tests/e2e/AbstractTestWithStaticDFS.java       |  2 +-
 .../tests/e2e/AbstractTestWithStaticLocalFS.java   |  2 +-
 .../tests/e2e/hiveserver/ExternalHiveServer.java   | 14 ++----
 .../tests/e2e/hiveserver/HiveServerFactory.java    | 54 ++++++++++++++++------
 12 files changed, 114 insertions(+), 82 deletions(-)

commit 0b3f99b9fc74ef935d15a456b553064f65e4c3fe
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Fri May 10 10:19:01 2013 -0700

    ACCESS-168. Import should require ALL@DB + Select@URI

 .../apache/access/binding/hive/authz/HiveAuthzPrivilegesMap.java | 9 ++-------
 .../org/apache/access/tests/e2e/TestExportImportPrivileges.java  | 9 +++++----
 2 files changed, 7 insertions(+), 11 deletions(-)

commit 9f67c6921cd5b1e221f3fb685fb9359557ce98c7
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 9 21:55:11 2013 -0700

    ACCESS-179:Create package/tarball for Access

 access-binding/access-binding-hive/pom.xml |   1 +
 access-dist/pom.xml                        |  72 +++++++++++++++++++
 access-dist/src/main/assembly/bin.xml      | 108 +++++++++++++++++++++++++++++
 access-tests/pom.xml                       |  28 +++++++-
 pom.xml                                    |  52 +++++++++++---
 5 files changed, 250 insertions(+), 11 deletions(-)

commit 314ed21fb26863690614e6086662f23b61be9ee9
Author: Brock Noland <brock@cloudera.com>
Date:   Fri May 10 10:12:36 2013 -0500

    ACCESS-144: TestMetadataObjectRetrieval blocker issues

 .../java/org/apache/access/core/AccessURI.java     |    9 +-
 .../access/provider/file/TestAuthorizables.java    |    4 +-
 ...tResourceAuthorizationProviderSpecialCases.java |   18 +-
 .../e2e/AbstractTestWithStaticConfiguration.java   |   11 +-
 .../tests/e2e/AbstractTestWithStaticLocalFS.java   |   18 +-
 .../tests/e2e/TestMetadataObjectRetrieval.java     | 1638 ++++----------------
 6 files changed, 323 insertions(+), 1375 deletions(-)

commit 841a95fd8c0a9a089163a7560b858444b692376f
Author: Brock Noland <brock@cloudera.com>
Date:   Fri May 10 09:40:03 2013 -0500

    ACCESS-132: TestExportImportPrivileges blocker issues

 ...va => AbstractTestWithStaticConfiguration.java} |  22 +--
 .../tests/e2e/AbstractTestWithStaticDFS.java       |  22 +--
 .../tests/e2e/AbstractTestWithStaticLocalFS.java   |  53 +++++++
 .../apache/access/tests/e2e/TestCrossDbOps.java    |   2 +-
 .../org/apache/access/tests/e2e/TestEndToEnd.java  |   2 +-
 .../tests/e2e/TestExportImportPrivileges.java      | 169 ++++++++-------------
 .../tests/e2e/TestMetadataObjectRetrieval.java     |   2 +-
 .../access/tests/e2e/TestMetadataPermissions.java  |   2 +-
 .../access/tests/e2e/TestMovingToProduction.java   |   2 +-
 .../access/tests/e2e/TestPerDBConfiguration.java   |   2 +-
 .../tests/e2e/TestPerDatabasePolicyFile.java       |   2 +-
 .../access/tests/e2e/TestPrivilegeAtTransform.java |   2 +-
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   |   2 +-
 .../tests/e2e/TestPrivilegesAtTableScope.java      |   2 +-
 .../tests/e2e/TestRuntimeMetadataRetrieval.java    |   2 +-
 .../apache/access/tests/e2e/TestSandboxOps.java    |  20 +--
 .../access/tests/e2e/TestUriPermissions.java       |   2 +-
 .../access/tests/e2e/TestUserManagement.java       |   2 +-
 .../tests/e2e/hiveserver/HiveServerFactory.java    |   8 +-
 19 files changed, 161 insertions(+), 159 deletions(-)

commit 043ce5b7bfea45ddf9e08612816ece58a6de28f4
Author: Brock Noland <brock@cloudera.com>
Date:   Fri May 10 09:37:43 2013 -0500

    ACCESS-99: FileProvider or Hive Binding needs to remove any relative path changes before comparison

 .../HadoopGroupResourceAuthorizationProvider.java  |  4 +-
 .../LocalGroupResourceAuthorizationProvider.java   |  2 +-
 .../file/{Policy.java => PolicyEngine.java}        |  2 +-
 .../apache/access/provider/file}/PolicyFile.java   |  4 +-
 .../file/ResourceAuthorizationProvider.java        |  4 +-
 .../{SimplePolicy.java => SimplePolicyEngine.java} |  8 +-
 .../access/provider/file/WildcardPermission.java   | 51 +++++++++--
 ...cy.java => AbstractTestSimplePolicyEngine.java} |  6 +-
 .../provider/file/TestPolicyParsingNegative.java   | 10 +--
 ...ResourceAuthorizationProviderGeneralCases.java} |  8 +-
 ...tResourceAuthorizationProviderSpecialCases.java | 98 ++++++++++++++++++++++
 ...licyDFS.java => TestSimplePolicyEngineDFS.java} |  4 +-
 ...lFS.java => TestSimplePolicyEngineLocalFS.java} |  4 +-
 .../provider/file/TestWildcardPermission.java      | 48 ++++++++++-
 .../apache/access/tests/e2e/TestCrossDbOps.java    |  1 +
 .../tests/e2e/TestPerDatabasePolicyFile.java       |  1 +
 .../access/tests/e2e/TestPrivilegeAtTransform.java |  1 +
 .../apache/access/tests/e2e/TestSandboxOps.java    |  1 +
 .../access/tests/e2e/TestServerConfiguration.java  |  1 +
 19 files changed, 219 insertions(+), 39 deletions(-)

commit 05a96573693d762e24a76bbedbcf8a1622b856fd
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Thu May 9 14:59:31 2013 -0700

    ACCESS-54. Revert ACCESS-53

 pom.xml | 112 +++++++---------------------------------------------------------
 1 file changed, 11 insertions(+), 101 deletions(-)

commit 1edc7520c6c941288c73c71da02229b20c3ee9fa
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu May 9 11:53:23 2013 -0700

    ACCESS-110: User is able to create a view without valid privilege

 .../access/binding/hive/authz/HiveAuthzPrivilegesMap.java      | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit 96cb7ade3e7a7235028dccea00a16f04485c2c0e
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Thu May 9 10:18:21 2013 -0700

    ACCESS-63. Restrict add *, dfs, delete *

 .../apache/access/tests/e2e/TestSandboxOps.java    |  5 +--
 ...iguration.java => TestServerConfiguration.java} | 44 +++++++++++++++++++++-
 2 files changed, 45 insertions(+), 4 deletions(-)

commit 7fb53646d8138426085c3b8e212a51513edd73d6
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed May 8 14:36:58 2013 -0700

    ACCESS-177: Create a white list of UDFs allowed when auth is turned on

 .../access/binding/hive/HiveAuthzBindingHook.java  | 25 ++++++++++++++++
 .../access/binding/hive/conf/HiveAuthzConf.java    | 22 +++++++++++++-
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   | 35 ++++++++++++++++++++++
 3 files changed, 81 insertions(+), 1 deletion(-)

commit 712fb2f6a2f7d77c1ee13297d23c178d2e9d60bf
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 9 09:39:49 2013 -0500

    ACCESS-134: TestMedataPermissions major issues

 ...rmissions.java => TestMetadataPermissions.java} | 100 +++++++++------------
 1 file changed, 41 insertions(+), 59 deletions(-)

commit 4eb80ccd35af6562072784387091c257410cdcc7
Author: Brock Noland <brock@cloudera.com>
Date:   Wed May 8 11:27:05 2013 -0500

    ACCESS-135: TestCrossDbOps blocker issues

 .../e2e/AbstractTestWithStaticHiveServer.java      |  58 +++
 .../apache/access/tests/e2e/TestCrossDbOps.java    | 532 +++++++--------------
 .../apache/access/tests/e2e/TestSandboxOps.java    | 110 ++---
 3 files changed, 266 insertions(+), 434 deletions(-)

commit c91736f95da9094f9c9854e17920294f9119dff1
Author: Brock Noland <brock@cloudera.com>
Date:   Wed May 8 09:17:53 2013 -0500

    ACCESS-172: Bug in test TestHiveAuthzBinding

 .../access/binding/hive/TestHiveAuthzBindings.java | 32 +++++++++++-----------
 1 file changed, 16 insertions(+), 16 deletions(-)

commit 97b137509ca8f202cd8d5598ca330e55a4fbb4e7
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 7 15:58:25 2013 -0500

    ACCESS-167 - Find strategy to handle inconsistency paths

 access-binding/access-binding-hive/pom.xml         | 30 ++++++-----
 .../access/binding/hive/HiveAuthzBindingHook.java  | 45 ++++++++++++++--
 .../binding/hive/authz/HiveAuthzBinding.java       |  3 --
 .../access/binding/hive/TestHiveAuthzConf.java     |  1 -
 .../org/apache/access/binding/hive/TestURI.java    | 63 ++++++++++++++++++++++
 .../java/org/apache/access/core/AccessURI.java     |  9 +++-
 .../test/java/org/apache/access/core/TestURI.java  | 44 +++++++++++++++
 .../apache/access/tests/e2e/TestCrossDbOps.java    |  6 +--
 .../org/apache/access/tests/e2e/TestEndToEnd.java  |  2 +-
 .../tests/e2e/TestExportImportPrivileges.java      |  2 +-
 .../access/tests/e2e/TestMovingToProduction.java   |  8 +--
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   |  7 +--
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   |  2 +-
 .../apache/access/tests/e2e/TestSandboxOps.java    |  8 +--
 .../access/tests/e2e/TestUriPermissions.java       | 15 +++---
 .../access/tests/e2e/TestUserManagement.java       |  4 +-
 16 files changed, 199 insertions(+), 50 deletions(-)

commit 9eb4a295141c20685aba41c1dd132278687e3b16
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 7 14:13:27 2013 -0500

    ACCESS-170: TestPerDatabasePolicyFile all tests fail

 .../tests/e2e/TestPerDatabasePolicyFile.java       | 85 +++++++++-------------
 1 file changed, 34 insertions(+), 51 deletions(-)

commit 96467835b2adff4b4cfe4c6c8637e9ddfba44f76
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Tue May 7 09:45:39 2013 -0700

    Fix build problems

 .../test/java/org/apache/access/tests/e2e/TestMovingToProduction.java   | 2 ++
 1 file changed, 2 insertions(+)

commit 43a1e92e44ae33dd4bb6535a41194b73bd95c353
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 6 16:35:46 2013 -0700

    ACCESS-131:TestEndToEnd blocker issues

 .../org/apache/access/tests/e2e/TestEndToEnd.java     | 19 ++++++-------------
 1 file changed, 6 insertions(+), 13 deletions(-)

commit 326600960603b3deee63e6227933b8970715c737
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon May 6 17:25:51 2013 -0700

    ACCESS-129. TestMovingToProduction blocker issues

 .../org/apache/access/tests/e2e/TestMovingToProduction.java    | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 61c46bb4989836c8fe7f9705f41f552a77d0797b
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon May 6 16:54:40 2013 -0700

    ACCESS-154/155. Create External table is not differentiated from create table + Fix incorrect external table test

 .../access/binding/hive/HiveAuthzBindingHook.java    |  7 +++++++
 .../access/binding/hive/authz/HiveAuthzBinding.java  |  2 +-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java     | 20 ++++++++++++++------
 3 files changed, 22 insertions(+), 7 deletions(-)

commit 6e15fa61d3ccf913a10a00b5d6acb020b783bc5d
Author: Brock Noland <brock@cloudera.com>
Date:   Tue May 7 09:36:51 2013 -0500

    ACCESS-126: TestSandboxOps blocker issues

 .../tests/e2e/AbstractTestWithStaticDFS.java       |   23 +-
 .../tests/e2e/TestExportImportPrivileges.java      |    8 +-
 .../access/tests/e2e/TestPrivilegeAtTransform.java |    3 -
 .../apache/access/tests/e2e/TestSandboxOps.java    | 1095 +++++---------------
 .../tests/e2e/hiveserver/HiveServerFactory.java    |    1 +
 5 files changed, 280 insertions(+), 850 deletions(-)

commit 74561498b90fde9083fd4a919bafb995cc3afe08
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon May 6 13:34:48 2013 -0700

    ACCESS-151: TestPrivilegesAtTableScope blocker issues

 .../access/binding/hive/HiveAuthzBindingHook.java  | 38 +++++++++++++++++++---
 1 file changed, 34 insertions(+), 4 deletions(-)

commit 151863ab29bb2651cc9df83fef59819182e5d7e0
Author: Brock Noland <brock@cloudera.com>
Date:   Fri May 3 16:21:12 2013 -0500

    ACCESS-124: TestUserManagement blocker issues

 .../access/tests/e2e/TestUserManagement.java       | 583 ++++++---------------
 1 file changed, 151 insertions(+), 432 deletions(-)

commit 6b766603afccfbe9589c700dcff7739738ac6f16
Author: Brock Noland <brock@cloudera.com>
Date:   Fri May 3 14:24:53 2013 -0500

    ACCESS-146: TestPrivilegeAtTransform blocker issues

 .../binding/hive/HiveAuthzBindingPreExecHook.java  |   4 +-
 .../java/org/apache/access/tests/e2e/Context.java  |  11 +++
 .../access/tests/e2e/TestPrivilegeAtTransform.java | 105 ++++++---------------
 3 files changed, 40 insertions(+), 80 deletions(-)

commit ae06ad63e48305522a185b9c9eb462b79356f9b2
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Wed May 1 12:50:19 2013 -0700

    ACCESS-150. Access side changes to support privilege validation for getTables(), getSchemas() JDBC APIs

 .../access/binding/hive/HiveAuthzBindingHook.java  |  90 ++---
 .../apache/access/tests/e2e/TestCrossDbOps.java    | 403 +++++++++++++++------
 2 files changed, 331 insertions(+), 162 deletions(-)

commit b6880b15764161c3d7c79bdc210396f616c16128
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 2 16:40:25 2013 -0500

    ACCESS-97: HiveAuthzConf.get method is incorrect

 .../org/apache/access/binding/hive/conf/HiveAuthzConf.java | 14 +++++++++++---
 .../apache/access/binding/hive/TestHiveAuthzBindings.java  |  1 +
 2 files changed, 12 insertions(+), 3 deletions(-)

commit 548b7ccb4525613912b7e840adda7a2cd2bdf546
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 2 15:56:36 2013 -0500

    ACCESS-153: TestUriPermissions blocker issues

 .../access/binding/hive/HiveAuthzBindingHook.java  | 99 ++++++++++++++--------
 .../binding/hive/authz/HiveAuthzBinding.java       | 36 ++++----
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  6 +-
 .../apache/access/provider/file/SimplePolicy.java  | 16 +++-
 .../java/org/apache/access/tests/e2e/Context.java  |  2 +-
 .../access/tests/e2e/TestUriPermissions.java       | 84 ++++++++++--------
 6 files changed, 147 insertions(+), 96 deletions(-)

commit deb79e769d7521bf882dba74b9ba6b0639936ac9
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 2 15:53:39 2013 -0500

    ACCESS-142: TestServerMisconfiguration has two bad tests (2)

 .../binding/hive/authz/HiveAuthzBinding.java       | 24 +++++++++++-
 .../access/binding/hive/conf/HiveAuthzConf.java    |  3 +-
 .../access/core/NoAuthorizationProvider.java       | 44 ++++++++++++++++++++++
 .../provider/file/LocalGroupMappingService.java    |  6 +--
 .../access/provider/file/PolicyFileConstants.java  |  4 ++
 .../apache/access/provider/file/SimplePolicy.java  |  6 +--
 6 files changed, 78 insertions(+), 9 deletions(-)

commit 2e13de0e7ca13e6e8487916d1ef3620748e75365
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 2 15:45:14 2013 -0500

    ACCESS-142: TestServerMisconfiguration has two bad tests

 .../org/apache/access/tests/e2e/PolicyFile.java    | 166 +++++++++++++++++++++
 .../tests/e2e/TestServerMisconfiguration.java      |   9 ++
 .../tests/e2e/hiveserver/HiveServerFactory.java    |   4 +
 3 files changed, 179 insertions(+)

commit c5b8c59967c738d74e1090197525fa4bd99173f5
Author: Brock Noland <brock@cloudera.com>
Date:   Thu May 2 12:45:40 2013 -0500

    ACCESS-148: TestPrivilegesAtDatabaseScope blocker issues

 access-tests/pom.xml                               |  4 +
 .../tests/e2e/AbstractTestWithHiveServer.java      |  3 +-
 .../e2e/AbstractTestWithStaticHiveServer.java      | 10 ++-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 86 +---------------------
 .../tests/e2e/hiveserver/EmbeddedHiveServer.java   | 11 ++-
 .../tests/e2e/hiveserver/HiveServerFactory.java    |  1 +
 .../tests/e2e/hiveserver/InternalHiveServer.java   |  9 +++
 pom.xml                                            |  7 ++
 8 files changed, 41 insertions(+), 90 deletions(-)

commit aeec120b2a8eed99cf261e0607533b3148920eb3
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Wed May 1 14:38:11 2013 -0700

    ACCESS-139/141. Fix incorrect tests in TestRuntimeMetadataRetrieval

 .../tests/e2e/TestRuntimeMetadataRetrieval.java    | 202 ++++++++++++---------
 1 file changed, 112 insertions(+), 90 deletions(-)

commit 6427f700776b0b70bc55dc91562abbc591aa14d6
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Sun Apr 28 16:49:24 2013 -0700

    ACCESS-104. Restrict SHOW DATABASES, SHOW TABLES

 .../access/binding/hive/HiveAuthzBindingHook.java  | 282 +++++++++++++++------
 .../java/org/apache/access/tests/e2e/Context.java  |   1 +
 .../apache/access/tests/e2e/PolicyFileEditor.java  |   3 +
 .../apache/access/tests/e2e/TestCrossDbOps.java    | 232 +++++++++++++----
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 238 ++++++++++-------
 5 files changed, 525 insertions(+), 231 deletions(-)

commit 52842646797589afdcd223bdff12fdde45229ce3
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Apr 30 02:26:49 2013 -0700

    ACCESS-113: Drop table privilege request is incorrect

 .../org/apache/access/binding/hive/HiveAuthzBindingHook.java   | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

commit 2a0772eb218b91b848737db96298d7207d9fc911
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Apr 30 12:06:14 2013 -0500

    ACCESS-128: TestPerDBConfiguration blocker issues

 .../access/tests/e2e/TestPerDBConfiguration.java   | 96 ++++++++--------------
 1 file changed, 36 insertions(+), 60 deletions(-)

commit f1723fa83ab0f1d3af87890e6f7e97b708322803
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Apr 30 12:05:47 2013 -0500

    ACCESS-96: Misconfiguration test for authentication tests impersonation

 .../java/org/apache/access/tests/e2e/TestServerMisconfiguration.java  | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 312405a594d9af8371480a85cb65f3c350f53031
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Apr 29 10:23:30 2013 -0700

     ACCESS-105: Restrict misc metadata operations

 .../access/binding/hive/HiveAuthzBindingHook.java  |   32 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |   12 +-
 .../apache/access/tests/e2e/PolicyFileEditor.java  |    4 +-
 .../tests/e2e/TestMetadataObjectRetrieval.java     | 2634 ++++++++------------
 .../tests/e2e/TestRuntimeMetadataRetrieval.java    |  401 +++
 5 files changed, 1408 insertions(+), 1675 deletions(-)

commit 4bb8ec16a0380501f143afbe7ad97b20872c5781
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Apr 30 09:26:08 2013 -0500

    ACCESS-106: Fix EndToEnd tests when starting external hs2

 access-tests/pom.xml                               | 31 +++++----
 .../tests/e2e/AbstractTestWithHiveServer.java      | 11 +++-
 .../tests/e2e/hiveserver/AbstractHiveServer.java   |  6 +-
 .../tests/e2e/hiveserver/ExternalHiveServer.java   | 73 +++++++++++++++++++---
 .../tests/e2e/hiveserver/HiveServerFactory.java    | 23 ++++---
 5 files changed, 110 insertions(+), 34 deletions(-)

commit 020ffe48f8bf89d68d647aabdb648861312909c7
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 29 15:59:39 2013 -0500

    ACCESS-117: Fix test failures in policy engine introduced by ACCESS-95

 .../access/provider/file/WildcardPermission.java   |  7 +++----
 .../provider/file/AbstractTestSimplePolicy.java    |  2 +-
 .../file/TestResourceAuthorizationProvider.java    | 13 ++++++------
 .../provider/file/TestWildcardPermission.java      | 24 +++++++++++-----------
 .../src/test/resources/test-authz-provider.ini     |  2 +-
 5 files changed, 23 insertions(+), 25 deletions(-)

commit fefb4bdda29c76079ca40236790aea5d551e4ab2
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Apr 27 19:44:06 2013 -0700

    ACCESS-108: CREATE TABLE db.table comes through as access for default database

 .../access/binding/hive/HiveAuthzBindingHook.java  |  25 +++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  58 +++---
 .../apache/access/tests/e2e/PolicyFileEditor.java  |   5 +
 .../apache/access/tests/e2e/TestCrossDbOps.java    | 213 ++++++++++++---------
 4 files changed, 185 insertions(+), 116 deletions(-)

commit 70af3d83f97177f30ab3b64c2f89fee5852d2547
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 29 14:27:36 2013 -0500

    ACCESS-114: Fix TestMovingToProduction

 .../java/org/apache/access/tests/e2e/Context.java  |  12 ++
 .../access/tests/e2e/TestMovingToProduction.java   | 160 +++++++++------------
 2 files changed, 82 insertions(+), 90 deletions(-)

commit 1c4002ba78dd7ad901a5562f893b9dd1546aa2f9
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 29 13:19:26 2013 -0500

    ACCESS-112: Fix TestEndToEnd

 .../org/apache/access/tests/e2e/TestEndToEnd.java  | 62 +++++++++++-----------
 access-tests/src/test/resources/log4j.properties   |  1 +
 2 files changed, 31 insertions(+), 32 deletions(-)

commit c384da0743952031ef8513e784132a16d1278736
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 29 13:18:19 2013 -0500

    ACCESS-111: Rename appendToPolicyFileWithNewLine to append and make it varags

 .../java/org/apache/access/tests/e2e/Context.java  |  26 +++-
 .../apache/access/tests/e2e/PolicyFileEditor.java  |   3 +
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 166 ++++++++++-----------
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 144 +++++++++---------
 4 files changed, 177 insertions(+), 162 deletions(-)

commit d3d095ffb12971ac54251fb8ba6849a7d86dea8d
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Apr 26 18:50:19 2013 -0500

    ACCESS-109: Fix test failures in TestPerDBConfiguration and TestCrossDbOps

 .../apache/access/tests/e2e/TestCrossDbOps.java    | 217 ++++++++++-----------
 .../access/tests/e2e/TestPerDBConfiguration.java   |   1 +
 access-tests/src/test/resources/log4j.properties   |   3 +-
 3 files changed, 108 insertions(+), 113 deletions(-)

commit dd49e3d127c758807b40033d5c125c6d3ebe5955
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Apr 22 13:47:53 2013 -0700

    ACCESS-89: Transform previlege

 .../access/binding/hive/HiveAuthzBindingHook.java  |  2 +
 .../binding/hive/HiveAuthzBindingPreExecHook.java  | 71 ++++++++++++++++++++++
 .../binding/hive/authz/HiveAuthzBinding.java       | 45 +++++++++++++-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  5 ++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 12 +++-
 .../java/org/apache/access/tests/e2e/Context.java  | 16 ++++-
 .../access/tests/e2e/TestPrivilegeAtTransform.java | 69 ++++++++-------------
 7 files changed, 174 insertions(+), 46 deletions(-)

commit c2741a77cd27240c187fc0d0bee4a2dc093b2001
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Apr 22 23:31:24 2013 -0700

    ACCESS-95: Remove restrictions on create/drop function

 .../access/binding/hive/HiveAuthzBindingHook.java  |  59 ++++
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   3 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  12 +-
 .../access/binding/hive/conf/HiveAuthzConf.java    |   3 +-
 .../org/apache/access/provider/file/KeyValue.java  |   4 +-
 .../access/provider/file/WildcardPermission.java   |  16 +-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 211 +++++++++++++-
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   | 305 ++++-----------------
 8 files changed, 342 insertions(+), 271 deletions(-)

commit 46e090e373565545846bfa15d03ad1f08b799eef
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Apr 23 16:15:32 2013 -0700

    ACCESS-76:all@database is enough to drop the database

 .../org/apache/access/binding/hive/authz/HiveAuthzPrivilegesMap.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit f8fe47366970e1e6b1af04adf12f81d4901b07b4
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Apr 26 09:51:08 2013 -0500

    ACCESS-61: Remove static items from EndToEndTestContext (delete files)

 .../access/tests/e2e/EndToEndTestContext.java      | 366 ---------------------
 .../e2e/TestMisconfigurationAndEdgeCases.java      | 149 ---------
 2 files changed, 515 deletions(-)

commit e7ce555cddbd2b3b141854a3a761146236e46b5e
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Apr 26 09:39:50 2013 -0500

    ACCESS-61: Remove static items from EndToEndTestContext

 .../tests/e2e/AbstractTestWithHiveServer.java      |  77 ++++++
 .../tests/e2e/AbstractTestWithStaticDFS.java       |  60 ++++
 .../e2e/AbstractTestWithStaticHiveServer.java      |  84 ++++++
 .../java/org/apache/access/tests/e2e/Context.java  | 160 +++++++++++
 .../apache/access/tests/e2e/TestCrossDbOps.java    |  25 +-
 .../org/apache/access/tests/e2e/TestEndToEnd.java  |  16 +-
 .../tests/e2e/TestExportImportPrivileges.java      |  19 +-
 .../access/tests/e2e/TestMedataPermissions.java    |  14 +-
 .../tests/e2e/TestMetadataObjectRetrieval.java     |  14 +-
 .../access/tests/e2e/TestMovingToProduction.java   |  14 +-
 .../access/tests/e2e/TestPerDBConfiguration.java   |  24 +-
 .../tests/e2e/TestPerDatabasePolicyFile.java       |  13 +-
 .../access/tests/e2e/TestPrivilegeAtTransform.java |  14 +-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 173 ++++++------
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   |  36 +--
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 305 ++++++++++-----------
 .../apache/access/tests/e2e/TestSandboxOps.java    |  14 +-
 .../tests/e2e/TestServerMisconfiguration.java      | 128 +++++++++
 .../access/tests/e2e/TestUriPermissions.java       |  19 +-
 .../access/tests/e2e/TestUserManagement.java       |  18 +-
 .../tests/e2e/hiveserver/AbstractHiveServer.java   |  82 ++++++
 .../tests/e2e/hiveserver/EmbeddedHiveServer.java   |  41 +++
 .../tests/e2e/hiveserver/ExternalHiveServer.java   |  73 +++++
 .../access/tests/e2e/hiveserver/HiveServer.java    |  30 ++
 .../tests/e2e/hiveserver/HiveServerFactory.java    | 152 ++++++++++
 .../tests/e2e/hiveserver/InternalHiveServer.java   |  46 ++++
 .../tests/e2e/hiveserver/UnmanagedHiveServer.java  |  36 +++
 27 files changed, 1255 insertions(+), 432 deletions(-)

commit 9e418e9094bd91baadfbd107b352150b312dc655
Merge: 0bdf304d b55efead
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Thu Apr 25 15:28:20 2013 -0700

    Merge branch 'master' of https://github.com/cloudera/access

commit 0bdf304da2a46b515d2d0d33033f266a64775a92
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Thu Apr 25 15:27:50 2013 -0700

    ACCESS-87 Implement test cases walk through the end to end scenario

 .../org/apache/access/tests/e2e/TestEndToEnd.java  | 159 +++++++++++++++++++++
 1 file changed, 159 insertions(+)

commit b55efeada9e8ce3a42c370e59b3cce512b3a34c0
Author: Brock Noland <brock@cloudera.com>
Date:   Thu Apr 25 14:38:22 2013 -0500

    ACCESS-102: Create download hadoop profile

 .gitignore                                    |  1 +
 access-tests/pom.xml                          | 48 ++++++++++++++++++++++++++-
 access-tests/src/test/resources/hive-site.xml |  2 +-
 3 files changed, 49 insertions(+), 2 deletions(-)

commit ebb1f96059c7f691ed43b871b2eb952a657bed08
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 22 13:01:16 2013 -0500

    ACCESS-94: EndToEnd Test Cleanup

 .../access/tests/e2e/EndToEndTestContext.java      | 18 ++---
 .../apache/access/tests/e2e/PolicyFileEditor.java  | 89 +++++++---------------
 .../tests/e2e/TestExportImportPrivileges.java      |  4 +-
 .../access/tests/e2e/TestMovingToProduction.java   |  9 ++-
 .../tests/e2e/TestPerDatabasePolicyFile.java       |  6 ++
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 10 +--
 .../tests/e2e/TestPrivilegesAtTableScope.java      |  9 +--
 .../access/tests/e2e/TestUriPermissions.java       |  9 ++-
 .../access/tests/e2e/TestUserManagement.java       |  7 ++
 9 files changed, 74 insertions(+), 87 deletions(-)

commit a5245cc28bf1686083bb64d7c4acf077a0f2efaf
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 22 13:00:20 2013 -0500

    ACCESS-92: Fix misconfiguration tests

 .../access/tests/e2e/EndToEndTestContext.java      |  3 +-
 ...lowLocalGroupResourceAuthorizationProvider.java | 55 -----------------
 .../e2e/TestMisconfigurationAndEdgeCases.java      | 72 ++++++----------------
 3 files changed, 19 insertions(+), 111 deletions(-)

commit 4d0f7f5d419d59346fc115f25508f4ce1ba380b0
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 22 10:55:41 2013 -0500

    ACCESS-93: Delete files which were accidently not deleted on ACCESS-77 commit

 .../access/provider/file/SimplePollingPolicy.java  | 89 ----------------------
 .../provider/file/TestSimplePollingPolicy.java     | 67 ----------------
 2 files changed, 156 deletions(-)

commit 1877d4b2a69521ae9a8793d10b442514155ae34e
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 22 09:40:01 2013 -0500

    ACCESS-77: Policy Engine needs to validate servername

 .../binding/hive/authz/HiveAuthzBinding.java       | 10 ++---
 .../HadoopGroupResourceAuthorizationProvider.java  |  4 +-
 .../LocalGroupResourceAuthorizationProvider.java   |  4 +-
 .../access/provider/file/ServerNameMustMatch.java  | 43 ++++++++++++++++++++++
 .../apache/access/provider/file/SimplePolicy.java  | 11 ++++--
 .../provider/file/TestPolicyParsingNegative.java   | 22 +++++++++--
 .../file/TestResourceAuthorizationProvider.java    |  2 +-
 .../access/provider/file/TestSimplePolicyDFS.java  |  2 +-
 .../provider/file/TestSimplePolicyLocalFS.java     |  2 +-
 ...lowLocalGroupResourceAuthorizationProvider.java |  4 +-
 10 files changed, 82 insertions(+), 22 deletions(-)

commit 28b4443fb23812347c88c5afccd5c7c7dc3de397
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Fri Apr 19 13:44:00 2013 -0700

    ACCESS-72 Implement test cases regarding TRANSFORM query

 .../access/tests/e2e/TestPrivilegeAtTransform.java | 196 +++++++++++++++++++++
 1 file changed, 196 insertions(+)

commit e3424238945d539dd8de7e49b956d93a8db5cbd0
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Apr 18 09:28:21 2013 -0700

    ACCESS-82. hook code refactoring

 .../access/binding/hive/HiveAuthzBindingHook.java  | 153 ++++++++++++++++++-
 .../binding/hive/authz/HiveAuthzBinding.java       | 144 +++---------------
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  66 +++-----
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  56 ++++---
 .../access/binding/hive/TestHiveAuthzBindings.java |  84 ++++++-----
 .../access/tests/e2e/TestMedataPermissions.java    | 168 +++++++++++++++++++++
 6 files changed, 431 insertions(+), 240 deletions(-)

commit a3ed2ee50e0ff87cbd9af3965c3f3a786cec92f7
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Apr 19 12:59:03 2013 -0500

    ACCESS-84: Remove mention of functions in the policy engine

 .../access/binding/hive/authz/HiveAuthzBinding.java   |  2 +-
 .../provider/file/AbstractTestSimplePolicy.java       |  5 +----
 .../file/TestResourceAuthorizationProvider.java       | 19 ++++++++++++++++---
 .../src/test/resources/test-authz-provider.ini        |  6 ++----
 4 files changed, 20 insertions(+), 12 deletions(-)

commit c06332b0a05dff16d1e57bf620bc871b443b7342
Author: Brock Noland <brock@cloudera.com>
Date:   Thu Apr 18 14:54:43 2013 -0500

    ACCESS-83: URI privileges should be inherited by the underlying directory tree

 .../provider/file/AbstractRoleValidator.java       |  9 ++----
 .../apache/access/provider/file/Authorizables.java |  6 ++--
 .../access/provider/file/PolicyFileConstants.java  |  5 ++--
 .../file/ResourceAuthorizationProvider.java        |  3 ++
 .../access/provider/file/WildcardPermission.java   | 23 ++++++++++++--
 .../provider/file/TestWildcardPermission.java      | 35 ++++++++++++++++++++++
 6 files changed, 68 insertions(+), 13 deletions(-)

commit 5784633986f5fac3f48015a818dc7f04cf24285f
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Thu Apr 18 10:52:21 2013 -0700

    ACCESS-66 implement test cases related to performing all metastore operations (more than DESCRIBE TABLE)

 .../tests/e2e/TestMetadataObjectRetrieval.java     | 1785 ++++++++++++++++++--
 1 file changed, 1632 insertions(+), 153 deletions(-)

commit f0a0ae3a9840a92da2143fccef3861132328bd7b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Apr 17 00:41:14 2013 -0700

     ACCESS-36: Support URI type for Authorization. Addional test fixes for load permissions and misc test correpctions for the new separator format

 .../apache/access/tests/e2e/TestCrossDbOps.java    | 16 ++++----
 .../access/tests/e2e/TestMovingToProduction.java   | 34 +++++++++--------
 .../apache/access/tests/e2e/TestSandboxOps.java    |  9 +++--
 .../access/tests/e2e/TestUserManagement.java       | 44 ++++++++++++++--------
 4 files changed, 60 insertions(+), 43 deletions(-)

commit bc621faf896ab727008698653489376cc6af0426
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Apr 16 20:58:31 2013 -0700

     ACCESS-36: Support URI type for Authorization. Addional test fixes

 .../java/org/apache/access/tests/e2e/TestCrossDbOps.java | 16 ++++++++++++----
 .../apache/access/tests/e2e/TestMovingToProduction.java  |  2 ++
 .../access/tests/e2e/TestPrivilegesAtDatabaseScope.java  |  8 +++++---
 .../java/org/apache/access/tests/e2e/TestSandboxOps.java |  9 ++++++---
 .../org/apache/access/tests/e2e/TestUserManagement.java  | 15 +++++++++++----
 5 files changed, 36 insertions(+), 14 deletions(-)

commit 5daca5f66ea741ad83ce8a4930e6d2296ab7a878
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Apr 16 15:45:15 2013 -0500

    ACCESS-51: Store policy via Hadoop FileSystem API

 .../access/binding/hive/TestHiveAuthzBindings.java | 18 ++++-
 access-provider/access-provider-file/pom.xml       |  7 ++
 .../provider/file/AbstractRoleValidator.java       |  4 +-
 .../access/provider/file/DatabaseMustMatch.java    |  2 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |  4 +-
 .../provider/file/LocalGroupMappingService.java    | 18 +++--
 .../LocalGroupResourceAuthorizationProvider.java   |  8 ++-
 .../apache/access/provider/file/PolicyFiles.java   | 81 ++++++++++++++++++++++
 .../apache/access/provider/file/SimplePolicy.java  | 56 +++++++++++++--
 .../access/provider/file/SimplePollingPolicy.java  | 28 ++++----
 ...lePolicy.java => AbstractTestSimplePolicy.java} | 59 +++++++++++++---
 .../provider/file/TestLocalGroupMapping.java       | 27 +++++++-
 .../file/TestResourceAuthorizationProvider.java    | 19 ++++-
 .../access/provider/file/TestSimplePolicyDFS.java  | 70 +++++++++++++++++++
 .../provider/file/TestSimplePolicyLocalFS.java     | 42 +++++++++++
 .../provider/file/TestSimplePollingPolicy.java     | 13 ++--
 .../src/test/resources/test-authz-provider.ini     |  2 +-
 ...lowLocalGroupResourceAuthorizationProvider.java |  3 +-
 18 files changed, 401 insertions(+), 60 deletions(-)

commit 6090039bfd8c7e32eb483936e4e565b242f31a4a
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Fri Apr 12 11:51:10 2013 -0700

    ACCESS-36: Support URI type for Authorization

 .../access/binding/hive/HiveAuthzBindingHook.java  |   5 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |  98 +++++--
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   6 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  33 ++-
 .../java/org/apache/access/core/AccessURI.java     |   5 +
 access-tests/pom.xml                               |   5 +
 .../access/tests/e2e/EndToEndTestContext.java      |  56 +++-
 .../tests/e2e/TestExportImportPrivileges.java      | 200 +++++++++++++++
 .../access/tests/e2e/TestUriPermissions.java       | 282 +++++++++++++++++++++
 access-tests/src/test/resources/log4j.properties   |   2 +-
 pom.xml                                            |   5 +
 11 files changed, 658 insertions(+), 39 deletions(-)

commit d76e796c9caf642ae0f5553119f76cf0afce45f6
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Apr 16 09:50:07 2013 -0500

    ACCESS-20: Implement Views in policy engine and core

 .../java/org/apache/access/core/Authorizable.java  |  1 +
 .../main/java/org/apache/access/core/Table.java    |  2 +-
 .../java/org/apache/access/core/TableOrView.java   | 21 ++++++
 .../src/main/java/org/apache/access/core/View.java | 46 +++++++++++++
 .../apache/access/provider/file/Authorizables.java |  3 +
 .../apache/access/provider/file/SimplePolicy.java  |  1 -
 .../access/provider/file/TestAuthorizables.java    | 79 ++++++++++++++++++++++
 .../access/provider/file/TestSimplePolicy.java     |  7 +-
 .../src/test/resources/test-authz-provider.ini     |  2 +-
 9 files changed, 157 insertions(+), 5 deletions(-)

commit b52393f7bf6734257d0880784894b77079bdf149
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 15 14:07:31 2013 -0500

    ACCESS-70: Create end-to-end tests which tests per-db configuration

 .../access/tests/e2e/TestPerDBConfiguration.java   | 205 +++++++++++++++++++++
 1 file changed, 205 insertions(+)

commit 78312c206dd8ff2dea38a124cdf803bdad08ca91
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Fri Apr 12 11:41:26 2013 -0700

    ACCESS-65 implement test cases related to performing SHOW TABLES, SHOW DATABASES

 .../tests/e2e/TestMetadataObjectRetrieval.java     | 713 +++++++++++++++++++++
 .../tests/e2e/TestPrivilegesAtFunctionScope.java   | 211 +++---
 .../apache/access/tests/e2e/TestSandboxOps.java    | 654 +++++++++++++------
 .../access/tests/e2e/TestUserManagement.java       |  38 +-
 4 files changed, 1313 insertions(+), 303 deletions(-)

commit 6946c60f80f4cd1b51702cb18a2ed6d8a39dbf46
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Apr 11 11:23:06 2013 -0700

    ACCESS-19:  Implement URI format in policy file

 .../src/test/resources/test-authz-provider.ini     | 14 +++---
 .../access/provider/file/PolicyFileConstants.java  |  2 +-
 .../provider/file/TestPolicyParsingNegative.java   |  2 +-
 .../access/provider/file/TestSimplePolicy.java     | 14 +++---
 .../test-authz-provider-local-group-mapping.ini    | 10 ++--
 .../resources/test-authz-provider-other-group.ini  |  2 +-
 .../src/test/resources/test-authz-provider.ini     | 12 ++---
 .../apache/access/tests/e2e/TestCrossDbOps.java    | 30 ++++++------
 .../tests/e2e/TestPerDatabasePolicyFile.java       |  6 +--
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 18 +++----
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 46 +++++++++---------
 .../apache/access/tests/e2e/TestSandboxOps.java    | 56 +++++++++++-----------
 .../access/tests/e2e/TestUserManagement.java       | 24 +++++-----
 .../src/test/resources/test-authz-provider.ini     |  2 +-
 14 files changed, 119 insertions(+), 119 deletions(-)

commit 79f98dcf38e4ff922d030387ccd1cec523e7923b
Author: Brock Noland <brock@cloudera.com>
Date:   Wed Apr 10 15:36:19 2013 -0500

    ACCESS-52: Policy file should be configurable per database

 .../access/binding/hive/HiveAuthzBindingHook.java  |   6 +-
 .../binding/hive/authz/HiveAuthzBinding.java       |   6 +-
 .../access/binding/hive/TestHiveAuthzBindings.java |  39 ++--
 .../src/test/resources/test-authz-provider.ini     |  18 +-
 .../org/apache/access/core/AccessConstants.java    |   1 +
 .../apache/access/core/AuthorizationProvider.java  |   2 +
 .../provider/file/AbstractRoleValidator.java       |  50 +++++
 .../apache/access/provider/file/Authorizables.java |  54 ++++++
 .../access/provider/file/DatabaseMustMatch.java    |  43 +++++
 .../provider/file/DatabaseRequiredInRole.java      |  51 ++++++
 .../org/apache/access/provider/file/KeyValue.java  |  88 +++++++++
 .../provider/file/LocalGroupMappingService.java    |   2 +-
 .../LocalGroupResourceAuthorizationProvider.java   |   1 +
 .../org/apache/access/provider/file/Policy.java    |   9 +-
 .../access/provider/file/PolicyFileConstants.java  |  37 ++++
 .../file/ResourceAuthorizationProvider.java        | 119 ++++--------
 .../apache/access/provider/file/RoleValidator.java |  26 +++
 .../org/apache/access/provider/file/Roles.java     |  62 +++++++
 .../access/provider/file/ServersAllIsInvalid.java  |  39 ++++
 .../apache/access/provider/file/SimplePolicy.java  | 109 ++++++++---
 .../access/provider/file/SimplePollingPolicy.java  |   9 +-
 .../access/provider/file/WildcardPermission.java   | 129 +++++++++++++
 .../file/MockGroupMappingServiceProvider.java      |  11 +-
 .../apache/access/provider/file/TestKeyValue.java  |  71 +++++++
 .../provider/file/TestLocalGroupMapping.java       |   4 +-
 .../provider/file/TestPolicyParsingNegative.java   | 130 +++++++++++++
 .../file/TestResourceAuthorizationProvider.java    | 156 +++++++---------
 .../access/provider/file/TestSimplePolicy.java     |  53 ++++--
 .../provider/file/TestWildcardPermission.java      | 204 +++++++++++++++++++++
 .../test-authz-provider-local-group-mapping.ini    |  33 ++++
 .../resources/test-authz-provider-other-group.ini  |  22 +++
 .../src/test/resources/test-authz-provider.ini     |  19 +-
 pom.xml                                            |   1 +
 33 files changed, 1334 insertions(+), 270 deletions(-)

commit db81fae90cc214c52ab4fc1095a3e51c9d7ddad6
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Wed Apr 10 01:26:36 2013 -0700

    ACCESS-64 Implement test cases related to performing DESC FUNCTION, CREATE FUNCTION, DROP FUNCTION

 .../tests/e2e/TestPrivilegesAtFunctionScope.java   | 298 +++++++++++++++++++++
 1 file changed, 298 insertions(+)

commit 8e6383b73db275d2cb421f308ae07e1a50d6b430
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Mon Apr 8 10:10:45 2013 -0700

    ACCESS-59 implement test cases related to moving tables from one database to another database

 .../access/tests/e2e/TestMovingToProduction.java   | 239 +++++++++++++++++++++
 1 file changed, 239 insertions(+)

commit ec8678dad02f8951a5c04cba16118bf0135895ca
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Thu Apr 4 16:41:31 2013 -0700

    ACCESS-46. Implement test cases that exercise privilges at db scope

 .../access/tests/e2e/EndToEndTestContext.java      |   9 +-
 .../tests/e2e/TestPrivilegesAtDatabaseScope.java   | 376 +++++++++++++++++++++
 .../tests/e2e/TestPrivilegesAtTableScope.java      |  46 ++-
 3 files changed, 401 insertions(+), 30 deletions(-)

commit cb615d36a1d3d960986e24383def5d47758348a8
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Apr 4 14:37:32 2013 -0700

    ACCESS-62. Cross database privilege testing

 .../apache/access/tests/e2e/TestCrossDbOps.java    | 573 +++++++++++++++++++++
 1 file changed, 573 insertions(+)

commit 6a7e9ac49ceea0e8f69f868deca22ab1d7d1f25b
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Apr 4 00:39:09 2013 -0700

    ACCESS-57: Fix non-view errors in TestPrivilegesAtTableScope

 .../tests/e2e/TestPrivilegesAtTableScope.java      |   36 +-
 access-tests/src/test/resources/kv1.dat            | 1000 ++++++++++----------
 2 files changed, 526 insertions(+), 510 deletions(-)

commit e60518753cfbfd9381b44fc83a538eedb3307649
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Apr 3 17:39:51 2013 -0700

     ACCESS-56: TestSandboxOps#testNegUserPrivilegesAll fails. Additional patch for the hive binding failures

 .../org/apache/access/binding/hive/TestHiveAuthzBindings.java     | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 2d1f50b2e9b72276fd06ff48079510959d57d7fd
Author: Brock Noland <brock@cloudera.com>
Date:   Wed Apr 3 17:17:21 2013 -0500

    ACCESS-60: Create tests for per-db policy files

 .../access/tests/e2e/EndToEndTestContext.java      | 119 ++++++++--------
 .../tests/e2e/TestPerDatabasePolicyFile.java       | 149 +++++++++++++++++++++
 .../apache/access/tests/e2e/TestSandboxOps.java    |   6 +-
 3 files changed, 216 insertions(+), 58 deletions(-)

commit a0e3cda67ef2ffae27f2da6522dc3d1838f700de
Merge: 033aba89 f528e312
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Wed Apr 3 14:57:27 2013 -0700

    Merge branch 'master' of https://github.com/cloudera/access

commit 033aba8988c71d03185b21dcc81bc21eac17d6f4
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Wed Apr 3 14:55:59 2013 -0700

    ACCESS-48 Implement test cases 2.9, 2.13, 2.17 2.18, 2.19 in the test plan

 .../apache/access/tests/e2e/TestSandboxOps.java    | 464 +++++++++++++++++++
 .../access/tests/e2e/TestUserManagement.java       | 509 ++++++++++-----------
 2 files changed, 699 insertions(+), 274 deletions(-)

commit f528e312658baa05b945cef868425aefc56233e0
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Wed Apr 3 13:15:10 2013 -0700

    ACCESS-58: Update version to 1.0.0-SNAPSHOT

 access-binding/access-binding-hive/pom.xml   | 3 +--
 access-binding/pom.xml                       | 2 +-
 access-core/pom.xml                          | 2 +-
 access-provider/access-provider-file/pom.xml | 2 +-
 access-provider/pom.xml                      | 2 +-
 access-tests/pom.xml                         | 2 +-
 pom.xml                                      | 2 +-
 7 files changed, 7 insertions(+), 8 deletions(-)

commit 6e4c34faa58652d2626420900394793015bc2a35
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Wed Apr 3 00:46:24 2013 -0700

    ACCESS-56: TestSandboxOps#testNegUserPrivilegesAll fails

 .../access/binding/hive/HiveAuthzBindingHook.java  |  8 ++-
 .../binding/hive/authz/HiveAuthzBinding.java       |  4 ++
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  3 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 18 +++---
 .../access/tests/e2e/EndToEndTestContext.java      | 20 ++++---
 .../apache/access/tests/e2e/TestSandboxOps.java    | 69 +++++++++++-----------
 6 files changed, 71 insertions(+), 51 deletions(-)

commit cc0f0266342873950e8b76f4f64d8e0fe0556278
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Apr 1 03:15:40 2013 -0700

    ACCESS-43 Implement test cases 2.8, 2.10, 2.11, 2.12, 2.14, 2.15,2.16

 .../access/tests/e2e/EndToEndTestContext.java      | 183 ++++++++-
 .../e2e/TestMisconfigurationAndEdgeCases.java      |  14 +-
 .../tests/e2e/TestPrivilegesAtTableScope.java      |  14 +-
 .../apache/access/tests/e2e/TestSandboxOps.java    | 443 +++++++++++++++++++++
 .../access/tests/e2e/TestUserManagement.java       |   2 +-
 access-tests/src/test/resources/hive-site.xml      |   4 +
 6 files changed, 628 insertions(+), 32 deletions(-)

commit 0bd75199d95efd253c1df20e84c16681aa096e04
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon Apr 1 15:45:08 2013 -0700

    ACCESS-39. Implement test cases that test privileges at table scope

 .../access/tests/e2e/EndToEndTestContext.java      |  26 +-
 .../tests/e2e/TestPrivilegesAtTableScope.java      | 701 +++++++++++++++++++++
 access-tests/src/test/resources/emp.dat            |  12 +
 access-tests/src/test/resources/kv1.dat            |   2 +-
 4 files changed, 739 insertions(+), 2 deletions(-)

commit 556b10d6ce7dc8969b54a5225199c903c8c0d552
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon Apr 1 15:30:55 2013 -0700

    ACCESS-53. Exclude HBase jars from access root pom

 pom.xml | 90 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 90 insertions(+)

commit 5e5a7d6dd7f93c6d1172e99d3631c4fbce33f719
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Apr 1 14:30:23 2013 -0500

    ACCESS-50: Fix Local Group Mapping Test

 .../java/org/apache/access/provider/file/TestLocalGroupMapping.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 316b504681e6d74bfa0af47cfb69f1c1ba7ab5c3
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Fri Mar 29 11:12:44 2013 -0700

    ACCESS-41 address comments in ACCESS-40

 .../apache/access/tests/e2e/PolicyFileEditor.java  |  96 ++++
 ...lowLocalGroupResourceAuthorizationProvider.java |  17 +
 .../apache/access/tests/e2e/TestHiveAccess.java    | 622 --------------------
 .../access/tests/e2e/TestUserManagement.java       | 638 +++++++++++++++++++++
 .../java/org/apache/access/tests/e2e/Util.java     |  84 ---
 5 files changed, 751 insertions(+), 706 deletions(-)

commit cfe94023cd54e308abeb142739517a65aa68a5cc
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Mar 28 16:13:21 2013 -0700

    ACCESS-31: Retrieve the current user name from the Hive

 .../org/apache/access/binding/hive/HiveAuthzBindingHook.java   | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit fa5834196717e062265d67c6221023b4d315b43d
Author: Brock Noland <brock@cloudera.com>
Date:   Thu Mar 28 16:07:52 2013 -0500

    ACCESS-38: Create initial tests for misconfiguration

 .../access/binding/hive/HiveAuthzBindingHook.java  |   1 +
 .../binding/hive/authz/HiveAuthzBinding.java       |   2 +-
 .../binding/hive/authz/HiveAuthzPrivileges.java    |   5 -
 .../access/binding/hive/conf/HiveAuthzConf.java    |  35 +++-
 .../access/binding/hive/TestHiveAuthzBindings.java |   2 +-
 .../access/binding/hive/TestHiveAuthzConf.java     |   4 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |   2 +-
 .../provider/file/LocalGroupMappingService.java    |  13 +-
 .../LocalGroupResourceAuthorizationProvider.java   |   2 +-
 .../file/ResourceAuthorizationProvider.java        |   9 +-
 .../access/tests/e2e/EndToEndTestContext.java      | 138 +++++++++++++++
 ...lowLocalGroupResourceAuthorizationProvider.java |  37 +++++
 .../apache/access/tests/e2e/TestHiveAccess.java    |   3 +-
 .../e2e/TestMisconfigurationAndEdgeCases.java      | 185 +++++++++++++++++++++
 access-tests/src/test/resources/access-site.xml    |   5 +-
 access-tests/src/test/resources/hive-site.xml      |   7 +-
 access-tests/src/test/resources/log4j.properties   |   6 +-
 17 files changed, 425 insertions(+), 31 deletions(-)

commit f3b65d5128c0f30cb5dfe55746af62d0daa5ebaf
Author: Johnny Zhang <xiaoyuz@cloudera>
Date:   Wed Mar 27 17:48:21 2013 -0700

    ACCESS-40: Implement test cases 1.1 - 1.16 in the test plan

 .../apache/access/tests/e2e/TestHiveAccess.java    | 520 ++++++++++++++++++++-
 .../java/org/apache/access/tests/e2e/Util.java     |  84 ++++
 .../src/test/resources/test-authz-provider.ini     |  10 -
 3 files changed, 598 insertions(+), 16 deletions(-)

commit ceb2353fa980962d71221fe36a58a1392d2ce038
Author: Brock Noland <brock@cloudera.com>
Date:   Wed Mar 27 12:30:25 2013 -0500

    ACCESS-32: Rename authz-site.xml and authz configuration parameters (2)

 .../src/test/resources/authz-site.xml              | 34 ----------------------
 access-tests/src/test/resources/authz-site.xml     | 34 ----------------------
 2 files changed, 68 deletions(-)

commit e69f31826f9738320642eadfb51354751350c16f
Author: Brock Noland <brock@cloudera.com>
Date:   Wed Mar 27 12:29:07 2013 -0500

    ACCESS-32: Rename authz-site.xml and authz configuration parameters

 .gitignore                                         |  2 ++
 .../access/binding/hive/conf/HiveAuthzConf.java    | 33 +++++++++------------
 .../src/test/resources/access-site.xml             | 34 ++++++++++++++++++++++
 access-tests/src/test/resources/access-site.xml    | 34 ++++++++++++++++++++++
 4 files changed, 84 insertions(+), 19 deletions(-)

commit ae9bbac92bbe75873162c6c439e112e9ad414eff
Author: Brock Noland <brock@cloudera.com>
Date:   Tue Mar 26 12:50:51 2013 -0500

    ACCESS-37: Reformat source to remove extra whitepsace

 .../access/binding/hive/HiveAuthzBindingHook.java  |  39 ++-
 .../binding/hive/authz/HiveAuthzBinding.java       | 187 +++++++-------
 .../binding/hive/authz/HiveAuthzPrivileges.java    |  17 +-
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java |  59 +++--
 .../access/binding/hive/conf/HiveAuthzConf.java    |  37 ++-
 .../access/binding/hive/TestHiveAuthzBindings.java |  57 +++--
 .../access/binding/hive/TestHiveAuthzConf.java     |  13 +-
 .../org/apache/access/core/AccessConstants.java    |   2 +-
 .../HadoopGroupResourceAuthorizationProvider.java  |   2 +-
 .../provider/file/LocalGroupMappingService.java    |   3 +-
 .../LocalGroupResourceAuthorizationProvider.java   |   2 +-
 .../file/ResourceAuthorizationProvider.java        |   4 +-
 .../provider/file/TestLocalGroupMapping.java       |   1 +
 .../file/TestResourceAuthorizationProvider.java    |   3 +-
 access-tests/pom.xml                               | 274 ++++++++++-----------
 .../apache/access/tests/e2e/TestHiveAccess.java    |  12 +-
 16 files changed, 354 insertions(+), 358 deletions(-)

commit c1919b9671767a038d77af22643d18b64493a54d
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Wed Mar 20 19:11:01 2013 -0700

    ACCESS-33.Cleanup of test infrastructure

 access-tests/pom.xml                               | 290 ++++++++++-----------
 .../apache/access/tests/e2e/TestHiveAccess.java    | 176 ++++++-------
 .../src/test/resources/{kv1.txt => kv1.dat}        |   0
 pom.xml                                            |  88 ++++---
 4 files changed, 273 insertions(+), 281 deletions(-)

commit 2f67f176c3c62b4aff3e083c86155772afefdffb
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Thu Mar 21 12:29:06 2013 -0700

    ACCESS-3: Define AuthorizationProvider interface

 .../java/org/apache/access/core/AccessURI.java     | 42 +++++++++++++++++++
 .../java/org/apache/access/core/Authorizable.java  | 31 ++++++++++++++
 .../apache/access/core/AuthorizationProvider.java  | 14 +++++++
 .../main/java/org/apache/access/core/Database.java |  8 +++-
 .../main/java/org/apache/access/core/Server.java   |  8 +++-
 .../main/java/org/apache/access/core/Table.java    |  8 +++-
 .../file/ResourceAuthorizationProvider.java        | 48 ++++++++++++++++++++++
 .../file/TestResourceAuthorizationProvider.java    | 17 ++++++++
 8 files changed, 173 insertions(+), 3 deletions(-)

commit 6694f1e89426da5bb784cf239441e8ccfa10db39
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Tue Mar 19 16:22:31 2013 -0700

    ACCESS-28. Support local file based group mapping

 .../binding/hive/authz/HiveAuthzBinding.java       |   4 -
 .../access/binding/hive/TestHiveAuthzBindings.java |  15 +--
 .../src/test/resources/test-authz-provider.ini     |   7 ++
 .../HadoopGroupResourceAuthorizationProvider.java  |  38 ++++++++
 .../provider/file/LocalGroupMappingService.java    | 101 +++++++++++++++++++++
 .../LocalGroupResourceAuthorizationProvider.java   |  27 ++++++
 .../file/ResourceAuthorizationProvider.java        |  11 +--
 .../provider/file/TestLocalGroupMapping.java       |  43 +++++++++
 .../file/TestResourceAuthorizationProvider.java    |   2 +-
 .../src/test/resources/test-authz-provider.ini     |   4 +
 access-tests/pom.xml                               |  17 +++-
 .../apache/access/tests/e2e/TestHiveAccess.java    |   9 +-
 access-tests/src/test/resources/authz-site.xml     |   2 +-
 access-tests/src/test/resources/hive-site.xml      |  44 +++++++++
 .../src/test/resources/test-authz-provider.ini     |   3 +
 15 files changed, 297 insertions(+), 30 deletions(-)

commit 77526056556f5785ab9b15206e7d3152b5d46189
Author: Shreepadma Venugopalan <shreepadma@cloudera.com>
Date:   Mon Mar 18 11:49:05 2013 -0700

    ACCESS-15. End to end test infrastructure

 access-tests/pom.xml                               | 162 +++++++
 .../apache/access/tests/e2e/TestHiveAccess.java    | 128 ++++++
 access-tests/src/test/resources/authz-site.xml     |  34 ++
 access-tests/src/test/resources/kv1.txt            | 500 +++++++++++++++++++++
 access-tests/src/test/resources/log4j.properties   |  31 ++
 .../src/test/resources/test-authz-provider.ini     |  32 ++
 pom.xml                                            |  70 ++-
 7 files changed, 951 insertions(+), 6 deletions(-)

commit f8aa965760fcdac84a46d9f4272fef1c25455d9c
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Mar 18 11:34:19 2013 -0700

    Build/Rat fixes ACCESS-9 for ACCESS-12

 .../java/org/apache/access/provider/file/Policy.java  | 19 ++++++++++++++++++-
 .../access/provider/file/TestSimplePollingPolicy.java | 17 +++++++++++++++++
 list.1                                                | 18 ------------------
 pom.xml                                               |  3 +++
 4 files changed, 38 insertions(+), 19 deletions(-)

commit 1f2b9a78357a1183416c5300aa9a3908dc309eae
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Mon Mar 11 16:53:58 2013 -0700

    ACCESS-9 Hive plugin Initial framework

 access-binding/access-binding-hive/pom.xml         |  25 ++-
 .../access/binding/hive/HiveAuthzBindingHook.java  | 111 ++++++++++
 .../binding/hive/authz/HiveAuthzBinding.java       | 213 ++++++++++++++++++
 .../binding/hive/authz/HiveAuthzPrivileges.java    | 177 +++++++++++++++
 .../binding/hive/authz/HiveAuthzPrivilegesMap.java | 137 ++++++++++++
 .../access/binding/hive/conf/HiveAuthzConf.java    |  91 ++++++++
 .../binding/hive/MockUserToGroupMapping.java       |  34 +++
 .../access/binding/hive/TestHiveAuthzBindings.java | 240 +++++++++++++++++++++
 .../access/binding/hive/TestHiveAuthzConf.java     |  47 ++++
 .../src/test/resources/authz-site.xml              |  34 +++
 .../src/test/resources/log4j.properties            |  31 +++
 .../src/test/resources/test-authz-provider.ini     |  57 +++++
 pom.xml                                            |  10 +
 13 files changed, 1206 insertions(+), 1 deletion(-)

commit ca4326eb97d65115e9edbf3de290aad1b46e5bfc
Author: Prasad Mujumdar <prasadm@cloudera.com>
Date:   Sat Mar 16 18:10:19 2013 -0700

    ACCESS-12: additional files missing in the original commit

 .../org/apache/access/core/AccessConstants.java    |  29 ++++
 .../main/java/org/apache/access/core/Action.java   |  33 +++++
 .../access/provider/file/GroupMappingService.java  |  30 ++++
 .../provider/file/HadoopGroupMappingService.java   |  46 ++++++
 .../org/apache/access/provider/file/Policy.java    |  17 +++
 .../apache/access/provider/file/SimplePolicy.java  | 137 ++++++++++++++++++
 .../access/provider/file/SimplePollingPolicy.java  |  92 ++++++++++++
 .../file/MockGroupMappingServiceProvider.java      |  37 +++++
 .../file/TestResourceAuthorizationProvider.java    | 155 +++++++++++++++++++++
 .../access/provider/file/TestSimplePolicy.java     |  77 ++++++++++
 .../provider/file/TestSimplePollingPolicy.java     |  55 ++++++++
 list.1                                             |  18 +++
 12 files changed, 726 insertions(+)

commit e9f9cdba27d3f17ca719f0c9a51dd434ebd2a79e
Author: Brock Noland <brock@cloudera.com>
Date:   Fri Mar 15 13:20:52 2013 -0500

    ACCESS-12: Convert current concept of users to groups

 .../apache/access/core/AuthorizationProvider.java  |   4 +-
 .../main/java/org/apache/access/core/Database.java |  10 ++
 .../java/org/apache/access/core/Privilege.java     |  33 -----
 .../main/java/org/apache/access/core/Server.java   |  10 ++
 .../main/java/org/apache/access/core/Subject.java  |   5 +
 .../main/java/org/apache/access/core/Table.java    |  10 ++
 access-provider/access-provider-file/pom.xml       |   4 +
 .../file/ResourceAuthorizationProvider.java        | 129 +++++++++--------
 .../file/shiro/AuthorizationOnlyIniRealm.java      |  75 ----------
 .../access/provider/file/shiro/UsernameToken.java  |  29 ----
 ...esourceAuthorizationProviderDatabaseTables.java | 156 ---------------------
 .../provider/file/shiro/TestShiroWrapper.java      | 126 -----------------
 .../src/test/resources/test-authz-provider.ini     |  43 ++----
 pom.xml                                            |   6 +
 14 files changed, 130 insertions(+), 510 deletions(-)

commit daa1640cc17acfcbc0145f7f568d568a7cb599a0
Author: Brock Noland <brock@cloudera.com>
Date:   Mon Mar 11 14:55:26 2013 -0500

    ACCESS-7: Refactor code from com.cloudera to org.apache

 .../apache}/access/core/AuthorizationProvider.java   |  2 +-
 .../apache}/access/core/Database.java                |  2 +-
 .../apache}/access/core/Privilege.java               |  2 +-
 .../cloudera => org/apache}/access/core/Server.java  |  2 +-
 .../apache}/access/core/ServerResource.java          |  2 +-
 .../cloudera => org/apache}/access/core/Subject.java |  2 +-
 .../cloudera => org/apache}/access/core/Table.java   |  2 +-
 .../provider/file/ResourceAuthorizationProvider.java | 20 ++++++++++----------
 .../file/shiro/AuthorizationOnlyIniRealm.java        |  2 +-
 .../access/provider/file/shiro/UsernameToken.java    |  2 +-
 ...tResourceAuthorizationProviderDatabaseTables.java | 14 +++++++-------
 .../access/provider/file/shiro/TestShiroWrapper.java |  6 +++---
 12 files changed, 29 insertions(+), 29 deletions(-)

commit b7cc991c6906efc1e48a4fc2d7a5707561fbd06b
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Sun Mar 10 22:04:54 2013 -0700

    ACCESS-5: Add license file into the repository

 LICENSE.txt | 202 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 202 insertions(+)

commit ae9393c3d57d48332ec7b41907b87d814b89156e
Author: Brock Noland <brock@cloudera.com>
Date:   Thu Mar 7 19:54:22 2013 -0600

    ACCESS-2: Initial import of authz side work

 .gitignore                                         |   5 +-
 .../access/core/AuthorizationProvider.java         |  35 +++++
 .../java/com/cloudera/access/core/Database.java    |  30 ++++
 .../java/com/cloudera/access/core/Privilege.java   |  33 +++++
 .../main/java/com/cloudera/access/core/Server.java |  30 ++++
 .../com/cloudera/access/core/ServerResource.java   |  21 +++
 .../java/com/cloudera/access/core/Subject.java     |  30 ++++
 .../main/java/com/cloudera/access/core/Table.java  |  30 ++++
 access-provider/access-provider-file/pom.xml       |  40 ++++++
 .../file/ResourceAuthorizationProvider.java        | 119 ++++++++++++++++
 .../file/shiro/AuthorizationOnlyIniRealm.java      |  75 ++++++++++
 .../access/provider/file/shiro/UsernameToken.java  |  29 ++++
 ...esourceAuthorizationProviderDatabaseTables.java | 156 +++++++++++++++++++++
 .../provider/file/shiro/TestShiroWrapper.java      | 126 +++++++++++++++++
 .../src/test/resources/log4j.properties            |  31 ++++
 .../src/test/resources/test-authz-provider.ini     |  54 +++++++
 pom.xml                                            |  56 ++++++--
 17 files changed, 884 insertions(+), 16 deletions(-)

commit 2f319d03b57cb5d319645bdc20d71a62eca475e5
Author: Jarek Jarcec Cecho <jarcec@apache.org>
Date:   Tue Mar 5 09:59:05 2013 -0800

    ACCESS-1: Create basic repository layout

 access-binding/access-binding-hive/pom.xml   |  39 +++++++
 access-binding/pom.xml                       |  36 ++++++
 access-core/pom.xml                          |  39 +++++++
 access-provider/access-provider-file/pom.xml |  23 ++++
 access-provider/pom.xml                      |  36 ++++++
 pom.xml                                      | 169 +++++++++++++++++++++++++++
 6 files changed, 342 insertions(+)

commit 0c36e29a8e6a281ba4735b29e92d15c772b13e52
Author: Arvind Prabhakar <arvind@cloudera.com>
Date:   Fri Dec 14 11:07:54 2012 -0800

    Initial commit

 .gitignore | 6 ++++++
 README.md  | 4 ++++
 2 files changed, 10 insertions(+)

