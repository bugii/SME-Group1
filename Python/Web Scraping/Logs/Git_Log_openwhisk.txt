commit e5672802080ed9acb2d4af11871ed097553910e2
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Nov 21 12:00:43 2019 +0100

    Update fastparse to version 2.1.3. (#4735)
    
    fastparse in version 1.x.x is not available for Scala 2.13, so this updates it to the latest and greatest with rather minor impact.

 common/scala/build.gradle                          |  2 +-
 .../openwhisk/core/entity/ExecManifest.scala       | 54 +++++++++++-----------
 2 files changed, 28 insertions(+), 28 deletions(-)

commit fff59ae5dc7e25de2b9b041cbce08271e3d77771
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Nov 21 10:25:29 2019 +0100

    Use Either.toOption and prettify escaped strings in ContainerFactories. (#4738)

 .../containerpool/docker/StandaloneDockerContainerFactory.scala     | 6 +++---
 .../org/apache/openwhisk/standalone/StandaloneDockerSupport.scala   | 4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 279ea41ade08d90f754103b05ea9a95b68b287e1
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Nov 21 10:15:08 2019 +0100

    Simplify Travis by removing an explicit mention of the Scala version. (#4737)
    
    The Scala version in Travis should not be significant to us anyway as gradle should take care of fetching the correct compilers etc.

 .travis.yml | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 4cb41be6b7ea14c8002c9decda4b20f8d0fdd691
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Nov 20 14:48:00 2019 -0500

    enhance ow-utils to enable certificate generation (#4731)
    
    Add tools/data from the core repo to ow-utils docker image to enable
    it to be used for dynamic generation of ssl certificates. This will
    enable us to dynamically generate self-signed certificates for nginx
    (and potentially other components) as cluster-configuration job
    in openwhisk-deploy-kube.

 tools/ow-utils/Dockerfile   | 12 +++++++++++-
 tools/ow-utils/build.gradle |  9 ++++++++-
 2 files changed, 19 insertions(+), 2 deletions(-)

commit 56cf1bd866ef514eefdd56922b9d85ba587c05e8
Author: Steffen Rost <srost@de.ibm.com>
Date:   Tue Nov 19 11:51:04 2019 +0100

    increase toStrictTimeout from 5 to 30 seconds (#4728)

 tests/src/test/scala/common/rest/WskRestOperations.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d605acfa8c4819862ce33d5069d21090b0825094
Author: Seonghyun Oh <oh.seonghyun@navercorp.com>
Date:   Tue Nov 19 15:17:11 2019 +0900

    Provide environment at init time (#4722)
    
    * Provide all environment contexts at init time
    
    * Add authEnvironment
    
    * Scalafmt
    
    * Fix test case
    
    * Refactor code
    
    * Update document
    
    * Remove trailing whitespace

 .../core/containerpool/ContainerProxy.scala        | 44 ++++++++++++----------
 docs/actions-new.md                                |  8 +++-
 .../containerpool/test/ContainerProxyTests.scala   | 29 +++++++++++++-
 3 files changed, 59 insertions(+), 22 deletions(-)

commit 3235a941b699f5ffab0fa41d225647ab1ed31bf7
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Nov 13 11:02:38 2019 -0500

    Remove legacy view code from subjects index. (#4638)
    
    * Remove legacy view code from subjects index.
    
    * Apply change to Cosmos view mapper.

 ansible/files/auth_design_document_for_subjects_db_v2.0.0.json | 10 ++++++++++
 ansible/files/auth_index.json                                  | 10 ----------
 ansible/tasks/initdb.yml                                       |  2 +-
 common/scala/src/main/resources/application.conf               |  2 +-
 .../org/apache/openwhisk/core/database/DocumentHandler.scala   |  7 ++++---
 .../openwhisk/core/database/cosmosdb/CosmosDBViewMapper.scala  |  2 +-
 .../openwhisk/core/database/memory/MemoryViewMapper.scala      |  2 +-
 core/standalone/src/main/resources/standalone.conf             |  2 +-
 tools/admin/wskadmin                                           |  2 +-
 tools/dev/README.md                                            |  4 ++--
 10 files changed, 22 insertions(+), 21 deletions(-)

commit a3f41e665794919bb16f06bd15ac24b6ba1f79e0
Author: Ali Raza Tariq <17100275@lums.edu.pk>
Date:   Mon Nov 11 06:58:41 2019 -0800

    Better error response for unsupported runtimes exception (#4704)

 .../scala/src/main/scala/org/apache/openwhisk/core/entity/Exec.scala | 3 ++-
 .../src/main/scala/org/apache/openwhisk/http/ErrorResponse.scala     | 5 +++++
 .../org/apache/openwhisk/core/controller/test/ActionsApiTests.scala  | 2 +-
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 8946f5bfe08f72ec9df29aa80670389e77e700db
Author: Han Ke <H-KE@users.noreply.github.com>
Date:   Sun Nov 10 22:14:17 2019 -0500

    Update rest_api.md (#4720)
    
    * Update rest_api.md
    
    Fix a small typo
    
    * Update docs/rest_api.md
    
    slight edit
    
    Co-Authored-By: rodric rabbah <rodric@gmail.com>

 docs/rest_api.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29298939eecc2a317c0ef4cadfd5b140babf44b3
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Nov 8 22:08:37 2019 -0500

    regenerate modules.md to reflect deprecated repos (#4719)

 docs/dev/modules.md | 60 ++++++++++++++++++++++++++---------------------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit d47f4ec91d467295ffcfa894401ddb113984c108
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Nov 8 08:32:33 2019 -0600

    Document optional .wskprops related to provider-specific API Gateway … (#4713)
    
    * Document optional .wskprops related to provider-specific API Gateway services
    
    * Document optional .wskprops related to provider-specific API Gateway services

 docs/cli.md | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 7f7c164ec313b40e04c92e092bb8d83ddae60b1c
Author: tysonnorris <tnorris@adobe.com>
Date:   Thu Nov 7 00:39:14 2019 -0800

    Update swagger plugin and swagger codegen cli (#4714)
    
    Update the plugin version to get past the build failures

 tests/build.gradle | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit c674757c3e774368873103d40dc21eff1ae051f1
Author: Cosmin Stanciu <selfxp@users.noreply.github.com>
Date:   Tue Nov 5 22:44:38 2019 -0800

    Allow namespace ignore in user-events (#4668)
    
    Enable support for ignoring action level metrics for certain namespaces which are used for test purposes
    
    Fixes #4667

 core/monitoring/user-events/README.md              |  9 +++
 .../user-events/src/main/resources/reference.conf  |  3 +
 .../core/monitoring/metrics/EventConsumer.scala    | 11 ++--
 .../core/monitoring/metrics/KamonRecorder.scala    | 28 ++++++--
 .../core/monitoring/metrics/OpenWhiskEvents.scala  |  4 +-
 .../monitoring/metrics/PrometheusRecorder.scala    | 30 ++++++---
 .../src/test/resources/application.conf            | 29 ++++++++
 .../core/monitoring/metrics/EventsTestHelper.scala |  5 +-
 .../monitoring/metrics/KamonRecorderTests.scala    | 73 ++++++++++++--------
 .../metrics/PrometheusRecorderTests.scala          | 77 ++++++++++++++--------
 10 files changed, 191 insertions(+), 78 deletions(-)

commit 481fc1864f1faba3d5a863e061e6be78b576e9ce
Author: dan mcweeney <mcweeney@adobe.com>
Date:   Tue Nov 5 23:51:23 2019 -0500

    Add a namespace configuration option to KCF (#4712)
    
    Enables configuring the k8s namespace which would be used for creating the pod for actions. By default the action pods are launched in same namespace as the Invoker. Now one can specify a different namespace via `action-namespace` config setting
    
    Fixes #4711

 core/invoker/src/main/resources/application.conf                 | 7 ++++++-
 .../core/containerpool/kubernetes/KubernetesClient.scala         | 9 ++++++---
 2 files changed, 12 insertions(+), 4 deletions(-)

commit f3040925aa408a0b32dd4f542c815a638a797cc4
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Nov 4 09:37:35 2019 -0500

    Bump lodash from 4.17.11 to 4.17.15 in /core/routemgmt/createApi (#4707)
    
    Bumps [lodash](https://github.com/lodash/lodash) from 4.17.11 to 4.17.15.
    - [Release notes](https://github.com/lodash/lodash/releases)
    - [Commits](https://github.com/lodash/lodash/compare/4.17.11...4.17.15)
    
    Signed-off-by: dependabot[bot] <support@github.com>

 core/routemgmt/createApi/package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7b4cd2b037898ab19644cc7516c532c45c7ade46
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Nov 4 09:37:15 2019 -0500

    Bump lodash from 4.17.11 to 4.17.15 in /core/routemgmt/deleteApi (#4708)
    
    Bumps [lodash](https://github.com/lodash/lodash) from 4.17.11 to 4.17.15.
    - [Release notes](https://github.com/lodash/lodash/releases)
    - [Commits](https://github.com/lodash/lodash/compare/4.17.11...4.17.15)
    
    Signed-off-by: dependabot[bot] <support@github.com>

 core/routemgmt/deleteApi/package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b4485732eebf651077ce5b4c8db15587a54b25dc
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Mon Nov 4 08:13:37 2019 -0500

    Bump lodash from 4.17.11 to 4.17.15 in /core/routemgmt/getApi (#4697)
    
    Bumps [lodash](https://github.com/lodash/lodash) from 4.17.11 to 4.17.15.
    - [Release notes](https://github.com/lodash/lodash/releases)
    - [Commits](https://github.com/lodash/lodash/compare/4.17.11...4.17.15)
    
    Signed-off-by: dependabot[bot] <support@github.com>

 core/routemgmt/getApi/package.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7062549035eb45f376653ce2433fcbe70e6fd806
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Oct 4 17:11:24 2019 +0530

    Install and launch the Playground UI at startup.
    
    - Launch playground by default. Use `--no-ui` to opt out
    - Disable auto bootstrap of user and action when using external ArtifactStores
    - Document the `--enable-bootstrap` flag when using external stores
    - Add playground UI screenshot
    - Disable playground for all tests by default
    - Prepull default images before the UI is launched
    - Do prepull for nightly image even if they are present

 core/standalone/README.md                          |  69 +++++++----
 .../resources/playground/ui/playgroundFunctions.js |   2 +-
 .../openwhisk/core/ExecManifestSupport.scala       |  30 +++++
 .../openwhisk/standalone/PlaygroundLauncher.scala  | 128 +++++++++++++++++++++
 .../standalone/StandaloneDockerSupport.scala       |  12 ++
 .../openwhisk/standalone/StandaloneOpenWhisk.scala |  76 +++++++++---
 .../org/apache/openwhisk/standalone/Wsk.scala      |  81 +++++++++++++
 docs/images/playground-ui.png                      | Bin 0 -> 62459 bytes
 .../standalone/StandaloneServerFixture.scala       |   4 +
 9 files changed, 365 insertions(+), 37 deletions(-)

commit 81d6b4daa88efb1bdfd08b185568b75e8c7dbdac
Author: Joshua Auerbach <joshuaauerbachwatson@gmail.com>
Date:   Fri Oct 11 16:45:00 2019 -0400

    A UI providing playground functionality for authoring functions and running them in the browser.

 .../playground/actions/playground-delete.js        |  34 +
 .../playground/actions/playground-fetch.js         |  34 +
 .../resources/playground/actions/playground-run.js |  72 ++
 .../playground/actions/playground-userpackage.js   |  60 ++
 .../src/main/resources/playground/ui/index.html    | 139 ++++
 .../main/resources/playground/ui/playground.css    | 228 ++++++
 .../resources/playground/ui/playgroundFunctions.js | 799 +++++++++++++++++++++
 7 files changed, 1366 insertions(+)

commit 528c53fcbdc5d3058d093225d298a50059ce468a
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 31 23:38:18 2019 +0530

    Update to Scala 2.12.10 (#4694)

 settings.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 186000c4d0c45e1761491b75a79f7aa1e7841e14
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 31 23:37:29 2019 +0530

    Include response size in Activation (#4660)

 common/scala/src/main/resources/application.conf   |   3 +-
 .../apache/openwhisk/core/connector/Message.scala  |   9 +-
 .../openwhisk/core/entity/ActivationResult.scala   |  52 +++++---
 .../src/main/resources/apiv1swagger.json           |   4 +
 .../core/monitoring/metrics/KamonRecorder.scala    |   4 +
 .../core/monitoring/metrics/MetricNames.scala      |   1 +
 .../monitoring/metrics/PrometheusRecorder.scala    |  14 +-
 docs/metrics.md                                    |  39 +++++-
 .../core/connector/test/EventMessageTests.scala    |  16 ++-
 .../docker/test/DockerContainerTests.scala         |   2 +-
 .../kubernetes/test/KubernetesContainerTests.scala |   2 +-
 .../core/controller/test/WebActionsApiTests.scala  |   2 +-
 .../core/entity/test/ActivationCompatTests.scala   | 142 +++++++++++++++++++++
 .../core/entity/test/ActivationResponseTests.scala |   2 +
 .../scala/system/basic/WskActivationTests.scala    |   5 +-
 15 files changed, 260 insertions(+), 37 deletions(-)

commit 0b7bdb27bbbcf81d0e2ad0b809a7b4ac2ff52e97
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Oct 30 22:44:28 2019 +0530

    Optimize ack messages for setups not collecting logs  (#4699)
    
    * Refactor log collection logic as a trait
    
    * Fast track sending of CombinedCompletionAndResultMessage is no logs to be collected
    
    * Add test case for blocking/non blocking scenario with logs/no logs case
    
    * Disable log collection flow for LogDriverLogStore
    
    * Rename variables

 .../containerpool/logging/LogDriverLogStore.scala  |   2 +
 .../core/containerpool/logging/LogStore.scala      |   6 +
 .../core/containerpool/ContainerProxy.scala        | 101 ++++++-------
 .../openwhisk/core/invoker/InvokerReactive.scala   |  28 +++-
 .../openwhisk/core/invoker/LogStoreCollector.scala |  39 ++++++
 .../containerpool/test/ContainerProxyTests.scala   | 156 ++++++++++++++++++++-
 6 files changed, 275 insertions(+), 57 deletions(-)

commit 2c6bbe4b89b8d370ff65f7966b7d31c8d2995695
Author: AkimitsuTosha <atosha@yahoo-corp.jp>
Date:   Wed Oct 30 09:43:34 2019 +0900

    Fixed to check entityType when deserializing entity (#4702)
    
    * Fixed to check entityType when deserializing entity
    
    * add test & fix option entityType
    
    * fix code format
    
    * fix import
    
    * fix code format
    
    * fix test
    
    * fix code format
    
    * fix refactor

 .../apache/openwhisk/core/entity/WhiskEntity.scala |  9 ++-
 .../core/entity/test/WhiskEntityTests.scala        | 68 ++++++++++++++++++++--
 2 files changed, 72 insertions(+), 5 deletions(-)

commit 8a7bb7c278a0568d17457548a820bba6cb60f795
Author: Steffen Rost <srost@de.ibm.com>
Date:   Thu Oct 24 16:37:39 2019 +0200

    Make the formula to calculate the action time limit more configurable (#4700)
    
    Introduce configurable extra time parameter that is added to the configurable multiple of max(action timeout, standard action timeout).

 ansible/group_vars/all                                            | 1 +
 ansible/roles/controller/tasks/deploy.yml                         | 2 ++
 core/controller/src/main/resources/reference.conf                 | 5 ++++-
 .../apache/openwhisk/core/loadBalancer/CommonLoadBalancer.scala   | 4 ++--
 .../core/loadBalancer/ShardingContainerPoolBalancer.scala         | 8 ++++++--
 .../loadBalancer/test/ShardingContainerPoolBalancerTests.scala    | 6 +++++-
 6 files changed, 20 insertions(+), 6 deletions(-)

commit 78b2cbd7bd00fb6313ead1d71a316256def8b0c4
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed Oct 23 16:36:37 2019 +0200

    Make test result directory used by Gradle test tasks configurable (#4701)
    
    Use command line option "-D testResultsDirName=<name>" to change the default test results directory ("test-results"). Specify a path relative to the build directory or an absolute path.

 tests/build.gradle | 4 ++++
 1 file changed, 4 insertions(+)

commit f69ecb78eafde2cc8f55ba38570f9bab92cc077a
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Oct 22 14:19:12 2019 +0530

    Switch to Cosmos SDK v3 for Cache Invalidator Service (#4677)
    
    * Switch to Cosmos SDK v3
    * Remove logging related logic as v3 uses slf4j and less chatty in logs
    * Register Kamon metric reporter with Kafka producer
    * Log the server url upon startup

 .../core/database/RemoteCacheInvalidation.scala    |  11 +-
 core/cosmosdb/cache-invalidator/build.gradle       |   5 +-
 .../src/main/resources/reference.conf              |  22 +++-
 .../src/main/resources/whisk-logback.xml           |  27 -----
 .../database/cosmosdb/cache/CacheInvalidator.scala |  47 ++++----
 .../cosmosdb/cache/CacheInvalidatorConfig.scala    |  34 ++----
 .../cosmosdb/cache/ChangeFeedConsumer.scala        | 120 +++++++++++++++++++++
 .../cosmosdb/cache/ChangeFeedListener.scala        |  77 -------------
 .../cosmosdb/cache/KafkaEventProducer.scala        |   7 +-
 .../core/database/cosmosdb/cache/Main.scala        |   6 +-
 .../cosmosdb/cache/WhiskChangeEventObserver.scala  |  41 ++++---
 .../cosmosdb/cache/CacheInvalidatorTests.scala     |  20 ++--
 .../cache/WhiskChangeEventObserverTests.scala      |  14 +--
 tools/jenkins/apache/dockerhub.groovy              |   2 +-
 14 files changed, 235 insertions(+), 198 deletions(-)

commit 00cf75a2bf9389549432bed23af4ed7a130f75c8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 21 18:10:29 2019 +0530

    Updates Alpakka Kafka to 1.1.0 and minor bug fixes in user-events (#4693)
    
    Updates Alpakka Kafka to 1.1.0 and also does minor bug fixes in user-events module.
    
    * Update Alpakka Kafka to 1.1.0
    * Move akka-stream-kafka-testkit to test scope
    * Turn off logging from embedded Kafka server
    * Reduce test execution time by avoiding recreating consumer for each test
    * Set stop timeout to 0 as we use DrainingControl to properly stop the consumer upon shutdown
    * Make memoryGauge actually a guage
    * Explicitly ignore the ConcurrentInvocations case for now
    * Update Grafana chart to compute based on value now being Gauge instead of histogram as suggested by Cosmin

 core/monitoring/user-events/build.gradle           |  2 +-
 .../grafana/dashboards/openwhisk_events.json       |  4 +-
 .../core/monitoring/metrics/EventConsumer.scala    |  2 +-
 .../core/monitoring/metrics/KamonRecorder.scala    |  7 ++--
 .../monitoring/metrics/PrometheusRecorder.scala    | 16 +++-----
 .../src/test/resources/logback-test.xml            | 43 ++++++++++++++++++++++
 .../core/monitoring/metrics/ApiTests.scala         | 31 ++++++++++++----
 .../core/monitoring/metrics/KafkaSpecBase.scala    |  1 +
 .../metrics/PrometheusRecorderTests.scala          |  4 +-
 .../src/main/resources/logback-standalone.xml      |  2 +-
 settings.gradle                                    |  2 +-
 tests/src/test/resources/logback-test.xml          |  2 +-
 12 files changed, 86 insertions(+), 30 deletions(-)

commit 81ac503f7efc8ee99ea1a37ef9ec3d6163d96c85
Author: tysonnorris <tnorris@adobe.com>
Date:   Thu Oct 17 21:34:08 2019 -0700

    emit additional metrics about invoker ContainerPool (#4625)
    
    * emit additional metrics about invoker ContainerPool
    * added counter increment for rescheduled run message

 .../org/apache/openwhisk/common/Logging.scala      | 16 ++++++++++++
 .../core/containerpool/ContainerPool.scala         | 29 +++++++++++++++++++++-
 2 files changed, 44 insertions(+), 1 deletion(-)

commit 86618b571d38ce9ba02a80fbb9549ae8f078d552
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Oct 18 09:54:46 2019 +0530

    Cosmosdb query metrics for activation poll query (#4688)
    
    * Update cosmosdb to v2.6.2
    * Collect query stats for activation poll/list query

 common/scala/build.gradle                          |  2 +-
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 10 +++-
 .../database/cosmosdb/CosmosDBViewMapper.scala     | 70 +++++++++++++++++++++-
 3 files changed, 78 insertions(+), 4 deletions(-)

commit 4f41a71430436504e87418837152a2686fb03238
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 17 14:47:34 2019 +0530

    Fix command examples for wskadmin-next (#4692)

 tools/admin/README-NEXT.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 69f4a2a72027060cb07a8d83a88385a6f09e8d78
Author: Cosmin Stanciu <selfxp@users.noreply.github.com>
Date:   Wed Oct 16 23:00:07 2019 -0700

    User-events grafana dashboards changes (#4669)
    
    * Update grafana dashboard to use variable intervals for aggregations
    * Configure the $__range intervals for all grafana variables
    * Add global wait time graph

 .../compose/grafana/dashboards/global-metrics.json |  92 ++++++++++++++-
 .../grafana/dashboards/openwhisk_events.json       | 123 ++++++++++-----------
 2 files changed, 149 insertions(+), 66 deletions(-)

commit 8bf79efa0c5fa5f83a1bf60604f8c85abcd32ac2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 17 10:46:57 2019 +0530

    Pod template support with KubernetesContainerFactory (#4690)
    
    * Refactor existing pod builder logic to a separate class and add tests
    * Add support for extending template
    * Log the pod spec yaml if debug mode is on
    * Document pod template
    * Integration test for template support
    * Implement a config map value reader which can be passed literal string or file reference
    * Skip test run if KUBECONFIG is not defined

 common/scala/build.gradle                          |   2 +-
 .../apache/openwhisk/common/ConfigMapValue.scala   |  46 +++++++
 core/invoker/src/main/resources/application.conf   |   6 +
 .../kubernetes/KubernetesClient.scala              |  61 ++--------
 .../containerpool/kubernetes/WhiskPodBuilder.scala | 119 ++++++++++++++++++
 settings.gradle                                    |   3 +-
 tests/build.gradle                                 |   2 +
 .../openwhisk/common/ConfigMapValueTests.scala     |  70 +++++++++++
 .../kubernetes/test/KubeClientSupport.scala        |  60 +++++++++
 .../kubernetes/test/WhiskPodBuilderTests.scala     | 134 +++++++++++++++++++++
 .../openwhisk/standalone/StandaloneKCFTests.scala  |  50 ++++++--
 11 files changed, 491 insertions(+), 62 deletions(-)

commit 114116b0655deafa796fb59550908b451e81da34
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Oct 16 14:31:33 2019 -0400

    restrict to run on an openwhisk dedicated VM (#4691)
    
    Attempt to gain better control over job execution environment
    by restricting job to run on one of the openwhisk VMs.

 tools/jenkins/apache/dockerhub.groovy | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82172d3b97280dd13bcfc9d3d96702a4df8253f9
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Oct 15 13:14:11 2019 +0530

    Enable Standalone User Event Dev mode (#4680)
    
    * Add user event dev mode
    Co-Authored-By: rodric rabbah <rodric@gmail.com>

 core/standalone/README.md                          | 37 ++++++++++--------
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 10 ++++-
 .../openwhisk/standalone/UserEventLauncher.scala   | 44 +++++++++++++---------
 3 files changed, 56 insertions(+), 35 deletions(-)

commit 88725d9b75462c84b21c465b25b71acc109e32d7
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Oct 14 10:06:05 2019 -0400

    KubernetesContainerFactory: security context for user actions (#4675)
    
    Drop the NET_RAW and NET_ADMIN capabilities from the containers
    created to execute user actions (matches DockerContainerFactory).

 .../openwhisk/core/containerpool/kubernetes/KubernetesClient.scala  | 6 ++++++
 1 file changed, 6 insertions(+)

commit 361c76d4e56f6c368565b779000928ab1e4b61da
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 14 19:24:41 2019 +0530

    Add NoopActivationStore to simplify local performance testing (#4678)

 .../core/database/memory/NoopActivationStore.scala | 94 ++++++++++++++++++++++
 .../openwhisk/standalone/LogbackConfigurator.scala |  5 +-
 2 files changed, 98 insertions(+), 1 deletion(-)

commit f8bdaf75a18853dd26298bf42b38db367ac1c79b
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 14 19:24:15 2019 +0530

    Standalone based sanity test for KubernetesContainerFactory (#4689)
    
    Runs a basic sanity test against a kind based k8s setup

 .../openwhisk/standalone/StandaloneKCFTests.scala  | 47 ++++++++++++++++++++++
 .../standalone/StandaloneKafkaTests.scala          |  5 ++-
 .../standalone/StandaloneServerFixture.scala       |  9 ++++-
 tools/travis/runStandaloneTests.sh                 | 15 +++++++
 4 files changed, 73 insertions(+), 3 deletions(-)

commit 673d5c7d4c3c50e449935482a29fbeb179d94747
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Oct 12 03:49:57 2019 -0400

    Revert "Remove unused test helpers" (#4685)
    
    This reverts commit 15709b6768679e04d7cd269d99d73b52d003091a.

 tests/src/test/scala/common/TestUtils.java       | 52 ++++++++++++++++++++++++
 tests/src/test/scala/common/WhiskProperties.java |  5 +++
 2 files changed, 57 insertions(+)

commit ad4e9ca59ed630e06956c40026e96ecf7e0523d1
Author: Neeraj Mangal <neerajmangal@users.noreply.github.com>
Date:   Sat Oct 12 11:06:02 2019 +0530

    Fix Travis build pip install issue in pre installation step (#4683)
    
    Fixes the travis build which was failing due to some change in Python setup in base image. As part of fix also moved to `xenial` version from current usage of a deprecated image.
    
    With xenial switching to systemd for init the way Docker is configured gets changed. setup-docker.py handles this new flow by seeding the daemon.json properly by adding the new fields needed by OpenWhisk tests to pass.

 .travis.yml                  |  9 ++---
 tools/travis/docker.conf     | 19 +++++++++++
 tools/travis/docker.sh       | 18 ++++++++--
 tools/travis/setup-docker.py | 78 ++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 117 insertions(+), 7 deletions(-)

commit 15709b6768679e04d7cd269d99d73b52d003091a
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Oct 8 07:41:11 2019 -0400

    Remove unused test helpers

 tests/src/test/scala/common/TestUtils.java       | 52 ------------------------
 tests/src/test/scala/common/WhiskProperties.java |  5 ---
 2 files changed, 57 deletions(-)

commit 75d8507cc4264da3f57efe7433a45278ecbc578e
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 7 18:04:35 2019 +0530

    Standalone OpenWhisk KubernetesContainerFactory support (#4671)
    
    * Add support for port forwarding to remote pod
    * Add support to use KCF in Standalone mode

 core/invoker/src/main/resources/application.conf   |  4 ++
 .../kubernetes/KubernetesClient.scala              | 14 +++-
 .../kubernetes/KubernetesContainer.scala           | 11 +--
 core/standalone/README.md                          | 84 +++++++++++++++++++++-
 .../src/main/resources/standalone-kcf.conf         | 36 ++++++++++
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 12 +++-
 6 files changed, 150 insertions(+), 11 deletions(-)

commit 30813d04413396d0625e20f6786b3f9ef407eab2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 7 14:51:55 2019 +0530

    Expose Kafka metrics for User Event consumer as json endpoint (#4665)

 common/scala/src/main/resources/application.conf   | 11 +++-
 .../openwhisk/connector/kafka/KafkaMetrics.scala   | 75 ++++++++++++++++++++++
 .../connector/kafka/KamonMetricsReporter.scala     |  1 +
 .../core/monitoring/metrics/EventConsumer.scala    | 14 +++-
 .../core/monitoring/metrics/OpenWhiskEvents.scala  |  3 +-
 .../monitoring/metrics/PrometheusEventsApi.scala   |  7 +-
 .../connector/kafka/KafkaMetricsTests.scala        | 54 ++++++++++++++++
 7 files changed, 159 insertions(+), 6 deletions(-)

commit b7614dfea2183ce9121652e6f52ba189e1773bd9
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Oct 7 14:31:56 2019 +0530

    Standalone God mode (#4670)
    
    Enables starting standalone server along with all optional services like CouchDB, Kafka etc

 core/standalone/README.md                          | 22 ++++++++++--------
 .../openwhisk/standalone/ApiGwLauncher.scala       |  6 ++---
 .../openwhisk/standalone/CouchDBLauncher.scala     |  5 +++-
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 27 ++++++++++++++++++++--
 4 files changed, 44 insertions(+), 16 deletions(-)

commit f4590aac8e66dbdce4ba8ac6144efc0c22a23169
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sun Oct 6 15:17:30 2019 -0400

    GoLang docker image: actionloop-golang ==> action-golang (#4674)
    
    openwhisk-runtime-go PR#109 changed the name used to publish docker
    images from actionloop-golang-VERSION to action-golang-VERSION. This
    PR updates the core system runtime.json and documentation to use the
    new names. All old images are still available on dockerhub and will
    not be removed or renamed, so this should be a non-disruptive change.

 ansible/files/runtimes.json |  2 +-
 docs/actions-go.md          | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 5667fb0d5abafc242d9b96b313464b2b700525f2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 3 22:43:52 2019 +0530

    User Events support in OpenWhisk Standalone mode (#4656)
    
    * Enable support to launch user-event and prometheus
    
    * Enable grafana support
    
    * Remove unused command
    
    * Update readme
    
    * Update log message
    
    * Include controller url in list of launched services
    
    * Reuse existing prometheus config

 core/standalone/README.md                          |  28 +++-
 core/standalone/build.gradle                       |  22 +++
 core/standalone/src/main/resources/standalone.conf |   7 +
 .../openwhisk/standalone/StandaloneOpenWhisk.scala |  50 +++++--
 .../org/apache/openwhisk/standalone/Unzip.scala    |  47 +++++++
 .../openwhisk/standalone/UserEventLauncher.scala   | 149 +++++++++++++++++++++
 6 files changed, 294 insertions(+), 9 deletions(-)

commit 45c37bf071682dae651c0ea529141e1df8ba2c85
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 3 21:56:13 2019 +0530

    Unify Alpakka Kafka version across modules (#4662)
    
    * Unify alpakka kafka version
    
    * Enable user-event tests in standalone profile
    
    * Run tests from test in end so as to enable coverage data collection across other modules tests
    
    * Log test executions

 core/cosmosdb/cache-invalidator/build.gradle       |  2 +-
 core/monitoring/user-events/build.gradle           | 20 ++++--
 .../core/monitoring/metrics/KafkaSpecBase.scala    | 27 ++-----
 .../monitoring/metrics/KamonRecorderTests.scala    | 83 ++++++++++------------
 .../monitoring/metrics/OpenWhiskEventsTests.scala  | 31 ++++----
 .../metrics/PrometheusRecorderTests.scala          | 56 +++++++--------
 settings.gradle                                    |  1 +
 tests/build.gradle                                 |  2 +-
 .../cosmosdb/cache/CacheInvalidatorTests.scala     |  3 -
 tools/travis/runStandaloneTests.sh                 | 13 ++--
 10 files changed, 109 insertions(+), 129 deletions(-)

commit cd7a639061101f11023a0e1754e2eaccdfc79091
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 3 20:41:06 2019 +0530

    Refactor the ActiveAck implemenation to simplify testing (#4658)

 .../openwhisk/core/invoker/InvokerReactive.scala   | 38 +----------
 .../core/invoker/MessagingActiveAck.scala          | 77 ++++++++++++++++++++++
 2 files changed, 80 insertions(+), 35 deletions(-)

commit 6139b0028da62764cea31b2fdfeb324ad312c22a
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 3 13:52:10 2019 +0530

    Make package object as simple object (#4661)

 .../src/main/scala/org/apache/openwhisk/core/entity/WhiskStore.scala    | 2 +-
 .../src/main/scala/org/apache/openwhisk/core/controller/ApiUtils.scala  | 2 +-
 .../main/scala/org/apache/openwhisk/core/entitlement/Entitlement.scala  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 41d74c188acfee134fb09c9b5fbe15cd932fe769
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 3 07:08:14 2019 +0530

    Move out standalone server tests to a new Travis profile (#4657)

 .travis.yml                        |  4 ++++
 ansible/downloadcli-github.yml     | 31 ++++++++++++++++++++++++++++
 tests/build.gradle                 |  9 ++++++---
 tools/travis/runStandaloneTests.sh | 41 ++++++++++++++++++++++++++++++++++++++
 tools/travis/runUnitTests.sh       |  4 ----
 5 files changed, 82 insertions(+), 7 deletions(-)

commit 25f4c9dea9383cc8535d4dde4e492c2ac46be4be
Author: Seonghyun Oh <oh.seonghyun@navercorp.com>
Date:   Wed Oct 2 11:50:16 2019 +0900

    Fix invalid environment variable for JVM option (#4655)

 core/monitoring/user-events/init.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 3f9a78035d7c3be08d3e3e3c2e783ab5d3530ec7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Oct 1 22:43:34 2019 +0530

    Capture document size, RU usage, retry stats for get and put in CosmosDB (#4652)
    
    * Enable collection of retry stats
    * Log document size and RU used for get and put operation
    * Include extra logs for transaction with debug mode enabled
    * Histogram metric for document size
    * Add custom histogram buckets for retry stats

 common/scala/src/main/resources/application.conf   |  14 +++
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  61 ++++++---
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala   |   2 +
 .../database/cosmosdb/RetryMetricsCollector.scala  | 137 +++++++++++++++++++++
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  49 +++++++-
 5 files changed, 242 insertions(+), 21 deletions(-)

commit a29a941dfcb552c12b98b11e2fd4ff543656d5fb
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Oct 1 19:01:12 2019 +0530

    Dump complete exception stacktrace upon failure in StoreUtil (#4653)

 .../main/scala/org/apache/openwhisk/core/database/StoreUtils.scala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 3763967939799aaada9bdd5f19a3b936972f3040
Author: Mathieu Bacou <mathieu@bacou.fr>
Date:   Tue Oct 1 15:15:22 2019 +0200

    Rephrase description of `provide-api-key` (#4654)
    
    Move the description of the default value of `provide-api-key` for new actions to the beginning of the description, before explaining the behavior when not specified in an existing action.
    
    Related to [this suggestion](https://github.com/apache/openwhisk-catalog/issues/309#issuecomment-536907037).

 docs/annotations.md | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit d626da4352f43098bfe03fdca85a5a231bfc5e45
Author: Seonghyun Oh <oh.seonghyun@navercorp.com>
Date:   Tue Oct 1 13:25:44 2019 +0900

    Remove redundant test code (#4651)

 .../apache/openwhisk/core/controller/test/PackagesApiTests.scala    | 6 ------
 1 file changed, 6 deletions(-)

commit a581bea7c64677fb5a22d453f1e8c7dbcee0232d
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Thu Sep 26 20:21:25 2019 +0800

    Add namespace field to activation log (#4609)
    
    Add the activation namespace to all activation log lines forwarded to external logging solutions.

 .../logging/DockerToActivationFileLogStore.scala             |  3 ++-
 .../database/ArtifactWithFileStorageActivationStore.scala    | 10 ++++++++--
 .../logging/test/DockerToActivationFileLogStoreTests.scala   | 12 ++++--------
 .../ArtifactWithFileStorageActivationStoreTests.scala        |  6 +++---
 4 files changed, 17 insertions(+), 14 deletions(-)

commit 7589152a94ef6b9575c585ff6385bca2bea9febb
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Sep 25 10:37:03 2019 -0400

    Revert erroneous change which drops user events on some completions. (#4641)
    
    * Integration test for User Events running against standalone server
    * Relaxing wait time in User Events test from 10 to 60 seconds to make test more robust

 .../openwhisk/core/invoker/InvokerReactive.scala   | 23 +++++------
 .../apache/openwhisk/common/UserEventTests.scala   | 15 ++++---
 .../standalone/StandaloneServerFixture.scala       | 37 +++++++++++------
 .../standalone/StandaloneUserEventTests.scala      | 48 ++++++++++++++++++++++
 4 files changed, 91 insertions(+), 32 deletions(-)

commit 7ea2cb86990243d5a1765d4ba416be14221f007d
Author: Marc Schwind <35265496+marc-schwind@users.noreply.github.com>
Date:   Wed Sep 25 15:22:01 2019 +0200

    add missing install task for proper maven publishing (#4645)

 core/monitoring/user-events/build.gradle | 1 +
 1 file changed, 1 insertion(+)

commit 3e89aa51f79598a5156910b4752f9ec82b13a7c0
Author: Cosmin Stanciu <selfxp@users.noreply.github.com>
Date:   Tue Sep 24 21:31:25 2019 -0700

    OpenWhisk User Events (#4584)
    
    The user event service enables aggregating the metric events sent on `events` topic and expose them as Prometheus (or Kamon) metrics. Out of the box dashboards are provided for the Grafana/Prometheus mode which provide detailed insights on performance metrics at cluster/namespace/action level.

 .../apache/openwhisk/core/connector/Message.scala  |   47 +-
 .../openwhisk/core/entity/ActivationResult.scala   |   17 +-
 .../openwhisk/core/entity/WhiskActivation.scala    |    4 +
 core/monitoring/user-events/.dockerignore          |    5 +
 core/monitoring/user-events/Dockerfile             |   34 +
 core/monitoring/user-events/README.md              |   55 +
 core/monitoring/user-events/build.gradle           |   53 +
 .../compose/grafana/dashboards/global-metrics.json |  422 ++++++
 .../grafana/dashboards/openwhisk_events.json       | 1539 ++++++++++++++++++++
 .../compose/grafana/dashboards/top-namespaces.json |  473 ++++++
 .../grafana/provisioning/dashboards/dashboard.yml  |   28 +
 .../provisioning/datasources/datasource.yml        |   67 +
 .../user-events/compose/prometheus/prometheus.yml  |   30 +
 .../monitoring/user-events/images/demo_landing.png |  Bin 0 -> 516563 bytes
 core/monitoring/user-events/init.sh                |   25 +
 .../src/main/resources/application.conf            |   52 +
 .../user-events/src/main/resources/reference.conf  |   27 +
 .../src/main/resources/whisk-logback.xml           |   25 +
 .../core/monitoring/metrics/EventConsumer.scala    |  145 ++
 .../core/monitoring/metrics/KamonRecorder.scala    |  111 ++
 .../openwhisk/core/monitoring/metrics/Main.scala   |   45 +
 .../core/monitoring/metrics/MetricNames.scala      |   37 +
 .../core/monitoring/metrics/OpenWhiskEvents.scala  |   65 +
 .../monitoring/metrics/PrometheusEventsApi.scala   |   49 +
 .../monitoring/metrics/PrometheusRecorder.scala    |  250 ++++
 .../core/monitoring/metrics/ApiTests.scala         |   64 +
 .../core/monitoring/metrics/EventsTestHelper.scala |   45 +
 .../core/monitoring/metrics/KafkaSpecBase.scala    |   56 +
 .../monitoring/metrics/KamonRecorderTests.scala    |  157 ++
 .../monitoring/metrics/OpenWhiskEventsTests.scala  |   84 ++
 .../metrics/PrometheusRecorderTests.scala          |  122 ++
 docs/metrics.md                                    |    3 +
 settings.gradle                                    |    1 +
 tests/build.gradle                                 |    1 +
 .../apache/openwhisk/common/UserEventTests.scala   |    6 +-
 .../core/connector/test/EventMessageTests.scala    |    8 +-
 tools/jenkins/apache/dockerhub.groovy              |    2 +-
 37 files changed, 4139 insertions(+), 15 deletions(-)

commit 5de865c271ab6e82deacdf4d8dcd2f5025c02d97
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Sep 25 09:56:07 2019 +0530

    Retry NoHttpResponseException for standalone mode in ApacheContainerClient (#4644)
    
    Adding a new setting to enable retry of NoHttpResponseException based on configuration.
    
    This setting is enabled in standalone mode to workaround some Docker network issue where first call of `/init` fails due to this exception. Same init passes upon retry

 common/scala/src/main/resources/application.conf     |  8 ++++++++
 .../org/apache/openwhisk/core/WhiskConfig.scala      |  2 ++
 .../ApacheBlockingContainerClient.scala              | 12 +++++++++++-
 core/standalone/src/main/resources/standalone.conf   |  3 +++
 .../openwhisk/standalone/StandaloneServerTests.scala | 20 --------------------
 5 files changed, 24 insertions(+), 21 deletions(-)

commit b536efe2d602588b0b0fd343da1c42ee424f5bd0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Sep 23 16:21:27 2019 +0530

    Update to CosmosDB SDK v2.6.1 (#4640)

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4dd17971d6c19f0aee1dcf5e19d14643e42bf993
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Sep 23 02:00:09 2019 -0400

    Refactor action activation tests to test db polling. (#4623)
    
    - Makes max wait time for blocking action configurable
    - Lowers max wait time for tests (shaves couple of minutes).
    - Removes duplicate tests.

 common/scala/src/main/resources/application.conf   |   3 +-
 .../apache/openwhisk/core/controller/Actions.scala |  67 +++++------
 .../openwhisk/core/controller/WebActions.scala     |   2 +-
 .../core/controller/actions/PrimitiveActions.scala |   3 +-
 .../core/controller/test/ActionsApiTests.scala     | 101 ++--------------
 .../test/ActionsApiWithDbPollingTests.scala        | 129 +++++++++++++++++++++
 .../test/ActionsApiWithoutDbPollingTests.scala     | 125 ++++++++++++++++++++
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../core/controller/test/PollingFromDbTests.scala  |  91 ---------------
 .../core/controller/test/SequenceApiTests.scala    |   2 +-
 .../test/ShardingContainerPoolBalancerTests.scala  |   3 +-
 11 files changed, 302 insertions(+), 228 deletions(-)

commit fac309c78a99c227978172279794ac34641cc4dc
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Sep 21 01:10:45 2019 -0700

    Combines active ack and slot release when both are available. (#4624)
    
    Combine active ack and slot release when both are available. This commit changes the types of AcknowledegmentMessage exchanged on `completedxxx` topics to 3
    
    - CombinedCompletionAndResultMessage - Sent when the resource slot and the action result are available at the same time
    - ResultMessage - Sent once an action result is available for blocking actions
    - CompletionMessage - Sent once the resource slot in the invoker is free again
    
    This would ensure that the controller can quickly cleanup resources for comleted invocation when they result in error
    (instead of performing slow db polling)

 .../apache/openwhisk/core/connector/Message.scala  | 214 +++++++++++++++------
 .../org/apache/openwhisk/core/entity/Exec.scala    |   2 +-
 .../core/loadBalancer/CommonLoadBalancer.scala     |  29 +--
 .../core/containerpool/ContainerProxy.scala        |  27 ++-
 .../openwhisk/core/invoker/InvokerReactive.scala   | 114 ++++++-----
 .../tests/AcknowledgementMessageTests.scala        | 117 ++++++-----
 .../containerpool/test/ContainerProxyTests.scala   |  70 +++++--
 .../test/ShardingContainerPoolBalancerTests.scala  |   4 +-
 8 files changed, 393 insertions(+), 184 deletions(-)

commit 87dc693de674b4396a35dd873c186efa138c5bb4
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Sep 20 21:16:44 2019 +0530

    Update CosmosDB SDK to v2.5.0 (#4631)

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 231e739373ef681c44b5647a6956d5838a87db2e
Author: Duy Nguyen <duy.phnguyen@gmail.com>
Date:   Fri Sep 20 14:23:57 2019 +0200

    Add optional config for appending custom registry to user provided images (#4503)
    
    Enables support for specifying registry for user provided images
    
    - If whisk.container-factory.runtimes-registry.url is set, all default runtime images are retrieved from the specified registry, otherwise they are pulled from Docker Hub.
    
    -If whisk.container-factory.user-images-registry.url is set, all user images (blackbox) are retrieved from the specified registry, otherwise they are pulled from Docker Hub.

 ansible/group_vars/all                             |   3 +-
 ansible/roles/invoker/tasks/deploy.yml             |   1 +
 .../org/apache/openwhisk/core/WhiskConfig.scala    |   1 +
 .../core/containerpool/ContainerFactory.scala      |   6 ++
 .../org/apache/openwhisk/core/entity/Exec.scala    |  12 ++-
 .../openwhisk/core/entity/ExecManifest.scala       |  40 ++++---
 .../core/mesos/MesosContainerFactory.scala         |  11 +-
 .../openwhisk/core/yarn/YARNContainerFactory.scala |   4 +-
 core/invoker/src/main/resources/application.conf   |   3 +
 .../containerpool/docker/DockerContainer.scala     |   6 +-
 .../docker/DockerContainerFactory.scala            |   9 +-
 .../docker/StandaloneDockerContainerFactory.scala  |   2 +-
 .../kubernetes/KubernetesContainerFactory.scala    |  13 ++-
 tests/src/test/resources/application.conf.j2       |   9 +-
 .../docker/test/DockerContainerFactoryTests.scala  |   4 +-
 .../docker/test/DockerContainerTests.scala         |   9 +-
 .../yarn/test/YARNContainerFactoryTests.scala      |   6 +-
 .../core/entity/test/ExecManifestTests.scala       | 118 ++++++++++++++-------
 18 files changed, 164 insertions(+), 93 deletions(-)

commit 90c20a847b9a70b43e316fd89a0a15ae2ee39cc4
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Sep 20 14:06:57 2019 +0200

    Add descriptions how to update, remove or rename runtime kinds and language families (#4627)
    
    Removing or renaming runtime kinds and language families by simply changing the runtime manifest breaks existing actions. This change introduces documentation and adds background information to the pre-defined runtime manifests.
    
    For example, a change like #4390 breaks existing actions.
    
    Co-Authored-By: rodric rabbah <rodric@gmail.com>

 ansible/files/runtimes-nodeonly.json | 14 +++++++
 ansible/files/runtimes.json          | 13 +++++++
 docs/actions-update.md               | 75 ++++++++++++++++++++++++++++++++++++
 docs/actions.md                      |  3 ++
 4 files changed, 105 insertions(+)

commit 400a7915115576a363858788a6d080c389a80317
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Fri Sep 20 00:07:39 2019 +0800

    Add kind "unknown" to fallback activations (#4617)

 .../src/main/scala/org/apache/openwhisk/core/entity/Exec.scala   | 3 +++
 .../org/apache/openwhisk/core/invoker/InvokerReactive.scala      | 9 +++++++--
 2 files changed, 10 insertions(+), 2 deletions(-)

commit 94fccbcb4d35285955bc5fdf835b43c8f41af81d
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Sep 19 21:11:07 2019 +0530

    Embedded Kafka support in OpenWhisk Standalone mode (#4628)
    
    Enable support for Embedded Kafka to enable Kafka based feature development. It also support launching Kafdrop 3 based Ui for visualizing Kafka related metadata.

 core/standalone/README.md                          |  67 +++++++++--
 core/standalone/build.gradle                       |   5 +
 .../src/main/resources/logback-standalone.xml      |   2 +
 .../openwhisk/standalone/KafkaLauncher.scala       | 128 +++++++++++++++++++++
 .../openwhisk/standalone/StandaloneOpenWhisk.scala |  75 +++++++++++-
 .../standalone/StandaloneCouchTests.scala          |  17 +--
 .../standalone/StandaloneKafkaTests.scala          |  32 ++++++
 .../standalone/StandaloneSanityTestSupport.scala   |  33 ++++++
 .../standalone/StandaloneServerFixture.scala       |   7 +-
 9 files changed, 337 insertions(+), 29 deletions(-)

commit e9dd2073cd2343545d006cd71ca01dc24114c216
Author: ruediger maass <ruediger.maass@de.ibm.com>
Date:   Wed Sep 18 17:03:29 2019 +0200

    Allow decision about action result inclusion in logs on a per call basis (#4604)
    
    * allow decision about result inclusion in logs on a per call basis

 .../core/database/ActivationFileStorage.scala      |  11 +-
 ...tifactWithFileStorageActivationStoreTests.scala | 174 ++++++++++++++++++---
 2 files changed, 157 insertions(+), 28 deletions(-)

commit 06362ad83608335a01ccbb4ef449ec4c0e70dd99
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Sep 17 13:06:23 2019 -0400

    remove spurious execute permission from ansible group_var files (#4629)

 ansible/environments/jenkins/group_vars/openwhisk-vm1-he-de | 0
 ansible/environments/jenkins/group_vars/openwhisk-vm2-he-de | 0
 ansible/environments/jenkins/group_vars/openwhisk-vm3-he-de | 0
 ansible/environments/local/group_vars/all                   | 0
 ansible/environments/vagrant/group_vars/all                 | 0
 5 files changed, 0 insertions(+), 0 deletions(-)

commit 2036548e62dbf959d91c2328e86318bd7cfa656f
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Sep 16 06:12:33 2019 -0400

    Factor out subjects view name for identities (#4611)
    
    * Rename class.
    * Factor our identities view.
    * Code cleanup using Identity.
    * Add test for subjects view deserializer. Fix bug in helper method.
    * Factor out view name for wskadmin.

 ansible/roles/controller/tasks/deploy.yml          |  1 +
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 common/scala/src/main/resources/application.conf   |  1 +
 .../database/cosmosdb/CosmosDBViewMapper.scala     |  2 +-
 .../core/database/memory/MemoryViewMapper.scala    |  4 ++--
 .../openwhisk/core/entity/GenericAuthKey.scala     |  4 ++--
 .../apache/openwhisk/core/entity/Identity.scala    | 14 +++++++++-----
 .../openwhisk/core/entity/WhiskActivation.scala    | 12 +++---------
 .../openwhisk/core/entity/WhiskPackage.scala       |  2 +-
 .../apache/openwhisk/core/entity/WhiskStore.scala  | 20 +++++++++++++-------
 .../core/loadBalancer/InvokerSupervision.scala     |  7 +------
 .../logging/ElasticSearchLogStoreTests.scala       |  2 +-
 .../logging/SplunkLogStoreTests.scala              |  2 +-
 .../test/DockerToActivationLogStoreTests.scala     |  2 +-
 .../containerpool/test/ContainerPoolTests.scala    |  2 +-
 .../containerpool/test/ContainerProxyTests.scala   |  2 +-
 .../controller/test/BasicAuthenticateTests.scala   |  4 ++--
 .../controller/test/EntitlementProviderTests.scala |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  |  3 ++-
 .../core/controller/test/WhiskAuthHelpers.scala    |  8 ++++++--
 ...tifactWithFileStorageActivationStoreTests.scala |  2 +-
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  2 +-
 .../openwhisk/core/database/test/DbUtils.scala     |  4 ++--
 .../ArtifactStoreActivationsQueryBehaviors.scala   |  2 +-
 .../behavior/ArtifactStoreQueryBehaviors.scala     |  2 +-
 .../ArtifactStoreWhisksQueryBehaviors.scala        |  2 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   | 22 ++++++++++++++++++----
 .../invoker/test/NamespaceBlacklistTests.scala     |  9 ++-------
 .../test/InvokerSupervisionTests.scala             |  4 +---
 .../test/ShardingContainerPoolBalancerTests.scala  |  6 +-----
 tools/admin/wskadmin                               |  9 ++++++---
 31 files changed, 86 insertions(+), 73 deletions(-)

commit f946878cf3acf238692805457a87fc806d78f727
Author: Bill Zong <billzong2012@gmail.com>
Date:   Mon Sep 16 17:21:25 2019 +0800

    Add ansible deploy options (#4619)
    
    * add docker image pull option for kafka ansible deployment
    
    * add docker image pull option for zookeeper ansible deployment and remove mandatory pull task

 ansible/roles/kafka/tasks/deploy.yml     | 2 +-
 ansible/roles/zookeeper/tasks/deploy.yml | 8 +-------
 2 files changed, 2 insertions(+), 8 deletions(-)

commit 94f7b1450418512d4e28e852be684eadc390956d
Author: Bill Zong <billzong2012@gmail.com>
Date:   Wed Sep 11 13:12:44 2019 +0800

    Ensure that env values in ansible are resolved as string (#4618)
    
    Fixes Controller ansible local deploy failure due to ambiguous task env setting.

 ansible/roles/controller/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d4d7ceb627573670f70993d4e31dcf2a6737c3f8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Sep 9 11:02:07 2019 +0530

    Pass an optional action instance to ContainerFactory (#4595)

 .../core/containerpool/ContainerFactory.scala      | 13 ++++++++++++-
 .../core/containerpool/ContainerProxy.scala        | 22 ++++++++++++++++++----
 tests/src/test/scala/common/LoggedFunction.scala   | 12 ++++++++++++
 .../containerpool/test/ContainerProxyTests.scala   |  4 ++--
 4 files changed, 44 insertions(+), 7 deletions(-)

commit 19a876e0f4e95cb305d74ff293671aae229bb99c
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Sep 7 01:55:12 2019 -0400

    additional topics (#4613)

 .asf.yaml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 27f0cebe3b9d98c2a2c2f6836002dcce258a68d3
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Sep 6 11:25:44 2019 -0400

    asf.yaml take3: github topics must be lowercase (#4612)

 .asf.yaml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b05b7ff21c414aac31a325c68ae522e5c8a17dd6
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Sep 6 03:45:52 2019 -0700

    Update k8s client to 4.4.0 from 4.0.3 (#4606)
    
    With this the minimum supported k8s version would be 1.9.0

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9b2227eb8e191aacc4afe376c638e8b395c40647
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Sep 5 20:37:29 2019 -0400

    fix indent on labels in .asf.yaml (#4608)
    
    See if this works; looks like the example yaml on cwiki
    had the wrong indentation level for the labels...

 .asf.yaml | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit d1e1b642dafbca12c16f40633c76f54b5a794551
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Sep 5 12:30:22 2019 -0400

    Add asf.yaml to configure github metadata (#4607)
    
    Experiment with new ASF feature of using a per-repo yaml
    file to configure github metadata for a project.

 .asf.yaml | 26 ++++++++++++++++++++++++++
 1 file changed, 26 insertions(+)

commit 760f477ec4e45ad5e08f8aa45e5e9b5c8a66f4c9
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Sep 5 09:16:42 2019 -0400

    add full license headers to vagrant scripts (#4605)

 tools/vagrant/hello     | 18 ++++++++++++++++--
 tools/vagrant/hello.cmd | 18 ++++++++++++++++--
 2 files changed, 32 insertions(+), 4 deletions(-)

commit 8d2aeabf56667a9dec49690da1cd63f64eb217ee
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Sep 3 18:07:29 2019 +0530

    A dev mode flag to speed up startup during development (#4603)

 .../standalone/StandaloneDockerSupport.scala       |  7 ++++-
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 33 ++++++++++++++++------
 2 files changed, 30 insertions(+), 10 deletions(-)

commit 6c2fb32e9c5e9caf28b658a2c2ee15a75d70551e
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Sep 3 18:06:48 2019 +0530

    Update api gateway to released 0.11.0 in standalone mode (#4602)

 core/standalone/src/main/resources/standalone.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee07500494ce6fa44142c2406743de250e3b4243
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Aug 31 09:47:50 2019 -0400

    change Eclipse indentSpaces to 2 (#4600)
    
    Fixes #4597.

 tools/eclipse/scala.properties | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d869e88843d655238ff9da1beeaa27674bf257b9
Author: axiqia <axiqia@qq.com>
Date:   Fri Aug 30 20:40:37 2019 +0800

    update function parameters (#4599)
    
    $@ holds all parameters or arguments passed to the function, so  we need to pass the script parameters to remove and deploy function.

 tools/owperf/setup.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 84f92cf0768ed0b134e0bb7c99ed0cf400a39457
Author: ruediger maass <ruediger.maass@de.ibm.com>
Date:   Fri Aug 30 13:31:55 2019 +0200

    Allow individual field sets for activation_record and user_log (#4596)
    
    * allow individual field sets for activation_record and user_log
    
    * comment added to prevent accidental removal
    
    * add result type to public methods
    
    * changed return value to Unit
    
    * remove unused import

 .../openwhisk/core/database/ActivationFileStorage.scala  | 16 ++++++++++++----
 1 file changed, 12 insertions(+), 4 deletions(-)

commit 13209cbc643f8e061b064692befe142694eb7a86
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Aug 29 11:11:01 2019 -0700

    CouchDB support in OpenWhisk Standalone mode (#4594)
    
    This commit allows a standalone CouchDB instance to back the OpenWhisk API when running using the Standalone JAR, providing persistence across restarts. At startup, the CouchDB docker image is started and torn down on shutdown. An explicit clean flag wipes the persisted state.

 core/standalone/README.md                          |   7 +-
 core/standalone/build.gradle                       |   4 +
 core/standalone/src/main/resources/standalone.conf |  40 +++-
 .../openwhisk/standalone/ApiGwLauncher.scala       |  26 +-
 .../openwhisk/standalone/CouchDBLauncher.scala     | 264 +++++++++++++++++++++
 .../standalone/StandaloneDockerSupport.scala       |  29 ++-
 .../openwhisk/standalone/StandaloneOpenWhisk.scala |  58 ++++-
 .../standalone/StandaloneCouchTests.scala          |  47 ++++
 .../standalone/StandaloneServerFixture.scala       |   9 +-
 9 files changed, 436 insertions(+), 48 deletions(-)

commit e959881f08babf990e37ebb238c44258625e5138
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 29 09:42:49 2019 -0400

    Amend docs for container proxy tests. (#4598)

 docs/actions-new.md                                                | 5 +++--
 tests/src/test/scala/actionContainers/BasicActionRunnerTests.scala | 6 +++---
 2 files changed, 6 insertions(+), 5 deletions(-)

commit b20dffbaf4e8d6ea90da5d8bd233a6b770fa74bb
Author: tysonnorris <tnorris@adobe.com>
Date:   Wed Aug 28 03:54:54 2019 -0700

    Update lastUse timestamp when advancing ContainerProxy instances in use (#4590)
    
    Update lastUse timestamp when advancing ContainerProxy instances in use. Preserve lastUsed when copying warmData

 .../core/containerpool/ContainerPool.scala         |  3 +-
 .../core/containerpool/ContainerProxy.scala        |  6 +--
 .../containerpool/test/ContainerProxyTests.scala   | 60 ++++++++++++++++++++--
 3 files changed, 62 insertions(+), 7 deletions(-)

commit d7c5c04ad052f9c6d27a943793bf8221ccf168cf
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Aug 27 05:38:45 2019 -0400

    Remove docs related to projections. (#4592)

 docs/webactions.md | 51 +++++++++++++++++++++++----------------------------
 1 file changed, 23 insertions(+), 28 deletions(-)

commit d85a722b66980af8e7dd9a3d61918020ba45bcea
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Aug 26 10:59:05 2019 +0530

    Pass transactionId to action container (#4586)
    
    Passes current transactionId to action `/run` call. This would enable tracing the activations originating from same transaction (like in sequence or composition) in any third party tracing system.

 .../scala/org/apache/openwhisk/core/containerpool/ContainerProxy.scala  | 1 +
 docs/actions-new.md                                                     | 2 ++
 .../apache/openwhisk/core/containerpool/test/ContainerProxyTests.scala  | 1 +
 3 files changed, 4 insertions(+)

commit ec6779cb2f2fd42e7f708d131d7c580aec5e8943
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Aug 26 01:25:42 2019 -0400

    Allow parameters to be designated as init time properties (#4559)
    
    Allows parameters to be designated as init time parameters. The result of such a designation is that the corresponding parameters are communicated to the action at initialization time and should be exported to the action's environment accordingly. This change requires updates to the action runtimes for the latter details and will be done separately.
    
    The env values are string representation of the actual JSON parameter value. So if the parameter value is an object then env value would be the json object's string representation.
    
    If the runtime supports this feature then it must implement the `BasicActionRunnerTests#testEnvPartition` test

 .../apache/openwhisk/core/connector/Message.scala  |  3 +-
 .../apache/openwhisk/core/entity/Parameter.scala   | 46 ++++++++++---
 .../apache/openwhisk/core/entity/WhiskAction.scala | 19 +++++-
 .../core/controller/actions/PrimitiveActions.scala |  1 +
 .../core/loadBalancer/InvokerSupervision.scala     |  3 +-
 .../core/containerpool/ContainerProxy.scala        | 22 ++++++-
 docs/actions-new.md                                |  7 +-
 .../scala/actionContainers/ActionContainer.scala   |  5 +-
 .../actionContainers/BasicActionRunnerTests.scala  | 45 ++++++++++++-
 .../containerpool/test/ContainerPoolTests.scala    |  3 +-
 .../containerpool/test/ContainerProxyTests.scala   | 29 +++++++-
 .../core/controller/test/ActionsApiTests.scala     | 39 ++++++++++-
 .../controller/test/ControllerTestCommon.scala     |  6 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   | 77 +++++++++++++++++++---
 .../test/InvokerSupervisionTests.scala             |  3 +-
 .../test/ShardingContainerPoolBalancerTests.scala  |  3 +-
 tools/actionProxy/invoke.py                        | 12 +++-
 17 files changed, 284 insertions(+), 39 deletions(-)

commit 01a75cb57aa6069c6a8d6825fa880635b1f5e136
Author: David Podhola <david.podhola@naseukoly.cz>
Date:   Fri Aug 23 17:43:05 2019 +0200

    Update java kind to include the version number too (#4390)
    
    * As explained in https://github.com/apache/incubator-openwhisk-runtime-java/pull/80

 ansible/files/runtimes.json                                 |   2 +-
 core/controller/src/main/resources/apiv1swagger.json        |   2 +-
 tests/dat/actions/unicode.tests/{java.bin => java-8.bin}    | Bin
 .../org/apache/openwhisk/core/entity/test/ExecHelpers.scala |   2 +-
 .../org/apache/openwhisk/core/entity/test/ExecTests.scala   |   2 +-
 tests/src/test/scala/system/basic/WskUnicodeTests.scala     |  11 +++++------
 6 files changed, 9 insertions(+), 10 deletions(-)

commit 72549829b300ddf237f92aa4c90f7c7aff816540
Author: tysonnorris <tnorris@adobe.com>
Date:   Wed Aug 21 21:11:50 2019 -0700

    Add GB unit to ByteSize (#4589)

 .../scala/org/apache/openwhisk/core/entity/Size.scala | 19 +++++++++++++++++--
 1 file changed, 17 insertions(+), 2 deletions(-)

commit 74a4cfe8a369f83ba7959866132b2b91d67c2b41
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Aug 21 18:49:42 2019 +0530

    Update to Scala 2.12.9 (#4588)

 settings.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 92ac571646f7c46eb0b9a2f7d729b0c8d7433cbb
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Aug 16 11:09:19 2019 +0200

    Action container log collection does not wait for sentinel on developer error (#4582)
    
    * Use value definitions instead of literal values
    
    * Action container log collection does not wait for sentinel on developer error
    
    * So far, log collection for managed Docker action containers waits for sentinels - even if a developer error occurs. Only if an action exceeded its init or run timeout, sentinel waiting will be disabled.
    * This change disables sentinel waiting for all developer errors because a managed action runtime may not be able to write sentinels at all in developer error situations. With this change, missing sentinels are handled in a more robust way.
    * Without sentinel waiting, the Docker action container log file is only read until file end is reached. No re-reads are performed if the sentinel has not been found yet. On busy systems, this may lead to a few missing log lines in case of developer errors.
    
    * Add review feedback: reformat block comments
    
    * Fix ActionLimitsTests failure
    
    * Address review feedback
    
    * Improve error handling such that developer errors are no log collecting errors. Properly detect log collecting errors independently of developer errors.
    * Add unit test coverage for different error situations.
    
    * Address review feedback: add comments and centralize log collecting config

 .../logging/DockerToActivationFileLogStore.scala   | 10 +--
 .../logging/DockerToActivationLogStore.scala       | 97 +++++++++++++++++-----
 .../openwhisk/core/entity/ActivationResult.scala   | 11 +--
 .../org/apache/openwhisk/http/ErrorResponse.scala  |  2 +
 .../containerpool/docker/DockerContainer.scala     | 46 ++++++++--
 .../docker/test/DockerContainerTests.scala         |  2 +-
 .../test/DockerToActivationFileLogStoreTests.scala | 60 +++++++++++--
 .../test/DockerToActivationLogStoreTests.scala     | 83 +++++++++++++++++-
 .../openwhisk/core/limits/ActionLimitsTests.scala  |  2 +-
 9 files changed, 265 insertions(+), 48 deletions(-)

commit 1f3504faefafe5d6e7fd1c21790de3064d0e7d18
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Aug 16 01:49:17 2019 +0530

    Api Gateway support in OpenWhisk Standalone mode (#4571)
    
    Enables support for API Gateway in Standalone jar
    
    * Build and copy route management actions to standalone jar
    * Install route management packages on startup
    * Launches Redis and API Gateway Containers
    
    To enable calls to be routed from within the Api Gateway container to Controller (running out of container) we need to determine the ip address of host. This is handled depending on the host OS.

 core/standalone/README.md                          |  16 +-
 core/standalone/build.gradle                       |  52 ++++++
 core/standalone/src/main/resources/standalone.conf |  10 ++
 .../openwhisk/standalone/ApiGwLauncher.scala       | 139 ++++++++++++++++
 .../openwhisk/standalone/DockerVersion.scala       |  50 ++++++
 .../openwhisk/standalone/InstallRouteMgmt.scala    | 107 +++++++++++++
 .../openwhisk/standalone/PreFlightChecks.scala     |  44 +++++-
 .../openwhisk/standalone/ServerStartupCheck.scala  |  45 ++++++
 .../openwhisk/standalone/ServiceInfoLogger.scala   |  49 ++++++
 .../standalone/StandaloneDockerSupport.scala       | 176 +++++++++++++++++++++
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 126 ++++++++++++---
 .../openwhisk/standalone/DockerVersionTests.scala  |  43 +++++
 tests/build.gradle                                 |   5 +-
 .../standalone/StandaloneApiGwTests.scala          |  43 +++++
 .../standalone/StandaloneServerFixture.scala       |  33 ++--
 .../standalone/StandaloneServerTests.scala         |  20 +++
 tools/travis/runUnitTests.sh                       |   3 +
 17 files changed, 914 insertions(+), 47 deletions(-)

commit b5b88ece0ae08c87948796b38ab18e55ab4b70a7
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Aug 14 10:32:22 2019 -0400

    graduation: remove more incubator- references (#4581)
    
    * graduation: remove more incubator- references
    
    Remove almost all incubator- cross references to github repos,
    leaving only the subset of repos that have not yet been renamed.
    
    * remainder of repos renamed; finish the incubator- purge

 .github/ISSUE_TEMPLATE.md                          |   2 +-
 .github/PULL_REQUEST_TEMPLATE.md                   |   4 +-
 CREDITS.txt                                        |   2 +-
 README.md                                          |  20 ++--
 ansible/README.md                                  |  14 +--
 ansible/group_vars/all                             |   6 +-
 ansible/roles/nginx/templates/nginx.conf.j2        |   4 +-
 common/scala/src/main/resources/application.conf   |   2 +-
 .../openwhisk/core/controller/Controller.scala     |   2 +-
 core/cosmosdb/cache-invalidator/README.md          |   2 +-
 core/standalone/README.md                          |   4 +-
 docs/about.md                                      |   2 +-
 docs/actions-actionloop.md                         |  16 ++--
 docs/actions-docker.md                             |  22 ++---
 docs/actions-go.md                                 |   6 +-
 docs/actions-new.md                                |   4 +-
 docs/actions-php.md                                |   4 +-
 docs/actions.md                                    |   2 +-
 docs/apigateway.md                                 |   4 +-
 docs/catalog.md                                    |  26 +++---
 docs/dev/modules.md                                | 104 ++++++++++-----------
 docs/mobile_sdk.md                                 |   6 +-
 docs/samples.md                                    |   4 +-
 .../core/controller/test/ControllerApiTests.scala  |   2 +-
 tools/actionProxy/README.md                        |   6 +-
 tools/build/README.md                              |   2 +-
 tools/dev/README.md                                |  12 +--
 tools/dev/src/main/groovy/intellijRunConfig.groovy |   2 +-
 tools/dev/src/main/groovy/listRepos.groovy         |   2 +-
 tools/ow-utils/Dockerfile                          |   2 +-
 tools/owperf/README.md                             |   2 +-
 tools/travis/scan.sh                               |   4 +-
 tools/ubuntu-setup/README.md                       |   2 +-
 tools/vagrant/README.md                            |   4 +-
 34 files changed, 151 insertions(+), 151 deletions(-)

commit d9de97d6e3b01010a63ee88042febba3c2a3b068
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Aug 12 21:35:19 2019 +0530

    Update Gradle to 5.5 version (#4567)
    
    Updates Gradle to 5.5 to enable work with JDK 11. Along with that it also upgrades the scoverage plugin as the older version does not work with Gradle 5.
    
    Due to various changes in how scoverage works we needed to adapt the way how instrumented classes are included in test runs

 build.gradle                                 |   7 ++-
 common/scala/build.gradle                    |   2 -
 core/controller/build.gradle                 |   9 ++-
 core/cosmosdb/cache-invalidator/build.gradle |   7 ---
 core/invoker/build.gradle                    |   9 ++-
 core/standalone/build.gradle                 |   1 -
 gradle/docker.gradle                         |   4 +-
 gradle/wrapper/gradle-wrapper.jar            | Bin 54417 -> 55616 bytes
 gradle/wrapper/gradle-wrapper.properties     |   2 +-
 gradlew                                      |   2 +-
 gradlew.bat                                  |   2 +-
 settings.gradle                              |   7 ---
 tests/build.gradle                           |  85 ++++++++++++---------------
 tests/src/test/resources/logback-test.xml    |   1 +
 tools/admin/build.gradle                     |   1 -
 15 files changed, 56 insertions(+), 83 deletions(-)

commit 7f8d3fe68ae9528c5dc7a79165165ad914ce0856
Author: yihuaf <fang.yihua.eric@gmail.com>
Date:   Thu Aug 8 21:19:23 2019 -0700

    Remove configureOSSpecificOpts and move to standalone.conf (#4578)
    
    The setSysOps override the standalone.conf since standalone.conf is evaluated first. This makes it tricky to configure them via custom config files. Moving these options from code into
    standalone.conf, so a custom config files can potentially override them.

 core/standalone/src/main/resources/standalone.conf         |  9 +++++++++
 .../apache/openwhisk/standalone/StandaloneOpenWhisk.scala  | 14 --------------
 2 files changed, 9 insertions(+), 14 deletions(-)

commit 9bef49fcd47f7922e4226ff7a97385f1313f7d64
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Aug 7 11:22:17 2019 -0400

    KCF: propagate cf_ca_extraArgs_env_i into user containers (#4570)
    
    * KCF: propagate cf_ca_extraArgs_env_i into user containers
    
    Partial fix for #4569.
    
    Add logic to KubernetesContainerFactory to propagate the
    set of key=value pairs) from containerFactory.containerArgs.extraArgs.envN
    into the environment of all action containers.
    
    * review feedback: generalize by adding explicit extraEnvVars to conf.
    
    * restore testing of extra-args

 ansible/roles/invoker/tasks/deploy.yml             |  2 +-
 .../core/containerpool/ContainerFactory.scala      | 13 +++++++++++-
 .../core/mesos/MesosContainerFactory.scala         |  2 +-
 core/invoker/src/main/resources/application.conf   |  1 +
 .../docker/DockerContainerFactory.scala            |  2 +-
 .../kubernetes/KubernetesContainerFactory.scala    |  4 +++-
 .../docker/test/DockerContainerFactoryTests.scala  | 24 ++++++++++++++++++----
 .../mesos/test/MesosContainerFactoryTest.scala     |  2 ++
 .../yarn/test/YARNContainerFactoryTests.scala      |  1 +
 9 files changed, 42 insertions(+), 9 deletions(-)

commit 93f8ea1947dc8833e2154283db8fcb51f986e7cc
Author: steven0711dong <53186782+steven0711dong@users.noreply.github.com>
Date:   Tue Aug 6 10:13:12 2019 -0400

    update distDocker plugin import (#4575)
    
    * update distDocker plugin import
    
    * reverse
    
    * add ../../gradle/docker.gradle back
    
    * go back 3 levels and then find gradle folder

 core/cosmosdb/cache-invalidator/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ce45d54c824ef6c3e5d98ce0b220b924c81e688b
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jul 29 12:11:52 2019 +0530

    CosmosDB Cache Invalidation Service (#4314)
    
    Adds a new module to perform cache invalidation when running OpenWhisk with CosmosDB in multi region deployment mode. This service would ensure that changes made to whisk entities different OpenWhisk cluster are reflected in caches maintained by Controller

 common/scala/src/main/resources/logback.xml        |   1 +
 .../apache/openwhisk/common/ExecutorCloser.scala   |  44 ++++++++
 core/cosmosdb/cache-invalidator/.dockerignore      |   4 +
 core/cosmosdb/cache-invalidator/Dockerfile         |  34 ++++++
 core/cosmosdb/cache-invalidator/README.md          |  66 +++++++++++
 core/cosmosdb/cache-invalidator/build.gradle       |  55 ++++++++++
 core/cosmosdb/cache-invalidator/docker-compose.yml |  35 ++++++
 core/cosmosdb/cache-invalidator/init.sh            |  25 +++++
 .../src/main/resources/application.conf            |  24 ++++
 .../src/main/resources/reference.conf              |  57 ++++++++++
 .../src/main/resources/whisk-logback.xml           |  27 +++++
 .../database/cosmosdb/cache/CacheInvalidator.scala |  78 +++++++++++++
 .../cosmosdb/cache/CacheInvalidatorConfig.scala    |  73 ++++++++++++
 .../cosmosdb/cache/ChangeFeedListener.scala        |  77 +++++++++++++
 .../cosmosdb/cache/KafkaEventProducer.scala        |  69 ++++++++++++
 .../core/database/cosmosdb/cache/Main.scala        |  37 +++++++
 .../cosmosdb/cache/WhiskChangeEventObserver.scala  | 110 +++++++++++++++++++
 settings.gradle                                    |   1 +
 tests/build.gradle                                 |   8 +-
 tests/src/test/resources/logback-test.xml          |   6 +
 .../database/cosmosdb/CosmosDBTestSupport.scala    |   4 +-
 .../cosmosdb/cache/CacheInvalidatorTests.scala     | 122 +++++++++++++++++++++
 .../cache/WhiskChangeEventObserverTests.scala      |  83 ++++++++++++++
 23 files changed, 1036 insertions(+), 4 deletions(-)

commit 96667888ff197eb7fc1dd5f4e73538b07d848165
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu Jul 25 13:51:43 2019 -0500

    Adopt full ASF headers for all test files regardless of size (#4568)
    
    * Adopt full ASF headers for all test files regardless of size
    
    * restore empty.js as a zero byte file; no header

 tests/dat/actions/applicationError.js      | 18 ++++++++++++++++--
 tests/dat/actions/argCheck.js              | 18 ++++++++++++++++--
 tests/dat/actions/argsPrint.js             | 18 ++++++++++++++++--
 tests/dat/actions/asyncError.js            | 18 ++++++++++++++++--
 tests/dat/actions/cat.js                   | 18 ++++++++++++++++--
 tests/dat/actions/concurrent.js            | 18 ++++++++++++++++--
 tests/dat/actions/conductor.js             | 18 ++++++++++++++++--
 tests/dat/actions/corsHeaderMod.js         | 18 ++++++++++++++++--
 tests/dat/actions/countdown.js             | 18 ++++++++++++++++--
 tests/dat/actions/createRule.swift         | 18 ++++++++++++++++--
 tests/dat/actions/createTrigger.swift      | 18 ++++++++++++++++--
 tests/dat/actions/dosLogs.js               | 18 ++++++++++++++++--
 tests/dat/actions/echo-web-http.js         | 18 ++++++++++++++++--
 tests/dat/actions/echo.js                  | 18 ++++++++++++++++--
 tests/dat/actions/emptyJSONResult.js       | 18 ++++++++++++++++--
 tests/dat/actions/head.js                  | 18 ++++++++++++++++--
 tests/dat/actions/hello.js                 | 18 ++++++++++++++++--
 tests/dat/actions/hello.swift              | 18 ++++++++++++++++--
 tests/dat/actions/helloAsync.js            | 18 ++++++++++++++++--
 tests/dat/actions/helloContext.js          | 18 ++++++++++++++++--
 tests/dat/actions/helloDeadline.js         | 18 ++++++++++++++++--
 tests/dat/actions/helloOpenwhiskPackage.js | 18 ++++++++++++++++--
 tests/dat/actions/helloPromise.js          | 18 ++++++++++++++++--
 tests/dat/actions/httpGet.swift            | 18 ++++++++++++++++--
 tests/dat/actions/initexit.js              | 18 ++++++++++++++++--
 tests/dat/actions/initforever.js           | 18 ++++++++++++++++--
 tests/dat/actions/invoke.swift             | 18 ++++++++++++++++--
 tests/dat/actions/invokeNonBlocking.swift  | 18 ++++++++++++++++--
 tests/dat/actions/jsonStringWebAction.js   | 18 ++++++++++++++++--
 tests/dat/actions/log.js                   | 18 ++++++++++++++++--
 tests/dat/actions/loggingTimeout.js        | 18 ++++++++++++++++--
 tests/dat/actions/malformed.js             | 18 ++++++++++++++++--
 tests/dat/actions/malformed.py             | 18 ++++++++++++++++--
 tests/dat/actions/memoryWithGC.js          | 18 ++++++++++++++++--
 tests/dat/actions/multipleHeaders.js       | 18 ++++++++++++++++--
 tests/dat/actions/niam.js                  | 18 ++++++++++++++++--
 tests/dat/actions/niam.py                  | 18 ++++++++++++++++--
 tests/dat/actions/niam.swift               | 18 ++++++++++++++++--
 tests/dat/actions/openFiles.js             | 18 ++++++++++++++++--
 tests/dat/actions/ping.js                  | 18 ++++++++++++++++--
 tests/dat/actions/pngWeb.js                | 18 ++++++++++++++++--
 tests/dat/actions/printParams.js           | 18 ++++++++++++++++--
 tests/dat/actions/python-zip/__main__.py   | 19 +++++++++++++++++--
 tests/dat/actions/python-zip/greet.py      | 19 +++++++++++++++++--
 tests/dat/actions/runexception.js          | 18 ++++++++++++++++--
 tests/dat/actions/runexit.js               | 18 ++++++++++++++++--
 tests/dat/actions/sizedResult.js           | 18 ++++++++++++++++--
 tests/dat/actions/sleep.js                 | 18 ++++++++++++++++--
 tests/dat/actions/sleep.py                 | 23 +++++++++++++++++++----
 tests/dat/actions/sort.js                  | 18 ++++++++++++++++--
 tests/dat/actions/split.js                 | 18 ++++++++++++++++--
 tests/dat/actions/stdenv.py                | 18 ++++++++++++++++--
 tests/dat/actions/step.js                  | 18 ++++++++++++++++--
 tests/dat/actions/textBody.js              | 18 ++++++++++++++++--
 tests/dat/actions/trigger.swift            | 18 ++++++++++++++++--
 tests/dat/actions/wc.js                    | 18 ++++++++++++++++--
 tests/dat/actions/wcbin.js                 | 18 ++++++++++++++++--
 57 files changed, 917 insertions(+), 116 deletions(-)

commit e99911fdf0ea5908b2ed924141c167f72db203c1
Author: ningyougang <415622920@qq.com>
Date:   Thu Jul 25 16:08:05 2019 +0800

    Close the consumer when WakeupExcpetion happened (#4459)

 .../apache/openwhisk/connector/kafka/KafkaConsumerConnector.scala    | 5 +++++
 1 file changed, 5 insertions(+)

commit b0d3574aa07501b433c5d18dc93b640082e67e70
Author: Lin <ysjjovo@gmail.com>
Date:   Thu Jul 25 04:38:03 2019 +0800

    Delete pod when creating timeout (#4424)

 .../kubernetes/KubernetesClient.scala              | 52 +++++++++++-----------
 .../kubernetes/KubernetesContainer.scala           | 13 +++++-
 .../kubernetes/test/KubernetesClientTests.scala    |  4 ++
 .../kubernetes/test/KubernetesContainerTests.scala |  5 +--
 4 files changed, 45 insertions(+), 29 deletions(-)

commit 4a09c73bb391fcc8b3cf0ecd76ac7abad7fe849d
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue Jul 23 14:06:10 2019 -0500

    Remove Incubator(ing, tion) references and DISCLAIMER (#4566)

 CONTRIBUTING.md     | 2 +-
 DISCLAIMER.txt      | 1 -
 README.md           | 4 ----
 docs/README.md      | 2 +-
 docs/dev/modules.md | 2 +-
 5 files changed, 3 insertions(+), 8 deletions(-)

commit 5d022809ac1a84945ab16e0b5f70252b8786fd54
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jul 23 21:52:09 2019 +0530

    Disable MesosContainerFactory from subscribing after close (#4541)

 .../core/mesos/MesosContainerFactory.scala         |  9 ++-
 .../mesos/test/MesosContainerFactoryTest.scala     | 84 ++++++++++++----------
 2 files changed, 56 insertions(+), 37 deletions(-)

commit a87340bf72914a2710542511415a5a0a047db1fc
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Jul 23 08:30:51 2019 +0200

    Add more diagnostic information to completion ack processing (#4561)
    
    * Add more diagnostic information to completion ack processing
    
    Forced completion acks can be a source of overloaded invokers because forced acks free up invoker slots in the load balancer. If the invoker is just "late" with running an activation so that the invoker sends the result / completion ack after the completion ack timeout has been reached in the load balancer, the load balancer may send new activations to the invoker while it is still fully occupied. As a result, these new activations have to wait for a container and can cause forced completion acks in turn. This mechanism can lead to a never-ending chain reaction if an invoker has a constant stream of workload.
    
    Goal of this change is to improve visibility and diagnostic information so that this mechanism can be better understood and fixed in the next step.
    
    * Add metrics for forced completion acks.
    * Log more diagnostic information when forcing a completion ack due to timeout.
    * Log a warning if a completion ack arrives after it has already been forced - this is an indication that action processing took too long. Today, this situation is only logged as debug message.
    * Improve code comments.
    * Provide a function for calculating the completion ack timeout. In the long term, this should be unified with the action wait timeout in sequence activations.
    
    * Add metrics to documentation
    
    * Address review feedback
    
    Streamline implementation of `CompletionAckType` and sub-types to save boilerplate code. This should make the code more readable.
    
    * Address review feedback
    
    Use LogMarkerToken singletons when emitting metrics related to completion acks instead of creating LogMarkerToken instances whenever emitting a counter.
    
    * Address review feedback
    
    Only use curly braces for expressions in string interpolations where required to prevent IntelliJ warnings.
    
    * Address review feedback
    
    Make LogMarkerToken instances private.

 .../org/apache/openwhisk/common/Logging.scala      |  43 +++++++++
 .../core/loadBalancer/CommonLoadBalancer.scala     | 107 ++++++++++++++++-----
 .../ShardingContainerPoolBalancer.scala            |  15 ++-
 docs/metrics.md                                    |  14 ++-
 4 files changed, 152 insertions(+), 27 deletions(-)

commit bf63bb2c31e5907689655d226511cbb99126b734
Author: yihuaf <fang.yihua.eric@gmail.com>
Date:   Mon Jul 22 02:20:03 2019 -0700

    Bump docker python version to 4.0.2 (#4563)
    
    The docker python version is too old in the role. Latest docker-compose
    starts to crash due to the version being too old.

 ansible/roles/prereq/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 322d832857667a825ed4a3a0aa892a4a3fbce9f3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jul 11 14:56:04 2019 +0530

    Removed unused controller instances config (#4540)
    
    * Removed unused controller instances config

 ansible/roles/controller/tasks/deploy.yml                             | 1 -
 .../scala/src/main/scala/org/apache/openwhisk/core/WhiskConfig.scala  | 2 --
 .../main/scala/org/apache/openwhisk/core/controller/Controller.scala  | 3 +--
 tests/src/test/scala/common/WhiskProperties.java                      | 4 ++++
 tests/src/test/scala/ha/CacheInvalidationTests.scala                  | 3 +--
 tests/src/test/scala/ha/ShootComponentsTests.scala                    | 2 +-
 6 files changed, 7 insertions(+), 8 deletions(-)

commit ff8feb86957b3a9d0d7f221c0309664f9df30531
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Jul 10 11:29:58 2019 -0400

    gradlew licensing (#4552)
    
    * gradlew licensing
    
    Update gradlew[.bat] scripts from Gradle v5.5 release which
    have proper Apache license headers and add corresponding
    entry to LICENSE.txt.

 LICENSE.txt |  4 ++++
 gradlew     | 18 +++++++++++++++++-
 gradlew.bat | 18 +++++++++++++++++-
 3 files changed, 38 insertions(+), 2 deletions(-)

commit 9c428a3fbf50ff0af5f18f5f1bd2816efd8c479a
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed Jul 10 16:33:13 2019 +0200

    Lower minimum number of available file descriptors in action limit tests (#4553)

 .../org/apache/openwhisk/core/limits/ActionLimitsTests.scala  | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit b0d48c87816f2e7c04ad9b9f9b4844a6e064047f
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Jul 9 14:31:53 2019 +0200

    Add action timeout limit to invoker assignment message in load balancer / create singleton limits (#4537)
    
    * Add information whether the action memory / time limits are standard, i.e. default, or not.
    * Restructure message and shorten it to make log volume smaller despite adding information.
    * The code uses the term "scheduling an activation to an invoker". Change message to use this term.
    * Also add more information to message that indicates that an activation could not be scheduled to an invoker because no usable invokers are available. The additional information helps to identify which particular activation was affected.
    * Correct comment on permissible range for ConcurrencyLimit values.
    * Issue error instead of warn log entry if controller's invoker shard memory size is too low
    
    
    Co-authored-by: Sugandha Agrawal <sugandha.agrawal18@gmail.com>
    Co-authored-by: Rodric Rabbah <rodric@gmail.com>

 .../openwhisk/core/entity/ConcurrencyLimit.scala   | 19 +++---
 .../apache/openwhisk/core/entity/LogLimit.scala    | 20 ++++---
 .../apache/openwhisk/core/entity/MemoryLimit.scala | 16 +++--
 .../apache/openwhisk/core/entity/TimeLimit.scala   |  6 +-
 .../core/loadBalancer/InvokerSupervision.scala     |  2 +-
 .../ShardingContainerPoolBalancer.scala            | 24 +++++---
 .../openwhisk/core/invoker/InvokerReactive.scala   |  2 +-
 .../containerpool/test/ContainerPoolTests.scala    | 59 +++++++++---------
 .../core/controller/test/ActionsApiTests.scala     |  6 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   | 36 +++++------
 .../openwhisk/core/limits/ActionLimitsTests.scala  | 70 +++++++++++-----------
 .../openwhisk/core/limits/ConcurrencyTests.scala   |  4 +-
 .../test/ShardingContainerPoolBalancerTests.scala  | 18 +++---
 13 files changed, 157 insertions(+), 125 deletions(-)

commit 83319b0ffac2579efe9785bf9dd324c3043ce5e4
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jul 9 14:34:38 2019 +0530

    Package swagger docs as part of standalone jar (#4542)
    
    Package swagger docs as part of standalone jar and make swagger ui routes configurable such that it can serve content either from file system (when running within Docker) or from classpath when running in standalone mode

 .../org/apache/openwhisk/core/WhiskConfig.scala    |  1 +
 .../controller/src/main/resources/application.conf |  4 +++
 .../openwhisk/core/controller/RestAPIs.scala       |  5 +++-
 core/standalone/build.gradle                       | 30 ++++++++++++++++++++++
 core/standalone/src/main/resources/standalone.conf |  4 +++
 5 files changed, 43 insertions(+), 1 deletion(-)

commit ee33c22224515d0161b5b595b0d45dbc14164c6e
Author: Steffen Rost <srost@de.ibm.com>
Date:   Wed Jul 3 04:48:15 2019 +0200

    Handle deleted limits document for get operation the same way as missing limits document (#4535)

 tools/admin/wskadmin | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 28009982143eef1d3aeed2708506934640156f88
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Jul 3 02:19:37 2019 +0530

    Run Gradle install for Jenkins build to install Standalone jar (#4531)

 Jenkinsfile | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1146234f6cc64ae05f30b84d101bd1a17326607f
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jul 1 20:12:41 2019 -0400

    latest => nightly for apigateway image tag (#4534)

 ansible/group_vars/all | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eaec0035e9a1f5be5cd8c854ba7b20d46c6d6f4f
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jul 1 14:10:00 2019 -0400

    change Jenkins build to publish docker images with tag 'nightly' (#4533)

 tools/jenkins/apache/dockerhub.groovy | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 740a4bf17561edb920a5d57de18b583da5736d18
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Mon Jul 1 17:02:38 2019 +0200

    Allow actions to respond to HEAD requests (#4494)

 .../controller/src/main/resources/application.conf | 10 +++++++++
 tests/dat/actions/echo-web-http-head.js            | 23 +++++++++++++++++++
 .../core/cli/test/WskWebActionsTests.scala         | 26 ++++++++++++++++++++++
 3 files changed, 59 insertions(+)

commit fc38cc51741dc42ecf81453688e4b0439a71aca5
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jul 1 10:07:29 2019 -0400

    switch to `nightly` docker image tag for runtimes (#4529)
    
    * switch to `nightly` docker image tag for runtimes
    
    Master branch of OpenWhisk should default to using
    the most recent runtimes built from the master branch
    of the corresponding git repos. This image is now
    being published using the tag `nightly` instead of `latest`.
    The one exception is we will use 1.13.0-incubating for python2action
    because nightly build is disabled for python2action.

 ansible/files/runtimes-nodeonly.json |  8 ++++----
 ansible/files/runtimes.json          | 28 ++++++++++++++--------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 44ae87ea74286e08284c70a82f040cea04fa3608
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Thu Jun 27 00:35:40 2019 -0400

    Correct documentation relating to web action authentication.

 docs/webactions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 162a4608fa6280bb275136e1af9a9c08bd96023a
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Thu Jun 27 00:35:14 2019 -0400

    Fix var->val.

 .../main/scala/org/apache/openwhisk/core/controller/WebActions.scala    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfad4b17fd39197b9eb2b1d927509004d3ce5d67
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Wed Jun 26 19:57:04 2019 -0400

    Ignore route management artifacts from deployment.

 .gitignore                            | 11 +++++++++++
 core/routemgmt/createApi/package.json |  2 +-
 core/routemgmt/deleteApi/package.json |  2 +-
 core/routemgmt/getApi/package.json    |  2 +-
 4 files changed, 14 insertions(+), 3 deletions(-)

commit 235162e7f2533664507c1aba3c4837e634b09292
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sat Jun 29 12:10:24 2019 +0530

    Fix the install task for standalone by making it depend on bootJar (#4528)

 core/standalone/build.gradle | 5 +++++
 1 file changed, 5 insertions(+)

commit 2acedf5d281ef61cbe128b20799b85c75bf0a26b
Author: Martin Henke <martin.henke@web.de>
Date:   Sat Jun 29 06:18:32 2019 +0200

    Always reset WHISK_SERVER property after StandaloneServerTests (#4527)
    
    Only reset the whisk.server property when not defined externally

 .../org/apache/openwhisk/standalone/StandaloneServerFixture.scala   | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 2f0155fb750ce8b5eef6d5b0f4e2e2db40e5a037
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Jun 26 23:23:09 2019 +0530

    Openwhisk in a standalone runnable jar (#4516)
    
    A standalone controller, using the lean load balancer and an in memory store.
    
    * Use WhiskerControl port 3233 as default!
    * Allow disabling read of whisk.properties, required for test run to avoid launched server influenced by whisk.properties generated for the tests. Also ensure that a system property is only set if no existing value found. This ensures that in special case user can still supersede the value being set via explicitly providing a system property override.
    * Ensure that MemoryStore is only created when needed
    * Fetch logs via `docker logs` command on Mac
    * Add a OpenWhisk colored banner
    * Package the default runtimes.json
    * Include log timestamps and filter till sentinel
    * Use host.docker.internal as api host for Mac and Windows
    * Enable colored logging
    * Add support for --verbose flag to enable debug logging easily
    * Color transactionId and source also. Also support disabling color logging if needed
    * Expose extension point for format log message
    * Api host name is defined via system property
    * Add a set of pre flight checks to confirm if OpenWhisk can run properly on this host
    * Also check if docker is running
    * New StandaloneDockerContainerFactory which adapts as per OS
    * Only do pull for images having `openwhisk` prefix. For local image generally named `whisk/` no pull would be done
    * Add ./gradlew :core:standalone:bootRun command to run jar directly. Use Spring boot default bootRun target to run the jar. Also copy the jar to bin directory.
    * Make test run against standalone server
    * Support disabling pull of standard images all together. Required for test runs
    * Disable pause/resume support for non linux setups
    * Print the wsk and docker cli version
    * Update README with details on how to connect to db
    * Increase time allowed for server to start to 30 secs and log logs upon timeout failure
    * Enable verifySystemShutdown in Mesos tests

 .../scala/org/apache/openwhisk/common/Config.scala |  20 +-
 .../org/apache/openwhisk/common/Logging.scala      |   4 +-
 .../org/apache/openwhisk/core/WhiskConfig.scala    |  12 +-
 .../openwhisk/core/containerpool/Container.scala   |   2 +
 .../openwhisk/core/database/StoreUtils.scala       |  17 +-
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |   2 +-
 .../core/database/cosmosdb/CosmosDBUtil.scala      |  18 +-
 .../core/database/memory/MemoryArtifactStore.scala |  78 +++---
 .../apache/openwhisk/http/BasicHttpService.scala   |   4 +-
 core/controller/src/main/resources/reference.conf  |   1 +
 .../openwhisk/core/controller/Controller.scala     |  13 +-
 core/invoker/src/main/resources/application.conf   |   5 +
 .../containerpool/docker/DockerCliLogStore.scala   |  81 ++++++
 .../core/containerpool/docker/DockerClient.scala   |   4 +-
 .../docker/DockerContainerFactory.scala            |   2 +-
 .../docker/DockerForMacContainerFactory.scala      |  11 +-
 .../docker/StandaloneDockerContainerFactory.scala  | 114 +++++++++
 core/standalone/README.md                          | 193 +++++++++++++++
 core/standalone/build.gradle                       |  56 +++++
 .../src/main/resources/logback-standalone.xml      |  36 +++
 core/standalone/src/main/resources/standalone.conf |  71 ++++++
 .../openwhisk/standalone/LogbackConfigurator.scala |  89 +++++++
 .../openwhisk/standalone/PreFlightChecks.scala     | 140 +++++++++++
 .../openwhisk/standalone/StandaloneOpenWhisk.scala | 274 +++++++++++++++++++++
 settings.gradle                                    |   1 +
 tests/build.gradle                                 |  26 +-
 tests/src/test/scala/common/FreePortFinder.scala   |  33 +++
 tests/src/test/scala/common/WhiskProperties.java   |   2 +-
 .../mesos/test/MesosContainerFactoryTest.scala     |   2 +-
 .../memory/MemoryArtifactStoreBehaviorBase.scala   |   5 +
 .../memory/MemoryAttachmentStoreTests.scala        |   5 +
 .../s3/S3AttachmentStoreBehaviorBase.scala         |   7 +-
 .../test/behavior/ArtifactStoreCRUDBehaviors.scala |  14 ++
 .../standalone/StandaloneServerFixture.scala       | 147 +++++++++++
 .../standalone/StandaloneServerTests.scala         |  28 +++
 .../scala/system/basic/WskRestBasicTests.scala     |   2 +-
 tools/build/redo                                   |   8 +-
 tools/travis/distDocker.sh                         |   1 +
 38 files changed, 1441 insertions(+), 87 deletions(-)

commit aff144cae56d0c7b48eea4ea88ea54d3ef85040d
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed Jun 26 11:11:24 2019 +0200

    Log more diagnostic info when invoker / controller cluster status changes (#4520)
    
    Whenever invoker or controller cluster status changes, the ShardingContainerPoolBalancer updates its state. If a new invoker registers, it is added to the load balancer status with its user memory capacity and a book-keeping semaphor is created to be used for scheduling load. If the controller cluster size changes, all invoker book-keeping semaphors are updated to reflect the user memory shard size managed by each controller.
    
    This change logs more diagnostic information when the ShardingContainerPoolBalancer updates its state due to invoker or controller cluster size changes. The additional information helps with understanding how much user memory is available on invokers and is available on the controller's shard.

 .../ShardingContainerPoolBalancer.scala            | 33 +++++++++++++++++++---
 1 file changed, 29 insertions(+), 4 deletions(-)

commit 7d92be7d4179c2db9780c582329c075732220e39
Author: Cosmin Stanciu <selfxp@users.noreply.github.com>
Date:   Tue Jun 25 01:25:21 2019 -0700

    Change API call to Splunk to allow retrieval of large messages (#4519)
    
    Fixes #4518

 .../apache/openwhisk/core/containerpool/logging/SplunkLogStore.scala  | 4 ++--
 .../openwhisk/core/containerpool/logging/SplunkLogStoreTests.scala    | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 2fa8c5008358e8caa825ae1134585cc8f4dcc457
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Jun 19 14:17:30 2019 -0500

    Update Dockerfiles to full ASF license header (#4517)

 ansible/environments/docker-machine/group_vars/all | 18 +++++++++++++--
 .../jenkins/group_vars/openwhisk-vm1-he-de         | 18 +++++++++++++--
 .../jenkins/group_vars/openwhisk-vm2-he-de         | 18 +++++++++++++--
 .../jenkins/group_vars/openwhisk-vm3-he-de         | 18 +++++++++++++--
 ansible/environments/local/group_vars/all          | 18 +++++++++++++--
 ansible/environments/vagrant/group_vars/all        | 18 +++++++++++++--
 ansible/group_vars/all                             | 18 +++++++++++++--
 common/scala/Dockerfile                            | 18 +++++++++++++--
 core/controller/Dockerfile                         | 26 +++++++++++++++++-----
 core/controller/Dockerfile.cov                     | 18 +++++++++++++--
 core/invoker/Dockerfile                            | 26 +++++++++++++++++-----
 core/invoker/Dockerfile.cov                        | 20 ++++++++++++++---
 tools/actionProxy/Dockerfile                       | 18 +++++++++++++--
 tools/ow-utils/Dockerfile                          | 18 +++++++++++++--
 14 files changed, 233 insertions(+), 37 deletions(-)

commit ef8b06f499764d38b29c1a8095fba09836d666a1
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu Jun 13 07:04:30 2019 -0500

    Update all files using Mini license header to use full ASF header (#4512)
    
    * Update Ansible YAML playbooks to use full ASF header
    
    * Update remaining files to use full ASF header

 .scalafmt.conf                                        | 18 ++++++++++++++++--
 ansible/apigateway.yml                                | 18 ++++++++++++++++--
 ansible/controller.yml                                | 18 ++++++++++++++++--
 ansible/couchdb.yml                                   | 18 ++++++++++++++++--
 ansible/downloadcli.yml                               | 18 ++++++++++++++++--
 ansible/edge.yml                                      | 18 ++++++++++++++++--
 ansible/files/genssl.sh                               | 18 ++++++++++++++++--
 ansible/initdb.yml                                    | 18 ++++++++++++++++--
 ansible/invoker.yml                                   | 18 ++++++++++++++++--
 ansible/kafka.yml                                     | 18 ++++++++++++++++--
 ansible/logs.yml                                      | 18 ++++++++++++++++--
 ansible/openwhisk.yml                                 | 18 ++++++++++++++++--
 ansible/postdeploy.yml                                | 18 ++++++++++++++++--
 ansible/prereq.yml                                    | 18 ++++++++++++++++--
 ansible/properties.yml                                | 18 ++++++++++++++++--
 ansible/publish.yml                                   | 18 ++++++++++++++++--
 ansible/recreateDesignDocs.yml                        | 18 ++++++++++++++++--
 ansible/roles/apigateway/tasks/clean.yml              | 18 ++++++++++++++++--
 ansible/roles/apigateway/tasks/deploy.yml             | 18 ++++++++++++++++--
 ansible/roles/apigateway/tasks/main.yml               | 18 ++++++++++++++++--
 ansible/roles/cli-install/tasks/clean.yml             | 18 ++++++++++++++++--
 ansible/roles/cli-install/tasks/deploy.yml            | 18 ++++++++++++++++--
 ansible/roles/cli-install/tasks/main.yml              | 18 ++++++++++++++++--
 ansible/roles/cli/tasks/clean.yml                     | 18 ++++++++++++++++--
 ansible/roles/cli/tasks/deploy.yml                    | 18 ++++++++++++++++--
 ansible/roles/cli/tasks/main.yml                      | 18 ++++++++++++++++--
 ansible/roles/controller/tasks/clean.yml              | 18 ++++++++++++++++--
 ansible/roles/controller/tasks/deploy.yml             | 18 ++++++++++++++++--
 ansible/roles/controller/tasks/join_akka_cluster.yml  | 18 ++++++++++++++++--
 ansible/roles/controller/tasks/lean.yml               | 18 ++++++++++++++++--
 ansible/roles/controller/tasks/main.yml               | 18 ++++++++++++++++--
 ansible/roles/couchdb/tasks/clean.yml                 | 18 ++++++++++++++++--
 ansible/roles/couchdb/tasks/deploy.yml                | 18 ++++++++++++++++--
 ansible/roles/couchdb/tasks/main.yml                  | 18 ++++++++++++++++--
 ansible/roles/invoker/tasks/clean.yml                 | 18 ++++++++++++++++--
 ansible/roles/invoker/tasks/deploy.yml                | 18 ++++++++++++++++--
 ansible/roles/invoker/tasks/main.yml                  | 18 ++++++++++++++++--
 ansible/roles/kafka/tasks/clean.yml                   | 18 ++++++++++++++++--
 ansible/roles/kafka/tasks/deploy.yml                  | 18 ++++++++++++++++--
 ansible/roles/kafka/tasks/main.yml                    | 18 ++++++++++++++++--
 ansible/roles/nginx/tasks/clean.yml                   | 18 ++++++++++++++++--
 ansible/roles/nginx/tasks/deploy.yml                  | 18 ++++++++++++++++--
 ansible/roles/nginx/tasks/main.yml                    | 18 ++++++++++++++++--
 ansible/roles/prereq/tasks/clean.yml                  | 18 ++++++++++++++++--
 ansible/roles/prereq/tasks/deploy.yml                 | 18 ++++++++++++++++--
 ansible/roles/prereq/tasks/main.yml                   | 18 ++++++++++++++++--
 ansible/roles/redis/tasks/clean.yml                   | 18 ++++++++++++++++--
 ansible/roles/redis/tasks/deploy.yml                  | 18 ++++++++++++++++--
 ansible/roles/redis/tasks/main.yml                    | 18 ++++++++++++++++--
 ansible/roles/routemgmt/files/installRouteMgmt.sh     | 18 ++++++++++++++++--
 ansible/roles/routemgmt/files/uninstallRouteMgmt.sh   | 18 ++++++++++++++++--
 ansible/roles/routemgmt/tasks/clean.yml               | 18 ++++++++++++++++--
 ansible/roles/routemgmt/tasks/deploy.yml              | 18 ++++++++++++++++--
 ansible/roles/routemgmt/tasks/main.yml                | 18 ++++++++++++++++--
 ansible/roles/zookeeper/tasks/clean.yml               | 18 ++++++++++++++++--
 ansible/roles/zookeeper/tasks/deploy.yml              | 18 ++++++++++++++++--
 ansible/roles/zookeeper/tasks/main.yml                | 18 ++++++++++++++++--
 ansible/routemgmt.yml                                 | 18 ++++++++++++++++--
 ansible/setup.yml                                     | 18 ++++++++++++++++--
 ansible/tasks/db/checkDb.yml                          | 18 ++++++++++++++++--
 ansible/tasks/db/createUsers.yml                      | 18 ++++++++++++++++--
 ansible/tasks/db/grantPermissions.yml                 | 18 ++++++++++++++++--
 ansible/tasks/db/recreateDb.yml                       | 18 ++++++++++++++++--
 ansible/tasks/db/recreateDoc.yml                      | 18 ++++++++++++++++--
 ansible/tasks/docker_login.yml                        | 18 ++++++++++++++++--
 ansible/tasks/gen_erl_cookie.yml                      | 18 ++++++++++++++++--
 ansible/tasks/initdb.yml                              | 18 ++++++++++++++++--
 ansible/tasks/installOpenwhiskCatalog.yml             | 18 ++++++++++++++++--
 ansible/tasks/recreateViews.yml                       | 18 ++++++++++++++++--
 ansible/tasks/wipeDatabase.yml                        | 18 ++++++++++++++++--
 ansible/tasks/writeWhiskProperties.yml                | 18 ++++++++++++++++--
 ansible/teardown.yml                                  | 18 ++++++++++++++++--
 ansible/wipe.yml                                      | 18 ++++++++++++++++--
 ansible/yamllint.yml                                  | 18 ++++++++++++++++--
 common/scala/src/main/resources/application.conf      | 18 ++++++++++++++++--
 common/scala/src/main/resources/logging.conf          | 18 ++++++++++++++++--
 common/scala/src/main/resources/reference.conf        | 18 ++++++++++++++++--
 common/scala/src/main/resources/s3-reference.conf     | 18 ++++++++++++++++--
 core/controller/init.sh                               | 19 ++++++++++++++++---
 core/controller/src/main/resources/application.conf   | 18 ++++++++++++++++--
 core/controller/src/main/resources/reference.conf     | 18 ++++++++++++++++--
 core/invoker/init.sh                                  | 19 ++++++++++++++++---
 core/invoker/src/main/resources/application.conf      | 18 ++++++++++++++++--
 gradle/wrapper/gradle-wrapper.properties              | 18 ++++++++++++++++--
 tests/dat/apigw/local.api.bad.yaml                    | 18 ++++++++++++++++--
 tests/dat/apigw/local.api.yaml                        | 18 ++++++++++++++++--
 .../src/gatling/resources/data/nodeJSAction.js        | 18 ++++++++++++++++--
 .../src/gatling/resources/data/nodeJSAsyncAction.js   | 18 ++++++++++++++++--
 .../src/gatling/resources/data/pythonAction.py        | 18 ++++++++++++++++--
 .../src/gatling/resources/data/swiftAction.swift      | 18 ++++++++++++++++--
 tests/performance/preparation/actions/async.js        | 18 ++++++++++++++++--
 tests/performance/preparation/actions/noop.js         | 18 ++++++++++++++++--
 tools/admin/src/main/resources/application.conf       | 18 ++++++++++++++++--
 tools/eclipse/scala.properties                        | 18 ++++++++++++++++--
 94 files changed, 1504 insertions(+), 190 deletions(-)

commit 1113f2d435fefc433018075ed5985402a4e76fc1
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 10 23:27:24 2019 -0400

    Replace JsBoolean() with JsTrue/False. (#4508)

 .../main/scala/org/apache/openwhisk/core/controller/Actions.scala | 2 +-
 tests/src/test/scala/invokerShoot/ShootInvokerTests.scala         | 8 ++++----
 .../apache/openwhisk/core/cli/test/WskRestBasicUsageTests.scala   | 8 ++++----
 .../openwhisk/core/containerpool/test/ContainerProxyTests.scala   | 2 +-
 .../apache/openwhisk/core/controller/test/ActionsApiTests.scala   | 8 +++-----
 .../scala/org/apache/openwhisk/core/entity/test/SchemaTests.scala | 8 ++++----
 tests/src/test/scala/system/basic/WskConsoleTests.scala           | 2 +-
 tests/src/test/scala/system/basic/WskRestBasicTests.scala         | 8 +++-----
 8 files changed, 21 insertions(+), 25 deletions(-)

commit da61ad2593ee9473bef906cd1aa004efdb853861
Author: Martin Henke <martin.henke@de.ibm.com>
Date:   Tue Jun 11 05:26:44 2019 +0200

    Settle throttle before running the API GW Tests (#4496)
    
    * simplify throttle code
    
    * revert to original throttle algorithm
    
    * Make the waiting time to calm down the thottle explicit

 tests/src/test/scala/apigw/healthtests/ApiGwEndToEndTests.scala      | 5 +----
 .../scala/org/apache/openwhisk/core/cli/test/BaseApiGwTests.scala    | 5 +++++
 2 files changed, 6 insertions(+), 4 deletions(-)

commit e88257ea72dd4341726f50af72e8924fc1ddb966
Author: Sai kiran Krishna murthy <austin.kiran@gmail.com>
Date:   Wed Jun 5 18:15:27 2019 +0200

    Consolidated action annotations to a new singleton (#4499)

 .../apache/openwhisk/core/entity/Annotations.scala | 27 ++++++++++++++++++++++
 .../apache/openwhisk/core/entity/WhiskAction.scala |  8 +------
 .../apache/openwhisk/core/controller/Actions.scala |  6 ++---
 .../openwhisk/core/controller/WebActions.scala     | 10 ++++----
 .../core/containerpool/ContainerProxy.scala        |  2 +-
 .../scala/invokerShoot/ShootInvokerTests.scala     |  6 ++---
 .../core/cli/test/WskRestBasicUsageTests.scala     |  8 +++----
 .../containerpool/test/ContainerProxyTests.scala   |  3 +--
 .../core/controller/test/ActionsApiTests.scala     | 12 +++++-----
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 .../test/scala/system/basic/WskActionTests.scala   |  8 +++----
 .../test/scala/system/basic/WskConsoleTests.scala  |  5 ++--
 .../scala/system/basic/WskRestBasicTests.scala     |  8 +++----
 14 files changed, 63 insertions(+), 44 deletions(-)

commit d0f6ba5a0ad1d7a85afe8ea19c3188efc82de694
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jun 5 10:34:47 2019 -0400

    Remove default port on api host. (#4504)

 .../org/apache/openwhisk/core/WhiskConfig.scala      | 20 +++++++++++++-------
 tests/src/test/scala/common/WhiskProperties.java     |  7 ++++++-
 .../test/scala/common/rest/WskRestOperations.scala   |  2 +-
 .../docker/test/DockerContainerFactoryTests.scala    |  2 +-
 4 files changed, 21 insertions(+), 10 deletions(-)

commit f9112edff1575b757b78d166f0384f6c91aef3d9
Author: Iulian Dragos <jaguarul@gmail.com>
Date:   Tue Jun 4 22:06:50 2019 +0200

    Fix a few compilation accidents (#4505)
    
    * Add explicit return type on a few implicit values.
    
    Implicit values without an explicit return types are not guaranteed to work. They may or may not compile, depending on compilation order and they are going to be disallowed in future versions of Scala. This confuses IntelliJ as well.
    
    * Make Exec public since it's being used from tests.
    
    The call to Exec.isBinaryCode in ActionContainer.scala is from a different package and normally not visible at the call site. Due to scala/bug#11554 this may compile sometimes.

 .../src/main/scala/org/apache/openwhisk/core/entity/Exec.scala     | 2 +-
 .../main/scala/org/apache/openwhisk/core/entity/ExecManifest.scala | 7 ++++---
 .../scala/org/apache/openwhisk/core/entity/WhiskActivation.scala   | 2 +-
 .../src/main/scala/org/apache/openwhisk/http/ErrorResponse.scala   | 2 +-
 4 files changed, 7 insertions(+), 6 deletions(-)

commit 9d37fadcf4ba17d1056d2a58c6c7bf942c1dcfcc
Author: Chetan Mehrotra <chetanm@adobe.com>
Date:   Sat Jun 1 08:02:36 2019 +0530

    Use Instant with milli second precision (#4497)

 .../apache/openwhisk/common/TransactionId.scala    |  9 ++---
 .../apache/openwhisk/common/WhiskInstants.scala    | 39 ++++++++++++++++++++++
 tests/build.gradle                                 |  2 +-
 .../tests/AcknowledgementMessageTests.scala        | 10 +++---
 ...tifactWithFileStorageActivationStoreTests.scala | 13 ++++----
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |  5 +--
 .../test/behavior/ArtifactStoreCRUDBehaviors.scala |  4 +--
 .../core/entity/test/DatastoreTests.scala          | 27 ++++++++-------
 8 files changed, 74 insertions(+), 35 deletions(-)

commit aeabc3515eae4da0db523a78acadf984e5a9ba01
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri May 31 12:11:45 2019 +0530

    Update rest-assured to v4.0.0 (#4500)
    
    * Update to restassured v4.0 which is compatible with jdk11
    
    * Need to initialize both truststore and keystore for ssl cert to be validated

 tests/build.gradle                                               | 2 +-
 tests/src/test/scala/apigw/healthtests/ApiGwEndToEndTests.scala  | 2 +-
 .../org/apache/openwhisk/core/cli/test/WskWebActionsTests.scala  | 4 ++--
 .../openwhisk/core/controller/test/ControllerApiTests.scala      | 2 +-
 tests/src/test/scala/system/basic/WskSequenceTests.scala         | 2 +-
 tests/src/test/scala/system/basic/WskUnicodeTests.scala          | 2 +-
 tests/src/test/scala/system/rest/ActionSchemaTests.scala         | 2 +-
 tests/src/test/scala/system/rest/GoCLINginxTests.scala           | 2 +-
 tests/src/test/scala/system/rest/RestUtil.scala                  | 9 +++++----
 tests/src/test/scala/system/rest/SwaggerTests.scala              | 2 +-
 10 files changed, 15 insertions(+), 14 deletions(-)

commit 658516e6db1bf65ea4bd82e2b5e1ef10f69e0391
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed May 29 09:44:54 2019 +0530

    Track Kafka client side metrics via Kamon (#4481)
    
    Adds a configurable MetricsReporter to route Kafka metrics to Kamon once enabled. Set of metrics names which need to be captured needs to be explicitly configured

 common/scala/src/main/resources/application.conf   |  15 +++
 .../connector/kafka/KafkaConsumerConnector.scala   |   1 +
 .../connector/kafka/KamonMetricsReporter.scala     | 132 +++++++++++++++++++++
 3 files changed, 148 insertions(+)

commit 6fdc7ce93d7d54a9489ba45f0267e98f45a9c07e
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue May 28 20:05:12 2019 +0530

    Use `linesIterator` instead of String.lines (#4495)
    
    `lines` method is now defined as part of java.lang.String in JDK 11. So need to use `linesIterator` for right method to be picked

 .../openwhisk/core/containerpool/docker/DockerClient.scala   |  2 +-
 tests/src/test/scala/common/StreamLogging.scala              |  2 +-
 tests/src/test/scala/common/WskCliOperations.scala           |  2 +-
 .../org/apache/openwhisk/core/admin/WskAdminTests.scala      | 12 ++++++------
 .../openwhisk/core/controller/test/WebActionsApiTests.scala  |  2 +-
 .../openwhisk/core/database/test/ReplicatorTests.scala       |  4 ++--
 tests/src/test/scala/system/basic/WskRuleTests.scala         |  2 +-
 7 files changed, 13 insertions(+), 13 deletions(-)

commit 72c08a6bda7414f71bb38be5f17f60326edc84a0
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon May 27 17:03:28 2019 -0400

    Apache OpenWhisk logos as svg (#4493)

 docs/images/apache-openwhisk-stacked.svg | 1 +
 docs/images/apache-openwhisk-wide.svg    | 1 +
 2 files changed, 2 insertions(+)

commit 2e0c5624e4e479f13f565d266625425314eff4c0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu May 23 09:28:28 2019 +0530

    Track collection usage metrics for CosmosDB (#4490)
    
    Record collection usage stats for CosmosDB so as to enable tracking the growth of collection in  terms of storage size, document count and index size over the period of time. It also enables tracking any indexing progress if any change is done in Index configuration.
    
    Note that Count stats are currently not exposed via Azure Portal
    
    Further this commit also enables emitting verbose trace for query when in debug mode. This would simplify any query performance analysis.
    
    Fixes #4489

 common/scala/src/main/resources/application.conf   |  5 ++
 .../cosmosdb/CollectionResourceUsage.scala         | 71 ++++++++++++++++++++++
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 48 ++++++++++++++-
 .../core/database/cosmosdb/CosmosDBConfig.scala    |  3 +-
 .../cosmosdb/CollectionResourceUsageTests.scala    | 45 ++++++++++++++
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  9 +++
 6 files changed, 178 insertions(+), 3 deletions(-)

commit 1bf6e439d77bde9ea0ae3ab01907a7d1ac7da891
Author: Martin Henke <martin.henke@de.ibm.com>
Date:   Wed May 22 21:18:09 2019 +0200

    add quotes to avoid build brakes (#4491)

 tests/src/test/resources/application.conf.j2 | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 73732b4ace1fcce277a7a66d2e00ff7c6dddcca7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed May 22 14:00:32 2019 +0530

    Update to Alpakka S3 Connector v1.0 release (#4479)
    
    Updates to Alpakka S3 Connector v1.0.1 release.
    
    This commit also includes some fixes related to #4484 which were causing compatibility issues with existing setup. For existing setup indexes were still using `Hash` indexing and that caused failure while creating `IndexingPolicy` upon collection read. So added back support for `Hash` index but not using them to create new indexes now

 common/scala/build.gradle                          |  2 +-
 common/scala/src/main/resources/s3-reference.conf  |  2 +-
 .../core/database/cosmosdb/IndexingPolicy.scala    |  3 +
 .../core/database/s3/S3AttachmentStore.scala       | 91 +++++++++++-----------
 .../database/cosmosdb/CosmosDBSupportTests.scala   |  9 +--
 5 files changed, 54 insertions(+), 53 deletions(-)

commit ed08ed164bb3eca38f5cdd3549fc6097d2532707
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue May 21 22:38:27 2019 +0530

    Switch to consistent indexing policy for CosmosDB (#4484)
    
    * Switch to consistent indexing policy
    * Remove reference to Range index
    * Tweak indexing policy comparison to only check for included and excluded path
    Do not check for Index type as now there is only one which is Range for our cases
    * Use implicit logger
    * Excluding root path should be using `/*` instead of `/`

 .../core/database/cosmosdb/CosmosDBSupport.scala   | 25 +++++++--------
 .../database/cosmosdb/CosmosDBViewMapper.scala     | 26 ++++++++--------
 .../core/database/cosmosdb/IndexingPolicy.scala    | 27 +++++-----------
 .../database/cosmosdb/IndexingPolicyTests.scala    | 36 +++++-----------------
 4 files changed, 41 insertions(+), 73 deletions(-)

commit fd5d06bc6f4a0e0a76620165db52759bb13028ad
Author: Neeraj Mangal <neerajmangal@users.noreply.github.com>
Date:   Tue May 21 22:06:58 2019 +0530

    Invoker agent failed to pull docker images if using docker registry name (#4488)
    
    Add `pip install docker` to Dockerfile for ow-utils to fix problem pulling docker images

 tools/ow-utils/Dockerfile | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 55d975fddd7f0f637715cb4b5b745a6cdbdbea44
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Mon May 20 22:58:23 2019 +0300

    Fixing Jenkins Lean Openwhisk test (#4482)

 Jenkinsfile | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit d353d26cb44ae8c99988465123b6c8e5567b3fc1
Author: Dominic Kim <style9595@gmail.com>
Date:   Thu May 16 00:02:16 2019 +0900

    Update docker client version to 18.06.3 (#4430)
    
    * Update docker version in the controller and guides
    * Update travis configuration to install docker=18.06.3
    * Separate docker installation from the travis setup script
    * Add docker setup script
    * Add CoordinatedShutdown to cleanup runtime containers
    * add a configuration for root runc dir
    * Disable runc use in Jenkins environment
    * Add comments which explain the correlation among the version docker and runc and the type of user
    * Reenable Docker remote API again

 .travis.yml                                        |  1 +
 .../jenkins/group_vars/openwhisk-vm1-he-de         |  1 +
 .../jenkins/group_vars/openwhisk-vm2-he-de         |  1 +
 .../jenkins/group_vars/openwhisk-vm3-he-de         |  1 +
 ansible/group_vars/all                             |  1 +
 ansible/roles/invoker/tasks/clean.yml              |  4 +-
 ansible/roles/invoker/tasks/deploy.yml             | 13 ++++++-
 core/controller/Dockerfile                         | 21 ++++++-----
 core/invoker/Dockerfile                            | 23 ++++++-----
 .../openwhisk/core/invoker/InvokerReactive.scala   | 10 ++++-
 tools/macos/README.md                              | 16 ++++----
 tools/macos/docker-machine/README.md               | 33 ++++++++--------
 tools/travis/docker.sh                             | 44 ++++++++++++++++++++++
 tools/travis/setup.sh                              | 12 ------
 tools/ubuntu-setup/docker.sh                       | 21 ++++++-----
 15 files changed, 134 insertions(+), 68 deletions(-)

commit 541709d9d2f72c01630ade5be6299ea23bed5eaf
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Wed May 15 18:00:59 2019 +0300

    Adding Lean Openwhisk test to Jenkins (#4480)

 Jenkinsfile | 27 ++++++++++++++++++++++-----
 1 file changed, 22 insertions(+), 5 deletions(-)

commit 8650f36aeaf4c764d34fe668f5f0af532319cf39
Author: 김건희 <kimkh6554@gmail.com>
Date:   Thu May 16 00:00:42 2019 +0900

    Limit the minimum to the cpu-share value (#4477)

 .../org/apache/openwhisk/core/containerpool/ContainerFactory.scala    | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ae9ff6ac7e352f98883a4c0418172b0aa76d8f9b
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Wed May 15 17:14:24 2019 +0300

    Update LeanBalancer for invoke SPI change (#4478)

 .../org/apache/openwhisk/core/loadBalancer/LeanBalancer.scala      | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit 4df3d099f0892974a6761dd7412accb662b42158
Author: James Thomas <james@jamesthom.as>
Date:   Wed May 15 10:32:32 2019 +0100

    Updating runtimes to include new Node.js v12 image. (#4472)
    
    * Updating runtimes to include new Node.js v12 image.
    
    - Updated runtimes manifest
    - Added API documentation
    - Minor updates to docs
    - Added automated test case
    
    * Fixing accidental default flag for v12

 ansible/files/runtimes.json                          | 14 ++++++++++++++
 core/controller/src/main/resources/apiv1swagger.json |  1 +
 docs/actions-nodejs.md                               | 11 +++++++++--
 docs/concurrency.md                                  |  2 +-
 tests/dat/actions/unicode.tests/nodejs-12.txt        |  8 ++++++++
 5 files changed, 33 insertions(+), 3 deletions(-)

commit 4740d403da74efa5e5a42de015c4dac88ce05281
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Mon May 13 15:01:31 2019 -0500

    Additional cleanup and simplifications for the ActionLoop docs (#4475)
    
    * Additional cleanup and simplifications for the ActionLoop docs
    
    * Additional cleanup and simplifications for the ActionLoop docs

 docs/actions-actionloop.md | 262 +++++++++++++++++++++++----------------------
 1 file changed, 132 insertions(+), 130 deletions(-)

commit e7ad4a238fdce87b72e822f425456c2f626073f2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon May 13 23:24:38 2019 +0530

    Update version for Akka dependencies and Scala (#4316)

 common/scala/build.gradle                          | 43 ++++++++++++++--------
 common/scala/src/main/resources/application.conf   |  3 ++
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  2 +-
 .../apache/openwhisk/http/PoolingRestClient.scala  | 11 ++++--
 settings.gradle                                    |  5 ++-
 tests/build.gradle                                 |  4 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 7 files changed, 47 insertions(+), 23 deletions(-)

commit 7a304c195ef9153616e4f61e79c922afced3fd36
Author: Seonghyun, Oh <oh.seonghyun@navercorp.com>
Date:   Mon May 13 10:15:05 2019 +0900

    Add `binding` annotation to record an action path not resolved (#4211)
    
    * Add origin path
    
    * Update document
    
    * Apply review
    
    * Update annotations and add a type decorator
    
    * Refactor code
    
    * Fix testcase
    
    * Reformat code
    
    * Refactor code
    
    * Remove unused code

 .../core/entity/FullyQualifiedEntityName.scala     |  8 ++-
 .../apache/openwhisk/core/entity/WhiskAction.scala | 47 +++++++++++----
 .../openwhisk/core/entity/WhiskActivation.scala    |  1 +
 .../apache/openwhisk/core/controller/Actions.scala | 61 ++++---------------
 .../core/controller/actions/PrimitiveActions.scala |  8 ++-
 .../core/controller/actions/SequenceActions.scala  |  7 ++-
 .../core/containerpool/ContainerProxy.scala        |  5 +-
 docs/annotations.md                                |  1 +
 .../scala/system/basic/WskConductorTests.scala     | 70 ++++++++++++++++++++++
 .../test/scala/system/basic/WskPackageTests.scala  | 57 ++++++++++++++++++
 .../test/scala/system/basic/WskSequenceTests.scala | 49 +++++++++++++++
 11 files changed, 249 insertions(+), 65 deletions(-)

commit 6f4d1854813f2cc6e39d16dc7b1e9525f7b5e20e
Author: Martin Henke <martin.henke@de.ibm.com>
Date:   Thu May 9 07:28:08 2019 +0200

    Adjust error handling in the Cloudant Rest Store (#4325)
    
    * correct inconsistent error handling in the couchdb rest store
    
    * remove duplicate metrics by making exceptions distinguishable

 .../core/database/ArtifactStoreExceptions.scala        |  6 ++++++
 .../openwhisk/core/database/CouchDbRestStore.scala     | 18 +++++++++---------
 2 files changed, 15 insertions(+), 9 deletions(-)

commit d2bdcdab157ac45b938ab6086a80bad694b8d0fa
Author: Lars Andersson <larandersson@users.noreply.github.com>
Date:   Thu May 9 07:08:27 2019 +0200

    Honor skip and limit aparameters in action /whisk.system/apimgmt/getApi (#4295)

 core/routemgmt/common/apigw-utils.js | 4 ++--
 core/routemgmt/getApi/getApi.js      | 4 +++-
 2 files changed, 5 insertions(+), 3 deletions(-)

commit b814c4285ddff1730f7af8a45d4d9d496fbc30d2
Author: Harshita Gupta <Harshita.music@gmail.com>
Date:   Thu May 9 01:02:40 2019 -0400

    ubuntu installation guide change (#4463)
    
    Suggested workaround for Java related error that may appear on ubuntu 14.

 tools/ubuntu-setup/README.md | 1 +
 1 file changed, 1 insertion(+)

commit e9583fd2e3a48ea211d976deeb13b3019866310e
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed May 8 17:52:59 2019 -0500

    Touch-up Action loop markdown adjusting grammar/flow (#4469)
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * Touch-up pass on ActionLoop docs.
    
    * complete update of launcher xlate to ruby instructions
    
    * complete update of launcher xlate to ruby instructions

 docs/actions-actionloop.md | 213 +++++++++++++++++++++++++--------------------
 1 file changed, 120 insertions(+), 93 deletions(-)

commit 95afbb32aef61f8d278ee142d1cea7cead96a0ff
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue May 7 22:29:24 2019 -0400

    switch stemcells from nodejs:6 to nodejs:10 (#4471)
    
    If we are switching the default runtime to nodejs:10,
    we should change the default stemcell configuration to match.

 ansible/files/runtimes.json | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit c68fc94212009d3a5cd98d6ea7e06482272c487b
Author: James Thomas <james@jamesthom.as>
Date:   Tue May 7 10:54:52 2019 +0100

    Changing default Node.js version to 10 (#4466)
    
    Fixes #4265

 ansible/files/runtimes.json |  4 ++--
 docs/actions-nodejs.md      | 10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 65bc5ffca13079ce60f4b3e16bd252e2ed5bcfaf
Author: falkzoll <falkzoll@de.ibm.com>
Date:   Tue May 7 11:51:55 2019 +0200

    Fix test cases to work with nodejs:10 as default nodejs runtime. (#4450)

 tests/dat/actions/openFiles.js                     |   2 +-
 .../scala/invokerShoot/ShootInvokerTests.scala     |  20 ++-
 .../core/cli/test/WskRestBasicUsageTests.scala     |  53 ++++--
 .../openwhisk/core/limits/ActionLimitsTests.scala  |   2 +-
 .../test/scala/system/basic/WskActionTests.scala   |  21 ++-
 .../scala/system/basic/WskRestBasicTests.scala     | 198 +++++++++++++--------
 6 files changed, 202 insertions(+), 94 deletions(-)

commit 2e36d3667fb5132469ba72ba760bb42cd0c70896
Author: Michele Sciabarra <30654959+sciabarracom@users.noreply.github.com>
Date:   Thu May 2 16:12:44 2019 +0200

    Actionloop docs (#4446)
    
    * actionloop docs
    
    * license
    
    * fixes

 README.md                  |   1 +
 docs/actions-actionloop.md | 776 +++++++++++++++++++++++++++++++++++++++++++++
 docs/actions.md            |   7 +
 3 files changed, 784 insertions(+)

commit 6982f460c293214928f4b62b2572d6bd83d61a4e
Author: Dominic Kim <dominic.kim@navercorp.com>
Date:   Thu May 2 12:05:20 2019 +0900

    Add SPI for invoker (#4453)

 common/scala/src/main/resources/reference.conf     |  2 +
 .../apache/openwhisk/core/invoker/Invoker.scala    | 57 ++++++++++++++++------
 .../openwhisk/core/invoker/InvokerReactive.scala   | 30 +++++++++---
 3 files changed, 65 insertions(+), 24 deletions(-)

commit 3ef152564f53eb01049a6054da3914a2c0a88237
Author: axiqia <axiqia@qq.com>
Date:   Fri Apr 26 09:12:27 2019 -0500

    make wskadmin python2 and python3 compatible (#4457)

 tools/admin/wskadmin | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 5a2bf810dc5fda2f0d184c022e5931ac65de9721
Author: Simon MacDonald <simon.macdonald@gmail.com>
Date:   Tue Apr 23 12:09:02 2019 -0400

    Remove ibmcloud specific command (#4454)
    
    Great job on the updated docs but I think we should remove the `ibmcloud` part from the commands as we should remain vendor agnostic.

 docs/actions-nodejs.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a408201a1afac72785d96d10ecbf3e114783c5e
Author: James Thomas <jthomas.uk@gmail.com>
Date:   Tue Apr 23 11:41:43 2019 +0100

    Updating Node.js and Docker docs. (#4451)
    
    * Updating Node.js and Docker docs.
    
    Adding common use-case instructions based on community feedback.
    
    * Fixing scancode issues

 docs/actions-docker.md | 435 +++++++++++++++++++++++++++++++++----------------
 docs/actions-nodejs.md | 317 ++++++++++++++++++++++++-----------
 2 files changed, 515 insertions(+), 237 deletions(-)

commit 603b0a6d0dfb4d1b2549e334c8fe9c752e442827
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Mon Apr 22 21:30:12 2019 +0800

    Shutdown actorSystem when tests are finished (#4452)

 .../containerpool/logging/ElasticSearchLogStoreTests.scala |  8 +++++++-
 .../logging/ElasticSearchRestClientTests.scala             | 12 +++++++-----
 .../containerpool/logging/LogDriverLogStoreTests.scala     | 14 +++++++++++---
 .../core/containerpool/logging/SplunkLogStoreTests.scala   |  8 +++++++-
 .../mesos/test/MesosContainerFactoryTest.scala             | 13 +++++++++----
 .../ArtifactWithFileStorageActivationStoreTests.scala      |  9 ++++++++-
 .../org/apache/openwhisk/http/PoolingRestClientTests.scala | 12 +++++++-----
 7 files changed, 56 insertions(+), 20 deletions(-)

commit 7ecae176c4c02fa789cee644dc24eee1317c0256
Author: Lin <ysjjovo@gmail.com>
Date:   Wed Apr 17 04:02:12 2019 +0800

    fix metric name suffix 'count' to 'counter' (#4448)

 docs/metrics.md | 30 +++++++++++++++---------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 8d41b39dba3ea5c6e3e795c547051ba00f6bd8a5
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Apr 16 01:50:38 2019 +0530

    Enable attachment reads from CloudFront (#4392)
    
    * Enable attachment reads from CloudFront

 common/scala/build.gradle                          |  1 +
 common/scala/src/main/resources/s3-reference.conf  | 16 +++++
 .../core/database/s3/CloudFrontSigner.scala        | 54 +++++++++++++++
 .../core/database/s3/S3AttachmentStore.scala       | 77 +++++++++++++++++----
 .../core/database/s3/CloudFrontSignerTests.scala   | 78 ++++++++++++++++++++++
 .../s3/S3AttachmentStoreCloudFrontTests.scala      | 47 +++++++++++++
 .../apache/openwhisk/core/database/s3/S3Aws.scala  | 12 ++--
 .../database/test/AttachmentStoreBehaviors.scala   | 16 +++--
 8 files changed, 278 insertions(+), 23 deletions(-)

commit 865fcf7f29fbd51d65f8273953cd6f9d56722d03
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Apr 15 11:00:13 2019 -0700

    prevent deletion of other s3 bucket keys on doc delete (#4437)

 .../core/database/cosmosdb/CosmosDBArtifactStore.scala  |  2 +-
 .../openwhisk/core/database/s3/S3AttachmentStore.scala  | 17 +++++++++++++----
 .../core/database/test/AttachmentStoreBehaviors.scala   | 13 +++++++++++++
 3 files changed, 27 insertions(+), 5 deletions(-)

commit 0ebe7483cc092f60440fcf124222d64ecbc6fcf7
Author: Somaya Jamil <somaya10@gmail.com>
Date:   Thu Apr 11 21:44:29 2019 +0200

    Add apk update and upgrade to deal with vulnerabilities (#4441)

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9dacce433cfdd64aa1e4f5c8eab6db31df8c4eae
Author: Avi Weit <weit@il.ibm.com>
Date:   Tue Apr 9 18:55:20 2019 +0300

    Fix readme typo (#4425)

 docs/actions-new.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbef71f193d3f2b7aa0a1edb048aa35e77d56e77
Author: Lim Chee Hau <ch33hau@gmail.com>
Date:   Tue Apr 9 17:13:18 2019 +0200

    Update parameter names in doc (#4434)

 .../scala/org/apache/openwhisk/core/entitlement/Collection.scala     | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 9ef3975419cf68dc3dc7fa6cc0db47d69dbcc2f8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Apr 5 18:03:02 2019 +0530

    Use static metric names when tag support is enabled (#4407)

 .../org/apache/openwhisk/common/Logging.scala      | 46 +++++++++++++++++-----
 1 file changed, 37 insertions(+), 9 deletions(-)

commit 30a1bd7b38ebb73c8e52467de1d0cb4bd239b02a
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Apr 4 14:24:08 2019 -0400

    Bump default nginx version from 1.13 to 1.15 (#4429)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfda2d1715796751772d5ca78c1a7f32eb2063ec
Author: Steffen Rost <srost@de.ibm.com>
Date:   Thu Apr 4 10:53:17 2019 +0000

    Add detailed error/reason to status code. (#4403)
    
    Co-authored-by: Sugandha Agrawal <sugandha.agrawal18@gmail.com>

 .../scala/org/apache/openwhisk/http/PoolingRestClient.scala | 13 ++++++++++---
 .../org/apache/openwhisk/http/PoolingRestClientTests.scala  |  7 +++++--
 2 files changed, 15 insertions(+), 5 deletions(-)

commit bd7d847ae26475dff4561717141765479cbc33ec
Author: Song Kun <songkun.fp@gmail.com>
Date:   Wed Apr 3 16:28:26 2019 +0800

    Replace JsBoolean with JsTrue and JsFalse. (#4427)

 .../openwhisk/core/entity/WhiskPackage.scala       |  2 +-
 .../core/controller/actions/PrimitiveActions.scala |  2 +-
 .../actionContainers/BasicActionRunnerTests.scala  |  2 +-
 .../openwhisk/core/cli/test/TestJsonArgs.scala     | 18 +++++++---------
 .../core/controller/test/ActionsApiTests.scala     |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  | 20 +++++++++---------
 .../openwhisk/core/entity/test/SchemaTests.scala   |  4 ++--
 .../scala/system/basic/WskRestBasicTests.scala     | 24 +++++++++++-----------
 8 files changed, 35 insertions(+), 39 deletions(-)

commit 3523d41a66c11ae00b4b9c0f6b829f3700b60e9c
Author: Martin Henke <martin.henke@web.de>
Date:   Wed Apr 3 09:13:44 2019 +0200

    Transform array to set before comparison to make test robust (#4423)

 .../openwhisk/core/cli/test/WskRestBasicUsageTests.scala     | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 321b3d9f74d9a5ac7913003721ef6493bf0db042
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Apr 3 11:17:26 2019 +0900

    Enable couchdb persist_path in a distributed environment as well (#4290)
    
    * Skip clustering when nodes are already in the cluster
    * Enable couchdb persist_path for a distributed environment as well

 ansible/roles/couchdb/tasks/deploy.yml | 50 ++++++++++++++++++++++++++++++++--
 1 file changed, 47 insertions(+), 3 deletions(-)

commit bb01428bca92f1f0dc2b4b8a710be52de1d6ba47
Author: Erez Hadad <erezh@il.ibm.com>
Date:   Wed Apr 3 05:08:07 2019 +0300

    Add owperf as a performance evaluation tool for OpenWhisk (#4320)

 tools/owperf/README.md       | 101 +++++
 tools/owperf/owperf.js       | 865 +++++++++++++++++++++++++++++++++++++++++++
 tools/owperf/owperf.sh       |  22 ++
 tools/owperf/owperf_data.odg | Bin 0 -> 17721 bytes
 tools/owperf/owperf_data.png | Bin 0 -> 171488 bytes
 tools/owperf/package.json    |  24 ++
 tools/owperf/setup.sh        |  81 ++++
 tools/owperf/testAction.js   |  41 ++
 8 files changed, 1134 insertions(+)

commit 6453def3a8fe71a0cfdeade056ecedad4bad93b5
Author: Lin <ysjjovo@gmail.com>
Date:   Tue Apr 2 19:33:53 2019 +0800

    Turn method 'remove' into tail recursive. (#4421)

 .../apache/openwhisk/core/containerpool/ContainerPool.scala   | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit af96c510e358564fa49e49307990fe811bef91f0
Author: Martin Henke <martin.henke@web.de>
Date:   Mon Apr 1 15:07:26 2019 +0200

    Make tests working in case the "provide-api-key" feature is disabled. (#4387)

 ansible/group_vars/all                             |  2 +
 ansible/roles/controller/tasks/deploy.yml          |  2 +
 ansible/templates/whisk.properties.j2              |  3 +-
 tests/src/test/resources/application.conf.j2       |  3 +
 tests/src/test/scala/common/WhiskProperties.java   | 13 ++-
 .../core/cli/test/WskRestBasicUsageTests.scala     | 45 ++++++----
 .../controller/test/ControllerTestCommon.scala     |  6 +-
 .../test/scala/system/basic/WskActionTests.scala   | 21 +++--
 .../scala/system/basic/WskRestBasicTests.scala     | 98 +++++++++++++++++-----
 9 files changed, 143 insertions(+), 50 deletions(-)

commit 0c869bb4d6b82b28d2fcf9325c2dc51207ce3a95
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 29 23:38:16 2019 -0400

    Fix path. (#4416)

 LICENSE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ec03a3557c112d9d12b20870ab39b7bc8053eea
Author: Vincent <shou@us.ibm.com>
Date:   Thu Mar 28 21:15:54 2019 -0400

    Fix the test report issue, so all the test result is posted (#4404)

 Jenkinsfile                                        | 146 ++++-----
 tests/build.gradle                                 |  17 +-
 .../scala/invokerShoot/ShootInvokerTests.scala     | 340 +++++++++++++++++++++
 3 files changed, 432 insertions(+), 71 deletions(-)

commit 13f542f5df02661c2b9ccd08b95e7bc33e8aad0e
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Thu Mar 28 10:02:52 2019 +0100

    Replace count suffix with counter (#4395)
    
    Due to Graphite convention metric names ending with `count` are aggregated with max which is not desirable in some cases. So change the name to use a neutral suffix

 .../org/apache/openwhisk/common/Logging.scala      | 55 ++++++++++++----------
 .../apache/openwhisk/http/BasicHttpService.scala   |  2 +-
 docs/metrics.md                                    | 14 +++---
 3 files changed, 37 insertions(+), 34 deletions(-)

commit 57f369722dad760c2b79998c691c543170eb66e0
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Mar 27 10:16:45 2019 -0400

    Conform to scancode. (#4399)

 tests/build.gradle                | 2 +-
 tests/dat/actions/memoryWithGC.js | 3 ++-
 tools/ow-utils/build.gradle       | 3 ++-
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 29d0d5d922d13e662c20b6bec129ade6d30d0140
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Mar 27 10:46:59 2019 +0530

    Update the OpenWhisk module list (#4384)

 docs/dev/modules.md                              | 25 ++++++++++++++----------
 tools/dev/src/main/groovy/CategoryManager.groovy |  2 +-
 2 files changed, 16 insertions(+), 11 deletions(-)

commit 20ba52ea576b7a33ca61d82609b597194843f941
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Mar 27 10:44:32 2019 +0530

    Use https endpoint for alpine packages (#4394)

 common/scala/Dockerfile | 2 ++
 1 file changed, 2 insertions(+)

commit eab1ba587c2faaf46530b2dd9948c0cd1959a213
Author: Vincent <shou@us.ibm.com>
Date:   Tue Mar 26 23:06:43 2019 -0400

    Add the test to verify the scenario when one invoker is stopped (#4396)

 Jenkinsfile                                        | 35 +++++++++++++++++++---
 .../jenkins/group_vars/openwhisk-vm1-he-de         |  2 ++
 .../jenkins/group_vars/openwhisk-vm2-he-de         |  2 ++
 .../jenkins/group_vars/openwhisk-vm3-he-de         |  2 ++
 4 files changed, 37 insertions(+), 4 deletions(-)

commit aad27bed182f709fd7d25bc7a01f7e0fe985b027
Author: Vincent <shou@us.ibm.com>
Date:   Tue Mar 26 09:08:32 2019 -0400

    Improve the efficiency of Jenkins pipeline (#4391)
    
    This PR will utilize three VMs as the edge machines, so that we can run 3
    openwhisk depoyments at the same time instead of one.

 Jenkinsfile                                        | 98 +++++++++++++---------
 .../group_vars/{all => openwhisk-vm1-he-de}        |  0
 .../jenkins/group_vars/openwhisk-vm2-he-de         | 37 ++++++++
 .../jenkins/group_vars/openwhisk-vm3-he-de         | 36 ++++++++
 .../{hosts.j2.ini => openwhisk-vm1-he-de.j2.ini}   |  0
 .../jenkins/openwhisk-vm2-he-de.j2.ini             | 36 ++++++++
 .../jenkins/openwhisk-vm3-he-de.j2.ini             | 36 ++++++++
 7 files changed, 203 insertions(+), 40 deletions(-)

commit a10b138e8ac1733b26ccfb01dc4a2cf5b36862d9
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Mar 25 17:37:50 2019 -0400

    Remove separate wskdeploy executable from ow-utils (#4393)
    
    wskdeploy is now distributed as a subcommand of wsk (wsk project),
    so no need to include a wskdeploy executable.

 tools/ow-utils/Dockerfile | 5 -----
 tools/ow-utils/README.md  | 2 +-
 2 files changed, 1 insertion(+), 6 deletions(-)

commit 701b1a847c436d14f97ad04a1c6c801ae04ea5b4
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Mon Mar 25 19:35:35 2019 +0100

    Adapt limit to query db view as per couch db change (#4388)
    
    Co-authored-by: steffenrost <srost@de.ibm.com>

 .../scala/org/apache/openwhisk/core/invoker/NamespaceBlacklist.scala   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 561dfb66d30604a20c71c5843a4529ef6a56b171
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Sat Mar 23 11:43:10 2019 +0100

    Add gauge to docs (#4351)

 docs/metrics.md | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit b1a746eca0035c852554302b28f8cd4f62493028
Author: neerajmangal <neerajmangal@users.noreply.github.com>
Date:   Sat Mar 23 03:10:15 2019 +0530

    request method downgraded with 301 redirect, use 308 instead (#4385)

 ansible/roles/nginx/templates/nginx.conf.j2 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e7253ac5bac519df289321a22c5ee923bb96c1f7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Mar 22 10:25:27 2019 +0530

    Enable soft delete mode for documents in CosmosDB (#4339)
    
    * Enable soft deletion of documents in CosmosDB

 common/scala/src/main/resources/application.conf   |   5 +
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 163 ++++++++++++++-------
 .../core/database/cosmosdb/CosmosDBConfig.scala    |   3 +-
 .../core/database/cosmosdb/CosmosDBUtil.scala      |  41 ++++++
 .../database/cosmosdb/CosmosDBViewMapper.scala     |  17 ++-
 .../cosmosdb/CosmosDBSoftDeleteTests.scala         |  43 ++++++
 .../cosmosdb/CosmosDBStoreBehaviorBase.scala       |   4 +-
 .../test/behavior/ArtifactStoreCRUDBehaviors.scala |  38 ++++-
 .../behavior/ArtifactStoreQueryBehaviors.scala     |  18 +++
 9 files changed, 272 insertions(+), 60 deletions(-)

commit ac6d6ba0ac31192f79c8d8ffcb53b7c7228e737b
Author: Vincent <shou@us.ibm.com>
Date:   Wed Mar 20 13:54:34 2019 -0400

    Add the file Jenkinsfile into the root directory of OpenWhisk (#4360)

 tools/jenkins/Jenkinsfile => Jenkinsfile | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit b3d1e7092c482b6b1eccf1953c0b977870fde208
Author: Vincent <shou@us.ibm.com>
Date:   Tue Mar 19 18:20:08 2019 -0400

    Add the private docker registry for three VMs under Apache (#4356)
    
    A private docker registry has been set up for the VMs dedicated to
    OpenWhisk deployment. This PR adds the feature to  push the controller
    and invoker images into this private registry, so that they can be
    accessed by all the VMs.

 ansible/environments/jenkins/group_vars/all |  2 +-
 tools/jenkins/Jenkinsfile                   | 43 +++++++++++++++--------------
 2 files changed, 24 insertions(+), 21 deletions(-)

commit b2f3c7ec2df750479ba17c915ae21840fad38291
Author: Lars Andersson <larandersson@users.noreply.github.com>
Date:   Tue Mar 19 22:50:34 2019 +0100

    Updated documentation to reflect the new output from wsk activation list (#4355)

 docs/actions-nodejs.md | 16 +++++++--------
 docs/actions.md        | 56 ++++++++++++++++++++++++++++++++++++++++++--------
 docs/conductors.md     | 26 +++++++++++------------
 docs/triggers_rules.md | 12 +++++------
 4 files changed, 74 insertions(+), 36 deletions(-)

commit 58e3ddd6229f3fdf9ed3cf54708175efda0d6494
Author: Somaya Jamil <somaya10@gmail.com>
Date:   Mon Mar 18 15:43:40 2019 +0100

    Revert back to the previous version, as the new base image causes regression in performance tests. (#4353)
    
    Reverting back to adoptopenjdk/openjdk8:x86_64-alpine-jdk8u172-b11 from adoptopenjdk/openjdk8:x86_64-alpine-jdk8u202-b08 (commit) as we see regression in Latency.
    
    After briefly debugging, we found that the time was lost between Controller->Invoker & Invoker->Controller (as reverting version already helps to improve the problem there seems to be an issue with the communication with kafka). We didnt find a quick solution so reverting back to the old version, and in the meanwhile will continue to look for the root cause.

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64cb8ecc60c158226415909a00958c758ca0ebe1
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Mar 18 10:09:11 2019 +0100

    Move runtimesRegistry to pureconfig. (#4343)
    
    This PR moves the config of the runtimes-registry to pureconfig. In addition it adds the ability to provide credentials for this registry. They are not used yet in the default implementations of the container factory. But they can be used in the SPIs.

 ansible/roles/invoker/tasks/deploy.yml             |  2 +-
 .../org/apache/openwhisk/core/WhiskConfig.scala    |  3 +--
 .../core/containerpool/ContainerFactory.scala      |  4 ++++
 .../core/mesos/MesosContainerFactory.scala         | 11 ++++++-----
 .../openwhisk/core/loadBalancer/LeanBalancer.scala |  3 +--
 core/invoker/src/main/resources/application.conf   | 19 ++++++++++++-------
 .../docker/DockerContainerFactory.scala            | 10 +++++-----
 .../kubernetes/KubernetesContainerFactory.scala    | 20 ++++++++++++--------
 .../apache/openwhisk/core/invoker/Invoker.scala    |  2 +-
 tests/src/test/resources/application.conf.j2       |  4 ++++
 .../docker/test/DockerContainerFactoryTests.scala  | 17 ++++++++++++-----
 .../mesos/test/MesosContainerFactoryTest.scala     | 22 +++++++++++-----------
 12 files changed, 70 insertions(+), 47 deletions(-)

commit 5b055f038d569f06e2041deac6c0359735895c17
Author: Vincent <shou@us.ibm.com>
Date:   Fri Mar 15 21:27:07 2019 -0400

    Initial commit to add the deployment configuration for Jenkins (#4345)
    
    Closes-Bug: #4335

 ansible/environments/jenkins/ansible_jenkins.cfg | 13 +++++
 ansible/environments/jenkins/group_vars/all      | 36 ++++++++++++
 ansible/environments/jenkins/hosts.j2.ini        | 36 ++++++++++++
 ansible/setup.yml                                |  4 ++
 tools/jenkins/Jenkinsfile                        | 72 ++++++++++++++++++++++++
 5 files changed, 161 insertions(+)

commit cf5587d77238c2b0fc88be2fbd586972be4c84c2
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 15 14:36:36 2019 -0400

    Redirect http to https and other nginx config cleanup. (#4329)

 ansible/group_vars/all                      | 19 +++++++++----------
 ansible/roles/nginx/tasks/deploy.yml        | 10 ++++------
 ansible/roles/nginx/templates/nginx.conf.j2 | 21 ++++++++++++++-------
 ansible/setup.yml                           |  4 ++--
 4 files changed, 29 insertions(+), 25 deletions(-)

commit 14c271e2644228f7e4ddee6bf8628df2d7ea7c0d
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Mar 15 13:23:57 2019 -0400

    Fix intermittent test failure related to sequence execution error propagation (#4340)

 tests/src/test/scala/system/basic/WskSequenceTests.scala | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 39278289d9d907146347c517a238d2ce3bc18491
Author: Cosmin Stanciu <selfxp@users.noreply.github.com>
Date:   Fri Mar 15 01:32:29 2019 -0700

    Fixes the issue of failing to read empty Splunk JSON objects (#4348)
    
    Ignores the json records which have some of the required fields missing and replaces them with the error message from the parsing

 .../containerpool/logging/SplunkLogStore.scala     | 28 +++++++++++++++-------
 .../logging/SplunkLogStoreTests.scala              |  6 +++--
 2 files changed, 23 insertions(+), 11 deletions(-)

commit 8d5857c91ec9ebc583b5eea8f7191c31b559e047
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Mar 14 22:29:32 2019 -0400

    Adapts test harness to parses activation ids from wsk activation list with new format. (#4346)
    
    * Adapts test harness to parses activation ids from wsk activation list with new format.

 tests/src/test/scala/common/WskCliOperations.scala | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit bb4e4dfad252c0700b37093d78e24f56e52b3a3f
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Mar 14 07:22:15 2019 +0530

    Feature flag support to turn on/off support for provide-api-key annotation (#4334)

 common/scala/src/main/resources/application.conf   |  7 ++++++
 .../org/apache/openwhisk/core/FeatureFlags.scala   | 26 ++++++++++++++++++++++
 .../org/apache/openwhisk/core/WhiskConfig.scala    |  1 +
 .../apache/openwhisk/core/controller/Actions.scala |  4 ++--
 4 files changed, 36 insertions(+), 2 deletions(-)

commit 76333322e1e9bc77001ec398dd9f68feb85df460
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Mar 11 18:46:42 2019 +0530

    Use Gauge metric instead of Histogram where applicable (#4327)
    
    * Kamon Gauge abstraction
    
    * Switch to gauge metric

 .../org/apache/openwhisk/common/Logging.scala      | 26 +++++++++++++++++-
 .../connector/kafka/KafkaConsumerConnector.scala   |  2 +-
 .../core/loadBalancer/CommonLoadBalancer.scala     | 12 ++++----
 .../openwhisk/core/loadBalancer/LeanBalancer.scala |  4 +--
 .../ShardingContainerPoolBalancer.scala            | 32 ++++++++--------------
 5 files changed, 46 insertions(+), 30 deletions(-)

commit 47c069a82b7d261865c8d8decd2aea1c948816c0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Mar 11 17:06:39 2019 +0530

    Disable info level logging for Prometheus Metrics endpoint (#4331)

 .../src/main/scala/org/apache/openwhisk/http/BasicRasService.scala      | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb332cb4c6cf9e01cc79e095f0576db6ec08fbca
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Mar 8 14:08:06 2019 -0500

    Set API key annotation for a WskConsole test (#4328)

 tests/src/test/scala/system/basic/WskConsoleTests.scala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit fb0bab64de6634725b409a63ffbb90fee295e8c1
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Mar 7 20:04:21 2019 -0500

    Add an annotations to inject the API key into the action context. (#4284)
    
    * Factor out some annotation names to WhiskAction singleton.
    
    * Omit API key unless requested explicitly.
    
    * Add an annotation provide-api-key which causes an API key to be passed to the action context.
    
    * Modify Parameters.isTruthy to allow for caller to specify how it wants to treat a missing key.
    
    Default is missing key -> false (preserving behavior).
    Add test for isTruthy.
    
    * Treat a missing provide-key-annotation as truthy annotation.
    
    Actions that already exist without the annotation will receive the key as they might already expect.
    
    * Add container proxy test.
    
    * Update tests for new system annotation.
    
    * Allow pre-existing actions to be exempt from new system annotations.
    
    * Update docs.

 .../apache/openwhisk/core/entity/Parameter.scala   |  13 +-
 .../apache/openwhisk/core/entity/WhiskAction.scala |  18 +-
 .../apache/openwhisk/core/controller/Actions.scala |  47 +++--
 .../openwhisk/core/controller/WebActions.scala     |   8 +-
 .../core/containerpool/ContainerProxy.scala        |   8 +-
 docs/actions.md                                    |  12 +-
 docs/annotations.md                                |   9 +
 .../core/cli/test/WskRestBasicUsageTests.scala     |  69 ++++++--
 .../containerpool/test/ContainerProxyTests.scala   |  54 +++++-
 .../core/controller/test/ActionsApiTests.scala     | 196 +++++++++++++++------
 .../controller/test/ControllerTestCommon.scala     |   9 +
 .../controller/test/PackageActionsApiTests.scala   |   2 +-
 .../core/controller/test/WebActionsApiTests.scala  |   2 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   |  13 ++
 .../test/scala/system/basic/WskActionTests.scala   |   9 +-
 .../scala/system/basic/WskRestBasicTests.scala     |   5 +-
 16 files changed, 360 insertions(+), 114 deletions(-)

commit 063cb6699296b01c30d2a2ea6ce9ec1b33e328dc
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Mar 7 21:37:44 2019 +0530

    Pass config via file (#4309)

 ansible/roles/controller/tasks/deploy.yml    | 6 +++++-
 ansible/roles/controller/templates/config.j2 | 8 ++++++++
 ansible/roles/invoker/tasks/deploy.yml       | 6 ++++++
 ansible/roles/invoker/templates/config.j2    | 8 ++++++++
 4 files changed, 27 insertions(+), 1 deletion(-)

commit a08175f05cd9bf21e48eea52be62ca0030f9c2c3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Mar 5 21:26:36 2019 +0530

    Include Kamon Datadog dependencies (#4323)

 common/scala/build.gradle | 1 +
 1 file changed, 1 insertion(+)

commit 1c3de9f6efdbcd52f6c2d9767fdb83419aa7c771
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Mar 5 07:23:24 2019 +0530

    Update CosmosDB to 2.4.2 (#4321)
    
    * Update to CosmosDB SDK 2.4.2
    
    * Remove logic related to storing attachments in CosmosDB
    
    * Reduce throughput for test to 400

 common/scala/build.gradle                          |   2 +-
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 134 ++-------------------
 tests/src/test/resources/application.conf.j2       |   7 +-
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  27 ++---
 .../ArtifactStoreAttachmentBehaviors.scala         |   5 +-
 5 files changed, 29 insertions(+), 146 deletions(-)

commit c68ad51e4fd429bdb4301e7efb5addc27fc75f40
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Mar 4 17:12:56 2019 -0500

    Fix typos in docs (#4322)

 docs/actions.md | 2 +-
 docs/metrics.md | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5b28f46bf6858183e10f33a3eb408e84d4ec9a95
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Mar 4 17:21:06 2019 +0530

    Record clusterId performing change in CosmosDB (#4312)
    
    Records the clusterId (if configured) with the updated document while persisting in ComosDB. This is an optional property. By default no `clusterId` info is saved

 common/scala/src/main/resources/application.conf   |  4 ++
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 22 ++++++++++-
 .../core/database/cosmosdb/CosmosDBConfig.scala    |  3 +-
 .../core/database/cosmosdb/CosmosDBUtil.scala      | 10 +++++
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      | 46 +++++++++++++++++++---
 .../database/cosmosdb/CosmosDBConfigTests.scala    | 12 ++++--
 .../cosmosdb/CosmosDBStoreBehaviorBase.scala       |  2 +-
 7 files changed, 87 insertions(+), 12 deletions(-)

commit df3acee881c24527b2f74d78fa852928e8631c1e
Author: Somaya Jamil <somaya10@gmail.com>
Date:   Mon Mar 4 10:21:53 2019 +0100

    Upgraded the Scala image to adoptopenjdk/openjdk8:x86_64-alpine-jdk8u202-b08. (#4318)

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db040cb9cfef0a7a9228f033c61581170ef8de77
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Mar 1 13:48:36 2019 +0100

    Make WskRestRuleTests more stable. (#4317)
    
    If there is an deployment with several controllers, the test `Whisk rules should preserve rule status when a rule is updated` fails intermittently. The reason is, that there are several modifications on the rule. These modifications are already retried. But enabling and disabling the rule also modifies the database document. But that change is currently not retried.
    This PR puts the enabling/disabling of the rule into the retry block as well to make this test more stable against our eventual consistency.
    
    Co-authored-by: Somaya Jamil <jamilsom@de.ibm.com>

 tests/src/test/scala/system/basic/WskRestRuleTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ddd3c9cfd1b31176a54634f254707774a90f4f0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Feb 28 22:21:05 2019 +0530

    Collect and log CosmosDB query metrics when extra logging is enabled (#4275)
    
    * Collect and log CosmosDB query metrics when extra logging is enabled Fixes #4268

 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 29 ++++++++++++++++----
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      | 32 ++++++++++++++++++++++
 2 files changed, 56 insertions(+), 5 deletions(-)

commit 68497a11a3f6dc60bb7118156211748567ed05f1
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Feb 27 23:29:55 2019 -0500

    Restore default runtimes after YARN tests finish (#4313)

 .../yarn/test/YARNContainerFactoryTests.scala      | 26 +++++++++++++++++-----
 1 file changed, 20 insertions(+), 6 deletions(-)

commit 33d70bfbb368e8c263e9f7a6fccfd03cf6655d58
Author: Steffen Rost <srost@de.ibm.com>
Date:   Thu Feb 28 00:39:10 2019 +0000

    Avoid that actions do not stop after action timeout when logging heavily (#4299)
    
    * wait for sentinel only in case no timeout occurred
    
    * introduce timeout annotation
    
    * nodejs:6 logging timeout action w/o busy loop
    
    * do conversion from FiniteDuration to Duration

 .../logging/DockerToActivationFileLogStore.scala   |  5 +--
 .../logging/DockerToActivationLogStore.scala       | 39 ++++++++++++++++++++--
 .../openwhisk/core/entity/WhiskActivation.scala    | 17 ++++++----
 .../core/containerpool/ContainerProxy.scala        | 19 +++++++++--
 tests/dat/actions/loggingTimeout.js                | 36 ++++++++++++++++++++
 tests/src/test/scala/common/TimingHelpers.scala    |  6 ++--
 .../openwhisk/core/limits/ActionLimitsTests.scala  | 36 +++++++++++++++++++-
 7 files changed, 140 insertions(+), 18 deletions(-)

commit 2fad9a3612310e7e35a01c383529d1fea18d2b61
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Wed Feb 27 12:45:20 2019 +0100

    Add description related to new loadbalancer related metrics (#4263)

 docs/metrics.md | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit bb9f40830022d883c1d07dfab23c63dc431870d2
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Feb 26 13:53:56 2019 -0500

    Use custom runtime manifest for YARN tests (#4307)
    
    * Use custom manifest for YARN tests
    
    * Remove imageTag method

 .../yarn/test/YARNContainerFactoryTests.scala      | 42 ++++++++++++++++++----
 .../openwhisk/core/entity/test/ExecHelpers.scala   |  3 --
 2 files changed, 35 insertions(+), 10 deletions(-)

commit 1c6cc362a0036b917ed66c190217036884fdb7c0
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Feb 25 21:57:51 2019 -0500

    Use runtime tags specified in runtime manifest for YARNContainerFactoryTests (#4305)
    
    * Look up runtime tag for YARN tests
    
    * Scala formatting

 .../yarn/test/YARNContainerFactoryTests.scala      | 30 ++++++++--------------
 .../openwhisk/core/entity/test/ExecHelpers.scala   | 10 +++++---
 2 files changed, 16 insertions(+), 24 deletions(-)

commit ae373c860d4d0d2d78dd7a38e0b8de6e09e948b4
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 25 20:13:20 2019 -0500

    Run a clean step before build. (#4304)

 tools/jenkins/apache/dockerhub.groovy | 1 +
 1 file changed, 1 insertion(+)

commit fec91db86f90bae395e267e3522ca7e3020cc9e3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Feb 25 22:05:29 2019 +0530

    Enable configuring Connection Mode (#4273)
    
    Fixes #4269

 common/scala/src/main/resources/application.conf                     | 4 ++++
 .../org/apache/openwhisk/core/database/cosmosdb/CosmosDBConfig.scala | 5 ++++-
 .../openwhisk/core/database/cosmosdb/CosmosDBConfigTests.scala       | 4 +++-
 3 files changed, 11 insertions(+), 2 deletions(-)

commit 6e883f9392aeb8e1ceced92bf08eab517109281f
Author: Sam Hjelmfelt <samhjelmfelt@yahoo.com>
Date:   Sat Feb 23 06:04:56 2019 -0800

    Adding YARNContainerFactory. This allows OpenWhisk to run actions on Apache Hadoop clusters. (#4129)

 common/scala/src/main/resources/application.conf   |  12 +
 .../org/apache/openwhisk/core/WhiskConfig.scala    |   1 +
 .../openwhisk/core/yarn/YARNComponentActor.scala   | 107 +++++
 .../openwhisk/core/yarn/YARNContainerFactory.scala | 241 ++++++++++
 .../core/yarn/YARNContainerInfoActor.scala         | 122 +++++
 .../apache/openwhisk/core/yarn/YARNRESTUtil.scala  | 200 +++++++++
 .../org/apache/openwhisk/core/yarn/YARNTask.scala  |  91 ++++
 docs/yarn.md                                       |  84 ++++
 .../core/containerpool/yarn/test/MockYARNRM.scala  | 247 +++++++++++
 .../yarn/test/YARNContainerFactoryTests.scala      | 493 +++++++++++++++++++++
 10 files changed, 1598 insertions(+)

commit 8e459219a7e8557ccec08e9aebb2707eab5d4c3f
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Feb 21 10:50:32 2019 +0100

    Improve container factory documentation (#4255)
    
    * Improve container factory documentation
    
    Explicitly list some of the expectations and requirements an actual container factory / container implementation needs to satisfy. Addresses #4002.
    
    * Address review feedback

 .../core/containerpool/ContainerFactory.scala       | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit 9eb197cdb60a72f67b8c8a7f81413cadc73d54de
Author: Lars Andersson <larandersson@users.noreply.github.com>
Date:   Wed Feb 20 14:39:15 2019 +0100

    Added information about statusCode field in activation records (#4297)

 docs/actions.md | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 38e4b05a20bdc6d76e1cf78c6e0203d47078a2b7
Author: Song Kun <songkun.fp@gmail.com>
Date:   Wed Feb 20 21:05:39 2019 +0800

    Fix a typo in README (#4296)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3fd4db548129b45f70c9bd5c8b1322c46dd8e7f1
Author: Lars Andersson <larandersson@users.noreply.github.com>
Date:   Tue Feb 19 06:31:42 2019 +0100

    This commit contains multiple changes to the apiv1swagger.json file (#4294)
    
    1. Fixed 2 typos that refer to non-existing response 'TooManyRequsts'
    2. Updated description of PUT method for rule
    3. Updated description of PUT method for trigger
    4. Created new definition ActivationBrief
    5. Changed response type for GET activations to refer to ActivationBrief instead of EntityBrief, which didn't match the actual response
    6. Added attribute statusCode to definition ActivationBrief and Activation
    7. Modified description of GET activations #2271
    8. Added operationId to GET activation logs and result (#318)
    9. Removed the init attribute from the ActionExec definition (#4201)
    10. Use of 2 spaces for indentation, which is the default when working with the Swagger editor, instead of the four spaces used.

 .../src/main/resources/apiv1swagger.json           | 5107 ++++++++++----------
 1 file changed, 2590 insertions(+), 2517 deletions(-)

commit ca8e4143f7112ec29a362069897ca3f18eccd3a0
Author: Priti Desai <pdesai@us.ibm.com>
Date:   Mon Feb 18 09:00:41 2019 -0800

    changing catalog installation to use wskdeploy (#4291)

 ansible/tasks/installOpenwhiskCatalog.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 619c86da4d9e52d63fae506cbfd75423a80779dd
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Feb 16 10:58:04 2019 -0500

    update second year in copyright notice (#4292)

 NOTICE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cc6ab4d28fac2afa892f0adb721bc1b228b42a4
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Fri Feb 15 11:58:29 2019 +0800

    Add common test codes for ActivationStore (#4031)
    
    Adds a suite of testcases to validate the implementations of ActivationStore SPI

 .../ArtifactActivationStoreBehaviorBase.scala      |  33 ++
 .../database/ArtifactActivationStoreTests.scala    |  57 ++++
 .../test/behavior/ActivationStoreBehavior.scala    |  23 ++
 .../behavior/ActivationStoreBehaviorBase.scala     | 106 +++++++
 .../behavior/ActivationStoreCRUDBehaviors.scala    |  70 ++++
 .../behavior/ActivationStoreQueryBehaviors.scala   | 353 +++++++++++++++++++++
 6 files changed, 642 insertions(+)

commit d22ef30fe613d60d84a5310a6b89cdbe2c495995
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Feb 15 07:26:45 2019 +0530

    MBean to dump config information at a path (#4280)

 .../org/apache/openwhisk/common/ConfigMXBean.scala | 55 ++++++++++++++++++++++
 .../openwhisk/core/controller/Controller.scala     |  3 +-
 .../apache/openwhisk/core/invoker/Invoker.scala    |  1 +
 .../openwhisk/common/ConfigMXBeanTests.scala       | 39 +++++++++++++++
 4 files changed, 97 insertions(+), 1 deletion(-)

commit c551082cc5854339aa39f3e62e09392a2c4f9fc2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Feb 14 21:56:08 2019 +0530

    Disable test failing with CosmosDB v2.4.0 (#4287)

 .../database/cosmosdb/CosmosDBArtifactStoreTests.scala   | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit e588323fc38c15c6e0d900e5cadd33e82bf97e3c
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 14 09:42:58 2019 -0500

    Update docs for Mac users (#4282)

 ansible/roles/cli/tasks/deploy.yml   | 2 ++
 tools/macos/README.md                | 2 ++
 tools/macos/docker-machine/README.md | 2 ++
 3 files changed, 6 insertions(+)

commit 481a446cfdf6500f8e84ee21b5857003c6776f1e
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Feb 14 14:55:52 2019 +0100

    Make ContainerProxyTests more stable. (#4289)
    
    As the active ack is sent asynchronously in the invoker, it could happen, that the order of them is wrong in the ContainerProxyTest. This has been proven with the following debug information: https://github.com/apache/incubator-openwhisk/pull/4278
    
    This PR makes these tests more stable by not relying on the order of active acks.

 .../containerpool/test/ContainerProxyTests.scala   | 63 +++++++++++++---------
 1 file changed, 37 insertions(+), 26 deletions(-)

commit 28ae83cfb1bd07f55b12dc91b16f0e113dbfee2f
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Thu Feb 14 11:57:01 2019 +0100

    Delay emitting metric to avoid NPE (#4288)
    
    Fixes #4285

 .../org/apache/openwhisk/core/loadBalancer/CommonLoadBalancer.scala     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1b77fec371b7596073594ac55459a92802fc883c
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Feb 13 15:51:08 2019 -0500

    package nodejs dependencies into routemgmt actions (#4271)

 ansible/roles/routemgmt/files/installRouteMgmt.sh | 17 ++++++++++++++---
 core/routemgmt/createApi/package.json             |  6 +++++-
 core/routemgmt/deleteApi/package.json             |  6 +++++-
 core/routemgmt/getApi/package.json                |  6 +++++-
 4 files changed, 29 insertions(+), 6 deletions(-)

commit 6d5792df1f2d77acd35a15b8ef3a6e6127039b50
Author: Rahul Tripathi <31742059+rahulqelfo@users.noreply.github.com>
Date:   Wed Feb 13 15:23:13 2019 -0500

    Scalatest version update (#4276)
    
    
    * Updated ScalaTest v 3.0.1 to v 3.0.5 [#changelog] (http://www.scalatest.org/release_notes/3.0.5)
    Updated ScalaMock v 3.4.2 to v 3.6.0

 tests/build.gradle | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ccac7d5131a80bddeb1b6dc0c6580051c90bc264
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Feb 13 15:20:14 2019 -0500

    Fix typos in docs (#4279)
    
    * Fix typos in docs
    
    * Re-word Docker paragraph

 ansible/README.md                    |  8 ++++----
 docs/about.md                        |  2 +-
 docs/actions-docker.md               |  2 +-
 docs/actions-nodejs.md               |  8 ++++----
 docs/actions-swift.md                |  2 +-
 docs/actions.md                      |  6 +++---
 docs/catalog.md                      |  2 +-
 docs/cli.md                          |  2 +-
 docs/deploy.md                       |  6 +++---
 docs/mesos.md                        | 10 +++++-----
 docs/metrics.md                      |  2 +-
 docs/mobile_sdk.md                   |  2 +-
 docs/parameters.md                   |  2 +-
 docs/reference.md                    |  4 ++--
 docs/spi.md                          | 16 ++++++++--------
 tests/performance/README.md          |  6 +++---
 tools/admin/README-NEXT.md           |  4 ++--
 tools/build/README.md                |  6 +++---
 tools/db/README.md                   |  2 +-
 tools/dev/README.md                  |  4 ++--
 tools/macos/README.md                |  2 +-
 tools/macos/docker-machine/README.md |  2 +-
 tools/ubuntu-setup/README.md         |  2 +-
 tools/vagrant/README.md              |  8 ++++----
 24 files changed, 55 insertions(+), 55 deletions(-)

commit a205f8b50311181e14e8af6d8eb91eba84045ea6
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Feb 13 15:38:38 2019 +0100

    Add additional debug information for intermittently failing ContainerProxyTests (#4278)
    
    The `ContainerProxyTests` are failing intermittently in the pipeline. All of these intermittent test failures have either a wrong initialisation-time or it is missing completely.
    Our theory currently is, that the Buffer in `acker` is called in the wrong order, as these calls are made asynchronously. If that theory is correct, this can be proven with this additional output.

 .../core/containerpool/test/ContainerProxyTests.scala    | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit b57393187ab82ebe0af9bf6c0877e658b524b107
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Feb 13 19:18:26 2019 +0530

    Include nanohttpd to avoid CNFE on stop (#4274)

 common/scala/build.gradle | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 1e8f07032cdcda6324fdddf1790bc6ada73f498d
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Feb 13 08:47:11 2019 -0500

    Remove ansible warnings and use unarchive task (#4267)

 ansible/roles/cli/tasks/deploy.yml        | 30 +++++++++++++-----------------
 ansible/roles/controller/tasks/deploy.yml | 16 +++++++---------
 ansible/roles/invoker/tasks/deploy.yml    | 16 ++++++++--------
 3 files changed, 28 insertions(+), 34 deletions(-)

commit 4a8564b9de9fa869a6c22e036b337f9cd2f46221
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Feb 12 22:36:53 2019 -0500

    Remove deadcode. (#4253)

 ansible/templates/whisk.properties.j2              |  1 -
 tests/src/test/scala/common/WhiskProperties.java   | 13 +------------
 tests/src/test/scala/common/WskCliOperations.scala |  7 +------
 3 files changed, 2 insertions(+), 19 deletions(-)

commit 56dca5926f0a733fd7f3e19caca4fbbd667571b7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Feb 12 08:29:29 2019 -0800

    Update CosmosDB SDK to v 2.4.0 (#4270)

 common/scala/build.gradle | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit a92d14c3cd685ec8c9caa530606a82bb9aed9405
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Feb 12 07:38:35 2019 -0800

    Enable publishing metrics to Prometheus. (#4227)

 ansible/roles/nginx/templates/nginx.conf.j2        |   4 +
 common/scala/build.gradle                          |   3 +
 common/scala/src/main/resources/application.conf   |  23 ++++
 .../org/apache/openwhisk/common/Logging.scala      | 152 ++++++++++++---------
 .../org/apache/openwhisk/common/Prometheus.scala   |  51 +++++++
 .../apache/openwhisk/common/TransactionId.scala    |  11 +-
 .../org/apache/openwhisk/core/WhiskConfig.scala    |   1 +
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |   5 +-
 .../apache/openwhisk/http/BasicHttpService.scala   |   3 +-
 .../apache/openwhisk/http/BasicRasService.scala    |   6 +-
 .../apache/openwhisk/common/PrometheusTests.scala  |  86 ++++++++++++
 11 files changed, 272 insertions(+), 73 deletions(-)

commit 8f18797b7e3e2872c4a3e406e07424995a80b980
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Feb 12 04:54:09 2019 -0500

    Add revoke key feature. (#4249)
    
    Adds support for 3 new flags
    
      -r, --revoke          revoke existing key and create a new one
      -g, --genonly         generate a uuid and key but do not store them in the
                            database
      -s, --silent          do not should the new key on the console

 tools/admin/wskadmin | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit bebb772d7586b8987dc277b2f82eb3f6c2203b7a
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 11 19:47:35 2019 -0500

    Allow persisted couchdb directory mount. (#4250)
    
    For example:
      wskdev couchdb -d -e"db_persist_path=/home/couchd/openwhisk"

 ansible/group_vars/all                 |  1 +
 ansible/roles/couchdb/tasks/deploy.yml | 16 ++++++++++++++++
 2 files changed, 17 insertions(+)

commit 15ee06874f437508d3ad05d739623a81e4c0b905
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 11 16:28:35 2019 -0500

    Create _users database only if it does not already exist. (#4262)

 ansible/roles/couchdb/tasks/deploy.yml | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit da21c9fe49b2ae72c95b6866b30d984c65253724
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Feb 11 11:45:20 2019 -0800

    Track activation counts in ContainerPool (not ContainerProxy) (#4186)
    
    Track activation counts in ContainerPool (not ContainerProxy) so that Prewam/cold -> Warm can be tracked as Warming and receive activations to avoid spawning extra containers

 .../openwhisk/core/containerpool/Container.scala   |   4 +
 .../core/containerpool/ContainerPool.scala         |  82 ++++++----
 .../core/containerpool/ContainerProxy.scala        | 171 ++++++++++++++++-----
 .../containerpool/test/ContainerPoolTests.scala    | 164 ++++++++++++++++++++
 .../containerpool/test/ContainerProxyTests.scala   |  48 ++----
 .../openwhisk/core/limits/ConcurrencyTests.scala   |   2 +-
 6 files changed, 368 insertions(+), 103 deletions(-)

commit 0d2bb75d32a17d6b19add74173ecfb721dde5803
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Feb 11 10:55:46 2019 -0800

    Add support for TTL at collection level with CosmosDB (#4229)
    
    * Add support for TTL at collection level

 common/scala/src/main/resources/application.conf   | 32 ++++++----
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  5 +-
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala   | 13 ++--
 .../core/database/cosmosdb/CosmosDBConfig.scala    |  3 +-
 .../core/database/cosmosdb/CosmosDBSupport.scala   |  2 +
 .../database/cosmosdb/CosmosDBConfigTests.scala    |  6 +-
 .../database/cosmosdb/CosmosDBSupportTests.scala   | 70 +++++++++++++++++++++-
 7 files changed, 106 insertions(+), 25 deletions(-)

commit 15ae5c4ae5dc9f84b1e9f5cfc05ffe6df94b53ca
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 11 13:03:41 2019 -0500

    Mount an optional html directory for serving static content. (#4259)

 ansible/group_vars/all                      |  1 +
 ansible/roles/nginx/tasks/deploy.yml        | 28 +++++++++++++++++++++++++---
 ansible/roles/nginx/templates/nginx.conf.j2 | 24 ++++++++++++++++++++++++
 3 files changed, 50 insertions(+), 3 deletions(-)

commit 5d440fe2ce26792f424acff94d9c04b3a540979b
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 11 12:52:57 2019 -0500

    Restore nodejs:6 as default.  (#4264)
    
    * Restore nodejs:6 as default. See https://github.com/apache/incubator-openwhisk-catalog/issues/294 for details.
    
    * Relax test.

 ansible/files/runtimes.json                                           | 4 ++--
 .../scala/org/apache/openwhisk/core/entity/test/SchemaTests.scala     | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 6549b9c9beae127ec03e10c9fd9b4a34fd224883
Author: Christian Bickel <github@cbickel.de>
Date:   Sat Feb 9 16:28:46 2019 +0100

    Remove unused ansible parameters in group_vars/all file. (#4168)

 ansible/group_vars/all               | 11 -----------
 ansible/roles/nginx/tasks/deploy.yml |  3 ---
 2 files changed, 14 deletions(-)

commit fbf9f2559bc8295f1773efa4271f42819b29676b
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Sat Feb 9 10:23:09 2019 -0500

    Use redis-cli (via docker) to test status of Redis in ansible PING-PONG. (#4205)

 ansible/roles/redis/tasks/deploy.yml | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit fbe85b1a06e4cabbe47b487eabbce95e3d1d5f3d
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Sat Feb 9 16:12:22 2019 +0200

    Adds a leaner OpenWhisk configuration. (#4216)
    
    This commit introduces a leaner configuration of the deployment that eschews kafka & zookeeper. It merges the controller and invoker together and uses an in-memory bus to communicate between the controller and invoker. The leaner configuration reduces the amount of memory needed by a deploymen.

 ansible/README.md                                  |  11 +
 ansible/group_vars/all                             |   1 +
 ansible/openwhisk.yml                              |   3 +
 ansible/roles/controller/tasks/deploy.yml          |   9 +
 ansible/roles/controller/tasks/lean.yml            |  40 +++
 ansible/roles/invoker/tasks/deploy.yml             |  48 ++--
 .../openwhisk/connector/lean/LeanConsumer.scala    |  49 ++++
 .../connector/lean/LeanMessagingProvider.scala     |  69 +++++
 .../openwhisk/connector/lean/LeanProducer.scala    |  60 +++++
 core/controller/Dockerfile                         |  23 +-
 core/controller/build.gradle                       |   1 +
 .../core/loadBalancer/CommonLoadBalancer.scala     | 282 ++++++++++++++++++++
 .../openwhisk/core/loadBalancer/LeanBalancer.scala | 104 ++++++++
 .../openwhisk/core/loadBalancer/LoadBalancer.scala |  26 +-
 .../ShardingContainerPoolBalancer.scala            | 289 +++------------------
 tests/build.gradle                                 |  37 ++-
 tests/performance/preparation/deploy-lean.sh       |  38 +++
 .../test/ShardingContainerPoolBalancerTests.scala  |   8 +-
 tools/travis/runLeanSystemTests.sh                 |  36 +++
 tools/travis/setupLeanSystem.sh                    |  33 +++
 tools/vagrant/README.md                            |   9 +
 tools/vagrant/Vagrantfile                          |  11 +-
 22 files changed, 891 insertions(+), 296 deletions(-)

commit 39ad48eadc11227c4be05a1b6d94ad4ae0667b08
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 9 08:56:24 2019 -0500

    Re-enable Swagger tests. (#4261)

 tools/travis/runTests.sh | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit c9fb555c950a1fff124e1071b0db518bcbe181cd
Author: TPei <4004343+TPei@users.noreply.github.com>
Date:   Sat Feb 9 14:54:48 2019 +0100

    Remove older runtimes. (#4254)
    
    This PR removes some older and the deprecated runtimes form the manifest.
    
    It also modifies the ExecManifest initializer to allow for loading of a test manifest that isn't based on the deployment.

 ansible/files/runtimes.json                        | 114 +------------
 .../openwhisk/core/entity/ExecManifest.scala       |  30 ++--
 .../src/main/resources/apiv1swagger.json           |  12 +-
 docs/actions-new.md                                |   8 +-
 docs/actions-nodejs.md                             |   2 +-
 docs/actions-php.md                                |   8 +-
 docs/actions-python.md                             |  10 +-
 docs/actions-swift.md                              | 177 +--------------------
 tests/dat/actions/unicode.tests/php-7.1.txt        |   9 --
 tests/dat/actions/unicode.tests/php-7.2.txt        |   9 --
 tests/dat/actions/unicode.tests/swift-3.1.1.txt    |  12 --
 tests/dat/actions/unicode.tests/swift-4.1.txt      |  12 --
 .../docker/test/DockerContainerFactoryTests.scala  |   2 +-
 .../core/controller/test/ActionsApiTests.scala     | 165 +++++++++++--------
 .../controller/test/PackageActionsApiTests.scala   |   2 +-
 .../SequenceActionApiMigrationTests.scala          |   4 +-
 .../openwhisk/core/entity/test/ExecHelpers.scala   |  54 ++-----
 .../core/entity/test/ExecManifestTests.scala       |   7 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   |  25 ++-
 .../test/ShardingContainerPoolBalancerTests.scala  |   2 +-
 20 files changed, 187 insertions(+), 477 deletions(-)

commit a5232a150abd0c93f0b8b79ac2112b4fa4507062
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Fri Feb 8 11:31:41 2019 -0500

    Bump couchdb to v2.3 (#4202)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98338dab8c7f05bd2e68957811165d597d11e365
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Feb 8 05:43:49 2019 -0500

    Add code of conduct pointer. (#4260)

 CODE_OF_CONDUCT.md | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit cf70347c6c15944f4aa541805e502f48d89baedf
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Feb 7 22:03:41 2019 -0500

    Allow CLI download from /cli in addition to /cli/go/download. (#4258)

 ansible/roles/nginx/templates/nginx.conf.j2 | 13 +++++++------
 docs/cli.md                                 |  3 +--
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 29ed58979dc5553aae8e830bc78d58610e888c7b
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Feb 7 20:43:00 2019 -0500

    Update docs to remove bluemix refs. (#4256)
    
    Replace {APIHOST} with $APIHOST throughout.

 docs/rest_api.md | 74 +++++++++++++++++++++++++++++---------------------------
 1 file changed, 38 insertions(+), 36 deletions(-)

commit b2dd4a2ed28e2b1313dff53949b959cc9cbcb19d
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu Feb 7 20:30:34 2019 -0500

    Revert "Mount an optional html directory for serving static content. (#4252)" (#4257)
    
    This reverts commit fb40eb621f24fa0165654a9b039aa41a7928f609.

 ansible/group_vars/all                             |  1 -
 ansible/roles/cli-install/tasks/deploy.yml         |  2 +-
 ansible/roles/nginx/tasks/deploy.yml               | 26 +++-------------------
 ansible/roles/nginx/templates/nginx.conf.j2        | 16 +++++--------
 .../test/scala/system/rest/GoCLINginxTests.scala   |  2 +-
 5 files changed, 11 insertions(+), 36 deletions(-)

commit fb40eb621f24fa0165654a9b039aa41a7928f609
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Feb 6 21:57:52 2019 -0500

    Mount an optional html directory for serving static content. (#4252)

 ansible/group_vars/all                             |  1 +
 ansible/roles/cli-install/tasks/deploy.yml         |  2 +-
 ansible/roles/nginx/tasks/deploy.yml               | 26 +++++++++++++++++++---
 ansible/roles/nginx/templates/nginx.conf.j2        | 16 ++++++++-----
 .../test/scala/system/rest/GoCLINginxTests.scala   |  2 +-
 5 files changed, 36 insertions(+), 11 deletions(-)

commit 06892e6f79300f86670cad1b5a5e2eb75b567f99
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Feb 6 16:58:04 2019 -0500

    Remove unsupported distributed playbooks. (#4245)

 ansible/README_DISTRIBUTED.md                      | 102 -----------------
 ansible/boot_instances_dist.yml                    |  71 ------------
 .../distributed/files/openstack/README_OS.md       |  41 -------
 .../distributed/files/openstack/openstack.env      |  20 ----
 ansible/environments/distributed/group_vars/all    |  82 --------------
 ansible/environments/distributed/hosts             |  32 ------
 ansible/prereq_build.yml                           |  21 ----
 ansible/provision_env_dist.yml                     |  66 -----------
 ansible/registry.yml                               |  22 ----
 ansible/roles/couchdb/tasks/deploy.yml             |  12 --
 ansible/roles/docker/tasks/clean.yml               |  11 --
 ansible/roles/docker/tasks/deploy.yml              |  37 ------
 ansible/roles/docker/tasks/main.yml                |  12 --
 ansible/roles/docker/templates/docker.j2           |  13 ---
 ansible/roles/registry/tasks/clean.yml             |  14 ---
 ansible/roles/registry/tasks/deploy.yml            |  70 ------------
 ansible/roles/registry/tasks/gencert.yml           |   7 --
 ansible/roles/registry/tasks/main.yml              |  13 ---
 ansible/roles/registry/tasks/publish.yml           |  28 -----
 .../registry/templates/recycle-registry.py.j2      | 126 ---------------------
 ansible/roles/whiskhost/tasks/addUser.yml          |  27 -----
 ansible/roles/whiskhost/tasks/clean.yml            |   7 --
 ansible/roles/whiskhost/tasks/deploy.yml           |   9 --
 ansible/roles/whiskhost/tasks/main.yml             |  12 --
 ansible/roles/whiskhost/tasks/patchKernel.yml      |  43 -------
 tools/ubuntu-setup/README.md                       |   6 +-
 26 files changed, 3 insertions(+), 901 deletions(-)

commit 607e4e08299c1322399fdb2dffb8ecb8248b33c0
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Thu Feb 7 04:08:00 2019 +0800

    Complete blocking activations immediately on active ack when db polling is disabled. (#4230)

 .../core/controller/actions/PrimitiveActions.scala |  5 +-
 .../core/controller/test/ActionsApiTests.scala     |  4 -
 .../core/controller/test/PollingFromDbTests.scala  | 91 ++++++++++++++++++++++
 3 files changed, 94 insertions(+), 6 deletions(-)

commit abe2d33fc876df011687c9ed43571684b6eaefe5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Feb 4 14:55:15 2019 -0500

    Optional write activation results to file… (#4243)
    
    * ArtifactWithFileStorageActivationStore configuration for writing results to file
    
    * Use if statements instead of match
    
    * Review refactor

 .../core/database/ActivationFileStorage.scala      |  8 ++-
 .../ArtifactWithFileStorageActivationStore.scala   | 12 +++-
 ...tifactWithFileStorageActivationStoreTests.scala | 70 ++++++++++++++++++++--
 3 files changed, 81 insertions(+), 9 deletions(-)

commit b3a3ef4d946a357699bfb6eea1a936ae002c95f1
Author: TPei <4004343+TPei@users.noreply.github.com>
Date:   Wed Jan 30 17:47:13 2019 +0100

    Update supported languages (#4241)
    
    about.md language info was slightly outdated

 docs/about.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8cd10bb09d64c1bc2638f05d1fb8dadb24b7f36e
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Tue Jan 29 13:14:43 2019 +0100

    Send capacity, system overload metrics for managed and blackbox invokers separately. (#4219)
    
    To send metrics on system overload condition, capacity in flight v/s total and count of healthy, unhealthy, unresponsive and down invokers (managed and blackbox separately) in order to visualise it as graph on Metrics dashboard.

 .../org/apache/openwhisk/common/Logging.scala      |  22 ++++-
 .../ShardingContainerPoolBalancer.scala            | 103 +++++++++++++++++----
 .../test/ShardingContainerPoolBalancerTests.scala  |  52 ++++++++---
 3 files changed, 143 insertions(+), 34 deletions(-)

commit 12f121ed4d3ec4d1aa78fd29d7223b573b7dadd5
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Jan 26 10:19:04 2019 -0500

    Add Ballerina 0.990 runtime. (#4239)

 ansible/files/runtimes.json                        |  16 +++++
 .../src/main/resources/apiv1swagger.json           |   3 +-
 docs/actions-ballerina.md                          |  75 +++++++++++++++++++++
 docs/actions-new.md                                |  35 +++++-----
 docs/actions.md                                    |   1 +
 .../dat/actions/unicode.tests/ballerina-0.990.bin  | Bin 0 -> 1775 bytes
 .../unicode.tests/src/ballerina/unicode.bal        |  26 +++++++
 7 files changed, 136 insertions(+), 20 deletions(-)

commit 3a6f6a7a1c3842564aed2a007715cba56f474d32
Author: Michele Sciabarra <30654959+sciabarracom@users.noreply.github.com>
Date:   Fri Jan 25 15:37:16 2019 +0100

    add wskadmin to ow-utils docker image (#4237)
    
    add wskadmin to ow-utils docker image

 tools/admin/build.gradle    |  2 --
 tools/ow-utils/Dockerfile   |  4 ++++
 tools/ow-utils/README.md    |  2 +-
 tools/ow-utils/build.gradle | 14 ++++++++++++++
 4 files changed, 19 insertions(+), 3 deletions(-)

commit b3a57ddf7409cd71ebb84b85143f0920995132f2
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jan 24 13:53:53 2019 -0500

    Provide Artifact with File Storage Activation Store (#3991)

 .../org/apache/openwhisk/core/WhiskConfig.scala    |   4 +
 .../core/database/ActivationFileStorage.scala      | 118 ++++++++++++++++
 .../ArtifactWithFileStorageActivationStore.scala   |  61 ++++++++
 .../openwhisk/core/entity/WhiskActivation.scala    |  14 +-
 .../apache/openwhisk/core/controller/Actions.scala |   2 +-
 .../openwhisk/core/controller/Activations.scala    |   4 +-
 .../core/controller/test/ActionsApiTests.scala     |   8 +-
 .../core/controller/test/ActivationsApiTests.scala |  12 +-
 .../controller/test/ControllerTestCommon.scala     |   8 +-
 ...tifactWithFileStorageActivationStoreTests.scala | 157 +++++++++++++++++++++
 10 files changed, 370 insertions(+), 18 deletions(-)

commit f83a438023c92c725cdd08825d9cb688bce95479
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jan 24 13:15:58 2019 +0100

    Add limit to not store activations for a limitted namespace. (#4234)
    
    Operators will be able to disable storing of activations into activations store.
    The flag is implemented like the per-namespace-limits. It can be set with wskadmin.
    
    This commit was the initial idea of #4078. In the meantime, the idea in the other PR changed, to implement a throttle instead of a switch. But as this is a completely new type of rate-limit (which does not only allow or deny requests) that's a bit bigger to implement. So I'll go with a staged approach here and implement it as switch first.
    If someone needs a throttle instead of completely switching off the writes to the DB, this can be brought up again and the throttle can be built upon the solution we already have.

 .../openwhisk/core/database/ActivationStore.scala  | 21 +++++++++++++++-
 .../apache/openwhisk/core/entity/Identity.scala    |  5 ++--
 .../openwhisk/core/controller/Triggers.scala       |  3 ++-
 .../core/controller/actions/PrimitiveActions.scala |  2 +-
 .../core/controller/actions/SequenceActions.scala  |  2 +-
 .../openwhisk/core/invoker/InvokerReactive.scala   |  2 +-
 tests/src/test/scala/limits/ThrottleTests.scala    | 28 ++++++++++++++++++++--
 .../openwhisk/core/admin/WskAdminTests.scala       | 15 ++++++++++++
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/database/LimitsCommandTests.scala         |  5 +++-
 tools/admin/README-NEXT.md                         |  4 ++++
 tools/admin/README.md                              |  4 ++++
 .../openwhisk/core/database/LimitsCommand.scala    | 13 ++++++++--
 tools/admin/wskadmin                               | 13 ++++++++--
 14 files changed, 104 insertions(+), 15 deletions(-)

commit 7ff15502949fa21ab5621825204397ad9eb6dfe5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jan 23 15:30:03 2019 -0500

    Use Stricter Retry Logic in AkkaContainerClient (#4223)

 .../openwhisk/core/containerpool/AkkaContainerClient.scala    | 11 ++++++++---
 1 file changed, 8 insertions(+), 3 deletions(-)

commit a248348349f0e8f20322d3efe8ca4f9b5097cce4
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Jan 23 17:01:51 2019 +0100

    Make fraction of managed invokers configurable. (#4220)
    
    * Make fraction of managed invokers configurable.
    
    This PR makes the fraction of the pool of managed invokers configurable. This also allows to have an overlap between the pool of blackbox invokers and the pool of managed invokers.
    
    The proposal has been discussed here: https://lists.apache.org/thread.html/508e10ec9e800bb239363861385818c95d90ad1aa7df64f3b8904580@%3Cdev.openwhisk.apache.org%3E

 ansible/group_vars/all                                  |  6 ++++--
 ansible/roles/controller/tasks/deploy.yml               |  2 ++
 core/controller/src/main/resources/reference.conf       |  1 +
 .../loadBalancer/ShardingContainerPoolBalancer.scala    | 16 ++++++++++++----
 .../test/ShardingContainerPoolBalancerTests.scala       | 17 +++++++++++++++--
 5 files changed, 34 insertions(+), 8 deletions(-)

commit 2312b7d6b913fc30bcd56643285fa29aaa18815c
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Jan 21 02:13:48 2019 -0800

    Recreate HTTP client on Container.resume(). (#4185)
    
    reopen connections only once, during Container.resume()

 .../openwhisk/core/containerpool/Container.scala   | 44 +++++++++++++++-------
 .../apache/openwhisk/core/mesos/MesosTask.scala    |  4 +-
 .../containerpool/docker/DockerContainer.scala     |  5 ++-
 .../kubernetes/KubernetesContainer.scala           |  3 +-
 .../test/DockerToActivationLogStoreTests.scala     |  2 +-
 .../containerpool/test/ContainerProxyTests.scala   | 18 ++++++---
 6 files changed, 50 insertions(+), 26 deletions(-)

commit 00fad9520342a83ea6adf83c511e5bf25f47109a
Author: Christophe Jelger <jelger@adobe.com>
Date:   Fri Jan 18 18:58:16 2019 +0100

    Added a comment for vagrant image issue on MacOS Mojave with VirtualB… (#4222)

 tools/vagrant/README.md | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 15a30098b4829ba9ed8402d8055115fcfcd819d5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jan 18 10:29:08 2019 -0500

    Use Stricter Retry Logic in ApacheBlockingContainerClient (#4141)
    
    * Use Stricter Retry Logic in ApacheBlockingContainerClient
    
    * Scala Format
    
    * Update Tests
    
    * Simplify timeout calculation
    
    * Remove max retry threshold
    
    * Remove unneeded variable
    
    * Remove unnecessary type conversion
    
    * Add comment for sleep units

 .../core/containerpool/ApacheBlockingContainerClient.scala        | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit f1ccdbab67f0bbea19f1f1d6213eb4f1ed1da7b2
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jan 17 12:50:19 2019 -0500

    Avoid Database Replicator Failures (#4214)
    
    * Avoid Database Replicator Failures
    
    * Clean up backup DB and replication doc before test runs

 .../apache/openwhisk/core/database/test/ReplicatorTests.scala    | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit ff08ff5dcad1a5a62c749dc84e8e5fae73291a36
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jan 17 12:33:18 2019 -0500

    during api create, correctly handle non-default (i.e. "_") namespaces (#4221)
    
    * during api create, correctly handle non-default (i.e. "_") namespaces

 core/routemgmt/common/apigw-utils.js | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 19a19810f35c503d1125fcff5fd7885aa199cd2b
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Jan 17 11:31:08 2019 -0500

    additional container factory dns configuration (#4176)
    
    Allow configuration of the --dns-search and --dns-opt (--dns-option)
    arguments to the docker run command of the DockerContainerFactory.
    Motivated by better support of event providers in Kubernetes when
    using the DockerContainerFactory.

 .../core/containerpool/ContainerFactory.scala      |  2 ++
 core/invoker/src/main/resources/application.conf   |  4 ++++
 .../core/containerpool/docker/DockerClient.scala   | 24 +++++++++++++++++++++-
 .../containerpool/docker/DockerContainer.scala     |  6 ++++++
 .../docker/DockerContainerFactory.scala            |  2 ++
 .../docker/test/DockerClientTests.scala            |  3 +++
 .../test/DockerClientWithFileAccessTests.scala     |  2 ++
 .../docker/test/DockerContainerFactoryTests.scala  |  6 +++++-
 .../docker/test/DockerContainerTests.scala         |  2 ++
 .../mesos/test/MesosContainerFactoryTest.scala     | 14 +++++++++++--
 .../test/ContainerArgsConfigTest.scala             | 10 +++++++++
 11 files changed, 71 insertions(+), 4 deletions(-)

commit 1d8e7c50f4e7a939997205372b7ec741a78be2ad
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jan 17 14:46:27 2019 +0530

    Enable Kamon System Metrics module (#4213)
    
    This PR enabled the export of JVM metrics via Kamon.

 common/scala/build.gradle                                          | 7 ++++++-
 common/scala/src/main/resources/application.conf                   | 4 ++++
 .../scala/src/main/scala/org/apache/openwhisk/common/Logging.scala | 5 +++++
 3 files changed, 15 insertions(+), 1 deletion(-)

commit 408a06aca594520e732cff05a4ce92cd1019d80d
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Jan 16 20:49:26 2019 +0530

    Enable configuring CosmosDB client per collection (#4198)
    
    * Enable entity specific config

 common/scala/src/main/resources/application.conf   |  49 +++++++-
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |   5 +
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala   |  27 +++--
 .../core/database/cosmosdb/CosmosDBConfig.scala    |  88 +++++++++++++++
 .../core/database/cosmosdb/CosmosDBUtil.scala      |  10 --
 .../database/cosmosdb/CosmosDBConfigTests.scala    | 125 +++++++++++++++++++++
 .../database/cosmosdb/CosmosDBTestSupport.scala    |   2 +-
 7 files changed, 277 insertions(+), 29 deletions(-)

commit e51b7484bb40b8cd12725b495d97079d3771b23c
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Jan 15 16:20:37 2019 +0100

    fix rejection behavior with alterative authentication methods (#4163)

 .../src/main/scala/org/apache/openwhisk/http/BasicHttpService.scala      | 1 +
 1 file changed, 1 insertion(+)

commit bb96c21271a3a981e3fe92ec9854178196896b78
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jan 14 15:50:33 2019 +0530

    Optimize Kamon metric update flow (#4212)
    
    * Optimize Kamon metric update flow
    
    * Add comment to explain why var is fine

 .../org/apache/openwhisk/common/Logging.scala      | 95 +++++++++++++++-------
 1 file changed, 67 insertions(+), 28 deletions(-)

commit 5e94e0b3045a660c54a248fc0eb8cc401cbec2c5
Author: Carlos Santana <csantanapr@apache.org>
Date:   Wed Jan 9 17:29:29 2019 -0500

    Add swift:4.2 in default deployment (#4210)

 ansible/files/runtimes.json                        | 16 +++-
 .../src/main/resources/apiv1swagger.json           |  1 +
 docs/actions-swift.md                              | 90 ++++++++++++++++++++--
 tests/dat/actions/unicode.tests/swift-4.2.txt      | 12 +++
 4 files changed, 111 insertions(+), 8 deletions(-)

commit e5103265887e034aee6732e8776c3b95f7ba8742
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jan 9 14:04:07 2019 -0500

    Make activation polling for blocking invocations configurable (#4088)
    
    * Make activation polling for blocking invocations configurable
    
    * Update Tests

 ansible/roles/controller/tasks/deploy.yml          |   2 +
 common/scala/src/main/resources/application.conf   |   6 ++
 .../org/apache/openwhisk/core/WhiskConfig.scala    |   2 +
 .../core/controller/actions/PrimitiveActions.scala |  20 +++-
 .../core/controller/test/ActionsApiTests.scala     | 118 +++++++++++----------
 5 files changed, 90 insertions(+), 58 deletions(-)

commit b03c0b8790a48ca21ba7bee781aa8bb595bc8025
Author: Martin Henke <martin.henke@web.de>
Date:   Wed Jan 9 15:10:44 2019 +0100

    Handle kafka exception thrown when creating the admin client. (#4187)

 .../connector/kafka/KafkaMessagingProvider.scala   | 51 ++++++++++++----------
 1 file changed, 29 insertions(+), 22 deletions(-)

commit b50254d3ccb83e5960e88b5b8521396ca9c54dd1
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Jan 9 19:03:25 2019 +0530

    Update to Kamon 1.1.3 from 0.6 series (#4165)
    
    This change is a stepping stone for metrics reporting via Prometheus. Kamon Prometheus support was added with Kamon 1.0 series.

 common/scala/build.gradle                          |  4 +-
 common/scala/src/main/resources/application.conf   | 19 +++++-----
 .../org/apache/openwhisk/common/Logging.scala      | 44 +++++++++++++++++-----
 .../openwhisk/core/controller/Controller.scala     |  8 ++--
 .../apache/openwhisk/core/invoker/Invoker.scala    | 12 +++---
 5 files changed, 55 insertions(+), 32 deletions(-)

commit 074998dbc6000dc832ac7860410226de25612ffb
Author: Andy Steed <andrewsteed@gmail.com>
Date:   Tue Jan 8 21:41:25 2019 -0800

    Update main classname for wskadmin-next due to openwhisk package renames (#4208)

 tools/admin/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ce862fadbae642c7ca7489498229d0d65d94d616
Author: Sciabarra.com ltd <30654959+sciabarracom@users.noreply.github.com>
Date:   Tue Jan 8 16:21:03 2019 +0100

    python37 test case for testing actionloop-python-v3.7 (#4193)

 tests/dat/actions/python37_virtualenv.zip | Bin 0 -> 4100649 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit e32a4038825da2ea42e6f0c1596ab68b52867dfa
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jan 8 17:17:54 2019 +0530

    Route Gatling failure logs to file (#4151)

 ansible/logs.yml                                           |  5 +++++
 .../gatling_tests/src/gatling/resources/conf/logback.xml   | 14 +++++++++++++-
 2 files changed, 18 insertions(+), 1 deletion(-)

commit 57c5e9eae02f554adbca78b1fa2346fe1bd11b0c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jan 8 02:12:44 2019 +0530

    Make exec aka code max size configurable (#4156)
    
    Factors out the max size of 48MB for the exec blog to a deployment parameter. This makes it easier to lower the limit but not yet increase it.

 common/scala/src/main/resources/application.conf          |  3 +++
 .../scala/org/apache/openwhisk/core/WhiskConfig.scala     |  1 +
 .../scala/org/apache/openwhisk/core/entity/Exec.scala     | 15 ++++++++++-----
 docs/reference.md                                         |  4 ++--
 4 files changed, 16 insertions(+), 7 deletions(-)

commit 4a5a395f7d12ff87042ede787e30269ad47f9d9a
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Jan 7 13:29:42 2019 -0500

    Remove Unit Test redundancy (#4206)

 tools/travis/runTests.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit db9364b862b184b38e95689adeba7ae2682f7b6e
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Jan 7 09:12:59 2019 -0500

    Switch to new Box Upload proxy (#4200)
    
    * Switch to new Box Upload proxy
    
    * Add stderr redirect to docker logs, just because

 ansible/logs.yml           |  2 +-
 tools/travis/box-upload.py | 32 +++++++++++++++++++++++++++++---
 tools/travis/setup.sh      |  3 +++
 3 files changed, 33 insertions(+), 4 deletions(-)

commit 5ef94330b335e5977cadb9c0cfca4072f122018c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jan 7 17:16:59 2019 +0530

    Disable system exit by akka for test runs (#4199)

 tests/src/test/resources/application.conf.j2 | 3 +++
 1 file changed, 3 insertions(+)

commit cb02bdb775b23a97ba224ebc49f06fdddd514074
Author: Minh Thai <minhthai40@gmail.com>
Date:   Sat Dec 22 17:13:58 2018 +0800

    Fix a typo in readme (#4191)

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2759666f7f3bf8f2d07bc7886a2ecaa1575c4039
Author: Danilo Filgueira Mendonça <dfmendonca@gmail.com>
Date:   Fri Dec 21 16:02:02 2018 +0100

    Fix class name in the gatling test instructions (#4190)
    
    Fixes #4188

 tests/performance/README.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 5f77ffcd64960dd0a7db6f32748a56ad259a04ed
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Dec 17 12:27:13 2018 -0800

    use latest mesos-actor  (#4173)
    
    * use latest mesos-actor (includes better heartbeat handling and more defensive task matching code)

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1bd21bccc7ad90b0081add8e1a9cd736dc60ad47
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Dec 18 00:46:23 2018 +0530

    Ensure cache gets properly updated with concurrent access for action with attachments (#4183)

 .../openwhisk/core/database/DocumentFactory.scala  | 155 +++++++--------------
 .../apache/openwhisk/core/entity/WhiskAction.scala |   5 +-
 .../core/controller/test/ActionsApiTests.scala     |  57 +++++++-
 3 files changed, 109 insertions(+), 108 deletions(-)

commit 053bd9aefe75033d1e6c09e341d34c4e116bf7d4
Author: Rob Allen <rob@akrabat.com>
Date:   Mon Dec 17 17:46:11 2018 +0000

    Add PHP 7.3 runtime (#4182)

 ansible/files/runtimes.json                        | 16 ++++++++++++++-
 .../src/main/resources/apiv1swagger.json           |  1 +
 docs/actions-new.md                                |  2 +-
 docs/actions-php.md                                | 23 +++++++++++++++-------
 tests/dat/actions/unicode.tests/php-7.3.txt        |  9 +++++++++
 5 files changed, 42 insertions(+), 9 deletions(-)

commit 1686a8519a7bcb9d94585c1858fd32795f7f1053
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Dec 17 17:41:18 2018 +0100

    Add tid from header to RestResult in tests. (#4167)
    
    Adds the tid from the tid-header to the rest result. This will enhance debugging failed test cases.
    In addition this PR cleans up the Warnings in WskRestOperations.

 .../test/scala/common/rest/WskRestOperations.scala | 268 ++++++++++-----------
 .../core/cli/test/WskRestEntitlementTests.scala    |   6 +-
 .../scala/system/basic/WskRestBasicTests.scala     |  16 +-
 .../test/scala/system/basic/WskRestRuleTests.scala |   4 +-
 4 files changed, 141 insertions(+), 153 deletions(-)

commit 780c98c8983ecc470be6803988b0e94334d8a65e
Author: Carlos Santana <csantanapr@apache.org>
Date:   Sat Dec 15 12:15:44 2018 -0800

    update dotnet doc to use .zip with wsk cli (#4180)

 docs/actions-dotnet.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 69dd806480fc4743e9dba04f2f1026e60c384755
Author: Shawn Black <shawnallen85@users.noreply.github.com>
Date:   Fri Dec 14 05:47:57 2018 -0600

    .NET Core 2.2 Runtime (#4172)

 ansible/files/runtimes.json                        |  17 ++++
 .../src/main/resources/apiv1swagger.json           |   3 +-
 docs/actions-dotnet.md                             | 107 +++++++++++++++++++++
 docs/actions.md                                    |   1 +
 tests/dat/actions/unicode.tests/dotnet-2.2.bin     | Bin 0 -> 676736 bytes
 .../Apache.OpenWhisk.UnicodeTests.Dotnet.csproj    |  27 ++++++
 .../Unicode.cs                                     |  35 +++++++
 .../dotnet2.2/openwhisk-unicodetests-dotnet.sln    |  33 +++++++
 .../test/scala/system/basic/WskUnicodeTests.scala  |   4 +-
 9 files changed, 225 insertions(+), 2 deletions(-)

commit 9f66633aa930547b0ea7caa36d4c46d935d6224d
Author: Seong-hyun, Oh <admin@upgle.com>
Date:   Thu Dec 13 03:18:39 2018 +0900

    Update the package name and path in documents (#4166)

 docs/actions-new.md | 2 +-
 docs/concurrency.md | 4 ++--
 docs/mesos.md       | 4 ++--
 docs/spi.md         | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 03639af55b3bf3c0d0e4b5b2e349628f54d353b1
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Dec 12 09:38:01 2018 -0800

    Mesos - expose config for setting heartbeatMaxFailures to reconnect after master failover (#4171)
    
    Update to latest mesos-actor; expose config for setting heartbeatMaxFailures to reconnect after master failover

 common/scala/build.gradle                                             | 2 +-
 common/scala/src/main/resources/application.conf                      | 1 +
 .../scala/org/apache/openwhisk/core/mesos/MesosContainerFactory.scala | 4 +++-
 .../core/containerpool/mesos/test/MesosContainerFactoryTest.scala     | 3 ++-
 4 files changed, 7 insertions(+), 3 deletions(-)

commit 38bfc4b0d498ff6e9e97652c4fe0932114b7f72d
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Dec 11 17:01:42 2018 -0500

    disable broken swaggerCodegen test (#4170)

 tools/travis/runTests.sh | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 42831e76ecb01560877dbc15d5b50762232f3a3c
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Dec 10 13:30:46 2018 +0100

    Add additional debug information to Loadbalancer. (#4159)

 .../core/loadBalancer/ShardingContainerPoolBalancer.scala | 15 ++++++++-------
 1 file changed, 8 insertions(+), 7 deletions(-)

commit f2efca7e926b79c1780c59b67d353ed5c98ecb46
Author: Rob Allen <rob@akrabat.com>
Date:   Fri Dec 7 19:28:48 2018 +0000

    Do not link the `/run/runc` volume unless invoker.useRunc is set (#4149)
    
    * Do not link the `/run/runc` volume unless invoker.useRunc is set

 ansible/roles/invoker/tasks/deploy.yml | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 229b0c0eeaf4304583f0c744d04a58e199927694
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Dec 7 07:42:04 2018 -0600

    Cleanup/organize instructions for adding a new Action Runtime (#4099)

 docs/actions-new.md | 104 +++++++++++++++++++++++++++++++---------------------
 1 file changed, 62 insertions(+), 42 deletions(-)

commit 18216894f6602f1155353e9227aaf7e95740921f
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Dec 6 21:08:50 2018 -0800

    Concurrency limit updates (#4160)
    
    * propagate concurrency limits during action update

 .../org/apache/openwhisk/core/controller/Actions.scala  |  3 ++-
 .../core/controller/test/ActionsApiTests.scala          | 17 +++++++++++++++--
 2 files changed, 17 insertions(+), 3 deletions(-)

commit d1ca290656ab2750c31e7a8b159d6124dddf531a
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Dec 6 20:53:05 2018 -0500

    Revert "Proposing Lean OpenWhisk (#3886)" (#4161)
    
    This reverts commit d4a190c62f0aa1cd0bbecc62ad6b9885c70e9f6b.

 ansible/README.md                                  |  11 -
 ansible/controller-lean.yml                        |  39 ---
 ansible/openwhisk-lean.yml                         |  12 -
 ansible/roles/controller/tasks/deploy.yml          |  43 ++--
 ansible/roles/controller/tasks/lean.yml            |  56 -----
 ansible/roles/invoker/tasks/deploy.yml             |   2 -
 ansible/setup.yml                                  |   4 -
 .../openwhisk/connector/lean/LeanConsumer.scala    |  44 ----
 .../connector/lean/LeanMessagingProvider.scala     |  67 -----
 .../openwhisk/connector/lean/LeanProducer.scala    |  59 -----
 core/controller/build.gradle                       |   1 -
 .../openwhisk/core/loadBalancer/LeanBalancer.scala | 276 ---------------------
 core/lean/Dockerfile                               |  55 ----
 core/lean/Dockerfile.cov                           |  16 --
 core/lean/build.gradle                             |  55 ----
 core/lean/init.sh                                  |  10 -
 settings.gradle                                    |   1 -
 tests/build.gradle                                 |  38 +--
 tests/performance/preparation/deploy-lean.sh       |  38 ---
 .../openwhisk/core/cli/test/BaseApiGwTests.scala   |   3 -
 tools/travis/distDocker-lean.sh                    |  32 ---
 tools/travis/setupLeanSystem.sh                    |  34 ---
 tools/vagrant/README.md                            |   9 -
 tools/vagrant/Vagrantfile                          |  11 +-
 24 files changed, 32 insertions(+), 884 deletions(-)

commit d4a190c62f0aa1cd0bbecc62ad6b9885c70e9f6b
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Fri Dec 7 00:22:15 2018 +0200

    Proposing Lean OpenWhisk (#3886)
    
    Add a lean configuration option in which the controller and invoker components are merged into a single JVM process that communicate via in-memory implementation of the MessagingProvider SPI.

 ansible/README.md                                  |  11 +
 ansible/controller-lean.yml                        |  39 +++
 ansible/openwhisk-lean.yml                         |  12 +
 ansible/roles/controller/tasks/deploy.yml          |  43 ++--
 ansible/roles/controller/tasks/lean.yml            |  56 +++++
 ansible/roles/invoker/tasks/deploy.yml             |   2 +
 ansible/setup.yml                                  |   4 +
 .../openwhisk/connector/lean/LeanConsumer.scala    |  44 ++++
 .../connector/lean/LeanMessagingProvider.scala     |  67 +++++
 .../openwhisk/connector/lean/LeanProducer.scala    |  59 +++++
 core/controller/build.gradle                       |   1 +
 .../openwhisk/core/loadBalancer/LeanBalancer.scala | 276 +++++++++++++++++++++
 core/lean/Dockerfile                               |  55 ++++
 core/lean/Dockerfile.cov                           |  16 ++
 core/lean/build.gradle                             |  55 ++++
 core/lean/init.sh                                  |  10 +
 settings.gradle                                    |   1 +
 tests/build.gradle                                 |  38 ++-
 tests/performance/preparation/deploy-lean.sh       |  38 +++
 .../openwhisk/core/cli/test/BaseApiGwTests.scala   |   3 +
 tools/travis/distDocker-lean.sh                    |  32 +++
 tools/travis/setupLeanSystem.sh                    |  34 +++
 tools/vagrant/README.md                            |   9 +
 tools/vagrant/Vagrantfile                          |  11 +-
 24 files changed, 884 insertions(+), 32 deletions(-)

commit 885f228bd0417f134f7e9fe6a6e0c43d070e19fe
Author: ddragosd <ddragosd@gmail.com>
Date:   Thu Dec 6 13:54:33 2018 -0800

    tools/dev - updated intellij script to start controller and invoker locally (#4142)
    
    * tools/dev - updated intellij script for docker-compose
    * Added support for docker for mac
    * log-limit is 0 to avoid collection logs
    * updates for wskdev with ansible

 ansible/group_vars/all                             |  2 +-
 .../core/containerpool/docker/DockerClient.scala   |  2 +-
 .../docker/DockerContainerFactory.scala            |  5 +-
 .../docker/DockerForMacContainerFactory.scala      | 75 ++++++++++++++++++++++
 tools/dev/README.md                                | 26 ++++++--
 tools/dev/build.gradle                             |  1 +
 tools/dev/src/main/groovy/intellijRunConfig.groovy | 22 +++++--
 7 files changed, 120 insertions(+), 13 deletions(-)

commit 66462371ab4266fb3db97cee13632424c6ed6811
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Thu Dec 6 19:58:15 2018 +0200

    Making Redis password protected (#4108)

 ansible/group_vars/all                    | 1 +
 ansible/roles/apigateway/tasks/deploy.yml | 1 +
 ansible/roles/redis/tasks/deploy.yml      | 9 +++++++--
 3 files changed, 9 insertions(+), 2 deletions(-)

commit 570c044592010cddf2d6e40b9b49aa66fd91523a
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Dec 6 10:07:36 2018 -0500

    Consolidate to a single tools/ow-utils docker image (#4158)
    
    Rather than defining separate images for running shell scripts,
    running ansible playbooks, running gradle tasks, etc. switch
    to an uber utility image that will include wsk, wsk-deploy,
    and all the software packages to execute our various scripting
    languages.

 settings.gradle                               |  3 +-
 tools/ansibleRunner/Dockerfile                | 28 ------------------
 tools/ansibleRunner/build.gradle              | 19 -------------
 tools/jenkins/apache/dockerhub.groovy         |  2 +-
 tools/ow-utils/Dockerfile                     | 41 +++++++++++++++++++++++++++
 tools/{ansibleRunner => ow-utils}/README.md   | 11 +++----
 tools/{scriptRunner => ow-utils}/build.gradle |  2 +-
 tools/scriptRunner/Dockerfile                 | 26 -----------------
 tools/scriptRunner/README.md                  | 28 ------------------
 tools/scriptRunner/init.sh                    | 13 ---------
 10 files changed, 50 insertions(+), 123 deletions(-)

commit 8cb994ea7fe3a3fddebe6bec44b4d762bd3ed259
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Dec 6 15:58:22 2018 +0530

    Make ActionLimits test more reliable (#4155)
    
    * In the past, this test occasionally failed when the system was low on memory because the test allocated one large buffer.
    * Now, the test gradually allocates smaller buffers and writes random values to them such that physical pages are kept resident for the allocated memory.

 tests/dat/actions/memoryWithGC.js                  | 89 ++++++++++++++++++++--
 .../openwhisk/core/limits/ActionLimitsTests.scala  |  5 +-
 2 files changed, 85 insertions(+), 9 deletions(-)

commit 54a2f228b744f88cfe3186b10f00e9cb80309886
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Dec 6 02:22:40 2018 -0500

    Record the blocking activation in the proper map before the request is sent to the invoker. (#4145)

 .../ShardingContainerPoolBalancer.scala            | 57 +++++++++++++---------
 .../test/ShardingContainerPoolBalancerTests.scala  |  2 +-
 2 files changed, 36 insertions(+), 23 deletions(-)

commit ec36051479a06b574ccd2547e7fd07319ad33071
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Dec 6 02:19:46 2018 +0530

    Make query limits configurable (#4157)

 common/scala/src/main/resources/application.conf              |  5 +++++
 .../main/scala/org/apache/openwhisk/core/WhiskConfig.scala    |  1 +
 .../org/apache/openwhisk/core/entitlement/Collection.scala    | 11 +++++++----
 3 files changed, 13 insertions(+), 4 deletions(-)

commit de2663fdcef41ae39fe5985c62f46c75f26427a4
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Dec 4 11:18:31 2018 -0500

    add composer-python to CREDITS.txt (#4154)
    
    * add composer-python to CREDITS.txt

 CREDITS.txt | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 2bf2ace9636d7c84a23d7764aa5379c1f4b9015e
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Dec 4 10:20:22 2018 -0500

    optionally prohibit test cases using --auth to override the namespace target (#4153)

 tests/src/test/scala/common/RunCliCmd.scala | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 056b5af2e2edefc1ff2b9b182e81c3c3ee9e1da3
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Dec 3 19:44:51 2018 -0800

    Update to cosmosdb sdk 2.3.0 (#4147)

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cbf05847c0f9d1658e9e2dc5de5eed2cd540fbb4
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Nov 30 15:39:24 2018 -0500

    add wskdeploy to scriptRunner Dockerfile (#4144)
    
    Prepare for wskdeploy being used to install catalog
    by including wskdeploy cli in this image (which is used
    to install the catalog in the kube-deploy project).

 tools/scriptRunner/Dockerfile | 6 ++++++
 1 file changed, 6 insertions(+)

commit a790bb89958d49d63be7e69ba62a1cb7f7e8d646
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Nov 30 03:18:47 2018 +0530

    Update to Gradle 4.10.2 (#4111)

 build.gradle                                       |  4 +---
 gradle/wrapper/gradle-wrapper.properties           |  2 +-
 .../org/apache/openwhisk/GradleWorkaround.scala    | 23 ++++++++++++++++++++++
 3 files changed, 25 insertions(+), 4 deletions(-)

commit 7f571c32bb8f3155c89f1d96fda4320909e097fd
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Thu Nov 29 15:08:48 2018 +0800

    Ensure ResultMessage is processed. (#4135)

 .../ShardingContainerPoolBalancer.scala            | 29 ++++++++++------------
 1 file changed, 13 insertions(+), 16 deletions(-)

commit eff21ec7481d3b72ae0273dba8bcae09b87e73e0
Author: Andy Steed <andrewsteed@gmail.com>
Date:   Wed Nov 28 17:11:36 2018 -0800

    Update KindRestrictor to merge namespace and default whitelists (#4114)
    
    Merge subject whitelist limit and default whitelist during KindRestrictor check

 .../apache/openwhisk/core/entitlement/KindRestrictor.scala   |  6 ++----
 .../openwhisk/core/controller/test/KindRestrictorTests.scala | 12 ++++++------
 2 files changed, 8 insertions(+), 10 deletions(-)

commit cba3b7b3d815abe67efdcb7fb4ed63fa9cf788ac
Author: Andy Steed <andrewsteed@gmail.com>
Date:   Wed Nov 28 12:06:16 2018 -0800

    Protect Package Bindings from containing circular references (#4122)
    
    Use incoming package binding for update when calling checkBinding and add protection to prevent following circular package bindings.

 .../org/apache/openwhisk/http/ErrorResponse.scala  |  1 +
 .../openwhisk/core/controller/Packages.scala       | 15 ++++++++++-----
 .../core/entitlement/PackageCollection.scala       | 10 +++++++++-
 .../core/controller/test/PackagesApiTests.scala    | 22 ++++++++++++++++++++++
 4 files changed, 42 insertions(+), 6 deletions(-)

commit 83de20ef2b7ef383a5708b59f36ba38e4cc279a8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Nov 28 19:03:37 2018 +0530

    Fix package for system basic tests (#4138)

 tests/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a183b3e17daa18625476d31629385e130c5a01ed
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Wed Nov 28 08:08:21 2018 +0100

    Reduce invoker health action memory limit to the minimum available memory limit. (#4136)

 .../org/apache/openwhisk/core/loadBalancer/InvokerSupervision.scala    | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7bd49718232d0381b53794f9353c014a1abfef15
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Nov 26 08:11:11 2018 -0800

    missed the -c arg for wsk cli tests around concurrency (#4132)

 tests/src/test/scala/common/WskCliOperations.scala | 4 ++++
 1 file changed, 4 insertions(+)

commit c045b420f71b170f8a0c8e416d8cb19ea2c8e571
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Nov 23 16:33:30 2018 -0500

    Use "latest" as default tag for apigateway (#4087)

 ansible/group_vars/all | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 17b9f438bb961195ba1f39d0eb6732169b216ad8
Author: 김건희 <kimkh6554@gmail.com>
Date:   Sat Nov 24 06:31:25 2018 +0900

    Delete unnecessary code comments (#4128)

 .../loadBalancer/ShardingContainerPoolBalancer.scala     | 16 ----------------
 1 file changed, 16 deletions(-)

commit b803c64366e273a0747c25c55873eb733a42f793
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Nov 23 22:29:26 2018 +0100

    Ensure that Result-ack is sent before Completion-ack. (#4115)
    
    Improves comments to clarify the ordering of result and completion messages.
    Adds a type alias for the active ack messages, and document the interface.
    
    Co-authored-by: Christian Bickel <cbickel@de.ibm.com>
    Co-authored-by: Rodric Rabbah <rodric@gmail.com>

 .../core/containerpool/ContainerProxy.scala        | 29 +++++++++++++++++-----
 .../openwhisk/core/invoker/InvokerReactive.scala   | 29 +++++++++++++++++-----
 2 files changed, 46 insertions(+), 12 deletions(-)

commit fbb37d3760322794abe951ef9632ac01ff1be497
Author: Su <sugandha.agrawal18@gmail.com>
Date:   Fri Nov 23 14:52:25 2018 +0100

    Send system overload metric from Controller. (#4131)

 common/scala/src/main/scala/org/apache/openwhisk/common/Logging.scala   | 2 ++
 .../openwhisk/core/loadBalancer/ShardingContainerPoolBalancer.scala     | 1 +
 2 files changed, 3 insertions(+)

commit e97b6ce17f2bdc98c008d38c0219ae36c921ba27
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Nov 21 21:54:08 2018 +0530

    Fix netty leak in CosmosDBArtifactStore(#4126)
    
    In some cases where query has limit applied, some netty leak related exceptions have been logged when using CosmosDBArtifactStore. This change revises how the limits are applied, and adds tests for asserting the absence of leaks.

 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  9 +-
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      | 23 +++++
 .../core/database/cosmosdb/CosmosDBLeakTests.scala | 97 ++++++++++++++++++++++
 .../database/cosmosdb/RecordingLeakDetector.java   | 41 +++++++++
 .../cosmosdb/RecordingLeakDetectorFactory.java     | 34 ++++++++
 5 files changed, 197 insertions(+), 7 deletions(-)

commit b44188ff3121b16963b2c9e657625930cc634ec2
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Nov 20 15:45:41 2018 +0100

    re-enable system test without enabled concurrency (#4125)
    
    Run system tests with concurrency 1 if action concurrency is disabled.

 ansible/templates/whisk.properties.j2                         |  2 ++
 tests/dat/actions/concurrent.js                               |  2 +-
 .../core/containerpool/test/ContainerPoolTests.scala          |  6 +++---
 .../core/containerpool/test/ContainerProxyTests.scala         | 11 ++++++++---
 .../org/apache/openwhisk/core/limits/ActionLimitsTests.scala  |  8 +++++++-
 .../org/apache/openwhisk/core/limits/ConcurrencyTests.scala   | 11 ++++++-----
 .../test/ShardingContainerPoolBalancerTests.scala             |  7 +++++--
 7 files changed, 32 insertions(+), 15 deletions(-)

commit f35e23ae19b87bf6c3d27f579ca42a4da8ebb2b0
Author: Carlos Santana <csantanapr@apache.org>
Date:   Mon Nov 19 23:29:29 2018 -0500

    Add nodejs:10 to default set of runtimes for ansible/vagrant (#4124)

 ansible/files/runtimes.json                        | 14 +++++++++++++
 .../src/main/resources/apiv1swagger.json           |  1 +
 docs/{actions-node.md => actions-nodejs.md}        | 23 ++++++++++++++--------
 docs/actions.md                                    |  2 +-
 docs/concurrency.md                                |  2 +-
 tests/dat/actions/unicode.tests/nodejs-10.txt      |  8 ++++++++
 6 files changed, 40 insertions(+), 10 deletions(-)

commit 1434b21a85a1fb19214d33e36fb89e1bb059bf10
Author: atsag <andreastsagkaropoulos@hotmail.com>
Date:   Mon Nov 19 23:19:41 2018 +0200

    Vagrant documentation improvement (#4120)
    
    * Added link to wsk client binaries as these are not built for Windows, and added appropriate Windows Powershell code to correctly handle nested commands in Windows systems
    
    * Replaced references to compiled wsk binaries for Windows and MacOS with suitable downloads, refined commands to properly accommodate Windows Powershell

 tools/vagrant/README.md | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit d38a00e6e84480408f3c80930e94fff47b72aace
Author: David Podhola <david.podhola@naseukoly.cz>
Date:   Fri Nov 16 13:56:48 2018 +0100

    Fix typo (activations->activation) (#4116)

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b7542c9eff7748d756db0ef4888222def59f80ae
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Nov 15 13:02:20 2018 +0530

    Exclude unused transitive dependencies. (#4110)
    
    * Exclude Scala Compiler from dependencies
    * Remove test dependencies

 common/scala/build.gradle | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit 536ce94af92a9b72ae1b82b16242d2c8177478b0
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Nov 15 06:49:37 2018 +0100

    Cache empty auth results to reduce db load (#4104)
    
    cache empty results to avoid performance hits by calling webactions repeatedly. Also configure a fixed size for identity cache to ensure it does not grow unbounded with too many negative entries.
    
    * limit size of auth cache
    
    * Simplify logic to create the cache
    
    Co-Authored-By: mhenke1 <martin.henke@web.de>

 .../MultipleReadersSingleWriterCache.scala         | 49 ++++++++++------------
 .../apache/openwhisk/core/entity/Identity.scala    | 37 +++++++++-------
 .../ArtifactStoreSubjectQueryBehaviors.scala       | 16 +++++++
 3 files changed, 58 insertions(+), 44 deletions(-)

commit 0ffc98352ff87542d4a36cc1e2561bfa8a260784
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Nov 14 13:06:07 2018 -0800

    optionally enable concurrency in action containers (#2795)
    
    This patch adds intra-container concurrency for actions that run inside a runtime which supports concurrency (currently nodejs runtimes only). Actions must opt-into this behavior (by setting the appropriate limit on the action). There are some caveats wrt log collection and the user should be aware that the memory limit applies globally to all instances of the action running inside the container --- in other words, the memory limit is a hard cap irrespective of the max intra-container concurrency.

 .travis.yml                                        |  10 +-
 ansible/environments/local/group_vars/all          |   4 +
 ansible/roles/controller/tasks/deploy.yml          |   4 +
 ansible/roles/invoker/tasks/deploy.yml             |   5 +
 common/scala/src/main/resources/application.conf   |  10 +
 .../openwhisk/common/ForcibleSemaphore.scala       |   2 +-
 .../apache/openwhisk/common/NestedSemaphore.scala  | 116 +++++++++
 .../openwhisk/common/ResizableSemaphore.scala      | 115 +++++++++
 .../org/apache/openwhisk/core/WhiskConfig.scala    |   1 +
 .../core/containerpool/AkkaContainerClient.scala   |   4 +-
 .../openwhisk/core/containerpool/Container.scala   |  19 +-
 .../core/containerpool/ContainerFactory.scala      |   5 +-
 .../openwhisk/core/entity/ConcurrencyLimit.scala   |  85 +++++++
 .../org/apache/openwhisk/core/entity/Limits.scala  |  12 +-
 .../apache/openwhisk/core/entity/WhiskAction.scala |   7 +-
 .../src/main/resources/apiv1swagger.json           |   6 +
 .../apache/openwhisk/core/controller/Actions.scala |   6 +-
 .../openwhisk/core/loadBalancer/FeedFactory.scala  |  28 ++
 .../core/loadBalancer/InvokerPoolFactory.scala     |  35 +++
 .../ShardingContainerPoolBalancer.scala            | 173 +++++++++----
 core/invoker/src/main/resources/application.conf   |   1 +
 .../core/containerpool/ContainerPool.scala         |  76 ++++--
 .../core/containerpool/ContainerProxy.scala        | 164 +++++++++---
 .../containerpool/docker/DockerContainer.scala     |  10 +-
 .../openwhisk/core/invoker/InvokerReactive.scala   |  18 +-
 docs/actions.md                                    |   1 +
 docs/concurrency.md                                |  53 ++++
 tests/dat/actions/concurrent.js                    |  39 +++
 .../gatling/resources/data/nodeJSAsyncAction.js    |  12 +
 .../BlockingInvokeOneActionSimulation.scala        |   8 +-
 tests/performance/preparation/actions/async.js     |  10 +
 tests/performance/preparation/actions/noop.js      |   6 +
 tests/performance/preparation/create.sh            |  15 +-
 tests/performance/preparation/deploy.sh            |   2 +-
 tests/performance/wrk_tests/latency.sh             |   6 +-
 tests/performance/wrk_tests/throughput.sh          |  17 +-
 tests/src/test/resources/application.conf.j2       |   9 +
 .../scala/actionContainers/ActionContainer.scala   |  15 +-
 tests/src/test/scala/common/LoggedFunction.scala   |  66 +++++
 tests/src/test/scala/common/WskCliOperations.scala |   1 +
 tests/src/test/scala/common/WskOperations.scala    |   1 +
 .../test/scala/common/rest/WskRestOperations.scala |   4 +-
 .../openwhisk/common/NestedSemaphoreTests.scala    |  64 +++++
 .../openwhisk/common/ResizableSemaphoreTests.scala | 183 ++++++++++++++
 .../docker/test/DockerContainerTests.scala         |   9 +-
 .../kubernetes/test/KubernetesContainerTests.scala |   9 +-
 .../mesos/test/MesosContainerFactoryTest.scala     |   2 +-
 .../containerpool/test/ContainerPoolTests.scala    |  41 ++-
 .../containerpool/test/ContainerProxyTests.scala   | 250 ++++++++++++++----
 .../core/controller/test/ActionsApiTests.scala     |  45 +++-
 .../openwhisk/core/entity/test/ExecHelpers.scala   |   3 +
 .../openwhisk/core/entity/test/SchemaTests.scala   |  14 +-
 .../openwhisk/core/limits/ActionLimitsTests.scala  |  42 ++-
 .../openwhisk/core/limits/ConcurrencyTests.scala   | 150 +++++++++++
 .../test/ShardingContainerPoolBalancerTests.scala  | 281 +++++++++++++++++++--
 .../scala/system/basic/WskRestBasicTests.scala     |   3 +-
 tools/travis/runUnitTests.sh                       |   2 +
 57 files changed, 2041 insertions(+), 238 deletions(-)

commit 97bc8d568d96b975940dcebf38c325e5407d3869
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Nov 14 13:48:14 2018 -0500

    Initialise trigger activation only when active rules are present. (#4112)

 .../openwhisk/core/controller/Triggers.scala       | 25 +++++++++++-----------
 1 file changed, 12 insertions(+), 13 deletions(-)

commit 775b757ac7555c8371a5e03497622531984bf4f4
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Nov 13 08:03:13 2018 -0800

    Cleanup orphaned failed task launches (#4109)
    
    update mesos-actor and cleanup orphaned failed task launches
    
    * review feedback

 common/scala/build.gradle                          |  2 +-
 .../apache/openwhisk/core/mesos/MesosTask.scala    | 59 +++++++++++-----------
 2 files changed, 31 insertions(+), 30 deletions(-)

commit 33bb0e7c876548bdd68eee194f1f9bfd58ed0ef1
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Nov 12 16:25:03 2018 +0530

    Update to Spray-json 1.3.5 security fix release (#4106)
    
    Adapt test to use json object comparison instead of string comparison

 common/scala/build.gradle                          |  2 +-
 .../openwhisk/core/entity/test/SchemaTests.scala   | 34 +++++++++++-----------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit a800b5f577505cbbf2c451b005b386146fd6aa3d
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sun Nov 11 18:32:56 2018 -0500

    update from redis 3.2 to 4.0 (#4103)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be1e3a19c02956c9be85023a0bb0ff399c21444d
Author: Vincent <shou@us.ibm.com>
Date:   Thu Nov 8 09:33:51 2018 -0500

    Rename the package from whisk to org.apache.openwhisk (#4073)

 .travis.yml                                        |  8 ++--
 ansible/group_vars/all                             |  4 +-
 common/scala/src/main/resources/reference.conf     | 16 +++----
 .../apache/openwhisk}/common/CausedBy.scala        |  2 +-
 .../apache/openwhisk}/common/Config.scala          |  2 +-
 .../apache/openwhisk}/common/Counter.scala         |  2 +-
 .../openwhisk}/common/ForcibleSemaphore.scala      |  2 +-
 .../apache/openwhisk}/common/Https.scala           |  2 +-
 .../apache/openwhisk}/common/Logging.scala         |  4 +-
 .../apache/openwhisk}/common/RingBuffer.scala      |  2 +-
 .../apache/openwhisk}/common/Scheduler.scala       |  2 +-
 .../apache/openwhisk}/common/TransactionId.scala   |  6 +--
 .../apache/openwhisk}/common/UserEvents.scala      |  6 +--
 .../common/tracing/OpenTracingProvider.scala       |  6 +--
 .../connector/kafka/KafkaConsumerConnector.scala   | 14 +++---
 .../connector/kafka/KafkaMessagingProvider.scala   | 10 ++--
 .../connector/kafka/KafkaProducerConnector.scala   | 14 +++---
 .../apache/openwhisk}/core/WhiskConfig.scala       |  4 +-
 .../apache/openwhisk}/core/connector/Message.scala |  6 +--
 .../core/connector/MessageConsumer.scala           |  6 +--
 .../core/connector/MessageProducer.scala           |  2 +-
 .../core/connector/MessagingProvider.scala         | 10 ++--
 .../core/containerpool/AkkaContainerClient.scala   | 20 ++++----
 .../ApacheBlockingContainerClient.scala            | 10 ++--
 .../openwhisk}/core/containerpool/Container.scala  | 14 +++---
 .../core/containerpool/ContainerClient.scala       |  8 ++--
 .../core/containerpool/ContainerFactory.scala      | 10 ++--
 .../logging/DockerToActivationFileLogStore.scala   | 12 ++---
 .../logging/DockerToActivationLogStore.scala       | 12 ++---
 .../logging/ElasticSearchLogStore.scala            | 10 ++--
 .../logging/ElasticSearchRestClient.scala          |  6 +--
 .../containerpool/logging/LogDriverLogStore.scala  | 10 ++--
 .../core/containerpool/logging/LogStore.scala      | 12 ++---
 .../containerpool/logging/SplunkLogStore.scala     | 14 +++---
 .../openwhisk}/core/database/ActivationStore.scala |  8 ++--
 .../core/database/ArtifactActivationStore.scala    |  6 +--
 .../openwhisk}/core/database/ArtifactStore.scala   | 10 ++--
 .../core/database/ArtifactStoreExceptions.scala    |  2 +-
 .../core/database/ArtifactStoreProvider.scala      |  8 ++--
 .../openwhisk}/core/database/AttachmentStore.scala |  8 ++--
 .../core/database/AttachmentSupport.scala          | 10 ++--
 .../apache/openwhisk}/core/database/Batcher.scala  |  2 +-
 .../core/database/ConcurrentMapBackedCache.scala   |  2 +-
 .../core/database/CouchDbRestClient.scala          |  8 ++--
 .../core/database/CouchDbRestStore.scala           | 12 ++---
 .../core/database/CouchDbStoreProvider.scala       | 10 ++--
 .../openwhisk}/core/database/DocumentFactory.scala | 14 +++---
 .../openwhisk}/core/database/DocumentHandler.scala | 10 ++--
 .../MultipleReadersSingleWriterCache.scala         | 10 ++--
 .../core/database/RemoteCacheInvalidation.scala    | 28 +++++------
 .../openwhisk}/core/database/StoreUtils.scala      |  6 +--
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 18 ++++----
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala   | 14 +++---
 .../core/database/cosmosdb/CosmosDBSupport.scala   |  2 +-
 .../core/database/cosmosdb/CosmosDBUtil.scala      |  4 +-
 .../database/cosmosdb/CosmosDBViewMapper.scala     | 12 ++---
 .../core/database/cosmosdb/IndexingPolicy.scala    |  2 +-
 .../core/database/cosmosdb/ReferenceCounted.scala  |  2 +-
 .../database/cosmosdb/RxObservableImplicits.scala  |  2 +-
 .../core/database/memory/MemoryArtifactStore.scala | 18 ++++----
 .../database/memory/MemoryAttachmentStore.scala    | 17 ++++---
 .../core/database/memory/MemoryViewMapper.scala    |  8 ++--
 .../core/database/s3/S3AttachmentStore.scala       | 19 +++++---
 .../openwhisk}/core/entitlement/Privilege.scala    |  2 +-
 .../core/entity/ActivationEntityLimit.scala        |  6 +--
 .../openwhisk}/core/entity/ActivationId.scala      |  8 ++--
 .../openwhisk}/core/entity/ActivationLogs.scala    |  2 +-
 .../openwhisk}/core/entity/ActivationResult.scala  |  6 +--
 .../openwhisk}/core/entity/ArgNormalizer.scala     |  2 +-
 .../openwhisk}/core/entity/Attachments.scala       |  4 +-
 .../core/entity/BasicAuthenticationAuthKey.scala   |  2 +-
 .../apache/openwhisk}/core/entity/CacheKey.scala   |  2 +-
 .../apache/openwhisk}/core/entity/DocInfo.scala    |  4 +-
 .../openwhisk}/core/entity/DocumentReader.scala    |  2 +-
 .../apache/openwhisk}/core/entity/EntityPath.scala |  4 +-
 .../apache/openwhisk}/core/entity/Exec.scala       | 10 ++--
 .../openwhisk}/core/entity/ExecManifest.scala      | 10 ++--
 .../core/entity/FullyQualifiedEntityName.scala     |  4 +-
 .../openwhisk}/core/entity/GenericAuthKey.scala    |  2 +-
 .../apache/openwhisk}/core/entity/Identity.scala   | 16 +++----
 .../apache/openwhisk}/core/entity/InstanceId.scala |  8 ++--
 .../apache/openwhisk}/core/entity/Limits.scala     |  2 +-
 .../apache/openwhisk}/core/entity/LogLimit.scala   |  6 +--
 .../openwhisk}/core/entity/MemoryLimit.scala       |  6 +--
 .../apache/openwhisk}/core/entity/Parameter.scala  |  6 +--
 .../apache/openwhisk}/core/entity/Secret.scala     |  2 +-
 .../apache/openwhisk}/core/entity/SemVer.scala     |  2 +-
 .../apache/openwhisk}/core/entity/Size.scala       |  2 +-
 .../apache/openwhisk}/core/entity/Subject.scala    |  2 +-
 .../apache/openwhisk}/core/entity/TimeLimit.scala  |  4 +-
 .../apache/openwhisk}/core/entity/UUID.scala       |  2 +-
 .../openwhisk}/core/entity/WhiskAction.scala       | 14 +++---
 .../openwhisk}/core/entity/WhiskActivation.scala   |  8 ++--
 .../apache/openwhisk}/core/entity/WhiskAuth.scala  |  2 +-
 .../openwhisk}/core/entity/WhiskEntity.scala       |  6 +--
 .../openwhisk}/core/entity/WhiskPackage.scala      |  8 ++--
 .../apache/openwhisk}/core/entity/WhiskRule.scala  |  4 +-
 .../apache/openwhisk}/core/entity/WhiskStore.scala | 20 ++++----
 .../openwhisk}/core/entity/WhiskTrigger.scala      |  4 +-
 .../core/mesos/MesosContainerFactory.scala         | 28 +++++------
 .../apache/openwhisk}/core/mesos/MesosTask.scala   | 24 +++++-----
 .../apache/openwhisk}/http/BasicHttpService.scala  |  6 +--
 .../apache/openwhisk}/http/BasicRasService.scala   |  6 +--
 .../apache/openwhisk}/http/ErrorResponse.scala     | 14 +++---
 .../openwhisk}/http/LenientSprayJsonSupport.scala  |  2 +-
 .../apache/openwhisk}/http/PoolingRestClient.scala |  2 +-
 .../apache/openwhisk}/spi/SpiLoader.scala          |  2 +-
 .../apache/openwhisk}/utils/Exceptions.scala       |  4 +-
 .../openwhisk}/utils/ExecutionContextFactory.scala |  2 +-
 .../apache/openwhisk}/utils/JsHelpers.scala        |  2 +-
 .../apache/openwhisk}/utils/Retry.scala            |  2 +-
 .../apache/openwhisk}/utils/TimeHelpers.scala      |  2 +-
 core/controller/build.gradle                       |  2 +-
 .../openwhisk}/core/controller/Actions.scala       | 30 ++++++------
 .../openwhisk}/core/controller/Activations.scala   | 22 ++++-----
 .../openwhisk}/core/controller/ApiUtils.scala      | 20 ++++----
 .../core/controller/AuthenticatedRoute.scala       |  6 +--
 .../controller/AuthorizedRouteDispatcher.scala     | 20 ++++----
 .../openwhisk}/core/controller/Backend.scala       | 10 ++--
 .../controller/BasicAuthenticationDirective.scala  | 10 ++--
 .../openwhisk}/core/controller/Controller.scala    | 28 +++++------
 .../openwhisk}/core/controller/CorsSettings.scala  |  2 +-
 .../openwhisk}/core/controller/Entities.scala      | 22 ++++-----
 .../openwhisk}/core/controller/Namespaces.scala    |  8 ++--
 .../openwhisk}/core/controller/Packages.scala      | 18 ++++----
 .../openwhisk}/core/controller/RestAPIs.scala      | 24 +++++-----
 .../apache/openwhisk}/core/controller/Rules.scala  | 18 ++++----
 .../openwhisk}/core/controller/Triggers.scala      | 22 ++++-----
 .../openwhisk}/core/controller/WebActions.scala    | 28 +++++------
 .../controller/actions/PostActionActivation.scala  | 12 ++---
 .../core/controller/actions/PrimitiveActions.scala | 28 +++++------
 .../core/controller/actions/SequenceActions.scala  | 22 ++++-----
 .../core/entitlement/ActionCollection.scala        |  8 ++--
 .../core/entitlement/ActivationThrottler.scala     | 12 ++---
 .../openwhisk}/core/entitlement/Collection.scala   | 22 ++++-----
 .../openwhisk}/core/entitlement/Entitlement.scala  | 30 ++++++------
 .../core/entitlement/KindRestrictor.scala          |  6 +--
 .../core/entitlement/LocalEntitlement.scala        | 12 ++---
 .../core/entitlement/PackageCollection.scala       | 18 ++++----
 .../core/entitlement/RateThrottler.scala           | 10 ++--
 .../core/loadBalancer/InvokerSupervision.scala     | 16 +++----
 .../core/loadBalancer/LoadBalancer.scala           | 12 ++---
 .../ShardingContainerPoolBalancer.scala            | 18 ++++----
 core/invoker/build.gradle                          |  2 +-
 .../core/containerpool/ContainerPool.scala         | 10 ++--
 .../core/containerpool/ContainerProxy.scala        | 20 ++++----
 .../core/containerpool/docker/DockerClient.scala   | 10 ++--
 .../docker/DockerClientWithFileAccess.scala        | 10 ++--
 .../containerpool/docker/DockerContainer.scala     | 20 ++++----
 .../docker/DockerContainerFactory.scala            | 24 +++++-----
 .../core/containerpool/docker/ProcessRunner.scala  |  2 +-
 .../core/containerpool/docker/RuncClient.scala     | 12 ++---
 .../kubernetes/KubernetesClient.scala              | 18 ++++----
 .../KubernetesClientWithInvokerAgent.scala         |  6 +--
 .../kubernetes/KubernetesContainer.scala           | 16 +++----
 .../kubernetes/KubernetesContainerFactory.scala    | 20 ++++----
 .../core/invoker/InstanceIdAssigner.scala          |  4 +-
 .../apache/openwhisk}/core/invoker/Invoker.scala   | 26 +++++------
 .../openwhisk}/core/invoker/InvokerReactive.scala  | 26 +++++------
 .../core/invoker/NamespaceBlacklist.scala          | 10 ++--
 docs/spi.md                                        |  2 +-
 tests/build.gradle                                 | 27 +++++------
 .../apache/openwhisk}/ApiV1Simulation.scala        |  4 +-
 .../BlockingInvokeOneActionSimulation.scala        |  6 ++-
 .../openwhisk}/ColdBlockingInvokeSimulation.scala  |  6 ++-
 .../apache/openwhisk}/LatencySimulation.scala      |  4 +-
 .../extension/whisk/OpenWhiskActionBuilder.scala   |  2 +-
 .../openwhisk}/extension/whisk/OpenWhiskDsl.scala  |  2 +-
 .../extension/whisk/OpenWhiskProtocolBuilder.scala |  2 +-
 .../apache/openwhisk}/extension/whisk/Predef.scala |  2 +-
 tests/src/test/resources/application.conf.j2       |  4 +-
 .../scala/actionContainers/ActionContainer.scala   | 13 +++---
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  2 +-
 tests/src/test/scala/common/JsHelpers.scala        |  4 +-
 tests/src/test/scala/common/SimpleExec.scala       |  2 +-
 tests/src/test/scala/common/StreamLogging.scala    |  4 +-
 tests/src/test/scala/common/WskCliOperations.scala |  4 +-
 tests/src/test/scala/common/WskOperations.scala    |  2 +-
 tests/src/test/scala/common/WskTestHelpers.scala   |  2 +-
 tests/src/test/scala/common/WskTracingTests.scala  |  6 +--
 .../test/scala/common/rest/WskRestOperations.scala |  8 ++--
 .../src/test/scala/ha/CacheInvalidationTests.scala |  4 +-
 tests/src/test/scala/ha/ShootComponentsTests.scala | 10 ++--
 tests/src/test/scala/limits/ThrottleTests.scala    |  6 +--
 .../apache/openwhisk}/common/ConfigTests.scala     |  2 +-
 .../openwhisk}/common/ForcibleSemaphoreTests.scala |  2 +-
 .../apache/openwhisk}/common/RunCliCmdTests.scala  |  2 +-
 .../apache/openwhisk}/common/SchedulerTests.scala  |  2 +-
 .../apache/openwhisk}/common/UserEventTests.scala  |  8 ++--
 .../apache/openwhisk}/core/WhiskConfigTests.scala  |  2 +-
 .../openwhisk}/core/admin/WskAdminTests.scala      | 14 +++---
 .../test/ApiGwRestRoutemgmtActionTests.scala       |  2 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  2 +-
 .../core/cli/test/ApiGwRestBasicTests.scala        |  2 +-
 .../openwhisk}/core/cli/test/ApiGwRestTests.scala  |  2 +-
 .../openwhisk}/core/cli/test/BaseApiGwTests.scala  |  2 +-
 .../openwhisk}/core/cli/test/TestJsonArgs.scala    |  2 +-
 .../core/cli/test/WskActionSequenceTests.scala     |  4 +-
 .../core/cli/test/WskEntitlementTests.scala        |  8 ++--
 .../core/cli/test/WskRestActionSequenceTests.scala |  2 +-
 .../core/cli/test/WskRestBasicUsageTests.scala     |  8 ++--
 .../core/cli/test/WskRestEntitlementTests.scala    |  2 +-
 .../core/cli/test/WskWebActionsTests.scala         |  8 ++--
 .../core/connector/test/EventMessageTests.scala    |  8 ++--
 .../core/connector/test/MessageFeedTests.scala     |  8 ++--
 .../core/connector/test/TestConnector.scala        | 10 ++--
 .../tests/AcknowledgementMessageTests.scala        | 10 ++--
 .../docker/test/AkkaContainerClientTests.scala     | 10 ++--
 .../test/ApacheBlockingContainerClientTests.scala  | 14 +++---
 .../docker/test/DockerClientTests.scala            | 16 +++----
 .../test/DockerClientWithFileAccessTests.scala     | 10 ++--
 .../docker/test/DockerContainerFactoryTests.scala  | 24 +++++-----
 .../docker/test/DockerContainerTests.scala         | 26 +++++------
 .../docker/test/ProcessRunnerTests.scala           |  4 +-
 .../docker/test/RuncClientTests.scala              | 12 ++---
 .../kubernetes/test/KubernetesClientTests.scala    | 14 +++---
 .../kubernetes/test/KubernetesContainerTests.scala | 28 +++++------
 .../logging/ElasticSearchLogStoreTests.scala       |  8 ++--
 .../logging/ElasticSearchRestClientTests.scala     |  4 +-
 .../logging/LogDriverLogStoreTests.scala           |  4 +-
 .../logging/SplunkLogStoreTests.scala              |  8 ++--
 .../test/DockerToActivationFileLogStoreTests.scala |  8 ++--
 .../test/DockerToActivationLogStoreTests.scala     | 18 +++++---
 .../mesos/test/MesosContainerFactoryTest.scala     | 25 +++++-----
 .../test/ContainerArgsConfigTest.scala             |  6 +--
 .../containerpool/test/ContainerPoolTests.scala    | 18 ++++----
 .../containerpool/test/ContainerProxyTests.scala   | 20 ++++----
 .../actions/test/SequenceAccountingTests.scala     | 12 ++---
 .../core/controller/test/ActionsApiTests.scala     | 18 ++++----
 .../core/controller/test/ActivationsApiTests.scala | 54 +++++++++++-----------
 .../controller/test/BasicAuthenticateTests.scala   |  8 ++--
 .../core/controller/test/ConductorsApiTests.scala  | 14 +++---
 .../core/controller/test/ControllerApiTests.scala  |  6 +--
 .../controller/test/ControllerTestCommon.scala     | 28 +++++------
 .../controller/test/EntitlementProviderTests.scala | 14 +++---
 .../core/controller/test/KindRestrictorTests.scala |  6 +--
 .../core/controller/test/NamespacesApiTests.scala  |  6 +--
 .../controller/test/PackageActionsApiTests.scala   | 28 +++++------
 .../core/controller/test/PackagesApiTests.scala    | 16 +++----
 .../core/controller/test/RateThrottleTests.scala   |  8 ++--
 .../controller/test/RespondWithHeadersTests.scala  |  4 +-
 .../core/controller/test/RulesApiTests.scala       | 16 +++----
 .../core/controller/test/SequenceApiTests.scala    | 14 +++---
 .../core/controller/test/SwaggerRoutesTests.scala  |  4 +-
 .../core/controller/test/TriggersApiTests.scala    | 24 +++++-----
 .../core/controller/test/WebActionsApiTests.scala  | 24 +++++-----
 .../core/controller/test/WhiskAuthHelpers.scala    |  6 +--
 .../SequenceActionApiMigrationTests.scala          | 10 ++--
 .../core/database/CouchDBArtifactStoreTests.scala  |  4 +-
 .../database/CouchDBAttachmentStoreTests.scala     |  6 +--
 .../core/database/CouchDBStoreBehaviorBase.scala   |  6 +--
 .../core/database/LimitsCommandTests.scala         | 10 ++--
 .../core/database/UserCommandTests.scala           | 10 ++--
 .../core/database/WhiskAdminCliTestBase.scala      |  8 ++--
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  6 +--
 .../cosmosdb/CosmosDBAttachmentStoreTests.scala    |  8 ++--
 .../cosmosdb/CosmosDBStoreBehaviorBase.scala       |  8 ++--
 .../database/cosmosdb/CosmosDBSupportTests.scala   |  2 +-
 .../database/cosmosdb/CosmosDBTestSupport.scala    |  6 +--
 .../core/database/cosmosdb/CosmosDBUtilTest.scala  |  4 +-
 .../database/cosmosdb/IndexingPolicyTests.scala    |  2 +-
 .../database/cosmosdb/ReferenceCountedTests.scala  |  2 +-
 .../memory/MemoryArtifactStoreBehaviorBase.scala   |  8 ++--
 .../database/memory/MemoryArtifactStoreTests.scala |  4 +-
 .../memory/MemoryAttachmentStoreTests.scala        |  8 ++--
 .../database/s3/S3AttachmentStoreAwsTests.scala    |  4 +-
 .../s3/S3AttachmentStoreBehaviorBase.scala         | 14 +++---
 .../database/s3/S3AttachmentStoreMinioTests.scala  |  4 +-
 .../apache/openwhisk}/core/database/s3/S3Aws.scala |  6 +--
 .../openwhisk}/core/database/s3/S3Minio.scala      |  8 ++--
 .../core/database/s3/S3WithPrefixTests.scala       |  6 +--
 .../test/AttachmentCompatibilityTests.scala        | 18 ++++----
 .../database/test/AttachmentStoreBehaviors.scala   |  8 ++--
 .../database/test/AttachmentSupportTests.scala     | 10 ++--
 .../core/database/test/BatcherTests.scala          |  6 +--
 .../core/database/test/CacheConcurrencyTests.scala |  6 +--
 .../database/test/CleanUpActivationsTest.scala     |  2 +-
 .../database/test/CouchDbRestClientTests.scala     |  8 ++--
 .../database/test/DatabaseScriptTestUtils.scala    | 14 +++---
 .../openwhisk}/core/database/test/DbUtils.scala    | 14 +++---
 .../core/database/test/DocumentHandlerTests.scala  | 12 ++---
 .../database/test/ExtendedCouchDbRestClient.scala  |  8 ++--
 .../MultipleReadersSingleWriterCacheTests.scala    | 10 ++--
 .../core/database/test/RemoveLogsTests.scala       | 14 +++---
 .../core/database/test/ReplicatorTests.scala       |  2 +-
 .../ArtifactStoreActivationsQueryBehaviors.scala   |  8 ++--
 .../ArtifactStoreAttachmentBehaviors.scala         | 12 ++---
 .../test/behavior/ArtifactStoreBehavior.scala      |  2 +-
 .../test/behavior/ArtifactStoreBehaviorBase.scala  | 18 ++++----
 .../test/behavior/ArtifactStoreCRUDBehaviors.scala |  8 ++--
 .../behavior/ArtifactStoreQueryBehaviors.scala     |  8 ++--
 .../ArtifactStoreSubjectQueryBehaviors.scala       | 12 ++---
 .../test/behavior/ArtifactStoreTestUtil.scala      |  2 +-
 .../ArtifactStoreWhisksQueryBehaviors.scala        |  8 ++--
 .../core/entity/test/ActivationResponseTests.scala | 10 ++--
 .../entity/test/ControllerInstanceIdTests.scala    |  4 +-
 .../core/entity/test/DatastoreTests.scala          | 12 ++---
 .../openwhisk}/core/entity/test/ExecHelpers.scala  | 12 ++---
 .../core/entity/test/ExecManifestTests.scala       | 10 ++--
 .../openwhisk}/core/entity/test/ExecTests.scala    | 17 +++++--
 .../core/entity/test/MigrationEntities.scala       |  6 +--
 .../openwhisk}/core/entity/test/SchemaTests.scala  | 18 ++++----
 .../openwhisk}/core/entity/test/SizeTests.scala    |  8 ++--
 .../openwhisk}/core/entity/test/ViewTests.scala    | 12 ++---
 .../core/entity/test/WhiskEntityTests.scala        | 36 +++++++--------
 .../invoker/test/InstanceIdAssignerTests.scala     |  4 +-
 .../invoker/test/NamespaceBlacklistTests.scala     | 12 ++---
 .../openwhisk}/core/limits/ActionLimitsTests.scala | 16 +++++--
 .../core/limits/MaxActionDurationTests.scala       |  8 ++--
 .../test/InvokerSupervisionTests.scala             | 42 ++++++++---------
 .../test/ShardingContainerPoolBalancerTests.scala  | 12 ++---
 .../openwhisk}/http/PoolingRestClientTests.scala   |  4 +-
 .../apache/openwhisk}/spi/SpiTests.scala           |  2 +-
 .../apache/openwhisk}/test/http/RESTProxy.scala    |  2 +-
 .../utils/test/ExecutionContextFactoryTests.scala  |  4 +-
 .../test/scala/services/KafkaConnectorTests.scala  | 10 ++--
 .../scala/system/basic/WskActivationTests.scala    |  2 +-
 .../scala/system/basic/WskConductorTests.scala     |  6 +--
 .../scala/system/basic/WskRestBasicTests.scala     |  7 ++-
 .../test/scala/system/basic/WskRestRuleTests.scala |  2 +-
 .../test/scala/system/basic/WskSequenceTests.scala |  2 +-
 .../openwhisk}/core/cli/CommandMessages.scala      |  2 +-
 .../apache/openwhisk}/core/cli/Main.scala          |  6 +--
 .../openwhisk}/core/database/LimitsCommand.scala   | 25 ++++++----
 .../openwhisk}/core/database/UserCommand.scala     | 16 +++----
 tools/dev/src/main/groovy/intellijRunConfig.groovy |  4 +-
 326 files changed, 1578 insertions(+), 1528 deletions(-)

commit 682eb5b62ee6ba8017ab54226c2ace3637f4f1ec
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Nov 7 13:40:26 2018 -0800

    Split system tests (#4098)

 .travis.yml                                        |  4 ++
 ansible/files/runtimes-nodeonly.json               | 32 ++++++++++++
 ansible/group_vars/all                             |  4 +-
 tests/build.gradle                                 | 11 +++-
 .../test/scala/system/basic/WskActionTests.scala   | 20 --------
 .../scala/system/basic/WskMultiRuntimeTests.scala  | 60 ++++++++++++++++++++++
 tools/travis/runMultiRuntimeTests.sh               | 36 +++++++++++++
 tools/travis/runSystemTests.sh                     |  4 +-
 tools/travis/setupPrereq.sh                        |  3 +-
 tools/travis/setupSystem.sh                        |  3 +-
 10 files changed, 151 insertions(+), 26 deletions(-)

commit ba525f1de5d253eafec467d8f9801d7636a976e2
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Nov 7 10:18:04 2018 -0800

    Mesos metrics (#4102)
    
    * include launch/kill timing metrics for mesos containers; handle launch/kill timeouts
    * update mesos-actor version, include configurable healthcheck changes, make all timeouts configurable

 common/scala/build.gradle                          |  2 +-
 common/scala/src/main/resources/application.conf   | 17 ++++-
 .../src/main/scala/whisk/common/Logging.scala      |  4 ++
 .../whisk/core/mesos/MesosContainerFactory.scala   | 45 +++++++-----
 .../main/scala/whisk/core/mesos/MesosTask.scala    | 82 +++++++++++++++++-----
 .../mesos/test/MesosContainerFactoryTest.scala     | 24 ++++---
 6 files changed, 128 insertions(+), 46 deletions(-)

commit 7f52af4a441452344f79cea13bc647a935afb1f6
Author: Seong-hyun, Oh <admin@upgle.com>
Date:   Wed Nov 7 15:39:13 2018 +0900

    Allow web actions via package bindings. (#3880)
    
    A web action in a shared (i.e., public) package is accessible as a web action either directly via the package's fully qualified name, or via a package binding. It is important to note that a web action in a public package will be accessible for all bindings of the package even if the binding is private. This is because the web action annotation is carried on the action and cannot be overridden. If you do not wish to expose a web action through your package bindings, then you should clone-and-own the package instead.

 .../scala/whisk/core/controller/WebActions.scala   |  77 +--
 docs/webactions.md                                 |  13 +-
 .../core/controller/test/WebActionsApiTests.scala  | 546 +++++++++++++++------
 3 files changed, 423 insertions(+), 213 deletions(-)

commit b860a2e233d1e76792d3e4b2eb5c16e0d64794a0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Nov 7 05:17:39 2018 +0530

    Switch to Scala 2.12.7 (#4062)

 .travis.yml                                        |  2 +-
 common/scala/build.gradle                          | 28 +++++++++++-----------
 .../src/main/scala/whisk/common/Logging.scala      |  1 +
 .../main/scala/whisk/core/connector/Message.scala  |  8 +++----
 .../whisk/core/database/CouchDbRestStore.scala     |  4 ++--
 .../scala/whisk/core/database/StoreUtils.scala     |  4 ++--
 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  6 ++---
 .../core/database/memory/MemoryArtifactStore.scala | 25 +++++++------------
 .../whisk/core/database/s3/S3AttachmentStore.scala | 20 ++++++----------
 .../src/main/scala/whisk/core/entity/Limits.scala  |  2 +-
 .../whisk/core/mesos/MesosContainerFactory.scala   |  2 +-
 core/controller/build.gradle                       |  6 ++---
 .../controller/BasicAuthenticationDirective.scala  |  2 +-
 settings.gradle                                    |  6 ++---
 tests/build.gradle                                 |  8 +++----
 .../scala/actionContainers/ActionContainer.scala   |  1 -
 tests/src/test/scala/common/RunCliCmd.scala        |  4 ++--
 .../whisk/core/connector/test/TestConnector.scala  |  6 ++---
 .../docker/test/ProcessRunnerTests.scala           |  1 -
 .../kubernetes/test/KubernetesClientTests.scala    |  6 ++---
 .../mesos/test/MesosContainerFactoryTest.scala     |  6 ++---
 .../core/database/test/CacheConcurrencyTests.scala |  2 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala |  1 -
 tools/admin/build.gradle                           |  2 +-
 24 files changed, 69 insertions(+), 84 deletions(-)

commit 708274c9899afc915f42f500eebc328181e70194
Author: Himavanth <contacthima@yahoo.com>
Date:   Tue Nov 6 20:10:22 2018 +0530

    Fix controller logs in docker-machine (#4079)
    
    * Fix controller logs in docker-machine
    
    With the change https://github.com/apache/incubator-openwhisk/pull/3579, controller logs file was not being created due to lack of permissions when OW is deployed on docker-machine. This is because ansible is not able to create a folder with full permissions within a mounted folder in docker-machine. However creating a file with full permissions through ansible does work.
    
    * Adding condition to check for docker-machine
    
    This change is needed only for docker-machine

 ansible/roles/controller/tasks/deploy.yml | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 729cb2c19dc6b1ee7d654df591a2e9858909db01
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Nov 6 13:33:32 2018 +0100

    Always return activation without log on blocking invoke. (#4100)
    
    If a user invokes a blocking action today, the invoker executes the activation and sends back the result to the controller, which passes it back to the client. If it is not possible to pass the result back to the controller, the controller will try to get the result from the database. And here's the problem. If the controller receives the result of the activation from the invoker, there are no logs included. If it polls it from the database, the logs are included. This should be unified to never return logs.

 .../main/scala/whisk/core/controller/actions/PrimitiveActions.scala    | 2 +-
 tests/src/test/scala/whisk/core/controller/test/ActionsApiTests.scala  | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit f47410da716a2970cd0c9a94309945be5bd546d9
Author: Carlos Santana <csantanapr@apache.org>
Date:   Mon Nov 5 13:05:55 2018 -0500

    fix go indent in runtimes.json (#4096)

 ansible/files/runtimes.json | 42 ++++++++++++++++++++++--------------------
 1 file changed, 22 insertions(+), 20 deletions(-)

commit 13c5285c7fcc0f10bfa85b5fbd57525b1411f4da
Author: Carlos Santana <csantanapr@apache.org>
Date:   Fri Nov 2 17:19:35 2018 -0400

    increase default invoker memory available for user actions to 2GB (#4094)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d0ba0cb3ef86bf1a9cfb4af643c513806180ef18
Author: Sciabarra.com ltd <30654959+sciabarracom@users.noreply.github.com>
Date:   Fri Nov 2 21:34:44 2018 +0100

    changes to include golang 1.11 runtime (#4093)

 ansible/files/runtimes.json                        |  16 ++
 .../src/main/resources/apiv1swagger.json           |   1 +
 docs/actions-go.md                                 | 214 ++++++++++++++++-----
 tests/dat/actions/unicode.tests/go-1.11.txt        |  12 ++
 4 files changed, 196 insertions(+), 47 deletions(-)

commit 7668cc5ecad99de95ae246df52b47ac1947d13a0
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Oct 31 16:19:17 2018 -0400

    add IBM's donation of Composer (#4072)

 CREDITS.txt | 9 +++++++++
 1 file changed, 9 insertions(+)

commit b63329d76e4204efe698d8339cdbf9dbf550d6a7
Author: Eugene Sypachev <eugene.sypachev@gmail.com>
Date:   Wed Oct 31 21:52:46 2018 +0300

    use loop_control and loop_var to fix warning (#4092)

 ansible/roles/controller/tasks/join_akka_cluster.yml | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 57475367b509fd2d4c14f5678d0c26642c52cc91
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Oct 31 14:58:17 2018 +0100

    Free up slot in Loadbalancer after log-collection is finished. (#4041)
    
    Co-authored-by: Sugandha Agrawal <agrawals@de.ibm.com>

 .../main/scala/whisk/core/connector/Message.scala  |  73 ++++++++++++--
 .../ShardingContainerPoolBalancer.scala            |  65 ++++++++----
 .../whisk/core/containerpool/ContainerProxy.scala  |  23 +++--
 .../scala/whisk/core/invoker/InvokerReactive.scala |  19 +++-
 .../tests/AcknowledgementMessageTests.scala        | 109 +++++++++++++++++++++
 .../connector/tests/CompletionMessageTests.scala   |  89 -----------------
 .../containerpool/test/ContainerProxyTests.scala   |   2 +-
 7 files changed, 250 insertions(+), 130 deletions(-)

commit 8851cab741ad6cecce40a93275c4a2f3c1b82532
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Oct 26 12:58:19 2018 +0200

    Fix broken CLI tests. (#4084)
    
    PR #3950 broke CLI tests in repo https://github.com/apache/incubator-openwhisk-cli because these tests override `val wsk` with a CLI specific implementation of type `Wsk` instead of `WskRestOperations`.
    
    This change makes sure that `val wsk` has the common parent class `WskOperations`.

 tests/src/test/scala/system/basic/WskActionTests.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 538517bbb5ba5aa1ffc7699864e9a2c53ee76561
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Oct 26 09:51:14 2018 +0200

    Catch kafka producer exceptions and recreate the producer. (#4080)
    
    * Catch producer exceptions and recreate the producer
    
    * Replace try, plain failure/success with trying, remove dup error logging

 .../whisk/connector/kafka/KafkaProducerConnector.scala  | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit 996d00190553a42b451167200885521ee0dc491b
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Oct 26 08:33:19 2018 +0200

    Diagnostic info and metrics for Docker command failures and timeouts (#4070)
    
    This change improves diagnostic information for failing Docker commands as well as timed out Docker commands:
    
    * For all failures (including timeouts), a textual representation for exit status values is logged.
    * Timeouts are explicitly detected and reported using a specialized exception allowing for a better timeout handling on higher layers of the Docker container implementation.
    * Emit counter metric on Docker command timeout
    
    This change introduces a set of new counter metrics that are emitted if a Docker command is terminated because of a timeout. A high number of such timeout occurrences is usually an indication for highly loaded invokers. The new metrics help to identify such invokers.

 .../src/main/scala/whisk/common/Logging.scala      |  3 +
 .../core/containerpool/docker/DockerClient.scala   | 11 +--
 .../core/containerpool/docker/ProcessRunner.scala  | 84 ++++++++++++++++++++--
 docs/metrics.md                                    | 10 ++-
 .../docker/test/DockerClientTests.scala            | 51 +++++++++----
 .../docker/test/DockerContainerTests.scala         |  2 +-
 .../docker/test/ProcessRunnerTests.scala           | 50 ++++++++++---
 .../kubernetes/test/KubernetesContainerTests.scala |  2 +-
 8 files changed, 174 insertions(+), 39 deletions(-)

commit a8addf629d56b789d0c1ce503cf6d691e6ecbf72
Author: Martin Gencur <mgencur@redhat.com>
Date:   Thu Oct 25 20:18:16 2018 +0200

    Extend system test suite (#3950)

 .../src/main/resources/apiv1swagger.json           |  6 +++
 tests/dat/actions/argsPrint.js                     |  8 ++++
 tests/dat/actions/runexception.js                  |  6 +++
 tests/src/test/scala/common/WskCliOperations.scala | 10 ++++-
 tests/src/test/scala/common/WskOperations.scala    |  1 +
 .../test/scala/common/rest/WskRestOperations.scala | 37 ++++++++++++----
 .../test/scala/system/basic/WskActionTests.scala   | 37 +++++++++++++++-
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 34 +++++++++++++++
 .../core/cli/test/WskRestBasicUsageTests.scala     |  1 +
 .../core/controller/test/ActivationsApiTests.scala | 51 ++++++++++++++++++++++
 .../core/controller/test/PackagesApiTests.scala    |  9 ++++
 11 files changed, 189 insertions(+), 11 deletions(-)

commit 6b3204973dfba20a9b24118b2da894112efce500
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Oct 25 14:11:20 2018 +0200

    Fix travis failures due to flake8 bug (#4083)

 tools/travis/flake8.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0cef0b9cc87747e609d1c8c153affe77fa7162a3
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Oct 23 14:51:54 2018 +0200

    Fix mock-verification in Container-tests. (#4071)
    
    Fix mock-verification in Container-tests by using a hand-written mock and improving synchronisation.

 .../docker/test/DockerContainerTests.scala         | 51 +++++++++++++++++-----
 1 file changed, 39 insertions(+), 12 deletions(-)

commit 0d8c6631905c0385f1c99b3ff7899cd40fceafec
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Sun Oct 21 16:15:32 2018 -0400

    update Access-Control-Allow-Headers CORS setting to enumerate rather than wildcard (#4046)

 .../scala/whisk/core/controller/CorsSettings.scala | 52 ++++++++++++++++++++++
 .../scala/whisk/core/controller/RestAPIs.scala     |  8 +---
 .../scala/whisk/core/controller/WebActions.scala   | 13 ++++--
 docs/rest_api.md                                   |  2 +-
 docs/webactions.md                                 |  2 +-
 tests/src/test/scala/services/HeadersTests.scala   |  8 +++-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 8 files changed, 73 insertions(+), 16 deletions(-)

commit 0d6c01793af8245965aae96296b385791512fe06
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Oct 18 12:29:44 2018 +0530

    Update base jdk image tag (#4043)

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c8054fa067ea0fbe9f18c96f738618f5da548fe0
Author: Manjiri Tapaswi <mptapasw@ncsu.edu>
Date:   Tue Oct 16 19:32:54 2018 -0700

     Fixes jinja warning from controller playbook (#4064)

 ansible/roles/nginx/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ed1412efb2aa925936a00ca270bbbbc8f322ad0
Author: Manjiri Tapaswi <mptapasw@ncsu.edu>
Date:   Tue Oct 16 19:32:15 2018 -0700

     Fixes deprecation warning in couch playbook (#4063)

 ansible/roles/couchdb/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8e0c673c8762ec95d75a19e0839afa5eff345f5
Author: Carlos Santana <csantanapr@apache.org>
Date:   Mon Oct 15 16:13:56 2018 -0400

    apigateway should always append request.path if response type is http (#4056)
    
    * apigateway should always append request.path if response type is http
    
    * address feedback handle logic in makeWebActionBackendUrl

 core/routemgmt/common/apigw-utils.js                          | 6 +++---
 tests/src/test/scala/whisk/core/cli/test/ApiGwRestTests.scala | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 3edd205b143633ca5714494d8cc039349a9e8bf2
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Mon Oct 15 15:34:26 2018 +0200

    Allow additional namespaces for subjects created in initdb.yml. (#3981)
    
    * Allow additional namespaces for subjects created in initdb.yml
    
    * Add extra namespaces before adding main namespace

 ansible/tasks/initdb.yml | 20 +++++++++++++++-----
 1 file changed, 15 insertions(+), 5 deletions(-)

commit 05144509579d770b7f1a7427801082a562038b4f
Author: Himavanth <contacthima@yahoo.com>
Date:   Mon Oct 15 18:16:39 2018 +0530

    Change config location to work with non root user (#4068)
    
    Change config location to work with non root user by storing config in home directory

 common/scala/transformEnvironment.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4783c998da56bb7ca9c6616b30de6f9950cfdbb3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Oct 12 16:18:49 2018 +0530

    Increase max-content-length to 50 MB (#4059)

 common/scala/src/main/resources/application.conf   |  1 +
 tests/src/test/scala/common/WhiskProperties.java   | 12 ++++++++++
 .../test/scala/system/basic/WskActionTests.scala   | 26 ++++++++++++++++++++++
 3 files changed, 39 insertions(+)

commit cca09ad8915f65208872c058bbe6c48e42c3dbcc
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Oct 12 15:49:01 2018 +0530

    Include exception class in failure message from ArtifactStore (#4065)

 common/scala/src/main/scala/whisk/core/database/StoreUtils.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 67a9a28b7a59e73c876bb2a881c6af141525ba6e
Author: moritzraho <raho.mr@gmail.com>
Date:   Fri Oct 12 09:40:21 2018 +0200

    Verify checksums of downloaded software in Dockerfiles (#4051)
    
    Verify sha256 checksum of Swagger and Docker binaries

 core/controller/Dockerfile | 9 ++++++---
 core/invoker/Dockerfile    | 4 +++-
 2 files changed, 9 insertions(+), 4 deletions(-)

commit f7afa71b1156ea193fc1df4bfcdf39fdb64a50c5
Author: Himavanth <contacthima@yahoo.com>
Date:   Thu Oct 11 11:54:12 2018 +0530

    Using non root user in controller (#3579)
    
    * Using non root user in controller
    
    Have done some basic testing.
    Would like some feedback.
    
    * Fixing jmxremote file permissions
    
    * Triggering build
    
    * Using chown instead of giving full permissions
    
    Using chown instead of giving full permissions
    
    * Permissions to create coverage folder
    
    Permissions to create coverage folder
    
    * Using user's home folder instead of root
     The root folder has permission issues in IBM PG build. So using
    /home/owuser instead of /root to store jmxremote files. owuser is the
    new user we create to avoid using root user. Not switching the user in
    invoker because it is a privileged container.
    
    * Triggering build
    
    Triggering build

 ansible/group_vars/all         | 2 +-
 common/scala/copyJMXFiles.sh   | 4 ++--
 core/controller/Dockerfile     | 7 ++++++-
 core/controller/Dockerfile.cov | 3 ++-
 core/invoker/Dockerfile        | 3 +++
 5 files changed, 14 insertions(+), 5 deletions(-)

commit 6b1303d1e72a4509f0a466603e5e5293d79988ed
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Oct 10 23:44:37 2018 +0530

    Ensure that limits are set properly (#4048)

 tests/src/test/scala/whisk/core/database/LimitsCommandTests.scala  | 6 +++++-
 tools/admin/src/main/scala/whisk/core/database/LimitsCommand.scala | 2 +-
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 72aae3d9d4b2e42847095561fe0f6dd9f397e635
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Oct 10 22:56:47 2018 +0530

    Ensure CosmosDBArtifactStore return query results within limits (#4061)
    
    * Allow tests to reuse existing database instead of creating new db everytime
    
    This can be enabled by setting system property `whisk.cosmosdb.useExistingDB` to true
    
    * Ensure that limit is properly honored
    
    * Improve the testcase
    
    * Remove asserting that query result size should be 2
    
    Result is of size 2 only for CosmosDB. For other cases only single result is returned
    
    * Modify the query also check if key is defined

 .../database/cosmosdb/CosmosDBArtifactStore.scala  |  8 ++++-
 .../database/cosmosdb/CosmosDBViewMapper.scala     |  2 +-
 .../database/cosmosdb/CosmosDBTestSupport.scala    | 41 ++++++++++++++++++----
 .../ArtifactStoreSubjectQueryBehaviors.scala       | 33 ++++++++++++++++-
 4 files changed, 74 insertions(+), 10 deletions(-)

commit 57a38de7a6b23bc4c42f7e777a4cb2da477a355f
Author: ningyougang <415622920@qq.com>
Date:   Tue Oct 9 16:21:01 2018 +0800

    Customize invoker user memory. (#4011)
    
    Currently, all invokers share the same value from invoker.user-memory,
    but in some case, some invoker machines have big memory, some invoker
    machines may have low memory, so it is necessary to customize invoker
    user-memory.

 ansible/roles/controller/tasks/deploy.yml          |   2 -
 ansible/roles/invoker/tasks/deploy.yml             |   2 +-
 .../main/scala/whisk/core/entity/InstanceId.scala  |   6 +-
 .../src/main/scala/whisk/core/entity/Size.scala    |   2 +-
 core/controller/src/main/resources/reference.conf  |   1 -
 .../core/loadBalancer/InvokerSupervision.scala     |   5 +-
 .../ShardingContainerPoolBalancer.scala            |  47 ++++---
 .../main/scala/whisk/core/invoker/Invoker.scala    |  12 +-
 .../connector/tests/CompletionMessageTests.scala   |  17 ++-
 .../docker/test/DockerContainerFactoryTests.scala  |   7 +-
 .../containerpool/test/ContainerProxyTests.scala   | 138 ++++++++++++++++++---
 .../test/InvokerSupervisionTests.scala             |  70 +++++++----
 .../test/ShardingContainerPoolBalancerTests.scala  |  44 ++++---
 13 files changed, 256 insertions(+), 97 deletions(-)

commit c33b30a960bd23fe84cb75b75fcd2c1bc7447eac
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Oct 8 12:55:44 2018 -0400

    Prevent Artifact Store Polling for Large Activation Records (#4040)

 common/scala/src/main/resources/application.conf   | 35 ++++++++++++++++++++--
 .../connector/kafka/KafkaMessagingProvider.scala   | 15 +++++++---
 .../connector/kafka/KafkaProducerConnector.scala   | 13 +++++---
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 -
 .../whisk/core/connector/MessagingProvider.scala   |  8 +++--
 .../whisk/core/entity/ActivationEntityLimit.scala  |  8 +++--
 .../scala/whisk/core/controller/Controller.scala   | 14 ++++-----
 .../ShardingContainerPoolBalancer.scala            |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  8 +++--
 .../whisk/core/limits/ActionLimitsTests.scala      |  7 ++++-
 10 files changed, 83 insertions(+), 28 deletions(-)

commit 5da62ed7616037604447ce647c669fe51698e0f5
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Fri Oct 5 15:47:10 2018 -0700

    use "nodejs:default" for health action (instead of "nodejs:6") (#4054)

 .../src/main/scala/whisk/core/loadBalancer/InvokerSupervision.scala     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18fa203ace2328aa347ee6e5a0cd92947f2bf2aa
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Oct 5 14:07:09 2018 -0400

    fix bug in default CMD introduced in PR-4052 (#4053)

 tools/ansibleRunner/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74d106f9898609d4fa56faac3c263e01c82dabb4
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Oct 4 21:24:28 2018 -0400

    Switch from alpine to jessie-slim for runner utility images (#4052)

 tools/ansibleRunner/Dockerfile | 19 ++++---------------
 tools/scriptRunner/Dockerfile  |  6 ++----
 2 files changed, 6 insertions(+), 19 deletions(-)

commit 27a624ecc763bc01eaa997ba9ce5fc55ad748221
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Oct 4 00:54:49 2018 -0700

    Improve splunk query (#4047)
    
    Improves the Splunk query and log format
    
    * Log is now formatted similar to DockerToActivationLogStore
    * Query time offset is made configurable to account for log collection delays

 common/scala/src/main/resources/application.conf     | 18 ++++++++++++++++++
 .../core/containerpool/logging/SplunkLogStore.scala  | 18 ++++++++++++++----
 .../containerpool/logging/SplunkLogStoreTests.scala  | 20 ++++++++++++++------
 3 files changed, 46 insertions(+), 10 deletions(-)

commit bbe69aa13fd7bd7fd04d6dc2a67f2bc1cc1e2ee8
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Oct 3 18:46:54 2018 -0400

    Add mention of Kubernetes support in Docker for Mac 18.06 (#4049)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b2ff24a653b0af355d5d8a5884310353238ec2b
Author: Andy Steed <andrewsteed@gmail.com>
Date:   Tue Oct 2 23:24:06 2018 -0700

    Add support for allowedKinds limits in wskadmin and wskadmin-next (#4035)
    
    Enables admin to set limits on kinds which a namespace user can make use of.

 .../scala/whisk/core/admin/WskAdminTests.scala     | 13 +++++++++++++
 .../whisk/core/database/LimitsCommandTests.scala   | 22 +++++++++++++++++++++-
 tools/admin/README-NEXT.md                         |  6 +++++-
 tools/admin/README.md                              |  6 +++++-
 .../scala/whisk/core/database/LimitsCommand.scala  | 16 ++++++++++++++--
 tools/admin/wskadmin                               |  5 +++--
 6 files changed, 61 insertions(+), 7 deletions(-)

commit 84f633fd9f8a44c1a0978f47d43aa0ba3ca06001
Author: Martin Henke <martin.henke@web.de>
Date:   Fri Sep 28 11:23:20 2018 +0200

    Enable testing with bearer token authentication (#4034)
    
    This is an optional authentication method which is used to test non basic authentication SPIs

 tests/src/test/scala/common/WskOperations.scala          |  3 ++-
 tests/src/test/scala/common/rest/WskRestOperations.scala | 13 ++++++++-----
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 16c2c532229801a630c8041139625cb5bbda1128
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Sep 27 03:56:03 2018 -0400

    upgrade pip before installing ansible (#4042)

 tools/ansibleRunner/Dockerfile | 1 +
 1 file changed, 1 insertion(+)

commit ce6c656d5a66a8c4ade8c5817df5f82d1d7915a9
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Sep 26 09:01:33 2018 +0200

    Send activations of sequences to events topic. (#4019)
    
    * Send Sequence actions to UserMetrics.
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>
    
    * Send activations of cunductor-actions to user-metric-topics.
    
    * Adapt test, to allow activations from controller.
    
    * Add  to source of usermetric.
    
    * Review.

 .../main/scala/whisk/core/connector/Message.scala  |  6 ++++
 .../core/controller/actions/PrimitiveActions.scala | 21 +++++++++---
 .../core/controller/actions/SequenceActions.scala  | 38 ++++++++++++++--------
 .../scala/whisk/core/invoker/InvokerReactive.scala | 12 +------
 .../test/scala/whisk/common/UserEventTests.scala   |  2 +-
 5 files changed, 48 insertions(+), 31 deletions(-)

commit 77884e542ec0c95d3abfee427dc43cd8044bee0c
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Tue Sep 25 13:51:23 2018 +0800

    Put error message as tag into failed trace. (#4000)
    
    Put error message as tag into failed trace. This is nice to have and useful on trouble shooting within request context via modern UI in Jaegar or Zipkin.

 .../main/scala/whisk/common/TransactionId.scala    |  2 +-
 .../whisk/common/tracing/OpenTracingProvider.scala | 17 ++++++++----
 .../core/controller/actions/PrimitiveActions.scala | 13 +++++----
 tests/src/test/scala/common/TestHelpers.scala      |  4 +--
 tests/src/test/scala/common/WskTracingTests.scala  | 32 ++++++++++++++--------
 5 files changed, 42 insertions(+), 26 deletions(-)

commit a6ae673bb55bdcdb5750d63066fd2903174e5fde
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Sep 24 22:27:20 2018 +0530

    Support base64 encoded config (#4039)

 common/scala/transformEnvironment.sh | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 395ca17b21fb20549633444cf8dfe1a74ccab374
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Sep 24 18:49:53 2018 +0200

    Move container-config to singleton so it is loaded only once. (#4038)

 .../scala/src/main/scala/whisk/core/containerpool/Container.scala  | 7 +++----
 .../scala/whisk/core/containerpool/docker/DockerContainer.scala    | 2 +-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit ed73de694c999acf5f08f9a2109b4de2d810ed4e
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Sep 24 19:54:16 2018 +0530

    Configure a default throughput value for CosmosDB (#4037)

 common/scala/src/main/resources/application.conf        |  7 ++++---
 .../core/database/cosmosdb/CosmosDBArtifactStore.scala  |  3 +++
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala        |  2 +-
 .../whisk/core/database/cosmosdb/CosmosDBSupport.scala  |  8 +++++++-
 .../database/cosmosdb/CosmosDBArtifactStoreTests.scala  | 17 +++++++++++++++++
 5 files changed, 32 insertions(+), 5 deletions(-)

commit ebfd5b0b8fbef7b87a93ac5f395649708af0bb6e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Sep 24 15:17:15 2018 +0200

    Adjust activation metric schema to reflect reality. (#4006)
    
    * Adjust activation metric schema to reflect reality.
    
    1. The `causedBy` annotation is actually an optional String vs. a boolean flag.
    2. The `name` field is actually intended to contain the fully-qualified name of the action vs. a composite of the invocation namespace and an action name (which doesn't really represent anything).
    
    Co-authored-by: Christian Bickel <github@cbickel.de>
    
    * Require certain fields for sending activation metrics.
    
    * Fix import.
    
    * Pull enabled check to the call-site
    
    * Move constructing logic and test it.
    
    * Set loglevel to error.

 .../main/scala/whisk/core/connector/Message.scala  | 26 ++++++-
 .../main/scala/whisk/core/entity/Parameter.scala   |  8 ++-
 .../scala/whisk/core/controller/WebActions.scala   |  8 +--
 .../scala/whisk/core/invoker/InvokerReactive.scala | 32 ++++-----
 docs/metrics.md                                    |  2 +-
 .../core/connector/test/EventMessageTests.scala    | 80 ++++++++++++++++++++++
 .../core/controller/test/ConductorsApiTests.scala  |  8 ++-
 7 files changed, 133 insertions(+), 31 deletions(-)

commit fb8ed2a77357e63c21e3fbf0bff32a63bb21a14c
Author: Carlos Santana <csantanapr@apache.org>
Date:   Mon Sep 24 08:45:49 2018 -0400

    script runner now has nodejs (#4036)

 tools/scriptRunner/Dockerfile | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 53bdf1753cd7b99fd753523c314810b68c79ae1d
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Sep 21 11:20:13 2018 +0200

    Fix bugs in invoker ids and health protocol bookkeeping. (#4017)

 .../core/loadBalancer/InvokerSupervision.scala     | 20 +++++---
 .../test/InvokerSupervisionTests.scala             | 54 ++++++++++++++++++++++
 2 files changed, 68 insertions(+), 6 deletions(-)

commit 7dbb8f7b4f42a1a71275c0a6d4f0a06370b005b1
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Sep 20 16:59:35 2018 +0200

    Add additional debug information if activations have to wait in the invoker. (#4030)

 .../src/main/scala/whisk/core/containerpool/ContainerPool.scala        | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit e054131039496241a15dd6c31fb32d9e8e20d7da
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Sep 20 18:57:42 2018 +0530

    Enable passing absolute url to gatling test and few other fixes. (#4032)
    
    * Fix logback warning by moving immediateFlush to parent
    
    * Change warmup url to google such that it works mostly
    
    * Enable support for absolute url

 .../gatling_tests/src/gatling/resources/conf/logback.xml   |  2 +-
 .../scala/extension/whisk/OpenWhiskProtocolBuilder.scala   | 14 ++++++++++++++
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 2b3f586193ffcc081eb8df19219c80f48d2fa6e9
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Tue Sep 18 13:18:27 2018 -0400

    Add User-Agent to list of allowed CORS headers. (#4010)
    
    Fixes #4009

 .../controller/src/main/scala/whisk/core/controller/RestAPIs.scala | 7 +++++--
 .../src/main/scala/whisk/core/controller/WebActions.scala          | 2 +-
 docs/rest_api.md                                                   | 2 +-
 docs/webactions.md                                                 | 2 +-
 tests/src/test/scala/services/HeadersTests.scala                   | 2 +-
 tests/src/test/scala/whisk/core/cli/test/WskWebActionsTests.scala  | 2 +-
 .../test/scala/whisk/core/controller/test/WebActionsApiTests.scala | 2 +-
 7 files changed, 11 insertions(+), 8 deletions(-)

commit 084e5d3cdcd3f206b40a5da2d8dbc922d26cc85a
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Sep 18 19:39:53 2018 +0530

    Fix limits command docs. (#4027)

 tools/admin/README-NEXT.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 832e0c7455acf58c6a5d443e98dadbdba126decf
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Sep 18 15:23:09 2018 +0200

    Add test to verify, that action with high memory usage can be invoked. (#4025)

 .../test/scala/whisk/core/limits/ActionLimitsTests.scala | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit b00a3be2b62743a74773c86fb3b14fa7184fce58
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Sep 18 18:31:19 2018 +0530

    Enable running basic system tests without requiring whisk.properties. (#4004)

 .travis.yml                                        |  7 ++-
 tests/README.md                                    | 14 +++++
 tests/build.gradle                                 | 23 ++++++--
 tests/src/test/scala/common/WhiskProperties.java   | 62 +++++++++++++++++++---
 tests/src/test/scala/common/WskOperations.scala    |  2 +-
 .../scala/system/basic/WskConductorTests.scala     |  3 +-
 tests/src/test/scala/system/rest/RestUtil.scala    | 32 +++++++----
 7 files changed, 114 insertions(+), 29 deletions(-)

commit 392afb27b30c249255fa210581a3f4aa20c218e1
Author: Martin Gencur <mgencur@redhat.com>
Date:   Tue Sep 18 14:49:07 2018 +0200

    Docs fixes for action invocations. (#3951)
    
    More accurate description of the behaviour:
    * after exceeding the limit Activation ID is not returned (it is the
    whole activation record or the error result
    * user can't check the result later, it is still an error
    
    * Application error now thrown in different cases
    * Differentiate actions time limit and blocking wait limit
    * Update the errors for timeout situations

 docs/actions.md | 18 +++++++++++++-----
 1 file changed, 13 insertions(+), 5 deletions(-)

commit acf59c411565b4c73409eaf3936b6a0748c296df
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Sep 18 04:24:38 2018 -0400

    Default invoker protocol to http. (#4026)
    
    068bb26 made whisk.invoker.protocol a mandatory property, but failed to provide a default value for it.

 core/invoker/src/main/resources/application.conf | 4 ++++
 1 file changed, 4 insertions(+)

commit e0d562e19fe22aed49236b7ba32f94b157d459d4
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Sep 18 13:52:55 2018 +0530

    Emit CosmosDB request usage metric. (#4023)

 .../src/main/scala/whisk/common/Logging.scala      | 10 +++----
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 31 +++++++++++++++++++---
 docs/metrics.md                                    | 12 +++++++++
 3 files changed, 45 insertions(+), 8 deletions(-)

commit 068bb26c6889f133cb2de5e285c422f3802590ac
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Sep 17 13:16:49 2018 +0200

    Secure the invoker with ssl. (#3968)
    
    * Secure the invoker with ssl.
    
    * Tidy up controller ssl.
    
    * Review.

 .gitignore                                         |  6 ++--
 ansible/README.md                                  | 12 +++----
 ansible/couchdb.yml                                | 12 -------
 ansible/group_vars/all                             | 40 ++++++++++++---------
 ansible/roles/controller/tasks/deploy.yml          | 10 ++----
 ansible/roles/invoker/tasks/deploy.yml             | 22 +++++++++++-
 ansible/setup.yml                                  | 38 +++++++++++++++++---
 .../scala/src/main/scala/whisk/common/Https.scala  | 34 ++++++++----------
 .../main/scala/whisk/http/BasicHttpService.scala   | 26 +++++---------
 .../scala/whisk/core/controller/Controller.scala   | 41 ++++++++++------------
 .../scala/whisk/core/controller/Triggers.scala     |  4 ++-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  9 ++++-
 tests/src/test/resources/application.conf.j2       | 14 +++++---
 tools/vagrant/README.md                            |  2 +-
 14 files changed, 150 insertions(+), 120 deletions(-)

commit 2fca6a7ea4580c005588008395f620d046477147
Author: Duy Nguyen <duy.phnguyen@gmail.com>
Date:   Fri Sep 14 11:27:15 2018 +0200

    Allow updating auth key for user with wskadmin-next (#4005)
    
    Enable support for two new flags
    
        --revoke, abbreviated -r: regenerate a new key for the user / namespace, UUID remains the same
        --force, abbreviated -f:
            with --auth uuid:key: the new auth value is updated for the user
            without --auth: an auth of new UUID and key is randomly generated

 .../whisk/core/database/UserCommandTests.scala     | 39 ++++++++++++++++++++++
 tools/admin/README-NEXT.md                         |  8 +++++
 .../scala/whisk/core/database/UserCommand.scala    | 21 +++++++++---
 3 files changed, 64 insertions(+), 4 deletions(-)

commit 2fa71962aa2105f13c149d7e07b6770cb937abe3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Sep 12 17:46:47 2018 +0530

    Ping test should check for absence of ping response. (#4015)

 tests/dat/actions/ping.js                              | 6 ++++--
 tests/src/test/scala/system/basic/WskActionTests.scala | 9 +++++++--
 2 files changed, 11 insertions(+), 4 deletions(-)

commit cfd50eee4194142e95bad6dfd8bf96ff08187050
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Sep 11 11:50:13 2018 +0200

    Upgrade caffeine to get multi expiry support with latest fixes. (#4016)

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09c53055b28c723d8d0a4085b1f0293649a0aabf
Author: Andy Steed <andrewsteed@gmail.com>
Date:   Fri Sep 7 09:37:25 2018 -0700

    Restrict allowed namespaces when creating action of certain kinds (#3661)

 .../src/main/scala/whisk/core/WhiskConfig.scala    |  3 +-
 .../main/scala/whisk/core/entity/Identity.scala    |  5 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  2 +
 .../main/scala/whisk/core/controller/Actions.scala |  5 +-
 .../scala/whisk/core/entitlement/Entitlement.scala | 73 ++++++++++++++-----
 .../whisk/core/entitlement/KindRestrictor.scala    | 59 +++++++++++++++
 .../controller/test/EntitlementProviderTests.scala | 36 ++++++++-
 .../core/controller/test/KindRestrictorTests.scala | 85 ++++++++++++++++++++++
 8 files changed, 241 insertions(+), 27 deletions(-)

commit 05f916c746e6ca2860d50952086a37b6bdab239c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Sep 7 17:05:02 2018 +0530

    Update CosmosDB SDK to v2.1.0 (#4008)

 common/scala/build.gradle                                               | 2 +-
 .../src/main/scala/whisk/core/database/cosmosdb/CosmosDBUtil.scala      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 569b51b819ebc513d35ff3c139f4c47764d765bf
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Sep 6 08:39:14 2018 -0700

    close connections and reset pool on Container.pause (#3976)
    
    * close connections and reset pool on Container.pause

 .../whisk/core/containerpool/AkkaContainerClient.scala      |  4 ++--
 .../core/containerpool/ApacheBlockingContainerClient.scala  |  2 +-
 .../src/main/scala/whisk/core/containerpool/Container.scala | 13 +++++++++++--
 .../scala/whisk/core/containerpool/ContainerClient.scala    |  4 ++--
 .../scala/src/main/scala/whisk/core/mesos/MesosTask.scala   |  4 ++--
 .../scala/src/main/scala/whisk/http/PoolingRestClient.scala |  7 ++-----
 .../whisk/core/containerpool/docker/DockerContainer.scala   |  5 +++--
 .../core/containerpool/kubernetes/KubernetesContainer.scala |  4 +++-
 .../logging/test/DockerToActivationLogStoreTests.scala      |  2 +-
 .../whisk/core/containerpool/test/ContainerProxyTests.scala |  4 ++--
 10 files changed, 29 insertions(+), 20 deletions(-)

commit 1515e416d95e3a12888b00a4311c7b9bbb6401d9
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Sep 5 08:25:26 2018 -0700

    Reuse a container on ApplicationError. (#3941)
    
    Fixes #3918
    
    Renamed `ActivationResponse.containerError` -> `ActivationResponse.developerError`
    
    * generate ApplicationResponse.containerError during failed init (instead of ApplicationResponse.applicationError)
    
    * timeout on run now produces `ActivationResponse.containerError`

 .../scala/whisk/core/containerpool/Container.scala |  4 +-
 .../scala/whisk/core/entity/ActivationResult.scala | 32 ++++-----
 .../whisk/core/containerpool/ContainerProxy.scala  |  9 +--
 .../core/cli/test/WskRestBasicUsageTests.scala     | 10 +--
 .../docker/test/DockerContainerTests.scala         |  4 +-
 .../kubernetes/test/KubernetesContainerTests.scala |  4 +-
 .../containerpool/test/ContainerProxyTests.scala   | 83 ++++++++++++++++++++--
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 .../core/entity/test/ActivationResponseTests.scala | 32 ++++-----
 .../whisk/core/limits/ActionLimitsTests.scala      |  4 +-
 .../whisk/core/limits/MaxActionDurationTests.scala |  2 +-
 11 files changed, 130 insertions(+), 56 deletions(-)

commit 0242a60aeb976d070abda76a8ac2aa7e3306e393
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Fri Aug 31 08:47:32 2018 +0800

    Add an ansible variable to set the timezone for all of components. (#3955)
    
    This makes it easier to analyze logs when errors occur or during local development.

 ansible/README.md                         | 3 +++
 ansible/group_vars/all                    | 1 +
 ansible/roles/apigateway/tasks/deploy.yml | 1 +
 ansible/roles/controller/tasks/deploy.yml | 1 +
 ansible/roles/couchdb/tasks/deploy.yml    | 1 +
 ansible/roles/invoker/tasks/deploy.yml    | 1 +
 ansible/roles/kafka/tasks/deploy.yml      | 1 +
 ansible/roles/nginx/tasks/deploy.yml      | 2 ++
 ansible/roles/redis/tasks/deploy.yml      | 2 ++
 ansible/roles/zookeeper/tasks/deploy.yml  | 1 +
 10 files changed, 14 insertions(+)

commit fcd0e4b5bf4faf8a99f42868a898fa4e17616ec1
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Aug 29 23:37:42 2018 +0530

    Treat blackbox action code as attachment (#3979)
    
    * Use attachments with BlackBoxExec
    
    * Simplify code to avoid code duplication
    
    * Test for blackbox serialization
    
    * Test for cache for blackbox action

 .../main/scala/whisk/core/entity/Attachments.scala |   7 +
 .../src/main/scala/whisk/core/entity/Exec.scala    |  58 +++---
 .../main/scala/whisk/core/entity/WhiskAction.scala | 103 ++++++-----
 .../core/controller/test/ActionsApiTests.scala     | 204 ++++++++++-----------
 .../test/AttachmentCompatibilityTests.scala        |  15 ++
 .../scala/whisk/core/database/test/DbUtils.scala   |   5 +
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |   2 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  10 +-
 .../scala/whisk/core/entity/test/ExecTests.scala   | 129 ++++++++++++-
 9 files changed, 357 insertions(+), 176 deletions(-)

commit 0b0224bfd3f1da84d25ee04eb7545799f5dcd9f0
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Aug 29 15:36:22 2018 +0200

    Correct default-value for user-memory in Loadbalancer. (#3993)

 core/controller/src/main/resources/reference.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 76537c5c289433db3aa9d059766e039d2cb43354
Author: David Cariello <drcariel@us.ibm.com>
Date:   Wed Aug 29 04:08:26 2018 -0500

    remove stale JUnit test concurrency flag (#3992)

 tests/src/test/scala/common/WhiskProperties.java | 19 -------------------
 1 file changed, 19 deletions(-)

commit a0d975d49b0ea7e04768ea60fd3abe3b91c99fbb
Author: Andrew Janke <floss@apjanke.net>
Date:   Wed Aug 29 05:07:13 2018 -0400

    Fix macOS bash update instructions. (#3970)

 docs/cli.md | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 1cc38322dfbf2b8628a27cd3b85851d8a0de6e3b
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Aug 28 13:21:01 2018 +0200

    Make tests with CouchDB-views more stable. (#3982)
    
    This commit enhances the method `waitOnView` to be successful at least 5 times. The reason for this is, that there could be some inconsistency between several CouchDB-nodes.
    Querying the view more often successful, increases the probability, that the view is computed on all nodes before the test continues.

 .../scala/whisk/core/database/test/DbUtils.scala   | 124 +++++++++++----------
 1 file changed, 64 insertions(+), 60 deletions(-)

commit 2ddb0da0b9a56e6cc59ffd9cb02f274f0b9cf9fd
Author: Himavanth <contacthima@yahoo.com>
Date:   Tue Aug 28 06:01:38 2018 +0530

    Upgrading mesos-actor to prefer offers with least cpus by default (#3990)
    
    Prefer offers with least cpus

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 72f6ebb035fca3a4bf999923010089f15b2d6945
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Aug 27 12:44:22 2018 -0400

    Publish tools/scriptRunner and tools/ansibleRunner to Dockerhub (#3988)

 tools/jenkins/apache/dockerhub.groovy | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3a0f2488c0ff5111b39b265db73f473f2f3fdc67
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Mon Aug 27 21:40:40 2018 +0800

    Refactor sentinel message into shared place. (#3909)
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 .../scala/whisk/core/containerpool/Container.scala    | 15 +++++++++++++--
 .../core/containerpool/docker/DockerContainer.scala   |  9 ++-------
 .../kubernetes/KubernetesContainer.scala              | 13 +++++--------
 .../test/scala/actionContainers/ActionContainer.scala |  6 ++++--
 .../test/scala/system/basic/WskRestBasicTests.scala   |  3 ++-
 .../docker/test/DockerContainerTests.scala            |  4 ++--
 .../kubernetes/test/KubernetesClientTests.scala       | 19 ++++++++++---------
 .../kubernetes/test/KubernetesContainerTests.scala    |  4 ++--
 8 files changed, 40 insertions(+), 33 deletions(-)

commit b3e1b92a86fab5422288471d0388bd724c5f8888
Author: Keunseob Kim <keunsuby@nate.com>
Date:   Sat Aug 25 22:58:45 2018 +0900

    Add length of podName checking code for K8s (#3961)
    
    * Add length of podName checking code for K8s
    * Add ended with character checking code for K8s
    
    Signed-off-by: keunseob.kim <keunseob.kim@samsung.com>

 .../whisk/core/containerpool/kubernetes/KubernetesContainer.scala     | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 84bbd86460c490ebe8011a5a7d2d775fb3d90e41
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Aug 25 09:57:34 2018 -0400

    utility Docker images to run ansible playbooks and bash scripts (#3967)
    
    Define alpine based utility images that execute bash scripts and ansible
    playbooks mounted into /task by Kubernetes/Dockers/Mesos/OpenShift.
    By defining these images as part of the OpenWhisk core project, we can
    reduce the number of bespoke Docker images in downstream deployment projects.

 settings.gradle                  |  2 ++
 tools/ansibleRunner/Dockerfile   | 38 ++++++++++++++++++++++++++++++++++++++
 tools/ansibleRunner/README.md    | 27 +++++++++++++++++++++++++++
 tools/ansibleRunner/build.gradle | 19 +++++++++++++++++++
 tools/scriptRunner/Dockerfile    | 22 ++++++++++++++++++++++
 tools/scriptRunner/README.md     | 28 ++++++++++++++++++++++++++++
 tools/scriptRunner/build.gradle  | 19 +++++++++++++++++++
 tools/scriptRunner/init.sh       | 13 +++++++++++++
 8 files changed, 168 insertions(+)

commit acdf27ee31c8df1e184379ab8302c08c8637ea29
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Aug 25 09:49:47 2018 -0400

    remove prototype of the invoker-agent based LogStore (#3975)
    
    Matches the PR to remove the underlying prototype support
    from the invoker agent in the kube-deploy project. Focusing
    instead on evolving logging to avoid the need for the invoker
    to be involved in log enrichment.

 .../KubernetesClientWithInvokerAgent.scala         | 38 +----------
 .../kubernetes/KubernetesContainer.scala           | 31 +--------
 .../KubernetesInvokerAgentLogStore.scala           | 76 ----------------------
 .../kubernetes/test/KubernetesContainerTests.scala | 21 ------
 4 files changed, 2 insertions(+), 164 deletions(-)

commit 4e9b2457538986be26b7a53c5db925a9e50f6f2f
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Aug 24 15:26:26 2018 +0530

    Allow a full TypesafeConfig file to be passed via environment. (#3984)

 common/scala/transformEnvironment.sh | 7 +++++++
 1 file changed, 7 insertions(+)

commit b8107e96f3de16ee06134539d5a0a766a3b24d66
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Aug 24 11:17:01 2018 +0200

    Make ansible script to grant database permissions more general. (#3985)

 ansible/tasks/db/createUsers.yml      |  9 +++++++++
 ansible/tasks/db/grantPermissions.yml | 32 ++++++++++++++++++++------------
 2 files changed, 29 insertions(+), 12 deletions(-)

commit 71cd88ad1d555347066d11f3037a2c565f861100
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Aug 23 16:10:20 2018 -0400

    Log activation retrieval from activation store for block invocations (#3980)

 common/scala/src/main/scala/whisk/common/Logging.scala            | 2 ++
 .../scala/whisk/core/controller/actions/PrimitiveActions.scala    | 8 +++++++-
 docs/metrics.md                                                   | 4 ++++
 3 files changed, 13 insertions(+), 1 deletion(-)

commit 5b3e0b6a334b78fc783a2cd655f0f30ea58a68e8
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Aug 23 11:07:47 2018 +0200

    Memory based loadbalancing. (#3747)

 ansible/group_vars/all                             |   4 +-
 ansible/roles/controller/tasks/deploy.yml          |   4 +-
 ansible/roles/invoker/tasks/deploy.yml             |   3 +-
 ansible/templates/whisk.properties.j2              |   4 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   3 -
 .../scala/whisk/core/containerpool/Container.scala |  32 ++--
 .../core/containerpool/ContainerFactory.scala      |  20 +-
 .../src/main/scala/whisk/core/entity/Size.scala    |  17 ++
 core/controller/src/main/resources/reference.conf  |   2 +-
 .../ShardingContainerPoolBalancer.scala            |  47 +++--
 core/invoker/src/main/resources/application.conf   |   3 +-
 .../whisk/core/containerpool/ContainerPool.scala   | 207 +++++++++++++-------
 .../whisk/core/containerpool/ContainerProxy.scala  |  38 ++--
 .../scala/whisk/core/invoker/InvokerReactive.scala |   9 +-
 .../test/DockerToActivationFileLogStoreTests.scala |   2 +-
 .../mesos/test/MesosContainerFactoryTest.scala     |  27 +--
 .../containerpool/test/ContainerPoolTests.scala    | 209 +++++++++++++++++++--
 .../containerpool/test/ContainerProxyTests.scala   |   2 +-
 .../scala/whisk/core/entity/test/SizeTests.scala   |  42 +++++
 .../test/ShardingContainerPoolBalancerTests.scala  | 105 ++++++++---
 20 files changed, 561 insertions(+), 219 deletions(-)

commit 75472f88ff5c165ff13a59f65273fdddb8a8e45c
Author: Dominic Kim <style9595@gmail.com>
Date:   Thu Aug 23 03:42:26 2018 +0900

    Add the activation id in the HTTP header response (#3671)

 .../main/scala/whisk/core/controller/Actions.scala | 34 ++++++++-------
 .../scala/whisk/core/controller/Entities.scala     | 15 +++++--
 .../scala/whisk/core/controller/Triggers.scala     |  4 +-
 .../scala/whisk/core/controller/WebActions.scala   | 50 ++++++++++++----------
 .../core/controller/test/ActionsApiTests.scala     | 12 ++++++
 .../controller/test/ControllerTestCommon.scala     |  6 +--
 .../core/controller/test/TriggersApiTests.scala    |  4 +-
 .../core/controller/test/WebActionsApiTests.scala  | 18 +++++---
 8 files changed, 91 insertions(+), 52 deletions(-)

commit 411cde39ce5b3dce82fc54a77450bdbb1fe173f2
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Aug 22 23:13:58 2018 +0530

    Support storing attachment in a sub folder in S3 bucket (#3983)

 common/scala/src/main/resources/s3-reference.conf  |  7 ++++
 .../whisk/core/database/s3/S3AttachmentStore.scala |  7 ++--
 .../scala/whisk/core/database/s3/S3Minio.scala     |  7 ++++
 .../whisk/core/database/s3/S3WithPrefixTests.scala | 39 ++++++++++++++++++++++
 4 files changed, 58 insertions(+), 2 deletions(-)

commit e414b33cc751c7d451d8a172059d772ef9112e0c
Author: Vincent <shou@us.ibm.com>
Date:   Tue Aug 21 12:16:20 2018 -0400

    Revert the copyright to the content in the template (#3978)

 LICENSE.txt | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74ffb4d759610d394c21dba0008f78e4a3b4d59f
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Aug 20 23:56:39 2018 +0530

    Treat action code as attachments (#3945)
    
    * Treat action code as attachments for all newly created or update action runtimes
    
    * Store base64 encoded streams in raw form
    
    * Add test for exec deserialization compatibility
    
    * Support code stored in jar property
    
    * Use octet stream type for binary and text/plain otherwise
    
    Ignore contentType info from manifest
    
    * Reword exception message to state that code can be string on object
    
    * Drop rewrite of jar files as base64 encoded file
    
    * Remove unnecessary special handling of java code
    
    * Fix expected attachmentType
    
    * Add some more compat tests
    
    * Simplify json deserialization based on Markus patch
    
    * Use std charset
    
    * Add support for tweaking code size via CODE_SIZE
    
    If env CODE_SIZE is set then code would be padded with space * CODE_SIZE
    
    * Use attachment for php runtime also

 ansible/files/runtimes.json                        |  74 +++++--
 .../src/main/scala/whisk/core/entity/Exec.scala    |  24 +--
 .../main/scala/whisk/core/entity/WhiskAction.scala |  29 +--
 .../scala/ColdBlockingInvokeSimulation.scala       |  11 +-
 .../core/controller/test/ActionsApiTests.scala     | 215 ++++++++++++++-------
 .../test/AttachmentCompatibilityTests.scala        |  94 +++++++--
 .../core/database/test/CacheConcurrencyTests.scala |   6 +-
 .../ArtifactStoreAttachmentBehaviors.scala         |  12 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  45 ++++-
 .../scala/whisk/core/entity/test/ExecTests.scala   | 175 +++++++++++++++++
 tools/db/moveCodeToAttachment.py                   |  23 +--
 11 files changed, 550 insertions(+), 158 deletions(-)

commit 8327cd06224a43b5cb91c8cbb13703d64f58026f
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Aug 20 12:33:35 2018 -0400

    Allow for activation store to accept user and request information (#3798)
    
    * Allow for activation store to accept user and request information
    
    * Make user and request non-optional parameters
    
    * Introduce UserContext to activation store
    
    * Update doc for new parameters

 .../logging/DockerToActivationLogStore.scala       |  4 +-
 .../logging/ElasticSearchLogStore.scala            |  7 +-
 .../containerpool/logging/LogDriverLogStore.scala  |  5 +-
 .../core/containerpool/logging/LogStore.scala      |  4 +-
 .../containerpool/logging/SplunkLogStore.scala     |  4 +-
 .../whisk/core/database/ActivationStore.scala      | 56 +++++++++-----
 .../core/database/ArtifactActivationStore.scala    | 48 +++++++-----
 .../scala/whisk/core/controller/Activations.scala  | 59 +++++++-------
 .../scala/whisk/core/controller/Triggers.scala     | 89 ++++++++++++----------
 .../core/controller/actions/PrimitiveActions.scala | 16 ++--
 .../core/controller/actions/SequenceActions.scala  |  6 +-
 .../whisk/core/containerpool/ContainerProxy.scala  | 12 ++-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  8 +-
 .../logging/ElasticSearchLogStoreTests.scala       | 15 ++--
 .../logging/SplunkLogStoreTests.scala              |  9 ++-
 .../containerpool/test/ContainerProxyTests.scala   |  3 +-
 .../core/controller/test/ActionsApiTests.scala     | 10 ++-
 .../core/controller/test/ActivationsApiTests.scala | 50 ++++++------
 .../controller/test/ControllerTestCommon.scala     | 33 ++++----
 .../core/controller/test/TriggersApiTests.scala    |  9 ++-
 20 files changed, 253 insertions(+), 194 deletions(-)

commit 793b867746ff952ce53335130895bfadc7fd5fcf
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Aug 20 16:50:24 2018 +0200

    Bump fetch.max.wait of Kafka-consumers to lower the load on Kafka in large systems. (#3971)

 common/scala/src/main/resources/application.conf             | 12 ++++++++----
 .../src/main/scala/whisk/core/invoker/InvokerReactive.scala  |  2 +-
 2 files changed, 9 insertions(+), 5 deletions(-)

commit 6f10bb5857a465c41d57f157153504c935d99146
Author: Martin Henke <martin.henke@web.de>
Date:   Mon Aug 20 16:45:55 2018 +0200

    Add implicit ActorSystem when getting the namespace identity.  (#3902)

 .../scala/whisk/core/controller/BasicAuthenticationDirective.scala    | 4 +++-
 core/controller/src/main/scala/whisk/core/controller/RestAPIs.scala   | 4 ++--
 core/controller/src/main/scala/whisk/core/controller/WebActions.scala | 4 ++--
 3 files changed, 7 insertions(+), 5 deletions(-)

commit 2578703d67ba693f27309c468b4ca5c62bbbe79e
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Mon Aug 20 12:33:32 2018 +0800

    Use ArtifactStore to manipulate data in NamespaceBlacklistTests (#3890)
    
    Use ArtifactStore abstraction instead of CouchDB specific code to make NamespaceBlacklistTests generic. This enables it to be run against all supported databases

 .../scala/whisk/core/database/test/DbUtils.scala   |  22 +++++
 .../ArtifactStoreSubjectQueryBehaviors.scala       |  37 +-------
 .../invoker/test/NamespaceBlacklistTests.scala     | 103 +++++++--------------
 3 files changed, 59 insertions(+), 103 deletions(-)

commit 10ba53c747d91a486cb43c3a34334c26193d8575
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Aug 17 08:04:03 2018 -0400

    Implement invoker-node affinity and eliminate usage of kubectl. (#3963)
    
    1. Upgrade to latest released version of the fabric8 Kubernetes client
       to get access to an implementation of node affinity. Use that implementation
       to optionally add a scheduling affinity to the pods created for actions
       to bind them to worker nodes labeled as invoker nodes.
    
    2. implement the container removal operation via the kube rest client
       instead of via an exec to the kubectl cli.  This eliminates the last
       usage of kubectl in the KubernetesClient and allows the kubectl
       executable to be removed from the invoker Docker image.

 common/scala/build.gradle                          |  2 +-
 core/invoker/Dockerfile                            |  6 --
 core/invoker/src/main/resources/application.conf   |  7 +-
 .../kubernetes/KubernetesClient.scala              | 85 +++++++++++++---------
 .../kubernetes/test/KubernetesClientTests.scala    |  4 -
 5 files changed, 55 insertions(+), 49 deletions(-)

commit 03137300589c295ba360963f84982e8bd80f30e6
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Aug 17 09:41:55 2018 +0200

    Log possible errors around creation of kafka clients. (#3972)

 .../connector/kafka/KafkaConsumerConnector.scala   | 29 ++++++------
 .../connector/kafka/KafkaProducerConnector.scala   | 10 ++--
 .../src/main/scala/whisk/utils/Exceptions.scala    | 54 ++++++++++++++++++++++
 3 files changed, 75 insertions(+), 18 deletions(-)

commit 5ecf5c5d997dae5b82bafb34c8c16369e9905806
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu Aug 16 16:01:11 2018 -0400

    restore base64 json responses for webactions (#3973)

 .../scala/whisk/core/controller/WebActions.scala   |  5 +++++
 .../core/controller/test/WebActionsApiTests.scala  | 22 ++++++++++++++++++++++
 2 files changed, 27 insertions(+)

commit ded492dbb301e82bd67c9f41e64e25821eec4528
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Aug 16 11:27:10 2018 -0700

    use KeepAlive(false) (SocketOption) instead of Connection:close (HTTP header) to disuade connection reuse (#3969)

 .../scala/whisk/core/containerpool/AkkaContainerClient.scala | 10 +++-------
 .../scala/src/main/scala/whisk/http/PoolingRestClient.scala  | 12 ++++++++----
 2 files changed, 11 insertions(+), 11 deletions(-)

commit f365d1c84ce5d8595fb686ecd4a8ef9220b23c6b
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Aug 14 13:21:49 2018 +0530

    Add tracing component name to wskadmin-next. (#3958)
    
    Fixes #3957

 tools/admin/src/main/resources/application.conf | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 7b5d8057ca9dcae9ae170318c39387a3fb684f67
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Aug 13 15:45:17 2018 +0200

    Make gradle and dependency downloads more stable. (#3960)
    
    Gradle wrapper and dependency downloads are subject to intermittent failures. This commit adds the travis caching feature to cache the wrapper and caches. Moreover, it retries those downloads to be resilient against hiccups.

 .travis.yml           | 11 +++++++++++
 tools/travis/setup.sh | 21 +++++++++++++++++++++
 2 files changed, 32 insertions(+)

commit 0643d4404afacdab8b3bf9a1800957366d604f91
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Sun Aug 12 22:08:47 2018 -0400

    Adjust write user log file write access (#3962)

 .../logging/DockerToActivationFileLogStore.scala              | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 9d20eae1b51c1599273506c85d7fe45fa4d6e0bc
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Aug 10 14:14:22 2018 +0200

    Make amount of parallel docker runs configurable. (#3698)

 ansible/roles/invoker/tasks/deploy.yml             |  3 ++-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 +-
 core/invoker/src/main/resources/application.conf   | 28 ++++++++++++++-------
 .../core/containerpool/docker/DockerClient.scala   | 29 +++++++++++++---------
 4 files changed, 39 insertions(+), 23 deletions(-)

commit b6720b032a5705837622d04c590905e615e79381
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 9 13:10:29 2018 -0400

    Allow raw JSON string as response for webaction without base64 encoding. (#3919)
    
    Adds test for binary entity that is base64 encoded by the controller.
    Removes base64 encoding of JSON response in routemgmt package. Adjust tests accordingly.
    Removes use of base64 for webaction response in test fixture.
    
    Co-authored-by: Carlos Santana <csantanapr@apache.org>

 .../scala/whisk/core/controller/WebActions.scala   |   8 +-
 core/routemgmt/common/apigw-utils.js               |  26 ++---
 tests/dat/actions/echo-web-http.js                 |   4 +-
 .../{base64Web.js => jsonStringWebAction.js}       |   2 +-
 .../whisk/core/cli/test/ApiGwRestBasicTests.scala  |   2 +-
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala |   4 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |   6 +-
 .../core/controller/test/WebActionsApiTests.scala  | 126 +++++++--------------
 8 files changed, 64 insertions(+), 114 deletions(-)

commit 9ae7a848f14a86add3c99cfc8ff9894de2cd9e23
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 9 10:08:54 2018 -0400

    Separate routemgmt.yml out from  openwhisk.yml playbook (#3760)
    
    * Seperate route management package for API gateway from openwhisk.yml.
    
    Update documentation for deployment.
    Add API gateway to redo.
    
    * Install routemgmt package when running API gateway playbook.
    
    The routemgmt playbook remains its own independent playbook so that it may be installed seperately when necessary.
    
    * Revert "Install routemgmt package when running API gateway playbook."
    
    This reverts commit ae278f6a9cf3d0301d0acca098c5e12f9fb383ea.
    
    * Fix Ruby example to use puts, adding a new line.

 ansible/README.md                                  | 45 +++++++++++++---------
 ansible/README_DISTRIBUTED.md                      |  6 +++
 ansible/downloadcli.yml                            |  8 ++++
 ansible/openwhisk.yml                              |  7 ++--
 ansible/roles/cli-install/tasks/clean.yml          |  2 +-
 ansible/roles/cli-install/tasks/deploy.yml         |  4 +-
 ansible/roles/couchdb/tasks/deploy.yml             |  2 +-
 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  6 ++-
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    |  8 +++-
 ansible/routemgmt.yml                              |  3 --
 tools/build/redo                                   | 11 ++++++
 tools/travis/setupSystem.sh                        |  3 +-
 tools/vagrant/Vagrantfile                          |  3 +-
 13 files changed, 75 insertions(+), 33 deletions(-)

commit f593de8614cf51c84ed7e78b27e93f64cda72c75
Author: Valeryi Baibossynov <baibossynov.valery@gmail.com>
Date:   Thu Aug 9 16:46:27 2018 +0300

    Refactors tests to remove unsafe logging of database url (#3173)

 .../database/test/CleanUpActivationsTest.scala     |  8 +--
 .../database/test/DatabaseScriptTestUtils.scala    | 10 +++-
 .../whisk/core/database/test/RemoveLogsTests.scala |  6 +--
 .../whisk/core/database/test/ReplicatorTests.scala | 60 +++++++++++-----------
 4 files changed, 45 insertions(+), 39 deletions(-)

commit 79e72e641703b4138cc58bc6bf0d5863a8fe6919
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Aug 8 15:58:11 2018 -0400

    Add Twitter badge (#3954)

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit b1a70b7219fb040d8116f278726e86efc7330071
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Wed Aug 8 14:08:39 2018 -0400

    update documentation for nodejs runtime (#3946)

 docs/actions-node.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 92a4a0c314821681043716cc601b64d543f61e80
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Wed Aug 8 16:12:01 2018 +0200

    Make error count and percentage configurable for gatling tests. (#3942)

 tests/performance/README.md                        | 56 +++++++++++++---------
 .../src/gatling/scala/ApiV1Simulation.scala        |  6 ++-
 .../scala/BlockingInvokeOneActionSimulation.scala  |  6 ++-
 .../scala/ColdBlockingInvokeSimulation.scala       |  6 ++-
 .../src/gatling/scala/LatencySimulation.scala      | 37 ++++++++++----
 5 files changed, 75 insertions(+), 36 deletions(-)

commit da1b28b5473e03961ca15e91136dd81fc93a3996
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Aug 7 11:04:06 2018 -0700

    don't explicitly terminate actorSystem (let CoordinatedShutdown do it, so cluster exit can be graceful) (#3949)

 common/scala/src/main/scala/whisk/http/BasicHttpService.scala | 1 -
 1 file changed, 1 deletion(-)

commit 23e926885afb75e6b8057ff191df6b175451a656
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Aug 6 10:22:28 2018 +0200

    Synchronize access to the KafkaConsumer. (#3921)
    
    KafkaConsumer is not thread safe and hence should not be accessed concurrently. This is done by synchronizing the access to consumer instance. The cost of synchronization should be relatively low due to low contention between the monitoring code running (default 60 seconds) and fetching new entries.

 .../connector/kafka/KafkaConsumerConnector.scala     | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 68f472dbf62e322c39520b23aa6d6cf357efa226
Author: Ben Browning <ben324@gmail.com>
Date:   Fri Aug 3 09:07:41 2018 -0400

    Validate the Controller Swagger spec matches the impl (#3878)
    
    This change wires up all existing API tests that use WskRestOperations
    to validate the HTTP requests and responses against the Controller
    API's Swagger spec.
    
    It also adds a new Gradle task - :tests:testSwaggerCodegen - that does
    a basic validation of the Swagger spec and generates a basic Java
    client from that spec and verifies that the client compiles. CI is
    wired up to run this new test task.
    
    The result of both of the above are a number of changes to the Swagger
    spec, also included here. This brings our Swagger spec much closer to
    matching the reality of the Controller API, and any additional
    coverage in the API test suite will further increase coverage of the
    Swagger spec.
    
    There are some existing tests that purposely test API responses when
    passed invalid data, so the new SwaggerValidator trait includes a
    small whilelist of invalid requests and responses to accept so the
    build does not fail in these scenarios.
    
    Based on review feedback, this eagerly converts all HTTP entities to
    their Strict variants which allows both the SwaggerValidator and
    downstream consumers to read the request/response bodies without
    making a copy.
    
    This also exposed another slight change needed in apiv1swagger.json
    where rule enabling/disabling can sometimes return a text/plain body
    instead of json.

 .../src/main/resources/apiv1swagger.json           | 810 +++++++++++++++++----
 tests/build.gradle                                 |  24 +
 tests/src/test/resources/swagger-config.json       |   4 +
 .../test/scala/common/rest/SwaggerValidator.scala  | 115 +++
 .../test/scala/common/rest/WskRestOperations.scala |  19 +-
 tools/travis/runTests.sh                           |   2 +-
 6 files changed, 827 insertions(+), 147 deletions(-)

commit 8f1dc2e9c848deb9f72da5b636895cbc5c565adb
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Aug 2 15:17:40 2018 -0400

    Use empty method for collections (#3936)
    
    * Replace Map() occurrences with Map.empty
    
    * Replace Seq() occurrences with Seq.empty
    
    * Replace Vector() occurrences with Vector.empty
    
    * Replace List() occurrences with List.empty
    
    * Replace JsArray() occurrences with JsArray.empty
    
    * Replace Set() occurrences with Set.empty

 .../whisk/core/database/DocumentHandler.scala      |   2 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |   6 +-
 .../main/scala/whisk/core/mesos/MesosTask.scala    |   8 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |   2 +-
 .../scala/actionContainers/ActionContainer.scala   |   2 +-
 tests/src/test/scala/common/RunCliCmd.scala        |   2 +-
 tests/src/test/scala/common/WskCliOperations.scala | 150 ++++++++++-----------
 tests/src/test/scala/common/WskOperations.scala    |  22 +--
 tests/src/test/scala/common/WskTracingTests.scala  |   2 +-
 .../test/scala/system/basic/WskActionTests.scala   |   6 +-
 .../test/scala/system/basic/WskPackageTests.scala  |   2 +-
 .../scala/system/basic/WskRestBasicTests.scala     |   4 +-
 .../src/test/scala/whisk/common/ConfigTests.scala  |   6 +-
 .../test/scala/whisk/core/WhiskConfigTests.scala   |   6 +-
 .../core/cli/test/WskRestBasicUsageTests.scala     |   2 +-
 .../docker/test/DockerClientTests.scala            |   4 +-
 .../docker/test/DockerContainerFactoryTests.scala  |   2 +-
 .../docker/test/DockerContainerTests.scala         |   2 +-
 .../logging/ElasticSearchLogStoreTests.scala       |   2 +-
 .../logging/LogDriverLogStoreTests.scala           |   2 +-
 .../logging/SplunkLogStoreTests.scala              |   2 +-
 .../test/DockerToActivationLogStoreTests.scala     |   2 +-
 .../mesos/test/MesosContainerFactoryTest.scala     |   4 +-
 .../containerpool/test/ContainerPoolTests.scala    |   6 +-
 .../containerpool/test/ContainerProxyTests.scala   |   2 +-
 .../core/controller/test/ConductorsApiTests.scala  |   4 +-
 .../core/controller/test/PackagesApiTests.scala    |   2 +-
 .../core/controller/test/SequenceApiTests.scala    |   4 +-
 .../core/controller/test/WebActionsApiTests.scala  |   6 +-
 .../core/database/test/DocumentHandlerTests.scala  |   2 +-
 .../whisk/core/database/test/ReplicatorTests.scala |   4 +-
 .../invoker/test/NamespaceBlacklistTests.scala     |   2 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |   2 +-
 .../test/ShardingContainerPoolBalancerTests.scala  |   8 +-
 34 files changed, 142 insertions(+), 142 deletions(-)

commit 65757b00d9f5efa6734c8a4e05e3185623e4c07c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 2 17:23:58 2018 +0200

    Adjust Kafka's config to not contain any more warnings. (#3934)
    
    * Adjust Kafka's config to not contain any more warnings.
    
    Currently, the KafkaConsumer warns about a misconfiguration because we added a fantasy value to the kafka config itself. There is a value to control the window size of metrics reporting which roughly fits the needs of the value we need, thus switching to that value also gets rid of the warning in the log.
    
    * Use dedicated setting.

 common/scala/src/main/resources/application.conf                   | 5 ++++-
 .../main/scala/whisk/connector/kafka/KafkaConsumerConnector.scala  | 7 +++++--
 .../main/scala/whisk/connector/kafka/KafkaMessagingProvider.scala  | 2 +-
 3 files changed, 10 insertions(+), 4 deletions(-)

commit 707235023ac5bd59b498aa11765967d4da8e295b
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Aug 2 11:05:05 2018 -0400

    Fix for exception being thrown during api creation (#3907)
    
    * before accessing the target-url field, ensure the entire path to that field exists
    
    * update tests to cover this fix

 core/routemgmt/common/apigw-utils.js               |  2 +-
 tests/dat/apigw/testswaggerdoc1                    | 78 ++++++++++++++++++++++
 .../whisk/core/cli/test/ApiGwRestBasicTests.scala  |  5 +-
 3 files changed, 83 insertions(+), 2 deletions(-)

commit 2cfdbaffb88510041372f7acd5b328187d0671b7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 2 11:56:20 2018 +0200

    Run 'limits' tests in travis. (#3933)
    
    Run 'limits' tests in travis.

 tests/build.gradle | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8e6d4695d59a5f0951484f9d902b1ee549107f2b
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 2 11:15:45 2018 +0200

    Tune down excessive Zookeeper logging in tests. (#3935)
    
    Change log level for zookeeper and curator to ERROR for test runs

 tests/src/test/resources/logback-test.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 3c533e9028b85d6fd918c0398ede28ed51d488a0
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 1 22:07:30 2018 -0400

    Allow non-json skip_pull_runtimes to be passed as True. (#3910)

 ansible/roles/invoker/tasks/deploy.yml       | 4 ++--
 docs/actions-ruby.md                         | 2 +-
 tests/src/test/resources/application.conf.j2 | 3 +++
 tools/travis/README.md                       | 2 +-
 4 files changed, 7 insertions(+), 4 deletions(-)

commit 263a505f2e6963992e62bb5e441847f9d2dfc3fd
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Aug 1 13:14:23 2018 -0400

    eliminate setting of COMPONENT_NAME (#3932)
    
    Small cleanup: As best as I can tell, this envvar is set when deploying the
    invoker/controller but the value is never actually used.

 ansible/roles/controller/tasks/deploy.yml | 1 -
 ansible/roles/invoker/tasks/deploy.yml    | 1 -
 2 files changed, 2 deletions(-)

commit d7e9ce67b552fbb24ad55aa074178d5485ccd546
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Aug 1 05:31:59 2018 +0200

    Bump kafka-clients version to 2.0.0. (#3913)
    
    * Bump kafka-clients version to 2.0.0.
    
    * Lower the request timeout again.
    
    Relevant bit from the kafka documentation:
    
    > Also as part of KIP-266, the default value of request.timeout.ms has been changed to 30 seconds. The previous value was a little higher than 5 minutes to account for maximum time that a rebalance would take. Now we treat the JoinGroup request in the rebalance as a special case and use a value derived from max.poll.interval.ms for the request timeout. All other request types use the timeout defined by request.timeout.ms
    
    * Disable hostname verification.

 common/scala/build.gradle                          |  2 +-
 common/scala/src/main/resources/application.conf   |  5 ++--
 .../connector/kafka/KafkaConsumerConnector.scala   |  3 ++-
 .../src/main/scala/whisk/utils/TimeHelpers.scala   | 28 ++++++++++++++++++++++
 4 files changed, 33 insertions(+), 5 deletions(-)

commit d847d0f75ec2192015e3dcda19f8e5d0bc0926d5
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Jul 31 22:28:03 2018 +0200

    Improve robustness of KafkaConsumerConnector (#3922)
    
    * Improve robustness of KafkaConsumerConnector
    
    * We schedule a wake-up thread once to wake up the long `poll()` call if it takes too long. Make sure that this wake-up thread is cancelled as soon as possible once the `poll()` has returned - no matter whether it was successful or not. Otherwise the wake-up will be remembered by the consumer and applied on the next `poll()`. See https://kafka.apache.org/11/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#endOffsets-java.util.Collection-
    * Catch failures when closing the old consumer during re-creation. In the past, re-creation was interrupted when closing failed and no new consumer was created.
    * Add more logging such that unexpected or error conditions no more happen unnoticed.
    
    * Address review feedback
    
    * Simplify code

 .../connector/kafka/KafkaConsumerConnector.scala   | 50 ++++++++++++++++++----
 1 file changed, 41 insertions(+), 9 deletions(-)

commit b197332e041968e98f6cec996e4a136116a90569
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 31 13:56:01 2018 +0200

    Refactor invoker command line parsing. (#3894)
    
    * Light refactorings.
    
    * Simplify command line parsing and different options.
    
    * Always pass the invokername in.
    
    * Restore old behavior.

 ansible/roles/invoker/tasks/deploy.yml             |  3 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  4 --
 .../main/scala/whisk/core/invoker/Invoker.scala    | 49 ++++++++++++----------
 3 files changed, 28 insertions(+), 28 deletions(-)

commit f8a1506b2edc5e61476e44b924962a567c283b22
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jul 31 17:16:08 2018 +0530

    Enable test code coverage collection for containers. (#3685)

 ansible/environments/local/group_vars/all |  2 ++
 ansible/roles/controller/tasks/deploy.yml | 33 +++++++++++++++++++---
 ansible/roles/invoker/tasks/deploy.yml    | 23 ++++++++++++++-
 ansible/templates/whisk.properties.j2     |  1 +
 core/controller/.dockerignore             |  3 +-
 core/controller/Dockerfile.cov            | 15 ++++++++++
 core/controller/build.gradle              |  6 ++++
 core/invoker/.dockerignore                |  3 +-
 core/invoker/Dockerfile.cov               | 15 ++++++++++
 core/invoker/build.gradle                 |  5 ++++
 gradle/docker.gradle                      | 42 +++++++++++++++++++++++++++
 tests/build.gradle                        | 47 +++++++++++++++++++++++++++++++
 tools/travis/distDocker.sh                |  3 ++
 tools/travis/runSystemTests.sh            |  1 +
 14 files changed, 192 insertions(+), 7 deletions(-)

commit bcd32ed3549cd7b31ddc33c2de77fd597d456a8a
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jul 31 07:42:16 2018 -0400

    Manually create user log files with correct permissions. (#3903)
    
    Do not rely on LogRotatorSink to create user log files. Instead manually create the user log files with custom permissions.

 .../logging/DockerToActivationFileLogStore.scala      | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 6d17625dd9de8ae693fae26508de2b97437d7e97
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jul 30 19:16:00 2018 -0400

    Display proper error when sequence invocation fails due to missing component (#3799)

 .../core/controller/actions/SequenceActions.scala  | 22 +++++++++----
 .../core/controller/test/SequenceApiTests.scala    | 38 ++++++++++++++++++----
 2 files changed, 47 insertions(+), 13 deletions(-)

commit 35cf728ca125ea8c6183de43e3ee078b157ea2a5
Author: Kei Sawada <rimuru@lunanet.gr.jp>
Date:   Tue Jul 31 04:26:46 2018 +0900

    Add Ruby 2.5 actions (#3725)

 ansible/files/runtimes.json                        | 12 +++
 .../src/main/resources/apiv1swagger.json           | 10 ++-
 docs/actions-ruby.md                               | 87 ++++++++++++++++++++++
 docs/actions.md                                    |  1 +
 docs/parameters.md                                 |  3 +-
 tests/dat/actions/unicode.tests/ruby-2.5.txt       |  8 ++
 6 files changed, 116 insertions(+), 5 deletions(-)

commit 145a31dac3ca08f870cd535385979290893dba23
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jul 30 20:53:52 2018 +0200

    Delete unused files in whisk.common. (#3914)

 .../src/main/scala/whisk/common/DateUtil.scala     | 52 ----------------------
 .../src/main/scala/whisk/common/TimingUtil.scala   | 35 ---------------
 2 files changed, 87 deletions(-)

commit 70006876a431152e2a1ca09cfc4c562a54900e6f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jul 30 19:45:13 2018 +0200

    Fix misspelled or wrongly named types. (#3915)
    
    * Rename ForcableSemaphore to ForcibleSemaphore.
    
    * Rename Unresponsible to Unresponsive.

 .../{ForcableSemaphore.scala => ForcibleSemaphore.scala}   |  2 +-
 .../scala/whisk/core/loadBalancer/InvokerSupervision.scala | 12 ++++++------
 .../core/loadBalancer/ShardingContainerPoolBalancer.scala  | 10 +++++-----
 ...leSemaphoreTests.scala => ForcibleSemaphoreTests.scala} | 14 +++++++-------
 .../core/loadBalancer/test/InvokerSupervisionTests.scala   |  4 ++--
 .../test/ShardingContainerPoolBalancerTests.scala          |  6 +++---
 6 files changed, 24 insertions(+), 24 deletions(-)

commit 19fda995857353f278c2c8eadc4958fae46b29ed
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jul 30 15:37:43 2018 +0200

    Fix max.poll.interval.ms setting of KafkaConsumer. (#3912)
    
    * Fix max.poll.interval.ms setting of KafkaConsumer: the `max.poll.interval.ms` setting needs to be high enough to not be thrown off by all actions in the system consuming the maximum duration of their respective action timeout, ideally also adding enough slack to account for image pulls taking long, or docker runs being very slow.
    * The name of the setting was also misspelled so we've been running on the default. This change introduces printing a warning if the configuration contains unknown keys.

 common/scala/src/main/resources/application.conf     |  7 ++++++-
 .../connector/kafka/KafkaConsumerConnector.scala     |  2 ++
 .../connector/kafka/KafkaMessagingProvider.scala     | 20 ++++++++++++++++++++
 .../connector/kafka/KafkaProducerConnector.scala     |  3 +++
 .../test/scala/services/KafkaConnectorTests.scala    |  1 +
 5 files changed, 32 insertions(+), 1 deletion(-)

commit 46c2ff882bddc746c0e4e901ffb7855282c8dc99
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jul 30 17:12:33 2018 +0530

    Update runtime repo listing. (#3916)

 docs/dev/modules.md | 2 ++
 1 file changed, 2 insertions(+)

commit 24c6f3e3b1edf082ba720fa088a1ab26ba35c217
Author: Olivier Tardieu <tardieu@users.noreply.github.com>
Date:   Fri Jul 27 14:54:39 2018 -0400

    Do not abort conductor action execution when component action is invalid, not found, not accessible or when composition is too long (#3897)
    
    With this commit, the following failure scenarios can now be handled by the conductor action code:
    
        parsing failure,
        resolution failure,
        entitlement check failure,
        excessive number of component action activations.
    
    A conductor action can reliably finalize the execution upon completion, whereas currently a simple typo in the name of a component action aborts the execution and prevents the finalizer to run.

 .../core/controller/actions/PrimitiveActions.scala | 26 +++++++++++++++++-----
 docs/conductors.md                                 | 13 ++++++-----
 .../scala/system/basic/WskConductorTests.scala     |  4 ++--
 .../core/controller/test/ConductorsApiTests.scala  |  6 ++---
 4 files changed, 32 insertions(+), 17 deletions(-)

commit 1a3e15ea95a48dae7ec17215b235b0167ff7137c
Author: John Sanda <jsanda@redhat.com>
Date:   Fri Jul 27 14:35:33 2018 -0400

    Add api gateway test that uses custom package for action. (#2941)

 .../whisk/core/cli/test/ApiGwRestBasicTests.scala  | 33 ++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit 4fea23bc06831d66a54f61a8353926cfebd3cb3c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jul 27 23:53:59 2018 +0530

    S3AttachmentStore (#3779)
    
    This PR introduces a S3AttachmentStore which is an AttachmentStore implementation for storing attachments in S3 API compatible object storages.

 common/scala/build.gradle                          |   7 +
 common/scala/src/main/resources/reference.conf     |   2 +
 common/scala/src/main/resources/s3-reference.conf  |  78 +++++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 +
 .../whisk/core/database/AttachmentSupport.scala    |   5 +-
 .../whisk/core/database/CouchDbRestStore.scala     |   4 +-
 .../whisk/core/database/s3/S3AttachmentStore.scala | 192 +++++++++++++++++++++
 tests/build.gradle                                 |   2 +
 .../scala/actionContainers/ActionContainer.scala   |   2 +-
 .../memory/MemoryArtifactStoreBehaviorBase.scala   |  61 +++++++
 .../database/memory/MemoryArtifactStoreTests.scala |  30 +---
 .../database/s3/S3AttachmentStoreAwsTests.scala    |  29 ++++
 .../s3/S3AttachmentStoreBehaviorBase.scala         |  50 ++++++
 .../database/s3/S3AttachmentStoreMinioTests.scala  |  31 ++++
 .../test/scala/whisk/core/database/s3/S3Aws.scala  |  73 ++++++++
 .../scala/whisk/core/database/s3/S3Minio.scala     | 111 ++++++++++++
 16 files changed, 646 insertions(+), 33 deletions(-)

commit 15bb04a449f621d262c2687a7b8417241f3856b8
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Jul 26 14:25:44 2018 -0700

    Introduce a ContainerClient interface and an akka based implementation. (#3812)
    
    HttpUtils (http client for invoker -> action container) uses org.apache.http client that is synchronous and poor performing for concurrent requests. I ran into problems using it with concurrent activation support. Instead of trying to force that client to work, this is work towards replacing it (or re-replacing it) with akka http based client.

 .../src/main/scala/whisk/common/Logging.scala      |   3 +
 .../core/containerpool/AkkaContainerClient.scala   | 222 +++++++++++++++++++++
 ...s.scala => ApacheBlockingContainerClient.scala} |  52 +++--
 .../scala/whisk/core/containerpool/Container.scala |  34 +++-
 .../whisk/core/containerpool/ContainerClient.scala |  30 +++
 .../core/containerpool/ContainerFactory.scala      |   2 +-
 .../whisk/core/database/CouchDbRestStore.scala     |   7 +-
 .../main/scala/whisk/core/mesos/MesosTask.scala    |   3 +-
 .../main/scala/whisk/http/PoolingRestClient.scala  |  23 ++-
 core/invoker/src/main/resources/application.conf   |   1 +
 .../containerpool/docker/DockerContainer.scala     |  50 +++--
 .../kubernetes/KubernetesContainer.scala           |   4 +-
 .../scala/actionContainers/ActionContainer.scala   |  11 +-
 .../docker/test/AkkaContainerClientTests.scala     | 214 ++++++++++++++++++++
 ...la => ApacheBlockingContainerClientTests.scala} |  66 ++++--
 .../kubernetes/test/KubernetesClientTests.scala    |   8 +-
 .../test/DockerToActivationLogStoreTests.scala     |   5 +-
 .../mesos/test/MesosContainerFactoryTest.scala     |   2 +-
 .../containerpool/test/ContainerPoolTests.scala    |  28 +--
 .../containerpool/test/ContainerProxyTests.scala   |   3 +-
 20 files changed, 660 insertions(+), 108 deletions(-)

commit 8f8863c5db68634eef32be5b4a694a8081e6e470
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jul 26 15:12:02 2018 -0400

    Document OPENWHISK_TMP_DIR usage (#3871)
    
    * Document OPENWHISK_TMP_DIR usage with Docker for Mac
    
    * Add info for Linux

 ansible/README.md | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 9dd34f2f7f82a52d8e2400559781626bda8b8d02
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jul 26 13:45:16 2018 +0200

    Throttle the system based on active-ack timeouts. (#3875)
    
    Today, we have an arbitrary system-wide limit of maximum concurrent connections. In general that is fine, but it doesn't have a direct correlation to what's actually happening in the system.
    
    This adds a new state to each monitored invoker: Overloaded. An invoker will go into overloaded state if active-acks are starting to timeout. Eventually, if the system is really overloaded, all Invokers will be in overloaded state which will cause the loadbalancer to return a failure. This failure now results in a 503 - System overloaded message back to the user.

 ansible/README.md                                  |   2 -
 ansible/group_vars/all                             |   1 -
 ansible/roles/controller/tasks/deploy.yml          |   2 -
 ansible/templates/whisk.properties.j2              |   1 -
 .../src/main/scala/whisk/common/Logging.scala      |   4 +-
 .../src/main/scala/whisk/common/RingBuffer.scala   |   2 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 -
 .../main/scala/whisk/core/controller/Actions.scala |   4 +
 .../scala/whisk/core/controller/Controller.scala   |   4 +-
 .../scala/whisk/core/controller/WebActions.scala   |   5 +
 .../core/entitlement/ActivationThrottler.scala     |  19 +--
 .../scala/whisk/core/entitlement/Entitlement.scala |  29 +---
 .../core/loadBalancer/InvokerSupervision.scala     | 176 ++++++++++++---------
 .../ShardingContainerPoolBalancer.scala            |  49 ++++--
 tests/performance/preparation/deploy.sh            |   2 +-
 .../test/InvokerSupervisionTests.scala             |  67 ++++++--
 .../test/ShardingContainerPoolBalancerTests.scala  |   3 +-
 17 files changed, 211 insertions(+), 161 deletions(-)

commit 006561f9a3e8b71be62680fd517b873472f66748
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jul 26 10:13:52 2018 +0200

    Add pause in latency test to handle asynchrounous log collecting. (#3898)
    
    This change might need to increase the thresholds of the latency test, because the containers will be paused and unpaused now, because the duration between the requests is higher than the pause-grace.

 .travis.yml                                                      | 2 +-
 tests/performance/README.md                                      | 4 +++-
 .../gatling_tests/src/gatling/scala/LatencySimulation.scala      | 9 ++++++++-
 3 files changed, 12 insertions(+), 3 deletions(-)

commit b542fa65377cc14b5ac7ce76322c485b036ec8aa
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Jul 25 21:47:39 2018 +0530

    Document metrics generated within OpenWhisk (#3884)
    
    * Document metrics
    
    * Trim trailing space
    
    * Update based on Vadim's review.

 docs/metrics.md | 177 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 177 insertions(+)

commit 9e473210d05e6b3759dbfb3bb8e1fd2bd1149ce0
Author: Martin Henke <martin.henke@web.de>
Date:   Wed Jul 25 17:11:03 2018 +0200

    Introduce active-ack timeout factor. (#3767)
    
    If an active-ack does not appear after a certain timeout (action timeout + 1 minute), the active-ack is considered as lost and we "force" it to keep the loadbalancer's state sane.
    
    In some cases where the system gets increasingly slow, this timeout is too narrow. This makes the value configurable to be able to rapidly adjust it and to find a good default in production environments.
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>

 ansible/group_vars/all                                     |  1 +
 ansible/roles/controller/tasks/deploy.yml                  |  2 ++
 core/controller/src/main/resources/reference.conf          |  4 ++++
 .../core/loadBalancer/ShardingContainerPoolBalancer.scala  | 14 +++++++++++---
 .../test/ShardingContainerPoolBalancerTests.scala          | 13 ++++++++-----
 5 files changed, 26 insertions(+), 8 deletions(-)

commit 712ac99c65eb70424e0690a6cafea07d7bec1ab0
Author: David Pendray <35926989+davidpendraykalibrate@users.noreply.github.com>
Date:   Wed Jul 25 12:41:52 2018 +0100

    Fix links in actions.md. (#3901)

 docs/actions.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d8c881a941ba692a2fc4811537c086d92360fc09
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Jul 24 17:11:23 2018 +0200

    Use the authentication provider to retrieve the identity of the namespace. (#3892)
    
    Unauthenticated web actions will use the authentication provider configured in the SPI to create the namespace based Identity

 .../controller/BasicAuthenticationDirective.scala  |  4 ++++
 .../scala/whisk/core/controller/RestAPIs.scala     | 24 +++++++++++++++++++++-
 .../scala/whisk/core/controller/WebActions.scala   |  7 ++++++-
 3 files changed, 33 insertions(+), 2 deletions(-)

commit eebef3baf0fe6c6eb0de3467041131028cfd9043
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 24 15:05:59 2018 +0200

    Cleanup SPIs, move ActivationStore to whisk.core.database. (#3873)
    
    * Cleanup SPIs, move ActivationStore to whisk.core.database.
    
    - Cleaned up some edges around SPIs, made their factory method "instance" where applicable.
    - Moved the ActivationStore to "whisk.core.database".
    
    * Adjust spi impl.

 common/scala/src/main/resources/reference.conf                 |  2 +-
 .../main/scala/whisk/core/containerpool/ContainerFactory.scala | 10 +++++-----
 .../containerpool/logging/DockerToActivationFileLogStore.scala |  2 +-
 .../containerpool/logging/DockerToActivationLogStore.scala     |  2 +-
 .../core/containerpool/logging/ElasticSearchLogStore.scala     |  2 +-
 .../whisk/core/containerpool/logging/LogDriverLogStore.scala   |  2 +-
 .../main/scala/whisk/core/containerpool/logging/LogStore.scala |  2 +-
 .../whisk/core/containerpool/logging/SplunkLogStore.scala      |  2 +-
 .../whisk/core/{entity => database}/ActivationStore.scala      |  4 ++--
 .../core/{entity => database}/ArtifactActivationStore.scala    |  6 ++----
 .../main/scala/whisk/core/mesos/MesosContainerFactory.scala    | 10 +++++-----
 .../src/main/scala/whisk/core/controller/Actions.scala         |  3 +--
 .../src/main/scala/whisk/core/controller/Activations.scala     |  2 +-
 .../src/main/scala/whisk/core/controller/Controller.scala      |  7 +++----
 .../src/main/scala/whisk/core/controller/RestAPIs.scala        |  2 +-
 .../src/main/scala/whisk/core/controller/Triggers.scala        |  2 +-
 .../scala/whisk/core/controller/actions/PrimitiveActions.scala |  2 +-
 .../scala/whisk/core/controller/actions/SequenceActions.scala  |  4 +---
 .../src/main/scala/whisk/core/loadBalancer/LoadBalancer.scala  |  7 +++----
 .../core/loadBalancer/ShardingContainerPoolBalancer.scala      |  2 +-
 .../core/containerpool/docker/DockerContainerFactory.scala     | 10 +++++-----
 .../containerpool/kubernetes/KubernetesContainerFactory.scala  | 10 +++++-----
 .../kubernetes/KubernetesInvokerAgentLogStore.scala            |  2 +-
 .../src/main/scala/whisk/core/invoker/InvokerReactive.scala    |  4 ++--
 .../logging/test/DockerToActivationLogStoreTests.scala         |  2 +-
 .../whisk/core/controller/test/ControllerTestCommon.scala      |  5 ++---
 26 files changed, 50 insertions(+), 58 deletions(-)

commit 5f5529526e8fea83cf24c78bfd20bfb388f0af85
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Tue Jul 24 20:32:26 2018 +0800

    Set erlang magic cookie for couchdb (#3853)

 ansible/roles/couchdb/tasks/deploy.yml | 16 ++++++++++++++--
 ansible/tasks/gen_erl_cookie.yml       | 35 ++++++++++++++++++++++++++++++++++
 2 files changed, 49 insertions(+), 2 deletions(-)

commit 8b5abe7bbeb4464af586c1993fc3590e0fe8d516
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 24 11:29:43 2018 +0200

    Recover image pulls by trying to run the container anyways. (#3813)
    
    A `docker pull` can fail due to various reasons. One of them is network throttling by the image registry. Since we try to pull on each blackbox invocation, high volume load can cause lots of errors due to failing pulls unnecessarily.
    
    Instead, we try to run the container even if the pull failed in the first place. If the image is available locally, the container will start just fine and recover the error gracefully. If the image is not available locally, the run will fail as well and return the same error as the docker pull would've returned.
    
    This behavior will only be enabled for blackbox actions that specify a tag. Blackbox actions not using a tag *or* using "latest" as a tag will exhibit the very same behavior as today. That is: There will always be a pull before each container start and a failing pull will result in an error reported to the user. This is to enable rapid prototyping on images and enable determinism in the workflow. Updating the action will then force a pull and will fail early if that pull fails. With the new behavior, the developer might be surprised by the image not being updated because the pull is swallowed.
    
    For production workload it is considered best-practice to version images through labels, thus we can "safely" assume that we can fall back to a local image in case the pull fails.

 .../containerpool/docker/DockerContainer.scala     | 48 +++++++----
 .../docker/DockerContainerFactory.scala            |  9 +-
 docs/actions-docker.md                             | 10 +++
 .../docker/test/DockerContainerTests.scala         | 98 +++++++++++++++-------
 4 files changed, 112 insertions(+), 53 deletions(-)

commit 70c61d5a64be4abc967cbf7d95101670a9182fac
Author: ningyougang <415622920@qq.com>
Date:   Tue Jul 24 17:26:07 2018 +0800

    Adjust offset topic replication factor seperately. (#3735)
    
    Currently, default.replication.factor and offsets.topic.replication.factor
    also uses kafka.replicationFactor, so it is better to separate them to use
    different ansbile vars.

 ansible/group_vars/all               | 1 +
 ansible/roles/kafka/tasks/deploy.yml | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 5694f38d000bd2c631a9fe754422dd960bc5d88c
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Jul 23 14:18:01 2018 -0700

    Make request id header name comparison case insensitive. (#3889)

 common/scala/src/main/scala/whisk/common/TransactionId.scala  | 4 +++-
 common/scala/src/main/scala/whisk/http/BasicHttpService.scala | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 2db1b67ef6cc16b1f19336ed23992fae32a7d9d5
Author: Martin Henke <martin.henke@web.de>
Date:   Mon Jul 23 18:47:54 2018 +0200

    Unify Entitlement SPI signatures. (#3895)

 .../src/main/scala/whisk/core/entitlement/Entitlement.scala   |  8 ++++----
 .../main/scala/whisk/core/entitlement/LocalEntitlement.scala  | 11 +++++++----
 .../whisk/core/controller/test/EntitlementProviderTests.scala |  8 ++++----
 .../whisk/core/controller/test/PackageActionsApiTests.scala   |  4 ++--
 .../scala/whisk/core/controller/test/WebActionsApiTests.scala |  6 +++---
 5 files changed, 20 insertions(+), 17 deletions(-)

commit 89fe2fe05f16a59003ef3ef43dc122400f014357
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Jul 23 18:13:18 2018 +0200

    Always create users-database in couchdb, independently from the amoun… (#3893)
    
    * Always create users-database in couchdb, independently from the amount of instances.
    
    * Add quotes to the admin list on granting permissions.

 ansible/roles/couchdb/tasks/deploy.yml | 2 +-
 ansible/tasks/db/grantPermissions.yml  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 73079eea8d1b94f161cbf0db719618eb370afa96
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jul 23 19:15:08 2018 +0530

    Shutdown attachmentStore after store close. (#3891)

 .../scala/whisk/core/database/cosmosdb/CosmosDBArtifactStore.scala   | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 45ac8962c8edc87260b5d2c21e121ddf2e0003a2
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Jul 23 07:44:17 2018 -0400

    Add retry to avoid intermittent test failures. (#3774)

 tests/src/test/scala/system/basic/WskRestBasicTests.scala | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 7efd66fe748e31c461042c36cc11875361a84bf8
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jul 23 13:36:20 2018 +0200

    Implement full specification of docker image names. (#3887)
    
    Implements the full specification of docker image names to allow OpenWhisk to take all kinds of image references possible.
    
    Parsing is done via parser based on Fastparse library and confirms to the spec at https://github.com/docker/distribution/blob/master/reference/reference.go

 common/scala/build.gradle                          |  1 +
 .../scala/whisk/core/entity/ExecManifest.scala     | 83 ++++++++++++++++------
 .../whisk/core/entity/test/ExecManifestTests.scala |  7 +-
 3 files changed, 66 insertions(+), 25 deletions(-)

commit 0d3959ea288a14d5278a95d56f0fb56e7a46cb23
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Mon Jul 23 18:29:43 2018 +0800

    Fix typo dp_port in ansible/group_vars/all. (#3885)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 02660b48359dc9633e534d5ce4afa745bc30c943
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Jul 23 11:40:57 2018 +0200

    Use separate credentials for controller and invoker. (#3876)

 ansible/group_vars/all                    |  6 ++++
 ansible/roles/controller/tasks/deploy.yml |  6 ++--
 ansible/roles/invoker/tasks/deploy.yml    |  6 ++--
 ansible/tasks/db/checkDb.yml              |  6 ++--
 ansible/tasks/db/createUsers.yml          | 25 ++++++++++++++
 ansible/tasks/db/grantPermissions.yml     | 55 +++++++++++++++++++++++++++++++
 ansible/tasks/initdb.yml                  |  7 ++++
 ansible/tasks/recreateViews.yml           |  1 -
 ansible/tasks/wipeDatabase.yml            | 21 +++++++++++-
 ansible/templates/db_local.ini.j2         |  8 +++++
 10 files changed, 133 insertions(+), 8 deletions(-)

commit 1b8ffcd3203b38eae045a915211ad6d84cc72638
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jul 19 16:12:21 2018 +0200

    Use invoker id for metrics instead of the hostname. (#3882)
    
    * Use invoker id for metrics instead of the hostname.
    
    * Review.
    
    * Review 2.
    
    * Review 3
    
    * Review 4

 .../main/scala/whisk/core/invoker/Invoker.scala    | 39 ++++++++++++----------
 1 file changed, 22 insertions(+), 17 deletions(-)

commit 9afaf7be1a9c5cf69ad567e416d46cce351ee01a
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Jul 18 08:49:41 2018 +0200

    Limit TLS protocols used for kafka and controller. (#3881)
    
    * Limit TLS protocols used for kafka and controller
    
    * Move protocols property into group_vars

 ansible/group_vars/all                              |  2 ++
 ansible/roles/kafka/tasks/deploy.yml                |  1 +
 core/controller/src/main/resources/application.conf | 18 ++++++++++--------
 3 files changed, 13 insertions(+), 8 deletions(-)

commit e96c1bbd5a0f54c923f0153116f7c1f165275e94
Author: Martin Henke <martin.henke@web.de>
Date:   Mon Jul 16 11:01:00 2018 +0200

    Introduce SPI to be able to support different authentication directives. (#3829)

 ansible/group_vars/all                             |  2 +
 ansible/roles/controller/tasks/deploy.yml          |  1 +
 common/scala/src/main/resources/reference.conf     |  1 +
 .../whisk/core/controller/AuthenticatedRoute.scala | 29 ------------
 ...te.scala => BasicAuthenticationDirective.scala} | 54 +++++++++++++---------
 .../scala/whisk/core/controller/RestAPIs.scala     | 47 +++++++++++--------
 ...ateTests.scala => BasicAuthenticateTests.scala} | 46 +++++++++++++-----
 7 files changed, 98 insertions(+), 82 deletions(-)

commit 967f00525149544628961eb1a8a1e404679167b7
Author: Malith Munasinghe <mpmunasinghe@users.noreply.github.com>
Date:   Sun Jul 15 20:26:48 2018 +0530

    Allow bypass of stderr check in testEcho (#3879)

 tests/src/test/scala/actionContainers/BasicActionRunnerTests.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ae2ba8497c45bef38eeff8643e95687b307f67ff
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sat Jul 14 00:37:58 2018 +0530

    Fix invokerId assignment path in zookeeper (#3866)
    
    Fix the id assignment path to eliminate Some(...) wrapping from Scala option type and also add some tests based on Curator Test Support. To enable test some refactoring was done to extract the existing id assignment logic to a new class InstanceIdAssigner.

 core/invoker/build.gradle                          |  4 +-
 .../whisk/core/invoker/InstanceIdAssigner.scala    | 75 ++++++++++++++++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 45 +------------
 settings.gradle                                    |  2 +
 tests/build.gradle                                 |  1 +
 .../invoker/test/InstanceIdAssignerTests.scala     | 53 +++++++++++++++
 6 files changed, 135 insertions(+), 45 deletions(-)

commit 731dbe52f47d08ab7f5e026584ef5d5e5a06780a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jul 13 14:01:02 2018 +0200

    Fix warnings in python scripts. (#3874)
    
    * Fix Flake8 warnings.
    * Enable Flake8 to abort the build even on warnings.

 tools/build/citool     |  4 ++--
 tools/build/redo       | 10 +++++-----
 tools/travis/flake8.sh |  6 +++---
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 4346e056bfedb95168f3dac6703b0a12222dfe6d
Author: Martin Henke <martin.henke@web.de>
Date:   Fri Jul 13 13:38:07 2018 +0200

    Add missing license header for wrk lua file. (#3877)

 tests/performance/wrk_tests/post.lua | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit c4f71efeca19e22d98226797fac14db4e34941bd
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Jul 13 11:36:58 2018 +0200

    Add an optional display name to the invokers. (#3855)
    
    When running the invokers on a container orchestrator, their name in that orchestrator will differ from the topic names used to schedule to them. While the former are usually auto-generated, the latter follow a strict form of a strictly increasing number, which is needed for scheduling.
    
    This adds a display name to the invoker's instance id, so that the operator of such a system can directly correlate the scheduling entity (topic name) and the corresponding container name in her system.
    
    This display name differs from the "unique name" in that the latter might be something more cryptical like the node's host ip, to stay stable in between redeployments of the system. The unique name is not necessarily useful for the operator though.

 .../core/containerpool/ContainerFactory.scala      |  2 +-
 .../main/scala/whisk/core/entity/InstanceId.scala  | 15 ++++++++--
 .../scala/whisk/core/controller/Controller.scala   |  2 +-
 .../ShardingContainerPoolBalancer.scala            |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    | 32 +++++++++++++---------
 5 files changed, 35 insertions(+), 18 deletions(-)

commit 3701d2a3ebc51c08d46de578c195a8056f14c067
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jul 12 17:24:01 2018 +0200

    Refactor database-related variables to avoid duplication in every environment. (#3867)
    
    * Factor out couch admin credentials to global group_vars/all file.
    
    * Refactor db_provider.
    
    * Refactor db_protocol.
    
    * Refactor db_protocol.
    
    * Refactor db_host.

 ansible/couchdb.yml                                |  4 +--
 ansible/environments/docker-machine/group_vars/all |  8 -----
 ansible/environments/local/group_vars/all          |  8 -----
 ansible/environments/local/hosts.j2.ini            |  2 +-
 ansible/environments/vagrant/group_vars/all        |  8 -----
 ansible/environments/vagrant/hosts                 |  2 +-
 ansible/group_vars/all                             |  8 +++++
 ansible/roles/controller/tasks/deploy.yml          | 12 +++----
 ansible/roles/couchdb/tasks/deploy.yml             | 40 +++++++++++-----------
 ansible/roles/invoker/tasks/deploy.yml             | 12 +++----
 ansible/tasks/db/checkDb.yml                       |  8 ++---
 ansible/tasks/db/recreateDb.yml                    | 24 ++++++-------
 ansible/tasks/db/recreateDoc.yml                   | 12 +++----
 ansible/templates/whisk.conf.j2                    | 12 +++----
 ansible/templates/whisk.properties.j2              | 12 +++----
 tests/src/test/resources/application.conf.j2       | 12 +++----
 16 files changed, 84 insertions(+), 100 deletions(-)

commit c6864b804748bb15f4c1976ae52873d2a79a5b7c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jul 12 17:26:05 2018 +0530

    Add module listing page with required tooling (#3825)

 README.md                                          |   2 +-
 docs/dev/modules.md                                | 125 +++++++++++++++++++++
 settings.gradle                                    |   1 +
 tools/dev/README.md                                |  45 +++++++-
 tools/dev/build.gradle                             |  15 +++
 tools/dev/src/main/groovy/CategoryManager.groovy   |  83 ++++++++++++++
 tools/dev/src/main/groovy/listRepos.groovy         |  99 ++++++++++++++++
 .../dev/src/main/groovy/renderModuleDetails.groovy |  51 +++++++++
 tools/dev/src/main/resources/modules.md            |  37 ++++++
 9 files changed, 454 insertions(+), 4 deletions(-)

commit d3bd9e61c2d8e6f906cdbc39f8939e53106d1aad
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Jul 12 10:01:37 2018 +0200

    Introduce Entitlement SPI. (#3822)

 ansible/group_vars/all                                   |  2 ++
 ansible/roles/controller/tasks/deploy.yml                |  2 ++
 common/scala/src/main/resources/reference.conf           |  1 +
 .../main/scala/whisk/core/controller/Controller.scala    |  2 +-
 .../main/scala/whisk/core/entitlement/Entitlement.scala  |  7 +++++++
 .../scala/whisk/core/entitlement/LocalEntitlement.scala  | 16 ++++++++++------
 6 files changed, 23 insertions(+), 7 deletions(-)

commit bcba2d1d2228e17c5bdb6e9d3cf666fd946b9216
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jul 12 03:55:53 2018 -0400

    Allow Elasticsearch client to skip query result hits. (#3849)

 .../logging/ElasticSearchRestClient.scala          | 11 ++-----
 .../logging/ElasticSearchLogStoreTests.scala       |  3 +-
 .../logging/ElasticSearchRestClientTests.scala     | 36 +++++++++++++++-------
 3 files changed, 30 insertions(+), 20 deletions(-)

commit f97079a5d935db1ecd6289d3ff26c555c325323f
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jul 12 08:57:12 2018 +0530

    ArtifactStore implementation for CosmosDB (#3562)
    
    This commit provides a CosmosDB based implementation for ArtifactStore SPI. Given the complexity involved in performing various operations against CosmosDB this commit uses the Java SDK to simplify and speed up the implementation - because compared to CouchDB, performing queries with CosmosDB requires client side computation, which involves sending queries to each partition, then collecting and merging the result set. The Async Java SDK takes care of all these interactions and provides a simplified reactive API based on RxJava.

 common/scala/build.gradle                          |   3 +
 common/scala/src/main/resources/application.conf   |   8 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   1 +
 .../database/cosmosdb/CosmosDBArtifactStore.scala  | 495 +++++++++++++++++++++
 .../cosmosdb/CosmosDBArtifactStoreProvider.scala   | 114 +++++
 .../core/database/cosmosdb/CosmosDBSupport.scala   |  88 ++++
 .../core/database/cosmosdb/CosmosDBUtil.scala      | 108 +++++
 .../database/cosmosdb/CosmosDBViewMapper.scala     | 319 +++++++++++++
 .../core/database/cosmosdb/IndexingPolicy.scala    | 123 +++++
 .../core/database/cosmosdb/ReferenceCounted.scala  |  50 +++
 .../database/cosmosdb/RxObservableImplicits.scala  |  55 +++
 tests/src/test/resources/application.conf.j2       |   6 +
 tests/src/test/scala/common/TestUtils.java         |  18 +-
 .../cosmosdb/CosmosDBArtifactStoreTests.scala      |  29 ++
 .../cosmosdb/CosmosDBAttachmentStoreTests.scala    |  36 ++
 .../cosmosdb/CosmosDBStoreBehaviorBase.scala       |  65 +++
 .../database/cosmosdb/CosmosDBSupportTests.scala   |  69 +++
 .../database/cosmosdb/CosmosDBTestSupport.scala    |  60 +++
 .../core/database/cosmosdb/CosmosDBUtilTest.scala  |  83 ++++
 .../database/cosmosdb/IndexingPolicyTests.scala    |  83 ++++
 .../database/cosmosdb/ReferenceCountedTests.scala  |  91 ++++
 .../ArtifactStoreAttachmentBehaviors.scala         |  11 +-
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |  22 +-
 .../test/behavior/ArtifactStoreTestUtil.scala      |  36 ++
 tools/db/cosmosDbUtil.py                           | 194 ++++++++
 tools/travis/setup.sh                              |   3 +
 26 files changed, 2162 insertions(+), 8 deletions(-)

commit 4a0b4cdc595abe9acd8cdd68b56ac440ea443bc9
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jul 11 19:59:56 2018 +0200

    Cleanup akka-http client usages. (#3870)

 .../whisk/core/database/CloudantRestClient.scala   |  45 --------
 .../whisk/core/database/CouchDbRestClient.scala    |  27 +++--
 .../main/scala/whisk/http/PoolingRestClient.scala  | 117 ++++++++-------------
 3 files changed, 56 insertions(+), 133 deletions(-)

commit 50de78a9d5f723485b0f568901189e2447580a47
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Jul 10 16:23:26 2018 -0400

    Bypass system test for runtime kind if test file is not found (rather than fail). (#3869)

 .../test/scala/system/basic/WskUnicodeTests.scala  | 53 +++++++++++-----------
 tests/src/test/scala/system/rest/RestUtil.scala    |  7 ++-
 2 files changed, 32 insertions(+), 28 deletions(-)

commit 238ad965e1b4143837e64302d98febd55a96780e
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Jul 10 04:45:23 2018 -0400

    Adjust citool to work with Travis build matrix. (#3848)
    
    Enables fetching of logs for various jobs in a matrix by adding sub job index as suffix
    
    ./citool monitor -p 402088870.1

 tools/build/README.md |  1 +
 tools/build/citool    | 72 +++++++++++++++++++++++++++++++++++++--------------
 2 files changed, 54 insertions(+), 19 deletions(-)

commit 171bfb5761cdd4758525837f98bbf998c619ccec
Author: ningyougang <415622920@qq.com>
Date:   Tue Jul 10 15:14:18 2018 +0800

    Modify unicode tests file name (#3865)
    
    The special character `:` is not valid in windows.
    So it is necessary to modify it to `-`.

 docs/actions-new.md                                                  | 3 ++-
 tests/dat/actions/unicode.tests/{nodejs:6.txt => nodejs-6.txt}       | 0
 tests/dat/actions/unicode.tests/{nodejs:8.txt => nodejs-8.txt}       | 0
 tests/dat/actions/unicode.tests/{php:7.1.txt => php-7.1.txt}         | 0
 tests/dat/actions/unicode.tests/{php:7.2.txt => php-7.2.txt}         | 0
 tests/dat/actions/unicode.tests/{python:2.txt => python-2.txt}       | 0
 tests/dat/actions/unicode.tests/{python:3.txt => python-3.txt}       | 0
 tests/dat/actions/unicode.tests/{swift:3.1.1.txt => swift-3.1.1.txt} | 0
 tests/dat/actions/unicode.tests/{swift:4.1.txt => swift-4.1.txt}     | 0
 tests/src/test/scala/system/basic/WskUnicodeTests.scala              | 2 +-
 10 files changed, 3 insertions(+), 2 deletions(-)

commit 223a168212f3b884a1fe63aa4c937c7b3b21364e
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jul 9 22:13:31 2018 -0400

    Add bypass for test (failing in Swift, PHP). Fix NPEs. (#3864)

 .../scala/actionContainers/ActionContainer.scala   | 13 +++++++---
 .../actionContainers/BasicActionRunnerTests.scala  | 30 ++++++++++++----------
 tests/src/test/scala/common/WhiskProperties.java   |  4 ++-
 3 files changed, 28 insertions(+), 19 deletions(-)

commit 02483e5f45b688f67b21b5d63b2ed54f97372b58
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jul 9 17:55:08 2018 -0400

    Java runtime now has log sentinels (#3860)
    
    PR #63 in runtime-java https://github.com/apache/incubator-openwhisk-runtime-java/pull/63 added log sentinels, so we can now update runtime.json accordingly.

 ansible/files/runtimes.json | 1 -
 1 file changed, 1 deletion(-)

commit acbef6aa714f65b29c5fe67b68c7fd2ffbce159a
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jul 9 16:01:10 2018 -0400

    Add action limits to API host standard response (#3859)
    
    Adds the min_action* and sequence_length to the limits property accessible from the API host.
    Adjusts a test which needs the sequence limit to use this information.
    
    Co-authored-by: David Grove <groved@us.ibm.com>
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>

 .../main/scala/whisk/core/entity/LogLimit.scala    |  8 ++++----
 .../main/scala/whisk/core/entity/MemoryLimit.scala |  8 ++++----
 .../main/scala/whisk/core/entity/TimeLimit.scala   |  2 +-
 .../scala/whisk/core/controller/Controller.scala   | 24 +++++++++++++++++++---
 .../actionContainers/BasicActionRunnerTests.scala  | 23 ++++++++++++++++++---
 .../test/scala/system/basic/WskActionTests.scala   |  2 --
 .../test/scala/system/basic/WskSequenceTests.scala | 15 ++++++++------
 .../core/controller/test/ActionsApiTests.scala     |  5 +++--
 .../core/controller/test/ControllerApiTests.scala  | 20 ++++++++++--------
 9 files changed, 74 insertions(+), 33 deletions(-)

commit 5b13c4c90e4f8d59156c862c2ffe57ef027e5aee
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jul 9 10:19:46 2018 -0400

    Remove runtime tests, simplify Rest vs CLI test hierarchy, add sniff test for all runtimes (#3840)
    
    Additional cleanup of tests:
        removes WskRest* where possible and makes the base test suite the Rest tests
        removes runtime tests should should be moved to their respective runtimes
        runs the unicode tests over all the non-deprecated kinds per the runtime manifest

 docs/actions-new.md                                |   2 +
 .../{unicode.jar => unicode.tests/java.bin}        | Bin
 .../{unicode.js => unicode.tests/nodejs:6.txt}     |   0
 .../{issue-1562.js => unicode.tests/nodejs:8.txt}  |   7 +-
 tests/dat/actions/unicode.tests/php:7.1.txt        |   9 +
 tests/dat/actions/unicode.tests/php:7.2.txt        |   9 +
 .../{unicode2.py => unicode.tests/python.txt}      |   0
 tests/dat/actions/unicode.tests/python:2.txt       |  11 +
 .../{unicode3.py => unicode.tests/python:3.txt}    |   0
 .../src/java}/unicode/build.gradle                 |   0
 .../src/java}/unicode/src/main/java/Unicode.java   |   0
 .../swift:3.1.1.txt}                               |   0
 tests/dat/actions/unicode.tests/swift:4.1.txt      |  12 +
 .../actionContainers/BasicActionRunnerTests.scala  | 389 +++++++++++--------
 .../test/scala/common/rest/WskRestOperations.scala | 423 ++++++++-------------
 .../test/scala/system/basic/WskActionTests.scala   |  26 +-
 .../scala/system/basic/WskActivationTests.scala    |  12 +-
 .../scala/system/basic/WskBasicJavaTests.scala     | 104 -----
 .../scala/system/basic/WskBasicNode6Tests.scala    |  94 -----
 .../scala/system/basic/WskBasicNode8Tests.scala    |  26 --
 .../system/basic/WskBasicNodeDefaultTests.scala    | 125 ------
 .../scala/system/basic/WskBasicPythonTests.scala   | 142 -------
 .../scala/system/basic/WskBasicSwift3Tests.scala   |  65 ----
 .../scala/system/basic/WskConductorTests.scala     |  19 +-
 .../test/scala/system/basic/WskPackageTests.scala  |  14 +-
 .../scala/system/basic/WskRestActionTests.scala    |  38 --
 .../system/basic/WskRestActivationTests.scala      |  29 --
 .../scala/system/basic/WskRestBasicJavaTests.scala |  28 --
 .../system/basic/WskRestBasicNode6Tests.scala      |  29 --
 .../system/basic/WskRestBasicNode8Tests.scala      |  29 --
 .../basic/WskRestBasicNodeDefaultTests.scala       |  29 --
 .../system/basic/WskRestBasicPythonTests.scala     |  29 --
 .../system/basic/WskRestBasicSwift311Tests.scala   |  30 --
 .../system/basic/WskRestBasicSwift41Tests.scala    |  31 --
 .../scala/system/basic/WskRestBasicTests.scala     |  11 +-
 .../scala/system/basic/WskRestConductorTests.scala |  29 --
 .../scala/system/basic/WskRestPackageTests.scala   |  29 --
 .../scala/system/basic/WskRestSequenceTests.scala  |  35 --
 .../system/basic/WskRestUnicodeJavaTests.scala     |  35 --
 .../system/basic/WskRestUnicodeNode6Tests.scala    |  35 --
 .../system/basic/WskRestUnicodeNode8Tests.scala    |  35 --
 .../system/basic/WskRestUnicodePython2Tests.scala  |  32 --
 .../system/basic/WskRestUnicodePython3Tests.scala  |  32 --
 .../system/basic/WskRestUnicodeSwift311Tests.scala |  32 --
 .../system/basic/WskRestUnicodeSwift41Tests.scala  |  32 --
 .../test/scala/system/basic/WskSequenceTests.scala |  23 +-
 .../test/scala/system/basic/WskUnicodeTests.scala  |  97 +++--
 .../core/cli/test/WskRestBasicUsageTests.scala     |  75 ----
 .../core/cli/test/WskRestWebActionsTests.scala     |  28 --
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  14 +-
 .../core/controller/test/ActionsApiTests.scala     |  19 +-
 .../core/controller/test/SequenceApiTests.scala    |  13 +
 52 files changed, 588 insertions(+), 1779 deletions(-)

commit 9c05de4494d6edbd198fd494d458b908bbc0cd0a
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Jul 7 12:35:23 2018 -0400

    Document adding a new runtime kind. (#3837)
    
    Document the steps required to add a new runtime kind to the main repo so that it is available to the OpenWhisk deployment.

 docs/actions-new.md   | 251 ++++++++++++++++++++++++++++++++++++++++++++++++++
 docs/actions-swift.md |  60 ++++++------
 docs/actions.md       |  15 ++-
 3 files changed, 291 insertions(+), 35 deletions(-)

commit 545161b7e2665fe500fb7b5ae1e766e879ed38d3
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jul 6 17:19:07 2018 -0400

    Replace occurrences of JsObject() with JsObject.empty (#3850)

 .../main/scala/whisk/core/connector/Message.scala  |  2 +-
 .../logging/ElasticSearchRestClient.scala          |  2 +-
 .../whisk/core/database/CouchDbRestStore.scala     |  2 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  2 +-
 .../main/scala/whisk/core/entity/Parameter.scala   |  2 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |  4 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  2 +-
 .../scala/whisk/core/controller/Triggers.scala     |  4 +--
 .../core/controller/actions/PrimitiveActions.scala |  2 +-
 .../whisk/core/containerpool/ContainerProxy.scala  |  2 +-
 .../actionContainers/BasicActionRunnerTests.scala  |  4 +--
 .../test/scala/common/rest/WskRestOperations.scala |  6 ++--
 .../scala/system/basic/WskRestBasicTests.scala     | 16 ++++-----
 tests/src/test/scala/system/rest/RestUtil.scala    |  4 +--
 .../core/cli/test/WskRestBasicUsageTests.scala     |  2 +-
 .../docker/test/ContainerConnectionTests.scala     |  8 ++---
 .../test/DockerClientWithFileAccessTests.scala     |  2 +-
 .../docker/test/DockerContainerTests.scala         | 10 +++---
 .../kubernetes/test/KubernetesContainerTests.scala | 18 +++++-----
 .../logging/ElasticSearchRestClientTests.scala     |  6 ++--
 .../logging/SplunkLogStoreTests.scala              |  2 +-
 .../core/controller/test/ActionsApiTests.scala     |  2 +-
 .../core/controller/test/ConductorsApiTests.scala  |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  | 20 ++++++------
 .../core/database/test/DocumentHandlerTests.scala  |  2 +-
 .../whisk/core/entity/test/ExecManifestTests.scala |  6 ++--
 .../scala/whisk/core/entity/test/SchemaTests.scala | 28 +++++++++-------
 .../scala/whisk/http/PoolingRestClientTests.scala  | 38 +++++++++++-----------
 28 files changed, 102 insertions(+), 98 deletions(-)

commit d4757f8ece830cbcd45b7424a394515bd7c49416
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jul 6 13:39:39 2018 -0400

    Make controller environment variable name generic (#3790)

 ansible/roles/controller/tasks/deploy.yml            | 6 +++---
 ansible/roles/controller/tasks/join_akka_cluster.yml | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 818cebf941e66beef553e79831740f8632e78c68
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jul 6 10:01:33 2018 -0400

    Refactor invoker roles (#3785)
    
    * Refactor invoker roles
    
    * Make invoker environment variable name generic
    
    * Use base index for invoker name

 ansible/invoker.yml                    | 22 ++++++++++++++-
 ansible/roles/invoker/tasks/clean.yml  | 19 ++++++++-----
 ansible/roles/invoker/tasks/deploy.yml | 51 ++++++++++++++++++++--------------
 3 files changed, 63 insertions(+), 29 deletions(-)

commit e7e841476dd30905dc8b4997f3af1ff0adba73d0
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jul 6 13:07:18 2018 +0100

    Properly consume and optimize reading of http entities, drop connection reuse. (#3843)
    
    - Explicitly consume and close the response's entity in any case (even if ignored) to make sure the connections get released properly and are not leaked.
    - Use optimized path for consuming the entire entity into a string if its length is within bounds.
    - Don't reuse connections.
    
    To the last point: Reusing connections when a runtime doesn't support it adds a significant latency overhead when closing the response's entity. That's likely due to some sort of mismatched behavior (client wants to keep the connection open, the server doesn't even know the concept). The latency overhead in those cases (10-20ms of latency added in latency tests) seem far higher than the latency overhead of establishing a new connection (not measurable in latency tests).
    Dropping connection reuse also solves any issues that might be encountered due to the pause/resume cycles of the container, in which sockets don't react to any event at all.

 common/scala/build.gradle                          |  2 +-
 .../scala/whisk/core/containerpool/HttpUtils.scala | 53 ++++++++++++----------
 2 files changed, 31 insertions(+), 24 deletions(-)

commit 3ab604c167ac5bec76c756e3e76473863eb0a25d
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Jul 5 17:55:48 2018 -0400

    Add test for empty initializer. Document other tests. (#3844)
    
    * Add test for empty initializer. Document other tests.
    
    * Allow for a dot or dash in the action name.

 .../actionContainers/BasicActionRunnerTests.scala  | 59 +++++++++++++++++-----
 tools/build/redo                                   |  2 +-
 2 files changed, 48 insertions(+), 13 deletions(-)

commit eb05298129bbde4b8b48f7eb8a61ae96a6e87e3f
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jul 5 12:02:44 2018 -0400

    Allow Elasticsearch 'must' query to take an array of 'ranges' (#3795)
    
    * Allow Elasticsearch 'must' query to take an array of 'ranges'

 .../core/containerpool/logging/ElasticSearchRestClient.scala  |  6 ++++--
 .../containerpool/logging/ElasticSearchRestClientTests.scala  | 11 ++++++-----
 2 files changed, 10 insertions(+), 7 deletions(-)

commit c31dfea58f1a633e4390f169d2c8055012d39704
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Jul 5 16:55:18 2018 +0100

    Add an action runner test to ensure /init is only called once. (#3841)

 .../actionContainers/BasicActionRunnerTests.scala  | 23 ++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit be1a2038eb38d9b6a84d0afcac92f2993659d7c9
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jul 5 11:39:38 2018 -0400

    Fix typos in metrics doc (#3833)
    
    * Fix typos in metrics doc

 docs/metrics.md | 31 +++++++++++++++----------------
 1 file changed, 15 insertions(+), 16 deletions(-)

commit fc5798bb299e1f993449472cecbb55ffce1ebe62
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jul 4 16:43:10 2018 +0200

    Revert hardening of HttpUtils. (#3842)
    
    The changes introduced here are subject so latency and stability problems in larger environments. Especially the impact of consuming the whole entity needs to be carefully asserted and verified before getting it back in.

 .../src/main/scala/whisk/core/containerpool/HttpUtils.scala      | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 5d40ca9848ff09e016e1a1701c4f0545dbd49fae
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Jul 3 19:24:47 2018 -0400

    add /invokers/healthy/count route to controller (#3838)
    
    * add /numHealthyInvokers route to controller
    
    Add a route to easily get a count of healthy invokers. This route can
    be used to as a check for the system being ready to actually execute
    actions (for example as a readiness probe in a Helm chart or a
    TravisCI built script). Although this information could be extracted by
    client-side processing of the result of the /invokers route, it is
    convenient to do the math on the server side and simply return the count.

 .../scala/whisk/core/controller/Controller.scala   | 27 ++++++++++++++--------
 1 file changed, 17 insertions(+), 10 deletions(-)

commit f6046721acd801ea1777cb5cb040dfaa6922a18e
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Wed Jun 27 15:28:52 2018 -0400

    Change import to be fully qualified.

 tests/src/test/scala/limits/ThrottleTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 474d2e584b158326a554d6475f4f1ea6befcb247
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Sun Jun 17 11:58:52 2018 -0400

    Allow for commands to on network error. Add test for run cmd with retry.

 tests/src/test/scala/common/RunCliCmd.scala        | 32 +++++---
 .../test/scala/whisk/common/RunCliCmdTests.scala   | 90 ++++++++++++++++++++++
 2 files changed, 113 insertions(+), 9 deletions(-)

commit 722f4c542ccb70adbdda6f4b04817daa8f71560f
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Sat Jun 9 11:55:38 2018 -0400

    Allow wsk CLI path to be overriden.

 tests/src/test/scala/common/RunCliCmd.scala        |   3 +-
 tests/src/test/scala/common/WskCliOperations.scala | 112 +++++++++++----------
 2 files changed, 63 insertions(+), 52 deletions(-)

commit 49e89cbaa12b9aee8a0cb1c18f21a112c42df24a
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Sat Jun 9 01:15:04 2018 -0400

    Add back utility method used downstream, with deprecation notice issued in logs.

 tests/src/test/scala/common/WskTestHelpers.scala | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit ed435e73248d2da2ca576e8113312002b7186b86
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Sat Jun 9 00:21:12 2018 -0400

    Remove return statements.

 tests/src/test/scala/common/WskCliOperations.scala | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 34fc4b08f07e4eb4144269fd9759a898365b2912
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 23:30:33 2018 -0400

    Re-introduce cli bindings.

 tests/src/test/scala/common/WskCliOperations.scala | 959 +++++++++++++++++++++
 tests/src/test/scala/common/WskOperations.scala    |  15 +-
 2 files changed, 971 insertions(+), 3 deletions(-)

commit 663440da35baf4b066add3e5fae70cfc0557a1d3
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 23:07:06 2018 -0400

    Remove burried ActorSystem which turned into several instances for every instantiated instance of the Rest 'wsk'.

 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  2 +-
 .../apigw/healthtests/ApiGwRestEndToEndTests.scala |  7 +--
 .../common/{CommandLine.scala => RunCliCmd.scala}  |  4 +-
 .../test/scala/common/rest/WskRestOperations.scala | 53 +++++++++++-----------
 tests/src/test/scala/limits/ThrottleTests.scala    |  1 +
 .../scala/system/basic/WskRestActionTests.scala    | 10 ++--
 .../system/basic/WskRestActivationTests.scala      |  5 +-
 .../scala/system/basic/WskRestBasicJavaTests.scala |  6 +--
 .../system/basic/WskRestBasicNode6Tests.scala      |  5 +-
 .../system/basic/WskRestBasicNode8Tests.scala      |  5 +-
 .../basic/WskRestBasicNodeDefaultTests.scala       |  5 +-
 .../system/basic/WskRestBasicPythonTests.scala     |  5 +-
 .../system/basic/WskRestBasicSwift311Tests.scala   |  5 +-
 .../system/basic/WskRestBasicSwift41Tests.scala    |  5 +-
 .../scala/system/basic/WskRestBasicTests.scala     |  8 ++--
 .../scala/system/basic/WskRestConductorTests.scala |  5 +-
 .../scala/system/basic/WskRestPackageTests.scala   |  8 ++--
 .../test/scala/system/basic/WskRestRuleTests.scala |  5 +-
 .../system/basic/WskRestUnicodeJavaTests.scala     |  5 +-
 .../system/basic/WskRestUnicodeNode6Tests.scala    |  5 +-
 .../system/basic/WskRestUnicodeNode8Tests.scala    |  5 +-
 .../system/basic/WskRestUnicodePython2Tests.scala  |  8 ++--
 .../system/basic/WskRestUnicodePython3Tests.scala  |  8 ++--
 .../system/basic/WskRestUnicodeSwift311Tests.scala |  8 ++--
 .../system/basic/WskRestUnicodeSwift41Tests.scala  |  6 +--
 .../test/scala/system/rest/ActionSchemaTests.scala | 16 +++----
 .../scala/whisk/core/admin/WskAdminTests.scala     |  4 +-
 .../whisk/core/cli/test/ApiGwRestBasicTests.scala  |  2 +-
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala |  4 +-
 .../core/cli/test/WskActionSequenceTests.scala     |  2 +-
 .../core/cli/test/WskRestActionSequenceTests.scala |  4 +-
 .../core/cli/test/WskRestBasicUsageTests.scala     |  3 +-
 .../core/cli/test/WskRestEntitlementTests.scala    |  5 +-
 .../core/cli/test/WskRestWebActionsTests.scala     |  6 +--
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  8 ++--
 .../core/database/test/CacheConcurrencyTests.scala |  9 +---
 .../whisk/core/limits/ActionLimitsTests.scala      |  4 +-
 .../whisk/core/limits/MaxActionDurationTests.scala |  4 +-
 38 files changed, 135 insertions(+), 125 deletions(-)

commit 38c3679b9a3495ba30177e1cb97042b33d3667c2
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 21:32:08 2018 -0400

    Renaming, no intended semantic change.

 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  4 +-
 .../apigw/healthtests/ApiGwRestEndToEndTests.scala |  4 +-
 .../common/{CliCommand.scala => CommandLine.scala} |  4 +-
 .../common/{BaseWsk.scala => WskOperations.scala}  | 34 +++++-----
 tests/src/test/scala/common/WskTestHelpers.scala   | 12 ++--
 .../{WskRest.scala => WskRestOperations.scala}     | 75 ++++++++++++----------
 tests/src/test/scala/ha/ShootComponentsTests.scala |  4 +-
 tests/src/test/scala/limits/ThrottleTests.scala    |  6 +-
 tests/src/test/scala/services/HeadersTests.scala   |  4 +-
 .../test/scala/system/basic/WskActionTests.scala   |  4 +-
 .../scala/system/basic/WskActivationTests.scala    |  4 +-
 .../scala/system/basic/WskBasicJavaTests.scala     |  4 +-
 .../scala/system/basic/WskBasicNode6Tests.scala    |  4 +-
 .../system/basic/WskBasicNodeDefaultTests.scala    |  4 +-
 .../scala/system/basic/WskBasicPythonTests.scala   |  4 +-
 .../scala/system/basic/WskBasicSwift3Tests.scala   |  4 +-
 .../scala/system/basic/WskConductorTests.scala     |  4 +-
 .../test/scala/system/basic/WskConsoleTests.scala  |  4 +-
 .../test/scala/system/basic/WskPackageTests.scala  |  4 +-
 .../scala/system/basic/WskRestActionTests.scala    |  4 +-
 .../system/basic/WskRestActivationTests.scala      |  4 +-
 .../scala/system/basic/WskRestBasicJavaTests.scala |  4 +-
 .../system/basic/WskRestBasicNode6Tests.scala      |  4 +-
 .../system/basic/WskRestBasicNode8Tests.scala      |  4 +-
 .../basic/WskRestBasicNodeDefaultTests.scala       |  4 +-
 .../system/basic/WskRestBasicPythonTests.scala     |  4 +-
 .../system/basic/WskRestBasicSwift311Tests.scala   |  4 +-
 .../system/basic/WskRestBasicSwift41Tests.scala    |  4 +-
 .../scala/system/basic/WskRestBasicTests.scala     |  4 +-
 .../scala/system/basic/WskRestConductorTests.scala |  4 +-
 .../scala/system/basic/WskRestPackageTests.scala   |  4 +-
 .../test/scala/system/basic/WskRestRuleTests.scala |  4 +-
 .../scala/system/basic/WskRestSequenceTests.scala  |  4 +-
 .../system/basic/WskRestUnicodeJavaTests.scala     |  4 +-
 .../system/basic/WskRestUnicodeNode6Tests.scala    |  4 +-
 .../system/basic/WskRestUnicodeNode8Tests.scala    |  4 +-
 .../system/basic/WskRestUnicodePython2Tests.scala  |  4 +-
 .../system/basic/WskRestUnicodePython3Tests.scala  |  4 +-
 .../system/basic/WskRestUnicodeSwift311Tests.scala |  4 +-
 .../system/basic/WskRestUnicodeSwift41Tests.scala  |  4 +-
 .../src/test/scala/system/basic/WskRuleTests.scala |  4 +-
 .../test/scala/system/basic/WskSequenceTests.scala |  4 +-
 .../test/scala/system/basic/WskUnicodeTests.scala  |  4 +-
 .../test/scala/system/rest/ActionSchemaTests.scala |  4 +-
 .../test/scala/whisk/common/UserEventTests.scala   |  4 +-
 .../scala/whisk/core/admin/WskAdminTests.scala     |  4 +-
 .../test/ApiGwRestRoutemgmtActionTests.scala       |  4 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  4 +-
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala |  4 +-
 .../scala/whisk/core/cli/test/BaseApiGwTests.scala |  4 +-
 .../core/cli/test/WskActionSequenceTests.scala     |  4 +-
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  4 +-
 .../core/cli/test/WskRestActionSequenceTests.scala |  4 +-
 .../core/cli/test/WskRestBasicUsageTests.scala     |  4 +-
 .../core/cli/test/WskRestEntitlementTests.scala    |  4 +-
 .../core/cli/test/WskRestWebActionsTests.scala     |  4 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  4 +-
 .../core/database/test/CacheConcurrencyTests.scala |  4 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |  4 +-
 .../whisk/core/limits/MaxActionDurationTests.scala |  4 +-
 60 files changed, 179 insertions(+), 172 deletions(-)

commit ce185af833b040aaab827bf3a98b9da336008b92
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 21:10:21 2018 -0400

    Rename trait and file.

 tests/src/test/scala/common/{Wsk.scala => CliCommand.scala} | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 07c5c90acb4059835102a01cb7c026d321a661bb
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 16:31:48 2018 -0400

    Move a trait and singleton around.

 tests/src/test/scala/common/BaseWsk.scala        | 92 +++++++++++++++---------
 tests/src/test/scala/common/Wsk.scala            | 58 ---------------
 tests/src/test/scala/common/WskTestHelpers.scala | 33 +++++++++
 3 files changed, 91 insertions(+), 92 deletions(-)

commit 6f358fecd24ddd7099d91f49fe6b537c24ba3fa4
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 16:28:43 2018 -0400

    Remove RunWskAdminCmd trait.

 tests/src/test/scala/common/Wsk.scala              | 13 +++++------
 tests/src/test/scala/common/WskTestHelpers.scala   |  4 ++--
 tests/src/test/scala/limits/ThrottleTests.scala    | 10 ++------
 .../scala/whisk/core/admin/WskAdminTests.scala     | 27 ++++++----------------
 4 files changed, 17 insertions(+), 37 deletions(-)

commit 583862d4d8c1705eea1a6bc1749ee24703660651
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 16:18:51 2018 -0400

    Remove unnecessary dependency injection and flatten type hiearchy some more.

 tests/src/test/scala/common/BaseWsk.scala      | 26 ++++++++++++--------------
 tests/src/test/scala/common/rest/WskRest.scala | 19 +++++++++----------
 2 files changed, 21 insertions(+), 24 deletions(-)

commit c63a4f53274002bb9de8c59c7e0735049358bd67
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 16:06:08 2018 -0400

    Scala-isms and more code cleanup.

 tests/src/test/scala/common/rest/WskRest.scala | 198 ++++++++++++-------------
 1 file changed, 94 insertions(+), 104 deletions(-)

commit a4ac8f75a6303c751e9d0517be47aa2549c4269a
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 15:14:42 2018 -0400

    Remove return statements.

 .../scala/apigw/healthtests/ApiGwEndToEndTests.scala  |  6 ++----
 .../apigw/healthtests/ApiGwRestEndToEndTests.scala    |  4 ++--
 tests/src/test/scala/common/rest/WskRest.scala        | 15 +++++++--------
 .../actions/test/ApiGwRoutemgmtActionTests.scala      | 19 +++++++++----------
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala    |  2 +-
 5 files changed, 21 insertions(+), 25 deletions(-)

commit a75d063640480892b3398da9b7b73795707c6979
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 11:38:37 2018 -0400

    More cleanup of BaseRunWsk, and some redundant methods.

 tests/src/test/scala/common/BaseWsk.scala          | 52 +++++++---------------
 tests/src/test/scala/common/Wsk.scala              | 22 ++++++++-
 tests/src/test/scala/common/WskTestHelpers.scala   |  8 ----
 tests/src/test/scala/common/rest/WskRest.scala     |  2 +-
 .../test/scala/system/basic/WskActionTests.scala   |  7 ++-
 .../scala/system/basic/WskRestActionTests.scala    |  2 +-
 .../test/scala/system/basic/WskRestRuleTests.scala |  4 +-
 7 files changed, 44 insertions(+), 53 deletions(-)

commit 0e05f6b2cb7e6c7b4ad26c6ef719732062fddaa6
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 11:25:39 2018 -0400

    Remove reference to wsk CLI class Wsk.

 tests/src/test/scala/common/Wsk.scala              | 937 +--------------------
 tests/src/test/scala/common/rest/WskRest.scala     |   3 +-
 .../test/scala/system/basic/WskActionTests.scala   |   9 +-
 3 files changed, 8 insertions(+), 941 deletions(-)

commit 80d1cf77acda0e18005be62769946db02ab81227
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 10:42:13 2018 -0400

    Delete really dated sequence schema related tests.

 tests/dat/actions/seq_echo_word_count.json         |  25 ----
 tests/dat/actions/seq_type_2.json                  |  33 -----
 .../core/cli/test/SequenceMigrationTests.scala     | 137 ---------------------
 3 files changed, 195 deletions(-)

commit d7e54174c53692199ea10df153abe9111729dd2b
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 10:33:35 2018 -0400

    Rename test suite.

 .../test/scala/whisk/core/cli/test/WskRestActionSequenceTests.scala | 2 +-
 .../src/test/scala/whisk/core/cli/test/WskRestBasicUsageTests.scala | 6 +++---
 .../test/scala/whisk/core/cli/test/WskRestEntitlementTests.scala    | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 654ec5cb5ee535170e918202cb950addb5d3a2c7
Author: Rodric Rabbah <rodric@gmail.com>
Date:   Fri Jun 8 10:33:13 2018 -0400

    Remove swift tests.

 .../scala/whisk/core/cli/test/Swift311Tests.scala  | 65 ----------------------
 1 file changed, 65 deletions(-)

commit be89eb7f0b8d2d215e9b5bf28d6eab8618cfb2d5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jul 3 15:22:59 2018 -0400

    Allow ElasticSearchClient to retrieve hit count. (#3794)

 .../whisk/core/containerpool/logging/ElasticSearchRestClient.scala    | 4 ++--
 .../core/containerpool/logging/ElasticSearchRestClientTests.scala     | 1 +
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 48c4db35a122a87cd8f5b8aeebd5e26605d2e13d
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jul 3 13:28:13 2018 -0400

    Add restart sink to log rotator sink (#3834)
    
    * Add restart sink to log rotator sink
    
    * Review refactor

 .../logging/DockerToActivationFileLogStore.scala   | 37 ++++++++++++----------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit ebf42b232f75f75592ed15d6a61afa8bfa14af95
Author: Rob Allen <rob@akrabat.com>
Date:   Tue Jul 3 18:11:49 2018 +0100

    Add support for PHP 7.2 runtime (#3736)

 ansible/files/runtimes.json                          | 12 +++++++++++-
 core/controller/src/main/resources/apiv1swagger.json |  2 ++
 docs/actions-php.md                                  | 11 ++++++-----
 docs/webactions.md                                   |  2 +-
 4 files changed, 20 insertions(+), 7 deletions(-)

commit b288435dfdb3c0f6bc5622d6cbb04aaa233f28b4
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 3 18:00:20 2018 +0200

    Use a PoolingConnectionManager even for single connection use-cases. (#3836)
    
    The PoolingConnectionManager checks connections for their staleness, which is important because we're pausing/resuming containers all the time. Connections can go stale in this process.

 .../scala/whisk/core/containerpool/HttpUtils.scala | 26 ++++++++++++++++------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 45fca53c7db25b8aa297ec8a070c5d057bbbc88e
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jul 3 03:10:10 2018 -0400

    Include rotating user log filename in system logs. (#3830)

 .../containerpool/logging/DockerToActivationFileLogStore.scala    | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 4db501b5032f7e8251e77c4698e5d103bac9a779
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Jul 3 09:09:10 2018 +0200

    Add metrics to monitor the overall memory consumed by usercontainers. (#3831)

 common/scala/src/main/scala/whisk/common/Logging.scala           | 2 ++
 .../whisk/core/loadBalancer/ShardingContainerPoolBalancer.scala  | 9 ++++++++-
 .../loadBalancer/test/ShardingContainerPoolBalancerTests.scala   | 4 +++-
 3 files changed, 13 insertions(+), 2 deletions(-)

commit 06818a4a8056aea4c0c555033f2a947ff15e33fa
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 3 09:00:04 2018 +0200

    Add documentation to the loadbalancer. (#3778)
    
    * Add documentation to the loadbalancer.
    
    * Add information on the overflow and other edge cases.
    
    * Incooperating more feedback to make prose description clearer.
    
    * Clarify capacity determination.
    
    * Clarify health protocol.

 .../ShardingContainerPoolBalancer.scala            | 90 +++++++++++++++++++++-
 1 file changed, 88 insertions(+), 2 deletions(-)

commit e3e5abd71cd76e93a29f4cfa94b4d164d4214535
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jul 3 01:49:02 2018 +0200

    Bump wskadmin's request timeout. (#3832)
    
    This fails ever so often in Travis for no good reason. Bumping to 60 seconds shouldn't harm.

 tools/admin/wskutil.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd91b4fc024b16b9cc89b1aef77deb494da939e2
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jul 2 16:31:38 2018 +0200

    Make HttpUtils actually use only one connection and harden connection release. (#3818)
    
    When not specifying any ConnectionManager for the HttpClient used by HttpUtils, it defaults to an arbitrary PoolingManager with 5 connections. This can hide subtle bugs in connection management, since we expect it to only have one connection to the specific container, we'll default to the BasicConnectionManager.
    
    Furthermore, there are subtle issues when an entity returned by a HttpRequest is not consumed fully (which could happen if it gets truncated or content-length is not returned correctly). That can cause the ConnectionPool (which shouldn't be there in the first place) to go stale.
    
    We also never closed the entity's stream.

 .../src/main/scala/whisk/core/containerpool/HttpUtils.scala    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit e40e286dfef893f1b67cf5aa86901b35380fcefd
Author: Martin Henke <martin.henke@web.de>
Date:   Mon Jul 2 11:04:02 2018 +0200

    Store and pass variant data in the Identity's authentication. (#3788)
    
    This is preparing the introduction of an authentication SPI. One prerequisite for supporting different authorization mechanisms is the ability to pass the information contained in this authorization artifacts down to the user containers (e.g. to call out to other services using these artifacts). This ability is implemented by serializing the information into a JSON structure
    that is mixed in into environment available to the runtimes.

 ...hKey.scala => BasicAuthenticationAuthKey.scala} | 48 ++++++++--------------
 .../main/scala/whisk/core/entity/CacheKey.scala    |  4 +-
 .../scala/whisk/core/entity/GenericAuthKey.scala   | 48 ++++++++++++++++++++++
 .../main/scala/whisk/core/entity/Identity.scala    |  7 ++--
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  4 +-
 .../scala/whisk/core/controller/Authenticate.scala |  4 +-
 .../scala/whisk/core/controller/Triggers.scala     | 22 ++++++----
 .../core/loadBalancer/InvokerSupervision.scala     |  6 ++-
 .../whisk/core/containerpool/ContainerProxy.scala  | 19 +++++----
 .../scala/whisk/core/admin/WskAdminTests.scala     |  8 ++--
 .../logging/ElasticSearchLogStoreTests.scala       |  3 +-
 .../logging/SplunkLogStoreTests.scala              |  3 +-
 .../test/DockerToActivationLogStoreTests.scala     |  3 +-
 .../containerpool/test/ContainerPoolTests.scala    |  2 +-
 .../containerpool/test/ContainerProxyTests.scala   |  5 ++-
 .../core/controller/test/AuthenticateTests.scala   | 20 +++++----
 .../controller/test/EntitlementProviderTests.scala |  6 ++-
 .../core/controller/test/WebActionsApiTests.scala  |  4 +-
 .../core/controller/test/WhiskAuthHelpers.scala    | 14 ++-----
 .../whisk/core/database/UserCommandTests.scala     | 26 ++++++------
 .../scala/whisk/core/database/test/DbUtils.scala   |  6 +--
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |  2 +-
 .../ArtifactStoreSubjectQueryBehaviors.scala       | 24 ++++++-----
 .../scala/whisk/core/entity/test/SchemaTests.scala | 37 ++++++++---------
 .../invoker/test/NamespaceBlacklistTests.scala     | 10 ++---
 .../test/InvokerSupervisionTests.scala             |  2 +-
 .../scala/whisk/core/database/UserCommand.scala    | 19 +++------
 27 files changed, 200 insertions(+), 156 deletions(-)

commit b1476b9992bab90c077ac2f1fbdc67d10d9d2c39
Author: Carlos Santana <csantanapr@apache.org>
Date:   Fri Jun 29 19:30:54 2018 -0400

    add until for all ansible retries (#3806)

 ansible/roles/apigateway/tasks/deploy.yml |  2 --
 ansible/roles/controller/tasks/deploy.yml |  6 +++---
 ansible/roles/couchdb/tasks/deploy.yml    |  2 --
 ansible/roles/invoker/tasks/deploy.yml    | 15 +++++++++------
 ansible/roles/kafka/tasks/deploy.yml      |  2 --
 ansible/roles/nginx/tasks/deploy.yml      |  2 ++
 ansible/roles/redis/tasks/deploy.yml      |  2 ++
 ansible/roles/registry/tasks/deploy.yml   |  2 ++
 ansible/roles/zookeeper/tasks/deploy.yml  |  2 ++
 9 files changed, 20 insertions(+), 15 deletions(-)

commit b2b72bd4ba6946cb4de81b4b45002db18b9ae107
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jun 29 23:20:44 2018 +0200

    Don't use stubbed functions in InvokerSupervisionTests. (#3826)
    
    `stubFunctions` don't seem to play nicely with retry logic because the `verify` handler will be attached more than once. Switching to a manual stub should help here.
    
    Fixes #3809

 tests/src/test/scala/common/LoggedFunction.scala         | 13 +++++++------
 .../core/loadBalancer/test/InvokerSupervisionTests.scala | 16 +++++-----------
 2 files changed, 12 insertions(+), 17 deletions(-)

commit 51c9c525c5782c6885e674353aabd0038973293b
Author: Vincent <shou@us.ibm.com>
Date:   Fri Jun 29 16:56:40 2018 -0400

    Check the file existence of application.conf.j2 (#3803)
    
    Since the initial openwhisk release does not package the folder tests, we
    need to make sure application.conf.j2 exists in order to copy to the remote
    server.

 ansible/tasks/writeWhiskProperties.yml | 7 +++++++
 1 file changed, 7 insertions(+)

commit bad02607b4bbedd7c24997d60b2e97c598a09190
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jun 29 16:37:40 2018 -0400

    Reorganize actions docs (#3816)
    
    * Refactor actions markdown so each lang/runtime is its own doc file.

 docs/actions-docker.md |  157 +++++
 docs/actions-go.md     |   83 +++
 docs/actions-java.md   |   93 +++
 docs/actions-node.md   |  400 +++++++++++++
 docs/actions-php.md    |  120 ++++
 docs/actions-python.md |  200 +++++++
 docs/actions-swift.md  |  306 ++++++++++
 docs/actions.md        | 1491 ++++++++++++------------------------------------
 docs/reference.md      |  384 -------------
 9 files changed, 1717 insertions(+), 1517 deletions(-)

commit fbdd8ff2264f50f67532da9f3bda841604eed8b5
Author: Vincent <shou@us.ibm.com>
Date:   Fri Jun 29 15:58:17 2018 -0400

    Remove the copyright of lightbend (#3827)
    
    Closes: #3828

 LICENSE.txt                                                             | 2 +-
 .../src/main/scala/whisk/core/database/ConcurrentMapBackedCache.scala   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 63496d5ee3a67a24f1e811569dae30ce0b738377
Author: sandeep-paliwal <spaliwal@adobe.com>
Date:   Fri Jun 29 20:37:57 2018 +0530

    Distributed tracing support #2192 (#2282)
    
    Enables Tracing support via Zipkin and OpenTracer.
    
    It can be enabled via config
    
       tracing {
            zipkin {
                 url = "http://localhost:9411" //url to connecto to zipkin server
                 //sample-rate to decide a request is sampled or not.
                 sample-rate = "0.01" // sample 1% of requests by default
            }
        }
    
    Tracing enables tracking of request from Controller to Invoker

 common/scala/build.gradle                          |   8 +
 common/scala/src/main/resources/application.conf   |  14 ++
 .../main/scala/whisk/common/TransactionId.scala    |  11 ++
 .../whisk/common/tracing/OpenTracingProvider.scala | 201 +++++++++++++++++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   3 +
 .../main/scala/whisk/core/connector/Message.scala  |   5 +-
 .../controller/src/main/resources/application.conf |  10 +
 .../core/controller/actions/PrimitiveActions.scala |  25 ++-
 core/invoker/src/main/resources/application.conf   |   5 +
 .../scala/whisk/core/invoker/InvokerReactive.scala |   4 +
 tests/build.gradle                                 |   3 +
 tests/src/test/scala/common/WskTracingTests.scala  | 126 +++++++++++++
 12 files changed, 403 insertions(+), 12 deletions(-)

commit e38ea358359152474f1f4eac33f9b15f8e642630
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 29 14:10:38 2018 +0530

    Use only "scoverage" related artifacts in modified classpath. (#3820)

 tests/build.gradle | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c58eb1a6c883ea44b34de7c5236e7c3c5c19d428
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 29 13:40:38 2018 +0530

    Install admin module upon test module install. (#3824)

 tests/build.gradle | 2 ++
 1 file changed, 2 insertions(+)

commit 5e1571a61aa606eecfef7d7e44d46187d29e0026
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 29 07:21:47 2018 +0530

    Avoid regenerating auth key multiple times (#3821)

 .../whisk/core/database/UserCommandTests.scala     |  6 ++++
 .../scala/whisk/core/database/UserCommand.scala    | 38 ++++++++++++----------
 2 files changed, 26 insertions(+), 18 deletions(-)

commit 74be0d7788b9220cd7631495dd48c4bea01636e1
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Thu Jun 28 13:59:10 2018 +0800

    Generate whisk.conf as default for wskadmin-next. (#3817)
    
    Simplifies usage of `wskadmin-next` cli command by using a generated `whisk.conf` from OpenWhisk home directory (similar to whisk.properties usage).
    
    With this for default setup one can simply use
    
        wskadmin-next user create userA
    
    Without explicitly specifying the config file location

 .gitignore                                         |  1 +
 ansible/tasks/writeWhiskProperties.yml             |  5 ++++
 ansible/templates/whisk.conf.j2                    | 17 ++++++++++++++
 tools/admin/README-NEXT.md                         | 27 +++++++++++-----------
 .../admin/src/main/scala/whisk/core/cli/Main.scala |  9 ++++++--
 5 files changed, 43 insertions(+), 16 deletions(-)

commit c202ba7e4ce2b593c49161f3ca7ced7668a7397b
Author: David Cariello <drcariel@us.ibm.com>
Date:   Tue Jun 26 17:07:11 2018 -0500

    allow CLI to compile open maven jar (#3810)

 tools/admin/build.gradle | 1 +
 1 file changed, 1 insertion(+)

commit 27ff6bf0fcaebbe51df1e602bc470acc815cbc19
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Jun 26 13:11:47 2018 -0700

    allow use of string for controller id (#3507)
    
    * Replace InstanceId with Controller and Invoker specific ids.
    
    Controller ids are strings that must conform to a max length and legal character match.
    Invoker ids must be integers as their ordinality matters.
    
    * Simplify checking of controller id.
    
    * review feedback

 .../src/main/scala/whisk/common/Logging.scala      |  9 ++---
 .../main/scala/whisk/core/connector/Message.scala  |  6 +--
 .../core/containerpool/ContainerFactory.scala      |  6 +--
 .../core/database/RemoteCacheInvalidation.scala    |  9 +++--
 .../main/scala/whisk/core/entity/InstanceId.scala  | 25 ++++++++++--
 .../whisk/core/mesos/MesosContainerFactory.scala   |  4 +-
 .../scala/whisk/core/controller/Controller.scala   | 12 +++---
 .../scala/whisk/core/controller/RestAPIs.scala     |  6 +--
 .../core/controller/actions/PrimitiveActions.scala |  2 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  6 +--
 .../whisk/core/entitlement/LocalEntitlement.scala  |  4 +-
 .../core/loadBalancer/InvokerSupervision.scala     | 38 +++++++++---------
 .../whisk/core/loadBalancer/LoadBalancer.scala     |  9 +++--
 .../ShardingContainerPoolBalancer.scala            | 18 ++++-----
 .../whisk/core/containerpool/ContainerProxy.scala  | 10 ++---
 .../docker/DockerContainerFactory.scala            |  6 +--
 .../kubernetes/KubernetesContainerFactory.scala    |  4 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  4 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  6 +--
 .../connector/tests/CompletionMessageTests.scala   |  8 ++--
 .../docker/test/DockerContainerFactoryTests.scala  |  4 +-
 .../containerpool/test/ContainerPoolTests.scala    |  2 +-
 .../containerpool/test/ContainerProxyTests.scala   | 34 ++++++++--------
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 .../scala/whisk/core/database/test/DbUtils.scala   |  2 +-
 .../entity/test/ControllerInstanceIdTests.scala    | 46 ++++++++++++++++++++++
 .../test/InvokerSupervisionTests.scala             | 45 ++++++++++-----------
 .../test/ShardingContainerPoolBalancerTests.scala  |  8 ++--
 29 files changed, 203 insertions(+), 134 deletions(-)

commit daa14c6cd515fd20482951218c292474738cc0ed
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Jun 26 18:02:33 2018 +0530

    Scala based admin tooling wskadmin-next (#3722)
    
    Introduced wskadmin-next, an implementation of wskadmin in Scala (packaged as a fat executable) to support datastores other than CouchDB (which is the limitation of wskadmin) by sharing the implementation of the ArtifactStore.
    
    See the documentation for how to use the new CLI. Briefly
    
    > wskadmin-cli -c application-cli.conf user get guest
    
    where wskadmin-cli is the executable fat jar (Gradle build would copy this to ${OPENWHISK_HOME}/bin folder) and application-cli.conf contains configuration details.
    
    include classpath("application.conf")
    
    whisk {
      couchdb {
        protocol = "http"
        host     = "172.17.0.1"
        port     = "5984"
        username = "whisk_admin"
        password = "some_passw0rd"
        provider = "CouchDB"
        databases {
          WhiskAuth       = "whisk_local_subjects"
          WhiskEntity     = "whisk_local_whisks"
          WhiskActivation = "whisk_local_activations"
        }
      }
    }

 settings.gradle                                    |   2 +
 tests/build.gradle                                 |   7 +-
 .../whisk/core/database/LimitsCommandTests.scala   | 106 ++++++
 .../whisk/core/database/UserCommandTests.scala     | 285 +++++++++++++++++
 .../core/database/WhiskAdminCliTestBase.scala      |  75 +++++
 tools/admin/README-NEXT.md                         | 126 ++++++++
 tools/admin/build.gradle                           |  54 ++++
 .../scala/whisk/core/cli/CommandMessages.scala     |  45 +++
 .../admin/src/main/scala/whisk/core/cli/Main.scala | 195 ++++++++++++
 .../scala/whisk/core/database/LimitsCommand.scala  | 185 +++++++++++
 .../scala/whisk/core/database/UserCommand.scala    | 354 +++++++++++++++++++++
 11 files changed, 1432 insertions(+), 2 deletions(-)

commit adf3ba1b2cb76d2b4eb09eff3f360bf14bd65623
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 25 19:02:55 2018 -0400

    add a doc for securing actions  (#3801)
    
    * Updates to actions doc to remove redundant list of action runtimes, other cleanup. Add link to securing actions.
    
    * Fix typo.

 docs/actions.md  | 34 +++++++++++++++++++---------------
 docs/security.md | 37 +++++++++++++++++++++++++++++++++++++
 2 files changed, 56 insertions(+), 15 deletions(-)

commit 76dadd247812af45e636a67ba96df5fc5f25890e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jun 25 14:00:43 2018 +0200

    Bump gradle and scoverage version (#3802)
    
    Switch to Gradle version 4.8.1 and adapt build scripts to use `gradle.projectsEvaluated`  instead of `afterEvaluate`.
    
    Also bump the following plugin versions
    
    - gradle-scoverage - 2.1.0 -> 2.3.0
    - com.gradle.build-scan - 1.12.1 -> 1.14

 build.gradle                             |   4 ++--
 gradle/wrapper/gradle-wrapper.jar        | Bin 54708 -> 54417 bytes
 gradle/wrapper/gradle-wrapper.properties |   2 +-
 tests/build.gradle                       |  16 +++++++++-------
 4 files changed, 12 insertions(+), 10 deletions(-)

commit 7897a3cfb70e76509b61543fb13d8c81490ff113
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Jun 25 13:44:04 2018 +0200

    Move version information to pureconfig and remove `whisk_version_name`. (#3617)

 ansible/environments/distributed/group_vars/all    |  4 ++-
 ansible/environments/docker-machine/group_vars/all |  3 +-
 ansible/environments/local/group_vars/all          |  1 -
 ansible/environments/vagrant/group_vars/all        |  1 -
 ansible/group_vars/all                             |  9 ++++-
 ansible/logs.yml                                   |  2 +-
 ansible/roles/controller/tasks/deploy.yml          |  5 ++-
 ansible/roles/invoker/tasks/deploy.yml             | 16 ++++-----
 ansible/templates/whisk.properties.j2              |  4 +--
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  5 +--
 .../scala/whisk/core/controller/RestAPIs.scala     | 41 +++++++++-------------
 .../scala/actionContainers/ActionContainer.scala   |  2 +-
 12 files changed, 44 insertions(+), 49 deletions(-)

commit 05fca705aefb4da0f0671bc9e4128d5132ab6958
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu Jun 21 20:05:36 2018 -0400

    add build gradle file for actionproxy image tool (#3793)

 tools/actionProxy/build.gradle | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 92a64c291156a2cd3d6b304babc2a193a46d0699
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jun 21 12:02:25 2018 -0400

    Refactor Elasticsearch log store config name (#3791)

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala                | 2 +-
 .../scala/whisk/core/containerpool/logging/ElasticSearchLogStore.scala  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2254e4ff1091717cfda8da7093d71005b276e5c4
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jun 20 21:37:40 2018 -0400

    Remove builds of the runtimes which only retagged images locally. (#3745)
    
    Co-authored-by: Rodric Rabbah <rodric@gmail.com>
    Co-authored-by: Carlos Santana <csantanapr@apache.org>

 .gitignore                                       |  3 ++
 .travis.yml                                      |  2 +-
 actionRuntimes/actionProxy/build.gradle          | 19 --------
 actionRuntimes/javaAction/Dockerfile             |  4 --
 actionRuntimes/javaAction/build.gradle           | 19 --------
 actionRuntimes/javaAction/delete-build-run.sh    | 31 -------------
 actionRuntimes/nodejs6Action/Dockerfile          |  4 --
 actionRuntimes/nodejs6Action/build.gradle        | 27 -----------
 actionRuntimes/nodejs8Action/Dockerfile          |  4 --
 actionRuntimes/nodejs8Action/build.gradle        | 27 -----------
 actionRuntimes/php7.1Action/Dockerfile           |  4 --
 actionRuntimes/php7.1Action/build.gradle         | 19 --------
 actionRuntimes/python2Action/Dockerfile          |  4 --
 actionRuntimes/python2Action/build.gradle        | 19 --------
 actionRuntimes/pythonAction/Dockerfile           |  4 --
 actionRuntimes/pythonAction/build.gradle         | 19 --------
 actionRuntimes/swift3.1.1Action/Dockerfile       |  4 --
 actionRuntimes/swift3.1.1Action/build.gradle     | 19 --------
 actionRuntimes/swift4.1Action/Dockerfile         |  4 --
 actionRuntimes/swift4.1Action/build.gradle       | 19 --------
 sdk/docker/Dockerfile                            |  5 --
 sdk/docker/build.gradle                          | 19 --------
 settings.gradle                                  | 15 +-----
 tests/build.gradle                               | 28 -----------
 tests/dat/blackbox/badaction/Dockerfile          | 11 -----
 tests/dat/blackbox/badaction/README.md           | 25 ----------
 tests/dat/blackbox/badaction/build.gradle        | 21 ---------
 tests/dat/blackbox/badaction/runner.py           | 57 -----------------------
 tests/dat/blackbox/badproxy/Dockerfile           |  9 ----
 tests/dat/blackbox/badproxy/README.md            | 20 --------
 tests/dat/blackbox/badproxy/build.gradle         | 21 ---------
 {actionRuntimes => tools}/actionProxy/Dockerfile |  2 +-
 {actionRuntimes => tools}/actionProxy/README.md  |  0
 {actionRuntimes => tools}/actionProxy/invoke.py  |  0
 tools/build/README.md                            |  6 +++
 tools/build/redo                                 | 59 ++++++++----------------
 36 files changed, 32 insertions(+), 521 deletions(-)

commit 3f43f5d85de56caf9f527e3e7a9b15a4ec46ea70
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jun 21 06:34:43 2018 +0530

    Avoid converting ByteString to bytes in attachment inlining flow (#3777)
    
    Re-enables attachment inlining by "prefixAndTail" 1 ByteString at a time instead of flattening the source stream to byte.
    
    In addition logic to attach the attachment to external AttachmentStore is refactored to "AttachmentSupport" and reused across ArtifactSTore implementations.

 common/scala/src/main/resources/application.conf   |   6 +-
 .../whisk/core/database/AttachmentInliner.scala    | 117 -------------
 .../whisk/core/database/AttachmentSupport.scala    | 190 +++++++++++++++++++++
 .../whisk/core/database/CouchDbRestStore.scala     |  71 ++------
 .../core/database/memory/MemoryArtifactStore.scala |  35 +---
 .../database/memory/MemoryAttachmentStore.scala    |  11 +-
 ...nerTests.scala => AttachmentSupportTests.scala} |  28 ++-
 .../scala/whisk/core/database/test/DbUtils.scala   |   8 +-
 .../ArtifactStoreAttachmentBehaviors.scala         |  11 +-
 9 files changed, 237 insertions(+), 240 deletions(-)

commit 09d9a9153239d1f8f9fe3748adab9f4107b73042
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Thu Jun 21 00:18:43 2018 +0300

    Fixes EntitlementProvider to use SpiLoader (#3786)
    
    to get MessagingProvider instead of using hardcoded KafkaMessagingProvider

 .../src/main/scala/whisk/core/entitlement/Entitlement.scala         | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 071d841bc32f5b4a2712c416752d46488caead22
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jun 19 21:05:45 2018 +0200

    Make test-instances of Exec depend on the loaded manifest. (#3782)
    
    Exec.serdes very implicitly relies on a manifest to be loaded, which makes the test-instances of Exec take values from there as well. The hard-coded versions of those in ExecHelper need to respect those values as well to be correctly assertable.

 tests/src/test/scala/whisk/core/entity/test/ExecHelpers.scala | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit df623d5cbe13076e36820f19f20a744713f32c84
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Tue Jun 19 13:19:09 2018 -0400

    Fixes for vagrant installation versus oracle jdk (#3783)
    
    Fixes #3765

 README.md                   | 2 +-
 tools/ubuntu-setup/java8.sh | 1 +
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 4b9fe25b80b2f1681ee2473cc7d6327b0c37edf8
Author: Carlos Santana <csantanapr@apache.org>
Date:   Tue Jun 19 12:58:54 2018 -0400

    skip pull runtimes when skip_pull_runtimes is true (#3784)

 ansible/roles/invoker/tasks/deploy.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 59ba42b577f9c8b7c7911da26ee9bae9d5e4d1a2
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jun 19 11:56:39 2018 +0200

    Only send kafka offset metrics, if offsets are meaningful. (#3780)
    
    The internal `offset` held by the KafkaConsumerConnector starts at 0 but is only meaningful after the first message has been read from Kafka. In case of an Invoker restart for example, the reported offset difference might be absurdly high, because the offset in Zookeeper is high, while the internal offset is still 0.

 .../scala/whisk/connector/kafka/KafkaConsumerConnector.scala | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 6dce8dfe2836690f094b478b9bc4ff686fc9b2e7
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 18 16:18:49 2018 -0400

    Fix typos in actions doc (#3766)

 docs/actions.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 2047c0fb37cf68d11838fa6b6bac2e9fc05c9fc5
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 18 15:05:57 2018 -0400

    Adjust invoker playbook to pull runtime and blackbox docker images. (#3680)
    
    Remove default runtime prefix and tag; the runtimes.json file should fully specify these.
    Remove docker.{registry,prefix,tax} entanglement with runtimes as these are used for the system images not the runtimes.
    Optionally specify a runtimes.registry to pull images from there instead of dockerhub.

 ansible/files/runtimes.json                        | 52 ++++++++++++++++------
 ansible/group_vars/all                             | 19 ++++----
 ansible/roles/invoker/tasks/deploy.yml             | 30 ++++++++-----
 common/scala/src/main/resources/application.conf   |  2 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 10 +----
 .../scala/whisk/core/entity/ExecManifest.scala     | 32 ++++++-------
 .../whisk/core/mesos/MesosContainerFactory.scala   |  2 +-
 .../docker/DockerContainerFactory.scala            |  2 +-
 .../kubernetes/KubernetesContainerFactory.scala    |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  5 +--
 .../test/scala/whisk/core/WhiskConfigTests.scala   |  6 ---
 .../docker/test/DockerContainerFactoryTests.scala  |  6 +--
 .../mesos/test/MesosContainerFactoryTest.scala     |  8 ++--
 .../whisk/core/entity/test/ExecManifestTests.scala | 44 +++++++++---------
 14 files changed, 114 insertions(+), 106 deletions(-)

commit 4181f7cda8cdf5022244e6c14bfe313112f0b730
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 18 14:14:00 2018 -0400

    Allow invoker pools to overlap for small N. (#3751)
    
    For small N, allow the managed invokers to overlap with blackbox invokers.
    As an example, for a blackbox fraction of 10%, and two invokers, the blackbox
    pool will have size 1, but the managed pool will utilize both invokers.

 .../ShardingContainerPoolBalancer.scala            |  8 ++++---
 .../test/ShardingContainerPoolBalancerTests.scala  | 27 ++++++++++++++++++++++
 2 files changed, 32 insertions(+), 3 deletions(-)

commit 9e5cec1f0e4b98c59e584d453b06a741be4a8c3b
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 18 10:33:54 2018 -0400

    Allow for commands to retry on network error. (#3776)
    
    Add test for run cmd with retry.

 .../scala/src/main/scala/whisk/utils/Retry.scala   |  5 ++-
 tests/src/test/scala/common/TestUtils.java         |  2 +-
 tests/src/test/scala/common/Wsk.scala              | 46 +++++++++++-----------
 3 files changed, 27 insertions(+), 26 deletions(-)

commit b99aaa3c8b4e6e7dac167f7b6f9a5e9ed13989d5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 18 02:21:14 2018 -0400

    Refactor and unit test PoolingRestClient. (#3416)

 .../logging/ElasticSearchRestClient.scala          |   5 +-
 .../whisk/core/database/CloudantRestClient.scala   |   3 +
 .../whisk/core/database/CouchDbRestClient.scala    |  15 +-
 .../main/scala/whisk/http/PoolingRestClient.scala  |  53 +++---
 .../database/test/ExtendedCouchDbRestClient.scala  |  13 +-
 .../scala/whisk/http/PoolingRestClientTests.scala  | 181 +++++++++++++++++++++
 6 files changed, 227 insertions(+), 43 deletions(-)

commit 4f5943360bef02514a4688fa1b8e4f2d41b01af8
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Sun Jun 17 08:56:14 2018 -0400

    Remove unnecessary pause in retry method (#3775)

 common/scala/src/main/scala/whisk/utils/Retry.scala | 1 -
 1 file changed, 1 deletion(-)

commit 86d238ae51f7dd839d834d85230bdd4592673192
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sat Jun 16 15:37:52 2018 +0530

    Temporarily disables attachment inlining logic by setting max-inline-size to zero until #3770 is fixed. (#3771)
    
    Fixes #3769. See #3770 for details

 common/scala/src/main/resources/application.conf   |  2 +-
 .../whisk/core/database/CouchDbRestStore.scala     | 42 +++++++++++++---------
 .../core/controller/test/ActionsApiTests.scala     |  1 +
 .../scala/whisk/core/database/test/DbUtils.scala   |  7 +++-
 .../ArtifactStoreAttachmentBehaviors.scala         |  2 ++
 5 files changed, 36 insertions(+), 18 deletions(-)

commit a24fb250fbb0e789b2295bda125d2a9e1e769f72
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Jun 15 13:01:48 2018 -0500

    Remove IBM Cloud reference from README. (#3773)

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c816aa6e326e643da5ebb8d5ad504578a597b9b
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jun 15 17:08:35 2018 +0200

    Retry `ensureTopic` on transient, retriable exceptions. (#3753)
    
    Like writing and reading from Kafka, creating topics can be subject to a battery of transient errors. Retrying those errors is safe and keeps us sane.

 .../connector/kafka/KafkaMessagingProvider.scala   | 30 ++++++++++++++--------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 9bf98e5d135f928c00259999ae6cde25c822bd9e
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 15 15:13:31 2018 +0530

    Avoid logging complete configuration in test (#3768)

 tests/src/test/scala/services/HeadersTests.scala | 1 -
 1 file changed, 1 deletion(-)

commit 0bcbcc084436caa7ba90007ece9bee2e201fd076
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jun 15 11:23:39 2018 +0200

    Report metrics of kafka's queue time. (#3756)
    
    This adds reporting of the time a message resides in kafka from being created to being read by a consumer. This is a very helpful metric for operators to determine the current state of a system.

 common/scala/src/main/scala/whisk/common/Logging.scala |  1 +
 .../whisk/connector/kafka/KafkaConsumerConnector.scala | 18 +++++++++++++-----
 2 files changed, 14 insertions(+), 5 deletions(-)

commit 1d79fa395de32c6a774efeb4f53563689e9cbb7e
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Jun 14 19:51:05 2018 +0200

    Move uuid into namespace to decouple it from authkey. (#3752)
    
    In many places the uuid stored in the authkey is now used as the unique way to identify
    a namespace. This behavior entangles the authorization mechanisms
    with other unrelated parts of the code, making changes and extensions of the authentication mechanism unnecessarily hard.
    
    This PR makes the uuid a member of a new namespace object containing the name and the
    uuid of the namespace. All references to the uuid that are not used on the context of authorization are using the new namespace object as source.

 .../logging/DockerToActivationFileLogStore.scala   |   2 +-
 .../logging/ElasticSearchLogStore.scala            |   2 +-
 .../main/scala/whisk/core/entity/EntityPath.scala  |   8 ++
 .../main/scala/whisk/core/entity/Identity.scala    |  20 ++--
 .../main/scala/whisk/core/entity/WhiskAction.scala |  13 ++-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   6 +-
 .../controller/AuthorizedRouteDispatcher.scala     |   2 +-
 .../scala/whisk/core/controller/Namespaces.scala   |   2 +-
 .../scala/whisk/core/controller/Packages.scala     |   2 +-
 .../scala/whisk/core/controller/Triggers.scala     |   2 +-
 .../scala/whisk/core/controller/WebActions.scala   |   2 +-
 .../core/controller/actions/PrimitiveActions.scala |   6 +-
 .../core/controller/actions/SequenceActions.scala  |   2 +-
 .../core/entitlement/ActivationThrottler.scala     |   4 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  10 +-
 .../whisk/core/entitlement/RateThrottler.scala     |   2 +-
 .../core/loadBalancer/InvokerSupervision.scala     |   5 +-
 .../ShardingContainerPoolBalancer.scala            |   6 +-
 .../whisk/core/containerpool/ContainerPool.scala   |   4 +-
 .../whisk/core/containerpool/ContainerProxy.scala  |  24 +++--
 .../KubernetesInvokerAgentLogStore.scala           |   2 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |   8 +-
 .../whisk/core/invoker/NamespaceBlacklist.scala    |   2 +-
 .../logging/ElasticSearchLogStoreTests.scala       |   5 +-
 .../logging/SplunkLogStoreTests.scala              |   3 +-
 .../test/DockerToActivationFileLogStoreTests.scala |   4 +-
 .../test/DockerToActivationLogStoreTests.scala     |   7 +-
 .../containerpool/test/ContainerPoolTests.scala    |   3 +-
 .../containerpool/test/ContainerProxyTests.scala   |   6 +-
 .../core/controller/test/AuthenticateTests.scala   |  11 +-
 .../controller/test/EntitlementProviderTests.scala | 112 +++++++++++----------
 .../core/controller/test/PackagesApiTests.scala    |   2 +-
 .../core/controller/test/WebActionsApiTests.scala  |  16 ++-
 .../core/controller/test/WhiskAuthHelpers.scala    |   5 +-
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |   3 +-
 .../ArtifactStoreSubjectQueryBehaviors.scala       |  52 ++++++----
 .../scala/whisk/core/entity/test/SchemaTests.scala |   3 +
 .../invoker/test/NamespaceBlacklistTests.scala     |  30 ++++--
 .../whisk/core/limits/ActionLimitsTests.scala      |   2 +-
 .../test/InvokerSupervisionTests.scala             |  17 +---
 40 files changed, 243 insertions(+), 174 deletions(-)

commit b46478bfe6b5068fd57f78cea44b2a6326e89f4b
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jun 14 10:35:08 2018 +0530

    Introduce a AttachmentStore SPI (#3453)
    
    Adds a SPI which defines how an attachment can be stored in a blob/object storage like S3.
    
    CouchDBRestStore now supports storing attachments both in Couch or an AttachmentStore.
    
    Attachment Storage FLow
    =======================
    
    While storing an attachment the flow varies based on storage type.
    
    Storing in Couch
    ----------------
    
    1. Check if it can be inline
    2. If not inlined generate an attachment name
    3. Update the attachment name in Document and store it in Couch
    4. Attach the attachment if not inlined
    
    Storing in AttachmentStore
    --------------------------
    
    1. Check if it can be inline
    2. If not inlined generate an attachment name
    3. Upload the attachment to AttachmentStore
    4. Update the attachment name in Document and store it in Couch
    5. Delete the older attachment
    
    Attachment Read Flow
    ====================
    
    While reading attachment
    
    1. Get attachment scheme
    2. If inline -> Read and return
    3. If scheme is
        1. 'couch' - read from couch
        2. No scheme - Attachment in old format which is also stored in Couch only. So read from couch
    4. If scheme matches the attachment store scheme then read from AttachmentStore
    
    Attachment Metadata
    ===================
    
    AttachmentStore would also compute following metadata as part of attachment attach flow
    
    1. length
    2. content hash based on SHA-256 MessageDigest algorithm
    
    Both of these metadata are computed as part of stream processing via using multi broadcast flow

 .../src/main/scala/whisk/common/Logging.scala      |   2 +
 .../core/database/ArtifactStoreProvider.scala      |  14 +-
 .../whisk/core/database/AttachmentInliner.scala    |   8 +-
 .../whisk/core/database/AttachmentStore.scala      |  71 ++++++++
 .../whisk/core/database/CouchDbRestStore.scala     | 146 ++++++++++++-----
 .../whisk/core/database/CouchDbStoreProvider.scala |  11 +-
 .../scala/whisk/core/database/StoreUtils.scala     |  54 ++++++-
 .../core/database/memory/MemoryArtifactStore.scala | 111 +++++--------
 .../database/memory/MemoryAttachmentStore.scala    | 139 ++++++++++++++++
 .../main/scala/whisk/core/entity/Attachments.scala |  10 +-
 .../core/database/CouchDBArtifactStoreTests.scala  |  26 +--
 .../database/CouchDBAttachmentStoreTests.scala     |  32 ++++
 .../core/database/CouchDBStoreBehaviorBase.scala   |  59 +++++++
 .../database/memory/MemoryArtifactStoreTests.scala |   4 +
 .../memory/MemoryAttachmentStoreTests.scala        |  40 +++++
 .../test/AttachmentCompatibilityTests.scala        |  44 ++++-
 .../database/test/AttachmentStoreBehaviors.scala   | 178 +++++++++++++++++++++
 .../scala/whisk/core/database/test/DbUtils.scala   |  34 ++--
 .../ArtifactStoreAttachmentBehaviors.scala         |  92 ++++++++++-
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |  31 +++-
 20 files changed, 938 insertions(+), 168 deletions(-)

commit 0f0063bc7a02b86c6a2cc5c9418b0eed9ef98877
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 13 16:12:45 2018 -0400

    Provide an activation store SPI (#3619)
    
    * Activation store
    
    * Use activationId parameter
    
    * Further decouple ArtifactStore from ActivationStore
    
    * Decouple ArtifactStore from ActivationStore in unit tests
    
    * Remove response() from ActivationStore
    
    * Review refactoring
    
    * Final review updates
    
    * Update Scaladoc

 common/scala/src/main/resources/reference.conf     |   1 +
 .../scala/whisk/core/entity/ActivationId.scala     |   2 +-
 .../scala/whisk/core/entity/ActivationStore.scala  | 128 +++++++++
 .../core/entity/ArtifactActivationStore.scala      | 132 +++++++++
 .../main/scala/whisk/core/entity/WhiskStore.scala  |   2 -
 .../main/scala/whisk/core/controller/Actions.scala |   1 -
 .../scala/whisk/core/controller/Activations.scala  |  38 +--
 .../scala/whisk/core/controller/Controller.scala   |   3 +-
 .../scala/whisk/core/controller/Triggers.scala     |  13 +-
 .../core/controller/actions/PrimitiveActions.scala |  13 +-
 .../core/controller/actions/SequenceActions.scala  |  16 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  10 +-
 .../core/controller/test/ActionsApiTests.scala     |  10 +-
 .../core/controller/test/ActivationsApiTests.scala | 314 ++++++++++++---------
 .../controller/test/ControllerTestCommon.scala     |  71 ++++-
 .../core/controller/test/TriggersApiTests.scala    |   7 +-
 16 files changed, 524 insertions(+), 237 deletions(-)

commit cd7196a8e16aef6e848add239f6dec83c208e5f7
Author: Brendan McAdams <brendan@bytes.codes>
Date:   Wed Jun 13 12:13:49 2018 -0500

    Introduce separate Akka dispatchers for CouchDB and Kafka Clients (#3515)
    
    - Rest of system continues to use the default system dispatcher
    - Kafka and CouchDB clients each get their own dispatchers
      * This should prevent all of the akka based stuff from competing constantly for threads
      * Kafka and Couch can be tuned now based on individual needs
      * Using thread-pool dispatchers, which are best suited for these processes (default is fork-join)
    - Dispatchers are defined in common `reference.conf`, so config can be overridden by dependents
    
    Refs #2954

 common/scala/src/main/resources/reference.conf     | 53 ++++++++++++++++++++++
 .../whisk/core/connector/MessageConsumer.scala     |  2 +-
 .../whisk/core/database/CouchDbRestClient.scala    |  5 +-
 .../whisk/core/database/CouchDbRestStore.scala     |  2 +-
 .../core/database/RemoteCacheInvalidation.scala    |  2 +-
 5 files changed, 58 insertions(+), 6 deletions(-)

commit c1a00ab27e31637bdb5519fe5f7a5d2dbd7c6c23
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Jun 13 18:04:10 2018 +0200

    Revert "Mitigate missing docker 1.12 binary download. (#3758)" as the cli is downloadbale again. (#3761)
    
    This reverts commit 008996d099a730a2179ead97504ab631d30f1a80.

 core/invoker/Dockerfile | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit 008996d099a730a2179ead97504ab631d30f1a80
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Jun 13 14:49:04 2018 +0200

    Mitigate missing docker 1.12 binary download. (#3758)

 core/invoker/Dockerfile | 21 +--------------------
 1 file changed, 1 insertion(+), 20 deletions(-)

commit f4d8ce5009381cdf3385a69c383eca2fd01a0282
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 12 18:13:22 2018 -0400

    Add retries to CLI test framework for network errors (#3694)
    
    * Add retries to CLI test framework for network errors
    
    * Do not retry when expecting a network failure
    
    * Use withClue
    
    * Print message when network error occurs
    
    * Show retry message
    
    * Use foreach instead of pattern matching retry message

 .../scala/src/main/scala/whisk/utils/Retry.scala   |  8 ++++--
 tests/src/test/scala/common/TestUtils.java         | 11 ++++----
 tests/src/test/scala/common/Wsk.scala              | 29 ++++++++++++++++------
 3 files changed, 34 insertions(+), 14 deletions(-)

commit da450f861c640483bdf4b08d0326f0cced47bea0
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 12 15:44:18 2018 -0400

    Adds integration test for getting only th eactivation result (#3568)

 .../scala/system/basic/WskActivationTests.scala     | 21 ++++++++++++++++++++-
 1 file changed, 20 insertions(+), 1 deletion(-)

commit 74216e131c58e9dac4bbb2f1fcd2a44495b9988d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jun 12 13:37:08 2018 +0200

    Refactor `ensureTopic` to expose failure details. (#3686)
    
    ensureTopic returns a `Boolean` value of whether it successfully created a topic or not.
    
    This changes that behavior to actually return the Exception in case of an error. That enables the client-side code to handle (or log) that failure appropriately while maintaining the ease of checking a successful result by using `isSuccess`.

 .../src/main/scala/whisk/common/CausedBy.scala     | 35 ++++++++++++++++
 .../connector/kafka/KafkaMessagingProvider.scala   | 47 ++++++++++------------
 .../whisk/core/connector/MessagingProvider.scala   |  4 +-
 .../scala/whisk/core/controller/Controller.scala   | 20 +++++----
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 .../test/scala/services/KafkaConnectorTests.scala  |  8 ++--
 6 files changed, 74 insertions(+), 42 deletions(-)

commit 8f581036f1419590b659510a6474044901bcb0f5
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jun 11 22:24:41 2018 +0530

    Add Slack and Mailing List links (#3748)

 .github/ISSUE_TEMPLATE.md | 2 ++
 1 file changed, 2 insertions(+)

commit 491a0e4cbfb963e25a5db5a493b3dc6997971e5c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jun 11 22:23:12 2018 +0530

    Exclude logback-test.xml from test sources jar (#3740)

 build.gradle | 1 +
 1 file changed, 1 insertion(+)

commit f55af05535c36bed04c798b1ff62e81442517acd
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Jun 11 11:32:02 2018 -0400

    Change how to detect zookeeper is ready (#3486)
    
    'dump' is the command to zookeeper which causes it to show the list of who's registered, which we then grep to see that the kafka has registered itself.  See documentation at https://zookeeper.apache.org/doc/r3.1.2/zookeeperAdmin.html#sc_zkCommands.  For example, this is the output of `echo dump | nc 172.17.0.1 2181` on my current OpenWhisk test environment:
    
    ```
    SessionTracker dump:
    Session Sets (3):
    0 expire at Fri Jan 09 22:27:18 GMT 1970:
    0 expire at Fri Jan 09 22:27:20 GMT 1970:
    1 expire at Fri Jan 09 22:27:22 GMT 1970:
            0x1002de25dd20000
    ephemeral nodes dump:
    Sessions with Ephemerals (1):
    0x1002de25dd20000:
            /controller
            /brokers/ids/0
    ```
    
    The `/brokers/ids/0` is the kafka broker registering.

 ansible/roles/kafka/tasks/deploy.yml | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 9445d6100f6e3aa4a00e489ca98f99a3f4a207f5
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Mon Jun 11 23:29:17 2018 +0800

    Makes db tools python2 and python3 compatible (#3483)
    
    The map in python2 and python3 is not compatible on subscription.
    Therefore, this caused an error subscription throwed from couchdb.client in python3.
    
    Signed-off-by: tz70s <su3g4284zo6y7@gmail.com>

 tools/db/cleanUpActivations.py        |  2 +-
 tools/db/deleteLogsFromActivations.py |  2 +-
 tools/db/replicateDbs.py              | 12 ++++++------
 3 files changed, 8 insertions(+), 8 deletions(-)

commit 37ce9b86048dafb0f369a5a5b05caa0136a26ef4
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Mon Jun 11 23:28:28 2018 +0800

    Remove hard coded find python in whiskprops (#3466)
    
    Due to changes made python scripts compatible with 2/3. Now just defers to `python` in path.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 tests/src/test/scala/common/WhiskProperties.java | 13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

commit 91f7ef4f1ea7d228fef70f0d9cc1a94ffa687be6
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Jun 11 08:02:17 2018 -0700

    enable concurrent runs on ActionContainer test utility  (#3707)
    
    * Enable concurrent runs on ActionContainer test utility.
    
    This is useful for runtimes with intra-container concurrency (see https://github.com/apache/incubator-openwhisk-runtime-nodejs/pull/41).
    
    * Change protection level and nest context.

 .../scala/whisk/core/containerpool/HttpUtils.scala | 49 ++++++++++++++++++----
 .../scala/actionContainers/ActionContainer.scala   | 12 ++++++
 2 files changed, 53 insertions(+), 8 deletions(-)

commit 7bd64743717e12000402600a9079a8579e2da8de
Author: Rob Allen <rob@akrabat.com>
Date:   Sat Jun 9 05:38:12 2018 +0100

    Bump reference for PHP image (#3744)
    
    Updating the PHP 7.1 runtime version from 7.1.9 to 7.1.18.

 actionRuntimes/php7.1Action/Dockerfile | 2 +-
 docs/reference.md                      | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit d041a8e3ecbfd8993f19d0af68851ea3d2057384
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Sat Jun 9 00:23:25 2018 -0400

    Rationalize actionContainers tests (#3467)

 .../scala/actionContainers/ActionContainer.scala   |  37 +-
 .../ActionProxyContainerTests.scala                | 392 ---------------
 .../actionContainers/BasicActionRunnerTests.scala  | 169 +++++++
 .../DockerExampleContainerTests.scala              | 151 ------
 .../JavaActionContainerTests.scala                 | 352 -------------
 .../NodeJs8ActionContainerTests.scala              |  54 --
 .../NodeJsActionContainerTests.scala               | 554 ---------------------
 .../Php71ActionContainerTests.scala                | 494 ------------------
 .../Python2ActionContainerTests.scala              |  31 --
 .../PythonActionContainerTests.scala               | 383 --------------
 .../Swift311ActionContainerTests.scala             | 371 --------------
 11 files changed, 195 insertions(+), 2793 deletions(-)

commit 9e5a5e8ab933b3b4a3af68d8b4a1e68401a86971
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Fri Jun 8 15:34:10 2018 +0800

    Correct text in webaction doc. (#3734)
    
    Mainly remove the redundant `A`.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 docs/webactions.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit c5f05d972d0c20bc2ea1f75680862c9cf08c7daa
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 8 10:43:16 2018 +0530

    Inlined attachments (#3709)
    
    Adds support for inlining attachment content as part of attachment name for smaller attachments.
    
    Inlined attachment contents are stored in Base64 encoded form as part of attachment name itself.
    
    With this change “ArtifactStore#putAndAttach” would
       1. Read Source upto “max-inline-size” and store the rest in a tail Source
       2. If tail is empty then Base64 encode the bytes read so far and return that as attachment name
       3. If tail is not empty then create a combined source and store that as attachment
          and follow attachment storage flow
    
    Introduces 2 new config settings
       max-inline-size - Size limit for inlined attachments
       chunk-size - Chunk sized for converting source of bytes to ByteString

 common/scala/src/main/resources/application.conf   |   8 ++
 .../scala/whisk/core/database/ArtifactStore.scala  |   4 +-
 .../whisk/core/database/AttachmentInliner.scala    | 121 +++++++++++++++++++
 .../whisk/core/database/CouchDbRestStore.scala     |  50 +++++---
 .../whisk/core/database/CouchDbStoreProvider.scala |   6 +-
 .../whisk/core/database/DocumentFactory.scala      |   4 +-
 .../core/database/memory/MemoryArtifactStore.scala |  90 +++++++-------
 .../main/scala/whisk/core/entity/WhiskAction.scala |   4 +-
 .../core/controller/test/ActionsApiTests.scala     |  86 +++++++++++++-
 .../database/test/AttachmentInlinerTests.scala     |  59 ++++++++++
 .../whisk/core/database/test/AttachmentTests.scala | 131 ---------------------
 .../scala/whisk/core/database/test/DbUtils.scala   |  46 +++++++-
 .../ArtifactStoreAttachmentBehaviors.scala         |  63 +++++++---
 13 files changed, 454 insertions(+), 218 deletions(-)

commit a7665146f89cd499f7af4e794bde5365761d8f20
Author: Rob Allen <rob@akrabat.com>
Date:   Fri Jun 8 02:17:06 2018 +0100

    Add information on using Composer with the PHP runtime (#3728)

 docs/actions.md | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 5f9975854fae3f2585f9d1dd93055f33ead6a617
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Jun 7 20:38:28 2018 -0400

    Add brief Kubernetes Setup section to main README.md (#3729)

 README.md | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 71e25c201aa3ba71137dfb434a6e4fb595741956
Author: Vincent <shou@us.ibm.com>
Date:   Thu Jun 7 19:16:51 2018 -0400

    Switch to use adoptopenjdk/openjdk8:jdk8u172-b11-alpine for scala (#3732)
    
    This PR changes to use the docker image with Open JDK from adoptopenjdk,
    since the image from openjdk is missing package libc6-compat, and using
    an old-version nodejs.

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 99c5d878bcf3203875dac066a3a7350c2b533fe8
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Jun 7 21:17:51 2018 +0200

    Relax connection retry in invoker (#3731)
    
    * In the past, sleep time between connection retries has been 100 ms. This has been lowered to 10 ms with #3710. On a loaded invoker, 50 ms makes more sense.
    * Reduce log volume on loaded invoker.

 common/scala/src/main/scala/whisk/core/containerpool/HttpUtils.scala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit fe19220689029572670f5fd422564d87c991c07a
Author: Vincent <shou@us.ibm.com>
Date:   Wed Jun 6 15:35:41 2018 -0400

    Add the DISCLAIMER file for Apache incubator project (#3727)
    
    This PR adds the disclaimer based on Apache policy regarding incubation.
    In addition, it changes the instruction about Open JDK for Mac as well.
    
    Partially-closes: apache/incubator-openwhisk-release#180

 DISCLAIMER.txt        |  1 +
 README.md             |  4 ++++
 tools/macos/README.md | 24 ++++++++++++++----------
 3 files changed, 19 insertions(+), 10 deletions(-)

commit 583b154661ff0bb46b7c85a1ba92c2ec285b714d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jun 6 16:00:19 2018 +0200

    Only get action metadata when working with rules. (#3718)
    
    Working with rules only requires to make sure certain actions exist. We only need their metadata, not the full blown action including its code.

 core/controller/src/main/scala/whisk/core/controller/Rules.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5aa8fc7fa6a09f219f704d301541b213b9aa07c8
Author: Vincent <shou@us.ibm.com>
Date:   Tue Jun 5 16:29:07 2018 -0400

    Update the document regarding Open JDK and Oracle JDK (#3720)
    
    Our documents need to be changed to point according to the usage of
    Open JDK or Oracle JDK. This PR adds the instructions to install
    either of them as the Java environment of OpenWhisk.
    
    Partially-closes: apache/incubator-openwhisk-release#169

 README.md                    |  2 ++
 tools/macos/README.md        | 20 +++++++++++++++++++-
 tools/ubuntu-setup/README.md | 11 +++++++++++
 tools/ubuntu-setup/all.sh    |  5 ++++-
 tools/ubuntu-setup/java8.sh  | 18 ++++++++++++++----
 tools/vagrant/Vagrantfile    |  2 +-
 6 files changed, 51 insertions(+), 7 deletions(-)

commit 4ec2806d584e4f180abbaac7900162342d78909e
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Jun 5 12:15:42 2018 -0700

    use alpine-java base image (alpine 3.7 + oracle 8u162b12_server-jre) (#3504)
    
    * trying adoptopenjdk/openjdk8-openj9:jdk8u162-b12_openj9-0.8.0-alpine
    
    * missing bash, and init.sh requires /bin/bash
    
    * back to openjdk
    
    * use openjdk:8u151-jdk-alpine
    
    * adding back locale env vars

 common/scala/Dockerfile | 67 ++-----------------------------------------------
 1 file changed, 2 insertions(+), 65 deletions(-)

commit d89e1d01fd7b14c8c86e2c35ffbc0996e29d70d5
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Jun 5 05:03:38 2018 -0400

    Add equals method to ensure that ByteSize instances satisfy Comparable contract. (#3697)
    
    Also adjust tests which were not checking conditions correctly for tests to fail when invariants are violated.

 .../src/main/scala/whisk/core/entity/Size.scala    |  7 +-
 .../scala/whisk/core/entity/test/SizeTests.scala   | 78 ++++++++++++----------
 2 files changed, 49 insertions(+), 36 deletions(-)

commit c8b44e82424ced0ca9bd8131532ae1917037ceac
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 4 13:23:03 2018 -0400

    Bump max open requests configuration value (#3724)

 common/scala/src/main/resources/application.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fbf22c5c1f9ac07232598bf8732ce2603a7a7f94
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Jun 4 17:55:39 2018 +0530

    Improve wget update command (#3723)
    
    * Add space in command after wget common/scala
    * Remove unused build.sh file

 common/scala/Dockerfile |  2 +-
 tools/travis/build.sh   | 76 -------------------------------------------------
 2 files changed, 1 insertion(+), 77 deletions(-)

commit 714c707d76cf611e26b592742b93b983c2f7eb39
Author: Carlos Santana <csantanapr@apache.org>
Date:   Sat Jun 2 09:59:49 2018 -0400

    give more time to swift tests to run (#3721)

 .../scala/system/basic/WskBasicSwift3Tests.scala    |  8 +++++---
 .../test/scala/system/basic/WskUnicodeTests.scala   | 21 +++++++++++++--------
 2 files changed, 18 insertions(+), 11 deletions(-)

commit 8b6681ae83eecf15d5baf16a2bc45ea3267d54ce
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 1 23:14:10 2018 +0530

    Enable extending environment variables of Controller and Invoker (#3689)

 ansible/group_vars/all                    |  3 +++
 ansible/roles/controller/tasks/deploy.yml |  4 ++++
 ansible/roles/invoker/tasks/deploy.yml    | 12 ++++++++----
 3 files changed, 15 insertions(+), 4 deletions(-)

commit 03219cf525725e745993caf3b58494fe89b2cfb8
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 31 13:36:03 2018 -0500

    Update Travis to use ASF-Release.cfg.

 tools/travis/scan.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8fd78b788cdfe5f92bc898a8f99611a05704b3d5
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jun 1 18:07:17 2018 +0530

    Fix attachment name compatibility issue. (#3719)

 .../whisk/core/database/CouchDbRestStore.scala     |  29 +++--
 .../main/scala/whisk/core/entity/WhiskAction.scala |   4 +-
 .../test/AttachmentCompatibilityTests.scala        | 134 +++++++++++++++++++++
 3 files changed, 156 insertions(+), 11 deletions(-)

commit 5f2dedb185216f7586e6b91de30866bcb50415a7
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu May 31 17:24:40 2018 -0400

    Augment RuntimeManifest with stem cell configuration per kind. (#3716)
    
    Constructs prewarming configuration from runtime manifest and its stem cell declarations.
    As an example:
    
      "nodejs": [
        {
          "kind": "nodejs:6",
          "default": true,
          "image": {
            "name": "nodejs6action"
          },
          "deprecated": false,
          "stemCells": [{
            "count": 2,
            "memory": "256 MB"
          }]
        }
      ]
    
    The configuration is parsed so that the count must be positive and the memory size a valid instance of ByteSize.
    The invokers will create the stemcells for the runtimes as specified in the manifest.
    
    The stem cell details are not reported in the deployment manifest (i.e., curl https://apihost).
    
    Co-authored-by: Himavanth <contacthima@yahoo.com>
    Co-authored-by: Rodric Rabbah <rodric@gmail.com>

 ansible/files/runtimes.json                        |   6 +-
 .../scala/whisk/core/entity/ExecManifest.scala     |  65 ++++++---
 .../src/main/scala/whisk/core/entity/Size.scala    |  11 ++
 .../whisk/core/containerpool/ContainerPool.scala   |  56 ++++----
 .../scala/whisk/core/invoker/InvokerReactive.scala |  18 +--
 .../containerpool/test/ContainerPoolTests.scala    |   8 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  15 ++-
 .../whisk/core/entity/test/ExecManifestTests.scala | 145 ++++++++++++++++++++-
 8 files changed, 254 insertions(+), 70 deletions(-)

commit c7de75dc4e62c2c2f139beeb012d092f2d9f0d8b
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu May 31 14:25:58 2018 -0400

    allow to override vagrant box with trusty (#3700)

 tools/vagrant/README.md   | 6 ++++++
 tools/vagrant/Vagrantfile | 2 +-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 0134f784a0eae6fcb9d026f00843e989288e9a4b
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu May 31 08:22:57 2018 -0400

    Revert "Make stemcells configurable by deployment  (#3669)" (#3714)
    
    This reverts commit e66945ac2b579b57d3d0698ee97a36fa9b563369 because one of the committers was not properly given credit (possibly due to the merged commit messages).

 ansible/files/runtimes.json                        |   6 +-
 .../scala/whisk/core/entity/ExecManifest.scala     |  65 +++------
 .../src/main/scala/whisk/core/entity/Size.scala    |  11 --
 .../whisk/core/containerpool/ContainerPool.scala   |  56 ++++----
 .../scala/whisk/core/invoker/InvokerReactive.scala |  18 ++-
 .../containerpool/test/ContainerPoolTests.scala    |   8 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  15 +--
 .../whisk/core/entity/test/ExecManifestTests.scala | 145 +--------------------
 8 files changed, 70 insertions(+), 254 deletions(-)

commit 07cdffdf2d72ace371aded68a77ef3b3ebf0f055
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu May 31 16:38:04 2018 +0530

    Update wget (#3715)

 common/scala/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e66945ac2b579b57d3d0698ee97a36fa9b563369
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed May 30 20:14:44 2018 -0400

    Make stemcells configurable by deployment  (#3669)
    
    * Augment RuntimeManifest with stem cell configuration per kind.
    
    * Change StemCell memory type from String to ByteSize.
    
    * Add test for parsing stem cell from manifest and generating an error.
    
    * Construct prewarming configuration from runtime manifest and its stem cell declarations.
    
    Co-authored-by: Himavanth <contacthima@yahoo.com>
    Co-authored-by: Rodric Rabbah <rodric.gmail.com>
    
    * Add stem cell configuration for nodejs.
    
    * Do not permit stemcell configuration with 0 or negative counts.
    Provide a factory interface to map stemcells to other types.
    Add more tests for stemcell configuration requirements and to test the factory.
    
    * Fix tests.
    
    * Review comments.
    
    * Do not include stem cell details when reporting the runtimes supported by a deployment.

 ansible/files/runtimes.json                        |   6 +-
 .../scala/whisk/core/entity/ExecManifest.scala     |  65 ++++++---
 .../src/main/scala/whisk/core/entity/Size.scala    |  11 ++
 .../whisk/core/containerpool/ContainerPool.scala   |  56 ++++----
 .../scala/whisk/core/invoker/InvokerReactive.scala |  18 +--
 .../containerpool/test/ContainerPoolTests.scala    |   8 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  15 ++-
 .../whisk/core/entity/test/ExecManifestTests.scala | 145 ++++++++++++++++++++-
 8 files changed, 254 insertions(+), 70 deletions(-)

commit 1af8539575d034e9f782cb207a372474ceb7d124
Author: matt-boyd <admin@matt-boyd.co.uk>
Date:   Wed May 30 20:30:19 2018 +0100

    README: Available typo (#3691)
    
    Updating avaiable to available.

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 76edd9544ff1c95c7bf7dd34da02a2ef73afb5c9
Author: Vincent <shou@us.ibm.com>
Date:   Wed May 30 12:13:12 2018 -0400

    Add the license and notice for ConcurrentMapBackedCache.scala (#3703)
    
    The source code file called ConcurrentMapBackedCache.scala uses the source
    code of Spray.
    
    Closes: apache/incubator-openwhisk-release#152

 LICENSE.txt                                        | 12 ++++
 .../core/database/ConcurrentMapBackedCache.scala   | 78 ++++++++++++++++++++++
 .../MultipleReadersSingleWriterCache.scala         | 57 +---------------
 licenses/LICENSE-spray.txt                         | 15 +++++
 4 files changed, 106 insertions(+), 56 deletions(-)

commit 0d22b9976e22bbe37bd77ba5afd3836870870d52
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue May 29 15:49:52 2018 +0200

    Make REST communication with action containers more robust. (#3710)
    
    On systems with high load, POSTing the action container `/init` endpoint occasionally fails with `NoRouteToHostException`. Retry if this exception occurs.

 .../scala/whisk/core/containerpool/HttpUtils.scala | 60 +++++++++++++++-------
 .../scala/whisk/core/entity/ActivationResult.scala |  2 +-
 .../scala/actionContainers/ActionContainer.scala   | 20 +++++---
 .../docker/test/ContainerConnectionTests.scala     | 14 +++--
 .../docker/test/DockerContainerTests.scala         |  4 +-
 .../kubernetes/test/KubernetesContainerTests.scala |  4 +-
 .../core/entity/test/ActivationResponseTests.scala |  4 +-
 7 files changed, 71 insertions(+), 37 deletions(-)

commit d815394ca5201bab7e7d270af4d471341549c843
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Mon May 28 14:52:02 2018 +0300

    Limit cipher suites used for controller https (#3706)
    
    * Limit cipher suites used for controller https
    
    * Limit the ciphers on kafka as well

 ansible/group_vars/all                              | 3 ---
 core/controller/src/main/resources/application.conf | 6 ++++++
 2 files changed, 6 insertions(+), 3 deletions(-)

commit f3e1417ee5f805ecabccb39997e099d605b5a097
Author: Christian Bickel <github@cbickel.de>
Date:   Mon May 28 09:00:02 2018 +0200

    Add gatling-throughput test for cold invocations. (#3699)
    
    Add another gatling load test. It executes as much cold invocations as possible.

 .travis.yml                                        |  2 +
 tests/performance/README.md                        | 33 ++++++++
 .../src/gatling/resources/data/users.csv           |  3 +
 .../scala/ColdBlockingInvokeSimulation.scala       | 90 ++++++++++++++++++++++
 4 files changed, 128 insertions(+)

commit 9df6a57ef48540bdd58245e8f8cfbfacb6383db6
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri May 25 10:00:05 2018 -0500

    Single build.gradle file missing ASF license header

 tests/dat/actions/unicode/build.gradle | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit b3923300638d64b375d8b79dbc268e0ae50a6bf8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri May 25 17:30:57 2018 +0530

    Immutable attachments via putAndAttach (#3502)
    
    Introduces a new method in ArtifactStore "putAndAttach" to manage document attachments for different backing object stores.
    
    The method accepts two new parameters:
       "attachedUpdater" - Method which would update the "DocumentAbstraction" with new attachment details.
       "oldAttached" - Details about old attachment.
    
    For "CouchDBRestStore"
        1. Generate a random name
        2. Update the DocumentAbstraction and save it
        3. Now attach the passed source with generated name
        4. No need for deleting old attachment as post document update CouchDB would not remember it anyway
    
    For "CouchDBRestStore" + "S3AttachmentStore"
        1. Generate a random name and then upload to S3 with generated name
        2. Update the DocumentAbstraction and save it
        3. Delete the old attachment
    
    This restricts the attachment support to 1-1 mapping i.e. one attachment per document, but this is exactly the same behavior to date, while enabling the "ArtifactStore" to handle attachment in efficient way as per its capabilities.
    
    The "attachmentName" stored in document would be a URI consisting of scheme and path, <scheme>:<attachment name/path>, where:
        scheme - Indicates where the attachment is stored or attachment store type. It can have values such as
            mem - If attachment content is inlined in name itself (TBD)
            couch - If attachment is stored in CouchDB
            s3 - If attachment is stored in S3
        attachment name/path - Is the actual attachment name in the storage
    
    The "Attached" metadata includes 2 new attributes:
        length - Captures the length of attachment
        digest - Digest of attachment with format "-" e.g. "md5-6PkVAZ00zzZKPoquAJj5Lw=="
    
    The commit also adapts the cache interface to directly accept a future, preserving existing behavior but all allowing futures to be directly cached.

 .../scala/whisk/core/database/ArtifactStore.scala  |  21 +++-
 .../whisk/core/database/CouchDbRestStore.scala     |  64 ++++++++--
 .../whisk/core/database/DocumentFactory.scala      |  44 ++++---
 .../MultipleReadersSingleWriterCache.scala         |  12 +-
 .../core/database/memory/MemoryArtifactStore.scala |  85 ++++++++-----
 .../main/scala/whisk/core/entity/Attachments.scala |   8 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |   6 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  48 +++++---
 .../scala/whisk/core/entity/WhiskActivation.scala  |  12 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |  15 +--
 .../main/scala/whisk/core/controller/Rules.scala   |  10 +-
 .../core/loadBalancer/InvokerSupervision.scala     |   4 +-
 .../core/controller/test/ActionsApiTests.scala     |  46 ++++----
 .../whisk/core/database/test/AttachmentTests.scala | 131 +++++++++++++++++++++
 .../scala/whisk/core/database/test/DbUtils.scala   |  13 +-
 .../ArtifactStoreAttachmentBehaviors.scala         | 101 ++++++++++++++++
 .../test/behavior/ArtifactStoreBehavior.scala      |   1 +
 .../whisk/core/entity/test/DatastoreTests.scala    |   2 +-
 18 files changed, 492 insertions(+), 131 deletions(-)

commit 441fc7165b86e7a1d6ed86c54887f10fb40596b9
Author: Christian Bickel <github@cbickel.de>
Date:   Fri May 25 13:20:06 2018 +0200

    Revert "Add ASF license to optional XML files and last gradle file." (#3705)
    
    This reverts commit 2cc22272635d23e4e94dd739fbca71f354043c42.

 common/scala/src/main/resources/logback.xml             |  6 +-----
 tests/dat/actions/unicode/build.gradle                  | 17 -----------------
 .../src/gatling/resources/conf/logback.xml              |  4 ----
 tests/src/test/resources/logback-test.xml               |  6 +-----
 4 files changed, 2 insertions(+), 31 deletions(-)

commit 2cc22272635d23e4e94dd739fbca71f354043c42
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 24 12:33:23 2018 -0500

    Add ASF license to optional XML files and last gradle file.

 common/scala/src/main/resources/logback.xml             |  6 +++++-
 tests/dat/actions/unicode/build.gradle                  | 17 +++++++++++++++++
 .../src/gatling/resources/conf/logback.xml              |  4 ++++
 tests/src/test/resources/logback-test.xml               |  6 +++++-
 4 files changed, 31 insertions(+), 2 deletions(-)

commit 78308b770bc4f35c5b9bcfd807fdab61fecaae4d
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu May 24 12:50:35 2018 -0400

    Slightly expand description of ICLA process. (#3692)

 CONTRIBUTING.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6a5ef98d80c5b1f857ef8baaef93b522662a88ef
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu May 24 12:49:53 2018 -0400

    Use method links and correct method name. (#3695)

 .../whisk/core/loadBalancer/ShardingContainerPoolBalancer.scala  | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit cd2d9e2292c65a7d0bd6e303e7f37254b913a8e5
Author: Vincent <shou@us.ibm.com>
Date:   Thu May 24 12:07:31 2018 -0400

    Move the files under performance to tests/performance (#3696)

 .travis.yml                                                 |   6 +++---
 settings.gradle                                             |   2 +-
 {performance => tests/performance}/README.md                |   0
 .../performance}/gatling_tests/build.gradle                 |   0
 .../gatling_tests/src/gatling/resources/conf/logback.xml    |   0
 .../gatling_tests/src/gatling/resources/data/javaAction.jar | Bin
 .../src/gatling/resources/data/javaAction.java              |   0
 .../src/gatling/resources/data/nodeJSAction.js              |   0
 .../src/gatling/resources/data/pythonAction.py              |   0
 .../src/gatling/resources/data/swiftAction.swift            |   0
 .../gatling_tests/src/gatling/scala/ApiV1Simulation.scala   |   0
 .../gatling/scala/BlockingInvokeOneActionSimulation.scala   |   0
 .../gatling_tests/src/gatling/scala/LatencySimulation.scala |   0
 .../scala/extension/whisk/OpenWhiskActionBuilder.scala      |   0
 .../src/gatling/scala/extension/whisk/OpenWhiskDsl.scala    |   0
 .../scala/extension/whisk/OpenWhiskProtocolBuilder.scala    |   0
 .../src/gatling/scala/extension/whisk/Predef.scala          |   0
 {performance => tests/performance}/preparation/create.sh    |   0
 {performance => tests/performance}/preparation/deploy.sh    |   2 +-
 {performance => tests/performance}/wrk_tests/latency.sh     |   0
 {performance => tests/performance}/wrk_tests/post.lua       |   0
 {performance => tests/performance}/wrk_tests/throughput.sh  |   0
 22 files changed, 5 insertions(+), 5 deletions(-)

commit 8a3b4472d5ef420f0216cc8e42932d87f428ed30
Author: Christian Bickel <github@cbickel.de>
Date:   Tue May 22 09:58:16 2018 +0200

    Add retries in test around package list and enhance debugging info. (#3672)

 .../whisk/core/cli/test/WskEntitlementTests.scala  | 29 ++++++++++++++--------
 1 file changed, 19 insertions(+), 10 deletions(-)

commit be4743deea6866988741b881fae0c5237d79bff3
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Mon May 21 11:57:03 2018 -0500

    Update last, edge-case files without ASF headers.

 actionRuntimes/actionProxy/build.gradle            | 17 ++++++++++++++++
 actionRuntimes/javaAction/build.gradle             | 17 ++++++++++++++++
 actionRuntimes/nodejs6Action/build.gradle          | 17 ++++++++++++++++
 actionRuntimes/nodejs8Action/build.gradle          | 17 ++++++++++++++++
 actionRuntimes/php7.1Action/build.gradle           | 17 ++++++++++++++++
 actionRuntimes/python2Action/build.gradle          | 17 ++++++++++++++++
 actionRuntimes/pythonAction/build.gradle           | 17 ++++++++++++++++
 actionRuntimes/swift3.1.1Action/build.gradle       | 18 ++++++++++++++++-
 actionRuntimes/swift4.1Action/build.gradle         | 17 ++++++++++++++++
 ansible/environments/distributed/group_vars/all    |  3 +++
 ansible/environments/docker-machine/group_vars/all |  3 +++
 ansible/environments/local/group_vars/all          |  3 +++
 ansible/environments/vagrant/group_vars/all        |  3 +++
 ansible/group_vars/all                             |  3 +++
 build.gradle                                       | 17 ++++++++++++++++
 common/scala/build.gradle                          | 17 ++++++++++++++++
 common/scala/src/main/resources/logback.xml        |  2 +-
 core/controller/build.gradle                       | 17 ++++++++++++++++
 core/invoker/build.gradle                          | 17 ++++++++++++++++
 gradle/docker.gradle                               | 17 ++++++++++++++++
 gradle/wrapper/gradle-wrapper.properties           |  3 +++
 performance/gatling_tests/build.gradle             | 17 ++++++++++++++++
 sdk/docker/build.gradle                            | 17 ++++++++++++++++
 settings.gradle                                    | 17 ++++++++++++++++
 tests/build.gradle                                 | 17 ++++++++++++++++
 tests/dat/blackbox/badaction/build.gradle          | 17 ++++++++++++++++
 tests/dat/blackbox/badproxy/build.gradle           | 17 ++++++++++++++++
 tools/dev/build.gradle                             | 17 ++++++++++++++++
 tools/eclipse/scala.properties                     |  3 +++
 tools/vagrant/Vagrantfile                          | 23 +++++++++++-----------
 30 files changed, 391 insertions(+), 13 deletions(-)

commit 54fca9d51207662618c56842c396900ab4b034dc
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Mon May 21 15:18:57 2018 +0000

    Fix outdated docs in about.md and actions.md (#3683)
    
    1. In about.md, the activation records should be stored into activations
    instead of whisks database.
    2. Fix an outdated/broken node-js reference link in actions.md.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 docs/about.md   | 2 +-
 docs/actions.md | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0b302c1f5b81bafc070b86b7dc2d0cb3cddb397c
Author: Alex Glikson <alex.glikson@gmail.com>
Date:   Fri May 18 21:03:45 2018 -0400

    Update Bluemix references in docs (#3673)
    
    * rename Bluemix to IBM Cloud (Functions) in docs
    
    * remove reference to standalone cloudant.com in db docs

 docs/README.md     |  8 ++++----
 docs/reference.md  |  4 ++--
 docs/use_cases.md  |  8 ++++----
 tools/db/README.md | 11 ++---------
 4 files changed, 12 insertions(+), 19 deletions(-)

commit 9406a6987a76fdfac8e674b4d2afaecc6f96e652
Author: Steffen Rost <srost@de.ibm.com>
Date:   Sat May 19 03:01:34 2018 +0200

    print stack trace in exception block to improve debugging (#3674)

 tests/src/test/scala/common/WskTestHelpers.scala | 1 +
 1 file changed, 1 insertion(+)

commit 600ceaa662eb543c855fcf02b2304755e7750ba1
Author: Alex Glikson <alex.glikson@gmail.com>
Date:   Fri May 18 20:56:37 2018 -0400

    fix 'cd' command in readme (#3677)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 96443b30742845bbdd5788d567eb42c1735dead9
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Fri May 18 17:05:25 2018 -0400

    bump reference for NodeJS images, updating NodeJS6 & NodeJS8 (#3676)

 actionRuntimes/nodejs6Action/Dockerfile | 2 +-
 actionRuntimes/nodejs8Action/Dockerfile | 2 +-
 docs/reference.md                       | 8 ++++----
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 0dfa49fb686e281cf54137c52318f309de391dd7
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri May 18 15:02:27 2018 -0400

    Remove non-ascii character. (#3678)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7082e947cedafe35bac90df7f54fbce98596d853
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri May 18 08:08:54 2018 -0400

    Fixes asymmetry between reading and writing of ByteSize. (#3668)
    
    Constructing a ByteSize form String will accept MB or M, KB or K (and is case insenstive).
    This is to match the toString method which writes out the units as MB or KB (so that a serialized value can be parsed back to the identity).

 .../src/main/scala/whisk/core/entity/Size.scala    | 25 ++++++++++-------
 .../scala/whisk/core/entity/test/SizeTests.scala   | 32 +++++++++++++++++-----
 2 files changed, 40 insertions(+), 17 deletions(-)

commit 7478908a36fc44930a9afc9e9a2ee9baa0a74e27
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 17 11:21:59 2018 -0500

    Add ASF Headers to .groovy source files.

 tools/dev/src/main/groovy/couchdbViews.groovy | 28 +++++++++++++--------------
 tools/jenkins/apache/dockerhub.groovy         | 19 +++++++++++++++++-
 2 files changed, 31 insertions(+), 16 deletions(-)

commit a4b84105af0d084b91521cac44314209b9e16dd5
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu May 17 22:28:31 2018 +0530

    Disable Slf4jLogger startup log (#3652)

 tests/src/test/resources/logback-test.xml | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit ed71ee0cb0dd72eaf1166d0380e2ce2a75f5a9e0
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed May 16 18:45:03 2018 -0400

    Allow for init to specify if artifact should be treated as binary regardless of extension. (#3665)

 actionRuntimes/actionProxy/invoke.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 84e906bfcb73514fc8ff87f088ec2b917f20b397
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed May 16 10:57:27 2018 -0500

    Use Minified ASF License header in Ansible YAML files.

 actionRuntimes/actionProxy/invoke.py                | 21 ++++++++++-----------
 ansible/apigateway.yml                              | 15 +--------------
 ansible/boot_instances_dist.yml                     | 15 +--------------
 ansible/controller.yml                              | 15 +--------------
 ansible/couchdb.yml                                 | 15 +--------------
 ansible/edge.yml                                    | 15 +--------------
 ansible/initdb.yml                                  | 15 +--------------
 ansible/invoker.yml                                 | 15 +--------------
 ansible/kafka.yml                                   | 15 +--------------
 ansible/logs.yml                                    | 15 +--------------
 ansible/openwhisk.yml                               | 15 +--------------
 ansible/postdeploy.yml                              | 15 +--------------
 ansible/prereq.yml                                  | 15 +--------------
 ansible/prereq_build.yml                            | 16 +---------------
 ansible/properties.yml                              | 15 +--------------
 ansible/provision_env_dist.yml                      | 15 +--------------
 ansible/publish.yml                                 | 15 +--------------
 ansible/recreateDesignDocs.yml                      | 15 +--------------
 ansible/registry.yml                                | 15 +--------------
 ansible/roles/apigateway/tasks/clean.yml            | 15 +--------------
 ansible/roles/apigateway/tasks/deploy.yml           | 15 +--------------
 ansible/roles/apigateway/tasks/main.yml             | 15 +--------------
 ansible/roles/cli-install/tasks/clean.yml           | 15 +--------------
 ansible/roles/cli-install/tasks/deploy.yml          | 15 +--------------
 ansible/roles/cli-install/tasks/main.yml            | 15 +--------------
 ansible/roles/cli/tasks/clean.yml                   | 15 +--------------
 ansible/roles/cli/tasks/deploy.yml                  | 15 +--------------
 ansible/roles/cli/tasks/main.yml                    | 15 +--------------
 ansible/roles/controller/tasks/clean.yml            | 15 +--------------
 ansible/roles/controller/tasks/deploy.yml           | 15 +--------------
 .../roles/controller/tasks/join_akka_cluster.yml    | 15 +--------------
 ansible/roles/controller/tasks/main.yml             | 15 +--------------
 ansible/roles/couchdb/tasks/clean.yml               | 15 +--------------
 ansible/roles/couchdb/tasks/deploy.yml              | 15 +--------------
 ansible/roles/couchdb/tasks/main.yml                | 15 +--------------
 ansible/roles/docker/tasks/clean.yml                | 15 +--------------
 ansible/roles/docker/tasks/deploy.yml               | 15 +--------------
 ansible/roles/docker/tasks/main.yml                 | 15 +--------------
 ansible/roles/invoker/tasks/clean.yml               | 15 +--------------
 ansible/roles/invoker/tasks/deploy.yml              | 15 +--------------
 ansible/roles/invoker/tasks/main.yml                | 15 +--------------
 ansible/roles/kafka/tasks/clean.yml                 | 15 +--------------
 ansible/roles/kafka/tasks/deploy.yml                | 15 +--------------
 ansible/roles/kafka/tasks/main.yml                  | 15 +--------------
 ansible/roles/nginx/tasks/clean.yml                 | 15 +--------------
 ansible/roles/nginx/tasks/deploy.yml                | 15 +--------------
 ansible/roles/nginx/tasks/main.yml                  | 15 +--------------
 ansible/roles/prereq/tasks/clean.yml                | 15 +--------------
 ansible/roles/prereq/tasks/deploy.yml               | 15 +--------------
 ansible/roles/prereq/tasks/main.yml                 | 15 +--------------
 ansible/roles/redis/tasks/clean.yml                 | 15 +--------------
 ansible/roles/redis/tasks/deploy.yml                | 15 +--------------
 ansible/roles/redis/tasks/main.yml                  | 15 +--------------
 ansible/roles/registry/tasks/clean.yml              | 15 +--------------
 ansible/roles/registry/tasks/deploy.yml             | 15 +--------------
 ansible/roles/registry/tasks/gencert.yml            | 15 +--------------
 ansible/roles/registry/tasks/main.yml               | 15 +--------------
 ansible/roles/registry/tasks/publish.yml            | 15 +--------------
 ansible/roles/routemgmt/tasks/clean.yml             | 15 +--------------
 ansible/roles/routemgmt/tasks/deploy.yml            | 15 +--------------
 ansible/roles/routemgmt/tasks/main.yml              | 15 +--------------
 ansible/roles/whiskhost/tasks/addUser.yml           | 15 +--------------
 ansible/roles/whiskhost/tasks/clean.yml             | 15 +--------------
 ansible/roles/whiskhost/tasks/deploy.yml            | 15 +--------------
 ansible/roles/whiskhost/tasks/main.yml              | 15 +--------------
 ansible/roles/whiskhost/tasks/patchKernel.yml       | 15 +--------------
 ansible/roles/zookeeper/tasks/clean.yml             | 15 +--------------
 ansible/roles/zookeeper/tasks/deploy.yml            | 15 +--------------
 ansible/roles/zookeeper/tasks/main.yml              | 15 +--------------
 ansible/routemgmt.yml                               | 15 +--------------
 ansible/setup.yml                                   | 15 +--------------
 ansible/tasks/db/checkDb.yml                        | 15 +--------------
 ansible/tasks/db/recreateDb.yml                     | 15 +--------------
 ansible/tasks/db/recreateDoc.yml                    | 15 +--------------
 ansible/tasks/docker_login.yml                      | 15 +--------------
 ansible/tasks/initdb.yml                            | 15 +--------------
 ansible/tasks/installOpenwhiskCatalog.yml           | 15 +--------------
 ansible/tasks/recreateViews.yml                     | 15 +--------------
 ansible/tasks/wipeDatabase.yml                      | 15 +--------------
 ansible/tasks/writeWhiskProperties.yml              | 15 +--------------
 ansible/teardown.yml                                | 15 +--------------
 ansible/wipe.yml                                    | 15 +--------------
 ansible/yamllint.yml                                |  3 +++
 tools/db/moveCodeToAttachment.py                    |  5 ++---
 84 files changed, 96 insertions(+), 1149 deletions(-)

commit 22c0807b9eae20af9acc70b91a1943dd35a95092
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed May 16 13:00:16 2018 +0200

    Assure nginx verifies downstream ssl certs. (#3658)

 ansible/roles/nginx/templates/nginx.conf.j2 | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6397912386537056b295300a7c262218047d60ae
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue May 15 17:47:25 2018 -0500

    Assure all Dockerfiles have ASF header. (#3659)
    
    * Assure all Dockerfiles have ASF header.
    
    * Use mini header for all Dockerfiles

 actionRuntimes/actionProxy/Dockerfile      |  3 +++
 actionRuntimes/javaAction/Dockerfile       |  3 +++
 actionRuntimes/nodejs6Action/Dockerfile    |  3 +++
 actionRuntimes/nodejs8Action/Dockerfile    |  3 +++
 actionRuntimes/php7.1Action/Dockerfile     |  3 +++
 actionRuntimes/python2Action/Dockerfile    |  3 +++
 actionRuntimes/pythonAction/Dockerfile     |  3 +++
 actionRuntimes/swift3.1.1Action/Dockerfile |  3 +++
 actionRuntimes/swift4.1Action/Dockerfile   |  3 +++
 common/scala/Dockerfile                    | 15 +--------------
 core/controller/Dockerfile                 | 15 +--------------
 core/invoker/Dockerfile                    | 15 +--------------
 sdk/docker/Dockerfile                      |  4 +++-
 13 files changed, 33 insertions(+), 43 deletions(-)

commit 8e7fc3ea716cf40b1b5857a55407d60c0bf09aae
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Tue May 15 18:18:59 2018 -0400

    Use ‘docker.host’ java property as a way to set Docker access for Runtime unit tests (#3616)

 .../scala/actionContainers/ActionContainer.scala   | 45 +++++++++++++++++-----
 1 file changed, 35 insertions(+), 10 deletions(-)

commit 403d3417f09f145969a936f322c620f6bc5204ff
Author: Carlos Santana <csantanapr@apache.org>
Date:   Mon May 14 22:16:16 2018 -0400

    switching vagrant to use cli remote mode (#3651)

 ansible/environments/vagrant/group_vars/all | 2 +-
 tools/vagrant/Vagrantfile                   | 9 ---------
 2 files changed, 1 insertion(+), 10 deletions(-)

commit fb5f85303193ca917ce02e0905d2eb7516f4f3a5
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon May 14 11:48:27 2018 -0700

    Split test jobs in Travis (#3613)

 .travis.yml                                        | 12 +--
 ansible/logs.yml                                   |  1 +
 .../core/database/memory/MemoryArtifactStore.scala | 13 +++
 tests/README.md                                    | 36 +++++++++
 tests/build.gradle                                 | 92 +++++++++++++++++++++-
 tools/build/checkLogs.py                           | 23 +++---
 tools/build/redo                                   |  8 +-
 tools/travis/README.md                             | 36 +++++++++
 tools/travis/checkAndUploadLogs.sh                 | 41 ++++++++++
 tools/travis/distDocker.sh                         | 30 +++++++
 tools/travis/runSystemTests.sh                     | 35 ++++++++
 tools/travis/runTests.sh                           | 32 ++++++++
 tools/travis/runUnitTests.sh                       | 35 ++++++++
 tools/travis/scan.sh                               | 52 ++++++++++++
 tools/travis/setupPrereq.sh                        | 35 ++++++++
 tools/travis/setupSystem.sh                        | 31 ++++++++
 16 files changed, 493 insertions(+), 19 deletions(-)

commit 3c12c2f3b8a36d3f9800251ec35aae687916f3f6
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Mon May 14 12:27:00 2018 -0500

    Fix last scancode issues with performance directory & increase granularity.

 performance/README.md          | 23 ++++++++++++-----------
 performance/wrk_tests/post.lua |  2 +-
 tools/travis/build.sh          |  2 +-
 3 files changed, 14 insertions(+), 13 deletions(-)

commit 2ef6e4d235745ad2f24527482c8f9a58c0ca5ea0
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon May 14 19:37:09 2018 +0200

    Allow more special characters in EntityName. (#3644)
    
    
    * Add `&` to the allowed set of charecters for entities.

 .../scala/src/main/scala/whisk/core/entity/EntityPath.scala |  4 ++--
 .../src/test/scala/whisk/core/entity/test/SchemaTests.scala | 13 +++++++++++--
 2 files changed, 13 insertions(+), 4 deletions(-)

commit 2194c85731459602bbaa104ac283de0a11325016
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Sun May 13 10:21:12 2018 -0400

    update swift runtime to workaround "struct" bug, issue 3646 (#3647)

 actionRuntimes/swift4.1Action/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 94a73e88a4ca69ead520ddfd5779621d935e11cc
Author: Vincent <shou@us.ibm.com>
Date:   Fri May 11 18:36:27 2018 -0400

    Restore the LICENSE and NOTICE to fit the source code release (#3643)
    
    All the work we have done for binary dependencies have been saved
    in openwhisk release. We will resume the work later in openwhisk
    release repository.

 LICENSE.txt                                     | 123 +-----
 NOTICE.txt                                      |  43 --
 licenses/LICENSE-akka.txt                       | 212 ---------
 licenses/LICENSE-akkaalpakka.txt                |  15 -
 licenses/LICENSE-akkahttp.txt                   |  15 -
 licenses/LICENSE-apachecommonscodec.txt         | 201 ---------
 licenses/LICENSE-apachecommonscollections.txt   | 201 ---------
 licenses/LICENSE-apachecommonsio.txt            | 201 ---------
 licenses/LICENSE-apachehttpcomponentsclient.txt | 558 ------------------------
 licenses/LICENSE-caffeine.txt                   | 201 ---------
 licenses/LICENSE-curatorrecipes.txt             | 201 ---------
 licenses/LICENSE-javauuidgenerator.txt          | 201 ---------
 licenses/LICENSE-jsr305.txt                     |   8 -
 licenses/LICENSE-kamoncore.txt                  |  15 -
 licenses/LICENSE-kamonstatsd.txt                |  15 -
 licenses/LICENSE-kubernetesclient.txt           | 201 ---------
 licenses/LICENSE-logbackclassic.txt             |  14 -
 licenses/LICENSE-mesosactor.txt                 | 201 ---------
 licenses/LICENSE-pureconfig.txt                 | 362 ---------------
 licenses/LICENSE-scala.txt                      |  30 --
 licenses/LICENSE-slf4j.txt                      |  21 -
 licenses/LICENSE-sprayjson.txt                  | 201 ---------
 licenses/LICENSE-zookeeper.txt                  | 201 ---------
 23 files changed, 1 insertion(+), 3440 deletions(-)

commit 6a3d6bd22923c6514141942321edce1d3beb4c69
Author: Shazron Abdullah <shazron@gmail.com>
Date:   Sat May 12 00:43:22 2018 +0800

    Remove Consul from "The Internal flow of processing" section diagram in about.md (#3638)

 .../images/OpenWhisk_flow_of_processing.draw.io.xml |   1 +
 docs/images/OpenWhisk_flow_of_processing.png        | Bin 70221 -> 46130 bytes
 2 files changed, 1 insertion(+)

commit 34bfe753307a064ad4a4856e23072b1ab96e8c15
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri May 11 14:01:04 2018 +0200

    Fix README.md's scanCode issues. (#3642)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23e8091265dcf4181ece5d38e940cb8c210295ac
Author: dan mcweeney <me@danmcweeney.com>
Date:   Thu May 10 16:37:57 2018 -0400

    Point Getting Started to docker-compose (#3541)
    
    * Point Getting Started to docker-compose
    * Code review feedback, moving vagrant below native.

 .project  | 58 ----------------------------------------------------------
 README.md | 16 ++++++++++++++--
 2 files changed, 14 insertions(+), 60 deletions(-)

commit ee2dd9719ff09818adffd3a02707ca24118b8afa
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 10 11:08:07 2018 -0500

    Fix markdown files with a typo. in the Hash license header. (#3633)
    
    * Fix markdown files with a typo. in the Hash license header.
    
    * Fix markdown files with a typo. in the Hash license header.

 CONTRIBUTING.md                                    | 23 ++++++++++---------
 README.md                                          | 23 ++++++++++---------
 actionRuntimes/actionProxy/README.md               | 23 ++++++++++---------
 ansible/README.md                                  | 23 ++++++++++---------
 ansible/README_DISTRIBUTED.md                      | 23 ++++++++++---------
 .../distributed/files/openstack/README_OS.md       | 23 ++++++++++---------
 ansible/files/genssl.sh                            | 15 +------------
 ansible/roles/routemgmt/files/installRouteMgmt.sh  | 16 ++-----------
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    | 16 ++-----------
 docs/README.md                                     | 23 ++++++++++---------
 docs/about.md                                      | 23 ++++++++++---------
 docs/actions.md                                    | 23 ++++++++++---------
 docs/annotations.md                                | 23 ++++++++++---------
 docs/apigateway.md                                 | 23 ++++++++++---------
 docs/catalog.md                                    | 23 ++++++++++---------
 docs/cli.md                                        | 23 ++++++++++---------
 docs/conductors.md                                 | 23 ++++++++++---------
 docs/deploy.md                                     | 23 ++++++++++---------
 docs/dev/configuration.md                          | 23 ++++++++++---------
 docs/dev/future.md                                 | 23 ++++++++++---------
 docs/dev/troubleshooting/build-failures.md         | 23 ++++++++++---------
 docs/feeds.md                                      | 23 ++++++++++---------
 docs/images/README.md                              | 26 +++++++++++-----------
 docs/logging.md                                    | 23 ++++++++++---------
 docs/mesos.md                                      | 23 ++++++++++---------
 docs/metrics.md                                    | 23 ++++++++++---------
 docs/mobile_sdk.md                                 | 23 ++++++++++---------
 docs/packages.md                                   | 23 ++++++++++---------
 docs/parameters.md                                 | 23 ++++++++++---------
 docs/reference.md                                  | 23 ++++++++++---------
 docs/rest_api.md                                   | 23 ++++++++++---------
 docs/samples.md                                    | 23 ++++++++++---------
 docs/spi.md                                        | 24 +++++++++++---------
 docs/triggers_rules.md                             | 23 ++++++++++---------
 docs/use_cases.md                                  | 23 ++++++++++---------
 docs/webactions.md                                 | 23 ++++++++++---------
 gradle/README.md                                   | 23 ++++++++++---------
 tests/dat/blackbox/badaction/README.md             | 23 ++++++++++---------
 tests/dat/blackbox/badproxy/README.md              | 23 ++++++++++---------
 tools/admin/README.md                              | 23 ++++++++++---------
 tools/build/README.md                              | 23 ++++++++++---------
 tools/db/README.md                                 | 23 ++++++++++---------
 tools/dev/README.md                                | 23 ++++++++++---------
 tools/git/README.md                                | 23 ++++++++++---------
 tools/macos/README.md                              | 23 ++++++++++---------
 tools/macos/docker-machine/README.md               | 23 ++++++++++---------
 tools/ubuntu-setup/README.md                       | 23 ++++++++++---------
 tools/vagrant/README.md                            | 23 ++++++++++---------
 48 files changed, 547 insertions(+), 539 deletions(-)

commit c995c53192ca15a87d5ecea32dbde50c5785c3e6
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu May 10 10:14:57 2018 -0400

    update docker runtime from 1.2.0 to 1.3.0 (#3636)

 actionRuntimes/actionProxy/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d61748fd29f3ecd8caa0145cb3b9f6d73587fa66
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 9 23:09:05 2018 -0400

    Cache database attachments (#2855)

 .../whisk/core/database/DocumentFactory.scala      |  52 ++++--
 .../main/scala/whisk/core/entity/WhiskAction.scala |  19 +-
 .../core/controller/test/ActionsApiTests.scala     | 199 +++++++++++++++++++++
 .../scala/whisk/core/database/test/DbUtils.scala   |  18 ++
 4 files changed, 263 insertions(+), 25 deletions(-)

commit eb3d9a9997918132992adadcb18bbdbcc907ebb3
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed May 9 20:25:50 2018 -0400

    remove unused imports or dead variables as reported in travis build. (#3627)

 actionRuntimes/actionProxy/invoke.py                                 | 1 -
 performance/gatling_tests/src/gatling/resources/data/pythonAction.py | 1 -
 tests/dat/actions/sleep.py                                           | 1 -
 tools/admin/wskadmin                                                 | 2 --
 4 files changed, 5 deletions(-)

commit 8364759dec7f32a34695b6bfc631cf800ec30ce4
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 9 18:38:34 2018 -0400

    Terminate route for invalid list skip values (#3615)

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  7 +++-
 .../main/scala/whisk/core/controller/Actions.scala | 32 +++++++++------
 .../scala/whisk/core/controller/Activations.scala  | 15 ++++---
 .../scala/whisk/core/controller/Packages.scala     | 46 ++++++++++++----------
 .../scala/whisk/core/controller/RestAPIs.scala     | 16 +++++++-
 .../main/scala/whisk/core/controller/Rules.scala   | 30 ++++++++------
 .../scala/whisk/core/controller/Triggers.scala     | 31 +++++++++------
 .../scala/whisk/core/entitlement/Collection.scala  |  5 ++-
 .../core/controller/test/ActionsApiTests.scala     | 33 ++++++++++++++++
 .../core/controller/test/ActivationsApiTests.scala | 35 +++++++++++++++-
 .../core/controller/test/PackagesApiTests.scala    | 33 ++++++++++++++++
 .../whisk/core/controller/test/RulesApiTests.scala | 33 ++++++++++++++++
 .../core/controller/test/TriggersApiTests.scala    | 33 ++++++++++++++++
 13 files changed, 281 insertions(+), 68 deletions(-)

commit 18ca5385614cc14925503512104503b7bc549942
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 9 17:26:01 2018 -0400

    Bump Ansible to 2.5.2 (#3625)

 ansible/README.md                    | 4 ++--
 tools/macos/README.md                | 4 ++--
 tools/macos/docker-machine/README.md | 4 ++--
 tools/travis/setup.sh                | 2 +-
 tools/ubuntu-setup/ansible.sh        | 2 +-
 5 files changed, 8 insertions(+), 8 deletions(-)

commit dd32b9e007a2f0b4e62332e7c133e6bfab83d5d0
Author: Carlos Santana <csantanapr@apache.org>
Date:   Wed May 9 17:03:29 2018 -0400

    Bump new version of ios staterapp (#3631)

 ansible/roles/nginx/templates/nginx.conf.j2 |  2 +-
 docs/mobile_sdk.md                          | 11 +++++------
 2 files changed, 6 insertions(+), 7 deletions(-)

commit 204fe6a96564cd732a2e048a6b5a5352c20a11db
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 9 16:07:38 2018 -0400

    Add license header to build-failures.md (#3632)

 docs/dev/troubleshooting/build-failures.md | 18 ++++++++++++++++++
 1 file changed, 18 insertions(+)

commit 8867adc5d1349807ee3b0ccd253a72c3f1c137a4
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 9 10:27:01 2018 -0400

    Create troubleshooting guide for dependency download failures (#3506)

 docs/dev/troubleshooting/build-failures.md | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 7d9372f4ea7e49ad4dd691cba80526cc1c3e940c
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue May 8 12:24:17 2018 -0400

    Replace WALA Pair with clean new Pair. (#3624)

 tests/src/test/scala/common/Pair.java            | 85 ++----------------------
 tests/src/test/scala/common/TestUtils.java       |  4 +-
 tests/src/test/scala/common/WhiskProperties.java |  4 +-
 3 files changed, 10 insertions(+), 83 deletions(-)

commit 357e50669024a779445b17ce275a3bbc9bf7818e
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue May 8 09:00:41 2018 -0500

    Add ASF license headers to all Scala .conf files.

 .scalafmt.conf                                      | 5 ++++-
 common/scala/src/main/resources/application.conf    | 3 +++
 common/scala/src/main/resources/logging.conf        | 3 +++
 common/scala/src/main/resources/reference.conf      | 3 +++
 core/controller/src/main/resources/application.conf | 3 +++
 core/controller/src/main/resources/reference.conf   | 2 ++
 core/invoker/src/main/resources/application.conf    | 3 +++
 7 files changed, 21 insertions(+), 1 deletion(-)

commit 68c3fd598d819f4e1795acbf9fb5c9686d1917e7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue May 8 17:29:30 2018 +0200

    Support "+json" content-types as WebAction input. (#3609)
    
    WebActions support various different input formats (like FormData). Only allowing application/json to be parsed and handled as JSON is an unnecessary limitation since there are many "+json" custom formats out there which boil down to JSON as well.

 .../scala/whisk/http/LenientSprayJsonSupport.scala | 29 ++++++++++++++++++++++
 .../scala/whisk/core/controller/WebActions.scala   | 10 +++-----
 .../core/controller/test/WebActionsApiTests.scala  | 18 ++++++++++++++
 3 files changed, 50 insertions(+), 7 deletions(-)

commit 375c180b7332b671c1878761fb1d891b59ba3478
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Tue May 8 09:59:03 2018 -0400

    bump nodejs6 1.8.1 -> 1.9.0, bump nodejs8 1.5.1 -> 1.6.0 (#3599)

 actionRuntimes/nodejs6Action/Dockerfile | 2 +-
 actionRuntimes/nodejs8Action/Dockerfile | 2 +-
 docs/reference.md                       | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 939c3d797b54a870efbb085c14eb7fb4201d8fbb
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Tue May 8 09:53:41 2018 +0200

    Limit cipher suites used for Kafka SSL. (#3604)

 ansible/group_vars/all               | 7 +++++++
 ansible/roles/kafka/tasks/deploy.yml | 1 +
 2 files changed, 8 insertions(+)

commit 1cf18d5cceadac50c83b9c611689c470f90761e5
Author: Carlos Santana <csantanapr@apache.org>
Date:   Sun May 6 08:30:21 2018 -0400

    Fix ubuntu14 setup for pip packages  (#3614)

 tools/ubuntu-setup/README.md  | 2 +-
 tools/ubuntu-setup/ansible.sh | 6 +++---
 tools/ubuntu-setup/java8.sh   | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit eeb220e5490be1631babe2136dc146e71f3587e3
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sun May 6 06:48:53 2018 +0530

    Collect test reports as part of log collection (#3590)

 ansible/logs.yml | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 6fef5c41756ef174f10c671f1a1a010702839663
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Fri May 4 17:45:33 2018 -0400

    Add abstraction to controller role in ansible (#3534)
    
    * Add abstraction to controller role
    
    * Add 'plugin' approach to configuration

 .gitignore                                         |   1 +
 ansible/controller.yml                             |  30 ++-
 ansible/roles/controller/tasks/clean.yml           |   9 +-
 ansible/roles/controller/tasks/deploy.yml          | 201 +++++++++++++--------
 .../roles/controller/tasks/join_akka_cluster.yml   |  49 +++++
 ansible/yamllint.yml                               |   7 +
 6 files changed, 212 insertions(+), 85 deletions(-)

commit 5c813852bb06189d688a3970d9569960d81539ad
Author: Pavel Kravchenko <kpavel@il.ibm.com>
Date:   Fri May 4 21:02:12 2018 +0300

    Re-enable invokers docker_container module (#3525)
    
    * Re-enabling invokers docker_container module
    
    * bumping up ansible version to 2.5.0 where userns support added

 ansible/README.md                      |   4 +-
 ansible/roles/invoker/tasks/deploy.yml | 205 ++++++++++++++++++---------------
 tools/macos/README.md                  |   4 +-
 tools/macos/docker-machine/README.md   |   6 +-
 tools/travis/setup.sh                  |   2 +-
 tools/ubuntu-setup/ansible.sh          |   2 +-
 6 files changed, 119 insertions(+), 104 deletions(-)

commit ddff74da36ad1130cdf514ee9e56d3e56fcb1c96
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri May 4 21:23:48 2018 +0530

    Make count with skip to work with CouchDB (#3588)
    
    * Make count with skip to work with CouchDB
    
    * Handle case where skip is more than actual count
    
    * Ensure that skip and limits are non negative i.e. >= 0

 .../whisk/core/database/CouchDbRestStore.scala     | 15 ++++-----
 .../core/database/memory/MemoryArtifactStore.scala |  3 ++
 .../behavior/ArtifactStoreQueryBehaviors.scala     | 39 ++++++++++++++++++++--
 3 files changed, 47 insertions(+), 10 deletions(-)

commit 0df22e9cc03548a3c4ed0ff969ee41f84bbaf0ac
Author: Christian Bickel <github@cbickel.de>
Date:   Thu May 3 16:11:24 2018 +0200

    Increase nginx security by adapting ssl_ciphers. (#3606)
    
    Adapts the allowed encryption methods of nginx to the recommendation of Mozilla.
    See https://wiki.mozilla.org/Security/Server_Side_TLS
    
    Allowed ciphers are now:
    openssl ciphers -v 'ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256'
    ECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD
    ECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD
    ECDHE-ECDSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=ChaCha20-Poly1305 Mac=AEAD
    ECDHE-RSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=RSA  Enc=ChaCha20-Poly1305 Mac=AEAD
    ECDHE-ECDSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(128) Mac=AEAD
    ECDHE-RSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(128) Mac=AEAD
    ECDHE-ECDSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA384
    ECDHE-RSA-AES256-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA384
    ECDHE-ECDSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(128)  Mac=SHA256
    ECDHE-RSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(128)  Mac=SHA256

 ansible/roles/nginx/templates/nginx.conf.j2 | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d3a0bb48faf82a668ad9dc7eecf6f9b630c6189c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu May 3 13:08:25 2018 +0200

    Make limit overcommit relative to the actual cluster size. (#3592)
    
    The overcommit of limits needs to be relative to the actual size of the cluster to appropriately scale those limits.

 .../src/main/scala/whisk/core/entitlement/Entitlement.scala        | 7 +++----
 1 file changed, 3 insertions(+), 4 deletions(-)

commit a8b75e9871d860406d71bdf5d2c7a534d54c8dc9
Author: Christian Bickel <github@cbickel.de>
Date:   Thu May 3 12:53:10 2018 +0200

    Generate TransactionId in nginx rather than controller. (#3199)
    
    - Move from a numeric TransactionId to a random string.
    - Add ability to take a header's value as the TransactionId (like `X-Request-Id`).
    - Add `X-Request-Id` header from nginx (and return it to the user).

 ansible/group_vars/all                             |  2 +-
 ansible/roles/controller/tasks/deploy.yml          |  2 +-
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 ansible/roles/nginx/templates/nginx.conf.j2        |  8 +-
 common/scala/src/main/resources/application.conf   |  3 +-
 .../main/scala/whisk/common/TransactionId.scala    | 90 +++++++++-------------
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 -
 .../main/scala/whisk/http/BasicHttpService.scala   | 51 ++++++++----
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  2 +-
 .../scala/whisk/core/controller/Controller.scala   |  2 -
 .../scala/whisk/core/controller/Triggers.scala     |  7 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  4 +-
 .../scala/whisk/core/invoker/InvokerServer.scala   | 28 -------
 .../test/scala/whisk/common/SchedulerTests.scala   |  2 +-
 .../containerpool/test/ContainerProxyTests.scala   | 40 ++++------
 .../controller/test/ControllerTestCommon.scala     |  6 +-
 .../core/controller/test/PackagesApiTests.scala    | 16 ++--
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 .../scala/whisk/core/database/test/DbUtils.scala   | 10 ++-
 .../core/database/test/DocumentHandlerTests.scala  | 24 +++---
 .../test/behavior/ArtifactStoreBehaviorBase.scala  |  5 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala |  8 +-
 22 files changed, 137 insertions(+), 177 deletions(-)

commit 495a00626f90895a6fa53291545d72895943e7f2
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed May 2 17:12:19 2018 -0400

    Shorten parameters for entity fetching utils (#3594)
    
    * Shorten parameters for entity fetching utils

 .../main/scala/whisk/core/controller/Actions.scala | 12 +++++-----
 .../scala/whisk/core/controller/Activations.scala  | 12 +++-------
 .../scala/whisk/core/controller/ApiUtils.scala     | 28 +++++++---------------
 .../scala/whisk/core/controller/Packages.scala     |  4 ++--
 .../main/scala/whisk/core/controller/Rules.scala   |  6 ++---
 .../scala/whisk/core/controller/Triggers.scala     |  4 ++--
 6 files changed, 24 insertions(+), 42 deletions(-)

commit 65f1c0d35335a3d0084dd8525053e47659b2c603
Author: Vincent <shou@us.ibm.com>
Date:   Wed May 2 13:14:54 2018 -0400

    Change the LICENSE file into the correct format defined in openwhisk release (#3601)

 LICENSE.txt | 150 +++++++++++++-----------------------------------------------
 1 file changed, 32 insertions(+), 118 deletions(-)

commit 056c118ec244d997622adbd2d93a79e51678ff2e
Author: Ying Chun Guo <guoyingc@cn.ibm.com>
Date:   Wed May 2 22:48:56 2018 +0800

    add short licnese header to test data files (#3596)

 tests/dat/actions/applicationError.js      | 3 +++
 tests/dat/actions/argCheck.js              | 3 +++
 tests/dat/actions/asyncError.js            | 3 +++
 tests/dat/actions/base64Web.js             | 3 +++
 tests/dat/actions/cat.js                   | 5 +++--
 tests/dat/actions/conductor.js             | 3 +++
 tests/dat/actions/corsHeaderMod.js         | 3 +++
 tests/dat/actions/countdown.js             | 3 +++
 tests/dat/actions/createRule.swift         | 3 +++
 tests/dat/actions/createTrigger.swift      | 3 +++
 tests/dat/actions/dosLogs.js               | 3 +++
 tests/dat/actions/echo-web-http.js         | 4 +++-
 tests/dat/actions/echo.js                  | 3 +++
 tests/dat/actions/emptyJSONResult.js       | 3 +++
 tests/dat/actions/head.js                  | 5 +++--
 tests/dat/actions/hello.js                 | 3 +++
 tests/dat/actions/hello.swift              | 3 +++
 tests/dat/actions/helloAsync.js            | 3 +++
 tests/dat/actions/helloContext.js          | 3 +++
 tests/dat/actions/helloDeadline.js         | 3 +++
 tests/dat/actions/helloOpenwhiskPackage.js | 3 +++
 tests/dat/actions/helloPromise.js          | 3 +++
 tests/dat/actions/httpGet.swift            | 3 +++
 tests/dat/actions/initexit.js              | 3 +++
 tests/dat/actions/initforever.js           | 3 +++
 tests/dat/actions/invoke.swift             | 3 +++
 tests/dat/actions/invokeNonBlocking.swift  | 3 +++
 tests/dat/actions/issue-1562.js            | 3 +++
 tests/dat/actions/log.js                   | 3 +++
 tests/dat/actions/malformed.js             | 3 +++
 tests/dat/actions/malformed.py             | 3 +++
 tests/dat/actions/memoryWithGC.js          | 3 +++
 tests/dat/actions/multipleHeaders.js       | 3 +++
 tests/dat/actions/niam.js                  | 3 +++
 tests/dat/actions/niam.py                  | 3 +++
 tests/dat/actions/niam.swift               | 3 +++
 tests/dat/actions/openFiles.js             | 3 +++
 tests/dat/actions/ping.js                  | 3 +++
 tests/dat/actions/pngWeb.js                | 3 +++
 tests/dat/actions/printParams.js           | 3 +++
 tests/dat/actions/python-zip/__main__.py   | 3 +++
 tests/dat/actions/python-zip/greet.py      | 3 +++
 tests/dat/actions/runexit.js               | 3 +++
 tests/dat/actions/sizedResult.js           | 3 +++
 tests/dat/actions/sleep.js                 | 3 +++
 tests/dat/actions/sleep.py                 | 3 +++
 tests/dat/actions/sort.js                  | 4 +++-
 tests/dat/actions/split.js                 | 3 +++
 tests/dat/actions/stdenv.py                | 3 +++
 tests/dat/actions/step.js                  | 3 +++
 tests/dat/actions/textBody.js              | 3 +++
 tests/dat/actions/trigger.swift            | 3 +++
 tests/dat/actions/unicode.js               | 3 +++
 tests/dat/actions/unicode.swift            | 6 ++++--
 tests/dat/actions/unicode2.py              | 3 +++
 tests/dat/actions/unicode3.py              | 3 +++
 tests/dat/actions/wc.js                    | 3 +++
 tests/dat/actions/wcbin.js                 | 3 +++
 tests/dat/apigw/local.api.bad.yaml         | 4 +++-
 tests/dat/apigw/local.api.yaml             | 4 +++-
 tests/dat/blackbox/badaction/Dockerfile    | 5 ++++-
 tests/dat/blackbox/badproxy/Dockerfile     | 5 ++++-
 62 files changed, 189 insertions(+), 12 deletions(-)

commit 7112143d61dbe58eacb5b9ee683dc15f152fadc1
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue May 1 21:13:14 2018 -0500

    Update build to use latest scancode .cfg for .md and .sh (#3602)

 tools/travis/build.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 43053606b5d9a421ab40ceefc6435119353a8461
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue May 1 16:45:45 2018 -0400

    Remove unused variable from cache concurrency tests (#3600)

 .../src/test/scala/whisk/core/database/test/CacheConcurrencyTests.scala  | 1 -
 1 file changed, 1 deletion(-)

commit 9a042dc44a7dba93114142714016f33800de7271
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue May 1 12:59:49 2018 -0500

    Update all .md and .sh files to pass scancode for compliance.

 CONTRIBUTING.md                          | 22 +++++++++++-----------
 README.md                                | 12 ++++++------
 actionRuntimes/actionProxy/README.md     | 12 ++++++------
 common/scala/copyJMXFiles.sh             |  2 +-
 common/scala/transformEnvironment.sh     |  6 +++---
 docs/feeds.md                            |  8 +++++---
 docs/images/README.md                    |  3 ++-
 docs/mobile_sdk.md                       |  2 +-
 docs/parameters.md                       |  3 ++-
 docs/rest_api.md                         |  9 +++++----
 docs/webactions.md                       | 13 +++++++------
 gradle/README.md                         | 12 ++++++------
 tests/dat/blackbox/badaction/README.md   | 18 ++++++++++++++++++
 tests/dat/blackbox/badproxy/README.md    | 18 ++++++++++++++++++
 tools/admin/README.md                    | 16 ++++++----------
 tools/build/compile_swift.sh             |  2 +-
 tools/db/README.md                       | 20 ++++++++++----------
 tools/dev/README.md                      | 26 +++++++++++++-------------
 tools/git/README.md                      | 12 ++++++------
 tools/git/pre-commit-scalafmt-gradlew.sh |  2 +-
 tools/git/pre-commit-scalafmt-native.sh  |  2 +-
 tools/macos/README.md                    | 12 ++++++------
 tools/macos/docker-machine/README.md     | 14 +++++++-------
 tools/ubuntu-setup/README.md             | 16 ++++++++--------
 24 files changed, 150 insertions(+), 112 deletions(-)

commit d13ff868617827a52c487ddc962f01d4a64dd91b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Apr 30 17:35:48 2018 -0400

    Fix error message type (#3595)

 common/scala/src/main/scala/whisk/core/entity/WhiskActivation.scala | 4 ++--
 tests/src/test/scala/common/WskTestHelpers.scala                    | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a47cd423ffcf695496465383750f0a0b9db29b1f
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Mon Apr 30 13:09:58 2018 +0200

    Emit user-faced metrics and events to Kafka. (#3552)
    
    This introduces a new kafka topic called events, which will accept events of 2 types: Activations and Metrics. First corresponds to the metadata which is collected after an activation is finished (initTime, waitTime, responseCode, kind, etc), second stands for user related metrics of any kind (throttledActivations, concurrentActivations). The data is not aggregated, it is sent to Kafka instantly.

 ansible/group_vars/all                             |  1 +
 ansible/roles/controller/tasks/deploy.yml          |  1 +
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 common/scala/src/main/resources/application.conf   | 12 ++-
 .../src/main/scala/whisk/common/UserEvents.scala   | 35 ++++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 +
 .../main/scala/whisk/core/connector/Message.scala  | 90 +++++++++++++++++++--
 .../scala/whisk/core/controller/Controller.scala   |  7 +-
 .../core/entitlement/ActivationThrottler.scala     |  3 +
 .../scala/whisk/core/entitlement/Entitlement.scala | 41 ++++++++--
 .../whisk/core/entitlement/LocalEntitlement.scala  | 13 ++-
 .../whisk/core/containerpool/ContainerProxy.scala  |  8 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala | 35 ++++++--
 docs/metrics.md                                    | 47 ++++++++++-
 tests/src/test/resources/application.conf.j2       |  3 +
 .../test/scala/whisk/common/UserEventTests.scala   | 94 ++++++++++++++++++++++
 .../containerpool/test/ContainerProxyTests.scala   | 44 ++++++----
 .../controller/test/ControllerTestCommon.scala     |  5 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 19 files changed, 392 insertions(+), 51 deletions(-)

commit 166b421c3bd6fc9625f2be5d5c40990782481e09
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Apr 27 11:01:09 2018 -0500

    Use scanCode from utilities repo. using ASF Release configuration. (#3569)

 tools/build/ASFLicenseHeader.txt       |  16 -
 tools/build/ApacheIBMLicenseHeader.txt |  15 -
 tools/build/README.md                  |  16 +-
 tools/build/scanCode.cfg               |  57 ----
 tools/build/scanCode.py                | 541 ---------------------------------
 tools/travis/build.sh                  |   4 +-
 6 files changed, 10 insertions(+), 639 deletions(-)

commit 7df1458f2e4be4e37cd18074ba9c88100760a6b4
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Fri Apr 27 11:59:28 2018 -0400

    bump java action runtime from 1.0.1 -> 1.1.0 using openjdk (#3589)

 actionRuntimes/javaAction/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8d38625ce217c51e35b6eb78a3928c1e09ec0ba6
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Apr 26 14:56:44 2018 -0400

    use whisk_api_host_name as part of api host ansible selection (#3573)

 ansible/roles/routemgmt/tasks/deploy.yml  | 2 +-
 ansible/tasks/installOpenwhiskCatalog.yml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 1ff63454097c18318870196f8c4bc5acc919d9a0
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Apr 26 22:08:03 2018 +0530

    Add codecov coverage badge (#3587)

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 6a306f33e6e725b0bb2976d18115b19190d41974
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Apr 26 19:55:58 2018 +0530

    #3243 - Use gradle scoverage to collect test coverage stats (#3249)

 build.gradle                 |  1 +
 common/scala/build.gradle    |  2 ++
 core/controller/build.gradle |  2 ++
 core/invoker/build.gradle    |  2 ++
 settings.gradle              |  7 ++++
 tests/build.gradle           | 79 ++++++++++++++++++++++++++++++++++++++++----
 tools/travis/build.sh        |  4 ++-
 7 files changed, 89 insertions(+), 8 deletions(-)

commit 0d1e60028ee1adbd0c240c1fe87ea3b5e27435ba
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Apr 26 14:38:25 2018 +0200

    Refactor Kafka clients for more generalized configuration reading. (#3325)
    
    Kafka's clients rely on Properties for passing the configuration in. That's cumbersome to use in Scala so it's pushed to a central method now.
    
    Also using the implicit JavaConversions is discouraged (as it can be quite surprising). Exchanged that with the explicit JavaConverters.

 .../connector/kafka/KafkaConsumerConnector.scala   | 46 +++++++-----------
 .../connector/kafka/KafkaMessagingProvider.scala   | 54 +++++++++++-----------
 .../connector/kafka/KafkaProducerConnector.scala   | 43 +++++------------
 3 files changed, 55 insertions(+), 88 deletions(-)

commit d1be01bcd1177aaf0c51b6dd71a8071e86b9d382
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Apr 26 17:49:03 2018 +0530

    Increase RuncClientTests timeout (#3586)
    
    Switch to using ScalaFutures with IntegrationPatience (default timeout of 15 sec) for this test

 .../containerpool/docker/test/RuncClientTests.scala     | 17 +++++++++++------
 1 file changed, 11 insertions(+), 6 deletions(-)

commit ef0ccbb2257755a5a2c29ea7fba96d6d60121ae4
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Apr 26 11:25:01 2018 +0200

    Bump nginx version to latest and disable server-side information. (#3581)
    
    It's good practice in general to not report version numbers in http responses. This disables that as well as bumping the nginx version to 1.13.

 ansible/group_vars/all                      | 2 +-
 ansible/roles/nginx/templates/nginx.conf.j2 | 3 +++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit a3e2e2829a1086f795cea4868a63161833e94e9a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Apr 25 17:19:30 2018 +0200

    Widen match on specific exception in LogStore tests. (#3578)
    
    We don't particularly care which exception is returned specifically and in this case this seems to be a possible race. Just asserting that it fails should be well enough in this case.

 .../containerpool/logging/ElasticSearchLogStoreTests.scala  | 13 ++++---------
 .../core/containerpool/logging/SplunkLogStoreTests.scala    |  8 ++++----
 2 files changed, 8 insertions(+), 13 deletions(-)

commit 5ebff8fb4ce618487c18882d25c569f1e170b504
Author: Guillaume Nodet <gnodet.apache@gmail.com>
Date:   Wed Apr 25 13:13:51 2018 +0200

    Fix command to build CLI in ansible guide, fixes #3575 (#3576)

 ansible/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8da57de213a61200305d093bf84e5c0825a9402e
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Apr 25 08:00:23 2018 +0200

    Add simulation to test warm invocation throughput. (#3427)

 .travis.yml                                        |  1 +
 performance/README.md                              | 27 ++++++++
 .../scala/BlockingInvokeOneActionSimulation.scala  | 79 ++++++++++++++++++++++
 3 files changed, 107 insertions(+)

commit 61d64f8a147b89d481b1880f494d875b828aca05
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Apr 24 17:06:10 2018 +0200

    Bump retries for view based tests. (#3571)
    
    The view based retry logic is a bit deep and overloaded. To bump the retries and make all those tests more stable this bumps the general retry count for all those tests.
    
    Also tightens the blacklist test by retrying the view based lookup as well.

 tests/src/test/scala/whisk/core/database/test/DbUtils.scala         | 6 +++++-
 .../scala/whisk/core/invoker/test/NamespaceBlacklistTests.scala     | 5 ++++-
 2 files changed, 9 insertions(+), 2 deletions(-)

commit ab1c45389d2565531039dcc15b5193ddcbe50992
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Apr 24 16:08:57 2018 +0200

    Bump timeout of activation logs test. (#3554)
    
    * Bump timeout of activation logs test.
    
    There are SPIs in active development which exchange the backend of the "activation logs" call. This backend is not necessarily consistent with the activations database itself, hence the test needs to poll "activation logs" for a set amount of time.
    
    * Align timeout.

 .../src/test/scala/system/basic/WskActivationTests.scala  | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit b15f2dda5151d35b4ab2e9073570388159af991d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Apr 23 19:38:48 2018 +0200

    Skip log collection if the log-limit is set to "0". (#3563)
    
    * Skip log collection if the log-limit is set to "0".
    
    Enables the per-action log-limit configuration to be read from config (min/max/std values respectively). It also skips the entire log-collecting process if that limit is set to 0 (no logs allowed).
    
    * Refactor LogLimit constructor, add test
    
    * Review comment.

 common/scala/src/main/resources/application.conf   |  7 +++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 +
 .../src/main/scala/whisk/core/entity/Limits.scala  |  7 +--
 .../main/scala/whisk/core/entity/LogLimit.scala    | 27 +++++----
 .../whisk/core/containerpool/ContainerProxy.scala  | 31 +++++-----
 .../containerpool/test/ContainerProxyTests.scala   | 68 ++++++++++++++++------
 .../scala/whisk/core/entity/test/SchemaTests.scala | 10 ++--
 .../whisk/core/limits/ActionLimitsTests.scala      | 20 +++----
 8 files changed, 108 insertions(+), 63 deletions(-)

commit 1c1c549cc9380eaa6dee6cbbf0b89b1370688922
Author: Ying Chun Guo <guoyingc@cn.ibm.com>
Date:   Mon Apr 23 23:26:17 2018 +0800

    add license header to files in ansible folder (#3565)

 ansible/README.md                                  | 17 ++++++++++++++
 ansible/README_DISTRIBUTED.md                      | 18 +++++++++++++++
 ansible/apigateway.yml                             | 15 ++++++++++++
 ansible/boot_instances_dist.yml                    | 17 +++++++++++++-
 ansible/controller.yml                             | 17 +++++++++++++-
 ansible/couchdb.yml                                | 19 +++++++++++++--
 ansible/edge.yml                                   | 17 +++++++++++++-
 .../distributed/files/openstack/README_OS.md       | 17 ++++++++++++++
 ansible/files/genssl.sh                            | 15 ++++++++++++
 ansible/initdb.yml                                 | 15 ++++++++++++
 ansible/invoker.yml                                | 17 +++++++++++++-
 ansible/kafka.yml                                  | 17 +++++++++++++-
 ansible/logs.yml                                   | 17 +++++++++++++-
 ansible/openwhisk.yml                              | 15 ++++++++++++
 ansible/postdeploy.yml                             | 15 ++++++++++++
 ansible/prereq.yml                                 | 17 +++++++++++++-
 ansible/prereq_build.yml                           | 21 ++++++++++++++---
 ansible/properties.yml                             | 15 ++++++++++++
 ansible/provision_env_dist.yml                     | 15 ++++++++++++
 ansible/publish.yml                                | 15 ++++++++++++
 ansible/recreateDesignDocs.yml                     | 15 ++++++++++++
 ansible/registry.yml                               | 17 +++++++++++++-
 ansible/roles/apigateway/tasks/clean.yml           | 15 ++++++++++++
 ansible/roles/apigateway/tasks/deploy.yml          | 15 ++++++++++++
 ansible/roles/apigateway/tasks/main.yml            | 16 ++++++++++++-
 ansible/roles/cli-install/tasks/clean.yml          | 15 ++++++++++++
 ansible/roles/cli-install/tasks/deploy.yml         | 15 ++++++++++++
 ansible/roles/cli-install/tasks/main.yml           | 15 ++++++++++++
 ansible/roles/cli/tasks/clean.yml                  | 15 ++++++++++++
 ansible/roles/cli/tasks/deploy.yml                 | 15 ++++++++++++
 ansible/roles/cli/tasks/main.yml                   | 15 ++++++++++++
 ansible/roles/controller/tasks/clean.yml           | 15 ++++++++++++
 ansible/roles/controller/tasks/deploy.yml          | 15 ++++++++++++
 ansible/roles/controller/tasks/main.yml            | 17 +++++++++++++-
 ansible/roles/couchdb/tasks/clean.yml              | 15 ++++++++++++
 ansible/roles/couchdb/tasks/deploy.yml             | 19 +++++++++++++--
 ansible/roles/couchdb/tasks/main.yml               | 15 ++++++++++++
 ansible/roles/docker/tasks/clean.yml               | 15 ++++++++++++
 ansible/roles/docker/tasks/deploy.yml              | 15 ++++++++++++
 ansible/roles/docker/tasks/main.yml                | 15 ++++++++++++
 ansible/roles/invoker/tasks/clean.yml              | 15 ++++++++++++
 ansible/roles/invoker/tasks/deploy.yml             | 15 ++++++++++++
 ansible/roles/invoker/tasks/main.yml               | 17 +++++++++++++-
 ansible/roles/kafka/tasks/clean.yml                | 15 ++++++++++++
 ansible/roles/kafka/tasks/deploy.yml               | 15 ++++++++++++
 ansible/roles/kafka/tasks/main.yml                 | 17 +++++++++++++-
 ansible/roles/nginx/tasks/clean.yml                | 15 ++++++++++++
 ansible/roles/nginx/tasks/deploy.yml               | 15 ++++++++++++
 ansible/roles/nginx/tasks/main.yml                 | 15 ++++++++++++
 ansible/roles/prereq/tasks/clean.yml               | 21 ++++++++++++++---
 ansible/roles/prereq/tasks/deploy.yml              | 21 ++++++++++++++---
 ansible/roles/prereq/tasks/main.yml                | 15 ++++++++++++
 ansible/roles/redis/tasks/clean.yml                | 15 ++++++++++++
 ansible/roles/redis/tasks/deploy.yml               | 15 ++++++++++++
 ansible/roles/redis/tasks/main.yml                 | 16 ++++++++++++-
 ansible/roles/registry/tasks/clean.yml             | 15 ++++++++++++
 ansible/roles/registry/tasks/deploy.yml            | 15 ++++++++++++
 ansible/roles/registry/tasks/gencert.yml           | 15 ++++++++++++
 ansible/roles/registry/tasks/main.yml              | 19 +++++++++++++--
 ansible/roles/registry/tasks/publish.yml           | 27 +++++++++++++++++-----
 ansible/roles/routemgmt/files/installRouteMgmt.sh  | 18 ++++++++++++++-
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    | 16 +++++++++++++
 ansible/roles/routemgmt/tasks/clean.yml            | 15 ++++++++++++
 ansible/roles/routemgmt/tasks/deploy.yml           | 15 ++++++++++++
 ansible/roles/routemgmt/tasks/main.yml             | 15 ++++++++++++
 ansible/roles/whiskhost/tasks/addUser.yml          | 19 +++++++++++++--
 ansible/roles/whiskhost/tasks/clean.yml            | 17 +++++++++++++-
 ansible/roles/whiskhost/tasks/deploy.yml           | 15 ++++++++++++
 ansible/roles/whiskhost/tasks/main.yml             | 15 ++++++++++++
 ansible/roles/whiskhost/tasks/patchKernel.yml      | 15 ++++++++++++
 ansible/roles/zookeeper/tasks/clean.yml            | 15 ++++++++++++
 ansible/roles/zookeeper/tasks/deploy.yml           | 15 ++++++++++++
 ansible/roles/zookeeper/tasks/main.yml             | 17 +++++++++++++-
 ansible/routemgmt.yml                              | 15 ++++++++++++
 ansible/setup.yml                                  | 15 ++++++++++++
 ansible/tasks/db/checkDb.yml                       | 15 ++++++++++++
 ansible/tasks/db/recreateDb.yml                    | 15 ++++++++++++
 ansible/tasks/db/recreateDoc.yml                   | 15 ++++++++++++
 ansible/tasks/docker_login.yml                     | 15 ++++++++++++
 ansible/tasks/initdb.yml                           | 15 ++++++++++++
 ansible/tasks/installOpenwhiskCatalog.yml          | 15 ++++++++++++
 ansible/tasks/recreateViews.yml                    | 15 ++++++++++++
 ansible/tasks/wipeDatabase.yml                     | 15 ++++++++++++
 ansible/tasks/writeWhiskProperties.yml             | 15 ++++++++++++
 ansible/teardown.yml                               | 15 ++++++++++++
 ansible/wipe.yml                                   | 15 ++++++++++++
 86 files changed, 1336 insertions(+), 39 deletions(-)

commit fa624b96dbb2da60f85bb133caea01ca1b220108
Author: Ying Chun Guo <guoyingc@cn.ibm.com>
Date:   Mon Apr 23 23:25:00 2018 +0800

    Add license headers (#3566)

 actionRuntimes/nodejs6Action/Dockerfile            |  1 -
 actionRuntimes/nodejs8Action/Dockerfile            |  1 -
 common/scala/Dockerfile                            | 18 +++++++++-
 core/controller/Dockerfile                         | 18 +++++++++-
 core/controller/init.sh                            |  3 ++
 core/invoker/Dockerfile                            | 16 +++++++++
 core/invoker/init.sh                               |  3 ++
 docs/README.md                                     | 19 ++++++++++-
 docs/about.md                                      | 19 ++++++++++-
 docs/actions.md                                    | 17 ++++++++++
 docs/annotations.md                                | 19 ++++++++++-
 docs/apigateway.md                                 | 17 ++++++++++
 docs/catalog.md                                    | 19 ++++++++++-
 docs/cli.md                                        | 17 ++++++++++
 docs/conductors.md                                 | 19 +++++++++--
 docs/deploy.md                                     | 17 ++++++++++
 docs/dev/configuration.md                          | 17 ++++++++++
 docs/dev/future.md                                 | 17 ++++++++++
 docs/feeds.md                                      | 17 ++++++++++
 docs/images/README.md                              | 19 ++++++++++-
 docs/logging.md                                    | 23 +++++++++++--
 docs/mesos.md                                      | 29 +++++++++++-----
 docs/metrics.md                                    | 25 +++++++++++---
 docs/mobile_sdk.md                                 | 23 +++++++++++--
 docs/packages.md                                   | 17 ++++++++++
 docs/parameters.md                                 | 17 ++++++++++
 docs/reference.md                                  | 17 ++++++++++
 docs/rest_api.md                                   | 17 ++++++++++
 docs/samples.md                                    | 19 ++++++++++-
 docs/spi.md                                        | 20 +++++++++--
 docs/triggers_rules.md                             | 17 ++++++++++
 docs/use_cases.md                                  | 25 +++++++++++---
 docs/webactions.md                                 | 39 ++++++++++++++++------
 performance/README.md                              | 17 ++++++++++
 .../src/gatling/resources/data/nodeJSAction.js     |  3 ++
 .../src/gatling/resources/data/pythonAction.py     |  3 ++
 .../src/gatling/resources/data/swiftAction.swift   |  3 ++
 performance/preparation/create.sh                  | 16 +++++++++
 performance/preparation/deploy.sh                  | 17 +++++++++-
 performance/wrk_tests/latency.sh                   | 16 +++++++++
 performance/wrk_tests/throughput.sh                | 16 +++++++++
 tools/vagrant/Vagrantfile                          | 15 +++++++++
 tools/vagrant/hello                                |  4 ++-
 tools/vagrant/hello.cmd                            |  3 ++
 44 files changed, 644 insertions(+), 50 deletions(-)

commit 6e45e26cd5c0f177d810e21870b4b9741f67c424
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Apr 19 18:07:03 2018 -0700

    add support for mesos attribute constraints when launching containers using MesosContainerFactory (#3559)

 common/scala/build.gradle                          |  2 +-
 common/scala/src/main/resources/application.conf   |  4 ++
 .../whisk/core/mesos/MesosContainerFactory.scala   | 41 +++++++++++++++--
 .../main/scala/whisk/core/mesos/MesosTask.scala    | 12 +++--
 docs/mesos.md                                      |  4 ++
 .../mesos/test/MesosContainerFactoryTest.scala     | 52 ++++++++++++----------
 6 files changed, 82 insertions(+), 33 deletions(-)

commit 0c6d25d9e1e996381c0cd118719e910f575aec27
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu Apr 19 11:19:46 2018 -0400

    increase vagrant disksize using plugin vagrant-disksize (#3561)

 tools/vagrant/README.md   | 8 --------
 tools/vagrant/Vagrantfile | 3 ++-
 tools/vagrant/hello       | 1 +
 tools/vagrant/hello.cmd   | 1 +
 4 files changed, 4 insertions(+), 9 deletions(-)

commit e9aa8e908da06719e501bffa2be6d82ff6f4e563
Author: Carlos Santana <csantanapr@apache.org>
Date:   Thu Apr 19 08:01:18 2018 -0400

    Fix vagrant not use runc (#3546)
    
    * fix vagrant to not use runc
    
    * setup gitattributes for auth files
    
    * address review comments for readme

 .gitattributes                              |   4 +
 .gitignore                                  |   1 +
 ansible/environments/vagrant/group_vars/all |  42 ++++++++++
 ansible/environments/vagrant/hosts          |  29 +++++++
 ansible/files/auth.guest                    |   2 +-
 ansible/files/auth.whisk.system             |   2 +-
 tools/ubuntu-setup/docker-xenial.sh         |   4 -
 tools/ubuntu-setup/docker.sh                |   3 -
 tools/vagrant/README.md                     | 119 +++++++++++++---------------
 tools/vagrant/Vagrantfile                   |  48 +++++++----
 10 files changed, 164 insertions(+), 90 deletions(-)

commit 220a3f4f00b329073dc5d102a2e1716316742d5c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Apr 19 06:21:41 2018 +0530

    MemoryArtifactStore for unit testing and ArtifactStore SPI Validation (#3517)
    
    Provides MemoryArtifactStore as an in-memory ArtifactStore implementation which can be used for unit testing and ArtifactStore SPI contract validation.
    
    CouchDB views determine which fields are included in returned document as part of query results. For non CouchDB cases this field list is defined by fieldsRequiredForView. ArtifactStore implementations can use it for projecting which fields should be included.
    
    CouchDB supports joins which is used for subject queries to fetch the limits. Most other NoSQL dbs do not support such joins. So for such cases transformViewResult can be used which would be responsible for performing the join. For it to work the ArtifactStore needs to provide an implementation of DocumentProvider which returns the raw json for a provided doc id.
    
    The MemoryViewMapper is an ArtifactStore implementation specific abstraction which converts the query keys passed to query to underlying storage query syntax. Each store implementation needs to have similar logic implemented to cover all possible scenarios from all the active views. Here the test suite plays an important role by validating that all query cases are covered.
    
    The added test suites need to be kept in sync with any change in view logic or addition of new views. Then only it can be ensured that other ArtifactStore implementation cover all the use cases as supported by default CouchDB. So going forward MemoryArtifactStore would become a canonical implementation of ArtifactStore contract.

 .../core/database/ArtifactStoreExceptions.scala    |   6 +
 .../whisk/core/database/CouchDbRestStore.scala     |  25 +-
 .../whisk/core/database/DocumentHandler.scala      | 463 ++++++++++++++++
 .../scala/whisk/core/database/StoreUtils.scala     |  68 +++
 .../core/database/memory/MemoryArtifactStore.scala | 351 ++++++++++++
 .../core/database/memory/MemoryViewMapper.scala    | 253 +++++++++
 .../core/cli/test/SequenceMigrationTests.scala     |   5 +
 .../core/controller/test/ActivationsApiTests.scala |  15 -
 .../core/database/CouchDBArtifactStoreTests.scala  |  50 ++
 .../database/memory/MemoryArtifactStoreTests.scala |  50 ++
 .../scala/whisk/core/database/test/DbUtils.scala   |   4 +
 .../core/database/test/DocumentHandlerTests.scala  | 594 +++++++++++++++++++++
 .../ArtifactStoreActivationsQueryBehaviors.scala   |  55 ++
 .../test/behavior/ArtifactStoreBehavior.scala      |  26 +
 .../test/behavior/ArtifactStoreBehaviorBase.scala  | 143 +++++
 .../test/behavior/ArtifactStoreCRUDBehaviors.scala | 162 ++++++
 .../behavior/ArtifactStoreQueryBehaviors.scala     | 229 ++++++++
 .../ArtifactStoreSubjectQueryBehaviors.scala       | 178 ++++++
 .../ArtifactStoreWhisksQueryBehaviors.scala        |  86 +++
 .../invoker/test/NamespaceBlacklistTests.scala     |   5 +
 20 files changed, 2730 insertions(+), 38 deletions(-)

commit b194ac535143d8837b96bc0ee081492096b12992
Author: Vincent <shou@us.ibm.com>
Date:   Wed Apr 18 11:15:06 2018 -0400

    Add the licenses of the subcomponents of openwhisk into LICENSE (#3550)
    
    This PR includes all the dependencies as they are found in all the
    build.gradle files, except for the ones under tests and
    performace/gatling_tests.
    
    Partially-closes: apache/incubator-openwhisk-release#109

 LICENSE.txt                                     | 207 +++++++++
 licenses/LICENSE-akka.txt                       | 212 +++++++++
 licenses/LICENSE-akkaalpakka.txt                |  15 +
 licenses/LICENSE-akkahttp.txt                   |  15 +
 licenses/LICENSE-apachecommonscodec.txt         | 201 +++++++++
 licenses/LICENSE-apachecommonscollections.txt   | 201 +++++++++
 licenses/LICENSE-apachecommonsio.txt            | 201 +++++++++
 licenses/LICENSE-apachehttpcomponentsclient.txt | 558 ++++++++++++++++++++++++
 licenses/LICENSE-caffeine.txt                   | 201 +++++++++
 licenses/LICENSE-curatorrecipes.txt             | 201 +++++++++
 licenses/LICENSE-javauuidgenerator.txt          | 201 +++++++++
 licenses/LICENSE-jsr305.txt                     |   8 +
 licenses/LICENSE-kamoncore.txt                  |  15 +
 licenses/LICENSE-kamonstatsd.txt                |  15 +
 licenses/LICENSE-kubernetesclient.txt           | 201 +++++++++
 licenses/LICENSE-logbackclassic.txt             |  14 +
 licenses/LICENSE-mesosactor.txt                 | 201 +++++++++
 licenses/LICENSE-pureconfig.txt                 | 362 +++++++++++++++
 licenses/LICENSE-scala.txt                      |  30 ++
 licenses/LICENSE-slf4j.txt                      |  21 +
 licenses/LICENSE-sprayjson.txt                  | 201 +++++++++
 licenses/LICENSE-zookeeper.txt                  | 201 +++++++++
 22 files changed, 3482 insertions(+)

commit 866990eefc1418e1a8775b05fca34031a6b096b6
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Apr 18 16:05:57 2018 +0200

    Add gatling-based latency test. (#3556)

 .travis.yml                                        |   1 +
 performance/README.md                              |  30 +++++++
 performance/gatling_tests/build.gradle             |   6 +-
 .../src/gatling/resources/data/javaAction.jar      | Bin 0 -> 1060 bytes
 .../src/gatling/resources/data/javaAction.java     |  40 +++++++++
 .../src/gatling/resources/data/nodeJSAction.js     |   5 ++
 .../src/gatling/resources/data/pythonAction.py     |   9 ++
 .../src/gatling/resources/data/swiftAction.swift   |   9 ++
 .../src/gatling/scala/LatencySimulation.scala      |  97 +++++++++++++++++++++
 .../extension/whisk/OpenWhiskActionBuilder.scala   |  90 ++++++++++++++++++-
 10 files changed, 283 insertions(+), 4 deletions(-)

commit 166189a8f15c99d9237e7020865a34c5bc92a0c2
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Apr 18 00:23:10 2018 +0200

    Implement possibility to discover cluster nodes via Akka Management. (#3548)
    
    * Implement possibility to discover cluster nodes via Akka Management.
    
    Akka Management makes it possible to discover cluster nodes via a cluster API (like Kubernetes or Mesos). This also cleans up the way we provide seed-nodes if static configuration is required.
    
    Co-authored-by: Tyson Norris <tnorris@adobe.com>
    
    * Remove unneeded SeedNodesProvider.
    
    * Documentation.

 ansible/roles/controller/tasks/deploy.yml          | 39 ++++++++------
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 +
 core/controller/build.gradle                       |  3 ++
 .../controller/src/main/resources/application.conf |  2 -
 core/controller/src/main/resources/reference.conf  |  3 ++
 .../core/loadBalancer/SeedNodesProvider.scala      | 41 ---------------
 .../ShardingContainerPoolBalancer.scala            | 24 ++++++---
 docs/deploy.md                                     |  7 +++
 .../loadBalancer/test/SeedNodesProviderTests.scala | 61 ----------------------
 9 files changed, 54 insertions(+), 127 deletions(-)

commit 1104b3f92cf9329ba31181a6a6ef0388f7022349
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Apr 17 16:12:30 2018 +0200

    Update akka to 2.5.12 and akka-http to 10.1.1. (#3495)
    
    The newest akka-http contains a new connection-pool implementation which we can make use of to stabilize our akka-http based clients (most notably couchdb).

 common/scala/build.gradle                                    | 12 ++++++------
 .../src/main/scala/whisk/core/entity/ArgNormalizer.scala     |  8 ++------
 core/controller/build.gradle                                 |  1 -
 tests/build.gradle                                           |  5 ++---
 tests/src/test/scala/common/BaseWsk.scala                    |  4 +---
 tests/src/test/scala/common/rest/WskRest.scala               |  3 ---
 tests/src/test/scala/system/basic/WskActionTests.scala       |  2 --
 tests/src/test/scala/system/basic/WskBasicSwift3Tests.scala  |  4 +---
 tests/src/test/scala/system/basic/WskConductorTests.scala    |  2 --
 tests/src/test/scala/system/basic/WskConsoleTests.scala      |  5 ++---
 tests/src/test/scala/system/rest/ActionSchemaTests.scala     |  4 +---
 tests/src/test/scala/system/rest/RestUtil.scala              |  4 +---
 tests/src/test/scala/whisk/core/cli/test/Swift311Tests.scala |  4 ++--
 .../scala/whisk/core/connector/test/MessageFeedTests.scala   |  8 ++++----
 .../whisk/core/containerpool/test/ContainerPoolTests.scala   |  6 +++---
 .../whisk/core/database/test/CleanUpActivationsTest.scala    |  3 +--
 .../whisk/core/entity/test/ActivationResponseTests.scala     |  3 +--
 17 files changed, 27 insertions(+), 51 deletions(-)

commit fb60baf0fb523f64409632a0460d50103b4f8111
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Apr 16 13:12:37 2018 +0200

     Bump timeout for creating a container to 60 seconds in tests. (#3551)
    
    * Bump timeout for creating a container to 60 seconds in tests.
    
    On very busy machines, creating a container can take quite long. For the sake of testing, its of no use to fail the test on a relatively tight timeout. Bumping this to 60 seconds should not harm the tests significance.
    
    * Style cleanup of that test file.

 .../scala/actionContainers/ActionContainer.scala   | 57 ++++++++++------------
 1 file changed, 26 insertions(+), 31 deletions(-)

commit a8b3c0f4b567d6a41116a9c501413c8c3042d400
Author: Eric Weiterman <eweiter@us.ibm.com>
Date:   Fri Apr 13 17:05:06 2018 -0400

    bump nodejs6 from 6.14.0 -> 6.14.1, nodejs8 from 8.11.0 -> 8.11.1 (#3549)

 actionRuntimes/nodejs6Action/Dockerfile | 2 +-
 actionRuntimes/nodejs8Action/Dockerfile | 2 +-
 docs/reference.md                       | 8 ++++----
 3 files changed, 6 insertions(+), 6 deletions(-)

commit d99a2729467e31157bc362154e6955e819d30c87
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Apr 13 13:58:22 2018 +0200

    Remove bookkeeping setting which is no longer applicable. (#3547)
    
    This is essentially a leftover of the removal of the old loadbalancer.

 ansible/roles/controller/tasks/deploy.yml                             | 1 -
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala              | 2 --
 .../scala/whisk/core/loadBalancer/ShardingContainerPoolBalancer.scala | 4 +---
 docs/deploy.md                                                        | 4 ++--
 4 files changed, 3 insertions(+), 8 deletions(-)

commit 56891fbeb1ca306b4685396f13f07cb4b60a3022
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Apr 13 10:16:38 2018 +0200

    Add gatling as performance test suite. (#3526)
    
    Adds an initial gatling based performance test, including a framework to talk to the OpenWhisk API in a declarative way.
    
    This first implementation only asserts /api/v1 performance, which can be helpful to measure general network/router performance.
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>

 .travis.yml                                        |  1 +
 performance/README.md                              | 44 +++++++++++---
 performance/gatling_tests/build.gradle             | 19 ++++++
 .../src/gatling/resources/conf/logback.xml         | 14 +++++
 .../src/gatling/scala/ApiV1Simulation.scala        | 51 ++++++++++++++++
 .../extension/whisk/OpenWhiskActionBuilder.scala   | 38 ++++++++++++
 .../scala/extension/whisk/OpenWhiskDsl.scala       | 26 +++++++++
 .../extension/whisk/OpenWhiskProtocolBuilder.scala | 67 ++++++++++++++++++++++
 .../src/gatling/scala/extension/whisk/Predef.scala | 20 +++++++
 performance/preparation/deploy.sh                  |  1 +
 settings.gradle                                    |  1 +
 11 files changed, 275 insertions(+), 7 deletions(-)

commit d7c9fd661a8a5b339f20b3f549bfa4fa47124706
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Fri Apr 13 01:10:44 2018 -0700

    Implement ContainerFactory.cpuShare to calculate per container share. (#3211)
    
    Fixes #3110.

 ansible/roles/invoker/tasks/deploy.yml             |   6 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   8 +-
 .../core/containerpool/ContainerFactory.scala      |  20 +++-
 .../whisk/core/mesos/MesosContainerFactory.scala   |   5 +-
 core/invoker/src/main/resources/application.conf   |  12 +-
 .../whisk/core/containerpool/ContainerPool.scala   |  19 ++--
 .../whisk/core/containerpool/ContainerProxy.scala  |  14 ++-
 .../docker/DockerContainerFactory.scala            |  46 +++++---
 .../kubernetes/KubernetesContainerFactory.scala    |   3 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   6 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  19 ++--
 tests/src/test/scala/common/LoggedFunction.scala   |  10 ++
 .../docker/test/DockerContainerFactoryTests.scala  | 122 +++++++++++++++++++++
 .../mesos/test/MesosContainerFactoryTest.scala     |  38 +++++--
 .../test/ContainerArgsConfigTest.scala             |   6 +-
 .../containerpool/test/ContainerPoolTests.scala    |  29 +++--
 .../containerpool/test/ContainerProxyTests.scala   |  54 ++++++---
 17 files changed, 315 insertions(+), 102 deletions(-)

commit 2ca01de39972c69c2f201b93bae3b6be745d2eb8
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Apr 13 02:21:02 2018 -0400

    Add activation logs integration test. (#3537)

 .../scala/system/basic/WskActivationTests.scala    | 57 ++++++++++++++++++++++
 .../system/basic/WskRestActivationTests.scala      | 28 +++++++++++
 2 files changed, 85 insertions(+)

commit caeb580a3bea2fc17bd0f70b6c1cfac1c25145a7
Author: David Cariello <drcariel@us.ibm.com>
Date:   Thu Apr 12 14:46:47 2018 -0500

    More test clean up (#3531)
    
    * rename select tests to reflect Rest testing and some util cleanup
    
    * fix duplicate function declarations

 tests/build.gradle                                                 | 4 ++--
 tests/src/test/scala/common/Wsk.scala                              | 2 +-
 tests/src/test/scala/common/WskTestHelpers.scala                   | 2 ++
 tests/src/test/scala/system/basic/WskConsoleTests.scala            | 5 -----
 .../system/basic/{WskBasicTests.scala => WskRestBasicTests.scala}  | 7 +------
 tests/src/test/scala/system/basic/WskRuleTests.scala               | 5 -----
 .../core/cli/test/{ApiGwTests.scala => ApiGwRestBasicTests.scala}  | 2 +-
 tests/src/test/scala/whisk/core/cli/test/ApiGwRestTests.scala      | 2 +-
 .../{WskBasicUsageTests.scala => WskRestBasicUsageTests.scala}     | 2 +-
 9 files changed, 9 insertions(+), 22 deletions(-)

commit 408d6f062d1af94f8f7153dc874a1c621d095d22
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Apr 12 13:19:00 2018 -0400

    Code clean up in test suites (#3538)
    
    Removes improper usage of regex and """.

 .../test/scala/system/basic/WskBasicTests.scala    | 40 +++++++++++-----------
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  6 ++--
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 18 +++++-----
 .../core/cli/test/WskRestEntitlementTests.scala    |  4 +--
 5 files changed, 35 insertions(+), 35 deletions(-)

commit c7271e219bfcbf0aacf1e562fe99b792aa30da64
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Apr 10 12:55:02 2018 -0400

    --web-secure option doc update (#3535)

 docs/webactions.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit 70db77c19425f6f2938ed12a40a3b0cb886d5ebf
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Apr 6 08:31:07 2018 +0200

    Add build matrix to execute performance tests. (#3527)

 .travis.yml                       | 22 ++++++++++++++++++----
 performance/.travis.yml           | 14 --------------
 performance/preparation/deploy.sh | 18 ++++++++----------
 tools/travis/build.sh             |  3 ---
 4 files changed, 26 insertions(+), 31 deletions(-)

commit b7f37b6d84b461b2af9bddaca7667c91350b3fd0
Author: David Cariello <drcariel@us.ibm.com>
Date:   Thu Apr 5 12:24:12 2018 -0500

    Move select tests to Rest extension (#3528)

 .../test/scala/system/basic/WskActionTests.scala   | 10 -------
 .../scala/system/basic/WskRestActionTests.scala    | 12 ++++++++
 .../test/scala/system/basic/WskRestRuleTests.scala | 35 ++++++++++++++++++++++
 .../src/test/scala/system/basic/WskRuleTests.scala | 31 -------------------
 4 files changed, 47 insertions(+), 41 deletions(-)

commit 6b17f8813ecbccea0b38a7d0a561ef5c174dfb9a
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Apr 5 09:36:50 2018 -0400

    Allow spaces in when generating keystore and certificates (#3520)

 ansible/files/genssl.sh | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit f32461841ef9d27d5667f5920cc95192fc3f1914
Author: David Cariello <drcariel@us.ibm.com>
Date:   Wed Apr 4 13:12:22 2018 -0500

    Move CLI node tests to CLI repo and sync Node.js default tests (#3503)
    
    * move CLI node tests to CLI repo and sync node default tests
    
    * remove duplicate tests
    
    * move appropriate rest tests from base to rest extention
    
    * merge duplicate tests and implement cli flag to handle different cases
    
    * use wsk test json helper in action test as well
    
    * override whisk config in rest requence tests
    
    * move whiskConfig assert to extension

 .../test/scala/system/basic/WskActionTests.scala   |  3 +-
 .../system/basic/WskBasicNodeDefaultTests.scala    | 32 ++++++++++++++++++++++
 .../scala/system/basic/WskCliBasicNode6Tests.scala | 28 -------------------
 .../scala/system/basic/WskCliBasicNode8Tests.scala | 28 -------------------
 .../system/basic/WskCliBasicNodeDefaultTests.scala | 28 -------------------
 .../scala/system/basic/WskRestSequenceTests.scala  |  3 ++
 .../src/test/scala/system/basic/WskRuleTests.scala | 22 +++++----------
 .../test/scala/system/basic/WskSequenceTests.scala |  3 +-
 8 files changed, 45 insertions(+), 102 deletions(-)

commit 55b12e9f17bb8db2e44d604468cac6f0ebb88a7b
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Wed Apr 4 10:04:28 2018 +0800

    update notice file

 NOTICE.md  |  5 -----
 NOTICE.txt | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 48 insertions(+), 5 deletions(-)

commit f3f1cb9171e0b95a27ac8f43dd8eafd5bce2f938
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Apr 4 15:55:05 2018 +0200

    Move performance repository to core repository. (#3475)
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>
    Co-authored-by: Jeremias Werner <jeremias.werner@gmail.com>
    Co-authored-by: Alexandre Nicastro <kryndex@gmail.com>

 performance/.travis.yml             | 14 ++++++++++++++
 performance/README.md               | 33 +++++++++++++++++++++++++++++++++
 performance/preparation/create.sh   | 17 +++++++++++++++++
 performance/preparation/deploy.sh   | 25 +++++++++++++++++++++++++
 performance/wrk_tests/latency.sh    | 12 ++++++++++++
 performance/wrk_tests/post.lua      |  1 +
 performance/wrk_tests/throughput.sh | 31 +++++++++++++++++++++++++++++++
 7 files changed, 133 insertions(+)

commit 39eabde3be4180fd0fa534a5995a18f0cc54fbff
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Apr 3 19:08:00 2018 -0400

    Fix wrong Ansible version for docker-machine setup (#3521)

 tools/macos/docker-machine/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f64722498bc2f5eadc356b3ae26ebb85de1bcdbf
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Apr 3 16:57:24 2018 +0200

    Remove deprecated loadbalancer. (#3413)

 .../core/loadBalancer/ContainerPoolBalancer.scala  | 356 ---------------------
 .../loadBalancer/DistributedLoadBalancerData.scala |  90 ------
 .../whisk/core/loadBalancer/LoadBalancer.scala     |   3 +
 .../whisk/core/loadBalancer/LoadBalancerData.scala |  86 -----
 .../core/loadBalancer/LocalLoadBalancerData.scala  |  76 -----
 .../ShardingContainerPoolBalancer.scala            |  38 ++-
 .../core/loadBalancer/SharedDataService.scala      |  98 ------
 .../test/ContainerPoolBalancerObjectTests.scala    | 164 ----------
 .../loadBalancer/test/LoadBalancerDataTests.scala  | 295 -----------------
 .../test/ShardingContainerPoolBalancerTests.scala  |  17 +
 .../loadBalancer/test/SharedDataServiceTests.scala |  81 -----
 11 files changed, 53 insertions(+), 1251 deletions(-)

commit 928bed4798d301cdeba60eca788dca66c4e49592
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Tue Apr 3 08:54:25 2018 -0400

    Ansible image name overrides and bump NGinx to 1.12. (#3363)
    
    This is an incremental implementation of #3133 to reduce risk and complexity as we implement multi-architecture OpenWhisk. This PR includes these changes:
    
    Add the ability to override image names to the ansible playbooks -- in support of overrides of images for multi-platform deployments.
    Bump Nginx version to 1.12 -- latest stable version, available as a multi-platform manifest from DockerHub (current Nginx 1.11 is not).
    Move responsiblity for docker pull to the docker module, reducing ansible steps and complexity -- improved maintainability.

 ansible/group_vars/all                    |  2 +-
 ansible/roles/apigateway/tasks/deploy.yml | 12 ++++--------
 ansible/roles/couchdb/tasks/deploy.yml    | 14 +++++++-------
 ansible/roles/kafka/tasks/deploy.yml      | 14 +++++++-------
 4 files changed, 19 insertions(+), 23 deletions(-)

commit bbb5c5802fd12830d7a87b973c9794d3a3d17ffd
Author: Brendan McAdams <brendan@bytes.codes>
Date:   Tue Apr 3 05:50:09 2018 -0700

    Changed hardcoded timeouts for idle containers and pause grace to config entries. (#3471)
    
    Fixes #3470

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala      |  4 ++++
 core/invoker/src/main/resources/application.conf              |  9 +++++++++
 .../main/scala/whisk/core/containerpool/ContainerProxy.scala  | 11 +++++++++--
 3 files changed, 22 insertions(+), 2 deletions(-)

commit af08fd3ab9bf07e6a8f5716467f57bab909410c6
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Tue Apr 3 18:53:04 2018 +0800

    Make rev in BulkEntityResult optional. (#3512)
    
    If the returned value contains an error (for example a "conflict"), there won't be a revision, hence the json deserialization fails.
    
    Fixes #3511

 common/scala/src/main/scala/whisk/core/entity/DocInfo.scala | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 5568bf59f2936e4b64256048bd1c89f4d22119a7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Apr 3 14:14:59 2018 +0530

    Move controller config to reference.conf. (#3490)
    
    Fixes #3482 by moving the config to reference.conf such that it can be
    overridden in application.conf in test in deterministic way.

 core/controller/src/main/resources/application.conf | 10 ----------
 core/controller/src/main/resources/reference.conf   | 10 ++++++++++
 2 files changed, 10 insertions(+), 10 deletions(-)

commit cb601327568a54721b3ccc5cff8b881e993eb388
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Apr 3 03:18:11 2018 -0400

    Add ElasticSearchLogStore. (#3421)
    
    Provides a log store that allows logs to be fetched from ElasticSearch.

 .../src/main/scala/whisk/core/WhiskConfig.scala    |   1 +
 .../logging/ElasticSearchLogStore.scala            | 121 +++++++++++
 .../logging/ElasticSearchRestClient.scala          | 178 ++++++++++++++++
 .../main/scala/whisk/http/PoolingRestClient.scala  |  18 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |   8 +-
 .../logging/ElasticSearchLogStoreTests.scala       | 211 +++++++++++++++++++
 .../logging/ElasticSearchRestClientTests.scala     | 223 +++++++++++++++++++++
 7 files changed, 755 insertions(+), 5 deletions(-)

commit f2a8d69aea6db1ec4d7b8b5c45912a37e098264e
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Apr 2 18:01:43 2018 +0200

    Only join cluster if seed nodes are provided. (#3422)

 .../ShardingContainerPoolBalancer.scala            | 22 +++++++++++++---------
 1 file changed, 13 insertions(+), 9 deletions(-)

commit ad57246004bf459c46f24dd6d7e3265eabd0d39e
Author: jiangpch <jiangpengcheng@navercorp.com>
Date:   Mon Apr 2 23:52:50 2018 +0800

    Wrap producer.send with Future (#3459)

 .../whisk/connector/kafka/KafkaProducerConnector.scala   | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit d02f222c7d7433de0b7ea1b8d55521089aedb0d6
Author: Carlos Santana <csantanapr@apache.org>
Date:   Sat Mar 31 20:28:37 2018 -0400

    update nodejs 6.14.0. 8.11.0 npm openwhisk 3.14 (#3510)
    
    * update nodejs 6.14.0. 8.11.0 npm openwhisk 3.14

 actionRuntimes/nodejs6Action/Dockerfile |  2 +-
 actionRuntimes/nodejs8Action/Dockerfile |  2 +-
 docs/reference.md                       | 20 ++++++++++----------
 3 files changed, 12 insertions(+), 12 deletions(-)

commit f827d90bd7093ec189337ff20c746bdf12281544
Author: Carlos Santana <csantanapr@apache.org>
Date:   Fri Mar 30 21:05:39 2018 -0400

    Bump swift 4.1 to latest release (#3509)

 actionRuntimes/swift4.1Action/Dockerfile |  2 +-
 docs/actions.md                          | 16 +++++++++++-----
 tools/build/compile_swift.sh             |  8 +++++++-
 tools/travis/build.sh                    |  2 +-
 4 files changed, 20 insertions(+), 8 deletions(-)

commit 0b20df0f725a671f8e51c9e8793116476fd22f76
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Mar 28 13:30:29 2018 +0200

    Configure the number of network threads for kafka (#3494)

 ansible/group_vars/all               | 2 ++
 ansible/roles/kafka/tasks/deploy.yml | 1 +
 2 files changed, 3 insertions(+)

commit 51f8c1820c122cf7353039029c0496e948d32f01
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed Mar 28 12:55:49 2018 +0200

    Action time limit test refactoring and cleanup. (#3485)
    
    * Added variations where the requested timeout and memory size limit is slightly above the maximum allowed limit to detect fuzzy constraint checking. In the past, values were much higher than allowed for negative tests.
    * Move action creation tests verifying that creation is allowed/rejected depending on specified limits from `WskBasicUsageTests` suite to `ActionLimitsTests` suite. Said tests fit better into the limits test suite.
    * Improve automated test naming so that the meaning of limit values can easily be spotted, i.e. which category it belongs to: minimum, standard, maximum, below minimum, above maximum, other.
    
    * Before this change, the test used Python and Java actions with a fixed sleep time. With this approach, the test may fail if the default maximum timeout limit setting is changed. Introducing new test actions `sleep.jar` (Java including source) and `sleep.py` (Python) which sleep as many milliseconds as specified during invocation.
    
    * `timeout.js` has been replaced by `sleep.js`.
    * `timedout.py` has been replaced by `sleep.py`.
    * `timedout.jar` has been replaced by `sleep.jar`. `TimedOut.java` is the Java source file for `timedout.jar`.
    * Use CPU-friendly `sleep.js` action instead of CPU-intensive `timeout.js` action

 tests/dat/actions/Sleep.java                       |  52 +++++++
 tests/dat/actions/TimedOut.java                    |  24 ---
 tests/dat/actions/sleep.jar                        | Bin 0 -> 1167 bytes
 tests/dat/actions/sleep.js                         |  40 +++++
 tests/dat/actions/sleep.py                         |  21 +++
 tests/dat/actions/timedout.jar                     | Bin 771 -> 0 bytes
 tests/dat/actions/timedout.py                      |   7 -
 tests/dat/actions/timeout.js                       |  18 ---
 tests/src/test/scala/limits/ThrottleTests.scala    |  12 +-
 .../test/scala/system/basic/WskBasicTests.scala    |  14 +-
 .../test/scala/system/basic/WskSequenceTests.scala |  14 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  59 --------
 .../whisk/core/limits/ActionLimitsTests.scala      | 161 ++++++++++++++++++---
 .../whisk/core/limits/MaxActionDurationTests.scala |  73 ++++++----
 14 files changed, 319 insertions(+), 176 deletions(-)

commit 08d1c785cdc67e869a86ca8df14c76a927cdc753
Author: ningyougang <415622920@qq.com>
Date:   Mon Mar 26 20:10:05 2018 +0800

    Add -o option to overwrite target files (#3442)
    
    Use -o option to overwrite files when unzipping to avoid collision.

 ansible/roles/cli/tasks/deploy.yml   | 2 +-
 ansible/roles/kafka/tasks/deploy.yml | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 5017bfbc23b7b768edcd7b9f70b74d0ab121b40f
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Mon Mar 26 20:02:30 2018 +0800

    Support string based status code from actions. (#3473)
    
    Add an additional option to parse status code from string to int, throws
    out illegal code if parsing failed. Adds relevant tests.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 .../src/main/scala/whisk/core/controller/WebActions.scala |  9 ++++++---
 .../whisk/core/controller/test/WebActionsApiTests.scala   | 15 +++++++++++++++
 2 files changed, 21 insertions(+), 3 deletions(-)

commit 70dd20452fec0c7d40681584a117521f94803ee4
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Mar 26 17:29:07 2018 +0530

    Script to generate IntelliJ Run Configuration for Controller and Invoker (#3306)
    
    Script which generates the run configuration for Controller and Invoker
    to enable launching them from within IDE. The env file may also be
    reused in docker-compose.
    
    It dumps 3 files
    * build/env/whisk-common.env - Env values common to invoker and controller
    * build/env/whisk-invoker.env - Env values specific to invoker
    * build/env/whisk-controller.env - Env values specific to controller

 .gitignore                                         |   3 +
 tools/dev/README.md                                |  69 ++++++
 tools/dev/build.gradle                             |  13 +-
 tools/dev/src/main/groovy/intellijRunConfig.groovy | 247 +++++++++++++++++++++
 4 files changed, 331 insertions(+), 1 deletion(-)

commit e2c1004c2ea36b217d39663f6a3cc2941caa0008
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Mar 26 07:57:15 2018 -0400

    Ansible 2.4 deprecates ‘include’ in favor of ‘import_*’ and ‘include_tasks’ (#3457)
    
    * Replace include with import_playbook, import_tasks, and include_tasks to eliminate ansible 2.4 warnings
    
    * Remove nested import from initdb.yml and wipeDatabase.yml

 ansible/initdb.yml                        |  2 +-
 ansible/logs.yml                          |  2 +-
 ansible/openwhisk.yml                     | 10 +++++-----
 ansible/postdeploy.yml                    |  6 +++---
 ansible/properties.yml                    |  2 +-
 ansible/provision_env_dist.yml            |  2 +-
 ansible/recreateDesignDocs.yml            |  2 +-
 ansible/registry.yml                      |  4 ++--
 ansible/roles/apigateway/tasks/main.yml   |  4 ++--
 ansible/roles/cli-install/tasks/main.yml  |  4 ++--
 ansible/roles/cli/tasks/main.yml          |  4 ++--
 ansible/roles/controller/tasks/deploy.yml |  4 ++--
 ansible/roles/controller/tasks/main.yml   |  4 ++--
 ansible/roles/couchdb/tasks/main.yml      |  4 ++--
 ansible/roles/docker/tasks/main.yml       |  4 ++--
 ansible/roles/invoker/tasks/deploy.yml    |  4 ++--
 ansible/roles/invoker/tasks/main.yml      |  4 ++--
 ansible/roles/kafka/tasks/main.yml        |  4 ++--
 ansible/roles/nginx/tasks/main.yml        |  4 ++--
 ansible/roles/prereq/tasks/main.yml       |  4 ++--
 ansible/roles/redis/tasks/main.yml        |  4 ++--
 ansible/roles/registry/tasks/main.yml     |  4 ++--
 ansible/roles/routemgmt/tasks/main.yml    |  4 ++--
 ansible/roles/whiskhost/tasks/deploy.yml  |  4 ++--
 ansible/roles/whiskhost/tasks/main.yml    |  4 ++--
 ansible/roles/zookeeper/tasks/main.yml    |  4 ++--
 ansible/routemgmt.yml                     |  2 +-
 ansible/tasks/initdb.yml                  |  6 +++---
 ansible/tasks/recreateViews.yml           |  4 ++--
 ansible/tasks/wipeDatabase.yml            |  6 +++---
 ansible/wipe.yml                          |  2 +-
 31 files changed, 61 insertions(+), 61 deletions(-)

commit 4c84f1a629601ca818564f086866708a8ca06140
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Mar 23 14:57:39 2018 +0100

    Retry in feed tests to avoid race condition. (#3480)

 tests/src/test/scala/whisk/core/cli/test/WskEntitlementTests.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit d3edce592e877eb5b9fb8096a7e54e98b323ef8f
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Mar 23 02:13:45 2018 -0400

    update TravisCI webhook to connect to openwhisk-team.slack.com (#3484)

 .travis.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 1b786d9c5145b8fbd076aa2449210bbdade81a41
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Mar 22 12:40:02 2018 -0400

    Makes wskadmin python2 and python3 compatible (#3479)
    
    * Python2/3 compatibility.
    
    * Replace encodestring for p2/3 compat.
    
    * Replace filter for 2/3 compat.
    
    * Compare to python version major directly.

 tools/admin/wskadmin   | 17 ++++++++++-------
 tools/admin/wskutil.py | 20 +++++++++++++-------
 2 files changed, 23 insertions(+), 14 deletions(-)

commit 2fc734bccc25af0eb9458dc9a5671226a4138920
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Mar 21 18:17:41 2018 -0400

    Remove deadcode and clone/own. (#3478)

 tests/src/test/scala/common/rest/WskRest.scala | 93 +++-----------------------
 1 file changed, 9 insertions(+), 84 deletions(-)

commit dfd20d84329f18b5fde03d21bbe07b4e8c00f6ec
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Wed Mar 21 13:57:09 2018 -0700

    CLI docs update and markdown linting. (#3435)
    
    * CLI docs update and markdown linting.
    
    * Added a link to additional CLI docs

 ansible/README.md | 48 ++++++++++++++++++++++++++++++++++--------------
 1 file changed, 34 insertions(+), 14 deletions(-)

commit 92410010d3582d6757827b21adfef334b6ea8020
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Thu Mar 22 03:13:05 2018 +0800

    Ensure clean up testspace under wskadmin test. (#3474)
    
    Fix up testsuite `block and unblock a user respectively` fails when
    `testspace` contains pre-existing users.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 .../test/scala/whisk/core/admin/WskAdminTests.scala  | 20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit e11f62f61ac5e90cf4cd3cf19b4588a63f6b655b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Mar 21 14:10:13 2018 -0400

    Add wsk action get to CLI docs (#3464)
    
    * Add wsk action get to CLI docs
    
    * Reorganize URL fetching and saving action code around action get section
    
    * Add --url caveat regarding web actions

 docs/actions.md | 110 +++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 74 insertions(+), 36 deletions(-)

commit a72ee3e3b0f300dd71fc87fc4ad2be83b2acf8bd
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Mar 21 13:32:10 2018 +0100

    Fix several loadbalancer bugs. (#3451)
    
    1. `padTo` (used when generating the list of semaphores for all invokers) does not recompute the value each time it adds an element to the underlying list. That resulted in **all** invokers-state being backed by the same Semaphore and thus not doing anything properly really.
    
    2. The stepsizes need to be calculated for the list of invokers they are used to step to. Therefore we need a seperate list of step-sizes for the managed and the blackbox invoker list.
    
    3. The assumption should be, that we freed our resources (and thus updated the state) **before** we return the request to the user. A minor change in code order is warranted here.
    
    4. In the overload case we need to take the index we want to schedule to out of the `healthyInvokers` list, rather than using the `random` value directly. The `healthyInvokers` list might be shorter/in a different order than the list of all underlying invokers.
    
    Furthermore, this adds a useful metric to determine (from the loadbalancers point-of-view) how many activations are currently running in the system. That can be used to determine overall system utilization.
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>

 .../src/main/scala/whisk/common/Logging.scala      | 11 ++--
 .../ShardingContainerPoolBalancer.scala            | 59 ++++++++++++++--------
 .../test/ShardingContainerPoolBalancerTests.scala  | 11 ++--
 3 files changed, 51 insertions(+), 30 deletions(-)

commit c127f62c6ab5b2e9dc4fc3722ff50e94bb4dfcc1
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Mar 20 18:31:47 2018 -0400

    Remove email address (#3472)

 tests/src/test/scala/whisk/core/cli/test/ApiGwTests.scala | 2 --
 1 file changed, 2 deletions(-)

commit 8fb3a6fda1700b8cde1de300492b1461a176df15
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Mar 19 23:21:57 2018 -0400

    Create '_users' database for singleton ephemeral couchdb v 2+ (#3402)

 ansible/roles/couchdb/tasks/deploy.yml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 6649dc6ea367f515d0973a23000495ae673e6a4d
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Mon Mar 19 23:12:58 2018 -0400

    Ignore controller Certificate Signing Requests in git (#3456)

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit f68df3eedd6507a666465983d803443432528d5b
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Mar 19 19:51:17 2018 -0700

    Adds a container factor MesosContainerFactory for Mesos. (#2833)

 common/scala/build.gradle                          |   2 +
 common/scala/src/main/resources/application.conf   |   8 +
 common/scala/src/main/resources/reference.conf     |   2 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 +
 .../whisk/core/mesos/MesosContainerFactory.scala   | 170 +++++++++++++
 .../main/scala/whisk/core/mesos/MesosTask.scala    | 180 +++++++++++++
 docs/mesos.md                                      |  47 ++++
 .../mesos/test/MesosContainerFactoryTest.scala     | 279 +++++++++++++++++++++
 8 files changed, 689 insertions(+), 1 deletion(-)

commit 411f6daabe1d1bcd03a62e56ebe6550f5e82363b
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Tue Mar 20 10:39:04 2018 +0800

    Ensure java8 is installed instead of 9 (#3460)
    
    Currently, java8 is no longer the default `current` version in brew cask.
    Use `alternative` version for java8 now.
    
    Signed-off-by: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>

 tools/macos/README.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit b78187e2716f0942635ed51c4a035b3425145129
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Mar 19 14:41:19 2018 -0400

    swagger update (#3463)

 core/controller/src/main/resources/apiv1swagger.json | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit af31d401fa28350eb890ce3219179d2728d5e8dd
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Mar 19 10:10:18 2018 -0400

    bump dockerskeleton to pick up curl and wget 1.2.0 (#3404)

 actionRuntimes/actionProxy/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd35df55b758c5a1d4a0ce443a4e749356c05410
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Mar 19 09:57:15 2018 -0400

    Code clean up (#3449)

 ansible/roles/controller/tasks/deploy.yml                  | 12 ++++++------
 tests/src/test/scala/common/rest/WskRest.scala             |  2 +-
 tests/src/test/scala/system/basic/WskRuleTests.scala       |  2 +-
 .../scala/whisk/core/connector/test/MessageFeedTests.scala | 13 +++++++------
 .../whisk/core/controller/test/ControllerApiTests.scala    |  2 +-
 .../whisk/core/controller/test/WhiskAuthHelpers.scala      | 14 ++++++++------
 6 files changed, 24 insertions(+), 21 deletions(-)

commit 2d055dcfa72b86f50dac6b3a5d372430189c0000
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Sat Mar 17 23:36:56 2018 -0400

    wsk test framework update to support --web-secure cli option (#3455)

 tests/src/test/scala/common/BaseWsk.scala      | 1 +
 tests/src/test/scala/common/Wsk.scala          | 5 +++++
 tests/src/test/scala/common/rest/WskRest.scala | 1 +
 3 files changed, 7 insertions(+)

commit f6b855dc05903d8220da09f0a7e47232c14035f8
Author: Tzu-Chiao Yeh <su3g4284zo6y7@gmail.com>
Date:   Sat Mar 17 23:21:42 2018 +0800

    Fix outdated `limit section` in ansible doc (#3445)
    
    Update the outdated default value of limits. Also, remove the unused
    section of environment/mac/group_vars/all, the detailed description in each feild is now pointed to the default group_vars.

 ansible/README.md | 23 ++++++++---------------
 1 file changed, 8 insertions(+), 15 deletions(-)

commit 617ffbb868e203d707dceefbf8c80fe062f6532b
Author: Martin Henke <martin.henke@web.de>
Date:   Sat Mar 17 13:48:20 2018 +0100

    add quotes to avoid parsing errors (#3452)

 tests/src/test/resources/application.conf.j2 | 18 +++++++++---------
 1 file changed, 9 insertions(+), 9 deletions(-)

commit 5a0b6155ff3f509e80d801ec7efa100ad42e6c15
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Mar 16 18:56:50 2018 +0100

    Generate keystore without generating certificates (#3447)

 ansible/files/genssl.sh | 22 ++++++++++++++--------
 ansible/setup.yml       |  4 ++--
 2 files changed, 16 insertions(+), 10 deletions(-)

commit e049eca4ce90bc9e283d8a3f7bd2f01d5f16df0e
Author: Brendan McAdams <brendan@bytes.codes>
Date:   Fri Mar 16 09:47:49 2018 -0700

    Fixes Kubernetes logging issues from #3439 re: activation logs (#3440)
    
    - Fixed an issue where empty results from K8S log HTTP could cause a downstream error propagation
    - Moved the last entry timestamp update up before the CompleteAfterOccurrences stage.
      When it was below, it meant that we never saw the activation marker Lines
      missing the marker lines meant the last timestamp we saved was only from
      valid logging, and we kept refetching the past activation lines
    - On occasions Kubernetes didn't have invoker logs ready at request, it
      would simply stop; fixed code to retry. However, there's no pause If no results
      come back from Kubernetes, retry until they do.
    
    Switched K8S Logging Graph Stage to a Timer based one.
    - With this, added a retry scheduler to delay 100 ms when the logs come back empty.

 .../kubernetes/KubernetesClient.scala              | 55 +++++++++++++++++-----
 .../kubernetes/KubernetesContainer.scala           |  9 ++--
 2 files changed, 49 insertions(+), 15 deletions(-)

commit de7f2b686e34411e3eae5fb36b8099a605e64e3d
Author: Steffen Rost <srost@de.ibm.com>
Date:   Thu Mar 15 13:01:56 2018 +0100

    Move cleanupWhisksDb script out of core repo. (#3436)

 .../database/test/CleanUpWhisksDbSkriptTests.scala | 279 ---------------------
 tools/db/cleanUpWhisks.py                          | 150 -----------
 2 files changed, 429 deletions(-)

commit 3a5143ac7beae265edda1c2a2e78d0f904f41af6
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Mar 15 00:22:01 2018 -0400

    Add swift41 settings gradle (#3441)

 settings.gradle                                    |   1 +
 .../scala/system/basic/WskBasicSwift3Tests.scala   |   2 +-
 .../system/basic/WskRestBasicSwift311Tests.scala   |   1 +
 .../scala/whisk/core/cli/test/Swift311Tests.scala  | 157 +--------------------
 4 files changed, 4 insertions(+), 157 deletions(-)

commit 671caed1a85ffd7ce92c86a1be11639fbefe9eb8
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Mar 14 21:08:42 2018 -0400

    swagger generation update (#3437)

 ansible/group_vars/all                | 2 +-
 core/routemgmt/common/apigw-utils.js  | 5 +++++
 core/routemgmt/createApi/createApi.js | 2 ++
 3 files changed, 8 insertions(+), 1 deletion(-)

commit e4296a4be8c9f77e2be9794a789f4720f95a542f
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Mar 15 00:51:51 2018 +0100

    Bump ansible version (#3430)
    
    * Update documentation for ansible setup
    
    * Update ansible version in readme
    
    * Update cli playbook

 ansible/README.md                    | 4 ++--
 ansible/roles/cli/tasks/deploy.yml   | 7 +++----
 tools/macos/README.md                | 4 ++--
 tools/macos/docker-machine/README.md | 4 ++--
 tools/ubuntu-setup/ansible.sh        | 2 +-
 5 files changed, 10 insertions(+), 11 deletions(-)

commit c8bf76b92566bc3f48fa53a6360f509e1a19a8a0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Mar 14 16:59:47 2018 -0400

    Add swift:4.1 with Codable to default set of runtimes (#3420)
    
    * runtime and tests for swift41
    
    * no more need for softlink dat
    
    * update swift 4 docs
    
    * add example of swift4 action with no input
    
    * add example of error handling

 actionRuntimes/swift4.1Action/Dockerfile           |   1 +
 actionRuntimes/swift4.1Action/build.gradle         |   2 +
 ansible/files/runtimes.json                        |   9 +-
 docs/actions.md                                    | 227 ++++++++++++++++-----
 docs/reference.md                                  |   8 +-
 .../scala/system/basic/WskBasicSwift3Tests.scala   |   2 +-
 .../system/basic/WskRestBasicSwift41Tests.scala    |  30 +++
 .../system/basic/WskRestUnicodeSwift41Tests.scala  |  32 +++
 tools/build/compile_swift.sh                       |  79 +++++++
 9 files changed, 340 insertions(+), 50 deletions(-)

commit 9c889222f9706f7a7b40e3ccbca78aa03f2d6d2c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Mar 14 13:05:54 2018 +0100

    Fix negative values and blocking usage in Kafka lag monitoring. (#3434)
    
    1. `endOffsets` might be eventually consistent to the locally stored offset value. Negative values need to be normalized to 0.
    2. `endOffsets` can "block indefinitly" per documentation, so we need to make sure to protect the execution context against thread starvation.

 .../connector/kafka/KafkaConsumerConnector.scala   | 25 +++++++++++++---------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit c69b6f5488122705ef75c42e0a0c82ab65c7075c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 13 13:20:50 2018 +0100

    Send active-ack in any case of a parseable message. (#3424)

 .../src/main/scala/whisk/http/ErrorResponse.scala  |   2 +
 .../scala/whisk/core/invoker/InvokerReactive.scala | 193 +++++++++++----------
 .../whisk/core/invoker/NamespaceBlacklist.scala    |   3 -
 3 files changed, 101 insertions(+), 97 deletions(-)

commit 24d10fb6825dbd6bdd8b7896b924143751c8b2e0
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Tue Mar 13 11:53:45 2018 +0100

    Measure kafka queue in consumer with better exactitude. (#3423)
    
    Measure kafka queue metric directly in the consumer by comparing the offsets instead of relying on the built-in consumer metrics. This method provides more precision compared to the old approach, it was observed that the built-in metrics show certain lagging in case of burst.
    Additionally make kamon flush cadency configurable in the application.conf.

 common/scala/src/main/resources/application.conf   |  1 +
 .../connector/kafka/KafkaConsumerConnector.scala   | 30 ++++++++++++++--------
 2 files changed, 20 insertions(+), 11 deletions(-)

commit a8476ab970b4f8804d0d26fa319fe4aaa7c9ab04
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Mon Mar 12 10:15:39 2018 +0100

    Enable ssl on the path between edge and controllers. (#3077)

 .gitignore                                         |  4 ++
 ansible/group_vars/all                             | 19 ++++++
 ansible/roles/controller/tasks/deploy.yml          | 34 +++++++++-
 ansible/roles/nginx/tasks/deploy.yml               |  9 +++
 ansible/roles/nginx/templates/nginx.conf.j2        | 12 +++-
 ansible/setup.yml                                  | 12 ++++
 ansible/templates/whisk.properties.j2              |  1 +
 .../scala/src/main/scala/whisk/common/Https.scala  | 75 ++++++++++++++++++++++
 .../main/scala/whisk/http/BasicHttpService.scala   | 35 ++++++----
 .../controller/src/main/resources/application.conf |  3 +
 .../scala/whisk/core/controller/Controller.scala   |  8 ++-
 .../scala/whisk/core/controller/Triggers.scala     | 32 ++++++++-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  4 +-
 tests/src/test/resources/application.conf.j2       | 13 ++++
 tests/src/test/scala/common/rest/WskRest.scala     | 62 ++++++++++++++++--
 .../src/test/scala/ha/CacheInvalidationTests.scala | 34 ++++++----
 tests/src/test/scala/ha/ShootComponentsTests.scala | 13 +++-
 tests/src/test/scala/services/HeadersTests.scala   | 14 ++--
 tools/travis/setup.sh                              |  2 +-
 19 files changed, 338 insertions(+), 48 deletions(-)

commit c53cacba0e8d4f3c655e23ce2c558716b7f0a472
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Mar 12 04:13:14 2018 -0400

    Refactor KubernetesClient to separate invokerAgent; Add forwarding LogStoreProvider. (#3411)
    
    This commit pushes the invokerAgent functionality into a new
    subclass of KubernetesClient, KubernetesClientWithInvokerAgent,
    to achieve a cleaner separation of concerns.
    
    It also adds a new LogDriverLogStore implementation for Kubernetes
    that uses the invokerAgent to perform remote processing and forwarding
    of action logs.  This enables more efficient log processing than
    relying on the Kubernetes API to retrieve the logs and stream
    them through the invoker.
    
    It also adds a unit test for the log forwarding support in
    KubernetesContainer and some minor cleanup of the test cases
    to uniformly use the await helper function.

 .../kubernetes/KubernetesClient.scala              |  81 ++---------
 .../KubernetesClientWithInvokerAgent.scala         | 158 +++++++++++++++++++++
 .../kubernetes/KubernetesContainer.scala           |  32 ++++-
 .../kubernetes/KubernetesContainerFactory.scala    |  14 +-
 .../KubernetesInvokerAgentLogStore.scala           |  76 ++++++++++
 .../kubernetes/test/KubernetesClientTests.scala    |  54 ++++---
 .../kubernetes/test/KubernetesContainerTests.scala |  26 +++-
 7 files changed, 353 insertions(+), 88 deletions(-)

commit eae09ebe11a033fcb485cf513743d42368ef1f26
Author: ptaube <ptaube@users.noreply.github.com>
Date:   Fri Mar 9 23:44:59 2018 +0100

    Allow tabs for indentation in go code (#3417)

 tools/build/scanCode.cfg | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fbc009170295a23473b1ee390985d4b4dda4aad0
Author: Steffen Rost <lue-kle@freenet.de>
Date:   Fri Mar 9 16:08:11 2018 +0100

    Cleanup script for unused entities in the whisks database. (#3382)
    
    python script to cleanup whisk db if namespace does not exist anymore
    
    Co-authored-by: Christian Bickel <github@cbickel.de>

 .../database/test/CleanUpWhisksDbSkriptTests.scala | 279 +++++++++++++++++++++
 tools/db/cleanUpWhisks.py                          | 150 +++++++++++
 2 files changed, 429 insertions(+)

commit b163f805c428af7c87d1ac8b78e0283619ce75ec
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Mar 8 10:48:13 2018 +0100

    Use ShardingContainerPoolBalancer as the default. (#3400)

 common/scala/src/main/resources/reference.conf | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2ede318797b31896d0272ebc9d4a645771144cd7
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Mar 8 13:33:56 2018 +0530

    Use pureconfig for CouchDbRestStore. (#3369)

 ansible/roles/controller/tasks/deploy.yml          | 18 ++++----
 ansible/roles/invoker/tasks/deploy.yml             | 15 ++++---
 common/scala/src/main/resources/application.conf   | 17 ++++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 21 +--------
 .../core/database/ArtifactStoreProvider.scala      |  5 +--
 .../whisk/core/database/CouchDbStoreProvider.scala | 47 ++++++++++++--------
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 50 +++-------------------
 .../scala/whisk/core/controller/Authenticate.scala |  9 ----
 .../scala/whisk/core/controller/Controller.scala   |  6 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  9 +---
 .../scala/whisk/core/entitlement/Collection.scala  |  3 --
 .../core/loadBalancer/ContainerPoolBalancer.scala  |  2 +-
 .../ShardingContainerPoolBalancer.scala            |  4 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  5 +--
 .../scala/whisk/core/invoker/InvokerReactive.scala |  6 +--
 tests/src/test/resources/application.conf.j2       | 14 ++++++
 tests/src/test/scala/common/WhiskProperties.java   |  4 --
 tests/src/test/scala/ha/ShootComponentsTests.scala | 17 +++++---
 .../core/cli/test/SequenceMigrationTests.scala     |  4 +-
 .../core/controller/test/ActivationsApiTests.scala | 28 +++++++++---
 .../controller/test/ControllerTestCommon.scala     |  6 +--
 .../database/test/CouchDbRestClientTests.scala     | 33 ++++++--------
 .../database/test/DatabaseScriptTestUtils.scala    | 25 +++++------
 .../whisk/core/entity/test/DatastoreTests.scala    |  6 +--
 .../scala/whisk/core/entity/test/ViewTests.scala   |  6 +--
 .../invoker/test/NamespaceBlacklistTests.scala     | 23 +++++-----
 26 files changed, 178 insertions(+), 205 deletions(-)

commit 4dfe54812706d55af3619fcc7180bb7bcb708254
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Mar 7 18:35:30 2018 -0500

    Update require-whisk-auth behavior to secure web action (#3388)

 .../main/scala/whisk/core/entity/WhiskAction.scala |  3 ++
 .../scala/whisk/core/controller/WebActions.scala   | 40 +++++++++++++-
 docs/annotations.md                                |  2 +-
 docs/webactions.md                                 | 16 +++++-
 .../core/controller/test/WebActionsApiTests.scala  | 62 +++++++++++++++++++---
 5 files changed, 111 insertions(+), 12 deletions(-)

commit ef8b3a4bbf0e845461520c1ac0af1daddc4742e9
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Mar 7 18:16:42 2018 -0500

    Fix typos in api gw doc (#3410)

 docs/apigateway.md | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 7ca1f1dbc51964dc128eb978ce3bc051408bd24c
Author: Vincent <shou@us.ibm.com>
Date:   Wed Mar 7 15:51:43 2018 -0500

    Add the license headers (#3383)
    
    Based on Apache release policy, every source file needs to contain the license header at the top. This PR adds the license header to the source files missing it.
    
    Partially-Closes: apache/incubator-openwhisk-release#54.

 .travis.yml                                       | 17 ++++++++++++++++-
 README.md                                         | 18 ++++++++++++++++++
 actionRuntimes/actionProxy/README.md              | 18 ++++++++++++++++++
 actionRuntimes/javaAction/delete-build-run.sh     | 16 ++++++++++++++++
 common/scala/copyJMXFiles.sh                      | 16 ++++++++++++++++
 common/scala/transformEnvironment.sh              | 16 ++++++++++++++++
 gradle/README.md                                  | 18 ++++++++++++++++++
 tools/admin/README.md                             | 18 ++++++++++++++++++
 tools/build/README.md                             | 18 ++++++++++++++++++
 tools/db/README.md                                | 18 ++++++++++++++++++
 tools/dev/README.md                               | 18 ++++++++++++++++++
 tools/git/README.md                               | 18 ++++++++++++++++++
 tools/git/pre-commit-scalafmt-gradlew.sh          | 17 +++++++++++++++++
 tools/git/pre-commit-scalafmt-native.sh           | 17 +++++++++++++++++
 tools/macos/README.md                             | 18 ++++++++++++++++++
 tools/macos/docker-machine/README.md              | 18 ++++++++++++++++++
 tools/macos/docker-machine/tweak-dockerhost.sh    | 16 ++++++++++++++++
 tools/macos/docker-machine/tweak-dockermachine.sh | 18 ++++++++++++++++++
 tools/travis/build.sh                             | 17 +++++++++++++++++
 tools/travis/flake8.sh                            | 16 ++++++++++++++++
 tools/travis/setup.sh                             | 16 ++++++++++++++++
 tools/ubuntu-setup/README.md                      | 18 ++++++++++++++++++
 tools/ubuntu-setup/all.sh                         | 16 ++++++++++++++++
 tools/ubuntu-setup/ansible.sh                     | 17 +++++++++++++++++
 tools/ubuntu-setup/bashprofile.sh                 | 18 ++++++++++++++++++
 tools/ubuntu-setup/docker-xenial.sh               | 16 ++++++++++++++++
 tools/ubuntu-setup/docker.sh                      | 17 +++++++++++++++++
 tools/ubuntu-setup/java8.sh                       | 17 +++++++++++++++++
 tools/ubuntu-setup/misc.sh                        | 17 +++++++++++++++++
 tools/ubuntu-setup/pip.sh                         | 17 +++++++++++++++++
 tools/vagrant/README.md                           | 18 ++++++++++++++++++
 31 files changed, 532 insertions(+), 1 deletion(-)

commit 38b8062c9ce607183e0decda2e3ba307ad690cc3
Author: Jim Crossley <jim@crossleys.org>
Date:   Wed Mar 7 14:50:09 2018 -0500

    Remove namespace configuration; use invoker's instead (#3409)
    
    Making this configurable -- and defaulting to something that may not
    be the ns in which the invoker is running -- is more trouble than it's
    worth, I think.

 core/invoker/src/main/resources/application.conf              |  1 -
 .../core/containerpool/kubernetes/KubernetesClient.scala      | 11 +++++------
 2 files changed, 5 insertions(+), 7 deletions(-)

commit f3274d2155036dbd025902353f7b77c076ad1f86
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Mar 7 15:44:52 2018 +0100

    Add namespace-blacklist to invoker. (#3391)
    
    This commit adds a check to the invoker, if the current namespace is allowed to execute actions.
    This check is already done in the controller, but if the action is already in the queue and throttled afterwards, there is no chance to get this action out of the queue.
    With this commit, the invoker checks as well if the action is allowed to be executed. If it is not, it will be refused immediately. This will clean up the queue very fast.

 ...hrottlings_design_document_for_subjects_db.json |  10 ++
 ansible/roles/invoker/tasks/deploy.yml             |   1 +
 ansible/tasks/initdb.yml                           |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   1 +
 .../main/scala/whisk/core/entity/WhiskStore.scala  |   2 +-
 core/invoker/src/main/resources/application.conf   |   5 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   9 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  61 ++++++----
 .../whisk/core/invoker/NamespaceBlacklist.scala    |  78 +++++++++++++
 .../invoker/test/NamespaceBlacklistTests.scala     | 130 +++++++++++++++++++++
 10 files changed, 264 insertions(+), 34 deletions(-)

commit a6f32f11162d4256ef380c1780d19d5662b4136a
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Mar 7 08:33:01 2018 -0500

    Partially revert change to route all action proxy tests through port mapping. (#3397)
    
    Partially revert change to route all action proxy tests through port forwarding. Instead, only do that when running tests on MacOSX.

 .../scala/actionContainers/ActionContainer.scala   | 26 +++++++++++++---------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit d5f69512b4e5ad6e733bd50a46adcbb41ce2c5ba
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Mar 7 12:52:53 2018 +0100

    Fix deployment of the CLI if edge is on a remote machine. (#3406)
    
    * Fix deployment of the CLI if edge is on a remote machine.
    
    * Fix path of cli.

 ansible/roles/cli/tasks/deploy.yml | 37 +++++++++++--------------------------
 1 file changed, 11 insertions(+), 26 deletions(-)

commit 6711118387281774c7015b51a763b31a47e94811
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Mar 7 00:19:59 2018 +0530

    Adds method deleteAttachments to ArtifactStore (#3366)

 .../scala/whisk/core/database/ArtifactStore.scala     |  5 +++++
 .../scala/whisk/core/database/CouchDbRestStore.scala  |  5 +++++
 .../scala/whisk/core/database/DocumentFactory.scala   | 14 ++++++++++++++
 .../main/scala/whisk/core/entity/WhiskAction.scala    | 18 ++++++++++++++++++
 tests/build.gradle                                    |  3 ++-
 .../scala/whisk/core/entity/test/DatastoreTests.scala | 19 ++++++++++++++++---
 6 files changed, 60 insertions(+), 4 deletions(-)

commit e5d480353a45d07e8c716e37c959b701d1c164af
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Mar 6 12:09:45 2018 -0500

    set tar target cli directory permissions (#3399)

 ansible/roles/cli/tasks/deploy.yml | 1 +
 1 file changed, 1 insertion(+)

commit 9839e82be79c6f19d6f857445aa7140a5cbd6f88
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 6 12:54:50 2018 +0100

    Make AuthKey parsing leaner. (#3371)
    
    Like in the case of ActivationIds, for AuthKeys we do not care if the user really gives us a UUID. For the system internal it doesn't matter.

 .../src/main/scala/whisk/core/entity/AuthKey.scala | 51 +++++++---------------
 .../src/main/scala/whisk/core/entity/Secret.scala  | 28 +++++-------
 .../src/main/scala/whisk/core/entity/UUID.scala    | 47 ++++++--------------
 .../scala/whisk/core/entity/test/SchemaTests.scala |  2 +-
 4 files changed, 41 insertions(+), 87 deletions(-)

commit 9132ddf1ec9dacfc1d74f46b516138397018b327
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 6 12:53:42 2018 +0100

    Make ActivationId implementation leaner. (#3362)
    
    * Rework activation id to ignore uuid semantics
    * Take out arg normalizer
    * Rename apply to generate for more explicitness

 .../scala/whisk/core/entity/ActivationId.scala     | 112 +++++++--------------
 .../scala/whisk/core/controller/Activations.scala  |  14 +--
 .../connector/tests/CompletionMessageTests.scala   |   6 +-
 .../logging/SplunkLogStoreTests.scala              |   2 +-
 .../test/DockerToActivationLogStoreTests.scala     |   8 +-
 .../containerpool/test/ContainerPoolTests.scala    |   2 +-
 .../containerpool/test/ContainerProxyTests.scala   |   2 +-
 .../actions/test/SequenceAccountingTests.scala     |   4 +-
 .../core/controller/test/ActivationsApiTests.scala |  74 ++++++++++----
 .../controller/test/ControllerTestCommon.scala     |   2 +-
 .../core/controller/test/TriggersApiTests.scala    |   4 +-
 .../core/controller/test/WebActionsApiTests.scala  |   4 +-
 .../whisk/core/database/test/RemoveLogsTests.scala |   4 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  12 +--
 .../scala/whisk/core/entity/test/SchemaTests.scala |  18 ++--
 .../scala/whisk/core/entity/test/ViewTests.scala   |  20 ++--
 .../whisk/core/entity/test/WhiskEntityTests.scala  |   4 +-
 .../loadBalancer/test/LoadBalancerDataTests.scala  |  10 +-
 18 files changed, 150 insertions(+), 152 deletions(-)

commit 593ec679310f698517a3fb9bf323c229a4f8acee
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 6 11:34:19 2018 +0100

    Turn off Kafka auto-commits. (#3393)
    
    We commit manually everywhere in our code. Some tests also rely on the manual commits to be the only ones around. We should be able to turn this off safely. If not we have a bug.

 common/scala/src/main/resources/application.conf | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 4061542bb890194a6b75784e0c152c6e5b05f9da
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Mar 6 03:55:47 2018 -0500

    Add a PR template. (#3386)

 .github/PULL_REQUEST_TEMPLATE.md | 42 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 5d61ce4863a71d338f098051c11a03d0a3cf759c
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Mar 5 17:22:08 2018 +0530

    Use Docker ADD command to untar (#3374)

 core/controller/Dockerfile | 5 ++---
 core/invoker/Dockerfile    | 6 ++----
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 3865a40cb344916fd87c20fdc18c7500feb98c15
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Mar 5 03:43:59 2018 -0500

    Allow wskadmin user block/unblock to accept a list of subject to block. (#3348)

 .../scala/whisk/core/admin/WskAdminTests.scala     | 26 +++++++
 tools/admin/wskadmin                               | 80 ++++++++++++----------
 2 files changed, 70 insertions(+), 36 deletions(-)

commit 59abfccf91b58ee39f184030374203f1bf372f2d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Mar 5 08:15:31 2018 +0100

    Change all empty collection creations to an explicit call to `empty`. (#3359)
    
    Collection.empty is optimized for less allocations, less work in general and more clear to read.

 common/scala/src/main/scala/whisk/common/Config.scala                 | 2 +-
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala              | 2 +-
 .../src/main/scala/whisk/core/containerpool/ContainerFactory.scala    | 4 ++--
 .../scala/whisk/core/containerpool/logging/LogDriverLogStore.scala    | 2 +-
 common/scala/src/main/scala/whisk/core/entity/Parameter.scala         | 2 +-
 common/scala/src/main/scala/whisk/core/entity/WhiskPackage.scala      | 4 ++--
 core/controller/src/main/scala/whisk/core/controller/WebActions.scala | 4 ++--
 .../src/main/scala/whisk/core/containerpool/docker/DockerClient.scala | 4 ++--
 .../main/scala/whisk/core/containerpool/docker/DockerContainer.scala  | 4 ++--
 9 files changed, 14 insertions(+), 14 deletions(-)

commit a6dfcc2a0d3f06bde7483544def8efd904cf213e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Mar 5 08:14:48 2018 +0100

    Make action-time-limit's system bounds configurable. (#3379)

 ansible/roles/controller/tasks/deploy.yml            |  4 ++++
 ansible/roles/invoker/tasks/deploy.yml               |  3 +++
 common/scala/src/main/resources/application.conf     |  7 +++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala      |  1 +
 .../src/main/scala/whisk/core/entity/TimeLimit.scala | 20 +++++++++++---------
 5 files changed, 26 insertions(+), 9 deletions(-)

commit f7efbb6cf09563009b71486158b9232433439660
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 2 17:30:38 2018 -0500

    Sanitize test subjects before tests. (#3302)
    
    * Sanitize test subjects before tests.

 tests/src/test/scala/common/WskTestHelpers.scala |  5 ++--
 tests/src/test/scala/limits/ThrottleTests.scala  | 30 ++++++++++++++++--------
 2 files changed, 23 insertions(+), 12 deletions(-)

commit 3d8b3abe1d90689314f5a7ed49e5c7b2ec0c778a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Mar 2 17:14:17 2018 -0500

    Add retries to some entity "update" tests. (#3364)

 .../test/scala/system/basic/WskBasicTests.scala    | 38 +++++++++++++++++-----
 1 file changed, 30 insertions(+), 8 deletions(-)

commit 8a23d9ff80973af804fa5c72c8fee13be981011c
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 2 14:17:42 2018 -0500

    Remove test for included packages in python image. (#3385)
    
    We don't do similar tests for other runtimes and with the separation of the runtimes into their own repos and with fewer packages going forward, I think these tests do not make sense to keep.

 .../PythonActionContainerTests.scala               | 59 ----------------------
 1 file changed, 59 deletions(-)

commit 84d0a5d59d0e6ba128adea6561d68f1840597054
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Thu Mar 1 16:40:18 2018 -0500

    Download Nginx Tarball from OpenWhisk CLI release, rather than constructing file-by-file (#3216)
    
    * Populate Nginx with downloaded/copied tarball.
    
    * Add headers support to get_url for tarball
    
    * Change deploy to copy binary from Nginx directory
    
    * Make wsk binary executable on ansible host
    
    * Download cli-install from nginx local

 ansible/group_vars/all                             | 38 +++++----
 ansible/roles/cli-install/tasks/clean.yml          |  8 ++
 ansible/roles/cli-install/tasks/deploy.yml         | 14 ++++
 ansible/roles/cli-install/tasks/main.yml           | 10 +++
 ansible/roles/cli/files/createContentJson.sh       | 80 ------------------
 ansible/roles/cli/tasks/clean.yml                  |  4 +-
 ansible/roles/cli/tasks/cli_remote_mode.yml        | 24 ------
 .../roles/cli/tasks/copy_local_openwhisk_cli.yml   | 36 ---------
 ansible/roles/cli/tasks/deploy.yml                 | 94 +++++++++++++++++-----
 ansible/roles/cli/tasks/download_cli.yml           | 32 --------
 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 76 -----------------
 ansible/routemgmt.yml                              |  1 +
 12 files changed, 129 insertions(+), 288 deletions(-)

commit bbd9db960fa8823e4c8d2245f059e38156c88037
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Mar 1 14:01:09 2018 -0500

    API GW doc update to include path parameter example (#3352)

 docs/apigateway.md | 88 ++++++++++++++++++++++++++++++++----------------------
 1 file changed, 52 insertions(+), 36 deletions(-)

commit 6f1a445f22f827bd91f75b01bc82988054febbc8
Author: Seong-hyun, Oh <admin@upgle.com>
Date:   Thu Mar 1 23:37:35 2018 +0900

    Support tags in metrics for finer granularity. (#3343)

 ansible/group_vars/all                             |  2 +
 ansible/roles/controller/tasks/deploy.yml          |  1 +
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 .../src/main/scala/whisk/common/Logging.scala      | 67 ++++++++++++++++------
 .../main/scala/whisk/common/TransactionId.scala    |  7 +--
 .../main/scala/whisk/http/BasicHttpService.scala   |  8 ++-
 docs/metrics.md                                    |  7 +++
 .../docker/test/DockerClientTests.scala            |  8 +--
 .../docker/test/RuncClientTests.scala              |  4 +-
 9 files changed, 76 insertions(+), 29 deletions(-)

commit 3bc6d1fa99360f6afcdb05f22a6b531f43b0c4c5
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Mar 1 06:59:36 2018 -0500

    Implement suspend/resume for KubernetesContainer through  an InvokerAgent. (#3338)

 core/invoker/src/main/resources/application.conf   |  19 ++-
 .../kubernetes/KubernetesClient.scala              | 182 +++++++++++++++++----
 .../kubernetes/KubernetesContainer.scala           |  58 +++----
 .../kubernetes/KubernetesContainerFactory.scala    |   2 +-
 .../kubernetes/test/KubernetesClientTests.scala    | 165 ++++++++-----------
 .../kubernetes/test/KubernetesContainerTests.scala |  98 ++++-------
 6 files changed, 288 insertions(+), 236 deletions(-)

commit 05d86622c71cef7d3a75b0cdc6a0ffda43e9040d
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Wed Feb 28 18:27:37 2018 -0500

    Update to tools/ubuntu-setup to support xenial and later Ubuntu releases (#3358)

 tools/ubuntu-setup/all.sh           |  40 ++++--
 tools/ubuntu-setup/ansible.sh       |   4 +-
 tools/ubuntu-setup/docker-xenial.sh |  46 +++++++
 tools/ubuntu-setup/docker.sh        |   7 +-
 tools/ubuntu-setup/java8.sh         |  12 +-
 tools/ubuntu-setup/misc.sh          |   9 +-
 tools/ubuntu-setup/scala.sh         |   8 --
 tools/vagrant/README.md             | 164 +++++++++++++++++--------
 tools/vagrant/Vagrantfile           | 236 +++++++++++++++++-------------------
 9 files changed, 315 insertions(+), 211 deletions(-)

commit 91778eb36e2cea98b8cf47c5246e0eceaeef046c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 28 20:45:16 2018 +0100

    Remove usages of replaceAll from the hot-path. (#3357)

 .../scala/whisk/core/containerpool/ContainerFactory.scala     |  7 ++++---
 .../main/scala/whisk/core/containerpool/ContainerProxy.scala  | 11 ++++++++---
 2 files changed, 12 insertions(+), 6 deletions(-)

commit 9d6b6351b384bcd0092964d6e8e759c763831854
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Wed Feb 28 14:05:47 2018 -0500

    Set mode of wsk to executable (#3360)

 ansible/roles/cli/tasks/copy_local_openwhisk_cli.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc72113d33562a1297c90f2a32d07c8537fadd04
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 28 13:45:05 2018 +0100

    Soften DockerExampleContainerTests. (#3368)
    
    This test fails in different environments with different exceptions. This commit only aims to resolve the immediate issue.

 .../src/test/scala/actionContainers/DockerExampleContainerTests.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 99396c78006daf96f5b32f020aa262c37ca766b5
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Feb 28 12:56:32 2018 +0100

    Emit metrics for Kafka Consumer lag. (#3361)

 common/scala/src/main/scala/whisk/common/Logging.scala     |  3 +++
 .../whisk/connector/kafka/KafkaConsumerConnector.scala     | 14 +++++++++++++-
 2 files changed, 16 insertions(+), 1 deletion(-)

commit e202c1f66cf8edf9ce925152fe9f2e162b8b7a53
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 28 12:54:13 2018 +0100

    Narrow exclude to run needed tests. (#3367)
    
    Some of our important tests do **not** run today because the exclude of "*Cli*" also covers "Client" tests, which is not suspected.

 tests/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7218a48d94846c23a853ece185b845bb59d4a628
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Feb 27 16:11:49 2018 -0500

    Allow container tests to run without a proxy. (#3335)

 ansible/README.md                                  | 17 -------------
 .../scala/actionContainers/ActionContainer.scala   | 28 +++++++++++++++-------
 .../DockerExampleContainerTests.scala              |  2 +-
 3 files changed, 21 insertions(+), 26 deletions(-)

commit 61a602146f2622e54224f531afd019835379de74
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Feb 27 21:17:19 2018 +0100

    Make SplunkLogStore tests more resilient. (#3326)
    
    Timeouts of 1 second are a bit narrow and that narrowness is not necessary here. Bumped to 10 seconds.
    
    Also refactored some bit for a more density.

 .../logging/SplunkLogStoreTests.scala              | 83 ++++++----------------
 1 file changed, 23 insertions(+), 60 deletions(-)

commit 369517b369453366c3aeb095fba79d1c4411f8ea
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Feb 27 14:00:35 2018 -0500

    Factor PoolingRestClient out of CouchDbRestClient. (#3347)

 .../whisk/core/database/CloudantRestClient.scala   |   2 +-
 .../whisk/core/database/CouchDbRestClient.scala    | 160 +++------------------
 .../main/scala/whisk/http/PoolingRestClient.scala  | 154 ++++++++++++++++++++
 .../database/test/ExtendedCouchDbRestClient.scala  |  11 +-
 4 files changed, 183 insertions(+), 144 deletions(-)

commit 9e6f95b7d1b7b3f552d9098abde72cb0f8f2de84
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Feb 27 10:50:22 2018 -0600

    adding namePrefix config to ContainerArgsConfig (#3215)
    
    * adding namePrefix config to ContainerArgsConfig
    * removed name-prefix config; added InstanceId.name
    * only use config.invokerName if it is not empty

 .../core/containerpool/ContainerFactory.scala      |  9 ++++++
 .../main/scala/whisk/core/entity/InstanceId.scala  |  4 +--
 .../whisk/core/containerpool/ContainerProxy.scala  |  4 +--
 .../docker/DockerContainerFactory.scala            | 34 ++++++++++++----------
 .../main/scala/whisk/core/invoker/Invoker.scala    |  7 ++---
 .../containerpool/test/ContainerProxyTests.scala   |  6 ++--
 6 files changed, 37 insertions(+), 27 deletions(-)

commit 4d4477bf1082d4fddcb29a1ad7a41727a814417e
Author: Vincent <shou@us.ibm.com>
Date:   Mon Feb 26 14:35:45 2018 -0500

    Add the NOTICE file for future development (#3339)

 NOTICE.md | 5 +++++
 1 file changed, 5 insertions(+)

commit c184cc6fdabbe857bfc1bd33aa7acda07179d1e5
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Feb 26 17:26:12 2018 +0100

    Put active-ack consumers in their own consumer-groups. (#3337)
    
    Just like with the invoker consumers, it doesn't make sense to have those in one group as crash of one will cause a rebalancing pause for the other.

 .../scala/whisk/core/loadBalancer/ContainerPoolBalancer.scala     | 8 +++-----
 .../whisk/core/loadBalancer/ShardingContainerPoolBalancer.scala   | 7 ++-----
 2 files changed, 5 insertions(+), 10 deletions(-)

commit a91feb013dde79eca2e892f70840157f9b18ccb4
Author: Sang Heon Lee <developistBV@gmail.com>
Date:   Mon Feb 26 18:55:19 2018 +0900

    Enhance Kafka message provider for resiliency. (#3072)
    
    Co-authored-by: Markus Thömmes <markusthoemmes@me.com>

 common/scala/src/main/resources/application.conf   |  2 +
 .../connector/kafka/KafkaConsumerConnector.scala   | 90 +++++++++++++++++-----
 .../connector/kafka/KafkaMessagingProvider.scala   | 12 ++-
 .../connector/kafka/KafkaProducerConnector.scala   | 79 +++++++++++--------
 .../whisk/core/connector/MessageConsumer.scala     |  4 +-
 .../whisk/core/connector/MessagingProvider.scala   | 16 ++--
 .../core/database/RemoteCacheInvalidation.scala    |  5 +-
 .../core/loadBalancer/ContainerPoolBalancer.scala  |  2 +-
 .../ShardingContainerPoolBalancer.scala            |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 tests/src/test/scala/ha/ShootComponentsTests.scala | 70 +++++++++--------
 .../test/scala/services/KafkaConnectorTests.scala  | 44 ++++++++---
 .../core/connector/test/MessageFeedTests.scala     |  2 +-
 .../whisk/core/connector/test/TestConnector.scala  |  6 +-
 14 files changed, 219 insertions(+), 117 deletions(-)

commit 347d4b72116fcde7fb2988f550220daba28c0959
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Sun Feb 25 21:50:56 2018 -0500

    Cli ansible fix (#3334)

 ansible/group_vars/all                             |  9 ++++----
 .../roles/cli/tasks/copy_local_openwhisk_cli.yml   | 25 +++++++++++++++++++---
 ansible/roles/cli/tasks/deploy.yml                 |  3 ++-
 3 files changed, 28 insertions(+), 9 deletions(-)

commit 1e43e8dff9d536d725d3e3101b7565dcb006407f
Author: rodric rabbah <rodric@gmail.com>
Date:   Sun Feb 25 21:31:45 2018 -0500

    Remove dead field. (#3336)

 tests/src/test/scala/common/WhiskProperties.java | 6 ------
 1 file changed, 6 deletions(-)

commit fddc083011c99bec315a9506cf073e70cb0c1c93
Author: rodric rabbah <rodric@gmail.com>
Date:   Sun Feb 25 21:27:42 2018 -0500

    Extract message from callback and add it to pretty printed text. (#3344)

 ansible/callbacks/logformatter.py | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit febd093771b89e911c38eb86100e60d71c4ab31f
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 24 00:14:03 2018 -0500

    Remove restriction on updating a trigger with a new feed. (#3318)

 .../src/main/scala/whisk/core/controller/Triggers.scala        | 10 +---------
 .../scala/whisk/core/controller/test/TriggersApiTests.scala    |  6 ++++--
 2 files changed, 5 insertions(+), 11 deletions(-)

commit 1bb02808b7a37554e797da06da70bda713e39fb0
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 24 00:13:33 2018 -0500

    Make parameters with defined values final  (#3333)

 .../main/scala/whisk/core/entity/Parameter.scala   | 15 ++--
 .../main/scala/whisk/core/controller/Actions.scala | 84 +++++++++++++---------
 .../scala/whisk/core/controller/WebActions.scala   |  7 +-
 .../core/controller/test/ActionsApiTests.scala     | 17 +++++
 4 files changed, 78 insertions(+), 45 deletions(-)

commit 458f790046fb2e8672ebeb896dff38d0635def84
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 24 00:12:20 2018 -0500

    Remove view supporting now removed API for listing assets in namespace. (#3341)

 .../whisks_design_document_for_all_entities_db_v2.1.0.json     | 10 ----------
 ansible/tasks/recreateViews.yml                                |  1 -
 2 files changed, 11 deletions(-)

commit d18297008a088f06aa68a23c349a54f3ef44488a
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 24 00:11:32 2018 -0500

    Normalize a missing body for raw actions to JsString.empty. (#3323)

 .../scala/whisk/core/controller/WebActions.scala     |  4 ++--
 .../core/controller/test/WebActionsApiTests.scala    | 20 +++++++++++++++++++-
 2 files changed, 21 insertions(+), 3 deletions(-)

commit d6677bcd4c928822feac788c6f0b1be5234ee0a8
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sat Feb 24 06:37:24 2018 +0530

    Configure Gradle build scan plugin (#3314)

 build.gradle          | 10 ++++++++++
 tools/build/README.md | 13 +++++++++++++
 2 files changed, 23 insertions(+)

commit cc921e466a0da8872044111d19b44c7fe5760b8b
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Fri Feb 23 15:06:41 2018 -0500

    Add '-e' to redo for ansible variables and change '-a' to gradle arguments only. (#3332)

 tools/build/redo | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 833c0a9c7df66ad0e34cb4cfc6e91dda199cc75d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Feb 23 20:54:29 2018 +0100

    Make package test resilient against eventual consistency. (#3331)

 .../src/test/scala/whisk/core/controller/test/PackagesApiTests.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 36acc1df860423dcf4d2db0e3babf831209e6d69
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Feb 23 14:42:47 2018 -0500

    Pass additional data to LogStore's fetchLogs method. (#3330)

 .../logging/DockerToActivationFileLogStore.scala   |  7 ++---
 .../logging/DockerToActivationLogStore.scala       |  8 ++++--
 .../containerpool/logging/LogDriverLogStore.scala  |  6 +++--
 .../core/containerpool/logging/LogStore.scala      |  4 ++-
 .../containerpool/logging/SplunkLogStore.scala     |  8 +++++-
 .../scala/whisk/core/controller/Activations.scala  | 22 +++++++++-------
 .../logging/SplunkLogStoreTests.scala              | 30 +++++++++++++++++-----
 7 files changed, 61 insertions(+), 24 deletions(-)

commit 83deb85c7913e824d29dd9c98e9898d4eff34417
Author: Jim Crossley <jim@crossleys.org>
Date:   Fri Feb 23 13:37:59 2018 -0500

    Kubernetes ContainerFactoryProvider implementation (#3219)
    
    This is an implementation of the ContainerFactory SPI for Kubernetes,
    essentially mirroring the structure of Docker{Container,Client}
    classes and tests with `docker` commands replaced with either
    `kubectl` or the fabric8 client.
    
    Regarding the activation logs returned from k8s, we're massaging them
    to make them look like the json-formatted files the ActionLogDriver
    expects.
    
    Instead of the offset logic used for Docker, we save the timestamp
    from the last message logged from the previous activation, hence the
    'sinceTime' parameter. This value has sub-second granularity but the
    k8s api does not, so we may see messages older than 'sinceTime' and we
    need to ignore them.
    
    Also, the k8s api can't distinguish between messages logged to stdout
    and stderr, so we assume they all go to stdout.
    See https://github.com/kubernetes/kubernetes/issues/28167
    
    A few of the Docker test helpers were converted to singleton objects
    for re-use in the Kubernetes tests.
    
    Co-authored-by:  Ben Browning <bbrownin@redhat.com>
    Co-authored-by:  Brendan McAdams <bmcadams@redhat.com>
    Co-authored-by:  Jim Crossley <jim@crossleys.org>

 common/scala/build.gradle                          |   1 +
 .../src/main/scala/whisk/common/Logging.scala      |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   3 +
 core/invoker/Dockerfile                            |  10 +-
 core/invoker/src/main/resources/application.conf   |  10 +-
 .../kubernetes/KubernetesClient.scala              | 380 ++++++++++++++
 .../kubernetes/KubernetesContainer.scala           | 158 ++++++
 .../kubernetes/KubernetesContainerFactory.scala    |  82 +++
 .../docker/test/DockerContainerTests.scala         |  42 +-
 .../kubernetes/test/KubernetesClientTests.scala    | 261 ++++++++++
 .../kubernetes/test/KubernetesContainerTests.scala | 552 +++++++++++++++++++++
 11 files changed, 1479 insertions(+), 21 deletions(-)

commit 722fda45a1742ad9dcbe47e18c4462826f80e23d
Author: ningyougang <415622920@qq.com>
Date:   Fri Feb 23 16:14:50 2018 +0800

    Improve loadbalancer overload behaviour. (#3272)
    
    Distributes load randomly (evenly) in an overload situation.

 .../whisk/core/loadBalancer/ContainerPoolBalancer.scala     |  7 ++++++-
 .../test/ContainerPoolBalancerObjectTests.scala             | 13 ++++++++-----
 2 files changed, 14 insertions(+), 6 deletions(-)

commit ad7d5495234ced9057360a7156a747a062d6843d
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Feb 22 16:16:22 2018 -0800

    Fix oversight in resolving /_ to namespace. (#3328)

 .../main/scala/whisk/core/entity/FullyQualifiedEntityName.scala  | 2 +-
 tests/src/test/scala/whisk/core/entity/test/SchemaTests.scala    | 9 +++++++++
 2 files changed, 10 insertions(+), 1 deletion(-)

commit 994fbe8df3e82ead318d8df893393bfaa859dc49
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 22 13:04:15 2018 +0100

    Add retry in updating-rule-test. (#3322)
    
    Updating a rule causes a cache-invalidation, which needs to propagate to other controllers before a subsequent get is guaranteed to yield the correct result.

 .../src/test/scala/system/basic/WskRuleTests.scala | 26 +++++++++++++++-------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit e154173c9fa2660b660f40e422e76f2d8981f32a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Feb 22 04:55:22 2018 -0500

    Fix view mismatch in test (#3287)
    
    The test-preparation waited on a different view than the test itself resulting in intermittent failures.
    
    Co-authored by: markusthoemmes <markusthoemmes@me.com>

 tests/src/test/scala/whisk/core/entity/test/ViewTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11a112b9c262750b795816a2fef5c24b99ba2de8
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 21 21:39:23 2018 +0100

    Refactor activation finisher without actor. (#3310)

 .../core/controller/actions/PrimitiveActions.scala | 209 +++++----------------
 .../actions/test/ActivationFinisherTests.scala     | 168 -----------------
 2 files changed, 48 insertions(+), 329 deletions(-)

commit 8393180d7fbd00c1d20b7de726ca698c7dd91d81
Author: Seong-hyun, Oh <admin@upgle.com>
Date:   Thu Feb 22 04:41:16 2018 +0900

    Add conditional statement to check metricsKamon flag. (#3316)

 .../scala/src/main/scala/whisk/common/Logging.scala   | 16 ++++++++++------
 .../src/main/scala/whisk/common/TransactionId.scala   | 19 +++++--------------
 .../src/main/scala/whisk/http/BasicHttpService.scala  |  7 +++----
 3 files changed, 18 insertions(+), 24 deletions(-)

commit 25c5751d7c62d685eeff6f692329fe342abb8dd6
Author: Lorna Jane Mitchell <github@lornajane.net>
Date:   Wed Feb 21 16:44:51 2018 +0000

    Add base64 example for PHP (#3320)

 docs/webactions.md | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit b55e46c684a5bbe3bd1662cc2587a7f033afb3c9
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Feb 21 06:20:44 2018 -0800

    Remove two log messages, tweak logging with metrics, add log message for conductors. (#3299)

 common/scala/src/main/scala/whisk/common/TransactionId.scala |  4 +++-
 .../whisk/core/controller/actions/PrimitiveActions.scala     |  4 +++-
 .../whisk/core/controller/actions/SequenceActions.scala      | 12 ++++++------
 .../whisk/core/loadBalancer/ContainerPoolBalancer.scala      |  6 +-----
 4 files changed, 13 insertions(+), 13 deletions(-)

commit 51e853f54a15cb8c7b36dd84ca72f365d2b1ec32
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Feb 21 03:42:56 2018 -0800

    Remove API for listing all entities in namespace (#3167)

 .../main/scala/whisk/core/entity/WhiskStore.scala  | 46 +---------
 .../src/main/resources/apiv1swagger.json           | 68 ---------------
 .../scala/whisk/core/controller/Namespaces.scala   | 97 ++--------------------
 .../scala/whisk/core/controller/RestAPIs.scala     |  7 +-
 tests/src/test/scala/common/BaseWsk.scala          |  3 -
 tests/src/test/scala/common/Wsk.scala              |  4 +-
 tests/src/test/scala/common/rest/WskRest.scala     | 20 +----
 tests/src/test/scala/services/HeadersTests.scala   | 16 ----
 .../core/controller/test/NamespacesApiTests.scala  | 69 +++------------
 .../scala/whisk/core/entity/test/ViewTests.scala   | 38 +++------
 10 files changed, 36 insertions(+), 332 deletions(-)

commit a6fd056c92683ce42b662c6cb24cd50d87f2cbc2
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 21 10:41:43 2018 +0100

    Rework rule tests to not rely on views anymore. (#3309)
    
    Relying on views is brittle and will fail if the database is under high load. We don't need to rely on those anymore.

 tests/src/test/scala/common/WskTestHelpers.scala   |  40 +---
 .../src/test/scala/system/basic/WskRuleTests.scala | 230 +++++++++------------
 .../test/scala/system/basic/WskSequenceTests.scala |   8 +-
 3 files changed, 117 insertions(+), 161 deletions(-)

commit 18bb1b1c3747ce7ce30117a9341dd31b8759a7c8
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Feb 20 18:52:06 2018 -0800

    Attempt to resolve action name from conductor to a fully qualified name for added convenience. (#3298)

 .../core/entity/FullyQualifiedEntityName.scala     | 32 +++++++++
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  4 +-
 .../core/controller/actions/PrimitiveActions.scala | 79 ++++++++++++----------
 docs/conductors.md                                 |  1 +
 .../scala/system/basic/WskBasicNode6Tests.scala    |  2 +-
 .../scala/system/basic/WskConductorTests.scala     |  4 +-
 .../core/controller/test/ConductorsApiTests.scala  |  6 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala | 25 +++++++
 8 files changed, 111 insertions(+), 42 deletions(-)

commit e346318ce649d93452159dc866a039c4f7eebbad
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Feb 20 23:09:17 2018 +0100

    Bump default retry timeout to 50 milliseconds. (#3311)
    
    The default retry timeout is fairly low today (1 millisecond). Rather than adjusting each value locally, we should use a more decent value to start with globally.

 .../scala/src/main/scala/whisk/utils/Retry.scala   | 25 +++++++---------------
 1 file changed, 8 insertions(+), 17 deletions(-)

commit 7028c4266807814479cf3741858384be49c5b86d
Author: Nhat Nguyen <hoangnhat2911@gmail.com>
Date:   Tue Feb 20 11:34:37 2018 -0800

    Fix spelling mistakes in documentation. (#3305)

 docs/use_cases.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 60da05bb7f8b101f1527e9392f915e86e1e07bdf
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Feb 20 16:43:27 2018 +0100

    Let the AssetCleaner return the result of the test. (#3308)

 tests/src/test/scala/common/WskTestHelpers.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b20778f37e052893818c3c39f0307783d7e5024a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Feb 20 10:36:55 2018 -0500

    Handle trigger activations with inactive rules (#3262)
    
    If trigger has no associated active rules; return a 204.  Also no trigger activation record is created. Updated swagger to reflect new 204 response from POST trigger.
    
    When a trigger activation is created, log all inactive rules as well.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  5 ++
 .../src/main/resources/apiv1swagger.json           |  6 +++
 .../scala/whisk/core/controller/Triggers.scala     | 26 ++++++---
 .../test/scala/system/basic/WskBasicTests.scala    | 62 ++++++++++++++++++++++
 .../core/controller/test/TriggersApiTests.scala    |  9 ++++
 5 files changed, 102 insertions(+), 6 deletions(-)

commit f61607cd39e261b2f1a9fb6ed5cb20910f3da6d1
Author: NaohiroTamura <naohirot@jp.fujitsu.com>
Date:   Tue Feb 20 21:12:36 2018 +0900

    Removed docker image name klaemo/couchdb (#3131)

 ansible/roles/couchdb/tasks/clean.yml | 1 -
 1 file changed, 1 deletion(-)

commit d53cc320fea6ea11b1bfdd90da9ac87c39e89e6c
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Tue Feb 20 08:36:25 2018 +0100

    Secure connections/data-in-motion to Kafka using SSL. (#3258)

 .gitignore                                         |   3 +
 ansible/files/genssl.sh                            | 119 +++++++++++++++++++++
 ansible/group_vars/all                             |  13 ++-
 ansible/roles/controller/tasks/deploy.yml          |  13 ++-
 ansible/roles/invoker/tasks/deploy.yml             |  11 ++
 ansible/roles/kafka/tasks/deploy.yml               |  76 +++++++++++--
 ansible/roles/nginx/files/genssl.sh                |  79 --------------
 ansible/setup.yml                                  |  28 ++++-
 ansible/tasks/writeWhiskProperties.yml             |   7 +-
 common/scala/src/main/resources/application.conf   |  15 +++
 .../connector/kafka/KafkaConsumerConnector.scala   |  28 ++---
 .../connector/kafka/KafkaMessagingProvider.scala   |  14 ++-
 .../connector/kafka/KafkaProducerConnector.scala   |   8 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 +
 .../{application.conf => application.conf.j2}      |  10 ++
 .../test/scala/services/KafkaConnectorTests.scala  |  13 +--
 16 files changed, 308 insertions(+), 131 deletions(-)

commit 94ed1db74625b0084216b7b493082b7d28135b3f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Feb 20 08:11:13 2018 +0100

    Actually retry package remove on conflict. (#3303)
    
    The AssetHelper is supposed to retry a package deletion if it returns a conflic. This can happen, if the package contained other entities (like an action), which got deleted first but the package's view does not yet reflect that deletion. The DELETE call will then complain about "entities still in package". A retry resolves that issue.
    
    - Some cleanup of the helpers file.
    - Refactoring of the annotations helper.

 tests/src/test/scala/common/WskTestHelpers.scala | 30 ++++++++++++------------
 1 file changed, 15 insertions(+), 15 deletions(-)

commit 50e5e6c319a2848cfb65089b103bbf1b71193087
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Feb 20 11:55:23 2018 +0530

    Script to extract view functions as js files (#3293)

 tools/build/scanCode.cfg                      |  1 +
 tools/dev/README.md                           | 43 +++++++++++++++++++
 tools/dev/build.gradle                        | 14 ++++++
 tools/dev/src/main/groovy/couchdbViews.groovy | 61 +++++++++++++++++++++++++++
 4 files changed, 119 insertions(+)

commit 16ab33543c01634636682115da7862f5e9930ad0
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Feb 20 00:29:11 2018 -0500

    Add HTTP request timeout. (#3301)

 tools/admin/wskutil.py | 36 +++++++++++++++---------------------
 1 file changed, 15 insertions(+), 21 deletions(-)

commit a8d0d9f4177689c860043c7fe2333c23c206f681
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Feb 20 10:09:24 2018 +0530

    Switch snapshot version to 1.0.0-SNAPSHOT (#3294)

 build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7bc18698f4389563f96f082d725f9a6bae2c4727
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Feb 19 22:35:18 2018 -0500

    Convert inline code to attachment in database (#2938)

 tools/db/README.md               |   9 +++
 tools/db/moveCodeToAttachment.py | 117 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 126 insertions(+)

commit 8e93d488df6e31508b523702a1ff35939c9fb860
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 19 22:17:53 2018 -0500

    For MacOSX using docker-for-mac, do not use runc. (#3300)

 ansible/environments/local/group_vars/all | 1 +
 1 file changed, 1 insertion(+)

commit 22317c45ef7f729dee10343aa3d5c29c191cfa5f
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Feb 19 15:40:24 2018 +0100

    Remove finely granulated metrics. (#3284)
    
    These metrics cause scalability issues in common time-series databases and as such are dangerous to day-to-day operations.

 common/scala/src/main/scala/whisk/common/Logging.scala             | 7 +++----
 .../main/scala/whisk/core/loadBalancer/ContainerPoolBalancer.scala | 2 +-
 .../whisk/core/loadBalancer/ShardingContainerPoolBalancer.scala    | 2 +-
 .../src/main/scala/whisk/core/containerpool/ContainerPool.scala    | 2 +-
 4 files changed, 6 insertions(+), 7 deletions(-)

commit cb1e88f319cfc3368e8df03995325b9f6fcfd468
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Feb 19 20:07:54 2018 +0530

    Add explicit type-info to the ArtifactStore. (#3283)

 .../main/scala/whisk/core/database/ArtifactStoreProvider.scala    | 8 +++++---
 .../src/main/scala/whisk/core/database/CouchDbStoreProvider.scala | 6 +++++-
 common/scala/src/main/scala/whisk/core/entity/WhiskStore.scala    | 3 +++
 .../scala/whisk/core/controller/test/ActivationsApiTests.scala    | 3 +++
 4 files changed, 16 insertions(+), 4 deletions(-)

commit bc4b0fd23012d4f351875e8b81658b8a62b85633
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Feb 19 15:49:19 2018 +0530

    Only run createKeystore if tests are actually run. (#3282)

 tests/build.gradle | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 43a2a0f92a65c1d0510c693fef77a774cabe29f7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Feb 16 15:37:03 2018 +0100

    Bump swift test-timeout to 2 minutes. (#3296)
    
    - This test is prone to errors because compiling swift apparently is subject to a lot variance (seen up to 1 minute).
    - Refactor of some test helpers.

 tests/src/test/scala/common/WskTestHelpers.scala   | 34 +++++++++++++++-------
 .../scala/whisk/core/cli/test/Swift311Tests.scala  |  2 +-
 2 files changed, 25 insertions(+), 11 deletions(-)

commit 966c091680cd85ea6f57ac2413512a2e732f330c
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Feb 16 10:19:22 2018 +0100

    Remove deprecated controller hot-standby mode. (#3266)

 ansible/group_vars/all                                             | 4 +---
 ansible/roles/controller/tasks/deploy.yml                          | 1 -
 ansible/roles/nginx/templates/nginx.conf.j2                        | 7 ++-----
 ansible/templates/whisk.properties.j2                              | 1 -
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala           | 2 --
 .../src/main/scala/whisk/core/entitlement/Entitlement.scala        | 5 ++---
 .../main/scala/whisk/core/loadBalancer/ContainerPoolBalancer.scala | 2 +-
 tests/src/test/scala/limits/ThrottleTests.scala                    | 3 +--
 8 files changed, 7 insertions(+), 18 deletions(-)

commit a8434b7c3eccaa5b4627849ce3cbff78dc67b41e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Feb 16 10:14:53 2018 +0100

    Check all testfiles to actually contain the `RunWith` annotation. (#3290)
    
    We had a couple of rogue tests in the repository which didn't have the annotation `RunWith`, so they haven't been run in CI/CD at all.

 .../{JsonArgsForTests.scala => TestJsonArgs.scala} |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  2 +-
 .../loadBalancer/test/LoadBalancerDataTests.scala  |  3 ++
 ...iderTest.scala => SeedNodesProviderTests.scala} |  7 ++--
 .../loadBalancer/test/SharedDataServiceTests.scala | 40 ++++++++--------------
 tools/travis/build.sh                              |  9 +++++
 6 files changed, 34 insertions(+), 29 deletions(-)

commit 70239ae3b885b9e5ffdca65ae97ceaaa2fac1a74
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 15 21:57:52 2018 -0500

    Remove expected duration from Swift test (#3292)

 tests/src/test/scala/whisk/core/cli/test/Swift311Tests.scala | 7 -------
 1 file changed, 7 deletions(-)

commit 78105f92dbb0ac61cda15cb046779cfbc39d8791
Author: Olivier Tardieu <tardieu@users.noreply.github.com>
Date:   Thu Feb 15 18:31:40 2018 -0500

    Support action continuations in the controller (#3202)
    
    This commit introduces a new type of actions called conductors. Conductors are a kind of sequence with dynamically computed steps. While the components of a sequence must be specified before invocation, components of a conductor can be decided as the composition is running.
    
    Like the sequence implementation, the bulk of the implementation for supporting conductors lies in the controller. It chains the invocations of the component actions. It keeps track of the execution state. It produces the final activation record for the top level conductor invocation.
    
    In contrast with sequences and in an attempt to keep the changes contained in the controller code, a conductor is not a new kind of action but rather a action with a marker annotation. This means no CLI changes for instance.
    
    A conductor action is an action with a defined "conductor" annotation. The value of the annotation must be a truthy to have effect. The annotation is ignored on sequences.
    
    Conductor actions drive the execution of compositions (functions invoked one after the other). A conductor action may either return a final result or a triplet { action, params, state }. In the latter case, the specified component action is invoked on the specified params object. Upon completion of this action the conductor action is reinvoked with a payload that combines the output of the action with the state returned by the previous conductor invocation. The composition result is the result of the final conductor invocation in the chain of invocations.
    
    A composition is therefore a sequence of invocations alternating invocations of the (fixed) conductor action with invocations of the dynamically specified components of the composition. In a sense, the conductor action acts as a scheduler that decodes and executes a sequential program. Conductor actions make it possible to support dynamic composition in OpenWhisk without committing to any particular execution model (e.g., finite state machines of one kind or another), or invocation conventions.
    
    Compositions may be nested, i.e, a step in a composition may itself be a composition. The controller recognizes this pattern and handles it efficiently.
    
    Like a sequence, one composition is materialized by one action. Creating a composition requires the definition of one conductor action. Deleting the composition consists in deleting the corresponding action. Like a sequence, a composition refers to the composed actions by name (i.e., by reference).
    
    There is no distinction between invoking a conductor and an action. Both invocations returns an activation id that can be used to fetch the result of the execution of the action or composition. Both invocations can be blocking. Both can be web actions.
    
    As for sequences, there is a configurable upper bound on the length of a composition (number of steps). In contrast with sequences, the limit is assessed at run time, and the composition invocation is aborted if the limit is exceeded. An entitlement check verifies that each composed action is accessible prior to its execution. A composition invocation like a sequence invocation counts as one invocation viz. throttling. In particular, a composition will not be aborted during execution due to throttling. Therefore a composition designed to have fewer steps than the limit will not abort due to quotas once it has started execution.
    
    This commit comes with unit tests for the controller as well as integration tests.
    
    Example:
    
    $ cat increment.js
    function main({ value }) { return { value: value + 1 } }
    
    $ cat conductor.js
    function main(params) {
        switch (params.$step || 0) {
            case 0: delete params.$step; return { params, action: 'increment', state: { $step: 1 } }
            case 1: delete params.$step; return { params, action: 'increment', state: { $step: 2 } }
            case 2: delete params.$step; return params
        }
    }
    
    $ wsk action update increment increment.js
    $ wsk action update conductor conductor.js -a conductor true
    
    $ wsk action invoke conductor -r -p value 3
    {
        "value": 5
    }
    
    This example demonstrates a simple conductor with two increment steps. The progress of the execution is tracked via the $step field of the parameter object that is propagated from a conductor invocation to the next but hidden from the composed actions.

 .../main/scala/whisk/core/entity/Parameter.scala   |  11 +
 .../scala/whisk/core/entity/WhiskActivation.scala  |   7 +
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  12 +
 .../core/controller/actions/PrimitiveActions.scala | 411 ++++++++++++++++++++-
 docs/conductors.md                                 | 253 +++++++++++++
 tests/dat/actions/conductor.js                     |  15 +
 tests/dat/actions/step.js                          |   7 +
 .../scala/system/basic/WskConductorTests.scala     | 330 +++++++++++++++++
 .../scala/system/basic/WskRestConductorTests.scala |  28 ++
 .../core/controller/test/ConductorsApiTests.scala  | 374 +++++++++++++++++++
 10 files changed, 1446 insertions(+), 2 deletions(-)

commit bcf87fe3a26abe899a47bc888e9b5d70ad39d70d
Author: Lorna Jane Mitchell <github@lornajane.net>
Date:   Thu Feb 15 17:43:44 2018 +0000

    Move parameter docs to separate page, add package params docs (#3244)

 docs/actions.md    | 179 ++++++++--------------------------------------------
 docs/parameters.md | 181 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 208 insertions(+), 152 deletions(-)

commit 5bf2154af74a72f651b10b6fe934d48fb634070c
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 15 10:25:18 2018 -0500

    Preserve rule status when rule is updated (#3254)

 .../main/scala/whisk/core/controller/Rules.scala   | 33 ++++++++++++++++++----
 .../src/test/scala/system/basic/WskRuleTests.scala | 29 +++++++++++++++++++
 .../whisk/core/controller/test/RulesApiTests.scala | 10 +++----
 3 files changed, 61 insertions(+), 11 deletions(-)

commit 9ea2da750c0fe45c5dae0176e730ee4d3a740c26
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 15 09:38:29 2018 -0500

    Actually run container pool logging tests. (#3288)
    
    These test-cases were missing the `RunWith` annotation.

 .../whisk/core/containerpool/logging/LogDriverLogStoreTests.scala      | 3 +++
 .../scala/whisk/core/containerpool/logging/SplunkLogStoreTests.scala   | 3 +++
 .../logging/test/DockerToActivationFileLogStoreTests.scala             | 3 +++
 .../containerpool/logging/test/DockerToActivationLogStoreTests.scala   | 3 +++
 4 files changed, 12 insertions(+)

commit 2d1a827ec6164c04ef860677de5feb289fb1ac19
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 15 13:21:11 2018 +0100

    Fix NullPointerException in ActivationFinisher. (#3278)
    
    The ActivationFinisher's code is racy. If shutdown and postStop are called concurrently a NullPointerException is possible.
    
    * Context is guaranteed to be still alive in postStop

 .../scala/whisk/core/controller/actions/PrimitiveActions.scala     | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 54527b5d76cbbc130a7ecb42132b5075ab60890e
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Feb 14 16:31:21 2018 -0500

    GET trigger now returns matched rules in JSON payload (#3275)
    
    * GET trigger now returns matched rules in JSON payload
    
    * Update GET trigger swagger to include "rules" object

 core/controller/src/main/resources/apiv1swagger.json                | 5 ++++-
 core/controller/src/main/scala/whisk/core/controller/Triggers.scala | 2 +-
 tests/src/test/scala/system/basic/WskBasicTests.scala               | 6 ++++++
 .../test/scala/whisk/core/controller/test/TriggersApiTests.scala    | 6 +++---
 4 files changed, 14 insertions(+), 5 deletions(-)

commit c5d5d46e0c382ad8a86f44797e91b4bbaa290640
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 14 22:21:10 2018 +0100

    Make --web flag test more durable. (#3285)
    
    Relying on updates will intermittently fail if you have multiple controller because they perform distributed cache invalidation. That test doesn't need to be relying on that so just creating a new action for each fixes that intermittent failure.
    
    Furthermore, the order of annotations seems non-deterministic.

 .../scala/whisk/core/cli/test/WskBasicUsageTests.scala     | 14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit 450b1db1aeafea6cd47df6b0951cd33611418ca0
Author: Belinda Vennam <beemarie88@gmail.com>
Date:   Wed Feb 14 09:33:56 2018 -0600

    removing unused param since we now use env var for this purpose (#3214)

 ansible/tasks/installOpenwhiskCatalog.yml | 1 -
 1 file changed, 1 deletion(-)

commit 5da6003edcb8e8d658a60f8654487ce10c17cd53
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 14 08:17:26 2018 +0100

    Replace asString and asBool with generic method. (#3280)
    
    Mainly aims to reduce boilerplate in code which tries to extract non-primitive data from parameters/annotations. Any supported json-format (for example case classes) can be loaded safely from parameters.

 .../main/scala/whisk/core/entity/Parameter.scala   | 31 +++-------------------
 .../main/scala/whisk/core/entity/WhiskAction.scala |  2 +-
 .../scala/whisk/core/controller/WebActions.scala   |  8 +++---
 3 files changed, 9 insertions(+), 32 deletions(-)

commit a2d978108a97a36ad063ceb61dad63419392f076
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 14 08:12:26 2018 +0100

    Add a loadbalancer with local state and horizontal invoker sharding. (#3240)
    
    The current ContainerPoolBalancer suffers a couple of problems and bottlenecks:
    
    1. **Inconsistent state:** The data-structures keeping the state for that loadbalancer are not thread-safely handled, meaning there can be queuing to some invokers even though there is free capacity on other invokers.
    2. **Asynchronously shared state:** Sharing the state is needed for a high-available deployment of multiple controllers and for horizontal scale in those. Said state-sharing makes point 1 even worse and isn't anywhere fast enough to be able to efficiently schedule quick bursts.
    3. **Bottlenecks:** Getting the state from the outside (like for the ActivationThrottle) is a very costly operation (at least in the sharedstate case) and actually bottlenecks the whole invocation path. Getting the current state of the invokers is a second bottleneck, where one request is made to the corresponding actor for each invocation.
    
    This new implementation aims to solve the problems mentioned above as follows:
    
    1. **All state is local:** There is no shared state. Resources are managed through horizontal sharding. Horizontal sharding means: The invokers' slots are evenly divided between the loadbalancers in existence. If we deploy 2 loadbalancers and each invoker has 16 slots, each of the loadbalancers will have access to 8 slots on each invoker.
    2. **Slots are given away atomically:** When scheduling an activation, the slot is immediatly assigned to that activation (implemented through Semaphores). That means: Even in concurrent schedules, there will not be an overload on an invoker as long as there is capacity left on that invoker.
    3. **Asynchronous updates of slow data:** Slowly changing data, like a change in the invoker's state, is asynchronously handled and updated to a local version of the state. Querying the state is as cheap as it can be.

 ansible/group_vars/all                             |   2 +
 ansible/roles/controller/tasks/deploy.yml          |   1 +
 .../scala/whisk/common/ForcableSemaphore.scala     | 124 ++++++
 .../scala/whisk/core/controller/Controller.scala   |   2 +
 .../core/entitlement/ActivationThrottler.scala     |  28 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  80 ++--
 .../whisk/core/entitlement/RateThrottler.scala     |  11 +-
 .../core/loadBalancer/ContainerPoolBalancer.scala  |   2 +
 .../core/loadBalancer/InvokerSupervision.scala     |  12 +-
 .../whisk/core/loadBalancer/LoadBalancer.scala     |   5 +
 .../ShardingContainerPoolBalancer.scala            | 453 +++++++++++++++++++++
 docs/deploy.md                                     |   6 +
 tests/src/test/scala/limits/ThrottleTests.scala    |  21 +-
 .../whisk/common/ForcableSemaphoreTests.scala      |  88 ++++
 .../core/controller/test/RateThrottleTests.scala   |   6 +-
 .../test/ShardingContainerPoolBalancerTests.scala  | 174 ++++++++
 16 files changed, 947 insertions(+), 68 deletions(-)

commit 28328c1043b5cbe0e55c4588fa43960e6c860b04
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 14 08:08:04 2018 +0100

    Use proper API host and reduce logging noise. (#3276)
    
    Co-authored-by: cbickel <github@cbickel.de>
    Co-authored-by: jeremiaswerner <jeremias.werner@gmail.com>

 tests/src/test/scala/common/rest/WskRest.scala | 72 ++++++++------------------
 1 file changed, 23 insertions(+), 49 deletions(-)

commit a2dcace3d4cbef737cb5875c758f7e5d2b6d9f3c
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Feb 13 14:53:57 2018 -0500

    Add binary, image, and main properties to WhiskActionMetaData (#3109)
    
    Make the reduced action view more like the full view.

 .../src/main/scala/whisk/core/entity/Exec.scala    |  64 +++++++--
 .../core/controller/test/ActionsApiTests.scala     | 143 ++++++++++++++++++---
 .../core/controller/test/WebActionsApiTests.scala  |   2 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  18 ++-
 4 files changed, 196 insertions(+), 31 deletions(-)

commit 6f1d1a18bd53c288a1bad9de740f664ea595b4e5
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Feb 13 10:57:28 2018 -0800

    Adding implementation of a Splunk-backed LogStore (#2957)
    
    Co-authored-by: mcdan <me@danmcweeney.com>

 .../src/main/scala/whisk/core/WhiskConfig.scala    |   3 +
 .../containerpool/logging/LogDriverLogStore.scala  |  56 +++++++
 .../containerpool/logging/SplunkLogStore.scala     | 160 +++++++++++++++++++
 .../logging/LogDriverLogStoreTests.scala           |  38 +++++
 .../logging/SplunkLogStoreTests.scala              | 177 +++++++++++++++++++++
 5 files changed, 434 insertions(+)

commit f8d69f21be516bdc21f2a9039232cf32475c7b12
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Feb 13 13:47:41 2018 +0100

    Enhance the RestResult with more information to debug failing tests. (#3260)

 tests/src/test/scala/common/rest/WskRest.scala | 6 ++++++
 1 file changed, 6 insertions(+)

commit d7e59b5549525bbe68c1a0c8b8b28db91844b2d9
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Feb 12 13:01:12 2018 -0500

    use PureConfig for misc. runtimesManifest configuration (#3259)
    
    Refactor runtimes.json so that the misc. simple configuration
    fields are specified using PureConfig (whisk.runtimes),
    leaving only the more complex arrays of runtimes and blackboxes
    in runtime.json.  Since we expect deployments to frequently
    override the set of runtimes, it makes sense to leave them as
    being defined by a json file that is not included in the
    Invoker/Controller docker image (simplify override).  The flags
    moved to PureConfig are simple fields, and thus easier to override
    via envvars if necessary.
    
    Restores the ability to easily override bypassPullForLocalImages.
    
    Fixes #3245.

 ansible/environments/docker-machine/group_vars/all |  2 +-
 ansible/environments/local/group_vars/all          |  2 +-
 ansible/files/runtimes.json                        |  3 --
 ansible/group_vars/all                             | 12 +-----
 ansible/roles/controller/tasks/deploy.yml          |  5 +++
 ansible/roles/invoker/tasks/deploy.yml             |  4 ++
 common/scala/src/main/resources/application.conf   |  7 ++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 +
 .../scala/whisk/core/entity/ExecManifest.scala     | 37 ++++++++++++------
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 .../whisk/core/entity/test/ExecManifestTests.scala | 44 +++++++---------------
 11 files changed, 62 insertions(+), 58 deletions(-)

commit ebe7788b5261bb845e43b74525fa2ad2cacbf80b
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Feb 12 10:59:28 2018 +0100

    Wait for logs based on intervals not based on total processing time. (#3273)
    
    Writing a large chunk of logs can take quite some time to process. The standard timeout for this process is 2 seconds today. It is bounded, because an action developer might break the action proxy to make sentinels not appear at all which would cause us to infinitely wait on sentinels.
    
    As we process logs after an activation has run though, we can safely rely on the time **between** two logs not exceeding a certain threshold. That way, the complete processing is not bounded by some arbitrary timeout (which can even be too short for large volumes) and is still tight enough to exit early if sentinels really are missing.
    
    Furthermore, an error line is inserted if this timeout hits to inform the user that something might've gone wrong.

 .../core/containerpool/docker/DockerContainer.scala      | 16 ++++++++++------
 .../containerpool/docker/test/DockerContainerTests.scala |  7 +++----
 2 files changed, 13 insertions(+), 10 deletions(-)

commit 64e463940cbc0001a46a4a79ebd56d2414f6925d
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sun Feb 11 12:40:37 2018 -0500

    Allow / in "host" portion of actionUrlPattern (#3125)
    
    * Allow / in "host" portion of actionUrlPattern
    
    Allowing / in the "host" portion of the actionUrlPattern supports
    deployments where URL rewriting in a front-end proxy is used to allow
    multiple services to be hosted from a single hostname or IP address.
    This is a common scenario for Kubernetes-based deployments where a
    cluster may only have a single exposed IP address or DNS name and its
    Ingress does URL rewriting to expose multiple services using different
    paths.  For example, when deploying OpenWhisk on a kube cluster we
    need to expose two aspects of OpenWhisk using a single host name
      mycluster.cloudprovider.com/openwhisk
      mycluster.cloudprovider.com/apigateway
    
    * review comment: escape / in regex string

 core/routemgmt/common/apigw-utils.js | 4 ++--
 core/routemgmt/common/utils.js       | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 863858a50e28d3ebf23b588683f6495933baa16a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sun Feb 11 15:53:12 2018 +0100

    Refactor some bits of the triggers API. (#3256)

 .../scala/whisk/core/controller/Triggers.scala     | 164 ++++++++-------------
 1 file changed, 63 insertions(+), 101 deletions(-)

commit 9bd7170c4efb39d34cbb030be3ac7a559dfb0126
Author: Christian Bickel <github@cbickel.de>
Date:   Sun Feb 11 15:18:42 2018 +0100

    Cleanup replication doc after testing replay of database. (#3268)

 tests/src/test/scala/whisk/core/database/test/ReplicatorTests.scala | 1 +
 1 file changed, 1 insertion(+)

commit add7040f5597780901bdb44fc25b5b67f9d82018
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sat Feb 10 20:07:25 2018 +0100

    Rewrite Kafka test and accomodate for eventual consistency. (#3271)

 .../test/scala/services/KafkaConnectorTests.scala  | 119 ++++++++++-----------
 1 file changed, 59 insertions(+), 60 deletions(-)

commit e61d49d6f0ebc7d733db35cbaa826fef6f8586d0
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sat Feb 10 17:27:28 2018 +0100

    Remove unneeded logline and revive old marker. (#3270)

 .../whisk/core/loadBalancer/ContainerPoolBalancer.scala     | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit e325be7e9dcc2fbd5e6d77deb83d8b78328100e0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Feb 9 22:17:04 2018 -0500

    change tmp dir for vagrant (#3269)
    
    * change tmp dir for vagrant
    
    * no need to set namespace
    
    * setup /tmp as default if OPENWHISK_TMP_DIR not defined

 ansible/environments/local/group_vars/all | 5 +++--
 tools/vagrant/Vagrantfile                 | 4 +++-
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 790b7c8b080ea1cc171324779ec1bce2a1c7ab1b
Author: Olivier Tardieu <tardieu@users.noreply.github.com>
Date:   Thu Feb 8 14:19:11 2018 -0500

    Pin docker engine version on ubuntu (#3261)

 tools/ubuntu-setup/docker.sh | 1 +
 1 file changed, 1 insertion(+)

commit 674b26cf175dd5402c6e22b0f4265fda545e1c18
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 8 10:08:08 2018 -0500

    Refactor controller role to user variables for hostname and host index. (#3206)
    
    - Define variables for frequently referenced operations controller role
    - Move controller.jmxremote.jvmArgs to deploy.yml

 ansible/group_vars/all                    |  7 ------
 ansible/roles/controller/tasks/clean.yml  | 14 ++++++++---
 ansible/roles/controller/tasks/deploy.yml | 42 ++++++++++++++++++-------------
 3 files changed, 36 insertions(+), 27 deletions(-)

commit 2fc5a6001797ca78b974d4bb56f7b860b54699e7
Author: Martin Henke <martin.henke@web.de>
Date:   Wed Feb 7 15:47:15 2018 +0100

    add additional metrics and logs (#2968)
    
    * add additional metrics and logs
    
    * move logging out of container creation logic
    
    * consolidate log messages

 .../src/main/scala/whisk/common/Logging.scala      | 10 +++-
 .../whisk/core/database/CouchDbRestStore.scala     |  7 ++-
 .../core/loadBalancer/ContainerPoolBalancer.scala  | 11 ++++-
 .../whisk/core/containerpool/ContainerPool.scala   | 54 ++++++++++++++++------
 4 files changed, 59 insertions(+), 23 deletions(-)

commit ae342340a24578cd2af97130e906373c5d669c7d
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Wed Feb 7 20:11:19 2018 +0530

    Fixes #3212 - WhiskConfig should close the property file source (#3213)
    
    Close the source instance with try-finally usage.

 .../src/main/scala/whisk/core/WhiskConfig.scala    | 25 +++++++++++++---------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit e2d9ec09aed1cd4d5ecbac6c7105a3410e30706e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 7 21:07:32 2018 +0700

    Efficiently parse CompletionMessage. (#3253)
    
    The parsing of `Either` relies on parsing failures in its generalized form. In this specialized case we can circumvent this and parse only once, without throwing any forced error messages.
    
    Fixes #3228

 .../src/main/scala/whisk/core/connector/Message.scala     | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit f22955f170b1500db550ef12119f3ef766d443b7
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Feb 6 11:12:53 2018 -0500

    Refactor List Limit Error Message (#3251)

 common/scala/src/main/scala/whisk/http/ErrorResponse.scala            | 4 ++--
 core/controller/src/main/scala/whisk/core/controller/RestAPIs.scala   | 2 +-
 tests/src/test/scala/whisk/core/controller/test/ActionsApiTests.scala | 2 +-
 .../test/scala/whisk/core/controller/test/ActivationsApiTests.scala   | 2 +-
 .../src/test/scala/whisk/core/controller/test/PackagesApiTests.scala  | 2 +-
 tests/src/test/scala/whisk/core/controller/test/RulesApiTests.scala   | 2 +-
 .../src/test/scala/whisk/core/controller/test/TriggersApiTests.scala  | 2 +-
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 4463d5768bd5f53a87797983c1145da6f19e5540
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Feb 6 11:08:03 2018 -0500

    bump docker runtime for large input, perl, and utilities (#3252)

 actionRuntimes/actionProxy/Dockerfile              |  2 +-
 .../ActionProxyContainerTests.scala                | 52 ++++++++++++++++++++--
 2 files changed, 49 insertions(+), 5 deletions(-)

commit 9ededdf82210682726f8800b2c02e68e3234efdf
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Feb 6 10:42:12 2018 -0500

    reduce rule activation records (#3187)
    
    * reduce rule activation records
    
    * include action invocation async response in trigger activation logs
    
    * adjust rule tests to have active rules
    
    * trigger activation log format is array of stringified JSON objects
    
    * Add trigger tests to validate trigger activation logs

 .../scala/whisk/core/controller/Triggers.scala     | 241 +++++++++++++++------
 .../test/scala/system/basic/WskBasicTests.scala    | 165 ++++++++++++--
 .../src/test/scala/system/basic/WskRuleTests.scala |  36 ++-
 .../scala/whisk/core/cli/test/Swift311Tests.scala  |  11 +
 .../core/controller/test/TriggersApiTests.scala    |  13 +-
 5 files changed, 350 insertions(+), 116 deletions(-)

commit a6b3faf21101fe2b229d243cd23c9517a4593687
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Feb 6 08:51:31 2018 -0500

    Add controller info route test (#3170)
    
    * Add controller info route test

 .../core/controller/test/ControllerApiTests.scala  | 67 ++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 87d600f22151134b4b887f3e4235d860b9398ef3
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Feb 5 20:51:06 2018 -0500

    bump nodejs openwhisk npm to 3.12.0 (#3250)

 actionRuntimes/nodejs6Action/Dockerfile | 2 +-
 actionRuntimes/nodejs8Action/Dockerfile | 2 +-
 docs/reference.md                       | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit e7d2c7cc131ce84c90c75cbeccc2f6243676f543
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 1 09:33:37 2018 +0100

    Make HA tests for controller more lenient. (#3230)
    
    - Adjusts the value of allowed failures slightly.
    - Corrects no longer valid comment.
    - Uses the right value for limit calculation.

 tests/src/test/scala/ha/ShootComponentsTests.scala | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 27c3e10266bbd9e1a0a0e64aa35054c965f3d4bf
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 1 08:43:12 2018 +0100

    Externalize InvokerPool initialization logic. (#3238)
    
    This piece of logic clutters the loadbalancer's code for no good reason. We should externalize it.

 .../core/loadBalancer/ContainerPoolBalancer.scala  | 57 +++-------------------
 .../core/loadBalancer/InvokerSupervision.scala     | 57 ++++++++++++++++++----
 2 files changed, 55 insertions(+), 59 deletions(-)

commit 9079e3908141ec307304d710e3fc5480745efdbb
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jan 31 17:44:26 2018 +0100

    Fix nginx' performance regression. (#3236)
    
    Per nginx' documentation, using `proxy_set_header` on subsequent levels will override all the values from the previous level. This moves all of those directives to the same level.

 ansible/roles/nginx/templates/nginx.conf.j2 | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 11ab5c063d5a61847481adf9e085f6130135be1f
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 30 21:06:41 2018 -0500

    update docs for ulimit and pid-limit (#3231)

 docs/reference.md | 12 ++++++------
 1 file changed, 6 insertions(+), 6 deletions(-)

commit 3053cc04025f0583bca46dc80602b0f886a4f73b
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 30 16:57:36 2018 -0500

    update component png to remove swiglies (#3233)

 docs/images/components_to_repos.png | Bin 871131 -> 274201 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 306c7ab47d9b033c69513af72560186a5d829bc0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 30 16:56:56 2018 -0500

    print url for swagger UI on Vagrant deploy (#3234)

 tools/vagrant/Vagrantfile | 1 +
 1 file changed, 1 insertion(+)

commit dd4b71ccff890f9a9da339dd93433afcfcd9e007
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Mon Jan 29 20:14:25 2018 -0500

    reduce fillInStackTrace expenses due to ArgNormalizer (#3225)
    
    make DocId constructor public

 common/scala/src/main/scala/whisk/core/entity/DocInfo.scala             | 2 +-
 .../src/main/scala/whisk/core/entity/FullyQualifiedEntityName.scala     | 2 +-
 .../src/main/scala/whisk/core/controller/actions/PrimitiveActions.scala | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e70e23baf6d8861ee8760d7e106cb7ab3781b261
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Sat Jan 27 21:57:25 2018 +0530

    Add maven plugin to build.grade (#3061)
    
    - Adds `maven` plugin to build.gradle files for tests, common, controller and
    invoker.
    - Enables support for generating source jars
    - Uses `org.apache.openwhisk` as groupId
    - Uses `0.0.1-SNAPSHOT` as current version
    - Customize the base name to follow pattern "openwhisk-<module name>"

 build.gradle                 | 42 ++++++++++++++++++++++++++++++++++++++++++
 common/scala/build.gradle    |  3 +++
 core/controller/build.gradle |  3 +++
 core/invoker/build.gradle    |  3 +++
 tests/build.gradle           |  3 +++
 5 files changed, 54 insertions(+)

commit b3f0b64ffafc171b2ed95b5a01bd46a3cfef39ed
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jan 26 14:49:02 2018 -0500

    Fix names of annotations. (#3222)

 docs/annotations.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 97af5e67f6fdca89eac74bc1afb9c22539d01f5f
Author: Martin Henke <martin.henke@web.de>
Date:   Fri Jan 26 19:18:37 2018 +0100

    Remove kafka related debug message (#3223)

 .../src/main/scala/whisk/connector/kafka/KafkaProducerConnector.scala   | 2 --
 1 file changed, 2 deletions(-)

commit d585449207d080c3f74c3760dd60ae7afd1a378d
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Jan 26 14:59:12 2018 +0100

    Fix overload of invoker. (#3221)
    
    Due to duplicate names of variables, the loadbalancer thought, that the home invoker of an action has still some free slots. But the controller asked for the wrong invoker, so the invoker was totally overloaded.

 .../core/loadBalancer/ContainerPoolBalancer.scala    | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 2ca301fba99a6baba235f3afa90ae0daa884f3ff
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jan 26 05:02:54 2018 -0500

    Move log message into a closure to defer string interpolation. (#3220)
    
    A lot of log messages are logged at debug level and use string
    interpolation. By moving the message into a closure, for debug level
    messages which are generally not logged, the interpolation is deferred
    and then eschewed.
    
    Apply the same to other logger methods as well as transaction markers.

 .../src/main/scala/whisk/common/Logging.scala      | 31 ++++++++++++----------
 .../main/scala/whisk/common/TransactionId.scala    | 24 ++++++++---------
 2 files changed, 29 insertions(+), 26 deletions(-)

commit a04bf2764e5f9aee74004f85943ffc6c70968e63
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Wed Jan 24 14:07:24 2018 -0800

    use alpine linux for base image (#3063)

 common/scala/Dockerfile    | 75 +++++++++++++++++++++++++++++++++++-----------
 core/controller/Dockerfile | 10 +++----
 core/controller/init.sh    |  2 +-
 core/invoker/Dockerfile    |  2 +-
 4 files changed, 64 insertions(+), 25 deletions(-)

commit e5b4a6e968e2beb5f41d88a164ec408972c77a48
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Jan 24 20:41:07 2018 +0300

    Reduce the number of logs on info level (#2960)
    
    This commit reduces the verbosity of the DB operations (to debug level). A few other log messages related to entitlement checks are also raises to debug level.

 .../src/main/scala/whisk/common/Scheduler.scala    |  2 +-
 .../main/scala/whisk/common/TransactionId.scala    | 16 ++++---
 .../whisk/core/connector/MessageConsumer.scala     |  2 +-
 .../scala/whisk/core/containerpool/Container.scala | 19 ++++++--
 .../MultipleReadersSingleWriterCache.scala         |  4 +-
 .../main/scala/whisk/core/controller/Actions.scala | 14 +++---
 .../scala/whisk/core/controller/ApiUtils.scala     | 50 +++++++++++-----------
 .../scala/whisk/core/controller/Authenticate.scala |  8 ++--
 .../scala/whisk/core/controller/Controller.scala   |  7 ++-
 .../scala/whisk/core/controller/Packages.scala     | 11 +++--
 .../main/scala/whisk/core/controller/Rules.scala   | 14 +++---
 .../scala/whisk/core/controller/Triggers.scala     |  4 +-
 .../scala/whisk/core/controller/WebActions.scala   | 12 +++---
 .../core/controller/actions/PrimitiveActions.scala |  9 ++--
 .../core/controller/actions/SequenceActions.scala  |  6 +--
 .../core/entitlement/ActivationThrottler.scala     | 12 +++---
 .../scala/whisk/core/entitlement/Entitlement.scala | 26 +++++------
 .../whisk/core/entitlement/LocalEntitlement.scala  |  4 +-
 .../whisk/core/entitlement/PackageCollection.scala | 10 ++---
 .../whisk/core/entitlement/RateThrottler.scala     |  2 +-
 .../core/loadBalancer/ContainerPoolBalancer.scala  | 10 ++++-
 .../whisk/core/containerpool/ContainerProxy.scala  |  3 +-
 .../core/containerpool/docker/DockerClient.scala   |  5 ++-
 .../core/containerpool/docker/RuncClient.scala     |  7 +--
 .../scala/whisk/core/invoker/InvokerReactive.scala |  9 ++--
 .../src/test/scala}/common/SimpleExec.scala        |  9 ++--
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  5 +--
 .../controller/test/ControllerTestCommon.scala     | 10 ++---
 28 files changed, 157 insertions(+), 133 deletions(-)

commit 469c5a552d51d52a9f62fc32f4b5bf4879c17037
Author: Vincent <shou@us.ibm.com>
Date:   Wed Jan 24 10:23:45 2018 -0500

    Rewrite wsk basic tests for the REST API (#3103)

 .../test/scala/system/basic/WskBasicTests.scala    | 477 ++++++++++-----------
 .../test/scala/system/basic/WskRestRuleTests.scala |   4 +-
 .../core/cli/test/WskRestEntitlementTests.scala    |  14 +-
 3 files changed, 243 insertions(+), 252 deletions(-)

commit a891e067157848103df56c92daa3a143666425b5
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Jan 23 18:19:55 2018 +0100

    Make payload limit configurable. (#3209)
    
    Lifts hardcoded activation payload and size to a deployment parameter.

 ansible/roles/controller/tasks/deploy.yml          |  2 ++
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 common/scala/src/main/resources/application.conf   | 19 ++++++++++++++++---
 .../connector/kafka/KafkaMessagingProvider.scala   | 22 +++++++++++-----------
 .../connector/kafka/KafkaProducerConnector.scala   |  8 +++++++-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  3 +++
 .../whisk/core/entity/ActivationEntityLimit.scala  | 11 +++++++++--
 .../containerpool/docker/DockerContainer.scala     |  4 ++--
 .../whisk/core/limits/ActionLimitsTests.scala      | 22 ++++++++++++++++++++++
 9 files changed, 73 insertions(+), 19 deletions(-)

commit 1ecc623e9926b0ffb10b6e6441b92ad5b6807b04
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Jan 23 00:22:41 2018 -0800

    Move network and DNS container args to PureConfig. (#3198)

 ansible/roles/invoker/tasks/deploy.yml             |  6 ++-
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 10 +---
 .../core/containerpool/ContainerFactory.scala      |  4 ++
 core/invoker/src/main/resources/application.conf   |  8 +++
 .../containerpool/docker/DockerContainer.scala     |  1 +
 .../docker/DockerContainerFactory.scala            | 15 ++++--
 .../main/scala/whisk/core/invoker/Invoker.scala    |  3 --
 .../scala/whisk/core/invoker/InvokerReactive.scala |  6 +--
 .../test/ContainerArgsConfigTest.scala             | 58 ++++++++++++++++++++++
 9 files changed, 89 insertions(+), 22 deletions(-)

commit 113a91500839dd90dfe4ddc74776bd95cad69ec6
Author: kpavel <kpavel@il.ibm.com>
Date:   Tue Jan 23 02:48:11 2018 +0200

    Dynamic LoadBalancer load using SpiLoader (#2984)
    
    * Add a container pool/invoker loadbalancer SPI.
    
    * Refactor invoker health tuple to proper type for cleaner SPI interface.
    
    Rename LoadBalancerService to ContainerPoolBalancer.
    Split into two files.

 common/scala/src/main/resources/reference.conf     |   1 +
 .../scala/whisk/core/controller/Controller.scala   |  16 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  14 +--
 ...erService.scala => ContainerPoolBalancer.scala} | 124 ++++++++-------------
 .../core/loadBalancer/InvokerSupervision.scala     |  10 +-
 .../whisk/core/loadBalancer/LoadBalancer.scala     |  83 ++++++++++++++
 .../controller/test/ControllerTestCommon.scala     |   1 +
 ...cala => ContainerPoolBalancerObjectTests.scala} |  54 ++++-----
 .../test/InvokerSupervisionTests.scala             |   3 +-
 9 files changed, 180 insertions(+), 126 deletions(-)

commit 85bb3fe38642076646954a8ed1243b76d7f0fee6
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Jan 22 11:10:37 2018 -0800

    update to latest commons-io version (#3119)

 common/scala/build.gradle                      |  2 +-
 tests/src/test/scala/common/rest/WskRest.scala | 28 +++++++++-----------------
 2 files changed, 11 insertions(+), 19 deletions(-)

commit 3034cf021f0f344be68a5e23ba2a5a5537a6d4ad
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Mon Jan 22 13:43:10 2018 +0100

    Disable automatic topic creation in Kafka. (#3193)
    
    So far, we had automatic topic creation - the broker would automatically create a topic if a producer sent a message to a topic or a consumer tried to receive messages from a topic. In that case, topic would be created automatically with default settings. These default settings are not always what we need. In the end, this is a race condition during deployment. If we manage to create a topic with desired settings before it gets auto-created with default settings, we are fine. Otherwise, we may see undesired effects.
    
    This change disables automatic topic creation.

 ansible/roles/kafka/tasks/deploy.yml               |  1 +
 tests/src/test/resources/application.conf          | 14 +++++++++++++
 .../test/scala/services/KafkaConnectorTests.scala  | 24 ++++++++++++++--------
 3 files changed, 31 insertions(+), 8 deletions(-)

commit 7d3e539f2cb3e9d1d54607b258f8d6b96443cb69
Author: Jesus Alva <jalva@us.ibm.com>
Date:   Thu Jan 18 15:52:13 2018 -0600

    Update backend to support API GW path parameters (#2966)

 ansible/group_vars/all                             |   2 +-
 core/routemgmt/common/apigw-utils.js               | 191 ++++++++++++++++++---
 core/routemgmt/createApi/createApi.js              |   8 +
 ..._path_param_support_test_invalidActionType.json |  62 +++++++
 ..._path_param_support_test_invalidParamName1.json |  62 +++++++
 ..._path_param_support_test_invalidParamName2.json |  62 +++++++
 ...w_path_param_support_test_invalidTargetUrl.json |  62 +++++++
 ...ath_param_support_test_withPathParameters1.json |  62 +++++++
 ...ath_param_support_test_withPathParameters2.json |  70 ++++++++
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala |  65 ++++++-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     |  83 +++++++--
 11 files changed, 684 insertions(+), 45 deletions(-)

commit 925500cf8d34bb75bebd077ea057af236eba0b01
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Jan 18 10:42:45 2018 +0100

    Change log level dynamically (updated) (#3174)
    
    * Add header for extra logging
    
    Signed-off-by: Martin Henke <martin.henke@de.ibm.com>

 ansible/group_vars/all                             |  1 +
 ansible/roles/nginx/templates/nginx.conf.j2        | 16 ++++++++
 .../src/main/scala/whisk/common/Logging.scala      |  6 ++-
 .../main/scala/whisk/common/TransactionId.scala    | 27 ++++++++------
 .../main/scala/whisk/http/BasicHttpService.scala   | 26 +++++++++----
 docs/logging.md                                    | 43 ++++++++++++++++++++++
 .../scala/whisk/core/entity/test/SchemaTests.scala | 40 +++++++++++++++++++-
 7 files changed, 137 insertions(+), 22 deletions(-)

commit 1cbd2bf7811c87abf717f1dd1eeeb517981498c3
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Jan 18 00:55:33 2018 -0500

    Document Go actions. (#3194)

 docs/actions.md | 77 +++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 75 insertions(+), 2 deletions(-)

commit a6a782f7d3a409c542c157e4be46074ef69a67ce
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Jan 17 12:19:10 2018 -0500

    docs: Use bash instead of sh when building virtualenv (#3181)

 docs/actions.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ca38d5919f3aab6ab2b451627ad1d2fa1035a6c6
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jan 17 08:39:24 2018 -0500

    Code clean up (#3190)

 common/scala/src/main/scala/whisk/http/BasicHttpService.scala          | 2 +-
 tests/src/test/scala/system/rest/GoCLINginxTests.scala                 | 3 ---
 .../src/test/scala/whisk/core/controller/test/SwaggerRoutesTests.scala | 1 -
 3 files changed, 1 insertion(+), 5 deletions(-)

commit fc98e9acc91191c9b38790eb38f304002f5a264d
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Jan 16 10:06:40 2018 +0100

    Configure jmxremote. (#3163)
    
    * Configure jmxremote
    
    * Address review comments
    
    Signed-off-by: Martin Henke <martin.henke@de.ibm.com>
    
    * use conf dir to move jmx user and pw files

 ansible/environments/docker-machine/group_vars/all |  3 --
 ansible/environments/local/group_vars/all          |  3 --
 ansible/group_vars/all                             | 30 +++++++++++++++
 ansible/roles/controller/tasks/clean.yml           |  6 +++
 ansible/roles/controller/tasks/deploy.yml          | 45 +++++++++++++++++++---
 ansible/roles/invoker/tasks/clean.yml              |  6 +++
 ansible/roles/invoker/tasks/deploy.yml             | 32 ++++++++++++++-
 ansible/templates/jmxremote.access.j2              |  1 +
 ansible/templates/jmxremote.password.j2            |  1 +
 common/scala/.dockerignore                         |  1 +
 common/scala/Dockerfile                            |  5 ++-
 common/scala/copyJMXFiles.sh                       |  7 ++++
 common/scala/src/main/resources/logback.xml        |  1 +
 core/controller/init.sh                            |  4 +-
 core/invoker/init.sh                               |  4 +-
 15 files changed, 134 insertions(+), 15 deletions(-)

commit 20a5a6083d1630037740b4cf62f0d4e8fbc5c829
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Jan 16 02:09:31 2018 -0500

    Enable new views. (#3155)
    
    Support ?count to retrieve document count for a collection.
    Use public-package view for listing package in other namespaces.
    Fix logs playbook for new view.
    Update wskadmin to set reduce=false.
    Use Scalatest theSameElementsAs for comparing List responses.
    Remove old views.

 ...ign_document_for_activations_db_filters_v2.json |  9 --
 ...isks_design_document_for_activations_db_v2.json |  9 --
 .../whisks_design_document_for_entities_db_v2.json | 21 -----
 ansible/logs.yml                                   |  2 +-
 ansible/tasks/recreateViews.yml                    |  7 +-
 common/scala/src/main/resources/application.conf   |  6 +-
 .../scala/whisk/core/database/ArtifactStore.scala  | 16 ++++
 .../whisk/core/database/CouchDbRestStore.scala     | 99 +++++++++++++++-------
 .../main/scala/whisk/core/entity/WhiskAction.scala | 20 ++---
 .../scala/whisk/core/entity/WhiskActivation.scala  |  2 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  7 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     | 12 ++-
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 48 ++++++++---
 .../main/scala/whisk/core/controller/Actions.scala | 22 ++---
 .../scala/whisk/core/controller/Activations.scala  | 19 +++--
 .../scala/whisk/core/controller/ApiUtils.scala     | 52 +++++-------
 .../scala/whisk/core/controller/Entities.scala     | 10 +--
 .../scala/whisk/core/controller/Packages.scala     | 38 ++++-----
 .../main/scala/whisk/core/controller/Rules.scala   | 16 ++--
 .../scala/whisk/core/controller/Triggers.scala     | 17 ++--
 .../core/controller/test/ActionsApiTests.scala     | 12 +--
 .../core/controller/test/ActivationsApiTests.scala | 63 +++++++-------
 .../core/controller/test/PackagesApiTests.scala    | 75 ++++++++++------
 .../whisk/core/controller/test/RulesApiTests.scala | 18 ++--
 .../core/controller/test/TriggersApiTests.scala    | 12 +--
 .../SequenceActionApiMigrationTests.scala          |  5 +-
 .../scala/whisk/core/database/test/DbUtils.scala   | 14 +--
 tools/admin/wskadmin                               |  2 +-
 28 files changed, 333 insertions(+), 300 deletions(-)

commit 66f2c4250fc0aab1abd677e3492a06593aad2da6
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sun Jan 14 16:11:27 2018 +0100

     Support size-in-bytes readings per PureConfig. (#3185)
    
    * Bump pureconfig to latest
    
    * Support size-in-bytes readings per PureConfig.
    
    TypesafeConfig supports size-in-bytes values (https://github.com/lightbend/config/blob/master/HOCON.md#size-in-bytes-format). Instead of relying on our custom parsing code, this makes `ByteSize` compatible with the format specified by TypesafeConfig.
    
    In addition it adds support for `ByteSize` to be directly deserialized by PureConfig, making for denser, more readable configuration parsing.

 common/scala/build.gradle                             |  2 +-
 common/scala/src/main/resources/application.conf      |  6 +++---
 .../main/scala/whisk/core/entity/MemoryLimit.scala    | 19 ++++++++-----------
 .../scala/src/main/scala/whisk/core/entity/Size.scala | 11 +++++++++--
 4 files changed, 21 insertions(+), 17 deletions(-)

commit 5d13249cdc2daac36c5dc800fe3f610fdfc07a5d
Author: Duy Nguyen <duy.phnguyen@gmail.com>
Date:   Sun Jan 14 02:57:10 2018 +0100

    Make memory limits as config variables. (#3148)
    
    Change memory limits to pureconfig.
    Add memory to PureConfigKeys
    Add default memory configs to application.conf

 ansible/roles/controller/tasks/deploy.yml          |  4 ++++
 ansible/roles/invoker/tasks/deploy.yml             |  3 +++
 common/scala/src/main/resources/application.conf   |  7 +++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 ++
 .../src/main/scala/whisk/core/entity/Limits.scala  |  2 +-
 .../main/scala/whisk/core/entity/MemoryLimit.scala | 24 ++++++++++++++--------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  4 ++--
 .../scala/whisk/core/entity/test/SchemaTests.scala | 18 ++++++++--------
 8 files changed, 43 insertions(+), 21 deletions(-)

commit 607e1c61986a3bff9e5caa4118dfddd403aec49b
Author: Sciabarra.com ltd <30654959+sciabarracom@users.noreply.github.com>
Date:   Sun Jan 14 00:41:18 2018 +0100

    Fix vagrant on Windows (#3184)

 tools/vagrant/Vagrantfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1575e97ed03f27ebdc09233f408966c9815cf74f
Author: Olivier Tardieu <tardieu@users.noreply.github.com>
Date:   Fri Jan 12 11:10:08 2018 -0500

    Avoid repeated throttle check for sequences (#3177)
    
    Do not check throttles for referenced entities in sequences; only do it once for the topmost action.

 .../main/scala/whisk/core/controller/Actions.scala |  4 +-
 .../scala/whisk/core/entitlement/Entitlement.scala | 13 +++++--
 tests/src/test/scala/limits/ThrottleTests.scala    | 44 +++++++++++++++++++++-
 3 files changed, 54 insertions(+), 7 deletions(-)

commit d2a40ce59034247431dc743d5dd39d97905792ca
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jan 12 09:16:08 2018 -0500

    Add TID stride configuration (#3104)
    
    Decouple the stride used to count transaction from container instance. The counter generates a sequence: instance-ordinal + n * stride.

 ansible/group_vars/all                                     |  3 +++
 ansible/roles/controller/tasks/deploy.yml                  |  2 ++
 common/scala/src/main/resources/application.conf           |  5 +++++
 .../scala/src/main/scala/whisk/common/TransactionId.scala  | 14 +++++++++++---
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala   |  3 +++
 .../src/main/scala/whisk/core/controller/Controller.scala  |  1 -
 .../src/main/scala/whisk/core/invoker/InvokerServer.scala  |  2 --
 .../whisk/core/controller/test/ControllerTestCommon.scala  |  1 -
 .../src/test/scala/whisk/core/database/test/DbUtils.scala  |  1 -
 9 files changed, 24 insertions(+), 8 deletions(-)

commit 56ab4feedd31715917a7376d9277258351fecd2c
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Fri Jan 12 04:18:28 2018 -0800

    Allow `transformEnvironment.sh` to dereference environment values. (#3076)

 common/scala/transformEnvironment.sh | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit fb4b2ce556aedb0b3d1721b711f4721b4e15bc21
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Fri Jan 12 14:41:21 2018 +0530

    Add type property to entity documents. (#3164)

 .../main/scala/whisk/core/entity/WhiskAction.scala |  2 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  2 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  7 ++++--
 .../scala/whisk/core/entity/WhiskPackage.scala     |  2 +-
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  2 +-
 .../scala/whisk/core/entity/WhiskTrigger.scala     |  2 +-
 .../controller/test/ControllerTestCommon.scala     |  3 ++-
 .../whisk/core/entity/test/MigrationEntities.scala |  4 ++--
 .../whisk/core/entity/test/WhiskEntityTests.scala  | 28 ++++++++++++++++++++++
 9 files changed, 42 insertions(+), 10 deletions(-)

commit 496f1b0022313c59b342ec10f4dd2498c2ed2739
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jan 11 17:31:14 2018 +0100

    Sanitize error message returned by a failed container startup. (#3159)
    
    The error message returned by a failing container startup contains internal information (like the internally configured images, various exception messages). Returning a sanitized string is better design in general here.
    
    All error cases are logged fine for operators to find the root-cause of the failing run.

 common/scala/src/main/scala/whisk/http/ErrorResponse.scala       | 6 ++++++
 .../src/main/scala/whisk/core/containerpool/ContainerProxy.scala | 2 +-
 .../scala/whisk/core/containerpool/docker/DockerContainer.scala  | 9 ++++-----
 3 files changed, 11 insertions(+), 6 deletions(-)

commit 3fdea436f4c59b132248d25962b6d3169ae44a51
Author: Vincent <shou@us.ibm.com>
Date:   Thu Jan 11 10:53:14 2018 -0500

    Rewrite WskBasicUsageTests (#2996)
    
    This PR removes the CLI specific test cases in WskBasicUsageTests and
    rewrites the other test cases with REST interface.

 tests/src/test/scala/common/rest/WskRest.scala     |  233 ++--
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 1126 ++------------------
 2 files changed, 203 insertions(+), 1156 deletions(-)

commit 13dd20b0b68fa8c14659fb7b7c25fadd04592119
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Jan 11 16:05:27 2018 +0100

    use environment level defined directory if inventory_dir is not defined (as in Ansible 2.4) (#3124)

 ansible/boot_instances_dist.yml                    | 8 ++++----
 ansible/environments/distributed/group_vars/all    | 2 ++
 ansible/environments/docker-machine/group_vars/all | 2 ++
 ansible/environments/local/group_vars/all          | 2 ++
 ansible/group_vars/all                             | 2 ++
 ansible/provision_env_dist.yml                     | 2 +-
 ansible/roles/cli/tasks/download_cli.yml           | 4 ++--
 ansible/roles/couchdb/tasks/deploy.yml             | 2 +-
 ansible/setup.yml                                  | 8 ++++----
 9 files changed, 20 insertions(+), 12 deletions(-)

commit 6027dca8f4814d2ee37a20b4fb190194fa07fe3d
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Jan 11 10:07:14 2018 +0100

    Throttle log messages when rescheduling containers. (#3165)
    
    This piece of code catches an error case and tries to recover it by rescheduling the message. In very bad cases that can result in a tight loop and millions of messages generated. Throttling those messages to once per 10 seconds should be enough to debug the scenario while not crashing the Invoker due to the log volume.

 .../whisk/core/containerpool/ContainerPool.scala      | 19 +++++++++++++++----
 .../whisk/core/containerpool/ContainerProxy.scala     |  2 +-
 2 files changed, 16 insertions(+), 5 deletions(-)

commit c7ef96a0a09eb29ec9116bead011d0657196d2ec
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Jan 11 04:05:55 2018 -0500

    Enrich entity views, and add count reducer (#3152)
    
    * Remove reduce_limit setting for couchdb as it is no longer necessary.
    
    * Upate design docs to provide more asset summaries and support counts.
    
    Enrich action list view with limits and "binary" property of exec.
    Enrich rule list view to include action/trigger names.
    Enrich package list view to include binding information.
    Add package list view for public packages.
    Add count reducers.
    
    Factor out all view, easier to then drop it without affecting rest of the views.
    Update tests for new design docs.

 ansible/README.md                                  |  5 +---
 ...document_for_activations_db_filters_v2.1.0.json | 10 +++++++
 ..._design_document_for_activations_db_v2.1.0.json | 10 +++++++
 ...design_document_for_all_entities_db_v2.1.0.json | 10 +++++++
 ...sks_design_document_for_entities_db_v2.1.0.json | 26 +++++++++++++++++
 ansible/roles/couchdb/tasks/deploy.yml             | 12 --------
 .../main/scala/whisk/core/entity/WhiskAction.scala | 24 ++++++++++++++--
 .../scala/whisk/core/entity/WhiskActivation.scala  |  9 ++++--
 .../main/scala/whisk/core/entity/WhiskEntity.scala | 15 +++++++---
 .../scala/whisk/core/entity/WhiskPackage.scala     | 21 ++++++++------
 .../main/scala/whisk/core/controller/Actions.scala | 16 +++--------
 .../scala/whisk/core/controller/Packages.scala     | 33 +++++++++-------------
 .../main/scala/whisk/core/controller/Rules.scala   |  8 ++----
 .../scala/whisk/core/controller/Triggers.scala     | 12 +++-----
 .../scala/whisk/core/entity/test/ViewTests.scala   | 31 ++++++--------------
 tools/db/README.md                                 |  1 -
 16 files changed, 140 insertions(+), 103 deletions(-)

commit 25c8e3c5c109f59093e3bcd8f102a295fea69869
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 10 23:51:41 2018 -0500

    Impose list limit on all entity types. (#3087)
    
    * Impose list limit on all entity types.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  6 +-
 .../main/scala/whisk/core/controller/Actions.scala | 21 +++----
 .../scala/whisk/core/controller/Activations.scala  | 36 ++++++------
 .../scala/whisk/core/controller/Packages.scala     | 50 +++++++++--------
 .../scala/whisk/core/controller/RestAPIs.scala     | 21 +++++++
 .../main/scala/whisk/core/controller/Rules.scala   | 37 ++++++-------
 .../scala/whisk/core/controller/Triggers.scala     | 64 ++++++++--------------
 .../scala/whisk/core/entitlement/Collection.scala  |  7 ++-
 .../test/scala/system/basic/WskBasicTests.scala    |  7 ---
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  2 +-
 .../core/controller/test/ActionsApiTests.scala     | 12 ++++
 .../core/controller/test/ActivationsApiTests.scala | 20 +++----
 .../core/controller/test/PackagesApiTests.scala    | 16 ++++--
 .../whisk/core/controller/test/RulesApiTests.scala | 17 ++++--
 .../core/controller/test/TriggersApiTests.scala    | 12 ++++
 15 files changed, 186 insertions(+), 142 deletions(-)

commit ff3fa08573cc0441880a245e9d637e39325bb492
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Thu Jan 11 09:23:19 2018 +0530

    Cleanup transitive dependencies for zookeeper (#3154)
    
    -- exclude log4j and slf4j
    -- exclude jline as thats only required for cli

 core/invoker/build.gradle | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 50c0142e9543b38ba2807b1c734c5af6c3116d72
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 10 20:38:28 2018 -0500

    Fix heisenbug by using the correct view. (#3175)

 .../scala/whisk/core/entity/WhiskActivation.scala  |  2 +-
 .../core/controller/test/ActivationsApiTests.scala |  7 +++++-
 .../scala/whisk/core/database/test/DbUtils.scala   | 26 +++++++++++++++++++---
 3 files changed, 30 insertions(+), 5 deletions(-)

commit a92208b3a50c849ff76c29292140880f3b9c6ac7
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jan 8 13:11:14 2018 -0500

    Make ConfigKeys and its keys shorter for convenience. (#3157)

 .../whisk/connector/kafka/KafkaMessagingProvider.scala   |  6 +++---
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 16 +++++++++-------
 .../main/scala/whisk/core/entity/WhiskActivation.scala   |  4 ++--
 .../src/main/scala/whisk/core/entity/WhiskStore.scala    |  4 ++--
 .../whisk/core/loadBalancer/LoadBalancerService.scala    |  4 ++--
 .../whisk/core/containerpool/docker/DockerClient.scala   |  4 ++--
 .../whisk/core/containerpool/docker/RuncClient.scala     |  4 ++--
 7 files changed, 22 insertions(+), 20 deletions(-)

commit 149f8d948ed0db6293c1dc3be168e9322d71dd0a
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Jan 8 11:20:20 2018 -0500

    move PureConfig strings to PureConfigKeys singleton (#3156)

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala               | 3 +++
 .../src/main/scala/whisk/core/containerpool/docker/DockerClient.scala  | 3 ++-
 .../src/main/scala/whisk/core/containerpool/docker/RuncClient.scala    | 3 ++-
 3 files changed, 7 insertions(+), 2 deletions(-)

commit bd84ab57c3dadcddcead1699bc016bdf01cd27e6
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jan 8 10:15:43 2018 -0500

    Use cache invalidation policy based on access time. (#3146)
    
    * Use cache invalidation policy based on access time
    
    * Allow multiple cache policies and do not create cache if caching is disabled
    - Add per-cache configration for eviction
    - Lazily instantiate cache
            - Prevents cache from being instantiate when fromCache is false

 .../MultipleReadersSingleWriterCache.scala         | 35 +++++++++++++++++-----
 .../main/scala/whisk/core/entity/Identity.scala    |  3 ++
 2 files changed, 30 insertions(+), 8 deletions(-)

commit ec8148fbba3bf8142853fa2aee0bcfb92fd7a5ae
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jan 8 12:54:09 2018 +0100

    Bound docker/runc commands in their allowed runtime. (#3094)
    
    Docker can cause hanging commands which never finish. Essentially those break the invoker and it needs to be restarted to recover. This adds a timeout to each of those commands to detect this problem.

 core/invoker/src/main/resources/application.conf   | 22 ++++++++
 .../core/containerpool/docker/DockerClient.scala   | 61 ++++++++++++++--------
 .../docker/DockerClientWithFileAccess.scala        |  9 ++--
 .../docker/DockerContainerFactory.scala            |  2 +-
 .../core/containerpool/docker/ProcessRunner.scala  | 26 ++++++---
 .../core/containerpool/docker/RuncClient.scala     | 30 ++++++++---
 .../docker/test/DockerClientTests.scala            | 25 ++++++---
 .../test/DockerClientWithFileAccessTests.scala     | 28 ++++++----
 .../docker/test/ProcessRunnerTests.scala           | 24 ++++++---
 .../docker/test/RuncClientTests.scala              | 12 +++--
 10 files changed, 173 insertions(+), 66 deletions(-)

commit b485c5e249ed45e0395f2e8056972adb737f0353
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jan 8 12:53:45 2018 +0100

    Use alpakka's FileRotator instead of the copied one. (#3102)

 common/scala/build.gradle                          |   2 +
 .../containerpool/logging/LogRotatorSink.scala     | 176 ---------------------
 core/invoker/build.gradle                          |   1 -
 3 files changed, 2 insertions(+), 177 deletions(-)

commit 96e5e7cabf880d18d3bff62ef0328dd038256392
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Jan 5 15:57:52 2018 -0500

    remove invoker.instances from whisk.properties template (#3046)
    
    The number of invoker instances may be a dynamic property of
    the deployment; we shouldn't be exposing it in whisk.properties.

 ansible/templates/whisk.properties.j2 | 1 -
 1 file changed, 1 deletion(-)

commit 9e6adef084a673b7b8daa6c6b5abff1ff68b17f9
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Jan 5 14:51:59 2018 -0500

    singleton to hold PureConfig keys (#3150)
    
    Introduce a singleton to hold the various String keys used to load config data via PureConfig to make it easier to find all uses of a particular piece of configuration data.

 .../scala/whisk/connector/kafka/KafkaMessagingProvider.scala     | 5 +++--
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala         | 9 +++++++++
 .../scala/src/main/scala/whisk/core/entity/WhiskActivation.scala | 3 ++-
 common/scala/src/main/scala/whisk/core/entity/WhiskStore.scala   | 3 ++-
 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala | 3 ++-
 5 files changed, 18 insertions(+), 5 deletions(-)

commit 3c83debc2713c8af7ba5545b6135c7498fe566e3
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jan 5 13:50:04 2018 -0500

    Cleanup test assets between unit tests using afterEach (#3149)
    
    * Replace after with afterEach for cleaning up test assets. (No semantic change intended)
    
    * Add test for listing empty activations.
    
    * Reject mutually inclusive parameters.

 .../main/scala/whisk/http/BasicHttpService.scala   |  23 ++---
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   1 +
 .../scala/whisk/core/controller/Activations.scala  |   5 +-
 tests/src/test/scala/common/WskActorSystem.scala   |   2 +-
 .../test/scala/services/KafkaConnectorTests.scala  |   2 +-
 .../core/controller/test/ActionsApiTests.scala     |  12 ++-
 .../core/controller/test/ActivationsApiTests.scala | 110 +++++++++++++--------
 .../controller/test/ControllerTestCommon.scala     |   8 +-
 .../core/database/test/CacheConcurrencyTests.scala |   8 +-
 .../database/test/CouchDbRestClientTests.scala     |   4 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  14 +--
 .../scala/whisk/core/entity/test/ViewTests.scala   |  13 +--
 12 files changed, 119 insertions(+), 83 deletions(-)

commit 713e6a0ae396f114b5cb106db7f1ad26009bb0cd
Author: Belinda Vennam <beemarie88@gmail.com>
Date:   Fri Jan 5 13:30:32 2018 -0500

    Env variable instead of parameter (#3144)
    
    * env variable instead of parameter
    
    * more generic environment_catalog

 ansible/tasks/installOpenwhiskCatalog.yml | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit d10a83f81ada055513e31c5ab004e8093be7769a
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jan 5 13:23:10 2018 -0500

    Disallow create and update of package with reserved names. (#3147)
    
    * A get and delete are still allowed.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  4 +--
 .../scala/whisk/core/controller/Packages.scala     | 11 +++---
 .../core/controller/test/PackagesApiTests.scala    | 39 +++++++++++++++-------
 3 files changed, 34 insertions(+), 20 deletions(-)

commit 29273808b43fcdf1e2479d8f6b58c3daf1da5c04
Author: Jonathan Springer <jonpspri@gmail.com>
Date:   Thu Jan 4 14:35:49 2018 -0500

    Support CLI built for multi-arch (#3145)
    
    It was also necessary to fiddle with the CLI download capabilities, now that the CLI is being automatically compiled for s390x. The result is not quite as dynamic as one might wish, yet, but it appears to get the job done.
    
    This change is temporary -- responsibility for determining CLI build architectures is being moved toward the CLI build process in a separate repository.

 ansible/group_vars/all                             | 22 ++++++-------
 ansible/roles/cli/files/createContentJson.sh       | 38 ++++++++++++++--------
 ansible/roles/cli/tasks/cli_remote_mode.yml        |  9 +++--
 ansible/roles/cli/tasks/deploy.yml                 |  3 +-
 ansible/roles/cli/tasks/download_cli.yml           | 13 ++++++--
 ansible/roles/cli/tasks/download_openwhisk_cli.yml |  7 ++--
 6 files changed, 56 insertions(+), 36 deletions(-)

commit 5ad6ce0a9d1611d39d7cade49ad6bfe767a7510b
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Jan 4 14:31:22 2018 -0500

    externalize runtimesManifestDefault to runtimes.json (#3142)
    
    Move definition of default runtimes manifest out of
    group_vars/all to an external .json file to make it
    easier to share this configuration information with
    non-ansible deployments such as kube/mesos/etc.

 ansible/files/runtimes.json | 111 ++++++++++++++++++++++++++++++++++++++++++++
 ansible/group_vars/all      |  72 +---------------------------
 2 files changed, 113 insertions(+), 70 deletions(-)

commit ec9988a7bf9e50201a34176f0a7c245dfa3956aa
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Jan 4 14:30:33 2018 -0500

    use pureconfig to specify names of db designdocs (#3140)
    
    Specify db design document names in application.conf
    and support overrides via pureconfig conventions.

 ansible/group_vars/all                                |  3 ---
 ansible/roles/controller/tasks/deploy.yml             |  6 +++---
 ansible/roles/invoker/tasks/deploy.yml                |  6 +++---
 ansible/templates/whisk.properties.j2                 |  3 ---
 common/scala/src/main/resources/application.conf      |  6 ++++++
 .../scala/src/main/scala/whisk/core/WhiskConfig.scala |  3 ---
 .../scala/whisk/core/entity/WhiskActivation.scala     | 14 +++++---------
 .../src/main/scala/whisk/core/entity/WhiskStore.scala | 19 ++++++-------------
 8 files changed, 23 insertions(+), 37 deletions(-)

commit 4285cc2791d56a486d0c52ca92b6f51abe3026d9
Author: Belinda Vennam <beemarie88@gmail.com>
Date:   Wed Jan 3 10:18:04 2018 -0600

    Optional package (#3128)
    
    * adding variable for toggling optional packages

 ansible/tasks/installOpenwhiskCatalog.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 94d5f3f2a631ebf53d7718f8af8d6a20163fb89b
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 3 08:38:06 2018 -0500

    Separate container removal from job completion. (#3132)
    
    The current handshake between the container proxy and the container
    pool conflates container removal and job completion. The former does
    not necessarily indicate there is free capacity in the pool since
    there are conditions under which the job is rescheduled (e.g., resume
    failure, container aging, container is reclaimed).

 .../whisk/core/containerpool/ContainerPool.scala     | 17 +++++++++++++++++
 .../whisk/core/containerpool/ContainerProxy.scala    | 20 +++++++++++++++-----
 .../core/containerpool/test/ContainerPoolTests.scala | 14 ++++++++++++++
 .../containerpool/test/ContainerProxyTests.scala     |  6 +++---
 4 files changed, 49 insertions(+), 8 deletions(-)

commit eb206069b88dd1e103f7b9fbf809820afc8d2943
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 3 08:35:23 2018 -0500

    Refine error message on failure to fetch action in invoker. (#3139)

 common/scala/src/main/scala/whisk/http/ErrorResponse.scala     |  1 +
 .../src/main/scala/whisk/core/invoker/InvokerReactive.scala    | 10 +++++++---
 2 files changed, 8 insertions(+), 3 deletions(-)

commit 6de269440b8ccc20bb1e21de0f81e8a727921d56
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 3 08:24:00 2018 -0500

    Enforce WhiskAction equality mod DocRevision. (#3121)

 .../main/scala/whisk/core/connector/Message.scala  |  9 ---------
 .../main/scala/whisk/core/entity/WhiskAction.scala |  5 +++++
 .../containerpool/test/ContainerPoolTests.scala    | 15 ++++++++++++++
 .../scala/whisk/core/entity/test/SchemaTests.scala | 23 ++++++++++++++++++++--
 4 files changed, 41 insertions(+), 11 deletions(-)

commit 1293647f96829df4c0ea90e815dc2b6fc664de11
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Tue Jan 2 17:40:27 2018 -0500

    fix memory drag in PrimitiveActions, and clean up withAlternateAfterTimeout (#3129)

 .../whisk/utils/ExecutionContextFactory.scala      | 51 ++++++++++++++++------
 1 file changed, 38 insertions(+), 13 deletions(-)

commit 1ed7568800630059e12f849544af2734301f72b9
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Dec 23 20:47:51 2017 -0500

    Remove obsolete filter when determining container to remove. (#3130)
    
    While collecting a container to remove, the filter checks the action and invocation namespace and excludes those from the candidate list. But this check is not necessary - any container in the free pool matching the action and namespace would be reused and the remove method should not be called in this case.

 .../whisk/core/containerpool/ContainerPool.scala   | 22 +++++++++-------------
 .../containerpool/test/ContainerPoolTests.scala    | 22 +++++-----------------
 2 files changed, 14 insertions(+), 30 deletions(-)

commit 1e902675bcf6160af8d72d8251739477162f8d76
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Thu Dec 21 16:28:47 2017 -0500

    make sure to cancel the timeout handler, in LoadBalancerService (#3118)
    
    Make sure to cancel the timeout handler on the active ack when a response is received. This reduces memory drag.

 .../whisk/core/loadBalancer/LoadBalancerData.scala   |  3 +++
 .../core/loadBalancer/LoadBalancerService.scala      | 20 ++++++++++++++------
 .../loadBalancer/test/LoadBalancerDataTests.scala    | 13 ++++++++++---
 3 files changed, 27 insertions(+), 9 deletions(-)

commit 566957fb5c386a47273fdfef33b1b659fe41fe12
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Dec 21 13:55:16 2017 -0500

    Remove redundant property from activation message. (#3122)

 common/scala/src/main/scala/whisk/core/connector/Message.scala        | 4 +---
 .../main/scala/whisk/core/controller/actions/PrimitiveActions.scala   | 1 -
 .../src/main/scala/whisk/core/loadBalancer/InvokerSupervision.scala   | 1 -
 .../src/main/scala/whisk/core/containerpool/ContainerProxy.scala      | 2 +-
 core/invoker/src/main/scala/whisk/core/invoker/InvokerReactive.scala  | 2 +-
 .../test/scala/whisk/core/containerpool/test/ContainerPoolTests.scala | 2 +-
 .../scala/whisk/core/containerpool/test/ContainerProxyTests.scala     | 1 -
 .../scala/whisk/core/loadBalancer/test/InvokerSupervisionTests.scala  | 1 -
 8 files changed, 4 insertions(+), 10 deletions(-)

commit 760b1634816666e8c3ca8f53235cd6e9dc07e2b7
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Dec 19 18:48:59 2017 -0500

    Add support for Java actions. (#3117)

 actionRuntimes/actionProxy/invoke.py | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 614fe1d2671e4857b8719012b8520240e32656f8
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Dec 19 12:16:00 2017 -0500

    auto detect docker-for-mac & no HA by default for local dev (#3105)

 .gitignore                                         |  1 +
 ansible/README.md                                  | 42 +++++++++++++---------
 ansible/couchdb.yml                                | 12 +++++++
 ansible/environments/docker-machine/group_vars/all |  9 +++++
 ansible/environments/docker-machine/hosts.j2.ini   | 11 ++++--
 ansible/environments/local/{hosts => hosts.j2.ini} |  7 ++++
 ansible/setup.yml                                  | 17 +++------
 tools/build/redo                                   |  9 +++--
 tools/travis/build.sh                              |  2 +-
 9 files changed, 76 insertions(+), 34 deletions(-)

commit ab20fbf7d7f1debe3b52cae9745e2d1bf04d1ff7
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Mon Dec 18 22:41:56 2017 -0500

    optional bypass of whisk.properties when setting GW_ values (#3112)
    
    If GW_USER, GW_PWD, or GW_HOST_V2 are already set in the environment
    when running installRouteMgmt.sh then use the value from the
    environment bypassing the values in whisk.properties.
    This is useful for downstream deployments such as kube to avoid
    the need to generate a whisk.properties just to run this script.

 ansible/roles/routemgmt/files/installRouteMgmt.sh | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit 2201389ac073eb23cce3a59f3582f8c572fa625e
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Dec 14 15:50:19 2017 -0500

    Give helper script proper command line parsing. (#3107)
    
    The arg parsing preserves existing behavior of init and run.
    
    usage: invoke.py [-h] [-v] [--host HOST] [-p PORT] {init,run} ...
    
    initialize and run an OpenWhisk action container
    
    optional arguments:
      -h, --help            show this help message and exit
      -v, --verbose         verbose output
      --host HOST           action container host
      -p PORT, --port PORT  action container port number
    
    available commands:
      {init,run}
        init                initialize container with src or zip/tgz file
        run                 send arguments to container to run action

 actionRuntimes/actionProxy/invoke.py | 124 ++++++++++++++++++++++-------------
 1 file changed, 78 insertions(+), 46 deletions(-)

commit 291508a49ade60eae77d9c0e169686863f853e97
Author: Jesus Alva <jalva@us.ibm.com>
Date:   Wed Dec 13 14:21:09 2017 -0600

    Test updates needed in order to be able to test quoted string changes in the cli (#3045)

 tests/src/test/scala/common/BaseWsk.scala      |  9 ++++++---
 tests/src/test/scala/common/Wsk.scala          | 20 ++++++++++++++++----
 tests/src/test/scala/common/rest/WskRest.scala |  9 ++++++---
 3 files changed, 28 insertions(+), 10 deletions(-)

commit 489a2bcdd9f549db738491eec842d6ae84611168
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Dec 13 11:03:43 2017 -0500

    Allow docker pull to be skipped for local docker actions. (#3052)
    
    This commit adds a deployment flag which allows a docker action to be treated as a native image. A native image may eschew a docker pull. It is defined as one that has a prefix matching the docker prefix for managed images.
    
    Also added some missing tids.

 ansible/environments/docker-machine/group_vars/all |  1 +
 ansible/environments/local/group_vars/all          |  1 +
 ansible/group_vars/all                             |  3 ++
 .../main/scala/whisk/common/TransactionId.scala    |  1 +
 .../whisk/core/database/CouchDbRestStore.scala     |  2 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  5 +--
 .../scala/whisk/core/entity/ExecManifest.scala     | 49 ++++++++++++++--------
 .../whisk/core/containerpool/ContainerPool.scala   |  3 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 .../whisk/core/entity/test/ExecManifestTests.scala | 36 +++++++++-------
 10 files changed, 63 insertions(+), 40 deletions(-)

commit 6720d2e850bd989e20f685ca4674906463b55b71
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Dec 13 10:52:07 2017 -0500

    Add init and wait time to activation record as annotation. (#3053)
    
    Annotate an activation record with two new properties: initTime and waitTime. The former is present for cold starts and reflects the time spent in /init. The latter is the time from the controller receiving the request to the time the invoker initiated a /init or /run for the request against a container. Is it a rough indicator of the queueing time for the request. It is only present for non-sequence activations.

 .../scala/whisk/core/containerpool/Container.scala |  1 +
 .../main/scala/whisk/core/entity/Parameter.scala   |  8 ++-
 .../scala/whisk/core/entity/WhiskActivation.scala  | 11 ++-
 .../core/controller/actions/SequenceActions.scala  | 16 ++---
 .../whisk/core/containerpool/ContainerProxy.scala  | 57 ++++++++++-----
 .../scala/whisk/core/invoker/InvokerReactive.scala |  7 +-
 docs/annotations.md                                | 83 +++++++++++++++++-----
 .../containerpool/test/ContainerProxyTests.scala   | 69 ++++++++++++++++--
 8 files changed, 198 insertions(+), 54 deletions(-)

commit ecace1ad699d87acbdd6630396aef3d9399e0c3f
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Dec 13 16:44:15 2017 +0900

    Disable reduce limits on all nodes. (#3101)

 ansible/roles/couchdb/tasks/deploy.yml | 1 -
 1 file changed, 1 deletion(-)

commit 3d67ed15ceb4ce1863e9b11766363bf8cacac48e
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue Dec 12 23:07:20 2017 -0800

    update to latest curator (#3065)
    
    * update to latest curator
    
    * use zookeeper 3.4.x with curator 4.0
    per docs at http://curator.apache.org/zk-compatibility.html

 core/invoker/build.gradle | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a82a4f674b82ef1bf3df14678fc180db850e1325
Author: Chris Chinchilla <chriswhward@gmail.com>
Date:   Tue Dec 12 21:00:40 2017 +0100

    As this is the default ‘getting started link’, clarify pre-requisites. (#3078)

 docs/actions.md | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3acad8b11fc7ff4bf0923b3ba01b86eca8b543d3
Author: Vincent <shou@us.ibm.com>
Date:   Tue Dec 12 14:46:03 2017 -0500

    Change the idle timeout to 90 seconds for client connection settings (#3013)

 tests/src/test/resources/application.conf      | 2 ++
 tests/src/test/scala/common/rest/WskRest.scala | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 3337d8a643db5028118da56ab0a01b367e99260c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Dec 12 15:42:56 2017 +0100

    Decouple health checking from active ack messages. (#3095)
    
    Active ack messages are inspected to check whether an invoker has a lot of system-level errors and this in turn marks an invoker unhealthy. A sufficient number of forced timeouts on active acks will also turn an invoker unhealthy, when there's just a longer than expected queue of activations. This commit decouples the queue length (load balancing concern) from the health of the invoker.

 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala   | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 80434b49d0a70a66c04eed078d7094ee5cffc1e6
Author: Martin Henke <martin.henke@web.de>
Date:   Tue Dec 12 11:39:41 2017 +0100

    Make the log level configurable via ansible. (#3042)

 ansible/group_vars/all                      | 2 ++
 ansible/roles/controller/tasks/deploy.yml   | 2 ++
 ansible/roles/invoker/tasks/deploy.yml      | 1 +
 common/scala/src/main/resources/logback.xml | 2 +-
 4 files changed, 6 insertions(+), 1 deletion(-)

commit d21e141b48d30e5b5cdad737484dd1fa5ec4db26
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Tue Dec 12 13:07:56 2017 +0530

    Add dockerignore files to reduce size of build context. (#3082)
    
    Adds .dockerignore files to 3 docker images which also have scala code. This ensures that build context send to docker daemon only includes required files.

 common/scala/.dockerignore    | 3 +++
 core/controller/.dockerignore | 3 +++
 core/invoker/.dockerignore    | 3 +++
 3 files changed, 9 insertions(+)

commit 322b044f1b294d83e846a9ffda9d036af6f964f3
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Dec 12 08:16:07 2017 +0100

    Remove obsolete code to remove old config directory of nginx. (#3090)

 ansible/roles/nginx/tasks/clean.yml | 9 ---------
 1 file changed, 9 deletions(-)

commit fd4112d44d3b729839d178c6ef6b697d8ff1bed9
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Mon Dec 11 20:28:53 2017 +0100

    Fix "No such file or directory" problem when cleaning "veth*.ifstate" files (#3089)
    
    See #3081 for a discussion.
    
    Let Ansible ignore errors from the `find` command because there is no option to let the `find` commmand ignore errors from the `-delete` action.
    
    Root cause of the problem must be a race condition where files that have been identified during the `Find` phase have been removed before these files are processed in the `Action` phase.

 ansible/roles/invoker/tasks/clean.yml | 1 +
 1 file changed, 1 insertion(+)

commit 9e452aac7c0a361dd2e00a44d6476bd5db2076a0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Dec 11 14:10:30 2017 -0500

    update nodejs runtimes 6.12.2 8.9.3 openwhisk 3.11.0 (#3086)

 actionRuntimes/nodejs6Action/Dockerfile |  2 +-
 actionRuntimes/nodejs8Action/Dockerfile |  2 +-
 docs/reference.md                       | 14 +++++++-------
 3 files changed, 9 insertions(+), 9 deletions(-)

commit b57e40f93465bbf631f29bedcdfef922e3c9211a
Author: Chetan Mehrotra <chetanm@apache.org>
Date:   Mon Dec 11 18:33:50 2017 +0530

    Modify the unix script. (#3059)
    
    Modifies the line containing `CLASSPATH=` in generated unix script file and add entries for
    
    1. $APP_HOME/ext-lib/* - To be used to add extra jars to classpath
    2. $APP_HOME/config - To be used to add custom application.conf

 build.gradle | 26 ++++++++++++++++++++++++++
 docs/spi.md  | 12 ++++++++++++
 2 files changed, 38 insertions(+)

commit 7bb04c554d5612ce5c7435e375bcdfe3262de039
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Sat Dec 9 17:40:08 2017 -0500

    Optionally fetch code when getting an action (#2908)

 .../src/main/scala/whisk/core/entity/Exec.scala    | 27 +---------------------
 .../src/main/resources/apiv1swagger.json           |  7 ++++++
 .../main/scala/whisk/core/controller/Actions.scala | 22 ++++++++++++++----
 .../core/controller/test/ActionsApiTests.scala     | 23 ++++++++++++++++++
 4 files changed, 49 insertions(+), 30 deletions(-)

commit 02626d7bb2dd4b10959d059c32af0302c5a5d639
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Sat Dec 9 15:28:36 2017 -0500

    Remove unneeded code reference from WhiskActionMetaData test helper (#3080)

 .../test/scala/whisk/core/controller/test/WebActionsApiTests.scala  | 2 +-
 tests/src/test/scala/whisk/core/entity/test/ExecHelpers.scala       | 6 +-----
 2 files changed, 2 insertions(+), 6 deletions(-)

commit 511a9d123a73bc7d14e2e5170f02f880d7b4b369
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Dec 9 14:16:27 2017 -0500

    Allow invoke helper to work with tgz files. (#3084)

 actionRuntimes/actionProxy/invoke.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d87627c1cd30a28a2a9b9c7cf2ae41228153bfb2
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Sat Dec 9 08:53:15 2017 -0500

    cleanup: remove unused redis host/port from WhiskConfig (#3047)
    
    I should have removed these when we switched to using zookeeper
    as the persistent store for invoker id assignment.  They are not used.

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 4 ----
 1 file changed, 4 deletions(-)

commit 54dab0603b19fcb78b3113fb5f06b03ec5787f24
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Fri Dec 8 14:41:36 2017 -0800

    update to latest swagger (#3064)

 core/controller/Dockerfile | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit aa85fc9b9bf32eb78309df5c9390a195375cfb7d
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Dec 8 13:15:26 2017 -0500

    controller creates health and cacheInvalidation topics (#2991)
    
    Move creation of the health and cacheInvalidation topics
    from ansible to controller startup using ensureTopic
    from MessagingProvider SPI.
    
    Also convert kafka topic configuration to pureconfig.

 ansible/environments/local/group_vars/all          |  2 +-
 ansible/group_vars/all                             | 17 ------------
 ansible/roles/controller/tasks/deploy.yml          | 14 +++++++---
 ansible/roles/invoker/tasks/deploy.yml             |  8 +++---
 ansible/roles/kafka/tasks/deploy.yml               | 12 ---------
 common/scala/src/main/resources/application.conf   | 31 +++++++++++++++++++++-
 .../connector/kafka/KafkaMessagingProvider.scala   | 24 ++++++++++++-----
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 16 -----------
 .../whisk/core/connector/MessagingProvider.scala   |  3 +--
 .../scala/whisk/core/controller/Controller.scala   | 16 +++++------
 .../core/loadBalancer/LoadBalancerService.scala    | 13 ++++-----
 .../main/scala/whisk/core/invoker/Invoker.scala    | 16 +----------
 12 files changed, 79 insertions(+), 93 deletions(-)

commit a7d3fe769cc9a2d74007f1f83d22e51796a4e733
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Dec 8 05:06:00 2017 +0100

    Refactored EntitlementProvider to not contain mutability. (#3068)
    
    Using mutable datastructures, especially closing over them in Futures, is dangerous and non-deterministic. This aims to further terse down the logic used as well.

 .../scala/whisk/core/entitlement/Entitlement.scala | 74 ++++++++++------------
 1 file changed, 32 insertions(+), 42 deletions(-)

commit 82f5d87a1978ea910e0cdf6fabcbab8fb443accd
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Thu Dec 7 22:54:25 2017 -0500

    include component/repo map picture in main README.md (#3075)

 README.md                           |   6 ++++++
 docs/images/components_to_repos.png | Bin 0 -> 871131 bytes
 2 files changed, 6 insertions(+)

commit 3d92ec26486a18a2bdfe13ba0f0cebd1051ce0fb
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Dec 8 04:14:13 2017 +0100

    Don't fail if no Docker containers running (#3074)
    
    The initial version failed if no Docker containers were running because an invalid regular expression was constructed for `find` command.
    
    With this change, the regular expression for filtering active virtual ethernet interfaces is only included active interfaces can be found. If Docker containers are running, there are always active interfaces. If no Docker containers are running, there may be no actives interfaces.

 ansible/roles/invoker/tasks/clean.yml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 497567b7ce56137bb8a6bfda36e45b7936f558c6
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Dec 7 14:04:32 2017 +0100

    Clean orphaned ifstate.veth* files on Ubuntu 14.04 (#3007)
    
    Ubuntu 14.04 has a well-known bug that leaves orphaned `ifstate.veth*` files in `/run/network` when creating / removing a virtual ethernet interface pair with `ip link add name veth1 type veth peer name veth2` and `ip link delete veth1`. Docker containers use these `veth` pairs: when a Docker container is created, Docker creates a pair and removes it when the container is removed. If a lot of containers are created, the file system where `/run/network` resides, runs out of inodes so that no more containers can be created.
    
    Invokers running on Ubuntu 14.04 VMs can be affected by the described situation if a lot of cold invocations are run.
    
    Remove orphaned `ifstate.veth*` files older than 60 minutes in `/run/network` on Ubuntu 14.04 when cleaning an invoker host. The cleaning commands always have to be run as `root` because other users are not allowed to remove the files.

 ansible/roles/invoker/tasks/clean.yml | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 94200d4dc7a6aaae6b694fc7333690df13c2975c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Dec 7 13:59:03 2017 +0100

    Add namespaceId to the activation record as well to enable correlation. (#3073)

 .../logging/DockerToActivationFileLogStore.scala           | 10 +++++++---
 .../logging/test/DockerToActivationFileLogStoreTests.scala | 14 +++++++++++---
 2 files changed, 18 insertions(+), 6 deletions(-)

commit caaf92885ec9742c0b5b21976b6d877c29494445
Author: Viola Gao <gaoqian126@126.com>
Date:   Mon Nov 27 11:31:44 2017 -0500

    Remove WskApiGwTests
    
    The test case has been moved to CLI repository as CLI-specific tests.
    It is the CLI's responsibility to verify whether an action is web action
    or not, whether the foramt is correct, whether YAML or JSON format is compliant,
    and sort the retirned results.

 .../scala/whisk/core/cli/test/WskApiGwTests.scala  | 438 ---------------------
 1 file changed, 438 deletions(-)

commit 8add3ad3158ac52510490fa7cabe1771c6be6bb3
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Dec 6 14:57:03 2017 -0500

    Do not invalidate the controller cache when just adding a DB attachment (#2832)
    
    * Do not invalidate the controller cache when just adding a DB attachment

 .../whisk/core/database/DocumentFactory.scala      |  75 +++--------
 .../main/scala/whisk/core/entity/WhiskAction.scala |   3 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |  40 +++---
 .../core/controller/test/ActionsApiTests.scala     | 149 ++++++++++++---------
 .../scala/whisk/core/database/test/DbUtils.scala   |  27 ++--
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  13 ++
 6 files changed, 149 insertions(+), 158 deletions(-)

commit 6bf70a7eb7ce6bc0cb79bf61090812f42e17fc61
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Dec 6 20:12:49 2017 +0100

    Give every invoker-topic it's own consumergroup (#3067)

 core/invoker/src/main/scala/whisk/core/invoker/InvokerReactive.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77561d84b0680d1a8105bb4d5c38d578fb26413d
Author: Martin Henke <martin.henke@web.de>
Date:   Wed Dec 6 16:32:31 2017 +0100

    Adjust controller side action time-out to avoid invokers marked as unhealthy  (#3040)
    
    * adjust controller side action time out
    
    * take the standard duration as the lower limit for timeout

 .../whisk/core/loadBalancer/LoadBalancerService.scala      | 14 +++++---------
 1 file changed, 5 insertions(+), 9 deletions(-)

commit d69f8db02be70db0da1e07614124ea2e08dd6826
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Dec 6 13:57:22 2017 +0100

    Add LogStore which stores to database and file simultaneously. (#2974)
    
    Adds a new LogStore which reads from the docker file in a streaming fashion, enhances the lines read and writes them out to an external file. This file can then be picked up by any asynchronous external process to decide what to do with those logs outside of the container lifecycle of the invoker.
    
    Notable changes:
    - Make LogStore configurable via ansible.
    - Add activation and user information to the collectLogs interface.
    - Renamed the existing LogStore to be more self-explaining.

 ansible/group_vars/all                             |   2 +
 ansible/roles/controller/tasks/deploy.yml          |   2 +
 ansible/roles/invoker/tasks/deploy.yml             |   1 +
 common/scala/src/main/resources/reference.conf     |   4 +-
 .../logging/DockerToActivationFileLogStore.scala   | 156 ++++++++++++++++++
 ...tore.scala => DockerToActivationLogStore.scala} |  19 +--
 .../containerpool/logging/LogRotatorSink.scala     | 176 +++++++++++++++++++++
 .../core/containerpool/logging/LogStore.scala      |  10 +-
 .../whisk/core/containerpool/ContainerProxy.scala  |  32 ++--
 .../scala/whisk/core/invoker/InvokerReactive.scala |   1 +
 .../docker/test/DockerContainerTests.scala         |   4 +-
 .../test/DockerToActivationFileLogStoreTests.scala |  78 +++++++++
 ...scala => DockerToActivationLogStoreTests.scala} |  19 ++-
 .../containerpool/test/ContainerProxyTests.scala   |   9 +-
 14 files changed, 473 insertions(+), 40 deletions(-)

commit 51eb924b5ff470c26add37a9546691aa685dc582
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Dec 5 18:50:46 2017 -0500

    Update trigger fire REST API swagger (#3062)
    
    - returns 202 instead of 200

 core/controller/src/main/resources/apiv1swagger.json | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2467c6bc10658f5c4f8520e474a4418beb284d32
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Dec 5 14:28:16 2017 -0500

    log exception when ensureTopic fails with unexpected exception (#3017)

 .../src/main/scala/whisk/connector/kafka/KafkaMessagingProvider.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 301c38ba672b2b6aca09390e002b5dfa985ff7b2
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Dec 4 16:40:35 2017 -0500

    Return 202 for trigger fire requests (#3031)
    
    * Return 202 for trigger fire requests
    - asynchronously write the trigger activation record to the db

 .../scala/whisk/core/controller/Triggers.scala     | 25 ++++++++++------------
 tests/src/test/scala/common/rest/WskRest.scala     |  2 +-
 .../core/controller/test/TriggersApiTests.scala    | 22 +++++++++++++------
 3 files changed, 27 insertions(+), 22 deletions(-)

commit 9e6dafce285dea6c23fed59597013afe8a32883c
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Dec 4 09:43:31 2017 -0500

    Tweak error message for failing to invoke an action. (#3006)
    
    if its type has changed or cannot be deserialized because of a runtime-manifest/schema mismatch with controller

 common/scala/src/main/scala/whisk/http/ErrorResponse.scala           | 1 +
 core/invoker/src/main/scala/whisk/core/invoker/InvokerReactive.scala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6b723f0b7a87e49fbcc2f7f25c99c3d3ae6394ee
Author: Junyoung, Sung <wnsdud1861@gmail.com>
Date:   Sat Dec 2 23:15:24 2017 +0900

    Enable multiverse before apt-get update in vagrant (#3050)

 tools/vagrant/Vagrantfile | 1 +
 1 file changed, 1 insertion(+)

commit 58f12797a1cb50ee8d9b583f94cea4468bca0475
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Dec 1 20:15:02 2017 -0500

    remove swift3.0 support (#3018)
    
    * remove swift3.0 support

 actionRuntimes/actionProxy/README.md               |   6 +-
 actionRuntimes/swift3Action/Dockerfile             |   1 -
 actionRuntimes/swift3Action/build.gradle           |   3 -
 ansible/group_vars/all                             |   2 +-
 ansible/roles/couchdb/tasks/deploy.yml             |   6 +-
 .../src/main/resources/apiv1swagger.json           |   1 -
 docs/actions.md                                    |   4 +-
 docs/reference.md                                  |  10 +-
 settings.gradle                                    |   1 -
 tests/build.gradle                                 |   1 -
 tests/dat/actions/helloSwift3.zip                  | Bin 741267 -> 0 bytes
 .../Swift311ActionContainerTests.scala             | 334 ++++++++++++++++++-
 .../Swift3ActionContainerTests.scala               | 363 ---------------------
 .../scala/system/basic/WskBasicSwift3Tests.scala   |   2 +-
 .../system/basic/WskRestBasicSwift311Tests.scala   |   1 -
 .../system/basic/WskRestBasicSwift3Tests.scala     |  28 --
 .../system/basic/WskRestUnicodeSwift3Tests.scala   |  34 --
 .../scala/whisk/core/cli/test/Swift311Tests.scala  | 193 ++++++++++-
 .../scala/whisk/core/cli/test/Swift3Tests.scala    | 216 ------------
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  14 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala |   2 +-
 tools/build/redo                                   |   5 -
 tools/travis/build.sh                              |   2 +-
 23 files changed, 543 insertions(+), 686 deletions(-)

commit cb955f6da7cf4e3ea4c8450b52865076e7885fc5
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Dec 1 21:27:25 2017 +0100

    Fix kamon env vars (#3043)

 ansible/roles/controller/tasks/deploy.yml | 2 --
 ansible/roles/invoker/tasks/deploy.yml    | 4 ++--
 2 files changed, 2 insertions(+), 4 deletions(-)

commit ff92aad61617218f500161d59aa0be4957ec1649
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Dec 1 16:25:48 2017 +0100

    Minor nginx changes (#3038)

 ansible/roles/nginx/templates/nginx.conf.j2 | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 1dd7789d5a552f24b43feec7691892c6074ad670
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Dec 1 16:23:08 2017 +0100

    Reenable retry on delete of an entity after test, if there is a conflict. (#3041)

 tests/src/test/scala/common/WskTestHelpers.scala | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit a140163da5a28bac542d7881a5101d0c8f298fbe
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Dec 1 14:32:08 2017 +0100

    Always disable controller.ha when only 1 controller is deployed. (#3039)

 ansible/group_vars/all | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 9a0fce4122e9926eb02e679b03b583a7dc013537
Author: Dominic Kim <style9595@gmail.com>
Date:   Fri Dec 1 19:34:06 2017 +0900

    Add guide about limitation on couchdb clustering (#3037)

 ansible/README.md | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 88c6ed2ce033c9512dfc5fabbbd21d1e6c3739e0
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Fri Dec 1 11:16:48 2017 +0100

    Add some logs statements to the test to hunt heisenbug #3022. (#3033)

 tests/src/test/scala/services/KafkaConnectorTests.scala | 3 +++
 1 file changed, 3 insertions(+)

commit 2bc0aa5a884cdebc20082aaf11418ff6fbbcac7b
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Nov 30 21:48:43 2017 -0500

    Update invoke.py to reflect changes in repository (#3005)
    
    * Udpdate documentation to reflect deleted file.
    
    * Add result limit.
    
    * Tweak example.

 actionRuntimes/actionProxy/invoke.py | 6 +++---
 docs/reference.md                    | 4 ++++
 2 files changed, 7 insertions(+), 3 deletions(-)

commit af584b2a4fa7f90116c8a230b65a914b3f0df7f0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Nov 30 19:33:59 2017 -0500

    use 1 controller in travis/local env (#3035)

 ansible/environments/local/hosts | 1 -
 1 file changed, 1 deletion(-)

commit 0737826c06c73a904c49977910d103d1eed79174
Author: David Cariello <drcariel@us.ibm.com>
Date:   Wed Nov 29 14:57:32 2017 -0600

    allow open ansible to install catalog dynamically (#3025)

 ansible/tasks/installOpenwhiskCatalog.yml | 4 ++++
 1 file changed, 4 insertions(+)

commit e587bf8ec632320614f14114c4e85e67f39c06c2
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Nov 29 21:49:36 2017 +0900

    Add couchdb clustering. (#2810)
    
    * Add couchdb clustering

 ansible/group_vars/all                             |   3 +-
 ansible/roles/couchdb/tasks/deploy.yml             |  56 +++++-
 ansible/templates/whisk.properties.j2              |   2 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   3 +-
 tests/src/test/scala/common/WhiskProperties.java   |  16 +-
 tests/src/test/scala/ha/ShootComponentsTests.scala | 198 +++++++++++++++++++--
 6 files changed, 251 insertions(+), 27 deletions(-)

commit 21d37a1af329544e245d376ad613d1a603fc104c
Author: Sang Heon Lee <developistBV@gmail.com>
Date:   Tue Nov 28 19:45:21 2017 +0900

    Deploy kafka & zookeeper cluster with ansible (#2744)
    
    * Deploy kafka cluster with ansible
    
    - Enable deploying zookeeper & kafka cluster in separate hosts
    - use quorum number as default replicationFactor
    - Add ansible task to remove legacy kafka&zookeeper container
    - Add shutdown test for kafka cluster
    - Reduce default kafka heap size to 0.5g
    - Make kafkaReplicationFactor configurable
    - Increase kafka timeout in test
    - Wait until kafka is up in kafka shooting test
    - Reduce memory usage in ActionLimitsTests
    - Bump kafka broker version to 0.11.0.1
    - Add sleep in kafka retry

 ansible/environments/distributed/hosts             |  5 +-
 ansible/environments/docker-machine/hosts.j2.ini   |  5 +-
 ansible/environments/local/group_vars/all          |  9 +++
 ansible/environments/local/hosts                   |  8 ++-
 ansible/group_vars/all                             | 27 ++++++--
 ansible/kafka.yml                                  |  6 +-
 ansible/roles/controller/tasks/deploy.yml          |  4 +-
 ansible/roles/invoker/tasks/deploy.yml             |  7 +-
 ansible/roles/kafka/tasks/clean.yml                |  8 +--
 ansible/roles/kafka/tasks/deploy.yml               | 48 +++++--------
 ansible/roles/zookeeper/tasks/clean.yml            | 18 +++++
 ansible/roles/zookeeper/tasks/deploy.yml           | 37 ++++++++++
 ansible/roles/zookeeper/tasks/main.yml             | 10 +++
 ansible/templates/whisk.properties.j2              |  8 +--
 .../connector/kafka/KafkaMessagingProvider.scala   |  6 +-
 .../connector/kafka/KafkaProducerConnector.scala   | 15 +++-
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 15 ++--
 .../whisk/core/connector/MessageProducer.scala     |  2 +-
 .../scala/whisk/core/controller/Controller.scala   |  2 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  5 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    | 17 ++---
 tests/src/test/scala/common/WhiskProperties.java   | 14 +---
 .../test/scala/services/KafkaConnectorTests.scala  | 80 ++++++++++++++++------
 .../whisk/core/connector/test/TestConnector.scala  |  2 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |  4 +-
 25 files changed, 244 insertions(+), 118 deletions(-)

commit b1330cf4dc90caeed07356f38d83b6d13b3c6ae7
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Nov 28 10:12:31 2017 +0100

    adapt timeouts of controller and nginx (#3010)

 ansible/roles/nginx/templates/nginx.conf.j2         | 4 ++--
 core/controller/src/main/resources/application.conf | 6 +++---
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 0f679adcf8cf1f29fde8f99c16f66a98e3ec021f
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Nov 27 17:06:36 2017 -0500

    Enhance wskadmin to list all spaces for a subject and add README (#3012)
    
    * Add flag to list all namespaces for a subject.
    
    * Add README for wskadmin.

 .../scala/whisk/core/admin/WskAdminTests.scala     | 19 +++++
 tools/admin/README.md                              | 82 ++++++++++++++++++++++
 tools/admin/wskadmin                               | 33 ++++++---
 tools/vagrant/README.md                            |  2 +-
 4 files changed, 125 insertions(+), 11 deletions(-)

commit 8c4d328ff68d8663fa08617e0dfbb0984e47ffde
Author: Vincent <shou@us.ibm.com>
Date:   Mon Nov 27 13:00:50 2017 -0500

    Add the idle timeout configuration to the Akka client (#3009)
    
    This PR sets the idle timeout to 5 minutes in order to give enough
    time for sequence tests to finish.

 tests/src/test/scala/common/rest/WskRest.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit aa697f620ae5f07828da677d06fa0f62b4f60adc
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Nov 27 18:12:35 2017 +0100

    Configure components via pureconfig. (#2576)
    
    This adds the ability to configure the main components
    (controller/invoker) via pureconfig case-classes vs. using
    WhiskConfig.
    
    Benefits are:
    
    - Automatic type derivation
    - Static loading of config vs. passing one instance around
    - Proper scoping of configuration
    - It's the standard in Scala (based on TypesafeConfig)
    
    Implementation:
    
    TypesafeConfig reads JSON-like configuration files, which we can nest
    as we please. Those namespaces can be read by each component
    independently.  While TypesafeConfig supports expansion of environment
    variables, one has to do so explicitly. Which System properties, one
    can override specific values directly without the added overhead. To
    achieve the best of both worlds (for containers we only have
    environment variables available) there is a small script which
    translates environment variables to system properties in Java.

 ansible/roles/controller/tasks/deploy.yml          | 24 +++++++-----
 ansible/roles/invoker/tasks/deploy.yml             |  2 +-
 common/scala/Dockerfile                            |  3 ++
 common/scala/build.gradle                          |  2 +
 common/scala/src/main/resources/application.conf   |  5 ---
 common/scala/transformEnvironment.sh               | 45 ++++++++++++++++++++++
 core/controller/Dockerfile                         |  6 ++-
 core/controller/init.sh                            |  6 +++
 .../controller/src/main/resources/application.conf | 18 ++++-----
 .../core/loadBalancer/LoadBalancerService.scala    | 16 ++++----
 core/invoker/Dockerfile                            |  4 ++
 core/invoker/init.sh                               |  6 +++
 docs/dev/configuration.md                          | 17 ++++++++
 settings.gradle                                    |  2 +-
 14 files changed, 121 insertions(+), 35 deletions(-)

commit 83982f6687252e793c3e0862e8a23a656f76fc2c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Nov 8 10:33:42 2017 +0100

    Streamingly read user-logs.
    
    Use akka-streams and its various connectors to read a user's log file in a streaming fashion.
    
    This will **not** contribute to memory-pressure relief as all the logs still need to be read into memory to write it to the database due to the existing schema.
    
    Alters the existing limit calculation in that the limit is applied to the JSON structure of the log-file rather than only the log message. As a consequence, the perceived log-limit will be lower than the actually defined log-limit.

 common/scala/build.gradle                          |   6 +-
 .../src/main/scala/whisk/common/Logging.scala      |   3 +
 .../scala/whisk/core/containerpool/Container.scala |   6 +-
 .../containerpool/logging/DockerLogStore.scala     |  43 ++-
 .../core/containerpool/logging/LogStore.scala      |   3 +
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   1 +
 core/invoker/build.gradle                          |   2 +
 .../whisk/core/containerpool/ContainerProxy.scala  |  65 +++--
 .../docker/DockerActionLogDriver.scala             | 120 --------
 .../docker/DockerClientWithFileAccess.scala        |  81 ++----
 .../containerpool/docker/DockerContainer.scala     | 135 ++++++---
 tests/src/test/scala/common/TimingHelpers.scala    |  33 +++
 .../docker/test/ActionLogDriverTests.scala         | 146 ----------
 .../test/DockerClientWithFileAccessTests.scala     | 108 --------
 .../docker/test/DockerContainerTests.scala         | 307 ++++++++++++---------
 .../logging/test/DockerLogStoreTests.scala         |  97 +++++++
 .../containerpool/test/ContainerProxyTests.scala   | 164 ++++++++---
 .../whisk/core/limits/ActionLimitsTests.scala      |   8 +-
 18 files changed, 667 insertions(+), 661 deletions(-)

commit f95f219f371002507ddd57291d56dbc8bf8f22ab
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Nov 24 11:30:41 2017 +0100

    At most 10 `docker run` commands are allowed in parallel. (#2995)
    
    Docker < 1.13.1 has a known problem: if more than 10 containers are created (`docker run`) concurrently, there is a good chance that some of them will fail. See https://github.com/moby/moby/issues/29369
    
    Use a semaphore to make sure that at most 10 `docker run` commands are active the same time.

 .../core/containerpool/docker/DockerClient.scala   |  59 +++++++----
 .../docker/test/DockerClientTests.scala            | 109 +++++++++++++++++++--
 2 files changed, 144 insertions(+), 24 deletions(-)

commit df5be33f94f38c20c98fdafb9303f38c0c857239
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Nov 23 08:39:17 2017 -0500

    Fix vagrant due to removal of cli gradle task (#2999)
    
    * Fix vagrant due to removal of cli gradle task
    
    * fix wrapper wsk script in vagrant

 settings.gradle           | 2 --
 tools/build/redo          | 8 +-------
 tools/vagrant/Vagrantfile | 6 +++---
 3 files changed, 4 insertions(+), 12 deletions(-)

commit 31736e4409409c2bb2cb1f55219fc2093cdc17c6
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Nov 23 11:55:28 2017 +0100

    Enable clustering by default (#2994)

 ansible/group_vars/all | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e404577667c695a96e51d6a1dfd9e9a6aec98844
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Nov 22 05:40:14 2017 -0500

    Remove old views. (#2763)

 .../whisks_design_document_for_actions_db.json     | 28 ----------------------
 .../whisks_design_document_for_activations_db.json | 12 ----------
 ansible/tasks/recreateViews.yml                    |  2 --
 .../scala/whisk/core/entity/WhiskActivation.scala  | 14 +++++------
 4 files changed, 6 insertions(+), 50 deletions(-)

commit 9c62e7fb64e33d9ed3007da0112d54c678d4d3a8
Author: Vincent <shou@us.ibm.com>
Date:   Tue Nov 21 19:16:49 2017 -0500

    Removal of openwhisk cli and cli related test cases (#2979)
    
    This PR removes all the go code of cli and cli related test cases,
    since it has been moved to a separate repo. The default cli installation
    mode is switched to "remote". In addition, this PR updates the document
    to configure the CLI installation mode.

 ansible/README.md                                  |   23 +-
 ansible/group_vars/all                             |    2 +-
 .../apigw/healthtests/ApiGwCliEndToEndTests.scala  |   33 -
 .../scala/system/basic/WskCliActionTests.scala     |   28 -
 .../scala/system/basic/WskCliBasicJavaTests.scala  |   28 -
 .../system/basic/WskCliBasicPythonTests.scala      |   28 -
 .../system/basic/WskCliBasicSwift311Tests.scala    |   29 -
 .../system/basic/WskCliBasicSwift3Tests.scala      |   28 -
 .../scala/system/basic/WskCliConsoleTests.scala    |   30 -
 .../scala/system/basic/WskCliPackageTests.scala    |   28 -
 .../test/scala/system/basic/WskCliRuleTests.scala  |   28 -
 .../scala/system/basic/WskCliSequenceTests.scala   |   32 -
 .../system/basic/WskCliUnicodeJavaTests.scala      |   34 -
 .../system/basic/WskCliUnicodeNodeTests.scala      |   34 -
 .../system/basic/WskCliUnicodePython2Tests.scala   |   34 -
 .../system/basic/WskCliUnicodePython3Tests.scala   |   34 -
 .../system/basic/WskCliUnicodeSwift311Tests.scala  |   34 -
 .../system/basic/WskCliUnicodeSwift3Tests.scala    |   34 -
 .../src/test/scala/system/basic/WskSdkTests.scala  |  178 ---
 .../test/ApiGwCliRoutemgmtActionTests.scala        |   28 -
 .../scala/whisk/core/cli/test/ApiGwCliTests.scala  |   33 -
 .../core/cli/test/WskCliActionSequenceTests.scala  |   28 -
 .../core/cli/test/WskCliEntitlementTests.scala     |   34 -
 .../core/cli/test/WskCliWebActionsTests.scala      |   28 -
 .../scala/whisk/core/cli/test/WskConfigTests.scala |  492 -------
 tools/cli/Dockerfile                               |   42 -
 tools/cli/README.md                                |   24 -
 tools/cli/build.gradle                             |   81 -
 tools/cli/build.sh                                 |  105 --
 tools/cli/go-whisk-cli/Godeps/Godeps.json          |   85 --
 tools/cli/go-whisk-cli/Godeps/Readme               |    5 -
 tools/cli/go-whisk-cli/commands/action.go          | 1088 --------------
 tools/cli/go-whisk-cli/commands/activation.go      |  420 ------
 tools/cli/go-whisk-cli/commands/api.go             |  963 ------------
 tools/cli/go-whisk-cli/commands/commands.go        |  219 ---
 tools/cli/go-whisk-cli/commands/flags.go           |  157 --
 tools/cli/go-whisk-cli/commands/namespace.go       |  131 --
 tools/cli/go-whisk-cli/commands/package.go         |  539 -------
 tools/cli/go-whisk-cli/commands/property.go        |  561 -------
 tools/cli/go-whisk-cli/commands/qualified_name.go  |  215 ---
 tools/cli/go-whisk-cli/commands/rule.go            |  432 ------
 tools/cli/go-whisk-cli/commands/sdk.go             |  258 ----
 tools/cli/go-whisk-cli/commands/shared.go          |   35 -
 tools/cli/go-whisk-cli/commands/trigger.go         |  544 -------
 tools/cli/go-whisk-cli/commands/util.go            | 1104 --------------
 tools/cli/go-whisk-cli/commands/wsk.go             |   70 -
 tools/cli/go-whisk-cli/main.go                     |  106 --
 tools/cli/go-whisk-cli/wski18n/detection.go        |   42 -
 tools/cli/go-whisk-cli/wski18n/i18n.go             |  147 --
 .../go-whisk-cli/wski18n/resources/de_DE.all.json  |    0
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 1558 --------------------
 .../go-whisk-cli/wski18n/resources/es_ES.all.json  |    0
 .../go-whisk-cli/wski18n/resources/fr_FR.all.json  |    6 -
 .../go-whisk-cli/wski18n/resources/it_IT.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ja_JA.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ko_KR.all.json  |    0
 .../go-whisk-cli/wski18n/resources/pt_BR.all.json  |    0
 .../wski18n/resources/zh_Hans.all.json             |    0
 .../wski18n/resources/zh_Hant.all.json             |    0
 tools/cli/go-whisk/whisk/action.go                 |  315 ----
 tools/cli/go-whisk/whisk/activation.go             |  215 ---
 tools/cli/go-whisk/whisk/api.go                    |  483 ------
 tools/cli/go-whisk/whisk/client.go                 |  754 ----------
 tools/cli/go-whisk/whisk/info.go                   |   73 -
 tools/cli/go-whisk/whisk/namespace.go              |  134 --
 tools/cli/go-whisk/whisk/package.go                |  251 ----
 tools/cli/go-whisk/whisk/rule.go                   |  217 ---
 tools/cli/go-whisk/whisk/sdk.go                    |   82 --
 tools/cli/go-whisk/whisk/shared.go                 |   80 -
 tools/cli/go-whisk/whisk/trace.go                  |   95 --
 tools/cli/go-whisk/whisk/trigger.go                |  221 ---
 tools/cli/go-whisk/whisk/util.go                   |  106 --
 tools/cli/go-whisk/whisk/wskerror.go               |  174 ---
 tools/cli/go-whisk/wski18n/detection.go            |   42 -
 tools/cli/go-whisk/wski18n/i18n.go                 |  147 --
 .../cli/go-whisk/wski18n/resources/de_DE.all.json  |    0
 .../cli/go-whisk/wski18n/resources/en_US.all.json  |  138 --
 .../cli/go-whisk/wski18n/resources/es_ES.all.json  |    0
 .../cli/go-whisk/wski18n/resources/fr_FR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/it_IT.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ja_JA.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ko_KR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/pt_BR.all.json  |    0
 .../go-whisk/wski18n/resources/zh_Hans.all.json    |    0
 .../go-whisk/wski18n/resources/zh_Hant.all.json    |    0
 85 files changed, 21 insertions(+), 13785 deletions(-)

commit 1a4493f1facd301d34c2beb5dd011c52d3b2953c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Nov 21 11:38:51 2017 +0100

    Bump idle-timeout for HTTP clients in test. (#2989)
    
    A blocking request will be open for at most 60 seconds before it falls back to a non-blocking request. The default idle-timeout is at 60 seconds so a racy failure happens in tests, where a blocking fallback is provoked.

 tests/src/test/resources/application.conf | 3 +++
 1 file changed, 3 insertions(+)

commit c83b312dabbbc4d005c529cd2979c03a290ada49
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Nov 20 13:44:13 2017 +0100

    Remove WskRestConsoleTest.
    
    This test does not make sense to have as a REST based test, since it doesn't test any implementation other than the test's implementation, which is faulty.
    
    The `pollFor` uses a different view than the underlying `listActivations` call, which results in intermittent failures.

 .../scala/system/basic/WskRestConsoleTests.scala   | 30 ----------------------
 1 file changed, 30 deletions(-)

commit 80d5bcaaefcc0508933b71893571798d6c0e8ef3
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Fri Nov 17 21:42:00 2017 -0500

    create dir when creating content.json using remote mode

 ansible/roles/cli/files/createContentJson.sh | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0c9420b57770457dcd45454943d429b0bd3df562
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Nov 20 13:22:51 2017 +0100

    Change the confdir for the default environments. (#2973)

 ansible/environments/distributed/group_vars/all    | 2 +-
 ansible/environments/docker-machine/group_vars/all | 2 +-
 ansible/environments/local/group_vars/all          | 2 +-
 ansible/roles/nginx/tasks/clean.yml                | 9 +++++++++
 4 files changed, 12 insertions(+), 3 deletions(-)

commit 4977277f9a03c6347e2ace45dff74b4d056f1121
Author: Shazron Abdullah <shazron@gmail.com>
Date:   Mon Nov 20 19:17:04 2017 +0800

    Changed stale link to point to samples.md (#2985)

 docs/cli.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ff2692796a2f04880a359e24c11468fd9b3f3586
Author: Adnan Baruni <abaruni@users.noreply.github.com>
Date:   Fri Nov 17 21:17:11 2017 -0600

    update feeds.md for with additional lifecycleEvent UPDATE (#2980)

 docs/feeds.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b56aac88a697e0519beb03927505171e76f745d0
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Nov 17 17:53:05 2017 -0500

    initial support for nodejs8 (#2958)

 actionRuntimes/nodejs8Action/Dockerfile            |  2 +
 actionRuntimes/nodejs8Action/build.gradle          | 10 +++
 ansible/group_vars/all                             |  5 ++
 .../src/main/resources/apiv1swagger.json           |  1 +
 docs/actions.md                                    | 89 +++++++++++++++++++-
 docs/reference.md                                  | 55 ++++++++-----
 settings.gradle                                    |  1 +
 .../NodeJs8ActionContainerTests.scala              | 54 +++++++++++++
 .../NodeJsActionContainerTests.scala               |  5 +-
 .../scala/system/basic/WskBasicNode6Tests.scala    | 94 ++++++++++++++++++++++
 .../scala/system/basic/WskBasicNode8Tests.scala    | 26 ++++++
 ...eTests.scala => WskBasicNodeDefaultTests.scala} | 51 +-----------
 ...NodeTests.scala => WskCliBasicNode6Tests.scala} |  2 +-
 .../scala/system/basic/WskCliBasicNode8Tests.scala | 28 +++++++
 .../system/basic/WskCliBasicNodeDefaultTests.scala | 28 +++++++
 ...odeTests.scala => WskRestBasicNode6Tests.scala} |  2 +-
 .../system/basic/WskRestBasicNode8Tests.scala      | 28 +++++++
 .../basic/WskRestBasicNodeDefaultTests.scala       | 28 +++++++
 ...eTests.scala => WskRestUnicodeNode6Tests.scala} |  2 +-
 .../system/basic/WskRestUnicodeNode8Tests.scala    | 34 ++++++++
 20 files changed, 469 insertions(+), 76 deletions(-)

commit da65465464d9fec016d40234396342548644cd91
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Nov 17 17:23:54 2017 -0500

    Programmatic lazy creation of completedN and invokerN topics (#2948)
    
    Each invoker and controller now ensures that their message topics are
    created as part of their individual startup procedure. As a result, we
    no longer need to eagerly create the topics during kafka startup
    to ensure the topics have the desired config parameters.
    
    This change is motivated by simplifying the deployment of OpenWhisk on
    Kubernetes, but also generally enables more dynamic sizing of the
    controller/invoker pools in any deployment.
    
    The change has four main parts:
      1. addition of the ensureTopic method to the MessagingProvider SPI
      2. bump of kafka version to 0.11.0.1 (required to get AdminClient API).
      3. implementation of ensureTopic for kafka using AdminClient
      4. Changes to controller and invoker code and deployment files to
         use the ensureTopic SPI method during startup.
    
    Note that although the various config parameters _may_ be overriden in
    the controller/invoker environment, defining the variables is not
    required. Defaults are defined that match the current ansible default
    values.

 ansible/roles/controller/tasks/deploy.yml          |  3 ++
 ansible/roles/invoker/tasks/deploy.yml             |  3 ++
 ansible/roles/kafka/tasks/deploy.yml               | 14 ---------
 common/scala/build.gradle                          |  2 +-
 .../connector/kafka/KafkaMessagingProvider.scala   | 36 ++++++++++++++++++++++
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 14 +++++++++
 .../whisk/core/connector/MessagingProvider.scala   |  2 ++
 .../scala/whisk/core/controller/Controller.scala   | 23 +++++++++++---
 .../core/loadBalancer/LoadBalancerService.scala    | 18 +++++++----
 .../main/scala/whisk/core/invoker/Invoker.scala    | 16 ++++++++++
 .../whisk/core/connector/test/TestConnector.scala  |  7 ++---
 .../test/InvokerSupervisionTests.scala             |  3 +-
 12 files changed, 109 insertions(+), 32 deletions(-)

commit 440c85070b4ead5f8050ac211bf02d945c85fdbc
Author: ningyougang <415622920@qq.com>
Date:   Fri Nov 17 21:06:45 2017 +0800

    Fix bug when remove invoker. (#2978)
    
    If deploy mutilple invoker instances on one physical node, and execute
    ansible task of remove remaining actions, exist below problems:
    - Cost much time, becuase when remove invoker0, the task will remove
      action container wsk0_ container, wsk1_ container, and so on,
      on the other hand, wsk1_container is removed by invoker1's stop hook
      default, so that's the reason why the task will cost much time.
    - It may remove other invoker's action container, this is wrong logic,
      righ logic is that inovker0 remove wsk0_ container, invoker1 remove wsk1_
      container, and so on
    
    So it is necessary to add exact filter to wsk action container when remove
    invoker.

 ansible/roles/invoker/tasks/clean.yml | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e7830fdb2aed831914c3ca892819b70b4ef14c6e
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Nov 17 02:34:57 2017 -0500

    Enable v2 views. (#2762)
    
    * Enable v2 views.
    
    * Adjust console test in REST client eventhough this test makes no sense to me here.

 ansible/group_vars/all                             |  6 +++---
 ansible/logs.yml                                   |  2 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  4 ++--
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  7 ++++---
 .../scala/whisk/core/controller/Activations.scala  |  2 +-
 tests/src/test/scala/common/rest/WskRest.scala     | 23 +++++++++++-----------
 .../test/scala/system/basic/WskConsoleTests.scala  | 13 ++++++------
 .../src/test/scala/system/basic/WskRuleTests.scala |  4 ++--
 .../core/controller/test/ActivationsApiTests.scala | 23 ++++++++++------------
 9 files changed, 41 insertions(+), 43 deletions(-)

commit 2849cd3db4b31374a3a176d55742b3dca5268e3e
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Nov 16 17:19:26 2017 -0500

    update to nodejs 6.12 (#2975)

 actionRuntimes/nodejs6Action/Dockerfile | 2 +-
 docs/reference.md                       | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 5fef9ac41be1b360c211f00680c965a06e229adc
Author: Vincent <shou@us.ibm.com>
Date:   Thu Nov 16 15:12:34 2017 -0500

    Switch to use the remote mode to install the binaries (#2969)

 ansible/group_vars/all                               | 12 +++++-------
 ansible/roles/cli/tasks/cli_remote_mode.yml          |  7 +++++++
 ansible/roles/cli/tasks/copy_local_openwhisk_cli.yml |  7 +++++++
 ansible/roles/cli/tasks/download_openwhisk_cli.yml   |  2 ++
 4 files changed, 21 insertions(+), 7 deletions(-)

commit 0cb847c0906f58fee1166938977708d99261c1c5
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Nov 16 13:15:52 2017 +0100

    Increase the number of max open requests (#2951)

 common/scala/src/main/resources/application.conf                       | 2 +-
 common/scala/src/main/scala/whisk/core/database/CouchDbRestStore.scala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 58967d73045d7f9382f455d1fb49d1276d8dbf60
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Nov 16 06:11:34 2017 -0500

    Create heap dump when OOM exceptions occur (#2970)

 ansible/roles/controller/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4e5a8117f6c19776f3bcafcfe04e55f49ca843e8
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Nov 15 15:31:30 2017 -0500

    Better error controller message for authorization failure (#2877)
    
    * Add resource name to Forbidden error message
    
    * Comment updates and test case updates
    
    * Fix scalafmt issue
    
    * Reformat using scalafmt plugin
    
    * Fix two more failing test cases
    
    * Comment updates
    
    * Compiles but tests are broken
    
    * Add Set[Resources] test
    
    * Comment updates
    
    * Comment updates

 .../src/main/scala/whisk/http/ErrorResponse.scala  |   3 +
 .../controller/AuthorizedRouteDispatcher.scala     |  19 ++-
 .../scala/whisk/core/entitlement/Entitlement.scala |  60 ++++++---
 .../test/scala/system/basic/WskBasicTests.scala    |   5 +-
 .../controller/test/EntitlementProviderTests.scala | 144 ++++++++++++++-------
 .../controller/test/PackageActionsApiTests.scala   |   2 +-
 6 files changed, 167 insertions(+), 66 deletions(-)

commit e79e6e327953ecf082dd11a3247c13ad31d8186d
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Nov 15 15:30:55 2017 -0500

    Reject requests to create packages having the name 'default' (#2964)
    
    * Reject requests to create packages having the name 'default'
    
    * Comment updates

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  3 ++
 .../scala/whisk/core/controller/Packages.scala     | 40 +++++++++++++---------
 .../core/controller/test/PackagesApiTests.scala    | 29 +++++++++++++++-
 3 files changed, 54 insertions(+), 18 deletions(-)

commit cfa1918a3799f0de4ddc58d5cd682bedb3ae3b20
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Nov 14 20:11:38 2017 -0500

    update kinds (#2853)

 core/controller/src/main/resources/apiv1swagger.json   | 8 +++-----
 tests/src/test/scala/system/rest/JsonSchemaTests.scala | 2 +-
 2 files changed, 4 insertions(+), 6 deletions(-)

commit e2c7746ad3231c0e1d7b2e46c8fc0f43c8704345
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Nov 14 13:23:02 2017 -0500

    Refactor api gw test's throttle clearance method (#2965)

 .../scala/whisk/core/cli/test/BaseApiGwTests.scala | 31 +++++++++-------------
 1 file changed, 12 insertions(+), 19 deletions(-)

commit ea2cd1ccaf3116fc8a4cf00ed624574b26cb2065
Author: Vincent <shou@us.ibm.com>
Date:   Mon Nov 13 14:55:22 2017 -0500

    Clean up all the test cases (#2962)
    
    The PRs before replace all the rest of the wsk inplementation with REST
    implementation for test cases in openwhisk. This PR cleans up some
    leftover for the WskRest migration work. After this PR, no more test
    case needs to be changed any longer, and cli in openwhisk core is ready
    to departure.

 .../whisk/core/cli/test/{WskCliApiGwTests.scala => WskApiGwTests.scala} | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 75416e2f6382a30ccb341e48794e2f681296ffae
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Nov 13 12:38:58 2017 -0500

    Completely settle throttle after the API GW test suite is run (#2963)

 tests/src/test/scala/whisk/core/cli/test/BaseApiGwTests.scala | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit b1a46ab8bc237eca70b3462e335223d45f487800
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Mon Nov 13 17:12:05 2017 +0100

    Emit an additional counter metric for HTTP service. (#2946)

 common/scala/src/main/scala/whisk/http/BasicHttpService.scala | 1 +
 1 file changed, 1 insertion(+)

commit c5e12ce8b2ffdc10a4c418eb20c2dd0255bb5981
Author: Vincent <shou@us.ibm.com>
Date:   Sat Nov 11 08:21:26 2017 -0500

    Replace test cases of api gateway with REST (#2944)

 .../apigw/healthtests/ApiGwCliEndToEndTests.scala  |  33 ++
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  73 ++-
 .../apigw/healthtests/ApiGwRestEndToEndTests.scala |  93 +++
 tests/src/test/scala/common/rest/WskRest.scala     |  97 ++--
 .../test/ApiGwCliRoutemgmtActionTests.scala        |  28 +
 .../test/ApiGwRestRoutemgmtActionTests.scala       |  31 +
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 227 +-------
 .../scala/whisk/core/cli/test/ApiGwCliTests.scala  |  33 ++
 .../scala/whisk/core/cli/test/ApiGwRestTests.scala | 248 ++++++++
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 641 +++++++--------------
 .../scala/whisk/core/cli/test/BaseApiGwTests.scala | 165 ++++++
 .../whisk/core/cli/test/WskCliApiGwTests.scala     | 438 ++++++++++++++
 12 files changed, 1407 insertions(+), 700 deletions(-)

commit 4e8715232f1e90b87d801754f53438a1f0835039
Author: Viola Gao <gaoqian126@126.com>
Date:   Mon Nov 6 15:45:22 2017 -0500

    Re-implement the test cases under whisk.core.cli.test package in REST

 tests/src/test/scala/common/BaseWsk.scala          |  2 +-
 tests/src/test/scala/common/rest/WskRest.scala     | 28 +++++--
 .../core/cli/test/SequenceMigrationTests.scala     |  4 +-
 .../scala/whisk/core/cli/test/Swift3Tests.scala    |  4 +-
 .../core/cli/test/WskActionSequenceTests.scala     | 14 +++-
 .../core/cli/test/WskCliActionSequenceTests.scala  | 28 +++++++
 .../core/cli/test/WskCliEntitlementTests.scala     | 34 ++++++++
 .../core/cli/test/WskCliWebActionsTests.scala      | 28 +++++++
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 94 +++++++++++++---------
 .../core/cli/test/WskRestActionSequenceTests.scala | 37 +++++++++
 .../core/cli/test/WskRestEntitlementTests.scala    | 71 ++++++++++++++++
 .../core/cli/test/WskRestWebActionsTests.scala     | 28 +++++++
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 12 ++-
 13 files changed, 325 insertions(+), 59 deletions(-)

commit 07b9b44cd9e920f796c0cc24dbd506ed62d09f6c
Author: Vincent <shou@us.ibm.com>
Date:   Fri Nov 10 12:01:04 2017 -0500

    Add the support of certificate checking for secure mode (#2864)
    
    Closes: #2863

 .../src/test/scala/system/basic/WskSdkTests.scala  |  55 +++++++++
 .../scala/whisk/core/cli/test/WskConfigTests.scala | 132 +++++++++++++++++++++
 tools/cli/go-whisk/whisk/client.go                 |  82 +++++++++----
 tools/cli/go-whisk/whisk/info.go                   |   4 +
 tools/cli/go-whisk/whisk/sdk.go                    |   5 +-
 .../cli/go-whisk/wski18n/resources/en_US.all.json  |  12 ++
 6 files changed, 267 insertions(+), 23 deletions(-)

commit dd0cc5ecef2dde70b17c5bf2137a352307d5740d
Author: Kavitha <ServoKvd@users.noreply.github.com>
Date:   Fri Nov 10 22:05:16 2017 +0900

    Reorganization of the "core" folder to move folders associated with runtimes to "actionRuntimes" in root folder (#2933)
    
    * Reorganization of the core folder to move runtime dir to root folder
    
    * Reorganization of the core folder to move runtime dir to root folder

 {core => actionRuntimes}/actionProxy/Dockerfile         |  0
 {core => actionRuntimes}/actionProxy/README.md          |  0
 {core => actionRuntimes}/actionProxy/build.gradle       |  0
 {core => actionRuntimes}/actionProxy/invoke.py          |  0
 {core => actionRuntimes}/javaAction/Dockerfile          |  0
 {core => actionRuntimes}/javaAction/build.gradle        |  0
 {core => actionRuntimes}/javaAction/delete-build-run.sh |  0
 {core => actionRuntimes}/nodejs6Action/Dockerfile       |  0
 {core => actionRuntimes}/nodejs6Action/build.gradle     |  0
 {core => actionRuntimes}/php7.1Action/Dockerfile        |  0
 {core => actionRuntimes}/php7.1Action/build.gradle      |  0
 {core => actionRuntimes}/python2Action/Dockerfile       |  0
 {core => actionRuntimes}/python2Action/build.gradle     |  0
 {core => actionRuntimes}/pythonAction/Dockerfile        |  0
 {core => actionRuntimes}/pythonAction/build.gradle      |  0
 {core => actionRuntimes}/swift3.1.1Action/Dockerfile    |  0
 {core => actionRuntimes}/swift3.1.1Action/build.gradle  |  0
 {core => actionRuntimes}/swift3Action/Dockerfile        |  0
 {core => actionRuntimes}/swift3Action/build.gradle      |  0
 settings.gradle                                         | 16 ++++++++--------
 tests/build.gradle                                      | 14 +++++++-------
 tests/dat/blackbox/badaction/build.gradle               |  2 +-
 tests/dat/blackbox/badproxy/build.gradle                |  2 +-
 tools/build/redo                                        | 16 ++++++++--------
 tools/travis/build.sh                                   |  2 +-
 25 files changed, 26 insertions(+), 26 deletions(-)

commit a2aa07ec93c6230e52e99c89901394acfa8b872e
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Nov 10 10:49:06 2017 +0100

    Add ability to use controllers round-robin. (#2888)
    
    Per minute limits need to be diluted in an active/active scenario of controllers since they will be divided by the number of controllers in the system (to not need to share their state). A slight dilution of these values will account inconsistent usage of a specific controller when invoking/firing.
    
    Some tests assumed that only a single controller is active at any given time. These tests have been adjusted to also take round-robin used controllers into account.

 ansible/group_vars/all                             |  2 +
 ansible/roles/controller/tasks/deploy.yml          |  3 +-
 ansible/roles/nginx/templates/nginx.conf.j2        |  2 +-
 ansible/templates/whisk.properties.j2              |  1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 +
 .../MultipleReadersSingleWriterCache.scala         |  8 ++--
 .../scala/whisk/core/entitlement/Entitlement.scala | 34 +++++++++++++--
 tests/src/test/scala/ha/ShootComponentsTests.scala | 20 ++++++---
 tests/src/test/scala/limits/ThrottleTests.scala    | 17 +++++---
 .../core/database/test/CacheConcurrencyTests.scala | 51 +++++++++++++++-------
 .../MultipleReadersSingleWriterCacheTests.scala    | 11 ++---
 11 files changed, 108 insertions(+), 43 deletions(-)

commit 8bf2eef01995951abb8ce389f777f868fd542a66
Author: Viola Gao <gaoqian126@126.com>
Date:   Wed Nov 1 14:46:46 2017 -0400

    Re-implement the non-cli test cases with REST
    
    The test cases changed in this PR are non-CLI test cases, which should use
    the REST only to access the openwhisk services. This PR replaces the Wsk
    with WskRest in order to make it happen.

 tests/src/test/resources/application.conf          |  2 -
 tests/src/test/scala/common/WhiskProperties.java   | 21 ++++--
 tests/src/test/scala/common/rest/WskRest.scala     | 77 +++++++++++++++++-----
 tests/src/test/scala/ha/ShootComponentsTests.scala |  4 +-
 tests/src/test/scala/limits/ThrottleTests.scala    | 14 ++--
 tests/src/test/scala/services/HeadersTests.scala   |  4 +-
 .../test/scala/system/rest/ActionSchemaTests.scala |  4 +-
 .../scala/whisk/core/admin/WskAdminTests.scala     |  4 +-
 .../core/database/test/CacheConcurrencyTests.scala |  8 ++-
 .../whisk/core/limits/ActionLimitsTests.scala      | 14 ++--
 .../whisk/core/limits/MaxActionDurationTests.scala |  4 +-
 11 files changed, 105 insertions(+), 51 deletions(-)

commit 9be13e2c6d581f42b60351f05a11e4aa71ca31d9
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Nov 9 09:55:19 2017 -0500

    Reduce memory consumption for action invocation (#2730)

 .../core/database/ArtifactStoreProvider.scala      |   2 +
 .../whisk/core/database/CouchDbRestStore.scala     |  12 +-
 .../whisk/core/database/CouchDbStoreProvider.scala |   2 +
 .../core/database/RemoteCacheInvalidation.scala    |   5 +
 .../scala/whisk/core/entity/DocumentReader.scala   |  24 ++++
 .../src/main/scala/whisk/core/entity/Exec.scala    | 155 ++++++++++++++++++++-
 .../main/scala/whisk/core/entity/WhiskAction.scala | 147 +++++++++++++++++++
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  14 ++
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  11 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   7 +
 .../main/scala/whisk/core/controller/Actions.scala |  16 ++-
 .../scala/whisk/core/controller/Controller.scala   |   5 +-
 .../scala/whisk/core/controller/WebActions.scala   |  14 +-
 .../controller/actions/PostActionActivation.scala  |   4 +-
 .../core/controller/actions/PrimitiveActions.scala |   2 +-
 .../core/controller/actions/SequenceActions.scala  |  16 +--
 .../scala/whisk/core/entitlement/Entitlement.scala |   4 +
 .../core/loadBalancer/LoadBalancerService.scala    |  12 +-
 .../core/controller/test/ActionsApiTests.scala     |  13 ++
 .../core/controller/test/ActivationsApiTests.scala |   7 +-
 .../controller/test/ControllerTestCommon.scala     |   2 +-
 .../core/controller/test/WebActionsApiTests.scala  |   8 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |   9 ++
 23 files changed, 452 insertions(+), 39 deletions(-)

commit c125df2a3378a7809b7c378a5ec95295f02c9037
Author: Jonathas Amaral <jnthas@gmail.com>
Date:   Thu Nov 9 12:37:42 2017 -0200

    Fix the example of default parameters (#2934)
    
    Update example that has place name overwritten by 'Washington, DC'

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b605943856d82b4253fa4539137e4e106d2fb07b
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Nov 9 06:45:40 2017 -0500

    Cleanup view for entities and augment activations view. (#2760)
    
    - Factor out design doc name to ansible.
    - Separate index view into its own design doc. This will cut the main view file size in half which will make activation list faster. It replicates the view in a separate design doc, so the total savings are zero. The additional compute overhead for the ddoc though is worth considering. The upshot: we can adjust filters separately.
    - Add package prefix if it exists to activation filter.
    - Allow for filtering activations by package name.

 ...ign_document_for_activations_db_filters_v2.json |  9 ++
 ...isks_design_document_for_activations_db_v2.json |  9 ++
 .../whisks_design_document_for_entities_db_v2.json | 21 +++++
 ansible/group_vars/all                             |  3 +
 ansible/roles/controller/tasks/deploy.yml          |  5 +-
 ansible/roles/invoker/tasks/deploy.yml             |  3 +
 ansible/tasks/recreateViews.yml                    |  3 +
 ansible/templates/whisk.properties.j2              |  5 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 25 ++++--
 .../main/scala/whisk/core/entity/EntityPath.scala  |  5 ++
 .../scala/whisk/core/entity/WhiskActivation.scala  | 60 ++++++++++---
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 51 +++++++++---
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  3 +-
 .../scala/whisk/core/controller/Activations.scala  | 55 ++++++------
 .../main/scala/whisk/core/invoker/Invoker.scala    | 15 +++-
 .../core/controller/test/ActivationsApiTests.scala | 59 +++++++++++--
 .../scala/whisk/core/database/test/DbUtils.scala   | 11 ++-
 .../scala/whisk/core/entity/test/ViewTests.scala   | 97 +++++++++-------------
 18 files changed, 297 insertions(+), 142 deletions(-)

commit 902c669f61028457db9a0b3312ece65e123ff75f
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Wed Nov 8 17:53:24 2017 -0500

    invoker cmd line support for dyanamicId assignment (#2939)
    
    * invoker cmd line support for dyanamicId assignment
    
    Add optional command line argument for invoker name
    and invoker proposed id to support Mesos deployment
    (see issue 2872).
    
    * replace scopt usage by list pattern matching as requested by Markus

 .../main/scala/whisk/core/invoker/Invoker.scala    | 25 +++++++++++++++++++---
 1 file changed, 22 insertions(+), 3 deletions(-)

commit 59c2ff3c77eec016f2665c755fc32464e2ded9ec
Author: Adnan Baruni <abaruni@users.noreply.github.com>
Date:   Wed Nov 8 16:01:20 2017 -0600

    WIP Support retrieving status and configuration of feed triggers in CLI (#2893)
    
    * invoke feed action in trigger get command when appropriate to fetch configuration and status
    
    * account for annotations for non-feed triggers
    
    * scanCode
    
    * remove unused param
    
    * add tests validating correct lifecycle event. update feeds.md with new lifecycle event
    
    * scalafmt
    
    * remove commented block
    
    * combine feed trigger tests into one

 docs/feeds.md                                      |  4 +--
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 20 +++++++++--
 tools/cli/go-whisk-cli/commands/trigger.go         | 39 ++++++++++++++++------
 3 files changed, 49 insertions(+), 14 deletions(-)

commit b3fb4b78f1e120fac1c9891ae587d9157f1b4b7b
Author: Brendan McAdams <brendan@bytes.codes>
Date:   Wed Nov 8 08:23:26 2017 -0800

    Actor state safety improvements. (#2802)
    
    * Move MessageConsumer internal `outstandingMessages` Queue to immutable
    - There's a risk with a mutable collection in actor state of leaking
      outside the actor (and then mutated outside) if sent in
      a message accidentally
    - Instead, a mutable var (always protected by actor isolation) pointing
      to an immutable collection provides better actor safety as a
      best practice
    
    * Move InvokerPool Actor internal instance tracking collections to immutable from mutable
      - As these collection items were already marked as risky if closed over, this cleanup
        should obviate any risk of that leakage (including being messaged out of the stack)
      - Change to immutable maps required a small refactor of `PingMessage` receive branch
    
    * Minor style fix to use foreach instead of map where unit was being returned in the map
    
    * Obvious cleanup/optimization of my last revision of PingMessage branch
    
    * In ActivationFinisher Actor, replace mutable state collection with immutable
    
    * ContainerPool Actor immutability cleanup
      - migrate mutable free/busy/prewarmed pools to immutable maps
      - should prevent accidental state leakage via closures and messages
    
    * Spacing fix for style guidelines
    
    * Remove unnecessary usage of "new" to instantiate a case class

 .../whisk/core/connector/MessageConsumer.scala     | 20 +++++++---
 .../core/controller/actions/PrimitiveActions.scala |  9 ++---
 .../core/loadBalancer/InvokerSupervision.scala     | 45 +++++++++++++---------
 .../whisk/core/containerpool/ContainerPool.scala   | 45 ++++++++++++----------
 4 files changed, 69 insertions(+), 50 deletions(-)

commit db89aa5cfe9d4a878f2245f16f2bfa5efcb5eaf5
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Nov 8 13:33:17 2017 +0100

    Be able to exclude databases by basename in replication. (#2945)

 .../whisk/core/database/test/ReplicatorTests.scala | 35 ++++++++++++++++++++--
 tools/db/replicateDbs.py                           | 10 ++++++-
 2 files changed, 41 insertions(+), 4 deletions(-)

commit 6c0cc9021ebff10a627d62bacd06e6e0d6a1676c
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Nov 7 05:57:46 2017 -0500

    use ZooKeeper as persistent store for invokerId assignment (#2916)
    
    Use ZooKeeper instead of Redis to persist mapping from invoker names to invoker ids and the counter for the next available id.
    
    The basic algorithm for dynamic invoker id assignment is unchanged, just using a different persistent store whose durability is a better match for this purpose (we want the invoker id assignment information to be as durable as the kafka topics it is being used to assign).

 ansible/roles/invoker/tasks/deploy.yml             |  4 +-
 common/scala/build.gradle                          |  1 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  4 +-
 core/invoker/build.gradle                          |  1 +
 .../main/scala/whisk/core/invoker/Invoker.scala    | 64 +++++++++++++---------
 5 files changed, 43 insertions(+), 31 deletions(-)

commit 3671ea9c0d4d394cc7e033dbbd5a6bae93dfbe55
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Tue Nov 7 10:28:42 2017 +0100

    Emit counter metrics for start and error cases. (#2930)

 common/scala/src/main/scala/whisk/common/TransactionId.scala | 5 +++++
 1 file changed, 5 insertions(+)

commit 7cf2f6ccee314609754ec60b37e5bbfcdcf22543
Author: Vincent <shou@us.ibm.com>
Date:   Mon Nov 6 15:44:18 2017 -0500

    Replace basic runtimes with REST implementation (#2920)
    
    Swift3, Swift311, Python, Node and Java are not cli related tests.
    We do not have to maintain them as cli test suites, so a straight
    replacement of wsk with wskrest will be sufficient for them.

 .../scala/system/basic/WskBasicJavaTests.scala     |  6 ++--
 .../scala/system/basic/WskBasicNodeTests.scala     |  6 ++--
 .../scala/system/basic/WskBasicPythonTests.scala   |  6 ++--
 .../scala/system/basic/WskBasicSwift3Tests.scala   | 10 +++----
 ...ft311Tests.scala => WskCliBasicJavaTests.scala} |  7 +++--
 .../scala/system/basic/WskCliBasicNodeTests.scala  | 28 ++++++++++++++++++
 .../system/basic/WskCliBasicPythonTests.scala      | 28 ++++++++++++++++++
 .../system/basic/WskCliBasicSwift311Tests.scala    | 29 ++++++++++++++++++
 .../system/basic/WskCliBasicSwift3Tests.scala      | 28 ++++++++++++++++++
 ...avaTests.scala => WskCliUnicodeJavaTests.scala} |  4 ++-
 ...odeTests.scala => WskCliUnicodeNodeTests.scala} |  4 ++-
 .../system/basic/WskCliUnicodePython2Tests.scala   | 34 ++++++++++++++++++++++
 .../system/basic/WskCliUnicodePython3Tests.scala   | 34 ++++++++++++++++++++++
 ...ests.scala => WskCliUnicodeSwift311Tests.scala} |  4 ++-
 ...3Tests.scala => WskCliUnicodeSwift3Tests.scala} |  4 ++-
 .../test/scala/system/basic/WskConsoleTests.scala  |  2 +-
 .../scala/system/basic/WskRestBasicJavaTests.scala | 28 ++++++++++++++++++
 .../scala/system/basic/WskRestBasicNodeTests.scala | 28 ++++++++++++++++++
 .../system/basic/WskRestBasicPythonTests.scala     | 28 ++++++++++++++++++
 .../system/basic/WskRestBasicSwift311Tests.scala   | 29 ++++++++++++++++++
 .../system/basic/WskRestBasicSwift3Tests.scala     | 28 ++++++++++++++++++
 .../system/basic/WskRestUnicodeJavaTests.scala     | 34 ++++++++++++++++++++++
 .../system/basic/WskRestUnicodeNodeTests.scala     | 34 ++++++++++++++++++++++
 ...ests.scala => WskRestUnicodePython2Tests.scala} |  4 ++-
 ...ests.scala => WskRestUnicodePython3Tests.scala} |  4 ++-
 .../system/basic/WskRestUnicodeSwift311Tests.scala | 34 ++++++++++++++++++++++
 .../system/basic/WskRestUnicodeSwift3Tests.scala   | 34 ++++++++++++++++++++++
 .../test/scala/system/basic/WskUnicodeTests.scala  |  6 ++--
 28 files changed, 498 insertions(+), 27 deletions(-)

commit 31c5f21e473b98fde4021083d3cef388ad206bf6
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Fri Nov 3 05:37:58 2017 -0700

    Add LogStore interface.  (#2695)
    
    Adds an interface to gather logs after the activation, define their way of storage and fetch them from that storage upon user request.
    
    Lifecycle wise, log-handling runs through two steps:
    1. Collecting logs after an activation has run to store them in the database.
    2. Fetching logs from the API to use them (as a user).
    
    This interface facilitates writing exchangeable pieces to both store logs in a different location and/or fetch them from some different system.

 common/scala/src/main/resources/reference.conf     |  1 +
 .../containerpool/logging/DockerLogStore.scala     | 52 +++++++++++++++
 .../core/containerpool/logging/LogStore.scala      | 76 ++++++++++++++++++++++
 .../scala/whisk/core/entity/ActivationLogs.scala   | 29 ++-------
 .../scala/whisk/core/controller/Activations.scala  |  9 ++-
 .../scala/whisk/core/controller/ApiUtils.scala     |  2 +-
 .../scala/whisk/core/controller/Controller.scala   |  3 +
 .../scala/whisk/core/controller/RestAPIs.scala     |  8 ++-
 .../whisk/core/containerpool/ContainerProxy.scala  |  8 ++-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  7 +-
 .../containerpool/test/ContainerProxyTests.scala   | 39 +++++++----
 .../controller/test/ControllerTestCommon.scala     |  3 +
 12 files changed, 191 insertions(+), 46 deletions(-)

commit 17936cae39890eb97b5e1d738c9b125498ac38a3
Author: Vincent <shou@us.ibm.com>
Date:   Wed Nov 1 15:25:47 2017 -0400

    Replace sequence with REST implementation (#2917)
    
    * Replace WskConsoleTests with REST implementation
    
    Partially-Closes: #2430
    
    * Replace sequence with REST implementation

 tests/src/test/scala/common/rest/WskRest.scala     | 24 ++++++++++------
 .../scala/system/basic/WskCliConsoleTests.scala    | 30 ++++++++++++++++++++
 .../scala/system/basic/WskCliSequenceTests.scala   | 32 ++++++++++++++++++++++
 .../test/scala/system/basic/WskConsoleTests.scala  | 19 +++++++++----
 .../scala/system/basic/WskRestConsoleTests.scala   | 30 ++++++++++++++++++++
 .../scala/system/basic/WskRestSequenceTests.scala  | 32 ++++++++++++++++++++++
 .../test/scala/system/basic/WskSequenceTests.scala |  7 ++---
 7 files changed, 156 insertions(+), 18 deletions(-)

commit 1bd8dd77db2345945cb436bddf564e60d43f6bde
Author: Vincent <shou@us.ibm.com>
Date:   Tue Oct 31 13:09:44 2017 -0400

    Update the test cases about rules with REST implementation (#2895)

 tests/src/test/scala/common/rest/WskRest.scala     | 19 +++++-----
 .../test/scala/system/basic/WskCliRuleTests.scala  | 28 ++++++++++++++
 .../test/scala/system/basic/WskRestRuleTests.scala | 44 ++++++++++++++++++++++
 .../src/test/scala/system/basic/WskRuleTests.scala | 20 ++++++----
 4 files changed, 95 insertions(+), 16 deletions(-)

commit 5cbff099165471fa8d06a5971810eb52673996c5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Oct 31 13:08:49 2017 -0400

    Fix tweak dockermachine (#2914)

 tools/macos/docker-machine/tweak-dockermachine.sh | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit 1a97cc0e218ed42ae15af1c534fb71b7aed49972
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Oct 31 12:48:03 2017 -0400

    Ensure Proper Order of CLI Build Tasks (#2479)
    
    * Ensure Proper Order of CLI Build Tasks
    
    * Remove OS Dump
    
    * Review updates

 tools/cli/build.gradle | 38 +++++++++++++-------------------------
 1 file changed, 13 insertions(+), 25 deletions(-)

commit cb1df0d73ee014b69a34636f66c58dff29262f39
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Oct 31 00:32:43 2017 -0400

    Bump go cli to 1.8.4 (#2906)
    
    - Fix for security issue https://github.com/golang/go/issues/22125

 tools/cli/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ea11ad42523a02130d565d46c44ed0fbb1f1aaee
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Oct 30 17:37:47 2017 +0100

    Use batcher in CouchDbRestStore. (#2835)

 .../scala/whisk/core/database/ArtifactStore.scala  | 11 ---
 .../core/database/ArtifactStoreExceptions.scala    |  2 +
 .../core/database/ArtifactStoreProvider.scala      |  8 +-
 .../whisk/core/database/CouchDbRestStore.scala     | 92 ++++++++++++++--------
 .../whisk/core/database/CouchDbStoreProvider.scala |  9 ++-
 .../whisk/core/database/DocumentFactory.scala      |  8 --
 .../src/main/scala/whisk/core/entity/DocInfo.scala | 30 ++++++-
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 11 +--
 .../scala/whisk/core/invoker/InvokerReactive.scala | 24 +++---
 .../core/cli/test/SequenceMigrationTests.scala     |  3 +-
 .../core/controller/test/ActivationsApiTests.scala | 10 +--
 .../whisk/core/entity/test/DatastoreTests.scala    |  2 +
 .../scala/whisk/core/entity/test/ViewTests.scala   |  3 +
 13 files changed, 127 insertions(+), 86 deletions(-)

commit e7c05c2c2d49c6592ccb976679434309dc6f4015
Author: Martin Henke <martin.henke@web.de>
Date:   Fri Oct 27 14:48:39 2017 +0200

    Emit metrics via kamon. (#2857)

 ansible/group_vars/all                             | 10 ++++
 ansible/roles/controller/tasks/deploy.yml          |  6 ++
 ansible/roles/invoker/tasks/deploy.yml             |  4 ++
 common/scala/build.gradle                          |  2 +
 common/scala/src/main/resources/application.conf   | 41 +++++++++++++
 .../src/main/scala/whisk/common/Logging.scala      | 21 ++++++-
 .../main/scala/whisk/common/TransactionId.scala    | 67 ++++++++++++++++++----
 .../main/scala/whisk/http/BasicHttpService.scala   | 11 +++-
 .../controller/src/main/resources/application.conf |  2 +-
 .../scala/whisk/core/controller/Controller.scala   | 14 +++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 14 +++++
 docs/metrics.md                                    | 47 +++++++++++++++
 12 files changed, 224 insertions(+), 15 deletions(-)

commit d02b21d2fc8429c0fb65a58e82b37939a301afb8
Author: ddragosd <ddragosd@gmail.com>
Date:   Thu Oct 26 16:05:54 2017 -0700

    make INVOKER_NAME optional (#2902)
    
    * make INVOKER_NAME optional
    * abort on empty invoker name when redis host is specified

 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 7befdb84e026bb7cd99896c6e8e1e3b9c59a31bd
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Oct 25 22:50:03 2017 -0400

    Use proper host for Wsk REST tests (#2898)
    
    * Use proper host for rest tests
    
    * Don't configure SSL for each request
    
    * Use getApiHostForAction instead of getEdgeHost
    
    * Suppress SSL warnings
    
    * Refactoring
    
    * Disable hostname verification

 tests/src/test/resources/application.conf      |  1 +
 tests/src/test/scala/common/rest/WskRest.scala | 40 ++++++++++++++++++++++----
 2 files changed, 35 insertions(+), 6 deletions(-)

commit 7d6adea47272f77750e8debfa61b8acc8adec86d
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Oct 25 21:42:40 2017 -0400

    fix ansible install errors in vagrant (#2903)

 tools/ubuntu-setup/ansible.sh | 1 +
 tools/ubuntu-setup/scala.sh   | 4 ++--
 tools/vagrant/Vagrantfile     | 5 +----
 3 files changed, 4 insertions(+), 6 deletions(-)

commit 880bdcb2172ab720b4f16730ac4f807d38b873eb
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Oct 25 19:35:53 2017 -0400

    update nodejs runtime to pickup openwhisk client-js 3.9.0 (#2900)

 core/nodejs6Action/Dockerfile | 2 +-
 docs/reference.md             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e6661864f2857b1a86f3aea970d27bc7f51c7d47
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed Oct 25 18:01:21 2017 +0200

    Remove broken containers if docker run fails (#2870)
    
    * Remove broken containers if docker run fails
    
    If `docker run` fails with exit code 125 and prints a valid container ID to stdout, a broken Docker container was left behind. This PR detects the described situation and immediately removes the broken container to save disk space. In addition, the Docker daemon seems to slow down with the number of containers, so cleaning up broken containers can also have a positive performance impact.
    
    The main root cause for broken containers is a failure when extracting the container's file system - for example, due to missing disk space or exhausted inodes. This PR does fully resolve low disk space or exhausted inodes but it can help relax such situations. For example, if a container with a very large file system cannot be created, cleaning it up may enable the creation of a smaller container.
    
    * Address review feedback
    
    * Address review feedback

 .../core/containerpool/docker/DockerClient.scala   | 37 ++++++++++++-
 .../containerpool/docker/DockerContainer.scala     |  9 +++-
 .../docker/test/DockerClientTests.scala            | 62 +++++++++++++++++++++-
 .../docker/test/DockerContainerTests.scala         | 25 ++++++++-
 4 files changed, 127 insertions(+), 6 deletions(-)

commit 8f4e6b60ecf07d2bbf2c43a904a916c9ce2c7e84
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Oct 24 17:39:23 2017 -0400

    Add documentation for save action feature (#2873)
    
    * Add documentation for save action feature
    
    * Review updates

 docs/actions.md | 24 +++++++++++++++++++++++-
 1 file changed, 23 insertions(+), 1 deletion(-)

commit 0b2644ef56047dd6bbd999e544d35284cbd90e25
Author: Vincent <shou@us.ibm.com>
Date:   Tue Oct 24 14:38:59 2017 -0400

    Replace the test cases of action and package with REST implementation (#2621)
    
    Partially-closes: #2430

 tests/build.gradle                                 | 11 +++++++++
 tests/src/test/scala/common/WskTestHelpers.scala   |  8 +++++--
 .../test/scala/system/basic/WskActionTests.scala   | 22 ++++++-----------
 .../test/scala/system/basic/WskBasicTests.scala    |  5 ++--
 .../scala/system/basic/WskCliActionTests.scala     | 28 ++++++++++++++++++++++
 .../scala/system/basic/WskCliPackageTests.scala    | 28 ++++++++++++++++++++++
 .../test/scala/system/basic/WskPackageTests.scala  |  9 ++++---
 .../scala/system/basic/WskRestActionTests.scala    | 28 ++++++++++++++++++++++
 .../scala/system/basic/WskRestPackageTests.scala   | 27 +++++++++++++++++++++
 9 files changed, 142 insertions(+), 24 deletions(-)

commit fe873c3383305f4ff91e7b09aef85101f3dc8e51
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Mon Oct 23 10:50:22 2017 +0200

    Fix invoker build break. (#2885)

 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 0da626c78a52ab0b5def2c81f2ef99954f06b554
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Mon Oct 23 08:50:29 2017 +0200

    Make Docker action container cleanup during invoker startup / shutdown more robust (#2858)
    
    Remove all Docker containers on the system that match the naming filter `wsk<invoker instance number>_` at startup and shutdown. In the past, only running containers matching the filter were removed - paused containers are considered to be running. The new strategy will also remove containers that are stopped or could never be started properly for any reason. From time to time, we see action containers that are not running but should be cleaned up.
    
    If Docker commands used to remove containers (`docker ps`, `docker-runc resume` and `docker rm`) do not return within 30 seconds during startup, abort startup and let Docker re-start the invoker container. We have seen systems with heavy load where Docker commands take too long to complete. In that situation, we need a defined behavior, i.e. re-start and re-try the cleanup. At the moment, an uncaught exception will end the main thread leaving the invoker inoperational.
    
    Also changed the invoker initialization sequence such that Docker action container cleanup is performed as soon as possible - in particular, before starting other tasks / actors. At the moment, a cleanup timeout would end the main thread while the activation message feed is already running and consuming messsages that will never be processed.

 .../docker/DockerContainerFactory.scala            | 64 +++++++++++++++-------
 .../main/scala/whisk/core/invoker/Invoker.scala    | 18 +++---
 .../scala/whisk/core/invoker/InvokerReactive.scala | 40 ++++++++------
 3 files changed, 79 insertions(+), 43 deletions(-)

commit ea57f5cd45d0ba59488d6727f6ea37b7f170af55
Author: rodric rabbah <rodric@gmail.com>
Date:   Sun Oct 22 13:13:26 2017 -0400

    Add action kind to activation record. (#2814)
    
    This matches the activation annotations for sequences which have a kind sequence appended.

 .../src/main/scala/whisk/core/containerpool/ContainerProxy.scala     | 4 +++-
 .../scala/whisk/core/containerpool/test/ContainerProxyTests.scala    | 5 ++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 10ad912f83c989ee364be635bfcfca8389221501
Author: Alexander Klimetschek <alexander@klimetschek.de>
Date:   Sat Oct 21 08:06:32 2017 -0700

    fix genssl.sh usage output, 1 arg is minimum, document 2nd optional arg (#2851)

 ansible/roles/nginx/files/genssl.sh | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 162802d6d79ead9940a2ecc9e1bf7296202efd0a
Author: Minto van der Sluis <minto@xup.nl>
Date:   Wed Oct 18 17:03:48 2017 -0400

    Added support for configurable java action method name.

 core/javaAction/Dockerfile | 2 +-
 docs/actions.md            | 4 ++++
 2 files changed, 5 insertions(+), 1 deletion(-)

commit 0b532581a0be9abbfc02f06c5a5142132e2d4138
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Oct 20 20:24:01 2017 -0400

    Update nodejs to 6.11.4 (#2879)

 core/nodejs6Action/Dockerfile | 2 +-
 docs/reference.md             | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 45e392e13fc7cd659e2a29b20ab070288412e200
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Fri Oct 20 13:56:18 2017 -0400

    Invokers only require Redis if using dynamic Id assignment (#2871)
    
    Make REDIS_HOST_NAME and REDIS_HOST_PORT optional for the invoker
    and only trap as a configuration error when the invoker actually
    tries to perform dynamicId assignment.

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala     | 1 -
 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala | 8 +++++++-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 1c5c78b7841e140cf1deaa420d97853e8b97d913
Author: Vincent <shou@us.ibm.com>
Date:   Fri Oct 20 12:57:29 2017 -0400

    Add the fundamental framework of REST invocation for test cases (#2589)
    
    * Add the fundamental framework of REST invocation for test cases to replace wsk binary
    
    Almost all the test cases in OpenWhisk are currently running based
    on the wsk CLI binary. In order to separate the CLI out of OpenWhisk
    core repository, we need to call REST API of OpenWhisk to access
    OpenWhisk services instead of calling the wsk CLI binary command.
    
    This PR adds the basic REST implementation for all the test cases
    to use. One basic principle is to keep the changes to the existing
    test cases as few as possible, so we add WskRest.scala as an equivalent
    class to Wsk.scala and WskRestTestHelpers.scala as an equivalent file
    to WskTestHelpers.scala for REST.
    
    All the replacement of binary with REST will happen in an increamental fashion.
    This PR only changes one existing test case in WskActionTests.scala, and
    reimplements it in WskRestActionTests.scala. All the other test cases can follow
    the same way to change the test cases one by one. New changes may be necessary
    to the basic REST implementation as well in future to accommodate the test cases.
    
    * Fixed the concerns regarding the comments
    
    * Fixed comments about null and option match
    
    * Get rid of null for rest result
    
    * Consolidate the option map by getOrElse
    
    * Refactor the function getNamespaceEntityName

 tests/src/test/scala/common/TestUtils.java     |    2 +-
 tests/src/test/scala/common/Wsk.scala          |   16 +-
 tests/src/test/scala/common/rest/WskRest.scala | 1422 ++++++++++++++++++++++++
 3 files changed, 1431 insertions(+), 9 deletions(-)

commit 48286925e6a26eae696dc5d69fa39ae99847794a
Author: Gabriel Nicolas Avellaneda <avellaneda.gabriel@gmail.com>
Date:   Fri Oct 20 01:54:19 2017 -0200

    Fix issue with trailing spaces and handle comments in the property file. (#2772)
    
    * Fix issue with trailing spaces and handle comments in the property file.
    
    * Cleanup to follow coding style
    
    * Added Scala test for verifying that wskprops can correctly handle trailing white spaces and comments
    
    * Added spaces after the comment

 .../test/scala/whisk/core/cli/test/WskConfigTests.scala    | 14 ++++++++++++++
 tools/cli/go-whisk-cli/commands/util.go                    |  4 ++++
 2 files changed, 18 insertions(+)

commit 8dd6250fa98aa2d85635a506e207bdffdab2c4f0
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Oct 19 10:44:06 2017 +0200

    Add batching time to BatcherTests. (#2861)
    
    In an environment with no parallelism some assertion do not hold water which makes this test non-deterministic. Adding a bit of a delay between batching calls allows the batch to build up.

 .../whisk/core/database/test/BatcherTests.scala    | 26 +++++++++++++++-------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit 4a197c90577df45d943facbc4ee9564ab9a7d1ab
Author: Gabriel Nicolas Avellaneda <avellaneda.gabriel@gmail.com>
Date:   Wed Oct 18 18:43:39 2017 -0200

    Vagrant README.md updates (#2789)

 tools/vagrant/README.md | 37 ++++++++++++++++++++-----------------
 1 file changed, 20 insertions(+), 17 deletions(-)

commit 81668e1f8b0a97c5f595c6aed36ead168b5c41de
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Oct 18 13:54:01 2017 -0400

    Allow CLI to Save Code from Action (#2544)
    
    * Allow CLI to Save Code from Action
    
    * Formatting changes
    
    * Test refactor
    
    * Update test
    
    * Refactor
    
    * Review updates
    
    * Review updates

 tests/src/test/scala/common/BaseWsk.scala          |   4 +-
 tests/src/test/scala/common/Wsk.scala              |  13 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  81 ++++++++-
 tools/cli/go-whisk-cli/commands/action.go          | 187 +++++++++++++++++----
 tools/cli/go-whisk-cli/commands/flags.go           |  15 +-
 tools/cli/go-whisk-cli/commands/util.go            | 135 ++++++++++++---
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  47 +++++-
 tools/cli/go-whisk/whisk/action.go                 |   1 +
 8 files changed, 410 insertions(+), 73 deletions(-)

commit 05136fbecbeb9ce83a3dc1534203a627b9d386cf
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Oct 18 14:31:14 2017 +0200

    Make redis optional on deployment of the invoker. (#2868)

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 ansible/templates/whisk.properties.j2  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 733f3e9d3e4885ff1b1b5b380483e12ea4b9f01e
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 22:00:32 2017 -0400

    only build invoker and controller (#2866)

 tools/jenkins/apache/dockerhub.groovy | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit faeee1009cdb317fe0e6fcaf5100f1c940ff360d
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 17:56:37 2017 -0400

    Move docker runtime into its own repo  (#2850)

 ansible/edge.yml                                   |   1 -
 ansible/roles/nginx/templates/nginx.conf.j2        |   6 +-
 ansible/roles/sdk/tasks/clean.yml                  |   8 -
 ansible/roles/sdk/tasks/deploy.yml                 |  39 ---
 ansible/roles/sdk/tasks/main.yml                   |  10 -
 core/actionProxy/Dockerfile                        |  23 +-
 core/actionProxy/actionproxy.py                    | 271 ---------------------
 core/actionProxy/delete-build-run.sh               |  23 --
 core/actionProxy/stub.sh                           |   9 -
 sdk/docker/Dockerfile                              |  16 +-
 sdk/docker/README.md                               |  34 ---
 sdk/docker/build.gradle                            |   2 -
 sdk/docker/buildAndPush.sh                         |  24 --
 sdk/docker/example.c                               |  17 --
 .../src/test/scala/system/basic/WskSdkTests.scala  |   9 -
 tools/cli/go-whisk-cli/commands/sdk.go             |   2 +-
 16 files changed, 8 insertions(+), 486 deletions(-)

commit 1110c34ef496115aa0f4252bd38ace3ed881a811
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Oct 17 16:30:10 2017 +0200

    Implement bulk write of activations in the Invoker. (#2812)
    
    Writing activations in the Invoker is not time critical and can be greatly optimized by batching the activations to reduce the number of connections used towards the database. That enables a lot of optimizations on the database side and is in general a good practice.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 .../src/main/scala/whisk/common/Logging.scala      |   1 +
 .../scala/whisk/core/database/ArtifactStore.scala  |  11 ++
 .../main/scala/whisk/core/database/Batcher.scala   |  84 +++++++++++++++
 .../whisk/core/database/CouchDbRestClient.scala    |   4 +
 .../whisk/core/database/CouchDbRestStore.scala     |  37 ++++++-
 .../whisk/core/database/DocumentFactory.scala      |   8 ++
 .../src/main/scala/whisk/core/entity/DocInfo.scala |   5 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  23 ++--
 tests/src/test/scala/common/LoggedFunction.scala   |  10 ++
 .../whisk/core/database/test/BatcherTests.scala    | 118 +++++++++++++++++++++
 .../database/test/CouchDbRestClientTests.scala     |  45 +++++++-
 11 files changed, 334 insertions(+), 12 deletions(-)

commit fa8b462e828947f56d05c700bcb33bd66711162f
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Oct 17 10:24:20 2017 -0400

    Basic support for dynamic invoker id assignment. (#2689)
    
    Invoker ids can optionally be dynamically generated by OpenWhisk using
    a deployment-specified invoker name to ensure id stability across
    invoker instance restarts. The invoker name may be any unique String
    (for example the ip addr of the invoker's host or the nodeName of the
    kube workerNode) and _must_ be specified by the deployment by setting
    the INVOKER_NAME environment variable for each invoker.
    Deployments may bypass the dynamic id assignment algorithm
    by optionally providing a static invoker id as a command line argument
    to the invoker. If a static id is provided, it will be used
    unconditionally.
    
    The state for the invoker id assignment algorithm is externalized in a
    persistent store. During startup, if a static invoker id was not
    provided, the invoker interacts with the store to lookup the id
    assigned to its name (causing an id to be assigned if there was no
    previous assignment).
    
    For the purposes of this PR, we use the Redis instance started for the
    apigateway as the persistent store since the Redis API is a good match
    for the needed operations. This function could be moved to zookeeper
    in a later PR if it is desirable to minimize the assumptions about
    available persistent stores.

 ansible/roles/invoker/tasks/deploy.yml             |  3 ++
 ansible/templates/whisk.properties.j2              |  2 +
 common/scala/build.gradle                          |  1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  7 ++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 44 ++++++++++++++++++++--
 5 files changed, 53 insertions(+), 4 deletions(-)

commit 445f414489434ff68abba7388069ecd28e0410c2
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 10:02:10 2017 -0400

    Move python runtime into its own repo (#2843)

 core/python2Action/Dockerfile     |  40 +--------------
 core/python2Action/build.gradle   |  17 -------
 core/pythonAction/Dockerfile      |  33 +------------
 core/pythonAction/build.gradle    |   1 -
 core/pythonAction/pythonrunner.py | 100 --------------------------------------
 5 files changed, 2 insertions(+), 189 deletions(-)

commit 1138aff8fbfa959928856d1bc6503b515082bd6a
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 10:00:55 2017 -0400

    Move php runtime into its own repo (#2823)

 core/php7.1Action/Dockerfile    |  51 +-----
 core/php7.1Action/composer.json |  11 --
 core/php7.1Action/router.php    | 342 ----------------------------------------
 core/php7.1Action/runner.php    |  69 --------
 4 files changed, 1 insertion(+), 472 deletions(-)

commit eb191eca8719f5810aca3f68df5d4985eba401a5
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 10:00:02 2017 -0400

    Move swift runtime into its own repo (#2822)

 core/swift3.1.1Action/Dockerfile                  |  31 +--
 core/swift3.1.1Action/build.gradle                |  38 ---
 core/swift3.1.1Action/buildandrecord.py           |  77 ------
 core/swift3.1.1Action/spm-build/Package.swift     |  27 ---
 core/swift3Action/Dockerfile                      |  10 +-
 core/swift3Action/build.gradle                    |  10 -
 core/swift3Action/buildandrecord.py               |  76 ------
 core/swift3Action/epilogue.swift                  |  78 ------
 core/swift3Action/spm-build/Package.swift         |  28 ---
 core/swift3Action/spm-build/_Whisk.swift          | 275 ----------------------
 core/swift3Action/spm-build/_WhiskJSONUtils.swift | 169 -------------
 core/swift3Action/swift3runner.py                 | 114 ---------
 12 files changed, 2 insertions(+), 931 deletions(-)

commit f0ded0010406e39889324dc3ab80db5d17847dad
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 09:58:51 2017 -0400

    Move java runtime into its own repo (#2821)

 core/javaAction/Dockerfile                         |  39 +----
 core/javaAction/proxy/build.gradle                 |  32 ----
 .../proxy/gradle/wrapper/gradle-wrapper.jar        | Bin 53636 -> 0 bytes
 .../proxy/gradle/wrapper/gradle-wrapper.properties |   6 -
 core/javaAction/proxy/gradlew                      | 160 -------------------
 .../main/java/openwhisk/java/action/JarLoader.java |  90 -----------
 .../src/main/java/openwhisk/java/action/Proxy.java | 169 ---------------------
 .../java/action/WhiskSecurityManager.java          |  44 ------
 8 files changed, 1 insertion(+), 539 deletions(-)

commit 1810897af44ea0439f40a56f9530600874a4220e
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Oct 17 09:54:00 2017 -0400

    Move nodejs runtime into it's own repo (#2834)

 core/nodejs6Action/Dockerfile        |  79 +---------------
 core/nodejs6Action/build.gradle      |   1 -
 core/nodejsActionBase/.dockerignore  |   2 -
 core/nodejsActionBase/Dockerfile     |   8 --
 core/nodejsActionBase/app.js         |  81 ----------------
 core/nodejsActionBase/build.gradle   |  10 --
 core/nodejsActionBase/package.json   |  11 ---
 core/nodejsActionBase/runner.js      | 168 ---------------------------------
 core/nodejsActionBase/src/logger.js  |  60 ------------
 core/nodejsActionBase/src/service.js | 175 -----------------------------------
 core/nodejsActionBase/test.js        | 127 -------------------------
 settings.gradle                      |   1 -
 12 files changed, 1 insertion(+), 722 deletions(-)

commit febde00425f0624b132f48bcd90df3f0f21c8f36
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Oct 17 04:43:09 2017 -0400

    Add option to use docker/runc respectively. (#2828)
    
    Restore config option to use docker pause/unpause instead of docker-runc pause/unpause in the invoker.
    Works around the problem of incompatible versions of docker-runc in invoker container and hosting environment.

 ansible/group_vars/all                             |  2 ++
 ansible/roles/invoker/tasks/deploy.yml             |  1 +
 ansible/templates/whisk.properties.j2              |  1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 ++
 .../containerpool/docker/DockerContainer.scala     | 23 +++++++++++++---------
 .../docker/DockerContainerFactory.scala            |  8 ++++++--
 .../main/scala/whisk/core/invoker/Invoker.scala    |  3 ++-
 docs/deploy.md                                     | 16 +++++++++++++--
 .../docker/test/DockerContainerTests.scala         | 22 +++++++++++++++++----
 9 files changed, 60 insertions(+), 18 deletions(-)

commit b4aa01e2dec80f21b097cdbaa0a6b824f7ac8eed
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Oct 16 11:58:39 2017 +0200

    Add check to controller and invoker that required databases exist. (#2838)

 ansible/roles/controller/tasks/deploy.yml |  9 +++++++++
 ansible/roles/invoker/tasks/deploy.yml    |  8 ++++++++
 ansible/tasks/db/checkDb.yml              | 12 ++++++++++++
 3 files changed, 29 insertions(+)

commit eff849871e4e66ff35138d1623b5d22fb6435ba3
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Mon Oct 16 11:20:38 2017 +0200

    Improve garbage collector out-out-memory handling and debugging (#2854)
    
    The new options ensure that the JVM crashes if the garbage collector is no more able to free up space. The resulting error log is written into the `/logs` directory which is visible on the system hosting the invoker Docker container. The name of the error log file is fixed such that only one single file is kept even if multiple crashes occur.
    
    Consolidated all options in `deploy.yml` because `-XX:ErrorFile` refers to the `/logs` directory mounted into the container. If this directory is changed, `-XX:ErrorFile` must be updated as well.
    
    `-XX:+UseGCOverheadLimit`
    Enables the use of a policy that limits the proportion of time spent by the JVM on GC before an OutOfMemoryError exception is thrown. This option is enabled, by default and the parallel GC will throw an OutOfMemoryError if more than 98% of the total time is spent on garbage collection and less than 2% of the heap is recovered. When the heap is small, this feature can be used to prevent applications from running for long periods of time with little or no progress. To disable this option, specify -XX:-UseGCOverheadLimit.
    
    `-XX:+CrashOnOutOfMemoryError`
    If this option is enabled, when an out-of-memory error occurs, the JVM crashes and produces text and binary crash files (if core files are enabled).
    
    `-XX:ErrorFile=filename`
    Specifies the path and file name to which error data is written when an irrecoverable error occurs. By default, this file is created in the current working directory and named hs_err_pidpid.log where pid is the identifier of the process that caused the error. The following example shows how to set the default log file (note that the identifier of the process is specified as %p):
    
    -XX:ErrorFile=./hs_err_pid%p.log
    The following example shows how to set the error log to /var/log/java/java_error.log:
    
    -XX:ErrorFile=/var/log/java/java_error.log
    If the file cannot be created in the specified directory (due to insufficient space, permission problem, or another issue), then the file is created in the temporary directory for the operating system. The temporary directory is /tmp.

 ansible/roles/controller/tasks/deploy.yml | 2 +-
 ansible/roles/invoker/tasks/deploy.yml    | 2 +-
 core/controller/build.gradle              | 2 +-
 core/invoker/build.gradle                 | 1 -
 4 files changed, 3 insertions(+), 4 deletions(-)

commit 029525471ec915bb5aaf5b030f61974ac617eaf2
Author: Martin Henke <martin.henke@web.de>
Date:   Thu Oct 12 09:29:01 2017 +0200

    Change logging backend from log4j to Logback (#2818)

 common/scala/build.gradle                        | 14 +++++----
 common/scala/src/main/resources/log4j.properties | 37 ------------------------
 common/scala/src/main/resources/logback.xml      | 18 ++++++++++++
 common/scala/src/main/resources/logging.conf     |  3 +-
 4 files changed, 29 insertions(+), 43 deletions(-)

commit 32a3ef281b8bd34b136f55e2e89dd0a3c49849f9
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Oct 10 10:49:32 2017 -0400

    Properly handle API GW errors during GET requests (#2845)

 core/routemgmt/common/apigw-utils.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 920af39a973091689ae6499c1875408e0e2ce2f4
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Oct 6 04:13:23 2017 +0200

    Make console tests more robust (#2831)
    
    Use activation start times as time base when polling for activations since a point in time -
    before, local system time was used. If there is a clock mismatch between the local system
    and the system which records activations (controller, invokers), poll results can be empty.
    
    Other queries use relative times, i.e. return activations since the specified number
    of seconds. For these relative times, a start and end time is taken based on the local
    system time and the time difference in seconds is computed. It is important to use start
    and end time from the same time source.
    
    In addition, use some time contingency to make tests more robust.
    Provide more debug output in case an assertion fails.

 .../test/scala/system/basic/WskConsoleTests.scala  | 56 +++++++++++++++-------
 1 file changed, 40 insertions(+), 16 deletions(-)

commit 1e27a81195c646239ab025c90d08684b2f7c7d74
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Oct 4 20:00:23 2017 +0200

    Notify the user if a container is killed due to memory exhaustion. (#2827)
    
    
    If a user-container runs out of memory, the HTTP connections is abruptly aborted and the user has no chance to get further evidence into why her action failed.
    
    Docker actually provides that information so it can be checked on an abrupt connection termination whether the container was indeed aborted by the OOM killer.

 .../scala/whisk/core/containerpool/Container.scala |  8 +--
 .../scala/whisk/core/containerpool/HttpUtils.scala |  6 +-
 .../scala/whisk/core/entity/ActivationResult.scala | 17 ++++--
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  1 +
 .../core/containerpool/docker/DockerClient.scala   | 14 +++++
 .../docker/DockerClientWithFileAccess.scala        |  5 ++
 .../containerpool/docker/DockerContainer.scala     | 66 +++++++++++++++++++---
 .../test/DockerClientWithFileAccessTests.scala     | 34 +++++++++++
 .../docker/test/DockerContainerTests.scala         | 15 +++--
 .../whisk/core/limits/ActionLimitsTests.scala      | 22 ++++++--
 10 files changed, 156 insertions(+), 32 deletions(-)

commit 8bb248a65d92f3da5dd975ca9cf945a148bf7eed
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Oct 4 02:55:24 2017 -0400

    Remove synthetic header. (#2766)

 .../src/main/scala/whisk/core/controller/WebActions.scala         | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 30aa7115275f9a9ae5b50fe20809ad98cab36a31
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Oct 3 21:17:33 2017 -0400

    Delete test assets. (#2826)

 .../src/test/scala/ha/CacheInvalidationTests.scala | 32 ++++++++++++--------
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 16 +++++-----
 .../controller/test/PackageActionsApiTests.scala   |  5 ++--
 .../core/controller/test/SequenceApiTests.scala    | 35 ++++++++++++++--------
 .../SequenceActionApiMigrationTests.scala          |  2 ++
 .../scala/whisk/core/database/test/DbUtils.scala   |  8 +++++
 6 files changed, 64 insertions(+), 34 deletions(-)

commit d131ca74a9f1e0003b6e1df45875e92a40118cc9
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Oct 2 21:36:03 2017 -0400

    add workaround for inserting space on autocomplete on Mac (#2768)

 docs/cli.md | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 3f9e2ff4864b0b045be98f9d6ec4d58173ce06dd
Author: suryajak <suryaj@gmail.com>
Date:   Sat Sep 30 17:49:21 2017 -0700

    Fix links for couchdb and cloudant (#2820)

 tools/db/README.md | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 363d5714daf4cc87b5be220013d9edab65ffcfbc
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Fri Sep 29 14:47:47 2017 +0200

    Share bookkeeping data across controllers (#2531)
    
    * Use akka distributed map to store the shared state
    
    * Join seed nodes in the load balancer service
    
    * Add optional auto-down-unreachable-after
    
    * Local bookkeeping is used by default
    
    * Update documentation

 ansible/group_vars/all                             |   9 +
 ansible/roles/controller/tasks/deploy.yml          |  15 +-
 common/scala/build.gradle                          |   5 +-
 .../scala/src/main/scala/whisk/common/Config.scala |  10 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  10 +-
 core/controller/build.gradle                       |   1 +
 .../controller/src/main/resources/application.conf |  27 ++
 .../scala/whisk/core/controller/Controller.scala   |   4 +-
 .../core/entitlement/ActivationThrottler.scala     |  31 ++-
 .../scala/whisk/core/entitlement/Entitlement.scala |  31 ++-
 .../loadBalancer/DistributedLoadBalancerData.scala |  90 +++++++
 .../whisk/core/loadBalancer/LoadBalancerData.scala |  65 +----
 .../core/loadBalancer/LoadBalancerService.scala    |  52 ++--
 .../core/loadBalancer/LocalLoadBalancerData.scala  |  76 ++++++
 .../core/loadBalancer/SeedNodesProvider.scala      |  41 +++
 .../core/loadBalancer/SharedDataService.scala      |  98 +++++++
 docs/README.md                                     |   1 +
 docs/deploy.md                                     |  16 ++
 tests/build.gradle                                 |   1 +
 .../controller/test/ControllerTestCommon.scala     |   9 +-
 .../loadBalancer/test/LoadBalancerDataTests.scala  | 292 ++++++++++++++-------
 .../loadBalancer/test/SeedNodesProviderTest.scala  |  58 ++++
 .../loadBalancer/test/SharedDataServiceTests.scala |  91 +++++++
 23 files changed, 825 insertions(+), 208 deletions(-)

commit 5f4568cdc0d130813544299885448211784f8200
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Sep 28 13:09:16 2017 +0200

    Fix build break of Swift 3 action container image (#2811)
    
    Work around missing github repo by basing the Swift 3 action container image
    on a known-to-work image available on public DockerHub: https://hub.docker.com/r/openwhisk/swift3action/.
    With this approach, the actual Docker build of the image won't be kicked off
    any more but an existing image will be pulled and used.
    
    Since 2017-09-28 morning CEST, github repo https://github.com/IBM-Swift/swift-watson-sdk.git
    is no more available causing a build break. The Swift 3.1.1 action container image
    already addresses this problem by no more using the deprecated prereq.
    
    The Swift 3 action container image must either be fixed or removed.

 core/swift3Action/Dockerfile | 69 ++++----------------------------------------
 1 file changed, 5 insertions(+), 64 deletions(-)

commit 5ef17f1e2744ad0c9a35d97a7323bbf76f5032f0
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Sep 28 02:07:41 2017 -0400

    Exclude sequences from activation log cleanup. (#2801)

 ansible/files/activations_design_document_for_activations_db.json | 2 +-
 ansible/files/logCleanup_design_document_for_activations_db.json  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 03023a10b7c9717652330feb0aa73ad1cd38e1bf
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Sep 28 04:48:32 2017 +0200

    Use non-blocking computation of cache values. (#2797)
    
    Currently, each time we try to get a value out of our cache `putIfAbsent` is called, which causes thread-contention. Instead, this uses `computeIfAbsent` which does a `get` first and thus is non-blocking for getting cached values under load.

 .../MultipleReadersSingleWriterCache.scala         | 31 +++++++++-------------
 1 file changed, 13 insertions(+), 18 deletions(-)

commit 8e7c8e5bc7f2cd672c2314d13e56ef8f94cb96f6
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Sep 27 21:49:29 2017 +0200

    Treat a timed out active ack as failed activation in invokerhealth protocol (#2658)

 .../core/loadBalancer/InvokerSupervision.scala     |  6 ++--
 .../core/loadBalancer/LoadBalancerService.scala    | 33 ++++++++++++++++------
 2 files changed, 29 insertions(+), 10 deletions(-)

commit e85975f45f48d3c77411b4e6695fd49002e639f1
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Sep 25 20:51:46 2017 -0400

    revert change to enable collection of log files in local target environments (#2805)

 ansible/logs.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit be43ad90e0dce26c7fa76573605324be22817b30
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Mon Sep 25 09:50:04 2017 -0700

    ContainerFactory SPI (#2659)

 common/scala/src/main/resources/reference.conf     |   1 +
 .../scala/whisk/core/containerpool/Container.scala | 199 +++++++++++++++++++++
 .../core/containerpool/ContainerFactory.scala      |  59 ++++++
 .../whisk/core/containerpool}/HttpUtils.scala      |   4 +-
 .../scala/whisk/core/containerpool/Container.scala |  83 ---------
 .../whisk/core/containerpool/ContainerProxy.scala  |   2 +-
 .../core/containerpool/docker/DockerClient.scala   |  17 +-
 .../docker/DockerClientWithFileAccess.scala        |  10 +-
 .../containerpool/docker/DockerContainer.scala     | 163 +++--------------
 .../docker/DockerContainerFactory.scala            | 101 +++++++++++
 .../core/containerpool/docker/RuncClient.scala     |   1 +
 .../scala/whisk/core/invoker/InvokerReactive.scala |  72 ++------
 .../scala/actionContainers/ActionContainer.scala   |   2 +-
 .../docker/test/ContainerConnectionTests.scala     |   4 +-
 .../docker/test/DockerClientTests.scala            |   8 +-
 .../test/DockerClientWithFileAccessTests.scala     |  14 +-
 .../docker/test/DockerContainerTests.scala         |  52 ++++--
 .../docker/test/RuncClientTests.scala              |   2 +-
 .../containerpool/test/ContainerProxyTests.scala   |  22 ++-
 19 files changed, 481 insertions(+), 335 deletions(-)

commit bf4a41148c5c1073b398fd64c7df0dbbbee7f263
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Sep 25 10:42:05 2017 -0400

    Add test cases to ensure raw encoding of entity does not modify JSON format. (#2798)

 .../core/controller/test/WebActionsApiTests.scala  | 45 ++++++++++++----------
 1 file changed, 24 insertions(+), 21 deletions(-)

commit 26146368f1dd07f817062e662db64c73a8d486d6
Author: Jesus Alva <jalva@us.ibm.com>
Date:   Fri Sep 22 12:43:43 2017 -0500

    Added changes for classes and variables casing to be get exported and can be used in other places (#2675)
    
    * Updating classes and variables so that they are exported and usable by other modules
    
    * Updating missed debug statements to have case of client -> Client

 tools/cli/go-whisk-cli/commands/action.go         |  64 ++++-----
 tools/cli/go-whisk-cli/commands/activation.go     |  54 ++++----
 tools/cli/go-whisk-cli/commands/api.go            |  54 ++++----
 tools/cli/go-whisk-cli/commands/commands.go       |   6 +-
 tools/cli/go-whisk-cli/commands/namespace.go      |  18 +--
 tools/cli/go-whisk-cli/commands/package.go        |  84 +++++------
 tools/cli/go-whisk-cli/commands/property.go       |  51 ++++---
 tools/cli/go-whisk-cli/commands/qualified_name.go |   8 +-
 tools/cli/go-whisk-cli/commands/rule.go           |  86 ++++++------
 tools/cli/go-whisk-cli/commands/sdk.go            |   6 +-
 tools/cli/go-whisk-cli/commands/trigger.go        |  72 +++++-----
 tools/cli/go-whisk-cli/commands/util.go           |   4 +-
 tools/cli/go-whisk-cli/commands/wsk.go            |   2 +-
 tools/cli/go-whisk/whisk/client.go                | 161 ++++++++++++++--------
 14 files changed, 360 insertions(+), 310 deletions(-)

commit 77ea5b250c4eb55c1063995be5cb9e90e51becd0
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Sep 22 14:03:16 2017 +0200

    Compute UUIDs in a non-blocking fashion. (#2785)
    
    Java's UUID.randomUUID() is known the be synchronized and blocking which causes thread-contention and thus performance problems.
    
    SecureRandom.nextBytes is the synchronized piece, so using a ThreadLocal instance resolves thread contention there. Switching Java's randomness source to the non-blocking /dev/urandom resolves blocking of the computation itself.

 common/scala/build.gradle                          |  1 +
 .../connector/kafka/KafkaProducerConnector.scala   |  6 ++----
 .../scala/whisk/core/entity/ActivationId.scala     |  4 ++--
 .../src/main/scala/whisk/core/entity/UUID.scala    | 23 ++++++++++++++++++++--
 core/controller/build.gradle                       |  2 +-
 5 files changed, 27 insertions(+), 9 deletions(-)

commit 354d9eaecddd965c6bc6748cd9f4832d2de18241
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Sep 22 06:27:58 2017 -0500

    Increase test coverage for JSON values as web action body arguments (#2778)

 .../core/controller/test/WebActionsApiTests.scala  | 24 ++++++++++++++++++++++
 1 file changed, 24 insertions(+)

commit 69c53aaa648d8a19aa9f0fc9b02a0429343ca4f1
Author: Jesus Alva <jalva@us.ibm.com>
Date:   Thu Sep 21 11:01:33 2017 -0500

    Updating the way we print names in the Cli Fixes #1155 (#2462)
    
    * Changes so that we are more consistent with quoting names that are not bolded when we print statements
    
    * Fixing up tests related to making quoting consistent in our CLI

 .../src/test/scala/system/basic/WskSdkTests.scala  |  2 +-
 tools/cli/go-whisk-cli/commands/action.go          |  2 +-
 tools/cli/go-whisk-cli/commands/activation.go      |  4 +--
 tools/cli/go-whisk-cli/commands/api.go             | 29 ++++++++--------
 tools/cli/go-whisk-cli/commands/package.go         |  2 +-
 tools/cli/go-whisk-cli/commands/sdk.go             | 14 ++++----
 tools/cli/go-whisk-cli/commands/util.go            |  2 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 40 +++++++++++-----------
 8 files changed, 48 insertions(+), 47 deletions(-)

commit 2d24cb5916747e018da82688a79caa8ed5369340
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Sep 21 18:01:02 2017 +0200

    Remove 'Swift 3.1.1' from build. (#2737)
    
    Swift 3.1.1 build is safe to remove, since we're not running any tests there anyway and it buys 4 minutes of time in the process.

 tools/travis/build.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33b1893102177c1ef8331cedae7ff886f2fc49c4
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Sep 21 16:16:01 2017 +0200

    Drop using an Enumeration for Privilege. (#2783)
    
    Enumerations are a mess in Scala and generally ADTs are more flexible and easier to grasp. Additionally, the current use of `Enumeration` in `Privilege` results in thread-contention because one of its inner parts `ofName` is `synchronized` and used heavily on our hot path.

 .../scala/whisk/core/entitlement/Privilege.scala   | 25 ++++++++++++++++------
 .../main/scala/whisk/core/entity/Identity.scala    |  1 -
 .../main/scala/whisk/core/controller/Actions.scala |  2 --
 .../scala/whisk/core/controller/Activations.scala  |  5 +----
 .../controller/AuthorizedRouteDispatcher.scala     |  1 -
 .../scala/whisk/core/controller/Entities.scala     |  2 +-
 .../scala/whisk/core/controller/Namespaces.scala   |  7 +-----
 .../whisk/core/entitlement/ActionCollection.scala  |  2 --
 .../scala/whisk/core/entitlement/Collection.scala  |  8 +++----
 .../whisk/core/entitlement/LocalEntitlement.scala  |  1 -
 .../whisk/core/entitlement/PackageCollection.scala |  3 +--
 .../core/loadBalancer/InvokerSupervision.scala     |  5 +----
 .../core/controller/test/WebActionsApiTests.scala  |  1 -
 .../test/InvokerSupervisionTests.scala             |  4 +---
 14 files changed, 29 insertions(+), 38 deletions(-)

commit d881fe1a3af1178b06a38f4a4646d01558399491
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Sep 21 16:15:11 2017 +0200

    Remove "Thread.sleep" from log reading retries. (#2751)
    
    "Thread.sleep" unnecessarily blocks the Thread instead of scheduling the retry.

 .../whisk/core/containerpool/docker/DockerContainer.scala   |  8 ++++++--
 .../containerpool/docker/test/DockerContainerTests.scala    | 13 ++++++++-----
 2 files changed, 14 insertions(+), 7 deletions(-)

commit 52f41d4bab4a4c9045004e89b4708fe06d458396
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Sep 21 15:47:47 2017 +0200

    Make logging hot paths lighter. (#2784)
    
    Logging is **the** hotspot in our application today. This takes a first stab at making the overhead a bit smaller by respecting the set log-level as early as currently possible and not do any extranous throwaway computation.
    
    It also reduces a bit of unnecessary boxing for the sake of just trying to keep a single space out of the message.

 common/scala/src/main/scala/whisk/common/Logging.scala       | 11 +++--------
 common/scala/src/main/scala/whisk/common/TransactionId.scala |  4 +---
 2 files changed, 4 insertions(+), 11 deletions(-)

commit 48a0d570a6a5c364d351bdb040bdb7ec4c027f96
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Sep 21 15:41:17 2017 +0200

    Add git pre-commit hook scripts for Scala formatting. (#2782)
    
    Provided scripts can be used to apply project standard Scala formatting automatically
    when committing Scala source files. Developers only need to add the invocation
    of any of the scripts to their git `pre-commit` hook file.
    
    Standard Scala formatting was added with pull request #2650. At the moment,
    https://github.com/apache/incubator-openwhisk/wiki/Contributing:-Git-guidelines#scala
    describes how the `pre-commit` hook can be extended to apply Scala formatting.
    The script provided at this location has some flaws that are addressed by this PR:
    
    * The existing script starts formatting if Scala files are removed.
    * The existing script does not work if no `build.gradle` file can be found
      in the current working directory.
    * The existing script does only consider Scala files in the current
      working directory or below the current working directory.

 tools/git/README.md                      | 18 ++++++++++++
 tools/git/pre-commit-scalafmt-gradlew.sh | 36 +++++++++++++++++++++++
 tools/git/pre-commit-scalafmt-native.sh  | 49 ++++++++++++++++++++++++++++++++
 3 files changed, 103 insertions(+)

commit 0199a07deeaa442716ae25e3d1a0a67efe928b07
Author: Vincent <shou@us.ibm.com>
Date:   Thu Sep 21 09:32:39 2017 -0400

    Add BaseWsk for and base entities for Wsk CLI and REST to extend or create (#2593)
    
    Currently, Wsk class is dedicated to CLI only and all the entities created
    inside, like WskAction, WskTrigger, WskActivation, etc, are implementations
    of issuing CLI commands to access openwhisk services. All the test cases
    invoke Wsk and Wsk entities for CLI. In order to have REST implementations,
    we need to create a base Wsk and base entities for both Wsk CLI and Wsk REST
    to extend. All the public methods of Wsk CLI should be put in the abstract
    trait, so that all the test cases need to create the base Wsk, and call
    different implementations based on different test requirements.
    
    This PR abstracts a basewsk and some base entities for Wsk and Wsk entities
    to extend. This will facilitate further development of REST invocation.

 tests/src/test/scala/common/BaseWsk.scala        | 366 +++++++++++++++++++++
 tests/src/test/scala/common/Wsk.scala            | 396 +++++++++--------------
 tests/src/test/scala/common/WskTestHelpers.scala |  12 +-
 3 files changed, 520 insertions(+), 254 deletions(-)

commit 2d7c20faa2f0f0ae6f7b50436d47f905117d8f5f
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Sep 21 11:14:59 2017 +0200

    Keep cache invalidation messages in Kafka for only 5 minutes. (#2779)

 ansible/group_vars/all               |  4 ++++
 ansible/roles/kafka/tasks/deploy.yml | 10 ++++++----
 2 files changed, 10 insertions(+), 4 deletions(-)

commit 9f0738424c2381be295d2ea12678ae2c14e5b759
Author: David Cariello <drcariel@us.ibm.com>
Date:   Wed Sep 20 16:56:02 2017 -0500

    update apigw end-to-end to be more resilient (#2724)

 tests/src/test/scala/apigw/healthtests/ApiGwEndToEndTests.scala | 6 ++++++
 1 file changed, 6 insertions(+)

commit 92f46034e0df7b2e734ffecbdfe9e43d855a71ac
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Sep 20 17:54:07 2017 -0400

    fix wsk autocomplete for Vagrant (#2775)

 tools/vagrant/Vagrantfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac99eed848e2f300e30ff7b0ff7d11f3aeb1852b
Author: Ben Browning <ben324@gmail.com>
Date:   Wed Sep 20 15:21:51 2017 -0400

    Don't assume apihost is https for sdk and action urls (#2748)
    
    * Don't assume apihost is https for sdk and action urls
    
    Reuse the getURLBase utility method when computing the URL for sdk
    downloads and action URLs.
    
    This fixes #2720 and fixes #2719.
    
    * Cleanup some trailing whitespace I missed
    
    * Missed this import in last-second rebase
    
    * Update debug messages to match `GetURLBase` method name

 .../src/test/scala/system/basic/WskSdkTests.scala  | 19 +++++++++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 42 ++++++++++++++++++----
 tools/cli/go-whisk-cli/commands/action.go          |  8 ++++-
 tools/cli/go-whisk-cli/commands/commands.go        |  4 +--
 tools/cli/go-whisk-cli/commands/property.go        |  8 ++---
 tools/cli/go-whisk-cli/commands/util.go            | 24 -------------
 tools/cli/go-whisk/whisk/action.go                 | 20 +++++++----
 tools/cli/go-whisk/whisk/sdk.go                    |  6 +++-
 tools/cli/go-whisk/whisk/util.go                   | 24 +++++++++++++
 9 files changed, 108 insertions(+), 47 deletions(-)

commit 7c4bb84b4580093668ab435fd6ba079ed115160d
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Sep 20 14:40:19 2017 -0400

    Echo Access-Control-Request-Headers as Access-Control-Allow-Headers instead of hardcoding value for header. (#2771)

 .../scala/whisk/core/controller/WebActions.scala   | 27 +++++---
 docs/webactions.md                                 |  4 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 25 +++++--
 .../core/controller/test/WebActionsApiTests.scala  | 80 +++++++++++-----------
 4 files changed, 83 insertions(+), 53 deletions(-)

commit eb1066772489f6dd23787074607f51d04b1cad5a
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Sep 20 08:37:31 2017 -0400

    Remove redundant view which predates db split into activations and assets. (#2735)
    
    * Remove references to view that is no longer used.
    
    It predates db split into activations and assets.
    Also remove support for listing public packags which has been forceable disabled.
    This should be redesigned as a separate discover API.
    Normalize post-processing of list operations using Either.fold.
    Refactor query methods and remove some deadcode.
    
    * Rename aname to aname() because it's side-effecting.
    
    * Remove references to 'all' view for activations db.

 .../scala/whisk/core/entity/WhiskActivation.scala  |  33 ++-
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 178 +++-----------
 .../main/scala/whisk/core/controller/Actions.scala |   4 +-
 .../scala/whisk/core/controller/Activations.scala  |   8 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |   6 +-
 .../scala/whisk/core/controller/Namespaces.scala   |   7 +-
 .../scala/whisk/core/controller/Packages.scala     |  46 ++--
 .../main/scala/whisk/core/controller/Rules.scala   |   4 +-
 .../scala/whisk/core/controller/Triggers.scala     |   4 +-
 .../core/controller/test/ActionsApiTests.scala     |  74 +++---
 .../core/controller/test/ActivationsApiTests.scala |  32 +--
 .../controller/test/PackageActionsApiTests.scala   | 196 +++++++--------
 .../core/controller/test/TriggersApiTests.scala    |  52 ++--
 .../SequenceActionApiMigrationTests.scala          |  16 +-
 .../scala/whisk/core/database/test/DbUtils.scala   |  38 +--
 .../scala/whisk/core/entity/test/ViewTests.scala   | 273 +++++++++++----------
 16 files changed, 422 insertions(+), 549 deletions(-)

commit cdb4be70e0c47019e75e8d3fad5308f6f4251ea7
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Sep 19 18:03:11 2017 +0200

    Make blackbox invoker fraction configurable via Ansible (#2773)
    
    Extend Ansible deploy playbook for controller role such that it passes the blackbox fraction
    setting as environment variable when running the controller container. Make the blackbox fraction
    a required property of the LoadBalancerService such that the setting is read from the environment.
    Allow overriding of the default blackbox fraction in Ansible.
    
    All this is needed to vary the proportion between managed and blackbox invokers to accomodate
    usage in production.

 ansible/group_vars/all                                                 | 2 +-
 ansible/roles/controller/tasks/deploy.yml                              | 1 +
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala               | 2 +-
 .../src/main/scala/whisk/core/loadBalancer/LoadBalancerService.scala   | 3 ++-
 4 files changed, 5 insertions(+), 3 deletions(-)

commit 2c333f649d5fc80acf2ae312d2f0aae27ec9ab35
Author: Gabriel Nicolas Avellaneda <avellaneda.gabriel@gmail.com>
Date:   Mon Sep 18 21:21:22 2017 -0300

    Added --result to invoke action (#2750)
    
    Passing --result to invoke action is a better feedback to confirm that it actually executed the function and got back the expected result.

 docs/about.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c5cf96e399e6524f340cb21e1ccac67da0100c55
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Sep 19 01:56:40 2017 +0200

    Revert "Use an asynchronous process runner to spawn container commands." (#2769)
    
    This reverts commit 6b0c03725b43d5454dc07ccc51318675b6b0905e.

 core/invoker/build.gradle                          |  2 -
 .../core/containerpool/docker/ProcessRunner.scala  | 49 ++++++++--------------
 2 files changed, 18 insertions(+), 33 deletions(-)

commit 93081fa376ec4a0427c59648887fe53cf0051492
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Sep 18 16:32:14 2017 -0500

    Display content-type in __ow_headers for web actions (#2741)

 .../scala/whisk/core/controller/WebActions.scala   |  7 ++++-
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 31 ++++++++++++++++++++++
 .../core/controller/test/WebActionsApiTests.scala  | 30 ++++++++++++---------
 3 files changed, 55 insertions(+), 13 deletions(-)

commit 33b90e574da3a84ee21981b0538718954e00d52e
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Sep 18 16:19:10 2017 -0400

    Add test for content-type with empty entity. (#2765)

 .../scala/whisk/core/controller/WebActions.scala   | 10 ++++++---
 .../core/controller/test/WebActionsApiTests.scala  | 25 +++++++++++++++++++++-
 2 files changed, 31 insertions(+), 4 deletions(-)

commit 6b0c03725b43d5454dc07ccc51318675b6b0905e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sat Sep 16 19:53:23 2017 +0200

    Use an asynchronous process runner to spawn container commands. (#2752)
    
    scala.sys.Process only has a blocking interface which blocks one thread for the runtime of the command. Furthermore, each of those processes open another thread to handle the output streams of the started process. Under load, the system churns through a **lot** of threads, which can cause efficiency problems.
    
    NuProcess is supposed to fix this by providing an epoll interface, to make waiting on process completion asynchronous and its own (small) threadpool to maintain state and handle streams.

 core/invoker/build.gradle                          |  2 +
 .../core/containerpool/docker/ProcessRunner.scala  | 49 ++++++++++++++--------
 2 files changed, 33 insertions(+), 18 deletions(-)

commit f1cfb38dacf98b0f4de1f488c76034c49a5fab3f
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Sep 16 00:20:38 2017 -0400

    Remove heisenbug from test by checking either order for stdout/stderr lines. (#2761)

 tests/src/test/scala/whisk/core/cli/test/WskBasicUsageTests.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 929c84f778eecb3cced46816d2e4487069970a03
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Sep 15 19:31:29 2017 -0400

    Support docker for mac using the 'local' environment (#2686)

 ansible/README.md                                  | 37 ++++++++------
 ansible/environments/distributed/group_vars/all    |  2 +-
 ansible/environments/mac/group_vars/all            | 26 ----------
 ansible/environments/mac/hosts                     | 28 -----------
 ansible/logs.yml                                   | 13 +++--
 ansible/roles/cli/tasks/download_cli.yml           |  6 +--
 ansible/roles/invoker/tasks/deploy.yml             | 56 ++++++++++++++++++----
 core/nodejs6Action/Dockerfile                      |  1 +
 core/php7.1Action/Dockerfile                       |  2 +-
 .../scala/actionContainers/ActionContainer.scala   |  4 +-
 tools/build/redo                                   |  2 +-
 tools/macos/README.md                              |  4 +-
 tools/macos/docker-machine/README.md               |  2 +-
 tools/ubuntu-setup/ansible.sh                      |  2 +
 14 files changed, 92 insertions(+), 93 deletions(-)

commit 5686868f956312a0de22cc42716e1ee1d377e1fb
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Sep 15 12:58:03 2017 -0400

    update .gitignore out/ for intellij (#2756)

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit f7675991d413b51b4e9a23d033f32df573f13895
Author: David Liu <noellaw2004@126.com>
Date:   Sat Sep 16 00:10:47 2017 +0800

    Add activation logs strip option. (#2620)
    
    * Add activation logs strip option.
    
    * Add proper test for strip option.
    
    * Remove dead code.

 .../main/scala/whisk/core/entity/WhiskStore.scala    |  1 +
 .../main/scala/whisk/core/controller/Actions.scala   |  5 +----
 tests/dat/actions/log.js                             |  7 +++++++
 .../whisk/core/cli/test/WskBasicUsageTests.scala     | 20 +++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/activation.go        |  2 +-
 tools/cli/go-whisk-cli/commands/flags.go             |  1 +
 tools/cli/go-whisk-cli/commands/util.go              |  7 ++++++-
 .../go-whisk-cli/wski18n/resources/en_US.all.json    |  4 ++++
 8 files changed, 40 insertions(+), 7 deletions(-)

commit 4bb6bd11892d570a2f7ceb07898b053dc85bf59d
Author: Qaiser Abbasi <qabbasi@users.noreply.github.com>
Date:   Fri Sep 15 03:38:41 2017 +0200

    Document how to assign custom network address when creating docker-machine vm (#2700)

 tools/macos/docker-machine/README.md | 2 ++
 1 file changed, 2 insertions(+)

commit 4309e3fc1db0d2168b9a7809e0963967b5c069fd
Author: Scott Wilson-Billing <scott.wilsonbilling@mac.com>
Date:   Thu Sep 14 10:47:56 2017 -0400

    Added functions to create a trigger and create a rule for Swift actions.
    
    Updated name of method for sending Whisk API request.
    Cleaned up the parameter naming a little for consistency.
    Changed to using guard to check for the trigger name argument
    Added additional assertion that the rule created did actually get fired and run ok
    Added tests for creating a trigger and a rule
    Documentation

 core/swift3Action/spm-build/_Whisk.swift           | 27 ++++++---
 tests/dat/actions/createRule.swift                 | 13 ++++
 tests/dat/actions/createTrigger.swift              |  7 +++
 .../scala/whisk/core/cli/test/Swift3Tests.scala    | 70 ++++++++++++++++++++++
 4 files changed, 110 insertions(+), 7 deletions(-)

commit 162a56278259dd4a9cf5b070a00f621a489bfdfe
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Sep 14 13:35:57 2017 -0400

    allow to override runtimesManifest (#2743)
    
    * allow to override runtimesManifest
    
    * make @rabbah happy is my motto
    
    * move var runtimesManifest close to description
    
    * remove extra line

 ansible/group_vars/all | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 8a9a57d25e943e53841c5ce67e513f271124b0d3
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Sep 14 12:37:21 2017 -0400

    Clarify WSK_CONFIG_FILE empty string behavior (#2357)
    
    - add test and add comments.

 tests/src/test/scala/whisk/core/cli/test/WskConfigTests.scala | 6 ++++++
 tools/cli/go-whisk-cli/commands/property.go                   | 7 +++++--
 2 files changed, 11 insertions(+), 2 deletions(-)

commit 5856485aceaeb5b62570638be8ba28907f7b88b4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 7 23:20:58 2017 -0400

    Test change for api host setting which previously caused CLI to crash.

 .../scala/whisk/core/cli/test/WskConfigTests.scala  | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 0eda995039249de45dc64c43edba38dca43de06e
Author: David Liu <david.liu@cn.ibm.com>
Date:   Mon Jul 10 14:57:43 2017 +0800

    Correct unable to set apihost issue.

 tools/cli/go-whisk-cli/commands/util.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 20e0def3740a6287ad9b9f54655be427e77296ec
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Sep 14 03:11:48 2017 +0100

    Ensure that base64 encoded '+json' bodies are accepted and decoded. (#2646)
    
    For any base64 encoded string where the content-type is set to a valid
    media type with `+json` at the end, then we need to decode it.
    
    If the response from the web action is a JSON dictionary in the body and
    the content-type header is set to a `+json` media type, then send this
    is acceptable.
    
    Do not whitelist media types in the content-type header
    Instead, just ensure that they are of a valid format.

 .../scala/whisk/core/controller/WebActions.scala   |  43 +++++---
 .../core/controller/test/WebActionsApiTests.scala  | 113 ++++++++++++++++++++-
 2 files changed, 140 insertions(+), 16 deletions(-)

commit 9b69d278fc98e2f24db4855b356c30ed0422747b
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Sep 13 22:07:35 2017 -0400

    Revert "Added functions to create a trigger and create a rule. (#2718)" (#2740)
    
    This reverts commit ec56eb81005a0a62cadd591ca55e1468c73df2b3.

 core/swift3Action/spm-build/_Whisk.swift           | 27 +++------
 tests/dat/actions/createRule.swift                 | 13 ----
 tests/dat/actions/createTrigger.swift              |  7 ---
 .../scala/whisk/core/cli/test/Swift3Tests.scala    | 70 ----------------------
 4 files changed, 7 insertions(+), 110 deletions(-)

commit ec56eb81005a0a62cadd591ca55e1468c73df2b3
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Sep 13 15:54:54 2017 -0400

    Added functions to create a trigger and create a rule. (#2718)
    
    Updated name of method for sending Whisk API request.
    Cleaned up the parameter naming a little for consistency.
    Changed to using guard to check for the trigger name argument.
    Added tests for creating a trigger and a rule.

 core/swift3Action/spm-build/_Whisk.swift           | 27 ++++++---
 tests/dat/actions/createRule.swift                 | 13 ++++
 tests/dat/actions/createTrigger.swift              |  7 +++
 .../scala/whisk/core/cli/test/Swift3Tests.scala    | 70 ++++++++++++++++++++++
 4 files changed, 110 insertions(+), 7 deletions(-)

commit d04c35a3e4870540de2dce3e2cb7e2f9769685f9
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Wed Sep 13 16:50:29 2017 +0200

    Increase poll period for tests to not fail on slow indexing. (#2738)

 tests/src/test/scala/common/WskTestHelpers.scala | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 602ce9438cdf5cbfa5e3365223c1c48348ff1092
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Sep 13 03:56:27 2017 -0400

    Ping couchdb ready by using _utils. (#2732)

 ansible/roles/couchdb/tasks/deploy.yml | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit 63f92dc91bba1ba5162d0f144b2743217657bbdd
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Sep 12 14:36:41 2017 -0500

    Disable explicit retry on container http connection. (#2714)
    
    Remove unused type.

 .../scala/whisk/core/entity/ActivationResult.scala |  1 -
 .../core/containerpool/docker/HttpUtils.scala      | 17 +++++---
 .../docker/test/ContainerConnectionTests.scala     | 46 ++++++++++++----------
 .../core/entity/test/ActivationResponseTests.scala |  4 +-
 4 files changed, 39 insertions(+), 29 deletions(-)

commit a742149d09bc055a8a593945aa30242771e0dbbc
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Sep 12 11:27:26 2017 -0500

    Add scala fmt to redo. (#2728)

 tools/build/redo | 6 ++++++
 1 file changed, 6 insertions(+)

commit 17e4dbc10c014661c177c20fda5514c9fd964aa3
Author: David Grove <dgrove-oss@users.noreply.github.com>
Date:   Tue Sep 12 10:42:46 2017 -0400

    do not use InstanceId.int within TransactionCounter (#2680)
    
    Abstract away the assumption that InstanceId must be an integer in the range 0..numInstances-1 in TransactionCounter.

 common/scala/src/main/scala/whisk/common/TransactionId.scala      | 5 ++---
 .../src/main/scala/whisk/core/controller/Controller.scala         | 3 ++-
 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala      | 4 +---
 .../invoker/src/main/scala/whisk/core/invoker/InvokerServer.scala | 8 +++++---
 .../scala/whisk/core/controller/test/ControllerTestCommon.scala   | 5 +++--
 tests/src/test/scala/whisk/core/database/test/DbUtils.scala       | 3 ++-
 6 files changed, 15 insertions(+), 13 deletions(-)

commit d37fb5def675c6c7244b2da7217ba7ddb582f41f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Sep 12 16:42:00 2017 +0200

    Synchronize access to MessageFeed testqueue. (#2734)
    
    The test has intermittent failures because access to the underlying queue is unexpectedly non-threadsafe and non-atomic, meaning a `peek` could grab messages off the queue meanwhile `addAll` is still adding messages. This can (rarely) lead to inconsistent state and thus a failing test.

 .../core/connector/test/MessageFeedTests.scala     |  2 --
 .../whisk/core/connector/test/TestConnector.scala  | 42 ++++++++++++----------
 2 files changed, 24 insertions(+), 20 deletions(-)

commit 39669e607298850ac73038f6c444ff02d720d7fc
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Sep 12 16:41:40 2017 +0200

    Make nginx more performant acting as a proxy. (#2727)
    
    This enables using HTTP keepalive towards the backend so the connections are reused more efficiently.

 ansible/roles/nginx/templates/nginx.conf.j2 | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 67e40b176c2f7177cbfe2b674ea6889619630963
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Sep 12 01:36:45 2017 -0400

    Bump akka-http to version 10.0.10. (#2726)

 common/scala/build.gradle | 4 ++--
 tests/build.gradle        | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 66c9dbc094234c6851731c2f858ea9e5977b5409
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Sep 11 10:14:21 2017 +0200

    Add tests to check high-availability of the controller. (#2661)

 tests/src/test/scala/ha/ShootComponentsTests.scala | 147 +++++++++++++++++++++
 1 file changed, 147 insertions(+)

commit 290eecd66476827f9c2294ddb91e7188426f6395
Author: Xin Cai <caixinnn@163.com>
Date:   Mon Sep 11 09:56:52 2017 +0200

    Make router worker connections configurable. (#2233)

 ansible/group_vars/all                      | 2 ++
 ansible/roles/nginx/templates/nginx.conf.j2 | 2 ++
 2 files changed, 4 insertions(+)

commit 418fcd147dc366d61b9bb943a40b203a381b4bce
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Sep 11 07:49:39 2017 +0200

    Increase CouchDB to version 2.0. (#2697)

 ansible/group_vars/all                             |  2 +-
 ansible/roles/couchdb/tasks/clean.yml              |  2 +-
 ansible/roles/couchdb/tasks/deploy.yml             | 25 +++++++++++-----------
 .../whisk/core/database/test/ReplicatorTests.scala |  1 +
 4 files changed, 15 insertions(+), 15 deletions(-)

commit 5f84bb9d46452dd2df23ca1dc92b9b17eb95efc5
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Sep 8 05:38:18 2017 +0200

    Fix endless collapsing of failed pulls. (#2713)
    
    The pull-future needs to be removed from the caching Map once the underlying runCmd finishes, either successfully or failed.

 .../core/containerpool/docker/DockerClient.scala   |  2 +-
 .../docker/test/DockerClientTests.scala            | 32 +++++++++++++++++++++-
 2 files changed, 32 insertions(+), 2 deletions(-)

commit 3232726456054d58c4afef9b3770beb6e12c3717
Author: David Cariello <drcariel@us.ibm.com>
Date:   Thu Sep 7 22:33:17 2017 -0500

    CLI User Agent Header (#2591)

 docs/rest_api.md                                                 | 7 +++++--
 .../src/test/scala/whisk/core/cli/test/WskBasicUsageTests.scala  | 6 ++++++
 tools/cli/go-whisk-cli/commands/commands.go                      | 2 ++
 tools/cli/go-whisk/whisk/api.go                                  | 3 +--
 tools/cli/go-whisk/whisk/client.go                               | 9 +++++++++
 5 files changed, 23 insertions(+), 4 deletions(-)

commit 643e7285551a4090555eb3cf57c80f5a6120ae96
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Sep 7 22:24:58 2017 -0400

    Fix Travis jobs with group: deprecated-2017Q3 (#2716)

 .travis.yml | 2 ++
 1 file changed, 2 insertions(+)

commit 6b025624a6a968fec86ea3749a76467a72db9139
Author: Sang Heon Lee <developistBV@gmail.com>
Date:   Fri Sep 8 00:43:28 2017 +0900

    fix syntax error in patchKernel.yml (#2707)

 ansible/roles/whiskhost/tasks/patchKernel.yml | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit 25f290d953fe2a26573545f18f38a8fcdda6ea5f
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Sep 7 11:10:28 2017 -0400

    Remove redundant test suite. Also remove some spurious log messages. (#2693)

 .../test/scala/system/basic/WskConsoleTests.scala  |  1 -
 .../test/scala/system/basic/WskSequenceTests.scala | 14 ++---
 .../actions/test/ActivationFinisherTests.scala     |  2 +-
 .../core/controller/test/AuthenticateTests.scala   | 33 +++++-----
 .../core/controller/test/AuthenticateV2Tests.scala | 73 ----------------------
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 6 files changed, 25 insertions(+), 100 deletions(-)

commit 81ce5d43d82e3323d14cf5a8662da9fe60ffd0c3
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Sep 7 11:09:14 2017 -0400

    Decorate throttled error response with count/limit. (#2684)

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  6 +-
 .../core/entitlement/ActivationThrottler.scala     | 22 ++++++-
 .../scala/whisk/core/entitlement/Entitlement.scala | 73 +++++++++-------------
 .../whisk/core/entitlement/RateThrottler.scala     | 27 ++++----
 tests/src/test/scala/limits/ThrottleTests.scala    | 50 ++++++++++-----
 .../core/controller/test/RateThrottleTests.scala   | 22 +++----
 .../core/controller/test/WebActionsApiTests.scala  |  4 +-
 7 files changed, 112 insertions(+), 92 deletions(-)

commit 4c6688bfac2e0939b20b7e1f5fba13973b242959
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Sep 7 11:08:44 2017 -0400

    Change response when entity is empty from 200 to 204. (#2676)
    
    This allows empty json response with http actions.
    Treat the empty string and a null JSON value as empty content.
    Add empty body tests for http web actions where request specifies an accept header.
    Disable content negotiation on empty response.
    Fix web action status code response in test files.
    Add tests for handling partial result for http actions.
    Update web action doc.

 .../scala/whisk/core/controller/RestAPIs.scala     |   3 +-
 .../scala/whisk/core/controller/WebActions.scala   |  31 ++--
 docs/webactions.md                                 |  10 +-
 tests/dat/actions/corsHeaderMod.js                 |   2 +-
 tests/dat/actions/multipleHeaders.js               |   2 +-
 .../core/controller/test/WebActionsApiTests.scala  | 159 +++++++++++++++++++--
 6 files changed, 176 insertions(+), 31 deletions(-)

commit 079ba9b0e0dae827224237dd8f821855e330da65
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Thu Sep 7 17:02:00 2017 +0200

    Fix Ansible playbook problems with missing variable interpolation (#2709)
    
    Surround variables introduced with PR #2669 with double curly braces to force interpolation.
    We observed Ansible playbook runs where `become` was not active because variables
    were not interpolated such that the value was `false`.

 ansible/roles/cli/tasks/clean.yml         | 2 +-
 ansible/roles/cli/tasks/deploy.yml        | 2 +-
 ansible/roles/controller/tasks/clean.yml  | 2 +-
 ansible/roles/controller/tasks/deploy.yml | 2 +-
 ansible/roles/invoker/tasks/clean.yml     | 4 ++--
 ansible/roles/invoker/tasks/deploy.yml    | 2 +-
 ansible/roles/nginx/tasks/clean.yml       | 4 ++--
 ansible/roles/nginx/tasks/deploy.yml      | 4 ++--
 ansible/roles/sdk/tasks/clean.yml         | 2 +-
 ansible/roles/sdk/tasks/deploy.yml        | 2 +-
 10 files changed, 13 insertions(+), 13 deletions(-)

commit d86c415a1d9a4eaa2061eac3a6ce99f24ba390f9
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Sep 6 20:53:48 2017 +0200

    Apply standard scala formatting. (#2650)
    
    Formats all .scala files according to `scalafmt`'s (opinionated) style.
    Adds Travis checks for correctly formatted code.

 .scalafmt.conf                                     |    6 +
 build.gradle                                       |   13 +
 .../scala/src/main/scala/whisk/common/Config.scala |  191 +-
 .../src/main/scala/whisk/common/Counter.scala      |   36 +-
 .../src/main/scala/whisk/common/DateUtil.scala     |   34 +-
 .../src/main/scala/whisk/common/Logging.scala      |  332 +-
 .../src/main/scala/whisk/common/RingBuffer.scala   |    8 +-
 .../src/main/scala/whisk/common/Scheduler.scala    |  164 +-
 .../src/main/scala/whisk/common/SimpleExec.scala   |   59 +-
 .../src/main/scala/whisk/common/TimingUtil.scala   |   10 +-
 .../main/scala/whisk/common/TransactionId.scala    |  255 +-
 .../connector/kafka/KafkaConsumerConnector.scala   |  104 +-
 .../connector/kafka/KafkaMessagingProvider.scala   |    9 +-
 .../connector/kafka/KafkaProducerConnector.scala   |   84 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  318 +-
 .../main/scala/whisk/core/connector/Message.scala  |  110 +-
 .../whisk/core/connector/MessageConsumer.scala     |  324 +-
 .../whisk/core/connector/MessageProducer.scala     |   13 +-
 .../whisk/core/connector/MessagingProvider.scala   |    8 +-
 .../scala/whisk/core/database/ArtifactStore.scala  |  136 +-
 .../core/database/ArtifactStoreProvider.scala      |    9 +-
 .../whisk/core/database/CloudantRestClient.scala   |   12 +-
 .../whisk/core/database/CouchDbRestClient.scala    |  422 +--
 .../whisk/core/database/CouchDbRestStore.scala     |  508 ++--
 .../whisk/core/database/CouchDbStoreProvider.scala |   29 +-
 .../whisk/core/database/DocumentFactory.scala      |  333 +-
 .../MultipleReadersSingleWriterCache.scala         |  726 ++---
 .../core/database/RemoteCacheInvalidation.scala    |   65 +-
 .../scala/whisk/core/entitlement/Privilege.scala   |   27 +-
 .../whisk/core/entity/ActivationEntityLimit.scala  |    2 +-
 .../scala/whisk/core/entity/ActivationId.scala     |  161 +-
 .../scala/whisk/core/entity/ActivationLogs.scala   |   27 +-
 .../scala/whisk/core/entity/ActivationResult.scala |  321 +-
 .../scala/whisk/core/entity/ArgNormalizer.scala    |   38 +-
 .../main/scala/whisk/core/entity/Attachments.scala |   95 +-
 .../src/main/scala/whisk/core/entity/AuthKey.scala |  107 +-
 .../main/scala/whisk/core/entity/CacheKey.scala    |   36 +-
 .../src/main/scala/whisk/core/entity/DocInfo.scala |  144 +-
 .../main/scala/whisk/core/entity/EntityPath.scala  |  320 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  360 +--
 .../scala/whisk/core/entity/ExecManifest.scala     |  381 +--
 .../core/entity/FullyQualifiedEntityName.scala     |  104 +-
 .../main/scala/whisk/core/entity/Identity.scala    |  162 +-
 .../main/scala/whisk/core/entity/InstanceId.scala  |    4 +-
 .../src/main/scala/whisk/core/entity/Limits.scala  |   51 +-
 .../main/scala/whisk/core/entity/LogLimit.scala    |   63 +-
 .../main/scala/whisk/core/entity/MemoryLimit.scala |   64 +-
 .../main/scala/whisk/core/entity/Parameter.scala   |  307 +-
 .../src/main/scala/whisk/core/entity/Secret.scala  |   74 +-
 .../src/main/scala/whisk/core/entity/SemVer.scala  |  103 +-
 .../src/main/scala/whisk/core/entity/Size.scala    |  163 +-
 .../src/main/scala/whisk/core/entity/Subject.scala |   68 +-
 .../main/scala/whisk/core/entity/TimeLimit.scala   |   71 +-
 .../src/main/scala/whisk/core/entity/UUID.scala    |   58 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  439 +--
 .../scala/whisk/core/entity/WhiskActivation.scala  |  103 +-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   42 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  224 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |  351 +--
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  269 +-
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  491 +--
 .../scala/whisk/core/entity/WhiskTrigger.scala     |  102 +-
 .../main/scala/whisk/http/BasicHttpService.scala   |  174 +-
 .../main/scala/whisk/http/BasicRasService.scala    |   20 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  308 +-
 .../scala/src/main/scala/whisk/spi/SpiLoader.scala |   31 +-
 .../whisk/utils/ExecutionContextFactory.scala      |   75 +-
 .../src/main/scala/whisk/utils/JsHelpers.scala     |   29 +-
 .../scala/src/main/scala/whisk/utils/Retry.scala   |   43 +-
 .../main/scala/whisk/core/controller/Actions.scala | 1123 +++----
 .../scala/whisk/core/controller/Activations.scala  |  342 ++-
 .../scala/whisk/core/controller/ApiUtils.scala     |  559 ++--
 .../scala/whisk/core/controller/Authenticate.scala |   72 +-
 .../whisk/core/controller/AuthenticatedRoute.scala |   29 +-
 .../controller/AuthorizedRouteDispatcher.scala     |  198 +-
 .../main/scala/whisk/core/controller/Backend.scala |   17 +-
 .../scala/whisk/core/controller/Controller.scala   |  246 +-
 .../scala/whisk/core/controller/Entities.scala     |  187 +-
 .../scala/whisk/core/controller/Namespaces.scala   |  138 +-
 .../scala/whisk/core/controller/Packages.scala     |  524 ++--
 .../scala/whisk/core/controller/RestAPIs.scala     |  414 ++-
 .../main/scala/whisk/core/controller/Rules.scala   |  692 +++--
 .../scala/whisk/core/controller/Triggers.scala     |  541 ++--
 .../scala/whisk/core/controller/WebActions.scala   | 1171 +++----
 .../controller/actions/PostActionActivation.scala  |   61 +-
 .../core/controller/actions/PrimitiveActions.scala |  509 ++--
 .../core/controller/actions/SequenceActions.scala  |  807 ++---
 .../whisk/core/entitlement/ActionCollection.scala  |   50 +-
 .../core/entitlement/ActivationThrottler.scala     |   42 +-
 .../scala/whisk/core/entitlement/Collection.scala  |  179 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  471 +--
 .../whisk/core/entitlement/LocalEntitlement.scala  |   64 +-
 .../whisk/core/entitlement/PackageCollection.scala |  184 +-
 .../whisk/core/entitlement/RateThrottler.scala     |   89 +-
 .../core/loadBalancer/InvokerSupervision.scala     |  477 +--
 .../whisk/core/loadBalancer/LoadBalancerData.scala |  155 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  555 ++--
 .../scala/whisk/core/containerpool/Container.scala |   39 +-
 .../whisk/core/containerpool/ContainerPool.scala   |  313 +-
 .../whisk/core/containerpool/ContainerProxy.scala  |  661 ++--
 .../docker/DockerActionLogDriver.scala             |  147 +-
 .../core/containerpool/docker/DockerClient.scala   |  246 +-
 .../docker/DockerClientWithFileAccess.scala        |  283 +-
 .../containerpool/docker/DockerContainer.scala     |  396 +--
 .../core/containerpool/docker/HttpUtils.scala      |  176 +-
 .../core/containerpool/docker/ProcessRunner.scala  |   47 +-
 .../core/containerpool/docker/RuncClient.scala     |   56 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  108 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  350 ++-
 .../scala/whisk/core/invoker/InvokerServer.scala   |    6 +-
 settings.gradle                                    |    5 +
 .../scala/actionContainers/ActionContainer.scala   |  211 +-
 .../ActionProxyContainerTests.scala                |  424 +--
 .../DockerExampleContainerTests.scala              |  190 +-
 .../JavaActionContainerTests.scala                 |  304 +-
 .../NodeJsActionContainerTests.scala               |  553 ++--
 .../Php71ActionContainerTests.scala                |  494 ++-
 .../Python2ActionContainerTests.scala              |    6 +-
 .../PythonActionContainerTests.scala               |  507 ++--
 .../scala/actionContainers/ResourceHelpers.scala   |  255 +-
 .../Swift311ActionContainerTests.scala             |    6 +-
 .../Swift3ActionContainerTests.scala               |  297 +-
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  227 +-
 tests/src/test/scala/common/JsHelpers.scala        |   14 +-
 tests/src/test/scala/common/LoggedFunction.scala   |   49 +-
 tests/src/test/scala/common/StreamLogging.scala    |    8 +-
 tests/src/test/scala/common/TestHelpers.scala      |   20 +-
 tests/src/test/scala/common/Wsk.scala              | 1888 ++++++------
 tests/src/test/scala/common/WskActorSystem.scala   |   22 +-
 tests/src/test/scala/common/WskTestHelpers.scala   |  416 +--
 .../src/test/scala/ha/CacheInvalidationTests.scala |  213 +-
 tests/src/test/scala/limits/ThrottleTests.scala    |  584 ++--
 tests/src/test/scala/services/HeadersTests.scala   |  443 ++-
 .../test/scala/services/KafkaConnectorTests.scala  |  122 +-
 .../test/scala/system/basic/WskActionTests.scala   |  539 ++--
 .../scala/system/basic/WskBasicJavaTests.scala     |  126 +-
 .../scala/system/basic/WskBasicNodeTests.scala     |  206 +-
 .../scala/system/basic/WskBasicPythonTests.scala   |  193 +-
 .../scala/system/basic/WskBasicSwift311Tests.scala |    5 +-
 .../scala/system/basic/WskBasicSwift3Tests.scala   |   53 +-
 .../test/scala/system/basic/WskBasicTests.scala    | 1628 +++++-----
 .../test/scala/system/basic/WskConsoleTests.scala  |   84 +-
 .../test/scala/system/basic/WskPackageTests.scala  |  169 +-
 .../src/test/scala/system/basic/WskRuleTests.scala |  706 ++---
 .../src/test/scala/system/basic/WskSdkTests.scala  |  152 +-
 .../test/scala/system/basic/WskSequenceTests.scala |  936 +++---
 .../scala/system/basic/WskUnicodeJavaTests.scala   |    9 +-
 .../scala/system/basic/WskUnicodeNodeTests.scala   |    9 +-
 .../system/basic/WskUnicodePython2Tests.scala      |    9 +-
 .../system/basic/WskUnicodePython3Tests.scala      |    9 +-
 .../system/basic/WskUnicodeSwift311Tests.scala     |    9 +-
 .../scala/system/basic/WskUnicodeSwift3Tests.scala |    9 +-
 .../test/scala/system/basic/WskUnicodeTests.scala  |   49 +-
 .../test/scala/system/rest/ActionSchemaTests.scala |  143 +-
 .../test/scala/system/rest/GoCLINginxTests.scala   |   84 +-
 tests/src/test/scala/system/rest/JsonSchema.scala  |   24 +-
 .../test/scala/system/rest/JsonSchemaTests.scala   |   38 +-
 tests/src/test/scala/system/rest/RestUtil.scala    |   80 +-
 .../src/test/scala/system/rest/SwaggerTests.scala  |   43 +-
 .../src/test/scala/whisk/common/ConfigTests.scala  |   80 +-
 .../test/scala/whisk/common/SchedulerTests.scala   |  297 +-
 .../test/scala/whisk/core/WhiskConfigTests.scala   |  121 +-
 .../scala/whisk/core/admin/WskAdminTests.scala     |  275 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  781 +++--
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 1839 +++++------
 .../whisk/core/cli/test/JsonArgsForTests.scala     |  275 +-
 .../core/cli/test/SequenceMigrationTests.scala     |  158 +-
 .../scala/whisk/core/cli/test/Swift311Tests.scala  |    5 +-
 .../scala/whisk/core/cli/test/Swift3Tests.scala    |  216 +-
 .../core/cli/test/WskActionSequenceTests.scala     |   81 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 3191 ++++++++++----------
 .../scala/whisk/core/cli/test/WskConfigTests.scala |  448 +--
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  557 ++--
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  530 ++--
 .../core/connector/test/MessageFeedTests.scala     |  244 +-
 .../whisk/core/connector/test/TestConnector.scala  |  117 +-
 .../connector/tests/CompletionMessageTests.scala   |   69 +-
 .../docker/test/ActionLogDriverTests.scala         |  175 +-
 .../docker/test/ContainerConnectionTests.scala     |  156 +-
 .../docker/test/DockerClientTests.scala            |  200 +-
 .../test/DockerClientWithFileAccessTests.scala     |  232 +-
 .../docker/test/DockerContainerTests.scala         | 1103 +++----
 .../docker/test/ProcessRunnerTests.scala           |   32 +-
 .../docker/test/RuncClientTests.scala              |   80 +-
 .../containerpool/test/ContainerPoolTests.scala    |  686 ++---
 .../containerpool/test/ContainerProxyTests.scala   |  940 +++---
 .../actions/test/ActivationFinisherTests.scala     |  229 +-
 .../actions/test/SequenceAccountingTests.scala     |  200 +-
 .../core/controller/test/ActionsApiTests.scala     | 1544 +++++-----
 .../core/controller/test/ActivationsApiTests.scala |  640 ++--
 .../core/controller/test/AuthenticateTests.scala   |  164 +-
 .../core/controller/test/AuthenticateV2Tests.scala |   34 +-
 .../controller/test/ControllerTestCommon.scala     |  260 +-
 .../controller/test/EntitlementProviderTests.scala | 1108 +++----
 .../core/controller/test/NamespacesApiTests.scala  |   96 +-
 .../controller/test/PackageActionsApiTests.scala   | 1153 +++----
 .../core/controller/test/PackagesApiTests.scala    | 1336 ++++----
 .../core/controller/test/RateThrottleTests.scala   |   49 +-
 .../controller/test/RespondWithHeadersTests.scala  |   68 +-
 .../whisk/core/controller/test/RulesApiTests.scala | 1548 +++++-----
 .../core/controller/test/SequenceApiTests.scala    |  729 ++---
 .../core/controller/test/SwaggerRoutesTests.scala  |   28 +-
 .../core/controller/test/TriggersApiTests.scala    |  604 ++--
 .../core/controller/test/WebActionsApiTests.scala  | 2268 +++++++-------
 .../core/controller/test/WhiskAuthHelpers.scala    |   12 +-
 .../SequenceActionApiMigrationTests.scala          |  247 +-
 .../core/database/test/CacheConcurrencyTests.scala |  178 +-
 .../database/test/CleanUpActivationsTest.scala     |  162 +-
 .../database/test/CouchDbRestClientTests.scala     |  341 ++-
 .../database/test/DatabaseScriptTestUtils.scala    |  140 +-
 .../scala/whisk/core/database/test/DbUtils.scala   |  324 +-
 .../database/test/ExtendedCouchDbRestClient.scala  |   70 +-
 .../MultipleReadersSingleWriterCacheTests.scala    |   51 +-
 .../whisk/core/database/test/RemoveLogsTests.scala |  137 +-
 .../whisk/core/database/test/ReplicatorTests.scala |  760 ++---
 .../core/entity/test/ActivationResponseTests.scala |  308 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  518 ++--
 .../scala/whisk/core/entity/test/ExecHelpers.scala |   70 +-
 .../whisk/core/entity/test/ExecManifestTests.scala |  293 +-
 .../whisk/core/entity/test/MigrationEntities.scala |   63 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala | 1274 ++++----
 .../scala/whisk/core/entity/test/SizeTests.scala   |  230 +-
 .../scala/whisk/core/entity/test/ViewTests.scala   |  671 ++--
 .../whisk/core/entity/test/WhiskEntityTests.scala  |  195 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |  407 ++-
 .../whisk/core/limits/MaxActionDurationTests.scala |   62 +-
 .../test/InvokerSupervisionTests.scala             |  343 ++-
 .../loadBalancer/test/LoadBalancerDataTests.scala  |  226 +-
 .../test/LoadBalancerServiceObjectTests.scala      |  259 +-
 tests/src/test/scala/whisk/spi/SpiTests.scala      |   28 +-
 .../src/test/scala/whisk/test/http/RESTProxy.scala |  175 +-
 .../utils/test/ExecutionContextFactoryTests.scala  |   16 +-
 tools/travis/build.sh                              |    4 +
 233 files changed, 34930 insertions(+), 33204 deletions(-)

commit 83e9be07599a0c5dcbdece0a827c6f37f1661d01
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Sep 6 14:50:48 2017 -0400

    Make privilege escalation in ansible optional (#2669)

 ansible/group_vars/all                    | 16 ++++++++++++++++
 ansible/roles/cli/tasks/clean.yml         |  2 +-
 ansible/roles/cli/tasks/deploy.yml        |  1 +
 ansible/roles/controller/tasks/clean.yml  |  2 +-
 ansible/roles/controller/tasks/deploy.yml |  2 +-
 ansible/roles/invoker/tasks/clean.yml     |  4 ++--
 ansible/roles/invoker/tasks/deploy.yml    |  2 +-
 ansible/roles/nginx/tasks/clean.yml       |  4 ++--
 ansible/roles/nginx/tasks/deploy.yml      |  3 ++-
 ansible/roles/sdk/tasks/clean.yml         |  2 +-
 ansible/roles/sdk/tasks/deploy.yml        |  1 +
 11 files changed, 29 insertions(+), 10 deletions(-)

commit ff43578511c6f96311065ce7b90a1a1b1863ae2e
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Sep 6 08:06:00 2017 +0200

    Fix false assertion, refactor CacheInvalidationTests (#2698)

 .../src/test/scala/ha/CacheInvalidationTests.scala | 70 +++++++++-------------
 1 file changed, 28 insertions(+), 42 deletions(-)

commit e3746a11fabf8668df7e3d341408a7c2bd23579d
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Sep 6 00:12:48 2017 -0400

    Restore throttle check before each CLI call. (#2702)

 tests/src/test/scala/whisk/core/cli/test/ApiGwTests.scala | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 464c4b4935fd894eca6739b316e6109b19a66a79
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Sep 5 15:05:21 2017 -0400

    API gw test cleanup (#2493)
    
    * Replace unnecessary vars.
    Refactor check throttle.
    
    * Review comments.

 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  22 +-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 341 ++++++++++-----------
 2 files changed, 173 insertions(+), 190 deletions(-)

commit 3ebc67e5641ff44653015cd9c074ed6aaf98ee37
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Sep 5 14:00:14 2017 +0200

    Bump replication timeout, abort test with correct message (#2696)

 .../src/test/scala/whisk/core/database/test/ReplicatorTests.scala  | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit c50d9bec5e86a33911e7867de82a03e9462d54bd
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Sep 5 13:58:12 2017 +0200

    Wait for view in AuthenticateTests. (#2694)

 tests/src/test/scala/whisk/core/controller/test/AuthenticateTests.scala | 1 +
 1 file changed, 1 insertion(+)

commit 9adf7026c7b8d8cb8f13997d36a704bd344b58ae
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Sep 5 03:35:24 2017 -0400

    Add blocking indicator for activation request. (#2677)
    
    This allows non blocking requests to drop their results from the activeack response.

 common/scala/src/main/scala/whisk/core/connector/Message.scala |  3 ++-
 .../src/main/scala/whisk/core/entity/ActivationResult.scala    |  1 +
 .../src/main/scala/whisk/core/entity/WhiskActivation.scala     |  1 +
 .../src/main/scala/whisk/core/controller/RestAPIs.scala        |  2 +-
 .../scala/whisk/core/controller/actions/PrimitiveActions.scala |  1 +
 .../scala/whisk/core/entitlement/ActivationThrottler.scala     |  2 +-
 .../scala/whisk/core/loadBalancer/InvokerSupervision.scala     |  1 +
 .../scala/whisk/core/loadBalancer/LoadBalancerService.scala    |  2 +-
 .../main/scala/whisk/core/containerpool/ContainerProxy.scala   |  8 ++++----
 .../src/main/scala/whisk/core/invoker/InvokerReactive.scala    |  7 ++++---
 tests/src/test/scala/common/LoggedFunction.scala               | 10 ++++++++++
 .../whisk/core/containerpool/test/ContainerPoolTests.scala     |  3 ++-
 .../whisk/core/containerpool/test/ContainerProxyTests.scala    |  5 +++--
 .../whisk/core/loadBalancer/test/InvokerSupervisionTests.scala |  1 +
 14 files changed, 33 insertions(+), 14 deletions(-)

commit 182d1333d75739f53be34a6adaa04d631d82a049
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Sep 1 10:37:21 2017 +0200

    Remove deployment code to remove controllers without indexes. (#2688)

 ansible/roles/controller/tasks/clean.yml | 14 --------------
 1 file changed, 14 deletions(-)

commit b15a52e103540dab64f2c06c8787eb92b55ae7eb
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Aug 31 21:34:57 2017 -0400

    Fix handing of binary content-types in webactions (#2683)

 .../scala/whisk/core/controller/WebActions.scala   | 19 ++++++++-------
 tests/dat/actions/pngWeb.js                        | 13 ++++++++++
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 25 +++++++++++++++++++
 .../core/controller/test/WebActionsApiTests.scala  | 28 +++++++++++++++++++++-
 4 files changed, 75 insertions(+), 10 deletions(-)

commit c620ca55d70fd9ab0cc8f755cedc8cf459862d53
Author: Qaiser Abbasi <qabbasi@users.noreply.github.com>
Date:   Thu Aug 31 23:10:46 2017 +0200

    Ignore IntelliJ '.iml' project file (#2671)

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit e2bba5d2d4e1ff814186eb3a44fb4416aab2a2fd
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 31 16:38:06 2017 +0200

    Fix compile error because of subsequent merges. (#2679)

 .../src/main/scala/whisk/core/database/RemoteCacheInvalidation.scala    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b16b1ee8517472086251f72b17d6ba77250fbcce
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 31 15:39:18 2017 +0200

    Simplify Spi implementations. (#2663)
    
    Using `object`s instead of a hollow class as the "factory" for an Spi makes them being singleton by default, which reduces boilerplate to implement an Spi.
    
    The `Dependencies` object is not used anywhere and there might be better alternatives which we can decide on once the need of them comes up. For now, the Spi's interfaces are relatively tightly coupled to their current default implementations anyway.
    
    Also updated documentation.

 .../connector/kafka/KafkaMessagingProvider.scala   |   8 +-
 .../whisk/core/database/CouchDbStoreProvider.scala |  12 +-
 .../main/scala/whisk/core/entity/WhiskStore.scala  |   6 +-
 .../scala/src/main/scala/whisk/spi/SpiLoader.scala |  60 +--------
 .../core/loadBalancer/LoadBalancerService.scala    |   8 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   2 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |   2 +-
 docs/spi.md                                        |  57 ++++-----
 tests/src/test/resources/application.conf          |   2 -
 .../core/controller/test/ActivationsApiTests.scala |   2 +-
 tests/src/test/scala/whisk/spi/SpiTests.scala      | 136 ++-------------------
 11 files changed, 47 insertions(+), 248 deletions(-)

commit 78eb1f6f1fb5aae2dd12d1371391695fd92fe3af
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Aug 31 15:31:15 2017 +0200

    Add cache invalidation between controllers (#2624)
    
    CUD operations will generate cache invalidation traffic on dedicated message bus topic. These are picked up by other controllers which in turn invalidate their caches.

 ansible/roles/kafka/tasks/deploy.yml               |   5 +-
 .../whisk/core/database/DocumentFactory.scala      |  16 +-
 .../MultipleReadersSingleWriterCache.scala         |  48 +++--
 .../core/database/RemoteCacheInvalidation.scala    |  88 ++++++++++
 .../main/scala/whisk/core/entity/CacheKey.scala    |  55 ++++++
 .../main/scala/whisk/core/entity/Identity.scala    |   6 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |   4 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |   1 -
 .../scala/whisk/core/entity/WhiskPackage.scala     |   1 -
 .../main/scala/whisk/core/entity/WhiskRule.scala   |   1 -
 .../scala/whisk/core/entity/WhiskTrigger.scala     |   1 -
 .../main/scala/whisk/core/controller/Actions.scala |   4 +
 .../scala/whisk/core/controller/ApiUtils.scala     |   7 +-
 .../scala/whisk/core/controller/Controller.scala   |   7 +
 .../scala/whisk/core/controller/Packages.scala     |   4 +
 .../scala/whisk/core/controller/RestAPIs.scala     |  39 +++--
 .../main/scala/whisk/core/controller/Rules.scala   |   4 +
 .../scala/whisk/core/controller/Triggers.scala     |   6 +-
 .../core/controller/actions/SequenceActions.scala  |   2 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  20 ++-
 .../scala/whisk/core/invoker/InvokerReactive.scala |   2 +-
 .../src/test/scala/ha/CacheInvalidationTests.scala | 179 +++++++++++++++++++
 .../core/controller/test/ActionsApiTests.scala     |   6 +-
 .../core/controller/test/AuthenticateTests.scala   |   4 +-
 .../controller/test/ControllerTestCommon.scala     |   8 +-
 .../MultipleReadersSingleWriterCacheTests.scala    | 195 +++------------------
 .../whisk/core/entity/test/DatastoreTests.scala    |   3 +
 .../whisk/core/entity/test/MigrationEntities.scala |   2 -
 28 files changed, 477 insertions(+), 241 deletions(-)

commit cfd34c084bcd995876a3672ee715b7c814459cd4
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 30 23:16:52 2017 -0400

    Pretty print webaction JSON response. (#2643)
    
    * Pretty print webaction JSON response.
    
    Add pretty/compact printers in singleton common to controller, and use it for error responses, API response and webactions.
    
    * Tidy up a match.
    
    * Remove extra space.

 .../main/scala/whisk/core/entity/WhiskAction.scala |  7 +++---
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  6 +++--
 .../main/scala/whisk/core/controller/Actions.scala |  4 ++++
 .../scala/whisk/core/controller/Activations.scala  |  3 +++
 .../scala/whisk/core/controller/ApiUtils.scala     |  6 +++++
 .../controller/AuthorizedRouteDispatcher.scala     |  4 ++++
 .../scala/whisk/core/controller/Entities.scala     | 19 +++++++--------
 .../scala/whisk/core/controller/Namespaces.scala   |  3 +++
 .../scala/whisk/core/controller/Packages.scala     |  3 +++
 .../scala/whisk/core/controller/RestAPIs.scala     | 11 +++++++--
 .../main/scala/whisk/core/controller/Rules.scala   |  3 +++
 .../scala/whisk/core/controller/Triggers.scala     |  3 +++
 .../scala/whisk/core/controller/WebActions.scala   | 17 +++++++-------
 .../scala/whisk/core/invoker/InvokerReactive.scala |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  | 27 ++++++++--------------
 15 files changed, 74 insertions(+), 44 deletions(-)

commit 5891f21435e8868a00806d4ecaeb01810545de74
Author: David Cariello <drcariel@us.ibm.com>
Date:   Wed Aug 30 19:17:11 2017 -0500

    remove experimental web actions support

 .../scala/whisk/core/controller/RestAPIs.scala     |   8 +-
 .../scala/whisk/core/controller/WebActions.scala   |  20 +--
 tests/src/test/scala/common/Wsk.scala              |  93 ------------
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 163 +++++++++------------
 .../core/controller/test/WebActionsApiTests.scala  |  25 +---
 5 files changed, 80 insertions(+), 229 deletions(-)

commit a00d516ee8943a8bd4449a0ad11482d07abd1cfa
Author: rodric rabbah <rodric@gmail.com>
Date:   Sun Aug 27 09:31:21 2017 -0400

    Update webhook. (#2642)

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4f98cf61b03a6ed8efc4e620c96c499edfd444c1
Author: David Cariello <drcariel@us.ibm.com>
Date:   Thu Aug 24 14:26:30 2017 -0500

    remove API GW V1 group vars (#2649)
    
    * remove api GW V1 group vars and .md reference
    
    * remove GW_HOST form install scripts

 ansible/environments/distributed/group_vars/all    | 1 -
 ansible/environments/docker-machine/group_vars/all | 1 -
 ansible/environments/local/group_vars/all          | 1 -
 ansible/roles/routemgmt/files/installRouteMgmt.sh  | 2 --
 ansible/templates/whisk.properties.j2              | 1 -
 docs/apigateway.md                                 | 2 --
 6 files changed, 8 deletions(-)

commit 22799dcde3558ff9f7a213d496ec7dc9f57a86b3
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 24 07:51:27 2017 +0200

    Apply prereqs serially to prevent installation conflicts. (#2664)
    
    Using the same host for different "machines" seems to cause trouble when trying to concurrently install packages.

 ansible/prereq.yml | 1 +
 1 file changed, 1 insertion(+)

commit e5c4bf0f1e25548406266aec813ab21c5ebcebef
Author: Vincent <shou@us.ibm.com>
Date:   Wed Aug 23 10:09:05 2017 -0400

    Rename CliActivationResponse & CliActivation, and change them from (#2592)
    
    This PR renames the class CliActivation and CliActivationResponse
    and makes them available to be accessed from another package, because
    REST call can use both of the classes as well.
    
    Partially-closes-bug: #2430

 tests/src/test/scala/common/WskTestHelpers.scala   | 153 +++++++++++++--------
 .../test/scala/system/basic/WskActionTests.scala   |   5 +-
 .../test/scala/system/basic/WskBasicTests.scala    |   3 +-
 .../test/scala/system/basic/WskSequenceTests.scala |   5 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |   5 +-
 5 files changed, 106 insertions(+), 65 deletions(-)

commit cfd181b30d0c7af622d8f0af3768bf1602cdf355
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Aug 23 13:49:13 2017 +0200

    Use the stale parameter on listing activations. (#2632)

 .../scala/whisk/core/database/ArtifactStore.scala  | 10 ++++-
 .../whisk/core/database/CouchDbRestClient.scala    |  2 +
 .../whisk/core/database/CouchDbRestStore.scala     |  3 +-
 .../main/scala/whisk/core/entity/Identity.scala    |  6 ++-
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 47 +++++++++++++---------
 .../scala/whisk/core/controller/Activations.scala  | 23 ++++++-----
 .../test/scala/system/basic/WskConsoleTests.scala  |  2 +-
 .../scala/whisk/core/database/test/DbUtils.scala   |  3 +-
 .../scala/whisk/core/entity/test/ViewTests.scala   | 13 +++---
 9 files changed, 68 insertions(+), 41 deletions(-)

commit bb35e9cda94e246997fd8a4f81ecec396c2788cf
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Aug 22 13:13:42 2017 +0200

    Allow multiple controllers and invokers in local environments. (#2633)

 ansible/environments/distributed/hosts             | 26 +++++++++++++---------
 ansible/environments/docker-machine/group_vars/all |  4 +++-
 ansible/environments/docker-machine/hosts.j2.ini   | 20 ++++++++---------
 ansible/environments/local/group_vars/all          |  4 +++-
 ansible/environments/local/hosts                   | 21 +++++++++--------
 ansible/environments/mac/group_vars/all            |  2 ++
 ansible/environments/mac/hosts                     | 21 +++++++++--------
 ansible/group_vars/all                             |  2 ++
 ansible/logs.yml                                   |  9 ++++----
 ansible/provision_env_dist.yml                     |  2 +-
 ansible/roles/apigateway/tasks/deploy.yml          |  2 +-
 ansible/roles/controller/tasks/deploy.yml          |  2 +-
 ansible/roles/couchdb/tasks/deploy.yml             |  6 ++---
 ansible/roles/invoker/tasks/deploy.yml             | 16 +++++++------
 ansible/roles/kafka/tasks/deploy.yml               | 10 ++++-----
 ansible/roles/nginx/templates/nginx.conf.j2        |  8 +++----
 ansible/roles/redis/tasks/deploy.yml               |  2 +-
 ansible/roles/registry/tasks/deploy.yml            |  4 ++--
 ansible/roles/whiskhost/tasks/patchKernel.yml      |  9 ++++++--
 ansible/templates/whisk.properties.j2              |  6 ++---
 20 files changed, 98 insertions(+), 78 deletions(-)

commit 0ba4418c0bef83a9a04fdf1dfbfc23079fe22cd8
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Aug 22 10:27:35 2017 +0200

    Readd BasicHttpService log line (#2654)

 .../main/scala/whisk/http/BasicHttpService.scala   | 24 +++++++++-------------
 1 file changed, 10 insertions(+), 14 deletions(-)

commit eeeb74971085ba47d1bcb5496c84747c907d0de1
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Aug 21 13:10:47 2017 -0400

    remove nodes and clean ansible/couchdb (#2655)

 tools/jenkins/apache/dockerhub.groovy | 50 +++--------------------------------
 1 file changed, 4 insertions(+), 46 deletions(-)

commit ed0f7413cdbace41fba796deb7ef05cfe1ef2ac1
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Aug 21 14:36:07 2017 +0200

    Bump toStrictEntity timeout to 30 seconds. (#2644)
    
    1 second is a rather small timeout for `toStrictEntity`. If a garbage collection hits around it, requests might randomly and unnecessary fail. Bumping that timeout to something quite high shouldn't impact general operations at all.

 common/scala/src/main/scala/whisk/http/BasicHttpService.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 08e6ff4da684860e93839af5761cb12f2642bfde
Author: ningyougang <415622920@qq.com>
Date:   Sun Aug 20 01:37:00 2017 +0800

    Remove defaultLimits and establish proper limit override method. (#2595)

 ansible/README.md                                  | 34 ++++++++++++----------
 ansible/environments/distributed/group_vars/all    | 10 -------
 ansible/environments/docker-machine/group_vars/all | 10 -------
 ansible/environments/local/group_vars/all          | 10 -------
 ansible/environments/mac/group_vars/all            | 10 -------
 ansible/group_vars/all                             | 17 ++++-------
 ansible/roles/controller/tasks/deploy.yml          | 14 ++++-----
 ansible/templates/whisk.properties.j2              | 16 ++++------
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 16 ++++------
 .../main/scala/whisk/core/controller/Actions.scala |  2 +-
 .../scala/whisk/core/controller/Controller.scala   |  4 +--
 .../scala/whisk/core/entitlement/Entitlement.scala | 15 ++++------
 tests/src/test/scala/common/WhiskProperties.java   |  3 --
 tests/src/test/scala/limits/ThrottleTests.scala    | 15 ++++------
 .../test/scala/system/basic/WskSequenceTests.scala |  2 +-
 15 files changed, 54 insertions(+), 124 deletions(-)

commit 68c5e35a25b6dbdbf8a58f24384204b5a57edce6
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Aug 18 10:47:07 2017 +0200

    Remove spray-caching dependency. (#2628)
    
    Spray-caching is the caching module of the by us no longer used spray-http server. Our own implementation of the cache is there already anyway and keeping spray-caching binds us to Scala 2.11.

 common/scala/build.gradle                          |  1 -
 .../scala/whisk/core/database/InMemoryCache.scala  | 73 ----------------------
 .../MultipleReadersSingleWriterCache.scala         | 46 +++++++++-----
 3 files changed, 29 insertions(+), 91 deletions(-)

commit 4bf22365d1dbee6719de0a83e2fa2eea7d68c3cf
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Aug 17 21:50:36 2017 +0100

    Install composer in its own layer (#2641)
    
    Composer installation seems to fail sometimes in the CI build
    environment. Move the installation of composer to a separate layer and
    separate the download of the file via curl from the installation
    process. Finally, run `composer --version` to ensure that it has been
    installed correctly.

 core/php7.1Action/Dockerfile | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 769774669d64ba73b2ee2ee47e5a177c962cdaa7
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 17 13:54:34 2017 -0400

    Loosen formdata check. (#2637)

 .../main/scala/whisk/core/controller/WebActions.scala |  2 +-
 .../core/controller/test/WebActionsApiTests.scala     | 19 ++++++++++++-------
 2 files changed, 13 insertions(+), 8 deletions(-)

commit d6edfde20b3fbaa5ff173761717e8158f28910b3
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 17 11:45:43 2017 -0400

    Patch posting of trigger activation. (#2613)

 .../scala/whisk/core/controller/Triggers.scala     | 30 ++++++++++++----------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit 20f400ea4155135533547b4dc5c294c758968720
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Aug 17 15:40:57 2017 +0200

    Add retry to rate-throttle tests. (#2616)

 tests/src/test/scala/limits/ThrottleTests.scala | 21 +++++++++++++++++----
 1 file changed, 17 insertions(+), 4 deletions(-)

commit 45d4325072c5bc261f5cd375980476ca0d5d85cb
Author: Sayat <sayatez@gmail.com>
Date:   Thu Aug 17 04:18:40 2017 +0200

    Fix potential resource leak in Wsk.scala (#2610)

 tests/src/test/scala/common/Wsk.scala | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 4667e60ff7c3b263b2dd06a86158a37b10d81e5c
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Aug 16 22:12:29 2017 -0400

    Fix illegal header warnings for web actions specifying content type (#2619)

 .../scala/whisk/core/controller/WebActions.scala   |  9 ++--
 tests/dat/actions/base64Web.js                     |  9 ++++
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 63 ++++++++++++++--------
 .../core/controller/test/WebActionsApiTests.scala  |  1 -
 4 files changed, 55 insertions(+), 27 deletions(-)

commit f05058a959848d6524601f6814ac527561c32d46
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 17 03:27:58 2017 +0200

    Collapse multiple concurrent pulls of the same image. (#2626)
    
    Multiple concurrent calls of `docker pull` to the same image create unnecessary network traffic. Instead, all of those calls are collapsed into the first calls. After that call finished, a subsequent pull will result in a `docker pull` again to enable updates to the same image, without having to work with tags for convenience.

 .../core/containerpool/docker/DockerClient.scala   | 11 +++++++-
 .../docker/test/DockerClientTests.scala            | 33 +++++++++++++++++++++-
 2 files changed, 42 insertions(+), 2 deletions(-)

commit d9253369f27e2783adc89ce74c4ea0f6673e1562
Author: Rob Allen <rob@akrabat.com>
Date:   Wed Aug 16 19:31:39 2017 +0100

    Update CLI readme with cross platform information (#2625)
    
    Add information on how to build the CLI binaries for the other
    platforms.

 tools/cli/README.md | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 3f4ac08d00cdb2803f0af694cc2dd458488b9a1e
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 16 14:08:38 2017 -0400

    Remove unnecessary Actor conflation. (#2608)

 .../main/scala/whisk/http/BasicHttpService.scala   | 77 +++++++++-------------
 .../scala/whisk/core/controller/Controller.scala   | 34 +++++-----
 .../scala/whisk/core/controller/RestAPIs.scala     |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  9 ++-
 .../scala/whisk/core/invoker/InvokerServer.scala   | 10 +--
 5 files changed, 53 insertions(+), 79 deletions(-)

commit de8340a8c5351d0f1935f0734684334c79e37073
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 16 12:50:52 2017 -0400

    Support json response in HTTP web actions without base64 encoding. (#2609)

 .../scala/whisk/core/controller/WebActions.scala   | 33 +++++++++++---
 docs/webactions.md                                 |  6 ++-
 .../core/controller/test/WebActionsApiTests.scala  | 52 ++++++++++++++++++++--
 3 files changed, 79 insertions(+), 12 deletions(-)

commit ee2830f5a89f10b5cbc40a92560c28e9671f0fb6
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Aug 16 18:06:46 2017 +0200

    Use Java based JsonSchema validator (#2565)

 tests/build.gradle                                 |  2 +
 tests/src/test/scala/system/rest/JsonSchema.scala  | 17 +++++----
 .../test/scala/system/rest/JsonSchemaTests.scala   |  2 +-
 tools/jenkins/apache/dockerhub.groovy              |  1 -
 tools/json/validate.py                             | 43 ----------------------
 tools/macos/README.md                              |  2 +-
 tools/macos/docker-machine/README.md               |  2 +-
 tools/travis/setup.sh                              |  1 -
 tools/ubuntu-setup/pip.sh                          |  1 -
 9 files changed, 14 insertions(+), 57 deletions(-)

commit 10fae73e15cf886bb3ad892e659b15a28cc4c80b
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Aug 16 17:57:46 2017 +0200

    Remove old invoker code and refactor accordingly. (#2602)
    
    - Refactoring the invoker for better encapsulation and separation of concerns in its packages.
    - Removing Dispatcher.
    - Remove unused properties from the deployment manifests.
    - Add error handling for terminal failures

 ansible/environments/docker-machine/group_vars/all |   3 -
 ansible/environments/local/group_vars/all          |   3 -
 ansible/environments/mac/group_vars/all            |   3 -
 ansible/group_vars/all                             |   4 -
 ansible/roles/invoker/tasks/deploy.yml             |   5 -
 ansible/templates/whisk.properties.j2              |   4 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  12 -
 .../scala/whisk/core/container/Container.scala     | 119 ---
 .../scala/whisk/core/container/ContainerPool.scala | 846 ---------------------
 .../whisk/core/container/ContainerUtils.scala      | 329 --------
 .../scala/whisk/core/container/RuncUtils.scala     |  80 --
 .../whisk/core/container/WhiskContainer.scala      | 176 -----
 .../main/scala/whisk/core/container/package.scala  | 150 ----
 .../scala/whisk/core/containerpool/Container.scala |  15 +-
 .../whisk/core/containerpool/ContainerProxy.scala  |   1 -
 .../docker/DockerActionLogDriver.scala}            |  11 +-
 .../containerpool/docker/DockerContainer.scala     |  16 +-
 .../docker}/HttpUtils.scala                        |   8 +-
 .../scala/whisk/core/dispatcher/Dispatcher.scala   | 159 ----
 .../whisk/core/dispatcher/MessageHandler.scala     |  39 -
 .../main/scala/whisk/core/invoker/Invoker.scala    | 460 +----------
 .../scala/whisk/core/invoker/InvokerReactive.scala | 161 ++--
 .../scala/actionContainers/ActionContainer.scala   |   2 +-
 .../core/container/test/ContainerPoolTests.scala   | 279 -------
 .../docker/test}/ActionLogDriverTests.scala        |  14 +-
 .../docker}/test/ContainerConnectionTests.scala    |  10 +-
 .../docker/test/DockerContainerTests.scala         |   8 +-
 .../containerpool/test/ContainerProxyTests.scala   |   1 -
 .../core/dispatcher/test/DispatcherTests.scala     | 155 ----
 .../test/ActivationResponseTests.scala             |   6 +-
 30 files changed, 160 insertions(+), 2919 deletions(-)

commit e47cc71bcd73ebb3da352eeadcc4236630680e92
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Aug 16 17:53:58 2017 +0200

    Revert "Temporalily use published swift3Action. (#2580)" (#2603)
    
    This reverts commit 49ac756064905da0bcba8ed9978a3e29dd8c04dc.

 core/swift3Action/Dockerfile | 69 +++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 68 insertions(+), 1 deletion(-)

commit 9af3c78e0d1b29c51b82238d611f3c2a9c2cbc60
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Aug 16 15:27:57 2017 +0200

    Bumping to gradle 4.1. (#2399)
    
    Refer to https://docs.gradle.org/current/release-notes.html for the full release notes.
    
    - Zinc updated (incremental Scala compiler)
    - Better logging for parallel tasks (useful locally when working with redo)
    - Build cache improvements

 gradle/wrapper/gradle-wrapper.jar        | Bin 54783 -> 54708 bytes
 gradle/wrapper/gradle-wrapper.properties |   3 +--
 gradlew                                  |   6 +++---
 tests/build.gradle                       |   2 +-
 4 files changed, 5 insertions(+), 6 deletions(-)

commit 3553d0e9591975c8f7eda7c608f2c8ac2f12ebe2
Author: ningyougang <415622920@qq.com>
Date:   Wed Aug 16 19:32:49 2017 +0800

    Check for invoker image when asserting non-duplicate invokers. (#2585)

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c68f2c16021b46da68b003c0ebc7812a3d803806
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue Aug 15 10:05:11 2017 -0400

    Update kafka_python to 1.3.4 (#2618)
    
    This version contains important fixes to limit the number of connections made during bootstrapping

 core/pythonAction/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c2a94627f7f054bffca3b6b99a91cb01171dc965
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sun Aug 13 18:41:53 2017 +0200

    Make LoadbalancerData leaner. (#2587)
    
    LoadbalancerData keeps a lot of data it doesn't need. Upon fetching a copy of this data, it creates copies which can be expensive, the more user are in the system.

 .../core/entitlement/ActivationThrottler.scala     | 30 +--------
 .../whisk/core/loadBalancer/LoadBalancerData.scala | 39 +++++++-----
 .../core/loadBalancer/LoadBalancerService.scala    | 17 ++---
 .../controller/test/ControllerTestCommon.scala     |  3 +-
 .../loadBalancer/test/LoadBalancerDataTests.scala  | 72 +++++++++-------------
 5 files changed, 67 insertions(+), 94 deletions(-)

commit d564ea98743625d56df5d8c060574ba5b10d7f3b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Sat Aug 12 10:38:55 2017 -0400

    Port Controller from Spray to Akka (#2218)
    
    * Port Controller from Spray to Akka
    * Increase max-connections and Update JSON Unmarshaller

 common/scala/build.gradle                          |   7 +-
 common/scala/src/main/resources/application.conf   |   2 +-
 .../src/main/scala/whisk/common/HttpClient.scala   |  43 ---
 .../scala/whisk/core/entity/ActivationResult.scala |   4 +-
 .../main/scala/whisk/http/BasicHttpService.scala   | 140 +++++----
 .../main/scala/whisk/http/BasicRasService.scala    |   2 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  33 +--
 .../controller/src/main/resources/application.conf |  77 +++--
 .../main/scala/whisk/core/controller/Actions.scala |  47 +--
 .../scala/whisk/core/controller/Activations.scala  |  47 ++-
 .../scala/whisk/core/controller/ApiUtils.scala     |  22 +-
 .../scala/whisk/core/controller/Authenticate.scala |  22 +-
 .../whisk/core/controller/AuthenticatedRoute.scala |  29 +-
 .../controller/AuthorizedRouteDispatcher.scala     |  22 +-
 .../scala/whisk/core/controller/Controller.scala   |  81 ++---
 .../scala/whisk/core/controller/Entities.scala     |  36 ++-
 .../scala/whisk/core/controller/Namespaces.scala   |  14 +-
 .../scala/whisk/core/controller/Packages.scala     |  14 +-
 .../scala/whisk/core/controller/RestAPIs.scala     | 327 +++++++++++----------
 .../main/scala/whisk/core/controller/Rules.scala   |  15 +-
 .../scala/whisk/core/controller/Triggers.scala     |  74 ++---
 .../scala/whisk/core/controller/WebActions.scala   | 115 ++++----
 .../controller/actions/PostActionActivation.scala  |   4 +-
 .../core/controller/actions/SequenceActions.scala  |   1 +
 .../whisk/core/entitlement/ActionCollection.scala  |   3 +-
 .../scala/whisk/core/entitlement/Collection.scala  |  14 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  11 +-
 .../whisk/core/entitlement/LocalEntitlement.scala  |   3 +-
 .../whisk/core/entitlement/PackageCollection.scala |   5 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   7 +-
 .../scala/whisk/core/invoker/InvokerServer.scala   |  15 +-
 tests/build.gradle                                 |   5 +-
 tests/src/test/scala/services/HeadersTests.scala   | 106 +++----
 .../test/scala/system/basic/WskSequenceTests.scala |   5 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |   2 +-
 .../core/controller/test/ActionsApiTests.scala     | 139 ++++-----
 .../core/controller/test/ActivationsApiTests.scala |  58 ++--
 .../core/controller/test/AuthenticateTests.scala   |  62 +---
 .../core/controller/test/AuthenticateV2Tests.scala |   5 +-
 .../controller/test/ControllerTestCommon.scala     |   9 +-
 .../controller/test/EntitlementProviderTests.scala |   3 +-
 .../core/controller/test/NamespacesApiTests.scala  |  28 +-
 .../controller/test/PackageActionsApiTests.scala   |  92 +++---
 .../core/controller/test/PackagesApiTests.scala    | 106 +++----
 .../controller/test/RespondWithHeadersTests.scala  |  18 +-
 .../whisk/core/controller/test/RulesApiTests.scala | 114 +++----
 .../core/controller/test/SequenceApiTests.scala    |  47 +--
 .../core/controller/test/SwaggerRoutesTests.scala  |  14 +-
 .../core/controller/test/TriggersApiTests.scala    |  64 ++--
 .../core/controller/test/WebActionsApiTests.scala  | 181 ++++++------
 .../SequenceActionApiMigrationTests.scala          |  20 +-
 51 files changed, 1155 insertions(+), 1159 deletions(-)

commit ecd9550d2636cd72aff2efa5fcca49653b33e849
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Aug 11 08:46:41 2017 +0200

    Remove databases of old ReplicatorTests that failed. (#2600)
    
    Makes sure subsequent runs of ReplicatorTests are not impacting each other by removing potentially left-over databases at the beginning of the test.

 .../test/scala/whisk/core/database/test/ReplicatorTests.scala | 11 +++++++++++
 tools/db/replicateDbs.py                                      |  2 +-
 2 files changed, 12 insertions(+), 1 deletion(-)

commit fe420184641134c411b4629e5edfee62140338ef
Author: Brandon Lee Underwood <Brandon.Lee.Underwood@ibm.com>
Date:   Thu Aug 10 21:47:07 2017 -0400

    Allow CLI to sort entities by name (#2326)
    
    - Created interfaces `Printables` and `Sortables`
    - Made Actions, Triggers, Packages, Rules, APIs into Printables and Sortables
    - Made Activations into Printables and Sortables, Sort currently undefined
    - Made alphabetic sorting default, sort by last update time with --time flag
    - Changed sorting default back to last update time, --sort flag for alphabetical sorting
    - Updated flag name to "--name-sort"/"-n"
    - Updated Docs
    - Fixed rule status printing for `wsk list` and `wsk namespace get`

 docs/actions.md                                    |  28 +++-
 docs/apigateway.md                                 |  30 ++--
 tests/src/test/scala/common/Wsk.scala              |  25 +++-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     |  39 ++++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 135 +++++++++++++++++
 tools/cli/go-whisk-cli/commands/action.go          |   4 +-
 tools/cli/go-whisk-cli/commands/activation.go      |   2 +-
 tools/cli/go-whisk-cli/commands/api.go             | 120 +++++++++------
 tools/cli/go-whisk-cli/commands/flags.go           |   1 +
 tools/cli/go-whisk-cli/commands/namespace.go       |  25 +++-
 tools/cli/go-whisk-cli/commands/package.go         |   4 +-
 tools/cli/go-whisk-cli/commands/rule.go            |   5 +-
 tools/cli/go-whisk-cli/commands/trigger.go         |   4 +-
 tools/cli/go-whisk-cli/commands/util.go            | 162 ++++++++++++---------
 tools/cli/go-whisk-cli/commands/wsk.go             |   2 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  19 ++-
 tools/cli/go-whisk/whisk/action.go                 |  45 ++++++
 tools/cli/go-whisk/whisk/activation.go             |  20 +++
 tools/cli/go-whisk/whisk/api.go                    |  89 ++++++++++-
 tools/cli/go-whisk/whisk/namespace.go              |  29 ++++
 tools/cli/go-whisk/whisk/package.go                |  39 +++++
 tools/cli/go-whisk/whisk/rule.go                   |  32 +++-
 tools/cli/go-whisk/whisk/trigger.go                |  34 ++++-
 tools/cli/go-whisk/whisk/util.go                   |  15 ++
 24 files changed, 750 insertions(+), 158 deletions(-)

commit c2c44c3c45c46d42c4c8042c0288e094607dbd68
Author: Brandon Lee Underwood <Brandon.Lee.Underwood@ibm.com>
Date:   Thu Aug 10 21:42:13 2017 -0400

    Allow FQN with 3 parts (namespace/package/action) to be input with/without leading slash in CLI (#2424)

 docs/reference.md                                  |  19 +-
 tests/src/test/scala/common/Wsk.scala              |   2 +-
 .../test/scala/system/basic/WskActionTests.scala   |   1 -
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  29 +++
 tools/cli/go-whisk-cli/commands/action.go          | 108 +++++------
 tools/cli/go-whisk-cli/commands/activation.go      |  10 +-
 tools/cli/go-whisk-cli/commands/api.go             |  23 ++-
 tools/cli/go-whisk-cli/commands/namespace.go       |  12 +-
 tools/cli/go-whisk-cli/commands/package.go         | 109 +++++------
 tools/cli/go-whisk-cli/commands/qualified_name.go  | 215 +++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/rule.go            |  82 ++++----
 tools/cli/go-whisk-cli/commands/shared.go          |  13 --
 tools/cli/go-whisk-cli/commands/trigger.go         | 108 +++++------
 tools/cli/go-whisk-cli/commands/util.go            | 122 ------------
 14 files changed, 482 insertions(+), 371 deletions(-)

commit 9ba89ac3754c63a139608eca053e156b68a203be
Author: Brandon Lee Underwood <Brandon.Lee.Underwood@ibm.com>
Date:   Thu Aug 10 21:36:31 2017 -0400

    Summary updates for actions without annotated descriptions: (#2490)
    
    * Added '(parameters: none defined)' when getting entity with no parameters
    * Function builds generic description from parameters
    * Added testing for Actions, Triggers, and Packages
    * Finalized actions now denoted by "*"
    * Update help file to reflect action summary changes
    * Parameters marked as bound and final
    * Bound parameters prefixed by "*", finalized parameters denoted by "**"
    * Testing for trigger/action/package get summary cases, including bound and finalized for actions
    * Updated docs

 docs/actions.md                                    |  18 +-
 docs/packages.md                                   |  55 +++--
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 245 +++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/action.go          |   2 +-
 tools/cli/go-whisk-cli/commands/package.go         |   2 +-
 tools/cli/go-whisk-cli/commands/trigger.go         |   2 +-
 tools/cli/go-whisk-cli/commands/util.go            |  91 +++++++-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  12 +-
 8 files changed, 388 insertions(+), 39 deletions(-)

commit 28d2a68dcc4d8a8cf52f8cef4880045596f03cbb
Author: Sang Heon Lee <developistBV@gmail.com>
Date:   Thu Aug 10 23:00:36 2017 +0900

    Fix ansible script for distributed environment (#2557)
    
    * Fix ansible script for distributed environment
    
    * Add limits config in distributed environment

 ansible/environments/distributed/group_vars/all      | 12 +++++++++++-
 ansible/environments/distributed/hosts               |  2 ++
 ansible/roles/cli/tasks/copy_local_openwhisk_cli.yml |  2 +-
 ansible/roles/cli/tasks/deploy.yml                   |  4 ----
 4 files changed, 14 insertions(+), 6 deletions(-)

commit 374c10937e3a9b18869d713d7e0a69823e7590a2
Author: ningyougang <415622920@qq.com>
Date:   Thu Aug 10 10:36:01 2017 +0800

    Fix bug on ansible variable db_prefix (#2594)

 ansible/environments/distributed/group_vars/all    | 2 +-
 ansible/environments/docker-machine/group_vars/all | 2 +-
 ansible/environments/local/group_vars/all          | 2 +-
 ansible/environments/mac/group_vars/all            | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit cb5d98a9367cab7dcf80181a15c955d55308c970
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Aug 9 13:18:50 2017 -0400

    Ensure Action Update Creates a Web Action (#2435)
    
    * Ensure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web ActionEnsure Action Update Creates a Web Action
    
    * Ensure Existing Annotations are Overwritten
    - Overwrite annotations that have matching keys with most recent values

 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 75 +++++++++++++++++++---
 tools/cli/go-whisk-cli/commands/action.go          | 33 ++++++----
 tools/cli/go-whisk-cli/commands/activation.go      | 18 +++---
 tools/cli/go-whisk-cli/commands/api.go             | 52 +++++++--------
 tools/cli/go-whisk-cli/commands/commands.go        | 24 ++++---
 tools/cli/go-whisk-cli/commands/namespace.go       |  4 +-
 tools/cli/go-whisk-cli/commands/package.go         | 32 ++++-----
 tools/cli/go-whisk-cli/commands/property.go        | 24 +++----
 tools/cli/go-whisk-cli/commands/rule.go            | 22 +++----
 tools/cli/go-whisk-cli/commands/sdk.go             | 30 ++++-----
 tools/cli/go-whisk-cli/commands/shared.go          |  4 +-
 tools/cli/go-whisk-cli/commands/trigger.go         | 32 ++++-----
 tools/cli/go-whisk-cli/commands/util.go            | 58 ++++++++---------
 tools/cli/go-whisk/whisk/action.go                 | 12 ++--
 tools/cli/go-whisk/whisk/activation.go             | 10 +--
 tools/cli/go-whisk/whisk/api.go                    | 28 ++++----
 tools/cli/go-whisk/whisk/client.go                 | 38 +++++------
 tools/cli/go-whisk/whisk/info.go                   |  4 +-
 tools/cli/go-whisk/whisk/namespace.go              |  4 +-
 tools/cli/go-whisk/whisk/package.go                | 12 ++--
 tools/cli/go-whisk/whisk/rule.go                   | 14 ++--
 tools/cli/go-whisk/whisk/sdk.go                    |  2 +-
 tools/cli/go-whisk/whisk/shared.go                 | 28 +++++++-
 tools/cli/go-whisk/whisk/trigger.go                | 14 ++--
 tools/cli/go-whisk/whisk/util.go                   |  4 +-
 tools/cli/go-whisk/whisk/wskerror.go               | 11 ++--
 26 files changed, 339 insertions(+), 250 deletions(-)

commit a9ed97cb04dec46adba998db13862cade154bf04
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Aug 9 16:21:49 2017 +0200

    Readd number of controller instances to the controller (#2596)

 ansible/roles/controller/tasks/deploy.yml                             | 1 +
 core/controller/src/main/scala/whisk/core/controller/Controller.scala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 6660a0d34a025d87705b55045c267f882a3a104c
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Aug 7 08:30:10 2017 +0200

    Add ability to add own environments without polluting git

 .gitignore | 7 +++++++
 1 file changed, 7 insertions(+)

commit 65ac37ce7c2a581e7092d4d290aa55855d0c41e5
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Aug 4 07:06:17 2017 +0300

    Update zookeeper package

 common/scala/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e95f0240eec7ea3aded961a6671f16d75c03a17
Author: David Cariello <drcariel@us.ibm.com>
Date:   Tue Aug 8 12:14:35 2017 -0500

    Remove "experimental" gateway api (#2547)

 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  30 +-
 tests/dat/apigw/testswaggerdoc1                    | 104 ++-
 tests/dat/apigw/testswaggerdoc1V2                  |  61 --
 tests/dat/apigw/testswaggerdoc2                    | 272 +++----
 tests/dat/apigw/testswaggerdoc2V2                  | 117 ----
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  73 +-
 tests/src/test/scala/common/Wsk.scala              |   8 -
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 283 +-------
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 475 ++-----------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  95 +--
 tools/cli/go-whisk-cli/commands/api.go             | 778 ++-------------------
 tools/cli/go-whisk-cli/commands/wsk.go             |   1 -
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  12 -
 tools/cli/go-whisk/whisk/api.go                    | 220 +-----
 14 files changed, 269 insertions(+), 2260 deletions(-)

commit cbacd967794db8180b4ddb31cc7907f88e0af6fb
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Aug 8 13:37:43 2017 +0200

    Use non-blocking techniques when interfacing to Kafka. (#2582)
    
    Producing a message can be done with a callback upon receiving the message, effectively acting as a non-blocking API.
    
    Consuming a message is a bit trickier. Adding `blocking` instructs the default dispatcher to create new threads if necessary.

 .../connector/kafka/KafkaProducerConnector.scala   | 16 +++++++++++----
 .../whisk/core/connector/MessageConsumer.scala     | 23 ++++++++++++----------
 2 files changed, 25 insertions(+), 14 deletions(-)

commit 8be4cdf6b2d3de67f46b5a1fb9e5911a62dca8f7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Aug 7 15:40:37 2017 +0200

    Add JMX arguments to docker-machine again. (#2581)

 ansible/environments/docker-machine/group_vars/all | 3 +++
 1 file changed, 3 insertions(+)

commit 49ac756064905da0bcba8ed9978a3e29dd8c04dc
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Aug 7 14:00:50 2017 +0200

    Temporalily use published swift3Action. (#2580)
    
    The download of Swift 3.0.2 on swift.org is broken and will only be revived in a couple of days. This effectively freezes the swift3Action image to the latest published version on Dockerhub. There are no changes imminent anyway.

 core/swift3Action/Dockerfile | 69 +-------------------------------------------
 1 file changed, 1 insertion(+), 68 deletions(-)

commit c59ef2a5621e1d2362801ce91b9eff1c3cf885e1
Author: Ben Browning <ben324@gmail.com>
Date:   Sat Aug 5 16:14:52 2017 -0400

    Support multiple response header values in raw web actions (#2577)
    
    This change allows multiple response header values to be set in raw
    web actions by using a JSON array as the header value. For example:
    
    ```
    function main() {
      return {
        headers: {
          "Set-Cookie": ["a=b", "c=d"]
        },
        code: 200
      }
    }
    ```

 .../scala/whisk/core/controller/WebActions.scala   | 15 +++++++++-----
 docs/webactions.md                                 | 18 ++++++++++++++++-
 tests/dat/actions/multipleHeaders.js               |  8 ++++++++
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 23 ++++++++++++++++++++++
 .../core/controller/test/WebActionsApiTests.scala  | 20 +++++++++++++++++++
 5 files changed, 78 insertions(+), 6 deletions(-)

commit 3fca06efc7adea6724618e466a0db6e3380b371b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Aug 4 16:13:57 2017 -0400

    Use Configuration File with Scan Code and Add Missing License Header (#2575)
    
    * Use Config File for Scanning Code
    * Add Missing License Header

 tests/src/test/scala/whisk/spi/SpiTests.scala | 17 +++++++++++++++++
 tools/build/scanCode.cfg                      |  2 ++
 tools/travis/build.sh                         |  2 +-
 3 files changed, 20 insertions(+), 1 deletion(-)

commit 8d3c2d207db997963481fed3327612cac8fa2aee
Author: Benjamin Poole <Benjamin.D.Poole@ibm.com>
Date:   Fri Aug 4 15:03:20 2017 -0400

    Prints bashauto-completion install script to STDOUT (#2520)
    
    * Prints bash-completion script to STDOUT
    
    * Update docs to include Linux/Mac bash verisons needed
    
    * Reverted to original install but now includes --stdout flag

 docs/cli.md                                        | 31 ++++++++++++++++++++-
 .../src/test/scala/system/basic/WskSdkTests.scala  |  6 ++++
 tools/cli/go-whisk-cli/commands/flags.go           |  5 ++++
 tools/cli/go-whisk-cli/commands/sdk.go             | 32 +++++++++++++++-------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 10 ++++++-
 tools/ubuntu-setup/bashprofile.sh                  |  1 -
 tools/vagrant/Vagrantfile                          |  2 +-
 7 files changed, 73 insertions(+), 14 deletions(-)

commit 7b5671d7d0f3920e69ca54fce3322887ce4e380d
Author: Benjamin Poole <Benjamin.D.Poole@ibm.com>
Date:   Fri Aug 4 10:34:44 2017 -0400

    Limit length of HTTP body displayed when debugging. (#2491)
    
    * Limited http req body in debug
    * Added error checking
    * Removed largeFile, added asset-cleaner, removed --debug from create and refined code
    * Removed temp file creation
    * Now only limits HTTP Req/Resp Body with flag --verbose
    * Now uses json to parse and find code field
    * Update based test location, JSON parsing and comments

 docs/rest_api.md                                   | 30 +++++++------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 16 +++++++
 .../whisk/core/limits/ActionLimitsTests.scala      |  1 -
 tools/cli/go-whisk/whisk/client.go                 | 52 ++++++++++++++++++++--
 tools/cli/go-whisk/whisk/trace.go                  |  5 ++-
 5 files changed, 83 insertions(+), 21 deletions(-)

commit 50fb60e221b47dd82026aa10a889a00047b75b0c
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Thu Aug 3 23:54:28 2017 -0700

    SPI approach for pluggable implementations. (#2414)
    
    Adds the ability to add pluggable implementations for defined Service Provider Interfaces (SPI). The implementation to load is chosen via configuration.
    
    First set of plug-points are:
    - ArtifactStoreProvider
    - MessagingProvider

 common/scala/src/main/resources/reference.conf     |   4 +
 .../connector/kafka/KafkaMessagingProvider.scala   |  43 ++++++
 .../whisk/core/connector/MessagingProvider.scala   |  33 +++++
 .../core/database/ArtifactStoreProvider.scala      |  35 +++++
 .../whisk/core/database/CouchDbStoreProvider.scala |  45 ++++++
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  33 ++---
 .../scala/src/main/scala/whisk/spi/SpiLoader.scala | 100 +++++++++++++
 .../scala/whisk/core/controller/Controller.scala   |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  20 ++-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  29 ++--
 docs/spi.md                                        |  77 ++++++++++
 tests/src/test/resources/application.conf          |   8 ++
 .../core/controller/test/ActivationsApiTests.scala |   7 +-
 tests/src/test/scala/whisk/spi/SpiTests.scala      | 159 +++++++++++++++++++++
 14 files changed, 542 insertions(+), 55 deletions(-)

commit ba455729661cb2439c2f9215f9548addfba57eee
Author: ningyougang <415622920@qq.com>
Date:   Fri Aug 4 05:22:20 2017 +0800

    Fix bug on set_fact relative ansible task (#2556)

 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 5 +++--
 ansible/roles/couchdb/tasks/deploy.yml             | 4 +++-
 2 files changed, 6 insertions(+), 3 deletions(-)

commit d27e2e4efb9dee456e100dd4b6c17180feb11602
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Aug 3 16:44:33 2017 -0400

    Set user agent header in API GW requests (#2439)
    
    * Add OW User-Agent header in API GW requests
    
    * Adhere to user-agent header format
    Append any incoming user-agent header value as a sub user-agent

 core/routemgmt/common/apigw-utils.js  | 34 +++++++++++++++++++++++-----------
 core/routemgmt/createApi/createApi.js | 11 ++++++++---
 core/routemgmt/deleteApi/deleteApi.js |  9 +++++++--
 core/routemgmt/getApi/getApi.js       | 12 +++++++++---
 4 files changed, 47 insertions(+), 19 deletions(-)

commit 4cb13866f7923983707f48f4ad6e1d1a50232dcf
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Aug 3 15:36:30 2017 -0400

    Remove old scripts and unused config parameters (#2564)
    
    * Remove deadcode.
    
    * Remove some dead config parameters.
    
    * Remove useless test suite - all of these are already checked during deployment. What are we gaining with these tests?
    
    * Remove now unused scripts.
    
    * Remove isAlive from flake8.
    
    * Remove tools/logs unused.

 ansible/templates/whisk.properties.j2              |   2 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   4 -
 tests/src/test/scala/common/WhiskProperties.java   |   4 -
 tests/src/test/scala/services/PingTests.scala      | 129 --------------------
 tools/docker/cleanAllDockers.sh                    |  37 ------
 tools/docker/cleanDocker.sh                        |  77 ------------
 tools/docker/listAllDockerHosts.sh                 |  31 -----
 tools/health/isAlive                               | 130 ---------------------
 tools/health/killComponent                         |  81 -------------
 tools/health/monitorUtil.py                        |  77 ------------
 tools/logs/copyLogs.sh                             |  11 --
 tools/logs/logdiff.sh                              |  30 -----
 tools/travis/flake8.sh                             |   5 +-
 13 files changed, 1 insertion(+), 617 deletions(-)

commit 18de7a31c004ebaa916affa434501fcf247a65fd
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Aug 3 14:44:10 2017 +0200

    Revert "Remove privilege escalation. (#2536)" (#2566)
    
    This reverts commit 97aba7136fa81c3d5accbbb1a32a3a83304af1b3.

 ansible/registry.yml                      | 1 +
 ansible/roles/cli/tasks/clean.yml         | 1 +
 ansible/roles/controller/tasks/clean.yml  | 2 ++
 ansible/roles/controller/tasks/deploy.yml | 1 +
 ansible/roles/docker/tasks/clean.yml      | 1 +
 ansible/roles/docker/tasks/deploy.yml     | 5 +++++
 ansible/roles/invoker/tasks/clean.yml     | 2 ++
 ansible/roles/invoker/tasks/deploy.yml    | 1 +
 ansible/roles/nginx/tasks/clean.yml       | 2 ++
 ansible/roles/nginx/tasks/deploy.yml      | 1 +
 ansible/roles/prereq/tasks/clean.yml      | 3 +++
 ansible/roles/prereq/tasks/deploy.yml     | 4 ++++
 ansible/roles/registry/tasks/clean.yml    | 1 +
 ansible/roles/registry/tasks/deploy.yml   | 1 +
 ansible/roles/sdk/tasks/clean.yml         | 1 +
 tools/travis/build.sh                     | 1 -
 16 files changed, 27 insertions(+), 1 deletion(-)

commit 223f7f208fa7d06539116e5d1aae39e7508f94f9
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 2 21:44:50 2017 -0400

    add wskadmin limits get/delete and cleanup tests subjects for limits. (#2553)

 tests/src/test/scala/limits/ThrottleTests.scala    | 10 ++--
 .../scala/whisk/core/admin/WskAdminTests.scala     | 17 ++++++
 tools/admin/wskadmin                               | 61 ++++++++++++++++++++++
 3 files changed, 85 insertions(+), 3 deletions(-)

commit 97aba7136fa81c3d5accbbb1a32a3a83304af1b3
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 2 20:59:50 2017 -0400

    Remove privilege escalation. (#2536)
    
    * Remove privilege escalation.
    
    * python hackery.

 ansible/registry.yml                      | 1 -
 ansible/roles/cli/tasks/clean.yml         | 1 -
 ansible/roles/controller/tasks/clean.yml  | 2 --
 ansible/roles/controller/tasks/deploy.yml | 1 -
 ansible/roles/docker/tasks/clean.yml      | 1 -
 ansible/roles/docker/tasks/deploy.yml     | 5 -----
 ansible/roles/invoker/tasks/clean.yml     | 2 --
 ansible/roles/invoker/tasks/deploy.yml    | 1 -
 ansible/roles/nginx/tasks/clean.yml       | 2 --
 ansible/roles/nginx/tasks/deploy.yml      | 1 -
 ansible/roles/prereq/tasks/clean.yml      | 3 ---
 ansible/roles/prereq/tasks/deploy.yml     | 4 ----
 ansible/roles/registry/tasks/clean.yml    | 1 -
 ansible/roles/registry/tasks/deploy.yml   | 1 -
 ansible/roles/sdk/tasks/clean.yml         | 1 -
 tools/travis/build.sh                     | 1 +
 16 files changed, 1 insertion(+), 27 deletions(-)

commit 7e5b1b12c0309583769f26117a5c972d8da63019
Author: Brandon Lee Underwood <Brandon.Lee.Underwood@ibm.com>
Date:   Wed Aug 2 20:58:09 2017 -0400

    Updated README.MD to reflect the need for Windows users to install SSH if not already installed. (#2335)

 README.md               | 2 ++
 tools/vagrant/README.md | 8 ++++----
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 62cb0c631ccb1be7fca1117bd02556b3683ea7e6
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Aug 2 15:37:41 2017 -0400

    Clean Up CLI Tests (#2541)
    
    * Assert CLI Exists in Wsk Object Constructor
    * Remove getCLIPath

 tests/src/test/scala/common/Wsk.scala                        | 12 ++++--------
 tests/src/test/scala/system/basic/WskBasicTests.scala        |  4 ----
 tests/src/test/scala/system/basic/WskPackageTests.scala      |  4 ----
 .../test/scala/whisk/core/cli/test/WskBasicUsageTests.scala  |  4 ----
 4 files changed, 4 insertions(+), 20 deletions(-)

commit a9f0a829ae5f61a62aae56c37ab90107d7bf4727
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Aug 2 09:44:51 2017 -0400

    exclude H22 problematic node in apache jenkins (#2559)

 tools/jenkins/apache/dockerhub.groovy | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef7eb0530048af0d829c7edd7e7d61a0db766625
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Aug 2 08:01:46 2017 -0400

    Fix logs playbook to dump activations db. (#2555)

 ansible/logs.yml | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit d29c45298606f8640ef6293e491ffa1a7cb9b649
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Aug 1 19:52:54 2017 +0200

    Make reactive containerpool default for all environments. (#2551)
    
    Custom environments now need to opt-in to the old pool by using `invoker_use_reactive_pool: false` explicitly.

 ansible/environments/docker-machine/group_vars/all | 1 -
 ansible/environments/local/group_vars/all          | 1 -
 ansible/environments/mac/group_vars/all            | 1 -
 ansible/group_vars/all                             | 2 +-
 4 files changed, 1 insertion(+), 4 deletions(-)

commit 5449185b1dcaf25def7ede2765005db3b3b69f96
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Aug 1 13:53:56 2017 +0200

    Jinja2 version 2.9.6 required for Ansible template processing (#2543)
    
    * Jinja2 version 2.9.6 required for Ansible template processing
    
    * Added requirement for Jinja2 2.9.6 to other docs and scripts

 ansible/README.md                    | 4 +++-
 tools/macos/README.md                | 2 +-
 tools/macos/docker-machine/README.md | 3 ++-
 tools/ubuntu-setup/ansible.sh        | 1 +
 4 files changed, 7 insertions(+), 3 deletions(-)

commit 9e55e5b99064066c6e9c4142a7cee04cb5446cbe
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Aug 1 11:36:32 2017 +0200

    Escape all values when deploying invoker (#2550)

 ansible/roles/invoker/tasks/deploy.yml | 60 +++++++++++++++++-----------------
 1 file changed, 30 insertions(+), 30 deletions(-)

commit e466e48a8cb7bf44b358e38728f58360b8377f7e
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jul 31 16:15:26 2017 -0400

    Remove consul and registrator from the deployment. (#2452)
    
    - Update controller config.
    - Update params for invoker and clean up some deadcode.
    - Hardcoded db prefix for docker-machine since db init runs on host not inside VM.

 ansible/README.md                                  |   2 +-
 ansible/consul.yml                                 |  10 -
 ansible/environments/distributed/group_vars/all    |   4 -
 ansible/environments/distributed/hosts             |   2 -
 ansible/environments/docker-machine/group_vars/all |   3 +-
 ansible/environments/docker-machine/hosts.j2.ini   |   4 -
 ansible/environments/local/hosts                   |   4 -
 ansible/environments/mac/hosts                     |   4 -
 ansible/group_vars/all                             |  11 -
 ansible/openwhisk.yml                              |   2 -
 ansible/roles/consul/handlers/main.yml             |   7 -
 ansible/roles/consul/tasks/clean.yml               |  34 ---
 ansible/roles/consul/tasks/deploy.yml              |  92 ------
 ansible/roles/consul/tasks/main.yml                |  10 -
 ansible/roles/consul/templates/config.json.j2      |  15 -
 ansible/roles/controller/tasks/deploy.yml          |  37 ++-
 ansible/roles/invoker/tasks/deploy.yml             |  36 ++-
 ansible/tasks/writeWhiskProperties.yml             |   2 +-
 ansible/templates/whisk.properties.j2              |   4 -
 .../src/main/scala/whisk/common/ConsulClient.scala | 325 ---------------------
 .../main/scala/whisk/common/ConsulKVReporter.scala |  68 -----
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  43 +--
 .../main/scala/whisk/core/controller/Backend.scala |   3 -
 .../scala/whisk/core/controller/Controller.scala   |   1 -
 .../scala/whisk/core/controller/RestAPIs.scala     |   7 -
 .../core/entitlement/ActivationThrottler.scala     |   6 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |   4 +-
 .../core/loadBalancer/InvokerSupervision.scala     |  18 +-
 .../core/loadBalancer/LoadBalancerService.scala    |   8 +-
 .../scala/whisk/core/container/ContainerPool.scala |   4 -
 .../whisk/core/container/ContainerUtils.scala      |   3 +-
 .../containerpool/docker/DockerContainer.scala     |   2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  13 +-
 docs/about.md                                      |  12 +-
 docs/reference.md                                  |   1 -
 tests/src/test/scala/common/WhiskProperties.java   |   8 -
 .../scala/whisk/consul/ConsulClientTests.scala     | 198 -------------
 .../scala/whisk/consul/ConsulHealthTests.scala     |  61 ----
 .../test/scala/whisk/core/WhiskConfigTests.scala   |  23 --
 .../docker/test/DockerContainerTests.scala         |   2 +-
 .../controller/test/ControllerTestCommon.scala     |   2 -
 .../test/InvokerSupervisionTests.scala             |  42 +--
 tools/build/redo                                   |   4 -
 tools/health/isAlive                               |  14 -
 tools/health/kvstore                               | 144 ---------
 45 files changed, 91 insertions(+), 1208 deletions(-)

commit 040bf9840788a93db0b21d8d498621e93262f626
Author: Jesus Alva <jalva@us.ibm.com>
Date:   Mon Jul 31 13:50:31 2017 -0500

    Add rule status to CLI rule list  (#2474)

 tests/src/test/scala/system/basic/WskRuleTests.scala | 20 +++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/rule.go              | 13 +++++++++++++
 tools/cli/go-whisk-cli/commands/util.go              |  2 +-
 3 files changed, 33 insertions(+), 2 deletions(-)

commit 2a8b07c91b5ab58533e985f229255f1ee1eacef1
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 28 18:21:24 2017 -0400

    Update wsk test fwk to allow tests to obfuscate sensitive output (#2532)

 tests/src/test/scala/common/Wsk.scala | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 17e574b849b5c403e4734fa440f69e9565f81799
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 28 16:35:21 2017 -0400

    Update open api gw end-to-end test with increased timeout and improved logging (#2523)

 .../test/scala/apigw/healthtests/ApiGwEndToEndTests.scala | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 82e01d7b8896b35b68be81d5b622b5721d3bc80a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jul 28 17:20:26 2017 +0200

    Add the ability to define user-specific throttles. (#2533)
    
    This adds the ability to override the rate/concurrency related limits of the system on a per-namespace basis to be able to adapt to specific user needs.

 ansible/files/auth_index.json                      |  2 +-
 .../whisk/core/database/CouchDbRestStore.scala     |  4 +-
 .../main/scala/whisk/core/entity/Identity.scala    | 20 +++--
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  2 +-
 .../core/entitlement/ActivationThrottler.scala     |  7 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  4 +-
 .../whisk/core/entitlement/RateThrottler.scala     | 20 +++--
 tests/src/test/scala/limits/ThrottleTests.scala    | 88 ++++++++++++++++++++++
 .../core/controller/test/RateThrottleTests.scala   | 16 +++-
 .../scala/whisk/core/entity/test/SchemaTests.scala |  4 +-
 tools/admin/wskadmin                               | 47 +++++++++++-
 11 files changed, 183 insertions(+), 31 deletions(-)

commit 33f3ac828a2f756b299b4a1223b87b1c00aa3b15
Author: Keunseob Kim <keunsuby@nate.com>
Date:   Fri Jul 28 23:05:42 2017 +0900

    Add Invoker instnace ID in invokerReative (#2507)
    
    need to use invoker instance id to create/delete container
    
    Signed-off-by: keunseob.kim <keunseob.kim@samsung.com>

 .../whisk/core/containerpool/ContainerProxy.scala  | 12 +++++-----
 .../scala/whisk/core/invoker/InvokerReactive.scala |  4 ++--
 .../containerpool/test/ContainerProxyTests.scala   | 26 +++++++++++-----------
 3 files changed, 22 insertions(+), 20 deletions(-)

commit 470130b7b5db50e2349dc56cb7e9abb0f9cdb0b1
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jul 28 15:59:40 2017 +0200

    Add a database flag to completely block a given subject. (#2530)
    
    There was no preservative way of blocking a user from the system temporarily before. This adds the functionality to provide a flag in the user's subject entry to block its keys from further usage.

 ansible/files/auth_index.json                      |  2 +-
 .../scala/whisk/core/admin/WskAdminTests.scala     | 62 ++++++++++++++++++++++
 tools/admin/wskadmin                               | 60 ++++++++++++++++++---
 3 files changed, 115 insertions(+), 9 deletions(-)

commit d86461524a938fd165fbbba61b43823b1d1ae8af
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jul 27 10:10:18 2017 -0400

    Move CLI Config Tests into Separate Suite (#2534)

 .../test/scala/system/basic/WskBasicTests.scala    |  16 --
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 205 +---------------
 .../scala/whisk/core/cli/test/WskConfigTests.scala | 261 +++++++++++++++++++++
 3 files changed, 262 insertions(+), 220 deletions(-)

commit 086b5d776db40183bcaf806f8475f44197a8792d
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed Jul 26 23:59:55 2017 -0400

    Reuse namespace in the Python 3 action runtime (#2522)
    
    This allows actions to set/retrieve global variables as an additional optimization during container reuse.
    
    * rename namespace to global_context

 core/pythonAction/pythonrunner.py | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 9531eba833729278ab63fd732b4ab933bb93c231
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jul 26 20:15:27 2017 +0200

    Enable reactive containerpool for all open environments. (#2528)
    
    This is a stepping stone to make the new pool the default for everything.
    The top level group flag will be removed after a grace period to allow time for other deployments to migrate.

 ansible/environments/docker-machine/group_vars/all | 2 +-
 ansible/environments/local/group_vars/all          | 2 +-
 ansible/environments/mac/group_vars/all            | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit beccd1b31a712439e907ee275e7081814c0ea77f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jul 26 18:59:50 2017 +0200

    Using JDK instead of JRE to provide tooling. (#2526)

 common/scala/Dockerfile | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit b3ec970e921932403bb1673c59c7a26f1ad7e836
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Jul 26 17:20:54 2017 +0200

    Align await timeout for DockerContainer test. (#2529)

 .../core/containerpool/docker/test/DockerContainerTests.scala      | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1d937573fda63c464ab03786e88dd182c2033f42
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Jul 26 10:54:29 2017 +0200

    Adopt .gitignore to ignore generated certs. (#2525)

 .gitignore | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9401f8b29ae2ddc470d9e543f0f790776ae0b028
Author: Rob Allen <rob@akrabat.com>
Date:   Mon Jul 24 17:38:34 2017 +0100

    Add PHP 7.1 as a kind (#2415)
    
    * Implement PHP 7.1 kind
    * Add tests for PHP 7.1 action
    * Add PHP action documentation
    
    Build the Docker container from php:7.1-alpine and implement the HTTP
    server using PHP's built in server.
    
    Note that when using a zip file, the router requires that the `main`
    function is stored in `index.php`.
    
    Note about the runner:
    The runner sets the exit code to 1 if it has set the last line of stdout
    to a string suitable for presentation to the user. Therefore, if the
    exit code is not one, then display a generic message.
    
    If there's a runtime error in the action (i.e. not spotted by linter),
    then looking for the main() function will find it. Render the error to
    the logs so that the user knows what's happened.
    
    Note about vendor folder in a PHP zip:
    If the PHP vendor file has a vendor directory, then this directory needs
    to be used rather than the one supplied in the action container.
    
    To do this, we require src/vendor/autoload.php which will exist if the
    zip file contains it. For the two cases where (1) zip file does not contain a
    vendor folder, or (2) when running a non-binary code action, we move the
    container's vendor folder into src/.

 ansible/group_vars/all                             |   6 +
 core/php7.1Action/Dockerfile                       |  50 +++
 core/php7.1Action/build.gradle                     |   2 +
 core/php7.1Action/composer.json                    |  11 +
 core/php7.1Action/router.php                       | 342 ++++++++++++++
 core/php7.1Action/runner.php                       |  69 +++
 docs/actions.md                                    |  60 +++
 docs/reference.md                                  |  24 +
 settings.gradle                                    |   1 +
 .../Php71ActionContainerTests.scala                | 496 +++++++++++++++++++++
 tools/build/redo                                   |   5 +
 tools/cli/go-whisk-cli/commands/action.go          |   2 +
 12 files changed, 1068 insertions(+)

commit 6b9035a748cd25cd3d76b004b68df16a3c3f4d43
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Jul 24 13:31:02 2017 +0200

    Add check that key is at most 64 characters (#2521)

 common/scala/src/main/scala/whisk/core/entity/Secret.scala | 4 ++++
 1 file changed, 4 insertions(+)

commit fb8ef5a940817be9dd4756b1928031d9220a83bc
Author: Keunseob Kim <keunsuby@nate.com>
Date:   Sun Jul 23 21:56:46 2017 +0900

    Fix actionContainerPrefix value (#2505)
    
    Remove stragglers specific to an invoker pool instance only.

 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2f1b5c60c13884361f34b019a26d62a7461864a
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Jul 21 11:47:43 2017 +0200

    Move tests of --last tag to BasicUsageTests (#2518)

 .../test/scala/system/basic/WskBasicTests.scala    | 28 ----------------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 39 +++++++++++++++++++---
 2 files changed, 34 insertions(+), 33 deletions(-)

commit aa13227e61350032a27065378d32999ff9d9090c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jul 20 20:30:37 2017 +0200

    Stabilize loadbalancer under on/off conditions. (#2476)
    
    If invokers are coming online/offline frequently today, the list of available invokers changes frequently which causes the hash-based picking algorithm to constantly change home invokers of actions, thus destroying warm-ratios of that action.
    
    This attacks this issue by accepting that invokers are in fact index based and thus they are now managed in an array which's length will not change if an invoker goes offline. For partitioning cases (i.e. blackbox containers) the length of the underlying sequence is kept constant by padding them respectively.
    
    Removed invokerDownCallback-handling since the bookkeeping is self-healing.

 .../main/scala/whisk/core/connector/Message.scala  |   4 +-
 .../scala/whisk/core/controller/Controller.scala   |   4 +-
 .../core/loadBalancer/InvokerSupervision.scala     |  63 ++++----
 .../whisk/core/loadBalancer/LoadBalancerData.scala |  19 +--
 .../core/loadBalancer/LoadBalancerService.scala    | 172 ++++++++-------------
 .../main/scala/whisk/core/invoker/Invoker.scala    |   4 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |   2 +-
 .../connector/tests/CompletionMessageTests.scala   |   9 +-
 .../test/InvokerSupervisionTests.scala             | 111 ++++++-------
 .../loadBalancer/test/LoadBalancerDataTests.scala  |  21 +--
 .../test/LoadBalancerServiceObjectTests.scala      |  87 ++++++++---
 11 files changed, 247 insertions(+), 249 deletions(-)

commit 2397e2a5721974fc77e237dc19e661d5ddf8d68d
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Jul 20 15:18:45 2017 +0200

    Move load balancer data into a separate class (#2477)
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../whisk/core/loadBalancer/LoadBalancerData.scala | 121 +++++++++++++
 .../core/loadBalancer/LoadBalancerService.scala    |  60 ++-----
 .../loadBalancer/test/LoadBalancerDataTests.scala  | 192 +++++++++++++++++++++
 3 files changed, 332 insertions(+), 41 deletions(-)

commit 77e23f787695a696d673df78b389c5bb2b7af402
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Thu Jul 20 13:50:56 2017 +0200

    Update documentation:formatting for intelliJ (#2511)

 CONTRIBUTING.md | 1 +
 1 file changed, 1 insertion(+)

commit 1021bfbfd4af0921f0d896dc6c29a67a3f621353
Author: Dominic Kim <style9595@gmail.com>
Date:   Thu Jul 20 05:28:09 2017 +0900

    Consider mac environment along with docker-machine enviornment (#2455)

 ansible/roles/cli/tasks/download_cli.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4ece919e5a56b172768be5e89d46ac87d0cc68ce
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Jul 19 18:22:24 2017 +0200

    Adding retries to '--last' test to account for eventual consistency. (#2509)
    
    View based queries are subject to eventual consistency. In case the test is running against an environment with a clustered database it is subject to random failures.

 tests/src/test/scala/system/basic/WskBasicTests.scala | 13 ++++++++-----
 1 file changed, 8 insertions(+), 5 deletions(-)

commit 83a052ff4d42139cada32212ebc4f9259c06ae97
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Jul 19 23:05:35 2017 +0900

    Fix broken link for setting up the openwhisk cli (#2508)

 tools/macos/README.md                | 2 +-
 tools/macos/docker-machine/README.md | 2 +-
 tools/ubuntu-setup/README.md         | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8e6b95900086a9cd039dd7c48caabc8163e4369b
Author: ningyougang <415622920@qq.com>
Date:   Wed Jul 19 20:01:23 2017 +0800

    Support client certificate on cli and nginx (#2427)
    
    In order to increase the security of auth, it is necessary to add client
    certificate on cli and nginx. So user can use wsk -i property set --cert
    openwhisk-client-cert.pem --key openwhisk-client-key.pem to pass client
    certificate to nginx. If you don't want to use default client certificate
    which system provides, you can create your own client certificate instead
    of them.

 ansible/group_vars/all                             |  6 +-
 ansible/roles/nginx/files/genssl.sh                | 75 ++++++++++++++++++----
 ...{openwhisk-key.pem => openwhisk-server-key.pem} |  0
 ansible/roles/nginx/tasks/deploy.yml               |  1 +
 ansible/roles/nginx/templates/nginx.conf.j2        |  3 +-
 ansible/setup.yml                                  |  9 ++-
 ansible/templates/whisk.properties.j2              |  1 +
 docs/cli.md                                        |  8 +++
 tests/src/test/scala/common/Wsk.scala              |  2 +
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 47 +++++++++++++-
 tools/cli/go-whisk-cli/commands/commands.go        |  5 +-
 tools/cli/go-whisk-cli/commands/flags.go           |  4 ++
 tools/cli/go-whisk-cli/commands/property.go        | 74 ++++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/wsk.go             |  2 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 24 +++++++
 tools/cli/go-whisk/whisk/client.go                 | 17 ++++-
 16 files changed, 252 insertions(+), 26 deletions(-)

commit 742ab2df1df7cadecb75d22b9e63a2225e4d560f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Jul 19 08:35:50 2017 +0200

    Remove ContainerPool test which is no longer applicable.
    
    This test used to test a situation of self-recovery in case the ActivationFeed sends more messages than the ContainerPool can consume. This has been deemed an error situation and would be a bug in the ActivationFeed, hence the log is flooded with error messages.

 .../core/containerpool/test/ContainerPoolTests.scala    | 17 -----------------
 1 file changed, 17 deletions(-)

commit 4a81f06e96d7844c4116117fabea9c460cb7aba4
Author: Vadim Raskin <raskinvadim@gmail.com>
Date:   Wed Jul 19 09:41:32 2017 +0200

    Increase the timeout for ActionLimitTests (#2503)

 tests/src/test/scala/whisk/core/limits/ActionLimitsTests.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit adaccb479af594f869217ab9bdb6837e260af41c
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Jul 19 08:41:53 2017 +0200

    Tidy up docker variables in ansible (#2504)

 ansible/group_vars/all                    |  8 ++++++--
 ansible/roles/apigateway/tasks/deploy.yml |  3 ++-
 ansible/roles/consul/tasks/clean.yml      |  2 +-
 ansible/roles/consul/tasks/deploy.yml     |  3 ++-
 ansible/roles/controller/tasks/clean.yml  |  4 ++--
 ansible/roles/controller/tasks/deploy.yml | 11 ++++++-----
 ansible/roles/couchdb/tasks/deploy.yml    |  3 ++-
 ansible/roles/invoker/tasks/clean.yml     |  2 +-
 ansible/roles/invoker/tasks/deploy.yml    | 25 ++++++++++++++-----------
 ansible/roles/kafka/tasks/clean.yml       |  4 ++--
 ansible/roles/kafka/tasks/deploy.yml      |  7 ++++---
 ansible/roles/nginx/tasks/deploy.yml      |  3 ++-
 ansible/roles/redis/tasks/deploy.yml      |  3 ++-
 ansible/roles/registry/tasks/deploy.yml   |  3 ++-
 ansible/templates/whisk.properties.j2     |  6 +++---
 15 files changed, 51 insertions(+), 36 deletions(-)

commit 84c02650151f0171fda9ab0ae88f216f3cf7f8ad
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Jul 18 13:50:19 2017 -0400

    Externalize SetDefaultProperties (#2499)

 tools/cli/go-whisk-cli/commands/property.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 1f414a5df3f4df18aabffec84bc3fb0528337642
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jul 18 13:01:36 2017 -0400

    Remove Unsupported Shared Flag from Package List (Review) (#2495)

 tools/cli/go-whisk-cli/commands/package.go | 10 +---------
 1 file changed, 1 insertion(+), 9 deletions(-)

commit 67ad1b15471a32fb0a85ea3f2f97fafe48574847
Author: Christian Bickel <github@cbickel.de>
Date:   Mon Jul 17 08:24:24 2017 +0200

    Let each controller create its own health action (#2456)

 .../src/main/scala/whisk/core/loadBalancer/InvokerSupervision.scala | 6 +++---
 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala    | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit f4cb204a0f7110af4046b3951c2a027e0c407482
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sun Jul 16 14:36:26 2017 +0200

    Harden system tests for --last flag. (#2497)
    
    Using a hardcoded Thread.sleep timeout will inevitably fail in different test environments. Using the test helpers that retry under the hood will make those tests less intermittent failure prone.
    
    The rejection test doesn't actually need to invoke an action.

 .../test/scala/system/basic/WskBasicTests.scala    | 30 ++++++++++------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit 0757ded2f183429596b68171fb220a5e2d0b91f1
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sun Jul 16 01:19:09 2017 +0200

    Remove redundancy in entitlement checks. (#2496)
    
    Checking proper package access rights is done on a deeper level. Disambiguating here is redundant.

 .../src/main/scala/whisk/core/controller/Actions.scala       | 12 +++---------
 1 file changed, 3 insertions(+), 9 deletions(-)

commit c64103574d8c66d8f228ff9b605f459f26bd2e3e
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jul 14 19:02:24 2017 -0400

    Add subject with a namespace. (#2291)
    
    - Add a test that should catch future regressions where a key is installed incorrectly.
    - Add a helper to retrieve namespace for a key.
    - Eliminate use of wskadmin in tests to lookup a namespace from a key.
    - Delete deprecated WhiskAuth
    - Rename WhiskAuthV2 to WhiskAuth.
    - Fix all tests for WhiskAuth removal.

 ansible/tasks/initdb.yml                           |   8 +-
 .../whisk/core/database/CouchDbRestStore.scala     |   2 +-
 .../src/main/scala/whisk/core/entity/Subject.scala |   2 -
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  88 ++----
 .../main/scala/whisk/core/entity/WhiskAuthV2.scala |  70 -----
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  14 -
 .../whisk/core/container/WhiskContainer.scala      |   3 +-
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |   7 +-
 tests/src/test/scala/common/Wsk.scala              |  25 +-
 .../test/scala/system/basic/WskBasicTests.scala    | 340 ++++++++++-----------
 .../scala/whisk/core/admin/WskAdminTests.scala     |  20 +-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     |  15 +-
 .../core/cli/test/SequenceMigrationTests.scala     |   3 +-
 .../core/cli/test/WskActionSequenceTests.scala     |   6 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  29 +-
 .../whisk/core/cli/test/WskEntitlementTests.scala  |   3 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |   3 +-
 .../core/connector/test/MessageFeedTests.scala     |   6 +-
 .../core/controller/test/ActionsApiTests.scala     |  12 +-
 .../core/controller/test/ActivationsApiTests.scala |  14 +-
 .../core/controller/test/AuthenticateTests.scala   |  89 +++---
 .../core/controller/test/AuthenticateV2Tests.scala |   6 +-
 .../controller/test/ControllerTestCommon.scala     |  18 --
 .../controller/test/EntitlementProviderTests.scala |   6 +-
 .../core/controller/test/NamespacesApiTests.scala  |  20 +-
 .../controller/test/PackageActionsApiTests.scala   |  30 +-
 .../core/controller/test/PackagesApiTests.scala    |  34 +--
 .../core/controller/test/RateThrottleTests.scala   |   4 +-
 .../whisk/core/controller/test/RulesApiTests.scala |   6 +-
 .../core/controller/test/SequenceApiTests.scala    |   2 +-
 .../core/controller/test/TriggersApiTests.scala    |   8 +-
 .../core/controller/test/WebActionsApiTests.scala  |   2 +-
 .../core/controller/test/WhiskAuthHelpers.scala    |  34 +++
 .../SequenceActionApiMigrationTests.scala          |  26 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   3 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  34 ---
 .../scala/whisk/core/entity/test/SchemaTests.scala |   4 +-
 .../scala/whisk/core/entity/test/ViewTests.scala   |   7 +-
 38 files changed, 425 insertions(+), 578 deletions(-)

commit 11beb56c59864d9469a8a9a972a67ab38b90cd39
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 14 14:40:18 2017 -0400

    Externalize access to a few CLI methods to facilitate access across packages (#2483)
    
    - Also move properties file reading/loading to when the command is executed, not at binary load time

 tools/cli/go-whisk-cli/commands/api.go                  |  4 ++--
 tools/cli/go-whisk-cli/commands/commands.go             | 17 +++++++++--------
 tools/cli/go-whisk-cli/commands/property.go             | 16 ++++++++--------
 tools/cli/go-whisk-cli/commands/util.go                 |  6 +++---
 tools/cli/go-whisk-cli/wski18n/resources/en_US.all.json |  4 ++++
 tools/cli/go-whisk/whisk/client.go                      |  4 ++--
 tools/cli/go-whisk/whisk/sdk.go                         |  2 +-
 tools/cli/go-whisk/whisk/util.go                        |  2 +-
 8 files changed, 30 insertions(+), 25 deletions(-)

commit e45288e53ae1164f782248410ab4b50f7022f1ad
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jul 14 20:03:19 2017 +0200

    Remove unneeded WeakReference. (#2489)
    
    The closure doesn't keep a reference to the entire result anymore and is decoupled by the timeout handler through the underlying state-map. The WeakReference is not needed anymore and can actually cause failures if a garbage collection happens in between creating and getting the reference in this case.

 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala    | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 61d3035475e75c8488decbe57555114a62265baa
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jul 14 12:43:02 2017 -0400

    Doc Action URL CLI Flag (#2488)
    
    * Doc Action URL CLI Flag
    * Link to REST Doc

 docs/actions.md    | 14 ++++++++++++++
 docs/webactions.md | 11 +++++++++++
 2 files changed, 25 insertions(+)

commit aace138bb08c49b12ce64ba9dac175f3939c7cf5
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jul 14 03:43:28 2017 -0400

    Remove play dependence. (#2438)

 .../scala/whisk/core/entity/ActivationResult.scala |  18 +++-
 .../scala/whisk/core/container/HttpUtils.scala     |  27 ++++-
 .../whisk/core/container/WhiskContainer.scala      |   2 +-
 .../containerpool/docker/DockerContainer.scala     |   7 +-
 tests/build.gradle                                 |   1 -
 .../scala/actionContainers/ActionContainer.scala   |  23 +---
 tests/src/test/scala/common/AkkaHttpUtils.scala    | 116 ---------------------
 7 files changed, 44 insertions(+), 150 deletions(-)

commit c3f486d5090606cbd8744ec0dec6448c2b26bb7a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jul 13 23:16:24 2017 +0200

    Fix order of messages being sent by the ContainerPool. (#2421)
    
    
    The ContainerPool indicates to the ActivationFeed that it can perform more work and as a result gets more messages from the ActivationFeed. In order to properly back-pressure and protect the ContainerPool, it only ever sends such a message iff it changed its internal state to an extent that it is guaranteed to be able to handle more work.
    
    Also add log message to complain about improper buffer.

 .../scala/whisk/core/containerpool/ContainerPool.scala    |  9 +++------
 .../scala/whisk/core/containerpool/ContainerProxy.scala   | 13 -------------
 .../src/main/scala/whisk/core/invoker/Invoker.scala       |  2 +-
 .../core/containerpool/test/ContainerPoolTests.scala      | 15 ---------------
 .../core/containerpool/test/ContainerProxyTests.scala     |  5 -----
 5 files changed, 4 insertions(+), 40 deletions(-)

commit 1ec381d3ab97cee6db5c7014910648a52240d35f
Author: Benjamin Poole <Benjamin.D.Poole@ibm.com>
Date:   Thu Jul 13 10:00:39 2017 -0400

    (Review) Added --last Activation Flag  (#2334)
    
    * Added lastFlag to activation logs, result and get along with docs/testing

 docs/actions.md                                    | 27 ++++++--
 tests/src/test/scala/common/Wsk.scala              | 35 +++++++---
 tests/src/test/scala/common/WskTestHelpers.scala   |  2 +-
 .../test/scala/system/basic/WskBasicTests.scala    | 76 ++++++++++++++++++----
 .../test/scala/system/basic/WskSequenceTests.scala |  4 +-
 tools/cli/go-whisk-cli/commands/activation.go      | 68 ++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/flags.go           |  1 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 20 ++++++
 tools/cli/go-whisk/whisk/activation.go             |  1 -
 9 files changed, 197 insertions(+), 37 deletions(-)

commit 0f3399372c6d7f047983707d8249707668daa746
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Jul 13 06:47:49 2017 -0700

    Throttle message bus consumption. (#2425)
    
    Replaces unthrottled Kafka consumer with FSM actor that can throttle the consumption.
    Applied for active active acks and invoker health pings.
    Implement capacity based sends.

 .../connector/kafka/KafkaConsumerConnector.scala   |  29 ----
 .../main/scala/whisk/core/connector/Message.scala  |   2 +-
 .../whisk/core/connector/MessageConsumer.scala     | 192 ++++++++++++++++++++-
 .../core/loadBalancer/InvokerSupervision.scala     |  36 ++--
 .../core/loadBalancer/LoadBalancerService.scala    |  37 +++-
 .../whisk/core/containerpool/ContainerPool.scala   |   5 +-
 .../whisk/core/dispatcher/ActivationFeed.scala     | 122 -------------
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |  29 ++--
 .../main/scala/whisk/core/invoker/Invoker.scala    |  20 +--
 .../scala/whisk/core/invoker/InvokerReactive.scala |   5 +-
 docs/actions.md                                    |   7 +-
 .../test/scala/services/KafkaConnectorTests.scala  |  54 +-----
 .../core/connector/test/MessageFeedTests.scala     | 191 ++++++++++++++++++++
 .../test/TestConnector.scala                       |  36 ++--
 .../containerpool/test/ContainerPoolTests.scala    |  14 +-
 .../core/controller/test/PackagesApiTests.scala    |   1 -
 .../core/dispatcher/test/DispatcherTests.scala     |  56 +++---
 .../test/InvokerSupervisionTests.scala             |   9 +-
 18 files changed, 508 insertions(+), 337 deletions(-)

commit b5b47d81638a821e930301628ca38afe909b7d71
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jul 12 13:20:40 2017 -0400

    Get Action URL from CLI (#2461)

 tests/src/test/scala/common/Wsk.scala              |  6 ++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 58 ++++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/action.go          | 58 +++++++++++++---------
 tools/cli/go-whisk-cli/commands/flags.go           |  1 +
 tools/cli/go-whisk-cli/commands/util.go            | 19 +------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  4 ++
 tools/cli/go-whisk/whisk/action.go                 | 49 ++++++++++++++++++
 tools/cli/go-whisk/whisk/shared.go                 | 21 +++++++-
 8 files changed, 171 insertions(+), 45 deletions(-)

commit cd409cd664a9ae66c2298a410ba4236cc16437e8
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jul 12 12:46:04 2017 -0400

    API GW V2 updates (#2436)
    
    - Do not enforce need for gwUrl parameter in api gw actions
    - Enable http redirect forwarding
    - Add automated test to validate rejection of api creation with invalid auth key

 core/routemgmt/common/apigw-utils.js               |  3 ++
 core/routemgmt/common/utils.js                     |  5 ++
 core/routemgmt/createApi/createApi.js              |  5 +-
 core/routemgmt/deleteApi/deleteApi.js              | 56 +++++++++----------
 core/routemgmt/getApi/getApi.js                    | 62 +++++++++++-----------
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  8 +--
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 35 +++++++++++-
 tools/cli/go-whisk-cli/commands/action.go          |  7 ++-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  8 +--
 9 files changed, 115 insertions(+), 74 deletions(-)

commit 4d46a59cdfc67352df8ef6ab690063aecf97dc14
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Jul 12 14:53:42 2017 +0900

    Deal with jvm process leak in TestUtils (#2454)

 tests/src/test/scala/common/TestUtils.java | 18 +++++-------------
 1 file changed, 5 insertions(+), 13 deletions(-)

commit 76c39f5681b6b480581222a7f4b5a30693a77e75
Author: Dan Lavine <dlavine@us.ibm.com>
Date:   Tue Jul 11 14:51:25 2017 +0000

    Update install Catalog script. (#2437)
    
    * Removes unused parameter

 ansible/tasks/installOpenwhiskCatalog.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d44f6724a947b700202ad1986dac83392c626247
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Jul 10 11:28:11 2017 -0400

    Bump Kafka Connector Test timeout to avoid build breaks (#2116)
    
    - current limit of 10 seconds is too small on PG3 - causing build failures
    - other PG3 connector test times have recently been observed at 8/9+ seconds

 tests/src/test/scala/services/KafkaConnectorTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9c4ff87da2658f25bcb7ea6fc920fc54d806fb0d
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 7 14:40:19 2017 -0400

    wsk CLI should tolerate APIs that do not yet have a mapped action (#2458)
    
    * wsk CLI should tolerate APIs that do not yet have a mapped action
    - bump API GW version so that action-less APIs can be created via cli/swagger
    
    * Add `wsk api list --full` test for action-less apis

 ansible/group_vars/all                             |  2 +-
 ansible/roles/apigateway/tasks/deploy.yml          |  2 +-
 .../apigw/endpoints.without.action.swagger.json    | 76 ++++++++++++++++++++++
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 33 ++++++++++
 tools/cli/go-whisk-cli/commands/api.go             | 45 +++++++++----
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  4 ++
 tools/cli/go-whisk/whisk/api.go                    | 18 ++---
 7 files changed, 153 insertions(+), 27 deletions(-)

commit 7a0444cbb98164b28d0187684b05238360ebc283
Author: Stevo Slavić <sslavic@gmail.com>
Date:   Thu Jul 6 15:56:42 2017 +0200

    Fix reference to a class in inline comment (#2460)

 .../src/main/scala/whisk/connector/kafka/KafkaConsumerConnector.scala   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b1c34ed587efebc79539850e7065cf3e760b3c7d
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sat Jul 1 15:20:32 2017 +0200

    Adjust kafka's maximum poll period. (#2450)
    
    Kafka allows setting the maximum period between two polls. As we allow for 5 minutes of action execution, in a fully loaded invoker it might take 5 minutes for the consumer to poll again. To prevent rebalances this value is adjusted accordingly.
    
    Bumping Kafka's version is needed because that value is exposed only in 0.10.1+.

 ansible/group_vars/all                                    |  2 +-
 common/scala/build.gradle                                 |  2 +-
 .../whisk/connector/kafka/KafkaConsumerConnector.scala    | 11 ++++++-----
 .../src/main/scala/whisk/core/invoker/Invoker.scala       |  4 ++--
 tests/src/test/scala/services/KafkaConnectorTests.scala   | 15 +++++++++------
 5 files changed, 19 insertions(+), 15 deletions(-)

commit b175bbf5af27bc8970364af20d04ced4fc5b927c
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Jun 30 21:41:05 2017 -0400

    make swift:3.1.1 default for swift (#2432)

 ansible/group_vars/all                             |  2 +-
 docs/actions.md                                    |  7 ++-
 docs/reference.md                                  |  6 +-
 .../system/basic/WskBasicSwift3DefaultTest.scala   | 70 ----------------------
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  3 +-
 5 files changed, 12 insertions(+), 76 deletions(-)

commit 41a8251ae248221434884d5387557f98da52af97
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Jun 30 20:39:19 2017 -0500

    Update remaining files to ASF license incl. bash, js files. (#2423)

 README.md                                 | 19 +++----
 core/nodejsActionBase/app.js              | 13 ++---
 core/nodejsActionBase/runner.js           | 13 ++---
 core/nodejsActionBase/src/logger.js       | 13 ++---
 core/nodejsActionBase/src/service.js      | 13 ++---
 core/nodejsActionBase/test.js             | 13 ++---
 core/routemgmt/common/apigw-utils.js      | 25 ++++-----
 core/routemgmt/common/utils.js            | 44 ++++++++-------
 core/routemgmt/createApi/createApi.js     | 90 ++++++++++++++++---------------
 core/routemgmt/deleteApi/deleteApi.js     | 64 +++++++++++-----------
 core/routemgmt/getApi/getApi.js           | 69 ++++++++++++------------
 core/swift3Action/epilogue.swift          | 18 +++----
 core/swift3Action/spm-build/Package.swift | 13 ++---
 core/swift3Action/spm-build/_Whisk.swift  | 13 ++---
 tools/admin/wskadmin                      | 13 ++---
 tools/build/citool                        | 13 ++---
 tools/build/redo                          | 13 ++---
 tools/db/cleanUpActivations.py            | 33 ++++++------
 tools/db/deleteLogsFromActivations.py     | 35 ++++++------
 tools/docker/cleanAllDockers.sh           | 13 ++---
 tools/docker/cleanDocker.sh               | 13 ++---
 tools/docker/listAllDockerHosts.sh        | 13 ++---
 tools/health/isAlive                      | 13 ++---
 tools/health/killComponent                | 13 ++---
 tools/health/kvstore                      | 13 ++---
 25 files changed, 316 insertions(+), 289 deletions(-)

commit 30ed7b22035f7c6461e799f114a2f164685fe0e3
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Jun 30 18:45:15 2017 -0500

    Update all Go files with ASF License header. (#2422)

 tools/cli/go-whisk-cli/commands/action.go     | 13 +++++++------
 tools/cli/go-whisk-cli/commands/activation.go | 13 +++++++------
 tools/cli/go-whisk-cli/commands/api.go        | 13 +++++++------
 tools/cli/go-whisk-cli/commands/commands.go   | 13 +++++++------
 tools/cli/go-whisk-cli/commands/flags.go      | 13 +++++++------
 tools/cli/go-whisk-cli/commands/namespace.go  | 13 +++++++------
 tools/cli/go-whisk-cli/commands/package.go    | 13 +++++++------
 tools/cli/go-whisk-cli/commands/property.go   | 13 +++++++------
 tools/cli/go-whisk-cli/commands/rule.go       | 13 +++++++------
 tools/cli/go-whisk-cli/commands/sdk.go        | 13 +++++++------
 tools/cli/go-whisk-cli/commands/shared.go     | 13 +++++++------
 tools/cli/go-whisk-cli/commands/trigger.go    | 13 +++++++------
 tools/cli/go-whisk-cli/commands/util.go       | 13 +++++++------
 tools/cli/go-whisk-cli/commands/wsk.go        | 13 +++++++------
 tools/cli/go-whisk-cli/main.go                | 13 +++++++------
 tools/cli/go-whisk/whisk/action.go            | 13 +++++++------
 tools/cli/go-whisk/whisk/activation.go        | 13 +++++++------
 tools/cli/go-whisk/whisk/api.go               | 13 +++++++------
 tools/cli/go-whisk/whisk/client.go            | 13 +++++++------
 tools/cli/go-whisk/whisk/info.go              | 13 +++++++------
 tools/cli/go-whisk/whisk/namespace.go         | 13 +++++++------
 tools/cli/go-whisk/whisk/package.go           | 13 +++++++------
 tools/cli/go-whisk/whisk/rule.go              | 13 +++++++------
 tools/cli/go-whisk/whisk/sdk.go               | 13 +++++++------
 tools/cli/go-whisk/whisk/shared.go            | 13 +++++++------
 tools/cli/go-whisk/whisk/trace.go             | 13 +++++++------
 tools/cli/go-whisk/whisk/trigger.go           | 13 +++++++------
 tools/cli/go-whisk/whisk/util.go              | 13 +++++++------
 tools/cli/go-whisk/whisk/wskerror.go          | 13 +++++++------
 29 files changed, 203 insertions(+), 174 deletions(-)

commit 38b1df93efcefda198db3cd78d2b3f8b0afc83d8
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jun 30 19:30:11 2017 -0400

    Add default allow headers. (#2451)

 ansible/group_vars/all                                            | 2 +-
 ansible/roles/cli/files/createContentJson.sh                      | 2 +-
 .../src/main/scala/whisk/core/controller/WebActions.scala         | 8 +++++---
 tests/src/test/scala/whisk/core/cli/test/WskWebActionsTests.scala | 3 ++-
 .../scala/whisk/core/controller/test/WebActionsApiTests.scala     | 1 +
 5 files changed, 10 insertions(+), 6 deletions(-)

commit 544d0657db2a3c3bac11e143f4fecf1b888e5079
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jun 30 15:00:16 2017 -0400

    Normalize rate checks to the identity namespace (uuid). (#2433)

 .../main/scala/whisk/core/entity/Identity.scala    |  4 ++-
 .../core/entitlement/ActivationThrottler.scala     | 15 +++++-----
 .../scala/whisk/core/entitlement/Entitlement.scala | 32 +++++++++++-----------
 .../whisk/core/entitlement/RateThrottler.scala     | 20 ++++++++------
 .../core/loadBalancer/LoadBalancerService.scala    | 31 +++++++++++----------
 docs/reference.md                                  |  2 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 18 +++++-------
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/controller/test/RateThrottleTests.scala   |  3 +-
 .../core/controller/test/WebActionsApiTests.scala  |  2 +-
 10 files changed, 66 insertions(+), 63 deletions(-)

commit 4711de738e463f0a70027c8343e6d41db17a364a
Author: Vincent <shou@us.ibm.com>
Date:   Fri Jun 30 13:59:45 2017 -0400

    Add the support to install the binaries from the new repo (#2379)
    
    * Rename build.sh into createContent.sh
    
    * Add the support to install the binaries from the new repo
    
    This PR adds the functionalities to either install openwhisk
    binaries from the releases page of openwhisk cli or copy the
    binaries locally.
    
    The key installation_mode of openwhisk_cli dict can be set to
    remote or local. The default one is local.
    
    Closes-Bug: #2101

 ansible/files/package-versions.ini                 |  2 +
 ansible/group_vars/all                             | 44 +++++++++++++-
 ansible/roles/cli/files/createContentJson.sh       | 69 +++++++++++++++++++++
 ansible/roles/cli/tasks/cli_remote_mode.yml        | 18 ++++++
 .../roles/cli/tasks/copy_local_openwhisk_cli.yml   | 10 ++++
 ansible/roles/cli/tasks/deploy.yml                 | 30 +++++-----
 ansible/roles/cli/tasks/download_cli.yml           |  2 +
 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 70 ++++++++++++++++++++++
 8 files changed, 230 insertions(+), 15 deletions(-)

commit 08bb5658fbe7f509a5bece12905b8f3745240dcd
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jun 30 13:00:00 2017 -0400

    Display CORS Headers for Non-Options Requests (Review) (#2444)

 .../scala/whisk/core/controller/WebActions.scala   | 16 +++++------
 tests/dat/actions/corsHeaderMod.js                 |  5 +++-
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 33 ++++++++++++++++++++--
 .../core/controller/test/WebActionsApiTests.scala  | 13 ++++++---
 4 files changed, 51 insertions(+), 16 deletions(-)

commit aa924c0b4e2ca8e5c1d1e81a089a0726b66a000c
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jun 30 11:35:25 2017 +0200

    Make kafka heap size configurable. (#2441)

 ansible/group_vars/all               | 1 +
 ansible/roles/kafka/tasks/deploy.yml | 1 +
 2 files changed, 2 insertions(+)

commit 294433e4ccad12793f094648f08130db2de5ce60
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Jun 29 21:16:57 2017 -0400

    ignore *.class with .gitignore (#2448)

 .gitignore | 1 +
 1 file changed, 1 insertion(+)

commit 26321910ebfb0da24c1dfb3dfb9f3597fcac0df1
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Jun 29 17:34:08 2017 -0400

    document how to add swift dependencies (#2369)
    
    * document how to add swift depdencies

 docs/actions.md | 54 ++++++++++++++++++++++++++++++++++++++----------------
 1 file changed, 38 insertions(+), 16 deletions(-)

commit 1bf257195cc466f48964b9846a530f943e7a6e12
Author: Zach Schultz <zacharymschultz@gmail.com>
Date:   Thu Jun 29 14:20:49 2017 -0500

    Fix install command (#2446)
    
    There is a missing `=` which causes an error when trying to install Docker 2.2.1

 tools/macos/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db50cf09f5d20fe2f0ffd94f59003be144f96b61
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jun 29 21:15:39 2017 +0200

    Improve ExecutableWhiskAction coverage and general typesafety (#2230)
    
    
    Improves the implementation of ExecutableWhiskAction to conform closer to existing implementations. Use ExecutableWhiskAction as early as possible to statically check only the right types reach the Invoker.

 .../main/scala/whisk/core/entity/WhiskAction.scala | 91 +++++++++++-----------
 .../controller/actions/PostActionActivation.scala  | 15 ++--
 .../core/controller/actions/PrimitiveActions.scala |  3 +-
 .../core/controller/actions/SequenceActions.scala  |  7 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 18 ++---
 .../scala/whisk/core/container/ContainerPool.scala | 21 +++--
 .../main/scala/whisk/core/invoker/Invoker.scala    | 43 ++++++----
 .../core/container/test/ContainerPoolTests.scala   | 11 +--
 .../core/controller/test/ActionsApiTests.scala     |  4 +-
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala | 16 ++--
 .../scala/whisk/core/entity/test/SchemaTests.scala | 12 +--
 12 files changed, 125 insertions(+), 118 deletions(-)

commit 868b29ec915b98de9d30cf5514139dc6c24f306d
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Jun 29 15:04:41 2017 -0400

    Updates for Max Activation List Limit (#2215)
    
    
    Inform users that 200 activations is the maximum limit for the list command when exceeding the limit.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  1 +
 .../scala/whisk/core/controller/Activations.scala  | 35 +++++++++++++++-------
 .../core/controller/test/ActivationsApiTests.scala | 10 +++++++
 tools/cli/go-whisk-cli/commands/activation.go      |  7 +++--
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  4 +--
 5 files changed, 42 insertions(+), 15 deletions(-)

commit e711f6e0123dccbcbde89b585aeaeaa28005f0e6
Author: Lewis Daly <lewisdaly@me.com>
Date:   Thu Jun 29 12:04:30 2017 +0930

    Fix typo in use_cases.md (#2410)

 docs/use_cases.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ca4e167fc55b63ee4ed14dfd3cf1d0a613ac973
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Jun 28 14:23:40 2017 +0200

    Deterministic container removal for test.

 .../test/scala/whisk/core/containerpool/test/ContainerPoolTests.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2d20d9764e8baab9002a8e1b3721901bfbdd4228
Author: RSulzmann <robi@de.ibm.com>
Date:   Wed Jun 28 11:09:08 2017 +0200

    set kafka retention (#2372)
    
    set kafka retention
    
    set kafka retention

 ansible/group_vars/all               | 13 +++++++++++++
 ansible/roles/kafka/tasks/deploy.yml |  9 ++++-----
 2 files changed, 17 insertions(+), 5 deletions(-)

commit 55e693a4d91ea18aed0a01740db0ac2b9f56cddb
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed Jun 28 09:22:18 2017 +0900

    Make OW run with docker for mac (#1790)
    
    
    * Add documentation for docker for mac (#1431)
    * Replace akka-http client to play-ws client (temporarily)
    * Introduce docker-machine environment

 .gitignore                                         |   2 +-
 ansible/README.md                                  |  70 +++++----
 ansible/environments/docker-machine/group_vars/all |  40 ++++++
 .../{mac => docker-machine}/hosts.j2.ini           |   0
 ansible/environments/mac/group_vars/all            |   5 -
 ansible/environments/mac/hosts                     |  33 +++++
 ansible/roles/cli/tasks/download_cli.yml           |   6 +-
 ansible/setup.yml                                  |  10 +-
 .../scala/whisk/core/container/HttpUtils.scala     |   1 +
 .../whisk/core/container/WhiskContainer.scala      |  63 ---------
 tests/build.gradle                                 |   3 +
 .../scala/actionContainers/ActionContainer.scala   |  10 +-
 .../src/test/scala/common}/AkkaHttpUtils.scala     |  82 +++++------
 tools/build/redo                                   |   4 +-
 tools/macos/README.md                              |  82 ++---------
 tools/macos/docker-machine/README.md               | 156 +++++++++++++++++++++
 .../macos/{ => docker-machine}/tweak-dockerhost.sh |   0
 .../{ => docker-machine}/tweak-dockermachine.sh    |   0
 18 files changed, 344 insertions(+), 223 deletions(-)

commit 9c80378a6c68d19ae6108effd7a77aa3e5c0d9ad
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Jun 27 12:57:40 2017 -0400

    Create swagger operationId values for code tooling consumption (#2388)

 core/routemgmt/common/apigw-utils.js               | 27 +++++++++++++++++++---
 .../scala/whisk/core/cli/test/ApiGwTests.scala     |  4 +++-
 2 files changed, 27 insertions(+), 4 deletions(-)

commit 32e31b599280c66aeb79f4ad2523eead529f9e81
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jun 27 12:28:21 2017 -0400

    docker pull invoker images runtimes from manifest (#2383)

 ansible/group_vars/all                             | 13 +++++++++---
 ansible/roles/invoker/tasks/deploy.yml             | 24 ++++++++++++++--------
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  4 ++--
 3 files changed, 27 insertions(+), 14 deletions(-)

commit 2f7acddcf8636d1d3efd1045d2b2f0d8ab18f6b8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon May 15 16:10:43 2017 +0200

    Start scala components with JMX enabled locally
    
    Enables easier profiling of local components via JVM standard tooling.

 ansible/environments/local/group_vars/all | 3 +++
 ansible/environments/mac/group_vars/all   | 3 +++
 ansible/roles/invoker/tasks/deploy.yml    | 2 +-
 3 files changed, 7 insertions(+), 1 deletion(-)

commit db21c089dac0e7bf87fbf648a83d50ef974cf673
Author: Paul Castro <castrop@us.ibm.com>
Date:   Mon Jun 26 19:33:27 2017 -0400

    Add Swift 3.1.1 as a kind (#2120)
    
    * Experimental branch for 2079, uses ibm swift ubuntu image for 3.1
    
    * Fixes issue #2079, add Swift 3.1.1 runtime kind, update Swift dependencies for Watson SDK, KituraNet, SwiftyJson
    
    * add apache license
    
    * Fix swift311 location and catch docker brake
    
    The location of the swift binary for 311 is now in /usr/bin/swift
    Need to catch docker errors when building by usig && instead of ;
    
    * new zip for new swift311 runtime

 ansible/group_vars/all                             |   5 +-
 ansible/roles/invoker/tasks/deploy.yml             |   1 +
 core/swift3.1.1Action/Dockerfile                   |  30 ++++++++
 core/swift3.1.1Action/build.gradle                 |  41 +++++++++++
 core/swift3.1.1Action/buildandrecord.py            |  77 +++++++++++++++++++++
 core/swift3.1.1Action/spm-build/Package.swift      |  27 ++++++++
 core/swift3Action/Dockerfile                       |   4 +-
 docs/actions.md                                    |   2 +-
 docs/reference.md                                  |  16 +++++
 settings.gradle                                    |   1 +
 tests/build.gradle                                 |   1 +
 tests/dat/actions/helloSwift.zip                   | Bin 748064 -> 0 bytes
 tests/dat/actions/helloSwift3.zip                  | Bin 0 -> 741267 bytes
 tests/dat/actions/helloSwift311.zip                | Bin 0 -> 1792469 bytes
 .../scala/actionContainers/ActionContainer.scala   |   4 +-
 .../Swift311ActionContainerTests.scala             |  45 ++++++++++++
 ...ests.scala => Swift3ActionContainerTests.scala} |  24 ++++---
 .../scala/system/basic/WskBasicSwift311Tests.scala |  28 ++++++++
 .../system/basic/WskBasicSwift3DefaultTest.scala   |  70 +++++++++++++++++++
 ...cSwiftTests.scala => WskBasicSwift3Tests.scala} |  23 +-----
 .../system/basic/WskUnicodeSwift311Tests.scala     |  35 ++++++++++
 ...wiftTests.scala => WskUnicodeSwift3Tests.scala} |   2 +-
 .../scala/whisk/core/cli/test/Swift311Tests.scala  |  28 ++++++++
 .../test/{SwiftTests.scala => Swift3Tests.scala}   |  36 ++--------
 tools/build/redo                                   |   5 ++
 25 files changed, 437 insertions(+), 68 deletions(-)

commit 1c05eb599f1611a8444608ea5ea4f0b712bb3a12
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 26 18:05:35 2017 -0400

    Temporarily ignore test. (#2426)

 tests/src/test/scala/whisk/common/SchedulerTests.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 034730ed9b88d66db31121e4540ca6bf42a87e68
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Jun 26 12:27:21 2017 -0400

    Refactor finisher and add unit tests (#2419)

 .../src/main/scala/whisk/common/Scheduler.scala    |  11 +-
 .../core/controller/actions/PrimitiveActions.scala | 145 ++++++++++++-----
 .../actions/test/ActivationFinisherTests.scala     | 171 +++++++++++++++++++++
 3 files changed, 283 insertions(+), 44 deletions(-)

commit 9bb26173e71e2c71667810970e900c291d5a8ac3
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Jun 26 17:33:09 2017 +0200

    Back-off threshold and choose home invoker as default. (#2417)
    
    * Back-off threshold and choose home invoker as default.
    
    The loadbalancer falls back to picking the home invoker for the action iff all invokers are loaded above a defined threshold. That threshold is backed off 3 times to prevent a "all hell breaks loose" scenario in a sustained high load.

 .../core/loadBalancer/LoadBalancerService.scala    | 25 ++++++++++++----------
 .../test/LoadBalancerServiceObjectTests.scala      | 25 +++++++++++++++++-----
 2 files changed, 34 insertions(+), 16 deletions(-)

commit 54203c71369c8c4377fb3b12113fecf4870d0f6e
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Fri Jun 23 13:42:05 2017 +0200

    Action limit test for log truncation procudes less log entries
    
    The test now uses the minimum supported log limit (1M) and creates 10% more log output as the limit.
    In the past, the test had a limit of 2M and produced 3M logs.
    
    We frequently saw this test failing in mainOpenwhisk in the past few days because it took too
    long to PUT the activation record to Cloudant, i.e. more than 60 sec. We suspect that
    concurrent load tests in YS0 may have caused the long Cloudant response times because the
    Cloudant DB cluster is shared. But we don`t have enough diagnostic data to prove this assumption.
    
    At the same time, making the log portion in the activation record smaller with this change
    should also make the Cloudant request faster. This change does only affect limits and sizes but
    does not change the test's design.

 tests/src/test/scala/whisk/core/limits/ActionLimitsTests.scala | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 1b5f38e343bf6695e191ad68ab1c4e8c1c3fc47b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jun 23 23:07:09 2017 -0400

    Update Web Action Doc (#2404)
    
    - State that .http extensions do not support projections

 docs/webactions.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5f73e4f00cb83a6d0280feabd03641f50a0c0e6f
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Jun 23 16:14:11 2017 -0500

    Reference scancode from utils repo. but preserve local copy (phase 1) (#2365)
    
    * Reference scancode from utils repo. but preserve local copy (phase 1)
    
    * Update README to reflect relocation of scancode util.

 tools/build/README.md |  6 +++---
 tools/travis/build.sh | 10 +++++++---
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 592c5166b6459c7ebd6ad441410cd5ce47efffa3
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jun 23 12:47:20 2017 -0400

    Fix licenses on scala and java files. (#2418)

 tests/dat/actions/TimedOut.java                            | 13 +++++++------
 tests/dat/actions/unicode/src/main/java/Unicode.java       | 13 +++++++------
 .../controller/actions/test/SequenceAccountingTests.scala  | 14 ++++++++------
 .../loadBalancer/test/LoadBalancerServiceObjectTests.scala | 13 +++++++------
 .../whisk/utils/test/ExecutionContextFactoryTests.scala    | 14 ++++++++------
 5 files changed, 37 insertions(+), 30 deletions(-)

commit 8930735e16eef37b22df57e3430bca6d75e0a6c7
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Jun 23 11:57:48 2017 -0400

    Send active ack on failed activations (#2384)
    
    * Sends active ack for failed activations due to container startup failures.
    
    Add recovery in loadbalancer for when invoker dies and does not send active ack.
    Consolidate all blocking request handling into a single stateful actor.
    Modify completion message to response with either id/result for when the active ack might exceed bus limit.
    Retry failure to send active ack from invoker.

 .../src/main/scala/whisk/common/Scheduler.scala    |  56 ++++-
 .../main/scala/whisk/core/connector/Message.scala  |  12 +-
 .../main/scala/whisk/core/entity/InstanceId.scala  |  13 +-
 .../whisk/utils/ExecutionContextFactory.scala      |  12 +-
 .../main/scala/whisk/core/controller/Actions.scala |  16 +-
 .../scala/whisk/core/controller/WebActions.scala   |  17 +-
 .../controller/actions/PostActionActivation.scala  |  26 ++-
 .../core/controller/actions/PrimitiveActions.scala | 229 +++++++++++++--------
 .../core/controller/actions/SequenceActions.scala  |  77 +++----
 .../core/loadBalancer/LoadBalancerService.scala    |  73 ++++---
 .../main/scala/whisk/core/invoker/Invoker.scala    |  49 +++--
 .../scala/whisk/core/invoker/InvokerReactive.scala |  18 +-
 .../test/scala/whisk/common/SchedulerTests.scala   |  60 ++++++
 .../connector/tests/CompletionMessageTests.scala   |  84 ++++++++
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../core/controller/test/WebActionsApiTests.scala  |  13 +-
 .../whisk/core/limits/ActionLimitsTests.scala      |  52 +++--
 17 files changed, 542 insertions(+), 269 deletions(-)

commit 5a40ce8135fe04bf61c5c54fd79401bc49f29a48
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jun 23 09:29:36 2017 -0400

    Update Usage for Activation Poll (#2398)
    
    * Update Usage for Activation Poll

 tools/cli/go-whisk-cli/commands/activation.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fdbf073a386c33aed1b06ed93eaea39ee4382c7b
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jun 22 17:38:59 2017 +0200

    Add ability to deploy a "hot-standby" controller (#2205)
    
    It is now possible to deploy a hot-standby controller. Each controller needs its own instance. This instance is a consecutive numbering, starting with 0. The state and cache of each controller is not shared to the other controllers. If the base controller crashes, the hot-standby controller will be used. After the base controller is up again, it will be used again. Because of the empty cache after restart, there are no problems with inconsistency. The only problem that could occur is, that the base controller is not reachable, but does not restart. After switching back to the base controller, there could be an inconsistency in the cache (e.g. if a user has updated an action). This inconsistency will be resolved by its own after removing the cached item, 5 minutes after it has been generated.

 ansible/group_vars/all                             |   4 +-
 ansible/roles/controller/tasks/clean.yml           |  16 +++-
 ansible/roles/controller/tasks/deploy.yml          |  16 ++--
 ansible/roles/kafka/tasks/deploy.yml               |  10 +-
 ansible/roles/nginx/templates/nginx.conf.j2        |  20 +++-
 ansible/templates/whisk.properties.j2              |   9 +-
 .../main/scala/whisk/common/TransactionId.scala    |  10 +-
 .../connector/kafka/KafkaConsumerConnector.scala   |   4 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  12 +--
 .../main/scala/whisk/core/connector/Message.scala  |   4 +-
 .../main/scala/whisk/core/entity/InstanceId.scala  |  27 ++++++
 .../main/scala/whisk/http/BasicRasService.scala    |  28 ------
 core/controller/Dockerfile                         |   3 +-
 .../scala/whisk/core/controller/Controller.scala   |  33 +++++--
 .../scala/whisk/core/controller/RestAPIs.scala     |   7 +-
 .../core/controller/actions/PrimitiveActions.scala |   9 +-
 .../core/entitlement/ActivationThrottler.scala     |  32 +++----
 .../scala/whisk/core/entitlement/Entitlement.scala |   3 -
 .../core/loadBalancer/InvokerSupervision.scala     |   6 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  11 ++-
 .../scala/whisk/core/container/ContainerPool.scala |   4 +-
 .../whisk/core/container/WhiskContainer.scala      |   1 +
 .../whisk/core/containerpool/ContainerProxy.scala  |   8 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  35 ++++---
 .../scala/whisk/core/invoker/InvokerReactive.scala |  14 +--
 .../scala/whisk/core/invoker/InvokerServer.scala   |   7 +-
 tests/src/test/scala/common/LoggedFunction.scala   |  10 ++
 tests/src/test/scala/common/WhiskProperties.java   |  16 ++--
 tests/src/test/scala/services/HeadersTests.scala   |   2 +-
 tests/src/test/scala/services/PingTests.scala      | 102 +++++++++++++--------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   2 +-
 .../core/container/test/ContainerPoolTests.scala   |   3 +-
 .../containerpool/test/ContainerPoolTests.scala    |   1 +
 .../containerpool/test/ContainerProxyTests.scala   |   3 +-
 .../controller/test/ControllerTestCommon.scala     |   6 +-
 .../scala/whisk/core/database/test/DbUtils.scala   |   5 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   2 +-
 .../test/InvokerSupervisionTests.scala             |  10 +-
 tools/admin/wskadmin                               |   2 +-
 tools/build/checkLogs.py                           |   2 +-
 40 files changed, 297 insertions(+), 202 deletions(-)

commit fb274f7e804c539d71cc1f24a1e31e7f838d42e0
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Jun 22 10:10:55 2017 -0400

    Drain stdout/stderr in futures to prevent deadlock. (#2409)

 tests/src/test/scala/common/TestUtils.java | 53 ++++++++++++++++++++++++------
 tests/src/test/scala/common/Wsk.scala      | 15 +++++----
 2 files changed, 51 insertions(+), 17 deletions(-)

commit 51d5169eafb6f83be187cc102991a9dc7af6b1dc
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jun 22 16:04:27 2017 +0200

    Use hosts to define order of invokers instead of play_hosts (#2412)

 ansible/roles/invoker/tasks/clean.yml  |  4 ++--
 ansible/roles/invoker/tasks/deploy.yml | 29 +++++++++++++++--------------
 2 files changed, 17 insertions(+), 16 deletions(-)

commit c9768ea96e9561ee42f4a2b7795afa46cc6b6e0a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Jun 22 08:32:10 2017 +0200

    Adjust pause grace to a less dangerous value

 .../whisk/core/containerpool/ContainerProxy.scala  | 17 ++++++++-------
 .../containerpool/test/ContainerProxyTests.scala   | 24 +++++++++++-----------
 2 files changed, 20 insertions(+), 21 deletions(-)

commit 85e8c8f1d49dac3c04fe0f58480d652f52729c54
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Jun 6 14:38:18 2017 +0200

    Retype scheduling code to get rid of unsafeness.
    
    The pool used to look up the data of a container it has just chosen/created which is unnecessary. Removed also a non-reachable error-condition.
    
    Also: Take out unnecessary prewarmConfig checking.

 .../whisk/core/containerpool/ContainerPool.scala   | 64 +++++++++++-----------
 .../containerpool/test/ContainerPoolTests.scala    |  6 +-
 2 files changed, 34 insertions(+), 36 deletions(-)

commit f79ae51ae46ce2cc19d164684c620081c7d3cc1c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 5 11:08:05 2017 +0200

    Keep inactive containers around even in a fully loaded system.
    
    The ContainerPool will trash it's whole pool of containers if running containers are exhausting the maximum size of the pool.
    
    This implements a scheme where the ContainerPool differs between "maximum containers that are allowed do work" and "maximum containers in the pool at all", where the latter can be greater than the first. This will keep containers longer around allowing for a higher warm-container hit rate with heterogeneous load.

 .../whisk/core/containerpool/ContainerPool.scala   | 106 ++++++++++---------
 .../scala/whisk/core/invoker/InvokerReactive.scala |   1 +
 .../containerpool/test/ContainerPoolTests.scala    | 117 ++++++++++-----------
 3 files changed, 115 insertions(+), 109 deletions(-)

commit e9d5c505a391fe47585d706521ad991a9b65465d
Author: Kevin Earls <kearls@redhat.com>
Date:   Wed Jun 21 22:49:37 2017 +0200

    Fixed typo (#2407)

 docs/use_cases.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b2e6a7d00444f5885109bc093bac68bcc268af19
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 21 09:36:30 2017 -0400

    Add Test to Ensure Preservation of Annotations for Action Web Flag (#2366)
    
    * Preserve Annotations for Action Web Flag

 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit f25a8f1f49e0086b4c9428665d15910d614e15fb
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 12 11:57:55 2017 +0200

    Choose target invoker based on specific invoker load.
    
    Currently, the loadbalancer advances from one Invoker to another after a fixed amount of invocations, which isn't aware of any load in the system causing suboptimal behavior.
    
    This only advances away from the home invoker of an action (determined by hash) if that home invoker is "heavily" loaded. We advance further if the next chosen invoker is busy and so forth. If we arrive at the home invoker again, the system is completely loaded and we force schedule to the home invoker. Step sizes are determined by prime numbers and also chosen by hashing to prevent chasing behavior.

 ansible/group_vars/all                             |   1 +
 ansible/templates/whisk.properties.j2              |   2 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 119 +++++++++++++++-----
 .../test/LoadBalancerServiceObjectTests.scala      | 125 +++++++++++++++++++++
 5 files changed, 219 insertions(+), 32 deletions(-)

commit 37bf7bf9dc2e5c73e8d2a0cd094d22bfba2f9a36
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue Jun 20 15:45:35 2017 -0500

    Changed all .scala and .java files to ASF license headers. (#2367)

 common/scala/src/main/scala/whisk/common/Config.scala      | 13 +++++++------
 .../scala/src/main/scala/whisk/common/ConsulClient.scala   | 13 +++++++------
 .../src/main/scala/whisk/common/ConsulKVReporter.scala     | 13 +++++++------
 common/scala/src/main/scala/whisk/common/Counter.scala     | 13 +++++++------
 common/scala/src/main/scala/whisk/common/DateUtil.scala    | 13 +++++++------
 common/scala/src/main/scala/whisk/common/HttpClient.scala  | 13 +++++++------
 common/scala/src/main/scala/whisk/common/Logging.scala     | 13 +++++++------
 common/scala/src/main/scala/whisk/common/RingBuffer.scala  | 13 +++++++------
 common/scala/src/main/scala/whisk/common/Scheduler.scala   | 13 +++++++------
 common/scala/src/main/scala/whisk/common/SimpleExec.scala  | 13 +++++++------
 common/scala/src/main/scala/whisk/common/TimingUtil.scala  | 13 +++++++------
 .../scala/src/main/scala/whisk/common/TransactionId.scala  | 13 +++++++------
 .../whisk/connector/kafka/KafkaConsumerConnector.scala     | 13 +++++++------
 .../whisk/connector/kafka/KafkaProducerConnector.scala     | 13 +++++++------
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/connector/Message.scala      | 13 +++++++------
 .../main/scala/whisk/core/connector/MessageConsumer.scala  | 13 +++++++------
 .../main/scala/whisk/core/connector/MessageProducer.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/database/ArtifactStore.scala | 13 +++++++------
 .../whisk/core/database/ArtifactStoreExceptions.scala      | 14 ++++++++------
 .../scala/whisk/core/database/CloudantRestClient.scala     | 13 +++++++------
 .../main/scala/whisk/core/database/CouchDbRestClient.scala | 13 +++++++------
 .../main/scala/whisk/core/database/CouchDbRestStore.scala  | 13 +++++++------
 .../main/scala/whisk/core/database/DocumentFactory.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/database/InMemoryCache.scala | 13 +++++++------
 .../core/database/MultipleReadersSingleWriterCache.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/entitlement/Privilege.scala  | 13 +++++++------
 .../scala/whisk/core/entity/ActivationEntityLimit.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/entity/ActivationId.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/entity/ActivationLogs.scala  | 13 +++++++------
 .../main/scala/whisk/core/entity/ActivationResult.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/entity/ArgNormalizer.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/entity/Attachments.scala     | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/AuthKey.scala   | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/DocInfo.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/entity/EntityPath.scala      | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/Exec.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/entity/ExecManifest.scala    | 13 +++++++------
 .../scala/whisk/core/entity/FullyQualifiedEntityName.scala | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/Identity.scala  | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/Limits.scala | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/LogLimit.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/entity/MemoryLimit.scala     | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/Parameter.scala | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/Secret.scala | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/SemVer.scala | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/Size.scala   | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/Subject.scala   | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/TimeLimit.scala | 13 +++++++------
 common/scala/src/main/scala/whisk/core/entity/UUID.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskAction.scala     | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskActivation.scala | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/WhiskAuth.scala | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskAuthV2.scala     | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskEntity.scala     | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskPackage.scala    | 13 +++++++------
 .../scala/src/main/scala/whisk/core/entity/WhiskRule.scala | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskStore.scala      | 13 +++++++------
 .../src/main/scala/whisk/core/entity/WhiskTrigger.scala    | 13 +++++++------
 .../scala/src/main/scala/whisk/http/BasicHttpService.scala | 13 +++++++------
 .../scala/src/main/scala/whisk/http/BasicRasService.scala  | 13 +++++++------
 common/scala/src/main/scala/whisk/http/ErrorResponse.scala | 13 +++++++------
 .../main/scala/whisk/utils/ExecutionContextFactory.scala   | 13 +++++++------
 common/scala/src/main/scala/whisk/utils/JsHelpers.scala    | 13 +++++++------
 common/scala/src/main/scala/whisk/utils/Retry.scala        | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Actions.scala     | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Activations.scala | 13 +++++++------
 .../src/main/scala/whisk/core/controller/ApiUtils.scala    | 13 +++++++------
 .../main/scala/whisk/core/controller/Authenticate.scala    | 13 +++++++------
 .../scala/whisk/core/controller/AuthenticatedRoute.scala   | 13 +++++++------
 .../whisk/core/controller/AuthorizedRouteDispatcher.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Backend.scala     | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Controller.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Entities.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Namespaces.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Packages.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/controller/RestAPIs.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Rules.scala       | 13 +++++++------
 .../src/main/scala/whisk/core/controller/Triggers.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/controller/WebActions.scala  | 13 +++++++------
 .../core/controller/actions/PostActionActivation.scala     | 13 +++++++------
 .../whisk/core/controller/actions/PrimitiveActions.scala   | 13 +++++++------
 .../whisk/core/controller/actions/SequenceActions.scala    | 13 +++++++------
 .../scala/whisk/core/entitlement/ActionCollection.scala    | 13 +++++++------
 .../scala/whisk/core/entitlement/ActivationThrottler.scala | 13 +++++++------
 .../src/main/scala/whisk/core/entitlement/Collection.scala | 13 +++++++------
 .../main/scala/whisk/core/entitlement/Entitlement.scala    | 13 +++++++------
 .../scala/whisk/core/entitlement/LocalEntitlement.scala    | 13 +++++++------
 .../scala/whisk/core/entitlement/PackageCollection.scala   | 13 +++++++------
 .../main/scala/whisk/core/entitlement/RateThrottler.scala  | 13 +++++++------
 .../scala/whisk/core/loadBalancer/InvokerSupervision.scala | 13 +++++++------
 .../whisk/core/loadBalancer/LoadBalancerService.scala      | 13 +++++++------
 .../main/scala/whisk/core/container/AkkaHttpUtils.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/container/Container.scala    | 13 +++++++------
 .../main/scala/whisk/core/container/ContainerPool.scala    | 13 +++++++------
 .../main/scala/whisk/core/container/ContainerUtils.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/container/HttpUtils.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/container/RuncUtils.scala    | 13 +++++++------
 .../main/scala/whisk/core/container/WhiskContainer.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/container/package.scala      | 13 +++++++------
 .../main/scala/whisk/core/containerpool/Container.scala    | 13 +++++++------
 .../scala/whisk/core/containerpool/ContainerPool.scala     | 13 +++++++------
 .../scala/whisk/core/containerpool/ContainerProxy.scala    | 13 +++++++------
 .../whisk/core/containerpool/docker/DockerClient.scala     | 13 +++++++------
 .../containerpool/docker/DockerClientWithFileAccess.scala  | 13 +++++++------
 .../whisk/core/containerpool/docker/DockerContainer.scala  | 13 +++++++------
 .../whisk/core/containerpool/docker/ProcessRunner.scala    | 13 +++++++------
 .../scala/whisk/core/containerpool/docker/RuncClient.scala | 13 +++++++------
 .../main/scala/whisk/core/dispatcher/ActivationFeed.scala  | 13 +++++++------
 .../src/main/scala/whisk/core/dispatcher/Dispatcher.scala  | 13 +++++++------
 .../main/scala/whisk/core/dispatcher/MessageHandler.scala  | 13 +++++++------
 .../main/scala/whisk/core/invoker/ActionLogDriver.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/invoker/Invoker.scala        | 13 +++++++------
 .../main/scala/whisk/core/invoker/InvokerReactive.scala    | 13 +++++++------
 .../src/main/scala/whisk/core/invoker/InvokerServer.scala  | 13 +++++++------
 .../src/main/java/openwhisk/java/action/JarLoader.java     | 14 ++++++++------
 .../proxy/src/main/java/openwhisk/java/action/Proxy.java   | 14 ++++++++------
 .../java/openwhisk/java/action/WhiskSecurityManager.java   | 14 ++++++++------
 .../src/test/scala/actionContainers/ActionContainer.scala  | 14 ++++++++------
 .../scala/actionContainers/ActionProxyContainerTests.scala | 13 +++++++------
 .../actionContainers/DockerExampleContainerTests.scala     | 13 +++++++------
 .../scala/actionContainers/JavaActionContainerTests.scala  | 13 +++++++------
 .../actionContainers/NodeJsActionContainerTests.scala      | 14 ++++++++------
 .../actionContainers/Python2ActionContainerTests.scala     | 13 +++++++------
 .../actionContainers/PythonActionContainerTests.scala      | 13 +++++++------
 .../src/test/scala/actionContainers/ResourceHelpers.scala  | 14 ++++++++------
 .../scala/actionContainers/SwiftActionContainerTests.scala | 13 +++++++------
 .../test/scala/apigw/healthtests/ApiGwEndToEndTests.scala  | 13 +++++++------
 tests/src/test/scala/common/JsHelpers.scala                | 13 +++++++------
 tests/src/test/scala/common/LoggedFunction.scala           | 13 +++++++------
 tests/src/test/scala/common/Pair.java                      | 14 ++++++++------
 tests/src/test/scala/common/StreamLogging.scala            | 13 +++++++------
 tests/src/test/scala/common/TestHelpers.scala              | 13 +++++++------
 tests/src/test/scala/common/TestUtils.java                 | 13 +++++++------
 tests/src/test/scala/common/WhiskProperties.java           | 13 +++++++------
 tests/src/test/scala/common/Wsk.scala                      | 13 +++++++------
 tests/src/test/scala/common/WskActorSystem.scala           | 14 ++++++++------
 tests/src/test/scala/common/WskTestHelpers.scala           | 13 +++++++------
 tests/src/test/scala/limits/ThrottleTests.scala            | 14 ++++++++------
 tests/src/test/scala/services/HeadersTests.scala           | 13 +++++++------
 tests/src/test/scala/services/KafkaConnectorTests.scala    | 13 +++++++------
 tests/src/test/scala/services/PingTests.scala              | 13 +++++++------
 tests/src/test/scala/system/basic/WskActionTests.scala     | 13 +++++++------
 tests/src/test/scala/system/basic/WskBasicJavaTests.scala  | 13 +++++++------
 tests/src/test/scala/system/basic/WskBasicNodeTests.scala  | 13 +++++++------
 .../src/test/scala/system/basic/WskBasicPythonTests.scala  | 13 +++++++------
 tests/src/test/scala/system/basic/WskBasicSwiftTests.scala | 13 +++++++------
 tests/src/test/scala/system/basic/WskBasicTests.scala      | 13 +++++++------
 tests/src/test/scala/system/basic/WskConsoleTests.scala    | 13 +++++++------
 tests/src/test/scala/system/basic/WskPackageTests.scala    | 13 +++++++------
 tests/src/test/scala/system/basic/WskRuleTests.scala       | 13 +++++++------
 tests/src/test/scala/system/basic/WskSdkTests.scala        | 13 +++++++------
 tests/src/test/scala/system/basic/WskSequenceTests.scala   | 13 +++++++------
 tests/src/test/scala/system/rest/ActionSchemaTests.scala   | 13 +++++++------
 tests/src/test/scala/system/rest/GoCLINginxTests.scala     | 13 +++++++------
 tests/src/test/scala/system/rest/JsonSchema.scala          | 13 +++++++------
 tests/src/test/scala/system/rest/JsonSchemaTests.scala     | 13 +++++++------
 tests/src/test/scala/system/rest/RestUtil.scala            | 13 +++++++------
 tests/src/test/scala/system/rest/SwaggerTests.scala        | 13 +++++++------
 tests/src/test/scala/whisk/common/ConfigTests.scala        | 13 +++++++------
 tests/src/test/scala/whisk/common/SchedulerTests.scala     | 13 +++++++------
 tests/src/test/scala/whisk/consul/ConsulClientTests.scala  | 13 +++++++------
 tests/src/test/scala/whisk/consul/ConsulHealthTests.scala  | 13 +++++++------
 tests/src/test/scala/whisk/core/WhiskConfigTests.scala     | 13 +++++++------
 tests/src/test/scala/whisk/core/admin/WskAdminTests.scala  | 13 +++++++------
 .../apigw/actions/test/ApiGwRoutemgmtActionTests.scala     | 13 +++++++------
 tests/src/test/scala/whisk/core/cli/test/ApiGwTests.scala  | 13 +++++++------
 .../test/scala/whisk/core/cli/test/JsonArgsForTests.scala  | 13 +++++++------
 .../scala/whisk/core/cli/test/SequenceMigrationTests.scala | 14 ++++++++------
 tests/src/test/scala/whisk/core/cli/test/SwiftTests.scala  | 13 +++++++------
 .../scala/whisk/core/cli/test/WskActionSequenceTests.scala | 13 +++++++------
 .../scala/whisk/core/cli/test/WskBasicUsageTests.scala     | 13 +++++++------
 .../scala/whisk/core/cli/test/WskEntitlementTests.scala    | 13 +++++++------
 .../scala/whisk/core/cli/test/WskWebActionsTests.scala     | 13 +++++++------
 .../core/container/test/ContainerConnectionTests.scala     | 13 +++++++------
 .../whisk/core/container/test/ContainerPoolTests.scala     | 13 +++++++------
 .../core/containerpool/docker/test/DockerClientTests.scala | 13 +++++++------
 .../docker/test/DockerClientWithFileAccessTests.scala      | 13 +++++++------
 .../containerpool/docker/test/DockerContainerTests.scala   | 13 +++++++------
 .../containerpool/docker/test/ProcessRunnerTests.scala     | 13 +++++++------
 .../core/containerpool/docker/test/RuncClientTests.scala   | 13 +++++++------
 .../whisk/core/containerpool/test/ContainerPoolTests.scala | 13 +++++++------
 .../core/containerpool/test/ContainerProxyTests.scala      | 13 +++++++------
 .../scala/whisk/core/controller/test/ActionsApiTests.scala | 13 +++++++------
 .../whisk/core/controller/test/ActivationsApiTests.scala   | 13 +++++++------
 .../whisk/core/controller/test/AuthenticateTests.scala     | 13 +++++++------
 .../whisk/core/controller/test/AuthenticateV2Tests.scala   | 13 +++++++------
 .../whisk/core/controller/test/ControllerTestCommon.scala  | 13 +++++++------
 .../core/controller/test/EntitlementProviderTests.scala    | 13 +++++++------
 .../whisk/core/controller/test/NamespacesApiTests.scala    | 13 +++++++------
 .../core/controller/test/PackageActionsApiTests.scala      | 13 +++++++------
 .../whisk/core/controller/test/PackagesApiTests.scala      | 13 +++++++------
 .../whisk/core/controller/test/RateThrottleTests.scala     | 13 +++++++------
 .../core/controller/test/RespondWithHeadersTests.scala     | 13 +++++++------
 .../scala/whisk/core/controller/test/RulesApiTests.scala   | 13 +++++++------
 .../whisk/core/controller/test/SequenceApiTests.scala      | 13 +++++++------
 .../whisk/core/controller/test/SwaggerRoutesTests.scala    | 13 +++++++------
 .../whisk/core/controller/test/TriggersApiTests.scala      | 13 +++++++------
 .../whisk/core/controller/test/WebActionsApiTests.scala    | 13 +++++++------
 .../test/migration/SequenceActionApiMigrationTests.scala   | 14 ++++++++------
 .../whisk/core/database/test/CacheConcurrencyTests.scala   | 13 +++++++------
 .../whisk/core/database/test/CleanUpActivationsTest.scala  | 13 +++++++------
 .../whisk/core/database/test/CouchDbRestClientTests.scala  | 13 +++++++------
 .../whisk/core/database/test/DatabaseScriptTestUtils.scala | 13 +++++++------
 .../src/test/scala/whisk/core/database/test/DbUtils.scala  | 13 +++++++------
 .../core/database/test/ExtendedCouchDbRestClient.scala     | 14 ++++++++------
 .../test/MultipleReadersSingleWriterCacheTests.scala       | 13 +++++++------
 .../scala/whisk/core/database/test/RemoveLogsTests.scala   | 13 +++++++------
 .../scala/whisk/core/database/test/ReplicatorTests.scala   | 13 +++++++------
 .../core/dispatcher/test/ActivationResponseTests.scala     | 13 +++++++------
 .../scala/whisk/core/dispatcher/test/DispatcherTests.scala | 13 +++++++------
 .../scala/whisk/core/dispatcher/test/TestConnector.scala   | 13 +++++++------
 .../test/scala/whisk/core/entity/test/DatastoreTests.scala | 13 +++++++------
 .../test/scala/whisk/core/entity/test/ExecHelpers.scala    | 13 +++++++------
 .../scala/whisk/core/entity/test/ExecManifestTests.scala   | 13 +++++++------
 .../scala/whisk/core/entity/test/MigrationEntities.scala   | 13 +++++++------
 .../test/scala/whisk/core/entity/test/SchemaTests.scala    | 13 +++++++------
 .../src/test/scala/whisk/core/entity/test/SizeTests.scala  | 13 +++++++------
 .../src/test/scala/whisk/core/entity/test/ViewTests.scala  | 13 +++++++------
 .../scala/whisk/core/entity/test/WhiskEntityTests.scala    | 13 +++++++------
 .../scala/whisk/core/invoker/ActionLogDriverTests.scala    | 13 +++++++------
 .../test/scala/whisk/core/limits/ActionLimitsTests.scala   | 13 +++++++------
 .../scala/whisk/core/limits/MaxActionDurationTests.scala   | 13 +++++++------
 .../core/loadBalancer/test/InvokerSupervisionTests.scala   | 13 +++++++------
 tests/src/test/scala/whisk/test/http/RESTProxy.scala       | 14 ++++++++------
 225 files changed, 1589 insertions(+), 1350 deletions(-)

commit 7f399a43e561765a23fb377e7747ca4c8c397ea6
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Tue Jun 20 12:16:36 2017 -0400

    Update sequence impl to tune controller memory consumption (#2387)
    
    - switch to scheduleOnce+weakrefs for timeout handling in SequenceActions
    - switch SequenceAccounting to store array of ActivationId rather than array of String -- cheaper in memory
    -  use better (non-dragging) impl of withTimeout
    - use a getAndSet(null) pattern to avoid two copies of responses being alive simultaneously
    - refactor top level sequence scheduler to eliminate promises

 .../scala/whisk/core/entity/ActivationId.scala     |   2 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   3 +-
 .../whisk/utils/ExecutionContextFactory.scala      |  18 +-
 .../core/controller/actions/SequenceActions.scala  | 498 ++++++++++++---------
 .../test/scala/system/basic/WskSequenceTests.scala |  93 ++--
 .../actions/test/SequenceAccountingTests.scala     | 141 ++++++
 .../utils/test/ExecutionContextFactoryTests.scala  |  43 ++
 7 files changed, 531 insertions(+), 267 deletions(-)

commit dad7243269ba2554a81fcdd9dabfba4201eb7f7f
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 20 09:27:38 2017 -0400

    Error when Entity Names are Provided to List Commands (#2075)
    
    * Error when Entity Names are Provided to List Commands
    
    - When entity names are pass to list commands display an appropriate error
    - Share qualified name parsing error messages between commands

 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   9 +-
 tools/cli/go-whisk-cli/commands/action.go          |  33 ++--
 tools/cli/go-whisk-cli/commands/activation.go      |  31 ++--
 tools/cli/go-whisk-cli/commands/api.go             |  22 +--
 tools/cli/go-whisk-cli/commands/namespace.go       |  27 +---
 tools/cli/go-whisk-cli/commands/package.go         | 174 ++++++++-------------
 tools/cli/go-whisk-cli/commands/rule.go            | 136 ++++++----------
 tools/cli/go-whisk-cli/commands/shared.go          |  47 ++++++
 tools/cli/go-whisk-cli/commands/trigger.go         | 170 ++++++++------------
 tools/cli/go-whisk-cli/commands/util.go            |  20 +--
 tools/cli/go-whisk-cli/commands/wsk.go             |  10 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   8 +-
 12 files changed, 295 insertions(+), 392 deletions(-)

commit 6a87fbb1bd41d21c66e52d987127b49ef5c12e59
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Jun 20 10:35:00 2017 +0200

    Add retries to all docker pull commands in ansible (#2400)

 ansible/roles/apigateway/tasks/deploy.yml | 1 +
 ansible/roles/cli/tasks/deploy.yml        | 1 +
 ansible/roles/consul/tasks/deploy.yml     | 1 +
 ansible/roles/controller/tasks/deploy.yml | 1 +
 ansible/roles/couchdb/tasks/deploy.yml    | 1 +
 ansible/roles/invoker/tasks/deploy.yml    | 1 +
 ansible/roles/kafka/tasks/deploy.yml      | 4 +++-
 ansible/roles/nginx/tasks/deploy.yml      | 1 +
 ansible/roles/redis/tasks/deploy.yml      | 1 +
 ansible/roles/registry/tasks/deploy.yml   | 1 +
 10 files changed, 12 insertions(+), 1 deletion(-)

commit 5632460c86137a66bf0c9a9532526552a1b4e5b1
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 19 10:23:14 2017 -0400

    Update OPTIONS Respones for Web Actions (Review) (#2327)
    
    Web actions may now optionally elect to respond to OPTIONS verb.

 .../scala/whisk/core/controller/RestAPIs.scala     | 18 +++++-----
 .../scala/whisk/core/controller/WebActions.scala   | 16 ++++++++-
 docs/annotations.md                                | 15 ++++----
 docs/webactions.md                                 | 42 ++++++++++++++++++++++
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 38 ++++++++++----------
 .../core/controller/test/WebActionsApiTests.scala  | 38 ++++++++++++++++----
 6 files changed, 124 insertions(+), 43 deletions(-)

commit 9c1f77fdb1e4a7339634434dc90c45026d6a43d2
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Jun 17 11:54:29 2017 -0400

    Allow docker actions with zip files.  (#2112)
    
    * Allow docker actions with zip files.
    Add native action for binary injection.
    Add note about breaking change for --docker option.
    
    * Separate dep fetching from rest of build to avoid repeated fetches when none changed.

 docs/actions.md                                    | 23 +++++-
 tests/src/test/scala/common/Wsk.scala              |  4 +-
 .../test/scala/system/basic/WskBasicTests.scala    |  8 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 39 ++++++----
 tools/cli/Dockerfile                               |  6 +-
 tools/cli/go-whisk-cli/commands/action.go          | 87 ++++++++++++++--------
 tools/cli/go-whisk-cli/commands/flags.go           | 41 +++++-----
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 20 ++---
 8 files changed, 144 insertions(+), 84 deletions(-)

commit 9af44fdd6118540bf2f424b2b7d2f6df63ac186c
Author: Jonathan Dowland <jon+github@alcopop.org>
Date:   Sat Jun 17 14:58:13 2017 +0100

    minor typo fix (#2385)

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46ed108ea050809ad6d7026bbbbd2b43a2aca19d
Author: Paul Castro <castrop@us.ibm.com>
Date:   Fri Jun 16 20:50:57 2017 -0400

    Fixes issue #2394, pin CCurl version in Package.swift (#2395)

 core/swift3Action/spm-build/Package.swift | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d554b176da176bfd530c0833d49137db064086b5
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Jun 16 17:27:13 2017 -0400

    Put back swift tests (#2393)
    
    This reverts commit bdc40d81ff7b84bd614f804c216a3ad256709b27.

 tests/src/test/scala/whisk/core/cli/test/SwiftTests.scala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bdc40d81ff7b84bd614f804c216a3ad256709b27
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jun 16 14:43:22 2017 -0400

    Ignore broken swift3 sdk tests until the failure root cause is identified and fixed (#2391)

 tests/src/test/scala/whisk/core/cli/test/SwiftTests.scala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit cdf7a69a8199858add89e790cdec769039ae8207
Author: ddragosd <ddragosd@gmail.com>
Date:   Thu Jun 15 09:48:42 2017 -0700

    surface errors in runtimes.manifest configuration in the controller logs (#2256)

 .../scala/whisk/core/entity/ExecManifest.scala     | 17 +++--
 .../scala/whisk/core/controller/Controller.scala   | 26 +++++---
 .../main/scala/whisk/core/invoker/Invoker.scala    | 73 +++++++++++++---------
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  2 +-
 .../whisk/core/entity/test/ExecManifestTests.scala | 28 ++++++++-
 5 files changed, 94 insertions(+), 52 deletions(-)

commit 2e9106c3a09a9ff5c8024a8fd63b655c6791c291
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Jun 14 13:53:27 2017 -0400

    add back SCRIPTDIR to ubuntu all.sh (#2378)

 tools/ubuntu-setup/all.sh | 2 ++
 1 file changed, 2 insertions(+)

commit f4cb89ab46b1cd2a6ad169b6d5d3b066058fa0ba
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Wed Jun 14 18:33:51 2017 +0200

    remove unexpected character from ansible playbook (#2375)

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 381e8048518e2e944bfdf06c5b66368808f85b06
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Jun 14 09:28:34 2017 -0400

    Revert "Add the support to install the binaries from the new repo (#2345)" (#2371)
    
    This reverts commit be6682a9df3bbf871b29ef51b3944f1a9c3d67a3.

 ansible/files/package-versions.ini                 |  2 -
 ansible/group_vars/all                             | 44 --------------
 ansible/roles/cli/files/createContentJson.sh       | 69 ---------------------
 ansible/roles/cli/tasks/cli_remote_mode.yml        | 18 ------
 ansible/roles/cli/tasks/deploy.yml                 | 24 +++++---
 ansible/roles/cli/tasks/download_cli.yml           |  2 -
 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 70 ----------------------
 tools/vagrant/Vagrantfile                          |  1 +
 8 files changed, 16 insertions(+), 214 deletions(-)

commit be6682a9df3bbf871b29ef51b3944f1a9c3d67a3
Author: Vincent <shou@us.ibm.com>
Date:   Tue Jun 13 16:24:18 2017 -0400

    Add the support to install the binaries from the new repo (#2345)
    
    * Rename build.sh into createContent.sh
    
    * Add the support to install the binaries from the new repo
    
    This PR adds the functionalities to either install openwhisk
    binaries from the releases page of openwhisk cli or build the
    binaries locally.
    
    The key installation_mode of openwhisk_cli dict can be set to
    download, meaning to download the binaries, or build, meaning
    to build the binaries locally. The default value is download.
    
    Closes-Bug: #2101

 ansible/files/package-versions.ini                 |  2 +
 ansible/group_vars/all                             | 44 ++++++++++++++
 ansible/roles/cli/files/createContentJson.sh       | 69 +++++++++++++++++++++
 ansible/roles/cli/tasks/cli_remote_mode.yml        | 18 ++++++
 ansible/roles/cli/tasks/deploy.yml                 | 24 +++-----
 ansible/roles/cli/tasks/download_cli.yml           |  2 +
 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 70 ++++++++++++++++++++++
 tools/vagrant/Vagrantfile                          |  1 -
 8 files changed, 214 insertions(+), 16 deletions(-)

commit 3c250ad329ab78f62194f89e3999b9fbaa35d2e3
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jun 13 15:51:28 2017 -0400

    update ubuntu scripts to fail on first error (#2362)

 tools/ubuntu-setup/all.sh     | 39 ++++++++-------------------------------
 tools/ubuntu-setup/ansible.sh |  9 ++++++---
 tools/ubuntu-setup/docker.sh  |  4 ++--
 tools/ubuntu-setup/java8.sh   |  4 ++++
 tools/ubuntu-setup/misc.sh    |  4 ++++
 tools/ubuntu-setup/pip.sh     |  4 ++++
 tools/ubuntu-setup/scala.sh   |  4 ++++
 7 files changed, 32 insertions(+), 36 deletions(-)

commit 19fc9d3b76747092dcdae5f8a254e976f5ed5f01
Author: Dominic Kim <style9595@gmail.com>
Date:   Tue Jun 13 14:58:37 2017 +0900

    Make invoker be scaled-out via ansible. (#2248)
    
    It makes possible to scale out of running invoker via ansible.
    It assumes there will be only one invoker running on each host.
    
    To scale out running invoker, a user can just add new hosts to the inventory file and re-run the ansible invoker deployment.
    
    Procedures are as follow:
    1. First, it checks if there are any running invokers.
    2. If there are more than one running invokers, there are some problem. It stops the deployment.
    3. If there is only one running invoker, it checks whether the index of the running invoker is same with the one of the given inventory host.
    4. If the index is different, there is a problem in the order of hosts. It stops the deployment.
    5. If the index is same, it just skips running invoker.
    6. If there is no running invoker, it starts a new invoker.
    
    One good side-effect is the procedure of invoker deployment becomes idempotent.
    So if there are no changes on inventory host file, the user can repeatedly run ansible deployment without any harms.
    
    Closes #2247

 ansible/roles/invoker/tasks/deploy.yml | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit dff7c4b622ba7c8ee7549bf15d3299f1dbb6d3cd
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Jun 12 09:26:05 2017 -0400

    clean mobile sdk docs (#2336)

 docs/mobile_sdk.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 32409f1d6212f8a85a1092e93e6408170bcaf357
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jun 9 17:36:01 2017 -0400

    Fix undefined exception in processing http response (#2356)

 core/routemgmt/common/apigw-utils.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c819b1344689dab49038daec36d50ec255578c33
Author: Kalonji Bankole <kkbankol@us.ibm.com>
Date:   Fri Jun 9 08:56:59 2017 -0700

    updating distributed readme (#2320)

 ansible/README_DISTRIBUTED.md                      | 49 +++-------------------
 .../distributed/files/openstack/README_OS.md       | 23 ++++++++++
 .../distributed/files/openstack/openstack.env      | 20 +++++++++
 3 files changed, 49 insertions(+), 43 deletions(-)

commit 82c17c8a86ff35c5212fb2bcd44c4e39f91e5131
Author: Raymond Camden <raymondcamden@gmail.com>
Date:   Thu Jun 8 19:40:01 2017 -0500

    Create reference.md (#2350)
    
    Modify "return;" which works to "return {};" which is a bit more consistent.

 docs/reference.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 47dd61a0b94b211234a35e32262177d5aac205c6
Author: Raymond Camden <raymondcamden@gmail.com>
Date:   Thu Jun 8 19:39:36 2017 -0500

    Create reference.md (#2347)
    
    Addresses issue #2346 - adds links for JS npm modules and short descriptions

 docs/reference.md | 103 +++++++++++++++++++++++++++---------------------------
 1 file changed, 51 insertions(+), 52 deletions(-)

commit e3c02e731f83d289fb5ba7b6205c8bdbd804adb1
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Jun 8 16:31:15 2017 -0400

    Revert "Run scancode utility from the utility repo/project (#2325)" (#2349)
    
    This reverts commit 082c6693ca0f25f93aaf045fb36e98b502f08401.

 tools/build/ASFLicenseHeader.txt       |  16 +
 tools/build/ApacheIBMLicenseHeader.txt |  15 +
 tools/build/README.md                  |   4 +-
 tools/build/scanCode.cfg               |  54 ++++
 tools/build/scanCode.py                | 541 +++++++++++++++++++++++++++++++++
 tools/travis/build.sh                  |  10 +-
 6 files changed, 632 insertions(+), 8 deletions(-)

commit 082c6693ca0f25f93aaf045fb36e98b502f08401
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu Jun 8 10:23:25 2017 -0500

    Run scancode utility from the utility repo/project (#2325)
    
    * Run scancode utility from the utility repo/project
    
    * Removed scancode and supporting files from local, updated README

 tools/build/ASFLicenseHeader.txt       |  16 -
 tools/build/ApacheIBMLicenseHeader.txt |  15 -
 tools/build/README.md                  |   4 +-
 tools/build/scanCode.cfg               |  54 ----
 tools/build/scanCode.py                | 541 ---------------------------------
 tools/travis/build.sh                  |  10 +-
 6 files changed, 8 insertions(+), 632 deletions(-)

commit b5767c1f8a7927262f1f3264b343f1e21065dd52
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Jun 8 09:46:07 2017 -0400

    fix typo in actions.md (#2337)

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ade86999d58c1aeef4791f20c7116f02dedc2751
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Jun 8 12:34:40 2017 +0200

    Reverting CLI changes to restore master

 ansible/files/package-versions.ini                 |    2 -
 ansible/group_vars/all                             |   44 -
 ansible/roles/cli/files/createContentJson.sh       |   69 -
 ansible/roles/cli/tasks/deploy.yml                 |   29 +-
 ansible/roles/cli/tasks/download_cli.yml           |    2 -
 ansible/roles/cli/tasks/download_openwhisk_cli.yml |   69 -
 tools/cli/Dockerfile                               |   40 +
 tools/cli/README.md                                |   15 +
 tools/cli/build.gradle                             |   93 ++
 tools/cli/build.sh                                 |  105 ++
 tools/cli/go-whisk-cli/Godeps/Godeps.json          |   85 ++
 tools/cli/go-whisk-cli/Godeps/Readme               |    5 +
 tools/cli/go-whisk-cli/commands/action.go          |  922 ++++++++++++
 tools/cli/go-whisk-cli/commands/activation.go      |  363 +++++
 tools/cli/go-whisk-cli/commands/api.go             | 1585 ++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/commands.go        |  214 +++
 tools/cli/go-whisk-cli/commands/flags.go           |  131 ++
 tools/cli/go-whisk-cli/commands/namespace.go       |  126 ++
 tools/cli/go-whisk-cli/commands/package.go         |  581 +++++++
 tools/cli/go-whisk-cli/commands/property.go        |  486 ++++++
 tools/cli/go-whisk-cli/commands/rule.go            |  455 ++++++
 tools/cli/go-whisk-cli/commands/sdk.go             |  245 +++
 tools/cli/go-whisk-cli/commands/trigger.go         |  566 +++++++
 tools/cli/go-whisk-cli/commands/util.go            | 1069 +++++++++++++
 tools/cli/go-whisk-cli/commands/wsk.go             |   60 +
 tools/cli/go-whisk-cli/main.go                     |  105 ++
 tools/cli/go-whisk-cli/wski18n/detection.go        |   42 +
 tools/cli/go-whisk-cli/wski18n/i18n.go             |  147 ++
 .../go-whisk-cli/wski18n/resources/de_DE.all.json  |    0
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 1466 ++++++++++++++++++
 .../go-whisk-cli/wski18n/resources/es_ES.all.json  |    0
 .../go-whisk-cli/wski18n/resources/fr_FR.all.json  |    6 +
 .../go-whisk-cli/wski18n/resources/it_IT.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ja_JA.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ko_KR.all.json  |    0
 .../go-whisk-cli/wski18n/resources/pt_BR.all.json  |    0
 .../wski18n/resources/zh_Hans.all.json             |    0
 .../wski18n/resources/zh_Hant.all.json             |    0
 tools/cli/go-whisk/whisk/action.go                 |  213 +++
 tools/cli/go-whisk/whisk/activation.go             |  195 +++
 tools/cli/go-whisk/whisk/api.go                    |  586 ++++++++
 tools/cli/go-whisk/whisk/client.go                 |  600 ++++++++
 tools/cli/go-whisk/whisk/info.go                   |   68 +
 tools/cli/go-whisk/whisk/namespace.go              |  104 ++
 tools/cli/go-whisk/whisk/package.go                |  211 +++
 tools/cli/go-whisk/whisk/rule.go                   |  186 +++
 tools/cli/go-whisk/whisk/sdk.go                    |   74 +
 tools/cli/go-whisk/whisk/shared.go                 |   36 +
 tools/cli/go-whisk/whisk/trace.go                  |   93 ++
 tools/cli/go-whisk/whisk/trigger.go                |  188 +++
 tools/cli/go-whisk/whisk/util.go                   |   66 +
 tools/cli/go-whisk/whisk/wskerror.go               |  172 +++
 tools/cli/go-whisk/wski18n/detection.go            |   42 +
 tools/cli/go-whisk/wski18n/i18n.go                 |  147 ++
 .../cli/go-whisk/wski18n/resources/de_DE.all.json  |    0
 .../cli/go-whisk/wski18n/resources/en_US.all.json  |  126 ++
 .../cli/go-whisk/wski18n/resources/es_ES.all.json  |    0
 .../cli/go-whisk/wski18n/resources/fr_FR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/it_IT.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ja_JA.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ko_KR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/pt_BR.all.json  |    0
 .../go-whisk/wski18n/resources/zh_Hans.all.json    |    0
 .../go-whisk/wski18n/resources/zh_Hant.all.json    |    0
 64 files changed, 12033 insertions(+), 201 deletions(-)

commit 725c4aa5acf2983106c855bd7b486a0124449839
Author: Vincent <shou@us.ibm.com>
Date:   Thu Jun 8 01:18:16 2017 -0400

    Change the unzip of Linux binary from local to remote (#2342)
    
    Vincent needs this change for a problem he is seeing in certain install/builds.

 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit e75d552a10096105814020918df2c5bbcaca0ea3
Author: Vincent <shou@us.ibm.com>
Date:   Wed Jun 7 22:00:02 2017 -0400

    Update the Nginx directory for CLI to unarchive (#2340)

 ansible/roles/cli/tasks/download_openwhisk_cli.yml | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit 63b33e36ca06f9e4d6f61073a13e5fd459b42b77
Author: Vincent <shou@us.ibm.com>
Date:   Wed Jun 7 16:01:53 2017 -0400

    Add the support to install the binaries from the new repo (#2190)
    
    * Rename build.sh into createContent.sh
    
    * Add the support to install the binaries from the new repo
    
    This PR adds the functionalities to either install openwhisk
    binaries from the releases page of openwhisk cli or build the
    binaries locally.
    
    The key installation_mode of openwhisk_cli dict can be set to
    download, meaning to download the binaries, or build, meaning
    to build the binaries locally. The default value is download.
    
    Closes-Bug: #2101

 ansible/files/package-versions.ini                 |    2 +
 ansible/group_vars/all                             |   44 +
 ansible/roles/cli/files/createContentJson.sh       |   69 +
 ansible/roles/cli/tasks/deploy.yml                 |   29 +-
 ansible/roles/cli/tasks/download_cli.yml           |    2 +
 ansible/roles/cli/tasks/download_openwhisk_cli.yml |   67 +
 tools/cli/Dockerfile                               |   40 -
 tools/cli/README.md                                |   15 -
 tools/cli/build.gradle                             |   93 --
 tools/cli/build.sh                                 |  105 --
 tools/cli/go-whisk-cli/Godeps/Godeps.json          |   85 --
 tools/cli/go-whisk-cli/Godeps/Readme               |    5 -
 tools/cli/go-whisk-cli/commands/action.go          |  922 ------------
 tools/cli/go-whisk-cli/commands/activation.go      |  363 -----
 tools/cli/go-whisk-cli/commands/api.go             | 1585 --------------------
 tools/cli/go-whisk-cli/commands/commands.go        |  214 ---
 tools/cli/go-whisk-cli/commands/flags.go           |  131 --
 tools/cli/go-whisk-cli/commands/namespace.go       |  126 --
 tools/cli/go-whisk-cli/commands/package.go         |  581 -------
 tools/cli/go-whisk-cli/commands/property.go        |  486 ------
 tools/cli/go-whisk-cli/commands/rule.go            |  455 ------
 tools/cli/go-whisk-cli/commands/sdk.go             |  245 ---
 tools/cli/go-whisk-cli/commands/trigger.go         |  566 -------
 tools/cli/go-whisk-cli/commands/util.go            | 1069 -------------
 tools/cli/go-whisk-cli/commands/wsk.go             |   60 -
 tools/cli/go-whisk-cli/main.go                     |  105 --
 tools/cli/go-whisk-cli/wski18n/detection.go        |   42 -
 tools/cli/go-whisk-cli/wski18n/i18n.go             |  147 --
 .../go-whisk-cli/wski18n/resources/de_DE.all.json  |    0
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 1466 ------------------
 .../go-whisk-cli/wski18n/resources/es_ES.all.json  |    0
 .../go-whisk-cli/wski18n/resources/fr_FR.all.json  |    6 -
 .../go-whisk-cli/wski18n/resources/it_IT.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ja_JA.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ko_KR.all.json  |    0
 .../go-whisk-cli/wski18n/resources/pt_BR.all.json  |    0
 .../wski18n/resources/zh_Hans.all.json             |    0
 .../wski18n/resources/zh_Hant.all.json             |    0
 tools/cli/go-whisk/whisk/action.go                 |  213 ---
 tools/cli/go-whisk/whisk/activation.go             |  195 ---
 tools/cli/go-whisk/whisk/api.go                    |  586 --------
 tools/cli/go-whisk/whisk/client.go                 |  600 --------
 tools/cli/go-whisk/whisk/info.go                   |   68 -
 tools/cli/go-whisk/whisk/namespace.go              |  104 --
 tools/cli/go-whisk/whisk/package.go                |  211 ---
 tools/cli/go-whisk/whisk/rule.go                   |  186 ---
 tools/cli/go-whisk/whisk/sdk.go                    |   74 -
 tools/cli/go-whisk/whisk/shared.go                 |   36 -
 tools/cli/go-whisk/whisk/trace.go                  |   93 --
 tools/cli/go-whisk/whisk/trigger.go                |  188 ---
 tools/cli/go-whisk/whisk/util.go                   |   66 -
 tools/cli/go-whisk/whisk/wskerror.go               |  172 ---
 tools/cli/go-whisk/wski18n/detection.go            |   42 -
 tools/cli/go-whisk/wski18n/i18n.go                 |  147 --
 .../cli/go-whisk/wski18n/resources/de_DE.all.json  |    0
 .../cli/go-whisk/wski18n/resources/en_US.all.json  |  126 --
 .../cli/go-whisk/wski18n/resources/es_ES.all.json  |    0
 .../cli/go-whisk/wski18n/resources/fr_FR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/it_IT.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ja_JA.all.json  |    0
 .../cli/go-whisk/wski18n/resources/ko_KR.all.json  |    0
 .../cli/go-whisk/wski18n/resources/pt_BR.all.json  |    0
 .../go-whisk/wski18n/resources/zh_Hans.all.json    |    0
 .../go-whisk/wski18n/resources/zh_Hant.all.json    |    0
 64 files changed, 199 insertions(+), 12033 deletions(-)

commit 943d4b5fc5efd2418686c3be353d3fb4886b9faa
Author: daisy-ycguo <guoyingc@cn.ibm.com>
Date:   Tue Jun 6 21:46:23 2017 +0800

    Fix a small error in /tools/vagrant/README.md (#2332)

 tools/vagrant/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed39c03a0b9c1f5ab96da68cde1448e2ccfeb8d5
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Jun 6 07:23:44 2017 +0200

    Fix activation feed book-keeping in reactive pool (#2319)
    
    The old mechanism piggybacked on the `NeedWork` message to also claim free resources to the ActivationFeed. That is incomplete in that this won’t signal free resources for various failure scenarios.
    
    This decouples the `NeedWork` signal from the `ActivationComplete` signal to be able to pull in new ActivationMessages from the ActivationFeed reliably.
    
    Fixes #2285.

 .../whisk/core/containerpool/ContainerPool.scala   | 17 ++--
 .../whisk/core/containerpool/ContainerProxy.scala  | 91 +++++++++++++++-------
 .../whisk/core/dispatcher/ActivationFeed.scala     |  8 +-
 .../scala/whisk/core/invoker/InvokerReactive.scala |  4 +-
 .../containerpool/test/ContainerPoolTests.scala    |  7 +-
 .../containerpool/test/ContainerProxyTests.scala   |  6 +-
 6 files changed, 91 insertions(+), 42 deletions(-)

commit f3facf24a42f44e4233d2e2275c3375a1d153342
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Jun 5 10:49:12 2017 -0400

    clean up formatting docs for actions (#2321)

 docs/actions.md | 248 ++++++++++++++++++++++++++++++--------------------------
 1 file changed, 133 insertions(+), 115 deletions(-)

commit 9d86888d7492728ba9e5c5074aa5d7a742f37001
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Sat Jun 3 12:05:34 2017 -0400

    Use unique API Names for unique basepaths (#2329)
    
    - New API GW restriction

 tests/src/test/scala/whisk/core/cli/test/ApiGwTests.scala | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 71cec8f01af232dc396188be75bfe020a7d91028
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Jun 1 10:56:24 2017 +0200

    Install/upgrade six module before installing other dependencies (#2322)
    
    * Install/upgrade six module before installing other dependencies in travis
    
    * Explicitly upgrade six in action images

 .travis.yml                   | 4 ++--
 core/actionProxy/Dockerfile   | 2 +-
 core/python2Action/Dockerfile | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit ecccb638c3b5945500d24ea548ff7d51b93b9c39
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Jun 1 08:22:41 2017 +0200

    Add tool to delete logs from old activations (#2283)

 ...Cleanup_design_document_for_activations_db.json |   9 ++
 ansible/tasks/recreateViews.yml                    |   1 +
 .../database/test/CleanUpActivationsTest.scala     |  79 ++------------
 .../database/test/DatabaseScriptTestUtils.scala    | 113 +++++++++++++++++++++
 .../whisk/core/database/test/RemoveLogsTests.scala | 104 +++++++++++++++++++
 .../whisk/core/database/test/ReplicatorTests.scala | 107 ++++---------------
 tools/db/deleteLogsFromActivations.py              |  56 ++++++++++
 7 files changed, 309 insertions(+), 160 deletions(-)

commit 93aa3c64dc75e49afeb63421af6511cc44cdad0a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed May 31 16:40:41 2017 -0400

    Support interactive cli testing via input file (#2315)

 tests/src/test/scala/common/TestUtils.java | 19 +++++++++++++++++++
 tests/src/test/scala/common/Wsk.scala      |  3 ++-
 2 files changed, 21 insertions(+), 1 deletion(-)

commit f228784fefd100963df317e55bfc57824d367ae7
Author: digmore <digmore@users.noreply.github.com>
Date:   Thu Jun 1 05:55:16 2017 +1200

    Distributed deployment improvements (#2227)
    
    * Add apigateway group to the ansible distributed deployment
    
    The apigateway role of the Ansible deployment expects an apigateway
    group to be present in the inventory. The default Openstack deployment
    does not provision a dedicated instance for this though. This change
    configures the apigateway group to target the edge instance by default.
    
    This will also hopefully act as a hint for those skipping the Openstack
    provisioning step.
    
    * Restrict system reboots to only occur if there was a kernel package change
    
    Currently the whiskhost role will reboot Openwhisk instances whenever it is
    applied. This modification will restrict reboots to situations where the apt
    module actually reports a package change.
    
    This is particularly necessary when the bootstrapper instance itself is in
    the inventory for the deployment. Previously this situation would result in
    the playbook always terminating prematurely. Now the playbook may be run
    again to continue where it left off.
    
    * Improve default docker user guess when docker.user is not explicitly defined
    
    Previously the docker Ansible role from the deployment would default
    docker group membership to the contents of ansible_user. This variable
    is no longer being populated when following the distributed deployment
    instructions. This change attempts to improve the default selection.
    
    Ansible issues 13982, 14195 and 16072 demonstrate that making a better
    selection is not straight forward. This modification changes the
    default to ansible_user_id. The rationale for this is that root
    does not strictly need to be a member of the docker group, and if
    another user is in play then it was more likely the account used as
    an initial entry point to the host than the result of become in the
    playbook.
    
    * Remove unused template from ansible distributed inventory
    
    There is a template within the ansible distributed deployment
    inventory that is not used but is causing ansible inventory
    generation to report errors. This change removes the unnecessary
    file and the resulting empty templates directory.

 ansible/environments/distributed/hosts              |  2 ++
 ansible/environments/distributed/templates/hosts.j2 | 13 -------------
 ansible/roles/docker/tasks/deploy.yml               |  2 +-
 ansible/roles/whiskhost/tasks/patchKernel.yml       |  2 ++
 4 files changed, 5 insertions(+), 14 deletions(-)

commit e6942ec6168a956d99091ca70c3c0fd0849a1c0c
Author: Christian Bickel <github@cbickel.de>
Date:   Tue May 30 11:33:55 2017 +0200

    Rework config-dir variables (#2265)

 ansible/environments/distributed/group_vars/all         |  5 +----
 ansible/environments/local/group_vars/all               |  6 ++----
 ansible/environments/mac/group_vars/all                 |  6 ++----
 ansible/group_vars/all                                  |  9 ++++++++-
 ansible/roles/cli/tasks/clean.yml                       |  2 +-
 ansible/roles/cli/tasks/deploy.yml                      |  4 ++--
 ansible/roles/cli/tasks/main.yml                        |  2 +-
 ansible/roles/consul/tasks/clean.yml                    |  6 +++---
 ansible/roles/consul/tasks/deploy.yml                   |  6 +++---
 ansible/roles/consul/tasks/main.yml                     |  6 +++---
 ansible/roles/nginx/tasks/clean.yml                     |  2 +-
 ansible/roles/nginx/tasks/deploy.yml                    | 10 +++++-----
 ansible/roles/nginx/tasks/main.yml                      |  6 +++---
 ansible/roles/registry/tasks/deploy.yml                 | 14 +++++++-------
 ansible/roles/registry/templates/recycle-registry.py.j2 |  2 +-
 ansible/roles/routemgmt/tasks/clean.yml                 |  2 +-
 ansible/roles/routemgmt/tasks/deploy.yml                |  2 +-
 ansible/roles/sdk/tasks/clean.yml                       |  2 +-
 ansible/roles/sdk/tasks/deploy.yml                      |  4 ++--
 ansible/tasks/installOpenwhiskCatalog.yml               |  2 +-
 ansible/templates/whisk.properties.j2                   |  2 +-
 21 files changed, 50 insertions(+), 50 deletions(-)

commit 3fdbf99cb5ca4cc562f8afa420aa07526782872e
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon May 29 08:30:09 2017 -0400

    Make travis fast again (#2308)
    
    * make travis fast again
    
    * Refactor Unicode test to be able to exclude python and swift
    
    * color term expect gradlew
    
    * do apache license header
    
    * Use abstract class
    
    * exclude Java
    
    * remove initializer from abstract class

 .travis.yml                                        |  4 --
 tests/build.gradle                                 |  1 +
 .../scala/system/basic/WskUnicodeJavaTests.scala   | 35 ++++++++++++++
 .../scala/system/basic/WskUnicodeNodeTests.scala   | 35 ++++++++++++++
 .../system/basic/WskUnicodePython2Tests.scala      | 35 ++++++++++++++
 .../system/basic/WskUnicodePython3Tests.scala      | 35 ++++++++++++++
 .../scala/system/basic/WskUnicodeSwiftTests.scala  | 35 ++++++++++++++
 .../test/scala/system/basic/WskUnicodeTests.scala  | 56 +++++++++++-----------
 tools/travis/build.sh                              |  6 ++-
 9 files changed, 209 insertions(+), 33 deletions(-)

commit 94256c8c012bd27230d822ad1af68b83ccf33de8
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri May 26 17:42:58 2017 -0400

    use apigateway.version to pinned docker image (#2302)

 ansible/group_vars/all                    | 1 +
 ansible/roles/apigateway/tasks/deploy.yml | 4 ++--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 59ccd49719a154a76cbd6d8178ad373ab37cf7bf
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri May 26 16:57:02 2017 -0400

    Complete api-experimental conversion to web action (not experimental web action) (#2255)
    
    - Allows for better error response handling/messaging

 core/routemgmt/common/apigw-utils.js               | 78 +++++++++++++++-------
 core/routemgmt/common/utils.js                     | 46 ++++++-------
 core/routemgmt/createApi/createApi.js              | 37 +++++-----
 core/routemgmt/deleteApi/deleteApi.js              | 35 +++++-----
 core/routemgmt/getApi/getApi.js                    | 36 +++++-----
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 44 ++++++------
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 16 ++++-
 tools/cli/go-whisk-cli/commands/api.go             |  2 +-
 tools/cli/go-whisk/whisk/api.go                    |  8 +--
 tools/cli/go-whisk/whisk/client.go                 | 13 ++--
 10 files changed, 174 insertions(+), 141 deletions(-)

commit 09af32f730897f1cfede7902348d4a391395b077
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Fri May 26 10:00:21 2017 -0400

    Avoid dragging memory in the load balancer. (#2294)
    
    Use a WeakReference to the promise in the timeout handler to avoid capturing and dragging an activation.

 .../core/controller/actions/PrimitiveActions.scala   | 20 +++++++++++++-------
 .../core/loadBalancer/LoadBalancerService.scala      | 16 +++++++++++-----
 2 files changed, 24 insertions(+), 12 deletions(-)

commit 6509ed51598f8276a72db742c91cffac1f1f631c
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu May 25 19:35:29 2017 -0400

    temporary pinned apigateway to 0.7.0 (#2298)

 ansible/roles/apigateway/tasks/deploy.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4888f9931b61dc27ad74b384df6a5aed101d36be
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu May 25 17:37:23 2017 -0400

    update travis badge to point to apache (#2276)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 097b9e333513c6cdad935a9b14fc4dbac9667011
Author: Nick Mitchell <starpit@users.noreply.github.com>
Date:   Thu May 25 15:56:44 2017 -0400

    Controller memory tuning for zip actions: use Regex rather than Base64.decode (#2296)
    
    Reduces memory footprint of zip action CRUD.

 common/scala/src/main/scala/whisk/core/entity/Exec.scala | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit 1fefcdcca91b6fb931726a3e5a69b36d47e978e7
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed May 24 20:05:49 2017 +0200

    Make old container pool default to mitigate new pool book-keeping problems (#2286)

 ansible/environments/local/group_vars/all | 2 +-
 ansible/environments/mac/group_vars/all   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d64ce57f3ea7d6d4b4243d6150a984259effb035
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed May 24 06:29:16 2017 -0400

    Fix logs path since apache move. (#2280)

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 48e13a4a6f21ad295600835060324ece56cc0bd4
Author: Xin Cai <xincai@de.ibm.com>
Date:   Wed May 24 10:21:16 2017 +0200

    remove kafka volume when clean up (#2275)
    
    remove volume from zookeepr when cleaning up

 ansible/roles/kafka/tasks/clean.yml | 2 ++
 1 file changed, 2 insertions(+)

commit c036e0d1ee0be312dc5cc43cb2263ab3f0073b87
Author: Christian Bickel <github@cbickel.de>
Date:   Tue May 23 13:00:33 2017 +0200

    Update JDK version to 8.131.11 (#2278)
    
    * Update JDK version to 8.131.11
    
    * Update jre of java8action

 common/scala/Dockerfile    | 6 +++---
 core/javaAction/Dockerfile | 8 ++++----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 3ef91271a4a08739eadd8e586c86246c45d47c38
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon May 22 16:01:17 2017 -0400

    speed vagrant by downloading docker  images vs. build local (#2269)
    
    * speed vagrant by downloading docker  images vs. build local
    
    * Replace folder name openwhisk to incubator-openwhisk (#2272)
    
    * Change clone command dest folder name
    
    * added virtualbox req
    
    * add virtualbox to readme

 README.md                 |  4 ++--
 tools/vagrant/README.md   |  5 +++--
 tools/vagrant/Vagrantfile | 12 +++++++++---
 3 files changed, 14 insertions(+), 7 deletions(-)

commit d5b1950e5b85c234cd1207a55aeae8b14a246064
Author: Yash Thakkar <thakkaryash94@gmail.com>
Date:   Mon May 22 22:28:01 2017 +0530

    Replace folder name openwhisk to incubator-openwhisk (#2272)
    
    * Replace folder name openwhisk to incubator-openwhisk
    
    * Change clone command dest folder name
    
    Rename clone folder name from incubator-openwhisk to openwhisk

 tools/ubuntu-setup/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ae9e8fd49c01a5ce987345687891d9ac3eab61b4
Author: Kartik Singhal <kartiksinghal@gmail.com>
Date:   Fri May 19 12:23:28 2017 -0400

    Correct component name (#2260)

 tools/build/README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5a7467a5d156263a9eba9248e7c845f6f6e8af2e
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Fri May 19 15:43:03 2017 +0200

    expose and run GC for nodejs to avoid memory intensive actions to run in memory limit (#1826)
    
    Expose garbage collection so that it is explicitly available for use in actions

 core/nodejs6Action/Dockerfile                        |  2 +-
 tests/dat/actions/memoryWithGC.js                    | 13 +++++++++++++
 .../scala/whisk/core/limits/ActionLimitsTests.scala  | 20 ++++++++++++++++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit aee7958a7148ac75537afe70332945aa75a7ab06
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu May 18 08:15:10 2017 +0200

    Align ContainerProxy with settings of the old container pool
    
    In particular, the old pool kept containers around for 10 minutes. As the removal strategy does concurrent remove/create anyway keeping containers around for longer shouldn't harm.
    
    Also: Fix a leak with an uncaught message.

 .../src/main/scala/whisk/core/containerpool/ContainerProxy.scala     | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 6130c5ce94b7990f809a7da84126d98abffb02ca
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed May 17 08:12:36 2017 +0200

    Correctly recover from errors when fetching an action
    
    If the invoker fails to fetch an action from the database it needs to inform the ActivationFeed that it still has resources (it didn't consume a container after all).
    
    Reporting of those errors needs some disambiguation, as an error on fetching the action could also be caused by the user (for example by concurrently deleting the action while invoking it). The InvokerHealth protocol would shutdown the invoker, iff the activation was reported as a WHISK_ERROR. All errors but DocumentNotFound are considered WHISK_ERRORs though.
    
    Also in this commit:
    - Loglevel change from error to warn for a missing revision. The InvokerHealth protocol produces ERROR otherwise.
    - Some documentation and restructuring of the ContainerPool's setup.

 .../src/main/scala/whisk/http/ErrorResponse.scala  | 14 ++++++-----
 .../scala/whisk/core/invoker/InvokerReactive.scala | 29 ++++++++++++++++++----
 2 files changed, 32 insertions(+), 11 deletions(-)

commit 67941b48a05be593e90a80a1605605b9c88a0db1
Author: cclauss <cclauss@bluewin.ch>
Date:   Wed May 17 14:22:23 2017 +0200

    Define `long` integer for Python 3 (#2208)
    
    Define `long` integer for Python 3
    
    * https://docs.python.org/3.3/whatsnew/3.0.html#integers
    * https://www.python.org/dev/peps/pep-0237
    
    Halt the build on Flake8 errors `F821 undefined name` like "long', 'raw_input', etc. which were dropped from Python 3.

 tools/db/cleanUpActivations.py | 5 +++++
 tools/travis/flake8.sh         | 2 +-
 2 files changed, 6 insertions(+), 1 deletion(-)

commit edae7155a632ee7cf5af674fb67463fbb2099a4a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed May 17 10:50:26 2017 +0200

    Align future timeouts in DockerContainer tests

 .../core/containerpool/docker/test/DockerContainerTests.scala | 11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit 1f3f62638691754f278d5c5a0e741401a5fa7462
Author: Dominic Kim <style9595@gmail.com>
Date:   Wed May 17 20:10:12 2017 +0900

    Fix health check logic for zookeeper and redis to make it work on CentOS (#1998)

 ansible/roles/kafka/tasks/deploy.yml | 2 +-
 ansible/roles/redis/tasks/deploy.yml | 2 +-
 tools/health/isAlive                 | 4 ++--
 tools/health/monitorUtil.py          | 8 +++++---
 4 files changed, 9 insertions(+), 7 deletions(-)

commit 697caf7047257d4d81b1482843042d52e0a63541
Author: tysonnorris <tysonnorris@gmail.com>
Date:   Tue May 16 12:38:20 2017 -0700

    Optimize container removal (#2246)
    
    Only remove a container from the pool if action and invocationNamespace are different.
    
    Closes #2245

 .../whisk/core/containerpool/ContainerPool.scala   |  12 ++-
 .../containerpool/test/ContainerPoolTests.scala    | 114 ++++++++++++++++-----
 2 files changed, 95 insertions(+), 31 deletions(-)

commit 290545f683eb471223cb1e4deaa4931861d13bc7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue May 16 11:43:31 2017 +0200

    Bump connection-pool limit to 128 (#2244)
    
    This will allow 128 concurrent CouchDB requests in a single connection-pool.

 common/scala/src/main/resources/application.conf | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 755fbb1a7713594de5ddfcd1c28b31d055c7c690
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon May 15 19:29:19 2017 +0200

    Hook up reactive pool into invoker startup (#2228)
    
    
    Makes the new InvokerReactive accessible behind a feature flag `invoker_use_reactive_pool`.

 ansible/environments/local/group_vars/all          |   1 +
 ansible/environments/mac/group_vars/all            |   1 +
 ansible/group_vars/all                             |   1 +
 ansible/templates/whisk.properties.j2              |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 +
 .../whisk/core/database/DocumentFactory.scala      |   4 +-
 .../src/main/scala/whisk/core/entity/DocInfo.scala |   8 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |   4 +-
 .../core/loadBalancer/InvokerSupervision.scala     |   2 +-
 .../whisk/core/container/WhiskContainer.scala      |   6 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  36 ++--
 .../scala/whisk/core/invoker/InvokerReactive.scala | 182 +++++++++++++++++++++
 .../core/dispatcher/test/DispatcherTests.scala     |   2 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala |   2 +-
 .../test/InvokerSupervisionTests.scala             |   2 +-
 15 files changed, 226 insertions(+), 28 deletions(-)

commit ace50e3c6762120bbee55c0c01c50f2717aed8d2
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon May 15 12:46:38 2017 -0400

    replace github refs openwhisk to apache (#2236)

 .github/ISSUE_TEMPLATE.md                          |  2 +-
 README.md                                          |  2 +-
 ansible/README.md                                  |  2 +-
 .../scala/whisk/core/controller/Controller.scala   |  2 +-
 docs/about.md                                      |  2 +-
 docs/catalog.md                                    | 26 +++++++++++-----------
 tools/jenkins/apache/dockerhub.groovy              |  2 +-
 tools/ubuntu-setup/README.md                       |  2 +-
 tools/vagrant/README.md                            |  2 +-
 9 files changed, 21 insertions(+), 21 deletions(-)

commit 6ada7220f5dc621b185a74bb63fed95135b26289
Author: Christian Bickel <github@cbickel.de>
Date:   Mon May 15 17:35:21 2017 +0200

    Remove ability to store activations in the whisks database. (#2196)

 ansible/environments/distributed/group_vars/all      |  5 -----
 ansible/environments/local/group_vars/all            |  5 -----
 ansible/environments/mac/group_vars/all              |  5 -----
 .../files/whisks_design_document_for_actions_db.json | 20 ++++++++------------
 .../whisks_design_document_for_activations_db.json   |  7 +++----
 ansible/group_vars/all                               |  2 +-
 ansible/tasks/recreateViews.yml                      |  1 -
 7 files changed, 12 insertions(+), 33 deletions(-)

commit 7d9f0ae10fae660bfd706350e7961b00e4557699
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Mon May 15 14:13:17 2017 +0200

    make dns server configurable for user containers (#2232)

 ansible/templates/whisk.properties.j2                         |  1 +
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala      |  2 ++
 .../src/main/scala/whisk/core/container/Container.scala       |  3 ++-
 .../src/main/scala/whisk/core/container/ContainerPool.scala   |  6 ++++--
 .../src/main/scala/whisk/core/container/ContainerUtils.scala  | 11 +++++++----
 .../src/main/scala/whisk/core/container/WhiskContainer.scala  |  3 ++-
 .../whisk/core/containerpool/docker/DockerContainer.scala     |  5 +++++
 7 files changed, 23 insertions(+), 8 deletions(-)

commit 1ad56ca1a9f03eebffeb4da2099cd2baf59f92c4
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri May 12 08:22:42 2017 -0400

    Bump activation polling total timeout to accomodate occasional database delays (#2229)

 tests/src/test/scala/system/basic/WskBasicPythonTests.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 07f3380e158bd8807d50c5e32b6a38166c9225e1
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed May 10 16:18:04 2017 -0400

    Add wsk cli support for importing/exporting API configuration in YAML format (#2209)
    
    * Update CLI to support YAML API configuration
    - `wsk api get --format yaml`
    - wsk api create --config-file api.yaml
    
    * YAML API configuration tests
    
    * Code review updates
    
    * Improve action throttling check

 tests/dat/apigw/local.api.bad.yaml                 |   35 +
 tests/dat/apigw/local.api.yaml                     |   31 +
 tests/src/test/scala/common/Wsk.scala              |    6 +-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 1809 +++++++++++---------
 tools/cli/go-whisk-cli/Godeps/Godeps.json          |    7 +-
 tools/cli/go-whisk-cli/commands/action.go          |    2 +-
 tools/cli/go-whisk-cli/commands/api.go             |   55 +-
 tools/cli/go-whisk-cli/commands/flags.go           |    1 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   20 +-
 9 files changed, 1113 insertions(+), 853 deletions(-)

commit 86a55f50cdac9eda2b0ac0b3921b001e9e8b64e1
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed May 10 15:44:59 2017 -0400

    update refs links to apache links (#2231)

 ansible/group_vars/all                      | 2 +-
 ansible/roles/nginx/templates/nginx.conf.j2 | 2 +-
 docs/apigateway.md                          | 4 ++--
 docs/mobile_sdk.md                          | 6 +++---
 docs/samples.md                             | 4 ++--
 5 files changed, 9 insertions(+), 9 deletions(-)

commit 1b15af43fb3e8d0b7f0521943bba216d0bb95ff9
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed May 10 13:40:25 2017 -0400

    Update action doc to specifically call out JSON parameter parsing (#2223)

 docs/actions.md | 21 +++++++++++++++++++++
 1 file changed, 21 insertions(+)

commit 24ab9839cdc3d3d1ac0cab8e42da88b0f196ae44
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed May 10 17:00:41 2017 +0200

    DockerContainer implementation (#2177)
    
    An abstraction layer for using Docker containers as OpenWhisk action containers.

 .../scala/whisk/core/container/HttpUtils.scala     |   2 +-
 .../scala/whisk/core/containerpool/Container.scala |   6 +-
 .../core/containerpool/docker/DockerClient.scala   |  14 +-
 .../containerpool/docker/DockerContainer.scala     | 248 ++++++++
 .../scala/whisk/core/invoker/ActionLogDriver.scala |  14 +-
 .../docker/test/DockerClientTests.scala            |  19 +-
 .../test/DockerClientWithFileAccessTests.scala     |  30 +-
 .../docker/test/DockerContainerTests.scala         | 659 +++++++++++++++++++++
 .../containerpool/test/ContainerProxyTests.scala   |   4 +-
 .../whisk/core/invoker/ActionLogDriverTests.scala  |   8 +-
 10 files changed, 959 insertions(+), 45 deletions(-)

commit d6c6635368b4b34e924fa8021a0e0d1f8807d89e
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Wed May 10 08:34:55 2017 +0200

    DockerClient extension to provide file-based operations (#2161)
    
    Factor out all file-based operations from `DockerClient` such that the `DockerClient` can also work with a remote docker host. Two operations are supported:
    
    - Obtain a container's IP address: Read from container's config file in the first place and fallback to using docker inspect if file reading doesn't work. The file reading variant is preferable because it's faster than docker inspect.
    - Obtain a container's stdout/stderr output: Read from container's log output written by the JSON log driver.

 .../core/containerpool/docker/DockerClient.scala   |  18 +-
 .../docker/DockerClientWithFileAccess.scala        | 187 +++++++++++++++++++
 .../docker/test/DockerClientTests.scala            |  17 +-
 .../test/DockerClientWithFileAccessTests.scala     | 206 +++++++++++++++++++++
 4 files changed, 419 insertions(+), 9 deletions(-)

commit 1eada9cad7715fa4e5f77a0db7baae96d489d7a3
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue May 9 16:51:18 2017 -0500

    Assure db_prefix begins and consists of lowercase chars for valid douchdb db name (#2217)

 ansible/environments/distributed/group_vars/all | 2 +-
 ansible/environments/local/group_vars/all       | 2 +-
 ansible/environments/mac/group_vars/all         | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit f1a574f97c13c83f77a6175477847f9d904b0ab0
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue May 9 10:21:29 2017 -0400

    Add a fudge factor to handle clock skew in the invokers (#2197)
    
    Due to clock skew among invokers, it is possible for an action invoked by a rule _appears_ to start before the trigger which activated the rule was even fired. As such, these tests tend to fail because it is looking for action activations that start strictly after the time the trigger activation started.
    
    This change introduces a "fudge factor" to allow the test to find the expected action activations that appear to start at most 500ms before the trigger activation start time.
    
    Introducing the fudge factor makes it possible that activations from previous tests are found. Ensuring that entity names are unique between tests avoids this potential problem.

 .../src/test/scala/system/basic/WskRuleTests.scala | 105 ++++++++++++---------
 1 file changed, 59 insertions(+), 46 deletions(-)

commit ffc03207aa6baf73295ed5601cc74703c6e66040
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue May 9 13:50:52 2017 +0200

    Implement a containerpool controlling container proxies (#2151)
    
    This pool fulfills the other half of the ContainerProxy contract. Only
    one job (either Start or Run) is sent to a child-actor at any given
    time. The pool then waits for a response of that container, indicating
    the container is done with the job. Only then will the pool send another
    request to that container.
    
    Upon actor creation, the pool will start to prewarm containers according
    to the provided prewarmConfig, iff set. Those containers will **not** be
    part of the poolsize calculation, which is capped by the poolSize parameter.
    Prewarm containers are only used, if they have matching arguments
    (kind, memory) and there is space in the pool.

 .../whisk/core/containerpool/ContainerPool.scala   | 220 ++++++++++++
 .../whisk/core/containerpool/ContainerProxy.scala  |   8 +-
 .../whisk/core/dispatcher/ActivationFeed.scala     |   2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   2 +-
 .../containerpool/test/ContainerPoolTests.scala    | 386 +++++++++++++++++++++
 .../containerpool/test/ContainerProxyTests.scala   |   2 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   2 +-
 7 files changed, 614 insertions(+), 8 deletions(-)

commit cf19fb3568cc077d51eaecb10bc897d658503ce5
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri May 5 11:36:45 2017 -0400

    API GW CLI SSO support (#2207)
    
    * Support --sso command
    - Enable follow-up http body parsing to handle non-standard response body contents
    
    * Improved error message handling

 tools/cli/go-whisk-cli/commands/api.go             | 159 +++++++++++++--------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   4 +
 tools/cli/go-whisk/whisk/client.go                 |   8 +-
 3 files changed, 113 insertions(+), 58 deletions(-)

commit c1942907fa794306d6b46ee5bc2eec7b6d8e4d67
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu May 4 18:07:15 2017 -0400

    Rest api docs chapter content (#2201)
    
    * initial work on rest api chapter doc
    
    * fix grammar
    
    * replace BASE URL with APIHOST
    
    * mutiline curls
    
    * grammar fix
    
    * addressing review comments

 docs/reference.md |  56 +---------
 docs/rest_api.md  | 298 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 299 insertions(+), 55 deletions(-)

commit 73abc7ea8d2854edc17ad9474a79029183a4a131
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu May 4 21:33:25 2017 +0200

    Implement a proxy for a container to implement concurrent behavior (#2107)
    
    A proxy that wraps a Container. It is used to keep track of the lifecycle
    of a container and to guarantee a contract between the client of the container
    and the container itself.
    
    The contract is as follows:
    1. Only one job is to be sent to the ContainerProxy at one time. ContainerProxy
       will delay all further jobs until the first job is finished for defensiveness
       reasons.
    2. The next job can be sent to the ContainerProxy after it indicated capacity by
       sending NeedWork to its parent.
    3. A Remove message can be sent at any point in time. Like multiple jobs though,
       it will be delayed until the currently running job has finished.

 .../src/main/scala/whisk/core/entity/Exec.scala    |   2 +-
 .../scala/whisk/core/entity/ExecManifest.scala     |   6 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  48 ++
 .../main/scala/whisk/core/container/package.scala  |  10 +-
 .../scala/whisk/core/containerpool/Container.scala |  66 +++
 .../whisk/core/containerpool/ContainerProxy.scala  | 390 +++++++++++++++
 tests/build.gradle                                 |   1 +
 tests/src/test/scala/common/LoggedFunction.scala   |  52 ++
 .../containerpool/test/ContainerProxyTests.scala   | 543 +++++++++++++++++++++
 9 files changed, 1113 insertions(+), 5 deletions(-)

commit 5033baeb3d0c07d6c3866a11ad11e84c37938fad
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 4 14:00:17 2017 -0500

    Update README.md

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 749132a1a86f7aef7a8dce7d5e253f5f0c33472d
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 4 13:55:27 2017 -0500

    Update README.md

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 811284623cc419cc686ad3722ebf732cf28bc3d8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Apr 28 14:05:21 2017 +0200

    Remove ansible templating warnings

 ansible/roles/couchdb/tasks/deploy.yml | 4 ++--
 ansible/roles/nginx/tasks/deploy.yml   | 2 +-
 ansible/tasks/db/recreateDb.yml        | 4 ++--
 ansible/tasks/db/recreateDoc.yml       | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit 9b84f71c1a5b8035a854ba454c4e8d3c5180bb9b
Author: Christian Bickel <github@cbickel.de>
Date:   Thu May 4 13:58:51 2017 +0200

    Replace sleep with retry in Consul test (#2213)

 .../src/test/scala/whisk/consul/ConsulClientTests.scala  | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit ab4459591abf822d51d1001cb41eaa4b0f64e5db
Author: Christian Bickel <github@cbickel.de>
Date:   Tue May 2 13:45:30 2017 +0200

    Add exclude parameter to replication script (#2203)

 .../whisk/core/database/test/ReplicatorTests.scala | 33 +++++++++++++++++++---
 tools/db/replicateDbs.py                           | 21 ++++++++++++--
 2 files changed, 48 insertions(+), 6 deletions(-)

commit cd90e436e73d160c2460fc8a2931fb2f1b390589
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon May 1 19:20:18 2017 -0400

    Delete Trigger Feed Before Trigger (#2187)
    
    * Delete Trigger Feed Before Trigger
    
    - Dissociate a feed from a trigger before a trigger is deleted
    
    * Reset Namespace and Params after Feed Deletion

 .../test/scala/system/basic/WskBasicTests.scala    |  2 +-
 tools/cli/go-whisk-cli/commands/trigger.go         | 48 ++++++++++++++--------
 2 files changed, 33 insertions(+), 17 deletions(-)

commit fb001afa237476eda0c0f6494ee92702e5986538
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon May 1 11:44:04 2017 -0400

    Add info routes to provide deployment configuration (#1980)
    
    * Add controller endpoint to query deployment configuration.
    
    Configuration include runtimes, limits, api paths.
    Add new swagger for runtime manifest schema.
    Add response validation against swagger.
    Add swagger routes test.
    
    * Make image name required for RuntimeManifest.
    Add default prefix and tag.
    Add list of native black box images.
    Sanitize docker image names.
    
    * Remove redundant build info from top level.
    Remove cli properties.
    Add slack link.
    
    * Remove broken test temporarily.

 ansible/environments/distributed/group_vars/all    |   1 -
 ansible/group_vars/all                             |  82 +++++++----
 .../main/scala/whisk/core/entity/EntityPath.scala  |  10 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  60 ++++----
 .../scala/whisk/core/entity/ExecManifest.scala     | 160 ++++++++++++++++-----
 .../{whiskswagger.json => apiv1swagger.json}       |  25 ----
 .../controller/src/main/resources/infoswagger.json | 140 ++++++++++++++++++
 .../scala/whisk/core/controller/Controller.scala   |  35 ++++-
 .../scala/whisk/core/controller/RestAPIs.scala     |  71 +++++----
 .../scala/whisk/core/container/ContainerPool.scala |  11 +-
 docs/reference.md                                  |   2 +-
 docs/rest_api.md                                   |   2 +-
 .../test/scala/system/basic/WskBasicTests.scala    |   2 +-
 .../test/scala/system/rest/ActionSchemaTests.scala |  12 +-
 tests/src/test/scala/system/rest/RestUtil.scala    |  10 +-
 .../core/controller/test/ActionsApiTests.scala     |   8 +-
 .../core/controller/test/SwaggerRoutesTests.scala  |  56 ++++++++
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  31 +++-
 .../whisk/core/entity/test/ExecManifestTests.scala | 123 ++++++++++++++--
 19 files changed, 643 insertions(+), 198 deletions(-)

commit 50209d68b67a9ec49e61e67bee8dcea0833e9433
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Apr 28 20:22:47 2017 +0200

    Bump ansible to 2.3, docker (for python) to 2.2.1 (#1510)
    
    * Bump ansible to 2.2, docker-py to 1.10.6
    
    * Bump ansible to 2.3
    
    This resolves a versioning issue with docker for python and enables us to finally move to a more recent release of the latter.
    
    * Adjust dockerhub.groovy
    
    * Clean up the right package

 ansible/README.md                     | 4 ++--
 ansible/roles/prereq/tasks/clean.yml  | 4 ++--
 ansible/roles/prereq/tasks/deploy.yml | 6 +++---
 tools/jenkins/apache/dockerhub.groovy | 4 ++--
 tools/macos/README.md                 | 4 ++--
 tools/macos/tweak-dockermachine.sh    | 2 +-
 tools/travis/setup.sh                 | 2 +-
 tools/ubuntu-setup/ansible.sh         | 4 ++--
 8 files changed, 15 insertions(+), 15 deletions(-)

commit b225f6bf3058b9630f22fb5f16605acc4c81724a
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Apr 28 11:25:15 2017 +0200

    Implement a cache backed by Caffeine (#2193)
    
    Caffeine is the successor of ConcurrentLinkedHashMap, which is no longer under active development. spray.caching hasn't upgraded yet, so this is our own implementation of spray.caching using Caffeine.
    
    Benefits are:
    - Better performance.
    - Usage of SoftReferences to correspond to memory pressure.
    
    For more details, see: https://github.com/ben-manes/caffeine/

 common/scala/build.gradle                          |  2 +
 .../MultipleReadersSingleWriterCache.scala         | 48 ++++++++++++++++++++--
 2 files changed, 47 insertions(+), 3 deletions(-)

commit 955af5a41339fa4b8246dab45dfbb744439bf7bc
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Apr 28 09:02:53 2017 +0200

    Make JVM options available at deployment time (#2194)
    
    Currently, JVM settings are hardcoded into our images. The only value we really want to have on those applications is the restart on OOM behavior though. The other settings are highly dependent on the deployment infrastructure.
    
    - `controller|invoker_heap` are used to control the heap of both components.
    - `controller|invoker_arguments` are used for free-form JVM arguments.

 ansible/group_vars/all                    | 4 ++++
 ansible/roles/controller/tasks/deploy.yml | 2 ++
 ansible/roles/invoker/tasks/deploy.yml    | 2 ++
 core/controller/build.gradle              | 2 +-
 core/invoker/build.gradle                 | 2 +-
 5 files changed, 10 insertions(+), 2 deletions(-)

commit c1694e35562c9d472326f3329dc287848b1da41c
Author: Dominic Kim <style9595@gmail.com>
Date:   Fri Apr 28 05:18:19 2017 +0900

    Make nginx ssl configurable (#2105)

 ansible/group_vars/all                      |  6 ++++++
 ansible/roles/nginx/tasks/deploy.yml        | 10 ++++++++--
 ansible/roles/nginx/templates/nginx.conf.j2 |  7 +++++--
 ansible/setup.yml                           |  3 ++-
 ansible/templates/whisk.properties.j2       |  4 ++--
 5 files changed, 23 insertions(+), 7 deletions(-)

commit 8ab54b5ce32cbb02db4e1062152121397e6074be
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Apr 27 15:17:18 2017 -0400

    update wsk api docs remove experimental (#2173)
    
    * update wsk api docs remove experimental
    
    * addresing comments from @akrabat
    
    * moore update in intro
    
    * updated sub title
    
    * more updates
    
    * update wsk api docs remove experimental
    
    * addresing comments from @akrabat
    
    * moore update in intro
    
    * updated sub title
    
    * more updates
    
    * made link to apigateway more generic
    
    * updates on typos, and links to v2 apigateway docs
    
    * fix typo reger

 docs/apigateway.md | 228 +++++++++++++++++++++++++++++++++--------------------
 1 file changed, 143 insertions(+), 85 deletions(-)

commit c3bcba259532718423d5b370c547f6daf1a49a5c
Author: Tyler Pinckard <tyjapi@aol.com>
Date:   Thu Apr 27 10:36:49 2017 -0700

    Update README.md (#2199)
    
    Correcting link to point to valid destination
    - previous target../vagrant/custom/README.md results in 404

 tools/db/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f6a296591c73b121f506b2ba93c4dd2a37a1ed5
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Apr 27 15:58:23 2017 +0200

    Set default db for activations to activations-db (#2134)

 ansible/environments/distributed/group_vars/all | 2 +-
 ansible/environments/local/group_vars/all       | 2 +-
 ansible/environments/mac/group_vars/all         | 2 +-
 ansible/group_vars/all                          | 9 ++++++++-
 ansible/tasks/db/recreateDb.yml                 | 6 +++---
 5 files changed, 14 insertions(+), 7 deletions(-)

commit be348b1070a57f6f946de0947e16fc71b0f5e0f1
Author: RSulzmann <robi@de.ibm.com>
Date:   Thu Apr 27 15:17:45 2017 +0200

    Don't print auth key on console (#2115)

 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  2 +-
 tools/cli/go-whisk-cli/commands/property.go        | 24 ++++------------------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 12 +++++------
 3 files changed, 11 insertions(+), 27 deletions(-)

commit ecb0c77c9753ea631b23c88b75f8cbb972efc207
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Apr 27 11:31:34 2017 +0200

    Abort old replications even if they are still running (#2154)

 .../whisk/core/database/test/ReplicatorTests.scala | 41 +++++++++++++++++-----
 tools/db/replicateDbs.py                           | 10 +++++-
 2 files changed, 41 insertions(+), 10 deletions(-)

commit 7805f6b2ed79b669cd688c214f7bcff287dc6351
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Apr 27 11:29:56 2017 +0200

    Move markers to more appropriate places (#1835)

 .../main/scala/whisk/core/controller/Actions.scala |  3 --
 .../core/controller/actions/PrimitiveActions.scala | 33 ++++++++--------------
 2 files changed, 12 insertions(+), 24 deletions(-)

commit d2aef8c58cce802d7f190b954753bf5dce31647f
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Feb 24 10:54:01 2017 +0100

    Add unhealthy state for invokers.
    
    An invoker starts in an unhealthy state on start up (after a ping brings it to "up" state).
    Activations from users are not sent to an unhealthy invoker.
    
    When unhealthy, invoker must ack several successful activations to be considered healthy;
    these activations are the result of a special test activation request.
    
    The test action for the health check is created at startup.

 common/scala/build.gradle                          |   1 +
 .../src/main/scala/whisk/common/Logging.scala      |   4 +
 .../src/main/scala/whisk/common/RingBuffer.scala   |  31 ++++
 .../main/scala/whisk/core/connector/Message.scala  |   5 +-
 .../scala/whisk/core/controller/Controller.scala   |   2 +-
 .../core/loadBalancer/InvokerSupervision.scala     | 193 +++++++++++++++++++--
 .../core/loadBalancer/LoadBalancerService.scala    | 110 ++++++++----
 .../main/scala/whisk/core/invoker/Invoker.scala    |   2 +-
 .../test/InvokerSupervisionTests.scala             | 159 ++++++++++++++++-
 9 files changed, 450 insertions(+), 57 deletions(-)

commit 7f1c66005f8709381d4154bb21b4721e011954d8
Author: dan mcweeney <me@danmcweeney.com>
Date:   Tue Apr 25 20:19:56 2017 -0400

    Fix #2157 - Make provisioning work when setting machine IP (#2158)

 tools/vagrant/Vagrantfile | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit 05c6096cd04338c7cbd34b3f24462b1bed279f5a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Apr 25 18:49:03 2017 -0400

    wsk api create to enable CORS by default (#2184)
    
    * Always enable CORS when API created via CLI
    - Update parsing to display entire swagger contents, including CORS setting
    - Similar update needed when importing complete swagger
    
    * Update test to include confirmation of "cors" field being set.

 core/routemgmt/common/apigw-utils.js               |  7 ++-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     |  1 +
 tools/cli/go-whisk-cli/commands/api.go             | 55 +++++++++++++++++++++-
 tools/cli/go-whisk/whisk/api.go                    |  5 +-
 4 files changed, 62 insertions(+), 6 deletions(-)

commit e83821df5a44df0cf9738e6edfeacfbb70deca3f
Author: Zohaib Khan <Zee-Khan@users.noreply.github.com>
Date:   Tue Apr 25 12:35:17 2017 -0700

    Removed extra hyphen in optional namespace argument (#2183)

 tools/vagrant/README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bc9c3b2aff2ff42fc3f44650b4fa1184dfb86eb7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Apr 25 12:09:12 2017 +0200

    Bump gradle to version 3.5 (#2176)
    
    This includes a much nicer output, especially with parallel jobs.

 gradle/wrapper/gradle-wrapper.jar        | Bin 54208 -> 54783 bytes
 gradle/wrapper/gradle-wrapper.properties |   4 ++--
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 4916d366a321475c51fea13a4dc416ee200b3f76
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Apr 24 12:16:59 2017 -0400

    update watson npm version in ref doc (#2174)

 docs/reference.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a56c45dec0203d54d89674163b4133597c0c5c0
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Sun Apr 23 17:21:03 2017 -0400

    Fix api endpont deletion logic that does not completely delete the endpoint (#2172)

 core/routemgmt/common/apigw-utils.js   | 8 ++++++--
 tools/cli/go-whisk-cli/commands/api.go | 2 +-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 03e041c416e19283cf1e1f2b58da85687c0c8dd5
Author: David Liu <david.liu@cn.ibm.com>
Date:   Mon Jan 23 15:32:45 2017 +0800

    Fix cli parsing floating point number issue.

 tests/src/test/scala/whisk/core/cli/test/JsonArgsForTests.scala | 5 +++++
 tools/cli/go-whisk-cli/commands/util.go                         | 8 +++++---
 2 files changed, 10 insertions(+), 3 deletions(-)

commit 608c7954437f133a7efc3e0ba8803eec33834891
Author: gabe-l-hart <gabe.l.hart@gmail.com>
Date:   Sat Apr 22 06:51:28 2017 -0600

    Update doc to more accurately reflect input mechanism for Docker actions (#2145)

 docs/reference.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3bc704eba473f831aa21fcf77f713c89af1db6aa
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Sat Apr 22 07:06:39 2017 -0400

    Remove "COMING SOON" from `wsk api` help plus critical fixes (#2149)
    
    * Remove "COMING SOON" from `wsk api` help
    
    * Auto supply a dummy API GW token when working against the open api gw
    
    * Correct API GW error response handling
    
    * Add --response-type to `wsk api create`
    
    * When api is created without a web action, provide sample command to convert action to web action

 core/routemgmt/common/apigw-utils.js               | 38 +++++-----
 core/routemgmt/createApi/createApi.js              |  4 +-
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  1 +
 tests/src/test/scala/common/Wsk.scala              |  4 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  6 +-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 41 ++++++++++-
 tools/cli/go-whisk-cli/commands/action.go          |  3 +-
 tools/cli/go-whisk-cli/commands/api.go             | 81 ++++++++--------------
 tools/cli/go-whisk-cli/commands/flags.go           |  1 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 28 ++++----
 tools/cli/go-whisk/whisk/api.go                    |  1 +
 11 files changed, 116 insertions(+), 92 deletions(-)

commit 7a7da73b8cd00bfe8f6d72206e38b25e5c285c1b
Author: Stephen Fink <fink.stephen@gmail.com>
Date:   Fri Apr 21 16:58:53 2017 -0400

    update watson-developer-cloud npm to 2.29.0 (#2168)

 core/nodejs6Action/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0dad5f7b8a4715feb7291f33775b7c06214137c4
Author: cclauss <cclauss@bluewin.ch>
Date:   Fri Apr 21 08:45:33 2017 +0200

    Avoid clobbering Python's built-in dict datatype.
    
    It considered bad practice to name a variable in such a way that it clobbers access to Python's built-in [dict](https://docs.python.org/3/library/stdtypes.html#mapping-types-dict) datatype.

 tests/dat/actions/hello.py | 11 ++++-------
 1 file changed, 4 insertions(+), 7 deletions(-)

commit e9fde2968d902194e791de62ec2246988bfcb772
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Apr 20 16:54:58 2017 +0200

    Write a startup log in each component

 common/scala/src/main/scala/whisk/common/Logging.scala      | 13 +++++++++++++
 .../src/main/scala/whisk/core/controller/Controller.scala   |  3 ++-
 .../invoker/src/main/scala/whisk/core/invoker/Invoker.scala |  2 ++
 3 files changed, 17 insertions(+), 1 deletion(-)

commit 25b3d01ea60c9f0c586e317677c151dc9240968c
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Apr 20 09:42:38 2017 +0200

    Make CleanupTest more robust

 .../scala/whisk/core/database/test/CleanUpActivationsTest.scala     | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2416c3f2d36680c577c38ce3c2d4a19ba2f3d77b
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Apr 20 13:41:22 2017 +0200

    Make InvokerSupervisionTest more robust

 .../test/InvokerSupervisionTests.scala             | 54 ++++++++++++----------
 1 file changed, 29 insertions(+), 25 deletions(-)

commit 6a7d452afaf4419381d73fcaf963757e33e72375
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Apr 19 13:46:28 2017 -0400

    Remove 'OK' from HTTP response when no 'body' is present. (#2148)
    
    * Remove 'OK' from HTTP response when no 'body' is present.
    
    * Add default clarification for body.
    
    * Documentation tweak.

 .../scala/whisk/core/controller/WebActions.scala   |  4 +-
 docs/actions.md                                    |  4 +-
 docs/webactions.md                                 |  2 +-
 .../core/controller/test/WebActionsApiTests.scala  | 49 +++++++++++++++++++++-
 4 files changed, 53 insertions(+), 6 deletions(-)

commit a92111ed4151a3651277b87dd5269f944f6c644e
Author: Xin Cai <xincai@de.ibm.com>
Date:   Tue Mar 7 13:03:45 2017 +0100

    add tool to delete activations older than the given days
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 ...vations_design_document_for_activations_db.json |   9 +
 ansible/tasks/db/recreateDoc.yml                   |  18 +-
 ansible/tasks/initdb.yml                           |  10 +-
 ansible/tasks/recreateViews.yml                    |  21 ++-
 .../database/test/CleanUpActivationsTest.scala     | 193 +++++++++++++++++++++
 tools/db/cleanUpActivations.py                     |  46 +++++
 6 files changed, 274 insertions(+), 23 deletions(-)

commit 5ccb1dae1f7d315f53f1de4023d19b1455a89d5e
Author: Robert Sulzmann <robi@de.ibm.com>
Date:   Thu Apr 6 11:03:14 2017 +0200

    Makes --blocking optional when specifying --result.

 README.md                                          |  2 +-
 ansible/README_DISTRIBUTED.md                      |  2 +-
 docs/actions.md                                    | 29 +++++++++++-----------
 docs/packages.md                                   | 14 +++++------
 docs/samples.md                                    |  4 +--
 .../test/scala/system/basic/WskBasicTests.scala    | 10 ++++----
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 11 ++++++++
 tools/cli/go-whisk-cli/commands/action.go          |  3 ++-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  4 +--
 tools/macos/README.md                              |  2 +-
 tools/ubuntu-setup/README.md                       |  2 +-
 tools/vagrant/README.md                            |  8 +++---
 tools/vagrant/Vagrantfile                          |  2 +-
 13 files changed, 53 insertions(+), 40 deletions(-)

commit 27a6416d7fa7b2c17c9f676a27a3bbd78a53ebd7
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Apr 18 22:18:01 2017 -0400

    Make Error Messages Consistent in CLI (#2054)
    
    Ensure entity name is printed for activation, rules, triggers when failure occurs

 tests/src/test/scala/common/Wsk.scala              |  29 ++--
 .../test/scala/system/basic/WskBasicTests.scala    | 168 ++++++++++++++++++++-
 .../src/test/scala/system/basic/WskRuleTests.scala |   4 +-
 tools/cli/go-whisk-cli/commands/action.go          |   8 +-
 tools/cli/go-whisk-cli/commands/activation.go      |   6 +-
 tools/cli/go-whisk-cli/commands/package.go         |  21 ++-
 tools/cli/go-whisk-cli/commands/rule.go            |   4 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  44 +++---
 8 files changed, 223 insertions(+), 61 deletions(-)

commit 810a82de7b25e1385b43c173bfb881382f9774c2
Author: Paul Castro <castrop@us.ibm.com>
Date:   Tue Apr 18 22:11:09 2017 -0400

    Adds multiple file support for Swift actions with zip files. (#1993)
    
    Also fixes bad redirect in build script.

 core/swift3Action/buildandrecord.py                |   9 +-
 core/swift3Action/epilogue.swift                   |   4 +-
 .../spm-build/{Whisk.swift => _Whisk.swift}        | 121 +++++++++------------
 ...{WhiskJsonUtils.swift => _WhiskJSONUtils.swift} |  41 +++----
 core/swift3Action/swift3runner.py                  |  11 +-
 tests/dat/actions/multiSwift.zip                   | Bin 0 -> 611 bytes
 .../SwiftActionContainerTests.scala                |  28 ++++-
 7 files changed, 109 insertions(+), 105 deletions(-)

commit a4e333539be0f613d9712c13bddb5239c41be628
Author: Paul Castro <castrop@us.ibm.com>
Date:   Sat Apr 15 09:12:48 2017 -0400

    Fixes issue #2144, use JSONSerialization to create json strings in WhiskJsonUtils.swift (#2146)

 core/swift3Action/spm-build/WhiskJsonUtils.swift | 28 ++++++++++++++----------
 1 file changed, 16 insertions(+), 12 deletions(-)

commit bc204c63bb9e673177ec5f95df50853b875875dc
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Apr 14 16:41:20 2017 -0400

    API GW swagger specification change (#2142)

 core/routemgmt/common/apigw-utils.js | 16 ++++------------
 1 file changed, 4 insertions(+), 12 deletions(-)

commit ab93ecc21254b12a52dc8ac71cc5f64329b4bc7f
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Apr 13 17:39:25 2017 -0400

    API GW V2 - Add 'wsk api` command (#2068)
    
    * API GW V2 CLI - Add 'wsk api' command
    - Support both 'wsk api-experimental' and 'wsk api' commands (separate PR wil deprecate `api-experimental`)
    - 'wsk api' command requires that the target action exist and that it's a web action
    
    * API GW V2 CLI - 'wsk api' tests
    * Add "COMING SOON" label to 'wsk api' help
    * API update needs additional param
    * Reduce travis test execution time

 core/routemgmt/createApi/createApi.js              |   1 +
 tests/build.gradle                                 |   1 +
 tests/dat/actions/echo-web-http.js                 |  10 +
 tests/dat/apigw/testswaggerdoc1V2                  |  61 ++
 tests/dat/apigw/testswaggerdoc2V2                  | 117 +++
 .../apigw/healthtests/ApiGwEndToEndTests.scala     | 137 +++-
 tests/src/test/scala/common/Wsk.scala              | 116 ++-
 .../scala/whisk/core/cli/test/ApiGwTests.scala     | 681 ++++++++++++++--
 tools/cli/go-whisk-cli/commands/action.go          |  35 +
 tools/cli/go-whisk-cli/commands/api.go             | 908 ++++++++++++++++++---
 tools/cli/go-whisk-cli/commands/util.go            |  22 +-
 tools/cli/go-whisk-cli/commands/wsk.go             |   1 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  68 +-
 tools/cli/go-whisk/whisk/api.go                    | 395 ++++++++-
 14 files changed, 2309 insertions(+), 244 deletions(-)

commit 521fbf4047c404cc0483062d962219f135d02902
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Apr 13 15:00:08 2017 -0400

    Remove `sealed` qualifier from RunWskCmd trait (#2139)
    
    Allows class extension outside of Wsk.scala file.

 tests/src/test/scala/common/Wsk.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57ac555556b09f8b99feef30daa0b3c0dfaf13aa
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Apr 12 17:56:13 2017 +0200

    Reduce unnecessary typecasts in log reading + turn off activation caching (#2130)
    
    
    These bits are rather sensitive and can have quite high volumes of data passing through. Therefore, casting through different collections is to be avoided.

 .../src/main/scala/whisk/core/entity/WhiskActivation.scala |  4 +++-
 .../main/scala/whisk/core/invoker/ActionLogDriver.scala    | 14 +++++++++-----
 .../src/main/scala/whisk/core/invoker/Invoker.scala        | 12 +++---------
 .../scala/whisk/core/invoker/ActionLogDriverTests.scala    | 13 ++++++-------
 4 files changed, 21 insertions(+), 22 deletions(-)

commit 7e4f5f63dd880d4b7f29f356610e394b428193cb
Author: Christian Bickel <github@cbickel.de>
Date:   Wed Apr 12 15:00:47 2017 +0200

    Add flag to configure split of whisks and activations db. (#2123)

 ansible/environments/distributed/group_vars/all | 5 +++++
 ansible/environments/local/group_vars/all       | 5 +++++
 ansible/environments/mac/group_vars/all         | 5 +++++
 3 files changed, 15 insertions(+)

commit c4b4723ab073703f0043c1464bd6577e033b9514
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Apr 11 14:46:56 2017 -0400

    Common request API now allows for optional auth header (#2126)

 tools/cli/go-whisk/whisk/action.go     |  4 ++--
 tools/cli/go-whisk/whisk/activation.go |  4 ++--
 tools/cli/go-whisk/whisk/api.go        | 12 ++++++------
 tools/cli/go-whisk/whisk/client.go     | 26 +++++++++++++++++---------
 tools/cli/go-whisk/whisk/package.go    |  4 ++--
 tools/cli/go-whisk/whisk/rule.go       |  4 ++--
 tools/cli/go-whisk/whisk/trigger.go    |  8 ++++----
 7 files changed, 35 insertions(+), 27 deletions(-)

commit 13744437b81a148ad1fe30bfc43d5305c1b21da7
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Apr 10 21:40:24 2017 +0200

    Exit components on OutOfMemory exceptions (#2122)
    
    Scala's idiomatic error handling makes it "hardish" to exit the JVM on fatal errors (for example if a Future fails with a fatal exception). The added flags just ignore error handling and exit the JVM, which we can recover by a docker auto-restart for example.
    
    * Add gc logging
    * Get core/heap dumps on OOM

 common/scala/Dockerfile      | 6 +++---
 core/controller/build.gradle | 2 +-
 core/invoker/build.gradle    | 3 +--
 3 files changed, 5 insertions(+), 6 deletions(-)

commit d3f4f9591cadda84071db76f8716bb867bd36b83
Author: Robert Sulzmann <robi@de.ibm.com>
Date:   Fri Mar 3 16:32:35 2017 +0100

    Adds virtualenv support for python actions.
    
    Also, change working directory for Python actions to allow relative path access to file system.

 .gitignore                                         |   8 +-
 core/actionProxy/actionproxy.py                    |  11 +-
 core/python2Action/Dockerfile                      |   1 +
 core/pythonAction/Dockerfile                       |   1 +
 core/pythonAction/pythonrunner.py                  |  22 +++-
 docs/actions.md                                    |  44 +++++++
 tests/dat/actions/applicationError.js              |   3 +
 tests/dat/actions/python2_virtualenv.zip           | Bin 0 -> 3644338 bytes
 tests/dat/actions/python3_virtualenv.zip           | Bin 0 -> 3804236 bytes
 tests/dat/actions/python_virtualenv_dir.zip        | Bin 0 -> 807 bytes
 tests/dat/actions/python_virtualenv_name.zip       | Bin 0 -> 599989 bytes
 .../PythonActionContainerTests.scala               | 126 ++++++++++++++++++++-
 .../system/basic/Swift3WhiskObjectTests.scala      | 120 --------------------
 ...{CLIJavaTests.scala => WskBasicJavaTests.scala} |   2 +-
 ...PythonTests.scala => WskBasicPythonTests.scala} |  41 +++++--
 .../{ConsoleTests.scala => WskConsoleTests.scala}  |   2 +-
 .../{PackageTests.scala => WskPackageTests.scala}  |   2 +-
 .../scala/whisk/core/cli/test/SwiftTests.scala     |  80 +++++++++++++
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  12 ++
 19 files changed, 330 insertions(+), 145 deletions(-)

commit 48c3aca79fc88d7ef249930666e03f3567d02138
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Sat Mar 18 16:48:28 2017 -0400

    Handle Application Errors Properly.
    
    - Display application errors for blocking invocations that use the --result flag

 tests/dat/actions/applicationError.js              |  3 -
 .../test/scala/system/basic/WskBasicTests.scala    | 15 +++-
 tools/cli/go-whisk/whisk/client.go                 | 89 ++++++++++++++--------
 3 files changed, 68 insertions(+), 39 deletions(-)

commit 8b7e3929e3168095e10e345a67d784871a2b46ba
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Mar 9 21:33:24 2017 +0000

    Update Swift’s Whisk.invoke() to support non-blocking
    
    Add a third parameter, `blocking`, to invoke() to enable non-blocking
    invocations. Default to `blocking=true` for BC.
    Add test for Whisk.invoke() with blocking: true

 core/swift3Action/spm-build/Whisk.swift             |  5 +++--
 tests/dat/actions/invokeNonBlocking.swift           | 16 ++++++++++++++++
 .../scala/system/basic/Swift3WhiskObjectTests.scala | 21 +++++++++++++++++++++
 3 files changed, 40 insertions(+), 2 deletions(-)

commit c3e2e6fc9ef3af3fd1d62fe748d45acb94d4d548
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Fri Apr 7 10:59:39 2017 +0200

    Increase the PID limit from 64 to 1024

 core/invoker/src/main/scala/whisk/core/container/ContainerUtils.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b5755ae767318738312424f54984ed8288838776
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Apr 7 08:49:27 2017 -0400

    API GW V2 - Update backend actions (#2067)
    
    * API GW V2 backend - action test updates
    
    * API GW V2 backend - ansible update
    - Add a new API GW V2 host property
    
    * API GW V2 backend - action updates
    - Dual support for existing "V1" API GW (to be deprecated) and new "V2" API GW
    - Create new V2 package for containing actions defined without "require-whisk-auth"

 ansible/environments/distributed/group_vars/all    |   1 +
 ansible/environments/local/group_vars/all          |   1 +
 ansible/environments/mac/group_vars/all            |   1 +
 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  36 +-
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    |   8 +
 ansible/templates/whisk.properties.j2              |   1 +
 core/routemgmt/common/apigw-utils.js               | 834 +++++++++++++++++++++
 core/routemgmt/common/utils.js                     |  46 +-
 core/routemgmt/createApi/createApi.js              | 214 +++---
 core/routemgmt/deleteApi/deleteApi.js              | 210 ++++--
 core/routemgmt/getApi/getApi.js                    | 129 ++--
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 295 +++++++-
 12 files changed, 1545 insertions(+), 231 deletions(-)

commit 0c8361b1e676b52dd51bfcbae63013a93df434a9
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Mar 29 13:26:33 2017 +0200

    Replace Thread.sleep in ContainerPoolTests with retry

 .../core/container/test/ContainerPoolTests.scala     | 20 ++++++++------------
 1 file changed, 8 insertions(+), 12 deletions(-)

commit 7b5a64481aedfd060f3ccaab72a2b6197de47df2
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Mar 7 13:27:24 2017 +0100

    Preparation to seperate whisks- and activationsDb
    
    Signed-off-by: Xin Cai <xincai@de.ibm.com>

 ansible/files/filter_design_document.json          |   1 +
 .../whisks_design_document_for_actions_db.json     |   1 +
 .../whisks_design_document_for_activations_db.json |  13 +++
 ansible/group_vars/all                             |   1 +
 ansible/initdb.yml                                 |   2 +-
 ansible/recreateDesignDocs.yml                     |   7 ++
 ansible/tasks/db/actionsDb.yml                     |  20 ----
 ansible/tasks/db/actionsDbViews.yml                |  36 ------
 ansible/tasks/db/filterViews.yml                   |  39 -------
 ansible/tasks/db/recreateDb.yml                    |  34 ++++++
 ansible/tasks/db/recreateDoc.yml                   |  47 ++++++++
 ansible/tasks/initdb.yml                           | 105 ++++-------------
 ansible/tasks/recreateViews.yml                    |  20 +++-
 ansible/tasks/wipeDatabase.yml                     |  12 +-
 ansible/templates/whisk.properties.j2              |   1 +
 ansible/wipe.yml                                   |   4 +-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   2 +-
 .../core/controller/test/ActivationsApiTests.scala |  29 ++---
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../core/controller/test/TriggersApiTests.scala    |   4 +-
 .../scala/whisk/core/entity/test/ViewTests.scala   | 130 ++++++++++++---------
 tools/admin/wskadmin                               |   5 +-
 22 files changed, 262 insertions(+), 255 deletions(-)

commit 4ec4964dfbdb8f21eb6323805b0fd02e7b9facbb
Author: Michael Marth <michael.marth@gmail.com>
Date:   Thu Apr 6 19:36:53 2017 -0700

    Tiny text changes to clarify how enhancement requests should be raised in GH issues (#2100)

 .github/ISSUE_TEMPLATE.md | 4 ++++
 CONTRIBUTING.md           | 4 +++-
 2 files changed, 7 insertions(+), 1 deletion(-)

commit 7f8c8958a04c55078a7a0197464f70cac9b48adc
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Apr 5 21:36:06 2017 -0400

    Update from Go 1.7 to 1.8 (#2110)
    
    - Increase build speed by as much as 15%

 tools/cli/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a0db25b8e12e16c960454cf38552ac6cc2dbe0d
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Apr 4 11:48:04 2017 -0400

    push couchdb-snapshot docker image from jenkins (#2103)

 tools/jenkins/apache/dockerhub.groovy | 3 +++
 1 file changed, 3 insertions(+)

commit 20aa75d7af561d5590e0753a06555004bb9ca995
Author: Sven Lange-Last <sven.lange-last@de.ibm.com>
Date:   Tue Apr 4 08:00:48 2017 +0200

    Provide reactive Docker and Runc client (#2092)
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../src/main/scala/whisk/common/Logging.scala      |  26 +++-
 .../core/containerpool/docker/DockerClient.scala   | 159 +++++++++++++++++++++
 .../core/containerpool/docker/ProcessRunner.scala  |  52 +++++++
 .../core/containerpool/docker/RuncClient.scala     |  73 ++++++++++
 tests/src/test/scala/common/StreamLogging.scala    |   9 +-
 .../docker/test/DockerClientTests.scala            | 136 ++++++++++++++++++
 .../docker/test/ProcessRunnerTests.scala           |  59 ++++++++
 .../docker/test/RuncClientTests.scala              |  94 ++++++++++++
 8 files changed, 604 insertions(+), 4 deletions(-)

commit fca65b58372aa95769b9d198ff5e9c48a666b6db
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Apr 3 18:07:39 2017 -0400

    add jenkinsfile to push images to dockerhub from apache jenkins server (#2102)

 tools/jenkins/apache/dockerhub.groovy | 75 +++++++++++++++++++++++++++++++++++
 1 file changed, 75 insertions(+)

commit 03136338c0ac8c65af72ec76b3aa331dec123292
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Apr 3 14:03:03 2017 -0400

    Enable tests for unicode for python, swift. (#2070)
    
    Re-enable build swift/python containers (for tests to run).
    Add unicode unit test for swift action container.
    Allow for reinit with swift for use with invoke.py.
    Fix unicode regression for swift actions.
    Refactor unicode tests to add coverage - now also for base action container.
    Set string encoding to utf-8 for swift action proxy.
    Rewrite result extraction to avoid splitting and printing logs one line at a time.
    Skip decoding when process output is a string; already utf-8.
    
    Consolidate base64 encoding in CLI; remove Jar field in exec.

 core/actionProxy/actionproxy.py                    | 43 ++++++++------
 core/swift3Action/Dockerfile                       |  6 +-
 core/swift3Action/swift3runner.py                  | 13 ++++-
 tests/dat/actions/{unicode.py => unicode2.py}      |  6 +-
 tests/dat/actions/unicode3.py                      |  8 +++
 .../ActionProxyContainerTests.scala                | 40 ++++++++++++-
 .../NodeJsActionContainerTests.scala               | 31 ++++------
 .../PythonActionContainerTests.scala               | 68 +++++++++-------------
 .../SwiftActionContainerTests.scala                | 48 ++++++++++-----
 .../test/scala/system/basic/WskUnicodeTests.scala  | 11 ++--
 tools/cli/go-whisk-cli/commands/action.go          | 17 +++---
 tools/cli/go-whisk/whisk/action.go                 |  3 +-
 tools/travis/build.sh                              |  2 +-
 13 files changed, 172 insertions(+), 124 deletions(-)

commit f80263111ee81827266f3af6ee2bcea9fd987cd7
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Mar 31 19:38:10 2017 -0400

    Make python 2 default for now (#2094)

 ansible/group_vars/all |  2 +-
 docs/actions.md        | 19 +++++++------------
 docs/reference.md      | 15 ++++++++-------
 3 files changed, 16 insertions(+), 20 deletions(-)

commit 9f0cfc2e77d96514f74f0188e5415c83d5601bd1
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Mar 30 15:29:25 2017 -0400

    Disable HTML Encoding of JSON Content in CLI (#2043)
    
    * Disable HTML Encoding of JSON Content
    
    - Do not encode &, <, and > to \u0026, \u003c, and \u003e
    
    * Remove Extra New Line When Printing JSON
    
    * Update Test

 tests/dat/actions/hello.js                           |  4 +++-
 .../src/test/scala/system/basic/WskActionTests.scala |  2 +-
 .../src/test/scala/system/basic/WskBasicTests.scala  |  9 +++++----
 tests/src/test/scala/system/basic/WskRuleTests.scala |  4 ++--
 .../whisk/core/cli/test/WskBasicUsageTests.scala     | 20 ++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/util.go              | 18 ++++++++++--------
 tools/cli/go-whisk/whisk/client.go                   | 10 ++++++++--
 7 files changed, 49 insertions(+), 18 deletions(-)

commit 9b87158fd21f782b42dc699f0879a83defdf68a9
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Mar 30 13:15:24 2017 +0200

    Don't replicate deleted documents and design documents into snapshots (#2071)
    
    create filter design documents for databases
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 ansible/files/filter_design_document.json          |   5 +
 ansible/tasks/db/actionsDbViews.yml                |   5 +-
 ansible/tasks/db/filterViews.yml                   |  39 +++++++
 ansible/tasks/initdb.yml                           |   2 +
 .../database/test/ExtendedCouchDbRestClient.scala  |   5 +-
 .../whisk/core/database/test/ReplicatorTests.scala | 127 +++++++++++++++++++--
 tools/db/replicateDbs.py                           |  14 ++-
 7 files changed, 177 insertions(+), 20 deletions(-)

commit f89cd76cc2cf0ccfd2d00a90f60f9c7456b05cb4
Author: Nathan Smith <nathanrandal@gmail.com>
Date:   Wed Mar 29 13:19:30 2017 -0400

    fixed minor typo (#2083)

 tools/macos/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 003692c7e703a5ad49083e290ad435a822c95600
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 20 11:16:07 2017 -0400

    Stricter namespace extraction for vanity web action url.
    
    Separate whisk api host into 3 parts: protocol, hostname, scheme.
    Use hostname for nginx server_name configuration.
    Use hostname for SSL certificate generation.
    Add test for vanity URL.
    Remove unnecessary nginx rules.

 ansible/environments/mac/group_vars/all            |  5 ++
 ansible/group_vars/all                             | 14 ++++
 ansible/roles/nginx/tasks/deploy.yml               |  5 +-
 ansible/roles/nginx/templates/nginx.conf.j2        | 30 +++----
 ansible/setup.yml                                  |  3 +-
 ansible/templates/whisk.properties.j2              | 20 ++++-
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  7 +-
 .../scala/whisk/core/container/ContainerPool.scala |  3 +-
 docs/webactions.md                                 | 14 +++-
 tests/src/test/scala/common/WhiskProperties.java   | 25 +++++-
 tests/src/test/scala/common/WskTestHelpers.scala   | 16 +++-
 tests/src/test/scala/system/rest/RestUtil.scala    |  9 ++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  2 +-
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 18 +----
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 92 ++++++++++++++++++++--
 15 files changed, 206 insertions(+), 57 deletions(-)

commit 3a738e63b5bf4e0b042b3f8e5e5c5c063959d4c5
Author: cclauss <cclauss@bluewin.ch>
Date:   Fri Feb 24 10:45:12 2017 +0100

    Add python:3 action support.
    
    Update tests to work in both Python 2 and Python 3.
    Rename pythonaction to python3action for container image name for clarity.
    Add tests for python:2 and python:3.
    Add image names for all the actions. Rename javaaction to java8action for consistency.

 .pydevproject                                      |   2 +-
 ansible/group_vars/all                             |   8 ++
 ansible/roles/invoker/tasks/deploy.yml             |   5 +-
 .../scala/whisk/core/entity/ExecManifest.scala     |   4 +-
 core/actionProxy/Dockerfile                        |   9 +-
 core/actionProxy/actionproxy.py                    |   5 +-
 core/javaAction/build.gradle                       |   2 +-
 core/python2Action/Dockerfile                      |  38 ++++++++
 core/python2Action/build.gradle                    |  19 ++++
 core/pythonAction/Dockerfile                       |  22 ++---
 core/pythonAction/build.gradle                     |   2 +-
 docs/reference.md                                  | 105 ++++++++++++++++-----
 settings.gradle                                    |   1 +
 tests/build.gradle                                 |   1 +
 tests/dat/actions/pythonVersion.py                 |  25 +++++
 .../ActionProxyContainerTests.scala                |   9 +-
 .../JavaActionContainerTests.scala                 |   4 +-
 .../Python2ActionContainerTests.scala              |  30 ++++++
 .../PythonActionContainerTests.scala               |  33 +++++--
 .../test/scala/system/basic/CLIPythonTests.scala   |  16 +++-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |   4 +-
 tools/build/redo                                   |   9 +-
 22 files changed, 283 insertions(+), 70 deletions(-)

commit 83dfb9637ce39505c59763afd5ad69211bf98369
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Mar 20 16:08:46 2017 -0400

    Update Web Action Doc
    
    - Demonstrate how to decode body in Node, Python, and Swift
    - Use CLI to enable/disable web actions and raw HTTP web actions

 docs/webactions.md | 93 ++++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 72 insertions(+), 21 deletions(-)

commit 13828baada4f5e2d1a09e138cbad1c48cfe0b678
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Mon Mar 27 14:26:53 2017 -0500

    Update scanCode.py so that it is configuration file driven. (#2030)
    
    * Update scanCode.py that is configuration file driven.
    
    * Python 3 updates, future proofing.
    
    * Add files via upload

 tools/build/ASFLicenseHeader.txt       |  16 ++
 tools/build/ApacheIBMLicenseHeader.txt |  15 +
 tools/build/scanCode.cfg               |  54 ++++
 tools/build/scanCode.py                | 510 ++++++++++++++++++++++++---------
 4 files changed, 456 insertions(+), 139 deletions(-)

commit 4d4e9fdf0e9dd4493fbcb32dd50af2f9e0afb65a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 17 10:58:53 2017 +0100

    Refactor InvokerPool for better decoupling
    
    According to akka-standards, synchronous testing is discouraged. Refactored the whole pool to reflect common patterns and make tests much better.
    
    Address review comments by @rabbah

 .../core/loadBalancer/InvokerSupervision.scala     |  95 +++++++-------
 .../core/loadBalancer/LoadBalancerService.scala    |   4 +-
 .../test/InvokerSupervisionTests.scala             | 143 ++++++++++++++-------
 3 files changed, 145 insertions(+), 97 deletions(-)

commit b7cfbf4ef9f4792b151aead5af3213138ec085ed
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Sat Mar 25 19:30:23 2017 +0100

    Fix log collection after unsuccessful test (#2065)

 .travis.yml | 1 +
 1 file changed, 1 insertion(+)

commit 950b94cfca0d09d9b15d6475713a1833059714d3
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Mar 24 16:12:33 2017 -0400

    Allow Adding Annotations and Parameters During Action Copy (#2066)
    
    * Allow Adding Annotations and Parameters During Action Copy
    
    - Parameters and annotations can now be added through the create/update commands when copying an action
    
    * Add Test

 .../test/scala/system/basic/WskActionTests.scala   | 67 +++++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/action.go          | 30 +++++-----
 2 files changed, 80 insertions(+), 17 deletions(-)

commit 93f6740dc70b1dc14c59fd07dbb8598e2959aaf1
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 24 10:05:22 2017 -0400

    Remove 'kinds' from CLI; defer to backend. (#2053)
    
    * Remove 'kinds' from CLI; defer to backend.
    
    * Fix messages.
    
    * Add cli test for unknown kind.
    
    * Move Kind Process to its Own Method to Declutter ParseAction (#9)
    
    * pass flags to getExec.

 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   8 ++
 tools/cli/go-whisk-cli/commands/action.go          | 144 ++++++++++-----------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   4 +-
 3 files changed, 75 insertions(+), 81 deletions(-)

commit 3c6de94170ce2326cf0954e6c05b1b4e1567782d
Author: cclauss <cclauss@bluewin.ch>
Date:   Wed Mar 22 15:07:50 2017 +0100

    Suppress flake8's nitpicky formatting issues (#2056)
    
    
    
    * o --> out and e --> err
    
    Fixes a copy and paste error which was caught by flake8
    
    * o --> out and e --> err
    
    Fixes a copy and paste error which was caught by flake8
    
    * Remove unused import subprocess
    
    * Remove unused import subprocess
    
    * Remove unused import subprocess
    
    * Remove variables declared but not used
    
    * Remove unused import sys
    
    * Remove unused import fnmatch
    
    * Update wskadmin
    
    * Countless

 tools/admin/wskadmin       | 15 +++------------
 tools/admin/wskutil.py     |  1 -
 tools/build/checkLogs.py   |  1 -
 tools/build/citool         |  8 ++++----
 tools/build/redo           | 12 ++++++------
 tools/health/isAlive       |  1 -
 tools/health/killComponent |  1 -
 tools/health/kvstore       |  1 -
 tools/travis/flake8.sh     |  4 ++--
 9 files changed, 15 insertions(+), 29 deletions(-)

commit b95de92673b4271652c7a75241f9e6b5a3f36a5a
Author: Rob Allen <rob@akrabat.com>
Date:   Tue Mar 21 21:13:50 2017 +0000

    Tweak instructions for Swift executable (#2001)
    
    The `--rm` switch will automatically delete the container once it exits,
    which is tidier.

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d7427d9b2c9de98ac943c92f76f6723f3536d0fe
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Mar 21 09:51:21 2017 -0400

    Rename Meta to Web actions. (#2036)
    
    * Rename Meta to Web actions.

 .../scala/whisk/core/controller/RestAPIs.scala     | 10 ++++----
 .../controller/{Meta.scala => WebActions.scala}    | 23 +++++++++---------
 ...MetaApiTests.scala => WebActionsApiTests.scala} | 27 +++++++++++-----------
 3 files changed, 29 insertions(+), 31 deletions(-)

commit d52d1b515809130f6a6aa9a5c4c043d2f5c15484
Author: cclauss <cclauss@bluewin.ch>
Date:   Tue Mar 21 01:21:06 2017 +0100

    Create flake8.sh (new version) (#2052)

 .travis.yml            | 10 +++----
 tools/admin/wskadmin   | 76 +++++++++++++++++++++++++-------------------------
 tools/travis/flake8.sh | 29 +++++++++++++++++++
 tools/travis/setup.sh  |  4 ---
 4 files changed, 72 insertions(+), 47 deletions(-)

commit 4ea7833815356ff18b2d4df93bf20f3f000c7ccb
Author: cclauss <cclauss@bluewin.ch>
Date:   Mon Mar 13 17:41:06 2017 +0100

    Python 3 for files without a .py extension
    
    The flake8 linter does not pick up these files because their filenames do not end in .py

 tools/build/citool         | 23 +++++++++++++++--------
 tools/build/redo           | 39 ++++++++++++++++++++++++---------------
 tools/health/isAlive       | 14 ++++++++------
 tools/health/killComponent | 16 ++++++++--------
 tools/health/kvstore       | 17 ++++++++---------
 5 files changed, 63 insertions(+), 46 deletions(-)

commit 37cd46d37ca24d97965179861db42897050ddae7
Author: sebgl <contact.sebgl@gmail.com>
Date:   Sat Mar 18 17:27:54 2017 +0100

    Don't fail the entire playbook if topic already exists (#1900)

 ansible/roles/kafka/tasks/deploy.yml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 3b1f0323cf3514ce5b9424ca5e4e50dd8c291bad
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Sat Mar 18 11:55:43 2017 -0400

    Add explicit defaults for all exec kinds (#2040)
    
    
    
    This allows the :default designation to work for all kinds, as well as reinforces the idea that all kinds should explicitly state which is the default.
    
    * ExecManifest should allow for implicit default kinds
    
    If a kind has only one version, then that version should automatically resolve as the default.

 ansible/group_vars/all                                 |  2 ++
 .../main/scala/whisk/core/entity/ExecManifest.scala    | 11 ++++++-----
 .../whisk/core/entity/test/ExecManifestTests.scala     | 18 +++++++++++++++++-
 3 files changed, 25 insertions(+), 6 deletions(-)

commit a1dfc1dc449348533cfcfc76b1a89944730c716e
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Sat Mar 18 10:22:29 2017 -0400

    Treat error field differently if present in the initial payload to a sequence. Update test accordingly. (#1831)

 .../core/controller/actions/SequenceActions.scala  | 38 +++++++++++++---------
 .../test/scala/system/basic/WskSequenceTests.scala | 20 +++++-------
 2 files changed, 31 insertions(+), 27 deletions(-)

commit db69c43c31d9413f1a26fc68bf957f437749629c
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 17 13:24:55 2017 -0400

    Add controller and invoker0 as default components for syslog get (#2035)
    
    * Add controller and invoker0 as default components, allow get logs by tid to span more than one component.
    
    * Enhance 'syslog get' to either cat all logs or do more general grep.
    
    1. cat all given component logs and sort by timestamp
       wskadmin syslog get controller invoker0
    
    2. grep for a tid and sort by timestamp across all given components
       wskadmin syslog get controller invoker0 --tid 3
    
    3. grep for any expression and sort by timestamp
       wskadmin syslog get controller invoker0 --grep '0\.0\.0'
    
    The default component list is "controller, invoker0" so they may be ommitted in the examples above.

 tools/admin/wskadmin | 72 +++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 54 insertions(+), 18 deletions(-)

commit a214e222465d11f7f63fbce88cda353c21c83ca7
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Mar 16 21:08:17 2017 -0400

    Update apigw docs with web actions comment (#2034)
    
    * update apigw docs with web actions
    
    * adjusted messaging for apigw docs

 docs/apigateway.md | 20 ++++++++++++++------
 1 file changed, 14 insertions(+), 6 deletions(-)

commit 47a025685585d85803be3b8e3e9e31b317639ba8
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 17 00:18:20 2017 +0100

    Adding a slack badge (#2037)

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 457214dfea8b7a43a5dabe4570efb58df458e890
Author: Justin Tyberg <justin.tyberg@gmail.com>
Date:   Thu Mar 16 09:14:04 2017 -0400

    Handle bytes to string conversion in actionproxy. (#1867)
    
    * Decode subprocess output bytes to text in actionproxy.
    
    * Update swift3runner build step to capture stdout/stderr,
    and decode if necessary.

 core/actionProxy/actionproxy.py   | 22 ++++++++++++++--------
 core/swift3Action/swift3runner.py | 20 +++++++++++++++++---
 2 files changed, 31 insertions(+), 11 deletions(-)

commit 71250efc9b287d237b92f45a9ca21c738150dad0
Author: rodric rabbah <rodric@gmail.com>
Date:   Thu Mar 16 04:58:47 2017 -0400

    Add missing tids and bump active ack duration. (#2024)
    
    Bumping active ack to 60 seconds (match blocking invoke timeout); with tighter invoker health check, active ack is short circuited when invoker health changes.

 core/controller/src/main/scala/whisk/core/controller/Actions.scala  | 2 +-
 .../main/scala/whisk/core/controller/actions/PrimitiveActions.scala | 4 ++--
 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala    | 6 +++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 59e41fbb465c3df75519357b90642910d743aca1
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Mar 14 15:22:06 2017 -0400

    Add Web Action Shortcuts to CLI
    
    Usage: `--web (true|yes)|raw|(false|no)`

 tests/src/test/scala/common/Wsk.scala              |    4 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   44 +
 tools/cli/go-whisk-cli/commands/action.go          | 1338 ++++++++++++--------
 tools/cli/go-whisk-cli/commands/flags.go           |    3 +-
 tools/cli/go-whisk-cli/commands/util.go            |   25 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |    8 +
 6 files changed, 876 insertions(+), 546 deletions(-)

commit e5926ccb517cf8ee0361de419570e45db70fd115
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Wed Mar 15 13:33:25 2017 -0400

    drop support for nodejs 0.12.x (#2022)

 ansible/group_vars/all                             |  1 +
 ansible/roles/invoker/tasks/deploy.yml             |  1 -
 core/nodejsAction/Dockerfile                       | 56 ----------------
 core/nodejsAction/build.gradle                     | 11 ----
 docs/reference.md                                  | 42 ------------
 settings.gradle                                    |  1 -
 tests/build.gradle                                 |  1 -
 .../NodeJs6ActionContainerTests.scala              | 57 -----------------
 .../NodeJsActionContainerTests.scala               | 27 +++++++-
 .../test/scala/system/basic/WskBasicTests.scala    | 17 -----
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  4 +-
 .../core/container/test/ContainerPoolTests.scala   |  4 +-
 .../core/controller/test/ActionsApiTests.scala     | 74 +++++++++++-----------
 .../controller/test/EntitlementProviderTests.scala | 12 ++--
 .../whisk/core/controller/test/MetaApiTests.scala  |  2 +-
 .../controller/test/PackageActionsApiTests.scala   | 68 ++++++++++----------
 .../core/controller/test/PackagesApiTests.scala    | 16 ++---
 .../whisk/core/controller/test/RulesApiTests.scala | 34 +++++-----
 .../core/controller/test/SequenceApiTests.scala    | 14 ++--
 .../SequenceActionApiMigrationTests.scala          | 10 +--
 .../whisk/core/entity/test/DatastoreTests.scala    |  8 +--
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  7 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala | 22 +++----
 .../scala/whisk/core/entity/test/ViewTests.scala   |  8 +--
 .../whisk/core/entity/test/WhiskEntityTests.scala  |  2 +-
 tools/build/redo                                   |  5 --
 26 files changed, 171 insertions(+), 333 deletions(-)

commit 4d6bf24b7806d488b4b059283c99a93d08aabc57
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Mar 15 01:09:22 2017 -0400

      Promote web actions from experimental (#2010)
    
    - Remove "experimental" from web actions URL (now available on "/api/v1/web".
    - Share connection services amongst experimental and new web routes
    - Don't send CORS Header for new web routes (deferred to actions)
    - Provide additional HTTP Verbs (PATCH, HEAD, OPTIONS)
    - Increase test coverage for all allowed verbs
    - Add integration tests for web action direction OPTIONS
    - Return appropriate error message when a web action is invoked with incompatible accept content-type header (demote autentication errors in rejection list)
    - Drop "meta" from "__ow_meta_*" property names for "v2"
    - Change "code" to "statusCode" for "v2"
    - Make .http extension optional for "v2"
    - Add .svg extension
    - Add 'raw-http' annotation to box query and body parameters (also skips parameter override checks, conflict free by definition)
    - Hoist action validation earlier to treat request opaquely for raw-http web actions
    - Fix multiple entity matches on response/accept mismatch
    - Updated documentation, and add examples for raw-http support

 ansible/roles/nginx/templates/nginx.conf.j2        |   4 +-
 .../main/scala/whisk/http/BasicHttpService.scala   |  11 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  16 +-
 .../scala/whisk/core/controller/Controller.scala   |  54 +-
 .../main/scala/whisk/core/controller/Meta.scala    | 458 ++++++++----
 .../scala/whisk/core/controller/RestAPIs.scala     | 138 ++--
 docs/annotations.md                                |   5 +-
 docs/webactions.md                                 | 210 ++++--
 tests/dat/actions/corsHeaderMod.js                 |   9 +
 tests/dat/actions/textBody.js                      |   8 +
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  88 ++-
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../whisk/core/controller/test/MetaApiTests.scala  | 805 +++++++++++++++------
 tools/vagrant/README.md                            |   3 +-
 14 files changed, 1316 insertions(+), 497 deletions(-)

commit 11ddcfa125fa2a789d2472c57de627d6d06c54ec
Author: Dominik Froehlich <Dominik.Frolic@gmail.com>
Date:   Tue Mar 14 16:52:28 2017 +0100

    use runc to unpause if needed (#1983)
    
    enable runc on local / travis
    
    enable runc on mac
    
    exempt only apparmor lib mount on mac
    
    support runc enablement per environment
    
    include runc client in invoker container
    
    do runc resume if runc is enabled.

 ansible/environments/local/group_vars/all                           | 3 +++
 ansible/environments/mac/group_vars/all                             | 3 +++
 ansible/roles/invoker/tasks/deploy.yml                              | 4 +++-
 ansible/templates/whisk.properties.j2                               | 2 +-
 core/invoker/Dockerfile                                             | 4 +++-
 .../invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 6 +++++-
 6 files changed, 18 insertions(+), 4 deletions(-)

commit bbe8d8befd2d4a5dbb510b8addbcbe5161e55c81
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Tue Mar 14 15:06:46 2017 +0100

    retry in test cleanup routine if package deletion fails with conflict (#1943)
    
    
    
    * don't retry sanitize since it ignores all failures silently
    
    * don't call santize in case of conflict at all
    
    * review comment to further shorten retry

 tests/src/test/scala/common/WskTestHelpers.scala | 28 ++++++++----------------
 1 file changed, 9 insertions(+), 19 deletions(-)

commit 4833555b82df6f4d72dde38cbec4160de10d7091
Author: Dominik Froehlich <Dominik.Frolic@gmail.com>
Date:   Tue Mar 14 10:56:46 2017 +0100

    enable user namespaces on docker-machine (#1707)

 tools/macos/tweak-dockermachine.sh | 1 +
 1 file changed, 1 insertion(+)

commit 5f7b062e117417f19a730ca35c80c9938f462ce5
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Mar 14 10:55:10 2017 +0100

    Replace sh-script on wiping db with ansible (#1971)
    
    * Replace sh-script on wiping db with ansible
    * Add job to recreate dbViews without deleting the databases.
    
    Signed-off-by: Xin Cai <xincai@de.ibm.com>

 ansible/environments/distributed/group_vars/all    |   1 -
 ansible/environments/local/group_vars/all          |   2 -
 ansible/environments/mac/group_vars/all            |   1 -
 .../whisks_design_document_for_actions_db.json     |  31 ++++++
 ansible/group_vars/all                             |   4 +-
 ansible/tasks/db/actionsDb.yml                     |  20 ++++
 ansible/tasks/db/actionsDbViews.yml                |  35 +++++++
 ansible/tasks/initdb.yml                           |  16 ++--
 ansible/tasks/recreateViews.yml                    |   4 +
 ansible/tasks/wipeDatabase.yml                     |   6 +-
 ansible/templates/whisk.properties.j2              |   4 +-
 tools/db/common.sh                                 |  46 ---------
 tools/db/loadTransientDBViews.sh                   | 105 ---------------------
 tools/db/wipeTransientDBs.sh                       |  74 ---------------
 14 files changed, 105 insertions(+), 244 deletions(-)

commit 017d555d4e92659086f2d6c4cf32a0f2de8ac81a
Author: Rob Allen <rob@akrabat.com>
Date:   Mon Mar 13 16:37:00 2017 +0000

    Tidy up Vagrant docs about insecure use of wsk (#2014)
    
    * Add information about how to use wsk sdk
    
    When the apihost is insecure, `wsk sdk` doesn’t work, so document use of
    `-i` and `--apihost` flags directly on command line.
    
    * Don’t use `-i` with `wsk property set`
    
    It’s not needed and could be confusing.

 tools/vagrant/README.md | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 686332514c780f021713226a3f884b7f2f2681a6
Author: cclauss <cclauss@bluewin.ch>
Date:   Sat Mar 11 17:46:46 2017 +0100

    testEcho() now works with Python 2 and Python 3 (#2007)

 .../test/scala/actionContainers/PythonActionContainerTests.scala | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 0fb17acb5599335579f694978d94ce786f7bb546
Author: cclauss <cclauss@bluewin.ch>
Date:   Sat Mar 11 11:25:06 2017 +0100

    Fixed Python 3 syntax errors (#2006)

 core/swift3Action/buildandrecord.py | 13 +++++++------
 core/swift3Action/swift3runner.py   |  5 +++--
 tests/dat/actions/malformed.py      |  2 +-
 tools/admin/wskprop.py              |  6 +++---
 tools/admin/wskutil.py              | 28 ++++++++++++++--------------
 tools/build/checkLogs.py            |  2 +-
 tools/build/scanCode.py             |  4 ++--
 tools/db/replicateDbs.py            | 10 +++++-----
 tools/health/monitorUtil.py         |  9 +++++----
 tools/json/validate.py              |  6 +++---
 tools/travis/box-upload.py          |  6 +++---
 11 files changed, 47 insertions(+), 44 deletions(-)

commit f4d8783fdc5c44ab8542f20f2b85fde395aa1048
Author: Andy Hattemer <&@ruf.io>
Date:   Sat Mar 11 01:13:45 2017 -0500

    corrected typo (#2005)

 tools/ubuntu-setup/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9a1398fb1a105b14fc86c26f9e406264ff25eea0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 8 03:24:00 2017 -0500

    Normalize code as string vs attachment handling via a runtime manifest.
    Remove Java exec type.

 .../whisk/core/entity/DefaultRuntimeVersions.scala |  27 ---
 .../src/main/scala/whisk/core/entity/Exec.scala    | 181 ++++++++++++---------
 .../scala/whisk/core/entity/ExecManifest.scala     |  34 ++--
 .../main/scala/whisk/core/entity/WhiskAction.scala |  27 ++-
 .../scala/whisk/core/controller/Controller.scala   |  28 +++-
 .../scala/whisk/core/controller/RestAPIs.scala     |   3 +-
 .../scala/whisk/core/container/ContainerPool.scala |   6 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  18 +-
 .../core/cli/test/SequenceMigrationTests.scala     |  12 +-
 .../controller/test/ControllerTestCommon.scala     |   7 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  26 ++-
 .../whisk/core/entity/test/ExecManifestTests.scala |   5 +-
 .../scala/whisk/core/entity/test/SchemaTests.scala |  12 +-
 13 files changed, 217 insertions(+), 169 deletions(-)

commit ef589554e6de96bf2747af69dda8e64ee040ccf6
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Mar 9 09:30:43 2017 +0000

    Document how to use the non-SSL apihost for Vagrant
    
    When working locally, it’s easier to use the non-SSL `apihost` for the
    `wsk` tool so that you don’t have to keep remembering to use the `-i`
    flag.

 tools/vagrant/README.md | 12 +++++++++++-
 1 file changed, 11 insertions(+), 1 deletion(-)

commit 601da30ebcd5afc4563275ab5fc9f7fe8df9297b
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 10 13:10:10 2017 +0100

    Adding documentation on gradle usage

 gradle/README.md | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit 44c91c6817d88d6e0a953f4f0a997d5f6f51e5d4
Author: James Thomas <jthomas.uk@gmail.com>
Date:   Fri Mar 10 19:23:02 2017 +0000

    Highlight use of default package identifier (#2002)
    
    I got caught out trying to work out what the package identifier should be for actions without an explicit package.
    This will be a common usecase for people trying out this feature. There's a note about using `default` much later in this file that people might not read at first. I've copied this reference and added it to the initial example to highlight this with users.

 docs/webactions.md | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit af6b00306f5060cf6abfca2a09ab91c482e8cc1a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 10 14:23:44 2017 +0100

    Document WSK_CONFIG_FILE setting. Closes #225.
    
    Documenting --insecure

 docs/cli.md | 4 ++++
 1 file changed, 4 insertions(+)

commit f557a825e76c323c8774404a6e5cfbe31bc610db
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Mar 8 22:17:19 2017 -0600

    Update all remaining Python files with ASF license
    
    Remove license headers from just test/dat path

 ansible/callbacks/logformatter.py      | 42 ++++++++++++++----
 core/actionProxy/actionproxy.py        | 56 +++++++++++++++--------
 core/actionProxy/invoke.py             |  3 +-
 core/pythonAction/pythonrunner.py      | 13 +++---
 core/swift3Action/buildandrecord.py    | 81 ++++++++++++++++++----------------
 core/swift3Action/swift3runner.py      | 36 ++++++++-------
 tests/dat/actions/hello.py             | 25 ++++++++++-
 tests/dat/actions/malformed.py         |  2 +-
 tests/dat/actions/niam.py              |  6 ++-
 tests/dat/actions/stdenv.py            |  5 ++-
 tests/dat/actions/timedout.py          |  4 ++
 tests/dat/actions/unicode.py           |  5 ++-
 tests/dat/blackbox/badaction/runner.py | 36 ++++++++-------
 tools/admin/wskprop.py                 | 78 +++++++++++++++++---------------
 tools/admin/wskutil.py                 | 44 ++++++++++--------
 tools/build/checkLogs.py               |  2 +-
 tools/db/replicateDbs.py               | 55 +++++++++++++----------
 tools/health/monitorUtil.py            | 63 ++++++++++++++------------
 tools/json/validate.py                 | 13 +++---
 19 files changed, 342 insertions(+), 227 deletions(-)

commit 1d8db959c6fdcc9a99c22c8c9debd0a84ef4fd4b
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 10 09:21:23 2017 -0500

    Fix bug in cache. (#1962)
    
    Fix bug in read generator where under certain conditions the promise was not completed, or failed unnecessarily.

 .../MultipleReadersSingleWriterCache.scala         | 46 ++++++++++++----------
 .../core/database/test/CacheConcurrencyTests.scala |  2 +
 2 files changed, 28 insertions(+), 20 deletions(-)

commit 93636d5504c65ddc4e13e04396eb7ee553ecf896
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 1 00:49:00 2017 -0500

    Improve action log driver to truncate more tightly.
    
    Separate log processors into its own trait.
    Fix some accounting (ignore sentinel size).
    When truncating, read all bytes up to the limit.
    Add unit tests.
    Fix/tighten pre-existing test.
    Replace UTF-8 string with const.

 .../main/scala/whisk/core/entity/LogLimit.scala    |   2 -
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   4 +
 .../scala/whisk/core/invoker/ActionLogDriver.scala | 115 ++++++++++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    |  83 ++---------
 .../src/main/java/openwhisk/java/action/Proxy.java |   4 +-
 tests/dat/actions/dosLogs.js                       |  10 +-
 .../whisk/core/invoker/ActionLogDriverTests.scala  | 153 +++++++++++++++++++++
 .../whisk/core/limits/ActionLimitsTests.scala      |  21 +--
 8 files changed, 304 insertions(+), 88 deletions(-)

commit 1083e43af6246c2ea346fef07b178f26d196cce8
Author: Olivier Tardieu <tardieu@users.noreply.github.com>
Date:   Fri Mar 10 07:23:53 2017 -0500

    issue #1728 Using const or let in global scope have problem in nodejs actions (#1929)

 core/nodejsActionBase/runner.js | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit bc1ef95e5caf466189da4186a233d0a0f448db24
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Mar 9 18:04:33 2017 -0500

    Update nginx to point to ios start app release.

 ansible/roles/nginx/templates/nginx.conf.j2         |  2 +-
 ansible/roles/sdk/tasks/clean.yml                   |  6 ------
 ansible/roles/sdk/tasks/deploy.yml                  | 18 ------------------
 ansible/roles/sdk/tasks/main.yml                    |  2 +-
 tests/src/test/scala/system/basic/WskSdkTests.scala |  2 +-
 5 files changed, 3 insertions(+), 27 deletions(-)

commit 45c7b22cac44e845ea9b90445b201b4cae7c7c6f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 7 10:37:09 2017 -0500

    Moved to swift client repo.

 mobile/iOS/starterapp/.gitignore                   |   4 -
 mobile/iOS/starterapp/Cartfile                     |   1 -
 .../OpenWhiskStarterApp.xcodeproj/project.pbxproj  | 349 ---------------------
 .../project.xcworkspace/contents.xcworkspacedata   |   7 -
 .../UserInterfaceState.xcuserstate                 | Bin 21198 -> 0 bytes
 .../xcschemes/OpenWhiskStarterApp.xcscheme         |  91 ------
 .../xcschemes/xcschememanagement.plist             |  22 --
 .../OpenWhiskStarterApp/AppDelegate.swift          |  55 ----
 .../AppIcon.appiconset/Contents.json               |  68 ----
 .../Base.lproj/LaunchScreen.storyboard             |  27 --
 .../OpenWhiskStarterApp/Base.lproj/Main.storyboard | 147 ---------
 .../OpenWhiskStarterApp/FilterForecast.swift       |  53 ----
 .../iOS/starterapp/OpenWhiskStarterApp/Info.plist  |  47 ---
 .../OpenWhiskStarterApp/ResultSetCell.swift        |  25 --
 .../ResultSetTableController.swift                 | 107 -------
 .../SelfSignedNetworkDelegate.swift                |  25 --
 .../iOS/starterapp/OpenWhiskStarterApp/Utils.swift |  58 ----
 .../OpenWhiskStarterApp/ViewController.swift       | 149 ---------
 mobile/iOS/starterapp/Podfile                      |  14 -
 19 files changed, 1249 deletions(-)

commit e0672abe9c02066025d5c2f6d8ef579894c176de
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Mar 9 22:01:24 2017 +0000

    Include zip in swift3Action (#1992)
    
    This makes it a little easier to compile Swift actions locally for
    upload to OpenWhisk as zip files containing the Action binary.

 core/swift3Action/Dockerfile | 3 +++
 1 file changed, 3 insertions(+)

commit 7d6d8cf944e7cb300dcf56d807712137838f11f4
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Mar 9 11:50:17 2017 +0100

    Remove unused verbosity variables (#1988)

 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala  | 3 ---
 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala          | 4 +---
 .../src/test/scala/whisk/core/container/test/ContainerPoolTests.scala | 3 +--
 3 files changed, 2 insertions(+), 8 deletions(-)

commit aac7bf2d71292c44164396637b0c9f15b58d58ba
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Mar 8 21:29:46 2017 -0500

    only docker pull apigateway from dockerhub in normal mode deploy (#1984)
    
    the env var apigateway_local_build it's used to skip the pull
    This is required when building the image from outside ansible
    like the Travis integration in the openwhisk-apigateway repository

 ansible/roles/apigateway/tasks/deploy.yml | 1 +
 1 file changed, 1 insertion(+)

commit 581a6f48bd1eb66a2d707073936f0b4ffb7288a0
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Mar 8 09:06:35 2017 +0100

    Fix imagename for pre-warm container creation

 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit aa9cfcf10187ea08ece2daa2c7e80ad9353f5d05
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 7 15:14:01 2017 -0500

    Fix CN host name when generating certificate.

 ansible/setup.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82e5c17cf79c88e869d21c5c2c8cf853d69d8dff
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 7 20:42:43 2017 +0100

    Replace the old InvokerHealth with the actor based one (#1865)

 ansible/roles/kafka/tasks/deploy.yml               |   2 +-
 .../src/main/scala/whisk/common/ConsulClient.scala |  60 ++++---
 .../connector/kafka/KafkaProducerConnector.scala   |   2 +-
 .../main/scala/whisk/core/connector/Message.scala  |   3 -
 .../scala/whisk/core/controller/RestAPIs.scala     |   2 +-
 .../core/controller/actions/PrimitiveActions.scala |   4 +-
 .../core/entitlement/ActivationThrottler.scala     |   4 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    | 134 --------------
 .../core/loadBalancer/InvokerSupervision.scala     |  53 ++++--
 .../core/loadBalancer/LoadBalancerService.scala    | 194 ++++++++-------------
 .../main/scala/whisk/core/invoker/Invoker.scala    |  15 +-
 tests/build.gradle                                 |   1 +
 .../controller/test/ControllerTestCommon.scala     |   9 +-
 .../test/InvokerSupervisionTests.scala             |  19 +-
 14 files changed, 176 insertions(+), 326 deletions(-)

commit b581cc43a87e25cd4774313718f50fabca1efecc
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Feb 10 14:52:55 2017 -0500

    Return Non-zero Exit Code when Action Exceeds Time Limit

 tests/src/test/scala/common/TestUtils.java         | 32 ++++----
 tests/src/test/scala/common/Wsk.scala              | 24 +++---
 .../test/scala/system/basic/WskBasicTests.scala    |  8 +-
 .../test/scala/system/basic/WskSequenceTests.scala |  2 +-
 tools/cli/go-whisk-cli/commands/action.go          | 86 ++++++++++++++--------
 tools/cli/go-whisk-cli/commands/util.go            | 24 ++++++
 tools/cli/go-whisk-cli/main.go                     |  6 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  8 ++
 tools/cli/go-whisk/whisk/action.go                 | 10 +--
 tools/cli/go-whisk/whisk/activation.go             |  8 +-
 tools/cli/go-whisk/whisk/api.go                    |  8 +-
 tools/cli/go-whisk/whisk/client.go                 | 26 +++++--
 tools/cli/go-whisk/whisk/info.go                   |  2 +-
 tools/cli/go-whisk/whisk/namespace.go              |  4 +-
 tools/cli/go-whisk/whisk/package.go                | 10 +--
 tools/cli/go-whisk/whisk/rule.go                   | 10 +--
 tools/cli/go-whisk/whisk/trigger.go                | 11 ++-
 tools/cli/go-whisk/whisk/wskerror.go               | 49 ++++++++----
 18 files changed, 213 insertions(+), 115 deletions(-)

commit a93750225b463bf3ac7bf888506421dbda133217
Author: Raymond Camden <raymondcamden@gmail.com>
Date:   Thu Mar 2 09:07:18 2017 -0600

    Update webactions.md
    
    Fix response in demo

 .travis.yml        |  2 +-
 docs/webactions.md | 49 +++++++++++++++++++++++++++++++++++++++----------
 2 files changed, 40 insertions(+), 11 deletions(-)

commit 485428c80f15d1c0f9dacb2f2c5317f0ccc183af
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Mar 4 04:08:18 2017 -0500

    Remove dependence on Exec.[js, ...] helpers; these are test helpers hence move to test.
    
    Remove subtypes.
    
    Move exec utils for image construction to singleton.
    
    Rebase

 .../src/main/scala/whisk/core/entity/Exec.scala    |  63 ++------
 .../scala/whisk/core/entity/ExecManifest.scala     |  24 ++++
 .../main/scala/whisk/core/entity/WhiskAction.scala |  37 -----
 .../scala/whisk/core/container/ContainerPool.scala |  21 +--
 .../core/container/test/ContainerPoolTests.scala   |   7 +-
 .../core/controller/test/ActionsApiTests.scala     |  96 ++++++-------
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../controller/test/EntitlementProviderTests.scala |  12 +-
 .../whisk/core/controller/test/MetaApiTests.scala  |   2 +-
 .../controller/test/PackageActionsApiTests.scala   |  69 +++++----
 .../core/controller/test/PackagesApiTests.scala    | 158 ++++++++++-----------
 .../whisk/core/controller/test/RulesApiTests.scala |  34 ++---
 .../core/controller/test/SequenceApiTests.scala    |  52 +++----
 .../SequenceActionApiMigrationTests.scala          |  36 ++---
 .../whisk/core/entity/test/DatastoreTests.scala    |  13 +-
 .../scala/whisk/core/entity/test/ExecHelpers.scala |  34 +++++
 .../whisk/core/entity/test/ExecManifestTests.scala |   0
 .../scala/whisk/core/entity/test/SchemaTests.scala |  32 ++---
 .../scala/whisk/core/entity/test/ViewTests.scala   |  34 ++---
 .../whisk/core/entity/test/WhiskEntityTests.scala  |   7 +-
 20 files changed, 349 insertions(+), 386 deletions(-)

commit ff8a88f97e4443e7d0f1853e5517acb17a2848ce
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu Mar 2 13:14:47 2017 -0600

    # This is a combination of 4 commits.
    # This is the 1st commit message:
    Update header to comply with Apache requirements
    
    Additionally, provide proper header (with script description) using PEP8 compliant string literal.
    
    # The commit message #2 will be skipped:
    
    #       Update box-upload.py
    
    # The commit message #3 will be skipped:
    
    #       Update invoke.py
    
    # The commit message #4 will be skipped:
    
    #       Update actionproxy.py

 core/actionProxy/actionproxy.py   | 43 ++++++++++++++++++++++-------------
 core/actionProxy/invoke.py        | 47 +++++++++++++++++++++------------------
 core/pythonAction/pythonrunner.py | 34 +++++++++++++++-------------
 tools/build/checkLogs.py          | 37 +++++++++++++++++-------------
 tools/json/validate.py            | 30 +++++++++++++++++++------
 tools/travis/box-upload.py        | 46 +++++++++++++++++++++++++++++---------
 6 files changed, 151 insertions(+), 86 deletions(-)

commit 18976bb6ea572bbe1aa0cf85708f6e940d69f9f3
Author: Rob Allen <rob@akrabat.com>
Date:   Tue Mar 7 08:49:19 2017 +0000

    Document how to compile Swift actions as zip files

 docs/actions.md | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit adaba136341b6fb6db2ce64652712a8e64865dec
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Mar 5 20:19:08 2017 -0500

    Allow pre-compiled Swift binaries.

 core/actionProxy/invoke.py                         |   2 +-
 core/swift3Action/swift3runner.py                  |  12 ++++++++
 tests/dat/actions/helloSwift.zip                   | Bin 0 -> 748064 bytes
 .../scala/actionContainers/ResourceHelpers.scala   |   2 +-
 .../SwiftActionContainerTests.scala                |  32 ++++++++++++++++++---
 5 files changed, 42 insertions(+), 6 deletions(-)

commit 4ce2766a55fda6a1df37c6588392909b50cb1a44
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Tue Mar 7 15:35:29 2017 +0100

    Clean up test project (#1960)
    
    
    
    - Remove unused dependencies
    - Define dependencies as compile time to be able to include them from other projects
    - Standardize layout
    
    * Bumping restassured version
    
    * Update gitignore to include .cache-tests

 .gitignore                                         |  1 +
 tests/build.gradle                                 | 45 ++++++----------------
 .../scala}/actionContainers/ActionContainer.scala  |  0
 .../ActionProxyContainerTests.scala                |  0
 .../DockerExampleContainerTests.scala              |  0
 .../JavaActionContainerTests.scala                 |  0
 .../NodeJs6ActionContainerTests.scala              |  0
 .../NodeJsActionContainerTests.scala               |  0
 .../PythonActionContainerTests.scala               |  0
 .../scala}/actionContainers/ResourceHelpers.scala  |  0
 .../SwiftActionContainerTests.scala                |  0
 .../apigw/healthtests/ApiGwEndToEndTests.scala     |  0
 tests/src/{ => test/scala}/common/JsHelpers.scala  |  0
 tests/src/{ => test/scala}/common/Pair.java        |  0
 .../{ => test/scala}/common/StreamLogging.scala    |  0
 .../src/{ => test/scala}/common/TestHelpers.scala  |  0
 tests/src/{ => test/scala}/common/TestUtils.java   |  0
 .../{ => test/scala}/common/WhiskProperties.java   |  0
 tests/src/{ => test/scala}/common/Wsk.scala        |  0
 .../{ => test/scala}/common/WskActorSystem.scala   |  0
 .../{ => test/scala}/common/WskTestHelpers.scala   |  0
 .../{ => test/scala}/limits/ThrottleTests.scala    |  0
 .../{ => test/scala}/services/HeadersTests.scala   |  0
 .../scala}/services/KafkaConnectorTests.scala      |  0
 .../src/{ => test/scala}/services/PingTests.scala  |  0
 .../scala}/system/basic/CLIJavaTests.scala         |  0
 .../scala}/system/basic/CLIPythonTests.scala       |  0
 .../scala}/system/basic/ConsoleTests.scala         |  0
 .../scala}/system/basic/PackageTests.scala         |  0
 .../system/basic/Swift3WhiskObjectTests.scala      |  0
 .../scala}/system/basic/WskActionTests.scala       |  0
 .../scala}/system/basic/WskBasicNodeTests.scala    |  0
 .../scala}/system/basic/WskBasicSwiftTests.scala   |  0
 .../scala}/system/basic/WskBasicTests.scala        |  0
 .../scala}/system/basic/WskRuleTests.scala         |  0
 .../scala}/system/basic/WskSdkTests.scala          |  0
 .../scala}/system/basic/WskSequenceTests.scala     |  0
 .../scala}/system/basic/WskUnicodeTests.scala      |  0
 .../scala}/system/rest/ActionSchemaTests.scala     |  0
 .../scala}/system/rest/GoCLINginxTests.scala       |  0
 .../{ => test/scala}/system/rest/JsonSchema.scala  |  0
 .../scala}/system/rest/JsonSchemaTests.scala       |  0
 .../{ => test/scala}/system/rest/RestUtil.scala    |  0
 .../scala}/system/rest/SwaggerTests.scala          |  0
 .../scala}/whisk/common/ConfigTests.scala          |  0
 .../scala}/whisk/common/SchedulerTests.scala       |  0
 .../scala}/whisk/consul/ConsulClientTests.scala    |  0
 .../scala}/whisk/consul/ConsulHealthTests.scala    |  0
 .../scala}/whisk/core/WhiskConfigTests.scala       |  0
 .../scala}/whisk/core/admin/WskAdminTests.scala    |  0
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  0
 .../scala}/whisk/core/cli/test/ApiGwTests.scala    |  0
 .../whisk/core/cli/test/JsonArgsForTests.scala     |  0
 .../core/cli/test/SequenceMigrationTests.scala     |  0
 .../scala}/whisk/core/cli/test/SwiftTests.scala    |  0
 .../core/cli/test/WskActionSequenceTests.scala     |  0
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  0
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  0
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  0
 .../container/test/ContainerConnectionTests.scala  |  0
 .../core/container/test/ContainerPoolTests.scala   |  0
 .../core/controller/test/ActionsApiTests.scala     |  0
 .../core/controller/test/ActivationsApiTests.scala |  0
 .../core/controller/test/AuthenticateTests.scala   |  0
 .../core/controller/test/AuthenticateV2Tests.scala |  0
 .../controller/test/ControllerTestCommon.scala     |  0
 .../controller/test/EntitlementProviderTests.scala |  0
 .../whisk/core/controller/test/MetaApiTests.scala  |  0
 .../core/controller/test/NamespacesApiTests.scala  |  0
 .../controller/test/PackageActionsApiTests.scala   |  0
 .../core/controller/test/PackagesApiTests.scala    |  0
 .../core/controller/test/RateThrottleTests.scala   |  0
 .../controller/test/RespondWithHeadersTests.scala  |  0
 .../whisk/core/controller/test/RulesApiTests.scala |  0
 .../core/controller/test/SequenceApiTests.scala    |  0
 .../core/controller/test/TriggersApiTests.scala    |  0
 .../SequenceActionApiMigrationTests.scala          |  0
 .../core/database/test/CacheConcurrencyTests.scala |  0
 .../database/test/CouchDbRestClientTests.scala     |  0
 .../scala}/whisk/core/database/test/DbUtils.scala  |  0
 .../database/test/ExtendedCouchDbRestClient.scala  |  0
 .../MultipleReadersSingleWriterCacheTests.scala    |  0
 .../whisk/core/database/test/ReplicatorTests.scala |  0
 .../dispatcher/test/ActivationResponseTests.scala  |  0
 .../core/dispatcher/test/DispatcherTests.scala     |  0
 .../whisk/core/dispatcher/test/TestConnector.scala |  0
 .../whisk/core/entity/test/DatastoreTests.scala    |  0
 .../whisk/core/entity/test/MigrationEntities.scala |  0
 .../whisk/core/entity/test/SchemaTests.scala       |  0
 .../scala}/whisk/core/entity/test/SizeTests.scala  |  0
 .../scala}/whisk/core/entity/test/ViewTests.scala  |  0
 .../whisk/core/entity/test/WhiskEntityTests.scala  |  0
 .../whisk/core/limits/ActionLimitsTests.scala      |  0
 .../whisk/core/limits/MaxActionDurationTests.scala |  0
 .../test/InvokerSupervisionTests.scala             |  0
 .../scala}/whisk/test/http/RESTProxy.scala         |  0
 96 files changed, 13 insertions(+), 33 deletions(-)

commit 5cd33829e92e02c0f70a1a3ecac0f2373b92b2fe
Author: Dominik Froehlich <Dominik.Frolic@gmail.com>
Date:   Tue Mar 7 10:33:15 2017 +0100

    remove intermediate shell to make shutdown hook great again. (#1919)

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 113ef674566c71e6ce4d5b5dc199bbe36247f95c
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 6 22:14:35 2017 -0500

    Remove old scripts. Replaced by actionproxy/invoke.py.

 core/javaAction/init.py | 29 -----------------------------
 core/javaAction/run.py  | 39 ---------------------------------------
 2 files changed, 68 deletions(-)

commit 2358c0977ff03afee123468cb513dea3706a4d1f
Author: cclauss <cclauss@bluewin.ch>
Date:   Mon Mar 6 04:35:42 2017 +0100

    Flake8 is a great way to find issues in Python code.
    It will help us to find issues and changes so that code will run in both Python 2 and Python 3.
    
    http://flake8.pycqa.org
    ```
    flake8 will scan .py files for style
    --count provides counts
    --max-line-length=127 normally this is 79 but 127 is the width of the GitHub viewer
    --statistics provides stats
    --exit-zero lets the build continue even if issues are found.
    ```
    
    pip install --user flake8
    pip install --upgrade pip setuptools
    pip install --user backports.ssl_match_hostname
    Update .travis.yml
    flake8 . --count --max-line-length=127 --statistics --exit-zero

 .travis.yml           | 3 +++
 tools/travis/setup.sh | 3 +++
 2 files changed, 6 insertions(+)

commit 50aa4ee7a194b7b25d029cf827cb0ea00f5c1f2a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Mar 4 22:06:34 2017 -0500

    Encode Exec runtime manifests in deployment configuration.
    
    Add manifest schema.
    Add utilities to read Exec runtimes from manifest.
    Add runtimes manifest to ansible group vars.
    Write out manifest to whisk.properties and make available through WhiskConfig.

 ansible/group_vars/all                             |  22 +++-
 ansible/templates/whisk.properties.j2              |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   4 +
 .../main/scala/whisk/core/entity/Attachments.scala |  47 +++----
 .../scala/whisk/core/entity/ExecManifest.scala     | 136 +++++++++++++++++++++
 .../whisk/core/entity/test/ExecManifestTests.scala |  57 +++++++++
 6 files changed, 245 insertions(+), 22 deletions(-)

commit 768c2e5893a76ffc1a9dd41c0b2337cc8e867ad0
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Mar 6 15:56:46 2017 -0500

    Remove python version of the CLI. (#1958)

 core/pythonAction/cli/.pydevproject                |   8 -
 core/pythonAction/cli/Dockerfile                   |  12 -
 core/pythonAction/cli/build.gradle                 |  54 ----
 .../cli/packagescripts/DESCRIPTION.rst             |   6 -
 core/pythonAction/cli/packagescripts/MANIFEST.in   |   8 -
 core/pythonAction/cli/packagescripts/README.rst    |   8 -
 core/pythonAction/cli/packagescripts/__init__.py   |   1 -
 core/pythonAction/cli/packagescripts/setup.py      | 108 -------
 core/pythonAction/cli/wsk                          | 258 -----------------
 core/pythonAction/cli/wskaction.py                 | 243 ----------------
 core/pythonAction/cli/wskactivation.py             | 320 ---------------------
 core/pythonAction/cli/wskitem.py                   | 266 -----------------
 core/pythonAction/cli/wsknamespace.py              |  89 ------
 core/pythonAction/cli/wskpackage.py                | 140 ---------
 core/pythonAction/cli/wskprop.py                   | 107 -------
 core/pythonAction/cli/wskrule.py                   | 128 ---------
 core/pythonAction/cli/wsksdk.py                    |  98 -------
 core/pythonAction/cli/wsktrigger.py                | 176 ------------
 core/pythonAction/cli/wskutil.py                   | 320 ---------------------
 19 files changed, 2350 deletions(-)

commit 47d57651bfb7f848df93deff409281aaa8486218
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon Mar 6 10:46:48 2017 -0500

    Fix regression introduced in #1946 (#1950)
    
    The change in #1946 introduced a regression such that it did not allow for Node.js zipped actions which contain an index.js but not a package.json. This is a valid configuration and should be supported.

 core/nodejsActionBase/runner.js                    |  5 ++--
 .../NodeJsActionContainerTests.scala               | 32 +++++++++++++++++++++-
 2 files changed, 34 insertions(+), 3 deletions(-)

commit 7d4bfbdf6ba816fee93a8e82ba67f69d444d7830
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Mar 6 09:01:55 2017 +0100

    Bump scalatest version

 tests/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 69b855e3e3c38a3d98e109607fa5d85be2af2b43
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Sun Mar 5 10:25:31 2017 -0500

    Warn users against the dangers of using Windows Explorer's zip action.
    
    Using the Windows Explorer method of creating zip actions results in an incorrect zip structure. OW requires that package.json be found at the root of the zip, while the Explorer action insists on putting everything inside a top-level folder inside the zip.
    
    Return an explicit error when package.json is not found at the root of a zipped action.

 core/nodejsActionBase/runner.js                             | 8 ++++++--
 docs/actions.md                                             | 2 ++
 tests/src/actionContainers/NodeJsActionContainerTests.scala | 2 +-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit a949cfdd1b7b3b3f8ee7280f7454d9b27291ca49
Author: cclauss <cclauss@bluewin.ch>
Date:   Sun Mar 5 18:10:05 2017 +0100

    print as function + flake8 changes (#1944)

 core/actionProxy/invoke.py | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 38b51c5d1d99fd82706c95114a577aa0d8f1ad81
Author: Carlos Santana <csantana23@gmail.com>
Date:   Sat Mar 4 02:14:37 2017 -0500

    updating openwhisk npm package (#1941)

 core/nodejs6Action/Dockerfile | 2 +-
 docs/reference.md             | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 959abe2b88aaca12a99a7aa3872e0ae68c9c798c
Author: rodric rabbah <rodric@gmail.com>
Date:   Fri Mar 3 14:28:31 2017 -0500

    Normalize initializer for all execs. (#1938)
    
    * Normalize initializer for all execs.
    
    * Handle empty code for blackbox.
    
    * Do not include code if null.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 55 +++++++++++++---------
 .../main/scala/whisk/core/entity/WhiskAction.scala | 21 ++-------
 core/actionProxy/actionproxy.py                    |  2 +-
 core/actionProxy/invoke.py                         | 10 ++--
 .../src/main/java/openwhisk/java/action/Proxy.java |  2 +-
 tests/src/actionContainers/ActionContainer.scala   |  2 +-
 .../ActionProxyContainerTests.scala                | 15 ++++++
 .../JavaActionContainerTests.scala                 |  2 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 29 ++++++++++--
 9 files changed, 88 insertions(+), 50 deletions(-)

commit 947afe72bd97b73a5fd2c00f3b7564cecd55c0bf
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Feb 26 20:48:05 2017 -0500

    Support python actions with zip files.
    
    Refactoring of init method into an init-from-source and init-from-zip.
    Support a zip file containing more than one python file.
    The zip file must contain a file called __main__.py that defines a "main" method.
    
    Log an error when python zip does not include required file.

 core/actionProxy/actionproxy.py                    |  70 ++++++++++++---------
 core/pythonAction/pythonrunner.py                  |  43 +++++++++----
 core/swift3Action/swift3runner.py                  |  30 ++++-----
 tests/dat/actions/python-zip/__main__.py           |   4 ++
 tests/dat/actions/python-zip/greet.py              |   7 +++
 tests/dat/actions/python.zip                       | Bin 0 -> 726 bytes
 .../PythonActionContainerTests.scala               |  58 ++++++++++++++++-
 .../SwiftActionContainerTests.scala                |   3 -
 tests/src/system/basic/CLIPythonTests.scala        |  12 ++++
 tools/cli/go-whisk-cli/commands/action.go          |   4 +-
 10 files changed, 164 insertions(+), 67 deletions(-)

commit 10c182b26427e61db23a4a829fa5739dd6387c5a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 27 13:57:04 2017 +0100

    Cleanup factory indirections

 .../main/scala/whisk/core/controller/Actions.scala |  5 +---
 .../scala/whisk/core/controller/Activations.scala  |  4 ---
 .../main/scala/whisk/core/controller/Backend.scala | 31 +---------------------
 .../scala/whisk/core/controller/Namespaces.scala   | 11 --------
 .../scala/whisk/core/controller/Packages.scala     |  4 ---
 .../scala/whisk/core/controller/RestAPIs.scala     | 16 +++++------
 .../main/scala/whisk/core/controller/Rules.scala   |  9 -------
 .../scala/whisk/core/controller/Triggers.scala     | 10 -------
 .../core/loadBalancer/LoadBalancerService.scala    | 10 ++-----
 .../controller/test/ControllerTestCommon.scala     |  4 +--
 10 files changed, 14 insertions(+), 90 deletions(-)

commit 50308e883401ad0b1f0669df0cf4dd14e0582b4d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 27 13:32:25 2017 +0100

    Remove feature to access multiple namespaces with one key
    
    This removes lots of code related to a deprecated 1:n mapping of keys to namespaces. The /namespaces call will now only yield exactly one namespace, which is the namespace of the key you're providing.

 ansible/templates/whisk.properties.j2              |   6 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  16 ---
 .../main/scala/whisk/core/controller/Backend.scala |  23 +---
 .../scala/whisk/core/controller/Entities.scala     |  31 +----
 .../scala/whisk/core/controller/Namespaces.scala   |  21 +---
 .../scala/whisk/core/controller/RestAPIs.scala     |  10 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  24 +---
 .../whisk/core/entitlement/LocalEntitlement.scala  |   6 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala | 127 ---------------------
 .../scala/whisk/core/iam/NamespaceProvider.scala   |  80 -------------
 tests/src/system/basic/WskBasicTests.scala         |  16 +--
 .../controller/test/ControllerTestCommon.scala     |   4 +-
 .../whisk/core/controller/test/MetaApiTests.scala  |   8 +-
 13 files changed, 27 insertions(+), 345 deletions(-)

commit 0b8c2a0815ea1092e883215ae35a1d1fd4538b7f
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Mar 3 00:11:35 2017 +0100

    Reduce time to execute tests by 10 minutes (#1935)

commit 2861cf02cb8c6cd5cf60a94db1eb00812c283515
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Feb 22 12:31:31 2017 -0500

    Refactor CLI so that additional commands won't need common code updates
    
    test case fix when running on windows/vagrant
    
    Remove Externalized Strings that do not Belong

 tests/src/system/basic/WskBasicTests.scala         |   2 +-
 tools/cli/go-whisk-cli/commands/api.go             |   9 +-
 tools/cli/go-whisk-cli/commands/commands.go        |   5 +-
 tools/cli/go-whisk-cli/commands/property.go        |  67 +-----------
 tools/cli/go-whisk-cli/commands/util.go            |  87 ++++++++++++++-
 tools/cli/go-whisk-cli/commands/wsk.go             |   2 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   4 +
 tools/cli/go-whisk/whisk/action.go                 |   4 +-
 tools/cli/go-whisk/whisk/activation.go             |   4 +-
 tools/cli/go-whisk/whisk/api.go                    |  12 +--
 tools/cli/go-whisk/whisk/client.go                 | 119 ++++++++++++++-------
 tools/cli/go-whisk/whisk/info.go                   |  11 +-
 tools/cli/go-whisk/whisk/package.go                |   4 +-
 tools/cli/go-whisk/whisk/rule.go                   |   4 +-
 tools/cli/go-whisk/whisk/trigger.go                |   8 +-
 15 files changed, 205 insertions(+), 137 deletions(-)

commit e80f30410d38cdbd035e9ecae7ead30f2451e473
Author: Christian Bickel <github@cbickel.de>
Date:   Thu Mar 2 23:00:57 2017 +0100

    Reduce time to execute tests by 10 minutes (#1935)

 .../src/whisk/core/limits/MaxActionDurationTests.scala  | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 71b185279f098bbf4e9a086f1cc4faf10a7e5a3f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Feb 17 14:23:50 2017 -0500

    Add nginx rewrite rule to permit vanity URLs for web actions.
    
    https://guest.openwhisk.host/public/index.html becomes a proxy for
    https://openwhisk.host/api/v1/experimental/web/guest/public/index.html
    
    and for added convenience, and by convention
    https://guest.openwhisk.host becomes a proxy for
    https://openwhisk.host/api/v1/experimental/web/guest/public/index.html
    
    Add explanation in webaction doc.

 ansible/roles/nginx/templates/nginx.conf.j2 | 15 +++++++++++++++
 docs/webactions.md                          | 11 +++++++++++
 2 files changed, 26 insertions(+)

commit c993812d011e8f3f4c7d36e83db4b063c1f2ac4b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Mar 2 14:57:13 2017 -0500

    Allow Limits to be Set with Default Values (#1923)
    
    * Allow Limits to be Set with Default Values
    
    - timeout of 60000, memory of 256, and log of 10 can now be used
    
    * Add Consts for Flag Names

 tools/cli/go-whisk-cli/commands/action.go | 27 +++++++++++++++------------
 tools/cli/go-whisk-cli/commands/flags.go  |  4 ++++
 2 files changed, 19 insertions(+), 12 deletions(-)

commit 46a6e976c528a84e99d255ccdc73cf7ab6ac63fb
Author: Rob Allen <rob@akrabat.com>
Date:   Thu Mar 2 18:25:16 2017 +0000

    Action document improvements (#1936)
    
    * Add links to the other sections in the actions doc
    
    This makes them easier to find.
    
    * Add a section about listing actions

 docs/actions.md | 23 +++++++++++++++++++++++
 1 file changed, 23 insertions(+)

commit affab0da20c5626fb13058de76f96070f99b1ce9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Feb 26 11:21:35 2017 -0500

    Remove swift 2 action proxy.
    
    Remove rotted script.

 .gitignore                                         |   4 -
 .project                                           |   8 -
 ansible/roles/invoker/tasks/deploy.yml             |   1 -
 core/actionProxy/README.md                         |   6 +-
 core/swiftAction/Dockerfile                        |  46 ----
 core/swiftAction/build.gradle                      |  13 -
 core/swiftAction/epilogue.swift                    | 143 ----------
 core/swiftAction/swiftrunner.py                    |  63 -----
 settings.gradle                                    |   1 -
 tests/build.gradle                                 |   1 -
 .../SwiftActionContainerTests.scala                |   2 +-
 tools/build/redo                                   |   5 -
 tools/deploy/deployInvoker                         | 306 ---------------------
 tools/travis/build.sh                              |   4 +-
 14 files changed, 6 insertions(+), 597 deletions(-)

commit c03776fddbfd9031a3464065a2f5b2f93058d974
Author: Paul Castro <castrop@us.ibm.com>
Date:   Wed Nov 16 10:31:00 2016 -0500

    Modify controller to check for deprecation status of runtime.
    
    Adds bit to Exec to indicate action my not longer be activated or updated.
    Adds checks for unsupported runtime in Actions API and report proper error.
    
    Drop Swift 2 support
    Adds tests.

 .../src/main/scala/whisk/core/entity/Exec.scala    |   9 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   9 +-
 .../main/scala/whisk/core/controller/Actions.scala |  20 ++-
 .../controller/actions/PostActionActivation.scala  |  10 +-
 .../Swift3ActionContainerTests.scala               | 139 ---------------------
 .../SwiftActionContainerTests.scala                | 129 +++++++++++++++++--
 .../core/controller/test/ActionsApiTests.scala     |  50 ++++++++
 7 files changed, 206 insertions(+), 160 deletions(-)

commit 27c670565c719ae0b3bf1d44b8a0b4f53d4b71ed
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Feb 3 11:11:17 2017 +0100

    Invoker health ping through kafka
    
    The invokers ping the controller through a seperate topic in Kafka to indicate they are still alive. This is groundwork for a more sophisticated health protocol for our invokers.

 ansible/roles/kafka/tasks/deploy.yml               |   3 +-
 .../main/scala/whisk/common/TransactionId.scala    |   7 +-
 .../main/scala/whisk/core/connector/Message.scala  |  21 ++--
 .../core/loadBalancer/InvokerSupervision.scala     | 137 +++++++++++++++++++++
 .../core/loadBalancer/LoadBalancerService.scala    |  46 ++++---
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |   6 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   8 ++
 .../test/InvokerSupervisionTests.scala             | 107 ++++++++++++++++
 8 files changed, 304 insertions(+), 31 deletions(-)

commit d86ed6724766cafad40203fd8a4095f15b0a8ace
Author: Carlos Santana <csantana23@gmail.com>
Date:   Mon Feb 27 14:11:55 2017 -0500

    restoring original location for apigateway container image (#1883)

 ansible/roles/apigateway/tasks/deploy.yml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit efa04b9cb12460ed7179b1920e49dc18025e4f70
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Mon Feb 27 10:29:28 2017 +0100

    docker-machine  has no bash, we actually don't need it here. also change ignore_errors to failed_when false to bautify logs.

 ansible/roles/invoker/tasks/clean.yml | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 77e69a990a18282e3a9399cd003e31ce67703d2c
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 27 13:01:53 2017 -0500

    Flatten Exec hiearchy (#1911)
    
    * Remove unused script name variable for node js actions.
    
    * Allow zip action without checking the kind - let backend determine if supported or not.
    
    * Flatten exec hierarchy to remove unnecessary distinctions.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 62 +++++++++-------------
 .../main/scala/whisk/core/entity/WhiskAction.scala | 22 ++------
 .../scala/whisk/core/container/ContainerPool.scala |  2 +-
 core/nodejsActionBase/runner.js                    |  7 ---
 core/nodejsActionBase/src/service.js               |  2 +-
 tests/src/actionContainers/ActionContainer.scala   | 25 +++++----
 .../NodeJs6ActionContainerTests.scala              |  4 --
 .../NodeJsActionContainerTests.scala               | 14 -----
 tests/src/whisk/core/entity/test/SchemaTests.scala | 12 +++--
 tools/cli/go-whisk-cli/commands/action.go          |  5 +-
 10 files changed, 53 insertions(+), 102 deletions(-)

commit 7d4132a6d060d8bd8288de0b58bc0713340f15e1
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon Feb 27 12:54:18 2017 -0500

    remove whisk object (#1878)

 catalog/deprecate.sh                               |  99 -------
 core/nodejsActionBase/runner.js                    |  81 ++----
 core/nodejsActionBase/src/service.js               |  10 +-
 core/nodejsActionBase/src/whisk.js                 | 306 ---------------------
 docs/reference.md                                  |   4 +-
 tests/dat/actions/applicationError.js              |   3 +
 tests/dat/actions/applicationError1.js             |   3 -
 tests/dat/actions/applicationError2.js             |   4 -
 tests/dat/actions/applicationError3.js             |   3 -
 tests/dat/actions/helloAsync.js                    |  12 +-
 tests/dat/actions/helloAsyncDoneTwice.js           |  16 --
 tests/dat/actions/helloSyncDoneTwice.js            |  12 -
 tests/dat/actions/invokeCallback.js                |  36 ---
 tests/dat/actions/invokePromise.js                 |  34 ---
 tests/dat/actions/threeSecondRule.js               |  24 --
 tests/dat/actions/triggerCallback.js               |  14 -
 tests/dat/actions/triggerPromise.js                |  13 -
 .../NodeJsActionContainerTests.scala               | 175 ++----------
 tests/src/system/basic/WskActionTests.scala        |  32 ---
 tests/src/system/basic/WskBasicNodeTests.scala     | 177 ------------
 tests/src/system/basic/WskBasicTests.scala         |  26 +-
 tests/src/system/basic/WskSequenceTests.scala      |   2 +-
 .../core/cli/test/SequenceMigrationTests.scala     |   5 -
 23 files changed, 54 insertions(+), 1037 deletions(-)

commit c5e3e3f17df91f25360b3cc94c4585e4452cb3af
Author: Dominik Froehlich <Dominik.Frolic@gmail.com>
Date:   Sat Feb 25 11:58:02 2017 +0100

    fix invoker runc cleanup. (#1907)
    
    print total of remaining actions after invoker removal.
    
    print runc sync output. unpause only paused actions.

 ansible/roles/invoker/tasks/clean.yml | 23 ++++++++++++++++++-----
 1 file changed, 18 insertions(+), 5 deletions(-)

commit 45d2c5615b545c9eb6dda3f01247f395765e9f15
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed Feb 22 09:23:03 2017 -0500

    GC container after a failed unpause

 .../scala/whisk/core/container/Container.scala     | 12 +++++-----
 .../scala/whisk/core/container/ContainerPool.scala | 11 +++++++--
 .../scala/whisk/core/container/RuncUtils.scala     |  6 +++++
 .../main/scala/whisk/core/container/package.scala  |  6 +++++
 .../core/container/test/ContainerPoolTests.scala   | 27 ++++++++++++++++++++++
 5 files changed, 54 insertions(+), 8 deletions(-)

commit 6a95fd7adaf5b6319535beb33e850d89ac614782
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue Feb 21 15:51:45 2017 -0500

    Do not retry /run on action containers
    
    It should be assumed that /run only happens after /init which should itself ensure that the container is running and ready. With that in mind, it does not make sense to attempt to retry posting to the /run endpoint on connection failures. Such a failure is an indication that something catastrophic has happened to the container, and no attempt at recovery should be made.
    
    This is accomplished by adding a "retry" flag to the appropriate HTTP utilities to control whether or not a retry should be attempted.

 .../src/main/scala/whisk/core/container/HttpUtils.scala     | 11 ++++++-----
 .../main/scala/whisk/core/container/WhiskContainer.scala    | 13 +++++++------
 .../core/container/test/ContainerConnectionTests.scala      |  6 +++---
 3 files changed, 16 insertions(+), 14 deletions(-)

commit f488783a588b7b20c807fdaa3564d7d8123f9390
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Tue Feb 21 11:20:48 2017 +0100

    issue #1879 use unix socket instead of tcp socket.

 ansible/roles/invoker/tasks/deploy.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 23d6645d6eda02fdf44e558f41b68027b21897dd
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Tue Feb 21 10:48:03 2017 +0100

    remove invoker.tar after unpacking.

 core/invoker/Dockerfile | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 4550ac1316d4e1690b7d5e461c26977d7abca34a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Feb 16 19:56:04 2017 -0500

    Remove meta packages, normalize on web actions.
    
    Adds (whisk) authenticated web actions.
    Removes result projection for http actions.

 ansible/group_vars/all                             |    2 -
 ansible/roles/routemgmt/files/installRouteMgmt.sh  |   10 +-
 ansible/templates/whisk.properties.j2              |    1 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |    4 -
 .../main/scala/whisk/core/entity/Parameter.scala   |    4 +-
 .../main/scala/whisk/core/controller/Meta.scala    |  214 +---
 .../scala/whisk/core/controller/RestAPIs.scala     |    1 -
 docs/annotations.md                                |    3 +-
 docs/dev/meta_packages.md                          |   12 -
 tests/src/common/Wsk.scala                         |   86 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |   43 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |   33 +-
 .../whisk/core/controller/test/MetaApiTests.scala  | 1019 ++++++++++----------
 tests/src/whisk/test/http/RESTProxy.scala          |    5 +-
 tools/cli/go-whisk/whisk/api.go                    |    9 +-
 15 files changed, 646 insertions(+), 800 deletions(-)

commit 5de505b64a528d387f24a2bdec7241864a989db9
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Feb 22 10:16:55 2017 -0600

    Update scanCode.py (#1890)

 tools/build/scanCode.py | 38 +++++++++++++++++++-------------------
 1 file changed, 19 insertions(+), 19 deletions(-)

commit 3817675bc677fd52cb275cb1f96fe09edae0507d
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Feb 22 14:17:44 2017 +0100

    Change runc marker to existing format

 common/scala/src/main/scala/whisk/common/Logging.scala           | 1 +
 core/invoker/src/main/scala/whisk/core/container/RuncUtils.scala | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit a51bbe17fe2b34d37332381d4365201e7d93c836
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Mon Jan 30 16:14:48 2017 -0500

    Added swagger tests and updated swagger test docs

 tests/dat/apigw/testswaggerdoc2                | 227 ++++++++++++++++++
 tests/dat/apigw/testswaggerdocinvalid          |  12 +
 tests/src/common/WhiskProperties.java          |   8 +
 tests/src/whisk/core/cli/test/ApiGwTests.scala | 306 +++++++++++++++++++++----
 4 files changed, 512 insertions(+), 41 deletions(-)

commit 85b82a7025bcaa9e1d32c8796a14081f6b852b14
Author: Perry <perry@us.ibm.com>
Date:   Tue Feb 14 12:05:34 2017 -0500

    Make invoker cleanup consistent with runc

 ansible/roles/invoker/tasks/clean.yml | 5 +++++
 1 file changed, 5 insertions(+)

commit fd2c6ff9a5c57f01f741375821f0699f550ac2e5
Author: Perry <perry@us.ibm.com>
Date:   Mon Feb 13 16:22:02 2017 -0500

    actually use runc pause/resume

 .../src/main/scala/whisk/core/container/Container.scala    | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit f32bc5c18ca163aaaf272d3b18cb5134605e745c
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Sun Feb 19 22:42:59 2017 -0600

    Update scanCode.py

 tools/build/scanCode.py | 289 ++++++++++++++++++++++++++++++++----------------
 1 file changed, 193 insertions(+), 96 deletions(-)

commit d127c8f5153c602d9c1e069682e513f677959be5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Feb 10 13:19:58 2017 -0500

    Left align entity name in activation list.
    Enable test.

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala | 2 +-
 tools/cli/go-whisk-cli/commands/util.go                | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit bb2c198ccc1aaa024c7ddf87dbd4ac686ca78462
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Feb 2 13:46:53 2017 -0500

    Remove Mentions of Namespace CLI Configuration Requirements
    
    - Do not inform the user that he or she must configure a namespace before using the CLI

 docs/cli.md             | 36 +++++++++---------------------------
 tools/vagrant/README.md | 10 ++++------
 2 files changed, 13 insertions(+), 33 deletions(-)

commit 61237bdebcf1b7d682f273c8c3dec7aed6542373
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Feb 20 19:40:45 2017 -0500

    small edit to docs/README

 docs/README.md    | 4 ++--
 docs/cli.md       | 8 ++------
 docs/use_cases.md | 2 +-
 3 files changed, 5 insertions(+), 9 deletions(-)

commit 9c9867fa2191fa30cc5b05522eb6bc596b889cd9
Author: Christian Bickel <github@cbickel.de>
Date:   Tue Feb 21 00:20:32 2017 +0100

    Rework replicator tests to use environment-specific prefix (#1876)

 .../whisk/core/database/test/ReplicatorTests.scala | 54 +++++++++++++++++-----
 tools/db/replicateDbs.py                           |  2 +-
 2 files changed, 43 insertions(+), 13 deletions(-)

commit 7cfc638d03ba7c7aa0e5f0fc99deb00fe5c210ed
Author: Roman Kharkovski <kharkovski@gmail.com>
Date:   Tue Feb 14 21:23:11 2017 +0000

    README.md updates
    
    Changed several DOC pages and restructured README.md - getting ready for future content updates
    
    Incorporated detailed system overview from Markus Thömmes article

 docs/README.md                                    |   1 -
 docs/about.md                                     |   3 +-
 docs/images/IoT_solution_architecture_example.png | Bin 0 -> 218584 bytes
 docs/samples.md                                   |   1 -
 docs/use_cases.md                                 |  51 ++++++++++++++++++----
 5 files changed, 43 insertions(+), 13 deletions(-)

commit cbb4132c8e1740ce5bc4328f434db6653da5b4a0
Author: Roman Kharkovski <kharkovski@gmail.com>
Date:   Tue Feb 14 21:23:11 2017 +0000

    README.md updates
    
    Changed several DOC pages and restructured README.md - getting ready for future content updates
    
    Incorporated detailed system overview from Markus Thömmes article

 docs/about.md                                | 135 +++++++++++++++++++++++++--
 docs/cli.md                                  |   4 +-
 docs/images/OpenWhisk_flow_of_processing.png | Bin 0 -> 70221 bytes
 3 files changed, 130 insertions(+), 9 deletions(-)

commit d93d338eaa1b6340d20ab2a9528bb105b80fe941
Author: Roman Kharkovski <kharkovski@gmail.com>
Date:   Tue Feb 14 21:23:11 2017 +0000

    README.md updates
    
    Changed several DOC pages and restructured README.md - getting ready for future content updates
    
    Made changes to README.md per PR comments
    
    Added EOL to 3 files

 docs/README.md                  | 222 ++++++++++++++--------------------------
 docs/about.md                   |  31 ++----
 docs/cli.md                     |  72 +++++++++++++
 docs/{ => images}/OpenWhisk.png | Bin
 docs/rest_api.md                |   4 +
 docs/samples.md                 |  61 +++++++++++
 docs/use_cases.md               |  19 ++++
 7 files changed, 241 insertions(+), 168 deletions(-)

commit 8486aa665fd8942991bf0be87dc37384b79df533
Author: Daniel Krook <krook@us.ibm.com>
Date:   Mon Feb 13 17:33:14 2017 -0500

    Add supported language for actions anchors, closes #1659

 docs/actions.md | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit fa7d23d9f390f3a82c5c9fba3c398c05f87e4f13
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Feb 17 15:39:54 2017 -0500

    Include container status when failing init or run due to unexpected status (#1872)

 core/nodejsActionBase/src/service.js | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bb5b7cb1d0dbd69355d6b2508ce006db22ae2584
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Feb 14 14:40:36 2017 -0500

    replace cloudant user docs with link to repo

 docs/README.md  |   2 +-
 docs/catalog.md | 965 ++------------------------------------------------------
 2 files changed, 22 insertions(+), 945 deletions(-)

commit 87f8673526dd1ff0faaa9fe4e4060153df8ff708
Author: sjfink <sjfink@us.ibm.com>
Date:   Wed Feb 15 12:15:08 2017 -0500

    tweak text describing per minute system limit to avoid term "user"

 docs/reference.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit a600110aa1511f08871618f45745e5b5c0cdcea4
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Jan 31 17:39:58 2017 -0500

    Remove Decoding of Scheme from Action Invocations (#1802)
    
    - No longer decode action invocation response into structs

 tests/src/common/WskTestHelpers.scala              | 15 ++++++++++--
 tests/src/system/basic/WskBasicTests.scala         |  8 +++----
 tests/src/system/basic/WskRuleTests.scala          | 28 +++++++++++-----------
 tests/src/system/basic/WskSequenceTests.scala      |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  4 ++--
 tools/cli/go-whisk-cli/commands/action.go          | 17 ++++++-------
 tools/cli/go-whisk-cli/commands/util.go            | 13 ++++++++++
 tools/cli/go-whisk/whisk/action.go                 |  8 ++-----
 tools/cli/go-whisk/whisk/client.go                 |  4 +++-
 9 files changed, 59 insertions(+), 40 deletions(-)

commit 59bb31b1ffc5a7b8aa4178b7aa0bbbbf6bc5b19b
Author: RSulzmann <robi@de.ibm.com>
Date:   Thu Feb 16 16:07:33 2017 +0100

    fix checking in actionLimitTest (#1857)

 tests/src/whisk/core/limits/ActionLimitsTests.scala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 5e64c8e905050f905d8aec3f4e8dbe8b6d5a77a1
Author: Roman Kharkovski <kharkovski@gmail.com>
Date:   Tue Feb 14 17:55:39 2017 -0800

    docs/README.md updates (#1855)
    
    * README.md updates
    
    * README.md updates

 docs/README.md | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit ee656247142c05cf62af96379813416179703a1a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Jan 29 10:30:34 2017 -0500

    Document web actions.
    
    Also adds documentations for annotations and meta packages.

 docs/annotations.md       |  48 +++++++++++++
 docs/dev/future.md        |  11 +++
 docs/dev/meta_packages.md |  12 ++++
 docs/webactions.md        | 168 ++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 239 insertions(+)

commit 47edf410a14b3fdda2a3612fad0ce0b33c30ff79
Author: Robert Sulzmann <robi@de.ibm.com>
Date:   Thu Jan 26 16:55:33 2017 +0100

    add new WhiskConfig property loadbalancer_activation_count_before_next_invoker

 ansible/templates/whisk.properties.j2                          |  2 ++
 common/scala/src/main/scala/whisk/common/Config.scala          | 10 ++++++++++
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala       |  3 +++
 .../scala/whisk/core/loadBalancer/LoadBalancerService.scala    |  6 ++++--
 4 files changed, 19 insertions(+), 2 deletions(-)

commit 871eb99eb1f176eac57b5dd8e932c93c398cea0b
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Feb 13 15:44:42 2017 -0500

    Revert code that was not supposed to be part of last commit (#1849)

 .../src/main/scala/whisk/core/container/Container.scala    | 14 ++------------
 1 file changed, 2 insertions(+), 12 deletions(-)

commit 4894dab87b4d6ca66031054822b1d81f18734dde
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon Feb 13 11:59:48 2017 -0500

    Add kafka_python library to the Python action runtime (#1829)
    
    * Add kafka_python library to the Python action runtime
    
    * Update doc and Python package sniff test
    
    Please squash into previous commit

 core/pythonAction/Dockerfile                                | 1 +
 docs/reference.md                                           | 1 +
 tests/src/actionContainers/PythonActionContainerTests.scala | 8 ++++++--
 3 files changed, 8 insertions(+), 2 deletions(-)

commit 9157d46733343867c17b4a35a42a645a66f762ad
Author: Perry <perry@us.ibm.com>
Date:   Fri Feb 10 10:56:44 2017 -0500

    Add helper pause/resume.  Propagate runc flag into container.
    
    Actually use runc pause/resume

 .../src/main/scala/whisk/core/container/Container.scala   | 15 +++++++++++++--
 .../main/scala/whisk/core/container/ContainerPool.scala   |  5 +++--
 .../src/main/scala/whisk/core/container/RuncUtils.scala   |  8 ++++++++
 .../main/scala/whisk/core/container/WhiskContainer.scala  |  3 ++-
 4 files changed, 26 insertions(+), 5 deletions(-)

commit aef57658891c6eba7db3c827e85803cf2be6e4af
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 13 09:02:07 2017 -0500

    Tweak tests in pr#1716, set fileHandleLimit to 1024 (#1847)
    
    * set fileHandleLimit to 1024 and add testcase
    
    * Make test tighter.

 .../whisk/core/container/ContainerUtils.scala      |  2 +-
 tests/dat/actions/openFiles.js                     | 39 ++++++++++++++
 .../src/whisk/core/limits/ActionLimitsTests.scala  | 60 ++++++++++++++++++++++
 3 files changed, 100 insertions(+), 1 deletion(-)

commit 1318338aaf6984a63c96327bae0d198a26e22cd5
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 13 05:50:49 2017 -0500

    Handle application errors in web actions. (#1801)
    
    * Handle application error (handled exception).
    
    If the activation result is an activation error, treat it like a successful
    activation with one distinction: rather than projecting the result per the
    path specified in the URL, project only the error field. The resulting JSON
    value must be of the expected type otherwise, an appropriate error is reported.
    
    This change will allow an HTTP response to set it own status code on error
    for example, but also means that the action producing the error response must
    be aware of the extension type.
    
    The extension type is not passed to the action - perhaps it should be. Even so,
    in the case of a sequence, one would need to forward this type to individual
    components to handle the error case (or result) correctly.
    
    Add tests for failure to activate because of the throttles.
    
    * Tighten extension match, add matcher unit test.
    
    * Consolidate extension maps.
    
    * Remove print, fix typo.

 .../scala/whisk/core/entity/ActivationResult.scala |  12 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   9 +-
 .../main/scala/whisk/core/controller/Meta.scala    |  70 ++++++---
 .../controller/test/ControllerTestCommon.scala     |   2 +-
 .../whisk/core/controller/test/MetaApiTests.scala  | 170 +++++++++++++++++++--
 5 files changed, 212 insertions(+), 51 deletions(-)

commit 6c357bb5f78544a35552777429fe099d86ddc08a
Author: Christian Bickel <github@cbickel.de>
Date:   Fri Feb 10 23:35:02 2017 +0100

    Change logging to Akka-logging (#1836)
    
    * Fix log format of logged responses
    
    * Add Akka Logging to OpenWhisk
    
    * Code review comments

 common/scala/src/main/resources/log4j.properties   |  12 +--
 common/scala/src/main/resources/logging.conf       |   4 +-
 .../scala/src/main/scala/whisk/common/Config.scala |  14 +--
 .../main/scala/whisk/common/ConsulKVReporter.scala |  10 +-
 .../src/main/scala/whisk/common/Logging.scala      |  80 ++++++++-------
 .../src/main/scala/whisk/common/Scheduler.scala    |  10 +-
 .../src/main/scala/whisk/common/SimpleExec.scala   |   8 +-
 .../main/scala/whisk/common/TransactionId.scala    |  32 +++---
 .../connector/kafka/KafkaConsumerConnector.scala   |  14 +--
 .../connector/kafka/KafkaProducerConnector.scala   |  13 +--
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  20 ++--
 .../scala/whisk/core/database/ArtifactStore.scala  |   7 +-
 .../whisk/core/database/CloudantRestClient.scala   |   4 +-
 .../whisk/core/database/CouchDbRestClient.scala    |  27 +++---
 .../whisk/core/database/CouchDbRestStore.scala     |   6 +-
 .../whisk/core/database/DocumentFactory.scala      |  27 +++---
 .../main/scala/whisk/core/entity/Identity.scala    |   4 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  17 ++--
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  28 +++---
 .../main/scala/whisk/http/BasicHttpService.scala   |  21 ++--
 .../main/scala/whisk/http/BasicRasService.scala    |   9 +-
 .../main/scala/whisk/core/controller/Actions.scala |  21 ++--
 .../scala/whisk/core/controller/ApiUtils.scala     |  86 +++++++++--------
 .../scala/whisk/core/controller/Authenticate.scala |  16 +--
 .../controller/AuthorizedRouteDispatcher.scala     |   3 +-
 .../main/scala/whisk/core/controller/Backend.scala |  11 ++-
 .../scala/whisk/core/controller/Controller.scala   |  26 ++---
 .../scala/whisk/core/controller/Entities.scala     |   8 +-
 .../main/scala/whisk/core/controller/Meta.scala    |  22 ++---
 .../scala/whisk/core/controller/Namespaces.scala   |  21 ++--
 .../scala/whisk/core/controller/Packages.scala     |  16 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  90 ++++++++---------
 .../main/scala/whisk/core/controller/Rules.scala   |  18 ++--
 .../scala/whisk/core/controller/Triggers.scala     |  14 +--
 .../core/controller/actions/PrimitiveActions.scala |  19 ++--
 .../core/controller/actions/SequenceActions.scala  |  25 +++--
 .../core/entitlement/ActivationThrottler.scala     |   6 +-
 .../scala/whisk/core/entitlement/Collection.scala  |   8 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  29 +++---
 .../whisk/core/entitlement/LocalEntitlement.scala  |  10 +-
 .../whisk/core/entitlement/PackageCollection.scala |  17 ++--
 .../whisk/core/entitlement/RateThrottler.scala     |  10 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala |  10 +-
 .../scala/whisk/core/iam/NamespaceProvider.scala   |   7 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  23 +++--
 .../core/loadBalancer/LoadBalancerService.scala    |  41 +++-----
 .../scala/whisk/core/container/Container.scala     |  21 ++--
 .../scala/whisk/core/container/ContainerPool.scala | 107 +++++++++------------
 .../whisk/core/container/ContainerUtils.scala      |  32 +++---
 .../scala/whisk/core/container/RuncUtils.scala     |  12 +--
 .../whisk/core/container/WhiskContainer.scala      |  12 +--
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |  22 ++---
 .../main/scala/whisk/core/invoker/Invoker.scala    |  63 +++++-------
 .../scala/whisk/core/invoker/InvokerServer.scala   |   4 +-
 tests/src/common/StreamLogging.scala               |  35 +++++++
 tests/src/services/KafkaConnectorTests.scala       |  80 +++++++--------
 tests/src/system/basic/WskSequenceTests.scala      |  15 +--
 tests/src/whisk/common/ConfigTests.scala           |   7 +-
 tests/src/whisk/common/SchedulerTests.scala        |  10 +-
 tests/src/whisk/consul/ConsulClientTests.scala     |  22 ++---
 tests/src/whisk/consul/ConsulHealthTests.scala     |  13 ++-
 tests/src/whisk/core/WhiskConfigTests.scala        |   7 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  43 ++++-----
 .../core/cli/test/SequenceMigrationTests.scala     |  14 ++-
 .../core/container/test/ContainerPoolTests.scala   |  27 +++---
 .../core/controller/test/ActionsApiTests.scala     |  75 ++++++---------
 .../core/controller/test/AuthenticateTests.scala   |  36 ++-----
 .../controller/test/ControllerTestCommon.scala     |  32 +++---
 .../whisk/core/controller/test/MetaApiTests.scala  |  25 ++---
 .../core/controller/test/RateThrottleTests.scala   |   7 +-
 .../core/controller/test/SequenceApiTests.scala    | 103 ++++++++------------
 .../database/test/CouchDbRestClientTests.scala     |   4 +-
 .../database/test/ExtendedCouchDbRestClient.scala  |   5 +-
 .../MultipleReadersSingleWriterCacheTests.scala    |  11 +--
 .../whisk/core/database/test/ReplicatorTests.scala |  10 +-
 .../dispatcher/test/ActivationResponseTests.scala  |   6 +-
 .../core/dispatcher/test/DispatcherTests.scala     |  23 ++---
 .../whisk/core/dispatcher/test/TestConnector.scala |  10 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  10 +-
 tests/src/whisk/core/entity/test/ViewTests.scala   |  24 ++---
 80 files changed, 891 insertions(+), 960 deletions(-)

commit 66c20ea05c3e1b0f67e586500de9c87a49036011
Author: Perry <perry@us.ibm.com>
Date:   Fri Feb 10 11:00:03 2017 -0500

    Adjust failing case to be a warning

 .../src/main/scala/whisk/core/container/ContainerPool.scala      | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit 31f08b840927f184980a4f71080fa25468b4da40
Author: Perry <perry@us.ibm.com>
Date:   Thu Feb 9 17:20:02 2017 -0500

    Create internal runc flag based on static flag and dynamically checking runc is present and working

 .../scala/whisk/core/container/ContainerPool.scala | 22 ++++++++++++++++++++++
 .../scala/whisk/core/container/RuncUtils.scala     | 13 +++++++------
 .../main/scala/whisk/core/invoker/Invoker.scala    | 11 -----------
 3 files changed, 29 insertions(+), 17 deletions(-)

commit 05f6c9c2285d4f1528d864c11185c881fb3eda79
Author: Perry <perry@us.ibm.com>
Date:   Wed Feb 8 16:12:06 2017 -0500

    Add useRunc flag

 ansible/group_vars/all                                   | 1 +
 ansible/templates/whisk.properties.j2                    | 1 +
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 ++
 3 files changed, 4 insertions(+)

commit aa65b5558dec4a694546861f1dce3526457bfe38
Author: Roman Kharkovski <kharkovski@gmail.com>
Date:   Fri Feb 10 06:46:33 2017 -0800

    Minor corrections for spaces and new lines - just to get my feet wet and see how this works (#1839)

 docs/feeds.md | 30 +++++++++++++-----------------
 1 file changed, 13 insertions(+), 17 deletions(-)

commit bc596751fd4b36470210fbfbdca1c1086a6630ae
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Fri Feb 10 01:01:02 2017 +0100

    fix download. can't use apihost because not deployed yet.

 ansible/roles/cli/tasks/download_cli.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b7c19cd2ab76c52fb17440ecf0d60e9925df87a6
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 9 16:49:34 2017 +0100

    Harden replication test (#1834)

 .../whisk/core/database/CloudantRestClient.scala   |  3 ++-
 .../whisk/core/database/CouchDbRestClient.scala    | 25 +++++++++++-----------
 .../database/test/ExtendedCouchDbRestClient.scala  | 17 +++++++++++----
 .../whisk/core/database/test/ReplicatorTests.scala | 10 +++++++--
 4 files changed, 35 insertions(+), 20 deletions(-)

commit 6b210348de5226ca18894d854a52172a104abce5
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 9 10:01:20 2017 -0500

    Properly Handle Errors Received from Blocking Invocations (#1820)
    
    - Display proper error message during a blocking invocation when result flag is being used

 tests/dat/actions/applicationError3.js     |  3 +++
 tests/src/system/basic/WskBasicTests.scala | 11 +++++++++++
 tools/cli/go-whisk/whisk/client.go         | 11 ++++++-----
 3 files changed, 20 insertions(+), 5 deletions(-)

commit d7be6490ba75026211680bc3277b7e8dcf7ea58f
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 9 09:52:44 2017 -0500

    Include Parameters and Annotations when Copying an Action (#1662)
    
    - When copying an action ensure that parameters and annotations are also copied

 tests/src/common/WskTestHelpers.scala       |  4 ++
 tests/src/system/basic/WskActionTests.scala | 25 ++++++++++++
 tools/cli/go-whisk-cli/commands/action.go   | 63 +++++++++++++++--------------
 3 files changed, 61 insertions(+), 31 deletions(-)

commit 2d52ba03ca35684a5b7c58f27d68b45d17e2831b
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Wed Feb 8 14:02:34 2017 +0100

    download cli to ansible host after deployment.

 ansible/roles/cli/tasks/deploy.yml       |  2 ++
 ansible/roles/cli/tasks/download_cli.yml | 21 +++++++++++++++++++++
 2 files changed, 23 insertions(+)

commit 404c893bea8cdd6a5f6ebe69185ba16ad7b0e049
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Fri Feb 3 17:37:01 2017 +0100

    add support to log in to private registry for non-dockerhub images.

 ansible/roles/cli/tasks/deploy.yml        |  2 ++
 ansible/roles/controller/tasks/deploy.yml |  2 ++
 ansible/roles/invoker/tasks/deploy.yml    |  2 ++
 ansible/tasks/docker_login.yml            | 10 ++++++++++
 4 files changed, 16 insertions(+)

commit cf53ab184cbacbb7b3a0f82d8b768d2528e7d528
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Feb 3 22:45:38 2017 -0500

    Change webhook for Travis CI.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b1926cb01c8493ab9fbb4bc7015418421d100db
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Feb 8 20:36:45 2017 -0500

    Update new location for apigateway location on docker hub (#1816)

 ansible/roles/apigateway/tasks/deploy.yml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit f5e30be2fe18d9f69126448840f7ae13835bb9b9
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 8 19:45:45 2017 +0100

    Bumping actionContainer test timeouts to 60 seconds (#1827)

 tests/src/actionContainers/ActionContainer.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 03355096d6b89356b85521843c5e6323016a01b4
Author: Lionel Villard <villard@us.ibm.com>
Date:   Tue Feb 7 20:34:26 2017 -0500

    Fix broken link (#1821)

 docs/apigateway.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d47e39fb61f3e970f569a37a8713ad342ac38825
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Wed Feb 1 17:36:11 2017 +0100

    Add marker for /init to analyse performance and identify cold starts

 common/scala/src/main/scala/whisk/common/Logging.scala               | 3 +++
 .../invoker/src/main/scala/whisk/core/container/WhiskContainer.scala | 5 +++--
 2 files changed, 6 insertions(+), 2 deletions(-)

commit 7f998a948c3a0b4a3f62f09cb059e83290bc642c
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Jan 10 16:54:42 2017 +0100

    Create script to create backups of all databases
    
    Adding a script that creates one-off snapshots, continuous replications and has the ability to play back all snapshots of a database.
    
    - Includes tests
    - Includes documentation
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../whisk/core/database/test/ReplicatorTests.scala | 280 +++++++++++++++++++++
 tools/db/README.md                                 |  40 ++-
 tools/db/replicateDbs.py                           |  98 ++++++++
 tools/macos/README.md                              |   6 +-
 tools/travis/setup.sh                              |   1 +
 tools/ubuntu-setup/pip.sh                          |   1 +
 6 files changed, 414 insertions(+), 12 deletions(-)

commit 7aded2809ed38fd879df898c874553e34d396931
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jan 28 16:45:55 2017 -0500

    Tweak server configurations. Add comments.
    
    Add test for max URL path.
    Match nginx max url.

 ansible/roles/nginx/templates/nginx.conf.j2        |  2 +-
 .../controller/src/main/resources/application.conf | 35 ++++++++++++++++++++--
 core/invoker/src/main/resources/application.conf   |  7 -----
 .../whisk/core/cli/test/WskWebActionsTests.scala   | 30 +++++++++++++++----
 4 files changed, 58 insertions(+), 16 deletions(-)

commit b185c04a88c5b13255d0823e891452cd41fb4897
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Mon Feb 6 10:05:52 2017 +0100

    merge variable stack instead of replace

 ansible/ansible.cfg | 1 +
 1 file changed, 1 insertion(+)

commit 698b937e962d97f538b0775f22903ebe409dfa76
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Feb 3 22:40:41 2017 -0500

    Update Readme to point to new Slack (#1811)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ace5077581aa75ad349ef33a2acb9fc1730ccfc
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Thu Jan 26 16:48:07 2017 -0500

    Fix bugs related to zero components in sequence
    
    Switch exceptions to the appropriate type.
    Add test case for update of sequence with no components.

 .../src/main/scala/whisk/core/entity/Exec.scala    |  2 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  1 +
 .../main/scala/whisk/core/controller/Actions.scala |  8 ++++--
 .../core/controller/test/SequenceApiTests.scala    | 29 ++++++++++++++++++++++
 4 files changed, 37 insertions(+), 3 deletions(-)

commit 41a20fd67a6e9ba7ce814357b23e117539894d37
Author: Perry <perry@us.ibm.com>
Date:   Tue Jan 17 14:59:13 2017 -0500

    Run invoker as privileged container
    
    Add runc object for access to runc operations.  There is no port binding so it is coded as a singleton object.
    Call runc list on invoker startup to test privilege container access.
    Adjust runc path from self-built one to the version provided by docker.
    Fix mount points to include libapparmour; Conditionalize mount points.

 ansible/roles/invoker/tasks/deploy.yml             | 11 +++-
 .../scala/whisk/core/container/RuncUtils.scala     | 68 ++++++++++++++++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 12 ++++
 3 files changed, 90 insertions(+), 1 deletion(-)

commit 583edf9348d4b6503fe3a9a7c8943f6c600eb450
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Fri Feb 3 13:09:53 2017 -0500

    increase timeout value for entitlement tests (#1795)

 tests/src/whisk/core/controller/test/EntitlementProviderTests.scala | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 21acd3afb5afc42ad4ce123ae13fdf149d2d12db
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Fri Feb 3 10:13:39 2017 -0600

    Update CONTRIBUTING.md

 CONTRIBUTING.md | 1 +
 1 file changed, 1 insertion(+)

commit 91b7cb0ad8bfbd443512e94d539a0a6e5a415b0a
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Thu Feb 2 10:16:34 2017 -0500

    Use Result Parameter when Invoking Actions (#1788)

 tests/src/system/basic/WskBasicTests.scala |  3 +--
 tools/cli/go-whisk-cli/commands/action.go  | 12 +++++-------
 tools/cli/go-whisk/whisk/action.go         | 20 +++++++++++++-------
 3 files changed, 19 insertions(+), 16 deletions(-)

commit c073150e234006a0a45ced8b4b88eba88df59378
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Feb 2 15:47:52 2017 +0100

    Fix revision preserving behaviour of WhiskEntitys (#1792)
    
    Constructing new objects results in a loss of the DocumentRevision and thus breaks caching in the invoker.

 .../main/scala/whisk/core/entity/WhiskAction.scala |   6 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  31 +---
 .../scala/whisk/core/entity/WhiskPackage.scala     |   8 +-
 .../scala/whisk/core/entity/WhiskTrigger.scala     |   8 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   3 +
 .../whisk/core/entity/test/WhiskEntityTests.scala  | 162 +++++++++++++++++++++
 6 files changed, 175 insertions(+), 43 deletions(-)

commit a15a8433e91d2cffb036ffd97676870f25e6bc66
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 31 14:01:24 2017 -0500

    Limit entity names.

 .../scala/whisk/core/entity/ActivationId.scala     | 23 ++++++++-----------
 .../main/scala/whisk/core/entity/EntityPath.scala  |  4 +++-
 .../src/main/scala/whisk/http/ErrorResponse.scala  | 11 +++++++++
 .../scala/whisk/core/controller/Activations.scala  | 25 +++++++++------------
 .../controller/AuthorizedRouteDispatcher.scala     | 21 +++++++++++++----
 .../scala/whisk/core/controller/Entities.scala     | 14 +++++++++++-
 .../core/controller/test/ActionsApiTests.scala     | 26 ++++++++++++++++++++++
 .../core/controller/test/ActivationsApiTests.scala |  5 +++--
 tests/src/whisk/core/entity/test/SchemaTests.scala | 20 ++++++++++++-----
 9 files changed, 107 insertions(+), 42 deletions(-)

commit ba71b9d40aeea953520def817a8081a58a795d8d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Feb 1 18:09:03 2017 -0500

    Add entity limit test for meta route.

 .../scala/whisk/core/controller/Entities.scala     | 22 ++++++++-----
 .../main/scala/whisk/core/controller/Meta.scala    | 38 ++++++++++++++--------
 .../whisk/core/controller/test/MetaApiTests.scala  | 27 +++++++++++++++
 3 files changed, 65 insertions(+), 22 deletions(-)

commit 0a4ca55b29617ccf907f8b2db76db2fe97d47167
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jan 27 15:34:34 2017 -0500

    Limit response size.
    
    Move HTTP util to container package where it is actually used (it is no longer used elsewhere).
    Remove a lot of now dead code from HTTP util.
    Remove connection pool since there is at most one connection to a container at any given time.
    
    Changed container response from Option(int, array of bytes) to Either(container error, container result)
    with more useful typing.
    Detect larger than allowed response from container and truncate it properly and wrap with container error.
    Some logging tweaks.

 .../src/main/scala/whisk/common/HttpUtils.scala    | 174 ---------------------
 .../scala/whisk/core/entity/ActivationResult.scala | 140 ++++++++++-------
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   9 ++
 .../scala/whisk/core/container/AkkaHttpUtils.scala |   6 +-
 .../whisk/core/container/ContainerUtils.scala      |  21 ++-
 .../scala/whisk/core/container/HttpUtils.scala     | 134 ++++++++++++++++
 .../whisk/core/container/WhiskContainer.scala      |  46 +++---
 .../main/scala/whisk/core/container/package.scala  |  20 ++-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  21 +--
 tests/build.gradle                                 |   1 +
 tests/dat/actions/sizedResult.js                   |   6 +
 tests/src/actionContainers/ActionContainer.scala   |   4 +-
 .../container/test/ContainerConnectionTests.scala  | 135 ++++++++++++++++
 .../core/container/test/ContainerPoolTests.scala   |   1 -
 .../dispatcher/test/ActivationResponseTests.scala  | 133 +++++++++-------
 .../src/whisk/core/limits/ActionLimitsTests.scala  |  28 +++-
 16 files changed, 544 insertions(+), 335 deletions(-)

commit 32b8421e2e2a38157e0b303fb3385dd53024a898
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Feb 1 18:25:03 2017 -0500

    Remove unused classes.

 CREDITS.txt                                        | 52 +++++++++++-----------
 .../scala/src/main/scala/whisk/common/Crypt.scala  | 47 -------------------
 .../scala/src/main/scala/whisk/common/Curl.scala   | 33 --------------
 tests/src/whisk/common/CryptTests.scala            | 34 --------------
 4 files changed, 26 insertions(+), 140 deletions(-)

commit 09edf77b0d889eeb41dc2dc2e4e4561c03468658
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Feb 1 08:40:33 2017 -0500

    gitignore .zip files except for those explicitly whitelisted

 .gitignore | 5 +++++
 1 file changed, 5 insertions(+)

commit 97f85b5f1dca5aa88fb97237fa0e219a2305e803
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Jan 17 15:42:05 2017 -0500

    Fix misaligned CLI output
    Fixes #1646
    Add --full flag to display complete API details

 tests/src/common/Wsk.scala                         |   4 +-
 tests/src/whisk/core/cli/test/ApiGwTests.scala     |  36 +++++-
 tools/cli/go-whisk-cli/commands/api.go             | 136 ++++++++++++++++++---
 tools/cli/go-whisk-cli/commands/util.go            |  14 +++
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  28 +++++
 tools/cli/go-whisk/whisk/util.go                   |   2 +-
 6 files changed, 202 insertions(+), 18 deletions(-)

commit 7842e1d78a7c59cf57ffc20378817b0ab1d3d8db
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Feb 1 03:51:53 2017 -0500

    Do not Print Trigger After Update (#1787)
    
    - Just inform the user that a trigger has been updated instead of displaying the trigger in JSON format

 tools/cli/go-whisk-cli/commands/trigger.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit c971efa0d50604c1043c866d15673187050b3843
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Tue Jan 31 20:55:31 2017 -0600

    Create CREDITS.txt

 CREDITS.txt | 79 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 79 insertions(+)

commit 79bb998274b037f362b1d6fe5625006c2bdf38c2
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Jan 31 14:29:55 2017 -0500

    Bump sequence max length to 50 (#1776)

 ansible/group_vars/all | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 66279de5863f91c1b9033aed57d93cb9f56c9f8e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jan 26 23:20:12 2017 -0500

    Enhance web actions with formdata input and binary data output.
    
    Pass transaction id in case of errors.
    
    Add support for formdata.
    
    Allow binary content type: The http web action must respond with either a plain text body or a base64 encoded body.
    The header content-type must be set to interpret the reponse if base64 encoded body is given. (This applies to a JSON response as well.)
    Content-type must be one of known Spray types - no custom headers permitted.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |   3 +
 .../main/scala/whisk/core/controller/Meta.scala    | 102 +++++++++++++++----
 .../whisk/core/controller/test/MetaApiTests.scala  | 108 +++++++++++++++++----
 3 files changed, 174 insertions(+), 39 deletions(-)

commit a81de9af10fba35c55598a2d52b7feada2d13727
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jan 28 15:19:49 2017 -0500

    Validate entity size on activations.
    
    Make activation entity limit configuration from singleton matching other limits.
    Pass description for size violation.
    Update tests.

 .../whisk/core/entity/ActivationEntityLimit.scala  | 28 ++++++++++++
 .../main/scala/whisk/core/entity/LogLimit.scala    |  4 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala | 27 +++++++++---
 .../src/main/scala/whisk/http/ErrorResponse.scala  | 10 ++++-
 .../scala/whisk/core/controller/Entities.scala     | 51 ++++++++++++----------
 .../core/controller/test/ActionsApiTests.scala     | 46 ++++++++++++++-----
 .../core/controller/test/PackagesApiTests.scala    | 17 +++++---
 .../whisk/core/controller/test/RulesApiTests.scala | 17 +++++---
 .../core/controller/test/TriggersApiTests.scala    | 30 ++++++++++---
 9 files changed, 167 insertions(+), 63 deletions(-)

commit a5844569c61bb72323e19668249a6edb71e86970
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Jan 27 13:54:20 2017 -0500

    Clarify Node.js action sample
    
    Remove `version` attribute from package.json. OpenWhisk doesn't explicitly use it and it could be confused with the OW action version.
    Clarify that the name of the main file must either be "index.js" OR specified as the `main` property in package.json

 docs/actions.md | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 4db361d9554abdc97b08309431bb3f0acca999ef
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Wed Jan 25 14:02:06 2017 -0500

    Update trigger limits in documentation for Cloudant and Alarms

 docs/catalog.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bb87cd1573f74f4ecb04d10a0da22cf6d53a41ff
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jan 27 10:22:30 2017 -0500

    Fix namespace and action parsing to allow for space characters
    Include test case for API created with action name containing all support characters

 core/routemgmt/common/utils.js                 |  2 +-
 tests/src/whisk/core/cli/test/ApiGwTests.scala | 26 ++++++++++++++++++++++++++
 2 files changed, 27 insertions(+), 1 deletion(-)

commit 7e7c0759281025024d816023f19bbbe0913826e8
Author: Paul Castro <castrop@us.ibm.com>
Date:   Sat Jan 28 21:47:41 2017 -0500

    Fixes issue #1777, adds URL Encoding to the uripath for the Whisk object in the Swift 3 container (#1778)

 core/swift3Action/spm-build/Whisk.swift | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 6072ca27d8818533904032d7813661d511aef225
Author: Carlos Santana <csantana23@gmail.com>
Date:   Fri Jan 27 14:29:05 2017 -0500

    Add Slack integration for Apache OpenWhisk Slack (#1768)

 .travis.yml | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 09471ee5e36e9232cd4f27d3452dad54d65072bc
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jan 19 19:06:12 2017 -0500

    Allow unauthenticated invocation of actions.
    
    Allow result projection by property name.
    Fix view to lookup identity for namespace.
    Add headers to parameters passed to action.
    Pass request metadata to anonymous activations (previously was only for meta actions).
    Pass projection path to action.
    Support an extension following action name to specify content type for the response. Only supported values are accepted and others rejected with appropriate messages. Extension is requierd.
    Allow http response type which sets headers and code directly from the action.
    Provide default projection for supported media types.
    Catch timeout exception due to long activation and return proper code.
    Add test for web actions from CLI.

 .../main/scala/whisk/core/entity/EntityPath.scala  |   1 +
 .../main/scala/whisk/core/entity/Identity.scala    |  62 ++-
 .../main/scala/whisk/core/entity/Parameter.scala   |  39 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  10 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   9 +-
 .../main/scala/whisk/core/controller/Actions.scala |   3 +-
 .../main/scala/whisk/core/controller/Meta.scala    | 493 ++++++++++++++++-----
 .../scala/whisk/core/controller/RestAPIs.scala     |   2 +
 .../controller/actions/PostActionActivation.scala  |   3 +
 .../core/controller/actions/PrimitiveActions.scala |   1 -
 .../core/controller/actions/SequenceActions.scala  |   1 -
 tests/src/common/Wsk.scala                         |   2 +-
 tests/src/system/rest/RestUtil.scala               |   5 +-
 .../whisk/core/cli/test/WskWebActionsTests.scala   |  66 +++
 .../whisk/core/controller/test/MetaApiTests.scala  | 358 +++++++++++----
 tests/src/whisk/core/database/test/DbUtils.scala   |   2 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala |   4 +-
 17 files changed, 838 insertions(+), 223 deletions(-)

commit 8a74a5fb86659791c163e0440a2063fe4b6a1f10
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jan 20 08:15:29 2017 -0500

    Add subjects db to log capture after CI.

 ansible/logs.yml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 737577f38c4f13f6dfb25edbd2b4f4c082103ce7
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jan 19 11:31:17 2017 -0500

    Add namespace CRUD for wskadmin.
    
    Add tips for using wskadmin to docs.

 ansible/files/auth_index.json                  |   2 +-
 tests/src/whisk/core/admin/WskAdminTests.scala |  47 ++++--
 tools/admin/wskadmin                           | 189 +++++++++++++++++++------
 tools/vagrant/README.md                        |  15 +-
 4 files changed, 195 insertions(+), 58 deletions(-)

commit b13157db347f58654b2c94f8ba52c175d519e106
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jan 20 13:35:25 2017 -0500

    Allow for auth db view to be updated on change (relative to installed view).

 ansible/tasks/initdb.yml | 44 +++++++++++++++++++++++++++++++++++++-------
 1 file changed, 37 insertions(+), 7 deletions(-)

commit b5be59f2ecd56da7c9419b9cf461e6b2908a9150
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Jan 27 00:14:56 2017 +0100

    Bump akka and spray dependencies (#1763)

 common/scala/build.gradle | 22 +++++++++++-----------
 1 file changed, 11 insertions(+), 11 deletions(-)

commit fb65035a180c4846076c68a6a131cf81df17cc9b
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jan 26 17:37:50 2017 -0500

    Repackage routemgmt actions
    - As a .zip
    - Use common utilities module
    Refactor routemgmt actions
    - No longer store API configuration in a separate database
    - Use the API GW as the API configuration data store
    Small updates to automated tests
    
    Add test case to validate API GW filtering when >1 APIs exist
    Fix test that creates an API from swagger
    
    Swagger test fix for PG environments (namespace for CLI can vary)
    
    Consistent API GW tenant instance support across all actions
    - default to 'openwhisk'

 ansible/environments/distributed/group_vars/all    |   6 -
 ansible/environments/local/group_vars/all          |   6 -
 ansible/environments/mac/group_vars/all            |   6 -
 ansible/roles/routemgmt/files/gwapis_views.json    |  13 -
 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  47 +-
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    |   6 +-
 ansible/roles/routemgmt/tasks/db.yml               |  36 -
 ansible/roles/routemgmt/tasks/deploy.yml           |   6 +-
 ansible/templates/whisk.properties.j2              |   1 -
 core/routemgmt/activateApi.js                      | 390 -----------
 core/routemgmt/common/utils.js                     | 741 +++++++++++++++++++++
 core/routemgmt/createApi.js                        | 545 ---------------
 core/routemgmt/createApi/createApi.js              | 297 +++++++++
 core/routemgmt/createApi/package.json              |   3 +
 core/routemgmt/createRoute.js                      | 516 --------------
 core/routemgmt/deactivateApi.js                    | 273 --------
 core/routemgmt/deleteApi.js                        | 462 -------------
 core/routemgmt/deleteApi/deleteApi.js              | 168 +++++
 core/routemgmt/deleteApi/package.json              |   3 +
 core/routemgmt/getApi.js                           | 216 ------
 core/routemgmt/getApi/getApi.js                    | 134 ++++
 core/routemgmt/getApi/package.json                 |   3 +
 core/routemgmt/syncApi.js                          | 640 ------------------
 tests/dat/apigw/testswaggerdoc1                    |  12 +-
 tests/src/common/TestUtils.java                    |  13 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 174 +----
 tests/src/whisk/core/cli/test/ApiGwTests.scala     | 212 +++---
 tools/cli/go-whisk/whisk/api.go                    |   2 +-
 tools/cli/go-whisk/whisk/client.go                 |   4 +
 29 files changed, 1544 insertions(+), 3391 deletions(-)

commit d9e74c7b4c46c69377797b9a3186172e02a3a637
Author: rodric rabbah <rodric@gmail.com>
Date:   Wed Jan 25 15:59:57 2017 -0500

    Change log levels. Add comment clarifying collision. (#1761)

 .../MultipleReadersSingleWriterCache.scala         | 27 ++++++++++++++--------
 .../core/controller/actions/PrimitiveActions.scala |  4 ++--
 2 files changed, 20 insertions(+), 11 deletions(-)

commit 56d74c900d8694fd731b7778e000af5caca83935
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Dec 20 09:59:40 2016 +0100

    Bumping gradle to 3.3
    
    Remove deprecated use of leftshift operator

 gradle/docker.gradle                     |  40 ++++++++++++++++++-------------
 gradle/wrapper/gradle-wrapper.jar        | Bin 52818 -> 54208 bytes
 gradle/wrapper/gradle-wrapper.properties |   4 ++--
 gradlew                                  |  19 ++++++++-------
 tests/build.gradle                       |  12 ++++++----
 tools/cli/build.gradle                   |  28 ++++++++++++----------
 6 files changed, 59 insertions(+), 44 deletions(-)

commit c5da36f013d6ce798e5eaae51585ca47f0e22a44
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Jan 23 19:29:34 2017 -0500

    Allow delete/update of rule even if in active state.

 .../main/scala/whisk/core/controller/Rules.scala   | 74 ++++++++++------------
 tests/src/common/Wsk.scala                         |  5 +-
 tests/src/system/basic/WskBasicTests.scala         |  7 --
 .../whisk/core/controller/test/RulesApiTests.scala | 32 ++++++----
 4 files changed, 54 insertions(+), 64 deletions(-)

commit 53395f43b60c36f189db1c4368083acadeee4841
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Dec 8 15:54:43 2016 -0500

    Test CouchDB client with unicode docs.

 .../core/database/test/CouchDbRestClientTests.scala  | 20 +++++++++++++++++++-
 1 file changed, 19 insertions(+), 1 deletion(-)

commit e6ec42b63a327b3ca55b293e3aaf42a0eb8730db
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 24 21:11:37 2017 -0500

    Add locale although not strictly necessary for this container image.

 common/scala/Dockerfile | 5 +++++
 1 file changed, 5 insertions(+)

commit 4f2c1043abf754591ab3d7a35947b41ff2000d4c
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 24 22:21:47 2017 -0500

    Fix Python and Swift for unicode.
    
    Note: Skipping python and swift CLI tests - container test is still in place - while investigating Travis.

 core/actionProxy/actionproxy.py                    |  2 +-
 tests/dat/actions/unicode.py                       |  5 +++++
 tests/dat/actions/unicode.swift                    | 10 +++++++++
 .../PythonActionContainerTests.scala               | 24 ++++++++++++++++++++++
 tests/src/system/basic/WskUnicodeTests.scala       |  3 ++-
 5 files changed, 42 insertions(+), 2 deletions(-)

commit 77a2bcd9f12552bcb6d08e75754a21c16ff7b4ee
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 24 18:21:46 2017 -0500

    Fix for Java actions and UTF8.

 core/javaAction/Dockerfile                         |   5 ++
 .../src/main/java/openwhisk/java/action/Proxy.java |   5 +-
 tests/dat/actions/unicode.jar                      | Bin 0 -> 996 bytes
 tests/dat/actions/unicode/build.gradle             |  11 ++++
 .../dat/actions/unicode/src/main/java/Unicode.java |  28 ++++++++++
 .../JavaActionContainerTests.scala                 |  29 ++++++++++
 tests/src/system/basic/WskBasicNodeTests.scala     |  19 -------
 tests/src/system/basic/WskUnicodeTests.scala       |  60 +++++++++++++++++++++
 8 files changed, 136 insertions(+), 21 deletions(-)

commit 62aad24d4ddbf8f49e20a8d9e853cd8f278c62e3
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Dec 8 15:33:00 2016 -0500

    UTF-8 test for NodeJS containers.
    Re-enable UTF8 entity test (has been OK for a while).

 common/scala/Dockerfile                            |  2 +-
 tests/dat/actions/unicode.js                       |  5 +++++
 .../NodeJsActionContainerTests.scala               | 23 +++++++++++++++++++++-
 tests/src/system/basic/WskBasicNodeTests.scala     | 19 ++++++++++++++++++
 .../whisk/core/entity/test/DatastoreTests.scala    |  2 +-
 5 files changed, 48 insertions(+), 3 deletions(-)

commit b0e35e66b4f3c6e2914a9c30be2c3b356d7d107b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 24 15:09:29 2017 -0500

    Missing UTF8 encoding.
    
    This fixes communication between Invoker and the Action container so they are in UTF-8.

 common/scala/src/main/scala/whisk/common/HttpUtils.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 61a8ed27bd8660027a9b30601479fee5ddff1f48
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Jan 25 10:29:23 2017 -0600

    Update CONTRIBUTING.md

 CONTRIBUTING.md | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 57a392a92e7ab466b9756a647f0b83d96fd0f0ff
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Tue Jan 24 19:10:12 2017 -0500

    do not retrieve new git revisions by default for openwhisk-catalog (#1758)

 ansible/group_vars/all | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit eacb14beab91c4cc427c6abf09a90fd3e8130a7c
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 24 19:04:03 2017 -0500

    various minor updates for docs (#1759)
    
    Small doc fixes.

 docs/apigateway.md | 6 +++---
 docs/reference.md  | 4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 3258a1fe4735cc1ce4143201b57aa0063c40fd17
Author: whisk <whisk@averys-mbp.cambridge.ibm.com>
Date:   Thu Jan 12 15:03:41 2017 -0500

    Issue #1712 Dockerfile changed

 core/swift3Action/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 84ca69264b2eb6462a2331d1c7e32b4fc24e7649
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 24 05:46:58 2017 -0500

    Disable automatic timeouts for nodejs actions in proxy server. (#1745)

 core/nodejsActionBase/src/service.js               |  12 ++--
 tests/build.gradle                                 |   1 +
 tests/dat/actions/TimedOut.java                    |  23 +++++++
 tests/dat/actions/timedout.jar                     | Bin 0 -> 771 bytes
 tests/dat/actions/timedout.py                      |   3 +
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   7 +--
 .../whisk/core/limits/MaxActionDurationTests.scala |  69 +++++++++++++++++++++
 7 files changed, 106 insertions(+), 9 deletions(-)

commit 3b2f7bc6005d99b88bc24b88a149e97ce51f613b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jan 19 17:39:00 2017 -0500

    Allow blocking requests to specify a desired timeout.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  2 +
 .../src/main/resources/whiskswagger.json           |  7 +++
 .../main/scala/whisk/core/controller/Actions.scala | 21 +++++++--
 .../main/scala/whisk/core/controller/Meta.scala    |  2 +-
 .../controller/actions/PostActionActivation.scala  | 11 +++--
 .../core/loadBalancer/LoadBalancerService.scala    |  4 +-
 .../core/controller/test/ActionsApiTests.scala     | 53 +++++++++++++++++++---
 .../controller/test/ControllerTestCommon.scala     | 15 ++++--
 .../whisk/core/controller/test/MetaApiTests.scala  |  3 +-
 9 files changed, 97 insertions(+), 21 deletions(-)

commit 7af8c06a2dde263bd375307be4652a6ed35889b6
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 6 01:24:04 2016 -0500

    Remove throwable's message from HTTP response on 500 codes.

 .../core/database/ArtifactStoreExceptions.scala    |  2 ++
 .../whisk/core/database/CouchDbRestStore.scala     |  7 ++++---
 .../main/scala/whisk/core/entity/WhiskEntity.scala | 11 +++--------
 .../main/scala/whisk/core/controller/Actions.scala |  2 +-
 .../scala/whisk/core/controller/ApiUtils.scala     | 23 +++++++++++++++++-----
 .../controller/AuthorizedRouteDispatcher.scala     |  2 +-
 .../scala/whisk/core/controller/Entities.scala     |  2 +-
 .../scala/whisk/core/controller/Namespaces.scala   |  4 ++--
 .../scala/whisk/core/controller/Packages.scala     |  2 +-
 .../main/scala/whisk/core/controller/Rules.scala   |  4 ++--
 .../scala/whisk/core/controller/Triggers.scala     |  2 +-
 .../core/controller/test/ActivationsApiTests.scala |  7 ++-----
 12 files changed, 38 insertions(+), 30 deletions(-)

commit 822b0e2bf946a846b7340fcd2b71c544d2093a84
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jan 19 19:06:12 2017 -0500

    Fix embarassing bug that hides test failures.

 tests/src/common/WskTestHelpers.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit ad9b444268068a9d60fcaf109fd00ac8cee8dfc5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jan 14 23:53:11 2017 -0500

    Skip read from consul if host name is empty (not just null).

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 121d63149cc6d6f7c9cf4f85e5150cde537ab413
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Oct 7 10:33:38 2016 -0400

    Rewrite JsHelper and other minor fixes
    
    Makes field path extraction explicit.
    Deprecated JsHelpers trait to allow Catalog to transition.
    Reduce test verbosity.
    log activation ids when matching more (or less) than N ids.
    Fix bad log message where there are no creds.

 .../MultipleReadersSingleWriterCache.scala         |  2 +-
 .../src/main/scala/whisk/core/entity/DocInfo.scala |  8 ++++-
 .../src/main/scala/whisk/utils/JsHelpers.scala     | 41 ++++++++++++++++++++++
 .../main/scala/whisk/core/controller/Actions.scala |  4 +--
 .../scala/whisk/core/controller/Authenticate.scala |  2 +-
 tests/src/common/JsHelpers.scala                   | 22 +++++-------
 tests/src/common/WskTestHelpers.scala              |  2 +-
 tests/src/services/KafkaConnectorTests.scala       |  6 ++--
 tests/src/system/basic/CLIPythonTests.scala        |  2 --
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  4 +--
 tests/src/system/basic/WskBasicNodeTests.scala     | 12 +++----
 tests/src/system/basic/WskRuleTests.scala          |  2 --
 tests/src/system/basic/WskSequenceTests.scala      |  2 --
 .../core/cli/test/SequenceMigrationTests.scala     |  2 --
 .../core/cli/test/WskActionSequenceTests.scala     |  2 --
 .../core/container/test/ContainerPoolTests.scala   |  4 +--
 .../core/controller/test/ActionsApiTests.scala     |  3 ++
 .../core/controller/test/AuthenticateTests.scala   |  3 ++
 .../controller/test/ControllerTestCommon.scala     | 16 ++++-----
 tests/src/whisk/core/entity/test/SchemaTests.scala | 23 ++++++++++++
 20 files changed, 109 insertions(+), 53 deletions(-)

commit de9cc68db54499eee8dc802ecf34a67c2ce56f33
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Dec 11 15:52:48 2016 -0500

    Change entitlement check to return future.success only if authorized.

 .../main/scala/whisk/core/controller/Actions.scala |  19 ++--
 .../controller/AuthorizedRouteDispatcher.scala     |  14 +--
 .../scala/whisk/core/controller/Packages.scala     |  13 +--
 .../main/scala/whisk/core/controller/Rules.scala   |   5 +-
 .../whisk/core/entitlement/ActionCollection.scala  |   2 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  19 ++--
 .../controller/test/EntitlementProviderTests.scala | 110 ++++++++++-----------
 7 files changed, 90 insertions(+), 92 deletions(-)

commit bb40fcf8d4c84a8ba4692f41458e547fa0a478d5
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Nov 22 15:20:20 2016 -0500

    change constructor of CloudantRestClient to enforce https protocol

 .../src/main/scala/whisk/core/database/CloudantRestClient.scala      | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit ddee7fdcc820df9dd44e8708d26fe0e55b1f52b9
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Jan 5 16:35:12 2017 +0100

    Create keys the v2 way
    
    Adjust playbooks and wskadmin to create records according to the new schema
    
    Adjust AuthenticateTests to use the new authentication

 ansible/tasks/initdb.yml                           |  9 +++++--
 .../main/scala/whisk/core/entity/WhiskAuthV2.scala |  3 +++
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 14 +++++++++++
 .../core/controller/test/AuthenticateTests.scala   | 24 +++++++++----------
 .../core/controller/test/AuthenticateV2Tests.scala |  3 ---
 .../controller/test/ControllerTestCommon.scala     | 14 ++++++-----
 tools/admin/wskadmin                               | 28 ++++++++++++++++------
 7 files changed, 65 insertions(+), 30 deletions(-)

commit 0d12a4694f828369b83e709361aa5682e1175365
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Jan 5 16:35:12 2017 +0100

    Removing obsolete view, throwing out rotten test
    
    The "uuids" view is no longer in use hence all code providing "lookup by uuid" functionality is removed.
    
    ConformanceTests doesn't do anything meaningful by now.

 ansible/files/auth_index.json                      |   3 -
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  50 ---------
 .../core/controller/test/AuthenticateTests.scala   |   2 +-
 .../controller/test/ControllerTestCommon.scala     |   2 +-
 tests/src/whisk/core/database/test/DbUtils.scala   |   8 +-
 .../whisk/core/entity/test/ConformanceTests.scala  | 114 ---------------------
 .../whisk/core/entity/test/DatastoreTests.scala    |  10 --
 7 files changed, 6 insertions(+), 183 deletions(-)

commit 3bfa80dfea8cedc0ea8d115ad447b6441a9dbd7f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Jan 5 16:35:12 2017 +0100

    Provide system key per configuration
    
    The Controller used to take the key used to invoke MetaAPI actions from the database, creating a hidden dependency. The subject's name and key are now provided per configuration.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 ansible/group_vars/all                             |   2 +
 ansible/templates/whisk.properties.j2              |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   4 +
 .../src/main/scala/whisk/core/entity/AuthKey.scala |   2 +-
 .../main/scala/whisk/core/controller/Meta.scala    |  26 +-
 .../scala/whisk/core/controller/RestAPIs.scala     |   1 +
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 370 ++++++++++-----------
 .../whisk/core/controller/test/MetaApiTests.scala  |  30 +-
 8 files changed, 218 insertions(+), 218 deletions(-)

commit 189968b19df1eceb66823397ceb0db03bafdd791
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jan 16 11:04:22 2017 -0500

    Update Action Doc for Docker Actions
    
    - Remove chmod +x buildAndPush.sh as file permissions are now perserved from .tar files

 docs/actions.md | 3 ---
 1 file changed, 3 deletions(-)

commit 4a2b2455ddb144fd3ff921dd2d78146ccae7acf3
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Dec 14 16:00:50 2016 -0500

    Handle atypical DB failure object that resulted in the container being in a bad state

 core/routemgmt/activateApi.js          |  8 ++++----
 core/routemgmt/getApi.js               | 12 ++++++------
 tools/cli/go-whisk-cli/commands/api.go |  2 +-
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 4bb8b2c46088d22a72d9fed189d52932e34c0b40
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Jan 17 16:12:41 2017 -0500

    Fix typo Watson docs deprecated (#1726)

 docs/catalog.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 0138fd4c2f89f445ead17edadd8176340450dce3
Author: Paul Castro <pcastro@pauls-mbp.cambridge.ibm.com>
Date:   Thu Jan 12 15:07:02 2017 -0500

    Issue #1705, fix Whisk object in Swift 3 container

 core/swift3Action/spm-build/Whisk.swift            | 116 ++++++++++++++++++---
 .../src/system/basic/Swift3WhiskObjectTests.scala  |   4 +-
 2 files changed, 104 insertions(+), 16 deletions(-)

commit e64286ea8c95b39201d791c8eb3e06904221c82b
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Jan 4 11:02:03 2017 -0500

    Preserve File Permissions from Tar Files
    
    - Ensure that file permissions are kept when untarring Docker SDK

 tests/src/system/basic/WskSdkTests.scala | 3 +++
 tools/cli/go-whisk-cli/commands/util.go  | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 0eaee0463103e416d12ef07fbe736a9f344ea5e9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jan 10 13:29:49 2017 -0500

    Introduce experimental immutable parameters.
    
    - Uses final param annotation to exclude overriden params for meta actions.
    - Disallow package bindings.
    - Update annotations for meta action.
    - Add helpers to filter immutable parameters from action.

 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  22 +++--
 .../main/scala/whisk/core/entity/Parameter.scala   |  46 +++++-----
 .../main/scala/whisk/core/entity/WhiskAction.scala |  13 ++-
 .../scala/whisk/core/entity/WhiskPackage.scala     |   2 +-
 .../main/scala/whisk/core/controller/Meta.scala    | 101 ++++++++++++++++-----
 .../scala/whisk/core/controller/Packages.scala     |   4 +-
 .../scala/whisk/core/controller/Triggers.scala     |   4 +-
 .../core/controller/actions/SequenceActions.scala  |   2 +-
 .../whisk/core/controller/test/MetaApiTests.scala  |  74 +++++++++++----
 tests/src/whisk/core/entity/test/SchemaTests.scala |   5 +
 10 files changed, 195 insertions(+), 78 deletions(-)

commit 7159ef9bed6bc446c534251820be241c1256a27d
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Wed Dec 7 21:41:47 2016 -0500

    Remove pipecode and code from SequenceExec
    
    Add test that checks code is gone (empty) on action get for old style sequence.

 .../src/main/scala/whisk/core/entity/Exec.scala    |  48 +++++----
 .../main/scala/whisk/core/entity/Pipecode.scala    |  96 -----------------
 .../main/scala/whisk/core/entity/WhiskAction.scala |  61 ++++++-----
 .../main/scala/whisk/core/controller/Actions.scala |   6 +-
 .../controller/actions/PostActionActivation.scala  |   2 +-
 .../core/controller/actions/SequenceActions.scala  |   2 +-
 .../core/loadBalancer/LoadBalancerService.scala    |   7 +-
 .../scala/whisk/core/container/ContainerPool.scala |  10 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   7 +-
 .../core/cli/test/SequenceMigrationTests.scala     | 114 ++++++++++-----------
 10 files changed, 138 insertions(+), 215 deletions(-)

commit 44e0847155658c4232a4dc7edf116db473493ebf
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Jan 4 17:50:18 2017 -0500

    update apigateway docs

 docs/apigateway.md     | 54 ++++++++++++++++++++++++++++++++++++------
 docs/catalog.md        | 64 ++++++++++++++++++++++++--------------------------
 docs/mobile_sdk.md     |  4 ++--
 docs/reference.md      |  9 ++++++-
 docs/triggers_rules.md | 30 +++++++++++------------
 5 files changed, 103 insertions(+), 58 deletions(-)

commit 4f24aad8985c3f8370c4aa1ece8920c810500c1a
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Mon Dec 19 11:26:29 2016 -0500

    Print exception that may have occurred during test execution before deleting assets created during test.

 tests/src/common/WskTestHelpers.scala | 4 ++++
 1 file changed, 4 insertions(+)

commit 2fc75d2cae8bc12b14cd81bba5560798f789d1e5
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Dec 21 12:29:40 2016 -0500

    Use Default Namespace if the Property is Blank
    
    - Use _ as the namespace if the NAMESPACE property in .wskprops is set to blank

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala | 14 ++++++++++++++
 tools/cli/go-whisk-cli/commands/property.go            |  2 +-
 2 files changed, 15 insertions(+), 1 deletion(-)

commit 7758ffd0d50419c50282a8417f633837cb9b11be
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jan 4 11:21:27 2017 -0500

    Properly Format Strings Containing Precent Characters (#1683)
    
    - In numerous cases, strings that contain '%' characters are malformed

 tools/cli/go-whisk-cli/commands/action.go     |  94 ++++++++-------------
 tools/cli/go-whisk-cli/commands/activation.go |  27 +++---
 tools/cli/go-whisk-cli/commands/api.go        |  79 ++++++------------
 tools/cli/go-whisk-cli/commands/commands.go   |   6 +-
 tools/cli/go-whisk-cli/commands/namespace.go  |  10 +--
 tools/cli/go-whisk-cli/commands/package.go    | 103 +++++++++--------------
 tools/cli/go-whisk-cli/commands/property.go   |  22 ++---
 tools/cli/go-whisk-cli/commands/rule.go       |  86 ++++++++-----------
 tools/cli/go-whisk-cli/commands/sdk.go        |  68 ++++++---------
 tools/cli/go-whisk-cli/commands/trigger.go    | 114 ++++++++++----------------
 tools/cli/go-whisk-cli/commands/util.go       | 111 ++++++++++---------------
 tools/cli/go-whisk/whisk/wskerror.go          |   6 +-
 12 files changed, 272 insertions(+), 454 deletions(-)

commit 13e8b625b7269e23346fa1c022f7cc9ebc408326
Author: Kalonji Bankole <kkbankol@us.ibm.com>
Date:   Wed Nov 16 16:04:57 2016 -0800

    adding prereqs, setup playbook

 ansible/README_DISTRIBUTED.md | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 5c099beac651ef1657ce5bde984ab25db0e5ff0a
Author: rodric rabbah <rodric@gmail.com>
Date:   Tue Jan 3 15:21:51 2017 -0500

    Fix broken link. (#1668)

 ansible/README.md  | 2 ++
 tools/db/README.md | 3 +--
 2 files changed, 3 insertions(+), 2 deletions(-)

commit fd9ec6c0b5a58bb7124276c5c73838e36c559b9f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Dec 23 18:22:03 2016 -0500

    Fix logging.

 core/invoker/src/main/scala/whisk/core/container/WhiskContainer.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 917289c8ebdc6b79eba0eef130c90cba231d62e5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Dec 23 00:47:20 2016 -0500

    Fix parameter passing for node actions.
    Allow for main to be specified.

 core/actionProxy/invoke.py | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit ae8fdc19b7af3d3afbf938b71695243fe4b83799
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Dec 23 00:46:59 2016 -0500

    Remove remaining apply() to String.

 .../main/scala/whisk/common/TransactionId.scala    |  2 +-
 .../scala/whisk/core/entity/ActivationId.scala     |  2 +-
 .../src/main/scala/whisk/core/entity/AuthKey.scala |  4 ++--
 .../main/scala/whisk/core/entity/LogLimit.scala    |  2 +-
 .../main/scala/whisk/core/entity/MemoryLimit.scala |  1 -
 .../src/main/scala/whisk/core/entity/Secret.scala  |  2 +-
 .../main/scala/whisk/core/entity/TimeLimit.scala   |  1 -
 .../src/main/scala/whisk/core/entity/UUID.scala    |  2 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  2 +-
 .../main/scala/whisk/core/controller/Meta.scala    |  2 +-
 .../controller/actions/PostActionActivation.scala  |  2 +-
 .../core/controller/actions/SequenceActions.scala  |  2 +-
 .../whisk/core/container/ContainerUtils.scala      |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 core/nodejsActionBase/runner.js                    |  2 +-
 .../core/controller/test/ActivationsApiTests.scala | 12 ++++++------
 .../core/controller/test/AuthenticateTests.scala   | 22 +++++++++++-----------
 .../core/controller/test/AuthenticateV2Tests.scala |  2 +-
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/controller/test/PackagesApiTests.scala    |  2 +-
 .../whisk/core/controller/test/RulesApiTests.scala |  2 +-
 .../src/whisk/core/limits/ActionLimitsTests.scala  |  3 ---
 22 files changed, 35 insertions(+), 40 deletions(-)

commit 4a9fc926f91d483b7e6ad61e90b0e4f8eef03116
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Dec 20 14:19:18 2016 +0100

    Fix logging.
    
    - Fix logging of container ids.
    - Fix logging of invoker offsets.

 .../src/main/scala/whisk/core/loadBalancer/LoadBalancerService.scala    | 2 +-
 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit ecdd337d7c9cc30add5fc0c16877514c337c3dca
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Dec 22 10:17:44 2016 +0100

    Add a testLean task to exclude extranous tests.
    
    - Exclude swift from travis builds
    - Exclude python from travis builds
    - Disabling ThrottleTests for leanTest

 tests/build.gradle    | 8 +++++++-
 tools/travis/build.sh | 4 ++--
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 3f14be04835b7727355ec06e801b8e49ad54193f
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Dec 6 11:11:05 2016 -0500

    fix broken link in Mac instructions for "configure CLI"

 docs/README.md        | 2 +-
 tools/macos/README.md | 5 ++---
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 424fc75387763a4c5831e9764027fc2d172551ff
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Dec 8 23:11:20 2016 -0500

    More unit test for access and entitlement.
    
    - Change type of namespace in binding to EntityName since packages may not nest.
    - Entity[Name,Path] and Doc[Id,Rev]: Remove apply() as String conversion in favor of asString.
    - Subject: Remove apply() as String conversion in favor of asString.

 .../whisk/core/database/CouchDbRestStore.scala     |   2 +-
 .../scala/whisk/core/entitlement/Privilege.scala   |  10 +-
 .../src/main/scala/whisk/core/entity/DocInfo.scala |  12 +-
 .../main/scala/whisk/core/entity/EntityPath.scala  |   7 +-
 .../core/entity/FullyQualifiedEntityName.scala     |   4 +-
 .../src/main/scala/whisk/core/entity/Subject.scala |   2 +-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   4 +-
 .../main/scala/whisk/core/entity/WhiskAuthV2.scala |   2 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |  28 +-
 .../main/scala/whisk/core/controller/Actions.scala |   6 +-
 .../controller/AuthorizedRouteDispatcher.scala     |   2 +-
 .../scala/whisk/core/controller/Entities.scala     |   4 +-
 .../scala/whisk/core/controller/Packages.scala     |   4 +-
 .../scala/whisk/core/controller/Triggers.scala     |   6 +-
 .../whisk/core/entitlement/ActionCollection.scala  |   2 +-
 .../core/entitlement/ActivationThrottler.scala     |   2 +-
 .../scala/whisk/core/entitlement/Collection.scala  |   2 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  10 +-
 .../whisk/core/entitlement/PackageCollection.scala |   6 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala |   6 +-
 .../scala/whisk/core/iam/NamespaceProvider.scala   |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    |   4 +-
 tests/src/whisk/core/admin/WskAdminTests.scala     |   2 +-
 .../core/controller/test/ActionsApiTests.scala     |   4 +-
 .../core/controller/test/ActivationsApiTests.scala |  16 +-
 .../core/controller/test/AuthorizeTests.scala      | 183 ------
 .../controller/test/EntitlementProviderTests.scala | 621 +++++++++++++++++++++
 .../whisk/core/controller/test/MetaApiTests.scala  |   6 +-
 .../core/controller/test/NamespacesApiTests.scala  |  16 +-
 .../controller/test/PackageActionsApiTests.scala   |  63 ++-
 .../core/controller/test/PackagesApiTests.scala    |  26 +-
 .../whisk/core/controller/test/RulesApiTests.scala |   4 +-
 .../core/controller/test/SequenceApiTests.scala    |  12 +-
 .../core/controller/test/TriggersApiTests.scala    |   2 +-
 .../SequenceActionApiMigrationTests.scala          |   2 +-
 tests/src/whisk/core/database/test/DbUtils.scala   |   8 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   2 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala |  33 +-
 tests/src/whisk/core/entity/test/ViewTests.scala   |  20 +-
 39 files changed, 818 insertions(+), 331 deletions(-)

commit 43a8d2f904b02249f86cb79b77be490e2e1cea30
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 13 10:06:02 2016 -0500

    Replaced (namespace, entityname) with FullyQualifiedEntityName.
    
    - Change type of delete-confirm method to return unit since interface requires a failing future to abort.

 .../core/entity/FullyQualifiedEntityName.scala     |  1 +
 .../main/scala/whisk/core/controller/Actions.scala | 49 ++++++++++------------
 .../scala/whisk/core/controller/ApiUtils.scala     | 12 ++----
 .../scala/whisk/core/controller/Entities.scala     | 21 +++++-----
 .../scala/whisk/core/controller/Packages.scala     | 35 +++++++---------
 .../main/scala/whisk/core/controller/Rules.scala   | 38 ++++++++---------
 .../scala/whisk/core/controller/Triggers.scala     | 41 +++++++++---------
 7 files changed, 90 insertions(+), 107 deletions(-)

commit 4603b2ed78ce92444d56848dd666477e97789999
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Tue Dec 13 16:19:47 2016 -0500

    Unit tests for api gateway CLI

 tests/dat/apigw/testswaggerdoc1                |  83 ++++++++++++++++++
 tests/src/whisk/core/cli/test/ApiGwTests.scala | 113 +++++++++++++++++++++++--
 2 files changed, 190 insertions(+), 6 deletions(-)

commit 68fccef1d12b952ba492d435fbfe00138a4fdc78
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 6 21:46:14 2016 -0500

    Actions should receive API_HOST not EDGE_HOST.
    Rename cli.api.host to whisk.api.host (which must include protocol if defined).
    Add openwhisk to list of packages available to node actions.

 ansible/templates/whisk.properties.j2                             | 2 +-
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala          | 7 ++-----
 .../src/main/scala/whisk/core/container/ContainerPool.scala       | 4 ++--
 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala      | 3 +--
 core/nodejs6Action/Dockerfile                                     | 2 +-
 core/nodejsAction/Dockerfile                                      | 2 +-
 core/nodejsActionBase/app.js                                      | 2 +-
 core/nodejsActionBase/src/service.js                              | 2 +-
 core/nodejsActionBase/src/whisk.js                                | 8 --------
 docs/reference.md                                                 | 2 ++
 tests/src/common/WhiskProperties.java                             | 4 ++++
 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala            | 2 +-
 12 files changed, 17 insertions(+), 23 deletions(-)

commit efa40d59956896994c5a77d60596978244a83c81
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Dec 19 11:11:38 2016 -0500

    Add Tests for __OW_NAMESPACE Environment Variable
    
    - Ensure that __OW_NAMESPACE returns the subject's namespace when invoking an action not owned by the subject

 tests/src/system/basic/WskSequenceTests.scala      |  1 -
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 30 ++++++++++++++++++++--
 2 files changed, 28 insertions(+), 3 deletions(-)

commit 4e9d8d5741bbc0ec35688536df3b4461056119fe
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Dec 16 19:31:12 2016 -0500

    Fix namespace passed to action to be subject namespace not action namespace.

 .../src/main/scala/whisk/core/connector/Message.scala     |  8 +++-----
 .../src/main/scala/whisk/core/entitlement/Privilege.scala | 14 ++++++++++++++
 .../scala/src/main/scala/whisk/core/entity/Identity.scala |  3 ++-
 .../main/scala/whisk/core/controller/Authenticate.scala   |  3 +--
 .../whisk/core/controller/actions/PrimitiveActions.scala  |  3 +--
 .../whisk/core/loadBalancer/LoadBalancerService.scala     |  4 ++--
 .../main/scala/whisk/core/container/WhiskContainer.scala  |  7 +++----
 .../src/main/scala/whisk/core/invoker/Invoker.scala       |  8 ++++----
 .../src/whisk/core/dispatcher/test/DispatcherTests.scala  | 14 +++-----------
 tests/src/whisk/core/entity/test/SchemaTests.scala        | 15 ++++++++++++++-
 10 files changed, 47 insertions(+), 32 deletions(-)

commit 81d4ee74bd5f29f1bb326fb7ee33e2146d73b9f7
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Fri Dec 16 15:19:12 2016 -0500

    update watson npm package to fix watson identify

 core/nodejs6Action/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de2a829f5ec12e31f4663e957b7491c0fcac06f7
Author: ddragosd <ddragosd@gmail.com>
Date:   Thu Dec 8 13:55:21 2016 -0800

    Delete createImmortalDBs.sh.

 tools/db/createImmortalDBs.sh | 107 ------------------------------------------
 1 file changed, 107 deletions(-)

commit cd8f6ac79fae2d3b72503757bca4c9be547d3dd8
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Dec 14 21:06:45 2016 -0500

    update docs to point to openwhisk.org.

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4c561b1c522a6ef3ac843a17bc99d8f008b8c83
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Dec 14 17:04:46 2016 -0500

    Add retry/delay to API GW end-to-end test.
    
    - Should avoid API GW 404 errors until API GW performance tweaks are complete

 .../src/apigw/healthtests/ApiGwEndToEndTests.scala | 34 ++++++++++++----------
 1 file changed, 19 insertions(+), 15 deletions(-)

commit 64531db21363a709f73f97b8bbd6a0f9e55425f0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Nov 23 10:53:00 2016 -0500

    Tighten container reclamation.
    
    If the result of running an action in the container is not successful, delete the container. Makes this is true for both failed init and run.
    
    Test for container reclamation on action error.
    
    Move error messages to canonical Messages object.

 .../scala/whisk/core/entity/ActivationResult.scala | 30 ++---------
 .../src/main/scala/whisk/http/ErrorResponse.scala  | 23 +++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 20 +++++---
 tests/dat/actions/helloDeadline.js                 |  8 ++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 60 ++++++++++++++++------
 .../dispatcher/test/ActivationResponseTests.scala  | 25 ++++-----
 .../src/whisk/core/limits/ActionLimitsTests.scala  | 13 ++---
 7 files changed, 108 insertions(+), 71 deletions(-)

commit dbde67d19fe0146799956321225df5de2cacfa11
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Dec 14 17:02:51 2016 -0600

    Update CONTRIBUTING.md
    Delete CLA-INDIVIDUAL.md

 CLA-INDIVIDUAL.md | 43 ---------------------------------------
 CONTRIBUTING.md   | 61 ++++++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 42 insertions(+), 62 deletions(-)

commit bfccce254d074203a13bc47b47cc8b656bd6e5a1
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Dec 14 17:05:03 2016 -0600

    Delete CLA-CORPORATE.md

 CLA-CORPORATE.md | 55 -------------------------------------------------------
 1 file changed, 55 deletions(-)

commit 2416a3bcb486e08a8df42816f8f28f6d9f3b6f4c
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Dec 13 22:17:14 2016 -0500

    fix python.h missing for vagrant/ubuntu

 tools/ubuntu-setup/README.md  | 4 ++--
 tools/ubuntu-setup/ansible.sh | 2 ++
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 327b29acf4d0b6d95265bd13686e1184f939d5ee
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Dec 7 17:04:14 2016 +0100

    Adding Exit-Logging to all API calls
    
    This adds the ability to analyze HTTP response codes and response times by the already known marker system.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 .../src/main/scala/whisk/common/Logging.scala      |  2 +-
 .../main/scala/whisk/http/BasicHttpService.scala   | 22 +++++++++++++++++++++-
 2 files changed, 22 insertions(+), 2 deletions(-)

commit 3921fde9b488e5272fb319c1334d78114a5b6859
Author: Perry <perry@us.ibm.com>
Date:   Thu Nov 10 11:20:25 2016 -0500

    Separate invokers into those that only run blackbox containers and those that run managed ones.
    The sets may overlap as there is a non-empty requirement.
    Simplify invoker selection which also takes a step towards dynamic choice.
    Add parameter to control fraction of invokers dedicated to blackbox containers.
    
    Separate invokers into those that only run blackbox containers and those that run managed ones.

 ansible/group_vars/all                             |   1 +
 .../scala/src/main/scala/whisk/common/Config.scala |  10 +++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   6 +-
 .../core/controller/actions/PrimitiveActions.scala |   2 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   6 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 100 +++++++++++----------
 .../controller/test/ControllerTestCommon.scala     |   3 +-
 7 files changed, 74 insertions(+), 54 deletions(-)

commit a7d9bc1bbd3f9b3ae8cb1ead1c6d18feb228cd26
Author: Perry <perry@us.ibm.com>
Date:   Fri Nov 11 15:26:55 2016 -0500

    Without changing semantics, fix race condition where repeated query to invokerHealth can operate on an inconsistent set of invokers.

 .../whisk/core/loadBalancer/InvokerHealth.scala    | 27 +++++++++++-----------
 .../core/loadBalancer/LoadBalancerService.scala    | 26 ++++++++++-----------
 2 files changed, 26 insertions(+), 27 deletions(-)

commit 25372d0b740994cc8e2a8e0d3c9e72a14f4b67fa
Author: Perry <perry@us.ibm.com>
Date:   Thu Nov 10 17:28:57 2016 -0500

    Remove redundant consul reporting and other extraneous things.
    Move load-balancing code out of InvokerHealth to where it belongs.  Add comments about params.

 .../whisk/core/loadBalancer/InvokerHealth.scala    | 103 +++------------------
 .../core/loadBalancer/LoadBalancerService.scala    | 101 ++++++++++++++++----
 2 files changed, 94 insertions(+), 110 deletions(-)

commit d191985b67130f58766131c9fa56d05237f83fbf
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Dec 7 14:04:10 2016 -0500

    Measure bytesize of strings as if encoded in UTF-8.
    
    Previous implementation took the conservative estimate that every char is two bytes. While this may fit the JVM model, it violates user expectations that, for instance, base64-encoded binary files take 1 byte per character.
    
    Adapted tests to new way of measuring String sizes.

 common/scala/src/main/scala/whisk/core/entity/Size.scala       | 10 ++++++++--
 .../src/main/scala/whisk/core/controller/Entities.scala        |  8 ++++++--
 tests/src/whisk/core/controller/test/ActionsApiTests.scala     |  8 ++++----
 tests/src/whisk/core/controller/test/PackagesApiTests.scala    |  6 +++---
 tests/src/whisk/core/controller/test/RulesApiTests.scala       |  4 ++--
 tests/src/whisk/core/controller/test/TriggersApiTests.scala    |  6 +++---
 tests/src/whisk/core/limits/ActionLimitsTests.scala            |  2 +-
 7 files changed, 27 insertions(+), 17 deletions(-)

commit c92bdbdd97aaeb80274f9d8a15fe6fa5478d951a
Author: Andreas Martens <amartens@uk.ibm.com>
Date:   Wed Dec 14 13:00:32 2016 +0000

    Fix docs.
    
    - wsk rules don't need explicitly enabling any more so update docs
    
    - the package --shared flag needs an argument, added the correct argument

 docs/packages.md | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit c4064ae0e93dd156682c36632924ae63cf719410
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Nov 4 14:04:46 2016 -0400

    Omit Exec Code if Empty
    
    - Do not send or display the exec.code if it is empty

 tests/src/system/basic/WskBasicTests.scala | 11 +++++++++++
 tools/cli/go-whisk-cli/commands/action.go  | 20 +++++++++++---------
 tools/cli/go-whisk/whisk/action.go         |  2 +-
 3 files changed, 23 insertions(+), 10 deletions(-)

commit a1a40d18ff4f82faa60f11903d398555ac4befe9
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Dec 13 08:37:56 2016 -0500

    Fix swagger config file support
    
    Improved API GW CLI error reporting
    - Include API GW error message in CLI error instead of jsut the HTTP status code
    
    Include API creation via swagger in the API GW end-to-end health check

 core/routemgmt/activateApi.js                      |  6 ++++-
 core/routemgmt/createApi.js                        |  6 ++---
 .../src/apigw/healthtests/ApiGwEndToEndTests.scala | 26 +++++++++++++++++++---
 tests/src/common/Wsk.scala                         | 14 +++++++-----
 tests/src/whisk/core/cli/test/ApiGwTests.scala     |  4 ++--
 tools/cli/go-whisk-cli/commands/api.go             | 11 +++++++--
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  8 +++++--
 7 files changed, 57 insertions(+), 18 deletions(-)

commit 11d2cd56645747c5fc75b0e23f4e85688d0033df
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Dec 12 16:18:47 2016 -0500

    Fix CLI issues
    - Handle scenarios when base path ends in `/`
    - Fix CLI tests cases so that the test APIs are entirely deleted

 tests/src/apigw/healthtests/ApiGwEndToEndTests.scala |  2 +-
 tests/src/whisk/core/cli/test/ApiGwTests.scala       |  2 +-
 tools/cli/go-whisk-cli/commands/api.go               | 17 ++++++++---------
 3 files changed, 10 insertions(+), 11 deletions(-)

commit 7fcce72c0c5f92d68b7dc3450ec4274b810fe1a9
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Dec 12 11:03:37 2016 -0500

    Fix Package Delete
    
    - Ensure that package delete does not throw an invalid memory address or nil pointer deference error

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala | 6 ++++++
 tools/cli/go-whisk/whisk/client.go                     | 1 +
 2 files changed, 7 insertions(+)

commit 898d4cdc1e5dd5ab6da891c2ad6c9bceafa71607
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Dec 12 00:19:05 2016 -0500

    intial set of docs for apigateway

 docs/apigateway.md | 112 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 112 insertions(+)

commit c9a21e7cabf6bb57f7f86b4977419da77ec70969
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Dec 10 11:23:46 2016 -0500

    Add test for rate throttle.

 .../whisk/core/entitlement/RateThrottler.scala     | 85 +++++++++++-----------
 .../core/controller/test/RateThrottleTests.scala   | 53 ++++++++++++++
 2 files changed, 97 insertions(+), 41 deletions(-)

commit a38f8c2b34206979a15c116f8ebcfbf907b3c07a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Oct 27 10:51:00 2016 -0400

    Wait for commit failure before posting new message in test.

 tests/src/services/KafkaConnectorTests.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 15a336e3a4343a8a37bbdba8f6c092617ea6d0d1
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Fri Dec 9 23:29:37 2016 -0500

    add docs for message hub

 docs/catalog.md | 114 +++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 113 insertions(+), 1 deletion(-)

commit 7577a17c4a9036cf630e87ad04a7668a6725e86b
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Dec 12 09:34:30 2016 +0100

    Remove duplicate test case
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 tests/src/whisk/core/controller/test/MetaApiTests.scala | 12 ------------
 1 file changed, 12 deletions(-)

commit be3c6cdbfbb6b50c0eb089534c28387a52b165bb
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Dec 9 14:23:50 2016 -0500

    API GW end-to-end health test
    
    - create action
    - create API with for that action
    - invoke API
    - validate results
    - Add test for unsupported method.
    - Fix hardcoded CLI namespace as `guest`; use wskadmin to obtain namespace
    - Add debug line to dump cli user id and namespace

 .../src/apigw/healthtests/ApiGwEndToEndTests.scala | 96 ++++++++++++++++++++++
 tests/src/system/rest/RestUtil.scala               |  2 +-
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  2 +-
 tests/src/whisk/core/cli/test/ApiGwTests.scala     |  2 +
 .../whisk/core/controller/test/MetaApiTests.scala  | 12 +++
 5 files changed, 112 insertions(+), 2 deletions(-)

commit 9c1b11dacbc2c7f95434e0f1aae4fbde29a36ec5
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Dec 6 11:19:49 2016 -0500

    Enable API GW routemgmt action tests

 ansible/roles/routemgmt/files/installRouteMgmt.sh  |   4 +
 core/routemgmt/activateApi.js                      |   5 +-
 core/routemgmt/createApi.js                        |   2 +-
 core/routemgmt/createRoute.js                      |  52 ++++++++--
 core/routemgmt/deactivateApi.js                    |   5 +-
 core/routemgmt/deleteApi.js                        |  23 +++--
 core/routemgmt/getApi.js                           |  13 ++-
 core/routemgmt/syncApi.js                          |   6 +-
 tests/build.gradle                                 |   1 -
 tests/src/common/Wsk.scala                         |  86 ++++++++++++++++
 .../actions/test/ApiGwRoutemgmtActionTests.scala   |  62 ++++++------
 tests/src/whisk/core/cli/test/ApiGwTests.scala     |  80 +++++++++++++++
 tools/cli/go-whisk-cli/commands/api.go             | 108 +++++++--------------
 tools/cli/go-whisk/whisk/action.go                 |  10 +-
 tools/cli/go-whisk/whisk/activation.go             |   8 +-
 tools/cli/go-whisk/whisk/api.go                    |  44 +++------
 tools/cli/go-whisk/whisk/client.go                 |  38 +++++---
 tools/cli/go-whisk/whisk/namespace.go              |   4 +-
 tools/cli/go-whisk/whisk/package.go                |  10 +-
 tools/cli/go-whisk/whisk/rule.go                   |  10 +-
 tools/cli/go-whisk/whisk/trigger.go                |  10 +-
 21 files changed, 380 insertions(+), 201 deletions(-)

commit 548dadd878eaaf71155664a1434883db2e72a923
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Nov 30 19:05:54 2016 -0500

    Add example to illustrate how to use a sequence to fetch a cloudant doc when receiving a changes trigger.

 docs/catalog.md | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit 9d47b68f6bd66d015ba18d1b6c23ced41c9bb2c4
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Dec 7 15:11:44 2016 -0500

    Display Proper Message for Update Command Usage
    
    - Inform users that an entity will be created if it does not exist when an update command is executed

 tools/cli/go-whisk-cli/commands/action.go               |  2 +-
 tools/cli/go-whisk-cli/commands/package.go              |  2 +-
 tools/cli/go-whisk-cli/commands/rule.go                 |  2 +-
 tools/cli/go-whisk-cli/commands/trigger.go              |  2 +-
 tools/cli/go-whisk-cli/wski18n/resources/en_US.all.json | 16 ++++++++--------
 5 files changed, 12 insertions(+), 12 deletions(-)

commit 12aa54025f67b9683abd102ec3e55faf6b3d03be
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Tue Dec 6 11:24:37 2016 -0500

    API Gateway router as an instance of generic meta API router.
    
     - Controller routes for API Gateway and Unit Tests for the routes
     - Generalized API gateway router to a "meta api" route handler.
    
    The API gateway experiment and controller changes is an example of a more general pattern where we use whisk actions to extend the controller for experimental API changes without necessarily changing the controller. This commit generalizes the API gateway route handler so that system packages are self-encoding as "meta" api handlers (via an annotation on the package and an explicit mapping from http verbs to action names to invoke in response) the subject making the activation request is subject to entitlemnt checks for activations (this is tantamount to limiting API requests from a single user) invoking actions directly rather than posting to the controller REST interface checking that meta packages exist and performing cursory sanity checks tests.
    
      - Meta router is accessible through /experimental.
      - Add entitlement check before invoking meta api handler.
      - Warn if meta api handler is public.
      - Post meta action activation directly to load balancer, bypassing REST API.
      - Pass API context information to meta actions.
      - Pass request body to meta action as well. Must be application/json type.
      - Pass remaining path URI to meta action.
      - Add verb to __ow_ context submitted to action.
      - Additional tests for name/namespaces.

 .../main/scala/whisk/common/TransactionId.scala    |   3 +-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   5 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   3 +
 .../main/scala/whisk/core/controller/Backend.scala |   5 +-
 .../main/scala/whisk/core/controller/Meta.scala    | 203 +++++++++++
 .../scala/whisk/core/controller/RestAPIs.scala     |  25 +-
 .../main/scala/whisk/core/controller/Rules.scala   |   6 +-
 .../scala/whisk/core/controller/Triggers.scala     |   6 +-
 .../core/controller/test/ActionsApiTests.scala     |  43 +--
 .../core/controller/test/AuthenticateTests.scala   |   8 +-
 .../whisk/core/controller/test/MetaApiTests.scala  | 403 +++++++++++++++++++++
 .../core/controller/test/TriggersApiTests.scala    |   4 +-
 12 files changed, 658 insertions(+), 56 deletions(-)

commit 5c78ef7ffab1a59733b435bd66defd0bacd469f9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Dec 8 09:24:32 2016 -0500

    Add activation id to correlate tid from trigger to actions.

 core/controller/src/main/scala/whisk/core/controller/Triggers.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 50e7fd4f74422850c1f2f1ae36269d502f3d65e5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 6 09:31:34 2016 -0500

    Refactor posting action activations to provide a single entry for activation primitive or sequence action.

 .../main/scala/whisk/core/controller/Actions.scala | 167 +----------------
 .../controller/actions/PostActionActivation.scala  |  55 ++++++
 .../core/controller/actions/PrimitiveActions.scala | 201 +++++++++++++++++++++
 .../controller/{ => actions}/SequenceActions.scala |  29 ++-
 4 files changed, 283 insertions(+), 169 deletions(-)

commit 4ad9afa40325962baaa83ff0f8cf9714fa1df6ae
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 6 10:17:44 2016 -0500

    Refactor throttle checking methods.
    Add missing def return types.

 .../scala/whisk/core/entitlement/Entitlement.scala | 69 ++++++++++++++++++----
 1 file changed, 56 insertions(+), 13 deletions(-)

commit 1db4413d59f1a4e74035bb5c369499d6d8196536
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Dec 7 11:31:13 2016 -0500

    Helpers for fully qualified names.
    Camel-case some methods, add javadoc, and remove some redundant methods.
    Add more tests for entitypath.

 .../main/scala/whisk/core/entity/EntityPath.scala  | 41 +++++++++++---
 .../core/entity/FullyQualifiedEntityName.scala     | 17 +++++-
 .../main/scala/whisk/core/entity/WhiskAction.scala | 21 +++----
 .../scala/whisk/core/entity/WhiskPackage.scala     | 11 ++--
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  4 +-
 .../main/scala/whisk/core/controller/Actions.scala |  8 +--
 .../scala/whisk/core/controller/Packages.scala     |  6 +-
 .../scala/whisk/core/controller/Triggers.scala     |  2 +-
 .../controller/test/PackageActionsApiTests.scala   | 64 +++++++++++-----------
 .../core/controller/test/PackagesApiTests.scala    | 14 ++---
 .../whisk/core/controller/test/RulesApiTests.scala |  6 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 33 ++++++++++-
 tests/src/whisk/core/entity/test/ViewTests.scala   | 12 ++--
 13 files changed, 155 insertions(+), 84 deletions(-)

commit c2aa0bc2a823faa91c92998ce1558d32eafd276b
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Thu Dec 8 16:10:31 2016 -0500

    Bug fix: resolve action before entitlement service in activate path. This is a special case for sequences that may contain _ as default namespace in their components. Add test with sequence components that contain _ as default namespace.

 .../main/scala/whisk/core/entity/WhiskAction.scala | 17 ++++++-
 .../main/scala/whisk/core/controller/Actions.scala |  6 ++-
 tests/dat/actions/seq_type_2.json                  | 33 ++++++++++++++
 .../core/cli/test/SequenceMigrationTests.scala     | 52 +++++++++++++++++++++-
 4 files changed, 103 insertions(+), 5 deletions(-)

commit 0e99db90eabb9eb894c079e59d6ca9e567b7ca49
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Dec 7 16:50:42 2016 -0500

    Ensure that Promises rejected with no message result in failed activations.
    
    Fixes #1562.

 core/nodejsActionBase/runner.js                         |  8 +++++++-
 tests/dat/actions/issue-1562.js                         |  6 ++++++
 .../actionContainers/NodeJsActionContainerTests.scala   | 15 +++++++++++++++
 tests/src/system/basic/WskBasicNodeTests.scala          | 17 +++++++++++++++++
 4 files changed, 45 insertions(+), 1 deletion(-)

commit ce821692fdac06643d0ad6f3d1614b2faa743485
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Dec 8 12:53:20 2016 -0500

    Do not run API GW db.yml in YS0, YS1 and YP environments

 ansible/environments/distributed/group_vars/all | 1 +
 ansible/environments/local/group_vars/all       | 1 +
 ansible/environments/mac/group_vars/all         | 1 +
 ansible/roles/routemgmt/tasks/deploy.yml        | 2 +-
 ansible/routemgmt.yml                           | 2 --
 5 files changed, 4 insertions(+), 3 deletions(-)

commit d1b7ce7fb683bae1a97477ae74939aec3e1e042d
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Dec 8 12:53:20 2016 -0500

    Do not run API GW db.yml in YS0, YS1 and YP environments

 ansible/roles/routemgmt/tasks/deploy.yml | 1 +
 ansible/routemgmt.yml                    | 2 ++
 2 files changed, 3 insertions(+)

commit 5e6b7e5ce62b8d27fa5c9fb1d2a6087c1cdde825
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Wed Dec 7 11:40:19 2016 -0500

    Add test with sequence in a rule.

 tests/src/system/basic/WskRuleTests.scala     |  2 -
 tests/src/system/basic/WskSequenceTests.scala | 60 +++++++++++++++++++++++++++
 2 files changed, 60 insertions(+), 2 deletions(-)

commit c95d7541f60d88716ef9dd2d5d975ac6df279110
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Dec 1 15:52:32 2016 -0500

    Add test for rule from trigger/action with and without `_` as namespace.
    
    This disallows creating rule from trigger and action without having to fully qualify the entity names in the API request.
    
    - some refactoring to make better use of ScalaTest matchers.

 .../main/scala/whisk/core/entity/EntityPath.scala  |   8 +-
 .../whisk/core/controller/test/RulesApiTests.scala |  46 +++++++-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 125 ++++++++-------------
 3 files changed, 94 insertions(+), 85 deletions(-)

commit 2fbb159a3292dcced5aa0e2b31dedd4035eacd30
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Dec 1 22:29:47 2016 -0500

    Fix missing binding resolution for actions referenced by rules.

 .../main/scala/whisk/core/controller/Rules.scala   |  4 +-
 tests/src/system/basic/WskRuleTests.scala          | 71 +++++++++++++++++-----
 .../whisk/core/controller/test/RulesApiTests.scala | 28 +++++++++
 3 files changed, 87 insertions(+), 16 deletions(-)

commit 624e1dcf1330d61d33f25810ea181f87f4c024af
Author: Carlos Santana <csantana23@gmail.com>
Date:   Wed Dec 7 19:24:12 2016 -0500

    allow apigw db credentials be different from main (#1612)

 ansible/environments/distributed/group_vars/all   | 5 +++++
 ansible/environments/local/group_vars/all         | 5 +++++
 ansible/environments/mac/group_vars/all           | 5 +++++
 ansible/group_vars/all                            | 1 -
 ansible/roles/routemgmt/files/installRouteMgmt.sh | 4 ++--
 ansible/roles/routemgmt/tasks/deploy.yml          | 2 +-
 6 files changed, 18 insertions(+), 4 deletions(-)

commit d98188d7eb741bb7487a61ba2da8e03ea96ae14a
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Nov 28 15:16:17 2016 -0500

    CLI & entity/invoker support for --main for NodeJS/Python/Swift.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 73 +++++++++++++++-------
 .../main/scala/whisk/core/entity/WhiskAction.scala | 16 ++---
 .../scala/whisk/core/container/ContainerPool.scala |  2 +-
 tests/dat/actions/niam.js                          |  3 +
 tests/dat/actions/niam.py                          |  2 +
 tests/dat/actions/niam.swift                       |  4 ++
 .../NodeJs6ActionContainerTests.scala              |  2 +-
 .../NodeJsActionContainerTests.scala               |  2 +-
 tests/src/system/basic/CLIPythonTests.scala        | 12 ++++
 tests/src/system/basic/WskBasicNodeTests.scala     | 19 ++++++
 tests/src/system/basic/WskBasicSwiftTests.scala    | 19 ++++++
 tools/cli/go-whisk-cli/commands/action.go          | 24 ++++---
 12 files changed, 135 insertions(+), 43 deletions(-)

commit 7a0eed4abb3a8f2775bce59f86223660e97ae255
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Nov 21 18:23:41 2016 -0500

    Swift container support for alternative entry points.
    
    Adapted both Swift and Swift 3 runtimes.

 core/actionProxy/actionproxy.py                          |  6 ++++--
 core/swift3Action/epilogue.swift                         |  6 ++----
 core/swift3Action/swift3runner.py                        |  9 ++++++++-
 core/swiftAction/epilogue.swift                          |  5 ++---
 core/swiftAction/swiftrunner.py                          |  9 ++++++++-
 .../src/actionContainers/SwiftActionContainerTests.scala | 16 ++++++++++++++++
 6 files changed, 40 insertions(+), 11 deletions(-)

commit ae1c706b650489398e0046d31742bddba443c7d7
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Nov 21 18:00:06 2016 -0500

    Python container support for alternative entry points.

 core/pythonAction/pythonrunner.py                         |  6 +++++-
 .../src/actionContainers/PythonActionContainerTests.scala | 15 +++++++++++++++
 2 files changed, 20 insertions(+), 1 deletion(-)

commit 10d3f16184fc96e4ab29d70ee87c6464a86edc9e
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Nov 21 17:49:44 2016 -0500

    NodeJS container support for alternative entry points.
    
    The container itself was already supporting it. This commit adds tests.

 tests/src/actionContainers/ActionContainer.scala   |  2 +-
 .../JavaActionContainerTests.scala                 |  3 +-
 .../NodeJsActionContainerTests.scala               | 59 +++++++++++++++++-----
 3 files changed, 50 insertions(+), 14 deletions(-)

commit 25a229cf276e120ad47a8ff0cd61dae52e01207b
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Nov 21 14:14:38 2016 -0500

    Introduce --main flag for Java actions
    
    Also added test from docs, which uses default (Java) package.

 docs/actions.md                                    |  72 +++++++++----------
 tests/dat/actions/helloJavaDefaultPackage.jar      | Bin 0 -> 1288 bytes
 tests/src/common/Wsk.scala                         |   2 +
 tests/src/system/basic/CLIJavaTests.scala          |  39 ++++++++++-
 tools/cli/go-whisk-cli/commands/action.go          |  76 ++++-----------------
 tools/cli/go-whisk-cli/commands/flags.go           |   2 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   8 +++
 7 files changed, 99 insertions(+), 100 deletions(-)

commit da7ac1328e92365d9850e0ec6d5d612b561eb628
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Tue Dec 6 13:46:48 2016 +0100

    add interval of 1 second before closing connection.

 ansible/roles/redis/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd6da42192e792c8b983ebf37287041ce6809e77
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Dec 6 13:27:48 2016 -0500

    allow a 202 response when creating an immortal database

 ansible/tasks/initdb.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit df169ef95629e073e1714b34d3770f1868085b03
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Dec 6 23:47:59 2016 -0500

    Remove --shared on wsk action cmds.

 ansible/roles/routemgmt/files/installRouteMgmt.sh | 14 +++++++-------
 catalog/deprecate.sh                              |  2 +-
 2 files changed, 8 insertions(+), 8 deletions(-)

commit 7124cd690aea95b44f1ef082d147f2d516b06be3
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Dec 2 14:41:46 2016 +0100

    Reflecting new authentication behaviour in whois: returns namespace
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 tests/src/common/Wsk.scala                                 | 6 ++++--
 tests/src/whisk/core/admin/WskAdminTests.scala             | 2 +-
 tests/src/whisk/core/cli/test/SequenceMigrationTests.scala | 9 ++++-----
 tests/src/whisk/core/cli/test/WskActionSequenceTests.scala | 4 ++--
 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala     | 6 +++---
 tools/admin/wskadmin                                       | 3 ++-
 6 files changed, 16 insertions(+), 14 deletions(-)

commit ce8fdc5f2d8b26a102f248d1ff737b414d7be5c3
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Dec 2 12:47:36 2016 +0100

    Adjusting wskadmin to use the new view to obtain a subject
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 tools/admin/wskadmin | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 48191242ba28b770acc8d7f9d6ca7cdbbb08e4df
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Dec 6 10:32:59 2016 -0500

    Overwrite wsk config file to prevent polution from .wskprops.
    Remove default namespace from names in sequence test to test implicit default package.

 tests/src/common/Wsk.scala                    | 2 +-
 tests/src/system/basic/WskSequenceTests.scala | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit cdeb8ff1e058b4d5abd0f6fc2fc401beb305fc48
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Nov 11 15:37:59 2016 -0500

    Update Shared Processing
    
    - Error when an invalid argument is passed to shared flag
    - Refactor shared handling for actions, packages, triggers, and rules
    - Fix update commands to set shared for triggers, and rules
    - Remove Publish Functionality From Command that Don't Support it

 tests/src/system/basic/WskActionTests.scala        |  2 +-
 tests/src/system/basic/WskBasicTests.scala         | 18 +++---
 .../core/cli/test/WskActionSequenceTests.scala     |  4 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  3 +
 tools/cli/go-whisk-cli/commands/action.go          | 48 +++++---------
 tools/cli/go-whisk-cli/commands/package.go         | 70 +++++++-------------
 tools/cli/go-whisk-cli/commands/rule.go            | 20 ------
 tools/cli/go-whisk-cli/commands/trigger.go         | 45 +------------
 tools/cli/go-whisk-cli/commands/util.go            | 44 +++++++++----
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 10 ++-
 tools/cli/go-whisk/whisk/action.go                 | 75 +++++-----------------
 tools/cli/go-whisk/whisk/activation.go             | 25 ++++----
 tools/cli/go-whisk/whisk/namespace.go              |  8 +--
 tools/cli/go-whisk/whisk/package.go                | 52 ++++-----------
 tools/cli/go-whisk/whisk/rule.go                   |  9 +--
 tools/cli/go-whisk/whisk/trigger.go                | 52 ++++++---------
 16 files changed, 166 insertions(+), 319 deletions(-)

commit b8d0c9068b27f08cbbb480ed1c06d531d228e44f
Author: Vincent Hou <shou@us.ibm.com>
Date:   Mon Dec 5 14:43:58 2016 -0500

    Add the method to get the credentials as a json object
    
    Since we are going to add the credentials for message hub in the
    vcap file, we expect the property "kafka_brokers_sasl" as a list.
    That is the reason why we need to get the credentials as a json
    object instead of a hashmap.

 tests/src/common/TestUtils.java | 16 +++++++++++++---
 1 file changed, 13 insertions(+), 3 deletions(-)

commit d7361800a200d4cec213c7d4b50ab43d8d5ad37b
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Dec 5 21:32:09 2016 -0500

    multiple deprecate notices
    update watson
    update nodejs

 docs/catalog.md   | 43 ++++++++++++++++++++++++++++++-------------
 docs/reference.md | 10 +++-------
 2 files changed, 33 insertions(+), 20 deletions(-)

commit 5cd745b5bed6dd324a6772521b7cffe3ba842239
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Dec 5 14:45:34 2016 +0100

    pass unique trigger name in test

 tests/dat/actions/triggerCallback.js           |  2 +-
 tests/dat/actions/triggerPromise.js            |  4 ++--
 tests/src/system/basic/WskBasicNodeTests.scala | 14 ++++++--------
 3 files changed, 9 insertions(+), 11 deletions(-)

commit 74deffd4fc372d6f43a3652747b2885a225e2eac
Author: Dominik Fröhlich <djall@de.ibm.com>
Date:   Mon Dec 5 16:26:27 2016 +0100

    issue #1590 disable swapping for user containers.

 core/invoker/src/main/scala/whisk/core/container/ContainerUtils.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 06e8a075ca216fe37e21b3b33c50f7271e550455
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Nov 14 15:39:50 2016 -0500

    API GW database creation and wipe
    API GW backend route management action and package creation
    backend route management action negative parameter tests
    tests temporarily disabled until after merge so PG scripts can be updated
    squashing all review-time commits

 ansible/environments/distributed/group_vars/all    |   5 +
 ansible/environments/local/group_vars/all          |   6 +
 ansible/environments/mac/group_vars/all            |   5 +
 ansible/group_vars/all                             |   2 +
 ansible/openwhisk.yml                              |   1 +
 ansible/roles/routemgmt/files/gwapis_views.json    |  13 +
 ansible/roles/routemgmt/files/installRouteMgmt.sh  |  78 +++
 .../roles/routemgmt/files/uninstallRouteMgmt.sh    |  71 +++
 ansible/roles/routemgmt/tasks/clean.yml            |   7 +
 ansible/roles/routemgmt/tasks/db.yml               |  36 ++
 ansible/roles/routemgmt/tasks/deploy.yml           |   9 +
 ansible/roles/routemgmt/tasks/main.yml             |  10 +
 ansible/routemgmt.yml                              |   8 +
 ansible/templates/whisk.properties.j2              |   5 +
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   4 +-
 core/routemgmt/activateApi.js                      | 387 +++++++++++++
 core/routemgmt/createApi.js                        | 545 ++++++++++++++++++
 core/routemgmt/createRoute.js                      | 476 +++++++++++++++
 core/routemgmt/deactivateApi.js                    | 274 +++++++++
 core/routemgmt/deleteApi.js                        | 459 +++++++++++++++
 core/routemgmt/getApi.js                           | 211 +++++++
 core/routemgmt/syncApi.js                          | 640 +++++++++++++++++++++
 tests/build.gradle                                 |   1 +
 .../actions/test/ApiGwRoutemgmtActionTests.scala   | 470 +++++++++++++++
 tools/db/wipeTransientDBs.sh                       |  14 +
 tools/travis/build.sh                              |   2 +-
 tools/vagrant/Vagrantfile                          |   2 +-
 27 files changed, 3737 insertions(+), 4 deletions(-)

commit 6b0d6b4ad28eabc8ea04654448044fddb8c1fb8f
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Thu Dec 1 22:49:20 2016 -0500

    seq test with bindings and parameters

 tests/src/system/basic/WskSequenceTests.scala | 48 +++++++++++++++++++++++----
 1 file changed, 41 insertions(+), 7 deletions(-)

commit f65b275264887b783c5fd3239e67617904e36d25
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Sat Dec 3 20:19:40 2016 +0100

    start consul as server to fix restartability

 ansible/roles/consul/tasks/deploy.yml         | 1 +
 ansible/roles/consul/templates/config.json.j2 | 1 +
 2 files changed, 2 insertions(+)

commit 123bfac08584ea1f35d08d69b3a99c1d309f6f7a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Nov 17 15:15:52 2016 -0500

    API GW CLI support

 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  92 +++
 tools/cli/go-whisk-cli/commands/api.go             | 733 +++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/commands.go        |   1 +
 tools/cli/go-whisk-cli/commands/flags.go           |  11 +
 tools/cli/go-whisk-cli/commands/util.go            |  16 +
 tools/cli/go-whisk-cli/commands/wsk.go             |   1 +
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 160 +++++
 tools/cli/go-whisk/whisk/api.go                    | 272 ++++++++
 tools/cli/go-whisk/whisk/client.go                 |  48 +-
 9 files changed, 1328 insertions(+), 6 deletions(-)

commit 43839d3fddc9c23faa213131566cf912fad7774f
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Dec 1 23:44:02 2016 -0500

    update watson docs

 docs/catalog.md | 232 +++++++++++++++++++++++++++++++++++++++++++-------------
 1 file changed, 181 insertions(+), 51 deletions(-)

commit 0b5b3687b25f02a3853683514add7f571d1edf47
Author: cbickel <github@cbickel.de>
Date:   Fri Dec 2 17:10:49 2016 +0100

    Pin image versions and move them to ansible config (#1574)
    
    * Pin version of nginx container to 1.11.x
    * Pin version couchdb container to version 1.6.x
    * Pin image of redis to version 3.2.x
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 ansible/group_vars/all                 | 11 +++++++++--
 ansible/roles/consul/tasks/deploy.yml  |  6 +++---
 ansible/roles/couchdb/tasks/deploy.yml |  6 +++---
 ansible/roles/kafka/tasks/deploy.yml   | 12 ++++++------
 ansible/roles/nginx/tasks/deploy.yml   |  6 +++---
 ansible/roles/redis/tasks/deploy.yml   |  6 +++---
 6 files changed, 27 insertions(+), 20 deletions(-)

commit 00a6b82a62746463bbf18eae001b80bd5953559c
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Nov 15 11:51:12 2016 +0100

    replace nproc limit with pids-limit to limit number of forks to 64

 core/invoker/src/main/scala/whisk/core/container/ContainerUtils.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aaa20ea674193c74b69a18a799a2927b440170d8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Dec 1 11:17:42 2016 +0100

    Fix SchedulerTests: Wait for the actor to be terminated

 tests/src/whisk/common/SchedulerTests.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit a48202f07b5940387ab64abee4f442679f79f862
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Nov 29 16:42:00 2016 -0500

    bump up CouchDB queue size to 16K

 .../scala/src/main/scala/whisk/core/database/CouchDbRestClient.scala   | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 85070a20f560e77ea064ebfc57f2c1eb4608f420
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Nov 19 14:07:17 2016 -0500

    Unify action container environments
    
    Add npm openwhisk package to NodeJS images, and deprecation warning for uses of the 'whisk' context object.
    
    Make OpenWhisk related environment variables available in all container runtimes.

 core/actionProxy/actionproxy.py                    |  7 +-
 .../scala/whisk/core/container/ContainerPool.scala |  2 +-
 .../whisk/core/container/WhiskContainer.scala      | 53 +++++++++-----
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 .../main/java/openwhisk/java/action/JarLoader.java | 21 +++++-
 .../src/main/java/openwhisk/java/action/Proxy.java | 11 ++-
 core/nodejs6Action/Dockerfile                      |  1 +
 core/nodejsAction/Dockerfile                       |  1 +
 core/nodejsActionBase/app.js                       |  3 +-
 core/nodejsActionBase/runner.js                    |  6 +-
 core/nodejsActionBase/src/service.js               | 23 +++----
 core/nodejsActionBase/src/whisk.js                 | 26 ++++++-
 core/swift3Action/spm-build/Whisk.swift            | 10 +--
 docs/actions.md                                    | 16 ++++-
 docs/reference.md                                  | 53 +-------------
 tests/dat/actions/asyncError.js                    | 12 +---
 tests/dat/actions/countdown.js                     | 12 ++--
 tests/dat/actions/helloContext.js                  | 10 +++
 tests/dat/actions/helloDeadline.js                 | 20 ++++++
 tests/dat/actions/helloOpenwhiskPackage.js         | 26 +++++++
 tests/dat/actions/helloPromise.js                  |  9 +++
 tests/dat/actions/stdenv.py                        |  2 +-
 tests/dat/actions/wcbin.js                         | 15 ++--
 .../ActionProxyContainerTests.scala                | 58 ++++++++++------
 .../JavaActionContainerTests.scala                 | 50 +++++++++++++-
 .../NodeJsActionContainerTests.scala               | 80 ++++++++++++++++++++--
 .../PythonActionContainerTests.scala               |  9 ++-
 .../Swift3ActionContainerTests.scala               | 16 +----
 .../SwiftActionContainerTests.scala                | 37 +++++++---
 tests/src/system/basic/CLIPythonTests.scala        |  2 +-
 tests/src/system/basic/WskActionTests.scala        | 18 ++++-
 tests/src/system/basic/WskBasicNodeTests.scala     |  4 ++
 tests/src/system/basic/WskBasicTests.scala         | 16 ++---
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 59 ++++++++++++++++
 34 files changed, 497 insertions(+), 193 deletions(-)

commit ce6fd3b547256923132b268bc6f88bd4d701dc1c
Author: Carlos Santana <csantana23@gmail.com>
Date:   Thu Dec 1 14:14:55 2016 -0500

    update docs for nodejs (#1576)

 docs/reference.md | 90 ++++++++++++++++++++++++++++++-------------------------
 1 file changed, 49 insertions(+), 41 deletions(-)

commit af922cacf1f0dc1af8dd0df123234e6441c4cd3c
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Nov 30 23:12:18 2016 -0500

    always docker pull first in ansible and pinned requests 2.10.0
    
    remove requests

 ansible/roles/apigateway/tasks/deploy.yml | 3 +++
 ansible/roles/consul/tasks/deploy.yml     | 3 +++
 ansible/roles/couchdb/tasks/deploy.yml    | 3 +++
 ansible/roles/kafka/tasks/deploy.yml      | 6 ++++++
 ansible/roles/nginx/tasks/deploy.yml      | 3 +++
 ansible/roles/prereq/tasks/clean.yml      | 6 ++++++
 ansible/roles/prereq/tasks/deploy.yml     | 6 ++++++
 ansible/roles/redis/tasks/deploy.yml      | 3 +++
 8 files changed, 33 insertions(+)

commit 36f272862cc07e6cb57ec7e028fbf2b4dd069350
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Nov 23 14:05:24 2016 -0500

    Update NodeJS runtimes and packages to latest

 core/nodejs6Action/Dockerfile      | 74 +++++++++++++++++++++-----------------
 core/nodejsAction/Dockerfile       | 10 +++---
 core/nodejsActionBase/package.json | 10 +++---
 3 files changed, 51 insertions(+), 43 deletions(-)

commit 7ad45904baa5581a48b0b75a53ba27bdce9d9657
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 18 12:40:01 2016 -0500

    System tests for seq with package visibility changes.

 .../whisk/core/cli/test/WskEntitlementTests.scala  | 78 ++++++++++++++++++++--
 1 file changed, 71 insertions(+), 7 deletions(-)

commit cb584ee3316d0321a7b7a80522e439becc9022b7
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Nov 24 14:07:31 2016 +0100

    use -i option instead of -q. works everywhere.

 ansible/roles/kafka/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 770a8a9f266e1c0acae3a361880891da32c74ee6
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Nov 23 17:27:00 2016 +0100

    Add fqdn to activation-records of sequences
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .../src/main/scala/whisk/core/controller/SequenceActions.scala          | 1 +
 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala            | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit c906bd9c8f83055ce9a5b1f6eee6f411ed161460
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Nov 19 10:46:16 2016 -0500

    Allow PUT request for package to have optional binding specified as empty JSON object {}.

 .../scala/whisk/core/entity/WhiskPackage.scala     | 48 ++++++++++++++--------
 tests/src/whisk/core/entity/test/SchemaTests.scala | 31 ++++++++------
 2 files changed, 50 insertions(+), 29 deletions(-)

commit 422186b3fdd4ffb27c6e10c03755558bcf392d92
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Nov 7 10:56:10 2016 -0500

    Omit Result from Activation if Empty
    
    - Do not display the result field from an activation record if it emptyt p

 tests/dat/actions/emptyJSONResult.js       |  2 ++
 tests/src/system/basic/WskBasicTests.scala | 45 ++++++++++++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/action.go  |  4 ++-
 tools/cli/go-whisk/whisk/activation.go     |  8 +++---
 4 files changed, 54 insertions(+), 5 deletions(-)

commit 85152116c24ca261c15c74bc52f9f56f771229e0
Author: Vincent Hou <shou@us.ibm.com>
Date:   Wed Nov 16 10:44:19 2016 -0500

    Upgrade the npm package of watson-developer-cloud into 2.9.0
    
    In order to use the new translator service in watson cloud, we need to
    change the version of the npm package in the dockerfile.

 core/nodejs6Action/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dbbdc3b818a6df3d09a5944c5049ee4f6c8659a1
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Nov 22 16:11:57 2016 -0500

    update docs to reflect alarm cron 5 fields by default

 docs/catalog.md | 19 ++++++++++++-------
 1 file changed, 12 insertions(+), 7 deletions(-)

commit 8efa1f96876af05f25f7e7ea2a5dace5bcac3054
Author: Paul d'Hubert <paul@tymate.com>
Date:   Wed Nov 23 18:04:18 2016 +0100

    Warn user when consul configuration fails.
    
    It may happen that we cannot read configuration from consul, in such
    cases (server is down / unreachable / etc.) log a warning to inform the
    user of the issue.
    
    This happened to me on my first deployment, and I was startled at why
    the controller was unable to pull its configuration from consul.

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 ++
 1 file changed, 2 insertions(+)

commit 7a283a0a71f20e9658d06b14d13d06add99360ea
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Nov 24 10:32:46 2016 +0100

    make netcat wait for response from zookeeper before closing connection

 ansible/roles/kafka/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb61c4fa55d915d8eec32173ac60a09d85fd4ee9
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Nov 23 11:14:46 2016 -0500

    remove includedocs from package binding docs

 docs/catalog.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aeacbb886222cac927f5f1d6d27d924d93a77cfc
Author: Paul Castro <castrop@us.ibm.com>
Date:   Wed Nov 23 10:11:10 2016 -0500

    Issue #1552, update catalog.md to remove includeDoc reference

 docs/catalog.md | 21 ++++-----------------
 1 file changed, 4 insertions(+), 17 deletions(-)

commit 29ffdccb441838a834e3dfe3411e2ae0b7d9c279
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Nov 22 14:50:22 2016 -0500

    Update rules documentation; can refer to actions in packages.

 docs/triggers_rules.md | 14 ++++++++++++--
 1 file changed, 12 insertions(+), 2 deletions(-)

commit 2c7174eb063a436d7f8447911cf3b547c2819f29
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Nov 13 12:24:31 2016 -0500

    Introduce ReferencedEntities trait to compute referenced entities for a PUT request.
    
    Refactor packages API handler to use new trait and simplify create/update logic.
    
    Mixin ReferencedEntities trait with Rules and Actions API handler.

 .../main/scala/whisk/core/entity/WhiskAction.scala | 14 ++++
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  2 +-
 .../main/scala/whisk/core/controller/Actions.scala | 62 ++++++-----------
 .../controller/AuthorizedRouteDispatcher.scala     |  4 +-
 .../scala/whisk/core/controller/Packages.scala     | 80 ++++++++++++----------
 .../main/scala/whisk/core/controller/Rules.scala   | 12 +---
 .../scala/whisk/core/entitlement/Entitlement.scala | 60 ++++++++++++----
 .../core/controller/test/PackagesApiTests.scala    |  4 +-
 8 files changed, 129 insertions(+), 109 deletions(-)

commit 0296e9bc267156d744bfcf12a535ed8c1ea3904e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 11 00:19:30 2016 -0500

    Add package use tests when referencing a non-package or non-existant one for a binding.

 .../scala/whisk/core/entity/WhiskPackage.scala     |  12 ++-
 .../scala/whisk/core/controller/Packages.scala     |  82 ++++++-----------
 .../whisk/core/entitlement/PackageCollection.scala |   2 +-
 tests/src/common/Wsk.scala                         |  17 ++--
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  39 ++++----
 .../core/controller/test/PackagesApiTests.scala    |   8 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 102 +++++++++++++++++----
 7 files changed, 159 insertions(+), 103 deletions(-)

commit 12ae1dbaf9bb4626086dfd4b2476de01b70fdf47
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Nov 10 00:43:38 2016 -0500

    Rules with actions in packages.
    Update rules tests for new schema.
    Use explicit selector on version in fully qualified name of entity.
    Refactor entitlement check.
    Rename EntitlementService to EntitlementProvider.

 .../main/scala/whisk/core/connector/Message.scala  |   1 +
 .../main/scala/whisk/core/entity/EntityPath.scala  |   9 +-
 .../core/entity/FullyQualifiedEntityName.scala     |  26 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  31 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |   5 +-
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  58 +++-
 .../main/scala/whisk/core/entity/WhiskStore.scala  |   6 -
 .../scala/whisk/core/entity/WhiskTrigger.scala     |  14 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  11 +-
 .../main/scala/whisk/core/controller/Actions.scala | 254 +++++++-------
 .../controller/AuthorizedRouteDispatcher.scala     |  55 +--
 .../main/scala/whisk/core/controller/Backend.scala |  10 +-
 .../scala/whisk/core/controller/Controller.scala   |   6 +-
 .../scala/whisk/core/controller/Packages.scala     |  53 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  23 +-
 .../main/scala/whisk/core/controller/Rules.scala   | 163 +++++----
 .../scala/whisk/core/controller/Triggers.scala     |  27 +-
 .../whisk/core/entitlement/ActionCollection.scala  |   6 +-
 .../scala/whisk/core/entitlement/Collection.scala  |   2 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |   2 +-
 .../whisk/core/entitlement/LocalEntitlement.scala  |   8 +-
 .../whisk/core/entitlement/PackageCollection.scala |   7 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala |   2 +-
 .../scala/whisk/core/container/ContainerPool.scala |   6 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   8 +-
 tests/src/common/Wsk.scala                         |  23 +-
 tests/src/system/basic/WskBasicTests.scala         |  65 ++--
 tests/src/system/basic/WskRuleTests.scala          |  34 +-
 .../core/controller/test/ActionsApiTests.scala     |   1 +
 .../core/controller/test/AuthorizeTests.scala      | 102 +++---
 .../controller/test/ControllerTestCommon.scala     |   7 +-
 .../controller/test/PackageActionsApiTests.scala   |  26 +-
 .../whisk/core/controller/test/RulesApiTests.scala | 381 ++++++++++++---------
 .../core/controller/test/TriggersApiTests.scala    |   2 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  18 +-
 .../whisk/core/entity/test/MigrationEntities.scala |  11 +-
 tests/src/whisk/core/entity/test/ViewTests.scala   |  22 +-
 tools/cli/go-whisk-cli/commands/rule.go            |   8 +-
 tools/cli/go-whisk/whisk/rule.go                   |   4 +-
 39 files changed, 774 insertions(+), 723 deletions(-)

commit b36e785e408cfcbddfa6b0e670d8b04a49be9c65
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Sun Nov 20 20:58:48 2016 -0500

    Keep `unzip` quiet to avoid buffering issues.

 core/nodejsActionBase/runner.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 71c49675f27a8a16f0a93e57949bf212b84a2fad
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Nov 14 18:00:08 2016 -0500

    update docs with example for limits.
    update ansible readme with info about limits.

 ansible/README.md | 20 ++++++++++++++++++++
 docs/reference.md | 10 +++++++---
 2 files changed, 27 insertions(+), 3 deletions(-)

commit 97dd2426de40b8d44456232edb6c398ccfe546ef
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Fri Nov 18 16:08:19 2016 -0500

    update apigateway ansible deploy
    - scope it for now to apigateway host
    - created redis role and add check

 ansible/apigateway.yml                    |  7 +++++--
 ansible/roles/apigateway/tasks/clean.yml  | 13 +------------
 ansible/roles/apigateway/tasks/deploy.yml | 14 ++------------
 ansible/roles/apigateway/tasks/main.yml   |  6 +++---
 ansible/roles/redis/tasks/clean.yml       |  8 ++++++++
 ansible/roles/redis/tasks/deploy.yml      | 19 +++++++++++++++++++
 ansible/roles/redis/tasks/main.yml        | 11 +++++++++++
 7 files changed, 49 insertions(+), 29 deletions(-)

commit 05471793f6c7115b992d2e5008838e6092c4bec3
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Nov 16 21:59:10 2016 -0500

    apigateway ansible integration

 ansible/apigateway.yml                    |  5 +++++
 ansible/environments/local/hosts          |  7 ++++++
 ansible/environments/mac/hosts.j2.ini     |  6 +++++
 ansible/group_vars/all                    |  8 +++++++
 ansible/roles/apigateway/tasks/clean.yml  | 19 ++++++++++++++++
 ansible/roles/apigateway/tasks/deploy.yml | 37 +++++++++++++++++++++++++++++++
 ansible/roles/apigateway/tasks/main.yml   | 11 +++++++++
 tools/travis/build.sh                     |  1 +
 tools/vagrant/Vagrantfile                 |  1 +
 9 files changed, 95 insertions(+)

commit ca15c68d348a2a02cf9da54475e96b43d48a3dac
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Nov 1 12:26:02 2016 -0400

    Internalize Sequence combinator into the controller.

 .../main/scala/whisk/core/connector/Message.scala  |   2 +
 .../scala/whisk/core/entity/ActivationResult.scala |   8 +
 .../main/scala/whisk/core/entity/WhiskAction.scala |  29 ++
 .../scala/whisk/core/entity/WhiskActivation.scala  |  16 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |  22 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   4 +
 .../main/scala/whisk/core/controller/Actions.scala | 144 ++++----
 .../controller/AuthorizedRouteDispatcher.scala     |   6 +-
 .../main/scala/whisk/core/controller/Backend.scala |   2 +-
 .../scala/whisk/core/controller/RestAPIs.scala     |   8 +-
 .../whisk/core/controller/SequenceActions.scala    | 401 +++++++++++++++++++++
 .../scala/whisk/core/controller/Triggers.scala     |  10 +-
 .../whisk/core/entitlement/ActionCollection.scala  |   2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  17 +-
 tests/dat/actions/echo.js                          |   6 +
 tests/dat/actions/timeout.js                       |   2 +-
 tests/src/common/WskTestHelpers.scala              |  30 +-
 tests/src/system/basic/WskRuleTests.scala          |   5 +-
 tests/src/system/basic/WskSequenceTests.scala      | 360 +++++++++++++++++-
 .../core/controller/test/ActionsApiTests.scala     |   6 +-
 .../controller/test/ControllerTestCommon.scala     |   2 +-
 21 files changed, 965 insertions(+), 117 deletions(-)

commit f0ef11d1a42b0e2c73b7a9a1652a2a4e9fc6ffc7
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 11 15:07:07 2016 -0500

    Add description to throttle and remove per hour bookeeping.
    
    Hide EntityPath.paths, not used anywhere.

 .../main/scala/whisk/core/entity/EntityPath.scala  |  4 ++--
 .../scala/whisk/core/entitlement/Entitlement.scala |  4 ++--
 .../whisk/core/entitlement/RateThrottler.scala     | 24 +++++++++-------------
 3 files changed, 14 insertions(+), 18 deletions(-)

commit 840c12f6dcb8993856b4aa410f364f08577975ce
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Nov 16 08:59:46 2016 -0500

    Test for internal server error on data corruption.
    
    Additional tests related to entitlement.

 .../scala/whisk/core/entity/WhiskActivation.scala  |   2 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  19 ++--
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   3 +-
 .../whisk/core/entitlement/PackageCollection.scala |  15 ++-
 .../scala/whisk/core/container/ContainerPool.scala |  10 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   2 +-
 .../core/controller/test/ActionsApiTests.scala     |  37 +++++++
 .../core/controller/test/ActivationsApiTests.scala |  78 +++++++++++----
 .../controller/test/ControllerTestCommon.scala     |  22 ++++-
 .../controller/test/PackageActionsApiTests.scala   |  94 ++++++++++++++++--
 .../core/controller/test/PackagesApiTests.scala    |  50 ++++++++++
 .../whisk/core/controller/test/RulesApiTests.scala | 109 +++++++++++++++++++--
 .../core/controller/test/SequenceApiTests.scala    |  58 +++++------
 .../core/controller/test/TriggersApiTests.scala    |  97 +++++++++++++-----
 14 files changed, 477 insertions(+), 119 deletions(-)

commit 884c913c1bddfd4d2cc5b1409cb2b8e3c46d8977
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Nov 17 16:12:07 2016 -0500

    Entitlement check on sequence components.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |   1 +
 .../main/scala/whisk/core/controller/Actions.scala | 119 ++++++++++++++-------
 .../controller/AuthorizedRouteDispatcher.scala     |  28 +++++
 .../scala/whisk/core/controller/Packages.scala     |   1 +
 .../whisk/core/entitlement/ActionCollection.scala  |  54 ++++++++++
 .../scala/whisk/core/entitlement/Collection.scala  |   7 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |   7 +-
 .../whisk/core/entitlement/PackageCollection.scala |   5 +-
 8 files changed, 177 insertions(+), 45 deletions(-)

commit 47f833aa6e11b5a73afe1aaebf0bbd4a805c938c
Author: Paul Castro <castrop@us.ibm.com>
Date:   Thu Nov 17 11:10:56 2016 -0500

    Issue #1521, upgrade Swift 3 container to 3.0.1 release

 core/swift3Action/Dockerfile | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 83bfc64e69bd4148eefeb5be273344c71afbd552
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Nov 16 13:48:56 2016 +0100

    Adding lodash and request-promise to nodejs runtimes

 core/nodejs6Action/Dockerfile | 2 ++
 docs/reference.md             | 2 ++
 2 files changed, 4 insertions(+)

commit 3af6035982d621eebdf1f524436ce8a9d3c84ce5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 11 16:28:23 2016 -0500

    Normalize property reading from file and consul.

 .../scala/src/main/scala/whisk/common/Config.scala | 28 +++++++---
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 15 +++---
 .../main/scala/whisk/core/entity/WhiskStore.scala  |  5 +-
 .../scala/whisk/core/container/ContainerPool.scala | 15 +++---
 tests/src/whisk/common/CommonTests.scala           | 59 ---------------------
 tests/src/whisk/common/ConfigTests.scala           | 33 +++++++++---
 tests/src/whisk/core/WhiskConfigTests.scala        | 60 +++++++++++++++++++++-
 .../core/container/test/ContainerPoolTests.scala   |  9 ++--
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |  2 +-
 10 files changed, 129 insertions(+), 99 deletions(-)

commit 48a0362f17954583c77d06d6e38d8e02327dd41e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Nov 8 21:06:29 2016 -0500

    Fix gaps in package entitlement.
    Add tests for binding a private package or trying to get properties of private packages.

 .../src/main/scala/whisk/http/ErrorResponse.scala  |  14 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |  12 +-
 .../controller/AuthorizedRouteDispatcher.scala     |  41 ++---
 .../scala/whisk/core/controller/Packages.scala     | 167 ++++++++++++---------
 .../scala/whisk/core/entitlement/Entitlement.scala |  18 +--
 .../whisk/core/entitlement/PackageCollection.scala |  20 ++-
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  16 ++
 .../core/controller/test/AuthorizeTests.scala      |  11 +-
 .../core/controller/test/PackagesApiTests.scala    | 143 +++++++++++++-----
 9 files changed, 286 insertions(+), 156 deletions(-)

commit 255df1cd0f90ad0f8e0f764878a7456cc207ebbf
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Nov 17 15:32:16 2016 -0500

    Fix Failing Property Filter Test
    
    - Update action field filter test to expect an exec key

 tests/src/system/basic/WskBasicTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e72da4931cfc49b50deafd2154371dc54a87e5f
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Oct 18 15:35:50 2016 -0400

    Add Property Projections
    
    - Allows projections for actions, activations, packages, rules, and triggers

 tests/src/common/Wsk.scala                         |  13 +-
 tests/src/system/basic/WskBasicTests.scala         | 136 +++++++++++++++++++++
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  10 +-
 tools/cli/go-whisk-cli/commands/action.go          |  33 ++++-
 tools/cli/go-whisk-cli/commands/activation.go      |  33 ++++-
 tools/cli/go-whisk-cli/commands/package.go         |  30 ++++-
 tools/cli/go-whisk-cli/commands/rule.go            |  29 ++++-
 tools/cli/go-whisk-cli/commands/trigger.go         |  31 ++++-
 tools/cli/go-whisk-cli/commands/util.go            |  24 ++++
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  24 ++++
 tools/cli/go-whisk/whisk/trigger.go                |   2 +-
 11 files changed, 327 insertions(+), 38 deletions(-)

commit d5ad8e98c264b72bed90be77375d0ce7247d584f
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Nov 2 17:02:03 2016 -0400

    Enhance Qualified Name Parsing
    
    - Raise an error when entity names are missing
    - Error when too many "/" are provided
    - Prevent entity name that is a "."

 tools/cli/go-whisk-cli/commands/action.go     |  6 +--
 tools/cli/go-whisk-cli/commands/activation.go |  2 +-
 tools/cli/go-whisk-cli/commands/namespace.go  |  2 +-
 tools/cli/go-whisk-cli/commands/package.go    | 24 +++++-----
 tools/cli/go-whisk-cli/commands/rule.go       |  2 +-
 tools/cli/go-whisk-cli/commands/trigger.go    |  2 +-
 tools/cli/go-whisk-cli/commands/util.go       | 67 ++++++++++++++++++---------
 tools/cli/go-whisk/whisk/wskerror.go          |  1 +
 8 files changed, 66 insertions(+), 40 deletions(-)

commit df8d99a177e06070e74ed4e0524ee5083c1a80ae
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 11 12:08:27 2016 -0500

    Add exec kind to annotation for an action and show it in action list.

 .../main/scala/whisk/core/entity/WhiskAction.scala |  1 +
 .../main/scala/whisk/core/controller/Actions.scala | 20 ++++++++++--
 .../scala/whisk/core/controller/Packages.scala     |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  2 +-
 .../core/controller/test/ActionsApiTests.scala     | 38 ++++++++++++++++------
 .../controller/test/PackageActionsApiTests.scala   |  4 ++-
 tools/cli/go-whisk-cli/commands/util.go            |  3 +-
 7 files changed, 53 insertions(+), 17 deletions(-)

commit 76621401f94f178655054523553ee3b4ab8c64ef
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Oct 19 10:58:50 2016 -0400

    Allow entitlement check to operate on a set of resources in bulk.

 .../scala/whisk/core/entitlement/Entitlement.scala | 135 +++++++++++++--------
 1 file changed, 85 insertions(+), 50 deletions(-)

commit 0c112a439d7dec855e8825f1f04b395093ed48ac
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Nov 17 13:22:51 2016 +0100

    Add option to include Docs in ExtendedCouchClient

 tests/src/whisk/core/database/test/ExtendedCouchDbRestClient.scala | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fe77fa1e97cd43a553da1a0dc15a999aafb9e6af
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Oct 11 16:48:42 2016 +0200

    issue #898 first shot at using user namespaces. launch registrator as unmapper container because need to mount docker.sock. need to use shell instead of ansible because of https://github.com/ansible/ansible-modules-core/issues/5054
    
    issue #898 enable user namespaces
    
    issue #898 run regular containers non-namespaced using docker cli. mount correct docker root dir in invoker
    
    ensure log directories with permissions
    
    add wsk log directory permisson
    
    become privileged user when creating wsk log directory
    
    create log directories with root right
    
    disable user namespaces in docker machine
    
    increase kafka timeout

 ansible/roles/consul/tasks/deploy.yml     | 33 +++++++++++-------
 ansible/roles/controller/tasks/deploy.yml |  7 ++++
 ansible/roles/docker/templates/docker.j2  |  2 +-
 ansible/roles/invoker/tasks/deploy.yml    | 57 ++++++++++++++++++-------------
 ansible/roles/kafka/tasks/deploy.yml      |  4 +--
 ansible/roles/nginx/tasks/deploy.yml      | 11 ++++--
 tools/travis/setup.sh                     |  2 +-
 7 files changed, 73 insertions(+), 43 deletions(-)

commit a32766cbc545df8137f90c66c2ad3fdcfed3f348
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Nov 8 13:37:45 2016 +0100

    Migrate Controller's authentication to the new schema
    
    1. Add the new view
    2. Make the Controller read from the view
    3. Thread the namespace extracted from the view through the API
    
    The general "_" case now resolves to the namespace infered from the key vs. defaulting to the subject's name. For migration of the API, the "old" keys' namespace default to the subject name which preserves previous behaviour.
    
    - Loosen test to reflect reality in the controller
    - Add migration entities and test, to be elevated incrementally
    - Rename iam.Identities to NamespaceProvider to be more clear

 ansible/files/auth_index.json                      |  9 ++-
 .../main/scala/whisk/core/entity/Identity.scala    | 83 ++++++++++++++++++++++
 .../src/main/scala/whisk/core/entity/Subject.scala |  3 -
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  1 -
 .../main/scala/whisk/core/entity/WhiskAuthV2.scala | 66 +++++++++++++++++
 .../scala/whisk/core/controller/Authenticate.scala |  6 +-
 .../controller/AuthorizedRouteDispatcher.scala     |  7 +-
 .../main/scala/whisk/core/controller/Backend.scala |  8 +--
 .../scala/whisk/core/controller/Namespaces.scala   |  6 +-
 .../scala/whisk/core/controller/RestAPIs.scala     | 12 ++--
 .../scala/whisk/core/entitlement/Entitlement.scala | 30 ++++----
 .../whisk/core/entitlement/LocalEntitlement.scala  |  4 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala |  4 +-
 .../{Identities.scala => NamespaceProvider.scala}  |  6 +-
 .../core/controller/test/AuthenticateTests.scala   | 20 ------
 .../core/controller/test/AuthenticateV2Tests.scala | 76 ++++++++++++++++++++
 .../controller/test/ControllerTestCommon.scala     | 11 ++-
 17 files changed, 279 insertions(+), 73 deletions(-)

commit fc00d75c8fef27504e4c4b922bd9ee39c4373d7d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Nov 10 15:01:55 2016 -0500

    Fix optional config override when not defined (with test).

 common/scala/src/main/scala/whisk/common/Config.scala | 4 +++-
 tests/src/whisk/common/ConfigTests.scala              | 6 ++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit 7976c8d00377a9ca0ec2c64355339c74401014f5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Oct 18 16:09:37 2016 -0400

    Refactoring of the entitlement trait to remove the "namespaces" method.
    
    This belongs in an IAM provider interface - so create a new Identities type to host this method.
    This refactoring is the first toward allowing multiple namespaces for a subject, each having its own key.
    So currently still allow a subject to work acorss any of their namespaces but this will be removed in a future
    iteration and hence will break the IAM entanglement with entitlement.
    
    Also fixed some gaps in the Config type which ignored optional properties except when reading from consul.
    
    Fixes issue #1470.

 .../src/main/scala/whisk/core/WhiskConfig.scala    |  8 ++-
 .../main/scala/whisk/core/controller/Backend.scala | 17 ++++-
 .../scala/whisk/core/controller/Entities.scala     | 19 +++--
 .../scala/whisk/core/controller/Namespaces.scala   |  6 +-
 .../scala/whisk/core/controller/RestAPIs.scala     | 10 ++-
 .../scala/whisk/core/entitlement/Entitlement.scala | 34 ++++-----
 .../whisk/core/entitlement/LocalEntitlement.scala  |  6 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala | 27 ++------
 .../src/main/scala/whisk/core/iam/Identities.scala | 81 ++++++++++++++++++++++
 .../controller/test/ControllerTestCommon.scala     |  4 +-
 10 files changed, 152 insertions(+), 60 deletions(-)

commit 277a051b09238a299983994be6904c7a631c5741
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Nov 8 14:56:32 2016 -0500

    Fix Action List Help
    
    - Action list displays the wrong help information

 tools/cli/go-whisk-cli/commands/action.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b50299a49351d04704d03db2f8672ce903f4c768
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Thu Nov 10 09:23:09 2016 +0100

    read seriaseriadockerPull instead of invokerSerializeDockerOp for pull

 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit da901b309c38c457a17e33bc7a69a9e6269bfa4d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Nov 8 15:15:08 2016 -0500

    Fix Config/WhiskConfig for optional properties.

 .../scala/src/main/scala/whisk/common/Config.scala | 37 ++++++++++------------
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 26 +++++++--------
 tests/src/whisk/common/ConfigTests.scala           | 17 ++++++++--
 3 files changed, 44 insertions(+), 36 deletions(-)

commit 49fafeae75f94e46272900c88aaff64914120124
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Oct 19 14:18:47 2016 -0400

    Remove promises in Rules API handler.

 .../main/scala/whisk/core/entity/WhiskAction.scala |  4 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     | 24 +++----
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  3 +-
 .../main/scala/whisk/core/controller/Rules.scala   | 78 +++++++---------------
 4 files changed, 36 insertions(+), 73 deletions(-)

commit 614bc934e5f073e0a5139ef8b2f28faa2b03d4b2
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Nov 4 11:33:14 2016 -0400

    Compute msec duration for whisk activations from actions.
    
    Remove unnecessary var `boundParams` in container and inline `mergeParams` methods.
    
    On failure where action limits are not known, omit limits:null from activation annotation.
    
    Fix action invocation to that getting a container is wrapped in a future and can thus recover properly and not drop annotations from the action. Added test to confirm precense of limits when invoke fails.
    
    Container pool's get action method returned None only when system was shutting down and throwing an exception otherwise. Change the type of the method accordingly to remove the Option and simplify the typing. Make invokeAction complete the transaction and ensure there is at most one completion on the path (ie if the complete transaction operation itself fails, it is not subject to the recovery clause.
    
    Remove unnecessary promise.

 .../connector/kafka/KafkaProducerConnector.scala   |   8 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  18 +-
 .../scala/whisk/core/controller/Triggers.scala     |   2 +-
 .../scala/whisk/core/container/ContainerPool.scala |  12 +-
 .../whisk/core/container/WhiskContainer.scala      |   9 -
 .../main/scala/whisk/core/invoker/Invoker.scala    | 217 +++++++++++++--------
 tests/src/common/WskTestHelpers.scala              |  14 +-
 tests/src/system/basic/WskBasicTests.scala         |  11 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  43 ++--
 .../core/container/test/ContainerPoolTests.scala   |   8 +-
 tools/cli/go-whisk/whisk/activation.go             |   3 +-
 11 files changed, 202 insertions(+), 143 deletions(-)

commit baa652a8edf0c2032f3b8f6386421b4a35236911
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Nov 8 10:01:34 2016 -0500

    Refactor sequence tests. Leave creation and retrieval in core cli, move sequence execution testing to system basictesting

 ...nSequenceTests.scala => WskSequenceTests.scala} | 58 ++-------------
 .../core/cli/test/WskActionSequenceTests.scala     | 87 ++++++++++++++++++++++
 2 files changed, 94 insertions(+), 51 deletions(-)

commit a7d2728a819a0b99f55f9969f4da791b3efe8126
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Aug 30 22:33:46 2016 -0400

    Initialize docker skeleton with native binaries.
    
    Allow the action proxy to receive a binary 'code' initializer: a base64 encoded string
    of a zipped file. Extract the archive to /action to create a new 'exec'.
    
    Add test, and tweak helper test script to allow for testing from the command line.
    
    Add optional zip to BlackBox exec.
    Pull dockerskeleton image to invoker (this will also help with black box actions that are based on this image wrt image caching of layers).
    
    Allow --docker to have code property in exec and assume a specific image.
    Add support in CLI and recognize openwhisk/dockerskeleton image in backend to bypass pull.
    Add unit test.
    Remove obsolete exec field. Refactor to remove duplication.
    Add test for blackbox action to confirm empty code when no zip given.

 ansible/roles/invoker/tasks/deploy.yml             |   1 +
 .../src/main/scala/whisk/core/entity/Exec.scala    |  82 +++++++++++--------
 .../src/main/scala/whisk/core/entity/Size.scala    |   4 +
 .../main/scala/whisk/core/entity/WhiskAction.scala |  39 +++++----
 core/actionProxy/actionproxy.py                    |  32 ++++++--
 core/actionProxy/invoke.py                         |  13 ++-
 .../scala/whisk/core/container/ContainerPool.scala |   9 +--
 .../whisk/core/container/WhiskContainer.scala      |   1 -
 core/pythonAction/cli/wskaction.py                 |  10 +--
 tests/dat/actions/blackbox.zip                     | Bin 0 -> 256 bytes
 .../ActionProxyContainerTests.scala                |  30 ++++++-
 .../NodeJs6ActionContainerTests.scala              |   2 +-
 .../NodeJsActionContainerTests.scala               |   2 +-
 tests/src/common/Wsk.scala                         |   2 +-
 tests/src/system/basic/WskBasicTests.scala         |  88 +++++++++++----------
 .../core/controller/test/ActionsApiTests.scala     |  50 +++++++++---
 tests/src/whisk/core/entity/test/SchemaTests.scala |  64 ++++++++-------
 tools/cli/go-whisk-cli/commands/action.go          |  19 +++--
 tools/deploy/deployInvoker                         |   1 +
 19 files changed, 287 insertions(+), 162 deletions(-)

commit 79d225546247f87a1d144edee054803be13b83c7
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Sep 14 18:01:16 2016 -0400

    Do Not Cross Compile CLI by Default
    
    - Use build argument to determine whether to cross-compile the CLI
    - Use build argument to determine whether or not to run cross-compiled CLI tests

 gradle/docker.gradle                        |  4 +-
 tests/src/system/rest/GoCLINginxTests.scala | 97 +++++++++--------------------
 tools/cli/Dockerfile                        |  5 +-
 tools/cli/build.gradle                      | 16 +++--
 tools/cli/build.sh                          |  4 +-
 5 files changed, 49 insertions(+), 77 deletions(-)

commit af7935583e7d98316a2a6d4697cf4b31ecd35bcd
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Fri Nov 4 12:03:22 2016 -0400

    Improve extract activation id to work for 'wsk activation get' run result

 tests/src/common/Wsk.scala | 45 ++++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 42 insertions(+), 3 deletions(-)

commit 8d747fa1d4e1cfee496cfe6f568876389487e372
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Oct 30 09:02:25 2016 -0400

    Rewrite test script.
    
    Remove bash script.

 tests/dat/actions/CacheConcurrencyTests.sh         |  94 --------------
 .../core/database/test/CacheConcurrencyTests.scala | 136 +++++++++++++++------
 2 files changed, 99 insertions(+), 131 deletions(-)

commit 54f565a8a935630c072b5bf00420f242c28da098
Author: paulcastro <castrop@us.ibm.com>
Date:   Wed Nov 2 13:00:08 2016 -0400

    Issue #1458, update iOS starterApp FilterForecast action to work with Swift 3 runtime (#1462)

 mobile/iOS/starterapp/OpenWhiskStarterApp/FilterForecast.swift | 6 +++---
 mobile/iOS/starterapp/OpenWhiskStarterApp/Utils.swift          | 4 ++--
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 306cac858fcc1ac4da6d58f7292d981264992787
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Oct 31 11:24:28 2016 -0400

    Allow sanitize to retry on package cleaning for eventual consistency.

 tests/src/common/Wsk.scala            |  4 +---
 tests/src/common/WskTestHelpers.scala | 20 ++++++++++++++++++--
 2 files changed, 19 insertions(+), 5 deletions(-)

commit 924f3f365288e5554acd92097e51bc97bf5764c4
Author: Carlos Santana <csantana23@gmail.com>
Date:   Tue Nov 1 13:21:52 2016 -0400

    update docs, minor format and docker update (#1460)

 docs/actions.md | 50 +++++++++++++++++++++++---------------------------
 1 file changed, 23 insertions(+), 27 deletions(-)

commit b41dbb7605cd3dba63b88cedf68da9578a1cbe16
Author: Ben Cox <benjamin.cox@uk.ibm.com>
Date:   Tue Nov 1 16:43:47 2016 +0100

    Correct timeout doc (#1425)
    
    * Correct timeout doc
    
    * Use a 2-second timeout in doc

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c785663ccfaa70741c6b7601b5d0a4deb67593e6
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Oct 28 14:08:23 2016 -0400

    Generate SSL certificate on setup.

 .gitignore                                   |  2 ++
 ansible/roles/nginx/files/genssl.sh          | 29 ++++++++++++++++++++++++++++
 ansible/roles/nginx/files/openwhisk-cert.pem | 19 ------------------
 ansible/setup.yml                            |  3 +++
 tools/vagrant/README.md                      |  9 ++-------
 5 files changed, 36 insertions(+), 26 deletions(-)

commit 8b1865a1b272ec09df2b00ec619190159da8ba1d
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Oct 14 12:05:09 2016 -0400

    Update Docs for JSON File Input
    
    - Inform users that JSON file content can be provided when passing parameters for actions, packages, and triggers

 docs/actions.md | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 55 insertions(+), 2 deletions(-)

commit 34f3720e7d5f586c5eedda9a7d36b34750278ec8
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Oct 29 09:17:51 2016 -0400

    Enable trigger caching now that cache properly transacts reads and writes. (#1455)

 .../scala/whisk/core/entity/WhiskTrigger.scala     |   2 +-
 .../whisk/core/controller/test/RulesApiTests.scala | 130 ++++++++++-----------
 .../core/database/test/CacheConcurrencyTests.scala |   4 +-
 3 files changed, 68 insertions(+), 68 deletions(-)

commit 22a12c9687119d3582b667c9c9bbdc0915134277
Author: Nick Mitchell <nickm@us.ibm.com>
Date:   Wed Sep 21 03:12:31 2016 +0000

    Replace InMemoryCache with new impl that avoids read under write races
    
    Addresses some points in #1260.
    
    This was PR #1302.

 .../whisk/core/database/DocumentFactory.scala      |  36 +-
 .../MultipleReadersSingleWriterCache.scala         | 398 +++++++++++++++++++++
 .../main/scala/whisk/core/entity/WhiskAction.scala |   2 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |   2 +-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  10 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |   2 +-
 .../main/scala/whisk/core/entity/WhiskRule.scala   |   2 +-
 .../scala/whisk/core/entity/WhiskTrigger.scala     |   2 +-
 tests/dat/actions/CacheConcurrencyTests.sh         |  94 +++++
 .../core/database/test/CacheConcurrencyTests.scala |  75 ++++
 .../MultipleReadersSingleWriterCacheTests.scala    | 213 +++++++++++
 .../whisk/core/entity/test/MigrationEntities.scala |   2 +
 12 files changed, 815 insertions(+), 23 deletions(-)

commit 632afaa9e947fb31a861c75c2f18e21494e58507
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Oct 27 10:46:09 2016 +0200

    Add _all_docs call to the extended CouchDbClient

 .../core/database/test/ExtendedCouchDbRestClient.scala    | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 2d46a5e1cef79a94c9dc5edd1ae29cbfe063acb8
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Fri Oct 28 11:35:31 2016 -0400

    Add checks for the number of (atomic) actions in a sequence
    
    * Part of resolution for Issue #1274.
    
    Add checks for the number of (atomic) actions in a sequence.
    Also check for recursion.
    Remove obsolete tests.
    Add relevant tests in independent sequences test file.
    Use FullyQualifiedEntityName instead of strings for components.
    Added JSON serializer and corresponding changes to Exec serdes; this is a dual serdes for FullyQualifiedEntityName to allow for Json Object and JsString deserialization.
    Migration tests from old sequence to new sequence implementation.

 ansible/group_vars/all                             |   2 +
 ansible/templates/whisk.properties.j2              |   1 +
 .../src/main/scala/whisk/core/WhiskConfig.scala    |   4 +-
 .../main/scala/whisk/core/entity/EntityPath.scala  |  43 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  30 +-
 .../core/entity/FullyQualifiedEntityName.scala     |  62 +++
 .../main/scala/whisk/core/entity/WhiskAction.scala |  30 +-
 .../scala/whisk/core/entity/WhiskPackage.scala     |  27 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |   8 +
 .../main/scala/whisk/core/controller/Actions.scala | 201 ++++++++--
 .../main/scala/whisk/core/controller/Backend.scala |   1 +
 .../scala/whisk/core/controller/Entities.scala     |   4 +-
 .../scala/whisk/core/controller/Packages.scala     |   2 +-
 .../scala/whisk/core/controller/RestAPIs.scala     |   2 +
 .../main/scala/whisk/core/controller/Rules.scala   |   2 +-
 .../scala/whisk/core/controller/Triggers.scala     |   2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |   4 +-
 tests/dat/actions/echo.json                        |  16 +
 tests/dat/actions/seq_echo_word_count.json         |  25 ++
 tests/dat/actions/word_count.json                  |  16 +
 tests/src/common/Wsk.scala                         |  10 +
 .../src/system/basic/WskActionSequenceTests.scala  |  14 +-
 .../core/cli/test/SequenceMigrationTests.scala     |  98 +++++
 .../core/controller/test/ActionsApiTests.scala     |  96 +----
 .../controller/test/ControllerTestCommon.scala     |   4 +
 .../core/controller/test/SequenceApiTests.scala    | 431 +++++++++++++++++++++
 .../SequenceActionApiMigrationTests.scala          | 183 +++++++++
 .../core/dispatcher/test/DispatcherTests.scala     |   2 +-
 28 files changed, 1144 insertions(+), 176 deletions(-)

commit c12a2b9c78ac0b4d2a14c4ad7ea11fe240919e89
Author: Perry <perry@us.ibm.com>
Date:   Thu Oct 27 12:04:05 2016 -0400

    Run container pool putBack concurrently with acivation completion.  Lowers latency.

 core/invoker/src/main/scala/whisk/core/invoker/Invoker.scala | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit cf127c4e2cac8c8ba8278e4be2cad1fd02707707
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Oct 27 09:26:58 2016 +0200

    Thread poll limit through correctly

 tests/src/common/WskTestHelpers.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2240f4acd2f30ee981c88f61b6adafd665881108
Author: Perry <perry@us.ibm.com>
Date:   Mon Sep 26 14:46:34 2016 -0400

    Replace docker inspect with looking at config.v2.json.

 .../scala/whisk/core/container/Container.scala     |  3 +-
 .../scala/whisk/core/container/ContainerPool.scala | 14 ++--
 .../whisk/core/container/ContainerUtils.scala      | 88 ++++++++++++++++------
 .../whisk/core/container/WhiskContainer.scala      |  3 +-
 4 files changed, 78 insertions(+), 30 deletions(-)

commit e79bf79d5f7f91726994c34aa870b8e1dd9ea204
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Tue Oct 25 11:41:52 2016 -0400

    'undefined' is displayed on whisk.invoke errors

 core/nodejsActionBase/src/whisk.js             | 10 ++++++++--
 tests/dat/actions/invokeCallback.js            |  4 ++--
 tests/src/system/basic/WskBasicNodeTests.scala |  8 ++++++--
 tests/src/system/basic/WskBasicTests.scala     |  2 +-
 4 files changed, 17 insertions(+), 7 deletions(-)

commit 4e08d7b7d6a6dd4ee95767f34c420d6635fa9580
Author: paulcastro <castrop@us.ibm.com>
Date:   Thu Oct 27 10:05:03 2016 -0400

    Add flush statements to Swift 3 runner (#1438)

 core/swift3Action/swift3runner.py | 2 ++
 1 file changed, 2 insertions(+)

commit 740b0ccc1d508e6bf6c5cb48e1ddf97c384bb634
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Thu Oct 27 15:06:34 2016 +0200

    Reorder testexecution to properly clean up, wait longer than check time in consul check (#1442)

 tests/src/whisk/consul/ConsulClientTests.scala | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 9c6e7d2f77909cf84aa8a0c3f3189791af76b3a0
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Oct 21 17:03:24 2016 +0200

    upgrade invoker docker client to 1.12.0
    
    issue put docker version in env var

 core/invoker/Dockerfile | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit ad96dc4f2212344c8e8959f717c98f4dc5b89fc5
Author: Perry <perry@us.ibm.com>
Date:   Tue Oct 25 16:53:49 2016 -0400

    Change misleading message in ContainerPool and don't be so verbose.
    Fix ContainerPoolTest to be more lenient and give GC a chance to remove container.

 .../scala/whisk/core/container/ContainerPool.scala | 10 ++-
 .../core/container/test/ContainerPoolTests.scala   | 82 +++++++++++-----------
 2 files changed, 48 insertions(+), 44 deletions(-)

commit 403c3f2c500780a569ddf983528ada971edd5ec4
Author: perryibm <perry@us.ibm.com>
Date:   Wed Oct 26 16:28:31 2016 -0400

    Remove invoker tracking/publishing per-subject activation counts. (#1430)
    
    * Remove tracking per-subject activation count on invoker and stop consul publishing.
    
    * Extend invoker count deletion to invoker-wide count.

 .../src/main/scala/whisk/common/ConsulClient.scala |  8 ----
 .../whisk/core/loadBalancer/InvokerHealth.scala    | 15 ++----
 .../core/loadBalancer/LoadBalancerService.scala    | 34 ++------------
 .../main/scala/whisk/core/invoker/Invoker.scala    | 54 ++--------------------
 .../controller/test/ControllerTestCommon.scala     |  2 -
 5 files changed, 13 insertions(+), 100 deletions(-)

commit 8944f48a3cf5e2fca66941e71c772d36cf8c0ad1
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Oct 7 13:58:34 2016 -0400

    Display Better Error When API Host is not Set
    
    - Display an error message informing the user to set the API host if it is not set
    - Add test to ensure error message is displayed

 tests/src/system/basic/WskActionTests.scala        |  3 ++-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 23 ++++++++++++-----
 tools/cli/go-whisk-cli/commands/commands.go        | 29 ++++++++++------------
 tools/cli/go-whisk-cli/commands/util.go            |  7 ++++++
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 12 ++++++---
 5 files changed, 47 insertions(+), 27 deletions(-)

commit 9f226f090260c5d4acceb2c6a0b6f8a33b1a29a0
Author: perryibm <perry@us.ibm.com>
Date:   Mon Oct 24 14:39:40 2016 -0400

    Extend load balancer to track activations.  Switch activation throttler from consul to this. (#1407)
    
    * Maintain all activations in various maps sharing the same entry.
    Consistenly add/delete only via setupActivation, processCompletion, invoker restart callback.
    
    * Switch activation throttler to using load balancer service's notion of concurrent activation counts.

 .../core/entitlement/ActivationThrottler.scala     | 33 +--------
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  2 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 80 +++++++++++++++-------
 .../controller/test/ControllerTestCommon.scala     |  4 +-
 4 files changed, 61 insertions(+), 58 deletions(-)

commit 2b5653944ff7b58be3e59bf324755b917d4e760e
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Oct 13 15:03:42 2016 +0200

    Exchange own Kafka image with ches/kafka
    
    I believe our own Kafka image was based on this anyway.
    
    - Removed redo target
    - Removed kafka from settings.gradle
    - Removed the services folder :tada:

 ansible/roles/kafka/tasks/deploy.yml            | 12 ++--
 services/kafka/Dockerfile                       | 48 ---------------
 services/kafka/build.gradle                     |  3 -
 services/kafka/config/log4j.properties          | 78 -------------------------
 services/kafka/config/server.properties.default | 69 ----------------------
 services/kafka/config/tools-log4j.properties    | 20 -------
 services/kafka/config/zookeeper.properties      | 20 -------
 services/kafka/start.sh                         | 36 ------------
 settings.gradle                                 |  2 -
 tools/build/redo                                |  3 +-
 10 files changed, 5 insertions(+), 286 deletions(-)

commit 37e5857002a54741ccd43dba618bc1ba1dd088ef
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Oct 18 11:41:46 2016 -0400

    Display Proper Error Message from Error Object
    
    - Parse and display error objects properly

 tests/dat/actions/asyncError.js            | 13 +++++++++++++
 tests/src/system/basic/WskBasicTests.scala | 11 +++++++++++
 tools/cli/go-whisk/whisk/client.go         | 14 ++++----------
 3 files changed, 28 insertions(+), 10 deletions(-)

commit 60d025f8af0d50f0466683c4fba3a218e354257a
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Thu Oct 20 09:39:29 2016 +0200

    set the transactionId of the container explicitly to sid for teardown

 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 1 +
 1 file changed, 1 insertion(+)

commit f83fa34e940c41fe2a7ef569b4a33296ad5e3e0f
Author: Carlos Santana <csantana23@gmail.com>
Date:   Sat Oct 22 18:59:00 2016 -0400

    update wording in docs for concurrent limits (#1427)

 docs/reference.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b405094c515431f54e7527851d53d0bf1a7a468a
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Oct 6 18:33:11 2016 -0400

    multiple updates for docs.

 docs/actions.md        | 18 ++++++++++--------
 docs/catalog.md        | 43 +++++++++++++++++++++++--------------------
 docs/mobile_sdk.md     |  8 ++++----
 docs/packages.md       | 26 ++++++++++++++++----------
 docs/reference.md      | 23 ++++++++++-------------
 docs/triggers_rules.md |  6 +++---
 6 files changed, 66 insertions(+), 58 deletions(-)

commit eb41402d7dc51cda16744751fc8b343ed79f8916
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Oct 19 14:57:51 2016 -0400

    Documented JS package actions.

 docs/actions.md | 72 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 71 insertions(+), 1 deletion(-)

commit 84e4ce64a9f7a93dc7499165acffb7e161922b97
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Oct 17 13:35:40 2016 -0400

    CLI base64-encodes zip actions and treats them as JS
    
    The CLI only accepts .zip artifacts if the --kind was set explicitly, and returns a helpful error message otherwise.
    
    Includes a test.

 tests/dat/actions/zippedaction.zip                 | Bin 0 -> 51940 bytes
 tests/src/system/basic/WskBasicNodeTests.scala     |  35 ++++++++++++++++++++-
 tools/cli/go-whisk-cli/commands/action.go          |  22 ++++++++++---
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |   4 +++
 4 files changed, 56 insertions(+), 5 deletions(-)

commit 41bd5f4719503a689afb6ad45db26ad84027c80c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sun Oct 9 19:16:42 2016 +0200

    Removing Kafka monitor, implementing standalone isAlive check
    
    - Remove slf4j logger from kafka
    - Remove kafka from isAlive and PingTest
    - Precreate all topics needed, don't rely on auto-create

 ansible/roles/kafka/tasks/deploy.yml |  23 +++--
 services/kafka/Dockerfile            |  18 +---
 services/kafka/monitor/app.js        | 175 -----------------------------------
 services/kafka/monitor/package.json  |   9 --
 services/kafka/start.sh              |  11 +--
 tests/src/services/PingTests.scala   |   8 --
 tools/health/isAlive                 |   9 --
 7 files changed, 17 insertions(+), 236 deletions(-)

commit d0e1fc6f29520b3ac1f082142113197f9e33baaf
Author: Paul Castro <castrop@us.ibm.com>
Date:   Thu Oct 13 12:23:04 2016 -0400

    Issue #1350 Make Swift 3 default

 .../whisk/core/entity/DefaultRuntimeVersions.scala |  1 +
 .../src/main/resources/whiskswagger.json           |  1 +
 core/swift3Action/spm-build/WhiskJsonUtils.swift   | 74 +++++++++++++++++++---
 tests/dat/actions/invoke.swift                     |  2 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  2 +-
 tests/src/system/basic/WskBasicSwiftTests.scala    | 69 ++++++++++++++++++++
 tools/cli/go-whisk-cli/commands/action.go          |  4 +-
 7 files changed, 142 insertions(+), 11 deletions(-)

commit 1cf32889678c524f6cb0f8de1c132661517c2374
Author: Perry <perry@us.ibm.com>
Date:   Tue Oct 18 16:11:03 2016 -0400

    Do not skip logging errors on docker pause/unpause errors.

 core/invoker/src/main/scala/whisk/core/container/ContainerUtils.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 65992b5a7a9768fe6a217a6880444720c02e95a7
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Oct 18 17:30:50 2016 +0200

    up socket timeout of python action to 60 seconds
    
    up to 2 minutes
    
    test url openwhisk.ng.bluemix.net/api/v1
    
    test url is now openwhisk.ng.bluemix.net/api/v1

 tests/src/actionContainers/PythonActionContainerTests.scala | 10 ++++++----
 tests/src/actionContainers/Swift3ActionContainerTests.scala |  2 +-
 2 files changed, 7 insertions(+), 5 deletions(-)

commit 01f102055f14bd03084204af6260612a3225bf08
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Oct 5 16:42:44 2016 +0200

    bump docker version to 1.12.0, kernel version to 4.4.0-31. update README.md with instructions.
    
    revert back to aufs until kernel can be patched.

 ansible/group_vars/all       | 4 ++--
 tools/macos/README.md        | 8 ++++----
 tools/ubuntu-setup/docker.sh | 4 ++--
 3 files changed, 8 insertions(+), 8 deletions(-)

commit b36fd6faafbe6e56a6db3c3361de5e879f45e8a0
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Sep 28 17:28:17 2016 -0400

    Unify support for zip/jar creation in container tests.
    
    Additionally, test NodeJS actions as uploaded zips.

 tests/src/actionContainers/ActionContainer.scala   |   1 -
 .../JavaActionContainerTests.scala                 | 135 +--------------
 .../NodeJs6ActionContainerTests.scala              |   4 +
 .../NodeJsActionContainerTests.scala               |  95 ++++++++++-
 tests/src/actionContainers/ResourceHelpers.scala   | 187 +++++++++++++++++++++
 5 files changed, 283 insertions(+), 139 deletions(-)

commit ba581aa054b6fff2bfe2ec34b1da3b2fbcbf8bcf
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Sep 30 16:33:51 2016 -0400

    Container support for zipped node modules as actions
    
    This commit gives the nodejsAction and nodejs6Action containers the ability to accept an action represented as a base64-encoded zip file of a node module.
    
    The module needs to export a function matching the expected signature of a whisk action (dict->dict).
    
    NodeJS `Exec` entities detect whether the action is a script file or a base64-encoded zip file and communicate this to the container.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 10 ++-
 .../main/scala/whisk/core/entity/WhiskAction.scala | 25 +++---
 core/nodejsActionBase/Dockerfile                   |  2 +-
 core/nodejsActionBase/runner.js                    | 93 ++++++++++++++++++----
 core/nodejsActionBase/src/service.js               |  2 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala |  6 +-
 6 files changed, 102 insertions(+), 36 deletions(-)

commit cb02a8850a4ec38ed9070dbcb8667c719c668308
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Oct 12 10:38:41 2016 -0400

    Added a `binary` field to action records.
    
    Only applies to actions that hold code (i.e. not blackbox or sequence).
    
    Additional refactorings to how `Exec`s are represented.

 .../main/scala/whisk/core/entity/Attachments.scala |  21 ++-
 .../src/main/scala/whisk/core/entity/Exec.scala    | 170 ++++++++++-----------
 tests/src/whisk/core/entity/test/SchemaTests.scala |  14 +-
 3 files changed, 98 insertions(+), 107 deletions(-)

commit 1be490b498239482ccca17be28e66b32e30b630e
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Oct 11 14:54:34 2016 +0200

    Add group-parameter to couch-view-execution
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .../whisk/core/database/CouchDbRestClient.scala    |  9 +++-
 .../database/test/CouchDbRestClientTests.scala     | 63 +++++++++++++++++++++-
 tests/src/whisk/core/database/test/DbUtils.scala   | 34 ++++++++++--
 3 files changed, 97 insertions(+), 9 deletions(-)

commit be9e3cc61064573c83a2bcc86f0a287d72db95e6
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Oct 14 15:22:09 2016 -0400

    Add a webhook for TravisCI notifications.

 .travis.yml | 3 +++
 1 file changed, 3 insertions(+)

commit 4b21640cf135b9362c75bd6b48ba0e4b45b73629
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Oct 7 12:01:36 2016 +0200

    Use docker_container instead of docker (deprecated)

 ansible/roles/consul/tasks/clean.yml      |  4 ++--
 ansible/roles/consul/tasks/deploy.yml     | 10 ++++++----
 ansible/roles/controller/tasks/clean.yml  |  2 +-
 ansible/roles/controller/tasks/deploy.yml |  5 +++--
 ansible/roles/couchdb/tasks/clean.yml     |  2 +-
 ansible/roles/couchdb/tasks/deploy.yml    |  5 +++--
 ansible/roles/invoker/tasks/clean.yml     |  2 +-
 ansible/roles/invoker/tasks/deploy.yml    |  5 +++--
 ansible/roles/kafka/tasks/clean.yml       |  4 ++--
 ansible/roles/kafka/tasks/deploy.yml      | 10 ++++++----
 ansible/roles/nginx/tasks/clean.yml       |  2 +-
 ansible/roles/nginx/tasks/deploy.yml      |  5 +++--
 ansible/roles/registry/tasks/deploy.yml   |  4 ++--
 13 files changed, 34 insertions(+), 26 deletions(-)

commit df389a21df477414a2f1c42ef83228c5a9aa96dc
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Oct 7 13:19:06 2016 -0400

    Update Default Values for Limits
    
    - Display 256 as default memory limit
    - Display 10 as default log limit
    - Display 60000 as default timeout limit

 tools/cli/go-whisk-cli/commands/action.go          | 103 ++++++++++++---------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  12 +--
 2 files changed, 64 insertions(+), 51 deletions(-)

commit d87a9de05769642916d86bfe11e828b340794de5
Author: Perry <perry@us.ibm.com>
Date:   Tue Oct 11 12:10:23 2016 -0400

    Track whether to unpause on container removal.
    Clean up warm vs pre-allocated nomenclature.

 .../scala/whisk/core/container/Container.scala     |  6 +--
 .../scala/whisk/core/container/ContainerPool.scala | 55 ++++++++++++----------
 .../main/scala/whisk/core/container/package.scala  |  2 +-
 3 files changed, 34 insertions(+), 29 deletions(-)

commit 8c54c05ea01de51ea1778e27788619d6f8d7195c
Author: paulcastro <castrop@us.ibm.com>
Date:   Thu Oct 13 10:26:46 2016 -0400

    Issue #1371, dynamically generate swift compile and link script (#1393)
    
    Issue #1377, workaround in Whisk object because of JSONSerialization bug

 core/swift3Action/Dockerfile                       |  10 +-
 core/swift3Action/buildandrecord.py                |  75 ++++++++++++++
 core/swift3Action/epilogue.swift                   |  20 ++--
 core/swift3Action/spm-build/Whisk.swift            |  39 ++++---
 core/swift3Action/spm-build/WhiskJsonUtils.swift   | 114 +++++++++++++++++++++
 core/swift3Action/swift3runner.py                  |   4 +-
 .../Swift3ActionContainerTests.scala               |   8 +-
 .../SwiftActionContainerTests.scala                |   7 +-
 8 files changed, 249 insertions(+), 28 deletions(-)

commit db8b1aa8eade176d4eab78a4e0812dc7dcd4e413
Author: jeremiaswerner <jeremias.werner@gmail.com>
Date:   Thu Oct 13 12:37:29 2016 +0200

    upgrade node actions for use version v.0.12.16 and v6.7 (#1389)

 core/nodejs6Action/Dockerfile | 2 +-
 core/nodejsAction/Dockerfile  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 591c2898b98c80046e73fa2d987645241c0ff808
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Oct 12 14:33:50 2016 -0400

    Allow JSON to be Input from a File (#1175)
    
    - Pass JSON files to parameters and annotations
    - Refactor parameter and annotation handling
            - Use KeyValueArr data type to store annotations and parameters
    - Refactor summaries for get commands
            - Use KeyValueArr data type to get annotations and parameters
    - Refactor parameter and annotation tests
            - Order of params and annots are not guaranteed in Go map data structures
    - Fixes: #426

 tests/dat/actions/invalidInput1.json               |   3 +
 tests/dat/actions/invalidInput2.json               |   4 +
 tests/dat/actions/invalidInput3.json               |   2 +
 tests/dat/actions/invalidInput4.json               |   3 +
 tests/dat/actions/validInput1.json                 |  11 +
 tests/dat/actions/validInput2.json                 |   3 +
 tests/src/common/Wsk.scala                         |  18 +-
 tests/src/system/basic/WskBasicTests.scala         |  41 +++
 .../src/whisk/core/cli/test/JsonArgsForTests.scala | 106 +++++--
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 325 +++++++++++++++------
 tools/cli/go-whisk-cli/commands/action.go          |  72 ++---
 tools/cli/go-whisk-cli/commands/commands.go        |  60 +++-
 tools/cli/go-whisk-cli/commands/flags.go           |   2 +
 tools/cli/go-whisk-cli/commands/package.go         |  56 ++--
 tools/cli/go-whisk-cli/commands/rule.go            |  56 +---
 tools/cli/go-whisk-cli/commands/trigger.go         | 224 +++++---------
 tools/cli/go-whisk-cli/commands/util.go            | 320 ++++++++++----------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  12 +-
 tools/cli/go-whisk/whisk/action.go                 |  15 +-
 tools/cli/go-whisk/whisk/activation.go             |  18 +-
 tools/cli/go-whisk/whisk/client.go                 |   4 +-
 tools/cli/go-whisk/whisk/package.go                |  20 +-
 tools/cli/go-whisk/whisk/rule.go                   |  15 +-
 tools/cli/go-whisk/whisk/shared.go                 |  12 +-
 tools/cli/go-whisk/whisk/trigger.go                |  11 +-
 25 files changed, 805 insertions(+), 608 deletions(-)

commit 6100ea2206c7580ac2b876467925c59c592dbfac
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Oct 7 12:51:30 2016 +0200

    Bump ansible version to 2.1.2.0 and docker-py to 1.9.0
    
    - Documentation updates
    - Fix wrong syntax to pull invoker images

 ansible/README.md                      |  4 ++--
 ansible/roles/invoker/tasks/deploy.yml | 19 ++++++++-----------
 ansible/roles/prereq/tasks/deploy.yml  |  2 +-
 tools/macos/README.md                  |  4 ++--
 tools/macos/tweak-dockermachine.sh     |  2 +-
 tools/travis/setup.sh                  |  2 +-
 tools/ubuntu-setup/ansible.sh          |  4 ++--
 7 files changed, 17 insertions(+), 20 deletions(-)

commit 395597e3e9c7b93e005a7c51137e3f90d5c21594
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Oct 6 11:54:05 2016 -0400

    Do Not Omit Fields from Activation Records
    
    - Always display fields in an activation record even if their values are empty

 tests/dat/actions/argCheck.js                      |  3 +++
 tests/src/system/basic/WskActionTests.scala        |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 21 +++++++++++++++++
 tools/cli/go-whisk/whisk/activation.go             | 26 +++++++++++-----------
 4 files changed, 38 insertions(+), 14 deletions(-)

commit ab887f9bd67ed9d1f2b1d50b04417bcc7e7e5d74
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Oct 8 08:30:52 2016 +0200

    Some refactoring to LoadBalancer and InvokerHealth

 .../whisk/core/loadBalancer/InvokerHealth.scala    |  8 ++---
 .../core/loadBalancer/LoadBalancerService.scala    | 34 +++++++---------------
 2 files changed, 15 insertions(+), 27 deletions(-)

commit ff3c011a8a38a7ec4952b842f5b45af70d796144
Author: Philippe Suter <philippe.suter@gmail.com>
Date:   Mon Oct 10 15:23:59 2016 +0200

    Use Promises within nodeJsAction proxy code. (#1348)

 core/nodejsActionBase/app.js                       |  48 ++++--
 core/nodejsActionBase/runner.js                    | 150 ++++++++++---------
 core/nodejsActionBase/src/service.js               | 164 +++++++++++----------
 .../NodeJsActionContainerTests.scala               |   1 +
 4 files changed, 203 insertions(+), 160 deletions(-)

commit 7b1afa741719bcd93c87322111cf3a6bd73a03d8
Author: Perry <perry@us.ibm.com>
Date:   Tue Oct 4 15:36:58 2016 -0400

    Generalize queryMap to activationMap.
    
    Start consolidating map creation so no external ordering can cause internal race.
    Consolidate loadbalancer API so that publishing a result and implicit querying of activation result.
    Get rid of performLoadBalanceRequest by isolating behavior to test file.
    Make sure consumer side is also protected in test mode.
    Restore active ack timeout at 30 seconds.
    Make a thin load balancer trait and remove unitTest flag.
    Update some javadoc.
    Removed queryActivationResponse (dead code).

 .../main/scala/whisk/core/controller/Actions.scala |  33 ++--
 .../main/scala/whisk/core/controller/Backend.scala |  16 +-
 .../scala/whisk/core/controller/RestAPIs.scala     |  17 +--
 .../core/entitlement/ActivationThrottler.scala     |   4 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |   4 +-
 .../whisk/core/entitlement/LocalEntitlement.scala  |   4 +-
 .../whisk/core/entitlement/RemoteEntitlement.scala |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 169 +++++++++++++++++----
 .../core/loadBalancer/LoadBalancerToKafka.scala    | 111 --------------
 .../core/controller/test/ActionsApiTests.scala     |   4 +-
 .../controller/test/ControllerTestCommon.scala     |  66 +++-----
 11 files changed, 189 insertions(+), 243 deletions(-)

commit 2dcfa2928c0eae9c01247ee355c71fdc723945f0
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sun Sep 25 10:44:21 2016 +0200

    Set invoker memory consumption parameters.

 core/invoker/build.gradle | 2 ++
 1 file changed, 2 insertions(+)

commit fdf5a7f2cb67cdba8d2a9fca28b7c43d5664b84a
Author: Perry <perry@us.ibm.com>
Date:   Thu Oct 6 17:51:59 2016 -0400

    Consistently omit logs for blocking calls.
    Note all active acks unconditionally in kafka handler.

 core/controller/src/main/scala/whisk/core/controller/Actions.scala    | 2 +-
 .../src/main/scala/whisk/core/loadBalancer/LoadBalancerService.scala  | 2 ++
 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala  | 4 ++--
 3 files changed, 5 insertions(+), 3 deletions(-)

commit 411864ce295a02a49497c9352e76a0283424f3f0
Author: Perry <perry@us.ibm.com>
Date:   Wed Sep 28 16:00:45 2016 -0400

    Plumb loadbalancerService into Entitlement complex.
    Remove load balancer from publishing its internal counts to consul by having ActivationThrottler directly consult LB.
    Change Counter to return Long.  Misc cleanup around LoadBalancer boundary.

 .../src/main/scala/whisk/common/Counter.scala      | 10 ++++----
 .../whisk/core/connector/MessageProducer.scala     |  2 +-
 .../main/scala/whisk/core/controller/Backend.scala | 29 ++++++++--------------
 .../scala/whisk/core/controller/RestAPIs.scala     | 25 +++++++++++++------
 .../core/entitlement/ActivationThrottler.scala     | 25 ++++---------------
 .../scala/whisk/core/entitlement/Entitlement.scala |  5 ++--
 .../whisk/core/entitlement/LocalEntitlement.scala  |  6 +++--
 .../whisk/core/entitlement/RemoteEntitlement.scala |  4 ++-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  4 +--
 .../core/loadBalancer/LoadBalancerService.scala    |  3 +--
 .../core/loadBalancer/LoadBalancerToKafka.scala    | 25 ++++---------------
 .../scala/whisk/core/container/Container.scala     |  2 +-
 .../scala/whisk/core/container/ContainerPool.scala | 14 +++++------
 .../main/scala/whisk/core/invoker/Invoker.scala    |  4 +--
 .../controller/test/ControllerTestCommon.scala     |  8 +++---
 15 files changed, 71 insertions(+), 95 deletions(-)

commit 130e50a371ada0b3fc0930417835635b7f70adce
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Sep 28 13:39:35 2016 -0400

    Colorize Error Message on Windows
    
    - Dislplay error prefix in color on Windows OS

 tools/cli/go-whisk-cli/main.go | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit 804aaecc0906bca30d00adced250277a75d0a576
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Sep 9 15:18:03 2016 -0400

    Prevent Entity Names from being Modified
    
    - Display un-URL encoded entity names to the for actions, packages, and triggers
    - Add tests to ensure actions, packages, and triggers can be created with names that contain spaces

 tests/src/system/basic/WskBasicTests.scala | 36 ++++++++++++++++++++++++++++++
 tools/cli/go-whisk/whisk/action.go         |  4 ++--
 tools/cli/go-whisk/whisk/rule.go           |  4 ++--
 tools/cli/go-whisk/whisk/trigger.go        |  4 ++--
 4 files changed, 42 insertions(+), 6 deletions(-)

commit fc51a4f3ff8f9965e873dbb9dd2f3d86617902be
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Sep 21 10:52:05 2016 -0400

    Update JSON Index for CLI Download
    
    - Ensure content.json exists
    - Uses double qoutes instead of single qoutes in content.json
    - Add test to ensure content.json exists
    - Add test to ensure content.json contains the correct information

 tests/src/system/rest/GoCLINginxTests.scala | 147 ++++++++++++++--------------
 tools/cli/build.sh                          |  10 +-
 2 files changed, 77 insertions(+), 80 deletions(-)

commit 3ae89ca7611e2ab2a932cbdd5b9351a92d21a4d2
Author: Simon Kaegi <simon.kaegi@gmail.com>
Date:   Fri Sep 30 16:11:51 2016 -0400

    correcting path to build output "wsk" in README

 tools/cli/README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b1ca2a64ab50adbdea1eb3f4e09dc7f483a7093a
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Aug 23 14:15:06 2016 -0400

    Reduce CLI  Executable Size by ~21%
    
    - Using the latest version of Go reduces the CLI file size by ~21%

 tools/cli/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b8fa8ba14923ee4cdd0e593a05ec6525388efb5b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Sep 28 19:23:36 2016 -0400

    Add space in error message.

 common/scala/src/main/scala/whisk/core/entity/ActivationResult.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9474145379cd1866bf14c05a9a4a1c7d666467d0
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Oct 4 11:08:45 2016 +0200

    fix missing invoker parallel docker operations flag.

 ansible/templates/whisk.properties.j2 | 2 ++
 1 file changed, 2 insertions(+)

commit ff7a21fa9de5e53a1d4b6a7636c98ebe1d0ddae6
Author: Paul Castro <castrop@us.ibm.com>
Date:   Mon Oct 3 19:28:08 2016 -0400

    Issue #1360, restore spm build

 core/swift3Action/Dockerfile           |  5 +----
 core/swift3Action/swift3runner.py      |  4 ++--
 core/swift3Action/swiftbuildandlink.sh | 13 -------------
 3 files changed, 3 insertions(+), 19 deletions(-)

commit 2afb0428d61f0f102b6906176352ec8b7d420baa
Author: Perry <perry@us.ibm.com>
Date:   Fri Sep 30 16:12:51 2016 -0400

    Introduce bounded slack between container removal and creation.

 .../src/main/scala/whisk/core/container/ContainerPool.scala    | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 736fbb76ee3762ae5f14efd804c777dbcf106a1a
Author: Paul Castro <castrop@us.ibm.com>
Date:   Mon Sep 26 18:46:04 2016 -0400

    Add manual compilation to Swift 3 action container
    
    Fixes #1329.

 core/swift3Action/Dockerfile                       | 15 +++++++++------
 core/swift3Action/spm-build/Package.swift          |  6 +++---
 core/swift3Action/swift3runner.py                  |  5 ++---
 core/swift3Action/swiftbuildandlink.sh             | 13 +++++++++++++
 .../Swift3ActionContainerTests.scala               | 10 ++++++++++
 .../SwiftActionContainerTests.scala                | 22 ++++++++++++----------
 6 files changed, 49 insertions(+), 22 deletions(-)

commit 30a086de0815a8532f4fba20ba9b2347b7d9b299
Author: perryibm <perry@us.ibm.com>
Date:   Thu Sep 29 11:53:50 2016 -0400

    Do not save container log by default. (#1339)
    
    Run stem cell container on a scheduled Future (but after killStragglers has finished).
    Include toBeRemoved in slack calculation.

 .../main/scala/whisk/common/TransactionId.scala    |  9 ++--
 .../scala/whisk/core/container/ContainerPool.scala | 58 ++++++++++++++--------
 .../core/container/test/ContainerPoolTests.scala   |  2 +-
 3 files changed, 43 insertions(+), 26 deletions(-)

commit 642195b07b8592e85b6601e03bb0dbb00bba4aac
Author: cbickel <github@cbickel.de>
Date:   Wed Sep 28 17:18:31 2016 +0200

    Wrap Kafka Consummer onMessage with exception handling.
    
    * Make KafkaConsumerConnector resilient to commit exceptions #1043
    
    * Code review rework
    
    * Code review

 .../connector/kafka/KafkaConsumerConnector.scala   | 20 +++++---
 tests/src/services/KafkaConnectorTests.scala       | 60 +++++++++++++++++++++-
 2 files changed, 71 insertions(+), 9 deletions(-)

commit dee761c07449c9636c0b0999c1b352f1e4dfd87e
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Sep 27 23:46:37 2016 -0400

    Add new var concurrentInSystem to local mac environment

 ansible/environments/mac/group_vars/all | 1 +
 1 file changed, 1 insertion(+)

commit 02837ecd21654833fbe7addd84ef6c7832f39e6b
Author: Perry <perry@us.ibm.com>
Date:   Tue Sep 27 18:15:44 2016 -0400

    Tweak parameter as short term fix until consul work is completed

 tests/src/limits/ThrottleTests.scala | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 86956e277b69cc033f452b0d86ab4495250f29f8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Sep 2 07:40:08 2016 +0200

    Localize `isOverload` check to ActivationThrottle
    
    Reduces the load on consul by not unnecessarily getting system-overload information out of it. This information is already in the controller anyway.
    
    - Some refactoring around loadbalancer health logging
    - Reducing loglevel of one log to info (was warn)

 ansible/environments/local/group_vars/all          |  1 +
 ansible/group_vars/all                             |  1 +
 ansible/templates/whisk.properties.j2              |  2 ++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  4 ++-
 .../core/entitlement/ActivationThrottler.scala     | 15 ++++++----
 .../scala/whisk/core/entitlement/Entitlement.scala | 33 +++++-----------------
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  9 ++++--
 .../core/loadBalancer/LoadBalancerService.scala    | 20 ++++++-------
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  6 +---
 9 files changed, 41 insertions(+), 50 deletions(-)

commit 875d4f53365c1e60ec958e71e11b1f5183ff9071
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Sep 7 14:36:27 2016 -0400

    Allow Namespace Get to Retrieve Different Namespaces
    
    - Fix defect that prevents 'namespace get' from getting different namespaces
    - Add a test that ensures 'namespace get' works on different namespaces, and displays the proper error message when the user cannot access a namespace
    
    Display More Informative Error Messages for Bad HTTP Requests
    
    - Display "connection failued, or timed out" when HTTP requests fail
    
    Update User-facing messages
    
    - Display the appropriate namespace with 'namespace get' fails
    - Remove "Request failed" error messages
    
    Update Displayed Entity Name, and Test
    
    - Dispaly "default" instead of "_" when showing namespaces
    - Expect "FORBIDDEN" exit code when "namespace get" is called on a namespage the user does not have access to
    
    Display Label Instead of Default Namespace
    
    - Show "default" instead of "_" when list namespaces
    
    Standardize Error Across List Commands
    
    - Use the same error message format across list commands

 tests/src/system/basic/WskBasicTests.scala         |  8 ++++
 tools/cli/go-whisk-cli/commands/action.go          |  5 +--
 tools/cli/go-whisk-cli/commands/activation.go      |  8 ++--
 tools/cli/go-whisk-cli/commands/namespace.go       | 26 +++++-------
 tools/cli/go-whisk-cli/commands/package.go         |  4 +-
 tools/cli/go-whisk-cli/commands/rule.go            |  5 +--
 tools/cli/go-whisk-cli/commands/trigger.go         |  8 ++--
 tools/cli/go-whisk-cli/commands/util.go            | 12 ++++++
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 40 +++++++++---------
 tools/cli/go-whisk/whisk/action.go                 | 25 +++---------
 tools/cli/go-whisk/whisk/activation.go             | 16 ++------
 tools/cli/go-whisk/whisk/client.go                 |  8 ++--
 tools/cli/go-whisk/whisk/info.go                   |  4 +-
 tools/cli/go-whisk/whisk/namespace.go              | 47 +++++++++++-----------
 tools/cli/go-whisk/whisk/package.go                | 20 +++------
 tools/cli/go-whisk/whisk/rule.go                   | 20 +++------
 tools/cli/go-whisk/whisk/sdk.go                    |  4 +-
 tools/cli/go-whisk/whisk/trigger.go                | 20 +++------
 .../cli/go-whisk/wski18n/resources/en_US.all.json  | 16 ++------
 19 files changed, 123 insertions(+), 173 deletions(-)

commit df619b7ffee567bdc58ecf43a92fe503da49f483
Author: Perry <perry@us.ibm.com>
Date:   Tue Sep 27 12:57:52 2016 -0400

    Make sure nanny thread is protected against exceptions.

 .../scala/whisk/core/container/ContainerPool.scala | 44 ++++++++++++----------
 1 file changed, 24 insertions(+), 20 deletions(-)

commit f0ccea56f71f8267f5e53aba4012754ee30c9182
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Sep 22 18:10:00 2016 -0400

    Bump Akka version.

 common/scala/build.gradle | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 840967448249d281ff11cd36973f051ca34ec1ab
Author: Paul Castro <castrop@us.ibm.com>
Date:   Fri Sep 23 17:26:35 2016 -0400

    Issue 1133, update Swift 3 container and tests

 core/swift3Action/Dockerfile                       |  29 +++---
 core/swift3Action/epilogue.swift                   |  35 ++++---
 core/swift3Action/spm-build/Package.swift          |   6 +-
 core/swift3Action/spm-build/Whisk.swift            | 109 +++++++++++----------
 core/swift3Action/swift3runner.py                  |   4 +-
 .../Swift3ActionContainerTests.scala               |  87 ++++++++--------
 .../SwiftActionContainerTests.scala                |  30 +++---
 7 files changed, 164 insertions(+), 136 deletions(-)

commit f63b5359c12a55d1ff2a890a7b1fba8b6224dc75
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Sep 26 11:10:08 2016 -0400

    Avoid printing object hashes in log messages related to containers.

 core/invoker/src/main/scala/whisk/core/container/Container.scala  | 8 ++++----
 .../src/main/scala/whisk/core/container/ContainerUtils.scala      | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 5aaf22e1d6f1a65bf9849f69c7130785b5edffe7
Author: Philippe Suter <philippe.suter@gmail.com>
Date:   Mon Sep 26 09:25:01 2016 -0400

    Raised payload size limit in nodejsaction proxy (#1324)
    
    Added a test that ensures "large" source files can be processed as actions.

 core/nodejsActionBase/app.js                       |  2 +-
 .../NodeJsActionContainerTests.scala               | 32 ++++++++++++++++++++++
 2 files changed, 33 insertions(+), 1 deletion(-)

commit 9e0e1dd684d2010ac8bba8bf2ae1648326c8deb1
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Fri Sep 23 15:49:40 2016 +0200

    add more log markers for load balancing and kafka connection to controller

 common/scala/src/main/scala/whisk/common/Logging.scala            | 8 ++++++++
 .../controller/src/main/scala/whisk/core/controller/Actions.scala | 3 ++-
 .../main/scala/whisk/core/loadBalancer/LoadBalancerToKafka.scala  | 7 ++++++-
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 650dcedbde59f9dfdfdc4bb8a3d87f84911b7361
Author: Perry <perry@us.ibm.com>
Date:   Fri Sep 23 11:07:25 2016 -0400

    Move initWhiskContainer to outside of container creation path.  Adjust types.

 .../scala/whisk/core/container/ContainerPool.scala | 60 ++++++++++------------
 .../main/scala/whisk/core/container/package.scala  |  4 +-
 2 files changed, 28 insertions(+), 36 deletions(-)

commit bb2f6f8cdc5e44e804e71de7413c21169fae1efc
Author: Perry <perry@us.ibm.com>
Date:   Tue Sep 20 16:46:30 2016 -0400

    Cleanup of case types to make intent and abstraction clearer.
    Eliminate distinction of Container and WhiskContainer in ContainerPool.
    
    Clean up the datatypes and separate concerns.

 .../scala/whisk/core/container/ContainerPool.scala | 113 +++++++++++----------
 .../main/scala/whisk/core/container/package.scala  |  19 ++--
 2 files changed, 69 insertions(+), 63 deletions(-)

commit bd12935a71eabce39ca39fcf60e0006836bd2f63
Author: Kalonji Bankole <kkbankol@us.ibm.com>
Date:   Mon Aug 29 12:06:50 2016 -0400

    Adding support for openstack persistent volumes.

 ansible/README_DISTRIBUTED.md                      | 30 +++++++++----
 ansible/boot_instances_dist.yml                    | 49 +++++++++++++++++-----
 ansible/environments/distributed/group_vars/all    | 11 ++++-
 .../environments/distributed/templates/hosts.j2    | 13 ++++++
 ansible/provision_env_dist.yml                     | 47 ++++++++++++++++-----
 ansible/roles/couchdb/tasks/deploy.yml             | 11 +++++
 6 files changed, 131 insertions(+), 30 deletions(-)

commit dc15c8104b8ed8fb137bd8ace88a11b3c2e1814a
Author: Perry <perry@us.ibm.com>
Date:   Thu Sep 22 18:40:16 2016 -0400

    increase allowed action duration from 30 to 45 sec

 tests/src/whisk/core/cli/test/SwiftTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 163ed8bcce60cc739008c7a87a54a2963cc14dc8
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 22 06:21:25 2016 -0400

    Remove Try on activaton-wait, should these fail, the Try hides the underlying issue.

 tests/src/limits/ThrottleTests.scala | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 4461811a5b7e917139f96e0b02f90fc9139fb3e6
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Sep 21 14:02:40 2016 -0400

    Fixes two errors in invoke path:
    
    1. if docker pull fails for black box container, do not attempt to run container
    2. if action is a black box, set appropriate bits correctly
    
    Added test for running docker action with bogus name.

 .../main/scala/whisk/core/connector/Message.scala  |  10 +-
 .../src/main/scala/whisk/core/entity/DocInfo.scala |  11 ++
 .../main/scala/whisk/core/entity/EntityPath.scala  |   9 +-
 .../main/scala/whisk/core/controller/Actions.scala |   3 +-
 .../scala/whisk/core/container/ContainerPool.scala |  34 ++--
 .../whisk/core/container/ContainerUtils.scala      |  14 +-
 .../main/scala/whisk/core/container/package.scala  |  10 +-
 .../whisk/core/dispatcher/ActivationFeed.scala     |   4 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    | 171 +++++++++------------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  19 +++
 .../core/dispatcher/test/DispatcherTests.scala     |  18 ++-
 tests/src/whisk/core/entity/test/SchemaTests.scala |  17 ++
 12 files changed, 183 insertions(+), 137 deletions(-)

commit 82fd93f4939b61f3d8756ab8446184c2f406edbe
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Sep 16 18:28:08 2016 -0400

    Move wskadmin to tools/admin.

 .project                                        |  8 +-
 bin/wskadmin                                    |  2 +-
 {core/pythonAction/cli => tools/admin}/wskadmin |  0
 tools/admin/wskprop.py                          | 74 +++++++++++++++++++
 tools/admin/wskutil.py                          | 97 +++++++++++++++++++++++++
 tools/build/scanCode.py                         |  4 -
 tools/deploy/deployInvoker                      |  2 +-
 tools/health/isAlive                            |  7 +-
 tools/health/killComponent                      | 10 +--
 tools/health/kvstore                            |  7 +-
 tools/vagrant/Vagrantfile                       |  2 +-
 11 files changed, 187 insertions(+), 26 deletions(-)

commit ee3283173ec0cbbeb55643fc42633d9469fd82c8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Sep 21 14:07:40 2016 +0200

    Reading old invoker state upon startup

 .../src/main/scala/whisk/common/Counter.scala      |  5 ++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 54 +++++++++++++---------
 2 files changed, 38 insertions(+), 21 deletions(-)

commit 555841b89da0375f6955069cbc7053015b7abbac
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Sep 21 21:33:54 2016 -0400

    Fix names derived from container names

 core/invoker/src/main/scala/whisk/core/container/Container.scala     | 4 ++--
 core/invoker/src/main/scala/whisk/core/container/ContainerPool.scala | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c426acef1af4bb0fbb780a922372dfb8282a8c7a
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Sep 21 11:09:31 2016 -0400

    Revert to Apache HTTP client for invoker->containers communication
    
    Note that the unit tests still use Akka HTTP.

 .../whisk/core/container/WhiskContainer.scala      | 34 ++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit 2e9a0edd4a00e66826f3ee4cd54469c0d66dee50
Author: Perry <perry@us.ibm.com>
Date:   Wed Sep 21 16:43:54 2016 -0400

    Remove throttle tightening.

 tests/src/limits/ThrottleTests.scala | 15 +++++++++------
 1 file changed, 9 insertions(+), 6 deletions(-)

commit e18878c49e5c13f9d02bec10455c487c9902ed13
Author: Paul Castro <castrop@us.ibm.com>
Date:   Tue Sep 20 15:04:32 2016 -0400

    Issue #1296 Update starter app for Xcode 8 GM

 docs/actions.md                                    |  90 ++++++++++-----------
 docs/mobile_sdk.md                                 |  26 ++++--
 docs/reference.md                                  |   1 +
 mobile/iOS/starterapp/Cartfile                     |   2 +-
 .../OpenWhiskStarterApp.xcodeproj/project.pbxproj  |  16 +++-
 .../UserInterfaceState.xcuserstate                 | Bin 18945 -> 21198 bytes
 .../xcschemes/OpenWhiskStarterApp.xcscheme         |   2 +-
 .../OpenWhiskStarterApp/AppDelegate.swift          |  12 +--
 .../OpenWhiskStarterApp/Base.lproj/Main.storyboard |  55 ++++++-------
 .../OpenWhiskStarterApp/FilterForecast.swift       |  58 ++++++-------
 .../ResultSetTableController.swift                 |  24 +++---
 .../SelfSignedNetworkDelegate.swift                |   6 +-
 .../iOS/starterapp/OpenWhiskStarterApp/Utils.swift |  47 ++++++-----
 .../OpenWhiskStarterApp/ViewController.swift       |  30 +++----
 mobile/iOS/starterapp/Podfile                      |  13 ++-
 15 files changed, 204 insertions(+), 178 deletions(-)

commit be237bfd03c2c9ff54fad7ce89449c32e45cc6cb
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Sep 3 20:32:26 2016 -0400

    Adjust throttle tests to settle correctly should test fail.

 ansible/environments/mac/group_vars/all |   9 +++
 tests/src/limits/ThrottleTests.scala    | 115 ++++++++++++++++++++------------
 2 files changed, 82 insertions(+), 42 deletions(-)

commit 3c71b3dd45ef1522ec8e08e99d523efdce7d1c75
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Sep 21 09:54:45 2016 +0200

    Change missleading error messages of throttling

 common/scala/src/main/scala/whisk/http/ErrorResponse.scala | 4 ++--
 tests/src/limits/ThrottleTests.scala                       | 3 ---
 2 files changed, 2 insertions(+), 5 deletions(-)

commit e46c8aa701dc794ab1bd67fec70a2206fec14a6a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Sep 19 17:00:23 2016 -0400

    Remove unnecessary use of DocInfo on DB get where DocId is sufficient.

 .../whisk/core/database/DocumentFactory.scala      | 10 ++++----
 .../main/scala/whisk/core/entity/WhiskAction.scala |  4 ++--
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  2 +-
 .../main/scala/whisk/core/controller/Actions.scala |  5 ++--
 .../scala/whisk/core/controller/ApiUtils.scala     |  8 +++----
 .../scala/whisk/core/controller/Packages.scala     |  4 ++--
 .../main/scala/whisk/core/controller/Rules.scala   | 15 ++++++------
 .../whisk/core/entitlement/PackageCollection.scala |  2 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 .../core/controller/test/AuthenticateTests.scala   |  2 +-
 .../controller/test/ControllerTestCommon.scala     | 12 +++++-----
 .../whisk/core/controller/test/RulesApiTests.scala | 28 +++++++++++-----------
 .../core/controller/test/TriggersApiTests.scala    |  2 +-
 tests/src/whisk/core/database/test/DbUtils.scala   |  8 +++----
 .../whisk/core/entity/test/DatastoreTests.scala    | 20 ----------------
 15 files changed, 52 insertions(+), 72 deletions(-)

commit f3511e4772029b0bf0d31b7a04356a702e65d77d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 15 01:53:03 2016 -0400

    Report ongoing build cursor.
    Detect job exceeded limit and report it on build completion.
    Strip html tags more cleanly.

 tools/build/citool | 26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit 5c8f5b751375971508cea0ab417d49bd41f31b8a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Sep 19 22:55:44 2016 -0400

    Fix redo for CLI.

 tests/src/system/basic/WskActionTests.scala | 2 --
 tools/build/redo                            | 6 ++----
 2 files changed, 2 insertions(+), 6 deletions(-)

commit a9ebadfa454434e4998a39dfb7a5b82159cac1f1
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Sep 9 09:33:08 2016 +0200

    Add activation annotations.
    
    Add fully qualified action name to the activation.
    Add the action limits to the activation.
    Add Annotations to the Activation-response of the CLI.
    Add test to check if the annotations have been set during invocation.

 .../main/scala/whisk/core/invoker/Invoker.scala    | 22 ++++---
 tests/src/common/WskTestHelpers.scala              |  4 +-
 tests/src/system/basic/WskActionTests.scala        |  2 +
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 72 +++++++++++++++-------
 tools/cli/go-whisk/whisk/activation.go             |  2 +
 5 files changed, 70 insertions(+), 32 deletions(-)

commit dbc0e8f997fe67d3624ce9d02de287fd76d53d96
Author: Perry <perry@us.ibm.com>
Date:   Fri Sep 9 14:52:06 2016 -0400

    Delete hourly limits.  Change limits to defaultLimits.
    
    Add limit override.  Override local config.  Simplify throttle test, use new limits, and fix various bugs.

 ansible/environments/local/group_vars/all          |  9 +++
 ansible/group_vars/all                             |  5 +-
 ansible/templates/whisk.properties.j2              |  8 +-
 .../scala/src/main/scala/whisk/common/Config.scala | 12 +--
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 25 +++---
 .../scala/whisk/core/controller/Controller.scala   |  4 +-
 .../core/entitlement/ActivationThrottler.scala     |  5 ++
 .../scala/whisk/core/entitlement/Entitlement.scala | 17 ++--
 .../whisk/core/entitlement/RateThrottler.scala     |  7 +-
 tests/src/limits/ThrottleTests.scala               | 92 +++++++++++++++-------
 tests/src/whisk/core/WhiskConfigTests.scala        |  4 +-
 11 files changed, 124 insertions(+), 64 deletions(-)

commit ff823d5bd33b9c603a2993d70b9004f013e9ff5c
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon Sep 19 13:27:41 2016 -0400

    Update whisk.invoke() and whisk.trigger() doc
    
    Clarify what `blocking` means
    Remove references to `next` callback

 docs/reference.md | 86 ++++++++++++++++++++++---------------------------------
 1 file changed, 35 insertions(+), 51 deletions(-)

commit 06225e2b51944f73e67ed38e93249c129643456b
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Sep 8 03:25:51 2016 -0400

    Update Go CLI Dockerfile
    
    - Rename compressed files
    - Make tar.gz extensions .tgz
    - Create content.json containing directory index

 tests/src/system/rest/GoCLINginxTests.scala |  41 ++++++-----
 tools/cli/Dockerfile                        |  36 +---------
 tools/cli/build.sh                          | 105 ++++++++++++++++++++++++++++
 3 files changed, 132 insertions(+), 50 deletions(-)

commit 750bba594329fb382b84cd61743559638fb4c73f
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Sat Sep 17 20:29:22 2016 -0400

    Allow Namespace to be Set When Setting an API Host
    
    - Fix bug that prevents a namespace from being set at the same time the API is set
    - Add test to ensure this case always works

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala | 15 +++++++++++++++
 tools/cli/go-whisk-cli/commands/commands.go            |  4 ++--
 tools/cli/go-whisk-cli/commands/property.go            |  8 ++++----
 tools/cli/go-whisk-cli/commands/util.go                |  6 +++---
 4 files changed, 24 insertions(+), 9 deletions(-)

commit 52324284b8310552c8738dccaf44127de699ec15
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Mon Sep 19 14:21:09 2016 +0200

    Using consul image from Dockerhub (#1280)
    
    - Bumping consul version to 0.7.0
    - simplifying configuration file (to be resurrected later when actually building a cluster)
    - adjusted redo
    - removed own Dockerfile

 ansible/roles/consul/tasks/deploy.yml         |  9 ++-------
 ansible/roles/consul/templates/config.json.j2 | 24 +++---------------------
 services/consul/.classpath                    |  6 ------
 services/consul/Dockerfile                    | 23 -----------------------
 services/consul/build.gradle                  |  3 ---
 settings.gradle                               |  1 -
 tools/build/redo                              |  3 +--
 7 files changed, 6 insertions(+), 63 deletions(-)

commit 67124de8bf9b03ae7447c12db108da8feb302662
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Sep 17 00:27:51 2016 +0200

    Bump gradle version to 3.0

 gradle/wrapper/gradle-wrapper.jar        | Bin 53639 -> 52818 bytes
 gradle/wrapper/gradle-wrapper.properties |   4 +--
 gradlew                                  |  51 ++++++++++++++++++-------------
 gradlew.bat                              |  12 ++------
 4 files changed, 35 insertions(+), 32 deletions(-)

commit 6152dbad30e9df58763c94a06674def61922c5d0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Sep 13 19:46:07 2016 -0400

    Support limited scope authkeys.
    
    When checking if identity is authorized for an operation, check the allowed rights associated with the key and reject authentication appropriately.
    
    Add Identity type.
    Move Privilege class to common.
    Make Privilege an enumeration and add CRUD and ALL sets.
    Modify authenticate directive to provide an identity.
    Use Identity instead of WhiskAuth in router.
    Use Identity in entitlement check instead of Subject.
    
    Add test for activation only key confirming lack of CRUD rights.
    Consolidated RejectRequest error messages to a new singelton.
    Refactored Authentication traits to be Promise-less. (Adopted from @markusthoemmes.)

 .../main/scala/whisk/core/connector/Message.scala  |   4 +-
 .../scala/whisk/core/entitlement/Privilege.scala   |  18 ++-
 .../src/main/scala/whisk/core/entity/AuthKey.scala |  19 +++-
 .../main/scala/whisk/core/entity/EntityPath.scala  |   1 +
 .../src/main/scala/whisk/core/entity/Subject.scala |   9 +-
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |   3 +-
 .../src/main/scala/whisk/http/ErrorResponse.scala  |  27 ++++-
 .../main/scala/whisk/core/controller/Actions.scala |  36 +++---
 .../scala/whisk/core/controller/Activations.scala  |   8 +-
 .../scala/whisk/core/controller/ApiUtils.scala     |  24 ++--
 .../scala/whisk/core/controller/Authenticate.scala |  41 +++----
 .../whisk/core/controller/AuthenticatedRoute.scala |  21 ++--
 .../controller/AuthorizedRouteDispatcher.scala     |  16 +--
 .../scala/whisk/core/controller/Entities.scala     |   8 +-
 .../scala/whisk/core/controller/Namespaces.scala   |   8 +-
 .../scala/whisk/core/controller/Packages.scala     |   4 +-
 .../main/scala/whisk/core/controller/Rules.scala   |   5 +-
 .../scala/whisk/core/controller/Triggers.scala     |   8 +-
 .../scala/whisk/core/entitlement/Collection.scala  |   3 +-
 .../scala/whisk/core/entitlement/Entitlement.scala | 124 ++++++++++++---------
 .../whisk/core/entitlement/LocalEntitlement.scala  |   6 +-
 .../whisk/core/entitlement/PackageCollection.scala |   1 +
 .../whisk/core/entitlement/RemoteEntitlement.scala |   6 +-
 .../scala/whisk/core/container/ContainerPool.scala |   6 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  76 ++++---------
 tests/src/limits/ThrottleTests.scala               |  15 ++-
 tests/src/whisk/core/admin/WskAdminTests.scala     |   4 +-
 .../core/container/test/ContainerPoolTests.scala   |   4 +-
 .../core/controller/test/ActionsApiTests.scala     |  12 +-
 .../core/controller/test/ActivationsApiTests.scala |   2 +-
 .../core/controller/test/AuthenticateTests.scala   |   8 +-
 .../core/controller/test/AuthorizeTests.scala      |  59 +++++++---
 .../core/controller/test/NamespacesApiTests.scala  |   2 +-
 .../controller/test/PackageActionsApiTests.scala   |  30 ++---
 .../core/controller/test/PackagesApiTests.scala    |  22 ++--
 .../whisk/core/controller/test/RulesApiTests.scala |   2 +-
 .../core/controller/test/TriggersApiTests.scala    |   2 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   4 +-
 38 files changed, 345 insertions(+), 303 deletions(-)

commit f2ad87c54ab65c8e184e52ffc50a7454bbb3e885
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Sep 17 01:36:23 2016 +0200

    Using zookeeper image from Dockerhub
    
    - adjusted redo
    - removed own Dockerfile

 ansible/roles/kafka/tasks/deploy.yml |  6 +-----
 services/zookeeper/Dockerfile        | 17 -----------------
 services/zookeeper/build.gradle      |  3 ---
 settings.gradle                      |  1 -
 tools/build/redo                     |  9 ++-------
 5 files changed, 3 insertions(+), 33 deletions(-)

commit ca4992f870a25b5ca980fea9a85b42cc864fefaa
Author: Vincent Hou <shou@us.ibm.com>
Date:   Tue Sep 13 14:46:13 2016 -0400

    Add the deprecation script
    
    This patch adds a script to deprecate all the packages and actions,
    which have changed their names after the transition to openwhisk-catalog.
    
    The package util has renamed to utils, and echo action has moved from
    samples/echo to utils/echo.

 catalog/deprecate.sh | 99 ++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 99 insertions(+)

commit 31632bddb8401316fc2378242cb7d06b41dc72ca
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Sep 6 15:37:32 2016 -0400

    Remove All References to Python CLI from Ansible
    
    Remove Python CLI from Build
    
    - Modify build to no longer build the Python CLI
    - Update misc files containing references to the Python CLI
    
    Remove Python CLI Source
    
    - Delete the Python CLI source code
    
    Move "bin/go-cli" to "bin"
    
    - Move Go CLI from "bin/go-cli" to "bin"
    - Remove symlink to "bin/wsk"
    
    Move CLIs to Different Directories
    
    - Move tools/cli to core/pythonAction/cli
    - Move tools/go-cli to tools/cli
    - Rename go-cli Ansible tasks to cli

 ansible/edge.yml                                   |  1 -
 ansible/environments/distributed/group_vars/all    |  4 +-
 ansible/environments/local/group_vars/all          |  4 +-
 ansible/environments/mac/group_vars/all            |  4 +-
 ansible/group_vars/all                             |  2 +-
 ansible/roles/cli/tasks/clean.yml                  |  5 +-
 ansible/roles/cli/tasks/deploy.yml                 | 40 +++------
 ansible/roles/cli/tasks/main.yml                   |  2 +-
 ansible/roles/cli/templates/default.props.j2       |  2 -
 ansible/roles/go-cli/tasks/clean.yml               | 14 ----
 ansible/roles/go-cli/tasks/deploy.yml              | 29 -------
 ansible/roles/go-cli/tasks/main.yml                | 10 ---
 ansible/roles/nginx/templates/nginx.conf.j2        |  3 -
 ansible/roles/sdk/tasks/clean.yml                  |  4 +-
 bin/wsk                                            |  1 -
 bin/wskadmin                                       |  2 +-
 {tools => core/pythonAction}/cli/.pydevproject     |  0
 core/pythonAction/cli/Dockerfile                   | 12 +++
 core/pythonAction/cli/build.gradle                 | 54 ++++++++++++
 .../cli/packagescripts/DESCRIPTION.rst             |  0
 .../pythonAction}/cli/packagescripts/MANIFEST.in   |  0
 .../pythonAction}/cli/packagescripts/README.rst    |  0
 .../pythonAction}/cli/packagescripts/__init__.py   |  0
 .../pythonAction}/cli/packagescripts/setup.py      |  0
 {tools => core/pythonAction}/cli/wsk               |  0
 {tools => core/pythonAction}/cli/wskaction.py      |  0
 {tools => core/pythonAction}/cli/wskactivation.py  |  0
 {tools => core/pythonAction}/cli/wskadmin          |  0
 {tools => core/pythonAction}/cli/wskitem.py        |  0
 {tools => core/pythonAction}/cli/wsknamespace.py   |  0
 {tools => core/pythonAction}/cli/wskpackage.py     |  0
 {tools => core/pythonAction}/cli/wskprop.py        |  0
 {tools => core/pythonAction}/cli/wskrule.py        |  0
 {tools => core/pythonAction}/cli/wsksdk.py         |  0
 {tools => core/pythonAction}/cli/wsktrigger.py     |  0
 {tools => core/pythonAction}/cli/wskutil.py        |  0
 settings.gradle                                    |  1 -
 tests/src/common/WhiskProperties.java              | 10 +--
 tests/src/common/Wsk.scala                         |  6 +-
 tools/build/redo                                   |  4 -
 tools/build/scanCode.py                            |  4 +-
 tools/cli/Dockerfile                               | 75 +++++++++++++++--
 tools/{go-cli => cli}/README.md                    |  0
 tools/cli/build.gradle                             | 95 ++++++++++++++--------
 .../go-whisk-cli/Godeps/Godeps.json                |  0
 tools/{go-cli => cli}/go-whisk-cli/Godeps/Readme   |  0
 .../go-whisk-cli/commands/action.go                |  0
 .../go-whisk-cli/commands/activation.go            |  0
 .../go-whisk-cli/commands/commands.go              |  0
 .../{go-cli => cli}/go-whisk-cli/commands/flags.go |  0
 .../go-whisk-cli/commands/namespace.go             |  0
 .../go-whisk-cli/commands/package.go               |  0
 .../go-whisk-cli/commands/property.go              |  0
 .../{go-cli => cli}/go-whisk-cli/commands/rule.go  |  0
 tools/{go-cli => cli}/go-whisk-cli/commands/sdk.go |  0
 .../go-whisk-cli/commands/trigger.go               |  0
 .../{go-cli => cli}/go-whisk-cli/commands/util.go  |  0
 tools/{go-cli => cli}/go-whisk-cli/commands/wsk.go |  0
 tools/{go-cli => cli}/go-whisk-cli/main.go         |  0
 .../go-whisk-cli/wski18n/detection.go              |  0
 tools/{go-cli => cli}/go-whisk-cli/wski18n/i18n.go |  0
 .../go-whisk-cli/wski18n/resources/de_DE.all.json  |  0
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  0
 .../go-whisk-cli/wski18n/resources/es_ES.all.json  |  0
 .../go-whisk-cli/wski18n/resources/fr_FR.all.json  |  0
 .../go-whisk-cli/wski18n/resources/it_IT.all.json  |  0
 .../go-whisk-cli/wski18n/resources/ja_JA.all.json  |  0
 .../go-whisk-cli/wski18n/resources/ko_KR.all.json  |  0
 .../go-whisk-cli/wski18n/resources/pt_BR.all.json  |  0
 .../wski18n/resources/zh_Hans.all.json             |  0
 .../wski18n/resources/zh_Hant.all.json             |  0
 tools/{go-cli => cli}/go-whisk/whisk/action.go     |  0
 tools/{go-cli => cli}/go-whisk/whisk/activation.go |  0
 tools/{go-cli => cli}/go-whisk/whisk/client.go     |  0
 tools/{go-cli => cli}/go-whisk/whisk/info.go       |  0
 tools/{go-cli => cli}/go-whisk/whisk/namespace.go  |  0
 tools/{go-cli => cli}/go-whisk/whisk/package.go    |  0
 tools/{go-cli => cli}/go-whisk/whisk/rule.go       |  0
 tools/{go-cli => cli}/go-whisk/whisk/sdk.go        |  0
 tools/{go-cli => cli}/go-whisk/whisk/shared.go     |  0
 tools/{go-cli => cli}/go-whisk/whisk/trace.go      |  0
 tools/{go-cli => cli}/go-whisk/whisk/trigger.go    |  0
 tools/{go-cli => cli}/go-whisk/whisk/util.go       |  0
 tools/{go-cli => cli}/go-whisk/whisk/wskerror.go   |  0
 .../{go-cli => cli}/go-whisk/wski18n/detection.go  |  0
 tools/{go-cli => cli}/go-whisk/wski18n/i18n.go     |  0
 .../go-whisk/wski18n/resources/de_DE.all.json      |  0
 .../go-whisk/wski18n/resources/en_US.all.json      |  0
 .../go-whisk/wski18n/resources/es_ES.all.json      |  0
 .../go-whisk/wski18n/resources/fr_FR.all.json      |  0
 .../go-whisk/wski18n/resources/it_IT.all.json      |  0
 .../go-whisk/wski18n/resources/ja_JA.all.json      |  0
 .../go-whisk/wski18n/resources/ko_KR.all.json      |  0
 .../go-whisk/wski18n/resources/pt_BR.all.json      |  0
 .../go-whisk/wski18n/resources/zh_Hans.all.json    |  0
 .../go-whisk/wski18n/resources/zh_Hant.all.json    |  0
 tools/deploy/deployInvoker                         |  2 +-
 tools/go-cli/Dockerfile                            | 69 ----------------
 tools/go-cli/build.gradle                          | 78 ------------------
 tools/health/isAlive                               |  2 +-
 tools/health/killComponent                         |  2 +-
 tools/health/kvstore                               |  3 +-
 tools/vagrant/README.md                            |  4 +-
 tools/vagrant/Vagrantfile                          |  4 +-
 104 files changed, 234 insertions(+), 318 deletions(-)

commit e33ead32224e1a640c906cd0cfb155dcda44ad7a
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Sep 15 15:48:41 2016 -0400

    Upload logs to Box when build completes.
    
    Uses a write-only forwarder to avoid storing credentials.

 .travis.yml                |  1 +
 tools/travis/box-upload.py | 39 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 40 insertions(+)

commit acd93d5a10a9b3b8695fd36a1f41d700743379bd
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Sep 16 20:20:37 2016 +0200

    docker rm instead of outdated ansible for now.

 ansible/roles/go-cli/tasks/deploy.yml | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit e07f1980f3de6b6bf101bdf597f3c777dc4b645f
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Thu Sep 15 17:40:36 2016 -0400

    Use variable to represent CLI executable path

 ansible/group_vars/all                    | 2 ++
 ansible/tasks/installOpenwhiskCatalog.yml | 2 +-
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 8cceedec5e19b7d61a6291d1c7cc4efa2a0994ce
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Thu Sep 15 09:58:03 2016 -0400

    updating test actions to use promises

 tests/dat/actions/countdown.js | 10 +---------
 tests/dat/actions/ping.js      | 28 +++++++++++++++-------------
 tests/dat/actions/wcbin.js     | 32 +++++++++++++-------------------
 3 files changed, 29 insertions(+), 41 deletions(-)

commit a5c6b8a85314fa6404b33f8c895ae7865d1f1147
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Sep 15 11:26:23 2016 -0400

    All Protocol to be Set for API Hosts
    
    - All different protocols to be used with the API hosts

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala |  2 +-
 tools/go-cli/go-whisk-cli/commands/commands.go         |  5 ++---
 tools/go-cli/go-whisk-cli/commands/property.go         | 17 ++++++-----------
 tools/go-cli/go-whisk-cli/commands/util.go             | 12 ++++++++++++
 4 files changed, 21 insertions(+), 15 deletions(-)

commit 1811fb29debe39a738851565623e2c631e29361c
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 8 15:25:12 2016 -0400

    Read configuration only once from Consul/File.
    Add loadbalancer system id (sid).
    Make system overload flag a boolean.

 common/scala/src/main/scala/whisk/common/Config.scala          |  6 +++---
 common/scala/src/main/scala/whisk/common/TransactionId.scala   |  1 +
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala       |  4 +---
 .../scala/whisk/core/entitlement/ActivationThrottler.scala     |  5 +++--
 .../src/main/scala/whisk/core/entitlement/Entitlement.scala    | 10 +++++-----
 .../src/main/scala/whisk/core/loadBalancer/InvokerHealth.scala |  3 ++-
 .../scala/whisk/core/loadBalancer/LoadBalancerService.scala    |  3 ++-
 7 files changed, 17 insertions(+), 15 deletions(-)

commit 4d9b7c6f40e736bb0c85d712654dc82e90e602fb
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Aug 24 14:14:56 2016 -0400

    Display Params in Package, and Action Summaries
    
    - Add functionality to display parameter(s) specified in a package's annotations
    - Add functionality to display parameter(s) specified in an action's annotations
    
    Display Params in Trigger Summaries
    
    - Add functionality to display parameter(s) specified in a triggers's annotations
    
    Add Summary Tests
    
    - Add package, and action summary tests
    
    Add Status to Rule Summaries
    
    - Display the active status of a rule when displaying a rule summary

 tests/src/system/basic/WskBasicTests.scala         | 105 +++++++++++++++++++-
 tools/go-cli/go-whisk-cli/commands/action.go       |   2 +-
 tools/go-cli/go-whisk-cli/commands/rule.go         |   2 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go      |   4 +-
 tools/go-cli/go-whisk-cli/commands/util.go         | 106 +++++++++++++++++----
 .../go-whisk-cli/wski18n/resources/en_US.all.json  |  12 ++-
 6 files changed, 201 insertions(+), 30 deletions(-)

commit 841821e21690e4f812ab3d67ff7578cfbe1801a0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Sep 13 14:10:58 2016 -0400

    Reify types in ActivationMessage
    
    1. remove internal path in activation message
    2. remove dispatcher matching of internal path to handlers (since there is only 1 now per dispatcher)
    3. make fully qualified entity name a triple that includes an optional version
    4. thread activation namespace from controller to the invoker (where the activation namespace is semantically preserving)
    5. Simplify load balancer interface.

 .../main/scala/whisk/core/connector/Message.scala  |  13 +-
 .../main/scala/whisk/core/entity/EntityPath.scala  |  17 ++-
 .../main/scala/whisk/core/controller/Actions.scala |  12 +-
 .../main/scala/whisk/core/controller/Backend.scala |   4 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   2 +-
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  31 ++--
 .../scala/whisk/core/dispatcher/DispatchRule.scala |  50 ------
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |  54 +++----
 .../main/scala/whisk/core/dispatcher/Matcher.scala |  93 ------------
 .../whisk/core/dispatcher/MessageHandler.scala     |  38 +++++
 .../main/scala/whisk/core/invoker/Invoker.scala    |  23 ++-
 .../core/dispatcher/test/DispatcherTests.scala     |  15 +-
 .../whisk/core/dispatcher/test/MatcherTests.scala  | 167 ---------------------
 13 files changed, 122 insertions(+), 397 deletions(-)

commit fd003420e788229663902c33d0cf3997c6c7b982
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Sep 13 21:50:57 2016 -0400

    update docs based on move from util to utils

 docs/actions.md  | 21 +++++++++++----------
 docs/packages.md | 25 ++++++++++++++-----------
 2 files changed, 25 insertions(+), 21 deletions(-)

commit aef7885f8277977ef1a44cb81ea73db816edb007
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Sep 14 12:08:08 2016 -0400

    update vagrant and readmes with utils/echo

 README.md                     | 2 +-
 ansible/README_DISTRIBUTED.md | 2 +-
 docs/triggers_rules.md        | 2 +-
 tools/macos/README.md         | 2 +-
 tools/ubuntu-setup/README.md  | 2 +-
 tools/vagrant/README.md       | 8 ++++----
 tools/vagrant/Vagrantfile     | 2 +-
 7 files changed, 10 insertions(+), 10 deletions(-)

commit 2045795e1c4f2d9c1e7237a9d8716ec921945428
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Sep 12 23:29:26 2016 -0400

    Fix issues with tutorial/doc.
    
    - update 20 sec hello promise example (now 2 seconds)
    - temp fix for sequence tutorial (go cli doesn't read from file correctly)
    - fix python sample code (remove leading spaces)
    - temp fix for Docker actions (+x on build script because exec perm lost on extraction in go cli)

 docs/actions.md | 57 ++++++++++++++++++++++++++++++++-------------------------
 1 file changed, 32 insertions(+), 25 deletions(-)

commit 5efca26f33e3b57346a69fb98232283705e122d8
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Aug 29 11:42:12 2016 -0400

    Remove CLI Switches from Automated Test Suites
    
    - Remove Go/Python CLI test switches
    - Remove all references to the Python CLI from the automated tests
    - Update apihost and apibuild tests

 tests/src/common/WhiskProperties.java              | 14 -----
 tests/src/common/Wsk.scala                         | 62 ++++++--------------
 tests/src/limits/ThrottleTests.scala               |  2 +-
 tests/src/services/HeadersTests.scala              |  2 +-
 tests/src/system/basic/CLIJavaTests.scala          |  2 +-
 tests/src/system/basic/CLIPythonTests.scala        |  2 +-
 tests/src/system/basic/ConsoleTests.scala          |  2 +-
 tests/src/system/basic/PackageTests.scala          |  4 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  2 +-
 .../src/system/basic/WskActionSequenceTests.scala  |  2 +-
 tests/src/system/basic/WskActionTests.scala        |  2 +-
 tests/src/system/basic/WskBasicNodeTests.scala     |  3 +-
 tests/src/system/basic/WskBasicTests.scala         | 23 +++++---
 tests/src/system/basic/WskRuleTests.scala          |  3 +-
 tests/src/system/basic/WskSdkTests.scala           |  2 +-
 tests/src/system/rest/ActionSchemaTests.scala      |  2 +-
 tests/src/whisk/core/cli/test/SwiftTests.scala     |  2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 67 +++++++++++-----------
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  2 +-
 tools/go-cli/go-whisk-cli/commands/util.go         |  2 +-
 20 files changed, 84 insertions(+), 118 deletions(-)

commit 8bfdf8550fe3e7627e2aa6566daebe01103c4ef5
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Sep 13 11:24:35 2016 -0400

    Update Activiation List Help
    
    - Update help to show that an action name or namespace can be a positional argument

 tools/go-cli/go-whisk-cli/commands/activation.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit adac6c3e1e0f144e068b7ed7d97e5b18f21442ce
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Sep 12 11:35:09 2016 +0200

    Refactored docker.gradle to use a more declarative approach on parsing the docker version

 gradle/docker.gradle | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 1106555100fa613e55ab851aeb71b14f6372d9dc
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Sep 12 11:19:29 2016 +0200

    Add timing information to docker commands

 gradle/docker.gradle | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit d2d8cfc15bb0da7cfead58d588e8968d5a3579d1
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Sep 9 14:55:11 2016 -0400

    Remove Enable Flag from Rule Create
    
    - Remove the --enable flag from the "rule create" command as rules are enabled by default now

 tests/src/system/basic/WskBasicTests.scala           | 20 ++++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/flags.go          |  1 -
 tools/go-cli/go-whisk-cli/commands/rule.go           | 15 ---------------
 .../go-whisk-cli/wski18n/resources/en_US.all.json    |  4 ----
 4 files changed, 20 insertions(+), 20 deletions(-)

commit dd722eb0132db1796eceb38ff59be5f33850b034
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Aug 12 14:42:07 2016 -0400

    Update, and Refactor Invalid Argument Handling
    - Update invalid argument handling for activations, triggers, rules, and namespace
    - Refactor action and package invalid argument handling
    
    Update and Refactor Invalid Arg Testing
    
    - Refactor existing invalid argument tests
    - Add invalid argument testing for all untested commands
    
    Update Debug Message for Invalid Arguments
    
    - Display "exactly," "at least," or "no more than" message depending on number of arguments a commands expects
    
    Add Messages Regarding Optional Arguments
    
    - Display information about optional arguments when invalid arguments are provided
    
    Add No Argument Message
    
    - Inform the user that no arguments are required for "namespace list"

 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 227 ++++++++++-----------
 tools/go-cli/go-whisk-cli/commands/action.go       |  85 +-------
 tools/go-cli/go-whisk-cli/commands/activation.go   |  42 ++--
 tools/go-cli/go-whisk-cli/commands/namespace.go    |  11 +-
 tools/go-cli/go-whisk-cli/commands/package.go      |  91 +--------
 tools/go-cli/go-whisk-cli/commands/rule.go         |  88 +++-----
 tools/go-cli/go-whisk-cli/commands/trigger.go      |  66 ++----
 tools/go-cli/go-whisk-cli/commands/util.go         |  30 +++
 tools/go-cli/go-whisk-cli/main.go                  |  13 +-
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 104 ++++++----
 10 files changed, 301 insertions(+), 456 deletions(-)

commit ff76045158172e1558a3d3ab172137ebc47ba602
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Aug 30 16:36:17 2016 -0400

    add a test (currently ignored) for a rule with a packaged action.
    
    add a little information to 2 log messages.
    add EntityQName -- qualified name for an entity

 .../main/scala/whisk/core/entity/EntityPath.scala  |  7 +++++
 .../main/scala/whisk/core/controller/Rules.scala   |  4 +--
 .../whisk/core/controller/test/RulesApiTests.scala | 35 ++++++++++++++++++++++
 3 files changed, 44 insertions(+), 2 deletions(-)

commit c76cfc8eda99638966dca5284f36bf392c9cf757
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Sun Sep 11 14:41:03 2016 -0400

    update readme docs
    updates for main README about native dev
    updates for vagrant README more clear instructions
    updates for macos README to fix remove of pipe and bash

 README.md               |  4 ++--
 tools/macos/README.md   |  2 +-
 tools/vagrant/README.md | 43 ++++++++++++++++++++++++-------------------
 3 files changed, 27 insertions(+), 22 deletions(-)

commit 63d483a9acf9ee0fe416475a5254cd36672fda7c
Author: Vincent Hou <shou@us.ibm.com>
Date:   Wed Sep 7 10:30:23 2016 -0400

    Fix the typo of fullActioName
    
    This patch changes the wrong fullActioName into fullQualifiedName,
    and remove the assets in the test case.

 tests/src/system/basic/WskActionTests.scala | 19 ++-----------------
 1 file changed, 2 insertions(+), 17 deletions(-)

commit ac5c78e8be53f201786c9dd56de0ddddbd143cac
Author: Vincent Hou <shou@us.ibm.com>
Date:   Tue Sep 6 13:09:14 2016 -0400

    Remove the catalog
    
    Closes-Bug: #1165

 ansible/group_vars/all                             |   7 -
 ansible/postdeploy.yml                             |   5 +-
 ansible/tasks/installCatalog.yml                   |   7 -
 catalog/github/webhook.js                          |  95 ------
 catalog/installCatalog.sh                          |  26 --
 catalog/installGit.sh                              |  29 --
 catalog/installSlack.sh                            |  29 --
 catalog/installSystem.sh                           |  89 -----
 catalog/installWatson.sh                           | 146 ---------
 catalog/installWeather.sh                          |  31 --
 catalog/installWebSocket.sh                        |  41 ---
 catalog/samples/countdown.js                       |  26 --
 catalog/samples/curl.js                            |  31 --
 catalog/samples/echo.js                            |   6 -
 catalog/samples/greeting.js                        |  12 -
 catalog/samples/hello.js                           |   6 -
 catalog/samples/hello.py                           |   9 -
 catalog/samples/hello.swift                        |  10 -
 catalog/samples/helloAsync.js                      |  19 --
 catalog/samples/helloJava/build.gradle             |   9 -
 catalog/samples/helloJava/build/libs/helloJava.jar | Bin 1082 -> 0 bytes
 .../helloJava/src/main/java/hello/HelloJava.java   |  34 --
 catalog/samples/helloPromises.js                   |  30 --
 catalog/samples/httpGet.swift                      |  53 ---
 catalog/samples/invoke.swift                       |  16 -
 catalog/samples/printParams.js                     |  25 --
 catalog/samples/trigger.swift                      |   8 -
 catalog/samples/wc.js                              |  10 -
 catalog/samples/wc.swift                           |  15 -
 catalog/samples/wcbin.js                           |  29 --
 catalog/slack/post.js                              |  80 -----
 catalog/util.sh                                    |  74 -----
 catalog/utils/cat.js                               |  13 -
 catalog/utils/cat.swift                            |  17 -
 catalog/utils/date.js                              |   8 -
 catalog/utils/head.js                              |  14 -
 catalog/utils/head.swift                           |  21 --
 catalog/utils/pipe.js                              |  66 ----
 catalog/utils/sort.js                              |  14 -
 catalog/utils/sort.swift                           |  15 -
 catalog/utils/split.js                             |  14 -
 catalog/utils/split.swift                          |  20 --
 catalog/watson/languageId.js                       |  38 ---
 catalog/watson/speechToText.js                     | 119 -------
 catalog/watson/textToSpeech.js                     |  65 ----
 catalog/watson/translate.js                        | 210 ------------
 catalog/weather/forecast.js                        |  63 ----
 catalog/websocket/sendWebSocketMessageAction.js    |  62 ----
 tests/src/packages/GreetingTests.scala             |  74 -----
 tests/src/packages/SlackTests.scala                |  62 ----
 tests/src/packages/UtilsTests.scala                | 360 ---------------------
 tests/src/packages/websocket/WebSocketTests.scala  | 108 -------
 tools/travis/build.sh                              |   1 -
 53 files changed, 1 insertion(+), 2370 deletions(-)

commit cc5b003e8f905c5c056a42be7621aa9552c55be8
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Sat Sep 10 00:56:13 2016 -0400

    switch to use go cli for vagrant
    
    update main readme
    minor fix for macos readme
    added pip install for macos

 README.md                 | 17 +++++++-------
 tools/db/README.md        |  2 +-
 tools/macos/README.md     |  7 ++++--
 tools/vagrant/README.md   | 56 +++++++++++++++++++++--------------------------
 tools/vagrant/Vagrantfile | 55 ++++++++++++++++++++++++++++------------------
 5 files changed, 73 insertions(+), 64 deletions(-)

commit f031bb2f44b150b59db5a40cccbaab7d423d7dcd
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Sep 8 11:35:07 2016 +0200

    bump travis docker to 1.12.0
    
    Signed-off-by: Xin Cai <xincai@de.ibm.com>
    
    add service docker restart
    
    add docker info statements

 tools/travis/setup.sh | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit de77ac8b5bae611444a8b4dc74f0213e4fe54a96
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Aug 22 15:49:17 2016 -0400

    Save jars as attachments rather than inlined
    
    Change is fully backwards-compatible. Attachments are currently always retrieved with the WhiskAction (but are not cached). Future changes may involve retrieving the attachment only when creating a container or when explicitly requested.

 .../whisk/core/database/DocumentFactory.scala      | 14 +++-
 .../main/scala/whisk/core/entity/Attachments.scala | 73 ++++++++++++++++++++
 .../src/main/scala/whisk/core/entity/Exec.scala    | 20 ++++--
 .../main/scala/whisk/core/entity/WhiskAction.scala | 79 ++++++++++++++++++++++
 4 files changed, 176 insertions(+), 10 deletions(-)

commit 2076e236e64748347578a6881db45c764871ea5d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Aug 22 13:37:54 2016 -0400

    Expose attachment endpoints in CouchDbRestStore

 .../src/main/scala/whisk/common/Logging.scala      |   2 +
 .../scala/whisk/core/database/ArtifactStore.scala  |  18 +-
 .../whisk/core/database/CouchDbRestClient.scala    |   4 +-
 .../whisk/core/database/CouchDbRestStore.scala     | 181 ++++++++++++++-------
 .../whisk/core/database/DocumentFactory.scala      |  41 +++++
 .../database/test/CouchDbRestClientTests.scala     |  14 +-
 6 files changed, 188 insertions(+), 72 deletions(-)

commit 739fa019941b47504d638752a0e3bba9017cb8da
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Jun 24 22:24:08 2016 -0400

    Attachment put/get endpoints and related test.

 .../whisk/core/database/CloudantRestClient.scala   |  23 +--
 .../whisk/core/database/CouchDbRestClient.scala    | 173 +++++++++++----------
 .../whisk/core/database/CouchDbRestStore.scala     |   6 +-
 tests/src/common/WskActorSystem.scala              |   5 +-
 .../database/test/CouchDbRestClientTests.scala     |  95 ++++++++---
 .../database/test/ExtendedCouchDbRestClient.scala  |  44 ++++++
 6 files changed, 225 insertions(+), 121 deletions(-)

commit 2bf0f7d9a20f6caf61b01d3d8a3bae99a765d420
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Sep 9 12:31:18 2016 +0200

    make action names unique in WskRuleTests

 tests/src/system/basic/WskRuleTests.scala | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit 18d3b5f78605469aa7cefc230636c0dfca7ee52c
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Sep 8 18:27:24 2016 -0400

    fix js reference in docs actions.md

 docs/actions.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b6b455ff4df13c9b90fe99dab6f8638d0369efa
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Sep 8 17:09:47 2016 -0400

    update slack token refence
    and other minor formatting changes to sync with blue

 docs/about.md   | 2 +-
 docs/actions.md | 4 ++--
 docs/catalog.md | 6 +++---
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 13dbdb7daba9de8a2a65775b7dd2024b155e3667
Author: Alex Glikson <glikson@il.ibm.com>
Date:   Thu Sep 8 11:13:06 2016 +0300

    Minor formatting fix in feeds.md

 docs/feeds.md | 3 +++
 1 file changed, 3 insertions(+)

commit 8eacc173b85f4ded8fdefc94cb1451eb8c94256c
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Sep 6 16:57:33 2016 -0400

    Remove Swift SDK Placeholder
    
    - Remove references to the Swift SDK from the CLI

 tests/src/system/basic/WskSdkTests.scala                   |  5 -----
 tools/go-cli/go-whisk-cli/commands/sdk.go                  | 14 +++-----------
 tools/go-cli/go-whisk-cli/wski18n/resources/en_US.all.json | 12 ++++++------
 3 files changed, 9 insertions(+), 22 deletions(-)

commit de46808ee4fa1974c3eeeeef267ff197b8e889ff
Author: Xin Cai <xincai@de.ibm.com>
Date:   Wed Sep 7 14:40:09 2016 +0200

    check docker version before tagging

 gradle/docker.gradle | 10 +++++++++-
 1 file changed, 9 insertions(+), 1 deletion(-)

commit b0d4f070cd05f80e83cee582be369e7e4f285e9a
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Sep 1 10:14:51 2016 -0400

    Always use Default Locale
    
    - Use the default language en_US until externalized messages are translated
    
    Fix File Extension Case
    
    - Rename pt_BR.all.JSON to pt_BR.all.json

 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala              | 6 ++++++
 tools/go-cli/go-whisk-cli/wski18n/i18n.go                           | 5 +++--
 tools/go-cli/go-whisk/wski18n/i18n.go                               | 5 +++--
 .../go-whisk/wski18n/resources/{pt_BR.all.JSON => pt_BR.all.json}   | 0
 4 files changed, 12 insertions(+), 4 deletions(-)

commit e2a148a7ed7ad9b458cae1bb8aa26deb2af6cc00
Author: Hans Kristian Moen <hans.kristian.moen@gmail.com>
Date:   Mon Aug 22 13:37:02 2016 +0100

    Add notice about explicit passing in action sequence

 docs/actions.md | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 25a90f0376103fec89e1fc6b6bf52164159c7d50
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Sep 6 10:12:34 2016 -0400

    Update Go CLI Docs
    
    - Describe how the Go CLI is distributed
    - Deprecate the Python CLI
    
    Add HTTPS Proxy Information
    
    - Describe how to use an HTTPS proxy with the CLI

 docs/README.md | 42 +++++++++++++++++++++++++++++-------------
 1 file changed, 29 insertions(+), 13 deletions(-)

commit 8a693dc2a142f245f597d97235de5418bde4804f
Author: sjfink <sjfink@us.ibm.com>
Date:   Fri Sep 2 13:16:18 2016 -0400

    Rename Namespace to be EntityPath.
    
    No intended semantic change.

 .../entity/{Namespace.scala => EntityPath.scala}   | 36 +++++++++--------
 .../src/main/scala/whisk/core/entity/Subject.scala |  2 +-
 .../main/scala/whisk/core/entity/WhiskAction.scala |  2 +-
 .../scala/whisk/core/entity/WhiskActivation.scala  |  2 +-
 .../main/scala/whisk/core/entity/WhiskEntity.scala | 16 ++++----
 .../scala/whisk/core/entity/WhiskPackage.scala     |  8 ++--
 .../main/scala/whisk/core/entity/WhiskRule.scala   |  4 +-
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 12 +++---
 .../scala/whisk/core/entity/WhiskTrigger.scala     | 12 +++---
 .../main/scala/whisk/core/controller/Actions.scala | 20 +++++-----
 .../scala/whisk/core/controller/Activations.scala  | 14 +++----
 .../controller/AuthorizedRouteDispatcher.scala     | 10 ++---
 .../scala/whisk/core/controller/Entities.scala     | 12 +++---
 .../scala/whisk/core/controller/Namespaces.scala   |  6 +--
 .../scala/whisk/core/controller/Packages.scala     | 14 +++----
 .../main/scala/whisk/core/controller/Rules.scala   | 36 ++++++++---------
 .../scala/whisk/core/controller/Triggers.scala     | 16 ++++----
 .../scala/whisk/core/entitlement/Entitlement.scala |  8 ++--
 .../main/scala/whisk/core/invoker/Invoker.scala    |  6 +--
 .../core/container/test/ContainerPoolTests.scala   |  4 +-
 .../core/controller/test/ActionsApiTests.scala     |  6 +--
 .../core/controller/test/ActivationsApiTests.scala | 14 +++----
 .../core/controller/test/NamespacesApiTests.scala  | 12 +++---
 .../controller/test/PackageActionsApiTests.scala   | 26 ++++++------
 .../core/controller/test/PackagesApiTests.scala    | 16 ++++----
 .../whisk/core/controller/test/RulesApiTests.scala | 46 +++++++++++-----------
 .../core/controller/test/TriggersApiTests.scala    |  6 +--
 tests/src/whisk/core/database/test/DbUtils.scala   |  6 +--
 .../whisk/core/entity/test/DatastoreTests.scala    |  2 +-
 .../whisk/core/entity/test/MigrationEntities.scala |  4 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala |  6 +--
 tests/src/whisk/core/entity/test/ViewTests.scala   | 20 +++++-----
 32 files changed, 204 insertions(+), 200 deletions(-)

commit 5af07a2dc6293628179974badcdf6f49be75f4fd
Author: Perry <perry@us.ibm.com>
Date:   Tue Sep 6 14:22:09 2016 -0400

    Add flag to control docker operation serialization

 ansible/group_vars/all                             |  2 ++
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  4 ++++
 .../scala/whisk/core/container/ContainerPool.scala | 24 +++++++++++++++-------
 .../core/container/test/ContainerPoolTests.scala   |  6 +++++-
 4 files changed, 28 insertions(+), 8 deletions(-)

commit 313c67174980df4e19af65c38388c69dfad69d11
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Sep 2 21:44:42 2016 -0400

    Add more packages to base images.
    
    Additionally:
        - pinned versions
        - tests
        - added to reference doc

 core/actionProxy/Dockerfile                        |  2 +-
 core/pythonAction/Dockerfile                       | 20 +++++++++--
 docs/reference.md                                  | 39 ++++++++++++++++++++++
 .../DockerExampleContainerTests.scala              |  6 ++--
 .../PythonActionContainerTests.scala               | 37 ++++++++++++++++----
 5 files changed, 93 insertions(+), 11 deletions(-)

commit 7e8e679368021ba0825b73680ff9351452d92783
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Sep 2 08:10:32 2016 +0200

    Adding `requests` to the python container
    
    - Add the requests module to the python container
    - Add tests to assert that module installation for the python container works as expected.
    
    Solves #1190

 core/pythonAction/Dockerfile                       |  3 ++
 .../PythonActionContainerTests.scala               | 49 ++++++++++++++++++++++
 2 files changed, 52 insertions(+)

commit 78ff623d4fa95e35d751e189bb6917f284d7abf5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Sep 4 10:30:41 2016 -0400

    Remove Dockerfile.publish and rewrite existing out during deploy.
    
    Use ansible task to rewrite base image rather than have a second Dockerfile that will get out of sync.
    Add test to confirm base image name and inclusion of gcc.

 ansible/roles/sdk/tasks/deploy.yml       |  6 ++---
 sdk/docker/Dockerfile.publish            | 11 ---------
 tests/src/system/basic/WskSdkTests.scala | 41 +++++++++++++++++++++-----------
 3 files changed, 30 insertions(+), 28 deletions(-)

commit b3edff88552a6796ab2b05dcb827c6e59bb04f14
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Sep 2 18:14:06 2016 -0400

    Further explain request/response activations.

 docs/actions.md | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 0ba2f26e3fb42bda10b2635b3a33ed59514d9b59
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Sep 1 10:53:15 2016 +0200

    Throw NoSuchElementException in Consul, if 404 is returned on

 .../src/main/scala/whisk/common/ConsulClient.scala | 30 ++++++++--------------
 1 file changed, 11 insertions(+), 19 deletions(-)

commit a392ec983fd2602b4746b37f3d38bcf40556cbc2
Author: Vincent Hou <shou@us.ibm.com>
Date:   Sun Aug 28 13:02:43 2016 -0400

    Rewrite the tests to remove the dependency on installed catalog
    
    This patch removed te direct call to the installed catalog and
    refactor the test cases by creating local packages and actions for
    the local tests.
    
    Closes-Bug: #1164

 tests/dat/actions/countdown.js                     |  26 +++++
 tests/dat/actions/hello.py                         |   9 ++
 tests/dat/actions/hello.swift                      |  10 ++
 tests/dat/actions/helloAsync.js                    |  19 +++
 tests/dat/actions/helloJava.jar                    | Bin 0 -> 1082 bytes
 tests/dat/actions/httpGet.swift                    |  53 +++++++++
 tests/dat/actions/invoke.swift                     |  16 +++
 tests/dat/actions/printParams.js                   |  25 ++++
 tests/dat/actions/trigger.swift                    |   8 ++
 tests/dat/actions/wcbin.js                         |  29 +++++
 tests/dat/actions/wordcount.js                     |  10 --
 tests/src/services/HeadersTests.scala              |  32 ++++--
 tests/src/system/basic/CLIJavaTests.scala          |   2 +-
 tests/src/system/basic/CLIPythonTests.scala        |   2 +-
 tests/src/system/basic/ConsoleTests.scala          |  33 ++++--
 tests/src/system/basic/PackageTests.scala          |   2 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |   4 +-
 .../src/system/basic/WskActionSequenceTests.scala  |  27 ++++-
 tests/src/system/basic/WskActionTests.scala        |  60 +++++++---
 tests/src/system/basic/WskBasicNodeTests.scala     |   4 +-
 tests/src/system/basic/WskBasicTests.scala         |   2 +-
 tests/src/system/basic/WskRuleTests.scala          |   4 +-
 tests/src/system/rest/ActionSchemaTests.scala      | 127 ++++++++++++---------
 tests/src/whisk/core/cli/test/SwiftTests.scala     |   4 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  16 +--
 .../whisk/core/cli/test/WskEntitlementTests.scala  |  27 ++---
 26 files changed, 421 insertions(+), 130 deletions(-)

commit f64ad5f88c104978a6b0d71aba4b83f5c14c44ce
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Sep 3 08:18:26 2016 -0400

    Move main to Invoker singleton.

 .project                                                   |  2 +-
 ansible/roles/invoker/tasks/deploy.yml                     |  2 +-
 core/invoker/build.gradle                                  |  2 +-
 .../src/main/scala/whisk/core/container/package.scala      |  0
 .../src/main/scala/whisk/core/dispatcher/Dispatcher.scala  | 13 +------------
 .../src/main/scala/whisk/core/invoker/Invoker.scala        | 14 ++++----------
 6 files changed, 8 insertions(+), 25 deletions(-)

commit eb7c1f898e0306971cb705703789c597ad03453b
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Aug 24 16:19:25 2016 -0400

    Rename dispatcher to invoker.
    
    Fixes #1117.

 ansible/README.md                                                 | 2 +-
 ansible/roles/invoker/tasks/clean.yml                             | 2 +-
 ansible/roles/invoker/tasks/deploy.yml                            | 6 +++---
 core/{dispatcher => invoker}/Dockerfile                           | 4 ++--
 core/{dispatcher => invoker}/build.gradle                         | 2 +-
 core/{dispatcher => invoker}/src/main/resources/application.conf  | 0
 .../src/main/scala/whisk/core/container/Container.scala           | 0
 .../src/main/scala/whisk/core/container/ContainerPool.scala       | 0
 .../src/main/scala/whisk/core/container/ContainerUtils.scala      | 0
 .../src/main/scala/whisk/core/container/WhiskContainer.scala      | 0
 .../src/main/scala/whisk/core/dispatcher/ActivationFeed.scala     | 0
 .../src/main/scala/whisk/core/dispatcher/DispatchRule.scala       | 0
 .../src/main/scala/whisk/core/dispatcher/Dispatcher.scala         | 0
 .../src/main/scala/whisk/core/dispatcher/Matcher.scala            | 0
 .../src/main/scala/whisk/core/invoker/Invoker.scala               | 0
 .../src/main/scala/whisk/core/invoker/InvokerServer.scala         | 0
 settings.gradle                                                   | 2 +-
 tests/build.gradle                                                | 2 +-
 tools/build/redo                                                  | 2 +-
 tools/deploy/deployInvoker                                        | 8 ++++----
 20 files changed, 15 insertions(+), 15 deletions(-)

commit 7fe6f242236c31d43dd6bcdd38d926dcb51ced59
Author: Perry <perry@us.ibm.com>
Date:   Thu Sep 1 14:19:51 2016 -0400

    Change docker lock to a fair lock

 .../scala/whisk/core/container/ContainerPool.scala | 40 +++++++++++++---------
 1 file changed, 24 insertions(+), 16 deletions(-)

commit d13b04e20d2f8412e14b34c01bce51ac1eb73263
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Sep 2 15:29:18 2016 -0400

    Removed pool reference from [Whisk]Container.
    
    The main reason for keeping a reference to the pool from within the container was access to logs, which require pool-specific knowledge.  However every client accessing logs has a reference to the pool anyway and can use it.

 .../scala/whisk/core/container/Container.scala     | 25 ++++++----------------
 .../scala/whisk/core/container/ContainerPool.scala | 14 +++++++-----
 .../whisk/core/container/WhiskContainer.scala      |  8 ++++---
 .../main/scala/whisk/core/invoker/Invoker.scala    |  6 ++++--
 4 files changed, 24 insertions(+), 29 deletions(-)

commit 8563176ac922744a73c7f638e45f58e613792f15
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Aug 23 11:00:19 2016 -0400

    Documentation for how to create feeds.

 README.md     |   1 +
 docs/feeds.md | 106 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 107 insertions(+)

commit d2cf98e5b5e3b6eddc4253761fc9bc9de03c42be
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 28 10:35:20 2016 -0400

    Move note about not sharing sensitive information inside the comment block.

 .github/ISSUE_TEMPLATE.md | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit a850e88218cec5fe195cc7fdfd047c6938d3513f
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Aug 26 16:22:15 2016 -0400

    Strongly typing container names and hashes

 .../scala/whisk/core/container/Container.scala     | 16 ++---
 .../scala/whisk/core/container/ContainerPool.scala | 50 +++++++-------
 .../whisk/core/container/ContainerUtils.scala      | 76 ++++++++++++----------
 .../whisk/core/container/WhiskContainer.scala      |  9 +--
 .../main/scala/whisk/core/container/package.scala  | 27 +++++++-
 .../core/container/test/ContainerPoolTests.scala   |  2 +-
 6 files changed, 104 insertions(+), 76 deletions(-)

commit c3605544e73195204f5056e54c74a3ac0cd6766c
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Aug 26 11:49:11 2016 -0400

    DockerOutput no longer Option[String]

 .../scala/whisk/core/container/Container.scala     |  4 +-
 .../scala/whisk/core/container/ContainerPool.scala |  6 +-
 .../whisk/core/container/ContainerUtils.scala      | 71 ++++++++++++----------
 .../whisk/core/container/WhiskContainer.scala      |  2 +-
 .../main/scala/whisk/core/container/package.scala  |  6 +-
 5 files changed, 50 insertions(+), 39 deletions(-)

commit 77b86ad6811894f552c0c05634041a7649d91b13
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Aug 26 10:29:13 2016 -0400

    ContainerIP no longer stringly-typed.

 .../scala/whisk/core/container/ContainerUtils.scala     | 17 ++++++++---------
 .../scala/whisk/core/container/WhiskContainer.scala     |  6 ++----
 .../src/main/scala/whisk/core/container/package.scala   |  9 ++++++++-
 3 files changed, 18 insertions(+), 14 deletions(-)

commit 7b2425fc5debf5fc22a4cfc33f0a66517b1f3159
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Aug 30 11:39:59 2016 -0400

    Tweak citool.
    
    Detect if tests ran, if not, report message as such rather than a misleading all tests passed message.

 tools/build/citool | 13 ++++++++++---
 1 file changed, 10 insertions(+), 3 deletions(-)

commit ec4559171b97fe1df7150ec007141d15ddce9a22
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Sep 2 11:41:58 2016 +0200

    Fixing bad merge

 tests/src/whisk/core/cli/test/WskEntitlementTests.scala | 2 --
 1 file changed, 2 deletions(-)

commit ff063cb3636ff108b5e24bf4a4514cec079b3c4e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 28 16:29:03 2016 -0400

    Additional entitlement tests:
    
    - allow invoking shared action.
    - refactoring to allow override by differnt guest subject.

 .../whisk/core/cli/test/WskEntitlementTests.scala  | 147 ++++++++++++++-------
 1 file changed, 98 insertions(+), 49 deletions(-)

commit 369927b8552d6ac2948b42926401fde9fee97189
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Aug 31 18:16:30 2016 -0400

    update reference on docker skeleton to use alpine image
    
    added section on docker update

 docs/actions.md        | 15 ++++++++++-----
 docs/mobile_sdk.md     |  4 +++-
 docs/reference.md      | 17 ++++++++---------
 docs/triggers_rules.md |  2 +-
 4 files changed, 22 insertions(+), 16 deletions(-)

commit 379cb3349f815c436adca1e97189c66d2129a82f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Aug 29 15:36:37 2016 -0400

    All blocking invokes convert to non-blocking after 60 seconds regardless of action timeout.
    
    Adjust blocking timeout in controller and nginx conf (60 in former 70 in latter, addition 10 seconds to allow controller to terminate connection vs nginx).
    Add some comments about polling mechanism and short circuits.
    
    Fixes #1140.

 ansible/roles/nginx/templates/nginx.conf.j2                       | 2 +-
 .../controller/src/main/scala/whisk/core/controller/Actions.scala | 8 +++++++-
 .../controller/src/main/scala/whisk/core/controller/Backend.scala | 2 +-
 3 files changed, 9 insertions(+), 3 deletions(-)

commit 9dcd9b787890ded0c340f82d00bfce50fb24a779
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Aug 24 01:15:42 2016 -0400

    Wrap consul read of configuration with Try in case server doesn't actually exist.

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala       | 10 +++++-----
 .../src/main/scala/whisk/core/controller/Backend.scala         |  4 +---
 .../src/main/scala/whisk/core/entitlement/Entitlement.scala    |  6 ++++--
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 5eec2bea9c1042eddce11ef5b7a81cef6cc7e75e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 1 00:51:30 2016 -0400

    Reprint warning periodically. Reduce secondary timeout on container connection.

 .../src/main/scala/whisk/core/container/ContainerPool.scala    | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 205d995af7ed249a0437642f9fa5166a675765d2
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Sep 1 00:32:02 2016 -0400

    Move check for pool capacity. Add comments for further improvements to investigate.

 .../scala/whisk/core/container/ContainerPool.scala | 42 +++++++++++++++-------
 1 file changed, 30 insertions(+), 12 deletions(-)

commit 5ebc71046777014266993182919e8cdf9b68b561
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Aug 31 22:02:01 2016 -0400

    Fix race on creating counter and other triemap anti-pattern fixes.

 .../main/scala/whisk/core/container/ContainerPool.scala   | 15 +++------------
 .../src/main/scala/whisk/core/invoker/Invoker.scala       | 15 ++-------------
 2 files changed, 5 insertions(+), 25 deletions(-)

commit 0230715f0e99d7fe55fdffc3a7249c7112ba971a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Aug 31 21:39:58 2016 -0400

    Move starting counter to where it should be.
    
    Don't create warm container unless there is slack.

 .../scala/whisk/core/entity/ActivationResult.scala |  1 -
 .../scala/whisk/core/container/ContainerPool.scala | 83 ++++++++++++----------
 .../whisk/core/dispatcher/ActivationFeed.scala     |  7 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  6 +-
 4 files changed, 54 insertions(+), 43 deletions(-)

commit 4397cb84d541d8b0fa7073c9591d771c43e48d80
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Sep 1 11:49:56 2016 -0400

    Tightens the timeout on a "safety" Await.

 .../dispatcher/src/main/scala/whisk/core/container/WhiskContainer.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fff04c78ca9101b9671b6be3dc30cb6cc2d2da75
Author: Perry <perry@us.ibm.com>
Date:   Wed Aug 31 14:10:24 2016 -0400

    Remove redundant Busy on container get.  Clean up and extend logging.  Warn on slow docker op.

 .../src/main/scala/whisk/common/TimingUtil.scala   | 34 ++++++++++++++
 .../scala/whisk/core/container/ContainerPool.scala | 53 +++++++++++++---------
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |  6 +--
 3 files changed, 68 insertions(+), 25 deletions(-)

commit 7ab7abdec93a036404bdb2d5bd78a3d89ae42480
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Aug 29 01:32:55 2016 -0400

    Fix activation responses.
    
    Interpret init and run activation response separately and add unit and CLI tests for the expected responses.
    
    Refactor message for truncation for better testing.

 .../scala/whisk/core/entity/ActivationResult.scala |  98 +++++++++-
 .../main/scala/whisk/core/entity/LogLimit.scala    |   2 +
 .../scala/whisk/core/container/ContainerPool.scala |   2 +-
 .../whisk/core/container/WhiskContainer.scala      |   3 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  74 ++-----
 settings.gradle                                    |   4 +-
 tests/build.gradle                                 |   4 +-
 tests/dat/actions/initexit.js                      |   1 +
 tests/dat/actions/initforever.js                   |   1 +
 tests/dat/actions/runexit.js                       |   3 +
 .../src/whisk/core/cli/test/JsonArgsForTests.scala | 172 +++++++++++++++++
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 214 +++++----------------
 .../dispatcher/test/ActivationResponseTests.scala  | 165 ++++++++++++++++
 .../core}/limits/ActionLimitsTests.scala           |  15 +-
 14 files changed, 517 insertions(+), 241 deletions(-)

commit da594afcf42c8c83dfc642053866dbaee6d635fe
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 28 20:32:48 2016 -0400

    Fix initialization timeout.
    
    Do not wait to initialize longer than action timeout limit.
    Fix missing interval computation for timed out init.
    Report proper error message when init times out.

 .../whisk/core/container/WhiskContainer.scala      |  6 ++---
 .../main/scala/whisk/core/invoker/Invoker.scala    | 30 ++++++++++++++--------
 2 files changed, 21 insertions(+), 15 deletions(-)

commit 3d3501d8dd15eaa7bb967f6baa3291be61af4a8e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 28 10:57:07 2016 -0400

    Remove unnecessary sleeps in invoker.
    
    - a 3s sleep before calling /init for black box containers is not necessary since the HTTP call will retry.
    - slack sleeps after init also not necessary since if container respond to inits, it's ready to run.
    - sleep during nio channel draining should not be necessary.
    
    Add tests using blackbox actions.
    
    Tests that blackbox containers that misbehave will timeout with expected exception.
    Three cases are tested:
    1. blackbox that doesn't implement a proper proxy (doesn't run a proxy at all)
    2. blackbox that doesn't respond to init (implements /init but does not respond)
    3. blackbox that doesn't respond to run (implements /run but does not respond)

 .../scala/whisk/core/container/ContainerPool.scala |   2 +-
 .../whisk/core/container/ContainerUtils.scala      |   1 -
 .../whisk/core/container/WhiskContainer.scala      |   2 -
 .../main/scala/whisk/core/invoker/Invoker.scala    | 105 ++++++++++++---------
 settings.gradle                                    |   2 +
 tests/build.gradle                                 |   4 +-
 tests/dat/blackbox/badaction/Dockerfile            |   8 ++
 tests/dat/blackbox/badaction/README.md             |   6 ++
 tests/dat/blackbox/badaction/build.gradle          |   4 +
 tests/dat/blackbox/badaction/runner.py             |  53 +++++++++++
 tests/dat/blackbox/badproxy/Dockerfile             |   6 ++
 tests/dat/blackbox/badproxy/README.md              |   1 +
 tests/dat/blackbox/badproxy/build.gradle           |   4 +
 .../DockerExampleContainerTests.scala              |  66 ++++++++++++-
 tests/src/services/KafkaConnectorTests.scala       |   2 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  18 +++-
 .../core/controller/test/AuthorizeTests.scala      |   2 +-
 17 files changed, 230 insertions(+), 56 deletions(-)

commit bdd3e67eb0164f4c2fc0286bb2b1786b3d4c818a
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Aug 19 15:17:32 2016 -0400

    Refactor and Update Invalid Param and Annotation Test
    
    - Refactor param and annotation tests
    - Add param and annotation tests to ensure that key/value pairs are always passed

 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 124 +++++++++------------
 1 file changed, 52 insertions(+), 72 deletions(-)

commit 669f90a3e4d69665486ad0ae9ec168e693bce67a
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Aug 19 11:21:43 2016 -0400

    Only Accept Key/Value Pairs for Parameters and Annotatiot
    
    - Update argument parsing so that an error occurs if a key/value pair is not passed as -p or -a

 tools/go-cli/go-whisk-cli/commands/commands.go     | 74 ++++++++++------------
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 12 ++++
 2 files changed, 45 insertions(+), 41 deletions(-)

commit efc8d90292a83d40b4c4e836a982c43e4288ad28
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Aug 30 10:26:54 2016 -0400

    Remove use of go-prettyjson package due to package issue.

 tools/go-cli/go-whisk-cli/commands/util.go | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit c51b9ac380b8dccddda3a6002bb5da3c49ab681b
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Thu Aug 25 10:48:12 2016 -0400

    Update Dockerfile and Godeps
    
    - Add i18n dependencies to Godeps
    - Update Dockerfile to generate i18n resources

 tools/go-cli/Dockerfile                      | 1 +
 tools/go-cli/go-whisk-cli/Godeps/Godeps.json | 2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)

commit 198e3a5e76b4f1e107928fc3b66970e58d4f9001
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Tue Aug 23 15:30:49 2016 -0400

    Externalize Strings
    
    - Externalize all strings for go-whisk

 tools/go-cli/go-whisk/whisk/action.go              |  29 ++--
 tools/go-cli/go-whisk/whisk/activation.go          |  25 ++--
 tools/go-cli/go-whisk/whisk/client.go              |  46 ++++---
 tools/go-cli/go-whisk/whisk/info.go                |  10 +-
 tools/go-cli/go-whisk/whisk/namespace.go           |  11 +-
 tools/go-cli/go-whisk/whisk/package.go             |  28 ++--
 tools/go-cli/go-whisk/whisk/rule.go                |  32 +++--
 tools/go-cli/go-whisk/whisk/sdk.go                 |   6 +-
 tools/go-cli/go-whisk/whisk/trigger.go             |  32 +++--
 tools/go-cli/go-whisk/whisk/util.go                |   7 +-
 tools/go-cli/go-whisk/whisk/wski18n/detection.go   |  26 ----
 tools/go-cli/go-whisk/whisk/wski18n/i18n.go        | 130 ------------------
 .../whisk/wski18n/resources/en_US.all.json         |   0
 tools/go-cli/go-whisk/wski18n/detection.go         |  42 ++++++
 tools/go-cli/go-whisk/wski18n/i18n.go              | 146 +++++++++++++++++++++
 .../{whisk => }/wski18n/resources/de_DE.all.json   |   0
 .../go-whisk/wski18n/resources/en_US.all.json      | 134 +++++++++++++++++++
 .../{whisk => }/wski18n/resources/es_ES.all.json   |   0
 .../{whisk => }/wski18n/resources/fr_FR.all.json   |   0
 .../{whisk => }/wski18n/resources/it_IT.all.json   |   0
 .../{whisk => }/wski18n/resources/ja_JA.all.json   |   0
 .../{whisk => }/wski18n/resources/ko_KR.all.json   |   0
 .../{whisk => }/wski18n/resources/pt_BR.all.JSON   |   0
 .../{whisk => }/wski18n/resources/zh_Hans.all.json |   0
 .../{whisk => }/wski18n/resources/zh_Hant.all.json |   0
 25 files changed, 462 insertions(+), 242 deletions(-)

commit 5fccbe70a4598efd31c6916604a483a066f0ccbb
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Aug 22 15:35:58 2016 -0400

    Add Resource Files Needed for Globalization
    
    - Add JSON files for each supported language needed for globalization

 tools/go-cli/go-whisk/whisk/wski18n/resources/de_DE.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/en_US.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/es_ES.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/fr_FR.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/it_IT.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/ja_JA.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/ko_KR.all.json   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/pt_BR.all.JSON   | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/zh_Hans.all.json | 0
 tools/go-cli/go-whisk/whisk/wski18n/resources/zh_Hant.all.json | 0
 10 files changed, 0 insertions(+), 0 deletions(-)

commit aa4bbfe9d7b5d4e8c9fd6044b139586223538542
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Aug 22 15:26:13 2016 -0400

    Add Globalization to Go CLI
    
    - Add a package to provide globalization to go-whisk

 tools/go-cli/go-whisk/whisk/wski18n/detection.go |  26 +++++
 tools/go-cli/go-whisk/whisk/wski18n/i18n.go      | 130 +++++++++++++++++++++++
 2 files changed, 156 insertions(+)

commit 06421872081064f54cdd8a8030aa86f1b75d98ac
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Aug 30 10:04:31 2016 -0400

    Remove more deadcode and some dusting.

 tests/dat/actions/wc.js                            |  10 +
 tests/src/common/TestUtils.java                    | 202 +++++----------------
 tests/src/limits/ActionLimitsTests.scala           |   4 +-
 tests/src/limits/ThrottleTests.scala               |   2 +-
 tests/src/packages/UtilsTests.scala                |  20 +-
 tests/src/services/PingTests.scala                 |  26 +--
 tests/src/system/rest/JsonSchema.scala             |   8 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |   4 +-
 8 files changed, 92 insertions(+), 184 deletions(-)

commit a0dd8458d03adf63c37e73373e54a420397e57d3
Author: Perry <perry@us.ibm.com>
Date:   Tue Aug 23 16:13:20 2016 -0400

    Controller publishes digested user activation concurrency

 .../src/main/scala/whisk/common/ConsulClient.scala   |  6 ++++++
 .../whisk/core/entitlement/ActivationThrottler.scala | 20 ++++++++++++++++++--
 2 files changed, 24 insertions(+), 2 deletions(-)

commit 12ea0130b52d5e5972ea287bd2d1fd1e5b142b48
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 25 00:46:30 2016 -0400

    Check logs in travis builds

 tools/travis/build.sh | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 4fc341463c5c478e7de25f4e2a5aecb415113697
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 25 00:44:06 2016 -0400

    Add checkLogs.py, make logs.yml get pure JSON db dumps

 ansible/logs.yml         |   2 +-
 tools/build/checkLogs.py | 127 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 128 insertions(+), 1 deletion(-)

commit 7e5b5bd65efaffca58372fdaec442d0a3dec0f36
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 23:52:09 2016 -0400

    Add log extraction utilities

 ansible/group_vars/all |  1 +
 ansible/logs.yml       | 37 +++++++++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+)

commit 92e4d453232e39940ad49ee3aa6dacc063d46df2
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Aug 22 15:12:29 2016 -0400

    Externalize PII

 tools/go-cli/Dockerfile                            |   12 +-
 tools/go-cli/go-whisk-cli/Godeps/Godeps.json       |   28 +
 tools/go-cli/go-whisk-cli/commands/action.go       |  257 +++--
 tools/go-cli/go-whisk-cli/commands/activation.go   |   91 +-
 tools/go-cli/go-whisk-cli/commands/commands.go     |   46 +-
 tools/go-cli/go-whisk-cli/commands/namespace.go    |   23 +-
 tools/go-cli/go-whisk-cli/commands/package.go      |  192 ++--
 tools/go-cli/go-whisk-cli/commands/property.go     |  182 ++--
 tools/go-cli/go-whisk-cli/commands/rule.go         |  197 ++--
 tools/go-cli/go-whisk-cli/commands/sdk.go          |   76 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go      |  215 ++--
 tools/go-cli/go-whisk-cli/commands/util.go         |  118 ++-
 tools/go-cli/go-whisk-cli/commands/wsk.go          |   15 +-
 tools/go-cli/go-whisk-cli/main.go                  |   16 +-
 tools/go-cli/go-whisk-cli/wski18n/detection.go     |   42 +
 tools/go-cli/go-whisk-cli/wski18n/i18n.go          |  146 +++
 .../go-whisk-cli/wski18n/resources/de_DE.all.json  |    0
 .../go-whisk-cli/wski18n/resources/en_US.all.json  | 1066 ++++++++++++++++++++
 .../go-whisk-cli/wski18n/resources/es_ES.all.json  |    0
 .../go-whisk-cli/wski18n/resources/fr_FR.all.json  |    6 +
 .../go-whisk-cli/wski18n/resources/it_IT.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ja_JA.all.json  |    0
 .../go-whisk-cli/wski18n/resources/ko_KR.all.json  |    0
 .../go-whisk-cli/wski18n/resources/pt_BR.all.json  |    0
 .../wski18n/resources/zh_Hans.all.json             |    0
 .../wski18n/resources/zh_Hant.all.json             |    0
 26 files changed, 2264 insertions(+), 464 deletions(-)

commit 14781ea57fb3f9944b97f2d7df9b61aa52b43480
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Removes unused .wskprops helper methods

 tests/src/common/TestUtils.java | 49 +++--------------------------------------
 1 file changed, 3 insertions(+), 46 deletions(-)

commit a2446176bf242e63689192a29ca99d0c2042e34d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Refactor runCmd, remove obsolete helperclasses

 tests/src/common/BasicLauncher.java | 118 -----------
 tests/src/common/Launcher.java      | 403 ------------------------------------
 tests/src/common/TestUtils.java     | 175 ++++++++++------
 3 files changed, 107 insertions(+), 589 deletions(-)

commit cacffe118aa450d13700b8454d9394a0c5ef7828
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Remove unused utility classes

 tests/src/common/Util.java   |  105 -----
 tests/src/common/WskCli.java | 1002 ------------------------------------------
 2 files changed, 1107 deletions(-)

commit 41c3d632fb5b00908608183e900762c378372c97
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Remove ParallelRunner and its exemption from scanCode.py

 .../tempusfugit/concurrency/ParallelRunner.java    | 60 ----------------------
 tools/build/scanCode.py                            |  3 +-
 2 files changed, 1 insertion(+), 62 deletions(-)

commit 5a162ba1cbb7cbff7eb1d5230212065e559592fa
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Removing obsolete tests

 tests/src/services/KafkaTests.java             | 139 -------------------------
 tests/src/system/basic/CLISequentialTests.java | 121 ---------------------
 2 files changed, 260 deletions(-)

commit 585d9c52859c878ac0ea7921250be795a4fb17d5
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Rewriting CLIRuleTests in Scala, adding a new testhelper
    
    Added a new testhelper to facilitate tests that rely on activations on a specified entity rather than an activationId.

 tests/src/common/WskTestHelpers.scala     |  35 ++-
 tests/src/system/basic/CLIRuleTests.java  | 456 ------------------------------
 tests/src/system/basic/WskRuleTests.scala | 290 +++++++++++++++++++
 3 files changed, 324 insertions(+), 457 deletions(-)

commit d5e7eb2e79eea87bf7c9d52a4c79f71b1f49b72f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Remove obsolete timeout and polling for rule status.
    
    Rules are enabled immediately. No more polling needed, hence this timeout and polling is unnecessary.

 tests/src/common/Wsk.scala                 | 21 ++++++++-------------
 tests/src/system/basic/WskBasicTests.scala |  4 +---
 2 files changed, 9 insertions(+), 16 deletions(-)

commit 974021915a80fd6ca69d42728f318b49622271d4
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Rewrite CLIActionTests in Scala, refactor withActivation helper
    
    Refactored the withActivation helper to pass a parsed and deserialized version to the check function instead of a JsObject. Facilitates writing narrower asserts and generally improves readability of tests.

 tests/src/common/WskTestHelpers.scala              |  25 +-
 tests/src/limits/ActionLimitsTests.scala           |  14 +-
 tests/src/packages/GreetingTests.scala             |  21 +-
 tests/src/packages/SlackTests.scala                |   5 +-
 tests/src/packages/UtilsTests.scala                | 102 ++---
 tests/src/packages/websocket/WebSocketTests.scala  |  31 +-
 tests/src/system/basic/CLIActionTests.java         | 501 ---------------------
 tests/src/system/basic/CLIJavaTests.scala          |   9 +-
 tests/src/system/basic/CLIPythonTests.scala        |   8 +-
 tests/src/system/basic/PackageTests.scala          |   2 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  11 +-
 .../src/system/basic/WskActionSequenceTests.scala  |  16 +-
 tests/src/system/basic/WskActionTests.scala        | 268 +++++++++++
 tests/src/system/basic/WskBasicNodeTests.scala     |  47 +-
 tests/src/system/basic/WskBasicTests.scala         |  14 +-
 tests/src/whisk/core/cli/test/SwiftTests.scala     |   9 +-
 16 files changed, 433 insertions(+), 650 deletions(-)

commit 323b6202c5b5f1a12511de9440b913c40d6da98d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 13:40:35 2016 -0400

    Copying SlackTests and GreetingTests from openwhisk-catalog repo
    
    These tests have originally been ported to scala by @lzbj. Copying them into this repo to not be blocked on the catalog migration out of the repository. Testcases can be removed again, once the catalog migration is finished.

 tests/src/packages/GreetingTests.scala | 77 ++++++++++++++++++++++++++++++++++
 tests/src/packages/SamplesTests.java   | 61 ---------------------------
 tests/src/packages/SlackTests.java     | 62 ---------------------------
 tests/src/packages/SlackTests.scala    | 63 ++++++++++++++++++++++++++++
 4 files changed, 140 insertions(+), 123 deletions(-)

commit ba51b5c032ee39de36fef7db7a9f3ba806cae2e4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 27 01:57:51 2016 -0400

    Change response code for non-existent package NotFound -> NotAllowed.
    
    The entitlement check for packages failed client requests with not authorized responses
    when checking a package that does not exist. This served to neither confirm or deny the
    existence of the package. But has been confusing. Changed the response to not found should
    the package in fact not exist. This removes an inconsistency as well between the local and
    remote entitlement flows.
    
    Adopt @markusthoemmes' suggestion of using a Future rather than a Promise.

 .../scala/whisk/core/controller/ApiUtils.scala     | 10 ++++-
 .../whisk/core/entitlement/PackageCollection.scala | 48 +++++++++++-----------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  5 +--
 .../core/controller/test/AuthorizeTests.scala      | 21 +++++++---
 .../controller/test/PackageActionsApiTests.scala   |  8 ++--
 5 files changed, 55 insertions(+), 37 deletions(-)

commit 8b7794ab4dca647fea0839228e3d451b2c6f2166
Author: Perry <perry@us.ibm.com>
Date:   Thu Jul 28 18:14:46 2016 -0400

    Use cpu sharing to limit cpu resource.  Map multiple containers per core.

 .../src/main/scala/whisk/core/WhiskConfig.scala    |  2 +
 .../scala/whisk/core/container/Container.scala     |  3 +-
 .../scala/whisk/core/container/ContainerPool.scala | 55 ++++++++++++++++++----
 .../whisk/core/container/ContainerUtils.scala      |  9 ++--
 .../whisk/core/container/WhiskContainer.scala      |  3 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  2 +-
 6 files changed, 59 insertions(+), 15 deletions(-)

commit 43d9ee607786dbe090bc1abea7f4ee069e9d105f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Aug 23 21:49:02 2016 -0400

    Fix race in controller/invoker active ack.
    
    Add a trait to generate activation ids. This can be mixed into tests to have fixed ids where necessary.
    Use custom activation id generator for testing blocking invokes.
    Lift listener for active ack responses in action activations before the post to loadbalancer - this avoids a race where the response comes back before the listener becomes active.
    Add unit test for active ack/fast path.
    
    Also in this commit, removing deadcode:
    - No longer using direct invoke API in tests.
    - Load balancer requests are no longer happening over HTTP.
    
    Fixes #1067.
    
    Consolidate active ack/db poll promise completion in the Actions API handler.
    Simplify the active ack timeout logic to that it is clearer what is happening.
    Factored out timeout on active ack so that caller can decide how long it wants to wait for.
    
    Signed off by Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../whisk/core/connector/LoadbalancerRequest.scala |  62 ------------
 .../scala/whisk/core/entity/ActivationId.scala     |   6 +-
 .../main/scala/whisk/core/controller/Actions.scala | 110 +++++++++++----------
 .../main/scala/whisk/core/controller/Backend.scala |  14 +--
 .../scala/whisk/core/controller/RestAPIs.scala     |  24 +++--
 .../scala/whisk/core/controller/Triggers.scala     |   5 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  15 +--
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  10 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  13 +--
 .../scala/whisk/core/invoker/InvokerServer.scala   |  60 +----------
 .../core/controller/test/ActionsApiTests.scala     |  75 +++++++++++---
 .../controller/test/ControllerTestCommon.scala     |  36 ++++---
 12 files changed, 191 insertions(+), 239 deletions(-)

commit d612d4bc5011628d403c6bc144edaeb8df872bad
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Aug 29 12:12:47 2016 -0400

    Add retries around tests using views for eventual consistency.

 .../core/controller/test/ActivationsApiTests.scala | 89 ++++++++++++----------
 1 file changed, 50 insertions(+), 39 deletions(-)

commit 4993d80b10b18ab6c934471718f3c22f01920459
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Aug 26 13:24:20 2016 +0200

    Increase actions in Throttle test

 tests/src/limits/ThrottleTests.scala | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit d5295dd40ecea020b3941579374e12521e0484f3
Author: Perry <perry@us.ibm.com>
Date:   Fri Aug 26 14:42:56 2016 -0400

    Add verbosity on availability and queue state when getting, returning, or waiting for container.

 .../scala/whisk/core/container/ContainerPool.scala | 25 +++++++++++++++-------
 1 file changed, 17 insertions(+), 8 deletions(-)

commit 6386717735f0f24e8eba90db4395292e5ea0c2ee
Author: Josh Soref <jsoref@users.noreply.github.com>
Date:   Fri Aug 26 02:06:54 2016 +0000

    Fix spelling mistakes.
    
    spelling: accessible
    spelling: address
    spelling: already
    spelling: ambiguous
    spelling: name
    spelling: available
    spelling: basic
    spelling: blackbox
    spelling: characters
    spelling: chosen
    spelling: comma
    spelling: components
    spelling: constructor
    spelling: cloudant
    spelling: couldn't
    spelling: current
    spelling: before
    spelling: disconnect
    spelling: entities
    spelling: environment
    spelling: exhausted
    spelling: explicit
    spelling: execute
    spelling: extension
    spelling: expected
    spelling: failure
    spelling: gzipping
    spelling: loadbalancer
    spelling: milliseconds
    spelling: namespace
    spelling: namespaces
    spelling: namespace
    spelling: offset
    spelling: omitempty
    spelling: output
    spelling: overridden
    spelling: overwritten
    spelling: precedence
    spelling: remaining
    spelling: seconds
    spelling: repository
    spelling: restarting
    spelling: stderr
    spelling: stdout
    spelling: subject (API)
    spelling: the
    spelling: untarring
    spelling: utilities
    spelling: zookeeper
    dusting.

 ansible/roles/consul/handlers/main.yml                       |  2 +-
 ansible/roles/sdk/tasks/main.yml                             |  2 +-
 common/scala/src/main/scala/whisk/common/ConsulClient.scala  |  2 +-
 .../scala/src/main/scala/whisk/common/ConsulKVReporter.scala |  2 +-
 .../scala/src/main/scala/whisk/core/entity/WhiskEntity.scala |  2 +-
 core/actionProxy/README.md                                   |  4 ++--
 core/controller/src/main/resources/whiskswagger.json         |  6 +++---
 .../src/main/scala/whisk/core/controller/Actions.scala       |  4 ++--
 .../src/main/scala/whisk/core/controller/ApiUtils.scala      |  2 +-
 .../scala/whisk/core/controller/AuthenticatedRoute.scala     |  2 +-
 .../main/scala/whisk/core/loadBalancer/InvokerHealth.scala   |  2 +-
 .../main/scala/whisk/core/dispatcher/ActivationFeed.scala    |  2 +-
 .../src/main/scala/whisk/core/invoker/Invoker.scala          |  4 ++--
 docs/README.md                                               |  2 +-
 docs/catalog.md                                              |  6 +++---
 .../iOS/starterapp/OpenWhiskStarterApp/ViewController.swift  |  2 +-
 tests/src/actionContainers/ActionContainer.scala             |  2 +-
 tests/src/actionContainers/ActionProxyContainerTests.scala   |  2 +-
 tests/src/common/Wsk.scala                                   |  4 ++--
 tests/src/common/WskCli.java                                 | 12 ++++++------
 tests/src/system/basic/WskSdkTests.scala                     |  2 +-
 tests/src/whisk/core/cli/test/WskBasicUsageTests.scala       |  2 +-
 .../whisk/core/controller/test/PackageActionsApiTests.scala  |  2 +-
 tests/src/whisk/core/controller/test/PackagesApiTests.scala  |  4 ++--
 tests/src/whisk/core/controller/test/RulesApiTests.scala     |  2 +-
 tools/build/redo                                             |  4 ++--
 tools/cli/wskactivation.py                                   |  4 ++--
 tools/cli/wskadmin                                           |  6 +++---
 tools/cli/wskrule.py                                         |  2 +-
 tools/cli/wskutil.py                                         | 10 +++++-----
 tools/deploy/deployInvoker                                   |  2 +-
 tools/go-cli/go-whisk-cli/commands/action.go                 |  2 +-
 tools/go-cli/go-whisk-cli/commands/activation.go             |  4 ++--
 tools/go-cli/go-whisk-cli/commands/namespace.go              |  2 +-
 tools/go-cli/go-whisk-cli/commands/property.go               |  4 ++--
 tools/go-cli/go-whisk-cli/commands/sdk.go                    |  6 +++---
 tools/go-cli/go-whisk-cli/commands/util.go                   |  2 +-
 tools/go-cli/go-whisk/whisk/client.go                        |  2 +-
 tools/go-cli/go-whisk/whisk/shared.go                        |  2 +-
 tools/macos/tweak-dockermachine.sh                           |  2 +-
 tools/vagrant/README.md                                      |  6 +++---
 41 files changed, 69 insertions(+), 69 deletions(-)

commit 163805ab9ecd58bbc9282396d641ef9b3978d294
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 27 04:27:06 2016 -0400

    Rebase action proxy (dockerskeleton) on alpine image.
    
    Reduce image size for docker actions skeleton from 619.8MB to 86.78MB.
    This makes the example docker image size equally smaller.
    Use the base image for python actions but not Swift since the latter not yet ready for a diet.

 .gitignore                                         |  4 ++++
 .project                                           | 12 +++++++++--
 core/actionProxy/Dockerfile                        | 18 ++++++++--------
 core/pythonAction/Dockerfile                       |  4 ++--
 core/swift3Action/Dockerfile                       | 24 ++++++++++++++++------
 core/swift3Action/build.gradle                     | 12 ++++++++++-
 core/swiftAction/Dockerfile                        | 19 +++++++++++++----
 core/swiftAction/build.gradle                      | 12 ++++++++++-
 sdk/docker/Dockerfile                              | 12 ++++++++---
 sdk/docker/README.md                               |  2 +-
 .../ActionProxyContainerTests.scala                |  6 ++++--
 11 files changed, 93 insertions(+), 32 deletions(-)

commit cc8f73c2a46b58067537fb018f5b4d5224559fb7
Author: Vincent Hou <shou@us.ibm.com>
Date:   Wed Aug 3 14:08:51 2016 -0400

    Refactoring the test cases to install openwhisk-catalog
    
    Currently, all the actions in openwhisk-catalog have been synchronized
    with the ones in openwhisk. The test coverage of actions is equal to
    openwhisk. We are technically able to switch from openwhisk/catalog to the
    openwhisk-catalog.
    
    Some tests in WskBasicTests have been moved under whisk.core.cli.test,
    so that whisk.core.entity.Subject can be accessed to create the fake user.

 tests/dat/actions/cat.js                           |  13 ++
 tests/dat/actions/head.js                          |  14 ++
 tests/dat/actions/hello.js                         |   6 +
 tests/dat/actions/sort.js                          |  14 ++
 tests/dat/actions/split.js                         |  14 ++
 tests/dat/actions/wordcount.js                     |  10 +
 .../src/system/basic/WskActionSequenceTests.scala  |  18 +-
 tests/src/system/basic/WskBasicTests.scala         |  98 +--------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   |  55 +++--
 .../whisk/core/cli/test/WskEntitlementTests.scala  | 222 +++++++++++++++++++++
 10 files changed, 343 insertions(+), 121 deletions(-)

commit e30f8340e2e1c45fb2a397eb299f0318cdd92053
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue Aug 23 23:32:29 2016 -0400

    Strengthen type safety in Invoker
    
    Replaces type aliases with case classes when appropriate.
    
    Replaces int/long values with durations when appropriate.
    
    Replaces String with more explicit types when appropriate.
    
    Other minor Scala tweaks (e.g. eliminating procedure syntax).
    
    Avoid creating potentially large string twice.

 .../src/main/scala/whisk/common/SimpleExec.scala   |  24 +++-
 .../scala/whisk/core/container/Container.scala     |  17 ++-
 .../scala/whisk/core/container/ContainerPool.scala | 144 +++++++++++----------
 .../whisk/core/container/ContainerUtils.scala      |  18 +--
 .../whisk/core/container/WhiskContainer.scala      |  17 +--
 .../main/scala/whisk/core/container/package.scala  |  84 ++++++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    |  55 +++++---
 .../core/container/test/ContainerPoolTests.scala   |  19 +--
 8 files changed, 244 insertions(+), 134 deletions(-)

commit 9806d02a4f2df9a2645cf6a9f807a78b5aca0b80
Author: sjfink <sjfink@us.ibm.com>
Date:   Thu Aug 25 15:47:42 2016 -0400

    tweak description of action execution semantics to avoid term "at-most-once"

 docs/reference.md | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

commit 7f933a9d84a1741b0186049d8cb645cd42cbaade
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 21 19:19:55 2016 -0400

    Update documentation.
    
    Add trigger limits to docs.
    Update docker action instructions.

 docs/actions.md      | 28 ++++++++++++++++++++--------
 docs/reference.md    | 26 +++++++++++++++++++-------
 sdk/docker/example.c |  4 ++--
 3 files changed, 41 insertions(+), 17 deletions(-)

commit fc66e6d1208373f2052433123d1d4cdcbdc14694
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Aug 18 18:03:58 2016 -0400

    pinned ios sdk depedency
    
    update to use latest 0.1.7

 docs/mobile_sdk.md                                 |  28 +-
 mobile/iOS/sdk/OpenWhisk.xcodeproj/project.pbxproj | 532 ---------------------
 .../project.xcworkspace/contents.xcworkspacedata   |   7 -
 .../UserInterfaceState.xcuserstate                 | Bin 21516 -> 0 bytes
 .../xcshareddata/xcschemes/OpenWhisk.xcscheme      |  99 ----
 .../xcdebugger/Breakpoints_v2.xcbkptlist           |   5 -
 .../xcschemes/OpenWhiskWatch.xcscheme              |  80 ----
 .../xcschemes/xcschememanagement.plist             |  32 --
 mobile/iOS/sdk/OpenWhisk/Config.swift              |  98 ----
 mobile/iOS/sdk/OpenWhisk/Info.plist                |  26 -
 mobile/iOS/sdk/OpenWhisk/OpenWhisk.h               |  27 --
 mobile/iOS/sdk/OpenWhisk/OpenWhiskButton.swift     | 128 -----
 mobile/iOS/sdk/OpenWhisk/OpenWhiskConfig.plist     |  13 -
 mobile/iOS/sdk/OpenWhisk/OpenWhiskSDK.swift        | 435 -----------------
 mobile/iOS/sdk/OpenWhiskTests/Info.plist           |  24 -
 mobile/iOS/sdk/OpenWhiskTests/OpenWhiskTests.swift | 328 -------------
 mobile/iOS/sdk/OpenWhiskWatch/Info.plist           |  26 -
 mobile/iOS/sdk/OpenWhiskWatch/OpenWhiskWatch.h     |  27 --
 mobile/iOS/starterapp/.gitignore                   |   4 +
 mobile/iOS/starterapp/Cartfile                     |   2 +-
 mobile/iOS/starterapp/Podfile                      |   7 +-
 21 files changed, 22 insertions(+), 1906 deletions(-)

commit 60d1bad5ea0b14ec5b9f59ea196f62dfdd5e542b
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 25 10:08:24 2016 -0400

    Run the DockerExampleContainerTests with the unprefixed version of the example image
    
    Adjust docker sdk deployment to reference image from Docker Hub.

 ansible/roles/sdk/tasks/deploy.yml                           |  5 ++++-
 core/actionProxy/build.gradle                                |  2 +-
 core/pythonAction/Dockerfile                                 |  2 +-
 core/swift3Action/Dockerfile                                 |  2 +-
 core/swiftAction/Dockerfile                                  |  2 +-
 sdk/docker/Dockerfile                                        |  2 +-
 sdk/docker/Dockerfile.publish                                | 11 +++++++++++
 sdk/docker/build.gradle                                      |  1 -
 tests/src/actionContainers/ActionProxyContainerTests.scala   |  2 +-
 tests/src/actionContainers/DockerExampleContainerTests.scala |  3 ++-
 10 files changed, 23 insertions(+), 9 deletions(-)

commit 1ee091ce4009fd84941167e109e07e2133dcbb5d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 24 10:38:02 2016 -0400

    Tighten the policy to pull images when creating a container

 .../src/main/scala/whisk/core/container/ContainerPool.scala       | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 429a53b7a2e5d5bcf919e34cffd0ab4c372b162e
Author: Nick Mitchell <nickm@us.ibm.com>
Date:   Sat Aug 20 00:51:36 2016 +0000

    update slack.post to support token authentication
    
    closes #1091
    
    fix for createSlackMessageObject tests
    
    added documentation for the slack token-based authentication scheme, and updated the installSlack to hoist the bind-time parameters to be package parameters, plus added description and doclinks
    
    update catalog.md to add token to the list of slack parameters

 catalog/installSlack.sh            |  9 +++++----
 catalog/slack/post.js              | 37 +++++++++++++++++++++++++++++--------
 docs/catalog.md                    |  4 ++++
 tests/src/packages/SlackTests.java |  2 --
 4 files changed, 38 insertions(+), 14 deletions(-)

commit 112c42dbb9889bcb2474e286ade7ecf6e5f4109c
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Aug 16 16:05:09 2016 +0200

    Rename CLISwiftTests
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .../CLISwiftTests.scala => whisk/core/cli/test/SwiftTests.scala}    | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit a7a6f1c0f37985e9d9ecc68db469341809c22301
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Aug 24 10:14:20 2016 +0200

    Change CI-tool to be compatible with new Jenkins

 .gitignore         | 2 +-
 tools/build/citool | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 328b9b138455ec77df023dcf029c8549db0d0ed4
Author: Nick Mitchell <nickm@us.ibm.com>
Date:   Sun Aug 21 23:47:24 2016 +0000

    add field level descriptions and doclink to github webhook
    
    update installGit to fix sampleInput for events, and document "organization/" support
    closes #1102

 catalog/installGit.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 153129c6c3b1fd71d5359b3a308217737d495481
Author: singhan <singhan@us.ibm.com>
Date:   Thu Aug 11 14:40:05 2016 -0700

    Removing deployment variable and fall back to docker.user

 README.md                                | 2 +-
 ansible/README_DISTRIBUTED.md            | 2 +-
 ansible/group_vars/all                   | 8 +++-----
 ansible/roles/registry/tasks/gencert.yml | 5 -----
 ansible/roles/whiskhost/tasks/deploy.yml | 2 +-
 tools/ubuntu-setup/README.md             | 2 +-
 6 files changed, 7 insertions(+), 14 deletions(-)

commit ecf0028166cb585ffa582b11176c1e01115dc312
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Aug 23 14:04:51 2016 -0400

    relaxing python action environment test

 tests/src/system/basic/CLIPythonTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e6beae9c04aed76119004bfb43d8e5cdc4672a38
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Aug 21 18:48:29 2016 -0400

    Do not introduce stem cell container into the pool if it failed to initialize.
    
    Small tweaks to log messages.

 .../scala/whisk/core/container/ContainerPool.scala     | 18 ++++++++++--------
 1 file changed, 10 insertions(+), 8 deletions(-)

commit 6c65b189a673aefd5bae0a5c5a8d7221856c0109
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Aug 8 19:24:44 2016 +0200

    Make image prefix configurable.
    
    Adds a new parameter to docker.gradle `dockerImagePrefix` which specifies the PREFIX part in the following format: {REGISTRY}/{PREFIX}/{IMAGE}:{TAG}. This used to be hardcoded to "whisk", e.g. whisk/controller.
    
    Implements a parameter for ansible to pull an image prefixed by "docker_image_prefix" (PREFIX in the following format): {REGISTRY}/{PREFIX}/{IMAGE}:{TAG}. Was previously hardcoded as "whisk".
    
    Writes the parameter into whisk.properties and makes the invoker pick it up for spawning containers.
    
    Add different tag in travis to flesh out problems.

 ansible/group_vars/all                                 |  1 +
 ansible/roles/cli/tasks/deploy.yml                     |  6 +++---
 ansible/roles/consul/tasks/clean.yml                   |  2 +-
 ansible/roles/consul/tasks/deploy.yml                  |  4 ++--
 ansible/roles/controller/tasks/clean.yml               |  2 +-
 ansible/roles/controller/tasks/deploy.yml              |  4 ++--
 ansible/roles/go-cli/tasks/deploy.yml                  |  6 +++---
 ansible/roles/invoker/tasks/clean.yml                  |  2 +-
 ansible/roles/invoker/tasks/deploy.yml                 | 16 ++++++++--------
 ansible/roles/kafka/tasks/clean.yml                    |  4 ++--
 ansible/roles/kafka/tasks/deploy.yml                   |  8 ++++----
 ansible/templates/whisk.properties.j2                  |  1 +
 common/scala/build.gradle                              |  2 +-
 .../scala/src/main/scala/whisk/core/WhiskConfig.scala  |  2 ++
 .../scala/src/main/scala/whisk/core/entity/Exec.scala  | 14 +++++++-------
 .../src/main/scala/whisk/core/entity/WhiskAction.scala | 13 +++++++------
 core/controller/Dockerfile                             |  2 +-
 core/controller/build.gradle                           |  2 +-
 core/dispatcher/Dockerfile                             |  2 +-
 core/dispatcher/build.gradle                           |  2 +-
 .../scala/whisk/core/container/ContainerPool.scala     | 18 +++++++++---------
 .../scala/whisk/core/container/WhiskContainer.scala    | 11 ++---------
 .../src/main/scala/whisk/core/invoker/Invoker.scala    |  4 +++-
 core/javaAction/build.gradle                           |  2 +-
 core/nodejs6Action/Dockerfile                          |  2 +-
 core/nodejs6Action/build.gradle                        |  2 +-
 core/nodejsAction/Dockerfile                           |  2 +-
 core/nodejsAction/build.gradle                         |  2 +-
 core/nodejsActionBase/build.gradle                     |  2 +-
 core/pythonAction/build.gradle                         |  2 +-
 core/swift3Action/build.gradle                         |  2 +-
 core/swiftAction/build.gradle                          |  2 +-
 gradle/docker.gradle                                   | 13 ++++++++-----
 sdk/docker/build.gradle                                |  4 +++-
 services/consul/Dockerfile                             |  2 +-
 services/consul/build.gradle                           |  2 +-
 services/kafka/Dockerfile                              |  2 +-
 services/kafka/build.gradle                            |  2 +-
 services/zookeeper/Dockerfile                          |  2 +-
 services/zookeeper/build.gradle                        |  2 +-
 .../actionContainers/JavaActionContainerTests.scala    |  4 ++--
 .../actionContainers/NodeJs6ActionContainerTests.scala |  2 +-
 .../actionContainers/NodeJsActionContainerTests.scala  |  2 +-
 .../actionContainers/PythonActionContainerTests.scala  |  4 ++--
 .../actionContainers/Swift3ActionContainerTests.scala  |  2 +-
 .../actionContainers/SwiftActionContainerTests.scala   |  2 +-
 tools/cli/build.gradle                                 | 15 ++++++++-------
 tools/go-cli/build.gradle                              |  8 +++-----
 tools/travis/build.sh                                  |  4 ++--
 49 files changed, 111 insertions(+), 107 deletions(-)

commit 420648b5812091e2a63c99cbd86ae832f1be730c
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Aug 4 23:06:22 2016 -0400

    Ported ActionContainer tests to akka-http client.
    
    It's probably best that the tests and the invoker use the same client.

 tests/src/actionContainers/ActionContainer.scala   | 40 ++++++++++++++++------
 .../ActionProxyContainerTests.scala                |  4 ++-
 .../DockerExampleContainerTests.scala              |  4 ++-
 .../JavaActionContainerTests.scala                 |  3 +-
 .../NodeJsActionContainerTests.scala               |  3 +-
 .../PythonActionContainerTests.scala               |  3 +-
 .../SwiftActionContainerTests.scala                |  4 ++-
 7 files changed, 44 insertions(+), 17 deletions(-)

commit 31946029cad740a00c6e6f367637a1bcfea5dd18
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Jul 13 15:37:02 2016 -0400

    Use akka-http for requests from the invoker to the containers
    
    This commit also introduces a new helper object, `NewHttpUtils` to make non-pooled, possibly retrying, HTTP requests using akka-http data representation.

 .../src/main/scala/whisk/common/NewHttpUtils.scala | 115 +++++++++++++++++++++
 .../whisk/core/database/CouchDbRestClient.scala    |   3 +-
 .../scala/whisk/core/container/Container.scala     |   4 +-
 .../whisk/core/container/ContainerUtils.scala      |   4 +-
 .../whisk/core/container/WhiskContainer.scala      |  98 +++++++++++++-----
 .../main/scala/whisk/core/invoker/Invoker.scala    |   6 +-
 6 files changed, 194 insertions(+), 36 deletions(-)

commit 4ff75747913de5d177f12274697dfb9a641023c9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 20 20:16:52 2016 -0400

    Add new tests for the common action proxy. Refactor tests so that standard tests for actions not returning JSON, actions printing to stdout/stderr, and actions validating expected environment don't need to be repeated explicitly. Also tightened tests so that the runtimes conform to expected messages/errors and markers on stdout/stderr. As noted, new tests added to confirm action environment contains expected properties - namely auth key and edge host.

 tests/.pydevproject                                |   5 +
 tests/build.gradle                                 |   6 +-
 tests/dat/actions/stdenv.py                        |   4 +
 tests/src/actionContainers/ActionContainer.scala   |  32 +++
 .../ActionProxyContainerTests.scala                | 245 +++++++++++++++++++++
 .../DockerExampleContainerTests.scala              |  83 +++++++
 .../DockerSkeletonActionContainerTests.scala       |  94 --------
 .../NodeJs6ActionContainerTests.scala              |  15 +-
 .../NodeJsActionContainerTests.scala               | 188 ++++++++--------
 .../PythonActionContainerTests.scala               | 138 +++++-------
 .../Swift3ActionContainerTests.scala               |  25 ++-
 .../SwiftActionContainerTests.scala                | 178 ++++++---------
 tests/src/system/basic/CLIPythonTests.scala        |  19 +-
 13 files changed, 623 insertions(+), 409 deletions(-)

commit 6a3c1f28e8d89eb64ae93de7ba576dec70224bbc
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 20 20:13:38 2016 -0400

    Remove unecessary complexity in determining if container has log markers - since invoker has an Exec reference, associate the information with the type.
    Add python to set of containers for which the invoker expects log markers.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 35 +++++++++++++---------
 .../whisk/core/container/WhiskContainer.scala      |  7 +++--
 .../main/scala/whisk/core/invoker/Invoker.scala    | 29 +++++++-----------
 3 files changed, 35 insertions(+), 36 deletions(-)

commit 00ada1e0cab29ae0e6530e6c156fd037a8427e31
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 20 20:11:06 2016 -0400

    Rebase swift(3) actions using new action proxy and override epilogue, buil and env method to properly build binary and serialize input as required by swift actions.
    Rebase python action using new action proxy.
    Rename runner files to {lang/runtime}runner.py.

 .project                                  |   8 +-
 core/nodejsActionBase/app.js              |   6 +-
 core/nodejsActionBase/runner.js           |  10 +--
 core/nodejsActionBase/src/service.js      |  34 ++++---
 core/pythonAction/Dockerfile              |  17 +---
 core/pythonAction/build.gradle            |   1 +
 core/pythonAction/delete-build-run.sh     |  15 ----
 core/pythonAction/pythonaction.py         |  99 ---------------------
 core/pythonAction/pythonrunner.py         |  63 +++++++++++++
 core/swift3Action/Dockerfile              |  32 +++----
 core/swift3Action/build.gradle            |   1 +
 core/swift3Action/delete-build-run.sh     |  15 ----
 core/swift3Action/init.py                 |  29 ------
 core/swift3Action/proxy.py                | 143 ------------------------------
 core/swift3Action/run.py                  |  51 -----------
 core/swift3Action/spm-build/Package.swift |  16 ++++
 core/swift3Action/spm-build/Whisk.swift   |  16 ++++
 core/swift3Action/swift3runner.py         |  57 ++++++++++++
 core/swiftAction/Dockerfile               |  27 ++----
 core/swiftAction/build.gradle             |   1 +
 core/swiftAction/delete-build-run.sh      |  15 ----
 core/swiftAction/init.py                  |  29 ------
 core/swiftAction/proxy.py                 | 138 ----------------------------
 core/swiftAction/run.py                   |  51 -----------
 core/swiftAction/swiftrunner.py           |  56 ++++++++++++
 25 files changed, 254 insertions(+), 676 deletions(-)

commit 6e8a8f4475304515860dbfdc16fea30126a3bda3
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 20 20:09:03 2016 -0400

    Rebase docker SDK on new openwhisk/dockerskeleton.

 ansible/roles/sdk/tasks/deploy.yml | 10 ++++-
 sdk/docker/Dockerfile              | 37 +++-------------
 sdk/docker/README.md               | 22 +++++----
 sdk/docker/build.gradle            | 11 +----
 sdk/docker/client/action           |  8 ----
 sdk/docker/client/example.c        |  6 ---
 sdk/docker/example.c               | 17 +++++++
 sdk/docker/server/app.js           | 59 ------------------------
 sdk/docker/server/package.json     | 11 -----
 sdk/docker/server/src/logger.js    | 59 ------------------------
 sdk/docker/server/src/service.js   | 91 --------------------------------------
 11 files changed, 49 insertions(+), 282 deletions(-)

commit 6b261fb83d984982f268a8a9ee3c016ab42a9821
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Aug 20 20:05:18 2016 -0400

    Adds "action proxy" a new base image for actions including swift and "black box" using a common proxy server coded in python and using flask. The proxy implements the required init and run routes. The container include a sample shell script making it useful as a stand alone example action. It also allows arbitrary shell scripts (python, perl, bash, etc.) to run by initializing the internal action code on init. The run methods always prints the required sentinels, making actions that inherit from this proxy compliant with the invoker's expectations for extracting user log streams.
    
    Includes a stub action.
    Renames docker image to docker skeleton.
    Adds README describing organization and implementation of the proxy and how to add a new runner.
    Consolidates debug helpers.
    Adds action proxy to build/redo.

 core/actionProxy/Dockerfile          |  24 +++++
 core/actionProxy/README.md           |  37 +++++++
 core/actionProxy/actionproxy.py      | 198 +++++++++++++++++++++++++++++++++++
 core/actionProxy/build.gradle        |   2 +
 core/actionProxy/delete-build-run.sh |  23 ++++
 core/actionProxy/invoke.py           |  78 ++++++++++++++
 core/actionProxy/stub.sh             |   9 ++
 settings.gradle                      |   1 +
 tools/build/redo                     |   5 +
 9 files changed, 377 insertions(+)

commit a6f6a5c5037e37352117becaad79438974db7a9d
Author: Perry <perry@us.ibm.com>
Date:   Thu Jul 28 11:07:20 2016 -0400

    Add a ticket based queue to ensure fairness in container acquisition

 .../scala/whisk/core/container/ContainerPool.scala | 52 ++++++++++++++++------
 1 file changed, 38 insertions(+), 14 deletions(-)

commit 2895a9626c84c28de9598ab59b2c5772a29060d8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 11 22:01:59 2016 +0200

    Adding tests for all throttles
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 tests/src/limits/ThrottleTests.scala | 206 +++++++++++++++++++++++++++++++++++
 1 file changed, 206 insertions(+)

commit 2fdeb1f935940153de8b9d6df92e326968c4ff67
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 11 18:46:38 2016 +0200

    Refactor ActivationThrottler
    
    - move ActivationThrottler out of the loadbalancer
    - Nuking loglines that are not printed anyway
    - move limits to whisk.properties
    - remove unused consul polling
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 ansible/group_vars/all                             | 11 ++++
 ansible/templates/whisk.properties.j2              | 50 +++++++++-----
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 12 ++++
 .../scala/whisk/core/controller/Controller.scala   |  4 +-
 .../ActivationThrottler.scala}                     | 77 +++-------------------
 .../scala/whisk/core/entitlement/Entitlement.scala | 25 ++++++-
 .../whisk/core/entitlement/RateThrottler.scala     |  4 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  5 +-
 .../core/loadBalancer/LoadBalancerToKafka.scala    | 41 +++++++-----
 9 files changed, 115 insertions(+), 114 deletions(-)

commit 600b6449d860912cacba601bf1b2d3de69e4645b
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Aug 11 17:39:15 2016 +0200

    Make ConsulClient throw the right exception if an entry is not present
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 .../src/main/scala/whisk/common/ConsulClient.scala | 10 +++++++--
 .../main/scala/whisk/core/controller/Actions.scala | 18 ++++------------
 tests/src/whisk/consul/ConsulClientTests.scala     | 24 ++++++++++------------
 3 files changed, 23 insertions(+), 29 deletions(-)

commit e5cf3c1806b8c1ed2f3dfaba24f9aacedfe81f90
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Aug 17 11:40:41 2016 -0400

    Remove Pipe Dependency from Action Sequences
    
    - Remove the dependency on the system pipe when creating actions
    - Pass action artifacts to the backend as a component field instead of as parameters

 .../src/system/basic/WskActionSequenceTests.scala  | 24 +++++++-
 tools/go-cli/go-whisk-cli/commands/action.go       | 55 ++----------------
 tools/go-cli/go-whisk-cli/commands/util.go         | 66 ++++++++++++++++------
 tools/go-cli/go-whisk/whisk/action.go              | 13 +++--
 4 files changed, 82 insertions(+), 76 deletions(-)

commit 294d0f2d8b59a584671f879ccc6da4f2f254c075
Author: Paul Castro <castrop@us.ibm.com>
Date:   Wed Aug 17 14:45:33 2016 -0400

    Set iOS starter app scheme to be shared

 .../UserInterfaceState.xcuserstate                  | Bin 19038 -> 18945 bytes
 .../xcschemes/OpenWhiskStarterApp.xcscheme          |   0
 .../xcschemes/xcschememanagement.plist              |   2 +-
 3 files changed, 1 insertion(+), 1 deletion(-)

commit 00ba38d036b638549a766516d0d40658d00016de
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 17 23:12:11 2016 -0400

    Remove old and unused blocking ConsulKV client
    
    This implements WhiskConfig using ConsulClient instead of the old ConsulKV, making it unreferenced and therefore removed.
    Await.result is tolerated in WhiskConfig as it is only executed once per component.

 .../src/main/scala/whisk/common/ConsulClient.scala |  64 +++++++
 .../src/main/scala/whisk/common/ConsulKV.scala     | 187 ---------------------
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  39 ++---
 .../scala/whisk/core/controller/Controller.scala   |   3 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  14 +-
 tests/src/services/KafkaConnectorTests.scala       |   4 +-
 tests/src/whisk/common/CommonTests.scala           |  14 +-
 tests/src/whisk/consul/ConsulKVTests.scala         |  87 ----------
 tests/src/whisk/core/WhiskConfigTests.scala        |   3 +-
 9 files changed, 103 insertions(+), 312 deletions(-)

commit 5c53c70969b3c2a1b304718902bbbed31f1dcb13
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 17 11:55:06 2016 -0400

    Extend ConsulClient to support catalog and health API
    
    - remove rotten consul code

 .../src/main/scala/whisk/common/ConsulClient.scala | 123 +++++++++++++++++----
 .../main/scala/whisk/common/ConsulKVReporter.scala |  10 +-
 .../scala/whisk/common/ConsulServiceCheck.scala    |  98 ----------------
 .../scala/whisk/common/ConsulServiceHealth.scala   |  54 ---------
 .../scala/whisk/core/entitlement/Entitlement.scala |   4 +-
 .../core/loadBalancer/ActivationThrottle.scala     |   8 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   6 +-
 tests/src/whisk/consul/ConsulClientTests.scala     | 117 +++++++++++++++++---
 tests/src/whisk/consul/ConsulHealthTests.scala     |  55 +++++++++
 9 files changed, 277 insertions(+), 198 deletions(-)

commit f19c13f34fae271731e2daa1e03292ce3075bd95
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Aug 17 18:15:53 2016 -0400

    Sets the context classloader before running Java actions
    
    Accompanying unit tests. Closes #1020.

 .../src/main/java/openwhisk/java/action/Proxy.java |   7 ++
 .../JavaActionContainerTests.scala                 | 126 +++++++++++++++------
 2 files changed, 98 insertions(+), 35 deletions(-)

commit d3a297d143827eff6a40c46c59e7cf6c455bc738
Author: Perry <perry@us.ibm.com>
Date:   Thu Aug 4 17:54:13 2016 -0400

    Add whisk config parameters related to invoker core and core sharing

 ansible/group_vars/all                                   | 2 ++
 ansible/templates/whisk.properties.j2                    | 2 ++
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 ++
 3 files changed, 6 insertions(+)

commit 0c9df5a36dab32f1d8831c218d0dbcf7b4c25ebc
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Aug 18 09:50:51 2016 -0400

    issue #1081 pushImage finalize instead of distDocker

 tools/cli/build.gradle    | 2 +-
 tools/go-cli/build.gradle | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0b68faf408acd9db59443bb07c6b9b34bfa0b28c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 14:03:58 2016 +0200

    Treat Scala compiler warnings as failures
    
    Also introduces warnings on unused imports.

 .travis.yml                                        |  2 +-
 common/scala/build.gradle                          |  6 ++++-
 .../scala/src/main/scala/whisk/common/Config.scala | 11 --------
 .../src/main/scala/whisk/common/ConsulClient.scala |  5 ----
 .../main/scala/whisk/common/ConsulKVReporter.scala |  6 +----
 .../scala/whisk/common/ConsulServiceCheck.scala    |  2 --
 .../src/main/scala/whisk/common/HttpUtils.scala    |  1 -
 .../src/main/scala/whisk/common/Logging.scala      |  2 --
 .../src/main/scala/whisk/common/Scheduler.scala    |  1 -
 .../src/main/scala/whisk/core/WhiskConfig.scala    |  1 -
 .../whisk/core/connector/LoadbalancerRequest.scala |  1 -
 .../scala/whisk/core/database/ArtifactStore.scala  |  1 -
 .../whisk/core/database/CouchDbRestClient.scala    |  2 +-
 .../whisk/core/database/CouchDbRestStore.scala     |  6 -----
 .../whisk/core/database/DocumentFactory.scala      |  3 ---
 .../scala/whisk/core/database/InMemoryCache.scala  |  1 -
 .../scala/whisk/core/entity/ActivationResult.scala |  5 ----
 .../src/main/scala/whisk/core/entity/Limits.scala  |  6 -----
 .../main/scala/whisk/core/entity/Parameter.scala   |  1 -
 .../src/main/scala/whisk/core/entity/Secret.scala  |  2 --
 .../main/scala/whisk/core/entity/WhiskAction.scala | 10 --------
 .../main/scala/whisk/core/entity/WhiskAuth.scala   |  5 ----
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  1 -
 .../main/scala/whisk/core/entity/WhiskStore.scala  | 11 --------
 .../main/scala/whisk/http/BasicRasService.scala    |  2 --
 .../whisk/utils/ExecutionContextFactory.scala      |  5 ----
 core/controller/build.gradle                       |  6 ++++-
 .../main/scala/whisk/core/controller/Actions.scala | 30 +++++-----------------
 .../scala/whisk/core/controller/Activations.scala  | 11 --------
 .../scala/whisk/core/controller/ApiUtils.scala     | 13 +---------
 .../controller/AuthorizedRouteDispatcher.scala     | 11 +-------
 .../main/scala/whisk/core/controller/Backend.scala | 17 ------------
 .../scala/whisk/core/controller/Controller.scala   |  3 ---
 .../scala/whisk/core/controller/Entities.scala     |  1 -
 .../scala/whisk/core/controller/Namespaces.scala   |  1 -
 .../scala/whisk/core/controller/Packages.scala     |  1 -
 .../scala/whisk/core/controller/RestAPIs.scala     | 12 +++------
 .../main/scala/whisk/core/controller/Rules.scala   |  1 -
 .../scala/whisk/core/controller/Triggers.scala     |  5 ----
 .../scala/whisk/core/entitlement/Collection.scala  |  1 -
 .../scala/whisk/core/entitlement/Entitlement.scala |  1 -
 .../whisk/core/entitlement/PackageCollection.scala |  6 -----
 .../whisk/core/entitlement/RemoteEntitlement.scala |  1 -
 core/dispatcher/build.gradle                       |  6 ++++-
 .../scala/whisk/core/container/Container.scala     |  2 --
 .../scala/whisk/core/container/ContainerPool.scala |  5 ----
 .../whisk/core/container/ContainerUtils.scala      |  1 -
 .../whisk/core/container/WhiskContainer.scala      |  4 ---
 .../whisk/core/dispatcher/ActivationFeed.scala     |  1 -
 .../scala/whisk/core/dispatcher/DispatchRule.scala |  2 --
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |  1 -
 .../main/scala/whisk/core/invoker/Invoker.scala    |  1 -
 .../scala/whisk/core/invoker/InvokerServer.scala   |  2 --
 settings.gradle                                    |  5 ++++
 tests/build.gradle                                 |  6 ++++-
 tests/src/actionContainers/ActionContainer.scala   |  1 -
 .../JavaActionContainerTests.scala                 |  5 ----
 .../PythonActionContainerTests.scala               |  3 ---
 .../SwiftActionContainerTests.scala                |  1 -
 tests/src/common/Wsk.scala                         |  3 ---
 tests/src/common/WskActorSystem.scala              |  1 -
 tests/src/limits/ActionLimitsTests.scala           |  4 ---
 tests/src/services/HeadersTests.scala              |  9 -------
 tests/src/services/KafkaConnectorTests.scala       |  1 -
 tests/src/services/PingTests.scala                 |  2 --
 tests/src/system/basic/CLIJavaTests.scala          |  1 -
 tests/src/system/basic/CLIPythonTests.scala        | 12 ---------
 tests/src/system/basic/CLISwiftTests.scala         |  1 -
 tests/src/system/basic/PackageTests.scala          | 16 ------------
 .../src/system/basic/WskActionSequenceTests.scala  |  3 ---
 tests/src/system/basic/WskBasicNodeTests.scala     |  4 +--
 tests/src/system/basic/WskBasicTests.scala         | 10 +-------
 tests/src/whisk/common/ConfigTests.scala           |  4 ---
 tests/src/whisk/common/CryptTests.scala            |  9 -------
 tests/src/whisk/common/SchedulerTests.scala        |  2 --
 tests/src/whisk/consul/ConsulClientTests.scala     |  2 --
 tests/src/whisk/consul/ConsulKVTests.scala         |  1 -
 .../core/container/test/ContainerPoolTests.scala   |  8 ------
 .../core/controller/test/ActionsApiTests.scala     |  6 -----
 .../core/controller/test/ActivationsApiTests.scala |  8 ------
 .../core/controller/test/AuthenticateTests.scala   |  3 ---
 .../core/controller/test/AuthorizeTests.scala      | 24 -----------------
 .../controller/test/ControllerTestCommon.scala     |  1 -
 .../core/controller/test/NamespacesApiTests.scala  |  1 -
 .../controller/test/PackageActionsApiTests.scala   | 16 ------------
 .../core/controller/test/PackagesApiTests.scala    | 22 ----------------
 .../whisk/core/controller/test/RulesApiTests.scala |  9 -------
 .../core/controller/test/TriggersApiTests.scala    |  1 -
 .../database/test/CouchDbRestClientTests.scala     | 27 ++++++-------------
 tests/src/whisk/core/database/test/DbUtils.scala   |  3 ---
 .../core/dispatcher/test/DispatcherTests.scala     |  1 -
 .../whisk/core/entity/test/ConformanceTests.scala  |  5 ----
 .../whisk/core/entity/test/DatastoreTests.scala    |  2 --
 tests/src/whisk/core/entity/test/ViewTests.scala   |  7 -----
 tests/src/whisk/test/http/RESTProxy.scala          |  3 ---
 95 files changed, 51 insertions(+), 447 deletions(-)

commit 9882e3ad61f9d614ecd27e661dbba41e386842ea
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Jul 29 12:05:59 2016 +0200

    Remove unused variables from WhiskConfig and add the ability to Config to ask for environment-variables.

 ansible/templates/whisk.properties.j2              |   6 +
 .../scala/src/main/scala/whisk/common/Config.scala |  91 +++------------
 .../scala/whisk/common/ConsulServiceHealth.scala   |  66 +++++------
 .../src/main/scala/whisk/core/WhiskConfig.scala    | 128 +++++++++++++++------
 .../scala/whisk/core/controller/Controller.scala   |   2 +-
 .../core/loadBalancer/LoadBalancerService.scala    |   4 +-
 tests/src/whisk/common/ConfigTests.scala           |  24 ----
 tests/src/whisk/core/WhiskConfigTests.scala        |  54 +++++++++
 8 files changed, 197 insertions(+), 178 deletions(-)

commit 43a0b306e723363a9a2d87569c56059d6a44e0e8
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Aug 15 17:24:12 2016 +0200

    Add since parameter to WskCli to get only activation from the current test.
    Fixes #1061.

 tests/src/common/WskCli.java               | 52 +++++++++++++++++++-----------
 tests/src/system/basic/CLIActionTests.java |  3 +-
 tests/src/system/basic/CLIRuleTests.java   | 35 ++++++++++++--------
 3 files changed, 57 insertions(+), 33 deletions(-)

commit 7a515ec52addf9b462fccd521bc4129780ace934
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sun Aug 14 00:14:20 2016 +0200

    Fix loglevel for trigger fire iff action was deleted

 .../src/main/scala/whisk/core/controller/Triggers.scala        | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 3a9a084cf5a32517f11415cf3be6f36ac81b7d6a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Aug 13 23:56:54 2016 +0200

    Fix loglevel of conflicts on delete

 .../scala/src/main/scala/whisk/core/database/CouchDbRestStore.scala   | 4 ++++
 1 file changed, 4 insertions(+)

commit 9e67a7718969b137a7befabc13e77eacde4201cb
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Aug 13 01:18:41 2016 +0200

    Refactoring remote entitlement service
    
    - more dense code
    - adjust log levels related to entitlement
    - surface errors reported by the remote entitlement service

 .../scala/whisk/core/controller/ApiUtils.scala     |  8 +--
 .../controller/AuthorizedRouteDispatcher.scala     |  4 +-
 .../scala/whisk/core/controller/Entities.scala     |  3 +
 .../scala/whisk/core/controller/Namespaces.scala   |  4 ++
 .../scala/whisk/core/entitlement/Entitlement.scala |  3 +
 .../whisk/core/entitlement/RemoteEntitlement.scala | 72 ++++++++++------------
 6 files changed, 48 insertions(+), 46 deletions(-)

commit 8b374edc65a611897ad4ae99307a654f1390fbd5
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 17:59:15 2016 +0200

    Report invoke being too big properly, needs to be short-circuited

 core/controller/src/main/scala/whisk/core/controller/Actions.scala | 5 +++++
 1 file changed, 5 insertions(+)

commit 87c66f186aedcef30998ff3ecfc45ceab12c2df2
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 17:37:23 2016 +0200

    Adding new exception type, fixing entity conformance logs

 .../scala/whisk/core/database/ArtifactStoreExceptions.scala |  2 ++
 .../main/scala/whisk/core/database/CouchDbRestStore.scala   | 13 +++++++------
 .../src/main/scala/whisk/core/controller/ApiUtils.scala     | 11 ++++++-----
 tests/src/whisk/core/controller/test/ActionsApiTests.scala  | 10 ++++++++++
 tests/src/whisk/core/controller/test/RulesApiTests.scala    |  9 +++++++++
 tests/src/whisk/core/controller/test/TriggersApiTests.scala | 11 +++++++++++
 6 files changed, 45 insertions(+), 11 deletions(-)

commit b31dfe38054732f340f0f25d93c086ac645b19e8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 16:57:30 2016 +0200

    Surface proper message when rule update failed due to trigger absence

 .../src/main/scala/whisk/core/controller/Rules.scala         |  4 ++++
 tests/src/whisk/core/controller/test/RulesApiTests.scala     | 12 ++++++++++++
 2 files changed, 16 insertions(+)

commit 2b3fdcb88e43067fb924e9dd36a668cb09d55399
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 16:45:49 2016 +0200

    Fix Package error message

 .../src/main/scala/whisk/core/entitlement/PackageCollection.scala     | 4 ++++
 1 file changed, 4 insertions(+)

commit e8c5351b56af8b21144b4f7a9058d935295b8d00
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 12:01:32 2016 +0200

    Updating akka to get rid of an unnecessary log message on stdout

 common/scala/build.gradle | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e3bdc1e5e356bf9db82d455acc194ec742f54320
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 11:55:19 2016 +0200

    Getting rid of newlines in log messages

 common/scala/src/main/scala/whisk/common/Logging.scala | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 58362d5a36c1039c9798f49e75fe79ffe1e93183
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 11:38:19 2016 +0200

    Removing unnecessary part of the log

 common/scala/src/main/scala/whisk/common/Logging.scala             | 7 +------
 .../src/main/scala/whisk/core/loadBalancer/InvokerHealth.scala     | 1 -
 2 files changed, 1 insertion(+), 7 deletions(-)

commit 8783581e7549f0007e8b33db369f23f7b52f3358
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Aug 12 11:33:03 2016 +0200

    Adding documentation for Logging trait

 .../src/main/scala/whisk/common/Logging.scala      | 38 ++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit c8a7f00ac25e3ac378e6678dd864555ee67dcb1f
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Aug 10 14:10:22 2016 -0400

    Add colors for entity/JSON dumps to console (related to issue  #947 and PR #949)
    Remove `--full` argument from `wsk action list` and `wsk package list`
    Remove `--service_guid` argument from `wsk package create|update`
    Add `--summary` argument to `wsk rule get` and `wsk trigger get` commands
    Add `--summary` test cases

 tests/src/common/Wsk.scala                       |  8 ++++--
 tests/src/system/basic/WskBasicTests.scala       | 31 ++++++++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/action.go     | 12 ++++-----
 tools/go-cli/go-whisk-cli/commands/activation.go |  8 +++---
 tools/go-cli/go-whisk-cli/commands/flags.go      | 10 +++++---
 tools/go-cli/go-whisk-cli/commands/package.go    |  6 +----
 tools/go-cli/go-whisk-cli/commands/rule.go       | 10 ++++++--
 tools/go-cli/go-whisk-cli/commands/trigger.go    | 13 +++++++---
 tools/go-cli/go-whisk-cli/commands/util.go       | 11 ++++++---
 tools/go-cli/go-whisk/whisk/client.go            |  4 +--
 tools/go-cli/go-whisk/whisk/util.go              |  3 ++-
 11 files changed, 84 insertions(+), 32 deletions(-)

commit 83d83b5b86f65ce3adcf90387d5a6bacc9dcc895
Author: Alex Glikson <glikson@il.ibm.com>
Date:   Tue Aug 16 17:20:46 2016 +0300

    Fixed typo in 'package update' usage help

 tools/cli/wskpackage.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b7f8c330b63cfd795e03de328a6082acfad9cc93
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Jul 13 11:10:37 2016 -0400

    Flip the Switch to Install the Catalog with the Go CLI
    
    - Use the Go CLI to install the default catalog instead of the Python CLI

 catalog/installSystem.sh                       | 4 ++--
 catalog/installWeather.sh                      | 4 ++--
 catalog/util.sh                                | 2 +-
 tools/go-cli/go-whisk-cli/commands/property.go | 7 +++++--
 4 files changed, 10 insertions(+), 7 deletions(-)

commit d5f9ae4277ca3f0ff5f7ca8b8a6815468b9b440e
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Wed Aug 10 15:00:53 2016 -0700

    Updated installWeather.sh sample text

 catalog/installWeather.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 05fd5f4be4df4631c60cfd4cc8b323923624e9bc
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Aug 11 16:51:36 2016 +0200

    make TestUtils more verbose. log cli arguments and results.
    add null check for logger.

 tests/src/common/TestUtils.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f580a0d5dd98b69956165e6e1e2373010a197080
Author: Nick Mitchell <nickm@us.ibm.com>
Date:   Mon Aug 8 17:48:06 2016 +0000

    Change default rule creation behavior to have status=ACTIVE (see #636).
    
    Update tests in response to critique: remove "enable" from WskRule, pull the rule validation tests out of the withCleaner scope.

 .../src/main/scala/whisk/core/controller/Rules.scala   |  4 ++--
 docs/triggers_rules.md                                 |  9 +++++++--
 tests/src/common/Wsk.scala                             |  8 +-------
 tests/src/common/WskCli.java                           |  1 -
 tests/src/system/basic/WskBasicTests.scala             | 11 ++++++++++-
 .../src/whisk/core/controller/test/RulesApiTests.scala | 18 +++++++++---------
 6 files changed, 29 insertions(+), 22 deletions(-)

commit 77b711057eb7779ead8b077876f4139beb6d4d2f
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Aug 12 17:39:07 2016 +0200

    Correct the endmarker for blocking activations (to occur on future completion).

 .../src/main/scala/whisk/core/controller/Actions.scala      | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit fe443e9b25a8bab6e91e1623d24322259f41d4bd
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Aug 12 13:53:16 2016 -0400

    Make websocket/send fail if a connection is not established within a reasonable time.

 catalog/websocket/sendWebSocketMessageAction.js | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 4e7cb7e397129cca2cd4920434d35f4231b3e92a
Author: James Thomas <james.thomas@uk.ibm.com>
Date:   Fri Aug 12 14:50:04 2016 +0100

    Updates Weather Forecast Action to use new version of the API
    
    Weather service used by the forecast action has recently released a
    new API version. This has broken the current Action source, which
    used the old URL structure. Updating the code to use the new URL
    paths and parameters.

 catalog/weather/forecast.js | 22 ++++++++++------------
 docs/catalog.md             |  4 ++--
 2 files changed, 12 insertions(+), 14 deletions(-)

commit ac243031e2e62ebff9b57f23aeb7b36d0f0484a5
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Aug 1 10:32:57 2016 -0400

    Update Go CLI usage syntax

 tools/go-cli/go-whisk-cli/commands/action.go     | 66 ++++++++++++------------
 tools/go-cli/go-whisk-cli/commands/activation.go | 33 ++++++------
 tools/go-cli/go-whisk-cli/commands/flags.go      |  1 -
 tools/go-cli/go-whisk-cli/commands/namespace.go  |  7 ++-
 tools/go-cli/go-whisk-cli/commands/package.go    | 36 ++++++-------
 tools/go-cli/go-whisk-cli/commands/property.go   |  8 +--
 tools/go-cli/go-whisk-cli/commands/rule.go       | 28 +++++-----
 tools/go-cli/go-whisk-cli/commands/sdk.go        |  5 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go    | 30 +++++------
 tools/go-cli/go-whisk-cli/commands/wsk.go        |  6 +--
 10 files changed, 108 insertions(+), 112 deletions(-)

commit 48eb336aad31a872dd6b7b8ab2fe80c9e01d7a39
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Aug 3 11:27:12 2016 +0200

    Create Transaction based logging.
    Make emit implicit instead of passing it around.
    Use akka Loglevel instead of own Loglevels.
    Move the logmarker to the end of the message fixes #487.
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../src/main/scala/whisk/common/Logging.scala      | 217 +++++++--------------
 .../main/scala/whisk/common/TransactionId.scala    |  88 +++++++--
 .../whisk/core/database/CouchDbRestStore.scala     |  51 ++---
 .../scala/whisk/core/database/InMemoryCache.scala  |   4 +-
 .../main/scala/whisk/core/controller/Actions.scala |  24 ++-
 .../main/scala/whisk/core/controller/Backend.scala |   4 +-
 .../scala/whisk/core/controller/Controller.scala   |  11 +-
 .../scala/whisk/core/controller/RestAPIs.scala     |  18 +-
 .../scala/whisk/core/controller/Triggers.scala     |   5 +-
 .../scala/whisk/core/entitlement/Collection.scala  |   4 +-
 .../scala/whisk/core/entitlement/Entitlement.scala |  10 +-
 .../whisk/core/entitlement/RateThrottler.scala     |   6 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    |   4 +-
 .../core/loadBalancer/LoadBalancerToKafka.scala    |   7 +-
 .../scala/whisk/core/container/ContainerPool.scala |  19 +-
 .../whisk/core/container/ContainerUtils.scala      |  20 +-
 .../whisk/core/container/WhiskContainer.scala      |  22 ++-
 .../scala/whisk/core/dispatcher/Dispatcher.scala   |   4 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    |  49 ++---
 tests/src/services/KafkaConnectorTests.scala       |   6 +-
 .../core/container/test/ContainerPoolTests.scala   |   9 +-
 .../core/controller/test/ActionsApiTests.scala     |   4 +-
 .../core/controller/test/AuthorizeTests.scala      |   1 -
 .../controller/test/ControllerTestCommon.scala     |  14 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   8 +-
 .../whisk/core/entity/test/ConformanceTests.scala  |  16 +-
 .../whisk/core/entity/test/DatastoreTests.scala    |   7 +-
 tests/src/whisk/core/entity/test/ViewTests.scala   |   4 +-
 29 files changed, 322 insertions(+), 318 deletions(-)

commit f33437a6f9dc9d775114cc1f269de5cf1c19d54f
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Aug 3 17:57:20 2016 -0400

    Accept query doc as JSON object rather than serialized String
    
    Avoids potential double-encoding.

 .../scala/src/main/scala/whisk/core/database/CloudantRestClient.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dfd1e4e5b6eca8889d87eaf09395c581ab11670e
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 10 20:50:09 2016 +0200

    Make task print when its called
    
    omitting `<<` in a plain task causes the statements to be executed during gradles initialize phase as opposed to when its finally called

 tools/go-cli/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e3c57b0ddbc2fa811878a9398c483d1613399d40
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon Aug 1 16:15:22 2016 -0400

    Have whisk.invoke() and whisk.trigger() return a Promise if the next callback is not provided
    
    If a callback is supplied as the "next" parameter, these functions return nothing and uses the callback as before.
    If no "next" parameter is supplied, these functions return a promise.
    Added unit tests to ensure that the returned promise behaves as expected, as well as the existing callback functionality still works.
    Refactor post() to be totally common for both trigger() and invoke()
    post() now itself returns a Promise

 core/nodejsActionBase/src/whisk.js             | 120 ++++++++++--------
 docs/reference.md                              |  61 ++++++---
 tests/dat/actions/invokeCallback.js            |  36 ++++++
 tests/dat/actions/invokePromise.js             |  34 +++++
 tests/dat/actions/threeSecondRule.js           |  24 ++++
 tests/dat/actions/triggerCallback.js           |  14 +++
 tests/dat/actions/triggerPromise.js            |  13 ++
 tests/src/system/basic/WskBasicNodeTests.scala | 167 +++++++++++++++++++++++++
 8 files changed, 403 insertions(+), 66 deletions(-)

commit 36a730acdac23b147a3fabdb3ee054e713186e29
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Sat Aug 6 14:54:11 2016 -0400

    use copytask for go-cli copy Fixes #1002

 tools/go-cli/build.gradle | 54 ++++++++++++++++++++++++-----------------------
 1 file changed, 28 insertions(+), 26 deletions(-)

commit c493f50c93b1a5560715bba0e77d4dedc6278b08
Author: Perry <perry@us.ibm.com>
Date:   Wed Aug 3 16:35:06 2016 -0400

    Change KVReporter's input thunk so that it accepts a count.  Use count to reduce the rate at which user activation counts are written out

 common/scala/src/main/scala/whisk/common/ConsulKVReporter.scala    | 7 ++++---
 .../src/main/scala/whisk/core/loadBalancer/InvokerHealth.scala     | 2 +-
 .../main/scala/whisk/core/loadBalancer/LoadBalancerService.scala   | 4 +---
 core/dispatcher/src/main/scala/whisk/core/invoker/Invoker.scala    | 7 ++++---
 4 files changed, 10 insertions(+), 10 deletions(-)

commit 0a4b14a9ee2dadae62ac4fd79fe23841b6d5165c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Aug 10 13:34:30 2016 +0200

    Adapt docker installation to new travis images
    
    - Remove travis environment, no longer needed
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/environments/travis/group_vars/all | 19 -------------------
 ansible/environments/travis/hosts          | 26 --------------------------
 tools/travis/build.sh                      |  2 +-
 tools/travis/setup.sh                      | 10 ++++------
 4 files changed, 5 insertions(+), 52 deletions(-)

commit 0a1f2105d163104fda2ed8cbebd91bfcc82914b4
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jul 25 19:37:48 2016 -0400

    Annotations Must be Parsed as Raw JSON

 tests/src/common/Wsk.scala                         |  11 +-
 tests/src/system/basic/WskBasicTests.scala         |   4 +-
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 424 +++++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/action.go       |  40 +-
 tools/go-cli/go-whisk-cli/commands/commands.go     |   4 +-
 tools/go-cli/go-whisk-cli/commands/package.go      |  24 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go      |  88 ++---
 tools/go-cli/go-whisk-cli/commands/util.go         | 278 +++++++-------
 tools/go-cli/go-whisk/whisk/action.go              |  80 ++--
 tools/go-cli/go-whisk/whisk/client.go              |   2 +
 tools/go-cli/go-whisk/whisk/package.go             |  84 ++--
 tools/go-cli/go-whisk/whisk/trigger.go             |  32 +-
 12 files changed, 721 insertions(+), 350 deletions(-)

commit 649e39aee9126fee2c2e2759e8310607d8e8b301
Author: Kalonji Bankole <kkbankol@us.ibm.com>
Date:   Thu Aug 4 11:48:58 2016 -0700

    Adds support for distributed Openwhisk deployments (with initial support for OpenStack). The following playbooks have the ability to provision VMs and deploy openwhisk on top of them.
    
    provision_env_dist.yml
    boot_instances_dist.yml
    configure_env_dist.yml
    build_images_dist.yml
    
    provision_env_dist.yml iterates through an array of instances. The configuration information for each instance is passed to the boot_instances_dist.yml playbook, which uses the os_server module to make provisioning requests directly against the IaaS. Once the VMs are provisioned, docker images for OpenWhisk are created and pushed to a private docker registry. The configure_env_dist.yml playbook calls the couchdb, initdb, wipe, openwhisk, and postdeploy playbooks. If these are successful, a sample "hello" action is invoked to ensure the deployment worked.

 ansible/README_DISTRIBUTED.md                      |  98 ++++++++++++++++
 ansible/boot_instances_dist.yml                    |  40 +++++++
 ansible/environments/distributed/group_vars/all    |  72 ++++++++++++
 ansible/environments/distributed/hosts             |  21 ++++
 ansible/group_vars/all                             |  22 +++-
 ansible/prereq_build.yml                           |  20 ++++
 ansible/provision_env_dist.yml                     |  37 ++++++
 ansible/registry.yml                               |  20 ++++
 ansible/roles/docker/tasks/clean.yml               |   9 ++
 ansible/roles/docker/tasks/deploy.yml              |  35 ++++++
 ansible/roles/docker/tasks/main.yml                |  10 ++
 ansible/roles/docker/templates/docker.j2           |  13 +++
 ansible/roles/registry/tasks/clean.yml             |  12 ++
 ansible/roles/registry/tasks/deploy.yml            |  64 +++++++++++
 ansible/roles/registry/tasks/gencert.yml           |  10 ++
 ansible/roles/registry/tasks/main.yml              |  11 ++
 ansible/roles/registry/tasks/publish.yml           |  26 +++++
 .../registry/templates/recycle-registry.py.j2      | 126 +++++++++++++++++++++
 ansible/roles/whiskhost/tasks/addUser.yml          |  25 ++++
 ansible/roles/whiskhost/tasks/clean.yml            |   5 +
 ansible/roles/whiskhost/tasks/deploy.yml           |   7 ++
 ansible/roles/whiskhost/tasks/main.yml             |  10 ++
 ansible/roles/whiskhost/tasks/patchKernel.yml      |  39 +++++++
 tools/ubuntu-setup/README.md                       |  14 ++-
 24 files changed, 735 insertions(+), 11 deletions(-)

commit 8bea78bd9a614516ef51d348af5cacaac0799503
Author: Vincent Hou <shou@us.ibm.com>
Date:   Thu Aug 4 21:23:37 2016 -0400

    Remove services:registrator in gradle setting
    
    Since services:registrator is removed, we need to remove from the
    gradle setting. If it is still there, import openwhisk project
    as a gradle project will raise an error in eclipse.

 settings.gradle | 1 -
 1 file changed, 1 deletion(-)

commit 022f9ff5f5283291fd0f9196157ebf770cbd13fe
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Aug 4 20:43:16 2016 -0400

    sync docs with bluemix docs edits

 docs/README.md         |  11 ++--
 docs/about.md          |  18 ++++---
 docs/actions.md        |  63 +++++++++++-----------
 docs/catalog.md        | 139 ++++++++++++++++++++++++-------------------------
 docs/mobile_sdk.md     |  35 ++++++-------
 docs/packages.md       |  13 +++--
 docs/reference.md      | 109 ++++++++++++++++++--------------------
 docs/triggers_rules.md |  15 +++---
 8 files changed, 198 insertions(+), 205 deletions(-)

commit 461d9a8fd67113bafd09ff4cfd09cc67780b219a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Jul 27 16:49:48 2016 -0400

    Split CLI tests into basic usage and integration tests.
    
    Change units from Int to ByteSize for byte-sized-limited, update comments and json serdes, add byte size subtraction, update tests.
    
    Make some const values core package visible.
    
    Make memory option byte-sizes.
    
    Add toString on byte-size and update error messages.
    
    Remove printlns.
    
    Update and move tests around between packages.
    
    Make TimeLimit constructor accept only a duration.
    
    Revert change to log/memory limit constructor so that the type is int not bytesize (really would want to constrain this to be MB but the type conversions aren't that rich and arguably not worth it as this can be hidden behind the private constructor).
    
    Change Bytes to B in toString to avoid 1 bytes vs 1 byte. Should it be byte[s] and append the s only when necessary?
    
    Emit parameters should test fail.
    
    Use python CLI for http test as go cli assumes https.
    
    Add some more tests for limits.
    
    Use Python CLI for two tests that do not work with Go CLI.
    
    Add retry on list operations which might need some time to be consistent.

 .../main/scala/whisk/core/entity/LogLimit.scala    |  24 +-
 .../main/scala/whisk/core/entity/MemoryLimit.scala |  24 +-
 .../src/main/scala/whisk/core/entity/Size.scala    |  14 +
 .../main/scala/whisk/core/entity/TimeLimit.scala   |  41 +-
 tests/src/common/Wsk.scala                         |   6 +-
 tests/src/common/WskTestHelpers.scala              |   2 -
 tests/src/system/basic/WskBasicTests.scala         | 454 +------------------
 .../whisk/core/cli/test/WskBasicUsageTests.scala   | 479 +++++++++++++++++++++
 .../core/controller/test/ActionsApiTests.scala     |   3 +-
 tests/src/whisk/core/entity/test/SchemaTests.scala |  65 +--
 tests/src/whisk/core/entity/test/SizeTests.scala   |  39 +-
 tools/cli/wsk                                      |   4 +-
 12 files changed, 621 insertions(+), 534 deletions(-)

commit fc7cad41cec25b80517e454ba156e0efc7835ba3
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Aug 3 21:26:06 2016 -0400

    fix go tabs to spaces

 tools/go-cli/go-whisk-cli/commands/action.go  | 1282 ++++++++++++-------------
 tools/go-cli/go-whisk-cli/commands/package.go | 1104 ++++++++++-----------
 2 files changed, 1193 insertions(+), 1193 deletions(-)

commit f1af1fb586322d60583c3fb3daf882506a0d8de0
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jul 25 18:12:36 2016 -0400

    Enable Colors in the CLI for Windows OS
    
    - Updating printing of colors and styles so they are displayed on the Windows operating system

 tools/go-cli/go-whisk-cli/commands/action.go     | 1288 +++++++++++-----------
 tools/go-cli/go-whisk-cli/commands/activation.go |   12 +-
 tools/go-cli/go-whisk-cli/commands/namespace.go  |    6 +-
 tools/go-cli/go-whisk-cli/commands/package.go    | 1104 +++++++++----------
 tools/go-cli/go-whisk-cli/commands/property.go   |   44 +-
 tools/go-cli/go-whisk-cli/commands/rule.go       |   16 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go    |   16 +-
 tools/go-cli/go-whisk-cli/commands/util.go       |   19 +-
 tools/go-cli/go-whisk-cli/commands/wsk.go        |    5 +
 9 files changed, 1255 insertions(+), 1255 deletions(-)

commit 03024b1b59501a250e93e31f1f29d70cc8e8f6dc
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Jul 22 15:19:48 2016 +0200

    Resolve log id using travis API.
    
    Logs are not always present at {buildId}+1 so we need to ask travis' api for the proper log id.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 tools/build/citool | 49 +++++++++++++++++++++++++++++++++++++------------
 1 file changed, 37 insertions(+), 12 deletions(-)

commit 22bc79764f63a6524bc181bddcb5999951c70886
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jun 27 00:12:32 2016 -0400

    WIP: Update Go CLI Package Argument Errors
    
    - Display more information about invalid arguments

 tests/src/system/basic/WskBasicTests.scala    |  81 ++++++++++++
 tools/go-cli/go-whisk-cli/commands/package.go | 171 +++++++++++---------------
 2 files changed, 150 insertions(+), 102 deletions(-)

commit 2884f7ef53e2ffd639a2870d3e35f332152ed586
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Aug 3 10:13:00 2016 -0400

    Fix link to CLI and add API host tip.
    Fix link to db README.
    
    Remove deadcode.
    
    Move gradle helper to gradle directory and update all path.

 common/scala/build.gradle             |   2 +-
 config/writePropertyFile.sh           | 180 ----------------------------------
 core/controller/build.gradle          |   2 +-
 core/dispatcher/build.gradle          |   2 +-
 core/javaAction/build.gradle          |   2 +-
 core/nodejs6Action/build.gradle       |   2 +-
 core/nodejsAction/build.gradle        |   2 +-
 core/nodejsActionBase/build.gradle    |   2 +-
 core/pythonAction/build.gradle        |   2 +-
 core/swift3Action/build.gradle        |   2 +-
 core/swiftAction/build.gradle         |   2 +-
 docker.gradle => gradle/docker.gradle |   0
 sdk/docker/build.gradle               |   2 +-
 services/consul/build.gradle          |   2 +-
 services/kafka/build.gradle           |   2 +-
 services/zookeeper/build.gradle       |   2 +-
 tools/cli/build.gradle                |   2 +-
 tools/go-cli/build.gradle             |   3 +-
 tools/ubuntu-setup/README.md          |   4 +-
 tools/vagrant/README.md               |   6 +-
 20 files changed, 22 insertions(+), 201 deletions(-)

commit 7c04bd20407be6b72c842ceeda220417d9f5c9d5
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Jul 13 09:41:12 2016 -0400

    Make sure that the Github webhook URL is properly encoded before using
    
    - Improve error handling when invalid arguments are passed to action commands
    - Display an error when an invalid kind is passed when creating an action
    - Add --kind to action update

 tests/src/system/basic/CLIActionTests.java   |   2 +-
 tests/src/system/basic/WskBasicTests.scala   |  74 +++++++++
 tools/go-cli/go-whisk-cli/commands/action.go | 218 +++++++++++++--------------
 3 files changed, 177 insertions(+), 117 deletions(-)

commit 83227e2ee617965e1208f67a12bed2de96f37ba0
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Mon Jul 4 13:21:22 2016 +0200

    Adding mirrors of tinycorelinux into tweak-dockermachine script.

 tools/macos/tweak-dockermachine.sh | 9 +++++++++
 1 file changed, 9 insertions(+)

commit f2cc16452ec33171b8dfc76dbd5252a5a52bbc23
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Aug 2 21:58:19 2016 -0400

    Modify activation feed so that we grab next batch of messages and commit offsets immediately, essentially marking the activation as having satisfied "at most once" semantics (this is the point at which the activation is considered started); if the commit fails, then messages peeked are peeked again on the next poll.
    
    While the commit is synchronous and will block until it completes, at steady state with enough buffering (i.e., maxPipelineDepth > maxPeek), the latency of the commit should be masked.
    
    Add kafka test where we intentionally fail the commit and then confirm recovery.
    
    (Unrelated by stashed in this commit: Ignore any db local ini in ansible directory in case there are more than one.)

 .gitignore                                         |  2 +-
 .../connector/kafka/KafkaConsumerConnector.scala   | 10 ++-
 .../whisk/core/dispatcher/ActivationFeed.scala     | 32 +++++---
 tests/src/services/KafkaConnectorTests.scala       | 92 +++++++++++++++-------
 .../core/dispatcher/test/DispatcherTests.scala     | 83 ++++++++++---------
 .../whisk/core/dispatcher/test/TestConnector.scala |  7 +-
 6 files changed, 140 insertions(+), 86 deletions(-)

commit fabd87f6187066da3158c8cd17a560b81353b622
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Aug 2 16:51:50 2016 +0200

    Increase maximumAllowedDelay for invokers from 5 to 20 seconds.
    Increase kafka session timeout to 30 seconds.
    
    Signed-off-by: Jeremias Werner <JEREWERN@de.ibm.com>

 .../src/main/scala/whisk/connector/kafka/KafkaConsumerConnector.scala   | 2 +-
 .../src/main/scala/whisk/core/loadBalancer/InvokerHealth.scala          | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 8c265dccb600ef84d6a83225073dcb148580a6d9
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Aug 1 19:58:11 2016 -0400

    add swapfile to Vagrant Fixes #708

 .gitignore                | 6 ++++++
 ansible/.gitignore        | 2 --
 tools/vagrant/Vagrantfile | 9 +++++++++
 3 files changed, 15 insertions(+), 2 deletions(-)

commit 3029383253a88926b8a7eb119aa9973f72ee41d5
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Aug 1 23:29:40 2016 -0400

    Disable CouchDbRestClient connection tests
    
    Those have become disruptive on Travis CI. Disabling until we can at least reproduce locally.

 tests/src/whisk/core/database/test/CouchDbRestClientTests.scala | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2847500f018730befdfa8825eaaa082df04cd2b8
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jul 14 16:16:08 2016 -0400

    Helper to construct/teardown ActorSystems in tests
    
    Eliminates code duplication, and ensures all systems are properly shutdown.

 tests/src/common/WskActorSystem.scala              | 50 ++++++++++++++++++++++
 tests/src/services/HeadersTests.scala              |  8 ++--
 tests/src/whisk/common/SchedulerTests.scala        | 10 ++---
 tests/src/whisk/consul/ConsulClientTests.scala     |  7 ++-
 .../core/container/test/ContainerPoolTests.scala   | 12 ++----
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../database/test/CouchDbRestClientTests.scala     | 15 ++-----
 .../whisk/core/entity/test/ConformanceTests.scala  | 19 ++------
 .../whisk/core/entity/test/DatastoreTests.scala    | 13 ++----
 tests/src/whisk/core/entity/test/ViewTests.scala   | 15 +++----
 10 files changed, 84 insertions(+), 67 deletions(-)

commit 84bf14a6ed97e8255c9c15b083be5d33decaca99
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 27 16:07:47 2016 +0200

    Cleaning up gradle files
    
    - Making gradle files even more standardized
    - Moving controller/invoker command to Dockerfile/ansible playbook

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 core/controller/Dockerfile             | 2 +-
 core/controller/build.gradle           | 7 -------
 core/dispatcher/build.gradle           | 7 -------
 4 files changed, 2 insertions(+), 16 deletions(-)

commit 54b583cf2998592996cd8223bb4cb7f2d8d5c4e3
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Mon Jul 25 16:09:40 2016 -0400

    Update weather package to use username and password not apiKey.
    
    Updated docs for weather name change
    
    Updated weather service name

 catalog/installWeather.sh   | 7 ++++---
 catalog/weather/forecast.js | 8 +++++---
 docs/catalog.md             | 9 +++++----
 3 files changed, 14 insertions(+), 10 deletions(-)

commit 628a906af8e9ee3fa8550495ef481bbaffc3f3ac
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Mon Jul 25 16:39:31 2016 -0400

    Add compilation for init with check for compilation errors and modify test accordingly (fixes #493).
    Add test for bug fix related to unsafe parameter passing ({x: null} for example)
    
    Limit stack trace to exclude proxy.
    Add CLI test for #493.
    Remove println in test.

 core/pythonAction/pythonaction.py                  | 22 ++++++++++---
 tests/dat/actions/malformed.py                     |  2 ++
 .../PythonActionContainerTests.scala               | 37 ++++++++++++++++------
 tests/src/system/basic/CLIJavaTests.scala          |  3 +-
 tests/src/system/basic/CLIPythonTests.scala        | 21 ++++++++++--
 5 files changed, 67 insertions(+), 18 deletions(-)

commit c94b6bf33964fbf595fb8d52cad2f44d769d1bb4
Author: Evan Patterson <ejpatters@gmail.com>
Date:   Sat Jul 16 11:08:04 2016 -0400

    BUG: Unsafe parameter passing in Python action
    
    The line is incorrect because JSON is not valid Python, e.g., `null` is not defined in Python.

 core/pythonAction/pythonaction.py | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d827a9edc656a636f4b676d4b6fdc580cc4e7c44
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Jul 31 03:22:11 2016 -0400

    Change image for pre-warmed containers from NodeJs to NodeJs6 since the latter is the default for Node actions now.
    Fixes #976.

 .../src/main/scala/whisk/core/container/ContainerPool.scala          | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit fdd10ae2f63ed8d9cab89c27e89a6dab37e54193
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Jul 28 10:45:41 2016 +0200

    Add documentation for exec-, parameter- and annotation-limits #958

 docs/reference.md | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit b948101bb576b1a42f589c16ebd19640c67b6d8c
Author: Vincent Hou <shou@us.ibm.com>
Date:   Wed Jul 6 15:03:41 2016 -0400

    Make the catalog able to install from openwhisk-catalog repos
    
    Currently, the catalog is installed by default together with
    openwhisk. This patch adds a parameter named catalog_source to
    determine whether to install the catalog from openwhisk-catalog.
    
    If it is "catalog-repos", install the catalog from all the available
    catalog repos. If it is set to any value except "catalog-repos",
    openwhisk will not install catalog from the openwhisk-catalog.
    The command to install the catalog from openwhisk-catalog is:
    "ansible-playbook -i environments/local postdeploy.yml -e catalog_source=catalog-repos".
    
    The script installCatalog.sh in the catalog needs to be able to
    parse catalog_auth_key, api_host and catalog_namespace as the arguments.
    
    Closes-Bug: #719

 ansible/group_vars/all                    | 44 +++++++++++++++++++++++++++++++
 ansible/postdeploy.yml                    |  6 ++++-
 ansible/tasks/installOpenwhiskCatalog.yml | 34 ++++++++++++++++++++++++
 3 files changed, 83 insertions(+), 1 deletion(-)

commit 92c4f382823eb0a9c2a7da00eafa144251a48321
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Jul 31 12:00:34 2016 -0400

    Add tip and step to install ansible.
    Remove gradle in favor of gradlew.

 tools/build/README.md |  9 +++++++++
 tools/macos/README.md | 14 +++++++++-----
 2 files changed, 18 insertions(+), 5 deletions(-)

commit c84524096f7167baf3c933b17b3b66f6566437b4
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Fri Jul 29 15:27:49 2016 -0400

    Ignore reports generated when running tests.

 tools/build/scanCode.py | 1 +
 1 file changed, 1 insertion(+)

commit 3c95e7d3857dbf889b4fe34ae78c45654af0e31c
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jul 20 08:12:35 2016 -0400

    - Use a default api host value of "" (empty string)
    - --apihost argument still overrides configured apihost value (including the default value)
    - Add test case to check for default property values
    - Fix bug: `wsk property get --apihost` would return all property values
    
    Add warning comment to CLI property configuration file backup/restore methods.

 tests/src/common/TestUtils.java                | 47 ++++++++++++
 tests/src/common/Wsk.scala                     |  2 +-
 tests/src/system/basic/WskBasicTests.scala     | 98 +++++++++++++++++++-------
 tools/go-cli/go-whisk-cli/commands/commands.go |  1 +
 tools/go-cli/go-whisk-cli/commands/property.go |  4 +-
 5 files changed, 122 insertions(+), 30 deletions(-)

commit d35288d5705b52404713e1b85eef4edf77549996
Author: Perry <perry@us.ibm.com>
Date:   Wed Jul 27 11:48:38 2016 -0400

    Lift the pull operation from the Container ctor chain into the container pool.
    Send docker pull operation to a different guard so that pull operations are serialized
    among themselves but can run concurrently with non-pull operations.

 .../scala/whisk/core/container/Container.scala     |   3 -
 .../scala/whisk/core/container/ContainerPool.scala | 111 +++++++++++++--------
 .../whisk/core/container/ContainerUtils.scala      |  81 +++++++++------
 .../whisk/core/container/WhiskContainer.scala      |   3 +-
 4 files changed, 118 insertions(+), 80 deletions(-)

commit 4a3d61e1e94bd6bb6da72bbca6db4849b770e3e5
Author: saschoff91 <saschoff@de.ibm.com>
Date:   Mon Jun 27 16:21:54 2016 +0200

    update and add npm packages to nodejs6 actions
    add twilio sendgrid pkgcloud iconv-lite nodemailer
    update watson-developer cloud
    update docs references

 core/nodejs6Action/Dockerfile | 7 ++++++-
 docs/reference.md             | 7 ++++++-
 2 files changed, 12 insertions(+), 2 deletions(-)

commit 9325a64bfafc454a61092bc1069406216b07a429
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Jul 15 14:36:13 2016 -0400

    Test to confirm that CouchDbRestClient is resilient to transient TCP errors
    
    The test introduces an actor that acts as a "configurable" HTTP proxy (i.e. can simulate failures).
    
    Removing DbPing.scala as the new test subsumes it.

 .../whisk/core/database/CouchDbRestClient.scala    |   4 +
 .../database/test/CouchDbRestClientTests.scala     | 140 ++++++++++++++++++++
 tests/src/whisk/core/database/test/DbPing.scala    | 113 ----------------
 tests/src/whisk/test/http/RESTProxy.scala          | 142 +++++++++++++++++++++
 4 files changed, 286 insertions(+), 113 deletions(-)

commit 4eadef48f3900c62dc3a534dd8519e881cc2636b
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Jul 29 13:47:03 2016 -0400

    Updated Travis token to reflect Slack changes.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86551b61c6056b07faf1d3a5f4126fa86a9057b2
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Jul 27 17:16:57 2016 -0400

    Replace gralde with gradlew (avoids installing gradle directly).

 ansible/README.md            |  4 ++--
 tools/logs/logdiff.sh        |  4 ++--
 tools/macos/README.md        |  6 ++++--
 tools/ubuntu-setup/README.md |  2 +-
 tools/ubuntu-setup/all.sh    |  4 ----
 tools/ubuntu-setup/gradle.sh |  7 -------
 tools/vagrant/README.md      | 11 ++++++-----
 tools/vagrant/Vagrantfile    |  2 +-
 8 files changed, 16 insertions(+), 24 deletions(-)

commit 36ad900f7a81cb835e732529a5f0a69429067dd3
Author: Vincent Hou <shou@us.ibm.com>
Date:   Thu Jul 28 22:37:18 2016 -0400

    Use ansible 2.0.2.0 as the version to install openwhisk via pip.
    
    Closes-Bug: #967

 tools/travis/setup.sh         | 8 +++++---
 tools/ubuntu-setup/ansible.sh | 3 ++-
 2 files changed, 7 insertions(+), 4 deletions(-)

commit f0dab306bd8e7bfc9fcafde0467af985940131c9
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Jul 26 14:35:30 2016 +0200

    Make logsize settable for each action
    
    Adds the logsize as a limit that is settable per action and thus included in the quota for each action.
    Document logsize.
    Handle limit flags as pointers to get proper null values.
    Adding ActionLimit permutation tests.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 .../src/main/scala/whisk/core/entity/Limits.scala  |  3 --
 .../main/scala/whisk/core/entity/LogLimit.scala    |  7 ++--
 .../main/scala/whisk/core/entity/MemoryLimit.scala |  4 +--
 .../main/scala/whisk/core/entity/TimeLimit.scala   |  4 +--
 .../main/scala/whisk/core/entity/WhiskAction.scala |  4 +--
 .../main/scala/whisk/core/controller/Actions.scala |  6 ++--
 .../scala/whisk/core/container/ContainerPool.scala |  3 +-
 docs/reference.md                                  |  6 ++++
 tests/src/common/Wsk.scala                         |  4 ++-
 tests/src/limits/ActionLimitsTests.scala           |  8 ++---
 tests/src/system/basic/WskBasicTests.scala         | 42 +++++++++++++++++++---
 .../core/controller/test/ActionsApiTests.scala     |  7 ++--
 tests/src/whisk/core/entity/test/SchemaTests.scala | 13 +++----
 tools/cli/wskaction.py                             | 10 ++++--
 tools/go-cli/go-whisk-cli/commands/action.go       | 23 +++++++-----
 tools/go-cli/go-whisk-cli/commands/flags.go        |  1 +
 tools/go-cli/go-whisk/whisk/shared.go              |  5 +--
 17 files changed, 103 insertions(+), 47 deletions(-)

commit e559b029ffdeeb9342cc7c085622a6e68998b993
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed Jul 27 14:38:42 2016 +0200

    Add catalog-machine to WhiskConfig

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 ++
 1 file changed, 2 insertions(+)

commit 129b0e15f16314c9795e309e1edea3b519f60884
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Mon Jul 25 14:23:06 2016 +0200

    Ignoring all swift3 tests because Swift3 is experimental. Some of tests are failed sometimes and break the CI pipeline.

 tests/src/actionContainers/Swift3ActionContainerTests.scala |  4 ++--
 tests/src/packages/UtilsTests.scala                         | 10 +++++-----
 tests/src/system/basic/CLISwiftTests.scala                  |  4 +++-
 tests/src/system/basic/Swift3WhiskObjectTests.scala         |  4 ++--
 4 files changed, 12 insertions(+), 10 deletions(-)

commit c057222d7aa869d15c3586b9eaa2959025528b68
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Tue Jul 26 11:16:26 2016 -0400

    Watson annotation updates

 catalog/installWatson.sh | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit e4770a330ceac0ab0272ec975a366ec8cc92a097
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon Jul 25 11:07:22 2016 -0400

    Remove reference to whisk.done()

 docs/reference.md | 11 ++---------
 1 file changed, 2 insertions(+), 9 deletions(-)

commit 219e0b48e9fc46d52b6f197968cdab6ee2d9ef99
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon Jul 25 16:41:41 2016 -0400

    Invalid annotation for split action

 catalog/installSystem.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 8812ced660f568c79ca8511cbae63eadcbb19f95
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Jul 18 17:34:56 2016 -0400

    Fixes issue #917: do not accept activation id longer than 32 chars if '-' is missing. Add tests for too short, too long and general malformed.
    
    Also in this commit:
    
      * Tolerate a JsNumber when deserializing an activation id although should never happen.
      * Remove unused property 'usePythonCLI' since all specialization is done in the constructor.
      * Relay deserialization error to the client for bad activation ids.

 .../scala/whisk/core/entity/ActivationId.scala     | 45 +++++++++++++++++++---
 .../scala/whisk/core/controller/Activations.scala  |  7 +++-
 tests/src/common/WskCli.java                       |  3 --
 .../core/controller/test/ActivationsApiTests.scala | 24 +++++++++++-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 44 ++++++++++++++++++++-
 5 files changed, 111 insertions(+), 12 deletions(-)

commit e0cc2e3f276b42ed06774a0b9374f55faf4fa058
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Mon Jul 25 13:04:36 2016 +0200

    The test should be moved into another package.

 tests/src/system/basic/WskBasicTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16005862a6d7b666b16224935956a93f3c0bd0fc
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Jul 15 15:33:11 2016 -0400

    Logo in the logo

 tools/go-cli/go-whisk-cli/commands/util.go | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit b17eda57984d579ebfe05c0e738cd7913f3f3bf2
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Jun 29 17:30:14 2016 +0200

    Limit size of the logs, that are written in user containers
    
    This limits the size of logs read from an action container/written to the database by truncating the logs read from the container to the allowed size. Standard (and only allowed value currently) is 10 megabytes.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>
    
    Better documentation
    
    Updating documentation bits
    
    Moving formatLog method, some refactoring
    
    Passing LogLimit instead of ObjectSize
    
    Rewrite asserts to withClues
    
    Fixed testcases, proper serdes for ActionLimits
    
    Adding clause to exit log preparation early
    
    Refactor parsing logic, bury size check as deep and early as possible
    
    Refactored log parsing, more readability

 common/scala/src/main/resources/application.conf   |  1 +
 .../src/main/scala/whisk/core/entity/Limits.scala  | 51 ++++++------
 .../main/scala/whisk/core/entity/LogLimit.scala    | 76 ++++++++++++++++++
 .../main/scala/whisk/core/entity/MemoryLimit.scala | 12 ++-
 .../src/main/scala/whisk/core/entity/Size.scala    |  3 +
 .../main/scala/whisk/core/entity/TimeLimit.scala   | 10 ++-
 .../main/scala/whisk/core/invoker/Invoker.scala    | 92 ++++++++++++++--------
 tests/dat/actions/dosLogs.js                       |  8 ++
 .../ActionLimitsTests.scala}                       | 55 +++++++++++--
 tests/src/whisk/common/SchedulerTests.scala        | 13 ++-
 tests/src/whisk/core/entity/test/SchemaTests.scala | 26 +++++-
 11 files changed, 271 insertions(+), 76 deletions(-)

commit 886ff83d473525d1fdddeb8816daa2b537ec45b3
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Jul 22 13:18:39 2016 -0400

    Disable Trigger Test that uses Prop file
    
    - Disable test that is using the property file to set the auth key

 tests/src/system/basic/WskBasicTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1710dd04f6ebc4b0d9c6bed07058e7ef7e295f36
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Tue Jul 19 12:41:37 2016 -0400

    Documentation updates for Promises support

 docs/actions.md   |  72 ++++++++++++----------
 docs/reference.md | 180 +++++++++++++++++++++++++++++++++++-------------------
 2 files changed, 159 insertions(+), 93 deletions(-)

commit 6fb29ac1f8ea6dba8ad8f6cc2697a7b84e18f37a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jul 21 14:29:51 2016 -0400

    Update test case to place bash auto complete script in temp dir

 tests/src/system/basic/WskSdkTests.scala | 22 ++++++++++++++++------
 1 file changed, 16 insertions(+), 6 deletions(-)

commit 5e5b86f0fd903803a559aca0e0d342a705a982df
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Jul 20 10:39:43 2016 -0400

    Include Auth Key from Properties when Creating and Deleting Triggers
    
    - If the auth key was not specified via the command line, it would not be sent when triggers were being created, or deleted

 tests/src/system/basic/WskBasicTests.scala    | 13 +++++++++++++
 tools/go-cli/go-whisk-cli/commands/trigger.go |  4 ++--
 2 files changed, 15 insertions(+), 2 deletions(-)

commit 97d2822616804418a7254e1f9f824ac123dc2457
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 15 15:51:21 2016 -0400

    Add command to generate bash autocompletion script
    Fixes #802

 tests/src/system/basic/WskBasicTests.scala |  1 +
 tests/src/system/basic/WskSdkTests.scala   | 11 +++++++
 tools/go-cli/go-whisk-cli/commands/sdk.go  | 18 +++++++++--
 tools/go-cli/go-whisk-cli/commands/wsk.go  | 48 ++++++++++++++++--------------
 4 files changed, 52 insertions(+), 26 deletions(-)

commit 28fd62a3ed08fc57796c63f1910642c16d4ac68c
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jul 19 21:03:25 2016 -0400

    Allow CLI to set API host including protocol and port - this removes the hardcoded https dependence for the API base.
    Add tests for using CLI with API host that specifies protocol and port. Enabled only for Python CLI as it fails with Go CLI - see issue #924.
    Remove redundant required properties in Controller/Loadbalancer. Do not startup an actor system if the configuration is not valid. Allow controller to run without container.
    Since errors are now printed to stderr, remove the colon which will appear out of place on stdout in CLI error message.

 .../scala/src/main/scala/whisk/common/Config.scala | 14 ++++-----
 .../scala/whisk/core/controller/Controller.scala   | 17 ++++-------
 .../core/loadBalancer/LoadBalancerService.scala    | 13 ++++----
 tests/src/system/basic/WskBasicTests.scala         | 35 ++++++++++++++++------
 tools/cli/wsk                                      | 14 ++++-----
 tools/cli/wskaction.py                             |  2 +-
 tools/cli/wskactivation.py                         |  6 ++--
 tools/cli/wskitem.py                               |  8 ++---
 tools/cli/wsknamespace.py                          |  4 +--
 tools/cli/wskpackage.py                            |  4 +--
 tools/cli/wskrule.py                               |  4 +--
 tools/cli/wsksdk.py                                |  8 ++---
 tools/cli/wsktrigger.py                            |  2 +-
 tools/cli/wskutil.py                               | 10 ++++++-
 14 files changed, 79 insertions(+), 62 deletions(-)

commit 9fceba2ee3f9a06e6466f6fe71f2d1235c4dbde1
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon Jul 18 10:24:27 2016 -0400

    Allow the repository field's value to be either <repoName> or <org>/<repoName>
    
    I like this a little better than introducing a new parameter just for the organization.
    It is creepy to make them specify separate organization and username parameters for personally-owned repos.

 catalog/github/webhook.js | 16 +++++++++++++++-
 1 file changed, 15 insertions(+), 1 deletion(-)

commit acbfe26c5a2003c0f5b13401d9eebb04d28154c9
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Thu Jul 14 15:50:41 2016 -0400

    Add more explicit handling of errors
    
    Call whisk.error() with the actual error object received.
    Call whisk.error() when the status code from Github is something other than 200.

 catalog/github/webhook.js | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 18f449fe9b1707b5a076b9b4d66019cb412a5f52
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Jul 9 01:10:33 2016 +0200

    Further post-ant cleanup
    
    This removes duplication introduced in the ant -> ansible migration.

 ansible/tasks/installCatalog.yml          |   2 +-
 ansible/templates/whisk.properties.j2     |   6 +-
 config/dbSetup.sh                         |  85 -----------------
 config/keys/auth.guest                    |   1 -
 config/keys/auth.whisk.system             |   1 -
 config/keys/openwhisk-self-cert.pem       |  19 ----
 config/keys/openwhisk-self-key.pem        |  27 ------
 config/localEnv.sh                        |  78 ---------------
 config/setupProps.sh                      |  18 ----
 services/consul/Dockerfile                |   6 --
 services/consul/config/basic-config.json  |   5 -
 services/consul/config/checks-config.json |  16 ----
 services/consul/config/client-config.json |   6 --
 services/consul/config/server-config.json |  12 ---
 services/consul/scripts/cpuload.sh        |  16 ----
 services/consul/scripts/meminfo.sh        |  15 ---
 services/consul/startconsul.sh            |   4 -
 services/consul/startconsulclient.sh      |   4 -
 services/consul/startconsulserver.sh      |   4 -
 services/couchdb/Dockerfile               |   1 -
 services/nginx/generateProxyConf.sh       |  70 --------------
 services/registrator/docker-run.sh        |  78 ---------------
 tools/cli/generateDefaultProps.sh         |  14 ---
 tools/cli/publishArtifact.sh              |  38 --------
 tools/db/couchdb/createAdmin.sh           |  55 -----------
 tools/db/couchdb/start-couchdb-box.sh     |  57 -----------
 tools/deploy/dockerUtil.py                |  53 -----------
 tools/docker/dockerWithRetry.sh           |  99 -------------------
 tools/json/schema.json                    | 152 ------------------------------
 tools/json/test.sh                        |  17 ----
 tools/ubuntu-setup/addSwap.sh             |  12 ---
 tools/ubuntu-setup/eclipse.sh             |   6 --
 tools/ubuntu-setup/emacs.sh               |   1 -
 tools/ubuntu-setup/tmux.sh                |   1 -
 34 files changed, 4 insertions(+), 975 deletions(-)

commit 9cd9a358d87f96985d5256b5d9094a7acb04ceb7
Author: Paul Castro <pcastro@Pauls-MacBook-Pro.local>
Date:   Sun Jul 17 19:27:27 2016 -0400

    Issue #907, add team to allow inclusion into CI

 .../OpenWhiskStarterApp.xcodeproj/project.pbxproj   |   3 +++
 .../UserInterfaceState.xcuserstate                  | Bin 17994 -> 19038 bytes
 2 files changed, 3 insertions(+)

commit e97e22490c70ba4c94da967b220c09c5551e998d
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Jul 19 14:17:26 2016 +0200

    Limitation of entites
     - Allow controller to reecieve messages with a size of 50MB
     - Check the size on creating entites (exec: 48MB, parameters: 1MB, annotations: 1MB
     - Create `ByteSize` to reflect sizes of objects in Bytes
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../src/main/scala/whisk/core/entity/Exec.scala    |  30 +++--
 .../main/scala/whisk/core/entity/Parameter.scala   |  23 ++++
 .../src/main/scala/whisk/core/entity/Size.scala    |  99 ++++++++++++++++
 .../main/scala/whisk/core/entity/WhiskEntity.scala |  65 +++++++---
 .../controller/src/main/resources/application.conf |   5 +-
 .../src/main/resources/whiskswagger.json           |  20 +++-
 .../main/scala/whisk/core/controller/Backend.scala |   6 +-
 .../scala/whisk/core/controller/Entities.scala     |  33 ++++--
 .../scala/whisk/core/controller/RestAPIs.scala     |   5 +-
 .../scala/whisk/core/controller/Triggers.scala     |   2 -
 tests/src/common/TestUtils.java                    |   1 +
 tests/src/system/basic/ActionTests.scala           |  36 +++++-
 .../core/controller/test/ActionsApiTests.scala     |  56 +++++++++
 .../controller/test/ControllerTestCommon.scala     |  12 +-
 .../core/controller/test/PackagesApiTests.scala    |  49 +++++++-
 .../whisk/core/controller/test/RulesApiTests.scala |  45 +++++++
 .../core/controller/test/TriggersApiTests.scala    |  47 ++++++++
 tests/src/whisk/core/entity/test/SizeTests.scala   | 131 +++++++++++++++++++++
 18 files changed, 615 insertions(+), 50 deletions(-)

commit 5f03dbab238b05a2cfbe6a92d0345e4850ca1499
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Jul 19 08:05:03 2016 -0400

    Replace QueryEscape() when encoding the URI path

 tools/go-cli/go-whisk-cli/commands/rule.go |  2 +-
 tools/go-cli/go-whisk/whisk/action.go      | 34 +++++++++-------
 tools/go-cli/go-whisk/whisk/activation.go  | 14 ++++++-
 tools/go-cli/go-whisk/whisk/client.go      | 64 ++++++++++++++++++++++++++++++
 tools/go-cli/go-whisk/whisk/package.go     | 21 ++++++----
 tools/go-cli/go-whisk/whisk/rule.go        | 27 +++++++++----
 tools/go-cli/go-whisk/whisk/trigger.go     | 40 ++++++++++++++-----
 tools/go-cli/go-whisk/whisk/util.go        | 18 ++++-----
 8 files changed, 168 insertions(+), 52 deletions(-)

commit b35e50884073a930002d425910c51178e7d27330
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jul 18 14:54:03 2016 -0400

    Always Separate a Listed Name from its Published Type
    
    - Always add a space after an action, package, rule, or trigger name to separate it from its published type regards if the name length

 tests/src/system/basic/WskBasicTests.scala | 49 ++++++++++++++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/util.go |  8 ++---
 2 files changed, 53 insertions(+), 4 deletions(-)

commit 35bf46f68007d8dbb3db8dbaa271d8b62101fee4
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Mon Jul 18 14:17:48 2016 -0400

    Do Not Display Error Prefix by Default
    
    - Disable the default error prefix on error objects

 tools/go-cli/go-whisk/whisk/client.go   |  2 +-
 tools/go-cli/go-whisk/whisk/wskerror.go | 35 ++++++++++-----------------------
 2 files changed, 11 insertions(+), 26 deletions(-)

commit aa5af8f9a437464f500bab85e0bc05c6316aa29b
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Mon Jul 18 09:01:18 2016 +0200

    Ansible teardown playbook.

 ansible/teardown.yml | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 115663229dfe87312ad1e56609ca6c6eeef280ed
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Mon Jul 18 09:01:18 2016 +0200

    Ansible teardown playbook.
    Add redo teardown.

 tools/build/redo | 4 ++++
 1 file changed, 4 insertions(+)

commit 428bf2357098c3cdfa7b30aa79ad3c2d12a2fc2d
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Jul 18 12:03:33 2016 +0200

    make /var/run/docker.sock configurable

 ansible/roles/consul/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f1a90c3f6f679091860bbf77d4741dfc163c2b9
Author: James Dubee <dubee@Jamess-MacBook-Pro.local>
Date:   Sat Jul 2 21:35:16 2016 -0400

    Go CLI Produces an Invalid Response When Whisk.Error() is Invoked
    
    - Provide proper message when whisk.error() is invoked
    - Add tests to ensure a whisk.error() response is received
    - Return an exit code when an whisk.error() occurs without displaying an error

 tests/src/system/basic/WskBasicTests.scala   |  15 +++
 tools/go-cli/go-whisk-cli/commands/action.go |  28 +++--
 tools/go-cli/go-whisk-cli/commands/util.go   |  16 +--
 tools/go-cli/go-whisk/whisk/action.go        |   8 +-
 tools/go-cli/go-whisk/whisk/client.go        | 116 ++++++++++++------
 tools/go-cli/go-whisk/whisk/wskerror.go      | 171 ++++++++++++++++++++-------
 6 files changed, 249 insertions(+), 105 deletions(-)

commit f29e72c0f8093f5223fc81812e9b28dd4ab286c6
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Wed Jul 13 15:45:53 2016 -0400

    Arguments are not Parsed Properly for Package Refresh
    
    - Update argument parsing for package refresh to handle no arguments
    - Use the namespace from the property file, or _ if a namespace is not provided when parsing the qualified name

 tools/go-cli/go-whisk-cli/commands/package.go | 38 ++++++++++++++++-----------
 tools/go-cli/go-whisk-cli/commands/util.go    | 32 +++++++++-------------
 2 files changed, 36 insertions(+), 34 deletions(-)

commit e9f510be2f58228c506f410bfd7ebeb92743046d
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jul 14 15:11:22 2016 -0400

    wsk property command supports setting and deleting multiple properties

 tests/src/system/basic/WskBasicTests.scala     | 25 ++++++++
 tools/go-cli/go-whisk-cli/commands/property.go | 89 +++++++++++++++-----------
 2 files changed, 75 insertions(+), 39 deletions(-)

commit ed7c279e3572850349507ab0808c40f6501821bb
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 16 08:46:41 2016 -0400

    Bump grace waiting for messages to be processed for slow deployments.

 .../whisk/core/dispatcher/test/DispatcherTests.scala | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 57a18ac8d59680b471043146fe4193fd616f31c4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 16 01:55:58 2016 -0400

    Fix WhiskError.HTTPError for change in iOS SDK.

 mobile/iOS/starterapp/OpenWhiskStarterApp/ViewController.swift | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 04c225c113736162664353353974b2aeee72b797
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 9 14:51:11 2016 -0400

    Tweak docs, fix test to use asset cleaner, remove a sleep.
    
    Replace datastore with data-store. Remove useless 'deploy' instruction in a readme and just point to the ansible doc.
    Remove some vars form tests.
    Add an asset cleaner to a test.
    Removed magical 2 second sleep that was not so magical afterall (closes #713).

 README.md                                         |  4 +--
 ansible/roles/kafka/tasks/deploy.yml              |  5 ----
 tests/src/packages/UtilsTests.scala               |  2 +-
 tests/src/packages/websocket/WebSocketTests.scala |  4 +--
 tests/src/system/basic/WskBasicTests.scala        | 36 ++++++++++++-----------
 tests/src/system/basic/WskSdkTests.scala          |  3 +-
 tools/db/README.md                                | 16 +++++-----
 tools/ubuntu-setup/README.md                      | 11 ++-----
 tools/vagrant/README.md                           |  4 +--
 9 files changed, 37 insertions(+), 48 deletions(-)

commit d0a75d47f41bd488d8b072a1f7beeab578ba85a7
Author: Paavo <pparkkin@gmail.com>
Date:   Sat Jul 9 07:25:40 2016 +0000

    Fix formatting for command examples.

 tools/ubuntu-setup/README.md | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 46701d99071996aaaaa373cd8d07da6e91a29853
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jul 8 13:04:17 2016 -0400

    Use .gitattributes to correct EOL chars for bash scripts not having .sh extension

 .gitattributes | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 913e7c8f9a5debb7905d4bede5631582acc1a3d9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jul 7 23:24:27 2016 -0400

    Kafka consumer throttling in invoker (fixes #143).
    
    Introduced an actor polls the message bus for new messages and dispatches them to the given
    handler. The actor tracks the number of messages dispatched and will not dispatch new
    messages until some number of them are acknowledged.
    
    This is used by the invoker to pull messages from the message bus and apply back pressure
    when the invoker does not have resources to complete processing messages (i.e., no containers
    are available to run new actions).
    
    When the invoker releases resources (by reclaiming containers) it will send a message
    to this actor which will then attempt to fill the pipeline with new messages.
    
    The actor tries to fill the pipeline with additional messages while the number
    of outstanding requests is below the pipeline fill threshold.
    
    Also in this commit a small change to citool: Travis CI job N has logs with URL N+1 for job reference. And a small tweak to the Vagrant doc.

 .../main/scala/whisk/common/TransactionId.scala    |   1 +
 .../connector/kafka/KafkaConsumerConnector.scala   |  38 ++--
 .../whisk/core/connector/MessageConsumer.scala     |  30 ++-
 .../core/loadBalancer/LoadBalancerService.scala    |   3 +-
 .../scala/whisk/core/container/ContainerPool.scala |  21 +-
 .../whisk/core/dispatcher/ActivationFeed.scala     | 103 ++++++++++
 .../scala/whisk/core/dispatcher/Dispatcher.scala   | 216 ++++++++++-----------
 .../main/scala/whisk/core/invoker/Invoker.scala    |  95 +++++----
 tests/src/services/KafkaConnectorTests.scala       |  19 +-
 .../core/dispatcher/test/DispatcherTests.scala     | 136 +++++++++----
 .../whisk/core/dispatcher/test/TestConnector.scala |  54 ++++--
 .../src/whisk/core/invoker/test/InvokerTests.scala | 139 -------------
 .../core/loadBalancer/LoadBalancerTests.scala      | 159 ---------------
 tools/build/citool                                 |   3 +-
 tools/vagrant/README.md                            |   4 +-
 15 files changed, 475 insertions(+), 546 deletions(-)

commit e23c8873a5a51dcb08b4fc02d7cf4ad7b1a336d0
Author: Alex Glikson <glikson@il.ibm.com>
Date:   Thu Jul 14 17:42:47 2016 +0300

    Increase Kafka startup timeout
    
    Helps avoiding deployment failures in slow environments (e.g., single vagrant VM)

 ansible/roles/kafka/tasks/deploy.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6ba0d0b77536863d666513c49d6607e8c216b6c6
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jul 14 14:09:06 2016 -0400

    Fix error message text check

 tests/src/system/basic/WskBasicTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 523316a07d77d006446e47792d6e3e187e2dab23
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jul 1 10:36:29 2016 -0400

    Flip More CLI Test Suite Switches to Use Go CLI
    
    - Use the Go CLI in the following test suites:
            CLISwiftTests, ConsoleTests, PackageTests, Swift3WhiskObjectTests,
            WskActionSequenceTests
    
    - Flips the remaining switches to use the Go CLI with test suites

 tests/src/common/Wsk.scala                          | 16 ++++++++--------
 tests/src/common/WskCli.java                        |  2 +-
 tests/src/packages/SamplesTests.java                |  2 +-
 tests/src/packages/SlackTests.java                  |  2 +-
 tests/src/packages/UtilsTests.scala                 |  2 +-
 tests/src/packages/websocket/WebSocketTests.scala   |  2 +-
 tests/src/system/basic/CLIActionTests.java          |  2 +-
 tests/src/system/basic/CLISwiftTests.scala          |  3 +--
 tests/src/system/basic/ConsoleTests.scala           |  3 +--
 tests/src/system/basic/PackageTests.scala           |  3 +--
 tests/src/system/basic/Swift3WhiskObjectTests.scala |  3 +--
 tests/src/system/basic/WskActionSequenceTests.scala |  3 +--
 tests/src/system/basic/WskBasicTests.scala          |  2 +-
 tests/src/system/basic/WskSdkTests.scala            |  2 +-
 14 files changed, 21 insertions(+), 26 deletions(-)

commit afcc0d48bca8b9751203bfb6ac69d0c0d43d37cf
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Jul 11 13:33:21 2016 -0400

    Refactor error messages so that a single "error:" appears at the start of the message

 tools/go-cli/go-whisk-cli/commands/property.go |  2 +-
 tools/go-cli/go-whisk-cli/main.go              |  8 +++++--
 tools/go-cli/go-whisk/whisk/action.go          | 10 ++++----
 tools/go-cli/go-whisk/whisk/activation.go      | 10 ++++----
 tools/go-cli/go-whisk/whisk/info.go            |  4 ++--
 tools/go-cli/go-whisk/whisk/namespace.go       |  4 ++--
 tools/go-cli/go-whisk/whisk/package.go         | 30 ++++++++++++------------
 tools/go-cli/go-whisk/whisk/rule.go            | 32 +++++++++++++-------------
 tools/go-cli/go-whisk/whisk/sdk.go             |  4 ++--
 tools/go-cli/go-whisk/whisk/trigger.go         | 32 +++++++++++++-------------
 tools/go-cli/go-whisk/whisk/wskerror.go        |  2 +-
 11 files changed, 71 insertions(+), 67 deletions(-)

commit cc835caf900298c7d19f79b6a06fb4ebe409e3a7
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed Jul 13 09:41:12 2016 -0400

    Make sure that the Github webhook URL is properly encoded before using

 catalog/github/webhook.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a1f247db508144edbd7b9cd55e8a99f19308e745
Author: Paul Castro <pcastro@Pauls-MacBook-Pro.local>
Date:   Tue Jul 12 14:27:10 2016 -0400

    Issue #875 fix repo location in Cartfile

 mobile/iOS/starterapp/Cartfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 33e5f236dca9161db7bf5ef1504bdd8552c2f01b
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Jun 30 18:30:04 2016 -0400

    Update vagrant readme on how to restore after reboot
    Update Vagrantfile
    Change openwhisk.yml to do less, and update to use wipe.yml and postdeploy.yml
    Update redo fresh to handle new openwhisk.yml

 ansible/README.md         | 19 ++++++++++++++-----
 ansible/openwhisk.yml     |  4 +---
 tools/build/redo          |  4 ++--
 tools/travis/build.sh     |  2 ++
 tools/vagrant/README.md   | 43 ++++++++++++++++++++++++++++++++++++++-----
 tools/vagrant/Vagrantfile | 26 ++++++++++++++++----------
 6 files changed, 73 insertions(+), 25 deletions(-)

commit 69a23f9a85693b9b57f7a7160815d02ac6bb0b7b
Author: Perry <perry@us.ibm.com>
Date:   Fri Jul 8 14:52:25 2016 -0400

    Make a log-less activation for active ack and do this before getting logs
    
    Add helper for making full activation from log-less one.

 .../scala/whisk/core/entity/WhiskActivation.scala  | 14 +++++++++++++
 .../main/scala/whisk/core/invoker/Invoker.scala    | 23 +++++++++++-----------
 2 files changed, 25 insertions(+), 12 deletions(-)

commit ea03638fa2106bafe1b313f4b34e8fd4831bd702
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Jul 6 14:58:12 2016 -0400

    Fixes #843 by loading python, pip, docker-py and httplib in boot profile. Eschews the need to run prereq playbook repeatedly on restart of docker-machine.
    
    Remove caveat from docs, no longer necessary.
    
    Some tweaks to readme.

 ansible/README.md                  | 43 ++++++++++++++++++--------------------
 tools/macos/tweak-dockermachine.sh | 26 +++++++++--------------
 2 files changed, 30 insertions(+), 39 deletions(-)

commit 1e0166750ce444334be7ea87d7d9ce32ea6d9d9d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Jul 11 15:55:18 2016 -0400

    Revert test - I merged this not realizing the docker image will need to be pulled from docker hub and we have not publised the image to docker hub yet.

 tests/src/system/basic/WskBasicTests.scala | 14 ++++++++++----
 1 file changed, 10 insertions(+), 4 deletions(-)

commit 13ece35b1fc0359917f60b354c0f1f1f6dce75e9
Author: dubeejw <jwdubee@us.ibm.com>
Date:   Fri Jul 8 16:46:07 2016 -0400

    Fix Docker Actions in Go CLI
    
    - Set "kind" to "blackbox" when creating an action with a Docker container
    - Create a CLI test that creates actions with Docker containers

 tests/src/system/basic/WskBasicTests.scala   | 12 ++++++++++++
 tools/go-cli/go-whisk-cli/commands/action.go |  1 +
 2 files changed, 13 insertions(+)

commit e46d49dd890c59302216c94f6a19df95fd7893f0
Author: Perry <perry@us.ibm.com>
Date:   Fri Jul 8 14:29:02 2016 -0400

    Add -g gradle flag allowing choosing explicit targets.
    Add --testFilter flag to limit tests that are run.
    
    Generalize --testFilter to -a which allows for additional args on grade/ansible commands. This means the redo command would use -a '--tests ...' instead.
    Also excludes Ansible target when -g is used.
    
    Add example using -a.

 tools/build/README.md |  7 ++++++-
 tools/build/redo      | 24 +++++++++++++++++-------
 2 files changed, 23 insertions(+), 8 deletions(-)

commit f31c0920a8c4535e4804212a1b0787d4a445097e
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 29 16:29:13 2016 -0400

    Add `action update` test that expects failure when missing file is specified.

 tests/src/system/basic/WskBasicTests.scala   | 2 +-
 tools/go-cli/go-whisk-cli/commands/action.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 66a6447728e26e0daceb637dd4e909bcbfc81af5
Author: Jeremias Werner <jerewern@de.ibm.com>
Date:   Mon May 30 14:45:41 2016 +0200

    Add --security-opt flag for AppArmor security policy to invoker. Can be configured using the INVOKER_CONTAINER_POLICY parameter in Env.sh
    
    fix the default policy to docker-default
    
    add ansible support
    
    fix the --security-opt parameter by using : instead of =
    
    make the policy optional
    
    review comments
    
    don't write the whisk.properties with ansible as well
    
    handle empty string and null configs
    
    set a default
    
    check for empty string
    
    refactor and remove warning

 ansible/templates/whisk.properties.j2                            | 1 +
 common/scala/src/main/scala/whisk/core/WhiskConfig.scala         | 2 ++
 config/writePropertyFile.sh                                      | 3 +++
 .../src/main/scala/whisk/core/container/Container.scala          | 3 ++-
 .../src/main/scala/whisk/core/container/ContainerPool.scala      | 8 +++++---
 .../src/main/scala/whisk/core/container/ContainerUtils.scala     | 9 +++++----
 .../src/main/scala/whisk/core/container/WhiskContainer.scala     | 3 ++-
 7 files changed, 20 insertions(+), 9 deletions(-)

commit 4f185e6d2c2137812b6df7ddc663e15cf12bbc16
Author: James Dubee <dubee@jamess-mbp.raleigh.ibm.com>
Date:   Tue Jul 5 15:27:18 2016 -0400

    Add Ability to Test a Downloaded Go CLI
    
    - Use a downloaded Go CLI with automation test suite if property is specificed in whisk.properties
    - Get download Go CLI path
    - Update WskCLI.java, and Wsk.scala to run automation against a downloaded Go CLI

 tests/src/common/WhiskProperties.java |  2 +-
 tests/src/common/Wsk.scala            | 61 +++++++++++------------------------
 tests/src/common/WskCli.java          | 42 +++++++++---------------
 3 files changed, 35 insertions(+), 70 deletions(-)

commit ffa7ff7cf82fe36b1cd72f8467b3b6fea470e117
Author: Vincent Hou <shou@us.ibm.com>
Date:   Tue Jul 5 11:03:01 2016 -0400

    Add download link test for Go Cli binaries
    
    This patch adds the test cases to cover the Go Cli download link.
    
    Closes-Bug: #782

 tests/src/system/rest/GoCLINginxTests.scala | 117 ++++++++++++++++++++++++++++
 1 file changed, 117 insertions(+)

commit aa32c4b2a03d9753ac4abd33f32c4c483dd1a83d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Jul 8 23:22:59 2016 +0200

    Bumping scala version to 2.11.8

 common/scala/build.gradle    | 2 +-
 core/controller/build.gradle | 2 +-
 core/dispatcher/build.gradle | 2 +-
 tests/build.gradle           | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit 7c0f6d17e1078a45d376fef33e4ed3becd087913
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 2 06:24:26 2016 -0400

    Remove all ant build files.
    
    Remove ant from ubuuntu setup.

 build.xml                    | 146 -----------------------------
 common/build.xml             |  50 ----------
 config/config.xml            | 212 -------------------------------------------
 core/build.xml               |  28 ------
 core/controller/build.xml    |  43 ---------
 docker.xml                   |  39 --------
 services/build.xml           |  25 -----
 services/consul/build.xml    |  76 ----------------
 services/kafka/build.xml     |  38 --------
 services/nginx/build.xml     |  48 ----------
 services/zookeeper/build.xml |  40 --------
 tests/build.xml              |  13 ---
 tools/build.xml              |  41 ---------
 tools/cli/build.xml          |  71 ---------------
 tools/logs/logdiff.sh        |   4 +-
 tools/ubuntu-setup/all.sh    |   4 -
 tools/ubuntu-setup/ant.sh    |   2 -
 17 files changed, 2 insertions(+), 878 deletions(-)

commit d196d3eb11c3c0a21ae1f668b5f6a01488fd575c
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jul 7 16:09:56 2016 -0400

    Jenkins/Travis tools script, for monitoring and analyzing jobs from CI.
    
    Example use to monitor a travis build, job number N:
    > citool monitor N
    
    To monitor same job until completion:
    > citool monitor -p N
    
    To save job output to a file:
    > citool -o monitor N
    
    Example use to monitor a jenkins build B with job number N:
    > citool -u https://jenkins.host:port -b B monitor N
    
    Update docs.

 tools/build/README.md |  65 ++++++++++---
 tools/build/citool    | 259 ++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 310 insertions(+), 14 deletions(-)

commit d9cce12dfca2945dca87e807502a75675270900c
Author: Perry <perry@us.ibm.com>
Date:   Tue Jul 5 16:33:36 2016 -0400

    Upgrade to kafka 0.10

 common/scala/build.gradle | 2 +-
 services/kafka/Dockerfile | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 287bae8eb96b2965a65e4d87b14adbc885a83352
Author: Paul Castro <pcastro@pauls-mbp.watson.ibm.com>
Date:   Thu Jun 23 14:16:18 2016 -0400

    Issue #661 Add sentinel marker to Swift and Swift3 runtimes, remove unnecessary Xlinker flags in swift build command

 core/dispatcher/src/main/scala/whisk/core/invoker/Invoker.scala | 7 ++++++-
 core/swift3Action/Dockerfile                                    | 2 +-
 core/swift3Action/epilogue.swift                                | 1 +
 core/swift3Action/proxy.py                                      | 5 ++++-
 core/swiftAction/proxy.py                                       | 3 +++
 tests/src/actionContainers/SwiftActionContainerTests.scala      | 2 +-
 6 files changed, 16 insertions(+), 4 deletions(-)

commit 391a96af81080babf81500046697b40af2a0b76c
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Tue Jun 28 16:58:47 2016 -0400

    CLI to failure when no authorization key configured/provided (prior to sending HTTP request)

 tests/src/common/Wsk.scala                     | 30 +++++++++++-------
 tests/src/system/basic/WskBasicTests.scala     | 11 ++-----
 tools/go-cli/go-whisk-cli/commands/property.go |  2 +-
 tools/go-cli/go-whisk/whisk/client.go          | 26 +++++++++++++--
 tools/go-cli/go-whisk/whisk/namespace.go       | 44 ++++++--------------------
 tools/go-cli/go-whisk/whisk/sdk.go             | 13 +++++++-
 tools/go-cli/go-whisk/whisk/trace.go           |  7 ++++
 7 files changed, 74 insertions(+), 59 deletions(-)

commit 4c4df9031a6ba36aed9cdd9841b6203edc61ca5a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 2 07:42:39 2016 -0400

    Change env var accepted by redo to a more generic WHISK_HOME to allow for use in openwhisk variants.
    
    Link redo to wskdev. Add link exemption in scan code.

 bin/wskdev              | 1 +
 tools/build/redo        | 9 +++------
 tools/build/scanCode.py | 1 +
 3 files changed, 5 insertions(+), 6 deletions(-)

commit 1ebc8b261351a6a54ced9a7785d34d15333b2c0c
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Jun 17 18:07:01 2016 -0400

    Make creation and passing of ActorSystems more explicit
    
    Eliminate passing of ExecutionContexts when they can be accessed through ActorSystems.

 .../main/scala/whisk/common/ConsulKVReporter.scala |  5 ++--
 .../whisk/core/connector/LoadbalancerRequest.scala |  4 ++-
 .../main/scala/whisk/http/BasicHttpService.scala   |  3 +-
 .../main/scala/whisk/http/BasicRasService.scala    |  5 ++--
 .../whisk/utils/ExecutionContextFactory.scala      | 34 +++-------------------
 .../main/scala/whisk/core/controller/Backend.scala |  6 ++--
 .../scala/whisk/core/controller/Controller.scala   | 14 ++++-----
 .../scala/whisk/core/controller/RestAPIs.scala     |  5 ++--
 .../whisk/core/entitlement/RemoteEntitlement.scala |  8 ++---
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  6 ++--
 .../core/loadBalancer/LoadBalancerService.scala    |  5 ++--
 .../scala/whisk/core/dispatcher/Dispatcher.scala   | 10 ++++---
 .../main/scala/whisk/core/invoker/Invoker.scala    | 11 +++----
 tests/src/services/KafkaConnectorTests.scala       |  2 +-
 .../core/dispatcher/test/DispatcherTests.scala     |  6 ++--
 .../whisk/core/dispatcher/test/TestConnector.scala |  3 +-
 16 files changed, 55 insertions(+), 72 deletions(-)

commit f47209d2f76cad042134a59584d6698bcba088ce
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Sat Jun 18 00:16:03 2016 -0400

    Ported ConsulClient to akka-http.

 .../src/main/scala/whisk/common/ConsulClient.scala | 85 +++++++++++++---------
 1 file changed, 51 insertions(+), 34 deletions(-)

commit 4e0e89db59f31d5ed184602b328fa6d932066123
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 23 16:55:33 2016 -0400

    Reenable conformance test on auth database.
    
    Reverts bf3fe240ff56f772837f7c9ccf909483b1893a8c.

 tests/src/whisk/core/entity/test/ConformanceTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c4228940bdcfab5c9ae7bd564f79038257cdecab
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Jun 22 15:45:35 2016 -0400

    Simple test to check whether the DB is accessible

 tests/src/whisk/core/database/test/DbPing.scala | 113 ++++++++++++++++++++++++
 1 file changed, 113 insertions(+)

commit ec3388f572a95d860c3c37acd6bd63db75aaebd4
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 9 23:22:45 2016 -0400

    Ported CouchDB client to akka-http
    
    The current immediate benefit is the proper handling of chunked responses from the DB (when querying views). Future benefits include streaming of content from and to the DB.
    
    As confirmed by Akka devs. and experiments, akka-http and Spray-based clients can cohabit.
    
    This commit also removes the `ExecutionContext` in `DbUtils` (tests) and normalizes towards using the context from the available `ActorSystem`.
    
    Finally, it changes the shutdown procedure for `ActorSystem`s (only in tests, since the main system never stops) to properly close all HTTP connection pools before shutting down the system.

 common/scala/build.gradle                          |   2 +
 common/scala/src/main/resources/application.conf   |  12 +-
 .../whisk/core/database/CloudantRestClient.scala   |  19 +-
 .../whisk/core/database/CouchDbRestClient.scala    | 209 ++++++++++++++-------
 .../whisk/core/database/CouchDbRestStore.scala     |   3 +-
 .../core/container/test/ContainerPoolTests.scala   |   2 +
 .../controller/test/ControllerTestCommon.scala     |   1 +
 tests/src/whisk/core/database/test/DbUtils.scala   |   8 +-
 .../whisk/core/entity/test/ConformanceTests.scala  |   2 +
 .../whisk/core/entity/test/DatastoreTests.scala    |  28 +--
 tests/src/whisk/core/entity/test/ViewTests.scala   |   5 +-
 .../src/whisk/core/invoker/test/InvokerTests.scala |   2 +
 12 files changed, 178 insertions(+), 115 deletions(-)

commit 2ded0dc9f47a73910651a3e3f77cecca9369e3cd
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 9 09:08:05 2016 -0400

    Bump Akka version.

 common/scala/build.gradle                                    | 4 ++--
 tests/src/whisk/core/container/test/ContainerPoolTests.scala | 5 ++++-
 tests/src/whisk/core/dispatcher/test/DispatcherTests.scala   | 8 ++++++--
 tests/src/whisk/core/entity/test/ConformanceTests.scala      | 8 ++++++--
 tests/src/whisk/core/entity/test/DatastoreTests.scala        | 4 +++-
 tests/src/whisk/core/entity/test/ViewTests.scala             | 4 +++-
 tests/src/whisk/core/invoker/test/InvokerTests.scala         | 5 +++--
 7 files changed, 27 insertions(+), 11 deletions(-)

commit 5295f25514e455c1eaa492bce519b33f8b1a554d
Author: James Dubee <dubee@Jamess-MacBook-Pro.local>
Date:   Sat Jul 2 17:41:04 2016 -0400

    Go CLI Does not Produce Proper Error Message When Creating an Action with a Missing File
    
    - Update the error message that is displayed when action create is invoke with a missing file

 tools/go-cli/go-whisk-cli/commands/action.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bfc556812b3d0c0adb710b615e7d2b9342d5943a
Author: James Dubee <dubee@Jamess-MacBook-Pro.local>
Date:   Sat Jul 2 16:37:43 2016 -0400

    Update Trigger Create Message
    
    - Remove JSON output from trigger create

 tools/go-cli/go-whisk-cli/commands/trigger.go | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit ec6e9a4ee2026a3082862227e4688fc3e4ddd4c8
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Jul 6 09:54:26 2016 -0500

    Add files via upload

 ...hisk_icon_full-color_with_tm_128x128-300dpi.png | Bin 113623 -> 113623 bytes
 docs/images/whisk_icon_full_color_with_tm.psd      | Bin 90848 -> 89698 bytes
 ...hisk_icon_full_color_with_tm_100x100-300dpi.png | Bin 0 -> 88054 bytes
 ...whisk_icon_full_color_with_tm_100x100-96dpi.png | Bin 0 -> 88052 bytes
 ...hisk_icon_full_color_with_tm_200x200-300dpi.png | Bin 224572 -> 208169 bytes
 5 files changed, 0 insertions(+), 0 deletions(-)

commit 98ddfb43fc2ef06bb7beae99031c45b1c5c83568
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Jul 4 11:11:37 2016 +0200

    fix cli.api.host in whisk.properties

 ansible/templates/whisk.properties.j2 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 172744473a857be557e91982120e1d54d24ab9fd
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Fri Jul 1 10:46:53 2016 -0500

    Create a sample that demonstrates the use of returning a Promise for asynchronous actions

 catalog/samples/helloPromises.js                   | 30 ++++++++
 .../NodeJsActionContainerTests.scala               | 53 +++++++-------
 tests/src/packages/UtilsTests.scala                | 83 ++++++++++++++++++++--
 3 files changed, 135 insertions(+), 31 deletions(-)

commit 0090473eee40d27b117ad2618e08ac54e332cbc7
Author: Sam Gunaratne <samgzeit@gmail.com>
Date:   Sat Mar 12 17:06:10 2016 -0500

    Support Promises/A+ in nodeJsActions
    
    Note this commit also makes use of the fact that calling
    Promise.resolve on a non-promise type (value/undefined) returns
    that value.
    
    (See spec)
    http://www.ecma-international.org/ecma-262/6.0/#sec-promise-objects

 core/nodejsActionBase/runner.js                    | 27 ++++++++-----
 .../NodeJsActionContainerTests.scala               | 46 ++++++++++++++++++++++
 2 files changed, 63 insertions(+), 10 deletions(-)

commit 270e25e0bca86623ca047637414f1f05bd3b8374
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jul 5 00:57:31 2016 -0400

    Add suggested patch from @psuter.

 docs/README.md          | 5 +++--
 tools/vagrant/README.md | 8 ++++----
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 4bd317de0559f60728b462295de80f07a7904ddd
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jul 2 04:45:16 2016 -0400

    Improve CLI configuration documentation. Inspired by #656.

 README.md      | 10 ----------
 docs/README.md | 42 ++++++++++++++++++++++++++++++++++++++----
 2 files changed, 38 insertions(+), 14 deletions(-)

commit 78b978114929f7f0388aba4b7fe662e6a99bff28
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jul 4 17:49:44 2016 +0200

    Adding registry to the identifier as it is needed, because the tag is only applied to the fully qualified image

 tools/go-cli/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e336f3d4e98dc520f71658404d10012057e0097
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Jul 4 08:31:30 2016 -0400

    Remove statics in WskCLI to avoid leaks across suites.

 tests/src/common/WskCli.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 86f642a17decd1115a68cac411ff48782e3dfa01
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jul 4 08:56:18 2016 +0200

    Reverting the switch for CLIActionTests suite

 tests/src/system/basic/CLIActionTests.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b8f333497ff1df2b190ece2dc4f97a2f4eb683e8
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 28 15:08:56 2016 -0400

    Fix Go CLI Action Defects
    
    - Add --shared to action update
    - Add test that updates an action with a different --kind

 tests/src/system/basic/WskBasicTests.scala   | 37 ++++++++++++++++++++--------
 tools/go-cli/go-whisk-cli/commands/action.go |  3 ++-
 2 files changed, 29 insertions(+), 11 deletions(-)

commit 51817283c204c055456646c8bfb536ab78d2fdf1
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 29 11:41:36 2016 -0400

    Go CLI Does No Create Action from Empty File
    
    - Ensure code property always exists even if it is an empty string
    - Add test to ensure an empty file can be used to create an action

 tests/src/system/basic/CLIActionTests.java | 29 +++++++++++++++++++++++++++++
 tools/go-cli/go-whisk/whisk/action.go      |  2 +-
 2 files changed, 30 insertions(+), 1 deletion(-)

commit 72221350baf60cb674887422dc9cbf9e57519471
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Tue Jun 28 10:00:03 2016 +0200

    issue #629: update verification part for README

 ansible/README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit 473acf0811b4bb9ae0161843bd5aeb97b86b84ed
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Fri Jul 1 12:46:39 2016 -0400

    remove ant from docs

 tools/macos/README.md        | 25 ++++++++++++++++++++-----
 tools/ubuntu-setup/README.md | 26 +++++++++++---------------
 2 files changed, 31 insertions(+), 20 deletions(-)

commit d95e0698d3a20a98bbf385325cdee41e28cd1da5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 30 21:10:53 2016 -0400

    Fix issue #816. When updating an action that is already a sequence or when updating an action with a sequence, set parameters explicitly. If new action is not a sequence or if the type of the existing action is not a sequence, preserve new parameters or use pre-existing parameters.
    
    Fix package name and organize imports.
    
    Added comment.

 .../whisk/core/entity/DefaultRuntimeVersions.scala |   2 +-
 .../src/main/scala/whisk/core/entity/Exec.scala    |  15 ++-
 .../main/scala/whisk/core/controller/Actions.scala |  25 ++++-
 tests/src/system/basic/WskBasicTests.scala         |   8 +-
 .../core/controller/test/ActionsApiTests.scala     | 121 +++++++++++++++++----
 5 files changed, 131 insertions(+), 40 deletions(-)

commit 659fd347c4e15a0a68862e2bc6ca3c5e33659c2a
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 28 14:50:34 2016 -0400

    Creating an Action with --lib is Not Supported
    
    - Remove defunct functionality from Go CLI

 tools/go-cli/go-whisk-cli/commands/action.go | 54 ----------------------------
 tools/go-cli/go-whisk-cli/commands/flags.go  |  1 -
 2 files changed, 55 deletions(-)

commit 99d3e9ab82756631285072ad551398fa6b034e21
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon Jun 27 21:34:51 2016 -0400

    Minor updates for docs.

 README.md              |  9 +++++++++
 docs/README.md         | 14 ++++++++++----
 docs/mobile_sdk.md     | 11 +++++++----
 docs/triggers_rules.md | 12 +++++-------
 4 files changed, 31 insertions(+), 15 deletions(-)

commit 4874e5703ff66180e2b5cdf148a675b8514bc7a3
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 29 15:01:47 2016 -0400

    Flip CLI Test Suite Switches to Use Go CLI.
    Fix typo in test name.
    
    - Flip switches for CLIActionTests, CLIJavaTests, CLIPythonTests,
      CLIRuleTests, CLISequentialTests

 tests/src/system/basic/ActionTests.scala       | 2 +-
 tests/src/system/basic/CLIActionTests.java     | 2 +-
 tests/src/system/basic/CLIJavaTests.scala      | 2 +-
 tests/src/system/basic/CLIPythonTests.scala    | 2 +-
 tests/src/system/basic/CLIRuleTests.java       | 2 +-
 tests/src/system/basic/CLISequentialTests.java | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit d2d241bd2ce9521c793fe6594bb4248f0076169c
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 29 16:29:13 2016 -0400

    Adds `action update` test that expects failure when missing file is specified
    
    Removes deadcode from WskCLI.java.

 tests/src/common/WskCli.java                 | 22 ----------------------
 tests/src/system/basic/WskBasicTests.scala   | 22 +++++++++++++---------
 tools/cli/wskaction.py                       |  3 ++-
 tools/go-cli/go-whisk-cli/commands/action.go |  2 +-
 tools/go-cli/go-whisk/whisk/wskerror.go      |  7 +++++--
 5 files changed, 21 insertions(+), 35 deletions(-)

commit fbf26748fc526c5a338b2d6c511b53eb01d1847f
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Jun 24 16:12:36 2016 -0400

    Resolve "nodejs:default" kind into "nodejs:6"
    
    This mapping is separated out into a trait called DefaultRuntimeVersions which can be used to map kind aliases for other runtimes as well.
    
    Update swagger doc to include the "nodejs:6" and "nodejs:default" kind values
    
    Add unit tests to ensure correct behavior of "nodejs:default" kind: Explicitly using this kind value should result in a resolved kind of "nodejs:6"; Not specifying any kind value for .js actions should also result in a kind of "nodejs:6"
    
    Update both Python and Go CLIs to utilize "nodejs:default" kind. This kind can be explicitly supplied by the user, or it will be inferred for .js actions where the kind is not explicitly supplied.

 .../whisk/core/entity/DefaultRuntimeVersions.scala | 26 +++++++
 .../src/main/scala/whisk/core/entity/Exec.scala    | 10 ++-
 .../src/main/resources/whiskswagger.json           |  2 +
 tests/src/common/WskTestHelpers.scala              | 15 ++++
 tests/src/system/basic/WskBasicNodeTests.scala     | 88 ++++++++++++++++++++++
 tools/cli/wskaction.py                             |  5 +-
 tools/go-cli/go-whisk-cli/commands/action.go       |  7 +-
 7 files changed, 146 insertions(+), 7 deletions(-)

commit 5a1f834aa48ab447895583439b0d5df5b4b8782c
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Thu Jun 30 10:22:30 2016 +0200

    improve isAlive method for zookeeper, kafka

 ansible/roles/kafka/tasks/deploy.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit f0a702ff44a4b5c5ae3fc13242318025b1c9bb26
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Jun 28 00:03:47 2016 -0400

    merge vagrant workflows and remove ant

 README.md                              |  12 +--
 tools/vagrant/{custom => }/README.md   | 150 +++++++++++++++++++--------------
 tools/vagrant/{custom => }/Vagrantfile |  23 +++--
 tools/vagrant/hello                    |   9 ++
 tools/vagrant/hello.cmd                |   6 ++
 tools/vagrant/resume_build             |  16 ----
 tools/vagrant/resume_build.cmd         |  11 ---
 tools/vagrant/simple/README.md         |  56 ------------
 tools/vagrant/simple/Vagrantfile       |  83 ------------------
 tools/vagrant/simple/hello             |  15 ----
 tools/vagrant/simple/hello.cmd         |  12 ---
 tools/vagrant/simple/wsk               |   5 --
 tools/vagrant/simple/wsk.cmd           |   5 --
 13 files changed, 124 insertions(+), 279 deletions(-)

commit c1f83681a3a48edef4c40fdfad8cdf4a3329469a
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 29 14:18:46 2016 -0400

    Remove gradle supplied build timestamp that's passed to dockerfile via ARG

 tools/go-cli/Dockerfile   | 9 +++++----
 tools/go-cli/build.gradle | 2 +-
 2 files changed, 6 insertions(+), 5 deletions(-)

commit a0b4c1dc112ffcad8a9bb33601de7d19d164fcff
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 27 19:08:59 2016 +0200

    Updating Mac instructions to install docker 1.9.1 locally (consistent with the docker-machine setup)

 tools/macos/README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e37db2a45562c1978fd2b625006d222c30b89b0f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jun 25 17:43:56 2016 -0400

    Add -i/-s for allowing/disallowing untrusted certificates when connecting over HTTPS.
    
    Fix comment. Remove status from rule schema conformance test.
    
    Add test for wskadmin create with explicit uuid:key.

 .../whisk/utils/ExecutionContextFactory.scala      |  2 +-
 .../src/{ => whisk/core}/admin/WskAdminTests.scala | 27 ++++++++++++++--------
 .../whisk/core/entity/test/ConformanceTests.scala  |  2 +-
 tools/cli/wsk                                      |  7 ++++--
 tools/cli/wskutil.py                               |  9 +++++---
 5 files changed, 31 insertions(+), 16 deletions(-)

commit 00ec23d5133da26c66a3fd3946d528c1677489ba
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Jun 29 15:06:16 2016 -0500

    Add files via upload

 .../whisk_icon_full-color_with_tm_128x128-300dpi.png   | Bin 0 -> 113623 bytes
 .../whisk_icon_full-color_with_tm_210x138-300dpi.png   | Bin 0 -> 164022 bytes
 .../whisk_icon_full-color_with_tm_64x64-300dpi.png     | Bin 0 -> 64400 bytes
 docs/images/whisk_icon_full_color_with_tm.psd          | Bin 0 -> 90848 bytes
 .../whisk_icon_full_color_with_tm_200x200-300dpi.png   | Bin 0 -> 224572 bytes
 5 files changed, 0 insertions(+), 0 deletions(-)

commit b828373697ca6519bca354d18979d28455f0419e
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Wed Jun 29 15:01:18 2016 -0500

    Create README.md

 docs/images/README.md | 2 ++
 1 file changed, 2 insertions(+)

commit fffb87f1367fbacdac1c7a881c2ece0fcca59a27
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Tue Jun 14 14:39:15 2016 +0200

    Added message to indicate a timeout of an action in the activation record
    
    Signed-off-by: Christian Bickel <christian.bickel@de.ibm.com>

 .../scala/whisk/core/entity/ActivationResult.scala |  8 +-
 .../main/scala/whisk/core/entity/TimeLimit.scala   |  2 +-
 .../whisk/core/container/WhiskContainer.scala      |  4 +-
 .../main/scala/whisk/core/invoker/Invoker.scala    | 89 ++++++++++++----------
 tests/dat/actions/timeout.js                       | 18 +++++
 tests/src/system/basic/ActionTests.scala           | 81 ++++++++++++++++++++
 6 files changed, 157 insertions(+), 45 deletions(-)

commit 5af8cca8850131ac548a8e95784279b15088cf78
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Fri Jun 10 01:53:08 2016 -0400

    Add a switch to all the tests to toggle between Python and GO CLI version.
    Fixed use of static python/go CLI switch; replaced with instance variable. Add missing wsk properties overrides in one test. Fix singleton object methods to accept required switch as argument. Add exemption for go cli link.

 catalog/util.sh                                    | 14 ++++-
 tests/src/common/WhiskProperties.java              | 28 +++++++++
 tests/src/common/Wsk.scala                         | 65 ++++++++++++++++-----
 tests/src/common/WskCli.java                       | 65 +++++++++++++--------
 tests/src/packages/SamplesTests.java               |  4 +-
 tests/src/packages/SlackTests.java                 |  4 +-
 tests/src/packages/UtilsTests.scala                | 33 +++++------
 tests/src/packages/websocket/WebSocketTests.scala  |  4 +-
 tests/src/system/basic/CLIActionTests.java         | 17 ++++--
 tests/src/system/basic/CLIJavaTests.scala          |  3 +-
 tests/src/system/basic/CLIPythonTests.scala        |  3 +-
 tests/src/system/basic/CLIRuleTests.java           |  4 +-
 tests/src/system/basic/CLISequentialTests.java     |  4 +-
 tests/src/system/basic/CLISwiftTests.scala         |  3 +-
 tests/src/system/basic/ConsoleTests.scala          |  3 +-
 tests/src/system/basic/PackageTests.scala          |  7 ++-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  3 +-
 .../src/system/basic/WskActionSequenceTests.scala  |  3 +-
 tests/src/system/basic/WskBasicTests.scala         | 66 +++++++++++++++-------
 tests/src/system/basic/WskSdkTests.scala           |  9 +--
 tools/build/scanCode.py                            |  1 +
 tools/cli/wsk                                      |  6 +-
 tools/cli/wskaction.py                             |  5 +-
 tools/cli/wskadmin                                 |  2 +-
 tools/cli/wskutil.py                               | 20 +++----
 tools/go-cli/go-whisk-cli/main.go                  | 10 ++--
 26 files changed, 263 insertions(+), 123 deletions(-)

commit 4ac9d06816986c186a1c8a1429eeca9c5ccc517f
Author: Perry <perry@us.ibm.com>
Date:   Tue Jun 28 15:33:45 2016 -0400

    Change kafka consumer poll parameter.  Switch to 0.9.0.1.

 common/scala/build.gradle                                         | 2 +-
 .../main/scala/whisk/connector/kafka/KafkaConsumerConnector.scala | 7 ++++++-
 services/kafka/Dockerfile                                         | 8 +++++---
 3 files changed, 12 insertions(+), 5 deletions(-)

commit 213d9e6f3fc07d1b430e38b08753f19b8842cc64
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jun 24 15:35:48 2016 -0400

    Add --insecure|-i flag to the python CLI for CLI syntax parity with the Go CLI.
    This flag is simply ignored by the python CLI; previously it caused a failure.

 tools/cli/wsk | 1 +
 1 file changed, 1 insertion(+)

commit 95434e118fb6b2b7ebee2e26b9431d939e97fcc3
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Mon Jun 27 18:33:21 2016 -0400

    Improve use of docker cache in Go CLI build

 tools/go-cli/Dockerfile   | 10 +++++-----
 tools/go-cli/build.gradle |  3 ++-
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 7454e01cf035053813690a619fb0f9ce163e4718
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Jun 28 15:44:55 2016 +0200

    Allow null values in Consul Client on recurse fetching

 .../scala/src/main/scala/whisk/common/ConsulClient.scala | 16 +++++++++++-----
 1 file changed, 11 insertions(+), 5 deletions(-)

commit 5994caae5f6d97d47de88bddb2d7914bd552e519
Author: Vincent Hou <shou@us.ibm.com>
Date:   Mon Jun 13 10:04:12 2016 -0400

    Add go cli into nginx
    
    This patch fixes the issue in ant ans ansible.
    
    Closes-Bug: #577

 ansible/environments/local/group_vars/all   |  1 +
 ansible/environments/mac/group_vars/all     |  1 +
 ansible/environments/travis/group_vars/all  |  1 +
 ansible/roles/go-cli/tasks/clean.yml        |  6 ++++++
 ansible/roles/go-cli/tasks/deploy.yml       | 22 +++++++++++++++++-----
 ansible/roles/nginx/templates/nginx.conf.j2 |  4 ++++
 6 files changed, 30 insertions(+), 5 deletions(-)

commit a94a1e388adffeeca47d7905aa4881df5f5e1eb4
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Sat Jun 25 14:35:25 2016 -0400

    Use Groovy instead of ant to detect platform/arch

 tools/go-cli/build.gradle | 80 +++++++++++++++++++++++------------------------
 1 file changed, 39 insertions(+), 41 deletions(-)

commit 7360b84498e024b2c1d71767d3460af5efbbc308
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 23 21:41:56 2016 -0400

    Tweaked entitlement checks so that the default namespace is always checked and does not require
    a query from an entitlement service even if such service exists.
    Only if the implicit entitlement fails is the service queried for additional namespaces to check.

 .../src/main/scala/whisk/core/WhiskConfig.scala    |  4 +++
 .../main/scala/whisk/core/controller/Backend.scala | 11 +++---
 .../scala/whisk/core/entitlement/Collection.scala  |  2 +-
 .../scala/whisk/core/entitlement/Entitlement.scala | 41 ++++++++++++++--------
 .../whisk/core/entitlement/LocalEntitlement.scala  | 11 ++----
 .../whisk/core/entitlement/PackageCollection.scala |  4 +--
 .../whisk/core/entitlement/RemoteEntitlement.scala | 13 ++++---
 7 files changed, 47 insertions(+), 39 deletions(-)

commit ee9f844a399fc3a31a132437118ceec2d39321ab
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 23 23:44:11 2016 -0400

    Fix active ack's completion of the promise. While the promise's future was bounded by timeout, it in fact would not fail as expected by the controller since the promise was never completed.
    Addressed by completing the promise on timeout (i.e., when active ack expiration has occurred).

 .../src/main/scala/whisk/core/entity/Exec.scala    |  2 +-
 .../whisk/utils/ExecutionContextFactory.scala      | 23 ++++++++--
 .../core/loadBalancer/LoadBalancerService.scala    | 53 +++++++++++++---------
 .../controller/test/ControllerTestCommon.scala     |  4 +-
 tools/build/redo                                   |  7 ++-
 tools/cli/wskadmin                                 | 25 +++++++++-
 6 files changed, 83 insertions(+), 31 deletions(-)

commit 558dbd8008d2d3beca38c44cef65b9203791a30e
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jun 23 17:14:36 2016 -0400

    Place Go CLI binaries under openwhisk/bin/go-cli/<plat>/<arch>/ folders

 tools/go-cli/Dockerfile   | 23 +++++++++++++----------
 tools/go-cli/build.gradle | 11 ++++++++---
 2 files changed, 21 insertions(+), 13 deletions(-)

commit a7c862666b6f380a9395d7d57e6c2ad9d001def0
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Thu Jun 23 11:12:01 2016 -0400

    Addition of push documentation to catalog.md
    
    re-arrange push docs

 docs/catalog.md | 124 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 124 insertions(+)

commit ac3b9f5c6743f2a17e695829944a34eefb0815f1
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Jun 15 15:30:00 2016 -0400

    Dumbing down the terminal to keep Gradle quiet.

 .travis.yml | 4 ++++
 1 file changed, 4 insertions(+)

commit 34deaa3b7612aa8a6d7777cf863bc921b92fa242
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Fri Jun 24 15:25:19 2016 +0200

    couchdb should check the db_provider at first before deploying

 ansible/roles/couchdb/tasks/deploy.yml | 4 ++++
 1 file changed, 4 insertions(+)

commit bf409c1aabc0087cbca0a65ae19683b1d07437f1
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 22 16:51:44 2016 -0400

    Set CLI build version using gradle at build-time

 docker.gradle                                  | 9 ++++++++-
 tools/go-cli/Dockerfile                        | 6 +++---
 tools/go-cli/build.gradle                      | 8 ++++++++
 tools/go-cli/go-whisk-cli/commands/property.go | 5 +----
 tools/go-cli/go-whisk-cli/main.go              | 8 ++++++++
 5 files changed, 28 insertions(+), 8 deletions(-)

commit ae8e06cbf65411be240ebf8e9d9bb6029433e8ed
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 23 13:17:00 2016 -0400

    Deploy target using inferred YAML file if component is not one of known targets.

 tools/build/redo | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 0e92f6cace3ab8d2fe8b7f8178c4603f450a7537
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 22 13:43:53 2016 -0400

    Provide Insecure Mode for Go CLI
    
    - Allows for SSL certificate checking to be enabled, or disabled through a
      --insecure flag

 tools/go-cli/go-whisk-cli/commands/action.go     |   7 +-
 tools/go-cli/go-whisk-cli/commands/activation.go |   5 +
 tools/go-cli/go-whisk-cli/commands/commands.go   |  48 ++++--
 tools/go-cli/go-whisk-cli/commands/flags.go      |  28 +--
 tools/go-cli/go-whisk-cli/commands/namespace.go  |   3 +
 tools/go-cli/go-whisk-cli/commands/package.go    |   7 +
 tools/go-cli/go-whisk-cli/commands/property.go   |  41 +++--
 tools/go-cli/go-whisk-cli/commands/rule.go       |   8 +
 tools/go-cli/go-whisk-cli/commands/sdk.go        |   1 +
 tools/go-cli/go-whisk-cli/commands/trigger.go    |   6 +
 tools/go-cli/go-whisk-cli/commands/wsk.go        |   1 +
 tools/go-cli/go-whisk/whisk/client.go            | 206 ++++++++++++-----------
 12 files changed, 214 insertions(+), 147 deletions(-)

commit cf66a6e81025d05f93302309d25090a939988efc
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Thu Jun 23 17:48:43 2016 +0200

    issue #745: fix setup.yml for killing the db_local.ini

 ansible/setup.yml | 5 +++++
 1 file changed, 5 insertions(+)

commit 711f50a54eb6f24e65d4632b36d17fd55ed587d8
Author: daniel-federschmidt <daniel.federschmidt@de.ibm.com>
Date:   Tue Jun 21 15:54:41 2016 +0200

    Add issue template to provide a framework for reporting problems and bugs

 .github/ISSUE_TEMPLATE.md | 45 +++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 45 insertions(+)

commit abdcb49a2d1a6a043491bf5c7d8955610183fed8
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jun 21 22:21:22 2016 -0400

    Detect target automatically for host when using redo.
    Setup requires env.
    .gitignore small cleanup.
    Fix resource exclusions.
    
    Support deploy.target in ansible deployment.
    Restore build-with ant for redundancy.
    Detect OS is GNU/Linux vs Mac OS X and set deploy target accordingly if not overriden with -D.
    Allow tests with prefix when using ant by passing prefix to underlying gradle.

 .gitignore         |  2 --
 .project           | 54 +++++++++---------------------------------------------
 ansible/.gitignore |  3 +--
 build.xml          | 22 ++++++++++++++++------
 config/config.xml  | 44 ++++++++++++++++++++++++++++++++++++--------
 tests/build.xml    |  2 ++
 tools/build/redo   | 21 +++++++++++++++++----
 7 files changed, 81 insertions(+), 67 deletions(-)

commit f73ce9df14366998625ecfe2d1083e4e01f7ccd4
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue Jun 21 15:29:59 2016 -0400

    Wait for Kafka and Zookeeper using the designated method
    
    This ports some of the functionality of isAlive to the Ansible deployment scripts. Before the change, Ansible only waits for the port to be bound, which does not guarantee that the services are actually available.
    Also adds pauses between zookeeper bring up and checking if it's up to resolve kakfa consumer long pause (matching ant deployment).
    
    Appears to fix #713.
    
    Restore isAlive behavior for consul liveness check, controller and invoker as well via RAS endpoint (issue #713).

 ansible/callbacks/logformatter.py         |  6 +++++-
 ansible/roles/consul/tasks/deploy.yml     | 23 ++++++++++++++++++-----
 ansible/roles/controller/tasks/deploy.yml | 11 ++++++-----
 ansible/roles/invoker/tasks/deploy.yml    | 17 +++++++++--------
 ansible/roles/kafka/tasks/deploy.yml      | 26 ++++++++++++++++----------
 5 files changed, 54 insertions(+), 29 deletions(-)

commit 79abce6f7c1b62a59907d685a312f016f11f1a4c
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 22 14:14:51 2016 -0400

    Build Go CLI with Gradle Instead of Ant
    
    - Removes the build.xml
    - Updates the README to demonstrate build process with Gradle

 tools/go-cli/README.md | 18 +++++++--------
 tools/go-cli/build.xml | 62 --------------------------------------------------
 2 files changed, 9 insertions(+), 71 deletions(-)

commit a7ec2f2075991b59016f59c496a441541bee6618
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Wed Jun 22 18:03:31 2016 +0800

    Update Docker action document
    Fixes #280
    
    minor updates

 docs/actions.md | 19 +++++++++++++++----
 1 file changed, 15 insertions(+), 4 deletions(-)

commit 62779e4e587b1876aa27ac8ba0d0a19b484079cd
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 22 08:38:12 2016 -0400

    Fix incorrect new lines in tracing and stdout messages

 tools/go-cli/go-whisk-cli/commands/action.go    |  6 +++---
 tools/go-cli/go-whisk-cli/commands/commands.go  |  4 ++--
 tools/go-cli/go-whisk-cli/commands/namespace.go |  2 +-
 tools/go-cli/go-whisk-cli/commands/package.go   | 14 +++++++-------
 tools/go-cli/go-whisk-cli/commands/rule.go      | 14 +++++++-------
 tools/go-cli/go-whisk-cli/commands/trigger.go   | 12 ++++++------
 tools/go-cli/go-whisk/whisk/action.go           | 12 ++++++------
 tools/go-cli/go-whisk/whisk/client.go           |  2 +-
 8 files changed, 33 insertions(+), 33 deletions(-)

commit e1cc7d22452cd909089c5c7a15d2ac58ca353c6e
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed Jun 22 10:29:56 2016 -0400

    Add missing \ to indicate a line break

 catalog/installWebSocket.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a205b65eacaf4c8b3036794da7611cadf8fffa01
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 22 13:02:11 2016 -0400

    Add Go CLI to OpenWhisk - Defect Fixes
    
    - Fix failing test cases

 tools/go-cli/go-whisk/whisk/activation.go | 2 +-
 tools/go-cli/go-whisk/whisk/package.go    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit f1545035784abc0c93483ec97e2aa2d0e263fd5e
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Tue Jun 21 17:19:59 2016 -0400

    Add Go CLI to OpenWhisk - Ansible
    
    - Include Ansible first to deploy Go CLI

 ansible/edge.yml                           |  1 +
 ansible/environments/local/group_vars/all  |  1 +
 ansible/environments/mac/group_vars/all    |  1 +
 ansible/environments/travis/group_vars/all |  1 +
 ansible/roles/go-cli/tasks/clean.yml       |  8 ++++++++
 ansible/roles/go-cli/tasks/deploy.yml      | 20 ++++++++++++++++++++
 ansible/roles/go-cli/tasks/main.yml        | 10 ++++++++++
 7 files changed, 42 insertions(+)

commit 2b6eb3da0570a73d9aa0c46bc5b96cebcd5d2ab5
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Thu Jun 16 21:08:37 2016 -0400

    Series of updates for docs.
    
    Update docs for ulmit limits for docker actions
    Fixes #342
    
    Update docs with limits for action artifact and parameters
    Fixes #340
    
    Update docs to define BASE URL and default namespace _
    Fixes #307 #551
    
    Remove dash - since it can get confuse with default namespace underscore _
    Fixes #306
    
    Update docs on github payload content
    Fixes #240
    
    Document restriction on creating triggers and rules
    Fixes #239
    
    Update docs  wrong type of quotes in code snippets
    Fixes #682
    
    update actions docs to consistent use params and not msg
    Fixes #683
    
    docs missing step to install pod for ios starter app
    Fixes #684
    
    update doc with version of nodejs 0.12.14
    
    update swagger url in API reference
    Fixes #710

 docs/actions.md        |  8 +++----
 docs/catalog.md        |  9 +++++---
 docs/mobile_sdk.md     |  7 ++++++
 docs/reference.md      | 59 ++++++++++++++++++++++++++++++++++----------------
 docs/triggers_rules.md |  6 ++++-
 5 files changed, 62 insertions(+), 27 deletions(-)

commit adcb223b70587bc1d1eb0b190c38fbbbbcdc065b
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 20 15:37:42 2016 -0400

    Add Go CLI to OpenWhisk
    
    - Build Go CLI with Gradle

 settings.gradle           |  2 ++
 tools/go-cli/build.gradle | 67 +++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 69 insertions(+)

commit 20178d6b88c18ad5abbcf373e101b41d04952388
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Mon Jun 20 14:21:55 2016 -0400

    Add Go CLI to OpenWhisk
    
    - Defect fixes

 tools/go-cli/go-whisk-cli/commands/action.go  |  53 ++++----
 tools/go-cli/go-whisk-cli/commands/package.go |  58 +++++----
 tools/go-cli/go-whisk-cli/commands/rule.go    |   4 +-
 tools/go-cli/go-whisk-cli/commands/sdk.go     |   4 +-
 tools/go-cli/go-whisk-cli/commands/trigger.go |  91 ++++++++++++--
 tools/go-cli/go-whisk-cli/commands/util.go    | 172 ++++++++++++++------------
 tools/go-cli/go-whisk/whisk/action.go         |   9 +-
 tools/go-cli/go-whisk/whisk/package.go        |  17 +--
 tools/go-cli/go-whisk/whisk/rule.go           |   9 +-
 tools/go-cli/go-whisk/whisk/shared.go         |   5 +-
 tools/go-cli/go-whisk/whisk/trigger.go        |  29 +++--
 11 files changed, 282 insertions(+), 169 deletions(-)

commit 8ff36cd5dbcc6118caf6c96c35388d8acc3463c5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 16 12:03:14 2016 -0400

    Handle sequence update.
    Add unit tests for sequence create/update.
    Replace existing sequence tests with new and improved tests that also tests sequence update (and of course rewrite in scala).

 .../src/main/scala/whisk/core/entity/Exec.scala    | 20 ++---
 .../scala}/whisk/core/entity/Pipecode.scala        |  0
 .../main/scala/whisk/core/entity/WhiskAction.scala | 71 +++++++++--------
 .../main/scala/whisk/core/controller/Actions.scala | 24 ++++--
 tests/src/common/JsHelpers.scala                   |  7 +-
 tests/src/packages/websocket/WebSocketTests.scala  |  1 +
 tests/src/system/basic/CLIActionTests.java         | 31 --------
 .../src/system/basic/WskActionSequenceTests.scala  | 92 ++++++++++++++++++++++
 .../core/controller/test/ActionsApiTests.scala     | 65 +++++++++++++++
 9 files changed, 227 insertions(+), 84 deletions(-)

commit e7d98ffbfef97de95c86e4c0026b79dbcec4321b
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Jun 10 15:47:59 2016 -0400

    Remove CLI manual use of pipe.js and use of parameters and use a new sequence kind and components field.
    Use SequenceExec for sequences but with a NodejsExec-like implementation for now where the compoments meta-data is converted to parameters.

 .../src/main/scala/whisk/core/entity/Exec.scala    | 23 +++++-
 .../main/scala/whisk/core/entity/WhiskAction.scala | 38 ++++-----
 common/scala/src/whisk/core/entity/Pipecode.scala  | 96 ++++++++++++++++++++++
 .../main/scala/whisk/core/controller/Actions.scala | 20 +++--
 tools/cli/wskaction.py                             | 18 ++--
 5 files changed, 153 insertions(+), 42 deletions(-)

commit 005a027b6e754f2dafd8fa4e72e439e885a01004
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Fri Jun 17 14:54:30 2016 -0400

    'wsk property get' now displays all properties and their values.  Also updated .gitattributes for .py files'

 .gitattributes                                 |  9 ++++++++-
 tools/go-cli/go-whisk-cli/commands/property.go | 16 ++++++++++++----
 2 files changed, 20 insertions(+), 5 deletions(-)

commit 0ce8e8fe2eb4a30c4b7b13637f122126ce6db268
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Tue Jun 7 14:04:09 2016 +0200

    Updating cloudant trigger package doc.
    
    Fixing issues found during review.

 docs/catalog.md | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 35eca25f3e2f09ff71ac148001dee0ca7af2ae6d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jun 17 21:22:40 2016 -0400

    Format stdout/stderr to be more easily readable on failed commands.

 ansible/ansible.cfg               |  1 +
 ansible/callbacks/logformatter.py | 56 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 57 insertions(+)

commit 3348d8be2cb277f63f5c174699e5fa2c884c63fd
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jun 17 20:23:57 2016 -0400

    Work around gnu/bsd tar divergence by copying sdk/docker to scratch/dockerSkeleton and taring that instead.

 ansible/roles/sdk/tasks/deploy.yml | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

commit cbed19c168fb1f55e3b3ccdc4eb7d09435705ba1
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jun 17 17:57:00 2016 -0400

    Add fresh target for a one step setup/build/deploy.

 tools/build/redo | 27 +++++++++++++++++++++------
 1 file changed, 21 insertions(+), 6 deletions(-)

commit adbe4529cd03a5b9b8bb09f00e79956b7fa2e5a7
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 16 22:16:30 2016 -0400

    mktemp workaround
    
    Some (??) versions of BSD `mktemp` require a pattern.

 ansible/roles/sdk/tasks/deploy.yml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit bff46e6caca6259293d4d0fff84f38e3a476440e
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Jun 21 13:20:29 2016 +0200

    Add address of edge host to WhiskConfig

 common/scala/src/main/scala/whisk/core/WhiskConfig.scala | 2 ++
 1 file changed, 2 insertions(+)

commit ff7cd6db06274396b3234904bbffc303645c4aa6
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Mon Jun 20 14:30:13 2016 +0200

    deploy only a consul server in main, deploy in every machine a registrator

 ansible/roles/consul/tasks/deploy.yml     | 9 +++++++--
 ansible/roles/controller/tasks/deploy.yml | 2 +-
 ansible/roles/invoker/tasks/deploy.yml    | 2 +-
 3 files changed, 9 insertions(+), 4 deletions(-)

commit 8bc094ac7a5c84bc44a0d77cae36654e27edc32b
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Fri Jun 17 16:35:32 2016 +0200

    issue #672: only use docker-machine commands in mac env. add db host on-the-fly to ansible runtime once mac env is used. improve README.md

 ansible/README.md |  8 ++++----
 ansible/setup.yml | 15 +++++++++++----
 2 files changed, 15 insertions(+), 8 deletions(-)

commit dade50b2a6f213282cb225c1c5def88e8cd80f27
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 20 15:24:22 2016 +0200

    Run scanCode in travis builds

 tools/build/scanCode.py | 0
 tools/travis/build.sh   | 3 +++
 2 files changed, 3 insertions(+)

commit 89f2b01c31c83725a1eae991ef50f890c3c99399
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Wed Apr 27 15:00:27 2016 -0400

    Implement websocket/send action
    
    This creates a new package called websocket
    Implementation is in Node.JS and required added the ws package to the Node.JS runtime.
    Added unit tests which confirm that a message can be sent to a WebSocket running on Bluemix, as well as handle various error cases.

 catalog/installCatalog.sh                         |   1 +
 catalog/installWebSocket.sh                       |  41 +++++++++
 catalog/websocket/sendWebSocketMessageAction.js   |  50 ++++++++++
 tests/src/packages/websocket/WebSocketTests.scala | 106 ++++++++++++++++++++++
 4 files changed, 198 insertions(+)

commit 7b15621a069fd68fa8bf45741892dcdbb29c3888
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 2 17:21:48 2016 -0400

    Ported CLIJavaTests to Scala

 tests/src/system/basic/CLIJavaTests.java  | 65 ----------------------------
 tests/src/system/basic/CLIJavaTests.scala | 72 +++++++++++++++++++++++++++++++
 2 files changed, 72 insertions(+), 65 deletions(-)

commit 73c9d04212015dcaac6f80ecf17ec657ef213eef
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 16 20:25:23 2016 -0400

    Mac development documentation. Fixes issue #73.
    These steps are reduced from the comments in issue #73.
    
    Incorporate feedback from @markusthoemmes.
    
    readme tweaks from @csantanapr

 tools/macos/README.md | 100 ++++++++++++++++++++++++++++++++++++++++++++++++--
 1 file changed, 96 insertions(+), 4 deletions(-)

commit a7fb2b3ea30a2d1193050f2ff1c9c5089be39b7f
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Thu Jun 16 11:15:04 2016 -0400

    Generate compressed Go CLI binary files

 tools/go-cli/Dockerfile | 29 +++++++++++++++++++++++------
 tools/go-cli/build.xml  |  4 ++++
 2 files changed, 27 insertions(+), 6 deletions(-)

commit 7480abe7350ce9027eb534b580581afa61521d86
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue Jun 14 13:09:56 2016 -0400

    add pointer to slack channel

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 24d7fc6ab674af9e702b3d00c84b430465f02747
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Jun 15 23:39:24 2016 -0400

    Replaced ConsulKV by ConsulClient in Entitlement
    
    Other assorted changes, such as pushing ActorContext implicit args throughout the system, and removing implicit ExecutionContext args when it can be obtained from the ActorSystem.
    
    After this change, there is still a use of ConsulKV in Config, but it's once, at construction time only.

 .../src/main/scala/whisk/common/ConsulClient.scala |  7 ++-
 .../main/scala/whisk/core/controller/Actions.scala |  2 -
 .../scala/whisk/core/entitlement/Entitlement.scala | 59 +++++++++++-----------
 .../whisk/core/entitlement/LocalEntitlement.scala  |  7 ++-
 .../core/loadBalancer/ActivationThrottle.scala     | 16 +++---
 .../controller/test/ControllerTestCommon.scala     |  6 ++-
 6 files changed, 50 insertions(+), 47 deletions(-)

commit 845dba9607e06b839f94126d0e0a2b9801b91ff8
Author: Perry <perry@us.ibm.com>
Date:   Fri Jun 17 16:16:38 2016 -0400

    Enable serial docker

 .../src/main/scala/whisk/core/container/ContainerPool.scala           | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6be1f114f15530376be59f05733e6f2c04a65b98
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Jun 17 11:15:26 2016 +0200

    Getting rid of warning in TestUtils

 tests/src/common/TestUtils.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f50c7b990145cebbd269a5978b7badd84123c5e
Author: Danilo Tuler <danilo.tuler@b2wdigital.com>
Date:   Tue Jun 14 10:33:54 2016 -0300

    Moved sources to standard folders.
    Moved loadBalancer code into controller project.

 common/scala/build.gradle                          | 12 -------
 .../src/{ => main}/resources/application.conf      |  0
 .../src/{ => main}/resources/log4j.properties      |  0
 common/scala/src/{ => main}/resources/logging.conf |  0
 .../src/{ => main/scala}/whisk/common/Config.scala |  0
 .../scala}/whisk/common/ConsulClient.scala         |  0
 .../{ => main/scala}/whisk/common/ConsulKV.scala   |  0
 .../scala}/whisk/common/ConsulKVReporter.scala     |  0
 .../scala}/whisk/common/ConsulServiceCheck.scala   |  0
 .../scala}/whisk/common/ConsulServiceHealth.scala  |  0
 .../{ => main/scala}/whisk/common/Counter.scala    |  0
 .../src/{ => main/scala}/whisk/common/Crypt.scala  |  0
 .../src/{ => main/scala}/whisk/common/Curl.scala   |  0
 .../{ => main/scala}/whisk/common/DateUtil.scala   |  0
 .../{ => main/scala}/whisk/common/HttpClient.scala |  0
 .../{ => main/scala}/whisk/common/HttpUtils.scala  |  0
 .../{ => main/scala}/whisk/common/Logging.scala    |  0
 .../{ => main/scala}/whisk/common/Scheduler.scala  |  0
 .../{ => main/scala}/whisk/common/SimpleExec.scala |  0
 .../scala}/whisk/common/TransactionId.scala        |  0
 .../connector/kafka/KafkaConsumerConnector.scala   |  0
 .../connector/kafka/KafkaProducerConnector.scala   |  0
 .../{ => main/scala}/whisk/core/WhiskConfig.scala  |  0
 .../whisk/core/connector/LoadbalancerRequest.scala |  0
 .../scala}/whisk/core/connector/Message.scala      |  0
 .../whisk/core/connector/MessageConsumer.scala     |  0
 .../whisk/core/connector/MessageProducer.scala     |  0
 .../scala}/whisk/core/database/ArtifactStore.scala |  0
 .../core/database/ArtifactStoreExceptions.scala    |  0
 .../whisk/core/database/CloudantRestClient.scala   |  0
 .../whisk/core/database/CouchDbRestClient.scala    |  0
 .../whisk/core/database/CouchDbRestStore.scala     |  0
 .../whisk/core/database/DocumentFactory.scala      |  0
 .../scala}/whisk/core/database/InMemoryCache.scala |  0
 .../scala}/whisk/core/entity/ActivationId.scala    |  0
 .../scala}/whisk/core/entity/ActivationLogs.scala  |  2 +-
 .../whisk/core/entity/ActivationResult.scala       |  0
 .../scala}/whisk/core/entity/ArgNormalizer.scala   |  0
 .../scala}/whisk/core/entity/AuthKey.scala         |  0
 .../scala}/whisk/core/entity/DocInfo.scala         |  0
 .../{ => main/scala}/whisk/core/entity/Exec.scala  |  0
 .../scala}/whisk/core/entity/Limits.scala          |  0
 .../scala}/whisk/core/entity/MemoryLimit.scala     |  0
 .../scala}/whisk/core/entity/Namespace.scala       |  0
 .../scala}/whisk/core/entity/Parameter.scala       |  0
 .../scala}/whisk/core/entity/Secret.scala          |  0
 .../scala}/whisk/core/entity/SemVer.scala          |  0
 .../scala}/whisk/core/entity/Subject.scala         |  0
 .../scala}/whisk/core/entity/TimeLimit.scala       |  0
 .../{ => main/scala}/whisk/core/entity/UUID.scala  |  0
 .../scala}/whisk/core/entity/WhiskAction.scala     |  0
 .../scala}/whisk/core/entity/WhiskActivation.scala |  0
 .../scala}/whisk/core/entity/WhiskAuth.scala       |  0
 .../scala}/whisk/core/entity/WhiskEntity.scala     |  0
 .../scala}/whisk/core/entity/WhiskPackage.scala    |  0
 .../scala}/whisk/core/entity/WhiskRule.scala       |  0
 .../scala}/whisk/core/entity/WhiskStore.scala      |  0
 .../scala}/whisk/core/entity/WhiskTrigger.scala    |  0
 .../scala}/whisk/http/BasicHttpService.scala       |  0
 .../scala}/whisk/http/BasicRasService.scala        |  0
 .../scala}/whisk/http/ErrorResponse.scala          |  0
 .../whisk/utils/ExecutionContextFactory.scala      |  0
 .../src/{ => main/scala}/whisk/utils/Retry.scala   |  0
 core/controller/build.gradle                       | 14 --------
 .../src/{ => main}/resources/application.conf      |  0
 .../src/{ => main}/resources/whiskswagger.json     |  0
 .../scala}/whisk/core/controller/Actions.scala     |  0
 .../scala}/whisk/core/controller/Activations.scala |  0
 .../scala}/whisk/core/controller/ApiUtils.scala    |  0
 .../whisk/core/controller/Authenticate.scala       |  0
 .../whisk/core/controller/AuthenticatedRoute.scala |  0
 .../controller/AuthorizedRouteDispatcher.scala     |  0
 .../scala}/whisk/core/controller/Backend.scala     |  0
 .../scala}/whisk/core/controller/Controller.scala  |  0
 .../scala}/whisk/core/controller/Entities.scala    |  0
 .../scala}/whisk/core/controller/Namespaces.scala  |  0
 .../scala}/whisk/core/controller/Packages.scala    |  0
 .../scala}/whisk/core/controller/RestAPIs.scala    |  0
 .../scala}/whisk/core/controller/Rules.scala       |  0
 .../scala}/whisk/core/controller/Triggers.scala    |  0
 .../scala}/whisk/core/entitlement/Collection.scala |  0
 .../whisk/core/entitlement/Entitlement.scala       |  0
 .../whisk/core/entitlement/LocalEntitlement.scala  |  0
 .../whisk/core/entitlement/PackageCollection.scala |  0
 .../scala}/whisk/core/entitlement/Privilege.scala  |  0
 .../whisk/core/entitlement/RateThrottler.scala     |  0
 .../whisk/core/entitlement/RemoteEntitlement.scala |  0
 .../core/loadBalancer/ActivationThrottle.scala     |  0
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  0
 .../core/loadBalancer/LoadBalancerService.scala    |  0
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  0
 core/dispatcher/build.gradle                       | 12 -------
 .../src/{ => main}/resources/application.conf      |  0
 .../scala}/whisk/core/container/Container.scala    |  0
 .../whisk/core/container/ContainerPool.scala       |  0
 .../whisk/core/container/ContainerUtils.scala      |  0
 .../whisk/core/container/WhiskContainer.scala      |  0
 .../whisk/core/dispatcher/DispatchRule.scala       |  0
 .../scala}/whisk/core/dispatcher/Dispatcher.scala  |  0
 .../scala}/whisk/core/dispatcher/Matcher.scala     |  0
 .../scala}/whisk/core/invoker/Invoker.scala        |  0
 .../scala}/whisk/core/invoker/InvokerServer.scala  |  0
 core/loadBalancer/Dockerfile                       |  8 -----
 core/loadBalancer/build.xml                        | 40 ----------------------
 core/loadBalancer/src/resources/application.conf   |  8 -----
 105 files changed, 1 insertion(+), 95 deletions(-)

commit 16361d3e04d8736040cd1a9f191994bf05558419
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Jun 12 20:03:37 2016 -0400

    Fix gateway timeout to controller - wait up 5 minutes which is max allowed action duration.

 ansible/roles/nginx/templates/nginx.conf.j2 | 1 +
 1 file changed, 1 insertion(+)

commit ee72ad01b88c9d8fece3d8ce9f1a518afff3663d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jun 14 07:48:01 2016 -0400

    Fix all parts of the docker skeleton action which were completely broken.
    Check clientApp returns a JSON parsable object and if not, report error and log a message.
    Update example to show how params are received and return a proper JSON.
    Fix space in path in various build scripts.
    Add gradle build for docker skeleton - to enable testing locally.
    Replace broken docker action tests with test that verifies the docker skeleton can tolerate an init message and can receive/respond with JSON objects. This test suite is not complete in that the docker skeleton hardcodes an example and the tests are specific to that example so cannot test that failure modes are correct yet.
    Add CLI tests to download sdks and verify them.
    Move sdk/docker/dockerSkeleton to sdk/docker.
    Renamed clientApp to action.
    Moved SDK tests.

 ansible/roles/sdk/tasks/deploy.yml                 |   2 +-
 core/build.xml                                     |   2 +-
 docs/reference.md                                  |   2 +-
 sdk/docker/Dockerfile                              |  34 ++++
 sdk/docker/README.md                               |  28 ++++
 sdk/docker/build.gradle                            |  10 ++
 sdk/docker/{dockerSkeleton => }/buildAndPush.sh    |   0
 .../client/clientApp => client/action}             |   2 +-
 sdk/docker/client/example.c                        |   6 +
 sdk/docker/dockerSkeleton/Dockerfile               |  38 -----
 sdk/docker/dockerSkeleton/README.md                |   9 -
 sdk/docker/dockerSkeleton/client/example.c         |   6 -
 sdk/docker/dockerSkeleton/server/src/service.js    |  77 ---------
 sdk/docker/{dockerSkeleton => }/server/app.js      |  27 ++-
 .../{dockerSkeleton => }/server/package.json       |   3 +-
 .../{dockerSkeleton => }/server/src/logger.js      |  16 ++
 sdk/docker/server/src/service.js                   |  91 ++++++++++
 services/consul/build.xml                          |   2 +-
 settings.gradle                                    |   1 +
 tests/src/actionContainers/ActionContainer.scala   |   7 +-
 .../DockerSkeletonActionContainerTests.scala       |  94 +++++++++++
 tests/src/blackBox/DockerActionTests.java          | 184 ---------------------
 tests/src/system/basic/WskSdkTests.scala           |  78 +++++++++
 tools/cli/build.gradle                             |   2 +-
 tools/cli/build.xml                                |  10 +-
 tools/cli/wsksdk.py                                |   2 +-
 26 files changed, 396 insertions(+), 337 deletions(-)

commit f4dbf4d0982fa8dfbe31abef1b3ea447cfcf94f9
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Jun 3 15:42:21 2016 +0200

    Resolve issue #560:
    - move blackbox sdk to open
    - provide ansible role for publishing SDKs
    - move blackbox to new folder 'sdk'
    - update readme
    - move blackbox tests to open
    - add zip to ubuntu setup used for publishing ios starter app currently
    - remove unnecessary npm packages from Dockerfile
    - use mktemp to make temp directories instead of hard-coding /tmp
    - provide publish.yml playbook to only refresh artifacts without redeploying nginx

 ansible/edge.yml                                |   2 +
 ansible/publish.yml                             |   8 ++
 ansible/roles/sdk/tasks/clean.yml               |  14 ++
 ansible/roles/sdk/tasks/deploy.yml              |  42 ++++++
 ansible/roles/sdk/tasks/main.yml                |  10 ++
 sdk/docker/dockerSkeleton/Dockerfile            |  38 +++++
 sdk/docker/dockerSkeleton/README.md             |   9 ++
 sdk/docker/dockerSkeleton/buildAndPush.sh       |  24 ++++
 sdk/docker/dockerSkeleton/client/clientApp      |   8 ++
 sdk/docker/dockerSkeleton/client/example.c      |   6 +
 sdk/docker/dockerSkeleton/server/app.js         |  44 ++++++
 sdk/docker/dockerSkeleton/server/package.json   |  12 ++
 sdk/docker/dockerSkeleton/server/src/logger.js  |  43 ++++++
 sdk/docker/dockerSkeleton/server/src/service.js |  77 ++++++++++
 tests/src/blackBox/DockerActionTests.java       | 184 ++++++++++++++++++++++++
 tools/ubuntu-setup/misc.sh                      |   1 +
 16 files changed, 522 insertions(+)

commit 386a45110c7eed940056471a03ad9b8640b8a9f4
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Jun 15 19:22:25 2016 +0200

    Adding action images as dependencies for the test task so they are guaranteed to be there when the testsuite runs

 tests/build.gradle | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 2b5f64fe7d1847453350e520cc8010692bd70e1d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 16 10:53:51 2016 -0400

    Normalized line endings in gradlew.bat

 gradlew.bat | 180 ++++++++++++++++++++++++++++++------------------------------
 1 file changed, 90 insertions(+), 90 deletions(-)

commit cea02887c2f2d465a9253e943313c3b7bc00b836
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 16 10:28:05 2016 -0400

    .bat are Windows files

 .gitattributes | 1 +
 1 file changed, 1 insertion(+)

commit 1524e4b0f9007cd2ae656031f25c58506d5df8d2
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Jun 16 15:29:54 2016 +0200

    fix syntax error in default.props generation. fixes cli tests.

 ansible/roles/cli/templates/default.props.j2 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6cc35eeab930d163071309b287217b02745f2e52
Author: Mark Deuser <mdeuser@us.ibm.com>
Date:   Wed Jun 15 17:35:49 2016 -0400

    CLI dependency snapshot support using godep

 tools/go-cli/Dockerfile                      | 22 ++++++++++--
 tools/go-cli/go-whisk-cli/Godeps/Godeps.json | 52 ++++++++++++++++++++++++++++
 tools/go-cli/go-whisk-cli/Godeps/Readme      |  5 +++
 3 files changed, 76 insertions(+), 3 deletions(-)

commit 12c0f724c52834ea0eb70f2098c5268a40189fe5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 9 01:15:33 2016 -0400

    Allow for HTTPS proxy to openwhisk via env var, using https_proxy var name matching cloudfoundy http://docs.cloudfoundry.org/cf-cli/http-proxy.html.
    Supported only for HTTPS endpoints. Fixes issue #586.

 tools/cli/wskutil.py | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 34a2acd63d098b048a78ce6edabcf8887f059b9f
Author: Philippe Suter <philippe.suter@gmail.com>
Date:   Wed Jun 15 14:35:50 2016 -0400

    README.md for tools/build/
    
    Ported relevant information from commit message.

 tools/build/README.md | 27 +++++++++++++++++++++++++++
 1 file changed, 27 insertions(+)

commit 32fcd87aa0e0b0ac49c79d1940cc219bdaa24df4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Jun 11 03:32:50 2016 -0400

    redo: gradle/ansible sugar for building and deploying whisk.
    
    Script includes targets for building action containers, and legacy props file with convenient component to run all tests.
    
    How to use:
    initialize environment and docker-machine (for mac or use -t for other support environments)
    `redo setup`
    `redo prereqs`
    
    start couchdb container and initialize db with system and guest keys (for ephemeral couch, otherwise skip or run just initdb)
    `redo couchdb`
    `redo initdb`
    
    Could tie the two above steps together so that `redo couchdb` does both but the latter is needed anyway as a separate target.
    
    lasty deploy
    `redo deploy`
    
    and optionally run tests
    `redo props`
    `redo tests`
    
    Or to do it all with one line for a first time run `redo setup prereqs couchdb initdb deploy tests` as each of these is executed sequentially.
    
    The script is called redo because for most development, one will want to "redo" the compilation and deployment of a unit as in `redo controller` which will `gradle` build the `controller`, teardown down the previous container and replace it with a new container.
    
    To only build: redo controller -b.
    To only teardown: redo controller -x.
    To redeploy only: redo controller -d.
    To do all at once: redo controller -bxd which is the default.
    
    Note that with ansible, the teardown of the couchdb container no longer happens because it does not use the brute force `ant teardown` method.

 config/writePropertyFile.sh |   4 +-
 tools/build/redo            | 346 ++++++++++++++++++++++++++++++++++++++++++++
 tools/build/scanCode.py     |  18 +++
 3 files changed, 366 insertions(+), 2 deletions(-)

commit fc2d684cf88f7c7387a345a0abd9ab6128bf7f13
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Wed Jun 15 14:11:30 2016 +0800

    Modify tools/db/README.md

 tools/db/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5815204b148928dbfad6cafa9a26130ce5d9bd11
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Tue Jun 14 10:49:02 2016 +0200

    Document CORS headers #49
    Add tests for OPTION calls #49

 docs/reference.md                     |   5 +-
 tests/src/services/HeadersTests.scala | 282 ++++++++++++++++++++++++++++++++++
 2 files changed, 286 insertions(+), 1 deletion(-)

commit 7457e2224e2f50a774ae2dae38a703e6e80e8e3e
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Jun 3 14:04:41 2016 -0400

    Enable active ack with response so that blocking activation from controller can round trip faster.
    Extend Completion message, redo plumbing for query response, track completion with a promise.
    
    Removed activation id from Message as it is redundant.
    Removed method from ActivationResult, moved to WhiskActivation.
    Removed unnecessary null check on a value type. Add result extractor and renamed method.
    Removed unecessary build dependence.
    Simplified promise to (activation id, activation) and consolidated result projection. Also fixed implementation divergence from spec for activations which result in application error status (backlog).
    Allowed hit under miss in queries for active ack (at most one promise at a time for an activation id).
    Logged errors and switch from active ack to db poll.

 .../scala/src/whisk/core/connector/Message.scala   | 11 ++-
 .../src/whisk/core/entity/ActivationResult.scala   | 27 +++----
 .../src/whisk/core/entity/WhiskActivation.scala    | 23 ++++--
 core/controller/build.gradle                       |  2 +-
 .../src/whisk/core/controller/Actions.scala        | 82 ++++++++++++++++------
 .../src/whisk/core/controller/Backend.scala        |  9 ++-
 .../src/whisk/core/controller/RestAPIs.scala       |  8 ++-
 .../src/whisk/core/invoker/Invoker.scala           |  2 +-
 .../core/loadBalancer/LoadBalancerService.scala    | 47 +++++++++++--
 .../core/controller/test/ActionsApiTests.scala     |  2 +-
 .../controller/test/ControllerTestCommon.scala     |  3 +
 11 files changed, 157 insertions(+), 59 deletions(-)

commit a68e236d6fb667cb6a3c9e02c528259b786bed46
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Wed Jun 15 11:04:53 2016 +0200

    make subjects db environment-specific
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/environments/local/group_vars/all  |  1 +
 ansible/environments/mac/group_vars/all    |  1 +
 ansible/environments/travis/group_vars/all |  1 +
 ansible/group_vars/all                     |  1 -
 ansible/tasks/initdb.yml                   | 14 +++++++-------
 ansible/templates/whisk.properties.j2      |  2 +-
 6 files changed, 11 insertions(+), 9 deletions(-)

commit 26267ec3f566732997b1ffe210c1fb4ac1b98ba1
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Jun 14 22:04:22 2016 -0400

    Fix CRLF.

 tools/go-cli/Dockerfile |  46 +++++++++----------
 tools/go-cli/build.xml  | 116 ++++++++++++++++++++++++------------------------
 2 files changed, 81 insertions(+), 81 deletions(-)

commit 91b30c88a41f93253f0e94deccd0d803699f7611
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue Jun 7 20:01:28 2016 +0200

    issue #580: delete roles predeploy and postdeploy. add new playbooks: wipe, initdb, properties. add new tasks. add new temlates. ant writePropertyFile uses ansible under the hood. initdb should not drop subjects db anymore. delete template-cloudant|couch-local.env that are not managed by ansible
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>
    
    issue #580: db_local.ini.j2 uses lookup ENV at first to get the db creds
    
    issue #580 #581 ant deploy -> ansible. update Vagrantfiles to deploy using ansible. Update travis to use new initdb.yml playbook.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #580 #581 update readme for ansible. update custom vagrant file for ansible.
    
    remove obsolete db configuration for local.
    
    issue #580, #581: update README.md
    
    issue #580, #581: fix invoker.hosts in whisk.properties
    
    fix travis. uses db_local.ini now.
    
    don't write local whisk.properties for travis. execute tests directly with whisk.properties from ansible.
    
    test using gradle. echo whisk.properties before test.
    
    added troubeshooting section
    
    code review feedback: move mac config dirs to shared
    
    code review feedback: copy -> write template
    
    update vagrant custom readme with ansible changes.
    
    update db README.md with ansible content
    
    issue #601 fix ansible on windows vagrant
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/.gitignore                                 |   4 +-
 ansible/README.md                                  | 120 ++++++++++++++++++---
 ansible/cloudant.yml                               |   6 --
 ansible/consul.yml                                 |   2 +
 ansible/environments/local/group_vars/all          |  22 ++--
 ansible/environments/mac/group_vars/all            |  32 +++---
 ansible/environments/travis/group_vars/all         |  12 +--
 ansible/{roles/cloudant => }/files/auth_index.json |   0
 ansible/initdb.yml                                 |   7 ++
 ansible/openwhisk.yml                              |   2 +-
 ansible/postdeploy.yml                             |   7 +-
 ansible/predeploy.yml                              |   6 --
 ansible/properties.yml                             |   7 ++
 ansible/roles/cloudant/tasks/clean.yml             |   8 --
 ansible/roles/cloudant/tasks/deploy.yml            |   5 -
 ansible/roles/cloudant/tasks/main.yml              |  14 ---
 .../roles/cloudant/templates/cloudant-local.env.j2 |   8 --
 ansible/roles/couchdb/files/auth_index.json        |   6 --
 ansible/roles/couchdb/tasks/clean.yml              |   6 --
 ansible/roles/couchdb/tasks/initdb.yml             |  70 ------------
 ansible/roles/couchdb/tasks/main.yml               |   8 +-
 .../roles/couchdb/templates/couchdb-local.env.j2   |  15 ---
 ansible/roles/postdeploy/tasks/clean.yml           |   5 -
 ansible/roles/postdeploy/tasks/main.yml            |  10 --
 ansible/roles/predeploy/tasks/clean.yml            |   7 --
 ansible/roles/predeploy/tasks/deploy.yml           |  11 --
 ansible/roles/predeploy/tasks/main.yml             |  10 --
 ansible/setup.yml                                  |   6 +-
 ansible/{roles/cloudant => }/tasks/initdb.yml      |  34 +++---
 .../tasks/deploy.yml => tasks/installCatalog.yml}  |   4 +-
 ansible/tasks/wipeDatabase.yml                     |   8 ++
 ansible/tasks/writeWhiskProperties.yml             |   8 ++
 ansible/templates/db_local.ini.j2                  |   7 ++
 .../predeploy => }/templates/whisk.properties.j2   |   3 +-
 ansible/wipe.yml                                   |   7 ++
 build.xml                                          |  11 +-
 config/config.xml                                  |  11 +-
 template-cloudant-local.env                        |   8 --
 template-couchdb-local.env                         |  15 ---
 tools/db/README.md                                 |  97 +++++++++--------
 tools/travis/build.sh                              |   7 +-
 tools/vagrant/custom/README.md                     |  58 ++++------
 tools/vagrant/custom/Vagrantfile                   |  51 +++++++--
 tools/vagrant/simple/Vagrantfile                   |   8 +-
 44 files changed, 340 insertions(+), 413 deletions(-)

commit e8e839a02ce960fa44c7b25e0cfd4b408dfcd4a8
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Jun 14 13:19:39 2016 -0400

    increase mem and cpu for simple vagrant
    Fixes #596 #624

 tools/vagrant/simple/Vagrantfile | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e11a92d626ef0c171ef39d58ea78738d51e977ed
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue Jun 14 13:40:05 2016 -0400

    .gitattributes set eol=lf on appropriate files
    
    Fixes #633.

 .gitattributes | 19 +++++++++++++++++++
 1 file changed, 19 insertions(+)

commit 5c2c0043598434324b2b399dbdc34d31eda40855
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon Jun 13 12:57:18 2016 -0400

    Document the Watson speechToText action

 docs/catalog.md | 43 +++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 43 insertions(+)

commit 8cee87b123b8561b729b91640eb5dec1c4f99c77
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon Jun 13 09:44:14 2016 -0400

    Refactor cat.js to just do a join and create new split.js util

 docs/actions.md | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit a6f0de4a9b439faa7b639e11d36bd49f6680a9d8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Jun 13 11:39:29 2016 +0200

    Ignoring errors on cleanup measures for CLI build, fixes #626

 tools/cli/build.gradle | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 75f6615e37b54a7a9d01272c2cac60570fb787b2
Author: Vincent Hou <shou@us.ibm.com>
Date:   Thu May 26 10:29:17 2016 -0400

    Add the iOS app examples and the sdk to local deploy
    
    Currently iOS is not an available SDK for download. This patch adds the
    iOS package when the deploy target is located locally. Remote deploy needs
    the users to copy the iOS artifact to correct location.
    
    Closes-Bug: #502

 build.xml                    |  3 ++-
 tools/build.xml              | 41 +++++++++++++++++++++++++++++++++++++++++
 tools/cli/publishArtifact.sh | 38 ++++++++++++++++++++++++++++++++++++++
 3 files changed, 81 insertions(+), 1 deletion(-)

commit 3796dbeeef9dd882b3b7d94e21ca4ff3de09af94
Author: Vincent Hou <shou@us.ibm.com>
Date:   Wed Jun 1 10:23:48 2016 -0400

    Make ephemeral couchdb persistent in deploy
    
    If the user chooses to use the ephemeral couchdb, we should keep it
    from being deleted in redeploy.
    
    Closes-Bug: #532

 build.xml                       | 19 ++++++++++++++++++-
 tools/docker/cleanAllDockers.sh |  4 +++-
 tools/docker/cleanDocker.sh     | 10 +++++++++-
 3 files changed, 30 insertions(+), 3 deletions(-)

commit bce6eb86a3cde3ab12354ea158a0ce1708ff993a
Author: James Dubee <jwdubee@us.ibm.com>
Date:   Wed Jun 8 21:56:38 2016 -0400

    Add Go CLI to OpenWhisk
    
    - Add Go CLI source code to OpenWhisk while leave Python CLI functionality intact

 .gitignore                                       |   3 +
 config/config.xml                                |   2 +
 tools/build/scanCode.py                          |   3 +-
 tools/go-cli/Dockerfile                          |  23 +
 tools/go-cli/README.md                           |  15 +
 tools/go-cli/build.xml                           |  58 ++
 tools/go-cli/go-whisk-cli/commands/action.go     | 757 +++++++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/activation.go | 326 ++++++++++
 tools/go-cli/go-whisk-cli/commands/commands.go   | 147 +++++
 tools/go-cli/go-whisk-cli/commands/flags.go      | 109 ++++
 tools/go-cli/go-whisk-cli/commands/namespace.go  | 116 ++++
 tools/go-cli/go-whisk-cli/commands/package.go    | 606 ++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/property.go   | 482 +++++++++++++++
 tools/go-cli/go-whisk-cli/commands/rule.go       | 475 ++++++++++++++
 tools/go-cli/go-whisk-cli/commands/sdk.go        | 223 +++++++
 tools/go-cli/go-whisk-cli/commands/trigger.go    | 552 +++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/util.go       | 629 +++++++++++++++++++
 tools/go-cli/go-whisk-cli/commands/wsk.go        |  49 ++
 tools/go-cli/go-whisk-cli/main.go                |  78 +++
 tools/go-cli/go-whisk/whisk/action.go            | 282 +++++++++
 tools/go-cli/go-whisk/whisk/activation.go        | 186 ++++++
 tools/go-cli/go-whisk/whisk/client.go            | 301 +++++++++
 tools/go-cli/go-whisk/whisk/info.go              |  69 +++
 tools/go-cli/go-whisk/whisk/namespace.go         | 128 ++++
 tools/go-cli/go-whisk/whisk/package.go           | 263 ++++++++
 tools/go-cli/go-whisk/whisk/rule.go              | 176 ++++++
 tools/go-cli/go-whisk/whisk/sdk.go               |  63 ++
 tools/go-cli/go-whisk/whisk/shared.go            |  38 ++
 tools/go-cli/go-whisk/whisk/trace.go             |  86 +++
 tools/go-cli/go-whisk/whisk/trigger.go           | 179 ++++++
 tools/go-cli/go-whisk/whisk/util.go              |  62 ++
 tools/go-cli/go-whisk/whisk/wskerror.go          |  85 +++
 32 files changed, 6570 insertions(+), 1 deletion(-)

commit 7302616a526ac2fcc047d7930b428a7dd9069621
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Jun 10 18:58:43 2016 +0200

    fix name clash for consul agents with ansible environments that have multiple groups

 ansible/roles/consul/tasks/deploy.yml         | 1 -
 ansible/roles/consul/templates/config.json.j2 | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 6fbe461a572bad57a29a631ee2adbf2b31f9f2e4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jun 10 00:25:38 2016 -0400

    Replaced general API tests intended to test header responses for CORS with tests that can run as unit tests that do not entangle with a real deployment.
    
    Also removed route in controller that existed for now legacy activator.
    Removed activator references and organize imports.

 .../scala/src/whisk/core/connector/Message.scala   |   6 +-
 .../src/whisk/core/controller/Backend.scala        |  14 +--
 .../src/whisk/core/controller/RestAPIs.scala       |  52 +++++------
 .../src/whisk/core/controller/Rules.scala          |   6 +-
 .../src/whisk/core/dispatcher/Dispatcher.scala     |   9 +-
 .../core/controller/test/GeneralApiTests.scala     | 101 ---------------------
 .../controller/test/RespondWithHeadersTests.scala  |  90 ++++++++++++++++++
 7 files changed, 120 insertions(+), 158 deletions(-)

commit 7eb48276cb51d950a0f5f2fdc34542287aa5770d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri May 20 23:33:37 2016 +0200

    Refactored ActivationThrottle to use ConsulClient
    
    - Replaced BigInt with Long
    - Replaced TrieMaps with actual vars
    - Replaced Thread with Actor based schedulers
    - Documentation
    - Added WaitAtMost Scheduler
    - Added tests

 .../scala/src/whisk/common/ConsulKVReporter.scala  |  20 +-
 common/scala/src/whisk/common/Scheduler.scala      |  92 ++++++++
 .../core/loadBalancer/ActivationThrottle.scala     | 247 ++++++++++-----------
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   5 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  11 +-
 .../core/loadBalancer/LoadBalancerToKafka.scala    |   2 +-
 tests/src/whisk/common/SchedulerTests.scala        | 160 +++++++++++++
 7 files changed, 399 insertions(+), 138 deletions(-)

commit aea64518e44fa4a948617a5d015cd75a7c18bc2d
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Jun 6 16:27:04 2016 +0200

    Adding CORS support to API
    
    This adds CORS support to all of controller's API, including support for OPTIONS requests.
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com> and Markus Thoemmes <markus.thoemmes@de.ibm.com>

 .../src/whisk/core/controller/RestAPIs.scala       |  47 ++++++----
 .../core/controller/test/GeneralApiTests.scala     | 101 +++++++++++++++++++++
 2 files changed, 128 insertions(+), 20 deletions(-)

commit 79a69ce29b410354992465285d245ac920c5c404
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Jun 6 19:31:50 2016 +0200

    Refactor activator functionality into controller.
    
    This removes the activator component completely by adjusting the way the status of a rule is stored. That state is now stored in the trigger connected to the rule, thus avoiding eventual-consistency as all lookups are single reads from the database. Rule state is therefore considered consistent. The activator is not needed anymore, as the Triggers API can immediatly determine which rules are connected to it by reading the rulestates stored in the trigger directly.
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 ansible/activator.yml                              |   6 -
 ansible/environments/local/hosts                   |   3 -
 ansible/environments/mac/hosts.j2.ini              |   3 -
 ansible/environments/travis/hosts                  |   3 -
 ansible/group_vars/all                             |   3 -
 ansible/openwhisk.yml                              |   4 +-
 ansible/roles/activator/tasks/clean.yml            |  15 -
 ansible/roles/activator/tasks/deploy.yml           |  35 --
 ansible/roles/activator/tasks/main.yml             |  10 -
 .../roles/predeploy/templates/whisk.properties.j2  |   2 -
 common/scala/src/whisk/core/entity/WhiskRule.scala |  68 +--
 .../scala/src/whisk/core/entity/WhiskTrigger.scala |  53 ++-
 config/localEnv.sh                                 |   1 -
 config/writePropertyFile.sh                        |   4 -
 core/build.xml                                     |   2 -
 .../src/whisk/core/controller/Actions.scala        |  12 +-
 .../src/whisk/core/controller/Activations.scala    |   4 +-
 .../src/whisk/core/controller/ApiUtils.scala       |  25 +-
 .../controller/AuthorizedRouteDispatcher.scala     |  10 +-
 .../src/whisk/core/controller/Entities.scala       |   9 +-
 .../src/whisk/core/controller/Namespaces.scala     |   4 +-
 .../src/whisk/core/controller/Packages.scala       |   4 +-
 .../src/whisk/core/controller/RestAPIs.scala       |   1 +
 .../src/whisk/core/controller/Rules.scala          | 311 ++++++++------
 .../src/whisk/core/controller/Triggers.scala       | 152 ++++---
 core/dispatcher/build.xml                          |  42 --
 .../src/whisk/core/activator/Activator.scala       | 235 ----------
 .../src/whisk/core/activator/PostInvoke.scala      | 114 -----
 .../src/whisk/core/dispatcher/Dispatcher.scala     |   6 +-
 tests/src/services/PingTests.scala                 |   8 -
 tests/src/system/basic/CLIRuleTests.java           |  40 +-
 .../whisk/core/activator/test/ActivatorTests.scala | 247 -----------
 .../whisk/core/controller/test/RulesApiTests.scala | 472 +++++++++++++--------
 .../core/controller/test/TriggersApiTests.scala    |  33 +-
 .../core/dispatcher/test/DispatcherTests.scala     |  31 --
 .../whisk/core/entity/test/DatastoreTests.scala    |  21 +-
 .../whisk/core/entity/test/MigrationEntities.scala |  82 ++++
 tests/src/whisk/core/entity/test/ViewTests.scala   |   8 +-
 tools/health/killComponent                         |   7 +-
 39 files changed, 857 insertions(+), 1233 deletions(-)

commit a84791a72717a674a51dd465c1147dd76b4e6167
Author: jeremiaswerner <jeremias.werner@gmail.com>
Date:   Thu Jun 9 22:13:10 2016 +0200

    Update wskadmin

 tools/cli/wskadmin | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c09186352c9c93aef959b4925dc8172820be0615
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Tue Jun 7 12:40:54 2016 -0400

    Addition of bindTime:true for UI.

 catalog/installWeather.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0b7e7dc8eabbf217e325e031d04201a596cb014f
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu Jun 9 11:39:37 2016 -0400

    Delete dead property files.  Simplify start.sh

 services/kafka/config/consumer.properties       | 28 ----------
 services/kafka/config/producer.properties       | 53 -------------------
 services/kafka/config/server.properties.prod    | 69 -------------------------
 services/kafka/config/server.properties.staging | 68 ------------------------
 services/kafka/start.sh                         | 20 +------
 5 files changed, 1 insertion(+), 237 deletions(-)

commit 3d7570601220cf02615ec0a460845aa61c71cf1b
Author: Vincent Hou <shou@us.ibm.com>
Date:   Tue May 31 23:01:24 2016 -0400

    Add DOCKER_HOST into the environment variables
    
    After "vagrant up" is done, all the docker commands will be able to
    run in the terminal after "vagrant ssh", since DOCKER_HOST is set
    as an environment variable.
    
    Closes-Bug: #533

 tools/ubuntu-setup/docker.sh | 4 ++++
 1 file changed, 4 insertions(+)

commit 2a77606e9ab2fbf9520ab0a6e31f19c1d94fa364
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Jun 7 16:37:18 2016 -0400

    Fix Kakfa consumer property and flag.  Change kafka test to do 5 iterations since first one it topic creation.

 .../connector/kafka/KafkaConsumerConnector.scala   | 13 ++++++------
 tests/src/services/KafkaConnectorTests.scala       | 24 ++++++++++++++--------
 2 files changed, 23 insertions(+), 14 deletions(-)

commit 85c77802f334d832590a0575e735b0110f4128d7
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue Jun 7 09:50:13 2016 -0400

    Do not rely on the logs field for expected output
    
    Instead check for the presence of the result of invoking the date action. This verification is more robust.

 tests/src/common/JsHelpers.scala                   | 39 ++++++++++++++++++++++
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  8 +++--
 2 files changed, 44 insertions(+), 3 deletions(-)

commit f9e7f0fe1ca7f6142ec809c1b22893e174525425
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Jun 9 13:48:48 2016 +0200

    Add properties to WhiskConfig to monitor docker containers
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 common/scala/src/whisk/core/WhiskConfig.scala | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 8a767f390cda9b8011b2c80668cba3f2a32cf7f3
Author: Dominik Jall <djall@de.ibm.com>
Date:   Thu Jun 9 13:42:46 2016 +0200

    fix invoker.hosts list syntax.

 ansible/roles/predeploy/templates/whisk.properties.j2 | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bf3fe240ff56f772837f7c9ccf909483b1893a8c
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Jun 8 21:34:48 2016 -0400

    Ignore a conformance test until chunking resolved

 tests/src/whisk/core/entity/test/ConformanceTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b5285e7c79322670759d5d0168edba8b8ed257fb
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Jun 8 18:00:19 2016 +0200

    fix missing images to pull on invoker role.
    
    fix prompt

 ansible/roles/invoker/tasks/deploy.yml | 24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 61c426ff68f1244c2904dec967f04a6a7a03a95d
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri Jun 3 12:39:43 2016 -0400

    Add Watson SDKs 0.2.x to the Swift 3 runtime
    
    This required upgrading Kitura-net to 0.15.6 because the Watson SDKs explicitly require it, and SPM doesn't then allow us to depend on a different version.

 core/swift3Action/spm-build/Package.swift          |  5 +++--
 .../Swift3ActionContainerTests.scala               | 24 ++++++++++++++++++++++
 2 files changed, 27 insertions(+), 2 deletions(-)

commit 7f4777e9e9d0420c6b141802f793e5661f0e4d5d
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Jun 3 15:44:18 2016 +0200

    issue #560 deploy using ansible on travis
    
    issue #560 build using gradle

 .travis.yml           |  5 -----
 tools/travis/build.sh | 22 ++++++++++++++--------
 tools/travis/setup.sh | 11 +++++++++--
 3 files changed, 23 insertions(+), 15 deletions(-)

commit 00e2d166111d7ee40b8c5c8c0ca706902aca37b5
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Mon Jun 6 11:50:52 2016 +0200

    disable auto-prompt mode for cloudant. also update README.md file

 ansible/README.md                       | 18 +++++++++++-------
 ansible/roles/cloudant/tasks/initdb.yml |  1 -
 2 files changed, 11 insertions(+), 8 deletions(-)

commit 8e7ecc6e8503c8dfba8bbee2e7d5c977ba86ee12
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Jun 3 17:01:04 2016 -0400

    Fixes issue 568: activation id incorrectly treated as a number and fails to deserialize correctly into the desired type.

 common/scala/src/whisk/core/entity/ActivationId.scala |  8 ++++++++
 tests/src/whisk/core/entity/test/SchemaTests.scala    | 10 ++++++++--
 2 files changed, 16 insertions(+), 2 deletions(-)

commit 53e11eb87bba572a2fd9a4f30f5bdab8d72f6bbd
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 2 12:30:09 2016 -0400

    Removed Cloudant SDK dependency

 common/scala/build.gradle                          |  2 --
 .../core/database/ArtifactStoreExceptions.scala    | 22 +++++++++++++++
 .../src/whisk/core/database/CouchDbRestStore.scala | 14 ++++------
 common/scala/src/whisk/core/entity/DocInfo.scala   | 32 ----------------------
 common/scala/src/whisk/core/entity/WhiskAuth.scala |  3 +-
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  2 +-
 .../src/whisk/core/controller/Actions.scala        |  2 +-
 .../src/whisk/core/controller/ApiUtils.scala       |  4 +--
 .../src/whisk/core/controller/Authenticate.scala   |  3 +-
 .../src/whisk/core/controller/Packages.scala       |  2 +-
 .../src/whisk/core/controller/Rules.scala          |  4 +--
 .../src/whisk/core/controller/Triggers.scala       |  2 +-
 tests/src/whisk/core/database/test/DbUtils.scala   |  2 +-
 .../whisk/core/entity/test/ConformanceTests.scala  |  1 -
 .../whisk/core/entity/test/DatastoreTests.scala    |  4 +--
 tools/cli/wskadmin                                 |  4 +--
 16 files changed, 42 insertions(+), 61 deletions(-)

commit 1ac2bd13e03f879c3904faa03d7a32ae131ec291
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed May 25 16:54:54 2016 -0400

    Removed GSON dependency in core
    
    Some Java tests still depend on GSON, and so do the test Java actions. The main change to pay attention to is in ConformanceTests, where the list of expected fields is no longer retrieved using reflection on the *Record classes, but is provided manually.

 common/scala/build.gradle                          |  1 -
 .../src/whisk/core/database/ArtifactStore.scala    | 11 +--
 .../src/whisk/core/database/CouchDbRestStore.scala | 32 +-------
 .../src/whisk/core/database/DocumentFactory.scala  | 41 +++-------
 .../src/whisk/core/database/InMemoryCache.scala    |  6 +-
 .../src/whisk/core/entity/ActivationLogs.scala     | 17 +---
 .../src/whisk/core/entity/ActivationResult.scala   | 15 ----
 common/scala/src/whisk/core/entity/Exec.scala      | 43 ----------
 common/scala/src/whisk/core/entity/Limits.scala    | 24 ------
 common/scala/src/whisk/core/entity/Parameter.scala | 23 ------
 .../scala/src/whisk/core/entity/WhiskAction.scala  | 24 +-----
 .../src/whisk/core/entity/WhiskActivation.scala    | 32 +-------
 common/scala/src/whisk/core/entity/WhiskAuth.scala | 22 +----
 .../scala/src/whisk/core/entity/WhiskEntity.scala  | 16 ----
 .../scala/src/whisk/core/entity/WhiskPackage.scala | 41 +---------
 common/scala/src/whisk/core/entity/WhiskRule.scala | 25 +-----
 .../scala/src/whisk/core/entity/WhiskStore.scala   | 57 +++++++------
 .../scala/src/whisk/core/entity/WhiskTrigger.scala | 22 +----
 .../whisk/core/entity/schema/ActionRecord.scala    | 53 ------------
 .../core/entity/schema/ActivationRecord.scala      | 53 ------------
 .../src/whisk/core/entity/schema/AuthRecord.scala  | 37 ---------
 .../whisk/core/entity/schema/EntityLimits.scala    | 32 --------
 .../core/entity/schema/EntityParameters.scala      | 32 --------
 .../whisk/core/entity/schema/EntityRecord.scala    | 65 ---------------
 .../whisk/core/entity/schema/PackageRecord.scala   | 50 ------------
 .../src/whisk/core/entity/schema/Record.scala      | 36 ---------
 .../src/whisk/core/entity/schema/RuleRecord.scala  | 51 ------------
 .../whisk/core/entity/schema/TriggerRecord.scala   | 47 -----------
 common/scala/src/whisk/utils/JsonUtils.scala       | 93 ----------------------
 .../src/whisk/core/controller/ApiUtils.scala       | 28 +++----
 tests/build.gradle                                 |  1 +
 tests/src/common/TestUtils.java                    |  2 -
 tests/src/whisk/core/database/test/DbUtils.scala   | 18 ++---
 .../whisk/core/entity/test/ConformanceTests.scala  | 24 +++---
 34 files changed, 90 insertions(+), 984 deletions(-)

commit 6b855cd64d1bf966442e1439e0ec82a85542656d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 2 14:01:14 2016 -0400

    Do not double-report docs. not found or conflicts
    
    The assumptions is that these issues will be surfaced elsewhere when appropriate.

 common/scala/src/whisk/core/database/CouchDbRestStore.scala | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 112f85119e924534cb6af521a7ad89f0d161c534
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu May 19 13:49:17 2016 -0400

    Bypass GSON in DB document serialization.
    
    Use Spray JSON to serialize documents going into the DB, bypassing GSON entirely. GSON is still used as a sanity check to ensure that the documents are encoded identically with Spray, although this check will disappear together with the GSON serializers.

 .../src/whisk/core/database/CouchDbRestStore.scala | 55 ++++++++++++----------
 .../src/whisk/core/database/DocumentFactory.scala  |  9 ++++
 .../scala/src/whisk/core/entity/WhiskAction.scala  |  2 +
 .../src/whisk/core/entity/WhiskActivation.scala    |  3 +-
 .../scala/src/whisk/core/entity/WhiskEntity.scala  | 18 +++++++
 .../scala/src/whisk/core/entity/WhiskPackage.scala |  9 +++-
 common/scala/src/whisk/core/entity/WhiskRule.scala |  3 ++
 .../scala/src/whisk/core/entity/WhiskStore.scala   | 20 ++++++++
 .../scala/src/whisk/core/entity/WhiskTrigger.scala |  3 ++
 .../whisk/core/entity/test/ConformanceTests.scala  |  1 +
 10 files changed, 96 insertions(+), 27 deletions(-)

commit 917e75046eace51325ad32919dfbc0fa05de94ad
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue May 17 15:49:49 2016 -0400

    Ported ConformanceTests to Spray client.
    
    Had to make the `cause` field optional, as it is not always present in the records (`None` in `WhiskActivation`, `null` in `ActivationRecord`). I don't fully understand how this could pass earlier.

 .../whisk/core/entity/test/ConformanceTests.scala  | 171 +++++++++------------
 1 file changed, 73 insertions(+), 98 deletions(-)

commit 7ff88233a803610a337d6e362f00eb092c1d9b50
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed May 11 14:55:23 2016 -0400

    Cleared out legacy *Store classes.

 .../src/whisk/core/database/CloudantProvider.scala | 116 ---------
 .../src/whisk/core/database/CloudantStore.scala    |  24 --
 .../whisk/core/database/CouchDbLikeProvider.scala  |  63 -----
 .../src/whisk/core/database/CouchDbLikeStore.scala | 268 ---------------------
 .../src/whisk/core/database/CouchDbProvider.scala  | 110 ---------
 .../src/whisk/core/database/CouchDbStore.scala     |  26 --
 common/scala/src/whisk/core/database/package.scala |  25 --
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  12 +-
 .../schema/migration/MigrationAssistant.scala      |  90 -------
 9 files changed, 2 insertions(+), 732 deletions(-)

commit 55e369778802c9e83a06a9fec159f7fb344fe114
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Jun 2 12:08:21 2016 -0400

    Allows wipe db script to run from anywhere.

 tools/db/wipeTransientDBs.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d68f8c4806ca94c19f3ec8041bf4aadb722fcdcd
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Wed Jun 1 15:14:49 2016 -0400

    Sync docs with bluemix docs for openwhisk.
    Fix some typos and remove unnecessary python action related documentation.

 docs/README.md         |  2 +-
 docs/actions.md        | 80 ++++++--------------------------------------------
 docs/mobile_sdk.md     | 26 +++++++++++-----
 docs/reference.md      |  8 ++---
 docs/triggers_rules.md |  2 +-
 5 files changed, 34 insertions(+), 84 deletions(-)

commit afd70089210c873f48914658c5b02b7c95d9035f
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Jun 2 11:00:28 2016 -0400

    Silence out download progress info in Dockerfiles
    
    Trying to use `wget --no-verbose` consistently to avoid progress report
    but preserve error/warning messages.

 core/controller/Dockerfile    | 2 +-
 core/dispatcher/Dockerfile    | 4 ++--
 core/swift3Action/Dockerfile  | 6 +++---
 core/swiftAction/Dockerfile   | 6 +++---
 services/consul/Dockerfile    | 4 ++--
 services/kafka/Dockerfile     | 6 +++---
 services/zookeeper/Dockerfile | 2 +-
 7 files changed, 15 insertions(+), 15 deletions(-)

commit 04b6268895001aa556e6d579f4c3e0a5a9901a04
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Mon May 23 16:38:10 2016 -0400

    Add Node.js 6 runtime

 common/scala/src/whisk/core/entity/Exec.scala      |  40 ++++--
 .../scala/src/whisk/core/entity/WhiskAction.scala  |  11 +-
 .../src/whisk/core/invoker/Invoker.scala           |   4 +-
 core/nodejs6Action/Dockerfile                      |  62 +++++++++
 core/nodejs6Action/build.gradle                    |  11 ++
 core/nodejsAction/Dockerfile                       |   9 +-
 core/nodejsAction/build.gradle                     |   1 +
 core/nodejsActionBase/.dockerignore                |   2 +
 core/nodejsActionBase/Dockerfile                   |   8 ++
 core/{nodejsAction => nodejsActionBase}/app.js     |   0
 core/nodejsActionBase/build.gradle                 |  10 ++
 .../package.json                                   |   0
 core/{nodejsAction => nodejsActionBase}/runner.js  |   0
 .../src/logger.js                                  |   0
 .../src/service.js                                 |   0
 .../src/whisk.js                                   |   0
 core/{nodejsAction => nodejsActionBase}/test.js    |   0
 settings.gradle                                    |   2 +
 .../NodeJs6ActionContainerTests.scala              |  52 ++++++++
 .../NodeJsActionContainerTests.scala               |   4 +-
 tests/src/packages/UtilsTests.scala                | 145 +++++++++++++++++----
 tools/cli/wskaction.py                             |   4 +
 tools/deploy/deployInvoker                         |   1 +
 23 files changed, 322 insertions(+), 44 deletions(-)

commit 44d6649004b70e78e40bf58416931051308bbf03
Author: Vincent Hou <shou@us.ibm.com>
Date:   Tue May 24 00:23:44 2016 +0000

    Add the explanation on how to add a Python action
    
    Closes-Bug: #376

 docs/actions.md | 96 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 96 insertions(+)

commit 969eb0ec2e8156f8b15f68c8b7f430f34b875f95
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Fri May 27 13:51:55 2016 +0800

    add POST requests description to REST API doc

 docs/reference.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fea7eb216d1c257239a8e42386faea668afffc5b
Author: daniel-federschmidt <daniel.federschmidt@de.ibm.com>
Date:   Mon May 30 14:58:25 2016 +0200

    Downgrade docker to 1.9.1 for vagrant boxes and travis

 .travis.yml                  | 2 +-
 tools/ubuntu-setup/docker.sh | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit d37c412f84ba59682a0a73ad008ef45b8ebd03ee
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu May 26 08:22:38 2016 -0400

    Factored deploy invokers so that pulling action container images is a separate operation.
    This allows hotswapping the action containers by pulling the built images to the slave machines.
    
    Cleaned up copy/paste cruft along the way.

 tools/deploy/deployInvoker | 321 ++++++++++++++++++++++++---------------------
 1 file changed, 170 insertions(+), 151 deletions(-)

commit ea5337ad96d369303f3efc361769f02570d472b4
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat May 28 13:13:29 2016 -0400

    Adds support to retrieve logs for a transaction from controller or invoker logs.

 tools/cli/wskadmin                | 56 ++++++++++++++++++++++++++++++++++++---
 tools/ubuntu-setup/bashprofile.sh |  1 +
 2 files changed, 54 insertions(+), 3 deletions(-)

commit 3b8c969399a9aa637e1c1a483415236bc80088ca
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue May 24 18:47:52 2016 -0400

    Keeps track of status based on invoker instance so activation count can be reset when a new invoker instance comes online.

 .../whisk/core/loadBalancer/InvokerHealth.scala    | 54 +++++++++++++++-------
 .../core/loadBalancer/LoadBalancerService.scala    | 18 ++++----
 .../core/loadBalancer/LoadBalancerToKafka.scala    | 12 ++++-
 3 files changed, 57 insertions(+), 27 deletions(-)

commit d0d64637a953a7a1365fdbb5a1d2f3852efde9cc
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon May 30 10:51:30 2016 +0200

    add logdiff.sh tool to help analyze test logs between runs.
    
    add more detailed usage info.

 tools/logs/logdiff.sh | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 8a559899d85d5fef6e1491198065a80be81cbc02
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue May 31 10:16:15 2016 -0400

    Enable parallel docker ops reworking killStraggler to not use global lock.

 .../src/whisk/core/container/ContainerPool.scala        | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit d9eb94748c0fc65f069a5e32f62d64299240eb57
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Tue May 24 13:47:33 2016 +0800

    Add user documentation for Java Actions

 docs/actions.md | 67 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 67 insertions(+)

commit 74092e4ed57ed74353e7f66d33e50c597daa87cc
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue May 31 18:00:46 2016 +0200

    add whisk_version_buildno by deploying controller
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/controller/tasks/deploy.yml | 1 +
 1 file changed, 1 insertion(+)

commit bc959d6cb2f760ec4d23e6bce0c64cc7716aa018
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Fri May 27 12:51:57 2016 -0400

    Relax the version for ansible to 2.* Fixes #530

 tools/ubuntu-setup/ansible.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 30c72718d201be9b51789cc11580b8b2ce3dd10d
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue May 31 11:15:34 2016 +0200

    invokers use the local consul agent instead of using the first consul server in core machines
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 364e61ad03372eb80e0ba2b09e18df8b09e8859f
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Thu May 26 14:13:45 2016 -0400

    Add ws and socket.io-client packages to the Node.js runtime

 core/nodejsAction/Dockerfile                       |  2 +
 docs/reference.md                                  |  2 +
 .../NodeJsActionContainerTests.scala               | 49 ++++++++++++++++++++++
 3 files changed, 53 insertions(+)

commit 311b9afc8959ee66aba7a92744c5f9eb3276aee6
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Fri May 20 17:19:52 2016 +0200

    downgrade docker-py module to 1.7.2 for using docker daemon 1.9
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/prereq/tasks/deploy.yml | 2 +-
 tools/ubuntu-setup/ansible.sh         | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit fa86ee1f1db9643578410c14d6236e39cb4ab9b2
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri May 27 12:15:09 2016 -0400

    Fix flag scope error from teardown PR change

 core/dispatcher/src/whisk/core/container/ContainerPool.scala | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit 32c74c4d199a2bfd3d0cb720642e8bf90300ea6b
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu May 26 13:28:01 2016 -0400

    Defer teardown to nanny thread to reduce latency; Consolidate how we get logs

 .../src/whisk/core/container/Container.scala       | 16 ++++++
 .../src/whisk/core/container/ContainerPool.scala   | 63 ++++++++++++----------
 .../src/whisk/core/container/WhiskContainer.scala  | 14 -----
 .../core/container/test/ContainerPoolTests.scala   |  2 +
 4 files changed, 53 insertions(+), 42 deletions(-)

commit 48438eb8f1f53e65b622486cf2564eafb2dbdd59
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu May 26 17:41:31 2016 -0400

    Skip pause/unpause of pre-warmed containers

 core/dispatcher/src/whisk/core/container/ContainerPool.scala | 2 --
 1 file changed, 2 deletions(-)

commit 181177e8f1f30df13a2857505dbc17b6004f78df
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Mon May 23 16:48:11 2016 -0400

    Addition of new test utility to get VCAP credentials.

 tests/src/common/TestUtils.java | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit d2b30a1b73697ed917ee83d05f663c7f8e75acfa
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Tue May 17 17:27:53 2016 -0400

    Create some samples in Swift equivalent to existing node.js ones

 catalog/installSystem.sh                   |   7 ++
 catalog/samples/wc.swift                   |  15 +++
 catalog/utils/cat.js                       |  10 +-
 catalog/utils/cat.swift                    |  17 +++
 catalog/utils/head.swift                   |  21 ++++
 catalog/utils/sort.swift                   |  15 +++
 catalog/utils/split.js                     |  14 +++
 catalog/utils/split.swift                  |  20 +++
 tests/src/packages/UtilsTests.scala        | 191 +++++++++++++++++++++++++++++
 tests/src/system/basic/CLIActionTests.java |   2 +-
 10 files changed, 302 insertions(+), 10 deletions(-)

commit f71c291bfa59d7543005eea493c62095d9a691e5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed May 25 10:15:14 2016 -0400

    Fixes #506. Add appropriate error message when referencing non-existing package in a bind operation. Update unit test.

 core/controller/src/whisk/core/controller/Packages.scala    | 7 ++++++-
 tests/src/whisk/core/controller/test/PackagesApiTests.scala | 2 ++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 2c2583371cff2b1f285908266dcbb6ac1a102d57
Author: Dan Heidinga <daniel_heidinga@ca.ibm.com>
Date:   Wed May 25 23:26:06 2016 -0400

    Fix path to tools/db/README.md from vagrant/custom

 tools/vagrant/custom/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit de8178108e8be221fd968fbe56f83358c1e07923
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed May 25 16:48:06 2016 -0400

    Generlize useWarmContainer flag to correct unit testing bug.

 .../src/whisk/core/container/ContainerPool.scala         | 16 +++++++++-------
 core/dispatcher/src/whisk/core/invoker/Invoker.scala     | 13 +++++++------
 .../whisk/core/container/test/ContainerPoolTests.scala   |  2 +-
 3 files changed, 17 insertions(+), 14 deletions(-)

commit 7739843b5aa675f7e2f21cefb282397a8c108198
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue May 24 14:52:41 2016 -0400

    Fix Whisk.swift to return the correct result.
    Read the post response into NSData and then produce a JSON serialization from it.
    Make JSON parsing error from post() more generic so that it applies to invoke and trigger
    Update invoke.swift example action to be more explicit about the way activations are presented.
    
    Update Swift3WhiskObjectTests to actually examine the result, instead of just the logs.
    
    Re-enable CLISwiftTests.

 catalog/samples/invoke.swift                       | 23 ++++++++----------
 catalog/samples/trigger.swift                      |  2 +-
 core/swift3Action/spm-build/Whisk.swift            | 14 +++++++----
 tests/src/system/basic/CLISwiftTests.scala         |  2 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  | 27 ++++++++++++++--------
 5 files changed, 37 insertions(+), 31 deletions(-)

commit d745075b2b3394ca5a0e6d48848734ec99d9fd66
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Tue May 24 12:02:29 2016 -0400

    Update docs for alarm
    Fixes #469

 docs/catalog.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9fe18779491246a38d291d26199ac70483336650
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon May 23 14:14:54 2016 -0400

    Increase wait time for log sentinel marker to 1.5 seconds.
    
    Ignore CLI Swift3 test temporarily.

 core/dispatcher/src/whisk/core/invoker/Invoker.scala | 2 +-
 tests/src/system/basic/CLISwiftTests.scala           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 6e694c4c858894f9d72c996c930b00d50ff2a72a
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon May 23 20:56:39 2016 -0400

    Fix invoker lifecycle

 .../src/whisk/core/container/ContainerPool.scala   | 73 +++++++++++++++-------
 .../src/whisk/core/container/ContainerUtils.scala  |  7 ++-
 .../src/whisk/core/invoker/Invoker.scala           | 27 ++------
 .../core/container/test/ContainerPoolTests.scala   |  3 +-
 .../src/whisk/core/invoker/test/InvokerTests.scala |  3 +-
 5 files changed, 61 insertions(+), 52 deletions(-)

commit 80e05265ce737f3d3d82aa459bcfa3f03049795d
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Mon May 23 14:13:26 2016 +0200

    make cli_api_host more robust
    
    add cert paths to whisk.properties.j2
    
    fix invoker health check. expects ports to increase for each invoker.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/roles/cli/templates/default.props.j2          | 2 +-
 ansible/roles/invoker/tasks/deploy.yml                | 6 +++---
 ansible/roles/predeploy/templates/whisk.properties.j2 | 4 ++--
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 43a50349baa6266206a1c878b5a53d4234168b1f
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Mon May 23 13:49:53 2016 -0400

    Add text2speech documentation.
    
    Disable Swift tests temporarily.

 docs/catalog.md                                    | 36 +++++++++++++++++++++-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  4 +--
 2 files changed, 37 insertions(+), 3 deletions(-)

commit a2d222af87dbe4c4a36f7f56e2852a778e94b5cf
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu May 19 01:01:52 2016 -0400

    Fixes issue #352.
    
    AuthenticatedRoute overrides BasicHttpAuthenticator.apply to provide a custom rejection (either 500 or 503 response).
    Added unit tests for authenticated route to confirm custom rejection is generated and served as HTTP response by custom rejection handler.

 common/scala/src/whisk/common/Logging.scala        |  4 ++
 common/scala/src/whisk/core/entity/WhiskAuth.scala |  9 ++--
 common/scala/src/whisk/http/BasicHttpService.scala | 34 +++++++-----
 common/scala/src/whisk/http/ErrorResponse.scala    | 28 ++++++----
 .../src/whisk/core/controller/Authenticate.scala   |  8 ++-
 .../whisk/core/controller/AuthenticatedRoute.scala | 30 +++++++++--
 .../src/whisk/core/controller/Controller.scala     |  2 +-
 .../core/controller/test/AuthenticateTests.scala   | 63 ++++++++++++++++++++++
 tools/cli/wskadmin                                 |  2 +-
 9 files changed, 143 insertions(+), 37 deletions(-)

commit 4b9e8be7e12c0127ec8dd5bc69cdd8b676068f1f
Author: Carlos Santana <csantana@us.ibm.com>
Date:   Sat May 7 00:36:42 2016 -0400

    Refactor README and add simple and custom Vagrant files.

 .gitignore                           |   2 +-
 README.md                            | 336 ++++-------------------------------
 tools/db/README.md                   | 119 +++++++++++++
 tools/ubuntu-setup/README.md         |  48 +++++
 tools/ubuntu-setup/all.sh            |   5 +-
 tools/ubuntu-setup/docker.sh         |   2 +-
 tools/ubuntu-setup/ubuntu-desktop.sh |   9 -
 tools/vagrant/Vagrantfile            |  62 -------
 tools/vagrant/custom/README.md       | 176 ++++++++++++++++++
 tools/vagrant/custom/Vagrantfile     | 107 +++++++++++
 tools/vagrant/resume_build           |  16 ++
 tools/vagrant/resume_build.cmd       |  11 ++
 tools/vagrant/simple/README.md       |  56 ++++++
 tools/vagrant/simple/Vagrantfile     |  79 ++++++++
 tools/vagrant/simple/hello           |  15 ++
 tools/vagrant/simple/hello.cmd       |  12 ++
 tools/vagrant/simple/wsk             |   5 +
 tools/vagrant/simple/wsk.cmd         |   5 +
 18 files changed, 689 insertions(+), 376 deletions(-)

commit a3a939663356c2dcd2f94a06ccf6f70d00313890
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun May 22 01:34:41 2016 -0400

    Fix race in container pool at startup where newly allocated warmed containers are killed.

 .../src/whisk/core/container/ContainerPool.scala   | 17 ++++++++++-------
 .../src/whisk/core/container/ContainerUtils.scala  | 13 ++++++++-----
 .../src/whisk/core/invoker/Invoker.scala           | 22 ++++++++++++++++++----
 3 files changed, 36 insertions(+), 16 deletions(-)

commit c4b0a1aeea50dec158f4f27b3fede6d63206a785
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat May 21 22:34:01 2016 -0400

    Change return codes to 50x level. Add missing response that can cause POST /init to timeout. Conform error messages.
    Add test for init with empty content.

 core/nodejsAction/src/service.js                         | 12 ++++++++----
 .../actionContainers/NodeJsActionContainerTests.scala    | 16 +++++++++++++++-
 2 files changed, 23 insertions(+), 5 deletions(-)

commit 4b4cd4bf2df389a72848229e058d79abaca6cd6e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat May 21 22:02:10 2016 -0400

    Remove version name as it is not used. If needed should use buildno instead.

 common/scala/src/whisk/core/WhiskConfig.scala                |  5 +----
 core/dispatcher/src/whisk/core/container/ContainerPool.scala |  3 +--
 core/nodejsAction/src/service.js                             |  2 +-
 core/nodejsAction/src/whisk.js                               | 11 +----------
 4 files changed, 4 insertions(+), 17 deletions(-)

commit 44b44a9284777f1c829459ddb92fba083791d0ac
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat May 21 21:13:49 2016 -0400

    Bump test grace period for swift actions.
    Rewrite activation console tests in scala with some hardening.
    Fix #417 along the way (activation console when time traveling shows activations in correct order).
    Organize imports.

 tests/src/common/Wsk.scala                         |  27 +++++-
 tests/src/system/basic/CLISwiftTests.scala         |  41 ++++----
 tests/src/system/basic/ConsoleTests.java           | 105 ---------------------
 tests/src/system/basic/ConsoleTests.scala          |  85 +++++++++++++++++
 tests/src/system/basic/WskBasicTests.scala         |  32 +++----
 .../controller/test/ControllerTestCommon.scala     |  14 +--
 tools/cli/wskactivation.py                         |   2 +-
 7 files changed, 152 insertions(+), 154 deletions(-)

commit 042708323462682c646bc7cb874e6e956e3c4df4
Author: Justin Berstler <fatty@justinbstersmbp.raleigh.ibm.com>
Date:   Thu May 19 15:22:44 2016 -0400

    When testing .invoke() and .trigger() use non-blocking invoke.
    Additionally, move invoke and trigger Swift test actions to be sample actions which demonstrate these new functions.

 .../samples/invoke.swift                           |  0
 catalog/samples/trigger.swift                      |  8 +++
 tests/dat/actions/triggerEvent.swift               |  7 ---
 .../src/system/basic/Swift3WhiskObjectTests.scala  | 62 +++++++++++-----------
 4 files changed, 39 insertions(+), 38 deletions(-)

commit 086605bc85f158908fbc51c7f011c8d53d62a065
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Wed May 18 17:15:51 2016 -0400

    Addition of error JSON object to forecast.js

 catalog/weather/forecast.js | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 3e4aff104a84e6a7c4f7adbdfe25f8ea35649f6b
Author: sjfink <sjfink@us.ibm.com>
Date:   Thu May 19 14:00:54 2016 -0400

    Documentation only: add some comments.

 common/scala/src/whisk/common/Config.scala         | 21 ++++++++++
 common/scala/src/whisk/common/Counter.scala        | 12 ++++--
 common/scala/src/whisk/common/Curl.scala           | 15 +++----
 common/scala/src/whisk/common/DateUtil.scala       | 30 ++++++-------
 common/scala/src/whisk/common/HttpClient.scala     |  6 ++-
 common/scala/src/whisk/common/SimpleExec.scala     | 10 ++++-
 common/scala/src/whisk/http/BasicHttpService.scala |  4 ++
 common/scala/src/whisk/http/BasicRasService.scala  | 14 +++++++
 .../src/whisk/core/controller/Actions.scala        |  4 ++
 .../src/whisk/core/controller/Backend.scala        |  3 ++
 .../src/whisk/core/controller/Controller.scala     | 43 ++++++++++++++++++-
 .../src/whisk/core/controller/RestAPIs.scala       | 49 +++++++++++++++++-----
 .../src/whisk/core/controller/Rules.scala          |  4 ++
 .../src/whisk/core/controller/Triggers.scala       |  4 ++
 .../src/whisk/core/container/WhiskContainer.scala  |  8 ++--
 15 files changed, 181 insertions(+), 46 deletions(-)

commit 7e128485ccee1739a495f208b473a4f76a12cc50
Author: sjfink <sjfink@us.ibm.com>
Date:   Fri May 20 13:54:42 2016 -0400

    Limit the timeout for container initialization to be no more than the action time limit.

 core/dispatcher/src/whisk/core/container/WhiskContainer.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 3dc7a934cb1b41a0465b92b6be26cdb6ea741e88
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Fri May 20 14:21:50 2016 +0200

    invoker uses the consul server in core machines, not the consul agent yet
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/invoker/tasks/deploy.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1da9e88d0ad0acbe7cbd623850ce70d0c41d30f5
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Thu May 19 17:59:08 2016 +0200

    fix cli
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/cli/tasks/deploy.yml | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 88e86d4196eef546576dc100d9b824eb2bb88edd
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue May 17 15:30:39 2016 -0400

    double default timeout for docker operations
    
    840 is 14 minutes

 README.md     | 2 +-
 docker.gradle | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit eb6493eb830a0e74559ec68890de6a78abfc3d14
Author: Paul Castro <pcastro@Pauls-MacBook-Pro.local>
Date:   Wed May 11 12:30:59 2016 -0400

    Issue #380 Add timeouts and retries to Swift3Container tests

 .../Swift3ActionContainerTests.scala               | 62 +++++++++++++++-------
 1 file changed, 42 insertions(+), 20 deletions(-)

commit 0149a6e338b72542e447705421ec8c34fd9e6aae
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Mon May 9 11:41:43 2016 -0400

    Create a Whisk object to allow Swift actions to invoke other actions and to trigger events

 core/swift3Action/proxy.py                         |   2 +
 core/swift3Action/spm-build/Package.swift          |   2 +-
 core/swift3Action/spm-build/Whisk.swift            | 140 +++++++++++++++++++++
 tests/dat/actions/invokeAction.swift               |  21 ++++
 tests/dat/actions/triggerEvent.swift               |   7 ++
 .../Swift3ActionContainerTests.scala               |  14 +--
 .../SwiftActionContainerTests.scala                |   5 +-
 .../src/system/basic/Swift3WhiskObjectTests.scala  |  93 ++++++++++++++
 8 files changed, 272 insertions(+), 12 deletions(-)

commit 0c553ad169d66690f52a8420ab692ee0eea44731
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Tue May 17 13:23:01 2016 -0400

    Freeze Kitura-net at 0.13.8
    
    This specific version is needed in order to optionally disable SSL verification.

 core/swift3Action/spm-build/Package.swift | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a712f31b002521fd2d816e1e13b4aa87b7ad6d2d
Author: Paul Castro <pcastro@Pauls-MacBook-Pro.local>
Date:   Fri May 6 16:35:56 2016 -0400

    351 Update container to Swift 5-03 snapshot, add SwiftyJSON

 catalog/samples/httpGet.swift             | 17 ++++++++++++++---
 core/swift3Action/Dockerfile              |  3 +--
 core/swift3Action/epilogue.swift          |  2 +-
 core/swift3Action/spm-build/Package.swift |  3 ++-
 4 files changed, 18 insertions(+), 7 deletions(-)

commit b129f787070be3bd0c05c137dd186f047fb4b3c3
Author: iainduncani <iain.duncan@uk.ibm.com>
Date:   Thu May 19 11:40:37 2016 +0100

    Fix comment
    
    The comment said that it would create a public action that it made private but it was the other way around

 tests/src/system/basic/CLIActionTests.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2068f5bb9e7ff4fa1a2269fde91ec1afa208adf9
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Thu May 19 13:52:43 2016 +0200

    issue #454: move auth_index.json in both roles: cloudant and couch.
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/{ => roles/cloudant}/files/auth_index.json |  0
 ansible/roles/couchdb/files/auth_index.json        |  6 ++
 ansible/roles/couchdb/tasks/initdb.yml             | 67 +++++++++++++++++++++-
 3 files changed, 71 insertions(+), 2 deletions(-)

commit 405efb4acec0f3bd7c1878117c12b9ee228d2ef4
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon May 16 16:30:47 2016 -0400

    Track activation issue by tracker and process consul info by invoker with initial partition

 common/scala/src/whisk/common/ConsulKV.scala       | 29 +++++++++++++++----
 .../whisk/core/loadBalancer/InvokerHealth.scala    | 27 ++++++++++--------
 .../core/loadBalancer/LoadBalancerService.scala    | 20 +++++++------
 .../core/loadBalancer/LoadBalancerToKafka.scala    | 33 +++++++++++++---------
 tests/src/common/TestUtils.java                    |  1 +
 5 files changed, 72 insertions(+), 38 deletions(-)

commit d24d131c6f7c1e98587a03add1caabbf39a19690
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed May 18 14:21:13 2016 -0400

    Lifts pattern of extracting activation id, polling for activation to be completed, and then checking the result into a common helper withActivation. This method will always the activation id, activation record, and any command failures should invariants fail.
    
    Change various tests to non-blocking. No reason these need to be blocking.

 tests/src/common/TestUtils.java             | 22 +++++-----
 tests/src/common/Wsk.scala                  | 65 ++++++++++++++++-------------
 tests/src/common/WskTestHelpers.scala       | 36 ++++++++++++++++
 tests/src/system/basic/CLIPythonTests.scala |  6 ++-
 tests/src/system/basic/CLISwiftTests.scala  | 18 ++++----
 tests/src/system/basic/PackageTests.scala   | 10 ++---
 tests/src/system/basic/WskBasicTests.scala  | 36 +++++++---------
 7 files changed, 116 insertions(+), 77 deletions(-)

commit 5c22d75e587b15f82a6d6ee871a0f437921cc5ce
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Apr 26 09:39:11 2016 +0200

    issue #208 introduce new environment for mac. fix prereqs
    
    issue #208 update with instructions for mac users
    
    issue #208 install pip only if it is not already installed.
    
    issue #208 update README with fixes. also fix tweak-dockermachine.sh with ansible prereqs. genHosts.sh now uses 'whisk' as default machine name.
    
    issue #208: setup mac using ansible means instead of script. playbooks for pre-deploy and post-deploy steps.
    
    issue #208: make couchdb as db default for mac
    
    issue #208 fine-tune clean of invoker containers. try to remove only user actions.
    
    issue #208 rework README.md. also add support to specify docker-machine name in tweak script.
    
    issue #208 add image tag in hotswap readme section.
    
    issue #208 incorporate code review feedback. make local the default env. make couch the default db.
    
    issue #208 add readme for default env
    
    issue #208 fix minor issues with sftp vs scp on mac. also mention that image tags are optional for hotswap.

 ansible/.gitignore                        |   1 +
 ansible/README.md                         | 153 ++++++++++++++++++++++++++++++
 ansible/ansible.cfg                       |   6 +-
 ansible/environments/local/group_vars/all |  24 ++---
 ansible/environments/mac/group_vars/all   |  25 +++++
 ansible/environments/mac/hosts.j2.ini     |  35 +++++++
 ansible/openwhisk.yml                     |   8 +-
 ansible/postdeploy.yml                    |   6 ++
 ansible/predeploy.yml                     |   6 ++
 ansible/roles/couchdb/tasks/clean.yml     |   2 +-
 ansible/roles/invoker/tasks/clean.yml     |   4 +-
 ansible/roles/prereq/tasks/clean.yml      |   9 +-
 ansible/roles/prereq/tasks/deploy.yml     |  17 +++-
 ansible/setup.yml                         |  15 +++
 tools/macos/tweak-dockermachine.sh        |  31 ++++--
 15 files changed, 303 insertions(+), 39 deletions(-)

commit 92887bbf9763f3d4204d15ee53d13600d375ef08
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed May 18 09:37:24 2016 +0200

    Instrument Controller with Markers
    Refactor Marker
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 common/scala/src/whisk/common/Logging.scala        | 40 +++++++++++++++++++---
 .../src/whisk/core/controller/Actions.scala        |  9 ++---
 .../src/whisk/core/controller/Triggers.scala       |  8 +++--
 .../src/whisk/core/entitlement/Entitlement.scala   |  8 ++---
 4 files changed, 49 insertions(+), 16 deletions(-)

commit 493c1e5365c391a33b9d336347c767acb2fee21c
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Wed May 18 08:53:34 2016 +0200

    Add markers to instrument Database-library
    Refactor markers
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 common/scala/src/whisk/common/Logging.scala        |  28 ++-
 .../src/whisk/core/database/CouchDbRestStore.scala | 224 ++++++++++-----------
 .../src/whisk/core/database/InMemoryCache.scala    |   4 +-
 .../src/whisk/core/container/ContainerUtils.scala  |   2 +-
 .../src/whisk/core/invoker/Invoker.scala           |   2 +-
 5 files changed, 136 insertions(+), 124 deletions(-)

commit c9c7e6c4629fc880e8a006caa598801dbcf703e6
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue May 17 13:09:30 2016 -0400

    Added test for trigger activation which checks that end time follows convention.
    
    Added API unit test that checks trigger activation obeys convention for end time.

 tests/src/common/Wsk.scala                         | 36 ++++++++++++----------
 tests/src/system/basic/WskBasicTests.scala         | 36 +++++++++++++++++-----
 .../core/controller/test/TriggersApiTests.scala    | 13 +++++---
 3 files changed, 57 insertions(+), 28 deletions(-)

commit ab0e217fe3b5a4d6e8bf292f78be8dcd94df95c3
Author: sjfink <sjfink@us.ibm.com>
Date:   Tue May 17 11:24:01 2016 -0400

    set end time = 0 for rule and trigger activations

 core/controller/src/whisk/core/controller/Triggers.scala  | 2 +-
 core/dispatcher/src/whisk/core/activator/PostInvoke.scala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0b6cdfa9420e553678ff9e2fafed6b153693a072
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon May 9 12:56:43 2016 +0200

    Instrument the invoker
    Start instrumenting invoker
    Go on instrumenting invoker
    Change docker monitoring
    scancode
    index
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 common/scala/src/whisk/common/Logging.scala             |  7 ++++++-
 .../scala/src/whisk/core/database/InMemoryCache.scala   |  5 +++--
 .../src/whisk/core/container/ContainerPool.scala        | 17 ++++++++++++-----
 .../src/whisk/core/container/ContainerUtils.scala       | 15 +++++++++------
 core/dispatcher/src/whisk/core/invoker/Invoker.scala    |  3 ++-
 5 files changed, 32 insertions(+), 15 deletions(-)

commit d19d9de7df07cc4e69c2c47dc7c29a903ec6bba8
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun May 15 20:21:49 2016 -0400

    Print activation ID in all the action tests.

 tests/src/system/basic/CLIActionTests.java | 48 +++++++++++++++++++-----------
 1 file changed, 31 insertions(+), 17 deletions(-)

commit f497831c6793754c460428626951409bd4ba0b5e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun May 15 09:48:28 2016 -0400

    Factored common shell bits to 'common.sh' from db scripts.
    Added 'wskadmin db get' operation to list db or view contents.
    Removed response logging on get.
    Fixed: copy action helper assumed copying sequence.
    Tweaked error message in CLI on copy.
    Added Apache 2.0 badge.

 README.md                                          |  1 +
 .../src/whisk/core/database/CouchDbRestStore.scala |  2 +-
 tests/src/common/WskCli.java                       |  2 +-
 tools/cli/wskaction.py                             |  2 +-
 tools/cli/wskadmin                                 | 80 +++++++++++++++++++---
 tools/db/common.sh                                 | 46 +++++++++++++
 tools/db/loadTransientDBViews.sh                   | 27 +-------
 tools/db/wipeTransientDBs.sh                       | 27 +-------
 8 files changed, 124 insertions(+), 63 deletions(-)

commit 571c518fd48f32723494b7c6a9a11458b89a65bf
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri May 13 19:28:23 2016 -0400

    Add tests for creating trigger with an invalid feed from CLI.
    Modified CLI output on action invoke so that the activation result is projected correctly for 200, 500 and 502 activations.
    Removed "response:" prefix on blocking activation result.

 docs/actions.md                            |  1 -
 docs/catalog.md                            |  1 -
 tests/src/common/WskCli.java               |  6 +++---
 tests/src/system/basic/WskBasicTests.scala | 15 +++++++++++++++
 tools/cli/wskaction.py                     | 30 ++++++++++++++++--------------
 tools/cli/wsktrigger.py                    | 22 ++++++++++++++++------
 tools/cli/wskutil.py                       |  4 ++--
 7 files changed, 52 insertions(+), 27 deletions(-)

commit 5b2e4c935d5e5bf39b6ed656d6622ef062e7d752
Author: lzbj <noellaw2004@126.com>
Date:   Fri May 13 14:47:51 2016 +0800

    issue #368 modify all.sh to make more clear about errors during installation.

 tools/ubuntu-setup/all.sh | 43 +++++++++++++++++++++++++++++++++++--------
 1 file changed, 35 insertions(+), 8 deletions(-)

commit 83c3d4f0d3c9ce2656549fc41ddc02b06509209e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri May 13 14:26:01 2016 -0400

    Improve couch docs. Fixes issues #413 and #423 by documenting the requirements.

 README.md | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit f64977f599fc437c1f5d5e9de0eb84effdabd003
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri May 13 13:42:38 2016 -0400

    Add unit test for POST to /actions with &result=true. Update swagger.

 core/controller/src/resources/whiskswagger.json    | 29 ++++++-
 .../src/whisk/core/controller/Actions.scala        |  9 ++-
 .../core/controller/test/ActionsApiTests.scala     | 94 ++++++++++++++--------
 .../controller/test/ControllerTestCommon.scala     | 10 ++-
 4 files changed, 105 insertions(+), 37 deletions(-)

commit daa93090ed706f287cc97b633903677f7b960929
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Tue Apr 5 10:30:06 2016 +0200

    Fixing issue #132. actions/name?blocking=true&result=true returns the result.

 common/scala/src/whisk/core/entity/WhiskActivation.scala | 5 +++++
 core/controller/src/whisk/core/controller/Actions.scala  | 9 +++++----
 tools/cli/wskaction.py                                   | 7 ++++---
 3 files changed, 14 insertions(+), 7 deletions(-)

commit 02c758e0b2c2a1c544003cdb4b96fd8ba3553033
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri May 13 12:30:03 2016 -0400

    Constructs a "binding" annotation. This is redundant with the binding
    information available in WhiskPackage but necessary for some clients which
    fetch package lists but cannot determine which package may be bound. An
    alternative is to include the binding in the package list "view" but this
    will require an API change. So using an annotation instead.

 common/scala/src/whisk/core/entity/Parameter.scala | 27 +++++++++++++-
 .../scala/src/whisk/core/entity/WhiskAction.scala  |  2 +-
 .../scala/src/whisk/core/entity/WhiskPackage.scala |  2 +-
 .../src/whisk/core/controller/Actions.scala        |  4 +--
 .../src/whisk/core/controller/Packages.scala       | 38 +++++++++++++++-----
 tests/src/common/Wsk.scala                         | 12 ++++---
 tests/src/system/basic/WskBasicTests.scala         | 17 +++++++++
 .../controller/test/PackageActionsApiTests.scala   |  8 ++---
 .../core/controller/test/PackagesApiTests.scala    | 41 ++++++++++++++++------
 tests/src/whisk/core/entity/test/SchemaTests.scala |  8 ++---
 10 files changed, 122 insertions(+), 37 deletions(-)

commit a1b7859c18b053d1dd29c1bebb91646fcfe4ea01
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Fri May 13 11:55:10 2016 +0200

    issue #208: consul role should use the kvstore util in open
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/consul/handlers/main.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6efcd7df51f19f9246d4dbf420894c33a8dabc41
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Fri May 13 09:57:02 2016 +0200

    couchdb should use cloudant initdb task only in openwhisk code structure
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/couchdb/tasks/initdb.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 13ba7d18fbee0e56ae48763db435e2774b7f4ed6
Author: Matt Rutkowski <mrutkows@us.ibm.com>
Date:   Thu May 12 14:16:07 2016 -0500

    Update languageId.js

 catalog/watson/languageId.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 69200fdd72498f652ea38da775c7a8e503d2087d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed May 11 15:53:36 2016 -0400

    Make sure Swift actions can print to stdout.

 core/swift3Action/Dockerfile                          |  2 +-
 core/swiftAction/Dockerfile                           |  2 +-
 .../actionContainers/SwiftActionContainerTests.scala  | 19 +++++++++++++++++++
 3 files changed, 21 insertions(+), 2 deletions(-)

commit e0b9f0945ef7436ba71dd42e67d3d6c9ef8f4c0b
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed May 11 15:36:08 2016 -0400

    Let ActionContainer tests set an environment.

 tests/src/actionContainers/ActionContainer.scala     |  7 +++++--
 .../Swift3ActionContainerTests.scala                 |  2 +-
 .../actionContainers/SwiftActionContainerTests.scala | 20 +++++++++-----------
 3 files changed, 15 insertions(+), 14 deletions(-)

commit e0db35ce31f5329763d4fbf25155bd0f49400b70
Author: Justin Berstler <bjustin@us.ibm.com>
Date:   Fri May 6 15:01:33 2016 -0400

    Be sure to pass along all environment variables when running a Swift action
    
    Without this change, environment variables passed in by the invoker are not available when the Swift action runs.

 core/swift3Action/proxy.py                         |  4 ++-
 core/swiftAction/proxy.py                          |  4 ++-
 .../SwiftActionContainerTests.scala                | 30 ++++++++++++++++++++++
 3 files changed, 36 insertions(+), 2 deletions(-)

commit 0a5a52d8fb70097ef4f2479d4b8da06093f7b411
Author: NICHOLAS W. SPEETER <nwspeete@us.ibm.com>
Date:   Thu Apr 28 15:13:59 2016 -0400

    Modifying the weather package to use IBM Weather Insights. Removed pollen.js as IBM Weather Insights does not yet have a pollen API.
    
    Added time period parameter to cover the entire IBM Weather Insights API. Updated the catalog.md and install script to reflect the changes.

 catalog/installWeather.sh   | 12 +++---------
 catalog/weather/forecast.js | 39 ++++++++++++++++++++++++--------------
 catalog/weather/pollen.js   | 46 ---------------------------------------------
 docs/catalog.md             | 12 +++++++-----
 4 files changed, 35 insertions(+), 74 deletions(-)

commit 6fb904be6331e6d8915439279c71e26e39c0845d
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Wed May 11 11:38:27 2016 +0200

    expose port 8443 in nginx
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/nginx/tasks/deploy.yml | 2 ++
 1 file changed, 2 insertions(+)

commit 349da264f7b9def36b0d7dc189ad7170082e8dc1
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sun May 1 02:35:57 2016 +0200

    Adding spray based Consul Client
    
    - Porting ConsulKVReporter to akka.scheduler
    - Migrating InvokerHealth to akka.scheduler. Pushing ConsulClient through. Rewritten InvokerHealth logic
    - Adding utilities to handle consul entry maps
    - Pushing actorSystem and ExecutionContexts far out, rewriting InvokerHealth logic with utilities
    - Refactor LoadBalancer to reuse Controllers ActorSystem

 common/scala/src/whisk/common/ConsulClient.scala   | 154 +++++++++++++++++++++
 common/scala/src/whisk/common/ConsulKV.scala       |  37 ++---
 .../scala/src/whisk/common/ConsulKVReporter.scala  |  43 +++---
 .../src/whisk/core/controller/Backend.scala        |  18 +--
 .../src/whisk/core/controller/Controller.scala     |  14 +-
 .../src/whisk/core/invoker/Invoker.scala           |  48 +++----
 .../whisk/core/loadBalancer/InvokerHealth.scala    | 137 +++++++++---------
 .../src/whisk/core/loadBalancer/LoadBalancer.scala | 113 ---------------
 .../core/loadBalancer/LoadBalancerService.scala    |  50 +++----
 tests/src/whisk/consul/ConsulClientTests.scala     | 109 +++++++++++++++
 10 files changed, 431 insertions(+), 292 deletions(-)

commit f9b4f4841543ab27f4a7e974355802a811140483
Author: Jason Peterson <jasonpet@us.ibm.com>
Date:   Thu May 5 13:50:31 2016 -0400

    Provide support for tests to access a VCAP Services JSON object to
    retrieve service credential information.  Make access available via the
    VCAP_SERVICES environment variable or thru a JSON file.

 config/writePropertyFile.sh           |  3 +++
 tests/src/common/TestUtils.java       | 23 +++++++++++++++++++++++
 tests/src/common/WhiskProperties.java | 12 ++++++++++++
 3 files changed, 38 insertions(+)

commit c56d4fcfce80f87a0836c21942f37fb1b630667a
Author: Joachim Valdez <joachimvaldez@gmail.com>
Date:   Fri Apr 22 14:43:54 2016 -0400

    speech to text action
    
    Signed-off-by: Jason Peterson <jasonpet@us.ibm.com>

 catalog/installWatson.sh       |  96 +++++++++++++++++++++++++++++++++
 catalog/watson/speechToText.js | 119 +++++++++++++++++++++++++++++++++++++++++
 core/nodejsAction/Dockerfile   |   2 +-
 3 files changed, 216 insertions(+), 1 deletion(-)

commit 330f88b51d5237f03487c912299a322981a7d343
Author: Joachim Valdez <valdezj@us.ibm.com>
Date:   Wed Apr 20 09:45:28 2016 -0400

    Watson text to speech action.
    
    Signed-off-by: Jason Peterson <jasonpet@us.ibm.com>

 catalog/installWatson.sh       | 13 +++++++++
 catalog/watson/textToSpeech.js | 65 ++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 78 insertions(+)

commit 7a5e1240c0ac7d551bd05fa713a8c16fca156d47
Author: Hoang Anh Le <HOANG@de.ibm.com>
Date:   Tue May 10 16:36:03 2016 +0200

    rename nginx ports to more meaningful ports

 ansible/group_vars/all               | 4 ++--
 ansible/roles/nginx/tasks/deploy.yml | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit cc8c48f7a62ea7eefd04dbee415741987cc35510
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Apr 18 21:04:15 2016 +0200

    Optimize docker images and travis build
    
    - whisk/scala: installing jre instead of jdk and nuke scala
    - better base images: buildpack-deps
    - drop maven from kafka and use wget instead
    - install nodejs binary directly instead of apt-get it
    - @rabbah consolidated common python build steps to elevate docker caching

 .travis.yml                         |  4 ++--
 common/scala/Dockerfile             | 40 ++++++++++++++++++-------------------
 core/javaAction/Dockerfile          | 31 +++++++++++++++++-----------
 core/nodejsAction/Dockerfile        | 38 +++++++++++++++--------------------
 core/pythonAction/Dockerfile        | 18 ++++++++---------
 core/swift3Action/Dockerfile        | 25 +++++++++--------------
 core/swiftAction/Dockerfile         | 22 ++++++++++----------
 services/consul/Dockerfile          |  5 ++---
 services/kafka/Dockerfile           | 16 +++++++--------
 services/kafka/start.sh             |  2 +-
 tools/cli/Dockerfile                | 14 ++++++-------
 tools/cli/build.xml                 | 25 +++++++++++++----------
 tools/cli/packagescripts/Dockerfile | 12 -----------
 tools/travis/setup.sh               | 11 ----------
 14 files changed, 118 insertions(+), 145 deletions(-)

commit 0c6d945399bd0ffc2688983504fd7135e9e81009
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri May 6 18:05:30 2016 -0400

    Get gevent from apt, not from pip
    
    `pip install gevent` compiles it locally, which takes forever

 core/pythonAction/Dockerfile | 3 +--
 core/swift3Action/Dockerfile | 4 ++--
 core/swiftAction/Dockerfile  | 3 +--
 3 files changed, 4 insertions(+), 6 deletions(-)

commit db7969d9451ef1d96f3e96bc602f62a886b4114b
Author: perryibm <perry@us.ibm.com>
Date:   Fri May 6 17:21:35 2016 -0400

    Emergency reversion of python docker file
    
    Python action taking so long that builds are timing out including Travis where it times out from global timeout which is out of our control.

 core/pythonAction/Dockerfile | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit f1ca591de47121364360391bfd536e474d841761
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri May 6 15:05:38 2016 -0400

    Revert "Re-encrypted TravisCI token."
    
    This reverts commit 38c1bc5e991e3092bebaf21d2fb8a005c4427829.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 38c1bc5e991e3092bebaf21d2fb8a005c4427829
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri May 6 12:57:59 2016 -0400

    Re-encrypted TravisCI token.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3f53dc1e81a41dfc60d33e5c00691fae7769c854
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri May 6 11:53:24 2016 -0400

    Updated Slack notifications configuration.

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ac880cfd2cc06641f701ac56241ff40b72a3a49b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Apr 23 17:27:12 2016 -0400

    Use custom thread pool in activator for db operations.
    
    Fail deployment on error to deploy database.
    Enable new Spray-based Cloudant API.

 build.xml                                                | 2 +-
 common/scala/src/whisk/core/entity/WhiskStore.scala      | 8 ++++----
 core/dispatcher/src/whisk/core/activator/Activator.scala | 3 ++-
 3 files changed, 7 insertions(+), 6 deletions(-)

commit eb67081516254e8de492ed5a0109a1e579db9bc2
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu May 5 22:24:48 2016 -0400

    Fix image reuse that causes invoker to fail to start.

 tools/deploy/deployInvoker | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 63ab66aeccd57b13e96ae6a3e272c8f7ce654c33
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu May 5 17:58:43 2016 -0400

    Moved Swift3 test, fixed formatting issues and extraneous white space in Swift code. Fixed up the CLI comments. Tweaked the Swagger docs more but these are a mess we need to fix more systematically.
    
    Refactored Swift tests so that swift:3 extends swift tests. Rewrite Swift CLI tests in Scala and make Swift:3 test actually run the action.
    
    Organize Docker to hit in cache on python layer.

 .gitignore                                         |   2 +-
 catalog/samples/httpGet.swift                      |  29 +++--
 common/scala/src/whisk/core/entity/Exec.scala      |   4 +-
 core/controller/src/resources/whiskswagger.json    |   8 +-
 core/swift3Action/Dockerfile                       |  20 ++--
 core/swift3Action/epilogue.swift                   |  31 +++---
 .../Swift3ActionContainerTests.scala               | 120 +--------------------
 .../SwiftActionContainerTests.scala                |  12 ++-
 tests/src/common/Wsk.scala                         |   9 +-
 tests/src/common/WskCli.java                       |  30 ++----
 tests/src/system/basic/CLIActionTests.java         |  16 ---
 tests/src/system/basic/CLISwiftTests.java          |  69 ------------
 tests/src/system/basic/CLISwiftTests.scala         |  92 ++++++++++++++++
 tools/cli/wskaction.py                             |  16 ++-
 tools/deploy/deployInvoker                         |   4 +-
 15 files changed, 180 insertions(+), 282 deletions(-)

commit 29dd256b5032082b083ab2a172c9395301fa1cb5
Author: Paul Castro <pcastro@pauls-mbp.cambridge.ibm.com>
Date:   Fri Apr 29 17:39:39 2016 -0400

    Create Swift 3 runtime with KituraNet. Update CLI, add CLI and container tests.

 catalog/samples/httpGet.swift                      |  45 +++++
 common/scala/src/whisk/core/entity/Exec.scala      |  75 +++++---
 .../scala/src/whisk/core/entity/WhiskAction.scala  |   7 +-
 core/controller/src/resources/whiskswagger.json    |   5 +-
 core/swift3Action/Dockerfile                       |  63 +++++++
 core/swift3Action/build.gradle                     |   2 +
 core/swift3Action/delete-build-run.sh              |  15 ++
 core/swift3Action/epilogue.swift                   |  61 +++++++
 core/swift3Action/init.py                          |  29 +++
 core/swift3Action/proxy.py                         | 136 ++++++++++++++
 core/swift3Action/run.py                           |  51 ++++++
 core/swift3Action/spm-build/Package.swift          |   8 +
 settings.gradle                                    |   3 +-
 .../Swift3ActionContainerTests.scala               | 201 +++++++++++++++++++++
 tests/src/common/WskCli.java                       |  30 +--
 tests/src/system/basic/CLIActionTests.java         |  16 ++
 tools/cli/wskaction.py                             |   9 +-
 tools/deploy/deployInvoker                         |   8 +-
 18 files changed, 715 insertions(+), 49 deletions(-)

commit 4e896401bd48b0a6578d3cccd0cfaf9c2d27749d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu May 5 17:21:53 2016 -0400

    Rebase docker image to ubuntu 14.04 and tweak docker runs.
    Bump docker timeout to 420 seconds.

 README.md                                   |  2 +-
 core/pythonAction/Dockerfile                | 23 +++++++++++------------
 docker.gradle                               |  2 +-
 tests/src/system/basic/CLIPythonTests.scala |  1 -
 4 files changed, 13 insertions(+), 15 deletions(-)

commit fe31e6fe3ad06f1f47d18c2413d4628bbfbaa57c
Author: sjfink <sjfink@us.ibm.com>
Date:   Wed May 4 22:46:01 2016 -0400

    guard against NPE that occurs in some regression tests

 tests/src/common/WskCli.java | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 0dd5579b2b4417c276410ccf46396ef61a16c486
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Apr 19 15:21:02 2016 -0400

    Adding support for native python actions. Issue #16
    
    Fix hello python sample action to fit the same pattern as the js and swift actions.

 catalog/samples/hello.py                           |   9 ++
 common/scala/src/whisk/core/entity/Exec.scala      |  22 ++-
 .../scala/src/whisk/core/entity/WhiskAction.scala  |   7 +-
 core/pythonAction/Dockerfile                       |  23 ++++
 core/pythonAction/build.gradle                     |   2 +
 core/pythonAction/delete-build-run.sh              |  15 +++
 core/pythonAction/pythonaction.py                  |  85 ++++++++++++
 core/swiftAction/Dockerfile                        |   1 +
 settings.gradle                                    |   1 +
 .../PythonActionContainerTests.scala               | 149 +++++++++++++++++++++
 tests/src/system/basic/CLIPythonTests.scala        |  64 +++++++++
 tools/cli/wskaction.py                             |   4 +
 tools/deploy/deployInvoker                         |  58 +++-----
 13 files changed, 398 insertions(+), 42 deletions(-)

commit d279f2a5695f8f5d7940c30b418ec3ee06aaebae
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed May 4 13:44:30 2016 -0400

    Add retry around a view test.

 tests/src/whisk/core/controller/test/PackagesApiTests.scala | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit cd8a7637317fff8b00832c2d20d8ef298a064f9d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed May 4 13:41:02 2016 -0400

    Guard against undefined response and body in HTTP requests from action or trigger activation.
    Normalize error message to include the error code in the error string.
    Remove rawLog and replace with console since 'whisk' instance was not using rawLog and there's no real value to doing this.
    Move packages from package.json to Dockerfile to make clear these are part of packages available to actions and not required otherwise to run the action supporting harness.
    Order the packages in the Dockerfile by name.
    Add gm package to reference doc.

 core/nodejsAction/Dockerfile     | 26 +++++++++++++-------------
 core/nodejsAction/app.js         |  2 +-
 core/nodejsAction/package.json   |  4 +---
 core/nodejsAction/runner.js      |  2 +-
 core/nodejsAction/src/service.js | 17 ++++++++---------
 core/nodejsAction/src/whisk.js   | 37 ++++++++++++++++++++-----------------
 docs/reference.md                |  1 +
 7 files changed, 45 insertions(+), 44 deletions(-)

commit d33fe277b72e256bf40fcff7a83f292761ed4f26
Author: sjfink <sjfink@us.ibm.com>
Date:   Mon May 2 17:00:18 2016 -0400

    add a guard to avoid an NPE if a post fails, and print the error
    message from a post to console.error

 core/nodejsAction/src/whisk.js | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit a53ef892fa67bd8c3b036d2febf431039c1a3ff1
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed May 4 14:44:52 2016 +0200

    issue #315 remove hard dependency on openwhisk folder in shared mode

 tools/vagrant/Vagrantfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ce5e6720c065d7b9f68b09b562e0d012f6c083b
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed May 4 13:26:16 2016 -0400

    Change in flight message to show overall state on one line.
    Details on next line is sorted and shows indices.

 .../loadBalancer/src/whisk/core/loadBalancer/InvokerHealth.scala | 6 +++---
 .../src/whisk/core/loadBalancer/LoadBalancerService.scala        | 9 ++++++---
 2 files changed, 9 insertions(+), 6 deletions(-)

commit 2492ffeddd24190122a61933827e02c4ce9b35bc
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Fri Apr 29 18:27:47 2016 +0200

    Bring the logMarkers to a consistent form #287

 common/scala/src/whisk/common/Logging.scala       | 80 +++++++++++++++--------
 common/scala/src/whisk/common/TransactionId.scala |  6 +-
 2 files changed, 57 insertions(+), 29 deletions(-)

commit 08c58b863738e80d223bd853b7ec5dea3c1ed34f
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed May 4 22:04:36 2016 -0400

    Disable Slack notifications for PRs.

 .travis.yml | 1 +
 1 file changed, 1 insertion(+)

commit 9a16862b915126e7879b3d5a17cecf6edf9cfe7d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed May 4 15:12:37 2016 +0200

    Adding -f option to docker tag again, to be removed at a later stage of docker upgrades

 docker.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74c1a19c11088bbc1a522f11becf8c4d6cf4b385
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue May 3 16:57:51 2016 +0200

    add support for ansible_host in consul cluster
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/roles/consul/tasks/deploy.yml         | 2 +-
 ansible/roles/consul/templates/config.json.j2 | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 07153f846f63b29f076772f568b7461537779c6a
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Apr 25 13:46:51 2016 +0200

    add support for setting openwhisk_home from env var. add prereq role to openwhisk. rename whisk -> openwhisk. define openwhisk_home globally in group_var.
    
    fix travis
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .travis.yml                                           |  3 +--
 ansible/environments/local/group_vars/all             |  1 -
 ansible/environments/travis/group_vars/all            |  1 -
 ansible/group_vars/all                                |  2 ++
 ansible/{whisk.yml => openwhisk.yml}                  |  0
 ansible/prereq.yml                                    |  7 +++++++
 ansible/roles/cli/tasks/deploy.yml                    |  6 +++++-
 ansible/roles/cloudant/tasks/clean.yml                |  2 +-
 ansible/roles/cloudant/tasks/initdb.yml               |  2 +-
 ansible/roles/couchdb/tasks/clean.yml                 |  2 +-
 ansible/roles/couchdb/tasks/deploy.yml                |  6 ++++--
 ansible/roles/postdeploy/tasks/deploy.yml             |  2 +-
 ansible/roles/predeploy/tasks/clean.yml               |  2 +-
 ansible/roles/predeploy/tasks/deploy.yml              |  8 ++++----
 ansible/roles/predeploy/templates/whisk.properties.j2 |  2 +-
 ansible/roles/prereq/tasks/clean.yml                  | 15 +++++++++++++++
 ansible/roles/prereq/tasks/deploy.yml                 | 13 +++++++++++++
 ansible/roles/prereq/tasks/main.yml                   | 10 ++++++++++
 18 files changed, 67 insertions(+), 17 deletions(-)

commit 7ab9a47c8c17cfa0adbd0549c5b66bcb601871f9
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed May 4 12:17:41 2016 +0200

    issue #309 revert back to installing ansible via apt. pip install on vagrant requires lots of dev packages as it wants to compile deps. we don't want that. also pinned docker-py version.

 tools/ubuntu-setup/ansible.sh | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit dac1ca7c35e48f702a6fab629a7ff1728d9b1445
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Apr 26 17:30:49 2016 +0200

    install ansible via pip. pin version to 2.0.2.0

 tools/ubuntu-setup/ansible.sh | 8 ++++----
 tools/ubuntu-setup/pip.sh     | 1 -
 2 files changed, 4 insertions(+), 5 deletions(-)

commit 2bf608e279dffb4c0e53a995b7f50c51115fd40e
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Apr 25 11:20:05 2016 +0200

    Upgrading docker to 1.11

 .travis.yml                  | 2 +-
 docker.gradle                | 2 +-
 tools/ubuntu-setup/docker.sh | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 23eef167c40fe6189f51f77c9c3be3b778afd20d
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon May 2 12:34:24 2016 -0400

    Increase to 2 rounds of retry

 tools/deploy/deployInvoker | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit dd5cf9c26a9bab793449b9340a1e8ee489385db5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Apr 27 08:52:55 2016 -0400

    Print stack trace on one line.
    On blocking invoke, CLI reports full activation unless --result is used.
    Cleanup uses of duration DSL.
    Fix typo in catalog doc.
    Fix comment.
    Tweak test to print error message if defined.

 catalog/samples/wcbin.js                           |  6 ++--
 .../whisk/core/database/CouchDbRestClient.scala    | 24 ++++++++------
 common/scala/src/whisk/http/BasicHttpService.scala | 15 ++++-----
 .../src/whisk/core/dispatcher/Dispatcher.scala     |  4 +--
 docs/catalog.md                                    |  2 +-
 tests/.pydevproject                                |  5 ---
 tests/src/actionContainers/ActionContainer.scala   | 37 ++++++++++++----------
 tests/src/common/TestUtils.java                    |  2 +-
 tests/src/common/Wsk.scala                         |  8 ++---
 tests/src/common/WskCli.java                       |  6 +++-
 .../core/controller/test/AuthorizeTests.scala      |  2 +-
 .../controller/test/PackageActionsApiTests.scala   |  4 +--
 tools/cli/wskaction.py                             |  3 +-
 13 files changed, 63 insertions(+), 55 deletions(-)

commit 32f70e7fd6e0b0354256313a6cf413f62cd2088b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon May 2 12:20:09 2016 -0400

    Adds comment that clarifies the status code wrapping mod 256. Add TOO_MANY_REQUESTS value.

 tests/src/common/TestUtils.java | 19 ++++++++++---------
 1 file changed, 10 insertions(+), 9 deletions(-)

commit 90846a34c0e4829d25716444bca9239b7a99140f
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 27 19:12:04 2016 -0400

    Add retry on docker container removal.

 .../src/whisk/core/container/Container.scala       | 26 ++++++++++++++++------
 1 file changed, 19 insertions(+), 7 deletions(-)

commit 98a082ec506d6b8a70a1958e6a8ff338e48191e7
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon May 2 09:44:44 2016 +0200

    issue #291 allow api host to be set if nothing else was set yet.

 tools/cli/wsk | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6c043cbd8e359c904266e8544050cb96c969a50c
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu Apr 28 16:02:34 2016 -0400

    Explicity catch exception in sendPayload in case http post neither works nor times out but throws an exception.  Minor cleanup and log improvements in the area

 .../src/whisk/core/container/ContainerPool.scala   |  6 ++--
 .../src/whisk/core/container/WhiskContainer.scala  | 36 +++++++++++++---------
 .../src/whisk/core/invoker/Invoker.scala           |  2 +-
 3 files changed, 25 insertions(+), 19 deletions(-)

commit 9a401ed8518e77b1d1f673fa63f1b567ddaafc39
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 27 11:44:00 2016 -0400

    Add retry to deployInvoker

 tools/deploy/deployInvoker | 49 +++++++++++++++++++++++++---------------------
 1 file changed, 27 insertions(+), 22 deletions(-)

commit 99b465539060f6ab22ec26a67e4b82479e7ddab1
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 27 15:16:16 2016 -0400

    Add final so getImpl can be tail-recursive

 core/dispatcher/src/whisk/core/container/ContainerPool.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ef7c6db2aabf8d8a519dfd2168ba56a870b3dd48
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 26 14:47:53 2016 -0400

    Extend sentinel processing to stderr

 .../src/whisk/core/invoker/Invoker.scala           | 90 ++++++++++------------
 core/nodejsAction/src/service.js                   |  1 +
 .../NodeJsActionContainerTests.scala               | 17 ++--
 3 files changed, 49 insertions(+), 59 deletions(-)

commit 62182f928372d4eb0c11a1afa7bd8f6ec7808629
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Apr 26 08:35:41 2016 -0400

    Fix retry on package test, so that retry is on the view, not on the delete which will succeed if the view is not up to date yet.
    
    Remove generous retries added previously to consul tests which were not in fact needed.

 tests/src/whisk/consul/ConsulKVTests.scala              | 12 ++++--------
 .../core/controller/test/PackageActionsApiTests.scala   |  1 -
 .../whisk/core/controller/test/PackagesApiTests.scala   | 17 ++++++++++++-----
 3 files changed, 16 insertions(+), 14 deletions(-)

commit 989df5e4d028b7f9459fa3f6d3e9cfb578efca3d
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Apr 26 09:50:20 2016 +0200

    move script to tools/travis/build.sh

 .travis.yml           |  9 +--------
 tools/travis/build.sh | 21 +++++++++++++++++++++
 2 files changed, 22 insertions(+), 8 deletions(-)

commit 1b7ad1670377a7f9ac43d1fcd0aae379de4c5d78
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Apr 25 16:40:15 2016 -0400

    Pull HTTP client out of the utility class so that multiple requests can reuse the same connection rather than generating and tearing down the connection repeatedly.

 common/scala/src/whisk/common/ConsulKV.scala       | 12 +++--
 .../src/whisk/common/ConsulServiceCheck.scala      |  8 ++-
 .../src/whisk/common/ConsulServiceHealth.scala     |  7 ++-
 common/scala/src/whisk/common/HttpUtils.scala      | 62 ++++++++++++----------
 .../src/whisk/core/container/WhiskContainer.scala  |  7 ++-
 tests/src/actionContainers/ActionContainer.scala   |  4 +-
 tests/src/common/TestUtils.java                    | 13 ++---
 7 files changed, 68 insertions(+), 45 deletions(-)

commit b211eaf2206a9b2e5c8057e25b7b48204f6a3c63
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Apr 25 13:23:29 2016 -0400

    Add httpClient.close

 common/scala/src/whisk/common/HttpUtils.scala | 2 ++
 1 file changed, 2 insertions(+)

commit f9a7a81da4631eb1c9485769e34a10b977c0c19e
Author: perryibm <perry@us.ibm.com>
Date:   Mon Apr 25 12:34:19 2016 -0400

    Increase poll time
    
    to tolerate the occasional slow run

 tests/src/system/basic/ConsoleTests.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ccdf5dd227216d642d93123a5c71bc1a3bd79403
Author: sjfink <sjfink@us.ibm.com>
Date:   Thu Apr 21 16:03:31 2016 -0400

    change default timezone to UTC

 tools/ubuntu-setup/misc.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 29fc30e04b872b2a9bb2d98e43bcce2dbb16613b
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Apr 22 15:51:57 2016 -0400

    Funnel all docker ops through runDockerOp which has a global lock

 .../src/whisk/core/container/ContainerPool.scala   | 27 ++++++++++++++++------
 1 file changed, 20 insertions(+), 7 deletions(-)

commit 95e26d9d93d4c027f2f95c62b1cce6893d9f8528
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 20 11:14:17 2016 -0400

    Extend invoker to publish on kafka with CompletionMessage
    
    Propagate topic through kafka message processing
    
    Add kafka subscriber to load balancer

 .../connector/kafka/KafkaConsumerConnector.scala   |  4 +--
 .../scala/src/whisk/core/connector/Message.scala   | 25 ++++++++++++++++
 .../src/whisk/core/connector/MessageConsumer.scala |  2 +-
 core/controller/build.gradle                       |  2 +-
 .../src/whisk/core/activator/Activator.scala       |  2 +-
 .../src/whisk/core/activator/PostInvoke.scala      |  2 +-
 .../src/whisk/core/dispatcher/DispatchRule.scala   |  3 +-
 .../src/whisk/core/dispatcher/Dispatcher.scala     |  8 +++---
 .../src/whisk/core/invoker/Invoker.scala           | 14 +++++++--
 .../core/loadBalancer/LoadBalancerService.scala    | 33 +++++++++++++++++++---
 .../whisk/core/activator/test/ActivatorTests.scala | 24 ++++++++--------
 .../core/dispatcher/test/DispatcherTests.scala     |  2 +-
 .../whisk/core/dispatcher/test/TestConnector.scala |  4 +--
 .../src/whisk/core/invoker/test/InvokerTests.scala |  2 +-
 14 files changed, 93 insertions(+), 34 deletions(-)

commit a9628c0fda589f35cc98e21e353b976ba85a8c1b
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Apr 22 14:42:17 2016 +0200

    fix minor issues: display image tags to pull, rename prereq->predeploy, consul advertise host ip, skip host key checking for ssh
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/ansible.cfg                                            |  3 ++-
 ansible/roles/activator/tasks/deploy.yml                       |  4 ++--
 ansible/roles/cli/tasks/deploy.yml                             |  2 +-
 ansible/roles/consul/tasks/deploy.yml                          |  4 +++-
 ansible/roles/consul/templates/config.json.j2                  |  1 +
 ansible/roles/controller/tasks/deploy.yml                      |  4 ++--
 ansible/roles/invoker/tasks/deploy.yml                         | 10 +++++-----
 ansible/roles/kafka/tasks/deploy.yml                           |  4 ++--
 ansible/roles/nginx/tasks/deploy.yml                           |  2 +-
 ansible/roles/{prereq => predeploy}/tasks/clean.yml            |  0
 ansible/roles/{prereq => predeploy}/tasks/deploy.yml           |  0
 ansible/roles/{prereq => predeploy}/tasks/main.yml             |  0
 .../roles/{prereq => predeploy}/templates/whisk.properties.j2  |  0
 ansible/whisk.yml                                              |  2 +-
 14 files changed, 20 insertions(+), 16 deletions(-)

commit 767867505cd0527f1fa0869f7e6c91d4961ffb30
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Apr 19 15:36:13 2016 +0200

    disable trigger caching for now until we have redis in place. should prevent trigger get while delete heisenbug.

 common/scala/src/whisk/core/entity/WhiskTrigger.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f18683304c41963f09aae984e263664b4727720
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Apr 21 23:07:58 2016 -0400

    Update gitignores so that local env files that might have a suffix are also ignored.

 .gitignore | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 276b0428ca79ce94f41c5801b53c8fd3e57b6743
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Apr 21 13:47:27 2016 -0400

    Add tests to verify a response code is present on failed API calls.
    
    Remove invalid reference to libJars.
    
    Add custom serializer to JSON to only serialize relevant parts of TransactionId.
    
    Add convenience method to retrieve id from TransactionId metadata object.
    
    Remove evidence ugliness in WhiskPackage.

 common/build.xml                                   |  7 ----
 common/scala/src/whisk/common/TransactionId.scala  |  1 +
 .../scala/src/whisk/core/entity/WhiskPackage.scala | 39 +++++++---------------
 common/scala/src/whisk/http/ErrorResponse.scala    | 29 ++++++++++++++--
 tests/src/system/basic/PackageTests.scala          | 21 +++++-------
 tests/src/system/basic/WskBasicTests.scala         |  5 ++-
 .../core/controller/test/PackagesApiTests.scala    |  1 +
 .../whisk/core/controller/test/RulesApiTests.scala |  4 ++-
 8 files changed, 54 insertions(+), 53 deletions(-)

commit 606b8b2b6a6d86afac9d7cb649d61127f10c8664
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 20 18:40:40 2016 +0200

    Bumping gradle to version 2.12 and remove build time dependency on whisk.properties
    
    Adding eclipse configuration files for codestyle

 gradle/wrapper/gradle-wrapper.jar        | Bin 53638 -> 53639 bytes
 gradle/wrapper/gradle-wrapper.properties |   4 +-
 tests/build.gradle                       |   8 +-
 tools/eclipse/java.xml                   | 295 +++++++++++++++++++++++++++++++
 tools/eclipse/scala.properties           |  22 +++
 5 files changed, 323 insertions(+), 6 deletions(-)

commit 1b35ad2182b3c5f9d5b45461a01f6bbf802fa3aa
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Thu Apr 21 10:19:32 2016 -0400

    Fix markers for starting/ending run for activation

 common/scala/src/whisk/common/Logging.scala                   | 3 ++-
 core/dispatcher/src/whisk/core/container/WhiskContainer.scala | 4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit a94da2d2a33cf5fe641fc25fd00fdf4430289bf3
Author: Christophe Jolif <cjolif@gmail.com>
Date:   Thu Apr 21 17:44:23 2016 +0200

    update swagger to specify TriggerLimits is of type object. fixes #241.

 core/controller/src/resources/whiskswagger.json | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 24fd5f859eb540a990e791ce6f8c705e4ad2cd8a
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 20 14:00:18 2016 -0400

    Stop building loadbalancer separately

 core/loadBalancer/build.gradle | 37 -------------------------------------
 settings.gradle                |  1 -
 tests/build.gradle             |  1 -
 3 files changed, 39 deletions(-)

commit d3af68d3878b3a5dcc37a5758f576088a085e019
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 20 17:32:20 2016 +0200

    Consolidated .gitignore files

 .gitignore                           | 44 +++++++++++++++++++++++++++---------
 catalog/samples/helloJava/.gitignore |  4 ----
 common/scala/.gitignore              |  6 -----
 core/controller/.gitignore           |  6 -----
 core/dispatcher/.gitignore           |  6 -----
 core/javaAction/proxy/.gitignore     |  6 -----
 core/loadBalancer/.gitignore         |  6 -----
 core/nodejsAction/.gitignore         |  6 -----
 services/consul/.gitignore           |  2 --
 tests/.gitignore                     |  6 -----
 tools/cli/.gitignore                 |  3 ---
 11 files changed, 33 insertions(+), 62 deletions(-)

commit f39b85147afafca063d69692e44709704be62696
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Wed Apr 20 17:17:02 2016 +0200

    Issue #1673. Fixing countdown action.
    
    Signed-off-by: Christian Bickel <cbickel@de.ibm.com>

 catalog/samples/countdown.js | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit d7f0ed7dc2977dc9ae75516df8bd94b2fa321433
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Mon Apr 11 10:23:38 2016 -0400

    Add support for a special log utility that computes elapsed time wrt the beginning of the transaction. Add lifetime markers using this new log utility.

 common/scala/src/whisk/common/Logging.scala        | 124 ++++++++++-----------
 common/scala/src/whisk/common/TransactionId.scala  |  98 ++++++++++++++++
 .../scala/src/whisk/core/connector/Message.scala   |   9 --
 .../src/whisk/core/database/CouchDbRestStore.scala |   2 -
 .../src/whisk/core/controller/Actions.scala        |  14 ++-
 .../src/whisk/core/container/ContainerPool.scala   |  24 ++--
 .../src/whisk/core/container/WhiskContainer.scala  |  15 ++-
 .../src/whisk/core/invoker/Invoker.scala           |  18 ++-
 .../core/loadBalancer/LoadBalancerToKafka.scala    |   3 +-
 9 files changed, 201 insertions(+), 106 deletions(-)

commit 55573c1016198c450ef6d95aa4ef44ef518dc5bc
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 19 15:44:01 2016 -0400

    Rewrite logging logic to wait for sentinel marker for nodejs container logs

 .../src/whisk/core/container/Container.scala       |  2 +-
 .../src/whisk/core/invoker/Invoker.scala           | 70 +++++++++++++++-------
 2 files changed, 48 insertions(+), 24 deletions(-)

commit 911e7b31ab2038b0715ece6f67efedacdcbd1a38
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Apr 19 14:53:25 2016 -0400

    Move remainig tests from CLIBasicTests to CLIActionTests where it belongs. Delete CLIBasicTests as it is otherwise replaced by WskBasicTests.

 tests/src/system/basic/CLIActionTests.java |  39 ++++-
 tests/src/system/basic/CLIBasicTests.java  | 223 -----------------------------
 2 files changed, 38 insertions(+), 224 deletions(-)

commit 95b139c240dc3b1175a6d406f0ff124017b46b1a
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Apr 18 17:33:57 2016 -0400

    Redo package tests in scala.  Delete redundant tests from CLIBasicTests already in WskBasicTests.

 tests/src/system/basic/CLIBasicTests.java   | 310 ----------------------------
 tests/src/system/basic/CLIPackageTests.java | 200 ------------------
 tests/src/system/basic/PackageTests.scala   | 165 +++++++++++++++
 3 files changed, 165 insertions(+), 510 deletions(-)

commit d669859202bf84f26e7a74cd85f6075d9ebb809c
Author: sjfink <sjfink@sjfinks-mbp.watson.ibm.com>
Date:   Tue Apr 19 13:31:31 2016 -0400

    add scala imports to suppress warnings from deprecated implicit operators

 common/scala/src/whisk/common/ConsulKV.scala                            | 1 +
 common/scala/src/whisk/common/ConsulServiceCheck.scala                  | 1 +
 common/scala/src/whisk/connector/kafka/KafkaConsumerConnector.scala     | 1 +
 common/scala/src/whisk/core/connector/LoadbalancerRequest.scala         | 1 +
 common/scala/src/whisk/core/database/CouchDbLikeStore.scala             | 1 +
 common/scala/src/whisk/core/database/DocumentFactory.scala              | 1 +
 common/scala/src/whisk/core/entity/ActivationId.scala                   | 1 +
 common/scala/src/whisk/core/entity/Parameter.scala                      | 2 ++
 common/scala/src/whisk/core/entity/TimeLimit.scala                      | 1 +
 common/scala/src/whisk/core/entity/WhiskPackage.scala                   | 1 +
 common/scala/src/whisk/core/entity/WhiskStore.scala                     | 1 +
 .../src/whisk/core/entity/schema/migration/MigrationAssistant.scala     | 1 +
 common/scala/src/whisk/utils/ExecutionContextFactory.scala              | 1 +
 common/scala/src/whisk/utils/JsonUtils.scala                            | 1 +
 common/scala/src/whisk/utils/Retry.scala                                | 1 +
 core/controller/src/whisk/core/controller/Actions.scala                 | 1 +
 core/controller/src/whisk/core/controller/Activations.scala             | 1 +
 .../src/whisk/core/controller/AuthorizedRouteDispatcher.scala           | 1 +
 core/controller/src/whisk/core/controller/Backend.scala                 | 1 +
 core/controller/src/whisk/core/controller/Entities.scala                | 1 +
 core/controller/src/whisk/core/controller/Rules.scala                   | 1 +
 core/controller/src/whisk/core/entitlement/Entitlement.scala            | 1 +
 core/dispatcher/src/whisk/core/container/ContainerUtils.scala           | 1 +
 core/dispatcher/src/whisk/core/invoker/Invoker.scala                    | 1 +
 core/dispatcher/src/whisk/core/invoker/InvokerServer.scala              | 1 +
 core/loadBalancer/src/whisk/core/loadBalancer/ActivationThrottle.scala  | 1 +
 core/loadBalancer/src/whisk/core/loadBalancer/InvokerHealth.scala       | 1 +
 tests/src/common/Wsk.scala                                              | 1 +
 tests/src/services/KafkaConnectorTests.scala                            | 1 +
 tests/src/whisk/consul/ConsulKVTests.scala                              | 2 ++
 tests/src/whisk/core/activator/test/ActivatorTests.scala                | 2 ++
 tests/src/whisk/core/container/test/ContainerPoolTests.scala            | 1 +
 tests/src/whisk/core/controller/test/AuthorizeTests.scala               | 1 +
 tests/src/whisk/core/controller/test/PackageActionsApiTests.scala       | 1 +
 tests/src/whisk/core/controller/test/RulesApiTests.scala                | 1 +
 tests/src/whisk/core/database/test/DbUtils.scala                        | 1 +
 tests/src/whisk/core/entity/test/SchemaTests.scala                      | 2 ++
 tests/src/whisk/core/entity/test/ViewTests.scala                        | 1 +
 tests/src/whisk/core/invoker/test/InvokerTests.scala                    | 1 +
 39 files changed, 43 insertions(+)

commit b4b7f524db63acddac2b130ae8ed27b123387dc9
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Apr 11 14:38:55 2016 -0400

    Switch to manual commit in Kafka consumer.
    
    Tweak log messages on rules.
    
    Remove unused targets.

 .../connector/kafka/KafkaConsumerConnector.scala   | 44 +++++++----
 .../src/whisk/core/controller/Rules.scala          | 15 ++--
 docker.xml                                         | 87 ----------------------
 3 files changed, 38 insertions(+), 108 deletions(-)

commit cd907f6df5a8236d4fe768d4548aabbab8c079a0
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Apr 6 14:48:55 2016 +0200

    issue #197 restructure ansible deployment. using modes for deploy, clean, initdb.
    adding roles for prereq and postdeploy as well as db role for local CouchDB.
    
    issue #197 introduce deploy and clean mode for each role
    
    issue #197 ignore errors on cleanup. invoker mounts provoke some device busy errors.
    
    issue #197 remove logs on cleanup.
    
    issue #197 don't create retry files
    
    issue #197 merge loadbalancer into controller. remove loadbalancer role.
    
    issue #197 createImmortalDBs, generate whisk.properties, env for travis
    
    issue #197 install ansible via pip on travis.
    
    issue #197 travis does not like us using port 53. changing back to 8600. we are not using consul dns anyway atm.
    
    issue #197 fix cli test
    
    issue #197 fix whisk.version.name and whisk.version.date
    
    issue #197 fix db prefix if hostname has uppercase letters
    
    issue #197 add db role to launch CouchDB if needed.
    
    issue #197 generate db env file to make ant build happy.
    
    issue #197 re-add CLI Dockerfile for now
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #197 replace createImmortalDBs.sh with playbook to reduce dependency on code.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #197 add openwhisk.home to whisk.properties
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #197 disable ansible on travis for now. enable when team decides to go with ansible.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #197 applied code review feedback: modularize deployment into individual playbooks, factored out initdb mode into db role, created separate roles for db providers which allows us to add more providers in the future, added user prommpt before dropping immortal db (can be overriden via cmd line param for travis)

 .gitignore                                         |  1 +
 .travis.yml                                        |  4 ++
 ansible/activator.yml                              |  6 ++
 ansible/ansible.cfg                                |  3 +-
 ansible/cloudant.yml                               |  6 ++
 ansible/consul.yml                                 |  8 +++
 ansible/controller.yml                             |  6 ++
 ansible/couchdb.yml                                |  6 ++
 ansible/edge.yml                                   |  9 +++
 ansible/environments/local/group_vars/all          | 21 +++++++
 ansible/environments/local/hosts                   | 11 ++--
 ansible/environments/travis/group_vars/all         | 17 ++++++
 ansible/environments/travis/hosts                  | 29 +++++++++
 ansible/files/auth.guest                           |  1 +
 ansible/files/auth.whisk.system                    |  1 +
 ansible/files/auth_index.json                      |  6 ++
 ansible/group_vars/all                             | 20 ++++---
 ansible/invoker.yml                                |  6 ++
 ansible/kafka.yml                                  |  6 ++
 ansible/roles/activator/tasks/clean.yml            | 15 +++++
 ansible/roles/activator/tasks/deploy.yml           | 35 +++++++++++
 ansible/roles/activator/tasks/main.yml             | 37 ++----------
 ansible/roles/cli/tasks/clean.yml                  |  8 +++
 ansible/roles/cli/tasks/deploy.yml                 | 40 +++++++++++++
 ansible/roles/cli/tasks/main.yml                   | 38 +++---------
 ansible/roles/cloudant/tasks/clean.yml             |  8 +++
 ansible/roles/cloudant/tasks/deploy.yml            |  5 ++
 ansible/roles/cloudant/tasks/initdb.yml            | 70 ++++++++++++++++++++++
 ansible/roles/cloudant/tasks/main.yml              | 14 +++++
 .../roles/cloudant/templates/cloudant-local.env.j2 |  8 +++
 ansible/roles/consul/tasks/clean.yml               | 34 +++++++++++
 ansible/roles/consul/tasks/deploy.yml              | 63 +++++++++++++++++++
 ansible/roles/consul/tasks/main.yml                | 68 +++------------------
 ansible/roles/controller/tasks/clean.yml           | 15 +++++
 ansible/roles/controller/tasks/deploy.yml          | 36 +++++++++++
 ansible/roles/controller/tasks/main.yml            | 36 +++--------
 ansible/roles/couchdb/tasks/clean.yml              | 15 +++++
 ansible/roles/couchdb/tasks/deploy.yml             | 37 ++++++++++++
 ansible/roles/couchdb/tasks/initdb.yml             |  7 +++
 ansible/roles/couchdb/tasks/main.yml               | 14 +++++
 .../roles/couchdb/templates/couchdb-local.env.j2   | 15 +++++
 ansible/roles/invoker/tasks/clean.yml              | 24 ++++++++
 ansible/roles/invoker/tasks/deploy.yml             | 46 ++++++++++++++
 ansible/roles/invoker/tasks/main.yml               | 50 +++-------------
 ansible/roles/kafka/tasks/clean.yml                | 16 +++++
 ansible/roles/kafka/tasks/deploy.yml               | 49 +++++++++++++++
 ansible/roles/kafka/tasks/main.yml                 | 53 +++-------------
 ansible/roles/loadbalancer/tasks/main.yml          | 34 -----------
 ansible/roles/nginx/tasks/clean.yml                | 21 +++++++
 ansible/roles/nginx/tasks/deploy.yml               | 32 ++++++++++
 ansible/roles/nginx/tasks/main.yml                 | 36 +++--------
 ansible/roles/postdeploy/tasks/clean.yml           |  5 ++
 ansible/roles/postdeploy/tasks/deploy.yml          |  5 ++
 ansible/roles/postdeploy/tasks/main.yml            | 10 ++++
 ansible/roles/prereq/tasks/clean.yml               |  7 +++
 ansible/roles/prereq/tasks/deploy.yml              | 11 ++++
 ansible/roles/prereq/tasks/main.yml                | 10 ++++
 ansible/roles/prereq/templates/whisk.properties.j2 | 56 +++++++++++++++++
 ansible/whisk.yml                                  | 38 ++++--------
 settings.gradle                                    |  2 +
 tools/cli/.gitignore                               |  3 +-
 tools/cli/.project                                 | 17 ------
 tools/travis/setup.sh                              |  2 +-
 tools/ubuntu-setup/ansible.sh                      |  3 +-
 64 files changed, 951 insertions(+), 364 deletions(-)

commit 6fd95b03dead23ec45839c312193601743c9f188
Author: Stephen Fink <sjfink@us.ibm.com>
Date:   Fri Apr 15 13:40:53 2016 -0400

    Issue 1652: add generous retries for ConsulKV tests

 tests/src/whisk/consul/ConsulKVTests.scala | 11 +++++++----
 1 file changed, 7 insertions(+), 4 deletions(-)

commit a027fac46c01eecaa2b97d4383ab9323161158be
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Apr 16 18:14:41 2016 +0200

    Upgrading to consul 0.6.4

 services/consul/Dockerfile | 14 ++++++++------
 1 file changed, 8 insertions(+), 6 deletions(-)

commit e9f3e8e6b6e184934e7b8900ef78266c8a1334e2
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Sun Apr 17 15:37:45 2016 +0200

    issue 222: remove docker endpoint from hostname definition of container. just move component name.

 core/controller/build.xml    | 2 +-
 core/dispatcher/build.xml    | 2 +-
 core/loadBalancer/build.xml  | 2 +-
 services/consul/build.xml    | 4 ++--
 services/kafka/build.xml     | 2 +-
 services/nginx/build.xml     | 2 +-
 services/zookeeper/build.xml | 2 +-
 tools/deploy/deployInvoker   | 2 +-
 8 files changed, 9 insertions(+), 9 deletions(-)

commit adc9612c7cf72e76818210d269033233a771b6b6
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Mon Apr 18 15:54:33 2016 +0200

    Variables (which exist already in whisk.properties) are added to WhiskConfig.
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 common/scala/src/whisk/core/WhiskConfig.scala | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit e5c4e58f8dfe63601f5e4395e7582b626c426678
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Apr 15 17:01:47 2016 -0400

    Also remove output that is no longer generated for shown command.

 docs/packages.md | 1 -
 1 file changed, 1 deletion(-)

commit ac1d35c7aea49e027e4c0f9227b37a4c56fabf2a
Author: edshee <edshee1@yahoo.co.uk>
Date:   Fri Apr 15 15:12:42 2016 +0100

    fixed documentation error

 docs/packages.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit cf6029e14434cc68fb6f8c0b327572c77c244dbb
Author: Dominik Jall <djall@de.ibm.com>
Date:   Fri Apr 15 13:25:42 2016 +0200

    pinning docker to 1.10.3 on ubuntu-setup also.

 tools/ubuntu-setup/docker.sh | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 56f6834153aae2a546a4b21fe8aa9d3ae1600996
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 13 12:29:41 2016 -0400

    Rewrite putBack to respect invariant to improve perf

 .../src/whisk/core/container/ContainerPool.scala   | 35 ++++++++++++----------
 1 file changed, 19 insertions(+), 16 deletions(-)

commit c04b7b77a8dbd9daf1dabb29ee6c732856946584
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu Apr 14 10:08:33 2016 -0400

    Add notion of sid.  Replace dontcare with system entity where possible and leaving the rest as unknown for now.

 common/scala/src/whisk/common/ConsulKVReporter.scala  |  2 +-
 common/scala/src/whisk/common/Curl.scala              |  4 ++--
 common/scala/src/whisk/common/Logging.scala           | 19 +++++++++++--------
 common/scala/src/whisk/core/connector/Message.scala   |  2 +-
 .../src/whisk/core/container/ContainerPool.scala      |  4 ++--
 .../src/whisk/core/container/WhiskContainer.scala     |  2 +-
 core/dispatcher/src/whisk/core/invoker/Invoker.scala  |  2 +-
 tests/src/services/KafkaConnectorTests.scala          |  2 +-
 .../core/container/test/ContainerPoolTests.scala      |  2 +-
 tests/src/whisk/core/database/test/DbUtils.scala      |  2 +-
 .../whisk/core/dispatcher/test/DispatcherTests.scala  |  6 +++---
 .../whisk/core/loadBalancer/LoadBalancerTests.scala   |  4 ++--
 12 files changed, 27 insertions(+), 24 deletions(-)

commit f6ef275dd89c20dc59d5d73dcc9f7b3a619a05c8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Apr 14 13:58:51 2016 -0400

    Pin docker version in travis to 1.10.3

 .travis.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a17b939aae2441e4d3441c4efc44245f4cfede34
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Apr 8 14:42:04 2016 +0200

    Make the new build.gradle non-invasive. To be updated later

 settings.gradle      |  2 --
 tools/cli/.gitignore |  3 +--
 tools/cli/.project   | 17 +++++++++++++++++
 3 files changed, 18 insertions(+), 4 deletions(-)

commit ac83db71824a5a51243d79cda21bfcceaceccff5
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 6 14:48:55 2016 +0200

    Build CLI using Gradle
    
    issue #185: introduce playbook for generating and deploying the CLI tarball
    
    issue #185 don't deploy consul on ansible host
    
    issue #187 add old Dockerfile for now. will be removed later.
    
    issue #185 fix travis test
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/environments/local/group_vars/all    |  1 +
 ansible/roles/cli/tasks/main.yml             | 34 ++++++++++++++++++
 ansible/roles/cli/templates/default.props.j2 |  2 ++
 ansible/whisk.yml                            |  3 +-
 settings.gradle                              |  2 ++
 tools/cli/.gitignore                         |  3 +-
 tools/cli/.project                           | 17 ---------
 tools/cli/Dockerfile                         | 12 +++++++
 tools/cli/build.gradle                       | 53 ++++++++++++++++++++++++++++
 9 files changed, 108 insertions(+), 19 deletions(-)

commit 437f2ef1288839393b9b026f13b6665edcbd3bd2
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 13 11:54:33 2016 -0400

    Some rewording

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 821a8b4855dd2c6003622c662d6ceb14aad36b18
Author: lzbj <noellaw2004@126.com>
Date:   Thu Apr 7 15:54:35 2016 +0800

    Update README.md
    
    Add one build tip.

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit ef2c413af4afa78aa9e20d4bc3deaac6ac972040
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Apr 13 10:36:58 2016 -0400

    Print out activation record in case of failure.
    
    Remove overly strict yet redundant check.

 tests/src/system/basic/CLIJavaTests.java    | 4 ----
 tests/src/system/basic/CLIPackageTests.java | 5 ++++-
 2 files changed, 4 insertions(+), 5 deletions(-)

commit cfb3b277083f612552f86be9ab76d9e4f64a76ca
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 12 19:38:50 2016 -0400

    Fix transaction id to be explicit and mutable for Container

 common/scala/src/whisk/common/ConsulKVReporter.scala          | 2 +-
 common/scala/src/whisk/common/Curl.scala                      | 4 ++--
 common/scala/src/whisk/common/SimpleExec.scala                | 2 +-
 core/dispatcher/src/whisk/core/container/Container.scala      | 5 ++++-
 core/dispatcher/src/whisk/core/container/ContainerPool.scala  | 8 +++++---
 core/dispatcher/src/whisk/core/container/ContainerUtils.scala | 2 +-
 core/dispatcher/src/whisk/core/container/WhiskContainer.scala | 5 +++--
 7 files changed, 17 insertions(+), 11 deletions(-)

commit 3b43e2d701a321027d3ea05441c431cf5b63997b
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Apr 11 15:38:27 2016 -0400

    Cleaned unused imports & protected members.

 .../src/whisk/core/database/CloudantRestClient.scala  | 19 ++-----------------
 .../src/whisk/core/database/CouchDbRestClient.scala   | 10 +++++-----
 2 files changed, 7 insertions(+), 22 deletions(-)

commit 816760ce767e2aab4f8778389f3c44c2ff297315
Author: Stephen Fink <sjfink@us.ibm.com>
Date:   Sun Apr 10 19:07:37 2016 -0400

    introduce CloudantRestClient with Cloudant Query support

 .../whisk/core/database/CloudantRestClient.scala   | 66 ++++++++++++++++++++++
 .../whisk/core/database/CouchDbRestClient.scala    | 11 ++--
 2 files changed, 72 insertions(+), 5 deletions(-)

commit 827e0eca1e2de37dfcb10d4928b93431d1b7d541
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Apr 11 12:17:48 2016 -0400

    Add a failure clause for invokeAction future. Typos, comments, warnings.

 .../src/whisk/core/invoker/Invoker.scala           | 85 +++++++++++-----------
 1 file changed, 44 insertions(+), 41 deletions(-)

commit e2d7380b56326aa84146bade41309f20c749b991
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Apr 6 16:43:55 2016 -0400

    Write openwhisk.home to property file. This avoid having to disambiguate its location in the presence of multiple whisk.properties files in the directory tree.
    
    Use absolute path to SSL cert from property file in gradle.

 config/localEnv.sh                    |   6 +-
 config/writePropertyFile.sh           |   2 +
 tests/build.gradle                    |   2 +-
 tests/src/common/WhiskProperties.java | 158 ++++++++++++++++++----------------
 4 files changed, 89 insertions(+), 79 deletions(-)

commit dcce8ccb66bb2fcfd9539a0d9715cbe3e40fc911
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Mar 23 16:19:52 2016 +0100

    Rework docker.gradle
    
    This includes:
    - New dockerWithRetry in Groovy
    - More parameters to set to customize docker
      - Docker command timeout
      - Docker binary
      - Docker retry count
      - Docker host to be set via --host

 build.xml     |  3 +--
 docker.gradle | 64 ++++++++++++++++++++++++++++++++++++++++++++++++++---------
 2 files changed, 56 insertions(+), 11 deletions(-)

commit 95344bd5d2d4d2525e1f9eec55a7f64aabf1bd63
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Apr 7 16:53:59 2016 -0400

    Fail wipe/load dbs if can't create db or load required views. This will short circuit the deployment and catches silent failures or db misconfigurations.
    Also in this comment: override property file to avoid namespace clash while loading catalog.

 catalog/util.sh                  |  2 ++
 tools/db/loadTransientDBViews.sh | 16 ++++++++++++++--
 tools/db/wipeTransientDBs.sh     | 18 ++++++++++++++----
 3 files changed, 30 insertions(+), 6 deletions(-)

commit f6870363c4d67cc4f0dd851d4d17e51a6c02f3f3
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Apr 7 19:32:17 2016 -0400

    Adjust nginx timeout to 5minutes on client connections to backend.

 services/nginx/generateProxyConf.sh | 1 +
 1 file changed, 1 insertion(+)

commit 3918ca8ca6d8ea83b37d847e68db0b18ea7be746
Author: perryibm <perry@us.ibm.com>
Date:   Thu Apr 7 17:55:15 2016 -0400

    Change spray timeouts to match that of controller
    
    Done in consultation with @rabbah.

 core/loadBalancer/src/resources/application.conf | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit e8940509cc9ec73964fe3c5e68ab067bff83d7a2
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 5 21:39:01 2016 -0400

    Redirect activator to controller

 common/scala/src/whisk/core/WhiskConfig.scala      |  1 +
 .../src/whisk/core/controller/Backend.scala        | 23 ++++++----
 .../src/whisk/core/controller/Controller.scala     |  3 +-
 .../src/whisk/core/controller/RestAPIs.scala       | 53 +++++++++++++++++-----
 .../src/whisk/core/activator/Activator.scala       |  2 +-
 .../src/whisk/core/activator/PostInvoke.scala      |  4 +-
 tests/src/common/WhiskProperties.java              |  8 ++++
 7 files changed, 71 insertions(+), 23 deletions(-)

commit f2969ce02bd0b31db627beb82366185f2048068a
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 5 18:11:43 2016 -0400

    Rename curried version makeLoadBalancer and add a typedef to aggregate argument type for performLoadBalancerRequest

 core/controller/src/whisk/core/controller/Backend.scala     | 13 ++++++++-----
 core/controller/src/whisk/core/controller/RestAPIs.scala    | 11 ++++++-----
 tests/src/services/PingTests.scala                          |  8 --------
 .../whisk/core/controller/test/ControllerTestCommon.scala   |  2 +-
 4 files changed, 15 insertions(+), 19 deletions(-)

commit 830d9a5767d90a8ea57bcd0b6e48ae5a67e6f73e
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 5 15:23:09 2016 -0400

    Final work to hook up controller to loadblancer internally

 common/scala/src/whisk/connector/kafka/KafkaProducerConnector.scala   | 2 +-
 core/build.xml                                                        | 4 ++--
 core/controller/src/whisk/core/controller/Actions.scala               | 2 +-
 core/controller/src/whisk/core/controller/Backend.scala               | 4 ++--
 core/controller/src/whisk/core/controller/Rules.scala                 | 2 +-
 core/controller/src/whisk/core/controller/Triggers.scala              | 2 +-
 .../src/whisk/core/loadBalancer/LoadBalancerService.scala             | 3 +++
 7 files changed, 11 insertions(+), 8 deletions(-)

commit 27c42e4850004b29531055d2dd678bcdd7ac15e7
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Apr 5 15:22:04 2016 -0400

    Extend controller deploy with kafka prop

 core/controller/build.xml                                  |  1 +
 core/controller/src/whisk/core/controller/Controller.scala | 11 ++++++++---
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 38d1b77ddfb52bb350f7415f756ecd3e8129cae0
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Apr 4 12:23:55 2016 -0400

    Build loadblancer with controller.  However, the internal loadbalancer component not yet used

 core/controller/build.gradle                       |  4 +++-
 .../src/whisk/core/controller/Actions.scala        |  2 +-
 .../src/whisk/core/controller/Backend.scala        | 21 +++++++++++------
 .../src/whisk/core/controller/RestAPIs.scala       | 27 ++++++++--------------
 .../src/whisk/core/controller/Rules.scala          |  2 +-
 .../src/whisk/core/controller/Triggers.scala       |  2 +-
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 7 files changed, 30 insertions(+), 30 deletions(-)

commit 766222e20c5d89c4764deb4a75f20861a31db634
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Apr 7 13:53:21 2016 +0200

    Fixing database scripts to use the right environment variables, drop unnecessary source.
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 config/localEnv.sh               | 2 +-
 tools/db/loadTransientDBViews.sh | 2 +-
 tools/db/wipeTransientDBs.sh     | 5 ++---
 3 files changed, 4 insertions(+), 5 deletions(-)

commit d02286aca9b29dba91119c017d9193f46fbc88da
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 6 23:30:34 2016 +0200

    Updating scala-library, making every reference explicit to prevent eclipse complaining about two different versions, removing unused import

 common/scala/build.gradle                  | 2 +-
 core/controller/build.gradle               | 1 +
 core/dispatcher/build.gradle               | 1 +
 core/loadBalancer/build.gradle             | 1 +
 tests/build.gradle                         | 1 +
 tests/src/system/basic/CLIActionTests.java | 1 -
 6 files changed, 5 insertions(+), 2 deletions(-)

commit 4f5a343d61c755da8786810cb162d1ebd10871d1
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Tue Apr 5 12:00:53 2016 -0400

    Remove unnecessary implicit

 tests/src/system/basic/WskBasicTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8401d69718289ecf44aaf188605723df5a42b26f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Apr 6 15:15:32 2016 +0200

    Removing double resources for whiskswagger.json

 core/controller/src/resources/{resources => }/whiskswagger.json | 0
 core/controller/src/whisk/core/controller/RestAPIs.scala        | 2 +-
 2 files changed, 1 insertion(+), 1 deletion(-)

commit 03a96b84cc8cb839a4bbc69ebb5e7b0b021c8140
Author: perryibm <perry@us.ibm.com>
Date:   Wed Apr 6 11:29:08 2016 -0400

    Increase log wait time to fix paramInherit

 tests/src/system/basic/CLIPackageTests.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 11fffbc68450a4422820eaa67682b80fa20f946e
Author: perryibm <perry@us.ibm.com>
Date:   Wed Apr 6 11:14:01 2016 -0400

    Increase wait time to match timeout.

 tests/src/system/basic/CLIJavaTests.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 437e59f87060313ad997c32f22a49c14eb6d13c1
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Apr 5 22:35:03 2016 -0400

    Import python value from property file to allow target to be called directly.

 build.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit c425f5b4b015133e9c0132f625eaeed8c64229f7
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Apr 5 11:15:42 2016 -0400

    Remove Cloudant/Couch specific settings and use canonical DB_ properties.
    
    Remove reference to a master key directory. Allow provider to be set by env var.

 config/dbSetup.sh             | 12 +++---------
 config/localEnv.sh            | 13 -------------
 config/writePropertyFile.sh   | 21 ++++-----------------
 tools/db/createImmortalDBs.sh |  5 ++---
 4 files changed, 9 insertions(+), 42 deletions(-)

commit d751cf2b74b47c3c3d42f9912243e56882198e04
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Apr 4 12:01:07 2016 -0400

    Python script enforcing coding conventions.
    
    Replaced the bash script with a Python alternative. The script now additionally checks for trailing whitespace, the absence of newline at the end of files, and the presence of the copyright/licensing headers (for now, only in Java/Scala source files).

 build.xml               |   5 +-
 tools/build/scanCode.py | 193 ++++++++++++++++++++++++++++++++++++++++++++++++
 tools/build/scanCode.sh |  59 ---------------
 3 files changed, 196 insertions(+), 61 deletions(-)

commit 207309b92b7c1d4a759b493c0c2682e2c52bff08
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue Apr 5 17:23:58 2016 -0400

    Adding missing copyright/licensing headers.

 .../samples/helloJava/src/main/java/hello/HelloJava.java  | 15 +++++++++++++++
 common/scala/src/whisk/core/WhiskConfig.scala             |  1 -
 common/scala/src/whisk/core/database/CloudantStore.scala  | 15 +++++++++++++++
 .../src/main/java/openwhisk/java/action/JarLoader.java    | 15 +++++++++++++++
 .../proxy/src/main/java/openwhisk/java/action/Proxy.java  | 15 +++++++++++++++
 .../java/openwhisk/java/action/WhiskSecurityManager.java  | 15 +++++++++++++++
 tests/src/common/BasicLauncher.java                       | 15 +++++++++++++++
 tests/src/common/Launcher.java                            | 15 +++++++++++++++
 tests/src/common/Pair.java                                | 15 +++++++++++++++
 9 files changed, 120 insertions(+), 1 deletion(-)

commit 4947dba8075e2ed732610edfba0a1d5b4b8619d0
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue Apr 5 17:04:47 2016 -0400

    Normalized whitespaces.
    
    1. Removed all trailing spaces.
    2. Ensured all files end with EOL.
    3. Turned tabs into spaces.

 catalog/samples/curl.js                            | 16 +++++++--------
 catalog/samples/echo.js                            |  2 +-
 catalog/samples/helloAsync.js                      |  2 +-
 catalog/utils/pipe.js                              |  2 +-
 catalog/watson/translate.js                        |  2 +-
 common/scala/build.gradle                          |  4 ++--
 .../src/whisk/common/ConsulServiceHealth.scala     |  2 +-
 common/scala/src/whisk/common/Curl.scala           |  4 ++--
 common/scala/src/whisk/common/HttpClient.scala     |  2 +-
 common/scala/src/whisk/common/Logging.scala        |  2 +-
 .../connector/kafka/KafkaConsumerConnector.scala   |  2 +-
 .../connector/kafka/KafkaProducerConnector.scala   |  2 +-
 common/scala/src/whisk/core/WhiskConfig.scala      |  2 +-
 .../src/whisk/core/connector/MessageConsumer.scala |  2 +-
 .../src/whisk/core/connector/MessageProducer.scala |  2 +-
 .../src/whisk/core/database/DocumentFactory.scala  |  2 +-
 .../src/whisk/core/database/InMemoryCache.scala    |  2 +-
 .../scala/src/whisk/core/entity/ActivationId.scala |  2 +-
 .../src/whisk/core/entity/ActivationLogs.scala     |  2 +-
 .../src/whisk/core/entity/ArgNormalizer.scala      |  2 +-
 common/scala/src/whisk/core/entity/Limits.scala    |  2 +-
 common/scala/src/whisk/core/entity/Namespace.scala |  2 +-
 common/scala/src/whisk/core/entity/Parameter.scala |  2 +-
 common/scala/src/whisk/core/entity/Secret.scala    |  2 +-
 common/scala/src/whisk/core/entity/SemVer.scala    |  2 +-
 common/scala/src/whisk/core/entity/Subject.scala   |  2 +-
 common/scala/src/whisk/core/entity/TimeLimit.scala |  2 +-
 common/scala/src/whisk/core/entity/UUID.scala      |  2 +-
 common/scala/src/whisk/core/entity/WhiskAuth.scala |  2 +-
 common/scala/src/whisk/core/entity/WhiskRule.scala |  2 +-
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  2 +-
 .../scala/src/whisk/core/entity/WhiskTrigger.scala |  2 +-
 .../whisk/core/entity/schema/EntityLimits.scala    |  2 +-
 .../core/entity/schema/EntityParameters.scala      |  2 +-
 .../whisk/core/entity/schema/EntityRecord.scala    |  2 +-
 .../src/whisk/core/entity/schema/Record.scala      |  2 +-
 .../src/whisk/core/entity/schema/RuleRecord.scala  |  2 +-
 common/scala/src/whisk/http/BasicRasService.scala  |  2 +-
 common/scala/src/whisk/http/ErrorResponse.scala    |  2 +-
 .../src/whisk/utils/ExecutionContextFactory.scala  |  2 +-
 common/scala/src/whisk/utils/JsonUtils.scala       |  2 +-
 common/scala/src/whisk/utils/Retry.scala           |  2 +-
 core/controller/build.gradle                       |  2 +-
 .../src/whisk/core/controller/ApiUtils.scala       |  2 +-
 .../src/whisk/core/controller/Authenticate.scala   |  2 +-
 .../whisk/core/controller/AuthenticatedRoute.scala |  2 +-
 .../src/whisk/core/controller/Entities.scala       |  2 +-
 .../src/whisk/core/controller/Namespaces.scala     |  2 +-
 .../src/whisk/core/controller/Packages.scala       |  2 +-
 .../whisk/core/entitlement/PackageCollection.scala |  2 +-
 .../src/whisk/core/entitlement/Privilege.scala     |  2 +-
 core/dispatcher/build.gradle                       |  4 ++--
 .../src/whisk/core/activator/Activator.scala       |  2 +-
 .../src/whisk/core/container/ContainerPool.scala   |  8 ++++----
 .../src/whisk/core/container/ContainerUtils.scala  |  2 +-
 .../src/whisk/core/dispatcher/DispatchRule.scala   |  2 +-
 .../src/whisk/core/dispatcher/Dispatcher.scala     |  2 +-
 .../src/whisk/core/dispatcher/Matcher.scala        |  2 +-
 .../src/whisk/core/invoker/Invoker.scala           | 10 ++++-----
 core/javaAction/init.py                            | 10 ++++-----
 core/javaAction/run.py                             |  2 +-
 core/loadBalancer/build.gradle                     |  2 +-
 .../core/loadBalancer/ActivationThrottle.scala     |  2 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  6 +++---
 core/nodejsAction/build.gradle                     |  2 +-
 core/swiftAction/build.gradle                      |  2 +-
 docker.gradle                                      |  2 +-
 services/consul/build.gradle                       |  2 +-
 services/kafka/build.gradle                        |  2 +-
 services/kafka/monitor/app.js                      | 12 +++++------
 services/zookeeper/build.gradle                    |  2 +-
 tests/build.gradle                                 |  2 +-
 tests/dat/actions/ping.js                          |  8 ++++----
 tests/src/actionContainers/ActionContainer.scala   |  4 ++--
 tests/src/admin/WskAdminTests.scala                |  2 +-
 .../tempusfugit/concurrency/ParallelRunner.java    |  4 ++--
 tests/src/common/BasicLauncher.java                |  4 ++--
 tests/src/common/Launcher.java                     |  4 ++--
 tests/src/common/TestHelpers.scala                 |  2 +-
 tests/src/common/TestUtils.java                    | 10 ++++-----
 tests/src/common/WskCli.java                       | 24 +++++++++++-----------
 tests/src/common/WskTestHelpers.scala              |  2 +-
 tests/src/system/basic/CLIPackageTests.java        |  4 ++--
 tests/src/system/basic/CLIRuleTests.java           |  2 +-
 tests/src/system/basic/CLISequentialTests.java     |  2 +-
 tests/src/system/basic/WskBasicTests.scala         |  6 +++---
 tests/src/system/rest/JsonSchemaTests.scala        |  2 +-
 tests/src/whisk/common/CommonTests.scala           | 12 +++++------
 tests/src/whisk/common/ConfigTests.scala           |  2 +-
 tests/src/whisk/consul/ConsulKVTests.scala         |  2 +-
 .../core/controller/test/AuthenticateTests.scala   |  2 +-
 .../controller/test/ControllerTestCommon.scala     |  2 +-
 .../core/controller/test/TriggersApiTests.scala    |  2 +-
 .../whisk/core/dispatcher/test/TestConnector.scala |  2 +-
 tools/cli/packagescripts/setup.py                  |  2 +-
 tools/cli/wskactivation.py                         | 16 +++++++--------
 tools/cli/wskitem.py                               |  8 ++++----
 tools/cli/wskpackage.py                            | 14 ++++++-------
 tools/cli/wskrule.py                               |  4 ++--
 tools/cli/wskutil.py                               |  6 +++---
 tools/deploy/dockerUtil.py                         |  2 +-
 tools/health/monitorUtil.py                        |  2 +-
 102 files changed, 179 insertions(+), 179 deletions(-)

commit 88aa6256cc92265b7871ad9ecab3fa4724add64a
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue Apr 5 08:24:44 2016 +0200

    issue #103: add installCatalog step
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/whisk.yml | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit d916a649a434b46ef9543c2afe1b2a3fd45afe57
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Mon Apr 4 16:57:27 2016 +0200

    issue #103: add common step: deployDatabase
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/environments/local/hosts | 2 ++
 ansible/whisk.yml                | 7 ++++++-
 2 files changed, 8 insertions(+), 1 deletion(-)

commit b91a0481d532e08af05b40aedccc8ba7790c18ed
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue Apr 5 11:54:22 2016 +0200

    issue #175: introduce nginx role
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 ansible/group_vars/all                       | 11 +++---
 ansible/roles/nginx/files/openwhisk-cert.pem | 19 +++++++++++
 ansible/roles/nginx/files/openwhisk-key.pem  | 27 +++++++++++++++
 ansible/roles/nginx/tasks/main.yml           | 32 +++++++++++++++++
 ansible/roles/nginx/templates/nginx.conf.j2  | 51 ++++++++++++++++++++++++++++
 ansible/whisk.yml                            |  6 ++--
 6 files changed, 139 insertions(+), 7 deletions(-)

commit d235446c651cc0509c60b61d61d9c4c8b6502b3a
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Apr 4 12:28:44 2016 +0200

    issue #99 provide base invoker playbook
    
    issue #99 delete obsolete component playbooks
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/environments/local/group_vars/all |  1 -
 ansible/roles/controller/tasks/main.yml   |  4 +--
 ansible/roles/invoker/tasks/main.yml      | 46 +++++++++++++++++++++++++++++++
 ansible/roles/loadbalancer/tasks/main.yml |  4 +--
 ansible/whisk.yml                         |  6 ++--
 core/controller/deploy.yml                | 25 -----------------
 core/loadBalancer/deploy.yml              | 24 ----------------
 services/consul/deploy.yml                | 37 -------------------------
 services/kafka/deploy.yml                 | 41 ---------------------------
 9 files changed, 53 insertions(+), 135 deletions(-)

commit 64b74938c7eb113a3c8e78444f3ae2b20f65974a
Author: Daisy Guo <guoyingc@cn.ibm.com>
Date:   Fri Apr 1 20:05:31 2016 +0800

    Added missing template-couchdb-local.env.
    
    The file is mentioned in the documentation but was absent from the repository.

 template-couchdb-local.env | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit 96e4c5abd5e442cb4ab29d3e5ace6b3af4e2edee
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Sun Apr 3 13:04:45 2016 -0400

    Switched to official CouchDB Docker image.

 services/couchdb/Dockerfile | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cc3b307d6f2399930218fa89abc5f5092c10a8b4
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 28 10:55:25 2016 -0400

    Spray-based client for CouchDB and Cloudant.
    
    At this stage, the client is designed to be 100% compatible with the existing stores that were built on the Java Cloudant/CouchDB APIs. For instance, is still uses GSON serialization to store entities, and mimicks the exceptions thrown by the other clients (e.g. `org.lightcouch.DocumentNotFound`). Currently only active for the CouchDB options. Further testing for Cloudant pending.

 .../whisk/core/database/CouchDbRestClient.scala    | 168 +++++++++++++
 .../src/whisk/core/database/CouchDbRestStore.scala | 266 +++++++++++++++++++++
 common/scala/src/whisk/core/entity/DocInfo.scala   |   2 +-
 .../scala/src/whisk/core/entity/WhiskStore.scala   |   5 +-
 4 files changed, 439 insertions(+), 2 deletions(-)

commit 163a4f165df4392b5fc581d1fd61dbbaceabb712
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 28 09:57:36 2016 -0400

    Make JsonFormat available in WhiskStore
    
    In `WhiskStore`, `makeStore` now requires a `JsonFormat` instance to be available for the store element type. This is in preparation of the Spray-based CouchDB/Cloudant client. The main change is top-level support for JsonFormat in WhiskEntity (as opposed to only in the subclasses).

 .../scala/src/whisk/core/entity/WhiskEntity.scala  | 43 +++++++++++++++++++++-
 .../scala/src/whisk/core/entity/WhiskPackage.scala | 33 ++++++++++++++++-
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  6 ++-
 3 files changed, 76 insertions(+), 6 deletions(-)

commit 411ebb707a7b2f1fe1fc0510d27d28237f77ab82
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 28 09:52:05 2016 -0400

    Make ActorSystem available for Stores
    
    The main concrete change is that the Invoker is now constructed with an ActorSystem (rather than "just" an ExecutionContext). This change is in preparation for the Spray-based CouchDB/Cloudant client.

 .../src/whisk/core/database/ArtifactStore.scala    |  5 ++---
 .../src/whisk/core/database/CouchDbLikeStore.scala |  3 +++
 .../scala/src/whisk/core/entity/WhiskStore.scala   | 12 +++++++----
 .../src/whisk/core/activator/PostInvoke.scala      |  6 ++++--
 .../src/whisk/core/container/ContainerPool.scala   | 14 ++++++------
 .../src/whisk/core/invoker/Invoker.scala           | 25 ++++++++++++++++------
 .../src/whisk/core/invoker/InvokerServer.scala     |  5 +++--
 .../whisk/core/activator/test/ActivatorTests.scala | 14 ++++++++----
 .../core/container/test/ContainerPoolTests.scala   | 14 ++++++++----
 .../core/dispatcher/test/DispatcherTests.scala     | 12 ++++++++++-
 .../whisk/core/entity/test/DatastoreTests.scala    |  8 ++++++-
 tests/src/whisk/core/entity/test/ViewTests.scala   |  9 ++++++--
 .../src/whisk/core/invoker/test/InvokerTests.scala | 18 ++++++++++------
 13 files changed, 103 insertions(+), 42 deletions(-)

commit 8b495805ce40d46770d33eeed4954c4792339409
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 28 09:33:49 2016 -0400

    Manifest for the concrete document type in DB code
    
    This change is not required for the existing DB APIs, but is a preparation step for the Spray-based API; it is required because the structure of stores is such that the `get` function may request a subtype of the statically-defined store element type. The Manifest is required for the ability to type-check the result. It was not previously required because the type check occured on the "proxy" type.

 common/scala/src/whisk/core/database/ArtifactStore.scala    |  6 ++++--
 common/scala/src/whisk/core/database/CouchDbLikeStore.scala |  6 ++++--
 common/scala/src/whisk/core/database/DocumentFactory.scala  |  5 +++--
 core/controller/src/whisk/core/controller/ApiUtils.scala    | 12 ++++++++----
 tests/src/whisk/core/database/test/DbUtils.scala            |  6 +++---
 5 files changed, 22 insertions(+), 13 deletions(-)

commit 065d34eaec265bf0d7c30e17bcdb1a6b617a6563
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Mar 18 11:07:00 2016 -0400

    Replace evidence parameter by upper bound.
    
    Simplifying the type signatures in the various store (database) abstractions and providers. Change is harmless since no higher-kinded types were involved.

 common/scala/src/whisk/core/database/CloudantStore.scala    | 2 +-
 common/scala/src/whisk/core/database/CouchDbLikeStore.scala | 4 ++--
 common/scala/src/whisk/core/database/CouchDbStore.scala     | 2 +-
 common/scala/src/whisk/core/entity/WhiskStore.scala         | 3 +--
 4 files changed, 5 insertions(+), 6 deletions(-)

commit 4ef4d2ad6ce35a946c79a0a0b37d63d292a20239
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Apr 1 18:02:53 2016 -0400

    Making CouchDB accessible over HTTP (instead of HTTPS)
    
    This introduces a new configuration setting `db.procotol`, whose value should be `http` or `https`. It defaults to `https`. The Cloudant client will not initialize if the protocol is not set to `https`.
    
    It also makes the convenience container `whisk/couchdb` work over HTTP rather than HTTPS. The main motivation is to allow REST calls to such local CouchDB deployments (interestingly, the CouchDB Java API was apparently happily ignoring the invalid certificates the whole time).

 common/scala/src/whisk/core/WhiskConfig.scala         |  2 ++
 .../src/whisk/core/database/CloudantProvider.scala    |  3 ++-
 .../scala/src/whisk/core/database/CloudantStore.scala |  4 ++--
 .../src/whisk/core/database/CouchDbLikeProvider.scala |  2 +-
 .../src/whisk/core/database/CouchDbLikeStore.scala    |  3 ++-
 .../src/whisk/core/database/CouchDbProvider.scala     |  5 +++--
 .../scala/src/whisk/core/database/CouchDbStore.scala  |  5 +++--
 common/scala/src/whisk/core/entity/WhiskStore.scala   |  8 ++++++--
 .../entity/schema/migration/MigrationAssistant.scala  |  2 +-
 config/dbSetup.sh                                     |  7 +++++++
 config/writePropertyFile.sh                           |  1 +
 services/couchdb/Dockerfile                           |  2 +-
 .../src/whisk/core/entity/test/ConformanceTests.scala |  7 +++++--
 tools/cli/wskadmin                                    | 19 ++++++++++++++-----
 tools/db/couchdb/createAdmin.sh                       | 13 +++++++++----
 tools/db/couchdb/start-couchdb-box.sh                 | 16 +++++++++-------
 tools/db/createImmortalDBs.sh                         |  2 +-
 tools/db/loadTransientDBViews.sh                      |  3 ++-
 tools/db/wipeTransientDBs.sh                          |  3 ++-
 19 files changed, 73 insertions(+), 34 deletions(-)

commit 9102b8a632e357f06e7596b082559f84311b844e
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Tue Apr 5 11:25:26 2016 +0200

    issue #177: remove redundant DB_PREFIX env var from build.xml
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 build.xml                    | 1 -
 tools/db/wipeTransientDBs.sh | 6 +++---
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 59f77c1365982e994d9c15c4187d13831d855ef3
Author: Dominik Jall <djall@de.ibm.com>
Date:   Sat Apr 2 13:17:24 2016 +0200

    issue #159 provide initial playbook for activator
    
    issue #159 fix hostname
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 ansible/roles/activator/tasks/main.yml | 35 ++++++++++++++++++++++++++++++++++
 ansible/whisk.yml                      |  6 +++---
 2 files changed, 38 insertions(+), 3 deletions(-)

commit c1450c2543f6d7ecc141eea972a5ccee6ac8ec9e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Apr 4 23:30:02 2016 -0400

    Fix use of retry: it requires an exception to be thrown on failure.
    Reviewed with @psuter.

 tests/src/whisk/core/dispatcher/test/DispatcherTests.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit ceef1cc47013c33215c721228891592461f1b1cd
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Apr 4 21:22:59 2016 -0400

    Add missing backslash in catalog

 catalog/installWeather.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e658f4ee8e2eb15f9cda6c026cc1bdd711ea00d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Apr 4 16:05:02 2016 -0400

    Fix Scala deprecation warnings in code and tests.
    
    Remove semicolons from PingTests.

 common/scala/src/whisk/core/entity/Exec.scala      |  2 +-
 common/scala/src/whisk/core/entity/Parameter.scala |  2 +-
 common/scala/src/whisk/utils/JsonUtils.scala       |  2 +-
 .../NodeJsActionContainerTests.scala               |  2 +-
 .../SwiftActionContainerTests.scala                |  2 +-
 tests/src/services/PingTests.scala                 | 36 +++++++++++-----------
 tests/src/whisk/core/entity/test/SchemaTests.scala | 16 +++++-----
 7 files changed, 31 insertions(+), 31 deletions(-)

commit a0b22453c577d13398434ec9b15aea74387694b2
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Apr 4 14:44:48 2016 -0400

    Retry `isAlive` checks for 30 seconds.
    
    According to the documented behavior of `isAlive`, the change will have the unit test continuously try to reach the component until the 30 seconds expire. Before this change, it tried exactly once.

 tests/src/services/PingTests.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c32e683efa4eaed19502e6a1966212529d78945a
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Apr 4 14:14:26 2016 -0400

    PingTests Java->Scala
    
    Almost exclusively a syntax change, at this stage.

 .../services/{PingTests.java => PingTests.scala}   | 81 +++++++++++-----------
 1 file changed, 42 insertions(+), 39 deletions(-)

commit c7e778b78dc475014e55c2dff85932cd5f27e6d0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Apr 4 15:20:46 2016 -0400

    Fix typo and add clarification for issue #165.

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b0650ba2ff52c433a5fd3eb63fd3758569592c09
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Apr 3 12:51:41 2016 -0400

    Strengthen unit test to test invariant that activations are not in the query result.

 tests/src/whisk/core/entity/test/ViewTests.scala | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 51383a6837c92570460b78e69ccad2459ed1c260
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Apr 2 01:43:45 2016 -0400

    If OPENWHISK_HOME is not set, default to relative path.

 catalog/util.sh | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9dd2b02265829935b7fe65fabd615b81817b6273
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 30 16:14:18 2016 -0400

    Replace List with Vector since former is deprecated in JsArray. Use canonical retry and delete otherwise unused trait.
    
    Remove obsolete comment.

 .../NodeJsActionContainerTests.scala               |  2 +-
 .../SwiftActionContainerTests.scala                |  2 +-
 tests/src/common/WhiskProperties.java              | 24 ++++++-------
 .../whisk/core/activator/test/ActivatorTests.scala |  2 --
 .../core/dispatcher/test/DispatcherTests.scala     | 13 +++++--
 .../src/whisk/core/dispatcher/test/TestUtils.scala | 41 ----------------------
 tests/src/whisk/core/entity/test/SchemaTests.scala | 16 ++++-----
 7 files changed, 32 insertions(+), 68 deletions(-)

commit 4ecf6ae39319b33564a2430370211a912db20cf5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Mar 24 17:25:42 2016 -0400

    Remove deprecated webportal key.

 tests/src/common/WskCli.java | 87 ++++++++++++++++----------------------------
 tools/health/killComponent   |  1 -
 2 files changed, 32 insertions(+), 56 deletions(-)

commit f59677ce6f98411a70b38a28e93ccfc8c15aa530
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Mar 24 12:02:11 2016 -0400

    Remove relative path dependences.
    
    Export openwhisk home as environemnt variable for required shell script.
    
    Adjust openwhisk home resolution to use envar, or system property before trying to find property file.
    
    Rename openwhisk.dir to openwhisk.home.
    
    Make method protected.

 build.xml                             |  10 ++--
 catalog/installGit.sh                 |   7 ++-
 catalog/installSlack.sh               |   9 +--
 catalog/installSystem.sh              | 101 ++++++++++++++++++++--------------
 catalog/installWatson.sh              |  12 ++--
 catalog/installWeather.sh             |  11 ++--
 catalog/util.sh                       |   9 +--
 common/build.xml                      |  14 ++---
 config/config.xml                     |   7 ++-
 core/build.xml                        |  14 ++---
 core/controller/build.xml             |   2 +-
 core/dispatcher/build.xml             |   2 +-
 core/loadBalancer/build.xml           |   2 +-
 docker.xml                            |   6 +-
 services/build.xml                    |  16 +++---
 services/consul/build.xml             |   8 +--
 services/zookeeper/build.xml          |   2 +-
 tests/build.xml                       |   1 +
 tests/src/common/WhiskProperties.java |  89 +++++++++++++++++-------------
 tools/cli/build.xml                   |  12 ++--
 20 files changed, 187 insertions(+), 147 deletions(-)

commit 51f5664d213ef31e5b07a7553ed9fea5eabd667c
Author: Perry Cheng <perry@us.ibm.com>
Date:   Sat Apr 2 13:13:18 2016 -0400

    Invert the layering so that rest server feature is added last so we can reuse lower layer for non-REST uses.  Disable LoadBalancerTests - most are defunct.

 .../src/whisk/core/loadBalancer/LoadBalancer.scala | 74 +++++++++++---------
 .../core/loadBalancer/LoadBalancerService.scala    | 79 ++++++++++++----------
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  2 +-
 .../core/loadBalancer/LoadBalancerTests.scala      | 42 +++++++++++-
 4 files changed, 127 insertions(+), 70 deletions(-)

commit 357603a6d6abb4a509608d331ced1b3c5ae90f39
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Apr 1 14:15:23 2016 -0400

    Change postToLoadBalancer to performLoadBalancer which has a function call API.  Underneath, it can go to either a POST or a real function call

 .../scala/src/whisk/core/connector/Message.scala   |  2 +-
 .../src/whisk/core/controller/Actions.scala        |  2 +-
 .../src/whisk/core/controller/Backend.scala        | 32 ++++++++++++++++++----
 .../src/whisk/core/controller/RestAPIs.scala       | 14 ++++++----
 .../src/whisk/core/controller/Rules.scala          |  4 +--
 .../src/whisk/core/controller/Triggers.scala       |  4 +--
 .../controller/test/ControllerTestCommon.scala     |  3 +-
 7 files changed, 43 insertions(+), 18 deletions(-)

commit ec5f7d750f0cac0eb093e58a21798503b719fa80
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Mon Apr 4 10:39:53 2016 -0400

    Issue #147 Remove redundant test

 tests/src/services/ConsulTests.java | 61 -------------------------------------
 1 file changed, 61 deletions(-)

commit b8b8ad797333395d53139729fbd84868afda887e
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Mar 30 15:35:19 2016 +0200

    issue #140 ansible new dir layout
    issue #140 WIP: rework consul playbook and role
    issue #140 fix wrong exposed port 8000 to 8300
    issue #140 WIP: make ports human readable
    issue #140: WIP add handler, improve template, improve tasks
    issue #140: WIP add role kafka
    issue #140: WIP add ansible.cfg file for profiling running tasks
    issue #140: WIP add role controller
    issue #140: WIP add role loadbalancer
    issue #140: delete the nonrelevant environments
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>
    
    issue #140 fix issues from code review
    
    issue #140 moved environments folder to ansible folder

 ansible/ansible.cfg                            |  3 ++
 ansible/environments/local/group_vars/all      |  5 ++
 ansible/environments/local/hosts               | 24 ++++++++++
 {environments/local => ansible}/group_vars/all | 17 ++++---
 ansible/roles/consul/handlers/main.yml         |  7 +++
 ansible/roles/consul/tasks/main.yml            | 64 ++++++++++++++++++++++++++
 ansible/roles/consul/templates/config.json.j2  | 30 ++++++++++++
 ansible/roles/controller/tasks/main.yml        | 32 +++++++++++++
 ansible/roles/kafka/tasks/main.yml             | 49 ++++++++++++++++++++
 ansible/roles/loadbalancer/tasks/main.yml      | 34 ++++++++++++++
 ansible/whisk.yml                              | 30 ++++++++++++
 environments/local/inventory                   | 11 -----
 services/consul/Dockerfile                     |  2 +-
 13 files changed, 287 insertions(+), 21 deletions(-)

commit 9e87bbfc0e9326aa13ab233400b4b860fa97d34a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Apr 1 14:02:23 2016 -0400

    Remove global RestAssured config uses.

 common/scala/src/whisk/core/connector/Message.scala |  2 +-
 tests/src/services/PingTests.java                   | 15 +++++----------
 tests/src/system/rest/ActionSchemaTests.scala       | 15 ++++++++-------
 tests/src/system/rest/JsonSchema.scala              |  3 +--
 tests/src/system/rest/RestUtil.scala                | 15 +++++++--------
 tests/src/system/rest/SwaggerTests.scala            | 12 +++++-------
 6 files changed, 27 insertions(+), 35 deletions(-)

commit dd3dbebc25bf3c423585414439af41b9911b4faf
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu Mar 31 14:58:44 2016 -0400

    Move controller to master

 core/controller/build.xml  | 6 +++---
 core/controller/deploy.yml | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 36f694c72bf7b7c66d245d9881c205994eb6e5bb
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Apr 1 14:58:31 2016 -0400

    Restore global RestAssured config pending review.

 common/scala/src/whisk/core/connector/Message.scala |  2 +-
 tests/src/services/PingTests.java                   | 18 +++++++++++-------
 tests/src/system/rest/ActionSchemaTests.scala       | 13 +++++++------
 tests/src/system/rest/JsonSchema.scala              |  3 ++-
 tests/src/system/rest/RestUtil.scala                | 16 +++++++++-------
 tests/src/system/rest/SwaggerTests.scala            |  5 +++--
 6 files changed, 33 insertions(+), 24 deletions(-)

commit c354166d20c35e9ff4bc2d973c6211d64e17f678
Author: Ioana Baldini <ioana@us.ibm.com>
Date:   Fri Apr 1 13:47:53 2016 -0400

    Fix retry bug: pass along waitBeforeRetry instead of using default duration between retries

 common/scala/src/whisk/utils/Retry.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 86235f855d083a3c64bd9f088b96421c088bf0f6
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Apr 1 14:02:23 2016 -0400

    Remove global RestAssured config uses.

 common/scala/src/whisk/core/connector/Message.scala |  2 +-
 tests/src/services/PingTests.java                   | 18 +++++++-----------
 tests/src/system/rest/ActionSchemaTests.scala       | 13 ++++++-------
 tests/src/system/rest/JsonSchema.scala              |  3 +--
 tests/src/system/rest/RestUtil.scala                | 16 +++++++---------
 tests/src/system/rest/SwaggerTests.scala            |  5 ++---
 6 files changed, 24 insertions(+), 33 deletions(-)

commit 1226e031002ec76d251f4a20cc152ba6ace94b48
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Apr 1 10:24:55 2016 -0400

    Combine init interval by favoring duration over start

 core/dispatcher/src/whisk/core/invoker/Invoker.scala | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 31bee8dc0b6df7fecf04cf412607f2ab199d8cc8
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Mar 30 17:06:34 2016 -0400

    Record both run and init duration into the transaction object and unify them during makeWhiskActivation

 .../src/whisk/core/container/WhiskContainer.scala  |  7 ++-
 .../src/whisk/core/invoker/Invoker.scala           | 69 ++++++++++++----------
 2 files changed, 42 insertions(+), 34 deletions(-)

commit 4e1e1a4aaa2b3f5f375116c5bb51250fe784f8a3
Author: Stephen Fink <sjfink@us.ibm.com>
Date:   Wed Mar 30 14:46:47 2016 -0400

    fix comment, and fix a few bugs which allow us to run loadTransientDBViews script as standalone operation

 tools/db/loadTransientDBViews.sh | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 05a7413e8b3e3e48a23305f867bc0ef031734cc7
Author: Jeremias Werner <jeremias.werner@gmail.com>
Date:   Tue Mar 22 16:53:04 2016 +0100

    issue #2 support docker 1.10 in ubuntu setup

 tools/ubuntu-setup/docker.sh | 17 +++++++----------
 1 file changed, 7 insertions(+), 10 deletions(-)

commit 217d544dd9029b1bb0fa35b002f3e14797c7a55b
Author: Jeremias Werner <jerewern@dyn-9-152-98-43.boeblingen.de.ibm.com>
Date:   Wed Mar 16 15:30:41 2016 +0100

    add new property whisk.version.tag with image tag and expose on /api/v1 endpoint in controller
    
    expose in cli and add test case

 common/scala/src/whisk/core/WhiskConfig.scala            |  6 ++++--
 config/writePropertyFile.sh                              |  1 +
 core/controller/build.xml                                |  1 +
 core/controller/src/whisk/core/controller/RestAPIs.scala |  9 ++++++---
 tests/src/system/basic/WskBasicTests.scala               |  7 ++++++-
 tools/cli/wsk                                            | 15 ++++++++++++++-
 6 files changed, 32 insertions(+), 7 deletions(-)

commit a1ef9885bac4cfada8a8608db4920ec5b3ea8ee4
Author: Vatche Ishakian <vishaki@us.ibm.com>
Date:   Fri Apr 1 08:57:25 2016 -0400

     changed description

 catalog/weather/pollen.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3b81de0aed9a09f0cd576dd8bcd5a3c1123810a5
Author: Vatche Ishakian <vishaki@us.ibm.com>
Date:   Thu Mar 24 11:31:25 2016 -0400

    adding weather pollen action
    
    adding annotations to the pollen action
    
    remove spaces

 catalog/installWeather.sh |  6 ++++++
 catalog/weather/pollen.js | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 52 insertions(+)

commit 0b3e34d37ab2580f3cb2cf335aa62861dca33c43
Author: Christian Bickel <cbickel@de.ibm.com>
Date:   Thu Mar 31 08:56:29 2016 +0200

    Add new map-function in DB-script
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>
    
    Add method to call new entities-view
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>
    
    Add testcase for entities view
    
    Signed-off-by: Tobias Zipfel <tobias.zipfel@de.ibm.com>
    
    Use new entities-view in API of controller
    
    Signed-off-by: Tobias Zipfel <tobias.zipfel@de.ibm.com>
    
    Improve test case of new view

 .../scala/src/whisk/core/entity/WhiskStore.scala   | 23 ++++++++++++++++++++++
 .../src/whisk/core/controller/Namespaces.scala     |  4 ++--
 tests/src/whisk/core/entity/test/ViewTests.scala   | 11 +++++++++++
 tools/db/loadTransientDBViews.sh                   |  3 +++
 4 files changed, 39 insertions(+), 2 deletions(-)

commit 72700556b1a8c3feac30dd45f250efbff670e833
Author: Perry Cheng <perry@us.ibm.com>
Date:   Thu Mar 31 11:39:18 2016 -0400

    Remove invalid test

 tests/src/system/basic/CLIActionTests.java | 27 ---------------------------
 1 file changed, 27 deletions(-)

commit d84ba6370ac9d889248829805eff00b1a7a62ce5
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Mar 28 11:00:27 2016 -0400

    Add retry to tests that perform a GET at the package or higher level

 .../controller/test/PackageActionsApiTests.scala   | 76 +++++++++++++---------
 .../core/controller/test/PackagesApiTests.scala    | 10 +--
 2 files changed, 52 insertions(+), 34 deletions(-)

commit 814cb8fcb7f3f80321b46e695ccf57914013882c
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Mar 29 16:39:54 2016 -0400

    Add path for promoting warm container to action instantiated ones

 .../scala/src/whisk/core/entity/MemoryLimit.scala  |  4 +-
 .../src/whisk/core/container/ContainerPool.scala   | 76 ++++++++++++++++------
 2 files changed, 58 insertions(+), 22 deletions(-)

commit 562224d95c774d3f9fbdd5f8ff930cda8ceb56b4
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Mar 29 14:08:16 2016 -0400

    Lift out arguments and merge container creation path for warmup and regular

 .../src/whisk/core/container/ContainerPool.scala   | 49 +++++++++++++++-------
 1 file changed, 33 insertions(+), 16 deletions(-)

commit 2541e97280e263ab3879f28b92c0a6de27e50485
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Thu Mar 24 13:52:42 2016 +0100

    issue #101: init playbook for kafka (incl. zookeeper)
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 environments/local/group_vars/all |  2 ++
 services/kafka/deploy.yml         | 41 +++++++++++++++++++++++++++++++++++++++
 2 files changed, 43 insertions(+)

commit 9287b70cd2b4f6ba748a5b7026f7119ce6fea63a
Author: Nick M. Mitchell <nickm@us.ibm.com>
Date:   Tue Mar 29 22:58:42 2016 -0400

    fix two invalid json issues in installWatson.sh and installSystem.sh, remove payload from sampleOutput of cat
    
    fix two invalid json issues in installWatson.sh and installSystem.sh, remove payload from sampleOutput of cat

 catalog/installSystem.sh | 4 ++--
 catalog/installWatson.sh | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 9d80d46adc029016eb898893e0f63b9a23601548
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Mar 29 10:17:14 2016 -0400

    Lift a require so file handle use done early; move a file close from catch to finally

 core/dispatcher/src/whisk/core/container/ContainerUtils.scala | 7 +++++--
 core/nodejsAction/runner.js                                   | 3 ++-
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 8eef4e0ab6bf3aad60fb3110ab98c6d1d7ba2800
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 28 21:10:26 2016 -0400

    Refactor container image name method so that it is in a singleton and usable from the container pool.

 .../scala/src/whisk/core/entity/WhiskAction.scala  | 27 ++++++-----
 .../src/whisk/core/container/ContainerPool.scala   | 53 ++++++++--------------
 2 files changed, 35 insertions(+), 45 deletions(-)

commit bfdd8ab3f6e6ab6e0af8fc20cdcedab76f55cd13
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 11 09:53:25 2016 -0500

    Create a warming thread that for now makes just one warm nodejs container
    
    Include nodejs warmed containers in data structure
    
    Pause warm container before putting it in the pool
    
    Add flag to disable warming feature so unit tests can continue testing precisely
    Introduce warmed pu container in idle state.
    
    Use TransactionId.dontcare; code cleanup

 .../src/whisk/core/container/ContainerPool.scala   | 93 +++++++++++++++++-----
 .../core/container/test/ContainerPoolTests.scala   |  2 +-
 2 files changed, 74 insertions(+), 21 deletions(-)

commit b398d4fe316ae82187f45be06bb5bb62a7c84c08
Author: Stephen Fink <sjfink@us.ibm.com>
Date:   Mon Mar 28 11:15:53 2016 -0400

    create ad hoc search index for cloudant

 tools/db/loadTransientDBViews.sh | 8 ++++++++
 1 file changed, 8 insertions(+)

commit e07a4b0f5ff826db0f29612727bcdad6144d6b4e
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 25 15:05:38 2016 -0400

    Improve error messages for malformed json; use WARN if user container

 .../src/whisk/core/invoker/Invoker.scala           | 22 +++++++++++++---------
 1 file changed, 13 insertions(+), 9 deletions(-)

commit 0a4eda375c53085ec99943a700074ed26387ffc8
Author: Nick M. Mitchell <nickm@us.ibm.com>
Date:   Thu Mar 24 10:50:36 2016 -0400

    enrich the catalog annotations
    
    added more sampleInput and sampleOutput and parameter specifications to whisk.system, slack, watson, and weather
    
    remove merge conflict garbage from installSystem.sh

 catalog/installSlack.sh   |  2 +-
 catalog/installSystem.sh  | 50 ++++++++++++++++++++++++++++++++++++-----------
 catalog/installWatson.sh  |  2 ++
 catalog/installWeather.sh |  2 +-
 4 files changed, 43 insertions(+), 13 deletions(-)

commit 34e3bc815b227e57106ad7b179dda3e4c27233f8
Author: Hoang Anh Le <hoang@de.ibm.com>
Date:   Thu Mar 24 18:10:49 2016 +0100

    issue #123 add wait_for and pull command for controller, consul
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 core/controller/deploy.yml   | 9 +++++++--
 core/loadBalancer/deploy.yml | 4 +++-
 services/consul/deploy.yml   | 8 ++++++--
 3 files changed, 16 insertions(+), 5 deletions(-)

commit d74d3e7b3eb804cfbe102a94a692c4863334a935
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Mar 23 17:02:35 2016 +0100

    issue #100 provide initial playbook for loadbalancer. supports registry
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 core/loadBalancer/deploy.yml      | 22 ++++++++++++++++++++++
 environments/local/group_vars/all |  8 +++-----
 2 files changed, 25 insertions(+), 5 deletions(-)

commit 7e1055e772190b9bccf79da5bac31a939c06e6a6
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Mar 22 16:15:40 2016 +0100

    issue #102 initial playbook for consul
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #102 start registrators with consul
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 services/consul/deploy.yml | 33 +++++++++++++++++++++++++++++++++
 1 file changed, 33 insertions(+)

commit b8c4c97c79b995761eb38bf19d0b8a327364359c
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Mar 23 14:28:07 2016 -0400

    Relax ConsulKV tests with retries on dependent operations

 common/scala/src/whisk/http/BasicHttpService.scala |  2 +-
 tests/src/whisk/consul/ConsulKVTests.scala         | 27 +++++++++++++---------
 2 files changed, 17 insertions(+), 12 deletions(-)

commit a2692c52724817c804d3fdb705b3865b991d18c7
Author: Dominik Jall <djall@de.ibm.com>
Date:   Wed Mar 23 17:11:20 2016 +0100

    issue #111 launch loadbalancer with consistent dockerfile
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 core/loadBalancer/Dockerfile | 4 +++-
 core/loadBalancer/build.xml  | 2 +-
 2 files changed, 4 insertions(+), 2 deletions(-)

commit 4eb0c9f564d76523391e0d5a6302d25a7c0ca2bf
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Mar 23 10:11:48 2016 -0400

    Do not run unpause within critical section

 core/dispatcher/src/whisk/core/container/ContainerPool.scala | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit c37dc56a9b65edcf485e2b41e20546cdff9b2c5d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Mar 16 16:45:12 2016 -0400

    Gradle build for javaAction

 core/javaAction/Dockerfile                         |   2 +-
 core/javaAction/build.gradle                       |  34 ++-------------------
 core/javaAction/build.xml                          |  26 ----------------
 core/javaAction/{ => proxy}/.gitignore             |   0
 core/javaAction/proxy/build.gradle                 |  32 +++++++++++++++++++
 .../{ => proxy}/gradle/wrapper/gradle-wrapper.jar  | Bin
 .../gradle/wrapper/gradle-wrapper.properties       |   0
 core/javaAction/{ => proxy}/gradlew                |   0
 .../main/java/openwhisk/java/action/JarLoader.java |   0
 .../src/main/java/openwhisk/java/action/Proxy.java |   0
 .../java/action/WhiskSecurityManager.java          |   0
 settings.gradle                                    |   3 +-
 12 files changed, 37 insertions(+), 60 deletions(-)

commit 8eeaf0a2e6e4bc97115ffc02d65708d5a91d2a45
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 14 18:45:27 2016 -0400

    Java CLI action creation test.

 catalog/samples/helloJava/build/libs/helloJava.jar | Bin 985 -> 1082 bytes
 .../helloJava/src/main/java/hello/HelloJava.java   |   8 ++-
 tests/src/system/basic/CLIJavaTests.java           |  69 +++++++++++++++++++++
 3 files changed, 76 insertions(+), 1 deletion(-)

commit 11556af73e96c7070173f1191ae1b27c82080b72
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Wed Mar 2 23:30:01 2016 -0500

    Support for Java actions throughout the system

 catalog/samples/helloJava/.gitignore               |   4 +
 catalog/samples/helloJava/build.gradle             |   9 +
 catalog/samples/helloJava/build/libs/helloJava.jar | Bin 0 -> 985 bytes
 .../helloJava/src/main/java/hello/HelloJava.java   |  13 +
 common/scala/src/whisk/core/entity/Exec.scala      |  51 ++-
 .../scala/src/whisk/core/entity/WhiskAction.scala  |  10 +-
 core/javaAction/build.xml                          |  26 ++
 core/javaAction/init.py                            |   7 +-
 .../main/java/openwhisk/java/action/JarLoader.java |  78 +++--
 .../src/main/java/openwhisk/java/action/Proxy.java | 214 +++++++------
 .../java/action/WhiskSecurityManager.java          |  27 ++
 .../JavaActionContainerTests.scala                 | 354 +++++++++++++++++++++
 .../NodeJsActionContainerTests.scala               |   7 +-
 tools/cli/wskaction.py                             |  35 +-
 tools/deploy/deployInvoker                         |  10 +
 15 files changed, 681 insertions(+), 164 deletions(-)

commit bd525a867e42c6e9c99a88f818e976aa9735fed3
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Tue Mar 1 11:08:25 2016 -0500

    Working javaAction container.

 core/javaAction/.gitignore                         |   6 +
 core/javaAction/Dockerfile                         |  26 ++++
 core/javaAction/build.gradle                       |  32 +++++
 core/javaAction/delete-build-run.sh                |  15 ++
 core/javaAction/gradle/wrapper/gradle-wrapper.jar  | Bin 0 -> 53636 bytes
 .../gradle/wrapper/gradle-wrapper.properties       |   6 +
 core/javaAction/gradlew                            | 160 +++++++++++++++++++++
 core/javaAction/init.py                            |  26 ++++
 core/javaAction/run.py                             |  39 +++++
 .../main/java/openwhisk/java/action/JarLoader.java |  60 ++++++++
 .../src/main/java/openwhisk/java/action/Proxy.java | 123 ++++++++++++++++
 11 files changed, 493 insertions(+)

commit e2d6083520ea347167551ab0f817c40fc2a65671
Author: Paul Castro <pcastro@Pauls-MacBook-Pro.local>
Date:   Tue Mar 22 14:30:19 2016 -0400

    issue #94, add Cartfile and Podfile to starter app, remove binary framework

 mobile/iOS/starterapp/Cartfile                     |   1 +
 .../OpenWhisk.framework/Headers/OpenWhisk-Swift.h  | 103 ------------
 .../OpenWhisk.framework/Headers/OpenWhisk.h        |  19 ---
 .../iOS/starterapp/OpenWhisk.framework/Info.plist  | Bin 752 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/arm.swiftdoc     | Bin 532 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/arm.swiftmodule  | Bin 31964 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/arm64.swiftdoc   | Bin 532 -> 0 bytes
 .../OpenWhisk.swiftmodule/arm64.swiftmodule        | Bin 31964 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/i386.swiftdoc    | Bin 532 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/i386.swiftmodule | Bin 32052 -> 0 bytes
 .../Modules/OpenWhisk.swiftmodule/x86_64.swiftdoc  | Bin 532 -> 0 bytes
 .../OpenWhisk.swiftmodule/x86_64.swiftmodule       | Bin 32056 -> 0 bytes
 .../OpenWhisk.framework/Modules/module.modulemap   |  10 --
 .../iOS/starterapp/OpenWhisk.framework/OpenWhisk   | Bin 1492688 -> 0 bytes
 .../OpenWhisk.framework/OpenWhiskConfig.plist      | Bin 124 -> 0 bytes
 .../_CodeSignature/CodeResources                   | 175 ---------------------
 .../OpenWhiskStarterApp.xcodeproj/project.pbxproj  |   6 -
 .../UserInterfaceState.xcuserstate                 | Bin 18374 -> 17994 bytes
 mobile/iOS/starterapp/Podfile                      |   8 +
 19 files changed, 9 insertions(+), 313 deletions(-)

commit f8b58e68c2800330e0e1a02165ccf19f3dafddfb
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Mar 22 14:23:53 2016 +0100

    issue #98 initial playbook for controller and inventory for local deployment. ignore .retry files from ansible.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #98 add component name var for logging.
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #98 one invoker on local. also set ansible_host to ip for local
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .gitignore                        |  1 +
 core/controller/deploy.yml        | 20 ++++++++++++++++++
 environments/local/group_vars/all | 44 +++++++++++++++++++++++++++++++++++++++
 environments/local/inventory      | 11 ++++++++++
 4 files changed, 76 insertions(+)

commit 5b8f9fb82b931bcea6d134472bf312ac76b72ade
Author: Dominik Jall <djall@de.ibm.com>
Date:   Mon Mar 21 14:04:14 2016 +0100

    issue #95 install ansible prereqs on dev env
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    issue #95 install ansible with travis
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>
    
    install docker-py prereq for ansible
    
    issue #95 moving docker-py to pip.sh to get travis to stop whining
    
    Signed-off-by: Hoang Anh Le <hoang@de.ibm.com>

 .travis.yml                   | 1 +
 tools/travis/setup.sh         | 2 +-
 tools/ubuntu-setup/all.sh     | 3 +++
 tools/ubuntu-setup/ansible.sh | 6 ++++++
 tools/ubuntu-setup/pip.sh     | 3 ++-
 5 files changed, 13 insertions(+), 2 deletions(-)

commit 033ba48732a81ae2061ac12520c36e9c2e943f34
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Mar 20 17:41:18 2016 -0400

    Ignore test pending a review as this test may no longer be valid.

 tests/src/system/basic/CLIActionTests.java | 1 +
 1 file changed, 1 insertion(+)

commit 4b8719630181912a9e193beb310b20e83f290ae3
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Mar 17 22:57:19 2016 +0100

    Bumping gradle version to 2.11
    
    Refactoring docker tasks, adding dockerWithRetry back in
    
    Run gradle clean in ant clean
    
    Adding missing dependencies on common scala
    
    Remove CMD from Dockerfile since further specification is needed by the caller
    
    More idiomatic usage of gradle to generate eclipse project files for all projects (root and cli stay for the moment)
    
    Using the configured SSL certificate in tests
    
    Prevent travis from running gradle assemble, as it is not expected by our current build
    
    Higher verbosity for test logs to make spotting issues from logs alone possible
    
    Idiomatic configuration of scala compilation using resources
    
    Setting DOCKER_HOST to mainmachine to build there

 .travis.yml                                        |   2 ++
 build.xml                                          |   5 ++++
 common/scala/build.gradle                          |  13 +++++----
 common/scala/src/{ => resources}/application.conf  |   0
 common/scala/src/{ => resources}/log4j.properties  |   0
 common/scala/src/{ => resources}/logging.conf      |   0
 core/controller/build.gradle                       |  29 +++++++--------------
 .../resources/{ => resources}/whiskswagger.json    |   0
 core/dispatcher/Dockerfile                         |   1 -
 core/dispatcher/build.gradle                       |  27 ++++++-------------
 core/loadBalancer/Dockerfile                       |   1 -
 core/loadBalancer/build.gradle                     |  29 +++++++--------------
 core/nodejsAction/.gitignore                       |   6 +++++
 core/nodejsAction/.project                         |  17 ------------
 core/nodejsAction/build.gradle                     |  23 +++++++---------
 core/swiftAction/build.gradle                      |  17 ++----------
 docker.gradle                                      |  21 +++++++++++++++
 gradle/wrapper/gradle-wrapper.jar                  | Bin 53638 -> 53638 bytes
 gradle/wrapper/gradle-wrapper.properties           |   4 +--
 gradlew                                            |   4 +--
 gradlew.bat                                        |   2 +-
 services/consul/.gitignore                         |   1 +
 services/consul/.project                           |  16 ------------
 services/consul/build.gradle                       |  18 +++----------
 services/kafka/build.gradle                        |  18 +++----------
 services/zookeeper/build.gradle                    |  18 +++----------
 tests/build.gradle                                 |   7 ++++-
 tools/cli/build.xml                                |   1 +
 28 files changed, 99 insertions(+), 181 deletions(-)

commit 377beae0886b9e61697ca6cc10327304bb81cc11
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Mar 17 11:15:51 2016 +0100

    Make up for cloudant returning 202 in a cluster setting
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 tools/cli/wskadmin | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 27f70dfc0ec82fbb64befd3c462bd9a85f26e350
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Mar 17 15:36:31 2016 +0100

    Solving cross-compiled dependency problem, compiling tests in UTF-8, passing testthreads to tests

 common/scala/build.gradle | 2 +-
 tests/build.gradle        | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 49b3337be2a022c28f92cd80322ae8df6bfbe935
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Mar 16 16:36:50 2016 -0400

    move counter inc so all transactions hit this

 core/dispatcher/src/whisk/core/invoker/Invoker.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 518bf71538d8f3815fdf90f4e01d90e2f3ad58b2
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 16 22:54:33 2016 -0400

    Update instructions to fix issue with local couchdb installation.

 README.md | 214 ++++++++++++++++++++++++++++----------------------------------
 1 file changed, 98 insertions(+), 116 deletions(-)

commit 5c33609c17f77b7c86794836f786ebc133e5d88d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Mar 17 09:22:37 2016 +0100

    Restoring testfailure behaviour
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 tests/build.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 77c9f55954bae788d02692764a42c6127b5d487c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Mar 16 16:43:46 2016 +0100

    Using the gradle eclipse plugin to generate eclipse project files
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 common/scala/.classpath        | 43 ------------------------------------------
 common/scala/.gitignore        |  3 +++
 common/scala/.project          | 18 ------------------
 common/scala/build.gradle      |  1 +
 core/controller/.classpath     |  8 --------
 core/controller/.gitignore     |  3 +++
 core/controller/.project       | 18 ------------------
 core/controller/build.gradle   |  1 +
 core/dispatcher/.classpath     |  8 --------
 core/dispatcher/.gitignore     |  3 +++
 core/dispatcher/.project       | 18 ------------------
 core/dispatcher/build.gradle   |  1 +
 core/loadBalancer/.classpath   |  8 --------
 core/loadBalancer/.gitignore   |  3 +++
 core/loadBalancer/.project     | 18 ------------------
 core/loadBalancer/build.gradle |  1 +
 services/consul/.classpath     |  1 -
 services/consul/.project       |  3 ---
 tests/.classpath               | 27 --------------------------
 tests/.gitignore               |  6 ++++--
 tests/.project                 | 24 -----------------------
 tests/build.gradle             |  1 +
 22 files changed, 21 insertions(+), 196 deletions(-)

commit f41b9795873ca45d1d4df56e48d3336818e8b86d
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Mar 16 10:00:51 2016 +0100

    Adjusting common/scala to comply with gradle build best-practices
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 .travis.yml               | 5 +----
 common/scala/build.gradle | 1 -
 2 files changed, 1 insertion(+), 5 deletions(-)

commit 8a1774eda416d872369e7e23c3435be6ef6b42d9
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Wed Mar 16 00:10:18 2016 +0100

    Setting heapsize for controller, rebuilt old startscripts for scala components

 core/controller/build.gradle   | 3 ++-
 core/dispatcher/build.gradle   | 2 +-
 core/loadBalancer/build.gradle | 2 +-
 3 files changed, 4 insertions(+), 3 deletions(-)

commit ef0c02606d803839a26612af0408af0483f29414
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Mar 15 18:23:50 2016 +0100

    ignore KafkaTests until intermittent failures are resolved
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 tests/src/services/KafkaTests.java | 2 ++
 1 file changed, 2 insertions(+)

commit 304eb8f47ef3ce0577b773bc8ab2d184c609277a
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Mar 15 13:29:55 2016 +0100

    remove obsolete common js. replay kafka 0.9 update.
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 common/js/Dockerfile         | 40 ----------------------------------------
 common/scala/build.gradle    |  2 +-
 core/nodejsAction/Dockerfile |  3 +--
 3 files changed, 2 insertions(+), 43 deletions(-)

commit 71351ef62254a576b38bcd15adc9f5ecd4052d31
Author: Dominik Jall <djall@de.ibm.com>
Date:   Tue Mar 15 13:08:25 2016 +0100

    remove obsolete push tasks
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 core/build.xml               | 10 ----------
 core/controller/build.xml    |  8 --------
 core/dispatcher/build.xml    |  8 --------
 core/loadBalancer/build.xml  |  8 --------
 core/nodejsAction/build.xml  | 15 ---------------
 core/swiftAction/build.xml   | 15 ---------------
 services/build.xml           |  8 --------
 services/consul/build.xml    |  8 --------
 services/kafka/build.xml     |  8 --------
 services/zookeeper/build.xml |  9 ---------
 10 files changed, 97 deletions(-)

commit ab9667c5f48d0bb47ee39ac786d82046415096cd
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Mar 14 10:21:26 2016 +0100

    Update nodejsAction Dockerfile, fix location of keystore

 core/nodejsAction/Dockerfile         | 10 +++++-----
 tests/build.gradle                   | 10 +++++-----
 tests/src/system/rest/RestUtil.scala |  2 +-
 3 files changed, 11 insertions(+), 11 deletions(-)

commit 28d958ded38ab4f0feb8af07e0d67bfeea6bef99
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sat Mar 12 19:15:23 2016 +0100

    Better logging for testruns using gradle

 tests/build.gradle | 4 ++++
 1 file changed, 4 insertions(+)

commit 0d5185a8e74390a65cfce06a065d8dc7fc2c69c1
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 15:50:23 2016 +0100

    adding missed files
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 core/nodejsAction/build.gradle  | 2 +-
 core/swiftAction/build.gradle   | 2 +-
 services/consul/build.gradle    | 2 +-
 services/kafka/build.gradle     | 2 +-
 services/zookeeper/build.gradle | 2 +-
 5 files changed, 5 insertions(+), 5 deletions(-)

commit d0c1bc28664f177a575fab3105de1f4c7436997f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 15:36:22 2016 +0100

    dont tag image while being build
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 core/dispatcher/build.gradle   | 2 +-
 core/loadBalancer/build.gradle | 2 +-
 services/consul/build.gradle   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 779647b0dc66d7da728f4a6b1c734fceba2594f4
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 13:47:52 2016 +0100

    adding -f option to tagImage so old tags are overridden
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 core/controller/build.gradle    | 2 +-
 core/dispatcher/build.gradle    | 2 +-
 core/loadBalancer/build.gradle  | 2 +-
 core/nodejsAction/build.gradle  | 2 +-
 core/swiftAction/build.gradle   | 2 +-
 services/consul/build.gradle    | 2 +-
 services/kafka/build.gradle     | 2 +-
 services/zookeeper/build.gradle | 2 +-
 8 files changed, 8 insertions(+), 8 deletions(-)

commit 989dbcc1bc6428b3c5b06de6e31edc3cc9770eac
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 13:15:46 2016 +0100

    strip push of images from ant build
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 build.xml | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 9d41b9a7215ba7806b5c9331248db7e13d103ae4
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 12:33:09 2016 +0100

    cleanup, factoring tagImage tag out of distDocker, using gradlew
    
    Signed-off-by: Dominik Jall <djall@de.ibm.com>

 .travis.yml                       |  2 +-
 build.xml                         | 22 +++-------------------
 common/scala/build.gradle         | 11 +++--------
 core/controller/build.gradle      |  7 +++++--
 core/dispatcher/build.gradle      |  5 ++++-
 core/loadBalancer/build.gradle    |  5 ++++-
 core/nodejsAction/build.gradle    |  5 ++++-
 core/swiftAction/build.gradle     |  5 ++++-
 services/consul/build.gradle      |  5 ++++-
 services/kafka/build.gradle       |  5 ++++-
 services/registrator/build.gradle |  0
 services/zookeeper/build.gradle   |  5 ++++-
 tests/build.xml                   |  3 +--
 13 files changed, 41 insertions(+), 39 deletions(-)

commit acac1b6135a5f049568e8e23bbb79268baabc53f
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 02:45:46 2016 +0100

    missed createTrustStore call deleted

 build.xml | 1 -
 1 file changed, 1 deletion(-)

commit 885491eeb1edd890be6e5e38e9da954e63ce2678
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 02:25:54 2016 +0100

    Put keystore creation in correct order, remove keystore creation from ant build

 build.xml          | 11 -----------
 tests/build.gradle |  2 +-
 2 files changed, 1 insertion(+), 12 deletions(-)

commit a7e7bcd58d1768d6dce8b81386189bca36dddbbb
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 11 02:02:20 2016 +0100

    make tests depend on keystore creation

 tests/build.gradle | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b6cf189d54b00d4d64b108e20720df114f8c399
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 11 01:29:16 2016 +0100

    Skip automatic gradle execution

 .travis.yml | 3 +++
 1 file changed, 3 insertions(+)

commit 398e39b82a2046dcb87306465ab9bb8c7a738665
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 11 01:20:33 2016 +0100

    Remove vi notation

 build.xml | 1 -
 1 file changed, 1 deletion(-)

commit bafb48656b21a7f79793ffec7f2168f95620a41b
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Thu Mar 10 23:19:26 2016 +0100

    cleanup gradle build files, integrate gradle tasks with ant for interim solution

 build.gradle                    | 17 ---------
 build.xml                       | 14 +++----
 common/scala/build.gradle       |  5 +++
 core/controller/build.gradle    | 45 +++++++---------------
 core/dispatcher/build.gradle    | 45 +++++++---------------
 core/loadBalancer/build.gradle  | 45 +++++++---------------
 core/nodejsAction/build.gradle  | 40 +++++---------------
 core/swiftAction/build.gradle   | 40 +++++---------------
 services/consul/build.gradle    | 46 ++++++----------------
 services/kafka/build.gradle     | 46 ++++++----------------
 services/zookeeper/build.gradle | 46 ++++++----------------
 tests/build.gradle              |  1 +
 tests/build.xml                 | 84 +++--------------------------------------
 13 files changed, 112 insertions(+), 362 deletions(-)

commit 9b245802d757cb8de01761135c6aba7c9549e7c8
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Mon Feb 29 12:58:12 2016 +0100

    Optional pushImage tag is added.

 core/controller/build.gradle    | 25 +++++++++++++++++++++++++
 core/dispatcher/build.gradle    | 25 +++++++++++++++++++++++++
 core/loadBalancer/build.gradle  | 25 +++++++++++++++++++++++++
 core/nodejsAction/build.gradle  | 25 +++++++++++++++++++++++++
 core/swiftAction/build.gradle   | 25 +++++++++++++++++++++++++
 services/consul/build.gradle    | 25 +++++++++++++++++++++++++
 services/kafka/build.gradle     | 25 +++++++++++++++++++++++++
 services/zookeeper/build.gradle | 25 +++++++++++++++++++++++++
 tests/build.gradle              |  3 ++-
 tools/ubuntu-setup/all.sh       |  3 +++
 tools/ubuntu-setup/gradle.sh    |  4 ++--
 11 files changed, 207 insertions(+), 3 deletions(-)

commit dbe2445e66616a42bf4ba9b1d0dad7f7469fd50b
Author: Fatih Ulusoy <ulusoy@de.ibm.com>
Date:   Tue Feb 23 13:17:49 2016 +0100

    including cleanup tasks for the build, stripping out build tasks of ant
    
    Signed-off-by: Markus Thoemmes <markus.thoemmes@de.ibm.com>

 build.gradle                    | 10 ++++-
 build.xml                       |  3 --
 common/scala/build.gradle       | 10 ++++-
 core/build.xml                  | 11 ------
 core/controller/build.gradle    | 16 +++++---
 core/controller/build.xml       | 81 ----------------------------------------
 core/dispatcher/build.gradle    | 16 +++++---
 core/dispatcher/build.xml       | 83 -----------------------------------------
 core/loadBalancer/build.gradle  | 16 +++++---
 core/loadBalancer/build.xml     | 76 -------------------------------------
 core/nodejsAction/Dockerfile    | 14 ++++++-
 core/nodejsAction/build.gradle  |  8 +++-
 core/nodejsAction/build.xml     | 11 ------
 core/swiftAction/build.gradle   | 10 ++++-
 core/swiftAction/build.xml      | 11 ------
 services/build.xml              | 10 -----
 services/consul/build.gradle    | 12 ++++--
 services/consul/build.xml       | 11 ------
 services/kafka/build.gradle     | 12 ++++--
 services/kafka/build.xml        | 29 --------------
 services/zookeeper/build.gradle | 12 ++++--
 services/zookeeper/build.xml    | 20 ----------
 22 files changed, 105 insertions(+), 377 deletions(-)

commit f3102672738eef8b4d0c6902a17a05ecfd226305
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:23:49 2016 +0100

    Moving over tests and allow deployment using ant
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 build.xml                            |  2 +-
 tests/.gitignore                     |  1 +
 tests/build.gradle                   | 51 ++++++++++++++++++++++++++++++++++++
 tests/src/system/rest/RestUtil.scala |  2 +-
 tools/deploy/deployInvoker           |  2 +-
 5 files changed, 55 insertions(+), 3 deletions(-)

commit 395e429f1e1588a4ffcf89078f508e33062e4f40
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:22:14 2016 +0100

    Moving action containers over to gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 core/nodejsAction/Dockerfile   | 41 ++++++++++++++++++++++++++++++++++-------
 core/nodejsAction/build.gradle |  3 +++
 core/swiftAction/build.gradle  |  3 +++
 3 files changed, 40 insertions(+), 7 deletions(-)

commit 4cdbeb1fcf6a73f41caa7618b673b93b52ca38f8
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:20:45 2016 +0100

    Moving services over to gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 services/consul/build.gradle      |  3 +++
 services/kafka/Dockerfile         |  5 ++---
 services/kafka/build.gradle       |  3 +++
 services/nginx/build.xml          |  2 +-
 services/registrator/Dockerfile   | 18 ------------------
 services/registrator/build.gradle |  0
 services/registrator/build.xml    |  7 -------
 services/zookeeper/build.gradle   |  3 +++
 8 files changed, 12 insertions(+), 29 deletions(-)

commit 2f382cd004bc143924d86b82e5834de78b2a9e1a
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:19:30 2016 +0100

    Moving over loadbalancer to gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 core/loadBalancer/.gitignore           |  1 +
 core/loadBalancer/Dockerfile           | 12 ++++--------
 core/loadBalancer/build.gradle         | 29 +++++++++++++++++++++++++++++
 core/loadBalancer/build.xml            |  3 +--
 core/loadBalancer/startLoadBalancer.sh | 16 ----------------
 5 files changed, 35 insertions(+), 26 deletions(-)

commit 85f8d2c7228513df15d70e1059fa766aa4657c9c
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:19:00 2016 +0100

    Moving over dispatcher to gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 core/dispatcher/.gitignore         |  1 +
 core/dispatcher/Dockerfile         | 10 ++++------
 core/dispatcher/build.gradle       | 29 +++++++++++++++++++++++++++++
 core/dispatcher/build.xml          |  3 +--
 core/dispatcher/startDispatcher.sh | 12 ------------
 5 files changed, 35 insertions(+), 20 deletions(-)

commit fabd9851f5d0aa8b0b8da18107c38ae54478ca93
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:18:29 2016 +0100

    Moving controller to gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 core/controller/.gitignore         |  1 +
 core/controller/Dockerfile         |  7 +++----
 core/controller/build.gradle       | 29 +++++++++++++++++++++++++++++
 core/controller/build.xml          |  3 +--
 core/controller/startController.sh | 14 --------------
 5 files changed, 34 insertions(+), 20 deletions(-)

commit 8c81fb18cd2f5de5223c2fa583b951ea0e122eac
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:18:02 2016 +0100

    Cleaning up common, adding gitignores
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 .gitignore                                         |   1 +
 common/js/.project                                 |  17 ---------
 common/libs/.project                               |  11 ------
 common/libs/common/cloudant-client-1.0.1.jar       | Bin 110859 -> 0 bytes
 common/libs/common/commons-codec-1.9.jar           | Bin 263965 -> 0 bytes
 common/libs/common/commons-io-2.4.jar              | Bin 185140 -> 0 bytes
 common/libs/common/commons-logging-1.2.jar         | Bin 61829 -> 0 bytes
 .../common/concurrentlinkedhashmap-lru-1.3.1.jar   | Bin 54436 -> 0 bytes
 common/libs/common/gson-2.3.1.jar                  | Bin 210856 -> 0 bytes
 common/libs/common/httpclient-4.4.1.jar            | Bin 720931 -> 0 bytes
 common/libs/common/httpcore-4.4.1.jar              | Bin 322234 -> 0 bytes
 common/libs/common/kafka-clients-0.9.0.0.jar       | Bin 633710 -> 0 bytes
 common/libs/common/log4j-1.2.16.jar                | Bin 481535 -> 0 bytes
 common/libs/common/messagehub.login-1.0.0.jar      | Bin 7746 -> 0 bytes
 common/libs/common/metrics-core-2.2.0.jar          | Bin 82123 -> 0 bytes
 common/libs/common/scala-library-2.11.6.jar        | Bin 5564007 -> 0 bytes
 .../common/scala-parser-combinators_2.11-1.0.2.jar | Bin 416065 -> 0 bytes
 common/libs/common/scala-xml_2.11-1.0.3.jar        | Bin 647893 -> 0 bytes
 common/libs/common/slf4j-api-1.7.6.jar             | Bin 28688 -> 0 bytes
 common/libs/common/slf4j-log4j12-1.6.1.jar         | Bin 9753 -> 0 bytes
 common/libs/common/zkclient-0.3.jar                | Bin 64009 -> 0 bytes
 common/libs/common/zookeeper-3.4.6.jar             | Bin 792964 -> 0 bytes
 common/libs/spray/akka-actor_2.11-2.3.9.jar        | Bin 2571077 -> 0 bytes
 common/libs/spray/akka-slf4j_2.11-2.3.9.jar        | Bin 15459 -> 0 bytes
 common/libs/spray/apache-log4j-extras-1.2.17.jar   | Bin 448794 -> 0 bytes
 common/libs/spray/config-1.2.1.jar                 | Bin 219554 -> 0 bytes
 common/libs/spray/mimepull-1.9.5.jar               | Bin 63621 -> 0 bytes
 common/libs/spray/parboiled-core-1.1.7.jar         | Bin 186607 -> 0 bytes
 common/libs/spray/parboiled-scala_2.11-1.1.7.jar   | Bin 233224 -> 0 bytes
 common/libs/spray/shapeless_2.11-1.2.4.jar         | Bin 1259355 -> 0 bytes
 common/libs/spray/spray-caching_2.11-1.3.3.jar     | Bin 29468 -> 0 bytes
 common/libs/spray/spray-can_2.11-1.3.3.jar         | Bin 720710 -> 0 bytes
 common/libs/spray/spray-client-1.3.1.jar           | Bin 45098 -> 0 bytes
 common/libs/spray/spray-http_2.11-1.3.3.jar        | Bin 1502842 -> 0 bytes
 common/libs/spray/spray-httpx_2.11-1.3.3.jar       | Bin 437070 -> 0 bytes
 common/libs/spray/spray-io_2.11-1.3.3.jar          | Bin 189178 -> 0 bytes
 common/libs/spray/spray-json_2.11-1.3.2.jar        | Bin 286389 -> 0 bytes
 common/libs/spray/spray-routing_2.11-1.3.3.jar     | Bin 1064515 -> 0 bytes
 common/libs/spray/spray-util_2.11-1.3.3.jar        | Bin 128702 -> 0 bytes
 common/libs/testing/commons-exec-1.1.jar           | Bin 52543 -> 0 bytes
 common/libs/testing/commons-lang3-3.3.2.jar        | Bin 412739 -> 0 bytes
 common/libs/testing/commons-logging-1.1.3.jar      | Bin 62050 -> 0 bytes
 common/libs/testing/groovy-2.4.3.jar               | Bin 4535608 -> 0 bytes
 common/libs/testing/groovy-json-2.4.3.jar          | Bin 120769 -> 0 bytes
 common/libs/testing/groovy-xml-2.4.3.jar           | Bin 210752 -> 0 bytes
 common/libs/testing/guava-18.0.jar                 | Bin 2256213 -> 0 bytes
 common/libs/testing/hamcrest-core-1.3.jar          | Bin 45024 -> 0 bytes
 common/libs/testing/httpmime-4.3.6.jar             | Bin 37272 -> 0 bytes
 common/libs/testing/junit-4.11.jar                 | Bin 245039 -> 0 bytes
 common/libs/testing/rest-assured-2.4.1.jar         | Bin 672420 -> 0 bytes
 common/libs/testing/scalatest_2.11-2.2.4.jar       | Bin 7185789 -> 0 bytes
 common/libs/testing/selenium-java-2.45.0.jar       | Bin 3898959 -> 0 bytes
 common/libs/testing/spray-testkit_2.11-1.3.3.jar   | Bin 74852 -> 0 bytes
 .../testing/tempus-fugit-1.2-20140129.191141-5.jar | Bin 67061 -> 0 bytes
 common/scala/.gitignore                            |   1 +
 common/scala/build.gradle                          |  42 +++++++++++++++++++++
 56 files changed, 44 insertions(+), 28 deletions(-)

commit bbf249550de247ac990052a8d97993c45e5b4e46
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Mon Feb 22 18:16:30 2016 +0100

    Initializing gradle
    
    Signed-off-by: Fatih Ulusoy <ulusoy@de.ibm.com>

 build.gradle                             |   9 ++
 gradle/wrapper/gradle-wrapper.jar        | Bin 0 -> 53638 bytes
 gradle/wrapper/gradle-wrapper.properties |   6 ++
 gradlew                                  | 160 +++++++++++++++++++++++++++++++
 gradlew.bat                              |  90 +++++++++++++++++
 settings.gradle                          |  16 ++++
 6 files changed, 281 insertions(+)

commit 42de3a93d505e2528c2a64d099e75edd408ec72b
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 14 10:33:40 2016 -0400

    Make `whisk/kafka` build-able from cache
    
    The `ADD http...` constuct requires network connectivity every single time the
    image is built, while `RUN` commands get cached. Using `maven` here to do it
    "cleanly", although `wget` would be another option.

 services/kafka/Dockerfile | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 26020b7a195199a6a63859013e14439119044203
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Mar 13 03:00:14 2016 -0400

    Create only one producer/consumer for the test. Use manual offset update to avoid GroupCoordinatorNotAvailableException.

 .../connector/kafka/KafkaConsumerConnector.scala   |  2 +-
 tests/src/services/KafkaTests.java                 | 86 +++++++++++++---------
 2 files changed, 51 insertions(+), 37 deletions(-)

commit 2496fe2b7381781e2a944073d4dcb0cf551d33c2
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 9 16:53:49 2016 -0500

    Use defined properties rather than string literals.
    
    WIP: refactoring of Kafka consumer to manage offests explicitly.
    
    First step in moving to Kafka consumer with manual offset management.
    Changes consumer to use poll interface and delegate message decoding to subscriber.
    The subscriber call back signature changes to byte array -> boolean, indication message
    is consumed and offset should be updated.
    
    Added new trait Message as a basic type for Kafka messages and renamed previous type
    to ActivationMessage to more accurately reflect its purpose. The basic trait allows
    for testing with convenience for the connector producer/consumer.
    
    The producer send method now accepts Message instead of ActivationMessage as a result.
    Update existing Java test for basic Kafka service and add Scala test for Kafka connectors.
    
    Format
    
    tweak test mesages and matcher
    
    Correct method name.

 .../connector/kafka/KafkaConsumerConnector.scala   |  81 ++++-----
 .../connector/kafka/KafkaProducerConnector.scala   |  10 +-
 .../scala/src/whisk/core/connector/Message.scala   |  33 +++-
 .../src/whisk/core/connector/MessageConsumer.scala |   2 +-
 .../src/whisk/core/controller/Actions.scala        |   4 +-
 .../src/whisk/core/controller/Rules.scala          |   4 +-
 .../src/whisk/core/controller/Triggers.scala       |   4 +-
 .../src/whisk/core/activator/Activator.scala       |   2 +-
 .../src/whisk/core/activator/PostInvoke.scala      |   4 +-
 .../src/whisk/core/container/ContainerPool.scala   |   5 +-
 .../src/whisk/core/dispatcher/DispatchRule.scala   |   2 +-
 .../src/whisk/core/dispatcher/Dispatcher.scala     |  34 ++--
 .../src/whisk/core/invoker/Invoker.scala           |  21 +--
 .../src/whisk/core/invoker/InvokerServer.scala     |   2 +-
 .../core/loadBalancer/ActivationThrottle.scala     |  13 +-
 .../whisk/core/loadBalancer/InvokerHealth.scala    |   4 +-
 .../src/whisk/core/loadBalancer/LoadBalancer.scala |   4 +-
 .../core/loadBalancer/LoadBalancerService.scala    |  10 +-
 .../core/loadBalancer/LoadBalancerToKafka.scala    |   2 +-
 tests/src/services/KafkaConnectorTests.scala       |  69 ++++++++
 tests/src/services/KafkaTests.java                 | 187 ++++++++-------------
 .../whisk/core/activator/test/ActivatorTests.scala |   8 +-
 .../core/dispatcher/test/DispatcherTests.scala     |   8 +-
 .../whisk/core/dispatcher/test/TestConnector.scala |  20 +--
 .../src/whisk/core/invoker/test/InvokerTests.scala |  13 +-
 .../core/loadBalancer/LoadBalancerTests.scala      |   9 +-
 26 files changed, 302 insertions(+), 253 deletions(-)

commit 2d93b690699ce787f98b4c67edc4d52c8aff8c98
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 9 16:52:25 2016 -0500

    Set VM memory to 2GB, recommended min size.

 tools/macos/README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6ed04e9393c3c91bbf53895d16530f5abec7c167
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 8 16:30:35 2016 -0500

    Add cheerio, move mustache and xml2js from base common image to nodejs action image.
    
    Correct name of parameter in Cloudant package. Add cheerio to list of packages in reference doc.
    
    Fix typo in method name.

 common/js/Dockerfile                                         | 4 +---
 core/nodejsAction/Dockerfile                                 | 3 +++
 docs/reference.md                                            | 1 +
 tests/src/whisk/core/container/test/ContainerPoolTests.scala | 2 +-
 4 files changed, 6 insertions(+), 4 deletions(-)

commit 7b6acf4fc91ae36a1ed64198011c7d605f39a1fd
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 8 14:07:13 2016 -0500

    All activations are stored in the same namespace regardless of the entity namespace: the subject's default namespace.
    This matches the invoker and ensures all activations for actions, triggers and rules can be retrieved from the same
    API endpoint.
    
    Also, removed log detail and added trigger payload to activation result.
    
    Typo in method name.

 common/scala/src/whisk/utils/ExecutionContextFactory.scala | 2 +-
 core/controller/src/whisk/core/controller/Packages.scala   | 2 +-
 core/controller/src/whisk/core/controller/Triggers.scala   | 4 +++-
 core/dispatcher/src/whisk/core/activator/PostInvoke.scala  | 3 +--
 4 files changed, 6 insertions(+), 5 deletions(-)

commit 3670675dc85a3c9522cd085a32e0462effaf4ffa
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 7 23:32:58 2016 -0500

    When setting properties, if apihost is given, use it for namespace lookip.
    
    Noisy was renamed Debug. Use Loud for log messages in rate throttling, which is the default level everywhere else.

 core/controller/src/whisk/core/entitlement/RateThrottler.scala | 2 +-
 tools/cli/wsk                                                  | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 1affffe57de6fbb265e7677957ab4875ef140432
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 7 15:10:46 2016 -0500

    Change type of subjects that are exempted from String to Set[String] and make exemption check via set contains.

 .../src/whisk/core/entitlement/RateThrottler.scala | 24 +++++++++++-----------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit 954a730d02b2916bf4c52dd5e1b12bf77645222e
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Mon Mar 7 15:08:06 2016 -0500

    Report HTTP error if possible on CLI commands.
    
    Separated the reading of the HTTP response from the JSON parsing and on error, repor the HTTP response body as it may be useful to see the raw response when the API call fails.
    For example, if the host is unreachable.

 tools/cli/wskutil.py | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 3de9ecace73581c8ea91cf430fc26da7f1e7f93f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 4 21:43:29 2016 -0500

    Upgrade all kafka clients to 0.9.
    Organize imports and clean up some project dependences.
    
    Export dependences
    
    Set verbosity on producer when changing load balancer verbosity. Change zookeeper for kafka host as part of kafka 9 client upgrade
    
    Remove kafka 0.8.2 jar.
    
    add tests results directory to git ignores.
    
    Change verbosity level Noisy to Debug.

 .gitignore                                         |   1 +
 common/build.xml                                   |   7 ----
 common/libs/common/kafka-clients-0.8.2.0.jar       | Bin 323723 -> 0 bytes
 common/libs/common/kafka_2.11-0.8.2.0.jar          | Bin 3956172 -> 0 bytes
 common/scala/.classpath                            |   3 +-
 common/scala/src/whisk/common/Logging.scala        |   4 +--
 .../connector/kafka/KafkaProducerConnector.scala   |   2 +-
 core/dispatcher/build.xml                          |   4 +--
 .../src/whisk/core/dispatcher/Dispatcher.scala     |   9 ++---
 .../src/whisk/core/loadBalancer/LoadBalancer.scala |  12 +++----
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  37 ++++++++++-----------
 tests/.classpath                                   |  16 ++-------
 tests/src/common/TestUtils.java                    |   6 ++--
 tests/src/common/Util.java                         |   9 ++---
 tests/src/services/ConsulTests.java                |   2 +-
 tests/src/system/basic/CLIActionTests.java         |   2 +-
 .../core/dispatcher/test/DispatcherTests.scala     |  20 +++++------
 tests/src/whisk/core/entity/test/SchemaTests.scala |  29 ++++++++--------
 18 files changed, 67 insertions(+), 96 deletions(-)

commit 996687c6c1c248b6e710871f90b06321fb764072
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sun Mar 13 10:36:28 2016 -0400

    Fix error response to be a JSON object and remove unnecessary test subject.
    
    Create a sequential CLI tests suite that does not use a parallel runner for tests that verify system invariants and cannot run concurrently with other tests.

 .../src/whisk/core/invoker/Invoker.scala           |   2 +-
 tests/src/system/basic/CLIRuleTests.java           | 102 ++---------------
 tests/src/system/basic/CLISequentialTests.java     | 121 +++++++++++++++++++++
 3 files changed, 134 insertions(+), 91 deletions(-)

commit f38675c614110545c4854384dfe2fb2cc814ba61
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Sun Mar 13 16:46:34 2016 +0100

    Make Wsk APIs extensible by declaring them as class

 tests/src/common/Wsk.scala | 28 ++++++++++++++--------------
 1 file changed, 14 insertions(+), 14 deletions(-)

commit 31dca8c3473957d06b55b9095b6efeed67b889b3
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Mar 12 22:22:16 2016 -0500

    Extract action name from the doc id. Add TODO to fix semantic version.

 .../src/whisk/core/invoker/Invoker.scala           | 67 +++++++++++-----------
 1 file changed, 34 insertions(+), 33 deletions(-)

commit bd19afe64ec703db60d34981ec592daf30c1bc29
Author: Perry Cheng <perry@us.ibm.com>
Date:   Sat Mar 12 19:04:23 2016 -0500

    Move invariant of single completion to compleTransaction by extending Transaction with result object

 .../src/whisk/core/invoker/Invoker.scala           | 25 ++++++++++++++++------
 1 file changed, 18 insertions(+), 7 deletions(-)

commit 6eee73cb5db287a05a0c349f21068f69ccaa71d9
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 11 20:58:09 2016 -0500

    Add transaction object around Message so that we can record transaction completion to avoid double completion. Tighten up test

 .../src/whisk/core/invoker/Invoker.scala           | 44 +++++++++++++++-------
 tests/src/system/basic/CLIRuleTests.java           |  7 ++--
 2 files changed, 33 insertions(+), 18 deletions(-)

commit f603c6692de67f3d65d232f5e8f32501937dc2f6
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 11 18:45:11 2016 -0500

    Fix invoker to end transactions properly on abnormal paths

 .../src/whisk/core/invoker/Invoker.scala           | 58 ++++++++++++++++------
 tests/src/system/basic/CLIRuleTests.java           | 14 +++---
 2 files changed, 52 insertions(+), 20 deletions(-)

commit b36953c4dff3082d4f789acf64a1d8b702b03847
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 11 14:42:42 2016 -0500

    Refactor out code that needs to run at termination (even if unsuccessful) of all activations

 .../src/whisk/core/invoker/Invoker.scala           | 29 ++++++++++++++--------
 tests/src/system/basic/CLIRuleTests.java           |  2 +-
 2 files changed, 19 insertions(+), 12 deletions(-)

commit 43eb9f788a91e04784e0323c0e94854c6645fb25
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 11 14:26:29 2016 -0500

    Add unit test that creates a trigger connected to a deleted action, fires it, and then runs a normal action to check that concurrency limits are well behaved

 tests/src/common/WskCli.java             | 21 +++++++++
 tests/src/system/basic/CLIRuleTests.java | 80 +++++++++++++++++++++++++++++++-
 2 files changed, 100 insertions(+), 1 deletion(-)

commit 2de9fbc82d1554006c63316acd853654774886b8
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Mar 11 13:34:41 2016 -0500

    Enable Slack notifications from TravisCI.
    
    The auth token has been encrypted using `travis encrypt`.

 .travis.yml | 2 ++
 1 file changed, 2 insertions(+)

commit 00af3fdcac067a068e4c1b867f4ae1bb8dec3993
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 11 13:15:03 2016 -0500

    pr64; fix links but make relative to branch.

 CONTRIBUTING.md | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 416d4cb4fcd3a3d4d4cf1c778a4a744edc4e727b
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 11 12:35:56 2016 -0500

    Correct a few errors lost in translation. Small tweaks to formatting.

 CLA-CORPORATE.md  | 104 +++++++++++++++++++++++++++++-------------------------
 CLA-INDIVIDUAL.md |  90 ++++++++++++++++++++++------------------------
 2 files changed, 98 insertions(+), 96 deletions(-)

commit ae7a11e83802a086446a9cf2a1cf1b0fab617260
Merge: a9e09909 ce35606e
Author: Stephen Fink <fink.stephen@gmail.com>
Date:   Fri Mar 11 12:25:05 2016 -0500

    Merge pull request #62 from markusthoemmes/convert_clas
    
    Convert CLAs to Markdown

commit a9e09909fdbb40fee78012a8356a4578e9ccfaa0
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 10 11:38:25 2016 -0500

    Better documentation of the CouchDB alternative.

 README.md | 58 +++++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 39 insertions(+), 19 deletions(-)

commit e3a9647f1b479ed3495d928429d14fe9285db489
Author: C0rWin <artem.barger@gmail.com>
Date:   Thu Mar 10 15:11:52 2016 +0200

    Correct script path to update folder structure.
    
    In the current folder structure there is no folder `tools/cloudant`, therefore the initialization datastore step in the tutorial doesn't make a lot sense.
    Changed it according to the available structure of the folders in the project.

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ce35606ea59314ef05cce7488ac86960fcf5c0ab
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 09:56:00 2016 +0100

    Fixing tab, minor corrections to formatting

 CLA-CORPORATE.md  | 8 +++-----
 CLA-INDIVIDUAL.md | 5 ++---
 2 files changed, 5 insertions(+), 8 deletions(-)

commit db50c88647eb6ab61bd4ff9925f99ac368585f2f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 11 09:33:40 2016 +0100

    minor corrections to individual cla

 CLA-INDIVIDUAL.md | 78 ++++++++++++++++++++++++++++++++++---------------------
 1 file changed, 48 insertions(+), 30 deletions(-)

commit eeea1d5b53d6f1db6f12de8f222d2668cc611c98
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Fri Mar 11 09:31:32 2016 +0100

    Minor corrections to corporate cla

 CLA-CORPORATE.md | 102 +++++++++++++++++++++++++++----------------------------
 1 file changed, 51 insertions(+), 51 deletions(-)

commit 23134bed50cd688a4961a0bdaa67b62fc7c4af7e
Author: Markus Thoemmes <markus.thoemmes@de.ibm.com>
Date:   Fri Mar 11 02:59:13 2016 +0100

    Converting CLAs to md to better fit into github

 CLA-CORPORATE.md             |  51 +++++++++++++++++++++++++++++++++++++++++++
 CLA-INDIVIDUAL.md            |  30 +++++++++++++++++++++++++
 openwhisk-cla-corporate.pdf  | Bin 53967 -> 0 bytes
 openwhisk-cla-individual.pdf | Bin 49736 -> 0 bytes
 4 files changed, 81 insertions(+)

commit c49fe4beb50ce373b2da3e2f4fd4a2787f8f1d1f
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Mar 10 20:38:15 2016 -0500

    Use custom pool for default factory but keep cached thread pool in dispatcher.

 common/scala/src/whisk/utils/ExecutionContextFactory.scala | 2 +-
 core/dispatcher/src/whisk/core/dispatcher/Dispatcher.scala | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit b3ae725663386ca67239b9eda90c722328a37c40
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Thu Mar 10 14:57:09 2016 -0500

    Bound thread pool and limit activation lists to 200 (at most).

 core/controller/src/whisk/core/controller/Activations.scala | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit c91673e4374b4c68cce96fcad3ecb7d1019a10bf
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 10 17:24:19 2016 -0500

    Fix warning message too.

 tools/db/createImmortalDBs.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb3b4db76eb94aef553e30895627be01ced909f9
Author: C0rWin <artem.barger@gmail.com>
Date:   Fri Mar 11 00:08:45 2016 +0200

    Change base url to use cloudant user.
    
    Currently script, tries to work with `URL_BASE="https://$USER.cloudant.com"` where `$USER` is the user of local machine (computer host), which doesn't necessary same as `OPEN_WHISK_DB_USERNAME` the actual cloudant account username. Changed script to work with `OPEN_WHISK_DB_USERNAME` instead of `$USER`.

 tools/db/createImmortalDBs.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a8443d67986f183e8953217d27203fce1d8c069e
Author: Andy Smith <andybs@us.ibm.com>
Date:   Thu Mar 10 10:10:14 2016 -0500

    adding corporate cla

 openwhisk-cla-corporate.pdf | Bin 0 -> 53967 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit f04465109d3c48386f1bbb31a34e6fdd89fe7b56
Author: Andy Smith <andybs@us.ibm.com>
Date:   Thu Mar 10 09:58:19 2016 -0500

    Changing URLs for Individual and Corporate

 CONTRIBUTING.md | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 895d957c1897743c246fce7896869bbda8c1a3d9
Author: Andy Smith <andybs@us.ibm.com>
Date:   Thu Mar 10 09:54:16 2016 -0500

    Addition of Individual CLA

 openwhisk-cla-individual.pdf | Bin 0 -> 49736 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit 5cdbfedd8e7a5ff06bc4781a8f6c5ef478b3c4c1
Author: Andy Smith <andybs@us.ibm.com>
Date:   Thu Mar 10 09:51:02 2016 -0500

    Adding the Contributing text for this repo

 CONTRIBUTING.md | 38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 2fb02b5868d648931b1ac274433bd7cd76c9821a
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Mar 8 19:59:08 2016 -0500

    Make apikey part of the run api and not passed in via docker environment variable

 .../src/whisk/core/container/WhiskContainer.scala           |  6 +++---
 core/dispatcher/src/whisk/core/invoker/Invoker.scala        |  2 +-
 core/nodejsAction/app.js                                    |  3 +--
 core/nodejsAction/runner.js                                 |  5 ++---
 core/nodejsAction/src/service.js                            |  4 +++-
 core/nodejsAction/src/whisk.js                              | 13 +++++++++++--
 6 files changed, 21 insertions(+), 12 deletions(-)

commit d922cdd80d8cd3f9a34ece29bf40db27cf102e07
Author: Perry Cheng <perry@us.ibm.com>
Date:   Mon Mar 7 13:33:34 2016 -0500

    WIP: Make containers startup into 2 phases

 .../src/whisk/core/container/ContainerPool.scala   | 38 ++++++++++++++++------
 .../src/whisk/core/container/WhiskContainer.scala  |  2 +-
 2 files changed, 29 insertions(+), 11 deletions(-)

commit 1a8dac82ad5b9df1662a773bd504ba633c9cc492
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Wed Mar 9 09:38:42 2016 -0500

    Fix Whisk cloudant param name.

 docs/catalog.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit bda7efa4ee00ed945e46d2feac4045995bba0fdb
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Mon Mar 7 08:24:39 2016 -0500

    Add REST API section.

 docs/README.md    |  4 ++--
 docs/reference.md | 56 +++++++++++++++++++++++++++++++++++++++++++++++++++++--
 2 files changed, 56 insertions(+), 4 deletions(-)

commit a4d47b392df887ad418393084810ead98bb104fa
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Mon Mar 7 08:23:37 2016 -0500

    Remove docs on dashboard.

 docs/monitoring.md | 38 --------------------------------------
 1 file changed, 38 deletions(-)

commit b9db98e7ca50701ecfec236011a897a010c09c4d
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 7 23:22:08 2016 -0500

    Proudly tell the world when the build passes.
    
    (And shame ourselves into fixing it when it doesn't.)

 README.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 88cd7fb8fc0cb12b4f73dd1925ca0cbe8d371de0
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 7 22:03:21 2016 -0500

    curl flags

 tools/db/createImmortalDBs.sh    | 4 ++--
 tools/db/loadTransientDBViews.sh | 7 ++++++-
 tools/db/wipeTransientDBs.sh     | 7 ++++++-
 3 files changed, 14 insertions(+), 4 deletions(-)

commit ff3556a6eac9a72db6f678367bd19b6d786dfd44
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Mar 7 21:26:37 2016 -0500

    Headers, and no scanCode.sh in .travis.yml.

 .travis.yml                                              |  1 -
 .../scala/src/whisk/core/database/CloudantProvider.scala | 16 ++++++++++++++++
 .../src/whisk/core/database/CouchDbLikeProvider.scala    | 16 ++++++++++++++++
 .../scala/src/whisk/core/database/CouchDbProvider.scala  | 16 ++++++++++++++++
 common/scala/src/whisk/core/database/CouchDbStore.scala  | 16 ++++++++++++++++
 common/scala/src/whisk/core/database/package.scala       | 16 ++++++++++++++++
 6 files changed, 80 insertions(+), 1 deletion(-)

commit 06bb45d7c160a096e10ddb5a4164688be0b14aef
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 3 11:10:12 2016 -0500

    Enable full testing on Travis CI.
    
    This build enables full builds with full testing of the repository on Travis
    CI. The setup is to initialize a CouchDB instance and use it as the datastore
    for the entire test suite. The build passes if and only if all tests pass.

 .travis.yml           | 15 ++++++++++++---
 tools/travis/setup.sh |  6 +-----
 2 files changed, 13 insertions(+), 8 deletions(-)

commit 31c24a4819a0c9b66dce91e55ba2c272827c9d2c
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 3 11:09:57 2016 -0500

    Refactor DB startup/setup script.

 start-couchdb-box.sh                  | 38 ------------------------
 tools/db/couchdb/start-couchdb-box.sh | 55 +++++++++++++++++++++++++++++++++++
 tools/db/createImmortalDBs.sh         | 15 +++++-----
 3 files changed, 63 insertions(+), 45 deletions(-)

commit 2f2726687ab7949e9e5c983e9d81cefd0cdce3bf
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 3 11:06:36 2016 -0500

    Less output when building whisk/swiftAction.
    
    Do not let downloads and tar extraction pollute the logs with progress information.

 core/swiftAction/Dockerfile | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit c58e1c2903d530d5200e8ffbae58052c0b4848e0
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 3 11:04:13 2016 -0500

    Flag to make ant fail if any test fails.
    
    This flag is useful in Travis CI, so that we can just run `ant run` and have
    the build turn green or red as appropriate.

 config/config.xml | 7 +++++++
 tests/build.xml   | 6 ++++++
 2 files changed, 13 insertions(+)

commit 787a7e78c23ad5a4dcd9c4e10cff0740973114b4
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Thu Mar 3 11:02:29 2016 -0500

    Unmask hidden failures.
    
    This test was using Try.map(f), which had the effect of hiding a failure in f.
    As a result, the test failed with "cannot parse JSON" while the real issue was
    completely different (cannot run a shell script).

 tests/src/system/rest/ActionSchemaTests.scala | 26 +++++++++++++++-----------
 1 file changed, 15 insertions(+), 11 deletions(-)

commit d1b20ed994e46c1a1c77fee0cff84078326e9cb8
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Fri Feb 26 11:10:47 2016 -0500

    Support for CouchDb
    
    The most obvious change is a refactoring of CloudantStore into
    CouchDbLikeStore.  Most complex code is shared between CouchDb and Cloudant
    providers. This is relatively difficult to achieve due to the fact that the
    CouchDb and Cloudant APIs are type-incompatible, despite performing basically
    the exact same operations. The consequence is the existence of the classes
    `CouchDbProvider` and `CloudantProvider` which expose all operations through
    type members.

 README.md                                          |  10 +-
 build.xml                                          |   8 +-
 common/scala/src/whisk/core/WhiskConfig.scala      |  26 +-
 .../src/whisk/core/database/ArtifactStore.scala    |   5 +-
 .../scala/src/whisk/core/database/Cloudant.scala   |  66 ------
 .../src/whisk/core/database/CloudantProvider.scala |  99 ++++++++
 .../src/whisk/core/database/CloudantStore.scala    | 248 +-------------------
 .../whisk/core/database/CouchDbLikeProvider.scala  |  47 ++++
 .../src/whisk/core/database/CouchDbLikeStore.scala | 261 +++++++++++++++++++++
 .../src/whisk/core/database/CouchDbProvider.scala  |  93 ++++++++
 .../src/whisk/core/database/CouchDbStore.scala     |   9 +
 common/scala/src/whisk/core/database/package.scala |   9 +
 common/scala/src/whisk/core/entity/DocInfo.scala   |  24 +-
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  50 ++--
 .../schema/migration/MigrationAssistant.scala      |   6 +-
 config/cloudantSetup.sh                            |  46 ----
 config/dbSetup.sh                                  |  84 +++++++
 config/localEnv.sh                                 |  33 ++-
 config/writePropertyFile.sh                        |  28 ++-
 services/couchdb/Dockerfile                        |   1 +
 start-couchdb-box.sh                               |  38 +++
 tests/src/whisk/common/CryptTests.scala            |   3 +-
 tests/src/whisk/core/database/test/DbUtils.scala   |   2 +-
 .../whisk/core/entity/test/ConformanceTests.scala  |  94 +++++---
 tools/cli/wskadmin                                 |  75 +++---
 tools/db/couchdb/createAdmin.sh                    |  50 ++++
 tools/{cloudant => db}/createImmortalDBs.sh        |  53 +++--
 tools/{cloudant => db}/loadTransientDBViews.sh     |  18 +-
 tools/{cloudant => db}/wipeTransientDBs.sh         |  23 +-
 29 files changed, 994 insertions(+), 515 deletions(-)

commit f61f7895132a1517bfaf47d618cdb21840d99e10
Author: Perry Cheng <perry@us.ibm.com>
Date:   Sun Mar 6 19:01:50 2016 -0500

    Defer docker pause operation until after activation log is written so transaction completes faster

 core/dispatcher/src/whisk/core/invoker/Invoker.scala | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 2b294f0c1d25a69ce6e43e3da5328fa3ca51c1fa
Author: Perry Cheng <perry@us.ibm.com>
Date:   Sun Mar 6 12:35:49 2016 -0500

    Correct predicate to work whether local or not

 core/dispatcher/src/whisk/core/container/WhiskContainer.scala | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 6728490674e61bbaf1c407311307be7ef1169ff7
Author: Perry Cheng <perry@us.ibm.com>
Date:   Fri Mar 4 19:56:39 2016 -0500

    Fix blackbox predicate; logging cleanup

 common/scala/src/whisk/common/SimpleExec.scala                | 1 +
 core/dispatcher/src/whisk/core/container/ContainerUtils.scala | 4 ++--
 core/dispatcher/src/whisk/core/container/WhiskContainer.scala | 6 +++---
 core/dispatcher/src/whisk/core/invoker/Invoker.scala          | 2 ++
 4 files changed, 8 insertions(+), 5 deletions(-)

commit 7e2e38a119eb5cf45ffbeff0bd772e870ba42871
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 4 17:41:35 2016 -0500

    Added test fixture to sanitize entities before and after tests. This pattern avoids mistakenly sanitizing entities in the wrong collection and simplifies writing tests.

 tests/src/common/WskTestHelpers.scala      |  84 +++++++++
 tests/src/system/basic/WskBasicTests.scala | 283 ++++++++++++-----------------
 2 files changed, 205 insertions(+), 162 deletions(-)

commit 8ecc51c825e84cd2e47306589ed6e1d6dd7046bd
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 4 17:40:57 2016 -0500

    Remove bogus failure case - this was accidentally commited some time ago.

 core/controller/src/whisk/core/entitlement/Entitlement.scala | 2 --
 1 file changed, 2 deletions(-)

commit 370bbb5d66a403120c85a2006e341da97bb5af39
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Fri Mar 4 17:40:38 2016 -0500

    Remove references to unsupported python versions.

 tools/cli/packagescripts/setup.py | 8 +-------
 1 file changed, 1 insertion(+), 7 deletions(-)

commit f2c0ceff904c9de6f970d8ec39140e75696e24d6
Author: Perry Cheng <perry@us.ibm.com>
Date:   Wed Mar 2 10:54:44 2016 -0500

    Replay UserActivatiohnCount work

 common/scala/src/whisk/common/ConsulKV.scala       |  8 +--
 .../src/whisk/core/invoker/Invoker.scala           | 15 ++++--
 .../core/loadBalancer/ActivationThrottle.scala     | 62 ++++++++++++++++++----
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  4 ++
 .../src/whisk/core/loadBalancer/LoadBalancer.scala |  9 ++--
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  8 +--
 6 files changed, 83 insertions(+), 23 deletions(-)

commit ff24abbd6f66e80234b06cfe3b1bc8da29c61ddc
Author: Stephen Fink <fink.stephen@gmail.com>
Date:   Thu Mar 3 16:11:09 2016 -0500

    small tweak to install instructions

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afb1e1798d0dc22353350630ad2d69110fa1104a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 2 17:22:33 2016 -0500

    Fixes issue #36: Removes datastore credentials from stdout. Also removes echo of system keys to stdout.
    
    Also in this commit: added a test to list assets in default namespace regardless of test overrides in basic CLI tests.

 catalog/installCatalog.sh                  |  2 --
 catalog/util.sh                            |  1 -
 tests/src/system/basic/WskBasicTests.scala |  4 +++-
 tools/cloudant/loadTransientDBViews.sh     |  4 ++--
 tools/cloudant/wipeTransientDBs.sh         | 13 ++++++-------
 5 files changed, 11 insertions(+), 13 deletions(-)

commit ddbe5d55ca25d486b0dca2d64cd53be566cb930d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 2 14:33:50 2016 -0500

    Refactor overload and throttle checks to allow for overrides.

 .../src/whisk/core/entitlement/Entitlement.scala   | 109 +++++++++++----------
 .../src/whisk/core/entitlement/RateThrottler.scala |  13 ++-
 2 files changed, 62 insertions(+), 60 deletions(-)

commit fc5c6ccc2a0394f261fae35bb17b6804fb281d8d
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Wed Mar 2 14:05:43 2016 -0500

    Make build sequential.
    
    Several users have reported failures to build/deploy with current settings which perform parallel build steps. Set the defaults for parallel build threads, tests threads, etc to 1. And provide instructions how to override these for parallelism.

 README.md         | 13 +++++++++++++
 config/config.xml | 18 ++++++++++++++----
 2 files changed, 27 insertions(+), 4 deletions(-)

commit 4ae6d84d7a7debb907e9e07e04ea25126c388a3a
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 1 16:02:10 2016 -0500

    Add code convention scanner to build. Remove from Travis config since it is now part of the build step.

 .travis.yml             |  1 -
 build.xml               | 12 +++++++++++-
 tools/build/scanCode.sh | 13 ++++++-------
 3 files changed, 17 insertions(+), 9 deletions(-)

commit 8ab03f78413f34ad42719c87e5f8b2eb814683d0
Author: Frederic Lavigne <l2fprod@users.noreply.github.com>
Date:   Wed Mar 2 17:13:58 2016 +0100

    Update whisk.js
    
    Remove log statement that was likely coming from a debug session

 core/nodejsAction/src/whisk.js | 2 --
 1 file changed, 2 deletions(-)

commit bb981e9bd2cd999ee9d61966226d4bef650775d8
Author: Perry Cheng <perry@us.ibm.com>
Date:   Tue Mar 1 12:36:58 2016 -0500

    Trigger Throttle

 .../src/whisk/core/entitlement/Collection.scala      |  4 ++--
 .../src/whisk/core/entitlement/Entitlement.scala     | 20 ++++++++++++++------
 .../src/whisk/core/entitlement/RateThrottler.scala   |  6 +++---
 tests/src/common/WskCli.java                         |  7 +++++++
 4 files changed, 26 insertions(+), 11 deletions(-)

commit c921cc53932ad456871205a653d10b4ba40bc1f5
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Tue Mar 1 10:34:12 2016 -0500

    Add unit test for missing authentication on required authenticated command.

 services/nginx/build.xml                   | 11 ++++++-----
 tests/src/system/basic/WskBasicTests.scala |  9 +++++++++
 tools/cli/wskutil.py                       |  7 ++-----
 3 files changed, 17 insertions(+), 10 deletions(-)

commit b44a15337842d8a107f105cbde133d3b661f8ad0
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Feb 27 17:57:38 2016 -0500

    Prevent API request if authkey is not set and print error if API host is not set.
    
    The authentication key may be derived from a saved property file or from the command line as an optional argument to override the property file.
    But if the property file does not exist, and the command line override is not set, then the API request is made and fails with "authentication
    required".
    
    This commit factors all the authenticated commands so that there is a single point where the authentication argument is added to a command or sub-command.
    It is more convenient then to make the auth key a required positional argument. This is not done at this point however as it will require some changes to the
    unit tests.
    
    This commit also includes a fix for issue #29. If default.props does not exist because CLI was not built, then CLI should still be usable if user provides an API host override. Hence, allow for missing default properties file but raise an error if trying to do any operation against the API.

 tools/cli/wsk              | 41 ++++++++++++++++++++++++-----------------
 tools/cli/wskaction.py     | 16 ++++++++--------
 tools/cli/wskactivation.py | 39 +++++++++++++++++++--------------------
 tools/cli/wskitem.py       |  8 ++++----
 tools/cli/wsknamespace.py  | 10 +++++-----
 tools/cli/wskpackage.py    | 26 +++++++++++++-------------
 tools/cli/wskprop.py       |  4 ++--
 tools/cli/wskrule.py       | 16 ++++++++--------
 tools/cli/wsksdk.py        |  2 +-
 tools/cli/wsktrigger.py    | 10 +++++-----
 tools/cli/wskutil.py       | 42 +++++++++++++++++++++++++-----------------
 11 files changed, 114 insertions(+), 100 deletions(-)

commit 28f19bbf4c8aecb4dc0492d7fc28a4bf618e959d
Author: rodric rabbah <rodric@gmail.com>
Date:   Sat Feb 27 22:13:41 2016 -0500

    Add python requirement to top level README
    
    Address issue #24 by adding a tip that Python 2.7 is required if using a system not described in the installation (e.g., RedHat).

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit cc17c150c9ef53f725cfb5727ad1cbf86b31beac
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Feb 27 16:05:05 2016 -0500

    Update vagrant instructions for shared mode so that reload and provision all used shared mode.
    
    Add mini table of content for the various installation options (ubuntu, vagrant, mac) with links to skip to the build step after installing required software.
    
    Update TOC for configuring system.

 README.md                 | 24 +++++++++++++++---------
 tools/vagrant/Vagrantfile |  2 +-
 2 files changed, 16 insertions(+), 10 deletions(-)

commit 3b51155c11276ed8ccaaa786aa697f7dbb0e7ed8
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Feb 27 14:49:42 2016 -0500

    Update installation instructions.
    
    Refactored and organized installation instructions so that Vagrant instructions work on Windows without mounting a shared file system. Leave shared mode for Mac users. Add a guarded Vagrant provisioning for shared mode.
    
    Also supressed docker version which might fail in Vagrant vms unless machine was reloaded. And, added a bash profile setup to configure PATH and tab completion but this is not run automatically unless provisioning a shared Vagrant machine. This script will overwrite .bash_profile if it exists.

 .pydevproject                     |   5 ++
 README.md                         | 108 +++++++++++++++++++++++++++++---------
 tools/ubuntu-setup/bashprofile.sh |   4 ++
 tools/ubuntu-setup/docker.sh      |   4 +-
 tools/vagrant/Vagrantfile         |  28 ++++++----
 5 files changed, 112 insertions(+), 37 deletions(-)

commit 38548825dba061e29cc13ba411583de2fecb8232
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Fri Feb 26 22:25:55 2016 -0500

    Remove unused parameter in date action.

 catalog/utils/date.js | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2c482185f2ab30926efab4dd4ab49b8e902ad8f0
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Thu Feb 25 11:33:05 2016 -0500

    Various edits to docs.

 docs/README.md         |  6 +++---
 docs/about.md          | 12 ++++++------
 docs/actions.md        | 34 +++++++++++++++++-----------------
 docs/catalog.md        | 18 +++++++++---------
 docs/mobile_sdk.md     | 14 ++++++++++++--
 docs/packages.md       |  4 ++--
 docs/reference.md      | 46 +++++++++++++++++++++++-----------------------
 docs/triggers_rules.md |  6 +++---
 8 files changed, 75 insertions(+), 65 deletions(-)

commit 67c29385058def06d48f9f655d8fc0fe2d561aaf
Author: Philippe Suter <philippe.suter@gmail.com>
Date:   Thu Feb 25 00:32:11 2016 -0500

    Fixed second link to swagger ui (REST API)

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9f422b6686fa2acc10e65a1dfc6a3b41bfdf0d7c
Merge: 87e3ebc6 8d33b27f
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 24 13:40:12 2016 +0100

    Merge pull request #12 from vinodmut/docs
    
    Fix link to alarm service example.

commit 8d33b27faef14623fdcb1e02731bd05af7d7f7aa
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Tue Feb 23 15:37:45 2016 -0500

    Fix link to alarm service example.

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 87e3ebc69b3be1d630e177fc64d88f5ac9fae96d
Merge: 690dd7da 187c8e26
Author: Markus Thömmes <markusthoemmes@me.com>
Date:   Wed Feb 24 13:07:28 2016 +0100

    Merge pull request #14 from vinodmut/travisbuild
    
    Build project in Travis CI

commit 187c8e2638b22e157bc273df695cbdebb9eabeab
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Mon Feb 22 22:50:29 2016 -0500

    Build project in Travis CI.

 .travis.yml               | 20 +++++++++++++++++---
 tools/travis/setup.sh     | 24 ++++++++++++++++++++++++
 tools/ubuntu-setup/ant.sh |  0
 tools/ubuntu-setup/pip.sh |  0
 4 files changed, 41 insertions(+), 3 deletions(-)

commit 690dd7da1976556dd73eb77a79f3f39fb63951e9
Author: Philippe Suter <psuter@us.ibm.com>
Date:   Mon Feb 22 15:51:52 2016 -0500

    Compile+run rather than interpret Swift actions.
    
    Swift actions are now compiled at `init` time, then ran as a simple binary,
    rather than always be interpreted using `swift`. First invocation is only
    slighltly slower, all following are dramatically faster. Compile-time errors
    are reported as before. Note that if/when the container gets garbage-collected,
    the binary is not persisted so will be recompiled at following deployment.

 core/swiftAction/Dockerfile                        |  6 ++--
 core/swiftAction/proxy.py                          | 42 +++++++++++++++++-----
 .../SwiftActionContainerTests.scala                | 22 ++++++------
 3 files changed, 47 insertions(+), 23 deletions(-)

commit bc8982499867dcff51424359298347840cccb348
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Mon Feb 22 22:50:29 2016 -0500

    Use Travis-CI to test for code conventions.

 .travis.yml | 6 ++++++
 1 file changed, 6 insertions(+)

commit 1847fdb7e9127e6dfab0723329e67929fb64aefe
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Tue Feb 23 00:24:39 2016 -0500

    Add script to check for code conventions.

 tools/build/scanCode.sh | 60 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit e1912074b6992702c4f238455ffd77d30c6737b5
Author: sjfink <fink.stephen@gmail.com>
Date:   Tue Feb 23 02:29:23 2016 -0500

    fix broken markdown link for alarms documentation

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 126415302c144aae9151d5dbdb4b5c00f62b611d
Author: sjfink <fink.stephen@gmail.com>
Date:   Tue Feb 23 02:28:28 2016 -0500

    fix broken markdown link for alarms documentation

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ca4e782472a8006941c80f0643a2e68fce2bd8b0
Merge: 258b31e4 0a437e41
Author: rodric rabbah <rodric@gmail.com>
Date:   Mon Feb 22 16:32:42 2016 -0800

    Merge pull request #9 from matthewmccullough/patch-1
    
    Correct spelling of OpenWhisk

commit 0a437e41065399b7f6a96a673338176bfbf36150
Author: Matthew J. McCullough <matthew@github.com>
Date:   Mon Feb 22 16:29:29 2016 -0800

    Correct spelling of OpenWhisk

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 258b31e42bee9aa51b97b18e428d7d648bec953d
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Mon Feb 22 17:55:24 2016 -0500

    Fix link to Swagger doc.

 docs/README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 88cb9961d5d3553026a94113908a3867a6d76170
Author: Vinod Muthusamy <vmuthus@us.ibm.com>
Date:   Sat Feb 20 16:51:00 2016 -0500

    Add documentation.
    
    fix typos.

 README.md              |  13 ++
 docs/OpenWhisk.png     | Bin 0 -> 95551 bytes
 docs/README.md         |  87 +++++++++
 docs/about.md          |  42 +++++
 docs/actions.md        | 502 +++++++++++++++++++++++++++++++++++++++++++++++++
 docs/catalog.md        | 453 ++++++++++++++++++++++++++++++++++++++++++++
 docs/mobile_sdk.md     | 198 +++++++++++++++++++
 docs/monitoring.md     |  38 ++++
 docs/packages.md       | 412 ++++++++++++++++++++++++++++++++++++++++
 docs/reference.md      | 312 ++++++++++++++++++++++++++++++
 docs/triggers_rules.md | 143 ++++++++++++++
 11 files changed, 2200 insertions(+)

commit 083fe0c369414c7a1bbfb1be04f891d790db49ee
Author: Rodric Rabbah <rabbah@us.ibm.com>
Date:   Sat Feb 20 08:44:17 2016 -0500

    Pass authkey to feed delete.

 tools/cli/wsktrigger.py | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit daeb509bbddd94b7df8ff48f4b96cf821c34dc72
Author: OpenWhisk <no-reply@us.ibm.com>
Date:   Fri Feb 19 17:47:33 2016 -0500

    Initial OpenWhisk commit

 .gitignore                                         |   14 +
 .project                                           |  102 +
 LICENSE.txt                                        |  202 ++
 README.md                                          |  249 +++
 bin/wsk                                            |    1 +
 bin/wskadmin                                       |    1 +
 build.xml                                          |  141 ++
 catalog/github/webhook.js                          |   64 +
 catalog/installCatalog.sh                          |   27 +
 catalog/installGit.sh                              |   28 +
 catalog/installSlack.sh                            |   27 +
 catalog/installSystem.sh                           |   37 +
 catalog/installWatson.sh                           |   33 +
 catalog/installWeather.sh                          |   29 +
 catalog/samples/countdown.js                       |   18 +
 catalog/samples/curl.js                            |   31 +
 catalog/samples/echo.js                            |    6 +
 catalog/samples/greeting.js                        |   12 +
 catalog/samples/hello.js                           |    6 +
 catalog/samples/hello.swift                        |   10 +
 catalog/samples/helloAsync.js                      |   19 +
 catalog/samples/printParams.js                     |   25 +
 catalog/samples/wc.js                              |   10 +
 catalog/samples/wcbin.js                           |   27 +
 catalog/slack/post.js                              |   59 +
 catalog/util.sh                                    |   60 +
 catalog/utils/cat.js                               |   21 +
 catalog/utils/date.js                              |    8 +
 catalog/utils/head.js                              |   14 +
 catalog/utils/pipe.js                              |   66 +
 catalog/utils/sort.js                              |   14 +
 catalog/watson/languageId.js                       |   38 +
 catalog/watson/translate.js                        |  210 ++
 catalog/weather/forecast.js                        |   50 +
 common/build.xml                                   |   64 +
 common/js/.project                                 |   17 +
 common/js/Dockerfile                               |   42 +
 common/libs/.project                               |   11 +
 common/libs/common/cloudant-client-1.0.1.jar       |  Bin 0 -> 110859 bytes
 common/libs/common/commons-codec-1.9.jar           |  Bin 0 -> 263965 bytes
 common/libs/common/commons-io-2.4.jar              |  Bin 0 -> 185140 bytes
 common/libs/common/commons-logging-1.2.jar         |  Bin 0 -> 61829 bytes
 .../common/concurrentlinkedhashmap-lru-1.3.1.jar   |  Bin 0 -> 54436 bytes
 common/libs/common/gson-2.3.1.jar                  |  Bin 0 -> 210856 bytes
 common/libs/common/httpclient-4.4.1.jar            |  Bin 0 -> 720931 bytes
 common/libs/common/httpcore-4.4.1.jar              |  Bin 0 -> 322234 bytes
 common/libs/common/kafka-clients-0.8.2.0.jar       |  Bin 0 -> 323723 bytes
 common/libs/common/kafka-clients-0.9.0.0.jar       |  Bin 0 -> 633710 bytes
 common/libs/common/kafka_2.11-0.8.2.0.jar          |  Bin 0 -> 3956172 bytes
 common/libs/common/log4j-1.2.16.jar                |  Bin 0 -> 481535 bytes
 common/libs/common/messagehub.login-1.0.0.jar      |  Bin 0 -> 7746 bytes
 common/libs/common/metrics-core-2.2.0.jar          |  Bin 0 -> 82123 bytes
 common/libs/common/scala-library-2.11.6.jar        |  Bin 0 -> 5564007 bytes
 .../common/scala-parser-combinators_2.11-1.0.2.jar |  Bin 0 -> 416065 bytes
 common/libs/common/scala-xml_2.11-1.0.3.jar        |  Bin 0 -> 647893 bytes
 common/libs/common/slf4j-api-1.7.6.jar             |  Bin 0 -> 28688 bytes
 common/libs/common/slf4j-log4j12-1.6.1.jar         |  Bin 0 -> 9753 bytes
 common/libs/common/zkclient-0.3.jar                |  Bin 0 -> 64009 bytes
 common/libs/common/zookeeper-3.4.6.jar             |  Bin 0 -> 792964 bytes
 common/libs/spray/akka-actor_2.11-2.3.9.jar        |  Bin 0 -> 2571077 bytes
 common/libs/spray/akka-slf4j_2.11-2.3.9.jar        |  Bin 0 -> 15459 bytes
 common/libs/spray/apache-log4j-extras-1.2.17.jar   |  Bin 0 -> 448794 bytes
 common/libs/spray/config-1.2.1.jar                 |  Bin 0 -> 219554 bytes
 common/libs/spray/mimepull-1.9.5.jar               |  Bin 0 -> 63621 bytes
 common/libs/spray/parboiled-core-1.1.7.jar         |  Bin 0 -> 186607 bytes
 common/libs/spray/parboiled-scala_2.11-1.1.7.jar   |  Bin 0 -> 233224 bytes
 common/libs/spray/shapeless_2.11-1.2.4.jar         |  Bin 0 -> 1259355 bytes
 common/libs/spray/spray-caching_2.11-1.3.3.jar     |  Bin 0 -> 29468 bytes
 common/libs/spray/spray-can_2.11-1.3.3.jar         |  Bin 0 -> 720710 bytes
 common/libs/spray/spray-client-1.3.1.jar           |  Bin 0 -> 45098 bytes
 common/libs/spray/spray-http_2.11-1.3.3.jar        |  Bin 0 -> 1502842 bytes
 common/libs/spray/spray-httpx_2.11-1.3.3.jar       |  Bin 0 -> 437070 bytes
 common/libs/spray/spray-io_2.11-1.3.3.jar          |  Bin 0 -> 189178 bytes
 common/libs/spray/spray-json_2.11-1.3.2.jar        |  Bin 0 -> 286389 bytes
 common/libs/spray/spray-routing_2.11-1.3.3.jar     |  Bin 0 -> 1064515 bytes
 common/libs/spray/spray-util_2.11-1.3.3.jar        |  Bin 0 -> 128702 bytes
 common/libs/testing/commons-exec-1.1.jar           |  Bin 0 -> 52543 bytes
 common/libs/testing/commons-lang3-3.3.2.jar        |  Bin 0 -> 412739 bytes
 common/libs/testing/commons-logging-1.1.3.jar      |  Bin 0 -> 62050 bytes
 common/libs/testing/groovy-2.4.3.jar               |  Bin 0 -> 4535608 bytes
 common/libs/testing/groovy-json-2.4.3.jar          |  Bin 0 -> 120769 bytes
 common/libs/testing/groovy-xml-2.4.3.jar           |  Bin 0 -> 210752 bytes
 common/libs/testing/guava-18.0.jar                 |  Bin 0 -> 2256213 bytes
 common/libs/testing/hamcrest-core-1.3.jar          |  Bin 0 -> 45024 bytes
 common/libs/testing/httpmime-4.3.6.jar             |  Bin 0 -> 37272 bytes
 common/libs/testing/junit-4.11.jar                 |  Bin 0 -> 245039 bytes
 common/libs/testing/rest-assured-2.4.1.jar         |  Bin 0 -> 672420 bytes
 common/libs/testing/scalatest_2.11-2.2.4.jar       |  Bin 0 -> 7185789 bytes
 common/libs/testing/selenium-java-2.45.0.jar       |  Bin 0 -> 3898959 bytes
 common/libs/testing/spray-testkit_2.11-1.3.3.jar   |  Bin 0 -> 74852 bytes
 .../testing/tempus-fugit-1.2-20140129.191141-5.jar |  Bin 0 -> 67061 bytes
 common/scala/.classpath                            |   44 +
 common/scala/.gitignore                            |    2 +
 common/scala/.project                              |   18 +
 common/scala/Dockerfile                            |   24 +
 common/scala/src/application.conf                  |    2 +
 common/scala/src/log4j.properties                  |   37 +
 common/scala/src/logging.conf                      |    4 +
 common/scala/src/whisk/common/Config.scala         |  167 ++
 common/scala/src/whisk/common/ConsulKV.scala       |  180 ++
 .../scala/src/whisk/common/ConsulKVReporter.scala  |   52 +
 .../src/whisk/common/ConsulServiceCheck.scala      |   93 +
 .../src/whisk/common/ConsulServiceHealth.scala     |   65 +
 common/scala/src/whisk/common/Counter.scala        |   35 +
 common/scala/src/whisk/common/Crypt.scala          |   47 +
 common/scala/src/whisk/common/Curl.scala           |   32 +
 common/scala/src/whisk/common/DateUtil.scala       |   51 +
 common/scala/src/whisk/common/HttpClient.scala     |   40 +
 common/scala/src/whisk/common/HttpUtils.scala      |  167 ++
 common/scala/src/whisk/common/Logging.scala        |  132 ++
 common/scala/src/whisk/common/SimpleExec.scala     |   34 +
 .../connector/kafka/KafkaConsumerConnector.scala   |   96 +
 .../connector/kafka/KafkaProducerConnector.scala   |   89 +
 common/scala/src/whisk/core/WhiskConfig.scala      |  175 ++
 .../whisk/core/connector/LoadbalancerRequest.scala |   60 +
 .../scala/src/whisk/core/connector/Message.scala   |   75 +
 .../src/whisk/core/connector/MessageConsumer.scala |   25 +
 .../src/whisk/core/connector/MessageProducer.scala |   32 +
 .../src/whisk/core/database/ArtifactStore.scala    |   90 +
 .../scala/src/whisk/core/database/Cloudant.scala   |   66 +
 .../src/whisk/core/database/CloudantStore.scala    |  245 +++
 .../src/whisk/core/database/DocumentFactory.scala  |  206 ++
 .../src/whisk/core/database/InMemoryCache.scala    |   72 +
 .../scala/src/whisk/core/entity/ActivationId.scala |   91 +
 .../src/whisk/core/entity/ActivationLogs.scala     |   65 +
 .../src/whisk/core/entity/ActivationResult.scala   |  101 +
 .../src/whisk/core/entity/ArgNormalizer.scala      |   50 +
 common/scala/src/whisk/core/entity/AuthKey.scala   |   81 +
 common/scala/src/whisk/core/entity/DocInfo.scala   |  144 ++
 common/scala/src/whisk/core/entity/Exec.scala      |  147 ++
 common/scala/src/whisk/core/entity/Limits.scala    |  121 ++
 .../scala/src/whisk/core/entity/MemoryLimit.scala  |   73 +
 common/scala/src/whisk/core/entity/Namespace.scala |  151 ++
 common/scala/src/whisk/core/entity/Parameter.scala |  185 ++
 common/scala/src/whisk/core/entity/Secret.scala    |   78 +
 common/scala/src/whisk/core/entity/SemVer.scala    |  100 +
 common/scala/src/whisk/core/entity/Subject.scala   |   68 +
 common/scala/src/whisk/core/entity/TimeLimit.scala |   91 +
 common/scala/src/whisk/core/entity/UUID.scala      |   70 +
 .../scala/src/whisk/core/entity/WhiskAction.scala  |  180 ++
 .../src/whisk/core/entity/WhiskActivation.scala    |  140 ++
 common/scala/src/whisk/core/entity/WhiskAuth.scala |  158 ++
 .../scala/src/whisk/core/entity/WhiskEntity.scala  |  120 ++
 .../scala/src/whisk/core/entity/WhiskPackage.scala |  240 +++
 common/scala/src/whisk/core/entity/WhiskRule.scala |  219 +++
 .../scala/src/whisk/core/entity/WhiskStore.scala   |  306 +++
 .../scala/src/whisk/core/entity/WhiskTrigger.scala |  102 +
 .../whisk/core/entity/schema/ActionRecord.scala    |   53 +
 .../core/entity/schema/ActivationRecord.scala      |   53 +
 .../src/whisk/core/entity/schema/AuthRecord.scala  |   37 +
 .../whisk/core/entity/schema/EntityLimits.scala    |   32 +
 .../core/entity/schema/EntityParameters.scala      |   32 +
 .../whisk/core/entity/schema/EntityRecord.scala    |   65 +
 .../whisk/core/entity/schema/PackageRecord.scala   |   50 +
 .../src/whisk/core/entity/schema/Record.scala      |   36 +
 .../src/whisk/core/entity/schema/RuleRecord.scala  |   51 +
 .../whisk/core/entity/schema/TriggerRecord.scala   |   47 +
 .../schema/migration/MigrationAssistant.scala      |   89 +
 common/scala/src/whisk/http/BasicHttpService.scala |  122 ++
 common/scala/src/whisk/http/BasicRasService.scala  |   57 +
 common/scala/src/whisk/http/ErrorResponse.scala    |   50 +
 .../src/whisk/utils/ExecutionContextFactory.scala  |   80 +
 common/scala/src/whisk/utils/JsonUtils.scala       |   92 +
 common/scala/src/whisk/utils/Retry.scala           |   47 +
 config/cloudantSetup.sh                            |   46 +
 config/config.xml                                  |  165 ++
 config/keys/auth.guest                             |    1 +
 config/keys/auth.whisk.system                      |    1 +
 config/keys/openwhisk-self-cert.pem                |   19 +
 config/keys/openwhisk-self-key.pem                 |   27 +
 config/localEnv.sh                                 |   81 +
 config/setupProps.sh                               |   18 +
 config/writePropertyFile.sh                        |  171 ++
 core/build.xml                                     |   51 +
 core/controller/.classpath                         |    8 +
 core/controller/.gitignore                         |    2 +
 core/controller/.project                           |   18 +
 core/controller/Dockerfile                         |   19 +
 core/controller/build.xml                          |  131 ++
 core/controller/src/resources/application.conf     |    8 +
 core/controller/src/resources/whiskswagger.json    | 2072 ++++++++++++++++++++
 .../src/whisk/core/controller/Actions.scala        |  514 +++++
 .../src/whisk/core/controller/Activations.scala    |  213 ++
 .../src/whisk/core/controller/ApiUtils.scala       |  361 ++++
 .../src/whisk/core/controller/Authenticate.scala   |   84 +
 .../whisk/core/controller/AuthenticatedRoute.scala |   45 +
 .../controller/AuthorizedRouteDispatcher.scala     |  173 ++
 .../src/whisk/core/controller/Backend.scala        |   77 +
 .../src/whisk/core/controller/Controller.scala     |   74 +
 .../src/whisk/core/controller/Entities.scala       |  116 ++
 .../src/whisk/core/controller/Namespaces.scala     |  145 ++
 .../src/whisk/core/controller/Packages.scala       |  317 +++
 .../src/whisk/core/controller/RestAPIs.scala       |  225 +++
 .../src/whisk/core/controller/Rules.scala          |  395 ++++
 .../src/whisk/core/controller/Triggers.scala       |  281 +++
 .../src/whisk/core/entitlement/Collection.scala    |  141 ++
 .../src/whisk/core/entitlement/Entitlement.scala   |  207 ++
 .../whisk/core/entitlement/LocalEntitlement.scala  |   72 +
 .../whisk/core/entitlement/PackageCollection.scala |  115 ++
 .../src/whisk/core/entitlement/Privilege.scala     |   31 +
 .../src/whisk/core/entitlement/RateThrottler.scala |   89 +
 .../whisk/core/entitlement/RemoteEntitlement.scala |  150 ++
 core/controller/startController.sh                 |   14 +
 core/dispatcher/.classpath                         |    8 +
 core/dispatcher/.gitignore                         |    2 +
 core/dispatcher/.project                           |   18 +
 core/dispatcher/Dockerfile                         |   14 +
 core/dispatcher/build.xml                          |  136 ++
 core/dispatcher/src/resources/application.conf     |    7 +
 .../src/whisk/core/activator/Activator.scala       |  234 +++
 .../src/whisk/core/activator/PostInvoke.scala      |  113 ++
 .../src/whisk/core/container/Container.scala       |   94 +
 .../src/whisk/core/container/ContainerPool.scala   |  461 +++++
 .../src/whisk/core/container/ContainerUtils.scala  |  221 +++
 .../src/whisk/core/container/WhiskContainer.scala  |  156 ++
 .../src/whisk/core/dispatcher/DispatchRule.scala   |   51 +
 .../src/whisk/core/dispatcher/Dispatcher.scala     |  195 ++
 .../src/whisk/core/dispatcher/Matcher.scala        |   93 +
 .../src/whisk/core/invoker/Invoker.scala           |  418 ++++
 .../src/whisk/core/invoker/InvokerServer.scala     |   89 +
 core/dispatcher/startDispatcher.sh                 |   12 +
 core/loadBalancer/.classpath                       |    8 +
 core/loadBalancer/.gitignore                       |    2 +
 core/loadBalancer/.project                         |   18 +
 core/loadBalancer/Dockerfile                       |   11 +
 core/loadBalancer/build.xml                        |  125 ++
 core/loadBalancer/src/resources/application.conf   |    7 +
 .../core/loadBalancer/ActivationThrottle.scala     |  123 ++
 .../whisk/core/loadBalancer/InvokerHealth.scala    |  183 ++
 .../src/whisk/core/loadBalancer/LoadBalancer.scala |   98 +
 .../core/loadBalancer/LoadBalancerService.scala    |   81 +
 .../core/loadBalancer/LoadBalancerToKafka.scala    |  117 ++
 core/loadBalancer/startLoadBalancer.sh             |   16 +
 core/nodejsAction/.project                         |   17 +
 core/nodejsAction/Dockerfile                       |   25 +
 core/nodejsAction/app.js                           |   64 +
 core/nodejsAction/build.xml                        |   26 +
 core/nodejsAction/package.json                     |   13 +
 core/nodejsAction/runner.js                        |  125 ++
 core/nodejsAction/src/logger.js                    |   59 +
 core/nodejsAction/src/service.js                   |  175 ++
 core/nodejsAction/src/whisk.js                     |  270 +++
 core/nodejsAction/test.js                          |  126 ++
 core/swiftAction/Dockerfile                        |   46 +
 core/swiftAction/build.xml                         |   26 +
 core/swiftAction/delete-build-run.sh               |   15 +
 core/swiftAction/epilogue.swift                    |  144 ++
 core/swiftAction/init.py                           |   29 +
 core/swiftAction/proxy.py                          |  109 +
 core/swiftAction/run.py                            |   51 +
 docker.xml                                         |  126 ++
 mobile/iOS/sdk/OpenWhisk.xcodeproj/project.pbxproj |  532 +++++
 .../project.xcworkspace/contents.xcworkspacedata   |    7 +
 .../UserInterfaceState.xcuserstate                 |  Bin 0 -> 21516 bytes
 .../xcshareddata/xcschemes/OpenWhisk.xcscheme      |   99 +
 .../xcdebugger/Breakpoints_v2.xcbkptlist           |    5 +
 .../xcschemes/OpenWhiskWatch.xcscheme              |   80 +
 .../xcschemes/xcschememanagement.plist             |   32 +
 mobile/iOS/sdk/OpenWhisk/Config.swift              |   98 +
 mobile/iOS/sdk/OpenWhisk/Info.plist                |   26 +
 mobile/iOS/sdk/OpenWhisk/OpenWhisk.h               |   27 +
 mobile/iOS/sdk/OpenWhisk/OpenWhiskButton.swift     |  128 ++
 mobile/iOS/sdk/OpenWhisk/OpenWhiskConfig.plist     |   13 +
 mobile/iOS/sdk/OpenWhisk/OpenWhiskSDK.swift        |  435 ++++
 mobile/iOS/sdk/OpenWhiskTests/Info.plist           |   24 +
 mobile/iOS/sdk/OpenWhiskTests/OpenWhiskTests.swift |  328 ++++
 mobile/iOS/sdk/OpenWhiskWatch/Info.plist           |   26 +
 mobile/iOS/sdk/OpenWhiskWatch/OpenWhiskWatch.h     |   27 +
 .../OpenWhisk.framework/Headers/OpenWhisk-Swift.h  |  103 +
 .../OpenWhisk.framework/Headers/OpenWhisk.h        |   19 +
 .../iOS/starterapp/OpenWhisk.framework/Info.plist  |  Bin 0 -> 752 bytes
 .../Modules/OpenWhisk.swiftmodule/arm.swiftdoc     |  Bin 0 -> 532 bytes
 .../Modules/OpenWhisk.swiftmodule/arm.swiftmodule  |  Bin 0 -> 31964 bytes
 .../Modules/OpenWhisk.swiftmodule/arm64.swiftdoc   |  Bin 0 -> 532 bytes
 .../OpenWhisk.swiftmodule/arm64.swiftmodule        |  Bin 0 -> 31964 bytes
 .../Modules/OpenWhisk.swiftmodule/i386.swiftdoc    |  Bin 0 -> 532 bytes
 .../Modules/OpenWhisk.swiftmodule/i386.swiftmodule |  Bin 0 -> 32052 bytes
 .../Modules/OpenWhisk.swiftmodule/x86_64.swiftdoc  |  Bin 0 -> 532 bytes
 .../OpenWhisk.swiftmodule/x86_64.swiftmodule       |  Bin 0 -> 32056 bytes
 .../OpenWhisk.framework/Modules/module.modulemap   |   10 +
 .../iOS/starterapp/OpenWhisk.framework/OpenWhisk   |  Bin 0 -> 1492688 bytes
 .../OpenWhisk.framework/OpenWhiskConfig.plist      |  Bin 0 -> 124 bytes
 .../_CodeSignature/CodeResources                   |  175 ++
 .../OpenWhiskStarterApp.xcodeproj/project.pbxproj  |  342 ++++
 .../project.xcworkspace/contents.xcworkspacedata   |    7 +
 .../UserInterfaceState.xcuserstate                 |  Bin 0 -> 18374 bytes
 .../xcschemes/OpenWhiskStarterApp.xcscheme         |   91 +
 .../xcschemes/xcschememanagement.plist             |   22 +
 .../OpenWhiskStarterApp/AppDelegate.swift          |   55 +
 .../AppIcon.appiconset/Contents.json               |   68 +
 .../Base.lproj/LaunchScreen.storyboard             |   27 +
 .../OpenWhiskStarterApp/Base.lproj/Main.storyboard |  152 ++
 .../OpenWhiskStarterApp/FilterForecast.swift       |   53 +
 .../iOS/starterapp/OpenWhiskStarterApp/Info.plist  |   47 +
 .../OpenWhiskStarterApp/ResultSetCell.swift        |   25 +
 .../ResultSetTableController.swift                 |  107 +
 .../SelfSignedNetworkDelegate.swift                |   25 +
 .../iOS/starterapp/OpenWhiskStarterApp/Utils.swift |   59 +
 .../OpenWhiskStarterApp/ViewController.swift       |  147 ++
 services/build.xml                                 |   43 +
 services/consul/.classpath                         |    7 +
 services/consul/.gitignore                         |    1 +
 services/consul/.project                           |   19 +
 services/consul/Dockerfile                         |   28 +
 services/consul/build.xml                          |   95 +
 services/consul/config/basic-config.json           |    5 +
 services/consul/config/checks-config.json          |   16 +
 services/consul/config/client-config.json          |    6 +
 services/consul/config/server-config.json          |   12 +
 services/consul/scripts/cpuload.sh                 |   16 +
 services/consul/scripts/meminfo.sh                 |   15 +
 services/consul/startconsul.sh                     |    4 +
 services/consul/startconsulclient.sh               |    4 +
 services/consul/startconsulserver.sh               |    4 +
 services/kafka/Dockerfile                          |   59 +
 services/kafka/build.xml                           |   75 +
 services/kafka/config/consumer.properties          |   28 +
 services/kafka/config/log4j.properties             |   78 +
 services/kafka/config/producer.properties          |   53 +
 services/kafka/config/server.properties.default    |   69 +
 services/kafka/config/server.properties.prod       |   69 +
 services/kafka/config/server.properties.staging    |   68 +
 services/kafka/config/tools-log4j.properties       |   20 +
 services/kafka/config/zookeeper.properties         |   20 +
 services/kafka/monitor/app.js                      |  175 ++
 services/kafka/monitor/package.json                |    9 +
 services/kafka/start.sh                            |   63 +
 services/nginx/build.xml                           |   47 +
 services/nginx/generateProxyConf.sh                |   69 +
 services/registrator/Dockerfile                    |   18 +
 services/registrator/build.xml                     |    7 +
 services/registrator/docker-run.sh                 |   78 +
 services/zookeeper/Dockerfile                      |   17 +
 services/zookeeper/build.xml                       |   69 +
 template-cloudant-local.env                        |    8 +
 tests/.classpath                                   |   39 +
 tests/.gitignore                                   |    3 +
 tests/.project                                     |   24 +
 tests/.pydevproject                                |    5 +
 tests/build.xml                                    |   78 +
 tests/dat/actions/applicationError1.js             |    3 +
 tests/dat/actions/applicationError2.js             |    4 +
 tests/dat/actions/empty.js                         |    0
 tests/dat/actions/helloAsyncDoneTwice.js           |   16 +
 tests/dat/actions/helloSyncDoneTwice.js            |   12 +
 tests/dat/actions/malformed.js                     |    1 +
 tests/dat/actions/ping.js                          |   25 +
 tests/src/actionContainers/ActionContainer.scala   |  130 ++
 .../NodeJsActionContainerTests.scala               |  299 +++
 .../SwiftActionContainerTests.scala                |  148 ++
 tests/src/admin/WskAdminTests.scala                |   55 +
 .../tempusfugit/concurrency/ParallelRunner.java    |   60 +
 tests/src/common/BasicLauncher.java                |  103 +
 tests/src/common/Launcher.java                     |  388 ++++
 tests/src/common/Pair.java                         |   84 +
 tests/src/common/TestHelpers.scala                 |   36 +
 tests/src/common/TestUtils.java                    |  279 +++
 tests/src/common/Util.java                         |  104 +
 tests/src/common/WhiskProperties.java              |  312 +++
 tests/src/common/Wsk.scala                         |  754 +++++++
 tests/src/common/WskCli.java                       |  990 ++++++++++
 tests/src/packages/SamplesTests.java               |   61 +
 tests/src/packages/SlackTests.java                 |   64 +
 tests/src/services/ConsulTests.java                |   61 +
 tests/src/services/KafkaTests.java                 |  176 ++
 tests/src/services/PingTests.java                  |  132 ++
 tests/src/system/basic/CLIActionTests.java         |  471 +++++
 tests/src/system/basic/CLIBasicTests.java          |  533 +++++
 tests/src/system/basic/CLIPackageTests.java        |  197 ++
 tests/src/system/basic/CLIRuleTests.java           |  420 ++++
 tests/src/system/basic/CLISwiftTests.java          |   69 +
 tests/src/system/basic/ConsoleTests.java           |  105 +
 tests/src/system/basic/WskBasicTests.scala         |  369 ++++
 tests/src/system/rest/ActionSchemaTests.scala      |   90 +
 tests/src/system/rest/JsonSchema.scala             |   41 +
 tests/src/system/rest/JsonSchemaTests.scala        |   64 +
 tests/src/system/rest/RestUtil.scala               |   72 +
 tests/src/system/rest/SwaggerTests.scala           |   59 +
 tests/src/whisk/common/CommonTests.scala           |   55 +
 tests/src/whisk/common/ConfigTests.scala           |   64 +
 tests/src/whisk/common/CryptTests.scala            |   44 +
 tests/src/whisk/consul/ConsulKVTests.scala         |   82 +
 .../whisk/core/activator/test/ActivatorTests.scala |  241 +++
 .../core/container/test/ContainerPoolTests.scala   |  251 +++
 .../core/controller/test/ActionsApiTests.scala     |  420 ++++
 .../core/controller/test/ActivationsApiTests.scala |  291 +++
 .../core/controller/test/AuthenticateTests.scala   |  148 ++
 .../core/controller/test/AuthorizeTests.scala      |  182 ++
 .../controller/test/ControllerTestCommon.scala     |  161 ++
 .../core/controller/test/NamespacesApiTests.scala  |  115 ++
 .../controller/test/PackageActionsApiTests.scala   |  517 +++++
 .../core/controller/test/PackagesApiTests.scala    |  513 +++++
 .../whisk/core/controller/test/RulesApiTests.scala |  473 +++++
 .../core/controller/test/TriggersApiTests.scala    |  245 +++
 tests/src/whisk/core/database/test/DbUtils.scala   |  189 ++
 .../core/dispatcher/test/DispatcherTests.scala     |  111 ++
 .../whisk/core/dispatcher/test/MatcherTests.scala  |  167 ++
 .../whisk/core/dispatcher/test/TestConnector.scala |   72 +
 .../src/whisk/core/dispatcher/test/TestUtils.scala |   41 +
 .../whisk/core/entity/test/ConformanceTests.scala  |  114 ++
 .../whisk/core/entity/test/DatastoreTests.scala    |  392 ++++
 tests/src/whisk/core/entity/test/SchemaTests.scala |  355 ++++
 tests/src/whisk/core/entity/test/ViewTests.scala   |  299 +++
 .../src/whisk/core/invoker/test/InvokerTests.scala |  133 ++
 .../core/loadBalancer/LoadBalancerTests.scala      |  122 ++
 tools/cli/.gitignore                               |    2 +
 tools/cli/.project                                 |   17 +
 tools/cli/.pydevproject                            |    8 +
 tools/cli/build.xml                                |   65 +
 tools/cli/generateDefaultProps.sh                  |   14 +
 tools/cli/packagescripts/DESCRIPTION.rst           |    6 +
 tools/cli/packagescripts/Dockerfile                |   12 +
 tools/cli/packagescripts/MANIFEST.in               |    8 +
 tools/cli/packagescripts/README.rst                |    8 +
 tools/cli/packagescripts/__init__.py               |    1 +
 tools/cli/packagescripts/setup.py                  |  114 ++
 tools/cli/wsk                                      |  232 +++
 tools/cli/wskaction.py                             |  190 ++
 tools/cli/wskactivation.py                         |  321 +++
 tools/cli/wskadmin                                 |  226 +++
 tools/cli/wskitem.py                               |  266 +++
 tools/cli/wsknamespace.py                          |   89 +
 tools/cli/wskpackage.py                            |  140 ++
 tools/cli/wskprop.py                               |  107 +
 tools/cli/wskrule.py                               |  128 ++
 tools/cli/wsksdk.py                                |   98 +
 tools/cli/wsktrigger.py                            |  165 ++
 tools/cli/wskutil.py                               |  299 +++
 tools/cloudant/createImmortalDBs.sh                |   96 +
 tools/cloudant/loadTransientDBViews.sh             |   97 +
 tools/cloudant/wipeTransientDBs.sh                 |   66 +
 tools/deploy/deployInvoker                         |  289 +++
 tools/deploy/dockerUtil.py                         |   53 +
 tools/docker/cleanAllDockers.sh                    |   34 +
 tools/docker/cleanDocker.sh                        |   68 +
 tools/docker/dockerWithRetry.sh                    |   99 +
 tools/docker/listAllDockerHosts.sh                 |   30 +
 tools/health/isAlive                               |  152 ++
 tools/health/killComponent                         |   83 +
 tools/health/kvstore                               |  145 ++
 tools/health/monitorUtil.py                        |   69 +
 tools/json/schema.json                             |  152 ++
 tools/json/test.sh                                 |   17 +
 tools/json/validate.py                             |   30 +
 tools/logs/copyLogs.sh                             |   11 +
 tools/macos/README.md                              |    8 +
 tools/macos/tweak-dockerhost.sh                    |   15 +
 tools/macos/tweak-dockermachine.sh                 |   37 +
 tools/ubuntu-setup/addSwap.sh                      |   12 +
 tools/ubuntu-setup/all.sh                          |   17 +
 tools/ubuntu-setup/ant.sh                          |    2 +
 tools/ubuntu-setup/docker.sh                       |   29 +
 tools/ubuntu-setup/eclipse.sh                      |    6 +
 tools/ubuntu-setup/emacs.sh                        |    1 +
 tools/ubuntu-setup/gradle.sh                       |    7 +
 tools/ubuntu-setup/java8.sh                        |    5 +
 tools/ubuntu-setup/misc.sh                         |   12 +
 tools/ubuntu-setup/pip.sh                          |    3 +
 tools/ubuntu-setup/scala.sh                        |    4 +
 tools/ubuntu-setup/tmux.sh                         |    1 +
 tools/ubuntu-setup/ubuntu-desktop.sh               |    9 +
 tools/vagrant/Vagrantfile                          |   54 +
 462 files changed, 41315 insertions(+)

