commit 75132c139f0faf9ef68bb461b3a551238a377455
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   Sun Dec 1 00:42:41 2019 +0530

    [HUDI-357] Refactor hudi-cli based on new comment and code style rules (#1051)

 hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java    |  6 ++++++
 .../org/apache/hudi/cli/HoodieHistoryFileNameProvider.java   |  3 +++
 .../src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java | 12 ++++++------
 hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrompt.java |  3 +++
 .../main/java/org/apache/hudi/cli/HoodieSplashScreen.java    |  3 +++
 hudi-cli/src/main/java/org/apache/hudi/cli/Main.java         |  6 +++---
 hudi-cli/src/main/java/org/apache/hudi/cli/Table.java        | 10 +++++-----
 hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java  | 12 ++++++------
 .../org/apache/hudi/cli/commands/ArchivedCommitsCommand.java |  3 +++
 .../java/org/apache/hudi/cli/commands/CleansCommand.java     |  3 +++
 .../java/org/apache/hudi/cli/commands/CommitsCommand.java    |  3 +++
 .../java/org/apache/hudi/cli/commands/CompactionCommand.java |  3 +++
 .../java/org/apache/hudi/cli/commands/DatasetsCommand.java   |  7 +++++--
 .../org/apache/hudi/cli/commands/FileSystemViewCommand.java  |  5 ++++-
 .../apache/hudi/cli/commands/HDFSParquetImportCommand.java   |  3 +++
 .../org/apache/hudi/cli/commands/HoodieLogFileCommand.java   |  3 +++
 .../java/org/apache/hudi/cli/commands/HoodieSyncCommand.java |  3 +++
 .../java/org/apache/hudi/cli/commands/RepairsCommand.java    |  3 +++
 .../java/org/apache/hudi/cli/commands/RollbacksCommand.java  |  5 ++++-
 .../java/org/apache/hudi/cli/commands/SavepointsCommand.java |  3 +++
 .../main/java/org/apache/hudi/cli/commands/SparkMain.java    |  5 ++++-
 .../main/java/org/apache/hudi/cli/commands/StatsCommand.java |  3 +++
 .../main/java/org/apache/hudi/cli/commands/UtilsCommand.java |  3 +++
 .../src/main/java/org/apache/hudi/cli/utils/CommitUtil.java  |  3 +++
 .../src/main/java/org/apache/hudi/cli/utils/HiveUtil.java    |  3 +++
 .../java/org/apache/hudi/cli/utils/InputStreamConsumer.java  |  3 +++
 .../src/main/java/org/apache/hudi/cli/utils/SparkUtil.java   |  5 ++++-
 27 files changed, 98 insertions(+), 26 deletions(-)

commit b65a897856259e7872e39a9e3e68661926592d7b
Author: hongdd <jn_hdd@163.com>
Date:   Sun Dec 1 03:11:00 2019 +0800

    [HUDI-374] Unable to generateUpdates in QuickstartUtils (#1059)

 hudi-spark/src/main/java/org/apache/hudi/QuickstartUtils.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 024230fbd23173db38e2c0f66808606481223003
Author: lamber-ken <lamberken@163.com>
Date:   Sun Dec 1 00:02:33 2019 +0800

    [HUDI-372] Support the shortName for Hudi DataSource (#1054)
    
    - Ability to do `spark.write.format("hudi")...`

 .../org.apache.spark.sql.sources.DataSourceRegister  | 20 ++++++++++++++++++++
 .../main/scala/org/apache/hudi/DefaultSource.scala   |  2 +-
 hudi-spark/src/test/scala/TestDataSource.scala       | 13 +++++++++++++
 3 files changed, 34 insertions(+), 1 deletion(-)

commit 0b52ae3ac2685c5afa7821d663854b526b5a1cff
Author: ForwardXu <forwardxu315@gmail.com>
Date:   Thu Nov 28 19:17:34 2019 +0800

    [HUDI-209] Implement JMX metrics reporter (#1045)

 .../apache/hudi/config/HoodieMetricsConfig.java    |  8 ++
 .../org/apache/hudi/config/HoodieWriteConfig.java  |  8 ++
 .../apache/hudi/metrics/JmxMetricsReporter.java    | 85 ++++++++++++++++++++++
 .../hudi/metrics/MetricsReporterFactory.java       |  3 +
 .../apache/hudi/metrics/MetricsReporterType.java   |  2 +-
 .../apache/hudi/metrics/TestHoodieJmxMetrics.java  | 52 +++++++++++++
 .../org/apache/hudi/metrics/TestHoodieMetrics.java |  4 +-
 pom.xml                                            |  2 +-
 8 files changed, 159 insertions(+), 5 deletions(-)

commit da8d1334eecd65f2896613b1143d6ba31bae03b7
Author: lamber-ken <lamberken@163.com>
Date:   Thu Nov 28 09:25:56 2019 +0800

    [HUDI-373] Refactor hudi-client based on new ImportOrder code style rule (#1056)

 .../java/org/apache/hudi/AbstractHoodieClient.java |  8 ++--
 .../org/apache/hudi/CompactionAdminClient.java     | 28 +++++++------
 .../java/org/apache/hudi/HoodieCleanClient.java    | 12 +++---
 .../java/org/apache/hudi/HoodieReadClient.java     | 11 +++--
 .../java/org/apache/hudi/HoodieWriteClient.java    | 33 ++++++++-------
 .../src/main/java/org/apache/hudi/WriteStatus.java |  9 ++--
 .../client/embedded/EmbeddedTimelineService.java   |  6 ++-
 .../org/apache/hudi/client/utils/ClientUtils.java  |  1 +
 .../apache/hudi/config/HoodieCompactionConfig.java | 13 +++---
 .../apache/hudi/config/HoodieHBaseIndexConfig.java |  3 +-
 .../org/apache/hudi/config/HoodieIndexConfig.java  |  7 +++-
 .../org/apache/hudi/config/HoodieMemoryConfig.java |  8 ++--
 .../apache/hudi/config/HoodieMetricsConfig.java    |  6 ++-
 .../org/apache/hudi/config/HoodieWriteConfig.java  | 19 +++++----
 .../apache/hudi/func/BulkInsertMapFunction.java    |  6 ++-
 .../hudi/func/CopyOnWriteLazyInsertIterable.java   | 14 ++++---
 .../hudi/func/MergeOnReadLazyInsertIterable.java   |  7 ++--
 .../java/org/apache/hudi/func/OperationResult.java |  3 +-
 .../apache/hudi/func/ParquetReaderIterator.java    |  6 ++-
 .../hudi/func/SparkBoundedInMemoryExecutor.java    |  6 ++-
 .../java/org/apache/hudi/index/HoodieIndex.java    |  4 +-
 .../org/apache/hudi/index/InMemoryHashIndex.java   | 12 +++---
 .../hudi/index/bloom/BloomIndexFileInfo.java       |  1 +
 .../bloom/BucketizedBloomCheckPartitioner.java     | 10 +++--
 .../apache/hudi/index/bloom/HoodieBloomIndex.java  | 23 ++++++-----
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  9 ++--
 .../hudi/index/bloom/HoodieGlobalBloomIndex.java   | 17 ++++----
 .../hbase/DefaultHBaseQPSResourceAllocator.java    |  1 +
 .../org/apache/hudi/index/hbase/HBaseIndex.java    | 41 +++++++++---------
 .../org/apache/hudi/io/HoodieAppendHandle.java     | 22 +++++-----
 .../java/org/apache/hudi/io/HoodieCleanHelper.java | 16 ++++----
 .../org/apache/hudi/io/HoodieCommitArchiveLog.java | 30 +++++++-------
 .../org/apache/hudi/io/HoodieCreateHandle.java     | 12 +++---
 .../java/org/apache/hudi/io/HoodieIOHandle.java    |  3 +-
 .../org/apache/hudi/io/HoodieKeyLookupHandle.java  | 14 ++++---
 .../java/org/apache/hudi/io/HoodieMergeHandle.java | 20 +++++----
 .../org/apache/hudi/io/HoodieRangeInfoHandle.java  |  3 +-
 .../java/org/apache/hudi/io/HoodieReadHandle.java  |  3 +-
 .../java/org/apache/hudi/io/HoodieWriteHandle.java | 14 ++++---
 .../apache/hudi/io/compact/HoodieCompactor.java    |  8 ++--
 .../io/compact/HoodieRealtimeTableCompactor.java   | 32 ++++++++-------
 .../strategy/BoundedIOCompactionStrategy.java      |  6 ++-
 .../BoundedPartitionAwareCompactionStrategy.java   |  8 ++--
 .../io/compact/strategy/CompactionStrategy.java    | 10 +++--
 .../strategy/DayBasedCompactionStrategy.java       | 10 +++--
 .../LogFileSizeBasedCompactionStrategy.java        |  9 ++--
 .../strategy/UnBoundedCompactionStrategy.java      |  3 +-
 .../UnBoundedPartitionAwareCompactionStrategy.java |  7 ++--
 .../hudi/io/storage/HoodieParquetConfig.java       |  3 +-
 .../hudi/io/storage/HoodieParquetWriter.java       | 16 ++++----
 .../hudi/io/storage/HoodieStorageWriter.java       |  6 ++-
 .../io/storage/HoodieStorageWriterFactory.java     | 16 ++++----
 .../org/apache/hudi/metrics/HoodieMetrics.java     |  5 ++-
 .../main/java/org/apache/hudi/metrics/Metrics.java |  8 ++--
 .../hudi/metrics/MetricsGraphiteReporter.java      |  8 ++--
 .../hudi/metrics/MetricsReporterFactory.java       |  3 +-
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  | 37 +++++++++--------
 .../apache/hudi/table/HoodieMergeOnReadTable.java  | 26 ++++++------
 .../java/org/apache/hudi/table/HoodieTable.java    | 26 ++++++------
 .../org/apache/hudi/table/RollbackExecutor.java    | 27 ++++++------
 .../table/UserDefinedBulkInsertPartitioner.java    |  1 +
 .../org/apache/hudi/table/WorkloadProfile.java     | 11 +++--
 .../java/org/apache/hudi/table/WorkloadStat.java   |  5 ++-
 hudi-client/src/test/java/HoodieClientExample.java | 14 ++++---
 .../org/apache/hudi/HoodieClientTestHarness.java   | 24 ++++++-----
 .../java/org/apache/hudi/TestAsyncCompaction.java  | 28 +++++++------
 .../src/test/java/org/apache/hudi/TestCleaner.java | 48 +++++++++++-----------
 .../java/org/apache/hudi/TestClientRollback.java   | 18 ++++----
 .../org/apache/hudi/TestCompactionAdminClient.java | 20 +++++----
 .../java/org/apache/hudi/TestConsistencyGuard.java |  8 ++--
 .../java/org/apache/hudi/TestHoodieClientBase.java | 28 +++++++------
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java | 48 +++++++++++-----------
 .../java/org/apache/hudi/TestHoodieReadClient.java | 14 ++++---
 .../src/test/java/org/apache/hudi/TestMultiFS.java | 10 +++--
 .../test/java/org/apache/hudi/TestWriteStatus.java | 10 +++--
 .../apache/hudi/common/HoodieClientTestUtils.java  | 36 ++++++++--------
 .../hudi/common/HoodieMergeOnReadTestUtils.java    | 18 ++++----
 .../hudi/common/HoodieTestDataGenerator.java       | 46 +++++++++++----------
 .../org/apache/hudi/common/TestRawTripPayload.java | 18 ++++----
 .../apache/hudi/config/TestHoodieWriteConfig.java  |  8 ++--
 .../hudi/func/TestBoundedInMemoryExecutor.java     | 15 ++++---
 .../apache/hudi/func/TestBoundedInMemoryQueue.java | 35 ++++++++--------
 .../hudi/func/TestParquetReaderIterator.java       | 10 +++--
 .../apache/hudi/func/TestUpdateMapFunction.java    | 20 +++++----
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |  5 ++-
 .../java/org/apache/hudi/index/TestHbaseIndex.java | 37 +++++++++--------
 .../org/apache/hudi/index/TestHoodieIndex.java     |  5 ++-
 .../bloom/TestBucketizedBloomCheckPartitioner.java | 10 +++--
 .../hudi/index/bloom/TestHoodieBloomIndex.java     | 43 ++++++++++---------
 .../index/bloom/TestHoodieGlobalBloomIndex.java    | 35 ++++++++--------
 .../hudi/index/bloom/TestKeyRangeLookupTree.java   |  7 ++--
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java | 30 +++++++-------
 .../org/apache/hudi/io/TestHoodieCompactor.java    | 14 ++++---
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  | 16 ++++----
 .../io/storage/TestHoodieStorageWriterFactory.java | 12 +++---
 .../io/strategy/TestHoodieCompactionStrategy.java  | 28 +++++++------
 .../hudi/io/strategy/TestHoodieDataFile.java       |  3 +-
 .../apache/hudi/io/strategy/TestHoodieLogFile.java |  3 +-
 .../org/apache/hudi/metrics/TestHoodieMetrics.java |  9 ++--
 .../apache/hudi/table/TestCopyOnWriteTable.java    | 29 +++++++------
 .../apache/hudi/table/TestHoodieRecordSizing.java  | 26 ++++++------
 .../apache/hudi/table/TestMergeOnReadTable.java    | 36 ++++++++--------
 102 files changed, 887 insertions(+), 689 deletions(-)

commit f9139c0f616775f4b3d0df95772f2621f0e7c9f1
Author: 谢磊 <lamberken@163.com>
Date:   Wed Nov 27 21:32:43 2019 +0800

    [HUDI-366] Refactor some module codes based on new ImportOrder code style rule (#1055)
    
    [HUDI-366] Refactor hudi-hadoop-mr / hudi-timeline-service / hudi-spark / hudi-integ-test / hudi- utilities based on new ImportOrder code style rule

 .../hudi/hadoop/HoodieParquetInputFormat.java      | 34 +++++++------
 .../hudi/hadoop/HoodieROTablePathFilter.java       | 20 ++++----
 .../hudi/hadoop/RecordReaderValueIterator.java     | 10 ++--
 .../hadoop/SafeParquetRecordReaderWrapper.java     |  3 +-
 .../hadoop/hive/HoodieCombineHiveInputFormat.java  | 38 +++++++-------
 .../realtime/AbstractRealtimeRecordReader.java     | 34 +++++++------
 .../realtime/HoodieParquetRealtimeInputFormat.java | 46 +++++++++--------
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  3 +-
 .../realtime/HoodieRealtimeRecordReader.java       |  6 ++-
 .../realtime/RealtimeCompactedRecordReader.java    | 18 ++++---
 .../realtime/RealtimeUnmergedRecordReader.java     | 20 ++++----
 .../apache/hudi/hadoop/InputFormatTestUtil.java    | 28 +++++-----
 .../org/apache/hudi/hadoop/TestAnnotation.java     |  5 +-
 .../apache/hudi/hadoop/TestHoodieInputFormat.java  | 10 ++--
 .../hudi/hadoop/TestHoodieROTablePathFilter.java   | 16 +++---
 .../hudi/hadoop/TestRecordReaderValueIterator.java | 12 +++--
 .../realtime/TestHoodieRealtimeRecordReader.java   | 59 ++++++++++++----------
 .../java/org/apache/hudi/integ/ITTestBase.java     | 18 ++++---
 .../org/apache/hudi/integ/ITTestHoodieDemo.java    |  6 ++-
 .../org/apache/hudi/integ/ITTestHoodieSanity.java  |  1 +
 .../main/java/org/apache/hudi/BaseAvroPayload.java |  8 +--
 .../java/org/apache/hudi/ComplexKeyGenerator.java  |  8 +--
 .../main/java/org/apache/hudi/DataSourceUtils.java | 18 ++++---
 .../org/apache/hudi/HoodieDataSourceHelpers.java   | 10 ++--
 .../main/java/org/apache/hudi/KeyGenerator.java    |  6 ++-
 .../apache/hudi/NonpartitionedKeyGenerator.java    |  3 +-
 .../hudi/OverwriteWithLatestAvroPayload.java       | 10 ++--
 .../main/java/org/apache/hudi/QuickstartUtils.java | 18 ++++---
 .../java/org/apache/hudi/SimpleKeyGenerator.java   |  3 +-
 hudi-spark/src/test/java/DataSourceTestUtils.java  |  7 +--
 hudi-spark/src/test/java/HoodieJavaApp.java        | 12 +++--
 .../src/test/java/HoodieJavaStreamingApp.java      | 18 ++++---
 .../timeline/service/FileSystemViewHandler.java    | 24 +++++----
 .../hudi/timeline/service/TimelineService.java     | 16 +++---
 .../timeline/service/handlers/DataFileHandler.java |  8 +--
 .../service/handlers/FileSliceHandler.java         | 12 +++--
 .../hudi/timeline/service/handlers/Handler.java    |  6 ++-
 .../timeline/service/handlers/TimelineHandler.java | 10 ++--
 .../view/TestRemoteHoodieTableFileSystemView.java  |  1 +
 .../apache/hudi/utilities/HDFSParquetImporter.java | 43 ++++++++--------
 .../hudi/utilities/HiveIncrementalPuller.java      | 32 ++++++------
 .../org/apache/hudi/utilities/HoodieCleaner.java   | 18 ++++---
 .../hudi/utilities/HoodieCompactionAdminTool.java  | 18 ++++---
 .../org/apache/hudi/utilities/HoodieCompactor.java | 16 +++---
 .../hudi/utilities/HoodieSnapshotCopier.java       | 25 +++++----
 .../hudi/utilities/HoodieWithTimelineServer.java   | 11 ++--
 .../org/apache/hudi/utilities/UtilHelpers.java     | 26 +++++-----
 .../adhoc/UpgradePayloadFromUberToApache.java      | 20 ++++----
 .../AbstractDeltaStreamerService.java              |  8 +--
 .../hudi/utilities/deltastreamer/Compactor.java    |  6 ++-
 .../hudi/utilities/deltastreamer/DeltaSync.java    | 42 ++++++++-------
 .../deltastreamer/HoodieDeltaStreamer.java         | 50 +++++++++---------
 .../deltastreamer/HoodieDeltaStreamerMetrics.java  |  3 +-
 .../deltastreamer/SchedulerConfGenerator.java      | 12 +++--
 .../deltastreamer/SourceFormatAdapter.java         | 11 ++--
 .../exception/HoodieIncrementalPullException.java  |  3 +-
 .../keygen/TimestampBasedKeyGenerator.java         | 18 ++++---
 .../hudi/utilities/perf/TimelineServerPerf.java    | 36 ++++++-------
 .../utilities/schema/FilebasedSchemaProvider.java  | 12 +++--
 .../schema/NullTargetSchemaRegistryProvider.java   |  3 +-
 .../utilities/schema/RowBasedSchemaProvider.java   |  3 +-
 .../hudi/utilities/schema/SchemaProvider.java      |  6 ++-
 .../utilities/schema/SchemaRegistryProvider.java   | 12 +++--
 .../hudi/utilities/sources/AvroDFSSource.java      |  9 ++--
 .../hudi/utilities/sources/AvroKafkaSource.java    |  7 +--
 .../apache/hudi/utilities/sources/AvroSource.java  |  3 +-
 .../hudi/utilities/sources/HiveIncrPullSource.java | 28 +++++-----
 .../hudi/utilities/sources/HoodieIncrSource.java   |  4 +-
 .../hudi/utilities/sources/JsonDFSSource.java      |  1 +
 .../hudi/utilities/sources/JsonKafkaSource.java    |  3 +-
 .../apache/hudi/utilities/sources/JsonSource.java  |  1 +
 .../hudi/utilities/sources/ParquetDFSSource.java   |  3 +-
 .../hudi/utilities/sources/ParquetSource.java      |  3 +-
 .../apache/hudi/utilities/sources/RowSource.java   |  1 +
 .../org/apache/hudi/utilities/sources/Source.java  |  4 +-
 .../utilities/sources/helpers/AvroConvertor.java   |  8 +--
 .../utilities/sources/helpers/DFSPathSelector.java | 26 +++++-----
 .../sources/helpers/IncrSourceHelper.java          |  3 +-
 .../utilities/sources/helpers/KafkaOffsetGen.java  | 17 ++++---
 .../utilities/transform/FlatteningTransformer.java |  4 +-
 .../utilities/transform/IdentityTransformer.java   |  1 +
 .../transform/SqlQueryBasedTransformer.java        |  4 +-
 .../hudi/utilities/transform/Transformer.java      |  1 +
 .../hudi/utilities/TestFlatteningTransformer.java  |  5 +-
 .../hudi/utilities/TestHDFSParquetImporter.java    | 40 ++++++++-------
 .../hudi/utilities/TestHoodieDeltaStreamer.java    | 36 ++++++-------
 .../hudi/utilities/TestHoodieSnapshotCopier.java   | 20 ++++----
 .../hudi/utilities/TestSchedulerConfGenerator.java | 10 ++--
 .../apache/hudi/utilities/UtilitiesTestBase.java   | 32 ++++++------
 .../utilities/sources/AbstractBaseTestSource.java  | 16 +++---
 .../sources/DistributedTestDataSource.java         | 10 ++--
 .../hudi/utilities/sources/TestDFSSource.java      | 22 ++++----
 .../hudi/utilities/sources/TestDataSource.java     |  8 +--
 .../hudi/utilities/sources/TestKafkaSource.java    | 14 ++---
 94 files changed, 765 insertions(+), 598 deletions(-)

commit b77fad39b53049279bba1ba367f43cce73f48bfa
Author: 谢磊 <lamberken@163.com>
Date:   Wed Nov 27 16:30:37 2019 +0800

    [HUDI-364] Refactor hudi-hive based on new ImportOrder code style rule (#1048)
    
    [HUDI-364] Refactor hudi-hive based on new ImportOrder code style rule

 .../hudi/common/util/collection/DiskBasedMap.java  |  3 +-
 .../java/org/apache/hudi/hive/HiveSyncConfig.java  |  1 +
 .../java/org/apache/hudi/hive/HiveSyncTool.java    | 21 +++++-----
 .../org/apache/hudi/hive/HoodieHiveClient.java     |  4 +-
 .../hudi/hive/MultiPartKeysValueExtractor.java     |  1 +
 .../org/apache/hudi/hive/SchemaDifference.java     |  3 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |  3 +-
 .../apache/hudi/hive/util/ColumnNameXLator.java    |  1 +
 .../java/org/apache/hudi/hive/util/SchemaUtil.java | 22 +++++-----
 .../org/apache/hudi/hive/TestHiveSyncTool.java     | 24 ++++++-----
 .../test/java/org/apache/hudi/hive/TestUtil.java   | 48 +++++++++++-----------
 .../org/apache/hudi/hive/util/HiveTestService.java | 20 +++++----
 .../adhoc/UpgradePayloadFromUberToApache.java      |  2 +-
 style/checkstyle.xml                               |  2 +-
 14 files changed, 84 insertions(+), 71 deletions(-)

commit d6e83e8f49828940159cd34711cc88ee7b42dc1c
Author: wenningd <wenningding95@gmail.com>
Date:   Tue Nov 26 21:18:39 2019 -0800

    [HUDI-325] Fix Hive partition error for updated HDFS Hudi table (#1001)

 .../src/main/java/org/apache/hudi/common/util/FSUtils.java        | 7 +++++++
 .../src/main/java/org/apache/hudi/hive/HoodieHiveClient.java      | 8 ++++++--
 2 files changed, 13 insertions(+), 2 deletions(-)

commit 60fed21dc7e4cb66b154ae9be77dfada0f3071a5
Author: bschell <bdscheller@gmail.com>
Date:   Tue Nov 26 02:37:16 2019 -0800

    [HUDI-327] Add null/empty checks to key generators (#1040)
    
    * Adds null and empty checks to all key generators.
    * Also improves error messaging for key generator issues.

 .../apache/hudi/exception/HoodieKeyException.java  | 35 ++++++++++++
 .../java/org/apache/hudi/ComplexKeyGenerator.java  | 39 +++++++++----
 .../main/java/org/apache/hudi/DataSourceUtils.java | 11 ++++
 .../apache/hudi/NonpartitionedKeyGenerator.java    |  6 +-
 .../java/org/apache/hudi/SimpleKeyGenerator.java   | 17 +++---
 .../src/test/scala/TestDataSourceDefaults.scala    | 66 +++++++++++++++++++++-
 .../keygen/TimestampBasedKeyGenerator.java         |  8 ++-
 7 files changed, 159 insertions(+), 23 deletions(-)

commit 2a4cfb47c76a0c8800d4998453ec356711807c83
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   Tue Nov 26 16:04:02 2019 +0530

    [HUDI-340]: made max events to read from kafka source configurable (#1039)

 .../utilities/sources/helpers/KafkaOffsetGen.java  | 13 ++-
 .../hudi/utilities/sources/TestKafkaSource.java    | 93 ++++++++++++++++++++--
 2 files changed, 96 insertions(+), 10 deletions(-)

commit a7e07cd910425b5cfe9886677e780bfb2ae96c52
Author: hongdd <jn_hdd@163.com>
Date:   Tue Nov 26 05:25:42 2019 +0800

    [HUDI-359] Add hudi-env for hudi-cli module (#1042)

 hudi-cli/conf/hudi-env.sh | 24 ++++++++++++++++++++++++
 hudi-cli/hudi-cli.sh      | 14 +++++---------
 2 files changed, 29 insertions(+), 9 deletions(-)

commit 212282c8aaf623f451e3f72674ed4d3ed550602d
Author: 谢磊 <lamberken@163.com>
Date:   Tue Nov 26 03:36:23 2019 +0800

    [HUDI-358] Add Java-doc and importOrder checkstyle rule (#1043)
    
    - import groups are separated by one blank line
    - org.apache.hudi.* at the top location

 style/checkstyle.xml | 31 ++++++++++++++++++++++++++-----
 1 file changed, 26 insertions(+), 5 deletions(-)

commit 44823041a37601fed8163502272a8fcb7a5be45d
Author: hongdd <jn_hdd@163.com>
Date:   Tue Nov 26 03:31:07 2019 +0800

    [HUDI-362] Adds a check for the existence of field (#1047)

 hudi-cli/src/main/java/org/apache/hudi/cli/HoodiePrintHelper.java | 4 ++++
 hudi-cli/src/main/java/org/apache/hudi/cli/TableHeader.java       | 4 ++++
 2 files changed, 8 insertions(+)

commit 845a0509b327c3187c036d2b9668048a25ccf423
Author: filippo balicchia <fbalicchia@gmail.com>
Date:   Mon Nov 25 11:49:13 2019 +0100

    [MINOR] Some minor optimizations in HoodieJavaStreamingApp (#1046)

 .../src/test/java/HoodieJavaStreamingApp.java      | 27 +++++++++-------------
 1 file changed, 11 insertions(+), 16 deletions(-)

commit c3355109b1fa8f3055a2ba57d6e2b49679581db5
Author: Sivabalan Narayanan <sivabala@uber.com>
Date:   Fri Nov 22 15:05:25 2019 -0800

    [HUDI-328] Adding delete api to HoodieWriteClient (#1004)
    
    [HUDI-328]  Adding delete api to HoodieWriteClient and Spark DataSource

 .../java/org/apache/hudi/HoodieWriteClient.java    | 137 ++++++++--
 .../org/apache/hudi/config/HoodieWriteConfig.java  |  18 ++
 .../java/org/apache/hudi/index/HoodieIndex.java    |   2 +-
 hudi-client/src/test/java/HoodieClientExample.java |  19 +-
 .../java/org/apache/hudi/TestHoodieClientBase.java | 146 +++++++++-
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java | 185 ++++++++++++-
 .../apache/hudi/common/HoodieClientTestUtils.java  |  24 ++
 .../hudi/common/HoodieTestDataGenerator.java       |  43 ++-
 .../common/model}/EmptyHoodieRecordPayload.java    |   9 +-
 .../hudi/common/model/HoodieCommitMetadata.java    |   1 +
 .../org/apache/hudi/integ/ITTestHoodieSanity.java  |  10 +-
 .../main/java/org/apache/hudi/DataSourceUtils.java |  13 +-
 .../org/apache/hudi/AvroConversionUtils.scala      |   5 +
 .../scala/org/apache/hudi/DataSourceOptions.scala  |  31 +--
 .../org/apache/hudi/HoodieSparkSqlWriter.scala     | 295 +++++++++++++--------
 hudi-spark/src/test/java/DataSourceTestUtils.java  |   7 +
 hudi-spark/src/test/java/HoodieJavaApp.java        |  42 ++-
 .../src/test/scala/TestDataSourceDefaults.scala    |   3 +-
 18 files changed, 818 insertions(+), 172 deletions(-)

commit 7bc08cbfdce337ad980bb544ec9fc3dbdf9cffff
Author: hongdd <jn_hdd@163.com>
Date:   Fri Nov 22 19:32:09 2019 +0800

    [HUDI-345] Fix used deprecated function (#1024)
    
    - Schema.parse() with new Schema.Parser().parse
    - FSDataOutputStream constructor

 .../test/java/org/apache/hudi/common/HoodieMergeOnReadTestUtils.java  | 3 ++-
 .../src/test/java/org/apache/hudi/func/TestUpdateMapFunction.java     | 2 +-
 .../apache/hudi/common/io/storage/SizeAwareFSDataOutputStream.java    | 2 +-
 .../org/apache/hudi/common/table/log/block/HoodieAvroDataBlock.java   | 4 ++--
 .../src/main/java/org/apache/hudi/common/util/LogReaderUtils.java     | 2 +-
 hudi-spark/src/main/scala/org/apache/hudi/AvroConversionUtils.scala   | 4 ++--
 6 files changed, 9 insertions(+), 8 deletions(-)

commit 17eaf41c54411344916fdf4ace80163438e9bee2
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   Fri Nov 22 16:55:52 2019 +0530

    [HUDI-348] Add Issue template for the project (#1029)

 .github/ISSUE_TEMPLATE/SUPPORT_REQUEST.md | 56 +++++++++++++++++++++++++++++++
 .github/ISSUE_TEMPLATE/config.yml         |  9 +++++
 2 files changed, 65 insertions(+)

commit 1e14390719cc9e79cc67272a50e7e0bf95b38d87
Author: Pratyaksh Sharma <pratyakshsharma@MacBook-Pro-2.local>
Date:   Wed Nov 20 19:46:27 2019 +0530

    [HUDI-350]: updated default value of config.getCleanerCommitsRetained() in javadocs

 .../src/main/java/org/apache/hudi/io/HoodieCleanHelper.java        | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit d9fbe33339cce5e5577eff5257bd9b683daed194
Author: lamber-ken <lamberken@163.com>
Date:   Mon Nov 18 23:18:16 2019 +0800

    [HOTFIX] Fix error configuration item of dockerfile-maven-plugin

 docker/hoodie/hadoop/base/pom.xml          | 4 ++--
 docker/hoodie/hadoop/datanode/pom.xml      | 4 ++--
 docker/hoodie/hadoop/historyserver/pom.xml | 4 ++--
 docker/hoodie/hadoop/hive_base/pom.xml     | 4 ++--
 docker/hoodie/hadoop/namenode/pom.xml      | 4 ++--
 docker/hoodie/hadoop/prestobase/pom.xml    | 4 ++--
 docker/hoodie/hadoop/spark_base/pom.xml    | 4 ++--
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 4 ++--
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 4 ++--
 docker/hoodie/hadoop/sparkworker/pom.xml   | 4 ++--
 10 files changed, 20 insertions(+), 20 deletions(-)

commit 804e348d0e8176ceced046fa9e87963907aecc38
Author: 谢磊 <lamberken@163.com>
Date:   Tue Nov 19 18:44:42 2019 +0800

    [HUDI-346] Set allowMultipleEmptyLines to false for EmptyLineSeparator rule (#1025)

 hudi-cli/src/main/java/org/apache/hudi/cli/HoodieCLI.java             | 1 -
 .../src/main/java/org/apache/hudi/cli/commands/RepairsCommand.java    | 1 -
 .../src/main/java/org/apache/hudi/cli/commands/SavepointsCommand.java | 3 ---
 .../src/main/java/org/apache/hudi/cli/utils/InputStreamConsumer.java  | 1 -
 .../src/main/java/org/apache/hudi/config/HoodieCompactionConfig.java  | 1 -
 .../src/main/java/org/apache/hudi/config/HoodieMetricsConfig.java     | 1 -
 .../src/main/java/org/apache/hudi/config/HoodieWriteConfig.java       | 1 -
 .../hudi/exception/HoodieDependentSystemUnavailableException.java     | 1 -
 .../src/main/java/org/apache/hudi/func/BulkInsertMapFunction.java     | 1 -
 .../src/main/java/org/apache/hudi/func/LazyIterableIterator.java      | 1 -
 hudi-client/src/main/java/org/apache/hudi/index/HoodieIndex.java      | 2 --
 .../src/main/java/org/apache/hudi/index/InMemoryHashIndex.java        | 1 -
 .../src/main/java/org/apache/hudi/index/bloom/HoodieBloomIndex.java   | 1 -
 hudi-client/src/main/java/org/apache/hudi/io/HoodieCleanHelper.java   | 1 -
 hudi-client/src/main/java/org/apache/hudi/io/HoodieIOHandle.java      | 1 -
 hudi-client/src/main/java/org/apache/hudi/io/HoodieMergeHandle.java   | 1 -
 .../apache/hudi/io/compact/strategy/DayBasedCompactionStrategy.java   | 1 -
 .../src/main/java/org/apache/hudi/io/storage/HoodieParquetWriter.java | 1 -
 .../src/main/java/org/apache/hudi/table/HoodieCopyOnWriteTable.java   | 1 -
 hudi-client/src/main/java/org/apache/hudi/table/RollbackExecutor.java | 1 -
 hudi-client/src/main/java/org/apache/hudi/table/WorkloadProfile.java  | 1 -
 hudi-client/src/test/java/HoodieClientExample.java                    | 1 -
 hudi-client/src/test/java/org/apache/hudi/TestConsistencyGuard.java   | 1 -
 .../src/test/java/org/apache/hudi/common/HoodieClientTestUtils.java   | 1 -
 .../src/test/java/org/apache/hudi/common/TestRawTripPayload.java      | 2 --
 .../test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java   | 2 --
 .../java/org/apache/hudi/index/bloom/TestHoodieGlobalBloomIndex.java  | 1 -
 .../src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java     | 4 ----
 .../src/main/java/org/apache/hudi/avro/HoodieAvroWriteSupport.java    | 1 -
 .../src/main/java/org/apache/hudi/common/HoodieJsonPayload.java       | 1 -
 .../java/org/apache/hudi/common/model/HoodiePartitionMetadata.java    | 1 -
 .../src/main/java/org/apache/hudi/common/model/HoodieRecord.java      | 1 -
 .../src/main/java/org/apache/hudi/common/table/HoodieTableConfig.java | 1 -
 .../main/java/org/apache/hudi/common/table/HoodieTableMetaClient.java | 2 --
 .../java/org/apache/hudi/common/table/log/HoodieLogFileReader.java    | 1 -
 .../main/java/org/apache/hudi/common/table/log/HoodieLogFormat.java   | 1 -
 .../org/apache/hudi/common/table/log/block/HoodieDeleteBlock.java     | 1 -
 .../org/apache/hudi/common/table/timeline/HoodieActiveTimeline.java   | 2 --
 .../org/apache/hudi/common/table/timeline/HoodieArchivedTimeline.java | 1 -
 .../java/org/apache/hudi/common/table/timeline/dto/InstantDTO.java    | 1 -
 .../apache/hudi/common/table/view/AbstractTableFileSystemView.java    | 1 -
 .../java/org/apache/hudi/common/table/view/FileSystemViewManager.java | 1 -
 hudi-common/src/main/java/org/apache/hudi/common/util/AvroUtils.java  | 1 -
 .../src/main/java/org/apache/hudi/common/util/ConsistencyGuard.java   | 1 -
 hudi-common/src/main/java/org/apache/hudi/common/util/FSUtils.java    | 2 --
 .../src/main/java/org/apache/hudi/common/util/HoodieAvroUtils.java    | 1 -
 .../src/main/java/org/apache/hudi/common/util/SerializationUtils.java | 1 -
 .../src/main/java/org/apache/hudi/common/util/TimelineDiffHelper.java | 1 -
 .../org/apache/hudi/common/util/queue/BoundedInMemoryExecutor.java    | 2 --
 .../apache/hudi/common/util/queue/BoundedInMemoryQueueConsumer.java   | 2 --
 .../java/org/apache/hudi/common/table/TestHoodieTableMetaClient.java  | 1 -
 .../java/org/apache/hudi/common/table/log/TestHoodieLogFormat.java    | 2 --
 .../org/apache/hudi/common/table/view/TestIncrementalFSViewSync.java  | 2 --
 .../org/apache/hudi/common/util/TestDFSPropertiesConfiguration.java   | 1 -
 .../test/java/org/apache/hudi/common/util/TestHoodieAvroUtils.java    | 1 -
 .../src/main/java/org/apache/hudi/hadoop/HoodieROTablePathFilter.java | 1 -
 .../java/org/apache/hudi/hadoop/SafeParquetRecordReaderWrapper.java   | 1 -
 .../apache/hudi/hadoop/realtime/HoodieParquetRealtimeInputFormat.java | 1 -
 .../java/org/apache/hudi/hadoop/realtime/HoodieRealtimeFileSplit.java | 1 -
 .../src/test/java/org/apache/hudi/hadoop/InputFormatTestUtil.java     | 1 -
 .../test/java/org/apache/hudi/hadoop/TestHoodieROTablePathFilter.java | 2 +-
 .../java/org/apache/hudi/hadoop/TestRecordReaderValueIterator.java    | 1 -
 hudi-hive/src/main/java/org/apache/hudi/hive/HiveSyncTool.java        | 1 -
 hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java    | 3 ---
 hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java     | 2 --
 hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java    | 1 -
 .../src/test/java/org/apache/hudi/hive/util/HiveTestService.java      | 3 ---
 hudi-spark/src/main/java/org/apache/hudi/DataSourceUtils.java         | 1 -
 .../src/main/java/org/apache/hudi/utilities/HoodieCompactor.java      | 1 -
 .../main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java  | 2 --
 .../org/apache/hudi/utilities/deltastreamer/HoodieDeltaStreamer.java  | 3 ---
 .../apache/hudi/utilities/deltastreamer/SchedulerConfGenerator.java   | 1 -
 .../org/apache/hudi/utilities/deltastreamer/SourceFormatAdapter.java  | 1 -
 .../org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java  | 1 -
 .../main/java/org/apache/hudi/utilities/perf/TimelineServerPerf.java  | 1 -
 .../java/org/apache/hudi/utilities/sources/HiveIncrPullSource.java    | 1 -
 .../java/org/apache/hudi/utilities/sources/helpers/AvroConvertor.java | 3 ---
 .../org/apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java     | 2 --
 .../test/java/org/apache/hudi/utilities/TestHDFSParquetImporter.java  | 1 -
 .../test/java/org/apache/hudi/utilities/sources/TestKafkaSource.java  | 2 --
 pom.xml                                                               | 2 +-
 style/checkstyle.xml                                                  | 3 +++
 82 files changed, 5 insertions(+), 108 deletions(-)

commit 66492498f702e9224da838d1869e9376111939ce
Author: 谢磊 <lamberken@163.com>
Date:   Tue Nov 19 14:06:01 2019 +0800

    [HUDI-342] add pull request template for hudi project (#1022)

 .github/PULL_REQUEST_TEMPLATE.md | 44 ++++++++++++++++++++++++++++++++++++++++
 1 file changed, 44 insertions(+)

commit e806eb797f4839017dfa87d2cc31a0b01570b061
Author: b_rousseau <26170335+broussea1901@users.noreply.github.com>
Date:   Sun Nov 17 23:29:24 2019 +0100

    [HUDI-339] Add support of Azure cloud storage (#1019)
    
    - Add Azure WASB (BLOB) and ADLS storage in StorageSchemes enum
    - Update testStorageSchemes to test new added storage

 .../main/java/org/apache/hudi/common/storage/StorageSchemes.java    | 6 ++++++
 .../java/org/apache/hudi/common/storage/TestStorageSchemes.java     | 3 +++
 2 files changed, 9 insertions(+)

commit f82e58994e046d92916d45f7ec921e2fb6ba26ef
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Nov 5 11:53:19 2019 -0800

    - Ensure that rollback instant is always created before the next commit instant.
      This especially affects IncrementalPull for MOR tables since we can end up pulling in
      log blocks for uncommitted data
    - Ensure that generated commit instants are 1 second apart

 .../java/org/apache/hudi/HoodieWriteClient.java    | 19 ++++++++++++++-----
 .../table/timeline/HoodieActiveTimeline.java       | 22 +++++++++++++++++-----
 2 files changed, 31 insertions(+), 10 deletions(-)

commit 3a05edab01f72a0e7e9efb890691d938bca4d795
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Nov 3 23:09:15 2019 -0800

    - Fixing RT queries for HiveOnSpark that causes race conditions
    - Adding more comments to understand usage of reader/writer schema

 .../realtime/AbstractRealtimeRecordReader.java     | 38 +++++++++++-----
 .../realtime/HoodieParquetRealtimeInputFormat.java | 53 +++++++++++++---------
 .../realtime/RealtimeCompactedRecordReader.java    | 10 ++--
 3 files changed, 66 insertions(+), 35 deletions(-)

commit 22315a887f5bf277007bdfcec24bc014982a6d4b
Author: 谢磊 <2217232293@qq.com>
Date:   Thu Nov 14 13:18:46 2019 +0800

    [HOTFIX] fix missing version of rat-plugin (#1015)

 pom.xml | 2 ++
 1 file changed, 2 insertions(+)

commit f7c2f8cedc999ddfbd3e29718442a507cf526cf0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Nov 13 08:56:36 2019 -0800

    [HUDI-329] Presto Containers for integration test must allow newly built local jars to override

 docker/compose/docker-compose_hadoop284_hive233_spark244.yml | 6 +++++-
 docker/hoodie/hadoop/prestobase/bin/entrypoint.sh            | 3 +++
 2 files changed, 8 insertions(+), 1 deletion(-)

commit 92c69f57038d055e680f75627426e97679196ce0
Author: Mehrotra <uditme@amazon.com>
Date:   Tue Nov 12 16:16:32 2019 -0800

    Migrate integration tests to spark 2.4.4

 ...1.yml => docker-compose_hadoop284_hive233_spark244.yml} | 14 +++++++-------
 docker/hoodie/hadoop/pom.xml                               |  2 +-
 docker/hoodie/hadoop/spark_base/Dockerfile                 |  2 +-
 docker/hoodie/hadoop/sparkadhoc/Dockerfile                 |  2 +-
 docker/hoodie/hadoop/sparkmaster/Dockerfile                |  2 +-
 docker/hoodie/hadoop/sparkworker/Dockerfile                |  2 +-
 docker/setup_demo.sh                                       |  6 +++---
 docker/stop_demo.sh                                        |  2 +-
 hudi-integ-test/pom.xml                                    |  6 +++---
 9 files changed, 19 insertions(+), 19 deletions(-)

commit 045fa87a3db5d9954d1ca88c8a2ef28c11214330
Author: lamber-ken <xl38154@qq.com>
Date:   Thu Nov 14 02:39:05 2019 +0800

    [HUDI-330] add EmptyStatement java checkstyle rule

 hudi-client/src/test/java/org/apache/hudi/TestCleaner.java | 6 +++---
 style/checkstyle.xml                                       | 2 ++
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 8ff06ddb0fdc8325382dbca4bd9dd4884b4e1110
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Nov 12 06:12:44 2019 -0800

    [HUDI-80] Leverage Commit metadata to figure out partitions to be cleaned for Cleaning by commits mode (#1008)

 .../java/org/apache/hudi/HoodieCleanClient.java    |   2 +-
 .../apache/hudi/config/HoodieCompactionConfig.java |   9 ++
 .../org/apache/hudi/config/HoodieWriteConfig.java  |   4 +
 .../java/org/apache/hudi/io/HoodieCleanHelper.java |  44 +++++++++
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  |   9 +-
 .../src/test/java/org/apache/hudi/TestCleaner.java | 105 ++++++++++++++++++---
 .../java/org/apache/hudi/TestHoodieClientBase.java |   2 +-
 .../org/apache/hudi/common/HoodieCleanStat.java    |  14 ++-
 .../table/timeline/HoodieActiveTimeline.java       |   2 +-
 9 files changed, 167 insertions(+), 24 deletions(-)

commit 0bb5999f7950d010649e082f6f056f44d92c91f9
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   Mon Nov 11 17:27:31 2019 -0800

    [HUDI-306] Support Glue catalog and other hive metastore implementations (#961)
    
    - Support Glue catalog and other metastore implementations
    - Remove shading from hudi utilities bundle
    - Add maven profile to optionally shade hive in utilities bundle

 .../org/apache/hudi/hive/HoodieHiveClient.java     | 12 ++--
 packaging/hudi-spark-bundle/pom.xml                | 69 ++++++++--------------
 packaging/hudi-utilities-bundle/pom.xml            | 34 +++++++----
 pom.xml                                            |  4 ++
 4 files changed, 56 insertions(+), 63 deletions(-)

commit 1032fc3e549aa70a8817fd4782e971de976b682a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Oct 28 18:54:48 2019 -0700

    [HUDI-137] Hudi cleaning state changes should be consistent with compaction actions
    
    Before this change, Cleaner performs cleaning of old file versions and then stores the deleted files in .clean files.
    With this setup, we will not be able to track file deletions if a cleaner fails after deleting files but before writing .clean metadata.
    This is fine for regular file-system view generation but Incremental timeline syncing relies on clean/commit/compaction metadata to keep a consistent file-system view.
    
    Cleaner state transitions is now similar to that of compaction.
    
    1. Requested : HoodieWriteClient.scheduleClean() selects the list of files that needs to be deleted and stores them in metadata
    2. Inflight : HoodieWriteClient marks the state to be inflight before it starts deleting
    3. Completed : HoodieWriteClient marks the state after completing the deletion according to the cleaner plan

 .../hudi/cli/commands/CompactionCommand.java       |   3 +-
 .../org/apache/hudi/CompactionAdminClient.java     |  49 +++--
 .../java/org/apache/hudi/HoodieCleanClient.java    | 182 ++++++++++++++++++
 .../java/org/apache/hudi/HoodieWriteClient.java    |  57 ++----
 .../client/embedded/EmbeddedTimelineService.java   |   2 +
 .../java/org/apache/hudi/io/HoodieCleanHelper.java |  13 +-
 .../java/org/apache/hudi/io/HoodieMergeHandle.java |   5 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  57 +++---
 .../io/compact/strategy/CompactionStrategy.java    |   3 +-
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  | 144 ++++++++------
 .../apache/hudi/table/HoodieMergeOnReadTable.java  | 213 +++++++++++----------
 .../java/org/apache/hudi/table/HoodieTable.java    |  24 ++-
 .../org/apache/hudi/table/RollbackExecutor.java    |  20 +-
 .../org/apache/hudi/table/RollbackRequest.java     |   8 +-
 .../org/apache/hudi/HoodieClientTestHarness.java   |   6 +
 .../src/test/java/org/apache/hudi/TestCleaner.java | 205 ++++++++++----------
 .../java/org/apache/hudi/TestHoodieClientBase.java |   5 +
 hudi-common/src/main/avro/HoodieCleanerPlan.avsc   |  69 +++++++
 .../hudi/common/model/CompactionOperation.java     |  14 +-
 .../apache/hudi/common/table/HoodieTimeline.java   |  26 ++-
 .../table/timeline/HoodieActiveTimeline.java       |  80 ++++++--
 .../table/timeline/HoodieDefaultTimeline.java      |   8 +
 .../hudi/common/table/timeline/HoodieInstant.java  |   5 +-
 .../table/view/RocksDbBasedFileSystemView.java     |   2 +
 .../org/apache/hudi/common/util/AvroUtils.java     |  10 +
 .../org/apache/hudi/common/util/ParquetUtils.java  |   7 +-
 .../hudi/common/versioning/MetadataMigrator.java   |  15 +-
 .../hudi/common/versioning/VersionMigrator.java    |   4 +
 .../compaction/CompactionPlanMigrator.java         |   5 +-
 .../compaction/CompactionV1MigrationHandler.java   |  14 +-
 .../compaction/CompactionV2MigrationHandler.java   |  15 +-
 .../hudi/common/util/TestCompactionUtils.java      |  32 ++--
 .../java/org/apache/hudi/hive/HiveSyncTool.java    |  41 ++--
 .../hudi/timeline/service/TimelineService.java     |   2 +
 34 files changed, 855 insertions(+), 490 deletions(-)

commit 23b303e4b17c5f7b603900ee5b0d2e6718118014
Author: Sivabalan Narayanan <n.siva.b@gmail.com>
Date:   Mon Nov 11 06:21:49 2019 -0800

    [HUDI-218] Adding Presto support to Integration Test (#1003)

 docker/demo/presto-batch1.commands                 |  4 ++
 .../demo/presto-batch2-after-compaction.commands   |  2 +
 docker/demo/presto-table-check.commands            |  1 +
 .../java/org/apache/hudi/integ/ITTestBase.java     | 24 +++++++++
 .../org/apache/hudi/integ/ITTestHoodieDemo.java    | 59 +++++++++++++++++++++-
 5 files changed, 88 insertions(+), 2 deletions(-)

commit 5f1309407aba9c7df3a53ce5b30168cce2f20fcc
Author: Pratyaksh Sharma <pratyaksh13@gmail.com>
Date:   Mon Nov 11 19:33:44 2019 +0530

    [HUDI-253]: added validations for schema provider class (#995)

 .../apache/hudi/utilities/sources/InputBatch.java  |  4 ++
 .../hudi/utilities/TestHoodieDeltaStreamer.java    | 57 +++++++++++++++++++---
 2 files changed, 55 insertions(+), 6 deletions(-)

commit 1483b97018646f1cc8d6bbed357d7115c9079ea2
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sun Nov 10 12:39:58 2019 -0800

    [DOCS] Change Hudi acronyms to plural

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1ce3d891cea49990922b8e17080aa496ec22d4f1
Author: Jeff G <32751606+Pahtoe@users.noreply.github.com>
Date:   Sun Nov 10 12:38:13 2019 -0800

    [DOCS] Update to align with original Uber whitepaper (#999)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0863b1cfd947402c66221afa8d1f18fd2bd8273b
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date:   Thu Nov 7 22:12:48 2019 +0530

    [HUDI-245]: replaced instances of getInstants() and reverse() with getReverseOrderedInstants() (#1000)

 .../main/java/org/apache/hudi/cli/commands/CleansCommand.java  |  4 +---
 .../main/java/org/apache/hudi/cli/commands/CommitsCommand.java |  4 +---
 .../java/org/apache/hudi/cli/commands/CompactionCommand.java   |  4 +---
 .../java/org/apache/hudi/cli/commands/SavepointsCommand.java   |  4 +---
 .../src/main/java/org/apache/hudi/HoodieWriteClient.java       | 10 ++++------
 5 files changed, 8 insertions(+), 18 deletions(-)

commit 20871a17b2ec2b0998b80d941bac51434b0854d5
Author: pratyakshsharma <30863489+pratyakshsharma@users.noreply.github.com>
Date:   Thu Nov 7 02:26:09 2019 +0530

    [HUDI-302]: simplified countInstants() method in HoodieDefaultTimeline (#997)

 .../org/apache/hudi/common/table/timeline/HoodieDefaultTimeline.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 71ac2c0d5e8bffdbb11f7789a7805575736049c1
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   Tue Nov 5 17:52:14 2019 +0530

    [HUDI-324] TimestampKeyGenerator should support milliseconds (#993)

 .../org/apache/hudi/utilities/keygen/TimestampBasedKeyGenerator.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 04834817c89ef22cc71362702b675548e637b603
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Sun Nov 3 01:48:06 2019 -0800

    [MINOR] Add features and instructions to build Hudi in README (#992)

 README.md | 34 ++++++++++++++++++++++++++++++----
 1 file changed, 30 insertions(+), 4 deletions(-)

commit 91740635b2cf02ef9e34a603dea31bd246f5b436
Author: Raymond Xu <2701446+xushiyan@users.noreply.github.com>
Date:   Sat Nov 2 23:12:44 2019 -0700

    [HUDI-321] Support bulkinsert in HDFSParquetImporter (#987)
    
    - Add bulk insert feature
    - Fix some minor issues

 .../apache/hudi/utilities/HDFSParquetImporter.java | 68 ++++++++++++++--------
 .../org/apache/hudi/utilities/UtilHelpers.java     |  4 +-
 2 files changed, 47 insertions(+), 25 deletions(-)

commit bd77dc792c723eed9958596be36c86c6d00e4065
Author: Wenning Ding <wenningd@amazon.com>
Date:   Thu Oct 31 12:39:21 2019 -0700

    Add MOR integration testing

 .../org/apache/hudi/integ/ITTestHoodieSanity.java  | 79 ++++++++++++++++++----
 1 file changed, 65 insertions(+), 14 deletions(-)

commit b6057c5e0e60945e7731367381d190dad47f710d
Author: Wenning Ding <wenningd@amazon.com>
Date:   Mon Oct 28 10:44:16 2019 -0700

    [HUDI-314] Fix multi partition keys error when querying a realtime table

 .../org/apache/hudi/hadoop/realtime/AbstractRealtimeRecordReader.java   | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6390aefc41482ba224a4524fe216c277e4f5e79
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 31 06:57:25 2019 -0700

    [HUDI-312] Make docker hdfs cluster ephemeral. This is needed to fix flakiness in integration tests. Also, Fix DeltaStreamer hanging issue due to uncaught exception

 docker/compose/docker-compose_hadoop284_hive233_spark231.yml |  4 ----
 docker/hoodie/hadoop/base/Dockerfile                         |  2 +-
 docker/setup_demo.sh                                         |  6 ------
 .../test/java/org/apache/hudi/integ/ITTestHoodieDemo.java    |  4 ++--
 .../org/apache/hudi/utilities/deltastreamer/DeltaSync.java   |  5 ++++-
 .../hudi/utilities/deltastreamer/HoodieDeltaStreamer.java    | 12 +++++++++---
 6 files changed, 16 insertions(+), 17 deletions(-)

commit 144ea4eedf74e2204c2482afb1baf725363a8a67
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Fri Nov 1 05:22:31 2019 -0700

    Bump httpclient from 4.3.2 to 4.3.6 (#980)
    
    Bumps httpclient from 4.3.2 to 4.3.6.
    
    Signed-off-by: dependabot[bot] <support@github.com>

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 74d8e625c51e0f469bf0e387d30c950a8d135276
Author: dependabot[bot] <49699333+dependabot[bot]@users.noreply.github.com>
Date:   Fri Nov 1 05:06:03 2019 -0700

    Bump checkstyle from 8.8 to 8.18 (#981)
    
    Bumps [checkstyle](https://github.com/checkstyle/checkstyle) from 8.8 to 8.18.
    - [Release notes](https://github.com/checkstyle/checkstyle/releases)
    - [Commits](https://github.com/checkstyle/checkstyle/compare/checkstyle-8.8...checkstyle-8.18)
    
    Signed-off-by: dependabot[bot] <support@github.com>

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ee0fd06de73e0191365549fa7c4f6c71c1bbc08d
Author: Wenning Ding <wenningd@amazon.com>
Date:   Wed Oct 30 11:48:21 2019 -0700

    synchronized lock on conf object instead of class

 .../realtime/HoodieParquetRealtimeInputFormat.java      | 17 ++++++++++-------
 1 file changed, 10 insertions(+), 7 deletions(-)

commit 3251d62bd3c740b25139029a1913d1cf5a57173f
Author: Wenning Ding <wenningd@amazon.com>
Date:   Wed Oct 23 13:53:57 2019 -0700

    [HUDI-313] Fix select count star error when querying a realtime table

 .../realtime/HoodieParquetRealtimeInputFormat.java      | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit eda472adb09ce82063f58200eafcb7be361b4cb8
Author: Guru107 <guruak107@gmail.com>
Date:   Wed Oct 30 11:48:29 2019 +0530

    [MINOR] Fix avro schema warnings in build

 hudi-common/src/main/avro/HoodieArchivedMetaEntry.avsc  | 16 +++++++++-------
 hudi-common/src/main/avro/HoodieCommitMetadata.avsc     |  6 ++++--
 hudi-common/src/main/avro/HoodieCompactionMetadata.avsc | 15 ++++++++++-----
 hudi-common/src/main/avro/HoodieRestoreMetadata.avsc    |  4 ++--
 4 files changed, 25 insertions(+), 16 deletions(-)

commit 7c7403a59dedc012fe2945e230a50f90139fce4b
Author: leesf <490081539@qq.com>
Date:   Thu Oct 31 22:59:35 2019 +0800

    [MINOR] fix annotation in teardown (#990)

 hudi-hive/src/test/java/org/apache/hudi/hive/TestHiveSyncTool.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b0838d25f7280784e8707a3528c8b8f3c0defb04
Author: leesf <490081539@qq.com>
Date:   Wed Oct 30 12:17:45 2019 +0800

    [MINOR] Fix no output in travis (#984)

 .travis.yml | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit ef5001e432c12a2812d5a2e48621e9845666c3d1
Author: leesf <490081539@qq.com>
Date:   Tue Oct 29 07:25:07 2019 +0800

    [MINOR] Fix vm crashes (#979)

 pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit c23da694ccbbf1f0ebcc5ed770dd56c74c1e06d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 24 19:34:00 2019 -0700

    [HUDI-169] Speed up rolling back of instants (#968)

 .../org/apache/hudi/config/HoodieWriteConfig.java  |  13 +
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  |  70 ++---
 .../apache/hudi/table/HoodieMergeOnReadTable.java  | 328 +++++++++------------
 .../org/apache/hudi/table/RollbackExecutor.java    | 233 +++++++++++++++
 .../org/apache/hudi/table/RollbackRequest.java     | 109 +++++++
 5 files changed, 506 insertions(+), 247 deletions(-)

commit d8be818ac9b7b7674918e59eac270e067a2c52a2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 23 01:03:29 2019 -0700

    [HUDI-130] Paths written in compaction plan needs to be relative to base-path

 .../hudi/cli/commands/CompactionCommand.java       |   7 +-
 .../org/apache/hudi/CompactionAdminClient.java     |  47 ++++++----
 .../java/org/apache/hudi/HoodieWriteClient.java    |   8 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  61 +++++++-----
 .../io/compact/strategy/CompactionStrategy.java    |   5 +-
 hudi-common/pom.xml                                |   2 +
 .../src/main/avro/HoodieArchivedMetaEntry.avsc     |   5 +
 hudi-common/src/main/avro/HoodieCleanMetadata.avsc |   5 +
 .../src/main/avro/HoodieCommitMetadata.avsc        |   5 +
 .../src/main/avro/HoodieCompactionOperation.avsc   |   5 +
 .../src/main/avro/HoodieRestoreMetadata.avsc       |   7 +-
 .../src/main/avro/HoodieRollbackMetadata.avsc      |   5 +
 .../src/main/avro/HoodieSavePointMetadata.avsc     |   5 +
 .../hudi/common/model/CompactionOperation.java     |  52 ++++++-----
 .../common/table/timeline/dto/CompactionOpDTO.java |   4 +-
 .../org/apache/hudi/common/util/AvroUtils.java     |  12 ++-
 .../apache/hudi/common/util/CompactionUtils.java   |  20 +++-
 .../common/versioning/AbstractMigratorBase.java    |  31 ++++++
 .../hudi/common/versioning/MetadataMigrator.java   | 104 +++++++++++++++++++++
 .../hudi/common/versioning/VersionMigrator.java    |  48 ++++++++++
 .../compaction/CompactionPlanMigrator.java         |  36 +++++++
 .../compaction/CompactionV1MigrationHandler.java   |  86 +++++++++++++++++
 .../compaction/CompactionV2MigrationHandler.java   |  76 +++++++++++++++
 .../hudi/common/util/CompactionTestUtils.java      |   5 +-
 .../hudi/common/util/TestCompactionUtils.java      |  63 +++++++++----
 25 files changed, 600 insertions(+), 104 deletions(-)

commit e4c91ed13f16e1d0d55d9d690395bb62ab2b4fa0
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Tue Oct 22 20:19:11 2019 -0700

    [HUDI-290] Normalize test class name of all test classes (#951)

 .../{HoodieWriteConfigTest.java => TestHoodieWriteConfig.java}    | 2 +-
 ...dieTableMetaClientTest.java => TestHoodieTableMetaClient.java} | 2 +-
 .../log/{HoodieLogFormatTest.java => TestHoodieLogFormat.java}    | 4 ++--
 ...pendFailureTest.java => TestHoodieLogFormatAppendFailure.java} | 2 +-
 ...oodieActiveTimelineTest.java => TestHoodieActiveTimeline.java} | 2 +-
 ...FileSystemViewTest.java => TestHoodieTableFileSystemView.java} | 4 ++--
 ...rementalFSViewSyncTest.java => TestIncrementalFSViewSync.java} | 4 ++--
 ...ewSyncTest.java => TestRocksDBBasedIncrementalFSViewSync.java} | 2 +-
 ...ileSystemViewTest.java => TestRocksDbBasedFileSystemView.java} | 2 +-
 ...stemViewTest.java => TestSpillableMapBasedFileSystemView.java} | 2 +-
 ...cTest.java => TestSpillableMapBasedIncrementalFSViewSync.java} | 2 +-
 .../hudi/hadoop/{AnnotationTest.java => TestAnnotation.java}      | 2 +-
 .../{HoodieInputFormatTest.java => TestHoodieInputFormat.java}    | 2 +-
 ...eRecordReaderTest.java => TestHoodieRealtimeRecordReader.java} | 2 +-
 .../hudi/hive/{HiveSyncToolTest.java => TestHiveSyncTool.java}    | 4 ++--
 hudi-hive/src/test/java/org/apache/hudi/hive/TestUtil.java        | 2 +-
 .../src/test/scala/{DataSourceTest.scala => TestDataSource.scala} | 2 +-
 ...{DataSourceDefaultsTest.scala => TestDataSourceDefaults.scala} | 2 +-
 ...stemViewTest.java => TestRemoteHoodieTableFileSystemView.java} | 8 ++++----
 ...ulerConfGeneratorTest.java => TestSchedulerConfGenerator.java} | 2 +-
 20 files changed, 27 insertions(+), 27 deletions(-)

commit 031b067a3ab77afb55f8f48b06eead27f551e12e
Author: Gurudatt Kulkarni <Guru107@users.noreply.github.com>
Date:   Wed Oct 23 08:47:13 2019 +0530

    [MINOR] Move all repository declarations to parent pom (#966)

 hudi-cli/pom.xml                        | 11 -----------
 packaging/hudi-utilities-bundle/pom.xml |  7 -------
 pom.xml                                 |  8 ++++++++
 3 files changed, 8 insertions(+), 18 deletions(-)

commit 4529f535b26496ec838bd6cd6673a53f42b766e2
Author: Amit Prabhu <amit.dp180@gmail.com>
Date:   Wed Oct 23 08:46:16 2019 +0530

    [MINOR] Add backtick escape while syncing partition fields (#967)

 hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14dd649d06009e99f0d687edd0763c27e3df0389
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Oct 21 13:04:22 2019 -0700

    [MINOR] Remove release notes and move confluent repository to hoodie parent pom

 RELEASE_NOTES.md       | 476 -------------------------------------------------
 hudi-utilities/pom.xml |   7 -
 pom.xml                |   4 +
 3 files changed, 4 insertions(+), 483 deletions(-)

commit dfdc0e40e1f85c49e580b31204621758e3d76ac5
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sun Oct 20 21:00:04 2019 -0700

    [HUDI-283] : Ensure a sane minimum for merge buffer memory (#964)
    
    - Some environments e.g spark-shell provide 0 for memory size
    - This causes unnecessary performance degradation

 .../java/org/apache/hudi/config/HoodieMemoryConfig.java    | 14 +++++++++++---
 .../main/java/org/apache/hudi/io/HoodieMergeHandle.java    |  8 +++++---
 2 files changed, 16 insertions(+), 6 deletions(-)

commit ed745dfdbf254bfc2ec6d9c7baed8ccbf571abab
Author: YanJia-Gary-Li <yanjia.gary.li@gmail.com>
Date:   Wed Oct 16 21:11:59 2019 -0700

    [HUDI-40] Add parquet support for the Delta Streamer (#949)

 .../deltastreamer/SourceFormatAdapter.java         | 15 ++++
 .../hudi/utilities/sources/ParquetDFSSource.java   | 60 ++++++++++++++++
 .../hudi/utilities/sources/ParquetSource.java      | 34 +++++++++
 .../org/apache/hudi/utilities/sources/Source.java  |  2 +-
 .../apache/hudi/utilities/UtilitiesTestBase.java   | 35 +++++++++
 .../hudi/utilities/sources/TestDFSSource.java      | 83 ++++++++++++++++++++--
 6 files changed, 224 insertions(+), 5 deletions(-)

commit 7381b661942dad9c650e43179a478a57b530a606
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 16 03:32:57 2019 -0700

    [HUDI-121] Fix issues in release scripts

 pom.xml                                    |  1 +
 scripts/release/validate_staged_release.sh | 12 ++++++------
 2 files changed, 7 insertions(+), 6 deletions(-)

commit 603df66938ebf1a72ceab5a055d911e0caa438f5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 16 02:19:29 2019 -0700

    Update RELEASE Notes in master

 RELEASE_NOTES.md | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 77f4e73615d0949eec70187e397ef17f62e908a0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Oct 11 23:00:55 2019 -0700

    [HUDI-121] Fix licensing issues found during RC voting by general incubator group

 DISCLAIMER                                         |   6 -
 DISCLAIMER-WIP                                     |  26 +
 LICENSE                                            | 118 ++++
 .../scala/org/apache/hudi/cli/SparkHelpers.scala   |  11 +-
 .../org/apache/hudi/common/TestRawTripPayload.java |   4 +-
 .../apache/hudi/avro/HoodieAvroWriteSupport.java   |   2 +-
 .../apache/hudi/avro/MercifulJsonConverter.java    | 300 +++++++---
 .../org/apache/hudi/common/HoodieJsonPayload.java  |   4 +-
 .../hudi/common/util/ObjectSizeCalculator.java     |  19 -
 .../java/org/apache/hudi/common/util/Option.java   | 265 ++-------
 .../org/apache/hudi/common/util/ParquetUtils.java  |  30 +-
 .../apache/hudi/common/util/SchemaTestUtil.java    |   4 +-
 .../org/apache/hudi/AvroConversionHelper.scala     | 302 ++++++++++
 .../org/apache/hudi/AvroConversionUtils.scala      | 289 +---------
 .../utilities/sources/helpers/AvroConvertor.java   |   4 +-
 .../hudi/utilities/TestHoodieDeltaStreamer.java    |  31 +-
 pom.xml                                            |   7 +-
 style/eclipse-java-google-style.xml                | 353 ------------
 style/intellij-java-google-style.xml               | 614 ---------------------
 19 files changed, 781 insertions(+), 1608 deletions(-)

commit 8c133400627db55570183c9d478098f339fd4977
Author: Mehrotra <uditme@amazon.com>
Date:   Thu Sep 19 19:00:03 2019 -0700

    Shade and relocate Avro dependency in hadoop-mr-bundle

 packaging/hudi-hadoop-mr-bundle/pom.xml | 21 +++++++++++++++++++++
 pom.xml                                 |  9 +++++++++
 2 files changed, 30 insertions(+)

commit 1c09f5b055cc78fabb4881cac75f43734f3dcf61
Author: Wenning Ding <wenningd@amazon.com>
Date:   Thu Oct 10 23:21:00 2019 -0700

    [HUDI-301] fix path error when update a non-partition MOR table

 hudi-client/src/main/java/org/apache/hudi/io/HoodieAppendHandle.java | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 12523c379fe9d0bcf298fba80d9c2ca08e1a0d56
Author: Udit Mehrotra <umehrot2@illinois.edu>
Date:   Wed Oct 16 02:05:53 2019 -0700

    [HUDI-298] Fix issue with incorrect column mapping casusing bad data, during on-the-fly merge of Real Time tables (#956)
    
    * Fix issue with incorrect column mapping casusing bad data, during on-the-fly merge of Real Time tables

 .../hudi/common/HoodieMergeOnReadTestUtils.java    | 16 ++++++-
 .../hudi/common/HoodieTestDataGenerator.java       |  1 +
 .../apache/hudi/common/util/HoodieAvroUtils.java   |  4 ++
 .../realtime/AbstractRealtimeRecordReader.java     | 50 +++++++++++++++++---
 .../realtime/RealtimeCompactedRecordReader.java    |  2 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 53 ++++++++++------------
 6 files changed, 88 insertions(+), 38 deletions(-)

commit c052167c064b453ba5761f1137dc68104414121a
Author: Anurag870 <f2005870@gmail.com>
Date:   Mon Oct 14 09:32:25 2019 +0530

    [Docs] Update README.md (#955)

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e10e06918e4758917513c55f9bc02c35dad99128
Author: leesf <490081539@qq.com>
Date:   Fri Oct 11 20:28:45 2019 +0800

    [HUDI-292] Avoid consuming more entries from kafka than specified sourceLimit. (#947)
    
     - Special handling when allocedEvents > numEvents
     - Added unit tests

 .../apache/hudi/utilities/sources/helpers/KafkaOffsetGen.java  |  5 +++++
 .../org/apache/hudi/utilities/sources/TestKafkaSource.java     | 10 ++++++++++
 2 files changed, 15 insertions(+)

commit b19bed442d84c1cb1e48d184c9554920735bcb6c
Author: leesf <490081539@qq.com>
Date:   Thu Oct 10 20:19:40 2019 +0800

    [HUDI-296] Explore use of spotless to auto fix formatting errors (#945)
    
    
    - Add spotless format fixing to project
    - One time reformatting for conformity
    - Build fails for formatting changes and mvn spotless:apply autofixes them

 docker/hoodie/hadoop/base/pom.xml                  |   1 +
 docker/hoodie/hadoop/datanode/pom.xml              |   1 +
 docker/hoodie/hadoop/historyserver/pom.xml         |   1 +
 docker/hoodie/hadoop/hive_base/pom.xml             |   1 +
 docker/hoodie/hadoop/namenode/pom.xml              |   1 +
 docker/hoodie/hadoop/pom.xml                       |   1 +
 docker/hoodie/hadoop/prestobase/pom.xml            |   1 +
 docker/hoodie/hadoop/spark_base/pom.xml            |   1 +
 docker/hoodie/hadoop/sparkadhoc/pom.xml            |   1 +
 docker/hoodie/hadoop/sparkmaster/pom.xml           |   1 +
 docker/hoodie/hadoop/sparkworker/pom.xml           |   1 +
 hudi-cli/pom.xml                                   |   1 +
 .../org/apache/hudi/cli/HoodiePrintHelper.java     |  20 +-
 .../src/main/java/org/apache/hudi/cli/Table.java   |  14 +-
 .../hudi/cli/commands/ArchivedCommitsCommand.java  |  60 +-
 .../apache/hudi/cli/commands/CleansCommand.java    |  38 +-
 .../apache/hudi/cli/commands/CommitsCommand.java   |  95 ++-
 .../hudi/cli/commands/CompactionCommand.java       | 209 +++----
 .../apache/hudi/cli/commands/DatasetsCommand.java  |  30 +-
 .../hudi/cli/commands/FileSystemViewCommand.java   |  92 ++-
 .../cli/commands/HDFSParquetImportCommand.java     |  24 +-
 .../hudi/cli/commands/HoodieLogFileCommand.java    |  80 ++-
 .../hudi/cli/commands/HoodieSyncCommand.java       |  35 +-
 .../apache/hudi/cli/commands/RepairsCommand.java   |  38 +-
 .../apache/hudi/cli/commands/RollbacksCommand.java |  36 +-
 .../hudi/cli/commands/SavepointsCommand.java       |   8 +-
 .../org/apache/hudi/cli/commands/SparkMain.java    |  23 +-
 .../org/apache/hudi/cli/commands/StatsCommand.java |  49 +-
 .../java/org/apache/hudi/cli/utils/HiveUtil.java   |   7 +-
 .../java/org/apache/hudi/cli/utils/SparkUtil.java  |   4 +-
 hudi-client/pom.xml                                |   4 +
 .../java/org/apache/hudi/AbstractHoodieClient.java |  11 +-
 .../org/apache/hudi/CompactionAdminClient.java     | 266 ++++----
 .../java/org/apache/hudi/HoodieReadClient.java     |  53 +-
 .../java/org/apache/hudi/HoodieWriteClient.java    | 529 +++++++---------
 .../src/main/java/org/apache/hudi/WriteStatus.java |  22 +-
 .../apache/hudi/config/HoodieCompactionConfig.java |  88 ++-
 .../apache/hudi/config/HoodieHBaseIndexConfig.java |  68 +--
 .../org/apache/hudi/config/HoodieIndexConfig.java  |  30 +-
 .../org/apache/hudi/config/HoodieMemoryConfig.java |  59 +-
 .../apache/hudi/config/HoodieMetricsConfig.java    |   6 +-
 .../apache/hudi/config/HoodieStorageConfig.java    |  27 +-
 .../org/apache/hudi/config/HoodieWriteConfig.java  | 126 ++--
 .../hudi/exception/HoodieAppendException.java      |   5 +-
 .../hudi/exception/HoodieCommitException.java      |   3 +-
 .../HoodieDependentSystemUnavailableException.java |   4 +-
 .../hudi/exception/HoodieInsertException.java      |   5 +-
 .../hudi/exception/HoodieUpsertException.java      |   5 +-
 .../apache/hudi/func/BulkInsertMapFunction.java    |   8 +-
 .../hudi/func/CopyOnWriteLazyInsertIterable.java   |  31 +-
 .../org/apache/hudi/func/LazyIterableIterator.java |  21 +-
 .../hudi/func/MergeOnReadLazyInsertIterable.java   |   6 +-
 .../java/org/apache/hudi/func/OperationResult.java |  11 +-
 .../apache/hudi/func/ParquetReaderIterator.java    |   4 +-
 .../hudi/func/SparkBoundedInMemoryExecutor.java    |  12 +-
 .../java/org/apache/hudi/index/HoodieIndex.java    |  29 +-
 .../org/apache/hudi/index/InMemoryHashIndex.java   |  12 +-
 .../bloom/BucketizedBloomCheckPartitioner.java     |   5 +-
 .../apache/hudi/index/bloom/HoodieBloomIndex.java  | 139 +++--
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  16 +-
 .../hudi/index/bloom/HoodieGlobalBloomIndex.java   |  15 +-
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |  10 +-
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |   4 +-
 .../hudi/index/bloom/KeyRangeLookupTree.java       |  25 +-
 .../org/apache/hudi/index/bloom/KeyRangeNode.java  |  17 +-
 .../bloom/ListBasedGlobalIndexFileFilter.java      |   3 +-
 .../org/apache/hudi/index/hbase/HBaseIndex.java    | 265 ++++----
 .../hbase/HBaseIndexQPSResourceAllocator.java      |  12 +-
 .../org/apache/hudi/io/HoodieAppendHandle.java     |  46 +-
 .../java/org/apache/hudi/io/HoodieCleanHelper.java |  93 ++-
 .../org/apache/hudi/io/HoodieCommitArchiveLog.java |  80 +--
 .../org/apache/hudi/io/HoodieCreateHandle.java     |  18 +-
 .../org/apache/hudi/io/HoodieKeyLookupHandle.java  |  18 +-
 .../java/org/apache/hudi/io/HoodieMergeHandle.java |  67 +--
 .../java/org/apache/hudi/io/HoodieWriteHandle.java |   5 +-
 .../apache/hudi/io/compact/HoodieCompactor.java    |  17 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   | 148 ++---
 .../strategy/BoundedIOCompactionStrategy.java      |   4 +-
 .../BoundedPartitionAwareCompactionStrategy.java   |  31 +-
 .../io/compact/strategy/CompactionStrategy.java    |  38 +-
 .../strategy/DayBasedCompactionStrategy.java       |  16 +-
 .../LogFileSizeBasedCompactionStrategy.java        |  18 +-
 .../strategy/UnBoundedCompactionStrategy.java      |   5 +-
 .../UnBoundedPartitionAwareCompactionStrategy.java |  33 +-
 .../hudi/io/storage/HoodieParquetConfig.java       |   5 +-
 .../hudi/io/storage/HoodieParquetWriter.java       |  36 +-
 .../io/storage/HoodieStorageWriterFactory.java     |  25 +-
 .../org/apache/hudi/metrics/HoodieMetrics.java     |  29 +-
 .../hudi/metrics/InMemoryMetricsReporter.java      |   6 +-
 .../hudi/metrics/MetricsGraphiteReporter.java      |  13 +-
 .../apache/hudi/metrics/MetricsReporterType.java   |   3 +-
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  | 244 ++++----
 .../apache/hudi/table/HoodieMergeOnReadTable.java  | 413 ++++++-------
 .../java/org/apache/hudi/table/HoodieTable.java    |  67 +--
 .../table/UserDefinedBulkInsertPartitioner.java    |  10 +-
 .../org/apache/hudi/table/WorkloadProfile.java     |  10 +-
 hudi-client/src/test/java/HoodieClientExample.java |  14 +-
 .../org/apache/hudi/HoodieClientTestHarness.java   |  16 +-
 .../java/org/apache/hudi/TestAsyncCompaction.java  | 121 ++--
 .../src/test/java/org/apache/hudi/TestCleaner.java | 529 ++++++++--------
 .../java/org/apache/hudi/TestClientRollback.java   |  25 +-
 .../org/apache/hudi/TestCompactionAdminClient.java | 126 ++--
 .../java/org/apache/hudi/TestConsistencyGuard.java |  20 +-
 .../java/org/apache/hudi/TestHoodieClientBase.java |  87 +--
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java | 156 +++--
 .../java/org/apache/hudi/TestHoodieReadClient.java |  43 +-
 .../src/test/java/org/apache/hudi/TestMultiFS.java |  21 +-
 .../test/java/org/apache/hudi/TestWriteStatus.java |   4 +-
 .../apache/hudi/common/HoodieClientTestUtils.java  |  61 +-
 .../hudi/common/HoodieTestDataGenerator.java       |  40 +-
 .../hudi/func/TestBoundedInMemoryExecutor.java     |  10 +-
 .../apache/hudi/func/TestBoundedInMemoryQueue.java |  42 +-
 .../apache/hudi/func/TestUpdateMapFunction.java    |   8 +-
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |  22 +-
 .../java/org/apache/hudi/index/TestHbaseIndex.java |  49 +-
 .../org/apache/hudi/index/TestHoodieIndex.java     |   7 +-
 .../bloom/TestBucketizedBloomCheckPartitioner.java |  15 +-
 .../hudi/index/bloom/TestHoodieBloomIndex.java     | 181 +++---
 .../index/bloom/TestHoodieGlobalBloomIndex.java    | 131 ++--
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java | 148 +++--
 .../org/apache/hudi/io/TestHoodieCompactor.java    |  19 +-
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  |  96 ++-
 .../io/storage/TestHoodieStorageWriterFactory.java | 122 ++--
 .../io/strategy/TestHoodieCompactionStrategy.java  |  80 +--
 .../apache/hudi/table/TestCopyOnWriteTable.java    |  77 ++-
 .../apache/hudi/table/TestHoodieRecordSizing.java  |  15 +-
 .../apache/hudi/table/TestMergeOnReadTable.java    | 283 ++++-----
 hudi-common/pom.xml                                |   4 +
 .../apache/hudi/avro/HoodieAvroWriteSupport.java   |   6 +-
 .../apache/hudi/avro/MercifulJsonConverter.java    |  18 +-
 .../org/apache/hudi/common/HoodieCleanStat.java    |  13 +-
 .../org/apache/hudi/common/HoodieJsonPayload.java  |   6 +-
 .../org/apache/hudi/common/HoodieRollbackStat.java |   9 +-
 .../hudi/common/SerializableConfiguration.java     |   3 +-
 .../common/io/storage/HoodieWrapperFileSystem.java | 144 ++---
 .../io/storage/SizeAwareFSDataOutputStream.java    |   8 +-
 .../hudi/common/model/CompactionOperation.java     |  36 +-
 .../org/apache/hudi/common/model/FileSlice.java    |  15 +-
 .../hudi/common/model/HoodieAvroPayload.java       |   9 +-
 .../hudi/common/model/HoodieCleaningPolicy.java    |   3 +-
 .../hudi/common/model/HoodieCommitMetadata.java    |   7 +-
 .../apache/hudi/common/model/HoodieDataFile.java   |   5 +-
 .../apache/hudi/common/model/HoodieFileGroup.java  |  41 +-
 .../hudi/common/model/HoodieFileGroupId.java       |   8 +-
 .../org/apache/hudi/common/model/HoodieKey.java    |   7 +-
 .../apache/hudi/common/model/HoodieLogFile.java    |   9 +-
 .../hudi/common/model/HoodiePartitionMetadata.java |  21 +-
 .../org/apache/hudi/common/model/HoodieRecord.java |  21 +-
 .../hudi/common/model/HoodieRecordLocation.java    |   6 +-
 .../hudi/common/model/HoodieRecordPayload.java     |  38 +-
 .../apache/hudi/common/model/HoodieTableType.java  |   5 +-
 .../apache/hudi/common/model/HoodieWriteStat.java  |  30 +-
 .../apache/hudi/common/storage/StorageSchemes.java |   3 +-
 .../hudi/common/table/HoodieTableConfig.java       |  42 +-
 .../hudi/common/table/HoodieTableMetaClient.java   | 112 ++--
 .../apache/hudi/common/table/HoodieTimeline.java   |  56 +-
 .../hudi/common/table/SyncableFileSystemView.java  |  10 +-
 .../hudi/common/table/TableFileSystemView.java     |  17 +-
 .../table/log/AbstractHoodieLogRecordScanner.java  |  61 +-
 .../hudi/common/table/log/HoodieLogFileReader.java |  66 +-
 .../hudi/common/table/log/HoodieLogFormat.java     |  33 +-
 .../common/table/log/HoodieLogFormatReader.java    |  18 +-
 .../common/table/log/HoodieLogFormatVersion.java   |   3 +-
 .../common/table/log/HoodieLogFormatWriter.java    |  53 +-
 .../table/log/HoodieMergedLogRecordScanner.java    |  33 +-
 .../table/log/HoodieUnMergedLogRecordScanner.java  |   5 +-
 .../table/log/block/HoodieAvroDataBlock.java       |  65 +-
 .../log/block/HoodieAvroDataBlockVersion.java      |   4 +-
 .../common/table/log/block/HoodieCommandBlock.java |  23 +-
 .../table/log/block/HoodieCommandBlockVersion.java |   4 +-
 .../common/table/log/block/HoodieCorruptBlock.java |  25 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |  25 +-
 .../table/log/block/HoodieDeleteBlockVersion.java  |   4 +-
 .../common/table/log/block/HoodieLogBlock.java     |  67 +--
 .../table/timeline/HoodieActiveTimeline.java       |  75 +--
 .../table/timeline/HoodieArchivedTimeline.java     |  34 +-
 .../table/timeline/HoodieDefaultTimeline.java      |  42 +-
 .../hudi/common/table/timeline/HoodieInstant.java  |  10 +-
 .../common/table/timeline/dto/CompactionOpDTO.java |  10 +-
 .../common/table/timeline/dto/FileGroupDTO.java    |   4 +-
 .../common/table/timeline/dto/TimelineDTO.java     |   2 +-
 .../table/view/AbstractTableFileSystemView.java    | 188 +++---
 .../common/table/view/FileSystemViewManager.java   |  65 +-
 .../table/view/FileSystemViewStorageConfig.java    |  33 +-
 .../table/view/HoodieTableFileSystemView.java      |  18 +-
 .../IncrementalTimelineSyncFileSystemView.java     |  72 +--
 .../table/view/PriorityBasedFileSystemView.java    |   7 +-
 .../view/RemoteHoodieTableFileSystemView.java      | 116 ++--
 .../table/view/RocksDbBasedFileSystemView.java     |  88 +--
 .../view/SpillableMapBasedFileSystemView.java      |  36 +-
 .../org/apache/hudi/common/util/AvroUtils.java     |  88 ++-
 .../apache/hudi/common/util/CompactionUtils.java   |  32 +-
 .../apache/hudi/common/util/ConsistencyGuard.java  |  10 +-
 .../hudi/common/util/ConsistencyGuardConfig.java   |   8 +-
 .../common/util/DFSPropertiesConfiguration.java    |   3 +-
 .../hudi/common/util/DefaultSizeEstimator.java     |   3 +-
 .../java/org/apache/hudi/common/util/FSUtils.java  | 140 ++---
 .../hudi/common/util/FailSafeConsistencyGuard.java |  12 +-
 .../org/apache/hudi/common/util/FileIOUtils.java   |   5 +-
 .../apache/hudi/common/util/HoodieAvroUtils.java   |  51 +-
 .../common/util/HoodieRecordSizeEstimator.java     |   1 +
 .../org/apache/hudi/common/util/HoodieTimer.java   |   5 +-
 .../apache/hudi/common/util/LogReaderUtils.java    |   4 +-
 .../hudi/common/util/NoOpConsistencyGuard.java     |   6 +-
 .../hudi/common/util/ObjectSizeCalculator.java     |  88 +--
 .../java/org/apache/hudi/common/util/Option.java   |  38 +-
 .../org/apache/hudi/common/util/ParquetUtils.java  |  43 +-
 .../apache/hudi/common/util/ReflectionUtils.java   |  16 +-
 .../org/apache/hudi/common/util/RocksDBDAO.java    |  20 +-
 .../hudi/common/util/RocksDBSchemaHelper.java      |  30 +-
 .../hudi/common/util/SerializationUtils.java       |  32 +-
 .../org/apache/hudi/common/util/SizeEstimator.java |   6 +-
 .../apache/hudi/common/util/SpillableMapUtils.java |  36 +-
 .../org/apache/hudi/common/util/StringUtils.java   |  14 +-
 .../hudi/common/util/TimelineDiffHelper.java       |  23 +-
 .../hudi/common/util/collection/DiskBasedMap.java  |  23 +-
 .../util/collection/ExternalSpillableMap.java      |  35 +-
 .../hudi/common/util/collection/ImmutablePair.java |  36 +-
 .../common/util/collection/ImmutableTriple.java    |  28 +-
 .../common/util/collection/LazyFileIterable.java   |   9 +-
 .../apache/hudi/common/util/collection/Pair.java   | 105 ++--
 .../common/util/collection/RocksDBBasedMap.java    |   7 +-
 .../apache/hudi/common/util/collection/Triple.java |  81 ++-
 .../common/util/queue/BoundedInMemoryExecutor.java |  48 +-
 .../common/util/queue/BoundedInMemoryQueue.java    |  44 +-
 .../util/queue/BoundedInMemoryQueueProducer.java   |   3 +-
 .../apache/hudi/config/DefaultHoodieConfig.java    |   6 +-
 .../hudi/exception/DatasetNotFoundException.java   |   7 +-
 .../exception/HoodieCorruptedDataException.java    |   3 +-
 .../org/apache/hudi/exception/HoodieException.java |  10 +-
 .../apache/hudi/exception/HoodieIOException.java   |   4 +-
 .../hudi/exception/HoodieIndexException.java       |   4 +-
 .../exception/HoodieRecordMissingException.java    |  12 +-
 .../hudi/exception/InvalidDatasetException.java    |   4 +-
 .../hudi/common/HoodieCommonTestHarness.java       |  13 +-
 .../hudi/common/minicluster/HdfsTestService.java   |   6 +-
 .../hudi/common/model/AvroBinaryTestPayload.java   |   3 +-
 .../apache/hudi/common/model/HoodieTestUtils.java  |  52 +-
 .../common/model/TestHoodieCommitMetadata.java     |   4 +-
 .../apache/hudi/common/model/TestHoodieRecord.java |   6 +-
 .../common/table/HoodieTableMetaClientTest.java    |  11 +-
 .../log/HoodieLogFormatAppendFailureTest.java      |  16 +-
 .../hudi/common/table/log/HoodieLogFormatTest.java | 499 +++++++--------
 .../table/string/HoodieActiveTimelineTest.java     |  10 +-
 .../common/table/string/MockHoodieTimeline.java    |   5 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 318 +++++-----
 .../table/view/IncrementalFSViewSyncTest.java      | 187 +++---
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |   5 +-
 .../table/view/RocksDbBasedFileSystemViewTest.java |   3 +-
 .../view/SpillableMapBasedFileSystemViewTest.java  |   6 +-
 .../hudi/common/util/CompactionTestUtils.java      |  60 +-
 .../apache/hudi/common/util/SchemaTestUtil.java    |  52 +-
 .../hudi/common/util/SpillableMapTestUtils.java    |  24 +-
 .../hudi/common/util/TestCompactionUtils.java      | 104 ++--
 .../util/TestDFSPropertiesConfiguration.java       |  27 +-
 .../org/apache/hudi/common/util/TestFSUtils.java   |  47 +-
 .../hudi/common/util/TestHoodieAvroUtils.java      |   7 +-
 .../apache/hudi/common/util/TestParquetUtils.java  |  16 +-
 .../org/apache/hudi/common/util/TestRecord.java    |   9 +-
 .../hudi/common/util/TestRocksDBManager.java       |  12 +-
 .../hudi/common/util/TestSerializationUtils.java   |   2 +-
 .../common/util/collection/TestDiskBasedMap.java   |  44 +-
 .../util/collection/TestExternalSpillableMap.java  |  31 +-
 hudi-hadoop-mr/pom.xml                             |   4 +
 .../hudi/hadoop/HoodieParquetInputFormat.java      |  81 ++-
 .../hudi/hadoop/HoodieROTablePathFilter.java       |  29 +-
 .../hadoop/SafeParquetRecordReaderWrapper.java     |  17 +-
 .../hudi/hadoop/UseFileSplitsFromInputFormat.java  |   4 +-
 .../hadoop/hive/HoodieCombineHiveInputFormat.java  | 168 ++----
 .../realtime/AbstractRealtimeRecordReader.java     |  78 ++-
 .../realtime/HoodieParquetRealtimeInputFormat.java |  78 +--
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  15 +-
 .../realtime/HoodieRealtimeRecordReader.java       |   8 +-
 .../realtime/RealtimeCompactedRecordReader.java    |  22 +-
 .../realtime/RealtimeUnmergedRecordReader.java     |  21 +-
 .../apache/hudi/hadoop/HoodieInputFormatTest.java  |  89 +--
 .../apache/hudi/hadoop/InputFormatTestUtil.java    |  67 +--
 .../hudi/hadoop/TestHoodieROTablePathFilter.java   |  38 +-
 .../hudi/hadoop/TestRecordReaderValueIterator.java |  13 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 226 +++----
 hudi-hive/pom.xml                                  |   4 +
 .../java/org/apache/hudi/hive/HiveSyncConfig.java  |  54 +-
 .../java/org/apache/hudi/hive/HiveSyncTool.java    |  43 +-
 .../org/apache/hudi/hive/HoodieHiveClient.java     | 187 +++---
 .../hudi/hive/MultiPartKeysValueExtractor.java     |   3 +-
 .../apache/hudi/hive/NonPartitionedExtractor.java  |   2 +-
 .../apache/hudi/hive/PartitionValueExtractor.java  |   8 +-
 .../org/apache/hudi/hive/SchemaDifference.java     |  13 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |   8 +-
 .../apache/hudi/hive/util/ColumnNameXLator.java    |   4 +-
 .../java/org/apache/hudi/hive/util/SchemaUtil.java | 141 ++---
 .../org/apache/hudi/hive/HiveSyncToolTest.java     | 194 +++---
 .../test/java/org/apache/hudi/hive/TestUtil.java   | 131 ++--
 .../org/apache/hudi/hive/util/HiveTestService.java |  32 +-
 hudi-integ-test/pom.xml                            |   1 +
 .../java/org/apache/hudi/integ/ITTestBase.java     |  73 +--
 .../org/apache/hudi/integ/ITTestHoodieDemo.java    | 183 +++---
 .../org/apache/hudi/integ/ITTestHoodieSanity.java  |  41 +-
 hudi-spark/pom.xml                                 |   4 +
 .../main/java/org/apache/hudi/BaseAvroPayload.java |   2 +-
 .../java/org/apache/hudi/ComplexKeyGenerator.java  |  10 +-
 .../main/java/org/apache/hudi/DataSourceUtils.java |  99 ++-
 .../org/apache/hudi/EmptyHoodieRecordPayload.java  |   2 +-
 .../org/apache/hudi/HoodieDataSourceHelpers.java   |  17 +-
 .../main/java/org/apache/hudi/KeyGenerator.java    |   4 +-
 .../hudi/OverwriteWithLatestAvroPayload.java       |   7 +-
 .../main/java/org/apache/hudi/QuickstartUtils.java |  56 +-
 .../java/org/apache/hudi/SimpleKeyGenerator.java   |   9 +-
 hudi-spark/src/test/java/DataSourceTestUtils.java  |   7 +-
 hudi-spark/src/test/java/HoodieJavaApp.java        |  82 +--
 .../src/test/java/HoodieJavaStreamingApp.java      |  54 +-
 hudi-timeline-service/pom.xml                      |   4 +
 .../timeline/service/FileSystemViewHandler.java    | 171 +++---
 .../hudi/timeline/service/TimelineService.java     |   7 +-
 .../timeline/service/handlers/DataFileHandler.java |  11 +-
 .../service/handlers/FileSliceHandler.java         |  24 +-
 .../timeline/service/handlers/TimelineHandler.java |   7 +-
 .../view/RemoteHoodieTableFileSystemViewTest.java  |  10 +-
 hudi-utilities/pom.xml                             |   4 +
 .../apache/hudi/utilities/HDFSParquetImporter.java |  99 ++-
 .../hudi/utilities/HiveIncrementalPuller.java      |  89 ++-
 .../org/apache/hudi/utilities/HoodieCleaner.java   |   7 +-
 .../hudi/utilities/HoodieCompactionAdminTool.java  |  20 +-
 .../org/apache/hudi/utilities/HoodieCompactor.java |  31 +-
 .../hudi/utilities/HoodieSnapshotCopier.java       |  68 +--
 .../hudi/utilities/HoodieWithTimelineServer.java   |   6 +-
 .../org/apache/hudi/utilities/UtilHelpers.java     |  60 +-
 .../adhoc/UpgradePayloadFromUberToApache.java      |  17 +-
 .../AbstractDeltaStreamerService.java              |  12 +-
 .../hudi/utilities/deltastreamer/Compactor.java    |   7 +-
 .../hudi/utilities/deltastreamer/DeltaSync.java    |  73 +--
 .../deltastreamer/HoodieDeltaStreamer.java         |  72 +--
 .../deltastreamer/SchedulerConfGenerator.java      |  41 +-
 .../deltastreamer/SourceFormatAdapter.java         |  47 +-
 .../keygen/TimestampBasedKeyGenerator.java         |  23 +-
 .../hudi/utilities/perf/TimelineServerPerf.java    |  17 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |  13 +-
 .../schema/NullTargetSchemaRegistryProvider.java   |   5 +-
 .../utilities/schema/RowBasedSchemaProvider.java   |   2 +-
 .../hudi/utilities/sources/AvroDFSSource.java      |  13 +-
 .../hudi/utilities/sources/AvroKafkaSource.java    |  13 +-
 .../apache/hudi/utilities/sources/AvroSource.java  |   4 +-
 .../hudi/utilities/sources/HiveIncrPullSource.java |  32 +-
 .../hudi/utilities/sources/HoodieIncrSource.java   |  65 +-
 .../apache/hudi/utilities/sources/InputBatch.java  |   3 +-
 .../hudi/utilities/sources/JsonDFSSource.java      |   7 +-
 .../hudi/utilities/sources/JsonKafkaSource.java    |   6 +-
 .../apache/hudi/utilities/sources/JsonSource.java  |   4 +-
 .../apache/hudi/utilities/sources/RowSource.java   |   7 +-
 .../org/apache/hudi/utilities/sources/Source.java  |   9 +-
 .../utilities/sources/helpers/AvroConvertor.java   |   4 +-
 .../utilities/sources/helpers/DFSPathSelector.java |  28 +-
 .../sources/helpers/IncrSourceHelper.java          |  35 +-
 .../utilities/sources/helpers/KafkaOffsetGen.java  |  68 +--
 .../utilities/transform/FlatteningTransformer.java |  10 +-
 .../utilities/transform/IdentityTransformer.java   |   4 +-
 .../transform/SqlQueryBasedTransformer.java        |   4 +-
 .../hudi/utilities/transform/Transformer.java      |   3 +-
 .../hudi/utilities/SchedulerConfGeneratorTest.java |   4 +-
 .../hudi/utilities/TestFlatteningTransformer.java  |  21 +-
 .../hudi/utilities/TestHDFSParquetImporter.java    |  48 +-
 .../hudi/utilities/TestHoodieDeltaStreamer.java    |  93 ++-
 .../hudi/utilities/TestHoodieSnapshotCopier.java   |  36 +-
 .../apache/hudi/utilities/UtilitiesTestBase.java   |   6 +-
 .../utilities/sources/AbstractBaseTestSource.java  |   7 +-
 .../sources/DistributedTestDataSource.java         |  30 +-
 .../hudi/utilities/sources/TestDFSSource.java      |  26 +-
 .../hudi/utilities/sources/TestDataSource.java     |   7 +-
 .../hudi/utilities/sources/TestKafkaSource.java    |  54 +-
 .../utilities/sources/config/TestSourceConfig.java |   2 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml            |   1 +
 packaging/hudi-hive-bundle/pom.xml                 |   1 +
 packaging/hudi-presto-bundle/pom.xml               |   1 +
 packaging/hudi-spark-bundle/pom.xml                |   1 +
 packaging/hudi-timeline-server-bundle/pom.xml      |   1 +
 .../apache/hudi/timeline/server/bundle/Main.java   |   6 +-
 packaging/hudi-utilities-bundle/pom.xml            |   1 +
 pom.xml                                            |  30 +-
 style/checkstyle-suppressions.xml                  |   1 +
 style/checkstyle.xml                               |  11 +-
 style/eclipse-java-google-style.xml                | 670 ++++++++++-----------
 381 files changed, 7351 insertions(+), 9065 deletions(-)

commit 834c591955cfa8a9c5f286967d693932564b6764
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 9 18:32:03 2019 -0700

    [MINOR] Add incubating to NOTICE and README.md
    
    Please enter the commit message for your changes. Lines starting

 NOTICE    | 2 +-
 README.md | 2 +-
 pom.xml   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit e655cfba3018359457d2f3911ec5f7e78a5f2a56
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Tue Oct 8 12:06:47 2019 -0700

    [HOTFIX] Move to openjdk to get travis passing (#944)

 .travis.yml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d050d980715c0d8649531a3ed5ca7a7472b29760
Author: leesf <490081539@qq.com>
Date:   Tue Oct 8 01:56:46 2019 +0800

    [HUDI-232] Implement sealing/unsealing for HoodieRecord class (#938)

 .../org/apache/hudi/index/InMemoryHashIndex.java   |  2 +
 .../apache/hudi/index/bloom/HoodieBloomIndex.java  |  2 +
 .../org/apache/hudi/index/hbase/HBaseIndex.java    |  2 +
 .../org/apache/hudi/io/HoodieAppendHandle.java     |  2 +
 .../org/apache/hudi/io/HoodieCreateHandle.java     |  2 +
 .../java/org/apache/hudi/io/HoodieMergeHandle.java |  2 +
 .../apache/hudi/func/TestUpdateMapFunction.java    |  2 +
 .../apache/hudi/table/TestCopyOnWriteTable.java    |  4 ++
 .../org/apache/hudi/common/model/HoodieRecord.java | 23 +++++++
 .../apache/hudi/common/model/TestHoodieRecord.java | 74 ++++++++++++++++++++++
 .../hudi/common/util/SpillableMapTestUtils.java    |  2 +
 11 files changed, 117 insertions(+)

commit 8a55938ca18b24b9f6bbfa16a8ef55077663844d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Oct 4 20:56:29 2019 -0700

    [HUDI-293] Remove KEYS file from github repository

 KEYS | 275 -------------------------------------------------------------------
 1 file changed, 275 deletions(-)

commit eb4cc05c1beb48da99c21ce10140d70b9fbb5454
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Oct 4 09:22:36 2019 -0700

    [HUDI-121] Prepare for 0.5.0-incubating-rc5

 RELEASE_NOTES.md | 1 +
 1 file changed, 1 insertion(+)

commit 9b66ea41fd4e4e08eeb426bc1b698766284e71e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 3 21:12:55 2019 -0700

    [HUDI-121] Remove leftover notice file and replace com.uber.hoodie with org.apache.hudi in log4j properties

 .mailmap                                           |   9 --
 RELEASE_NOTES.md                                   |   1 +
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        |   5 -
 hudi-cli/pom.xml                                   |   1 -
 hudi-client/pom.xml                                |   4 -
 .../src/test/resources/log4j-surefire.properties   |  10 +-
 hudi-common/pom.xml                                |   4 -
 .../src/test/resources/log4j-surefire.properties   |   6 +-
 hudi-hadoop-mr/pom.xml                             |   4 -
 .../src/test/resources/log4j-surefire.properties   |   2 +-
 hudi-hive/pom.xml                                  |   4 -
 .../src/test/resources/log4j-surefire.properties   |   2 +-
 hudi-integ-test/pom.xml                            |   1 -
 .../src/test/resources/log4j-surefire.properties   |   2 +-
 hudi-spark/pom.xml                                 |   4 -
 .../src/test/resources/log4j-surefire.properties   |  10 +-
 hudi-timeline-service/pom.xml                      |   4 -
 .../src/test/resources/log4j-surefire.properties   |   6 +-
 hudi-utilities/pom.xml                             |   4 -
 .../src/test/resources/log4j-surefire.properties   |   2 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml            |   2 -
 packaging/hudi-hive-bundle/pom.xml                 |   2 -
 packaging/hudi-presto-bundle/pom.xml               |   2 -
 packaging/hudi-spark-bundle/pom.xml                |   2 -
 packaging/hudi-timeline-server-bundle/pom.xml      |   2 -
 packaging/hudi-utilities-bundle/pom.xml            |   2 -
 pom.xml                                            |   2 -
 release/config/license-mappings.xml                | 129 ---------------------
 28 files changed, 21 insertions(+), 207 deletions(-)

commit 7dd9c74b1bb28c3a934e46d560abbb4c5b6d4586
Author: leesf <490081539@qq.com>
Date:   Fri Oct 4 22:45:16 2019 +0800

    [HUDI-285] Implement HoodieStorageWriter based on actual file type (#936)

 .../io/storage/HoodieStorageWriterFactory.java     | 13 +++--
 .../io/storage/TestHoodieStorageWriterFactory.java | 62 ++++++++++++++++++++++
 2 files changed, 72 insertions(+), 3 deletions(-)

commit 3dedc7e5fdd5f885915e81e47e110b845a905dbf
Author: leesf <490081539@qq.com>
Date:   Fri Oct 4 00:48:13 2019 +0800

    [HUDI-265] Failed to delete tmp dirs created in unit tests (#928)

 .../org/apache/hudi/HoodieClientTestHarness.java   | 48 +-----------
 .../org/apache/hudi/TestCompactionAdminClient.java |  5 +-
 .../java/org/apache/hudi/TestConsistencyGuard.java |  6 +-
 .../apache/hudi/func/TestUpdateMapFunction.java    |  5 +-
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |  3 +-
 .../java/org/apache/hudi/index/TestHbaseIndex.java |  3 +-
 .../org/apache/hudi/index/TestHoodieIndex.java     |  5 +-
 .../hudi/index/bloom/TestHoodieBloomIndex.java     |  3 +-
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |  5 +-
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java |  3 +-
 .../org/apache/hudi/io/TestHoodieCompactor.java    |  3 +-
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  |  3 +-
 .../apache/hudi/table/TestCopyOnWriteTable.java    |  3 +-
 .../apache/hudi/table/TestMergeOnReadTable.java    |  4 +-
 .../hudi/common/HoodieCommonTestHarness.java       | 89 ++++++++++++++++++++++
 .../common/table/HoodieTableMetaClientTest.java    | 14 +---
 .../hudi/common/table/log/HoodieLogFormatTest.java | 11 ++-
 .../table/string/HoodieActiveTimelineTest.java     | 13 ++--
 .../table/view/HoodieTableFileSystemViewTest.java  | 38 ++++-----
 .../table/view/IncrementalFSViewSyncTest.java      | 68 ++++++-----------
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |  4 +-
 .../table/view/RocksDbBasedFileSystemViewTest.java |  2 +-
 ...SpillableMapBasedIncrementalFSViewSyncTest.java |  2 +-
 .../hudi/common/util/TestCompactionUtils.java      | 20 ++---
 .../org/apache/hudi/common/util/TestFSUtils.java   | 14 ++--
 .../apache/hudi/common/util/TestFileIOUtils.java   |  7 +-
 .../apache/hudi/common/util/TestParquetUtils.java  | 15 +---
 .../hudi/common/util/TestRocksDBManager.java       | 12 ++-
 .../common/util/collection/TestDiskBasedMap.java   | 24 +++---
 .../util/collection/TestExternalSpillableMap.java  | 32 ++++----
 .../util/collection/TestRocksDbBasedMap.java       | 11 ++-
 .../hudi/hadoop/TestHoodieROTablePathFilter.java   | 13 ++--
 .../hudi/utilities/TestHoodieSnapshotCopier.java   | 32 ++++----
 33 files changed, 248 insertions(+), 272 deletions(-)

commit cef06c1e4849ea93644c17af89b56b3f17d322fc
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 3 09:42:30 2019 -0700

    [HUDI-121] Fix bug in validation in deploy_staging_jars.sh

 scripts/release/deploy_staging_jars.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e75fa070f85ed1e0f72f9718a715a08a76679140
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 3 09:20:12 2019 -0700

    [HUDI-121] Fix bug in validation in create_source_release.sh

 scripts/release/create_source_release.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e78ba598c549d51a3e7ce4231acebe46f9828001
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 3 09:11:37 2019 -0700

    Update Release notes

 RELEASE_NOTES.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6da2f9ac7c51117c9cd76e82ce01d4c0a0c69477
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 2 09:33:11 2019 -0700

    [HUDI-287] Address comments during review of release candidate
      1. Remove LICENSE and NOTICE files in hoodie child modules.
      2. Remove developers and contributor section from pom
      3. Also ensure any failures in validation script is reported appropriately
      4. Make hoodie parent pom consistent with that of its parent apache-21 (https://github.com/apache/maven-apache-parent/blob/apache-21/pom.xml)

 docker/hoodie/hadoop/NOTICE                        |   5 -
 docker/hoodie/hadoop/base/NOTICE                   |   5 -
 docker/hoodie/hadoop/datanode/NOTICE               |   5 -
 docker/hoodie/hadoop/historyserver/NOTICE          |   5 -
 docker/hoodie/hadoop/hive_base/NOTICE              |   5 -
 docker/hoodie/hadoop/namenode/NOTICE               |   5 -
 docker/hoodie/hadoop/prestobase/NOTICE             |   5 -
 docker/hoodie/hadoop/spark_base/NOTICE             |   5 -
 docker/hoodie/hadoop/sparkadhoc/NOTICE             |   5 -
 docker/hoodie/hadoop/sparkmaster/NOTICE            |   5 -
 hudi-cli/src/main/resources/META-INF/LICENSE       | 177 ---------------------
 hudi-cli/src/main/resources/META-INF/NOTICE        |   5 -
 hudi-client/src/main/resources/META-INF/LICENSE    | 177 ---------------------
 hudi-client/src/main/resources/META-INF/NOTICE     |   5 -
 hudi-common/src/main/resources/META-INF/LICENSE    | 177 ---------------------
 hudi-common/src/main/resources/META-INF/NOTICE     |   5 -
 hudi-hadoop-mr/src/main/resources/META-INF/LICENSE | 177 ---------------------
 hudi-hadoop-mr/src/main/resources/META-INF/NOTICE  |   5 -
 hudi-hive/src/main/resources/META-INF/LICENSE      | 177 ---------------------
 hudi-hive/src/main/resources/META-INF/NOTICE       |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 hudi-integ-test/src/main/resources/META-INF/NOTICE |   5 -
 hudi-spark/src/main/resources/META-INF/LICENSE     | 177 ---------------------
 hudi-spark/src/main/resources/META-INF/NOTICE      |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 -
 hudi-utilities/src/main/resources/META-INF/LICENSE | 177 ---------------------
 hudi-utilities/src/main/resources/META-INF/NOTICE  |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   6 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   6 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 -
 .../src/main/resources/META-INF/LICENSE            | 177 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 -
 pom.xml                                            |  62 --------
 scripts/release/validate_staged_release.sh         |  16 +-
 42 files changed, 7 insertions(+), 2853 deletions(-)

commit e41835fd912d35c52bf339fcef626ca7df06da62
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Oct 1 13:48:05 2019 -0700

    [HUDI-121] Fix bugs in Release Scripts found during RC creation

 scripts/release/cut_release_branch.sh      | 38 ++++---------
 scripts/release/validate_staged_release.sh | 86 +++++++++++++++++++-----------
 2 files changed, 65 insertions(+), 59 deletions(-)

commit 1d2e3dcc65187d1bf90cc9c05d85ba4d27124270
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 30 16:24:45 2019 -0700

    [HUDI-121] Update Release notes

 RELEASE_NOTES.md | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 6e8a28bcaee173f703132f52f525d1568596ac3d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 20 23:01:32 2019 -0700

    HUDI-121 : Address comments during RC2 voting
    
    1. Remove dnl utils jar from git
    2. Add LICENSE Headers in missing files
    3. Fix NOTICE and LICENSE in all HUDI packages and in top-level
    4. Fix License wording in certain HUDI source files
    5. Include non java/scala code in RAT licensing check
    6. Use whitelist to include dependencies as part of timeline-server bundling

 .travis.yml                                        |   2 +-
 CHANGELOG.md                                       |  27 -
 LICENSE                                            | 155 ------
 NOTICE                                             | 121 +---
 README.md                                          |  17 +
 RELEASE_NOTES.md                                   |  18 +
 deploy/maven/sonatype-settings.xml                 |  28 -
 deploy/pubring.gpg.enc                             | Bin 1248 -> 0 bytes
 deploy/secring.gpg.enc                             | Bin 2624 -> 0 bytes
 docker/hoodie/hadoop/NOTICE                        |   5 +
 docker/hoodie/hadoop/NOTICE.txt                    | 266 ---------
 docker/hoodie/hadoop/base/NOTICE                   |   5 +
 docker/hoodie/hadoop/base/NOTICE.txt               | 256 ---------
 docker/hoodie/hadoop/datanode/NOTICE               |   5 +
 docker/hoodie/hadoop/datanode/NOTICE.txt           | 256 ---------
 docker/hoodie/hadoop/historyserver/NOTICE          |   5 +
 docker/hoodie/hadoop/historyserver/NOTICE.txt      | 256 ---------
 docker/hoodie/hadoop/hive_base/NOTICE              |   5 +
 docker/hoodie/hadoop/hive_base/NOTICE.txt          | 256 ---------
 docker/hoodie/hadoop/namenode/NOTICE               |   5 +
 docker/hoodie/hadoop/namenode/NOTICE.txt           | 256 ---------
 docker/hoodie/hadoop/prestobase/Dockerfile         |  19 +
 docker/hoodie/hadoop/prestobase/NOTICE             |   5 +
 docker/hoodie/hadoop/prestobase/pom.xml            |  17 -
 docker/hoodie/hadoop/spark_base/NOTICE             |   5 +
 docker/hoodie/hadoop/spark_base/NOTICE.txt         | 256 ---------
 docker/hoodie/hadoop/sparkadhoc/NOTICE             |   5 +
 docker/hoodie/hadoop/sparkadhoc/NOTICE.txt         | 256 ---------
 docker/hoodie/hadoop/sparkmaster/NOTICE            |   5 +
 docker/hoodie/hadoop/sparkmaster/NOTICE.txt        | 256 ---------
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        | 257 +--------
 .../dnl/utils/textutils/0.3.3/textutils-0.3.3.jar  | Bin 18856 -> 0 bytes
 hudi-cli/src/main/resources/META-INF/LICENSE       | 177 ++++++
 hudi-cli/src/main/resources/META-INF/LICENSE.txt   | 614 ---------------------
 hudi-cli/src/main/resources/META-INF/NOTICE        |   5 +
 hudi-cli/src/main/resources/META-INF/NOTICE.txt    | 229 --------
 hudi-client/src/main/resources/META-INF/LICENSE    | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 hudi-client/src/main/resources/META-INF/NOTICE     |   5 +
 hudi-client/src/main/resources/META-INF/NOTICE.txt | 285 ----------
 hudi-common/pom.xml                                |   3 +-
 hudi-common/src/main/resources/META-INF/LICENSE    | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 hudi-common/src/main/resources/META-INF/NOTICE     |   5 +
 hudi-common/src/main/resources/META-INF/NOTICE.txt | 107 ----
 hudi-hadoop-mr/src/main/resources/META-INF/LICENSE | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 hudi-hadoop-mr/src/main/resources/META-INF/NOTICE  |   5 +
 .../src/main/resources/META-INF/NOTICE.txt         | 222 --------
 hudi-hive/src/main/resources/META-INF/LICENSE      | 177 ++++++
 hudi-hive/src/main/resources/META-INF/LICENSE.txt  | 614 ---------------------
 hudi-hive/src/main/resources/META-INF/NOTICE       |   5 +
 hudi-hive/src/main/resources/META-INF/NOTICE.txt   | 225 --------
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 hudi-integ-test/src/main/resources/META-INF/NOTICE |   5 +
 .../src/main/resources/META-INF/NOTICE.txt         | 299 ----------
 hudi-spark/src/main/resources/META-INF/LICENSE     | 177 ++++++
 hudi-spark/src/main/resources/META-INF/LICENSE.txt | 614 ---------------------
 hudi-spark/src/main/resources/META-INF/NOTICE      |   5 +
 hudi-spark/src/main/resources/META-INF/NOTICE.txt  | 308 -----------
 hudi-timeline-service/pom.xml                      |   1 +
 .../hudi/timeline/service/TimelineService.java     |   2 +-
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 .../src/main/resources/META-INF/NOTICE             |   5 +
 .../src/main/resources/META-INF/NOTICE.txt         | 121 ----
 hudi-utilities/src/main/resources/META-INF/LICENSE | 177 ++++++
 .../src/main/resources/META-INF/LICENSE.txt        | 614 ---------------------
 hudi-utilities/src/main/resources/META-INF/NOTICE  |   5 +
 .../src/main/resources/META-INF/NOTICE.txt         | 320 -----------
 packaging/README.md                                |  20 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml            |  16 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  63 ---
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   6 +
 packaging/hudi-hive-bundle/pom.xml                 |  15 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  98 ----
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   5 +
 packaging/hudi-presto-bundle/pom.xml               |  15 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  64 ---
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   6 +
 packaging/hudi-spark-bundle/pom.xml                |  14 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 254 ---------
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   5 +
 packaging/hudi-timeline-server-bundle/pom.xml      |  63 ++-
 .../hudi-timeline-server-bundle/run_server.sh      |  30 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 122 ----
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   5 +
 packaging/hudi-utilities-bundle/pom.xml            |  14 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 ---------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 312 -----------
 .../src/main/resources/META-INF/LICENSE            | 177 ++++++
 .../src/main/resources/META-INF/NOTICE             |   5 +
 pom.xml                                            |  42 +-
 release/config/NOTICE.template                     |  11 -
 .../release}/create_source_release.sh              |   2 +-
 .../release}/cut_release_branch.sh                 |   0
 .../release}/deploy_staging_jars.sh                |   2 +-
 scripts/release/generate_jar_path.py               |  39 ++
 scripts/release/generate_notice.sh                 |  36 ++
 .../release}/preparation_before_release.sh         |  18 +-
 scripts/release/validate_staged_release.sh         | 125 +++++
 {tools => scripts}/run_travis_tests.sh             |   0
 113 files changed, 3215 insertions(+), 15249 deletions(-)

commit 50a073ff57c20eef2a80a44532ed5536c6435ac6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Sat Sep 28 00:45:25 2019 -0700

    [HUDI-271] Create QuickstartUtils for simplifying quickstart guide
    
    - This will be used in Quickstart guide (Doc changes to follow in a seperate PR). The intention is to simplify quickstart to showcase hudi APIs by writing and reading using spark datasources.
    - This is located in hudi-spark module intentionally to bring all the necessary classes in hudi-spark-bundle finally.

 .../main/java/org/apache/hudi/QuickstartUtils.java | 206 +++++++++++++++++++++
 1 file changed, 206 insertions(+)

commit 01e803b00e5acf9bb1dbe38340e38e8feb8d037d
Author: vinoyang <yanghua1127@gmail.com>
Date:   Mon Sep 30 20:38:52 2019 +0800

    [HUDI-247] Unify the re-initialization of HoodieTableMetaClient in test for hoodie-client module (#930)

 .../org/apache/hudi/HoodieClientTestHarness.java   | 13 ++--
 .../src/test/java/org/apache/hudi/TestCleaner.java | 76 ++++++++++------------
 .../java/org/apache/hudi/TestClientRollback.java   |  6 +-
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |  4 +-
 .../java/org/apache/hudi/index/TestHbaseIndex.java | 19 +++---
 .../org/apache/hudi/index/TestHoodieIndex.java     |  4 +-
 .../hudi/index/bloom/TestHoodieBloomIndex.java     | 34 +++++-----
 .../index/bloom/TestHoodieGlobalBloomIndex.java    | 14 ++--
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java | 21 +++---
 .../org/apache/hudi/io/TestHoodieCompactor.java    | 15 ++---
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  | 12 ++--
 .../apache/hudi/table/TestCopyOnWriteTable.java    | 23 ++++---
 .../apache/hudi/table/TestMergeOnReadTable.java    | 32 ++++-----
 .../hudi/common/table/HoodieTableMetaClient.java   | 10 +++
 14 files changed, 142 insertions(+), 141 deletions(-)

commit 2ea8b0c3f1eeb19f4dc1e9946331c8fd93e6daab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Sep 25 06:20:56 2019 -0700

    [HUDI-279] Fix regression in Schema Evolution due to PR-755

 .../apache/hudi/client/embedded/EmbeddedTimelineService.java   |  2 +-
 .../test/java/org/apache/hudi/func/TestUpdateMapFunction.java  |  7 ++++---
 .../java/org/apache/hudi/common/SerializableConfiguration.java |  8 ++++++--
 .../org/apache/hudi/common/table/HoodieTableMetaClient.java    |  2 +-
 .../apache/hudi/common/table/view/FileSystemViewManager.java   | 10 +++++-----
 .../java/org/apache/hudi/utilities/HoodieSnapshotCopier.java   |  4 ++--
 6 files changed, 19 insertions(+), 14 deletions(-)

commit bf05f954133da5b760a66906557df0305dbd0eaf
Author: Xing Pan <panxscu@163.com>
Date:   Tue Sep 24 20:30:35 2019 +0800

    [HUDI-269] Limit sync frequency (#921)
    
    * [HUDI-269] Throttle DeltaStreamer sync runs

 .../hudi/utilities/deltastreamer/HoodieDeltaStreamer.java     | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 1e6dd1ca1de576bc090c67ba0abdf466ada5cb3e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sun Sep 22 17:26:04 2019 -0700

    [MINOR] : Further updates to .mailmap for vinoth (#919)

 .mailmap | 3 +++
 1 file changed, 3 insertions(+)

commit 635154c43930ddf57c31446897b41df3178f9f6a
Author: PanXing <starpkpk@sina.com>
Date:   Sun Sep 22 21:47:23 2019 +0800

    [MINOR] support reading cfg file in another s3 bucket (#914)

 hudi-utilities/src/main/java/org/apache/hudi/utilities/UtilHelpers.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f020d029c406008b7342f1117b95b68b4a90d401
Author: vinoyang <yanghua1127@gmail.com>
Date:   Sun Sep 22 00:05:02 2019 +0800

    HUDI-267 Refactor bad method name HoodieTestUtils#initTableType and HoodieTableMetaClient#initializePathAsHoodieDataset (#916)

 .../src/test/java/org/apache/hudi/HoodieClientTestHarness.java |  2 +-
 hudi-client/src/test/java/org/apache/hudi/TestCleaner.java     |  4 ++--
 .../test/java/org/apache/hudi/TestCompactionAdminClient.java   |  2 +-
 .../src/test/java/org/apache/hudi/io/TestHoodieCompactor.java  |  4 ++--
 .../test/java/org/apache/hudi/table/TestMergeOnReadTable.java  |  6 +++---
 .../org/apache/hudi/common/table/HoodieTableMetaClient.java    |  6 +++---
 .../java/org/apache/hudi/common/model/HoodieTestUtils.java     | 10 +++++-----
 .../org/apache/hudi/common/table/log/HoodieLogFormatTest.java  |  2 +-
 .../java/org/apache/hudi/common/util/TestCompactionUtils.java  |  2 +-
 .../hudi/hadoop/realtime/HoodieRealtimeRecordReaderTest.java   |  8 ++++----
 .../java/org/apache/hudi/utilities/HDFSParquetImporter.java    |  2 +-
 11 files changed, 24 insertions(+), 24 deletions(-)

commit 1104f9526fcd05270ed5cd084228f023f1a01c46
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Aug 30 12:30:56 2019 -0700

    HUDI-180 : Adding support for hive registration using metastore along with JDBC

 .../java/org/apache/hudi/hive/HiveSyncConfig.java  |  40 ++---
 .../org/apache/hudi/hive/HoodieHiveClient.java     | 161 ++++++++++++++++-----
 .../org/apache/hudi/hive/HiveSyncToolTest.java     |  23 +++
 3 files changed, 173 insertions(+), 51 deletions(-)

commit 69ca45b2da0f1791d4d8f049726a31ba3d90dcd7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Sep 19 00:15:08 2019 -0700

    Fix  mailmap to allow mapping of defunct emailIds to active emailIds

 .mailmap | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 2e75a6973df26625ef0b5b44ad1cbbc7989bbea0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Sep 19 00:09:14 2019 -0700

    Adding mailmap to allow mapping of defunct emailIds to active emailIds

 .mailmap | 6 ++++++
 1 file changed, 6 insertions(+)

commit 4bda742a938a344fb667d5d86ef1007de5c29365
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Sep 17 12:41:54 2019 -0700

    Updating release notes and preparing for 0.5.0-incubating-rc2 release

 RELEASE_NOTES.md | 1 +
 1 file changed, 1 insertion(+)

commit e217db56ab30ec9630411aefc16516747b3112e0
Author: Vinoth Chandar <vinoth@apache.org>
Date:   Tue Sep 17 12:00:41 2019 -0700

    [HUDI-254]: Bundle and shade databricks/avro with spark bundle
    
     - spark 2.4 onwards, spark has built in support. shading to avoid conflicts
     - spark 2.3 still needs this bundled, so that dropping bundle into jars folder would work

 hudi-spark/pom.xml                  | 1 -
 packaging/hudi-spark-bundle/pom.xml | 6 ++++++
 2 files changed, 6 insertions(+), 1 deletion(-)

commit c1e7d0e5a6ebc6fa416fc463ea6526f64a39afc5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Sep 17 09:50:00 2019 -0700

    [HUDI-121] Update Release notes and fix master version

 RELEASE_NOTES.md                              | 3 +++
 docker/hoodie/hadoop/base/pom.xml             | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml         | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml    | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml        | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml         | 2 +-
 docker/hoodie/hadoop/pom.xml                  | 2 +-
 docker/hoodie/hadoop/prestobase/pom.xml       | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml       | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml       | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml      | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml      | 2 +-
 hudi-cli/pom.xml                              | 2 +-
 hudi-client/pom.xml                           | 2 +-
 hudi-common/pom.xml                           | 2 +-
 hudi-hadoop-mr/pom.xml                        | 2 +-
 hudi-hive/pom.xml                             | 2 +-
 hudi-integ-test/pom.xml                       | 2 +-
 hudi-spark/pom.xml                            | 2 +-
 hudi-timeline-service/pom.xml                 | 2 +-
 hudi-utilities/pom.xml                        | 2 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml       | 2 +-
 packaging/hudi-hive-bundle/pom.xml            | 2 +-
 packaging/hudi-presto-bundle/pom.xml          | 2 +-
 packaging/hudi-spark-bundle/pom.xml           | 2 +-
 packaging/hudi-timeline-server-bundle/pom.xml | 2 +-
 packaging/hudi-utilities-bundle/pom.xml       | 2 +-
 pom.xml                                       | 2 +-
 28 files changed, 30 insertions(+), 27 deletions(-)

commit 2c6da09d9d17f33ebc025c9ec9fa949605288bb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 16 23:42:14 2019 -0700

    [HUDI-257] Fix Bloom Index unit-test failures

 .../src/test/java/org/apache/hudi/index/bloom/TestHoodieBloomIndex.java | 2 ++
 .../src/test/java/org/apache/hudi/table/TestCopyOnWriteTable.java       | 2 ++
 2 files changed, 4 insertions(+)

commit 96a46d870122914dd7cc1f9f20a5489b8fe03187
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 16 16:19:59 2019 -0700

    [HUDI-252] Identify packages which are under non-apache license in LICENSE file

 LICENSE | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit 629698d54fbc17c32fd321913e9441fb0487a991
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 16 01:40:40 2019 -0700

    [HUDI-252] Add Disclaimer and cleanup NOTICE and LICENSE files in hudi

 DISCLAIMER  |   6 +
 LICENSE     | 331 ++++++++++++++++++++++++++++++++
 LICENSE.txt | 614 ------------------------------------------------------------
 NOTICE      | 120 ++++++++++++
 NOTICE.txt  | 392 --------------------------------------
 5 files changed, 457 insertions(+), 1006 deletions(-)

commit c0f42afa35768cf191dcc061feac2e7396457058
Author: Taher Koitawala <taherk77@gmail.com>
Date:   Tue Sep 3 20:35:42 2019 +0530

    [HUDI-62] Index Lookup Timer added to HoodieWriteClient

 .../java/org/apache/hudi/HoodieWriteClient.java     | 16 ++++++++++++++--
 .../java/org/apache/hudi/metrics/HoodieMetrics.java | 21 ++++++++++++++++++++-
 2 files changed, 34 insertions(+), 3 deletions(-)

commit 63cc455d9c273af0dda8a07f2293d350da36c851
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 13:58:29 2019 -0700

    [HUDI-121] ASF Release : Ensure NOTICE.txt is generated as part of cutting release branch

 RELEASE_NOTES.md                      |  2 +-
 release/scripts/cut_release_branch.sh | 27 ++++++++++++++++++++++++++-
 2 files changed, 27 insertions(+), 2 deletions(-)

commit 7190c022bb741fe78418b13efb6fe13fcbd128b0
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 13:49:31 2019 -0700

    [HUDI-249] Updating Notice files

 NOTICE.txt                                         |  11 +-
 docker/hoodie/hadoop/NOTICE.txt                    |  13 +-
 docker/hoodie/hadoop/base/NOTICE.txt               |  13 +-
 docker/hoodie/hadoop/datanode/NOTICE.txt           |  13 +-
 docker/hoodie/hadoop/historyserver/NOTICE.txt      |  13 +-
 docker/hoodie/hadoop/hive_base/NOTICE.txt          |  13 +-
 docker/hoodie/hadoop/namenode/NOTICE.txt           |  13 +-
 docker/hoodie/hadoop/spark_base/NOTICE.txt         |  13 +-
 docker/hoodie/hadoop/sparkadhoc/NOTICE.txt         |  13 +-
 docker/hoodie/hadoop/sparkmaster/NOTICE.txt        |  13 +-
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        |  13 +-
 hudi-cli/src/main/resources/META-INF/NOTICE.txt    |   8 +-
 hudi-client/src/main/resources/META-INF/NOTICE.txt |   5 +-
 hudi-common/src/main/resources/META-INF/NOTICE.txt |  10 +-
 .../src/main/resources/META-INF/NOTICE.txt         |  10 +-
 hudi-hive/src/main/resources/META-INF/NOTICE.txt   |  10 +-
 .../src/main/resources/META-INF/NOTICE.txt         |  11 +-
 hudi-spark/src/main/resources/META-INF/NOTICE.txt  |   7 +-
 .../src/main/resources/META-INF/NOTICE.txt         |  16 +-
 .../src/main/resources/META-INF/NOTICE.txt         |   5 +-
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 171 +--------------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 138 +----------------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  57 +------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  65 +-------
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  16 +-
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  18 +--
 26 files changed, 102 insertions(+), 586 deletions(-)

commit 1a61d6bc4df2d0c45515c41210b1e48e4d2c1d1b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 12:48:38 2019 -0700

    [HUDI-249] Fix RELEASE-NOTES to match correct state

 RELEASE_NOTES.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit b1446be2b4d50e60b54146c66a6e6412d41b3a17
Author: Vinoth Chandar <vinoth@apache.org>
Date:   Wed Sep 11 15:47:22 2019 -0700

    [HUDI-244] : Hive sync should escape partition field name
    
      - now supports field names beginning with '_' for e.g

 hudi-hive/src/main/java/org/apache/hudi/hive/util/SchemaUtil.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ee16b5439837f6bb03052a7d57edd8bc67db7d7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 10:00:16 2019 -0700

    [HUDI-250]  Ensure Hudi CLI wrapper works with non snapshot jars too. Also Fix bug in cut_release_branch script

 RELEASE_NOTES.md                      | 4 ++--
 hudi-cli/hudi-cli.sh                  | 2 +-
 release/scripts/cut_release_branch.sh | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 0b032b2761fcc23a3bcedaf654431635ec7e7f03
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Sep 2 10:20:41 2019 -0700

    Fix requested eompaction rollback during restore command

 .../src/main/java/org/apache/hudi/HoodieWriteClient.java | 16 ++++++----------
 .../java/org/apache/hudi/table/TestMergeOnReadTable.java |  7 ++++++-
 2 files changed, 12 insertions(+), 11 deletions(-)

commit d2525c31b7dad7bae2d4899d8df2a353ca39af50
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 09:58:29 2019 -0700

    Moving to 0.6.0-SNAPSHOT on master branch.

 docker/hoodie/hadoop/base/pom.xml             | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml         | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml    | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml        | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml         | 2 +-
 docker/hoodie/hadoop/pom.xml                  | 2 +-
 docker/hoodie/hadoop/prestobase/pom.xml       | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml       | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml       | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml      | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml      | 2 +-
 hudi-cli/pom.xml                              | 2 +-
 hudi-client/pom.xml                           | 2 +-
 hudi-common/pom.xml                           | 2 +-
 hudi-hadoop-mr/pom.xml                        | 2 +-
 hudi-hive/pom.xml                             | 2 +-
 hudi-integ-test/pom.xml                       | 2 +-
 hudi-spark/pom.xml                            | 2 +-
 hudi-timeline-service/pom.xml                 | 2 +-
 hudi-utilities/pom.xml                        | 2 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml       | 2 +-
 packaging/hudi-hive-bundle/pom.xml            | 2 +-
 packaging/hudi-presto-bundle/pom.xml          | 2 +-
 packaging/hudi-spark-bundle/pom.xml           | 2 +-
 packaging/hudi-timeline-server-bundle/pom.xml | 2 +-
 packaging/hudi-utilities-bundle/pom.xml       | 2 +-
 pom.xml                                       | 2 +-
 27 files changed, 27 insertions(+), 27 deletions(-)

commit 36c74c8a160660f8f3790dbb5da7e30dd7c4b32a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 09:54:39 2019 -0700

    [HUDI-249] Fix cut_release_branch script

 release/scripts/cut_release_branch.sh | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 117a68d5038960fa0cb14e00c0e27b9a772e1bf2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 13 09:45:19 2019 -0700

    Add missing commit in release notes

 RELEASE_NOTES.md | 1 +
 1 file changed, 1 insertion(+)

commit 58623631d4cbe016e0a3142ca931f412a181d8b2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Sep 3 19:02:39 2019 -0700

    [HUDI-249] Update Release-notes. Add sign-artifacts to POM and release related scripts. Add missing license headers

 RELEASE_NOTES.md                                   | 104 ++++++++++++++++
 docker/compose/hadoop.env                          |  18 +++
 docker/demo/compaction.commands                    |  18 +++
 docker/demo/config/schema.avsc                     |  17 +++
 docker/demo/hive-batch1.commands                   |  18 +++
 docker/demo/hive-batch2-after-compaction.commands  |  18 +++
 docker/demo/hive-incremental.commands              |  18 +++
 docker/demo/hive-table-check.commands              |  18 +++
 docker/hoodie/hadoop/prestobase/bin/entrypoint.sh  |  18 +++
 docker/hoodie/hadoop/prestobase/bin/mustache.sh    |  20 ++-
 .../hadoop/prestobase/etc/catalog/hive.properties  |  17 +++
 .../hadoop/prestobase/etc/catalog/jmx.properties   |  17 +++
 .../prestobase/etc/catalog/localfile.properties    |  17 +++
 .../prestobase/etc/coordinator.properties.mustache |  17 +++
 .../hadoop/prestobase/etc/jvm.config.mustache      |  19 ++-
 docker/hoodie/hadoop/prestobase/etc/log.properties |  17 +++
 .../hadoop/prestobase/etc/node.properties.mustache |  17 +++
 .../prestobase/etc/worker.properties.mustache      |  17 +++
 docker/hoodie/hadoop/prestobase/lib/mustache.sh    |  20 ++-
 docker/hoodie/hadoop/prestobase/pom.xml            |  18 +++
 .../src/test/resources/exampleEvolvedSchema.txt    |  17 +++
 hudi-client/src/test/resources/exampleSchema.txt   |  17 +++
 .../src/main/avro/HoodieArchivedMetaEntry.avsc     |  17 +++
 hudi-common/src/main/avro/HoodieCleanMetadata.avsc |  17 +++
 .../src/main/avro/HoodieCommitMetadata.avsc        |  17 +++
 .../src/main/avro/HoodieCompactionMetadata.avsc    |  17 +++
 .../src/main/avro/HoodieCompactionOperation.avsc   |  17 +++
 .../src/main/avro/HoodieRestoreMetadata.avsc       |  17 +++
 .../src/main/avro/HoodieRollbackMetadata.avsc      |  17 +++
 .../src/main/avro/HoodieSavePointMetadata.avsc     |  17 +++
 .../src/test/resources/complex-test-evolved.avsc   |  17 +++
 .../src/test/resources/simple-test-evolved.avsc    |  17 +++
 hudi-common/src/test/resources/simple-test.avsc    |  17 +++
 hudi-hadoop-mr/src/test/resources/sample1.avsc     |  17 +++
 hudi-integ-test/pom.xml                            |  18 +++
 .../deltastreamer/SchedulerConfGenerator.java      |  15 +--
 .../utilities/sources/AbstractBaseTestSource.java  |  18 +++
 .../sources/DistributedTestDataSource.java         |  16 +--
 .../utilities/sources/config/TestSourceConfig.java |  16 +--
 .../resources/delta-streamer-config/source.avsc    |  17 +++
 .../resources/delta-streamer-config/target.avsc    |  17 +++
 pom.xml                                            |  14 +++
 release/scripts/create_source_release.sh           |  82 ++++++++++++
 release/scripts/cut_release_branch.sh              | 138 +++++++++++++++++++++
 release/scripts/deploy_staging_jars.sh             |  44 +++++++
 release/scripts/preparation_before_release.sh      | 104 ++++++++++++++++
 46 files changed, 1154 insertions(+), 26 deletions(-)

commit 895d732a1423f3a113d9630aa3c56e4b0837effd
Author: yanghua <yanghua1127@gmail.com>
Date:   Thu Sep 12 13:02:59 2019 +0800

    refactor code

 .../src/test/java/org/apache/hudi/HoodieClientTestHarness.java        | 4 ++--
 hudi-client/src/test/java/org/apache/hudi/TestHoodieClientBase.java   | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 5f04241fce99f47abfb7ef9f03292472b3ee23fb
Author: yanghua <yanghua1127@gmail.com>
Date:   Tue Sep 10 15:42:54 2019 +0800

    refactor code: add docs and init/cleanup resource group for hoodie client test base

 .../org/apache/hudi/HoodieClientTestHarness.java   | 140 ++++++++++++++++++---
 .../java/org/apache/hudi/TestAsyncCompaction.java  |  18 ---
 .../src/test/java/org/apache/hudi/TestCleaner.java |  20 ---
 .../java/org/apache/hudi/TestClientRollback.java   |  20 ---
 .../java/org/apache/hudi/TestHoodieClientBase.java |  12 ++
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java |  20 ---
 .../java/org/apache/hudi/TestHoodieReadClient.java |  20 ---
 7 files changed, 132 insertions(+), 118 deletions(-)

commit 80c27f23510e9c4232ee87e06475d8af4823bb38
Author: yanghua <yanghua1127@gmail.com>
Date:   Tue Sep 3 19:00:37 2019 +0800

    Optimize hoodie client after implementat auto closeable interface

 .../java/org/apache/hudi/TestHoodieClientBase.java | 25 ++--------------------
 .../src/test/java/org/apache/hudi/TestMultiFS.java |  7 +-----
 .../java/org/apache/hudi/index/TestHbaseIndex.java | 12 +----------
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java |  2 --
 .../org/apache/hudi/io/TestHoodieCompactor.java    |  7 +-----
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  |  8 +------
 .../apache/hudi/table/TestMergeOnReadTable.java    |  8 +------
 7 files changed, 7 insertions(+), 62 deletions(-)

commit 90bfb900aa47d4e77873fafe89e4d8bdd0ec4d96
Author: yanghua <yanghua1127@gmail.com>
Date:   Tue Sep 3 07:24:11 2019 +0800

    revert setting jsc spark configuration

 hudi-client/src/test/java/org/apache/hudi/TestMultiFS.java | 4 ----
 1 file changed, 4 deletions(-)

commit 6f2b166005043b85056e23c420195a9e569e443b
Author: yanghua <yanghua1127@gmail.com>
Date:   Thu Aug 22 19:29:42 2019 +0800

    [HUDI-217] Provide a unified resource management class to standardize the resource allocation and release for hudi client test cases

 .../java/org/apache/hudi/AbstractHoodieClient.java |    2 +-
 .../org/apache/hudi/HoodieClientTestHarness.java   |  206 ++
 .../java/org/apache/hudi/TestAsyncCompaction.java  |  264 +--
 .../src/test/java/org/apache/hudi/TestCleaner.java |  201 +-
 .../java/org/apache/hudi/TestClientRollback.java   |  385 ++--
 .../org/apache/hudi/TestCompactionAdminClient.java |   24 +-
 .../java/org/apache/hudi/TestConsistencyGuard.java |   29 +-
 .../java/org/apache/hudi/TestHoodieClientBase.java |   91 +-
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java |  142 +-
 .../java/org/apache/hudi/TestHoodieReadClient.java |  145 +-
 .../src/test/java/org/apache/hudi/TestMultiFS.java |  155 +-
 .../hudi/func/TestBoundedInMemoryExecutor.java     |   43 +-
 .../apache/hudi/func/TestBoundedInMemoryQueue.java |   28 +-
 .../apache/hudi/func/TestUpdateMapFunction.java    |   31 +-
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |   70 +-
 .../java/org/apache/hudi/index/TestHbaseIndex.java |  115 +-
 .../org/apache/hudi/index/TestHoodieIndex.java     |   36 +-
 .../hudi/index/bloom/TestHoodieBloomIndex.java     |   30 +-
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |   30 +-
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java |   70 +-
 .../org/apache/hudi/io/TestHoodieCompactor.java    |  162 +-
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  |  492 +++--
 .../apache/hudi/table/TestCopyOnWriteTable.java    |   43 +-
 .../apache/hudi/table/TestMergeOnReadTable.java    | 2138 ++++++++++----------
 24 files changed, 2413 insertions(+), 2519 deletions(-)

commit 64df98fc4a15d5b80dfbb2843e919effa99c4ec2
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Fri Aug 30 16:29:23 2019 -0700

    [HUDI-164] Fixes incorrect averageBytesPerRecord
    
    When number of records written is zero, averageBytesPerRecord results in a huge size (division by zero and ceiled to Long.MAX_VALUE) causing OOM. This commit fixes this issue by reverse traversing the commits until a more reasonable average record size can be computed and if that is not possible returns the default configured record size.

 .../apache/hudi/table/HoodieCopyOnWriteTable.java  |  56 +++++-----
 .../apache/hudi/table/TestHoodieRecordSizing.java  | 119 +++++++++++++++++++++
 .../apache/hudi/common/table/HoodieTimeline.java   |   6 ++
 .../table/timeline/HoodieDefaultTimeline.java      |   9 ++
 4 files changed, 165 insertions(+), 25 deletions(-)

commit 93bc5e2153c90e44d35dafc468466196306f4227
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Sep 11 11:31:07 2019 -0700

    HUDI-243 Rename HoodieInputFormat and HoodieRealtimeInputFormat to HoodieParquetInputFormat and HoodieParquetRealtimeInputFormat

 .../org/apache/hudi/common/HoodieMergeOnReadTestUtils.java |  8 ++++----
 .../java/com/uber/hoodie/hadoop/HoodieInputFormat.java     |  4 +++-
 .../hoodie/hadoop/realtime/HoodieRealtimeInputFormat.java  |  4 +++-
 ...oodieInputFormat.java => HoodieParquetInputFormat.java} |  4 ++--
 .../hudi/hadoop/hive/HoodieCombineHiveInputFormat.java     | 14 +++++++-------
 ...utFormat.java => HoodieParquetRealtimeInputFormat.java} |  6 +++---
 .../hadoop/realtime/RealtimeCompactedRecordReader.java     |  2 +-
 .../test/java/org/apache/hudi/hadoop/AnnotationTest.java   |  4 ++--
 .../java/org/apache/hudi/hadoop/HoodieInputFormatTest.java |  4 ++--
 .../src/main/java/org/apache/hudi/hive/HiveSyncTool.java   |  8 ++++----
 10 files changed, 31 insertions(+), 27 deletions(-)

commit d0b9b56b7de3a70cc24475fd552ebe00ad07ab39
Author: Vinoth Chandar <vinoth@apache.org>
Date:   Mon Sep 2 19:46:10 2019 -0700

    [HUDI-143] Excluding javax.* from utilities and spark bundles
    
     - Plus minor code review comments

 hudi-cli/src/main/java/org/apache/hudi/cli/utils/HiveUtil.java       | 5 +----
 hudi-cli/src/main/java/org/apache/hudi/cli/utils/SparkUtil.java      | 2 +-
 .../src/main/java/org/apache/hudi/common/util/StringUtils.java       | 2 +-
 hudi-hive/run_sync_tool.sh                                           | 2 +-
 hudi-hive/src/main/java/org/apache/hudi/hive/HoodieHiveClient.java   | 3 +--
 packaging/hudi-spark-bundle/pom.xml                                  | 1 +
 packaging/hudi-utilities-bundle/pom.xml                              | 1 +
 7 files changed, 7 insertions(+), 9 deletions(-)

commit 7a973a694488930627028b3175a731a23e3d3f32
Author: vinoth chandar <vchandar@confluent.io>
Date:   Mon Sep 2 16:15:55 2019 -0700

    [HUDI-159] Redesigning bundles for lighter-weight integrations
    
     - Documented principles applied for redesign at packaging/README.md
     - No longer depends on incl commons-codec, commons-io, commons-pool, commons-dbcp, commons-lang, commons-logging, avro-mapred
     - Introduce new FileIOUtils & added checkstyle rule for illegal import of above
     - Parquet, Avro dependencies moved to provided scope to enable being picked up from Hive/Spark/Presto instead
     - Pickup jackson jars for Hive sync tool from HIVE_HOME & unbundling jackson everywhere
     - Remove hive-jdbc standalone jar from being bundled in Spark/Hive/Utilities bundles
     - 6.5x reduced number of classes across bundles

 hudi-cli/pom.xml                                   |   6 -
 .../apache/hudi/cli/commands/RollbacksCommand.java |   2 +-
 .../java/org/apache/hudi/cli/utils/HiveUtil.java   |  16 +-
 .../java/org/apache/hudi/cli/utils/SparkUtil.java  |   4 +-
 .../BoundedPartitionAwareCompactionStrategy.java   |  18 +-
 .../main/java/org/apache/hudi/metrics/Metrics.java |   7 +-
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java |  11 +-
 .../org/apache/hudi/common/TestRawTripPayload.java |  10 +-
 .../apache/hudi/func/TestBoundedInMemoryQueue.java |   6 +-
 .../apache/hudi/func/TestUpdateMapFunction.java    |   4 +-
 .../hudi/index/bloom/TestHoodieBloomIndex.java     |   4 +-
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |   4 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |  23 +-
 .../org/apache/hudi/metrics/TestHoodieMetrics.java |   3 +-
 .../apache/hudi/table/TestCopyOnWriteTable.java    |   4 +-
 hudi-common/pom.xml                                |  16 --
 .../java/org/apache/hudi/common/BloomFilter.java   |   2 +-
 .../org/apache/hudi/common/HoodieJsonPayload.java  |   7 +-
 .../table/timeline/HoodieActiveTimeline.java       |   4 +-
 .../table/timeline/HoodieDefaultTimeline.java      |   4 +-
 .../org/apache/hudi/common/util/AvroUtils.java     |  48 ----
 .../hudi/common/util/FailSafeConsistencyGuard.java |   2 +-
 .../org/apache/hudi/common/util/FileIOUtils.java   |  97 +++++++
 .../org/apache/hudi/common/util/RocksDBDAO.java    |   7 +-
 .../org/apache/hudi/common/util/StringUtils.java   |  11 +
 .../apache/hudi/common/util/collection/Pair.java   |  24 +-
 .../apache/hudi/common/util/collection/Triple.java |  21 +-
 .../hudi/common/minicluster/HdfsTestService.java   |  10 +-
 .../common/minicluster/ZookeeperTestService.java   |   6 +-
 .../apache/hudi/common/util/TestFileIOUtils.java   |  63 +++++
 hudi-hadoop-mr/pom.xml                             |   6 -
 .../org/apache/hudi/hadoop/HoodieInputFormat.java  |   6 +-
 .../hudi/hadoop/HoodieROTablePathFilter.java       |   6 +-
 .../hudi/hadoop/RecordReaderValueIterator.java     |   6 +-
 .../hadoop/hive/HoodieCombineHiveInputFormat.java  |   6 +-
 .../realtime/AbstractRealtimeRecordReader.java     |   7 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   6 +-
 .../realtime/HoodieRealtimeRecordReader.java       |   6 +-
 .../realtime/RealtimeCompactedRecordReader.java    |   4 +
 hudi-hive/pom.xml                                  |  14 --
 hudi-hive/run_sync_tool.sh                         |   6 +-
 .../org/apache/hudi/hive/HoodieHiveClient.java     |  82 ++----
 .../java/org/apache/hudi/hive/util/SchemaUtil.java |   6 +-
 .../test/java/org/apache/hudi/hive/TestUtil.java   |   6 +-
 .../org/apache/hudi/hive/util/HiveTestService.java |   4 +-
 hudi-integ-test/pom.xml                            |   8 +-
 .../java/org/apache/hudi/integ/ITTestBase.java     |  21 +-
 .../org/apache/hudi/integ/ITTestHoodieDemo.java    |   2 +-
 hudi-utilities/pom.xml                             |   6 -
 .../hudi/utilities/HiveIncrementalPuller.java      |  24 +-
 .../deltastreamer/SchedulerConfGenerator.java      |  44 +---
 .../hudi/utilities/SchedulerConfGeneratorTest.java |  18 ++
 packaging/README.md                                |  18 ++
 packaging/hudi-hadoop-mr-bundle/pom.xml            | 238 ++++--------------
 packaging/hudi-hive-bundle/pom.xml                 | 221 ++++------------
 packaging/hudi-presto-bundle/pom.xml               | 212 ++++------------
 packaging/hudi-spark-bundle/pom.xml                | 270 ++++++--------------
 packaging/hudi-utilities-bundle/pom.xml            | 279 +++------------------
 pom.xml                                            |  70 +-----
 style/checkstyle.xml                               |   1 +
 60 files changed, 678 insertions(+), 1369 deletions(-)

commit 0e6f078ec4648fc0abc7f0453b2ba1837480cfb9
Author: Mehrotra <uditme@amazon.com>
Date:   Thu Sep 5 13:47:24 2019 -0700

    Fix logging in HoodieSparkSqlWriter

 hudi-spark/src/main/scala/org/apache/hudi/HoodieSparkSqlWriter.scala | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07a0ea87ab8239889149e462864acee66fa9547d
Author: leesf <490081539@qq.com>
Date:   Fri Sep 6 07:25:28 2019 +0800

    [hotfix] fix typo

 .../org/apache/hudi/common/table/view/AbstractTableFileSystemView.java  | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 821e0dcffcd7d0ca5b0140ebe585639fc0c32e22
Author: leesf <490081539@qq.com>
Date:   Tue Sep 3 15:07:23 2019 +0800

    [HUDI-236] Failed to close stream

 .../hudi/utilities/HoodieWithTimelineServer.java   | 28 ++++++++++------------
 .../adhoc/UpgradePayloadFromUberToApache.java      |  9 +++++--
 2 files changed, 19 insertions(+), 18 deletions(-)

commit 555dd55c16b2df504214f2bdfe84a6b106f61904
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   Thu Aug 29 16:22:01 2019 -0700

    Support nested ordering fields

 .../main/java/org/apache/hudi/utilities/deltastreamer/DeltaSync.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b150a3c6bf76e8029fda82a8a4e181b7a026980
Author: leesf <490081539@qq.com>
Date:   Fri Aug 30 17:09:47 2019 +0800

    [HUDI-230] Add missing Apache License in some files

 .travis.yml                                            | 15 +++++++++++++++
 _config.yml                                            | 15 +++++++++++++++
 deploy/maven/sonatype-settings.xml                     | 16 ++++++++++++++++
 .../docker-compose_hadoop284_hive233_spark231.yml      | 15 +++++++++++++++
 docker/setup_demo.sh                                   |  2 ++
 docker/stop_demo.sh                                    |  2 ++
 hudi-cli/hudi-cli.sh                                   | 18 ++++++++++++++++++
 hudi-hive/run_sync_tool.sh                             | 18 ++++++++++++++++++
 hudi-spark/run_hoodie_app.sh                           | 18 ++++++++++++++++++
 release/config/license-mappings.xml                    | 16 ++++++++++++++++
 style/checkstyle-suppressions.xml                      | 17 ++++++++++++++++-
 style/checkstyle.xml                                   | 16 ++++++++++++++++
 style/eclipse-java-google-style.xml                    | 16 ++++++++++++++++
 style/intellij-java-google-style.xml                   | 16 ++++++++++++++++
 style/scalastyle-config.xml                            | 16 ++++++++++++++++
 tools/run_travis_tests.sh                              | 18 ++++++++++++++++++
 16 files changed, 233 insertions(+), 1 deletion(-)

commit 376b59ae5ff46a77941c6e6608a82b8ceb6523ef
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Aug 30 09:13:34 2019 -0700

    [HUDI-227] : DeltaStreamer Improvements : Commit empty input batch with progressing checkpoints and allow users to override configs through properties. Original PR : PR-805 and PR-806 (#863)

 .../hudi/utilities/deltastreamer/DeltaSync.java    | 44 +++++++++++++-------
 .../hudi/utilities/transform/Transformer.java      |  4 +-
 .../hudi/utilities/TestHoodieDeltaStreamer.java    | 47 ++++++++++++++++++++--
 .../hudi/utilities/sources/TestDataSource.java     |  2 +-
 4 files changed, 77 insertions(+), 20 deletions(-)

commit a6908ef44dc21898ed53785fe0bd5f1e373ae779
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Aug 30 09:03:37 2019 -0700

    HUDI-170 Updating hoodie record before inserting it into ExternalSpillableMap (#866)

 .../java/org/apache/hudi/io/HoodieMergeHandle.java |  3 ++-
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  | 22 ++++++++++++++++++++--
 2 files changed, 22 insertions(+), 3 deletions(-)

commit 40dd4dd637a44f532af9143bf588dc36a3ced729
Author: leesf <490081539@qq.com>
Date:   Fri Aug 30 12:36:21 2019 +0800

    [HUDI-229] Fix mvn notice:generate issue in windows

 pom.xml | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5c2da6051effb38795011fc1d296ef9bd38f1208
Author: leesf <490081539@qq.com>
Date:   Thu Aug 29 16:26:34 2019 +0800

    [HUDI-225] Create Hudi Timeline Server Fat Jar

 NOTICE.txt                                         |   3 +-
 hudi-timeline-service/run_server.sh                |  14 -
 packaging/hudi-timeline-server-bundle/pom.xml      | 208 +++++++
 .../hudi-timeline-server-bundle/run_server.sh      |  31 ++
 .../apache/hudi/timeline/server/bundle/Main.java   |  36 ++
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 134 +++++
 pom.xml                                            |   1 +
 8 files changed, 1026 insertions(+), 15 deletions(-)

commit 5f9fa82f47e1cc14a22b869250fe23c8f9c033cd
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Aug 28 16:20:47 2019 -0700

    HUDI-124 : Exclude jdk.tools from hadoop-common and update Notice files (#858)

 NOTICE.txt                                         | 82 +++++++++-------------
 docker/hoodie/hadoop/NOTICE.txt                    | 47 ++++++-------
 docker/hoodie/hadoop/base/NOTICE.txt               | 29 +++-----
 docker/hoodie/hadoop/datanode/NOTICE.txt           | 30 +++-----
 docker/hoodie/hadoop/historyserver/NOTICE.txt      | 30 +++-----
 docker/hoodie/hadoop/hive_base/NOTICE.txt          | 30 +++-----
 docker/hoodie/hadoop/namenode/NOTICE.txt           | 30 +++-----
 docker/hoodie/hadoop/spark_base/NOTICE.txt         | 31 +++-----
 docker/hoodie/hadoop/sparkadhoc/NOTICE.txt         | 32 +++------
 docker/hoodie/hadoop/sparkmaster/NOTICE.txt        | 32 +++------
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        | 32 +++------
 hudi-cli/src/main/resources/META-INF/NOTICE.txt    | 35 +++------
 hudi-client/src/main/resources/META-INF/NOTICE.txt | 23 ++----
 hudi-common/src/main/resources/META-INF/NOTICE.txt |  9 +--
 .../src/main/resources/META-INF/NOTICE.txt         | 17 +----
 hudi-hive/src/main/resources/META-INF/NOTICE.txt   | 18 ++---
 .../src/main/resources/META-INF/NOTICE.txt         | 44 ++++--------
 hudi-spark/src/main/resources/META-INF/NOTICE.txt  | 26 +++----
 .../src/main/resources/META-INF/NOTICE.txt         |  7 +-
 .../src/main/resources/META-INF/NOTICE.txt         | 27 +++----
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 19 ++---
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 22 ++----
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 19 ++---
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 26 +++----
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 29 +++-----
 pom.xml                                            | 10 +++
 26 files changed, 251 insertions(+), 485 deletions(-)

commit 00cfe72c5d56dbaa2e170a087cf04b1e56a87bc3
Author: leesf <490081539@qq.com>
Date:   Wed Aug 28 16:42:18 2019 +0800

    [hotfix] change hoodie-timeline-*.jar to hudi-timeline-*.jar

 hudi-timeline-service/run_server.sh | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b44f8521f2b25928bccce9a6ba5c89fb76e5330e
Author: leesf <490081539@qq.com>
Date:   Wed Aug 28 16:14:15 2019 +0800

    [HUDI-222] Rename main class path to org.apache.hudi.timeline.service.TimelineService in run_server.sh

 hudi-timeline-service/run_server.sh | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 41dbac69037ddd770a94cf41f39beff92aec9568
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   Tue Aug 27 19:19:52 2019 -0700

    Fixed unit test

 .../apache/hudi/common/util/TestCompactionUtils.java    | 17 ++++++++++++++++-
 1 file changed, 16 insertions(+), 1 deletion(-)

commit b5d4da79586192f17c0db458c1d4fcdbb334c3e2
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   Tue Aug 27 15:31:04 2019 -0700

    Addressing comments

 .../src/main/java/org/apache/hudi/common/util/CompactionUtils.java   | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit baea4f3b82661747f574eda24cfb7dac89ddd72b
Author: Alex Filipchik <alex.filipchik@cloudkitchens.com>
Date:   Tue Aug 27 14:44:54 2019 -0700

    Ignore dublicate of a compaction file

 .../java/org/apache/hudi/common/util/CompactionUtils.java | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit e0ab89b3ac22207ff45cf3cae782d64b8be01bf1
Author: Alexander Filipchik <afilipchik@gmail.com>
Date:   Wed Aug 28 04:48:38 2019 -0700

    [HUDI-223] Adding a way to infer target schema from the dataset after the transformation (#854)
    
    - Adding a way to decouple target and source schema providers
    - Adding flattening transformer

 .../hudi/utilities/deltastreamer/DeltaSync.java    | 20 ++++--
 .../schema/NullTargetSchemaRegistryProvider.java   | 40 +++++++++++
 .../utilities/transform/FlatteningTransformer.java | 83 ++++++++++++++++++++++
 .../hudi/utilities/TestFlatteningTransformer.java  | 56 +++++++++++++++
 4 files changed, 194 insertions(+), 5 deletions(-)

commit 78e07215070106176902b57108a5689dce3cf606
Author: Vinoth Chandar <vinoth@apache.org>
Date:   Mon Aug 26 17:41:00 2019 -0700

    [HUDI-159] Precursor cleanup to reduce build warnings

 docker/hoodie/hadoop/base/pom.xml                  | 22 +++++++++++++---------
 docker/hoodie/hadoop/datanode/pom.xml              | 20 +++++++++++---------
 docker/hoodie/hadoop/historyserver/pom.xml         | 20 +++++++++++---------
 docker/hoodie/hadoop/hive_base/pom.xml             | 20 +++++++++++---------
 docker/hoodie/hadoop/namenode/pom.xml              | 20 +++++++++++---------
 docker/hoodie/hadoop/prestobase/pom.xml            | 20 +++++++++++---------
 docker/hoodie/hadoop/spark_base/pom.xml            | 20 +++++++++++---------
 docker/hoodie/hadoop/sparkadhoc/pom.xml            | 20 +++++++++++---------
 docker/hoodie/hadoop/sparkmaster/pom.xml           |  2 ++
 docker/hoodie/hadoop/sparkworker/pom.xml           | 20 +++++++++++---------
 .../scala/org/apache/hudi/cli/SparkHelpers.scala   |  6 ++++--
 hudi-integ-test/pom.xml                            |  2 +-
 pom.xml                                            |  5 ++---
 13 files changed, 110 insertions(+), 87 deletions(-)

commit c265b4948fd78b2d9050b67d18c20b4caa8aceab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Aug 26 08:52:36 2019 -0700

    HUDI-128 Preparing POM for release and snapshot builds (#851)

 hudi-cli/pom.xml   |  5 -----
 hudi-spark/pom.xml |  8 --------
 pom.xml            | 55 ++++++------------------------------------------------
 3 files changed, 6 insertions(+), 62 deletions(-)

commit cd090871a18210ac311c02009b27bd7cfcf2bb44
Author: vinoth chandar <vchandar@confluent.io>
Date:   Sun Aug 25 05:34:51 2019 -0700

    [HUDI-159]: Pom cleanup and removal of com.twitter.parquet
    
     - Redo all classes based on org.parquet only
     - remove unuused dependencies like parquet-hadoop, common-configuration2
     - timeline-service does not build a fat jar anymore
     - Fix utilities and hadoop-mr bundles based on above

 hudi-cli/pom.xml                                   |  18 +-
 .../hudi/cli/commands/HoodieLogFileCommand.java    |   4 +-
 hudi-client/pom.xml                                |  17 +-
 .../org/apache/hudi/io/HoodieAppendHandle.java     |   2 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |   4 +-
 hudi-common/pom.xml                                |  17 +-
 .../hudi/common/util/DefaultSizeEstimator.java     |   2 -
 .../common/util/HoodieRecordSizeEstimator.java     |   1 -
 .../hudi/common/util/ObjectSizeCalculator.java     | 478 +++++++++++++++++++++
 .../org/apache/hudi/common/util/ParquetUtils.java  |   3 +-
 .../util/collection/ExternalSpillableMap.java      |   2 +-
 hudi-hadoop-mr/pom.xml                             |  22 -
 .../realtime/AbstractRealtimeRecordReader.java     |   6 +-
 hudi-hive/pom.xml                                  |  37 +-
 .../java/org/apache/hudi/hive/HiveSyncTool.java    |   8 +-
 .../org/apache/hudi/hive/HoodieHiveClient.java     |   8 +-
 .../org/apache/hudi/hive/SchemaDifference.java     |   2 +-
 .../java/org/apache/hudi/hive/util/SchemaUtil.java |  16 +-
 .../org/apache/hudi/hive/HiveSyncToolTest.java     |  39 +-
 .../org/apache/hudi/hive/util/HiveTestService.java |   6 +-
 hudi-spark/pom.xml                                 |  16 +-
 hudi-timeline-service/pom.xml                      |  59 ---
 hudi-utilities/pom.xml                             |  64 +--
 packaging/hudi-hadoop-mr-bundle/pom.xml            |  24 +-
 packaging/hudi-hive-bundle/pom.xml                 |   6 -
 packaging/hudi-presto-bundle/pom.xml               |   6 -
 packaging/hudi-spark-bundle/pom.xml                |   4 -
 packaging/hudi-utilities-bundle/pom.xml            |  19 +-
 pom.xml                                            |  36 +-
 29 files changed, 600 insertions(+), 326 deletions(-)

commit 6edf0b9defe8c82b0ef0076a6300c00c1641a6e6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Aug 22 20:18:50 2019 -0700

    [HUDI-68] Pom cleanup & demo automation (#846)
    
     - [HUDI-172] Cleanup Maven POM/Classpath
      - Fix ordering of dependencies in poms, to enable better resolution
      - Idea is to place more specific ones at the top
      - And place dependencies which use them below them
    - [HUDI-68] : Automate demo steps on docker setup
     - Move hive queries from hive cli to beeline
     - Standardize on taking query input from text command files
     - Deltastreamer ingest, also does hive sync in a single step
     - Spark Incremental Query materialized as a derived Hive table using datasource
     - Fix flakiness in HDFS spin up and output comparison
     - Code cleanup around streamlining and loc reduction
     - Also fixed pom to not shade some hive classs in spark, to enable hive sync

 .gitignore                                         |   4 +-
 .travis.yml                                        |  12 +-
 docker/demo/compaction.commands                    |   5 +
 docker/demo/config/dfs-source.properties           |  27 +
 docker/demo/get_min_commit_time.sh                 |  21 +
 docker/demo/hive-batch1.commands                   |  11 +
 docker/demo/hive-batch2-after-compaction.commands  |   9 +
 docker/demo/hive-incremental.commands              |  10 +
 docker/demo/hive-table-check.commands              |  10 +
 docker/demo/sparksql-batch1.commands               |  30 ++
 docker/demo/sparksql-batch2.commands               |  29 ++
 docker/demo/sparksql-incremental.commands          |  59 +++
 hudi-cli/hudi-cli.sh                               |   5 +-
 hudi-cli/pom.xml                                   |  92 ++--
 .../hudi/cli/commands/CompactionCommand.java       |  15 +-
 hudi-client/pom.xml                                | 177 +++----
 hudi-common/pom.xml                                | 113 +++--
 hudi-hadoop-mr/pom.xml                             |  91 ++--
 hudi-hive/pom.xml                                  | 137 +++---
 hudi-integ-test/pom.xml                            | 113 +++--
 .../java/org/apache/hudi/integ/ITTestBase.java     | 141 +++++-
 .../org/apache/hudi/integ/ITTestHoodieDemo.java    | 271 +++++++++++
 .../org/apache/hudi/integ/ITTestHoodieSanity.java  | 143 ++----
 hudi-spark/pom.xml                                 | 128 ++---
 hudi-timeline-service/pom.xml                      |  86 ++--
 hudi-utilities/pom.xml                             | 323 ++++++------
 .../deltastreamer/HoodieDeltaStreamer.java         |   2 +-
 packaging/hudi-hadoop-mr-bundle/pom.xml            | 104 ++--
 packaging/hudi-hive-bundle/pom.xml                 | 127 ++---
 packaging/hudi-presto-bundle/pom.xml               |  68 +--
 packaging/hudi-spark-bundle/pom.xml                | 157 +++---
 packaging/hudi-utilities-bundle/pom.xml            | 314 ++++++------
 pom.xml                                            | 542 +++++++++++----------
 tools/run_travis_tests.sh                          |  17 +
 34 files changed, 2047 insertions(+), 1346 deletions(-)

commit 92eed6aca81d69c7fb91107b19366d03f7f4a944
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Thu Aug 22 19:40:36 2019 -0700

    [HUDI-82] Adds Presto integration in Docker demo (#847)

 .../docker-compose_hadoop284_hive233_spark231.yml  |  38 ++++
 docker/hoodie/hadoop/pom.xml                       |   2 +
 docker/hoodie/hadoop/prestobase/Dockerfile         |  69 ++++++
 docker/hoodie/hadoop/prestobase/bin/entrypoint.sh  |  52 +++++
 docker/hoodie/hadoop/prestobase/bin/mustache.sh    |  15 ++
 .../hadoop/prestobase/etc/catalog/hive.properties  |  18 ++
 .../hadoop/prestobase/etc/catalog/jmx.properties   |   4 +
 .../prestobase/etc/catalog/localfile.properties    |   3 +
 .../prestobase/etc/coordinator.properties.mustache |   6 +
 .../hadoop/prestobase/etc/jvm.config.mustache      |   9 +
 docker/hoodie/hadoop/prestobase/etc/log.properties |   1 +
 .../hadoop/prestobase/etc/node.properties.mustache |   3 +
 .../prestobase/etc/worker.properties.mustache      |   4 +
 docker/hoodie/hadoop/prestobase/lib/mustache.sh    | 252 +++++++++++++++++++++
 docker/hoodie/hadoop/prestobase/pom.xml            | 106 +++++++++
 docker/hoodie/hadoop/sparkadhoc/Dockerfile         |   6 +
 docker/hoodie/hadoop/sparkadhoc/adhoc.sh           |   2 +
 17 files changed, 590 insertions(+)

commit 1b79ef7672031301b6269e3a7b3587ddb7c793d9
Author: leesf <490081539@qq.com>
Date:   Fri Aug 16 23:27:19 2019 +0800

    HUDI-212: Specify Charset to UTF-8 for IOUtils.toString (#837)

 .../java/org/apache/hudi/TestHoodieClientOnCopyOnWriteStorage.java  | 6 +++---
 .../main/java/org/apache/hudi/utilities/HiveIncrementalPuller.java  | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 8f5e7ad5d96302905c09cfae9d28bfe684782fc7
Author: vinoyang <yanghua1127@gmail.com>
Date:   Wed Aug 14 08:13:52 2019 +0800

    [HUDI-205] Let checkstyle ban Java and Guava Optional instead of using Option provided by Hudi (#834)

 style/checkstyle-suppressions.xml | 1 +
 style/checkstyle.xml              | 3 +++
 2 files changed, 4 insertions(+)

commit 4787076c6d87488c0087ac0cfb7fa86596b1357a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Aug 13 17:13:30 2019 -0700

    HUDI-204 : Make MOR rollback idempotent and disable using rolling stats for small file selection (#833)

 .../apache/hudi/table/HoodieMergeOnReadTable.java  | 92 +++++++---------------
 .../apache/hudi/table/TestMergeOnReadTable.java    | 25 +++++-
 2 files changed, 52 insertions(+), 65 deletions(-)

commit 8d37fbf0db8aa1a65225aba95d2f6b485e869567
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Aug 12 11:03:25 2019 -0700

    Adding GPG Keys

 KEYS | 38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit a4f9d7575f39bb79089714049ffea12ba5f25ec8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sun Aug 11 17:48:17 2019 -0700

    HUDI-123 Rename code packages/constants to org.apache.hudi (#830)
    
    - Rename com.uber.hoodie to org.apache.hudi
    - Flag to pass com.uber.hoodie Input formats for hoodie-sync
    - Works with HUDI demo.
    - Also tested for backwards compatibility with datasets built by com.uber.hoodie packages
    - Migration guide : https://cwiki.apache.org/confluence/display/HUDI/Migration+Guide+From+com.uber.hoodie+to+org.apache.hudi

 docker/demo/setup_demo_container.sh                |    2 +-
 docker/hoodie/hadoop/base/pom.xml                  |   14 +-
 docker/hoodie/hadoop/datanode/pom.xml              |   12 +-
 docker/hoodie/hadoop/historyserver/pom.xml         |   12 +-
 docker/hoodie/hadoop/hive_base/pom.xml             |   20 +-
 docker/hoodie/hadoop/namenode/pom.xml              |   12 +-
 docker/hoodie/hadoop/pom.xml                       |   12 +-
 docker/hoodie/hadoop/spark_base/pom.xml            |   12 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml            |   12 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml           |   12 +-
 docker/hoodie/hadoop/sparkworker/pom.xml           |   12 +-
 hoodie-cli/hoodie-cli.sh                           |   16 -
 hoodie-cli/pom.xml                                 |  225 ----
 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |   77 --
 .../hoodie/cli/HoodieHistoryFileNameProvider.java  |   39 -
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |  109 --
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |   53 -
 .../com/uber/hoodie/cli/HoodieSplashScreen.java    |   58 -
 .../src/main/java/com/uber/hoodie/cli/Main.java    |   32 -
 .../src/main/java/com/uber/hoodie/cli/Table.java   |  178 ---
 .../main/java/com/uber/hoodie/cli/TableHeader.java |   71 -
 .../cli/commands/ArchivedCommitsCommand.java       |  238 ----
 .../uber/hoodie/cli/commands/CleansCommand.java    |  135 --
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  302 -----
 .../hoodie/cli/commands/CompactionCommand.java     |  514 -------
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |  128 --
 .../hoodie/cli/commands/FileSystemViewCommand.java |  272 ----
 .../cli/commands/HDFSParquetImportCommand.java     |   85 --
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  243 ----
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  112 --
 .../uber/hoodie/cli/commands/RepairsCommand.java   |  107 --
 .../uber/hoodie/cli/commands/RollbacksCommand.java |  132 --
 .../hoodie/cli/commands/SavepointsCommand.java     |  146 --
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  250 ----
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  171 ---
 .../com/uber/hoodie/cli/commands/UtilsCommand.java |   35 -
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   41 -
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |  123 --
 .../uber/hoodie/cli/utils/InputStreamConsumer.java |   61 -
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   81 --
 .../META-INF/spring/spring-shell-plugin.xml        |   28 -
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |  193 ---
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |  138 --
 hoodie-client/pom.xml                              |  236 ----
 .../java/com/uber/hoodie/AbstractHoodieClient.java |  126 --
 .../com/uber/hoodie/CompactionAdminClient.java     |  552 --------
 .../java/com/uber/hoodie/HoodieReadClient.java     |  224 ----
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 1417 --------------------
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  186 ---
 .../client/embedded/EmbeddedTimelineService.java   |  105 --
 .../com/uber/hoodie/client/utils/ClientUtils.java  |   39 -
 .../uber/hoodie/config/HoodieCompactionConfig.java |  312 -----
 .../uber/hoodie/config/HoodieHBaseIndexConfig.java |  269 ----
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  203 ---
 .../com/uber/hoodie/config/HoodieMemoryConfig.java |  181 ---
 .../uber/hoodie/config/HoodieMetricsConfig.java    |  120 --
 .../uber/hoodie/config/HoodieStorageConfig.java    |  145 --
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  726 ----------
 .../hoodie/exception/HoodieAppendException.java    |   34 -
 .../hoodie/exception/HoodieCommitException.java    |   34 -
 .../exception/HoodieCompactionException.java       |   31 -
 .../HoodieDependentSystemUnavailableException.java |   36 -
 .../hoodie/exception/HoodieInsertException.java    |   30 -
 .../hoodie/exception/HoodieRollbackException.java  |   30 -
 .../hoodie/exception/HoodieSavepointException.java |   30 -
 .../hoodie/exception/HoodieUpsertException.java    |   34 -
 .../uber/hoodie/func/BulkInsertMapFunction.java    |   55 -
 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |  172 ---
 .../com/uber/hoodie/func/LazyIterableIterator.java |  131 --
 .../hoodie/func/MergeOnReadLazyInsertIterable.java |   72 -
 .../java/com/uber/hoodie/func/OperationResult.java |   77 --
 .../uber/hoodie/func/ParquetReaderIterator.java    |   75 --
 .../hoodie/func/SparkBoundedInMemoryExecutor.java  |   57 -
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  126 --
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  142 --
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |   98 --
 .../bloom/BucketizedBloomCheckPartitioner.java     |  157 ---
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  396 ------
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  119 --
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |  125 --
 .../uber/hoodie/index/bloom/IndexFileFilter.java   |   38 -
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |   67 -
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |   76 --
 .../uber/hoodie/index/bloom/KeyLookupResult.java   |   49 -
 .../hoodie/index/bloom/KeyRangeLookupTree.java     |  156 ---
 .../com/uber/hoodie/index/bloom/KeyRangeNode.java  |  153 ---
 .../bloom/ListBasedGlobalIndexFileFilter.java      |   53 -
 .../index/bloom/ListBasedIndexFileFilter.java      |   65 -
 .../hbase/DefaultHBaseQPSResourceAllocator.java    |   52 -
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  548 --------
 .../hbase/HBaseIndexQPSResourceAllocator.java      |   51 -
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  321 -----
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  272 ----
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  338 -----
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  183 ---
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   42 -
 .../com/uber/hoodie/io/HoodieKeyLookupHandle.java  |  158 ---
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  361 -----
 .../com/uber/hoodie/io/HoodieRangeInfoHandle.java  |   43 -
 .../java/com/uber/hoodie/io/HoodieReadHandle.java  |   58 -
 .../java/com/uber/hoodie/io/HoodieWriteHandle.java |  170 ---
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   59 -
 .../io/compact/HoodieRealtimeTableCompactor.java   |  236 ----
 .../strategy/BoundedIOCompactionStrategy.java      |   53 -
 .../BoundedPartitionAwareCompactionStrategy.java   |   73 -
 .../io/compact/strategy/CompactionStrategy.java    |  125 --
 .../strategy/DayBasedCompactionStrategy.java       |   83 --
 .../LogFileSizeBasedCompactionStrategy.java        |   74 -
 .../strategy/UnBoundedCompactionStrategy.java      |   40 -
 .../UnBoundedPartitionAwareCompactionStrategy.java |   65 -
 .../hoodie/io/storage/HoodieParquetConfig.java     |   74 -
 .../hoodie/io/storage/HoodieParquetWriter.java     |  106 --
 .../hoodie/io/storage/HoodieStorageWriter.java     |   34 -
 .../io/storage/HoodieStorageWriterFactory.java     |   58 -
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  188 ---
 .../hoodie/metrics/InMemoryMetricsReporter.java    |   40 -
 .../main/java/com/uber/hoodie/metrics/Metrics.java |  100 --
 .../hoodie/metrics/MetricsGraphiteReporter.java    |   91 --
 .../com/uber/hoodie/metrics/MetricsReporter.java   |   39 -
 .../hoodie/metrics/MetricsReporterFactory.java     |   49 -
 .../uber/hoodie/metrics/MetricsReporterType.java   |   27 -
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  806 -----------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  546 --------
 .../java/com/uber/hoodie/table/HoodieTable.java    |  430 ------
 .../table/UserDefinedBulkInsertPartitioner.java    |   35 -
 .../com/uber/hoodie/table/WorkloadProfile.java     |  110 --
 .../java/com/uber/hoodie/table/WorkloadStat.java   |   70 -
 .../src/test/java/HoodieClientExample.java         |  128 --
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  580 --------
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  951 -------------
 .../java/com/uber/hoodie/TestClientRollback.java   |  328 -----
 .../com/uber/hoodie/TestCompactionAdminClient.java |  365 -----
 .../java/com/uber/hoodie/TestConsistencyGuard.java |  121 --
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  543 --------
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  735 ----------
 .../java/com/uber/hoodie/TestHoodieReadClient.java |  207 ---
 .../src/test/java/com/uber/hoodie/TestMultiFS.java |  180 ---
 .../test/java/com/uber/hoodie/TestWriteStatus.java |   55 -
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  249 ----
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |  102 --
 .../hoodie/common/HoodieTestDataGenerator.java     |  386 ------
 .../com/uber/hoodie/common/TestRawTripPayload.java |  196 ---
 .../uber/hoodie/config/HoodieWriteConfigTest.java  |   62 -
 .../hoodie/func/TestBoundedInMemoryExecutor.java   |   89 --
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java |  340 -----
 .../hoodie/func/TestParquetReaderIterator.java     |   63 -
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  157 ---
 .../index/TestHBaseQPSResourceAllocator.java       |  146 --
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  459 -------
 .../com/uber/hoodie/index/TestHoodieIndex.java     |   79 --
 .../bloom/TestBucketizedBloomCheckPartitioner.java |   83 --
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  505 -------
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |  313 -----
 .../hoodie/index/bloom/TestKeyRangeLookupTree.java |  176 ---
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  458 -------
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  213 ---
 .../com/uber/hoodie/io/TestHoodieMergeHandle.java  |  371 -----
 .../io/strategy/TestHoodieCompactionStrategy.java  |  266 ----
 .../hoodie/io/strategy/TestHoodieDataFile.java     |   56 -
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |   46 -
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |   48 -
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  511 -------
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 1340 ------------------
 hoodie-common/pom.xml                              |  181 ---
 .../src/main/avro/HoodieArchivedMetaEntry.avsc     |   55 -
 .../src/main/avro/HoodieCleanMetadata.avsc         |   24 -
 .../src/main/avro/HoodieCommitMetadata.avsc        |  114 --
 .../src/main/avro/HoodieCompactionMetadata.avsc    |   42 -
 .../src/main/avro/HoodieCompactionOperation.avsc   |   62 -
 .../src/main/avro/HoodieRestoreMetadata.avsc       |   17 -
 .../src/main/avro/HoodieRollbackMetadata.avsc      |   22 -
 .../src/main/avro/HoodieSavePointMetadata.avsc     |   20 -
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |   77 --
 .../uber/hoodie/avro/MercifulJsonConverter.java    |  167 ---
 .../java/com/uber/hoodie/common/BloomFilter.java   |  104 --
 .../com/uber/hoodie/common/HoodieCleanStat.java    |  128 --
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  113 --
 .../com/uber/hoodie/common/HoodieRollbackStat.java |   99 --
 .../hoodie/common/SerializableConfiguration.java   |   60 -
 .../common/io/storage/HoodieWrapperFileSystem.java |  909 -------------
 .../io/storage/SizeAwareFSDataOutputStream.java    |   79 --
 .../com/uber/hoodie/common/model/ActionType.java   |   23 -
 .../hoodie/common/model/CompactionOperation.java   |  169 ---
 .../com/uber/hoodie/common/model/FileSlice.java    |  139 --
 .../hoodie/common/model/HoodieArchivedLogFile.java |   40 -
 .../hoodie/common/model/HoodieAvroPayload.java     |   69 -
 .../hoodie/common/model/HoodieCleaningPolicy.java  |   24 -
 .../hoodie/common/model/HoodieCommitMetadata.java  |  347 -----
 .../uber/hoodie/common/model/HoodieDataFile.java   |  101 --
 .../hoodie/common/model/HoodieDeltaWriteStat.java  |   47 -
 .../uber/hoodie/common/model/HoodieFileFormat.java |   33 -
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  224 ----
 .../hoodie/common/model/HoodieFileGroupId.java     |   71 -
 .../com/uber/hoodie/common/model/HoodieKey.java    |   76 --
 .../uber/hoodie/common/model/HoodieLogFile.java    |  187 ---
 .../common/model/HoodiePartitionMetadata.java      |  150 ---
 .../com/uber/hoodie/common/model/HoodieRecord.java |  173 ---
 .../hoodie/common/model/HoodieRecordLocation.java  |   72 -
 .../hoodie/common/model/HoodieRecordPayload.java   |   72 -
 .../hoodie/common/model/HoodieRollingStat.java     |  100 --
 .../common/model/HoodieRollingStatMetadata.java    |  103 --
 .../uber/hoodie/common/model/HoodieTableType.java  |   37 -
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  412 ------
 .../common/storage/SizeAwareDataInputStream.java   |   65 -
 .../uber/hoodie/common/storage/StorageSchemes.java |   69 -
 .../hoodie/common/table/HoodieTableConfig.java     |  185 ---
 .../hoodie/common/table/HoodieTableMetaClient.java |  482 -------
 .../uber/hoodie/common/table/HoodieTimeline.java   |  300 -----
 .../common/table/SyncableFileSystemView.java       |   46 -
 .../hoodie/common/table/TableFileSystemView.java   |  166 ---
 .../table/log/AbstractHoodieLogRecordScanner.java  |  356 -----
 .../common/table/log/HoodieLogFileReader.java      |  417 ------
 .../hoodie/common/table/log/HoodieLogFormat.java   |  299 -----
 .../common/table/log/HoodieLogFormatReader.java    |  132 --
 .../common/table/log/HoodieLogFormatVersion.java   |  106 --
 .../common/table/log/HoodieLogFormatWriter.java    |  266 ----
 .../table/log/HoodieMergedLogRecordScanner.java    |  131 --
 .../table/log/HoodieUnMergedLogRecordScanner.java  |   56 -
 .../table/log/block/HoodieAvroDataBlock.java       |  319 -----
 .../log/block/HoodieAvroDataBlockVersion.java      |   39 -
 .../common/table/log/block/HoodieCommandBlock.java |   78 --
 .../table/log/block/HoodieCommandBlockVersion.java |   30 -
 .../common/table/log/block/HoodieCorruptBlock.java |   68 -
 .../common/table/log/block/HoodieDeleteBlock.java  |  118 --
 .../table/log/block/HoodieDeleteBlockVersion.java  |   30 -
 .../common/table/log/block/HoodieLogBlock.java     |  289 ----
 .../table/log/block/HoodieLogBlockVersion.java     |   35 -
 .../table/timeline/HoodieActiveTimeline.java       |  406 ------
 .../table/timeline/HoodieArchivedTimeline.java     |  112 --
 .../table/timeline/HoodieDefaultTimeline.java      |  216 ---
 .../common/table/timeline/HoodieInstant.java       |  172 ---
 .../common/table/timeline/dto/CompactionOpDTO.java |   77 --
 .../common/table/timeline/dto/DataFileDTO.java     |   62 -
 .../common/table/timeline/dto/FSPermissionDTO.java |   63 -
 .../common/table/timeline/dto/FileGroupDTO.java    |   58 -
 .../common/table/timeline/dto/FilePathDTO.java     |   53 -
 .../common/table/timeline/dto/FileSliceDTO.java    |   57 -
 .../common/table/timeline/dto/FileStatusDTO.java   |   99 --
 .../common/table/timeline/dto/InstantDTO.java      |   55 -
 .../common/table/timeline/dto/LogFileDTO.java      |   50 -
 .../common/table/timeline/dto/TimelineDTO.java     |   46 -
 .../table/view/AbstractTableFileSystemView.java    |  849 ------------
 .../common/table/view/FileSystemViewManager.java   |  218 ---
 .../table/view/FileSystemViewStorageConfig.java    |  199 ---
 .../table/view/FileSystemViewStorageType.java      |   36 -
 .../table/view/HoodieTableFileSystemView.java      |  218 ---
 .../IncrementalTimelineSyncFileSystemView.java     |  354 -----
 .../table/view/PriorityBasedFileSystemView.java    |  241 ----
 .../view/RemoteHoodieTableFileSystemView.java      |  476 -------
 .../table/view/RocksDbBasedFileSystemView.java     |  344 -----
 .../view/SpillableMapBasedFileSystemView.java      |  111 --
 .../com/uber/hoodie/common/util/AvroUtils.java     |  221 ---
 .../uber/hoodie/common/util/CompactionUtils.java   |  184 ---
 .../uber/hoodie/common/util/ConsistencyGuard.java  |   89 --
 .../hoodie/common/util/ConsistencyGuardConfig.java |  121 --
 .../common/util/DFSPropertiesConfiguration.java    |  114 --
 .../hoodie/common/util/DefaultSizeEstimator.java   |   33 -
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  566 --------
 .../common/util/FailSafeConsistencyGuard.java      |  198 ---
 .../com/uber/hoodie/common/util/Functions.java     |   40 -
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  242 ----
 .../common/util/HoodieRecordSizeEstimator.java     |   54 -
 .../com/uber/hoodie/common/util/HoodieTimer.java   |   72 -
 .../uber/hoodie/common/util/LogReaderUtils.java    |   81 --
 .../com/uber/hoodie/common/util/NetworkUtils.java  |   44 -
 .../hoodie/common/util/NoOpConsistencyGuard.java   |   46 -
 .../com/uber/hoodie/common/util/NumericUtils.java  |   31 -
 .../java/com/uber/hoodie/common/util/Option.java   |  314 -----
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  208 ---
 .../uber/hoodie/common/util/ReflectionUtils.java   |  104 --
 .../com/uber/hoodie/common/util/RocksDBDAO.java    |  472 -------
 .../hoodie/common/util/RocksDBSchemaHelper.java    |  126 --
 .../hoodie/common/util/SerializationUtils.java     |  165 ---
 .../com/uber/hoodie/common/util/SizeEstimator.java |   33 -
 .../uber/hoodie/common/util/SpillableMapUtils.java |  132 --
 .../com/uber/hoodie/common/util/StringUtils.java   |   57 -
 .../hoodie/common/util/TimelineDiffHelper.java     |  135 --
 .../uber/hoodie/common/util/TypedProperties.java   |   97 --
 .../common/util/collection/DiskBasedMap.java       |  363 -----
 .../util/collection/ExternalSpillableMap.java      |  283 ----
 .../common/util/collection/ImmutablePair.java      |  111 --
 .../common/util/collection/ImmutableTriple.java    |  114 --
 .../common/util/collection/LazyFileIterable.java   |  126 --
 .../uber/hoodie/common/util/collection/Pair.java   |  181 ---
 .../common/util/collection/RocksDBBasedMap.java    |  125 --
 .../uber/hoodie/common/util/collection/Triple.java |  164 ---
 .../io/storage/SizeAwareDataOutputStream.java      |   72 -
 .../common/util/queue/BoundedInMemoryExecutor.java |  164 ---
 .../common/util/queue/BoundedInMemoryQueue.java    |  278 ----
 .../util/queue/BoundedInMemoryQueueConsumer.java   |   63 -
 .../util/queue/BoundedInMemoryQueueProducer.java   |   35 -
 .../util/queue/FunctionBasedQueueProducer.java     |   46 -
 .../util/queue/IteratorBasedQueueProducer.java     |   49 -
 .../uber/hoodie/config/DefaultHoodieConfig.java    |   53 -
 .../exception/CorruptedLogFileException.java       |   26 -
 .../hoodie/exception/DatasetNotFoundException.java |   57 -
 .../exception/HoodieCorruptedDataException.java    |   35 -
 .../com/uber/hoodie/exception/HoodieException.java |   54 -
 .../uber/hoodie/exception/HoodieIOException.java   |   42 -
 .../hoodie/exception/HoodieIndexException.java     |   33 -
 .../exception/HoodieNotSupportedException.java     |   26 -
 .../exception/HoodieRecordMissingException.java    |   35 -
 .../hoodie/exception/HoodieRemoteException.java    |   29 -
 .../exception/HoodieSerializationException.java    |   43 -
 .../hoodie/exception/InvalidDatasetException.java  |   33 -
 .../exception/InvalidHoodiePathException.java      |   28 -
 .../exception/MetadataNotFoundException.java       |   33 -
 .../exception/SchemaCompatabilityException.java    |   34 -
 .../com/uber/hoodie/common/TestBloomFilter.java    |   45 -
 .../hoodie/common/minicluster/HdfsTestService.java |  151 ---
 .../hoodie/common/minicluster/MiniClusterUtil.java |   55 -
 .../common/minicluster/ZookeeperTestService.java   |  237 ----
 .../hoodie/common/model/AvroBinaryTestPayload.java |   61 -
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  413 ------
 .../common/model/TestHoodieCommitMetadata.java     |   45 -
 .../hoodie/common/model/TestHoodieWriteStat.java   |   57 -
 .../hoodie/common/storage/TestStorageSchemes.java  |   43 -
 .../common/table/HoodieTableMetaClientTest.java    |  136 --
 .../log/HoodieLogFormatAppendFailureTest.java      |  143 --
 .../common/table/log/HoodieLogFormatTest.java      | 1314 ------------------
 .../table/string/HoodieActiveTimelineTest.java     |  124 --
 .../common/table/string/MockHoodieTimeline.java    |   43 -
 .../table/view/HoodieTableFileSystemViewTest.java  | 1188 ----------------
 .../table/view/IncrementalFSViewSyncTest.java      |  791 -----------
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |   35 -
 .../table/view/RocksDbBasedFileSystemViewTest.java |   32 -
 .../view/SpillableMapBasedFileSystemViewTest.java  |   31 -
 ...SpillableMapBasedIncrementalFSViewSyncTest.java |   32 -
 .../hoodie/common/util/CompactionTestUtils.java    |  212 ---
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  185 ---
 .../hoodie/common/util/SpillableMapTestUtils.java  |   53 -
 .../hoodie/common/util/TestCompactionUtils.java    |  225 ----
 .../util/TestDFSPropertiesConfiguration.java       |  138 --
 .../com/uber/hoodie/common/util/TestFSUtils.java   |  273 ----
 .../hoodie/common/util/TestHoodieAvroUtils.java    |   59 -
 .../uber/hoodie/common/util/TestNumericUtils.java  |   39 -
 .../uber/hoodie/common/util/TestParquetUtils.java  |  127 --
 .../com/uber/hoodie/common/util/TestRecord.java    |  105 --
 .../hoodie/common/util/TestRocksDBManager.java     |  180 ---
 .../hoodie/common/util/TestSerializationUtils.java |   81 --
 .../common/util/collection/TestDiskBasedMap.java   |  211 ---
 .../util/collection/TestExternalSpillableMap.java  |  320 -----
 .../util/collection/TestRocksDbBasedMap.java       |   56 -
 hoodie-hadoop-mr/pom.xml                           |  133 --
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |   70 -
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  224 ----
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  183 ---
 .../hoodie/hadoop/RecordReaderValueIterator.java   |   83 --
 .../hadoop/SafeParquetRecordReaderWrapper.java     |   92 --
 .../hadoop/UseFileSplitsFromInputFormat.java       |   38 -
 .../hadoop/hive/HoodieCombineHiveInputFormat.java  |  933 -------------
 .../realtime/AbstractRealtimeRecordReader.java     |  359 -----
 .../hoodie/hadoop/realtime/HoodieParquetSerde.java |   31 -
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  110 --
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  241 ----
 .../realtime/HoodieRealtimeRecordReader.java       |  103 --
 .../realtime/RealtimeCompactedRecordReader.java    |  147 --
 .../realtime/RealtimeUnmergedRecordReader.java     |  143 --
 .../com/uber/hoodie/hadoop/AnnotationTest.java     |   40 -
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |  248 ----
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  221 ---
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |  109 --
 .../hadoop/TestRecordReaderValueIterator.java      |  105 --
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  570 --------
 hoodie-hadoop-mr/src/test/resources/sample1.avsc   |   17 -
 hoodie-hive/pom.xml                                |  227 ----
 hoodie-hive/run_sync_tool.sh                       |   39 -
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  102 --
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |  191 ---
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  680 ----------
 .../uber/hoodie/hive/HoodieHiveSyncException.java  |   42 -
 .../hoodie/hive/MultiPartKeysValueExtractor.java   |   44 -
 .../uber/hoodie/hive/NonPartitionedExtractor.java  |   33 -
 .../uber/hoodie/hive/PartitionValueExtractor.java  |   35 -
 .../com/uber/hoodie/hive/SchemaDifference.java     |  114 --
 .../SlashEncodedDayPartitionValueExtractor.java    |   64 -
 .../uber/hoodie/hive/util/ColumnNameXLator.java    |   50 -
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  459 -------
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |  389 ------
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  366 -----
 .../com/uber/hoodie/hive/util/HiveTestService.java |  326 -----
 hoodie-integ-test/pom.xml                          |  196 ---
 .../java/com/uber/hoodie/integ/ITTestBase.java     |  180 ---
 .../com/uber/hoodie/integ/ITTestHoodieSanity.java  |  197 ---
 hoodie-spark/pom.xml                               |  291 ----
 hoodie-spark/run_hoodie_app.sh                     |   24 -
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |   58 -
 .../java/com/uber/hoodie/ComplexKeyGenerator.java  |   81 --
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  247 ----
 .../com/uber/hoodie/EmptyHoodieRecordPayload.java  |   48 -
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |   77 --
 .../main/java/com/uber/hoodie/KeyGenerator.java    |   43 -
 .../uber/hoodie/NonpartitionedKeyGenerator.java    |   41 -
 .../hoodie/OverwriteWithLatestAvroPayload.java     |   71 -
 .../java/com/uber/hoodie/SimpleKeyGenerator.java   |   63 -
 .../com/uber/hoodie/AvroConversionUtils.scala      |  353 -----
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |  206 ---
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  107 --
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     |  255 ----
 .../com/uber/hoodie/HoodieStreamingSink.scala      |  122 --
 .../com/uber/hoodie/IncrementalRelation.scala      |  120 --
 .../src/main/scala/com/uber/hoodie/package.scala   |   38 -
 .../src/test/java/DataSourceTestUtils.java         |   46 -
 hoodie-spark/src/test/java/HoodieJavaApp.java      |  231 ----
 .../src/test/java/HoodieJavaStreamingApp.java      |  279 ----
 .../src/test/scala/DataSourceDefaultsTest.scala    |  181 ---
 hoodie-spark/src/test/scala/DataSourceTest.scala   |  278 ----
 .../uber/hoodie/HoodieSparkSqlWriterSuite.scala    |   52 -
 hoodie-timeline-service/pom.xml                    |  242 ----
 .../timeline/service/FileSystemViewHandler.java    |  354 -----
 .../hoodie/timeline/service/TimelineService.java   |  168 ---
 .../timeline/service/handlers/DataFileHandler.java |   78 --
 .../service/handlers/FileSliceHandler.java         |   94 --
 .../hoodie/timeline/service/handlers/Handler.java  |   37 -
 .../timeline/service/handlers/TimelineHandler.java |   48 -
 .../view/RemoteHoodieTableFileSystemViewTest.java  |   59 -
 hoodie-utilities/pom.xml                           |  382 ------
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  277 ----
 .../hoodie/utilities/HiveIncrementalPuller.java    |  372 -----
 .../com/uber/hoodie/utilities/HoodieCleaner.java   |  115 --
 .../utilities/HoodieCompactionAdminTool.java       |  176 ---
 .../com/uber/hoodie/utilities/HoodieCompactor.java |  138 --
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  195 ---
 .../hoodie/utilities/HoodieWithTimelineServer.java |  129 --
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  227 ----
 .../AbstractDeltaStreamerService.java              |  146 --
 .../hoodie/utilities/deltastreamer/Compactor.java  |   62 -
 .../hoodie/utilities/deltastreamer/DeltaSync.java  |  505 -------
 .../deltastreamer/HoodieDeltaStreamer.java         |  572 --------
 .../deltastreamer/HoodieDeltaStreamerMetrics.java  |   79 --
 .../deltastreamer/SchedulerConfGenerator.java      |  127 --
 .../deltastreamer/SourceFormatAdapter.java         |  112 --
 .../exception/HoodieDeltaStreamerException.java    |   32 -
 .../exception/HoodieIncrementalPullException.java  |   33 -
 .../HoodieIncrementalPullSQLException.java         |   32 -
 .../keygen/TimestampBasedKeyGenerator.java         |  112 --
 .../hoodie/utilities/perf/TimelineServerPerf.java  |  323 -----
 .../utilities/schema/FilebasedSchemaProvider.java  |   83 --
 .../utilities/schema/RowBasedSchemaProvider.java   |   43 -
 .../hoodie/utilities/schema/SchemaProvider.java    |   46 -
 .../utilities/schema/SchemaRegistryProvider.java   |   90 --
 .../hoodie/utilities/sources/AvroDFSSource.java    |   65 -
 .../hoodie/utilities/sources/AvroKafkaSource.java  |   74 -
 .../uber/hoodie/utilities/sources/AvroSource.java  |   36 -
 .../utilities/sources/HiveIncrPullSource.java      |  141 --
 .../hoodie/utilities/sources/HoodieIncrSource.java |  158 ---
 .../uber/hoodie/utilities/sources/InputBatch.java  |   54 -
 .../hoodie/utilities/sources/JsonDFSSource.java    |   56 -
 .../hoodie/utilities/sources/JsonKafkaSource.java  |   68 -
 .../uber/hoodie/utilities/sources/JsonSource.java  |   35 -
 .../uber/hoodie/utilities/sources/RowSource.java   |   51 -
 .../com/uber/hoodie/utilities/sources/Source.java  |   85 --
 .../utilities/sources/helpers/AvroConvertor.java   |   99 --
 .../utilities/sources/helpers/DFSPathSelector.java |  117 --
 .../sources/helpers/IncrSourceHelper.java          |  103 --
 .../utilities/sources/helpers/KafkaOffsetGen.java  |  266 ----
 .../utilities/transform/IdentityTransformer.java   |   37 -
 .../transform/SqlQueryBasedTransformer.java        |   66 -
 .../hoodie/utilities/transform/Transformer.java    |   43 -
 .../utilities/SchedulerConfGeneratorTest.java      |   36 -
 .../hoodie/utilities/TestHDFSParquetImporter.java  |  287 ----
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  |  569 --------
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  173 ---
 .../uber/hoodie/utilities/UtilitiesTestBase.java   |  197 ---
 .../utilities/sources/AbstractBaseTestSource.java  |  105 --
 .../sources/DistributedTestDataSource.java         |   79 --
 .../hoodie/utilities/sources/TestDFSSource.java    |  121 --
 .../hoodie/utilities/sources/TestDataSource.java   |   64 -
 .../hoodie/utilities/sources/TestKafkaSource.java  |  203 ---
 .../utilities/sources/config/TestSourceConfig.java |   43 -
 hudi-cli/hudi-cli.sh                               |   17 +
 .../dnl/utils/textutils/0.3.3/textutils-0.3.3.jar  |  Bin
 hudi-cli/pom.xml                                   |  225 ++++
 .../main/java/org/apache/hudi/cli/HoodieCLI.java   |   77 ++
 .../hudi/cli/HoodieHistoryFileNameProvider.java    |   39 +
 .../org/apache/hudi/cli/HoodiePrintHelper.java     |  109 ++
 .../java/org/apache/hudi/cli/HoodiePrompt.java     |   53 +
 .../org/apache/hudi/cli/HoodieSplashScreen.java    |   62 +
 .../src/main/java/org/apache/hudi/cli/Main.java    |   34 +
 .../src/main/java/org/apache/hudi/cli/Table.java   |  178 +++
 .../main/java/org/apache/hudi/cli/TableHeader.java |   71 +
 .../hudi/cli/commands/ArchivedCommitsCommand.java  |  239 ++++
 .../apache/hudi/cli/commands/CleansCommand.java    |  135 ++
 .../apache/hudi/cli/commands/CommitsCommand.java   |  302 +++++
 .../hudi/cli/commands/CompactionCommand.java       |  512 +++++++
 .../apache/hudi/cli/commands/DatasetsCommand.java  |  132 ++
 .../hudi/cli/commands/FileSystemViewCommand.java   |  272 ++++
 .../cli/commands/HDFSParquetImportCommand.java     |   85 ++
 .../hudi/cli/commands/HoodieLogFileCommand.java    |  244 ++++
 .../hudi/cli/commands/HoodieSyncCommand.java       |  112 ++
 .../apache/hudi/cli/commands/RepairsCommand.java   |  107 ++
 .../apache/hudi/cli/commands/RollbacksCommand.java |  132 ++
 .../hudi/cli/commands/SavepointsCommand.java       |  146 ++
 .../org/apache/hudi/cli/commands/SparkMain.java    |  251 ++++
 .../org/apache/hudi/cli/commands/StatsCommand.java |  171 +++
 .../org/apache/hudi/cli/commands/UtilsCommand.java |   35 +
 .../java/org/apache/hudi/cli/utils/CommitUtil.java |   41 +
 .../java/org/apache/hudi/cli/utils/HiveUtil.java   |  123 ++
 .../apache/hudi/cli/utils/InputStreamConsumer.java |   61 +
 .../java/org/apache/hudi/cli/utils/SparkUtil.java  |   80 ++
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../META-INF/spring/spring-shell-plugin.xml        |   28 +
 .../scala/org/apache/hudi/cli/DedupeSparkJob.scala |  193 +++
 .../scala/org/apache/hudi/cli/SparkHelpers.scala   |  138 ++
 hudi-client/pom.xml                                |  236 ++++
 .../java/org/apache/hudi/AbstractHoodieClient.java |  126 ++
 .../org/apache/hudi/CompactionAdminClient.java     |  552 ++++++++
 .../java/org/apache/hudi/HoodieReadClient.java     |  224 ++++
 .../java/org/apache/hudi/HoodieWriteClient.java    | 1417 ++++++++++++++++++++
 .../src/main/java/org/apache/hudi/WriteStatus.java |  186 +++
 .../client/embedded/EmbeddedTimelineService.java   |  105 ++
 .../org/apache/hudi/client/utils/ClientUtils.java  |   39 +
 .../apache/hudi/config/HoodieCompactionConfig.java |  312 +++++
 .../apache/hudi/config/HoodieHBaseIndexConfig.java |  269 ++++
 .../org/apache/hudi/config/HoodieIndexConfig.java  |  203 +++
 .../org/apache/hudi/config/HoodieMemoryConfig.java |  181 +++
 .../apache/hudi/config/HoodieMetricsConfig.java    |  120 ++
 .../apache/hudi/config/HoodieStorageConfig.java    |  145 ++
 .../org/apache/hudi/config/HoodieWriteConfig.java  |  727 ++++++++++
 .../hudi/exception/HoodieAppendException.java      |   34 +
 .../hudi/exception/HoodieCommitException.java      |   34 +
 .../hudi/exception/HoodieCompactionException.java  |   31 +
 .../HoodieDependentSystemUnavailableException.java |   36 +
 .../hudi/exception/HoodieInsertException.java      |   30 +
 .../hudi/exception/HoodieRollbackException.java    |   30 +
 .../hudi/exception/HoodieSavepointException.java   |   30 +
 .../hudi/exception/HoodieUpsertException.java      |   34 +
 .../apache/hudi/func/BulkInsertMapFunction.java    |   55 +
 .../hudi/func/CopyOnWriteLazyInsertIterable.java   |  172 +++
 .../org/apache/hudi/func/LazyIterableIterator.java |  131 ++
 .../hudi/func/MergeOnReadLazyInsertIterable.java   |   72 +
 .../java/org/apache/hudi/func/OperationResult.java |   77 ++
 .../apache/hudi/func/ParquetReaderIterator.java    |   75 ++
 .../hudi/func/SparkBoundedInMemoryExecutor.java    |   57 +
 .../java/org/apache/hudi/index/HoodieIndex.java    |  127 ++
 .../org/apache/hudi/index/InMemoryHashIndex.java   |  142 ++
 .../hudi/index/bloom/BloomIndexFileInfo.java       |   98 ++
 .../bloom/BucketizedBloomCheckPartitioner.java     |  156 +++
 .../apache/hudi/index/bloom/HoodieBloomIndex.java  |  397 ++++++
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  119 ++
 .../hudi/index/bloom/HoodieGlobalBloomIndex.java   |  125 ++
 .../apache/hudi/index/bloom/IndexFileFilter.java   |   38 +
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |   67 +
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |   76 ++
 .../apache/hudi/index/bloom/KeyLookupResult.java   |   49 +
 .../hudi/index/bloom/KeyRangeLookupTree.java       |  156 +++
 .../org/apache/hudi/index/bloom/KeyRangeNode.java  |  153 +++
 .../bloom/ListBasedGlobalIndexFileFilter.java      |   53 +
 .../hudi/index/bloom/ListBasedIndexFileFilter.java |   65 +
 .../hbase/DefaultHBaseQPSResourceAllocator.java    |   51 +
 .../org/apache/hudi/index/hbase/HBaseIndex.java    |  548 ++++++++
 .../hbase/HBaseIndexQPSResourceAllocator.java      |   51 +
 .../org/apache/hudi/io/HoodieAppendHandle.java     |  322 +++++
 .../java/org/apache/hudi/io/HoodieCleanHelper.java |  273 ++++
 .../org/apache/hudi/io/HoodieCommitArchiveLog.java |  337 +++++
 .../org/apache/hudi/io/HoodieCreateHandle.java     |  183 +++
 .../java/org/apache/hudi/io/HoodieIOHandle.java    |   42 +
 .../org/apache/hudi/io/HoodieKeyLookupHandle.java  |  158 +++
 .../java/org/apache/hudi/io/HoodieMergeHandle.java |  361 +++++
 .../org/apache/hudi/io/HoodieRangeInfoHandle.java  |   43 +
 .../java/org/apache/hudi/io/HoodieReadHandle.java  |   58 +
 .../java/org/apache/hudi/io/HoodieWriteHandle.java |  170 +++
 .../apache/hudi/io/compact/HoodieCompactor.java    |   59 +
 .../io/compact/HoodieRealtimeTableCompactor.java   |  236 ++++
 .../strategy/BoundedIOCompactionStrategy.java      |   53 +
 .../BoundedPartitionAwareCompactionStrategy.java   |   73 +
 .../io/compact/strategy/CompactionStrategy.java    |  126 ++
 .../strategy/DayBasedCompactionStrategy.java       |   83 ++
 .../LogFileSizeBasedCompactionStrategy.java        |   74 +
 .../strategy/UnBoundedCompactionStrategy.java      |   40 +
 .../UnBoundedPartitionAwareCompactionStrategy.java |   65 +
 .../hudi/io/storage/HoodieParquetConfig.java       |   74 +
 .../hudi/io/storage/HoodieParquetWriter.java       |  106 ++
 .../hudi/io/storage/HoodieStorageWriter.java       |   34 +
 .../io/storage/HoodieStorageWriterFactory.java     |   58 +
 .../org/apache/hudi/metrics/HoodieMetrics.java     |  186 +++
 .../hudi/metrics/InMemoryMetricsReporter.java      |   40 +
 .../main/java/org/apache/hudi/metrics/Metrics.java |  100 ++
 .../hudi/metrics/MetricsGraphiteReporter.java      |   91 ++
 .../org/apache/hudi/metrics/MetricsReporter.java   |   39 +
 .../hudi/metrics/MetricsReporterFactory.java       |   49 +
 .../apache/hudi/metrics/MetricsReporterType.java   |   27 +
 .../apache/hudi/table/HoodieCopyOnWriteTable.java  |  806 +++++++++++
 .../apache/hudi/table/HoodieMergeOnReadTable.java  |  547 ++++++++
 .../java/org/apache/hudi/table/HoodieTable.java    |  430 ++++++
 .../table/UserDefinedBulkInsertPartitioner.java    |   35 +
 .../org/apache/hudi/table/WorkloadProfile.java     |  110 ++
 .../java/org/apache/hudi/table/WorkloadStat.java   |   70 +
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../src/main/resources/log4j.properties            |    0
 hudi-client/src/test/java/HoodieClientExample.java |  128 ++
 .../java/org/apache/hudi/TestAsyncCompaction.java  |  581 ++++++++
 .../src/test/java/org/apache/hudi/TestCleaner.java | 1036 ++++++++++++++
 .../java/org/apache/hudi/TestClientRollback.java   |  328 +++++
 .../org/apache/hudi/TestCompactionAdminClient.java |  364 +++++
 .../java/org/apache/hudi/TestConsistencyGuard.java |  121 ++
 .../java/org/apache/hudi/TestHoodieClientBase.java |  543 ++++++++
 .../hudi/TestHoodieClientOnCopyOnWriteStorage.java |  735 ++++++++++
 .../java/org/apache/hudi/TestHoodieReadClient.java |  207 +++
 .../src/test/java/org/apache/hudi/TestMultiFS.java |  180 +++
 .../test/java/org/apache/hudi/TestWriteStatus.java |   55 +
 .../apache/hudi/common/HoodieClientTestUtils.java  |  249 ++++
 .../hudi/common/HoodieMergeOnReadTestUtils.java    |  100 ++
 .../hudi/common/HoodieTestDataGenerator.java       |  386 ++++++
 .../org/apache/hudi/common/TestRawTripPayload.java |  196 +++
 .../apache/hudi/config/HoodieWriteConfigTest.java  |   62 +
 .../hudi/func/TestBoundedInMemoryExecutor.java     |   89 ++
 .../apache/hudi/func/TestBoundedInMemoryQueue.java |  340 +++++
 .../hudi/func/TestParquetReaderIterator.java       |   63 +
 .../apache/hudi/func/TestUpdateMapFunction.java    |  157 +++
 .../hudi/index/TestHBaseQPSResourceAllocator.java  |  146 ++
 .../java/org/apache/hudi/index/TestHbaseIndex.java |  458 +++++++
 .../org/apache/hudi/index/TestHoodieIndex.java     |   79 ++
 .../bloom/TestBucketizedBloomCheckPartitioner.java |   83 ++
 .../hudi/index/bloom/TestHoodieBloomIndex.java     |  505 +++++++
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |  313 +++++
 .../hudi/index/bloom/TestKeyRangeLookupTree.java   |  176 +++
 .../apache/hudi/io/TestHoodieCommitArchiveLog.java |  458 +++++++
 .../org/apache/hudi/io/TestHoodieCompactor.java    |  213 +++
 .../org/apache/hudi/io/TestHoodieMergeHandle.java  |  371 +++++
 .../io/strategy/TestHoodieCompactionStrategy.java  |  266 ++++
 .../hudi/io/strategy/TestHoodieDataFile.java       |   56 +
 .../apache/hudi/io/strategy/TestHoodieLogFile.java |   46 +
 .../org/apache/hudi/metrics/TestHoodieMetrics.java |   48 +
 .../apache/hudi/table/TestCopyOnWriteTable.java    |  511 +++++++
 .../apache/hudi/table/TestMergeOnReadTable.java    | 1341 ++++++++++++++++++
 .../src/test/resources/exampleEvolvedSchema.txt    |    0
 .../src/test/resources/exampleSchema.txt           |    0
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 hudi-common/pom.xml                                |  181 +++
 .../src/main/avro/HoodieArchivedMetaEntry.avsc     |   55 +
 hudi-common/src/main/avro/HoodieCleanMetadata.avsc |   24 +
 .../src/main/avro/HoodieCommitMetadata.avsc        |  114 ++
 .../src/main/avro/HoodieCompactionMetadata.avsc    |   42 +
 .../src/main/avro/HoodieCompactionOperation.avsc   |   62 +
 .../src/main/avro/HoodieRestoreMetadata.avsc       |   17 +
 .../src/main/avro/HoodieRollbackMetadata.avsc      |   22 +
 .../src/main/avro/HoodieSavePointMetadata.avsc     |   20 +
 .../apache/hudi/avro/HoodieAvroWriteSupport.java   |   77 ++
 .../apache/hudi/avro/MercifulJsonConverter.java    |  167 +++
 .../java/org/apache/hudi/common/BloomFilter.java   |  104 ++
 .../org/apache/hudi/common/HoodieCleanStat.java    |  128 ++
 .../org/apache/hudi/common/HoodieJsonPayload.java  |  113 ++
 .../org/apache/hudi/common/HoodieRollbackStat.java |   99 ++
 .../hudi/common/SerializableConfiguration.java     |   60 +
 .../common/io/storage/HoodieWrapperFileSystem.java |  909 +++++++++++++
 .../io/storage/SizeAwareFSDataOutputStream.java    |   79 ++
 .../org/apache/hudi/common/model/ActionType.java   |   23 +
 .../hudi/common/model/CompactionOperation.java     |  169 +++
 .../org/apache/hudi/common/model/FileSlice.java    |  139 ++
 .../hudi/common/model/HoodieArchivedLogFile.java   |   40 +
 .../hudi/common/model/HoodieAvroPayload.java       |   69 +
 .../hudi/common/model/HoodieCleaningPolicy.java    |   24 +
 .../hudi/common/model/HoodieCommitMetadata.java    |  347 +++++
 .../apache/hudi/common/model/HoodieDataFile.java   |  101 ++
 .../hudi/common/model/HoodieDeltaWriteStat.java    |   47 +
 .../apache/hudi/common/model/HoodieFileFormat.java |   33 +
 .../apache/hudi/common/model/HoodieFileGroup.java  |  227 ++++
 .../hudi/common/model/HoodieFileGroupId.java       |   71 +
 .../org/apache/hudi/common/model/HoodieKey.java    |   76 ++
 .../apache/hudi/common/model/HoodieLogFile.java    |  187 +++
 .../hudi/common/model/HoodiePartitionMetadata.java |  150 +++
 .../org/apache/hudi/common/model/HoodieRecord.java |  173 +++
 .../hudi/common/model/HoodieRecordLocation.java    |   72 +
 .../hudi/common/model/HoodieRecordPayload.java     |   72 +
 .../hudi/common/model/HoodieRollingStat.java       |  100 ++
 .../common/model/HoodieRollingStatMetadata.java    |  103 ++
 .../apache/hudi/common/model/HoodieTableType.java  |   37 +
 .../apache/hudi/common/model/HoodieWriteStat.java  |  412 ++++++
 .../common/storage/SizeAwareDataInputStream.java   |   65 +
 .../apache/hudi/common/storage/StorageSchemes.java |   69 +
 .../hudi/common/table/HoodieTableConfig.java       |  188 +++
 .../hudi/common/table/HoodieTableMetaClient.java   |  480 +++++++
 .../apache/hudi/common/table/HoodieTimeline.java   |  300 +++++
 .../hudi/common/table/SyncableFileSystemView.java  |   46 +
 .../hudi/common/table/TableFileSystemView.java     |  166 +++
 .../table/log/AbstractHoodieLogRecordScanner.java  |  356 +++++
 .../hudi/common/table/log/HoodieLogFileReader.java |  417 ++++++
 .../hudi/common/table/log/HoodieLogFormat.java     |  299 +++++
 .../common/table/log/HoodieLogFormatReader.java    |  132 ++
 .../common/table/log/HoodieLogFormatVersion.java   |  106 ++
 .../common/table/log/HoodieLogFormatWriter.java    |  266 ++++
 .../table/log/HoodieMergedLogRecordScanner.java    |  131 ++
 .../table/log/HoodieUnMergedLogRecordScanner.java  |   56 +
 .../table/log/block/HoodieAvroDataBlock.java       |  319 +++++
 .../log/block/HoodieAvroDataBlockVersion.java      |   39 +
 .../common/table/log/block/HoodieCommandBlock.java |   78 ++
 .../table/log/block/HoodieCommandBlockVersion.java |   30 +
 .../common/table/log/block/HoodieCorruptBlock.java |   68 +
 .../common/table/log/block/HoodieDeleteBlock.java  |  118 ++
 .../table/log/block/HoodieDeleteBlockVersion.java  |   30 +
 .../common/table/log/block/HoodieLogBlock.java     |  289 ++++
 .../table/log/block/HoodieLogBlockVersion.java     |   35 +
 .../table/timeline/HoodieActiveTimeline.java       |  406 ++++++
 .../table/timeline/HoodieArchivedTimeline.java     |  112 ++
 .../table/timeline/HoodieDefaultTimeline.java      |  216 +++
 .../hudi/common/table/timeline/HoodieInstant.java  |  172 +++
 .../common/table/timeline/dto/CompactionOpDTO.java |   77 ++
 .../common/table/timeline/dto/DataFileDTO.java     |   62 +
 .../common/table/timeline/dto/FSPermissionDTO.java |   63 +
 .../common/table/timeline/dto/FileGroupDTO.java    |   58 +
 .../common/table/timeline/dto/FilePathDTO.java     |   53 +
 .../common/table/timeline/dto/FileSliceDTO.java    |   57 +
 .../common/table/timeline/dto/FileStatusDTO.java   |   99 ++
 .../hudi/common/table/timeline/dto/InstantDTO.java |   55 +
 .../hudi/common/table/timeline/dto/LogFileDTO.java |   50 +
 .../common/table/timeline/dto/TimelineDTO.java     |   46 +
 .../table/view/AbstractTableFileSystemView.java    |  849 ++++++++++++
 .../common/table/view/FileSystemViewManager.java   |  218 +++
 .../table/view/FileSystemViewStorageConfig.java    |  199 +++
 .../table/view/FileSystemViewStorageType.java      |   36 +
 .../table/view/HoodieTableFileSystemView.java      |  218 +++
 .../IncrementalTimelineSyncFileSystemView.java     |  354 +++++
 .../table/view/PriorityBasedFileSystemView.java    |  241 ++++
 .../view/RemoteHoodieTableFileSystemView.java      |  476 +++++++
 .../table/view/RocksDbBasedFileSystemView.java     |  344 +++++
 .../view/SpillableMapBasedFileSystemView.java      |  111 ++
 .../org/apache/hudi/common/util/AvroUtils.java     |  221 +++
 .../apache/hudi/common/util/CompactionUtils.java   |  184 +++
 .../apache/hudi/common/util/ConsistencyGuard.java  |   89 ++
 .../hudi/common/util/ConsistencyGuardConfig.java   |  121 ++
 .../common/util/DFSPropertiesConfiguration.java    |  114 ++
 .../hudi/common/util/DefaultSizeEstimator.java     |   33 +
 .../java/org/apache/hudi/common/util/FSUtils.java  |  564 ++++++++
 .../hudi/common/util/FailSafeConsistencyGuard.java |  198 +++
 .../org/apache/hudi/common/util/Functions.java     |   40 +
 .../apache/hudi/common/util/HoodieAvroUtils.java   |  242 ++++
 .../common/util/HoodieRecordSizeEstimator.java     |   55 +
 .../org/apache/hudi/common/util/HoodieTimer.java   |   72 +
 .../apache/hudi/common/util/LogReaderUtils.java    |   82 ++
 .../org/apache/hudi/common/util/NetworkUtils.java  |   44 +
 .../hudi/common/util/NoOpConsistencyGuard.java     |   46 +
 .../org/apache/hudi/common/util/NumericUtils.java  |   31 +
 .../java/org/apache/hudi/common/util/Option.java   |  314 +++++
 .../org/apache/hudi/common/util/ParquetUtils.java  |  206 +++
 .../apache/hudi/common/util/ReflectionUtils.java   |  104 ++
 .../org/apache/hudi/common/util/RocksDBDAO.java    |  472 +++++++
 .../hudi/common/util/RocksDBSchemaHelper.java      |  126 ++
 .../hudi/common/util/SerializationUtils.java       |  165 +++
 .../org/apache/hudi/common/util/SizeEstimator.java |   33 +
 .../apache/hudi/common/util/SpillableMapUtils.java |  132 ++
 .../org/apache/hudi/common/util/StringUtils.java   |   57 +
 .../hudi/common/util/TimelineDiffHelper.java       |  135 ++
 .../apache/hudi/common/util/TypedProperties.java   |   97 ++
 .../hudi/common/util/collection/DiskBasedMap.java  |  363 +++++
 .../util/collection/ExternalSpillableMap.java      |  283 ++++
 .../hudi/common/util/collection/ImmutablePair.java |  111 ++
 .../common/util/collection/ImmutableTriple.java    |  114 ++
 .../common/util/collection/LazyFileIterable.java   |  126 ++
 .../apache/hudi/common/util/collection/Pair.java   |  181 +++
 .../common/util/collection/RocksDBBasedMap.java    |  125 ++
 .../apache/hudi/common/util/collection/Triple.java |  164 +++
 .../io/storage/SizeAwareDataOutputStream.java      |   72 +
 .../common/util/queue/BoundedInMemoryExecutor.java |  164 +++
 .../common/util/queue/BoundedInMemoryQueue.java    |  278 ++++
 .../util/queue/BoundedInMemoryQueueConsumer.java   |   63 +
 .../util/queue/BoundedInMemoryQueueProducer.java   |   35 +
 .../util/queue/FunctionBasedQueueProducer.java     |   46 +
 .../util/queue/IteratorBasedQueueProducer.java     |   49 +
 .../apache/hudi/config/DefaultHoodieConfig.java    |   53 +
 .../hudi/exception/CorruptedLogFileException.java  |   26 +
 .../hudi/exception/DatasetNotFoundException.java   |   57 +
 .../exception/HoodieCorruptedDataException.java    |   35 +
 .../org/apache/hudi/exception/HoodieException.java |   54 +
 .../apache/hudi/exception/HoodieIOException.java   |   42 +
 .../hudi/exception/HoodieIndexException.java       |   33 +
 .../exception/HoodieNotSupportedException.java     |   26 +
 .../exception/HoodieRecordMissingException.java    |   35 +
 .../hudi/exception/HoodieRemoteException.java      |   29 +
 .../exception/HoodieSerializationException.java    |   43 +
 .../hudi/exception/InvalidDatasetException.java    |   33 +
 .../hudi/exception/InvalidHoodiePathException.java |   28 +
 .../hudi/exception/MetadataNotFoundException.java  |   33 +
 .../exception/SchemaCompatabilityException.java    |   34 +
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../org/apache/hudi/common/TestBloomFilter.java    |   45 +
 .../hudi/common/minicluster/HdfsTestService.java   |  151 +++
 .../hudi/common/minicluster/MiniClusterUtil.java   |   55 +
 .../common/minicluster/ZookeeperTestService.java   |  237 ++++
 .../hudi/common/model/AvroBinaryTestPayload.java   |   61 +
 .../apache/hudi/common/model/HoodieTestUtils.java  |  413 ++++++
 .../common/model/TestHoodieCommitMetadata.java     |   45 +
 .../hudi/common/model/TestHoodieWriteStat.java     |   57 +
 .../hudi/common/storage/TestStorageSchemes.java    |   43 +
 .../common/table/HoodieTableMetaClientTest.java    |  136 ++
 .../log/HoodieLogFormatAppendFailureTest.java      |  143 ++
 .../hudi/common/table/log/HoodieLogFormatTest.java | 1314 ++++++++++++++++++
 .../table/string/HoodieActiveTimelineTest.java     |  124 ++
 .../common/table/string/MockHoodieTimeline.java    |   43 +
 .../table/view/HoodieTableFileSystemViewTest.java  | 1188 ++++++++++++++++
 .../table/view/IncrementalFSViewSyncTest.java      |  791 +++++++++++
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |   35 +
 .../table/view/RocksDbBasedFileSystemViewTest.java |   32 +
 .../view/SpillableMapBasedFileSystemViewTest.java  |   31 +
 ...SpillableMapBasedIncrementalFSViewSyncTest.java |   32 +
 .../hudi/common/util/CompactionTestUtils.java      |  212 +++
 .../apache/hudi/common/util/SchemaTestUtil.java    |  185 +++
 .../hudi/common/util/SpillableMapTestUtils.java    |   53 +
 .../hudi/common/util/TestCompactionUtils.java      |  225 ++++
 .../util/TestDFSPropertiesConfiguration.java       |  138 ++
 .../org/apache/hudi/common/util/TestFSUtils.java   |  273 ++++
 .../hudi/common/util/TestHoodieAvroUtils.java      |   58 +
 .../apache/hudi/common/util/TestNumericUtils.java  |   39 +
 .../apache/hudi/common/util/TestParquetUtils.java  |  127 ++
 .../org/apache/hudi/common/util/TestRecord.java    |  105 ++
 .../hudi/common/util/TestRocksDBManager.java       |  180 +++
 .../hudi/common/util/TestSerializationUtils.java   |   81 ++
 .../common/util/collection/TestDiskBasedMap.java   |  211 +++
 .../util/collection/TestExternalSpillableMap.java  |  320 +++++
 .../util/collection/TestRocksDbBasedMap.java       |   56 +
 .../src/test/resources/complex-test-evolved.avsc   |    0
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 .../src/test/resources/sample.data                 |    0
 .../src/test/resources/simple-test-evolved.avsc    |    0
 .../src/test/resources/simple-test.avsc            |    0
 hudi-hadoop-mr/pom.xml                             |  133 ++
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   26 +
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   26 +
 .../org/apache/hudi/hadoop/HoodieHiveUtil.java     |   70 +
 .../org/apache/hudi/hadoop/HoodieInputFormat.java  |  224 ++++
 .../hudi/hadoop/HoodieROTablePathFilter.java       |  183 +++
 .../hudi/hadoop/RecordReaderValueIterator.java     |   83 ++
 .../hadoop/SafeParquetRecordReaderWrapper.java     |   92 ++
 .../hudi/hadoop/UseFileSplitsFromInputFormat.java  |   38 +
 .../hadoop/hive/HoodieCombineHiveInputFormat.java  |  933 +++++++++++++
 .../realtime/AbstractRealtimeRecordReader.java     |  359 +++++
 .../hudi/hadoop/realtime/HoodieParquetSerde.java   |   31 +
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  110 ++
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  241 ++++
 .../realtime/HoodieRealtimeRecordReader.java       |  103 ++
 .../realtime/RealtimeCompactedRecordReader.java    |  147 ++
 .../realtime/RealtimeUnmergedRecordReader.java     |  143 ++
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../org/apache/hudi/hadoop/AnnotationTest.java     |   40 +
 .../apache/hudi/hadoop/HoodieInputFormatTest.java  |  248 ++++
 .../apache/hudi/hadoop/InputFormatTestUtil.java    |  221 +++
 .../hudi/hadoop/TestHoodieROTablePathFilter.java   |  109 ++
 .../hudi/hadoop/TestRecordReaderValueIterator.java |  105 ++
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  571 ++++++++
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 hudi-hadoop-mr/src/test/resources/sample1.avsc     |   17 +
 hudi-hive/pom.xml                                  |  227 ++++
 hudi-hive/run_sync_tool.sh                         |   39 +
 {hoodie-hive => hudi-hive}/src/assembly/src.xml    |    0
 .../java/org/apache/hudi/hive/HiveSyncConfig.java  |  110 ++
 .../java/org/apache/hudi/hive/HiveSyncTool.java    |  197 +++
 .../org/apache/hudi/hive/HoodieHiveClient.java     |  680 ++++++++++
 .../apache/hudi/hive/HoodieHiveSyncException.java  |   42 +
 .../hudi/hive/MultiPartKeysValueExtractor.java     |   44 +
 .../apache/hudi/hive/NonPartitionedExtractor.java  |   33 +
 .../apache/hudi/hive/PartitionValueExtractor.java  |   35 +
 .../org/apache/hudi/hive/SchemaDifference.java     |  114 ++
 .../SlashEncodedDayPartitionValueExtractor.java    |   64 +
 .../apache/hudi/hive/util/ColumnNameXLator.java    |   50 +
 .../java/org/apache/hudi/hive/util/SchemaUtil.java |  459 +++++++
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../org/apache/hudi/hive/HiveSyncToolTest.java     |  377 ++++++
 .../test/java/org/apache/hudi/hive/TestUtil.java   |  368 +++++
 .../org/apache/hudi/hive/util/HiveTestService.java |  326 +++++
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 hudi-integ-test/pom.xml                            |  196 +++
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../java/org/apache/hudi/integ/ITTestBase.java     |  180 +++
 .../org/apache/hudi/integ/ITTestHoodieSanity.java  |  197 +++
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 hudi-spark/pom.xml                                 |  291 ++++
 hudi-spark/run_hoodie_app.sh                       |   24 +
 .../main/java/org/apache/hudi/BaseAvroPayload.java |   58 +
 .../java/org/apache/hudi/ComplexKeyGenerator.java  |   81 ++
 .../main/java/org/apache/hudi/DataSourceUtils.java |  250 ++++
 .../org/apache/hudi/EmptyHoodieRecordPayload.java  |   48 +
 .../org/apache/hudi/HoodieDataSourceHelpers.java   |   77 ++
 .../main/java/org/apache/hudi/KeyGenerator.java    |   43 +
 .../apache/hudi/NonpartitionedKeyGenerator.java    |   41 +
 .../hudi/OverwriteWithLatestAvroPayload.java       |   71 +
 .../java/org/apache/hudi/SimpleKeyGenerator.java   |   63 +
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../org/apache/hudi/AvroConversionUtils.scala      |  353 +++++
 .../scala/org/apache/hudi/DataSourceOptions.scala  |  208 +++
 .../main/scala/org/apache/hudi/DefaultSource.scala |  108 ++
 .../org/apache/hudi/HoodieSparkSqlWriter.scala     |  256 ++++
 .../org/apache/hudi/HoodieStreamingSink.scala      |  122 ++
 .../org/apache/hudi/IncrementalRelation.scala      |  120 ++
 .../src/main/scala/org/apache/hudi/package.scala   |   38 +
 hudi-spark/src/test/java/DataSourceTestUtils.java  |   46 +
 hudi-spark/src/test/java/HoodieJavaApp.java        |  231 ++++
 .../src/test/java/HoodieJavaStreamingApp.java      |  280 ++++
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 .../src/test/scala/DataSourceDefaultsTest.scala    |  181 +++
 hudi-spark/src/test/scala/DataSourceTest.scala     |  278 ++++
 .../apache/hudi/HoodieSparkSqlWriterSuite.scala    |   52 +
 hudi-timeline-service/pom.xml                      |  242 ++++
 .../run_server.sh                                  |    0
 .../timeline/service/FileSystemViewHandler.java    |  373 ++++++
 .../hudi/timeline/service/TimelineService.java     |  168 +++
 .../timeline/service/handlers/DataFileHandler.java |   78 ++
 .../service/handlers/FileSliceHandler.java         |   94 ++
 .../hudi/timeline/service/handlers/Handler.java    |   37 +
 .../timeline/service/handlers/TimelineHandler.java |   48 +
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../view/RemoteHoodieTableFileSystemViewTest.java  |   59 +
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 hudi-utilities/pom.xml                             |  382 ++++++
 .../apache/hudi/utilities/HDFSParquetImporter.java |  277 ++++
 .../hudi/utilities/HiveIncrementalPuller.java      |  372 +++++
 .../org/apache/hudi/utilities/HoodieCleaner.java   |  115 ++
 .../hudi/utilities/HoodieCompactionAdminTool.java  |  176 +++
 .../org/apache/hudi/utilities/HoodieCompactor.java |  138 ++
 .../hudi/utilities/HoodieSnapshotCopier.java       |  195 +++
 .../hudi/utilities/HoodieWithTimelineServer.java   |  129 ++
 .../org/apache/hudi/utilities/UtilHelpers.java     |  227 ++++
 .../adhoc/UpgradePayloadFromUberToApache.java      |  114 ++
 .../AbstractDeltaStreamerService.java              |  146 ++
 .../hudi/utilities/deltastreamer/Compactor.java    |   62 +
 .../hudi/utilities/deltastreamer/DeltaSync.java    |  505 +++++++
 .../deltastreamer/HoodieDeltaStreamer.java         |  572 ++++++++
 .../deltastreamer/HoodieDeltaStreamerMetrics.java  |   77 ++
 .../deltastreamer/SchedulerConfGenerator.java      |  127 ++
 .../deltastreamer/SourceFormatAdapter.java         |  112 ++
 .../exception/HoodieDeltaStreamerException.java    |   32 +
 .../exception/HoodieIncrementalPullException.java  |   33 +
 .../HoodieIncrementalPullSQLException.java         |   32 +
 .../keygen/TimestampBasedKeyGenerator.java         |  112 ++
 .../hudi/utilities/perf/TimelineServerPerf.java    |  323 +++++
 .../utilities/schema/FilebasedSchemaProvider.java  |   82 ++
 .../utilities/schema/RowBasedSchemaProvider.java   |   43 +
 .../hudi/utilities/schema/SchemaProvider.java      |   46 +
 .../utilities/schema/SchemaRegistryProvider.java   |   89 ++
 .../hudi/utilities/sources/AvroDFSSource.java      |   65 +
 .../hudi/utilities/sources/AvroKafkaSource.java    |   74 +
 .../apache/hudi/utilities/sources/AvroSource.java  |   36 +
 .../hudi/utilities/sources/HiveIncrPullSource.java |  142 ++
 .../hudi/utilities/sources/HoodieIncrSource.java   |  158 +++
 .../apache/hudi/utilities/sources/InputBatch.java  |   54 +
 .../hudi/utilities/sources/JsonDFSSource.java      |   56 +
 .../hudi/utilities/sources/JsonKafkaSource.java    |   68 +
 .../apache/hudi/utilities/sources/JsonSource.java  |   35 +
 .../apache/hudi/utilities/sources/RowSource.java   |   51 +
 .../org/apache/hudi/utilities/sources/Source.java  |   85 ++
 .../utilities/sources/helpers/AvroConvertor.java   |   99 ++
 .../utilities/sources/helpers/DFSPathSelector.java |  120 ++
 .../sources/helpers/IncrSourceHelper.java          |  103 ++
 .../utilities/sources/helpers/KafkaOffsetGen.java  |  266 ++++
 .../utilities/transform/IdentityTransformer.java   |   37 +
 .../transform/SqlQueryBasedTransformer.java        |   66 +
 .../hudi/utilities/transform/Transformer.java      |   43 +
 .../src/main/resources/META-INF/LICENSE.txt        |    0
 .../src/main/resources/META-INF/NOTICE.txt         |    0
 .../hudi/utilities/SchedulerConfGeneratorTest.java |   35 +
 .../hudi/utilities/TestHDFSParquetImporter.java    |  287 ++++
 .../hudi/utilities/TestHoodieDeltaStreamer.java    |  569 ++++++++
 .../hudi/utilities/TestHoodieSnapshotCopier.java   |  173 +++
 .../apache/hudi/utilities/UtilitiesTestBase.java   |  198 +++
 .../utilities/sources/AbstractBaseTestSource.java  |  105 ++
 .../sources/DistributedTestDataSource.java         |   79 ++
 .../hudi/utilities/sources/TestDFSSource.java      |  121 ++
 .../hudi/utilities/sources/TestDataSource.java     |   64 +
 .../hudi/utilities/sources/TestKafkaSource.java    |  203 +++
 .../utilities/sources/config/TestSourceConfig.java |   43 +
 .../src/test/resources/IncrementalPull.sqltemplate |    0
 .../delta-streamer-config/base.properties          |    0
 .../delta-streamer-config/dfs-source.properties    |    0
 .../delta-streamer-config/kafka-source.properties  |    0
 .../resources/delta-streamer-config/source.avsc    |    0
 .../sql-transformer.properties                     |    0
 .../resources/delta-streamer-config/target.avsc    |    0
 .../test/resources/log4j-surefire-quiet.properties |    0
 .../src/test/resources/log4j-surefire.properties   |    0
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  273 ----
 .../java/com/uber/hoodie/hadoop/bundle/Main.java   |   36 -
 packaging/hoodie-hive-bundle/pom.xml               |  244 ----
 .../java/com/uber/hoodie/hive/bundle/Main.java     |   36 -
 packaging/hoodie-presto-bundle/pom.xml             |  226 ----
 .../java/com/uber/hoodie/presto/bundle/Main.java   |   36 -
 packaging/hoodie-spark-bundle/pom.xml              |  332 -----
 .../java/com/uber/hoodie/spark/bundle/Main.java    |   36 -
 packaging/hoodie-utilities-bundle/pom.xml          |  473 -------
 .../com/uber/hoodie/utilities/bundle/Main.java     |   36 -
 packaging/hudi-hadoop-mr-bundle/pom.xml            |  273 ++++
 .../java/org/apache/hudi/hadoop/bundle/Main.java   |   36 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   |    0
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |    0
 packaging/hudi-hive-bundle/pom.xml                 |  244 ++++
 .../java/org/apache/hudi/hive/bundle/Main.java     |   36 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   |    0
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |    0
 packaging/hudi-presto-bundle/pom.xml               |  226 ++++
 .../java/org/apache/hudi/presto/bundle/Main.java   |   36 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   |    0
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |    0
 packaging/hudi-spark-bundle/pom.xml                |  333 +++++
 .../java/org/apache/hudi/spark/bundle/Main.java    |   36 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   |    0
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |    0
 packaging/hudi-utilities-bundle/pom.xml            |  473 +++++++
 .../org/apache/hudi/utilities/bundle/Main.java     |   36 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   |    0
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |    0
 pom.xml                                            |   52 +-
 1014 files changed, 78898 insertions(+), 78602 deletions(-)

commit 722b6be04a0083f96438fe026cafd4cec5ef6093
Author: yanghua <yanghua1127@gmail.com>
Date:   Tue Aug 6 14:20:42 2019 +0800

    [HUDI-153] Use com.uber.hoodie.common.util.Option instead of Java and Guava Optional

 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |  8 +--
 .../src/main/java/com/uber/hoodie/cli/Table.java   | 16 ++---
 .../hoodie/cli/commands/CompactionCommand.java     |  5 +-
 .../hoodie/cli/commands/FileSystemViewCommand.java |  4 +-
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  4 +-
 .../java/com/uber/hoodie/AbstractHoodieClient.java | 14 ++---
 .../com/uber/hoodie/CompactionAdminClient.java     | 58 ++++++++---------
 .../java/com/uber/hoodie/HoodieReadClient.java     | 30 ++++-----
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 73 +++++++++++-----------
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  6 +-
 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |  8 +--
 .../java/com/uber/hoodie/func/OperationResult.java | 10 +--
 .../hoodie/func/SparkBoundedInMemoryExecutor.java  |  4 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  6 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  6 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  | 19 +++---
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |  3 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  6 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 19 +++---
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java | 10 +--
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java | 12 ++--
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  6 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 16 ++---
 .../java/com/uber/hoodie/io/HoodieWriteHandle.java |  8 +--
 .../io/compact/HoodieRealtimeTableCompactor.java   |  3 +-
 .../io/compact/strategy/CompactionStrategy.java    |  4 +-
 .../LogFileSizeBasedCompactionStrategy.java        |  4 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  4 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 16 ++---
 .../com/uber/hoodie/table/WorkloadProfile.java     |  6 +-
 .../src/test/java/HoodieClientExample.java         |  6 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  6 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java | 50 +++++++--------
 .../com/uber/hoodie/TestCompactionAdminClient.java |  8 +--
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  8 +--
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  9 ++-
 .../java/com/uber/hoodie/TestHoodieReadClient.java |  5 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  6 +-
 .../com/uber/hoodie/common/TestRawTripPayload.java | 22 +++----
 .../hoodie/func/TestBoundedInMemoryExecutor.java   |  4 +-
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java | 10 +--
 .../index/TestHBaseQPSResourceAllocator.java       | 12 ++--
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  8 +--
 .../io/strategy/TestHoodieCompactionStrategy.java  |  4 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  4 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 58 ++++++++---------
 .../com/uber/hoodie/common/HoodieCleanStat.java    |  4 +-
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  8 +--
 .../hoodie/common/model/CompactionOperation.java   |  2 +-
 .../com/uber/hoodie/common/model/FileSlice.java    | 10 +--
 .../hoodie/common/model/HoodieAvroPayload.java     | 12 ++--
 .../uber/hoodie/common/model/HoodieFileGroup.java  | 32 +++++-----
 .../com/uber/hoodie/common/model/HoodieRecord.java |  6 +-
 .../hoodie/common/model/HoodieRecordPayload.java   | 10 +--
 .../uber/hoodie/common/table/HoodieTimeline.java   | 12 ++--
 .../common/table/log/HoodieLogFileReader.java      | 10 +--
 .../hoodie/common/table/log/HoodieLogFormat.java   |  4 +-
 .../table/log/block/HoodieAvroDataBlock.java       | 14 ++---
 .../common/table/log/block/HoodieCommandBlock.java | 12 ++--
 .../common/table/log/block/HoodieCorruptBlock.java | 10 +--
 .../common/table/log/block/HoodieDeleteBlock.java  | 12 ++--
 .../common/table/log/block/HoodieLogBlock.java     | 18 +++---
 .../table/timeline/HoodieActiveTimeline.java       | 46 +++++++-------
 .../table/timeline/HoodieArchivedTimeline.java     |  8 +--
 .../table/timeline/HoodieDefaultTimeline.java      | 28 ++++-----
 .../table/view/AbstractTableFileSystemView.java    | 54 ++++++++--------
 .../IncrementalTimelineSyncFileSystemView.java     |  6 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     | 23 ++++---
 .../uber/hoodie/common/util/CompactionUtils.java   |  7 +--
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 15 +++--
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  5 +-
 .../uber/hoodie/common/util/SpillableMapUtils.java |  5 +-
 .../hoodie/common/util/TimelineDiffHelper.java     |  5 +-
 .../common/util/queue/BoundedInMemoryExecutor.java |  8 +--
 .../common/util/queue/BoundedInMemoryQueue.java    | 16 ++---
 .../hoodie/common/model/AvroBinaryTestPayload.java | 10 +--
 .../uber/hoodie/common/model/HoodieTestUtils.java  | 12 ++--
 .../common/table/HoodieTableMetaClientTest.java    |  6 +-
 .../table/string/HoodieActiveTimelineTest.java     | 18 +++---
 .../table/view/HoodieTableFileSystemViewTest.java  | 44 ++++++-------
 .../table/view/IncrementalFSViewSyncTest.java      | 12 ++--
 .../hoodie/common/util/CompactionTestUtils.java    | 17 +++--
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  7 +--
 .../hoodie/common/util/SpillableMapTestUtils.java  |  3 +-
 .../hoodie/common/util/TestCompactionUtils.java    | 11 ++--
 .../common/util/collection/TestDiskBasedMap.java   |  6 +-
 .../util/collection/TestExternalSpillableMap.java  |  6 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  8 +--
 .../realtime/RealtimeCompactedRecordReader.java    |  4 +-
 .../realtime/RealtimeUnmergedRecordReader.java     |  4 +-
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |  4 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     | 16 ++---
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |  4 +-
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  6 +-
 .../com/uber/hoodie/EmptyHoodieRecordPayload.java  | 10 +--
 .../hoodie/OverwriteWithLatestAvroPayload.java     | 10 +--
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     | 10 +--
 .../com/uber/hoodie/HoodieStreamingSink.scala      | 10 ++-
 .../src/test/java/DataSourceTestUtils.java         |  8 +--
 .../src/test/scala/DataSourceDefaultsTest.scala    |  6 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  4 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |  4 +-
 .../com/uber/hoodie/utilities/HoodieCompactor.java |  8 +--
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  4 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  4 +-
 .../hoodie/utilities/deltastreamer/Compactor.java  |  4 +-
 .../hoodie/utilities/deltastreamer/DeltaSync.java  | 40 ++++++------
 .../deltastreamer/HoodieDeltaStreamer.java         |  4 +-
 .../deltastreamer/SchedulerConfGenerator.java      | 10 ++-
 .../deltastreamer/SourceFormatAdapter.java         | 14 ++---
 .../hoodie/utilities/sources/AvroDFSSource.java    | 10 +--
 .../hoodie/utilities/sources/AvroKafkaSource.java  |  8 +--
 .../utilities/sources/HiveIncrPullSource.java      | 18 +++---
 .../hoodie/utilities/sources/HoodieIncrSource.java | 12 ++--
 .../uber/hoodie/utilities/sources/InputBatch.java  | 10 +--
 .../hoodie/utilities/sources/JsonDFSSource.java    | 10 +--
 .../hoodie/utilities/sources/JsonKafkaSource.java  |  8 +--
 .../uber/hoodie/utilities/sources/RowSource.java   |  8 +--
 .../com/uber/hoodie/utilities/sources/Source.java  |  6 +-
 .../utilities/sources/helpers/DFSPathSelector.java |  9 +--
 .../sources/helpers/IncrSourceHelper.java          | 13 ++--
 .../utilities/sources/helpers/KafkaOffsetGen.java  |  6 +-
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  |  4 +-
 .../utilities/sources/AbstractBaseTestSource.java  |  4 +-
 .../sources/DistributedTestDataSource.java         |  8 +--
 .../hoodie/utilities/sources/TestDFSSource.java    | 18 +++---
 .../hoodie/utilities/sources/TestDataSource.java   |  8 +--
 .../hoodie/utilities/sources/TestKafkaSource.java  | 20 +++---
 128 files changed, 769 insertions(+), 769 deletions(-)

commit d288e328339f29b8d5acffea416c9bd1281e6010
Author: garyli1019 <yanjia.gary.li@gmail.com>
Date:   Wed Jul 17 21:58:01 2019 -0700

    HUDI-171 delete tmp file in addShutDownHook

 .../common/util/collection/DiskBasedMap.java       | 30 ++++++++++++----------
 1 file changed, 17 insertions(+), 13 deletions(-)

commit ec965892b042b123e985db5676fdf599d934404c
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Aug 1 08:54:09 2019 -0700

    HUDI-149 - Remove platform dependencies and update NOTICE plugin

 NOTICE.txt                                         |  63 ++++++++---
 docker/hoodie/hadoop/NOTICE.txt                    |  87 +++++++++++----
 docker/hoodie/hadoop/base/NOTICE.txt               |  87 +++++++++++----
 docker/hoodie/hadoop/datanode/NOTICE.txt           |  87 +++++++++++----
 docker/hoodie/hadoop/historyserver/NOTICE.txt      |  87 +++++++++++----
 docker/hoodie/hadoop/hive_base/NOTICE.txt          |  87 +++++++++++----
 docker/hoodie/hadoop/namenode/NOTICE.txt           |  87 +++++++++++----
 docker/hoodie/hadoop/spark_base/NOTICE.txt         |  87 +++++++++++----
 docker/hoodie/hadoop/sparkadhoc/NOTICE.txt         |  87 +++++++++++----
 docker/hoodie/hadoop/sparkmaster/NOTICE.txt        |  87 +++++++++++----
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        |  87 +++++++++++----
 hoodie-cli/src/main/resources/META-INF/NOTICE.txt  |  43 +------
 hoodie-client/pom.xml                              |   4 +
 .../src/main/resources/META-INF/NOTICE.txt         |  51 +++++----
 .../src/main/resources/META-INF/NOTICE.txt         |   4 -
 .../src/main/resources/META-INF/NOTICE.txt         |  90 ++++++++++++---
 hoodie-hive/pom.xml                                |   6 +-
 hoodie-hive/src/main/resources/META-INF/NOTICE.txt |  84 +++++++++++---
 .../src/main/resources/META-INF/NOTICE.txt         |  83 +++++++++++---
 .../src/main/resources/META-INF/NOTICE.txt         |  75 ++++++++++---
 .../src/main/resources/META-INF/NOTICE.txt         |   4 -
 hoodie-utilities/pom.xml                           |   6 +
 .../src/main/resources/META-INF/NOTICE.txt         |  73 +++++++++---
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  89 ++++++++++++---
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  86 +++++++++++---
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |   4 -
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  79 +++++++++----
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    |  71 +++++++++---
 pom.xml                                            | 123 ++++++++++++++++++++-
 29 files changed, 1452 insertions(+), 456 deletions(-)

commit a066865bd6e1bbdae145324d70fbfb8b5b69b2ab
Author: n3nash <nagarwal@uber.com>
Date:   Sat Aug 3 08:44:01 2019 -0700

    - Adding HoodieCombineHiveInputFormat for COW tables (#811)
    
    - Combine input format helps to reduce large scans into smaller ones by combining map tasks
    - Implementation to support Hive 2.x and above

 .../hadoop/hive/HoodieCombineHiveInputFormat.java  | 933 +++++++++++++++++++++
 1 file changed, 933 insertions(+)

commit 1a29d46a5707d58a33f170ce6877ebbe814715e2
Author: n3nash <nagarwal@uber.com>
Date:   Fri Aug 2 16:06:34 2019 -0700

    - Fix realtime queries by removing COLUMN_ID and COLUMN_NAME cache in inputformat (#814)
    
    - Hive on Spark will NOT work for RT tables after this patch

 .../hadoop/realtime/HoodieRealtimeInputFormat.java       | 16 +---------------
 1 file changed, 1 insertion(+), 15 deletions(-)

commit 86b5fcdd332f8d7f1c079dbc54756173ca4b7c94
Author: venkatr <venkatr@uber.com>
Date:   Wed Jul 24 17:55:38 2019 -0700

    Cache RDD to avoid recomputing data ingestion. Return result RDD after updating index so that this step is not skipped by chained actions on the same RDD

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  7 ++-
 .../com/uber/hoodie/config/HoodieIndexConfig.java  | 29 ++++++++++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  4 ++
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  4 ++
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    | 31 +++++++------
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  1 +
 .../java/com/uber/hoodie/index/TestHbaseIndex.java | 51 ++++++++++++++++++++++
 7 files changed, 113 insertions(+), 14 deletions(-)

commit 8139ffd94cae2b924477d3bd4fd4781929662b04
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Aug 2 05:12:47 2019 -0700

    HUDI-197 Hive Sync and othe CLIs using bundle picking sources jar instead of binary jar

 hoodie-cli/hoodie-cli.sh       | 2 +-
 hoodie-hive/run_sync_tool.sh   | 2 +-
 hoodie-spark/run_hoodie_app.sh | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8ddfa2ecda33830d30bf53bdf6a926a2a88855c9
Author: vinothchandar <vinoth@apache.org>
Date:   Fri Aug 2 04:11:53 2019 -0700

    HUDI-178 : Add keys for vinoth to KEYS file

 KEYS | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 49 insertions(+)

commit 69d2afd0a9d5fc59091429770da48869d146b05b
Author: Anbu Cheeralan <alunarbeach@gmail.com>
Date:   Thu Aug 1 14:05:06 2019 -0400

    Update Keys with anchee@apache.org

 KEYS | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 171901a9d0bfe6d405a10e8774d74b88a87edf0b
Author: Luke Zhu <luke.l.zhu@gmail.com>
Date:   Thu Aug 1 08:51:57 2019 -0700

    Fix typo in hoodie-presto-bundle (#818)

 packaging/hoodie-presto-bundle/pom.xml | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 6e0ff3a235602c6181e90ffe77de76a36fd21af4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jul 30 18:17:14 2019 -0700

    Generate Source Jars for bundle packages (#810)

 packaging/hoodie-hadoop-mr-bundle/pom.xml | 1 +
 packaging/hoodie-hive-bundle/pom.xml      | 1 +
 packaging/hoodie-presto-bundle/pom.xml    | 1 +
 packaging/hoodie-spark-bundle/pom.xml     | 1 +
 packaging/hoodie-utilities-bundle/pom.xml | 1 +
 5 files changed, 5 insertions(+)

commit e20b77be3b1e14039d659cd56bec163708e1b24d
Author: Vinoth Chandar <vinoth@apache.org>
Date:   Fri Jul 19 04:53:28 2019 -0700

    HUDI-92 : Making deltastreamer with DistributedTestSource also run locally
    
     - Separating out the test data generators per partition
     - Minor logging improvements on IOHandle performance

 .gitignore                                         |  1 +
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 25 +++++++++-----
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  5 ++-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 22 ++++++++-----
 .../utilities/sources/AbstractBaseTestSource.java  | 38 ++++++++++++----------
 .../sources/DistributedTestDataSource.java         | 10 +++---
 .../hoodie/utilities/sources/TestDataSource.java   |  7 ++--
 7 files changed, 63 insertions(+), 45 deletions(-)

commit 68464c7d027462eb481b3edffc980c4d0a0bd643
Author: vinoyang <yanghua1127@gmail.com>
Date:   Tue Jul 30 18:47:53 2019 +0800

    [HUDI-181] Fix the Bold markdown grammar issue of README file (#808)

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e0648de2ef89ec55481a185a520a79b325236e28
Author: eisig <eisig.g@live.com>
Date:   Tue Jul 30 01:40:02 2019 +0800

    HUDI-175 - add an option to   manually override the DeltaStreamer checkpoint (#798)
    
    
    - Add cli option to allow override the checkpoint using `--checkpoint`
    - Persist overridden checkpoint into commit metadata

 .../com/uber/hoodie/utilities/deltastreamer/DeltaSync.java   | 12 +++++++++++-
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java  |  7 +++++++
 2 files changed, 18 insertions(+), 1 deletion(-)

commit 9265c7cc36381591d92fca60517d1c64f7481709
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sun Jul 28 20:05:29 2019 -0700

    Add balaji gpg key to KEYS file

 KEYS | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 83dab21ae13137270df79c1b731b131ed3a24aa1
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jul 24 21:31:46 2019 -0700

    Allow HoodieWrapperFileSystem to wrap other proxy file-system implementations with no getScheme implementation (#793)

 .../uber/hoodie/common/io/storage/HoodieWrapperFileSystem.java    | 8 +++++---
 1 file changed, 5 insertions(+), 3 deletions(-)

commit 0b451b3a58cabe25c0cecd3fd8847a8597e2313a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Jul 15 17:29:34 2019 -0700

    HUDI-140 : GCS: Log File Reading not working due to difference in seek() behavior for EOF

 .../common/table/log/HoodieLogFileReader.java      |  7 ++++++-
 .../common/table/log/block/HoodieLogBlock.java     | 24 +++++++++++++++++++---
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 12 +++++++++++
 3 files changed, 39 insertions(+), 4 deletions(-)

commit 9857c4b21ccb77a97817e1e448c4c54bdd409562
Author: eisig <eisig.g@live.com>
Date:   Fri Jul 19 20:01:45 2019 +0800

    add jssc.stop() (#797)

 .../java/com/uber/hoodie/utilities/HDFSParquetImporter.java  | 12 +++++++++---
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java  |  6 +++++-
 2 files changed, 14 insertions(+), 4 deletions(-)

commit 6efa16317c0f0f13798d739d9615dda24bf91bcf
Author: n3nash <nagarwal@uber.com>
Date:   Wed Jul 17 03:25:54 2019 -0700

    Fixing default value for avro 1.7 which assumes NULL value instead of a jsonnode that is null (#792)

 .../java/com/uber/hoodie/common/util/HoodieAvroUtils.java  | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 3d408ee96b7cc8eb15756276dbab031eb549e6e2
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jul 16 17:33:34 2019 -0700

    HUDI-168 Ensure getFileStatus calls for files getting written is done after close() is called (#788)

 .../java/com/uber/hoodie/table/HoodieMergeOnReadTable.java  | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit c0593e7a13b6c0bdb35c944e3ed67a79f3ce9b9b
Author: eisig <eisig.g@live.com>
Date:   Tue Jul 16 04:25:55 2019 +0800

    fix HoodieLogFileReader (#787)

 .../uber/hoodie/common/table/log/HoodieLogFileReader.java  | 14 +++++++++++---
 1 file changed, 11 insertions(+), 3 deletions(-)

commit ae3c02fb3fff47da8f20c4f9c8012a257a3df792
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Jul 1 18:19:12 2019 -0700

    HUDI-162 : File System view must be built with correct timeline actions

 .../uber/hoodie/cli/commands/RepairsCommand.java   |  2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  4 +--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  2 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |  4 +--
 .../uber/hoodie/common/table/HoodieTimeline.java   |  6 ++++
 .../table/timeline/HoodieDefaultTimeline.java      |  8 +++++
 .../table/view/AbstractTableFileSystemView.java    | 38 ++++++++++++++++------
 .../table/view/HoodieTableFileSystemView.java      |  1 -
 .../IncrementalTimelineSyncFileSystemView.java     | 16 ++++++++-
 .../table/view/RocksDbBasedFileSystemView.java     |  3 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 32 ++++++++++++++----
 12 files changed, 91 insertions(+), 27 deletions(-)

commit 5823c1ebd7e12a48805eed05532edfd25b69c6fe
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Jun 20 18:05:01 2019 -0700

    HUDI-138 - Meta Files handling also need to support consistency guard

 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |  26 +++-
 .../uber/hoodie/cli/commands/CleansCommand.java    |   6 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |   5 +-
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |  27 +++-
 .../hoodie/cli/commands/SavepointsCommand.java     |   6 +-
 .../java/com/uber/hoodie/AbstractHoodieClient.java |   6 +
 .../com/uber/hoodie/CompactionAdminClient.java     |   6 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  59 ++++----
 .../com/uber/hoodie/client/utils/ClientUtils.java  |  39 ++++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  49 +++----
 .../java/com/uber/hoodie/io/HoodieReadHandle.java  |   1 -
 .../java/com/uber/hoodie/io/HoodieWriteHandle.java |  15 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  11 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java |   8 +-
 .../java/com/uber/hoodie/TestConsistencyGuard.java |  21 ++-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  10 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  10 +-
 .../common/io/storage/HoodieWrapperFileSystem.java | 151 +++++++++++++++++----
 .../hoodie/common/table/HoodieTableMetaClient.java |  38 +++++-
 .../hoodie/common/util/ConsistencyGuardConfig.java | 121 +++++++++++++++++
 .../common/util/FailSafeConsistencyGuard.java      |  32 ++---
 21 files changed, 481 insertions(+), 166 deletions(-)

commit 621c246fa9ea607a3cd8f33fdc3d8b528315e327
Author: Yihua Guo <yhguo@umich.edu>
Date:   Fri Jul 12 13:45:49 2019 -0700

    [HUDI-161] Remove --key-generator-class CLI arg in HoodieDeltaStreamer and use key generator class specified in datasource properties. (#781)

 .../main/java/com/uber/hoodie/DataSourceUtils.java | 13 +++--
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     |  5 +-
 .../hoodie/utilities/deltastreamer/DeltaSync.java  |  2 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |  6 ---
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  | 58 +++++++++++++++++++---
 5 files changed, 62 insertions(+), 22 deletions(-)

commit 11c4121f739d1d00a4ec66b4e243e47602d6ffb4
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   Sat Jul 13 00:17:16 2019 +0800

    Fixed TableNotFoundException when write with structured streaming (#778)
    
    - When write to a new hoodie table, if checkpoint dir is under target path, Spark will create the base path and thus skip initializing .hoodie which result in error
    
    - apply .hoodie existent check for all save mode

 .../src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala  | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 62ecb2da62117e65117f7f6070469ac27a3ea5dd
Author: Thinking Chen <744417972@qq.com>
Date:   Tue Jul 9 07:13:22 2019 +0800

    when column type is decimal, should add precision and scale (#753)

 hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java | 5 +++++
 1 file changed, 5 insertions(+)

commit 9f18a1ca80ec1d08253688d9b4d4538a86068559
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Jun 28 17:49:23 2019 -0700

    Fixing bugs found during running hoodie demo (#760)

 .../table/view/AbstractTableFileSystemView.java    |  2 +-
 .../hoodie/utilities/deltastreamer/DeltaSync.java  |  8 +++----
 .../deltastreamer/HoodieDeltaStreamer.java         | 26 ++++++++++++++++++++--
 3 files changed, 29 insertions(+), 7 deletions(-)

commit e48e35385a91cf6d03a0a91d71aabfe78fe82928
Author: Ho Tien Vu <ho0001vu@gmail.com>
Date:   Tue Jun 25 00:42:31 2019 +0800

    Added preemptive check for 'spark.scheduler.mode'
    
    When running docker demo, NoSuchElementException was thrown because spark.scheduler.mode is not set.
    Also we want to check before initializing the Spark Context to avoid polute the SparkConf
    with unused config.

 .../deltastreamer/HoodieDeltaStreamer.java         | 24 +--------------
 .../deltastreamer/SchedulerConfGenerator.java      | 33 ++++++++++++++++++--
 .../utilities/SchedulerConfGeneratorTest.java      | 36 ++++++++++++++++++++++
 3 files changed, 68 insertions(+), 25 deletions(-)

commit 17e878f721c110f274251d2ba6c7c50fcd58cb8f
Author: Jaimin Shah <shahjaimin03@gmail.com>
Date:   Fri Jun 21 12:55:06 2019 +0530

    adding support for complex keys (#728)
    
    - Resolving the issue related to ambiguity in recordKey by creating and parsing json object as string.
    - added unit test for ComplexKeyGenerator
    - minor changes

 .../java/com/uber/hoodie/ComplexKeyGenerator.java  | 81 ++++++++++++++++++++++
 .../src/test/scala/DataSourceDefaultsTest.scala    | 55 ++++++++++++++-
 2 files changed, 135 insertions(+), 1 deletion(-)

commit 1b61eb45e0643a76cfc949e61d2ddd51f7d7183e
Author: Ron Barabash <rbarabash@yotpo.com>
Date:   Wed Jun 19 09:46:53 2019 +0300

    Adding support for optional skipping single archiving failures

 .../main/java/com/uber/hoodie/config/HoodieWriteConfig.java |  9 ++++++++-
 .../java/com/uber/hoodie/io/HoodieCommitArchiveLog.java     | 13 ++++++++++---
 2 files changed, 18 insertions(+), 4 deletions(-)

commit 66c7fa2322d0dce8ebb29f9b15a711f5f7b72884
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 19 14:15:02 2019 -0700

    Reword confusing message and reducing the severity level

 hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 822312761113baea86145279a156c9c63d1a331d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Jun 20 12:34:14 2019 -0700

    Add maprfs to storage schemes

 .../src/main/java/com/uber/hoodie/common/storage/StorageSchemes.java    | 2 ++
 1 file changed, 2 insertions(+)

commit 2c40e8419e209767653e2741e653a71bb429d31d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Jun 20 08:34:56 2019 -0700

    Ensure TableMetaClient and FileSystem instances have exclusive copy of Configuration

 .../com/uber/hoodie/client/embedded/EmbeddedTimelineService.java | 2 +-
 .../java/com/uber/hoodie/common/SerializableConfiguration.java   | 8 ++++++--
 .../java/com/uber/hoodie/common/table/HoodieTableMetaClient.java | 2 +-
 .../com/uber/hoodie/common/table/view/FileSystemViewManager.java | 2 +-
 .../java/com/uber/hoodie/timeline/service/TimelineService.java   | 9 +++++++--
 5 files changed, 16 insertions(+), 7 deletions(-)

commit a0d7ab238473f22347e140b0e1e273ab80583eb7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 15 13:21:55 2019 -0700

    HUDI-70 : Making DeltaStreamer run in continuous mode with concurrent compaction

 .../java/com/uber/hoodie/AbstractHoodieClient.java |  45 +-
 .../com/uber/hoodie/CompactionAdminClient.java     |   6 +
 .../java/com/uber/hoodie/HoodieReadClient.java     |  27 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  14 +-
 .../client/embedded/EmbeddedTimelineService.java   |   4 +
 .../hoodie/common/HoodieTestDataGenerator.java     |  99 ++-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |   1 +
 .../hoodie/common/table/HoodieTableMetaClient.java |   2 +-
 .../table/view/RocksDbBasedFileSystemView.java     |   4 +-
 .../uber/hoodie/common/util/CompactionUtils.java   |   8 +
 .../com/uber/hoodie/common/util/RocksDBDAO.java    |  91 ++-
 .../common/util/collection/DiskBasedMap.java       |   3 +-
 .../common/util/collection/RocksDBBasedMap.java    | 125 ++++
 .../hoodie/common/util/TestRocksDBManager.java     |   2 +-
 .../util/collection/TestRocksDbBasedMap.java       |  56 ++
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  12 +-
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     |  33 +-
 hoodie-spark/src/test/scala/DataSourceTest.scala   |   3 +-
 hoodie-utilities/pom.xml                           |  17 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  17 +-
 .../AbstractDeltaStreamerService.java              | 146 +++++
 .../hoodie/utilities/deltastreamer/Compactor.java  |  62 ++
 .../hoodie/utilities/deltastreamer/DeltaSync.java  | 495 +++++++++++++++
 .../deltastreamer/HoodieDeltaStreamer.java         | 674 +++++++++++----------
 .../deltastreamer/SchedulerConfGenerator.java      |  94 +++
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  | 106 ++++
 .../utilities/sources/AbstractBaseTestSource.java  | 103 ++++
 .../sources/DistributedTestDataSource.java         |  79 +++
 .../hoodie/utilities/sources/TestDataSource.java   |  46 +-
 .../utilities/sources/config/TestSourceConfig.java |  43 ++
 packaging/hoodie-utilities-bundle/pom.xml          |   5 +
 pom.xml                                            |   5 +
 32 files changed, 1993 insertions(+), 434 deletions(-)

commit 3a210ef08e178d4cb41f7d7a0ab774a04d0e8eab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jun 18 11:28:20 2019 -0700

    Disable Notice Plugin

 pom.xml | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit a1483f2c5f3b921d1117d31f75453e45e5717259
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sat Jun 8 12:40:08 2019 -0700

    HUDI-148 Small File selection logic for MOR must skip fileIds selected for pending compaction correctly

 .../main/java/com/uber/hoodie/CompactionAdminClient.java    |  2 +-
 .../java/com/uber/hoodie/table/HoodieMergeOnReadTable.java  |  7 ++++---
 .../src/test/java/com/uber/hoodie/TestCleaner.java          |  2 +-
 .../java/com/uber/hoodie/TestCompactionAdminClient.java     |  4 ++--
 .../com/uber/hoodie/common/table/TableFileSystemView.java   | 10 ++++++----
 .../common/table/view/AbstractTableFileSystemView.java      | 12 +++++++++---
 .../common/table/view/PriorityBasedFileSystemView.java      |  7 ++++---
 .../common/table/view/RemoteHoodieTableFileSystemView.java  |  9 +++++++--
 .../common/table/view/HoodieTableFileSystemViewTest.java    | 13 +++++++++----
 .../uber/hoodie/timeline/service/FileSystemViewHandler.java |  3 ++-
 .../hoodie/timeline/service/handlers/FileSliceHandler.java  |  6 +++---
 11 files changed, 48 insertions(+), 27 deletions(-)

commit 8c9980f4f5aab1f7d576567595d4cc0e4745308a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Jun 17 18:19:34 2019 -0700

    Update README.md

 README.md | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 8e08d498c9c822e5d23ef2392863a97ce6fc1a96
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Jun 14 14:22:48 2019 -0700

    Reading baseCommitTime from the latest file slice as opposed to the tagged record value

 .../com/uber/hoodie/table/HoodieMergeOnReadTable.java     | 15 ++++++---------
 1 file changed, 6 insertions(+), 9 deletions(-)

commit 129e4336413fd2290e137804cf16c515c502c2f7
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri May 10 13:09:09 2019 -0700

    - Ugrading to Hive 2.x
    - Eliminating in-memory deltaRecordsMap
    - Use writerSchema to generate generic record needed by custom payloads
    - changes to make tests work with hive 2.x

 .../table/log/AbstractHoodieLogRecordScanner.java  |   2 -
 .../common/table/log/HoodieLogFileReader.java      |   2 +
 .../hoodie/common/table/log/HoodieLogFormat.java   |  20 +++
 .../common/table/log/HoodieLogFormatReader.java    |  10 ++
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  22 ++-
 .../uber/hoodie/common/util/LogReaderUtils.java    |  81 +++++++++++
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   3 +-
 .../hadoop/SafeParquetRecordReaderWrapper.java     |  11 +-
 .../realtime/AbstractRealtimeRecordReader.java     | 132 ++++++++---------
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  23 ++-
 .../realtime/HoodieRealtimeRecordReader.java       |  15 +-
 .../realtime/RealtimeCompactedRecordReader.java    |  83 ++++++-----
 .../realtime/RealtimeUnmergedRecordReader.java     |  13 +-
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |   5 +-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  44 ++++++
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 159 +++++++++++++++++----
 hoodie-hive/pom.xml                                |  15 ++
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   9 +-
 .../com/uber/hoodie/hive/util/HiveTestService.java |   3 +
 hoodie-utilities/pom.xml                           |  51 +++++--
 pom.xml                                            |   2 +-
 release/config/license-mappings.xml                |  40 ++++--
 22 files changed, 554 insertions(+), 191 deletions(-)

commit cd7623e2160abd43ea44f48a9640ea8fa0bb6db3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 12 18:28:49 2019 -0700

    All Opened hoodie clients in tests needs to be closed
    TestMergeOnReadTable must use embedded timeline server

 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  2 +-
 .../java/com/uber/hoodie/TestClientRollback.java   |  6 +--
 .../java/com/uber/hoodie/TestHoodieClientBase.java | 37 ++++++++++++-----
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 14 +++----
 .../java/com/uber/hoodie/TestHoodieReadClient.java | 12 +++---
 .../src/test/java/com/uber/hoodie/TestMultiFS.java | 23 ++++++++++-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java | 22 ++++++++--
 .../com/uber/hoodie/io/TestHoodieCompactor.java    | 18 +++++++-
 .../com/uber/hoodie/io/TestHoodieMergeHandle.java  | 18 +++++++-
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 48 ++++++++++++++--------
 10 files changed, 146 insertions(+), 54 deletions(-)

commit 136f8478a3d8deb1e2c00ee2bf45dd5f25fcb87f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 12 18:28:49 2019 -0700

    TestMergeOnReadTable must use embedded timeline server

 .../uber/hoodie/table/TestMergeOnReadTable.java    |  2 +
 .../TestMergeonReadTableWithEmbeddedServer.java    | 56 ----------------------
 2 files changed, 2 insertions(+), 56 deletions(-)

commit 04fc86b43d0afc39b76a7d85e82e8b94dee42923
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 12 16:50:13 2019 -0700

    Turn on embedded server for all client tests

 .../java/com/uber/hoodie/TestAsyncCompaction.java  | 11 +++--
 ...tAsyncCompactionWithEmbeddedTimelineServer.java | 56 ---------------------
 .../TestCleanerWithEmbeddedTimelineServer.java     | 47 ------------------
 .../java/com/uber/hoodie/TestHoodieClientBase.java | 14 +++++-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  4 --
 .../TestHoodieReadClientWithEmbeddedServer.java    | 47 ------------------
 .../TestHoodieWriteClientWithEmbeddedServer.java   | 57 ----------------------
 .../src/test/java/com/uber/hoodie/TestMultiFS.java |  4 +-
 .../uber/hoodie/TestMultiFSWithEmbeddedServer.java | 38 ---------------
 9 files changed, 21 insertions(+), 257 deletions(-)

commit 1c943ab2305a06467cb039b534ee0915e4ef7453
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jun 11 19:06:06 2019 -0700

    Ensure log files are consistently ordered when scanning

 .../table/log/HoodieMergedLogRecordScanner.java    |   2 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   3 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 159 ++++++++++++++-------
 3 files changed, 113 insertions(+), 51 deletions(-)

commit b791473a6d663cd4ac2ce535aaa62bcd89fea3af
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue May 21 15:37:38 2019 -0700

    Introduce HoodieReadHandle abstraction into index
    
     - Generalized BloomIndex to work with file ids instead of paths
     - Abstracted away Bloom filter checking into HoodieLookupHandle
     - Abstracted away range information retrieval into HoodieRangeInfoHandle

 .../java/com/uber/hoodie/HoodieReadClient.java     |  18 +-
 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |   5 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |   9 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |   3 +-
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |  22 +--
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  95 ++++++-----
 .../index/bloom/HoodieBloomIndexCheckFunction.java | 138 +++-------------
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |   5 +-
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |   4 +-
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |   4 +-
 .../bloom/ListBasedGlobalIndexFileFilter.java      |   2 +-
 .../index/bloom/ListBasedIndexFileFilter.java      |   2 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |   7 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  16 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |   4 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    | 152 +----------------
 .../com/uber/hoodie/io/HoodieKeyLookupHandle.java  | 158 ++++++++++++++++++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  76 ++++++++-
 .../com/uber/hoodie/io/HoodieRangeInfoHandle.java  |  43 +++++
 .../java/com/uber/hoodie/io/HoodieReadHandle.java  |  59 +++++++
 .../java/com/uber/hoodie/io/HoodieWriteHandle.java | 183 +++++++++++++++++++++
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   2 +-
 .../java/com/uber/hoodie/table/WorkloadStat.java   |   2 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |   2 +-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |   2 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  27 +--
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |  41 +++--
 .../hoodie/common/model/HoodieRecordLocation.java  |  16 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   4 +-
 .../util/collection/TestExternalSpillableMap.java  |   2 +-
 30 files changed, 697 insertions(+), 406 deletions(-)

commit 51d122b5c39525720ce946755f57326ce24f6e38
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jun 11 12:58:58 2019 -0700

    Close Hoodie Clients which are opened to properly shutdown embedded timeline service

 .../main/java/com/uber/hoodie/DataSourceUtils.java |  7 +-
 .../utilities/HoodieCompactionAdminTool.java       | 87 ++++++++++++----------
 2 files changed, 52 insertions(+), 42 deletions(-)

commit 065173211e2d884e22d48173f75763c8f6b6c7e3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sat Jun 8 01:45:19 2019 -0700

    HUDI-147 Compaction Inflight Rollback not deleting Marker directory

 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 18 +++++-----------
 .../java/com/uber/hoodie/table/HoodieTable.java    | 24 +++++++++++++++++-----
 2 files changed, 24 insertions(+), 18 deletions(-)

commit 479908fd20a97c5f7007f06ba7ee3904967e1050
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sat Jun 8 22:31:47 2019 -0700

    HUDI-125 : Change License for all source files and update RAT configurations

 deploy/maven/sonatype-settings.xml                 |  16 -
 docker/build_local_docker_images.sh                |  18 +
 docker/demo/config/base.properties                 |  30 +-
 docker/demo/config/kafka-source.properties         |  29 +-
 docker/demo/setup_demo_container.sh                |  18 +
 docker/hoodie/hadoop/base/Dockerfile               |  18 +
 docker/hoodie/hadoop/base/entrypoint.sh            |  18 +
 docker/hoodie/hadoop/base/export_container_ip.sh   |  18 +
 docker/hoodie/hadoop/base/pom.xml                  |  28 +-
 docker/hoodie/hadoop/datanode/Dockerfile           |  18 +
 docker/hoodie/hadoop/datanode/pom.xml              |  28 +-
 docker/hoodie/hadoop/datanode/run_dn.sh            |  18 +
 docker/hoodie/hadoop/historyserver/Dockerfile      |  18 +
 docker/hoodie/hadoop/historyserver/pom.xml         |  28 +-
 docker/hoodie/hadoop/historyserver/run_history.sh  |  18 +
 docker/hoodie/hadoop/hive_base/Dockerfile          |  18 +
 .../hive_base/conf/beeline-log4j2.properties       |  26 +-
 docker/hoodie/hadoop/hive_base/conf/hive-env.sh    |  26 +-
 .../hive_base/conf/hive-exec-log4j2.properties     |  26 +-
 .../hadoop/hive_base/conf/hive-log4j2.properties   |  26 +-
 .../hoodie/hadoop/hive_base/conf/ivysettings.xml   |  29 +-
 .../hive_base/conf/llap-daemon-log4j2.properties   |  26 +-
 docker/hoodie/hadoop/hive_base/entrypoint.sh       |  18 +
 docker/hoodie/hadoop/hive_base/pom.xml             |  28 +-
 docker/hoodie/hadoop/hive_base/startup.sh          |  18 +
 docker/hoodie/hadoop/namenode/Dockerfile           |  18 +
 docker/hoodie/hadoop/namenode/pom.xml              |  28 +-
 docker/hoodie/hadoop/namenode/run_nn.sh            |  18 +
 docker/hoodie/hadoop/pom.xml                       |  28 +-
 docker/hoodie/hadoop/spark_base/Dockerfile         |  18 +
 docker/hoodie/hadoop/spark_base/execute-step.sh    |  18 +
 docker/hoodie/hadoop/spark_base/finish-step.sh     |  18 +
 docker/hoodie/hadoop/spark_base/pom.xml            |  28 +-
 docker/hoodie/hadoop/spark_base/wait-for-step.sh   |  18 +
 docker/hoodie/hadoop/sparkadhoc/Dockerfile         |  18 +
 docker/hoodie/hadoop/sparkadhoc/adhoc.sh           |  18 +
 docker/hoodie/hadoop/sparkadhoc/pom.xml            |  28 +-
 docker/hoodie/hadoop/sparkmaster/Dockerfile        |  18 +
 docker/hoodie/hadoop/sparkmaster/master.sh         |  18 +
 docker/hoodie/hadoop/sparkmaster/pom.xml           |  28 +-
 docker/hoodie/hadoop/sparkworker/Dockerfile        |  18 +
 docker/hoodie/hadoop/sparkworker/pom.xml           |  28 +-
 docker/hoodie/hadoop/sparkworker/worker.sh         |  18 +
 docker/setup_demo.sh                               |  18 +
 docker/stop_demo.sh                                |  18 +
 hoodie-cli/pom.xml                                 |  30 +-
 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |  14 +-
 .../hoodie/cli/HoodieHistoryFileNameProvider.java  |  14 +-
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |  14 +-
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |  14 +-
 .../com/uber/hoodie/cli/HoodieSplashScreen.java    |  14 +-
 .../src/main/java/com/uber/hoodie/cli/Main.java    |  14 +-
 .../src/main/java/com/uber/hoodie/cli/Table.java   |  14 +-
 .../main/java/com/uber/hoodie/cli/TableHeader.java |  14 +-
 .../cli/commands/ArchivedCommitsCommand.java       |  14 +-
 .../uber/hoodie/cli/commands/CleansCommand.java    |  14 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  14 +-
 .../hoodie/cli/commands/CompactionCommand.java     |  16 +-
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |  14 +-
 .../hoodie/cli/commands/FileSystemViewCommand.java |  14 +-
 .../cli/commands/HDFSParquetImportCommand.java     |  14 +-
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  14 +-
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  14 +-
 .../uber/hoodie/cli/commands/RepairsCommand.java   |  14 +-
 .../uber/hoodie/cli/commands/RollbacksCommand.java |  16 +-
 .../hoodie/cli/commands/SavepointsCommand.java     |  14 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  14 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  14 +-
 .../com/uber/hoodie/cli/commands/UtilsCommand.java |  14 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |  14 +-
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |  14 +-
 .../uber/hoodie/cli/utils/InputStreamConsumer.java |  14 +-
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |  14 +-
 .../META-INF/spring/spring-shell-plugin.xml        |  28 +-
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |  13 +-
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |  13 +-
 hoodie-client/pom.xml                              |  30 +-
 .../java/com/uber/hoodie/AbstractHoodieClient.java |  15 +-
 .../com/uber/hoodie/CompactionAdminClient.java     |  24 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |  14 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  14 +-
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  14 +-
 .../client/embedded/EmbeddedTimelineService.java   |  17 +-
 .../uber/hoodie/config/HoodieCompactionConfig.java |  14 +-
 .../uber/hoodie/config/HoodieHBaseIndexConfig.java |  16 +-
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  16 +-
 .../com/uber/hoodie/config/HoodieMemoryConfig.java |  14 +-
 .../uber/hoodie/config/HoodieMetricsConfig.java    |  14 +-
 .../uber/hoodie/config/HoodieStorageConfig.java    |  14 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  14 +-
 .../hoodie/exception/HoodieAppendException.java    |  14 +-
 .../hoodie/exception/HoodieCommitException.java    |  14 +-
 .../exception/HoodieCompactionException.java       |  14 +-
 .../HoodieDependentSystemUnavailableException.java |  14 +-
 .../hoodie/exception/HoodieInsertException.java    |  14 +-
 .../hoodie/exception/HoodieRollbackException.java  |  14 +-
 .../hoodie/exception/HoodieSavepointException.java |  14 +-
 .../hoodie/exception/HoodieUpsertException.java    |  14 +-
 .../uber/hoodie/func/BulkInsertMapFunction.java    |  14 +-
 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |  16 +-
 .../com/uber/hoodie/func/LazyIterableIterator.java |  14 +-
 .../hoodie/func/MergeOnReadLazyInsertIterable.java |  14 +-
 .../java/com/uber/hoodie/func/OperationResult.java |  18 +-
 .../uber/hoodie/func/ParquetReaderIterator.java    |  14 +-
 .../hoodie/func/SparkBoundedInMemoryExecutor.java  |  16 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  14 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  14 +-
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |  16 +-
 .../bloom/BucketizedBloomCheckPartitioner.java     |  15 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  16 +-
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  16 +-
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |  16 +-
 .../uber/hoodie/index/bloom/IndexFileFilter.java   |  16 +-
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |  16 +-
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |  16 +-
 .../uber/hoodie/index/bloom/KeyLookupResult.java   |  16 +-
 .../hoodie/index/bloom/KeyRangeLookupTree.java     |  16 +-
 .../com/uber/hoodie/index/bloom/KeyRangeNode.java  |  16 +-
 .../bloom/ListBasedGlobalIndexFileFilter.java      |  16 +-
 .../index/bloom/ListBasedIndexFileFilter.java      |  16 +-
 .../hbase/DefaultHBaseQPSResourceAllocator.java    |  16 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  18 +-
 .../hbase/HBaseIndexQPSResourceAllocator.java      |  16 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  14 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  14 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  14 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  14 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  14 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  14 +-
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  26 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  24 +-
 .../strategy/BoundedIOCompactionStrategy.java      |  24 +-
 .../BoundedPartitionAwareCompactionStrategy.java   |  24 +-
 .../io/compact/strategy/CompactionStrategy.java    |  24 +-
 .../strategy/DayBasedCompactionStrategy.java       |  26 +-
 .../LogFileSizeBasedCompactionStrategy.java        |  24 +-
 .../strategy/UnBoundedCompactionStrategy.java      |  24 +-
 .../UnBoundedPartitionAwareCompactionStrategy.java |  24 +-
 .../hoodie/io/storage/HoodieParquetConfig.java     |  14 +-
 .../hoodie/io/storage/HoodieParquetWriter.java     |  14 +-
 .../hoodie/io/storage/HoodieStorageWriter.java     |  14 +-
 .../io/storage/HoodieStorageWriterFactory.java     |  14 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  14 +-
 .../hoodie/metrics/InMemoryMetricsReporter.java    |  14 +-
 .../main/java/com/uber/hoodie/metrics/Metrics.java |  14 +-
 .../hoodie/metrics/MetricsGraphiteReporter.java    |  14 +-
 .../com/uber/hoodie/metrics/MetricsReporter.java   |  14 +-
 .../hoodie/metrics/MetricsReporterFactory.java     |  14 +-
 .../uber/hoodie/metrics/MetricsReporterType.java   |  14 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  14 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  14 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  14 +-
 .../table/UserDefinedBulkInsertPartitioner.java    |  14 +-
 .../com/uber/hoodie/table/WorkloadProfile.java     |  14 +-
 .../java/com/uber/hoodie/table/WorkloadStat.java   |  14 +-
 hoodie-client/src/main/resources/log4j.properties  |  19 +-
 .../src/test/java/HoodieClientExample.java         |  14 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  14 +-
 ...tAsyncCompactionWithEmbeddedTimelineServer.java |  16 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  14 +-
 .../TestCleanerWithEmbeddedTimelineServer.java     |  24 +-
 .../java/com/uber/hoodie/TestClientRollback.java   |  14 +-
 .../com/uber/hoodie/TestCompactionAdminClient.java |  24 +-
 .../java/com/uber/hoodie/TestConsistencyGuard.java |  14 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  14 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  14 +-
 .../java/com/uber/hoodie/TestHoodieReadClient.java |  14 +-
 .../TestHoodieReadClientWithEmbeddedServer.java    |  14 +-
 .../TestHoodieWriteClientWithEmbeddedServer.java   |  14 +-
 .../src/test/java/com/uber/hoodie/TestMultiFS.java |  14 +-
 .../uber/hoodie/TestMultiFSWithEmbeddedServer.java |  14 +-
 .../test/java/com/uber/hoodie/TestWriteStatus.java |  24 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  14 +-
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |  14 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  14 +-
 .../com/uber/hoodie/common/TestRawTripPayload.java |  14 +-
 .../uber/hoodie/config/HoodieWriteConfigTest.java  |  14 +-
 .../hoodie/func/TestBoundedInMemoryExecutor.java   |  16 +-
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java |  14 +-
 .../hoodie/func/TestParquetReaderIterator.java     |  14 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  16 +-
 .../index/TestHBaseQPSResourceAllocator.java       |  14 +-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  14 +-
 .../com/uber/hoodie/index/TestHoodieIndex.java     |  14 +-
 .../bloom/TestBucketizedBloomCheckPartitioner.java |  16 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  16 +-
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |  16 +-
 .../hoodie/index/bloom/TestKeyRangeLookupTree.java |  16 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  14 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  24 +-
 .../com/uber/hoodie/io/TestHoodieMergeHandle.java  |  14 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |  24 +-
 .../hoodie/io/strategy/TestHoodieDataFile.java     |  24 +-
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |  24 +-
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |  14 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  16 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  16 +-
 .../TestMergeonReadTableWithEmbeddedServer.java    |  18 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-common/pom.xml                              |  28 +-
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |  14 +-
 .../uber/hoodie/avro/MercifulJsonConverter.java    |  14 +-
 .../java/com/uber/hoodie/common/BloomFilter.java   |  14 +-
 .../com/uber/hoodie/common/HoodieCleanStat.java    |  24 +-
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  14 +-
 .../com/uber/hoodie/common/HoodieRollbackStat.java |  24 +-
 .../hoodie/common/SerializableConfiguration.java   |  16 +-
 .../common/io/storage/HoodieWrapperFileSystem.java |  14 +-
 .../io/storage/SizeAwareFSDataOutputStream.java    |  14 +-
 .../com/uber/hoodie/common/model/ActionType.java   |  14 +-
 .../hoodie/common/model/CompactionOperation.java   |  24 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |  16 +-
 .../hoodie/common/model/HoodieArchivedLogFile.java |  16 +-
 .../hoodie/common/model/HoodieAvroPayload.java     |  24 +-
 .../hoodie/common/model/HoodieCleaningPolicy.java  |  24 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |  14 +-
 .../uber/hoodie/common/model/HoodieDataFile.java   |  24 +-
 .../hoodie/common/model/HoodieDeltaWriteStat.java  |  14 +-
 .../uber/hoodie/common/model/HoodieFileFormat.java |  24 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  16 +-
 .../hoodie/common/model/HoodieFileGroupId.java     |  24 +-
 .../com/uber/hoodie/common/model/HoodieKey.java    |  14 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |  16 +-
 .../common/model/HoodiePartitionMetadata.java      |  14 +-
 .../com/uber/hoodie/common/model/HoodieRecord.java |  14 +-
 .../hoodie/common/model/HoodieRecordLocation.java  |  14 +-
 .../hoodie/common/model/HoodieRecordPayload.java   |  14 +-
 .../hoodie/common/model/HoodieRollingStat.java     |  14 +-
 .../common/model/HoodieRollingStatMetadata.java    |  14 +-
 .../uber/hoodie/common/model/HoodieTableType.java  |  14 +-
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  14 +-
 .../common/storage/SizeAwareDataInputStream.java   |  14 +-
 .../uber/hoodie/common/storage/StorageSchemes.java |  14 +-
 .../hoodie/common/table/HoodieTableConfig.java     |  24 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |  24 +-
 .../uber/hoodie/common/table/HoodieTimeline.java   |  24 +-
 .../common/table/SyncableFileSystemView.java       |  24 +-
 .../hoodie/common/table/TableFileSystemView.java   |  24 +-
 .../table/log/AbstractHoodieLogRecordScanner.java  |  14 +-
 .../common/table/log/HoodieLogFileReader.java      |  14 +-
 .../hoodie/common/table/log/HoodieLogFormat.java   |  14 +-
 .../common/table/log/HoodieLogFormatReader.java    |  14 +-
 .../common/table/log/HoodieLogFormatVersion.java   |  16 +-
 .../common/table/log/HoodieLogFormatWriter.java    |  14 +-
 .../table/log/HoodieMergedLogRecordScanner.java    |  14 +-
 .../table/log/HoodieUnMergedLogRecordScanner.java  |  16 +-
 .../table/log/block/HoodieAvroDataBlock.java       |  14 +-
 .../log/block/HoodieAvroDataBlockVersion.java      |  14 +-
 .../common/table/log/block/HoodieCommandBlock.java |  14 +-
 .../table/log/block/HoodieCommandBlockVersion.java |  14 +-
 .../common/table/log/block/HoodieCorruptBlock.java |  14 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |  14 +-
 .../table/log/block/HoodieDeleteBlockVersion.java  |  14 +-
 .../common/table/log/block/HoodieLogBlock.java     |  14 +-
 .../table/log/block/HoodieLogBlockVersion.java     |  14 +-
 .../table/timeline/HoodieActiveTimeline.java       |  24 +-
 .../table/timeline/HoodieArchivedTimeline.java     |  24 +-
 .../table/timeline/HoodieDefaultTimeline.java      |  24 +-
 .../common/table/timeline/HoodieInstant.java       |  24 +-
 .../common/table/timeline/dto/CompactionOpDTO.java |  14 +-
 .../common/table/timeline/dto/DataFileDTO.java     |  16 +-
 .../common/table/timeline/dto/FSPermissionDTO.java |  14 +-
 .../common/table/timeline/dto/FileGroupDTO.java    |  14 +-
 .../common/table/timeline/dto/FilePathDTO.java     |  14 +-
 .../common/table/timeline/dto/FileSliceDTO.java    |  14 +-
 .../common/table/timeline/dto/FileStatusDTO.java   |  14 +-
 .../common/table/timeline/dto/InstantDTO.java      |  14 +-
 .../common/table/timeline/dto/LogFileDTO.java      |  14 +-
 .../common/table/timeline/dto/TimelineDTO.java     |  14 +-
 .../table/view/AbstractTableFileSystemView.java    |  24 +-
 .../common/table/view/FileSystemViewManager.java   |  14 +-
 .../table/view/FileSystemViewStorageConfig.java    |  14 +-
 .../table/view/FileSystemViewStorageType.java      |  14 +-
 .../table/view/HoodieTableFileSystemView.java      |  24 +-
 .../IncrementalTimelineSyncFileSystemView.java     |  24 +-
 .../table/view/PriorityBasedFileSystemView.java    |  14 +-
 .../view/RemoteHoodieTableFileSystemView.java      |  14 +-
 .../table/view/RocksDbBasedFileSystemView.java     |  24 +-
 .../view/SpillableMapBasedFileSystemView.java      |  14 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |  24 +-
 .../uber/hoodie/common/util/CompactionUtils.java   |  24 +-
 .../uber/hoodie/common/util/ConsistencyGuard.java  |  16 +-
 .../common/util/DFSPropertiesConfiguration.java    |  16 +-
 .../hoodie/common/util/DefaultSizeEstimator.java   |  14 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  14 +-
 .../common/util/FailSafeConsistencyGuard.java      |  16 +-
 .../com/uber/hoodie/common/util/Functions.java     |  14 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  14 +-
 .../common/util/HoodieRecordSizeEstimator.java     |  14 +-
 .../com/uber/hoodie/common/util/HoodieTimer.java   |  14 +-
 .../com/uber/hoodie/common/util/NetworkUtils.java  |  14 +-
 .../hoodie/common/util/NoOpConsistencyGuard.java   |  16 +-
 .../com/uber/hoodie/common/util/NumericUtils.java  |  14 +-
 .../java/com/uber/hoodie/common/util/Option.java   |  26 +-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  14 +-
 .../uber/hoodie/common/util/ReflectionUtils.java   |  14 +-
 .../com/uber/hoodie/common/util/RocksDBDAO.java    |  24 +-
 .../hoodie/common/util/RocksDBSchemaHelper.java    |  24 +-
 .../hoodie/common/util/SerializationUtils.java     |  24 +-
 .../com/uber/hoodie/common/util/SizeEstimator.java |  26 +-
 .../uber/hoodie/common/util/SpillableMapUtils.java |  26 +-
 .../com/uber/hoodie/common/util/StringUtils.java   |  24 +-
 .../hoodie/common/util/TimelineDiffHelper.java     |  14 +-
 .../uber/hoodie/common/util/TypedProperties.java   |  16 +-
 .../common/util/collection/DiskBasedMap.java       |  24 +-
 .../util/collection/ExternalSpillableMap.java      |  26 +-
 .../common/util/collection/ImmutablePair.java      |  24 +-
 .../common/util/collection/ImmutableTriple.java    |  24 +-
 .../common/util/collection/LazyFileIterable.java   |  24 +-
 .../uber/hoodie/common/util/collection/Pair.java   |  24 +-
 .../uber/hoodie/common/util/collection/Triple.java |  24 +-
 .../io/storage/SizeAwareDataOutputStream.java      |  24 +-
 .../common/util/queue/BoundedInMemoryExecutor.java |  14 +-
 .../common/util/queue/BoundedInMemoryQueue.java    |  26 +-
 .../util/queue/BoundedInMemoryQueueConsumer.java   |  16 +-
 .../util/queue/BoundedInMemoryQueueProducer.java   |  16 +-
 .../util/queue/FunctionBasedQueueProducer.java     |  16 +-
 .../util/queue/IteratorBasedQueueProducer.java     |  16 +-
 .../uber/hoodie/config/DefaultHoodieConfig.java    |  14 +-
 .../exception/CorruptedLogFileException.java       |  14 +-
 .../hoodie/exception/DatasetNotFoundException.java |  14 +-
 .../exception/HoodieCorruptedDataException.java    |  14 +-
 .../com/uber/hoodie/exception/HoodieException.java |  14 +-
 .../uber/hoodie/exception/HoodieIOException.java   |  14 +-
 .../hoodie/exception/HoodieIndexException.java     |  14 +-
 .../exception/HoodieNotSupportedException.java     |  14 +-
 .../exception/HoodieRecordMissingException.java    |  14 +-
 .../hoodie/exception/HoodieRemoteException.java    |  14 +-
 .../exception/HoodieSerializationException.java    |  24 +-
 .../hoodie/exception/InvalidDatasetException.java  |  14 +-
 .../exception/InvalidHoodiePathException.java      |  24 +-
 .../exception/MetadataNotFoundException.java       |  16 +-
 .../exception/SchemaCompatabilityException.java    |  24 +-
 .../com/uber/hoodie/common/TestBloomFilter.java    |  24 +-
 .../hoodie/common/minicluster/HdfsTestService.java |  24 +-
 .../hoodie/common/minicluster/MiniClusterUtil.java |  24 +-
 .../common/minicluster/ZookeeperTestService.java   |  24 +-
 .../hoodie/common/model/AvroBinaryTestPayload.java |  26 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  26 +-
 .../common/model/TestHoodieCommitMetadata.java     |  24 +-
 .../hoodie/common/model/TestHoodieWriteStat.java   |  24 +-
 .../hoodie/common/storage/TestStorageSchemes.java  |  14 +-
 .../common/table/HoodieTableMetaClientTest.java    |  24 +-
 .../log/HoodieLogFormatAppendFailureTest.java      |  14 +-
 .../common/table/log/HoodieLogFormatTest.java      |  24 +-
 .../table/string/HoodieActiveTimelineTest.java     |  24 +-
 .../common/table/string/MockHoodieTimeline.java    |  24 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |  24 +-
 .../table/view/IncrementalFSViewSyncTest.java      |  26 +-
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |  24 +-
 .../table/view/RocksDbBasedFileSystemViewTest.java |  24 +-
 .../view/SpillableMapBasedFileSystemViewTest.java  |  24 +-
 ...SpillableMapBasedIncrementalFSViewSyncTest.java |  24 +-
 .../hoodie/common/util/CompactionTestUtils.java    |  24 +-
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  24 +-
 .../hoodie/common/util/SpillableMapTestUtils.java  |  24 +-
 .../hoodie/common/util/TestCompactionUtils.java    |  24 +-
 .../util/TestDFSPropertiesConfiguration.java       |  16 +-
 .../com/uber/hoodie/common/util/TestFSUtils.java   |  24 +-
 .../hoodie/common/util/TestHoodieAvroUtils.java    |  24 +-
 .../uber/hoodie/common/util/TestNumericUtils.java  |  24 +-
 .../uber/hoodie/common/util/TestParquetUtils.java  |  24 +-
 .../com/uber/hoodie/common/util/TestRecord.java    |  24 +-
 .../hoodie/common/util/TestRocksDBManager.java     |  24 +-
 .../hoodie/common/util/TestSerializationUtils.java |  24 +-
 .../common/util/collection/TestDiskBasedMap.java   |  24 +-
 .../util/collection/TestExternalSpillableMap.java  |  24 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-hadoop-mr/pom.xml                           |  28 +-
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |  14 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  14 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  14 +-
 .../hoodie/hadoop/RecordReaderValueIterator.java   |  16 +-
 .../hadoop/SafeParquetRecordReaderWrapper.java     |  16 +-
 .../hadoop/UseFileSplitsFromInputFormat.java       |  14 +-
 .../realtime/AbstractRealtimeRecordReader.java     |  16 +-
 .../hoodie/hadoop/realtime/HoodieParquetSerde.java |  16 +-
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  16 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  16 +-
 .../realtime/HoodieRealtimeRecordReader.java       |  16 +-
 .../realtime/RealtimeCompactedRecordReader.java    |  16 +-
 .../realtime/RealtimeUnmergedRecordReader.java     |  16 +-
 .../com/uber/hoodie/hadoop/AnnotationTest.java     |  14 +-
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |  14 +-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  14 +-
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |  14 +-
 .../hadoop/TestRecordReaderValueIterator.java      |  16 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  16 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-hive/pom.xml                                |  30 +-
 hoodie-hive/src/assembly/src.xml                   |  28 +-
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  16 +-
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |  16 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  16 +-
 .../uber/hoodie/hive/HoodieHiveSyncException.java  |  14 +-
 .../hoodie/hive/MultiPartKeysValueExtractor.java   |  16 +-
 .../uber/hoodie/hive/NonPartitionedExtractor.java  |  14 +-
 .../uber/hoodie/hive/PartitionValueExtractor.java  |  16 +-
 .../com/uber/hoodie/hive/SchemaDifference.java     |  14 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |  16 +-
 .../uber/hoodie/hive/util/ColumnNameXLator.java    |  14 +-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  14 +-
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |  16 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  14 +-
 .../com/uber/hoodie/hive/util/HiveTestService.java |  14 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-integ-test/pom.xml                          |  16 -
 .../java/com/uber/hoodie/integ/ITTestBase.java     |  14 +-
 .../com/uber/hoodie/integ/ITTestHoodieSanity.java  |  14 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-spark/pom.xml                               |  30 +-
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |  16 +-
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  16 +-
 .../com/uber/hoodie/EmptyHoodieRecordPayload.java  |  16 +-
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |  16 +-
 .../main/java/com/uber/hoodie/KeyGenerator.java    |  16 +-
 .../uber/hoodie/NonpartitionedKeyGenerator.java    |  16 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |  16 +-
 .../java/com/uber/hoodie/SimpleKeyGenerator.java   |  16 +-
 .../com/uber/hoodie/AvroConversionUtils.scala      |  16 +-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |  15 +-
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  15 +-
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     |  16 +-
 .../com/uber/hoodie/HoodieStreamingSink.scala      |  15 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |  15 +-
 .../src/main/scala/com/uber/hoodie/package.scala   |  16 +-
 .../src/test/java/DataSourceTestUtils.java         |  16 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |  16 +-
 .../src/test/java/HoodieJavaStreamingApp.java      |  16 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 .../src/test/scala/DataSourceDefaultsTest.scala    |  15 +-
 hoodie-spark/src/test/scala/DataSourceTest.scala   |  15 +-
 .../uber/hoodie/HoodieSparkSqlWriterSuite.scala    |  16 +-
 hoodie-timeline-service/pom.xml                    |  28 +-
 .../timeline/service/FileSystemViewHandler.java    |  14 +-
 .../hoodie/timeline/service/TimelineService.java   |  14 +-
 .../timeline/service/handlers/DataFileHandler.java |  14 +-
 .../service/handlers/FileSliceHandler.java         |  16 +-
 .../hoodie/timeline/service/handlers/Handler.java  |  14 +-
 .../timeline/service/handlers/TimelineHandler.java |  14 +-
 .../view/RemoteHoodieTableFileSystemViewTest.java  |  24 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 hoodie-utilities/pom.xml                           |  30 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  14 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |  16 +-
 .../com/uber/hoodie/utilities/HoodieCleaner.java   |  14 +-
 .../utilities/HoodieCompactionAdminTool.java       |  23 +-
 .../com/uber/hoodie/utilities/HoodieCompactor.java |  16 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  16 +-
 .../hoodie/utilities/HoodieWithTimelineServer.java |  16 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  16 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |  16 +-
 .../deltastreamer/HoodieDeltaStreamerMetrics.java  |  18 +
 .../deltastreamer/SourceFormatAdapter.java         |  16 +-
 .../exception/HoodieDeltaStreamerException.java    |  16 +-
 .../exception/HoodieIncrementalPullException.java  |  16 +-
 .../HoodieIncrementalPullSQLException.java         |  16 +-
 .../keygen/TimestampBasedKeyGenerator.java         |  16 +-
 .../hoodie/utilities/perf/TimelineServerPerf.java  |  21 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |  16 +-
 .../utilities/schema/RowBasedSchemaProvider.java   |  18 +
 .../hoodie/utilities/schema/SchemaProvider.java    |  16 +-
 .../utilities/schema/SchemaRegistryProvider.java   |  16 +-
 .../hoodie/utilities/sources/AvroDFSSource.java    |  16 +-
 .../hoodie/utilities/sources/AvroKafkaSource.java  |  16 +-
 .../uber/hoodie/utilities/sources/AvroSource.java  |  16 +-
 .../utilities/sources/HiveIncrPullSource.java      |  16 +-
 .../hoodie/utilities/sources/HoodieIncrSource.java |  22 +-
 .../uber/hoodie/utilities/sources/InputBatch.java  |  16 +-
 .../hoodie/utilities/sources/JsonDFSSource.java    |  16 +-
 .../hoodie/utilities/sources/JsonKafkaSource.java  |  16 +-
 .../uber/hoodie/utilities/sources/JsonSource.java  |  16 +-
 .../uber/hoodie/utilities/sources/RowSource.java   |  16 +-
 .../com/uber/hoodie/utilities/sources/Source.java  |  16 +-
 .../utilities/sources/helpers/AvroConvertor.java   |  16 +-
 .../utilities/sources/helpers/DFSPathSelector.java |  16 +-
 .../sources/helpers/IncrSourceHelper.java          |  24 +-
 .../utilities/sources/helpers/KafkaOffsetGen.java  |  16 +-
 .../utilities/transform/IdentityTransformer.java   |  16 +-
 .../transform/SqlQueryBasedTransformer.java        |  16 +-
 .../hoodie/utilities/transform/Transformer.java    |  16 +-
 .../hoodie/utilities/TestHDFSParquetImporter.java  |  14 +-
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  |  16 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  14 +-
 .../uber/hoodie/utilities/UtilitiesTestBase.java   |  16 +-
 .../hoodie/utilities/sources/TestDFSSource.java    |  18 +-
 .../hoodie/utilities/sources/TestDataSource.java   |  16 +-
 .../hoodie/utilities/sources/TestKafkaSource.java  |  16 +-
 .../delta-streamer-config/base.properties          |  21 +-
 .../delta-streamer-config/dfs-source.properties    |  20 +-
 .../delta-streamer-config/kafka-source.properties  |  20 +-
 .../sql-transformer.properties                     |  22 +-
 .../test/resources/log4j-surefire-quiet.properties |  18 +-
 .../src/test/resources/log4j-surefire.properties   |  18 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  28 +-
 .../java/com/uber/hoodie/hadoop/bundle/Main.java   |  16 +-
 packaging/hoodie-hive-bundle/pom.xml               |  28 +-
 .../java/com/uber/hoodie/hive/bundle/Main.java     |  16 +-
 packaging/hoodie-presto-bundle/pom.xml             |  28 +-
 .../java/com/uber/hoodie/presto/bundle/Main.java   |  16 +-
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 packaging/hoodie-spark-bundle/pom.xml              |  30 +-
 .../java/com/uber/hoodie/spark/bundle/Main.java    |  16 +-
 packaging/hoodie-utilities-bundle/pom.xml          |  30 +-
 .../com/uber/hoodie/utilities/bundle/Main.java     |  16 +-
 pom.xml                                            |  65 ++-
 513 files changed, 5779 insertions(+), 3967 deletions(-)

commit 30b0f2636fa8a24232096b9e6efcb895850d7ba5
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 5 18:17:55 2019 -0700

    Changes related to Licensing work
    1. Go through dependencies list one round to ensure compliance. Generated current NOTICE list in all submodules (other apache projects like flink does this).
       To be on conservative side regarding licensing, NOTICE.txt lists all dependencies including transitive. Pending Compliance questions reported in https://issues.apache.org/jira/browse/LEGAL-461
    2. Automate generating NOTICE.txt files to allow future package compliance issues be identified early as part of code-review process.
    3. Added NOTICE.txt and LICENSE.txt to all HUDI jars

 NOTICE.txt                                         | 373 +++++++++++++
 docker/hoodie/hadoop/NOTICE.txt                    | 231 ++++++++
 docker/hoodie/hadoop/base/NOTICE.txt               | 223 ++++++++
 docker/hoodie/hadoop/datanode/NOTICE.txt           | 224 ++++++++
 docker/hoodie/hadoop/historyserver/NOTICE.txt      | 224 ++++++++
 docker/hoodie/hadoop/hive_base/NOTICE.txt          | 224 ++++++++
 docker/hoodie/hadoop/namenode/NOTICE.txt           | 224 ++++++++
 docker/hoodie/hadoop/spark_base/NOTICE.txt         | 225 ++++++++
 docker/hoodie/hadoop/sparkadhoc/NOTICE.txt         | 226 ++++++++
 docker/hoodie/hadoop/sparkmaster/NOTICE.txt        | 226 ++++++++
 docker/hoodie/hadoop/sparkworker/NOTICE.txt        | 226 ++++++++
 hoodie-cli/pom.xml                                 |   6 +
 hoodie-cli/src/main/resources/META-INF/LICENSE.txt | 614 +++++++++++++++++++++
 hoodie-cli/src/main/resources/META-INF/NOTICE.txt  | 287 ++++++++++
 hoodie-client/pom.xml                              |   5 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 284 ++++++++++
 hoodie-common/pom.xml                              |   9 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 118 ++++
 hoodie-hadoop-mr/pom.xml                           |   9 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 181 ++++++
 hoodie-hive/pom.xml                                |   9 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 hoodie-hive/src/main/resources/META-INF/NOTICE.txt | 187 +++++++
 hoodie-integ-test/pom.xml                          |   1 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 271 +++++++++
 hoodie-spark/pom.xml                               |   6 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 278 ++++++++++
 hoodie-timeline-service/pom.xml                    |   5 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 140 +++++
 hoodie-utilities/pom.xml                           |   4 +
 .../src/main/resources/META-INF/LICENSE.txt        | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/NOTICE.txt         | 289 ++++++++++
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  11 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 180 ++++++
 packaging/hoodie-hive-bundle/pom.xml               |  11 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 184 ++++++
 packaging/hoodie-presto-bundle/pom.xml             |  11 +
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 128 +++++
 packaging/hoodie-spark-bundle/pom.xml              |  10 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 280 ++++++++++
 packaging/hoodie-utilities-bundle/pom.xml          |   6 +
 .../src/main/resources/META-INF/HUDI_LICENSE.txt   | 614 +++++++++++++++++++++
 .../src/main/resources/META-INF/HUDI_NOTICE.txt    | 290 ++++++++++
 pom.xml                                            |  26 +
 release/config/NOTICE.template                     |  11 +
 release/config/license-mappings.xml                |  93 ++++
 55 files changed, 13938 insertions(+)

commit 173e0b6be4f835c6f0f3b8354d6d402f20dd4903
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   Thu Jun 6 16:51:16 2019 +0800

    exlude fasterxml and parquet  from presto bundle

 packaging/hoodie-presto-bundle/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit b325cbff1018cd25534fc4564593fbb3c5bf53cd
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   Mon Jun 3 10:16:06 2019 +0800

    set codehaus.jackson modules to the same version 1.9.13

 pom.xml | 18 ++++++++++++++++--
 1 file changed, 16 insertions(+), 2 deletions(-)

commit 45e65cc2f7f2bdebbd51222854033719deba9288
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 5 19:34:11 2019 -0700

    Auto generated Slack Channel Notifications setup

 .travis.yml | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 5ae34db76481d19932e0e250b1601f1a041ce709
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Jun 6 17:15:45 2019 -0700

    Replace Non-Compliant dnl.utils package with Apache 2.0 licensed alternative

 hoodie-cli/pom.xml                                 |  9 ++----
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     | 32 ++++++++++------------
 2 files changed, 17 insertions(+), 24 deletions(-)

commit a0391b7c0183316d35862ae73ca8e1c8c4931fef
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Jun 5 18:18:44 2019 -0700

    LogFile comparator must handle log file names without write token for backwards compatibility

 .../uber/hoodie/common/model/HoodieLogFile.java    |  8 ++---
 .../com/uber/hoodie/common/util/TestFSUtils.java   | 42 ++++++++++++++++++++++
 2 files changed, 46 insertions(+), 4 deletions(-)

commit 66893bfef21ef4644536688595f685f4e1a95051
Author: Thinking <744417972@qq.com>
Date:   Sun Jun 2 21:25:21 2019 +0800

    fix spark-shell add jar problem
    
    jira link https://issues.apache.org/jira/browse/HUDI-101
    issue link https://github.com/apache/incubator-hudi/issues/516#issue-386048519
    
    when using spark-shell with hoodie save data like :
    ```
    ./spark-shell --master yarn --jars /home/hdfs/software/spark/hoodie/hoodie-spark-bundle-0.4.8-SNAPSHOT.jar --conf spark.sql.hive.convertMetastoreParquet=false --packages com.databricks:spark-avro_2.11:4.0.0
    ```
    and
    ```
    inputDF.write.format("com.uber.hoodie")
            .option("hoodie.insert.shuffle.parallelism", "1") // any hoodie client config can be passed like this
            .option("hoodie.upsert.shuffle.parallelism", "1") // full list in HoodieWriteConfig & its package
            .option(DataSourceWriteOptions.STORAGE_TYPE_OPT_KEY, HoodieTableType.COPY_ON_WRITE.name())
            .option(DataSourceWriteOptions.OPERATION_OPT_KEY, DataSourceWriteOptions.UPSERT_OPERATION_OPT_VAL) // insert
            .option(DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY, "_row_key")
            .option(DataSourceWriteOptions.PARTITIONPATH_FIELD_OPT_KEY, "partition")
            .option(DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY, "extend_deal_date")
            .option(HoodieWriteConfig.TABLE_NAME, "c_upload_code")
            .mode(SaveMode.Overwrite)
            .save("/tmp/test/hoodie")
    ```
    It also report error  `Invalid signature file digest for Manifest main attributes`. Need to scan all infected dependency.

 packaging/hoodie-spark-bundle/pom.xml | 1 +
 1 file changed, 1 insertion(+)

commit 7b4a28ecf8d6a51c30c989df6e3cad64c58bf985
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri May 31 19:21:41 2019 -0700

    Move depedency repos to https urls

 hoodie-cli/pom.xml                        | 6 +++---
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-utilities-bundle/pom.xml | 2 +-
 4 files changed, 6 insertions(+), 6 deletions(-)

commit acd74129cd97f24c0dde9bf032a4048f2ce27b5f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu May 30 20:06:26 2019 -0700

    Create hoodie-utilities-bundle to host the shaded jar
    
      - hoodie-utilities can now be pulled in as compile time dependency
      - Lets users test their DeltaStreamer transformers for e.g
      - Tested the docker demo works & takes in the bundle
      - Doc changes to follow, to move DeltaStreamer commands to bundle jar

 docker/hoodie/hadoop/hive_base/pom.xml             |   4 +-
 hoodie-utilities/pom.xml                           | 125 ------
 packaging/hoodie-utilities-bundle/pom.xml          | 461 +++++++++++++++++++++
 .../com/uber/hoodie/utilities/bundle/Main.java     |  36 ++
 pom.xml                                            |   1 +
 5 files changed, 501 insertions(+), 126 deletions(-)

commit a5e24395149fcabca5e93d15654b036f8e91020a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu May 30 20:21:54 2019 -0700

    Turn off noisy test

 hoodie-spark/src/test/scala/DataSourceTest.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3b916ec1af070f00f43ceb4d3b41c8209739bb42
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu May 30 18:53:56 2019 -0700

    Add support for maven deploy plugin to make snapshot releases

 pom.xml | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit 6b5abb5d92043b5360d4059280a1f39e35974eae
Author: guanjianhui <guanjianhui@xhqb.com>
Date:   Wed May 22 11:44:32 2019 +0800

    fix maven pom

 hoodie-client/pom.xml |  6 ------
 hoodie-spark/pom.xml  |  4 ----
 pom.xml               | 14 ++++++++------
 3 files changed, 8 insertions(+), 16 deletions(-)

commit d860fb18b6248abfa911e6188d1105f2afc4e582
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 29 12:00:35 2019 -0700

    HUDI-139 Compaction running twice due to duplicate "map" transformation while finalizing compaction

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 66c0b81b49ceb12d35c23b659e8599d37987e8e5
Author: vinothchandar <vinoth@apache.org>
Date:   Tue May 28 19:17:26 2019 -0700

    [maven-release-plugin] prepare for next development iteration

 docker/hoodie/hadoop/base/pom.xml          | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml      | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml      | 2 +-
 docker/hoodie/hadoop/pom.xml               | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   | 2 +-
 hoodie-cli/pom.xml                         | 2 +-
 hoodie-client/pom.xml                      | 2 +-
 hoodie-common/pom.xml                      | 2 +-
 hoodie-hadoop-mr/pom.xml                   | 2 +-
 hoodie-hive/pom.xml                        | 2 +-
 hoodie-integ-test/pom.xml                  | 2 +-
 hoodie-spark/pom.xml                       | 2 +-
 hoodie-timeline-service/pom.xml            | 2 +-
 hoodie-utilities/pom.xml                   | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 2 +-
 packaging/hoodie-hive-bundle/pom.xml       | 2 +-
 packaging/hoodie-presto-bundle/pom.xml     | 2 +-
 packaging/hoodie-spark-bundle/pom.xml      | 2 +-
 pom.xml                                    | 4 ++--
 24 files changed, 25 insertions(+), 25 deletions(-)

commit 227785c022939cd2ba153c2a4f7791ab3394c6c7
Author: vinothchandar <vinoth@apache.org>
Date:   Tue May 28 19:17:15 2019 -0700

    [maven-release-plugin] prepare release hoodie-0.4.7

 docker/hoodie/hadoop/base/pom.xml          | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml      | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml      | 2 +-
 docker/hoodie/hadoop/pom.xml               | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   | 2 +-
 hoodie-cli/pom.xml                         | 2 +-
 hoodie-client/pom.xml                      | 2 +-
 hoodie-common/pom.xml                      | 2 +-
 hoodie-hadoop-mr/pom.xml                   | 2 +-
 hoodie-hive/pom.xml                        | 2 +-
 hoodie-integ-test/pom.xml                  | 2 +-
 hoodie-spark/pom.xml                       | 2 +-
 hoodie-timeline-service/pom.xml            | 6 +++---
 hoodie-utilities/pom.xml                   | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 2 +-
 packaging/hoodie-hive-bundle/pom.xml       | 2 +-
 packaging/hoodie-presto-bundle/pom.xml     | 2 +-
 packaging/hoodie-spark-bundle/pom.xml      | 2 +-
 pom.xml                                    | 4 ++--
 24 files changed, 27 insertions(+), 27 deletions(-)

commit a1f287d359f9c5e55b6d3d19871feca5cf3d250c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue May 28 18:26:40 2019 -0700

    Release notes for 0.4.7

 RELEASE_NOTES.md | 27 ++++++++++++++++++++++++++-
 1 file changed, 26 insertions(+), 1 deletion(-)

commit 93f8f12a30a05cd8c6862d0f895e4bd9a9b3336a
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue May 28 12:54:23 2019 -0700

    HUDI-135 - Skip Meta folder when looking for partitions

 .../uber/hoodie/cli/commands/RepairsCommand.java   |  2 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 73 ++++++++++++++++------
 .../com/uber/hoodie/common/util/TestFSUtils.java   | 72 +++++++++++++++++++++
 3 files changed, 126 insertions(+), 21 deletions(-)

commit 33f5208c1e95067606cd24ea90c05cd33626a243
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue May 28 15:17:54 2019 -0700

    Only inflight commit timeline (.commit/.deltacommit) must be used when checking for sanity during compaction scheduling

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9c8f8212ef0979add9f5fba7d5c7c6be58869aab
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon May 27 20:44:19 2019 -0700

    HUDI-134 - Disable inline compaction for Hoodie Demo

 docker/demo/config/base.properties | 1 +
 1 file changed, 1 insertion(+)

commit d0d2fa03379525e8156d5dc0adae9eb852603899
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri May 24 22:20:10 2019 -0700

    Reduce logging in unit-test runs

 .../java/com/uber/hoodie/TestCompactionAdminClient.java    |  2 +-
 .../java/com/uber/hoodie/common/HoodieClientTestUtils.java |  5 ++++-
 .../java/com/uber/hoodie/func/TestUpdateMapFunction.java   |  1 -
 .../java/com/uber/hoodie/table/TestCopyOnWriteTable.java   |  6 +++++-
 .../main/java/com/uber/hoodie/common/util/RocksDBDAO.java  |  2 +-
 .../common/table/view/HoodieTableFileSystemViewTest.java   |  6 +++++-
 .../common/table/view/IncrementalFSViewSyncTest.java       | 14 +++++++++-----
 .../com/uber/hoodie/common/util/TestRocksDBManager.java    |  5 -----
 8 files changed, 25 insertions(+), 16 deletions(-)

commit f2d91a455ec17e66ad319f47a2d5ad45d62c9ca3
Author: Venkat <33071342+v3nkatesh@users.noreply.github.com>
Date:   Fri May 24 18:43:46 2019 -0700

    default implementation for HBase index qps allocator (#685)
    
    * default implementation and configs for HBase index qps allocator
    
    * Test for QPS allocator and address CR
    
    * fix QPS allocator test

 .../uber/hoodie/config/HoodieHBaseIndexConfig.java | 118 ++++++++++++++---
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  32 +++++
 .../hbase/DefaultHBaseQPSResourceAllocator.java    |  52 ++++++++
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  74 +++++++++--
 .../hbase/HBaseIndexQPSResourceAllocator.java      |  51 ++++++++
 .../index/TestHBaseQPSResourceAllocator.java       | 144 +++++++++++++++++++++
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  20 ++-
 7 files changed, 461 insertions(+), 30 deletions(-)

commit 99b0c72aa6e02a86517bc674bdd6b18f7842c7d8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri May 24 16:51:09 2019 -0700

    HUDI-131 Zero FIle Listing in Compactor run

 .../com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java     | 5 ++---
 .../main/java/com/uber/hoodie/common/model/CompactionOperation.java  | 5 +++++
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 4074c5eb234f643ed0d79efff090138b50ad99ea
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue May 21 18:59:10 2019 -0700

    Fixed HUDI-116 :  Handle duplicate record keys across partitions
    
     - Join based on HoodieKey and not RecordKey during tagging
     - Unit tests changed to run with duplicate keys
     - Special casing GlobalBloom to still join by recordkey

 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  | 74 +++++++++++-----------
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  4 +-
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java | 23 ++++++-
 .../uber/hoodie/index/bloom/KeyLookupResult.java   |  8 ++-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   | 63 ++++--------------
 5 files changed, 82 insertions(+), 90 deletions(-)

commit f120427607986de82f99f2ba9a2eb0ff136c2bae
Author: leiline <lamlee1993@outlook.com>
Date:   Fri May 24 10:32:31 2019 +0800

    HUDI-105 : Fix up offsets not available on leader exception (#650)
    
    * Fix up offsets not available on leader exception

 .../utilities/sources/helpers/KafkaOffsetGen.java  | 23 +++++++++++++++++++++-
 1 file changed, 22 insertions(+), 1 deletion(-)

commit 2fe526d5485963493e44d9c6cb2a80cb84244c1f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu May 23 16:35:30 2019 -0700

    Allow users to set hoodie configs figs for Compactor, Cleaner and HDFSParquetImporter utility scripts

 .../uber/hoodie/utilities/HDFSParquetImporter.java    | 18 +++++++++++++++++-
 .../java/com/uber/hoodie/utilities/HoodieCleaner.java | 12 +++++-------
 .../com/uber/hoodie/utilities/HoodieCompactor.java    | 19 +++++++++++++++++--
 .../java/com/uber/hoodie/utilities/UtilHelpers.java   | 15 ++++++++++++++-
 4 files changed, 53 insertions(+), 11 deletions(-)

commit 145034c5faebefe51b6f1557f156bc19c787d671
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Mar 8 15:05:33 2019 -0800

    Spark Stage retry handling

 .../com/uber/hoodie/CompactionAdminClient.java     |   7 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  57 ++++--
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  93 +++++----
 .../uber/hoodie/func/BulkInsertMapFunction.java    |  10 +-
 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |  32 ++-
 .../hoodie/func/MergeOnReadLazyInsertIterable.java |   8 +-
 .../java/com/uber/hoodie/io/ConsistencyCheck.java  | 112 -----------
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  17 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  26 +--
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  85 +++++---
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  41 ++--
 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../hoodie/io/storage/HoodieParquetWriter.java     |   1 +
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 125 +++---------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  11 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    | 148 ++++++++++++--
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  34 ++--
 .../java/com/uber/hoodie/TestConsistencyGuard.java | 108 +++++++++++
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 100 +++++-----
 .../java/com/uber/hoodie/TestHoodieReadClient.java |   3 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   4 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    | 115 +++++++----
 .../com/uber/hoodie/io/TestConsistencyCheck.java   |  91 ---------
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |   9 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 125 ++++++------
 .../io/storage/HoodieWrapperFileSystem.java        |  67 +++++--
 .../io/storage/SizeAwareFSDataOutputStream.java    |  21 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |   6 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |  48 ++++-
 .../uber/hoodie/common/model/HoodieWriteStat.java  |   5 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |  17 ++
 .../hoodie/common/table/log/HoodieLogFormat.java   |  50 ++++-
 .../common/table/log/HoodieLogFormatWriter.java    |  25 ++-
 .../uber/hoodie/common/util/ConsistencyGuard.java  |  89 +++++++++
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 182 ++++++++++++-----
 .../common/util/FailSafeConsistencyGuard.java      | 200 +++++++++++++++++++
 .../hoodie/common/util/NoOpConsistencyGuard.java   |  46 +++++
 .../com/uber/hoodie/common/util/ParquetUtils.java  |   2 -
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  55 ++++--
 .../hoodie/common/model/TestHoodieWriteStat.java   |  15 +-
 .../common/table/log/HoodieLogFormatTest.java      |  65 +++++++
 .../table/view/HoodieTableFileSystemViewTest.java  | 216 +++++++++++----------
 .../table/view/IncrementalFSViewSyncTest.java      |   6 +-
 .../hoodie/common/util/CompactionTestUtils.java    |   4 +-
 .../hoodie/common/util/TestCompactionUtils.java    |  18 +-
 .../com/uber/hoodie/common/util/TestFSUtils.java   |  69 +++++--
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  10 +
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  10 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   6 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |   3 +-
 hoodie-timeline-service/pom.xml                    |   2 +-
 .../utilities/schema/RowBasedSchemaProvider.java   |   2 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  20 +-
 53 files changed, 1660 insertions(+), 963 deletions(-)

commit 3fd2fd6e9dbf8c03bcc742b883fa2a0598ad99be
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date:   Fri May 10 10:10:51 2019 -0400

    Remove redundant string from file comp rdd

 .../bloom/BucketizedBloomCheckPartitioner.java     | 11 ++--
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  | 63 +++++++++++-----------
 .../index/bloom/HoodieBloomIndexCheckFunction.java | 16 +++---
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java | 21 ++++----
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  4 +-
 .../index/bloom/TestHoodieGlobalBloomIndex.java    | 32 +++++------
 6 files changed, 75 insertions(+), 72 deletions(-)

commit a7e6cf51974f96c6b4bc945db25658cbb4bc48c7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue May 14 19:59:04 2019 -0700

    Support nested types for recordKey, partitionPath and combineKey

 .../src/main/java/com/uber/hoodie/DataSourceUtils.java         | 10 +++++++++-
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java    |  2 +-
 .../hoodie/utilities/keygen/TimestampBasedKeyGenerator.java    |  4 ++--
 3 files changed, 12 insertions(+), 4 deletions(-)

commit e43efa042fe04f1bbb29a9794cddbd47eff62248
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed May 15 19:54:19 2019 -0700

    Downgrading fasterxml jackson to 2.6.7 to be spark compatible

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 64fec640975b42b0645c75416eb8bbf0b8092c66
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Feb 12 21:29:14 2019 -0800

    Timeline Service with Incremental View Syncing support

 docker/demo/config/base.properties                 |   2 +
 .../uber/hoodie/cli/commands/CommitsCommand.java   |   7 +-
 .../hoodie/cli/commands/CompactionCommand.java     |   2 +-
 .../hoodie/cli/commands/FileSystemViewCommand.java |  21 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |   6 +-
 hoodie-client/pom.xml                              |   5 +
 .../java/com/uber/hoodie/AbstractHoodieClient.java | 100 +++
 .../com/uber/hoodie/CompactionAdminClient.java     |  21 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |  12 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  29 +-
 .../client/embedded/EmbeddedTimelineService.java   | 100 +++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  54 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |   3 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  18 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  45 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |   7 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   5 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  18 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  11 +-
 .../io/compact/strategy/CompactionStrategy.java    |   4 +-
 .../LogFileSizeBasedCompactionStrategy.java        |   2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   7 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  12 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  28 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  35 +-
 ...tAsyncCompactionWithEmbeddedTimelineServer.java |  56 ++
 .../src/test/java/com/uber/hoodie/TestCleaner.java |   6 +-
 .../TestCleanerWithEmbeddedTimelineServer.java     |  45 ++
 .../java/com/uber/hoodie/TestClientRollback.java   |   2 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  24 +
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  17 +-
 .../TestHoodieReadClientWithEmbeddedServer.java    |  45 ++
 .../TestHoodieWriteClientWithEmbeddedServer.java   |  55 ++
 .../src/test/java/com/uber/hoodie/TestMultiFS.java |  22 +-
 .../uber/hoodie/TestMultiFSWithEmbeddedServer.java |  36 +
 .../hoodie/io/strategy/TestHoodieDataFile.java     |   2 +-
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |   7 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  54 +-
 .../TestMergeonReadTableWithEmbeddedServer.java    |  56 ++
 hoodie-common/pom.xml                              |  19 +-
 .../src/main/avro/HoodieCommitMetadata.avsc        |   5 +
 .../hoodie/common/model/CompactionOperation.java   |  69 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |  31 +-
 .../uber/hoodie/common/model/HoodieDataFile.java   |  63 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  25 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |  74 +-
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  13 +
 .../hoodie/common/table/HoodieTableConfig.java     |   4 +
 .../hoodie/common/table/HoodieTableMetaClient.java |  26 +
 .../uber/hoodie/common/table/HoodieTimeline.java   |  15 +
 .../common/table/SyncableFileSystemView.java       |  44 ++
 .../hoodie/common/table/TableFileSystemView.java   |  68 +-
 .../table/timeline/HoodieActiveTimeline.java       |  18 +-
 .../table/timeline/HoodieArchivedTimeline.java     |   4 +-
 .../table/timeline/HoodieDefaultTimeline.java      |  39 +-
 .../common/table/timeline/HoodieInstant.java       |   4 +-
 .../common/table/timeline/dto/CompactionOpDTO.java |  75 ++
 .../common/table/timeline/dto/DataFileDTO.java     |  60 ++
 .../common/table/timeline/dto/FSPermissionDTO.java |  61 ++
 .../common/table/timeline/dto/FileGroupDTO.java    |  56 ++
 .../common/table/timeline/dto/FilePathDTO.java     |  51 ++
 .../common/table/timeline/dto/FileSliceDTO.java    |  55 ++
 .../common/table/timeline/dto/FileStatusDTO.java   |  97 +++
 .../common/table/timeline/dto/InstantDTO.java      |  53 ++
 .../common/table/timeline/dto/LogFileDTO.java      |  48 ++
 .../common/table/timeline/dto/TimelineDTO.java     |  44 ++
 .../table/view/AbstractTableFileSystemView.java    | 823 +++++++++++++++++++++
 .../common/table/view/FileSystemViewManager.java   | 216 ++++++
 .../table/view/FileSystemViewStorageConfig.java    | 197 +++++
 .../table/view/FileSystemViewStorageType.java      |  34 +
 .../table/view/HoodieTableFileSystemView.java      | 432 +++--------
 .../IncrementalTimelineSyncFileSystemView.java     | 338 +++++++++
 .../table/view/PriorityBasedFileSystemView.java    | 238 ++++++
 .../view/RemoteHoodieTableFileSystemView.java      | 469 ++++++++++++
 .../table/view/RocksDbBasedFileSystemView.java     | 341 +++++++++
 .../view/SpillableMapBasedFileSystemView.java      | 109 +++
 .../uber/hoodie/common/util/CompactionUtils.java   |  25 +-
 .../com/uber/hoodie/common/util/Functions.java     |  38 +
 .../com/uber/hoodie/common/util/NetworkUtils.java  |  42 ++
 .../java/com/uber/hoodie/common/util/Option.java   | 312 ++++++++
 .../com/uber/hoodie/common/util/RocksDBDAO.java    | 389 ++++++++++
 .../hoodie/common/util/RocksDBSchemaHelper.java    | 124 ++++
 .../com/uber/hoodie/common/util/StringUtils.java   |   4 +
 .../hoodie/common/util/TimelineDiffHelper.java     | 134 ++++
 .../common/util/collection/DiskBasedMap.java       |  90 ++-
 .../util/collection/ExternalSpillableMap.java      |  69 +-
 .../common/util/collection/LazyFileIterable.java   |  60 +-
 .../uber/hoodie/config/DefaultHoodieConfig.java    |   0
 .../hoodie/exception/HoodieRemoteException.java    |  27 +
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   9 +-
 .../common/table/string/MockHoodieTimeline.java    |   4 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 406 ++++++----
 .../table/view/IncrementalFSViewSyncTest.java      | 783 ++++++++++++++++++++
 .../RocksDBBasedIncrementalFSViewSyncTest.java     |  33 +
 .../table/view/RocksDbBasedFileSystemViewTest.java |  30 +
 .../view/SpillableMapBasedFileSystemViewTest.java  |  29 +
 ...SpillableMapBasedIncrementalFSViewSyncTest.java |  30 +
 .../hoodie/common/util/CompactionTestUtils.java    |   2 +-
 .../hoodie/common/util/TestCompactionUtils.java    |   8 +-
 .../hoodie/common/util/TestRocksDBManager.java     | 183 +++++
 hoodie-timeline-service/pom.xml                    | 237 ++++++
 hoodie-timeline-service/run_server.sh              |  14 +
 .../timeline/service/FileSystemViewHandler.java    | 351 +++++++++
 .../hoodie/timeline/service/TimelineService.java   | 161 ++++
 .../timeline/service/handlers/DataFileHandler.java |  76 ++
 .../service/handlers/FileSliceHandler.java         |  92 +++
 .../hoodie/timeline/service/handlers/Handler.java  |  35 +
 .../timeline/service/handlers/TimelineHandler.java |  46 ++
 .../view/RemoteHoodieTableFileSystemViewTest.java  |  57 ++
 .../test/resources/log4j-surefire-quiet.properties |  21 +
 .../src/test/resources/log4j-surefire.properties   |  25 +
 hoodie-utilities/pom.xml                           |  40 +-
 .../hoodie/utilities/HoodieWithTimelineServer.java | 129 ++++
 .../hoodie/utilities/perf/TimelineServerPerf.java  | 308 ++++++++
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  14 +-
 packaging/hoodie-spark-bundle/pom.xml              |   4 +
 pom.xml                                            |  28 +-
 117 files changed, 8919 insertions(+), 849 deletions(-)

commit 446f99aa0f3456380215538eac27ab72b2aa5452
Author: vinothchandar <vinoth@apache.org>
Date:   Tue May 14 07:29:22 2019 -0700

    [maven-release-plugin] prepare for next development iteration

 docker/hoodie/hadoop/base/pom.xml          | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml      | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml      | 2 +-
 docker/hoodie/hadoop/pom.xml               | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   | 2 +-
 hoodie-cli/pom.xml                         | 2 +-
 hoodie-client/pom.xml                      | 2 +-
 hoodie-common/pom.xml                      | 2 +-
 hoodie-hadoop-mr/pom.xml                   | 2 +-
 hoodie-hive/pom.xml                        | 2 +-
 hoodie-integ-test/pom.xml                  | 2 +-
 hoodie-spark/pom.xml                       | 2 +-
 hoodie-utilities/pom.xml                   | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 2 +-
 packaging/hoodie-hive-bundle/pom.xml       | 2 +-
 packaging/hoodie-presto-bundle/pom.xml     | 2 +-
 packaging/hoodie-spark-bundle/pom.xml      | 2 +-
 pom.xml                                    | 4 ++--
 23 files changed, 24 insertions(+), 24 deletions(-)

commit cc38abecc8944135bb7b9475ff36890aa0a96680
Author: vinothchandar <vinoth@apache.org>
Date:   Tue May 14 07:29:11 2019 -0700

    [maven-release-plugin] prepare release hoodie-0.4.6

 docker/hoodie/hadoop/base/pom.xml          | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml      | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml      | 2 +-
 docker/hoodie/hadoop/pom.xml               | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   | 2 +-
 hoodie-cli/pom.xml                         | 2 +-
 hoodie-client/pom.xml                      | 2 +-
 hoodie-common/pom.xml                      | 2 +-
 hoodie-hadoop-mr/pom.xml                   | 2 +-
 hoodie-hive/pom.xml                        | 2 +-
 hoodie-integ-test/pom.xml                  | 2 +-
 hoodie-spark/pom.xml                       | 2 +-
 hoodie-utilities/pom.xml                   | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 2 +-
 packaging/hoodie-hive-bundle/pom.xml       | 2 +-
 packaging/hoodie-presto-bundle/pom.xml     | 2 +-
 packaging/hoodie-spark-bundle/pom.xml      | 2 +-
 pom.xml                                    | 4 ++--
 23 files changed, 24 insertions(+), 24 deletions(-)

commit 7002ca6775b66521bbd926e3aab4f6c2f3c537e0
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue May 14 05:15:29 2019 -0700

    Update release notes for 0.4.6 release

 RELEASE_NOTES.md | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 6e1e62635731d73ccc424df88d9c7c9a2e57ec8d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon May 13 22:18:20 2019 -0700

    Minor CLI documentation change in delta-streamer

 .../com/uber/hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af46078a828abb45e9e90915fd7e5f6f2a83d1ee
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon May 13 20:30:30 2019 -0700

    converting map task memory from mb to bytes

 .../com/uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9cce9abf4de340c095760431301d369e364c5b34
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sun May 12 11:57:04 2019 -0700

    Fix various errors found by long running delta-streamer tests
      1. Parquet Avro schema mismatch errors when ingesting are sometimes silently ignored due to race-condition in BoundedInMemoryExecutor. This was reproducible when running long-running delta-streamer with wrong schema and it caused data-loss
      2. Fix behavior of Delta-Streamer to error out by default if there are any error records
      3. Fix a bug in tracking write errors in WriteStats. Earlier the write errors were tracking sampled errors as opposed to total errors.
      4. Delta Streamer does not commit the changes done as part of inline compaction as auto-commit is force disabled. Fix this behavior to always auto-commit inline compaction as it would not otherwise commit.

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  3 +-
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  3 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  2 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  2 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  2 +-
 .../common/util/queue/BoundedInMemoryExecutor.java |  2 +-
 .../common/util/queue/BoundedInMemoryQueue.java    |  3 ++
 .../deltastreamer/HoodieDeltaStreamer.java         | 55 +++++++++++++++-------
 8 files changed, 49 insertions(+), 23 deletions(-)

commit a0e62b79192874808193247053b502746a8bef1d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed May 8 20:20:58 2019 -0700

    Bucketized Bloom Filter checking
    
     - Tackles the skew seen in sort based partitioning/checking
     - Parameterized the HoodieBloomIndex test
     - Config to turn on/off (on by default)
     - Unit tests & also tested at scale

 .gitignore                                         |   7 +
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  23 ++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   8 +
 .../bloom/BucketizedBloomCheckPartitioner.java     | 155 ++++++++++++
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  91 +++----
 .../bloom/TestBucketizedBloomCheckPartitioner.java |  83 +++++++
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   | 270 ++++++++++++---------
 7 files changed, 472 insertions(+), 165 deletions(-)

commit 4b27cc72bbb87b74c47950a2bd24ef94cfecac8d
Author: David Muto (pseudomuto) <david.muto@gmail.com>
Date:   Tue May 7 21:16:58 2019 -0400

    Don't raise when spark-defaults.conf doesn't exist

 .../src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java    | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit e2dcef860672c140e4b66091292ff3bee3d20110
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date:   Tue May 7 15:17:36 2019 -0400

    HUDI-101: added exclusion filters for signature files.

 hoodie-utilities/pom.xml                  | 9 +++++++++
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 9 +++++++++
 packaging/hoodie-hive-bundle/pom.xml      | 9 +++++++++
 packaging/hoodie-presto-bundle/pom.xml    | 9 +++++++++
 packaging/hoodie-spark-bundle/pom.xml     | 9 +++++++++
 5 files changed, 45 insertions(+)

commit 738635306bef3d5e7c9395d71409bc4dc8feb2cc
Author: Omkar Joshi <omkar@uber.com>
Date:   Tue Apr 30 19:00:30 2019 -0700

    migrating kryo's dependency from twitter chill to plain kryo library

 hoodie-common/pom.xml                              |   5 +
 .../common/table/log/block/HoodieDeleteBlock.java  |   2 +-
 .../hoodie/common/util/SerializationUtils.java     | 224 ++++++++++-----------
 .../common/util/collection/DiskBasedMap.java       |   4 +-
 .../common/util/collection/LazyFileIterable.java   |   5 +-
 .../hoodie/common/util/TestSerializationUtils.java |  79 ++++++++
 hoodie-utilities/pom.xml                           |  15 ++
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  15 ++
 packaging/hoodie-presto-bundle/pom.xml             |  12 ++
 packaging/hoodie-spark-bundle/pom.xml              |  12 ++
 10 files changed, 252 insertions(+), 121 deletions(-)

commit a33a55fcb59c9de341bc3169defda94df2910e65
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun May 5 21:26:16 2019 -0700

    Caching Avro Binary encoder/decoder to avoid creating new one for every record

 .../hoodie/common/table/log/block/HoodieAvroDataBlock.java   | 12 +++++++++---
 1 file changed, 9 insertions(+), 3 deletions(-)

commit ee1feb7c75fda1e3d28cb8635694ad69d849fa74
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sun May 5 18:30:22 2019 -0700

    Revert "HUDI-101: added mevn-shade plugin with filters."
    Creates fat jars for all hoodie packages
    
    This reverts commit f47f0eb6cba5ae861a8c9e8eb06b6acdb68d159f.

 pom.xml | 30 ------------------------------
 1 file changed, 30 deletions(-)

commit f47f0eb6cba5ae861a8c9e8eb06b6acdb68d159f
Author: Abhishek Sharma <abhisheksharma@Abhisheks-MacBook-Pro.local>
Date:   Wed May 1 15:45:39 2019 -0400

    HUDI-101: added mevn-shade plugin with filters.

 pom.xml | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 978470af336c1efd04864c2f0c1eb6a963233f39
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 1 17:20:35 2019 -0700

    Rollback inflights when using Spark [Streaming] write

 hoodie-spark/src/main/java/com/uber/hoodie/DataSourceUtils.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 57a8b9cc8c6a1526bd9e2174321a5b675d716943
Author: vinothchandar <vinoth@apache.org>
Date:   Wed May 1 05:06:34 2019 -0700

    Making DataSource/DeltaStreamer use defaults for combining
    
     - Addresses issue where insert will combine and remove duplicates within batch
     - Setting default insert combining to false (write client default)
     - Set to true if filtering duplicates on insert/bulk_insert

 .../src/main/java/com/uber/hoodie/DataSourceUtils.java       | 12 ++++++++----
 .../main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala    |  7 ++-----
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java  |  4 ++--
 3 files changed, 12 insertions(+), 11 deletions(-)

commit ea20d4724813990c87159be0dd10b40f6ac71542
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Apr 18 15:21:52 2019 -0700

    Introduce config to control interval tree pruning
    
     - turned on by default
     - Minor code refactoring/restructuring

 .../com/uber/hoodie/config/HoodieIndexConfig.java  | 12 ++--
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  4 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  5 +-
 .../index/bloom/HoodieBloomIndexCheckFunction.java | 81 +++++++++++-----------
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |  9 +--
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |  9 ++-
 .../bloom/IntervalTreeBasedIndexFileFilter.java    | 24 +++----
 ...er.java => ListBasedGlobalIndexFileFilter.java} |  6 +-
 ...leFilter.java => ListBasedIndexFileFilter.java} |  6 +-
 9 files changed, 74 insertions(+), 82 deletions(-)

commit 7129dc5bb7dded620141c868cefd64ab18bac139
Author: Sivabalan Narayanan <sivabala>
Date:   Wed Nov 28 11:00:02 2018 -0800

    Improving Tag location using interval trees for index files
    
    Adding interface for index look up
    
    Adding index filtering implementations for global bloom index too

 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  85 ++++-----
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  18 +-
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |  60 +++----
 .../uber/hoodie/index/bloom/IndexFileFilter.java   |  38 +++++
 .../IntervalTreeBasedGlobalIndexFileFilter.java    |  68 ++++++++
 .../bloom/IntervalTreeBasedIndexFileFilter.java    |  82 +++++++++
 ...IndexLookupResult.java => KeyLookupResult.java} |  12 +-
 .../hoodie/index/bloom/KeyRangeLookupTree.java     | 156 +++++++++++++++++
 .../com/uber/hoodie/index/bloom/KeyRangeNode.java  | 153 +++++++++++++++++
 .../index/bloom/SimpleGlobalIndexFileFilter.java   |  53 ++++++
 .../hoodie/index/bloom/SimpleIndexFileFilter.java  |  65 +++++++
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   | 190 +++++++++++----------
 .../index/bloom/TestHoodieGlobalBloomIndex.java    |   8 +-
 .../hoodie/index/bloom/TestKeyRangeLookupTree.java | 176 +++++++++++++++++++
 14 files changed, 965 insertions(+), 199 deletions(-)

commit 461ce18bd1177a54ca737acab879361f680960d8
Author: Naoki Takezoe <takezoe@gmail.com>
Date:   Sat Apr 27 01:09:38 2019 +0900

    Fix to enable hoodie.datasource.read.incr.filters

 hoodie-spark/src/main/scala/com/uber/hoodie/IncrementalRelation.scala | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 26f24b6728343b2788125edf8de94a4800fd8c0e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Apr 19 11:21:45 2019 -0700

    Removing OLD MAGIC header since a) it's no longer used b) causes issues when the data actually has OLD MAGIC

 .../common/table/log/HoodieLogFileReader.java      | 39 ++---------
 .../hoodie/common/table/log/HoodieLogFormat.java   | 17 ++---
 .../common/table/log/HoodieLogFormatTest.java      | 79 +---------------------
 3 files changed, 10 insertions(+), 125 deletions(-)

commit 2f1e3e15fb5844edf406b03085309d2135f47177
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Apr 18 00:44:01 2019 -0700

    Revert "Read and apply schema for each log block from the metadata header instead of the latest schema"
    
    This reverts commit 9e7ce19b06c5b6235857e22dc039bb726b61f8ca.

 .../common/table/log/HoodieLogFileReader.java      |  9 +----
 .../common/table/log/HoodieLogFormatTest.java      | 45 ----------------------
 2 files changed, 2 insertions(+), 52 deletions(-)

commit 9ef51deb841765e85a1d1c8ab337677a687dfb66
Author: lyogev <lyogev@yotpo.com>
Date:   Thu Apr 11 15:14:53 2019 +0300

    Add empty payload class to support deletes via apache spark

 .../com/uber/hoodie/EmptyHoodieRecordPayload.java  | 48 ++++++++++++++++++++++
 .../src/test/scala/DataSourceDefaultsTest.scala    | 16 +++++++-
 2 files changed, 63 insertions(+), 1 deletion(-)

commit 243c58f77cfc875159a0ac568efb0e3dfff199a6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Apr 17 09:53:22 2019 -0700

    Move to apachehudi dockerhub repository & use openjdk docker containers

 .../docker-compose_hadoop284_hive233_spark231.yml      | 18 +++++++++---------
 docker/hoodie/hadoop/base/Dockerfile                   |  6 ++----
 docker/hoodie/hadoop/base/pom.xml                      |  4 ++--
 docker/hoodie/hadoop/datanode/Dockerfile               |  2 +-
 docker/hoodie/hadoop/datanode/pom.xml                  |  4 ++--
 docker/hoodie/hadoop/historyserver/Dockerfile          |  2 +-
 docker/hoodie/hadoop/historyserver/pom.xml             |  4 ++--
 docker/hoodie/hadoop/hive_base/Dockerfile              |  2 +-
 docker/hoodie/hadoop/hive_base/pom.xml                 |  4 ++--
 docker/hoodie/hadoop/namenode/Dockerfile               |  2 +-
 docker/hoodie/hadoop/namenode/pom.xml                  |  4 ++--
 docker/hoodie/hadoop/spark_base/Dockerfile             |  2 +-
 docker/hoodie/hadoop/spark_base/pom.xml                |  4 ++--
 docker/hoodie/hadoop/sparkadhoc/Dockerfile             |  2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml                |  4 ++--
 docker/hoodie/hadoop/sparkmaster/Dockerfile            |  2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml               |  4 ++--
 docker/hoodie/hadoop/sparkworker/Dockerfile            |  2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml               |  4 ++--
 19 files changed, 37 insertions(+), 39 deletions(-)

commit 36ef94004ec8443d980342e3b69ca729d105af4d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Apr 17 11:49:01 2019 -0700

    Fix Hive RT query failure in hoodie demo

 packaging/hoodie-hadoop-mr-bundle/pom.xml | 6 ++++++
 1 file changed, 6 insertions(+)

commit e35d24f31dc7a8d60bc63efc5ee5020880119dea
Author: Omkar Joshi <omkar@uber.com>
Date:   Tue Apr 16 18:35:25 2019 -0700

    Revert "Replacing Apache commons-lang3 object serializer with Kryo serializer"
    
    This reverts commit a6c45feb2c6d81c4cba5c0e345aca3d1e517c9d6.

 hoodie-common/pom.xml                              |   5 -
 .../common/table/log/block/HoodieDeleteBlock.java  |   2 +-
 .../hoodie/common/util/SerializationUtils.java     | 166 +++++++++++++++------
 .../common/util/collection/DiskBasedMap.java       |   4 +-
 .../common/util/collection/LazyFileIterable.java   |   5 +-
 .../hoodie/common/util/TestSerializationUtils.java |  70 ---------
 hoodie-utilities/pom.xml                           |   6 -
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |   7 -
 packaging/hoodie-hive-bundle/pom.xml               |   4 -
 packaging/hoodie-presto-bundle/pom.xml             |   4 -
 packaging/hoodie-spark-bundle/pom.xml              |   4 -
 11 files changed, 122 insertions(+), 155 deletions(-)

commit 9e7ce19b06c5b6235857e22dc039bb726b61f8ca
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Apr 16 12:47:09 2019 -0700

    Read and apply schema for each log block from the metadata header instead of the latest schema

 .../common/table/log/HoodieLogFileReader.java      |  9 ++++-
 .../common/table/log/HoodieLogFormatTest.java      | 45 ++++++++++++++++++++++
 2 files changed, 52 insertions(+), 2 deletions(-)

commit 83b6aa5e9163d9e5bc79ef45a950faed202a4ba6
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Thu Apr 11 17:39:13 2019 -0700

    Fix multiple issues when using build_local_docker_images for setting up the demo
    
    Details here - https://issues.apache.org/jira/browse/HUDI-98

 docker/hoodie/hadoop/base/Dockerfile       | 2 +-
 docker/hoodie/hadoop/spark_base/Dockerfile | 2 +-
 hoodie-utilities/pom.xml                   | 1 +
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 8 ++------
 4 files changed, 5 insertions(+), 8 deletions(-)

commit a8feee929394194922405bd12b330e40e9b710fe
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Apr 7 11:12:22 2019 -0700

    Performing commit archiving in batches to avoid keeping a huge chunk in memory

 .../com/uber/hoodie/config/HoodieCompactionConfig.java |  9 +++++++++
 .../java/com/uber/hoodie/config/HoodieWriteConfig.java |  5 +++++
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java     | 18 ++++++++++++++----
 3 files changed, 28 insertions(+), 4 deletions(-)

commit b07110b9fdb7d25c0cb737bef6fe0628fdfb147d
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Apr 9 10:06:22 2019 -0700

    Essential Hive packages missing in hoodie spark bundle

 packaging/hoodie-spark-bundle/pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 2577014617220abe3def503e931f811d238c1a10
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Apr 3 12:25:35 2019 -0700

    1. Minor changes to fix compaction 2. Adding 2 compaction policies

 .../uber/hoodie/config/HoodieHBaseIndexConfig.java |  6 ++
 .../io/compact/HoodieRealtimeTableCompactor.java   |  4 +
 .../BoundedPartitionAwareCompactionStrategy.java   | 71 ++++++++++++++++
 .../strategy/DayBasedCompactionStrategy.java       |  4 +-
 .../UnBoundedPartitionAwareCompactionStrategy.java | 63 ++++++++++++++
 .../io/strategy/TestHoodieCompactionStrategy.java  | 97 +++++++++++++++++++++-
 .../hoodie/common/model/HoodieCommitMetadata.java  |  8 +-
 7 files changed, 246 insertions(+), 7 deletions(-)

commit d1d33f725ecbef51cec05be805094b6bb1733c3e
Author: Jing Chen <milantracy@gmail.com>
Date:   Tue Apr 2 03:29:25 2019 -0700

    [HUDI-66] FSUtils.getRelativePartitionPath does not handle repeated folder names

 .../java/com/uber/hoodie/common/util/FSUtils.java  | 10 +++++++-
 .../com/uber/hoodie/common/util/TestFSUtils.java   | 29 ++++++++++++++++++++++
 2 files changed, 38 insertions(+), 1 deletion(-)

commit b34a204a527a156406908686e54484a0c3d8a3d7
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Mar 12 15:59:41 2019 -0700

    Fixing small file handling, inline compaction defaults
    
     - Small file limit is now 100MB by default
     - Turned on inline compaction by default for MOR
     - Changes take effect on DataSource and DeltaStreamer

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java       |  8 +++-----
 .../java/com/uber/hoodie/config/HoodieCompactionConfig.java    |  4 ++--
 .../src/main/java/com/uber/hoodie/DataSourceUtils.java         |  7 +++++++
 hoodie-spark/src/test/scala/DataSourceTest.scala               |  3 ++-
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java    | 10 ++++++++--
 5 files changed, 22 insertions(+), 10 deletions(-)

commit 51f490898913db5964c208c57ab14794b42fa44d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Mar 29 22:05:03 2019 -0700

    Follow up HUDI-27 : Call super.close() in HoodieWraperFileSystem::close()

 .../java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java     | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5847f0c934a8ce2ead96c8adc8c0259dda6b1283
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Mar 27 18:19:41 2019 -0700

    Fix HUDI-27 : Support num_cores > 1 for writing through spark
    
     - Users using spark.executor.cores > 1 used to fail due to "FileSystem closed"
     - This is due to HoodieWrapperFileSystem closing the wrapped filesytem obj
     - FileSystem.getInternal caching code races threads and closes the extra fs instance(s)
     - Bumped up num cores in tests to 8, speeds up tests by 3-4 mins

 .../com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java |  5 +++--
 .../java/com/uber/hoodie/common/HoodieClientTestUtils.java  | 13 +++++++++----
 2 files changed, 12 insertions(+), 6 deletions(-)

commit f1410bfdcde0745625d46b9f3f5e996eb368663f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Mar 26 14:31:19 2019 -0700

    Fixes HUDI-38: Reduce memory overhead of WriteStatus
    
     - For implicit indexes (e.g BloomIndex), don't buffer up written records
     - By default, only collect 10% of failing records to avoid OOMs
     - Improves debuggability via above, since data errors can now show up in collect()
     - Unit tests & fixing subclasses & adjusting tests

 .../src/main/java/com/uber/hoodie/WriteStatus.java | 29 +++++++++---
 .../com/uber/hoodie/config/HoodieMemoryConfig.java | 18 +++++++-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 13 +++---
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  4 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  2 +
 .../test/java/com/uber/hoodie/TestWriteStatus.java | 53 ++++++++++++++++++++++
 .../com/uber/hoodie/common/TestRawTripPayload.java |  4 ++
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  2 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 10 ++--
 9 files changed, 112 insertions(+), 23 deletions(-)

commit e56c1612e46ba831f45c1ce8ee9fc2694933e2d5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Mar 27 15:47:49 2019 -0700

    Fixed HUDI-87 : Remove schemastr from BaseAvroPayload

 .../src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java       | 5 ++++-
 .../src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java        | 3 +++
 hoodie-spark/src/main/java/com/uber/hoodie/BaseAvroPayload.java    | 7 -------
 3 files changed, 7 insertions(+), 8 deletions(-)

commit 372fbc4733824d6f61db7f4b7d5e289dc902e634
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Mar 26 18:52:33 2019 -0700

    Fixes HUDI-9 : Check precondition minInstantsToKeep > cleanerCommitsRetained
    
     - Added a precondition check, otherwise incr pull could miss commits
     - Lowered default cleaner retention to 10, to enable simpler understanding for newbies
     - Bumped down min/max instants to retain as well

 .../uber/hoodie/config/HoodieCompactionConfig.java | 33 ++++++++++++++--------
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  4 +--
 .../uber/hoodie/config/HoodieWriteConfigTest.java  |  5 ++--
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 10 +++----
 4 files changed, 31 insertions(+), 21 deletions(-)

commit 3d9041e2165bb0de0aaf71ad04cee16daa7d74b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Mar 22 16:27:51 2019 -0700

    Fixing source schema and writer schema distinction in payloads

 .../hoodie/func/CopyOnWriteLazyInsertIterable.java |  2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 13 ++++----
 .../com/uber/hoodie/io/HoodieCreateHandle.java     | 17 +++++++---
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    | 26 +++++++++++-----
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 22 ++++++++-----
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  2 +-
 .../hoodie/common/HoodieTestDataGenerator.java     | 36 ++++++++++++++++++++++
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 20 ++++++++++++
 .../hoodie/common/model/HoodieAvroPayload.java     |  3 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |  3 +-
 10 files changed, 114 insertions(+), 30 deletions(-)

commit 395806fc684d8f6c3fa1b6b0f29e601cb6f4bbd0
Author: ambition119 <1269223860@qq.com>
Date:   Wed Mar 20 12:25:51 2019 +0800

    [HUDI-63] Removed unused BucketedIndex code

 .../java/com/uber/hoodie/index/HoodieIndex.java    |   5 +-
 .../uber/hoodie/index/bucketed/BucketedIndex.java  | 115 ---------------------
 2 files changed, 1 insertion(+), 119 deletions(-)

commit 194d904c99ebd013af55eac7509e3e79193dce77
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Mar 21 09:03:36 2019 -0700

    run_hive_sync tool must be able to handle case where there are multiple standalone jdbc jars in hive installation dir

 hoodie-hive/run_sync_tool.sh | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a2a052abd9b8955817eb4438db68998ab83d81c1
Author: Jing Chen <milantracy@gmail.com>
Date:   Mon Mar 18 19:06:39 2019 -0700

    add a script that shuts down demo cluster gracefully

 docker/stop_demo.sh | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 9e59da7fd96d8af0587efa2f34c89f56320d4c91
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Feb 27 23:43:06 2019 -0800

    Refactor HoodieTable Rollback to write one rollback instant for a batch of commits to rollback

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 253 +++++++++++++--------
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  47 ++--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  41 ++--
 .../java/com/uber/hoodie/table/HoodieTable.java    |   2 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |   2 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  16 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |   2 +-
 hoodie-common/pom.xml                              |   1 +
 .../src/main/avro/HoodieRestoreMetadata.avsc       |  17 ++
 .../uber/hoodie/common/table/HoodieTimeline.java   |  11 +
 .../table/timeline/HoodieActiveTimeline.java       |  11 +-
 .../common/table/timeline/HoodieInstant.java       |   3 +
 .../com/uber/hoodie/common/util/AvroUtils.java     |  25 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  14 ++
 14 files changed, 279 insertions(+), 166 deletions(-)

commit 0dd4a90b0334d819fa8e080c5fae9ad21947156d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Jan 2 19:13:55 2019 -0800

    Enable multi/nested rollbacks for MOR table type

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 134 ++++++++++------
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  42 ++---
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  61 ++++++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 173 +++++++++++++++++++++
 .../uber/hoodie/common/table/HoodieTimeline.java   |   2 +-
 .../table/timeline/HoodieActiveTimeline.java       |   3 +-
 6 files changed, 341 insertions(+), 74 deletions(-)

commit a6c45feb2c6d81c4cba5c0e345aca3d1e517c9d6
Author: Omkar Joshi <omkar@uber.com>
Date:   Mon Mar 18 11:29:45 2019 -0700

    Replacing Apache commons-lang3 object serializer with Kryo serializer

 hoodie-common/pom.xml                              |   5 +
 .../common/table/log/block/HoodieDeleteBlock.java  |   2 +-
 .../hoodie/common/util/SerializationUtils.java     | 166 ++++++---------------
 .../common/util/collection/DiskBasedMap.java       |   4 +-
 .../common/util/collection/LazyFileIterable.java   |   5 +-
 .../hoodie/common/util/TestSerializationUtils.java |  70 +++++++++
 hoodie-utilities/pom.xml                           |   5 +
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |   5 +
 packaging/hoodie-hive-bundle/pom.xml               |   4 +
 packaging/hoodie-presto-bundle/pom.xml             |   4 +
 packaging/hoodie-spark-bundle/pom.xml              |   4 +
 11 files changed, 152 insertions(+), 122 deletions(-)

commit 48797b1ae1bf3ad08908d43e3fdc5824e3d79eee
Author: kaka11chen <kaka11.chen@gmail.com>
Date:   Sat Mar 16 01:52:41 2019 +0800

    Add compression codec configurations for HoodieParquetWriter.

 .../main/java/com/uber/hoodie/config/HoodieStorageConfig.java  | 10 ++++++++++
 .../main/java/com/uber/hoodie/config/HoodieWriteConfig.java    |  5 +++++
 .../com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java |  3 +--
 3 files changed, 16 insertions(+), 2 deletions(-)

commit 621f2b878d1bcd259d5c1361ef0ad686b5e5b5af
Author: smarthi <smarthi@apache.org>
Date:   Thu Mar 14 14:11:01 2019 -0400

    HUDI-75: Add KEYS

 KEYS | 68 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 68 insertions(+)

commit 57bbed21de888b4b58f20fe753630c231547a40d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Mar 14 17:23:36 2019 -0700

    Removing docs folder from master branch
    
     - Only asf-site branch contains the docs
     - Helps streamline doc contributions

 docs/.gitignore                                    |    4 -
 docs/404.md                                        |    6 -
 docs/CNAME                                         |    1 -
 docs/Dockerfile                                    |   26 -
 docs/Gemfile                                       |   10 -
 docs/Gemfile.lock                                  |  156 -
 docs/_config.yml                                   |   87 -
 docs/_data/alerts.yml                              |   15 -
 docs/_data/sidebars/mydoc_sidebar.yml              |   66 -
 docs/_data/strings.yml                             |    5 -
 docs/_data/tags.yml                                |   10 -
 docs/_data/topnav.yml                              |   30 -
 docs/_includes/archive.html                        |   15 -
 docs/_includes/callout.html                        |    1 -
 docs/_includes/custom/getting_started_series.html  |   19 -
 .../custom/getting_started_series_next.html        |   10 -
 docs/_includes/custom/series_acme.html             |   19 -
 docs/_includes/custom/series_acme_next.html        |   30 -
 docs/_includes/custom/sidebarconfigs.html          |   19 -
 docs/_includes/custom/usermap.html                 |   14 -
 docs/_includes/custom/usermapcomplex.html          |   91 -
 docs/_includes/disqus.html                         |   16 -
 docs/_includes/feedback.html                       |   13 -
 docs/_includes/footer.html                         |    9 -
 docs/_includes/google_analytics.html               |    6 -
 docs/_includes/head.html                           |   47 -
 docs/_includes/head_print.html                     |   33 -
 docs/_includes/image.html                          |    1 -
 docs/_includes/important.html                      |    1 -
 docs/_includes/initialize_shuffle.html             |  130 -
 docs/_includes/inline_image.html                   |    1 -
 docs/_includes/links.html                          |   44 -
 docs/_includes/note.html                           |    1 -
 docs/_includes/sidebar.html                        |   56 -
 docs/_includes/taglogic.html                       |   32 -
 docs/_includes/tip.html                            |    1 -
 docs/_includes/toc.html                            |   21 -
 docs/_includes/topnav.html                         |   75 -
 docs/_includes/warning.html                        |    1 -
 docs/_layouts/default.html                         |   80 -
 docs/_layouts/default_print.html                   |   25 -
 docs/_layouts/none.html                            |    3 -
 docs/_layouts/page.html                            |   70 -
 docs/_layouts/page_print.html                      |   15 -
 docs/_layouts/post.html                            |   41 -
 docs/_posts/2016-12-30-strata-talk-2017.md         |   11 -
 docs/admin_guide.md                                |  444 --
 docs/api_docs.md                                   |   10 -
 docs/code_and_design.md                            |   38 -
 docs/community.md                                  |   22 -
 docs/comparison.md                                 |   61 -
 docs/concepts.md                                   |  159 -
 docs/configurations.md                             |  203 -
 docs/css/bootstrap.min.css                         |    5 -
 docs/css/customstyles.css                          | 1181 ----
 docs/css/font-awesome.min.css                      |    4 -
 docs/css/fonts/FontAwesome.otf                     |  Bin 93888 -> 0 bytes
 docs/css/fonts/fontawesome-webfont.eot             |  Bin 60767 -> 0 bytes
 docs/css/fonts/fontawesome-webfont.svg             |  565 --
 docs/css/fonts/fontawesome-webfont.ttf             |  Bin 122092 -> 0 bytes
 docs/css/fonts/fontawesome-webfont.woff            |  Bin 71508 -> 0 bytes
 docs/css/fonts/fontawesome-webfont.woff2           |  Bin 56780 -> 0 bytes
 docs/css/lavish-bootstrap.css                      | 5898 --------------------
 docs/css/modern-business.css                       |   93 -
 docs/css/printstyles.css                           |  160 -
 docs/css/syntax.css                                |   60 -
 docs/css/theme-blue.css                            |  103 -
 docs/css/theme-green.css                           |   99 -
 docs/dev_setup.md                                  |   13 -
 docs/feed.xml                                      |   32 -
 docs/fonts/FontAwesome.otf                         |  Bin 85908 -> 0 bytes
 docs/fonts/fontawesome-webfont.eot                 |  Bin 56006 -> 0 bytes
 docs/fonts/fontawesome-webfont.svg                 |  520 --
 docs/fonts/fontawesome-webfont.ttf                 |  Bin 112160 -> 0 bytes
 docs/fonts/fontawesome-webfont.woff                |  Bin 65452 -> 0 bytes
 docs/fonts/glyphicons-halflings-regular.eot        |  Bin 20127 -> 0 bytes
 docs/fonts/glyphicons-halflings-regular.svg        |  288 -
 docs/fonts/glyphicons-halflings-regular.ttf        |  Bin 45404 -> 0 bytes
 docs/fonts/glyphicons-halflings-regular.woff       |  Bin 23424 -> 0 bytes
 docs/fonts/glyphicons-halflings-regular.woff2      |  Bin 18028 -> 0 bytes
 docs/gcs_filesystem.md                             |   62 -
 docs/images/androidsdkmanagericon.png              |  Bin 795 -> 0 bytes
 docs/images/async_compac_1.png                     |  Bin 60344 -> 0 bytes
 docs/images/async_compac_2.png                     |  Bin 54164 -> 0 bytes
 docs/images/async_compac_3.png                     |  Bin 70516 -> 0 bytes
 docs/images/async_compac_4.png                     |  Bin 66932 -> 0 bytes
 docs/images/authorizegithubscreen2.png             |  Bin 76388 -> 0 bytes
 docs/images/authorizeongithub.png                  |  Bin 22571 -> 0 bytes
 docs/images/company_logo.png                       |  Bin 3105 -> 0 bytes
 docs/images/company_logo_big.png                   |  Bin 9588 -> 0 bytes
 docs/images/favicon.ico                            |  Bin 1150 -> 0 bytes
 docs/images/helpapi-01.png                         |  Bin 91640 -> 0 bytes
 docs/images/helpapi.svg                            | 1661 ------
 docs/images/hoodie_commit_duration.png             |  Bin 869144 -> 0 bytes
 docs/images/hoodie_cow.png                         |  Bin 31136 -> 0 bytes
 docs/images/hoodie_intro_1.png                     |  Bin 23478 -> 0 bytes
 docs/images/hoodie_log_format_v2.png               |  Bin 223676 -> 0 bytes
 docs/images/hoodie_mor.png                         |  Bin 56002 -> 0 bytes
 docs/images/hoodie_query_perf_hive.png             |  Bin 158481 -> 0 bytes
 docs/images/hoodie_query_perf_presto.png           |  Bin 33727 -> 0 bytes
 docs/images/hoodie_query_perf_spark.png            |  Bin 29384 -> 0 bytes
 docs/images/hoodie_timeline.png                    |  Bin 23093 -> 0 bytes
 docs/images/hoodie_upsert_dag.png                  |  Bin 503771 -> 0 bytes
 docs/images/hoodie_upsert_perf1.png                |  Bin 15984 -> 0 bytes
 docs/images/hoodie_upsert_perf2.png                |  Bin 18954 -> 0 bytes
 docs/images/illustratoroptions.png                 |  Bin 118175 -> 0 bytes
 docs/images/itermexample.png                       |  Bin 68886 -> 0 bytes
 docs/images/jekyll.png                             |  Bin 5375 -> 0 bytes
 docs/images/killalljekyll.png                      |  Bin 66686 -> 0 bytes
 docs/images/liningup.png                           |  Bin 74728 -> 0 bytes
 docs/images/workflowarrow.png                      |  Bin 3595 -> 0 bytes
 docs/implementation.md                             |  275 -
 docs/incremental_processing.md                     |  237 -
 docs/index.md                                      |   26 -
 docs/js/customscripts.js                           |   55 -
 docs/js/jekyll-search.js                           |    1 -
 docs/js/jquery.ba-throttle-debounce.min.js         |    9 -
 docs/js/jquery.localScroll.min.js                  |    7 -
 docs/js/jquery.navgoco.min.js                      |    8 -
 docs/js/jquery.scrollTo.min.js                     |    7 -
 docs/js/jquery.shuffle.min.js                      | 1588 ------
 docs/js/mydoc_scroll.html                          |  240 -
 docs/js/toc.js                                     |   82 -
 docs/licenses/LICENSE                              |   21 -
 docs/licenses/LICENSE-BSD-NAVGOCO.txt              |   27 -
 docs/migration_guide.md                            |   71 -
 docs/pages/news/news.html                          |   32 -
 docs/pages/news/news_archive.html                  |   41 -
 docs/powered_by.md                                 |   40 -
 docs/quickstart.md                                 | 1248 -----
 docs/roadmap.md                                    |   14 -
 docs/s3_filesystem.md                              |   79 -
 docs/search.json                                   |   33 -
 docs/sitemap.xml                                   |   24 -
 docs/sql_queries.md                                |   68 -
 docs/use_cases.md                                  |   77 -
 136 files changed, 17358 deletions(-)

commit adc8cac74378c16f2508adbf16a6a51d241a3e35
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Mar 1 11:17:53 2019 -0800

    Fix hive sync (libfb version mismatch) and deltastreamer issue (missing cmdline argument) in demo

 docs/quickstart.md                     | 9 +++++----
 hoodie-hive/pom.xml                    | 2 +-
 packaging/hoodie-hive-bundle/pom.xml   | 7 ++++++-
 packaging/hoodie-presto-bundle/pom.xml | 2 +-
 pom.xml                                | 1 +
 5 files changed, 14 insertions(+), 7 deletions(-)

commit 3c647a99cf50a8148aeabc950d7d33dbc080e226
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Fri Mar 8 10:16:22 2019 -0800

    Fix quickstart documentation for querying via Presto

 docs/quickstart.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a8bec7ea58950c7450f5edec93e9dd00cef2972
Author: Omkar Joshi <omkar@uber.com>
Date:   Fri Mar 1 15:34:46 2019 -0800

    Handling duplicate record update for single partition (duplicates in single or different parquet files)

 .../java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java  | 13 ++++++-------
 .../src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java |  4 +++-
 .../java/com/uber/hoodie/common/model/HoodieRecord.java     |  6 ++++++
 3 files changed, 15 insertions(+), 8 deletions(-)

commit b514e1ab18415e3d369e3b836c14c7b1a9498cea
Author: kaka11chen <kaka11.chen@gmail.com>
Date:   Wed Mar 6 12:29:03 2019 +0800

    Fix avro doesn't have short and byte byte.

 .../src/main/scala/com/uber/hoodie/AvroConversionUtils.scala        | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 3ae6cb4ed5820d6407663ffa74c6d201feaa8b45
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Feb 12 21:29:14 2019 -0800

    FileSystem View must treat same fileIds present in different partitions as different file-groups and handle pending compaction correctly

 .../hoodie/cli/commands/FileSystemViewCommand.java |   2 +-
 .../com/uber/hoodie/CompactionAdminClient.java     |  27 ++--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   2 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |   9 +-
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   4 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  12 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |   2 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  11 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  15 +-
 .../com/uber/hoodie/TestCompactionAdminClient.java |   2 +-
 .../hoodie/common/model/CompactionOperation.java   |  19 +--
 .../com/uber/hoodie/common/model/FileSlice.java    |  23 ++-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  32 ++--
 .../hoodie/common/model/HoodieFileGroupId.java     |  69 +++++++++
 .../table/view/HoodieTableFileSystemView.java      |  55 ++++---
 .../uber/hoodie/common/util/CompactionUtils.java   |  19 ++-
 .../table/view/HoodieTableFileSystemViewTest.java  | 166 ++++++++++++++++++++-
 .../hoodie/common/util/CompactionTestUtils.java    |  14 +-
 .../hoodie/common/util/TestCompactionUtils.java    |  19 +--
 .../utilities/HoodieCompactionAdminTool.java       |   6 +-
 20 files changed, 388 insertions(+), 120 deletions(-)

commit 363df2c12e520c5e1a5afc14391154707650524b
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Feb 13 19:53:28 2019 -0800

    Upgrade various jar, gem versions for maintenance

 docs/Gemfile.lock   | 44 ++++++++++++++++++++++----------------------
 hoodie-hive/pom.xml |  2 +-
 pom.xml             | 11 +++--------
 3 files changed, 26 insertions(+), 31 deletions(-)

commit 687395e40f71f12f130640a9db048bea77a20d8c
Author: vinothchandar <vinoth@bytearray.io>
Date:   Wed Feb 27 07:16:27 2019 -0800

    [maven-release-plugin] prepare for next development iteration

 docker/hoodie/hadoop/base/pom.xml          | 2 +-
 docker/hoodie/hadoop/datanode/pom.xml      | 2 +-
 docker/hoodie/hadoop/historyserver/pom.xml | 2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 2 +-
 docker/hoodie/hadoop/namenode/pom.xml      | 2 +-
 docker/hoodie/hadoop/pom.xml               | 2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    | 2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   | 2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   | 2 +-
 hoodie-cli/pom.xml                         | 2 +-
 hoodie-client/pom.xml                      | 2 +-
 hoodie-common/pom.xml                      | 2 +-
 hoodie-hadoop-mr/pom.xml                   | 2 +-
 hoodie-hive/pom.xml                        | 2 +-
 hoodie-integ-test/pom.xml                  | 2 +-
 hoodie-spark/pom.xml                       | 2 +-
 hoodie-utilities/pom.xml                   | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  | 2 +-
 packaging/hoodie-hive-bundle/pom.xml       | 2 +-
 packaging/hoodie-presto-bundle/pom.xml     | 2 +-
 packaging/hoodie-spark-bundle/pom.xml      | 2 +-
 pom.xml                                    | 4 ++--
 23 files changed, 24 insertions(+), 24 deletions(-)

commit bbf40ef9878af05fc2f92d2382a582f52fc4f209
Author: vinothchandar <vinoth@bytearray.io>
Date:   Wed Feb 27 07:16:15 2019 -0800

    [maven-release-plugin] prepare release hoodie-0.4.5

 docker/hoodie/hadoop/base/pom.xml          |  2 +-
 docker/hoodie/hadoop/datanode/pom.xml      |  2 +-
 docker/hoodie/hadoop/historyserver/pom.xml |  2 +-
 docker/hoodie/hadoop/hive_base/pom.xml     | 14 +++++---------
 docker/hoodie/hadoop/namenode/pom.xml      |  2 +-
 docker/hoodie/hadoop/pom.xml               |  2 +-
 docker/hoodie/hadoop/spark_base/pom.xml    |  2 +-
 docker/hoodie/hadoop/sparkadhoc/pom.xml    |  2 +-
 docker/hoodie/hadoop/sparkmaster/pom.xml   |  2 +-
 docker/hoodie/hadoop/sparkworker/pom.xml   |  2 +-
 hoodie-cli/pom.xml                         |  2 +-
 hoodie-client/pom.xml                      |  2 +-
 hoodie-common/pom.xml                      |  2 +-
 hoodie-hadoop-mr/pom.xml                   |  2 +-
 hoodie-hive/pom.xml                        |  2 +-
 hoodie-integ-test/pom.xml                  |  5 ++---
 hoodie-spark/pom.xml                       |  2 +-
 hoodie-utilities/pom.xml                   |  2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml  |  2 +-
 packaging/hoodie-hive-bundle/pom.xml       |  2 +-
 packaging/hoodie-presto-bundle/pom.xml     |  2 +-
 packaging/hoodie-spark-bundle/pom.xml      |  2 +-
 pom.xml                                    |  4 ++--
 23 files changed, 29 insertions(+), 34 deletions(-)

commit 080b7d4d9b12baa93744744ec82facced847622a
Author: vinothchandar <vinoth@bytearray.io>
Date:   Wed Feb 27 06:46:22 2019 -0800

    Update RELEASE_NOTES for 0.4.5

 RELEASE_NOTES.md | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 60 insertions(+)

commit 75c7a2622bb65e09a9dac15ba4ed02f91c8dbb75
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Tue Feb 12 17:13:49 2019 -0800

    Create hoodie-presto bundle jar
    
    Exclude common dependencies that are available in Presto

 packaging/hoodie-presto-bundle/pom.xml             | 189 +++++++++++++++++++++
 .../java/com/uber/hoodie/presto/bundle/Main.java   |  36 ++++
 pom.xml                                            |   1 +
 3 files changed, 226 insertions(+)

commit 94eb6fd91948f92bc32d50e9011f10acc7744b4e
Merge: 639c287c 09f203d3
Author: n3nash <nagarwal@uber.com>
Date:   Wed Feb 20 16:32:57 2019 -0800

    Merge pull request #570 from yaooqinn/hiveJarSuffix
    
    typo: bundle jar with unrecognized variables

commit 639c287cab4876f3b5951e5bcd7d4e940f16223f
Author: Bhavani Sudha Saktheeswaran <bhasudha@uber.com>
Date:   Wed Feb 13 12:54:01 2019 -0800

    Close FSDataInputStream for meta file open in HoodiePartitionMetadata

 .../com/uber/hoodie/common/model/HoodiePartitionMetadata.java    | 9 +++++++--
 .../src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java  | 3 ++-
 2 files changed, 9 insertions(+), 3 deletions(-)

commit 8dddecf00f377f1e72a0e0119af97972bfd6059f
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   Thu Feb 14 16:50:46 2019 +0800

    handle no such element exception in HoodieSparkSqlWriter

 .../src/main/scala/com/uber/hoodie/HoodieSparkSqlWriter.scala |  7 +++----
 .../scala/com/uber/hoodie/HoodieSparkSqlWriterSuite.scala     | 11 +++++++++++
 2 files changed, 14 insertions(+), 4 deletions(-)

commit a16aa2a78fbe6c7d4ab784ea7d5431d2d73d8a86
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Feb 15 21:53:08 2019 -0800

    Create CNAME

 docs/CNAME | 1 +
 1 file changed, 1 insertion(+)

commit ef0d6f2218cd8604507e53e36b390e8f71ef698e
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Feb 15 21:28:39 2019 -0800

    Update site url in README

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 09f203d324d75aea1166b344ef9b5054fdb78380
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   Wed Feb 13 16:46:11 2019 +0800

    typo: bundle jar with unrecongnized variables

 packaging/hoodie-hadoop-mr-bundle/pom.xml | 2 +-
 packaging/hoodie-hive-bundle/pom.xml      | 2 +-
 packaging/hoodie-spark-bundle/pom.xml     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 8adaca34548ffdb89615dfbb4a2d44d8f71bff55
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Feb 5 16:54:31 2019 -0800

    Table rollback for inflight compactions MUST not delete instant files at any time to avoid race conditions

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  7 +--
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 26 ++++++++--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 14 ++---
 .../java/com/uber/hoodie/table/HoodieTable.java    |  4 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  | 60 ++++++++++++++++++++++
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  4 +-
 6 files changed, 97 insertions(+), 18 deletions(-)

commit defcf6a0b9d8894aa9efd1c9515c1d1d11512e60
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Feb 11 11:39:29 2019 -0800

    Fix Hoodie Record Reader to work with non-partitioned dataset

 .../hadoop/realtime/AbstractRealtimeRecordReader.java |  7 +++++--
 .../com/uber/hoodie/hadoop/InputFormatTestUtil.java   | 19 ++++++++++++++++---
 .../realtime/HoodieRealtimeRecordReaderTest.java      | 18 +++++++++++++++---
 3 files changed, 36 insertions(+), 8 deletions(-)

commit 3a0044216cb2f707639d48e2869f4ee6f25cfc19
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 10 10:31:34 2018 -0700

    New Features in DeltaStreamer :
     (1) Apply transformation when using delta-streamer to ingest data.
     (2) Add Hudi Incremental Source for Delta Streamer
     (3) Allow delta-streamer config-property to be passed as command-line
     (4) Add Hive Integration to Delta-Streamer and address Review comments
     (5) Ensure MultiPartKeysValueExtractor  handle hive style partition description
     (6) Reuse same spark session on both source and transformer
     (7) Support extracting partition fields from _hoodie_partition_path for HoodieIncrSource
     (8) Reuse Binary Avro coders
     (9) Add push down filter for Incremental source
     (10) Add Hoodie DeltaStreamer metrics to track total time taken

 docs/incremental_processing.md                     |   8 +-
 docs/quickstart.md                                 |   4 +-
 .../cli/commands/ArchivedCommitsCommand.java       |  88 ++++++++
 hoodie-client/pom.xml                              |  42 +---
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  16 +-
 .../main/java/com/uber/hoodie/metrics/Metrics.java |  16 ++
 .../hoodie/common/HoodieTestDataGenerator.java     |   5 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   3 +-
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |   3 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |   4 +-
 .../src/main/avro/HoodieCommitMetadata.avsc        |  42 ++--
 .../com/uber/hoodie/common/model/HoodieRecord.java |  10 +
 .../common/util/DFSPropertiesConfiguration.java    |  18 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  12 +-
 .../uber/hoodie/common/util/TypedProperties.java   |  10 +
 .../common/util/collection/TestDiskBasedMap.java   | 209 ++++++++++++++++++
 hoodie-hadoop-mr/pom.xml                           |  70 ++----
 hoodie-hive/pom.xml                                |  84 ++------
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  26 ++-
 .../hoodie/hive/MultiPartKeysValueExtractor.java   |  12 +-
 .../uber/hoodie/hive/PartitionValueExtractor.java  |   3 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |  11 +-
 hoodie-spark/pom.xml                               |  87 +++-----
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  40 ++++
 .../com/uber/hoodie/AvroConversionUtils.scala      | 206 +++++++++++++++++-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |   9 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |  37 +++-
 hoodie-spark/src/test/scala/DataSourceTest.scala   |   1 -
 hoodie-utilities/pom.xml                           | 138 +++++++-----
 .../com/uber/hoodie/utilities/HoodieCleaner.java   | 115 ++++++++++
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  33 ++-
 .../deltastreamer/HoodieDeltaStreamer.java         | 230 +++++++++++++++++---
 .../deltastreamer/HoodieDeltaStreamerMetrics.java  |  61 ++++++
 .../deltastreamer/SourceFormatAdapter.java         | 112 ++++++++++
 .../utilities/schema/RowBasedSchemaProvider.java   |  25 +++
 .../utilities/schema/SchemaRegistryProvider.java   |  28 ++-
 .../hoodie/utilities/sources/AvroDFSSource.java    |  26 ++-
 .../hoodie/utilities/sources/AvroKafkaSource.java  |  42 +++-
 .../uber/hoodie/utilities/sources/AvroSource.java  |  36 ++++
 .../utilities/sources/HiveIncrPullSource.java      |  25 ++-
 .../hoodie/utilities/sources/HoodieIncrSource.java | 144 +++++++++++++
 .../uber/hoodie/utilities/sources/InputBatch.java  |  54 +++++
 .../hoodie/utilities/sources/JsonDFSSource.java    |  28 ++-
 .../hoodie/utilities/sources/JsonKafkaSource.java  |  37 +++-
 .../uber/hoodie/utilities/sources/JsonSource.java  |  35 +++
 .../uber/hoodie/utilities/sources/RowSource.java   |  51 +++++
 .../com/uber/hoodie/utilities/sources/Source.java  |  55 +++--
 .../sources/{ => helpers}/AvroConvertor.java       |   6 +-
 .../DFSPathSelector.java}                          |  33 ++-
 .../sources/helpers/IncrSourceHelper.java          |  88 ++++++++
 .../KafkaOffsetGen.java}                           |  62 +++---
 .../utilities/transform/IdentityTransformer.java   |  37 ++++
 .../transform/SqlQueryBasedTransformer.java        |  66 ++++++
 .../hoodie/utilities/transform/Transformer.java    |  43 ++++
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  | 238 ++++++++++++++++++++-
 .../uber/hoodie/utilities/UtilitiesTestBase.java   |  60 ++++++
 .../hoodie/utilities/sources/TestDFSSource.java    |  53 +++--
 .../hoodie/utilities/sources/TestDataSource.java   |  16 +-
 .../hoodie/utilities/sources/TestKafkaSource.java  |  51 +++--
 .../sql-transformer.properties                     |  19 ++
 .../resources/delta-streamer-config/target.avsc    |  37 ++++
 packaging/hoodie-hadoop-mr-bundle/pom.xml          | 154 ++++---------
 packaging/hoodie-hive-bundle/pom.xml               |  89 ++------
 packaging/hoodie-spark-bundle/pom.xml              |  89 ++------
 pom.xml                                            | 157 +++++---------
 65 files changed, 2745 insertions(+), 904 deletions(-)

commit c70dbc13e94c8917967924bf7a8b950a085ad160
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Feb 6 13:50:16 2019 -0800

    Updating new slack signup link

 docs/community.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b55f0751fea7a10ac0d3520f8fba30e463981e6
Author: Kent Yao <yaooqinn@hotmail.com>
Date:   Tue Jan 29 10:01:25 2019 +0800

    Using immutable map instead of mutables to generate parameters

 hoodie-spark/pom.xml                               | 18 +++++++
 .../main/scala/com/uber/hoodie/DefaultSource.scala | 29 +++-------
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     | 62 ++++++++++------------
 .../uber/hoodie/HoodieSparkSqlWriterSuite.scala    | 41 ++++++++++++++
 4 files changed, 95 insertions(+), 55 deletions(-)

commit 7985eb72b5e5a71372196f2510db68982c6761aa
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Jan 22 13:04:15 2019 -0800

    Fixing behavior of Merge/CreateHandle for invalid/wrong schema records

 .../hoodie/func/CopyOnWriteLazyInsertIterable.java | 44 +++++++++++++---------
 .../hoodie/func/MergeOnReadLazyInsertIterable.java | 11 ++----
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  4 --
 .../com/uber/hoodie/io/HoodieCreateHandle.java     | 33 ++++++++--------
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    | 17 +++++++++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  5 ---
 .../hoodie/func/TestBoundedInMemoryExecutor.java   |  7 ++--
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java | 38 ++++++++++---------
 8 files changed, 86 insertions(+), 73 deletions(-)

commit 994d42d3079b347946c3888fa9962274b89888f1
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Dec 26 13:37:22 2018 -0800

    cleaner should now use commit timeline and not include deltacomits

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java | 10 +++++-----
 .../java/com/uber/hoodie/io/HoodieCommitArchiveLog.java  |  2 +-
 .../src/main/java/com/uber/hoodie/io/HoodieIOHandle.java |  2 +-
 .../com/uber/hoodie/table/HoodieCopyOnWriteTable.java    |  2 +-
 .../com/uber/hoodie/table/HoodieMergeOnReadTable.java    |  2 +-
 .../src/main/java/com/uber/hoodie/table/HoodieTable.java | 13 ++++++++++---
 .../test/java/com/uber/hoodie/TestAsyncCompaction.java   |  2 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java       |  6 +++---
 .../java/com/uber/hoodie/table/TestMergeOnReadTable.java | 16 ++++++++--------
 9 files changed, 31 insertions(+), 24 deletions(-)

commit 68723764ed276556b8bf1a1c3f2ea3d695586544
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Jan 15 13:51:47 2019 -0800

    Adding compaction to HoodieClient example

 hoodie-client/src/test/java/HoodieClientExample.java | 12 ++++++++++++
 1 file changed, 12 insertions(+)

commit 169e3f66bbdc2a8c4163e8966461b1d891e0ca11
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Dec 28 10:24:23 2018 -0800

    Filtering partition paths before performing a list status on all partitions

 .../uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java |  3 +++
 .../uber/hoodie/io/compact/strategy/CompactionStrategy.java  | 12 +++++++++++-
 .../io/compact/strategy/DayBasedCompactionStrategy.java      |  8 ++++++++
 3 files changed, 22 insertions(+), 1 deletion(-)

commit d1bb804577168107f347b10913538e13b180d004
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Jan 4 15:01:49 2019 -0800

    Passing a path filter to avoid including folders under .hoodie directory as partition paths

 .../src/main/java/com/uber/hoodie/common/util/FSUtils.java    | 11 ++++++++++-
 1 file changed, 10 insertions(+), 1 deletion(-)

commit 110df7190b9c414d25ab7f7012bcbb524db8b0b4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Dec 21 14:51:44 2018 -0800

    Enabling hard deletes for MergeOnRead table type

 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  7 ++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  4 +-
 .../hoodie/common/model/HoodieAvroPayload.java     |  9 ++++-
 .../table/log/AbstractHoodieLogRecordScanner.java  |  5 ++-
 .../table/log/HoodieMergedLogRecordScanner.java    | 13 +++---
 .../table/log/HoodieUnMergedLogRecordScanner.java  |  3 +-
 .../common/table/log/block/HoodieDeleteBlock.java  | 15 ++++---
 .../uber/hoodie/common/util/SpillableMapUtils.java | 11 +++++
 .../common/table/log/HoodieLogFormatTest.java      | 47 +++++++++++++++++-----
 .../realtime/RealtimeCompactedRecordReader.java    | 28 +++++++++----
 10 files changed, 103 insertions(+), 39 deletions(-)

commit 345aaa31aaefa3abd7bcd7ea038821da298ac6b4
Author: Manu Sridharan <msridhar@gmail.com>
Date:   Sun Dec 16 09:27:27 2018 -0800

    Add m2 directory to Travis cache

 .travis.yml | 3 +++
 1 file changed, 3 insertions(+)

commit 6946dd75576cecceffdeb0bf06299f483ddeb444
Author: arukavytsia <artem.rukavitsya@gmail.com>
Date:   Wed Dec 12 03:19:43 2018 +0200

    General enhancements

 .../com/uber/hoodie/cli/commands/StatsCommand.java |   5 +-
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |  42 ++---
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |  14 +-
 .../com/uber/hoodie/CompactionAdminClient.java     |  15 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  20 +-
 .../com/uber/hoodie/config/HoodieMemoryConfig.java |   5 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  10 +-
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java |   2 +-
 .../java/com/uber/hoodie/io/ConsistencyCheck.java  |   2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   4 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |   7 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  11 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   4 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   5 +-
 .../io/compact/strategy/CompactionStrategy.java    |   2 +-
 .../hoodie/io/storage/HoodieWrapperFileSystem.java |   9 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |   9 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  10 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 203 ++++++++++-----------
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  16 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |   2 +-
 .../uber/hoodie/common/storage/StorageSchemes.java |   5 +-
 .../hoodie/common/table/HoodieTableConfig.java     |  13 +-
 .../common/table/log/block/HoodieCorruptBlock.java |   2 +-
 .../table/view/HoodieTableFileSystemView.java      |  77 ++++----
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  18 +-
 .../uber/hoodie/common/util/ReflectionUtils.java   |   2 +-
 .../realtime/AbstractRealtimeRecordReader.java     |   6 +-
 .../com/uber/hoodie/AvroConversionUtils.scala      |   2 +-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |   2 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |   4 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   9 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |   8 +-
 .../keygen/TimestampBasedKeyGenerator.java         |   3 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |   5 +-
 .../utilities/schema/SchemaRegistryProvider.java   |   5 +-
 .../hoodie/utilities/sources/AvroConvertor.java    |   2 +-
 .../hoodie/utilities/sources/AvroKafkaSource.java  |   3 +-
 .../uber/hoodie/utilities/sources/DFSSource.java   |  18 +-
 .../utilities/sources/HiveIncrPullSource.java      |   4 +-
 .../hoodie/utilities/sources/JsonDFSSource.java    |   2 +-
 .../hoodie/utilities/sources/JsonKafkaSource.java  |   2 +-
 .../uber/hoodie/utilities/sources/KafkaSource.java |  54 +++---
 .../hoodie/utilities/sources/TestDataSource.java   |   2 +-
 pom.xml                                            |  28 ++-
 style/scalastyle-config.xml                        |  98 ++++++++++
 46 files changed, 400 insertions(+), 371 deletions(-)

commit 30c5f8b7bd051271de7f9012221c2a47d9f92ea9
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Dec 5 11:42:38 2018 -0800

    Ensure Hoodie works for non-partitioned Hive table

 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  2 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  2 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  4 +--
 .../table/view/HoodieTableFileSystemView.java      |  2 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 10 +++++-
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  2 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     | 18 +++++-----
 .../uber/hoodie/hive/NonPartitionedExtractor.java  | 31 ++++++++++++++++
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  3 +-
 .../com/uber/hoodie/integ/ITTestHoodieSanity.java  | 36 ++++++++++++++++---
 .../uber/hoodie/NonpartitionedKeyGenerator.java    | 41 ++++++++++++++++++++++
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     |  3 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      | 29 +++++++++++++--
 13 files changed, 157 insertions(+), 26 deletions(-)

commit 466ff73ffbbfcffd5b22763245098951575788e5
Author: xubo245 <xubo29@huawei.com>
Date:   Tue Dec 11 09:16:37 2018 +0800

    fix some spell errorin Hudi

 .../index/bloom/HoodieBloomIndexCheckFunction.java   | 20 ++++++++++----------
 .../io/strategy/TestHoodieCompactionStrategy.java    |  4 ++--
 .../hoodie/common/model/HoodieRecordLocation.java    |  2 +-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java   |  4 ++--
 .../src/test/scala/DataSourceDefaultsTest.scala      |  4 ++--
 5 files changed, 17 insertions(+), 17 deletions(-)

commit bf65219b730d99f98f78fa7cb3f016249a57fe49
Author: jiale.tan <jiale.tan@vungle.com>
Date:   Thu Oct 11 17:40:32 2018 -0700

    feat(SparkDataSource): add structured streaming

 .../com/uber/hoodie/AvroConversionUtils.scala      |   5 +-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |  22 ++
 .../main/scala/com/uber/hoodie/DefaultSource.scala | 232 ++---------------
 .../com/uber/hoodie/HoodieSparkSqlWriter.scala     | 266 ++++++++++++++++++++
 .../com/uber/hoodie/HoodieStreamingSink.scala      | 117 +++++++++
 .../src/test/java/HoodieJavaStreamingApp.java      | 279 +++++++++++++++++++++
 hoodie-spark/src/test/scala/DataSourceTest.scala   |  96 ++++++-
 7 files changed, 799 insertions(+), 218 deletions(-)

commit 7243ce40c93f60e8d3e47c2405dc92b4e38e1b10
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Nov 4 16:03:56 2018 -0800

    Serializing the complete payload object instead of serializing just the GenericRecord
    Removing Converter hierarchy as we now depend purely on JavaSerialization and require the payload to be java serializable

 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   6 +-
 .../hoodie/common/model/HoodieAvroPayload.java     |  12 +-
 .../table/log/HoodieMergedLogRecordScanner.java    |   3 -
 .../common/util/collection/DiskBasedMap.java       |  22 +--
 .../util/collection/ExternalSpillableMap.java      |  13 +-
 .../common/util/collection/LazyFileIterable.java   |  17 +-
 .../util/collection/converter/Converter.java       |  34 ----
 .../converter/HoodieRecordConverter.java           | 109 -----------
 .../util/collection/converter/StringConverter.java |  35 ----
 .../common/util/collection/TestDiskBasedMap.java   | 214 ---------------------
 .../util/collection/TestExternalSpillableMap.java  |  20 +-
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |  19 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |   3 +-
 .../src/test/scala/DataSourceDefaultsTest.scala    |   4 +-
 14 files changed, 53 insertions(+), 458 deletions(-)

commit e83dde3b9591d0ff52c453331e80a5d6ae91bb11
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Nov 26 23:17:32 2018 -0800

    Returning empty Statues for an empty spark partition caused due to incorrect bin packing

 .../java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java     | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 0015c9b00e46bde88089680e790a7fb3ad12e5ef
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Nov 30 16:21:20 2018 -0800

    Update committership for balaji

 pom.xml | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit f999e4960c9c5e901c3e44ebf716e3eaaa173522
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Nov 27 23:21:34 2018 -0800

    Avoid WriteStatus collect() call when committing batch

 .../java/com/uber/hoodie/HoodieWriteClient.java     | 21 ++++++++++++---------
 .../java/com/uber/hoodie/io/HoodieAppendHandle.java |  1 +
 .../java/com/uber/hoodie/io/HoodieCreateHandle.java |  1 +
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java  |  1 +
 .../java/com/uber/hoodie/metrics/HoodieMetrics.java |  2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java   | 10 +++++-----
 .../uber/hoodie/table/HoodieMergeOnReadTable.java   |  4 ++--
 .../java/com/uber/hoodie/table/HoodieTable.java     | 11 ++++++-----
 8 files changed, 29 insertions(+), 22 deletions(-)

commit fa65db9c4cd8ce1c71d46789c9bb8e0fb03de98a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Nov 27 16:54:46 2018 -0800

    Explicitly handle lack of append() support during LogWriting

 .../hoodie/io/storage/HoodieWrapperFileSystem.java | 19 +------
 .../uber/hoodie/common/storage/StorageSchemes.java | 66 ++++++++++++++++++++++
 .../common/table/log/HoodieLogFormatWriter.java    | 35 +++++++-----
 .../hoodie/common/storage/TestStorageSchemes.java  | 41 ++++++++++++++
 4 files changed, 130 insertions(+), 31 deletions(-)

commit d0fde474589aaf17bb840dbf86e2809eddc60e1d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Nov 13 15:42:36 2018 -0800

    Fixing number of insert buckets to be generated by rounding off to the closest greater integer

 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  2 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 48 ++++++++++++++--------
 2 files changed, 33 insertions(+), 17 deletions(-)

commit 1362942aa3dc69c7daecdd3f270d423f53890c6c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Nov 7 17:14:53 2018 -0800

    Enabling auto tuning of insert splits by default

 docs/configurations.md                                                  | 2 +-
 .../src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 25cd05b24e2f324b66873d812ecbc8fbd966ac6b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Oct 2 10:12:20 2018 -0700

    Useful Hudi CLI commands to debug/analyze production workloads

 .../cli/commands/ArchivedCommitsCommand.java       |  34 ++-
 .../hoodie/cli/commands/FileSystemViewCommand.java | 273 +++++++++++++++++++++
 .../uber/hoodie/cli/commands/RollbacksCommand.java | 130 ++++++++++
 .../table/view/HoodieTableFileSystemView.java      |   4 +
 4 files changed, 432 insertions(+), 9 deletions(-)

commit 07324e7a20fb40ed8179c47a1dc213e56d51c229
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Oct 3 10:39:10 2018 -0700

    Compaction validate, unschedule and repair

 docs/admin_guide.md                                |  80 ++-
 .../hoodie/cli/commands/CompactionCommand.java     | 287 ++++++++++-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  94 +++-
 .../com/uber/hoodie/CompactionAdminClient.java     | 546 +++++++++++++++++++++
 .../java/com/uber/hoodie/func/OperationResult.java |  77 +++
 .../com/uber/hoodie/TestCompactionAdminClient.java | 363 ++++++++++++++
 .../uber/hoodie/common/util/CompactionUtils.java   |  19 +-
 .../hoodie/common/util/CompactionTestUtils.java    | 207 ++++++++
 .../hoodie/common/util/TestCompactionUtils.java    | 160 +-----
 .../utilities/HoodieCompactionAdminTool.java       | 154 ++++++
 10 files changed, 1830 insertions(+), 157 deletions(-)

commit d904fe69ca003260f871ea4e099b1bd564951a70
Author: Xinli shang <shangx@uber.com>
Date:   Thu Oct 11 13:48:04 2018 -0700

    Fix addMetadataFields() to carry over 'props'

 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  8 ++-
 .../hoodie/common/util/TestHoodieAvroUtils.java    | 57 ++++++++++++++++++++++
 2 files changed, 64 insertions(+), 1 deletion(-)

commit 48aa026dc4887eaf78eacb8ceb428f8534c6d03b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Sep 25 16:04:50 2018 -0700

    Adding documentation for migration guide and COW vs MOR tradeoffs, moving some docs around for more clarity

 docs/_data/sidebars/mydoc_sidebar.yml | 12 ++++--
 docs/concepts.md                      | 55 ++++++++++++++++++---------
 docs/configurations.md                |  3 +-
 docs/incremental_processing.md        |  2 +-
 docs/migration_guide.md               | 71 +++++++++++++++++++++++++++++++++++
 docs/powered_by.md                    |  6 +++
 docs/quickstart.md                    | 26 ++++++++-----
 7 files changed, 143 insertions(+), 32 deletions(-)

commit 1628d044ac5b2197fd8a565961f68b3aa7936f67
Author: jiale.tan <jiale.tan@vungle.com>
Date:   Thu Oct 4 17:56:51 2018 -0700

    feat(SparkDataSource): add additional feature to drop later arriving dups

 .../hoodie/common/HoodieTestDataGenerator.java     |  10 ++
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  11 ++
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |   7 +
 .../main/scala/com/uber/hoodie/DefaultSource.scala | 169 ++++++++++++---------
 hoodie-spark/src/test/scala/DataSourceTest.scala   |  43 ++++++
 5 files changed, 170 insertions(+), 70 deletions(-)

commit 8485b9e2630a0619ad59ffb29739477b46d6a527
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Oct 11 11:35:32 2018 -0700

    Fix regression which broke HudiInputFormat handling of non-hoodie datasets

 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  3 ++-
 .../com/uber/hoodie/integ/ITTestHoodieSanity.java  | 30 ++++++++++++++++++++++
 2 files changed, 32 insertions(+), 1 deletion(-)

commit 1fca9b21cc020294dd65bcec542969b6145b3048
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Oct 3 18:02:09 2018 +0100

    Add --filter-dupes to DeltaStreamer
    
     - Optionally filter out duplicates before inserting data
     - Unit tests

 .../main/java/com/uber/hoodie/DataSourceUtils.java | 16 +++++++++++
 .../deltastreamer/HoodieDeltaStreamer.java         | 18 +++++++++++-
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  | 32 ++++++++++++++++++++++
 3 files changed, 65 insertions(+), 1 deletion(-)

commit 0a200c32e5043eca194c0dc287ba7114067c1851
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Tue Oct 2 10:30:39 2018 +0530

    Reflect new committership, id changes for devs

 pom.xml | 13 +++++++------
 1 file changed, 7 insertions(+), 6 deletions(-)

commit f3418e47181edfcbd2db778ad4c7af7312ec9c65
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Aug 21 22:54:57 2018 -0700

    Docker Container Build and Run setup with foundations for adding docker integration tests. Docker images built with Hadoop 2.8.4 Hive 2.3.3 and Spark 2.3.1 and published to docker-hub
    Look at quickstart document for how to setup docker and run demo

 docker/build_local_docker_images.sh                |   13 +
 .../docker-compose_hadoop284_hive233_spark231.yml  |  217 ++
 docker/compose/hadoop.env                          |   33 +
 docker/demo/config/base.properties                 |   21 +
 docker/demo/config/kafka-source.properties         |   29 +
 docker/demo/config/schema.avsc                     |   41 +
 docker/demo/config/spark-defaults.conf             |   26 +
 docker/demo/data/batch_1.json                      | 3482 ++++++++++++++++++++
 docker/demo/data/batch_2.json                      | 1668 ++++++++++
 docker/demo/setup_demo_container.sh                |    6 +
 docker/hoodie/hadoop/base/Dockerfile               |   45 +
 docker/hoodie/hadoop/base/entrypoint.sh            |   91 +
 docker/hoodie/hadoop/base/export_container_ip.sh   |   13 +
 docker/hoodie/hadoop/base/pom.xml                  |   90 +
 docker/hoodie/hadoop/datanode/Dockerfile           |   14 +
 docker/hoodie/hadoop/datanode/pom.xml              |   89 +
 docker/hoodie/hadoop/datanode/run_dn.sh            |    9 +
 docker/hoodie/hadoop/historyserver/Dockerfile      |   14 +
 docker/hoodie/hadoop/historyserver/pom.xml         |   89 +
 docker/hoodie/hadoop/historyserver/run_history.sh  |    3 +
 docker/hoodie/hadoop/hive_base/Dockerfile          |   51 +
 .../hive_base/conf/beeline-log4j2.properties       |   45 +
 docker/hoodie/hadoop/hive_base/conf/hive-env.sh    |   54 +
 .../hive_base/conf/hive-exec-log4j2.properties     |   66 +
 .../hadoop/hive_base/conf/hive-log4j2.properties   |   73 +
 docker/hoodie/hadoop/hive_base/conf/hive-site.xml  |   18 +
 .../hoodie/hadoop/hive_base/conf/ivysettings.xml   |   45 +
 .../hive_base/conf/llap-daemon-log4j2.properties   |   93 +
 docker/hoodie/hadoop/hive_base/entrypoint.sh       |  118 +
 docker/hoodie/hadoop/hive_base/pom.xml             |  113 +
 docker/hoodie/hadoop/hive_base/startup.sh          |   10 +
 docker/hoodie/hadoop/namenode/Dockerfile           |   14 +
 docker/hoodie/hadoop/namenode/pom.xml              |   89 +
 docker/hoodie/hadoop/namenode/run_nn.sh            |   19 +
 docker/hoodie/hadoop/pom.xml                       |   78 +
 docker/hoodie/hadoop/spark_base/Dockerfile         |   46 +
 docker/hoodie/hadoop/spark_base/execute-step.sh    |   14 +
 docker/hoodie/hadoop/spark_base/finish-step.sh     |   16 +
 docker/hoodie/hadoop/spark_base/pom.xml            |   89 +
 docker/hoodie/hadoop/spark_base/wait-for-step.sh   |   13 +
 docker/hoodie/hadoop/sparkadhoc/Dockerfile         |   12 +
 docker/hoodie/hadoop/sparkadhoc/adhoc.sh           |   13 +
 docker/hoodie/hadoop/sparkadhoc/pom.xml            |   89 +
 docker/hoodie/hadoop/sparkmaster/Dockerfile        |   14 +
 docker/hoodie/hadoop/sparkmaster/master.sh         |   16 +
 docker/hoodie/hadoop/sparkmaster/pom.xml           |   89 +
 docker/hoodie/hadoop/sparkworker/Dockerfile        |   14 +
 docker/hoodie/hadoop/sparkworker/pom.xml           |   89 +
 docker/hoodie/hadoop/sparkworker/worker.sh         |   16 +
 docker/setup_demo.sh                               |   16 +
 docs/quickstart.md                                 |  945 +++++-
 hoodie-hive/run_sync_tool.sh                       |    0
 .../hoodie/hive}/MultiPartKeysValueExtractor.java  |    3 +-
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |    1 -
 hoodie-integ-test/pom.xml                          |  212 ++
 .../java/com/uber/hoodie/integ/ITTestBase.java     |  178 +
 .../com/uber/hoodie/integ/ITTestHoodieSanity.java  |  139 +
 .../src/test/resources/log4j-surefire.properties   |   23 +
 hoodie-spark/pom.xml                               |   15 +
 hoodie-spark/run_hoodie_app.sh                     |    2 +-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |    2 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |   14 +-
 pom.xml                                            |    2 +
 63 files changed, 8952 insertions(+), 9 deletions(-)

commit 9710b5a3a63633a3487431219b6af16b8753598f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 28 21:41:28 2018 -0700

    Ensure Hoodie metadata folder and files are filtered out when constructing Parquet Data Source

 .../com/uber/hoodie/common/model/HoodieTestUtils.java     | 10 ++++++++++
 .../com/uber/hoodie/hadoop/HoodieROTablePathFilter.java   | 10 ++++++++++
 .../uber/hoodie/hadoop/TestHoodieROTablePathFilter.java   | 15 +++++++++++++++
 3 files changed, 35 insertions(+)

commit 06bdba3cef187d4b7ca906dc7012b880bbc7fe93
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sat Sep 29 20:50:03 2018 +0530

    Update Gemfile.lock with newer jekyll version

 docs/Gemfile.lock | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit b5a75fdd910e907f308c5a404a722baf98db825d
Author: vinothchandar <vinoth@bytearray.io>
Date:   Sat Sep 29 20:14:35 2018 +0530

    Adding Jiale & Anbu to contributors list

 pom.xml | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 98fd97b65fdf136212fd16366c7ae2af48c86bd6
Author: jiale.tan <jiale.tan@vungle.com>
Date:   Mon Aug 13 17:35:21 2018 -0700

    feature(HoodieGlobalBloomIndex): adds a new type of bloom index to allow global record key lookup

 .../java/com/uber/hoodie/index/HoodieIndex.java    |   5 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |   9 +-
 .../hoodie/index/bloom/HoodieGlobalBloomIndex.java | 110 ++++++++
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   2 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  76 ++++-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  98 ++-----
 .../index/bloom/TestHoodieGlobalBloomIndex.java    | 308 +++++++++++++++++++++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   4 +
 8 files changed, 531 insertions(+), 81 deletions(-)

commit 7ba842c0fe2d3ccc5f0e3f9a644a9561b6011a0e
Author: vinothchandar <vinoth@bytearray.io>
Date:   Fri Sep 28 11:27:00 2018 +0530

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml                        | 2 +-
 hoodie-client/pom.xml                     | 2 +-
 hoodie-common/pom.xml                     | 2 +-
 hoodie-hadoop-mr/pom.xml                  | 2 +-
 hoodie-hive/pom.xml                       | 2 +-
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 2 +-
 packaging/hoodie-hive-bundle/pom.xml      | 2 +-
 packaging/hoodie-spark-bundle/pom.xml     | 2 +-
 pom.xml                                   | 4 ++--
 11 files changed, 12 insertions(+), 12 deletions(-)

commit 5847b61f443d81301158ce38fbd9925b7a507932
Author: vinothchandar <vinoth@bytearray.io>
Date:   Fri Sep 28 11:26:15 2018 +0530

    [maven-release-plugin] prepare release hoodie-0.4.4

 hoodie-cli/pom.xml                        | 2 +-
 hoodie-client/pom.xml                     | 2 +-
 hoodie-common/pom.xml                     | 2 +-
 hoodie-hadoop-mr/pom.xml                  | 2 +-
 hoodie-hive/pom.xml                       | 2 +-
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 4 ++--
 packaging/hoodie-hive-bundle/pom.xml      | 4 ++--
 packaging/hoodie-spark-bundle/pom.xml     | 4 ++--
 pom.xml                                   | 4 ++--
 11 files changed, 15 insertions(+), 15 deletions(-)

commit 05bf14a42ef4059f0de2fe20670d601dbcdeeeb1
Author: vinothchandar <vinoth@bytearray.io>
Date:   Fri Sep 28 11:03:08 2018 +0530

    Update RELEASE_NOTES for release 0.4.4

 RELEASE_NOTES.md | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 9ca6f91e97d542eebf91756c3c78fa20f41d4247
Author: vinothchandar <vinoth@bytearray.io>
Date:   Thu Sep 20 17:50:27 2018 +0530

    Perform consistency checks during write finalize
    
     - Check to ensure written files are listable on storage
     - Docs reflected to capture how this helps with s3 storage
     - Unit tests added, corrections to existing tests
     - Fix DeltaStreamer to manage archived commits in a separate folder

 docs/configurations.md                             |   2 +
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  51 +++++-----
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  13 +++
 .../java/com/uber/hoodie/io/ConsistencyCheck.java  | 112 +++++++++++++++++++++
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  67 ++++++------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |   8 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  33 ++++--
 .../src/test/java/com/uber/hoodie/TestCleaner.java |   7 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |   2 +
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  39 +++++++
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |   5 +-
 .../com/uber/hoodie/io/TestConsistencyCheck.java   |  91 +++++++++++++++++
 .../hoodie/common/table/HoodieTableMetaClient.java |  14 +++
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  11 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |  12 +--
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  |   1 +
 pom.xml                                            |   2 +-
 17 files changed, 379 insertions(+), 91 deletions(-)

commit 4c74dd4cad147a3e7780bf6d99585db199d027c9
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 21 17:09:51 2018 -0700

    Travis CI tests needs to be run in quieter mode (WARN log level) to avoid max log-size errors

 .travis.yml                                         |  4 ++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 .../test/resources/log4j-surefire-quiet.properties  | 21 +++++++++++++++++++++
 pom.xml                                             | 14 +++++++++++++-
 9 files changed, 164 insertions(+), 1 deletion(-)

commit faf93b6340388ec5b2558a950e5fd4582be068b1
Author: Yishuang Lu <luystu@gmail.com>
Date:   Sun Sep 23 17:23:35 2018 -0700

    Fix the name of avro schema file in Test
    
    Fixed the name of avro schema file in Test
    
    Signed-off-by: Yishuang Lu <luystu@gmail.com>

 .../src/test/java/com/uber/hoodie/common/util/SchemaTestUtil.java   | 6 +++---
 .../{complex-test-evolved.avro => complex-test-evolved.avsc}        | 0
 .../{simple-test-evolved.avro => simple-test-evolved.avsc}          | 0
 .../src/test/resources/{simple-test.avro => simple-test.avsc}       | 0
 .../src/test/java/com/uber/hoodie/hadoop/HoodieInputFormatTest.java | 2 +-
 hoodie-hadoop-mr/src/test/resources/{sample1.avro => sample1.avsc}  | 0
 pom.xml                                                             | 2 +-
 7 files changed, 5 insertions(+), 5 deletions(-)

commit 460e24e84bad37a51602b0de6b49962e05d18106
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sun Sep 16 08:06:30 2018 -0700

    Hive Sync handling must work for datasets with multi-partition keys

 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  | 14 ++++++
 .../com/uber/hoodie/hive/HoodieHiveClient.java     | 51 ++++++++++------------
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     | 31 +++++++++++++
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  4 ++
 .../hive/util/MultiPartKeysValueExtractor.java     | 33 ++++++++++++++
 5 files changed, 106 insertions(+), 27 deletions(-)

commit 5cb28e7b1ff09149ca88fc761d0e19369c6c3505
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed Sep 19 13:13:04 2018 -0700

    Explicitly release resources in LogFileReader and TestHoodieClientBase

 .../cli/commands/ArchivedCommitsCommand.java       |  1 +
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  2 ++
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |  5 +++
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  5 +++
 .../java/com/uber/hoodie/TestClientRollback.java   |  6 ++++
 .../java/com/uber/hoodie/TestHoodieClientBase.java | 36 ++++++++++++++++++++--
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  6 ++++
 .../java/com/uber/hoodie/TestHoodieReadClient.java |  6 ++++
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  1 +
 .../table/log/AbstractHoodieLogRecordScanner.java  | 13 +++++++-
 .../common/table/log/HoodieLogFileReader.java      | 10 ++++--
 .../common/table/log/HoodieLogFormatReader.java    | 23 ++++++++++++++
 .../common/table/log/HoodieLogFormatTest.java      | 10 +++++-
 .../realtime/AbstractRealtimeRecordReader.java     |  1 +
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  1 +
 15 files changed, 119 insertions(+), 7 deletions(-)

commit 2728f9650531f6ee472c0832e0d9a2202b6c90b3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 17 00:25:24 2018 -0700

    Add dummy classes to dump all classes loaded as part of packaging modules to ensure javadoc and sources jars are getting created

 .../uber/hoodie/common/util/ReflectionUtils.java   | 17 ++++++++++
 packaging/hoodie-hadoop-mr-bundle/pom.xml          |  1 -
 .../java/com/uber/hoodie/hadoop/bundle/Main.java   | 36 ++++++++++++++++++++++
 .../java/com/uber/hoodie/hive/bundle/Main.java     | 36 ++++++++++++++++++++++
 .../java/com/uber/hoodie/spark/bundle/Main.java    | 36 ++++++++++++++++++++++
 5 files changed, 125 insertions(+), 1 deletion(-)

commit f44bcc5b0312aa254f5bb89af0be5704501d9ae1
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Sep 14 12:51:27 2018 +0530

    Fix bug with incrementally pulling older data

 .../main/scala/com/uber/hoodie/IncrementalRelation.scala |  4 ++++
 hoodie-spark/src/test/scala/DataSourceTest.scala         | 16 ++++++++++++++--
 2 files changed, 18 insertions(+), 2 deletions(-)

commit bd5af89f121d80e78872e23566a762f572f1448b
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Sep 13 15:01:53 2018 +0530

    [maven-release-plugin] rollback the release of hoodie-0.4.4

 hoodie-cli/pom.xml                        | 2 +-
 hoodie-client/pom.xml                     | 2 +-
 hoodie-common/pom.xml                     | 2 +-
 hoodie-hadoop-mr/pom.xml                  | 2 +-
 hoodie-hive/pom.xml                       | 2 +-
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 4 ++--
 packaging/hoodie-hive-bundle/pom.xml      | 4 ++--
 packaging/hoodie-spark-bundle/pom.xml     | 4 ++--
 pom.xml                                   | 2 +-
 11 files changed, 14 insertions(+), 14 deletions(-)

commit d1cc864a4349889953546dd95461ca90f07e4d62
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Sep 12 23:59:47 2018 +0530

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml                        | 2 +-
 hoodie-client/pom.xml                     | 2 +-
 hoodie-common/pom.xml                     | 2 +-
 hoodie-hadoop-mr/pom.xml                  | 2 +-
 hoodie-hive/pom.xml                       | 2 +-
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 2 +-
 packaging/hoodie-hive-bundle/pom.xml      | 2 +-
 packaging/hoodie-spark-bundle/pom.xml     | 2 +-
 pom.xml                                   | 4 ++--
 11 files changed, 12 insertions(+), 12 deletions(-)

commit b748bc836d407f92b72e29308191567a10655c91
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Sep 12 23:59:34 2018 +0530

    [maven-release-plugin] prepare release hoodie-0.4.4

 hoodie-cli/pom.xml                        | 2 +-
 hoodie-client/pom.xml                     | 2 +-
 hoodie-common/pom.xml                     | 2 +-
 hoodie-hadoop-mr/pom.xml                  | 2 +-
 hoodie-hive/pom.xml                       | 2 +-
 hoodie-spark/pom.xml                      | 2 +-
 hoodie-utilities/pom.xml                  | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml | 4 ++--
 packaging/hoodie-hive-bundle/pom.xml      | 4 ++--
 packaging/hoodie-spark-bundle/pom.xml     | 4 ++--
 pom.xml                                   | 4 ++--
 11 files changed, 15 insertions(+), 15 deletions(-)

commit 0b1a949a872d3fec4bba969f8106cd316827a613
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Sep 12 23:38:00 2018 +0530

    Release notes for 0.4.4

 RELEASE_NOTES.md | 28 ++++++++++++++++++++++++++++
 1 file changed, 28 insertions(+)

commit cce88b36d2861da21ddc719f1228be7e5e5d34e4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 10 16:06:31 2018 -0700

    Use spark Master from environment if set

 hoodie-cli/src/main/java/com/uber/hoodie/cli/utils/SparkUtil.java | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 605af8a82f2cb0c5ea92ba4a12d0684571a17599
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Sep 10 10:59:59 2018 -0700

    Reduce minimum delta-commits required for compaction

 .../src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 18a39715c9796be40be93759a47d7cefc2cd4417
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Sep 7 18:30:49 2018 -0700

    Bump up versions in packaging modules and remove commons-lang3 dep

 .../src/main/scala/com/uber/hoodie/DefaultSource.scala        |  1 +
 hoodie-spark/src/test/scala/DataSourceTest.scala              | 11 ++---------
 packaging/hoodie-hadoop-mr-bundle/pom.xml                     |  8 +-------
 packaging/hoodie-hive-bundle/pom.xml                          |  2 +-
 packaging/hoodie-spark-bundle/pom.xml                         |  6 +-----
 5 files changed, 6 insertions(+), 22 deletions(-)

commit eca49a255e9f291010c2a00424d49087ea22dd59
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sat Sep 8 03:52:49 2018 +0800

    Rebasing and fixing conflicts against master

 hoodie-client/src/main/java/com/uber/hoodie/HoodieReadClient.java    | 2 +-
 .../src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java          | 4 ++--
 .../src/main/java/com/uber/hoodie/io/HoodieCommitArchiveLog.java     | 3 +--
 .../src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java  | 4 ++--
 hoodie-client/src/main/java/com/uber/hoodie/table/WorkloadStat.java  | 2 +-
 .../com/uber/hoodie/io/strategy/TestHoodieCompactionStrategy.java    | 2 +-
 hoodie-hadoop-mr/pom.xml                                             | 4 ----
 .../uber/hoodie/hadoop/realtime/AbstractRealtimeRecordReader.java    | 2 +-
 .../java/com/uber/hoodie/hadoop/TestRecordReaderValueIterator.java   | 2 +-
 hoodie-hive/src/main/java/com/uber/hoodie/hive/HoodieHiveClient.java | 2 +-
 packaging/hoodie-hadoop-mr-bundle/pom.xml                            | 5 +++++
 packaging/hoodie-hive-bundle/pom.xml                                 | 4 ++++
 packaging/hoodie-spark-bundle/pom.xml                                | 1 +
 13 files changed, 21 insertions(+), 16 deletions(-)

commit a5359662be5741bde6eb851e090b7678b1867843
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Jul 15 22:34:02 2018 -0700

    Moving depedencies off cdh to apache + Hive2 support
    
     - Tests redone in the process
     - Main changes are to RealtimeRecordReader and how it treats maps/arrays
     - Make hive sync work with Hive 1/2 and CDH environments
     - Fixes to make corner cases for Hive queries
     - Spark Hive integration - Working version across Apache and CDH versions
     - Known Issue - https://github.com/uber/hudi/issues/439

 docs/quickstart.md                                 |  63 +++-
 docs/sql_queries.md                                |   6 +-
 hoodie-cli/pom.xml                                 |  18 ++
 hoodie-client/pom.xml                              |  48 ++-
 hoodie-common/pom.xml                              |   8 +
 .../hoodie/common/model/HoodieCommitMetadata.java  |   9 +
 .../common/table/log/HoodieLogFormatReader.java    |   2 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  24 +-
 hoodie-hadoop-mr/pom.xml                           |  99 ++++--
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  74 -----
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |   2 +-
 .../realtime/AbstractRealtimeRecordReader.java     | 112 ++++++-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  22 +-
 .../realtime/RealtimeCompactedRecordReader.java    |  11 +-
 .../hadoop/TestRecordReaderValueIterator.java      |  14 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   9 +-
 hoodie-hive/pom.xml                                | 139 +++++----
 hoodie-hive/run_sync_tool.sh                       |  39 +++
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  16 +
 .../com/uber/hoodie/hive/HoodieHiveClient.java     | 101 +++++-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  31 +-
 hoodie-spark/pom.xml                               |  75 ++++-
 hoodie-spark/run_hoodie_app.sh                     |  24 ++
 .../main/java/com/uber/hoodie/DataSourceUtils.java |   9 +-
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |  25 ++
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  49 ++-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |  84 +++--
 hoodie-utilities/pom.xml                           |  81 +++--
 packaging/hoodie-hadoop-mr-bundle/pom.xml          | 299 ++++++++++++++++++
 packaging/hoodie-hive-bundle/pom.xml               | 263 ++++++++++++++++
 packaging/hoodie-spark-bundle/pom.xml              | 345 +++++++++++++++++++++
 pom.xml                                            | 291 ++++++++++-------
 32 files changed, 1984 insertions(+), 408 deletions(-)

commit 2b1af18941224344194abe6e43ac77e2a7340a39
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sat Sep 8 12:26:54 2018 -0700

    Adding check for rolling stats not present to handle backwards compatibility of existing timeline

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java      |  9 ++++++---
 .../java/com/uber/hoodie/table/HoodieMergeOnReadTable.java    | 11 +++++++----
 .../test/java/com/uber/hoodie/table/TestMergeOnReadTable.java | 11 +++++++++--
 3 files changed, 22 insertions(+), 9 deletions(-)

commit ea7823a9dda531e13a8e72c540dd6c520c1e7da6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Sep 6 00:49:38 2018 -0700

    Docs for describing async compaction and how to operate it

 docs/admin_guide.md            | 149 +++++++++++++++++++++++++++++++++-
 docs/concepts.md               |  17 ++++
 docs/images/async_compac_1.png | Bin 0 -> 60344 bytes
 docs/images/async_compac_2.png | Bin 0 -> 54164 bytes
 docs/images/async_compac_3.png | Bin 0 -> 70516 bytes
 docs/images/async_compac_4.png | Bin 0 -> 66932 bytes
 docs/implementation.md         | 180 +++++++++++++++++++++++++++++++++++++++--
 7 files changed, 339 insertions(+), 7 deletions(-)

commit d58ddbd999ab111e4cbb8f2b75efc7bba5160019
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sat Aug 4 03:35:30 2018 -0700

    Reworking the deltastreamer tool
    
     - Standardize version of jackson
     - DFSPropertiesConfiguration replaces usage of commons PropertiesConfiguration
     - Remove dependency on ConstructorUtils
     - Throw error if ordering value is not present, during key generation
     - Switch to shade plugin for hoodie-utilities
     - Added support for consumption for Confluent avro kafka serdes
     - Support for Confluent schema registry
     - KafkaSource now deals with skews nicely, by doing round robin allocation of source limit across partitions
     - Added support for BULK_INSERT operations as well
     - Pass in the payload class config properly into HoodieWriteClient
     - Fix documentation based on new usage
     - Adding tests on deltastreamer, sources and all new util classes.

 docs/comparison.md                                 |   2 +-
 docs/incremental_processing.md                     | 183 ++++++++--------
 .../cli/commands/HDFSParquetImportCommand.java     |   8 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  11 +-
 hoodie-common/pom.xml                              |   1 +
 .../common/util/DFSPropertiesConfiguration.java    | 102 +++++++++
 .../uber/hoodie/common/util/ReflectionUtils.java   |  53 +++--
 .../uber/hoodie/common/util/TypedProperties.java   |  87 ++++++++
 .../util/TestDFSPropertiesConfiguration.java       | 138 ++++++++++++
 hoodie-spark/pom.xml                               |   5 +-
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |   4 +
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  17 +-
 .../main/java/com/uber/hoodie/KeyGenerator.java    |   6 +-
 .../java/com/uber/hoodie/SimpleKeyGenerator.java   |  25 ++-
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  12 +-
 .../src/test/scala/DataSourceDefaultsTest.scala    |  32 +--
 hoodie-utilities/pom.xml                           | 122 +++++++----
 hoodie-utilities/src/assembly/src.xml              |  50 -----
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  21 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |   9 +-
 .../com/uber/hoodie/utilities/HoodieCompactor.java |   5 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  78 +++----
 .../deltastreamer/HoodieDeltaStreamer.java         | 239 ++++++---------------
 .../keygen/TimestampBasedKeyGenerator.java         |   4 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |  43 ++--
 .../hoodie/utilities/schema/SchemaProvider.java    |  17 +-
 .../utilities/schema/SchemaRegistryProvider.java   |  71 ++++++
 .../hoodie/utilities/sources/AvroConvertor.java    |   6 +-
 .../hoodie/utilities/sources/AvroDFSSource.java    |  47 ++++
 .../hoodie/utilities/sources/AvroKafkaSource.java  |  47 ++++
 .../uber/hoodie/utilities/sources/DFSSource.java   |  66 ++----
 .../utilities/sources/HiveIncrPullSource.java      |  32 +--
 .../{SourceDataFormat.java => JsonDFSSource.java}  |  23 +-
 .../hoodie/utilities/sources/JsonKafkaSource.java  |  45 ++++
 .../uber/hoodie/utilities/sources/KafkaSource.java | 158 +++++++-------
 .../com/uber/hoodie/utilities/sources/Source.java  |  23 +-
 .../delta-streamer-config/key-generator.properties |  19 --
 .../resources/delta-streamer-config/target.avsc    |  29 ---
 .../hoodie/utilities/TestHoodieDeltaStreamer.java  | 162 ++++++++++++++
 .../uber/hoodie/utilities/UtilitiesTestBase.java   | 137 ++++++++++++
 .../hoodie/utilities/sources/TestDFSSource.java    | 104 +++++++++
 .../hoodie/utilities/sources/TestDataSource.java   |  99 +++++++++
 .../hoodie/utilities/sources/TestKafkaSource.java  | 186 ++++++++++++++++
 .../resources/IncrementalPull.sqltemplate          |   0
 .../delta-streamer-config/base.properties}         |   3 +
 .../delta-streamer-config/dfs-source.properties}   |  13 +-
 .../delta-streamer-config/kafka-source.properties} |  13 +-
 .../resources/delta-streamer-config/source.avsc    |   6 +-
 pom.xml                                            |  86 +++++++-
 49 files changed, 1907 insertions(+), 742 deletions(-)

commit fb95dbdedbfa5b153b24fb91eaec25437c7e87c8
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Sep 6 10:24:32 2018 -0700

    CLI to create and desc hoodie table

 .../hoodie/cli/commands/CompactionCommand.java     |  7 +++
 .../uber/hoodie/cli/commands/DatasetsCommand.java  | 71 ++++++++++++++++++++++
 .../hoodie/common/table/HoodieTableConfig.java     |  7 +++
 3 files changed, 85 insertions(+)

commit 0fe92dee558631873c01c22f254f59af57120282
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Sep 7 00:17:49 2018 -0700

    Fix a failing test case intermittenly in TestMergeOnRead due to incorrect prev commit time

 hoodie-client/src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java   | 1 -
 .../src/test/java/com/uber/hoodie/table/TestMergeOnReadTable.java        | 1 +
 2 files changed, 1 insertion(+), 1 deletion(-)

commit e2dee68ccd49d634cfcffa250338a015619d33a1
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Sep 6 12:02:09 2018 -0700

    Simplify and fix CLI to schedule and run compactions

 hoodie-cli/hoodie-cli.sh                           |  2 +-
 .../hoodie/cli/commands/CompactionCommand.java     | 34 +++++++++-------------
 .../com/uber/hoodie/cli/commands/SparkMain.java    | 20 ++++++-------
 .../com/uber/hoodie/utilities/HoodieCompactor.java | 11 ++-----
 4 files changed, 27 insertions(+), 40 deletions(-)

commit fad4b513ea9a0bb816ad68f2bb22982d1789fb8a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Sep 6 08:54:32 2018 +0800

    Update Gemfile.lock with higher ffi version

 docs/Gemfile.lock | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 459e523d9e33d01db206d525ebacc6d78c876b79
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Jun 11 20:27:56 2018 -0700

    1. Small file size handling for inserts into log files. In summary, the total size of the log file is compared with the parquet max file size and if there is scope to add inserts the add it.

 .../uber/hoodie/cli/commands/CommitsCommand.java   |   9 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |   3 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   3 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  45 ++-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |   6 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  13 +
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   8 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  17 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 301 ++++++++++++++-------
 .../src/test/java/com/uber/hoodie/TestCleaner.java |   2 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  82 +++++-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   3 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 210 ++++++++++++++
 .../src/main/avro/HoodieCommitMetadata.avsc        |  12 +
 .../hoodie/common/model/HoodieCommitMetadata.java  |  16 +-
 .../hoodie/common/model/HoodieRollingStat.java     |  98 +++++++
 .../common/model/HoodieRollingStatMetadata.java    | 101 +++++++
 .../common/model/TestHoodieCommitMetadata.java     |   3 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   8 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |   5 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |   2 +-
 21 files changed, 824 insertions(+), 123 deletions(-)

commit 324de298bc51e3cc8a0edad891dfa76a89c2f76b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Sep 4 02:05:15 2018 -0700

    Removing dependency on apache-commons lang 3, adding necessary classes as needed

 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../java/com/uber/hoodie/TestAsyncCompaction.java  |   2 +-
 .../src/test/java/com/uber/hoodie/TestCleaner.java |   2 +-
 hoodie-common/pom.xml                              |   4 -
 .../uber/hoodie/common/table/HoodieTimeline.java   |   2 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |   4 +-
 .../table/timeline/HoodieActiveTimeline.java       |   5 +-
 .../table/view/HoodieTableFileSystemView.java      |   2 +-
 .../uber/hoodie/common/util/CompactionUtils.java   |   2 +-
 .../hoodie/common/util/SerializationUtils.java     | 171 ++++++++++++++++++++
 .../com/uber/hoodie/common/util/StringUtils.java   |  51 ++++++
 .../common/util/collection/ImmutablePair.java      | 109 +++++++++++++
 .../common/util/collection/ImmutableTriple.java    | 112 +++++++++++++
 .../uber/hoodie/common/util/collection/Pair.java   | 179 +++++++++++++++++++++
 .../uber/hoodie/common/util/collection/Triple.java | 162 +++++++++++++++++++
 .../converter/HoodieRecordConverter.java           |  12 +-
 .../common/util/queue/BoundedInMemoryExecutor.java |   4 +-
 ...tion.java => HoodieSerializationException.java} |  10 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   2 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |   2 +-
 .../hoodie/common/util/TestCompactionUtils.java    |   2 +-
 hoodie-spark/pom.xml                               |   5 -
 pom.xml                                            |   5 -
 23 files changed, 812 insertions(+), 39 deletions(-)

commit 2eaa42abdeb336150eb59159e3fcf1b37f060ac1
Author: Saravanan Elumalai <sarav.sars@gmail.com>
Date:   Wed Aug 29 23:42:06 2018 +0530

    Updated jcommander version to fix NPE in HoodieDeltaStreamer tool

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 89cd6b072687b056324f34e1b2c9e59ff50d8c40
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Aug 22 21:30:05 2018 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 8d305c5a8615d8f6abd40291b7dded656d884dd5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Aug 22 21:29:53 2018 -0700

    [maven-release-plugin] prepare release hoodie-0.4.3

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 6fffda5c705154add0908eb60b67fc1579b12c65
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Aug 22 21:11:43 2018 -0700

    Update Release notes for 0.4.3 release

 RELEASE_NOTES.md | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit e6244802598a44db17a70babdcbe02cc89a271a2
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   Thu Jul 19 13:46:33 2018 -0700

    Throttling to limit QPS from HbaseIndex

 .../uber/hoodie/config/HoodieHBaseIndexConfig.java | 175 +++++++++++++++++++++
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  41 +----
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  32 +++-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    | 158 ++++++++++++++++++-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  76 ++++++++-
 .../com/uber/hoodie/index/TestHoodieIndex.java     |   4 +-
 6 files changed, 436 insertions(+), 50 deletions(-)

commit 3746ace76a21d94e46f1cdd031d4e62d0364f5d3
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Aug 21 17:27:56 2018 -0700

    Fixing Null pointer exception in finally block

 .../src/main/java/com/uber/hoodie/table/HoodieMergeOnReadTable.java   | 4 +++-
 .../java/com/uber/hoodie/common/table/log/HoodieLogFormatWriter.java  | 1 +
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 88274b82617b8f8880bf913a2670e7fcf308216c
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Aug 7 15:51:46 2018 -0700

    Adding another metric to HoodieWriteStat to determine if there were inserts converted to updates, added one test for this

 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  3 +
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 16 +++--
 ...cateRecords.java => TestHoodieMergeHandle.java} | 83 +++++++++++++++++++++-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  4 +-
 .../src/main/avro/HoodieCommitMetadata.avsc        |  5 ++
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 13 ++++
 6 files changed, 116 insertions(+), 8 deletions(-)

commit 989afddd54a3a99d8243cb10d509e616b5b6257b
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Aug 7 15:57:01 2018 -0700

    BUGFIX - Use Guava Optional (which is Serializable) in CompactionOperation wcached to avoid NoSerializableException

 .../com/uber/hoodie/common/model/CompactionOperation.java     | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit ea23c9b7a0a9fcd749ef25b827efff87737d9b6e
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Fri Aug 3 16:40:58 2018 -0700

    Minor bug fixes found during testing

 hoodie-cli/src/main/java/com/uber/hoodie/cli/Table.java              | 3 ++-
 .../src/main/java/com/uber/hoodie/io/HoodieCreateHandle.java         | 2 +-
 hoodie-common/src/main/avro/HoodieCommitMetadata.avsc                | 5 +++--
 3 files changed, 6 insertions(+), 4 deletions(-)

commit 594059a19c867ad425636be32d99e6284890a6d6
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Jun 5 18:26:01 2018 -0700

    Add CLI support inspect, schedule and run compaction

 .../hoodie/cli/commands/CompactionCommand.java     | 229 +++++++++++++++
 .../cli/commands/HDFSParquetImportCommand.java     |  15 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  39 ++-
 .../common/table/timeline/HoodieInstant.java       |   4 +
 .../uber/hoodie/utilities/HDFSParquetImporter.java | 307 +++++++++------------
 .../com/uber/hoodie/utilities/HoodieCompactor.java | 129 +++++++++
 .../com/uber/hoodie/utilities/UtilHelpers.java     | 109 ++++++++
 7 files changed, 653 insertions(+), 179 deletions(-)

commit 2e12c86d01657bae892a891b4ece3b8089cc5375
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Sat May 26 14:08:29 2018 -0700

    Ensure Compaction Operation compacts the data file as defined in the workload

 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 16 ++++++++-----
 .../io/compact/HoodieRealtimeTableCompactor.java   |  6 ++++-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 28 +++++++++++-----------
 .../src/test/resources/log4j-surefire.properties   |  8 +++++--
 .../uber/hoodie/common/table/HoodieTimeline.java   |  2 ++
 .../hoodie/common/table/TableFileSystemView.java   |  6 +++++
 .../table/view/HoodieTableFileSystemView.java      | 16 +++++++++++++
 .../src/test/resources/log4j-surefire.properties   |  6 +++--
 .../src/test/resources/log4j-surefire.properties   |  4 ++--
 .../src/test/resources/log4j-surefire.properties   |  6 ++---
 .../src/test/resources/log4j-surefire.properties   |  8 +++++--
 11 files changed, 74 insertions(+), 32 deletions(-)

commit 2f8ce930306306807669cb19a60dfbf122008658
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 23 23:09:25 2018 -0700

    Async Compaction Main API changes

 .../java/com/uber/hoodie/HoodieReadClient.java     |  17 +
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 361 ++++++++++-----
 .../compact/HoodieCompactionInstantWithPlan.java   |  42 --
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  15 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  43 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  10 +
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   5 -
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  19 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |   7 -
 .../java/com/uber/hoodie/TestAsyncCompaction.java  | 508 +++++++++++++++++++++
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  18 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  21 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  37 +-
 .../src/test/resources/log4j-surefire.properties   |   8 +-
 .../src/test/resources/log4j-surefire.properties   |   6 +-
 .../src/test/resources/log4j-surefire.properties   |   4 +-
 .../src/test/resources/log4j-surefire.properties   |   6 +-
 .../src/test/resources/log4j-surefire.properties   |   8 +-
 18 files changed, 873 insertions(+), 262 deletions(-)

commit 9b78523d62d83253068fcb545c6b60be516be5b4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu May 31 14:16:19 2018 -0700

    Ensure Cleaner and Archiver do not delete file-slices and workload marked for compaction

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  88 +++++--
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  70 ++++--
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  77 +++++-
 .../src/test/java/com/uber/hoodie/TestCleaner.java | 280 +++++++++++++++++++--
 .../java/com/uber/hoodie/TestClientRollback.java   |   2 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   9 +
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 164 ++++++++++++
 .../hoodie/common/model/CompactionOperation.java   |   2 +-
 .../table/view/HoodieTableFileSystemView.java      |  32 ++-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  22 ++
 10 files changed, 668 insertions(+), 78 deletions(-)

commit 0a0451a7655a2ffd998cd5302bf3e4272cd895ed
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu May 31 14:11:43 2018 -0700

    Ensure Compaction workload is stored in write-once meta-data files separate from timeline files.
        This avoids concurrency issues when compactor(s) and ingestor are running in parallel.
        In the Next PR -> Safety concern regarding Cleaner retaining all meta-data and file-slices for pending compactions will be addressed

 .../compact/HoodieCompactionInstantWithPlan.java   |  42 +++++++
 .../hoodie/common/HoodieTestDataGenerator.java     |  18 +++
 .../hoodie/common/table/HoodieTableMetaClient.java |  45 ++++++++
 .../table/timeline/HoodieActiveTimeline.java       | 121 ++++++++++++++-------
 .../common/table/timeline/HoodieInstant.java       |   4 +
 .../com/uber/hoodie/common/util/AvroUtils.java     |   2 +-
 .../uber/hoodie/common/util/CompactionUtils.java   |   4 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |   6 +-
 .../hoodie/common/util/TestCompactionUtils.java    |  12 +-
 9 files changed, 207 insertions(+), 47 deletions(-)

commit 9d9994256415a35a1e327c337ac621bbe68721eb
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu May 24 11:19:40 2018 -0700

    Track fileIds with pending compaction in FileSystemView to provide correct API semantics

 .../uber/hoodie/config/HoodieCompactionConfig.java |   1 -
 .../io/compact/HoodieRealtimeTableCompactor.java   |   6 +-
 .../io/compact/strategy/CompactionStrategy.java    |   3 +-
 .../src/main/avro/HoodieCompactionOperation.avsc   |   6 +-
 .../table/view/HoodieTableFileSystemView.java      |  29 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |   2 +-
 .../uber/hoodie/common/util/CompactionUtils.java   |  76 ++++-
 .../table/view/HoodieTableFileSystemViewTest.java  |  20 +-
 .../hoodie/common/util/TestCompactionUtils.java    | 345 +++++++++++++++++++++
 9 files changed, 448 insertions(+), 40 deletions(-)

commit 1b61f04e05a3ef993229e07ff0872804d7d1d0a3
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 23 20:49:24 2018 -0700

    (1) Define CompactionWorkload in avro to allow storing them in instant files.
    (2) Split APIs in HoodieRealtimeCompactor to separate generating compaction workload from running compaction

 .../uber/hoodie/config/HoodieCompactionConfig.java |   1 +
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  38 +++++---
 .../io/compact/HoodieRealtimeTableCompactor.java   |  65 +++++++++-----
 .../strategy/BoundedIOCompactionStrategy.java      |  13 +--
 .../io/compact/strategy/CompactionStrategy.java    |  54 +++++++----
 .../strategy/DayBasedCompactionStrategy.java       |  11 +--
 .../LogFileSizeBasedCompactionStrategy.java        |  27 +++---
 .../strategy/UnBoundedCompactionStrategy.java      |   7 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  12 +++
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  26 +++++-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  21 +++++
 .../io/strategy/TestHoodieCompactionStrategy.java  |  69 ++++++++------
 .../src/main/avro/HoodieCompactionOperation.avsc   |  66 ++++++++++++++
 .../hoodie/common/model}/CompactionOperation.java  |  50 +++++++----
 .../com/uber/hoodie/common/util/AvroUtils.java     |  11 ++-
 .../uber/hoodie/common/util/CompactionUtils.java   | 100 +++++++++++++++++++++
 16 files changed, 443 insertions(+), 128 deletions(-)

commit 6d01ae8ca0e31c83550faacf2eeb34d9672a7985
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Wed May 23 16:54:53 2018 -0700

    FileSystemView and Timeline level changes to support Async Compaction

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  10 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   2 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |   5 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |   5 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |   6 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |  14 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  87 ++---
 .../uber/hoodie/common/model/HoodieLogFile.java    |  12 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |  17 +
 .../uber/hoodie/common/table/HoodieTimeline.java   |  70 +++-
 .../hoodie/common/table/TableFileSystemView.java   |  16 +
 .../table/log/AbstractHoodieLogRecordScanner.java  |   1 +
 .../table/timeline/HoodieActiveTimeline.java       |  65 +++-
 .../table/timeline/HoodieDefaultTimeline.java      |  23 ++
 .../common/table/timeline/HoodieInstant.java       |  60 ++-
 .../table/view/HoodieTableFileSystemView.java      | 183 ++++++++-
 .../table/string/HoodieActiveTimelineTest.java     |   4 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 433 ++++++++++++++++++++-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   9 +-
 20 files changed, 892 insertions(+), 132 deletions(-)

commit 44caf0d40ca6b47fbf86701eff48fa9e8715b308
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Jul 12 17:45:10 2018 -0700

    Fixing missing hoodie record location in HoodieRecord when record is read from disk after being spilled

 .../java/com/uber/hoodie/TestHoodieReadClient.java |  4 +++
 .../com/uber/hoodie/common/model/HoodieRecord.java |  2 +-
 .../converter/HoodieRecordConverter.java           | 34 +++++++++++++++++-----
 .../hoodie/common/util/SpillableMapTestUtils.java  | 10 +++++--
 .../util/collection/TestExternalSpillableMap.java  |  7 +++--
 5 files changed, 44 insertions(+), 13 deletions(-)

commit f62890ca1f96375989650de04a85e63fd033cbd8
Author: Omkar Joshi <omkar@uber.com>
Date:   Wed Jul 18 11:11:32 2018 -0700

    adding setters so that subclasses can set it

 hoodie-client/src/main/java/com/uber/hoodie/WriteStatus.java | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 34ab54a9d3bbb9bc1c405b4a621d1a98c0782cc4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Jul 9 16:58:05 2018 -0700

    Fixing bug introducted in rollback for MOR table type with inserts into log files

 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 21 ++---
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 95 ++++++++++++++++------
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 10 +++
 3 files changed, 90 insertions(+), 36 deletions(-)

commit a6fe96fdfe241cc944293159336228255f93ec7b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed May 23 14:26:11 2018 -0700

    Changing Day based compaction strategy to be IO agnostic

 .../uber/hoodie/config/HoodieCompactionConfig.java | 12 ++++++++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  5 +++++
 .../strategy/DayBasedCompactionStrategy.java       | 26 ++++++++++++++--------
 .../io/strategy/TestHoodieCompactionStrategy.java  | 25 +++++++++++++++++----
 4 files changed, 55 insertions(+), 13 deletions(-)

commit 3da063f83b246f688304c6c40991482e6e1bdc9e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun May 13 16:25:11 2018 -0700

    Adding ability for inserts to be written to log files

 .../java/com/uber/hoodie/HoodieReadClient.java     |  13 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  82 +++++----
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  12 +-
 .../uber/hoodie/config/HoodieStorageConfig.java    |  10 +
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   6 +-
 .../uber/hoodie/func/BulkInsertMapFunction.java    |   2 +-
 ...ble.java => CopyOnWriteLazyInsertIterable.java} |  33 ++--
 .../hoodie/func/MergeOnReadLazyInsertIterable.java |  73 ++++++++
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  22 +--
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  10 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  44 ++---
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  16 +-
 .../uber/hoodie/index/bucketed/BucketedIndex.java  |  16 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  26 +--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 193 +++++++++++++-------
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |   2 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   9 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  41 ++++-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  25 +++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   5 +-
 .../hoodie/io/compact/CompactionOperation.java     |  34 ++--
 .../io/compact/HoodieRealtimeTableCompactor.java   |  29 ++-
 .../io/compact/strategy/CompactionStrategy.java    |  11 +-
 .../LogFileSizeBasedCompactionStrategy.java        |   5 +-
 .../hoodie/io/storage/HoodieParquetWriter.java     |   2 +-
 .../io/storage/HoodieStorageWriterFactory.java     |  11 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  50 +++--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  86 +++++++--
 .../java/com/uber/hoodie/table/HoodieTable.java    |  65 ++-----
 .../src/test/java/com/uber/hoodie/TestCleaner.java |  62 ++++---
 .../java/com/uber/hoodie/TestClientRollback.java   |   6 +-
 .../java/com/uber/hoodie/TestHoodieClientBase.java |   6 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  10 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  13 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   4 +-
 .../hoodie/func/TestBoundedInMemoryExecutor.java   |   6 +-
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java |   2 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  21 ++-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |  51 +++---
 .../com/uber/hoodie/index/TestHoodieIndex.java     |  43 ++++-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  63 +++----
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  32 +++-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  14 +-
 .../io/TestHoodieMergeHandleDuplicateRecords.java  |   3 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |   3 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  22 ++-
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 202 ++++++++++++++++++---
 .../hoodie/common/table/HoodieTableMetaClient.java |  52 +++++-
 .../table/log/AbstractHoodieLogRecordScanner.java  |   7 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   7 +
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |  11 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |   7 +-
 52 files changed, 1061 insertions(+), 519 deletions(-)

commit 34827d50e174fc27be1c0b2cd11458294026fc3c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Jun 11 08:59:13 2018 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 43ef3857305dc4ebf56e8c574198f81ebd7844db
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Jun 11 08:59:02 2018 -0700

    [maven-release-plugin] prepare release hoodie-0.4.2

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 4f76f2899e08935e89b6060a14cfbb8af0e83981
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Jun 11 08:41:11 2018 -0700

    Update Release notes for 0.4.2 release

 RELEASE_NOTES.md | 38 ++++++++++++++++++++++++++++++++++++++
 1 file changed, 38 insertions(+)

commit 8ad8030f2a0b9da3cd3cdecc21992803ce8a37fc
Author: Xavier Jodoin <xavier@jodoin.me>
Date:   Wed Mar 28 13:09:57 2018 -0400

    Fix wrong use of TemporaryFolder junit rule

 .../com/uber/hoodie/common/model/HoodieTestUtils.java   | 17 +++++++----------
 .../hoodie/common/table/HoodieTableMetaClientTest.java  |  7 ++++++-
 .../common/table/string/HoodieActiveTimelineTest.java   | 14 +++++---------
 .../table/view/HoodieTableFileSystemViewTest.java       |  7 ++++++-
 .../uber/hoodie/hadoop/TestHoodieROTablePathFilter.java | 13 ++++++++++++-
 5 files changed, 36 insertions(+), 22 deletions(-)

commit 8f1d362015aeff281c7327d657b0dd7d89ff3083
Author: vinothchandar <vinoth@bytearray.io>
Date:   Sun Jun 10 18:54:58 2018 -0700

    Fixing deps & serialization for RTView
     - hoodie-hadoop-mr now needs objectsize bundled
     - Also updated docs with additional tuning tips

 docs/configurations.md                                   |  5 ++++-
 hoodie-hadoop-mr/pom.xml                                 |  6 ++++++
 .../hoodie/hadoop/realtime/HoodieRealtimeFileSplit.java  | 16 ++++++++--------
 3 files changed, 18 insertions(+), 9 deletions(-)

commit 85dd265b7bb87fb19a9c8317fff97f24000367ee
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Jan 5 14:06:18 2018 -0800

    Improving out of box experience for data source
    
     - Fixes #246
     - Bump up default parallelism to 1500, to handle large upserts
     - Add docs on s3 confuration & tuning tips with tested spark knobs
     - Fix bug to not duplicate hoodie metadata fields when input dataframe is another hoodie dataset
     - Improve speed of ROTablePathFilter by removing directory check
     - Move to spark-avro 4.0 to handle issue with nested fields with same name
     - Keep AvroConversionUtils in sync with spark-avro 4.0

 docs/configurations.md                             | 44 +++++++++++++++++++++-
 docs/s3_filesystem.md                              | 20 +++++++++-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  2 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   | 11 +++++-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     | 10 ++---
 hoodie-spark/pom.xml                               |  2 +-
 .../com/uber/hoodie/AvroConversionUtils.scala      | 25 ++++++++++--
 .../main/scala/com/uber/hoodie/DefaultSource.scala | 17 ++++++---
 8 files changed, 112 insertions(+), 19 deletions(-)

commit a97814462d1b7b2b7a1a880df1e30bc5a8c3544b
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   Thu May 17 15:40:47 2018 -0700

    Added a filter function to filter the record keys in a parquet file

 .../index/bloom/HoodieBloomIndexCheckFunction.java | 14 ++---
 .../com/uber/hoodie/common/util/ParquetUtils.java  | 42 +++++++++++++-
 .../uber/hoodie/common/util/TestParquetUtils.java  | 64 ++++++++++++++++------
 3 files changed, 93 insertions(+), 27 deletions(-)

commit 23d53763c4db744fe936e2e609fe6abaf7bd9a82
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed May 2 00:52:37 2018 -0700

    enabling global index for MOR

 .../com/uber/hoodie/table/HoodieMergeOnReadTable.java | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit dfc0c61eb7d8ef6e66e96252f0fc89c260786704
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Thu Apr 26 10:18:05 2018 -0700

    Support union mode in HoodieRealtimeRecordReader for pure insert workloads
    Also Replace BufferedIteratorPayload abstraction with function passing

 .../hoodie/cli/commands/HoodieLogFileCommand.java  |   4 +-
 .../com/uber/hoodie/func/BufferedIterator.java     | 209 -------------
 .../uber/hoodie/func/BufferedIteratorExecutor.java |  89 ------
 .../com/uber/hoodie/func/LazyInsertIterable.java   | 111 +++----
 .../uber/hoodie/func/ParquetReaderIterator.java    |   3 +-
 .../hoodie/func/SparkBoundedInMemoryExecutor.java  |  57 ++++
 .../payload/AbstractBufferedIteratorPayload.java   |  42 ---
 .../HoodieRecordBufferedIteratorPayload.java       |  47 ---
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |   8 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   5 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   6 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  73 +++--
 ...cutor.java => TestBoundedInMemoryExecutor.java} |  65 ++--
 .../uber/hoodie/func/TestBoundedInMemoryQueue.java | 336 +++++++++++++++++++++
 .../com/uber/hoodie/func/TestBufferedIterator.java | 203 -------------
 ...er.java => AbstractHoodieLogRecordScanner.java} | 179 ++++++-----
 .../table/log/HoodieMergedLogRecordScanner.java    | 131 ++++++++
 .../table/log/HoodieUnMergedLogRecordScanner.java  |  55 ++++
 .../common/table/log/block/HoodieLogBlock.java     |   3 +-
 .../hoodie/common/util/DefaultSizeEstimator.java   |  18 +-
 .../common/util/HoodieRecordSizeEstimator.java     |  52 ++++
 .../com/uber/hoodie/common/util/SizeEstimator.java |  31 ++
 .../uber/hoodie/common/util/SpillableMapUtils.java |   5 +-
 .../util/collection/ExternalSpillableMap.java      |  12 +-
 .../util/collection/converter/Converter.java       |   5 -
 .../converter/HoodieRecordConverter.java           |  13 -
 .../util/collection/converter/StringConverter.java |   6 -
 .../common/util/queue/BoundedInMemoryExecutor.java | 162 ++++++++++
 .../common/util/queue/BoundedInMemoryQueue.java    | 273 +++++++++++++++++
 .../util/queue/BoundedInMemoryQueueConsumer.java   |  63 ++++
 .../util/queue/BoundedInMemoryQueueProducer.java   |  35 +++
 .../util/queue/FunctionBasedQueueProducer.java     |  46 +++
 .../util/queue/IteratorBasedQueueProducer.java     |  49 +++
 .../common/table/log/HoodieLogFormatTest.java      |  31 +-
 .../common/util/collection/TestDiskBasedMap.java   |  15 +-
 .../util/collection/TestExternalSpillableMap.java  |  20 +-
 .../hoodie/hadoop/RecordReaderValueIterator.java   |  83 +++++
 .../hadoop/SafeParquetRecordReaderWrapper.java     |  91 ++++++
 .../realtime/AbstractRealtimeRecordReader.java     | 282 +++++++++++++++++
 .../realtime/HoodieRealtimeRecordReader.java       | 320 ++------------------
 .../realtime/RealtimeCompactedRecordReader.java    | 129 ++++++++
 .../realtime/RealtimeUnmergedRecordReader.java     | 142 +++++++++
 .../hadoop/TestRecordReaderValueIterator.java      | 105 +++++++
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 102 ++++++-
 44 files changed, 2541 insertions(+), 1175 deletions(-)

commit 93f345a032629367dc2e63b7b61712d6e201c5be
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Apr 2 22:53:28 2018 -0700

    Minor fixes for MergeOnRead MVP release readiness

 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  9 ++-
 .../com/uber/hoodie/config/HoodieMemoryConfig.java | 11 +++-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  4 ++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  5 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  3 +-
 .../table/log/HoodieCompactedLogRecordScanner.java |  5 +-
 .../common/table/log/HoodieLogFormatWriter.java    | 72 +++++++++++++---------
 .../common/util/collection/DiskBasedMap.java       | 18 ++----
 .../util/collection/ExternalSpillableMap.java      |  3 +-
 .../common/table/log/HoodieLogFormatTest.java      | 23 +++----
 .../common/util/collection/TestDiskBasedMap.java   | 12 ++--
 .../util/collection/TestExternalSpillableMap.java  | 23 +++++--
 .../realtime/HoodieRealtimeRecordReader.java       |  7 ++-
 13 files changed, 117 insertions(+), 78 deletions(-)

commit 75df72f575d67042dcbbfd2123fc304992048ae4
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed May 2 00:41:03 2018 -0700

    Adding a fix/workaround when fs.append() unable to return a valid outputstream

 .../common/table/log/HoodieLogFormatWriter.java    |  23 +++-
 .../log/HoodieLogFormatAppendFailureTest.java      | 141 +++++++++++++++++++++
 .../util/collection/TestExternalSpillableMap.java  |   7 -
 3 files changed, 161 insertions(+), 10 deletions(-)

commit 04655e9e85e8e4aacc8c66209ccd0f4fb0b28671
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Mar 25 11:12:41 2018 -0700

    Adding metrics for MOR and COW

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  31 +++-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   8 +
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |   4 +
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   3 +
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   4 +
 .../io/compact/HoodieRealtimeTableCompactor.java   |  48 ++++--
 .../strategy/BoundedIOCompactionStrategy.java      |  34 +---
 .../io/compact/strategy/CompactionStrategy.java    |  53 +++++--
 .../strategy/UnBoundedCompactionStrategy.java      |  12 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  51 ++++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  43 +++++
 .../src/main/avro/HoodieCommitMetadata.avsc        |   2 +-
 .../src/main/avro/HoodieCompactionMetadata.avsc    |   2 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |  88 ++++++++++-
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 174 ++++++++++++++++++---
 .../table/log/HoodieCompactedLogRecordScanner.java |  46 +++++-
 .../com/uber/hoodie/common/util/HoodieTimer.java   |  70 +++++++++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  22 +++
 .../common/model/TestHoodieCommitMetadata.java     |  42 +++++
 19 files changed, 616 insertions(+), 121 deletions(-)

commit c66004d79a2b1d30584df5e99e782d399d0b8ce7
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Apr 24 10:56:05 2018 -0700

    Add Support for ordering and limiting results in CLI show commands

 docs/admin_guide.md                                |  10 +-
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |  78 +++++++++
 .../src/main/java/com/uber/hoodie/cli/Table.java   | 175 +++++++++++++++++++++
 .../main/java/com/uber/hoodie/cli/TableHeader.java |  69 ++++++++
 .../cli/commands/ArchivedCommitsCommand.java       |  48 +++---
 .../uber/hoodie/cli/commands/CleansCommand.java    |  56 +++++--
 .../uber/hoodie/cli/commands/CommitsCommand.java   | 115 ++++++++++----
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |  30 ++--
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  90 ++++++++---
 9 files changed, 563 insertions(+), 108 deletions(-)

commit b9b9b24993993051ba9378f4e8ed1b103d811795
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   Wed Apr 25 12:40:24 2018 -0700

    Added more comments and removed the extra new lines

 .../io/TestHoodieMergeHandleDuplicateRecords.java  | 55 +++++++++++-----------
 1 file changed, 27 insertions(+), 28 deletions(-)

commit 4d1fba24c958c17652b693d22af378e6c2ceb749
Author: Sunil Ramaiah <sramaiah@uber.com>
Date:   Mon Apr 23 15:23:42 2018 -0700

    Fix for updating duplicate records in same/different files in same parition

 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |   7 +
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  14 +-
 .../io/TestHoodieMergeHandleDuplicateRecords.java  | 276 +++++++++++++++++++++
 3 files changed, 294 insertions(+), 3 deletions(-)

commit fa73a911cc3628e375816155c6951c5398b46d30
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Apr 19 14:20:50 2018 -0700

    Update Gemfile.lock

 docs/Gemfile.lock | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c3c205fc02155d398e52d4395527c03c710c2bdb
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Apr 2 22:53:28 2018 -0700

    Using BufferedFsInputStream to wrap FSInputStream for FSDataInputStream

 .../hoodie/cli/commands/HoodieLogFileCommand.java  |   6 +-
 .../com/uber/hoodie/config/HoodieMemoryConfig.java |  12 +++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  12 +++
 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  15 ++-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 120 +++++++++++++--------
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   2 +
 .../table/log/HoodieCompactedLogRecordScanner.java |   4 +-
 .../common/table/log/HoodieLogFileReader.java      |  75 +++++++------
 .../hoodie/common/table/log/HoodieLogFormat.java   |   2 +-
 .../common/table/log/HoodieLogFormatReader.java    |  15 +--
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  22 +++-
 .../common/table/log/HoodieLogFormatTest.java      |  42 ++++----
 .../realtime/HoodieRealtimeRecordReader.java       |   9 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   1 +
 15 files changed, 222 insertions(+), 117 deletions(-)

commit 720e42f52a0e3a5e50e63ec39c46b758a7454b01
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Apr 1 21:43:05 2018 -0700

    Parallelized read-write operations in Hoodie Merge phase

 .../com/uber/hoodie/func/BufferedIterator.java     | 66 +++++-----------
 .../uber/hoodie/func/BufferedIteratorExecutor.java | 89 +++++++++++++++++++++
 .../com/uber/hoodie/func/LazyInsertIterable.java   | 91 ++++++++++------------
 .../uber/hoodie/func/ParquetReaderIterator.java    | 72 +++++++++++++++++
 .../payload/AbstractBufferedIteratorPayload.java   | 42 ++++++++++
 .../GenericRecordBufferedIteratorPayload.java      | 31 ++++++++
 .../HoodieRecordBufferedIteratorPayload.java       | 47 +++++++++++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 10 +--
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 62 +++++++++++----
 .../com/uber/hoodie/func/TestBufferedIterator.java | 24 +++---
 .../hoodie/func/TestBufferedIteratorExecutor.java  | 79 +++++++++++++++++++
 .../hoodie/func/TestParquetReaderIterator.java     | 61 +++++++++++++++
 .../common/util/collection/DiskBasedMap.java       |  5 +-
 13 files changed, 553 insertions(+), 126 deletions(-)

commit 6c226ca21a84b18bde0ff3a3c569f3e6957a480f
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Mon Apr 2 10:08:06 2018 -0700

    Issue-329 : Refactoring TestHoodieClientOnCopyOnWriteStorage and adding test-cases

 .../src/test/java/com/uber/hoodie/TestCleaner.java |  700 ++++++++++
 .../java/com/uber/hoodie/TestClientRollback.java   |  320 +++++
 .../java/com/uber/hoodie/TestHoodieClientBase.java |  436 +++++++
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 1378 ++++----------------
 .../java/com/uber/hoodie/TestHoodieReadClient.java |  195 +++
 .../uber/hoodie/common/HoodieClientTestUtils.java  |    2 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   74 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   13 +
 8 files changed, 1963 insertions(+), 1155 deletions(-)

commit a4049329a5170aea4d7c73f6e6890ee05d16448e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 2 09:29:15 2018 -0700

    Update release notes for 0.4.1 (post)

 RELEASE_NOTES.md | 38 +++++++++++++++++++++++++++++++++++++-
 1 file changed, 37 insertions(+), 1 deletion(-)

commit 788e4f2d2eeeeee685b9f5d2e09b56be230e34d4
Author: Balaji Varadarajan <varadarb@uber.com>
Date:   Tue Mar 20 16:29:20 2018 -0700

    CodeStyle formatting to conform to basic Checkstyle rules.
    
    The code-style rules follow google style with some changes:
    
    1. Increase line length from 100 to 120
    2. Disable JavaDoc related checkstyles as this needs more manual work.
    
    Both source and test code are checked for code-style

 docs/dev_setup.md                                  |    9 +-
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |    6 +-
 .../com/uber/hoodie/cli/HoodieSplashScreen.java    |   28 +-
 .../src/main/java/com/uber/hoodie/cli/Main.java    |    3 +-
 .../cli/commands/ArchivedCommitsCommand.java       |   26 +-
 .../uber/hoodie/cli/commands/CleansCommand.java    |   38 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  148 ++-
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |    7 +-
 .../cli/commands/HDFSParquetImportCommand.java     |   51 +-
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |   80 +-
 .../hoodie/cli/commands/HoodieSyncCommand.java     |   76 +-
 .../uber/hoodie/cli/commands/RepairsCommand.java   |   40 +-
 .../hoodie/cli/commands/SavepointsCommand.java     |   48 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |   48 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |   62 +-
 .../com/uber/hoodie/cli/commands/UtilsCommand.java |    4 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   11 +-
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |   39 +-
 .../uber/hoodie/cli/utils/InputStreamConsumer.java |    2 +-
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   12 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |   46 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  364 +++----
 .../src/main/java/com/uber/hoodie/WriteStatus.java |   20 +-
 .../uber/hoodie/config/DefaultHoodieConfig.java    |    8 +-
 .../uber/hoodie/config/HoodieCompactionConfig.java |   97 +-
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |   28 +-
 .../com/uber/hoodie/config/HoodieMemoryConfig.java |   26 +-
 .../uber/hoodie/config/HoodieMetricsConfig.java    |   40 +-
 .../uber/hoodie/config/HoodieStorageConfig.java    |    5 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   54 +-
 .../com/uber/hoodie/func/BufferedIterator.java     |   96 +-
 .../uber/hoodie/func/BulkInsertMapFunction.java    |    7 +-
 .../com/uber/hoodie/func/LazyInsertIterable.java   |   83 +-
 .../com/uber/hoodie/func/LazyIterableIterator.java |    4 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |   43 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |   46 +-
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |    8 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  208 ++--
 .../index/bloom/HoodieBloomIndexCheckFunction.java |   24 +-
 .../uber/hoodie/index/bucketed/BucketedIndex.java  |    4 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  195 ++--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  114 ++-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |   62 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   49 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |   31 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   61 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  101 +-
 .../hoodie/io/compact/CompactionOperation.java     |    4 +-
 .../uber/hoodie/io/compact/HoodieCompactor.java    |    8 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   60 +-
 .../strategy/BoundedIOCompactionStrategy.java      |    9 +-
 .../io/compact/strategy/CompactionStrategy.java    |    8 +-
 .../strategy/DayBasedCompactionStrategy.java       |   18 +-
 .../LogFileSizeBasedCompactionStrategy.java        |    6 +-
 .../hoodie/io/storage/HoodieParquetWriter.java     |   42 +-
 .../io/storage/HoodieStorageWriterFactory.java     |   18 +-
 .../hoodie/io/storage/HoodieWrapperFileSystem.java |  177 ++--
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |   25 +-
 .../main/java/com/uber/hoodie/metrics/Metrics.java |    2 +-
 .../hoodie/metrics/MetricsGraphiteReporter.java    |   19 +-
 .../hoodie/metrics/MetricsReporterFactory.java     |    3 +-
 .../uber/hoodie/metrics/MetricsReporterType.java   |    3 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 1006 ++++++++++----------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  215 ++---
 .../java/com/uber/hoodie/table/HoodieTable.java    |   47 +-
 .../table/UserDefinedBulkInsertPartitioner.java    |    1 +
 .../com/uber/hoodie/table/WorkloadProfile.java     |   11 +-
 .../java/com/uber/hoodie/table/WorkloadStat.java   |    3 +-
 .../src/test/java/HoodieClientExample.java         |   22 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  569 +++++------
 .../src/test/java/com/uber/hoodie/TestMultiFS.java |   23 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   69 +-
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |   13 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  171 ++--
 .../com/uber/hoodie/common/TestRawTripPayload.java |   72 +-
 .../uber/hoodie/config/HoodieWriteConfigTest.java  |    3 +-
 .../com/uber/hoodie/func/TestBufferedIterator.java |  320 +++----
 .../uber/hoodie/func/TestUpdateMapFunction.java    |   43 +-
 .../java/com/uber/hoodie/index/TestHbaseIndex.java |   96 +-
 .../com/uber/hoodie/index/TestHoodieIndex.java     |   12 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  253 +++--
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |   66 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   55 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |   74 +-
 .../hoodie/io/strategy/TestHoodieDataFile.java     |    9 +-
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |    8 +-
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |    3 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  204 ++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  197 ++--
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |    6 +-
 .../uber/hoodie/avro/MercifulJsonConverter.java    |   15 +-
 .../com/uber/hoodie/common/HoodieCleanStat.java    |    5 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |   12 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |   11 +-
 .../com/uber/hoodie/common/model/HoodieKey.java    |    6 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |   10 +-
 .../common/model/HoodiePartitionMetadata.java      |    5 +-
 .../com/uber/hoodie/common/model/HoodieRecord.java |    8 +-
 .../hoodie/common/model/HoodieRecordLocation.java  |    4 +-
 .../hoodie/common/model/HoodieRecordPayload.java   |    4 +-
 .../uber/hoodie/common/model/HoodieTableType.java  |   10 +-
 .../uber/hoodie/common/model/HoodieWriteStat.java  |    3 +-
 .../common/storage/SizeAwareDataInputStream.java   |   70 +-
 .../hoodie/common/table/HoodieTableConfig.java     |    2 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |    2 +-
 .../table/log/HoodieCompactedLogRecordScanner.java |  109 ++-
 .../common/table/log/HoodieLogFileReader.java      |  106 ++-
 .../hoodie/common/table/log/HoodieLogFormat.java   |   68 +-
 .../common/table/log/HoodieLogFormatReader.java    |   24 +-
 ...matVersion.java => HoodieLogFormatVersion.java} |   45 +-
 .../common/table/log/HoodieLogFormatWriter.java    |   56 +-
 .../table/log/block/HoodieAvroDataBlock.java       |   14 +-
 .../log/block/HoodieAvroDataBlockVersion.java      |   37 +
 .../common/table/log/block/HoodieCommandBlock.java |    7 +-
 .../table/log/block/HoodieCommandBlockVersion.java |   28 +
 .../common/table/log/block/HoodieCorruptBlock.java |    6 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |   14 +-
 .../table/log/block/HoodieDeleteBlockVersion.java  |   28 +
 .../common/table/log/block/HoodieLogBlock.java     |   57 +-
 .../table/log/block/HoodieLogBlockVersion.java     |   33 +
 .../common/table/log/block/LogBlockVersion.java    |   79 --
 .../table/timeline/HoodieActiveTimeline.java       |   32 +-
 .../table/timeline/HoodieArchivedTimeline.java     |    8 +-
 .../table/timeline/HoodieDefaultTimeline.java      |   12 +-
 .../common/table/timeline/HoodieInstant.java       |   31 +-
 .../table/view/HoodieTableFileSystemView.java      |  358 +++----
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   12 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |    4 +-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |    8 +-
 .../uber/hoodie/common/util/ReflectionUtils.java   |    3 +-
 .../uber/hoodie/common/util/SpillableMapUtils.java |   58 +-
 .../common/util/collection/DiskBasedMap.java       |  206 ++--
 .../util/collection/ExternalSpillableMap.java      |   62 +-
 .../common/util/collection/LazyFileIterable.java   |    6 +-
 .../converter/HoodieRecordConverter.java           |    5 -
 .../io/storage/SizeAwareDataOutputStream.java      |    5 +-
 .../exception/HoodieCorruptedDataException.java    |    3 +-
 .../com/uber/hoodie/common/TestBloomFilter.java    |    4 +-
 .../hoodie/common/minicluster/HdfsTestService.java |   33 +-
 .../common/minicluster/ZookeeperTestService.java   |   10 +-
 .../hoodie/common/model/AvroBinaryTestPayload.java |    3 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  133 ++-
 .../hoodie/common/model/TestHoodieWriteStat.java   |    8 +-
 .../common/table/HoodieTableMetaClientTest.java    |   37 +-
 .../common/table/log/HoodieLogFormatTest.java      |  544 +++++------
 .../table/string/HoodieActiveTimelineTest.java     |   58 +-
 .../common/table/string/MockHoodieTimeline.java    |    9 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |  251 ++---
 .../uber/hoodie/common/util/SchemaTestUtil.java    |   50 +-
 .../hoodie/common/util/SpillableMapTestUtils.java  |    7 +-
 .../com/uber/hoodie/common/util/TestFSUtils.java   |    9 +-
 .../uber/hoodie/common/util/TestParquetUtils.java  |   17 +-
 .../common/util/collection/TestDiskBasedMap.java   |   21 +-
 .../util/collection/TestExternalSpillableMap.java  |   45 +-
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |    3 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   61 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |   32 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   38 +-
 .../realtime/HoodieRealtimeRecordReader.java       |   70 +-
 .../com/uber/hoodie/hadoop/AnnotationTest.java     |    1 -
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |   63 +-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |   31 +-
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |    1 +
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   37 +-
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |   14 +-
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |   35 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  147 ++-
 .../uber/hoodie/hive/PartitionValueExtractor.java  |    5 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |    2 +-
 .../uber/hoodie/hive/util/ColumnNameXLator.java    |    4 +-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |   88 +-
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |  160 ++--
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |   82 +-
 .../com/uber/hoodie/hive/util/HiveTestService.java |   42 +-
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |    1 -
 .../main/java/com/uber/hoodie/DataSourceUtils.java |   47 +-
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |    5 +-
 .../main/java/com/uber/hoodie/KeyGenerator.java    |    3 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |    3 +-
 .../com/uber/hoodie/AvroConversionUtils.scala      |    9 +-
 .../src/test/java/DataSourceTestUtils.java         |   10 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |   45 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  102 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |   64 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   69 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |    9 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |  145 +--
 .../keygen/TimestampBasedKeyGenerator.java         |   15 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |   16 +-
 .../uber/hoodie/utilities/sources/DFSSource.java   |   24 +-
 .../utilities/sources/HiveIncrPullSource.java      |   12 +-
 .../uber/hoodie/utilities/sources/KafkaSource.java |   39 +-
 .../com/uber/hoodie/utilities/sources/Source.java  |    3 +-
 .../hoodie/utilities/TestHDFSParquetImporter.java  |   24 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |    6 +-
 pom.xml                                            |   35 +
 style/checkstyle-suppressions.xml                  |   12 +
 style/checkstyle.xml                               |  246 +++++
 style/eclipse-java-google-style.xml                |  337 +++++++
 style/intellij-java-google-style.xml               |  598 ++++++++++++
 200 files changed, 6247 insertions(+), 6013 deletions(-)

commit 987f5d6b965b49e0ba86e5d06ef5e685fb465f2e
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Mar 15 00:20:16 2018 -0700

     Making ExternalSpillableMap generic for any datatype
            - Introduced concept of converters to be able to serde generic datatype for SpillableMap
            - Fixed/Added configs to Hoodie Configs
            - Changed HoodieMergeHandle to start using SpillableMap

 docs/configurations.md                             |  11 +-
 .../hoodie/cli/commands/HoodieLogFileCommand.java  |   3 +-
 .../uber/hoodie/config/HoodieCompactionConfig.java |  20 +--
 .../com/uber/hoodie/config/HoodieMemoryConfig.java | 147 ++++++++++++++++++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  58 ++++++--
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   7 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  35 +++--
 .../io/compact/HoodieRealtimeTableCompactor.java   |   5 +-
 hoodie-common/pom.xml                              |   5 +
 .../table/log/HoodieCompactedLogRecordScanner.java |   9 +-
 .../uber/hoodie/common/util/SpillableMapUtils.java |  38 +++---
 .../common/util/collection/DiskBasedMap.java       |  99 +++++++-------
 .../util/collection/ExternalSpillableMap.java      | 126 ++++++++---------
 .../common/util/collection/LazyFileIterable.java   |  54 ++++----
 .../util/collection/converter/Converter.java       |  39 ++++++
 .../converter/HoodieRecordConverter.java           | 107 +++++++++++++++
 .../util/collection/converter/StringConverter.java |  41 ++++++
 .../exception/HoodieNotSerializableException.java  |  37 +++++
 .../hoodie/common/model/AvroBinaryTestPayload.java |  58 ++++++++
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  54 +++++++-
 .../hoodie/common/util/SpillableMapTestUtils.java  |   4 +-
 .../common/util/collection/TestDiskBasedMap.java   | 149 +++++++++++++++++----
 .../util/collection/TestExternalSpillableMap.java  | 149 ++++++++++++++++-----
 .../hoodie/OverwriteWithLatestAvroPayload.java     |   4 +
 24 files changed, 981 insertions(+), 278 deletions(-)

commit fa787ab5ab422689ddef4956417b77863a26b2e6
Author: Xavier Jodoin <xavier@jodoin.me>
Date:   Tue Mar 27 11:36:01 2018 -0400

    Replace deprecated jackson version

 hoodie-common/pom.xml                              |  9 --------
 .../uber/hoodie/avro/MercifulJsonConverter.java    |  2 +-
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  6 +++---
 .../hoodie/common/model/HoodieCommitMetadata.java  | 24 ++++++++++++----------
 .../com/uber/hoodie/common/util/TestRecord.java    |  8 ++++----
 hoodie-spark/pom.xml                               |  4 ----
 6 files changed, 21 insertions(+), 32 deletions(-)

commit 1b756db2219352b695b9da28f00f2449d2b1c4f5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Mar 23 21:50:11 2018 -0700

    Adding config for parquet compression ratio

 .../src/main/scala/com/uber/hoodie/cli/SparkHelpers.scala      |  2 +-
 .../main/java/com/uber/hoodie/config/HoodieStorageConfig.java  | 10 ++++++++++
 .../main/java/com/uber/hoodie/config/HoodieWriteConfig.java    |  4 ++++
 .../java/com/uber/hoodie/io/storage/HoodieParquetConfig.java   |  8 +++++++-
 .../java/com/uber/hoodie/io/storage/HoodieParquetWriter.java   |  4 +---
 .../com/uber/hoodie/io/storage/HoodieStorageWriterFactory.java |  3 ++-
 .../java/com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java |  4 +++-
 7 files changed, 28 insertions(+), 7 deletions(-)

commit 48643795b809ba748d4439ec602f38d6e77675c5
Author: Jian Xu <jian@uber.com>
Date:   Tue Mar 20 12:06:15 2018 -0700

    Checking storage level before persisting preppedRecords

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 291a88ba941a6ededdbf6d06c5684ea38f90502a
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   Mon Mar 12 19:06:52 2018 -0700

    DeduplicateRecords based on recordKey if global index is used

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 19 ++++++++++--
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 35 +++++++++++++++++++++-
 2 files changed, 50 insertions(+), 4 deletions(-)

commit 123da020e209b1537a7b247a9991082071a862c2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Mar 13 22:56:29 2018 -0700

    - Fixing memory leak due to HoodieLogFileReader holding on to a logblock
    - Removed inMemory HashMap usage in merge(..) code in LogScanner

 .../table/log/HoodieCompactedLogRecordScanner.java | 42 ++++++----------------
 .../common/table/log/HoodieLogFileReader.java      | 16 ++++-----
 .../common/table/log/HoodieLogFormatReader.java    |  8 +++--
 .../common/table/log/HoodieLogFormatTest.java      |  2 ++
 4 files changed, 27 insertions(+), 41 deletions(-)

commit d3df32fa03e3b83a914ef9df9d56046dacb681bc
Author: Jian Xu <jian@uber.com>
Date:   Wed Mar 14 12:53:12 2018 -0700

    Add back UseTempFolder changes in HoodieMergeHandle

 .../src/main/java/com/uber/hoodie/io/HoodieMergeHandle.java    | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit c5b4cb1b75e75b3ae9328dcf1b8fadaa0374abc1
Author: Omkar Joshi <omkar@uber.com>
Date:   Wed Mar 14 16:00:47 2018 -0700

    Spawning parallel writer thread to separate reading records from spark and writing records to parquet file

 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  12 ++
 .../com/uber/hoodie/func/BufferedIterator.java     | 221 +++++++++++++++++++++
 .../com/uber/hoodie/func/LazyInsertIterable.java   |  88 ++++++--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   4 +-
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  14 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   7 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   4 +-
 .../com/uber/hoodie/func/TestBufferedIterator.java | 207 +++++++++++++++++++
 8 files changed, 529 insertions(+), 28 deletions(-)

commit 9dff8c2326bee74f2653b9bdc3fd917918b6b9d2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Sun Jan 21 21:09:52 2018 -0800

    Adding a tool to read/inspect a HoodieLogFile

 hoodie-cli/hoodie-cli.sh                           |   6 +-
 .../hoodie/cli/commands/HoodieLogFileCommand.java  | 221 +++++++++++++++++++++
 .../table/log/block/HoodieAvroDataBlock.java       |  25 ++-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  20 +-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  29 +++
 5 files changed, 275 insertions(+), 26 deletions(-)

commit ba7c258c618d9f08750609cc10e80f72550ad563
Author: Jian Xu <jian@uber.com>
Date:   Tue Mar 6 11:25:26 2018 -0800

    Add more options in HoodieWriteConfig

 .../src/main/java/com/uber/hoodie/config/HoodieIndexConfig.java  | 9 +++++++++
 .../main/java/com/uber/hoodie/config/HoodieStorageConfig.java    | 2 +-
 .../src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java  | 8 ++++++--
 .../main/java/com/uber/hoodie/index/bloom/HoodieBloomIndex.java  | 2 +-
 .../java/com/uber/hoodie/io/storage/HoodieParquetConfig.java     | 6 +++---
 5 files changed, 20 insertions(+), 7 deletions(-)

commit 7f079632a6420f118aca3d7befe2c1593d0640aa
Author: Jian Xu <jian@uber.com>
Date:   Thu Mar 8 17:21:11 2018 -0800

    Use hadoopConf in HoodieTableMetaClient and related tests

 hoodie-client/src/test/java/HoodieClientExample.java         |  2 +-
 .../uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java    |  4 ++--
 hoodie-client/src/test/java/com/uber/hoodie/TestMultiFS.java |  6 ++----
 .../java/com/uber/hoodie/func/TestUpdateMapFunction.java     |  2 +-
 .../src/test/java/com/uber/hoodie/index/TestHbaseIndex.java  |  2 +-
 .../com/uber/hoodie/index/bloom/TestHoodieBloomIndex.java    |  2 +-
 .../java/com/uber/hoodie/io/TestHoodieCommitArchiveLog.java  |  9 ++++++---
 .../test/java/com/uber/hoodie/io/TestHoodieCompactor.java    |  9 ++++++---
 .../java/com/uber/hoodie/table/TestCopyOnWriteTable.java     |  2 +-
 .../java/com/uber/hoodie/table/TestMergeOnReadTable.java     |  6 +++---
 .../com/uber/hoodie/common/table/HoodieTableMetaClient.java  | 11 +++++++----
 .../java/com/uber/hoodie/common/model/HoodieTestUtils.java   | 12 ++++++------
 .../uber/hoodie/common/table/log/HoodieLogFormatTest.java    |  2 +-
 .../java/com/uber/hoodie/hadoop/InputFormatTestUtil.java     |  8 ++------
 .../hadoop/realtime/HoodieRealtimeRecordReaderTest.java      | 10 ++++++----
 hoodie-hive/src/test/java/com/uber/hoodie/hive/TestUtil.java |  6 +++---
 .../src/main/scala/com/uber/hoodie/DefaultSource.scala       |  3 ++-
 .../java/com/uber/hoodie/utilities/HDFSParquetImporter.java  |  2 +-
 .../hoodie/utilities/deltastreamer/HoodieDeltaStreamer.java  |  3 +--
 .../com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java  |  6 ++++--
 20 files changed, 57 insertions(+), 50 deletions(-)

commit 73534d467f76d47f7ff3dd11e4d4e193798a82c5
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Mar 7 21:04:10 2018 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit f2e5c6f9f8abba77aa105fecec643fbaf9d39071
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Mar 7 21:04:00 2018 -0800

    [maven-release-plugin] prepare release hoodie-0.4.1

 hoodie-cli/pom.xml       | 6 ++----
 hoodie-client/pom.xml    | 6 ++----
 hoodie-common/pom.xml    | 6 ++----
 hoodie-hadoop-mr/pom.xml | 6 ++----
 hoodie-hive/pom.xml      | 6 ++----
 hoodie-spark/pom.xml     | 6 ++----
 hoodie-utilities/pom.xml | 6 ++----
 pom.xml                  | 8 +++-----
 8 files changed, 17 insertions(+), 33 deletions(-)

commit 0eaa21111a1e1bcd9f0597c62b33d31866ac43c6
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Feb 28 15:58:19 2018 -0800

    Re-factoring Compaction as first level API in WriteClient similar to upsert/insert

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 118 ++++++++++++--
 .../uber/hoodie/config/HoodieCompactionConfig.java |   2 +-
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   4 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   | 174 +++++++++------------
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  13 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  22 +--
 .../java/com/uber/hoodie/table/HoodieTable.java    |  17 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  34 ++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 127 +++++++++++----
 9 files changed, 318 insertions(+), 193 deletions(-)

commit 5405a6287bca1f9b3692316367c0806ed21e5ba5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Feb 15 11:01:25 2018 -0800

    Introducing HoodieLogFormat V2 with versioning support
                    - HoodieLogFormat V2 has support for LogFormat evolution through versioning
                            - LogVersion is associated with a LogBlock not a LogFile
                            - Based on a version for a LogBlock, approporiate code path is executed
                    - Implemented LazyReading of Hoodie Log Blocks with Memory / IO tradeoff
                    - Implemented Reverse pointer to be able to traverse the log in reverse
                    - Introduce new MAGIC for backwards compatibility with logs without versions

 docs/_data/topnav.yml                              |   2 +-
 docs/code_and_design.md                            |  38 ++
 docs/code_structure.md                             |  16 -
 docs/configurations.md                             |   8 +
 docs/images/hoodie_log_format_v2.png               | Bin 0 -> 223676 bytes
 .../cli/commands/ArchivedCommitsCommand.java       |  12 +-
 .../uber/hoodie/config/HoodieCompactionConfig.java |  25 +
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  12 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  17 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   8 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   3 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  11 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |   2 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |  13 +
 .../table/log/HoodieCompactedLogRecordScanner.java | 257 ++++----
 .../common/table/log/HoodieLogFileReader.java      | 410 ++++++++++++
 .../hoodie/common/table/log/HoodieLogFormat.java   |  30 +-
 .../common/table/log/HoodieLogFormatReader.java    | 197 ++----
 .../common/table/log/HoodieLogFormatWriter.java    |  66 +-
 .../hoodie/common/table/log/LogFormatVersion.java  | 131 ++++
 .../table/log/block/HoodieAvroDataBlock.java       | 224 +++++--
 .../common/table/log/block/HoodieCommandBlock.java |  63 +-
 .../common/table/log/block/HoodieCorruptBlock.java |  65 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |  84 ++-
 .../common/table/log/block/HoodieLogBlock.java     | 189 +++++-
 .../common/table/log/block/LogBlockVersion.java    |  79 +++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   7 +-
 .../common/table/log/HoodieLogFormatTest.java      | 689 ++++++++++++++++-----
 .../realtime/HoodieRealtimeRecordReader.java       |  10 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   7 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   3 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |   7 +-
 32 files changed, 2037 insertions(+), 648 deletions(-)

commit dfd1979c511d365cad32c6e52238f7e27c1f917b
Author: Jian Xu <jian@uber.com>
Date:   Thu Mar 1 14:04:16 2018 -0800

    Handle inflight clean instants during Hoodie instants archiving

 .../java/com/uber/hoodie/io/HoodieCommitArchiveLog.java  |  6 ++++--
 .../com/uber/hoodie/io/TestHoodieCommitArchiveLog.java   | 16 +++++++++++++++-
 .../com/uber/hoodie/common/model/HoodieTestUtils.java    |  8 ++++++++
 3 files changed, 27 insertions(+), 3 deletions(-)

commit 5d5c306e647e192bcf97b9ef9c970ed4759f116f
Author: Jian Xu <jian@uber.com>
Date:   Thu Feb 22 11:20:54 2018 -0800

    Add new APIs in HoodieReadClient and HoodieWriteClient

 .../java/com/uber/hoodie/HoodieReadClient.java     |  56 +++++--
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 161 ++++++++++++++++-----
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  21 ++-
 3 files changed, 173 insertions(+), 65 deletions(-)

commit 6fec9655a8394aeec6897ec16618acbd58b51e58
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Dec 6 13:11:27 2017 -0800

    Added support for Disk Spillable Compaction to prevent OOM issues

 .../uber/hoodie/config/HoodieCompactionConfig.java |  19 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   5 +
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   5 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   1 +
 .../io/compact/HoodieRealtimeTableCompactor.java   |  20 +-
 .../table/log/HoodieCompactedLogRecordScanner.java |  70 +++--
 .../uber/hoodie/common/util/SpillableMapUtils.java | 155 ++++++++++
 .../common/util/collection/DiskBasedMap.java       | 326 +++++++++++++++++++++
 .../util/collection/ExternalSpillableMap.java      | 256 ++++++++++++++++
 .../common/util/collection/LazyFileIterable.java   | 116 ++++++++
 .../io/storage/SizeAwareDataOutputStream.java      |  69 +++++
 .../exception/HoodieCorruptedDataException.java    |  32 ++
 .../common/table/log/HoodieLogFormatTest.java      |  69 +++--
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  23 +-
 .../hoodie/common/util/SpillableMapTestUtils.java  |  47 +++
 .../common/util/collection/TestDiskBasedMap.java   | 107 +++++++
 .../util/collection/TestExternalSpillableMap.java  | 245 ++++++++++++++++
 .../realtime/HoodieRealtimeRecordReader.java       |   8 +-
 18 files changed, 1487 insertions(+), 86 deletions(-)

commit d4954843998c2934acc64fc0ae5573fcd727d77b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Feb 1 12:36:12 2018 -0800

    Write smaller sized multiple blocks to log file instead of a large one
            - Use SizeEstimator to size number of records to write
            - Configurable block size
            - Configurable log file size

 docs/configurations.md                             |   4 +
 .../uber/hoodie/config/HoodieStorageConfig.java    |  20 +++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   9 ++
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 140 ++++++++++++---------
 4 files changed, 111 insertions(+), 62 deletions(-)

commit eb3d0c470f1d477f25e40c337196ba68e017895d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Feb 13 17:40:09 2018 -0800

    Fix formatting in HoodieWriteClient

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 1646 ++++++++++----------
 1 file changed, 819 insertions(+), 827 deletions(-)

commit 3bdd750982c8a8cd18d6e02040e7a00d7244c018
Author: Jian Xu <jian@uber.com>
Date:   Tue Jan 30 17:13:54 2018 -0800

    Use FastDateFormat for thread safety
    
    Use FastDateFormat for thread safety, this is to fix an exception when a
    job is used to ingest multiple tables.  An example exception:
    ```
    Caused by: java.lang.NumberFormatException: multiple points
            at sun.misc.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1890)
            at sun.misc.FloatingDecimal.parseDouble(FloatingDecimal.java:110)
            at java.lang.Double.parseDouble(Double.java:538)
            at java.text.DigitList.getDouble(DigitList.java:169)
            at java.text.DecimalFormat.parse(DecimalFormat.java:2056)
            at java.text.SimpleDateFormat.subParse(SimpleDateFormat.java:1867)
            at java.text.SimpleDateFormat.parse(SimpleDateFormat.java:1514)
            at java.text.DateFormat.parse(DateFormat.java:364)
            at com.uber.hoodie.HoodieWriteClient.commit(HoodieWriteClient.java:442)
    ```

 .../com/uber/hoodie/common/table/timeline/HoodieActiveTimeline.java   | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 7076c2e9f0cd5d27c1bf58ee80f6ecd9058d80bd
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Jan 24 13:34:14 2018 -0800

    refactor classes to accept Map passed by RealtimeCompactor to avoid multiple map creations in HoodieMergeHandle

 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 130 ++++++++++++---------
 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  20 +++-
 .../table/log/HoodieCompactedLogRecordScanner.java |  14 ++-
 4 files changed, 103 insertions(+), 63 deletions(-)

commit 30049383f5a5c52d1e169dcd3b541ccaca96400f
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Jan 10 21:10:22 2018 -0800

    Small File Size correction handling for MOR table type

 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  11 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  91 ++++++++++++++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 119 +++++++++++++++++----
 3 files changed, 192 insertions(+), 29 deletions(-)

commit 2116815261cad10a350189f15e95318b33ab628d
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Dec 14 21:34:54 2017 -0800

    Fixing Rollback for compaction/commit operation, added check for null commit
            - Fallback to old way of rollback by listing all partitions
            - Added null check to ensure only partitions which are to be rolledback are considered
            - Added location (committime) to workload stat
            - Added checks in CompactedScanner to guard against task retries
            - Introduce new logic for rollback (bounded by instant_time and target_instant time)
            - Reversed logfiles order

 .../java/com/uber/hoodie/HoodieWriteClient.java    |   3 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   2 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   6 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   3 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 186 ++++++++++-----------
 .../java/com/uber/hoodie/table/WorkloadStat.java   |   8 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |   3 +-
 .../table/log/HoodieCompactedLogRecordScanner.java | 122 +++++++++-----
 .../common/table/log/HoodieLogFormatTest.java      | 175 +++++++++++++++++--
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   2 +-
 10 files changed, 348 insertions(+), 162 deletions(-)

commit be0b1f3e571a803418fa4f182788403e41aed306
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Dec 15 21:29:02 2017 -0800

    Adding global indexing to HbaseIndex implementation
            - Adding tests or HbaseIndex
            - Enabling global index functionality

 hoodie-client/pom.xml                              |  30 +-
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  19 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   8 +
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    | 189 ++++++++----
 .../java/com/uber/hoodie/index/TestHbaseIndex.java | 318 +++++++++++++++++++++
 5 files changed, 508 insertions(+), 56 deletions(-)

commit 15e669c60c039589db4a0aaa81adeedfb196e514
Author: Jian Xu <jian@uber.com>
Date:   Tue Jan 30 11:18:00 2018 -0800

    Incorporating code review feedback for finalizeWrite for COW #4

 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  41 +++---
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  10 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  21 ++-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  10 ++
 .../java/com/uber/hoodie/table/HoodieTable.java    |   1 -
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 141 ++++++++-------------
 6 files changed, 98 insertions(+), 126 deletions(-)

commit 3736243fb32ae6d19fd5864e36aa0c3f6288b8bd
Author: Jian Xu <jian@uber.com>
Date:   Thu Jan 18 12:39:30 2018 -0800

    Rebases with latest upstream

 .../java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java     |  6 +++---
 .../com/uber/hoodie/TestHoodieClientOnCopyOnWriteStorage.java  | 10 ++++------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit 363e35bb0f28d5f1a91229a82a9a15555da292be
Author: Jian Xu <jian@uber.com>
Date:   Thu Jan 18 11:29:10 2018 -0800

    Add finalizeWrite support for HoodieMergeHandle

 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 13 +++++++++++
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java | 26 ++++++++++++++++------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  5 -----
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  1 +
 4 files changed, 33 insertions(+), 12 deletions(-)

commit acae6586f3031a5969cdc51fcfa8fd0764f41f8e
Author: Jian Xu <jian@uber.com>
Date:   Thu Dec 21 09:58:51 2017 -0800

    Incorporating code review feedback for finalizeWrite for COW #3

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java         | 6 ------
 .../src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java  | 2 +-
 .../main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java  | 9 +++++++--
 .../src/main/java/com/uber/hoodie/table/HoodieTable.java         | 4 ----
 4 files changed, 8 insertions(+), 13 deletions(-)

commit 37f2cdd7e43f94bdc89268755a7d3fbacdd57980
Author: Jian Xu <jian@uber.com>
Date:   Thu Dec 14 13:36:32 2017 -0800

    Incorporating code review feedback for finalizeWrite for COW #2

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  1 -
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  6 +--
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 18 -------
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  5 --
 .../java/com/uber/hoodie/table/HoodieTable.java    |  5 --
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 11 ++++
 .../hoodie/common/table/HoodieTableMetaClient.java |  5 ++
 .../hoodie/common/model/TestHoodieWriteStat.java   | 62 ++++++++++++++++++++++
 8 files changed, 79 insertions(+), 34 deletions(-)

commit 2fe4fef62513f0a4f29042b1289ad7c1d7318b54
Author: Jian Xu <jian@uber.com>
Date:   Wed Dec 6 14:35:44 2017 -0800

    Incorporating code review feedback for finalizeWrite for COW

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 54 +++----------------
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 32 +++++------
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  6 +--
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 62 +++++++++++++++++++++-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 10 ++++
 .../java/com/uber/hoodie/table/HoodieTable.java    | 10 ++++
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  2 +-
 7 files changed, 106 insertions(+), 70 deletions(-)

commit c874248f238401d90ff872396db7ad486a161b1d
Author: Jian Xu <jian@uber.com>
Date:   Wed Nov 29 16:59:28 2017 -0800

    Add FinalizeWrite in HoodieCreateHandle for COW tables

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 69 +++++++++++++++-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 26 ++++++
 .../com/uber/hoodie/io/HoodieCreateHandle.java     | 27 ++++++-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  7 ++
 .../com/uber/hoodie/metrics/HoodieMetrics.java     | 19 +++++
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 36 +++++++++
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  5 ++
 .../java/com/uber/hoodie/table/HoodieTable.java    | 10 +++
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 94 ++++++++++++++++++++++
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 15 ++++
 .../hoodie/common/table/HoodieTableMetaClient.java |  1 +
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  4 +
 .../com/uber/hoodie/common/util/TestFSUtils.java   | 12 +++
 13 files changed, 318 insertions(+), 7 deletions(-)

commit e10100fe327d775019de019e01e4cf566a940387
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Jan 23 15:10:43 2018 -0800

    Reducing list status calls from listing logfile versions, some associated refactoring

 .../main/java/com/uber/hoodie/io/HoodieAppendHandle.java | 16 +++++++++++-----
 .../src/main/java/com/uber/hoodie/io/HoodieIOHandle.java |  2 --
 .../main/java/com/uber/hoodie/io/HoodieMergeHandle.java  |  3 +++
 .../hoodie/io/compact/HoodieRealtimeTableCompactor.java  |  5 +++--
 .../java/com/uber/hoodie/common/model/HoodieLogFile.java |  1 +
 .../main/java/com/uber/hoodie/common/util/FSUtils.java   |  4 ++--
 6 files changed, 20 insertions(+), 11 deletions(-)

commit 937ae322bac73ac8d58f22ae2390cd4953e26139
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Dec 15 14:03:06 2017 -0800

    Reducing memory footprint required in HoodieAvroDataBlock and HoodieAppendHandle

 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  7 +-
 .../common/storage/SizeAwareDataInputStream.java   | 63 +++++++++++++++++
 .../table/log/block/HoodieAvroDataBlock.java       | 56 ++++++++-------
 .../common/table/log/block/HoodieCommandBlock.java |  4 +-
 .../common/table/log/block/HoodieCorruptBlock.java |  4 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |  4 +-
 .../common/table/log/block/HoodieLogBlock.java     |  3 +-
 .../common/table/log/HoodieLogFormatTest.java      | 81 +++++++++++++++++-----
 8 files changed, 174 insertions(+), 48 deletions(-)

commit 85d32930cd919ad8897efac1170c8ed6bf7b9a5c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Jan 18 00:05:22 2018 -0800

    Update Gemfile.lock

 docs/Gemfile.lock | 56 ++++++++++++++++++++++++++++++-------------------------
 1 file changed, 31 insertions(+), 25 deletions(-)

commit 21ce846f1807ffb94063098e2e4f4e4f9e345f0c
Author: vinothchandar <vinoth@bytearray.io>
Date:   Wed Jan 3 16:05:30 2018 -0800

    Remove stateful fs member from HoodieTestUtils & FSUtils

 .../TestHoodieClientOnCopyOnWriteStorage.java      | 18 ++++++++---------
 .../src/test/java/com/uber/hoodie/TestMultiFS.java | 23 ++++++++++++----------
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  2 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  2 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  4 ++--
 .../com/uber/hoodie/io/TestHoodieCompactor.java    | 10 +++++++---
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  2 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 20 ++++++-------------
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 13 ------------
 .../hoodie/common/minicluster/HdfsTestService.java |  8 ++------
 .../uber/hoodie/common/model/HoodieTestUtils.java  | 23 ++++++++++------------
 .../common/table/HoodieTableMetaClientTest.java    |  9 +++------
 .../common/table/log/HoodieLogFormatTest.java      |  4 +---
 .../table/string/HoodieActiveTimelineTest.java     |  2 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 19 ++++++++----------
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  8 ++++++--
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  5 ++---
 .../hoodie/utilities/TestHDFSParquetImporter.java  |  3 ---
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  2 +-
 19 files changed, 74 insertions(+), 103 deletions(-)

commit cf7f7aabb97e4bbcfbfb84ec79f56458a731f582
Author: vinothchandar <vinoth@bytearray.io>
Date:   Wed Jan 3 04:32:21 2018 -0800

    Nicer handling of timeline archival for Cloud storage
    
     - When append() is not supported, rollover to new file always (instead of failing)
     - Provide way to configure archive log folder (avoids small files inside .hoodie)
     - Datasets written via Spark datasource archive to .hoodie/archived
     - HoodieClientExample will now retain only 2,3 commits to exercise archival path during dev cycles
     - Few tweaks to code structure around CommitArchiveLog

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  4 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java | 27 ++++-------
 .../src/test/java/HoodieClientExample.java         |  6 ++-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 54 +++++++++++-----------
 .../hoodie/common/table/HoodieTableConfig.java     | 11 +++++
 .../hoodie/common/table/HoodieTableMetaClient.java | 24 ++++++++++
 .../common/table/log/HoodieLogFormatWriter.java    | 11 ++++-
 .../table/timeline/HoodieArchivedTimeline.java     |  6 +--
 .../common/table/HoodieTableMetaClientTest.java    |  2 +-
 .../common/table/log/HoodieLogFormatTest.java      | 30 ++++++++++++
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  1 +
 .../main/scala/com/uber/hoodie/DefaultSource.scala |  1 +
 12 files changed, 121 insertions(+), 56 deletions(-)

commit 0cd186c899fca8362c9c68eb63d171a13ff25af3
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Dec 10 23:31:54 2017 -0800

    Multi FS Support
    
     - Reviving PR 191, to make FileSystem creation off actual path
     - Streamline all filesystem access to HoodieTableMetaClient
     - Hadoop Conf from Spark Context serialized & passed to executor code too
     - Pick up env vars prefixed with HOODIE_ENV_ into Configuration object
     - Cleanup usage of FSUtils.getFS, piggybacking off HoodieTableMetaClient.getFS
     - Adding s3a to supported schemes & support escaping "." in env vars
     - Tests use HoodieTestUtils.getDefaultHadoopConf

 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |   3 +-
 .../cli/commands/ArchivedCommitsCommand.java       |   8 +-
 .../uber/hoodie/cli/commands/CleansCommand.java    |   2 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |   9 +-
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |   2 +-
 .../hoodie/cli/commands/SavepointsCommand.java     |   2 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |   4 +-
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   2 +
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |   4 +-
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |   3 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |   8 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  98 +++++++------
 .../com/uber/hoodie/func/LazyInsertIterable.java   |   3 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  11 +-
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  19 ++-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |   3 -
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   7 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   7 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  42 +++---
 .../hoodie/io/storage/HoodieParquetWriter.java     |  10 +-
 .../io/storage/HoodieStorageWriterFactory.java     |   8 +-
 .../hoodie/io/storage/HoodieWrapperFileSystem.java |  44 +++---
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  29 ++--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  22 ++-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  16 +--
 .../src/test/java/HoodieClientExample.java         |   2 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 140 +++++++++---------
 .../src/test/java/com/uber/hoodie/TestMultiFS.java | 159 +++++++++++++++++++++
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   2 +-
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |  11 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   5 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  11 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  26 ++--
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  14 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  38 +++--
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  27 ++--
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  91 ++++++------
 hoodie-common/pom.xml                              |   6 +
 .../uber/hoodie/avro/MercifulJsonConverter.java    |   2 +-
 .../hoodie/common/SerializableConfiguration.java   |  56 ++++++++
 .../com/uber/hoodie/common/model/ActionType.java   |   2 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |  29 ++--
 .../table/log/HoodieCompactedLogRecordScanner.java |   2 +-
 .../hoodie/common/table/log/HoodieLogFormat.java   |   2 +-
 .../common/table/log/block/HoodieLogBlock.java     |   2 +-
 .../table/timeline/HoodieActiveTimeline.java       |  50 +++----
 .../table/timeline/HoodieArchivedTimeline.java     |  19 ++-
 .../table/view/HoodieTableFileSystemView.java      |   8 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |   6 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  28 +++-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  44 +++---
 .../hoodie/common/minicluster/HdfsTestService.java |   5 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  14 +-
 .../common/table/log/HoodieLogFormatTest.java      |   8 +-
 .../table/string/HoodieActiveTimelineTest.java     |   4 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |   2 +-
 .../com/uber/hoodie/common/util/TestFSUtils.java   |  20 +++
 .../uber/hoodie/common/util/TestParquetUtils.java  |   8 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   2 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |   5 +-
 .../realtime/HoodieRealtimeRecordReader.java       |   7 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  16 ++-
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |   3 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   2 +-
 .../com/uber/hoodie/hive/util/HiveTestService.java |   3 +-
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |   2 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |   5 +-
 hoodie-spark/src/test/scala/DataSourceTest.scala   |   2 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  51 +++----
 .../hoodie/utilities/HiveIncrementalPuller.java    |   4 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  19 +--
 .../deltastreamer/HoodieDeltaStreamer.java         |  11 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |   3 +-
 .../uber/hoodie/utilities/sources/DFSSource.java   |   2 +-
 .../utilities/sources/HiveIncrPullSource.java      |   2 +-
 .../uber/hoodie/utilities/sources/KafkaSource.java |   7 +-
 .../hoodie/utilities/TestHDFSParquetImporter.java  |   4 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  27 ++--
 78 files changed, 851 insertions(+), 535 deletions(-)

commit 44839b88c6e190ab4293425430c4070dd08958dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Dec 5 00:58:53 2017 -0800

    Removing compaction action type and associated compaction timeline operations, replace with commit action type

 .../cli/commands/ArchivedCommitsCommand.java       |   6 --
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  12 +--
 .../hoodie/cli/commands/HoodieSyncCommand.java     |   4 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |   2 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  32 +++---
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |   2 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  32 ++----
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  13 ++-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  61 ++++++------
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   5 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  13 +--
 .../java/com/uber/hoodie/table/HoodieTable.java    |  56 +++--------
 .../TestHoodieClientOnCopyOnWriteStorage.java      |   6 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  14 +--
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   9 +-
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  14 +--
 .../src/main/avro/HoodieCommitMetadata.avsc        |  16 +++
 .../hoodie/common/model/CompactionWriteStat.java   | 108 ---------------------
 .../hoodie/common/model/HoodieCommitMetadata.java  |  32 ++++--
 .../common/model/HoodieCompactionMetadata.java     |  86 ----------------
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  61 ++++++++++++
 .../uber/hoodie/common/table/HoodieTimeline.java   |  11 ---
 .../table/timeline/HoodieActiveTimeline.java       |  21 ++--
 .../common/table/timeline/HoodieInstant.java       |   4 -
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   2 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   2 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |   1 -
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  30 +++---
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  39 ++++----
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |   7 +-
 .../com/uber/hoodie/IncrementalRelation.scala      |   2 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |   6 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   4 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |   2 +-
 34 files changed, 265 insertions(+), 450 deletions(-)

commit a1c0d0dbad5f9bc3e020a83953668d00bfa574ef
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sun Dec 10 07:50:37 2017 -0800

    Update README.md
    
    Reflect hudi

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 4aed5c7338701310ea7f71459b80a532ad5eccd7
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Oct 25 13:30:15 2017 -0700

    Adding a new Partition/Time based compaction strategy

 .../io/compact/HoodieRealtimeTableCompactor.java   |  1 +
 .../strategy/DayBasedCompactionStrategy.java       | 62 ++++++++++++++++++++++
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  2 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  | 39 ++++++++++++--
 4 files changed, 98 insertions(+), 6 deletions(-)

commit 051f600b7f14db4883bb0178a6a2089365375351
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Nov 30 17:21:34 2017 -0800

    Enable hive sync even if there is no compaction commit

 .../java/com/uber/hoodie/hive/HoodieHiveClient.java | 21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 9b610f82c736bf7d20348e6670880e16f3ccf457
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Nov 13 10:36:33 2017 -0800

    Separating out compaction() API

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 43 ++++++++++++++++++----
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  4 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   | 13 +++----
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  2 +-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 17 +++++----
 .../java/com/uber/hoodie/table/HoodieTable.java    |  3 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    | 22 ++++++-----
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 32 ++++++++--------
 8 files changed, 85 insertions(+), 51 deletions(-)

commit e45679f5e28ea88c99479b8111b07421a956e9b8
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Nov 12 22:54:56 2017 -0800

    Reformatting code per Google Code Style all over

 hoodie-cli/pom.xml                                 |    6 +-
 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |   46 +-
 .../hoodie/cli/HoodieHistoryFileNameProvider.java  |   14 +-
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |   15 +-
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |   41 +-
 .../com/uber/hoodie/cli/HoodieSplashScreen.java    |   63 +-
 .../src/main/java/com/uber/hoodie/cli/Main.java    |   20 +-
 .../cli/commands/ArchivedCommitsCommand.java       |  158 +-
 .../uber/hoodie/cli/commands/CleansCommand.java    |  137 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  409 +--
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |   26 +-
 .../cli/commands/HDFSParquetImportCommand.java     |   97 +-
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  168 +-
 .../uber/hoodie/cli/commands/RepairsCommand.java   |  129 +-
 .../hoodie/cli/commands/SavepointsCommand.java     |  212 +-
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  185 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  194 +-
 .../com/uber/hoodie/cli/commands/UtilsCommand.java |   15 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   25 +-
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |  179 +-
 .../uber/hoodie/cli/utils/InputStreamConsumer.java |   53 +-
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   81 +-
 .../META-INF/spring/spring-shell-plugin.xml        |    8 +-
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |   43 +-
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |   10 +-
 hoodie-client/pom.xml                              |  326 +--
 .../java/com/uber/hoodie/HoodieReadClient.java     |  252 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  284 +-
 .../src/main/java/com/uber/hoodie/WriteStatus.java |  247 +-
 .../uber/hoodie/config/DefaultHoodieConfig.java    |   36 +-
 .../uber/hoodie/config/HoodieCompactionConfig.java |  424 +--
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  233 +-
 .../uber/hoodie/config/HoodieMetricsConfig.java    |  154 +-
 .../uber/hoodie/config/HoodieStorageConfig.java    |  102 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  682 ++---
 .../hoodie/exception/HoodieAppendException.java    |   18 +-
 .../hoodie/exception/HoodieCommitException.java    |   16 +-
 .../exception/HoodieCompactionException.java       |    1 +
 .../HoodieDependentSystemUnavailableException.java |   19 +-
 .../hoodie/exception/HoodieInsertException.java    |   14 +-
 .../hoodie/exception/HoodieRollbackException.java  |   12 +-
 .../hoodie/exception/HoodieSavepointException.java |   12 +-
 .../hoodie/exception/HoodieUpsertException.java    |   20 +-
 .../uber/hoodie/func/BulkInsertMapFunction.java    |   39 +-
 .../com/uber/hoodie/func/LazyInsertIterable.java   |  154 +-
 .../com/uber/hoodie/func/LazyIterableIterator.java |  167 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  182 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  192 +-
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |  115 +-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  |  691 ++---
 .../index/bloom/HoodieBloomIndexCheckFunction.java |  286 +-
 .../uber/hoodie/index/bloom/IndexLookupResult.java |   24 +-
 .../uber/hoodie/index/bucketed/BucketedIndex.java  |  149 +-
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    |  400 +--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  283 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  388 ++-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  394 +--
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  181 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  110 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  360 +--
 .../hoodie/io/compact/CompactionOperation.java     |    5 +-
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   31 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   45 +-
 .../strategy/BoundedIOCompactionStrategy.java      |    9 +-
 .../io/compact/strategy/CompactionStrategy.java    |   18 +-
 .../LogFileSizeBasedCompactionStrategy.java        |    4 +-
 .../strategy/UnBoundedCompactionStrategy.java      |    6 +-
 .../hoodie/io/storage/HoodieParquetConfig.java     |   70 +-
 .../hoodie/io/storage/HoodieParquetWriter.java     |  123 +-
 .../hoodie/io/storage/HoodieStorageWriter.java     |   15 +-
 .../io/storage/HoodieStorageWriterFactory.java     |   46 +-
 .../hoodie/io/storage/HoodieWrapperFileSystem.java | 1423 +++++-----
 .../io/storage/SizeAwareFSDataOutputStream.java    |   69 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |  194 +-
 .../hoodie/metrics/InMemoryMetricsReporter.java    |   21 +-
 .../main/java/com/uber/hoodie/metrics/Metrics.java |   87 +-
 .../hoodie/metrics/MetricsGraphiteReporter.java    |  105 +-
 .../com/uber/hoodie/metrics/MetricsReporter.java   |   19 +-
 .../hoodie/metrics/MetricsReporterFactory.java     |   36 +-
 .../uber/hoodie/metrics/MetricsReporterType.java   |    8 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 1104 ++++----
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  351 +--
 .../java/com/uber/hoodie/table/HoodieTable.java    |  515 ++--
 .../table/UserDefinedBulkInsertPartitioner.java    |   12 +-
 .../com/uber/hoodie/table/WorkloadProfile.java     |  145 +-
 .../java/com/uber/hoodie/table/WorkloadStat.java   |   62 +-
 hoodie-client/src/main/resources/log4j.properties  |    1 -
 .../src/test/java/HoodieClientExample.java         |  128 +-
 .../TestHoodieClientOnCopyOnWriteStorage.java      | 2811 ++++++++++----------
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  264 +-
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |  118 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |  284 +-
 .../com/uber/hoodie/common/TestRawTripPayload.java |  270 +-
 .../uber/hoodie/config/HoodieWriteConfigTest.java  |   10 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  150 +-
 .../com/uber/hoodie/index/TestHoodieIndex.java     |   41 +-
 .../hoodie/index/bloom/TestHoodieBloomIndex.java   |  933 +++----
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  384 +--
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  296 +--
 .../io/strategy/TestHoodieCompactionStrategy.java  |    2 -
 .../hoodie/io/strategy/TestHoodieDataFile.java     |    2 -
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |    1 -
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |   37 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  847 +++---
 .../uber/hoodie/table/TestMergeOnReadTable.java    |  989 +++----
 .../src/test/resources/log4j-surefire.properties   |    1 -
 hoodie-common/pom.xml                              |  244 +-
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |   75 +-
 .../uber/hoodie/avro/MercifulJsonConverter.java    |  239 +-
 .../java/com/uber/hoodie/common/BloomFilter.java   |  124 +-
 .../com/uber/hoodie/common/HoodieCleanStat.java    |  167 +-
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  141 +-
 .../com/uber/hoodie/common/HoodieRollbackStat.java |  117 +-
 .../com/uber/hoodie/common/model/ActionType.java   |    2 +-
 .../hoodie/common/model/CompactionWriteStat.java   |   10 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |  108 +-
 .../hoodie/common/model/HoodieArchivedLogFile.java |   22 +-
 .../hoodie/common/model/HoodieAvroPayload.java     |   53 +-
 .../hoodie/common/model/HoodieCleaningPolicy.java  |    4 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |  340 +--
 .../common/model/HoodieCompactionMetadata.java     |    9 +-
 .../uber/hoodie/common/model/HoodieDataFile.java   |   76 +-
 .../hoodie/common/model/HoodieDeltaWriteStat.java  |   28 +-
 .../uber/hoodie/common/model/HoodieFileFormat.java |   16 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  |  391 ++-
 .../com/uber/hoodie/common/model/HoodieKey.java    |   73 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |  145 +-
 .../common/model/HoodiePartitionMetadata.java      |  207 +-
 .../com/uber/hoodie/common/model/HoodieRecord.java |  247 +-
 .../hoodie/common/model/HoodieRecordLocation.java  |   69 +-
 .../hoodie/common/model/HoodieRecordPayload.java   |   81 +-
 .../uber/hoodie/common/model/HoodieTableType.java  |    2 +-
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  286 +-
 .../hoodie/common/table/HoodieTableConfig.java     |  241 +-
 .../hoodie/common/table/HoodieTableMetaClient.java |  413 ++-
 .../uber/hoodie/common/table/HoodieTimeline.java   |  399 ++-
 .../hoodie/common/table/TableFileSystemView.java   |  110 +-
 .../table/log/HoodieCompactedLogRecordScanner.java |  107 +-
 .../hoodie/common/table/log/HoodieLogFormat.java   |   34 +-
 .../common/table/log/HoodieLogFormatReader.java    |   20 +-
 .../common/table/log/HoodieLogFormatWriter.java    |   13 +-
 .../table/log/block/HoodieAvroDataBlock.java       |   41 +-
 .../common/table/log/block/HoodieCommandBlock.java |    7 +-
 .../common/table/log/block/HoodieCorruptBlock.java |   11 +-
 .../common/table/log/block/HoodieDeleteBlock.java  |   11 +-
 .../common/table/log/block/HoodieLogBlock.java     |   37 +-
 .../table/timeline/HoodieActiveTimeline.java       |  535 ++--
 .../table/timeline/HoodieArchivedTimeline.java     |  135 +-
 .../table/timeline/HoodieDefaultTimeline.java      |  235 +-
 .../common/table/timeline/HoodieInstant.java       |  181 +-
 .../table/view/HoodieTableFileSystemView.java      |  141 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |  271 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  648 ++---
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  267 +-
 .../com/uber/hoodie/common/util/NumericUtils.java  |   13 +-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  269 +-
 .../uber/hoodie/common/util/ReflectionUtils.java   |   22 +-
 .../hoodie/exception/DatasetNotFoundException.java |   57 +-
 .../com/uber/hoodie/exception/HoodieException.java |   49 +-
 .../uber/hoodie/exception/HoodieIOException.java   |   27 +-
 .../hoodie/exception/HoodieIndexException.java     |   17 +-
 .../exception/HoodieNotSupportedException.java     |    7 +-
 .../exception/HoodieRecordMissingException.java    |   20 +-
 .../hoodie/exception/InvalidDatasetException.java  |   17 +-
 .../exception/InvalidHoodiePathException.java      |    7 +-
 .../exception/MetadataNotFoundException.java       |   13 +-
 .../exception/SchemaCompatabilityException.java    |   19 +-
 .../com/uber/hoodie/common/TestBloomFilter.java    |   38 +-
 .../hoodie/common/minicluster/HdfsTestService.java |  241 +-
 .../hoodie/common/minicluster/MiniClusterUtil.java |   48 +-
 .../common/minicluster/ZookeeperTestService.java   |  366 ++-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  463 ++--
 .../common/table/HoodieTableMetaClientTest.java    |  215 +-
 .../common/table/log/HoodieLogFormatTest.java      |  171 +-
 .../table/string/HoodieActiveTimelineTest.java     |  192 +-
 .../common/table/string/MockHoodieTimeline.java    |   30 +-
 .../table/view/HoodieTableFileSystemViewTest.java  |  955 +++----
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  156 +-
 .../com/uber/hoodie/common/util/TestFSUtils.java   |   73 +-
 .../uber/hoodie/common/util/TestNumericUtils.java  |   26 +-
 .../uber/hoodie/common/util/TestParquetUtils.java  |  102 +-
 .../com/uber/hoodie/common/util/TestRecord.java    |  123 +-
 .../src/test/resources/log4j-surefire.properties   |    2 -
 hoodie-hadoop-mr/pom.xml                           |    7 +-
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |   73 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  409 ++-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  252 +-
 .../hadoop/UseFileSplitsFromInputFormat.java       |    6 +-
 .../hoodie/hadoop/realtime/HoodieParquetSerde.java |    6 +-
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  100 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  315 +--
 .../realtime/HoodieRealtimeRecordReader.java       |  492 ++--
 .../com/uber/hoodie/hadoop/AnnotationTest.java     |   27 +-
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |  421 +--
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  228 +-
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |   85 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  434 +--
 .../src/test/resources/log4j-surefire.properties   |    2 -
 hoodie-hive/pom.xml                                |    4 +-
 hoodie-hive/src/assembly/src.xml                   |    4 +-
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |    1 -
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    |   34 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   38 +-
 .../uber/hoodie/hive/HoodieHiveSyncException.java  |   30 +-
 .../uber/hoodie/hive/PartitionValueExtractor.java  |    6 +-
 .../com/uber/hoodie/hive/SchemaDifference.java     |  136 +-
 .../SlashEncodedDayPartitionValueExtractor.java    |    6 +-
 .../uber/hoodie/hive/util/ColumnNameXLator.java    |   36 +-
 .../java/com/uber/hoodie/hive/util/SchemaUtil.java |  720 +++--
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     |   58 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |   48 +-
 .../com/uber/hoodie/hive/util/HiveTestService.java |  474 ++--
 .../src/test/resources/log4j-surefire.properties   |    2 -
 hoodie-spark/pom.xml                               |  422 +--
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |   36 +-
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  198 +-
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |   88 +-
 .../main/java/com/uber/hoodie/KeyGenerator.java    |   23 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |   64 +-
 .../java/com/uber/hoodie/SimpleKeyGenerator.java   |   35 +-
 .../com/uber/hoodie/AvroConversionUtils.scala      |    4 +-
 .../src/main/scala/com/uber/hoodie/package.scala   |    2 +
 .../src/test/java/DataSourceTestUtils.java         |   32 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |  206 +-
 .../src/test/resources/log4j-surefire.properties   |    1 -
 .../src/test/scala/DataSourceDefaultsTest.scala    |    7 +-
 hoodie-spark/src/test/scala/DataSourceTest.scala   |    8 +-
 hoodie-utilities/pom.xml                           |  502 ++--
 hoodie-utilities/src/assembly/src.xml              |   10 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java |  438 +--
 .../hoodie/utilities/HiveIncrementalPuller.java    |  589 ++--
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  264 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |   77 +-
 .../deltastreamer/HoodieDeltaStreamer.java         |  548 ++--
 .../exception/HoodieDeltaStreamerException.java    |   13 +-
 .../exception/HoodieIncrementalPullException.java  |   14 +-
 .../HoodieIncrementalPullSQLException.java         |   13 +-
 .../keygen/TimestampBasedKeyGenerator.java         |  119 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |   66 +-
 .../hoodie/utilities/schema/SchemaProvider.java    |   14 +-
 .../hoodie/utilities/sources/AvroConvertor.java    |   88 +-
 .../uber/hoodie/utilities/sources/DFSSource.java   |  213 +-
 .../utilities/sources/HiveIncrPullSource.java      |  154 +-
 .../uber/hoodie/utilities/sources/KafkaSource.java |  336 +--
 .../com/uber/hoodie/utilities/sources/Source.java  |   50 +-
 .../hoodie/utilities/sources/SourceDataFormat.java |    8 +-
 .../delta-streamer-config/hoodie-client.properties |    1 -
 .../delta-streamer-config/key-generator.properties |    1 -
 .../schema-provider.properties                     |    2 -
 .../delta-streamer-config/source.properties        |    2 -
 .../hoodie/utilities/TestHDFSParquetImporter.java  |  449 ++--
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |  243 +-
 .../src/test/resources/log4j-surefire.properties   |    1 -
 pom.xml                                            | 1321 ++++-----
 254 files changed, 21926 insertions(+), 21454 deletions(-)

commit 5a62480a920f7e18bd67066df5516ddf4578525d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Nov 12 22:21:21 2017 -0800

    Update docs on code style setup

 docs/code_structure.md | 1 -
 docs/dev_setup.md      | 6 +++++-
 2 files changed, 5 insertions(+), 2 deletions(-)

commit abe964bebd1c4861a0756c2cf983fa7b7e0d8812
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Sep 26 11:16:35 2017 -0700

    Implementing custom payload/merge hooks abstractions for application specific merge logic

 .../uber/hoodie/config/HoodieCompactionConfig.java | 15 ++++-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  8 ++-
 .../src/test/java/HoodieClientExample.java         |  3 +-
 .../hoodie/common/table/HoodieTableConfig.java     | 17 +++++
 .../hoodie/common/table/HoodieTableMetaClient.java |  5 +-
 .../table/log/HoodieCompactedLogRecordScanner.java | 66 +++++++++++---------
 .../uber/hoodie/common/util/ReflectionUtils.java   | 72 +++++++++++++---------
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  1 +
 .../common/table/log/HoodieLogFormatTest.java      | 34 +++++++---
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  8 ++-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  2 +-
 .../realtime/HoodieRealtimeRecordReader.java       |  8 +--
 .../realtime/HoodieRealtimeRecordReaderTest.java   |  4 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  7 ++-
 .../main/java/com/uber/hoodie/DataSourceUtils.java |  3 +
 .../deltastreamer/HoodieDeltaStreamer.java         | 15 ++---
 16 files changed, 175 insertions(+), 93 deletions(-)

commit c7d63a7622f17d11f553bc269c04f3dc9d5af784
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Aug 17 17:31:55 2017 -0700

    1) Separated rollback as a table operation 2) Implement rollback for MOR

 .../cli/commands/ArchivedCommitsCommand.java       |   2 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  87 +++---
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  11 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |   1 +
 .../io/compact/HoodieRealtimeTableCompactor.java   |  10 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  79 +++++-
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  | 141 +++++++++-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  15 ++
 .../TestHoodieClientOnCopyOnWriteStorage.java      |  42 ++-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |   2 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   4 +
 .../uber/hoodie/table/TestMergeOnReadTable.java    | 228 +++++++++++++++-
 .../com/uber/hoodie/common/HoodieRollbackStat.java |  20 +-
 .../table/log/HoodieCompactedLogRecordScanner.java | 166 ++++++++----
 .../hoodie/common/table/log/HoodieLogFormat.java   |   4 +-
 .../common/table/log/HoodieLogFormatReader.java    |  16 +-
 .../table/log/block/HoodieAvroDataBlock.java       |  49 ++--
 .../common/table/log/block/HoodieCommandBlock.java |  36 ++-
 .../common/table/log/block/HoodieCorruptBlock.java |  44 ++-
 .../common/table/log/block/HoodieDeleteBlock.java  |  39 ++-
 .../common/table/log/block/HoodieLogBlock.java     |  92 ++++++-
 .../table/timeline/HoodieActiveTimeline.java       |   5 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   9 +-
 .../common/table/log/HoodieLogFormatTest.java      | 297 +++++++++++++++++----
 .../realtime/HoodieRealtimeRecordReader.java       |  16 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   7 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   2 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  32 ++-
 28 files changed, 1198 insertions(+), 258 deletions(-)

commit e1fe3ab9374bffebae98b2af7e10245d4b4018de
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Oct 2 22:42:54 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 9 insertions(+), 9 deletions(-)

commit 50139fe9040fd4ad500f3faa1dafabe8e017ef9d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Oct 2 22:42:32 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.4.0

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-spark/pom.xml     | 6 ++----
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 8 files changed, 10 insertions(+), 12 deletions(-)

commit 3768ad45fb7b59451cb2e8a2616deec1870b5b52
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Oct 2 22:24:21 2017 -0700

    Release notes for 0.4.0

 RELEASE_NOTES.md | 42 ++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit 274aaf49fedc9afd97092e169b970d600eeda7b1
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Oct 2 20:29:07 2017 -0700

    Incorporating code review feedback for DataSource

 docs/configurations.md                             |   4 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  10 +-
 .../uber/hoodie/common/util/SchemaTestUtil.java    |   8 ++
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  23 +----
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   2 +-
 .../main/java/com/uber/hoodie/DataSourceUtils.java |   5 +-
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |   2 -
 .../scala/com/uber/hoodie/DataSourceOptions.scala  |   7 +-
 hoodie-spark/src/test/java/HoodieJavaApp.java      |   7 +-
 .../src/test/scala/DataSourceDefaultsTest.scala    | 110 +++++++++++++++++++++
 hoodie-spark/src/test/scala/DataSourceTest.scala   |   6 +-
 11 files changed, 141 insertions(+), 43 deletions(-)

commit 64e0573aca01dfd07b23ec41e20acb307829733e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Aug 28 01:28:08 2017 -0700

    Adding hoodie-spark to support Spark Datasource for Hoodie
    
     - Write with COW/MOR paths work fully
     - Read with RO view works on both storages*
     - Incremental view supported on COW
     - Refactored out HoodieReadClient methods, to just contain key based access
     - HoodieDataSourceHelpers class can be now used to construct inputs to datasource
     - Tests in hoodie-client using new helpers and mechanisms
     - Basic tests around save modes & insert/upserts (more to follow)
     - Bumped up scala to 2.11, since 2.10 is deprecated & complains with scalatest
     - Updated documentation to describe usage
     - New sample app written using the DataSource API

 docs/_data/sidebars/mydoc_sidebar.yml              |   4 +-
 docs/configurations.md                             |  45 ++++
 docs/incremental_processing.md                     |  70 ++++--
 docs/quickstart.md                                 |  18 +-
 hoodie-cli/pom.xml                                 |   6 +-
 .../cli/commands/HDFSParquetImportCommand.java     |   3 +-
 hoodie-client/pom.xml                              |   6 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     | 118 +---------
 .../java/com/uber/hoodie/HoodieWriteClient.java    |   2 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   5 +
 .../src/test/java/HoodieClientExample.java         |   2 +-
 ...a => TestHoodieClientOnCopyOnWriteStorage.java} |  86 ++++----
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  95 ++++++++
 .../com/uber/hoodie/common/TestRawTripPayload.java |   3 +-
 .../hoodie/{ => table}/TestMergeOnReadTable.java   |  29 ++-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |   7 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |   2 +-
 hoodie-spark/pom.xml                               | 234 ++++++++++++++++++++
 .../main/java/com/uber/hoodie/BaseAvroPayload.java |   8 +-
 .../main/java/com/uber/hoodie/DataSourceUtils.java | 148 +++++++++++++
 .../com/uber/hoodie/HoodieDataSourceHelpers.java   |  88 ++++++++
 .../main/java/com/uber/hoodie}/KeyGenerator.java   |   2 +-
 .../hoodie/OverwriteWithLatestAvroPayload.java     |   9 +-
 .../java/com/uber/hoodie}/SimpleKeyGenerator.java  |  25 +--
 .../com/uber/hoodie/AvroConversionUtils.scala      | 126 +++++++++++
 .../scala/com/uber/hoodie/DataSourceOptions.scala  | 145 ++++++++++++
 .../main/scala/com/uber/hoodie/DefaultSource.scala | 244 +++++++++++++++++++++
 .../com/uber/hoodie/IncrementalRelation.scala      |  94 ++++++++
 .../src/main/scala/com/uber/hoodie/package.scala   |  36 +++
 .../src/test/java/DataSourceTestUtils.java         |  50 +++++
 hoodie-spark/src/test/java/HoodieJavaApp.java      | 148 +++++++++++++
 .../src/test/resources/log4j-surefire.properties   |  28 +++
 hoodie-spark/src/test/scala/DataSourceTest.scala   | 137 ++++++++++++
 hoodie-utilities/pom.xml                           |  17 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     |  25 +--
 .../deltastreamer/HoodieDeltaStreamer.java         |  16 +-
 .../keygen/TimestampBasedKeyGenerator.java         |   8 +-
 .../utilities/schema/FilebasedSchemaProvider.java  |   4 +-
 .../uber/hoodie/utilities/sources/DFSSource.java   |   4 +-
 .../utilities/sources/HiveIncrPullSource.java      |   4 +-
 .../uber/hoodie/utilities/sources/KafkaSource.java |   4 +-
 .../delta-streamer-config/key-generator.properties |   4 +-
 .../src/test/java/HoodieSparkSQLExample.java       |  43 ----
 pom.xml                                            |   9 +-
 44 files changed, 1830 insertions(+), 331 deletions(-)

commit c98ee057fcd9d2566e5cefcf15bd5d2e5ec9283e
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   Tue Aug 22 14:48:04 2017 -0700

    capture record metadata before deflating for record counting

 .../src/main/java/com/uber/hoodie/WriteStatus.java | 40 +++++++++----
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 14 +++++
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 11 ++--
 .../com/uber/hoodie/io/HoodieCreateHandle.java     |  9 +--
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |  8 ++-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java | 20 +++++++
 .../com/uber/hoodie/common/TestRawTripPayload.java | 68 ++++++++++++++++++++++
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 39 ++++++++++++-
 .../hoodie/common/model/HoodieRecordPayload.java   | 10 ++++
 9 files changed, 194 insertions(+), 25 deletions(-)

commit f2980052cd2a1eba3ebd62a2683a417ff9484258
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Sep 28 07:24:39 2017 -0700

    Revert effects of PR #259

 .../src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java  | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 9f98ae643b20203e8fbb9bf65248f9392e54bd3e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Sep 28 09:57:28 2017 -0700

    Adding canIndexLogFiles(), isImplicitWithStorage(), isGlobal() to HoodieIndex

 .../src/main/java/com/uber/hoodie/WriteStatus.java |  2 ++
 .../java/com/uber/hoodie/index/HoodieIndex.java    | 29 +++++++++++++++++++
 .../com/uber/hoodie/index/InMemoryHashIndex.java   | 31 +++++++++++++++++++-
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  | 30 ++++++++++++++++++++
 .../uber/hoodie/index/bucketed/BucketedIndex.java  | 33 ++++++++++++++++++++++
 .../com/uber/hoodie/index/hbase/HBaseIndex.java    | 30 ++++++++++++++++++++
 6 files changed, 154 insertions(+), 1 deletion(-)

commit 6230e151916ce2f0f76a43c792528d7cabfabc57
Author: Eric Sayle <esayle@uber.com>
Date:   Mon Sep 18 16:14:09 2017 -0700

    Update deprecated hash function
    
    Guava deprecated hashString(String) in v15, and removed it in v16.
    Replace call with hashUnencodedString(String), which replace it, to
    be compatible with newer versions of Guava.

 .../src/main/java/com/uber/hoodie/table/HoodieCopyOnWriteTable.java     | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7e9a4a89dd65d7b3791b56284120f98833a31139
Author: Jian Xu <jian@uber.com>
Date:   Wed Sep 6 15:30:15 2017 -0700

    Use getFileStatus to get single FileStatus for single file

 hoodie-common/src/main/java/com/uber/hoodie/common/util/FSUtils.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5c639c0b05ecb6ae6fcffd6724d15a6c7329b37b
Author: Omkar Joshi <omkar@uber.com>
Date:   Fri Sep 8 16:09:39 2017 -0700

    Adding support for UserDefinedBulkInsertPartitioner

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 35 ++++++++++++++++++++--
 .../table/UserDefinedBulkInsertPartitioner.java    | 32 ++++++++++++++++++++
 2 files changed, 64 insertions(+), 3 deletions(-)

commit ec40d04d514aff1c33eda768651d7e007d629460
Author: Omkar Joshi <omkar@uber.com>
Date:   Sat Sep 2 14:59:10 2017 -0700

    Fixing UpsertPartitioner to ensure that input records are deterministically assigned to output partitions

 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 52 +++++++---------------
 .../java/com/uber/hoodie/TestHoodieClient.java     | 32 ++++++-------
 2 files changed, 33 insertions(+), 51 deletions(-)

commit e2d13c63052a90ac109e26cad05b04c3678aa953
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Aug 14 11:57:38 2017 -0700

    Fix build failing issues

 .../src/test/java/com/uber/hoodie/TestMergeOnReadTable.java       | 8 ++++----
 .../test/java/com/uber/hoodie/common/HoodieClientTestUtils.java   | 2 +-
 .../java/com/uber/hoodie/utilities/TestHDFSParquetImporter.java   | 2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 63f1b123554c9c350958beebb539a538bcd52cd2
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Aug 25 14:12:19 2017 -0700

    adding ability to read archived files written in log format

 .../cli/commands/ArchivedCommitsCommand.java       | 123 +++++++++++++++++++++
 1 file changed, 123 insertions(+)

commit e484e91807caeda5afd905b649c97902ec0cdde5
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed Jul 26 11:49:22 2017 -0700

    adding new config to separate shuffle and write parallelism

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java    |  2 +-
 .../main/java/com/uber/hoodie/config/HoodieWriteConfig.java | 13 ++++++++++++-
 2 files changed, 13 insertions(+), 2 deletions(-)

commit b1cf097b0cb685ebfb0e507ac8ad777de6baa8ac
Author: Jian Xu <jian@uber.com>
Date:   Fri Jun 30 17:03:44 2017 -0700

    Add nested fields support for MOR tables

 .../uber/hoodie/common/util/SchemaTestUtil.java    |   5 +
 .../com/uber/hoodie/common/util/TestRecord.java    |  98 +++++++++++++++++
 .../src/test/resources/complex-test-evolved.avro   |  17 +++
 .../realtime/HoodieRealtimeRecordReader.java       |  20 +++-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  13 ++-
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 122 ++++++++++++++++++++-
 6 files changed, 268 insertions(+), 7 deletions(-)

commit 6a3c94aaa30cb00675ff416d0d33ba3a1e868ccc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Mon Aug 14 11:45:36 2017 -0700

    suppressing logs (under 4MB) for jenkins

 hoodie-client/src/test/resources/log4j-surefire.properties | 3 +++
 hoodie-common/src/test/resources/log4j-surefire.properties | 2 ++
 2 files changed, 5 insertions(+)

commit 5ee4ac40ae479fc5558863ed425d8e26157f9b34
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Jul 25 17:25:41 2017 -0700

    Use CompletedFileSystemView instead of CompactedView considering deltacommits

 .../src/main/java/com/uber/hoodie/io/HoodieCleanHelper.java         | 2 +-
 hoodie-client/src/main/java/com/uber/hoodie/table/HoodieTable.java  | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 45dd8980c34b009c6609c0ebfb903b55cbecc2de
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Aug 4 17:00:40 2017 -0700

    Temporary fix for build break after rebase

 .../src/test/java/com/uber/hoodie/TestMergeOnReadTable.java        | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 86209640f76d64767a24c344ec0e2b22c2a381e6
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Jul 14 09:29:16 2017 -0700

    Adding range based pruning to bloom index
    
     - keys compared lexicographically using String::compareTo
     - Range metadata additionally written into parquet file footers
     - Trim fat & few optimizations to speed up indexing
     - Add param to control whether input shall be cached, to speed up lookup
     - Add param to turn on/off range pruning
     - Auto compute of parallelism now simply factors in amount of comparisons done
     - More accurate parallelism computation when range pruning is on
     - tests added & hardened, docs updated

 docs/configurations.md                             |  10 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |   3 +-
 .../com/uber/hoodie/config/HoodieIndexConfig.java  |  18 +
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   8 +
 .../com/uber/hoodie/index/HoodieBloomIndex.java    | 347 -------------------
 .../java/com/uber/hoodie/index/HoodieIndex.java    |   6 +-
 .../hoodie/index/bloom/BloomIndexFileInfo.java     |  99 ++++++
 .../uber/hoodie/index/bloom/HoodieBloomIndex.java  | 380 +++++++++++++++++++++
 .../{ => bloom}/HoodieBloomIndexCheckFunction.java |  14 +-
 .../index/{ => bloom}/IndexLookupResult.java       |  14 +-
 .../hoodie/index/{ => bucketed}/BucketedIndex.java |   4 +-
 .../uber/hoodie/index/{ => hbase}/HBaseIndex.java  |  15 +-
 .../java/com/uber/hoodie/TestHoodieClient.java     |   3 +-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java |  22 +-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  11 +
 .../com/uber/hoodie/index/TestHoodieIndex.java     |   3 +
 .../index/{ => bloom}/TestHoodieBloomIndex.java    | 183 +++++++---
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  11 +-
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |   3 +-
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |  25 +-
 .../uber/hoodie/common/model/HoodieDataFile.java   |   3 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |   3 +-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  40 ++-
 .../hoodie/exception/HoodieIndexException.java     |   2 -
 .../exception/MetadataNotFoundException.java       |  32 ++
 25 files changed, 785 insertions(+), 474 deletions(-)

commit 0b26b60a5c253717d890d658a6e6a55caa310518
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Jun 29 00:32:11 2017 -0700

    fix for cleaning log files(mor)

 .../java/com/uber/hoodie/io/HoodieCleanHelper.java | 58 +++++++++++-----------
 .../java/com/uber/hoodie/TestHoodieClient.java     | 45 +++++++++++++++--
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  9 ++--
 .../uber/hoodie/common/model/HoodieTestUtils.java  | 31 ++++++++++++
 4 files changed, 103 insertions(+), 40 deletions(-)

commit 19c22b231ed69197fb8c932dab464d3f93ecc9ad
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Tue Jun 20 23:50:23 2017 -0700

    1. Use HoodieLogFormat to archive commits and other actions 2. Introduced avro schema for commits and compactions and an avro wrapper schema

 .../java/com/uber/hoodie/HoodieWriteClient.java    |   23 +-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  246 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   16 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  128 +-
 hoodie-common/pom.xml                              |   10 +
 .../src/main/avro/HoodieArchivedMetaEntry.avsc     |   55 +
 .../src/main/avro/HoodieCommitMetadata.avsc        |   61 +
 .../src/main/avro/HoodieCompactionMetadata.avsc    |   42 +
 .../uber/hoodie/common/file/HoodieAppendLog.java   | 3685 --------------------
 .../com/uber/hoodie/common/model/ActionType.java   |   21 +
 .../hoodie/common/model/HoodieArchivedLogFile.java |   40 +
 .../hoodie/common/model/HoodieCommitMetadata.java  |    8 +-
 .../uber/hoodie/common/model/HoodieLogFile.java    |    5 +-
 .../table/timeline/HoodieActiveTimeline.java       |    9 +
 .../table/timeline/HoodieArchivedTimeline.java     |    2 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   30 +
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |    3 +-
 17 files changed, 538 insertions(+), 3846 deletions(-)

commit 616c9a68c3168d927f08117014949df2f1a859ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Jul 7 12:50:01 2017 -0700

    Enabled deletes in merge_on_read

 hoodie-client/pom.xml                              |  11 ++
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  27 +++-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java | 143 ++++++++++++++++++++-
 .../hoodie/common/HoodieMergeOnReadTestUtils.java  |  98 ++++++++++++++
 .../com/uber/hoodie/common/util/ParquetUtils.java  |   5 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   4 +
 6 files changed, 275 insertions(+), 13 deletions(-)

commit cf1dde03231b54cacecf53e0f9b8320eba4a7590
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sat Jul 8 22:45:22 2017 -0700

    Add recent talks/presentations to documentation

 docs/_data/sidebars/mydoc_sidebar.yml |  2 +-
 docs/powered_by.md                    | 28 +++++++++++++++++++++++++---
 2 files changed, 26 insertions(+), 4 deletions(-)

commit e8b3ddd7cbf4232d3e02fa9bcb71c100a5aea26f
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sat Jul 8 21:30:06 2017 -0700

    Add note on community engagement to committership guidelines

 docs/community.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7d3963b4abfa150a7175d284e3ac38085ccbc233
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Jun 30 11:41:23 2017 -0700

    Pushing master to 0.4.0 as we continue to make minor releases over 0.3.8 (MVP for MOR)

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 3eba812a1b53eba9df96fc164c6482bd08cf14ec
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Jun 30 11:17:07 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 06d44daea321b47476361d1a94f216288b083c6f
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Fri Jun 30 11:16:58 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.3.9

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 348250d9607c5441b13860f178308a3159b15e6b
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Jun 29 16:42:58 2017 -0700

    Using FsUtils instead of Files API to extract file extension

 .../java/com/uber/hoodie/common/table/timeline/HoodieInstant.java | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e5d9b818bce3fcd9714a5973c68745cce0845fcc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu Jun 22 20:33:33 2017 -0700

    Sync Tool registers 2 tables, RO and RT Tables

 .../java/com/uber/hoodie/hive/HiveSyncTool.java    | 64 +++++++++++++---------
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     | 55 +++++++++++++++++++
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  2 +
 3 files changed, 96 insertions(+), 25 deletions(-)

commit 5cc071f74e518b5b37ce953434d6445c2a97024b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jun 22 15:00:27 2017 -0700

    Savepoint should not create a hole in the commit timeline

 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java | 14 ++++++---
 .../hoodie/common/HoodieTestDataGenerator.java     | 22 +++++++++++++--
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 33 ++++++++++++++++++++++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  1 -
 4 files changed, 63 insertions(+), 7 deletions(-)

commit 29b906b76329b85d2765c95be76afea8720e2022
Author: Jian Xu <jian@uber.com>
Date:   Tue Jun 27 12:00:37 2017 -0700

    Fix TimestampBasedKeyGenerator when DATE_STRING is used for partitionpath.field

 .../com/uber/hoodie/utilities/keygen/TimestampBasedKeyGenerator.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 754ab88a2d1e9fe5266d61472d96e34a70e7e888
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Jun 19 17:16:45 2017 -0700

    Introduce ReadOptimizedView & RealtimeView out of TableFileSystemView
    
      - Usage now marks code as clearly using either RO or RT views, for future evolution
      - Tests on all of FileGroups and FileSlices

 .../java/com/uber/hoodie/HoodieReadClient.java     |   2 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |   2 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |   2 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   4 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   2 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  18 +++
 .../java/com/uber/hoodie/TestHoodieClient.java     |  15 +-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java |  12 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   4 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |   2 +-
 .../hoodie/common/table/TableFileSystemView.java   | 122 ++++++--------
 .../table/view/HoodieTableFileSystemView.java      |  17 +-
 .../table/view/HoodieTableFileSystemViewTest.java  | 175 +++++++++++++++++----
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  39 ++---
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   2 +-
 16 files changed, 259 insertions(+), 161 deletions(-)

commit c00f1a9ed972dac9a8c4c238c762cb390b62f54c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Jun 19 00:34:37 2017 -0700

    Refactoring HoodieTableFileSystemView using FileGroups/FileSlices
    
     - Merged all filter* and get* methods
     - new constructor takes filestatus[]
     - All existing tests pass
     - FileGroup is all files that belong to a fileID within a partition
     - FileSlice is a generation of data and log files, starting at a base commit

 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |   9 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |   6 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  33 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |   2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   7 +-
 .../java/com/uber/hoodie/io/HoodieCleanHelper.java |  18 +-
 .../java/com/uber/hoodie/io/HoodieMergeHandle.java |   6 +-
 .../hoodie/io/compact/CompactionOperation.java     |   2 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   7 +-
 .../strategy/BoundedIOCompactionStrategy.java      |   2 +-
 .../io/compact/strategy/CompactionStrategy.java    |   2 +-
 .../LogFileSizeBasedCompactionStrategy.java        |   2 +-
 .../strategy/UnBoundedCompactionStrategy.java      |   2 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   4 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |   2 +
 .../java/com/uber/hoodie/TestHoodieClient.java     |  50 ++-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java |  13 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  24 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  |   4 +-
 .../uber/hoodie/io/strategy/TestHoodieLogFile.java |   4 +-
 .../com/uber/hoodie/common/model/FileSlice.java    |  97 ++++++
 .../uber/hoodie/common/model/HoodieDataFile.java   |   2 +-
 .../uber/hoodie/common/model/HoodieFileGroup.java  | 246 +++++++++++++++
 .../common/{table/log => model}/HoodieLogFile.java |  20 +-
 .../hoodie/common/table/TableFileSystemView.java   |  77 +++--
 .../table/log/HoodieCompactedLogRecordScanner.java |   1 +
 .../hoodie/common/table/log/HoodieLogFormat.java   |   1 +
 .../common/table/log/HoodieLogFormatReader.java    |   2 +
 .../common/table/log/HoodieLogFormatWriter.java    |   4 +-
 .../table/view/HoodieTableFileSystemView.java      | 345 +++++++++++----------
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   2 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   6 +-
 .../common/table/log/HoodieLogFormatTest.java      |   1 +
 ...est.java => HoodieTableFileSystemViewTest.java} |  94 +++---
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  31 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  11 +-
 .../hadoop/realtime/HoodieRealtimeInputFormat.java |  17 +-
 .../realtime/HoodieRealtimeRecordReaderTest.java   |   2 +-
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |   2 +-
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |   2 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   2 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |   2 +-
 42 files changed, 784 insertions(+), 382 deletions(-)

commit 23e7badd8ad31113ce8983c8666ff5509f9a847a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun May 14 09:44:44 2017 -0700

    Rename IO Handles & introduce stub for BucketedIndex
    
     - UpdateHandle -> MergeHandle, InsertHandle -> CreateHandle
     - Also bunch of code cleanup in different places

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 15 ++--
 .../com/uber/hoodie/config/HoodieIndexConfig.java  | 19 ++++-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  4 +
 .../com/uber/hoodie/func/LazyInsertIterable.java   |  9 +--
 .../java/com/uber/hoodie/index/BucketedIndex.java  | 91 ++++++++++++++++++++++
 .../java/com/uber/hoodie/index/HBaseIndex.java     |  5 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |  6 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    | 10 ++-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |  2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 15 +++-
 ...ieInsertHandle.java => HoodieCreateHandle.java} |  6 +-
 ...dieUpdateHandle.java => HoodieMergeHandle.java} | 16 ++--
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 23 ++++--
 .../com/uber/hoodie/table/WorkloadProfile.java     | 11 +--
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  4 +-
 15 files changed, 182 insertions(+), 54 deletions(-)

commit b0a2a23372212f865fa559da1b128e4a2279784f
Author: prazanna <prasanna.raj@gmail.com>
Date:   Tue Jun 20 15:48:43 2017 -0700

    Adding Nishith to Contributors list

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 649475c5cbad78130ac5a4973d0872082b21ecdf
Author: prazanna <prasanna.raj@gmail.com>
Date:   Tue Jun 20 15:47:05 2017 -0700

    Adding Kaushik to contributors list

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 3aa80839132fa0fafefef66c242bdd426df92653
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   Tue Jun 20 00:16:54 2017 -0700

    Correct clean bug that causes clean failure when partitionPaths are empty

 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  6 ++----
 .../java/com/uber/hoodie/TestHoodieClient.java     | 22 ++++++++++++++++++++++
 2 files changed, 24 insertions(+), 4 deletions(-)

commit 7ef76a4de0c1000abe81513472712cf5602ef97c
Author: prazanna <prasanna.raj@gmail.com>
Date:   Fri Jun 16 12:52:54 2017 -0700

    Adding Kathy Ge to the contributors list

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 52c507f83ed90ea37b1e64c82fca10b2909f2503
Author: gekath <kathyge@gmail.com>
Date:   Tue Jun 13 13:35:38 2017 -0400

    Writes relative paths to .commit files
    
    Handle case where path is read in as null from commit file
    
    Merged with updated release

 .../src/main/java/com/uber/hoodie/io/HoodieAppendHandle.java       | 4 ++--
 .../src/main/java/com/uber/hoodie/io/HoodieInsertHandle.java       | 3 +--
 hoodie-client/src/test/java/com/uber/hoodie/TestHoodieClient.java  | 4 +++-
 .../java/com/uber/hoodie/common/model/HoodieCommitMetadata.java    | 7 +++----
 4 files changed, 9 insertions(+), 9 deletions(-)

commit db7311f85e2298d297202c5a8f4f6fc4e5e8ea28
Author: gekath <kathyge@gmail.com>
Date:   Fri Jun 2 11:28:47 2017 -0400

    Writes relative paths to .commit files instead of absolute paths
    
    Clean up code
    
    Removed commented out code
    
    Fixed merge conflict with master

 .../java/com/uber/hoodie/HoodieReadClient.java     | 11 ++---
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  4 +-
 .../com/uber/hoodie/io/HoodieInsertHandle.java     |  4 +-
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     |  8 ++--
 .../io/compact/HoodieRealtimeTableCompactor.java   |  1 +
 .../java/com/uber/hoodie/TestHoodieClient.java     | 47 ++++++++++++++++++++--
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  3 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  | 13 +++++-
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 19 ++++-----
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  4 ++
 .../com/uber/hoodie/hive/HoodieHiveClient.java     |  6 +--
 .../test/java/com/uber/hoodie/hive/TestUtil.java   |  6 +--
 12 files changed, 92 insertions(+), 34 deletions(-)

commit 0ed3fac5e3bb292f227ebc4c02a6e6585e4bd39f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Jun 16 11:03:17 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 45732e440c48cf9513f7f39c0926e21f07532b9a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Jun 16 10:59:58 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.3.8

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit e44f9b889b6b42d7feb89a0ebfa2e401dde5b0a4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Jun 16 10:47:25 2017 -0700

    Added CHANGELOG.md and updated community contributions guideline

 CHANGELOG.md      | 27 +++++++++++++++++++++++++++
 docs/community.md |  1 +
 pom.xml           |  6 +++++-
 3 files changed, 33 insertions(+), 1 deletion(-)

commit 4b26be9f6178dde6cace2ed87ae3d2ae8b4ac827
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jun 15 05:40:59 2017 -0700

    Fixes to RealtimeInputFormat and RealtimeRecordReader and update documentation for HiveSyncTool

 docs/quickstart.md                                 | 22 +++---
 .../hoodie/common/model/CompactionWriteStat.java   | 12 ++-
 hoodie-hadoop-mr/pom.xml                           |  5 ++
 .../hadoop/realtime/HoodieRealtimeInputFormat.java | 85 ++++++++++++++--------
 .../realtime/HoodieRealtimeRecordReader.java       | 81 ++++++++++++++-------
 hoodie-hive/pom.xml                                |  2 +-
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  2 +-
 7 files changed, 136 insertions(+), 73 deletions(-)

commit 521555c576f35fbf6dc8be0a09d0b49607afc1c8
Author: Kaushik Devarajaiah <kaushik@uber.com>
Date:   Mon May 29 15:36:12 2017 -0700

    Parallelize file version deletes during clean and related tests

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  19 +-
 .../{HoodieCleaner.java => HoodieCleanHelper.java} |  76 +++----
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 174 ++++++++++++--
 .../java/com/uber/hoodie/table/HoodieTable.java    |  24 +-
 .../java/com/uber/hoodie/TestHoodieClient.java     | 251 ++++++++++++++++++++-
 .../java/com/uber/hoodie/io/TestHoodieCleaner.java | 198 ----------------
 .../com/uber/hoodie/common/HoodieCleanStat.java    |  16 +-
 7 files changed, 459 insertions(+), 299 deletions(-)

commit dda28c0b4b6263e89ff24791f6f09dc553f4c19b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Jun 13 12:09:36 2017 -0700

    Rollback inflight commits as well when rolling back to savepoint

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit db6150c5ef02a9bc6feaf3f9f4e6cecba9a6a25b
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri May 19 23:47:27 2017 -0700

    Refactor hoodie-hive

 .../hoodie/io/storage/HoodieParquetWriter.java     |   1 +
 .../table/log/block/HoodieAvroDataBlock.java       |   4 +
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  50 +-
 .../src/test/resources/simple-test-evolved.avro    |   5 +-
 hoodie-common/src/test/resources/simple-test.avro  |   2 +-
 hoodie-hive/pom.xml                                |  10 +
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  |  43 +-
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    | 183 +++++--
 .../com/uber/hoodie/hive/HoodieHiveClient.java     | 607 +++++++++++++++++++++
 .../uber/hoodie/hive/HoodieHiveConfiguration.java  | 119 ----
 .../hoodie/hive/HoodieHiveDatasetSyncTask.java     | 182 ------
 .../uber/hoodie/hive/HoodieHiveSchemaSyncTask.java | 243 ---------
 ...Exception.java => HoodieHiveSyncException.java} |  10 +-
 .../com/uber/hoodie/hive/PartitionStrategy.java    |  59 --
 .../uber/hoodie/hive/PartitionValueExtractor.java  |  31 ++
 .../hoodie/hive/{model => }/SchemaDifference.java  |   2 +-
 .../java/com/uber/hoodie/hive/SchemaStrategy.java  |  31 --
 .../SlashEncodedDayPartitionValueExtractor.java    |  55 ++
 .../uber/hoodie/hive/client/HoodieFSClient.java    | 186 -------
 .../uber/hoodie/hive/client/HoodieHiveClient.java  | 365 -------------
 .../hoodie/hive/example/HoodieHiveSyncExample.java |  39 --
 .../hive/impl/DayBasedPartitionStrategy.java       |  76 ---
 .../hive/impl/ParseSchemaFromDataStrategy.java     |  43 --
 .../hoodie/hive/model/HoodieDatasetReference.java  |  79 ---
 .../uber/hoodie/hive/model/StoragePartition.java   |  51 --
 .../com/uber/hoodie/hive/model/TablePartition.java |  38 --
 .../hive/{client => util}/ColumnNameXLator.java    |   2 +-
 .../hoodie/hive/{client => util}/SchemaUtil.java   |  35 +-
 .../com/uber/hoodie/hive/DatasetSchemaTest.java    | 186 -------
 .../com/uber/hoodie/hive/HDroneDatasetTest.java    |  99 ----
 .../com/uber/hoodie/hive/HiveSyncToolTest.java     | 308 +++++++++++
 .../test/java/com/uber/hoodie/hive/TestUtil.java   | 353 ++++++++++++
 .../uber/hoodie/hive/util/CsvParquetWriter.java    |  44 --
 .../com/uber/hoodie/hive/util/CsvWriteSupport.java |  94 ----
 .../java/com/uber/hoodie/hive/util/TestUtil.java   | 201 -------
 hoodie-hive/src/test/resources/nation.csv          |  25 -
 hoodie-hive/src/test/resources/nation.schema       |   6 -
 hoodie-hive/src/test/resources/nation_evolved.csv  |  25 -
 .../src/test/resources/nation_evolved.schema       |   7 -
 pom.xml                                            |   5 +
 40 files changed, 1611 insertions(+), 2293 deletions(-)

commit c192dd60b4dbf13bbee12e3dbba5cbc39edddd29
Author: Danny Chen <dannyc@uber.com>
Date:   Wed May 31 17:41:27 2017 -0700

    Change from deprecated closeQuietly to try with resources

 .../table/timeline/HoodieActiveTimeline.java       |  9 +------
 .../table/timeline/HoodieArchivedTimeline.java     | 28 +++++++++-------------
 2 files changed, 12 insertions(+), 25 deletions(-)

commit 36fa6f66ac5b8dd82cc5b0c7026fc796642fe523
Merge: 933cc807 ba050973
Author: n3nash <nagarwal@uber.com>
Date:   Fri Jun 2 11:49:32 2017 -0700

    Merge pull request #180 from n3nash/record-reader-with-compaction
    
    updated HoodieRealtimeRecordReader to use HoodieCompactedLogRecordSca…

commit ba050973e304defb67e789527e0868ea3f217002
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Wed May 31 15:06:22 2017 -0700

    updated HoodieRealtimeRecordReader to use HoodieCompactedLogRecordScanner, added test for recordreader

 .../uber/hoodie/common/util/SchemaTestUtil.java    |   7 +-
 .../src/test/resources/simple-test-evolved.avro    |  12 ++
 .../realtime/HoodieRealtimeRecordReader.java       |  52 +++-----
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |  32 ++---
 .../realtime/HoodieRealtimeRecordReaderTest.java   | 137 +++++++++++++++++++++
 hoodie-hadoop-mr/src/test/resources/sample1.avro   |   2 +-
 6 files changed, 194 insertions(+), 48 deletions(-)

commit 933cc8071f4b9b7c145804a7bc5984832e45aba3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed May 24 14:02:50 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit bebae06b5bd9cd08a291c085377594518c9acec4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed May 24 14:02:41 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.3.7

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit bae98efeee4778154db1454432471ff3d60f0007
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu May 18 09:57:44 2017 -0700

    Delete other instant files (.clean) as well during commit archival

 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java | 38 ++++++++++++++++++----
 1 file changed, 32 insertions(+), 6 deletions(-)

commit e1d13f2bc8adf78f6413dda7fd3b38d711a1417a
Author: prazanna <prasanna@uber.com>
Date:   Tue May 23 12:05:01 2017 -0700

    https://repository.cloudera.com/artifactory/repo/ has been changed to https://repository.cloudera.com/artifactory/public/

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 240c91241bf4a7175c37b25bdf3a1261d58965d5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed May 17 12:52:36 2017 -0700

    Implement HoodieLogFormat replacing Avro as the default log format

 .../uber/hoodie/config/HoodieCompactionConfig.java |   2 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |  32 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  15 +-
 .../uber/hoodie/common/model/HoodieFileFormat.java |   2 +-
 .../hoodie/common/table/HoodieTableConfig.java     |   2 +-
 .../table/log/HoodieCompactedLogRecordScanner.java | 207 ++++++++
 .../common/table/log/HoodieLogAppendConfig.java    | 238 ---------
 .../hoodie/common/table/log/HoodieLogAppender.java |  65 ---
 .../hoodie/common/table/log/HoodieLogFile.java     |   7 +-
 .../hoodie/common/table/log/HoodieLogFormat.java   | 193 +++++++
 .../common/table/log/HoodieLogFormatReader.java    | 201 +++++++
 .../common/table/log/HoodieLogFormatWriter.java    | 164 ++++++
 .../common/table/log/avro/AvroLogAppender.java     | 143 -----
 .../common/table/log/avro/AvroLogReader.java       |  82 ---
 .../table/log/avro/CompositeAvroLogReader.java     | 155 ------
 .../common/table/log/avro/HoodieAvroReader.java    |  97 ----
 .../table/log/avro/RollingAvroLogAppender.java     |  88 ----
 .../table/log/block/HoodieAvroDataBlock.java       | 134 +++++
 .../common/table/log/block/HoodieCommandBlock.java |  53 ++
 .../common/table/log/block/HoodieCorruptBlock.java |  46 ++
 .../common/table/log/block/HoodieDeleteBlock.java  |  51 ++
 .../common/table/log/block/HoodieLogBlock.java     |  38 ++
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  16 +-
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  32 ++
 .../exception/CorruptedLogFileException.java       |  24 +
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  34 +-
 .../common/table/log/HoodieLogFormatTest.java      | 580 +++++++++++++++++++++
 .../common/table/log/avro/AvroLogAppenderTest.java | 326 ------------
 .../uber/hoodie/common/util/SchemaTestUtil.java    |  17 +
 .../com/uber/hoodie/hive/HDroneDatasetTest.java    |   6 +-
 30 files changed, 1790 insertions(+), 1260 deletions(-)

commit 3c984447da754e85bafeac81a790efdc5fee42dc
Author: Nishith Agarwal <nagarwal@uber.com>
Date:   Thu May 18 15:10:28 2017 -0700

    view scheme added

 .../main/java/com/uber/hoodie/io/storage/HoodieWrapperFileSystem.java  | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 70dd7a25eac67fa13fed3b08b02c48bba62aa878
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri May 19 23:48:31 2017 -0700

    Clean should not create a .inflight file

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7014670795e03e16cc945af3dcc68c2d1baaf3fc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu May 18 10:45:26 2017 -0700

    Update contributor list

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 43a55b09fdc64368f5bbaf17980233b84cf33760
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date:   Thu Mar 16 12:19:13 2017 -0400

    Add GCS to supported filesystems

 docs/configurations.md                             |  3 ++
 docs/gcs_filesystem.md                             | 62 ++++++++++++++++++++++
 .../hoodie/io/storage/HoodieWrapperFileSystem.java |  4 ++
 3 files changed, 69 insertions(+)

commit 21e334592f30ef055097439ad5ca1fdf7debb78d
Author: prazanna <prasanna@uber.com>
Date:   Wed May 17 13:43:11 2017 -0700

    Update java version to 8 in travis.yml

 .travis.yml | 2 ++
 1 file changed, 2 insertions(+)

commit 1b0a0279428fc406d44db2fda6d6bf705cd1eb10
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu May 4 17:25:54 2017 -0700

    Update community.md with committership guidelines

 docs/community.md | 3 +++
 1 file changed, 3 insertions(+)

commit b4e787ce1de142a1eb82d22acd70a6d0f2054ccf
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Apr 26 14:03:06 2017 -0700

    Update docs

 docs/quickstart.md                                 | 75 +++++++++++++++++++---
 .../src/test/java/HoodieClientExample.java         | 10 ++-
 2 files changed, 76 insertions(+), 9 deletions(-)

commit da17c5c6079bdcebde20edb5f5773d2d8eb2e96a
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Apr 26 13:36:49 2017 -0700

    Introduce getCommitsAndCompactionsTimeline() explicitly & adjust usage across code base

 .../java/com/uber/hoodie/cli/commands/CommitsCommand.java | 13 ++++++-------
 .../com/uber/hoodie/cli/commands/HoodieSyncCommand.java   |  4 ++--
 .../com/uber/hoodie/cli/commands/SavepointsCommand.java   |  2 --
 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java  |  4 ++--
 .../java/com/uber/hoodie/io/HoodieCommitArchiveLog.java   |  5 +----
 .../src/main/java/com/uber/hoodie/table/HoodieTable.java  |  6 ++----
 .../test/java/com/uber/hoodie/TestMergeOnReadTable.java   |  1 -
 .../com/uber/hoodie/io/TestHoodieCommitArchiveLog.java    | 12 ++++++------
 .../common/table/timeline/HoodieActiveTimeline.java       | 15 ++++++++++++---
 .../java/com/uber/hoodie/hadoop/HoodieInputFormat.java    |  4 ++--
 .../com/uber/hoodie/hadoop/HoodieROTablePathFilter.java   |  3 ---
 .../com/uber/hoodie/utilities/HiveIncrementalPuller.java  |  6 +++---
 .../com/uber/hoodie/utilities/HoodieSnapshotCopier.java   | 12 ++++--------
 .../utilities/deltastreamer/HoodieDeltaStreamer.java      |  2 +-
 pom.xml                                                   |  1 +
 15 files changed, 42 insertions(+), 48 deletions(-)

commit bae0528013d125bbaad2b0fbba082fa03dbf93af
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Apr 26 11:00:50 2017 -0700

    Cleanup calls to HoodieTimeline.compareTimeStamps

 .../main/java/com/uber/hoodie/cli/commands/CommitsCommand.java   | 4 ++--
 .../java/com/uber/hoodie/cli/commands/HoodieSyncCommand.java     | 2 +-
 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java         | 2 +-
 .../src/main/java/com/uber/hoodie/io/HoodieCleaner.java          | 7 ++++---
 hoodie-client/src/test/java/HoodieClientExample.java             | 2 --
 .../src/test/java/com/uber/hoodie/TestMergeOnReadTable.java      | 2 +-
 .../src/test/java/com/uber/hoodie/io/TestHoodieCompactor.java    | 4 ++--
 .../test/java/com/uber/hoodie/table/TestCopyOnWriteTable.java    | 5 ++---
 .../main/java/com/uber/hoodie/avro/HoodieAvroWriteSupport.java   | 1 -
 .../main/java/com/uber/hoodie/common/table/HoodieTimeline.java   | 2 +-
 .../uber/hoodie/common/table/timeline/HoodieDefaultTimeline.java | 9 +++++----
 .../uber/hoodie/common/table/view/HoodieTableFileSystemView.java | 4 ++--
 .../uber/hoodie/hadoop/realtime/HoodieRealtimeRecordReader.java  | 5 +----
 .../java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java     | 3 +--
 14 files changed, 23 insertions(+), 29 deletions(-)

commit 7b1446548fc8fda9a2c1fcbac29331ad2c57f60e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 24 08:19:02 2017 -0700

    Initial impl of HoodieRealtimeInputFormat
    
     - Works end-end for flat schemas
     - Schema evolution & hardening remains
     - HoodieClientExample can now write mor tables as well

 .../src/test/java/HoodieClientExample.java         |  10 +-
 .../common/model/HoodiePartitionMetadata.java      |   8 +-
 .../hoodie/common/table/TableFileSystemView.java   |   2 +-
 .../table/view/HoodieTableFileSystemView.java      |   2 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  10 +-
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  42 ++-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  21 +-
 .../hoodie/hadoop/realtime/HoodieParquetSerde.java |  31 ++
 .../hadoop/realtime/HoodieRealtimeFileSplit.java   |  92 ++++++
 .../hadoop/realtime/HoodieRealtimeInputFormat.java | 188 ++++++++++++
 .../realtime/HoodieRealtimeRecordReader.java       | 319 +++++++++++++++++++++
 .../src/test/java/HoodieSparkSQLExample.java       |  43 +++
 12 files changed, 743 insertions(+), 25 deletions(-)

commit 9f526396a085e52308b85d4dbfc71102005b5366
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Apr 4 05:17:38 2017 -0700

    Add support for merge_on_read tables to HoodieClientExample

 .../src/test/java/HoodieClientExample.java         | 49 +++++++++++++---------
 .../hoodie/common/table/HoodieTableMetaClient.java | 17 ++++++++
 2 files changed, 46 insertions(+), 20 deletions(-)

commit 7bca428a0a4e047a35a67db7e9ab54caac066539
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Apr 28 12:47:14 2017 -0700

    Test to check if properties set are properly propogated

 .../com/uber/hoodie/config/HoodieWriteConfigTest.java    | 16 ++++++++++++++++
 1 file changed, 16 insertions(+)

commit 3f97bdcccf4f1452127cb810589961c25d8517ba
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Apr 28 12:40:58 2017 -0700

    Test to check if properties set are properly propogated

 .../uber/hoodie/config/HoodieWriteConfigTest.java  | 42 ++++++++++++++++++++++
 1 file changed, 42 insertions(+)

commit c3258039f089334c1549d57509d8c3b10ddb8309
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Apr 27 11:00:56 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit de1bdad7566a3b9a1dce19a3ef54eee3ccb6b98f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Apr 27 11:00:45 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.3.6

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 8974e1116129a4ce7778e29b4e9b84a4a55e7f37
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Apr 27 10:37:30 2017 -0700

    Make sure properties set in HoodieWriteConfig is propogated down to individual configs. Fix a race condition which lets InputFormat to think file size is 0 when it is actually not

 .../uber/hoodie/config/HoodieCompactionConfig.java   |  6 ++++++
 .../com/uber/hoodie/config/HoodieIndexConfig.java    |  5 +++++
 .../com/uber/hoodie/config/HoodieMetricsConfig.java  |  6 ++++++
 .../com/uber/hoodie/config/HoodieStorageConfig.java  |  5 +++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java    | 11 ++++++-----
 .../hoodie/common/table/TableFileSystemView.java     |  7 +++++++
 .../common/table/view/HoodieTableFileSystemView.java |  9 +++++++++
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java    | 20 ++++++++++++++++++++
 8 files changed, 64 insertions(+), 5 deletions(-)

commit 91b088f29fe71fabbbd7602748f4f7d048b4d108
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Apr 4 12:37:28 2017 -0700

    Implement Compaction policy abstraction. Implement LogSizeBased Bounded IO Compaction as the default strategy

 .../uber/hoodie/config/HoodieCompactionConfig.java |  23 ++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  16 ++-
 .../hoodie/io/compact/CompactionOperation.java     |  89 ++++++++-------
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   2 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |   6 +-
 .../strategy/BoundedIOCompactionStrategy.java      |  80 ++++++++++++++
 .../io/compact/strategy/CompactionStrategy.java    |  62 +++++++++++
 .../LogFileSizeBasedCompactionStrategy.java        |  70 ++++++++++++
 .../strategy/UnBoundedCompactionStrategy.java      |  47 ++++++++
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |   3 +-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java |   3 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   7 +-
 .../io/strategy/TestHoodieCompactionStrategy.java  | 123 +++++++++++++++++++++
 .../hoodie/io/strategy/TestHoodieDataFile.java     |  57 ++++++++++
 .../hoodie/io/strategy/TestHoodieLogFile.java}     |  40 ++++---
 .../hoodie/common/table/log/HoodieLogFile.java     |   3 +
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   4 +
 .../uber/hoodie/common/util/ReflectionUtils.java   |  18 +++
 18 files changed, 585 insertions(+), 68 deletions(-)

commit 82b211d2e629dcd9869d486f5af62a7063e6c87d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 3 18:23:47 2017 -0700

    Rebase with generic partition support

 .../java/com/uber/hoodie/hive/impl/DayBasedPartitionStrategy.java     | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 848814beceb6103ba36aee9e5b7b05ec2f52eafe
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 3 16:59:44 2017 -0700

    Adding docs for deltastreamer, hivesync tool usage

 docs/incremental_processing.md | 120 ++++++++++++++++++++++++++++++++++++++++-
 docs/quickstart.md             |  35 +++++++++++-
 2 files changed, 151 insertions(+), 4 deletions(-)

commit 542d622e49a7f3947a2ebaf9d1c948b78e4807b7
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 3 14:44:43 2017 -0700

    Adding HiveSyncTool to sync hoodie dataset schema/partitions to Hive
    
     - Designed to be run by your workflow manager after hoodie upsert
     - Assumes jdbc connectivity via HiveServer2, which should work with all major distros

 hoodie-hive/pom.xml                                | 58 +++++++++++++++
 hoodie-hive/src/assembly/src.xml                   | 44 ++++++++++++
 .../java/com/uber/hoodie/hive/HiveSyncConfig.java  | 50 +++++++++++++
 .../java/com/uber/hoodie/hive/HiveSyncTool.java    | 82 ++++++++++++++++++++++
 .../hoodie/hive/HoodieHiveDatasetSyncTask.java     |  7 +-
 .../com/uber/hoodie/hive/PartitionStrategy.java    | 13 ++--
 .../uber/hoodie/hive/client/HoodieFSClient.java    | 30 ++------
 .../hoodie/hive/example/HoodieDatasetExample.java  | 56 ---------------
 .../hoodie/hive/example/HoodieHiveSyncExample.java | 39 ++++++++++
 .../hive/impl/DayBasedPartitionStrategy.java       | 38 +++++-----
 .../uber/hoodie/hive/model/StoragePartition.java   | 10 +--
 11 files changed, 313 insertions(+), 114 deletions(-)

commit 2b6322318c769c63cff071bc8a373b1f476e9a89
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Apr 3 18:17:56 2017 -0700

    CR feedback

 docs/community.md                                                   | 1 +
 .../src/main/java/com/uber/hoodie/cli/commands/RepairsCommand.java  | 6 +++---
 .../src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java        | 2 +-
 .../java/com/uber/hoodie/common/model/HoodiePartitionMetadata.java  | 4 +++-
 4 files changed, 8 insertions(+), 5 deletions(-)

commit e0fc4ec38e686e7a5634c267e978072af6bf35cc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Mar 26 17:51:51 2017 -0700

    Documentation update + helper method for WriteConfig builder

 docs/community.md                                                    | 2 +-
 docs/configurations.md                                               | 2 ++
 .../src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java      | 5 +++++
 3 files changed, 8 insertions(+), 1 deletion(-)

commit dce35ff0d74da19edf0e0ffdac3c5d01c3440b7d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Mar 26 17:40:20 2017 -0700

    Adding a config to control whether date partitioning can be assumed
    
     - false by default
     - CAUTION: If you have an existing tables without partition metadata, you need to set this to "true"

 .../src/main/java/com/uber/hoodie/HoodieWriteClient.java      |  6 +++---
 .../main/java/com/uber/hoodie/config/HoodieWriteConfig.java   |  8 ++++++++
 .../uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java  |  2 +-
 .../src/test/java/com/uber/hoodie/TestHoodieClient.java       |  4 ++--
 .../src/main/java/com/uber/hoodie/common/util/FSUtils.java    | 11 ++++++++++-
 .../java/com/uber/hoodie/utilities/HoodieSnapshotCopier.java  |  9 ++++++---
 .../com/uber/hoodie/utilities/TestHoodieSnapshotCopier.java   |  4 ++--
 7 files changed, 32 insertions(+), 12 deletions(-)

commit f9fd16069de086056145e85a1e4445f6b8d75324
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Mar 26 17:15:52 2017 -0700

    FSUtils.getAllPartitionsPaths() works based on .hoodie_partition_metadata
    
     - clean/rollback/write paths covered by existing tests
     - Snapshot copier fixed to copy metadata file also, and test fixed
     - Existing tables need to be repaired by addition of metadata, before this can be rolled out

 .../uber/hoodie/cli/commands/RepairsCommand.java   |   2 +-
 .../java/com/uber/hoodie/TestHoodieClient.java     |  31 ++++-
 .../hoodie/common/HoodieTestDataGenerator.java     |  11 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   1 -
 .../common/model/HoodiePartitionMetadata.java      |   2 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |  12 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  | 138 +++++++++------------
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  89 +++++++------
 .../hoodie/utilities/TestHoodieSnapshotCopier.java | 137 ++++++++++----------
 9 files changed, 215 insertions(+), 208 deletions(-)

commit 3129770fd085c2390cf4da14e9d3de21482d1c35
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Tue Mar 21 23:57:30 2017 -0700

    Create .hoodie_partition_metadata in each partition, linking back to basepath
     - Concurreny handled via taskID, failure recovery handled via renames
     - Falls back to search 3 levels up
     - Cli tool has command to add this to existing tables

 .../uber/hoodie/cli/commands/RecordsCommand.java   |  78 ------------
 .../uber/hoodie/cli/commands/RepairsCommand.java   | 110 +++++++++++++++++
 .../com/uber/hoodie/io/HoodieInsertHandle.java     |   6 +
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     |   8 ++
 .../common/model/HoodiePartitionMetadata.java      | 135 +++++++++++++++++++++
 .../table/view/HoodieTableFileSystemView.java      |   5 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   4 -
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |  10 ++
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  10 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  11 +-
 10 files changed, 291 insertions(+), 86 deletions(-)

commit 1e802ad4f2d3b6ba908c6488df7505ee7cb9415a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Apr 3 13:52:07 2017 -0700

    Move HoodieAvroReader to hoodie-common, it will be used for compaction and in the record reader

 .../com/uber/hoodie/io/compact/HoodieRealtimeTableCompactor.java  | 8 +-------
 .../com/uber/hoodie/common/table/log/avro}/HoodieAvroReader.java  | 4 +---
 2 files changed, 2 insertions(+), 10 deletions(-)

commit aee136777be6606b51c95768df9f0575dd34bf8c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Mar 31 01:02:02 2017 -0700

    Fixes needed to run merge-on-read testing on production scale data

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  32 ++-
 .../uber/hoodie/config/HoodieCompactionConfig.java |  22 ++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  10 +
 .../exception/HoodieCompactionException.java       |  28 +++
 .../com/uber/hoodie/io/HoodieAppendHandle.java     |   2 +-
 .../java/com/uber/hoodie/io/HoodieAvroReader.java  |  99 +++++++++
 .../java/com/uber/hoodie/io/HoodieCleaner.java     |  22 +-
 .../io/compact/HoodieCompactionMetadata.java       |  26 ---
 .../uber/hoodie/io/compact/HoodieCompactor.java    |   1 +
 .../io/compact/HoodieRealtimeTableCompactor.java   | 238 +++++++++++----------
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   9 +
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  36 ++++
 .../java/com/uber/hoodie/table/HoodieTable.java    |  14 +-
 .../java/com/uber/hoodie/TestMergeOnReadTable.java |   3 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |   7 +-
 .../src/test/resources/log4j-surefire.properties   |   1 +
 hoodie-common/pom.xml                              |  20 +-
 .../hoodie/common/model/CompactionWriteStat.java   | 108 ++++++++++
 .../hoodie/common/model/HoodieCommitMetadata.java  |   5 +-
 .../common/model/HoodieCompactionMetadata.java     |  87 ++++++++
 .../common/table/log/avro/AvroLogAppender.java     |   6 +-
 .../table/view/HoodieTableFileSystemView.java      |  23 +-
 .../com/uber/hoodie/common/util/AvroUtils.java     |  49 +++--
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   5 +
 hoodie-hive/pom.xml                                |  10 +
 pom.xml                                            |   3 +-
 26 files changed, 663 insertions(+), 203 deletions(-)

commit 57ab7a2405f65de3e006c16268e71d992627d02a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Mar 31 14:58:55 2017 -0700

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 803c635098bbcb4a761eec5cd73ae81965c2f1b4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Mar 31 14:58:46 2017 -0700

    [maven-release-plugin] prepare release hoodie-0.3.5

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit f4bb44c1b1ea3d2645fe209c30e20289a3b30d2c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Mar 31 14:54:54 2017 -0700

    Update snapshot version to 0.3.5-SNAPSHOT

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 77e54e78f8cf4f615f1b899703c85b00a8f8aad1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Mar 27 14:49:26 2017 -0700

    Create the partition path if it does not exist when listing data files in a partition

 .../uber/hoodie/common/table/view/HoodieTableFileSystemView.java    | 2 ++
 .../src/main/java/com/uber/hoodie/common/util/FSUtils.java          | 6 ++++++
 2 files changed, 8 insertions(+)

commit e3b273e9fd33665e46a6fbccfbcf4504399f6f1a
Author: Yash Sharma <ysharma@atlassian.com>
Date:   Tue Mar 28 10:30:50 2017 +1100

    formatting for docs

 docs/s3_filesystem.md | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit bca7e7dae40570982155d05467e99446f8e80c44
Author: Yash Sharma <ysharma@atlassian.com>
Date:   Mon Mar 27 17:29:00 2017 +1100

    improve documentations

 docs/configurations.md                             |  3 ++
 docs/s3_filesystem.md                              |  8 ++++
 hoodie-client/pom.xml                              |  5 +++
 .../src/test/java/HoodieClientExample.java         | 47 +++++++---------------
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  1 -
 5 files changed, 30 insertions(+), 34 deletions(-)

commit d6f94b998dc3b98308b86c4a6cd11e2a250a8913
Author: Yash Sharma <yash360@gmail.com>
Date:   Fri Mar 24 14:42:10 2017 +1100

    Hoodie operability with S3

 README.md                                          |  1 +
 docs/s3_filesystem.md                              | 47 ++++++++++++++++++++
 .../hoodie/io/storage/HoodieWrapperFileSystem.java |  3 +-
 .../src/test/java/HoodieClientExample.java         | 51 +++++++++++++++++-----
 4 files changed, 91 insertions(+), 11 deletions(-)

commit a7cd021f266cdaa053fef4304f0794f539333170
Author: prazanna <prasanna@uber.com>
Date:   Thu Mar 23 16:20:54 2017 -0700

    Update incremental pull query documentation

 docs/quickstart.md | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 0e3f635adbc231ad513948c39e8b2d93573a035b
Author: prazanna <prasanna@uber.com>
Date:   Thu Mar 23 15:54:26 2017 -0700

    remove hardcoding of autoClean

 .../src/main/java/com/uber/hoodie/config/HoodieCompactionConfig.java    | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a94f3a638e82193e0243d8227b998046255efbb3
Author: Zeeshan Qureshi <zee@zqureshi.in>
Date:   Thu Mar 16 23:04:36 2017 -0400

    Pass table path as argument to HoodieClientExample

 hoodie-client/src/test/java/HoodieClientExample.java | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit b7047ab4fbe5274d9cb01d5eee85edf8735051c1
Author: fishie9 <siyu.yang@gmail.com>
Date:   Thu Mar 23 04:31:30 2017 -0700

    Pass in String StroageLevel for WriteStatus (#113)

 .../src/main/java/com/uber/hoodie/config/HoodieWriteConfig.java       | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b02910c588bc41d9235ff53ef766250b98673956
Author: ovj <omkar@uber.com>
Date:   Wed Mar 22 18:25:26 2017 -0700

    few fixes to quick start document (#112)

 docs/quickstart.md | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit f1b7afad2143cba6a87e03207e0e45c7cfc8ef10
Author: prazanna <prasanna@uber.com>
Date:   Tue Mar 21 17:36:46 2017 -0700

    Add config for index parallelism and make clean public (#109)
    
    * Add config for index parallelism and make clean public
    
    * Review comments on clean api modification

 .../java/com/uber/hoodie/HoodieWriteClient.java     | 21 +++++++++++++++++++--
 .../uber/hoodie/config/HoodieCompactionConfig.java  | 10 ++++++++++
 .../com/uber/hoodie/config/HoodieIndexConfig.java   | 10 ++++++++++
 .../com/uber/hoodie/config/HoodieWriteConfig.java   |  8 ++++++++
 .../com/uber/hoodie/index/HoodieBloomIndex.java     |  5 ++++-
 5 files changed, 51 insertions(+), 3 deletions(-)

commit 21898907c1d1dd1dd962b441db29c6663756cdb8
Author: ovj <omkar@uber.com>
Date:   Tue Mar 21 14:42:13 2017 -0700

    tool for importing hive tables (in parquet format) into hoodie dataset (#89)
    
    * tool for importing hive tables (in parquet format) into hoodie dataset
    
    * review fixes
    
    * review fixes
    
    * review fixes

 hoodie-cli/hoodie-cli.sh                           |  10 +-
 hoodie-cli/pom.xml                                 |   7 +-
 .../cli/commands/HDFSParquetImportCommand.java     |  91 ++++++
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  54 +++-
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   3 +-
 hoodie-client/pom.xml                              |   3 -
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  41 +--
 .../hoodie/common/HoodieTestDataGenerator.java     |  19 +-
 .../table/timeline/HoodieActiveTimeline.java       |  10 +
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  15 +
 hoodie-utilities/pom.xml                           |   5 +-
 .../uber/hoodie/utilities/HDFSParquetImporter.java | 312 +++++++++++++++++++++
 .../hoodie/utilities/TestHDFSParquetImporter.java  | 291 +++++++++++++++++++
 .../src/test/resources/log4j-surefire.properties   |  24 ++
 pom.xml                                            |  10 +
 15 files changed, 840 insertions(+), 55 deletions(-)

commit d835710c5196ae5a5272a513acb78913ef946b19
Author: prazanna <prasanna@uber.com>
Date:   Fri Mar 17 12:42:26 2017 -0700

    Metadata timeline marks an already complete instant as complete again (#98)

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  6 ++---
 .../table/timeline/HoodieActiveTimeline.java       |  3 +++
 .../table/string/HoodieActiveTimelineTest.java     | 28 +++++++++++++++-------
 .../table/view/ReadOptimizedTableViewTest.java     |  4 ++--
 4 files changed, 27 insertions(+), 14 deletions(-)

commit d83b671ada9981780257b10acabfce7b4e5a8403
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Mar 13 23:09:29 2017 -0700

    Implement Savepoints and required metadata timeline - Part 2

 .../hoodie/cli/commands/SavepointsCommand.java     |  4 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 55 +++++++++++++++++-----
 .../java/com/uber/hoodie/io/HoodieCleaner.java     | 24 ++++++----
 .../java/com/uber/hoodie/table/HoodieTable.java    | 37 +++++++++++++++
 .../java/com/uber/hoodie/TestHoodieClient.java     |  6 +--
 .../src/main/avro/HoodieSavePointMetadata.avsc     | 15 +++++-
 .../com/uber/hoodie/common/util/AvroUtils.java     | 23 +++++++++
 7 files changed, 135 insertions(+), 29 deletions(-)

commit 6f36e1eaaf6d4a83de3f41e61e650c16db5b4120
Author: prazanna <prasanna@uber.com>
Date:   Mon Mar 13 15:12:03 2017 -0700

    Implement Savepoints and required metadata timeline (#86)
    
    - Introduce avro to save clean metadata with details about the last commit that was retained
    - Save rollback metadata in the meta timeline
    - Create savepoint metadata and add API to createSavepoint, deleteSavepoint and rollbackToSavepoint
    - Savepointed commit should not be rolledback or cleaned or archived
    - introduce cli commands to show, create and rollback to savepoints
    - Write unit tests to test savepoints and rollbackToSavepoints

 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |  23 +-
 .../uber/hoodie/cli/commands/CleansCommand.java    | 112 +++++++
 .../hoodie/cli/commands/SavepointsCommand.java     | 160 +++++++++
 .../com/uber/hoodie/cli/commands/SparkMain.java    |  24 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 360 +++++++++++++++++----
 .../uber/hoodie/config/HoodieCompactionConfig.java |   8 +-
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   5 +-
 .../hoodie/exception/HoodieSavepointException.java |  28 ++
 .../java/com/uber/hoodie/io/HoodieCleaner.java     |  54 +++-
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  11 +-
 .../com/uber/hoodie/metrics/HoodieMetrics.java     |   2 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  32 ++
 .../java/com/uber/hoodie/TestHoodieClient.java     | 221 ++++++++++++-
 .../java/com/uber/hoodie/io/TestHoodieCleaner.java |  36 ++-
 hoodie-common/pom.xml                              |   4 +
 .../src/main/avro/HoodieCleanMetadata.avsc         |  24 ++
 .../src/main/avro/HoodieRollbackMetadata.avsc      |  22 ++
 .../src/main/avro/HoodieSavePointMetadata.avsc     |   9 +
 .../com/uber/hoodie/common/HoodieCleanStat.java    | 128 ++++++++
 .../com/uber/hoodie/common/HoodieRollbackStat.java |  84 +++++
 .../hoodie/common/model/HoodieCleaningPolicy.java  |  22 ++
 .../uber/hoodie/common/table/HoodieTimeline.java   |  11 +
 .../table/timeline/HoodieActiveTimeline.java       |  15 +-
 .../common/table/timeline/HoodieInstant.java       |   4 +
 .../com/uber/hoodie/common/util/AvroUtils.java     | 104 +++++-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  30 ++
 pom.xml                                            |  20 ++
 27 files changed, 1423 insertions(+), 130 deletions(-)

commit 69d3950a325a9b3cb22b6948abba1b22145783cf
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Mar 13 12:41:29 2017 -0700

    Revamped Deltastreamer  (#93)
    
    * Add analytics to site
    
    * Fix ugly favicon
    
    * New & Improved HoodieDeltaStreamer
    
     - Can incrementally consume from HDFS or Kafka, with exactly-once semantics!
     - Supports Json/Avro data, Source can also do custom things
     - Source is totally pluggable, via reflection
     - Key generation is pluggable, currently added SimpleKeyGenerator
     - Schema provider is pluggable, currently Filebased schemas
     - Configurable field to break ties during preCombine
     - Finally, can also plugin the HoodieRecordPayload, to get other merge types than overwriting
     - Handles efficient avro serialization in Spark
    
     Pending :
     - Rewriting of HiveIncrPullSource
     - Hive sync via hoodie-hive
     - Cleanup & tests
    
    * Minor fixes from master rebase
    
    * Implementation of HiveIncrPullSource
     - Copies commit by commit from source to target
    
    * Adding TimestampBasedKeyGenerator
     - Supports unix time & date strings

 .../java/com/uber/hoodie/HoodieWriteClient.java    |  16 +
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |  10 +
 .../uber/hoodie/avro/MercifulJsonConverter.java    |   1 +
 .../hoodie/common/model/HoodieAvroPayload.java     |   1 +
 .../hoodie/common/model/HoodieCommitMetadata.java  |  16 +-
 hoodie-utilities/pom.xml                           |  45 ++-
 .../hoodie/utilities/HiveIncrementalPuller.java    |  20 +-
 .../uber/hoodie/utilities/HoodieDeltaStreamer.java | 230 -------------
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  24 +-
 .../com/uber/hoodie/utilities/UtilHelpers.java     | 108 +++++++
 .../deltastreamer/DeltaStreamerAvroPayload.java    |  67 ++++
 .../deltastreamer/DeltaStreamerPayload.java        |  49 +++
 .../deltastreamer/HoodieDeltaStreamer.java         | 359 +++++++++++++++++++++
 .../exception/HoodieDeltaStreamerException.java    |  31 ++
 .../exception/HoodieIncrementalPullException.java  |  12 +-
 .../HoodieIncrementalPullSQLException.java         |  12 +-
 .../uber/hoodie/utilities/keygen/KeyGenerator.java |  47 +++
 .../utilities/keygen/SimpleKeyGenerator.java       |  58 ++++
 .../keygen/TimestampBasedKeyGenerator.java         | 105 ++++++
 .../utilities/schema/FilebasedSchemaProvider.java  |  74 +++++
 .../hoodie/utilities/schema/SchemaProvider.java    |  39 +++
 .../hoodie/utilities/sources/AvroConvertor.java    |  93 ++++++
 .../uber/hoodie/utilities/sources/DFSSource.java   | 152 +++++++++
 .../utilities/sources/HiveIncrPullSource.java      | 132 ++++++++
 .../uber/hoodie/utilities/sources/KafkaSource.java | 247 ++++++++++++++
 .../com/uber/hoodie/utilities/sources/Source.java  |  68 ++++
 .../hoodie/utilities/sources/SourceDataFormat.java |  29 ++
 .../delta-streamer-config/hoodie-client.properties |  19 ++
 .../delta-streamer-config/key-generator.properties |  20 ++
 .../schema-provider.properties                     |  20 ++
 .../resources/delta-streamer-config/source.avsc    |  30 ++
 .../delta-streamer-config/source.properties        |  25 ++
 .../resources/delta-streamer-config/target.avsc    |  29 ++
 33 files changed, 1925 insertions(+), 263 deletions(-)

commit c3257b96806608a2f082313c743c90cfa4718e44
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Mar 12 20:28:27 2017 -0700

    Fix ugly favicon

 docs/images/favicon.ico | Bin 177352 -> 1150 bytes
 1 file changed, 0 insertions(+), 0 deletions(-)

commit b252633fab182ba248aa5ccbb9aea2e661c26b81
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Mar 12 19:39:58 2017 -0700

    Add analytics to site

 docs/_includes/head.html | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit 404726031d37211f149c241c731ecf9b5f528bbd
Author: prazanna <prasanna@uber.com>
Date:   Sat Mar 4 01:36:21 2017 -0800

    Adding Siddhartha Gunda as a contributor
    
    for his contribution on the delete api

 pom.xml | 4 ++++
 1 file changed, 4 insertions(+)

commit 348a48aa8047b29d05dd0e08287a225ede008dae
Author: siddharthagunda <siddharthagunda@gmail.com>
Date:   Sat Mar 4 01:33:49 2017 -0800

    Add delete support to Hoodie (#85)

 .../java/com/uber/hoodie/index/HBaseIndex.java     | 27 +++++---
 .../com/uber/hoodie/index/InMemoryHashIndex.java   | 18 +++--
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 28 +++++---
 .../com/uber/hoodie/io/HoodieInsertHandle.java     | 23 +++++--
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     | 21 ++++--
 .../java/com/uber/hoodie/TestHoodieClient.java     | 79 ++++++++++++++++++++++
 .../hoodie/common/HoodieTestDataGenerator.java     | 25 +++++--
 .../com/uber/hoodie/common/TestRawTripPayload.java | 32 ++++++---
 .../uber/hoodie/index/TestHoodieBloomIndex.java    |  2 +-
 .../com/uber/hoodie/common/HoodieJsonPayload.java  |  7 +-
 .../hoodie/common/model/HoodieAvroPayload.java     | 15 ++--
 .../com/uber/hoodie/common/model/HoodieRecord.java |  5 +-
 .../hoodie/common/model/HoodieRecordPayload.java   |  8 ++-
 .../uber/hoodie/common/model/HoodieWriteStat.java  | 14 ++++
 .../com/uber/hoodie/common/util/AvroUtils.java     |  3 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  2 +-
 16 files changed, 241 insertions(+), 68 deletions(-)

commit 41e08018fc0bd8ceb740602a31781872338c9cc5
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Mar 2 11:42:04 2017 -0800

    Fixing minor documentation fixes

 docs/incremental_processing.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d84aea35121ea59d48de75cebe8d03fbd82a50de
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Mar 2 11:39:40 2017 -0800

    Fixing minor documentation fixes

 docs/index.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8a2a9ae764b38369d252c57eaaa77b0dcf0061c3
Author: prazanna <prasanna@uber.com>
Date:   Thu Mar 2 11:35:09 2017 -0800

    Making minor documentation fixes

 docs/index.md | 7 ++-----
 1 file changed, 2 insertions(+), 5 deletions(-)

commit 116a78094fd53fc13d3b613f422a9fb220b95f1f
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Feb 27 15:52:13 2017 -0800

    Cleanup code based on Java8 Lambdas (#84)

 .../java/com/uber/hoodie/HoodieReadClient.java     |  73 ++----
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 134 +++--------
 .../com/uber/hoodie/index/HoodieBloomIndex.java    | 266 +++++++--------------
 3 files changed, 153 insertions(+), 320 deletions(-)

commit c4fa585b27cb4e20de44879053ab46aa8e1ad040
Author: Wei Yan <ywskycn@gmail.com>
Date:   Thu Feb 23 20:12:36 2017 -0800

    Switch some info log to debug (#83)
    
    * Switch some info log to debug
    
    * fix a typo
    
    * remote HoodieTableMetadata file

 .../src/main/java/com/uber/hoodie/hadoop/HoodieInputFormat.java   | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit fe5c5e80214493f39390e16f33366d12e895f63a
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Feb 21 20:25:01 2017 -0800

    Test Failure in Travis-ci

 .../uber/hoodie/exception/DatasetNotFoundException.java    |  6 +++++-
 .../uber/hoodie/hadoop/TestHoodieROTablePathFilter.java    | 14 +++++++-------
 2 files changed, 12 insertions(+), 8 deletions(-)

commit 1132f3533d0bf76c323a1728ef35301e3b55e38e
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Feb 21 17:53:28 2017 -0800

    Merge and pull master commits

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 229 +++++++++++++--------
 .../uber/hoodie/func/BulkInsertMapFunction.java    |   4 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |  31 +--
 .../io/compact/HoodieRealtimeTableCompactor.java   |  16 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   9 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  10 +
 .../java/com/uber/hoodie/TestHoodieClient.java     |  17 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     |  26 ++-
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |   4 +-
 9 files changed, 221 insertions(+), 125 deletions(-)

commit eb46e7c72bbbe3149ebf66a6d90167966ba65938
Author: prazanna <prasanna@uber.com>
Date:   Tue Feb 21 15:24:00 2017 -0800

    Implement Merge on Read Storage (#76)
    
    1. Create HoodieTable abstraction for commits and fileSystemView
    2. HoodieMergeOnReadTable created
    3. View is now always obtained from the table and the correct view based on the table type is returned

 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |   6 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |  28 +--
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  67 ++++---
 .../com/uber/hoodie/config/HoodieWriteConfig.java  |   2 +-
 .../hoodie/exception/HoodieAppendException.java    |  32 ++++
 .../uber/hoodie/func/BulkInsertMapFunction.java    |   9 +-
 .../com/uber/hoodie/func/LazyInsertIterable.java   |  11 +-
 .../java/com/uber/hoodie/index/HBaseIndex.java     |  20 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |  51 +++--
 .../java/com/uber/hoodie/index/HoodieIndex.java    |   8 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |   7 +-
 .../com/uber/hoodie/io/HoodieAppendHandle.java     | 163 ++++++++++++++++
 .../java/com/uber/hoodie/io/HoodieCleaner.java     |  20 +-
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  22 +--
 .../com/uber/hoodie/io/HoodieInsertHandle.java     |  10 +-
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     |  30 +--
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  12 +-
 .../io/compact/HoodieRealtimeTableCompactor.java   |  24 ++-
 .../io/storage/HoodieStorageWriterFactory.java     |   3 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  40 ++--
 .../uber/hoodie/table/HoodieMergeOnReadTable.java  |  62 ++++++
 .../java/com/uber/hoodie/table/HoodieTable.java    | 163 +++++++++++++---
 .../src/test/java/HoodieClientExample.java         |   8 +
 .../java/com/uber/hoodie/TestHoodieClient.java     |  35 ++--
 .../java/com/uber/hoodie/TestMergeOnReadTable.java | 208 +++++++++++++++++++++
 .../uber/hoodie/func/TestUpdateMapFunction.java    |   8 +-
 .../uber/hoodie/index/TestHoodieBloomIndex.java    |  26 ++-
 .../java/com/uber/hoodie/io/TestHoodieCleaner.java |  29 ++-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    |  33 ++--
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  33 ++--
 .../hoodie/common/model/HoodieDeltaWriteStat.java  |  45 +++++
 .../uber/hoodie/common/table/HoodieTimeline.java   |  12 ++
 .../hoodie/common/table/TableFileSystemView.java   |  15 ++
 .../hoodie/common/table/log/HoodieLogAppender.java |   3 +-
 .../common/table/log/avro/AvroLogAppender.java     |   5 +-
 .../table/log/avro/RollingAvroLogAppender.java     |   5 +-
 .../table/timeline/HoodieActiveTimeline.java       |  18 +-
 .../common/table/timeline/HoodieInstant.java       |   4 +
 ...temView.java => HoodieTableFileSystemView.java} |  42 ++++-
 .../common/table/view/ReadOptimizedTableView.java  |  37 ----
 .../common/table/view/RealtimeTableView.java       |  80 --------
 .../exception/HoodieNotSupportedException.java     |  23 +++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  23 ++-
 .../common/table/log/avro/AvroLogAppenderTest.java |  30 +--
 .../table/view/ReadOptimizedTableViewTest.java     |   6 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   6 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |   6 +-
 47 files changed, 1111 insertions(+), 419 deletions(-)

commit 11d2fd34281aa8a7365c46f033a65eab29898042
Author: prazanna <prasanna@uber.com>
Date:   Mon Feb 6 14:32:32 2017 -0800

    Introduce RealtimeTableView and Implement HoodieRealtimeTableCompactor (#73)

 .../java/com/uber/hoodie/HoodieWriteClient.java    |   8 +-
 .../uber/hoodie/io/compact/CompactionFilter.java   |  34 ++++
 .../hoodie/io/compact/CompactionOperation.java     |  79 ++++++++
 .../io/compact/HoodieCompactionMetadata.java       |  26 +++
 .../uber/hoodie/io/compact/HoodieCompactor.java    |  53 ++++++
 .../io/compact/HoodieRealtimeTableCompactor.java   | 169 +++++++++++++++++
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  14 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   3 +-
 .../com/uber/hoodie/io/TestHoodieCompactor.java    | 200 +++++++++++++++++++++
 .../hoodie/common/model/HoodieAvroPayload.java     |  52 ++++++
 .../uber/hoodie/common/model/HoodieFileFormat.java |   2 +-
 .../uber/hoodie/common/model/HoodieTableType.java  |   2 +-
 .../hoodie/common/table/HoodieTableConfig.java     |  21 ++-
 .../hoodie/common/table/HoodieTableMetaClient.java |   8 +
 .../uber/hoodie/common/table/HoodieTimeline.java   |  12 +-
 .../common/table/log/HoodieLogAppendConfig.java    |  14 +-
 .../hoodie/common/table/log/HoodieLogFile.java     |  22 ++-
 .../table/log/avro/CompositeAvroLogReader.java     |   4 +-
 .../table/timeline/HoodieActiveTimeline.java       |  29 ++-
 .../common/table/timeline/HoodieInstant.java       |   4 +
 .../table/view/AbstractTableFileSystemView.java    |  83 +++++----
 .../common/table/view/ReadOptimizedTableView.java  |  16 +-
 .../common/table/view/RealtimeTableView.java       |  80 +++++++++
 .../com/uber/hoodie/common/util/AvroUtils.java     |  70 ++++++++
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  48 +++--
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |   6 +-
 .../com/uber/hoodie/exception/HoodieException.java |   4 +-
 .../exception/SchemaCompatabilityException.java    |  31 ++++
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  60 +++++++
 .../common/table/log/avro/AvroLogAppenderTest.java |  17 +-
 30 files changed, 1075 insertions(+), 96 deletions(-)

commit 48fbb0f4258499366477b00e164bccbfacccd792
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Jan 24 00:55:40 2017 -0800

    Implement reliable log file management for Merge on read, which is fault tolerant and allows random block level access on avro file

 hoodie-client/pom.xml                              |   39 +
 hoodie-common/pom.xml                              |   25 +
 .../common/table/log/HoodieLogAppendConfig.java    |  228 +++++
 .../hoodie/common/table/log/HoodieLogAppender.java |   64 ++
 .../hoodie/common/table/log/HoodieLogFile.java     |   92 ++
 .../common/table/log/avro/AvroLogAppender.java     |  140 +++
 .../common/table/log/avro/AvroLogReader.java       |   82 ++
 .../table/log/avro/CompositeAvroLogReader.java     |  155 +++
 .../table/log/avro/RollingAvroLogAppender.java     |   87 ++
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  174 +++-
 .../exception/InvalidHoodiePathException.java      |   25 +
 .../common/minicluster}/HdfsTestService.java       |   20 +-
 .../hoodie/common/minicluster/MiniClusterUtil.java |   53 ++
 .../common/minicluster}/ZookeeperTestService.java  |   20 +-
 .../common/table/log/avro/AvroLogAppenderTest.java |  315 ++++++
 .../uber/hoodie/common/util/SchemaTestUtil.java    |   62 ++
 hoodie-common/src/test/resources/sample.data       | 1000 ++++++++++++++++++++
 hoodie-common/src/test/resources/simple-test.avro  |   10 +
 hoodie-hive/pom.xml                                |    7 +
 .../java/com/uber/hoodie/hive/util/TestUtil.java   |    2 +
 hoodie-utilities/pom.xml                           |   42 +
 pom.xml                                            |    7 +
 22 files changed, 2626 insertions(+), 23 deletions(-)

commit ccd8cb240726deda35fabd2860edcbf4adeb1013
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Jan 18 01:00:36 2017 -0800

    Take 2: Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0
    - Refactored timelines to be a single timeline for all active events and one for archived events. CommitTimeline and other timelines can be inferred by applying a filter on the activeTimelime
    - Introduced HoodieInstant to abstract different types of action, commit time and if isInFlight
    - Implemented other review comments

 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |   8 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  66 +++--
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  27 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  13 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   8 +-
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |   4 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |  28 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  41 +--
 .../java/com/uber/hoodie/index/HBaseIndex.java     |   8 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |   9 +-
 .../java/com/uber/hoodie/io/HoodieCleaner.java     |  80 +++---
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  48 ++--
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |   3 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  22 +-
 .../java/com/uber/hoodie/TestHoodieClient.java     |  31 ++-
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   5 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   3 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |   3 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  51 ++--
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |   4 +-
 ...oodieStorageType.java => HoodieFileFormat.java} |   4 +-
 .../hoodie/common/table/HoodieTableConfig.java     |  19 +-
 .../hoodie/common/table/HoodieTableMetaClient.java | 111 +++-----
 .../uber/hoodie/common/table/HoodieTimeline.java   | 181 +++++++------
 .../hoodie/common/table/TableFileSystemView.java   |  12 +-
 .../table/timeline/HoodieActiveCommitTimeline.java |  77 ------
 .../table/timeline/HoodieActiveTimeline.java       | 252 ++++++++++++++++++
 ...itTimeline.java => HoodieArchivedTimeline.java} |  97 ++++---
 .../table/timeline/HoodieCleanerTimeline.java      |  57 ----
 .../table/timeline/HoodieDefaultTimeline.java      | 288 ++++-----------------
 .../common/table/timeline/HoodieInstant.java       | 121 +++++++++
 .../table/timeline/HoodieSavePointTimeline.java    |  50 ----
 .../table/view/AbstractTableFileSystemView.java    |  50 ++--
 .../common/table/view/ReadOptimizedTableView.java  |   2 +-
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  24 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  19 +-
 .../common/table/HoodieTableMetaClientTest.java    |  98 ++++---
 .../table/string/HoodieActiveTimelineTest.java     | 126 +++++++++
 .../table/string/HoodieDefaultTimelineTest.java    | 104 --------
 .../common/table/string/MockHoodieTimeline.java    |  58 ++---
 .../table/view/ReadOptimizedTableViewTest.java     |  30 ++-
 hoodie-hadoop-mr/pom.xml                           |   5 +
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  11 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |  18 +-
 .../uber/hoodie/utilities/HoodieDeltaStreamer.java |   4 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  10 +-
 46 files changed, 1189 insertions(+), 1101 deletions(-)

commit 8ee777a9bbe2b995f3f1984c83db1de46e27c104
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Jan 4 14:40:26 2017 -0800

    Refactor hoodie-common and create right abstractions for Hoodie Storage V2.0
    
    The following is the gist of changes done
    
    - All low-level operation of creating a commit code was in HoodieClient which made it hard to share code if there was a compaction commit.
    - HoodieTableMetadata contained a mix of metadata and filtering files. (Also few operations required FileSystem to be passed in because those were called from TaskExecutors and others had FileSystem as a global variable). Since merge-on-read requires a lot of that code, but will have to change slightly on how it operates on the metadata and how it filters the files. The two set of operation are split into HoodieTableMetaClient and TableFileSystemView.
    - Everything (active commits, archived commits, cleaner log, save point log and in future delta and compaction commits) in HoodieTableMetaClient is a HoodieTimeline. Timeline is a series of instants, which has an in-built concept of inflight and completed commit markers.
    - A timeline can be queries for ranges, contains and also use to create new datapoint (create a new commit etc). Commit (and all the above metadata) creation/deletion is streamlined in a timeline
    - Multiple timelines can be merged into a single timeline, giving us an audit timeline to whatever happened in a hoodie dataset. This also helps with #55.
    - Move to java 8 and introduce java 8 succinct syntax in refactored code

 hoodie-cli/pom.xml                                 |   9 +-
 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |   8 +-
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |   8 +-
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  85 ++--
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |  13 +-
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  49 +-
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  26 +-
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |  12 +-
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |  14 +-
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |  21 +-
 hoodie-client/pom.xml                              |   4 +-
 .../java/com/uber/hoodie/HoodieReadClient.java     |  53 ++-
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 524 +++++++++------------
 .../uber/hoodie/func/BulkInsertMapFunction.java    |  14 +-
 .../com/uber/hoodie/func/LazyInsertIterable.java   |  12 +-
 .../java/com/uber/hoodie/index/HBaseIndex.java     |  20 +-
 .../com/uber/hoodie/index/HoodieBloomIndex.java    |  87 ++--
 .../java/com/uber/hoodie/index/HoodieIndex.java    |  12 +-
 .../com/uber/hoodie/index/InMemoryHashIndex.java   |   8 +-
 .../java/com/uber/hoodie/io/HoodieCleaner.java     |  69 +--
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java |  69 +--
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  15 +-
 .../com/uber/hoodie/io/HoodieInsertHandle.java     |   4 +-
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     |  14 +-
 .../io/storage/HoodieStorageWriterFactory.java     |   4 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  59 ++-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  23 +-
 .../java/com/uber/hoodie/TestHoodieClient.java     | 103 ++--
 .../uber/hoodie/common/HoodieClientTestUtils.java  |   8 +-
 .../hoodie/common/HoodieTestDataGenerator.java     |   6 +-
 .../uber/hoodie/func/TestUpdateMapFunction.java    |  10 +-
 .../uber/hoodie/index/TestHoodieBloomIndex.java    |  24 +-
 .../java/com/uber/hoodie/io/TestHoodieCleaner.java |  20 +-
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java |  63 +--
 .../uber/hoodie/table/TestCopyOnWriteTable.java    |  43 +-
 hoodie-common/pom.xml                              |  13 +-
 .../hoodie/common/model/HoodieCommitMetadata.java  |   5 +
 .../uber/hoodie/common/model/HoodieCommits.java    | 191 --------
 .../uber/hoodie/common/model/HoodieDataFile.java   |  71 +++
 .../com/uber/hoodie/common/model/HoodieFile.java   |  57 ---
 .../hoodie/common/model/HoodieStorageType.java     |  31 ++
 .../hoodie/common/model/HoodieTableMetadata.java   | 477 -------------------
 .../hoodie/common/table/HoodieTableConfig.java     | 138 ++++++
 .../hoodie/common/table/HoodieTableMetaClient.java | 275 +++++++++++
 .../uber/hoodie/common/table/HoodieTimeline.java   | 190 ++++++++
 .../hoodie/common/table/TableFileSystemView.java   |  93 ++++
 .../table/timeline/HoodieActiveCommitTimeline.java |  77 +++
 .../timeline/HoodieArchivedCommitTimeline.java     | 121 +++++
 .../table/timeline/HoodieCleanerTimeline.java      |  57 +++
 .../table/timeline/HoodieDefaultTimeline.java      | 348 ++++++++++++++
 .../table/timeline/HoodieSavePointTimeline.java    |  50 ++
 .../table/view/AbstractTableFileSystemView.java    | 192 ++++++++
 .../common/table/view/ReadOptimizedTableView.java  |  47 ++
 .../java/com/uber/hoodie/common/util/FSUtils.java  |   9 -
 .../hoodie/exception/DatasetNotFoundException.java |  22 +
 .../uber/hoodie/exception/HoodieIOException.java   |   6 +-
 .../com/uber/hoodie/common/TestBloomFilter.java    |  20 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |  98 ++--
 .../hoodie/common/model/TestHoodieCommits.java     |  48 --
 .../common/model/TestHoodieTableMetadata.java      | 242 ----------
 .../common/table/HoodieTableMetaClientTest.java    | 128 +++++
 .../table/string/HoodieDefaultTimelineTest.java    | 104 ++++
 .../common/table/string/MockHoodieTimeline.java    |  66 +++
 .../table/view/ReadOptimizedTableViewTest.java     | 385 +++++++++++++++
 .../com/uber/hoodie/common/util/TestFSUtils.java   |  27 +-
 .../uber/hoodie/common/util/TestNumericUtils.java  |  20 +-
 .../uber/hoodie/common/util/TestParquetUtils.java  |  20 +-
 hoodie-hadoop-mr/pom.xml                           |   3 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  56 ++-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |   4 +-
 hoodie-utilities/pom.xml                           |  12 +-
 .../hoodie/utilities/HiveIncrementalPuller.java    |  21 +-
 .../uber/hoodie/utilities/HoodieDeltaStreamer.java |  31 +-
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  45 +-
 .../hoodie/utilities/TestHoodieSnapshotCopier.java |   2 +-
 pom.xml                                            |  93 +++-
 76 files changed, 3478 insertions(+), 1930 deletions(-)

commit 283269e57faae3c5c8620f0bc90d32a68075eff1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:52:25 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit d5a5f2ddff7bbfc079da084f9637a5b119b6b220
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:52:04 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.3.0

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 0e234ac0ef240d8930e99d46ce1d69f5004be315
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:47:52 2017 -0800

    Moving to Spark 2.1.0

 .../java/com/uber/hoodie/HoodieReadClient.java     | 12 ++++-----
 .../java/com/uber/hoodie/HoodieWriteClient.java    |  8 +++---
 .../com/uber/hoodie/index/HoodieBloomIndex.java    | 30 +++++++++++-----------
 .../com/uber/hoodie/table/WorkloadProfile.java     |  6 ++---
 .../hoodie/utilities/HoodieSnapshotCopier.java     |  5 ++--
 pom.xml                                            |  7 ++---
 6 files changed, 35 insertions(+), 33 deletions(-)

commit be1dd9444f881b3e667501ce4ec980896729ca96
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:09:05 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 47583e280f259db79d1e7f8607cb90cf55b9b453
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:08:45 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.14

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 2d49711cce43d305754027952b88d2f70ac31a17
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 16:01:24 2017 -0800

    Changing the current development version to 0.2.14-SNAPSHOT

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 2 +-
 7 files changed, 7 insertions(+), 7 deletions(-)

commit 4a47d26818e6d44fec89b00430a439401d3cedb0
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:57:58 2017 -0800

    Fixing a javadoc lint issue

 .../src/main/java/com/uber/hoodie/HoodieReadClient.java        |  2 +-
 .../src/main/java/com/uber/hoodie/index/HoodieBloomIndex.java  |  2 +-
 .../java/com/uber/hoodie/common/HoodieTestDataGenerator.java   |  2 +-
 .../java/com/uber/hoodie/hadoop/HoodieROTablePathFilter.java   | 10 +++++-----
 pom.xml                                                        |  3 +++
 5 files changed, 11 insertions(+), 8 deletions(-)

commit cc58a4c3e0ef7ca90b388711d1a8a815ac6ae799
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:49:45 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit dd03038254b69438b5d3a5d74cef6ee7d193d263
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:49:20 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.13

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 7178cb5a3fe1086b93e8d12a66674f7fc77a493d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:41:32 2017 -0800

    Fixing a javadoc lint issue

 hoodie-client/src/main/java/com/uber/hoodie/HoodieWriteClient.java | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 57a0b7a781d5fdb0771f119a1d0863b9e17bebb3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:35:19 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 9828bd8019de778233aa96da154999fc05ea0e73
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:35:03 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.12

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 8f1216316624f017a5e13f29236f06a9f1517595
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:00:35 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 6e6f6efb94cfba342aa0bc7a29f02aeb461d771d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 20 15:00:16 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.11

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 33a85900f806c1b10ec8115f8e298cdb5d7d6d14
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Sun Feb 19 20:13:57 2017 -0800

    Adding admin guide, guide for sql queries and incr processing

 docs/_includes/footer.html             |   2 +-
 docs/admin_guide.md                    | 238 ++++++++++++++++++++++++++++-----
 docs/community.md                      |   1 +
 docs/images/hoodie_commit_duration.png | Bin 0 -> 869144 bytes
 docs/images/hoodie_upsert_dag.png      | Bin 0 -> 503771 bytes
 docs/incremental_processing.md         |  82 +++++++++++-
 docs/sql_queries.md                    |   2 +-
 7 files changed, 290 insertions(+), 35 deletions(-)

commit dcc15d5d6f71f87d9f3055ef2e06ff3acc645bdc
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Feb 17 20:19:18 2017 -0800

    Adding docs for running sql queries on hoodie datasets

 docs/sql_queries.md | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++-
 1 file changed, 59 insertions(+), 1 deletion(-)

commit 66e272e9eb5249884658e217aca87ac610f3b14d
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Feb 17 18:30:56 2017 -0800

    Docs for performance section  (#80)
    
    * Adding performance section
    
    * minor edit to perf section

 docs/images/hoodie_query_perf_hive.png   | Bin 0 -> 158481 bytes
 docs/images/hoodie_query_perf_presto.png | Bin 0 -> 33727 bytes
 docs/images/hoodie_query_perf_spark.png  | Bin 0 -> 29384 bytes
 docs/images/hoodie_upsert_perf1.png      | Bin 0 -> 15984 bytes
 docs/images/hoodie_upsert_perf2.png      | Bin 0 -> 18954 bytes
 docs/implementation.md                   |  23 ++++++++++++++++++++---
 6 files changed, 20 insertions(+), 3 deletions(-)

commit c7a8e15c7880c09edf3d7e4ab0882dc5209029cd
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Feb 17 08:25:17 2017 -0800

    Docs for impl & comparison (#79)
    
    * Initial version of comparison, implementation
    
    * Finished doc for comparison to other systems

 docs/comparison.md     | 48 ++++++++++++++++++++++++++++-
 docs/implementation.md | 84 +++++++++++++++++++++++++++++++++++++++++++++++---
 docs/powered_by.md     |  3 +-
 3 files changed, 129 insertions(+), 6 deletions(-)

commit a725382549afefb84f72a4d1bb733390d3569834
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Feb 6 14:12:18 2017 -0800

    Add Configurations to Documentation

 docs/_data/sidebars/mydoc_sidebar.yml |  4 ++
 docs/_data/tags.yml                   |  1 +
 docs/configurations.md                | 79 +++++++++++++++++++++++++++++++++++
 3 files changed, 84 insertions(+)

commit 186d70713f6544ed3ead61952bbb75acf6f5b3ce
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Sun Jan 29 15:22:57 2017 -0800

    Adding documentation around Hoodie concepts (#71)

 docs/_data/sidebars/mydoc_sidebar.yml      |   8 +-
 docs/comparison.md                         |   5 ++
 docs/concepts.md                           | 115 ++++++++++++++++++++++++++++-
 docs/images/hoodie_cow.png                 | Bin 0 -> 31136 bytes
 docs/images/hoodie_mor.png                 | Bin 0 -> 56002 bytes
 docs/images/hoodie_timeline.png            | Bin 0 -> 23093 bytes
 docs/{performance.md => implementation.md} |   6 +-
 7 files changed, 125 insertions(+), 9 deletions(-)

commit 8e72ed69b430b67bc4d3fcaeeee580890c3e305a
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Jan 27 10:51:00 2017 -0800

    Split insert() into insert() & bulkInsert() (#69)
    
    - Behaviour change for existing insert() users
     - Made the current insert() implementation, as something to use for bulkInsert()
     - Normal inserts now share a lot of code with upsert, which provides benefits like small file handling
     - Refactored/Cleaned up code in HoodieWriteClient for reuse
     - Added a unit test, switching few tests to call bulkInsert() and few to call insert()

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 325 ++++++++++++---------
 ...MapFunction.java => BulkInsertMapFunction.java} |   6 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |  11 +-
 .../java/com/uber/hoodie/table/HoodieTable.java    |  11 +
 .../java/com/uber/hoodie/TestHoodieClient.java     | 104 ++++++-
 .../hoodie/common/HoodieTestDataGenerator.java     |   3 +
 6 files changed, 305 insertions(+), 155 deletions(-)

commit 54409b07ea056df6a2b40452caa2641d5fd19fbe
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Jan 26 11:13:33 2017 -0800

    Implement HoodieROTablePathFilter for use with Spark 2.0 (#66)
    
    - Unit tested
     - Tested with few queries on Spark 2.x at Uber

 .../hoodie/common/model/HoodieTableMetadata.java   |   2 +-
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   9 +-
 .../hoodie/hadoop/HoodieROTablePathFilter.java     | 159 +++++++++++++++++++++
 .../hoodie/hadoop/TestHoodieROTablePathFilter.java |  75 ++++++++++
 4 files changed, 242 insertions(+), 3 deletions(-)

commit 0004ae62add23e5cd6ad70110ea7cd1a96d73fd7
Merge: 693d7515 8a397302
Author: prazanna <prasanna@uber.com>
Date:   Mon Jan 16 19:38:53 2017 -0800

    Merge pull request #61 from zqureshi/format-comment-hoodiekey
    
    Format param comment in HoodieKey

commit 8a39730273e0dbd3f9197de7a116d925f7ac13f9
Author: Zeeshan Qureshi <zeeshan.qureshi@shopify.com>
Date:   Mon Jan 16 22:14:30 2017 -0500

    Format param comment in HoodieKey

 .../src/main/java/com/uber/hoodie/common/model/HoodieKey.java         | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 693d751506840ab811a1d93a0c39b7ab51c89e0f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Jan 10 22:27:35 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit e9866bb4d9f6ee868d9b9f6f27956996f52eadb7
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Jan 10 22:27:28 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.10

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit e4e3395f3e8edbe236ad49b72eafbb1dffdaefda
Author: prazanna <prasanna@uber.com>
Date:   Tue Jan 10 22:14:40 2017 -0800

    Make commit a public method. Introduce a auto-commit config. Relates issue https://github.com/uber/hoodie/issues/58 (#60)

 .../java/com/uber/hoodie/HoodieWriteClient.java    | 26 +++++++++-----
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 15 ++++++++
 .../java/com/uber/hoodie/TestHoodieClient.java     | 40 +++++++++++++++++++---
 3 files changed, 67 insertions(+), 14 deletions(-)

commit 9d09a58a1884558dd99e181a898b691d3a249e77
Merge: 1559a382 40a63fca
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Jan 9 11:32:35 2017 -0800

    Merge pull request #56 from vinothchandar/master
    
    Shorten README and point to site

commit 40a63fcab414143edfdcddd90900fbe300f0241e
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Mon Jan 9 11:30:46 2017 -0800

    Shorten README and point to site

 README.md        | 213 ++-----------------------------------------------------
 docs/concepts.md |   2 +-
 2 files changed, 5 insertions(+), 210 deletions(-)

commit 1559a3826fa037cbe981962ec3255566b06e7669
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Jan 6 00:06:15 2017 -0800

    Minor fixes to use_cases.md

 docs/use_cases.md | 18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 534c898c6b93d558ff785e8a2af273c387fd6a39
Merge: 1ced46ab 5a7d408c
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Jan 5 23:57:48 2017 -0800

    Merge pull request #34 from vinothchandar/master
    
    Fixing the eyesore red font color over sidebar for docs

commit 5a7d408c3c1780a1da52d3c640b2f1835969b910
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Jan 5 23:55:53 2017 -0800

    Fixing the eyesore red font color over sidebar for docs

 docs/css/theme-blue.css  | 6 +++---
 docs/css/theme-green.css | 6 +++---
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 1ced46ab3e385d0b458e031d15d8aba2913e54eb
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 20:04:35 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit e9f0d4d0bfe006425d1b376020b29d4f4caf8f79
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 20:04:28 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.9

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 1d72b164c80588786146283d67baad0ab075c693
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 19:56:41 2017 -0800

    Javadoc generation fails because of invalid html tags

 .../src/main/java/com/uber/hoodie/utilities/HiveIncrementalPuller.java  | 2 +-
 .../src/main/java/com/uber/hoodie/utilities/HoodieDeltaStreamer.java    | 1 -
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 7171ea690970d7ec5fffa4b200862672836206da
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 19:43:31 2017 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit c1f2d1e456c385b6c1b5c07e95715acd0d5bdeb1
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 19:43:25 2017 -0800

    [maven-release-plugin] prepare release hoodie-0.2.8

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 hoodie-utilities/pom.xml | 2 +-
 pom.xml                  | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit 9071220a300726f05948ab9532596e064e14711b
Merge: 93de14f2 b2c95851
Author: prazanna <prasanna@uber.com>
Date:   Thu Jan 5 19:28:59 2017 -0800

    Merge pull request #33 from vinothchandar/master
    
    Changing Update record failure semantics to be consistent with inserts

commit b2c958519e0ff8da2e7136a1c9b7753618806b6c
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Thu Jan 5 17:26:47 2017 -0800

    Changing Update record failure semantics to be consistent with inserts
     - Don't skip, but writes the same old record again now
     - Marks the correspoinding HoodieRecord as failure to be handed back to the client

 .../java/com/uber/hoodie/io/HoodieInsertHandle.java   |  2 ++
 .../java/com/uber/hoodie/io/HoodieUpdateHandle.java   | 19 ++++++++++++++++---
 .../com/uber/hoodie/table/HoodieCopyOnWriteTable.java |  7 ++++---
 3 files changed, 22 insertions(+), 6 deletions(-)

commit 93de14f2cf72f9a5b27ae97ad1d452d3e8a0c5c2
Merge: ee9be707 6dd60335
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Jan 5 16:59:31 2017 -0800

    Merge pull request #32 from prazanna/master
    
    Make sure to fail with HoodieUpsertException if HoodieUpdateHandle is…

commit 6dd603352ee59f20f376924e469ac653a27e9091
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Thu Jan 5 16:45:59 2017 -0800

    Make sure to fail with HoodieUpsertException if HoodieUpdateHandle is not properly initialized

 hoodie-client/src/main/java/com/uber/hoodie/io/HoodieUpdateHandle.java | 3 +++
 1 file changed, 3 insertions(+)

commit ee9be707e5be1a9b66f92e3d8f0243291dd758d7
Merge: 64858239 24756102
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Jan 5 16:45:08 2017 -0800

    Merge pull request #26 from prazanna/master
    
    Build hoodie-hadoop-mr as a fat jar - include hoodie common

commit 64858239d16ce6f8d66f103aa48afa81a65b9bee
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Wed Jan 4 23:58:09 2017 -0800

    Update use_cases.md

 docs/use_cases.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5d5e346c618f5bd9ef011bdc228cfb5ebaa70b8e
Merge: 83d4163c 958f7ced
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Wed Jan 4 20:54:39 2017 -0800

    Merge pull request #28 from vinothchandar/add-docs
    
    Adding Documentation for Getting Started Section

commit 958f7ceda6adef8c8403722abbf74bdbc8e09304
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Jan 4 20:50:44 2017 -0800

    Adding Documentation for Getting Started Section
    
     - Overview, Use Cases, Powered By  are very detailed
     - Cleaned up QuickStart
     - Redistribute the content from README to correct pages to be improved upon
     - Switch to blue theme

 docs/_includes/head.html       |   2 +-
 docs/admin_guide.md            |  43 ++++++++-
 docs/code_structure.md         |   9 +-
 docs/community.md              |   7 +-
 docs/concepts.md               |   6 +-
 docs/images/hoodie_intro_1.png | Bin 0 -> 23478 bytes
 docs/index.md                  | 213 +++--------------------------------------
 docs/powered_by.md             |   4 +-
 docs/quickstart.md             | 146 +++++++++++++++++++++++++++-
 docs/roadmap.md                |   6 +-
 docs/use_cases.md              |  72 +++++++++++++-
 11 files changed, 297 insertions(+), 211 deletions(-)

commit 247561024679e64c97f6289ddf8dfd34e018bc65
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Jan 4 14:51:46 2017 -0800

    Build hoodie-hadoop-mr as a fat jar - include hoodie common

 hoodie-hadoop-mr/pom.xml | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit 362a84377b7d244a1e25895e500fe7177ecc9462
Merge: 16f20ebe 83d4163c
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Jan 4 14:42:05 2017 -0800

    Merge remote-tracking branch 'uber/master'

commit 83d4163c7576752caa59e4bcee9c4df061c14279
Merge: 040c7aa7 dd8638c2
Author: prazanna <prasanna@uber.com>
Date:   Wed Jan 4 14:12:16 2017 -0800

    Merge pull request #25 from vinothchandar/master
    
    Annotate HoodieInputFormat with UseFileSplitsFromInputFormat

commit dd8638c2cc83a99c0b2fdd3c07754e8ea8b1bac8
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Jan 4 11:18:05 2017 -0800

    Annotate HoodieInputFormat with UseFileSplitsFromInputFormat
     - Tested with corresponding Presto changes (pending PR)

 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |  1 +
 .../hadoop/UseFileSplitsFromInputFormat.java       | 36 ++++++++++++++++++++
 .../com/uber/hoodie/hadoop/AnnotationTest.java     | 38 ++++++++++++++++++++++
 3 files changed, 75 insertions(+)

commit 16f20ebe39ce074539302e1d7d3b5cfcc98fbc2e
Merge: d5256875 040c7aa7
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Jan 3 20:40:34 2017 -0800

    Merge remote-tracking branch 'uber/master'

commit 040c7aa76628cea6933214e936f596a5df3b9e69
Author: prazanna <prasanna@uber.com>
Date:   Tue Jan 3 18:24:36 2017 -0800

    Delete CNAME

 docs/CNAME | 1 -
 1 file changed, 1 deletion(-)

commit 7da5e9a03adbd3a986dcd030cc8bb84e5814fef2
Author: prazanna <prasanna@uber.com>
Date:   Tue Jan 3 17:26:28 2017 -0800

    Create CNAME

 docs/CNAME | 1 +
 1 file changed, 1 insertion(+)

commit d525687512d252d114bd99be83cce6960f22c653
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Dec 30 11:26:44 2016 -0800

    Delete CNAME

 docs/CNAME | 1 -
 1 file changed, 1 deletion(-)

commit e73686be699ba01f0269497b385449f328d06fe6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Dec 30 11:24:24 2016 -0800

    Create CNAME

 docs/CNAME | 1 +
 1 file changed, 1 insertion(+)

commit 70b50df79e9883b7c29af957cb1f823de4f6e9ca
Merge: db72a33d 2bf0db14
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Fri Dec 30 11:16:18 2016 -0800

    Merge pull request #13 from vinothchandar/add-docs
    
    Adding docs folder, with skeleton jekyll based site

commit 2bf0db14c682a873473b3d9676a669ddea650b51
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Dec 30 11:05:22 2016 -0800

    Adding docs folder, with skeleton jekyll based site
    
     - Uses https://github.com/tomjohnson1492/documentation-theme-jekyll
     - Have filler pages

 docs/.gitignore                                    |    4 +
 docs/404.md                                        |    6 +
 docs/Dockerfile                                    |   26 +
 docs/Gemfile                                       |   10 +
 docs/Gemfile.lock                                  |  150 +
 docs/_config.yml                                   |   87 +
 docs/_data/alerts.yml                              |   15 +
 docs/_data/sidebars/mydoc_sidebar.yml              |   58 +
 docs/_data/strings.yml                             |    5 +
 docs/_data/tags.yml                                |    9 +
 docs/_data/topnav.yml                              |   30 +
 docs/_includes/archive.html                        |   15 +
 docs/_includes/callout.html                        |    1 +
 docs/_includes/custom/getting_started_series.html  |   19 +
 .../custom/getting_started_series_next.html        |   10 +
 docs/_includes/custom/series_acme.html             |   19 +
 docs/_includes/custom/series_acme_next.html        |   30 +
 docs/_includes/custom/sidebarconfigs.html          |   19 +
 docs/_includes/custom/usermap.html                 |   14 +
 docs/_includes/custom/usermapcomplex.html          |   91 +
 docs/_includes/disqus.html                         |   16 +
 docs/_includes/feedback.html                       |   13 +
 docs/_includes/footer.html                         |    9 +
 docs/_includes/google_analytics.html               |    6 +
 docs/_includes/head.html                           |   36 +
 docs/_includes/head_print.html                     |   33 +
 docs/_includes/image.html                          |    1 +
 docs/_includes/important.html                      |    1 +
 docs/_includes/initialize_shuffle.html             |  130 +
 docs/_includes/inline_image.html                   |    1 +
 docs/_includes/links.html                          |   44 +
 docs/_includes/note.html                           |    1 +
 docs/_includes/sidebar.html                        |   56 +
 docs/_includes/taglogic.html                       |   32 +
 docs/_includes/tip.html                            |    1 +
 docs/_includes/toc.html                            |   21 +
 docs/_includes/topnav.html                         |   75 +
 docs/_includes/warning.html                        |    1 +
 docs/_layouts/default.html                         |   80 +
 docs/_layouts/default_print.html                   |   25 +
 docs/_layouts/none.html                            |    3 +
 docs/_layouts/page.html                            |   70 +
 docs/_layouts/page_print.html                      |   15 +
 docs/_layouts/post.html                            |   41 +
 docs/_posts/2016-12-30-strata-talk-2017.md         |   11 +
 docs/admin_guide.md                                |   10 +
 docs/api_docs.md                                   |   10 +
 docs/code_structure.md                             |   10 +
 docs/community.md                                  |   10 +
 docs/comparison.md                                 |   10 +
 docs/concepts.md                                   |   10 +
 docs/css/bootstrap.min.css                         |    5 +
 docs/css/customstyles.css                          | 1181 ++++
 docs/css/font-awesome.min.css                      |    4 +
 docs/css/fonts/FontAwesome.otf                     |  Bin 0 -> 93888 bytes
 docs/css/fonts/fontawesome-webfont.eot             |  Bin 0 -> 60767 bytes
 docs/css/fonts/fontawesome-webfont.svg             |  565 ++
 docs/css/fonts/fontawesome-webfont.ttf             |  Bin 0 -> 122092 bytes
 docs/css/fonts/fontawesome-webfont.woff            |  Bin 0 -> 71508 bytes
 docs/css/fonts/fontawesome-webfont.woff2           |  Bin 0 -> 56780 bytes
 docs/css/lavish-bootstrap.css                      | 5898 ++++++++++++++++++++
 docs/css/modern-business.css                       |   93 +
 docs/css/printstyles.css                           |  160 +
 docs/css/syntax.css                                |   60 +
 docs/css/theme-blue.css                            |  103 +
 docs/css/theme-green.css                           |   99 +
 docs/dev_setup.md                                  |   10 +
 docs/feed.xml                                      |   32 +
 docs/fonts/FontAwesome.otf                         |  Bin 0 -> 85908 bytes
 docs/fonts/fontawesome-webfont.eot                 |  Bin 0 -> 56006 bytes
 docs/fonts/fontawesome-webfont.svg                 |  520 ++
 docs/fonts/fontawesome-webfont.ttf                 |  Bin 0 -> 112160 bytes
 docs/fonts/fontawesome-webfont.woff                |  Bin 0 -> 65452 bytes
 docs/fonts/glyphicons-halflings-regular.eot        |  Bin 0 -> 20127 bytes
 docs/fonts/glyphicons-halflings-regular.svg        |  288 +
 docs/fonts/glyphicons-halflings-regular.ttf        |  Bin 0 -> 45404 bytes
 docs/fonts/glyphicons-halflings-regular.woff       |  Bin 0 -> 23424 bytes
 docs/fonts/glyphicons-halflings-regular.woff2      |  Bin 0 -> 18028 bytes
 docs/images/androidsdkmanagericon.png              |  Bin 0 -> 795 bytes
 docs/images/authorizegithubscreen2.png             |  Bin 0 -> 76388 bytes
 docs/images/authorizeongithub.png                  |  Bin 0 -> 22571 bytes
 docs/images/company_logo.png                       |  Bin 0 -> 3105 bytes
 docs/images/company_logo_big.png                   |  Bin 0 -> 9588 bytes
 docs/images/favicon.ico                            |  Bin 0 -> 177352 bytes
 docs/images/helpapi-01.png                         |  Bin 0 -> 91640 bytes
 docs/images/helpapi.svg                            | 1661 ++++++
 docs/images/illustratoroptions.png                 |  Bin 0 -> 118175 bytes
 docs/images/itermexample.png                       |  Bin 0 -> 68886 bytes
 docs/images/jekyll.png                             |  Bin 0 -> 5375 bytes
 docs/images/killalljekyll.png                      |  Bin 0 -> 66686 bytes
 docs/images/liningup.png                           |  Bin 0 -> 74728 bytes
 docs/images/workflowarrow.png                      |  Bin 0 -> 3595 bytes
 docs/incremental_processing.md                     |   10 +
 docs/index.md                                      |  220 +
 docs/js/customscripts.js                           |   55 +
 docs/js/jekyll-search.js                           |    1 +
 docs/js/jquery.ba-throttle-debounce.min.js         |    9 +
 docs/js/jquery.localScroll.min.js                  |    7 +
 docs/js/jquery.navgoco.min.js                      |    8 +
 docs/js/jquery.scrollTo.min.js                     |    7 +
 docs/js/jquery.shuffle.min.js                      | 1588 ++++++
 docs/js/mydoc_scroll.html                          |  240 +
 docs/js/toc.js                                     |   82 +
 docs/licenses/LICENSE                              |   21 +
 docs/licenses/LICENSE-BSD-NAVGOCO.txt              |   27 +
 docs/pages/news/news.html                          |   32 +
 docs/pages/news/news_archive.html                  |   41 +
 docs/performance.md                                |   10 +
 docs/powered_by.md                                 |    9 +
 docs/quickstart.md                                 |   10 +
 docs/roadmap.md                                    |   10 +
 docs/search.json                                   |   33 +
 docs/sitemap.xml                                   |   24 +
 docs/sql_queries.md                                |   10 +
 docs/use_cases.md                                  |    9 +
 115 files changed, 14542 insertions(+)

commit db72a33d9aaa53e3357780f2ecb47f189491fe96
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Dec 29 16:56:49 2016 -0800

    Delete CNAME

 CNAME | 1 -
 1 file changed, 1 deletion(-)

commit e750506228c4feed195daee066b4af5ed8a55767
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Dec 29 16:54:37 2016 -0800

    Create CNAME

 CNAME | 1 +
 1 file changed, 1 insertion(+)

commit e8e43a22db0f6dafa77c457a73abb26c46fbf1c7
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Thu Dec 29 16:53:39 2016 -0800

    Set theme jekyll-theme-minimal

 _config.yml | 1 +
 1 file changed, 1 insertion(+)

commit ac7595669c3edabba367792313fc5916ba1362d1
Merge: 501ef9d4 84e0a7f6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Wed Dec 28 16:51:55 2016 -0800

    Merge pull request #12 from vinothchandar/master
    
    Fixing version in hoodie-utilities pom.xml

commit 84e0a7f68a632a41541e9ab51808aee49c5d1a36
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Dec 28 16:43:16 2016 -0800

    Fixing version in hoodie-utilities pom.xml

 hoodie-utilities/pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 501ef9d4da492fad9a85b6955b994b97fb3a1f3c
Merge: ee854da9 0c854fae
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Wed Dec 28 16:38:12 2016 -0800

    Merge pull request #10 from vinothchandar/master
    
    Adding hoodie-utilities module

commit 0c854faebe22716ad024f6953f13bc62bad14604
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Wed Dec 28 15:42:30 2016 -0800

    Adding hoodie-utilities module

 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |   5 +-
 ...icHoodiePayload.java => HoodieJsonPayload.java} |  25 +-
 hoodie-utilities/pom.xml                           | 211 +++++++++++++
 hoodie-utilities/src/assembly/src.xml              |  50 +++
 .../hoodie/utilities/HiveIncrementalPuller.java    | 337 +++++++++++++++++++++
 .../uber/hoodie/utilities/HoodieDeltaStreamer.java | 230 ++++++++++++++
 .../hoodie/utilities/HoodieSnapshotCopier.java     | 159 ++++++++++
 .../exception/HoodieIncrementalPullException.java  |  31 ++
 .../HoodieIncrementalPullSQLException.java         |  29 ++
 .../src/main/resources/IncrementalPull.sqltemplate |   8 +
 .../hoodie/utilities/TestHoodieSnapshotCopier.java | 148 +++++++++
 pom.xml                                            |   1 +
 12 files changed, 1228 insertions(+), 6 deletions(-)

commit ee854da9b2d9a2a8f3c92e28b9121887eeb82410
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 17:38:57 2016 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 pom.xml                  | 4 ++--
 6 files changed, 7 insertions(+), 7 deletions(-)

commit 587aaffcf67e7d4ab1443a29c9d11b805075f5d4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 17:38:50 2016 -0800

    [maven-release-plugin] prepare release hoodie-0.2.7

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 pom.xml                  | 4 ++--
 6 files changed, 7 insertions(+), 7 deletions(-)

commit b6d8e857f0adf70de5772b21310ade44470a7490
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 17:34:29 2016 -0800

    Fix javadoc issues. Prelude to pushing libs to maven central

 .../java/com/uber/hoodie/HoodieReadClient.java     |   4 +-
 .../java/com/uber/hoodie/HoodieWriteClient.java    |   3 +-
 .../java/com/uber/hoodie/index/HoodieIndex.java    |   6 +-
 .../com/uber/hoodie/io/HoodieInsertHandle.java     |   4 +-
 .../main/java/com/uber/hoodie/metrics/Metrics.java |   6 +-
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  |   2 +-
 .../uber/hoodie/common/file/HoodieAppendLog.java   | 143 +--------------------
 .../uber/hoodie/common/model/HoodieCommits.java    |   2 +-
 .../hoodie/common/model/HoodieTableMetadata.java   |   9 +-
 .../com/uber/hoodie/hive/client/SchemaUtil.java    |   2 +-
 pom.xml                                            |   8 +-
 11 files changed, 20 insertions(+), 169 deletions(-)

commit 12885ab60a027972a8ca73520ad8717b07e90a23
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 16:48:36 2016 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 pom.xml                  | 4 ++--
 6 files changed, 7 insertions(+), 7 deletions(-)

commit d42f235bbc1a29abc37979c4db0f2586af6fa757
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 16:48:30 2016 -0800

    [maven-release-plugin] prepare release hoodie-0.2.6

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 pom.xml                  | 4 ++--
 6 files changed, 7 insertions(+), 7 deletions(-)

commit 4b28ecae1b11bff3e92fb0b5a7a28eea710938f4
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 16:44:04 2016 -0800

    Naming the release profile correctly

 pom.xml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5f9be585764a4a3d697131019b9e717611884d95
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 14:45:37 2016 -0800

    [maven-release-plugin] prepare for next development iteration

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 2 +-
 hoodie-hive/pom.xml      | 2 +-
 pom.xml                  | 4 ++--
 6 files changed, 7 insertions(+), 7 deletions(-)

commit 5362e9288602175283ab0501059c3152cd3d5688
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 14:45:31 2016 -0800

    [maven-release-plugin] prepare release hoodie-0.2.5

 hoodie-cli/pom.xml       | 2 +-
 hoodie-client/pom.xml    | 2 +-
 hoodie-common/pom.xml    | 2 +-
 hoodie-hadoop-mr/pom.xml | 6 ++----
 hoodie-hive/pom.xml      | 6 ++----
 pom.xml                  | 4 ++--
 6 files changed, 9 insertions(+), 13 deletions(-)

commit e59dd480190e5b1ba305e6c633e977f71408c4d9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 12:47:01 2016 -0800

    Add ossrh profile to publish maven artifacts to oss.sonatype.org (synced with maven central)

 deploy/maven/sonatype-settings.xml | 4 ++--
 deploy/scripts/publish.sh          | 8 --------
 pom.xml                            | 2 +-
 3 files changed, 3 insertions(+), 11 deletions(-)

commit 74ae732ef18a63e21246cfab14c88ac1d002c005
Merge: 715ccd91 f8512782
Author: prazanna <prasanna@uber.com>
Date:   Wed Dec 21 12:05:31 2016 -0800

    Merge pull request #6 from prazanna/master
    
    Added needed section to deploy to maven central.

commit f8512782943d95a54b80690c41084dc4a0b1730d
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Wed Dec 21 00:26:56 2016 -0800

    Added needed section to deploy to maven central. Adding travis-settings to be able to publish to maven central (through oss.sonatype) on push to uber/hoodie master

 deploy/maven/sonatype-settings.xml |  28 ++++++++++++
 deploy/pubring.gpg.enc             | Bin 0 -> 1248 bytes
 deploy/scripts/publish.sh          |   8 ++++
 deploy/secring.gpg.enc             | Bin 0 -> 2624 bytes
 pom.xml                            |  88 +++++++++++++++++++++++++++++++++++++
 5 files changed, 124 insertions(+)

commit 715ccd912a53c1175587b8cb0952882e132ec6d6
Merge: e91cfe68 5d44ae3d
Author: prazanna <prasanna@uber.com>
Date:   Tue Dec 20 21:08:04 2016 -0800

    Merge pull request #5 from prazanna/master
    
    Added .travis.yml file

commit 5d44ae3dbd6418c4d1dece9e74d19891da1faf1f
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Dec 20 16:20:38 2016 -0800

    Make hoodie run on travis-ci
    
    Test logs > 4MB, which is a limit for travis-ci. Reducing the logs by setting appropriate log levels for tests
    Add sudo: required on travis.yml to get more memory for running the tests. (https://github.com/travis-ci/travis-ci/issues/5926)
    Fixed requirement that fsclient.lastDataFileForDataset always returns files in order

 .travis.yml                                        |  3 ++-
 .../hoodie/common/HoodieTestDataGenerator.java     |  8 -------
 ...{log4j.properties => log4j-surefire.properties} |  7 +++---
 .../src/test/resources/log4j-surefire.properties   | 25 +++++++++++++++++++++
 .../src/test/resources/log4j-surefire.properties   | 25 +++++++++++++++++++++
 .../uber/hoodie/hive/client/HoodieFSClient.java    |  4 +++-
 .../com/uber/hoodie/hive/HDroneDatasetTest.java    |  3 ++-
 .../src/test/resources/log4j-surefire.properties   | 26 ++++++++++++++++++++++
 pom.xml                                            | 14 ++++++++----
 9 files changed, 97 insertions(+), 18 deletions(-)

commit e91cfe68e722403893b9d7ba317d28fc817fdada
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Tue Dec 20 16:51:58 2016 -0800

    Update README.md

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d9cead53fefbc0c60962bcd52e3602bcf143d1b9
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Tue Dec 20 15:38:50 2016 -0800

    Added .travis.yml file

 .travis.yml | 1 +
 travis.yml  | 1 -
 2 files changed, 1 insertion(+), 1 deletion(-)

commit e26813acca443a0321e50c474d560506d929bdbc
Author: prazanna <prasanna@uber.com>
Date:   Tue Dec 20 15:12:39 2016 -0800

    Added .travis.yml file

 travis.yml | 1 +
 1 file changed, 1 insertion(+)

commit 6e87e79b01d6c6d8fc790403f5de5fbb50d40411
Merge: 2ad44819 388457b6
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Tue Dec 20 14:55:10 2016 -0800

    Merge pull request #4 from prazanna/master
    
    Add hoodie-hive module to support hive registration of hoodie datasets

commit 388457b6b28ccfb6b91c0f1b35e921ffc913e8e3
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Mon Dec 19 23:04:39 2016 -0800

    Add hoodie-hive module to support hive registration of hoodie datasets

 hoodie-hadoop-mr/pom.xml                           |  26 ++
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |   2 +-
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  |   2 +-
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  |   2 +-
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    |   2 +-
 hoodie-hive/pom.xml                                | 127 ++++++
 .../uber/hoodie/hive/HoodieHiveConfiguration.java  | 119 ++++++
 .../hoodie/hive/HoodieHiveDatasetException.java    |  40 ++
 .../hoodie/hive/HoodieHiveDatasetSyncTask.java     | 181 +++++++++
 .../uber/hoodie/hive/HoodieHiveSchemaSyncTask.java | 243 ++++++++++++
 .../com/uber/hoodie/hive/PartitionStrategy.java    |  56 +++
 .../java/com/uber/hoodie/hive/SchemaStrategy.java  |  31 ++
 .../uber/hoodie/hive/client/ColumnNameXLator.java  |  48 +++
 .../uber/hoodie/hive/client/HoodieFSClient.java    | 206 ++++++++++
 .../uber/hoodie/hive/client/HoodieHiveClient.java  | 365 +++++++++++++++++
 .../com/uber/hoodie/hive/client/SchemaUtil.java    | 436 +++++++++++++++++++++
 .../hoodie/hive/example/HoodieDatasetExample.java  |  56 +++
 .../hive/impl/DayBasedPartitionStrategy.java       |  78 ++++
 .../hive/impl/ParseSchemaFromDataStrategy.java     |  43 ++
 .../hoodie/hive/model/HoodieDatasetReference.java  |  79 ++++
 .../uber/hoodie/hive/model/SchemaDifference.java   | 108 +++++
 .../uber/hoodie/hive/model/StoragePartition.java   |  51 +++
 .../com/uber/hoodie/hive/model/TablePartition.java |  38 ++
 .../com/uber/hoodie/hive/DatasetSchemaTest.java    | 186 +++++++++
 .../com/uber/hoodie/hive/HDroneDatasetTest.java    |  98 +++++
 .../uber/hoodie/hive/util/CsvParquetWriter.java    |  44 +++
 .../com/uber/hoodie/hive/util/CsvWriteSupport.java |  94 +++++
 .../com/uber/hoodie/hive/util/HdfsTestService.java | 166 ++++++++
 .../com/uber/hoodie/hive/util/HiveTestService.java | 322 +++++++++++++++
 .../java/com/uber/hoodie/hive/util/TestUtil.java   | 199 ++++++++++
 .../hoodie/hive/util/ZookeeperTestService.java     | 241 ++++++++++++
 hoodie-hive/src/test/resources/nation.csv          |  25 ++
 hoodie-hive/src/test/resources/nation.schema       |   6 +
 hoodie-hive/src/test/resources/nation_evolved.csv  |  25 ++
 .../src/test/resources/nation_evolved.schema       |   7 +
 pom.xml                                            |  46 ++-
 36 files changed, 3793 insertions(+), 5 deletions(-)

commit 2ad44819777667910e3c31551e621fbe43b73b86
Merge: 41905b79 61200b12
Author: vinoth chandar <vinothchandar@users.noreply.github.com>
Date:   Mon Dec 19 13:12:29 2016 -0800

    Merge pull request #3 from prazanna/master
    
    Adding hoodie-hadoop-mr module to add HoodieInputFormat

commit 41905b7903b6886abf2b6d39c72e259180518d7f
Author: prazanna <prasanna@uber.com>
Date:   Mon Dec 19 13:01:37 2016 -0800

    Added contributing section

 README.md | 6 ++++++
 1 file changed, 6 insertions(+)

commit 61200b1207abdec60420771b0ae367a7c6466720
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Dec 16 19:29:53 2016 -0800

    Adding hoodie-hadoop-mr module to add HoodieInputFormat

 hoodie-hadoop-mr/pom.xml                           |  69 ++++++
 .../com/uber/hoodie/hadoop/HoodieHiveUtil.java     |  58 +++++
 .../com/uber/hoodie/hadoop/HoodieInputFormat.java  | 252 +++++++++++++++++++++
 .../uber/hoodie/hadoop/HoodieInputFormatTest.java  | 237 +++++++++++++++++++
 .../uber/hoodie/hadoop/InputFormatTestUtil.java    | 165 ++++++++++++++
 hoodie-hadoop-mr/src/test/resources/sample1.avro   |  17 ++
 pom.xml                                            |  14 +-
 7 files changed, 806 insertions(+), 6 deletions(-)

commit 8e80c8d2eae5eaf306e07d6d27f26b4070d1dd42
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Dec 16 14:43:39 2016 -0800

    Final cleanup before open-source

 hoodie-cli/pom.xml                                   | 10 ++++++++++
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java     |  2 --
 .../com/uber/hoodie/common/GenericHoodiePayload.java | 20 --------------------
 3 files changed, 10 insertions(+), 22 deletions(-)

commit 81874a84061fd7c5162b576fc1f60986e5cc7f2d
Author: Vinoth Chandar <vinoth@uber.com>
Date:   Fri Dec 16 14:34:42 2016 -0800

    Importing Hoodie Client from internal repo
    
    Abberved History:
    * 25c6991 Removed non-opensource modules
    * a62abf3 Removing email from pom.xml
    * 0931b68 Misspelt in the copyright
    * c1cac7d Preperation for OSS: Added License and rat plugin check. Also added meta information about the project in pom.xml
    * 16b07b3 Preparation of OSS - Remove hoodie specific URL from hoodie cli
    * fd3e0dd Small code cleanups
    * 8aa7e34 Adding a de-duplication command to CLI
    * b464842 Adding a de-duplication command to CLI
    * 59265b1 RegisterDataset should pass the right zkNodeName after the support for multiple databases added
    * b295f70 [maven-release-plugin] prepare for next development iteration
    * 1006e4b [maven-release-plugin] prepare release hoodie-0.2.4
    * 4c99437 Move to using hdrone release 0.7.4
    * 1891939 Auto tuning the buckets needed for plain inserts also  - Off by default for now  - Enhanced an existing unit test
    * b4563bd Change HoodieReadClient to use commit metadata for incremental pull
    * ee20183 Add full file path onto HoodieWriteStat  - This will become an issue later on for incremental processing use cases  - Tested with cli, that is able to read older HoodieCommitMetadata
    * 7dcd5d5 Address skew in cleaner work distribution
    * 8d7c15d Fixing bug around partial failures of rollback
    * d4ada1d Empty RDD should not throw java.lang.IllegalArgumentException: Positive number of slices required
    * 076bea9 Dont clean if there are no partitions to clean
    * c014f80 Minor changes to SQLStreamer
    * a96d4df Minor changes to SQLStreamer
    * bc289cc [maven-release-plugin] prepare for next development iteration
    * 4160107 [maven-release-plugin] prepare release hoodie-0.2.3
    * 409b07a [maven-release-plugin] prepare for next development iteration
    * 3d71514 [maven-release-plugin] prepare release hoodie-0.2.2
    * 4969d52 Fix test failures
    * ac62609 Implement Review Comments for: Parallelize cleaning and including cleaning time and commit archival time in commit time graphite reporting
    * cebe65a Parallelize cleaning and including cleaning time and commit archival time in commit time graphite reporting
    * 2e5b372 Migrating to CDH 5.7.2
    * 899ae12 Remove filtering of /tmp/hive/hive paths from HoodieInputFormat. This fixes Join with temporary tables with HoodieCombineHiveInputFormat
    * 69a68f6 Implement equals and hashCode for HoodieTableMetadata, its used in hash based structures
    * 12d29c6 Update hive staging url
    * 1c5c88a Copy filterExists to WriteClient
    * 76aee67 [maven-release-plugin] prepare for next development iteration
    * 1f0a715 [maven-release-plugin] prepare release hoodie-0.2.1
    * dbfd1d4 HoodieReadClient and HoodieWriteClient separation
    * c39a98b Revamped HoodieRecordPayload API that supports merging of old & new values during update
    * 79e5bbd Add a helper to configure SparkConf for SparkSQL on Hoodie tables
    * f56f423 [maven-release-plugin] prepare for next development iteration
    * 780fc44 [maven-release-plugin] prepare release hoodie-0.2
    * 1ea2238 Modifying the git utl
    * b0af8dc Depending on hdrone release version
    * 7753693 Removing a System.out.println which got in by mistake
    * 1f5b019 Adding HBase Config to HoodieClientConfig
    * 2fce97f Implement Review comments and merge into master
    * f389820 Bunch of API changes
    * 909a856 HoodieClientConfig split up and revamp
    * c2ad946 Fix TestHoodieClient to not double persist in testFilterExists
    * 3ab0da6 Fix breaking test
    * 2860542 CR feedback for small inserts turned to updates
    * 0dfce57 Small inserts are now turned into upserts
    * bb1a8b3 Add filterExist API for Hoodie Records
    * d983c24 Implement review comments
    * c0bd5d1 Implement HoodieClient.checkExists()
    * db078f6 Pick up HoodieTable based on hoodie.properties
    * ad023e9 Refactor upsert() using HoodieTable interface
    * ee9b9b3 Refactor upsert() using HoodieTable interface
    * 2d6fdc9 Adding a utility to generate the percentage of updates in commit
    * ea3ad58 Adding additional optimizations to remove similar queries from the perf test (using levenshtein distance)
    * 1e443a0 Add test case for the added support for SchemaEvolution during updates
    * 1cadcbb Add more logging
    * 6163dfe Parquet read of old file should have the right read schema specified
    * 29c746a Few fixes in ReduceByKey parallelism, HoodieInputFormat.filterFiles for non-hoodie paths and more logging in upsert schema issues
    * 5a33af6 Fixing an issue in HoodieReader, target temp directory not created
    * 09a5e8e Adding more logging in HoodieReader
    * 1474250 Adding more logging in HoodieReader
    * a3b0567 Make targetDb not required in HoodieReader
    * e9c08b9 Setting the inputformat as the CombineHiveInputFormat in the HoodieReader
    * 61c75d2 Hoodie Query Performance: Add Support for CombineHiveInputFormat and implement CombineFileInputFormat
    * 38c6e44 Improvements to Hoodie Reader
    * ac7398a Add totalWriteErrors to HoodieCommitMetadata
    * fc0536e Change archive location to be under .hoodie
    * e313294 Implement Hive Perf comparison for Hoodie and non-Hoodie datasets
    * 17cfe2a Fix bug in HoodieInputFormat, where it filters out files from archived commits
    * 30de990 Add note about showpartitions command to README
    * 8634ffb Add commits showpartitions command to show break down per partition
    * 324b24e Adding a CLI command to print file size stats
    * 56532ff T484792. Deterministically report metrics during shutdown
    * 3571768 Fixes to Hoodie Cleaner. Upgrade HDrone version. Changes to HoodieReader.
    * a02c97f Bumping  hdrone-api to 0.7.2
    * b29ce67 Bug in RegisterDataset dataset creation
    * 5a15a9a Fixing bug in cleaning up partial files
    * dbf6669 Comment out predicate pushdown test
    *   44ed4d1 Merge branch 'lazyitr-fixes-1'
    |\
    | * e913d3b Fixing bug in LazyInsertIterable
    | * 8a1fecd Wrapping upsert() inside HoodieUpsertException
    | * 39cfe39 Fixing bug in LazyInsertIterable  - Return a List<WriteStatus> to handle last record in itr, belonging to a separate file  - Remove insert() related code form UpsertMapFunction
    | * 00252e5 Making TestHoodieBloomIndex less flaky
    * | 6f2d417 Making TestHoodieBloomIndex less flaky
    * | 63ebbdc fs.mkdirs does not honor permission umask passed. Need to use the static method FileSystem.mkdirs for that.
    * | f49ef67 Adding more logging to Hoodie Reader
    * | 9f5a699 Fixing permission on the base intermediate folder created in HoodieReader
    |/
    * 70e501f Fixing the drop table before create table in HoodieReader
    * 120cda8 Hoodie tools jar should not require jars in the CDH classpath to be available. Needed for HoodieReader to run in Docker.
    * 60b59de Adding client configurations. Needed to run the HoodieReader in Docker (where CDH is not installed)
    * fece98d Merge conflicts w/ master
    * 64e58b0 Auto tuning parallelism in BloomIndex & Upsert()
    * 930199e Fixing skew in Index join when new partition paths dont exist yet
    * 9a3e511 Adding subpartitioning to scale join in HoodieBloomIndex
    * 57512a7 Changing sort key for IndexLookup to (filename, record) to split more evenly
    * 3ede14c Major changes to BloomIndex & Upsert DAG
    * 1c4071a Implement Dataset creation if a Hoodie dataset was not already registered
    * 944f007 Implement Review comments
    * 6a5b675 Implement Review Comments
    * bfde3a9 Implement review comments
    * d195ab3 Implementing Commit Archiving
    * 8af656b Exception refactor - part 2
    * 697a699 HoodieTableMetadata refactor and Exception refactor
    * 7804ca3 Adding HoodieAppendLog (fork of SequenceFile) & Initial Impl of HoodieCommitArchiveLog
    * 2db4931 Adjust partitionFileRDD parallelism to max(recordRDD partitions, total partitions)
    * 23405c5 Config name changes
    * 5e673ea Implementing more CLI commands
    * 918cfce Moving to 0.1.1-SNAPSHOT
    * afad497 Change the master branch to 0.2-SNAPSHOT
    * 832c1a7 Make sure the bloom filter reading and tagging has a parellel factor >= group by parallelism
    * 0a6a6d3 Prepare the v0.1 version
    * 72cfbe2 The snapshoter should also copy hoodie.properties file
    * 3b0ee45 Add one more metric
    * 488f1c7 Add switch for cleaning out inflight commits
    * a259b6f Adding textutils jar to hoodie build
    * 36e3118 Fix Hoodie CLI - ClassNotFound and added more logging to JDBC Incremental pull
    * 2c8f554 Fix Predicate pushdown during incremental pull
    * 888ec20 Add one more graphite metrics
    * a671dfc Ensure files picked for cleaning are part of some valid commit
    * ba5cd65 Adding cleaning based on last X commits
    * 7dc76d3 Organize config values by category
    * 9da6474 Move cleaning logic into HoodieCleaner class
    * 7becba9 Change the update metric name
    * d32b1f3 Fix some graphite issues
    * 365ee14 hot fix a stupid bug I made
    * 93eab43 Adding a hoodie.table.type value to hoodie.properties on init
    * 075c646 Add the database name to the sync
    * 3bae059 Adding HoodieKey as metadata field into Record
    * 61513fa Add stats and more cli commands
    * b0cb112 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * aaa1bf8 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * 3a3db73 New Hoodie CLI Framework. Implement CLI function parity with the current CLI
    * c413342 Fail the job if exception during writing old records
    * 7304d3d Exclude javax.servlet from hive-jdbc
    * 3d65b50 Add the datestr <> '0000-00-00' back to the incremental sql
    * 0577661 HoodieIncrementalConfig not used anymore
    * 5338004 Fixing multiple minor issues we found during the SQLStreamer demo preperation
    * 0744283 Fix the Hive server and Spark Hive client mismatch by setting userClassPathFirst=true and creating a assembly jar with all hadoop related dependencies excluded
    * c189dc0 Kickoff hdrone sync after SQLStreamer finishing committing to target hoodie dataset
    * 1eb8da0 Check if the .commit file is empty
    * f95386a Add support for rollbacking .inflight commit in Admin CLI
    * 97595ea Update the record count when upserting
    * 49139cd Remove table config and add _SUCCESS tag
    * 8500a48 Catch the exception when upserting
    *   10bcc19 Merge branch 'sqlload'
    |\
    | * 10fcc88 More log statements
    | *   ca6b71d Merge with master
    | |\
    | | *   b33db25 Merge remote-tracking branch 'origin/sqlload' into sqlload
    | | |\
    | | | * 8fca7c6 insert() takes a JavaRDD<HoodieRecord> again
    | | * | 63db8c6 Fix test breakage from javax.servlet pom dependency
    | | * | b2cff33 insert() takes a JavaRDD<HoodieRecord> again
    | | * | 0162930 Minor Fixes
    | | * | a0eb0b8 Minor Fixes
    | | * | 5853e7c Minor fixed to HoodieSQLStreamer
    | | * | 379bbed HoodieSQLStreamer improvements
    | | * | 22bf816 Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | | * | 4cacde6 Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | | * | 5f985f3 Refactor of AvroParquetIO and create proper abstraction for StorageWriter
    | | * | 6b90bb0 Refactor to introduce proper abstractions for RawTripPayload and implement HoodieSQLStreamer
    | | * | ff24ce8 Implementation of HoodieSQLStreamer
    | | * | abae08a Implementation of HoodieSQLStreamer
    | * | | c2d306d Fixes to HoodieSQLStreamer
    | | |/
    | |/|
    | * | 70bad72 Minor Fixes
    | * | 8da6abf Minor Fixes
    | * | 6b9d16b Minor fixed to HoodieSQLStreamer
    | * | f76f5b8 HoodieSQLStreamer improvements
    | * | 5f1425e Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | * | 616e2ee Remove setJsonPayload() and other non-generic calls from HoodieRecordPayload
    | * | 9e77ef9 Refactor of AvroParquetIO and create proper abstraction for StorageWriter
    | * | 14e4812 Refactor to introduce proper abstractions for RawTripPayload and implement HoodieSQLStreamer
    | * | 3b05f04 Implementation of HoodieSQLStreamer
    | * | 1484c34 Implementation of HoodieSQLStreamer
    * | | b3b9754 Standardize UTF-8 for getBytes() calls
    | |/
    |/|
    * | 8cde079 Add graphite metrics to HoodieClient
    * | b94afad Add testcase for the snapshot copy
    |/
    * 8567225 T417977. WriteStatus for failed records
    * 11d7cd2 Add code to deflate the HoodieRecord after writing it to storage
    * 9edafb4 Add a daily snapshot job
    * 2962bf6 Fix the last file non-closed issue
    * d995b6b SizeAwareParquetWriter will now have a fixed compression ratio
    * 6b5f67f HoodieWrapperFileSystem should initialize the underlying filesystem with default uri
    * 2a607c2 Merging conflicts with master
    * ac9852d Auto size parquet files to just under block size based on incoming records size
    * 3c4c0d0 Remove client code leaks & add parallelism config for sorting
    * 1e51e30 Add UpsertHandle
    * 685ca1f Add hoodie cli
    * ded7f6c CR feedback incorporated
    * d532089 Change the return type to a RDD
    * 22533c1 Fix bug in cleanup logic by using TaskContext.getPartitionId() in place of unitNumber
    * 86532fb Implement insert() using sorting, to align file sizes easily
    * 0967e1c Add hook to compare old record with new incoming record
    *   f48b048 Merge branch 'sort-based-dag'
    |\
    | * 3614cec Rename write() -> upsert() and load() -> insert()
    * | 65cf631 Parquet version mismatch in HoodieInputFormat
    * | 160303b Formatting change
    * | 2c079c8 Formatting change
    |/
    * e4eb658 Fix formatting
    * 025114a Add test for HoodieAvroWriteSupport
    * 6fd11ef Fix small bug in HoodieCommits & correct doc to reflect exclusivity of findCommitsInRange  - Added simple unit test
    * 05659c9 Add tests around HoodieClient apis
    * 8d3f73e Fix some small bugs
    * 7f1c4bc Modify HoodieInputFormatTest to make it certain that incremental pull is only pulling the required records
    * 2b73ba0 Remove direct versioning in pom
    * dd5695f Comment change
    * f62eef7 Unit test for predicate pushdown
    * 9941dad Fixing an issue which results in unsorted commits
    * 5e71506 Update README
    * 219e103 InputFormat unit tests
    * 8f1c7ba Enable cobertura coverage to be run with mvn test
    * 01f76e3 Call out self-join limitation in README
    * 4284a73 Defaulting to Google Java Style and reformatting existing code
    * de2cbda Making sure that incremental does not send duplicate records
    * f6a3833 Implement Review comments
    * 1de5025 Refactor in HoodieTableMetadata, HoodieInputFormat
    * 549ad9a Fixing broken test schemas
    * fbb2190 update the unit number
    * 9353ba9 Change the io number to 1 for old load data
    * e28f0cf Add commit metadata fields to create_table.sql
    * d06e93d Pull avroFn & dedupeFn into a single HoodieClientHooks class
    * b6d387f Changes to sequence_no/commit metadata addition
    * 212d237 Add some benchmark results to the code
    * 70d7715 Add commit rollback logic
    * 54a4d0f Use FSUtils helper to detemine fileId
    * 4b672ad Core classes refactoring
    * f705fab Move partitionPath back into HoodieKey
    * 39b3ff3 Cleanup Sample job & add a detailed quickstart
    * 981c6f7 fix the hoodie-query-meta pom
    * 371ab34 Publish hoodie to uber internal artifactory
    * b4e83bc improvement on the bloom index tag job
    * 779b502 Change to use hadoop's bloom filter
    * cfbd9e6 Add bloom filter indexing mechanism
    * f519c47 Initial Implementation of storing the client metadata for hoodie queries
    * d5eccea Initial Implementation of storing the client metadata for hoodie queries
    * ef34482 Pass on the HDrone configuration profile as an argument
    * 5578cd3 Implement initial incremental tailing support in InputFormat and provide a seperate module for Hdrone registration to be created as a oozie trigger
    * b08e5ff Merge branch 'master' into AddBloomFilterWriteSupport
    * 20b7e8e fix a typo
    * 4c39407 Quick fix for the HBASE indx duplicates records issue
    * 6dca38f Adding code to sync to hive using hdrone
    * 55a1d44 Fixes to InputFormat. Created a placeholder OutputFormat.
    * beda7ed Revise the globPartitions to avoid the bad partition paths
    * 5d889c0 Fix a wrong config
    * a60fbdf First version to add load function
    * 4b90944 Adding detailed metadata to each commit
    * 4a97a6c Changes to backfill script + enabling spark event log
    * ada2b79 Discard records without partition path & move parquet writer to snappy
    * 954c933 Adding backfill script  - Cleanups & additional cmd line options to job  - Changed iounit logic to special case 2010-2014 again
    * 8b5e288 Breaking apart backfill job & single run into two classes
    * ebdcbea Handle partial failures in update()
    * 4bf6ffe Fixing an issue where file name is not present
    * e468bff Fix couple of issues with Hbase indexing and commit ts checks
    * 17da30c Changing de-dupe implementation to be a Spark reduceByKey
    * 248c725 removed coalescing which was put in there for testing
    * 1b3f929 Implement compression when storing large json strings in memory
    * 5bada98 Changes to accomodate task failure handling, on top of cleaner
    * 66f895a Clean out files generated by previous failed attempts
    * 9cbe370 Implementing a rudimentary cleaner & avro conversion rewrite
    * 3606658 Adding configs for iounits & reduce parallelism
    * 066c2f5 Registering the Hoodie classes with Kryo
    * 342eed1 Implementing a rudimentary cleaner
    *   0d20d1d Merge branch 'trip-test-run'
    |\
    | * 6eafdbb Adding de-dupe step before writing/shuffling
    * | 34baba7 Packaging hadoop-common with the hadoop-mr InputFormat JAR
    |/
    * d5856db Merge HoodieInputFormat with existing code. Factor out common logic into hadoop-common. Tune the partitions, spark executors, parquet parameters to be able to run on a single day of input data
    * e8885ce Introduce IOUnit to split parallelize inserts
    * ab1977a Pushing in a real Spark job that works off real data
    * 0c86645 HoodirInputFormat with TestDataSimulator
    * 6af483c Initial checkin for HoodieInputFormat
    * 99c58f2 Implementing HBase backed index
    * 4177529 First major chunk of Hoodie Spark Client Impl
    * 29fad70 Benchmark bloom filter file read performance
    * 18f52a4 Checking in the simulation code, measuring cost of trip's file-level updates
    * 885f444 Adding basic datastructures for Client, key & record.
    * 72e7b4d Initial commit

 .gitignore                                         |  70 +++
 LICENSE.txt                                        | 614 +++++++++++++++++++
 README.md                                          | 205 +++++++
 hoodie-cli/pom.xml                                 |  10 -
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |   2 +-
 hoodie-client/pom.xml                              | 142 +++++
 .../java/com/uber/hoodie/HoodieReadClient.java     | 299 +++++++++
 .../java/com/uber/hoodie/HoodieWriteClient.java    | 556 +++++++++++++++++
 .../src/main/java/com/uber/hoodie/WriteStatus.java | 133 ++++
 .../uber/hoodie/config/DefaultHoodieConfig.java    |  49 ++
 .../uber/hoodie/config/HoodieCompactionConfig.java | 175 ++++++
 .../com/uber/hoodie/config/HoodieIndexConfig.java  | 107 ++++
 .../uber/hoodie/config/HoodieMetricsConfig.java    | 112 ++++
 .../uber/hoodie/config/HoodieStorageConfig.java    |  85 +++
 .../com/uber/hoodie/config/HoodieWriteConfig.java  | 308 ++++++++++
 .../hoodie/exception/HoodieCommitException.java    |  32 +
 .../HoodieDependentSystemUnavailableException.java |  35 ++
 .../hoodie/exception/HoodieInsertException.java    |  30 +
 .../hoodie/exception/HoodieRollbackException.java  |  28 +
 .../hoodie/exception/HoodieUpsertException.java    |  32 +
 .../com/uber/hoodie/func/InsertMapFunction.java    |  52 ++
 .../com/uber/hoodie/func/LazyInsertIterable.java   | 114 ++++
 .../com/uber/hoodie/func/LazyIterableIterator.java | 128 ++++
 .../java/com/uber/hoodie/index/HBaseIndex.java     | 229 +++++++
 .../com/uber/hoodie/index/HoodieBloomIndex.java    | 422 +++++++++++++
 .../index/HoodieBloomIndexCheckFunction.java       | 193 ++++++
 .../java/com/uber/hoodie/index/HoodieIndex.java    | 101 +++
 .../com/uber/hoodie/index/InMemoryHashIndex.java   | 109 ++++
 .../com/uber/hoodie/index/IndexLookupResult.java   |  43 ++
 .../java/com/uber/hoodie/io/HoodieCleaner.java     | 224 +++++++
 .../com/uber/hoodie/io/HoodieCommitArchiveLog.java | 144 +++++
 .../java/com/uber/hoodie/io/HoodieIOHandle.java    |  92 +++
 .../com/uber/hoodie/io/HoodieInsertHandle.java     | 125 ++++
 .../com/uber/hoodie/io/HoodieUpdateHandle.java     | 193 ++++++
 .../hoodie/io/storage/HoodieParquetConfig.java     |  66 ++
 .../hoodie/io/storage/HoodieParquetWriter.java     | 107 ++++
 .../hoodie/io/storage/HoodieStorageWriter.java     |  29 +
 .../io/storage/HoodieStorageWriterFactory.java     |  56 ++
 .../hoodie/io/storage/HoodieWrapperFileSystem.java | 677 +++++++++++++++++++++
 .../io/storage/SizeAwareFSDataOutputStream.java    |  59 ++
 .../com/uber/hoodie/metrics/HoodieMetrics.java     | 148 +++++
 .../hoodie/metrics/InMemoryMetricsReporter.java    |  37 ++
 .../main/java/com/uber/hoodie/metrics/Metrics.java |  87 +++
 .../hoodie/metrics/MetricsGraphiteReporter.java    |  95 +++
 .../com/uber/hoodie/metrics/MetricsReporter.java   |  36 ++
 .../hoodie/metrics/MetricsReporterFactory.java     |  48 ++
 .../uber/hoodie/metrics/MetricsReporterType.java   |  26 +
 .../uber/hoodie/table/HoodieCopyOnWriteTable.java  | 451 ++++++++++++++
 .../java/com/uber/hoodie/table/HoodieTable.java    |  98 +++
 .../com/uber/hoodie/table/WorkloadProfile.java     | 115 ++++
 .../java/com/uber/hoodie/table/WorkloadStat.java   |  67 ++
 hoodie-client/src/main/resources/log4j.properties  |  23 +
 .../src/test/java/HoodieClientExample.java         |  81 +++
 .../java/com/uber/hoodie/TestHoodieClient.java     | 634 +++++++++++++++++++
 .../uber/hoodie/common/HoodieClientTestUtils.java  |  81 +++
 .../hoodie/common/HoodieTestDataGenerator.java     | 169 +++++
 .../com/uber/hoodie/common/TestRawTripPayload.java | 107 ++++
 .../uber/hoodie/func/TestUpdateMapFunction.java    | 119 ++++
 .../uber/hoodie/index/TestHoodieBloomIndex.java    | 439 +++++++++++++
 .../com/uber/hoodie/index/TestHoodieIndex.java     |  44 ++
 .../java/com/uber/hoodie/io/TestHoodieCleaner.java | 175 ++++++
 .../uber/hoodie/io/TestHoodieCommitArchiveLog.java | 164 +++++
 .../com/uber/hoodie/metrics/TestHoodieMetrics.java |  45 ++
 .../uber/hoodie/table/TestCopyOnWriteTable.java    | 431 +++++++++++++
 .../src/test/resources/exampleEvolvedSchema.txt    |  23 +
 hoodie-client/src/test/resources/exampleSchema.txt |  19 +
 hoodie-client/src/test/resources/log4j.properties  |  23 +
 .../uber/hoodie/common/GenericHoodiePayload.java   | 108 ++++
 pom.xml                                            | 395 ++++++++++++
 69 files changed, 10464 insertions(+), 11 deletions(-)

commit 0512da094bad2f3bcd2ddddc29e8abfec175dcfe
Author: Prasanna Rajaperumal <prasanna@uber.com>
Date:   Fri Dec 16 14:03:59 2016 -0800

    Import from Hoodie private repo: Part 1

 hoodie-cli/hoodie-cli.sh                           |    4 +
 .../dnl/utils/textutils/0.3.3/textutils-0.3.3.jar  |  Bin 0 -> 18856 bytes
 hoodie-cli/pom.xml                                 |  208 ++
 .../main/java/com/uber/hoodie/cli/HoodieCLI.java   |   54 +
 .../hoodie/cli/HoodieHistoryFileNameProvider.java  |   37 +
 .../com/uber/hoodie/cli/HoodiePrintHelper.java     |   34 +
 .../java/com/uber/hoodie/cli/HoodiePrompt.java     |   49 +
 .../com/uber/hoodie/cli/HoodieSplashScreen.java    |   55 +
 .../src/main/java/com/uber/hoodie/cli/Main.java    |   33 +
 .../uber/hoodie/cli/commands/CommitsCommand.java   |  244 ++
 .../uber/hoodie/cli/commands/DatasetsCommand.java  |   42 +
 .../hoodie/cli/commands/HoodieSyncCommand.java     |  106 +
 .../uber/hoodie/cli/commands/RecordsCommand.java   |   78 +
 .../com/uber/hoodie/cli/commands/SparkMain.java    |   94 +
 .../com/uber/hoodie/cli/commands/StatsCommand.java |  136 +
 .../com/uber/hoodie/cli/commands/UtilsCommand.java |   34 +
 .../java/com/uber/hoodie/cli/utils/CommitUtil.java |   38 +
 .../java/com/uber/hoodie/cli/utils/HiveUtil.java   |  125 +
 .../uber/hoodie/cli/utils/InputStreamConsumer.java |   56 +
 .../java/com/uber/hoodie/cli/utils/SparkUtil.java  |   75 +
 .../META-INF/spring/spring-shell-plugin.xml        |   26 +
 .../scala/com/uber/hoodie/cli/DedupeSparkJob.scala |  179 +
 .../scala/com/uber/hoodie/cli/SparkHelpers.scala   |  141 +
 hoodie-common/pom.xml                              |   94 +
 .../uber/hoodie/avro/HoodieAvroWriteSupport.java   |   54 +
 .../uber/hoodie/avro/MercifulJsonConverter.java    |  166 +
 .../java/com/uber/hoodie/common/BloomFilter.java   |  100 +
 .../uber/hoodie/common/file/HoodieAppendLog.java   | 3826 ++++++++++++++++++++
 .../hoodie/common/model/HoodieCommitMetadata.java  |  190 +
 .../uber/hoodie/common/model/HoodieCommits.java    |  191 +
 .../com/uber/hoodie/common/model/HoodieFile.java   |   57 +
 .../com/uber/hoodie/common/model/HoodieKey.java    |   73 +
 .../com/uber/hoodie/common/model/HoodieRecord.java |  153 +
 .../hoodie/common/model/HoodieRecordLocation.java  |   69 +
 .../hoodie/common/model/HoodieRecordPayload.java   |   57 +
 .../hoodie/common/model/HoodieTableMetadata.java   |  480 +++
 .../uber/hoodie/common/model/HoodieTableType.java  |   35 +
 .../uber/hoodie/common/model/HoodieWriteStat.java  |  158 +
 .../java/com/uber/hoodie/common/util/FSUtils.java  |  117 +
 .../uber/hoodie/common/util/HoodieAvroUtils.java   |  140 +
 .../com/uber/hoodie/common/util/NumericUtils.java  |   26 +
 .../com/uber/hoodie/common/util/ParquetUtils.java  |  138 +
 .../uber/hoodie/common/util/ReflectionUtils.java   |   43 +
 .../hoodie/exception/DatasetNotFoundException.java |   32 +
 .../com/uber/hoodie/exception/HoodieException.java |   55 +
 .../uber/hoodie/exception/HoodieIOException.java   |   37 +
 .../hoodie/exception/HoodieIndexException.java     |   34 +
 .../exception/HoodieRecordMissingException.java    |   35 +
 .../hoodie/exception/InvalidDatasetException.java  |   32 +
 .../com/uber/hoodie/common/TestBloomFilter.java    |   45 +
 .../uber/hoodie/common/model/HoodieTestUtils.java  |   96 +
 .../hoodie/common/model/TestHoodieCommits.java     |   48 +
 .../common/model/TestHoodieTableMetadata.java      |  242 ++
 .../com/uber/hoodie/common/util/TestFSUtils.java   |   70 +
 .../uber/hoodie/common/util/TestNumericUtils.java  |   35 +
 .../uber/hoodie/common/util/TestParquetUtils.java  |   92 +
 56 files changed, 8868 insertions(+)

